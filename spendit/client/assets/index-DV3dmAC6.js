(function(){const z=document.createElement("link").relList;if(z&&z.supports&&z.supports("modulepreload"))return;for(const Le of document.querySelectorAll('link[rel="modulepreload"]'))de(Le);new MutationObserver(Le=>{for(const We of Le)if(We.type==="childList")for(const H of We.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&de(H)}).observe(document,{childList:!0,subtree:!0});function Q(Le){const We={};return Le.integrity&&(We.integrity=Le.integrity),Le.referrerPolicy&&(We.referrerPolicy=Le.referrerPolicy),Le.crossOrigin==="use-credentials"?We.credentials="include":Le.crossOrigin==="anonymous"?We.credentials="omit":We.credentials="same-origin",We}function de(Le){if(Le.ep)return;Le.ep=!0;const We=Q(Le);fetch(Le.href,We)}})();var Nu="top",ec="bottom",tc="right",Bu="left",u1="auto",c0=[Nu,ec,tc,Bu],Kd="start",$p="end",CA="clippingParents",Cw="viewport",Op="popper",LA="reference",B3=c0.reduce(function(G,z){return G.concat([z+"-"+Kd,z+"-"+$p])},[]),Lw=[].concat(c0,[u1]).reduce(function(G,z){return G.concat([z,z+"-"+Kd,z+"-"+$p])},[]),_A="beforeRead",PA="read",RA="afterRead",DA="beforeMain",IA="main",kA="afterMain",OA="beforeWrite",zA="write",FA="afterWrite",NA=[_A,PA,RA,DA,IA,kA,OA,zA,FA];function Nh(G){return G?(G.nodeName||"").toLowerCase():null}function rc(G){if(G==null)return window;if(G.toString()!=="[object Window]"){var z=G.ownerDocument;return z&&z.defaultView||window}return G}function Jd(G){var z=rc(G).Element;return G instanceof z||G instanceof Element}function Cc(G){var z=rc(G).HTMLElement;return G instanceof z||G instanceof HTMLElement}function _w(G){if(typeof ShadowRoot>"u")return!1;var z=rc(G).ShadowRoot;return G instanceof z||G instanceof ShadowRoot}function MS(G){var z=G.state;Object.keys(z.elements).forEach(function(Q){var de=z.styles[Q]||{},Le=z.attributes[Q]||{},We=z.elements[Q];!Cc(We)||!Nh(We)||(Object.assign(We.style,de),Object.keys(Le).forEach(function(H){var U=Le[H];U===!1?We.removeAttribute(H):We.setAttribute(H,U===!0?"":U)}))})}function SS(G){var z=G.state,Q={popper:{position:z.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(z.elements.popper.style,Q.popper),z.styles=Q,z.elements.arrow&&Object.assign(z.elements.arrow.style,Q.arrow),function(){Object.keys(z.elements).forEach(function(de){var Le=z.elements[de],We=z.attributes[de]||{},H=Object.keys(z.styles.hasOwnProperty(de)?z.styles[de]:Q[de]),U=H.reduce(function(e,d){return e[d]="",e},{});!Cc(Le)||!Nh(Le)||(Object.assign(Le.style,U),Object.keys(We).forEach(function(e){Le.removeAttribute(e)}))})}}const Pw={name:"applyStyles",enabled:!0,phase:"write",fn:MS,effect:SS,requires:["computeStyles"]};function zh(G){return G.split("-")[0]}var Yd=Math.max,Um=Math.min,Qp=Math.round;function U3(){var G=navigator.userAgentData;return G!=null&&G.brands&&Array.isArray(G.brands)?G.brands.map(function(z){return z.brand+"/"+z.version}).join(" "):navigator.userAgent}function BA(){return!/^((?!chrome|android).)*safari/i.test(U3())}function qp(G,z,Q){z===void 0&&(z=!1),Q===void 0&&(Q=!1);var de=G.getBoundingClientRect(),Le=1,We=1;z&&Cc(G)&&(Le=G.offsetWidth>0&&Qp(de.width)/G.offsetWidth||1,We=G.offsetHeight>0&&Qp(de.height)/G.offsetHeight||1);var H=Jd(G)?rc(G):window,U=H.visualViewport,e=!BA()&&Q,d=(de.left+(e&&U?U.offsetLeft:0))/Le,C=(de.top+(e&&U?U.offsetTop:0))/We,n=de.width/Le,L=de.height/We;return{width:n,height:L,top:C,right:d+n,bottom:C+L,left:d,x:d,y:C}}function Rw(G){var z=qp(G),Q=G.offsetWidth,de=G.offsetHeight;return Math.abs(z.width-Q)<=1&&(Q=z.width),Math.abs(z.height-de)<=1&&(de=z.height),{x:G.offsetLeft,y:G.offsetTop,width:Q,height:de}}function UA(G,z){var Q=z.getRootNode&&z.getRootNode();if(G.contains(z))return!0;if(Q&&_w(Q)){var de=z;do{if(de&&G.isSameNode(de))return!0;de=de.parentNode||de.host}while(de)}return!1}function iv(G){return rc(G).getComputedStyle(G)}function ES(G){return["table","td","th"].indexOf(Nh(G))>=0}function ud(G){return((Jd(G)?G.ownerDocument:G.document)||window.document).documentElement}function f1(G){return Nh(G)==="html"?G:G.assignedSlot||G.parentNode||(_w(G)?G.host:null)||ud(G)}function V2(G){return!Cc(G)||iv(G).position==="fixed"?null:G.offsetParent}function CS(G){var z=/firefox/i.test(U3()),Q=/Trident/i.test(U3());if(Q&&Cc(G)){var de=iv(G);if(de.position==="fixed")return null}var Le=f1(G);for(_w(Le)&&(Le=Le.host);Cc(Le)&&["html","body"].indexOf(Nh(Le))<0;){var We=iv(Le);if(We.transform!=="none"||We.perspective!=="none"||We.contain==="paint"||["transform","perspective"].indexOf(We.willChange)!==-1||z&&We.willChange==="filter"||z&&We.filter&&We.filter!=="none")return Le;Le=Le.parentNode}return null}function Bg(G){for(var z=rc(G),Q=V2(G);Q&&ES(Q)&&iv(Q).position==="static";)Q=V2(Q);return Q&&(Nh(Q)==="html"||Nh(Q)==="body"&&iv(Q).position==="static")?z:Q||CS(G)||z}function Dw(G){return["top","bottom"].indexOf(G)>=0?"x":"y"}function cg(G,z,Q){return Yd(G,Um(z,Q))}function LS(G,z,Q){var de=cg(G,z,Q);return de>Q?Q:de}function VA(){return{top:0,right:0,bottom:0,left:0}}function HA(G){return Object.assign({},VA(),G)}function GA(G,z){return z.reduce(function(Q,de){return Q[de]=G,Q},{})}var _S=function(z,Q){return z=typeof z=="function"?z(Object.assign({},Q.rects,{placement:Q.placement})):z,HA(typeof z!="number"?z:GA(z,c0))};function PS(G){var z,Q=G.state,de=G.name,Le=G.options,We=Q.elements.arrow,H=Q.modifiersData.popperOffsets,U=zh(Q.placement),e=Dw(U),d=[Bu,tc].indexOf(U)>=0,C=d?"height":"width";if(!(!We||!H)){var n=_S(Le.padding,Q),L=Rw(We),w=e==="y"?Nu:Bu,v=e==="y"?ec:tc,g=Q.rects.reference[C]+Q.rects.reference[e]-H[e]-Q.rects.popper[C],r=H[e]-Q.rects.reference[e],t=Bg(We),i=t?e==="y"?t.clientHeight||0:t.clientWidth||0:0,a=g/2-r/2,u=n[w],f=i-L[C]-n[v],l=i/2-L[C]/2+a,m=cg(u,l,f),h=e;Q.modifiersData[de]=(z={},z[h]=m,z.centerOffset=m-l,z)}}function RS(G){var z=G.state,Q=G.options,de=Q.element,Le=de===void 0?"[data-popper-arrow]":de;Le!=null&&(typeof Le=="string"&&(Le=z.elements.popper.querySelector(Le),!Le)||UA(z.elements.popper,Le)&&(z.elements.arrow=Le))}const WA={name:"arrow",enabled:!0,phase:"main",fn:PS,effect:RS,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function e0(G){return G.split("-")[1]}var DS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IS(G,z){var Q=G.x,de=G.y,Le=z.devicePixelRatio||1;return{x:Qp(Q*Le)/Le||0,y:Qp(de*Le)/Le||0}}function H2(G){var z,Q=G.popper,de=G.popperRect,Le=G.placement,We=G.variation,H=G.offsets,U=G.position,e=G.gpuAcceleration,d=G.adaptive,C=G.roundOffsets,n=G.isFixed,L=H.x,w=L===void 0?0:L,v=H.y,g=v===void 0?0:v,r=typeof C=="function"?C({x:w,y:g}):{x:w,y:g};w=r.x,g=r.y;var t=H.hasOwnProperty("x"),i=H.hasOwnProperty("y"),a=Bu,u=Nu,f=window;if(d){var l=Bg(Q),m="clientHeight",h="clientWidth";if(l===rc(Q)&&(l=ud(Q),iv(l).position!=="static"&&U==="absolute"&&(m="scrollHeight",h="scrollWidth")),l=l,Le===Nu||(Le===Bu||Le===tc)&&We===$p){u=ec;var T=n&&l===f&&f.visualViewport?f.visualViewport.height:l[m];g-=T-de.height,g*=e?1:-1}if(Le===Bu||(Le===Nu||Le===ec)&&We===$p){a=tc;var c=n&&l===f&&f.visualViewport?f.visualViewport.width:l[h];w-=c-de.width,w*=e?1:-1}}var o=Object.assign({position:U},d&&DS),p=C===!0?IS({x:w,y:g},rc(Q)):{x:w,y:g};if(w=p.x,g=p.y,e){var x;return Object.assign({},o,(x={},x[u]=i?"0":"",x[a]=t?"0":"",x.transform=(f.devicePixelRatio||1)<=1?"translate("+w+"px, "+g+"px)":"translate3d("+w+"px, "+g+"px, 0)",x))}return Object.assign({},o,(z={},z[u]=i?g+"px":"",z[a]=t?w+"px":"",z.transform="",z))}function kS(G){var z=G.state,Q=G.options,de=Q.gpuAcceleration,Le=de===void 0?!0:de,We=Q.adaptive,H=We===void 0?!0:We,U=Q.roundOffsets,e=U===void 0?!0:U,d={placement:zh(z.placement),variation:e0(z.placement),popper:z.elements.popper,popperRect:z.rects.popper,gpuAcceleration:Le,isFixed:z.options.strategy==="fixed"};z.modifiersData.popperOffsets!=null&&(z.styles.popper=Object.assign({},z.styles.popper,H2(Object.assign({},d,{offsets:z.modifiersData.popperOffsets,position:z.options.strategy,adaptive:H,roundOffsets:e})))),z.modifiersData.arrow!=null&&(z.styles.arrow=Object.assign({},z.styles.arrow,H2(Object.assign({},d,{offsets:z.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:e})))),z.attributes.popper=Object.assign({},z.attributes.popper,{"data-popper-placement":z.placement})}const Iw={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:kS,data:{}};var qy={passive:!0};function OS(G){var z=G.state,Q=G.instance,de=G.options,Le=de.scroll,We=Le===void 0?!0:Le,H=de.resize,U=H===void 0?!0:H,e=rc(z.elements.popper),d=[].concat(z.scrollParents.reference,z.scrollParents.popper);return We&&d.forEach(function(C){C.addEventListener("scroll",Q.update,qy)}),U&&e.addEventListener("resize",Q.update,qy),function(){We&&d.forEach(function(C){C.removeEventListener("scroll",Q.update,qy)}),U&&e.removeEventListener("resize",Q.update,qy)}}const kw={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:OS,data:{}};var zS={left:"right",right:"left",bottom:"top",top:"bottom"};function Lm(G){return G.replace(/left|right|bottom|top/g,function(z){return zS[z]})}var FS={start:"end",end:"start"};function G2(G){return G.replace(/start|end/g,function(z){return FS[z]})}function Ow(G){var z=rc(G),Q=z.pageXOffset,de=z.pageYOffset;return{scrollLeft:Q,scrollTop:de}}function zw(G){return qp(ud(G)).left+Ow(G).scrollLeft}function NS(G,z){var Q=rc(G),de=ud(G),Le=Q.visualViewport,We=de.clientWidth,H=de.clientHeight,U=0,e=0;if(Le){We=Le.width,H=Le.height;var d=BA();(d||!d&&z==="fixed")&&(U=Le.offsetLeft,e=Le.offsetTop)}return{width:We,height:H,x:U+zw(G),y:e}}function BS(G){var z,Q=ud(G),de=Ow(G),Le=(z=G.ownerDocument)==null?void 0:z.body,We=Yd(Q.scrollWidth,Q.clientWidth,Le?Le.scrollWidth:0,Le?Le.clientWidth:0),H=Yd(Q.scrollHeight,Q.clientHeight,Le?Le.scrollHeight:0,Le?Le.clientHeight:0),U=-de.scrollLeft+zw(G),e=-de.scrollTop;return iv(Le||Q).direction==="rtl"&&(U+=Yd(Q.clientWidth,Le?Le.clientWidth:0)-We),{width:We,height:H,x:U,y:e}}function Fw(G){var z=iv(G),Q=z.overflow,de=z.overflowX,Le=z.overflowY;return/auto|scroll|overlay|hidden/.test(Q+Le+de)}function YA(G){return["html","body","#document"].indexOf(Nh(G))>=0?G.ownerDocument.body:Cc(G)&&Fw(G)?G:YA(f1(G))}function hg(G,z){var Q;z===void 0&&(z=[]);var de=YA(G),Le=de===((Q=G.ownerDocument)==null?void 0:Q.body),We=rc(de),H=Le?[We].concat(We.visualViewport||[],Fw(de)?de:[]):de,U=z.concat(H);return Le?U:U.concat(hg(f1(H)))}function V3(G){return Object.assign({},G,{left:G.x,top:G.y,right:G.x+G.width,bottom:G.y+G.height})}function US(G,z){var Q=qp(G,!1,z==="fixed");return Q.top=Q.top+G.clientTop,Q.left=Q.left+G.clientLeft,Q.bottom=Q.top+G.clientHeight,Q.right=Q.left+G.clientWidth,Q.width=G.clientWidth,Q.height=G.clientHeight,Q.x=Q.left,Q.y=Q.top,Q}function W2(G,z,Q){return z===Cw?V3(NS(G,Q)):Jd(z)?US(z,Q):V3(BS(ud(G)))}function VS(G){var z=hg(f1(G)),Q=["absolute","fixed"].indexOf(iv(G).position)>=0,de=Q&&Cc(G)?Bg(G):G;return Jd(de)?z.filter(function(Le){return Jd(Le)&&UA(Le,de)&&Nh(Le)!=="body"}):[]}function HS(G,z,Q,de){var Le=z==="clippingParents"?VS(G):[].concat(z),We=[].concat(Le,[Q]),H=We[0],U=We.reduce(function(e,d){var C=W2(G,d,de);return e.top=Yd(C.top,e.top),e.right=Um(C.right,e.right),e.bottom=Um(C.bottom,e.bottom),e.left=Yd(C.left,e.left),e},W2(G,H,de));return U.width=U.right-U.left,U.height=U.bottom-U.top,U.x=U.left,U.y=U.top,U}function XA(G){var z=G.reference,Q=G.element,de=G.placement,Le=de?zh(de):null,We=de?e0(de):null,H=z.x+z.width/2-Q.width/2,U=z.y+z.height/2-Q.height/2,e;switch(Le){case Nu:e={x:H,y:z.y-Q.height};break;case ec:e={x:H,y:z.y+z.height};break;case tc:e={x:z.x+z.width,y:U};break;case Bu:e={x:z.x-Q.width,y:U};break;default:e={x:z.x,y:z.y}}var d=Le?Dw(Le):null;if(d!=null){var C=d==="y"?"height":"width";switch(We){case Kd:e[d]=e[d]-(z[C]/2-Q[C]/2);break;case $p:e[d]=e[d]+(z[C]/2-Q[C]/2);break}}return e}function t0(G,z){z===void 0&&(z={});var Q=z,de=Q.placement,Le=de===void 0?G.placement:de,We=Q.strategy,H=We===void 0?G.strategy:We,U=Q.boundary,e=U===void 0?CA:U,d=Q.rootBoundary,C=d===void 0?Cw:d,n=Q.elementContext,L=n===void 0?Op:n,w=Q.altBoundary,v=w===void 0?!1:w,g=Q.padding,r=g===void 0?0:g,t=HA(typeof r!="number"?r:GA(r,c0)),i=L===Op?LA:Op,a=G.rects.popper,u=G.elements[v?i:L],f=HS(Jd(u)?u:u.contextElement||ud(G.elements.popper),e,C,H),l=qp(G.elements.reference),m=XA({reference:l,element:a,strategy:"absolute",placement:Le}),h=V3(Object.assign({},a,m)),T=L===Op?h:l,c={top:f.top-T.top+t.top,bottom:T.bottom-f.bottom+t.bottom,left:f.left-T.left+t.left,right:T.right-f.right+t.right},o=G.modifiersData.offset;if(L===Op&&o){var p=o[Le];Object.keys(c).forEach(function(x){var A=[tc,ec].indexOf(x)>=0?1:-1,_=[Nu,ec].indexOf(x)>=0?"y":"x";c[x]+=p[_]*A})}return c}function GS(G,z){z===void 0&&(z={});var Q=z,de=Q.placement,Le=Q.boundary,We=Q.rootBoundary,H=Q.padding,U=Q.flipVariations,e=Q.allowedAutoPlacements,d=e===void 0?Lw:e,C=e0(de),n=C?U?B3:B3.filter(function(v){return e0(v)===C}):c0,L=n.filter(function(v){return d.indexOf(v)>=0});L.length===0&&(L=n);var w=L.reduce(function(v,g){return v[g]=t0(G,{placement:g,boundary:Le,rootBoundary:We,padding:H})[zh(g)],v},{});return Object.keys(w).sort(function(v,g){return w[v]-w[g]})}function WS(G){if(zh(G)===u1)return[];var z=Lm(G);return[G2(G),z,G2(z)]}function YS(G){var z=G.state,Q=G.options,de=G.name;if(!z.modifiersData[de]._skip){for(var Le=Q.mainAxis,We=Le===void 0?!0:Le,H=Q.altAxis,U=H===void 0?!0:H,e=Q.fallbackPlacements,d=Q.padding,C=Q.boundary,n=Q.rootBoundary,L=Q.altBoundary,w=Q.flipVariations,v=w===void 0?!0:w,g=Q.allowedAutoPlacements,r=z.options.placement,t=zh(r),i=t===r,a=e||(i||!v?[Lm(r)]:WS(r)),u=[r].concat(a).reduce(function(B,k){return B.concat(zh(k)===u1?GS(z,{placement:k,boundary:C,rootBoundary:n,padding:d,flipVariations:v,allowedAutoPlacements:g}):k)},[]),f=z.rects.reference,l=z.rects.popper,m=new Map,h=!0,T=u[0],c=0;c<u.length;c++){var o=u[c],p=zh(o),x=e0(o)===Kd,A=[Nu,ec].indexOf(p)>=0,_=A?"width":"height",y=t0(z,{placement:o,boundary:C,rootBoundary:n,altBoundary:L,padding:d}),E=A?x?tc:Bu:x?ec:Nu;f[_]>l[_]&&(E=Lm(E));var M=Lm(E),s=[];if(We&&s.push(y[p]<=0),U&&s.push(y[E]<=0,y[M]<=0),s.every(function(B){return B})){T=o,h=!1;break}m.set(o,s)}if(h)for(var S=v?3:1,b=function(k){var F=u.find(function(N){var O=m.get(N);if(O)return O.slice(0,k).every(function(V){return V})});if(F)return T=F,"break"},I=S;I>0;I--){var D=b(I);if(D==="break")break}z.placement!==T&&(z.modifiersData[de]._skip=!0,z.placement=T,z.reset=!0)}}const ZA={name:"flip",enabled:!0,phase:"main",fn:YS,requiresIfExists:["offset"],data:{_skip:!1}};function Y2(G,z,Q){return Q===void 0&&(Q={x:0,y:0}),{top:G.top-z.height-Q.y,right:G.right-z.width+Q.x,bottom:G.bottom-z.height+Q.y,left:G.left-z.width-Q.x}}function X2(G){return[Nu,tc,ec,Bu].some(function(z){return G[z]>=0})}function XS(G){var z=G.state,Q=G.name,de=z.rects.reference,Le=z.rects.popper,We=z.modifiersData.preventOverflow,H=t0(z,{elementContext:"reference"}),U=t0(z,{altBoundary:!0}),e=Y2(H,de),d=Y2(U,Le,We),C=X2(e),n=X2(d);z.modifiersData[Q]={referenceClippingOffsets:e,popperEscapeOffsets:d,isReferenceHidden:C,hasPopperEscaped:n},z.attributes.popper=Object.assign({},z.attributes.popper,{"data-popper-reference-hidden":C,"data-popper-escaped":n})}const jA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:XS};function ZS(G,z,Q){var de=zh(G),Le=[Bu,Nu].indexOf(de)>=0?-1:1,We=typeof Q=="function"?Q(Object.assign({},z,{placement:G})):Q,H=We[0],U=We[1];return H=H||0,U=(U||0)*Le,[Bu,tc].indexOf(de)>=0?{x:U,y:H}:{x:H,y:U}}function jS(G){var z=G.state,Q=G.options,de=G.name,Le=Q.offset,We=Le===void 0?[0,0]:Le,H=Lw.reduce(function(C,n){return C[n]=ZS(n,z.rects,We),C},{}),U=H[z.placement],e=U.x,d=U.y;z.modifiersData.popperOffsets!=null&&(z.modifiersData.popperOffsets.x+=e,z.modifiersData.popperOffsets.y+=d),z.modifiersData[de]=H}const KA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jS};function KS(G){var z=G.state,Q=G.name;z.modifiersData[Q]=XA({reference:z.rects.reference,element:z.rects.popper,strategy:"absolute",placement:z.placement})}const Nw={name:"popperOffsets",enabled:!0,phase:"read",fn:KS,data:{}};function JS(G){return G==="x"?"y":"x"}function $S(G){var z=G.state,Q=G.options,de=G.name,Le=Q.mainAxis,We=Le===void 0?!0:Le,H=Q.altAxis,U=H===void 0?!1:H,e=Q.boundary,d=Q.rootBoundary,C=Q.altBoundary,n=Q.padding,L=Q.tether,w=L===void 0?!0:L,v=Q.tetherOffset,g=v===void 0?0:v,r=t0(z,{boundary:e,rootBoundary:d,padding:n,altBoundary:C}),t=zh(z.placement),i=e0(z.placement),a=!i,u=Dw(t),f=JS(u),l=z.modifiersData.popperOffsets,m=z.rects.reference,h=z.rects.popper,T=typeof g=="function"?g(Object.assign({},z.rects,{placement:z.placement})):g,c=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),o=z.modifiersData.offset?z.modifiersData.offset[z.placement]:null,p={x:0,y:0};if(l){if(We){var x,A=u==="y"?Nu:Bu,_=u==="y"?ec:tc,y=u==="y"?"height":"width",E=l[u],M=E+r[A],s=E-r[_],S=w?-h[y]/2:0,b=i===Kd?m[y]:h[y],I=i===Kd?-h[y]:-m[y],D=z.elements.arrow,B=w&&D?Rw(D):{width:0,height:0},k=z.modifiersData["arrow#persistent"]?z.modifiersData["arrow#persistent"].padding:VA(),F=k[A],N=k[_],O=cg(0,m[y],B[y]),V=a?m[y]/2-S-O-F-c.mainAxis:b-O-F-c.mainAxis,X=a?-m[y]/2+S+O+N+c.mainAxis:I+O+N+c.mainAxis,ee=z.elements.arrow&&Bg(z.elements.arrow),ne=ee?u==="y"?ee.clientTop||0:ee.clientLeft||0:0,q=(x=o==null?void 0:o[u])!=null?x:0,se=E+V-q-ne,J=E+X-q,Z=cg(w?Um(M,se):M,E,w?Yd(s,J):s);l[u]=Z,p[u]=Z-E}if(U){var te,Y=u==="x"?Nu:Bu,ie=u==="x"?ec:tc,le=l[f],j=f==="y"?"height":"width",K=le+r[Y],ue=le-r[ie],ae=[Nu,Bu].indexOf(t)!==-1,he=(te=o==null?void 0:o[f])!=null?te:0,xe=ae?K:le-m[j]-h[j]-he+c.altAxis,Se=ae?le+m[j]+h[j]-he-c.altAxis:ue,Ae=w&&ae?LS(xe,le,Se):cg(w?xe:K,le,w?Se:ue);l[f]=Ae,p[f]=Ae-le}z.modifiersData[de]=p}}const JA={name:"preventOverflow",enabled:!0,phase:"main",fn:$S,requiresIfExists:["offset"]};function QS(G){return{scrollLeft:G.scrollLeft,scrollTop:G.scrollTop}}function qS(G){return G===rc(G)||!Cc(G)?Ow(G):QS(G)}function eE(G){var z=G.getBoundingClientRect(),Q=Qp(z.width)/G.offsetWidth||1,de=Qp(z.height)/G.offsetHeight||1;return Q!==1||de!==1}function tE(G,z,Q){Q===void 0&&(Q=!1);var de=Cc(z),Le=Cc(z)&&eE(z),We=ud(z),H=qp(G,Le,Q),U={scrollLeft:0,scrollTop:0},e={x:0,y:0};return(de||!de&&!Q)&&((Nh(z)!=="body"||Fw(We))&&(U=qS(z)),Cc(z)?(e=qp(z,!0),e.x+=z.clientLeft,e.y+=z.clientTop):We&&(e.x=zw(We))),{x:H.left+U.scrollLeft-e.x,y:H.top+U.scrollTop-e.y,width:H.width,height:H.height}}function rE(G){var z=new Map,Q=new Set,de=[];G.forEach(function(We){z.set(We.name,We)});function Le(We){Q.add(We.name);var H=[].concat(We.requires||[],We.requiresIfExists||[]);H.forEach(function(U){if(!Q.has(U)){var e=z.get(U);e&&Le(e)}}),de.push(We)}return G.forEach(function(We){Q.has(We.name)||Le(We)}),de}function nE(G){var z=rE(G);return NA.reduce(function(Q,de){return Q.concat(z.filter(function(Le){return Le.phase===de}))},[])}function aE(G){var z;return function(){return z||(z=new Promise(function(Q){Promise.resolve().then(function(){z=void 0,Q(G())})})),z}}function iE(G){var z=G.reduce(function(Q,de){var Le=Q[de.name];return Q[de.name]=Le?Object.assign({},Le,de,{options:Object.assign({},Le.options,de.options),data:Object.assign({},Le.data,de.data)}):de,Q},{});return Object.keys(z).map(function(Q){return z[Q]})}var Z2={placement:"bottom",modifiers:[],strategy:"absolute"};function j2(){for(var G=arguments.length,z=new Array(G),Q=0;Q<G;Q++)z[Q]=arguments[Q];return!z.some(function(de){return!(de&&typeof de.getBoundingClientRect=="function")})}function c1(G){G===void 0&&(G={});var z=G,Q=z.defaultModifiers,de=Q===void 0?[]:Q,Le=z.defaultOptions,We=Le===void 0?Z2:Le;return function(U,e,d){d===void 0&&(d=We);var C={placement:"bottom",orderedModifiers:[],options:Object.assign({},Z2,We),modifiersData:{},elements:{reference:U,popper:e},attributes:{},styles:{}},n=[],L=!1,w={state:C,setOptions:function(t){var i=typeof t=="function"?t(C.options):t;g(),C.options=Object.assign({},We,C.options,i),C.scrollParents={reference:Jd(U)?hg(U):U.contextElement?hg(U.contextElement):[],popper:hg(e)};var a=nE(iE([].concat(de,C.options.modifiers)));return C.orderedModifiers=a.filter(function(u){return u.enabled}),v(),w.update()},forceUpdate:function(){if(!L){var t=C.elements,i=t.reference,a=t.popper;if(j2(i,a)){C.rects={reference:tE(i,Bg(a),C.options.strategy==="fixed"),popper:Rw(a)},C.reset=!1,C.placement=C.options.placement,C.orderedModifiers.forEach(function(c){return C.modifiersData[c.name]=Object.assign({},c.data)});for(var u=0;u<C.orderedModifiers.length;u++){if(C.reset===!0){C.reset=!1,u=-1;continue}var f=C.orderedModifiers[u],l=f.fn,m=f.options,h=m===void 0?{}:m,T=f.name;typeof l=="function"&&(C=l({state:C,options:h,name:T,instance:w})||C)}}}},update:aE(function(){return new Promise(function(r){w.forceUpdate(),r(C)})}),destroy:function(){g(),L=!0}};if(!j2(U,e))return w;w.setOptions(d).then(function(r){!L&&d.onFirstUpdate&&d.onFirstUpdate(r)});function v(){C.orderedModifiers.forEach(function(r){var t=r.name,i=r.options,a=i===void 0?{}:i,u=r.effect;if(typeof u=="function"){var f=u({state:C,name:t,instance:w,options:a}),l=function(){};n.push(f||l)}})}function g(){n.forEach(function(r){return r()}),n=[]}return w}}var oE=c1(),sE=[kw,Nw,Iw,Pw],lE=c1({defaultModifiers:sE}),uE=[kw,Nw,Iw,Pw,KA,ZA,JA,WA,jA],Bw=c1({defaultModifiers:uE});const $A=Object.freeze(Object.defineProperty({__proto__:null,afterMain:kA,afterRead:RA,afterWrite:FA,applyStyles:Pw,arrow:WA,auto:u1,basePlacements:c0,beforeMain:DA,beforeRead:_A,beforeWrite:OA,bottom:ec,clippingParents:CA,computeStyles:Iw,createPopper:Bw,createPopperBase:oE,createPopperLite:lE,detectOverflow:t0,end:$p,eventListeners:kw,flip:ZA,hide:jA,left:Bu,main:IA,modifierPhases:NA,offset:KA,placements:Lw,popper:Op,popperGenerator:c1,popperOffsets:Nw,preventOverflow:JA,read:PA,reference:LA,right:tc,start:Kd,top:Nu,variationPlacements:B3,viewport:Cw,write:zA},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Bv=new Map,qb={set(G,z,Q){Bv.has(G)||Bv.set(G,new Map);const de=Bv.get(G);if(!de.has(z)&&de.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(de.keys())[0]}.`);return}de.set(z,Q)},get(G,z){return Bv.has(G)&&Bv.get(G).get(z)||null},remove(G,z){if(!Bv.has(G))return;const Q=Bv.get(G);Q.delete(z),Q.size===0&&Bv.delete(G)}},fE=1e6,cE=1e3,H3="transitionend",QA=G=>(G&&window.CSS&&window.CSS.escape&&(G=G.replace(/#([^\s"#']+)/g,(z,Q)=>`#${CSS.escape(Q)}`)),G),hE=G=>G==null?`${G}`:Object.prototype.toString.call(G).match(/\s([a-z]+)/i)[1].toLowerCase(),vE=G=>{do G+=Math.floor(Math.random()*fE);while(document.getElementById(G));return G},dE=G=>{if(!G)return 0;let{transitionDuration:z,transitionDelay:Q}=window.getComputedStyle(G);const de=Number.parseFloat(z),Le=Number.parseFloat(Q);return!de&&!Le?0:(z=z.split(",")[0],Q=Q.split(",")[0],(Number.parseFloat(z)+Number.parseFloat(Q))*cE)},qA=G=>{G.dispatchEvent(new Event(H3))},rv=G=>!G||typeof G!="object"?!1:(typeof G.jquery<"u"&&(G=G[0]),typeof G.nodeType<"u"),td=G=>rv(G)?G.jquery?G[0]:G:typeof G=="string"&&G.length>0?document.querySelector(QA(G)):null,h0=G=>{if(!rv(G)||G.getClientRects().length===0)return!1;const z=getComputedStyle(G).getPropertyValue("visibility")==="visible",Q=G.closest("details:not([open])");if(!Q)return z;if(Q!==G){const de=G.closest("summary");if(de&&de.parentNode!==Q||de===null)return!1}return z},rd=G=>!G||G.nodeType!==Node.ELEMENT_NODE||G.classList.contains("disabled")?!0:typeof G.disabled<"u"?G.disabled:G.hasAttribute("disabled")&&G.getAttribute("disabled")!=="false",e5=G=>{if(!document.documentElement.attachShadow)return null;if(typeof G.getRootNode=="function"){const z=G.getRootNode();return z instanceof ShadowRoot?z:null}return G instanceof ShadowRoot?G:G.parentNode?e5(G.parentNode):null},Vm=()=>{},Ug=G=>{G.offsetHeight},t5=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,e3=[],pE=G=>{document.readyState==="loading"?(e3.length||document.addEventListener("DOMContentLoaded",()=>{for(const z of e3)z()}),e3.push(G)):G()},_c=()=>document.documentElement.dir==="rtl",Rc=G=>{pE(()=>{const z=t5();if(z){const Q=G.NAME,de=z.fn[Q];z.fn[Q]=G.jQueryInterface,z.fn[Q].Constructor=G,z.fn[Q].noConflict=()=>(z.fn[Q]=de,G.jQueryInterface)}})},Af=(G,z=[],Q=G)=>typeof G=="function"?G(...z):Q,r5=(G,z,Q=!0)=>{if(!Q){Af(G);return}const Le=dE(z)+5;let We=!1;const H=({target:U})=>{U===z&&(We=!0,z.removeEventListener(H3,H),Af(G))};z.addEventListener(H3,H),setTimeout(()=>{We||qA(z)},Le)},Uw=(G,z,Q,de)=>{const Le=G.length;let We=G.indexOf(z);return We===-1?!Q&&de?G[Le-1]:G[0]:(We+=Q?1:-1,de&&(We=(We+Le)%Le),G[Math.max(0,Math.min(We,Le-1))])},gE=/[^.]*(?=\..*)\.|.*/,yE=/\..*/,mE=/::\d+$/,t3={};let K2=1;const n5={mouseenter:"mouseover",mouseleave:"mouseout"},xE=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function a5(G,z){return z&&`${z}::${K2++}`||G.uidEvent||K2++}function i5(G){const z=a5(G);return G.uidEvent=z,t3[z]=t3[z]||{},t3[z]}function bE(G,z){return function Q(de){return Vw(de,{delegateTarget:G}),Q.oneOff&&Ea.off(G,de.type,z),z.apply(G,[de])}}function wE(G,z,Q){return function de(Le){const We=G.querySelectorAll(z);for(let{target:H}=Le;H&&H!==this;H=H.parentNode)for(const U of We)if(U===H)return Vw(Le,{delegateTarget:H}),de.oneOff&&Ea.off(G,Le.type,z,Q),Q.apply(H,[Le])}}function o5(G,z,Q=null){return Object.values(G).find(de=>de.callable===z&&de.delegationSelector===Q)}function s5(G,z,Q){const de=typeof z=="string",Le=de?Q:z||Q;let We=l5(G);return xE.has(We)||(We=G),[de,Le,We]}function J2(G,z,Q,de,Le){if(typeof z!="string"||!G)return;let[We,H,U]=s5(z,Q,de);z in n5&&(H=(v=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return v.call(this,g)})(H));const e=i5(G),d=e[U]||(e[U]={}),C=o5(d,H,We?Q:null);if(C){C.oneOff=C.oneOff&&Le;return}const n=a5(H,z.replace(gE,"")),L=We?wE(G,Q,H):bE(G,H);L.delegationSelector=We?Q:null,L.callable=H,L.oneOff=Le,L.uidEvent=n,d[n]=L,G.addEventListener(U,L,We)}function G3(G,z,Q,de,Le){const We=o5(z[Q],de,Le);We&&(G.removeEventListener(Q,We,!!Le),delete z[Q][We.uidEvent])}function TE(G,z,Q,de){const Le=z[Q]||{};for(const[We,H]of Object.entries(Le))We.includes(de)&&G3(G,z,Q,H.callable,H.delegationSelector)}function l5(G){return G=G.replace(yE,""),n5[G]||G}const Ea={on(G,z,Q,de){J2(G,z,Q,de,!1)},one(G,z,Q,de){J2(G,z,Q,de,!0)},off(G,z,Q,de){if(typeof z!="string"||!G)return;const[Le,We,H]=s5(z,Q,de),U=H!==z,e=i5(G),d=e[H]||{},C=z.startsWith(".");if(typeof We<"u"){if(!Object.keys(d).length)return;G3(G,e,H,We,Le?Q:null);return}if(C)for(const n of Object.keys(e))TE(G,e,n,z.slice(1));for(const[n,L]of Object.entries(d)){const w=n.replace(mE,"");(!U||z.includes(w))&&G3(G,e,H,L.callable,L.delegationSelector)}},trigger(G,z,Q){if(typeof z!="string"||!G)return null;const de=t5(),Le=l5(z),We=z!==Le;let H=null,U=!0,e=!0,d=!1;We&&de&&(H=de.Event(z,Q),de(G).trigger(H),U=!H.isPropagationStopped(),e=!H.isImmediatePropagationStopped(),d=H.isDefaultPrevented());const C=Vw(new Event(z,{bubbles:U,cancelable:!0}),Q);return d&&C.preventDefault(),e&&G.dispatchEvent(C),C.defaultPrevented&&H&&H.preventDefault(),C}};function Vw(G,z={}){for(const[Q,de]of Object.entries(z))try{G[Q]=de}catch{Object.defineProperty(G,Q,{configurable:!0,get(){return de}})}return G}function $2(G){if(G==="true")return!0;if(G==="false")return!1;if(G===Number(G).toString())return Number(G);if(G===""||G==="null")return null;if(typeof G!="string")return G;try{return JSON.parse(decodeURIComponent(G))}catch{return G}}function r3(G){return G.replace(/[A-Z]/g,z=>`-${z.toLowerCase()}`)}const nv={setDataAttribute(G,z,Q){G.setAttribute(`data-bs-${r3(z)}`,Q)},removeDataAttribute(G,z){G.removeAttribute(`data-bs-${r3(z)}`)},getDataAttributes(G){if(!G)return{};const z={},Q=Object.keys(G.dataset).filter(de=>de.startsWith("bs")&&!de.startsWith("bsConfig"));for(const de of Q){let Le=de.replace(/^bs/,"");Le=Le.charAt(0).toLowerCase()+Le.slice(1,Le.length),z[Le]=$2(G.dataset[de])}return z},getDataAttribute(G,z){return $2(G.getAttribute(`data-bs-${r3(z)}`))}};class Vg{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(z){return z=this._mergeConfigObj(z),z=this._configAfterMerge(z),this._typeCheckConfig(z),z}_configAfterMerge(z){return z}_mergeConfigObj(z,Q){const de=rv(Q)?nv.getDataAttribute(Q,"config"):{};return{...this.constructor.Default,...typeof de=="object"?de:{},...rv(Q)?nv.getDataAttributes(Q):{},...typeof z=="object"?z:{}}}_typeCheckConfig(z,Q=this.constructor.DefaultType){for(const[de,Le]of Object.entries(Q)){const We=z[de],H=rv(We)?"element":hE(We);if(!new RegExp(Le).test(H))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${de}" provided type "${H}" but expected type "${Le}".`)}}}const AE="5.3.3";class uh extends Vg{constructor(z,Q){super(),z=td(z),z&&(this._element=z,this._config=this._getConfig(Q),qb.set(this._element,this.constructor.DATA_KEY,this))}dispose(){qb.remove(this._element,this.constructor.DATA_KEY),Ea.off(this._element,this.constructor.EVENT_KEY);for(const z of Object.getOwnPropertyNames(this))this[z]=null}_queueCallback(z,Q,de=!0){r5(z,Q,de)}_getConfig(z){return z=this._mergeConfigObj(z,this._element),z=this._configAfterMerge(z),this._typeCheckConfig(z),z}static getInstance(z){return qb.get(td(z),this.DATA_KEY)}static getOrCreateInstance(z,Q={}){return this.getInstance(z)||new this(z,typeof Q=="object"?Q:null)}static get VERSION(){return AE}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(z){return`${z}${this.EVENT_KEY}`}}const n3=G=>{let z=G.getAttribute("data-bs-target");if(!z||z==="#"){let Q=G.getAttribute("href");if(!Q||!Q.includes("#")&&!Q.startsWith("."))return null;Q.includes("#")&&!Q.startsWith("#")&&(Q=`#${Q.split("#")[1]}`),z=Q&&Q!=="#"?Q.trim():null}return z?z.split(",").map(Q=>QA(Q)).join(","):null},pi={find(G,z=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(z,G))},findOne(G,z=document.documentElement){return Element.prototype.querySelector.call(z,G)},children(G,z){return[].concat(...G.children).filter(Q=>Q.matches(z))},parents(G,z){const Q=[];let de=G.parentNode.closest(z);for(;de;)Q.push(de),de=de.parentNode.closest(z);return Q},prev(G,z){let Q=G.previousElementSibling;for(;Q;){if(Q.matches(z))return[Q];Q=Q.previousElementSibling}return[]},next(G,z){let Q=G.nextElementSibling;for(;Q;){if(Q.matches(z))return[Q];Q=Q.nextElementSibling}return[]},focusableChildren(G){const z=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Q=>`${Q}:not([tabindex^="-"])`).join(",");return this.find(z,G).filter(Q=>!rd(Q)&&h0(Q))},getSelectorFromElement(G){const z=n3(G);return z&&pi.findOne(z)?z:null},getElementFromSelector(G){const z=n3(G);return z?pi.findOne(z):null},getMultipleElementsFromSelector(G){const z=n3(G);return z?pi.find(z):[]}},h1=(G,z="hide")=>{const Q=`click.dismiss${G.EVENT_KEY}`,de=G.NAME;Ea.on(document,Q,`[data-bs-dismiss="${de}"]`,function(Le){if(["A","AREA"].includes(this.tagName)&&Le.preventDefault(),rd(this))return;const We=pi.getElementFromSelector(this)||this.closest(`.${de}`);G.getOrCreateInstance(We)[z]()})},ME="alert",SE="bs.alert",u5=`.${SE}`,EE=`close${u5}`,CE=`closed${u5}`,LE="fade",_E="show";class v1 extends uh{static get NAME(){return ME}close(){if(Ea.trigger(this._element,EE).defaultPrevented)return;this._element.classList.remove(_E);const Q=this._element.classList.contains(LE);this._queueCallback(()=>this._destroyElement(),this._element,Q)}_destroyElement(){this._element.remove(),Ea.trigger(this._element,CE),this.dispose()}static jQueryInterface(z){return this.each(function(){const Q=v1.getOrCreateInstance(this);if(typeof z=="string"){if(Q[z]===void 0||z.startsWith("_")||z==="constructor")throw new TypeError(`No method named "${z}"`);Q[z](this)}})}}h1(v1,"close");Rc(v1);const PE="button",RE="bs.button",DE=`.${RE}`,IE=".data-api",kE="active",Q2='[data-bs-toggle="button"]',OE=`click${DE}${IE}`;class d1 extends uh{static get NAME(){return PE}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(kE))}static jQueryInterface(z){return this.each(function(){const Q=d1.getOrCreateInstance(this);z==="toggle"&&Q[z]()})}}Ea.on(document,OE,Q2,G=>{G.preventDefault();const z=G.target.closest(Q2);d1.getOrCreateInstance(z).toggle()});Rc(d1);const zE="swipe",v0=".bs.swipe",FE=`touchstart${v0}`,NE=`touchmove${v0}`,BE=`touchend${v0}`,UE=`pointerdown${v0}`,VE=`pointerup${v0}`,HE="touch",GE="pen",WE="pointer-event",YE=40,XE={endCallback:null,leftCallback:null,rightCallback:null},ZE={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Hm extends Vg{constructor(z,Q){super(),this._element=z,!(!z||!Hm.isSupported())&&(this._config=this._getConfig(Q),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return XE}static get DefaultType(){return ZE}static get NAME(){return zE}dispose(){Ea.off(this._element,v0)}_start(z){if(!this._supportPointerEvents){this._deltaX=z.touches[0].clientX;return}this._eventIsPointerPenTouch(z)&&(this._deltaX=z.clientX)}_end(z){this._eventIsPointerPenTouch(z)&&(this._deltaX=z.clientX-this._deltaX),this._handleSwipe(),Af(this._config.endCallback)}_move(z){this._deltaX=z.touches&&z.touches.length>1?0:z.touches[0].clientX-this._deltaX}_handleSwipe(){const z=Math.abs(this._deltaX);if(z<=YE)return;const Q=z/this._deltaX;this._deltaX=0,Q&&Af(Q>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ea.on(this._element,UE,z=>this._start(z)),Ea.on(this._element,VE,z=>this._end(z)),this._element.classList.add(WE)):(Ea.on(this._element,FE,z=>this._start(z)),Ea.on(this._element,NE,z=>this._move(z)),Ea.on(this._element,BE,z=>this._end(z)))}_eventIsPointerPenTouch(z){return this._supportPointerEvents&&(z.pointerType===GE||z.pointerType===HE)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const jE="carousel",KE="bs.carousel",fd=`.${KE}`,f5=".data-api",JE="ArrowLeft",$E="ArrowRight",QE=500,eg="next",Pp="prev",zp="left",_m="right",qE=`slide${fd}`,a3=`slid${fd}`,e8=`keydown${fd}`,t8=`mouseenter${fd}`,r8=`mouseleave${fd}`,n8=`dragstart${fd}`,a8=`load${fd}${f5}`,i8=`click${fd}${f5}`,c5="carousel",em="active",o8="slide",s8="carousel-item-end",l8="carousel-item-start",u8="carousel-item-next",f8="carousel-item-prev",h5=".active",v5=".carousel-item",c8=h5+v5,h8=".carousel-item img",v8=".carousel-indicators",d8="[data-bs-slide], [data-bs-slide-to]",p8='[data-bs-ride="carousel"]',g8={[JE]:_m,[$E]:zp},y8={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},m8={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Hg extends uh{constructor(z,Q){super(z,Q),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=pi.findOne(v8,this._element),this._addEventListeners(),this._config.ride===c5&&this.cycle()}static get Default(){return y8}static get DefaultType(){return m8}static get NAME(){return jE}next(){this._slide(eg)}nextWhenVisible(){!document.hidden&&h0(this._element)&&this.next()}prev(){this._slide(Pp)}pause(){this._isSliding&&qA(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Ea.one(this._element,a3,()=>this.cycle());return}this.cycle()}}to(z){const Q=this._getItems();if(z>Q.length-1||z<0)return;if(this._isSliding){Ea.one(this._element,a3,()=>this.to(z));return}const de=this._getItemIndex(this._getActive());if(de===z)return;const Le=z>de?eg:Pp;this._slide(Le,Q[z])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(z){return z.defaultInterval=z.interval,z}_addEventListeners(){this._config.keyboard&&Ea.on(this._element,e8,z=>this._keydown(z)),this._config.pause==="hover"&&(Ea.on(this._element,t8,()=>this.pause()),Ea.on(this._element,r8,()=>this._maybeEnableCycle())),this._config.touch&&Hm.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const de of pi.find(h8,this._element))Ea.on(de,n8,Le=>Le.preventDefault());const Q={leftCallback:()=>this._slide(this._directionToOrder(zp)),rightCallback:()=>this._slide(this._directionToOrder(_m)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),QE+this._config.interval))}};this._swipeHelper=new Hm(this._element,Q)}_keydown(z){if(/input|textarea/i.test(z.target.tagName))return;const Q=g8[z.key];Q&&(z.preventDefault(),this._slide(this._directionToOrder(Q)))}_getItemIndex(z){return this._getItems().indexOf(z)}_setActiveIndicatorElement(z){if(!this._indicatorsElement)return;const Q=pi.findOne(h5,this._indicatorsElement);Q.classList.remove(em),Q.removeAttribute("aria-current");const de=pi.findOne(`[data-bs-slide-to="${z}"]`,this._indicatorsElement);de&&(de.classList.add(em),de.setAttribute("aria-current","true"))}_updateInterval(){const z=this._activeElement||this._getActive();if(!z)return;const Q=Number.parseInt(z.getAttribute("data-bs-interval"),10);this._config.interval=Q||this._config.defaultInterval}_slide(z,Q=null){if(this._isSliding)return;const de=this._getActive(),Le=z===eg,We=Q||Uw(this._getItems(),de,Le,this._config.wrap);if(We===de)return;const H=this._getItemIndex(We),U=w=>Ea.trigger(this._element,w,{relatedTarget:We,direction:this._orderToDirection(z),from:this._getItemIndex(de),to:H});if(U(qE).defaultPrevented||!de||!We)return;const d=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(H),this._activeElement=We;const C=Le?l8:s8,n=Le?u8:f8;We.classList.add(n),Ug(We),de.classList.add(C),We.classList.add(C);const L=()=>{We.classList.remove(C,n),We.classList.add(em),de.classList.remove(em,n,C),this._isSliding=!1,U(a3)};this._queueCallback(L,de,this._isAnimated()),d&&this.cycle()}_isAnimated(){return this._element.classList.contains(o8)}_getActive(){return pi.findOne(c8,this._element)}_getItems(){return pi.find(v5,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(z){return _c()?z===zp?Pp:eg:z===zp?eg:Pp}_orderToDirection(z){return _c()?z===Pp?zp:_m:z===Pp?_m:zp}static jQueryInterface(z){return this.each(function(){const Q=Hg.getOrCreateInstance(this,z);if(typeof z=="number"){Q.to(z);return}if(typeof z=="string"){if(Q[z]===void 0||z.startsWith("_")||z==="constructor")throw new TypeError(`No method named "${z}"`);Q[z]()}})}}Ea.on(document,i8,d8,function(G){const z=pi.getElementFromSelector(this);if(!z||!z.classList.contains(c5))return;G.preventDefault();const Q=Hg.getOrCreateInstance(z),de=this.getAttribute("data-bs-slide-to");if(de){Q.to(de),Q._maybeEnableCycle();return}if(nv.getDataAttribute(this,"slide")==="next"){Q.next(),Q._maybeEnableCycle();return}Q.prev(),Q._maybeEnableCycle()});Ea.on(window,a8,()=>{const G=pi.find(p8);for(const z of G)Hg.getOrCreateInstance(z)});Rc(Hg);const x8="collapse",b8="bs.collapse",Gg=`.${b8}`,w8=".data-api",T8=`show${Gg}`,A8=`shown${Gg}`,M8=`hide${Gg}`,S8=`hidden${Gg}`,E8=`click${Gg}${w8}`,i3="show",Bp="collapse",tm="collapsing",C8="collapsed",L8=`:scope .${Bp} .${Bp}`,_8="collapse-horizontal",P8="width",R8="height",D8=".collapse.show, .collapse.collapsing",W3='[data-bs-toggle="collapse"]',I8={parent:null,toggle:!0},k8={parent:"(null|element)",toggle:"boolean"};class Tg extends uh{constructor(z,Q){super(z,Q),this._isTransitioning=!1,this._triggerArray=[];const de=pi.find(W3);for(const Le of de){const We=pi.getSelectorFromElement(Le),H=pi.find(We).filter(U=>U===this._element);We!==null&&H.length&&this._triggerArray.push(Le)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return I8}static get DefaultType(){return k8}static get NAME(){return x8}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let z=[];if(this._config.parent&&(z=this._getFirstLevelChildren(D8).filter(U=>U!==this._element).map(U=>Tg.getOrCreateInstance(U,{toggle:!1}))),z.length&&z[0]._isTransitioning||Ea.trigger(this._element,T8).defaultPrevented)return;for(const U of z)U.hide();const de=this._getDimension();this._element.classList.remove(Bp),this._element.classList.add(tm),this._element.style[de]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Le=()=>{this._isTransitioning=!1,this._element.classList.remove(tm),this._element.classList.add(Bp,i3),this._element.style[de]="",Ea.trigger(this._element,A8)},H=`scroll${de[0].toUpperCase()+de.slice(1)}`;this._queueCallback(Le,this._element,!0),this._element.style[de]=`${this._element[H]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ea.trigger(this._element,M8).defaultPrevented)return;const Q=this._getDimension();this._element.style[Q]=`${this._element.getBoundingClientRect()[Q]}px`,Ug(this._element),this._element.classList.add(tm),this._element.classList.remove(Bp,i3);for(const Le of this._triggerArray){const We=pi.getElementFromSelector(Le);We&&!this._isShown(We)&&this._addAriaAndCollapsedClass([Le],!1)}this._isTransitioning=!0;const de=()=>{this._isTransitioning=!1,this._element.classList.remove(tm),this._element.classList.add(Bp),Ea.trigger(this._element,S8)};this._element.style[Q]="",this._queueCallback(de,this._element,!0)}_isShown(z=this._element){return z.classList.contains(i3)}_configAfterMerge(z){return z.toggle=!!z.toggle,z.parent=td(z.parent),z}_getDimension(){return this._element.classList.contains(_8)?P8:R8}_initializeChildren(){if(!this._config.parent)return;const z=this._getFirstLevelChildren(W3);for(const Q of z){const de=pi.getElementFromSelector(Q);de&&this._addAriaAndCollapsedClass([Q],this._isShown(de))}}_getFirstLevelChildren(z){const Q=pi.find(L8,this._config.parent);return pi.find(z,this._config.parent).filter(de=>!Q.includes(de))}_addAriaAndCollapsedClass(z,Q){if(z.length)for(const de of z)de.classList.toggle(C8,!Q),de.setAttribute("aria-expanded",Q)}static jQueryInterface(z){const Q={};return typeof z=="string"&&/show|hide/.test(z)&&(Q.toggle=!1),this.each(function(){const de=Tg.getOrCreateInstance(this,Q);if(typeof z=="string"){if(typeof de[z]>"u")throw new TypeError(`No method named "${z}"`);de[z]()}})}}Ea.on(document,E8,W3,function(G){(G.target.tagName==="A"||G.delegateTarget&&G.delegateTarget.tagName==="A")&&G.preventDefault();for(const z of pi.getMultipleElementsFromSelector(this))Tg.getOrCreateInstance(z,{toggle:!1}).toggle()});Rc(Tg);const q2="dropdown",O8="bs.dropdown",qd=`.${O8}`,Hw=".data-api",z8="Escape",eT="Tab",F8="ArrowUp",tT="ArrowDown",N8=2,B8=`hide${qd}`,U8=`hidden${qd}`,V8=`show${qd}`,H8=`shown${qd}`,d5=`click${qd}${Hw}`,p5=`keydown${qd}${Hw}`,G8=`keyup${qd}${Hw}`,Fp="show",W8="dropup",Y8="dropend",X8="dropstart",Z8="dropup-center",j8="dropdown-center",Bd='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',K8=`${Bd}.${Fp}`,Pm=".dropdown-menu",J8=".navbar",$8=".navbar-nav",Q8=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",q8=_c()?"top-end":"top-start",eC=_c()?"top-start":"top-end",tC=_c()?"bottom-end":"bottom-start",rC=_c()?"bottom-start":"bottom-end",nC=_c()?"left-start":"right-start",aC=_c()?"right-start":"left-start",iC="top",oC="bottom",sC={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},lC={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Fh extends uh{constructor(z,Q){super(z,Q),this._popper=null,this._parent=this._element.parentNode,this._menu=pi.next(this._element,Pm)[0]||pi.prev(this._element,Pm)[0]||pi.findOne(Pm,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sC}static get DefaultType(){return lC}static get NAME(){return q2}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rd(this._element)||this._isShown())return;const z={relatedTarget:this._element};if(!Ea.trigger(this._element,V8,z).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest($8))for(const de of[].concat(...document.body.children))Ea.on(de,"mouseover",Vm);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Fp),this._element.classList.add(Fp),Ea.trigger(this._element,H8,z)}}hide(){if(rd(this._element)||!this._isShown())return;const z={relatedTarget:this._element};this._completeHide(z)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(z){if(!Ea.trigger(this._element,B8,z).defaultPrevented){if("ontouchstart"in document.documentElement)for(const de of[].concat(...document.body.children))Ea.off(de,"mouseover",Vm);this._popper&&this._popper.destroy(),this._menu.classList.remove(Fp),this._element.classList.remove(Fp),this._element.setAttribute("aria-expanded","false"),nv.removeDataAttribute(this._menu,"popper"),Ea.trigger(this._element,U8,z)}}_getConfig(z){if(z=super._getConfig(z),typeof z.reference=="object"&&!rv(z.reference)&&typeof z.reference.getBoundingClientRect!="function")throw new TypeError(`${q2.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return z}_createPopper(){if(typeof $A>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let z=this._element;this._config.reference==="parent"?z=this._parent:rv(this._config.reference)?z=td(this._config.reference):typeof this._config.reference=="object"&&(z=this._config.reference);const Q=this._getPopperConfig();this._popper=Bw(z,this._menu,Q)}_isShown(){return this._menu.classList.contains(Fp)}_getPlacement(){const z=this._parent;if(z.classList.contains(Y8))return nC;if(z.classList.contains(X8))return aC;if(z.classList.contains(Z8))return iC;if(z.classList.contains(j8))return oC;const Q=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return z.classList.contains(W8)?Q?eC:q8:Q?rC:tC}_detectNavbar(){return this._element.closest(J8)!==null}_getOffset(){const{offset:z}=this._config;return typeof z=="string"?z.split(",").map(Q=>Number.parseInt(Q,10)):typeof z=="function"?Q=>z(Q,this._element):z}_getPopperConfig(){const z={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(nv.setDataAttribute(this._menu,"popper","static"),z.modifiers=[{name:"applyStyles",enabled:!1}]),{...z,...Af(this._config.popperConfig,[z])}}_selectMenuItem({key:z,target:Q}){const de=pi.find(Q8,this._menu).filter(Le=>h0(Le));de.length&&Uw(de,Q,z===tT,!de.includes(Q)).focus()}static jQueryInterface(z){return this.each(function(){const Q=Fh.getOrCreateInstance(this,z);if(typeof z=="string"){if(typeof Q[z]>"u")throw new TypeError(`No method named "${z}"`);Q[z]()}})}static clearMenus(z){if(z.button===N8||z.type==="keyup"&&z.key!==eT)return;const Q=pi.find(K8);for(const de of Q){const Le=Fh.getInstance(de);if(!Le||Le._config.autoClose===!1)continue;const We=z.composedPath(),H=We.includes(Le._menu);if(We.includes(Le._element)||Le._config.autoClose==="inside"&&!H||Le._config.autoClose==="outside"&&H||Le._menu.contains(z.target)&&(z.type==="keyup"&&z.key===eT||/input|select|option|textarea|form/i.test(z.target.tagName)))continue;const U={relatedTarget:Le._element};z.type==="click"&&(U.clickEvent=z),Le._completeHide(U)}}static dataApiKeydownHandler(z){const Q=/input|textarea/i.test(z.target.tagName),de=z.key===z8,Le=[F8,tT].includes(z.key);if(!Le&&!de||Q&&!de)return;z.preventDefault();const We=this.matches(Bd)?this:pi.prev(this,Bd)[0]||pi.next(this,Bd)[0]||pi.findOne(Bd,z.delegateTarget.parentNode),H=Fh.getOrCreateInstance(We);if(Le){z.stopPropagation(),H.show(),H._selectMenuItem(z);return}H._isShown()&&(z.stopPropagation(),H.hide(),We.focus())}}Ea.on(document,p5,Bd,Fh.dataApiKeydownHandler);Ea.on(document,p5,Pm,Fh.dataApiKeydownHandler);Ea.on(document,d5,Fh.clearMenus);Ea.on(document,G8,Fh.clearMenus);Ea.on(document,d5,Bd,function(G){G.preventDefault(),Fh.getOrCreateInstance(this).toggle()});Rc(Fh);const g5="backdrop",uC="fade",rT="show",nT=`mousedown.bs.${g5}`,fC={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},cC={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class y5 extends Vg{constructor(z){super(),this._config=this._getConfig(z),this._isAppended=!1,this._element=null}static get Default(){return fC}static get DefaultType(){return cC}static get NAME(){return g5}show(z){if(!this._config.isVisible){Af(z);return}this._append();const Q=this._getElement();this._config.isAnimated&&Ug(Q),Q.classList.add(rT),this._emulateAnimation(()=>{Af(z)})}hide(z){if(!this._config.isVisible){Af(z);return}this._getElement().classList.remove(rT),this._emulateAnimation(()=>{this.dispose(),Af(z)})}dispose(){this._isAppended&&(Ea.off(this._element,nT),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const z=document.createElement("div");z.className=this._config.className,this._config.isAnimated&&z.classList.add(uC),this._element=z}return this._element}_configAfterMerge(z){return z.rootElement=td(z.rootElement),z}_append(){if(this._isAppended)return;const z=this._getElement();this._config.rootElement.append(z),Ea.on(z,nT,()=>{Af(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(z){r5(z,this._getElement(),this._config.isAnimated)}}const hC="focustrap",vC="bs.focustrap",Gm=`.${vC}`,dC=`focusin${Gm}`,pC=`keydown.tab${Gm}`,gC="Tab",yC="forward",aT="backward",mC={autofocus:!0,trapElement:null},xC={autofocus:"boolean",trapElement:"element"};class m5 extends Vg{constructor(z){super(),this._config=this._getConfig(z),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return mC}static get DefaultType(){return xC}static get NAME(){return hC}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ea.off(document,Gm),Ea.on(document,dC,z=>this._handleFocusin(z)),Ea.on(document,pC,z=>this._handleKeydown(z)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ea.off(document,Gm))}_handleFocusin(z){const{trapElement:Q}=this._config;if(z.target===document||z.target===Q||Q.contains(z.target))return;const de=pi.focusableChildren(Q);de.length===0?Q.focus():this._lastTabNavDirection===aT?de[de.length-1].focus():de[0].focus()}_handleKeydown(z){z.key===gC&&(this._lastTabNavDirection=z.shiftKey?aT:yC)}}const iT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",oT=".sticky-top",rm="padding-right",sT="margin-right";class Y3{constructor(){this._element=document.body}getWidth(){const z=document.documentElement.clientWidth;return Math.abs(window.innerWidth-z)}hide(){const z=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,rm,Q=>Q+z),this._setElementAttributes(iT,rm,Q=>Q+z),this._setElementAttributes(oT,sT,Q=>Q-z)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,rm),this._resetElementAttributes(iT,rm),this._resetElementAttributes(oT,sT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(z,Q,de){const Le=this.getWidth(),We=H=>{if(H!==this._element&&window.innerWidth>H.clientWidth+Le)return;this._saveInitialAttribute(H,Q);const U=window.getComputedStyle(H).getPropertyValue(Q);H.style.setProperty(Q,`${de(Number.parseFloat(U))}px`)};this._applyManipulationCallback(z,We)}_saveInitialAttribute(z,Q){const de=z.style.getPropertyValue(Q);de&&nv.setDataAttribute(z,Q,de)}_resetElementAttributes(z,Q){const de=Le=>{const We=nv.getDataAttribute(Le,Q);if(We===null){Le.style.removeProperty(Q);return}nv.removeDataAttribute(Le,Q),Le.style.setProperty(Q,We)};this._applyManipulationCallback(z,de)}_applyManipulationCallback(z,Q){if(rv(z)){Q(z);return}for(const de of pi.find(z,this._element))Q(de)}}const bC="modal",wC="bs.modal",Pc=`.${wC}`,TC=".data-api",AC="Escape",MC=`hide${Pc}`,SC=`hidePrevented${Pc}`,x5=`hidden${Pc}`,b5=`show${Pc}`,EC=`shown${Pc}`,CC=`resize${Pc}`,LC=`click.dismiss${Pc}`,_C=`mousedown.dismiss${Pc}`,PC=`keydown.dismiss${Pc}`,RC=`click${Pc}${TC}`,lT="modal-open",DC="fade",uT="show",o3="modal-static",IC=".modal.show",kC=".modal-dialog",OC=".modal-body",zC='[data-bs-toggle="modal"]',FC={backdrop:!0,focus:!0,keyboard:!0},NC={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class r0 extends uh{constructor(z,Q){super(z,Q),this._dialog=pi.findOne(kC,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Y3,this._addEventListeners()}static get Default(){return FC}static get DefaultType(){return NC}static get NAME(){return bC}toggle(z){return this._isShown?this.hide():this.show(z)}show(z){this._isShown||this._isTransitioning||Ea.trigger(this._element,b5,{relatedTarget:z}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(lT),this._adjustDialog(),this._backdrop.show(()=>this._showElement(z)))}hide(){!this._isShown||this._isTransitioning||Ea.trigger(this._element,MC).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(uT),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Ea.off(window,Pc),Ea.off(this._dialog,Pc),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new y5({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new m5({trapElement:this._element})}_showElement(z){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Q=pi.findOne(OC,this._dialog);Q&&(Q.scrollTop=0),Ug(this._element),this._element.classList.add(uT);const de=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ea.trigger(this._element,EC,{relatedTarget:z})};this._queueCallback(de,this._dialog,this._isAnimated())}_addEventListeners(){Ea.on(this._element,PC,z=>{if(z.key===AC){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Ea.on(window,CC,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ea.on(this._element,_C,z=>{Ea.one(this._element,LC,Q=>{if(!(this._element!==z.target||this._element!==Q.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(lT),this._resetAdjustments(),this._scrollBar.reset(),Ea.trigger(this._element,x5)})}_isAnimated(){return this._element.classList.contains(DC)}_triggerBackdropTransition(){if(Ea.trigger(this._element,SC).defaultPrevented)return;const Q=this._element.scrollHeight>document.documentElement.clientHeight,de=this._element.style.overflowY;de==="hidden"||this._element.classList.contains(o3)||(Q||(this._element.style.overflowY="hidden"),this._element.classList.add(o3),this._queueCallback(()=>{this._element.classList.remove(o3),this._queueCallback(()=>{this._element.style.overflowY=de},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const z=this._element.scrollHeight>document.documentElement.clientHeight,Q=this._scrollBar.getWidth(),de=Q>0;if(de&&!z){const Le=_c()?"paddingLeft":"paddingRight";this._element.style[Le]=`${Q}px`}if(!de&&z){const Le=_c()?"paddingRight":"paddingLeft";this._element.style[Le]=`${Q}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(z,Q){return this.each(function(){const de=r0.getOrCreateInstance(this,z);if(typeof z=="string"){if(typeof de[z]>"u")throw new TypeError(`No method named "${z}"`);de[z](Q)}})}}Ea.on(document,RC,zC,function(G){const z=pi.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&G.preventDefault(),Ea.one(z,b5,Le=>{Le.defaultPrevented||Ea.one(z,x5,()=>{h0(this)&&this.focus()})});const Q=pi.findOne(IC);Q&&r0.getInstance(Q).hide(),r0.getOrCreateInstance(z).toggle(this)});h1(r0);Rc(r0);const BC="offcanvas",UC="bs.offcanvas",fv=`.${UC}`,w5=".data-api",VC=`load${fv}${w5}`,HC="Escape",fT="show",cT="showing",hT="hiding",GC="offcanvas-backdrop",T5=".offcanvas.show",WC=`show${fv}`,YC=`shown${fv}`,XC=`hide${fv}`,vT=`hidePrevented${fv}`,A5=`hidden${fv}`,ZC=`resize${fv}`,jC=`click${fv}${w5}`,KC=`keydown.dismiss${fv}`,JC='[data-bs-toggle="offcanvas"]',$C={backdrop:!0,keyboard:!0,scroll:!1},QC={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class nd extends uh{constructor(z,Q){super(z,Q),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return $C}static get DefaultType(){return QC}static get NAME(){return BC}toggle(z){return this._isShown?this.hide():this.show(z)}show(z){if(this._isShown||Ea.trigger(this._element,WC,{relatedTarget:z}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Y3().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(cT);const de=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(fT),this._element.classList.remove(cT),Ea.trigger(this._element,YC,{relatedTarget:z})};this._queueCallback(de,this._element,!0)}hide(){if(!this._isShown||Ea.trigger(this._element,XC).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(hT),this._backdrop.hide();const Q=()=>{this._element.classList.remove(fT,hT),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Y3().reset(),Ea.trigger(this._element,A5)};this._queueCallback(Q,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const z=()=>{if(this._config.backdrop==="static"){Ea.trigger(this._element,vT);return}this.hide()},Q=!!this._config.backdrop;return new y5({className:GC,isVisible:Q,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:Q?z:null})}_initializeFocusTrap(){return new m5({trapElement:this._element})}_addEventListeners(){Ea.on(this._element,KC,z=>{if(z.key===HC){if(this._config.keyboard){this.hide();return}Ea.trigger(this._element,vT)}})}static jQueryInterface(z){return this.each(function(){const Q=nd.getOrCreateInstance(this,z);if(typeof z=="string"){if(Q[z]===void 0||z.startsWith("_")||z==="constructor")throw new TypeError(`No method named "${z}"`);Q[z](this)}})}}Ea.on(document,jC,JC,function(G){const z=pi.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&G.preventDefault(),rd(this))return;Ea.one(z,A5,()=>{h0(this)&&this.focus()});const Q=pi.findOne(T5);Q&&Q!==z&&nd.getInstance(Q).hide(),nd.getOrCreateInstance(z).toggle(this)});Ea.on(window,VC,()=>{for(const G of pi.find(T5))nd.getOrCreateInstance(G).show()});Ea.on(window,ZC,()=>{for(const G of pi.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(G).position!=="fixed"&&nd.getOrCreateInstance(G).hide()});h1(nd);Rc(nd);const qC=/^aria-[\w-]*$/i,M5={"*":["class","dir","id","lang","role",qC],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},eL=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),tL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,rL=(G,z)=>{const Q=G.nodeName.toLowerCase();return z.includes(Q)?eL.has(Q)?!!tL.test(G.nodeValue):!0:z.filter(de=>de instanceof RegExp).some(de=>de.test(Q))};function nL(G,z,Q){if(!G.length)return G;if(Q&&typeof Q=="function")return Q(G);const Le=new window.DOMParser().parseFromString(G,"text/html"),We=[].concat(...Le.body.querySelectorAll("*"));for(const H of We){const U=H.nodeName.toLowerCase();if(!Object.keys(z).includes(U)){H.remove();continue}const e=[].concat(...H.attributes),d=[].concat(z["*"]||[],z[U]||[]);for(const C of e)rL(C,d)||H.removeAttribute(C.nodeName)}return Le.body.innerHTML}const aL="TemplateFactory",iL={allowList:M5,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},oL={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},sL={entry:"(string|element|function|null)",selector:"(string|element)"};class lL extends Vg{constructor(z){super(),this._config=this._getConfig(z)}static get Default(){return iL}static get DefaultType(){return oL}static get NAME(){return aL}getContent(){return Object.values(this._config.content).map(z=>this._resolvePossibleFunction(z)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(z){return this._checkContent(z),this._config.content={...this._config.content,...z},this}toHtml(){const z=document.createElement("div");z.innerHTML=this._maybeSanitize(this._config.template);for(const[Le,We]of Object.entries(this._config.content))this._setContent(z,We,Le);const Q=z.children[0],de=this._resolvePossibleFunction(this._config.extraClass);return de&&Q.classList.add(...de.split(" ")),Q}_typeCheckConfig(z){super._typeCheckConfig(z),this._checkContent(z.content)}_checkContent(z){for(const[Q,de]of Object.entries(z))super._typeCheckConfig({selector:Q,entry:de},sL)}_setContent(z,Q,de){const Le=pi.findOne(de,z);if(Le){if(Q=this._resolvePossibleFunction(Q),!Q){Le.remove();return}if(rv(Q)){this._putElementInTemplate(td(Q),Le);return}if(this._config.html){Le.innerHTML=this._maybeSanitize(Q);return}Le.textContent=Q}}_maybeSanitize(z){return this._config.sanitize?nL(z,this._config.allowList,this._config.sanitizeFn):z}_resolvePossibleFunction(z){return Af(z,[this])}_putElementInTemplate(z,Q){if(this._config.html){Q.innerHTML="",Q.append(z);return}Q.textContent=z.textContent}}const uL="tooltip",fL=new Set(["sanitize","allowList","sanitizeFn"]),s3="fade",cL="modal",nm="show",hL=".tooltip-inner",dT=`.${cL}`,pT="hide.bs.modal",tg="hover",l3="focus",vL="click",dL="manual",pL="hide",gL="hidden",yL="show",mL="shown",xL="inserted",bL="click",wL="focusin",TL="focusout",AL="mouseenter",ML="mouseleave",SL={AUTO:"auto",TOP:"top",RIGHT:_c()?"left":"right",BOTTOM:"bottom",LEFT:_c()?"right":"left"},EL={allowList:M5,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},CL={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class d0 extends uh{constructor(z,Q){if(typeof $A>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(z,Q),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return EL}static get DefaultType(){return CL}static get NAME(){return uL}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Ea.off(this._element.closest(dT),pT,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const z=Ea.trigger(this._element,this.constructor.eventName(yL)),de=(e5(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(z.defaultPrevented||!de)return;this._disposePopper();const Le=this._getTipElement();this._element.setAttribute("aria-describedby",Le.getAttribute("id"));const{container:We}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(We.append(Le),Ea.trigger(this._element,this.constructor.eventName(xL))),this._popper=this._createPopper(Le),Le.classList.add(nm),"ontouchstart"in document.documentElement)for(const U of[].concat(...document.body.children))Ea.on(U,"mouseover",Vm);const H=()=>{Ea.trigger(this._element,this.constructor.eventName(mL)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(H,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Ea.trigger(this._element,this.constructor.eventName(pL)).defaultPrevented)return;if(this._getTipElement().classList.remove(nm),"ontouchstart"in document.documentElement)for(const Le of[].concat(...document.body.children))Ea.off(Le,"mouseover",Vm);this._activeTrigger[vL]=!1,this._activeTrigger[l3]=!1,this._activeTrigger[tg]=!1,this._isHovered=null;const de=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ea.trigger(this._element,this.constructor.eventName(gL)))};this._queueCallback(de,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(z){const Q=this._getTemplateFactory(z).toHtml();if(!Q)return null;Q.classList.remove(s3,nm),Q.classList.add(`bs-${this.constructor.NAME}-auto`);const de=vE(this.constructor.NAME).toString();return Q.setAttribute("id",de),this._isAnimated()&&Q.classList.add(s3),Q}setContent(z){this._newContent=z,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(z){return this._templateFactory?this._templateFactory.changeContent(z):this._templateFactory=new lL({...this._config,content:z,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[hL]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(z){return this.constructor.getOrCreateInstance(z.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(s3)}_isShown(){return this.tip&&this.tip.classList.contains(nm)}_createPopper(z){const Q=Af(this._config.placement,[this,z,this._element]),de=SL[Q.toUpperCase()];return Bw(this._element,z,this._getPopperConfig(de))}_getOffset(){const{offset:z}=this._config;return typeof z=="string"?z.split(",").map(Q=>Number.parseInt(Q,10)):typeof z=="function"?Q=>z(Q,this._element):z}_resolvePossibleFunction(z){return Af(z,[this._element])}_getPopperConfig(z){const Q={placement:z,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:de=>{this._getTipElement().setAttribute("data-popper-placement",de.state.placement)}}]};return{...Q,...Af(this._config.popperConfig,[Q])}}_setListeners(){const z=this._config.trigger.split(" ");for(const Q of z)if(Q==="click")Ea.on(this._element,this.constructor.eventName(bL),this._config.selector,de=>{this._initializeOnDelegatedTarget(de).toggle()});else if(Q!==dL){const de=Q===tg?this.constructor.eventName(AL):this.constructor.eventName(wL),Le=Q===tg?this.constructor.eventName(ML):this.constructor.eventName(TL);Ea.on(this._element,de,this._config.selector,We=>{const H=this._initializeOnDelegatedTarget(We);H._activeTrigger[We.type==="focusin"?l3:tg]=!0,H._enter()}),Ea.on(this._element,Le,this._config.selector,We=>{const H=this._initializeOnDelegatedTarget(We);H._activeTrigger[We.type==="focusout"?l3:tg]=H._element.contains(We.relatedTarget),H._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ea.on(this._element.closest(dT),pT,this._hideModalHandler)}_fixTitle(){const z=this._element.getAttribute("title");z&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",z),this._element.setAttribute("data-bs-original-title",z),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(z,Q){clearTimeout(this._timeout),this._timeout=setTimeout(z,Q)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(z){const Q=nv.getDataAttributes(this._element);for(const de of Object.keys(Q))fL.has(de)&&delete Q[de];return z={...Q,...typeof z=="object"&&z?z:{}},z=this._mergeConfigObj(z),z=this._configAfterMerge(z),this._typeCheckConfig(z),z}_configAfterMerge(z){return z.container=z.container===!1?document.body:td(z.container),typeof z.delay=="number"&&(z.delay={show:z.delay,hide:z.delay}),typeof z.title=="number"&&(z.title=z.title.toString()),typeof z.content=="number"&&(z.content=z.content.toString()),z}_getDelegateConfig(){const z={};for(const[Q,de]of Object.entries(this._config))this.constructor.Default[Q]!==de&&(z[Q]=de);return z.selector=!1,z.trigger="manual",z}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(z){return this.each(function(){const Q=d0.getOrCreateInstance(this,z);if(typeof z=="string"){if(typeof Q[z]>"u")throw new TypeError(`No method named "${z}"`);Q[z]()}})}}Rc(d0);const LL="popover",_L=".popover-header",PL=".popover-body",RL={...d0.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DL={...d0.DefaultType,content:"(null|string|element|function)"};class Gw extends d0{static get Default(){return RL}static get DefaultType(){return DL}static get NAME(){return LL}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[_L]:this._getTitle(),[PL]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(z){return this.each(function(){const Q=Gw.getOrCreateInstance(this,z);if(typeof z=="string"){if(typeof Q[z]>"u")throw new TypeError(`No method named "${z}"`);Q[z]()}})}}Rc(Gw);const IL="scrollspy",kL="bs.scrollspy",Ww=`.${kL}`,OL=".data-api",zL=`activate${Ww}`,gT=`click${Ww}`,FL=`load${Ww}${OL}`,NL="dropdown-item",Rp="active",BL='[data-bs-spy="scroll"]',u3="[href]",UL=".nav, .list-group",yT=".nav-link",VL=".nav-item",HL=".list-group-item",GL=`${yT}, ${VL} > ${yT}, ${HL}`,WL=".dropdown",YL=".dropdown-toggle",XL={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ZL={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class p1 extends uh{constructor(z,Q){super(z,Q),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return XL}static get DefaultType(){return ZL}static get NAME(){return IL}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const z of this._observableSections.values())this._observer.observe(z)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(z){return z.target=td(z.target)||document.body,z.rootMargin=z.offset?`${z.offset}px 0px -30%`:z.rootMargin,typeof z.threshold=="string"&&(z.threshold=z.threshold.split(",").map(Q=>Number.parseFloat(Q))),z}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ea.off(this._config.target,gT),Ea.on(this._config.target,gT,u3,z=>{const Q=this._observableSections.get(z.target.hash);if(Q){z.preventDefault();const de=this._rootElement||window,Le=Q.offsetTop-this._element.offsetTop;if(de.scrollTo){de.scrollTo({top:Le,behavior:"smooth"});return}de.scrollTop=Le}}))}_getNewObserver(){const z={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Q=>this._observerCallback(Q),z)}_observerCallback(z){const Q=H=>this._targetLinks.get(`#${H.target.id}`),de=H=>{this._previousScrollData.visibleEntryTop=H.target.offsetTop,this._process(Q(H))},Le=(this._rootElement||document.documentElement).scrollTop,We=Le>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Le;for(const H of z){if(!H.isIntersecting){this._activeTarget=null,this._clearActiveClass(Q(H));continue}const U=H.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(We&&U){if(de(H),!Le)return;continue}!We&&!U&&de(H)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const z=pi.find(u3,this._config.target);for(const Q of z){if(!Q.hash||rd(Q))continue;const de=pi.findOne(decodeURI(Q.hash),this._element);h0(de)&&(this._targetLinks.set(decodeURI(Q.hash),Q),this._observableSections.set(Q.hash,de))}}_process(z){this._activeTarget!==z&&(this._clearActiveClass(this._config.target),this._activeTarget=z,z.classList.add(Rp),this._activateParents(z),Ea.trigger(this._element,zL,{relatedTarget:z}))}_activateParents(z){if(z.classList.contains(NL)){pi.findOne(YL,z.closest(WL)).classList.add(Rp);return}for(const Q of pi.parents(z,UL))for(const de of pi.prev(Q,GL))de.classList.add(Rp)}_clearActiveClass(z){z.classList.remove(Rp);const Q=pi.find(`${u3}.${Rp}`,z);for(const de of Q)de.classList.remove(Rp)}static jQueryInterface(z){return this.each(function(){const Q=p1.getOrCreateInstance(this,z);if(typeof z=="string"){if(Q[z]===void 0||z.startsWith("_")||z==="constructor")throw new TypeError(`No method named "${z}"`);Q[z]()}})}}Ea.on(window,FL,()=>{for(const G of pi.find(BL))p1.getOrCreateInstance(G)});Rc(p1);const jL="tab",KL="bs.tab",ep=`.${KL}`,JL=`hide${ep}`,$L=`hidden${ep}`,QL=`show${ep}`,qL=`shown${ep}`,e_=`click${ep}`,t_=`keydown${ep}`,r_=`load${ep}`,n_="ArrowLeft",mT="ArrowRight",a_="ArrowUp",xT="ArrowDown",f3="Home",bT="End",Ud="active",wT="fade",c3="show",i_="dropdown",S5=".dropdown-toggle",o_=".dropdown-menu",h3=`:not(${S5})`,s_='.list-group, .nav, [role="tablist"]',l_=".nav-item, .list-group-item",u_=`.nav-link${h3}, .list-group-item${h3}, [role="tab"]${h3}`,E5='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',v3=`${u_}, ${E5}`,f_=`.${Ud}[data-bs-toggle="tab"], .${Ud}[data-bs-toggle="pill"], .${Ud}[data-bs-toggle="list"]`;class n0 extends uh{constructor(z){super(z),this._parent=this._element.closest(s_),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ea.on(this._element,t_,Q=>this._keydown(Q)))}static get NAME(){return jL}show(){const z=this._element;if(this._elemIsActive(z))return;const Q=this._getActiveElem(),de=Q?Ea.trigger(Q,JL,{relatedTarget:z}):null;Ea.trigger(z,QL,{relatedTarget:Q}).defaultPrevented||de&&de.defaultPrevented||(this._deactivate(Q,z),this._activate(z,Q))}_activate(z,Q){if(!z)return;z.classList.add(Ud),this._activate(pi.getElementFromSelector(z));const de=()=>{if(z.getAttribute("role")!=="tab"){z.classList.add(c3);return}z.removeAttribute("tabindex"),z.setAttribute("aria-selected",!0),this._toggleDropDown(z,!0),Ea.trigger(z,qL,{relatedTarget:Q})};this._queueCallback(de,z,z.classList.contains(wT))}_deactivate(z,Q){if(!z)return;z.classList.remove(Ud),z.blur(),this._deactivate(pi.getElementFromSelector(z));const de=()=>{if(z.getAttribute("role")!=="tab"){z.classList.remove(c3);return}z.setAttribute("aria-selected",!1),z.setAttribute("tabindex","-1"),this._toggleDropDown(z,!1),Ea.trigger(z,$L,{relatedTarget:Q})};this._queueCallback(de,z,z.classList.contains(wT))}_keydown(z){if(![n_,mT,a_,xT,f3,bT].includes(z.key))return;z.stopPropagation(),z.preventDefault();const Q=this._getChildren().filter(Le=>!rd(Le));let de;if([f3,bT].includes(z.key))de=Q[z.key===f3?0:Q.length-1];else{const Le=[mT,xT].includes(z.key);de=Uw(Q,z.target,Le,!0)}de&&(de.focus({preventScroll:!0}),n0.getOrCreateInstance(de).show())}_getChildren(){return pi.find(v3,this._parent)}_getActiveElem(){return this._getChildren().find(z=>this._elemIsActive(z))||null}_setInitialAttributes(z,Q){this._setAttributeIfNotExists(z,"role","tablist");for(const de of Q)this._setInitialAttributesOnChild(de)}_setInitialAttributesOnChild(z){z=this._getInnerElement(z);const Q=this._elemIsActive(z),de=this._getOuterElement(z);z.setAttribute("aria-selected",Q),de!==z&&this._setAttributeIfNotExists(de,"role","presentation"),Q||z.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(z,"role","tab"),this._setInitialAttributesOnTargetPanel(z)}_setInitialAttributesOnTargetPanel(z){const Q=pi.getElementFromSelector(z);Q&&(this._setAttributeIfNotExists(Q,"role","tabpanel"),z.id&&this._setAttributeIfNotExists(Q,"aria-labelledby",`${z.id}`))}_toggleDropDown(z,Q){const de=this._getOuterElement(z);if(!de.classList.contains(i_))return;const Le=(We,H)=>{const U=pi.findOne(We,de);U&&U.classList.toggle(H,Q)};Le(S5,Ud),Le(o_,c3),de.setAttribute("aria-expanded",Q)}_setAttributeIfNotExists(z,Q,de){z.hasAttribute(Q)||z.setAttribute(Q,de)}_elemIsActive(z){return z.classList.contains(Ud)}_getInnerElement(z){return z.matches(v3)?z:pi.findOne(v3,z)}_getOuterElement(z){return z.closest(l_)||z}static jQueryInterface(z){return this.each(function(){const Q=n0.getOrCreateInstance(this);if(typeof z=="string"){if(Q[z]===void 0||z.startsWith("_")||z==="constructor")throw new TypeError(`No method named "${z}"`);Q[z]()}})}}Ea.on(document,e_,E5,function(G){["A","AREA"].includes(this.tagName)&&G.preventDefault(),!rd(this)&&n0.getOrCreateInstance(this).show()});Ea.on(window,r_,()=>{for(const G of pi.find(f_))n0.getOrCreateInstance(G)});Rc(n0);const c_="toast",h_="bs.toast",cd=`.${h_}`,v_=`mouseover${cd}`,d_=`mouseout${cd}`,p_=`focusin${cd}`,g_=`focusout${cd}`,y_=`hide${cd}`,m_=`hidden${cd}`,x_=`show${cd}`,b_=`shown${cd}`,w_="fade",TT="hide",am="show",im="showing",T_={animation:"boolean",autohide:"boolean",delay:"number"},A_={animation:!0,autohide:!0,delay:5e3};class g1 extends uh{constructor(z,Q){super(z,Q),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return A_}static get DefaultType(){return T_}static get NAME(){return c_}show(){if(Ea.trigger(this._element,x_).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(w_);const Q=()=>{this._element.classList.remove(im),Ea.trigger(this._element,b_),this._maybeScheduleHide()};this._element.classList.remove(TT),Ug(this._element),this._element.classList.add(am,im),this._queueCallback(Q,this._element,this._config.animation)}hide(){if(!this.isShown()||Ea.trigger(this._element,y_).defaultPrevented)return;const Q=()=>{this._element.classList.add(TT),this._element.classList.remove(im,am),Ea.trigger(this._element,m_)};this._element.classList.add(im),this._queueCallback(Q,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(am),super.dispose()}isShown(){return this._element.classList.contains(am)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(z,Q){switch(z.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=Q;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=Q;break}}if(Q){this._clearTimeout();return}const de=z.relatedTarget;this._element===de||this._element.contains(de)||this._maybeScheduleHide()}_setListeners(){Ea.on(this._element,v_,z=>this._onInteraction(z,!0)),Ea.on(this._element,d_,z=>this._onInteraction(z,!1)),Ea.on(this._element,p_,z=>this._onInteraction(z,!0)),Ea.on(this._element,g_,z=>this._onInteraction(z,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(z){return this.each(function(){const Q=g1.getOrCreateInstance(this,z);if(typeof z=="string"){if(typeof Q[z]>"u")throw new TypeError(`No method named "${z}"`);Q[z](this)}})}}h1(g1);Rc(g1);/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yw(G,z){const Q=new Set(G.split(","));return z?de=>Q.has(de.toLowerCase()):de=>Q.has(de)}const ls={},Gp=[],Mc=()=>{},M_=()=>!1,y1=G=>G.charCodeAt(0)===111&&G.charCodeAt(1)===110&&(G.charCodeAt(2)>122||G.charCodeAt(2)<97),Xw=G=>G.startsWith("onUpdate:"),jl=Object.assign,Zw=(G,z)=>{const Q=G.indexOf(z);Q>-1&&G.splice(Q,1)},S_=Object.prototype.hasOwnProperty,yo=(G,z)=>S_.call(G,z),Ai=Array.isArray,Wp=G=>Wg(G)==="[object Map]",m1=G=>Wg(G)==="[object Set]",AT=G=>Wg(G)==="[object Date]",Vi=G=>typeof G=="function",dl=G=>typeof G=="string",ad=G=>typeof G=="symbol",qo=G=>G!==null&&typeof G=="object",C5=G=>(qo(G)||Vi(G))&&Vi(G.then)&&Vi(G.catch),L5=Object.prototype.toString,Wg=G=>L5.call(G),E_=G=>Wg(G).slice(8,-1),_5=G=>Wg(G)==="[object Object]",jw=G=>dl(G)&&G!=="NaN"&&G[0]!=="-"&&""+parseInt(G,10)===G,vg=Yw(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),x1=G=>{const z=Object.create(null);return Q=>z[Q]||(z[Q]=G(Q))},C_=/-(\w)/g,Bh=x1(G=>G.replace(C_,(z,Q)=>Q?Q.toUpperCase():"")),L_=/\B([A-Z])/g,p0=x1(G=>G.replace(L_,"-$1").toLowerCase()),b1=x1(G=>G.charAt(0).toUpperCase()+G.slice(1)),d3=x1(G=>G?`on${b1(G)}`:""),id=(G,z)=>!Object.is(G,z),Rm=(G,z)=>{for(let Q=0;Q<G.length;Q++)G[Q](z)},Wm=(G,z,Q)=>{Object.defineProperty(G,z,{configurable:!0,enumerable:!1,value:Q})},Ag=G=>{const z=parseFloat(G);return isNaN(z)?G:z};let MT;const P5=()=>MT||(MT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Kw(G){if(Ai(G)){const z={};for(let Q=0;Q<G.length;Q++){const de=G[Q],Le=dl(de)?D_(de):Kw(de);if(Le)for(const We in Le)z[We]=Le[We]}return z}else if(dl(G)||qo(G))return G}const __=/;(?![^(]*\))/g,P_=/:([^]+)/,R_=/\/\*[^]*?\*\//g;function D_(G){const z={};return G.replace(R_,"").split(__).forEach(Q=>{if(Q){const de=Q.split(P_);de.length>1&&(z[de[0].trim()]=de[1].trim())}}),z}function w1(G){let z="";if(dl(G))z=G;else if(Ai(G))for(let Q=0;Q<G.length;Q++){const de=w1(G[Q]);de&&(z+=de+" ")}else if(qo(G))for(const Q in G)G[Q]&&(z+=Q+" ");return z.trim()}const I_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",k_=Yw(I_);function R5(G){return!!G||G===""}function O_(G,z){if(G.length!==z.length)return!1;let Q=!0;for(let de=0;Q&&de<G.length;de++)Q=T1(G[de],z[de]);return Q}function T1(G,z){if(G===z)return!0;let Q=AT(G),de=AT(z);if(Q||de)return Q&&de?G.getTime()===z.getTime():!1;if(Q=ad(G),de=ad(z),Q||de)return G===z;if(Q=Ai(G),de=Ai(z),Q||de)return Q&&de?O_(G,z):!1;if(Q=qo(G),de=qo(z),Q||de){if(!Q||!de)return!1;const Le=Object.keys(G).length,We=Object.keys(z).length;if(Le!==We)return!1;for(const H in G){const U=G.hasOwnProperty(H),e=z.hasOwnProperty(H);if(U&&!e||!U&&e||!T1(G[H],z[H]))return!1}}return String(G)===String(z)}function z_(G,z){return G.findIndex(Q=>T1(Q,z))}const fu=G=>dl(G)?G:G==null?"":Ai(G)||qo(G)&&(G.toString===L5||!Vi(G.toString))?JSON.stringify(G,D5,2):String(G),D5=(G,z)=>z&&z.__v_isRef?D5(G,z.value):Wp(z)?{[`Map(${z.size})`]:[...z.entries()].reduce((Q,[de,Le],We)=>(Q[p3(de,We)+" =>"]=Le,Q),{})}:m1(z)?{[`Set(${z.size})`]:[...z.values()].map(Q=>p3(Q))}:ad(z)?p3(z):qo(z)&&!Ai(z)&&!_5(z)?String(z):z,p3=(G,z="")=>{var Q;return ad(G)?`Symbol(${(Q=G.description)!=null?Q:z})`:G};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qf;class I5{constructor(z=!1){this.detached=z,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qf,!z&&Qf&&(this.index=(Qf.scopes||(Qf.scopes=[])).push(this)-1)}get active(){return this._active}run(z){if(this._active){const Q=Qf;try{return Qf=this,z()}finally{Qf=Q}}}on(){Qf=this}off(){Qf=this.parent}stop(z){if(this._active){let Q,de;for(Q=0,de=this.effects.length;Q<de;Q++)this.effects[Q].stop();for(Q=0,de=this.cleanups.length;Q<de;Q++)this.cleanups[Q]();if(this.scopes)for(Q=0,de=this.scopes.length;Q<de;Q++)this.scopes[Q].stop(!0);if(!this.detached&&this.parent&&!z){const Le=this.parent.scopes.pop();Le&&Le!==this&&(this.parent.scopes[this.index]=Le,Le.index=this.index)}this.parent=void 0,this._active=!1}}}function k5(G){return new I5(G)}function F_(G,z=Qf){z&&z.active&&z.effects.push(G)}function O5(){return Qf}function N_(G){Qf&&Qf.cleanups.push(G)}let Xd;class Jw{constructor(z,Q,de,Le){this.fn=z,this.trigger=Q,this.scheduler=de,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,F_(this,Le)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,tp();for(let z=0;z<this._depsLength;z++){const Q=this.deps[z];if(Q.computed&&(B_(Q.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),rp()}return this._dirtyLevel>=4}set dirty(z){this._dirtyLevel=z?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let z=Qv,Q=Xd;try{return Qv=!0,Xd=this,this._runnings++,ST(this),this.fn()}finally{ET(this),this._runnings--,Xd=Q,Qv=z}}stop(){var z;this.active&&(ST(this),ET(this),(z=this.onStop)==null||z.call(this),this.active=!1)}}function B_(G){return G.value}function ST(G){G._trackId++,G._depsLength=0}function ET(G){if(G.deps.length>G._depsLength){for(let z=G._depsLength;z<G.deps.length;z++)z5(G.deps[z],G);G.deps.length=G._depsLength}}function z5(G,z){const Q=G.get(z);Q!==void 0&&z._trackId!==Q&&(G.delete(z),G.size===0&&G.cleanup())}let Qv=!0,X3=0;const F5=[];function tp(){F5.push(Qv),Qv=!1}function rp(){const G=F5.pop();Qv=G===void 0?!0:G}function $w(){X3++}function Qw(){for(X3--;!X3&&Z3.length;)Z3.shift()()}function N5(G,z,Q){if(z.get(G)!==G._trackId){z.set(G,G._trackId);const de=G.deps[G._depsLength];de!==z?(de&&z5(de,G),G.deps[G._depsLength++]=z):G._depsLength++}}const Z3=[];function B5(G,z,Q){$w();for(const de of G.keys()){let Le;de._dirtyLevel<z&&(Le??(Le=G.get(de)===de._trackId))&&(de._shouldSchedule||(de._shouldSchedule=de._dirtyLevel===0),de._dirtyLevel=z),de._shouldSchedule&&(Le??(Le=G.get(de)===de._trackId))&&(de.trigger(),(!de._runnings||de.allowRecurse)&&de._dirtyLevel!==2&&(de._shouldSchedule=!1,de.scheduler&&Z3.push(de.scheduler)))}Qw()}const U5=(G,z)=>{const Q=new Map;return Q.cleanup=G,Q.computed=z,Q},Ym=new WeakMap,Zd=Symbol(""),j3=Symbol("");function Mf(G,z,Q){if(Qv&&Xd){let de=Ym.get(G);de||Ym.set(G,de=new Map);let Le=de.get(Q);Le||de.set(Q,Le=U5(()=>de.delete(Q))),N5(Xd,Le)}}function av(G,z,Q,de,Le,We){const H=Ym.get(G);if(!H)return;let U=[];if(z==="clear")U=[...H.values()];else if(Q==="length"&&Ai(G)){const e=Number(de);H.forEach((d,C)=>{(C==="length"||!ad(C)&&C>=e)&&U.push(d)})}else switch(Q!==void 0&&U.push(H.get(Q)),z){case"add":Ai(G)?jw(Q)&&U.push(H.get("length")):(U.push(H.get(Zd)),Wp(G)&&U.push(H.get(j3)));break;case"delete":Ai(G)||(U.push(H.get(Zd)),Wp(G)&&U.push(H.get(j3)));break;case"set":Wp(G)&&U.push(H.get(Zd));break}$w();for(const e of U)e&&B5(e,4);Qw()}function U_(G,z){var Q;return(Q=Ym.get(G))==null?void 0:Q.get(z)}const V_=Yw("__proto__,__v_isRef,__isVue"),V5=new Set(Object.getOwnPropertyNames(Symbol).filter(G=>G!=="arguments"&&G!=="caller").map(G=>Symbol[G]).filter(ad)),CT=H_();function H_(){const G={};return["includes","indexOf","lastIndexOf"].forEach(z=>{G[z]=function(...Q){const de=xo(this);for(let We=0,H=this.length;We<H;We++)Mf(de,"get",We+"");const Le=de[z](...Q);return Le===-1||Le===!1?de[z](...Q.map(xo)):Le}}),["push","pop","shift","unshift","splice"].forEach(z=>{G[z]=function(...Q){tp(),$w();const de=xo(this)[z].apply(this,Q);return Qw(),rp(),de}}),G}function G_(G){const z=xo(this);return Mf(z,"has",G),z.hasOwnProperty(G)}class H5{constructor(z=!1,Q=!1){this._isReadonly=z,this._shallow=Q}get(z,Q,de){const Le=this._isReadonly,We=this._shallow;if(Q==="__v_isReactive")return!Le;if(Q==="__v_isReadonly")return Le;if(Q==="__v_isShallow")return We;if(Q==="__v_raw")return de===(Le?We?rP:X5:We?Y5:W5).get(z)||Object.getPrototypeOf(z)===Object.getPrototypeOf(de)?z:void 0;const H=Ai(z);if(!Le){if(H&&yo(CT,Q))return Reflect.get(CT,Q,de);if(Q==="hasOwnProperty")return G_}const U=Reflect.get(z,Q,de);return(ad(Q)?V5.has(Q):V_(Q))||(Le||Mf(z,"get",Q),We)?U:Xs(U)?H&&jw(Q)?U:U.value:qo(U)?Le?j5(U):Yg(U):U}}class G5 extends H5{constructor(z=!1){super(!1,z)}set(z,Q,de,Le){let We=z[Q];if(!this._shallow){const e=a0(We);if(!Xm(de)&&!a0(de)&&(We=xo(We),de=xo(de)),!Ai(z)&&Xs(We)&&!Xs(de))return e?!1:(We.value=de,!0)}const H=Ai(z)&&jw(Q)?Number(Q)<z.length:yo(z,Q),U=Reflect.set(z,Q,de,Le);return z===xo(Le)&&(H?id(de,We)&&av(z,"set",Q,de):av(z,"add",Q,de)),U}deleteProperty(z,Q){const de=yo(z,Q);z[Q];const Le=Reflect.deleteProperty(z,Q);return Le&&de&&av(z,"delete",Q,void 0),Le}has(z,Q){const de=Reflect.has(z,Q);return(!ad(Q)||!V5.has(Q))&&Mf(z,"has",Q),de}ownKeys(z){return Mf(z,"iterate",Ai(z)?"length":Zd),Reflect.ownKeys(z)}}class W_ extends H5{constructor(z=!1){super(!0,z)}set(z,Q){return!0}deleteProperty(z,Q){return!0}}const Y_=new G5,X_=new W_,Z_=new G5(!0),qw=G=>G,A1=G=>Reflect.getPrototypeOf(G);function om(G,z,Q=!1,de=!1){G=G.__v_raw;const Le=xo(G),We=xo(z);Q||(id(z,We)&&Mf(Le,"get",z),Mf(Le,"get",We));const{has:H}=A1(Le),U=de?qw:Q?r2:Mg;if(H.call(Le,z))return U(G.get(z));if(H.call(Le,We))return U(G.get(We));G!==Le&&G.get(z)}function sm(G,z=!1){const Q=this.__v_raw,de=xo(Q),Le=xo(G);return z||(id(G,Le)&&Mf(de,"has",G),Mf(de,"has",Le)),G===Le?Q.has(G):Q.has(G)||Q.has(Le)}function lm(G,z=!1){return G=G.__v_raw,!z&&Mf(xo(G),"iterate",Zd),Reflect.get(G,"size",G)}function LT(G){G=xo(G);const z=xo(this);return A1(z).has.call(z,G)||(z.add(G),av(z,"add",G,G)),this}function _T(G,z){z=xo(z);const Q=xo(this),{has:de,get:Le}=A1(Q);let We=de.call(Q,G);We||(G=xo(G),We=de.call(Q,G));const H=Le.call(Q,G);return Q.set(G,z),We?id(z,H)&&av(Q,"set",G,z):av(Q,"add",G,z),this}function PT(G){const z=xo(this),{has:Q,get:de}=A1(z);let Le=Q.call(z,G);Le||(G=xo(G),Le=Q.call(z,G)),de&&de.call(z,G);const We=z.delete(G);return Le&&av(z,"delete",G,void 0),We}function RT(){const G=xo(this),z=G.size!==0,Q=G.clear();return z&&av(G,"clear",void 0,void 0),Q}function um(G,z){return function(de,Le){const We=this,H=We.__v_raw,U=xo(H),e=z?qw:G?r2:Mg;return!G&&Mf(U,"iterate",Zd),H.forEach((d,C)=>de.call(Le,e(d),e(C),We))}}function fm(G,z,Q){return function(...de){const Le=this.__v_raw,We=xo(Le),H=Wp(We),U=G==="entries"||G===Symbol.iterator&&H,e=G==="keys"&&H,d=Le[G](...de),C=Q?qw:z?r2:Mg;return!z&&Mf(We,"iterate",e?j3:Zd),{next(){const{value:n,done:L}=d.next();return L?{value:n,done:L}:{value:U?[C(n[0]),C(n[1])]:C(n),done:L}},[Symbol.iterator](){return this}}}}function Uv(G){return function(...z){return G==="delete"?!1:G==="clear"?void 0:this}}function j_(){const G={get(We){return om(this,We)},get size(){return lm(this)},has:sm,add:LT,set:_T,delete:PT,clear:RT,forEach:um(!1,!1)},z={get(We){return om(this,We,!1,!0)},get size(){return lm(this)},has:sm,add:LT,set:_T,delete:PT,clear:RT,forEach:um(!1,!0)},Q={get(We){return om(this,We,!0)},get size(){return lm(this,!0)},has(We){return sm.call(this,We,!0)},add:Uv("add"),set:Uv("set"),delete:Uv("delete"),clear:Uv("clear"),forEach:um(!0,!1)},de={get(We){return om(this,We,!0,!0)},get size(){return lm(this,!0)},has(We){return sm.call(this,We,!0)},add:Uv("add"),set:Uv("set"),delete:Uv("delete"),clear:Uv("clear"),forEach:um(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(We=>{G[We]=fm(We,!1,!1),Q[We]=fm(We,!0,!1),z[We]=fm(We,!1,!0),de[We]=fm(We,!0,!0)}),[G,Q,z,de]}const[K_,J_,$_,Q_]=j_();function e2(G,z){const Q=z?G?Q_:$_:G?J_:K_;return(de,Le,We)=>Le==="__v_isReactive"?!G:Le==="__v_isReadonly"?G:Le==="__v_raw"?de:Reflect.get(yo(Q,Le)&&Le in de?Q:de,Le,We)}const q_={get:e2(!1,!1)},eP={get:e2(!1,!0)},tP={get:e2(!0,!1)},W5=new WeakMap,Y5=new WeakMap,X5=new WeakMap,rP=new WeakMap;function nP(G){switch(G){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aP(G){return G.__v_skip||!Object.isExtensible(G)?0:nP(E_(G))}function Yg(G){return a0(G)?G:t2(G,!1,Y_,q_,W5)}function Z5(G){return t2(G,!1,Z_,eP,Y5)}function j5(G){return t2(G,!0,X_,tP,X5)}function t2(G,z,Q,de,Le){if(!qo(G)||G.__v_raw&&!(z&&G.__v_isReactive))return G;const We=Le.get(G);if(We)return We;const H=aP(G);if(H===0)return G;const U=new Proxy(G,H===2?de:Q);return Le.set(G,U),U}function qv(G){return a0(G)?qv(G.__v_raw):!!(G&&G.__v_isReactive)}function a0(G){return!!(G&&G.__v_isReadonly)}function Xm(G){return!!(G&&G.__v_isShallow)}function K5(G){return qv(G)||a0(G)}function xo(G){const z=G&&G.__v_raw;return z?xo(z):G}function M1(G){return Object.isExtensible(G)&&Wm(G,"__v_skip",!0),G}const Mg=G=>qo(G)?Yg(G):G,r2=G=>qo(G)?j5(G):G;class J5{constructor(z,Q,de,Le){this._setter=Q,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Jw(()=>z(this._value),()=>Dm(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!Le,this.__v_isReadonly=de}get value(){const z=xo(this);return(!z._cacheable||z.effect.dirty)&&id(z._value,z._value=z.effect.run())&&Dm(z,4),$5(z),z.effect._dirtyLevel>=2&&Dm(z,2),z._value}set value(z){this._setter(z)}get _dirty(){return this.effect.dirty}set _dirty(z){this.effect.dirty=z}}function iP(G,z,Q=!1){let de,Le;const We=Vi(G);return We?(de=G,Le=Mc):(de=G.get,Le=G.set),new J5(de,Le,We||!Le,Q)}function $5(G){var z;Qv&&Xd&&(G=xo(G),N5(Xd,(z=G.dep)!=null?z:G.dep=U5(()=>G.dep=void 0,G instanceof J5?G:void 0)))}function Dm(G,z=4,Q){G=xo(G);const de=G.dep;de&&B5(de,z)}function Xs(G){return!!(G&&G.__v_isRef===!0)}function Qo(G){return Q5(G,!1)}function oP(G){return Q5(G,!0)}function Q5(G,z){return Xs(G)?G:new sP(G,z)}class sP{constructor(z,Q){this.__v_isShallow=Q,this.dep=void 0,this.__v_isRef=!0,this._rawValue=Q?z:xo(z),this._value=Q?z:Mg(z)}get value(){return $5(this),this._value}set value(z){const Q=this.__v_isShallow||Xm(z)||a0(z);z=Q?z:xo(z),id(z,this._rawValue)&&(this._rawValue=z,this._value=Q?z:Mg(z),Dm(this,4))}}function Zi(G){return Xs(G)?G.value:G}const lP={get:(G,z,Q)=>Zi(Reflect.get(G,z,Q)),set:(G,z,Q,de)=>{const Le=G[z];return Xs(Le)&&!Xs(Q)?(Le.value=Q,!0):Reflect.set(G,z,Q,de)}};function q5(G){return qv(G)?G:new Proxy(G,lP)}function uP(G){const z=Ai(G)?new Array(G.length):{};for(const Q in G)z[Q]=cP(G,Q);return z}class fP{constructor(z,Q,de){this._object=z,this._key=Q,this._defaultValue=de,this.__v_isRef=!0}get value(){const z=this._object[this._key];return z===void 0?this._defaultValue:z}set value(z){this._object[this._key]=z}get dep(){return U_(xo(this._object),this._key)}}function cP(G,z,Q){const de=G[z];return Xs(de)?de:new fP(G,z,Q)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ed(G,z,Q,de){try{return de?G(...de):G()}catch(Le){S1(Le,z,Q)}}function ih(G,z,Q,de){if(Vi(G)){const We=ed(G,z,Q,de);return We&&C5(We)&&We.catch(H=>{S1(H,z,Q)}),We}const Le=[];for(let We=0;We<G.length;We++)Le.push(ih(G[We],z,Q,de));return Le}function S1(G,z,Q,de=!0){const Le=z?z.vnode:null;if(z){let We=z.parent;const H=z.proxy,U=`https://vuejs.org/error-reference/#runtime-${Q}`;for(;We;){const d=We.ec;if(d){for(let C=0;C<d.length;C++)if(d[C](G,H,U)===!1)return}We=We.parent}const e=z.appContext.config.errorHandler;if(e){ed(e,null,10,[G,H,U]);return}}hP(G,Q,Le,de)}function hP(G,z,Q,de=!0){console.error(G)}let Sg=!1,K3=!1;const cu=[];let kh=0;const Yp=[];let Xv=null,Fd=0;const e6=Promise.resolve();let n2=null;function Xg(G){const z=n2||e6;return G?z.then(this?G.bind(this):G):z}function vP(G){let z=kh+1,Q=cu.length;for(;z<Q;){const de=z+Q>>>1,Le=cu[de],We=Eg(Le);We<G||We===G&&Le.pre?z=de+1:Q=de}return z}function a2(G){(!cu.length||!cu.includes(G,Sg&&G.allowRecurse?kh+1:kh))&&(G.id==null?cu.push(G):cu.splice(vP(G.id),0,G),t6())}function t6(){!Sg&&!K3&&(K3=!0,n2=e6.then(n6))}function dP(G){const z=cu.indexOf(G);z>kh&&cu.splice(z,1)}function pP(G){Ai(G)?Yp.push(...G):(!Xv||!Xv.includes(G,G.allowRecurse?Fd+1:Fd))&&Yp.push(G),t6()}function DT(G,z,Q=Sg?kh+1:0){for(;Q<cu.length;Q++){const de=cu[Q];if(de&&de.pre){if(G&&de.id!==G.uid)continue;cu.splice(Q,1),Q--,de()}}}function r6(G){if(Yp.length){const z=[...new Set(Yp)].sort((Q,de)=>Eg(Q)-Eg(de));if(Yp.length=0,Xv){Xv.push(...z);return}for(Xv=z,Fd=0;Fd<Xv.length;Fd++)Xv[Fd]();Xv=null,Fd=0}}const Eg=G=>G.id==null?1/0:G.id,gP=(G,z)=>{const Q=Eg(G)-Eg(z);if(Q===0){if(G.pre&&!z.pre)return-1;if(z.pre&&!G.pre)return 1}return Q};function n6(G){K3=!1,Sg=!0,cu.sort(gP);try{for(kh=0;kh<cu.length;kh++){const z=cu[kh];z&&z.active!==!1&&ed(z,null,14)}}finally{kh=0,cu.length=0,r6(),Sg=!1,n2=null,(cu.length||Yp.length)&&n6()}}function yP(G,z,...Q){if(G.isUnmounted)return;const de=G.vnode.props||ls;let Le=Q;const We=z.startsWith("update:"),H=We&&z.slice(7);if(H&&H in de){const C=`${H==="modelValue"?"model":H}Modifiers`,{number:n,trim:L}=de[C]||ls;L&&(Le=Q.map(w=>dl(w)?w.trim():w)),n&&(Le=Q.map(Ag))}let U,e=de[U=d3(z)]||de[U=d3(Bh(z))];!e&&We&&(e=de[U=d3(p0(z))]),e&&ih(e,G,6,Le);const d=de[U+"Once"];if(d){if(!G.emitted)G.emitted={};else if(G.emitted[U])return;G.emitted[U]=!0,ih(d,G,6,Le)}}function a6(G,z,Q=!1){const de=z.emitsCache,Le=de.get(G);if(Le!==void 0)return Le;const We=G.emits;let H={},U=!1;if(!Vi(G)){const e=d=>{const C=a6(d,z,!0);C&&(U=!0,jl(H,C))};!Q&&z.mixins.length&&z.mixins.forEach(e),G.extends&&e(G.extends),G.mixins&&G.mixins.forEach(e)}return!We&&!U?(qo(G)&&de.set(G,null),null):(Ai(We)?We.forEach(e=>H[e]=null):jl(H,We),qo(G)&&de.set(G,H),H)}function E1(G,z){return!G||!y1(z)?!1:(z=z.slice(2).replace(/Once$/,""),yo(G,z[0].toLowerCase()+z.slice(1))||yo(G,p0(z))||yo(G,z))}let zu=null,C1=null;function Zm(G){const z=zu;return zu=G,C1=G&&G.type.__scopeId||null,z}function mP(G){C1=G}function xP(){C1=null}function jm(G,z=zu,Q){if(!z||G._n)return G;const de=(...Le)=>{de._d&&GT(-1);const We=Zm(z);let H;try{H=G(...Le)}finally{Zm(We),de._d&&GT(1)}return H};return de._n=!0,de._c=!0,de._d=!0,de}function g3(G){const{type:z,vnode:Q,proxy:de,withProxy:Le,props:We,propsOptions:[H],slots:U,attrs:e,emit:d,render:C,renderCache:n,data:L,setupState:w,ctx:v,inheritAttrs:g}=G;let r,t;const i=Zm(G);try{if(Q.shapeFlag&4){const u=Le||de,f=u;r=Ih(C.call(f,u,n,We,w,L,v)),t=e}else{const u=z;r=Ih(u.length>1?u(We,{attrs:e,slots:U,emit:d}):u(We,null)),t=z.props?e:bP(e)}}catch(u){pg.length=0,S1(u,G,1),r=Go(Cg)}let a=r;if(t&&g!==!1){const u=Object.keys(t),{shapeFlag:f}=a;u.length&&f&7&&(H&&u.some(Xw)&&(t=wP(t,H)),a=o0(a,t))}return Q.dirs&&(a=o0(a),a.dirs=a.dirs?a.dirs.concat(Q.dirs):Q.dirs),Q.transition&&(a.transition=Q.transition),r=a,Zm(i),r}const bP=G=>{let z;for(const Q in G)(Q==="class"||Q==="style"||y1(Q))&&((z||(z={}))[Q]=G[Q]);return z},wP=(G,z)=>{const Q={};for(const de in G)(!Xw(de)||!(de.slice(9)in z))&&(Q[de]=G[de]);return Q};function TP(G,z,Q){const{props:de,children:Le,component:We}=G,{props:H,children:U,patchFlag:e}=z,d=We.emitsOptions;if(z.dirs||z.transition)return!0;if(Q&&e>=0){if(e&1024)return!0;if(e&16)return de?IT(de,H,d):!!H;if(e&8){const C=z.dynamicProps;for(let n=0;n<C.length;n++){const L=C[n];if(H[L]!==de[L]&&!E1(d,L))return!0}}}else return(Le||U)&&(!U||!U.$stable)?!0:de===H?!1:de?H?IT(de,H,d):!0:!!H;return!1}function IT(G,z,Q){const de=Object.keys(z);if(de.length!==Object.keys(G).length)return!0;for(let Le=0;Le<de.length;Le++){const We=de[Le];if(z[We]!==G[We]&&!E1(Q,We))return!0}return!1}function AP({vnode:G,parent:z},Q){for(;z;){const de=z.subTree;if(de.suspense&&de.suspense.activeBranch===G&&(de.el=G.el),de===G)(G=z.vnode).el=Q,z=z.parent;else break}}const i6="components";function o6(G,z){return SP(i6,G,!0,z)||G}const MP=Symbol.for("v-ndc");function SP(G,z,Q=!0,de=!1){const Le=zu||Zl;if(Le){const We=Le.type;if(G===i6){const U=x7(We,!1);if(U&&(U===z||U===Bh(z)||U===b1(Bh(z))))return We}const H=kT(Le[G]||We[G],z)||kT(Le.appContext[G],z);return!H&&de?We:H}}function kT(G,z){return G&&(G[z]||G[Bh(z)]||G[b1(Bh(z))])}const EP=G=>G.__isSuspense;function CP(G,z){z&&z.pendingBranch?Ai(G)?z.effects.push(...G):z.effects.push(G):pP(G)}const LP=Symbol.for("v-scx"),_P=()=>Lc(LP);function PP(G,z){return i2(G,null,z)}const cm={};function oh(G,z,Q){return i2(G,z,Q)}function i2(G,z,{immediate:Q,deep:de,flush:Le,once:We,onTrack:H,onTrigger:U}=ls){if(z&&We){const l=z;z=(...m)=>{l(...m),f()}}const e=Zl,d=l=>de===!0?l:Vd(l,de===!1?1:void 0);let C,n=!1,L=!1;if(Xs(G)?(C=()=>G.value,n=Xm(G)):qv(G)?(C=()=>d(G),n=!0):Ai(G)?(L=!0,n=G.some(l=>qv(l)||Xm(l)),C=()=>G.map(l=>{if(Xs(l))return l.value;if(qv(l))return d(l);if(Vi(l))return ed(l,e,2)})):Vi(G)?z?C=()=>ed(G,e,2):C=()=>(w&&w(),ih(G,e,3,[v])):C=Mc,z&&de){const l=C;C=()=>Vd(l())}let w,v=l=>{w=a.onStop=()=>{ed(l,e,4),w=a.onStop=void 0}},g;if(D1)if(v=Mc,z?Q&&ih(z,e,3,[C(),L?[]:void 0,v]):C(),Le==="sync"){const l=_P();g=l.__watcherHandles||(l.__watcherHandles=[])}else return Mc;let r=L?new Array(G.length).fill(cm):cm;const t=()=>{if(!(!a.active||!a.dirty))if(z){const l=a.run();(de||n||(L?l.some((m,h)=>id(m,r[h])):id(l,r)))&&(w&&w(),ih(z,e,3,[l,r===cm?void 0:L&&r[0]===cm?[]:r,v]),r=l)}else a.run()};t.allowRecurse=!!z;let i;Le==="sync"?i=t:Le==="post"?i=()=>wf(t,e&&e.suspense):(t.pre=!0,e&&(t.id=e.uid),i=()=>a2(t));const a=new Jw(C,Mc,i),u=O5(),f=()=>{a.stop(),u&&Zw(u.effects,a)};return z?Q?t():r=a.run():Le==="post"?wf(a.run.bind(a),e&&e.suspense):a.run(),g&&g.push(f),f}function RP(G,z,Q){const de=this.proxy,Le=dl(G)?G.includes(".")?s6(de,G):()=>de[G]:G.bind(de,de);let We;Vi(z)?We=z:(We=z.handler,Q=z);const H=Zg(this),U=i2(Le,We.bind(de),Q);return H(),U}function s6(G,z){const Q=z.split(".");return()=>{let de=G;for(let Le=0;Le<Q.length&&de;Le++)de=de[Q[Le]];return de}}function Vd(G,z,Q=0,de){if(!qo(G)||G.__v_skip)return G;if(z&&z>0){if(Q>=z)return G;Q++}if(de=de||new Set,de.has(G))return G;if(de.add(G),Xs(G))Vd(G.value,z,Q,de);else if(Ai(G))for(let Le=0;Le<G.length;Le++)Vd(G[Le],z,Q,de);else if(m1(G)||Wp(G))G.forEach(Le=>{Vd(Le,z,Q,de)});else if(_5(G))for(const Le in G)Vd(G[Le],z,Q,de);return G}function i0(G,z){if(zu===null)return G;const Q=I1(zu)||zu.proxy,de=G.dirs||(G.dirs=[]);for(let Le=0;Le<z.length;Le++){let[We,H,U,e=ls]=z[Le];We&&(Vi(We)&&(We={mounted:We,updated:We}),We.deep&&Vd(H),de.push({dir:We,instance:Q,value:H,oldValue:void 0,arg:U,modifiers:e}))}return G}function Id(G,z,Q,de){const Le=G.dirs,We=z&&z.dirs;for(let H=0;H<Le.length;H++){const U=Le[H];We&&(U.oldValue=We[H].value);let e=U.dir[de];e&&(tp(),ih(e,Q,8,[G.el,U,G,z]),rp())}}/*! #__NO_SIDE_EFFECTS__ */function o2(G,z){return Vi(G)?jl({name:G.name},z,{setup:G}):G}const Im=G=>!!G.type.__asyncLoader,l6=G=>G.type.__isKeepAlive;function DP(G,z){u6(G,"a",z)}function IP(G,z){u6(G,"da",z)}function u6(G,z,Q=Zl){const de=G.__wdc||(G.__wdc=()=>{let Le=Q;for(;Le;){if(Le.isDeactivated)return;Le=Le.parent}return G()});if(L1(z,de,Q),Q){let Le=Q.parent;for(;Le&&Le.parent;)l6(Le.parent.vnode)&&kP(de,z,Q,Le),Le=Le.parent}}function kP(G,z,Q,de){const Le=L1(z,G,de,!0);c6(()=>{Zw(de[z],Le)},Q)}function L1(G,z,Q=Zl,de=!1){if(Q){const Le=Q[G]||(Q[G]=[]),We=z.__weh||(z.__weh=(...H)=>{if(Q.isUnmounted)return;tp();const U=Zg(Q),e=ih(z,Q,G,H);return U(),rp(),e});return de?Le.unshift(We):Le.push(We),We}}const cv=G=>(z,Q=Zl)=>(!D1||G==="sp")&&L1(G,(...de)=>z(...de),Q),OP=cv("bm"),_1=cv("m"),zP=cv("bu"),FP=cv("u"),f6=cv("bum"),c6=cv("um"),NP=cv("sp"),BP=cv("rtg"),UP=cv("rtc");function VP(G,z=Zl){L1("ec",G,z)}function tv(G,z,Q,de){let Le;const We=Q&&Q[de];if(Ai(G)||dl(G)){Le=new Array(G.length);for(let H=0,U=G.length;H<U;H++)Le[H]=z(G[H],H,void 0,We&&We[H])}else if(typeof G=="number"){Le=new Array(G);for(let H=0;H<G;H++)Le[H]=z(H+1,H,void 0,We&&We[H])}else if(qo(G))if(G[Symbol.iterator])Le=Array.from(G,(H,U)=>z(H,U,void 0,We&&We[U]));else{const H=Object.keys(G);Le=new Array(H.length);for(let U=0,e=H.length;U<e;U++){const d=H[U];Le[U]=z(G[d],d,U,We&&We[U])}}else Le=[];return Q&&(Q[de]=Le),Le}const J3=G=>G?A6(G)?I1(G)||G.proxy:J3(G.parent):null,dg=jl(Object.create(null),{$:G=>G,$el:G=>G.vnode.el,$data:G=>G.data,$props:G=>G.props,$attrs:G=>G.attrs,$slots:G=>G.slots,$refs:G=>G.refs,$parent:G=>J3(G.parent),$root:G=>J3(G.root),$emit:G=>G.emit,$options:G=>s2(G),$forceUpdate:G=>G.f||(G.f=()=>{G.effect.dirty=!0,a2(G.update)}),$nextTick:G=>G.n||(G.n=Xg.bind(G.proxy)),$watch:G=>RP.bind(G)}),y3=(G,z)=>G!==ls&&!G.__isScriptSetup&&yo(G,z),HP={get({_:G},z){const{ctx:Q,setupState:de,data:Le,props:We,accessCache:H,type:U,appContext:e}=G;let d;if(z[0]!=="$"){const w=H[z];if(w!==void 0)switch(w){case 1:return de[z];case 2:return Le[z];case 4:return Q[z];case 3:return We[z]}else{if(y3(de,z))return H[z]=1,de[z];if(Le!==ls&&yo(Le,z))return H[z]=2,Le[z];if((d=G.propsOptions[0])&&yo(d,z))return H[z]=3,We[z];if(Q!==ls&&yo(Q,z))return H[z]=4,Q[z];$3&&(H[z]=0)}}const C=dg[z];let n,L;if(C)return z==="$attrs"&&Mf(G,"get",z),C(G);if((n=U.__cssModules)&&(n=n[z]))return n;if(Q!==ls&&yo(Q,z))return H[z]=4,Q[z];if(L=e.config.globalProperties,yo(L,z))return L[z]},set({_:G},z,Q){const{data:de,setupState:Le,ctx:We}=G;return y3(Le,z)?(Le[z]=Q,!0):de!==ls&&yo(de,z)?(de[z]=Q,!0):yo(G.props,z)||z[0]==="$"&&z.slice(1)in G?!1:(We[z]=Q,!0)},has({_:{data:G,setupState:z,accessCache:Q,ctx:de,appContext:Le,propsOptions:We}},H){let U;return!!Q[H]||G!==ls&&yo(G,H)||y3(z,H)||(U=We[0])&&yo(U,H)||yo(de,H)||yo(dg,H)||yo(Le.config.globalProperties,H)},defineProperty(G,z,Q){return Q.get!=null?G._.accessCache[z]=0:yo(Q,"value")&&this.set(G,z,Q.value,null),Reflect.defineProperty(G,z,Q)}};function OT(G){return Ai(G)?G.reduce((z,Q)=>(z[Q]=null,z),{}):G}let $3=!0;function GP(G){const z=s2(G),Q=G.proxy,de=G.ctx;$3=!1,z.beforeCreate&&zT(z.beforeCreate,G,"bc");const{data:Le,computed:We,methods:H,watch:U,provide:e,inject:d,created:C,beforeMount:n,mounted:L,beforeUpdate:w,updated:v,activated:g,deactivated:r,beforeDestroy:t,beforeUnmount:i,destroyed:a,unmounted:u,render:f,renderTracked:l,renderTriggered:m,errorCaptured:h,serverPrefetch:T,expose:c,inheritAttrs:o,components:p,directives:x,filters:A}=z;if(d&&WP(d,de,null),H)for(const E in H){const M=H[E];Vi(M)&&(de[E]=M.bind(Q))}if(Le){const E=Le.call(Q,Q);qo(E)&&(G.data=Yg(E))}if($3=!0,We)for(const E in We){const M=We[E],s=Vi(M)?M.bind(Q,Q):Vi(M.get)?M.get.bind(Q,Q):Mc,S=!Vi(M)&&Vi(M.set)?M.set.bind(Q):Mc,b=vl({get:s,set:S});Object.defineProperty(de,E,{enumerable:!0,configurable:!0,get:()=>b.value,set:I=>b.value=I})}if(U)for(const E in U)h6(U[E],de,Q,E);if(e){const E=Vi(e)?e.call(Q):e;Reflect.ownKeys(E).forEach(M=>{km(M,E[M])})}C&&zT(C,G,"c");function y(E,M){Ai(M)?M.forEach(s=>E(s.bind(Q))):M&&E(M.bind(Q))}if(y(OP,n),y(_1,L),y(zP,w),y(FP,v),y(DP,g),y(IP,r),y(VP,h),y(UP,l),y(BP,m),y(f6,i),y(c6,u),y(NP,T),Ai(c))if(c.length){const E=G.exposed||(G.exposed={});c.forEach(M=>{Object.defineProperty(E,M,{get:()=>Q[M],set:s=>Q[M]=s})})}else G.exposed||(G.exposed={});f&&G.render===Mc&&(G.render=f),o!=null&&(G.inheritAttrs=o),p&&(G.components=p),x&&(G.directives=x)}function WP(G,z,Q=Mc){Ai(G)&&(G=Q3(G));for(const de in G){const Le=G[de];let We;qo(Le)?"default"in Le?We=Lc(Le.from||de,Le.default,!0):We=Lc(Le.from||de):We=Lc(Le),Xs(We)?Object.defineProperty(z,de,{enumerable:!0,configurable:!0,get:()=>We.value,set:H=>We.value=H}):z[de]=We}}function zT(G,z,Q){ih(Ai(G)?G.map(de=>de.bind(z.proxy)):G.bind(z.proxy),z,Q)}function h6(G,z,Q,de){const Le=de.includes(".")?s6(Q,de):()=>Q[de];if(dl(G)){const We=z[G];Vi(We)&&oh(Le,We)}else if(Vi(G))oh(Le,G.bind(Q));else if(qo(G))if(Ai(G))G.forEach(We=>h6(We,z,Q,de));else{const We=Vi(G.handler)?G.handler.bind(Q):z[G.handler];Vi(We)&&oh(Le,We,G)}}function s2(G){const z=G.type,{mixins:Q,extends:de}=z,{mixins:Le,optionsCache:We,config:{optionMergeStrategies:H}}=G.appContext,U=We.get(z);let e;return U?e=U:!Le.length&&!Q&&!de?e=z:(e={},Le.length&&Le.forEach(d=>Km(e,d,H,!0)),Km(e,z,H)),qo(z)&&We.set(z,e),e}function Km(G,z,Q,de=!1){const{mixins:Le,extends:We}=z;We&&Km(G,We,Q,!0),Le&&Le.forEach(H=>Km(G,H,Q,!0));for(const H in z)if(!(de&&H==="expose")){const U=YP[H]||Q&&Q[H];G[H]=U?U(G[H],z[H]):z[H]}return G}const YP={data:FT,props:NT,emits:NT,methods:lg,computed:lg,beforeCreate:Ou,created:Ou,beforeMount:Ou,mounted:Ou,beforeUpdate:Ou,updated:Ou,beforeDestroy:Ou,beforeUnmount:Ou,destroyed:Ou,unmounted:Ou,activated:Ou,deactivated:Ou,errorCaptured:Ou,serverPrefetch:Ou,components:lg,directives:lg,watch:ZP,provide:FT,inject:XP};function FT(G,z){return z?G?function(){return jl(Vi(G)?G.call(this,this):G,Vi(z)?z.call(this,this):z)}:z:G}function XP(G,z){return lg(Q3(G),Q3(z))}function Q3(G){if(Ai(G)){const z={};for(let Q=0;Q<G.length;Q++)z[G[Q]]=G[Q];return z}return G}function Ou(G,z){return G?[...new Set([].concat(G,z))]:z}function lg(G,z){return G?jl(Object.create(null),G,z):z}function NT(G,z){return G?Ai(G)&&Ai(z)?[...new Set([...G,...z])]:jl(Object.create(null),OT(G),OT(z??{})):z}function ZP(G,z){if(!G)return z;if(!z)return G;const Q=jl(Object.create(null),G);for(const de in z)Q[de]=Ou(G[de],z[de]);return Q}function v6(){return{app:null,config:{isNativeTag:M_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jP=0;function KP(G,z){return function(de,Le=null){Vi(de)||(de=jl({},de)),Le!=null&&!qo(Le)&&(Le=null);const We=v6(),H=new WeakSet;let U=!1;const e=We.app={_uid:jP++,_component:de,_props:Le,_container:null,_context:We,_instance:null,version:w7,get config(){return We.config},set config(d){},use(d,...C){return H.has(d)||(d&&Vi(d.install)?(H.add(d),d.install(e,...C)):Vi(d)&&(H.add(d),d(e,...C))),e},mixin(d){return We.mixins.includes(d)||We.mixins.push(d),e},component(d,C){return C?(We.components[d]=C,e):We.components[d]},directive(d,C){return C?(We.directives[d]=C,e):We.directives[d]},mount(d,C,n){if(!U){const L=Go(de,Le);return L.appContext=We,n===!0?n="svg":n===!1&&(n=void 0),C&&z?z(L,d):G(L,d,n),U=!0,e._container=d,d.__vue_app__=e,I1(L.component)||L.component.proxy}},unmount(){U&&(G(null,e._container),delete e._container.__vue_app__)},provide(d,C){return We.provides[d]=C,e},runWithContext(d){const C=Xp;Xp=e;try{return d()}finally{Xp=C}}};return e}}let Xp=null;function km(G,z){if(Zl){let Q=Zl.provides;const de=Zl.parent&&Zl.parent.provides;de===Q&&(Q=Zl.provides=Object.create(de)),Q[G]=z}}function Lc(G,z,Q=!1){const de=Zl||zu;if(de||Xp){const Le=de?de.parent==null?de.vnode.appContext&&de.vnode.appContext.provides:de.parent.provides:Xp._context.provides;if(Le&&G in Le)return Le[G];if(arguments.length>1)return Q&&Vi(z)?z.call(de&&de.proxy):z}}function JP(){return!!(Zl||zu||Xp)}function $P(G,z,Q,de=!1){const Le={},We={};Wm(We,R1,1),G.propsDefaults=Object.create(null),d6(G,z,Le,We);for(const H in G.propsOptions[0])H in Le||(Le[H]=void 0);Q?G.props=de?Le:Z5(Le):G.type.props?G.props=Le:G.props=We,G.attrs=We}function QP(G,z,Q,de){const{props:Le,attrs:We,vnode:{patchFlag:H}}=G,U=xo(Le),[e]=G.propsOptions;let d=!1;if((de||H>0)&&!(H&16)){if(H&8){const C=G.vnode.dynamicProps;for(let n=0;n<C.length;n++){let L=C[n];if(E1(G.emitsOptions,L))continue;const w=z[L];if(e)if(yo(We,L))w!==We[L]&&(We[L]=w,d=!0);else{const v=Bh(L);Le[v]=q3(e,U,v,w,G,!1)}else w!==We[L]&&(We[L]=w,d=!0)}}}else{d6(G,z,Le,We)&&(d=!0);let C;for(const n in U)(!z||!yo(z,n)&&((C=p0(n))===n||!yo(z,C)))&&(e?Q&&(Q[n]!==void 0||Q[C]!==void 0)&&(Le[n]=q3(e,U,n,void 0,G,!0)):delete Le[n]);if(We!==U)for(const n in We)(!z||!yo(z,n))&&(delete We[n],d=!0)}d&&av(G,"set","$attrs")}function d6(G,z,Q,de){const[Le,We]=G.propsOptions;let H=!1,U;if(z)for(let e in z){if(vg(e))continue;const d=z[e];let C;Le&&yo(Le,C=Bh(e))?!We||!We.includes(C)?Q[C]=d:(U||(U={}))[C]=d:E1(G.emitsOptions,e)||(!(e in de)||d!==de[e])&&(de[e]=d,H=!0)}if(We){const e=xo(Q),d=U||ls;for(let C=0;C<We.length;C++){const n=We[C];Q[n]=q3(Le,e,n,d[n],G,!yo(d,n))}}return H}function q3(G,z,Q,de,Le,We){const H=G[Q];if(H!=null){const U=yo(H,"default");if(U&&de===void 0){const e=H.default;if(H.type!==Function&&!H.skipFactory&&Vi(e)){const{propsDefaults:d}=Le;if(Q in d)de=d[Q];else{const C=Zg(Le);de=d[Q]=e.call(null,z),C()}}else de=e}H[0]&&(We&&!U?de=!1:H[1]&&(de===""||de===p0(Q))&&(de=!0))}return de}function p6(G,z,Q=!1){const de=z.propsCache,Le=de.get(G);if(Le)return Le;const We=G.props,H={},U=[];let e=!1;if(!Vi(G)){const C=n=>{e=!0;const[L,w]=p6(n,z,!0);jl(H,L),w&&U.push(...w)};!Q&&z.mixins.length&&z.mixins.forEach(C),G.extends&&C(G.extends),G.mixins&&G.mixins.forEach(C)}if(!We&&!e)return qo(G)&&de.set(G,Gp),Gp;if(Ai(We))for(let C=0;C<We.length;C++){const n=Bh(We[C]);BT(n)&&(H[n]=ls)}else if(We)for(const C in We){const n=Bh(C);if(BT(n)){const L=We[C],w=H[n]=Ai(L)||Vi(L)?{type:L}:jl({},L);if(w){const v=HT(Boolean,w.type),g=HT(String,w.type);w[0]=v>-1,w[1]=g<0||v<g,(v>-1||yo(w,"default"))&&U.push(n)}}}const d=[H,U];return qo(G)&&de.set(G,d),d}function BT(G){return G[0]!=="$"&&!vg(G)}function UT(G){return G===null?"null":typeof G=="function"?G.name||"":typeof G=="object"&&G.constructor&&G.constructor.name||""}function VT(G,z){return UT(G)===UT(z)}function HT(G,z){return Ai(z)?z.findIndex(Q=>VT(Q,G)):Vi(z)&&VT(z,G)?0:-1}const g6=G=>G[0]==="_"||G==="$stable",l2=G=>Ai(G)?G.map(Ih):[Ih(G)],qP=(G,z,Q)=>{if(z._n)return z;const de=jm((...Le)=>l2(z(...Le)),Q);return de._c=!1,de},y6=(G,z,Q)=>{const de=G._ctx;for(const Le in G){if(g6(Le))continue;const We=G[Le];if(Vi(We))z[Le]=qP(Le,We,de);else if(We!=null){const H=l2(We);z[Le]=()=>H}}},m6=(G,z)=>{const Q=l2(z);G.slots.default=()=>Q},e7=(G,z)=>{if(G.vnode.shapeFlag&32){const Q=z._;Q?(G.slots=xo(z),Wm(z,"_",Q)):y6(z,G.slots={})}else G.slots={},z&&m6(G,z);Wm(G.slots,R1,1)},t7=(G,z,Q)=>{const{vnode:de,slots:Le}=G;let We=!0,H=ls;if(de.shapeFlag&32){const U=z._;U?Q&&U===1?We=!1:(jl(Le,z),!Q&&U===1&&delete Le._):(We=!z.$stable,y6(z,Le)),H=z}else z&&(m6(G,z),H={default:1});if(We)for(const U in Le)!g6(U)&&H[U]==null&&delete Le[U]};function ew(G,z,Q,de,Le=!1){if(Ai(G)){G.forEach((L,w)=>ew(L,z&&(Ai(z)?z[w]:z),Q,de,Le));return}if(Im(de)&&!Le)return;const We=de.shapeFlag&4?I1(de.component)||de.component.proxy:de.el,H=Le?null:We,{i:U,r:e}=G,d=z&&z.r,C=U.refs===ls?U.refs={}:U.refs,n=U.setupState;if(d!=null&&d!==e&&(dl(d)?(C[d]=null,yo(n,d)&&(n[d]=null)):Xs(d)&&(d.value=null)),Vi(e))ed(e,U,12,[H,C]);else{const L=dl(e),w=Xs(e);if(L||w){const v=()=>{if(G.f){const g=L?yo(n,e)?n[e]:C[e]:e.value;Le?Ai(g)&&Zw(g,We):Ai(g)?g.includes(We)||g.push(We):L?(C[e]=[We],yo(n,e)&&(n[e]=C[e])):(e.value=[We],G.k&&(C[G.k]=e.value))}else L?(C[e]=H,yo(n,e)&&(n[e]=H)):w&&(e.value=H,G.k&&(C[G.k]=H))};H?(v.id=-1,wf(v,Q)):v()}}}const wf=CP;function r7(G){return n7(G)}function n7(G,z){const Q=P5();Q.__VUE__=!0;const{insert:de,remove:Le,patchProp:We,createElement:H,createText:U,createComment:e,setText:d,setElementText:C,parentNode:n,nextSibling:L,setScopeId:w=Mc,insertStaticContent:v}=G,g=(q,se,J,Z=null,te=null,Y=null,ie=void 0,le=null,j=!!se.dynamicChildren)=>{if(q===se)return;q&&!rg(q,se)&&(Z=N(q),I(q,te,Y,!0),q=null),se.patchFlag===-2&&(j=!1,se.dynamicChildren=null);const{type:K,ref:ue,shapeFlag:ae}=se;switch(K){case P1:r(q,se,J,Z);break;case Cg:t(q,se,J,Z);break;case x3:q==null&&i(se,J,Z,ie);break;case Os:p(q,se,J,Z,te,Y,ie,le,j);break;default:ae&1?f(q,se,J,Z,te,Y,ie,le,j):ae&6?x(q,se,J,Z,te,Y,ie,le,j):(ae&64||ae&128)&&K.process(q,se,J,Z,te,Y,ie,le,j,X)}ue!=null&&te&&ew(ue,q&&q.ref,Y,se||q,!se)},r=(q,se,J,Z)=>{if(q==null)de(se.el=U(se.children),J,Z);else{const te=se.el=q.el;se.children!==q.children&&d(te,se.children)}},t=(q,se,J,Z)=>{q==null?de(se.el=e(se.children||""),J,Z):se.el=q.el},i=(q,se,J,Z)=>{[q.el,q.anchor]=v(q.children,se,J,Z,q.el,q.anchor)},a=({el:q,anchor:se},J,Z)=>{let te;for(;q&&q!==se;)te=L(q),de(q,J,Z),q=te;de(se,J,Z)},u=({el:q,anchor:se})=>{let J;for(;q&&q!==se;)J=L(q),Le(q),q=J;Le(se)},f=(q,se,J,Z,te,Y,ie,le,j)=>{se.type==="svg"?ie="svg":se.type==="math"&&(ie="mathml"),q==null?l(se,J,Z,te,Y,ie,le,j):T(q,se,te,Y,ie,le,j)},l=(q,se,J,Z,te,Y,ie,le)=>{let j,K;const{props:ue,shapeFlag:ae,transition:he,dirs:xe}=q;if(j=q.el=H(q.type,Y,ue&&ue.is,ue),ae&8?C(j,q.children):ae&16&&h(q.children,j,null,Z,te,m3(q,Y),ie,le),xe&&Id(q,null,Z,"created"),m(j,q,q.scopeId,ie,Z),ue){for(const Ae in ue)Ae!=="value"&&!vg(Ae)&&We(j,Ae,null,ue[Ae],Y,q.children,Z,te,F);"value"in ue&&We(j,"value",null,ue.value,Y),(K=ue.onVnodeBeforeMount)&&Rh(K,Z,q)}xe&&Id(q,null,Z,"beforeMount");const Se=a7(te,he);Se&&he.beforeEnter(j),de(j,se,J),((K=ue&&ue.onVnodeMounted)||Se||xe)&&wf(()=>{K&&Rh(K,Z,q),Se&&he.enter(j),xe&&Id(q,null,Z,"mounted")},te)},m=(q,se,J,Z,te)=>{if(J&&w(q,J),Z)for(let Y=0;Y<Z.length;Y++)w(q,Z[Y]);if(te){let Y=te.subTree;if(se===Y){const ie=te.vnode;m(q,ie,ie.scopeId,ie.slotScopeIds,te.parent)}}},h=(q,se,J,Z,te,Y,ie,le,j=0)=>{for(let K=j;K<q.length;K++){const ue=q[K]=le?Zv(q[K]):Ih(q[K]);g(null,ue,se,J,Z,te,Y,ie,le)}},T=(q,se,J,Z,te,Y,ie)=>{const le=se.el=q.el;let{patchFlag:j,dynamicChildren:K,dirs:ue}=se;j|=q.patchFlag&16;const ae=q.props||ls,he=se.props||ls;let xe;if(J&&kd(J,!1),(xe=he.onVnodeBeforeUpdate)&&Rh(xe,J,se,q),ue&&Id(se,q,J,"beforeUpdate"),J&&kd(J,!0),K?c(q.dynamicChildren,K,le,J,Z,m3(se,te),Y):ie||M(q,se,le,null,J,Z,m3(se,te),Y,!1),j>0){if(j&16)o(le,se,ae,he,J,Z,te);else if(j&2&&ae.class!==he.class&&We(le,"class",null,he.class,te),j&4&&We(le,"style",ae.style,he.style,te),j&8){const Se=se.dynamicProps;for(let Ae=0;Ae<Se.length;Ae++){const De=Se[Ae],we=ae[De],Ce=he[De];(Ce!==we||De==="value")&&We(le,De,we,Ce,te,q.children,J,Z,F)}}j&1&&q.children!==se.children&&C(le,se.children)}else!ie&&K==null&&o(le,se,ae,he,J,Z,te);((xe=he.onVnodeUpdated)||ue)&&wf(()=>{xe&&Rh(xe,J,se,q),ue&&Id(se,q,J,"updated")},Z)},c=(q,se,J,Z,te,Y,ie)=>{for(let le=0;le<se.length;le++){const j=q[le],K=se[le],ue=j.el&&(j.type===Os||!rg(j,K)||j.shapeFlag&70)?n(j.el):J;g(j,K,ue,null,Z,te,Y,ie,!0)}},o=(q,se,J,Z,te,Y,ie)=>{if(J!==Z){if(J!==ls)for(const le in J)!vg(le)&&!(le in Z)&&We(q,le,J[le],null,ie,se.children,te,Y,F);for(const le in Z){if(vg(le))continue;const j=Z[le],K=J[le];j!==K&&le!=="value"&&We(q,le,K,j,ie,se.children,te,Y,F)}"value"in Z&&We(q,"value",J.value,Z.value,ie)}},p=(q,se,J,Z,te,Y,ie,le,j)=>{const K=se.el=q?q.el:U(""),ue=se.anchor=q?q.anchor:U("");let{patchFlag:ae,dynamicChildren:he,slotScopeIds:xe}=se;xe&&(le=le?le.concat(xe):xe),q==null?(de(K,J,Z),de(ue,J,Z),h(se.children||[],J,ue,te,Y,ie,le,j)):ae>0&&ae&64&&he&&q.dynamicChildren?(c(q.dynamicChildren,he,J,te,Y,ie,le),(se.key!=null||te&&se===te.subTree)&&x6(q,se,!0)):M(q,se,J,ue,te,Y,ie,le,j)},x=(q,se,J,Z,te,Y,ie,le,j)=>{se.slotScopeIds=le,q==null?se.shapeFlag&512?te.ctx.activate(se,J,Z,ie,j):A(se,J,Z,te,Y,ie,j):_(q,se,j)},A=(q,se,J,Z,te,Y,ie)=>{const le=q.component=d7(q,Z,te);if(l6(q)&&(le.ctx.renderer=X),p7(le),le.asyncDep){if(te&&te.registerDep(le,y),!q.el){const j=le.subTree=Go(Cg);t(null,j,se,J)}}else y(le,q,se,J,te,Y,ie)},_=(q,se,J)=>{const Z=se.component=q.component;if(TP(q,se,J))if(Z.asyncDep&&!Z.asyncResolved){E(Z,se,J);return}else Z.next=se,dP(Z.update),Z.effect.dirty=!0,Z.update();else se.el=q.el,Z.vnode=se},y=(q,se,J,Z,te,Y,ie)=>{const le=()=>{if(q.isMounted){let{next:ue,bu:ae,u:he,parent:xe,vnode:Se}=q;{const be=b6(q);if(be){ue&&(ue.el=Se.el,E(q,ue,ie)),be.asyncDep.then(()=>{q.isUnmounted||le()});return}}let Ae=ue,De;kd(q,!1),ue?(ue.el=Se.el,E(q,ue,ie)):ue=Se,ae&&Rm(ae),(De=ue.props&&ue.props.onVnodeBeforeUpdate)&&Rh(De,xe,ue,Se),kd(q,!0);const we=g3(q),Ce=q.subTree;q.subTree=we,g(Ce,we,n(Ce.el),N(Ce),q,te,Y),ue.el=we.el,Ae===null&&AP(q,we.el),he&&wf(he,te),(De=ue.props&&ue.props.onVnodeUpdated)&&wf(()=>Rh(De,xe,ue,Se),te)}else{let ue;const{el:ae,props:he}=se,{bm:xe,m:Se,parent:Ae}=q,De=Im(se);if(kd(q,!1),xe&&Rm(xe),!De&&(ue=he&&he.onVnodeBeforeMount)&&Rh(ue,Ae,se),kd(q,!0),ae&&ne){const we=()=>{q.subTree=g3(q),ne(ae,q.subTree,q,te,null)};De?se.type.__asyncLoader().then(()=>!q.isUnmounted&&we()):we()}else{const we=q.subTree=g3(q);g(null,we,J,Z,q,te,Y),se.el=we.el}if(Se&&wf(Se,te),!De&&(ue=he&&he.onVnodeMounted)){const we=se;wf(()=>Rh(ue,Ae,we),te)}(se.shapeFlag&256||Ae&&Im(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&q.a&&wf(q.a,te),q.isMounted=!0,se=J=Z=null}},j=q.effect=new Jw(le,Mc,()=>a2(K),q.scope),K=q.update=()=>{j.dirty&&j.run()};K.id=q.uid,kd(q,!0),K()},E=(q,se,J)=>{se.component=q;const Z=q.vnode.props;q.vnode=se,q.next=null,QP(q,se.props,Z,J),t7(q,se.children,J),tp(),DT(q),rp()},M=(q,se,J,Z,te,Y,ie,le,j=!1)=>{const K=q&&q.children,ue=q?q.shapeFlag:0,ae=se.children,{patchFlag:he,shapeFlag:xe}=se;if(he>0){if(he&128){S(K,ae,J,Z,te,Y,ie,le,j);return}else if(he&256){s(K,ae,J,Z,te,Y,ie,le,j);return}}xe&8?(ue&16&&F(K,te,Y),ae!==K&&C(J,ae)):ue&16?xe&16?S(K,ae,J,Z,te,Y,ie,le,j):F(K,te,Y,!0):(ue&8&&C(J,""),xe&16&&h(ae,J,Z,te,Y,ie,le,j))},s=(q,se,J,Z,te,Y,ie,le,j)=>{q=q||Gp,se=se||Gp;const K=q.length,ue=se.length,ae=Math.min(K,ue);let he;for(he=0;he<ae;he++){const xe=se[he]=j?Zv(se[he]):Ih(se[he]);g(q[he],xe,J,null,te,Y,ie,le,j)}K>ue?F(q,te,Y,!0,!1,ae):h(se,J,Z,te,Y,ie,le,j,ae)},S=(q,se,J,Z,te,Y,ie,le,j)=>{let K=0;const ue=se.length;let ae=q.length-1,he=ue-1;for(;K<=ae&&K<=he;){const xe=q[K],Se=se[K]=j?Zv(se[K]):Ih(se[K]);if(rg(xe,Se))g(xe,Se,J,null,te,Y,ie,le,j);else break;K++}for(;K<=ae&&K<=he;){const xe=q[ae],Se=se[he]=j?Zv(se[he]):Ih(se[he]);if(rg(xe,Se))g(xe,Se,J,null,te,Y,ie,le,j);else break;ae--,he--}if(K>ae){if(K<=he){const xe=he+1,Se=xe<ue?se[xe].el:Z;for(;K<=he;)g(null,se[K]=j?Zv(se[K]):Ih(se[K]),J,Se,te,Y,ie,le,j),K++}}else if(K>he)for(;K<=ae;)I(q[K],te,Y,!0),K++;else{const xe=K,Se=K,Ae=new Map;for(K=Se;K<=he;K++){const Fe=se[K]=j?Zv(se[K]):Ih(se[K]);Fe.key!=null&&Ae.set(Fe.key,K)}let De,we=0;const Ce=he-Se+1;let be=!1,Pe=0;const Ve=new Array(Ce);for(K=0;K<Ce;K++)Ve[K]=0;for(K=xe;K<=ae;K++){const Fe=q[K];if(we>=Ce){I(Fe,te,Y,!0);continue}let He;if(Fe.key!=null)He=Ae.get(Fe.key);else for(De=Se;De<=he;De++)if(Ve[De-Se]===0&&rg(Fe,se[De])){He=De;break}He===void 0?I(Fe,te,Y,!0):(Ve[He-Se]=K+1,He>=Pe?Pe=He:be=!0,g(Fe,se[He],J,null,te,Y,ie,le,j),we++)}const Ge=be?i7(Ve):Gp;for(De=Ge.length-1,K=Ce-1;K>=0;K--){const Fe=Se+K,He=se[Fe],ft=Fe+1<ue?se[Fe+1].el:Z;Ve[K]===0?g(null,He,J,ft,te,Y,ie,le,j):be&&(De<0||K!==Ge[De]?b(He,J,ft,2):De--)}}},b=(q,se,J,Z,te=null)=>{const{el:Y,type:ie,transition:le,children:j,shapeFlag:K}=q;if(K&6){b(q.component.subTree,se,J,Z);return}if(K&128){q.suspense.move(se,J,Z);return}if(K&64){ie.move(q,se,J,X);return}if(ie===Os){de(Y,se,J);for(let ae=0;ae<j.length;ae++)b(j[ae],se,J,Z);de(q.anchor,se,J);return}if(ie===x3){a(q,se,J);return}if(Z!==2&&K&1&&le)if(Z===0)le.beforeEnter(Y),de(Y,se,J),wf(()=>le.enter(Y),te);else{const{leave:ae,delayLeave:he,afterLeave:xe}=le,Se=()=>de(Y,se,J),Ae=()=>{ae(Y,()=>{Se(),xe&&xe()})};he?he(Y,Se,Ae):Ae()}else de(Y,se,J)},I=(q,se,J,Z=!1,te=!1)=>{const{type:Y,props:ie,ref:le,children:j,dynamicChildren:K,shapeFlag:ue,patchFlag:ae,dirs:he}=q;if(le!=null&&ew(le,null,J,q,!0),ue&256){se.ctx.deactivate(q);return}const xe=ue&1&&he,Se=!Im(q);let Ae;if(Se&&(Ae=ie&&ie.onVnodeBeforeUnmount)&&Rh(Ae,se,q),ue&6)k(q.component,J,Z);else{if(ue&128){q.suspense.unmount(J,Z);return}xe&&Id(q,null,se,"beforeUnmount"),ue&64?q.type.remove(q,se,J,te,X,Z):K&&(Y!==Os||ae>0&&ae&64)?F(K,se,J,!1,!0):(Y===Os&&ae&384||!te&&ue&16)&&F(j,se,J),Z&&D(q)}(Se&&(Ae=ie&&ie.onVnodeUnmounted)||xe)&&wf(()=>{Ae&&Rh(Ae,se,q),xe&&Id(q,null,se,"unmounted")},J)},D=q=>{const{type:se,el:J,anchor:Z,transition:te}=q;if(se===Os){B(J,Z);return}if(se===x3){u(q);return}const Y=()=>{Le(J),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(q.shapeFlag&1&&te&&!te.persisted){const{leave:ie,delayLeave:le}=te,j=()=>ie(J,Y);le?le(q.el,Y,j):j()}else Y()},B=(q,se)=>{let J;for(;q!==se;)J=L(q),Le(q),q=J;Le(se)},k=(q,se,J)=>{const{bum:Z,scope:te,update:Y,subTree:ie,um:le}=q;Z&&Rm(Z),te.stop(),Y&&(Y.active=!1,I(ie,q,se,J)),le&&wf(le,se),wf(()=>{q.isUnmounted=!0},se),se&&se.pendingBranch&&!se.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===se.pendingId&&(se.deps--,se.deps===0&&se.resolve())},F=(q,se,J,Z=!1,te=!1,Y=0)=>{for(let ie=Y;ie<q.length;ie++)I(q[ie],se,J,Z,te)},N=q=>q.shapeFlag&6?N(q.component.subTree):q.shapeFlag&128?q.suspense.next():L(q.anchor||q.el);let O=!1;const V=(q,se,J)=>{q==null?se._vnode&&I(se._vnode,null,null,!0):g(se._vnode||null,q,se,null,null,null,J),O||(O=!0,DT(),r6(),O=!1),se._vnode=q},X={p:g,um:I,m:b,r:D,mt:A,mc:h,pc:M,pbc:c,n:N,o:G};let ee,ne;return z&&([ee,ne]=z(X)),{render:V,hydrate:ee,createApp:KP(V,ee)}}function m3({type:G,props:z},Q){return Q==="svg"&&G==="foreignObject"||Q==="mathml"&&G==="annotation-xml"&&z&&z.encoding&&z.encoding.includes("html")?void 0:Q}function kd({effect:G,update:z},Q){G.allowRecurse=z.allowRecurse=Q}function a7(G,z){return(!G||G&&!G.pendingBranch)&&z&&!z.persisted}function x6(G,z,Q=!1){const de=G.children,Le=z.children;if(Ai(de)&&Ai(Le))for(let We=0;We<de.length;We++){const H=de[We];let U=Le[We];U.shapeFlag&1&&!U.dynamicChildren&&((U.patchFlag<=0||U.patchFlag===32)&&(U=Le[We]=Zv(Le[We]),U.el=H.el),Q||x6(H,U)),U.type===P1&&(U.el=H.el)}}function i7(G){const z=G.slice(),Q=[0];let de,Le,We,H,U;const e=G.length;for(de=0;de<e;de++){const d=G[de];if(d!==0){if(Le=Q[Q.length-1],G[Le]<d){z[de]=Le,Q.push(de);continue}for(We=0,H=Q.length-1;We<H;)U=We+H>>1,G[Q[U]]<d?We=U+1:H=U;d<G[Q[We]]&&(We>0&&(z[de]=Q[We-1]),Q[We]=de)}}for(We=Q.length,H=Q[We-1];We-- >0;)Q[We]=H,H=z[H];return Q}function b6(G){const z=G.subTree.component;if(z)return z.asyncDep&&!z.asyncResolved?z:b6(z)}const o7=G=>G.__isTeleport,Os=Symbol.for("v-fgt"),P1=Symbol.for("v-txt"),Cg=Symbol.for("v-cmt"),x3=Symbol.for("v-stc"),pg=[];let rh=null;function mo(G=!1){pg.push(rh=G?null:[])}function s7(){pg.pop(),rh=pg[pg.length-1]||null}let Lg=1;function GT(G){Lg+=G}function w6(G){return G.dynamicChildren=Lg>0?rh||Gp:null,s7(),Lg>0&&rh&&rh.push(G),G}function To(G,z,Q,de,Le,We){return w6(Ba(G,z,Q,de,Le,We,!0))}function l7(G,z,Q,de,Le){return w6(Go(G,z,Q,de,Le,!0))}function tw(G){return G?G.__v_isVNode===!0:!1}function rg(G,z){return G.type===z.type&&G.key===z.key}const R1="__vInternal",T6=({key:G})=>G??null,Om=({ref:G,ref_key:z,ref_for:Q})=>(typeof G=="number"&&(G=""+G),G!=null?dl(G)||Xs(G)||Vi(G)?{i:zu,r:G,k:z,f:!!Q}:G:null);function Ba(G,z=null,Q=null,de=0,Le=null,We=G===Os?0:1,H=!1,U=!1){const e={__v_isVNode:!0,__v_skip:!0,type:G,props:z,key:z&&T6(z),ref:z&&Om(z),scopeId:C1,slotScopeIds:null,children:Q,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:We,patchFlag:de,dynamicProps:Le,dynamicChildren:null,appContext:null,ctx:zu};return U?(u2(e,Q),We&128&&G.normalize(e)):Q&&(e.shapeFlag|=dl(Q)?8:16),Lg>0&&!H&&rh&&(e.patchFlag>0||We&6)&&e.patchFlag!==32&&rh.push(e),e}const Go=u7;function u7(G,z=null,Q=null,de=0,Le=null,We=!1){if((!G||G===MP)&&(G=Cg),tw(G)){const U=o0(G,z,!0);return Q&&u2(U,Q),Lg>0&&!We&&rh&&(U.shapeFlag&6?rh[rh.indexOf(G)]=U:rh.push(U)),U.patchFlag|=-2,U}if(b7(G)&&(G=G.__vccOpts),z){z=f7(z);let{class:U,style:e}=z;U&&!dl(U)&&(z.class=w1(U)),qo(e)&&(K5(e)&&!Ai(e)&&(e=jl({},e)),z.style=Kw(e))}const H=dl(G)?1:EP(G)?128:o7(G)?64:qo(G)?4:Vi(G)?2:0;return Ba(G,z,Q,de,Le,H,We,!0)}function f7(G){return G?K5(G)||R1 in G?jl({},G):G:null}function o0(G,z,Q=!1){const{props:de,ref:Le,patchFlag:We,children:H}=G,U=z?c7(de||{},z):de;return{__v_isVNode:!0,__v_skip:!0,type:G.type,props:U,key:U&&T6(U),ref:z&&z.ref?Q&&Le?Ai(Le)?Le.concat(Om(z)):[Le,Om(z)]:Om(z):Le,scopeId:G.scopeId,slotScopeIds:G.slotScopeIds,children:H,target:G.target,targetAnchor:G.targetAnchor,staticCount:G.staticCount,shapeFlag:G.shapeFlag,patchFlag:z&&G.type!==Os?We===-1?16:We|16:We,dynamicProps:G.dynamicProps,dynamicChildren:G.dynamicChildren,appContext:G.appContext,dirs:G.dirs,transition:G.transition,component:G.component,suspense:G.suspense,ssContent:G.ssContent&&o0(G.ssContent),ssFallback:G.ssFallback&&o0(G.ssFallback),el:G.el,anchor:G.anchor,ctx:G.ctx,ce:G.ce}}function _g(G=" ",z=0){return Go(P1,null,G,z)}function Ih(G){return G==null||typeof G=="boolean"?Go(Cg):Ai(G)?Go(Os,null,G.slice()):typeof G=="object"?Zv(G):Go(P1,null,String(G))}function Zv(G){return G.el===null&&G.patchFlag!==-1||G.memo?G:o0(G)}function u2(G,z){let Q=0;const{shapeFlag:de}=G;if(z==null)z=null;else if(Ai(z))Q=16;else if(typeof z=="object")if(de&65){const Le=z.default;Le&&(Le._c&&(Le._d=!1),u2(G,Le()),Le._c&&(Le._d=!0));return}else{Q=32;const Le=z._;!Le&&!(R1 in z)?z._ctx=zu:Le===3&&zu&&(zu.slots._===1?z._=1:(z._=2,G.patchFlag|=1024))}else Vi(z)?(z={default:z,_ctx:zu},Q=32):(z=String(z),de&64?(Q=16,z=[_g(z)]):Q=8);G.children=z,G.shapeFlag|=Q}function c7(...G){const z={};for(let Q=0;Q<G.length;Q++){const de=G[Q];for(const Le in de)if(Le==="class")z.class!==de.class&&(z.class=w1([z.class,de.class]));else if(Le==="style")z.style=Kw([z.style,de.style]);else if(y1(Le)){const We=z[Le],H=de[Le];H&&We!==H&&!(Ai(We)&&We.includes(H))&&(z[Le]=We?[].concat(We,H):H)}else Le!==""&&(z[Le]=de[Le])}return z}function Rh(G,z,Q,de=null){ih(G,z,7,[Q,de])}const h7=v6();let v7=0;function d7(G,z,Q){const de=G.type,Le=(z?z.appContext:G.appContext)||h7,We={uid:v7++,vnode:G,type:de,parent:z,appContext:Le,root:null,next:null,subTree:null,effect:null,update:null,scope:new I5(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:z?z.provides:Object.create(Le.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:p6(de,Le),emitsOptions:a6(de,Le),emit:null,emitted:null,propsDefaults:ls,inheritAttrs:de.inheritAttrs,ctx:ls,data:ls,props:ls,attrs:ls,slots:ls,refs:ls,setupState:ls,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:Q,suspenseId:Q?Q.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return We.ctx={_:We},We.root=z?z.root:We,We.emit=yP.bind(null,We),G.ce&&G.ce(We),We}let Zl=null,Jm,rw;{const G=P5(),z=(Q,de)=>{let Le;return(Le=G[Q])||(Le=G[Q]=[]),Le.push(de),We=>{Le.length>1?Le.forEach(H=>H(We)):Le[0](We)}};Jm=z("__VUE_INSTANCE_SETTERS__",Q=>Zl=Q),rw=z("__VUE_SSR_SETTERS__",Q=>D1=Q)}const Zg=G=>{const z=Zl;return Jm(G),G.scope.on(),()=>{G.scope.off(),Jm(z)}},WT=()=>{Zl&&Zl.scope.off(),Jm(null)};function A6(G){return G.vnode.shapeFlag&4}let D1=!1;function p7(G,z=!1){z&&rw(z);const{props:Q,children:de}=G.vnode,Le=A6(G);$P(G,Q,Le,z),e7(G,de);const We=Le?g7(G,z):void 0;return z&&rw(!1),We}function g7(G,z){const Q=G.type;G.accessCache=Object.create(null),G.proxy=M1(new Proxy(G.ctx,HP));const{setup:de}=Q;if(de){const Le=G.setupContext=de.length>1?m7(G):null,We=Zg(G);tp();const H=ed(de,G,0,[G.props,Le]);if(rp(),We(),C5(H)){if(H.then(WT,WT),z)return H.then(U=>{YT(G,U,z)}).catch(U=>{S1(U,G,0)});G.asyncDep=H}else YT(G,H,z)}else M6(G,z)}function YT(G,z,Q){Vi(z)?G.type.__ssrInlineRender?G.ssrRender=z:G.render=z:qo(z)&&(G.setupState=q5(z)),M6(G,Q)}let XT;function M6(G,z,Q){const de=G.type;if(!G.render){if(!z&&XT&&!de.render){const Le=de.template||s2(G).template;if(Le){const{isCustomElement:We,compilerOptions:H}=G.appContext.config,{delimiters:U,compilerOptions:e}=de,d=jl(jl({isCustomElement:We,delimiters:U},H),e);de.render=XT(Le,d)}}G.render=de.render||Mc}{const Le=Zg(G);tp();try{GP(G)}finally{rp(),Le()}}}function y7(G){return G.attrsProxy||(G.attrsProxy=new Proxy(G.attrs,{get(z,Q){return Mf(G,"get","$attrs"),z[Q]}}))}function m7(G){const z=Q=>{G.exposed=Q||{}};return{get attrs(){return y7(G)},slots:G.slots,emit:G.emit,expose:z}}function I1(G){if(G.exposed)return G.exposeProxy||(G.exposeProxy=new Proxy(q5(M1(G.exposed)),{get(z,Q){if(Q in z)return z[Q];if(Q in dg)return dg[Q](G)},has(z,Q){return Q in z||Q in dg}}))}function x7(G,z=!0){return Vi(G)?G.displayName||G.name:G.name||z&&G.__name}function b7(G){return Vi(G)&&"__vccOpts"in G}const vl=(G,z)=>iP(G,z,D1);function f2(G,z,Q){const de=arguments.length;return de===2?qo(z)&&!Ai(z)?tw(z)?Go(G,null,[z]):Go(G,z):Go(G,null,z):(de>3?Q=Array.prototype.slice.call(arguments,2):de===3&&tw(Q)&&(Q=[Q]),Go(G,z,Q))}const w7="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const T7="http://www.w3.org/2000/svg",A7="http://www.w3.org/1998/Math/MathML",jv=typeof document<"u"?document:null,ZT=jv&&jv.createElement("template"),M7={insert:(G,z,Q)=>{z.insertBefore(G,Q||null)},remove:G=>{const z=G.parentNode;z&&z.removeChild(G)},createElement:(G,z,Q,de)=>{const Le=z==="svg"?jv.createElementNS(T7,G):z==="mathml"?jv.createElementNS(A7,G):jv.createElement(G,Q?{is:Q}:void 0);return G==="select"&&de&&de.multiple!=null&&Le.setAttribute("multiple",de.multiple),Le},createText:G=>jv.createTextNode(G),createComment:G=>jv.createComment(G),setText:(G,z)=>{G.nodeValue=z},setElementText:(G,z)=>{G.textContent=z},parentNode:G=>G.parentNode,nextSibling:G=>G.nextSibling,querySelector:G=>jv.querySelector(G),setScopeId(G,z){G.setAttribute(z,"")},insertStaticContent(G,z,Q,de,Le,We){const H=Q?Q.previousSibling:z.lastChild;if(Le&&(Le===We||Le.nextSibling))for(;z.insertBefore(Le.cloneNode(!0),Q),!(Le===We||!(Le=Le.nextSibling)););else{ZT.innerHTML=de==="svg"?`<svg>${G}</svg>`:de==="mathml"?`<math>${G}</math>`:G;const U=ZT.content;if(de==="svg"||de==="mathml"){const e=U.firstChild;for(;e.firstChild;)U.appendChild(e.firstChild);U.removeChild(e)}z.insertBefore(U,Q)}return[H?H.nextSibling:z.firstChild,Q?Q.previousSibling:z.lastChild]}},S7=Symbol("_vtc");function E7(G,z,Q){const de=G[S7];de&&(z=(z?[z,...de]:[...de]).join(" ")),z==null?G.removeAttribute("class"):Q?G.setAttribute("class",z):G.className=z}const jT=Symbol("_vod"),C7=Symbol(""),L7=/(^|;)\s*display\s*:/;function _7(G,z,Q){const de=G.style,Le=dl(Q),We=de.display;let H=!1;if(Q&&!Le){if(z&&!dl(z))for(const U in z)Q[U]==null&&nw(de,U,"");for(const U in Q)U==="display"&&(H=!0),nw(de,U,Q[U])}else if(Le){if(z!==Q){const U=de[C7];U&&(Q+=";"+U),de.cssText=Q,H=L7.test(Q)}}else z&&G.removeAttribute("style");jT in G&&(G[jT]=H?de.display:"",de.display=We)}const KT=/\s*!important$/;function nw(G,z,Q){if(Ai(Q))Q.forEach(de=>nw(G,z,de));else if(Q==null&&(Q=""),z.startsWith("--"))G.setProperty(z,Q);else{const de=P7(G,z);KT.test(Q)?G.setProperty(p0(de),Q.replace(KT,""),"important"):G[de]=Q}}const JT=["Webkit","Moz","ms"],b3={};function P7(G,z){const Q=b3[z];if(Q)return Q;let de=Bh(z);if(de!=="filter"&&de in G)return b3[z]=de;de=b1(de);for(let Le=0;Le<JT.length;Le++){const We=JT[Le]+de;if(We in G)return b3[z]=We}return z}const $T="http://www.w3.org/1999/xlink";function R7(G,z,Q,de,Le){if(de&&z.startsWith("xlink:"))Q==null?G.removeAttributeNS($T,z.slice(6,z.length)):G.setAttributeNS($T,z,Q);else{const We=k_(z);Q==null||We&&!R5(Q)?G.removeAttribute(z):G.setAttribute(z,We?"":Q)}}function D7(G,z,Q,de,Le,We,H){if(z==="innerHTML"||z==="textContent"){de&&H(de,Le,We),G[z]=Q??"";return}const U=G.tagName;if(z==="value"&&U!=="PROGRESS"&&!U.includes("-")){G._value=Q;const d=U==="OPTION"?G.getAttribute("value"):G.value,C=Q??"";d!==C&&(G.value=C),Q==null&&G.removeAttribute(z);return}let e=!1;if(Q===""||Q==null){const d=typeof G[z];d==="boolean"?Q=R5(Q):Q==null&&d==="string"?(Q="",e=!0):d==="number"&&(Q=0,e=!0)}try{G[z]=Q}catch{}e&&G.removeAttribute(z)}function Nd(G,z,Q,de){G.addEventListener(z,Q,de)}function I7(G,z,Q,de){G.removeEventListener(z,Q,de)}const QT=Symbol("_vei");function k7(G,z,Q,de,Le=null){const We=G[QT]||(G[QT]={}),H=We[z];if(de&&H)H.value=de;else{const[U,e]=O7(z);if(de){const d=We[z]=N7(de,Le);Nd(G,U,d,e)}else H&&(I7(G,U,H,e),We[z]=void 0)}}const qT=/(?:Once|Passive|Capture)$/;function O7(G){let z;if(qT.test(G)){z={};let de;for(;de=G.match(qT);)G=G.slice(0,G.length-de[0].length),z[de[0].toLowerCase()]=!0}return[G[2]===":"?G.slice(3):p0(G.slice(2)),z]}let w3=0;const z7=Promise.resolve(),F7=()=>w3||(z7.then(()=>w3=0),w3=Date.now());function N7(G,z){const Q=de=>{if(!de._vts)de._vts=Date.now();else if(de._vts<=Q.attached)return;ih(B7(de,Q.value),z,5,[de])};return Q.value=G,Q.attached=F7(),Q}function B7(G,z){if(Ai(z)){const Q=G.stopImmediatePropagation;return G.stopImmediatePropagation=()=>{Q.call(G),G._stopped=!0},z.map(de=>Le=>!Le._stopped&&de&&de(Le))}else return z}const e4=G=>G.charCodeAt(0)===111&&G.charCodeAt(1)===110&&G.charCodeAt(2)>96&&G.charCodeAt(2)<123,U7=(G,z,Q,de,Le,We,H,U,e)=>{const d=Le==="svg";z==="class"?E7(G,de,d):z==="style"?_7(G,Q,de):y1(z)?Xw(z)||k7(G,z,Q,de,H):(z[0]==="."?(z=z.slice(1),!0):z[0]==="^"?(z=z.slice(1),!1):V7(G,z,de,d))?D7(G,z,de,We,H,U,e):(z==="true-value"?G._trueValue=de:z==="false-value"&&(G._falseValue=de),R7(G,z,de,d))};function V7(G,z,Q,de){if(de)return!!(z==="innerHTML"||z==="textContent"||z in G&&e4(z)&&Vi(Q));if(z==="spellcheck"||z==="draggable"||z==="translate"||z==="form"||z==="list"&&G.tagName==="INPUT"||z==="type"&&G.tagName==="TEXTAREA")return!1;if(z==="width"||z==="height"){const Le=G.tagName;if(Le==="IMG"||Le==="VIDEO"||Le==="CANVAS"||Le==="SOURCE")return!1}return e4(z)&&dl(Q)?!1:z in G}const $m=G=>{const z=G.props["onUpdate:modelValue"]||!1;return Ai(z)?Q=>Rm(z,Q):z};function H7(G){G.target.composing=!0}function t4(G){const z=G.target;z.composing&&(z.composing=!1,z.dispatchEvent(new Event("input")))}const Zp=Symbol("_assign"),Pg={created(G,{modifiers:{lazy:z,trim:Q,number:de}},Le){G[Zp]=$m(Le);const We=de||Le.props&&Le.props.type==="number";Nd(G,z?"change":"input",H=>{if(H.target.composing)return;let U=G.value;Q&&(U=U.trim()),We&&(U=Ag(U)),G[Zp](U)}),Q&&Nd(G,"change",()=>{G.value=G.value.trim()}),z||(Nd(G,"compositionstart",H7),Nd(G,"compositionend",t4),Nd(G,"change",t4))},mounted(G,{value:z}){G.value=z??""},beforeUpdate(G,{value:z,modifiers:{lazy:Q,trim:de,number:Le}},We){if(G[Zp]=$m(We),G.composing)return;const H=Le||G.type==="number"?Ag(G.value):G.value,U=z??"";H!==U&&(document.activeElement===G&&G.type!=="range"&&(Q||de&&G.value.trim()===U)||(G.value=U))}},G7={deep:!0,created(G,{value:z,modifiers:{number:Q}},de){const Le=m1(z);Nd(G,"change",()=>{const We=Array.prototype.filter.call(G.options,H=>H.selected).map(H=>Q?Ag(Qm(H)):Qm(H));G[Zp](G.multiple?Le?new Set(We):We:We[0]),G._assigning=!0,Xg(()=>{G._assigning=!1})}),G[Zp]=$m(de)},mounted(G,{value:z,oldValue:Q,modifiers:{number:de}}){r4(G,z,Q,de)},beforeUpdate(G,z,Q){G[Zp]=$m(Q)},updated(G,{value:z,oldValue:Q,modifiers:{number:de}}){G._assigning||r4(G,z,Q,de)}};function r4(G,z,Q,de){const Le=G.multiple,We=Ai(z);if(!(Le&&!We&&!m1(z))){for(let H=0,U=G.options.length;H<U;H++){const e=G.options[H],d=Qm(e);if(Le)if(We){const C=typeof d;C==="string"||C==="number"?e.selected=z.includes(de?Ag(d):d):e.selected=z_(z,d)>-1}else e.selected=z.has(d);else if(T1(Qm(e),z)){G.selectedIndex!==H&&(G.selectedIndex=H);return}}!Le&&G.selectedIndex!==-1&&(G.selectedIndex=-1)}}function Qm(G){return"_value"in G?G._value:G.value}const W7=jl({patchProp:U7},M7);let n4;function Y7(){return n4||(n4=r7(W7))}const X7=(...G)=>{const z=Y7().createApp(...G),{mount:Q}=z;return z.mount=de=>{const Le=j7(de);if(!Le)return;const We=z._component;!Vi(We)&&!We.render&&!We.template&&(We.template=Le.innerHTML),Le.innerHTML="";const H=Q(Le,!1,Z7(Le));return Le instanceof Element&&(Le.removeAttribute("v-cloak"),Le.setAttribute("data-v-app","")),H},z};function Z7(G){if(G instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&G instanceof MathMLElement)return"mathml"}function j7(G){return dl(G)?document.querySelector(G):G}var K7=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let S6;const k1=G=>S6=G,E6=Symbol();function aw(G){return G&&typeof G=="object"&&Object.prototype.toString.call(G)==="[object Object]"&&typeof G.toJSON!="function"}var gg;(function(G){G.direct="direct",G.patchObject="patch object",G.patchFunction="patch function"})(gg||(gg={}));function J7(){const G=k5(!0),z=G.run(()=>Qo({}));let Q=[],de=[];const Le=M1({install(We){k1(Le),Le._a=We,We.provide(E6,Le),We.config.globalProperties.$pinia=Le,de.forEach(H=>Q.push(H)),de=[]},use(We){return!this._a&&!K7?de.push(We):Q.push(We),this},_p:Q,_a:null,_e:G,_s:new Map,state:z});return Le}const C6=()=>{};function a4(G,z,Q,de=C6){G.push(z);const Le=()=>{const We=G.indexOf(z);We>-1&&(G.splice(We,1),de())};return!Q&&O5()&&N_(Le),Le}function Dp(G,...z){G.slice().forEach(Q=>{Q(...z)})}const $7=G=>G();function iw(G,z){G instanceof Map&&z instanceof Map&&z.forEach((Q,de)=>G.set(de,Q)),G instanceof Set&&z instanceof Set&&z.forEach(G.add,G);for(const Q in z){if(!z.hasOwnProperty(Q))continue;const de=z[Q],Le=G[Q];aw(Le)&&aw(de)&&G.hasOwnProperty(Q)&&!Xs(de)&&!qv(de)?G[Q]=iw(Le,de):G[Q]=de}return G}const Q7=Symbol();function q7(G){return!aw(G)||!G.hasOwnProperty(Q7)}const{assign:Yv}=Object;function e9(G){return!!(Xs(G)&&G.effect)}function t9(G,z,Q,de){const{state:Le,actions:We,getters:H}=z,U=Q.state.value[G];let e;function d(){U||(Q.state.value[G]=Le?Le():{});const C=uP(Q.state.value[G]);return Yv(C,We,Object.keys(H||{}).reduce((n,L)=>(n[L]=M1(vl(()=>{k1(Q);const w=Q._s.get(G);return H[L].call(w,w)})),n),{}))}return e=L6(G,d,z,Q,de,!0),e}function L6(G,z,Q={},de,Le,We){let H;const U=Yv({actions:{}},Q),e={deep:!0};let d,C,n=[],L=[],w;const v=de.state.value[G];!We&&!v&&(de.state.value[G]={}),Qo({});let g;function r(h){let T;d=C=!1,typeof h=="function"?(h(de.state.value[G]),T={type:gg.patchFunction,storeId:G,events:w}):(iw(de.state.value[G],h),T={type:gg.patchObject,payload:h,storeId:G,events:w});const c=g=Symbol();Xg().then(()=>{g===c&&(d=!0)}),C=!0,Dp(n,T,de.state.value[G])}const t=We?function(){const{state:T}=Q,c=T?T():{};this.$patch(o=>{Yv(o,c)})}:C6;function i(){H.stop(),n=[],L=[],de._s.delete(G)}function a(h,T){return function(){k1(de);const c=Array.from(arguments),o=[],p=[];function x(y){o.push(y)}function A(y){p.push(y)}Dp(L,{args:c,name:h,store:f,after:x,onError:A});let _;try{_=T.apply(this&&this.$id===G?this:f,c)}catch(y){throw Dp(p,y),y}return _ instanceof Promise?_.then(y=>(Dp(o,y),y)).catch(y=>(Dp(p,y),Promise.reject(y))):(Dp(o,_),_)}}const u={_p:de,$id:G,$onAction:a4.bind(null,L),$patch:r,$reset:t,$subscribe(h,T={}){const c=a4(n,h,T.detached,()=>o()),o=H.run(()=>oh(()=>de.state.value[G],p=>{(T.flush==="sync"?C:d)&&h({storeId:G,type:gg.direct,events:w},p)},Yv({},e,T)));return c},$dispose:i},f=Yg(u);de._s.set(G,f);const m=(de._a&&de._a.runWithContext||$7)(()=>de._e.run(()=>(H=k5()).run(z)));for(const h in m){const T=m[h];if(Xs(T)&&!e9(T)||qv(T))We||(v&&q7(T)&&(Xs(T)?T.value=v[h]:iw(T,v[h])),de.state.value[G][h]=T);else if(typeof T=="function"){const c=a(h,T);m[h]=c,U.actions[h]=T}}return Yv(f,m),Yv(xo(f),m),Object.defineProperty(f,"$state",{get:()=>de.state.value[G],set:h=>{r(T=>{Yv(T,h)})}}),de._p.forEach(h=>{Yv(f,H.run(()=>h({store:f,app:de._a,pinia:de,options:U})))}),v&&We&&Q.hydrate&&Q.hydrate(f.$state,v),d=!0,C=!0,f}function r9(G,z,Q){let de,Le;const We=typeof z=="function";typeof G=="string"?(de=G,Le=We?Q:z):(Le=G,de=G.id);function H(U,e){const d=JP();return U=U||(d?Lc(E6,null):null),U&&k1(U),U=S6,U._s.has(de)||(We?L6(de,z,Le,U):t9(de,Le,U)),U._s.get(de)}return H.$id=de,H}/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Np=typeof document<"u";function n9(G){return G.__esModule||G[Symbol.toStringTag]==="Module"}const ko=Object.assign;function T3(G,z){const Q={};for(const de in z){const Le=z[de];Q[de]=sh(Le)?Le.map(G):G(Le)}return Q}const yg=()=>{},sh=Array.isArray,_6=/#/g,a9=/&/g,i9=/\//g,o9=/=/g,s9=/\?/g,P6=/\+/g,l9=/%5B/g,u9=/%5D/g,R6=/%5E/g,f9=/%60/g,D6=/%7B/g,c9=/%7C/g,I6=/%7D/g,h9=/%20/g;function c2(G){return encodeURI(""+G).replace(c9,"|").replace(l9,"[").replace(u9,"]")}function v9(G){return c2(G).replace(D6,"{").replace(I6,"}").replace(R6,"^")}function ow(G){return c2(G).replace(P6,"%2B").replace(h9,"+").replace(_6,"%23").replace(a9,"%26").replace(f9,"`").replace(D6,"{").replace(I6,"}").replace(R6,"^")}function d9(G){return ow(G).replace(o9,"%3D")}function p9(G){return c2(G).replace(_6,"%23").replace(s9,"%3F")}function g9(G){return G==null?"":p9(G).replace(i9,"%2F")}function Rg(G){try{return decodeURIComponent(""+G)}catch{}return""+G}const y9=/\/$/,m9=G=>G.replace(y9,"");function A3(G,z,Q="/"){let de,Le={},We="",H="";const U=z.indexOf("#");let e=z.indexOf("?");return U<e&&U>=0&&(e=-1),e>-1&&(de=z.slice(0,e),We=z.slice(e+1,U>-1?U:z.length),Le=G(We)),U>-1&&(de=de||z.slice(0,U),H=z.slice(U,z.length)),de=T9(de??z,Q),{fullPath:de+(We&&"?")+We+H,path:de,query:Le,hash:Rg(H)}}function x9(G,z){const Q=z.query?G(z.query):"";return z.path+(Q&&"?")+Q+(z.hash||"")}function i4(G,z){return!z||!G.toLowerCase().startsWith(z.toLowerCase())?G:G.slice(z.length)||"/"}function b9(G,z,Q){const de=z.matched.length-1,Le=Q.matched.length-1;return de>-1&&de===Le&&s0(z.matched[de],Q.matched[Le])&&k6(z.params,Q.params)&&G(z.query)===G(Q.query)&&z.hash===Q.hash}function s0(G,z){return(G.aliasOf||G)===(z.aliasOf||z)}function k6(G,z){if(Object.keys(G).length!==Object.keys(z).length)return!1;for(const Q in G)if(!w9(G[Q],z[Q]))return!1;return!0}function w9(G,z){return sh(G)?o4(G,z):sh(z)?o4(z,G):G===z}function o4(G,z){return sh(z)?G.length===z.length&&G.every((Q,de)=>Q===z[de]):G.length===1&&G[0]===z}function T9(G,z){if(G.startsWith("/"))return G;if(!G)return z;const Q=z.split("/"),de=G.split("/"),Le=de[de.length-1];(Le===".."||Le===".")&&de.push("");let We=Q.length-1,H,U;for(H=0;H<de.length;H++)if(U=de[H],U!==".")if(U==="..")We>1&&We--;else break;return Q.slice(0,We).join("/")+"/"+de.slice(H).join("/")}var Dg;(function(G){G.pop="pop",G.push="push"})(Dg||(Dg={}));var mg;(function(G){G.back="back",G.forward="forward",G.unknown=""})(mg||(mg={}));function A9(G){if(!G)if(Np){const z=document.querySelector("base");G=z&&z.getAttribute("href")||"/",G=G.replace(/^\w+:\/\/[^\/]+/,"")}else G="/";return G[0]!=="/"&&G[0]!=="#"&&(G="/"+G),m9(G)}const M9=/^[^#]+#/;function S9(G,z){return G.replace(M9,"#")+z}function E9(G,z){const Q=document.documentElement.getBoundingClientRect(),de=G.getBoundingClientRect();return{behavior:z.behavior,left:de.left-Q.left-(z.left||0),top:de.top-Q.top-(z.top||0)}}const O1=()=>({left:window.scrollX,top:window.scrollY});function C9(G){let z;if("el"in G){const Q=G.el,de=typeof Q=="string"&&Q.startsWith("#"),Le=typeof Q=="string"?de?document.getElementById(Q.slice(1)):document.querySelector(Q):Q;if(!Le)return;z=E9(Le,G)}else z=G;"scrollBehavior"in document.documentElement.style?window.scrollTo(z):window.scrollTo(z.left!=null?z.left:window.scrollX,z.top!=null?z.top:window.scrollY)}function s4(G,z){return(history.state?history.state.position-z:-1)+G}const sw=new Map;function L9(G,z){sw.set(G,z)}function _9(G){const z=sw.get(G);return sw.delete(G),z}let P9=()=>location.protocol+"//"+location.host;function O6(G,z){const{pathname:Q,search:de,hash:Le}=z,We=G.indexOf("#");if(We>-1){let U=Le.includes(G.slice(We))?G.slice(We).length:1,e=Le.slice(U);return e[0]!=="/"&&(e="/"+e),i4(e,"")}return i4(Q,G)+de+Le}function R9(G,z,Q,de){let Le=[],We=[],H=null;const U=({state:L})=>{const w=O6(G,location),v=Q.value,g=z.value;let r=0;if(L){if(Q.value=w,z.value=L,H&&H===v){H=null;return}r=g?L.position-g.position:0}else de(w);Le.forEach(t=>{t(Q.value,v,{delta:r,type:Dg.pop,direction:r?r>0?mg.forward:mg.back:mg.unknown})})};function e(){H=Q.value}function d(L){Le.push(L);const w=()=>{const v=Le.indexOf(L);v>-1&&Le.splice(v,1)};return We.push(w),w}function C(){const{history:L}=window;L.state&&L.replaceState(ko({},L.state,{scroll:O1()}),"")}function n(){for(const L of We)L();We=[],window.removeEventListener("popstate",U),window.removeEventListener("beforeunload",C)}return window.addEventListener("popstate",U),window.addEventListener("beforeunload",C,{passive:!0}),{pauseListeners:e,listen:d,destroy:n}}function l4(G,z,Q,de=!1,Le=!1){return{back:G,current:z,forward:Q,replaced:de,position:window.history.length,scroll:Le?O1():null}}function D9(G){const{history:z,location:Q}=window,de={value:O6(G,Q)},Le={value:z.state};Le.value||We(de.value,{back:null,current:de.value,forward:null,position:z.length-1,replaced:!0,scroll:null},!0);function We(e,d,C){const n=G.indexOf("#"),L=n>-1?(Q.host&&document.querySelector("base")?G:G.slice(n))+e:P9()+G+e;try{z[C?"replaceState":"pushState"](d,"",L),Le.value=d}catch(w){console.error(w),Q[C?"replace":"assign"](L)}}function H(e,d){const C=ko({},z.state,l4(Le.value.back,e,Le.value.forward,!0),d,{position:Le.value.position});We(e,C,!0),de.value=e}function U(e,d){const C=ko({},Le.value,z.state,{forward:e,scroll:O1()});We(C.current,C,!0);const n=ko({},l4(de.value,e,null),{position:C.position+1},d);We(e,n,!1),de.value=e}return{location:de,state:Le,push:U,replace:H}}function I9(G){G=A9(G);const z=D9(G),Q=R9(G,z.state,z.location,z.replace);function de(We,H=!0){H||Q.pauseListeners(),history.go(We)}const Le=ko({location:"",base:G,go:de,createHref:S9.bind(null,G)},z,Q);return Object.defineProperty(Le,"location",{enumerable:!0,get:()=>z.location.value}),Object.defineProperty(Le,"state",{enumerable:!0,get:()=>z.state.value}),Le}function k9(G){return typeof G=="string"||G&&typeof G=="object"}function z6(G){return typeof G=="string"||typeof G=="symbol"}const Vv={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},F6=Symbol("");var u4;(function(G){G[G.aborted=4]="aborted",G[G.cancelled=8]="cancelled",G[G.duplicated=16]="duplicated"})(u4||(u4={}));function l0(G,z){return ko(new Error,{type:G,[F6]:!0},z)}function qh(G,z){return G instanceof Error&&F6 in G&&(z==null||!!(G.type&z))}const f4="[^/]+?",O9={sensitive:!1,strict:!1,start:!0,end:!0},z9=/[.+*?^${}()[\]/\\]/g;function F9(G,z){const Q=ko({},O9,z),de=[];let Le=Q.start?"^":"";const We=[];for(const d of G){const C=d.length?[]:[90];Q.strict&&!d.length&&(Le+="/");for(let n=0;n<d.length;n++){const L=d[n];let w=40+(Q.sensitive?.25:0);if(L.type===0)n||(Le+="/"),Le+=L.value.replace(z9,"\\$&"),w+=40;else if(L.type===1){const{value:v,repeatable:g,optional:r,regexp:t}=L;We.push({name:v,repeatable:g,optional:r});const i=t||f4;if(i!==f4){w+=10;try{new RegExp(`(${i})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${v}" (${i}): `+u.message)}}let a=g?`((?:${i})(?:/(?:${i}))*)`:`(${i})`;n||(a=r&&d.length<2?`(?:/${a})`:"/"+a),r&&(a+="?"),Le+=a,w+=20,r&&(w+=-8),g&&(w+=-20),i===".*"&&(w+=-50)}C.push(w)}de.push(C)}if(Q.strict&&Q.end){const d=de.length-1;de[d][de[d].length-1]+=.7000000000000001}Q.strict||(Le+="/?"),Q.end?Le+="$":Q.strict&&(Le+="(?:/|$)");const H=new RegExp(Le,Q.sensitive?"":"i");function U(d){const C=d.match(H),n={};if(!C)return null;for(let L=1;L<C.length;L++){const w=C[L]||"",v=We[L-1];n[v.name]=w&&v.repeatable?w.split("/"):w}return n}function e(d){let C="",n=!1;for(const L of G){(!n||!C.endsWith("/"))&&(C+="/"),n=!1;for(const w of L)if(w.type===0)C+=w.value;else if(w.type===1){const{value:v,repeatable:g,optional:r}=w,t=v in d?d[v]:"";if(sh(t)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const i=sh(t)?t.join("/"):t;if(!i)if(r)L.length<2&&(C.endsWith("/")?C=C.slice(0,-1):n=!0);else throw new Error(`Missing required param "${v}"`);C+=i}}return C||"/"}return{re:H,score:de,keys:We,parse:U,stringify:e}}function N9(G,z){let Q=0;for(;Q<G.length&&Q<z.length;){const de=z[Q]-G[Q];if(de)return de;Q++}return G.length<z.length?G.length===1&&G[0]===80?-1:1:G.length>z.length?z.length===1&&z[0]===80?1:-1:0}function B9(G,z){let Q=0;const de=G.score,Le=z.score;for(;Q<de.length&&Q<Le.length;){const We=N9(de[Q],Le[Q]);if(We)return We;Q++}if(Math.abs(Le.length-de.length)===1){if(c4(de))return 1;if(c4(Le))return-1}return Le.length-de.length}function c4(G){const z=G[G.length-1];return G.length>0&&z[z.length-1]<0}const U9={type:0,value:""},V9=/[a-zA-Z0-9_]/;function H9(G){if(!G)return[[]];if(G==="/")return[[U9]];if(!G.startsWith("/"))throw new Error(`Invalid path "${G}"`);function z(w){throw new Error(`ERR (${Q})/"${d}": ${w}`)}let Q=0,de=Q;const Le=[];let We;function H(){We&&Le.push(We),We=[]}let U=0,e,d="",C="";function n(){d&&(Q===0?We.push({type:0,value:d}):Q===1||Q===2||Q===3?(We.length>1&&(e==="*"||e==="+")&&z(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),We.push({type:1,value:d,regexp:C,repeatable:e==="*"||e==="+",optional:e==="*"||e==="?"})):z("Invalid state to consume buffer"),d="")}function L(){d+=e}for(;U<G.length;){if(e=G[U++],e==="\\"&&Q!==2){de=Q,Q=4;continue}switch(Q){case 0:e==="/"?(d&&n(),H()):e===":"?(n(),Q=1):L();break;case 4:L(),Q=de;break;case 1:e==="("?Q=2:V9.test(e)?L():(n(),Q=0,e!=="*"&&e!=="?"&&e!=="+"&&U--);break;case 2:e===")"?C[C.length-1]=="\\"?C=C.slice(0,-1)+e:Q=3:C+=e;break;case 3:n(),Q=0,e!=="*"&&e!=="?"&&e!=="+"&&U--,C="";break;default:z("Unknown state");break}}return Q===2&&z(`Unfinished custom RegExp for param "${d}"`),n(),H(),Le}function G9(G,z,Q){const de=F9(H9(G.path),Q),Le=ko(de,{record:G,parent:z,children:[],alias:[]});return z&&!Le.record.aliasOf==!z.record.aliasOf&&z.children.push(Le),Le}function W9(G,z){const Q=[],de=new Map;z=d4({strict:!1,end:!0,sensitive:!1},z);function Le(C){return de.get(C)}function We(C,n,L){const w=!L,v=Y9(C);v.aliasOf=L&&L.record;const g=d4(z,C),r=[v];if("alias"in C){const a=typeof C.alias=="string"?[C.alias]:C.alias;for(const u of a)r.push(ko({},v,{components:L?L.record.components:v.components,path:u,aliasOf:L?L.record:v}))}let t,i;for(const a of r){const{path:u}=a;if(n&&u[0]!=="/"){const f=n.record.path,l=f[f.length-1]==="/"?"":"/";a.path=n.record.path+(u&&l+u)}if(t=G9(a,n,g),L?L.alias.push(t):(i=i||t,i!==t&&i.alias.push(t),w&&C.name&&!v4(t)&&H(C.name)),v.children){const f=v.children;for(let l=0;l<f.length;l++)We(f[l],t,L&&L.children[l])}L=L||t,(t.record.components&&Object.keys(t.record.components).length||t.record.name||t.record.redirect)&&e(t)}return i?()=>{H(i)}:yg}function H(C){if(z6(C)){const n=de.get(C);n&&(de.delete(C),Q.splice(Q.indexOf(n),1),n.children.forEach(H),n.alias.forEach(H))}else{const n=Q.indexOf(C);n>-1&&(Q.splice(n,1),C.record.name&&de.delete(C.record.name),C.children.forEach(H),C.alias.forEach(H))}}function U(){return Q}function e(C){let n=0;for(;n<Q.length&&B9(C,Q[n])>=0&&(C.record.path!==Q[n].record.path||!N6(C,Q[n]));)n++;Q.splice(n,0,C),C.record.name&&!v4(C)&&de.set(C.record.name,C)}function d(C,n){let L,w={},v,g;if("name"in C&&C.name){if(L=de.get(C.name),!L)throw l0(1,{location:C});g=L.record.name,w=ko(h4(n.params,L.keys.filter(i=>!i.optional).concat(L.parent?L.parent.keys.filter(i=>i.optional):[]).map(i=>i.name)),C.params&&h4(C.params,L.keys.map(i=>i.name))),v=L.stringify(w)}else if(C.path!=null)v=C.path,L=Q.find(i=>i.re.test(v)),L&&(w=L.parse(v),g=L.record.name);else{if(L=n.name?de.get(n.name):Q.find(i=>i.re.test(n.path)),!L)throw l0(1,{location:C,currentLocation:n});g=L.record.name,w=ko({},n.params,C.params),v=L.stringify(w)}const r=[];let t=L;for(;t;)r.unshift(t.record),t=t.parent;return{name:g,path:v,params:w,matched:r,meta:Z9(r)}}return G.forEach(C=>We(C)),{addRoute:We,resolve:d,removeRoute:H,getRoutes:U,getRecordMatcher:Le}}function h4(G,z){const Q={};for(const de of z)de in G&&(Q[de]=G[de]);return Q}function Y9(G){return{path:G.path,redirect:G.redirect,name:G.name,meta:G.meta||{},aliasOf:void 0,beforeEnter:G.beforeEnter,props:X9(G),children:G.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in G?G.components||null:G.component&&{default:G.component}}}function X9(G){const z={},Q=G.props||!1;if("component"in G)z.default=Q;else for(const de in G.components)z[de]=typeof Q=="object"?Q[de]:Q;return z}function v4(G){for(;G;){if(G.record.aliasOf)return!0;G=G.parent}return!1}function Z9(G){return G.reduce((z,Q)=>ko(z,Q.meta),{})}function d4(G,z){const Q={};for(const de in G)Q[de]=de in z?z[de]:G[de];return Q}function N6(G,z){return z.children.some(Q=>Q===G||N6(G,Q))}function j9(G){const z={};if(G===""||G==="?")return z;const de=(G[0]==="?"?G.slice(1):G).split("&");for(let Le=0;Le<de.length;++Le){const We=de[Le].replace(P6," "),H=We.indexOf("="),U=Rg(H<0?We:We.slice(0,H)),e=H<0?null:Rg(We.slice(H+1));if(U in z){let d=z[U];sh(d)||(d=z[U]=[d]),d.push(e)}else z[U]=e}return z}function p4(G){let z="";for(let Q in G){const de=G[Q];if(Q=d9(Q),de==null){de!==void 0&&(z+=(z.length?"&":"")+Q);continue}(sh(de)?de.map(We=>We&&ow(We)):[de&&ow(de)]).forEach(We=>{We!==void 0&&(z+=(z.length?"&":"")+Q,We!=null&&(z+="="+We))})}return z}function K9(G){const z={};for(const Q in G){const de=G[Q];de!==void 0&&(z[Q]=sh(de)?de.map(Le=>Le==null?null:""+Le):de==null?de:""+de)}return z}const J9=Symbol(""),g4=Symbol(""),z1=Symbol(""),h2=Symbol(""),lw=Symbol("");function ng(){let G=[];function z(de){return G.push(de),()=>{const Le=G.indexOf(de);Le>-1&&G.splice(Le,1)}}function Q(){G=[]}return{add:z,list:()=>G.slice(),reset:Q}}function Kv(G,z,Q,de,Le,We=H=>H()){const H=de&&(de.enterCallbacks[Le]=de.enterCallbacks[Le]||[]);return()=>new Promise((U,e)=>{const d=L=>{L===!1?e(l0(4,{from:Q,to:z})):L instanceof Error?e(L):k9(L)?e(l0(2,{from:z,to:L})):(H&&de.enterCallbacks[Le]===H&&typeof L=="function"&&H.push(L),U())},C=We(()=>G.call(de&&de.instances[Le],z,Q,d));let n=Promise.resolve(C);G.length<3&&(n=n.then(d)),n.catch(L=>e(L))})}function M3(G,z,Q,de,Le=We=>We()){const We=[];for(const H of G)for(const U in H.components){let e=H.components[U];if(!(z!=="beforeRouteEnter"&&!H.instances[U]))if($9(e)){const C=(e.__vccOpts||e)[z];C&&We.push(Kv(C,Q,de,H,U,Le))}else{let d=e();We.push(()=>d.then(C=>{if(!C)return Promise.reject(new Error(`Couldn't resolve component "${U}" at "${H.path}"`));const n=n9(C)?C.default:C;H.components[U]=n;const w=(n.__vccOpts||n)[z];return w&&Kv(w,Q,de,H,U,Le)()}))}}return We}function $9(G){return typeof G=="object"||"displayName"in G||"props"in G||"__vccOpts"in G}function y4(G){const z=Lc(z1),Q=Lc(h2),de=vl(()=>z.resolve(Zi(G.to))),Le=vl(()=>{const{matched:e}=de.value,{length:d}=e,C=e[d-1],n=Q.matched;if(!C||!n.length)return-1;const L=n.findIndex(s0.bind(null,C));if(L>-1)return L;const w=m4(e[d-2]);return d>1&&m4(C)===w&&n[n.length-1].path!==w?n.findIndex(s0.bind(null,e[d-2])):L}),We=vl(()=>Le.value>-1&&tR(Q.params,de.value.params)),H=vl(()=>Le.value>-1&&Le.value===Q.matched.length-1&&k6(Q.params,de.value.params));function U(e={}){return eR(e)?z[Zi(G.replace)?"replace":"push"](Zi(G.to)).catch(yg):Promise.resolve()}return{route:de,href:vl(()=>de.value.href),isActive:We,isExactActive:H,navigate:U}}const Q9=o2({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:y4,setup(G,{slots:z}){const Q=Yg(y4(G)),{options:de}=Lc(z1),Le=vl(()=>({[x4(G.activeClass,de.linkActiveClass,"router-link-active")]:Q.isActive,[x4(G.exactActiveClass,de.linkExactActiveClass,"router-link-exact-active")]:Q.isExactActive}));return()=>{const We=z.default&&z.default(Q);return G.custom?We:f2("a",{"aria-current":Q.isExactActive?G.ariaCurrentValue:null,href:Q.href,onClick:Q.navigate,class:Le.value},We)}}}),q9=Q9;function eR(G){if(!(G.metaKey||G.altKey||G.ctrlKey||G.shiftKey)&&!G.defaultPrevented&&!(G.button!==void 0&&G.button!==0)){if(G.currentTarget&&G.currentTarget.getAttribute){const z=G.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(z))return}return G.preventDefault&&G.preventDefault(),!0}}function tR(G,z){for(const Q in z){const de=z[Q],Le=G[Q];if(typeof de=="string"){if(de!==Le)return!1}else if(!sh(Le)||Le.length!==de.length||de.some((We,H)=>We!==Le[H]))return!1}return!0}function m4(G){return G?G.aliasOf?G.aliasOf.path:G.path:""}const x4=(G,z,Q)=>G??z??Q,rR=o2({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(G,{attrs:z,slots:Q}){const de=Lc(lw),Le=vl(()=>G.route||de.value),We=Lc(g4,0),H=vl(()=>{let d=Zi(We);const{matched:C}=Le.value;let n;for(;(n=C[d])&&!n.components;)d++;return d}),U=vl(()=>Le.value.matched[H.value]);km(g4,vl(()=>H.value+1)),km(J9,U),km(lw,Le);const e=Qo();return oh(()=>[e.value,U.value,G.name],([d,C,n],[L,w,v])=>{C&&(C.instances[n]=d,w&&w!==C&&d&&d===L&&(C.leaveGuards.size||(C.leaveGuards=w.leaveGuards),C.updateGuards.size||(C.updateGuards=w.updateGuards))),d&&C&&(!w||!s0(C,w)||!L)&&(C.enterCallbacks[n]||[]).forEach(g=>g(d))},{flush:"post"}),()=>{const d=Le.value,C=G.name,n=U.value,L=n&&n.components[C];if(!L)return b4(Q.default,{Component:L,route:d});const w=n.props[C],v=w?w===!0?d.params:typeof w=="function"?w(d):w:null,r=f2(L,ko({},v,z,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(n.instances[C]=null)},ref:e}));return b4(Q.default,{Component:r,route:d})||r}}});function b4(G,z){if(!G)return null;const Q=G(z);return Q.length===1?Q[0]:Q}const B6=rR;function nR(G){const z=W9(G.routes,G),Q=G.parseQuery||j9,de=G.stringifyQuery||p4,Le=G.history,We=ng(),H=ng(),U=ng(),e=oP(Vv);let d=Vv;Np&&G.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const C=T3.bind(null,N=>""+N),n=T3.bind(null,g9),L=T3.bind(null,Rg);function w(N,O){let V,X;return z6(N)?(V=z.getRecordMatcher(N),X=O):X=N,z.addRoute(X,V)}function v(N){const O=z.getRecordMatcher(N);O&&z.removeRoute(O)}function g(){return z.getRoutes().map(N=>N.record)}function r(N){return!!z.getRecordMatcher(N)}function t(N,O){if(O=ko({},O||e.value),typeof N=="string"){const se=A3(Q,N,O.path),J=z.resolve({path:se.path},O),Z=Le.createHref(se.fullPath);return ko(se,J,{params:L(J.params),hash:Rg(se.hash),redirectedFrom:void 0,href:Z})}let V;if(N.path!=null)V=ko({},N,{path:A3(Q,N.path,O.path).path});else{const se=ko({},N.params);for(const J in se)se[J]==null&&delete se[J];V=ko({},N,{params:n(se)}),O.params=n(O.params)}const X=z.resolve(V,O),ee=N.hash||"";X.params=C(L(X.params));const ne=x9(de,ko({},N,{hash:v9(ee),path:X.path})),q=Le.createHref(ne);return ko({fullPath:ne,hash:ee,query:de===p4?K9(N.query):N.query||{}},X,{redirectedFrom:void 0,href:q})}function i(N){return typeof N=="string"?A3(Q,N,e.value.path):ko({},N)}function a(N,O){if(d!==N)return l0(8,{from:O,to:N})}function u(N){return m(N)}function f(N){return u(ko(i(N),{replace:!0}))}function l(N){const O=N.matched[N.matched.length-1];if(O&&O.redirect){const{redirect:V}=O;let X=typeof V=="function"?V(N):V;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=i(X):{path:X},X.params={}),ko({query:N.query,hash:N.hash,params:X.path!=null?{}:N.params},X)}}function m(N,O){const V=d=t(N),X=e.value,ee=N.state,ne=N.force,q=N.replace===!0,se=l(V);if(se)return m(ko(i(se),{state:typeof se=="object"?ko({},ee,se.state):ee,force:ne,replace:q}),O||V);const J=V;J.redirectedFrom=O;let Z;return!ne&&b9(de,X,V)&&(Z=l0(16,{to:J,from:X}),b(X,X,!0,!1)),(Z?Promise.resolve(Z):c(J,X)).catch(te=>qh(te)?qh(te,2)?te:S(te):M(te,J,X)).then(te=>{if(te){if(qh(te,2))return m(ko({replace:q},i(te.to),{state:typeof te.to=="object"?ko({},ee,te.to.state):ee,force:ne}),O||J)}else te=p(J,X,!0,q,ee);return o(J,X,te),te})}function h(N,O){const V=a(N,O);return V?Promise.reject(V):Promise.resolve()}function T(N){const O=B.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(N):N()}function c(N,O){let V;const[X,ee,ne]=aR(N,O);V=M3(X.reverse(),"beforeRouteLeave",N,O);for(const se of X)se.leaveGuards.forEach(J=>{V.push(Kv(J,N,O))});const q=h.bind(null,N,O);return V.push(q),F(V).then(()=>{V=[];for(const se of We.list())V.push(Kv(se,N,O));return V.push(q),F(V)}).then(()=>{V=M3(ee,"beforeRouteUpdate",N,O);for(const se of ee)se.updateGuards.forEach(J=>{V.push(Kv(J,N,O))});return V.push(q),F(V)}).then(()=>{V=[];for(const se of ne)if(se.beforeEnter)if(sh(se.beforeEnter))for(const J of se.beforeEnter)V.push(Kv(J,N,O));else V.push(Kv(se.beforeEnter,N,O));return V.push(q),F(V)}).then(()=>(N.matched.forEach(se=>se.enterCallbacks={}),V=M3(ne,"beforeRouteEnter",N,O,T),V.push(q),F(V))).then(()=>{V=[];for(const se of H.list())V.push(Kv(se,N,O));return V.push(q),F(V)}).catch(se=>qh(se,8)?se:Promise.reject(se))}function o(N,O,V){U.list().forEach(X=>T(()=>X(N,O,V)))}function p(N,O,V,X,ee){const ne=a(N,O);if(ne)return ne;const q=O===Vv,se=Np?history.state:{};V&&(X||q?Le.replace(N.fullPath,ko({scroll:q&&se&&se.scroll},ee)):Le.push(N.fullPath,ee)),e.value=N,b(N,O,V,q),S()}let x;function A(){x||(x=Le.listen((N,O,V)=>{if(!k.listening)return;const X=t(N),ee=l(X);if(ee){m(ko(ee,{replace:!0}),X).catch(yg);return}d=X;const ne=e.value;Np&&L9(s4(ne.fullPath,V.delta),O1()),c(X,ne).catch(q=>qh(q,12)?q:qh(q,2)?(m(q.to,X).then(se=>{qh(se,20)&&!V.delta&&V.type===Dg.pop&&Le.go(-1,!1)}).catch(yg),Promise.reject()):(V.delta&&Le.go(-V.delta,!1),M(q,X,ne))).then(q=>{q=q||p(X,ne,!1),q&&(V.delta&&!qh(q,8)?Le.go(-V.delta,!1):V.type===Dg.pop&&qh(q,20)&&Le.go(-1,!1)),o(X,ne,q)}).catch(yg)}))}let _=ng(),y=ng(),E;function M(N,O,V){S(N);const X=y.list();return X.length?X.forEach(ee=>ee(N,O,V)):console.error(N),Promise.reject(N)}function s(){return E&&e.value!==Vv?Promise.resolve():new Promise((N,O)=>{_.add([N,O])})}function S(N){return E||(E=!N,A(),_.list().forEach(([O,V])=>N?V(N):O()),_.reset()),N}function b(N,O,V,X){const{scrollBehavior:ee}=G;if(!Np||!ee)return Promise.resolve();const ne=!V&&_9(s4(N.fullPath,0))||(X||!V)&&history.state&&history.state.scroll||null;return Xg().then(()=>ee(N,O,ne)).then(q=>q&&C9(q)).catch(q=>M(q,N,O))}const I=N=>Le.go(N);let D;const B=new Set,k={currentRoute:e,listening:!0,addRoute:w,removeRoute:v,hasRoute:r,getRoutes:g,resolve:t,options:G,push:u,replace:f,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:We.add,beforeResolve:H.add,afterEach:U.add,onError:y.add,isReady:s,install(N){const O=this;N.component("RouterLink",q9),N.component("RouterView",B6),N.config.globalProperties.$router=O,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Zi(e)}),Np&&!D&&e.value===Vv&&(D=!0,u(Le.location).catch(ee=>{}));const V={};for(const ee in Vv)Object.defineProperty(V,ee,{get:()=>e.value[ee],enumerable:!0});N.provide(z1,O),N.provide(h2,Z5(V)),N.provide(lw,e);const X=N.unmount;B.add(N),N.unmount=function(){B.delete(N),B.size<1&&(d=Vv,x&&x(),x=null,e.value=Vv,D=!1,E=!1),X()}}};function F(N){return N.reduce((O,V)=>O.then(()=>T(V)),Promise.resolve())}return k}function aR(G,z){const Q=[],de=[],Le=[],We=Math.max(z.matched.length,G.matched.length);for(let H=0;H<We;H++){const U=z.matched[H];U&&(G.matched.find(d=>s0(d,U))?de.push(U):Q.push(U));const e=G.matched[H];e&&(z.matched.find(d=>s0(d,e))||Le.push(e))}return[Q,de,Le]}function iR(){return Lc(z1)}function oR(){return Lc(h2)}const U6=(G,z)=>{const Q=G.__vccOpts||G;for(const[de,Le]of z)Q[de]=Le;return Q},sR={},lR={class:"navbar navbar-expand-lg navbar-light bg-light"},uR={class:"container-fluid"},fR=Ba("span",{class:"navbar-brand"},"Spendit[vue3]",-1),cR=Ba("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Ba("span",{class:"navbar-toggler-icon"})],-1),hR={class:"collapse navbar-collapse",id:"navbarSupportedContent"},vR={class:"navbar-nav me-auto mb-2 mb-lg-0"},dR={class:"nav-item",style:{cursor:"pointer"}},pR={class:"nav-item",style:{cursor:"pointer"}};function gR(G,z){const Q=o6("RouterLink");return mo(),To("nav",lR,[Ba("div",uR,[fR,cR,Ba("div",hR,[Ba("ul",vR,[Ba("li",dR,[Go(Q,{to:"/",class:"nav-link"},{default:jm(()=>[_g("Tables")]),_:1})]),Ba("li",pR,[Go(Q,{to:"/about",class:"nav-link"},{default:jm(()=>[_g("About")]),_:1})])])])])])}const yR=U6(sR,[["render",gR]]),mR={class:"d-flex flex-column"},xR={__name:"App",setup(G){return(z,Q)=>(mo(),To("div",mR,[Go(yR),Go(Zi(B6))]))}},bR="modulepreload",wR=function(G){return"/"+G},w4={},TR=function(z,Q,de){let Le=Promise.resolve();if(Q&&Q.length>0){const We=document.getElementsByTagName("link");Le=Promise.all(Q.map(H=>{if(H=wR(H),H in w4)return;w4[H]=!0;const U=H.endsWith(".css"),e=U?'[rel="stylesheet"]':"";if(!!de)for(let n=We.length-1;n>=0;n--){const L=We[n];if(L.href===H&&(!U||L.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${H}"]${e}`))return;const C=document.createElement("link");if(C.rel=U?"stylesheet":bR,U||(C.as="script",C.crossOrigin=""),C.href=H,document.head.appendChild(C),U)return new Promise((n,L)=>{C.addEventListener("load",n),C.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${H}`)))})}))}return Le.then(()=>z()).catch(We=>{const H=new Event("vite:preloadError",{cancelable:!0});if(H.payload=We,window.dispatchEvent(H),!H.defaultPrevented)throw We})},AR="/rpc-run",MR={apiUrl:AR},v2=MR.apiUrl;console.log(`remoteUrl=${v2}`);function S3(G){return JSON.parse(JSON.stringify(G))}async function SR(G,...z){let Q=new Date;const de=Math.random().toString(36).slice(-6);let Le=`remote.${G}.start(`,We=z.length;for(let U=0;U<We;U+=1)Le+=JSON.stringify(S3(z[U])),U<We-1&&(Le+=", ");Le+=")",console.log(Le);let H;try{H=await(await fetch(v2,{method:"post",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:G,params:z,jsonrpc:"2.0",id:de})})).json();let d=new Date-Q;if("result"in H)console.log(`remote.${G}.result[${d}ms]: `),console.groupCollapsed(),console.log(S3(H.result)),console.groupEnd();else{console.log(`remote.${G}.error[${d}ms]:`,S3(H.error));for(let C of H.error.message)console.log(`!! ${C}`)}}catch(U){let e=new Date-Q;console.log(`remote.${G}.fail[${e}ms]: ${U}`),H={error:{message:`${U}`,code:-32e3},jsonrpc:"2.0",id:de}}return H}class ER{constructor(){return new Proxy(this,{get(z,Q){return async function(...de){return await SR(Q,...de)}}})}}async function CR(G,z,...Q){const de=new FormData;de.append("file",G,G.name),de.append("method",z),de.append("paramsJson",JSON.stringify(Q));let Le={body:de,method:"post"};console.log("payload",Le);let We=new Date;console.log("rpc.start.upload",Le);let H=await fetch(v2.replace("rpc-run","upload/"),Le),U=new Date-We;const e=await H.json();return"result"in e&&(console.log(`rpc.result.upload[${U}ms]: `),console.groupCollapsed(),console.log(e.result),console.groupEnd()),e}function LR(G,z){let Q=document.createElement("a");Q.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(G)),Q.setAttribute("download",z),Q.style.display="none",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)}const Dh=new ER,hd=r9("transactions",()=>{const G=Qo(""),z=Qo([]),Q=Qo([]),de=Qo(0),Le=Qo(!1),We=Qo(null),H=Qo([]),U=Qo(null),e=Qo(0);async function d(i){G.value=i;const u=(await Dh.get_report_row(i)).result;H.value=JSON.parse(u.json_categories),e.value=u.offset_days;let f=await Dh.get_transactions(i);z.value=f.result.columns,Q.value=f.result.data,de.value=de.value+1}async function C(i,a){for(let u of Q.value)u[0]===i&&(u[u.length-1]=a);await Dh.update_transaction(G.value,i,{category:a}),de.value=de.value+1}async function n(){await Dh.update_report(G.value,{offset_days:e.value})}async function L(){await Dh.update_categories(H.value,G.value)}async function w(){await L(),await Dh.autofill(G.value),d(G.value)}async function v(i){await Dh.rename_report(G.value,i),G.value=i}async function g(){const i=await Dh.get_csv(G.value);"result"in i&&LR(i.result,`${G.value}.csv`)}async function r(){await Dh.delete_report(G.value)}async function t(){let i=await Dh.get_report_names();if("result"in i)return i.result}return{headers:z,rows:Q,filterCategory:We,table:G,clickTransaction:U,keyLock:Le,categories:H,offsetDays:e,updateCount:de,loadReport:d,updateOffsetDays:n,updateReportName:v,updateCategories:L,updateCategoryOfRow:C,downloadReportCsv:g,autofill:w,deleteReport:r,getReportNames:t}});function T4(G,z){var Q=Object.keys(G);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(G);z&&(de=de.filter(function(Le){return Object.getOwnPropertyDescriptor(G,Le).enumerable})),Q.push.apply(Q,de)}return Q}function ni(G){for(var z=1;z<arguments.length;z++){var Q=arguments[z]!=null?arguments[z]:{};z%2?T4(Object(Q),!0).forEach(function(de){pl(G,de,Q[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(Q)):T4(Object(Q)).forEach(function(de){Object.defineProperty(G,de,Object.getOwnPropertyDescriptor(Q,de))})}return G}function qm(G){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},qm(G)}function _R(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}function A4(G,z){for(var Q=0;Q<z.length;Q++){var de=z[Q];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(G,de.key,de)}}function PR(G,z,Q){return z&&A4(G.prototype,z),Q&&A4(G,Q),Object.defineProperty(G,"prototype",{writable:!1}),G}function pl(G,z,Q){return z in G?Object.defineProperty(G,z,{value:Q,enumerable:!0,configurable:!0,writable:!0}):G[z]=Q,G}function d2(G,z){return DR(G)||kR(G,z)||V6(G,z)||zR()}function jg(G){return RR(G)||IR(G)||V6(G)||OR()}function RR(G){if(Array.isArray(G))return uw(G)}function DR(G){if(Array.isArray(G))return G}function IR(G){if(typeof Symbol<"u"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)}function kR(G,z){var Q=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(Q!=null){var de=[],Le=!0,We=!1,H,U;try{for(Q=Q.call(G);!(Le=(H=Q.next()).done)&&(de.push(H.value),!(z&&de.length===z));Le=!0);}catch(e){We=!0,U=e}finally{try{!Le&&Q.return!=null&&Q.return()}finally{if(We)throw U}}return de}}function V6(G,z){if(G){if(typeof G=="string")return uw(G,z);var Q=Object.prototype.toString.call(G).slice(8,-1);if(Q==="Object"&&G.constructor&&(Q=G.constructor.name),Q==="Map"||Q==="Set")return Array.from(G);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return uw(G,z)}}function uw(G,z){(z==null||z>G.length)&&(z=G.length);for(var Q=0,de=new Array(z);Q<z;Q++)de[Q]=G[Q];return de}function OR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M4=function(){},p2={},H6={},G6=null,W6={mark:M4,measure:M4};try{typeof window<"u"&&(p2=window),typeof document<"u"&&(H6=document),typeof MutationObserver<"u"&&(G6=MutationObserver),typeof performance<"u"&&(W6=performance)}catch{}var FR=p2.navigator||{},S4=FR.userAgent,E4=S4===void 0?"":S4,od=p2,fs=H6,C4=G6,hm=W6;od.document;var hv=!!fs.documentElement&&!!fs.head&&typeof fs.addEventListener=="function"&&typeof fs.createElement=="function",Y6=~E4.indexOf("MSIE")||~E4.indexOf("Trident/"),vm,dm,pm,gm,ym,ov="___FONT_AWESOME___",fw=16,X6="fa",Z6="svg-inline--fa",$d="data-fa-i2svg",cw="data-fa-pseudo-element",NR="data-fa-pseudo-element-pending",g2="data-prefix",y2="data-icon",L4="fontawesome-i2svg",BR="async",UR=["HTML","HEAD","STYLE","SCRIPT"],j6=function(){try{return!0}catch{return!1}}(),us="classic",ks="sharp",m2=[us,ks];function Kg(G){return new Proxy(G,{get:function(Q,de){return de in Q?Q[de]:Q[us]}})}var Ig=Kg((vm={},pl(vm,us,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),pl(vm,ks,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),vm)),kg=Kg((dm={},pl(dm,us,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),pl(dm,ks,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),dm)),Og=Kg((pm={},pl(pm,us,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),pl(pm,ks,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),pm)),VR=Kg((gm={},pl(gm,us,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),pl(gm,ks,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),gm)),HR=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,K6="fa-layers-text",GR=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,WR=Kg((ym={},pl(ym,us,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),pl(ym,ks,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),ym)),J6=[1,2,3,4,5,6,7,8,9,10],YR=J6.concat([11,12,13,14,15,16,17,18,19,20]),XR=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Hd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},zg=new Set;Object.keys(kg[us]).map(zg.add.bind(zg));Object.keys(kg[ks]).map(zg.add.bind(zg));var ZR=[].concat(m2,jg(zg),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Hd.GROUP,Hd.SWAP_OPACITY,Hd.PRIMARY,Hd.SECONDARY]).concat(J6.map(function(G){return"".concat(G,"x")})).concat(YR.map(function(G){return"w-".concat(G)})),xg=od.FontAwesomeConfig||{};function jR(G){var z=fs.querySelector("script["+G+"]");if(z)return z.getAttribute(G)}function KR(G){return G===""?!0:G==="false"?!1:G==="true"?!0:G}if(fs&&typeof fs.querySelector=="function"){var JR=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];JR.forEach(function(G){var z=d2(G,2),Q=z[0],de=z[1],Le=KR(jR(Q));Le!=null&&(xg[de]=Le)})}var $6={styleDefault:"solid",familyDefault:"classic",cssPrefix:X6,replacementClass:Z6,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};xg.familyPrefix&&(xg.cssPrefix=xg.familyPrefix);var u0=ni(ni({},$6),xg);u0.autoReplaceSvg||(u0.observeMutations=!1);var ci={};Object.keys($6).forEach(function(G){Object.defineProperty(ci,G,{enumerable:!0,set:function(Q){u0[G]=Q,bg.forEach(function(de){return de(ci)})},get:function(){return u0[G]}})});Object.defineProperty(ci,"familyPrefix",{enumerable:!0,set:function(z){u0.cssPrefix=z,bg.forEach(function(Q){return Q(ci)})},get:function(){return u0.cssPrefix}});od.FontAwesomeConfig=ci;var bg=[];function $R(G){return bg.push(G),function(){bg.splice(bg.indexOf(G),1)}}var Hv=fw,Oh={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function QR(G){if(!(!G||!hv)){var z=fs.createElement("style");z.setAttribute("type","text/css"),z.innerHTML=G;for(var Q=fs.head.childNodes,de=null,Le=Q.length-1;Le>-1;Le--){var We=Q[Le],H=(We.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(H)>-1&&(de=We)}return fs.head.insertBefore(z,de),G}}var qR="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Fg(){for(var G=12,z="";G-- >0;)z+=qR[Math.random()*62|0];return z}function g0(G){for(var z=[],Q=(G||[]).length>>>0;Q--;)z[Q]=G[Q];return z}function x2(G){return G.classList?g0(G.classList):(G.getAttribute("class")||"").split(" ").filter(function(z){return z})}function Q6(G){return"".concat(G).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function eD(G){return Object.keys(G||{}).reduce(function(z,Q){return z+"".concat(Q,'="').concat(Q6(G[Q]),'" ')},"").trim()}function F1(G){return Object.keys(G||{}).reduce(function(z,Q){return z+"".concat(Q,": ").concat(G[Q].trim(),";")},"")}function b2(G){return G.size!==Oh.size||G.x!==Oh.x||G.y!==Oh.y||G.rotate!==Oh.rotate||G.flipX||G.flipY}function tD(G){var z=G.transform,Q=G.containerWidth,de=G.iconWidth,Le={transform:"translate(".concat(Q/2," 256)")},We="translate(".concat(z.x*32,", ").concat(z.y*32,") "),H="scale(".concat(z.size/16*(z.flipX?-1:1),", ").concat(z.size/16*(z.flipY?-1:1),") "),U="rotate(".concat(z.rotate," 0 0)"),e={transform:"".concat(We," ").concat(H," ").concat(U)},d={transform:"translate(".concat(de/2*-1," -256)")};return{outer:Le,inner:e,path:d}}function rD(G){var z=G.transform,Q=G.width,de=Q===void 0?fw:Q,Le=G.height,We=Le===void 0?fw:Le,H=G.startCentered,U=H===void 0?!1:H,e="";return U&&Y6?e+="translate(".concat(z.x/Hv-de/2,"em, ").concat(z.y/Hv-We/2,"em) "):U?e+="translate(calc(-50% + ".concat(z.x/Hv,"em), calc(-50% + ").concat(z.y/Hv,"em)) "):e+="translate(".concat(z.x/Hv,"em, ").concat(z.y/Hv,"em) "),e+="scale(".concat(z.size/Hv*(z.flipX?-1:1),", ").concat(z.size/Hv*(z.flipY?-1:1),") "),e+="rotate(".concat(z.rotate,"deg) "),e}var nD=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, 0));
          transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function q6(){var G=X6,z=Z6,Q=ci.cssPrefix,de=ci.replacementClass,Le=nD;if(Q!==G||de!==z){var We=new RegExp("\\.".concat(G,"\\-"),"g"),H=new RegExp("\\--".concat(G,"\\-"),"g"),U=new RegExp("\\.".concat(z),"g");Le=Le.replace(We,".".concat(Q,"-")).replace(H,"--".concat(Q,"-")).replace(U,".".concat(de))}return Le}var _4=!1;function E3(){ci.autoAddCss&&!_4&&(QR(q6()),_4=!0)}var aD={mixout:function(){return{dom:{css:q6,insertCss:E3}}},hooks:function(){return{beforeDOMElementCreation:function(){E3()},beforeI2svg:function(){E3()}}}},sv=od||{};sv[ov]||(sv[ov]={});sv[ov].styles||(sv[ov].styles={});sv[ov].hooks||(sv[ov].hooks={});sv[ov].shims||(sv[ov].shims=[]);var nh=sv[ov],eM=[],iD=function G(){fs.removeEventListener("DOMContentLoaded",G),e1=1,eM.map(function(z){return z()})},e1=!1;hv&&(e1=(fs.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(fs.readyState),e1||fs.addEventListener("DOMContentLoaded",iD));function oD(G){hv&&(e1?setTimeout(G,0):eM.push(G))}function Jg(G){var z=G.tag,Q=G.attributes,de=Q===void 0?{}:Q,Le=G.children,We=Le===void 0?[]:Le;return typeof G=="string"?Q6(G):"<".concat(z," ").concat(eD(de),">").concat(We.map(Jg).join(""),"</").concat(z,">")}function P4(G,z,Q){if(G&&G[z]&&G[z][Q])return{prefix:z,iconName:Q,icon:G[z][Q]}}var sD=function(z,Q){return function(de,Le,We,H){return z.call(Q,de,Le,We,H)}},C3=function(z,Q,de,Le){var We=Object.keys(z),H=We.length,U=Le!==void 0?sD(Q,Le):Q,e,d,C;for(de===void 0?(e=1,C=z[We[0]]):(e=0,C=de);e<H;e++)d=We[e],C=U(C,z[d],d,z);return C};function lD(G){for(var z=[],Q=0,de=G.length;Q<de;){var Le=G.charCodeAt(Q++);if(Le>=55296&&Le<=56319&&Q<de){var We=G.charCodeAt(Q++);(We&64512)==56320?z.push(((Le&1023)<<10)+(We&1023)+65536):(z.push(Le),Q--)}else z.push(Le)}return z}function hw(G){var z=lD(G);return z.length===1?z[0].toString(16):null}function uD(G,z){var Q=G.length,de=G.charCodeAt(z),Le;return de>=55296&&de<=56319&&Q>z+1&&(Le=G.charCodeAt(z+1),Le>=56320&&Le<=57343)?(de-55296)*1024+Le-56320+65536:de}function R4(G){return Object.keys(G).reduce(function(z,Q){var de=G[Q],Le=!!de.icon;return Le?z[de.iconName]=de.icon:z[Q]=de,z},{})}function vw(G,z){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},de=Q.skipHooks,Le=de===void 0?!1:de,We=R4(z);typeof nh.hooks.addPack=="function"&&!Le?nh.hooks.addPack(G,R4(z)):nh.styles[G]=ni(ni({},nh.styles[G]||{}),We),G==="fas"&&vw("fa",z)}var mm,xm,bm,Up=nh.styles,fD=nh.shims,cD=(mm={},pl(mm,us,Object.values(Og[us])),pl(mm,ks,Object.values(Og[ks])),mm),w2=null,tM={},rM={},nM={},aM={},iM={},hD=(xm={},pl(xm,us,Object.keys(Ig[us])),pl(xm,ks,Object.keys(Ig[ks])),xm);function vD(G){return~ZR.indexOf(G)}function dD(G,z){var Q=z.split("-"),de=Q[0],Le=Q.slice(1).join("-");return de===G&&Le!==""&&!vD(Le)?Le:null}var oM=function(){var z=function(We){return C3(Up,function(H,U,e){return H[e]=C3(U,We,{}),H},{})};tM=z(function(Le,We,H){if(We[3]&&(Le[We[3]]=H),We[2]){var U=We[2].filter(function(e){return typeof e=="number"});U.forEach(function(e){Le[e.toString(16)]=H})}return Le}),rM=z(function(Le,We,H){if(Le[H]=H,We[2]){var U=We[2].filter(function(e){return typeof e=="string"});U.forEach(function(e){Le[e]=H})}return Le}),iM=z(function(Le,We,H){var U=We[2];return Le[H]=H,U.forEach(function(e){Le[e]=H}),Le});var Q="far"in Up||ci.autoFetchSvg,de=C3(fD,function(Le,We){var H=We[0],U=We[1],e=We[2];return U==="far"&&!Q&&(U="fas"),typeof H=="string"&&(Le.names[H]={prefix:U,iconName:e}),typeof H=="number"&&(Le.unicodes[H.toString(16)]={prefix:U,iconName:e}),Le},{names:{},unicodes:{}});nM=de.names,aM=de.unicodes,w2=N1(ci.styleDefault,{family:ci.familyDefault})};$R(function(G){w2=N1(G.styleDefault,{family:ci.familyDefault})});oM();function T2(G,z){return(tM[G]||{})[z]}function pD(G,z){return(rM[G]||{})[z]}function Gd(G,z){return(iM[G]||{})[z]}function sM(G){return nM[G]||{prefix:null,iconName:null}}function gD(G){var z=aM[G],Q=T2("fas",G);return z||(Q?{prefix:"fas",iconName:Q}:null)||{prefix:null,iconName:null}}function sd(){return w2}var A2=function(){return{prefix:null,iconName:null,rest:[]}};function N1(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=z.family,de=Q===void 0?us:Q,Le=Ig[de][G],We=kg[de][G]||kg[de][Le],H=G in nh.styles?G:null;return We||H||null}var D4=(bm={},pl(bm,us,Object.keys(Og[us])),pl(bm,ks,Object.keys(Og[ks])),bm);function B1(G){var z,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=Q.skipLookups,Le=de===void 0?!1:de,We=(z={},pl(z,us,"".concat(ci.cssPrefix,"-").concat(us)),pl(z,ks,"".concat(ci.cssPrefix,"-").concat(ks)),z),H=null,U=us;(G.includes(We[us])||G.some(function(d){return D4[us].includes(d)}))&&(U=us),(G.includes(We[ks])||G.some(function(d){return D4[ks].includes(d)}))&&(U=ks);var e=G.reduce(function(d,C){var n=dD(ci.cssPrefix,C);if(Up[C]?(C=cD[U].includes(C)?VR[U][C]:C,H=C,d.prefix=C):hD[U].indexOf(C)>-1?(H=C,d.prefix=N1(C,{family:U})):n?d.iconName=n:C!==ci.replacementClass&&C!==We[us]&&C!==We[ks]&&d.rest.push(C),!Le&&d.prefix&&d.iconName){var L=H==="fa"?sM(d.iconName):{},w=Gd(d.prefix,d.iconName);L.prefix&&(H=null),d.iconName=L.iconName||w||d.iconName,d.prefix=L.prefix||d.prefix,d.prefix==="far"&&!Up.far&&Up.fas&&!ci.autoFetchSvg&&(d.prefix="fas")}return d},A2());return(G.includes("fa-brands")||G.includes("fab"))&&(e.prefix="fab"),(G.includes("fa-duotone")||G.includes("fad"))&&(e.prefix="fad"),!e.prefix&&U===ks&&(Up.fass||ci.autoFetchSvg)&&(e.prefix="fass",e.iconName=Gd(e.prefix,e.iconName)||e.iconName),(e.prefix==="fa"||H==="fa")&&(e.prefix=sd()||"fas"),e}var yD=function(){function G(){_R(this,G),this.definitions={}}return PR(G,[{key:"add",value:function(){for(var Q=this,de=arguments.length,Le=new Array(de),We=0;We<de;We++)Le[We]=arguments[We];var H=Le.reduce(this._pullDefinitions,{});Object.keys(H).forEach(function(U){Q.definitions[U]=ni(ni({},Q.definitions[U]||{}),H[U]),vw(U,H[U]);var e=Og[us][U];e&&vw(e,H[U]),oM()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(Q,de){var Le=de.prefix&&de.iconName&&de.icon?{0:de}:de;return Object.keys(Le).map(function(We){var H=Le[We],U=H.prefix,e=H.iconName,d=H.icon,C=d[2];Q[U]||(Q[U]={}),C.length>0&&C.forEach(function(n){typeof n=="string"&&(Q[U][n]=d)}),Q[U][e]=d}),Q}}]),G}(),I4=[],Vp={},jp={},mD=Object.keys(jp);function xD(G,z){var Q=z.mixoutsTo;return I4=G,Vp={},Object.keys(jp).forEach(function(de){mD.indexOf(de)===-1&&delete jp[de]}),I4.forEach(function(de){var Le=de.mixout?de.mixout():{};if(Object.keys(Le).forEach(function(H){typeof Le[H]=="function"&&(Q[H]=Le[H]),qm(Le[H])==="object"&&Object.keys(Le[H]).forEach(function(U){Q[H]||(Q[H]={}),Q[H][U]=Le[H][U]})}),de.hooks){var We=de.hooks();Object.keys(We).forEach(function(H){Vp[H]||(Vp[H]=[]),Vp[H].push(We[H])})}de.provides&&de.provides(jp)}),Q}function dw(G,z){for(var Q=arguments.length,de=new Array(Q>2?Q-2:0),Le=2;Le<Q;Le++)de[Le-2]=arguments[Le];var We=Vp[G]||[];return We.forEach(function(H){z=H.apply(null,[z].concat(de))}),z}function Qd(G){for(var z=arguments.length,Q=new Array(z>1?z-1:0),de=1;de<z;de++)Q[de-1]=arguments[de];var Le=Vp[G]||[];Le.forEach(function(We){We.apply(null,Q)})}function lv(){var G=arguments[0],z=Array.prototype.slice.call(arguments,1);return jp[G]?jp[G].apply(null,z):void 0}function pw(G){G.prefix==="fa"&&(G.prefix="fas");var z=G.iconName,Q=G.prefix||sd();if(z)return z=Gd(Q,z)||z,P4(lM.definitions,Q,z)||P4(nh.styles,Q,z)}var lM=new yD,bD=function(){ci.autoReplaceSvg=!1,ci.observeMutations=!1,Qd("noAuto")},wD={i2svg:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return hv?(Qd("beforeI2svg",z),lv("pseudoElements2svg",z),lv("i2svg",z)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=z.autoReplaceSvgRoot;ci.autoReplaceSvg===!1&&(ci.autoReplaceSvg=!0),ci.observeMutations=!0,oD(function(){AD({autoReplaceSvgRoot:Q}),Qd("watch",z)})}},TD={icon:function(z){if(z===null)return null;if(qm(z)==="object"&&z.prefix&&z.iconName)return{prefix:z.prefix,iconName:Gd(z.prefix,z.iconName)||z.iconName};if(Array.isArray(z)&&z.length===2){var Q=z[1].indexOf("fa-")===0?z[1].slice(3):z[1],de=N1(z[0]);return{prefix:de,iconName:Gd(de,Q)||Q}}if(typeof z=="string"&&(z.indexOf("".concat(ci.cssPrefix,"-"))>-1||z.match(HR))){var Le=B1(z.split(" "),{skipLookups:!0});return{prefix:Le.prefix||sd(),iconName:Gd(Le.prefix,Le.iconName)||Le.iconName}}if(typeof z=="string"){var We=sd();return{prefix:We,iconName:Gd(We,z)||z}}}},nc={noAuto:bD,config:ci,dom:wD,parse:TD,library:lM,findIconDefinition:pw,toHtml:Jg},AD=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=z.autoReplaceSvgRoot,de=Q===void 0?fs:Q;(Object.keys(nh.styles).length>0||ci.autoFetchSvg)&&hv&&ci.autoReplaceSvg&&nc.dom.i2svg({node:de})};function U1(G,z){return Object.defineProperty(G,"abstract",{get:z}),Object.defineProperty(G,"html",{get:function(){return G.abstract.map(function(de){return Jg(de)})}}),Object.defineProperty(G,"node",{get:function(){if(hv){var de=fs.createElement("div");return de.innerHTML=G.html,de.children}}}),G}function MD(G){var z=G.children,Q=G.main,de=G.mask,Le=G.attributes,We=G.styles,H=G.transform;if(b2(H)&&Q.found&&!de.found){var U=Q.width,e=Q.height,d={x:U/e/2,y:.5};Le.style=F1(ni(ni({},We),{},{"transform-origin":"".concat(d.x+H.x/16,"em ").concat(d.y+H.y/16,"em")}))}return[{tag:"svg",attributes:Le,children:z}]}function SD(G){var z=G.prefix,Q=G.iconName,de=G.children,Le=G.attributes,We=G.symbol,H=We===!0?"".concat(z,"-").concat(ci.cssPrefix,"-").concat(Q):We;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ni(ni({},Le),{},{id:H}),children:de}]}]}function M2(G){var z=G.icons,Q=z.main,de=z.mask,Le=G.prefix,We=G.iconName,H=G.transform,U=G.symbol,e=G.title,d=G.maskId,C=G.titleId,n=G.extra,L=G.watchable,w=L===void 0?!1:L,v=de.found?de:Q,g=v.width,r=v.height,t=Le==="fak",i=[ci.replacementClass,We?"".concat(ci.cssPrefix,"-").concat(We):""].filter(function(T){return n.classes.indexOf(T)===-1}).filter(function(T){return T!==""||!!T}).concat(n.classes).join(" "),a={children:[],attributes:ni(ni({},n.attributes),{},{"data-prefix":Le,"data-icon":We,class:i,role:n.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(r)})},u=t&&!~n.classes.indexOf("fa-fw")?{width:"".concat(g/r*16*.0625,"em")}:{};w&&(a.attributes[$d]=""),e&&(a.children.push({tag:"title",attributes:{id:a.attributes["aria-labelledby"]||"title-".concat(C||Fg())},children:[e]}),delete a.attributes.title);var f=ni(ni({},a),{},{prefix:Le,iconName:We,main:Q,mask:de,maskId:d,transform:H,symbol:U,styles:ni(ni({},u),n.styles)}),l=de.found&&Q.found?lv("generateAbstractMask",f)||{children:[],attributes:{}}:lv("generateAbstractIcon",f)||{children:[],attributes:{}},m=l.children,h=l.attributes;return f.children=m,f.attributes=h,U?SD(f):MD(f)}function k4(G){var z=G.content,Q=G.width,de=G.height,Le=G.transform,We=G.title,H=G.extra,U=G.watchable,e=U===void 0?!1:U,d=ni(ni(ni({},H.attributes),We?{title:We}:{}),{},{class:H.classes.join(" ")});e&&(d[$d]="");var C=ni({},H.styles);b2(Le)&&(C.transform=rD({transform:Le,startCentered:!0,width:Q,height:de}),C["-webkit-transform"]=C.transform);var n=F1(C);n.length>0&&(d.style=n);var L=[];return L.push({tag:"span",attributes:d,children:[z]}),We&&L.push({tag:"span",attributes:{class:"sr-only"},children:[We]}),L}function ED(G){var z=G.content,Q=G.title,de=G.extra,Le=ni(ni(ni({},de.attributes),Q?{title:Q}:{}),{},{class:de.classes.join(" ")}),We=F1(de.styles);We.length>0&&(Le.style=We);var H=[];return H.push({tag:"span",attributes:Le,children:[z]}),Q&&H.push({tag:"span",attributes:{class:"sr-only"},children:[Q]}),H}var L3=nh.styles;function gw(G){var z=G[0],Q=G[1],de=G.slice(4),Le=d2(de,1),We=Le[0],H=null;return Array.isArray(We)?H={tag:"g",attributes:{class:"".concat(ci.cssPrefix,"-").concat(Hd.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ci.cssPrefix,"-").concat(Hd.SECONDARY),fill:"currentColor",d:We[0]}},{tag:"path",attributes:{class:"".concat(ci.cssPrefix,"-").concat(Hd.PRIMARY),fill:"currentColor",d:We[1]}}]}:H={tag:"path",attributes:{fill:"currentColor",d:We}},{found:!0,width:z,height:Q,icon:H}}var CD={found:!1,width:512,height:512};function LD(G,z){!j6&&!ci.showMissingIcons&&G&&console.error('Icon with name "'.concat(G,'" and prefix "').concat(z,'" is missing.'))}function yw(G,z){var Q=z;return z==="fa"&&ci.styleDefault!==null&&(z=sd()),new Promise(function(de,Le){if(lv("missingIconAbstract"),Q==="fa"){var We=sM(G)||{};G=We.iconName||G,z=We.prefix||z}if(G&&z&&L3[z]&&L3[z][G]){var H=L3[z][G];return de(gw(H))}LD(G,z),de(ni(ni({},CD),{},{icon:ci.showMissingIcons&&G?lv("missingIconAbstract")||{}:{}}))})}var O4=function(){},mw=ci.measurePerformance&&hm&&hm.mark&&hm.measure?hm:{mark:O4,measure:O4},ug='FA "6.5.2"',_D=function(z){return mw.mark("".concat(ug," ").concat(z," begins")),function(){return uM(z)}},uM=function(z){mw.mark("".concat(ug," ").concat(z," ends")),mw.measure("".concat(ug," ").concat(z),"".concat(ug," ").concat(z," begins"),"".concat(ug," ").concat(z," ends"))},S2={begin:_D,end:uM},zm=function(){};function z4(G){var z=G.getAttribute?G.getAttribute($d):null;return typeof z=="string"}function PD(G){var z=G.getAttribute?G.getAttribute(g2):null,Q=G.getAttribute?G.getAttribute(y2):null;return z&&Q}function RD(G){return G&&G.classList&&G.classList.contains&&G.classList.contains(ci.replacementClass)}function DD(){if(ci.autoReplaceSvg===!0)return Fm.replace;var G=Fm[ci.autoReplaceSvg];return G||Fm.replace}function ID(G){return fs.createElementNS("http://www.w3.org/2000/svg",G)}function kD(G){return fs.createElement(G)}function fM(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=z.ceFn,de=Q===void 0?G.tag==="svg"?ID:kD:Q;if(typeof G=="string")return fs.createTextNode(G);var Le=de(G.tag);Object.keys(G.attributes||[]).forEach(function(H){Le.setAttribute(H,G.attributes[H])});var We=G.children||[];return We.forEach(function(H){Le.appendChild(fM(H,{ceFn:de}))}),Le}function OD(G){var z=" ".concat(G.outerHTML," ");return z="".concat(z,"Font Awesome fontawesome.com "),z}var Fm={replace:function(z){var Q=z[0];if(Q.parentNode)if(z[1].forEach(function(Le){Q.parentNode.insertBefore(fM(Le),Q)}),Q.getAttribute($d)===null&&ci.keepOriginalSource){var de=fs.createComment(OD(Q));Q.parentNode.replaceChild(de,Q)}else Q.remove()},nest:function(z){var Q=z[0],de=z[1];if(~x2(Q).indexOf(ci.replacementClass))return Fm.replace(z);var Le=new RegExp("".concat(ci.cssPrefix,"-.*"));if(delete de[0].attributes.id,de[0].attributes.class){var We=de[0].attributes.class.split(" ").reduce(function(U,e){return e===ci.replacementClass||e.match(Le)?U.toSvg.push(e):U.toNode.push(e),U},{toNode:[],toSvg:[]});de[0].attributes.class=We.toSvg.join(" "),We.toNode.length===0?Q.removeAttribute("class"):Q.setAttribute("class",We.toNode.join(" "))}var H=de.map(function(U){return Jg(U)}).join(`
`);Q.setAttribute($d,""),Q.innerHTML=H}};function F4(G){G()}function cM(G,z){var Q=typeof z=="function"?z:zm;if(G.length===0)Q();else{var de=F4;ci.mutateApproach===BR&&(de=od.requestAnimationFrame||F4),de(function(){var Le=DD(),We=S2.begin("mutate");G.map(Le),We(),Q()})}}var E2=!1;function hM(){E2=!0}function xw(){E2=!1}var t1=null;function N4(G){if(C4&&ci.observeMutations){var z=G.treeCallback,Q=z===void 0?zm:z,de=G.nodeCallback,Le=de===void 0?zm:de,We=G.pseudoElementsCallback,H=We===void 0?zm:We,U=G.observeMutationsRoot,e=U===void 0?fs:U;t1=new C4(function(d){if(!E2){var C=sd();g0(d).forEach(function(n){if(n.type==="childList"&&n.addedNodes.length>0&&!z4(n.addedNodes[0])&&(ci.searchPseudoElements&&H(n.target),Q(n.target)),n.type==="attributes"&&n.target.parentNode&&ci.searchPseudoElements&&H(n.target.parentNode),n.type==="attributes"&&z4(n.target)&&~XR.indexOf(n.attributeName))if(n.attributeName==="class"&&PD(n.target)){var L=B1(x2(n.target)),w=L.prefix,v=L.iconName;n.target.setAttribute(g2,w||C),v&&n.target.setAttribute(y2,v)}else RD(n.target)&&Le(n.target)})}}),hv&&t1.observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function zD(){t1&&t1.disconnect()}function FD(G){var z=G.getAttribute("style"),Q=[];return z&&(Q=z.split(";").reduce(function(de,Le){var We=Le.split(":"),H=We[0],U=We.slice(1);return H&&U.length>0&&(de[H]=U.join(":").trim()),de},{})),Q}function ND(G){var z=G.getAttribute("data-prefix"),Q=G.getAttribute("data-icon"),de=G.innerText!==void 0?G.innerText.trim():"",Le=B1(x2(G));return Le.prefix||(Le.prefix=sd()),z&&Q&&(Le.prefix=z,Le.iconName=Q),Le.iconName&&Le.prefix||(Le.prefix&&de.length>0&&(Le.iconName=pD(Le.prefix,G.innerText)||T2(Le.prefix,hw(G.innerText))),!Le.iconName&&ci.autoFetchSvg&&G.firstChild&&G.firstChild.nodeType===Node.TEXT_NODE&&(Le.iconName=G.firstChild.data)),Le}function BD(G){var z=g0(G.attributes).reduce(function(Le,We){return Le.name!=="class"&&Le.name!=="style"&&(Le[We.name]=We.value),Le},{}),Q=G.getAttribute("title"),de=G.getAttribute("data-fa-title-id");return ci.autoA11y&&(Q?z["aria-labelledby"]="".concat(ci.replacementClass,"-title-").concat(de||Fg()):(z["aria-hidden"]="true",z.focusable="false")),z}function UD(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Oh,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function B4(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},Q=ND(G),de=Q.iconName,Le=Q.prefix,We=Q.rest,H=BD(G),U=dw("parseNodeAttributes",{},G),e=z.styleParser?FD(G):[];return ni({iconName:de,title:G.getAttribute("title"),titleId:G.getAttribute("data-fa-title-id"),prefix:Le,transform:Oh,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:We,styles:e,attributes:H}},U)}var VD=nh.styles;function vM(G){var z=ci.autoReplaceSvg==="nest"?B4(G,{styleParser:!1}):B4(G);return~z.extra.classes.indexOf(K6)?lv("generateLayersText",G,z):lv("generateSvgReplacementMutation",G,z)}var ld=new Set;m2.map(function(G){ld.add("fa-".concat(G))});Object.keys(Ig[us]).map(ld.add.bind(ld));Object.keys(Ig[ks]).map(ld.add.bind(ld));ld=jg(ld);function U4(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!hv)return Promise.resolve();var Q=fs.documentElement.classList,de=function(n){return Q.add("".concat(L4,"-").concat(n))},Le=function(n){return Q.remove("".concat(L4,"-").concat(n))},We=ci.autoFetchSvg?ld:m2.map(function(C){return"fa-".concat(C)}).concat(Object.keys(VD));We.includes("fa")||We.push("fa");var H=[".".concat(K6,":not([").concat($d,"])")].concat(We.map(function(C){return".".concat(C,":not([").concat($d,"])")})).join(", ");if(H.length===0)return Promise.resolve();var U=[];try{U=g0(G.querySelectorAll(H))}catch{}if(U.length>0)de("pending"),Le("complete");else return Promise.resolve();var e=S2.begin("onTree"),d=U.reduce(function(C,n){try{var L=vM(n);L&&C.push(L)}catch(w){j6||w.name==="MissingIcon"&&console.error(w)}return C},[]);return new Promise(function(C,n){Promise.all(d).then(function(L){cM(L,function(){de("active"),de("complete"),Le("pending"),typeof z=="function"&&z(),e(),C()})}).catch(function(L){e(),n(L)})})}function HD(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;vM(G).then(function(Q){Q&&cM([Q],z)})}function GD(G){return function(z){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=(z||{}).icon?z:pw(z||{}),Le=Q.mask;return Le&&(Le=(Le||{}).icon?Le:pw(Le||{})),G(de,ni(ni({},Q),{},{mask:Le}))}}var WD=function(z){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=Q.transform,Le=de===void 0?Oh:de,We=Q.symbol,H=We===void 0?!1:We,U=Q.mask,e=U===void 0?null:U,d=Q.maskId,C=d===void 0?null:d,n=Q.title,L=n===void 0?null:n,w=Q.titleId,v=w===void 0?null:w,g=Q.classes,r=g===void 0?[]:g,t=Q.attributes,i=t===void 0?{}:t,a=Q.styles,u=a===void 0?{}:a;if(z){var f=z.prefix,l=z.iconName,m=z.icon;return U1(ni({type:"icon"},z),function(){return Qd("beforeDOMElementCreation",{iconDefinition:z,params:Q}),ci.autoA11y&&(L?i["aria-labelledby"]="".concat(ci.replacementClass,"-title-").concat(v||Fg()):(i["aria-hidden"]="true",i.focusable="false")),M2({icons:{main:gw(m),mask:e?gw(e.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:l,transform:ni(ni({},Oh),Le),symbol:H,title:L,maskId:C,titleId:v,extra:{attributes:i,styles:u,classes:r}})})}},YD={mixout:function(){return{icon:GD(WD)}},hooks:function(){return{mutationObserverCallbacks:function(Q){return Q.treeCallback=U4,Q.nodeCallback=HD,Q}}},provides:function(z){z.i2svg=function(Q){var de=Q.node,Le=de===void 0?fs:de,We=Q.callback,H=We===void 0?function(){}:We;return U4(Le,H)},z.generateSvgReplacementMutation=function(Q,de){var Le=de.iconName,We=de.title,H=de.titleId,U=de.prefix,e=de.transform,d=de.symbol,C=de.mask,n=de.maskId,L=de.extra;return new Promise(function(w,v){Promise.all([yw(Le,U),C.iconName?yw(C.iconName,C.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var r=d2(g,2),t=r[0],i=r[1];w([Q,M2({icons:{main:t,mask:i},prefix:U,iconName:Le,transform:e,symbol:d,maskId:n,title:We,titleId:H,extra:L,watchable:!0})])}).catch(v)})},z.generateAbstractIcon=function(Q){var de=Q.children,Le=Q.attributes,We=Q.main,H=Q.transform,U=Q.styles,e=F1(U);e.length>0&&(Le.style=e);var d;return b2(H)&&(d=lv("generateAbstractTransformGrouping",{main:We,transform:H,containerWidth:We.width,iconWidth:We.width})),de.push(d||We.icon),{children:de,attributes:Le}}}},XD={mixout:function(){return{layer:function(Q){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Le=de.classes,We=Le===void 0?[]:Le;return U1({type:"layer"},function(){Qd("beforeDOMElementCreation",{assembler:Q,params:de});var H=[];return Q(function(U){Array.isArray(U)?U.map(function(e){H=H.concat(e.abstract)}):H=H.concat(U.abstract)}),[{tag:"span",attributes:{class:["".concat(ci.cssPrefix,"-layers")].concat(jg(We)).join(" ")},children:H}]})}}}},ZD={mixout:function(){return{counter:function(Q){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Le=de.title,We=Le===void 0?null:Le,H=de.classes,U=H===void 0?[]:H,e=de.attributes,d=e===void 0?{}:e,C=de.styles,n=C===void 0?{}:C;return U1({type:"counter",content:Q},function(){return Qd("beforeDOMElementCreation",{content:Q,params:de}),ED({content:Q.toString(),title:We,extra:{attributes:d,styles:n,classes:["".concat(ci.cssPrefix,"-layers-counter")].concat(jg(U))}})})}}}},jD={mixout:function(){return{text:function(Q){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Le=de.transform,We=Le===void 0?Oh:Le,H=de.title,U=H===void 0?null:H,e=de.classes,d=e===void 0?[]:e,C=de.attributes,n=C===void 0?{}:C,L=de.styles,w=L===void 0?{}:L;return U1({type:"text",content:Q},function(){return Qd("beforeDOMElementCreation",{content:Q,params:de}),k4({content:Q,transform:ni(ni({},Oh),We),title:U,extra:{attributes:n,styles:w,classes:["".concat(ci.cssPrefix,"-layers-text")].concat(jg(d))}})})}}},provides:function(z){z.generateLayersText=function(Q,de){var Le=de.title,We=de.transform,H=de.extra,U=null,e=null;if(Y6){var d=parseInt(getComputedStyle(Q).fontSize,10),C=Q.getBoundingClientRect();U=C.width/d,e=C.height/d}return ci.autoA11y&&!Le&&(H.attributes["aria-hidden"]="true"),Promise.resolve([Q,k4({content:Q.innerHTML,width:U,height:e,transform:We,title:Le,extra:H,watchable:!0})])}}},KD=new RegExp('"',"ug"),V4=[1105920,1112319];function JD(G){var z=G.replace(KD,""),Q=uD(z,0),de=Q>=V4[0]&&Q<=V4[1],Le=z.length===2?z[0]===z[1]:!1;return{value:hw(Le?z[0]:z),isSecondary:de||Le}}function H4(G,z){var Q="".concat(NR).concat(z.replace(":","-"));return new Promise(function(de,Le){if(G.getAttribute(Q)!==null)return de();var We=g0(G.children),H=We.filter(function(m){return m.getAttribute(cw)===z})[0],U=od.getComputedStyle(G,z),e=U.getPropertyValue("font-family").match(GR),d=U.getPropertyValue("font-weight"),C=U.getPropertyValue("content");if(H&&!e)return G.removeChild(H),de();if(e&&C!=="none"&&C!==""){var n=U.getPropertyValue("content"),L=~["Sharp"].indexOf(e[2])?ks:us,w=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(e[2])?kg[L][e[2].toLowerCase()]:WR[L][d],v=JD(n),g=v.value,r=v.isSecondary,t=e[0].startsWith("FontAwesome"),i=T2(w,g),a=i;if(t){var u=gD(g);u.iconName&&u.prefix&&(i=u.iconName,w=u.prefix)}if(i&&!r&&(!H||H.getAttribute(g2)!==w||H.getAttribute(y2)!==a)){G.setAttribute(Q,a),H&&G.removeChild(H);var f=UD(),l=f.extra;l.attributes[cw]=z,yw(i,w).then(function(m){var h=M2(ni(ni({},f),{},{icons:{main:m,mask:A2()},prefix:w,iconName:a,extra:l,watchable:!0})),T=fs.createElementNS("http://www.w3.org/2000/svg","svg");z==="::before"?G.insertBefore(T,G.firstChild):G.appendChild(T),T.outerHTML=h.map(function(c){return Jg(c)}).join(`
`),G.removeAttribute(Q),de()}).catch(Le)}else de()}else de()})}function $D(G){return Promise.all([H4(G,"::before"),H4(G,"::after")])}function QD(G){return G.parentNode!==document.head&&!~UR.indexOf(G.tagName.toUpperCase())&&!G.getAttribute(cw)&&(!G.parentNode||G.parentNode.tagName!=="svg")}function G4(G){if(hv)return new Promise(function(z,Q){var de=g0(G.querySelectorAll("*")).filter(QD).map($D),Le=S2.begin("searchPseudoElements");hM(),Promise.all(de).then(function(){Le(),xw(),z()}).catch(function(){Le(),xw(),Q()})})}var qD={hooks:function(){return{mutationObserverCallbacks:function(Q){return Q.pseudoElementsCallback=G4,Q}}},provides:function(z){z.pseudoElements2svg=function(Q){var de=Q.node,Le=de===void 0?fs:de;ci.searchPseudoElements&&G4(Le)}}},W4=!1,eI={mixout:function(){return{dom:{unwatch:function(){hM(),W4=!0}}}},hooks:function(){return{bootstrap:function(){N4(dw("mutationObserverCallbacks",{}))},noAuto:function(){zD()},watch:function(Q){var de=Q.observeMutationsRoot;W4?xw():N4(dw("mutationObserverCallbacks",{observeMutationsRoot:de}))}}}},Y4=function(z){var Q={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return z.toLowerCase().split(" ").reduce(function(de,Le){var We=Le.toLowerCase().split("-"),H=We[0],U=We.slice(1).join("-");if(H&&U==="h")return de.flipX=!0,de;if(H&&U==="v")return de.flipY=!0,de;if(U=parseFloat(U),isNaN(U))return de;switch(H){case"grow":de.size=de.size+U;break;case"shrink":de.size=de.size-U;break;case"left":de.x=de.x-U;break;case"right":de.x=de.x+U;break;case"up":de.y=de.y-U;break;case"down":de.y=de.y+U;break;case"rotate":de.rotate=de.rotate+U;break}return de},Q)},tI={mixout:function(){return{parse:{transform:function(Q){return Y4(Q)}}}},hooks:function(){return{parseNodeAttributes:function(Q,de){var Le=de.getAttribute("data-fa-transform");return Le&&(Q.transform=Y4(Le)),Q}}},provides:function(z){z.generateAbstractTransformGrouping=function(Q){var de=Q.main,Le=Q.transform,We=Q.containerWidth,H=Q.iconWidth,U={transform:"translate(".concat(We/2," 256)")},e="translate(".concat(Le.x*32,", ").concat(Le.y*32,") "),d="scale(".concat(Le.size/16*(Le.flipX?-1:1),", ").concat(Le.size/16*(Le.flipY?-1:1),") "),C="rotate(".concat(Le.rotate," 0 0)"),n={transform:"".concat(e," ").concat(d," ").concat(C)},L={transform:"translate(".concat(H/2*-1," -256)")},w={outer:U,inner:n,path:L};return{tag:"g",attributes:ni({},w.outer),children:[{tag:"g",attributes:ni({},w.inner),children:[{tag:de.icon.tag,children:de.icon.children,attributes:ni(ni({},de.icon.attributes),w.path)}]}]}}}},_3={x:0,y:0,width:"100%",height:"100%"};function X4(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return G.attributes&&(G.attributes.fill||z)&&(G.attributes.fill="black"),G}function rI(G){return G.tag==="g"?G.children:[G]}var nI={hooks:function(){return{parseNodeAttributes:function(Q,de){var Le=de.getAttribute("data-fa-mask"),We=Le?B1(Le.split(" ").map(function(H){return H.trim()})):A2();return We.prefix||(We.prefix=sd()),Q.mask=We,Q.maskId=de.getAttribute("data-fa-mask-id"),Q}}},provides:function(z){z.generateAbstractMask=function(Q){var de=Q.children,Le=Q.attributes,We=Q.main,H=Q.mask,U=Q.maskId,e=Q.transform,d=We.width,C=We.icon,n=H.width,L=H.icon,w=tD({transform:e,containerWidth:n,iconWidth:d}),v={tag:"rect",attributes:ni(ni({},_3),{},{fill:"white"})},g=C.children?{children:C.children.map(X4)}:{},r={tag:"g",attributes:ni({},w.inner),children:[X4(ni({tag:C.tag,attributes:ni(ni({},C.attributes),w.path)},g))]},t={tag:"g",attributes:ni({},w.outer),children:[r]},i="mask-".concat(U||Fg()),a="clip-".concat(U||Fg()),u={tag:"mask",attributes:ni(ni({},_3),{},{id:i,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[v,t]},f={tag:"defs",children:[{tag:"clipPath",attributes:{id:a},children:rI(L)},u]};return de.push(f,{tag:"rect",attributes:ni({fill:"currentColor","clip-path":"url(#".concat(a,")"),mask:"url(#".concat(i,")")},_3)}),{children:de,attributes:Le}}}},aI={provides:function(z){var Q=!1;od.matchMedia&&(Q=od.matchMedia("(prefers-reduced-motion: reduce)").matches),z.missingIconAbstract=function(){var de=[],Le={fill:"currentColor"},We={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};de.push({tag:"path",attributes:ni(ni({},Le),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var H=ni(ni({},We),{},{attributeName:"opacity"}),U={tag:"circle",attributes:ni(ni({},Le),{},{cx:"256",cy:"364",r:"28"}),children:[]};return Q||U.children.push({tag:"animate",attributes:ni(ni({},We),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ni(ni({},H),{},{values:"1;0;1;1;0;1;"})}),de.push(U),de.push({tag:"path",attributes:ni(ni({},Le),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:Q?[]:[{tag:"animate",attributes:ni(ni({},H),{},{values:"1;0;0;0;0;1;"})}]}),Q||de.push({tag:"path",attributes:ni(ni({},Le),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ni(ni({},H),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:de}}}},iI={hooks:function(){return{parseNodeAttributes:function(Q,de){var Le=de.getAttribute("data-fa-symbol"),We=Le===null?!1:Le===""?!0:Le;return Q.symbol=We,Q}}}},oI=[aD,YD,XD,ZD,jD,qD,eI,tI,nI,aI,iI];xD(oI,{mixoutsTo:nc});nc.noAuto;nc.config;nc.library;nc.dom;var bw=nc.parse;nc.findIconDefinition;nc.toHtml;var sI=nc.icon;nc.layer;nc.text;nc.counter;function Z4(G,z){var Q=Object.keys(G);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(G);z&&(de=de.filter(function(Le){return Object.getOwnPropertyDescriptor(G,Le).enumerable})),Q.push.apply(Q,de)}return Q}function ev(G){for(var z=1;z<arguments.length;z++){var Q=arguments[z]!=null?arguments[z]:{};z%2?Z4(Object(Q),!0).forEach(function(de){bf(G,de,Q[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(Q)):Z4(Object(Q)).forEach(function(de){Object.defineProperty(G,de,Object.getOwnPropertyDescriptor(Q,de))})}return G}function r1(G){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},r1(G)}function bf(G,z,Q){return z=cI(z),z in G?Object.defineProperty(G,z,{value:Q,enumerable:!0,configurable:!0,writable:!0}):G[z]=Q,G}function lI(G,z){if(G==null)return{};var Q={},de=Object.keys(G),Le,We;for(We=0;We<de.length;We++)Le=de[We],!(z.indexOf(Le)>=0)&&(Q[Le]=G[Le]);return Q}function uI(G,z){if(G==null)return{};var Q=lI(G,z),de,Le;if(Object.getOwnPropertySymbols){var We=Object.getOwnPropertySymbols(G);for(Le=0;Le<We.length;Le++)de=We[Le],!(z.indexOf(de)>=0)&&Object.prototype.propertyIsEnumerable.call(G,de)&&(Q[de]=G[de])}return Q}function fI(G,z){if(typeof G!="object"||G===null)return G;var Q=G[Symbol.toPrimitive];if(Q!==void 0){var de=Q.call(G,z||"default");if(typeof de!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(G)}function cI(G){var z=fI(G,"string");return typeof z=="symbol"?z:String(z)}var hI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dM={exports:{}};(function(G){(function(z){var Q=function(t,i,a){if(!d(i)||n(i)||L(i)||w(i)||e(i))return i;var u,f=0,l=0;if(C(i))for(u=[],l=i.length;f<l;f++)u.push(Q(t,i[f],a));else{u={};for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&(u[t(m,a)]=Q(t,i[m],a))}return u},de=function(t,i){i=i||{};var a=i.separator||"_",u=i.split||/(?=[A-Z])/;return t.split(u).join(a)},Le=function(t){return v(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(i,a){return a?a.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))},We=function(t){var i=Le(t);return i.substr(0,1).toUpperCase()+i.substr(1)},H=function(t,i){return de(t,i).toLowerCase()},U=Object.prototype.toString,e=function(t){return typeof t=="function"},d=function(t){return t===Object(t)},C=function(t){return U.call(t)=="[object Array]"},n=function(t){return U.call(t)=="[object Date]"},L=function(t){return U.call(t)=="[object RegExp]"},w=function(t){return U.call(t)=="[object Boolean]"},v=function(t){return t=t-0,t===t},g=function(t,i){var a=i&&"process"in i?i.process:i;return typeof a!="function"?t:function(u,f){return a(u,t,f)}},r={camelize:Le,decamelize:H,pascalize:We,depascalize:H,camelizeKeys:function(t,i){return Q(g(Le,i),t)},decamelizeKeys:function(t,i){return Q(g(H,i),t,i)},pascalizeKeys:function(t,i){return Q(g(We,i),t)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};G.exports?G.exports=r:z.humps=r})(hI)})(dM);var vI=dM.exports,dI=["class","style"];function pI(G){return G.split(";").map(function(z){return z.trim()}).filter(function(z){return z}).reduce(function(z,Q){var de=Q.indexOf(":"),Le=vI.camelize(Q.slice(0,de)),We=Q.slice(de+1).trim();return z[Le]=We,z},{})}function gI(G){return G.split(/\s+/).reduce(function(z,Q){return z[Q]=!0,z},{})}function pM(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof G=="string")return G;var de=(G.children||[]).map(function(e){return pM(e)}),Le=Object.keys(G.attributes||{}).reduce(function(e,d){var C=G.attributes[d];switch(d){case"class":e.class=gI(C);break;case"style":e.style=pI(C);break;default:e.attrs[d]=C}return e},{attrs:{},class:{},style:{}});Q.class;var We=Q.style,H=We===void 0?{}:We,U=uI(Q,dI);return f2(G.tag,ev(ev(ev({},z),{},{class:Le.class,style:ev(ev({},Le.style),H)},Le.attrs),U),de)}var gM=!1;try{gM=!0}catch{}function yI(){if(!gM&&console&&typeof console.error=="function"){var G;(G=console).error.apply(G,arguments)}}function P3(G,z){return Array.isArray(z)&&z.length>0||!Array.isArray(z)&&z?bf({},G,z):{}}function mI(G){var z,Q=(z={"fa-spin":G.spin,"fa-pulse":G.pulse,"fa-fw":G.fixedWidth,"fa-border":G.border,"fa-li":G.listItem,"fa-inverse":G.inverse,"fa-flip":G.flip===!0,"fa-flip-horizontal":G.flip==="horizontal"||G.flip==="both","fa-flip-vertical":G.flip==="vertical"||G.flip==="both"},bf(z,"fa-".concat(G.size),G.size!==null),bf(z,"fa-rotate-".concat(G.rotation),G.rotation!==null),bf(z,"fa-pull-".concat(G.pull),G.pull!==null),bf(z,"fa-swap-opacity",G.swapOpacity),bf(z,"fa-bounce",G.bounce),bf(z,"fa-shake",G.shake),bf(z,"fa-beat",G.beat),bf(z,"fa-fade",G.fade),bf(z,"fa-beat-fade",G.beatFade),bf(z,"fa-flash",G.flash),bf(z,"fa-spin-pulse",G.spinPulse),bf(z,"fa-spin-reverse",G.spinReverse),z);return Object.keys(Q).map(function(de){return Q[de]?de:null}).filter(function(de){return de})}function j4(G){if(G&&r1(G)==="object"&&G.prefix&&G.iconName&&G.icon)return G;if(bw.icon)return bw.icon(G);if(G===null)return null;if(r1(G)==="object"&&G.prefix&&G.iconName)return G;if(Array.isArray(G)&&G.length===2)return{prefix:G[0],iconName:G[1]};if(typeof G=="string")return{prefix:"fas",iconName:G}}var n1=o2({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(z){return[!0,!1,"horizontal","vertical","both"].indexOf(z)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(z){return["right","left"].indexOf(z)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(z){return[90,180,270].indexOf(Number.parseInt(z,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(z){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(z)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(z,Q){var de=Q.attrs,Le=vl(function(){return j4(z.icon)}),We=vl(function(){return P3("classes",mI(z))}),H=vl(function(){return P3("transform",typeof z.transform=="string"?bw.transform(z.transform):z.transform)}),U=vl(function(){return P3("mask",j4(z.mask))}),e=vl(function(){return sI(Le.value,ev(ev(ev(ev({},We.value),H.value),U.value),{},{symbol:z.symbol,title:z.title,titleId:z.titleId,maskId:z.maskId}))});oh(e,function(C){if(!C)return yI("Could not find one or more icon(s)",Le.value,U.value)},{immediate:!0});var d=vl(function(){return e.value?pM(e.value.abstract[0],{},de):null});return function(){return d.value}}}),xI={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},yM={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},bI={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mM(G){return G&&G.__esModule&&Object.prototype.hasOwnProperty.call(G,"default")?G.default:G}var a1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */a1.exports;(function(G,z){(function(){var Q,de="4.17.21",Le=200,We="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",H="Expected a function",U="Invalid `variable` option passed into `_.template`",e="__lodash_hash_undefined__",d=500,C="__lodash_placeholder__",n=1,L=2,w=4,v=1,g=2,r=1,t=2,i=4,a=8,u=16,f=32,l=64,m=128,h=256,T=512,c=30,o="...",p=800,x=16,A=1,_=2,y=3,E=1/0,M=9007199254740991,s=17976931348623157e292,S=NaN,b=4294967295,I=b-1,D=b>>>1,B=[["ary",m],["bind",r],["bindKey",t],["curry",a],["curryRight",u],["flip",T],["partial",f],["partialRight",l],["rearg",h]],k="[object Arguments]",F="[object Array]",N="[object AsyncFunction]",O="[object Boolean]",V="[object Date]",X="[object DOMException]",ee="[object Error]",ne="[object Function]",q="[object GeneratorFunction]",se="[object Map]",J="[object Number]",Z="[object Null]",te="[object Object]",Y="[object Promise]",ie="[object Proxy]",le="[object RegExp]",j="[object Set]",K="[object String]",ue="[object Symbol]",ae="[object Undefined]",he="[object WeakMap]",xe="[object WeakSet]",Se="[object ArrayBuffer]",Ae="[object DataView]",De="[object Float32Array]",we="[object Float64Array]",Ce="[object Int8Array]",be="[object Int16Array]",Pe="[object Int32Array]",Ve="[object Uint8Array]",Ge="[object Uint8ClampedArray]",Fe="[object Uint16Array]",He="[object Uint32Array]",ft=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nt=/&(?:amp|lt|gt|quot|#39);/g,dt=/[&<>"']/g,pt=RegExp(nt.source),wt=RegExp(dt.source),Tt=/<%-([\s\S]+?)%>/g,Ct=/<%([\s\S]+?)%>/g,at=/<%=([\s\S]+?)%>/g,ze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,je=/^\w*$/,Je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xe=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Xe.source),ke=/^\s+/,Ke=/\s/,Ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pe=/\{\n\/\* \[wrapped with (.+)\] \*/,Te=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/[()=,{}\[\]\/\s]/,st=/\\(\\)?/g,lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jt=/\w*$/,Jt=/^[-+]0x[0-9a-f]+$/i,St=/^0b[01]+$/i,Rt=/^\[object .+?Constructor\]$/,$t=/^0o[0-7]+$/i,Pr=/^(?:0|[1-9]\d*)$/,xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qt=/($^)/,nr=/['\n\r\u2028\u2029\\]/g,wr="\\ud800-\\udfff",dr="\\u0300-\\u036f",bt="\\ufe20-\\ufe2f",ut="\\u20d0-\\u20ff",Mt=dr+bt+ut,_t="\\u2700-\\u27bf",kt="a-z\\xdf-\\xf6\\xf8-\\xff",Xt="\\xac\\xb1\\xd7\\xf7",Wt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ht="\\u2000-\\u206f",tr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gr="A-Z\\xc0-\\xd6\\xd8-\\xde",Qt="\\ufe0e\\ufe0f",mr=Xt+Wt+Ht+tr,Ze="[']",Ye="["+wr+"]",Bt="["+mr+"]",Ft="["+Mt+"]",rr="\\d+",sr="["+_t+"]",fr="["+kt+"]",ir="[^"+wr+mr+rr+_t+kt+gr+"]",Vt="\\ud83c[\\udffb-\\udfff]",yr="(?:"+Ft+"|"+Vt+")",br="[^"+wr+"]",_r="(?:\\ud83c[\\udde6-\\uddff]){2}",pr="[\\ud800-\\udbff][\\udc00-\\udfff]",Yr="["+gr+"]",zr="\\u200d",Nr="(?:"+fr+"|"+ir+")",xn="(?:"+Yr+"|"+ir+")",tn="(?:"+Ze+"(?:d|ll|m|re|s|t|ve))?",On="(?:"+Ze+"(?:D|LL|M|RE|S|T|VE))?",zn=yr+"?",Sr="["+Qt+"]?",Vr="(?:"+zr+"(?:"+[br,_r,pr].join("|")+")"+Sr+zn+")*",qr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Tn=Sr+zn+Vr,bn="(?:"+[sr,_r,pr].join("|")+")"+Tn,Hn="(?:"+[br+Ft+"?",Ft,_r,pr,Ye].join("|")+")",Gn=RegExp(Ze,"g"),ea=RegExp(Ft,"g"),ma=RegExp(Vt+"(?="+Vt+")|"+Hn+Tn,"g"),Da=RegExp([Yr+"?"+fr+"+"+tn+"(?="+[Bt,Yr,"$"].join("|")+")",xn+"+"+On+"(?="+[Bt,Yr+Nr,"$"].join("|")+")",Yr+"?"+Nr+"+"+tn,Yr+"+"+On,Hr,qr,rr,bn].join("|"),"g"),Fa=RegExp("["+zr+wr+Mt+Qt+"]"),La=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mr=-1,Jr={};Jr[De]=Jr[we]=Jr[Ce]=Jr[be]=Jr[Pe]=Jr[Ve]=Jr[Ge]=Jr[Fe]=Jr[He]=!0,Jr[k]=Jr[F]=Jr[Se]=Jr[O]=Jr[Ae]=Jr[V]=Jr[ee]=Jr[ne]=Jr[se]=Jr[J]=Jr[te]=Jr[le]=Jr[j]=Jr[K]=Jr[he]=!1;var Kr={};Kr[k]=Kr[F]=Kr[Se]=Kr[Ae]=Kr[O]=Kr[V]=Kr[De]=Kr[we]=Kr[Ce]=Kr[be]=Kr[Pe]=Kr[se]=Kr[J]=Kr[te]=Kr[le]=Kr[j]=Kr[K]=Kr[ue]=Kr[Ve]=Kr[Ge]=Kr[Fe]=Kr[He]=!0,Kr[ee]=Kr[ne]=Kr[he]=!1;var wn={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},jn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},kn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jn=parseFloat,ua=parseInt,Ca=typeof ag=="object"&&ag&&ag.Object===Object&&ag,ei=typeof self=="object"&&self&&self.Object===Object&&self,Ar=Ca||ei||Function("return this")(),Gr=z&&!z.nodeType&&z,Cr=Gr&&!0&&G&&!G.nodeType&&G,Wr=Cr&&Cr.exports===Gr,Sn=Wr&&Ca.process,Fn=function(){try{var En=Cr&&Cr.require&&Cr.require("util").types;return En||Sn&&Sn.binding&&Sn.binding("util")}catch{}}(),An=Fn&&Fn.isArrayBuffer,dn=Fn&&Fn.isDate,Dr=Fn&&Fn.isMap,nn=Fn&&Fn.isRegExp,$r=Fn&&Fn.isSet,ln=Fn&&Fn.isTypedArray;function Ln(En,na,qn){switch(qn.length){case 0:return En.call(na);case 1:return En.call(na,qn[0]);case 2:return En.call(na,qn[0],qn[1]);case 3:return En.call(na,qn[0],qn[1],qn[2])}return En.apply(na,qn)}function Xn(En,na,qn,Xa){for(var li=-1,Ii=En==null?0:En.length;++li<Ii;){var co=En[li];na(Xa,co,qn(co),En)}return Xa}function Rn(En,na){for(var qn=-1,Xa=En==null?0:En.length;++qn<Xa&&na(En[qn],qn,En)!==!1;);return En}function $n(En,na){for(var qn=En==null?0:En.length;qn--&&na(En[qn],qn,En)!==!1;);return En}function Kn(En,na){for(var qn=-1,Xa=En==null?0:En.length;++qn<Xa;)if(!na(En[qn],qn,En))return!1;return!0}function xa(En,na){for(var qn=-1,Xa=En==null?0:En.length,li=0,Ii=[];++qn<Xa;){var co=En[qn];na(co,qn,En)&&(Ii[li++]=co)}return Ii}function ba(En,na){var qn=En==null?0:En.length;return!!qn&&yl(En,na,0)>-1}function _a(En,na,qn){for(var Xa=-1,li=En==null?0:En.length;++Xa<li;)if(qn(na,En[Xa]))return!0;return!1}function Ra(En,na){for(var qn=-1,Xa=En==null?0:En.length,li=Array(Xa);++qn<Xa;)li[qn]=na(En[qn],qn,En);return li}function Di(En,na){for(var qn=-1,Xa=na.length,li=En.length;++qn<Xa;)En[li+qn]=na[qn];return En}function Pi(En,na,qn,Xa){var li=-1,Ii=En==null?0:En.length;for(Xa&&Ii&&(qn=En[++li]);++li<Ii;)qn=na(qn,En[li],li,En);return qn}function zs(En,na,qn,Xa){var li=En==null?0:En.length;for(Xa&&li&&(qn=En[--li]);li--;)qn=na(qn,En[li],li,En);return qn}function cs(En,na){for(var qn=-1,Xa=En==null?0:En.length;++qn<Xa;)if(na(En[qn],qn,En))return!0;return!1}var es=Kl("length");function Uu(En){return En.split("")}function Dc(En){return En.match(Ue)||[]}function Ic(En,na,qn){var Xa;return qn(En,function(li,Ii,co){if(na(li,Ii,co))return Xa=Ii,!1}),Xa}function Mi(En,na,qn,Xa){for(var li=En.length,Ii=qn+(Xa?1:-1);Xa?Ii--:++Ii<li;)if(na(En[Ii],Ii,En))return Ii;return-1}function yl(En,na,qn){return na===na?Vh(En,na,qn):Mi(En,No,qn)}function kc(En,na,qn,Xa){for(var li=qn-1,Ii=En.length;++li<Ii;)if(Xa(En[li],na))return li;return-1}function No(En){return En!==En}function hs(En,na){var qn=En==null?0:En.length;return qn?Mo(En,na)/qn:S}function Kl(En){return function(na){return na==null?Q:na[En]}}function Vu(En){return function(na){return En==null?Q:En[na]}}function Ao(En,na,qn,Xa,li){return li(En,function(Ii,co,$i){qn=Xa?(Xa=!1,Ii):na(qn,Ii,co,$i)}),qn}function Hu(En,na){var qn=En.length;for(En.sort(na);qn--;)En[qn]=En[qn].value;return En}function Mo(En,na){for(var qn,Xa=-1,li=En.length;++Xa<li;){var Ii=na(En[Xa]);Ii!==Q&&(qn=qn===Q?Ii:qn+Ii)}return qn}function Do(En,na){for(var qn=-1,Xa=Array(En);++qn<En;)Xa[qn]=na(qn);return Xa}function Gu(En,na){return Ra(na,function(qn){return[qn,En[qn]]})}function Wo(En){return En&&En.slice(0,ql(En)+1).replace(ke,"")}function eo(En){return function(na){return En(na)}}function gs(En,na){return Ra(na,function(qn){return En[qn]})}function Wu(En,na){return En.has(na)}function ys(En,na){for(var qn=-1,Xa=En.length;++qn<Xa&&yl(na,En[qn],0)>-1;);return qn}function fh(En,na){for(var qn=En.length;qn--&&yl(na,En[qn],0)>-1;);return qn}function ml(En,na){for(var qn=En.length,Xa=0;qn--;)En[qn]===na&&++Xa;return Xa}var Yo=Vu(wn),Oc=Vu(jn);function Jl(En){return"\\"+kn[En]}function xl(En,na){return En==null?Q:En[na]}function $l(En){return Fa.test(En)}function ch(En){return La.test(En)}function Uh(En){for(var na,qn=[];!(na=En.next()).done;)qn.push(na.value);return qn}function Yu(En){var na=-1,qn=Array(En.size);return En.forEach(function(Xa,li){qn[++na]=[li,Xa]}),qn}function hh(En,na){return function(qn){return En(na(qn))}}function Ql(En,na){for(var qn=-1,Xa=En.length,li=0,Ii=[];++qn<Xa;){var co=En[qn];(co===na||co===C)&&(En[qn]=C,Ii[li++]=qn)}return Ii}function ac(En){var na=-1,qn=Array(En.size);return En.forEach(function(Xa){qn[++na]=Xa}),qn}function zc(En){var na=-1,qn=Array(En.size);return En.forEach(function(Xa){qn[++na]=[Xa,Xa]}),qn}function Vh(En,na,qn){for(var Xa=qn-1,li=En.length;++Xa<li;)if(En[Xa]===na)return Xa;return-1}function Hh(En,na,qn){for(var Xa=qn+1;Xa--;)if(En[Xa]===na)return Xa;return Xa}function vu(En){return $l(En)?Sf(En):es(En)}function Zs(En){return $l(En)?Ef(En):Uu(En)}function ql(En){for(var na=En.length;na--&&Ke.test(En.charAt(na)););return na}var Xu=Vu(Pn);function Sf(En){for(var na=ma.lastIndex=0;ma.test(En);)++na;return na}function Ef(En){return En.match(ma)||[]}function vh(En){return En.match(Da)||[]}var Il=function En(na){na=na==null?Ar:Zu.defaults(Ar.Object(),na,Zu.pick(Ar,Qn));var qn=na.Array,Xa=na.Date,li=na.Error,Ii=na.Function,co=na.Math,$i=na.Object,bl=na.RegExp,wl=na.String,Ms=na.TypeError,kl=qn.prototype,rl=Ii.prototype,no=$i.prototype,ju=na["__core-js_shared__"],ic=rl.toString,ji=no.hasOwnProperty,Ku=0,du=function(){var fe=/[^.]+$/.exec(ju&&ju.keys&&ju.keys.IE_PROTO||"");return fe?"Symbol(src)_1."+fe:""}(),ts=no.toString,oc=ic.call($i),Ju=Ar._,sc=bl("^"+ic.call(ji).replace(Xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lc=Wr?na.Buffer:Q,Ol=na.Symbol,$u=na.Uint8Array,uc=lc?lc.allocUnsafe:Q,Qu=hh($i.getPrototypeOf,$i),pu=$i.create,Cf=no.propertyIsEnumerable,eu=kl.splice,Lf=Ol?Ol.isConcatSpreadable:Q,Hi=Ol?Ol.iterator:Q,tu=Ol?Ol.toStringTag:Q,Ss=function(){try{var fe=$e($i,"defineProperty");return fe({},"",{}),fe}catch{}}(),dh=na.clearTimeout!==Ar.clearTimeout&&na.clearTimeout,Fc=Xa&&Xa.now!==Ar.Date.now&&Xa.now,gu=na.setTimeout!==Ar.setTimeout&&na.setTimeout,nl=co.ceil,yu=co.floor,bo=$i.getOwnPropertySymbols,_f=lc?lc.isBuffer:Q,js=na.isFinite,zl=kl.join,mu=hh($i.keys,$i),lo=co.max,uo=co.min,Fl=Xa.now,al=na.parseInt,Fs=co.random,Pf=kl.reverse,Nc=$e(na,"DataView"),Rf=$e(na,"Map"),Bc=$e(na,"Promise"),qu=$e(na,"Set"),xu=$e(na,"WeakMap"),ef=$e($i,"create"),Nl=xu&&new xu,So={},Ns=Ds(Nc),tf=Ds(Rf),ph=Ds(Bc),Df=Ds(qu),Bl=Ds(xu),fc=Ol?Ol.prototype:Q,rf=fc?fc.valueOf:Q,Uc=fc?fc.toString:Q;function Lr(fe){if(ps(fe)&&!Ri(fe)&&!(fe instanceof yi)){if(fe instanceof Po)return fe;if(ji.call(fe,"__wrapped__"))return _u(fe)}return new Po(fe)}var bu=function(){function fe(){}return function(Me){if(!as(Me))return{};if(pu)return pu(Me);fe.prototype=Me;var rt=new fe;return fe.prototype=Q,rt}}();function Xo(){}function Po(fe,Me){this.__wrapped__=fe,this.__actions__=[],this.__chain__=!!Me,this.__index__=0,this.__values__=Q}Lr.templateSettings={escape:Tt,evaluate:Ct,interpolate:at,variable:"",imports:{_:Lr}},Lr.prototype=Xo.prototype,Lr.prototype.constructor=Lr,Po.prototype=bu(Xo.prototype),Po.prototype.constructor=Po;function yi(fe){this.__wrapped__=fe,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=b,this.__views__=[]}function nf(){var fe=new yi(this.__wrapped__);return fe.__actions__=Rs(this.__actions__),fe.__dir__=this.__dir__,fe.__filtered__=this.__filtered__,fe.__iteratees__=Rs(this.__iteratees__),fe.__takeCount__=this.__takeCount__,fe.__views__=Rs(this.__views__),fe}function cc(){if(this.__filtered__){var fe=new yi(this);fe.__dir__=-1,fe.__filtered__=!0}else fe=this.clone(),fe.__dir__*=-1;return fe}function wu(){var fe=this.__wrapped__.value(),Me=this.__dir__,rt=Ri(fe),zt=Me<0,lr=rt?fe.length:0,Or=vr(0,lr,this.__views__),un=Or.start,gn=Or.end,In=gn-un,ha=zt?gn:un-1,la=this.__iteratees__,Ta=la.length,ja=0,Ga=uo(In,this.__takeCount__);if(!rt||!zt&&lr==In&&Ga==In)return Bo(fe,this.__actions__);var hi=[];e:for(;In--&&ja<Ga;){ha+=Me;for(var qa=-1,vi=fe[ha];++qa<Ta;){var Ji=la[qa],qi=Ji.iteratee,uu=Ji.type,Pl=qi(vi);if(uu==_)vi=Pl;else if(!Pl){if(uu==A)continue e;break e}}hi[ja++]=vi}return hi}yi.prototype=bu(Xo.prototype),yi.prototype.constructor=yi;function Bs(fe){var Me=-1,rt=fe==null?0:fe.length;for(this.clear();++Me<rt;){var zt=fe[Me];this.set(zt[0],zt[1])}}function gh(){this.__data__=ef?ef(null):{},this.size=0}function Ul(fe){var Me=this.has(fe)&&delete this.__data__[fe];return this.size-=Me?1:0,Me}function af(fe){var Me=this.__data__;if(ef){var rt=Me[fe];return rt===e?Q:rt}return ji.call(Me,fe)?Me[fe]:Q}function ru(fe){var Me=this.__data__;return ef?Me[fe]!==Q:ji.call(Me,fe)}function Vl(fe,Me){var rt=this.__data__;return this.size+=this.has(fe)?0:1,rt[fe]=ef&&Me===Q?e:Me,this}Bs.prototype.clear=gh,Bs.prototype.delete=Ul,Bs.prototype.get=af,Bs.prototype.has=ru,Bs.prototype.set=Vl;function Us(fe){var Me=-1,rt=fe==null?0:fe.length;for(this.clear();++Me<rt;){var zt=fe[Me];this.set(zt[0],zt[1])}}function of(){this.__data__=[],this.size=0}function Ki(fe){var Me=this.__data__,rt=il(Me,fe);if(rt<0)return!1;var zt=Me.length-1;return rt==zt?Me.pop():eu.call(Me,rt,1),--this.size,!0}function sf(fe){var Me=this.__data__,rt=il(Me,fe);return rt<0?Q:Me[rt][1]}function hc(fe){return il(this.__data__,fe)>-1}function yh(fe,Me){var rt=this.__data__,zt=il(rt,fe);return zt<0?(++this.size,rt.push([fe,Me])):rt[zt][1]=Me,this}Us.prototype.clear=of,Us.prototype.delete=Ki,Us.prototype.get=sf,Us.prototype.has=hc,Us.prototype.set=yh;function Es(fe){var Me=-1,rt=fe==null?0:fe.length;for(this.clear();++Me<rt;){var zt=fe[Me];this.set(zt[0],zt[1])}}function If(){this.size=0,this.__data__={hash:new Bs,map:new(Rf||Us),string:new Bs}}function vc(fe){var Me=me(this,fe).delete(fe);return this.size-=Me?1:0,Me}function Vc(fe){return me(this,fe).get(fe)}function kf(fe){return me(this,fe).has(fe)}function Of(fe,Me){var rt=me(this,fe),zt=rt.size;return rt.set(fe,Me),this.size+=rt.size==zt?0:1,this}Es.prototype.clear=If,Es.prototype.delete=vc,Es.prototype.get=Vc,Es.prototype.has=kf,Es.prototype.set=Of;function Cs(fe){var Me=-1,rt=fe==null?0:fe.length;for(this.__data__=new Es;++Me<rt;)this.add(fe[Me])}function zf(fe){return this.__data__.set(fe,e),this}function nu(fe){return this.__data__.has(fe)}Cs.prototype.add=Cs.prototype.push=zf,Cs.prototype.has=nu;function to(fe){var Me=this.__data__=new Us(fe);this.size=Me.size}function Tl(){this.__data__=new Us,this.size=0}function Hc(fe){var Me=this.__data__,rt=Me.delete(fe);return this.size=Me.size,rt}function Tu(fe){return this.__data__.get(fe)}function dc(fe){return this.__data__.has(fe)}function Ff(fe,Me){var rt=this.__data__;if(rt instanceof Us){var zt=rt.__data__;if(!Rf||zt.length<Le-1)return zt.push([fe,Me]),this.size=++rt.size,this;rt=this.__data__=new Es(zt)}return rt.set(fe,Me),this.size=rt.size,this}to.prototype.clear=Tl,to.prototype.delete=Hc,to.prototype.get=Tu,to.prototype.has=dc,to.prototype.set=Ff;function mh(fe,Me){var rt=Ri(fe),zt=!rt&&cl(fe),lr=!rt&&!zt&&yf(fe),Or=!rt&&!zt&&!lr&&Mv(fe),un=rt||zt||lr||Or,gn=un?Do(fe.length,wl):[],In=gn.length;for(var ha in fe)(Me||ji.call(fe,ha))&&!(un&&(ha=="length"||lr&&(ha=="offset"||ha=="parent")||Or&&(ha=="buffer"||ha=="byteLength"||ha=="byteOffset")||Un(ha,In)))&&gn.push(ha);return gn}function Gc(fe){var Me=fe.length;return Me?fe[pn(0,Me-1)]:Q}function vs(fe,Me){return Co(Rs(fe),Ls(Me,0,fe.length))}function Nf(fe){return Co(Rs(fe))}function au(fe,Me,rt){(rt!==Q&&!Zf(fe[Me],rt)||rt===Q&&!(Me in fe))&&Ks(fe,Me,rt)}function lf(fe,Me,rt){var zt=fe[Me];(!(ji.call(fe,Me)&&Zf(zt,rt))||rt===Q&&!(Me in fe))&&Ks(fe,Me,rt)}function il(fe,Me){for(var rt=fe.length;rt--;)if(Zf(fe[rt][0],Me))return rt;return-1}function Gh(fe,Me,rt,zt){return Js(fe,function(lr,Or,un){Me(zt,lr,rt(lr),un)}),zt}function ms(fe,Me){return fe&&Mu(Me,is(Me),fe)}function Bf(fe,Me){return fe&&Mu(Me,Hl(Me),fe)}function Ks(fe,Me,rt){Me=="__proto__"&&Ss?Ss(fe,Me,{configurable:!0,enumerable:!0,value:rt,writable:!0}):fe[Me]=rt}function ol(fe,Me){for(var rt=-1,zt=Me.length,lr=qn(zt),Or=fe==null;++rt<zt;)lr[rt]=Or?Q:B0(fe,Me[rt]);return lr}function Ls(fe,Me,rt){return fe===fe&&(rt!==Q&&(fe=fe<=rt?fe:rt),Me!==Q&&(fe=fe>=Me?fe:Me)),fe}function _s(fe,Me,rt,zt,lr,Or){var un,gn=Me&n,In=Me&L,ha=Me&w;if(rt&&(un=lr?rt(fe,zt,lr,Or):rt(fe)),un!==Q)return un;if(!as(fe))return fe;var la=Ri(fe);if(la){if(un=rn(fe),!gn)return Rs(fe,un)}else{var Ta=er(fe),ja=Ta==ne||Ta==q;if(yf(fe))return Ko(fe,gn);if(Ta==te||Ta==k||ja&&!lr){if(un=In||ja?{}:en(fe),!gn)return In?vd(fe,Bf(un,fe)):Yc(fe,ms(un,fe))}else{if(!Kr[Ta])return lr?fe:{};un=Qr(fe,Ta,gn)}}Or||(Or=new to);var Ga=Or.get(fe);if(Ga)return Ga;Or.set(fe,un),N0(fe)?fe.forEach(function(vi){un.add(_s(vi,Me,rt,vi,fe,Or))}):by(fe)&&fe.forEach(function(vi,Ji){un.set(Ji,_s(vi,Me,rt,Ji,fe,Or))});var hi=ha?In?Vo:gv:In?Hl:is,qa=la?Q:hi(fe);return Rn(qa||fe,function(vi,Ji){qa&&(Ji=vi,vi=fe[Ji]),lf(un,Ji,_s(vi,Me,rt,Ji,fe,Or))}),un}function Uf(fe){var Me=is(fe);return function(rt){return uf(rt,fe,Me)}}function uf(fe,Me,rt){var zt=rt.length;if(fe==null)return!zt;for(fe=$i(fe);zt--;){var lr=rt[zt],Or=Me[lr],un=fe[lr];if(un===Q&&!(lr in fe)||!Or(un))return!1}return!0}function Vf(fe,Me,rt){if(typeof fe!="function")throw new Ms(H);return xi(function(){fe.apply(Q,rt)},Me)}function ff(fe,Me,rt,zt){var lr=-1,Or=ba,un=!0,gn=fe.length,In=[],ha=Me.length;if(!gn)return In;rt&&(Me=Ra(Me,eo(rt))),zt?(Or=_a,un=!1):Me.length>=Le&&(Or=Wu,un=!1,Me=new Cs(Me));e:for(;++lr<gn;){var la=fe[lr],Ta=rt==null?la:rt(la);if(la=zt||la!==0?la:0,un&&Ta===Ta){for(var ja=ha;ja--;)if(Me[ja]===Ta)continue e;In.push(la)}else Or(Me,Ta,zt)||In.push(la)}return In}var Js=Xc(At),pc=Xc(Nt,!0);function Au(fe,Me){var rt=!0;return Js(fe,function(zt,lr,Or){return rt=!!Me(zt,lr,Or),rt}),rt}function cf(fe,Me,rt){for(var zt=-1,lr=fe.length;++zt<lr;){var Or=fe[zt],un=Me(Or);if(un!=null&&(gn===Q?un===un&&!Du(un):rt(un,gn)))var gn=un,In=Or}return In}function Hf(fe,Me,rt,zt){var lr=fe.length;for(rt=Ni(rt),rt<0&&(rt=-rt>lr?0:lr+rt),zt=zt===Q||zt>lr?lr:Ni(zt),zt<0&&(zt+=lr),zt=rt>zt?0:bs(zt);rt<zt;)fe[rt++]=Me;return fe}function Wc(fe,Me){var rt=[];return Js(fe,function(zt,lr,Or){Me(zt,lr,Or)&&rt.push(zt)}),rt}function Qe(fe,Me,rt,zt,lr){var Or=-1,un=fe.length;for(rt||(rt=mn),lr||(lr=[]);++Or<un;){var gn=fe[Or];Me>0&&rt(gn)?Me>1?Qe(gn,Me-1,rt,zt,lr):Di(lr,gn):zt||(lr[lr.length]=gn)}return lr}var ot=$s(),mt=$s(!0);function At(fe,Me){return fe&&ot(fe,Me,is)}function Nt(fe,Me){return fe&&mt(fe,Me,is)}function Ot(fe,Me){return xa(Me,function(rt){return $c(fe[rt])})}function Ut(fe,Me){Me=ya(Me,fe);for(var rt=0,zt=Me.length;fe!=null&&rt<zt;)fe=fe[ns(Me[rt++])];return rt&&rt==zt?fe:Q}function xr(fe,Me,rt){var zt=Me(fe);return Ri(fe)?zt:Di(zt,rt(fe))}function Tr(fe){return fe==null?fe===Q?ae:Z:tu&&tu in $i(fe)?vt(fe):Ua(fe)}function cr(fe,Me){return fe>Me}function Rr(fe,Me){return fe!=null&&ji.call(fe,Me)}function Br(fe,Me){return fe!=null&&Me in $i(fe)}function Zr(fe,Me,rt){return fe>=uo(Me,rt)&&fe<lo(Me,rt)}function cn(fe,Me,rt){for(var zt=rt?_a:ba,lr=fe[0].length,Or=fe.length,un=Or,gn=qn(Or),In=1/0,ha=[];un--;){var la=fe[un];un&&Me&&(la=Ra(la,eo(Me))),In=uo(la.length,In),gn[un]=!rt&&(Me||lr>=120&&la.length>=120)?new Cs(un&&la):Q}la=fe[0];var Ta=-1,ja=gn[0];e:for(;++Ta<lr&&ha.length<In;){var Ga=la[Ta],hi=Me?Me(Ga):Ga;if(Ga=rt||Ga!==0?Ga:0,!(ja?Wu(ja,hi):zt(ha,hi,rt))){for(un=Or;--un;){var qa=gn[un];if(!(qa?Wu(qa,hi):zt(fe[un],hi,rt)))continue e}ja&&ja.push(hi),ha.push(Ga)}}return ha}function _n(fe,Me,rt,zt){return At(fe,function(lr,Or,un){Me(zt,rt(lr),Or,un)}),zt}function Nn(fe,Me,rt){Me=ya(Me,fe),fe=si(fe,Me);var zt=fe==null?fe:fe[ns(fl(Me))];return zt==null?Q:Ln(zt,fe,rt)}function Wn(fe){return ps(fe)&&Tr(fe)==k}function oa(fe){return ps(fe)&&Tr(fe)==Se}function Ja(fe){return ps(fe)&&Tr(fe)==V}function Za(fe,Me,rt,zt,lr){return fe===Me?!0:fe==null||Me==null||!ps(fe)&&!ps(Me)?fe!==fe&&Me!==Me:Qa(fe,Me,rt,zt,Za,lr)}function Qa(fe,Me,rt,zt,lr,Or){var un=Ri(fe),gn=Ri(Me),In=un?F:er(fe),ha=gn?F:er(Me);In=In==k?te:In,ha=ha==k?te:ha;var la=In==te,Ta=ha==te,ja=In==ha;if(ja&&yf(fe)){if(!yf(Me))return!1;un=!0,la=!1}if(ja&&!la)return Or||(Or=new to),un||Mv(fe)?ou(fe,Me,rt,zt,lr,Or):ip(fe,Me,In,rt,zt,lr,Or);if(!(rt&v)){var Ga=la&&ji.call(fe,"__wrapped__"),hi=Ta&&ji.call(Me,"__wrapped__");if(Ga||hi){var qa=Ga?fe.value():fe,vi=hi?Me.value():Me;return Or||(Or=new to),lr(qa,vi,rt,zt,Or)}}return ja?(Or||(Or=new to),op(fe,Me,rt,zt,lr,Or)):!1}function ai(fe){return ps(fe)&&er(fe)==se}function bi(fe,Me,rt,zt){var lr=rt.length,Or=lr,un=!zt;if(fe==null)return!Or;for(fe=$i(fe);lr--;){var gn=rt[lr];if(un&&gn[2]?gn[1]!==fe[gn[0]]:!(gn[0]in fe))return!1}for(;++lr<Or;){gn=rt[lr];var In=gn[0],ha=fe[In],la=gn[1];if(un&&gn[2]){if(ha===Q&&!(In in fe))return!1}else{var Ta=new to;if(zt)var ja=zt(ha,la,In,fe,Me,Ta);if(!(ja===Q?Za(la,ha,v|g,zt,Ta):ja))return!1}}return!0}function Gi(fe){if(!as(fe)||sa(fe))return!1;var Me=$c(fe)?sc:Rt;return Me.test(Ds(fe))}function Ro(fe){return ps(fe)&&Tr(fe)==le}function ce(fe){return ps(fe)&&er(fe)==j}function _e(fe){return ps(fe)&&Md(fe.length)&&!!Jr[Tr(fe)]}function Be(fe){return typeof fe=="function"?fe:fe==null?Vs:typeof fe=="object"?Ri(fe)?Yt(fe[0],fe[1]):Et(fe):Dv(fe)}function tt(fe){if(!wa(fe))return mu(fe);var Me=[];for(var rt in $i(fe))ji.call(fe,rt)&&rt!="constructor"&&Me.push(rt);return Me}function it(fe){if(!as(fe))return gi(fe);var Me=wa(fe),rt=[];for(var zt in fe)zt=="constructor"&&(Me||!ji.call(fe,zt))||rt.push(zt);return rt}function ht(fe,Me){return fe<Me}function Dt(fe,Me){var rt=-1,zt=su(fe)?qn(fe.length):[];return Js(fe,function(lr,Or,un){zt[++rt]=Me(lr,Or,un)}),zt}function Et(fe){var Me=Ne(fe);return Me.length==1&&Me[0][2]?Pa(Me[0][0],Me[0][1]):function(rt){return rt===fe||bi(rt,fe,Me)}}function Yt(fe,Me){return ra(fe)&&Oa(Me)?Pa(ns(fe),Me):function(rt){var zt=B0(rt,fe);return zt===Q&&zt===Me?U0(rt,fe):Za(Me,zt,v|g)}}function Zt(fe,Me,rt,zt,lr){fe!==Me&&ot(Me,function(Or,un){if(lr||(lr=new to),as(Or))or(fe,Me,un,rt,Zt,zt,lr);else{var gn=zt?zt(Li(fe,un),Or,un+"",fe,Me,lr):Q;gn===Q&&(gn=Or),au(fe,un,gn)}},Hl)}function or(fe,Me,rt,zt,lr,Or,un){var gn=Li(fe,rt),In=Li(Me,rt),ha=un.get(In);if(ha){au(fe,rt,ha);return}var la=Or?Or(gn,In,rt+"",fe,Me,un):Q,Ta=la===Q;if(Ta){var ja=Ri(In),Ga=!ja&&yf(In),hi=!ja&&!Ga&&Mv(In);la=In,ja||Ga||hi?Ri(gn)?la=gn:xs(gn)?la=Rs(gn):Ga?(Ta=!1,la=Ko(In,!0)):hi?(Ta=!1,la=Ml(In,!0)):la=[]:Sd(In)||cl(In)?(la=gn,cl(gn)?la=Sy(gn):(!as(gn)||$c(gn))&&(la=en(In))):Ta=!1}Ta&&(un.set(In,la),lr(la,In,zt,Or,un),un.delete(In)),au(fe,rt,la)}function Ir(fe,Me){var rt=fe.length;if(rt)return Me+=Me<0?rt:0,Un(Me,rt)?fe[Me]:Q}function kr(fe,Me,rt){Me.length?Me=Ra(Me,function(Or){return Ri(Or)?function(un){return Ut(un,Or.length===1?Or[0]:Or)}:Or}):Me=[Vs];var zt=-1;Me=Ra(Me,eo(re()));var lr=Dt(fe,function(Or,un,gn){var In=Ra(Me,function(ha){return ha(Or)});return{criteria:In,index:++zt,value:Or}});return Hu(lr,function(Or,un){return hf(Or,un,rt)})}function sn(fe,Me){return vn(fe,Me,function(rt,zt){return U0(fe,zt)})}function vn(fe,Me,rt){for(var zt=-1,lr=Me.length,Or={};++zt<lr;){var un=Me[zt],gn=Ut(fe,un);rt(gn,un)&&fa(Or,ya(un,fe),gn)}return Or}function Fr(fe){return function(Me){return Ut(Me,fe)}}function Xr(fe,Me,rt,zt){var lr=zt?kc:yl,Or=-1,un=Me.length,gn=fe;for(fe===Me&&(Me=Rs(Me)),rt&&(gn=Ra(fe,eo(rt)));++Or<un;)for(var In=0,ha=Me[Or],la=rt?rt(ha):ha;(In=lr(gn,la,In,zt))>-1;)gn!==fe&&eu.call(gn,In,1),eu.call(fe,In,1);return fe}function an(fe,Me){for(var rt=fe?Me.length:0,zt=rt-1;rt--;){var lr=Me[rt];if(rt==zt||lr!==Or){var Or=lr;Un(lr)?eu.call(fe,lr,1):wi(fe,lr)}}return fe}function pn(fe,Me){return fe+yu(Fs()*(Me-fe+1))}function Mn(fe,Me,rt,zt){for(var lr=-1,Or=lo(nl((Me-fe)/(rt||1)),0),un=qn(Or);Or--;)un[zt?Or:++lr]=fe,fe+=rt;return un}function fn(fe,Me){var rt="";if(!fe||Me<1||Me>M)return rt;do Me%2&&(rt+=fe),Me=yu(Me/2),Me&&(fe+=fe);while(Me);return rt}function Dn(fe,Me){return Qi(mi(fe,Me,Vs),fe+"")}function va(fe){return Gc(jh(fe))}function Ma(fe,Me){var rt=jh(fe);return Co(rt,Ls(Me,0,rt.length))}function fa(fe,Me,rt,zt){if(!as(fe))return fe;Me=ya(Me,fe);for(var lr=-1,Or=Me.length,un=Or-1,gn=fe;gn!=null&&++lr<Or;){var In=ns(Me[lr]),ha=rt;if(In==="__proto__"||In==="constructor"||In==="prototype")return fe;if(lr!=un){var la=gn[In];ha=zt?zt(la,In,gn):Q,ha===Q&&(ha=as(la)?la:Un(Me[lr+1])?[]:{})}lf(gn,In,ha),gn=gn[In]}return fe}var Aa=Nl?function(fe,Me){return Nl.set(fe,Me),fe}:Vs,Sa=Ss?function(fe,Me){return Ss(fe,"toString",{configurable:!0,enumerable:!1,value:_v(Me),writable:!0})}:Vs;function ii(fe){return Co(jh(fe))}function Ia(fe,Me,rt){var zt=-1,lr=fe.length;Me<0&&(Me=-Me>lr?0:lr+Me),rt=rt>lr?lr:rt,rt<0&&(rt+=lr),lr=Me>rt?0:rt-Me>>>0,Me>>>=0;for(var Or=qn(lr);++zt<lr;)Or[zt]=fe[zt+Me];return Or}function ti(fe,Me){var rt;return Js(fe,function(zt,lr,Or){return rt=Me(zt,lr,Or),!rt}),!!rt}function Si(fe,Me,rt){var zt=0,lr=fe==null?zt:fe.length;if(typeof Me=="number"&&Me===Me&&lr<=D){for(;zt<lr;){var Or=zt+lr>>>1,un=fe[Or];un!==null&&!Du(un)&&(rt?un<=Me:un<Me)?zt=Or+1:lr=Or}return lr}return Eo(fe,Me,Vs,rt)}function Eo(fe,Me,rt,zt){var lr=0,Or=fe==null?0:fe.length;if(Or===0)return 0;Me=rt(Me);for(var un=Me!==Me,gn=Me===null,In=Du(Me),ha=Me===Q;lr<Or;){var la=yu((lr+Or)/2),Ta=rt(fe[la]),ja=Ta!==Q,Ga=Ta===null,hi=Ta===Ta,qa=Du(Ta);if(un)var vi=zt||hi;else ha?vi=hi&&(zt||ja):gn?vi=hi&&ja&&(zt||!Ga):In?vi=hi&&ja&&!Ga&&(zt||!qa):Ga||qa?vi=!1:vi=zt?Ta<=Me:Ta<Me;vi?lr=la+1:Or=la}return uo(Or,I)}function Oi(fe,Me){for(var rt=-1,zt=fe.length,lr=0,Or=[];++rt<zt;){var un=fe[rt],gn=Me?Me(un):un;if(!rt||!Zf(gn,In)){var In=gn;Or[lr++]=un===0?0:un}}return Or}function ca(fe){return typeof fe=="number"?fe:Du(fe)?S:+fe}function $a(fe){if(typeof fe=="string")return fe;if(Ri(fe))return Ra(fe,$a)+"";if(Du(fe))return Uc?Uc.call(fe):"";var Me=fe+"";return Me=="0"&&1/fe==-E?"-0":Me}function za(fe,Me,rt){var zt=-1,lr=ba,Or=fe.length,un=!0,gn=[],In=gn;if(rt)un=!1,lr=_a;else if(Or>=Le){var ha=Me?null:dd(fe);if(ha)return ac(ha);un=!1,lr=Wu,In=new Cs}else In=Me?[]:gn;e:for(;++zt<Or;){var la=fe[zt],Ta=Me?Me(la):la;if(la=rt||la!==0?la:0,un&&Ta===Ta){for(var ja=In.length;ja--;)if(In[ja]===Ta)continue e;Me&&In.push(Ta),gn.push(la)}else lr(In,Ta,rt)||(In!==gn&&In.push(Ta),gn.push(la))}return gn}function wi(fe,Me){return Me=ya(Me,fe),fe=si(fe,Me),fe==null||delete fe[ns(fl(Me))]}function ao(fe,Me,rt,zt){return fa(fe,Me,rt(Ut(fe,Me)),zt)}function Ei(fe,Me,rt,zt){for(var lr=fe.length,Or=zt?lr:-1;(zt?Or--:++Or<lr)&&Me(fe[Or],Or,fe););return rt?Ia(fe,zt?0:Or,zt?Or+1:lr):Ia(fe,zt?Or+1:0,zt?lr:Or)}function Bo(fe,Me){var rt=fe;return rt instanceof yi&&(rt=rt.value()),Pi(Me,function(zt,lr){return lr.func.apply(lr.thisArg,Di([zt],lr.args))},rt)}function Oo(fe,Me,rt){var zt=fe.length;if(zt<2)return zt?za(fe[0]):[];for(var lr=-1,Or=qn(zt);++lr<zt;)for(var un=fe[lr],gn=-1;++gn<zt;)gn!=lr&&(Or[lr]=ff(Or[lr]||un,fe[gn],Me,rt));return za(Qe(Or,1),Me,rt)}function Zo(fe,Me,rt){for(var zt=-1,lr=fe.length,Or=Me.length,un={};++zt<lr;){var gn=zt<Or?Me[zt]:Q;rt(un,fe[zt],gn)}return un}function ro(fe){return xs(fe)?fe:[]}function jo(fe){return typeof fe=="function"?fe:Vs}function ya(fe,Me){return Ri(fe)?fe:ra(fe,Me)?[fe]:rs(so(fe))}var Ya=Dn;function Io(fe,Me,rt){var zt=fe.length;return rt=rt===Q?zt:rt,!Me&&rt>=zt?fe:Ia(fe,Me,rt)}var Ps=dh||function(fe){return Ar.clearTimeout(fe)};function Ko(fe,Me){if(Me)return fe.slice();var rt=fe.length,zt=uc?uc(rt):new fe.constructor(rt);return fe.copy(zt),zt}function zi(fe){var Me=new fe.constructor(fe.byteLength);return new $u(Me).set(new $u(fe)),Me}function Uo(fe,Me){var rt=Me?zi(fe.buffer):fe.buffer;return new fe.constructor(rt,fe.byteOffset,fe.byteLength)}function zo(fe){var Me=new fe.constructor(fe.source,jt.exec(fe));return Me.lastIndex=fe.lastIndex,Me}function Al(fe){return rf?$i(rf.call(fe)):{}}function Ml(fe,Me){var rt=Me?zi(fe.buffer):fe.buffer;return new fe.constructor(rt,fe.byteOffset,fe.length)}function ho(fe,Me){if(fe!==Me){var rt=fe!==Q,zt=fe===null,lr=fe===fe,Or=Du(fe),un=Me!==Q,gn=Me===null,In=Me===Me,ha=Du(Me);if(!gn&&!ha&&!Or&&fe>Me||Or&&un&&In&&!gn&&!ha||zt&&un&&In||!rt&&In||!lr)return 1;if(!zt&&!Or&&!ha&&fe<Me||ha&&rt&&lr&&!zt&&!Or||gn&&rt&&lr||!un&&lr||!In)return-1}return 0}function hf(fe,Me,rt){for(var zt=-1,lr=fe.criteria,Or=Me.criteria,un=lr.length,gn=rt.length;++zt<un;){var In=ho(lr[zt],Or[zt]);if(In){if(zt>=gn)return In;var ha=rt[zt];return In*(ha=="desc"?-1:1)}}return fe.index-Me.index}function Ti(fe,Me,rt,zt){for(var lr=-1,Or=fe.length,un=rt.length,gn=-1,In=Me.length,ha=lo(Or-un,0),la=qn(In+ha),Ta=!zt;++gn<In;)la[gn]=Me[gn];for(;++lr<un;)(Ta||lr<Or)&&(la[rt[lr]]=fe[lr]);for(;ha--;)la[gn++]=fe[lr++];return la}function vo(fe,Me,rt,zt){for(var lr=-1,Or=fe.length,un=-1,gn=rt.length,In=-1,ha=Me.length,la=lo(Or-gn,0),Ta=qn(la+ha),ja=!zt;++lr<la;)Ta[lr]=fe[lr];for(var Ga=lr;++In<ha;)Ta[Ga+In]=Me[In];for(;++un<gn;)(ja||lr<Or)&&(Ta[Ga+rt[un]]=fe[lr++]);return Ta}function Rs(fe,Me){var rt=-1,zt=fe.length;for(Me||(Me=qn(zt));++rt<zt;)Me[rt]=fe[rt];return Me}function Mu(fe,Me,rt,zt){var lr=!rt;rt||(rt={});for(var Or=-1,un=Me.length;++Or<un;){var gn=Me[Or],In=zt?zt(rt[gn],fe[gn],gn,rt,fe):Q;In===Q&&(In=fe[gn]),lr?Ks(rt,gn,In):lf(rt,gn,In)}return rt}function Yc(fe,Me){return Mu(fe,Pt(fe),Me)}function vd(fe,Me){return Mu(fe,Gt(fe),Me)}function Su(fe,Me){return function(rt,zt){var lr=Ri(rt)?Xn:Gh,Or=Me?Me():{};return lr(rt,fe,re(zt,2),Or)}}function Eu(fe){return Dn(function(Me,rt){var zt=-1,lr=rt.length,Or=lr>1?rt[lr-1]:Q,un=lr>2?rt[2]:Q;for(Or=fe.length>3&&typeof Or=="function"?(lr--,Or):Q,un&&Yn(rt[0],rt[1],un)&&(Or=lr<3?Q:Or,lr=1),Me=$i(Me);++zt<lr;){var gn=rt[zt];gn&&fe(Me,gn,zt,Or)}return Me})}function Xc(fe,Me){return function(rt,zt){if(rt==null)return rt;if(!su(rt))return fe(rt,zt);for(var lr=rt.length,Or=Me?lr:-1,un=$i(rt);(Me?Or--:++Or<lr)&&zt(un[Or],Or,un)!==!1;);return rt}}function $s(fe){return function(Me,rt,zt){for(var lr=-1,Or=$i(Me),un=zt(Me),gn=un.length;gn--;){var In=un[fe?gn:++lr];if(rt(Or[In],In,Or)===!1)break}return Me}}function gc(fe,Me,rt){var zt=Me&r,lr=Gf(fe);function Or(){var un=this&&this!==Ar&&this instanceof Or?lr:fe;return un.apply(zt?rt:this,arguments)}return Or}function vv(fe){return function(Me){Me=so(Me);var rt=$l(Me)?Zs(Me):Q,zt=rt?rt[0]:Me.charAt(0),lr=rt?Io(rt,1).join(""):Me.slice(1);return zt[fe]()+lr}}function yc(fe){return function(Me){return Pi(W0(_l(Me).replace(Gn,"")),fe,"")}}function Gf(fe){return function(){var Me=arguments;switch(Me.length){case 0:return new fe;case 1:return new fe(Me[0]);case 2:return new fe(Me[0],Me[1]);case 3:return new fe(Me[0],Me[1],Me[2]);case 4:return new fe(Me[0],Me[1],Me[2],Me[3]);case 5:return new fe(Me[0],Me[1],Me[2],Me[3],Me[4]);case 6:return new fe(Me[0],Me[1],Me[2],Me[3],Me[4],Me[5]);case 7:return new fe(Me[0],Me[1],Me[2],Me[3],Me[4],Me[5],Me[6])}var rt=bu(fe.prototype),zt=fe.apply(rt,Me);return as(zt)?zt:rt}}function dv(fe,Me,rt){var zt=Gf(fe);function lr(){for(var Or=arguments.length,un=qn(Or),gn=Or,In=ge(lr);gn--;)un[gn]=arguments[gn];var ha=Or<3&&un[0]!==In&&un[Or-1]!==In?[]:Ql(un,In);if(Or-=ha.length,Or<rt)return bc(fe,Me,iu,lr.placeholder,Q,un,ha,Q,Q,rt-Or);var la=this&&this!==Ar&&this instanceof lr?zt:fe;return Ln(la,this,un)}return lr}function vf(fe){return function(Me,rt,zt){var lr=$i(Me);if(!su(Me)){var Or=re(rt,3);Me=is(Me),rt=function(gn){return Or(lr[gn],gn,lr)}}var un=fe(Me,rt,zt);return un>-1?lr[Or?Me[un]:un]:Q}}function sl(fe){return Yf(function(Me){var rt=Me.length,zt=rt,lr=Po.prototype.thru;for(fe&&Me.reverse();zt--;){var Or=Me[zt];if(typeof Or!="function")throw new Ms(H);if(lr&&!un&&$(Or)=="wrapper")var un=new Po([],!0)}for(zt=un?zt:rt;++zt<rt;){Or=Me[zt];var gn=$(Or),In=gn=="wrapper"?ve(Or):Q;In&&ta(In[0])&&In[1]==(m|a|f|h)&&!In[4].length&&In[9]==1?un=un[$(In[0])].apply(un,In[3]):un=Or.length==1&&ta(Or)?un[gn]():un.thru(Or)}return function(){var ha=arguments,la=ha[0];if(un&&ha.length==1&&Ri(la))return un.plant(la).value();for(var Ta=0,ja=rt?Me[Ta].apply(this,ha):la;++Ta<rt;)ja=Me[Ta].call(this,ja);return ja}})}function iu(fe,Me,rt,zt,lr,Or,un,gn,In,ha){var la=Me&m,Ta=Me&r,ja=Me&t,Ga=Me&(a|u),hi=Me&T,qa=ja?Q:Gf(fe);function vi(){for(var Ji=arguments.length,qi=qn(Ji),uu=Ji;uu--;)qi[uu]=arguments[uu];if(Ga)var Pl=ge(vi),ku=ml(qi,Pl);if(zt&&(qi=Ti(qi,zt,lr,Ga)),Or&&(qi=vo(qi,Or,un,Ga)),Ji-=ku,Ga&&Ji<ha){var os=Ql(qi,Pl);return bc(fe,Me,iu,vi.placeholder,rt,qi,os,gn,In,ha-Ji)}var Jf=Ta?rt:this,qc=ja?Jf[fe]:fe;return Ji=qi.length,gn?qi=Fi(qi,gn):hi&&Ji>1&&qi.reverse(),la&&In<Ji&&(qi.length=In),this&&this!==Ar&&this instanceof vi&&(qc=qa||Gf(qc)),qc.apply(Jf,qi)}return vi}function xh(fe,Me){return function(rt,zt){return _n(rt,fe,Me(zt),{})}}function Zc(fe,Me){return function(rt,zt){var lr;if(rt===Q&&zt===Q)return Me;if(rt!==Q&&(lr=rt),zt!==Q){if(lr===Q)return zt;typeof rt=="string"||typeof zt=="string"?(rt=$a(rt),zt=$a(zt)):(rt=ca(rt),zt=ca(zt)),lr=fe(rt,zt)}return lr}}function mc(fe){return Yf(function(Me){return Me=Ra(Me,eo(re())),Dn(function(rt){var zt=this;return fe(Me,function(lr){return Ln(lr,zt,rt)})})})}function bh(fe,Me){Me=Me===Q?" ":$a(Me);var rt=Me.length;if(rt<2)return rt?fn(Me,fe):Me;var zt=fn(Me,nl(fe/vu(Me)));return $l(Me)?Io(Zs(zt),0,fe).join(""):zt.slice(0,fe)}function xc(fe,Me,rt,zt){var lr=Me&r,Or=Gf(fe);function un(){for(var gn=-1,In=arguments.length,ha=-1,la=zt.length,Ta=qn(la+In),ja=this&&this!==Ar&&this instanceof un?Or:fe;++ha<la;)Ta[ha]=zt[ha];for(;In--;)Ta[ha++]=arguments[++gn];return Ln(ja,lr?rt:this,Ta)}return un}function wh(fe){return function(Me,rt,zt){return zt&&typeof zt!="number"&&Yn(Me,rt,zt)&&(rt=zt=Q),Me=Iu(Me),rt===Q?(rt=Me,Me=0):rt=Iu(rt),zt=zt===Q?Me<rt?1:-1:Iu(zt),Mn(Me,rt,zt,fe)}}function Wf(fe){return function(Me,rt){return typeof Me=="string"&&typeof rt=="string"||(Me=mf(Me),rt=mf(rt)),fe(Me,rt)}}function bc(fe,Me,rt,zt,lr,Or,un,gn,In,ha){var la=Me&a,Ta=la?un:Q,ja=la?Q:un,Ga=la?Or:Q,hi=la?Q:Or;Me|=la?f:l,Me&=~(la?l:f),Me&i||(Me&=~(r|t));var qa=[fe,Me,lr,Ga,Ta,hi,ja,gn,In,ha],vi=rt.apply(Q,qa);return ta(fe)&&oo(vi,qa),vi.placeholder=zt,ui(vi,fe,Me)}function pv(fe){var Me=co[fe];return function(rt,zt){if(rt=mf(rt),zt=zt==null?0:uo(Ni(zt),292),zt&&js(rt)){var lr=(so(rt)+"e").split("e"),Or=Me(lr[0]+"e"+(+lr[1]+zt));return lr=(so(Or)+"e").split("e"),+(lr[0]+"e"+(+lr[1]-zt))}return Me(rt)}}var dd=qu&&1/ac(new qu([,-0]))[1]==E?function(fe){return new qu(fe)}:Pd;function wc(fe){return function(Me){var rt=er(Me);return rt==se?Yu(Me):rt==j?zc(Me):Gu(Me,fe(Me))}}function Cu(fe,Me,rt,zt,lr,Or,un,gn){var In=Me&t;if(!In&&typeof fe!="function")throw new Ms(H);var ha=zt?zt.length:0;if(ha||(Me&=~(f|l),zt=lr=Q),un=un===Q?un:lo(Ni(un),0),gn=gn===Q?gn:Ni(gn),ha-=lr?lr.length:0,Me&l){var la=zt,Ta=lr;zt=lr=Q}var ja=In?Q:ve(fe),Ga=[fe,Me,rt,zt,lr,la,Ta,Or,un,gn];if(ja&&Ci(Ga,ja),fe=Ga[0],Me=Ga[1],rt=Ga[2],zt=Ga[3],lr=Ga[4],gn=Ga[9]=Ga[9]===Q?In?0:fe.length:lo(Ga[9]-ha,0),!gn&&Me&(a|u)&&(Me&=~(a|u)),!Me||Me==r)var hi=gc(fe,Me,rt);else Me==a||Me==u?hi=dv(fe,Me,gn):(Me==f||Me==(r|f))&&!lr.length?hi=xc(fe,Me,rt,zt):hi=iu.apply(Q,Ga);var qa=ja?Aa:oo;return ui(qa(hi,Ga),fe,Me)}function jc(fe,Me,rt,zt){return fe===Q||Zf(fe,no[rt])&&!ji.call(zt,rt)?Me:fe}function pd(fe,Me,rt,zt,lr,Or){return as(fe)&&as(Me)&&(Or.set(Me,fe),Zt(fe,Me,Q,pd,Or),Or.delete(Me)),fe}function ap(fe){return Sd(fe)?Q:fe}function ou(fe,Me,rt,zt,lr,Or){var un=rt&v,gn=fe.length,In=Me.length;if(gn!=In&&!(un&&In>gn))return!1;var ha=Or.get(fe),la=Or.get(Me);if(ha&&la)return ha==Me&&la==fe;var Ta=-1,ja=!0,Ga=rt&g?new Cs:Q;for(Or.set(fe,Me),Or.set(Me,fe);++Ta<gn;){var hi=fe[Ta],qa=Me[Ta];if(zt)var vi=un?zt(qa,hi,Ta,Me,fe,Or):zt(hi,qa,Ta,fe,Me,Or);if(vi!==Q){if(vi)continue;ja=!1;break}if(Ga){if(!cs(Me,function(Ji,qi){if(!Wu(Ga,qi)&&(hi===Ji||lr(hi,Ji,rt,zt,Or)))return Ga.push(qi)})){ja=!1;break}}else if(!(hi===qa||lr(hi,qa,rt,zt,Or))){ja=!1;break}}return Or.delete(fe),Or.delete(Me),ja}function ip(fe,Me,rt,zt,lr,Or,un){switch(rt){case Ae:if(fe.byteLength!=Me.byteLength||fe.byteOffset!=Me.byteOffset)return!1;fe=fe.buffer,Me=Me.buffer;case Se:return!(fe.byteLength!=Me.byteLength||!Or(new $u(fe),new $u(Me)));case O:case V:case J:return Zf(+fe,+Me);case ee:return fe.name==Me.name&&fe.message==Me.message;case le:case K:return fe==Me+"";case se:var gn=Yu;case j:var In=zt&v;if(gn||(gn=ac),fe.size!=Me.size&&!In)return!1;var ha=un.get(fe);if(ha)return ha==Me;zt|=g,un.set(fe,Me);var la=ou(gn(fe),gn(Me),zt,lr,Or,un);return un.delete(fe),la;case ue:if(rf)return rf.call(fe)==rf.call(Me)}return!1}function op(fe,Me,rt,zt,lr,Or){var un=rt&v,gn=gv(fe),In=gn.length,ha=gv(Me),la=ha.length;if(In!=la&&!un)return!1;for(var Ta=In;Ta--;){var ja=gn[Ta];if(!(un?ja in Me:ji.call(Me,ja)))return!1}var Ga=Or.get(fe),hi=Or.get(Me);if(Ga&&hi)return Ga==Me&&hi==fe;var qa=!0;Or.set(fe,Me),Or.set(Me,fe);for(var vi=un;++Ta<In;){ja=gn[Ta];var Ji=fe[ja],qi=Me[ja];if(zt)var uu=un?zt(qi,Ji,ja,Me,fe,Or):zt(Ji,qi,ja,fe,Me,Or);if(!(uu===Q?Ji===qi||lr(Ji,qi,rt,zt,Or):uu)){qa=!1;break}vi||(vi=ja=="constructor")}if(qa&&!vi){var Pl=fe.constructor,ku=Me.constructor;Pl!=ku&&"constructor"in fe&&"constructor"in Me&&!(typeof Pl=="function"&&Pl instanceof Pl&&typeof ku=="function"&&ku instanceof ku)&&(qa=!1)}return Or.delete(fe),Or.delete(Me),qa}function Yf(fe){return Qi(mi(fe,Q,Ah),fe+"")}function gv(fe){return xr(fe,is,Pt)}function Vo(fe){return xr(fe,Hl,Gt)}var ve=Nl?function(fe){return Nl.get(fe)}:Pd;function $(fe){for(var Me=fe.name+"",rt=So[Me],zt=ji.call(So,Me)?rt.length:0;zt--;){var lr=rt[zt],Or=lr.func;if(Or==null||Or==fe)return lr.name}return Me}function ge(fe){var Me=ji.call(Lr,"placeholder")?Lr:fe;return Me.placeholder}function re(){var fe=Lr.iteratee||Y0;return fe=fe===Y0?Be:fe,arguments.length?fe(arguments[0],arguments[1]):fe}function me(fe,Me){var rt=fe.__data__;return ia(Me)?rt[typeof Me=="string"?"string":"hash"]:rt.map}function Ne(fe){for(var Me=is(fe),rt=Me.length;rt--;){var zt=Me[rt],lr=fe[zt];Me[rt]=[zt,lr,Oa(lr)]}return Me}function $e(fe,Me){var rt=xl(fe,Me);return Gi(rt)?rt:Q}function vt(fe){var Me=ji.call(fe,tu),rt=fe[tu];try{fe[tu]=Q;var zt=!0}catch{}var lr=ts.call(fe);return zt&&(Me?fe[tu]=rt:delete fe[tu]),lr}var Pt=bo?function(fe){return fe==null?[]:(fe=$i(fe),xa(bo(fe),function(Me){return Cf.call(fe,Me)}))}:j0,Gt=bo?function(fe){for(var Me=[];fe;)Di(Me,Pt(fe)),fe=Qu(fe);return Me}:j0,er=Tr;(Nc&&er(new Nc(new ArrayBuffer(1)))!=Ae||Rf&&er(new Rf)!=se||Bc&&er(Bc.resolve())!=Y||qu&&er(new qu)!=j||xu&&er(new xu)!=he)&&(er=function(fe){var Me=Tr(fe),rt=Me==te?fe.constructor:Q,zt=rt?Ds(rt):"";if(zt)switch(zt){case Ns:return Ae;case tf:return se;case ph:return Y;case Df:return j;case Bl:return he}return Me});function vr(fe,Me,rt){for(var zt=-1,lr=rt.length;++zt<lr;){var Or=rt[zt],un=Or.size;switch(Or.type){case"drop":fe+=un;break;case"dropRight":Me-=un;break;case"take":Me=uo(Me,fe+un);break;case"takeRight":fe=lo(fe,Me-un);break}}return{start:fe,end:Me}}function hr(fe){var Me=fe.match(pe);return Me?Me[1].split(Te):[]}function Ur(fe,Me,rt){Me=ya(Me,fe);for(var zt=-1,lr=Me.length,Or=!1;++zt<lr;){var un=ns(Me[zt]);if(!(Or=fe!=null&&rt(fe,un)))break;fe=fe[un]}return Or||++zt!=lr?Or:(lr=fe==null?0:fe.length,!!lr&&Md(lr)&&Un(un,lr)&&(Ri(fe)||cl(fe)))}function rn(fe){var Me=fe.length,rt=new fe.constructor(Me);return Me&&typeof fe[0]=="string"&&ji.call(fe,"index")&&(rt.index=fe.index,rt.input=fe.input),rt}function en(fe){return typeof fe.constructor=="function"&&!wa(fe)?bu(Qu(fe)):{}}function Qr(fe,Me,rt){var zt=fe.constructor;switch(Me){case Se:return zi(fe);case O:case V:return new zt(+fe);case Ae:return Uo(fe,rt);case De:case we:case Ce:case be:case Pe:case Ve:case Ge:case Fe:case He:return Ml(fe,rt);case se:return new zt;case J:case K:return new zt(fe);case le:return zo(fe);case j:return new zt;case ue:return Al(fe)}}function on(fe,Me){var rt=Me.length;if(!rt)return fe;var zt=rt-1;return Me[zt]=(rt>1?"& ":"")+Me[zt],Me=Me.join(rt>2?", ":" "),fe.replace(Ie,`{
/* [wrapped with `+Me+`] */
`)}function mn(fe){return Ri(fe)||cl(fe)||!!(Lf&&fe&&fe[Lf])}function Un(fe,Me){var rt=typeof fe;return Me=Me??M,!!Me&&(rt=="number"||rt!="symbol"&&Pr.test(fe))&&fe>-1&&fe%1==0&&fe<Me}function Yn(fe,Me,rt){if(!as(rt))return!1;var zt=typeof Me;return(zt=="number"?su(rt)&&Un(Me,rt.length):zt=="string"&&Me in rt)?Zf(rt[Me],fe):!1}function ra(fe,Me){if(Ri(fe))return!1;var rt=typeof fe;return rt=="number"||rt=="symbol"||rt=="boolean"||fe==null||Du(fe)?!0:je.test(fe)||!ze.test(fe)||Me!=null&&fe in $i(Me)}function ia(fe){var Me=typeof fe;return Me=="string"||Me=="number"||Me=="symbol"||Me=="boolean"?fe!=="__proto__":fe===null}function ta(fe){var Me=$(fe),rt=Lr[Me];if(typeof rt!="function"||!(Me in yi.prototype))return!1;if(fe===rt)return!0;var zt=ve(rt);return!!zt&&fe===zt[0]}function sa(fe){return!!du&&du in fe}var pa=ju?$c:K0;function wa(fe){var Me=fe&&fe.constructor,rt=typeof Me=="function"&&Me.prototype||no;return fe===rt}function Oa(fe){return fe===fe&&!as(fe)}function Pa(fe,Me){return function(rt){return rt==null?!1:rt[fe]===Me&&(Me!==Q||fe in $i(rt))}}function ri(fe){var Me=Td(fe,function(zt){return rt.size===d&&rt.clear(),zt}),rt=Me.cache;return Me}function Ci(fe,Me){var rt=fe[1],zt=Me[1],lr=rt|zt,Or=lr<(r|t|m),un=zt==m&&rt==a||zt==m&&rt==h&&fe[7].length<=Me[8]||zt==(m|h)&&Me[7].length<=Me[8]&&rt==a;if(!(Or||un))return fe;zt&r&&(fe[2]=Me[2],lr|=rt&r?0:i);var gn=Me[3];if(gn){var In=fe[3];fe[3]=In?Ti(In,gn,Me[4]):gn,fe[4]=In?Ql(fe[3],C):Me[4]}return gn=Me[5],gn&&(In=fe[5],fe[5]=In?vo(In,gn,Me[6]):gn,fe[6]=In?Ql(fe[5],C):Me[6]),gn=Me[7],gn&&(fe[7]=gn),zt&m&&(fe[8]=fe[8]==null?Me[8]:uo(fe[8],Me[8])),fe[9]==null&&(fe[9]=Me[9]),fe[0]=Me[0],fe[1]=lr,fe}function gi(fe){var Me=[];if(fe!=null)for(var rt in $i(fe))Me.push(rt);return Me}function Ua(fe){return ts.call(fe)}function mi(fe,Me,rt){return Me=lo(Me===Q?fe.length-1:Me,0),function(){for(var zt=arguments,lr=-1,Or=lo(zt.length-Me,0),un=qn(Or);++lr<Or;)un[lr]=zt[Me+lr];lr=-1;for(var gn=qn(Me+1);++lr<Me;)gn[lr]=zt[lr];return gn[Me]=rt(un),Ln(fe,this,gn)}}function si(fe,Me){return Me.length<2?fe:Ut(fe,Ia(Me,0,-1))}function Fi(fe,Me){for(var rt=fe.length,zt=uo(Me.length,rt),lr=Rs(fe);zt--;){var Or=Me[zt];fe[zt]=Un(Or,rt)?lr[Or]:Q}return fe}function Li(fe,Me){if(!(Me==="constructor"&&typeof fe[Me]=="function")&&Me!="__proto__")return fe[Me]}var oo=_i(Aa),xi=gu||function(fe,Me){return Ar.setTimeout(fe,Me)},Qi=_i(Sa);function ui(fe,Me,rt){var zt=Me+"";return Qi(fe,on(zt,Lu(hr(zt),rt)))}function _i(fe){var Me=0,rt=0;return function(){var zt=Fl(),lr=x-(zt-rt);if(rt=zt,lr>0){if(++Me>=p)return arguments[0]}else Me=0;return fe.apply(Q,arguments)}}function Co(fe,Me){var rt=-1,zt=fe.length,lr=zt-1;for(Me=Me===Q?zt:Me;++rt<Me;){var Or=pn(rt,lr),un=fe[Or];fe[Or]=fe[rt],fe[rt]=un}return fe.length=Me,fe}var rs=ri(function(fe){var Me=[];return fe.charCodeAt(0)===46&&Me.push(""),fe.replace(Je,function(rt,zt,lr,Or){Me.push(lr?Or.replace(st,"$1"):zt||rt)}),Me});function ns(fe){if(typeof fe=="string"||Du(fe))return fe;var Me=fe+"";return Me=="0"&&1/fe==-E?"-0":Me}function Ds(fe){if(fe!=null){try{return ic.call(fe)}catch{}try{return fe+""}catch{}}return""}function Lu(fe,Me){return Rn(B,function(rt){var zt="_."+rt[0];Me&rt[1]&&!ba(fe,zt)&&fe.push(zt)}),fe.sort()}function _u(fe){if(fe instanceof yi)return fe.clone();var Me=new Po(fe.__wrapped__,fe.__chain__);return Me.__actions__=Rs(fe.__actions__),Me.__index__=fe.__index__,Me.__values__=fe.__values__,Me}function Kc(fe,Me,rt){(rt?Yn(fe,Me,rt):Me===Q)?Me=1:Me=lo(Ni(Me),0);var zt=fe==null?0:fe.length;if(!zt||Me<1)return[];for(var lr=0,Or=0,un=qn(nl(zt/Me));lr<zt;)un[Or++]=Ia(fe,lr,lr+=Me);return un}function df(fe){for(var Me=-1,rt=fe==null?0:fe.length,zt=0,lr=[];++Me<rt;){var Or=fe[Me];Or&&(lr[zt++]=Or)}return lr}function ll(){var fe=arguments.length;if(!fe)return[];for(var Me=qn(fe-1),rt=arguments[0],zt=fe;zt--;)Me[zt-1]=arguments[zt];return Di(Ri(rt)?Rs(rt):[rt],Qe(Me,1))}var pf=Dn(function(fe,Me){return xs(fe)?ff(fe,Qe(Me,1,xs,!0)):[]}),Sl=Dn(function(fe,Me){var rt=fl(Me);return xs(rt)&&(rt=Q),xs(fe)?ff(fe,Qe(Me,1,xs,!0),re(rt,2)):[]}),ul=Dn(function(fe,Me){var rt=fl(Me);return xs(rt)&&(rt=Q),xs(fe)?ff(fe,Qe(Me,1,xs,!0),Q,rt):[]});function Pu(fe,Me,rt){var zt=fe==null?0:fe.length;return zt?(Me=rt||Me===Q?1:Ni(Me),Ia(fe,Me<0?0:Me,zt)):[]}function Xf(fe,Me,rt){var zt=fe==null?0:fe.length;return zt?(Me=rt||Me===Q?1:Ni(Me),Me=zt-Me,Ia(fe,0,Me<0?0:Me)):[]}function Ru(fe,Me){return fe&&fe.length?Ei(fe,re(Me,3),!0,!0):[]}function yv(fe,Me){return fe&&fe.length?Ei(fe,re(Me,3),!0):[]}function Th(fe,Me,rt,zt){var lr=fe==null?0:fe.length;return lr?(rt&&typeof rt!="number"&&Yn(fe,Me,rt)&&(rt=0,zt=lr),Hf(fe,Me,rt,zt)):[]}function ds(fe,Me,rt){var zt=fe==null?0:fe.length;if(!zt)return-1;var lr=rt==null?0:Ni(rt);return lr<0&&(lr=lo(zt+lr,0)),Mi(fe,re(Me,3),lr)}function Wh(fe,Me,rt){var zt=fe==null?0:fe.length;if(!zt)return-1;var lr=zt-1;return rt!==Q&&(lr=Ni(rt),lr=rt<0?lo(zt+lr,0):uo(lr,zt-1)),Mi(fe,re(Me,3),lr,!0)}function Ah(fe){var Me=fe==null?0:fe.length;return Me?Qe(fe,1):[]}function Qs(fe){var Me=fe==null?0:fe.length;return Me?Qe(fe,E):[]}function Mh(fe,Me){var rt=fe==null?0:fe.length;return rt?(Me=Me===Q?1:Ni(Me),Qe(fe,Me)):[]}function mv(fe){for(var Me=-1,rt=fe==null?0:fe.length,zt={};++Me<rt;){var lr=fe[Me];zt[lr[0]]=lr[1]}return zt}function Yh(fe){return fe&&fe.length?fe[0]:Q}function xv(fe,Me,rt){var zt=fe==null?0:fe.length;if(!zt)return-1;var lr=rt==null?0:Ni(rt);return lr<0&&(lr=lo(zt+lr,0)),yl(fe,Me,lr)}function Sh(fe){var Me=fe==null?0:fe.length;return Me?Ia(fe,0,-1):[]}var Eh=Dn(function(fe){var Me=Ra(fe,ro);return Me.length&&Me[0]===fe[0]?cn(Me):[]}),Ho=Dn(function(fe){var Me=fl(fe),rt=Ra(fe,ro);return Me===fl(rt)?Me=Q:rt.pop(),rt.length&&rt[0]===fe[0]?cn(rt,re(Me,2)):[]}),El=Dn(function(fe){var Me=fl(fe),rt=Ra(fe,ro);return Me=typeof Me=="function"?Me:Q,Me&&rt.pop(),rt.length&&rt[0]===fe[0]?cn(rt,Q,Me):[]});function Cl(fe,Me){return fe==null?"":zl.call(fe,Me)}function fl(fe){var Me=fe==null?0:fe.length;return Me?fe[Me-1]:Q}function gd(fe,Me,rt){var zt=fe==null?0:fe.length;if(!zt)return-1;var lr=zt;return rt!==Q&&(lr=Ni(rt),lr=lr<0?lo(zt+lr,0):uo(lr,zt-1)),Me===Me?Hh(fe,Me,lr):Mi(fe,No,lr,!0)}function w0(fe,Me){return fe&&fe.length?Ir(fe,Ni(Me)):Q}var T0=Dn(Ch);function Ch(fe,Me){return fe&&fe.length&&Me&&Me.length?Xr(fe,Me):fe}function A0(fe,Me,rt){return fe&&fe.length&&Me&&Me.length?Xr(fe,Me,re(rt,2)):fe}function bv(fe,Me,rt){return fe&&fe.length&&Me&&Me.length?Xr(fe,Me,Q,rt):fe}var M0=Yf(function(fe,Me){var rt=fe==null?0:fe.length,zt=ol(fe,Me);return an(fe,Ra(Me,function(lr){return Un(lr,rt)?+lr:lr}).sort(ho)),zt});function S0(fe,Me){var rt=[];if(!(fe&&fe.length))return rt;var zt=-1,lr=[],Or=fe.length;for(Me=re(Me,3);++zt<Or;){var un=fe[zt];Me(un,zt,fe)&&(rt.push(un),lr.push(zt))}return an(fe,lr),rt}function Xh(fe){return fe==null?fe:Pf.call(fe)}function X1(fe,Me,rt){var zt=fe==null?0:fe.length;return zt?(rt&&typeof rt!="number"&&Yn(fe,Me,rt)?(Me=0,rt=zt):(Me=Me==null?0:Ni(Me),rt=rt===Q?zt:Ni(rt)),Ia(fe,Me,rt)):[]}function Z1(fe,Me){return Si(fe,Me)}function j1(fe,Me,rt){return Eo(fe,Me,re(rt,2))}function K1(fe,Me){var rt=fe==null?0:fe.length;if(rt){var zt=Si(fe,Me);if(zt<rt&&Zf(fe[zt],Me))return zt}return-1}function J1(fe,Me){return Si(fe,Me,!0)}function $1(fe,Me,rt){return Eo(fe,Me,re(rt,2),!0)}function Q1(fe,Me){var rt=fe==null?0:fe.length;if(rt){var zt=Si(fe,Me,!0)-1;if(Zf(fe[zt],Me))return zt}return-1}function sp(fe){return fe&&fe.length?Oi(fe):[]}function q1(fe,Me){return fe&&fe.length?Oi(fe,re(Me,2)):[]}function ex(fe){var Me=fe==null?0:fe.length;return Me?Ia(fe,1,Me):[]}function tx(fe,Me,rt){return fe&&fe.length?(Me=rt||Me===Q?1:Ni(Me),Ia(fe,0,Me<0?0:Me)):[]}function rx(fe,Me,rt){var zt=fe==null?0:fe.length;return zt?(Me=rt||Me===Q?1:Ni(Me),Me=zt-Me,Ia(fe,Me<0?0:Me,zt)):[]}function ty(fe,Me){return fe&&fe.length?Ei(fe,re(Me,3),!1,!0):[]}function nx(fe,Me){return fe&&fe.length?Ei(fe,re(Me,3)):[]}var ry=Dn(function(fe){return za(Qe(fe,1,xs,!0))}),E0=Dn(function(fe){var Me=fl(fe);return xs(Me)&&(Me=Q),za(Qe(fe,1,xs,!0),re(Me,2))}),ny=Dn(function(fe){var Me=fl(fe);return Me=typeof Me=="function"?Me:Q,za(Qe(fe,1,xs,!0),Q,Me)});function C0(fe){return fe&&fe.length?za(fe):[]}function Zh(fe,Me){return fe&&fe.length?za(fe,re(Me,2)):[]}function Ll(fe,Me){return Me=typeof Me=="function"?Me:Q,fe&&fe.length?za(fe,Q,Me):[]}function L0(fe){if(!(fe&&fe.length))return[];var Me=0;return fe=xa(fe,function(rt){if(xs(rt))return Me=lo(rt.length,Me),!0}),Do(Me,function(rt){return Ra(fe,Kl(rt))})}function ay(fe,Me){if(!(fe&&fe.length))return[];var rt=L0(fe);return Me==null?rt:Ra(rt,function(zt){return Ln(Me,Q,zt)})}var iy=Dn(function(fe,Me){return xs(fe)?ff(fe,Me):[]}),ax=Dn(function(fe){return Oo(xa(fe,xs))}),ix=Dn(function(fe){var Me=fl(fe);return xs(Me)&&(Me=Q),Oo(xa(fe,xs),re(Me,2))}),ox=Dn(function(fe){var Me=fl(fe);return Me=typeof Me=="function"?Me:Q,Oo(xa(fe,xs),Q,Me)}),sx=Dn(L0);function lx(fe,Me){return Zo(fe||[],Me||[],lf)}function ux(fe,Me){return Zo(fe||[],Me||[],fa)}var _0=Dn(function(fe){var Me=fe.length,rt=Me>1?fe[Me-1]:Q;return rt=typeof rt=="function"?(fe.pop(),rt):Q,ay(fe,rt)});function oy(fe){var Me=Lr(fe);return Me.__chain__=!0,Me}function lp(fe,Me){return Me(fe),fe}function yd(fe,Me){return Me(fe)}var Lh=Yf(function(fe){var Me=fe.length,rt=Me?fe[0]:0,zt=this.__wrapped__,lr=function(Or){return ol(Or,fe)};return Me>1||this.__actions__.length||!(zt instanceof yi)||!Un(rt)?this.thru(lr):(zt=zt.slice(rt,+rt+(Me?1:0)),zt.__actions__.push({func:yd,args:[lr],thisArg:Q}),new Po(zt,this.__chain__).thru(function(Or){return Me&&!Or.length&&Or.push(Q),Or}))});function md(){return oy(this)}function fx(){return new Po(this.value(),this.__chain__)}function cx(){this.__values__===Q&&(this.__values__=My(this.value()));var fe=this.__index__>=this.__values__.length,Me=fe?Q:this.__values__[this.__index__++];return{done:fe,value:Me}}function hx(){return this}function vx(fe){for(var Me,rt=this;rt instanceof Xo;){var zt=_u(rt);zt.__index__=0,zt.__values__=Q,Me?lr.__wrapped__=zt:Me=zt;var lr=zt;rt=rt.__wrapped__}return lr.__wrapped__=fe,Me}function dx(){var fe=this.__wrapped__;if(fe instanceof yi){var Me=fe;return this.__actions__.length&&(Me=new yi(this)),Me=Me.reverse(),Me.__actions__.push({func:yd,args:[Xh],thisArg:Q}),new Po(Me,this.__chain__)}return this.thru(Xh)}function px(){return Bo(this.__wrapped__,this.__actions__)}var gx=Su(function(fe,Me,rt){ji.call(fe,rt)?++fe[rt]:Ks(fe,rt,1)});function yx(fe,Me,rt){var zt=Ri(fe)?Kn:Au;return rt&&Yn(fe,Me,rt)&&(Me=Q),zt(fe,re(Me,3))}function mx(fe,Me){var rt=Ri(fe)?xa:Wc;return rt(fe,re(Me,3))}var xx=vf(ds),bx=vf(Wh);function P0(fe,Me){return Qe(hp(fe,Me),1)}function wx(fe,Me){return Qe(hp(fe,Me),E)}function wv(fe,Me,rt){return rt=rt===Q?1:Ni(rt),Qe(hp(fe,Me),rt)}function sy(fe,Me){var rt=Ri(fe)?Rn:Js;return rt(fe,re(Me,3))}function Jo(fe,Me){var rt=Ri(fe)?$n:pc;return rt(fe,re(Me,3))}var up=Su(function(fe,Me,rt){ji.call(fe,rt)?fe[rt].push(Me):Ks(fe,rt,[Me])});function ly(fe,Me,rt,zt){fe=su(fe)?fe:jh(fe),rt=rt&&!zt?Ni(rt):0;var lr=fe.length;return rt<0&&(rt=lo(lr+rt,0)),gp(fe)?rt<=lr&&fe.indexOf(Me,rt)>-1:!!lr&&yl(fe,Me,rt)>-1}var fp=Dn(function(fe,Me,rt){var zt=-1,lr=typeof Me=="function",Or=su(fe)?qn(fe.length):[];return Js(fe,function(un){Or[++zt]=lr?Ln(Me,un,rt):Nn(un,Me,rt)}),Or}),cp=Su(function(fe,Me,rt){Ks(fe,rt,Me)});function hp(fe,Me){var rt=Ri(fe)?Ra:Dt;return rt(fe,re(Me,3))}function xd(fe,Me,rt,zt){return fe==null?[]:(Ri(Me)||(Me=Me==null?[]:[Me]),rt=zt?Q:rt,Ri(rt)||(rt=rt==null?[]:[rt]),kr(fe,Me,rt))}var Tx=Su(function(fe,Me,rt){fe[rt?0:1].push(Me)},function(){return[[],[]]});function uy(fe,Me,rt){var zt=Ri(fe)?Pi:Ao,lr=arguments.length<3;return zt(fe,re(Me,4),rt,lr,Js)}function fy(fe,Me,rt){var zt=Ri(fe)?zs:Ao,lr=arguments.length<3;return zt(fe,re(Me,4),rt,lr,pc)}function bd(fe,Me){var rt=Ri(fe)?xa:Wc;return rt(fe,Jc(re(Me,3)))}function R0(fe){var Me=Ri(fe)?Gc:va;return Me(fe)}function D0(fe,Me,rt){(rt?Yn(fe,Me,rt):Me===Q)?Me=1:Me=Ni(Me);var zt=Ri(fe)?vs:Ma;return zt(fe,Me)}function Ax(fe){var Me=Ri(fe)?Nf:ii;return Me(fe)}function cy(fe){if(fe==null)return 0;if(su(fe))return gp(fe)?vu(fe):fe.length;var Me=er(fe);return Me==se||Me==j?fe.size:tt(fe).length}function wd(fe,Me,rt){var zt=Ri(fe)?cs:ti;return rt&&Yn(fe,Me,rt)&&(Me=Q),zt(fe,re(Me,3))}var Mx=Dn(function(fe,Me){if(fe==null)return[];var rt=Me.length;return rt>1&&Yn(fe,Me[0],Me[1])?Me=[]:rt>2&&Yn(Me[0],Me[1],Me[2])&&(Me=[Me[0]]),kr(fe,Qe(Me,1),[])}),Tv=Fc||function(){return Ar.Date.now()};function Sx(fe,Me){if(typeof Me!="function")throw new Ms(H);return fe=Ni(fe),function(){if(--fe<1)return Me.apply(this,arguments)}}function vp(fe,Me,rt){return Me=rt?Q:Me,Me=fe&&Me==null?fe.length:Me,Cu(fe,m,Q,Q,Q,Q,Me)}function dp(fe,Me){var rt;if(typeof Me!="function")throw new Ms(H);return fe=Ni(fe),function(){return--fe>0&&(rt=Me.apply(this,arguments)),fe<=1&&(Me=Q),rt}}var I0=Dn(function(fe,Me,rt){var zt=r;if(rt.length){var lr=Ql(rt,ge(I0));zt|=f}return Cu(fe,zt,Me,rt,lr)}),gf=Dn(function(fe,Me,rt){var zt=r|t;if(rt.length){var lr=Ql(rt,ge(gf));zt|=f}return Cu(Me,zt,fe,rt,lr)});function hy(fe,Me,rt){Me=rt?Q:Me;var zt=Cu(fe,a,Q,Q,Q,Q,Q,Me);return zt.placeholder=hy.placeholder,zt}function vy(fe,Me,rt){Me=rt?Q:Me;var zt=Cu(fe,u,Q,Q,Q,Q,Q,Me);return zt.placeholder=vy.placeholder,zt}function dy(fe,Me,rt){var zt,lr,Or,un,gn,In,ha=0,la=!1,Ta=!1,ja=!0;if(typeof fe!="function")throw new Ms(H);Me=mf(Me)||0,as(rt)&&(la=!!rt.leading,Ta="maxWait"in rt,Or=Ta?lo(mf(rt.maxWait)||0,Me):Or,ja="trailing"in rt?!!rt.trailing:ja);function Ga(os){var Jf=zt,qc=lr;return zt=lr=Q,ha=os,un=fe.apply(qc,Jf),un}function hi(os){return ha=os,gn=xi(Ji,Me),la?Ga(os):un}function qa(os){var Jf=os-In,qc=os-ha,Ph=Me-Jf;return Ta?uo(Ph,Or-qc):Ph}function vi(os){var Jf=os-In,qc=os-ha;return In===Q||Jf>=Me||Jf<0||Ta&&qc>=Or}function Ji(){var os=Tv();if(vi(os))return qi(os);gn=xi(Ji,qa(os))}function qi(os){return gn=Q,ja&&zt?Ga(os):(zt=lr=Q,un)}function uu(){gn!==Q&&Ps(gn),ha=0,zt=In=lr=gn=Q}function Pl(){return gn===Q?un:qi(Tv())}function ku(){var os=Tv(),Jf=vi(os);if(zt=arguments,lr=this,In=os,Jf){if(gn===Q)return hi(In);if(Ta)return Ps(gn),gn=xi(Ji,Me),Ga(In)}return gn===Q&&(gn=xi(Ji,Me)),un}return ku.cancel=uu,ku.flush=Pl,ku}var Ex=Dn(function(fe,Me){return Vf(fe,1,Me)}),Cx=Dn(function(fe,Me,rt){return Vf(fe,mf(Me)||0,rt)});function Lx(fe){return Cu(fe,T)}function Td(fe,Me){if(typeof fe!="function"||Me!=null&&typeof Me!="function")throw new Ms(H);var rt=function(){var zt=arguments,lr=Me?Me.apply(this,zt):zt[0],Or=rt.cache;if(Or.has(lr))return Or.get(lr);var un=fe.apply(this,zt);return rt.cache=Or.set(lr,un)||Or,un};return rt.cache=new(Td.Cache||Es),rt}Td.Cache=Es;function Jc(fe){if(typeof fe!="function")throw new Ms(H);return function(){var Me=arguments;switch(Me.length){case 0:return!fe.call(this);case 1:return!fe.call(this,Me[0]);case 2:return!fe.call(this,Me[0],Me[1]);case 3:return!fe.call(this,Me[0],Me[1],Me[2])}return!fe.apply(this,Me)}}function _x(fe){return dp(2,fe)}var Px=Ya(function(fe,Me){Me=Me.length==1&&Ri(Me[0])?Ra(Me[0],eo(re())):Ra(Qe(Me,1),eo(re()));var rt=Me.length;return Dn(function(zt){for(var lr=-1,Or=uo(zt.length,rt);++lr<Or;)zt[lr]=Me[lr].call(this,zt[lr]);return Ln(fe,this,zt)})}),k0=Dn(function(fe,Me){var rt=Ql(Me,ge(k0));return Cu(fe,f,Q,Me,rt)}),py=Dn(function(fe,Me){var rt=Ql(Me,ge(py));return Cu(fe,l,Q,Me,rt)}),gy=Yf(function(fe,Me){return Cu(fe,h,Q,Q,Q,Me)});function yy(fe,Me){if(typeof fe!="function")throw new Ms(H);return Me=Me===Q?Me:Ni(Me),Dn(fe,Me)}function Rx(fe,Me){if(typeof fe!="function")throw new Ms(H);return Me=Me==null?0:lo(Ni(Me),0),Dn(function(rt){var zt=rt[Me],lr=Io(rt,0,Me);return zt&&Di(lr,zt),Ln(fe,this,lr)})}function Dx(fe,Me,rt){var zt=!0,lr=!0;if(typeof fe!="function")throw new Ms(H);return as(rt)&&(zt="leading"in rt?!!rt.leading:zt,lr="trailing"in rt?!!rt.trailing:lr),dy(fe,Me,{leading:zt,maxWait:Me,trailing:lr})}function Ix(fe){return vp(fe,1)}function kx(fe,Me){return k0(jo(Me),fe)}function Ox(){if(!arguments.length)return[];var fe=arguments[0];return Ri(fe)?fe:[fe]}function zx(fe){return _s(fe,w)}function Fx(fe,Me){return Me=typeof Me=="function"?Me:Q,_s(fe,w,Me)}function Nx(fe){return _s(fe,n|w)}function Av(fe,Me){return Me=typeof Me=="function"?Me:Q,_s(fe,n|w,Me)}function Bx(fe,Me){return Me==null||uf(fe,Me,is(Me))}function Zf(fe,Me){return fe===Me||fe!==fe&&Me!==Me}var O0=Wf(cr),Ad=Wf(function(fe,Me){return fe>=Me}),cl=Wn(function(){return arguments}())?Wn:function(fe){return ps(fe)&&ji.call(fe,"callee")&&!Cf.call(fe,"callee")},Ri=qn.isArray,Ux=An?eo(An):oa;function su(fe){return fe!=null&&Md(fe.length)&&!$c(fe)}function xs(fe){return ps(fe)&&su(fe)}function Vx(fe){return fe===!0||fe===!1||ps(fe)&&Tr(fe)==O}var yf=_f||K0,my=dn?eo(dn):Ja;function Hx(fe){return ps(fe)&&fe.nodeType===1&&!Sd(fe)}function Gx(fe){if(fe==null)return!0;if(su(fe)&&(Ri(fe)||typeof fe=="string"||typeof fe.splice=="function"||yf(fe)||Mv(fe)||cl(fe)))return!fe.length;var Me=er(fe);if(Me==se||Me==j)return!fe.size;if(wa(fe))return!tt(fe).length;for(var rt in fe)if(ji.call(fe,rt))return!1;return!0}function Wx(fe,Me){return Za(fe,Me)}function Yx(fe,Me,rt){rt=typeof rt=="function"?rt:Q;var zt=rt?rt(fe,Me):Q;return zt===Q?Za(fe,Me,Q,rt):!!zt}function z0(fe){if(!ps(fe))return!1;var Me=Tr(fe);return Me==ee||Me==X||typeof fe.message=="string"&&typeof fe.name=="string"&&!Sd(fe)}function Xx(fe){return typeof fe=="number"&&js(fe)}function $c(fe){if(!as(fe))return!1;var Me=Tr(fe);return Me==ne||Me==q||Me==N||Me==ie}function xy(fe){return typeof fe=="number"&&fe==Ni(fe)}function Md(fe){return typeof fe=="number"&&fe>-1&&fe%1==0&&fe<=M}function as(fe){var Me=typeof fe;return fe!=null&&(Me=="object"||Me=="function")}function ps(fe){return fe!=null&&typeof fe=="object"}var by=Dr?eo(Dr):ai;function Zx(fe,Me){return fe===Me||bi(fe,Me,Ne(Me))}function wy(fe,Me,rt){return rt=typeof rt=="function"?rt:Q,bi(fe,Me,Ne(Me),rt)}function Ty(fe){return F0(fe)&&fe!=+fe}function hl(fe){if(pa(fe))throw new li(We);return Gi(fe)}function jx(fe){return fe===null}function Kx(fe){return fe==null}function F0(fe){return typeof fe=="number"||ps(fe)&&Tr(fe)==J}function Sd(fe){if(!ps(fe)||Tr(fe)!=te)return!1;var Me=Qu(fe);if(Me===null)return!0;var rt=ji.call(Me,"constructor")&&Me.constructor;return typeof rt=="function"&&rt instanceof rt&&ic.call(rt)==oc}var pp=nn?eo(nn):Ro;function Jx(fe){return xy(fe)&&fe>=-M&&fe<=M}var N0=$r?eo($r):ce;function gp(fe){return typeof fe=="string"||!Ri(fe)&&ps(fe)&&Tr(fe)==K}function Du(fe){return typeof fe=="symbol"||ps(fe)&&Tr(fe)==ue}var Mv=ln?eo(ln):_e;function $x(fe){return fe===Q}function Ay(fe){return ps(fe)&&er(fe)==he}function Qx(fe){return ps(fe)&&Tr(fe)==xe}var qx=Wf(ht),eb=Wf(function(fe,Me){return fe<=Me});function My(fe){if(!fe)return[];if(su(fe))return gp(fe)?Zs(fe):Rs(fe);if(Hi&&fe[Hi])return Uh(fe[Hi]());var Me=er(fe),rt=Me==se?Yu:Me==j?ac:jh;return rt(fe)}function Iu(fe){if(!fe)return fe===0?fe:0;if(fe=mf(fe),fe===E||fe===-E){var Me=fe<0?-1:1;return Me*s}return fe===fe?fe:0}function Ni(fe){var Me=Iu(fe),rt=Me%1;return Me===Me?rt?Me-rt:Me:0}function bs(fe){return fe?Ls(Ni(fe),0,b):0}function mf(fe){if(typeof fe=="number")return fe;if(Du(fe))return S;if(as(fe)){var Me=typeof fe.valueOf=="function"?fe.valueOf():fe;fe=as(Me)?Me+"":Me}if(typeof fe!="string")return fe===0?fe:+fe;fe=Wo(fe);var rt=St.test(fe);return rt||$t.test(fe)?ua(fe.slice(2),rt?2:8):Jt.test(fe)?S:+fe}function Sy(fe){return Mu(fe,Hl(fe))}function yp(fe){return fe?Ls(Ni(fe),-M,M):fe===0?fe:0}function so(fe){return fe==null?"":$a(fe)}var po=Eu(function(fe,Me){if(wa(Me)||su(Me)){Mu(Me,is(Me),fe);return}for(var rt in Me)ji.call(Me,rt)&&lf(fe,rt,Me[rt])}),mp=Eu(function(fe,Me){Mu(Me,Hl(Me),fe)}),Ed=Eu(function(fe,Me,rt,zt){Mu(Me,Hl(Me),fe,zt)}),tb=Eu(function(fe,Me,rt,zt){Mu(Me,is(Me),fe,zt)}),Ey=Yf(ol);function rb(fe,Me){var rt=bu(fe);return Me==null?rt:ms(rt,Me)}var Qc=Dn(function(fe,Me){fe=$i(fe);var rt=-1,zt=Me.length,lr=zt>2?Me[2]:Q;for(lr&&Yn(Me[0],Me[1],lr)&&(zt=1);++rt<zt;)for(var Or=Me[rt],un=Hl(Or),gn=-1,In=un.length;++gn<In;){var ha=un[gn],la=fe[ha];(la===Q||Zf(la,no[ha])&&!ji.call(fe,ha))&&(fe[ha]=Or[ha])}return fe}),Sv=Dn(function(fe){return fe.push(Q,pd),Ln(bp,Q,fe)});function nb(fe,Me){return Ic(fe,re(Me,3),At)}function ab(fe,Me){return Ic(fe,re(Me,3),Nt)}function ib(fe,Me){return fe==null?fe:ot(fe,re(Me,3),Hl)}function Cy(fe,Me){return fe==null?fe:mt(fe,re(Me,3),Hl)}function ob(fe,Me){return fe&&At(fe,re(Me,3))}function sb(fe,Me){return fe&&Nt(fe,re(Me,3))}function lb(fe){return fe==null?[]:Ot(fe,is(fe))}function ub(fe){return fe==null?[]:Ot(fe,Hl(fe))}function B0(fe,Me,rt){var zt=fe==null?Q:Ut(fe,Me);return zt===Q?rt:zt}function fb(fe,Me){return fe!=null&&Ur(fe,Me,Rr)}function U0(fe,Me){return fe!=null&&Ur(fe,Me,Br)}var cb=xh(function(fe,Me,rt){Me!=null&&typeof Me.toString!="function"&&(Me=ts.call(Me)),fe[Me]=rt},_v(Vs)),hb=xh(function(fe,Me,rt){Me!=null&&typeof Me.toString!="function"&&(Me=ts.call(Me)),ji.call(fe,Me)?fe[Me].push(rt):fe[Me]=[rt]},re),xp=Dn(Nn);function is(fe){return su(fe)?mh(fe):tt(fe)}function Hl(fe){return su(fe)?mh(fe,!0):it(fe)}function vb(fe,Me){var rt={};return Me=re(Me,3),At(fe,function(zt,lr,Or){Ks(rt,Me(zt,lr,Or),zt)}),rt}function db(fe,Me){var rt={};return Me=re(Me,3),At(fe,function(zt,lr,Or){Ks(rt,lr,Me(zt,lr,Or))}),rt}var pb=Eu(function(fe,Me,rt){Zt(fe,Me,rt)}),bp=Eu(function(fe,Me,rt,zt){Zt(fe,Me,rt,zt)}),gb=Yf(function(fe,Me){var rt={};if(fe==null)return rt;var zt=!1;Me=Ra(Me,function(Or){return Or=ya(Or,fe),zt||(zt=Or.length>1),Or}),Mu(fe,Vo(fe),rt),zt&&(rt=_s(rt,n|L|w,ap));for(var lr=Me.length;lr--;)wi(rt,Me[lr]);return rt});function yb(fe,Me){return Ly(fe,Jc(re(Me)))}var mb=Yf(function(fe,Me){return fe==null?{}:sn(fe,Me)});function Ly(fe,Me){if(fe==null)return{};var rt=Ra(Vo(fe),function(zt){return[zt]});return Me=re(Me),vn(fe,rt,function(zt,lr){return Me(zt,lr[0])})}function _y(fe,Me,rt){Me=ya(Me,fe);var zt=-1,lr=Me.length;for(lr||(lr=1,fe=Q);++zt<lr;){var Or=fe==null?Q:fe[ns(Me[zt])];Or===Q&&(zt=lr,Or=rt),fe=$c(Or)?Or.call(fe):Or}return fe}function Py(fe,Me,rt){return fe==null?fe:fa(fe,Me,rt)}function Gl(fe,Me,rt,zt){return zt=typeof zt=="function"?zt:Q,fe==null?fe:fa(fe,Me,rt,zt)}var Cd=wc(is),Ev=wc(Hl);function Ld(fe,Me,rt){var zt=Ri(fe),lr=zt||yf(fe)||Mv(fe);if(Me=re(Me,4),rt==null){var Or=fe&&fe.constructor;lr?rt=zt?new Or:[]:as(fe)?rt=$c(Or)?bu(Qu(fe)):{}:rt={}}return(lr?Rn:At)(fe,function(un,gn,In){return Me(rt,un,gn,In)}),rt}function lu(fe,Me){return fe==null?!0:wi(fe,Me)}function _d(fe,Me,rt){return fe==null?fe:ao(fe,Me,jo(rt))}function xb(fe,Me,rt,zt){return zt=typeof zt=="function"?zt:Q,fe==null?fe:ao(fe,Me,jo(rt),zt)}function jh(fe){return fe==null?[]:gs(fe,is(fe))}function Ry(fe){return fe==null?[]:gs(fe,Hl(fe))}function Cv(fe,Me,rt){return rt===Q&&(rt=Me,Me=Q),rt!==Q&&(rt=mf(rt),rt=rt===rt?rt:0),Me!==Q&&(Me=mf(Me),Me=Me===Me?Me:0),Ls(mf(fe),Me,rt)}function qs(fe,Me,rt){return Me=Iu(Me),rt===Q?(rt=Me,Me=0):rt=Iu(rt),fe=mf(fe),Zr(fe,Me,rt)}function bb(fe,Me,rt){if(rt&&typeof rt!="boolean"&&Yn(fe,Me,rt)&&(Me=rt=Q),rt===Q&&(typeof Me=="boolean"?(rt=Me,Me=Q):typeof fe=="boolean"&&(rt=fe,fe=Q)),fe===Q&&Me===Q?(fe=0,Me=1):(fe=Iu(fe),Me===Q?(Me=fe,fe=0):Me=Iu(Me)),fe>Me){var zt=fe;fe=Me,Me=zt}if(rt||fe%1||Me%1){var lr=Fs();return uo(fe+lr*(Me-fe+Jn("1e-"+((lr+"").length-1))),Me)}return pn(fe,Me)}var wp=yc(function(fe,Me,rt){return Me=Me.toLowerCase(),fe+(rt?jf(Me):Me)});function jf(fe){return Tp(so(fe).toLowerCase())}function _l(fe){return fe=so(fe),fe&&fe.replace(xt,Yo).replace(ea,"")}function Dy(fe,Me,rt){fe=so(fe),Me=$a(Me);var zt=fe.length;rt=rt===Q?zt:Ls(Ni(rt),0,zt);var lr=rt;return rt-=Me.length,rt>=0&&fe.slice(rt,lr)==Me}function wb(fe){return fe=so(fe),fe&&wt.test(fe)?fe.replace(dt,Oc):fe}function Iy(fe){return fe=so(fe),fe&&Oe.test(fe)?fe.replace(Xe,"\\$&"):fe}var Tb=yc(function(fe,Me,rt){return fe+(rt?"-":"")+Me.toLowerCase()}),ky=yc(function(fe,Me,rt){return fe+(rt?" ":"")+Me.toLowerCase()}),Oy=vv("toLowerCase");function V0(fe,Me,rt){fe=so(fe),Me=Ni(Me);var zt=Me?vu(fe):0;if(!Me||zt>=Me)return fe;var lr=(Me-zt)/2;return bh(yu(lr),rt)+fe+bh(nl(lr),rt)}function H0(fe,Me,rt){fe=so(fe),Me=Ni(Me);var zt=Me?vu(fe):0;return Me&&zt<Me?fe+bh(Me-zt,rt):fe}function Ab(fe,Me,rt){fe=so(fe),Me=Ni(Me);var zt=Me?vu(fe):0;return Me&&zt<Me?bh(Me-zt,rt)+fe:fe}function Mb(fe,Me,rt){return rt||Me==null?Me=0:Me&&(Me=+Me),al(so(fe).replace(ke,""),Me||0)}function Sb(fe,Me,rt){return(rt?Yn(fe,Me,rt):Me===Q)?Me=1:Me=Ni(Me),fn(so(fe),Me)}function Eb(){var fe=arguments,Me=so(fe[0]);return fe.length<3?Me:Me.replace(fe[1],fe[2])}var zy=yc(function(fe,Me,rt){return fe+(rt?"_":"")+Me.toLowerCase()});function Lv(fe,Me,rt){return rt&&typeof rt!="number"&&Yn(fe,Me,rt)&&(Me=rt=Q),rt=rt===Q?b:rt>>>0,rt?(fe=so(fe),fe&&(typeof Me=="string"||Me!=null&&!pp(Me))&&(Me=$a(Me),!Me&&$l(fe))?Io(Zs(fe),0,rt):fe.split(Me,rt)):[]}var Kf=yc(function(fe,Me,rt){return fe+(rt?" ":"")+Tp(Me)});function G0(fe,Me,rt){return fe=so(fe),rt=rt==null?0:Ls(Ni(rt),0,fe.length),Me=$a(Me),fe.slice(rt,rt+Me.length)==Me}function Fy(fe,Me,rt){var zt=Lr.templateSettings;rt&&Yn(fe,Me,rt)&&(Me=Q),fe=so(fe),Me=Ed({},Me,zt,jc);var lr=Ed({},Me.imports,zt.imports,jc),Or=is(lr),un=gs(lr,Or),gn,In,ha=0,la=Me.interpolate||qt,Ta="__p += '",ja=bl((Me.escape||qt).source+"|"+la.source+"|"+(la===at?lt:qt).source+"|"+(Me.evaluate||qt).source+"|$","g"),Ga="//# sourceURL="+(ji.call(Me,"sourceURL")?(Me.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mr+"]")+`
`;fe.replace(ja,function(vi,Ji,qi,uu,Pl,ku){return qi||(qi=uu),Ta+=fe.slice(ha,ku).replace(nr,Jl),Ji&&(gn=!0,Ta+=`' +
__e(`+Ji+`) +
'`),Pl&&(In=!0,Ta+=`';
`+Pl+`;
__p += '`),qi&&(Ta+=`' +
((__t = (`+qi+`)) == null ? '' : __t) +
'`),ha=ku+vi.length,vi}),Ta+=`';
`;var hi=ji.call(Me,"variable")&&Me.variable;if(!hi)Ta=`with (obj) {
`+Ta+`
}
`;else if(et.test(hi))throw new li(U);Ta=(In?Ta.replace(ft,""):Ta).replace(gt,"$1").replace(ct,"$1;"),Ta="function("+(hi||"obj")+`) {
`+(hi?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(gn?", __e = _.escape":"")+(In?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ta+`return __p
}`;var qa=Kh(function(){return Ii(Or,Ga+"return "+Ta).apply(Q,un)});if(qa.source=Ta,z0(qa))throw qa;return qa}function Ny(fe){return so(fe).toLowerCase()}function Cb(fe){return so(fe).toUpperCase()}function By(fe,Me,rt){if(fe=so(fe),fe&&(rt||Me===Q))return Wo(fe);if(!fe||!(Me=$a(Me)))return fe;var zt=Zs(fe),lr=Zs(Me),Or=ys(zt,lr),un=fh(zt,lr)+1;return Io(zt,Or,un).join("")}function Uy(fe,Me,rt){if(fe=so(fe),fe&&(rt||Me===Q))return fe.slice(0,ql(fe)+1);if(!fe||!(Me=$a(Me)))return fe;var zt=Zs(fe),lr=fh(zt,Zs(Me))+1;return Io(zt,0,lr).join("")}function Vy(fe,Me,rt){if(fe=so(fe),fe&&(rt||Me===Q))return fe.replace(ke,"");if(!fe||!(Me=$a(Me)))return fe;var zt=Zs(fe),lr=ys(zt,Zs(Me));return Io(zt,lr).join("")}function Hy(fe,Me){var rt=c,zt=o;if(as(Me)){var lr="separator"in Me?Me.separator:lr;rt="length"in Me?Ni(Me.length):rt,zt="omission"in Me?$a(Me.omission):zt}fe=so(fe);var Or=fe.length;if($l(fe)){var un=Zs(fe);Or=un.length}if(rt>=Or)return fe;var gn=rt-vu(zt);if(gn<1)return zt;var In=un?Io(un,0,gn).join(""):fe.slice(0,gn);if(lr===Q)return In+zt;if(un&&(gn+=In.length-gn),pp(lr)){if(fe.slice(gn).search(lr)){var ha,la=In;for(lr.global||(lr=bl(lr.source,so(jt.exec(lr))+"g")),lr.lastIndex=0;ha=lr.exec(la);)var Ta=ha.index;In=In.slice(0,Ta===Q?gn:Ta)}}else if(fe.indexOf($a(lr),gn)!=gn){var ja=In.lastIndexOf(lr);ja>-1&&(In=In.slice(0,ja))}return In+zt}function Lb(fe){return fe=so(fe),fe&&pt.test(fe)?fe.replace(nt,Xu):fe}var _b=yc(function(fe,Me,rt){return fe+(rt?" ":"")+Me.toUpperCase()}),Tp=vv("toUpperCase");function W0(fe,Me,rt){return fe=so(fe),Me=rt?Q:Me,Me===Q?ch(fe)?vh(fe):Dc(fe):fe.match(Me)||[]}var Kh=Dn(function(fe,Me){try{return Ln(fe,Q,Me)}catch(rt){return z0(rt)?rt:new li(rt)}}),Gy=Yf(function(fe,Me){return Rn(Me,function(rt){rt=ns(rt),Ks(fe,rt,I0(fe[rt],fe))}),fe});function Ap(fe){var Me=fe==null?0:fe.length,rt=re();return fe=Me?Ra(fe,function(zt){if(typeof zt[1]!="function")throw new Ms(H);return[rt(zt[0]),zt[1]]}):[],Dn(function(zt){for(var lr=-1;++lr<Me;){var Or=fe[lr];if(Ln(Or[0],this,zt))return Ln(Or[1],this,zt)}})}function Wy(fe){return Uf(_s(fe,n))}function _v(fe){return function(){return fe}}function Mp(fe,Me){return fe==null||fe!==fe?Me:fe}var Pb=sl(),Sp=sl(!0);function Vs(fe){return fe}function Y0(fe){return Be(typeof fe=="function"?fe:_s(fe,n))}function Rb(fe){return Et(_s(fe,n))}function Db(fe,Me){return Yt(fe,_s(Me,n))}var Pv=Dn(function(fe,Me){return function(rt){return Nn(rt,fe,Me)}}),Ib=Dn(function(fe,Me){return function(rt){return Nn(fe,rt,Me)}});function X0(fe,Me,rt){var zt=is(Me),lr=Ot(Me,zt);rt==null&&!(as(Me)&&(lr.length||!zt.length))&&(rt=Me,Me=fe,fe=this,lr=Ot(Me,is(Me)));var Or=!(as(rt)&&"chain"in rt)||!!rt.chain,un=$c(fe);return Rn(lr,function(gn){var In=Me[gn];fe[gn]=In,un&&(fe.prototype[gn]=function(){var ha=this.__chain__;if(Or||ha){var la=fe(this.__wrapped__),Ta=la.__actions__=Rs(this.__actions__);return Ta.push({func:In,args:arguments,thisArg:fe}),la.__chain__=ha,la}return In.apply(fe,Di([this.value()],arguments))})}),fe}function Rv(){return Ar._===this&&(Ar._=Ju),this}function Pd(){}function Yy(fe){return fe=Ni(fe),Dn(function(Me){return Ir(Me,fe)})}var kb=mc(Ra),Z0=mc(Kn),Ob=mc(cs);function Dv(fe){return ra(fe)?Kl(ns(fe)):Fr(fe)}function _h(fe){return function(Me){return fe==null?Q:Ut(fe,Me)}}var Xy=wh(),Zy=wh(!0);function j0(){return[]}function K0(){return!1}function zb(){return{}}function Fb(){return""}function Ep(){return!0}function J0(fe,Me){if(fe=Ni(fe),fe<1||fe>M)return[];var rt=b,zt=uo(fe,b);Me=re(Me),fe-=b;for(var lr=Do(zt,Me);++rt<fe;)Me(rt);return lr}function Nb(fe){return Ri(fe)?Ra(fe,ns):Du(fe)?[fe]:Rs(rs(so(fe)))}function Iv(fe){var Me=++Ku;return so(fe)+Me}var Rd=Zc(function(fe,Me){return fe+Me},0),io=pv("ceil"),Bb=Zc(function(fe,Me){return fe/Me},1),Ub=pv("floor");function Vb(fe){return fe&&fe.length?cf(fe,Vs,cr):Q}function $0(fe,Me){return fe&&fe.length?cf(fe,re(Me,2),cr):Q}function kv(fe){return hs(fe,Vs)}function Hb(fe,Me){return hs(fe,re(Me,2))}function Gb(fe){return fe&&fe.length?cf(fe,Vs,ht):Q}function Wb(fe,Me){return fe&&fe.length?cf(fe,re(Me,2),ht):Q}var Yb=Zc(function(fe,Me){return fe*Me},1),Xb=pv("round"),Zb=Zc(function(fe,Me){return fe-Me},0);function jb(fe){return fe&&fe.length?Mo(fe,Vs):0}function Kb(fe,Me){return fe&&fe.length?Mo(fe,re(Me,2)):0}return Lr.after=Sx,Lr.ary=vp,Lr.assign=po,Lr.assignIn=mp,Lr.assignInWith=Ed,Lr.assignWith=tb,Lr.at=Ey,Lr.before=dp,Lr.bind=I0,Lr.bindAll=Gy,Lr.bindKey=gf,Lr.castArray=Ox,Lr.chain=oy,Lr.chunk=Kc,Lr.compact=df,Lr.concat=ll,Lr.cond=Ap,Lr.conforms=Wy,Lr.constant=_v,Lr.countBy=gx,Lr.create=rb,Lr.curry=hy,Lr.curryRight=vy,Lr.debounce=dy,Lr.defaults=Qc,Lr.defaultsDeep=Sv,Lr.defer=Ex,Lr.delay=Cx,Lr.difference=pf,Lr.differenceBy=Sl,Lr.differenceWith=ul,Lr.drop=Pu,Lr.dropRight=Xf,Lr.dropRightWhile=Ru,Lr.dropWhile=yv,Lr.fill=Th,Lr.filter=mx,Lr.flatMap=P0,Lr.flatMapDeep=wx,Lr.flatMapDepth=wv,Lr.flatten=Ah,Lr.flattenDeep=Qs,Lr.flattenDepth=Mh,Lr.flip=Lx,Lr.flow=Pb,Lr.flowRight=Sp,Lr.fromPairs=mv,Lr.functions=lb,Lr.functionsIn=ub,Lr.groupBy=up,Lr.initial=Sh,Lr.intersection=Eh,Lr.intersectionBy=Ho,Lr.intersectionWith=El,Lr.invert=cb,Lr.invertBy=hb,Lr.invokeMap=fp,Lr.iteratee=Y0,Lr.keyBy=cp,Lr.keys=is,Lr.keysIn=Hl,Lr.map=hp,Lr.mapKeys=vb,Lr.mapValues=db,Lr.matches=Rb,Lr.matchesProperty=Db,Lr.memoize=Td,Lr.merge=pb,Lr.mergeWith=bp,Lr.method=Pv,Lr.methodOf=Ib,Lr.mixin=X0,Lr.negate=Jc,Lr.nthArg=Yy,Lr.omit=gb,Lr.omitBy=yb,Lr.once=_x,Lr.orderBy=xd,Lr.over=kb,Lr.overArgs=Px,Lr.overEvery=Z0,Lr.overSome=Ob,Lr.partial=k0,Lr.partialRight=py,Lr.partition=Tx,Lr.pick=mb,Lr.pickBy=Ly,Lr.property=Dv,Lr.propertyOf=_h,Lr.pull=T0,Lr.pullAll=Ch,Lr.pullAllBy=A0,Lr.pullAllWith=bv,Lr.pullAt=M0,Lr.range=Xy,Lr.rangeRight=Zy,Lr.rearg=gy,Lr.reject=bd,Lr.remove=S0,Lr.rest=yy,Lr.reverse=Xh,Lr.sampleSize=D0,Lr.set=Py,Lr.setWith=Gl,Lr.shuffle=Ax,Lr.slice=X1,Lr.sortBy=Mx,Lr.sortedUniq=sp,Lr.sortedUniqBy=q1,Lr.split=Lv,Lr.spread=Rx,Lr.tail=ex,Lr.take=tx,Lr.takeRight=rx,Lr.takeRightWhile=ty,Lr.takeWhile=nx,Lr.tap=lp,Lr.throttle=Dx,Lr.thru=yd,Lr.toArray=My,Lr.toPairs=Cd,Lr.toPairsIn=Ev,Lr.toPath=Nb,Lr.toPlainObject=Sy,Lr.transform=Ld,Lr.unary=Ix,Lr.union=ry,Lr.unionBy=E0,Lr.unionWith=ny,Lr.uniq=C0,Lr.uniqBy=Zh,Lr.uniqWith=Ll,Lr.unset=lu,Lr.unzip=L0,Lr.unzipWith=ay,Lr.update=_d,Lr.updateWith=xb,Lr.values=jh,Lr.valuesIn=Ry,Lr.without=iy,Lr.words=W0,Lr.wrap=kx,Lr.xor=ax,Lr.xorBy=ix,Lr.xorWith=ox,Lr.zip=sx,Lr.zipObject=lx,Lr.zipObjectDeep=ux,Lr.zipWith=_0,Lr.entries=Cd,Lr.entriesIn=Ev,Lr.extend=mp,Lr.extendWith=Ed,X0(Lr,Lr),Lr.add=Rd,Lr.attempt=Kh,Lr.camelCase=wp,Lr.capitalize=jf,Lr.ceil=io,Lr.clamp=Cv,Lr.clone=zx,Lr.cloneDeep=Nx,Lr.cloneDeepWith=Av,Lr.cloneWith=Fx,Lr.conformsTo=Bx,Lr.deburr=_l,Lr.defaultTo=Mp,Lr.divide=Bb,Lr.endsWith=Dy,Lr.eq=Zf,Lr.escape=wb,Lr.escapeRegExp=Iy,Lr.every=yx,Lr.find=xx,Lr.findIndex=ds,Lr.findKey=nb,Lr.findLast=bx,Lr.findLastIndex=Wh,Lr.findLastKey=ab,Lr.floor=Ub,Lr.forEach=sy,Lr.forEachRight=Jo,Lr.forIn=ib,Lr.forInRight=Cy,Lr.forOwn=ob,Lr.forOwnRight=sb,Lr.get=B0,Lr.gt=O0,Lr.gte=Ad,Lr.has=fb,Lr.hasIn=U0,Lr.head=Yh,Lr.identity=Vs,Lr.includes=ly,Lr.indexOf=xv,Lr.inRange=qs,Lr.invoke=xp,Lr.isArguments=cl,Lr.isArray=Ri,Lr.isArrayBuffer=Ux,Lr.isArrayLike=su,Lr.isArrayLikeObject=xs,Lr.isBoolean=Vx,Lr.isBuffer=yf,Lr.isDate=my,Lr.isElement=Hx,Lr.isEmpty=Gx,Lr.isEqual=Wx,Lr.isEqualWith=Yx,Lr.isError=z0,Lr.isFinite=Xx,Lr.isFunction=$c,Lr.isInteger=xy,Lr.isLength=Md,Lr.isMap=by,Lr.isMatch=Zx,Lr.isMatchWith=wy,Lr.isNaN=Ty,Lr.isNative=hl,Lr.isNil=Kx,Lr.isNull=jx,Lr.isNumber=F0,Lr.isObject=as,Lr.isObjectLike=ps,Lr.isPlainObject=Sd,Lr.isRegExp=pp,Lr.isSafeInteger=Jx,Lr.isSet=N0,Lr.isString=gp,Lr.isSymbol=Du,Lr.isTypedArray=Mv,Lr.isUndefined=$x,Lr.isWeakMap=Ay,Lr.isWeakSet=Qx,Lr.join=Cl,Lr.kebabCase=Tb,Lr.last=fl,Lr.lastIndexOf=gd,Lr.lowerCase=ky,Lr.lowerFirst=Oy,Lr.lt=qx,Lr.lte=eb,Lr.max=Vb,Lr.maxBy=$0,Lr.mean=kv,Lr.meanBy=Hb,Lr.min=Gb,Lr.minBy=Wb,Lr.stubArray=j0,Lr.stubFalse=K0,Lr.stubObject=zb,Lr.stubString=Fb,Lr.stubTrue=Ep,Lr.multiply=Yb,Lr.nth=w0,Lr.noConflict=Rv,Lr.noop=Pd,Lr.now=Tv,Lr.pad=V0,Lr.padEnd=H0,Lr.padStart=Ab,Lr.parseInt=Mb,Lr.random=bb,Lr.reduce=uy,Lr.reduceRight=fy,Lr.repeat=Sb,Lr.replace=Eb,Lr.result=_y,Lr.round=Xb,Lr.runInContext=En,Lr.sample=R0,Lr.size=cy,Lr.snakeCase=zy,Lr.some=wd,Lr.sortedIndex=Z1,Lr.sortedIndexBy=j1,Lr.sortedIndexOf=K1,Lr.sortedLastIndex=J1,Lr.sortedLastIndexBy=$1,Lr.sortedLastIndexOf=Q1,Lr.startCase=Kf,Lr.startsWith=G0,Lr.subtract=Zb,Lr.sum=jb,Lr.sumBy=Kb,Lr.template=Fy,Lr.times=J0,Lr.toFinite=Iu,Lr.toInteger=Ni,Lr.toLength=bs,Lr.toLower=Ny,Lr.toNumber=mf,Lr.toSafeInteger=yp,Lr.toString=so,Lr.toUpper=Cb,Lr.trim=By,Lr.trimEnd=Uy,Lr.trimStart=Vy,Lr.truncate=Hy,Lr.unescape=Lb,Lr.uniqueId=Iv,Lr.upperCase=_b,Lr.upperFirst=Tp,Lr.each=sy,Lr.eachRight=Jo,Lr.first=Yh,X0(Lr,function(){var fe={};return At(Lr,function(Me,rt){ji.call(Lr.prototype,rt)||(fe[rt]=Me)}),fe}(),{chain:!1}),Lr.VERSION=de,Rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(fe){Lr[fe].placeholder=Lr}),Rn(["drop","take"],function(fe,Me){yi.prototype[fe]=function(rt){rt=rt===Q?1:lo(Ni(rt),0);var zt=this.__filtered__&&!Me?new yi(this):this.clone();return zt.__filtered__?zt.__takeCount__=uo(rt,zt.__takeCount__):zt.__views__.push({size:uo(rt,b),type:fe+(zt.__dir__<0?"Right":"")}),zt},yi.prototype[fe+"Right"]=function(rt){return this.reverse()[fe](rt).reverse()}}),Rn(["filter","map","takeWhile"],function(fe,Me){var rt=Me+1,zt=rt==A||rt==y;yi.prototype[fe]=function(lr){var Or=this.clone();return Or.__iteratees__.push({iteratee:re(lr,3),type:rt}),Or.__filtered__=Or.__filtered__||zt,Or}}),Rn(["head","last"],function(fe,Me){var rt="take"+(Me?"Right":"");yi.prototype[fe]=function(){return this[rt](1).value()[0]}}),Rn(["initial","tail"],function(fe,Me){var rt="drop"+(Me?"":"Right");yi.prototype[fe]=function(){return this.__filtered__?new yi(this):this[rt](1)}}),yi.prototype.compact=function(){return this.filter(Vs)},yi.prototype.find=function(fe){return this.filter(fe).head()},yi.prototype.findLast=function(fe){return this.reverse().find(fe)},yi.prototype.invokeMap=Dn(function(fe,Me){return typeof fe=="function"?new yi(this):this.map(function(rt){return Nn(rt,fe,Me)})}),yi.prototype.reject=function(fe){return this.filter(Jc(re(fe)))},yi.prototype.slice=function(fe,Me){fe=Ni(fe);var rt=this;return rt.__filtered__&&(fe>0||Me<0)?new yi(rt):(fe<0?rt=rt.takeRight(-fe):fe&&(rt=rt.drop(fe)),Me!==Q&&(Me=Ni(Me),rt=Me<0?rt.dropRight(-Me):rt.take(Me-fe)),rt)},yi.prototype.takeRightWhile=function(fe){return this.reverse().takeWhile(fe).reverse()},yi.prototype.toArray=function(){return this.take(b)},At(yi.prototype,function(fe,Me){var rt=/^(?:filter|find|map|reject)|While$/.test(Me),zt=/^(?:head|last)$/.test(Me),lr=Lr[zt?"take"+(Me=="last"?"Right":""):Me],Or=zt||/^find/.test(Me);lr&&(Lr.prototype[Me]=function(){var un=this.__wrapped__,gn=zt?[1]:arguments,In=un instanceof yi,ha=gn[0],la=In||Ri(un),Ta=function(Ji){var qi=lr.apply(Lr,Di([Ji],gn));return zt&&ja?qi[0]:qi};la&&rt&&typeof ha=="function"&&ha.length!=1&&(In=la=!1);var ja=this.__chain__,Ga=!!this.__actions__.length,hi=Or&&!ja,qa=In&&!Ga;if(!Or&&la){un=qa?un:new yi(this);var vi=fe.apply(un,gn);return vi.__actions__.push({func:yd,args:[Ta],thisArg:Q}),new Po(vi,ja)}return hi&&qa?fe.apply(this,gn):(vi=this.thru(Ta),hi?zt?vi.value()[0]:vi.value():vi)})}),Rn(["pop","push","shift","sort","splice","unshift"],function(fe){var Me=kl[fe],rt=/^(?:push|sort|unshift)$/.test(fe)?"tap":"thru",zt=/^(?:pop|shift)$/.test(fe);Lr.prototype[fe]=function(){var lr=arguments;if(zt&&!this.__chain__){var Or=this.value();return Me.apply(Ri(Or)?Or:[],lr)}return this[rt](function(un){return Me.apply(Ri(un)?un:[],lr)})}}),At(yi.prototype,function(fe,Me){var rt=Lr[Me];if(rt){var zt=rt.name+"";ji.call(So,zt)||(So[zt]=[]),So[zt].push({name:Me,func:rt})}}),So[iu(Q,t).name]=[{name:"wrapper",func:Q}],yi.prototype.clone=nf,yi.prototype.reverse=cc,yi.prototype.value=wu,Lr.prototype.at=Lh,Lr.prototype.chain=md,Lr.prototype.commit=fx,Lr.prototype.next=cx,Lr.prototype.plant=vx,Lr.prototype.reverse=dx,Lr.prototype.toJSON=Lr.prototype.valueOf=Lr.prototype.value=px,Lr.prototype.first=Lr.prototype.head,Hi&&(Lr.prototype[Hi]=hx),Lr},Zu=Il();Cr?((Cr.exports=Zu)._=Zu,Gr._=Zu):Ar._=Zu}).call(ag)})(a1,a1.exports);var wI=a1.exports;const el=mM(wI);class np extends Error{}class TI extends np{constructor(z){super(`Invalid DateTime: ${z.toMessage()}`)}}class AI extends np{constructor(z){super(`Invalid Interval: ${z.toMessage()}`)}}class MI extends np{constructor(z){super(`Invalid Duration: ${z.toMessage()}`)}}class Hp extends np{}class xM extends np{constructor(z){super(`Invalid unit ${z}`)}}class Tf extends np{}class Gv extends np{constructor(){super("Zone is an abstract class")}}const Ka="numeric",lh="short",qf="long",i1={year:Ka,month:Ka,day:Ka},bM={year:Ka,month:lh,day:Ka},SI={year:Ka,month:lh,day:Ka,weekday:lh},wM={year:Ka,month:qf,day:Ka},TM={year:Ka,month:qf,day:Ka,weekday:qf},AM={hour:Ka,minute:Ka},MM={hour:Ka,minute:Ka,second:Ka},SM={hour:Ka,minute:Ka,second:Ka,timeZoneName:lh},EM={hour:Ka,minute:Ka,second:Ka,timeZoneName:qf},CM={hour:Ka,minute:Ka,hourCycle:"h23"},LM={hour:Ka,minute:Ka,second:Ka,hourCycle:"h23"},_M={hour:Ka,minute:Ka,second:Ka,hourCycle:"h23",timeZoneName:lh},PM={hour:Ka,minute:Ka,second:Ka,hourCycle:"h23",timeZoneName:qf},RM={year:Ka,month:Ka,day:Ka,hour:Ka,minute:Ka},DM={year:Ka,month:Ka,day:Ka,hour:Ka,minute:Ka,second:Ka},IM={year:Ka,month:lh,day:Ka,hour:Ka,minute:Ka},kM={year:Ka,month:lh,day:Ka,hour:Ka,minute:Ka,second:Ka},EI={year:Ka,month:lh,day:Ka,weekday:lh,hour:Ka,minute:Ka},OM={year:Ka,month:qf,day:Ka,hour:Ka,minute:Ka,timeZoneName:lh},zM={year:Ka,month:qf,day:Ka,hour:Ka,minute:Ka,second:Ka,timeZoneName:lh},FM={year:Ka,month:qf,day:Ka,weekday:qf,hour:Ka,minute:Ka,timeZoneName:qf},NM={year:Ka,month:qf,day:Ka,weekday:qf,hour:Ka,minute:Ka,second:Ka,timeZoneName:qf};class $g{get type(){throw new Gv}get name(){throw new Gv}get ianaName(){return this.name}get isUniversal(){throw new Gv}offsetName(z,Q){throw new Gv}formatOffset(z,Q){throw new Gv}offset(z){throw new Gv}equals(z){throw new Gv}get isValid(){throw new Gv}}let R3=null;class V1 extends $g{static get instance(){return R3===null&&(R3=new V1),R3}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(z,{format:Q,locale:de}){return ZM(z,Q,de)}formatOffset(z,Q){return wg(this.offset(z),Q)}offset(z){return-new Date(z).getTimezoneOffset()}equals(z){return z.type==="system"}get isValid(){return!0}}let Nm={};function CI(G){return Nm[G]||(Nm[G]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:G,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Nm[G]}const LI={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function _I(G,z){const Q=G.format(z).replace(/\u200E/g,""),de=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Q),[,Le,We,H,U,e,d,C]=de;return[H,Le,We,U,e,d,C]}function PI(G,z){const Q=G.formatToParts(z),de=[];for(let Le=0;Le<Q.length;Le++){const{type:We,value:H}=Q[Le],U=LI[We];We==="era"?de[U]=H:ki(U)||(de[U]=parseInt(H,10))}return de}let wm={};class uv extends $g{static create(z){return wm[z]||(wm[z]=new uv(z)),wm[z]}static resetCache(){wm={},Nm={}}static isValidSpecifier(z){return this.isValidZone(z)}static isValidZone(z){if(!z)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:z}).format(),!0}catch{return!1}}constructor(z){super(),this.zoneName=z,this.valid=uv.isValidZone(z)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(z,{format:Q,locale:de}){return ZM(z,Q,de,this.name)}formatOffset(z,Q){return wg(this.offset(z),Q)}offset(z){const Q=new Date(z);if(isNaN(Q))return NaN;const de=CI(this.name);let[Le,We,H,U,e,d,C]=de.formatToParts?PI(de,Q):_I(de,Q);U==="BC"&&(Le=-Math.abs(Le)+1);const L=G1({year:Le,month:We,day:H,hour:e===24?0:e,minute:d,second:C,millisecond:0});let w=+Q;const v=w%1e3;return w-=v>=0?v:1e3+v,(L-w)/(60*1e3)}equals(z){return z.type==="iana"&&z.name===this.name}get isValid(){return this.valid}}let K4={};function RI(G,z={}){const Q=JSON.stringify([G,z]);let de=K4[Q];return de||(de=new Intl.ListFormat(G,z),K4[Q]=de),de}let ww={};function Tw(G,z={}){const Q=JSON.stringify([G,z]);let de=ww[Q];return de||(de=new Intl.DateTimeFormat(G,z),ww[Q]=de),de}let Aw={};function DI(G,z={}){const Q=JSON.stringify([G,z]);let de=Aw[Q];return de||(de=new Intl.NumberFormat(G,z),Aw[Q]=de),de}let Mw={};function II(G,z={}){const{base:Q,...de}=z,Le=JSON.stringify([G,de]);let We=Mw[Le];return We||(We=new Intl.RelativeTimeFormat(G,z),Mw[Le]=We),We}let fg=null;function kI(){return fg||(fg=new Intl.DateTimeFormat().resolvedOptions().locale,fg)}let J4={};function OI(G){let z=J4[G];if(!z){const Q=new Intl.Locale(G);z="getWeekInfo"in Q?Q.getWeekInfo():Q.weekInfo,J4[G]=z}return z}function zI(G){const z=G.indexOf("-x-");z!==-1&&(G=G.substring(0,z));const Q=G.indexOf("-u-");if(Q===-1)return[G];{let de,Le;try{de=Tw(G).resolvedOptions(),Le=G}catch{const e=G.substring(0,Q);de=Tw(e).resolvedOptions(),Le=e}const{numberingSystem:We,calendar:H}=de;return[Le,We,H]}}function FI(G,z,Q){return(Q||z)&&(G.includes("-u-")||(G+="-u"),Q&&(G+=`-ca-${Q}`),z&&(G+=`-nu-${z}`)),G}function NI(G){const z=[];for(let Q=1;Q<=12;Q++){const de=Bi.utc(2009,Q,1);z.push(G(de))}return z}function BI(G){const z=[];for(let Q=1;Q<=7;Q++){const de=Bi.utc(2016,11,13+Q);z.push(G(de))}return z}function Tm(G,z,Q,de){const Le=G.listingMode();return Le==="error"?null:Le==="en"?Q(z):de(z)}function UI(G){return G.numberingSystem&&G.numberingSystem!=="latn"?!1:G.numberingSystem==="latn"||!G.locale||G.locale.startsWith("en")||new Intl.DateTimeFormat(G.intl).resolvedOptions().numberingSystem==="latn"}class VI{constructor(z,Q,de){this.padTo=de.padTo||0,this.floor=de.floor||!1;const{padTo:Le,floor:We,...H}=de;if(!Q||Object.keys(H).length>0){const U={useGrouping:!1,...de};de.padTo>0&&(U.minimumIntegerDigits=de.padTo),this.inf=DI(z,U)}}format(z){if(this.inf){const Q=this.floor?Math.floor(z):z;return this.inf.format(Q)}else{const Q=this.floor?Math.floor(z):P2(z,3);return tl(Q,this.padTo)}}}class HI{constructor(z,Q,de){this.opts=de,this.originalZone=void 0;let Le;if(this.opts.timeZone)this.dt=z;else if(z.zone.type==="fixed"){const H=-1*(z.offset/60),U=H>=0?`Etc/GMT+${H}`:`Etc/GMT${H}`;z.offset!==0&&uv.create(U).valid?(Le=U,this.dt=z):(Le="UTC",this.dt=z.offset===0?z:z.setZone("UTC").plus({minutes:z.offset}),this.originalZone=z.zone)}else z.zone.type==="system"?this.dt=z:z.zone.type==="iana"?(this.dt=z,Le=z.zone.name):(Le="UTC",this.dt=z.setZone("UTC").plus({minutes:z.offset}),this.originalZone=z.zone);const We={...this.opts};We.timeZone=We.timeZone||Le,this.dtf=Tw(Q,We)}format(){return this.originalZone?this.formatToParts().map(({value:z})=>z).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const z=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?z.map(Q=>{if(Q.type==="timeZoneName"){const de=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...Q,value:de}}else return Q}):z}resolvedOptions(){return this.dtf.resolvedOptions()}}class GI{constructor(z,Q,de){this.opts={style:"long",...de},!Q&&YM()&&(this.rtf=II(z,de))}format(z,Q){return this.rtf?this.rtf.format(z,Q):uk(Q,z,this.opts.numeric,this.opts.style!=="long")}formatToParts(z,Q){return this.rtf?this.rtf.formatToParts(z,Q):[]}}const WI={firstDay:1,minimalDays:4,weekend:[6,7]};class Fo{static fromOpts(z){return Fo.create(z.locale,z.numberingSystem,z.outputCalendar,z.weekSettings,z.defaultToEN)}static create(z,Q,de,Le,We=!1){const H=z||Ys.defaultLocale,U=H||(We?"en-US":kI()),e=Q||Ys.defaultNumberingSystem,d=de||Ys.defaultOutputCalendar,C=Sw(Le)||Ys.defaultWeekSettings;return new Fo(U,e,d,C,H)}static resetCache(){fg=null,ww={},Aw={},Mw={}}static fromObject({locale:z,numberingSystem:Q,outputCalendar:de,weekSettings:Le}={}){return Fo.create(z,Q,de,Le)}constructor(z,Q,de,Le,We){const[H,U,e]=zI(z);this.locale=H,this.numberingSystem=Q||U||null,this.outputCalendar=de||e||null,this.weekSettings=Le,this.intl=FI(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=We,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=UI(this)),this.fastNumbersCached}listingMode(){const z=this.isEnglish(),Q=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return z&&Q?"en":"intl"}clone(z){return!z||Object.getOwnPropertyNames(z).length===0?this:Fo.create(z.locale||this.specifiedLocale,z.numberingSystem||this.numberingSystem,z.outputCalendar||this.outputCalendar,Sw(z.weekSettings)||this.weekSettings,z.defaultToEN||!1)}redefaultToEN(z={}){return this.clone({...z,defaultToEN:!0})}redefaultToSystem(z={}){return this.clone({...z,defaultToEN:!1})}months(z,Q=!1){return Tm(this,z,JM,()=>{const de=Q?{month:z,day:"numeric"}:{month:z},Le=Q?"format":"standalone";return this.monthsCache[Le][z]||(this.monthsCache[Le][z]=NI(We=>this.extract(We,de,"month"))),this.monthsCache[Le][z]})}weekdays(z,Q=!1){return Tm(this,z,qM,()=>{const de=Q?{weekday:z,year:"numeric",month:"long",day:"numeric"}:{weekday:z},Le=Q?"format":"standalone";return this.weekdaysCache[Le][z]||(this.weekdaysCache[Le][z]=BI(We=>this.extract(We,de,"weekday"))),this.weekdaysCache[Le][z]})}meridiems(){return Tm(this,void 0,()=>eS,()=>{if(!this.meridiemCache){const z={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Bi.utc(2016,11,13,9),Bi.utc(2016,11,13,19)].map(Q=>this.extract(Q,z,"dayperiod"))}return this.meridiemCache})}eras(z){return Tm(this,z,tS,()=>{const Q={era:z};return this.eraCache[z]||(this.eraCache[z]=[Bi.utc(-40,1,1),Bi.utc(2017,1,1)].map(de=>this.extract(de,Q,"era"))),this.eraCache[z]})}extract(z,Q,de){const Le=this.dtFormatter(z,Q),We=Le.formatToParts(),H=We.find(U=>U.type.toLowerCase()===de);return H?H.value:null}numberFormatter(z={}){return new VI(this.intl,z.forceSimple||this.fastNumbers,z)}dtFormatter(z,Q={}){return new HI(z,this.intl,Q)}relFormatter(z={}){return new GI(this.intl,this.isEnglish(),z)}listFormatter(z={}){return RI(this.intl,z)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:XM()?OI(this.locale):WI}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(z){return this.locale===z.locale&&this.numberingSystem===z.numberingSystem&&this.outputCalendar===z.outputCalendar}}let D3=null;class Fu extends $g{static get utcInstance(){return D3===null&&(D3=new Fu(0)),D3}static instance(z){return z===0?Fu.utcInstance:new Fu(z)}static parseSpecifier(z){if(z){const Q=z.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(Q)return new Fu(W1(Q[1],Q[2]))}return null}constructor(z){super(),this.fixed=z}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${wg(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${wg(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(z,Q){return wg(this.fixed,Q)}get isUniversal(){return!0}offset(){return this.fixed}equals(z){return z.type==="fixed"&&z.fixed===this.fixed}get isValid(){return!0}}class YI extends $g{constructor(z){super(),this.zoneName=z}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function $v(G,z){if(ki(G)||G===null)return z;if(G instanceof $g)return G;if(jI(G)){const Q=G.toLowerCase();return Q==="default"?z:Q==="local"||Q==="system"?V1.instance:Q==="utc"||Q==="gmt"?Fu.utcInstance:Fu.parseSpecifier(Q)||uv.create(G)}else return jd(G)?Fu.instance(G):typeof G=="object"&&"offset"in G&&typeof G.offset=="function"?G:new YI(G)}let $4=()=>Date.now(),Q4="system",q4=null,eA=null,tA=null,rA=60,nA,aA=null;class Ys{static get now(){return $4}static set now(z){$4=z}static set defaultZone(z){Q4=z}static get defaultZone(){return $v(Q4,V1.instance)}static get defaultLocale(){return q4}static set defaultLocale(z){q4=z}static get defaultNumberingSystem(){return eA}static set defaultNumberingSystem(z){eA=z}static get defaultOutputCalendar(){return tA}static set defaultOutputCalendar(z){tA=z}static get defaultWeekSettings(){return aA}static set defaultWeekSettings(z){aA=Sw(z)}static get twoDigitCutoffYear(){return rA}static set twoDigitCutoffYear(z){rA=z%100}static get throwOnInvalid(){return nA}static set throwOnInvalid(z){nA=z}static resetCaches(){Fo.resetCache(),uv.resetCache()}}class ah{constructor(z,Q){this.reason=z,this.explanation=Q}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const BM=[0,31,59,90,120,151,181,212,243,273,304,334],UM=[0,31,60,91,121,152,182,213,244,274,305,335];function Sc(G,z){return new ah("unit out of range",`you specified ${z} (of type ${typeof z}) as a ${G}, which is invalid`)}function C2(G,z,Q){const de=new Date(Date.UTC(G,z-1,Q));G<100&&G>=0&&de.setUTCFullYear(de.getUTCFullYear()-1900);const Le=de.getUTCDay();return Le===0?7:Le}function VM(G,z,Q){return Q+(Qg(G)?UM:BM)[z-1]}function HM(G,z){const Q=Qg(G)?UM:BM,de=Q.findIndex(We=>We<z),Le=z-Q[de];return{month:de+1,day:Le}}function L2(G,z){return(G-z+7)%7+1}function o1(G,z=4,Q=1){const{year:de,month:Le,day:We}=G,H=VM(de,Le,We),U=L2(C2(de,Le,We),Q);let e=Math.floor((H-U+14-z)/7),d;return e<1?(d=de-1,e=Ng(d,z,Q)):e>Ng(de,z,Q)?(d=de+1,e=1):d=de,{weekYear:d,weekNumber:e,weekday:U,...Y1(G)}}function iA(G,z=4,Q=1){const{weekYear:de,weekNumber:Le,weekday:We}=G,H=L2(C2(de,1,z),Q),U=Kp(de);let e=Le*7+We-H-7+z,d;e<1?(d=de-1,e+=Kp(d)):e>U?(d=de+1,e-=Kp(de)):d=de;const{month:C,day:n}=HM(d,e);return{year:d,month:C,day:n,...Y1(G)}}function I3(G){const{year:z,month:Q,day:de}=G,Le=VM(z,Q,de);return{year:z,ordinal:Le,...Y1(G)}}function oA(G){const{year:z,ordinal:Q}=G,{month:de,day:Le}=HM(z,Q);return{year:z,month:de,day:Le,...Y1(G)}}function sA(G,z){if(!ki(G.localWeekday)||!ki(G.localWeekNumber)||!ki(G.localWeekYear)){if(!ki(G.weekday)||!ki(G.weekNumber)||!ki(G.weekYear))throw new Hp("Cannot mix locale-based week fields with ISO-based week fields");return ki(G.localWeekday)||(G.weekday=G.localWeekday),ki(G.localWeekNumber)||(G.weekNumber=G.localWeekNumber),ki(G.localWeekYear)||(G.weekYear=G.localWeekYear),delete G.localWeekday,delete G.localWeekNumber,delete G.localWeekYear,{minDaysInFirstWeek:z.getMinDaysInFirstWeek(),startOfWeek:z.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function XI(G,z=4,Q=1){const de=H1(G.weekYear),Le=Ec(G.weekNumber,1,Ng(G.weekYear,z,Q)),We=Ec(G.weekday,1,7);return de?Le?We?!1:Sc("weekday",G.weekday):Sc("week",G.weekNumber):Sc("weekYear",G.weekYear)}function ZI(G){const z=H1(G.year),Q=Ec(G.ordinal,1,Kp(G.year));return z?Q?!1:Sc("ordinal",G.ordinal):Sc("year",G.year)}function GM(G){const z=H1(G.year),Q=Ec(G.month,1,12),de=Ec(G.day,1,s1(G.year,G.month));return z?Q?de?!1:Sc("day",G.day):Sc("month",G.month):Sc("year",G.year)}function WM(G){const{hour:z,minute:Q,second:de,millisecond:Le}=G,We=Ec(z,0,23)||z===24&&Q===0&&de===0&&Le===0,H=Ec(Q,0,59),U=Ec(de,0,59),e=Ec(Le,0,999);return We?H?U?e?!1:Sc("millisecond",Le):Sc("second",de):Sc("minute",Q):Sc("hour",z)}function ki(G){return typeof G>"u"}function jd(G){return typeof G=="number"}function H1(G){return typeof G=="number"&&G%1===0}function jI(G){return typeof G=="string"}function KI(G){return Object.prototype.toString.call(G)==="[object Date]"}function YM(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function XM(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function JI(G){return Array.isArray(G)?G:[G]}function lA(G,z,Q){if(G.length!==0)return G.reduce((de,Le)=>{const We=[z(Le),Le];return de&&Q(de[0],We[0])===de[0]?de:We},null)[1]}function $I(G,z){return z.reduce((Q,de)=>(Q[de]=G[de],Q),{})}function f0(G,z){return Object.prototype.hasOwnProperty.call(G,z)}function Sw(G){if(G==null)return null;if(typeof G!="object")throw new Tf("Week settings must be an object");if(!Ec(G.firstDay,1,7)||!Ec(G.minimalDays,1,7)||!Array.isArray(G.weekend)||G.weekend.some(z=>!Ec(z,1,7)))throw new Tf("Invalid week settings");return{firstDay:G.firstDay,minimalDays:G.minimalDays,weekend:Array.from(G.weekend)}}function Ec(G,z,Q){return H1(G)&&G>=z&&G<=Q}function QI(G,z){return G-z*Math.floor(G/z)}function tl(G,z=2){const Q=G<0;let de;return Q?de="-"+(""+-G).padStart(z,"0"):de=(""+G).padStart(z,"0"),de}function Jv(G){if(!(ki(G)||G===null||G===""))return parseInt(G,10)}function Od(G){if(!(ki(G)||G===null||G===""))return parseFloat(G)}function _2(G){if(!(ki(G)||G===null||G==="")){const z=parseFloat("0."+G)*1e3;return Math.floor(z)}}function P2(G,z,Q=!1){const de=10**z;return(Q?Math.trunc:Math.round)(G*de)/de}function Qg(G){return G%4===0&&(G%100!==0||G%400===0)}function Kp(G){return Qg(G)?366:365}function s1(G,z){const Q=QI(z-1,12)+1,de=G+(z-Q)/12;return Q===2?Qg(de)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][Q-1]}function G1(G){let z=Date.UTC(G.year,G.month-1,G.day,G.hour,G.minute,G.second,G.millisecond);return G.year<100&&G.year>=0&&(z=new Date(z),z.setUTCFullYear(G.year,G.month-1,G.day)),+z}function uA(G,z,Q){return-L2(C2(G,1,z),Q)+z-1}function Ng(G,z=4,Q=1){const de=uA(G,z,Q),Le=uA(G+1,z,Q);return(Kp(G)-de+Le)/7}function Ew(G){return G>99?G:G>Ys.twoDigitCutoffYear?1900+G:2e3+G}function ZM(G,z,Q,de=null){const Le=new Date(G),We={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};de&&(We.timeZone=de);const H={timeZoneName:z,...We},U=new Intl.DateTimeFormat(Q,H).formatToParts(Le).find(e=>e.type.toLowerCase()==="timezonename");return U?U.value:null}function W1(G,z){let Q=parseInt(G,10);Number.isNaN(Q)&&(Q=0);const de=parseInt(z,10)||0,Le=Q<0||Object.is(Q,-0)?-de:de;return Q*60+Le}function jM(G){const z=Number(G);if(typeof G=="boolean"||G===""||Number.isNaN(z))throw new Tf(`Invalid unit value ${G}`);return z}function l1(G,z){const Q={};for(const de in G)if(f0(G,de)){const Le=G[de];if(Le==null)continue;Q[z(de)]=jM(Le)}return Q}function wg(G,z){const Q=Math.trunc(Math.abs(G/60)),de=Math.trunc(Math.abs(G%60)),Le=G>=0?"+":"-";switch(z){case"short":return`${Le}${tl(Q,2)}:${tl(de,2)}`;case"narrow":return`${Le}${Q}${de>0?`:${de}`:""}`;case"techie":return`${Le}${tl(Q,2)}${tl(de,2)}`;default:throw new RangeError(`Value format ${z} is out of range for property format`)}}function Y1(G){return $I(G,["hour","minute","second","millisecond"])}const qI=["January","February","March","April","May","June","July","August","September","October","November","December"],KM=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ek=["J","F","M","A","M","J","J","A","S","O","N","D"];function JM(G){switch(G){case"narrow":return[...ek];case"short":return[...KM];case"long":return[...qI];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const $M=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],QM=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],tk=["M","T","W","T","F","S","S"];function qM(G){switch(G){case"narrow":return[...tk];case"short":return[...QM];case"long":return[...$M];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const eS=["AM","PM"],rk=["Before Christ","Anno Domini"],nk=["BC","AD"],ak=["B","A"];function tS(G){switch(G){case"narrow":return[...ak];case"short":return[...nk];case"long":return[...rk];default:return null}}function ik(G){return eS[G.hour<12?0:1]}function ok(G,z){return qM(z)[G.weekday-1]}function sk(G,z){return JM(z)[G.month-1]}function lk(G,z){return tS(z)[G.year<0?0:1]}function uk(G,z,Q="always",de=!1){const Le={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},We=["hours","minutes","seconds"].indexOf(G)===-1;if(Q==="auto"&&We){const n=G==="days";switch(z){case 1:return n?"tomorrow":`next ${Le[G][0]}`;case-1:return n?"yesterday":`last ${Le[G][0]}`;case 0:return n?"today":`this ${Le[G][0]}`}}const H=Object.is(z,-0)||z<0,U=Math.abs(z),e=U===1,d=Le[G],C=de?e?d[1]:d[2]||d[1]:e?Le[G][0]:G;return H?`${U} ${C} ago`:`in ${U} ${C}`}function fA(G,z){let Q="";for(const de of G)de.literal?Q+=de.val:Q+=z(de.val);return Q}const fk={D:i1,DD:bM,DDD:wM,DDDD:TM,t:AM,tt:MM,ttt:SM,tttt:EM,T:CM,TT:LM,TTT:_M,TTTT:PM,f:RM,ff:IM,fff:OM,ffff:FM,F:DM,FF:kM,FFF:zM,FFFF:NM};class hu{static create(z,Q={}){return new hu(z,Q)}static parseFormat(z){let Q=null,de="",Le=!1;const We=[];for(let H=0;H<z.length;H++){const U=z.charAt(H);U==="'"?(de.length>0&&We.push({literal:Le||/^\s+$/.test(de),val:de}),Q=null,de="",Le=!Le):Le||U===Q?de+=U:(de.length>0&&We.push({literal:/^\s+$/.test(de),val:de}),de=U,Q=U)}return de.length>0&&We.push({literal:Le||/^\s+$/.test(de),val:de}),We}static macroTokenToFormatOpts(z){return fk[z]}constructor(z,Q){this.opts=Q,this.loc=z,this.systemLoc=null}formatWithSystemDefault(z,Q){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(z,{...this.opts,...Q}).format()}dtFormatter(z,Q={}){return this.loc.dtFormatter(z,{...this.opts,...Q})}formatDateTime(z,Q){return this.dtFormatter(z,Q).format()}formatDateTimeParts(z,Q){return this.dtFormatter(z,Q).formatToParts()}formatInterval(z,Q){return this.dtFormatter(z.start,Q).dtf.formatRange(z.start.toJSDate(),z.end.toJSDate())}resolvedOptions(z,Q){return this.dtFormatter(z,Q).resolvedOptions()}num(z,Q=0){if(this.opts.forceSimple)return tl(z,Q);const de={...this.opts};return Q>0&&(de.padTo=Q),this.loc.numberFormatter(de).format(z)}formatDateTimeFromString(z,Q){const de=this.loc.listingMode()==="en",Le=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",We=(w,v)=>this.loc.extract(z,w,v),H=w=>z.isOffsetFixed&&z.offset===0&&w.allowZ?"Z":z.isValid?z.zone.formatOffset(z.ts,w.format):"",U=()=>de?ik(z):We({hour:"numeric",hourCycle:"h12"},"dayperiod"),e=(w,v)=>de?sk(z,w):We(v?{month:w}:{month:w,day:"numeric"},"month"),d=(w,v)=>de?ok(z,w):We(v?{weekday:w}:{weekday:w,month:"long",day:"numeric"},"weekday"),C=w=>{const v=hu.macroTokenToFormatOpts(w);return v?this.formatWithSystemDefault(z,v):w},n=w=>de?lk(z,w):We({era:w},"era"),L=w=>{switch(w){case"S":return this.num(z.millisecond);case"u":case"SSS":return this.num(z.millisecond,3);case"s":return this.num(z.second);case"ss":return this.num(z.second,2);case"uu":return this.num(Math.floor(z.millisecond/10),2);case"uuu":return this.num(Math.floor(z.millisecond/100));case"m":return this.num(z.minute);case"mm":return this.num(z.minute,2);case"h":return this.num(z.hour%12===0?12:z.hour%12);case"hh":return this.num(z.hour%12===0?12:z.hour%12,2);case"H":return this.num(z.hour);case"HH":return this.num(z.hour,2);case"Z":return H({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return H({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return H({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return z.zone.offsetName(z.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return z.zone.offsetName(z.ts,{format:"long",locale:this.loc.locale});case"z":return z.zoneName;case"a":return U();case"d":return Le?We({day:"numeric"},"day"):this.num(z.day);case"dd":return Le?We({day:"2-digit"},"day"):this.num(z.day,2);case"c":return this.num(z.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(z.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return Le?We({month:"numeric",day:"numeric"},"month"):this.num(z.month);case"LL":return Le?We({month:"2-digit",day:"numeric"},"month"):this.num(z.month,2);case"LLL":return e("short",!0);case"LLLL":return e("long",!0);case"LLLLL":return e("narrow",!0);case"M":return Le?We({month:"numeric"},"month"):this.num(z.month);case"MM":return Le?We({month:"2-digit"},"month"):this.num(z.month,2);case"MMM":return e("short",!1);case"MMMM":return e("long",!1);case"MMMMM":return e("narrow",!1);case"y":return Le?We({year:"numeric"},"year"):this.num(z.year);case"yy":return Le?We({year:"2-digit"},"year"):this.num(z.year.toString().slice(-2),2);case"yyyy":return Le?We({year:"numeric"},"year"):this.num(z.year,4);case"yyyyyy":return Le?We({year:"numeric"},"year"):this.num(z.year,6);case"G":return n("short");case"GG":return n("long");case"GGGGG":return n("narrow");case"kk":return this.num(z.weekYear.toString().slice(-2),2);case"kkkk":return this.num(z.weekYear,4);case"W":return this.num(z.weekNumber);case"WW":return this.num(z.weekNumber,2);case"n":return this.num(z.localWeekNumber);case"nn":return this.num(z.localWeekNumber,2);case"ii":return this.num(z.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(z.localWeekYear,4);case"o":return this.num(z.ordinal);case"ooo":return this.num(z.ordinal,3);case"q":return this.num(z.quarter);case"qq":return this.num(z.quarter,2);case"X":return this.num(Math.floor(z.ts/1e3));case"x":return this.num(z.ts);default:return C(w)}};return fA(hu.parseFormat(Q),L)}formatDurationFromString(z,Q){const de=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Le=e=>d=>{const C=de(d);return C?this.num(e.get(C),d.length):d},We=hu.parseFormat(Q),H=We.reduce((e,{literal:d,val:C})=>d?e:e.concat(C),[]),U=z.shiftTo(...H.map(de).filter(e=>e));return fA(We,Le(U))}}const rS=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function y0(...G){const z=G.reduce((Q,de)=>Q+de.source,"");return RegExp(`^${z}$`)}function m0(...G){return z=>G.reduce(([Q,de,Le],We)=>{const[H,U,e]=We(z,Le);return[{...Q,...H},U||de,e]},[{},null,1]).slice(0,2)}function x0(G,...z){if(G==null)return[null,null];for(const[Q,de]of z){const Le=Q.exec(G);if(Le)return de(Le)}return[null,null]}function nS(...G){return(z,Q)=>{const de={};let Le;for(Le=0;Le<G.length;Le++)de[G[Le]]=Jv(z[Q+Le]);return[de,null,Q+Le]}}const aS=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ck=`(?:${aS.source}?(?:\\[(${rS.source})\\])?)?`,R2=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,iS=RegExp(`${R2.source}${ck}`),D2=RegExp(`(?:T${iS.source})?`),hk=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,vk=/(\d{4})-?W(\d\d)(?:-?(\d))?/,dk=/(\d{4})-?(\d{3})/,pk=nS("weekYear","weekNumber","weekDay"),gk=nS("year","ordinal"),yk=/(\d{4})-(\d\d)-(\d\d)/,oS=RegExp(`${R2.source} ?(?:${aS.source}|(${rS.source}))?`),mk=RegExp(`(?: ${oS.source})?`);function Jp(G,z,Q){const de=G[z];return ki(de)?Q:Jv(de)}function xk(G,z){return[{year:Jp(G,z),month:Jp(G,z+1,1),day:Jp(G,z+2,1)},null,z+3]}function b0(G,z){return[{hours:Jp(G,z,0),minutes:Jp(G,z+1,0),seconds:Jp(G,z+2,0),milliseconds:_2(G[z+3])},null,z+4]}function qg(G,z){const Q=!G[z]&&!G[z+1],de=W1(G[z+1],G[z+2]),Le=Q?null:Fu.instance(de);return[{},Le,z+3]}function ey(G,z){const Q=G[z]?uv.create(G[z]):null;return[{},Q,z+1]}const bk=RegExp(`^T?${R2.source}$`),wk=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Tk(G){const[z,Q,de,Le,We,H,U,e,d]=G,C=z[0]==="-",n=e&&e[0]==="-",L=(w,v=!1)=>w!==void 0&&(v||w&&C)?-w:w;return[{years:L(Od(Q)),months:L(Od(de)),weeks:L(Od(Le)),days:L(Od(We)),hours:L(Od(H)),minutes:L(Od(U)),seconds:L(Od(e),e==="-0"),milliseconds:L(_2(d),n)}]}const Ak={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function I2(G,z,Q,de,Le,We,H){const U={year:z.length===2?Ew(Jv(z)):Jv(z),month:KM.indexOf(Q)+1,day:Jv(de),hour:Jv(Le),minute:Jv(We)};return H&&(U.second=Jv(H)),G&&(U.weekday=G.length>3?$M.indexOf(G)+1:QM.indexOf(G)+1),U}const Mk=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Sk(G){const[,z,Q,de,Le,We,H,U,e,d,C,n]=G,L=I2(z,Le,de,Q,We,H,U);let w;return e?w=Ak[e]:d?w=0:w=W1(C,n),[L,new Fu(w)]}function Ek(G){return G.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Ck=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Lk=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,_k=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function cA(G){const[,z,Q,de,Le,We,H,U]=G;return[I2(z,Le,de,Q,We,H,U),Fu.utcInstance]}function Pk(G){const[,z,Q,de,Le,We,H,U]=G;return[I2(z,U,Q,de,Le,We,H),Fu.utcInstance]}const Rk=y0(hk,D2),Dk=y0(vk,D2),Ik=y0(dk,D2),kk=y0(iS),sS=m0(xk,b0,qg,ey),Ok=m0(pk,b0,qg,ey),zk=m0(gk,b0,qg,ey),Fk=m0(b0,qg,ey);function Nk(G){return x0(G,[Rk,sS],[Dk,Ok],[Ik,zk],[kk,Fk])}function Bk(G){return x0(Ek(G),[Mk,Sk])}function Uk(G){return x0(G,[Ck,cA],[Lk,cA],[_k,Pk])}function Vk(G){return x0(G,[wk,Tk])}const Hk=m0(b0);function Gk(G){return x0(G,[bk,Hk])}const Wk=y0(yk,mk),Yk=y0(oS),Xk=m0(b0,qg,ey);function Zk(G){return x0(G,[Wk,sS],[Yk,Xk])}const hA="Invalid Duration",lS={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},jk={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...lS},Ac=146097/400,Ip=146097/4800,Kk={years:{quarters:4,months:12,weeks:Ac/7,days:Ac,hours:Ac*24,minutes:Ac*24*60,seconds:Ac*24*60*60,milliseconds:Ac*24*60*60*1e3},quarters:{months:3,weeks:Ac/28,days:Ac/4,hours:Ac*24/4,minutes:Ac*24*60/4,seconds:Ac*24*60*60/4,milliseconds:Ac*24*60*60*1e3/4},months:{weeks:Ip/7,days:Ip,hours:Ip*24,minutes:Ip*24*60,seconds:Ip*24*60*60,milliseconds:Ip*24*60*60*1e3},...lS},Wd=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Jk=Wd.slice(0).reverse();function Wv(G,z,Q=!1){const de={values:Q?z.values:{...G.values,...z.values||{}},loc:G.loc.clone(z.loc),conversionAccuracy:z.conversionAccuracy||G.conversionAccuracy,matrix:z.matrix||G.matrix};return new go(de)}function uS(G,z){let Q=z.milliseconds??0;for(const de of Jk.slice(1))z[de]&&(Q+=z[de]*G[de].milliseconds);return Q}function vA(G,z){const Q=uS(G,z)<0?-1:1;Wd.reduceRight((de,Le)=>{if(ki(z[Le]))return de;if(de){const We=z[de]*Q,H=G[Le][de],U=Math.floor(We/H);z[Le]+=U*Q,z[de]-=U*H*Q}return Le},null),Wd.reduce((de,Le)=>{if(ki(z[Le]))return de;if(de){const We=z[de]%1;z[de]-=We,z[Le]+=We*G[de][Le]}return Le},null)}function $k(G){const z={};for(const[Q,de]of Object.entries(G))de!==0&&(z[Q]=de);return z}class go{constructor(z){const Q=z.conversionAccuracy==="longterm"||!1;let de=Q?Kk:jk;z.matrix&&(de=z.matrix),this.values=z.values,this.loc=z.loc||Fo.create(),this.conversionAccuracy=Q?"longterm":"casual",this.invalid=z.invalid||null,this.matrix=de,this.isLuxonDuration=!0}static fromMillis(z,Q){return go.fromObject({milliseconds:z},Q)}static fromObject(z,Q={}){if(z==null||typeof z!="object")throw new Tf(`Duration.fromObject: argument expected to be an object, got ${z===null?"null":typeof z}`);return new go({values:l1(z,go.normalizeUnit),loc:Fo.fromObject(Q),conversionAccuracy:Q.conversionAccuracy,matrix:Q.matrix})}static fromDurationLike(z){if(jd(z))return go.fromMillis(z);if(go.isDuration(z))return z;if(typeof z=="object")return go.fromObject(z);throw new Tf(`Unknown duration argument ${z} of type ${typeof z}`)}static fromISO(z,Q){const[de]=Vk(z);return de?go.fromObject(de,Q):go.invalid("unparsable",`the input "${z}" can't be parsed as ISO 8601`)}static fromISOTime(z,Q){const[de]=Gk(z);return de?go.fromObject(de,Q):go.invalid("unparsable",`the input "${z}" can't be parsed as ISO 8601`)}static invalid(z,Q=null){if(!z)throw new Tf("need to specify a reason the Duration is invalid");const de=z instanceof ah?z:new ah(z,Q);if(Ys.throwOnInvalid)throw new MI(de);return new go({invalid:de})}static normalizeUnit(z){const Q={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[z&&z.toLowerCase()];if(!Q)throw new xM(z);return Q}static isDuration(z){return z&&z.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(z,Q={}){const de={...Q,floor:Q.round!==!1&&Q.floor!==!1};return this.isValid?hu.create(this.loc,de).formatDurationFromString(this,z):hA}toHuman(z={}){if(!this.isValid)return hA;const Q=Wd.map(de=>{const Le=this.values[de];return ki(Le)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...z,unit:de.slice(0,-1)}).format(Le)}).filter(de=>de);return this.loc.listFormatter({type:"conjunction",style:z.listStyle||"narrow",...z}).format(Q)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let z="P";return this.years!==0&&(z+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(z+=this.months+this.quarters*3+"M"),this.weeks!==0&&(z+=this.weeks+"W"),this.days!==0&&(z+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(z+="T"),this.hours!==0&&(z+=this.hours+"H"),this.minutes!==0&&(z+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(z+=P2(this.seconds+this.milliseconds/1e3,3)+"S"),z==="P"&&(z+="T0S"),z}toISOTime(z={}){if(!this.isValid)return null;const Q=this.toMillis();return Q<0||Q>=864e5?null:(z={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...z,includeOffset:!1},Bi.fromMillis(Q,{zone:"UTC"}).toISOTime(z))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?uS(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(z){if(!this.isValid)return this;const Q=go.fromDurationLike(z),de={};for(const Le of Wd)(f0(Q.values,Le)||f0(this.values,Le))&&(de[Le]=Q.get(Le)+this.get(Le));return Wv(this,{values:de},!0)}minus(z){if(!this.isValid)return this;const Q=go.fromDurationLike(z);return this.plus(Q.negate())}mapUnits(z){if(!this.isValid)return this;const Q={};for(const de of Object.keys(this.values))Q[de]=jM(z(this.values[de],de));return Wv(this,{values:Q},!0)}get(z){return this[go.normalizeUnit(z)]}set(z){if(!this.isValid)return this;const Q={...this.values,...l1(z,go.normalizeUnit)};return Wv(this,{values:Q})}reconfigure({locale:z,numberingSystem:Q,conversionAccuracy:de,matrix:Le}={}){const H={loc:this.loc.clone({locale:z,numberingSystem:Q}),matrix:Le,conversionAccuracy:de};return Wv(this,H)}as(z){return this.isValid?this.shiftTo(z).get(z):NaN}normalize(){if(!this.isValid)return this;const z=this.toObject();return vA(this.matrix,z),Wv(this,{values:z},!0)}rescale(){if(!this.isValid)return this;const z=$k(this.normalize().shiftToAll().toObject());return Wv(this,{values:z},!0)}shiftTo(...z){if(!this.isValid)return this;if(z.length===0)return this;z=z.map(H=>go.normalizeUnit(H));const Q={},de={},Le=this.toObject();let We;for(const H of Wd)if(z.indexOf(H)>=0){We=H;let U=0;for(const d in de)U+=this.matrix[d][H]*de[d],de[d]=0;jd(Le[H])&&(U+=Le[H]);const e=Math.trunc(U);Q[H]=e,de[H]=(U*1e3-e*1e3)/1e3}else jd(Le[H])&&(de[H]=Le[H]);for(const H in de)de[H]!==0&&(Q[We]+=H===We?de[H]:de[H]/this.matrix[We][H]);return vA(this.matrix,Q),Wv(this,{values:Q},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const z={};for(const Q of Object.keys(this.values))z[Q]=this.values[Q]===0?0:-this.values[Q];return Wv(this,{values:z},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(z){if(!this.isValid||!z.isValid||!this.loc.equals(z.loc))return!1;function Q(de,Le){return de===void 0||de===0?Le===void 0||Le===0:de===Le}for(const de of Wd)if(!Q(this.values[de],z.values[de]))return!1;return!0}}const kp="Invalid Interval";function Qk(G,z){return!G||!G.isValid?As.invalid("missing or invalid start"):!z||!z.isValid?As.invalid("missing or invalid end"):z<G?As.invalid("end before start",`The end of an interval must be after its start, but you had start=${G.toISO()} and end=${z.toISO()}`):null}class As{constructor(z){this.s=z.start,this.e=z.end,this.invalid=z.invalid||null,this.isLuxonInterval=!0}static invalid(z,Q=null){if(!z)throw new Tf("need to specify a reason the Interval is invalid");const de=z instanceof ah?z:new ah(z,Q);if(Ys.throwOnInvalid)throw new AI(de);return new As({invalid:de})}static fromDateTimes(z,Q){const de=og(z),Le=og(Q),We=Qk(de,Le);return We??new As({start:de,end:Le})}static after(z,Q){const de=go.fromDurationLike(Q),Le=og(z);return As.fromDateTimes(Le,Le.plus(de))}static before(z,Q){const de=go.fromDurationLike(Q),Le=og(z);return As.fromDateTimes(Le.minus(de),Le)}static fromISO(z,Q){const[de,Le]=(z||"").split("/",2);if(de&&Le){let We,H;try{We=Bi.fromISO(de,Q),H=We.isValid}catch{H=!1}let U,e;try{U=Bi.fromISO(Le,Q),e=U.isValid}catch{e=!1}if(H&&e)return As.fromDateTimes(We,U);if(H){const d=go.fromISO(Le,Q);if(d.isValid)return As.after(We,d)}else if(e){const d=go.fromISO(de,Q);if(d.isValid)return As.before(U,d)}}return As.invalid("unparsable",`the input "${z}" can't be parsed as ISO 8601`)}static isInterval(z){return z&&z.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(z="milliseconds"){return this.isValid?this.toDuration(z).get(z):NaN}count(z="milliseconds",Q){if(!this.isValid)return NaN;const de=this.start.startOf(z,Q);let Le;return Q!=null&&Q.useLocaleWeeks?Le=this.end.reconfigure({locale:de.locale}):Le=this.end,Le=Le.startOf(z,Q),Math.floor(Le.diff(de,z).get(z))+(Le.valueOf()!==this.end.valueOf())}hasSame(z){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,z):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(z){return this.isValid?this.s>z:!1}isBefore(z){return this.isValid?this.e<=z:!1}contains(z){return this.isValid?this.s<=z&&this.e>z:!1}set({start:z,end:Q}={}){return this.isValid?As.fromDateTimes(z||this.s,Q||this.e):this}splitAt(...z){if(!this.isValid)return[];const Q=z.map(og).filter(H=>this.contains(H)).sort((H,U)=>H.toMillis()-U.toMillis()),de=[];let{s:Le}=this,We=0;for(;Le<this.e;){const H=Q[We]||this.e,U=+H>+this.e?this.e:H;de.push(As.fromDateTimes(Le,U)),Le=U,We+=1}return de}splitBy(z){const Q=go.fromDurationLike(z);if(!this.isValid||!Q.isValid||Q.as("milliseconds")===0)return[];let{s:de}=this,Le=1,We;const H=[];for(;de<this.e;){const U=this.start.plus(Q.mapUnits(e=>e*Le));We=+U>+this.e?this.e:U,H.push(As.fromDateTimes(de,We)),de=We,Le+=1}return H}divideEqually(z){return this.isValid?this.splitBy(this.length()/z).slice(0,z):[]}overlaps(z){return this.e>z.s&&this.s<z.e}abutsStart(z){return this.isValid?+this.e==+z.s:!1}abutsEnd(z){return this.isValid?+z.e==+this.s:!1}engulfs(z){return this.isValid?this.s<=z.s&&this.e>=z.e:!1}equals(z){return!this.isValid||!z.isValid?!1:this.s.equals(z.s)&&this.e.equals(z.e)}intersection(z){if(!this.isValid)return this;const Q=this.s>z.s?this.s:z.s,de=this.e<z.e?this.e:z.e;return Q>=de?null:As.fromDateTimes(Q,de)}union(z){if(!this.isValid)return this;const Q=this.s<z.s?this.s:z.s,de=this.e>z.e?this.e:z.e;return As.fromDateTimes(Q,de)}static merge(z){const[Q,de]=z.sort((Le,We)=>Le.s-We.s).reduce(([Le,We],H)=>We?We.overlaps(H)||We.abutsStart(H)?[Le,We.union(H)]:[Le.concat([We]),H]:[Le,H],[[],null]);return de&&Q.push(de),Q}static xor(z){let Q=null,de=0;const Le=[],We=z.map(e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}]),H=Array.prototype.concat(...We),U=H.sort((e,d)=>e.time-d.time);for(const e of U)de+=e.type==="s"?1:-1,de===1?Q=e.time:(Q&&+Q!=+e.time&&Le.push(As.fromDateTimes(Q,e.time)),Q=null);return As.merge(Le)}difference(...z){return As.xor([this].concat(z)).map(Q=>this.intersection(Q)).filter(Q=>Q&&!Q.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:kp}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(z=i1,Q={}){return this.isValid?hu.create(this.s.loc.clone(Q),z).formatInterval(this):kp}toISO(z){return this.isValid?`${this.s.toISO(z)}/${this.e.toISO(z)}`:kp}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:kp}toISOTime(z){return this.isValid?`${this.s.toISOTime(z)}/${this.e.toISOTime(z)}`:kp}toFormat(z,{separator:Q="  "}={}){return this.isValid?`${this.s.toFormat(z)}${Q}${this.e.toFormat(z)}`:kp}toDuration(z,Q){return this.isValid?this.e.diff(this.s,z,Q):go.invalid(this.invalidReason)}mapEndpoints(z){return As.fromDateTimes(z(this.s),z(this.e))}}class Am{static hasDST(z=Ys.defaultZone){const Q=Bi.now().setZone(z).set({month:12});return!z.isUniversal&&Q.offset!==Q.set({month:6}).offset}static isValidIANAZone(z){return uv.isValidZone(z)}static normalizeZone(z){return $v(z,Ys.defaultZone)}static getStartOfWeek({locale:z=null,locObj:Q=null}={}){return(Q||Fo.create(z)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:z=null,locObj:Q=null}={}){return(Q||Fo.create(z)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:z=null,locObj:Q=null}={}){return(Q||Fo.create(z)).getWeekendDays().slice()}static months(z="long",{locale:Q=null,numberingSystem:de=null,locObj:Le=null,outputCalendar:We="gregory"}={}){return(Le||Fo.create(Q,de,We)).months(z)}static monthsFormat(z="long",{locale:Q=null,numberingSystem:de=null,locObj:Le=null,outputCalendar:We="gregory"}={}){return(Le||Fo.create(Q,de,We)).months(z,!0)}static weekdays(z="long",{locale:Q=null,numberingSystem:de=null,locObj:Le=null}={}){return(Le||Fo.create(Q,de,null)).weekdays(z)}static weekdaysFormat(z="long",{locale:Q=null,numberingSystem:de=null,locObj:Le=null}={}){return(Le||Fo.create(Q,de,null)).weekdays(z,!0)}static meridiems({locale:z=null}={}){return Fo.create(z).meridiems()}static eras(z="short",{locale:Q=null}={}){return Fo.create(Q,null,"gregory").eras(z)}static features(){return{relative:YM(),localeWeek:XM()}}}function dA(G,z){const Q=Le=>Le.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),de=Q(z)-Q(G);return Math.floor(go.fromMillis(de).as("days"))}function qk(G,z,Q){const de=[["years",(e,d)=>d.year-e.year],["quarters",(e,d)=>d.quarter-e.quarter+(d.year-e.year)*4],["months",(e,d)=>d.month-e.month+(d.year-e.year)*12],["weeks",(e,d)=>{const C=dA(e,d);return(C-C%7)/7}],["days",dA]],Le={},We=G;let H,U;for(const[e,d]of de)Q.indexOf(e)>=0&&(H=e,Le[e]=d(G,z),U=We.plus(Le),U>z?(Le[e]--,G=We.plus(Le),G>z&&(U=G,Le[e]--,G=We.plus(Le))):G=U);return[G,Le,U,H]}function eO(G,z,Q,de){let[Le,We,H,U]=qk(G,z,Q);const e=z-Le,d=Q.filter(n=>["hours","minutes","seconds","milliseconds"].indexOf(n)>=0);d.length===0&&(H<z&&(H=Le.plus({[U]:1})),H!==Le&&(We[U]=(We[U]||0)+e/(H-Le)));const C=go.fromObject(We,de);return d.length>0?go.fromMillis(e,de).shiftTo(...d).plus(C):C}const k2={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},pA={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},tO=k2.hanidec.replace(/[\[|\]]/g,"").split("");function rO(G){let z=parseInt(G,10);if(isNaN(z)){z="";for(let Q=0;Q<G.length;Q++){const de=G.charCodeAt(Q);if(G[Q].search(k2.hanidec)!==-1)z+=tO.indexOf(G[Q]);else for(const Le in pA){const[We,H]=pA[Le];de>=We&&de<=H&&(z+=de-We)}}return parseInt(z,10)}else return z}function eh({numberingSystem:G},z=""){return new RegExp(`${k2[G||"latn"]}${z}`)}const nO="missing Intl.DateTimeFormat.formatToParts support";function _o(G,z=Q=>Q){return{regex:G,deser:([Q])=>z(rO(Q))}}const aO="",fS=`[ ${aO}]`,cS=new RegExp(fS,"g");function iO(G){return G.replace(/\./g,"\\.?").replace(cS,fS)}function gA(G){return G.replace(/\./g,"").replace(cS," ").toLowerCase()}function th(G,z){return G===null?null:{regex:RegExp(G.map(iO).join("|")),deser:([Q])=>G.findIndex(de=>gA(Q)===gA(de))+z}}function yA(G,z){return{regex:G,deser:([,Q,de])=>W1(Q,de),groups:z}}function Mm(G){return{regex:G,deser:([z])=>z}}function oO(G){return G.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function sO(G,z){const Q=eh(z),de=eh(z,"{2}"),Le=eh(z,"{3}"),We=eh(z,"{4}"),H=eh(z,"{6}"),U=eh(z,"{1,2}"),e=eh(z,"{1,3}"),d=eh(z,"{1,6}"),C=eh(z,"{1,9}"),n=eh(z,"{2,4}"),L=eh(z,"{4,6}"),w=r=>({regex:RegExp(oO(r.val)),deser:([t])=>t,literal:!0}),g=(r=>{if(G.literal)return w(r);switch(r.val){case"G":return th(z.eras("short"),0);case"GG":return th(z.eras("long"),0);case"y":return _o(d);case"yy":return _o(n,Ew);case"yyyy":return _o(We);case"yyyyy":return _o(L);case"yyyyyy":return _o(H);case"M":return _o(U);case"MM":return _o(de);case"MMM":return th(z.months("short",!0),1);case"MMMM":return th(z.months("long",!0),1);case"L":return _o(U);case"LL":return _o(de);case"LLL":return th(z.months("short",!1),1);case"LLLL":return th(z.months("long",!1),1);case"d":return _o(U);case"dd":return _o(de);case"o":return _o(e);case"ooo":return _o(Le);case"HH":return _o(de);case"H":return _o(U);case"hh":return _o(de);case"h":return _o(U);case"mm":return _o(de);case"m":return _o(U);case"q":return _o(U);case"qq":return _o(de);case"s":return _o(U);case"ss":return _o(de);case"S":return _o(e);case"SSS":return _o(Le);case"u":return Mm(C);case"uu":return Mm(U);case"uuu":return _o(Q);case"a":return th(z.meridiems(),0);case"kkkk":return _o(We);case"kk":return _o(n,Ew);case"W":return _o(U);case"WW":return _o(de);case"E":case"c":return _o(Q);case"EEE":return th(z.weekdays("short",!1),1);case"EEEE":return th(z.weekdays("long",!1),1);case"ccc":return th(z.weekdays("short",!0),1);case"cccc":return th(z.weekdays("long",!0),1);case"Z":case"ZZ":return yA(new RegExp(`([+-]${U.source})(?::(${de.source}))?`),2);case"ZZZ":return yA(new RegExp(`([+-]${U.source})(${de.source})?`),2);case"z":return Mm(/[a-z_+-/]{1,256}?/i);case" ":return Mm(/[^\S\n\r]/);default:return w(r)}})(G)||{invalidReason:nO};return g.token=G,g}const lO={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function uO(G,z,Q){const{type:de,value:Le}=G;if(de==="literal"){const e=/^\s+$/.test(Le);return{literal:!e,val:e?" ":Le}}const We=z[de];let H=de;de==="hour"&&(z.hour12!=null?H=z.hour12?"hour12":"hour24":z.hourCycle!=null?z.hourCycle==="h11"||z.hourCycle==="h12"?H="hour12":H="hour24":H=Q.hour12?"hour12":"hour24");let U=lO[H];if(typeof U=="object"&&(U=U[We]),U)return{literal:!1,val:U}}function fO(G){return[`^${G.map(Q=>Q.regex).reduce((Q,de)=>`${Q}(${de.source})`,"")}$`,G]}function cO(G,z,Q){const de=G.match(z);if(de){const Le={};let We=1;for(const H in Q)if(f0(Q,H)){const U=Q[H],e=U.groups?U.groups+1:1;!U.literal&&U.token&&(Le[U.token.val[0]]=U.deser(de.slice(We,We+e))),We+=e}return[de,Le]}else return[de,{}]}function hO(G){const z=We=>{switch(We){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let Q=null,de;return ki(G.z)||(Q=uv.create(G.z)),ki(G.Z)||(Q||(Q=new Fu(G.Z)),de=G.Z),ki(G.q)||(G.M=(G.q-1)*3+1),ki(G.h)||(G.h<12&&G.a===1?G.h+=12:G.h===12&&G.a===0&&(G.h=0)),G.G===0&&G.y&&(G.y=-G.y),ki(G.u)||(G.S=_2(G.u)),[Object.keys(G).reduce((We,H)=>{const U=z(H);return U&&(We[U]=G[H]),We},{}),Q,de]}let k3=null;function vO(){return k3||(k3=Bi.fromMillis(1555555555555)),k3}function dO(G,z){if(G.literal)return G;const Q=hu.macroTokenToFormatOpts(G.val),de=dS(Q,z);return de==null||de.includes(void 0)?G:de}function hS(G,z){return Array.prototype.concat(...G.map(Q=>dO(Q,z)))}function vS(G,z,Q){const de=hS(hu.parseFormat(Q),G),Le=de.map(H=>sO(H,G)),We=Le.find(H=>H.invalidReason);if(We)return{input:z,tokens:de,invalidReason:We.invalidReason};{const[H,U]=fO(Le),e=RegExp(H,"i"),[d,C]=cO(z,e,U),[n,L,w]=C?hO(C):[null,null,void 0];if(f0(C,"a")&&f0(C,"H"))throw new Hp("Can't include meridiem when specifying 24-hour format");return{input:z,tokens:de,regex:e,rawMatches:d,matches:C,result:n,zone:L,specificOffset:w}}}function pO(G,z,Q){const{result:de,zone:Le,specificOffset:We,invalidReason:H}=vS(G,z,Q);return[de,Le,We,H]}function dS(G,z){if(!G)return null;const de=hu.create(z,G).dtFormatter(vO()),Le=de.formatToParts(),We=de.resolvedOptions();return Le.map(H=>uO(H,G,We))}const O3="Invalid DateTime",mA=864e13;function Sm(G){return new ah("unsupported zone",`the zone "${G.name}" is not supported`)}function z3(G){return G.weekData===null&&(G.weekData=o1(G.c)),G.weekData}function F3(G){return G.localWeekData===null&&(G.localWeekData=o1(G.c,G.loc.getMinDaysInFirstWeek(),G.loc.getStartOfWeek())),G.localWeekData}function zd(G,z){const Q={ts:G.ts,zone:G.zone,c:G.c,o:G.o,loc:G.loc,invalid:G.invalid};return new Bi({...Q,...z,old:Q})}function pS(G,z,Q){let de=G-z*60*1e3;const Le=Q.offset(de);if(z===Le)return[de,z];de-=(Le-z)*60*1e3;const We=Q.offset(de);return Le===We?[de,Le]:[G-Math.min(Le,We)*60*1e3,Math.max(Le,We)]}function Em(G,z){G+=z*60*1e3;const Q=new Date(G);return{year:Q.getUTCFullYear(),month:Q.getUTCMonth()+1,day:Q.getUTCDate(),hour:Q.getUTCHours(),minute:Q.getUTCMinutes(),second:Q.getUTCSeconds(),millisecond:Q.getUTCMilliseconds()}}function Bm(G,z,Q){return pS(G1(G),z,Q)}function xA(G,z){const Q=G.o,de=G.c.year+Math.trunc(z.years),Le=G.c.month+Math.trunc(z.months)+Math.trunc(z.quarters)*3,We={...G.c,year:de,month:Le,day:Math.min(G.c.day,s1(de,Le))+Math.trunc(z.days)+Math.trunc(z.weeks)*7},H=go.fromObject({years:z.years-Math.trunc(z.years),quarters:z.quarters-Math.trunc(z.quarters),months:z.months-Math.trunc(z.months),weeks:z.weeks-Math.trunc(z.weeks),days:z.days-Math.trunc(z.days),hours:z.hours,minutes:z.minutes,seconds:z.seconds,milliseconds:z.milliseconds}).as("milliseconds"),U=G1(We);let[e,d]=pS(U,Q,G.zone);return H!==0&&(e+=H,d=G.zone.offset(e)),{ts:e,o:d}}function ig(G,z,Q,de,Le,We){const{setZone:H,zone:U}=Q;if(G&&Object.keys(G).length!==0||z){const e=z||U,d=Bi.fromObject(G,{...Q,zone:e,specificOffset:We});return H?d:d.setZone(U)}else return Bi.invalid(new ah("unparsable",`the input "${Le}" can't be parsed as ${de}`))}function Cm(G,z,Q=!0){return G.isValid?hu.create(Fo.create("en-US"),{allowZ:Q,forceSimple:!0}).formatDateTimeFromString(G,z):null}function N3(G,z){const Q=G.c.year>9999||G.c.year<0;let de="";return Q&&G.c.year>=0&&(de+="+"),de+=tl(G.c.year,Q?6:4),z?(de+="-",de+=tl(G.c.month),de+="-",de+=tl(G.c.day)):(de+=tl(G.c.month),de+=tl(G.c.day)),de}function bA(G,z,Q,de,Le,We){let H=tl(G.c.hour);return z?(H+=":",H+=tl(G.c.minute),(G.c.millisecond!==0||G.c.second!==0||!Q)&&(H+=":")):H+=tl(G.c.minute),(G.c.millisecond!==0||G.c.second!==0||!Q)&&(H+=tl(G.c.second),(G.c.millisecond!==0||!de)&&(H+=".",H+=tl(G.c.millisecond,3))),Le&&(G.isOffsetFixed&&G.offset===0&&!We?H+="Z":G.o<0?(H+="-",H+=tl(Math.trunc(-G.o/60)),H+=":",H+=tl(Math.trunc(-G.o%60))):(H+="+",H+=tl(Math.trunc(G.o/60)),H+=":",H+=tl(Math.trunc(G.o%60)))),We&&(H+="["+G.zone.ianaName+"]"),H}const gS={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},gO={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},yO={ordinal:1,hour:0,minute:0,second:0,millisecond:0},yS=["year","month","day","hour","minute","second","millisecond"],mO=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],xO=["year","ordinal","hour","minute","second","millisecond"];function bO(G){const z={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[G.toLowerCase()];if(!z)throw new xM(G);return z}function wA(G){switch(G.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return bO(G)}}function TA(G,z){const Q=$v(z.zone,Ys.defaultZone),de=Fo.fromObject(z),Le=Ys.now();let We,H;if(ki(G.year))We=Le;else{for(const d of yS)ki(G[d])&&(G[d]=gS[d]);const U=GM(G)||WM(G);if(U)return Bi.invalid(U);const e=Q.offset(Le);[We,H]=Bm(G,e,Q)}return new Bi({ts:We,zone:Q,loc:de,o:H})}function AA(G,z,Q){const de=ki(Q.round)?!0:Q.round,Le=(H,U)=>(H=P2(H,de||Q.calendary?0:2,!0),z.loc.clone(Q).relFormatter(Q).format(H,U)),We=H=>Q.calendary?z.hasSame(G,H)?0:z.startOf(H).diff(G.startOf(H),H).get(H):z.diff(G,H).get(H);if(Q.unit)return Le(We(Q.unit),Q.unit);for(const H of Q.units){const U=We(H);if(Math.abs(U)>=1)return Le(U,H)}return Le(G>z?-0:0,Q.units[Q.units.length-1])}function MA(G){let z={},Q;return G.length>0&&typeof G[G.length-1]=="object"?(z=G[G.length-1],Q=Array.from(G).slice(0,G.length-1)):Q=Array.from(G),[z,Q]}class Bi{constructor(z){const Q=z.zone||Ys.defaultZone;let de=z.invalid||(Number.isNaN(z.ts)?new ah("invalid input"):null)||(Q.isValid?null:Sm(Q));this.ts=ki(z.ts)?Ys.now():z.ts;let Le=null,We=null;if(!de)if(z.old&&z.old.ts===this.ts&&z.old.zone.equals(Q))[Le,We]=[z.old.c,z.old.o];else{const U=Q.offset(this.ts);Le=Em(this.ts,U),de=Number.isNaN(Le.year)?new ah("invalid input"):null,Le=de?null:Le,We=de?null:U}this._zone=Q,this.loc=z.loc||Fo.create(),this.invalid=de,this.weekData=null,this.localWeekData=null,this.c=Le,this.o=We,this.isLuxonDateTime=!0}static now(){return new Bi({})}static local(){const[z,Q]=MA(arguments),[de,Le,We,H,U,e,d]=Q;return TA({year:de,month:Le,day:We,hour:H,minute:U,second:e,millisecond:d},z)}static utc(){const[z,Q]=MA(arguments),[de,Le,We,H,U,e,d]=Q;return z.zone=Fu.utcInstance,TA({year:de,month:Le,day:We,hour:H,minute:U,second:e,millisecond:d},z)}static fromJSDate(z,Q={}){const de=KI(z)?z.valueOf():NaN;if(Number.isNaN(de))return Bi.invalid("invalid input");const Le=$v(Q.zone,Ys.defaultZone);return Le.isValid?new Bi({ts:de,zone:Le,loc:Fo.fromObject(Q)}):Bi.invalid(Sm(Le))}static fromMillis(z,Q={}){if(jd(z))return z<-mA||z>mA?Bi.invalid("Timestamp out of range"):new Bi({ts:z,zone:$v(Q.zone,Ys.defaultZone),loc:Fo.fromObject(Q)});throw new Tf(`fromMillis requires a numerical input, but received a ${typeof z} with value ${z}`)}static fromSeconds(z,Q={}){if(jd(z))return new Bi({ts:z*1e3,zone:$v(Q.zone,Ys.defaultZone),loc:Fo.fromObject(Q)});throw new Tf("fromSeconds requires a numerical input")}static fromObject(z,Q={}){z=z||{};const de=$v(Q.zone,Ys.defaultZone);if(!de.isValid)return Bi.invalid(Sm(de));const Le=Fo.fromObject(Q),We=l1(z,wA),{minDaysInFirstWeek:H,startOfWeek:U}=sA(We,Le),e=Ys.now(),d=ki(Q.specificOffset)?de.offset(e):Q.specificOffset,C=!ki(We.ordinal),n=!ki(We.year),L=!ki(We.month)||!ki(We.day),w=n||L,v=We.weekYear||We.weekNumber;if((w||C)&&v)throw new Hp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(L&&C)throw new Hp("Can't mix ordinal dates with month/day");const g=v||We.weekday&&!w;let r,t,i=Em(e,d);g?(r=mO,t=gO,i=o1(i,H,U)):C?(r=xO,t=yO,i=I3(i)):(r=yS,t=gS);let a=!1;for(const c of r){const o=We[c];ki(o)?a?We[c]=t[c]:We[c]=i[c]:a=!0}const u=g?XI(We,H,U):C?ZI(We):GM(We),f=u||WM(We);if(f)return Bi.invalid(f);const l=g?iA(We,H,U):C?oA(We):We,[m,h]=Bm(l,d,de),T=new Bi({ts:m,zone:de,o:h,loc:Le});return We.weekday&&w&&z.weekday!==T.weekday?Bi.invalid("mismatched weekday",`you can't specify both a weekday of ${We.weekday} and a date of ${T.toISO()}`):T}static fromISO(z,Q={}){const[de,Le]=Nk(z);return ig(de,Le,Q,"ISO 8601",z)}static fromRFC2822(z,Q={}){const[de,Le]=Bk(z);return ig(de,Le,Q,"RFC 2822",z)}static fromHTTP(z,Q={}){const[de,Le]=Uk(z);return ig(de,Le,Q,"HTTP",Q)}static fromFormat(z,Q,de={}){if(ki(z)||ki(Q))throw new Tf("fromFormat requires an input string and a format");const{locale:Le=null,numberingSystem:We=null}=de,H=Fo.fromOpts({locale:Le,numberingSystem:We,defaultToEN:!0}),[U,e,d,C]=pO(H,z,Q);return C?Bi.invalid(C):ig(U,e,de,`format ${Q}`,z,d)}static fromString(z,Q,de={}){return Bi.fromFormat(z,Q,de)}static fromSQL(z,Q={}){const[de,Le]=Zk(z);return ig(de,Le,Q,"SQL",z)}static invalid(z,Q=null){if(!z)throw new Tf("need to specify a reason the DateTime is invalid");const de=z instanceof ah?z:new ah(z,Q);if(Ys.throwOnInvalid)throw new TI(de);return new Bi({invalid:de})}static isDateTime(z){return z&&z.isLuxonDateTime||!1}static parseFormatForOpts(z,Q={}){const de=dS(z,Fo.fromObject(Q));return de?de.map(Le=>Le?Le.val:null).join(""):null}static expandFormat(z,Q={}){return hS(hu.parseFormat(z),Fo.fromObject(Q)).map(Le=>Le.val).join("")}get(z){return this[z]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?z3(this).weekYear:NaN}get weekNumber(){return this.isValid?z3(this).weekNumber:NaN}get weekday(){return this.isValid?z3(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?F3(this).weekday:NaN}get localWeekNumber(){return this.isValid?F3(this).weekNumber:NaN}get localWeekYear(){return this.isValid?F3(this).weekYear:NaN}get ordinal(){return this.isValid?I3(this.c).ordinal:NaN}get monthShort(){return this.isValid?Am.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Am.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Am.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Am.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const z=864e5,Q=6e4,de=G1(this.c),Le=this.zone.offset(de-z),We=this.zone.offset(de+z),H=this.zone.offset(de-Le*Q),U=this.zone.offset(de-We*Q);if(H===U)return[this];const e=de-H*Q,d=de-U*Q,C=Em(e,H),n=Em(d,U);return C.hour===n.hour&&C.minute===n.minute&&C.second===n.second&&C.millisecond===n.millisecond?[zd(this,{ts:e}),zd(this,{ts:d})]:[this]}get isInLeapYear(){return Qg(this.year)}get daysInMonth(){return s1(this.year,this.month)}get daysInYear(){return this.isValid?Kp(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ng(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ng(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(z={}){const{locale:Q,numberingSystem:de,calendar:Le}=hu.create(this.loc.clone(z),z).resolvedOptions(this);return{locale:Q,numberingSystem:de,outputCalendar:Le}}toUTC(z=0,Q={}){return this.setZone(Fu.instance(z),Q)}toLocal(){return this.setZone(Ys.defaultZone)}setZone(z,{keepLocalTime:Q=!1,keepCalendarTime:de=!1}={}){if(z=$v(z,Ys.defaultZone),z.equals(this.zone))return this;if(z.isValid){let Le=this.ts;if(Q||de){const We=z.offset(this.ts),H=this.toObject();[Le]=Bm(H,We,z)}return zd(this,{ts:Le,zone:z})}else return Bi.invalid(Sm(z))}reconfigure({locale:z,numberingSystem:Q,outputCalendar:de}={}){const Le=this.loc.clone({locale:z,numberingSystem:Q,outputCalendar:de});return zd(this,{loc:Le})}setLocale(z){return this.reconfigure({locale:z})}set(z){if(!this.isValid)return this;const Q=l1(z,wA),{minDaysInFirstWeek:de,startOfWeek:Le}=sA(Q,this.loc),We=!ki(Q.weekYear)||!ki(Q.weekNumber)||!ki(Q.weekday),H=!ki(Q.ordinal),U=!ki(Q.year),e=!ki(Q.month)||!ki(Q.day),d=U||e,C=Q.weekYear||Q.weekNumber;if((d||H)&&C)throw new Hp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(e&&H)throw new Hp("Can't mix ordinal dates with month/day");let n;We?n=iA({...o1(this.c,de,Le),...Q},de,Le):ki(Q.ordinal)?(n={...this.toObject(),...Q},ki(Q.day)&&(n.day=Math.min(s1(n.year,n.month),n.day))):n=oA({...I3(this.c),...Q});const[L,w]=Bm(n,this.o,this.zone);return zd(this,{ts:L,o:w})}plus(z){if(!this.isValid)return this;const Q=go.fromDurationLike(z);return zd(this,xA(this,Q))}minus(z){if(!this.isValid)return this;const Q=go.fromDurationLike(z).negate();return zd(this,xA(this,Q))}startOf(z,{useLocaleWeeks:Q=!1}={}){if(!this.isValid)return this;const de={},Le=go.normalizeUnit(z);switch(Le){case"years":de.month=1;case"quarters":case"months":de.day=1;case"weeks":case"days":de.hour=0;case"hours":de.minute=0;case"minutes":de.second=0;case"seconds":de.millisecond=0;break}if(Le==="weeks")if(Q){const We=this.loc.getStartOfWeek(),{weekday:H}=this;H<We&&(de.weekNumber=this.weekNumber-1),de.weekday=We}else de.weekday=1;if(Le==="quarters"){const We=Math.ceil(this.month/3);de.month=(We-1)*3+1}return this.set(de)}endOf(z,Q){return this.isValid?this.plus({[z]:1}).startOf(z,Q).minus(1):this}toFormat(z,Q={}){return this.isValid?hu.create(this.loc.redefaultToEN(Q)).formatDateTimeFromString(this,z):O3}toLocaleString(z=i1,Q={}){return this.isValid?hu.create(this.loc.clone(Q),z).formatDateTime(this):O3}toLocaleParts(z={}){return this.isValid?hu.create(this.loc.clone(z),z).formatDateTimeParts(this):[]}toISO({format:z="extended",suppressSeconds:Q=!1,suppressMilliseconds:de=!1,includeOffset:Le=!0,extendedZone:We=!1}={}){if(!this.isValid)return null;const H=z==="extended";let U=N3(this,H);return U+="T",U+=bA(this,H,Q,de,Le,We),U}toISODate({format:z="extended"}={}){return this.isValid?N3(this,z==="extended"):null}toISOWeekDate(){return Cm(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:z=!1,suppressSeconds:Q=!1,includeOffset:de=!0,includePrefix:Le=!1,extendedZone:We=!1,format:H="extended"}={}){return this.isValid?(Le?"T":"")+bA(this,H==="extended",Q,z,de,We):null}toRFC2822(){return Cm(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Cm(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?N3(this,!0):null}toSQLTime({includeOffset:z=!0,includeZone:Q=!1,includeOffsetSpace:de=!0}={}){let Le="HH:mm:ss.SSS";return(Q||z)&&(de&&(Le+=" "),Q?Le+="z":z&&(Le+="ZZ")),Cm(this,Le,!0)}toSQL(z={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(z)}`:null}toString(){return this.isValid?this.toISO():O3}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(z={}){if(!this.isValid)return{};const Q={...this.c};return z.includeConfig&&(Q.outputCalendar=this.outputCalendar,Q.numberingSystem=this.loc.numberingSystem,Q.locale=this.loc.locale),Q}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(z,Q="milliseconds",de={}){if(!this.isValid||!z.isValid)return go.invalid("created by diffing an invalid DateTime");const Le={locale:this.locale,numberingSystem:this.numberingSystem,...de},We=JI(Q).map(go.normalizeUnit),H=z.valueOf()>this.valueOf(),U=H?this:z,e=H?z:this,d=eO(U,e,We,Le);return H?d.negate():d}diffNow(z="milliseconds",Q={}){return this.diff(Bi.now(),z,Q)}until(z){return this.isValid?As.fromDateTimes(this,z):this}hasSame(z,Q,de){if(!this.isValid)return!1;const Le=z.valueOf(),We=this.setZone(z.zone,{keepLocalTime:!0});return We.startOf(Q,de)<=Le&&Le<=We.endOf(Q,de)}equals(z){return this.isValid&&z.isValid&&this.valueOf()===z.valueOf()&&this.zone.equals(z.zone)&&this.loc.equals(z.loc)}toRelative(z={}){if(!this.isValid)return null;const Q=z.base||Bi.fromObject({},{zone:this.zone}),de=z.padding?this<Q?-z.padding:z.padding:0;let Le=["years","months","days","hours","minutes","seconds"],We=z.unit;return Array.isArray(z.unit)&&(Le=z.unit,We=void 0),AA(Q,this.plus(de),{...z,numeric:"always",units:Le,unit:We})}toRelativeCalendar(z={}){return this.isValid?AA(z.base||Bi.fromObject({},{zone:this.zone}),this,{...z,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...z){if(!z.every(Bi.isDateTime))throw new Tf("min requires all arguments be DateTimes");return lA(z,Q=>Q.valueOf(),Math.min)}static max(...z){if(!z.every(Bi.isDateTime))throw new Tf("max requires all arguments be DateTimes");return lA(z,Q=>Q.valueOf(),Math.max)}static fromFormatExplain(z,Q,de={}){const{locale:Le=null,numberingSystem:We=null}=de,H=Fo.fromOpts({locale:Le,numberingSystem:We,defaultToEN:!0});return vS(H,z,Q)}static fromStringExplain(z,Q,de={}){return Bi.fromFormatExplain(z,Q,de)}static get DATE_SHORT(){return i1}static get DATE_MED(){return bM}static get DATE_MED_WITH_WEEKDAY(){return SI}static get DATE_FULL(){return wM}static get DATE_HUGE(){return TM}static get TIME_SIMPLE(){return AM}static get TIME_WITH_SECONDS(){return MM}static get TIME_WITH_SHORT_OFFSET(){return SM}static get TIME_WITH_LONG_OFFSET(){return EM}static get TIME_24_SIMPLE(){return CM}static get TIME_24_WITH_SECONDS(){return LM}static get TIME_24_WITH_SHORT_OFFSET(){return _M}static get TIME_24_WITH_LONG_OFFSET(){return PM}static get DATETIME_SHORT(){return RM}static get DATETIME_SHORT_WITH_SECONDS(){return DM}static get DATETIME_MED(){return IM}static get DATETIME_MED_WITH_SECONDS(){return kM}static get DATETIME_MED_WITH_WEEKDAY(){return EI}static get DATETIME_FULL(){return OM}static get DATETIME_FULL_WITH_SECONDS(){return zM}static get DATETIME_HUGE(){return FM}static get DATETIME_HUGE_WITH_SECONDS(){return NM}}function og(G){if(Bi.isDateTime(G))return G;if(G&&G.valueOf&&jd(G.valueOf()))return Bi.fromJSDate(G);if(G&&typeof G=="object")return Bi.fromObject(G);throw new Tf(`Unknown datetime argument: ${G}, of type ${typeof G}`)}const wO=G=>(mP("data-v-db803775"),G=G(),xP(),G),TO={class:"table"},AO=["id","onClick"],MO={key:0},SO=["onChange","onFocus"],EO=wO(()=>Ba("option",{selected:"",value:null},"-- select an option --",-1)),CO=["value","selected"],LO={__name:"TransactionTable",setup(G){const z=hd();let Q=Qo(0);const de=vl(()=>{if(!z.filterCategory)return z.rows;let H=el.filter(z.rows,U=>el.last(U)===z.filterCategory);if(z.filterCategory==="X"){const U=el.filter(z.rows,e=>!el.last(e));H=el.concat(H,U)}return H});_1(async()=>{document.addEventListener("keydown",Le)}),oh(()=>z.clickTransaction,()=>{const H=z.clickTransaction.time,U=z.clickTransaction.category,e=de.value;for(let d=0;d<e.length;d+=1){const C=e[d];if(H===C[1]&&U===el.last(C)){const n=C[0];document.getElementById(n).scrollIntoView(),Q.value=d}}});async function Le(H){if(!z.keyLock)if(H.key==="ArrowDown")Q.value+=1,Q.value===z.rows.length&&(Q.value=0);else if(H.key==="ArrowUp")Q.value-=1,Q.value<0&&(Q.value=z.rows.length-1);else{let U=H.key.toUpperCase();if(el.find(z.categories,e=>e.key===U)){const e=de.value[Q.value][0];await z.updateCategoryOfRow(e,U)}}}function We(H){let U=el.cloneDeep(H);for(let e=0;e<H.length;e+=1){const d=z.headers[e];d&&d.indexOf("date")>=0&&(U[e]=Bi.fromISO(U[e]).toFormat("ddLLLyy"))}return U}return(H,U)=>(mo(),To("table",TO,[Ba("thead",null,[Ba("tr",null,[(mo(!0),To(Os,null,tv(Zi(z).headers,e=>(mo(),To("th",{scope:"col",key:e},fu(e),1))),128))])]),Ba("tbody",null,[(mo(!0),To(Os,null,tv(de.value,(e,d)=>(mo(),To("tr",{key:e[0],id:e[0],onClick:C=>Xs(Q)?Q.value=d:Q=d},[(mo(!0),To(Os,null,tv(We(e),(C,n)=>(mo(),To("td",{class:w1(d===Zi(Q)?"active":""),key:n},[n<e.length-1?(mo(),To("div",MO,fu(C),1)):(mo(),To("select",{key:1,class:"form-select","aria-label":"Default select example",onChange:L=>Zi(z).updateCategoryOfRow(e[0],L.target.value),onFocus:L=>Xs(Q)?Q.value=d:Q=d},[EO,(mo(!0),To(Os,null,tv(Zi(z).categories,L=>(mo(),To("option",{key:L.key,value:L.key,selected:L.key===Zi(el).last(e)},fu(L.key+" - "+L.desc),9,CO))),128))],40,SO))],2))),128))],8,AO))),128))])]))}},_O=U6(LO,[["__scopeId","data-v-db803775"]]);var mS={exports:{}};(function(G,z){(function(de,Le){G.exports=Le()})(self,function(){return function(){var Q={79288:function(H,U,e){var d=e(3400),C={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var n in C){var L=n.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");d.addStyleRule(L,C[n])}},86712:function(H,U,e){H.exports=e(84224)},37240:function(H,U,e){H.exports=e(51132)},29744:function(H,U,e){H.exports=e(94456)},29352:function(H,U,e){H.exports=e(67244)},96144:function(H,U,e){H.exports=e(97776)},53219:function(H,U,e){H.exports=e(61712)},4624:function(H,U,e){H.exports=e(95856)},54543:function(H,U,e){H.exports=e(54272)},45e3:function(H,U,e){H.exports=e(85404)},62300:function(H,U,e){H.exports=e(26048)},6920:function(H,U,e){H.exports=e(66240)},10264:function(H,U,e){H.exports=e(40448)},32016:function(H,U,e){H.exports=e(64884)},27528:function(H,U,e){H.exports=e(15088)},75556:function(H,U,e){H.exports=e(76744)},39204:function(H,U,e){H.exports=e(94704)},73996:function(H,U,e){H.exports=e(62396)},16489:function(H,U,e){H.exports=e(32028)},5e3:function(H,U,e){H.exports=e(81932)},77280:function(H,U,e){H.exports=e(45536)},33992:function(H,U,e){H.exports=e(42600)},17600:function(H,U,e){H.exports=e(21536)},49116:function(H,U,e){H.exports=e(65664)},46808:function(H,U,e){H.exports=e(29044)},36168:function(H,U,e){H.exports=e(48928)},13792:function(H,U,e){var d=e(32016);d.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),H.exports=d},3920:function(H,U,e){H.exports=e(43480)},25120:function(H,U,e){H.exports=e(6296)},4340:function(H,U,e){H.exports=e(7404)},86152:function(H,U,e){H.exports=e(65456)},56816:function(H,U,e){H.exports=e(22020)},89296:function(H,U,e){H.exports=e(29928)},20260:function(H,U,e){H.exports=e(75792)},32140:function(H,U,e){H.exports=e(156)},84764:function(H,U,e){H.exports=e(45499)},48824:function(H,U,e){H.exports=e(3296)},69967:function(H,U,e){H.exports=e(4184)},8363:function(H,U,e){H.exports=e(36952)},86636:function(H,U,e){H.exports=e(38983)},70192:function(H,U,e){H.exports=e(11572)},81604:function(H,U,e){H.exports=e(76924)},63796:function(H,U,e){H.exports=e(62944)},89336:function(H,U,e){H.exports=e(95443)},67484:function(H,U,e){H.exports=e(34864)},97312:function(H,U,e){H.exports=e(76272)},42192:function(H,U,e){H.exports=e(97924)},29800:function(H,U,e){H.exports=e(15436)},63560:function(H,U,e){H.exports=e(5621)},89904:function(H,U,e){H.exports=e(91304)},50248:function(H,U,e){H.exports=e(41724)},65832:function(H,U,e){H.exports=e(31991)},79440:function(H,U,e){H.exports=e(22869)},13752:function(H,U,e){H.exports=e(67776)},83096:function(H,U,e){H.exports=e(95952)},72196:function(H){H.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(H,U,e){var d=e(72196),C=e(25376),n=e(33816),L=e(31780).templatedArray;e(36208),H.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:C({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:d.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:d.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:C({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(H,U,e){var d=e(3400),C=e(54460),n=e(23816).draw;H.exports=function(g){var r=g._fullLayout,t=d.filterVisible(r.annotations);if(t.length&&g._fullData.length)return d.syncOrAsync([n,L],g)};function L(v){var g=v._fullLayout;d.filterVisible(g.annotations).forEach(function(r){var t=C.getFromId(v,r.xref),i=C.getFromId(v,r.yref),a=C.getRefType(r.xref),u=C.getRefType(r.yref);r._extremes={},a==="range"&&w(r,t),u==="range"&&w(r,i)})}function w(v,g){var r=g._id,t=r.charAt(0),i=v[t],a=v["a"+t],u=v[t+"ref"],f=v["a"+t+"ref"],l=v["_"+t+"padplus"],m=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],T=3*v.arrowsize*v.arrowwidth||0,c=T+h,o=T-h,p=3*v.startarrowsize*v.arrowwidth||0,x=p+h,A=p-h,_;if(f===u){var y=C.findExtremes(g,[g.r2c(i)],{ppadplus:c,ppadminus:o}),E=C.findExtremes(g,[g.r2c(a)],{ppadplus:Math.max(l,x),ppadminus:Math.max(m,A)});_={min:[y.min[0],E.min[0]],max:[y.max[0],E.max[0]]}}else x=a?x+a:x,A=a?A-a:A,_=C.findExtremes(g,[g.r2c(i)],{ppadplus:Math.max(l,c,x),ppadminus:Math.max(m,o,A)});v._extremes[r]=_}},42300:function(H,U,e){var d=e(3400),C=e(24040),n=e(31780).arrayEditor;H.exports={hasClickToShow:L,onClick:w};function L(r,t){var i=v(r,t);return i.on.length>0||i.explicitOff.length>0}function w(r,t){var i=v(r,t),a=i.on,u=i.off.concat(i.explicitOff),f={},l=r._fullLayout.annotations,m,h;if(a.length||u.length){for(m=0;m<a.length;m++)h=n(r.layout,"annotations",l[a[m]]),h.modifyItem("visible",!0),d.extendFlat(f,h.getUpdateObj());for(m=0;m<u.length;m++)h=n(r.layout,"annotations",l[u[m]]),h.modifyItem("visible",!1),d.extendFlat(f,h.getUpdateObj());return C.call("update",r,{},f)}}function v(r,t){var i=r._fullLayout.annotations,a=[],u=[],f=[],l=(t||[]).length,m,h,T,c,o,p,x,A;for(m=0;m<i.length;m++)if(T=i[m],c=T.clicktoshow,c){for(h=0;h<l;h++)if(o=t[h],p=o.xaxis,x=o.yaxis,p._id===T.xref&&x._id===T.yref&&p.d2r(o.x)===g(T._xclick,p)&&x.d2r(o.y)===g(T._yclick,x)){T.visible?c==="onout"?A=u:A=f:A=a,A.push(m);break}h===l&&T.visible&&c==="onout"&&u.push(m)}return{on:a,off:u,explicitOff:f}}function g(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(H,U,e){var d=e(3400),C=e(76308);H.exports=function(L,w,v,g){g("opacity");var r=g("bgcolor"),t=g("bordercolor"),i=C.opacity(t);g("borderpad");var a=g("borderwidth"),u=g("showarrow");g("text",u?" ":v._dfltTitle.annotation),g("textangle"),d.coerceFont(g,"font",v.font),g("width"),g("align");var f=g("height");if(f&&g("valign"),u){var l=g("arrowside"),m,h;l.indexOf("end")!==-1&&(m=g("arrowhead"),h=g("arrowsize")),l.indexOf("start")!==-1&&(g("startarrowhead",m),g("startarrowsize",h)),g("arrowcolor",i?w.bordercolor:C.defaultLine),g("arrowwidth",(i&&a||1)*2),g("standoff"),g("startstandoff")}var T=g("hovertext"),c=v.hoverlabel||{};if(T){var o=g("hoverlabel.bgcolor",c.bgcolor||(C.opacity(r)?C.rgb(r):C.defaultLine)),p=g("hoverlabel.bordercolor",c.bordercolor||C.contrast(o)),x=d.extendFlat({},c.font);x.color||(x.color=p),d.coerceFont(g,"hoverlabel.font",x)}g("captureevents",!!T)}},26828:function(H,U,e){var d=e(38248),C=e(36896);H.exports=function(L,w,v,g){w=w||{};var r=v==="log"&&w.type==="linear",t=v==="linear"&&w.type==="log";if(!(r||t))return;var i=L._fullLayout.annotations,a=w._id.charAt(0),u,f;function l(h){var T=u[h],c=null;r?c=C(T,w.range):c=Math.pow(10,T),d(c)||(c=null),g(f+h,c)}for(var m=0;m<i.length;m++)u=i[m],f="annotations["+m+"].",u[a+"ref"]===w._id&&l(a),u["a"+a+"ref"]===w._id&&l("a"+a)}},45216:function(H,U,e){var d=e(3400),C=e(54460),n=e(51272),L=e(87192),w=e(13916);H.exports=function(r,t){n(r,t,{name:"annotations",handleItemDefaults:v})};function v(g,r,t){function i(M,s){return d.coerce(g,r,w,M,s)}var a=i("visible"),u=i("clicktoshow");if(a||u){L(g,r,t,i);for(var f=r.showarrow,l=["x","y"],m=[-10,-30],h={_fullLayout:t},T=0;T<2;T++){var c=l[T],o=C.coerceRef(g,r,h,c,"","paper");if(o!=="paper"){var p=C.getFromId(h,o);p._annIndices.push(r._index)}if(C.coercePosition(r,h,i,o,c,.5),f){var x="a"+c,A=C.coerceRef(g,r,h,x,"pixel",["pixel","paper"]);A!=="pixel"&&A!==o&&(A=r[x]="pixel");var _=A==="pixel"?m[T]:.4;C.coercePosition(r,h,i,A,x,_)}i(c+"anchor"),i(c+"shift")}if(d.noneOrAll(g,r,["x","y"]),f&&d.noneOrAll(g,r,["ax","ay"]),u){var y=i("xclick"),E=i("yclick");r._xclick=y===void 0?r.x:C.cleanPosition(y,h,r.xref),r._yclick=E===void 0?r.y:C.cleanPosition(E,h,r.yref)}}}},23816:function(H,U,e){var d=e(33428),C=e(24040),n=e(7316),L=e(3400),w=L.strTranslate,v=e(54460),g=e(76308),r=e(43616),t=e(93024),i=e(72736),a=e(93972),u=e(86476),f=e(31780).arrayEditor,l=e(33652);H.exports={draw:m,drawOne:h,drawRaw:c};function m(o){var p=o._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var x=0;x<p.annotations.length;x++)p.annotations[x].visible&&h(o,x);return n.previousPromises(o)}function h(o,p){var x=o._fullLayout,A=x.annotations[p]||{},_=v.getFromId(o,A.xref),y=v.getFromId(o,A.yref);_&&_.setScale(),y&&y.setScale(),c(o,A,p,!1,_,y)}function T(o,p,x,A,_){var y=_[x],E=_[x+"ref"],M=x.indexOf("y")!==-1,s=v.getRefType(E)==="domain",S=M?A.h:A.w;return o?s?y+(M?-p:p)/o._length:o.p2r(o.r2p(y)+p):y+(M?-p:p)/S}function c(o,p,x,A,_,y){var E=o._fullLayout,M=o._fullLayout._size,s=o._context.edits,S,b;A?(S="annotation-"+A,b=A+".annotations"):(S="annotation",b="annotations");var I=f(o.layout,b,p),D=I.modifyBase,B=I.modifyItem,k=I.getUpdateObj;E._infolayer.selectAll("."+S+'[data-index="'+x+'"]').remove();var F="clip"+E._uid+"_ann"+x;if(!p._input||p.visible===!1){d.selectAll("#"+F).remove();return}var N={x:{},y:{}},O=+p.textangle||0,V=E._infolayer.append("g").classed(S,!0).attr("data-index",String(x)).style("opacity",p.opacity),X=V.append("g").classed("annotation-text-g",!0),ee=s[p.showarrow?"annotationTail":"annotationPosition"],ne=p.captureevents||s.annotationText||ee;function q(xe){var Se={index:x,annotation:p._input,fullAnnotation:p,event:xe};return A&&(Se.subplotId=A),Se}var se=X.append("g").style("pointer-events",ne?"all":null).call(a,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",q(d.event))});p.hovertext&&se.on("mouseover",function(){var xe=p.hoverlabel,Se=xe.font,Ae=this.getBoundingClientRect(),De=o.getBoundingClientRect();t.loneHover({x0:Ae.left-De.left,x1:Ae.right-De.left,y:(Ae.top+Ae.bottom)/2-De.top,text:p.hovertext,color:xe.bgcolor,borderColor:xe.bordercolor,fontFamily:Se.family,fontSize:Se.size,fontColor:Se.color,fontWeight:Se.weight,fontStyle:Se.style,fontVariant:Se.variant},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:o})}).on("mouseout",function(){t.loneUnhover(E._hoverlayer.node())});var J=p.borderwidth,Z=p.borderpad,te=J+Z,Y=se.append("rect").attr("class","bg").style("stroke-width",J+"px").call(g.stroke,p.bordercolor).call(g.fill,p.bgcolor),ie=p.width||p.height,le=E._topclips.selectAll("#"+F).data(ie?[0]:[]);le.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),le.exit().remove();var j=p.font,K=E._meta?L.templateString(p.text,E._meta):p.text,ue=se.append("text").classed("annotation-text",!0).text(K);function ae(xe){return xe.call(r.font,j).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),i.convertToTspans(xe,o,he),xe}function he(){var xe=ue.selectAll("a");if(xe.size()===1&&xe.text()===ue.text()){var Se=se.insert("a",":first-child").attr({"xlink:xlink:href":xe.attr("xlink:href"),"xlink:xlink:show":xe.attr("xlink:show")}).style({cursor:"pointer"});Se.node().appendChild(Y.node())}var Ae=se.select(".annotation-text-math-group"),De=!Ae.empty(),we=r.bBox((De?Ae:ue).node()),Ce=we.width,be=we.height,Pe=p.width||Ce,Ve=p.height||be,Ge=Math.round(Pe+2*te),Fe=Math.round(Ve+2*te);function He(wr,dr){return dr==="auto"&&(wr<.3333333333333333?dr="left":wr>.6666666666666666?dr="right":dr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[dr]}for(var ft=!1,gt=["x","y"],ct=0;ct<gt.length;ct++){var nt=gt[ct],dt=p[nt+"ref"]||nt,pt=p["a"+nt+"ref"],wt={x:_,y}[nt],Tt=(O+(nt==="x"?0:-90))*Math.PI/180,Ct=Ge*Math.cos(Tt),at=Fe*Math.sin(Tt),ze=Math.abs(Ct)+Math.abs(at),je=p[nt+"anchor"],Je=p[nt+"shift"]*(nt==="x"?1:-1),Xe=N[nt],Oe,ke,Ke,Ie,pe,Te=v.getRefType(dt);if(wt&&Te!=="domain"){var Ue=wt.r2fraction(p[nt]);(Ue<0||Ue>1)&&(pt===dt?(Ue=wt.r2fraction(p["a"+nt]),(Ue<0||Ue>1)&&(ft=!0)):ft=!0),Oe=wt._offset+wt.r2p(p[nt]),Ie=.5}else{var et=Te==="domain";nt==="x"?(Ke=p[nt],Oe=et?wt._offset+wt._length*Ke:Oe=M.l+M.w*Ke):(Ke=1-p[nt],Oe=et?wt._offset+wt._length*Ke:Oe=M.t+M.h*Ke),Ie=p.showarrow?.5:Ke}if(p.showarrow){Xe.head=Oe;var st=p["a"+nt];if(pe=Ct*He(.5,p.xanchor)-at*He(.5,p.yanchor),pt===dt){var lt=v.getRefType(pt);lt==="domain"?(nt==="y"&&(st=1-st),Xe.tail=wt._offset+wt._length*st):lt==="paper"?nt==="y"?(st=1-st,Xe.tail=M.t+M.h*st):Xe.tail=M.l+M.w*st:Xe.tail=wt._offset+wt.r2p(st),ke=pe}else Xe.tail=Oe+st,ke=pe+st;Xe.text=Xe.tail+pe;var jt=E[nt==="x"?"width":"height"];if(dt==="paper"&&(Xe.head=L.constrain(Xe.head,1,jt-1)),pt==="pixel"){var Jt=-Math.max(Xe.tail-3,Xe.text),St=Math.min(Xe.tail+3,Xe.text)-jt;Jt>0?(Xe.tail+=Jt,Xe.text+=Jt):St>0&&(Xe.tail-=St,Xe.text-=St)}Xe.tail+=Je,Xe.head+=Je}else pe=ze*He(Ie,je),ke=pe,Xe.text=Oe+pe;Xe.text+=Je,pe+=Je,ke+=Je,p["_"+nt+"padplus"]=ze/2+ke,p["_"+nt+"padminus"]=ze/2-ke,p["_"+nt+"size"]=ze,p["_"+nt+"shift"]=pe}if(ft){se.remove();return}var Rt=0,$t=0;if(p.align!=="left"&&(Rt=(Pe-Ce)*(p.align==="center"?.5:1)),p.valign!=="top"&&($t=(Ve-be)*(p.valign==="middle"?.5:1)),De)Ae.select("svg").attr({x:te+Rt-1,y:te+$t}).call(r.setClipUrl,ie?F:null,o);else{var Pr=te+$t-we.top,xt=te+Rt-we.left;ue.call(i.positionText,xt,Pr).call(r.setClipUrl,ie?F:null,o)}le.select("rect").call(r.setRect,te,te,Pe,Ve),Y.call(r.setRect,J/2,J/2,Ge-J,Fe-J),se.call(r.setTranslate,Math.round(N.x.text-Ge/2),Math.round(N.y.text-Fe/2)),X.attr({transform:"rotate("+O+","+N.x.text+","+N.y.text+")"});var qt=function(wr,dr){V.selectAll(".annotation-arrow-g").remove();var bt=N.x.head,ut=N.y.head,Mt=N.x.tail+wr,_t=N.y.tail+dr,kt=N.x.text+wr,Xt=N.y.text+dr,Wt=L.rotationXYMatrix(O,kt,Xt),Ht=L.apply2DTransform(Wt),tr=L.apply2DTransform2(Wt),gr=+Y.attr("width"),Qt=+Y.attr("height"),mr=kt-.5*gr,Ze=mr+gr,Ye=Xt-.5*Qt,Bt=Ye+Qt,Ft=[[mr,Ye,mr,Bt],[mr,Bt,Ze,Bt],[Ze,Bt,Ze,Ye],[Ze,Ye,mr,Ye]].map(tr);if(!Ft.reduce(function(Nr,xn){return Nr^!!L.segmentsIntersect(bt,ut,bt+1e6,ut+1e6,xn[0],xn[1],xn[2],xn[3])},!1)){Ft.forEach(function(Nr){var xn=L.segmentsIntersect(Mt,_t,bt,ut,Nr[0],Nr[1],Nr[2],Nr[3]);xn&&(Mt=xn.x,_t=xn.y)});var rr=p.arrowwidth,sr=p.arrowcolor,fr=p.arrowside,ir=V.append("g").style({opacity:g.opacity(sr)}).classed("annotation-arrow-g",!0),Vt=ir.append("path").attr("d","M"+Mt+","+_t+"L"+bt+","+ut).style("stroke-width",rr+"px").call(g.stroke,g.rgb(sr));if(l(Vt,fr,p),s.annotationPosition&&Vt.node().parentNode&&!A){var yr=bt,br=ut;if(p.standoff){var _r=Math.sqrt(Math.pow(bt-Mt,2)+Math.pow(ut-_t,2));yr+=p.standoff*(Mt-bt)/_r,br+=p.standoff*(_t-ut)/_r}var pr=ir.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Mt-yr)+","+(_t-br),transform:w(yr,br)}).style("stroke-width",rr+6+"px").call(g.stroke,"rgba(0,0,0,0)").call(g.fill,"rgba(0,0,0,0)"),Yr,zr;u.init({element:pr.node(),gd:o,prepFn:function(){var Nr=r.getTranslate(se);Yr=Nr.x,zr=Nr.y,_&&_.autorange&&D(_._name+".autorange",!0),y&&y.autorange&&D(y._name+".autorange",!0)},moveFn:function(Nr,xn){var tn=Ht(Yr,zr),On=tn[0]+Nr,zn=tn[1]+xn;se.call(r.setTranslate,On,zn),B("x",T(_,Nr,"x",M,p)),B("y",T(y,xn,"y",M,p)),p.axref===p.xref&&B("ax",T(_,Nr,"ax",M,p)),p.ayref===p.yref&&B("ay",T(y,xn,"ay",M,p)),ir.attr("transform",w(Nr,xn)),X.attr({transform:"rotate("+O+","+On+","+zn+")"})},doneFn:function(){C.call("_guiRelayout",o,k());var Nr=document.querySelector(".js-notes-box-panel");Nr&&Nr.redraw(Nr.selectedObj)}})}}};if(p.showarrow&&qt(0,0),ee){var nr;u.init({element:se.node(),gd:o,prepFn:function(){nr=X.attr("transform")},moveFn:function(wr,dr){var bt="pointer";if(p.showarrow)p.axref===p.xref?B("ax",T(_,wr,"ax",M,p)):B("ax",p.ax+wr),p.ayref===p.yref?B("ay",T(y,dr,"ay",M.w,p)):B("ay",p.ay+dr),qt(wr,dr);else{if(A)return;var ut,Mt;if(_)ut=T(_,wr,"x",M,p);else{var _t=p._xsize/M.w,kt=p.x+(p._xshift-p.xshift)/M.w-_t/2;ut=u.align(kt+wr/M.w,_t,0,1,p.xanchor)}if(y)Mt=T(y,dr,"y",M,p);else{var Xt=p._ysize/M.h,Wt=p.y-(p._yshift+p.yshift)/M.h-Xt/2;Mt=u.align(Wt-dr/M.h,Xt,0,1,p.yanchor)}B("x",ut),B("y",Mt),(!_||!y)&&(bt=u.getCursor(_?.5:ut,y?.5:Mt,p.xanchor,p.yanchor))}X.attr({transform:w(wr,dr)+nr}),a(se,bt)},clickFn:function(wr,dr){p.captureevents&&o.emit("plotly_clickannotation",q(dr))},doneFn:function(){a(se),C.call("_guiRelayout",o,k());var wr=document.querySelector(".js-notes-box-panel");wr&&wr.redraw(wr.selectedObj)}})}}s.annotationText?ue.call(i.makeEditable,{delegate:se,gd:o}).call(ae).on("edit",function(xe){p.text=xe,this.call(ae),B("text",xe),_&&_.autorange&&D(_._name+".autorange",!0),y&&y.autorange&&D(y._name+".autorange",!0),C.call("_guiRelayout",o,k())}):ue.call(ae)}},33652:function(H,U,e){var d=e(33428),C=e(76308),n=e(72196),L=e(3400),w=L.strScale,v=L.strRotate,g=L.strTranslate;H.exports=function(t,i,a){var u=t.node(),f=n[a.arrowhead||0],l=n[a.startarrowhead||0],m=(a.arrowwidth||1)*(a.arrowsize||1),h=(a.arrowwidth||1)*(a.startarrowsize||1),T=i.indexOf("start")>=0,c=i.indexOf("end")>=0,o=f.backoff*m+a.standoff,p=l.backoff*h+a.startstandoff,x,A,_,y;if(u.nodeName==="line"){x={x:+t.attr("x1"),y:+t.attr("y1")},A={x:+t.attr("x2"),y:+t.attr("y2")};var E=x.x-A.x,M=x.y-A.y;if(_=Math.atan2(M,E),y=_+Math.PI,o&&p&&o+p>Math.sqrt(E*E+M*M)){X();return}if(o){if(o*o>E*E+M*M){X();return}var s=o*Math.cos(_),S=o*Math.sin(_);A.x+=s,A.y+=S,t.attr({x2:A.x,y2:A.y})}if(p){if(p*p>E*E+M*M){X();return}var b=p*Math.cos(_),I=p*Math.sin(_);x.x-=b,x.y-=I,t.attr({x1:x.x,y1:x.y})}}else if(u.nodeName==="path"){var D=u.getTotalLength(),B="";if(D<o+p){X();return}var k=u.getPointAtLength(0),F=u.getPointAtLength(.1);_=Math.atan2(k.y-F.y,k.x-F.x),x=u.getPointAtLength(Math.min(p,D)),B="0px,"+p+"px,";var N=u.getPointAtLength(D),O=u.getPointAtLength(D-.1);y=Math.atan2(N.y-O.y,N.x-O.x),A=u.getPointAtLength(Math.max(0,D-o));var V=B?p+o:o;B+=D-V+"px,"+D+"px",t.style("stroke-dasharray",B)}function X(){t.style("stroke-dasharray","0px,100px")}function ee(ne,q,se,J){ne.path&&(ne.noRotate&&(se=0),d.select(u.parentNode).append("path").attr({class:t.attr("class"),d:ne.path,transform:g(q.x,q.y)+v(se*180/Math.PI)+w(J)}).style({fill:C.rgb(a.arrowcolor),"stroke-width":0}))}T&&ee(l,x,_,h),c&&ee(f,A,y,m)}},79180:function(H,U,e){var d=e(23816),C=e(42300);H.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:d.draw,drawOne:d.drawOne,drawRaw:d.drawRaw,hasClickToShow:C.hasClickToShow,onClick:C.onClick,convertCoords:e(26828)}},45899:function(H,U,e){var d=e(13916),C=e(67824).overrideAll,n=e(31780).templatedArray;H.exports=C(n("annotation",{visible:d.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:d.xanchor,xshift:d.xshift,yanchor:d.yanchor,yshift:d.yshift,text:d.text,textangle:d.textangle,font:d.font,width:d.width,height:d.height,opacity:d.opacity,align:d.align,valign:d.valign,bgcolor:d.bgcolor,bordercolor:d.bordercolor,borderpad:d.borderpad,borderwidth:d.borderwidth,showarrow:d.showarrow,arrowcolor:d.arrowcolor,arrowhead:d.arrowhead,startarrowhead:d.startarrowhead,arrowside:d.arrowside,arrowsize:d.arrowsize,startarrowsize:d.startarrowsize,arrowwidth:d.arrowwidth,standoff:d.standoff,startstandoff:d.startstandoff,hovertext:d.hovertext,hoverlabel:d.hoverlabel,captureevents:d.captureevents}),"calc","from-root")},42456:function(H,U,e){var d=e(3400),C=e(54460);H.exports=function(w){for(var v=w.fullSceneLayout,g=v.annotations,r=0;r<g.length;r++)n(g[r],w);w.fullLayout._infolayer.selectAll(".annotation-"+w.id).remove()};function n(L,w){var v=w.fullSceneLayout,g=v.domain,r=w.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},d.extendFlat(L._xa,t),C.setConvert(L._xa),L._xa._offset=r.l+g.x[0]*r.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*r.w*(g.x[1]-g.x[0])},L._ya={},d.extendFlat(L._ya,t),C.setConvert(L._ya),L._ya._offset=r.t+(1-g.y[1])*r.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*r.h*(g.y[1]-g.y[0])}}},52808:function(H,U,e){var d=e(3400),C=e(54460),n=e(51272),L=e(87192),w=e(45899);H.exports=function(r,t,i){n(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:i.fullLayout})};function v(g,r,t,i){function a(l,m){return d.coerce(g,r,w,l,m)}function u(l){var m=l+"axis",h={_fullLayout:{}};return h._fullLayout[m]=t[m],C.coercePosition(r,h,a,l,l,.5)}var f=a("visible");f&&(L(g,r,i.fullLayout,a),u("x"),u("y"),u("z"),d.noneOrAll(g,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),d.noneOrAll(g,r,["ax","ay"])))}},71836:function(H,U,e){var d=e(23816).drawRaw,C=e(94424),n=["x","y","z"];H.exports=function(w){for(var v=w.fullSceneLayout,g=w.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var i=r[t],a=!1,u=0;u<3;u++){var f=n[u],l=i[f],m=v[f+"axis"],h=m.r2fraction(l);if(h<0||h>1){a=!0;break}}a?w.fullLayout._infolayer.select(".annotation-"+w.id+'[data-index="'+t+'"]').remove():(i._pdata=C(w.glplot.cameraParams,[v.xaxis.r2l(i.x)*g[0],v.yaxis.r2l(i.y)*g[1],v.zaxis.r2l(i.z)*g[2]]),d(w.graphDiv,i,t,w.id,i._xa,i._ya))}}},56864:function(H,U,e){var d=e(24040),C=e(3400);H.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:n,convert:e(42456),draw:e(71836)};function n(L,w){var v=d.subplotsRegistry.gl3d;if(v)for(var g=v.attrRegex,r=Object.keys(L),t=0;t<r.length;t++){var i=r[t];g.test(i)&&(L[i].annotations||[]).length&&(C.pushUnique(w._basePlotModules,v),C.pushUnique(w._subplots.gl3d,i))}}},54976:function(H,U,e){H.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(H,U,e){var d=e(54976),C=e(3400),n=e(39032),L=n.EPOCHJD,w=n.ONEDAY,v={valType:"enumerated",values:C.sortObjectKeys(d.calendars),editType:"calc",dflt:"gregorian"},g=function(_,y,E,M){var s={};return s[E]=v,C.coerce(_,y,s,E,M)},r=function(_,y,E,M){for(var s=0;s<E.length;s++)g(_,y,E[s]+"calendar",M.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},i={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},a={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},u="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:u,w:u,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(_,y,E){for(var M=Math.floor((y+.05)/w)+L,s=h(E).fromJD(M),S=0,b,I,D,B,k;(S=_.indexOf("%",S))!==-1;)b=_.charAt(S+1),b==="0"||b==="-"||b==="_"?(D=3,I=_.charAt(S+2),b==="_"&&(b="-")):(I=b,b="0",D=2),B=f[I],B?(B===u?k=u:k=s.formatDate(B[b]),_=_.substr(0,S)+k+_.substr(S+D),S+=k.length):S+=D;return _}var m={};function h(_){var y=m[_];return y||(y=m[_]=d.instance(_),y)}function T(_){return C.extendFlat({},v,{description:_})}function c(_){return"Sets the calendar system to use with `"+_+"` date data."}var o={xcalendar:T(c("x"))},p=C.extendFlat({},o,{ycalendar:T(c("y"))}),x=C.extendFlat({},p,{zcalendar:T(c("z"))}),A=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));H.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:x,surface:x,mesh3d:x,scattergl:p,ohlc:o,candlestick:o},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:A},yaxis:{calendar:A},scene:{xaxis:{calendar:A},yaxis:{calendar:A},zaxis:{calendar:A}},polar:{radialaxis:{calendar:A}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:g,handleTraceDefaults:r,CANONICAL_SUNDAY:i,CANONICAL_TICK:t,DFLTRANGE:a,getCal:h,worldCalFmt:l}},22548:function(H,U){U.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],U.defaultLine="#444",U.lightLine="#eee",U.background="#fff",U.borderLine="#BEC8D9",U.lightFraction=90.9090909090909},76308:function(H,U,e){var d=e(49760),C=e(38248),n=e(38116).isTypedArray,L=H.exports={},w=e(22548);L.defaults=w.defaults;var v=L.defaultLine=w.defaultLine;L.lightLine=w.lightLine;var g=L.background=w.background;L.tinyRGB=function(t){var i=t.toRgb();return"rgb("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+")"},L.rgb=function(t){return L.tinyRGB(d(t))},L.opacity=function(t){return t?d(t).getAlpha():0},L.addOpacity=function(t,i){var a=d(t).toRgb();return"rgba("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+", "+i+")"},L.combine=function(t,i){var a=d(t).toRgb();if(a.a===1)return d(t).toRgbString();var u=d(i||g).toRgb(),f=u.a===1?u:{r:255*(1-u.a)+u.r*u.a,g:255*(1-u.a)+u.g*u.a,b:255*(1-u.a)+u.b*u.a},l={r:f.r*(1-a.a)+a.r*a.a,g:f.g*(1-a.a)+a.g*a.a,b:f.b*(1-a.a)+a.b*a.a};return d(l).toRgbString()},L.interpolate=function(t,i,a){var u=d(t).toRgb(),f=d(i).toRgb(),l={r:a*u.r+(1-a)*f.r,g:a*u.g+(1-a)*f.g,b:a*u.b+(1-a)*f.b};return d(l).toRgbString()},L.contrast=function(t,i,a){var u=d(t);u.getAlpha()!==1&&(u=d(L.combine(t,g)));var f=u.isDark()?i?u.lighten(i):g:a?u.darken(a):v;return f.toString()},L.stroke=function(t,i){var a=d(i);t.style({stroke:L.tinyRGB(a),"stroke-opacity":a.getAlpha()})},L.fill=function(t,i){var a=d(i);t.style({fill:L.tinyRGB(a),"fill-opacity":a.getAlpha()})},L.clean=function(t){if(!(!t||typeof t!="object")){var i=Object.keys(t),a,u,f,l;for(a=0;a<i.length;a++)if(f=i[a],l=t[f],f.substr(f.length-5)==="color")if(Array.isArray(l))for(u=0;u<l.length;u++)l[u]=r(l[u]);else t[f]=r(l);else if(f.substr(f.length-10)==="colorscale"&&Array.isArray(l))for(u=0;u<l.length;u++)Array.isArray(l[u])&&(l[u][1]=r(l[u][1]));else if(Array.isArray(l)){var m=l[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(u=0;u<l.length;u++)L.clean(l[u])}else l&&typeof l=="object"&&!n(l)&&L.clean(l)}};function r(t){if(C(t)||typeof t!="string")return t;var i=t.trim();if(i.substr(0,3)!=="rgb")return t;var a=i.match(/^rgba?\s*\(([^()]*)\)$/);if(!a)return t;var u=a[1].trim().split(/\s*[\s,]\s*/),f=i.charAt(3)==="a"&&u.length===4;if(!f&&u.length!==3)return t;for(var l=0;l<u.length;l++){if(!u[l].length||(u[l]=Number(u[l]),!(u[l]>=0)))return t;if(l===3)u[l]>1&&(u[l]=1);else if(u[l]>=1)return t}var m=Math.round(u[0]*255)+", "+Math.round(u[1]*255)+", "+Math.round(u[2]*255);return f?"rgba("+m+", "+u[3]+")":"rgb("+m+")"}},42996:function(H,U,e){var d=e(94724),C=e(25376),n=e(92880).extendFlat,L=e(67824).overrideAll;H.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:d.linecolor,outlinewidth:d.linewidth,bordercolor:d.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:d.minor.tickmode,nticks:d.nticks,tick0:d.tick0,dtick:d.dtick,tickvals:d.tickvals,ticktext:d.ticktext,ticks:n({},d.ticks,{dflt:""}),ticklabeloverflow:n({},d.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:d.ticklen,tickwidth:d.tickwidth,tickcolor:d.tickcolor,ticklabelstep:d.ticklabelstep,showticklabels:d.showticklabels,labelalias:d.labelalias,tickfont:C({}),tickangle:d.tickangle,tickformat:d.tickformat,tickformatstops:d.tickformatstops,tickprefix:d.tickprefix,showtickprefix:d.showtickprefix,ticksuffix:d.ticksuffix,showticksuffix:d.showticksuffix,separatethousands:d.separatethousands,exponentformat:d.exponentformat,minexponent:d.minexponent,showexponent:d.showexponent,title:{text:{valType:"string"},font:C({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:C({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(H){H.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(H,U,e){var d=e(3400),C=e(31780),n=e(26332),L=e(25404),w=e(95936),v=e(42568),g=e(42996);H.exports=function(t,i,a){var u=C.newContainer(i,"colorbar"),f=t.colorbar||{};function l(N,O){return d.coerce(f,u,g,N,O)}var m=a.margin||{t:0,b:0,l:0,r:0},h=a.width-m.l-m.r,T=a.height-m.t-m.b,c=l("orientation"),o=c==="v",p=l("thicknessmode");l("thickness",p==="fraction"?30/(o?h:T):30);var x=l("lenmode");l("len",x==="fraction"?1:o?T:h);var A=l("yref"),_=l("xref"),y=A==="paper",E=_==="paper",M,s,S,b="left";o?(S="middle",b=E?"left":"right",M=E?1.02:1,s=.5):(S=y?"bottom":"top",b="center",M=.5,s=y?1.02:1),d.coerce(f,u,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:M}},"x"),d.coerce(f,u,{y:{valType:"number",min:y?-2:0,max:y?3:1,dflt:s}},"y"),l("xanchor",b),l("xpad"),l("yanchor",S),l("ypad"),d.noneOrAll(f,u,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var I=d.coerce(f,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",I.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(f,u,l,"linear");var D=a.font,B={noAutotickangles:!0,outerTicks:!1,font:D};I.indexOf("inside")!==-1&&(B.bgColor="black"),v(f,u,l,"linear",B),w(f,u,l,"linear",B),L(f,u,l,"linear",B),l("title.text",a._dfltTitle.colorbar);var k=u.showticklabels?u.tickfont:D,F=d.extendFlat({},k,{weight:D.weight,style:D.style,variant:D.variant,color:D.color,size:d.bigFont(k.size)});d.coerceFont(l,"title.font",F),l("title.side",o?"top":"right")}},37848:function(H,U,e){var d=e(33428),C=e(49760),n=e(7316),L=e(24040),w=e(54460),v=e(86476),g=e(3400),r=g.strTranslate,t=e(92880).extendFlat,i=e(93972),a=e(43616),u=e(76308),f=e(81668),l=e(72736),m=e(94288).flipScale,h=e(28336),T=e(37668),c=e(94724),o=e(84284),p=o.LINE_SPACING,x=o.FROM_TL,A=o.FROM_BR,_=e(63964).cn;function y(I){var D=I._fullLayout,B=D._infolayer.selectAll("g."+_.colorbar).data(E(I),function(k){return k._id});B.enter().append("g").attr("class",function(k){return k._id}).classed(_.colorbar,!0),B.each(function(k){var F=d.select(this);g.ensureSingle(F,"rect",_.cbbg),g.ensureSingle(F,"g",_.cbfills),g.ensureSingle(F,"g",_.cblines),g.ensureSingle(F,"g",_.cbaxis,function(O){O.classed(_.crisp,!0)}),g.ensureSingle(F,"g",_.cbtitleunshift,function(O){O.append("g").classed(_.cbtitle,!0)}),g.ensureSingle(F,"rect",_.cboutline);var N=M(F,k,I);N&&N.then&&(I._promises||[]).push(N),I._context.edits.colorbarPosition&&s(F,k,I)}),B.exit().each(function(k){n.autoMargin(I,k._id)}).remove(),B.order()}function E(I){var D=I._fullLayout,B=I.calcdata,k=[],F,N,O,V;function X(j){return t(j,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ee(){typeof V.calc=="function"?V.calc(I,O,F):(F._fillgradient=N.reversescale?m(N.colorscale):N.colorscale,F._zrange=[N[V.min],N[V.max]])}for(var ne=0;ne<B.length;ne++){var q=B[ne];if(O=q[0].trace,!!O._module){var se=O._module.colorbar;if(O.visible===!0&&se)for(var J=Array.isArray(se),Z=J?se:[se],te=0;te<Z.length;te++){V=Z[te];var Y=V.container;N=Y?O[Y]:O,N&&N.showscale&&(F=X(N.colorbar),F._id="cb"+O.uid+(J&&Y?"-"+Y:""),F._traceIndex=O.index,F._propPrefix=(Y?Y+".":"")+"colorbar.",F._meta=O._meta,ee(),k.push(F))}}}for(var ie in D._colorAxes)if(N=D[ie],N.showscale){var le=D._colorAxes[ie];F=X(N.colorbar),F._id="cb"+ie,F._propPrefix=ie+".colorbar.",F._meta=D._meta,V={min:"cmin",max:"cmax"},le[0]!=="heatmap"&&(O=le[1],V.calc=O._module.colorbar.calc),ee(),k.push(F)}return k}function M(I,D,B){var k=D.orientation==="v",F=D.len,N=D.lenmode,O=D.thickness,V=D.thicknessmode,X=D.outlinewidth,ee=D.borderwidth,ne=D.bgcolor,q=D.xanchor,se=D.yanchor,J=D.xpad,Z=D.ypad,te=D.x,Y=k?D.y:1-D.y,ie=D.yref==="paper",le=D.xref==="paper",j=B._fullLayout,K=j._size,ue=D._fillcolor,ae=D._line,he=D.title,xe=he.side,Se=D._zrange||d.extent((typeof ue=="function"?ue:ae.color).domain()),Ae=typeof ae.color=="function"?ae.color:function(){return ae.color},De=typeof ue=="function"?ue:function(){return ue},we=D._levels,Ce=S(B,D,Se),be=Ce.fill,Pe=Ce.line,Ve=Math.round(O*(V==="fraction"?k?K.w:K.h:1)),Ge=Ve/(k?K.w:K.h),Fe=Math.round(F*(N==="fraction"?k?K.h:K.w:1)),He=Fe/(k?K.h:K.w),ft=le?K.w:B._fullLayout.width,gt=ie?K.h:B._fullLayout.height,ct=Math.round(k?te*ft+J:Y*gt+Z),nt={center:.5,right:1}[q]||0,dt={top:1,middle:.5}[se]||0,pt=k?te-nt*Ge:Y-dt*Ge,wt=k?Y-dt*He:te-nt*He,Tt=Math.round(k?gt*(1-wt):ft*wt);D._lenFrac=He,D._thickFrac=Ge,D._uFrac=pt,D._vFrac=wt;var Ct=D._axis=b(B,D,Se);Ct.position=Ge+(k?te+J/K.w:Y+Z/K.h);var at=["top","bottom"].indexOf(xe)!==-1;if(k&&at&&(Ct.title.side=xe,Ct.titlex=te+J/K.w,Ct.titley=wt+(he.side==="top"?He-Z/K.h:Z/K.h)),!k&&!at&&(Ct.title.side=xe,Ct.titley=Y+Z/K.h,Ct.titlex=wt+J/K.w),ae.color&&D.tickmode==="auto"){Ct.tickmode="linear",Ct.tick0=we.start;var ze=we.size,je=g.constrain(Fe/50,4,15)+1,Je=(Se[1]-Se[0])/((D.nticks||je)*ze);if(Je>1){var Xe=Math.pow(10,Math.floor(Math.log(Je)/Math.LN10));ze*=Xe*g.roundUp(Je/Xe,[2,5,10]),(Math.abs(we.start)/we.size+1e-6)%1<2e-6&&(Ct.tick0=0)}Ct.dtick=ze}Ct.domain=k?[wt+Z/K.h,wt+He-Z/K.h]:[wt+J/K.w,wt+He-J/K.w],Ct.setScale(),I.attr("transform",r(Math.round(K.l),Math.round(K.t)));var Oe=I.select("."+_.cbtitleunshift).attr("transform",r(-Math.round(K.l),-Math.round(K.t))),ke=Ct.ticklabelposition,Ke=Ct.title.font.size,Ie=I.select("."+_.cbaxis),pe,Te=0,Ue=0;function et(St,Rt){var $t={propContainer:Ct,propName:D._propPrefix+"title",traceIndex:D._traceIndex,_meta:D._meta,placeholder:j._dfltTitle.colorbar,containerGroup:I.select("."+_.cbtitle)},Pr=St.charAt(0)==="h"?St.substr(1):"h"+St;I.selectAll("."+Pr+",."+Pr+"-math-group").remove(),f.draw(B,St,t($t,Rt||{}))}function st(){if(k&&at||!k&&!at){var St,Rt;xe==="top"&&(St=J+K.l+ft*te,Rt=Z+K.t+gt*(1-wt-He)+3+Ke*.75),xe==="bottom"&&(St=J+K.l+ft*te,Rt=Z+K.t+gt*(1-wt)-3-Ke*.25),xe==="right"&&(Rt=Z+K.t+gt*Y+3+Ke*.75,St=J+K.l+ft*wt),et(Ct._id+"title",{attributes:{x:St,y:Rt,"text-anchor":k?"start":"middle"}})}}function lt(){if(k&&!at||!k&&at){var St=Ct.position||0,Rt=Ct._offset+Ct._length/2,$t,Pr;if(xe==="right")Pr=Rt,$t=K.l+ft*St+10+Ke*(Ct.showticklabels?1:.5);else if($t=Rt,xe==="bottom"&&(Pr=K.t+gt*St+10+(ke.indexOf("inside")===-1?Ct.tickfont.size:0)+(Ct.ticks!=="intside"&&D.ticklen||0)),xe==="top"){var xt=he.text.split("<br>").length;Pr=K.t+gt*St+10-Ve-p*Ke*xt}et((k?"h":"v")+Ct._id+"title",{avoid:{selection:d.select(B).selectAll("g."+Ct._id+"tick"),side:xe,offsetTop:k?0:K.t,offsetLeft:k?K.l:0,maxShift:k?j.width:j.height},attributes:{x:$t,y:Pr,"text-anchor":"middle"},transform:{rotate:k?-90:0,offset:0}})}}function jt(){if(!k&&!at||k&&at){var St=I.select("."+_.cbtitle),Rt=St.select("text"),$t=[-X/2,X/2],Pr=St.select(".h"+Ct._id+"title-math-group").node(),xt=15.6;Rt.node()&&(xt=parseInt(Rt.node().style.fontSize,10)*p);var qt;if(Pr?(qt=a.bBox(Pr),Ue=qt.width,Te=qt.height,Te>xt&&($t[1]-=(Te-xt)/2)):Rt.node()&&!Rt.classed(_.jsPlaceholder)&&(qt=a.bBox(Rt.node()),Ue=qt.width,Te=qt.height),k){if(Te){if(Te+=5,xe==="top")Ct.domain[1]-=Te/K.h,$t[1]*=-1;else{Ct.domain[0]+=Te/K.h;var nr=l.lineCount(Rt);$t[1]+=(1-nr)*xt}St.attr("transform",r($t[0],$t[1])),Ct.setScale()}}else Ue&&(xe==="right"&&(Ct.domain[0]+=(Ue+Ke/2)/K.w),St.attr("transform",r($t[0],$t[1])),Ct.setScale())}I.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",k?r(0,Math.round(K.h*(1-Ct.domain[1]))):r(Math.round(K.w*Ct.domain[0]),0)),Ie.attr("transform",k?r(0,Math.round(-K.t)):r(Math.round(-K.l),0));var wr=I.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(be);wr.enter().append("rect").classed(_.cbfill,!0).attr("style",""),wr.exit().remove();var dr=Se.map(Ct.c2p).map(Math.round).sort(function(kt,Xt){return kt-Xt});wr.each(function(kt,Xt){var Wt=[Xt===0?Se[0]:(be[Xt]+be[Xt-1])/2,Xt===be.length-1?Se[1]:(be[Xt]+be[Xt+1])/2].map(Ct.c2p).map(Math.round);k&&(Wt[1]=g.constrain(Wt[1]+(Wt[1]>Wt[0])?1:-1,dr[0],dr[1]));var Ht=d.select(this).attr(k?"x":"y",ct).attr(k?"y":"x",d.min(Wt)).attr(k?"width":"height",Math.max(Ve,2)).attr(k?"height":"width",Math.max(d.max(Wt)-d.min(Wt),2));if(D._fillgradient)a.gradient(Ht,B,D._id,k?"vertical":"horizontalreversed",D._fillgradient,"fill");else{var tr=De(kt).replace("e-","");Ht.attr("fill",C(tr).toHexString())}});var bt=I.select("."+_.cblines).selectAll("path."+_.cbline).data(ae.color&&ae.width?Pe:[]);bt.enter().append("path").classed(_.cbline,!0),bt.exit().remove(),bt.each(function(kt){var Xt=ct,Wt=Math.round(Ct.c2p(kt))+ae.width/2%1;d.select(this).attr("d","M"+(k?Xt+","+Wt:Wt+","+Xt)+(k?"h":"v")+Ve).call(a.lineGroupStyle,ae.width,Ae(kt),ae.dash)}),Ie.selectAll("g."+Ct._id+"tick,path").remove();var ut=ct+Ve+(X||0)/2-(D.ticks==="outside"?1:0),Mt=w.calcTicks(Ct),_t=w.getTickSigns(Ct)[2];return w.drawTicks(B,Ct,{vals:Ct.ticks==="inside"?w.clipEnds(Ct,Mt):Mt,layer:Ie,path:w.makeTickPath(Ct,ut,_t),transFn:w.makeTransTickFn(Ct)}),w.drawLabels(B,Ct,{vals:Mt,layer:Ie,transFn:w.makeTransTickLabelFn(Ct),labelFns:w.makeLabelFns(Ct,ut)})}function Jt(){var St,Rt=Ve+X/2;ke.indexOf("inside")===-1&&(St=a.bBox(Ie.node()),Rt+=k?St.width:St.height),pe=Oe.select("text");var $t=0,Pr=k&&xe==="top",xt=!k&&xe==="right",qt=0;if(pe.node()&&!pe.classed(_.jsPlaceholder)){var nr,wr=Oe.select(".h"+Ct._id+"title-math-group").node();wr&&(k&&at||!k&&!at)?(St=a.bBox(wr),$t=St.width,nr=St.height):(St=a.bBox(Oe.node()),$t=St.right-K.l-(k?ct:Tt),nr=St.bottom-K.t-(k?Tt:ct),!k&&xe==="top"&&(Rt+=St.height,qt=St.height)),xt&&(pe.attr("transform",r($t/2+Ke/2,0)),$t*=2),Rt=Math.max(Rt,k?$t:nr)}var dr=(k?J:Z)*2+Rt+ee+X/2,bt=0;!k&&he.text&&se==="bottom"&&Y<=0&&(bt=dr/2,dr+=bt,qt+=bt),j._hColorbarMoveTitle=bt,j._hColorbarMoveCBTitle=qt;var ut=ee+X,Mt=(k?ct:Tt)-ut/2-(k?J:0),_t=(k?Tt:ct)-(k?Fe:Z+qt-bt);I.select("."+_.cbbg).attr("x",Mt).attr("y",_t).attr(k?"width":"height",Math.max(dr-bt,2)).attr(k?"height":"width",Math.max(Fe+ut,2)).call(u.fill,ne).call(u.stroke,D.bordercolor).style("stroke-width",ee);var kt=xt?Math.max($t-10,0):0;I.selectAll("."+_.cboutline).attr("x",(k?ct:Tt+J)+kt).attr("y",(k?Tt+Z-Fe:ct)+(Pr?Te:0)).attr(k?"width":"height",Math.max(Ve,2)).attr(k?"height":"width",Math.max(Fe-(k?2*Z+Te:2*J+kt),2)).call(u.stroke,D.outlinecolor).style({fill:"none","stroke-width":X});var Xt=k?nt*dr:0,Wt=k?0:(1-dt)*dr-qt;if(Xt=le?K.l-Xt:-Xt,Wt=ie?K.t-Wt:-Wt,I.attr("transform",r(Xt,Wt)),!k&&(ee||C(ne).getAlpha()&&!C.equals(j.paper_bgcolor,ne))){var Ht=Ie.selectAll("text"),tr=Ht[0].length,gr=I.select("."+_.cbbg).node(),Qt=a.bBox(gr),mr=a.getTranslate(I),Ze=2;Ht.each(function(br,_r){var pr=0,Yr=tr-1;if(_r===pr||_r===Yr){var zr=a.bBox(this),Nr=a.getTranslate(this),xn;if(_r===Yr){var tn=zr.right+Nr.x,On=Qt.right+mr.x+Tt-ee-Ze+te;xn=On-tn,xn>0&&(xn=0)}else if(_r===pr){var zn=zr.left+Nr.x,Sr=Qt.left+mr.x+Tt+ee+Ze;xn=Sr-zn,xn<0&&(xn=0)}xn&&(tr<3?this.setAttribute("transform","translate("+xn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ye={},Bt=x[q],Ft=A[q],rr=x[se],sr=A[se],fr=dr-Ve;k?(N==="pixels"?(Ye.y=Y,Ye.t=Fe*rr,Ye.b=Fe*sr):(Ye.t=Ye.b=0,Ye.yt=Y+F*rr,Ye.yb=Y-F*sr),V==="pixels"?(Ye.x=te,Ye.l=dr*Bt,Ye.r=dr*Ft):(Ye.l=fr*Bt,Ye.r=fr*Ft,Ye.xl=te-O*Bt,Ye.xr=te+O*Ft)):(N==="pixels"?(Ye.x=te,Ye.l=Fe*Bt,Ye.r=Fe*Ft):(Ye.l=Ye.r=0,Ye.xl=te+F*Bt,Ye.xr=te-F*Ft),V==="pixels"?(Ye.y=1-Y,Ye.t=dr*rr,Ye.b=dr*sr):(Ye.t=fr*rr,Ye.b=fr*sr,Ye.yt=Y-O*rr,Ye.yb=Y+O*sr));var ir=D.y<.5?"b":"t",Vt=D.x<.5?"l":"r";B._fullLayout._reservedMargin[D._id]={};var yr={r:j.width-Mt-Xt,l:Mt+Ye.r,b:j.height-_t-Wt,t:_t+Ye.b};le&&ie?n.autoMargin(B,D._id,Ye):le?B._fullLayout._reservedMargin[D._id][ir]=yr[ir]:ie||k?B._fullLayout._reservedMargin[D._id][Vt]=yr[Vt]:B._fullLayout._reservedMargin[D._id][ir]=yr[ir]}return g.syncOrAsync([n.previousPromises,st,jt,lt,n.previousPromises,Jt],B)}function s(I,D,B){var k=D.orientation==="v",F=B._fullLayout,N=F._size,O,V,X;v.init({element:I.node(),gd:B,prepFn:function(){O=I.attr("transform"),i(I)},moveFn:function(ee,ne){I.attr("transform",O+r(ee,ne)),V=v.align((k?D._uFrac:D._vFrac)+ee/N.w,k?D._thickFrac:D._lenFrac,0,1,D.xanchor),X=v.align((k?D._vFrac:1-D._uFrac)-ne/N.h,k?D._lenFrac:D._thickFrac,0,1,D.yanchor);var q=v.getCursor(V,X,D.xanchor,D.yanchor);i(I,q)},doneFn:function(){if(i(I),V!==void 0&&X!==void 0){var ee={};ee[D._propPrefix+"x"]=V,ee[D._propPrefix+"y"]=X,D._traceIndex!==void 0?L.call("_guiRestyle",B,ee,D._traceIndex):L.call("_guiRelayout",B,ee)}}})}function S(I,D,B){var k=D._levels,F=[],N=[],O,V,X=k.end+k.size/100,ee=k.size,ne=1.001*B[0]-.001*B[1],q=1.001*B[1]-.001*B[0];for(V=0;V<1e5&&(O=k.start+V*ee,!(ee>0?O>=X:O<=X));V++)O>ne&&O<q&&F.push(O);if(D._fillgradient)N=[0];else if(typeof D._fillcolor=="function"){var se=D._filllevels;if(se)for(X=se.end+se.size/100,ee=se.size,V=0;V<1e5&&(O=se.start+V*ee,!(ee>0?O>=X:O<=X));V++)O>B[0]&&O<B[1]&&N.push(O);else N=F.map(function(J){return J-k.size/2}),N.push(N[N.length-1]+k.size)}else D._fillcolor&&typeof D._fillcolor=="string"&&(N=[0]);return k.size<0&&(F.reverse(),N.reverse()),{line:F,fill:N}}function b(I,D,B){var k=I._fullLayout,F=D.orientation==="v",N={type:"linear",range:B,tickmode:D.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,ticklabelposition:D.ticklabelposition,ticklabeloverflow:D.ticklabeloverflow,ticklabelstep:D.ticklabelstep,tickfont:D.tickfont,tickangle:D.tickangle,tickformat:D.tickformat,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,showexponent:D.showexponent,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,title:D.title,showline:!0,anchor:"free",side:F?"right":"bottom",position:1},O=F?"y":"x",V={type:"linear",_id:O+D._id},X={letter:O,font:k.font,noAutotickangles:O==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:k.calendar};function ee(ne,q){return g.coerce(N,V,c,ne,q)}return h(N,V,ee,X,k),T(N,V,ee,X),V}H.exports={draw:y}},90553:function(H,U,e){var d=e(3400);H.exports=function(n){return d.isPlainObject(n.colorbar)}},55080:function(H,U,e){H.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(H,U,e){var d=e(42996),C=e(53756).counter,n=e(95376),L=e(88304).scales;n(L),H.exports=function(v,g){v=v||"",g=g||{};var r=g.cLetter||"c";"onlyIfNumerical"in g&&g.onlyIfNumerical;var t="noScale"in g?g.noScale:v==="marker.line",i="showScaleDflt"in g?g.showScaleDflt:r==="z",a=typeof g.colorscaleDflt=="string"?L[g.colorscaleDflt]:null,u=g.editTypeOverride||"",f;"colorAttr"in g?(f=g.colorAttr,g.colorAttr):f={z:"z",c:"color"}[r];var l=r+"auto",m=r+"min",h=r+"max",T=r+"mid",c={};c[m]=c[h]=void 0;var o={};o[l]=!1;var p={};return f==="color"&&(p.color={valType:"color",arrayOk:!0,editType:u||"style"},g.anim&&(p.color.anim=!0)),p[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},p[m]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:o},p[h]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:o},p[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},p.colorscale={valType:"colorscale",editType:"calc",dflt:a,impliedEdits:{autocolorscale:!1}},p.autocolorscale={valType:"boolean",dflt:g.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},p.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(p.showscale={valType:"boolean",dflt:i,editType:"calc"},p.colorbar=d),g.noColorAxis||(p.coloraxis={valType:"subplotid",regex:C("coloraxis"),dflt:null,editType:"calc"}),p}},47128:function(H,U,e){var d=e(38248),C=e(3400),n=e(94288).extractOpts;H.exports=function(w,v,g){var r=w._fullLayout,t=g.vals,i=g.containerStr,a=i?C.nestedProperty(v,i).get():v,u=n(a),f=u.auto!==!1,l=u.min,m=u.max,h=u.mid,T=function(){return C.aggNums(Math.min,null,t)},c=function(){return C.aggNums(Math.max,null,t)};if(l===void 0?l=T():f&&(a._colorAx&&d(l)?l=Math.min(l,T()):l=T()),m===void 0?m=c():f&&(a._colorAx&&d(m)?m=Math.max(m,c()):m=c()),f&&h!==void 0&&(m-h>h-l?l=h-(m-h):m-h<h-l&&(m=h+(h-l))),l===m&&(l-=.5,m+=.5),u._sync("min",l),u._sync("max",m),u.autocolorscale){var o;l*m<0?o=r.colorscale.diverging:l>=0?o=r.colorscale.sequential:o=r.colorscale.sequentialminus,u._sync("colorscale",o)}}},95504:function(H,U,e){var d=e(3400),C=e(94288).hasColorscale,n=e(94288).extractOpts;H.exports=function(w,v){function g(l,m){var h=l["_"+m];h!==void 0&&(l[m]=h)}function r(l,m){var h=m.container?d.nestedProperty(l,m.container).get():l;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var T=n(h),c=T.auto;(c||T.min===void 0)&&g(h,m.min),(c||T.max===void 0)&&g(h,m.max),T.autocolorscale&&g(h,"colorscale")}}for(var t=0;t<w.length;t++){var i=w[t],a=i._module.colorbar;if(a)if(Array.isArray(a))for(var u=0;u<a.length;u++)r(i,a[u]);else r(i,a);C(i,"marker.line")&&r(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in v._colorAxes)r(v[f],{min:"cmin",max:"cmax"})}},27260:function(H,U,e){var d=e(38248),C=e(3400),n=e(90553),L=e(64013),w=e(88304).isValid,v=e(24040).traceIs;function g(r,t){var i=t.slice(0,t.length-1);return t?C.nestedProperty(r,i).get()||{}:r}H.exports=function r(t,i,a,u,f){var l=f.prefix,m=f.cLetter,h="_module"in i,T=g(t,l),c=g(i,l),o=g(i._template||{},l)||{},p=function(){return delete t.coloraxis,delete i.coloraxis,r(t,i,a,u,f)};if(h){var x=a._colorAxes||{},A=u(l+"coloraxis");if(A){var _=v(i,"contour")&&C.nestedProperty(i,"contours.coloring").get()||"heatmap",y=x[A];y?(y[2].push(p),y[0]!==_&&(y[0]=!1,C.warn(["Ignoring coloraxis:",A,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[A]=[_,i,[p]];return}}var E=T[m+"min"],M=T[m+"max"],s=d(E)&&d(M)&&E<M,S=u(l+m+"auto",!s);S?u(l+m+"mid"):(u(l+m+"min"),u(l+m+"max"));var b=T.colorscale,I=o.colorscale,D;if(b!==void 0&&(D=!w(b)),I!==void 0&&(D=!w(I)),u(l+"autocolorscale",D),u(l+"colorscale"),u(l+"reversescale"),l!=="marker.line."){var B;l&&h&&(B=n(T));var k=u(l+"showscale",B);k&&(l&&o&&(c._template=o),L(T,c,a))}}},94288:function(H,U,e){var d=e(33428),C=e(49760),n=e(38248),L=e(3400),w=e(76308),v=e(88304).isValid;function g(h,T,c){var o=T?L.nestedProperty(h,T).get()||{}:h,p=o[c||"color"];p&&p._inputArray&&(p=p._inputArray);var x=!1;if(L.isArrayOrTypedArray(p)){for(var A=0;A<p.length;A++)if(n(p[A])){x=!0;break}}return L.isPlainObject(o)&&(x||o.showscale===!0||n(o.cmin)&&n(o.cmax)||v(o.colorscale)||L.isPlainObject(o.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(h){var T=h._colorAx,c=T||h,o={},p,x,A;for(x=0;x<r.length;x++)A=r[x],o[A]=c[A];if(T)for(p="c",x=0;x<t.length;x++)A=t[x],o[A]=c["c"+A];else{var _;for(x=0;x<t.length;x++){if(A=t[x],_="c"+A,_ in c){o[A]=c[_];continue}_="z"+A,_ in c&&(o[A]=c[_])}p=_.charAt(0)}return o._sync=function(y,E){var M=t.indexOf(y)!==-1?p+y:y;c[M]=c["_"+M]=E},o}function a(h){for(var T=i(h),c=T.min,o=T.max,p=T.reversescale?u(T.colorscale):T.colorscale,x=p.length,A=new Array(x),_=new Array(x),y=0;y<x;y++){var E=p[y];A[y]=c+E[0]*(o-c),_[y]=E[1]}return{domain:A,range:_}}function u(h){for(var T=h.length,c=new Array(T),o=T-1,p=0;o>=0;o--,p++){var x=h[o];c[p]=[1-x[0],x[1]]}return c}function f(h,T){T=T||{};for(var c=h.domain,o=h.range,p=o.length,x=new Array(p),A=0;A<p;A++){var _=C(o[A]).toRgb();x[A]=[_.r,_.g,_.b,_.a]}var y=d.scale.linear().domain(c).range(x).clamp(!0),E=T.noNumericCheck,M=T.returnArray,s;return E&&M?s=y:E?s=function(S){return m(y(S))}:M?s=function(S){return n(S)?y(S):C(S).isValid()?S:w.defaultLine}:s=function(S){return n(S)?m(y(S)):C(S).isValid()?S:w.defaultLine},s.domain=y.domain,s.range=function(){return o},s}function l(h,T){return f(a(h),T)}function m(h){var T={r:h[0],g:h[1],b:h[2],a:h[3]};return C(T).toRgbString()}H.exports={hasColorscale:g,extractOpts:i,extractScale:a,flipScale:u,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:l}},8932:function(H,U,e){var d=e(88304),C=e(94288);H.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:d.scales,defaultScale:d.defaultScale,getScale:d.get,isValidScale:d.isValid,hasColorscale:C.hasColorscale,extractOpts:C.extractOpts,extractScale:C.extractScale,flipScale:C.flipScale,makeColorScaleFunc:C.makeColorScaleFunc,makeColorScaleFuncFromTrace:C.makeColorScaleFuncFromTrace}},92332:function(H,U,e){var d=e(92880).extendFlat,C=e(49084),n=e(88304).scales;H.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:d({_isSubplotObj:!0,editType:"calc"},C("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(H,U,e){var d=e(3400),C=e(31780),n=e(92332),L=e(27260);H.exports=function(v,g){function r(h,T){return d.coerce(v,g,n,h,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=g._colorAxes,i,a;function u(h,T){return d.coerce(i,a,n.coloraxis,h,T)}for(var f in t){var l=t[f];if(l[0])i=v[f]||{},a=C.newContainer(g,f,"coloraxis"),a._name=f,L(i,a,g,u,{prefix:"",cLetter:"c"});else{for(var m=0;m<l[2].length;m++)l[2][m]();delete g._colorAxes[f]}}}},88304:function(H,U,e){var d=e(49760),C={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=C.RdBu;function L(g,r){if(r||(r=n),!g)return r;function t(){try{g=C[g]||JSON.parse(g)}catch{g=r}}return typeof g=="string"&&(t(),typeof g=="string"&&t()),w(g)?g:r}function w(g){var r=0;if(!Array.isArray(g)||g.length<2||!g[0]||!g[g.length-1]||+g[0][0]!=0||+g[g.length-1][0]!=1)return!1;for(var t=0;t<g.length;t++){var i=g[t];if(i.length!==2||+i[0]<r||!d(i[1]).isValid())return!1;r=+i[0]}return!0}function v(g){return C[g]!==void 0?!0:w(g)}H.exports={scales:C,defaultScale:n,get:L,isValid:v}},78316:function(H){H.exports=function(e,d,C,n,L){var w=(e-C)/(n-C),v=w+d/(n-C),g=(w+v)/2;return L==="left"||L==="bottom"?w:L==="center"||L==="middle"?g:L==="right"||L==="top"?v:w<.6666666666666666-g?w:v>1.3333333333333333-g?v:g}},67416:function(H,U,e){var d=e(3400),C=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];H.exports=function(L,w,v,g){return v==="left"?L=0:v==="center"?L=1:v==="right"?L=2:L=d.constrain(Math.floor(L*3),0,2),g==="bottom"?w=0:g==="middle"?w=1:g==="top"?w=2:w=d.constrain(Math.floor(w*3),0,2),C[w][L]}},72760:function(H,U){U.selectMode=function(e){return e==="lasso"||e==="select"},U.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.openMode=function(e){return e==="drawline"||e==="drawopenpath"},U.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},U.selectingOrDrawing=function(e){return U.freeMode(e)||U.rectMode(e)}},86476:function(H,U,e){var d=e(29128),C=e(52264),n=e(89184),L=e(3400).removeElement,w=e(33816),v=H.exports={};v.align=e(78316),v.getCursor=e(67416);var g=e(2616);v.unhover=g.wrapped,v.unhoverRaw=g.raw,v.init=function(a){var u=a.gd,f=1,l=u._context.doubleClickDelay,m=a.element,h,T,c,o,p,x,A,_;u._mouseDownTime||(u._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=M,n?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=M,m.addEventListener("touchstart",M,{passive:!1})):m.ontouchstart=M;function y(b,I,D){return Math.abs(b)<D&&(b=0),Math.abs(I)<D&&(I=0),[b,I]}var E=a.clampFn||y;function M(b){u._dragged=!1,u._dragging=!0;var I=t(b);h=I[0],T=I[1],A=b.target,x=b,_=b.buttons===2||b.ctrlKey,typeof b.clientX>"u"&&typeof b.clientY>"u"&&(b.clientX=h,b.clientY=T),c=new Date().getTime(),c-u._mouseDownTime<l?f+=1:(f=1,u._mouseDownTime=c),a.prepFn&&a.prepFn(b,h,T),C&&!_?(p=r(),p.style.cursor=window.getComputedStyle(m).cursor):C||(p=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",S),document.addEventListener("touchend",S),a.dragmode!==!1&&(b.preventDefault(),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1}))}function s(b){b.preventDefault();var I=t(b),D=a.minDrag||w.MINDRAG,B=E(I[0]-h,I[1]-T,D),k=B[0],F=B[1];(k||F)&&(u._dragged=!0,v.unhover(u,b)),u._dragged&&a.moveFn&&!_&&(u._dragdata={element:m,dx:k,dy:F},a.moveFn(k,F))}function S(b){if(delete u._dragdata,a.dragmode!==!1&&(b.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s)),document.removeEventListener("mouseup",S),document.removeEventListener("touchend",S),C?L(p):o&&(p.documentElement.style.cursor=o,o=null),!u._dragging){u._dragged=!1;return}if(u._dragging=!1,new Date().getTime()-u._mouseDownTime>l&&(f=Math.max(f-1,1)),u._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(f,x),!_){var I;try{I=new MouseEvent("click",b)}catch{var D=t(b);I=document.createEvent("MouseEvents"),I.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,D[0],D[1],b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}A.dispatchEvent(I)}u._dragging=!1,u._dragged=!1}};function r(){var i=document.createElement("div");i.className="dragcover";var a=i.style;return a.position="fixed",a.left=0,a.right=0,a.top=0,a.bottom=0,a.zIndex=999999999,a.background="none",document.body.appendChild(i),i}v.coverSlip=r;function t(i){return d(i.changedTouches?i.changedTouches[0]:i,document.body)}},2616:function(H,U,e){var d=e(95924),C=e(91200),n=e(52200).getGraphDiv,L=e(92456),w=H.exports={};w.wrapped=function(v,g,r){v=n(v),v._fullLayout&&C.clear(v._fullLayout._uid+L.HOVERID),w.raw(v,g,r)},w.raw=function(g,r){var t=g._fullLayout,i=g._hoverdata;r||(r={}),!(r.target&&!g._dragged&&d.triggerHandler(g,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),g._hoverdata=void 0,r.target&&i&&g.emit("plotly_unhover",{event:r,points:i}))}},98192:function(H,U){U.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},U.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(H,U,e){var d=e(33428),C=e(3400),n=C.numberFormat,L=e(38248),w=e(49760),v=e(24040),g=e(76308),r=e(8932),t=C.strTranslate,i=e(72736),a=e(9616),u=e(84284),f=u.LINE_SPACING,l=e(13448).DESELECTDIM,m=e(43028),h=e(7152),T=e(10624).appendArrayPointValue,c=H.exports={};c.font=function(we,Ce,be,Pe,Ve,Ge,Fe){C.isPlainObject(Ce)&&(Fe=Ce.variant,Ge=Ce.style,Ve=Ce.weight,Pe=Ce.color,be=Ce.size,Ce=Ce.family),Ce&&we.style("font-family",Ce),be+1&&we.style("font-size",be+"px"),Pe&&we.call(g.fill,Pe),Ve&&we.style("font-weight",Ve),Ge&&we.style("font-style",Ge),Fe&&we.style("font-variant",Fe)},c.setPosition=function(we,Ce,be){we.attr("x",Ce).attr("y",be)},c.setSize=function(we,Ce,be){we.attr("width",Ce).attr("height",be)},c.setRect=function(we,Ce,be,Pe,Ve){we.call(c.setPosition,Ce,be).call(c.setSize,Pe,Ve)},c.translatePoint=function(we,Ce,be,Pe){var Ve=be.c2p(we.x),Ge=Pe.c2p(we.y);if(L(Ve)&&L(Ge)&&Ce.node())Ce.node().nodeName==="text"?Ce.attr("x",Ve).attr("y",Ge):Ce.attr("transform",t(Ve,Ge));else return!1;return!0},c.translatePoints=function(we,Ce,be){we.each(function(Pe){var Ve=d.select(this);c.translatePoint(Pe,Ve,Ce,be)})},c.hideOutsideRangePoint=function(we,Ce,be,Pe,Ve,Ge){Ce.attr("display",be.isPtWithinRange(we,Ve)&&Pe.isPtWithinRange(we,Ge)?null:"none")},c.hideOutsideRangePoints=function(we,Ce){if(Ce._hasClipOnAxisFalse){var be=Ce.xaxis,Pe=Ce.yaxis;we.each(function(Ve){var Ge=Ve[0].trace,Fe=Ge.xcalendar,He=Ge.ycalendar,ft=v.traceIs(Ge,"bar-like")?".bartext":".point,.textpoint";we.selectAll(ft).each(function(gt){c.hideOutsideRangePoint(gt,d.select(this),be,Pe,Fe,He)})})}},c.crispRound=function(we,Ce,be){return!Ce||!L(Ce)?be||0:we._context.staticPlot?Ce:Ce<1?1:Math.round(Ce)},c.singleLineStyle=function(we,Ce,be,Pe,Ve){Ce.style("fill","none");var Ge=(((we||[])[0]||{}).trace||{}).line||{},Fe=be||Ge.width||0,He=Ve||Ge.dash||"";g.stroke(Ce,Pe||Ge.color),c.dashLine(Ce,He,Fe)},c.lineGroupStyle=function(we,Ce,be,Pe){we.style("fill","none").each(function(Ve){var Ge=(((Ve||[])[0]||{}).trace||{}).line||{},Fe=Ce||Ge.width||0,He=Pe||Ge.dash||"";d.select(this).call(g.stroke,be||Ge.color).call(c.dashLine,He,Fe)})},c.dashLine=function(we,Ce,be){be=+be||0,Ce=c.dashStyle(Ce,be),we.style({"stroke-dasharray":Ce,"stroke-width":be+"px"})},c.dashStyle=function(we,Ce){Ce=+Ce||1;var be=Math.max(Ce,3);return we==="solid"?we="":we==="dot"?we=be+"px,"+be+"px":we==="dash"?we=3*be+"px,"+3*be+"px":we==="longdash"?we=5*be+"px,"+5*be+"px":we==="dashdot"?we=3*be+"px,"+be+"px,"+be+"px,"+be+"px":we==="longdashdot"&&(we=5*be+"px,"+2*be+"px,"+be+"px,"+2*be+"px"),we};function o(we,Ce,be,Pe){var Ve=Ce.fillpattern,Ge=Ce.fillgradient,Fe=Ve&&c.getPatternAttr(Ve.shape,0,"");if(Fe){var He=c.getPatternAttr(Ve.bgcolor,0,null),ft=c.getPatternAttr(Ve.fgcolor,0,null),gt=Ve.fgopacity,ct=c.getPatternAttr(Ve.size,0,8),nt=c.getPatternAttr(Ve.solidity,0,.3),dt=Ce.uid;c.pattern(we,"point",be,dt,Fe,ct,nt,void 0,Ve.fillmode,He,ft,gt)}else if(Ge&&Ge.type!=="none"){var pt=Ge.type,wt="scatterfill-"+Ce.uid;if(Pe&&(wt="legendfill-"+Ce.uid),!Pe&&(Ge.start!==void 0||Ge.stop!==void 0)){var Tt,Ct;pt==="horizontal"?(Tt={x:Ge.start,y:0},Ct={x:Ge.stop,y:0}):pt==="vertical"&&(Tt={x:0,y:Ge.start},Ct={x:0,y:Ge.stop}),Tt.x=Ce._xA.c2p(Tt.x===void 0?Ce._extremes.x.min[0].val:Tt.x,!0),Tt.y=Ce._yA.c2p(Tt.y===void 0?Ce._extremes.y.min[0].val:Tt.y,!0),Ct.x=Ce._xA.c2p(Ct.x===void 0?Ce._extremes.x.max[0].val:Ct.x,!0),Ct.y=Ce._yA.c2p(Ct.y===void 0?Ce._extremes.y.max[0].val:Ct.y,!0),we.call(M,be,wt,"linear",Ge.colorscale,"fill",Tt,Ct,!0,!1)}else pt==="horizontal"&&(pt=pt+"reversed"),we.call(c.gradient,be,wt,pt,Ge.colorscale,"fill")}else Ce.fillcolor&&we.call(g.fill,Ce.fillcolor)}c.singleFillStyle=function(we,Ce){var be=d.select(we.node()),Pe=be.data(),Ve=((Pe[0]||[])[0]||{}).trace||{};o(we,Ve,Ce,!1)},c.fillGroupStyle=function(we,Ce,be){we.style("stroke-width",0).each(function(Pe){var Ve=d.select(this);Pe[0].trace&&o(Ve,Pe[0].trace,Ce,be)})};var p=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(p).forEach(function(we){var Ce=p[we],be=Ce.n;c.symbolList.push(be,String(be),we,be+100,String(be+100),we+"-open"),c.symbolNames[be]=we,c.symbolFuncs[be]=Ce.f,c.symbolBackOffs[be]=Ce.backoff||0,Ce.needLine&&(c.symbolNeedLines[be]=!0),Ce.noDot?c.symbolNoDot[be]=!0:c.symbolList.push(be+200,String(be+200),we+"-dot",be+300,String(be+300),we+"-open-dot"),Ce.noFill&&(c.symbolNoFill[be]=!0)});var x=c.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(we){if(L(we))we=+we;else if(typeof we=="string"){var Ce=0;we.indexOf("-open")>0&&(Ce=100,we=we.replace("-open","")),we.indexOf("-dot")>0&&(Ce+=200,we=we.replace("-dot","")),we=c.symbolNames.indexOf(we),we>=0&&(we+=Ce)}return we%100>=x||we>=400?0:Math.floor(Math.max(we,0))};function _(we,Ce,be,Pe){var Ve=we%100;return c.symbolFuncs[Ve](Ce,be,Pe)+(we>=200?A:"")}var y=n("~f"),E={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(we,Ce,be,Pe,Ve,Ge){var Fe=E[Pe];return M(we,Ce,be,Fe.type,Ve,Ge,Fe.start,Fe.stop,!1,Fe.reversed)};function M(we,Ce,be,Pe,Ve,Ge,Fe,He,ft,gt){var ct=Ve.length,nt;Pe==="linear"?nt={node:"linearGradient",attrs:{x1:Fe.x,y1:Fe.y,x2:He.x,y2:He.y,gradientUnits:ft?"userSpaceOnUse":"objectBoundingBox"},reversed:gt}:Pe==="radial"&&(nt={node:"radialGradient",reversed:gt});for(var dt=new Array(ct),pt=0;pt<ct;pt++)nt.reversed?dt[ct-1-pt]=[y((1-Ve[pt][0])*100),Ve[pt][1]]:dt[pt]=[y(Ve[pt][0]*100),Ve[pt][1]];var wt=Ce._fullLayout,Tt="g"+wt._uid+"-"+be,Ct=wt._defs.select(".gradients").selectAll("#"+Tt).data([Pe+dt.join(";")],C.identity);Ct.exit().remove(),Ct.enter().append(nt.node).each(function(){var at=d.select(this);nt.attrs&&at.attr(nt.attrs),at.attr("id",Tt);var ze=at.selectAll("stop").data(dt);ze.exit().remove(),ze.enter().append("stop"),ze.each(function(je){var Je=w(je[1]);d.select(this).attr({offset:je[0]+"%","stop-color":g.tinyRGB(Je),"stop-opacity":Je.getAlpha()})})}),we.style(Ge,J(Tt,Ce)).style(Ge+"-opacity",null),we.classed("gradient_filled",!0)}c.pattern=function(we,Ce,be,Pe,Ve,Ge,Fe,He,ft,gt,ct,nt){var dt=Ce==="legend";He&&(ft==="overlay"?(gt=He,ct=g.contrast(gt)):(gt=void 0,ct=He));var pt=be._fullLayout,wt="p"+pt._uid+"-"+Pe,Tt,Ct,at=function(et,st,lt,jt,Jt){return jt+(Jt-jt)*(et-st)/(lt-st)},ze,je,Je,Xe,Oe={},ke=w(ct),Ke=g.tinyRGB(ke),Ie=ke.getAlpha(),pe=nt*Ie;switch(Ve){case"/":Tt=Ge*Math.sqrt(2),Ct=Ge*Math.sqrt(2),ze="M-"+Tt/4+","+Ct/4+"l"+Tt/2+",-"+Ct/2+"M0,"+Ct+"L"+Tt+",0M"+Tt/4*3+","+Ct/4*5+"l"+Tt/2+",-"+Ct/2,je=Fe*Ge,Xe="path",Oe={d:ze,opacity:pe,stroke:Ke,"stroke-width":je+"px"};break;case"\\":Tt=Ge*Math.sqrt(2),Ct=Ge*Math.sqrt(2),ze="M"+Tt/4*3+",-"+Ct/4+"l"+Tt/2+","+Ct/2+"M0,0L"+Tt+","+Ct+"M-"+Tt/4+","+Ct/4*3+"l"+Tt/2+","+Ct/2,je=Fe*Ge,Xe="path",Oe={d:ze,opacity:pe,stroke:Ke,"stroke-width":je+"px"};break;case"x":Tt=Ge*Math.sqrt(2),Ct=Ge*Math.sqrt(2),ze="M-"+Tt/4+","+Ct/4+"l"+Tt/2+",-"+Ct/2+"M0,"+Ct+"L"+Tt+",0M"+Tt/4*3+","+Ct/4*5+"l"+Tt/2+",-"+Ct/2+"M"+Tt/4*3+",-"+Ct/4+"l"+Tt/2+","+Ct/2+"M0,0L"+Tt+","+Ct+"M-"+Tt/4+","+Ct/4*3+"l"+Tt/2+","+Ct/2,je=Ge-Ge*Math.sqrt(1-Fe),Xe="path",Oe={d:ze,opacity:pe,stroke:Ke,"stroke-width":je+"px"};break;case"|":Tt=Ge,Ct=Ge,Xe="path",ze="M"+Tt/2+",0L"+Tt/2+","+Ct,je=Fe*Ge,Xe="path",Oe={d:ze,opacity:pe,stroke:Ke,"stroke-width":je+"px"};break;case"-":Tt=Ge,Ct=Ge,Xe="path",ze="M0,"+Ct/2+"L"+Tt+","+Ct/2,je=Fe*Ge,Xe="path",Oe={d:ze,opacity:pe,stroke:Ke,"stroke-width":je+"px"};break;case"+":Tt=Ge,Ct=Ge,Xe="path",ze="M"+Tt/2+",0L"+Tt/2+","+Ct+"M0,"+Ct/2+"L"+Tt+","+Ct/2,je=Ge-Ge*Math.sqrt(1-Fe),Xe="path",Oe={d:ze,opacity:pe,stroke:Ke,"stroke-width":je+"px"};break;case".":Tt=Ge,Ct=Ge,Fe<Math.PI/4?Je=Math.sqrt(Fe*Ge*Ge/Math.PI):Je=at(Fe,Math.PI/4,1,Ge/2,Ge/Math.sqrt(2)),Xe="circle",Oe={cx:Tt/2,cy:Ct/2,r:Je,opacity:pe,fill:Ke};break}var Te=[Ve||"noSh",gt||"noBg",ct||"noFg",Ge,Fe].join(";"),Ue=pt._defs.select(".patterns").selectAll("#"+wt).data([Te],C.identity);Ue.exit().remove(),Ue.enter().append("pattern").each(function(){var et=d.select(this);if(et.attr({id:wt,width:Tt+"px",height:Ct+"px",patternUnits:"userSpaceOnUse",patternTransform:dt?"scale(0.8)":""}),gt){var st=w(gt),lt=g.tinyRGB(st),jt=st.getAlpha(),Jt=et.selectAll("rect").data([0]);Jt.exit().remove(),Jt.enter().append("rect").attr({width:Tt+"px",height:Ct+"px",fill:lt,"fill-opacity":jt})}var St=et.selectAll(Xe).data([0]);St.exit().remove(),St.enter().append(Xe).attr(Oe)}),we.style("fill",J(wt,be)).style("fill-opacity",null),we.classed("pattern_filled",!0)},c.initGradients=function(we){var Ce=we._fullLayout,be=C.ensureSingle(Ce._defs,"g","gradients");be.selectAll("linearGradient,radialGradient").remove(),d.select(we).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(we){var Ce=we._fullLayout,be=C.ensureSingle(Ce._defs,"g","patterns");be.selectAll("pattern").remove(),d.select(we).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(we,Ce,be){return we&&C.isArrayOrTypedArray(we)?Ce<we.length?we[Ce]:be:we},c.pointStyle=function(we,Ce,be,Pe){if(we.size()){var Ve=c.makePointStyleFns(Ce);we.each(function(Ge){c.singlePointStyle(Ge,d.select(this),Ce,Ve,be,Pe)})}},c.singlePointStyle=function(we,Ce,be,Pe,Ve,Ge){var Fe=be.marker,He=Fe.line;if(Ge&&Ge.i>=0&&we.i===void 0&&(we.i=Ge.i),Ce.style("opacity",Pe.selectedOpacityFn?Pe.selectedOpacityFn(we):we.mo===void 0?Fe.opacity:we.mo),Pe.ms2mrc){var ft;we.ms==="various"||Fe.size==="various"?ft=3:ft=Pe.ms2mrc(we.ms),we.mrc=ft,Pe.selectedSizeFn&&(ft=we.mrc=Pe.selectedSizeFn(we));var gt=c.symbolNumber(we.mx||Fe.symbol)||0;we.om=gt%200>=100;var ct=De(we,be),nt=Y(we,be);Ce.attr("d",_(gt,ft,ct,nt))}var dt=!1,pt,wt,Tt;if(we.so)Tt=He.outlierwidth,wt=He.outliercolor,pt=Fe.outliercolor;else{var Ct=(He||{}).width;Tt=(we.mlw+1||Ct+1||(we.trace?(we.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in we?wt=we.mlcc=Pe.lineScale(we.mlc):C.isArrayOrTypedArray(He.color)?wt=g.defaultLine:wt=He.color,C.isArrayOrTypedArray(Fe.color)&&(pt=g.defaultLine,dt=!0),"mc"in we?pt=we.mcc=Pe.markerScale(we.mc):pt=Fe.color||Fe.colors||"rgba(0,0,0,0)",Pe.selectedColorFn&&(pt=Pe.selectedColorFn(we))}if(we.om)Ce.call(g.stroke,pt).style({"stroke-width":(Tt||1)+"px",fill:"none"});else{Ce.style("stroke-width",(we.isBlank?0:Tt)+"px");var at=Fe.gradient,ze=we.mgt;ze?dt=!0:ze=at&&at.type,C.isArrayOrTypedArray(ze)&&(ze=ze[0],E[ze]||(ze=0));var je=Fe.pattern,Je=je&&c.getPatternAttr(je.shape,we.i,"");if(ze&&ze!=="none"){var Xe=we.mgc;Xe?dt=!0:Xe=at.color;var Oe=be.uid;dt&&(Oe+="-"+we.i),c.gradient(Ce,Ve,Oe,ze,[[0,Xe],[1,pt]],"fill")}else if(Je){var ke=!1,Ke=je.fgcolor;!Ke&&Ge&&Ge.color&&(Ke=Ge.color,ke=!0);var Ie=c.getPatternAttr(Ke,we.i,Ge&&Ge.color||null),pe=c.getPatternAttr(je.bgcolor,we.i,null),Te=je.fgopacity,Ue=c.getPatternAttr(je.size,we.i,8),et=c.getPatternAttr(je.solidity,we.i,.3);ke=ke||we.mcc||C.isArrayOrTypedArray(je.shape)||C.isArrayOrTypedArray(je.bgcolor)||C.isArrayOrTypedArray(je.fgcolor)||C.isArrayOrTypedArray(je.size)||C.isArrayOrTypedArray(je.solidity);var st=be.uid;ke&&(st+="-"+we.i),c.pattern(Ce,"point",Ve,st,Je,Ue,et,we.mcc,je.fillmode,pe,Ie,Te)}else C.isArrayOrTypedArray(pt)?g.fill(Ce,pt[we.i]):g.fill(Ce,pt);Tt&&g.stroke(Ce,wt)}},c.makePointStyleFns=function(we){var Ce={},be=we.marker;return Ce.markerScale=c.tryColorscale(be,""),Ce.lineScale=c.tryColorscale(be,"line"),v.traceIs(we,"symbols")&&(Ce.ms2mrc=m.isBubble(we)?h(we):function(){return(be.size||6)/2}),we.selectedpoints&&C.extendFlat(Ce,c.makeSelectedPointStyleFns(we)),Ce},c.makeSelectedPointStyleFns=function(we){var Ce={},be=we.selected||{},Pe=we.unselected||{},Ve=we.marker||{},Ge=be.marker||{},Fe=Pe.marker||{},He=Ve.opacity,ft=Ge.opacity,gt=Fe.opacity,ct=ft!==void 0,nt=gt!==void 0;(C.isArrayOrTypedArray(He)||ct||nt)&&(Ce.selectedOpacityFn=function(Je){var Xe=Je.mo===void 0?Ve.opacity:Je.mo;return Je.selected?ct?ft:Xe:nt?gt:l*Xe});var dt=Ve.color,pt=Ge.color,wt=Fe.color;(pt||wt)&&(Ce.selectedColorFn=function(Je){var Xe=Je.mcc||dt;return Je.selected?pt||Xe:wt||Xe});var Tt=Ve.size,Ct=Ge.size,at=Fe.size,ze=Ct!==void 0,je=at!==void 0;return v.traceIs(we,"symbols")&&(ze||je)&&(Ce.selectedSizeFn=function(Je){var Xe=Je.mrc||Tt/2;return Je.selected?ze?Ct/2:Xe:je?at/2:Xe}),Ce},c.makeSelectedTextStyleFns=function(we){var Ce={},be=we.selected||{},Pe=we.unselected||{},Ve=we.textfont||{},Ge=be.textfont||{},Fe=Pe.textfont||{},He=Ve.color,ft=Ge.color,gt=Fe.color;return Ce.selectedTextColorFn=function(ct){var nt=ct.tc||He;return ct.selected?ft||nt:gt||(ft?nt:g.addOpacity(nt,l))},Ce},c.selectedPointStyle=function(we,Ce){if(!(!we.size()||!Ce.selectedpoints)){var be=c.makeSelectedPointStyleFns(Ce),Pe=Ce.marker||{},Ve=[];be.selectedOpacityFn&&Ve.push(function(Ge,Fe){Ge.style("opacity",be.selectedOpacityFn(Fe))}),be.selectedColorFn&&Ve.push(function(Ge,Fe){g.fill(Ge,be.selectedColorFn(Fe))}),be.selectedSizeFn&&Ve.push(function(Ge,Fe){var He=Fe.mx||Pe.symbol||0,ft=be.selectedSizeFn(Fe);Ge.attr("d",_(c.symbolNumber(He),ft,De(Fe,Ce),Y(Fe,Ce))),Fe.mrc2=ft}),Ve.length&&we.each(function(Ge){for(var Fe=d.select(this),He=0;He<Ve.length;He++)Ve[He](Fe,Ge)})}},c.tryColorscale=function(we,Ce){var be=Ce?C.nestedProperty(we,Ce).get():we;if(be){var Pe=be.color;if((be.colorscale||be._colorAx)&&C.isArrayOrTypedArray(Pe))return r.makeColorScaleFuncFromTrace(be)}return C.identity};var s={start:1,end:-1,middle:0,bottom:1,top:-1};function S(we,Ce,be,Pe,Ve){var Ge=d.select(we.node().parentNode),Fe=Ce.indexOf("top")!==-1?"top":Ce.indexOf("bottom")!==-1?"bottom":"middle",He=Ce.indexOf("left")!==-1?"end":Ce.indexOf("right")!==-1?"start":"middle",ft=Pe?Pe/.8+1:0,gt=(i.lineCount(we)-1)*f+1,ct=s[He]*ft,nt=be*.75+s[Fe]*ft+(s[Fe]-1)*gt*be/2;we.attr("text-anchor",He),Ve||Ge.attr("transform",t(ct,nt))}function b(we,Ce){var be=we.ts||Ce.textfont.size;return L(be)&&be>0?be:0}c.textPointStyle=function(we,Ce,be){if(we.size()){var Pe;if(Ce.selectedpoints){var Ve=c.makeSelectedTextStyleFns(Ce);Pe=Ve.selectedTextColorFn}var Ge=Ce.texttemplate,Fe=be._fullLayout;we.each(function(He){var ft=d.select(this),gt=Ge?C.extractOption(He,Ce,"txt","texttemplate"):C.extractOption(He,Ce,"tx","text");if(!gt&&gt!==0){ft.remove();return}if(Ge){var ct=Ce._module.formatLabels,nt=ct?ct(He,Ce,Fe):{},dt={};T(dt,Ce,He.i);var pt=Ce._meta||{};gt=C.texttemplateString(gt,nt,Fe._d3locale,dt,He,pt)}var wt=He.tp||Ce.textposition,Tt=b(He,Ce),Ct=Pe?Pe(He):He.tc||Ce.textfont.color;ft.call(c.font,{family:He.tf||Ce.textfont.family,weight:He.tw||Ce.textfont.weight,style:He.ty||Ce.textfont.style,variant:He.tv||Ce.textfont.variant,size:Tt,color:Ct}).text(gt).call(i.convertToTspans,be).call(S,wt,Tt,He.mrc)})}},c.selectedTextStyle=function(we,Ce){if(!(!we.size()||!Ce.selectedpoints)){var be=c.makeSelectedTextStyleFns(Ce);we.each(function(Pe){var Ve=d.select(this),Ge=be.selectedTextColorFn(Pe),Fe=Pe.tp||Ce.textposition,He=b(Pe,Ce);g.fill(Ve,Ge);var ft=v.traceIs(Ce,"bar-like");S(Ve,Fe,He,Pe.mrc2||Pe.mrc,ft)})}};var I=.5;c.smoothopen=function(we,Ce){if(we.length<3)return"M"+we.join("L");var be="M"+we[0],Pe=[],Ve;for(Ve=1;Ve<we.length-1;Ve++)Pe.push(O(we[Ve-1],we[Ve],we[Ve+1],Ce));for(be+="Q"+Pe[0][0]+" "+we[1],Ve=2;Ve<we.length-1;Ve++)be+="C"+Pe[Ve-2][1]+" "+Pe[Ve-1][0]+" "+we[Ve];return be+="Q"+Pe[we.length-3][1]+" "+we[we.length-1],be},c.smoothclosed=function(we,Ce){if(we.length<3)return"M"+we.join("L")+"Z";var be="M"+we[0],Pe=we.length-1,Ve=[O(we[Pe],we[0],we[1],Ce)],Ge;for(Ge=1;Ge<Pe;Ge++)Ve.push(O(we[Ge-1],we[Ge],we[Ge+1],Ce));for(Ve.push(O(we[Pe-1],we[Pe],we[0],Ce)),Ge=1;Ge<=Pe;Ge++)be+="C"+Ve[Ge-1][1]+" "+Ve[Ge][0]+" "+we[Ge];return be+="C"+Ve[Pe][1]+" "+Ve[0][0]+" "+we[0]+"Z",be};var D,B;function k(we,Ce,be){return be&&(we=ee(we)),Ce?N(we[1]):F(we[0])}function F(we){var Ce=d.round(we,2);return D=Ce,Ce}function N(we){var Ce=d.round(we,2);return B=Ce,Ce}function O(we,Ce,be,Pe){var Ve=we[0]-Ce[0],Ge=we[1]-Ce[1],Fe=be[0]-Ce[0],He=be[1]-Ce[1],ft=Math.pow(Ve*Ve+Ge*Ge,I/2),gt=Math.pow(Fe*Fe+He*He,I/2),ct=(gt*gt*Ve-ft*ft*Fe)*Pe,nt=(gt*gt*Ge-ft*ft*He)*Pe,dt=3*gt*(ft+gt),pt=3*ft*(ft+gt);return[[F(Ce[0]+(dt&&ct/dt)),N(Ce[1]+(dt&&nt/dt))],[F(Ce[0]-(pt&&ct/pt)),N(Ce[1]-(pt&&nt/pt))]]}var V={hv:function(we,Ce,be){return"H"+F(Ce[0])+"V"+k(Ce,1,be)},vh:function(we,Ce,be){return"V"+N(Ce[1])+"H"+k(Ce,0,be)},hvh:function(we,Ce,be){return"H"+F((we[0]+Ce[0])/2)+"V"+N(Ce[1])+"H"+k(Ce,0,be)},vhv:function(we,Ce,be){return"V"+N((we[1]+Ce[1])/2)+"H"+F(Ce[0])+"V"+k(Ce,1,be)}},X=function(we,Ce,be){return"L"+k(Ce,0,be)+","+k(Ce,1,be)};c.steps=function(we){var Ce=V[we]||X;return function(be){for(var Pe="M"+F(be[0][0])+","+N(be[0][1]),Ve=be.length,Ge=1;Ge<Ve;Ge++)Pe+=Ce(be[Ge-1],be[Ge],Ge===Ve-1);return Pe}};function ee(we,Ce){var be=we.backoff,Pe=we.trace,Ve=we.d,Ge=we.i;if(be&&Pe&&Pe.marker&&Pe.marker.angle%360===0&&Pe.line&&Pe.line.shape!=="spline"){var Fe=C.isArrayOrTypedArray(be),He=we,ft=Ce?Ce[0]:D||0,gt=Ce?Ce[1]:B||0,ct=He[0],nt=He[1],dt=ct-ft,pt=nt-gt,wt=Math.atan2(pt,dt),Tt=Fe?be[Ge]:be;if(Tt==="auto"){var Ct=He.i;Pe.type==="scatter"&&Ct--;var at=He.marker,ze=at.symbol;C.isArrayOrTypedArray(ze)&&(ze=ze[Ct]);var je=at.size;C.isArrayOrTypedArray(je)&&(je=je[Ct]),Tt=at?c.symbolBackOffs[c.symbolNumber(ze)]*je:0,Tt+=c.getMarkerStandoff(Ve[Ct],Pe)||0}var Je=ct-Tt*Math.cos(wt),Xe=nt-Tt*Math.sin(wt);(Je<=ct&&Je>=ft||Je>=ct&&Je<=ft)&&(Xe<=nt&&Xe>=gt||Xe>=nt&&Xe<=gt)&&(we=[Je,Xe])}return we}c.applyBackoff=ee,c.makeTester=function(){var we=C.ensureSingleById(d.select("body"),"svg","js-plotly-tester",function(be){be.attr(a.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ce=C.ensureSingle(we,"path","js-reference-point",function(be){be.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=we,c.testref=Ce},c.savedBBoxes={};var ne=0,q=1e4;c.bBox=function(we,Ce,be){be||(be=se(we));var Pe;if(be){if(Pe=c.savedBBoxes[be],Pe)return C.extendFlat({},Pe)}else if(we.childNodes.length===1){var Ve=we.childNodes[0];if(be=se(Ve),be){var Ge=+Ve.getAttribute("x")||0,Fe=+Ve.getAttribute("y")||0,He=Ve.getAttribute("transform");if(!He){var ft=c.bBox(Ve,!1,be);return Ge&&(ft.left+=Ge,ft.right+=Ge),Fe&&(ft.top+=Fe,ft.bottom+=Fe),ft}if(be+="~"+Ge+"~"+Fe+"~"+He,Pe=c.savedBBoxes[be],Pe)return C.extendFlat({},Pe)}}var gt,ct;Ce?gt=we:(ct=c.tester.node(),gt=we.cloneNode(!0),ct.appendChild(gt)),d.select(gt).attr("transform",null).call(i.positionText,0,0);var nt=gt.getBoundingClientRect(),dt=c.testref.node().getBoundingClientRect();Ce||ct.removeChild(gt);var pt={height:nt.height,width:nt.width,left:nt.left-dt.left,top:nt.top-dt.top,right:nt.right-dt.left,bottom:nt.bottom-dt.top};return ne>=q&&(c.savedBBoxes={},ne=0),be&&(c.savedBBoxes[be]=pt),ne++,C.extendFlat({},pt)};function se(we){var Ce=we.getAttribute("data-unformatted");if(Ce!==null)return Ce+we.getAttribute("data-math")+we.getAttribute("text-anchor")+we.getAttribute("style")}c.setClipUrl=function(we,Ce,be){we.attr("clip-path",J(Ce,be))};function J(we,Ce){if(!we)return null;var be=Ce._context,Pe=be._exportedPlot?"":be._baseUrl||"";return Pe?"url('"+Pe+"#"+we+"')":"url(#"+we+")"}c.getTranslate=function(we){var Ce=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,be=we.attr?"attr":"getAttribute",Pe=we[be]("transform")||"",Ve=Pe.replace(Ce,function(Ge,Fe,He){return[Fe,He].join(" ")}).split(" ");return{x:+Ve[0]||0,y:+Ve[1]||0}},c.setTranslate=function(we,Ce,be){var Pe=/(\btranslate\(.*?\);?)/,Ve=we.attr?"attr":"getAttribute",Ge=we.attr?"attr":"setAttribute",Fe=we[Ve]("transform")||"";return Ce=Ce||0,be=be||0,Fe=Fe.replace(Pe,"").trim(),Fe+=t(Ce,be),Fe=Fe.trim(),we[Ge]("transform",Fe),Fe},c.getScale=function(we){var Ce=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,be=we.attr?"attr":"getAttribute",Pe=we[be]("transform")||"",Ve=Pe.replace(Ce,function(Ge,Fe,He){return[Fe,He].join(" ")}).split(" ");return{x:+Ve[0]||1,y:+Ve[1]||1}},c.setScale=function(we,Ce,be){var Pe=/(\bscale\(.*?\);?)/,Ve=we.attr?"attr":"getAttribute",Ge=we.attr?"attr":"setAttribute",Fe=we[Ve]("transform")||"";return Ce=Ce||1,be=be||1,Fe=Fe.replace(Pe,"").trim(),Fe+="scale("+Ce+","+be+")",Fe=Fe.trim(),we[Ge]("transform",Fe),Fe};var Z=/\s*sc.*/;c.setPointGroupScale=function(we,Ce,be){if(Ce=Ce||1,be=be||1,!!we){var Pe=Ce===1&&be===1?"":"scale("+Ce+","+be+")";we.each(function(){var Ve=(this.getAttribute("transform")||"").replace(Z,"");Ve+=Pe,Ve=Ve.trim(),this.setAttribute("transform",Ve)})}};var te=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(we,Ce,be){we&&we.each(function(){var Pe,Ve=d.select(this),Ge=Ve.select("text");if(Ge.node()){var Fe=parseFloat(Ge.attr("x")||0),He=parseFloat(Ge.attr("y")||0),ft=(Ve.attr("transform")||"").match(te);Ce===1&&be===1?Pe=[]:Pe=[t(Fe,He),"scale("+Ce+","+be+")",t(-Fe,-He)],ft&&Pe.push(ft),Ve.attr("transform",Pe.join(""))}})};function Y(we,Ce){var be;return we&&(be=we.mf),be===void 0&&(be=Ce.marker&&Ce.marker.standoff||0),!Ce._geo&&!Ce._xA?-be:be}c.getMarkerStandoff=Y;var ie=Math.atan2,le=Math.cos,j=Math.sin;function K(we,Ce){var be=Ce[0],Pe=Ce[1];return[be*le(we)-Pe*j(we),be*j(we)+Pe*le(we)]}var ue,ae,he,xe,Se,Ae;function De(we,Ce){var be=we.ma;be===void 0&&(be=Ce.marker.angle,(!be||C.isArrayOrTypedArray(be))&&(be=0));var Pe,Ve,Ge=Ce.marker.angleref;if(Ge==="previous"||Ge==="north"){if(Ce._geo){var Fe=Ce._geo.project(we.lonlat);Pe=Fe[0],Ve=Fe[1]}else{var He=Ce._xA,ft=Ce._yA;if(He&&ft)Pe=He.c2p(we.x),Ve=ft.c2p(we.y);else return 90}if(Ce._geo){var gt=we.lonlat[0],ct=we.lonlat[1],nt=Ce._geo.project([gt,ct+1e-5]),dt=Ce._geo.project([gt+1e-5,ct]),pt=ie(dt[1]-Ve,dt[0]-Pe),wt=ie(nt[1]-Ve,nt[0]-Pe),Tt;if(Ge==="north")Tt=be/180*Math.PI;else if(Ge==="previous"){var Ct=gt/180*Math.PI,at=ct/180*Math.PI,ze=ue/180*Math.PI,je=ae/180*Math.PI,Je=ze-Ct,Xe=le(je)*j(Je),Oe=j(je)*le(at)-le(je)*j(at)*le(Je);Tt=-ie(Xe,Oe)-Math.PI,ue=gt,ae=ct}var ke=K(pt,[le(Tt),0]),Ke=K(wt,[j(Tt),0]);be=ie(ke[1]+Ke[1],ke[0]+Ke[0])/Math.PI*180,Ge==="previous"&&!(Ae===Ce.uid&&we.i===Se+1)&&(be=null)}if(Ge==="previous"&&!Ce._geo)if(Ae===Ce.uid&&we.i===Se+1&&L(Pe)&&L(Ve)){var Ie=Pe-he,pe=Ve-xe,Te=Ce.line&&Ce.line.shape||"",Ue=Te.slice(Te.length-1);Ue==="h"&&(pe=0),Ue==="v"&&(Ie=0),be+=ie(pe,Ie)/Math.PI*180+90}else be=null}return he=Pe,xe=Ve,Se=we.i,Ae=Ce.uid,be}c.getMarkerAngle=De},71984:function(H,U,e){var d=e(21984),C=e(33428).round,n="M0,0Z",L=Math.sqrt(2),w=Math.sqrt(3),v=Math.PI,g=Math.cos,r=Math.sin;H.exports={circle:{n:0,f:function(m,h,T){if(t(h))return n;var c=C(m,2),o="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return T?l(h,T,o):o}},square:{n:1,f:function(m,h,T){if(t(h))return n;var c=C(m,2);return l(h,T,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(m,h,T){if(t(h))return n;var c=C(m*1.3,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(m,h,T){if(t(h))return n;var c=C(m*.4,2),o=C(m*1.2,2);return l(h,T,"M"+o+","+c+"H"+c+"V"+o+"H-"+c+"V"+c+"H-"+o+"V-"+c+"H-"+c+"V-"+o+"H"+c+"V-"+c+"H"+o+"Z")}},x:{n:4,f:function(m,h,T){if(t(h))return n;var c=C(m*.8/L,2),o="l"+c+","+c,p="l"+c+",-"+c,x="l-"+c+",-"+c,A="l-"+c+","+c;return l(h,T,"M0,"+c+o+p+x+p+x+A+x+A+o+A+o+"Z")}},"triangle-up":{n:5,f:function(m,h,T){if(t(h))return n;var c=C(m*2/w,2),o=C(m/2,2),p=C(m,2);return l(h,T,"M-"+c+","+o+"H"+c+"L0,-"+p+"Z")}},"triangle-down":{n:6,f:function(m,h,T){if(t(h))return n;var c=C(m*2/w,2),o=C(m/2,2),p=C(m,2);return l(h,T,"M-"+c+",-"+o+"H"+c+"L0,"+p+"Z")}},"triangle-left":{n:7,f:function(m,h,T){if(t(h))return n;var c=C(m*2/w,2),o=C(m/2,2),p=C(m,2);return l(h,T,"M"+o+",-"+c+"V"+c+"L-"+p+",0Z")}},"triangle-right":{n:8,f:function(m,h,T){if(t(h))return n;var c=C(m*2/w,2),o=C(m/2,2),p=C(m,2);return l(h,T,"M-"+o+",-"+c+"V"+c+"L"+p+",0Z")}},"triangle-ne":{n:9,f:function(m,h,T){if(t(h))return n;var c=C(m*.6,2),o=C(m*1.2,2);return l(h,T,"M-"+o+",-"+c+"H"+c+"V"+o+"Z")}},"triangle-se":{n:10,f:function(m,h,T){if(t(h))return n;var c=C(m*.6,2),o=C(m*1.2,2);return l(h,T,"M"+c+",-"+o+"V"+c+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(m,h,T){if(t(h))return n;var c=C(m*.6,2),o=C(m*1.2,2);return l(h,T,"M"+o+","+c+"H-"+c+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(m,h,T){if(t(h))return n;var c=C(m*.6,2),o=C(m*1.2,2);return l(h,T,"M-"+c+","+o+"V-"+c+"H"+o+"Z")}},pentagon:{n:13,f:function(m,h,T){if(t(h))return n;var c=C(m*.951,2),o=C(m*.588,2),p=C(-m,2),x=C(m*-.309,2),A=C(m*.809,2);return l(h,T,"M"+c+","+x+"L"+o+","+A+"H-"+o+"L-"+c+","+x+"L0,"+p+"Z")}},hexagon:{n:14,f:function(m,h,T){if(t(h))return n;var c=C(m,2),o=C(m/2,2),p=C(m*w/2,2);return l(h,T,"M"+p+",-"+o+"V"+o+"L0,"+c+"L-"+p+","+o+"V-"+o+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(m,h,T){if(t(h))return n;var c=C(m,2),o=C(m/2,2),p=C(m*w/2,2);return l(h,T,"M-"+o+","+p+"H"+o+"L"+c+",0L"+o+",-"+p+"H-"+o+"L-"+c+",0Z")}},octagon:{n:16,f:function(m,h,T){if(t(h))return n;var c=C(m*.924,2),o=C(m*.383,2);return l(h,T,"M-"+o+",-"+c+"H"+o+"L"+c+",-"+o+"V"+o+"L"+o+","+c+"H-"+o+"L-"+c+","+o+"V-"+o+"Z")}},star:{n:17,f:function(m,h,T){if(t(h))return n;var c=m*1.4,o=C(c*.225,2),p=C(c*.951,2),x=C(c*.363,2),A=C(c*.588,2),_=C(-c,2),y=C(c*-.309,2),E=C(c*.118,2),M=C(c*.809,2),s=C(c*.382,2);return l(h,T,"M"+o+","+y+"H"+p+"L"+x+","+E+"L"+A+","+M+"L0,"+s+"L-"+A+","+M+"L-"+x+","+E+"L-"+p+","+y+"H-"+o+"L0,"+_+"Z")}},hexagram:{n:18,f:function(m,h,T){if(t(h))return n;var c=C(m*.66,2),o=C(m*.38,2),p=C(m*.76,2);return l(h,T,"M-"+p+",0l-"+o+",-"+c+"h"+p+"l"+o+",-"+c+"l"+o+","+c+"h"+p+"l-"+o+","+c+"l"+o+","+c+"h-"+p+"l-"+o+","+c+"l-"+o+",-"+c+"h-"+p+"Z")}},"star-triangle-up":{n:19,f:function(m,h,T){if(t(h))return n;var c=C(m*w*.8,2),o=C(m*.8,2),p=C(m*1.6,2),x=C(m*4,2),A="A "+x+","+x+" 0 0 1 ";return l(h,T,"M-"+c+","+o+A+c+","+o+A+"0,-"+p+A+"-"+c+","+o+"Z")}},"star-triangle-down":{n:20,f:function(m,h,T){if(t(h))return n;var c=C(m*w*.8,2),o=C(m*.8,2),p=C(m*1.6,2),x=C(m*4,2),A="A "+x+","+x+" 0 0 1 ";return l(h,T,"M"+c+",-"+o+A+"-"+c+",-"+o+A+"0,"+p+A+c+",-"+o+"Z")}},"star-square":{n:21,f:function(m,h,T){if(t(h))return n;var c=C(m*1.1,2),o=C(m*2,2),p="A "+o+","+o+" 0 0 1 ";return l(h,T,"M-"+c+",-"+c+p+"-"+c+","+c+p+c+","+c+p+c+",-"+c+p+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(m,h,T){if(t(h))return n;var c=C(m*1.4,2),o=C(m*1.9,2),p="A "+o+","+o+" 0 0 1 ";return l(h,T,"M-"+c+",0"+p+"0,"+c+p+c+",0"+p+"0,-"+c+p+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(m,h,T){if(t(h))return n;var c=C(m*.7,2),o=C(m*1.4,2);return l(h,T,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(m,h,T){if(t(h))return n;var c=C(m*1.4,2),o=C(m*.7,2);return l(h,T,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},hourglass:{n:25,f:function(m,h,T){if(t(h))return n;var c=C(m,2);return l(h,T,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(m,h,T){if(t(h))return n;var c=C(m,2);return l(h,T,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,h,T){if(t(h))return n;var c=C(m,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,h,T){if(t(h))return n;var c=C(m,2),o=C(m/L,2);return l(h,T,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,h,T){if(t(h))return n;var c=C(m,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,h,T){if(t(h))return n;var c=C(m,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,h,T){if(t(h))return n;var c=C(m*1.3,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,h,T){if(t(h))return n;var c=C(m*1.3,2),o=C(m*.65,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,h,T){if(t(h))return n;var c=C(m*1.4,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,h,T){if(t(h))return n;var c=C(m,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,h,T){if(t(h))return n;var c=C(m*1.2,2),o=C(m*.85,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,h,T){if(t(h))return n;var c=C(m/2,2),o=C(m,2);return l(h,T,"M"+c+","+o+"V-"+o+"M"+(c-o)+",-"+o+"V"+o+"M"+o+","+c+"H-"+o+"M-"+o+","+(c-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,h,T){if(t(h))return n;var c=C(m*1.2,2),o=C(m*1.6,2),p=C(m*.8,2);return l(h,T,"M-"+c+","+p+"L0,0M"+c+","+p+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,h,T){if(t(h))return n;var c=C(m*1.2,2),o=C(m*1.6,2),p=C(m*.8,2);return l(h,T,"M-"+c+",-"+p+"L0,0M"+c+",-"+p+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,h,T){if(t(h))return n;var c=C(m*1.2,2),o=C(m*1.6,2),p=C(m*.8,2);return l(h,T,"M"+p+","+c+"L0,0M"+p+",-"+c+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,h,T){if(t(h))return n;var c=C(m*1.2,2),o=C(m*1.6,2),p=C(m*.8,2);return l(h,T,"M-"+p+","+c+"L0,0M-"+p+",-"+c+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,h,T){if(t(h))return n;var c=C(m*1.4,2);return l(h,T,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,h,T){if(t(h))return n;var c=C(m*1.4,2);return l(h,T,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,h,T){if(t(h))return n;var c=C(m,2);return l(h,T,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,h,T){if(t(h))return n;var c=C(m,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,h,T){if(t(h))return n;var c=C(m,2),o=C(m*2,2);return l(h,T,"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,h,T){if(t(h))return n;var c=C(m,2),o=C(m*2,2);return l(h,T,"M0,0L-"+c+",-"+o+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,h,T){if(t(h))return n;var c=C(m*2,2),o=C(m,2);return l(h,T,"M0,0L"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,h,T){if(t(h))return n;var c=C(m*2,2),o=C(m,2);return l(h,T,"M0,0L-"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,h,T){if(t(h))return n;var c=C(m,2),o=C(m*2,2);return l(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,h,T){if(t(h))return n;var c=C(m,2),o=C(m*2,2);return l(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+o+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,h,T){if(t(h))return n;var c=C(m*2,2),o=C(m,2);return l(h,T,"M0,-"+o+"V"+o+"M0,0L"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,h,T){if(t(h))return n;var c=C(m*2,2),o=C(m,2);return l(h,T,"M0,-"+o+"V"+o+"M0,0L-"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,h,T){if(t(h))return n;var c=v/2.5,o=2*m*g(c),p=2*m*r(c);return l(h,T,"M0,0L"+-o+","+p+"L"+o+","+p+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,h,T){if(t(h))return n;var c=v/4,o=2*m*g(c),p=2*m*r(c);return l(h,T,"M0,0L"+-o+","+p+"A "+2*m+","+2*m+" 0 0 1 "+o+","+p+"Z")},backoff:.4,noDot:!0}};function t(m){return m===null}var i,a,u,f;function l(m,h,T){if((!m||m%360===0)&&!h)return T;if(u===m&&f===h&&i===T)return a;u=m,f=h,i=T;function c(D,B){var k=g(D),F=r(D),N=B[0],O=B[1]+(h||0);return[N*k-O*F,N*F+O*k]}for(var o=m/180*v,p=0,x=0,A=d(T),_="",y=0;y<A.length;y++){var E=A[y],M=E[0],s=p,S=x;if(M==="M"||M==="L")p=+E[1],x=+E[2];else if(M==="m"||M==="l")p+=+E[1],x+=+E[2];else if(M==="H")p=+E[1];else if(M==="h")p+=+E[1];else if(M==="V")x=+E[1];else if(M==="v")x+=+E[1];else if(M==="A"){p=+E[1],x=+E[2];var b=c(o,[+E[6],+E[7]]);E[6]=b[0],E[7]=b[1],E[3]=+E[3]+m}(M==="H"||M==="V")&&(M="L"),(M==="h"||M==="v")&&(M="l"),(M==="m"||M==="l")&&(p-=s,x-=S);var I=c(o,[p,x]);(M==="H"||M==="V")&&(M="L"),(M==="M"||M==="L"||M==="m"||M==="l")&&(E[1]=I[0],E[2]=I[1]),E[0]=M,_+=E[0]+E.slice(1).join(",")}return a=_,_}},97644:function(H){H.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(H,U,e){var d=e(38248),C=e(24040),n=e(54460),L=e(3400),w=e(93792);H.exports=function(r){for(var t=r.calcdata,i=0;i<t.length;i++){var a=t[i],u=a[0].trace;if(u.visible===!0&&C.traceIs(u,"errorBarsOK")){var f=n.getFromId(r,u.xaxis),l=n.getFromId(r,u.yaxis);v(a,u,f,"x"),v(a,u,l,"y")}}};function v(g,r,t,i){var a=r["error_"+i]||{},u=a.visible&&["linear","log"].indexOf(t.type)!==-1,f=[];if(u){for(var l=w(a),m=0;m<g.length;m++){var h=g[m],T=h.i;if(T===void 0)T=m;else if(T===null)continue;var c=h[i];if(d(t.c2l(c))){var o=l(c,T);if(d(o[0])&&d(o[1])){var p=h[i+"s"]=c-o[0],x=h[i+"h"]=c+o[1];f.push(p,x)}}}var A=t._id,_=r._extremes[A],y=n.findExtremes(t,f,L.extendFlat({tozero:_.opts.tozero},{padded:!0}));_.min=_.min.concat(y.min),_.max=_.max.concat(y.max)}}},93792:function(H){H.exports=function(d){var C=d.type,n=d.symmetric;if(C==="data"){var L=d.array||[];if(n)return function(t,i){var a=+L[i];return[a,a]};var w=d.arrayminus||[];return function(t,i){var a=+L[i],u=+w[i];return!isNaN(a)||!isNaN(u)?[u||0,a||0]:[NaN,NaN]}}else{var v=U(C,d.value),g=U(C,d.valueminus);return n||d.valueminus===void 0?function(t){var i=v(t);return[i,i]}:function(t){return[g(t),v(t)]}}};function U(e,d){if(e==="percent")return function(C){return Math.abs(C*d/100)};if(e==="constant")return function(){return Math.abs(d)};if(e==="sqrt")return function(C){return Math.sqrt(Math.abs(C))}}},65200:function(H,U,e){var d=e(38248),C=e(24040),n=e(3400),L=e(31780),w=e(97644);H.exports=function(v,g,r,t){var i="error_"+t.axis,a=L.newContainer(g,i),u=v[i]||{};function f(p,x){return n.coerce(u,a,w,p,x)}var l=u.array!==void 0||u.value!==void 0||u.type==="sqrt",m=f("visible",l);if(m!==!1){var h=f("type","array"in u?"data":"percent"),T=!0;h!=="sqrt"&&(T=f("symmetric",!((h==="data"?"arrayminus":"valueminus")in u))),h==="data"?(f("array"),f("traceref"),T||(f("arrayminus"),f("tracerefminus"))):(h==="percent"||h==="constant")&&(f("value"),T||f("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var o=g["error_"+t.inherit];(o||{}).visible&&f(c,!(u.color||d(u.thickness)||d(u.width)))}(!t.inherit||!a[c])&&(f("color",r),f("thickness"),f("width",C.traceIs(g,"gl3d")?0:4))}}},64968:function(H,U,e){var d=e(3400),C=e(67824).overrideAll,n=e(97644),L={error_x:d.extendFlat({},n),error_y:d.extendFlat({},n)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var w={error_x:d.extendFlat({},n),error_y:d.extendFlat({},n),error_z:d.extendFlat({},n)};delete w.error_x.copy_ystyle,delete w.error_y.copy_ystyle,delete w.error_z.copy_ystyle,delete w.error_z.copy_zstyle,H.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:C(w,"calc","nested"),scattergl:C(L,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(g,r,t){(r.error_y||{}).visible&&(t.yerr=g.yh-g.y,r.error_y.symmetric||(t.yerrneg=g.y-g.ys)),(r.error_x||{}).visible&&(t.xerr=g.xh-g.x,r.error_x.symmetric||(t.xerrneg=g.x-g.xs))}},78512:function(H,U,e){var d=e(33428),C=e(38248),n=e(43616),L=e(43028);H.exports=function(g,r,t,i){var a,u=t.xaxis,f=t.yaxis,l=i&&i.duration>0,m=g._context.staticPlot;r.each(function(h){var T=h[0].trace,c=T.error_x||{},o=T.error_y||{},p;T.ids&&(p=function(y){return y.id});var x=L.hasMarkers(T)&&T.marker.maxdisplayed>0;!o.visible&&!c.visible&&(h=[]);var A=d.select(this).selectAll("g.errorbar").data(h,p);if(A.exit().remove(),!!h.length){c.visible||A.selectAll("path.xerror").remove(),o.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var _=A.enter().append("g").classed("errorbar",!0);l&&_.style("opacity",0).transition().duration(i.duration).style("opacity",1),n.setClipUrl(A,t.layerClipId,g),A.each(function(y){var E=d.select(this),M=w(y,u,f);if(!(x&&!y.vis)){var s,S=E.select("path.yerror");if(o.visible&&C(M.x)&&C(M.yh)&&C(M.ys)){var b=o.width;s="M"+(M.x-b)+","+M.yh+"h"+2*b+"m-"+b+",0V"+M.ys,M.noYS||(s+="m-"+b+",0h"+2*b),a=!S.size(),a?S=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):l&&(S=S.transition().duration(i.duration).ease(i.easing)),S.attr("d",s)}else S.remove();var I=E.select("path.xerror");if(c.visible&&C(M.y)&&C(M.xh)&&C(M.xs)){var D=(c.copy_ystyle?o:c).width;s="M"+M.xh+","+(M.y-D)+"v"+2*D+"m0,-"+D+"H"+M.xs,M.noXS||(s+="m0,-"+D+"v"+2*D),a=!I.size(),a?I=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):l&&(I=I.transition().duration(i.duration).ease(i.easing)),I.attr("d",s)}else I.remove()}})}})};function w(v,g,r){var t={x:g.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),C(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=g.c2p(v.xh),t.xs=g.c2p(v.xs),C(t.xs)||(t.noXS=!0,t.xs=g.c2p(v.xs,!0))),t}},92036:function(H,U,e){var d=e(33428),C=e(76308);H.exports=function(L){L.each(function(w){var v=w[0].trace,g=v.error_y||{},r=v.error_x||{},t=d.select(this);t.selectAll("path.yerror").style("stroke-width",g.thickness+"px").call(C.stroke,g.color),r.copy_ystyle&&(r=g),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(C.stroke,r.color)})}},55756:function(H,U,e){var d=e(25376),C=e(65460).hoverlabel,n=e(92880).extendFlat;H.exports={hoverlabel:{bgcolor:n({},C.bgcolor,{arrayOk:!0}),bordercolor:n({},C.bordercolor,{arrayOk:!0}),font:d({arrayOk:!0,editType:"none"}),align:n({},C.align,{arrayOk:!0}),namelength:n({},C.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(H,U,e){var d=e(3400),C=e(24040);H.exports=function(w){var v=w.calcdata,g=w._fullLayout;function r(f){return function(l){return d.coerceHoverinfo({hoverinfo:l},{_module:f._module},g)}}for(var t=0;t<v.length;t++){var i=v[t],a=i[0].trace;if(!C.traceIs(a,"pie-like")){var u=C.traceIs(a,"2dMap")?n:d.fillArray;u(a.hoverinfo,i,"hi",r(a)),a.hovertemplate&&u(a.hovertemplate,i,"ht"),a.hoverlabel&&(u(a.hoverlabel.bgcolor,i,"hbg"),u(a.hoverlabel.bordercolor,i,"hbc"),u(a.hoverlabel.font.size,i,"hts"),u(a.hoverlabel.font.color,i,"htc"),u(a.hoverlabel.font.family,i,"htf"),u(a.hoverlabel.font.weight,i,"htw"),u(a.hoverlabel.font.style,i,"hty"),u(a.hoverlabel.font.variant,i,"htv"),u(a.hoverlabel.namelength,i,"hnl"),u(a.hoverlabel.align,i,"hta"))}}};function n(L,w,v,g){g=g||d.identity,Array.isArray(L)&&(w[0][v]=g(L))}},62376:function(H,U,e){var d=e(24040),C=e(83292).hover;H.exports=function(L,w,v){var g=d.getComponentMethod("annotations","onClick")(L,L._hoverdata);v!==void 0&&C(L,w,v,!0);function r(){L.emit("plotly_click",{points:L._hoverdata,event:w})}L._hoverdata&&w&&w.target&&(g&&g.then?g.then(r):r(),w.stopImmediatePropagation&&w.stopImmediatePropagation())}},92456:function(H){H.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(H,U,e){var d=e(3400),C=e(55756),n=e(16132);H.exports=function(w,v,g,r){function t(a,u){return d.coerce(w,v,C,a,u)}var i=d.extendFlat({},r.hoverlabel);v.hovertemplate&&(i.namelength=-1),n(w,v,t,i)}},10624:function(H,U,e){var d=e(3400);U.getSubplot=function(g){return g.subplot||g.xaxis+g.yaxis||g.geo},U.isTraceInSubplots=function(g,r){if(g.type==="splom"){for(var t=g.xaxes||[],i=g.yaxes||[],a=0;a<t.length;a++)for(var u=0;u<i.length;u++)if(r.indexOf(t[a]+i[u])!==-1)return!0;return!1}return r.indexOf(U.getSubplot(g))!==-1},U.flat=function(g,r){for(var t=new Array(g.length),i=0;i<g.length;i++)t[i]=r;return t},U.p2c=function(g,r){for(var t=new Array(g.length),i=0;i<g.length;i++)t[i]=g[i].p2c(r);return t},U.getDistanceFunction=function(g,r,t,i){return g==="closest"?i||U.quadrature(r,t):g.charAt(0)==="x"?r:t},U.getClosest=function(g,r,t){if(t.index!==!1)t.index>=0&&t.index<g.length?t.distance=0:t.index=!1;else for(var i=0;i<g.length;i++){var a=r(g[i]);a<=t.distance&&(t.index=i,t.distance=a)}return t},U.inbox=function(g,r,t){return g*r<0||g===0?t:1/0},U.quadrature=function(g,r){return function(t){var i=g(t),a=r(t);return Math.sqrt(i*i+a*a)}},U.makeEventData=function(g,r,t){var i="index"in g?g.index:g.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:i};if(r._indexToPoints){var u=r._indexToPoints[i];u.length===1?a.pointIndex=u[0]:a.pointIndices=u}else a.pointIndex=i;return r._module.eventData?a=r._module.eventData(a,g,r,t,i):("xVal"in g?a.x=g.xVal:"x"in g&&(a.x=g.x),"yVal"in g?a.y=g.yVal:"y"in g&&(a.y=g.y),g.xa&&(a.xaxis=g.xa),g.ya&&(a.yaxis=g.ya),g.zLabelVal!==void 0&&(a.z=g.zLabelVal)),U.appendArrayPointValue(a,r,i),a},U.appendArrayPointValue=function(g,r,t){var i=r._arrayAttrs;if(i)for(var a=0;a<i.length;a++){var u=i[a],f=n(u);if(g[f]===void 0){var l=d.nestedProperty(r,u).get(),m=L(l,t);m!==void 0&&(g[f]=m)}}},U.appendArrayMultiPointValues=function(g,r,t){var i=r._arrayAttrs;if(i)for(var a=0;a<i.length;a++){var u=i[a],f=n(u);if(g[f]===void 0){for(var l=d.nestedProperty(r,u).get(),m=new Array(t.length),h=0;h<t.length;h++)m[h]=L(l,t[h]);g[f]=m}}};var C={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function n(g){return C[g]||g}function L(g,r){if(Array.isArray(r)){if(Array.isArray(g)&&Array.isArray(g[r[0]]))return g[r[0]][r[1]]}else return g[r]}var w={x:!0,y:!0},v={"x unified":!0,"y unified":!0};U.isUnifiedHover=function(g){return typeof g!="string"?!1:!!v[g]},U.isXYhover=function(g){return typeof g!="string"?!1:!!w[g]}},83292:function(H,U,e){var d=e(33428),C=e(38248),n=e(49760),L=e(3400),w=L.pushUnique,v=L.strTranslate,g=L.strRotate,r=e(95924),t=e(72736),i=e(72213),a=e(43616),u=e(76308),f=e(86476),l=e(54460),m=e(24040),h=e(10624),T=e(92456),c=e(77864),o=e(31140),p=T.YANGLE,x=Math.PI*p/180,A=1/Math.sin(x),_=Math.cos(x),y=Math.sin(x),E=T.HOVERARROWSIZE,M=T.HOVERTEXTPAD,s={box:!0,ohlc:!0,violin:!0,candlestick:!0},S={scatter:!0,scattergl:!0,splom:!0};function b(j,K){return j.distance-K.distance}U.hover=function(K,ue,ae,he){K=L.getGraphDiv(K);var xe=ue.target;L.throttle(K._fullLayout._uid+T.HOVERID,T.HOVERMINTIME,function(){I(K,ue,ae,he,xe)})},U.loneHover=function(K,ue){var ae=!0;Array.isArray(K)||(ae=!1,K=[K]);var he=ue.gd,xe=Y(he),Se=ie(he),Ae=K.map(function(He){var ft=He._x0||He.x0||He.x||0,gt=He._x1||He.x1||He.x||0,ct=He._y0||He.y0||He.y||0,nt=He._y1||He.y1||He.y||0,dt=He.eventData;if(dt){var pt=Math.min(ft,gt),wt=Math.max(ft,gt),Tt=Math.min(ct,nt),Ct=Math.max(ct,nt),at=He.trace;if(m.traceIs(at,"gl3d")){var ze=he._fullLayout[at.scene]._scene.container,je=ze.offsetLeft,Je=ze.offsetTop;pt+=je,wt+=je,Tt+=Je,Ct+=Je}dt.bbox={x0:pt+Se,x1:wt+Se,y0:Tt+xe,y1:Ct+xe},ue.inOut_bbox&&ue.inOut_bbox.push(dt.bbox)}else dt=!1;return{color:He.color||u.defaultLine,x0:He.x0||He.x||0,x1:He.x1||He.x||0,y0:He.y0||He.y||0,y1:He.y1||He.y||0,xLabel:He.xLabel,yLabel:He.yLabel,zLabel:He.zLabel,text:He.text,name:He.name,idealAlign:He.idealAlign,borderColor:He.borderColor,fontFamily:He.fontFamily,fontSize:He.fontSize,fontColor:He.fontColor,fontWeight:He.fontWeight,fontStyle:He.fontStyle,fontVariant:He.fontVariant,nameLength:He.nameLength,textAlign:He.textAlign,trace:He.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:He.hovertemplate||!1,hovertemplateLabels:He.hovertemplateLabels||!1,eventData:dt}}),De=!1,we=k(Ae,{gd:he,hovermode:"closest",rotateLabels:De,bgColor:ue.bgColor||u.background,container:d.select(ue.container),outerContainer:ue.outerContainer||ue.container}),Ce=we.hoverLabels,be=5,Pe=0,Ve=0;Ce.sort(function(He,ft){return He.y0-ft.y0}).each(function(He,ft){var gt=He.y0-He.by/2;gt-be<Pe?He.offset=Pe-gt+be:He.offset=0,Pe=gt+He.by+He.offset,ft===ue.anchorIndex&&(Ve=He.offset)}).each(function(He){He.offset-=Ve});var Ge=he._fullLayout._invScaleX,Fe=he._fullLayout._invScaleY;return X(Ce,De,Ge,Fe),ae?Ce:Ce.node()};function I(j,K,ue,ae,he){ue||(ue="xy");var xe=Array.isArray(ue)?ue:[ue],Se,Ae=j._fullLayout,De=Ae.hoversubplots,we=Ae._plots||[],Ce=we[ue],be=Ae._has("cartesian"),Pe=K.hovermode||Ae.hovermode,Ve=(Pe||"").charAt(0)==="x",Ge=(Pe||"").charAt(0)==="y",Fe,He;if(be&&(Ve||Ge)&&De==="axis"){for(var ft=xe.length,gt=0;gt<ft;gt++)if(Se=xe[gt],we[Se]){Fe=l.getFromId(j,Se,"x"),He=l.getFromId(j,Se,"y");var ct=(Ve?Fe:He)._subplotsWith;if(ct&&ct.length)for(var nt=0;nt<ct.length;nt++)w(xe,ct[nt])}}if(Ce&&De!=="single"){var dt=Ce.overlays.map(function(Qn){return Qn.id});xe=xe.concat(dt)}for(var pt=xe.length,wt=new Array(pt),Tt=new Array(pt),Ct=!1,at=0;at<pt;at++)if(Se=xe[at],we[Se])Ct=!0,wt[at]=we[Se].xaxis,Tt[at]=we[Se].yaxis;else if(Ae[Se]&&Ae[Se]._subplot){var ze=Ae[Se]._subplot;wt[at]=ze.xaxis,Tt[at]=ze.yaxis}else{L.warn("Unrecognized subplot: "+Se);return}if(Pe&&!Ct&&(Pe="closest"),["x","y","closest","x unified","y unified"].indexOf(Pe)===-1||!j.calcdata||j.querySelector(".zoombox")||j._dragging)return f.unhoverRaw(j,K);var je=Ae.hoverdistance;je===-1&&(je=1/0);var Je=Ae.spikedistance;Je===-1&&(Je=1/0);var Xe=[],Oe=[],ke,Ke,Ie,pe,Te,Ue,et,st,lt,jt,Jt,St,Rt,$t={hLinePoint:null,vLinePoint:null},Pr=!1;if(Array.isArray(K))for(Pe="array",Ie=0;Ie<K.length;Ie++)Te=j.calcdata[K[Ie].curveNumber||0],Te&&(Ue=Te[0].trace,Te[0].trace.hoverinfo!=="skip"&&(Oe.push(Te),Ue.orientation==="h"&&(Pr=!0)));else{var xt=j.calcdata.slice();for(xt.sort(function(Qn,Mr){var Jr=Qn[0].trace.zorder||0,Kr=Mr[0].trace.zorder||0;return Jr-Kr}),pe=0;pe<xt.length;pe++)Te=xt[pe],Ue=Te[0].trace,Ue.hoverinfo!=="skip"&&h.isTraceInSubplots(Ue,xe)&&(Oe.push(Te),Ue.orientation==="h"&&(Pr=!0));var qt=!he,nr,wr;if(qt)"xpx"in K?nr=K.xpx:nr=wt[0]._length/2,"ypx"in K?wr=K.ypx:wr=Tt[0]._length/2;else{if(r.triggerHandler(j,"plotly_beforehover",K)===!1)return;var dr=he.getBoundingClientRect();nr=K.clientX-dr.left,wr=K.clientY-dr.top,Ae._calcInverseTransform(j);var bt=L.apply3DTransform(Ae._invTransform)(nr,wr);if(nr=bt[0],wr=bt[1],nr<0||nr>wt[0]._length||wr<0||wr>Tt[0]._length)return f.unhoverRaw(j,K)}if(K.pointerX=nr+wt[0]._offset,K.pointerY=wr+Tt[0]._offset,"xval"in K?ke=h.flat(xe,K.xval):ke=h.p2c(wt,nr),"yval"in K?Ke=h.flat(xe,K.yval):Ke=h.p2c(Tt,wr),!C(ke[0])||!C(Ke[0]))return L.warn("Fx.hover failed",K,j),f.unhoverRaw(j,K)}var ut=1/0;function Mt(Qn,Mr){for(pe=0;pe<Oe.length;pe++)if(Te=Oe[pe],!(!Te||!Te[0]||!Te[0].trace)&&(Ue=Te[0].trace,!(Ue.visible!==!0||Ue._length===0)&&["carpet","contourcarpet"].indexOf(Ue._module.name)===-1)){if(lt=Pe,h.isUnifiedHover(lt)&&(lt=lt.charAt(0)),Ue.type==="splom"?(st=0,et=xe[st]):(et=h.getSubplot(Ue),st=xe.indexOf(et)),St={cd:Te,trace:Ue,xa:wt[st],ya:Tt[st],maxHoverDistance:je,maxSpikeDistance:Je,index:!1,distance:Math.min(ut,je),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:u.defaultLine,name:Ue.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Ae[et]&&(St.subplot=Ae[et]._subplot),Ae._splomScenes&&Ae._splomScenes[Ue.uid]&&(St.scene=Ae._splomScenes[Ue.uid]),lt==="array"){var Jr=K[pe];"pointNumber"in Jr?(St.index=Jr.pointNumber,lt="closest"):(lt="","xval"in Jr&&(jt=Jr.xval,lt="x"),"yval"in Jr&&(Jt=Jr.yval,lt=lt?"closest":"y"))}else Qn!==void 0&&Mr!==void 0?(jt=Qn,Jt=Mr):(jt=ke[st],Jt=Ke[st]);if(Rt=Xe.length,je!==0)if(Ue._module&&Ue._module.hoverPoints){var Kr=Ue._module.hoverPoints(St,jt,Jt,lt,{finiteRange:!0,hoverLayer:Ae._hoverlayer,hoversubplots:De,gd:j});if(Kr)for(var wn,jn=0;jn<Kr.length;jn++)wn=Kr[jn],C(wn.x0)&&C(wn.y0)&&Xe.push(ee(wn,Pe))}else L.log("Unrecognized trace type in hover:",Ue);if(Pe==="closest"&&Xe.length>Rt&&(Xe.splice(0,Rt),ut=Xe[0].distance),be&&Je!==0&&Xe.length===0){St.distance=Je,St.index=!1;var Pn=Ue._module.hoverPoints(St,jt,Jt,"closest",{hoverLayer:Ae._hoverlayer});if(Pn&&(Pn=Pn.filter(function(Ar){return Ar.spikeDistance<=Je})),Pn&&Pn.length){var kn,Jn=Pn.filter(function(Ar){return Ar.xa.showspikes&&Ar.xa.spikesnap!=="hovered data"});if(Jn.length){var ua=Jn[0];C(ua.x0)&&C(ua.y0)&&(kn=kt(ua),(!$t.vLinePoint||$t.vLinePoint.spikeDistance>kn.spikeDistance)&&($t.vLinePoint=kn))}var Ca=Pn.filter(function(Ar){return Ar.ya.showspikes&&Ar.ya.spikesnap!=="hovered data"});if(Ca.length){var ei=Ca[0];C(ei.x0)&&C(ei.y0)&&(kn=kt(ei),(!$t.hLinePoint||$t.hLinePoint.spikeDistance>kn.spikeDistance)&&($t.hLinePoint=kn))}}}}}Mt();function _t(Qn,Mr,Jr){for(var Kr=null,wn=1/0,jn,Pn=0;Pn<Qn.length;Pn++)Fe&&Fe._id!==Qn[Pn].xa._id||He&&He._id!==Qn[Pn].ya._id||(jn=Qn[Pn].spikeDistance,Jr&&Pn===0&&(jn=-1/0),jn<=wn&&jn<=Mr&&(Kr=Qn[Pn],wn=jn));return Kr}function kt(Qn){return Qn?{xa:Qn.xa,ya:Qn.ya,x:Qn.xSpike!==void 0?Qn.xSpike:(Qn.x0+Qn.x1)/2,y:Qn.ySpike!==void 0?Qn.ySpike:(Qn.y0+Qn.y1)/2,distance:Qn.distance,spikeDistance:Qn.spikeDistance,curveNumber:Qn.trace.index,color:Qn.color,pointNumber:Qn.index}:null}var Xt={fullLayout:Ae,container:Ae._hoverlayer,event:K},Wt=j._spikepoints,Ht={vLinePoint:$t.vLinePoint,hLinePoint:$t.hLinePoint};j._spikepoints=Ht;var tr=function(){var Qn=Xe.filter(function(Jr){return Fe&&Fe._id===Jr.xa._id&&He&&He._id===Jr.ya._id}),Mr=Xe.filter(function(Jr){return!(Fe&&Fe._id===Jr.xa._id&&He&&He._id===Jr.ya._id)});Qn.sort(b),Mr.sort(b),Xe=Qn.concat(Mr),Xe=Z(Xe,Pe)};tr();var gr=Pe.charAt(0),Qt=(gr==="x"||gr==="y")&&Xe[0]&&S[Xe[0].trace.type];if(be&&Je!==0&&Xe.length!==0){var mr=Xe.filter(function(Qn){return Qn.ya.showspikes}),Ze=_t(mr,Je,Qt);$t.hLinePoint=kt(Ze);var Ye=Xe.filter(function(Qn){return Qn.xa.showspikes}),Bt=_t(Ye,Je,Qt);$t.vLinePoint=kt(Bt)}if(Xe.length===0){var Ft=f.unhoverRaw(j,K);return be&&($t.hLinePoint!==null||$t.vLinePoint!==null)&&se(Wt)&&ne(j,$t,Xt),Ft}if(be&&se(Wt)&&ne(j,$t,Xt),h.isXYhover(lt)&&Xe[0].length!==0&&Xe[0].trace.type!=="splom"){var rr=Xe[0];s[rr.trace.type]?Xe=Xe.filter(function(Qn){return Qn.trace.index===rr.trace.index}):Xe=[rr];var sr=Xe.length,fr=te("x",rr,Ae),ir=te("y",rr,Ae);Mt(fr,ir);var Vt=[],yr={},br=0,_r=function(Qn){var Mr=s[Qn.trace.type]?D(Qn):Qn.trace.index;if(!yr[Mr])br++,yr[Mr]=br,Vt.push(Qn);else{var Jr=yr[Mr]-1,Kr=Vt[Jr];Jr>0&&Math.abs(Qn.distance)<Math.abs(Kr.distance)&&(Vt[Jr]=Qn)}},pr;for(pr=0;pr<sr;pr++)_r(Xe[pr]);for(pr=Xe.length-1;pr>sr-1;pr--)_r(Xe[pr]);Xe=Vt,tr()}var Yr=j._hoverdata,zr=[],Nr=Y(j),xn=ie(j);for(Ie=0;Ie<Xe.length;Ie++){var tn=Xe[Ie],On=h.makeEventData(tn,tn.trace,tn.cd);if(tn.hovertemplate!==!1){var zn=!1;tn.cd[tn.index]&&tn.cd[tn.index].ht&&(zn=tn.cd[tn.index].ht),tn.hovertemplate=zn||tn.trace.hovertemplate||!1}if(tn.xa&&tn.ya){var Sr=tn.x0+tn.xa._offset,Vr=tn.x1+tn.xa._offset,qr=tn.y0+tn.ya._offset,Hr=tn.y1+tn.ya._offset,Tn=Math.min(Sr,Vr),bn=Math.max(Sr,Vr),Hn=Math.min(qr,Hr),Gn=Math.max(qr,Hr);On.bbox={x0:Tn+xn,x1:bn+xn,y0:Hn+Nr,y1:Gn+Nr}}tn.eventData=[On],zr.push(On)}j._hoverdata=zr;var ea=Pe==="y"&&(Oe.length>1||Xe.length>1)||Pe==="closest"&&Pr&&Xe.length>1,ma=u.combine(Ae.plot_bgcolor||u.background,Ae.paper_bgcolor),Da=k(Xe,{gd:j,hovermode:Pe,rotateLabels:ea,bgColor:ma,container:Ae._hoverlayer,outerContainer:Ae._paper.node(),commonLabelOpts:Ae.hoverlabel,hoverdistance:Ae.hoverdistance}),Fa=Da.hoverLabels;if(h.isUnifiedHover(Pe)||(N(Fa,ea,Ae,Da.commonLabelBoundingBox),X(Fa,ea,Ae._invScaleX,Ae._invScaleY)),he&&he.tagName){var La=m.getComponentMethod("annotations","hasClickToShow")(j,zr);i(d.select(he),La?"pointer":"")}!he||ae||!q(j,K,Yr)||(Yr&&j.emit("plotly_unhover",{event:K,points:Yr}),j.emit("plotly_hover",{event:K,points:j._hoverdata,xaxes:wt,yaxes:Tt,xvals:ke,yvals:Ke}))}function D(j){return[j.trace.index,j.index,j.x0,j.y0,j.name,j.attr,j.xa?j.xa._id:"",j.ya?j.ya._id:""].join(",")}var B=/<extra>([\s\S]*)<\/extra>/;function k(j,K){var ue=K.gd,ae=ue._fullLayout,he=K.hovermode,xe=K.rotateLabels,Se=K.bgColor,Ae=K.container,De=K.outerContainer,we=K.commonLabelOpts||{};if(j.length===0)return[[]];var Ce=K.fontFamily||T.HOVERFONT,be=K.fontSize||T.HOVERFONTSIZE,Pe=K.fontWeight||ae.font.weight,Ve=K.fontStyle||ae.font.style,Ge=K.fontVariant||ae.font.variant,Fe=j[0],He=Fe.xa,ft=Fe.ya,gt=he.charAt(0),ct=gt+"Label",nt=Fe[ct];if(nt===void 0&&He.type==="multicategory")for(var dt=0;dt<j.length&&(nt=j[dt][ct],nt===void 0);dt++);var pt=le(ue,De),wt=pt.top,Tt=pt.width,Ct=pt.height,at=nt!==void 0&&Fe.distance<=K.hoverdistance&&(he==="x"||he==="y");if(at){var ze=!0,je,Je;for(je=0;je<j.length;je++)if(ze&&j[je].zLabel===void 0&&(ze=!1),Je=j[je].hoverinfo||j[je].trace.hoverinfo,Je){var Xe=Array.isArray(Je)?Je:Je.split("+");if(Xe.indexOf("all")===-1&&Xe.indexOf(he)===-1){at=!1;break}}ze&&(at=!1)}var Oe=Ae.selectAll("g.axistext").data(at?[0]:[]);Oe.enter().append("g").classed("axistext",!0),Oe.exit().remove();var ke={minX:0,maxX:0,minY:0,maxY:0};if(Oe.each(function(){var Qt=d.select(this),mr=L.ensureSingle(Qt,"path","",function(Sr){Sr.style({"stroke-width":"1px"})}),Ze=L.ensureSingle(Qt,"text","",function(Sr){Sr.attr("data-notex",1)}),Ye=we.bgcolor||u.defaultLine,Bt=we.bordercolor||u.contrast(Ye),Ft=u.contrast(Ye),rr={weight:we.font.weight||Pe,style:we.font.style||Ve,variant:we.font.variant||Ge,family:we.font.family||Ce,size:we.font.size||be,color:we.font.color||Ft};mr.style({fill:Ye,stroke:Bt}),Ze.text(nt).call(a.font,rr).call(t.positionText,0,0).call(t.convertToTspans,ue),Qt.attr("transform","");var sr=le(ue,Ze.node()),fr,ir;if(he==="x"){var Vt=He.side==="top"?"-":"";Ze.attr("text-anchor","middle").call(t.positionText,0,He.side==="top"?wt-sr.bottom-E-M:wt-sr.top+E+M),fr=He._offset+(Fe.x0+Fe.x1)/2,ir=ft._offset+(He.side==="top"?0:ft._length);var yr=sr.width/2+M,br=fr;fr<yr?br=yr:fr>ae.width-yr&&(br=ae.width-yr),mr.attr("d","M"+(fr-br)+",0L"+(fr-br+E)+","+Vt+E+"H"+yr+"v"+Vt+(M*2+sr.height)+"H"+-yr+"V"+Vt+E+"H"+(fr-br-E)+"Z"),fr=br,ke.minX=fr-yr,ke.maxX=fr+yr,He.side==="top"?(ke.minY=ir-(M*2+sr.height),ke.maxY=ir-M):(ke.minY=ir+M,ke.maxY=ir+(M*2+sr.height))}else{var _r,pr,Yr;ft.side==="right"?(_r="start",pr=1,Yr="",fr=He._offset+He._length):(_r="end",pr=-1,Yr="-",fr=He._offset),ir=ft._offset+(Fe.y0+Fe.y1)/2,Ze.attr("text-anchor",_r),mr.attr("d","M0,0L"+Yr+E+","+E+"V"+(M+sr.height/2)+"h"+Yr+(M*2+sr.width)+"V-"+(M+sr.height/2)+"H"+Yr+E+"V-"+E+"Z"),ke.minY=ir-(M+sr.height/2),ke.maxY=ir+(M+sr.height/2),ft.side==="right"?(ke.minX=fr+E,ke.maxX=fr+E+(M*2+sr.width)):(ke.minX=fr-E-(M*2+sr.width),ke.maxX=fr-E);var zr=sr.height/2,Nr=wt-sr.top-zr,xn="clip"+ae._uid+"commonlabel"+ft._id,tn;if(fr<sr.width+2*M+E){tn="M-"+(E+M)+"-"+zr+"h-"+(sr.width-M)+"V"+zr+"h"+(sr.width-M)+"Z";var On=sr.width-fr+M;t.positionText(Ze,On,Nr),_r==="end"&&Ze.selectAll("tspan").each(function(){var Sr=d.select(this),Vr=a.tester.append("text").text(Sr.text()).call(a.font,rr),qr=le(ue,Vr.node());Math.round(qr.width)<Math.round(sr.width)&&Sr.attr("x",On-qr.width),Vr.remove()})}else t.positionText(Ze,pr*(M+E),Nr),tn=null;var zn=ae._topclips.selectAll("#"+xn).data(tn?[0]:[]);zn.enter().append("clipPath").attr("id",xn).append("path"),zn.exit().remove(),zn.select("path").attr("d",tn),a.setClipUrl(Ze,tn?xn:null,ue)}Qt.attr("transform",v(fr,ir))}),h.isUnifiedHover(he)){Ae.selectAll("g.hovertext").remove();var Ke=j.filter(function(Qt){return Qt.hoverinfo!=="none"});if(Ke.length===0)return[];var Ie=ae.hoverlabel,pe=Ie.font,Te={showlegend:!0,legend:{title:{text:nt,font:pe},font:pe,bgcolor:Ie.bgcolor,bordercolor:Ie.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ae.legend?ae.legend.traceorder:void 0,orientation:"v"}},Ue={font:pe};c(Te,Ue,ue._fullData);var et=Ue.legend;et.entries=[];for(var st=0;st<Ke.length;st++){var lt=Ke[st];if(lt.hoverinfo!=="none"){var jt=F(lt,!0,he,ae,nt),Jt=jt[0],St=jt[1];lt.name=St,St!==""?lt.text=St+" : "+Jt:lt.text=Jt;var Rt=lt.cd[lt.index];Rt&&(Rt.mc&&(lt.mc=Rt.mc),Rt.mcc&&(lt.mc=Rt.mcc),Rt.mlc&&(lt.mlc=Rt.mlc),Rt.mlcc&&(lt.mlc=Rt.mlcc),Rt.mlw&&(lt.mlw=Rt.mlw),Rt.mrc&&(lt.mrc=Rt.mrc),Rt.dir&&(lt.dir=Rt.dir)),lt._distinct=!0,et.entries.push([lt])}}et.entries.sort(function(Qt,mr){return Qt[0].trace.index-mr[0].trace.index}),et.layer=Ae,et._inHover=!0,et._groupTitleFont=Ie.grouptitlefont,o(ue,et);var $t=Ae.select("g.legend"),Pr=le(ue,$t.node()),xt=Pr.width+2*M,qt=Pr.height+2*M,nr=Ke[0],wr=(nr.x0+nr.x1)/2,dr=(nr.y0+nr.y1)/2,bt=!(m.traceIs(nr.trace,"bar-like")||m.traceIs(nr.trace,"box-violin")),ut,Mt;gt==="y"?bt?(Mt=dr-M,ut=dr+M):(Mt=Math.min.apply(null,Ke.map(function(Qt){return Math.min(Qt.y0,Qt.y1)})),ut=Math.max.apply(null,Ke.map(function(Qt){return Math.max(Qt.y0,Qt.y1)}))):Mt=ut=L.mean(Ke.map(function(Qt){return(Qt.y0+Qt.y1)/2}))-qt/2;var _t,kt;gt==="x"?bt?(_t=wr+M,kt=wr-M):(_t=Math.max.apply(null,Ke.map(function(Qt){return Math.max(Qt.x0,Qt.x1)})),kt=Math.min.apply(null,Ke.map(function(Qt){return Math.min(Qt.x0,Qt.x1)}))):_t=kt=L.mean(Ke.map(function(Qt){return(Qt.x0+Qt.x1)/2}))-xt/2;var Xt=He._offset,Wt=ft._offset;ut+=Wt,_t+=Xt,kt+=Xt-xt,Mt+=Wt-qt;var Ht,tr;return _t+xt<Tt&&_t>=0?Ht=_t:kt+xt<Tt&&kt>=0?Ht=kt:Xt+xt<Tt?Ht=Xt:_t-wr<wr-kt+xt?Ht=Tt-xt:Ht=0,Ht+=M,ut+qt<Ct&&ut>=0?tr=ut:Mt+qt<Ct&&Mt>=0?tr=Mt:Wt+qt<Ct?tr=Wt:ut-dr<dr-Mt+qt?tr=Ct-qt:tr=0,tr+=M,$t.attr("transform",v(Ht-1,tr-1)),$t}var gr=Ae.selectAll("g.hovertext").data(j,function(Qt){return D(Qt)});return gr.enter().append("g").classed("hovertext",!0).each(function(){var Qt=d.select(this);Qt.append("rect").call(u.fill,u.addOpacity(Se,.8)),Qt.append("text").classed("name",!0),Qt.append("path").style("stroke-width","1px"),Qt.append("text").classed("nums",!0).call(a.font,{weight:Pe,style:Ve,variant:Ge,family:Ce,size:be})}),gr.exit().remove(),gr.each(function(Qt){var mr=d.select(this).attr("transform",""),Ze=Qt.color;Array.isArray(Ze)&&(Ze=Ze[Qt.eventData[0].pointNumber]);var Ye=Qt.bgcolor||Ze,Bt=u.combine(u.opacity(Ye)?Ye:u.defaultLine,Se),Ft=u.combine(u.opacity(Ze)?Ze:u.defaultLine,Se),rr=Qt.borderColor||u.contrast(Bt),sr=F(Qt,at,he,ae,nt,mr),fr=sr[0],ir=sr[1],Vt=mr.select("text.nums").call(a.font,{family:Qt.fontFamily||Ce,size:Qt.fontSize||be,color:Qt.fontColor||rr,weight:Qt.fontWeight||Pe,style:Qt.fontStyle||Ve,variant:Qt.fontVariant||Ge}).text(fr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ue),yr=mr.select("text.name"),br=0,_r=0;if(ir&&ir!==fr){yr.call(a.font,{family:Qt.fontFamily||Ce,size:Qt.fontSize||be,color:Ft,weight:Qt.fontWeight||Pe,style:Qt.fontStyle||Ve,variant:Qt.fontVariant||Ge}).text(ir).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ue);var pr=le(ue,yr.node());br=pr.width+2*M,_r=pr.height+2*M}else yr.remove(),mr.select("rect").remove();mr.select("path").style({fill:Bt,stroke:rr});var Yr=Qt.xa._offset+(Qt.x0+Qt.x1)/2,zr=Qt.ya._offset+(Qt.y0+Qt.y1)/2,Nr=Math.abs(Qt.x1-Qt.x0),xn=Math.abs(Qt.y1-Qt.y0),tn=le(ue,Vt.node()),On=tn.width/ae._invScaleX,zn=tn.height/ae._invScaleY;Qt.ty0=(wt-tn.top)/ae._invScaleY,Qt.bx=On+2*M,Qt.by=Math.max(zn+2*M,_r),Qt.anchor="start",Qt.txwidth=On,Qt.tx2width=br,Qt.offset=0;var Sr=(On+E+M+br)*ae._invScaleX,Vr,qr;if(xe)Qt.pos=Yr,Vr=zr+xn/2+Sr<=Ct,qr=zr-xn/2-Sr>=0,(Qt.idealAlign==="top"||!Vr)&&qr?(zr-=xn/2,Qt.anchor="end"):Vr?(zr+=xn/2,Qt.anchor="start"):Qt.anchor="middle",Qt.crossPos=zr;else{if(Qt.pos=zr,Vr=Yr+Nr/2+Sr<=Tt,qr=Yr-Nr/2-Sr>=0,(Qt.idealAlign==="left"||!Vr)&&qr)Yr-=Nr/2,Qt.anchor="end";else if(Vr)Yr+=Nr/2,Qt.anchor="start";else{Qt.anchor="middle";var Hr=Sr/2,Tn=Yr+Hr-Tt,bn=Yr-Hr;Tn>0&&(Yr-=Tn),bn<0&&(Yr+=-bn)}Qt.crossPos=Yr}Vt.attr("text-anchor",Qt.anchor),br&&yr.attr("text-anchor",Qt.anchor),mr.attr("transform",v(Yr,zr)+(xe?g(p):""))}),{hoverLabels:gr,commonLabelBoundingBox:ke}}function F(j,K,ue,ae,he,xe){var Se="",Ae="";j.nameOverride!==void 0&&(j.name=j.nameOverride),j.name&&(j.trace._meta&&(j.name=L.templateString(j.name,j.trace._meta)),Se=J(j.name,j.nameLength));var De=ue.charAt(0),we=De==="x"?"y":"x";j.zLabel!==void 0?(j.xLabel!==void 0&&(Ae+="x: "+j.xLabel+"<br>"),j.yLabel!==void 0&&(Ae+="y: "+j.yLabel+"<br>"),j.trace.type!=="choropleth"&&j.trace.type!=="choroplethmapbox"&&(Ae+=(Ae?"z: ":"")+j.zLabel)):K&&j[De+"Label"]===he?Ae=j[we+"Label"]||"":j.xLabel===void 0?j.yLabel!==void 0&&j.trace.type!=="scattercarpet"&&(Ae=j.yLabel):j.yLabel===void 0?Ae=j.xLabel:Ae="("+j.xLabel+", "+j.yLabel+")",(j.text||j.text===0)&&!Array.isArray(j.text)&&(Ae+=(Ae?"<br>":"")+j.text),j.extraText!==void 0&&(Ae+=(Ae?"<br>":"")+j.extraText),xe&&Ae===""&&!j.hovertemplate&&(Se===""&&xe.remove(),Ae=Se);var Ce=j.hovertemplate||!1;if(Ce){var be=j.hovertemplateLabels||j;j[De+"Label"]!==he&&(be[De+"other"]=be[De+"Val"],be[De+"otherLabel"]=be[De+"Label"]),Ae=L.hovertemplateString(Ce,be,ae._d3locale,j.eventData[0]||{},j.trace._meta),Ae=Ae.replace(B,function(Pe,Ve){return Se=J(Ve,j.nameLength),""})}return[Ae,Se]}function N(j,K,ue,ae){var he=K?"xa":"ya",xe=K?"ya":"xa",Se=0,Ae=1,De=j.size(),we=new Array(De),Ce=0,be=ae.minX,Pe=ae.maxX,Ve=ae.minY,Ge=ae.maxY,Fe=function(ke){return ke*ue._invScaleX},He=function(ke){return ke*ue._invScaleY};j.each(function(ke){var Ke=ke[he],Ie=ke[xe],pe=Ke._id.charAt(0)==="x",Te=Ke.range;Ce===0&&Te&&Te[0]>Te[1]!==pe&&(Ae=-1);var Ue=0,et=pe?ue.width:ue.height;if(ue.hovermode==="x"||ue.hovermode==="y"){var st=O(ke,K),lt=ke.anchor,jt=lt==="end"?-1:1,Jt,St;if(lt==="middle")Jt=ke.crossPos+(pe?He(st.y-ke.by/2):Fe(ke.bx/2+ke.tx2width/2)),St=Jt+(pe?He(ke.by):Fe(ke.bx));else if(pe)Jt=ke.crossPos+He(E+st.y)-He(ke.by/2-E),St=Jt+He(ke.by);else{var Rt=Fe(jt*E+st.x),$t=Rt+Fe(jt*ke.bx);Jt=ke.crossPos+Math.min(Rt,$t),St=ke.crossPos+Math.max(Rt,$t)}pe?Ve!==void 0&&Ge!==void 0&&Math.min(St,Ge)-Math.max(Jt,Ve)>1&&(Ie.side==="left"?(Ue=Ie._mainLinePosition,et=ue.width):et=Ie._mainLinePosition):be!==void 0&&Pe!==void 0&&Math.min(St,Pe)-Math.max(Jt,be)>1&&(Ie.side==="top"?(Ue=Ie._mainLinePosition,et=ue.height):et=Ie._mainLinePosition)}we[Ce++]=[{datum:ke,traceIndex:ke.trace.index,dp:0,pos:ke.pos,posref:ke.posref,size:ke.by*(pe?A:1)/2,pmin:Ue,pmax:et}]}),we.sort(function(ke,Ke){return ke[0].posref-Ke[0].posref||Ae*(Ke[0].traceIndex-ke[0].traceIndex)});var ft,gt,ct,nt,dt,pt,wt;function Tt(ke){var Ke=ke[0],Ie=ke[ke.length-1];if(gt=Ke.pmin-Ke.pos-Ke.dp+Ke.size,ct=Ie.pos+Ie.dp+Ie.size-Ke.pmax,gt>.01){for(dt=ke.length-1;dt>=0;dt--)ke[dt].dp+=gt;ft=!1}if(!(ct<.01)){if(gt<-.01){for(dt=ke.length-1;dt>=0;dt--)ke[dt].dp-=ct;ft=!1}if(ft){var pe=0;for(nt=0;nt<ke.length;nt++)pt=ke[nt],pt.pos+pt.dp+pt.size>Ke.pmax&&pe++;for(nt=ke.length-1;nt>=0&&!(pe<=0);nt--)pt=ke[nt],pt.pos>Ke.pmax-1&&(pt.del=!0,pe--);for(nt=0;nt<ke.length&&!(pe<=0);nt++)if(pt=ke[nt],pt.pos<Ke.pmin+1)for(pt.del=!0,pe--,ct=pt.size*2,dt=ke.length-1;dt>=0;dt--)ke[dt].dp-=ct;for(nt=ke.length-1;nt>=0&&!(pe<=0);nt--)pt=ke[nt],pt.pos+pt.dp+pt.size>Ke.pmax&&(pt.del=!0,pe--)}}}for(;!ft&&Se<=De;){for(Se++,ft=!0,nt=0;nt<we.length-1;){var Ct=we[nt],at=we[nt+1],ze=Ct[Ct.length-1],je=at[0];if(gt=ze.pos+ze.dp+ze.size-je.pos-je.dp+je.size,gt>.01&&ze.pmin===je.pmin&&ze.pmax===je.pmax){for(dt=at.length-1;dt>=0;dt--)at[dt].dp+=gt;for(Ct.push.apply(Ct,at),we.splice(nt+1,1),wt=0,dt=Ct.length-1;dt>=0;dt--)wt+=Ct[dt].dp;for(ct=wt/Ct.length,dt=Ct.length-1;dt>=0;dt--)Ct[dt].dp-=ct;ft=!1}else nt++}we.forEach(Tt)}for(nt=we.length-1;nt>=0;nt--){var Je=we[nt];for(dt=Je.length-1;dt>=0;dt--){var Xe=Je[dt],Oe=Xe.datum;Oe.offset=Xe.dp,Oe.del=Xe.del}}}function O(j,K){var ue=0,ae=j.offset;return K&&(ae*=-y,ue=j.offset*_),{x:ue,y:ae}}function V(j){var K={start:1,end:-1,middle:0}[j.anchor],ue=K*(E+M),ae=ue+K*(j.txwidth+M),he=j.anchor==="middle";return he&&(ue-=j.tx2width/2,ae+=j.txwidth/2+M),{alignShift:K,textShiftX:ue,text2ShiftX:ae}}function X(j,K,ue,ae){var he=function(Se){return Se*ue},xe=function(Se){return Se*ae};j.each(function(Se){var Ae=d.select(this);if(Se.del)return Ae.remove();var De=Ae.select("text.nums"),we=Se.anchor,Ce=we==="end"?-1:1,be=V(Se),Pe=O(Se,K),Ve=Pe.x,Ge=Pe.y,Fe=we==="middle";Ae.select("path").attr("d",Fe?"M-"+he(Se.bx/2+Se.tx2width/2)+","+xe(Ge-Se.by/2)+"h"+he(Se.bx)+"v"+xe(Se.by)+"h-"+he(Se.bx)+"Z":"M0,0L"+he(Ce*E+Ve)+","+xe(E+Ge)+"v"+xe(Se.by/2-E)+"h"+he(Ce*Se.bx)+"v-"+xe(Se.by)+"H"+he(Ce*E+Ve)+"V"+xe(Ge-E)+"Z");var He=Ve+be.textShiftX,ft=Ge+Se.ty0-Se.by/2+M,gt=Se.textAlign||"auto";gt!=="auto"&&(gt==="left"&&we!=="start"?(De.attr("text-anchor","start"),He=Fe?-Se.bx/2-Se.tx2width/2+M:-Se.bx-M):gt==="right"&&we!=="end"&&(De.attr("text-anchor","end"),He=Fe?Se.bx/2-Se.tx2width/2-M:Se.bx+M)),De.call(t.positionText,he(He),xe(ft)),Se.tx2width&&(Ae.select("text.name").call(t.positionText,he(be.text2ShiftX+be.alignShift*M+Ve),xe(Ge+Se.ty0-Se.by/2+M)),Ae.select("rect").call(a.setRect,he(be.text2ShiftX+(be.alignShift-1)*Se.tx2width/2+Ve),xe(Ge-Se.by/2-1),he(Se.tx2width),xe(Se.by+2)))})}function ee(j,K){var ue=j.index,ae=j.trace||{},he=j.cd[0],xe=j.cd[ue]||{};function Se(Pe){return Pe||C(Pe)&&Pe===0}var Ae=Array.isArray(ue)?function(Pe,Ve){var Ge=L.castOption(he,ue,Pe);return Se(Ge)?Ge:L.extractOption({},ae,"",Ve)}:function(Pe,Ve){return L.extractOption(xe,ae,Pe,Ve)};function De(Pe,Ve,Ge){var Fe=Ae(Ve,Ge);Se(Fe)&&(j[Pe]=Fe)}if(De("hoverinfo","hi","hoverinfo"),De("bgcolor","hbg","hoverlabel.bgcolor"),De("borderColor","hbc","hoverlabel.bordercolor"),De("fontFamily","htf","hoverlabel.font.family"),De("fontSize","hts","hoverlabel.font.size"),De("fontColor","htc","hoverlabel.font.color"),De("fontWeight","htw","hoverlabel.font.weight"),De("fontStyle","hty","hoverlabel.font.style"),De("fontVariant","htv","hoverlabel.font.variant"),De("nameLength","hnl","hoverlabel.namelength"),De("textAlign","hta","hoverlabel.align"),j.posref=K==="y"||K==="closest"&&ae.orientation==="h"?j.xa._offset+(j.x0+j.x1)/2:j.ya._offset+(j.y0+j.y1)/2,j.x0=L.constrain(j.x0,0,j.xa._length),j.x1=L.constrain(j.x1,0,j.xa._length),j.y0=L.constrain(j.y0,0,j.ya._length),j.y1=L.constrain(j.y1,0,j.ya._length),j.xLabelVal!==void 0&&(j.xLabel="xLabel"in j?j.xLabel:l.hoverLabelText(j.xa,j.xLabelVal,ae.xhoverformat),j.xVal=j.xa.c2d(j.xLabelVal)),j.yLabelVal!==void 0&&(j.yLabel="yLabel"in j?j.yLabel:l.hoverLabelText(j.ya,j.yLabelVal,ae.yhoverformat),j.yVal=j.ya.c2d(j.yLabelVal)),j.zLabelVal!==void 0&&j.zLabel===void 0&&(j.zLabel=String(j.zLabelVal)),!isNaN(j.xerr)&&!(j.xa.type==="log"&&j.xerr<=0)){var we=l.tickText(j.xa,j.xa.c2l(j.xerr),"hover").text;j.xerrneg!==void 0?j.xLabel+=" +"+we+" / -"+l.tickText(j.xa,j.xa.c2l(j.xerrneg),"hover").text:j.xLabel+="  "+we,K==="x"&&(j.distance+=1)}if(!isNaN(j.yerr)&&!(j.ya.type==="log"&&j.yerr<=0)){var Ce=l.tickText(j.ya,j.ya.c2l(j.yerr),"hover").text;j.yerrneg!==void 0?j.yLabel+=" +"+Ce+" / -"+l.tickText(j.ya,j.ya.c2l(j.yerrneg),"hover").text:j.yLabel+="  "+Ce,K==="y"&&(j.distance+=1)}var be=j.hoverinfo||j.trace.hoverinfo;return be&&be!=="all"&&(be=Array.isArray(be)?be:be.split("+"),be.indexOf("x")===-1&&(j.xLabel=void 0),be.indexOf("y")===-1&&(j.yLabel=void 0),be.indexOf("z")===-1&&(j.zLabel=void 0),be.indexOf("text")===-1&&(j.text=void 0),be.indexOf("name")===-1&&(j.name=void 0)),j}function ne(j,K,ue){var ae=ue.container,he=ue.fullLayout,xe=he._size,Se=ue.event,Ae=!!K.hLinePoint,De=!!K.vLinePoint,we,Ce;if(ae.selectAll(".spikeline").remove(),!!(De||Ae)){var be=u.combine(he.plot_bgcolor,he.paper_bgcolor);if(Ae){var Pe=K.hLinePoint,Ve,Ge;we=Pe&&Pe.xa,Ce=Pe&&Pe.ya;var Fe=Ce.spikesnap;Fe==="cursor"?(Ve=Se.pointerX,Ge=Se.pointerY):(Ve=we._offset+Pe.x,Ge=Ce._offset+Pe.y);var He=n.readability(Pe.color,be)<1.5?u.contrast(be):Pe.color,ft=Ce.spikemode,gt=Ce.spikethickness,ct=Ce.spikecolor||He,nt=l.getPxPosition(j,Ce),dt,pt;if(ft.indexOf("toaxis")!==-1||ft.indexOf("across")!==-1){if(ft.indexOf("toaxis")!==-1&&(dt=nt,pt=Ve),ft.indexOf("across")!==-1){var wt=Ce._counterDomainMin,Tt=Ce._counterDomainMax;Ce.anchor==="free"&&(wt=Math.min(wt,Ce.position),Tt=Math.max(Tt,Ce.position)),dt=xe.l+wt*xe.w,pt=xe.l+Tt*xe.w}ae.insert("line",":first-child").attr({x1:dt,x2:pt,y1:Ge,y2:Ge,"stroke-width":gt,stroke:ct,"stroke-dasharray":a.dashStyle(Ce.spikedash,gt)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:dt,x2:pt,y1:Ge,y2:Ge,"stroke-width":gt+2,stroke:be}).classed("spikeline",!0).classed("crisp",!0)}ft.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:nt+(Ce.side!=="right"?gt:-gt),cy:Ge,r:gt,fill:ct}).classed("spikeline",!0)}if(De){var Ct=K.vLinePoint,at,ze;we=Ct&&Ct.xa,Ce=Ct&&Ct.ya;var je=we.spikesnap;je==="cursor"?(at=Se.pointerX,ze=Se.pointerY):(at=we._offset+Ct.x,ze=Ce._offset+Ct.y);var Je=n.readability(Ct.color,be)<1.5?u.contrast(be):Ct.color,Xe=we.spikemode,Oe=we.spikethickness,ke=we.spikecolor||Je,Ke=l.getPxPosition(j,we),Ie,pe;if(Xe.indexOf("toaxis")!==-1||Xe.indexOf("across")!==-1){if(Xe.indexOf("toaxis")!==-1&&(Ie=Ke,pe=ze),Xe.indexOf("across")!==-1){var Te=we._counterDomainMin,Ue=we._counterDomainMax;we.anchor==="free"&&(Te=Math.min(Te,we.position),Ue=Math.max(Ue,we.position)),Ie=xe.t+(1-Ue)*xe.h,pe=xe.t+(1-Te)*xe.h}ae.insert("line",":first-child").attr({x1:at,x2:at,y1:Ie,y2:pe,"stroke-width":Oe,stroke:ke,"stroke-dasharray":a.dashStyle(we.spikedash,Oe)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:at,x2:at,y1:Ie,y2:pe,"stroke-width":Oe+2,stroke:be}).classed("spikeline",!0).classed("crisp",!0)}Xe.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:at,cy:Ke-(we.side!=="top"?Oe:-Oe),r:Oe,fill:ke}).classed("spikeline",!0)}}}function q(j,K,ue){if(!ue||ue.length!==j._hoverdata.length)return!0;for(var ae=ue.length-1;ae>=0;ae--){var he=ue[ae],xe=j._hoverdata[ae];if(he.curveNumber!==xe.curveNumber||String(he.pointNumber)!==String(xe.pointNumber)||String(he.pointNumbers)!==String(xe.pointNumbers))return!0}return!1}function se(j,K){return!K||K.vLinePoint!==j._spikepoints.vLinePoint||K.hLinePoint!==j._spikepoints.hLinePoint}function J(j,K){return t.plainText(j||"",{len:K,allowedTags:["br","sub","sup","b","i","em"]})}function Z(j,K){for(var ue=K.charAt(0),ae=[],he=[],xe=[],Se=0;Se<j.length;Se++){var Ae=j[Se];m.traceIs(Ae.trace,"bar-like")||m.traceIs(Ae.trace,"box-violin")?xe.push(Ae):Ae.trace[ue+"period"]?he.push(Ae):ae.push(Ae)}return ae.concat(he).concat(xe)}function te(j,K,ue){var ae=K[j+"a"],he=K[j+"Val"],xe=K.cd[0];if(ae.type==="category"||ae.type==="multicategory")he=ae._categoriesMap[he];else if(ae.type==="date"){var Se=K.trace[j+"periodalignment"];if(Se){var Ae=K.cd[K.index],De=Ae[j+"Start"];De===void 0&&(De=Ae[j]);var we=Ae[j+"End"];we===void 0&&(we=Ae[j]);var Ce=we-De;Se==="end"?he+=Ce:Se==="middle"&&(he+=Ce/2)}he=ae.d2c(he)}return xe&&xe.t&&xe.t.posLetter===ae._id&&(ue.boxmode==="group"||ue.violinmode==="group")&&(he+=xe.t.dPos),he}function Y(j){return j.offsetTop+j.clientTop}function ie(j){return j.offsetLeft+j.clientLeft}function le(j,K){var ue=j._fullLayout,ae=K.getBoundingClientRect(),he=ae.left,xe=ae.top,Se=he+ae.width,Ae=xe+ae.height,De=L.apply3DTransform(ue._invTransform)(he,xe),we=L.apply3DTransform(ue._invTransform)(Se,Ae),Ce=De[0],be=De[1],Pe=we[0],Ve=we[1];return{x:Ce,y:be,width:Pe-Ce,height:Ve-be,top:Math.min(be,Ve),left:Math.min(Ce,Pe),right:Math.max(Ce,Pe),bottom:Math.max(be,Ve)}}},16132:function(H,U,e){var d=e(3400),C=e(76308),n=e(10624).isUnifiedHover;H.exports=function(w,v,g,r){r=r||{};var t=v.legend;function i(a){r.font[a]||(r.font[a]=t?v.legend.font[a]:v.font[a])}v&&n(v.hovermode)&&(r.font||(r.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),t?(r.bgcolor||(r.bgcolor=C.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),g("hoverlabel.bgcolor",r.bgcolor),g("hoverlabel.bordercolor",r.bordercolor),g("hoverlabel.namelength",r.namelength),d.coerceFont(g,"hoverlabel.font",r.font),g("hoverlabel.align",r.align)}},41008:function(H,U,e){var d=e(3400),C=e(65460);H.exports=function(L,w){function v(g,r){return w[g]!==void 0?w[g]:d.coerce(L,w,C,g,r)}return v("clickmode"),v("hoversubplots"),v("hovermode")}},93024:function(H,U,e){var d=e(33428),C=e(3400),n=e(86476),L=e(10624),w=e(65460),v=e(83292);H.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:w},attributes:e(55756),layoutAttributes:w,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:n.unhover,loneHover:v.loneHover,loneUnhover:g,click:e(62376)};function g(i){var a=C.isD3Selection(i)?i:d.select(i);a.selectAll("g.hovertext").remove(),a.selectAll(".spikeline").remove()}function r(i,a,u){return C.castOption(i,a,"hoverlabel."+u)}function t(i,a,u){function f(l){return C.coerceHoverinfo({hoverinfo:l},{_module:i._module},a)}return C.castOption(i,u,"hoverinfo",f)}},65460:function(H,U,e){var d=e(92456),C=e(25376),n=C({editType:"none"});n.family.dflt=d.HOVERFONT,n.size.dflt=d.HOVERFONTSIZE,H.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:C({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(H,U,e){var d=e(3400),C=e(65460),n=e(41008),L=e(16132);H.exports=function(v,g){function r(l,m){return d.coerce(v,g,C,l,m)}var t=n(v,g);t&&(r("hoverdistance"),r("spikedistance"));var i=r("dragmode");i==="select"&&r("selectdirection");var a=g._has("mapbox"),u=g._has("geo"),f=g._basePlotModules.length;g.dragmode==="zoom"&&((a||u)&&f===1||a&&u&&f===2)&&(g.dragmode="pan"),L(v,g,r),d.coerceFont(r,"hoverlabel.grouptitlefont",g.hoverlabel.font)}},81976:function(H,U,e){var d=e(3400),C=e(16132),n=e(65460);H.exports=function(w,v){function g(r,t){return d.coerce(w,v,n,r,t)}C(w,v,g)}},12704:function(H,U,e){var d=e(3400),C=e(53756).counter,n=e(86968).u,L=e(33816).idRegex,w=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[C("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function g(u,f,l){var m=f[l+"axes"],h=Object.keys((u._splomAxes||{})[l]||{});if(Array.isArray(m))return m;if(h.length)return h}function r(u,f){var l=u.grid||{},m=g(f,l,"x"),h=g(f,l,"y");if(!u.grid&&!m&&!h)return;var T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),c=Array.isArray(m),o=Array.isArray(h),p=c&&m!==l.xaxes&&o&&h!==l.yaxes,x,A;T?(x=l.subplots.length,A=l.subplots[0].length):(o&&(x=h.length),c&&(A=m.length));var _=w.newContainer(f,"grid");function y(F,N){return d.coerce(l,_,v,F,N)}var E=y("rows",x),M=y("columns",A);if(!(E*M>1)){delete f.grid;return}if(!T&&!c&&!o){var s=y("pattern")==="independent";s&&(T=!0)}_._hasSubplotGrid=T;var S=y("roworder"),b=S==="top to bottom",I=T?.2:.1,D=T?.3:.1,B,k;p&&f._splomGridDflt&&(B=f._splomGridDflt.xside,k=f._splomGridDflt.yside),_._domains={x:t("x",y,I,B,M),y:t("y",y,D,k,E,b)}}function t(u,f,l,m,h,T){var c=f(u+"gap",l),o=f("domain."+u);f(u+"side",m);for(var p=new Array(h),x=o[0],A=(o[1]-x)/(h-c),_=A*(1-c),y=0;y<h;y++){var E=x+A*y;p[T?h-1-y:y]=[E,E+_]}return p}function i(u,f){var l=f.grid;if(!(!l||!l._domains)){var m=u.grid||{},h=f._subplots,T=l._hasSubplotGrid,c=l.rows,o=l.columns,p=l.pattern==="independent",x,A,_,y,E,M,s,S=l._axisMap={};if(T){var b=m.subplots||[];M=l.subplots=new Array(c);var I=1;for(x=0;x<c;x++){var D=M[x]=new Array(o),B=b[x]||[];for(A=0;A<o;A++)if(p?(E=I===1?"xy":"x"+I+"y"+I,I++):E=B[A],D[A]="",h.cartesian.indexOf(E)!==-1){if(s=E.indexOf("y"),_=E.slice(0,s),y=E.slice(s),S[_]!==void 0&&S[_]!==A||S[y]!==void 0&&S[y]!==x)continue;D[A]=E,S[_]=A,S[y]=x}}}else{var k=g(f,m,"x"),F=g(f,m,"y");l.xaxes=a(k,h.xaxis,o,S,"x"),l.yaxes=a(F,h.yaxis,c,S,"y")}var N=l._anchors={},O=l.roworder==="top to bottom";for(var V in S){var X=V.charAt(0),ee=l[X+"side"],ne,q,se;if(ee.length<8)N[V]="free";else if(X==="x"){if(ee.charAt(0)==="t"===O?(ne=0,q=1,se=c):(ne=c-1,q=-1,se=-1),T){var J=S[V];for(x=ne;x!==se;x+=q)if(E=M[x][J],!!E&&(s=E.indexOf("y"),E.slice(0,s)===V)){N[V]=E.slice(s);break}}else for(x=ne;x!==se;x+=q)if(y=l.yaxes[x],h.cartesian.indexOf(V+y)!==-1){N[V]=y;break}}else if(ee.charAt(0)==="l"?(ne=0,q=1,se=o):(ne=o-1,q=-1,se=-1),T){var Z=S[V];for(x=ne;x!==se;x+=q)if(E=M[Z][x],!!E&&(s=E.indexOf("y"),E.slice(s)===V)){N[V]=E.slice(0,s);break}}else for(x=ne;x!==se;x+=q)if(_=l.xaxes[x],h.cartesian.indexOf(_+V)!==-1){N[V]=_;break}}}}function a(u,f,l,m,h){var T=new Array(l),c;function o(p,x){f.indexOf(x)!==-1&&m[x]===void 0?(T[p]=x,m[x]=p):T[p]=""}if(Array.isArray(u))for(c=0;c<l;c++)o(c,u[c]);else for(o(0,h),c=1;c<l;c++)o(c,h+(c+1));return T}H.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:i}},65760:function(H,U,e){var d=e(33816),C=e(31780).templatedArray;e(36208),H.exports=C("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",d.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",d.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(H,U,e){var d=e(38248),C=e(36896);H.exports=function(L,w,v,g){w=w||{};var r=v==="log"&&w.type==="linear",t=v==="linear"&&w.type==="log";if(r||t){for(var i=L._fullLayout.images,a=w._id.charAt(0),u,f,l=0;l<i.length;l++)if(u=i[l],f="images["+l+"].",u[a+"ref"]===w._id){var m=u[a],h=u["size"+a],T=null,c=null;if(r){T=C(m,w.range);var o=h/Math.pow(10,T)/2;c=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else T=Math.pow(10,m),c=T*(Math.pow(10,h/2)-Math.pow(10,-h/2));d(T)?d(c)||(c=null):(T=null,c=null),g(f+a,T),g(f+"size"+a,c)}}}},25024:function(H,U,e){var d=e(3400),C=e(54460),n=e(51272),L=e(65760),w="images";H.exports=function(r,t){var i={name:w,handleItemDefaults:v};n(r,t,i)};function v(g,r,t){function i(o,p){return d.coerce(g,r,L,o,p)}var a=i("source"),u=i("visible",!!a);if(!u)return r;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var f={_fullLayout:t},l=["x","y"],m=0;m<2;m++){var h=l[m],T=C.coerceRef(g,r,f,h,"paper",void 0);if(T!=="paper"){var c=C.getFromId(f,T);c._imgIndices.push(r._index)}C.coercePosition(r,f,i,T,h,0)}return r}},60963:function(H,U,e){var d=e(33428),C=e(43616),n=e(54460),L=e(79811),w=e(9616);H.exports=function(g){var r=g._fullLayout,t=[],i={},a=[],u,f;for(f=0;f<r.images.length;f++){var l=r.images[f];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){u=L.ref2id(l.xref)+L.ref2id(l.yref);var m=r._plots[u];if(!m){a.push(l);continue}m.mainplot&&(u=m.mainplot.id),i[u]||(i[u]=[]),i[u].push(l)}else l.layer==="above"?t.push(l):a.push(l)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(y){var E=d.select(this);if(this._imgSrc!==y.source)if(E.attr("xmlns",w.svg),y.source&&y.source.slice(0,5)==="data:")E.attr("xlink:href",y.source),this._imgSrc=y.source;else{var M=new Promise((function(s){var S=new Image;this.img=S,S.setAttribute("crossOrigin","anonymous"),S.onerror=b,S.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height;var D=I.getContext("2d",{willReadFrequently:!0});D.drawImage(this,0,0);var B=I.toDataURL("image/png");E.attr("xlink:href",B),s()},E.on("error",b),S.src=y.source,this._imgSrc=y.source;function b(){E.remove(),s()}}).bind(this));g._promises.push(M)}}function c(y){var E=d.select(this),M=n.getFromId(g,y.xref),s=n.getFromId(g,y.yref),S=n.getRefType(y.xref)==="domain",b=n.getRefType(y.yref)==="domain",I=r._size,D,B;M!==void 0?D=typeof y.xref=="string"&&S?M._length*y.sizex:Math.abs(M.l2p(y.sizex)-M.l2p(0)):D=y.sizex*I.w,s!==void 0?B=typeof y.yref=="string"&&b?s._length*y.sizey:Math.abs(s.l2p(y.sizey)-s.l2p(0)):B=y.sizey*I.h;var k=D*h.x[y.xanchor].offset,F=B*h.y[y.yanchor].offset,N=h.x[y.xanchor].sizing+h.y[y.yanchor].sizing,O,V;switch(M!==void 0?O=typeof y.xref=="string"&&S?M._length*y.x+M._offset:M.r2p(y.x)+M._offset:O=y.x*I.w+I.l,O+=k,s!==void 0?V=typeof y.yref=="string"&&b?s._length*(1-y.y)+s._offset:s.r2p(y.y)+s._offset:V=I.h-y.y*I.h+I.t,V+=F,y.sizing){case"fill":N+=" slice";break;case"stretch":N="none";break}E.attr({x:O,y:V,width:D,height:B,preserveAspectRatio:N,opacity:y.opacity});var X=M&&n.getRefType(y.xref)!=="domain"?M._id:"",ee=s&&n.getRefType(y.yref)!=="domain"?s._id:"",ne=X+ee;C.setClipUrl(E,ne?"clip"+r._uid+ne:null,g)}var o=r._imageLowerLayer.selectAll("image").data(a),p=r._imageUpperLayer.selectAll("image").data(t);o.enter().append("image"),p.enter().append("image"),o.exit().remove(),p.exit().remove(),o.each(function(y){T.bind(this)(y),c.bind(this)(y)}),p.each(function(y){T.bind(this)(y),c.bind(this)(y)});var x=Object.keys(r._plots);for(f=0;f<x.length;f++){u=x[f];var A=r._plots[u];if(A.imagelayer){var _=A.imagelayer.selectAll("image").data(i[u]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(y){T.bind(this)(y),c.bind(this)(y)})}}}},7402:function(H,U,e){H.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(H,U,e){var d=e(25376),C=e(22548);H.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:C.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:d({editType:"legend"}),grouptitlefont:d({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:d({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(H){H.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(H,U,e){var d=e(24040),C=e(3400),n=e(31780),L=e(45464),w=e(3800),v=e(64859),g=e(42451);function r(t,i,a,u){var f=i[t]||{},l=n.newContainer(a,t);function m(se,J){return C.coerce(f,l,w,se,J)}var h=C.coerceFont(m,"font",a.font);m("bgcolor",a.paper_bgcolor),m("bordercolor");var T=m("visible");if(T){for(var c,o=function(se,J){var Z=c._input,te=c;return C.coerce(Z,te,L,se,J)},p=a.font||{},x=C.coerceFont(m,"grouptitlefont",C.extendFlat({},p,{size:Math.round(p.size*1.1)})),A=0,_=!1,y="normal",E=(a.shapes||[]).filter(function(se){return se.showlegend}),M=u.concat(E).filter(function(se){return t===(se.legend||"legend")}),s=0;s<M.length;s++)if(c=M[s],!!c.visible){var S=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(A++,c.showlegend&&(_=!0,(!S&&d.traceIs(c,"pie-like")||c._input.showlegend===!0)&&A++),C.coerceFont(o,"legendgrouptitle.font",x)),(!S&&d.traceIs(c,"bar")&&a.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(y=g.isGrouped({traceorder:y})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(y=g.isReversed({traceorder:y})?"reversed+grouped":"grouped")}var b=C.coerce(i,a,v,"showlegend",_&&A>(t==="legend"?1:0));if(b===!1&&(a[t]=void 0),!(b===!1&&!f.uirevision)&&(m("uirevision",a.uirevision),b!==!1)){m("borderwidth");var I=m("orientation"),D=m("yref"),B=m("xref"),k=I==="h",F=D==="paper",N=B==="paper",O,V,X,ee="left";k?(O=0,d.getComponentMethod("rangeslider","isVisible")(i.xaxis)?F?(V=1.1,X="bottom"):(V=1,X="top"):F?(V=-.1,X="top"):(V=0,X="bottom")):(V=1,X="auto",N?O=1.02:(O=1,ee="right")),C.coerce(f,l,{x:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:O}},"x"),C.coerce(f,l,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:V}},"y"),m("traceorder",y),g.isGrouped(a[t])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("indentation"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",ee),m("yanchor",X),m("valign"),C.noneOrAll(f,l,["x","y"]);var ne=m("title.text");if(ne){m("title.side",k?"left":"top");var q=C.extendFlat({},h,{size:C.bigFont(h.size)});C.coerceFont(m,"title.font",q)}}}}H.exports=function(i,a,u){var f,l=u.slice(),m=a.shapes;if(m)for(f=0;f<m.length;f++){var h=m[f];if(h.showlegend){var T={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(T)}}var c=["legend"];for(f=0;f<l.length;f++)C.pushUnique(c,l[f].legend);for(a._legends=[],f=0;f<c.length;f++){var o=c[f];r(o,i,a,l),a[o]&&a[o].visible&&(a[o]._id=o),a._legends.push(o)}}},31140:function(H,U,e){var d=e(33428),C=e(3400),n=e(7316),L=e(24040),w=e(95924),v=e(86476),g=e(43616),r=e(76308),t=e(72736),i=e(33048),a=e(65196),u=e(84284),f=u.LINE_SPACING,l=u.FROM_TL,m=u.FROM_BR,h=e(35456),T=e(2012),c=e(42451),o=1,p=/^legend[0-9]*$/;H.exports=function(V,X){if(X)A(V,X);else{var ee=V._fullLayout,ne=ee._legends,q=ee._infolayer.selectAll('[class^="legend"]');q.each(function(){var te=d.select(this),Y=te.attr("class"),ie=Y.split(" ")[0];ie.match(p)&&ne.indexOf(ie)===-1&&te.remove()});for(var se=0;se<ne.length;se++){var J=ne[se],Z=V._fullLayout[J];A(V,Z)}}};function x(O,V,X){if(!(V.title.side!=="top center"&&V.title.side!=="top right")){var ee=V.title.font,ne=ee.size*f,q=0,se=O.node(),J=g.bBox(se).width;V.title.side==="top center"?q=.5*(V._width-2*X-2*a.titlePad-J):V.title.side==="top right"&&(q=V._width-2*X-2*a.titlePad-J),t.positionText(O,X+a.titlePad+q,X+ne)}}function A(O,V){var X=V||{},ee=O._fullLayout,ne=N(X),q,se,J=X._inHover;if(J?(se=X.layer,q="hover"):(se=ee._infolayer,q=ne),!!se){q+=ee._uid,O._legendMouseDownTime||(O._legendMouseDownTime=0);var Z;if(J){if(!X.entries)return;Z=h(X.entries,X)}else{for(var te=(O.calcdata||[]).slice(),Y=ee.shapes,ie=0;ie<Y.length;ie++){var le=Y[ie];if(le.showlegend){var j={_isShape:!0,_fullInput:le,index:le._index,name:le.name||le.label.text||"shape "+le._index,legend:le.legend,legendgroup:le.legendgroup,legendgrouptitle:le.legendgrouptitle,legendrank:le.legendrank,legendwidth:le.legendwidth,showlegend:le.showlegend,visible:le.visible,opacity:le.opacity,mode:le.type==="line"?"lines":"markers",line:le.line,marker:{line:le.line,color:le.fillcolor,size:12,symbol:le.type==="rect"?"square":le.type==="circle"?"circle":"hexagon2"}};te.push([{trace:j}])}}Z=ee.showlegend&&h(te,X,ee._legends.length>1)}var K=ee.hiddenlabels||[];if(!J&&(!ee.showlegend||!Z.length))return se.selectAll("."+ne).remove(),ee._topdefs.select("#"+q).remove(),n.autoMargin(O,ne);var ue=C.ensureSingle(se,"g",ne,function(be){J||be.attr("pointer-events","all")}),ae=C.ensureSingleById(ee._topdefs,"clipPath",q,function(be){be.append("rect")}),he=C.ensureSingle(ue,"rect","bg",function(be){be.attr("shape-rendering","crispEdges")});he.call(r.stroke,X.bordercolor).call(r.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px");var xe=C.ensureSingle(ue,"g","scrollbox"),Se=X.title;X._titleWidth=0,X._titleHeight=0;var Ae;Se.text?(Ae=C.ensureSingle(xe,"text",ne+"titletext"),Ae.attr("text-anchor","start").call(g.font,Se.font).text(Se.text),S(Ae,xe,O,X,o)):xe.selectAll("."+ne+"titletext").remove();var De=C.ensureSingle(ue,"rect","scrollbar",function(be){be.attr(a.scrollBarEnterAttrs).call(r.fill,a.scrollBarColor)}),we=xe.selectAll("g.groups").data(Z);we.enter().append("g").attr("class","groups"),we.exit().remove();var Ce=we.selectAll("g.traces").data(C.identity);Ce.enter().append("g").attr("class","traces"),Ce.exit().remove(),Ce.style("opacity",function(be){var Pe=be[0].trace;return L.traceIs(Pe,"pie-like")?K.indexOf(be[0].label)!==-1?.5:1:Pe.visible==="legendonly"?.5:1}).each(function(){d.select(this).call(E,O,X)}).call(T,O,X).each(function(){J||d.select(this).call(s,O,ne)}),C.syncOrAsync([n.previousPromises,function(){return D(O,we,Ce,X)},function(){var be=ee._size,Pe=X.borderwidth,Ve=X.xref==="paper",Ge=X.yref==="paper";if(Se.text&&x(Ae,X,Pe),!J){var Fe,He;Ve?Fe=be.l+be.w*X.x-l[k(X)]*X._width:Fe=ee.width*X.x-l[k(X)]*X._width,Ge?He=be.t+be.h*(1-X.y)-l[F(X)]*X._effHeight:He=ee.height*(1-X.y)-l[F(X)]*X._effHeight;var ft=B(O,ne,Fe,He);if(ft)return;if(ee.margin.autoexpand){var gt=Fe,ct=He;Fe=Ve?C.constrain(Fe,0,ee.width-X._width):gt,He=Ge?C.constrain(He,0,ee.height-X._effHeight):ct,Fe!==gt&&C.log("Constrain "+ne+".x to make legend fit inside graph"),He!==ct&&C.log("Constrain "+ne+".y to make legend fit inside graph")}g.setTranslate(ue,Fe,He)}if(De.on(".drag",null),ue.on("wheel",null),J||X._height<=X._maxHeight||O._context.staticPlot){var nt=X._effHeight;J&&(nt=X._height),he.attr({width:X._width-Pe,height:nt-Pe,x:Pe/2,y:Pe/2}),g.setTranslate(xe,0,0),ae.select("rect").attr({width:X._width-2*Pe,height:nt-2*Pe,x:Pe,y:Pe}),g.setClipUrl(xe,q,O),g.setRect(De,0,0,0,0),delete X._scrollY}else{var dt=Math.max(a.scrollBarMinHeight,X._effHeight*X._effHeight/X._height),pt=X._effHeight-dt-2*a.scrollBarMargin,wt=X._height-X._effHeight,Tt=pt/wt,Ct=Math.min(X._scrollY||0,wt);he.attr({width:X._width-2*Pe+a.scrollBarWidth+a.scrollBarMargin,height:X._effHeight-Pe,x:Pe/2,y:Pe/2}),ae.select("rect").attr({width:X._width-2*Pe+a.scrollBarWidth+a.scrollBarMargin,height:X._effHeight-2*Pe,x:Pe,y:Pe+Ct}),g.setClipUrl(xe,q,O),Ke(Ct,dt,Tt),ue.on("wheel",function(){Ct=C.constrain(X._scrollY+d.event.deltaY/pt*wt,0,wt),Ke(Ct,dt,Tt),Ct!==0&&Ct!==wt&&d.event.preventDefault()});var at,ze,je,Je=function(et,st,lt){var jt=(lt-st)/Tt+et;return C.constrain(jt,0,wt)},Xe=function(et,st,lt){var jt=(st-lt)/Tt+et;return C.constrain(jt,0,wt)},Oe=d.behavior.drag().on("dragstart",function(){var et=d.event.sourceEvent;et.type==="touchstart"?at=et.changedTouches[0].clientY:at=et.clientY,je=Ct}).on("drag",function(){var et=d.event.sourceEvent;et.buttons===2||et.ctrlKey||(et.type==="touchmove"?ze=et.changedTouches[0].clientY:ze=et.clientY,Ct=Je(je,at,ze),Ke(Ct,dt,Tt))});De.call(Oe);var ke=d.behavior.drag().on("dragstart",function(){var et=d.event.sourceEvent;et.type==="touchstart"&&(at=et.changedTouches[0].clientY,je=Ct)}).on("drag",function(){var et=d.event.sourceEvent;et.type==="touchmove"&&(ze=et.changedTouches[0].clientY,Ct=Xe(je,at,ze),Ke(Ct,dt,Tt))});xe.call(ke)}function Ke(et,st,lt){X._scrollY=O._fullLayout[ne]._scrollY=et,g.setTranslate(xe,0,-et),g.setRect(De,X._width,a.scrollBarMargin+et*lt,a.scrollBarWidth,st),ae.select("rect").attr("y",Pe+et)}if(O._context.edits.legendPosition){var Ie,pe,Te,Ue;ue.classed("cursor-move",!0),v.init({element:ue.node(),gd:O,prepFn:function(){var et=g.getTranslate(ue);Te=et.x,Ue=et.y},moveFn:function(et,st){var lt=Te+et,jt=Ue+st;g.setTranslate(ue,lt,jt),Ie=v.align(lt,X._width,be.l,be.l+be.w,X.xanchor),pe=v.align(jt+X._height,-X._height,be.t+be.h,be.t,X.yanchor)},doneFn:function(){if(Ie!==void 0&&pe!==void 0){var et={};et[ne+".x"]=Ie,et[ne+".y"]=pe,L.call("_guiRelayout",O,et)}},clickFn:function(et,st){var lt=se.selectAll("g.traces").filter(function(){var jt=this.getBoundingClientRect();return st.clientX>=jt.left&&st.clientX<=jt.right&&st.clientY>=jt.top&&st.clientY<=jt.bottom});lt.size()>0&&y(O,ue,lt,et,st)}})}}],O)}}function _(O,V,X){var ee=O[0],ne=ee.width,q=V.entrywidthmode,se=ee.trace.legendwidth||V.entrywidth;return q==="fraction"?V._maxWidth*se:X+(se||ne)}function y(O,V,X,ee,ne){var q=X.data()[0][0].trace,se={event:ne,node:X.node(),curveNumber:q.index,expandedIndex:q._expandedIndex,data:O.data,layout:O.layout,frames:O._transitionData._frames,config:O._context,fullData:O._fullData,fullLayout:O._fullLayout};q._group&&(se.group=q._group),L.traceIs(q,"pie-like")&&(se.label=X.datum()[0].label);var J=w.triggerHandler(O,"plotly_legendclick",se);if(ee===1){if(J===!1)return;V._clickTimeout=setTimeout(function(){O._fullLayout&&i(X,O,ee)},O._context.doubleClickDelay)}else if(ee===2){V._clickTimeout&&clearTimeout(V._clickTimeout),O._legendMouseDownTime=0;var Z=w.triggerHandler(O,"plotly_legenddoubleclick",se);Z!==!1&&J!==!1&&i(X,O,ee)}}function E(O,V,X){var ee=N(X),ne=O.data()[0][0],q=ne.trace,se=L.traceIs(q,"pie-like"),J=!X._inHover&&V._context.edits.legendText&&!se,Z=X._maxNameLength,te,Y;ne.groupTitle?(te=ne.groupTitle.text,Y=ne.groupTitle.font):(Y=X.font,X.entries?te=ne.text:(te=se?ne.label:q.name,q._meta&&(te=C.templateString(te,q._meta))));var ie=C.ensureSingle(O,"text",ee+"text");ie.attr("text-anchor","start").call(g.font,Y).text(J?M(te,Z):te);var le=X.indentation+X.itemwidth+a.itemGap*2;t.positionText(ie,le,0),J?ie.call(t.makeEditable,{gd:V,text:te}).call(S,O,V,X).on("edit",function(j){this.text(M(j,Z)).call(S,O,V,X);var K=ne.trace._fullInput||{},ue={};if(L.hasTransform(K,"groupby")){var ae=L.getTransformIndices(K,"groupby"),he=ae[ae.length-1],xe=C.keyedContainer(K,"transforms["+he+"].styles","target","value.name");xe.set(ne.trace._group,j),ue=xe.constructUpdate()}else ue.name=j;return K._isShape?L.call("_guiRelayout",V,"shapes["+q.index+"].name",ue.name):L.call("_guiRestyle",V,ue,q.index)}):S(ie,O,V,X)}function M(O,V){var X=Math.max(4,V);if(O&&O.trim().length>=X/2)return O;O=O||"";for(var ee=X-O.length;ee>0;ee--)O+=" ";return O}function s(O,V,X){var ee=V._context.doubleClickDelay,ne,q=1,se=C.ensureSingle(O,"rect",X+"toggle",function(J){V._context.staticPlot||J.style("cursor","pointer").attr("pointer-events","all"),J.call(r.fill,"rgba(0,0,0,0)")});V._context.staticPlot||(se.on("mousedown",function(){ne=new Date().getTime(),ne-V._legendMouseDownTime<ee?q+=1:(q=1,V._legendMouseDownTime=ne)}),se.on("mouseup",function(){if(!(V._dragged||V._editing)){var J=V._fullLayout[X];new Date().getTime()-V._legendMouseDownTime>ee&&(q=Math.max(q-1,1)),y(V,J,O,q,d.event)}}))}function S(O,V,X,ee,ne){ee._inHover&&O.attr("data-notex",!0),t.convertToTspans(O,X,function(){b(V,X,ee,ne)})}function b(O,V,X,ee){var ne=O.data()[0][0];if(!X._inHover&&ne&&!ne.trace.showlegend){O.remove();return}var q=O.select("g[class*=math-group]"),se=q.node(),J=N(X);X||(X=V._fullLayout[J]);var Z=X.borderwidth,te;ee===o?te=X.title.font:ne.groupTitle?te=ne.groupTitle.font:te=X.font;var Y=te.size*f,ie,le;if(se){var j=g.bBox(se);ie=j.height,le=j.width,ee===o?g.setTranslate(q,Z,Z+ie*.75):g.setTranslate(q,0,ie*.25)}else{var K="."+J+(ee===o?"title":"")+"text",ue=O.select(K),ae=t.lineCount(ue),he=ue.node();if(ie=Y*ae,le=he?g.bBox(he).width:0,ee===o)X.title.side==="left"&&(le+=a.itemGap*2),t.positionText(ue,Z+a.titlePad,Z+Y);else{var xe=a.itemGap*2+X.indentation+X.itemwidth;ne.groupTitle&&(xe=a.itemGap,le-=X.indentation+X.itemwidth),t.positionText(ue,xe,-Y*((ae-1)/2-.3))}}ee===o?(X._titleWidth=le,X._titleHeight=ie):(ne.lineHeight=Y,ne.height=Math.max(ie,16)+3,ne.width=le)}function I(O){var V=0,X=0,ee=O.title.side;return ee&&(ee.indexOf("left")!==-1&&(V=O._titleWidth),ee.indexOf("top")!==-1&&(X=O._titleHeight)),[V,X]}function D(O,V,X,ee){var ne=O._fullLayout,q=N(ee);ee||(ee=ne[q]);var se=ne._size,J=c.isVertical(ee),Z=c.isGrouped(ee),te=ee.entrywidthmode==="fraction",Y=ee.borderwidth,ie=2*Y,le=a.itemGap,j=ee.indentation+ee.itemwidth+le*2,K=2*(Y+le),ue=F(ee),ae=ee.y<0||ee.y===0&&ue==="top",he=ee.y>1||ee.y===1&&ue==="bottom",xe=ee.tracegroupgap,Se={};ee._maxHeight=Math.max(ae||he?ne.height/2:se.h,30);var Ae=0;ee._width=0,ee._height=0;var De=I(ee);if(J)X.each(function(je){var Je=je[0].height;g.setTranslate(this,Y+De[0],Y+De[1]+ee._height+Je/2+le),ee._height+=Je,ee._width=Math.max(ee._width,je[0].width)}),Ae=j+ee._width,ee._width+=le+j+ie,ee._height+=K,Z&&(V.each(function(je,Je){g.setTranslate(this,0,Je*ee.tracegroupgap)}),ee._height+=(ee._lgroupsLength-1)*ee.tracegroupgap);else{var we=k(ee),Ce=ee.x<0||ee.x===0&&we==="right",be=ee.x>1||ee.x===1&&we==="left",Pe=he||ae,Ve=ne.width/2;ee._maxWidth=Math.max(Ce?Pe&&we==="left"?se.l+se.w:Ve:be?Pe&&we==="right"?se.r+se.w:Ve:se.w,2*j);var Ge=0,Fe=0;X.each(function(je){var Je=_(je,ee,j);Ge=Math.max(Ge,Je),Fe+=Je}),Ae=null;var He=0;if(Z){var ft=0,gt=0,ct=0;V.each(function(){var je=0,Je=0;d.select(this).selectAll("g.traces").each(function(Oe){var ke=_(Oe,ee,j),Ke=Oe[0].height;g.setTranslate(this,De[0],De[1]+Y+le+Ke/2+Je),Je+=Ke,je=Math.max(je,ke),Se[Oe[0].trace.legendgroup]=je});var Xe=je+le;gt>0&&Xe+Y+gt>ee._maxWidth?(He=Math.max(He,gt),gt=0,ct+=ft+xe,ft=Je):ft=Math.max(ft,Je),g.setTranslate(this,gt,ct),gt+=Xe}),ee._width=Math.max(He,gt)+Y,ee._height=ct+ft+K}else{var nt=X.size(),dt=Fe+ie+(nt-1)*le<ee._maxWidth,pt=0,wt=0,Tt=0,Ct=0;X.each(function(je){var Je=je[0].height,Xe=_(je,ee,j),Oe=dt?Xe:Ge;te||(Oe+=le),Oe+Y+wt-le>=ee._maxWidth&&(He=Math.max(He,Ct),wt=0,Tt+=pt,ee._height+=pt,pt=0),g.setTranslate(this,De[0]+Y+wt,De[1]+Y+Tt+Je/2+le),Ct=wt+Xe+le,wt+=Oe,pt=Math.max(pt,Je)}),dt?(ee._width=wt+ie,ee._height=pt+K):(ee._width=Math.max(He,Ct)+ie,ee._height+=pt+K)}}ee._width=Math.ceil(Math.max(ee._width+De[0],ee._titleWidth+2*(Y+a.titlePad))),ee._height=Math.ceil(Math.max(ee._height+De[1],ee._titleHeight+2*(Y+a.itemGap))),ee._effHeight=Math.min(ee._height,ee._maxHeight);var at=O._context.edits,ze=at.legendText||at.legendPosition;X.each(function(je){var Je=d.select(this).select("."+q+"toggle"),Xe=je[0].height,Oe=je[0].trace.legendgroup,ke=_(je,ee,j);Z&&Oe!==""&&(ke=Se[Oe]);var Ke=ze?j:Ae||ke;!J&&!te&&(Ke+=le/2),g.setRect(Je,0,-Xe/2,Ke,Xe)})}function B(O,V,X,ee){var ne=O._fullLayout,q=ne[V],se=k(q),J=F(q),Z=q.xref==="paper",te=q.yref==="paper";O._fullLayout._reservedMargin[V]={};var Y=q.y<.5?"b":"t",ie=q.x<.5?"l":"r",le={r:ne.width-X,l:X+q._width,b:ne.height-ee,t:ee+q._effHeight};if(Z&&te)return n.autoMargin(O,V,{x:q.x,y:q.y,l:q._width*l[se],r:q._width*m[se],b:q._effHeight*m[J],t:q._effHeight*l[J]});Z?O._fullLayout._reservedMargin[V][Y]=le[Y]:te||q.orientation==="v"?O._fullLayout._reservedMargin[V][ie]=le[ie]:O._fullLayout._reservedMargin[V][Y]=le[Y]}function k(O){return C.isRightAnchor(O)?"right":C.isCenterAnchor(O)?"center":"left"}function F(O){return C.isBottomAnchor(O)?"bottom":C.isMiddleAnchor(O)?"middle":"top"}function N(O){return O._id||"legend"}},35456:function(H,U,e){var d=e(24040),C=e(42451);H.exports=function(L,w,v){var g=w._inHover,r=C.isGrouped(w),t=C.isReversed(w),i={},a=[],u=!1,f={},l=0,m=0,h,T;function c(O,V,X){if(w.visible!==!1&&!(v&&O!==w._id))if(V===""||!C.isGrouped(w)){var ee="~~i"+l;a.push(ee),i[ee]=[X],l++}else a.indexOf(V)===-1?(a.push(V),u=!0,i[V]=[X]):i[V].push(X)}for(h=0;h<L.length;h++){var o=L[h],p=o[0],x=p.trace,A=x.legend,_=x.legendgroup;if(!(!g&&(!x.visible||!x.showlegend)))if(d.traceIs(x,"pie-like"))for(f[_]||(f[_]={}),T=0;T<o.length;T++){var y=o[T].label;f[_][y]||(c(A,_,{label:y,color:o[T].color,i:o[T].i,trace:x,pts:o[T].pts}),f[_][y]=!0,m=Math.max(m,(y||"").length))}else c(A,_,p),m=Math.max(m,(x.name||"").length)}if(!a.length)return[];var E=!u||!r,M=[];for(h=0;h<a.length;h++){var s=i[a[h]];E?M.push(s[0]):M.push(s)}for(E&&(M=[M]),h=0;h<M.length;h++){var S=1/0;for(T=0;T<M[h].length;T++){var b=M[h][T].trace.legendrank;S>b&&(S=b)}M[h][0]._groupMinRank=S,M[h][0]._preGroupSort=h}var I=function(O,V){return O[0]._groupMinRank-V[0]._groupMinRank||O[0]._preGroupSort-V[0]._preGroupSort},D=function(O,V){return O.trace.legendrank-V.trace.legendrank||O._preSort-V._preSort};for(M.forEach(function(O,V){O[0]._preGroupSort=V}),M.sort(I),h=0;h<M.length;h++){M[h].forEach(function(O,V){O._preSort=V}),M[h].sort(D);var B=M[h][0].trace,k=null;for(T=0;T<M[h].length;T++){var F=M[h][T].trace.legendgrouptitle;if(F&&F.text){k=F,g&&(F.font=w._groupTitleFont);break}}if(t&&M[h].reverse(),k){var N=!1;for(T=0;T<M[h].length;T++)if(d.traceIs(M[h][T].trace,"pie-like")){N=!0;break}M[h].unshift({i:-1,groupTitle:k,noClick:N,trace:{showlegend:B.showlegend,legendgroup:B.legendgroup,visible:w.groupclick==="toggleitem"?!0:B.visible}})}for(T=0;T<M[h].length;T++)M[h][T]=[M[h][T]]}return w._lgroupsLength=M.length,w._maxNameLength=m,M}},33048:function(H,U,e){var d=e(24040),C=e(3400),n=C.pushUnique,L=!0;H.exports=function(v,g,r){var t=g._fullLayout;if(g._dragged||g._editing)return;var i=t.legend.itemclick,a=t.legend.itemdoubleclick,u=t.legend.groupclick;r===1&&i==="toggle"&&a==="toggleothers"&&L&&g.data&&g._context.showTips&&C.notifier(C._(g,"Double-click on legend to isolate one trace"),"long"),L=!1;var f;if(r===1?f=i:r===2&&(f=a),!f)return;var l=u==="togglegroup",m=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var T=g._fullData,c=(t.shapes||[]).filter(function(Ve){return Ve.showlegend}),o=T.concat(c),p=h.trace;p._isShape&&(p=p._fullInput);var x=p.legendgroup,A,_,y,E,M,s,S={},b=[],I=[],D=[];function B(Ve,Ge){var Fe=b.indexOf(Ve),He=S.visible;return He||(He=S.visible=[]),b.indexOf(Ve)===-1&&(b.push(Ve),Fe=b.length-1),He[Fe]=Ge,Fe}var k=(t.shapes||[]).map(function(Ve){return Ve._input}),F=!1;function N(Ve,Ge){k[Ve].visible=Ge,F=!0}function O(Ve,Ge){if(!(h.groupTitle&&!l)){var Fe=Ve._fullInput||Ve,He=Fe._isShape,ft=Fe.index;if(ft===void 0&&(ft=Fe._index),d.hasTransform(Fe,"groupby")){var gt=I[ft];if(!gt){var ct=d.getTransformIndices(Fe,"groupby"),nt=ct[ct.length-1];gt=C.keyedContainer(Fe,"transforms["+nt+"].styles","target","value.visible"),I[ft]=gt}var dt=gt.get(Ve._group);dt===void 0&&(dt=!0),dt!==!1&&gt.set(Ve._group,Ge),D[ft]=B(ft,Fe.visible!==!1)}else{var pt=Fe.visible===!1?!1:Ge;He?N(ft,pt):B(ft,pt)}}}var V=p.legend,X=p._fullInput,ee=X&&X._isShape;if(!ee&&d.traceIs(p,"pie-like")){var ne=h.label,q=m.indexOf(ne);if(f==="toggle")q===-1?m.push(ne):m.splice(q,1);else if(f==="toggleothers"){var se=q!==-1,J=[];for(A=0;A<g.calcdata.length;A++){var Z=g.calcdata[A];for(_=0;_<Z.length;_++){var te=Z[_],Y=te.label;V===Z[0].trace.legend&&ne!==Y&&(m.indexOf(Y)===-1&&(se=!0),n(m,Y),J.push(Y))}}if(!se)for(var ie=0;ie<J.length;ie++){var le=m.indexOf(J[ie]);le!==-1&&m.splice(le,1)}}d.call("_guiRelayout",g,"hiddenlabels",m)}else{var j=x&&x.length,K=[],ue;if(j)for(A=0;A<o.length;A++)ue=o[A],ue.visible&&ue.legendgroup===x&&K.push(A);if(f==="toggle"){var ae;switch(p.visible){case!0:ae="legendonly";break;case!1:ae=!1;break;case"legendonly":ae=!0;break}if(j)if(l)for(A=0;A<o.length;A++){var he=o[A];he.visible!==!1&&he.legendgroup===x&&O(he,ae)}else O(p,ae);else O(p,ae)}else if(f==="toggleothers"){var xe,Se,Ae,De,we,Ce=!0;for(A=0;A<o.length;A++)if(we=o[A],xe=we===p,Ae=we.showlegend!==!0,!(xe||Ae)&&(Se=j&&we.legendgroup===x,!Se&&we.legend===V&&we.visible===!0&&!d.traceIs(we,"notLegendIsolatable"))){Ce=!1;break}for(A=0;A<o.length;A++)if(we=o[A],!(we.visible===!1||we.legend!==V)&&!d.traceIs(we,"notLegendIsolatable"))switch(p.visible){case"legendonly":O(we,!0);break;case!0:De=Ce?!0:"legendonly",xe=we===p,Ae=we.showlegend!==!0&&!we.legendgroup,Se=xe||j&&we.legendgroup===x,O(we,Se||Ae?!0:De);break}}for(A=0;A<I.length;A++)if(y=I[A],!!y){var be=y.constructUpdate(),Pe=Object.keys(be);for(_=0;_<Pe.length;_++)E=Pe[_],s=S[E]=S[E]||[],s[D[A]]=be[E]}for(M=Object.keys(S),A=0;A<M.length;A++)for(E=M[A],_=0;_<b.length;_++)S[E].hasOwnProperty(_)||(S[E][_]=void 0);F?d.call("_guiUpdate",g,S,{shapes:k},b):d.call("_guiRestyle",g,S,b)}}},42451:function(H,U){U.isGrouped=function(d){return(d.traceorder||"").indexOf("grouped")!==-1},U.isVertical=function(d){return d.orientation!=="h"},U.isReversed=function(d){return(d.traceorder||"").indexOf("reversed")!==-1}},2780:function(H,U,e){H.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(H,U,e){var d=e(33428),C=e(24040),n=e(3400),L=n.strTranslate,w=e(43616),v=e(76308),g=e(94288).extractOpts,r=e(43028),t=e(10528),i=e(69656).castOption,a=e(65196),u=12,f=5,l=2,m=10,h=5;H.exports=function(x,A,_){var y=A._fullLayout;_||(_=y.legend);var E=_.itemsizing==="constant",M=_.itemwidth,s=(M+a.itemGap*2)/2,S=L(s,0),b=function(J,Z,te,Y){var ie;if(J+1)ie=J;else if(Z&&Z.width>0)ie=Z.width;else return 0;return E?Y:Math.min(ie,te)};x.each(function(J){var Z=d.select(this),te=n.ensureSingle(Z,"g","layers");te.style("opacity",J[0].trace.opacity);var Y=_.indentation,ie=_.valign,le=J[0].lineHeight,j=J[0].height;if(ie==="middle"&&Y===0||!le||!j)te.attr("transform",null);else{var K={top:1,bottom:-1}[ie],ue=K*(.5*(le-j+3))||0,ae=_.indentation;te.attr("transform",L(ae,ue))}var he=te.selectAll("g.legendfill").data([J]);he.enter().append("g").classed("legendfill",!0);var xe=te.selectAll("g.legendlines").data([J]);xe.enter().append("g").classed("legendlines",!0);var Se=te.selectAll("g.legendsymbols").data([J]);Se.enter().append("g").classed("legendsymbols",!0),Se.selectAll("g.legendpoints").data([J]).enter().append("g").classed("legendpoints",!0)}).each(se).each(B).each(F).each(k).each(O).each(ne).each(ee).each(I).each(D).each(V).each(X);function I(J){var Z=c(J),te=Z.showFill,Y=Z.showLine,ie=Z.showGradientLine,le=Z.showGradientFill,j=Z.anyFill,K=Z.anyLine,ue=J[0],ae=ue.trace,he,xe,Se=g(ae),Ae=Se.colorscale,De=Se.reversescale,we=function(He){if(He.size())if(te)w.fillGroupStyle(He,A,!0);else{var ft="legendfill-"+ae.uid;w.gradient(He,A,ft,T(De),Ae,"fill")}},Ce=function(He){if(He.size()){var ft="legendline-"+ae.uid;w.lineGroupStyle(He),w.gradient(He,A,ft,T(De),Ae,"stroke")}},be=r.hasMarkers(ae)||!j?"M5,0":K?"M5,-2":"M5,-3",Pe=d.select(this),Ve=Pe.select(".legendfill").selectAll("path").data(te||le?[J]:[]);if(Ve.enter().append("path").classed("js-fill",!0),Ve.exit().remove(),Ve.attr("d",be+"h"+M+"v6h-"+M+"z").call(we),Y||ie){var Ge=b(void 0,ae.line,m,f);xe=n.minExtend(ae,{line:{width:Ge}}),he=[n.minExtend(ue,{trace:xe})]}var Fe=Pe.select(".legendlines").selectAll("path").data(Y||ie?[he]:[]);Fe.enter().append("path").classed("js-line",!0),Fe.exit().remove(),Fe.attr("d",be+(ie?"l"+M+",0.0001":"h"+M)).call(Y?w.lineGroupStyle:Ce)}function D(J){var Z=c(J),te=Z.anyFill,Y=Z.anyLine,ie=Z.showLine,le=Z.showMarker,j=J[0],K=j.trace,ue=!le&&!Y&&!te&&r.hasText(K),ae,he;function xe(Ve,Ge,Fe,He){var ft=n.nestedProperty(K,Ve).get(),gt=n.isArrayOrTypedArray(ft)&&Ge?Ge(ft):ft;if(E&&gt&&He!==void 0&&(gt=He),Fe){if(gt<Fe[0])return Fe[0];if(gt>Fe[1])return Fe[1]}return gt}function Se(Ve){return j._distinct&&j.index&&Ve[j.index]?Ve[j.index]:Ve[0]}if(le||ue||ie){var Ae={},De={};if(le){Ae.mc=xe("marker.color",Se),Ae.mx=xe("marker.symbol",Se),Ae.mo=xe("marker.opacity",n.mean,[.2,1]),Ae.mlc=xe("marker.line.color",Se),Ae.mlw=xe("marker.line.width",n.mean,[0,5],l),De.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var we=xe("marker.size",n.mean,[2,16],u);Ae.ms=we,De.marker.size=we}ie&&(De.line={width:xe("line.width",Se,[0,10],f)}),ue&&(Ae.tx="Aa",Ae.tp=xe("textposition",Se),Ae.ts=10,Ae.tc=xe("textfont.color",Se),Ae.tf=xe("textfont.family",Se),Ae.tw=xe("textfont.weight",Se),Ae.ty=xe("textfont.style",Se),Ae.tv=xe("textfont.variant",Se)),ae=[n.minExtend(j,Ae)],he=n.minExtend(K,De),he.selectedpoints=null,he.texttemplate=null}var Ce=d.select(this).select("g.legendpoints"),be=Ce.selectAll("path.scatterpts").data(le?ae:[]);be.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",S),be.exit().remove(),be.call(w.pointStyle,he,A),le&&(ae[0].mrc=3);var Pe=Ce.selectAll("g.pointtext").data(ue?ae:[]);Pe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",S),Pe.exit().remove(),Pe.selectAll("text").call(w.textPointStyle,he,A)}function B(J){var Z=J[0].trace,te=Z.type==="waterfall";if(J[0]._distinct&&te){var Y=J[0].trace[J[0].dir].marker;return J[0].mc=Y.color,J[0].mlw=Y.line.width,J[0].mlc=Y.line.color,N(J,this,"waterfall")}var ie=[];Z.visible&&te&&(ie=J[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var le=d.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(ie);le.enter().append("path").classed("legendwaterfall",!0).attr("transform",S).style("stroke-miterlimit",1),le.exit().remove(),le.each(function(j){var K=d.select(this),ue=Z[j[0]].marker,ae=b(void 0,ue.line,h,l);K.attr("d",j[1]).style("stroke-width",ae+"px").call(v.fill,ue.color),ae&&K.call(v.stroke,ue.line.color)})}function k(J){N(J,this)}function F(J){N(J,this,"funnel")}function N(J,Z,te){var Y=J[0].trace,ie=Y.marker||{},le=ie.line||{},j=ie.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",K=te?Y.visible&&Y.type===te:C.traceIs(Y,"bar"),ue=d.select(Z).select("g.legendpoints").selectAll("path.legend"+te).data(K?[J]:[]);ue.enter().append("path").classed("legend"+te,!0).attr("d",j).attr("transform",S),ue.exit().remove(),ue.each(function(ae){var he=d.select(this),xe=ae[0],Se=b(xe.mlw,ie.line,h,l);he.style("stroke-width",Se+"px");var Ae=xe.mcc;if(!_._inHover&&"mc"in xe){var De=g(ie),we=De.mid;we===void 0&&(we=(De.max+De.min)/2),Ae=w.tryColorscale(ie,"")(we)}var Ce=Ae||xe.mc||ie.color,be=ie.pattern,Pe=be&&w.getPatternAttr(be.shape,0,"");if(Pe){var Ve=w.getPatternAttr(be.bgcolor,0,null),Ge=w.getPatternAttr(be.fgcolor,0,null),Fe=be.fgopacity,He=o(be.size,8,10),ft=o(be.solidity,.5,1),gt="legend-"+Y.uid;he.call(w.pattern,"legend",A,gt,Pe,He,ft,Ae,be.fillmode,Ve,Ge,Fe)}else he.call(v.fill,Ce);Se&&v.stroke(he,xe.mlc||le.color)})}function O(J){var Z=J[0].trace,te=d.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Z.visible&&C.traceIs(Z,"box-violin")?[J]:[]);te.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),te.exit().remove(),te.each(function(){var Y=d.select(this);if((Z.boxpoints==="all"||Z.points==="all")&&v.opacity(Z.fillcolor)===0&&v.opacity((Z.line||{}).color)===0){var ie=n.minExtend(Z,{marker:{size:E?u:n.constrain(Z.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});te.call(w.pointStyle,ie,A)}else{var le=b(void 0,Z.line,h,l);Y.style("stroke-width",le+"px").call(v.fill,Z.fillcolor),le&&v.stroke(Y,Z.line.color)}})}function V(J){var Z=J[0].trace,te=d.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Z.visible&&Z.type==="candlestick"?[J,J]:[]);te.enter().append("path").classed("legendcandle",!0).attr("d",function(Y,ie){return ie?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",S).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(Y,ie){var le=d.select(this),j=Z[ie?"increasing":"decreasing"],K=b(void 0,j.line,h,l);le.style("stroke-width",K+"px").call(v.fill,j.fillcolor),K&&v.stroke(le,j.line.color)})}function X(J){var Z=J[0].trace,te=d.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Z.visible&&Z.type==="ohlc"?[J,J]:[]);te.enter().append("path").classed("legendohlc",!0).attr("d",function(Y,ie){return ie?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",S).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(Y,ie){var le=d.select(this),j=Z[ie?"increasing":"decreasing"],K=b(void 0,j.line,h,l);le.style("fill","none").call(w.dashLine,j.line.dash,K),K&&v.stroke(le,j.line.color)})}function ee(J){q(J,this,"pie")}function ne(J){q(J,this,"funnelarea")}function q(J,Z,te){var Y=J[0],ie=Y.trace,le=te?ie.visible&&ie.type===te:C.traceIs(ie,te),j=d.select(Z).select("g.legendpoints").selectAll("path.legend"+te).data(le?[J]:[]);if(j.enter().append("path").classed("legend"+te,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),j.exit().remove(),j.size()){var K=ie.marker||{},ue=b(i(K.line.width,Y.pts),K.line,h,l),ae="pieLike",he=n.minExtend(ie,{marker:{line:{width:ue}}},ae),xe=n.minExtend(Y,{trace:he},ae);t(j,xe,he,A)}}function se(J){var Z=J[0].trace,te,Y=[];if(Z.visible)switch(Z.type){case"histogram2d":case"heatmap":Y=[["M-15,-2V4H15V-2Z"]],te=!0;break;case"choropleth":case"choroplethmapbox":Y=[["M-6,-6V6H6V-6Z"]],te=!0;break;case"densitymapbox":Y=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],te="radial";break;case"cone":Y=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],te=!1;break;case"streamtube":Y=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],te=!1;break;case"surface":Y=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],te=!0;break;case"mesh3d":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],te=!1;break;case"volume":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],te=!0;break;case"isosurface":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],te=!1;break}var ie=d.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Y);ie.enter().append("path").classed("legend3dandfriends",!0).attr("transform",S).style("stroke-miterlimit",1),ie.exit().remove(),ie.each(function(le,j){var K=d.select(this),ue=g(Z),ae=ue.colorscale,he=ue.reversescale,xe=function(we){if(we.size()){var Ce="legendfill-"+Z.uid;w.gradient(we,A,Ce,T(he,te==="radial"),ae,"fill")}},Se;if(ae){if(!te){var De=ae.length;Se=j===0?ae[he?De-1:0][1]:j===1?ae[he?0:De-1][1]:ae[Math.floor((De-1)/2)][1]}}else{var Ae=Z.vertexcolor||Z.facecolor||Z.color;Se=n.isArrayOrTypedArray(Ae)?Ae[j]||Ae[0]:Ae}K.attr("d",le[0]),Se?K.call(v.fill,Se):K.call(xe)})}};function T(p,x){var A=x?"radial":"horizontal";return A+(p?"":"reversed")}function c(p){var x=p[0].trace,A=x.contours,_=r.hasLines(x),y=r.hasMarkers(x),E=x.visible&&x.fill&&x.fill!=="none",M=!1,s=!1;if(A){var S=A.coloring;S==="lines"?M=!0:_=S==="none"||S==="heatmap"||A.showlines,A.type==="constraint"?E=A._operation!=="=":(S==="fill"||S==="heatmap")&&(s=!0)}return{showMarker:y,showLine:_,showFill:E,showGradientLine:M,showGradientFill:s,anyLine:_||M,anyFill:E||s}}function o(p,x,A){return p&&n.isArrayOrTypedArray(p)?x:p>A?A:p}},66540:function(H,U,e){e(76052),H.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(H,U,e){var d=e(24040),C=e(7316),n=e(79811),L=e(9224),w=e(4016).eraseActiveShape,v=e(3400),g=v._,r=H.exports={};r.toImage={name:"toImage",title:function(p){var x=p._context.toImageButtonOptions||{},A=x.format||"png";return A==="png"?g(p,"Download plot as a png"):g(p,"Download plot")},icon:L.camera,click:function(p){var x=p._context.toImageButtonOptions,A={format:x.format||"png"};v.notifier(g(p,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&v.isIE()&&(v.notifier(g(p,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(_){_ in x&&(A[_]=x[_])}),d.call("downloadImage",p,A).then(function(_){v.notifier(g(p,"Snapshot succeeded")+" - "+_,"long")}).catch(function(){v.notifier(g(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(p){return g(p,"Edit in Chart Studio")},icon:L.disk,click:function(p){C.sendDataToCloud(p)}},r.editInChartStudio={name:"editInChartStudio",title:function(p){return g(p,"Edit in Chart Studio")},icon:L.pencil,click:function(p){C.sendDataToCloud(p)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return g(p,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(p){return g(p,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(p){return g(p,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return g(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(p){return g(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(p){return g(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:t},r.drawline={name:"drawline",title:function(p){return g(p,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:t},r.drawrect={name:"drawrect",title:function(p){return g(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(p){return g(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(p){return g(p,"Erase active shape")},icon:L.eraseshape,click:w},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return g(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return g(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return g(p,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return g(p,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return g(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return g(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:t};function t(p,x){var A=x.currentTarget,_=A.getAttribute("data-attr"),y=A.getAttribute("data-val")||!0,E=p._fullLayout,M={},s=n.list(p,null,!0),S=E._cartesianSpikesEnabled,b,I;if(_==="zoom"){var D=y==="in"?.5:2,B=(1+D)/2,k=(1-D)/2,F;for(I=0;I<s.length;I++)if(b=s[I],!b.fixedrange)if(F=b._name,y==="auto")M[F+".autorange"]=!0;else if(y==="reset")b._rangeInitial0===void 0&&b._rangeInitial1===void 0?M[F+".autorange"]=!0:b._rangeInitial0===void 0?(M[F+".autorange"]=b._autorangeInitial,M[F+".range"]=[null,b._rangeInitial1]):b._rangeInitial1===void 0?(M[F+".range"]=[b._rangeInitial0,null],M[F+".autorange"]=b._autorangeInitial):M[F+".range"]=[b._rangeInitial0,b._rangeInitial1],b._showSpikeInitial!==void 0&&(M[F+".showspikes"]=b._showSpikeInitial,S==="on"&&!b._showSpikeInitial&&(S="off"));else{var N=[b.r2l(b.range[0]),b.r2l(b.range[1])],O=[B*N[0]+k*N[1],B*N[1]+k*N[0]];M[F+".range[0]"]=b.l2r(O[0]),M[F+".range[1]"]=b.l2r(O[1])}}else _==="hovermode"&&(y==="x"||y==="y")&&(y=E._isHoriz?"y":"x",A.setAttribute("data-val",y)),M[_]=y;E._cartesianSpikesEnabled=S,d.call("_guiRelayout",p,M)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return g(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:i},r.pan3d={name:"pan3d",_cat:"pan",title:function(p){return g(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:i},r.orbitRotation={name:"orbitRotation",title:function(p){return g(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:i},r.tableRotation={name:"tableRotation",title:function(p){return g(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:i};function i(p,x){for(var A=x.currentTarget,_=A.getAttribute("data-attr"),y=A.getAttribute("data-val")||!0,E=p._fullLayout._subplots.gl3d||[],M={},s=_.split("."),S=0;S<E.length;S++)M[E[S]+"."+s[1]]=y;var b=y==="pan"?y:"zoom";M.dragmode=b,d.call("_guiRelayout",p,M)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return g(p,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:a},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return g(p,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:a};function a(p,x){for(var A=x.currentTarget,_=A.getAttribute("data-attr"),y=_==="resetLastSave",E=_==="resetDefault",M=p._fullLayout,s=M._subplots.gl3d||[],S={},b=0;b<s.length;b++){var I=s[b],D=I+".camera",B=I+".aspectratio",k=I+".aspectmode",F=M[I]._scene,N;y?(S[D+".up"]=F.viewInitial.up,S[D+".eye"]=F.viewInitial.eye,S[D+".center"]=F.viewInitial.center,N=!0):E&&(S[D+".up"]=null,S[D+".eye"]=null,S[D+".center"]=null,N=!0),N&&(S[B+".x"]=F.viewInitial.aspectratio.x,S[B+".y"]=F.viewInitial.aspectratio.y,S[B+".z"]=F.viewInitial.aspectratio.z,S[k]=F.viewInitial.aspectmode)}d.call("_guiRelayout",p,S)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return g(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:f};function u(p,x){var A=x.currentTarget,_=A._previousVal,y=p._fullLayout,E=y._subplots.gl3d||[],M=["xaxis","yaxis","zaxis"],s={},S={};if(_)S=_,A._previousVal=null;else{for(var b=0;b<E.length;b++){var I=E[b],D=y[I],B=I+".hovermode";s[B]=D.hovermode,S[B]=!1;for(var k=0;k<3;k++){var F=M[k],N=I+"."+F+".showspikes";S[N]=!1,s[N]=D[F].showspikes}}A._previousVal=s}return S}function f(p,x){var A=u(p,x);d.call("_guiRelayout",p,A)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return g(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return g(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return g(p,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return g(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h};function l(p,x){for(var A=x.currentTarget,_=A.getAttribute("data-attr"),y=A.getAttribute("data-val")||!0,E=p._fullLayout,M=E._subplots.geo||[],s=0;s<M.length;s++){var S=M[s],b=E[S];if(_==="zoom"){var I=b.projection.scale,D=y==="in"?2*I:.5*I;d.call("_guiRelayout",p,S+".projection.scale",D)}}_==="reset"&&o(p,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return g(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return g(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:h};function m(p){var x=p._fullLayout;return x.hovermode?!1:x._has("cartesian")?x._isHoriz?"y":"x":"closest"}function h(p){var x=m(p);d.call("_guiRelayout",p,"hovermode",x)}r.resetViewSankey={name:"resetSankeyGroup",title:function(p){return g(p,"Reset view")},icon:L.home,click:function(p){for(var x={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<p._fullData.length;A++){var _=p._fullData[A]._viewInitial;x["node.groups"].push(_.node.groups.slice()),x["node.x"].push(_.node.x.slice()),x["node.y"].push(_.node.y.slice())}d.call("restyle",p,x)}},r.toggleHover={name:"toggleHover",title:function(p){return g(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(p,x){var A=u(p,x);A.hovermode=m(p),d.call("_guiRelayout",p,A)}},r.resetViews={name:"resetViews",title:function(p){return g(p,"Reset views")},icon:L.home,click:function(p,x){var A=x.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),t(p,x),A.setAttribute("data-attr","resetLastSave"),a(p,x),o(p,"geo"),o(p,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(p){return g(p,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var x=p._fullLayout,A=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=A==="on"?"off":"on",d.call("_guiRelayout",p,T(p))}};function T(p){for(var x=p._fullLayout,A=x._cartesianSpikesEnabled==="on",_=n.list(p,null,!0),y={},E=0;E<_.length;E++){var M=_[E];y[M._name+".showspikes"]=A?!0:M._showSpikeInitial}return y}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return g(p,"Reset view")},attr:"reset",icon:L.home,click:function(p){o(p,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return g(p,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return g(p,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:c};function c(p,x){for(var A=x.currentTarget,_=A.getAttribute("data-val"),y=p._fullLayout,E=y._subplots.mapbox||[],M=1.05,s={},S=0;S<E.length;S++){var b=E[S],I=y[b].zoom,D=_==="in"?M*I:I/M;s[b+".zoom"]=D}d.call("_guiRelayout",p,s)}function o(p,x){for(var A=p._fullLayout,_=A._subplots[x]||[],y={},E=0;E<_.length;E++)for(var M=_[E],s=A[M]._subplot,S=s.viewInitial,b=Object.keys(S),I=0;I<b.length;I++){var D=b[I];y[M+"."+D]=S[D]}d.call("_guiRelayout",p,y)}},76052:function(H,U,e){var d=e(44248),C=Object.keys(d),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),w=[],v=function(g){if(L.indexOf(g._cat||g.name)===-1){var r=g.name,t=(g._cat||g.name).toLowerCase();w.indexOf(r)===-1&&w.push(r),w.indexOf(t)===-1&&w.push(t)}};C.forEach(function(g){v(d[g])}),w.sort(),H.exports={DRAW_MODES:n,backButtons:L,foreButtons:w}},90824:function(H,U,e){var d=e(3400),C=e(76308),n=e(31780),L=e(66540);H.exports=function(v,g){var r=v.modebar||{},t=n.newContainer(g,"modebar");function i(u,f){return d.coerce(r,t,L,u,f)}i("orientation"),i("bgcolor",C.addOpacity(g.paper_bgcolor,.5));var a=C.contrast(C.rgb(g.modebar.bgcolor));i("color",C.addOpacity(a,.3)),i("activecolor",C.addOpacity(a,.7)),i("uirevision",g.uirevision),i("add"),i("remove")}},45460:function(H,U,e){H.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(H,U,e){var d=e(79811),C=e(43028),n=e(24040),L=e(10624).isUnifiedHover,w=e(66400),v=e(44248),g=e(76052).DRAW_MODES,r=e(3400).extendDeep;H.exports=function(h){var T=h._fullLayout,c=h._context,o=T._modeBar;if(!c.displayModeBar&&!c.watermark){o&&(o.destroy(),delete T._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var p=c.modeBarButtons,x;Array.isArray(p)&&p.length?x=l(p):!c.displayModeBar&&c.watermark?x=[]:x=t(h),o?o.update(h,x):T._modeBar=w(h,x)};function t(m){var h=m._fullLayout,T=m._fullData,c=m._context;function o(j,K){if(typeof K=="string"){if(K.toLowerCase()===j.toLowerCase())return!0}else{var ue=K.name,ae=K._cat||K.name;if(ue===j||ae===j.toLowerCase())return!0}return!1}var p=h.modebar.add;typeof p=="string"&&(p=[p]);var x=h.modebar.remove;typeof x=="string"&&(x=[x]);var A=c.modeBarButtonsToAdd.concat(p.filter(function(j){for(var K=0;K<c.modeBarButtonsToRemove.length;K++)if(o(j,c.modeBarButtonsToRemove[K]))return!1;return!0})),_=c.modeBarButtonsToRemove.concat(x.filter(function(j){for(var K=0;K<c.modeBarButtonsToAdd.length;K++)if(o(j,c.modeBarButtonsToAdd[K]))return!1;return!0})),y=h._has("cartesian"),E=h._has("gl3d"),M=h._has("geo"),s=h._has("pie"),S=h._has("funnelarea"),b=h._has("gl2d"),I=h._has("ternary"),D=h._has("mapbox"),B=h._has("polar"),k=h._has("smith"),F=h._has("sankey"),N=i(h),O=L(h.hovermode),V=[];function X(j){if(j.length){for(var K=[],ue=0;ue<j.length;ue++){for(var ae=j[ue],he=v[ae],xe=he.name.toLowerCase(),Se=(he._cat||he.name).toLowerCase(),Ae=!1,De=0;De<_.length;De++){var we=_[De].toLowerCase();if(we===xe||we===Se){Ae=!0;break}}Ae||K.push(v[ae])}V.push(K)}}var ee=["toImage"];c.showEditInChartStudio?ee.push("editInChartStudio"):c.showSendToCloud&&ee.push("sendDataToCloud"),X(ee);var ne=[],q=[],se=[],J=[];(y||b||s||S||I)+M+E+D+B+k>1?(q=["toggleHover"],se=["resetViews"]):M?(ne=["zoomInGeo","zoomOutGeo"],q=["hoverClosestGeo"],se=["resetGeo"]):E?(q=["hoverClosest3d"],se=["resetCameraDefault3d","resetCameraLastSave3d"]):D?(ne=["zoomInMapbox","zoomOutMapbox"],q=["toggleHover"],se=["resetViewMapbox"]):b?q=["hoverClosestGl2d"]:s?q=["hoverClosestPie"]:F?(q=["hoverClosestCartesian","hoverCompareCartesian"],se=["resetViewSankey"]):q=["toggleHover"],y&&(q=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(u(T)||O)&&(q=[]),(y||b)&&!N&&(ne=["zoomIn2d","zoomOut2d","autoScale2d"],se[0]!=="resetViews"&&(se=["resetScale2d"])),E?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(y||b)&&!N||I?J=["zoom2d","pan2d"]:D||M?J=["pan2d"]:B&&(J=["zoom2d"]),a(T)&&J.push("select2d","lasso2d");var Z=[],te=function(j){Z.indexOf(j)===-1&&q.indexOf(j)!==-1&&Z.push(j)};if(Array.isArray(A)){for(var Y=[],ie=0;ie<A.length;ie++){var le=A[ie];typeof le=="string"?(le=le.toLowerCase(),g.indexOf(le)!==-1?(h._has("mapbox")||h._has("cartesian"))&&J.push(le):le==="togglespikelines"?te("toggleSpikelines"):le==="togglehover"?te("toggleHover"):le==="hovercompare"?te("hoverCompareCartesian"):le==="hoverclosest"?(te("hoverClosestCartesian"),te("hoverClosestGeo"),te("hoverClosest3d"),te("hoverClosestGl2d"),te("hoverClosestPie")):le==="v1hovermode"&&(te("toggleHover"),te("hoverClosestCartesian"),te("hoverCompareCartesian"),te("hoverClosestGeo"),te("hoverClosest3d"),te("hoverClosestGl2d"),te("hoverClosestPie"))):Y.push(le)}A=Y}return X(J),X(ne.concat(se)),X(Z),f(V,A)}function i(m){for(var h=d.list({_fullLayout:m},null,!0),T=0;T<h.length;T++)if(!h[T].fixedrange)return!1;return!0}function a(m){for(var h=!1,T=0;T<m.length&&!h;T++){var c=m[T];!c._module||!c._module.selectPoints||(n.traceIs(c,"scatter-like")?(C.hasMarkers(c)||C.hasText(c))&&(h=!0):n.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function u(m){for(var h=0;h<m.length;h++)if(!n.traceIs(m[h],"noHover"))return!1;return!0}function f(m,h){if(h.length)if(Array.isArray(h[0]))for(var T=0;T<h.length;T++)m.push(h[T]);else m.push(h);return m}function l(m){for(var h=r([],m),T=0;T<h.length;T++)for(var c=h[T],o=0;o<c.length;o++){var p=c[o];if(typeof p=="string")if(v[p]!==void 0)h[T][o]=v[p];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(H,U,e){var d=e(33428),C=e(38248),n=e(3400),L=e(9224),w=e(25788).version,v=new DOMParser;function g(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}var r=g.prototype;r.update=function(a,u){this.graphInfo=a;var f=this.graphInfo._context,l=this.graphInfo._fullLayout,m="modebar-"+l._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",f.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",u=u.reverse());var h=l.modebar,T=f.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";n.deleteRelatedStyleRule(m),n.addRelatedStyleRule(m,T+"#"+m+" .modebar-group","background-color: "+h.bgcolor),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+h.color),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+h.activecolor),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(u),o=this.hasLogo!==f.displaylogo,p=this.locale!==f.locale;if(this.locale=f.locale,(c||o||p)&&(this.removeAllButtons(),this.updateButtons(u),f.watermark||f.displaylogo)){var x=this.getLogo();f.watermark&&(x.className=x.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(a){var u=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var l=u.createGroup();f.forEach(function(m){var h=m.name;if(!h)throw new Error("must provide button 'name' in button config");if(u.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");u.buttonsNames.push(h);var T=u.createButton(m);u.buttonElements.push(T),l.appendChild(T)}),u.element.appendChild(l)})},r.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},r.createButton=function(a){var u=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var l=a.title;l===void 0?l=a.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&f.setAttribute("data-title",l),a.attr!==void 0&&f.setAttribute("data-attr",a.attr);var m=a.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),f.setAttribute("data-val",m));var h=a.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(c){a.click(u.graphInfo,c),u.updateActiveButton(c.currentTarget)}),f.setAttribute("data-toggle",a.toggle||!1),a.toggle&&d.select(f).classed("active",!0);var T=a.icon;return typeof T=="function"?f.appendChild(T()):f.appendChild(this.createIcon(T||L.question)),f.setAttribute("data-gravity",a.gravity||"n"),f},r.createIcon=function(a){var u=C(a.height)?Number(a.height):a.ascent-a.descent,f="http://www.w3.org/2000/svg",l;if(a.path){l=document.createElementNS(f,"svg"),l.setAttribute("viewBox",[0,0,a.width,u].join(" ")),l.setAttribute("class","icon");var m=document.createElementNS(f,"path");m.setAttribute("d",a.path),a.transform?m.setAttribute("transform",a.transform):a.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),l.appendChild(m)}if(a.svg){var h=v.parseFromString(a.svg,"application/xml");l=h.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(a){var u=this.graphInfo._fullLayout,f=a!==void 0?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var m=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),T=l.getAttribute("data-toggle")==="true",c=d.select(l);if(T)h===f&&c.classed("active",!c.classed("active"));else{var o=h===null?h:n.nestedProperty(u,h).get();c.classed("active",o===m)}})},r.hasButtons=function(a){var u=this.buttons;if(!u||a.length!==u.length)return!1;for(var f=0;f<a.length;++f){if(a[f].length!==u[f].length)return!1;for(var l=0;l<a[f].length;l++)if(a[f][l].name!==u[f][l].name)return!1}return!0};function t(a){return a+" (v"+w+")"}r.getLogo=function(){var a=this.createGroup(),u=document.createElement("a");return u.href="https://plotly.com/",u.target="_blank",u.setAttribute("data-title",t(n._(this.graphInfo,"Produced with Plotly.js"))),u.className="modebar-btn plotlyjsicon modebar-btn--logo",u.appendChild(this.createIcon(L.newplotlylogo)),a.appendChild(u),a},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){n.removeElement(this.container.querySelector(".modebar")),n.deleteRelatedStyleRule(this._uid)};function i(a,u){var f=a._fullLayout,l=new g({graphInfo:a,container:f._modebardiv.node(),buttons:u});return f._privateplot&&d.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}H.exports=i},26680:function(H,U,e){var d=e(25376),C=e(22548),n=e(31780).templatedArray,L=n("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});H.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:d({editType:"plot"}),bgcolor:{valType:"color",dflt:C.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:C.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(H){H.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(H,U,e){var d=e(3400),C=e(76308),n=e(31780),L=e(51272),w=e(26680),v=e(85984);H.exports=function(i,a,u,f,l){var m=i.rangeselector||{},h=n.newContainer(a,"rangeselector");function T(A,_){return d.coerce(m,h,w,A,_)}var c=L(m,h,{name:"buttons",handleItemDefaults:g,calendar:l}),o=T("visible",c.length>0);if(o){var p=r(a,u,f);T("x",p[0]),T("y",p[1]),d.noneOrAll(i,a,["x","y"]),T("xanchor"),T("yanchor"),d.coerceFont(T,"font",u.font);var x=T("bgcolor");T("activecolor",C.contrast(x,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function g(t,i,a,u){var f=u.calendar;function l(T,c){return d.coerce(t,i,w.buttons,T,c)}var m=l("visible");if(m){var h=l("step");h!=="all"&&(f&&f!=="gregorian"&&(h==="month"||h==="year")?i.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,i,a){for(var u=a.filter(function(h){return i[h].anchor===t._id}),f=0,l=0;l<u.length;l++){var m=i[u[l]].domain;m&&(f=Math.max(m[1],f))}return[t.domain[0],f+v.yPad]}},50216:function(H,U,e){var d=e(33428),C=e(24040),n=e(7316),L=e(76308),w=e(43616),v=e(3400),g=v.strTranslate,r=e(72736),t=e(79811),i=e(84284),a=i.LINE_SPACING,u=i.FROM_TL,f=i.FROM_BR,l=e(85984),m=e(48040);H.exports=function(E){var M=E._fullLayout,s=M._infolayer.selectAll(".rangeselector").data(h(E),T);s.enter().append("g").classed("rangeselector",!0),s.exit().remove(),s.style({cursor:"pointer","pointer-events":"all"}),s.each(function(S){var b=d.select(this),I=S,D=I.rangeselector,B=b.selectAll("g.button").data(v.filterVisible(D.buttons));B.enter().append("g").classed("button",!0),B.exit().remove(),B.each(function(k){var F=d.select(this),N=m(I,k);k._isActive=c(I,k,N),F.call(o,D,k),F.call(x,D,k,E),F.on("click",function(){E._dragged||C.call("_guiRelayout",E,N)}),F.on("mouseover",function(){k._isHovered=!0,F.call(o,D,k)}),F.on("mouseout",function(){k._isHovered=!1,F.call(o,D,k)})}),_(E,B,D,I._name,b)})};function h(y){for(var E=t.list(y,"x",!0),M=[],s=0;s<E.length;s++){var S=E[s];S.rangeselector&&S.rangeselector.visible&&M.push(S)}return M}function T(y){return y._id}function c(y,E,M){if(E.step==="all")return y.autorange===!0;var s=Object.keys(M);return y.range[0]===M[s[0]]&&y.range[1]===M[s[1]]}function o(y,E,M){var s=v.ensureSingle(y,"rect","selector-rect",function(S){S.attr("shape-rendering","crispEdges")});s.attr({rx:l.rx,ry:l.ry}),s.call(L.stroke,E.bordercolor).call(L.fill,p(E,M)).style("stroke-width",E.borderwidth+"px")}function p(y,E){return E._isActive||E._isHovered?y.activecolor:y.bgcolor}function x(y,E,M,s){function S(I){r.convertToTspans(I,s)}var b=v.ensureSingle(y,"text","selector-text",function(I){I.attr("text-anchor","middle")});b.call(w.font,E.font).text(A(M,s._fullLayout._meta)).call(S)}function A(y,E){return y.label?E?v.templateString(y.label,E):y.label:y.step==="all"?"all":y.count+y.step.charAt(0)}function _(y,E,M,s,S){var b=0,I=0,D=M.borderwidth;E.each(function(){var V=d.select(this),X=V.select(".selector-text"),ee=M.font.size*a,ne=Math.max(ee*r.lineCount(X),16)+3;I=Math.max(I,ne)}),E.each(function(){var V=d.select(this),X=V.select(".selector-rect"),ee=V.select(".selector-text"),ne=ee.node()&&w.bBox(ee.node()).width,q=M.font.size*a,se=r.lineCount(ee),J=Math.max(ne+10,l.minButtonWidth);V.attr("transform",g(D+b,D)),X.attr({x:0,y:0,width:J,height:I}),r.positionText(ee,J/2,I/2-(se-1)*q/2+3),b+=J+5});var B=y._fullLayout._size,k=B.l+B.w*M.x,F=B.t+B.h*(1-M.y),N="left";v.isRightAnchor(M)&&(k-=b,N="right"),v.isCenterAnchor(M)&&(k-=b/2,N="center");var O="top";v.isBottomAnchor(M)&&(F-=I,O="bottom"),v.isMiddleAnchor(M)&&(F-=I/2,O="middle"),b=Math.ceil(b),I=Math.ceil(I),k=Math.round(k),F=Math.round(F),n.autoMargin(y,s+"-range-selector",{x:M.x,y:M.y,l:b*u[N],r:b*f[N],b:I*f[O],t:I*u[O]}),S.attr("transform",g(k,F))}},48040:function(H,U,e){var d=e(73220),C=e(3400).titleCase;H.exports=function(w,v){var g=w._name,r={};if(v.step==="all")r[g+".autorange"]=!0;else{var t=n(w,v);r[g+".range[0]"]=t[0],r[g+".range[1]"]=t[1]}return r};function n(L,w){var v=L.range,g=new Date(L.r2l(v[1])),r=w.step,t=d["utc"+C(r)],i=w.count,a;switch(w.stepmode){case"backward":a=L.l2r(+t.offset(g,-i));break;case"todate":var u=t.offset(g,-i);a=L.l2r(+t.ceil(u));break}var f=v[1];return[a,f]}},41152:function(H,U,e){H.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(H,U,e){var d=e(22548);H.exports={bgcolor:{valType:"color",dflt:d.background,editType:"plot"},bordercolor:{valType:"color",dflt:d.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(H,U,e){var d=e(79811).list,C=e(19280).getAutoRange,n=e(74636);H.exports=function(w){for(var v=d(w,"x",!0),g=0;g<v.length;g++){var r=v[g],t=r[n.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=C(w,r))}}},74636:function(H){H.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(H,U,e){var d=e(3400),C=e(31780),n=e(79811),L=e(11200),w=e(10936);H.exports=function(g,r,t){var i=g[t],a=r[t];if(!(i.rangeslider||r._requestRangeslider[a._id]))return;d.isPlainObject(i.rangeslider)||(i.rangeslider={});var u=i.rangeslider,f=C.newContainer(a,"rangeslider");function l(s,S){return d.coerce(u,f,L,s,S)}var m,h;function T(s,S){return d.coerce(m,h,w,s,S)}var c=l("visible");if(c){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!a.isValidRange(u.range)),l("range");var o=r._subplots;if(o)for(var p=o.cartesian.filter(function(s){return s.substr(0,s.indexOf("y"))===n.name2id(t)}).map(function(s){return s.substr(s.indexOf("y"),s.length)}),x=d.simpleMap(p,n.id2name),A=0;A<x.length;A++){var _=x[A];m=u[_]||{},h=C.newContainer(f,_,"yaxis");var y=r[_],E;m.range&&y.isValidRange(m.range)&&(E="fixed");var M=T("rangemode",E);M!=="match"&&T("range",y.range.slice())}f._input=u}}},20060:function(H,U,e){var d=e(33428),C=e(24040),n=e(7316),L=e(3400),w=L.strTranslate,v=e(43616),g=e(76308),r=e(81668),t=e(57952),i=e(79811),a=e(86476),u=e(93972),f=e(74636);H.exports=function(E){for(var M=E._fullLayout,s=M._rangeSliderData,S=0;S<s.length;S++){var b=s[S][f.name];b._clipId=b._id+"-"+M._uid}function I(B){return B._name}var D=M._infolayer.selectAll("g."+f.containerClassName).data(s,I);D.exit().each(function(B){var k=B[f.name];M._topdefs.select("#"+k._clipId).remove()}).remove(),s.length!==0&&(D.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),D.each(function(B){var k=d.select(this),F=B[f.name],N=M[i.id2name(B.anchor)],O=F[i.id2name(B.anchor)];if(F.range){var V=L.simpleMap(F.range,B.r2l),X=L.simpleMap(B.range,B.r2l),ee;X[0]<X[1]?ee=[Math.min(V[0],X[0]),Math.max(V[1],X[1])]:ee=[Math.max(V[0],X[0]),Math.min(V[1],X[1])],F.range=F._input.range=L.simpleMap(ee,B.l2r)}B.cleanRange("rangeslider.range");var ne=M._size,q=B.domain;F._width=ne.w*(q[1]-q[0]);var se=Math.round(ne.l+ne.w*q[0]),J=Math.round(ne.t+ne.h*(1-B._counterDomainMin)+(B.side==="bottom"?B._depth:0)+F._offsetShift+f.extraPad);k.attr("transform",w(se,J)),F._rl=L.simpleMap(F.range,B.r2l);var Z=F._rl[0],te=F._rl[1],Y=te-Z;if(F.p2d=function(Ae){return Ae/F._width*Y+Z},F.d2p=function(Ae){return(Ae-Z)/Y*F._width},B.rangebreaks){var ie=B.locateBreaks(Z,te);if(ie.length){var le,j,K=0;for(le=0;le<ie.length;le++)j=ie[le],K+=j.max-j.min;var ue=F._width/(te-Z-K),ae=[-ue*Z];for(le=0;le<ie.length;le++)j=ie[le],ae.push(ae[ae.length-1]-ue*(j.max-j.min));for(F.d2p=function(Ae){for(var De=ae[0],we=0;we<ie.length;we++){var Ce=ie[we];if(Ae>=Ce.max)De=ae[we+1];else if(Ae<Ce.min)break}return De+ue*Ae},le=0;le<ie.length;le++)j=ie[le],j.pmin=F.d2p(j.min),j.pmax=F.d2p(j.max);F.p2d=function(Ae){for(var De=ae[0],we=0;we<ie.length;we++){var Ce=ie[we];if(Ae>=Ce.pmax)De=ae[we+1];else if(Ae<Ce.pmin)break}return(Ae-De)/ue}}}if(O.rangemode!=="match"){var he=N.r2l(O.range[0]),xe=N.r2l(O.range[1]),Se=xe-he;F.d2pOppAxis=function(Ae){return(Ae-he)/Se*F._height}}k.call(c,E,B,F).call(o,E,B,F).call(p,E,B,F).call(A,E,B,F,O).call(_,E,B,F).call(y,E,B,F),m(k,E,B,F),T(k,E,B,F,N,O),B.side==="bottom"&&r.draw(E,B._id+"title",{propContainer:B,propName:B._name+".title",placeholder:M._dfltTitle.x,attributes:{x:B._offset+B._length/2,y:J+F._height+F._offsetShift+10+1.5*B.title.font.size,"text-anchor":"middle"}})}))};function l(E){return typeof E.clientX=="number"?E.clientX:E.touches&&E.touches.length>0?E.touches[0].clientX:0}function m(E,M,s,S){if(M._context.staticPlot)return;var b=E.select("rect."+f.slideBoxClassName).node(),I=E.select("rect."+f.grabAreaMinClassName).node(),D=E.select("rect."+f.grabAreaMaxClassName).node();function B(){var k=d.event,F=k.target,N=l(k),O=N-E.node().getBoundingClientRect().left,V=S.d2p(s._rl[0]),X=S.d2p(s._rl[1]),ee=a.coverSlip();this.addEventListener("touchmove",ne),this.addEventListener("touchend",q),ee.addEventListener("mousemove",ne),ee.addEventListener("mouseup",q);function ne(se){var J=l(se),Z=+J-N,te,Y,ie;switch(F){case b:if(ie="ew-resize",V+Z>s._length||X+Z<0)return;te=V+Z,Y=X+Z;break;case I:if(ie="col-resize",V+Z>s._length)return;te=V+Z,Y=X;break;case D:if(ie="col-resize",X+Z<0)return;te=V,Y=X+Z;break;default:ie="ew-resize",te=O,Y=O+Z;break}if(Y<te){var le=Y;Y=te,te=le}S._pixelMin=te,S._pixelMax=Y,u(d.select(ee),ie),h(E,M,s,S)}function q(){ee.removeEventListener("mousemove",ne),ee.removeEventListener("mouseup",q),this.removeEventListener("touchmove",ne),this.removeEventListener("touchend",q),L.removeElement(ee)}}E.on("mousedown",B),E.on("touchstart",B)}function h(E,M,s,S){function b(B){return s.l2r(L.constrain(B,S._rl[0],S._rl[1]))}var I=b(S.p2d(S._pixelMin)),D=b(S.p2d(S._pixelMax));window.requestAnimationFrame(function(){C.call("_guiRelayout",M,s._name+".range",[I,D])})}function T(E,M,s,S,b,I){var D=f.handleWidth/2;function B(se){return L.constrain(se,0,S._width)}function k(se){return L.constrain(se,0,S._height)}function F(se){return L.constrain(se,-D,S._width+D)}var N=B(S.d2p(s._rl[0])),O=B(S.d2p(s._rl[1]));if(E.select("rect."+f.slideBoxClassName).attr("x",N).attr("width",O-N),E.select("rect."+f.maskMinClassName).attr("width",N),E.select("rect."+f.maskMaxClassName).attr("x",O).attr("width",S._width-O),I.rangemode!=="match"){var V=S._height-k(S.d2pOppAxis(b._rl[1])),X=S._height-k(S.d2pOppAxis(b._rl[0]));E.select("rect."+f.maskMinOppAxisClassName).attr("x",N).attr("height",V).attr("width",O-N),E.select("rect."+f.maskMaxOppAxisClassName).attr("x",N).attr("y",X).attr("height",S._height-X).attr("width",O-N),E.select("rect."+f.slideBoxClassName).attr("y",V).attr("height",X-V)}var ee=.5,ne=Math.round(F(N-D))-ee,q=Math.round(F(O-D))+ee;E.select("g."+f.grabberMinClassName).attr("transform",w(ne,ee)),E.select("g."+f.grabberMaxClassName).attr("transform",w(q,ee))}function c(E,M,s,S){var b=L.ensureSingle(E,"rect",f.bgClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),I=S.borderwidth%2===0?S.borderwidth:S.borderwidth-1,D=-S._offsetShift,B=v.crispRound(M,S.borderwidth);b.attr({width:S._width+I,height:S._height+I,transform:w(D,D),"stroke-width":B}).call(g.stroke,S.bordercolor).call(g.fill,S.bgcolor)}function o(E,M,s,S){var b=M._fullLayout,I=L.ensureSingleById(b._topdefs,"clipPath",S._clipId,function(D){D.append("rect").attr({x:0,y:0})});I.select("rect").attr({width:S._width,height:S._height})}function p(E,M,s,S){var b=M.calcdata,I=E.selectAll("g."+f.rangePlotClassName).data(s._subplotsWith,L.identity);I.enter().append("g").attr("class",function(B){return f.rangePlotClassName+" "+B}).call(v.setClipUrl,S._clipId,M),I.order(),I.exit().remove();var D;I.each(function(B,k){var F=d.select(this),N=k===0,O=i.getFromId(M,B,"y"),V=O._name,X=S[V],ee={data:[],layout:{xaxis:{type:s.type,domain:[0,1],range:S.range.slice(),calendar:s.calendar},width:S._width,height:S._height,margin:{t:0,b:0,l:0,r:0}},_context:M._context};s.rangebreaks&&(ee.layout.xaxis.rangebreaks=s.rangebreaks),ee.layout[V]={type:O.type,domain:[0,1],range:X.rangemode!=="match"?X.range.slice():O.range.slice(),calendar:O.calendar},O.rangebreaks&&(ee.layout[V].rangebreaks=O.rangebreaks),n.supplyDefaults(ee);var ne=ee._fullLayout.xaxis,q=ee._fullLayout[V];ne.clearCalc(),ne.setScale(),q.clearCalc(),q.setScale();var se={id:B,plotgroup:F,xaxis:ne,yaxis:q,isRangePlot:!0};N?D=se:(se.mainplot="xy",se.mainplotinfo=D),t.rangePlot(M,se,x(b,B))})}function x(E,M){for(var s=[],S=0;S<E.length;S++){var b=E[S],I=b[0].trace;I.xaxis+I.yaxis===M&&s.push(b)}return s}function A(E,M,s,S,b){var I=L.ensureSingle(E,"rect",f.maskMinClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})});I.attr("height",S._height).call(g.fill,f.maskColor);var D=L.ensureSingle(E,"rect",f.maskMaxClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});if(D.attr("height",S._height).call(g.fill,f.maskColor),b.rangemode!=="match"){var B=L.ensureSingle(E,"rect",f.maskMinOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});B.attr("width",S._width).call(g.fill,f.maskOppAxisColor);var k=L.ensureSingle(E,"rect",f.maskMaxOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});k.attr("width",S._width).style("border-top",f.maskOppBorder).call(g.fill,f.maskOppAxisColor)}}function _(E,M,s,S){if(!M._context.staticPlot){var b=L.ensureSingle(E,"rect",f.slideBoxClassName,function(I){I.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})});b.attr({height:S._height,fill:f.slideBoxFill})}}function y(E,M,s,S){var b=L.ensureSingle(E,"g",f.grabberMinClassName),I=L.ensureSingle(E,"g",f.grabberMaxClassName),D={x:0,width:f.handleWidth,rx:f.handleRadius,fill:g.background,stroke:g.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},B={y:Math.round(S._height/4),height:Math.round(S._height/2)},k=L.ensureSingle(b,"rect",f.handleMinClassName,function(X){X.attr(D)});k.attr(B);var F=L.ensureSingle(I,"rect",f.handleMaxClassName,function(X){X.attr(D)});F.attr(B);var N={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:M._context.staticPlot?void 0:f.grabAreaCursor},O=L.ensureSingle(b,"rect",f.grabAreaMinClassName,function(X){X.attr(N)});O.attr("height",S._height);var V=L.ensureSingle(I,"rect",f.grabAreaMaxClassName,function(X){X.attr(N)});V.attr("height",S._height)}},97944:function(H,U,e){var d=e(79811),C=e(72736),n=e(74636),L=e(84284).LINE_SPACING,w=n.name;function v(g){var r=g&&g[w];return r&&r.visible}U.isVisible=v,U.makeData=function(g){var r=d.list({_fullLayout:g},"x",!0),t=g.margin,i=[];if(!g._has("gl2d"))for(var a=0;a<r.length;a++){var u=r[a];if(v(u)){i.push(u);var f=u[w];f._id=w+u._id,f._height=(g.height-t.b-t.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}g._rangeSliderData=i},U.autoMarginOpts=function(g,r){var t=g._fullLayout,i=r[w],a=r._id.charAt(0),u=0,f=0;if(r.side==="bottom"&&(u=r._depth,r.title.text!==t._dfltTitle[a])){f=1.5*r.title.font.size+10+i._offsetShift;var l=(r.title.text.match(C.BR_TAG_ALL)||[]).length;f+=l*r.title.font.size*L}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:i._height+u+Math.max(t.margin.b,f),pad:n.extraPad+i._offsetShift*2}}},49692:function(H,U,e){var d=e(3400),C=e(11200),n=e(10936),L=e(97944);H.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:d.extendFlat({},C,{yaxis:n})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},10936:function(H){H.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(H,U,e){var d=e(13916),C=e(52904).line,n=e(98192).u,L=e(92880).extendFlat,w=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),H.exports=w(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},d.xref,{}),yref:L({},d.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:C.color,width:L({},C.width,{min:1,dflt:1}),dash:L({},n,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(H){H.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(H,U,e){var d=e(3400),C=e(54460),n=e(51272),L=e(93956),w=e(65152);H.exports=function(r,t){n(r,t,{name:"selections",handleItemDefaults:v});for(var i=t.selections,a=0;a<i.length;a++){var u=i[a];u&&u.path===void 0&&(u.x0===void 0||u.x1===void 0||u.y0===void 0||u.y1===void 0)&&(t.selections[a]=null)}};function v(g,r,t){function i(b,I){return d.coerce(g,r,L,b,I)}var a=i("path"),u=a?"path":"rect",f=i("type",u),l=f!=="path";l&&delete r.path,i("opacity"),i("line.color"),i("line.width"),i("line.dash");for(var m=["x","y"],h=0;h<2;h++){var T=m[h],c={_fullLayout:t},o,p,x,A=C.coerceRef(g,r,c,T);if(o=C.getFromId(c,A),o._selectionIndices.push(r._index),x=w.rangeToShapePosition(o),p=w.shapePositionToRange(o),l){var _=T+"0",y=T+"1",E=g[_],M=g[y];g[_]=p(g[_],!0),g[y]=p(g[y],!0),C.coercePosition(r,c,i,A,_),C.coercePosition(r,c,i,A,y);var s=r[_],S=r[y];s!==void 0&&S!==void 0&&(r[_]=x(s),r[y]=x(S),g[_]=E,g[y]=M)}}l&&d.noneOrAll(g,r,["x0","x1","y0","y1"])}},23640:function(H,U,e){var d=e(9856).readPaths,C=e(55496),n=e(1936).clearOutlineControllers,L=e(76308),w=e(43616),v=e(31780).arrayEditor,g=e(65152),r=g.getPathString;H.exports={draw:t,drawOne:a,activateLastSelection:l};function t(h){var T=h._fullLayout;n(h),T._selectionLayer.selectAll("path").remove();for(var c in T._plots){var o=T._plots[c].selectionLayer;o&&o.selectAll("path").remove()}for(var p=0;p<T.selections.length;p++)a(h,p)}function i(h){return h._context.editSelection}function a(h,T){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var c=g.makeSelectionsOptionsAndPlotinfo(h,T),o=c.options,p=c.plotinfo;if(!o._input)return;x(h._fullLayout._selectionLayer);function x(A){var _=r(h,o),y={"data-index":T,"fill-rule":"evenodd",d:_},E=o.opacity,M="rgba(0,0,0,0)",s=o.line.color||L.contrast(h._fullLayout.plot_bgcolor),S=o.line.width,b=o.line.dash;S||(S=5,b="solid");var I=i(h)&&h._fullLayout._activeSelectionIndex===T;I&&(M=h._fullLayout.activeselection.fillcolor,E=h._fullLayout.activeselection.opacity);for(var D=[],B=1;B>=0;B--){var k=A.append("path").attr(y).style("opacity",B?.1:E).call(L.stroke,s).call(L.fill,M).call(w.dashLine,B?"solid":b,B?4+S:S);if(u(k,h,o),I){var F=v(h.layout,"selections",o);k.style({cursor:"move"});var N={element:k.node(),plotinfo:p,gd:h,editHelpers:F,isActiveSelection:!0},O=d(_,h);C(O,k,N)}else k.style("pointer-events",B?"all":"none");D[B]=k}var V=D[0],X=D[1];X.node().addEventListener("click",function(){return f(h,V)})}}function u(h,T,c){var o=c.xref+c.yref;w.setClipUrl(h,"clip"+T._fullLayout._uid+o,T)}function f(h,T){if(i(h)){var c=T.node(),o=+c.getAttribute("data-index");if(o>=0){if(o===h._fullLayout._activeSelectionIndex){m(h);return}h._fullLayout._activeSelectionIndex=o,h._fullLayout._deactivateSelection=m,t(h)}}}function l(h){if(i(h)){var T=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=T,h._fullLayout._deactivateSelection=m,t(h)}}function m(h){if(i(h)){var T=h._fullLayout._activeSelectionIndex;T>=0&&(n(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(H,U,e){var d=e(98192).u,C=e(92880).extendFlat;H.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:C({},d,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(H){H.exports=function(e,d,C){C("newselection.mode");var n=C("newselection.line.width");n&&(C("newselection.line.color"),C("newselection.line.dash")),C("activeselection.fillcolor"),C("activeselection.opacity")}},5968:function(H,U,e){var d=e(72760),C=d.selectMode,n=e(1936),L=n.clearOutline,w=e(9856),v=w.readPaths,g=w.writePaths,r=w.fixDatesForPaths;H.exports=function(i,a){if(i.length){var u=i[0][0];if(u){var f=u.getAttribute("d"),l=a.gd,m=l._fullLayout.newselection,h=a.plotinfo,T=h.xaxis,c=h.yaxis,o=a.isActiveSelection,p=a.dragmode,x=(l.layout||{}).selections||[];if(!C(p)&&o!==void 0){var A=l._fullLayout._activeSelectionIndex;if(A<x.length)switch(l._fullLayout.selections[A].type){case"rect":p="select";break;case"path":p="lasso";break}}var _=v(f,l,h,o),y={xref:T._id,yref:c._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},E;_.length===1&&(E=_[0]),E&&E.length===5&&p==="select"?(y.type="rect",y.x0=E[0][1],y.y0=E[0][2],y.x1=E[2][1],y.y1=E[2][2]):(y.type="path",T&&c&&r(_,T,c),y.path=g(_),E=null),L(l);for(var M=a.editHelpers,s=(M||{}).modifyItem,S=[],b=0;b<x.length;b++){var I=l._fullLayout.selections[b];if(!I){S[b]=I;continue}if(S[b]=I._input,o!==void 0&&b===l._fullLayout._activeSelectionIndex){var D=y;switch(I.type){case"rect":s("x0",D.x0),s("x1",D.x1),s("y0",D.y0),s("y1",D.y1);break;case"path":s("path",D.path);break}}}return o===void 0?(S.push(y),S):M?M.getUpdateObj():{}}}}},5840:function(H,U,e){var d=e(3400).strTranslate;function C(v,g){switch(v.type){case"log":return v.p2d(g);case"date":return v.p2r(g,0,v.calendar);default:return v.p2r(g)}}function n(v,g){switch(v.type){case"log":return v.d2p(g);case"date":return v.r2p(g,0,v.calendar);default:return v.r2p(g)}}function L(v){var g=v._id.charAt(0)==="y"?1:0;return function(r){return C(v,r[g])}}function w(v){return d(v.xaxis._offset,v.yaxis._offset)}H.exports={p2r:C,r2p:n,axValue:L,getTransform:w}},22676:function(H,U,e){var d=e(23640),C=e(43156);H.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:d.draw,drawOne:d.drawOne,reselect:C.reselect,prepSelect:C.prepSelect,clearOutline:C.clearOutline,clearSelectionsCache:C.clearSelectionsCache,selectOnClick:C.selectOnClick}},43156:function(H,U,e){var d=e(14756),C=e(61456),n=e(24040),L=e(43616).dashStyle,w=e(76308),v=e(93024),g=e(10624).makeEventData,r=e(72760),t=r.freeMode,i=r.rectMode,a=r.drawMode,u=r.openMode,f=r.selectMode,l=e(65152),m=e(85448),h=e(55496),T=e(1936).clearOutline,c=e(9856),o=c.handleEllipse,p=c.readPaths,x=e(93940).newShapes,A=e(5968),_=e(23640).activateLastSelection,y=e(3400),E=y.sorterAsc,M=e(92065),s=e(91200),S=e(79811).getFromId,b=e(73696),I=e(39172).redrawReglTraces,D=e(83280),B=D.MINSELECT,k=M.filter,F=M.tester,N=e(5840),O=N.p2r,V=N.axValue,X=N.getTransform;function ee(Xe){return Xe.subplot!==void 0}function ne(Xe,Oe,ke,Ke,Ie){var pe=!ee(Ke),Te=t(Ie),Ue=i(Ie),et=u(Ie),st=a(Ie),lt=f(Ie),jt=Ie==="drawline",Jt=Ie==="drawcircle",St=jt||Jt,Rt=Ke.gd,$t=Rt._fullLayout,Pr=lt&&$t.newselection.mode==="immediate"&&pe,xt=$t._zoomlayer,qt=Ke.element.getBoundingClientRect(),nr=Ke.plotinfo,wr=X(nr),dr=Oe-qt.left,bt=ke-qt.top;$t._calcInverseTransform(Rt);var ut=y.apply3DTransform($t._invTransform)(dr,bt);dr=ut[0],bt=ut[1];var Mt=$t._invScaleX,_t=$t._invScaleY,kt=dr,Xt=bt,Wt="M"+dr+","+bt,Ht=Ke.xaxes[0],tr=Ke.yaxes[0],gr=Ht._length,Qt=tr._length,mr=Xe.altKey&&!(a(Ie)&&et),Ze,Ye,Bt,Ft,rr,sr,fr;Y(Xe,Rt,Ke),Te&&(Ze=k([[dr,bt]],D.BENDPX));var ir=xt.selectAll("path.select-outline-"+nr.id).data([1]),Vt=st?$t.newshape:$t.newselection;st&&(Ke.hasText=Vt.label.text||Vt.label.texttemplate);var yr=st&&!et?Vt.fillcolor:"rgba(0,0,0,0)",br=Vt.line.color||(pe?w.contrast(Rt._fullLayout.plot_bgcolor):"#7f7f7f");ir.enter().append("path").attr("class","select-outline select-outline-"+nr.id).style({opacity:st?Vt.opacity/2:1,"stroke-dasharray":L(Vt.line.dash,Vt.line.width),"stroke-width":Vt.line.width+"px","shape-rendering":"crispEdges"}).call(w.stroke,br).call(w.fill,yr).attr("fill-rule","evenodd").classed("cursor-move",!!st).attr("transform",wr).attr("d",Wt+"Z");var _r=xt.append("path").attr("class","zoombox-corners").style({fill:w.background,stroke:w.defaultLine,"stroke-width":1}).attr("transform",wr).attr("d","M0,0Z");if(st&&Ke.hasText){var pr=xt.select(".label-temp");pr.empty()&&(pr=xt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Yr=$t._uid+D.SELECTID,zr=[],Nr=ue(Rt,Ke.xaxes,Ke.yaxes,Ke.subplot);Pr&&!Xe.shiftKey&&(Ke._clearSubplotSelections=function(){if(pe){var tn=Ht._id,On=tr._id;gt(Rt,tn,On,Nr);for(var zn=(Rt.layout||{}).selections||[],Sr=[],Vr=!1,qr=0;qr<zn.length;qr++){var Hr=$t.selections[qr];Hr.xref!==tn||Hr.yref!==On?Sr.push(zn[qr]):Vr=!0}Vr&&(Rt._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Rt,{selections:Sr}))}});var xn=at(Ke);Ke.moveFn=function(tn,On){Ke._clearSubplotSelections&&(Ke._clearSubplotSelections(),Ke._clearSubplotSelections=void 0),kt=Math.max(0,Math.min(gr,Mt*tn+dr)),Xt=Math.max(0,Math.min(Qt,_t*On+bt));var zn=Math.abs(kt-dr),Sr=Math.abs(Xt-bt);if(Ue){var Vr,qr,Hr;if(lt){var Tn=$t.selectdirection;switch(Tn==="any"?Sr<Math.min(zn*.6,B)?Vr="h":zn<Math.min(Sr*.6,B)?Vr="v":Vr="d":Vr=Tn,Vr){case"h":qr=Jt?Qt/2:0,Hr=Qt;break;case"v":qr=Jt?gr/2:0,Hr=gr;break}}if(st)switch($t.newshape.drawdirection){case"vertical":Vr="h",qr=Jt?Qt/2:0,Hr=Qt;break;case"horizontal":Vr="v",qr=Jt?gr/2:0,Hr=gr;break;case"ortho":zn<Sr?(Vr="h",qr=bt,Hr=Xt):(Vr="v",qr=dr,Hr=kt);break;default:Vr="d"}Vr==="h"?(Ft=St?o(Jt,[kt,qr],[kt,Hr]):[[dr,qr],[dr,Hr],[kt,Hr],[kt,qr]],Ft.xmin=St?kt:Math.min(dr,kt),Ft.xmax=St?kt:Math.max(dr,kt),Ft.ymin=Math.min(qr,Hr),Ft.ymax=Math.max(qr,Hr),_r.attr("d","M"+Ft.xmin+","+(bt-B)+"h-4v"+2*B+"h4ZM"+(Ft.xmax-1)+","+(bt-B)+"h4v"+2*B+"h-4Z")):Vr==="v"?(Ft=St?o(Jt,[qr,Xt],[Hr,Xt]):[[qr,bt],[qr,Xt],[Hr,Xt],[Hr,bt]],Ft.xmin=Math.min(qr,Hr),Ft.xmax=Math.max(qr,Hr),Ft.ymin=St?Xt:Math.min(bt,Xt),Ft.ymax=St?Xt:Math.max(bt,Xt),_r.attr("d","M"+(dr-B)+","+Ft.ymin+"v-4h"+2*B+"v4ZM"+(dr-B)+","+(Ft.ymax-1)+"v4h"+2*B+"v-4Z")):Vr==="d"&&(Ft=St?o(Jt,[dr,bt],[kt,Xt]):[[dr,bt],[dr,Xt],[kt,Xt],[kt,bt]],Ft.xmin=Math.min(dr,kt),Ft.xmax=Math.max(dr,kt),Ft.ymin=Math.min(bt,Xt),Ft.ymax=Math.max(bt,Xt),_r.attr("d","M0,0Z"))}else Te&&(Ze.addPt([kt,Xt]),Ft=Ze.filtered);if(Ke.selectionDefs&&Ke.selectionDefs.length?(Bt=be(Ke.mergedPolygons,Ft,mr),Ft.subtract=mr,Ye=te(Ke.selectionDefs.concat([Ft]))):(Bt=[Ft],Ye=F(Ft)),h(Ve(Bt,et),ir,Ke),lt){var bn=Fe(Rt,!1),Hn=bn.eventData?bn.eventData.points.slice():[];bn=Fe(Rt,!1,Ye,Nr,Ke),Ye=bn.selectionTesters,fr=bn.eventData;var Gn;Ze?Gn=Ze.filtered:Gn=wt(Bt),s.throttle(Yr,D.SELECTDELAY,function(){zr=Ge(Ye,Nr);for(var ea=zr.slice(),ma=0;ma<Hn.length;ma++){for(var Da=Hn[ma],Fa=!1,La=0;La<ea.length;La++)if(ea[La].curveNumber===Da.curveNumber&&ea[La].pointNumber===Da.pointNumber){Fa=!0;break}Fa||ea.push(Da)}ea.length&&(fr||(fr={}),fr.points=ea),xn(fr,Gn),ze(Rt,fr)})}},Ke.clickFn=function(tn,On){if(_r.remove(),Rt._fullLayout._activeShapeIndex>=0){Rt._fullLayout._deactivateShape(Rt);return}if(!st){var zn=$t.clickmode;s.done(Yr).then(function(){if(s.clear(Yr),tn===2){for(ir.remove(),rr=0;rr<Nr.length;rr++)sr=Nr[rr],sr._module.selectPoints(sr,!1);if(we(Rt,Nr),j(Ke),Je(Rt),Nr.length){var Sr=Nr[0].xaxis,Vr=Nr[0].yaxis;if(Sr&&Vr){for(var qr=[],Hr=Rt._fullLayout.selections,Tn=0;Tn<Hr.length;Tn++){var bn=Hr[Tn];bn&&(bn.xref!==Sr._id||bn.yref!==Vr._id)&&qr.push(bn)}qr.length<Hr.length&&(Rt._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Rt,{selections:qr}))}}}else zn.indexOf("select")>-1&&q(On,Rt,Ke.xaxes,Ke.yaxes,Ke.subplot,Ke,ir),zn==="event"&&je(Rt,void 0);v.click(Rt,On,nr.id)}).catch(y.error)}},Ke.doneFn=function(){_r.remove(),s.done(Yr).then(function(){s.clear(Yr),!Pr&&Ft&&Ke.selectionDefs&&(Ft.subtract=mr,Ke.selectionDefs.push(Ft),Ke.mergedPolygons.length=0,[].push.apply(Ke.mergedPolygons,Bt)),(Pr||st)&&j(Ke,Pr),Ke.doneFnCompleted&&Ke.doneFnCompleted(zr),lt&&je(Rt,fr)}).catch(y.error)}}function q(Xe,Oe,ke,Ke,Ie,pe,Te){var Ue=Oe._hoverdata,et=Oe._fullLayout,st=et.clickmode,lt=st.indexOf("event")>-1,jt=[],Jt,St,Rt,$t,Pr,xt,qt,nr,wr,dr;if(he(Ue)){Y(Xe,Oe,pe),Jt=ue(Oe,ke,Ke,Ie);var bt=xe(Ue,Jt),ut=bt.pointNumbers.length>0;if(ut?Ae(Jt,bt):De(Jt)&&(qt=Se(bt))){for(Te&&Te.remove(),dr=0;dr<Jt.length;dr++)St=Jt[dr],St._module.selectPoints(St,!1);we(Oe,Jt),j(pe),lt&&Je(Oe)}else{nr=Xe.shiftKey&&(qt!==void 0?qt:Se(bt)),Rt=se(bt.pointNumber,bt.searchInfo,nr);var Mt=pe.selectionDefs.concat([Rt]);for($t=te(Mt),dr=0;dr<Jt.length;dr++)if(Pr=Jt[dr]._module.selectPoints(Jt[dr],$t),xt=Pe(Pr,Jt[dr]),jt.length)for(var _t=0;_t<xt.length;_t++)jt.push(xt[_t]);else jt=xt;if(wr={points:jt},we(Oe,Jt,wr),Rt&&pe&&pe.selectionDefs.push(Rt),Te){var kt=pe.mergedPolygons,Xt=u(pe.dragmode);h(Ve(kt,Xt),Te,pe)}lt&&je(Oe,wr)}}}function se(Xe,Oe,ke){return{pointNumber:Xe,searchInfo:Oe,subtract:!!ke}}function J(Xe){return"pointNumber"in Xe&&"searchInfo"in Xe}function Z(Xe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Oe,ke,Ke,Ie){var pe=Xe.searchInfo.cd[0].trace._expandedIndex,Te=Ie.cd[0].trace._expandedIndex;return Te===pe&&Ke===Xe.pointNumber},isRect:!1,degenerate:!1,subtract:!!Xe.subtract}}function te(Xe){if(!Xe.length)return;for(var Oe=[],ke=J(Xe[0])?0:Xe[0][0][0],Ke=ke,Ie=J(Xe[0])?0:Xe[0][0][1],pe=Ie,Te=0;Te<Xe.length;Te++)if(J(Xe[Te]))Oe.push(Z(Xe[Te]));else{var Ue=F(Xe[Te]);Ue.subtract=!!Xe[Te].subtract,Oe.push(Ue),ke=Math.min(ke,Ue.xmin),Ke=Math.max(Ke,Ue.xmax),Ie=Math.min(Ie,Ue.ymin),pe=Math.max(pe,Ue.ymax)}function et(st,lt,jt,Jt){for(var St=!1,Rt=0;Rt<Oe.length;Rt++)Oe[Rt].contains(st,lt,jt,Jt)&&(St=!Oe[Rt].subtract);return St}return{xmin:ke,xmax:Ke,ymin:Ie,ymax:pe,pts:[],contains:et,isRect:!1,degenerate:!1}}function Y(Xe,Oe,ke){var Ke=Oe._fullLayout,Ie=ke.plotinfo,pe=ke.dragmode,Te=Ke._lastSelectedSubplot&&Ke._lastSelectedSubplot===Ie.id,Ue=(Xe.shiftKey||Xe.altKey)&&!(a(pe)&&u(pe));Te&&Ue&&Ie.selection&&Ie.selection.selectionDefs&&!ke.selectionDefs?(ke.selectionDefs=Ie.selection.selectionDefs,ke.mergedPolygons=Ie.selection.mergedPolygons):(!Ue||!Ie.selection)&&j(ke),Te||(T(Oe),Ke._lastSelectedSubplot=Ie.id)}function ie(Xe){return Xe._fullLayout._activeShapeIndex>=0}function le(Xe){return Xe._fullLayout._activeSelectionIndex>=0}function j(Xe,Oe){var ke=Xe.dragmode,Ke=Xe.plotinfo,Ie=Xe.gd;ie(Ie)&&Ie._fullLayout._deactivateShape(Ie),le(Ie)&&Ie._fullLayout._deactivateSelection(Ie);var pe=Ie._fullLayout,Te=pe._zoomlayer,Ue=a(ke),et=f(ke);if(Ue||et){var st=Te.selectAll(".select-outline-"+Ke.id);if(st&&Ie._fullLayout._outlining){var lt;Ue&&(lt=x(st,Xe)),lt&&n.call("_guiRelayout",Ie,{shapes:lt});var jt;et&&!ee(Xe)&&(jt=A(st,Xe)),jt&&(Ie._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Ie,{selections:jt}).then(function(){Oe&&_(Ie)})),Ie._fullLayout._outlining=!1}}Ke.selection={},Ke.selection.selectionDefs=Xe.selectionDefs=[],Ke.selection.mergedPolygons=Xe.mergedPolygons=[]}function K(Xe){return Xe._id}function ue(Xe,Oe,ke,Ke){if(!Xe.calcdata)return[];var Ie=[],pe=Oe.map(K),Te=ke.map(K),Ue,et,st;for(st=0;st<Xe.calcdata.length;st++)if(Ue=Xe.calcdata[st],et=Ue[0].trace,!(et.visible!==!0||!et._module||!et._module.selectPoints))if(ee({subplot:Ke})&&(et.subplot===Ke||et.geo===Ke))Ie.push(ae(et._module,Ue,Oe[0],ke[0]));else if(et.type==="splom"){if(et._xaxes[pe[0]]&&et._yaxes[Te[0]]){var lt=ae(et._module,Ue,Oe[0],ke[0]);lt.scene=Xe._fullLayout._splomScenes[et.uid],Ie.push(lt)}}else if(et.type==="sankey"){var jt=ae(et._module,Ue,Oe[0],ke[0]);Ie.push(jt)}else{if(pe.indexOf(et.xaxis)===-1&&(!et._xA||!et._xA.overlaying)||Te.indexOf(et.yaxis)===-1&&(!et._yA||!et._yA.overlaying))continue;Ie.push(ae(et._module,Ue,S(Xe,et.xaxis),S(Xe,et.yaxis)))}return Ie}function ae(Xe,Oe,ke,Ke){return{_module:Xe,cd:Oe,xaxis:ke,yaxis:Ke}}function he(Xe){return Xe&&Array.isArray(Xe)&&Xe[0].hoverOnBox!==!0}function xe(Xe,Oe){var ke=Xe[0],Ke=-1,Ie=[],pe,Te;for(Te=0;Te<Oe.length;Te++)if(pe=Oe[Te],ke.fullData._expandedIndex===pe.cd[0].trace._expandedIndex){if(ke.hoverOnBox===!0)break;ke.pointNumber!==void 0?Ke=ke.pointNumber:ke.binNumber!==void 0&&(Ke=ke.binNumber,Ie=ke.pointNumbers);break}return{pointNumber:Ke,pointNumbers:Ie,searchInfo:pe}}function Se(Xe){var Oe=Xe.searchInfo.cd[0].trace,ke=Xe.pointNumber,Ke=Xe.pointNumbers,Ie=Ke.length>0,pe=Ie?Ke[0]:ke;return Oe.selectedpoints?Oe.selectedpoints.indexOf(pe)>-1:!1}function Ae(Xe,Oe){var ke=[],Ke,Ie,pe,Te;for(Te=0;Te<Xe.length;Te++)Ke=Xe[Te],Ke.cd[0].trace.selectedpoints&&Ke.cd[0].trace.selectedpoints.length>0&&ke.push(Ke);if(ke.length===1&&(pe=ke[0]===Oe.searchInfo,pe&&(Ie=Oe.searchInfo.cd[0].trace,Ie.selectedpoints.length===Oe.pointNumbers.length))){for(Te=0;Te<Oe.pointNumbers.length;Te++)if(Ie.selectedpoints.indexOf(Oe.pointNumbers[Te])<0)return!1;return!0}return!1}function De(Xe){var Oe=0,ke,Ke,Ie;for(Ie=0;Ie<Xe.length;Ie++)if(ke=Xe[Ie],Ke=ke.cd[0].trace,Ke.selectedpoints&&(Ke.selectedpoints.length>1||(Oe+=Ke.selectedpoints.length,Oe>1)))return!1;return Oe===1}function we(Xe,Oe,ke){var Ke;for(Ke=0;Ke<Oe.length;Ke++){var Ie=Oe[Ke].cd[0].trace._fullInput,pe=Xe._fullLayout._tracePreGUI[Ie.uid]||{};pe.selectedpoints===void 0&&(pe.selectedpoints=Ie._input.selectedpoints||null)}var Te;if(ke){var Ue=ke.points||[];for(Ke=0;Ke<Oe.length;Ke++)Te=Oe[Ke].cd[0].trace,Te._input.selectedpoints=Te._fullInput.selectedpoints=[],Te._fullInput!==Te&&(Te.selectedpoints=[]);for(var et=0;et<Ue.length;et++){var st=Ue[et],lt=st.data,jt=st.fullData,Jt=st.pointIndex,St=st.pointIndices;St?([].push.apply(lt.selectedpoints,St),Te._fullInput!==Te&&[].push.apply(jt.selectedpoints,St)):(lt.selectedpoints.push(Jt),Te._fullInput!==Te&&jt.selectedpoints.push(Jt))}}else for(Ke=0;Ke<Oe.length;Ke++)Te=Oe[Ke].cd[0].trace,delete Te.selectedpoints,delete Te._input.selectedpoints,Te._fullInput!==Te&&delete Te._fullInput.selectedpoints;Ce(Xe,Oe)}function Ce(Xe,Oe){for(var ke=!1,Ke=0;Ke<Oe.length;Ke++){var Ie=Oe[Ke],pe=Ie.cd;n.traceIs(pe[0].trace,"regl")&&(ke=!0);var Te=Ie._module,Ue=Te.styleOnSelect||Te.style;Ue&&(Ue(Xe,pe,pe[0].node3),pe[0].nodeRangePlot3&&Ue(Xe,pe,pe[0].nodeRangePlot3))}ke&&(b(Xe),I(Xe))}function be(Xe,Oe,ke){for(var Ke=ke?d.difference:d.union,Ie=Ke({regions:Xe},{regions:[Oe]}),pe=Ie.regions.reverse(),Te=0;Te<pe.length;Te++){var Ue=pe[Te];Ue.subtract=dt(Ue,pe.slice(0,Te))}return pe}function Pe(Xe,Oe){if(Array.isArray(Xe))for(var ke=Oe.cd,Ke=Oe.cd[0].trace,Ie=0;Ie<Xe.length;Ie++)Xe[Ie]=g(Xe[Ie],Ke,ke);return Xe}function Ve(Xe,Oe){for(var ke=[],Ke=0;Ke<Xe.length;Ke++){ke[Ke]=[];for(var Ie=0;Ie<Xe[Ke].length;Ie++){ke[Ke][Ie]=[],ke[Ke][Ie][0]=Ie?"L":"M";for(var pe=0;pe<Xe[Ke][Ie].length;pe++)ke[Ke][Ie].push(Xe[Ke][Ie][pe])}Oe||ke[Ke].push(["Z",ke[Ke][0][1],ke[Ke][0][2]])}return ke}function Ge(Xe,Oe){for(var ke=[],Ke,Ie,pe=0;pe<Oe.length;pe++){var Te=Oe[pe];Ie=Te._module.selectPoints(Te,Xe),Ke=Pe(Ie,Te),ke=ke.concat(Ke)}return ke}function Fe(Xe,Oe,ke,Ke,Ie){var pe=!!Ke,Te,Ue,et;Ie&&(Te=Ie.plotinfo,Ue=Ie.xaxes[0]._id,et=Ie.yaxes[0]._id);var st=[],lt=[],jt=nt(Xe),Jt=Xe._fullLayout;if(Te){var St=Jt._zoomlayer,Rt=Jt.dragmode,$t=a(Rt),Pr=f(Rt);if($t||Pr){var xt=S(Xe,Ue,"x"),qt=S(Xe,et,"y");if(xt&&qt){var nr=St.selectAll(".select-outline-"+Te.id);if(nr&&Xe._fullLayout._outlining&&nr.length){for(var wr=nr[0][0],dr=wr.getAttribute("d"),bt=p(dr,Xe,Te),ut=[],Mt=0;Mt<bt.length;Mt++){for(var _t=bt[Mt],kt=[],Xt=0;Xt<_t.length;Xt++)kt.push([pt(xt,_t[Xt][1]),pt(qt,_t[Xt][2])]);kt.xref=Ue,kt.yref=et,kt.subtract=dt(kt,ut),ut.push(kt)}jt=jt.concat(ut)}}}}var Wt=Ue&&et?[Ue+et]:Jt._subplots.cartesian;He(Xe);for(var Ht={},tr=0;tr<Wt.length;tr++){var gr=Wt[tr],Qt=gr.indexOf("y"),mr=gr.slice(0,Qt),Ze=gr.slice(Qt),Ye=Ue&&et?ke:void 0;if(Ye=ct(jt,mr,Ze,Ye),Ye){var Bt=Ke;if(!pe){var Ft=S(Xe,mr,"x"),rr=S(Xe,Ze,"y");Bt=ue(Xe,[Ft],[rr],gr);for(var sr=0;sr<Bt.length;sr++){var fr=Bt[sr],ir=fr.cd[0],Vt=ir.trace;if(fr._module.name==="scattergl"&&!ir.t.xpx){var yr=Vt.x,br=Vt.y,_r=Vt._length;ir.t.xpx=[],ir.t.ypx=[];for(var pr=0;pr<_r;pr++)ir.t.xpx[pr]=Ft.c2p(yr[pr]),ir.t.ypx[pr]=rr.c2p(br[pr])}fr._module.name==="splom"&&(Ht[Vt.uid]||(Ht[Vt.uid]=!0))}}var Yr=Ge(Ye,Bt);st=st.concat(Yr),lt=lt.concat(Bt)}}var zr={points:st};we(Xe,lt,zr);var Nr=Jt.clickmode,xn=Nr.indexOf("event")>-1&&Oe;if(!Te&&Oe){var tn=nt(Xe,!0);if(tn.length){var On=tn[0].xref,zn=tn[0].yref;if(On&&zn){var Sr=wt(tn),Vr=Ct([S(Xe,On,"x"),S(Xe,zn,"y")]);Vr(zr,Sr)}}Xe._fullLayout._noEmitSelectedAtStart?Xe._fullLayout._noEmitSelectedAtStart=!1:xn&&je(Xe,zr),Jt._reselect=!1}if(!Te&&Jt._deselect){var qr=Jt._deselect;Ue=qr.xref,et=qr.yref,ft(Ue,et,lt)||gt(Xe,Ue,et,Ke),xn&&(zr.points.length?je(Xe,zr):Je(Xe)),Jt._deselect=!1}return{eventData:zr,selectionTesters:ke}}function He(Xe){var Oe=Xe.calcdata;if(Oe)for(var ke=0;ke<Oe.length;ke++){var Ke=Oe[ke][0],Ie=Ke.trace,pe=Xe._fullLayout._splomScenes;if(pe){var Te=pe[Ie.uid];Te&&(Te.selectBatch=[])}}}function ft(Xe,Oe,ke){for(var Ke=0;Ke<ke.length;Ke++){var Ie=ke[Ke];if(Ie.xaxis&&Ie.xaxis._id===Xe&&Ie.yaxis&&Ie.yaxis._id===Oe)return!0}return!1}function gt(Xe,Oe,ke,Ke){Ke=ue(Xe,[S(Xe,Oe,"x")],[S(Xe,ke,"y")],Oe+ke);for(var Ie=0;Ie<Ke.length;Ie++){var pe=Ke[Ie];pe._module.selectPoints(pe,!1)}we(Xe,Ke)}function ct(Xe,Oe,ke,Ke){for(var Ie,pe=0;pe<Xe.length;pe++){var Te=Xe[pe];if(!(Oe!==Te.xref||ke!==Te.yref))if(Ie){var Ue=!!Te.subtract;Ie=be(Ie,Te,Ue),Ke=te(Ie)}else Ie=[Te],Ke=F(Te)}return Ke}function nt(Xe,Oe){for(var ke=[],Ke=Xe._fullLayout,Ie=Ke.selections,pe=Ie.length,Te=0;Te<pe;Te++)if(!(Oe&&Te!==Ke._activeSelectionIndex)){var Ue=Ie[Te];if(Ue){var et=Ue.xref,st=Ue.yref,lt=S(Xe,et,"x"),jt=S(Xe,st,"y"),Jt,St,Rt,$t,Pr;if(Ue.type==="rect"){Pr=[];var xt=pt(lt,Ue.x0),qt=pt(lt,Ue.x1),nr=pt(jt,Ue.y0),wr=pt(jt,Ue.y1);Pr=[[xt,nr],[xt,wr],[qt,wr],[qt,nr]],Jt=Math.min(xt,qt),St=Math.max(xt,qt),Rt=Math.min(nr,wr),$t=Math.max(nr,wr),Pr.xmin=Jt,Pr.xmax=St,Pr.ymin=Rt,Pr.ymax=$t,Pr.xref=et,Pr.yref=st,Pr.subtract=!1,Pr.isRect=!0,ke.push(Pr)}else if(Ue.type==="path")for(var dr=Ue.path.split("Z"),bt=[],ut=0;ut<dr.length;ut++){var Mt=dr[ut];if(Mt){Mt+="Z";var _t=l.extractPathCoords(Mt,m.paramIsX,"raw"),kt=l.extractPathCoords(Mt,m.paramIsY,"raw");Jt=1/0,St=-1/0,Rt=1/0,$t=-1/0,Pr=[];for(var Xt=0;Xt<_t.length;Xt++){var Wt=pt(lt,_t[Xt]),Ht=pt(jt,kt[Xt]);Pr.push([Wt,Ht]),Jt=Math.min(Wt,Jt),St=Math.max(Wt,St),Rt=Math.min(Ht,Rt),$t=Math.max(Ht,$t)}Pr.xmin=Jt,Pr.xmax=St,Pr.ymin=Rt,Pr.ymax=$t,Pr.xref=et,Pr.yref=st,Pr.subtract=dt(Pr,bt),bt.push(Pr),ke.push(Pr)}}}}return ke}function dt(Xe,Oe){for(var ke=!1,Ke=0;Ke<Oe.length;Ke++)for(var Ie=Oe[Ke],pe=0;pe<Xe.length;pe++)if(C(Xe[pe],Ie)){ke=!ke;break}return ke}function pt(Xe,Oe){return Xe.type==="date"&&(Oe=Oe.replace("_"," ")),Xe.type==="log"?Xe.c2p(Oe):Xe.r2p(Oe,null,Xe.calendar)}function wt(Xe){for(var Oe=Xe.length,ke=[],Ke=0;Ke<Oe;Ke++){var Ie=Xe[Ke];ke=ke.concat(Ie),ke=ke.concat([Ie[0]])}return Tt(ke)}function Tt(Xe){return Xe.isRect=Xe.length===5&&Xe[0][0]===Xe[4][0]&&Xe[0][1]===Xe[4][1]&&Xe[0][0]===Xe[1][0]&&Xe[2][0]===Xe[3][0]&&Xe[0][1]===Xe[3][1]&&Xe[1][1]===Xe[2][1]||Xe[0][1]===Xe[1][1]&&Xe[2][1]===Xe[3][1]&&Xe[0][0]===Xe[3][0]&&Xe[1][0]===Xe[2][0],Xe.isRect&&(Xe.xmin=Math.min(Xe[0][0],Xe[2][0]),Xe.xmax=Math.max(Xe[0][0],Xe[2][0]),Xe.ymin=Math.min(Xe[0][1],Xe[2][1]),Xe.ymax=Math.max(Xe[0][1],Xe[2][1])),Xe}function Ct(Xe){return function(Oe,ke){for(var Ke,Ie,pe=0;pe<Xe.length;pe++){var Te=Xe[pe],Ue=Te._id,et=Ue.charAt(0);if(ke.isRect){Ke||(Ke={});var st=ke[et+"min"],lt=ke[et+"max"];st!==void 0&&lt!==void 0&&(Ke[Ue]=[O(Te,st),O(Te,lt)].sort(E))}else Ie||(Ie={}),Ie[Ue]=ke.map(V(Te))}Ke&&(Oe.range=Ke),Ie&&(Oe.lassoPoints=Ie)}}function at(Xe){var Oe=Xe.plotinfo;return Oe.fillRangeItems||Ct(Xe.xaxes.concat(Xe.yaxes))}function ze(Xe,Oe){Xe.emit("plotly_selecting",Oe)}function je(Xe,Oe){Oe&&(Oe.selections=(Xe.layout||{}).selections||[]),Xe.emit("plotly_selected",Oe)}function Je(Xe){Xe.emit("plotly_deselect",null)}H.exports={reselect:Fe,prepSelect:ne,clearOutline:T,clearSelectionsCache:j,selectOnClick:q}},46056:function(H,U,e){var d=e(13916),C=e(25376),n=e(52904).line,L=e(98192).u,w=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var g=e(45464),r=e(21776).ye,t=e(97728);H.exports=v("shape",{visible:w({},g.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:w({},g.legend,{editType:"calc+arraydraw"}),legendgroup:w({},g.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:w({},g.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:C({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:w({},g.legendrank,{editType:"calc+arraydraw"}),legendwidth:w({},g.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:w({},d.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:w({},d.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:w({},n.color,{editType:"arraydraw"}),width:w({},n.width,{editType:"calc+arraydraw"}),dash:w({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:C({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(H,U,e){var d=e(3400),C=e(54460),n=e(85448),L=e(65152);H.exports=function(i){var a=i._fullLayout,u=d.filterVisible(a.shapes);if(!(!u.length||!i._fullData.length))for(var f=0;f<u.length;f++){var l=u[f];l._extremes={};var m,h,T=C.getRefType(l.xref),c=C.getRefType(l.yref);if(l.xref!=="paper"&&T!=="domain"){var o=l.xsizemode==="pixel"?l.xanchor:l.x0,p=l.xsizemode==="pixel"?l.xanchor:l.x1;m=C.getFromId(i,l.xref),h=r(m,o,p,l.path,n.paramIsX),h&&(l._extremes[m._id]=C.findExtremes(m,h,w(l)))}if(l.yref!=="paper"&&c!=="domain"){var x=l.ysizemode==="pixel"?l.yanchor:l.y0,A=l.ysizemode==="pixel"?l.yanchor:l.y1;m=C.getFromId(i,l.yref),h=r(m,x,A,l.path,n.paramIsY),h&&(l._extremes[m._id]=C.findExtremes(m,h,v(l)))}}};function w(t){return g(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return g(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function g(t,i,a,u,f,l){var m=t/2,h=l;if(i==="pixel"){var T=f?L.extractPathCoords(f,l?n.paramIsY:n.paramIsX):[a,u],c=d.aggNums(Math.max,null,T),o=d.aggNums(Math.min,null,T),p=o<0?Math.abs(o)+m:m,x=c>0?c+m:m;return{ppad:m,ppadplus:h?p:x,ppadminus:h?x:p}}else return{ppad:m}}function r(t,i,a,u,f){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(i!==void 0)return[l(i),l(a)];if(u){var m=1/0,h=-1/0,T=u.match(n.segmentRE),c,o,p,x,A;for(t.type==="date"&&(l=L.decodeDate(l)),c=0;c<T.length;c++)o=T[c],p=f[o.charAt(0)].drawn,p!==void 0&&(x=T[c].substr(1).match(n.paramRE),!(!x||x.length<p)&&(A=l(x[p]),A<m&&(m=A),A>h&&(h=A)));if(h>=m)return[m,h]}}},85448:function(H){H.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(H,U,e){var d=e(3400),C=e(54460),n=e(51272),L=e(46056),w=e(65152);H.exports=function(t,i){n(t,i,{name:"shapes",handleItemDefaults:g})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function g(r,t,i){function a(J,Z){return d.coerce(r,t,L,J,Z)}t._isShape=!0;var u=a("visible");if(u){var f=a("showlegend");f&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),d.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var l=a("path"),m=l?"path":"rect",h=a("type",m),T=h!=="path";T&&delete t.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule");var c=a("line.width");c&&(a("line.color"),a("line.dash"));for(var o=a("xsizemode"),p=a("ysizemode"),x=["x","y"],A=0;A<2;A++){var _=x[A],y=_+"anchor",E=_==="x"?o:p,M={_fullLayout:i},s,S,b,I=C.coerceRef(r,t,M,_,void 0,"paper"),D=C.getRefType(I);if(D==="range"?(s=C.getFromId(M,I),s._shapeIndices.push(t._index),b=w.rangeToShapePosition(s),S=w.shapePositionToRange(s)):S=b=d.identity,T){var B=.25,k=.75,F=_+"0",N=_+"1",O=r[F],V=r[N];r[F]=S(r[F],!0),r[N]=S(r[N],!0),E==="pixel"?(a(F,0),a(N,10)):(C.coercePosition(t,M,a,I,F,B),C.coercePosition(t,M,a,I,N,k)),t[F]=b(t[F]),t[N]=b(t[N]),r[F]=O,r[N]=V}if(E==="pixel"){var X=r[y];r[y]=S(r[y],!0),C.coercePosition(t,M,a,I,y,.25),t[y]=b(t[y]),r[y]=X}}T&&d.noneOrAll(r,t,["x0","x1","y0","y1"]);var ee=h==="line",ne,q;if(T&&(ne=a("label.texttemplate")),ne||(q=a("label.text")),q||ne){a("label.textangle");var se=a("label.textposition",ee?"middle":"middle center");a("label.xanchor"),a("label.yanchor",v(ee,se)),a("label.padding"),d.coerceFont(a,"label.font",i.font)}}}},60728:function(H,U,e){var d=e(3400),C=e(54460),n=e(72736),L=e(43616),w=e(9856).readPaths,v=e(65152),g=v.getPathString,r=e(97728),t=e(84284).FROM_TL;H.exports=function(f,l,m,h){if(h.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var T;if(m.label.texttemplate){var c={};if(m.type!=="path"){var o=C.getFromId(f,m.xref),p=C.getFromId(f,m.yref);for(var x in r){var A=r[x](m,o,p);A!==void 0&&(c[x]=A)}}T=d.texttemplateStringForShapes(m.label.texttemplate,{},f._fullLayout._d3locale,c)}else T=m.label.text;var _={"data-index":l},y=m.label.font,E={"data-notex":1},M=h.append("g").attr(_).classed("shape-label",!0),s=M.append("text").attr(E).classed("shape-label-text",!0).text(T),S,b,I,D;if(m.path){var B=g(f,m),k=w(B,f);S=1/0,I=1/0,b=-1/0,D=-1/0;for(var F=0;F<k.length;F++)for(var N=0;N<k[F].length;N++)for(var O=k[F][N],V=1;V<O.length;V+=2){var X=O[V],ee=O[V+1];S=Math.min(S,X),b=Math.max(b,X),I=Math.min(I,ee),D=Math.max(D,ee)}}else{var ne=C.getFromId(f,m.xref),q=C.getRefType(m.xref),se=C.getFromId(f,m.yref),J=C.getRefType(m.yref),Z=v.getDataToPixel(f,ne,!1,q),te=v.getDataToPixel(f,se,!0,J);S=Z(m.x0),b=Z(m.x1),I=te(m.y0),D=te(m.y1)}var Y=m.label.textangle;Y==="auto"&&(m.type==="line"?Y=i(S,I,b,D):Y=0),s.call(function(ae){return ae.call(L.font,y).attr({}),n.convertToTspans(ae,f),ae});var ie=L.bBox(s.node()),le=a(S,I,b,D,m,Y,ie),j=le.textx,K=le.texty,ue=le.xanchor;s.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ue],y:K,x:j,transform:"rotate("+Y+","+j+","+K+")"}).call(n.positionText,j,K)}};function i(u,f,l,m){var h,T;return T=Math.abs(l-u),l>=u?h=f-m:h=m-f,-180/Math.PI*Math.atan2(h,T)}function a(u,f,l,m,h,T,c){var o=h.label.textposition,p=h.label.textangle,x=h.label.padding,A=h.type,_=Math.PI/180*T,y=Math.sin(_),E=Math.cos(_),M=h.label.xanchor,s=h.label.yanchor,S,b,I,D;if(A==="line"){o==="start"?(S=u,b=f):o==="end"?(S=l,b=m):(S=(u+l)/2,b=(f+m)/2),M==="auto"&&(o==="start"?p==="auto"?l>u?M="left":l<u?M="right":M="center":l>u?M="right":l<u?M="left":M="center":o==="end"?p==="auto"?l>u?M="right":l<u?M="left":M="center":l>u?M="left":l<u?M="right":M="center":M="center");var B={left:1,center:0,right:-1},k={bottom:-1,middle:0,top:1};if(p==="auto"){var F=k[s];I=-x*y*F,D=x*E*F}else{var N=B[M],O=k[s];I=x*N,D=x*O}S=S+I,b=b+D}else I=x+3,o.indexOf("right")!==-1?(S=Math.max(u,l)-I,M==="auto"&&(M="right")):o.indexOf("left")!==-1?(S=Math.min(u,l)+I,M==="auto"&&(M="left")):(S=(u+l)/2,M==="auto"&&(M="center")),o.indexOf("top")!==-1?b=Math.min(f,m):o.indexOf("bottom")!==-1?b=Math.max(f,m):b=(f+m)/2,D=x,s==="bottom"?b=b-D:s==="top"&&(b=b+D);var V=t[s],X=h.label.font.size,ee=c.height,ne=(ee*V-X)*y,q=-(ee*V-X)*E;return{textx:S+ne,texty:b+q,xanchor:M}}},55496:function(H,U,e){var d=e(3400),C=d.strTranslate,n=e(86476),L=e(72760),w=L.drawMode,v=L.selectMode,g=e(24040),r=e(76308),t=e(7e3),i=t.i000,a=t.i090,u=t.i180,f=t.i270,l=e(1936),m=l.clearOutlineControllers,h=e(9856),T=h.pointsOnRectangle,c=h.pointsOnEllipse,o=h.writePaths,p=e(93940).newShapes,x=e(93940).createShapeObj,A=e(5968),_=e(60728);H.exports=function s(S,b,I,D){D||(D=0);var B=I.gd;function k(){s(S,b,I,D++),(c(S[0])||I.hasText)&&F({redrawing:!0})}function F(be){var Pe={};I.isActiveShape!==void 0&&(I.isActiveShape=!1,Pe=p(b,I)),I.isActiveSelection!==void 0&&(I.isActiveSelection=!1,Pe=A(b,I),B._fullLayout._reselect=!0),Object.keys(Pe).length&&g.call((be||{}).redrawing?"relayout":"_guiRelayout",B,Pe)}var N=B._fullLayout,O=N._zoomlayer,V=I.dragmode,X=w(V),ee=v(V);(X||ee)&&(B._fullLayout._outlining=!0),m(B),b.attr("d",o(S));var ne,q,se,J,Z;if(!D&&(I.isActiveShape||I.isActiveSelection)){Z=y([],S);var te=O.append("g").attr("class","outline-controllers");he(te),Ce()}if(X&&I.hasText){var Y=O.select(".label-temp"),ie=x(b,I,I.dragmode);_(B,"label-temp",ie,Y)}function le(be){se=+be.srcElement.getAttribute("data-i"),J=+be.srcElement.getAttribute("data-j"),ne[se][J].moveFn=j}function j(be,Pe){if(S.length){var Ve=Z[se][J][1],Ge=Z[se][J][2],Fe=S[se],He=Fe.length;if(T(Fe)){var ft=be,gt=Pe;if(I.isActiveSelection){var ct=E(Fe,J);ct[1]===Fe[J][1]?gt=0:ft=0}for(var nt=0;nt<He;nt++)if(nt!==J){var dt=Fe[nt];dt[1]===Fe[J][1]&&(dt[1]=Ve+ft),dt[2]===Fe[J][2]&&(dt[2]=Ge+gt)}if(Fe[J][1]=Ve+ft,Fe[J][2]=Ge+gt,!T(Fe))for(var pt=0;pt<He;pt++)for(var wt=0;wt<Fe[pt].length;wt++)Fe[pt][wt]=Z[se][pt][wt]}else Fe[J][1]=Ve+be,Fe[J][2]=Ge+Pe;k()}}function K(){F()}function ue(){if(S.length&&S[se]&&S[se].length){for(var be=[],Pe=0;Pe<S[se].length;Pe++)Pe!==J&&be.push(S[se][Pe]);be.length>1&&!(be.length===2&&be[1][0]==="Z")&&(J===0&&(be[0][0]="M"),S[se]=be,k(),F())}}function ae(be,Pe){if(be===2){se=+Pe.srcElement.getAttribute("data-i"),J=+Pe.srcElement.getAttribute("data-j");var Ve=S[se];!T(Ve)&&!c(Ve)&&ue()}}function he(be){ne=[];for(var Pe=0;Pe<S.length;Pe++){var Ve=S[Pe],Ge=T(Ve),Fe=!Ge&&c(Ve);ne[Pe]=[];for(var He=Ve.length,ft=0;ft<He;ft++)if(Ve[ft][0]!=="Z"&&!(Fe&&ft!==i&&ft!==a&&ft!==u&&ft!==f)){var gt=Ge&&I.isActiveSelection,ct;gt&&(ct=E(Ve,ft));var nt=Ve[ft][1],dt=Ve[ft][2],pt=be.append(gt?"rect":"circle").attr("data-i",Pe).attr("data-j",ft).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(gt){var wt=ct[1]-nt,Tt=ct[2]-dt,Ct=Tt?5:Math.max(Math.min(25,Math.abs(wt)-5),5),at=wt?5:Math.max(Math.min(25,Math.abs(Tt)-5),5);pt.classed(Tt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ct).attr("height",at).attr("x",nt-Ct/2).attr("y",dt-at/2).attr("transform",C(wt/2,Tt/2))}else pt.classed("cursor-grab",!0).attr("r",5).attr("cx",nt).attr("cy",dt);ne[Pe][ft]={element:pt.node(),gd:B,prepFn:le,doneFn:K,clickFn:ae},n.init(ne[Pe][ft])}}}function xe(be,Pe){if(S.length)for(var Ve=0;Ve<S.length;Ve++)for(var Ge=0;Ge<S[Ve].length;Ge++)for(var Fe=0;Fe+2<S[Ve][Ge].length;Fe+=2)S[Ve][Ge][Fe+1]=Z[Ve][Ge][Fe+1]+be,S[Ve][Ge][Fe+2]=Z[Ve][Ge][Fe+2]+Pe}function Se(be,Pe){xe(be,Pe),k()}function Ae(be){se=+be.srcElement.getAttribute("data-i"),se||(se=0),q[se].moveFn=Se}function De(){F()}function we(be){be===2&&M(B)}function Ce(){if(q=[],!!S.length){var be=0;q[be]={element:b[0][0],gd:B,prepFn:Ae,doneFn:De,clickFn:we},n.init(q[be])}}};function y(s,S){for(var b=0;b<S.length;b++){var I=S[b];s[b]=[];for(var D=0;D<I.length;D++){s[b][D]=[];for(var B=0;B<I[D].length;B++)s[b][D][B]=I[D][B]}}return s}function E(s,S){var b=s[S][1],I=s[S][2],D=s.length,B,k,F;return B=(S+1)%D,k=s[B][1],F=s[B][2],k===b&&F===I&&(B=(S+2)%D,k=s[B][1],F=s[B][2]),[B,k,F]}function M(s){if(v(s._fullLayout.dragmode)){m(s);var S=s._fullLayout._activeSelectionIndex,b=(s.layout||{}).selections||[];if(S<b.length){for(var I=[],D=0;D<b.length;D++)D!==S&&I.push(b[D]);delete s._fullLayout._activeSelectionIndex;var B=s._fullLayout.selections[S];s._fullLayout._deselect={xref:B.xref,yref:B.yref},g.call("_guiRelayout",s,{selections:I})}}}},4016:function(H,U,e){var d=e(33428),C=e(24040),n=e(3400),L=e(54460),w=e(9856).readPaths,v=e(55496),g=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),i=e(43616),a=e(31780).arrayEditor,u=e(86476),f=e(93972),l=e(85448),m=e(65152),h=m.getPathString;H.exports={draw:T,drawOne:p,eraseActiveShape:M,drawLabel:g};function T(s){var S=s._fullLayout;S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove();for(var b in S._plots){var I=S._plots[b].shapelayer;I&&(I.selectAll("path").remove(),I.selectAll("text").remove())}for(var D=0;D<S.shapes.length;D++)S.shapes[D].visible===!0&&p(s,D)}function c(s){return!!s._fullLayout._outlining}function o(s){return!s._context.edits.shapePosition}function p(s,S){s._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var b=m.makeShapesOptionsAndPlotinfo(s,S),I=b.options,D=b.plotinfo;if(!I._input||I.visible!==!0)return;if(I.layer==="above")k(s._fullLayout._shapeUpperLayer);else if(I.xref==="paper"||I.yref==="paper")k(s._fullLayout._shapeLowerLayer);else if(I.layer==="between")k(D.shapelayerBetween);else if(D._hadPlotinfo){var B=D.mainplotinfo||D;k(B.shapelayer)}else k(s._fullLayout._shapeLowerLayer);function k(F){var N=h(s,I),O={"data-index":S,"fill-rule":I.fillrule,d:N},V=I.opacity,X=I.fillcolor,ee=I.line.width?I.line.color:"rgba(0,0,0,0)",ne=I.line.width,q=I.line.dash;!ne&&I.editable===!0&&(ne=5,q="solid");var se=N[N.length-1]!=="Z",J=o(s)&&I.editable&&s._fullLayout._activeShapeIndex===S;J&&(X=se?"rgba(0,0,0,0)":s._fullLayout.activeshape.fillcolor,V=s._fullLayout.activeshape.opacity);var Z=F.append("g").classed("shape-group",!0).attr({"data-index":S}),te=Z.append("path").attr(O).style("opacity",V).call(t.stroke,ee).call(t.fill,X).call(i.dashLine,q,ne);x(Z,s,I),g(s,S,I,Z);var Y;if((J||s._context.edits.shapePosition)&&(Y=a(s.layout,"shapes",I)),J){te.style({cursor:"move"});var ie={element:te.node(),plotinfo:D,gd:s,editHelpers:Y,hasText:I.label.text||I.label.texttemplate,isActiveShape:!0},le=w(N,s);v(le,te,ie)}else s._context.edits.shapePosition?A(s,te,I,S,F,Y):I.editable===!0&&te.style("pointer-events",se||t.opacity(X)*V<=.5?"stroke":"all");te.node().addEventListener("click",function(){return y(s,te)})}}function x(s,S,b){var I=(b.xref+b.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");i.setClipUrl(s,I?"clip"+S._fullLayout._uid+I:null,S)}function A(s,S,b,I,D,B){var k=10,F=10,N=b.xsizemode==="pixel",O=b.ysizemode==="pixel",V=b.type==="line",X=b.type==="path",ee=B.modifyItem,ne,q,se,J,Z,te,Y,ie,le,j,K,ue,ae,he,xe,Se=d.select(S.node().parentNode),Ae=L.getFromId(s,b.xref),De=L.getRefType(b.xref),we=L.getFromId(s,b.yref),Ce=L.getRefType(b.yref),be=m.getDataToPixel(s,Ae,!1,De),Pe=m.getDataToPixel(s,we,!0,Ce),Ve=m.getPixelToData(s,Ae,!1,De),Ge=m.getPixelToData(s,we,!0,Ce),Fe=gt(),He={element:Fe.node(),gd:s,prepFn:dt,doneFn:pt,clickFn:wt},ft;u.init(He),Fe.node().onmousemove=nt;function gt(){return V?ct():S}function ct(){var Je=10,Xe=Math.max(b.line.width,Je),Oe=D.append("g").attr("data-index",I).attr("drag-helper",!0);Oe.append("path").attr("d",S.attr("d")).style({cursor:"move","stroke-width":Xe,"stroke-opacity":"0"});var ke={"fill-opacity":"0"},Ke=Math.max(Xe/2,Je);return Oe.append("circle").attr({"data-line-point":"start-point",cx:N?be(b.xanchor)+b.x0:be(b.x0),cy:O?Pe(b.yanchor)-b.y0:Pe(b.y0),r:Ke}).style(ke).classed("cursor-grab",!0),Oe.append("circle").attr({"data-line-point":"end-point",cx:N?be(b.xanchor)+b.x1:be(b.x1),cy:O?Pe(b.yanchor)-b.y1:Pe(b.y1),r:Ke}).style(ke).classed("cursor-grab",!0),Oe}function nt(Je){if(c(s)){ft=null;return}if(V)Je.target.tagName==="path"?ft="move":ft=Je.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Xe=He.element.getBoundingClientRect(),Oe=Xe.right-Xe.left,ke=Xe.bottom-Xe.top,Ke=Je.clientX-Xe.left,Ie=Je.clientY-Xe.top,pe=!X&&Oe>k&&ke>F&&!Je.shiftKey?u.getCursor(Ke/Oe,1-Ie/ke):"move";f(S,pe),ft=pe.split("-")[0]}}function dt(Je){c(s)||(N&&(Z=be(b.xanchor)),O&&(te=Pe(b.yanchor)),b.type==="path"?xe=b.path:(ne=N?b.x0:be(b.x0),q=O?b.y0:Pe(b.y0),se=N?b.x1:be(b.x1),J=O?b.y1:Pe(b.y1)),ne<se?(le=ne,ae="x0",j=se,he="x1"):(le=se,ae="x1",j=ne,he="x0"),!O&&q<J||O&&q>J?(Y=q,K="y0",ie=J,ue="y1"):(Y=J,K="y1",ie=q,ue="y0"),nt(Je),at(D,b),je(S,b,s),He.moveFn=ft==="move"?Tt:Ct,He.altKey=Je.altKey)}function pt(){c(s)||(f(S),ze(D),x(S,s,b),C.call("_guiRelayout",s,B.getUpdateObj()))}function wt(){c(s)||ze(D)}function Tt(Je,Xe){if(b.type==="path"){var Oe=function(Ie){return Ie},ke=Oe,Ke=Oe;N?ee("xanchor",b.xanchor=Ve(Z+Je)):(ke=function(pe){return Ve(be(pe)+Je)},Ae&&Ae.type==="date"&&(ke=m.encodeDate(ke))),O?ee("yanchor",b.yanchor=Ge(te+Xe)):(Ke=function(pe){return Ge(Pe(pe)+Xe)},we&&we.type==="date"&&(Ke=m.encodeDate(Ke))),ee("path",b.path=_(xe,ke,Ke))}else N?ee("xanchor",b.xanchor=Ve(Z+Je)):(ee("x0",b.x0=Ve(ne+Je)),ee("x1",b.x1=Ve(se+Je))),O?ee("yanchor",b.yanchor=Ge(te+Xe)):(ee("y0",b.y0=Ge(q+Xe)),ee("y1",b.y1=Ge(J+Xe)));S.attr("d",h(s,b)),at(D,b),g(s,I,b,Se)}function Ct(Je,Xe){if(X){var Oe=function(xt){return xt},ke=Oe,Ke=Oe;N?ee("xanchor",b.xanchor=Ve(Z+Je)):(ke=function(qt){return Ve(be(qt)+Je)},Ae&&Ae.type==="date"&&(ke=m.encodeDate(ke))),O?ee("yanchor",b.yanchor=Ge(te+Xe)):(Ke=function(qt){return Ge(Pe(qt)+Xe)},we&&we.type==="date"&&(Ke=m.encodeDate(Ke))),ee("path",b.path=_(xe,ke,Ke))}else if(V){if(ft==="resize-over-start-point"){var Ie=ne+Je,pe=O?q-Xe:q+Xe;ee("x0",b.x0=N?Ie:Ve(Ie)),ee("y0",b.y0=O?pe:Ge(pe))}else if(ft==="resize-over-end-point"){var Te=se+Je,Ue=O?J-Xe:J+Xe;ee("x1",b.x1=N?Te:Ve(Te)),ee("y1",b.y1=O?Ue:Ge(Ue))}}else{var et=function(xt){return ft.indexOf(xt)!==-1},st=et("n"),lt=et("s"),jt=et("w"),Jt=et("e"),St=st?Y+Xe:Y,Rt=lt?ie+Xe:ie,$t=jt?le+Je:le,Pr=Jt?j+Je:j;O&&(st&&(St=Y-Xe),lt&&(Rt=ie-Xe)),(!O&&Rt-St>F||O&&St-Rt>F)&&(ee(K,b[K]=O?St:Ge(St)),ee(ue,b[ue]=O?Rt:Ge(Rt))),Pr-$t>k&&(ee(ae,b[ae]=N?$t:Ve($t)),ee(he,b[he]=N?Pr:Ve(Pr)))}S.attr("d",h(s,b)),at(D,b),g(s,I,b,Se)}function at(Je,Xe){(N||O)&&Oe();function Oe(){var ke=Xe.type!=="path",Ke=Je.selectAll(".visual-cue").data([0]),Ie=1;Ke.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ie}).classed("visual-cue",!0);var pe=be(N?Xe.xanchor:n.midRange(ke?[Xe.x0,Xe.x1]:m.extractPathCoords(Xe.path,l.paramIsX))),Te=Pe(O?Xe.yanchor:n.midRange(ke?[Xe.y0,Xe.y1]:m.extractPathCoords(Xe.path,l.paramIsY)));if(pe=m.roundPositionForSharpStrokeRendering(pe,Ie),Te=m.roundPositionForSharpStrokeRendering(Te,Ie),N&&O){var Ue="M"+(pe-1-Ie)+","+(Te-1-Ie)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ke.attr("d",Ue)}else if(N){var et="M"+(pe-1-Ie)+","+(Te-9-Ie)+"v18 h2 v-18 Z";Ke.attr("d",et)}else{var st="M"+(pe-9-Ie)+","+(Te-1-Ie)+"h18 v2 h-18 Z";Ke.attr("d",st)}}}function ze(Je){Je.selectAll(".visual-cue").remove()}function je(Je,Xe,Oe){var ke=Xe.xref,Ke=Xe.yref,Ie=L.getFromId(Oe,ke),pe=L.getFromId(Oe,Ke),Te="";ke!=="paper"&&!Ie.autorange&&(Te+=ke),Ke!=="paper"&&!pe.autorange&&(Te+=Ke),i.setClipUrl(Je,Te?"clip"+Oe._fullLayout._uid+Te:null,Oe)}}function _(s,S,b){return s.replace(l.segmentRE,function(I){var D=0,B=I.charAt(0),k=l.paramIsX[B],F=l.paramIsY[B],N=l.numParams[B],O=I.substr(1).replace(l.paramRE,function(V){return D>=N||(k[D]?V=S(V):F[D]&&(V=b(V)),D++),V});return B+O})}function y(s,S){if(o(s)){var b=S.node(),I=+b.getAttribute("data-index");if(I>=0){if(I===s._fullLayout._activeShapeIndex){E(s);return}s._fullLayout._activeShapeIndex=I,s._fullLayout._deactivateShape=E,T(s)}}}function E(s){if(o(s)){var S=s._fullLayout._activeShapeIndex;S>=0&&(r(s),delete s._fullLayout._activeShapeIndex,T(s))}}function M(s){if(o(s)){r(s);var S=s._fullLayout._activeShapeIndex,b=(s.layout||{}).shapes||[];if(S<b.length){for(var I=[],D=0;D<b.length;D++)D!==S&&I.push(b[D]);return delete s._fullLayout._activeShapeIndex,C.call("_guiRelayout",s,{shapes:I})}}}},92872:function(H,U,e){var d=e(67824).overrideAll,C=e(45464),n=e(25376),L=e(98192).u,w=e(92880).extendFlat,v=e(21776).ye,g=e(97728);H.exports=d({newshape:{visible:w({},C.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:w({},C.legend,{}),legendgroup:w({},C.legendgroup,{}),legendgrouptitle:{text:w({},C.legendgrouptitle.text,{}),font:n({})},legendrank:w({},C.legendrank,{}),legendwidth:w({},C.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:w({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:w({},C.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(g)}),font:n({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(H){var U=32;H.exports={CIRCLE_SIDES:U,i000:0,i090:U/4,i180:U/2,i270:U/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(H,U,e){var d=e(76308),C=e(3400);function n(L,w){return L?"bottom":w.indexOf("top")!==-1?"top":w.indexOf("bottom")!==-1?"bottom":"middle"}H.exports=function(w,v,g){g("newshape.visible"),g("newshape.name"),g("newshape.showlegend"),g("newshape.legend"),g("newshape.legendwidth"),g("newshape.legendgroup"),g("newshape.legendgrouptitle.text"),C.coerceFont(g,"newshape.legendgrouptitle.font"),g("newshape.legendrank"),g("newshape.drawdirection"),g("newshape.layer"),g("newshape.fillcolor"),g("newshape.fillrule"),g("newshape.opacity");var r=g("newshape.line.width");if(r){var t=(w||{}).plot_bgcolor||"#FFF";g("newshape.line.color",d.contrast(t)),g("newshape.line.dash")}var i=w.dragmode==="drawline",a=g("newshape.label.text"),u=g("newshape.label.texttemplate");if(a||u){g("newshape.label.textangle");var f=g("newshape.label.textposition",i?"middle":"middle center");g("newshape.label.xanchor"),g("newshape.label.yanchor",n(i,f)),g("newshape.label.padding"),C.coerceFont(g,"newshape.label.font",v.font)}g("activeshape.fillcolor"),g("activeshape.opacity")}},9856:function(H,U,e){var d=e(21984),C=e(7e3),n=C.CIRCLE_SIDES,L=C.SQRT2,w=e(5840),v=w.p2r,g=w.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];U.writePaths=function(u){var f=u.length;if(!f)return"M0,0Z";for(var l="",m=0;m<f;m++)for(var h=u[m].length,T=0;T<h;T++){var c=u[m][T][0];if(c==="Z")l+="Z";else for(var o=u[m][T].length,p=0;p<o;p++){var x=p;c==="Q"||c==="S"?x=t[p]:c==="C"&&(x=r[p]),l+=u[m][T][x],p>0&&p<o-1&&(l+=",")}}return l},U.readPaths=function(u,f,l,m){var h=d(u),T=[],c=-1,o=function(){c++,T[c]=[]},p,x=0,A=0,_,y,E=function(){_=x,y=A};E();for(var M=0;M<h.length;M++){var s=[],S,b,I,D,B=h[M][0],k=B;switch(B){case"M":o(),x=+h[M][1],A=+h[M][2],s.push([k,x,A]),E();break;case"Q":case"S":S=+h[M][1],I=+h[M][2],x=+h[M][3],A=+h[M][4],s.push([k,x,A,S,I]);break;case"C":S=+h[M][1],I=+h[M][2],b=+h[M][3],D=+h[M][4],x=+h[M][5],A=+h[M][6],s.push([k,x,A,S,I,b,D]);break;case"T":case"L":x=+h[M][1],A=+h[M][2],s.push([k,x,A]);break;case"H":k="L",x=+h[M][1],s.push([k,x,A]);break;case"V":k="L",A=+h[M][1],s.push([k,x,A]);break;case"A":k="L";var F=+h[M][1],N=+h[M][2];+h[M][4]||(F=-F,N=-N);var O=x-F,V=A;for(p=1;p<=n/2;p++){var X=2*Math.PI*p/n;s.push([k,O+F*Math.cos(X),V+N*Math.sin(X)])}break;case"Z":(x!==_||A!==y)&&(x=_,A=y,s.push([k,x,A]));break}for(var ee=(l||{}).domain,ne=f._fullLayout._size,q=l&&l.xsizemode==="pixel",se=l&&l.ysizemode==="pixel",J=m===!1,Z=0;Z<s.length;Z++){for(p=0;p+2<7;p+=2){var te=s[Z][p+1],Y=s[Z][p+2];te===void 0||Y===void 0||(x=te,A=Y,l&&(l.xaxis&&l.xaxis.p2r?(J&&(te-=l.xaxis._offset),q?te=g(l.xaxis,l.xanchor)+te:te=v(l.xaxis,te)):(J&&(te-=ne.l),ee?te=ee.x[0]+te/ne.w:te=te/ne.w),l.yaxis&&l.yaxis.p2r?(J&&(Y-=l.yaxis._offset),se?Y=g(l.yaxis,l.yanchor)-Y:Y=v(l.yaxis,Y)):(J&&(Y-=ne.t),ee?Y=ee.y[1]-Y/ne.h:Y=1-Y/ne.h)),s[Z][p+1]=te,s[Z][p+2]=Y)}T[c].push(s[Z].slice())}}return T};function i(u,f){return Math.abs(u-f)<=1e-6}function a(u,f){var l=f[1]-u[1],m=f[2]-u[2];return Math.sqrt(l*l+m*m)}U.pointsOnRectangle=function(u){var f=u.length;if(f!==5)return!1;for(var l=1;l<3;l++){var m=u[0][l]-u[1][l],h=u[3][l]-u[2][l];if(!i(m,h))return!1;var T=u[0][l]-u[3][l],c=u[1][l]-u[2][l];if(!i(T,c))return!1}return!i(u[0][1],u[1][1])&&!i(u[0][1],u[3][1])?!1:!!(a(u[0],u[1])*a(u[0],u[3]))},U.pointsOnEllipse=function(u){var f=u.length;if(f!==n+1)return!1;f=n;for(var l=0;l<f;l++){var m=(f*2-l)%f,h=(f/2+m)%f,T=(f/2+l)%f;if(!i(a(u[l],u[T]),a(u[m],u[h])))return!1}return!0},U.handleEllipse=function(u,f,l){if(!u)return[f,l];var m=U.ellipseOver({x0:f[0],y0:f[1],x1:l[0],y1:l[1]}),h=(m.x1+m.x0)/2,T=(m.y1+m.y0)/2,c=(m.x1-m.x0)/2,o=(m.y1-m.y0)/2;c||(c=o=o/L),o||(o=c=c/L);for(var p=[],x=0;x<n;x++){var A=x*2*Math.PI/n;p.push([h+c*Math.cos(A),T+o*Math.sin(A)])}return p},U.ellipseOver=function(u){var f=u.x0,l=u.y0,m=u.x1,h=u.y1,T=m-f,c=h-l;f-=T,l-=c;var o=(f+m)/2,p=(l+h)/2,x=L;return T*=x,c*=x,{x0:o-T,y0:p-c,x1:o+T,y1:p+c}},U.fixDatesForPaths=function(u,f,l){var m=f.type==="date",h=l.type==="date";if(!m&&!h)return u;for(var T=0;T<u.length;T++)for(var c=0;c<u[T].length;c++)for(var o=0;o+2<u[T][c].length;o+=2)m&&(u[T][c][o+1]=u[T][c][o+1].replace(" ","_")),h&&(u[T][c][o+2]=u[T][c][o+2].replace(" ","_"));return u}},93940:function(H,U,e){var d=e(72760),C=d.drawMode,n=d.openMode,L=e(7e3),w=L.i000,v=L.i090,g=L.i180,r=L.i270,t=L.cos45,i=L.sin45,a=e(5840),u=a.p2r,f=a.r2p,l=e(1936),m=l.clearOutline,h=e(9856),T=h.readPaths,c=h.writePaths,o=h.ellipseOver,p=h.fixDatesForPaths;function x(_,y){if(_.length){var E=_[0][0];if(E){var M=y.gd,s=y.isActiveShape,S=y.dragmode,b=(M.layout||{}).shapes||[];if(!C(S)&&s!==void 0){var I=M._fullLayout._activeShapeIndex;if(I<b.length)switch(M._fullLayout.shapes[I].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var D=b[I].path||"";D[D.length-1]==="Z"?S="drawclosedpath":S="drawopenpath";break}}var B=A(_,y,S);m(M);for(var k=y.editHelpers,F=(k||{}).modifyItem,N=[],O=0;O<b.length;O++){var V=M._fullLayout.shapes[O];if(N[O]=V._input,s!==void 0&&O===M._fullLayout._activeShapeIndex){var X=B;switch(V.type){case"line":case"rect":case"circle":F("x0",X.x0),F("x1",X.x1),F("y0",X.y0),F("y1",X.y1);break;case"path":F("path",X.path);break}}}return s===void 0?(N.push(B),N):k?k.getUpdateObj():{}}}}function A(_,y,E){var M=_[0][0],s=y.gd,S=M.getAttribute("d"),b=s._fullLayout.newshape,I=y.plotinfo,D=y.isActiveShape,B=I.xaxis,k=I.yaxis,F=!!I.domain||!I.xaxis,N=!!I.domain||!I.yaxis,O=n(E),V=T(S,s,I,D),X={editable:!0,visible:b.visible,name:b.name,showlegend:b.showlegend,legend:b.legend,legendwidth:b.legendwidth,legendgroup:b.legendgroup,legendgrouptitle:{text:b.legendgrouptitle.text,font:b.legendgrouptitle.font},legendrank:b.legendrank,label:b.label,xref:F?"paper":B._id,yref:N?"paper":k._id,layer:b.layer,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};O||(X.fillcolor=b.fillcolor,X.fillrule=b.fillrule);var ee;if(V.length===1&&(ee=V[0]),ee&&ee.length===5&&E==="drawrect")X.type="rect",X.x0=ee[0][1],X.y0=ee[0][2],X.x1=ee[2][1],X.y1=ee[2][2];else if(ee&&E==="drawline")X.type="line",X.x0=ee[0][1],X.y0=ee[0][2],X.x1=ee[1][1],X.y1=ee[1][2];else if(ee&&E==="drawcircle"){X.type="circle";var ne=ee[w][1],q=ee[v][1],se=ee[g][1],J=ee[r][1],Z=ee[w][2],te=ee[v][2],Y=ee[g][2],ie=ee[r][2],le=I.xaxis&&(I.xaxis.type==="date"||I.xaxis.type==="log"),j=I.yaxis&&(I.yaxis.type==="date"||I.yaxis.type==="log");le&&(ne=f(I.xaxis,ne),q=f(I.xaxis,q),se=f(I.xaxis,se),J=f(I.xaxis,J)),j&&(Z=f(I.yaxis,Z),te=f(I.yaxis,te),Y=f(I.yaxis,Y),ie=f(I.yaxis,ie));var K=(q+J)/2,ue=(Z+Y)/2,ae=(J-q+se-ne)/2,he=(ie-te+Y-Z)/2,xe=o({x0:K,y0:ue,x1:K+ae*t,y1:ue+he*i});le&&(xe.x0=u(I.xaxis,xe.x0),xe.x1=u(I.xaxis,xe.x1)),j&&(xe.y0=u(I.yaxis,xe.y0),xe.y1=u(I.yaxis,xe.y1)),X.x0=xe.x0,X.y0=xe.y0,X.x1=xe.x1,X.y1=xe.y1}else X.type="path",B&&k&&p(V,B,k),X.path=c(V),ee=null;return X}H.exports={newShapes:x,createShapeObj:A}},1936:function(H){function U(d){var C=d._fullLayout._zoomlayer;C&&C.selectAll(".outline-controllers").remove()}function e(d){var C=d._fullLayout._zoomlayer;C&&C.selectAll(".select-outline").remove(),d._fullLayout._outlining=!1}H.exports={clearOutlineControllers:U,clearOutline:e}},65152:function(H,U,e){var d=e(85448),C=e(3400),n=e(54460);U.rangeToShapePosition=function(w){return w.type==="log"?w.r2d:function(v){return v}},U.shapePositionToRange=function(w){return w.type==="log"?w.d2r:function(v){return v}},U.decodeDate=function(w){return function(v){return v.replace&&(v=v.replace("_"," ")),w(v)}},U.encodeDate=function(w){return function(v){return w(v).replace(" ","_")}},U.extractPathCoords=function(w,v,g){var r=[],t=w.match(d.segmentRE);return t.forEach(function(i){var a=v[i.charAt(0)].drawn;if(a!==void 0){var u=i.substr(1).match(d.paramRE);if(!(!u||u.length<a)){var f=u[a],l=g?f:C.cleanNumber(f);r.push(l)}}}),r},U.getDataToPixel=function(w,v,g,r){var t=w._fullLayout._size,i;if(v)if(r==="domain")i=function(u){return v._length*(g?1-u:u)+v._offset};else{var a=U.shapePositionToRange(v);i=function(u){return v._offset+v.r2p(a(u,!0))},v.type==="date"&&(i=U.decodeDate(i))}else g?i=function(u){return t.t+t.h*(1-u)}:i=function(u){return t.l+t.w*u};return i},U.getPixelToData=function(w,v,g,r){var t=w._fullLayout._size,i;if(v)if(r==="domain")i=function(u){var f=(u-v._offset)/v._length;return g?1-f:f};else{var a=U.rangeToShapePosition(v);i=function(u){return a(v.p2r(u-v._offset))}}else g?i=function(u){return 1-(u-t.t)/t.h}:i=function(u){return(u-t.l)/t.w};return i},U.roundPositionForSharpStrokeRendering=function(w,v){var g=Math.round(v%2)===1,r=Math.round(w);return g?r+.5:r},U.makeShapesOptionsAndPlotinfo=function(w,v){var g=w._fullLayout.shapes[v]||{},r=w._fullLayout._plots[g.xref+g.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},g.xref&&g.xref!=="paper"&&(r.xaxis=w._fullLayout[g.xref+"axis"]),g.yref&&g.yref!=="paper"&&(r.yaxis=w._fullLayout[g.yref+"axis"])),r.xsizemode=g.xsizemode,r.ysizemode=g.ysizemode,r.xanchor=g.xanchor,r.yanchor=g.yanchor,{options:g,plotinfo:r}},U.makeSelectionsOptionsAndPlotinfo=function(w,v){var g=w._fullLayout.selections[v]||{},r=w._fullLayout._plots[g.xref+g.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},g.xref&&(r.xaxis=w._fullLayout[g.xref+"axis"]),g.yref&&(r.yaxis=w._fullLayout[g.yref+"axis"])),{options:g,plotinfo:r}},U.getPathString=function(w,v){var g=v.type,r=n.getRefType(v.xref),t=n.getRefType(v.yref),i=n.getFromId(w,v.xref),a=n.getFromId(w,v.yref),u=w._fullLayout._size,f,l,m,h,T,c,o,p;if(i?r==="domain"?l=function(I){return i._offset+i._length*I}:(f=U.shapePositionToRange(i),l=function(I){return i._offset+i.r2p(f(I,!0))}):l=function(I){return u.l+u.w*I},a?t==="domain"?h=function(I){return a._offset+a._length*(1-I)}:(m=U.shapePositionToRange(a),h=function(I){return a._offset+a.r2p(m(I,!0))}):h=function(I){return u.t+u.h*(1-I)},g==="path")return i&&i.type==="date"&&(l=U.decodeDate(l)),a&&a.type==="date"&&(h=U.decodeDate(h)),L(v,l,h);if(v.xsizemode==="pixel"){var x=l(v.xanchor);T=x+v.x0,c=x+v.x1}else T=l(v.x0),c=l(v.x1);if(v.ysizemode==="pixel"){var A=h(v.yanchor);o=A-v.y0,p=A-v.y1}else o=h(v.y0),p=h(v.y1);if(g==="line")return"M"+T+","+o+"L"+c+","+p;if(g==="rect")return"M"+T+","+o+"H"+c+"V"+p+"H"+T+"Z";var _=(T+c)/2,y=(o+p)/2,E=Math.abs(_-T),M=Math.abs(y-o),s="A"+E+","+M,S=_+E+","+y,b=_+","+(y-M);return"M"+S+s+" 0 1,1 "+b+s+" 0 0,1 "+S+"Z"};function L(w,v,g){var r=w.path,t=w.xsizemode,i=w.ysizemode,a=w.xanchor,u=w.yanchor;return r.replace(d.segmentRE,function(f){var l=0,m=f.charAt(0),h=d.paramIsX[m],T=d.paramIsY[m],c=d.numParams[m],o=f.substr(1).replace(d.paramRE,function(p){return h[l]?t==="pixel"?p=v(a)+Number(p):p=v(p):T[l]&&(i==="pixel"?p=g(u)-Number(p):p=g(p)),l++,l>c&&(p="X"),p});return l>c&&(o=o.replace(/[\s,]*X.*/,""),C.log("Ignoring extra params in segment "+f)),m+o})}},41592:function(H,U,e){var d=e(4016);H.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:d.draw,drawOne:d.drawOne}},97728:function(H){function U(f,l){return l?l.d2l(f):f}function e(f,l){return l?l.l2d(f):f}function d(f){return f.x0}function C(f){return f.x1}function n(f){return f.y0}function L(f){return f.y1}function w(f,l){return U(f.x1,l)-U(f.x0,l)}function v(f,l,m){return U(f.y1,m)-U(f.y0,m)}function g(f,l){return Math.abs(w(f,l))}function r(f,l,m){return Math.abs(v(f,l,m))}function t(f,l,m){return f.type!=="line"?void 0:Math.sqrt(Math.pow(w(f,l),2)+Math.pow(v(f,l,m),2))}function i(f,l){return e((U(f.x1,l)+U(f.x0,l))/2,l)}function a(f,l,m){return e((U(f.y1,m)+U(f.y0,m))/2,m)}function u(f,l,m){return f.type!=="line"?void 0:v(f,l,m)/w(f,l)}H.exports={x0:d,x1:C,y0:n,y1:L,slope:u,dx:w,dy:v,width:g,height:r,length:t,xcenter:i,ycenter:a}},89861:function(H,U,e){var d=e(25376),C=e(66741),n=e(92880).extendDeepAll,L=e(67824).overrideAll,w=e(85656),v=e(31780).templatedArray,g=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});H.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(C({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:w.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:d({})},font:d({}),activebgcolor:{valType:"color",dflt:g.gripBgActiveColor},bgcolor:{valType:"color",dflt:g.railBgColor},bordercolor:{valType:"color",dflt:g.railBorderColor},borderwidth:{valType:"number",min:0,dflt:g.railBorderWidth},ticklen:{valType:"number",min:0,dflt:g.tickLength},tickcolor:{valType:"color",dflt:g.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:g.minorTickLength}}),"arraydraw","from-root")},60876:function(H){H.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(H,U,e){var d=e(3400),C=e(51272),n=e(89861),L=e(60876),w=L.name,v=n.steps;H.exports=function(i,a){C(i,a,{name:w,handleItemDefaults:g})};function g(t,i,a){function u(p,x){return d.coerce(t,i,n,p,x)}for(var f=C(t,i,{name:"steps",handleItemDefaults:r}),l=0,m=0;m<f.length;m++)f[m].visible&&l++;var h;if(l<2?h=i.visible=!1:h=u("visible"),!!h){i._stepCount=l;var T=i._visibleSteps=d.filterVisible(f),c=u("active");(f[c]||{}).visible||(i.active=T[0]._index),u("x"),u("y"),d.noneOrAll(t,i,["x","y"]),u("xanchor"),u("yanchor"),u("len"),u("lenmode"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),d.coerceFont(u,"font",a.font);var o=u("currentvalue.visible");o&&(u("currentvalue.xanchor"),u("currentvalue.prefix"),u("currentvalue.suffix"),u("currentvalue.offset"),d.coerceFont(u,"currentvalue.font",i.font)),u("transition.duration"),u("transition.easing"),u("bgcolor"),u("activebgcolor"),u("bordercolor"),u("borderwidth"),u("ticklen"),u("tickwidth"),u("tickcolor"),u("minorticklen")}}function r(t,i){function a(l,m){return d.coerce(t,i,v,l,m)}var u;if(t.method!=="skip"&&!Array.isArray(t.args)?u=i.visible=!1:u=a("visible"),u){a("method"),a("args");var f=a("label","step-"+i._index);a("value",f),a("execute")}}},79664:function(H,U,e){var d=e(33428),C=e(7316),n=e(76308),L=e(43616),w=e(3400),v=w.strTranslate,g=e(72736),r=e(31780).arrayEditor,t=e(60876),i=e(84284),a=i.LINE_SPACING,u=i.FROM_TL,f=i.FROM_BR;H.exports=function(F){var N=F._context.staticPlot,O=F._fullLayout,V=m(O,F),X=O._infolayer.selectAll("g."+t.containerClassName).data(V.length>0?[0]:[]);X.enter().append("g").classed(t.containerClassName,!0).style("cursor",N?null:"ew-resize");function ee(J){J._commandObserver&&(J._commandObserver.remove(),delete J._commandObserver),C.autoMargin(F,l(J))}if(X.exit().each(function(){d.select(this).selectAll("g."+t.groupClassName).each(ee)}).remove(),V.length!==0){var ne=X.selectAll("g."+t.groupClassName).data(V,h);ne.enter().append("g").classed(t.groupClassName,!0),ne.exit().each(ee).remove();for(var q=0;q<V.length;q++){var se=V[q];T(F,se)}ne.each(function(J){var Z=d.select(this);s(J),C.manageCommandObserver(F,J,J._visibleSteps,function(te){var Y=Z.data()[0];Y.active!==te.index&&(Y._dragging||y(F,Z,Y,te.index,!1,!0))}),c(F,d.select(this),J)})}};function l(k){return t.autoMarginIdRoot+k._index}function m(k,F){for(var N=k[t.name],O=[],V=0;V<N.length;V++){var X=N[V];X.visible&&(X._gd=F,O.push(X))}return O}function h(k){return k._index}function T(k,F){var N=L.tester.selectAll("g."+t.labelGroupClass).data(F._visibleSteps);N.enter().append("g").classed(t.labelGroupClass,!0);var O=0,V=0;N.each(function(ie){var le=d.select(this),j=x(le,{step:ie},F),K=j.node();if(K){var ue=L.bBox(K);V=Math.max(V,ue.height),O=Math.max(O,ue.width)}}),N.remove();var X=F._dims={};X.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var ee=k._fullLayout._size;X.lx=ee.l+ee.w*F.x,X.ly=ee.t+ee.h*(1-F.y),F.lenmode==="fraction"?X.outerLength=Math.round(ee.w*F.len):X.outerLength=F.len,X.inputAreaStart=0,X.inputAreaLength=Math.round(X.outerLength-F.pad.l-F.pad.r);var ne=X.inputAreaLength-2*t.stepInset,q=ne/(F._stepCount-1),se=O+t.labelPadding;if(X.labelStride=Math.max(1,Math.ceil(se/q)),X.labelHeight=V,X.currentValueMaxWidth=0,X.currentValueHeight=0,X.currentValueTotalHeight=0,X.currentValueMaxLines=1,F.currentvalue.visible){var J=L.tester.append("g");N.each(function(ie){var le=o(J,F,ie.label),j=le.node()&&L.bBox(le.node())||{width:0,height:0},K=g.lineCount(le);X.currentValueMaxWidth=Math.max(X.currentValueMaxWidth,Math.ceil(j.width)),X.currentValueHeight=Math.max(X.currentValueHeight,Math.ceil(j.height)),X.currentValueMaxLines=Math.max(X.currentValueMaxLines,K)}),X.currentValueTotalHeight=X.currentValueHeight+F.currentvalue.offset,J.remove()}X.height=X.currentValueTotalHeight+t.tickOffset+F.ticklen+t.labelOffset+X.labelHeight+F.pad.t+F.pad.b;var Z="left";w.isRightAnchor(F)&&(X.lx-=X.outerLength,Z="right"),w.isCenterAnchor(F)&&(X.lx-=X.outerLength/2,Z="center");var te="top";w.isBottomAnchor(F)&&(X.ly-=X.height,te="bottom"),w.isMiddleAnchor(F)&&(X.ly-=X.height/2,te="middle"),X.outerLength=Math.ceil(X.outerLength),X.height=Math.ceil(X.height),X.lx=Math.round(X.lx),X.ly=Math.round(X.ly);var Y={y:F.y,b:X.height*f[te],t:X.height*u[te]};F.lenmode==="fraction"?(Y.l=0,Y.xl=F.x-F.len*u[Z],Y.r=0,Y.xr=F.x+F.len*f[Z]):(Y.x=F.x,Y.l=X.outerLength*u[Z],Y.r=X.outerLength*f[Z]),C.autoMargin(k,l(F),Y)}function c(k,F,N){(N.steps[N.active]||{}).visible||(N.active=N._visibleSteps[0]._index),F.call(o,N).call(B,N).call(A,N).call(M,N).call(D,k,N).call(p,k,N);var O=N._dims;L.setTranslate(F,O.lx+N.pad.l,O.ly+N.pad.t),F.call(S,N,!1),F.call(o,N)}function o(k,F,N){if(F.currentvalue.visible){var O=F._dims,V,X;switch(F.currentvalue.xanchor){case"right":V=O.inputAreaLength-t.currentValueInset-O.currentValueMaxWidth,X="left";break;case"center":V=O.inputAreaLength*.5,X="middle";break;default:V=t.currentValueInset,X="left"}var ee=w.ensureSingle(k,"text",t.labelClass,function(te){te.attr({"text-anchor":X,"data-notex":1})}),ne=F.currentvalue.prefix?F.currentvalue.prefix:"";if(typeof N=="string")ne+=N;else{var q=F.steps[F.active].label,se=F._gd._fullLayout._meta;se&&(q=w.templateString(q,se)),ne+=q}F.currentvalue.suffix&&(ne+=F.currentvalue.suffix),ee.call(L.font,F.currentvalue.font).text(ne).call(g.convertToTspans,F._gd);var J=g.lineCount(ee),Z=(O.currentValueMaxLines+1-J)*F.currentvalue.font.size*a;return g.positionText(ee,V,Z),ee}}function p(k,F,N){var O=w.ensureSingle(k,"rect",t.gripRectClass,function(V){V.call(E,F,k,N).style("pointer-events","all")});O.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(n.stroke,N.bordercolor).call(n.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px")}function x(k,F,N){var O=w.ensureSingle(k,"text",t.labelClass,function(ee){ee.attr({"text-anchor":"middle","data-notex":1})}),V=F.step.label,X=N._gd._fullLayout._meta;return X&&(V=w.templateString(V,X)),O.call(L.font,N.font).text(V).call(g.convertToTspans,N._gd),O}function A(k,F){var N=w.ensureSingle(k,"g",t.labelsClass),O=F._dims,V=N.selectAll("g."+t.labelGroupClass).data(O.labelSteps);V.enter().append("g").classed(t.labelGroupClass,!0),V.exit().remove(),V.each(function(X){var ee=d.select(this);ee.call(x,X,F),L.setTranslate(ee,b(F,X.fraction),t.tickOffset+F.ticklen+F.font.size*a+t.labelOffset+O.currentValueTotalHeight)})}function _(k,F,N,O,V){var X=Math.round(O*(N._stepCount-1)),ee=N._visibleSteps[X]._index;ee!==N.active&&y(k,F,N,ee,!0,V)}function y(k,F,N,O,V,X){var ee=N.active;N.active=O,r(k.layout,t.name,N).applyUpdate("active",O);var ne=N.steps[N.active];F.call(S,N,X),F.call(o,N),k.emit("plotly_sliderchange",{slider:N,step:N.steps[N.active],interaction:V,previousActive:ee}),ne&&ne.method&&V&&(F._nextMethod?(F._nextMethod.step=ne,F._nextMethod.doCallback=V,F._nextMethod.doTransition=X):(F._nextMethod={step:ne,doCallback:V,doTransition:X},F._nextMethodRaf=window.requestAnimationFrame(function(){var q=F._nextMethod.step;q.method&&(q.execute&&C.executeAPICommand(k,q.method,q.args),F._nextMethod=null,F._nextMethodRaf=null)})))}function E(k,F,N){if(F._context.staticPlot)return;var O=N.node(),V=d.select(F);function X(){return N.data()[0]}function ee(){var ne=X();F.emit("plotly_sliderstart",{slider:ne});var q=N.select("."+t.gripRectClass);d.event.stopPropagation(),d.event.preventDefault(),q.call(n.fill,ne.activebgcolor);var se=I(ne,d.mouse(O)[0]);_(F,N,ne,se,!0),ne._dragging=!0;function J(){var te=X(),Y=I(te,d.mouse(O)[0]);_(F,N,te,Y,!1)}V.on("mousemove",J),V.on("touchmove",J);function Z(){var te=X();te._dragging=!1,q.call(n.fill,te.bgcolor),V.on("mouseup",null),V.on("mousemove",null),V.on("touchend",null),V.on("touchmove",null),F.emit("plotly_sliderend",{slider:te,step:te.steps[te.active]})}V.on("mouseup",Z),V.on("touchend",Z)}k.on("mousedown",ee),k.on("touchstart",ee)}function M(k,F){var N=k.selectAll("rect."+t.tickRectClass).data(F._visibleSteps),O=F._dims;N.enter().append("rect").classed(t.tickRectClass,!0),N.exit().remove(),N.attr({width:F.tickwidth+"px","shape-rendering":"crispEdges"}),N.each(function(V,X){var ee=X%O.labelStride===0,ne=d.select(this);ne.attr({height:ee?F.ticklen:F.minorticklen}).call(n.fill,F.tickcolor),L.setTranslate(ne,b(F,X/(F._stepCount-1))-.5*F.tickwidth,(ee?t.tickOffset:t.minorTickOffset)+O.currentValueTotalHeight)})}function s(k){var F=k._dims;F.labelSteps=[];for(var N=k._stepCount,O=0;O<N;O+=F.labelStride)F.labelSteps.push({fraction:O/(N-1),step:k._visibleSteps[O]})}function S(k,F,N){for(var O=k.select("rect."+t.gripRectClass),V=0,X=0;X<F._stepCount;X++)if(F._visibleSteps[X]._index===F.active){V=X;break}var ee=b(F,V/(F._stepCount-1));if(!F._invokingCommand){var ne=O;N&&F.transition.duration>0&&(ne=ne.transition().duration(F.transition.duration).ease(F.transition.easing)),ne.attr("transform",v(ee-t.gripWidth*.5,F._dims.currentValueTotalHeight))}}function b(k,F){var N=k._dims;return N.inputAreaStart+t.stepInset+(N.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,F))}function I(k,F){var N=k._dims;return Math.min(1,Math.max(0,(F-t.stepInset-N.inputAreaStart)/(N.inputAreaLength-2*t.stepInset-2*N.inputAreaStart)))}function D(k,F,N){var O=N._dims,V=w.ensureSingle(k,"rect",t.railTouchRectClass,function(X){X.call(E,F,k,N).style("pointer-events","all")});V.attr({width:O.inputAreaLength,height:Math.max(O.inputAreaWidth,t.tickOffset+N.ticklen+O.labelHeight)}).call(n.fill,N.bgcolor).attr("opacity",0),L.setTranslate(V,0,O.currentValueTotalHeight)}function B(k,F){var N=F._dims,O=N.inputAreaLength-t.railInset*2,V=w.ensureSingle(k,"rect",t.railRectClass);V.attr({width:O,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,F.bordercolor).call(n.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px"),L.setTranslate(V,t.railInset,(N.inputAreaWidth-t.railWidth)*.5+N.currentValueTotalHeight)}},97544:function(H,U,e){var d=e(60876);H.exports={moduleType:"component",name:d.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(H,U,e){var d=e(33428),C=e(38248),n=e(7316),L=e(24040),w=e(3400),v=w.strTranslate,g=e(43616),r=e(76308),t=e(72736),i=e(13448),a=e(84284).OPPOSITE_SIDE,u=/ [XY][0-9]* /;function f(l,m,h){var T=h.propContainer,c=h.propName,o=h.placeholder,p=h.traceIndex,x=h.avoid||{},A=h.attributes,_=h.transform,y=h.containerGroup,E=l._fullLayout,M=1,s=!1,S=T.title,b=(S&&S.text?S.text:"").trim(),I=S&&S.font?S.font:{},D=I.family,B=I.size,k=I.color,F=I.weight,N=I.style,O=I.variant,V;c==="title.text"?V="titleText":c.indexOf("axis")!==-1?V="axisTitleText":c.indexOf("colorbar"!==-1)&&(V="colorbarTitleText");var X=l._context.edits[V];b===""?M=0:b.replace(u," % ")===o.replace(u," % ")&&(M=.2,s=!0,X||(b="")),h._meta?b=w.templateString(b,h._meta):E._meta&&(b=w.templateString(b,E._meta));var ee=b||X,ne;y||(y=w.ensureSingle(E._infolayer,"g","g-"+m),ne=E._hColorbarMoveTitle);var q=y.selectAll("text").data(ee?[0]:[]);if(q.enter().append("text"),q.text(b).attr("class",m),q.exit().remove(),!ee)return y;function se(Y){w.syncOrAsync([J,Z],Y)}function J(Y){var ie;return!_&&ne&&(_={}),_?(ie="",_.rotate&&(ie+="rotate("+[_.rotate,A.x,A.y]+")"),(_.offset||ne)&&(ie+=v(0,(_.offset||0)-(ne||0)))):ie=null,Y.attr("transform",ie),Y.style({"font-family":D,"font-size":d.round(B,2)+"px",fill:r.rgb(k),opacity:M*r.opacity(k),"font-weight":F,"font-style":N,"font-variant":O}).attr(A).call(t.convertToTspans,l),n.previousPromises(l)}function Z(Y){var ie=d.select(Y.node().parentNode);if(x&&x.selection&&x.side&&b){ie.attr("transform",null);var le=a[x.side],j=x.side==="left"||x.side==="top"?-1:1,K=C(x.pad)?x.pad:2,ue=g.bBox(ie.node()),ae={t:0,b:0,l:0,r:0},he=l._fullLayout._reservedMargin;for(var xe in he)for(var Se in he[xe]){var Ae=he[xe][Se];ae[Se]=Math.max(ae[Se],Ae)}var De={left:ae.l,top:ae.t,right:E.width-ae.r,bottom:E.height-ae.b},we=x.maxShift||j*(De[x.side]-ue[x.side]),Ce=0;if(we<0)Ce=we;else{var be=x.offsetLeft||0,Pe=x.offsetTop||0;ue.left-=be,ue.right-=be,ue.top-=Pe,ue.bottom-=Pe,x.selection.each(function(){var Ge=g.bBox(this);w.bBoxIntersect(ue,Ge,K)&&(Ce=Math.max(Ce,j*(Ge[x.side]-ue[le])+K))}),Ce=Math.min(we,Ce),T._titleScoot=Math.abs(Ce)}if(Ce>0||we<0){var Ve={left:[-Ce,0],right:[Ce,0],top:[0,-Ce],bottom:[0,Ce]}[x.side];ie.attr("transform",v(Ve[0],Ve[1]))}}}q.call(se);function te(){M=0,s=!0,q.text(o).on("mouseover.opacity",function(){d.select(this).transition().duration(i.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){d.select(this).transition().duration(i.HIDE_PLACEHOLDER).style("opacity",0)})}return X&&(b?q.on(".opacity",null):te(),q.call(t.makeEditable,{gd:l}).on("edit",function(Y){p!==void 0?L.call("_guiRestyle",l,c,Y,p):L.call("_guiRelayout",l,c,Y)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(se)}).on("input",function(Y){this.text(Y||" ").call(t.positionText,A.x,A.y)})),q.classed("js-placeholder",s),y}H.exports={draw:f}},88444:function(H,U,e){var d=e(25376),C=e(22548),n=e(92880).extendFlat,L=e(67824).overrideAll,w=e(66741),v=e(31780).templatedArray,g=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});H.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:g,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(w({editType:"arraydraw"}),{}),font:d({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:C.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(H){H.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(H,U,e){var d=e(3400),C=e(51272),n=e(88444),L=e(73712),w=L.name,v=n.buttons;H.exports=function(i,a){var u={name:w,handleItemDefaults:g};C(i,a,u)};function g(t,i,a){function u(m,h){return d.coerce(t,i,n,m,h)}var f=C(t,i,{name:"buttons",handleItemDefaults:r}),l=u("visible",f.length>0);l&&(u("active"),u("direction"),u("type"),u("showactive"),u("x"),u("y"),d.noneOrAll(t,i,["x","y"]),u("xanchor"),u("yanchor"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),d.coerceFont(u,"font",a.font),u("bgcolor",a.paper_bgcolor),u("bordercolor"),u("borderwidth"))}function r(t,i){function a(f,l){return d.coerce(t,i,v,f,l)}var u=a("visible",t.method==="skip"||Array.isArray(t.args));u&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}},14420:function(H,U,e){var d=e(33428),C=e(7316),n=e(76308),L=e(43616),w=e(3400),v=e(72736),g=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),i=e(37400);H.exports=function(I){var D=I._fullLayout,B=w.filterVisible(D[t.name]);function k(q){C.autoMargin(I,M(q))}var F=D._menulayer.selectAll("g."+t.containerClassName).data(B.length>0?[0]:[]);if(F.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),F.exit().each(function(){d.select(this).selectAll("g."+t.headerGroupClassName).each(k)}).remove(),B.length!==0){var N=F.selectAll("g."+t.headerGroupClassName).data(B,a);N.enter().append("g").classed(t.headerGroupClassName,!0);for(var O=w.ensureSingle(F,"g",t.dropdownButtonGroupClassName,function(q){q.style("pointer-events","all")}),V=0;V<B.length;V++){var X=B[V];E(I,X)}var ee="updatemenus"+D._uid,ne=new i(I,O,ee);N.enter().size()&&(O.node().parentNode.appendChild(O.node()),O.call(S)),N.exit().each(function(q){O.call(S),k(q)}).remove(),N.each(function(q){var se=d.select(this),J=q.type==="dropdown"?O:null;C.manageCommandObserver(I,q,q.buttons,function(Z){l(I,q,q.buttons[Z.index],se,J,ne,Z.index,!0)}),q.type==="dropdown"?(m(I,se,O,ne,q),f(O,q)&&h(I,se,O,ne,q)):h(I,se,null,null,q)})}};function a(b){return b._index}function u(b){return+b.attr(t.menuIndexAttrName)==-1}function f(b,I){return+b.attr(t.menuIndexAttrName)===I._index}function l(b,I,D,B,k,F,N,O){I.active=N,g(b.layout,t.name,I).applyUpdate("active",N),I.type==="buttons"?h(b,B,null,null,I):I.type==="dropdown"&&(k.attr(t.menuIndexAttrName,"-1"),m(b,B,k,F,I),O||h(b,B,k,F,I))}function m(b,I,D,B,k){var F=w.ensureSingle(I,"g",t.headerClassName,function(q){q.style("pointer-events","all")}),N=k._dims,O=k.active,V=k.buttons[O]||t.blankHeaderOpts,X={y:k.pad.t,yPad:0,x:k.pad.l,xPad:0,index:0},ee={width:N.headerWidth,height:N.headerHeight};F.call(o,k,V,b).call(s,k,X,ee);var ne=w.ensureSingle(I,"text",t.headerArrowClassName,function(q){q.attr("text-anchor","end").call(L.font,k.font).text(t.arrowSymbol[k.direction])});ne.attr({x:N.headerWidth-t.arrowOffsetX+k.pad.l,y:N.headerHeight/2+t.textOffsetY+k.pad.t}),F.on("click",function(){D.call(S,String(f(D,k)?-1:k._index)),h(b,I,D,B,k)}),F.on("mouseover",function(){F.call(_)}),F.on("mouseout",function(){F.call(y,k)}),L.setTranslate(I,N.lx,N.ly)}function h(b,I,D,B,k){D||(D=I,D.attr("pointer-events","all"));var F=!u(D)||k.type==="buttons"?k.buttons:[],N=k.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,O=D.selectAll("g."+N).data(w.filterVisible(F)),V=O.enter().append("g").classed(N,!0),X=O.exit();k.type==="dropdown"?(V.attr("opacity","0").transition().attr("opacity","1"),X.transition().attr("opacity","0").remove()):X.remove();var ee=0,ne=0,q=k._dims,se=["up","down"].indexOf(k.direction)!==-1;k.type==="dropdown"&&(se?ne=q.headerHeight+t.gapButtonHeader:ee=q.headerWidth+t.gapButtonHeader),k.type==="dropdown"&&k.direction==="up"&&(ne=-t.gapButtonHeader+t.gapButton-q.openHeight),k.type==="dropdown"&&k.direction==="left"&&(ee=-t.gapButtonHeader+t.gapButton-q.openWidth);var J={x:q.lx+ee+k.pad.l,y:q.ly+ne+k.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Z={l:J.x+k.borderwidth,t:J.y+k.borderwidth};O.each(function(te,Y){var ie=d.select(this);ie.call(o,k,te,b).call(s,k,J),ie.on("click",function(){d.event.defaultPrevented||(te.execute&&(te.args2&&k.active===Y?(l(b,k,te,I,D,B,-1),C.executeAPICommand(b,te.method,te.args2)):(l(b,k,te,I,D,B,Y),C.executeAPICommand(b,te.method,te.args))),b.emit("plotly_buttonclicked",{menu:k,button:te,active:k.active}))}),ie.on("mouseover",function(){ie.call(_)}),ie.on("mouseout",function(){ie.call(y,k),O.call(A,k)})}),O.call(A,k),se?(Z.w=Math.max(q.openWidth,q.headerWidth),Z.h=J.y-Z.t):(Z.w=J.x-Z.l,Z.h=Math.max(q.openHeight,q.headerHeight)),Z.direction=k.direction,B&&(O.size()?T(b,I,D,B,k,Z):c(B))}function T(b,I,D,B,k,F){var N=k.direction,O=N==="up"||N==="down",V=k._dims,X=k.active,ee,ne,q;if(O)for(ne=0,q=0;q<X;q++)ne+=V.heights[q]+t.gapButton;else for(ee=0,q=0;q<X;q++)ee+=V.widths[q]+t.gapButton;B.enable(F,ee,ne),B.hbar&&B.hbar.attr("opacity","0").transition().attr("opacity","1"),B.vbar&&B.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(b){var I=!!b.hbar,D=!!b.vbar;I&&b.hbar.transition().attr("opacity","0").each("end",function(){I=!1,D||b.disable()}),D&&b.vbar.transition().attr("opacity","0").each("end",function(){D=!1,I||b.disable()})}function o(b,I,D,B){b.call(p,I).call(x,I,D,B)}function p(b,I){var D=w.ensureSingle(b,"rect",t.itemRectClassName,function(B){B.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});D.call(n.stroke,I.bordercolor).call(n.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function x(b,I,D,B){var k=w.ensureSingle(b,"text",t.itemTextClassName,function(O){O.attr({"text-anchor":"start","data-notex":1})}),F=D.label,N=B._fullLayout._meta;N&&(F=w.templateString(F,N)),k.call(L.font,I.font).text(F).call(v.convertToTspans,B)}function A(b,I){var D=I.active;b.each(function(B,k){var F=d.select(this);k===D&&I.showactive&&F.select("rect."+t.itemRectClassName).call(n.fill,t.activeColor)})}function _(b){b.select("rect."+t.itemRectClassName).call(n.fill,t.hoverColor)}function y(b,I){b.select("rect."+t.itemRectClassName).call(n.fill,I.bgcolor)}function E(b,I){var D=I._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},B=L.tester.selectAll("g."+t.dropdownButtonClassName).data(w.filterVisible(I.buttons));B.enter().append("g").classed(t.dropdownButtonClassName,!0);var k=["up","down"].indexOf(I.direction)!==-1;B.each(function(ee,ne){var q=d.select(this);q.call(o,I,ee,b);var se=q.select("."+t.itemTextClassName),J=se.node()&&L.bBox(se.node()).width,Z=Math.max(J+t.textPadX,t.minWidth),te=I.font.size*r,Y=v.lineCount(se),ie=Math.max(te*Y,t.minHeight)+t.textOffsetY;ie=Math.ceil(ie),Z=Math.ceil(Z),D.widths[ne]=Z,D.heights[ne]=ie,D.height1=Math.max(D.height1,ie),D.width1=Math.max(D.width1,Z),k?(D.totalWidth=Math.max(D.totalWidth,Z),D.openWidth=D.totalWidth,D.totalHeight+=ie+t.gapButton,D.openHeight+=ie+t.gapButton):(D.totalWidth+=Z+t.gapButton,D.openWidth+=Z+t.gapButton,D.totalHeight=Math.max(D.totalHeight,ie),D.openHeight=D.totalHeight)}),k?D.totalHeight-=t.gapButton:D.totalWidth-=t.gapButton,D.headerWidth=D.width1+t.arrowPadX,D.headerHeight=D.height1,I.type==="dropdown"&&(k?(D.width1+=t.arrowPadX,D.totalHeight=D.height1):D.totalWidth=D.width1,D.totalWidth+=t.arrowPadX),B.remove();var F=D.totalWidth+I.pad.l+I.pad.r,N=D.totalHeight+I.pad.t+I.pad.b,O=b._fullLayout._size;D.lx=O.l+O.w*I.x,D.ly=O.t+O.h*(1-I.y);var V="left";w.isRightAnchor(I)&&(D.lx-=F,V="right"),w.isCenterAnchor(I)&&(D.lx-=F/2,V="center");var X="top";w.isBottomAnchor(I)&&(D.ly-=N,X="bottom"),w.isMiddleAnchor(I)&&(D.ly-=N/2,X="middle"),D.totalWidth=Math.ceil(D.totalWidth),D.totalHeight=Math.ceil(D.totalHeight),D.lx=Math.round(D.lx),D.ly=Math.round(D.ly),C.autoMargin(b,M(I),{x:I.x,y:I.y,l:F*({right:1,center:.5}[V]||0),r:F*({left:1,center:.5}[V]||0),b:N*({top:1,middle:.5}[X]||0),t:N*({bottom:1,middle:.5}[X]||0)})}function M(b){return t.autoMarginIdRoot+b._index}function s(b,I,D,B){B=B||{};var k=b.select("."+t.itemRectClassName),F=b.select("."+t.itemTextClassName),N=I.borderwidth,O=D.index,V=I._dims;L.setTranslate(b,N+D.x,N+D.y);var X=["up","down"].indexOf(I.direction)!==-1,ee=B.height||(X?V.heights[O]:V.height1);k.attr({x:0,y:0,width:B.width||(X?V.width1:V.widths[O]),height:ee});var ne=I.font.size*r,q=v.lineCount(F),se=(q-1)*ne/2;v.positionText(F,t.textOffsetX,ee/2-se+t.textOffsetY),X?D.y+=V.heights[O]+D.yPad:D.x+=V.widths[O]+D.xPad,D.index++}function S(b,I){b.attr(t.menuIndexAttrName,I||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(H,U,e){var d=e(73712);H.exports={moduleType:"component",name:d.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(H,U,e){H.exports=w;var d=e(33428),C=e(76308),n=e(43616),L=e(3400);function w(v,g,r){this.gd=v,this.container=g,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}w.barWidth=2,w.barLength=20,w.barRadius=2,w.barPad=1,w.barColor="#808BA4",w.prototype.enable=function(g,r,t){var i=this.gd._fullLayout,a=i.width,u=i.height;this.position=g;var f=this.position.l,l=this.position.w,m=this.position.t,h=this.position.h,T=this.position.direction,c=T==="down",o=T==="left",p=T==="right",x=T==="up",A=l,_=h,y,E,M,s;!c&&!o&&!p&&!x&&(this.position.direction="down",c=!0);var S=c||x;S?(y=f,E=y+A,c?(M=m,s=Math.min(M+_,u),_=s-M):(s=m+_,M=Math.max(s-_,0),_=s-M)):(M=m,s=M+_,o?(E=f+A,y=Math.max(E-A,0),A=E-y):(y=f,E=Math.min(y+A,a),A=E-y)),this._box={l:y,t:M,w:A,h:_};var b=l>A,I=w.barLength+2*w.barPad,D=w.barWidth+2*w.barPad,B=f,k=m+h;k+D>u&&(k=u-D);var F=this.container.selectAll("rect.scrollbar-horizontal").data(b?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-horizontal",!0).call(C.fill,w.barColor),b?(this.hbar=F.attr({rx:w.barRadius,ry:w.barRadius,x:B,y:k,width:I,height:D}),this._hbarXMin=B+I/2,this._hbarTranslateMax=A-I):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var N=h>_,O=w.barWidth+2*w.barPad,V=w.barLength+2*w.barPad,X=f+l,ee=m;X+O>a&&(X=a-O);var ne=this.container.selectAll("rect.scrollbar-vertical").data(N?[0]:[]);ne.exit().on(".drag",null).remove(),ne.enter().append("rect").classed("scrollbar-vertical",!0).call(C.fill,w.barColor),N?(this.vbar=ne.attr({rx:w.barRadius,ry:w.barRadius,x:X,y:ee,width:O,height:V}),this._vbarYMin=ee+V/2,this._vbarTranslateMax=_-V):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var q=this.id,se=y-.5,J=N?E+O+.5:E+.5,Z=M-.5,te=b?s+D+.5:s+.5,Y=i._topdefs.selectAll("#"+q).data(b||N?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",q).append("rect"),b||N?(this._clipRect=Y.select("rect").attr({x:Math.floor(se),y:Math.floor(Z),width:Math.ceil(J)-Math.floor(se),height:Math.ceil(te)-Math.floor(Z)}),this.container.call(n.setClipUrl,q,this.gd),this.bg.attr({x:f,y:m,width:l,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),b||N){var ie=d.behavior.drag().on("dragstart",function(){d.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ie);var le=d.behavior.drag().on("dragstart",function(){d.event.sourceEvent.preventDefault(),d.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));b&&this.hbar.on(".drag",null).call(le),N&&this.vbar.on(".drag",null).call(le)}this.setTranslate(r,t)},w.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},w.prototype._onBoxDrag=function(){var g=this.translateX,r=this.translateY;this.hbar&&(g-=d.event.dx),this.vbar&&(r-=d.event.dy),this.setTranslate(g,r)},w.prototype._onBoxWheel=function(){var g=this.translateX,r=this.translateY;this.hbar&&(g+=d.event.deltaY),this.vbar&&(r+=d.event.deltaY),this.setTranslate(g,r)},w.prototype._onBarDrag=function(){var g=this.translateX,r=this.translateY;if(this.hbar){var t=g+this._hbarXMin,i=t+this._hbarTranslateMax,a=L.constrain(d.event.x,t,i),u=(a-t)/(i-t),f=this.position.w-this._box.w;g=u*f}if(this.vbar){var l=r+this._vbarYMin,m=l+this._vbarTranslateMax,h=L.constrain(d.event.y,l,m),T=(h-l)/(m-l),c=this.position.h-this._box.h;r=T*c}this.setTranslate(g,r)},w.prototype.setTranslate=function(g,r){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(g=L.constrain(g||0,0,t),r=L.constrain(r||0,0,i),this.translateX=g,this.translateY=r,this.container.call(n.setTranslate,this._box.l-this.position.l-g,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+g-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var a=g/t;this.hbar.call(n.setTranslate,g+a*this._hbarTranslateMax,r)}if(this.vbar){var u=r/i;this.vbar.call(n.setTranslate,g,r+u*this._vbarTranslateMax)}}},84284:function(H){H.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(H){H.exports={axisRefDescription:function(U,e,d){return["If set to a",U,"axis id (e.g. *"+U+"* or","*"+U+"2*), the `"+U+"` position refers to a",U,"coordinate. If set to *paper*, the `"+U+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+d+"). If set to a",U,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+U+"2 domain* refers to the domain of the second",U," axis and a",U,"position of 0.5 refers to the","point between the",e,"and the",d,"of the domain of the","second",U,"axis."].join(" ")}}},48164:function(H){H.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(H){H.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(H){H.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(H){H.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(H){H.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(H){H.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(H){H.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(H,U){U.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],U.STYLE=U.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(H,U){U.xmlns="http://www.w3.org/2000/xmlns/",U.svg="http://www.w3.org/2000/svg",U.xlink="http://www.w3.org/1999/xlink",U.svgAttrs={xmlns:U.svg,"xmlns:xlink":U.xlink}},64884:function(H,U,e){U.version=e(25788).version,e(88324),e(79288);for(var d=e(24040),C=U.register=d.register,n=e(22448),L=Object.keys(n),w=0;w<L.length;w++){var v=L[w];v.charAt(0)!=="_"&&(U[v]=n[v]),C({moduleType:"apiMethod",name:v,fn:n[v]})}C(e(65875)),C([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),C([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(C(window.PlotlyLocales),delete window.PlotlyLocales),U.Icons=e(9224);var g=e(93024),r=e(7316);U.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},U.Fx={hover:g.hover,unhover:g.unhover,loneHover:g.loneHover,loneUnhover:g.loneUnhover},U.Snapshot=e(78904),U.PlotSchema=e(73060)},9224:function(H){H.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(H,U){U.isLeftAnchor=function(d){return d.xanchor==="left"||d.xanchor==="auto"&&d.x<=.3333333333333333},U.isCenterAnchor=function(d){return d.xanchor==="center"||d.xanchor==="auto"&&d.x>.3333333333333333&&d.x<.6666666666666666},U.isRightAnchor=function(d){return d.xanchor==="right"||d.xanchor==="auto"&&d.x>=.6666666666666666},U.isTopAnchor=function(d){return d.yanchor==="top"||d.yanchor==="auto"&&d.y>=.6666666666666666},U.isMiddleAnchor=function(d){return d.yanchor==="middle"||d.yanchor==="auto"&&d.y>.3333333333333333&&d.y<.6666666666666666},U.isBottomAnchor=function(d){return d.yanchor==="bottom"||d.yanchor==="auto"&&d.y<=.3333333333333333}},11864:function(H,U,e){var d=e(20435),C=d.mod,n=d.modHalf,L=Math.PI,w=2*L;function v(T){return T/180*L}function g(T){return T/L*180}function r(T){return Math.abs(T[1]-T[0])>w-1e-14}function t(T,c){return n(c-T,w)}function i(T,c){return Math.abs(t(T,c))}function a(T,c){if(r(c))return!0;var o,p;c[0]<c[1]?(o=c[0],p=c[1]):(o=c[1],p=c[0]),o=C(o,w),p=C(p,w),o>p&&(p+=w);var x=C(T,w),A=x+w;return x>=o&&x<=p||A>=o&&A<=p}function u(T,c,o,p){if(!a(c,p))return!1;var x,A;return o[0]<o[1]?(x=o[0],A=o[1]):(x=o[1],A=o[0]),T>=x&&T<=A}function f(T,c,o,p,x,A,_){x=x||0,A=A||0;var y=r([o,p]),E,M,s,S,b;y?(E=0,M=L,s=w):o<p?(E=o,s=p):(E=p,s=o),T<c?(S=T,b=c):(S=c,b=T);function I(F,N){return[F*Math.cos(N)+x,A-F*Math.sin(N)]}var D=Math.abs(s-E)<=L?0:1;function B(F,N,O){return"A"+[F,F]+" "+[0,D,O]+" "+I(F,N)}var k;return y?S===null?k="M"+I(b,E)+B(b,M,0)+B(b,s,0)+"Z":k="M"+I(S,E)+B(S,M,0)+B(S,s,0)+"ZM"+I(b,E)+B(b,M,1)+B(b,s,1)+"Z":S===null?(k="M"+I(b,E)+B(b,s,0),_&&(k+="L0,0Z")):k="M"+I(S,E)+"L"+I(b,E)+B(b,s,0)+"L"+I(S,s)+B(S,E,1)+"Z",k}function l(T,c,o,p,x){return f(null,T,c,o,p,x,0)}function m(T,c,o,p,x){return f(null,T,c,o,p,x,1)}function h(T,c,o,p,x,A){return f(T,c,o,p,x,A,1)}H.exports={deg2rad:v,rad2deg:g,angleDelta:t,angleDist:i,isFullCircle:r,isAngleInsideSector:a,isPtInsideSector:u,pathArc:l,pathSector:m,pathAnnulus:h}},38116:function(H,U,e){var d=e(83160).decode,C=e(63620),n=Array.isArray,L=ArrayBuffer,w=DataView;function v(f){return L.isView(f)&&!(f instanceof w)}U.isTypedArray=v;function g(f){return n(f)||v(f)}U.isArrayOrTypedArray=g;function r(f){return!g(f[0])}U.isArray1D=r,U.ensureArray=function(f,l){return n(f)||(f=[]),f.length=l,f};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function i(f){return f.constructor===ArrayBuffer}U.isArrayBuffer=i,U.decodeTypedArraySpec=function(f){var l=[],m=a(f),h=m.dtype,T=t[h];if(!T)throw new Error('Error in dtype: "'+h+'"');var c=T.BYTES_PER_ELEMENT,o=m.bdata;i(o)||(o=d(o));var p=m.shape===void 0?[o.byteLength/c]:(""+m.shape).split(",");p.reverse();var x=p.length,A,_,y=+p[0],E=c*y,M=0;if(x===1)l=new T(o);else if(x===2)for(A=+p[1],_=0;_<A;_++)l[_]=new T(o,M,y),M+=E;else if(x===3){A=+p[1];for(var s=+p[2],S=0;S<s;S++)for(l[S]=[],_=0;_<A;_++)l[S][_]=new T(o,M,y),M+=E}else throw new Error("ndim: "+x+'is not supported with the shape:"'+m.shape+'"');return l.bdata=m.bdata,l.dtype=m.dtype,l.shape=p.reverse().join(","),f._inputArray=l,l},U.isTypedArraySpec=function(f){return C(f)&&f.hasOwnProperty("dtype")&&typeof f.dtype=="string"&&f.hasOwnProperty("bdata")&&(typeof f.bdata=="string"||i(f.bdata))&&(f.shape===void 0||f.hasOwnProperty("shape")&&(typeof f.shape=="string"||typeof f.shape=="number"))};function a(f){return{bdata:f.bdata,dtype:f.dtype,shape:f.shape}}U.concat=function(){var f=[],l=!0,m=0,h,T,c,o,p,x,A,_;for(c=0;c<arguments.length;c++)o=arguments[c],x=o.length,x&&(T?f.push(o):(T=o,p=x),n(o)?h=!1:(l=!1,m?h!==o.constructor&&(h=!1):h=o.constructor),m+=x);if(!m)return[];if(!f.length)return T;if(l)return T.concat.apply(T,f);if(h){for(A=new h(m),A.set(T),c=0;c<f.length;c++)o=f[c],A.set(o,p),p+=o.length;return A}for(A=new Array(m),_=0;_<T.length;_++)A[_]=T[_];for(c=0;c<f.length;c++){for(o=f[c],_=0;_<o.length;_++)A[p+_]=o[_];p+=_}return A},U.maxRowLength=function(f){return u(f,Math.max,0)},U.minRowLength=function(f){return u(f,Math.min,1/0)};function u(f,l,m){if(g(f))if(g(f[0])){for(var h=m,T=0;T<f.length;T++)h=l(h,f[T].length);return h}else return f.length;return 0}},54037:function(H,U,e){var d=e(38248),C=e(39032).BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;H.exports=function(w){return typeof w=="string"&&(w=w.replace(n,"")),d(w)?Number(w):C}},73696:function(H){H.exports=function(e){var d=e._fullLayout;d._glcanvas&&d._glcanvas.size()&&d._glcanvas.each(function(C){C.regl&&C.regl.clear({color:!0,depth:!0})})}},75352:function(H){H.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(H,U,e){var d=e(38248),C=e(49760),n=e(45464),L=e(88304),w=e(76308),v=e(13448).DESELECTDIM,g=e(22296),r=e(53756).counter,t=e(20435).modHalf,i=e(38116).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,u=e(38116).decodeTypedArraySpec;U.valObjectMeta={data_array:{coerceFunction:function(l,m,h){m.set(i(l)?l:a(l)?u(l):h)}},enumerated:{coerceFunction:function(l,m,h,T){T.coerceNumber&&(l=+l),T.values.indexOf(l)===-1?m.set(h):m.set(l)},validateFunction:function(l,m){m.coerceNumber&&(l=+l);for(var h=m.values,T=0;T<h.length;T++){var c=String(h[T]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var o=new RegExp(c.substr(1,c.length-2));if(o.test(l))return!0}else if(l===h[T])return!0}return!1}},boolean:{coerceFunction:function(l,m,h){l===!0||l===!1?m.set(l):m.set(h)}},number:{coerceFunction:function(l,m,h,T){!d(l)||T.min!==void 0&&l<T.min||T.max!==void 0&&l>T.max?m.set(h):m.set(+l)}},integer:{coerceFunction:function(l,m,h,T){l%1||!d(l)||T.min!==void 0&&l<T.min||T.max!==void 0&&l>T.max?m.set(h):m.set(+l)}},string:{coerceFunction:function(l,m,h,T){if(typeof l!="string"){var c=typeof l=="number";T.strict===!0||!c?m.set(h):m.set(String(l))}else T.noBlank&&!l?m.set(h):m.set(l)}},color:{coerceFunction:function(l,m,h){C(l).isValid()?m.set(l):m.set(h)}},colorlist:{coerceFunction:function(l,m,h){function T(c){return C(c).isValid()}!Array.isArray(l)||!l.length?m.set(h):l.every(T)?m.set(l):m.set(h)}},colorscale:{coerceFunction:function(l,m,h){m.set(L.get(l,h))}},angle:{coerceFunction:function(l,m,h){l==="auto"?m.set("auto"):d(l)?m.set(t(+l,360)):m.set(h)}},subplotid:{coerceFunction:function(l,m,h,T){var c=T.regex||r(h);if(typeof l=="string"&&c.test(l)){m.set(l);return}m.set(h)},validateFunction:function(l,m){var h=m.dflt;return l===h?!0:typeof l!="string"?!1:!!r(h).test(l)}},flaglist:{coerceFunction:function(l,m,h,T){if((T.extras||[]).indexOf(l)!==-1){m.set(l);return}if(typeof l!="string"){m.set(h);return}for(var c=l.split("+"),o=0;o<c.length;){var p=c[o];T.flags.indexOf(p)===-1||c.indexOf(p)<o?c.splice(o,1):o++}c.length?m.set(c.join("+")):m.set(h)}},any:{coerceFunction:function(l,m,h){l===void 0?m.set(h):m.set(a(l)?u(l):l)}},info_array:{coerceFunction:function(l,m,h,T){function c(B,k,F){var N,O={set:function(V){N=V}};return F===void 0&&(F=k.dflt),U.valObjectMeta[k.valType].coerceFunction(B,O,F,k),N}if(a(l)&&(l=u(l)),!i(l)){m.set(h);return}var o=T.dimensions===2||T.dimensions==="1-2"&&Array.isArray(l)&&i(l[0]),p=T.items,x=[],A=Array.isArray(p),_=A&&o&&i(p[0]),y=o&&A&&!_,E=A&&!y?p.length:l.length,M,s,S,b,I,D;if(h=Array.isArray(h)?h:[],o)for(M=0;M<E;M++)for(x[M]=[],S=i(l[M])?l[M]:[],y?I=p.length:A?I=p[M].length:I=S.length,s=0;s<I;s++)y?b=p[s]:A?b=p[M][s]:b=p,D=c(S[s],b,(h[M]||[])[s]),D!==void 0&&(x[M][s]=D);else for(M=0;M<E;M++)D=c(l[M],A?p[M]:p,h[M]),D!==void 0&&(x[M]=D);m.set(x)},validateFunction:function(l,m){if(!i(l))return!1;var h=m.items,T=Array.isArray(h),c=m.dimensions===2;if(!m.freeLength&&l.length!==h.length)return!1;for(var o=0;o<l.length;o++)if(c){if(!i(l[o])||!m.freeLength&&l[o].length!==h[o].length)return!1;for(var p=0;p<l[o].length;p++)if(!f(l[o][p],T?h[o][p]:h))return!1}else if(!f(l[o],T?h[o]:h))return!1;return!0}}},U.coerce=function(l,m,h,T,c){var o=g(h,T).get(),p=g(l,T),x=g(m,T),A=p.get(),_=m._template;if(A===void 0&&_&&(A=g(_,T).get(),_=0),c===void 0&&(c=o.dflt),o.arrayOk){if(i(A))return x.set(A),A;if(a(A))return A=u(A),x.set(A),A}var y=U.valObjectMeta[o.valType].coerceFunction;y(A,x,c,o);var E=x.get();return _&&E===c&&!f(A,o)&&(A=g(_,T).get(),y(A,x,c,o),E=x.get()),E},U.coerce2=function(l,m,h,T,c){var o=g(l,T),p=U.coerce(l,m,h,T,c),x=o.get();return x!=null?p:!1},U.coerceFont=function(l,m,h,T){T||(T={});var c={};return h=h||{},c.family=l(m+".family",h.family),c.size=l(m+".size",h.size),c.color=l(m+".color",h.color),c.weight=l(m+".weight",h.weight),c.style=l(m+".style",h.style),T.noFontVariant||(c.variant=l(m+".variant",h.variant)),c},U.coercePattern=function(l,m,h,T){var c=l(m+".shape");if(c){l(m+".solidity"),l(m+".size");var o=l(m+".fillmode"),p=o==="overlay";if(!T){var x=l(m+".bgcolor",p?h:void 0);l(m+".fgcolor",p?w.contrast(x):h)}l(m+".fgopacity",p?.5:1)}},U.coerceHoverinfo=function(l,m,h){var T=m._module.attributes,c=T.hoverinfo?T:n,o=c.hoverinfo,p;if(h._dataLength===1){var x=o.dflt==="all"?o.flags.slice():o.dflt.split("+");x.splice(x.indexOf("name"),1),p=x.join("+")}return U.coerce(l,m,c,"hoverinfo",p)},U.coerceSelectionMarkerOpacity=function(l,m){if(l.marker){var h=l.marker.opacity;if(h!==void 0){var T,c;!i(h)&&!l.selected&&!l.unselected&&(T=h,c=v*h),m("selected.marker.opacity",T),m("unselected.marker.opacity",c)}}};function f(l,m){var h=U.valObjectMeta[m.valType];if(m.arrayOk&&i(l))return!0;if(h.validateFunction)return h.validateFunction(l,m);var T={},c=T,o={set:function(p){c=p}};return h.coerceFunction(l,o,T,m),c!==T}U.validate=f},67555:function(H,U,e){var d=e(94336).Yn,C=e(38248),n=e(24248),L=e(20435).mod,w=e(39032),v=w.BADNUM,g=w.ONEDAY,r=w.ONEHOUR,t=w.ONEMIN,i=w.ONESEC,a=w.EPOCHJD,u=e(24040),f=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function T(k){return k&&u.componentsRegistry.calendars&&typeof k=="string"&&k!=="gregorian"}U.dateTick0=function(k,F){var N=c(k,!!F);if(F<2)return N;var O=U.dateTime2ms(N,k);return O+=g*(F-1),U.ms2DateTime(O,0,k)};function c(k,F){return T(k)?F?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[k]:u.getComponentMethod("calendars","CANONICAL_TICK")[k]:F?"2000-01-02":"2000-01-01"}U.dfltRange=function(k){return T(k)?u.getComponentMethod("calendars","DFLTRANGE")[k]:["2000-01-01","2001-01-01"]},U.isJSDate=function(k){return typeof k=="object"&&k!==null&&typeof k.getTime=="function"};var o,p;U.dateTime2ms=function(k,F){if(U.isJSDate(k)){var N=k.getTimezoneOffset()*t,O=(k.getUTCMinutes()-k.getMinutes())*t+(k.getUTCSeconds()-k.getSeconds())*i+(k.getUTCMilliseconds()-k.getMilliseconds());if(O){var V=3*t;N=N-V/2+L(O-N+V/2,V)}return k=Number(k)-N,k>=o&&k<=p?k:v}if(typeof k!="string"&&typeof k!="number")return v;k=String(k);var X=T(F),ee=k.charAt(0);X&&(ee==="G"||ee==="g")&&(k=k.substr(1),F="");var ne=X&&F.substr(0,7)==="chinese",q=k.match(ne?m:l);if(!q)return v;var se=q[1],J=q[3]||"1",Z=Number(q[5]||1),te=Number(q[7]||0),Y=Number(q[9]||0),ie=Number(q[11]||0);if(X){if(se.length===2)return v;se=Number(se);var le;try{var j=u.getComponentMethod("calendars","getCal")(F);if(ne){var K=J.charAt(J.length-1)==="i";J=parseInt(J,10),le=j.newDate(se,j.toMonthIndex(se,J,K),Z)}else le=j.newDate(se,Number(J),Z)}catch{return v}return le?(le.toJD()-a)*g+te*r+Y*t+ie*i:v}se.length===2?se=(Number(se)+2e3-h)%100+h:se=Number(se),J-=1;var ue=new Date(Date.UTC(2e3,J,Z,te,Y));return ue.setUTCFullYear(se),ue.getUTCMonth()!==J||ue.getUTCDate()!==Z?v:ue.getTime()+ie*i},o=U.MIN_MS=U.dateTime2ms("-9999"),p=U.MAX_MS=U.dateTime2ms("9999-12-31 23:59:59.9999"),U.isDateTime=function(k,F){return U.dateTime2ms(k,F)!==v};function x(k,F){return String(k+Math.pow(10,F)).substr(1)}var A=90*g,_=3*r,y=5*t;U.ms2DateTime=function(k,F,N){if(typeof k!="number"||!(k>=o&&k<=p))return v;F||(F=0);var O=Math.floor(L(k+.05,1)*10),V=Math.round(k-O/10),X,ee,ne,q,se,J;if(T(N)){var Z=Math.floor(V/g)+a,te=Math.floor(L(k,g));try{X=u.getComponentMethod("calendars","getCal")(N).fromJD(Z).formatDate("yyyy-mm-dd")}catch{X=f("G%Y-%m-%d")(new Date(V))}if(X.charAt(0)==="-")for(;X.length<11;)X="-0"+X.substr(1);else for(;X.length<10;)X="0"+X;ee=F<A?Math.floor(te/r):0,ne=F<A?Math.floor(te%r/t):0,q=F<_?Math.floor(te%t/i):0,se=F<y?te%i*10+O:0}else J=new Date(V),X=f("%Y-%m-%d")(J),ee=F<A?J.getUTCHours():0,ne=F<A?J.getUTCMinutes():0,q=F<_?J.getUTCSeconds():0,se=F<y?J.getUTCMilliseconds()*10+O:0;return E(X,ee,ne,q,se)},U.ms2DateTimeLocal=function(k){if(!(k>=o+g&&k<=p-g))return v;var F=Math.floor(L(k+.05,1)*10),N=new Date(Math.round(k-F/10)),O=d("%Y-%m-%d")(N),V=N.getHours(),X=N.getMinutes(),ee=N.getSeconds(),ne=N.getUTCMilliseconds()*10+F;return E(O,V,X,ee,ne)};function E(k,F,N,O,V){if((F||N||O||V)&&(k+=" "+x(F,2)+":"+x(N,2),(O||V)&&(k+=":"+x(O,2),V))){for(var X=4;V%10===0;)X-=1,V/=10;k+="."+x(V,X)}return k}U.cleanDate=function(k,F,N){if(k===v)return F;if(U.isJSDate(k)||typeof k=="number"&&isFinite(k)){if(T(N))return n.error("JS Dates and milliseconds are incompatible with world calendars",k),F;if(k=U.ms2DateTimeLocal(+k),!k&&F!==void 0)return F}else if(!U.isDateTime(k,N))return n.error("unrecognized date",k),F;return k};var M=/%\d?f/g,s=/%h/g,S={1:"1",2:"1",3:"2",4:"2"};function b(k,F,N,O){k=k.replace(M,function(X){var ee=Math.min(+X.charAt(1)||6,6),ne=(F/1e3%1+2).toFixed(ee).substr(2).replace(/0+$/,"")||"0";return ne});var V=new Date(Math.floor(F+.05));if(k=k.replace(s,function(){return S[N("%q")(V)]}),T(O))try{k=u.getComponentMethod("calendars","worldCalFmt")(k,F,O)}catch{return"Invalid"}return N(k)(V)}var I=[59,59.9,59.99,59.999,59.9999];function D(k,F){var N=L(k+.05,g),O=x(Math.floor(N/r),2)+":"+x(L(Math.floor(N/t),60),2);if(F!=="M"){C(F)||(F=0);var V=Math.min(L(k/i,60),I[F]),X=(100+V).toFixed(F).substr(1);F>0&&(X=X.replace(/0+$/,"").replace(/[\.]$/,"")),O+=":"+X}return O}U.formatDate=function(k,F,N,O,V,X){if(V=T(V)&&V,!F)if(N==="y")F=X.year;else if(N==="m")F=X.month;else if(N==="d")F=X.dayMonth+`
`+X.year;else return D(k,N)+`
`+b(X.dayMonthYear,k,O,V);return b(F,k,O,V)};var B=3*g;U.incrementMonth=function(k,F,N){N=T(N)&&N;var O=L(k,g);if(k=Math.round(k-O),N)try{var V=Math.round(k/g)+a,X=u.getComponentMethod("calendars","getCal")(N),ee=X.fromJD(V);return F%12?X.add(ee,F,"m"):X.add(ee,F/12,"y"),(ee.toJD()-a)*g+O}catch{n.error("invalid ms "+k+" in calendar "+N)}var ne=new Date(k+B);return ne.setUTCMonth(ne.getUTCMonth()+F)+O-B},U.findExactDates=function(k,F){for(var N=0,O=0,V=0,X=0,ee,ne,q=T(F)&&u.getComponentMethod("calendars","getCal")(F),se=0;se<k.length;se++){if(ne=k[se],!C(ne)){X++;continue}if(!(ne%g))if(q)try{ee=q.fromJD(ne/g+a),ee.day()===1?ee.month()===1?N++:O++:V++}catch{}else ee=new Date(ne),ee.getUTCDate()===1?ee.getUTCMonth()===0?N++:O++:V++}O+=N,V+=O;var J=k.length-X;return{exactYears:N/J,exactMonths:O/J,exactDays:V/J}}},52200:function(H,U,e){var d=e(33428),C=e(24248),n=e(52248),L=e(36524);function w(h){var T;if(typeof h=="string"){if(T=document.getElementById(h),T===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return T}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var T=d.select(h);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function g(h){var T=h&&h.parentNode;T&&T.removeChild(h)}function r(h,T){t("global",h,T)}function t(h,T,c){var o="plotly.js-style-"+h,p=document.getElementById(o);p||(p=document.createElement("style"),p.setAttribute("id",o),p.appendChild(document.createTextNode("")),document.head.appendChild(p));var x=p.sheet;x.insertRule?x.insertRule(T+"{"+c+"}",0):x.addRule?x.addRule(T,c,0):C.warn("addStyleRule failed")}function i(h){var T="plotly.js-style-"+h,c=document.getElementById(T);c&&g(c)}function a(h){var T=f(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(o){var p=u(o);if(p){var x=n.convertCssMatrix(p);c=L.multiply(c,c,x)}}),c}function u(h){var T=window.getComputedStyle(h,null),c=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function f(h){for(var T=[];l(h);)T.push(h),h=h.parentNode;return T}function l(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function m(h,T){return h&&T&&h.top===T.top&&h.left===T.left&&h.right===T.right&&h.bottom===T.bottom}H.exports={getGraphDiv:w,isPlotDiv:v,removeElement:g,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:i,getFullTransformMatrix:a,getElementTransformMatrix:u,getElementAndAncestors:f,equalDomRects:m}},95924:function(H,U,e){var d=e(61252).EventEmitter,C={init:function(n){if(n._ev instanceof d)return n;var L=new d,w=new d;return n._ev=L,n._internalEv=w,n.on=L.on.bind(L),n.once=L.once.bind(L),n.removeListener=L.removeListener.bind(L),n.removeAllListeners=L.removeAllListeners.bind(L),n._internalOn=w.on.bind(w),n._internalOnce=w.once.bind(w),n._removeInternalListener=w.removeListener.bind(w),n._removeAllInternalListeners=w.removeAllListeners.bind(w),n.emit=function(v,g){typeof jQuery<"u"&&jQuery(n).trigger(v,g),L.emit(v,g),w.emit(v,g)},n},triggerHandler:function(n,L,w){var v,g;typeof jQuery<"u"&&(v=jQuery(n).triggerHandler(L,w));var r=n._ev;if(!r)return v;var t=r._events[L];if(!t)return v;function i(u){if(u.listener){if(r.removeListener(L,u.listener),!u.fired)return u.fired=!0,u.listener.apply(r,[w])}else return u.apply(r,[w])}t=Array.isArray(t)?t:[t];var a;for(a=0;a<t.length-1;a++)i(t[a]);return g=i(t[a]),v!==void 0?v:g},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};H.exports=C},92880:function(H,U,e){var d=e(63620),C=Array.isArray;function n(w,v){var g,r;for(g=0;g<w.length;g++){if(r=w[g],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[g]=r)}return!0}U.extendFlat=function(){return L(arguments,!1,!1,!1)},U.extendDeep=function(){return L(arguments,!0,!1,!1)},U.extendDeepAll=function(){return L(arguments,!0,!0,!1)},U.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(w,v,g,r){var t=w[0],i=w.length,a,u,f,l,m,h,T;if(i===2&&C(t)&&C(w[1])&&t.length===0){if(T=n(w[1],t),T)return t;t.splice(0,t.length)}for(var c=1;c<i;c++){a=w[c];for(u in a)f=t[u],l=a[u],r&&C(l)?t[u]=l:v&&l&&(d(l)||(m=C(l)))?(m?(m=!1,h=f&&C(f)?f:[]):h=f&&d(f)?f:{},t[u]=L([h,l],v,g,r)):(typeof l<"u"||g)&&(t[u]=l)}return t}},68944:function(H){H.exports=function(e){for(var d={},C=[],n=0,L=0;L<e.length;L++){var w=e[L];d[w]!==1&&(d[w]=1,C[n++]=w)}return C}},43880:function(H){H.exports=function(n){for(var L=d(n)?e:U,w=[],v=0;v<n.length;v++){var g=n[v];L(g)&&w.push(g)}return w};function U(C){return C.visible===!0}function e(C){var n=C[0].trace;return n.visible===!0&&n._length!==0}function d(C){return Array.isArray(C)&&Array.isArray(C[0])&&C[0][0]&&C[0][0].trace}},27144:function(H,U,e){var d=e(33428),C=e(36116),n=e(40440),L=e(77844),w=e(42428),v=e(35536),g=e(24248),r=e(63620),t=e(22296),i=e(92065),a=Object.keys(C),u={"ISO-3":v,"USA-states":v,"country names":f};function f(x){for(var A=0;A<a.length;A++){var _=a[A],y=new RegExp(C[_]);if(y.test(x.trim().toLowerCase()))return _}return g.log("Unrecognized country name: "+x+"."),!1}function l(x,A,_){if(!A||typeof A!="string")return!1;var y=u[x](A),E,M,s;if(y){if(x==="USA-states")for(E=[],s=0;s<_.length;s++)M=_[s],M.properties&&M.properties.gu&&M.properties.gu==="USA"&&E.push(M);else E=_;for(s=0;s<E.length;s++)if(M=E[s],M.id===y)return M;g.log(["Location with id",y,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(x){var A=x.geometry,_=A.coordinates,y=x.id,E=[],M,s,S,b;function I(D){for(var B=0;B<D.length-1;B++)if(D[B][0]>0&&D[B+1][0]<0)return B;return null}switch(y==="RUS"||y==="FJI"?M=function(D){var B;if(I(D)===null)B=D;else for(B=new Array(D.length),b=0;b<D.length;b++)B[b]=[D[b][0]<0?D[b][0]+360:D[b][0],D[b][1]];E.push(i.tester(B))}:y==="ATA"?M=function(D){var B=I(D);if(B===null)return E.push(i.tester(D));var k=new Array(D.length+1),F=0;for(b=0;b<D.length;b++)b>B?k[F++]=[D[b][0]+360,D[b][1]]:b===B?(k[F++]=D[b],k[F++]=[D[b][0],-90]):k[F++]=D[b];var N=i.tester(k);N.pts.pop(),E.push(N)}:M=function(D){E.push(i.tester(D))},A.type){case"MultiPolygon":for(s=0;s<_.length;s++)for(S=0;S<_[s].length;S++)M(_[s][S]);break;case"Polygon":for(s=0;s<_.length;s++)M(_[s]);break}return E}function h(x){var A=x.geojson,_=window.PlotlyGeoAssets||{},y=typeof A=="string"?_[A]:A;return r(y)?y:(g.error("Oops ... something went wrong when fetching "+A),!1)}function T(x){var A=x[0].trace,_=h(A);if(!_)return!1;var y={},E=[],M;for(M=0;M<A._length;M++){var s=x[M];(s.loc||s.loc===0)&&(y[s.loc]=s)}function S(D){var B=t(D,A.featureidkey||"id").get(),k=y[B];if(k){var F=D.geometry;if(F.type==="Polygon"||F.type==="MultiPolygon"){var N={type:"Feature",id:B,geometry:F,properties:{}};N.properties.ct=c(N),k.fIn=D,k.fOut=N,E.push(N)}else g.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete y[B]}switch(_.type){case"FeatureCollection":var b=_.features;for(M=0;M<b.length;M++)S(b[M]);break;case"Feature":S(_);break;default:return g.warn(["Invalid GeoJSON type",(_.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var I in y)g.log(["Location *"+I+"*","does not have a matching feature with id-key","*"+A.featureidkey+"*."].join(" "));return E}function c(x){var A=x.geometry,_;if(A.type==="MultiPolygon")for(var y=A.coordinates,E=0,M=0;M<y.length;M++){var s={type:"Polygon",coordinates:y[M]},S=n.default(s);S>E&&(E=S,_=s)}else _=A;return L.default(_).geometry.coordinates}function o(x){var A=window.PlotlyGeoAssets||{},_=[];function y(b){return new Promise(function(I,D){d.json(b,function(B,k){if(B){delete A[b];var F=B.status===404?'GeoJSON at URL "'+b+'" does not exist.':"Unexpected error while fetching from "+b;return D(new Error(F))}return A[b]=k,I(k)})})}function E(b){return new Promise(function(I,D){var B=0,k=setInterval(function(){if(A[b]&&A[b]!=="pending")return clearInterval(k),I(A[b]);if(B>100)return clearInterval(k),D("Unexpected error while fetching from "+b);B++},50)})}for(var M=0;M<x.length;M++){var s=x[M][0].trace,S=s.geojson;typeof S=="string"&&(A[S]?A[S]==="pending"&&_.push(E(S)):(A[S]="pending",_.push(y(S))))}return _}function p(x){return w.default(x)}H.exports={locationToFeature:l,feature2polygons:m,getTraceGeojson:h,extractTraceFeature:T,fetchTraceGeoData:o,computeBbox:p}},44808:function(H,U,e){var d=e(39032).BADNUM;U.calcTraceToLineCoords=function(C){for(var n=C[0].trace,L=n.connectgaps,w=[],v=[],g=0;g<C.length;g++){var r=C[g],t=r.lonlat;t[0]!==d?v.push(t):!L&&v.length>0&&(w.push(v),v=[])}return v.length>0&&w.push(v),w},U.makeLine=function(C){return C.length===1?{type:"LineString",coordinates:C[0]}:{type:"MultiLineString",coordinates:C}},U.makePolygon=function(C){if(C.length===1)return{type:"Polygon",coordinates:C};for(var n=new Array(C.length),L=0;L<C.length;L++)n[L]=[C[L]];return{type:"MultiPolygon",coordinates:n}},U.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(H,U,e){var d=e(20435).mod;U.segmentsIntersect=C;function C(g,r,t,i,a,u,f,l){var m=t-g,h=a-g,T=f-a,c=i-r,o=u-r,p=l-u,x=m*p-T*c;if(x===0)return null;var A=(h*p-T*o)/x,_=(h*c-m*o)/x;return _<0||_>1||A<0||A>1?null:{x:g+m*A,y:r+c*A}}U.segmentDistance=function(r,t,i,a,u,f,l,m){if(C(r,t,i,a,u,f,l,m))return 0;var h=i-r,T=a-t,c=l-u,o=m-f,p=h*h+T*T,x=c*c+o*o,A=Math.min(n(h,T,p,u-r,f-t),n(h,T,p,l-r,m-t),n(c,o,x,r-u,t-f),n(c,o,x,i-u,a-f));return Math.sqrt(A)};function n(g,r,t,i,a){var u=i*g+a*r;if(u<0)return i*i+a*a;if(u>t){var f=i-g,l=a-r;return f*f+l*l}else{var m=i*r-a*g;return m*m/t}}var L,w,v;U.getTextLocation=function(r,t,i,a){if((r!==w||a!==v)&&(L={},w=r,v=a),L[i])return L[i];var u=r.getPointAtLength(d(i-a/2,t)),f=r.getPointAtLength(d(i+a/2,t)),l=Math.atan((f.y-u.y)/(f.x-u.x)),m=r.getPointAtLength(d(i,t)),h=(m.x*4+u.x+f.x)/6,T=(m.y*4+u.y+f.y)/6,c={x:h,y:T,theta:l};return L[i]=c,c},U.clearLocationCache=function(){w=null},U.getVisibleSegment=function(r,t,i){var a=t.left,u=t.right,f=t.top,l=t.bottom,m=0,h=r.getTotalLength(),T=h,c,o;function p(A){var _=r.getPointAtLength(A);A===0?c=_:A===h&&(o=_);var y=_.x<a?a-_.x:_.x>u?_.x-u:0,E=_.y<f?f-_.y:_.y>l?_.y-l:0;return Math.sqrt(y*y+E*E)}for(var x=p(m);x;){if(m+=x+i,m>T)return;x=p(m)}for(x=p(T);x;){if(T-=x+i,m>T)return;x=p(T)}return{min:m,max:T,len:T-m,total:h,isClosed:m===0&&T===h&&Math.abs(c.x-o.x)<.1&&Math.abs(c.y-o.y)<.1}},U.findPointOnPath=function(r,t,i,a){a=a||{};for(var u=a.pathLength||r.getTotalLength(),f=a.tolerance||.001,l=a.iterationLimit||30,m=r.getPointAtLength(0)[i]>r.getPointAtLength(u)[i]?-1:1,h=0,T=0,c=u,o,p,x;h<l;){if(o=(T+c)/2,p=r.getPointAtLength(o),x=p[i]-t,Math.abs(x)<f)return p;m*x>0?c=o:T=o,h++}return p}},33040:function(H,U,e){var d=e(38248),C=e(49760),n=e(72160),L=e(8932),w=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,g=n(w),r=1;function t(l,m){var h=l;return h[3]*=m,h}function i(l){if(d(l))return g;var m=n(l);return m.length?m:g}function a(l){return d(l)?l:r}function u(l,m,h){var T=l.color;T&&T._inputArray&&(T=T._inputArray);var c=v(T),o=v(m),p=L.extractOpts(l),x=[],A,_,y,E,M;if(p.colorscale!==void 0?A=L.makeColorScaleFuncFromTrace(l):A=i,c?_=function(S,b){return S[b]===void 0?g:n(A(S[b]))}:_=i,o?y=function(S,b){return S[b]===void 0?r:a(S[b])}:y=a,c||o)for(var s=0;s<h;s++)E=_(T,s),M=y(m,s),x[s]=t(E,M);else x=t(n(T),m);return x}function f(l){var m=L.extractOpts(l),h=m.colorscale;return m.reversescale&&(h=L.flipScale(m.colorscale)),h.map(function(T){var c=T[0],o=C(T[1]),p=o.toRgb();return{index:c,rgb:[p.r,p.g,p.b,p.a]}})}H.exports={formatColor:u,parseColorScale:f}},71688:function(H,U,e){var d=e(35536);function C(n){return[n]}H.exports={keyFun:function(n){return n.key},repeat:C,descend:d,wrap:C,unwrap:function(n){return n[0]}}},35536:function(H){H.exports=function(e){return e}},1396:function(H){H.exports=function(e,d){if(!d)return e;var C=1/Math.abs(d),n=C>1?(C*e+C*d)/C:e+d,L=String(n).length;if(L>16){var w=String(d).length,v=String(e).length;if(L>=v+w){var g=parseFloat(n).toPrecision(12);g.indexOf("e+")===-1&&(n=+g)}}return n}},3400:function(H,U,e){var d=e(33428),C=e(94336).E9,n=e(57624).E9,L=e(38248),w=e(39032),v=w.FP_SAFE,g=-v,r=w.BADNUM,t=H.exports={};t.adjustFormat=function(le){return!le||/^\d[.]\df/.test(le)||/[.]\d%/.test(le)?le:le==="0.f"?"~f":/^\d%/.test(le)?"~%":/^\ds/.test(le)?"~s":!/^[~,.0$]/.test(le)&&/[&fps]/.test(le)?"~"+le:le};var i={};t.warnBadFormat=function(ie){var le=String(ie);i[le]||(i[le]=1,t.warn('encountered bad format: "'+le+'"'))},t.noFormat=function(ie){return String(ie)},t.numberFormat=function(ie){var le;try{le=n(t.adjustFormat(ie))}catch{return t.warnBadFormat(ie),t.noFormat}return le},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var a=e(38116);t.isArrayBuffer=a.isArrayBuffer,t.isTypedArray=a.isTypedArray,t.isArrayOrTypedArray=a.isArrayOrTypedArray,t.isArray1D=a.isArray1D,t.ensureArray=a.ensureArray,t.concat=a.concat,t.maxRowLength=a.maxRowLength,t.minRowLength=a.minRowLength;var u=e(20435);t.mod=u.mod,t.modHalf=u.modHalf;var f=e(63064);t.valObjectMeta=f.valObjectMeta,t.coerce=f.coerce,t.coerce2=f.coerce2,t.coerceFont=f.coerceFont,t.coercePattern=f.coercePattern,t.coerceHoverinfo=f.coerceHoverinfo,t.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,t.validate=f.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var m=e(14952);t.findBin=m.findBin,t.sorterAsc=m.sorterAsc,t.sorterDes=m.sorterDes,t.distinctVals=m.distinctVals,t.roundUp=m.roundUp,t.sort=m.sort,t.findIndexOfMin=m.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var T=e(52248);t.init2dArray=T.init2dArray,t.transposeRagged=T.transposeRagged,t.dot=T.dot,t.translationMatrix=T.translationMatrix,t.rotationMatrix=T.rotationMatrix,t.rotationXYMatrix=T.rotationXYMatrix,t.apply3DTransform=T.apply3DTransform,t.apply2DTransform=T.apply2DTransform,t.apply2DTransform2=T.apply2DTransform2,t.convertCssMatrix=T.convertCssMatrix,t.inverseTransformMatrix=T.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var o=e(98308);t.isLeftAnchor=o.isLeftAnchor,t.isCenterAnchor=o.isCenterAnchor,t.isRightAnchor=o.isRightAnchor,t.isTopAnchor=o.isTopAnchor,t.isMiddleAnchor=o.isMiddleAnchor,t.isBottomAnchor=o.isBottomAnchor;var p=e(92348);t.segmentsIntersect=p.segmentsIntersect,t.segmentDistance=p.segmentDistance,t.getTextLocation=p.getTextLocation,t.clearLocationCache=p.clearLocationCache,t.getVisibleSegment=p.getVisibleSegment,t.findPointOnPath=p.findPointOnPath;var x=e(92880);t.extendFlat=x.extendFlat,t.extendDeep=x.extendDeep,t.extendDeepAll=x.extendDeepAll,t.extendDeepNoArrays=x.extendDeepNoArrays;var A=e(24248);t.log=A.log,t.warn=A.warn,t.error=A.error;var _=e(53756);t.counterRegex=_.counter;var y=e(91200);t.throttle=y.throttle,t.throttleDone=y.done,t.clearThrottle=y.clear;var E=e(52200);t.getGraphDiv=E.getGraphDiv,t.isPlotDiv=E.isPlotDiv,t.removeElement=E.removeElement,t.addStyleRule=E.addStyleRule,t.addRelatedStyleRule=E.addRelatedStyleRule,t.deleteRelatedStyleRule=E.deleteRelatedStyleRule,t.getFullTransformMatrix=E.getFullTransformMatrix,t.getElementTransformMatrix=E.getElementTransformMatrix,t.getElementAndAncestors=E.getElementAndAncestors,t.equalDomRects=E.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(le){return L(le)?(le=Number(le),le>v||le<g?r:le):r},t.isIndex=function(ie,le){return le!==void 0&&ie>=le?!1:L(ie)&&ie>=0&&ie%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(ie,le){for(var j=new Array(le),K=0;K<le;K++)j[K]=ie;return j},t.swapAttrs=function(ie,le,j,K){j||(j="x"),K||(K="y");for(var ue=0;ue<le.length;ue++){var ae=le[ue],he=t.nestedProperty(ie,ae.replace("?",j)),xe=t.nestedProperty(ie,ae.replace("?",K)),Se=he.get();he.set(xe.get()),xe.set(Se)}},t.raiseToTop=function(le){le.parentNode.appendChild(le)},t.cancelTransition=function(ie){return ie.transition().duration(0)},t.constrain=function(ie,le,j){return le>j?Math.max(j,Math.min(le,ie)):Math.max(le,Math.min(j,ie))},t.bBoxIntersect=function(ie,le,j){return j=j||0,ie.left<=le.right+j&&le.left<=ie.right+j&&ie.top<=le.bottom+j&&le.top<=ie.bottom+j},t.simpleMap=function(ie,le,j,K,ue){for(var ae=ie.length,he=new Array(ae),xe=0;xe<ae;xe++)he[xe]=le(ie[xe],j,K,ue);return he},t.randstr=function ie(le,j,K,ue){if(K||(K=16),j===void 0&&(j=24),j<=0)return"0";var ae=Math.log(Math.pow(2,j))/Math.log(K),he="",xe,Se,Ae;for(xe=2;ae===1/0;xe*=2)ae=Math.log(Math.pow(2,j/xe))/Math.log(K)*xe;var De=ae-Math.floor(ae);for(xe=0;xe<Math.floor(ae);xe++)Ae=Math.floor(Math.random()*K).toString(K),he=Ae+he;De&&(Se=Math.pow(K,De),Ae=Math.floor(Math.random()*Se).toString(K),he=Ae+he);var we=parseInt(he,K);return le&&le[he]||we!==1/0&&we>=Math.pow(2,j)?ue>10?(t.warn("randstr failed uniqueness"),he):ie(le,j,K,(ue||0)+1):he},t.OptionControl=function(ie,le){ie||(ie={}),le||(le="opt");var j={};return j.optionList=[],j._newoption=function(K){K[le]=ie,j[K.name]=K,j.optionList.push(K)},j["_"+le]=ie,j},t.smooth=function(ie,le){if(le=Math.round(le)||0,le<2)return ie;var j=ie.length,K=2*j,ue=2*le-1,ae=new Array(ue),he=new Array(j),xe,Se,Ae,De;for(xe=0;xe<ue;xe++)ae[xe]=(1-Math.cos(Math.PI*(xe+1)/le))/(2*le);for(xe=0;xe<j;xe++){for(De=0,Se=0;Se<ue;Se++)Ae=xe+Se+1-le,Ae<-j?Ae-=K*Math.round(Ae/K):Ae>=K&&(Ae-=K*Math.floor(Ae/K)),Ae<0?Ae=-1-Ae:Ae>=j&&(Ae=K-1-Ae),De+=ie[Ae]*ae[Se];he[xe]=De}return he},t.syncOrAsync=function(ie,le,j){var K,ue;function ae(){return t.syncOrAsync(ie,le,j)}for(;ie.length;)if(ue=ie.splice(0,1)[0],K=ue(le),K&&K.then)return K.then(ae);return j&&j(le)},t.stripTrailingSlash=function(ie){return ie.substr(-1)==="/"?ie.substr(0,ie.length-1):ie},t.noneOrAll=function(ie,le,j){if(ie){var K=!1,ue=!0,ae,he;for(ae=0;ae<j.length;ae++)he=ie[j[ae]],he!=null?K=!0:ue=!1;if(K&&!ue)for(ae=0;ae<j.length;ae++)ie[j[ae]]=le[j[ae]]}},t.mergeArray=function(ie,le,j,K){var ue=typeof K=="function";if(t.isArrayOrTypedArray(ie))for(var ae=Math.min(ie.length,le.length),he=0;he<ae;he++){var xe=ie[he];le[he][j]=ue?K(xe):xe}},t.mergeArrayCastPositive=function(ie,le,j){return t.mergeArray(ie,le,j,function(K){var ue=+K;return isFinite(ue)&&ue>0?ue:0})},t.fillArray=function(ie,le,j,K){if(K=K||t.identity,t.isArrayOrTypedArray(ie))for(var ue=0;ue<le.length;ue++)le[ue][j]=K(ie[ue])},t.castOption=function(ie,le,j,K){K=K||t.identity;var ue=t.nestedProperty(ie,j).get();return t.isArrayOrTypedArray(ue)?Array.isArray(le)&&t.isArrayOrTypedArray(ue[le[0]])?K(ue[le[0]][le[1]]):K(ue[le]):ue},t.extractOption=function(ie,le,j,K){if(j in ie)return ie[j];var ue=t.nestedProperty(le,K).get();if(!Array.isArray(ue))return ue};function M(ie){var le={};for(var j in ie)for(var K=ie[j],ue=0;ue<K.length;ue++)le[K[ue]]=+j;return le}t.tagSelected=function(ie,le,j){var K=le.selectedpoints,ue=le._indexToPoints,ae;ue&&(ae=M(ue));function he(we){return we!==void 0&&we<ie.length}for(var xe=0;xe<K.length;xe++){var Se=K[xe];if(t.isIndex(Se)||t.isArrayOrTypedArray(Se)&&t.isIndex(Se[0])&&t.isIndex(Se[1])){var Ae=ae?ae[Se]:Se,De=j?j[Ae]:Ae;he(De)&&(ie[De].selected=1)}}},t.selIndices2selPoints=function(ie){var le=ie.selectedpoints,j=ie._indexToPoints;if(j){for(var K=M(j),ue=[],ae=0;ae<le.length;ae++){var he=le[ae];if(t.isIndex(he)){var xe=K[he];t.isIndex(xe)&&ue.push(xe)}}return ue}else return le},t.getTargetArray=function(ie,le){var j=le.target;if(typeof j=="string"&&j){var K=t.nestedProperty(ie,j).get();return t.isArrayOrTypedArray(K)?K:!1}else if(t.isArrayOrTypedArray(j))return j;return!1};function s(ie,le,j){var K={};typeof le!="object"&&(le={});var ue=j==="pieLike"?-1:3,ae=Object.keys(ie),he,xe,Se;for(he=0;he<ae.length;he++)xe=ae[he],Se=ie[xe],!(xe.charAt(0)==="_"||typeof Se=="function")&&(xe==="module"?K[xe]=Se:Array.isArray(Se)?xe==="colorscale"||ue===-1?K[xe]=Se.slice():K[xe]=Se.slice(0,ue):t.isTypedArray(Se)?ue===-1?K[xe]=Se.subarray():K[xe]=Se.subarray(0,ue):Se&&typeof Se=="object"?K[xe]=s(ie[xe],le[xe],j):K[xe]=Se);for(ae=Object.keys(le),he=0;he<ae.length;he++)xe=ae[he],Se=le[xe],(typeof Se!="object"||!(xe in K)||typeof K[xe]!="object")&&(K[xe]=Se);return K}t.minExtend=s,t.titleCase=function(ie){return ie.charAt(0).toUpperCase()+ie.substr(1)},t.containsAny=function(ie,le){for(var j=0;j<le.length;j++)if(ie.indexOf(le[j])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var S=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return S.test(window.navigator.userAgent)};var b=/iPad|iPhone|iPod/;t.isIOS=function(){return b.test(window.navigator.userAgent)};var I=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var ie=I.exec(window.navigator.userAgent);if(ie&&ie.length===2){var le=parseInt(ie[1]);if(!isNaN(le))return le}return null},t.isD3Selection=function(ie){return ie instanceof d.selection},t.ensureSingle=function(ie,le,j,K){var ue=ie.select(le+(j?"."+j:""));if(ue.size())return ue;var ae=ie.append(le);return j&&ae.classed(j,!0),K&&ae.call(K),ae},t.ensureSingleById=function(ie,le,j,K){var ue=ie.select(le+"#"+j);if(ue.size())return ue;var ae=ie.append(le).attr("id",j);return K&&ae.call(K),ae},t.objectFromPath=function(ie,le){for(var j=ie.split("."),K,ue=K={},ae=0;ae<j.length;ae++){var he=j[ae],xe=null,Se=j[ae].match(/(.*)\[([0-9]+)\]/);Se?(he=Se[1],xe=Se[2],K=K[he]=[],ae===j.length-1?K[xe]=le:K[xe]={},K=K[xe]):(ae===j.length-1?K[he]=le:K[he]={},K=K[he])}return ue};var D=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function k(ie){return ie.slice(0,2)==="__"}t.expandObjectPaths=function(ie){var le,j,K,ue,ae,he,xe;if(typeof ie=="object"&&!Array.isArray(ie)){for(j in ie)if(ie.hasOwnProperty(j))if(le=j.match(D)){if(ue=ie[j],K=le[1],k(K))continue;delete ie[j],ie[K]=t.extendDeepNoArrays(ie[K]||{},t.objectFromPath(j,t.expandObjectPaths(ue))[K])}else if(le=j.match(B)){if(ue=ie[j],K=le[1],k(K))continue;if(ae=parseInt(le[2]),delete ie[j],ie[K]=ie[K]||[],le[3]===".")xe=le[4],he=ie[K][ae]=ie[K][ae]||{},t.extendDeepNoArrays(he,t.objectFromPath(xe,t.expandObjectPaths(ue)));else{if(k(K))continue;ie[K][ae]=t.expandObjectPaths(ue)}}else{if(k(j))continue;ie[j]=t.expandObjectPaths(ie[j])}}return ie},t.numSeparate=function(ie,le,j){if(j||(j=!1),typeof le!="string"||le.length===0)throw new Error("Separator string required for formatting!");typeof ie=="number"&&(ie=String(ie));var K=/(\d+)(\d{3})/,ue=le.charAt(0),ae=le.charAt(1),he=ie.split("."),xe=he[0],Se=he.length>1?ue+he[1]:"";if(ae&&(he.length>1||xe.length>4||j))for(;K.test(xe);)xe=xe.replace(K,"$1"+ae+"$2");return xe+Se},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;t.templateString=function(ie,le){var j={};return ie.replace(t.TEMPLATE_STRING_REGEX,function(K,ue){var ae;return F.test(ue)?ae=le[ue]:(j[ue]=j[ue]||t.nestedProperty(le,ue).get,ae=j[ue]()),t.isValidTextValue(ae)?ae:""})};var N={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return q.apply(N,arguments)};var O={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return q.apply(O,arguments)};var V=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function X(ie){var le=ie.match(V);return le?{key:le[1],op:le[2],number:Number(le[3])}:{key:ie,op:null,number:null}}var ee={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return q.apply(ee,arguments)};var ne=/^[:|\|]/;function q(ie,le,j){var K=this,ue=arguments;le||(le={});var ae={};return ie.replace(t.TEMPLATE_STRING_REGEX,function(he,xe,Se){var Ae=xe==="xother"||xe==="yother",De=xe==="_xother"||xe==="_yother",we=xe==="_xother_"||xe==="_yother_",Ce=xe==="xother_"||xe==="yother_",be=Ae||De||Ce||we,Pe=xe;(De||we)&&(Pe=Pe.substring(1)),(Ce||we)&&(Pe=Pe.substring(0,Pe.length-1));var Ve=null,Ge=null;if(K.parseMultDiv){var Fe=X(Pe);Pe=Fe.key,Ve=Fe.op,Ge=Fe.number}var He;if(be){if(He=le[Pe],He===void 0)return""}else{var ft,gt;for(gt=3;gt<ue.length;gt++)if(ft=ue[gt],!!ft){if(ft.hasOwnProperty(Pe)){He=ft[Pe];break}if(F.test(Pe)||(He=t.nestedProperty(ft,Pe).get(),He=ae[Pe]||t.nestedProperty(ft,Pe).get(),He&&(ae[Pe]=He)),He!==void 0)break}}if(He!==void 0&&(Ve==="*"&&(He*=Ge),Ve==="/"&&(He/=Ge)),He===void 0&&K)return K.count<K.max&&(t.warn("Variable '"+Pe+"' in "+K.name+" could not be found!"),He=he),K.count===K.max&&t.warn("Too many "+K.name+" warnings - additional warnings will be suppressed"),K.count++,he;if(Se){var ct;if(Se[0]===":"&&(ct=j?j.numberFormat:t.numberFormat,He!==""&&(He=ct(Se.replace(ne,""))(He))),Se[0]==="|"){ct=j?j.timeFormat:C;var nt=t.dateTime2ms(He);He=t.formatDate(nt,Se.replace(ne,""),!1,ct)}}else{var dt=Pe+"Label";le.hasOwnProperty(dt)&&(He=le[dt])}return be&&(He="("+He+")",(De||we)&&(He=" "+He),(Ce||we)&&(He=He+" ")),He})}var se=48,J=57;t.subplotSort=function(ie,le){for(var j=Math.min(ie.length,le.length)+1,K=0,ue=0,ae=0;ae<j;ae++){var he=ie.charCodeAt(ae)||0,xe=le.charCodeAt(ae)||0,Se=he>=se&&he<=J,Ae=xe>=se&&xe<=J;if(Se&&(K=10*K+he-se),Ae&&(ue=10*ue+xe-se),!Se||!Ae){if(K!==ue)return K-ue;if(he!==xe)return he-xe}}return ue-K};var Z=2e9;t.seedPseudoRandom=function(){Z=2e9},t.pseudoRandom=function(){var ie=Z;return Z=(69069*Z+1)%4294967296,Math.abs(Z-ie)<429496729?t.pseudoRandom():Z/4294967296},t.fillText=function(ie,le,j){var K=Array.isArray(j)?function(he){j.push(he)}:function(he){j.text=he},ue=t.extractOption(ie,le,"htx","hovertext");if(t.isValidTextValue(ue))return K(ue);var ae=t.extractOption(ie,le,"tx","text");if(t.isValidTextValue(ae))return K(ae)},t.isValidTextValue=function(ie){return ie||ie===0},t.formatPercent=function(ie,le){le=le||0;for(var j=(Math.round(100*ie*Math.pow(10,le))*Math.pow(.1,le)).toFixed(le)+"%",K=0;K<le;K++)j.indexOf(".")!==-1&&(j=j.replace("0%","%"),j=j.replace(".%","%"));return j},t.isHidden=function(ie){var le=window.getComputedStyle(ie).display;return!le||le==="none"},t.strTranslate=function(ie,le){return ie||le?"translate("+ie+","+le+")":""},t.strRotate=function(ie){return ie?"rotate("+ie+")":""},t.strScale=function(ie){return ie!==1?"scale("+ie+")":""},t.getTextTransform=function(ie){var le=ie.noCenter,j=ie.textX,K=ie.textY,ue=ie.targetX,ae=ie.targetY,he=ie.anchorX||0,xe=ie.anchorY||0,Se=ie.rotate,Ae=ie.scale;return Ae?Ae>1&&(Ae=1):Ae=0,t.strTranslate(ue-Ae*(j+he),ae-Ae*(K+xe))+t.strScale(Ae)+(Se?"rotate("+Se+(le?"":" "+j+" "+K)+")":"")},t.setTransormAndDisplay=function(ie,le){ie.attr("transform",t.getTextTransform(le)),ie.style("display",le.scale?null:"none")},t.ensureUniformFontSize=function(ie,le){var j=t.extendFlat({},le);return j.size=Math.max(le.size,ie._fullLayout.uniformtext.minsize||0),j},t.join2=function(ie,le,j){var K=ie.length;return K>1?ie.slice(0,-1).join(le)+j+ie[K-1]:ie.join(le)},t.bigFont=function(ie){return Math.round(1.2*ie)};var te=t.getFirefoxVersion(),Y=te!==null&&te<86;t.getPositionFromD3Event=function(){return Y?[d.event.layerX,d.event.layerY]:[d.event.offsetX,d.event.offsetY]}},63620:function(H){H.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(H,U,e){var d=e(22296),C=/^\w*$/,n=0,L=1,w=2,v=3,g=4;H.exports=function(t,i,a,u){a=a||"name",u=u||"value";var f,l,m,h={};i&&i.length?(m=d(t,i),l=m.get()):l=t,i=i||"";var T={};if(l)for(f=0;f<l.length;f++)T[l[f][a]]=f;var c=C.test(u),o={set:function(p,x){var A=x===null?g:n;if(!l){if(!m||A===g)return;l=[],m.set(l)}var _=T[p];if(_===void 0){if(A===g)return;A=A|v,_=l.length,T[p]=_}else x!==(c?l[_][u]:d(l[_],u).get())&&(A=A|w);var y=l[_]=l[_]||{};return y[a]=p,c?y[u]=x:d(y,u).set(x),x!==null&&(A=A&~g),h[_]=h[_]|A,o},get:function(p){if(l){var x=T[p];if(x!==void 0)return c?l[x][u]:d(l[x],u).get()}},rename:function(p,x){var A=T[p];return A===void 0||(h[A]=h[A]|L,T[x]=A,delete T[p],l[A][a]=x),o},remove:function(p){var x=T[p];if(x===void 0)return o;var A=l[x];if(Object.keys(A).length>2)return h[x]=h[x]|w,o.set(p,null);if(c){for(f=x;f<l.length;f++)h[f]=h[f]|v;for(f=x;f<l.length;f++)T[l[f][a]]--;l.splice(x,1),delete T[p]}else d(A,u).set(null),h[x]=h[x]|w|g;return o},constructUpdate:function(){for(var p,x,A={},_=Object.keys(h),y=0;y<_.length;y++)x=_[y],p=i+"["+x+"]",l[x]?(h[x]&L&&(A[p+"."+a]=l[x][a]),h[x]&w&&(c?A[p+"."+u]=h[x]&g?null:l[x][u]:A[p+"."+u]=h[x]&g?null:d(l[x],u).get())):A[p]=null;return A}};return o}},98356:function(H,U,e){var d=e(24040);H.exports=function(n,L){for(var w=n._context.locale,v=0;v<2;v++){for(var g=n._context.locales,r=0;r<2;r++){var t=(g[w]||{}).dictionary;if(t){var i=t[L];if(i)return i}g=d.localeRegistry}var a=w.split("-")[0];if(a===w)break;w=a}return L}},24248:function(H,U,e){var d=e(20556).dfltConfig,C=e(41792),n=H.exports={};n.log=function(){var L;if(d.logging>1){var w=["LOG:"];for(L=0;L<arguments.length;L++)w.push(arguments[L]);console.trace.apply(console,w)}if(d.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);C(v.join("<br>"),"long")}},n.warn=function(){var L;if(d.logging>0){var w=["WARN:"];for(L=0;L<arguments.length;L++)w.push(arguments[L]);console.trace.apply(console,w)}if(d.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);C(v.join("<br>"),"stick")}},n.error=function(){var L;if(d.logging>0){var w=["ERROR:"];for(L=0;L<arguments.length;L++)w.push(arguments[L]);console.error.apply(console,w)}if(d.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);C(v.join("<br>"),"stick")}}},30988:function(H,U,e){var d=e(33428);H.exports=function(n,L,w){var v=n.selectAll("g."+w.replace(/\s/g,".")).data(L,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",w),v.order();var g=n.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][g]=d.select(this)}),v}},52248:function(H,U,e){var d=e(36524);U.init2dArray=function(C,n){for(var L=new Array(C),w=0;w<C;w++)L[w]=new Array(n);return L},U.transposeRagged=function(C){var n=0,L=C.length,w,v;for(w=0;w<L;w++)n=Math.max(n,C[w].length);var g=new Array(n);for(w=0;w<n;w++)for(g[w]=new Array(L),v=0;v<L;v++)g[w][v]=C[v][w];return g},U.dot=function(C,n){if(!(C.length&&n.length)||C.length!==n.length)return null;var L=C.length,w,v;if(C[0].length)for(w=new Array(L),v=0;v<L;v++)w[v]=U.dot(C[v],n);else if(n[0].length){var g=U.transposeRagged(n);for(w=new Array(g.length),v=0;v<g.length;v++)w[v]=U.dot(C,g[v])}else for(w=0,v=0;v<L;v++)w+=C[v]*n[v];return w},U.translationMatrix=function(C,n){return[[1,0,C],[0,1,n],[0,0,1]]},U.rotationMatrix=function(C){var n=C*Math.PI/180;return[[Math.cos(n),-Math.sin(n),0],[Math.sin(n),Math.cos(n),0],[0,0,1]]},U.rotationXYMatrix=function(C,n,L){return U.dot(U.dot(U.translationMatrix(n,L),U.rotationMatrix(C)),U.translationMatrix(-n,-L))},U.apply3DTransform=function(C){return function(){var n=arguments,L=arguments.length===1?n[0]:[n[0],n[1],n[2]||0];return U.dot(C,[L[0],L[1],L[2],1]).slice(0,3)}},U.apply2DTransform=function(C){return function(){var n=arguments;n.length===3&&(n=n[0]);var L=arguments.length===1?n[0]:[n[0],n[1]];return U.dot(C,[L[0],L[1],1]).slice(0,2)}},U.apply2DTransform2=function(C){var n=U.apply2DTransform(C);return function(L){return n(L.slice(0,2)).concat(n(L.slice(2,4)))}},U.convertCssMatrix=function(C){if(C){var n=C.length;if(n===16)return C;if(n===6)return[C[0],C[1],0,0,C[2],C[3],0,0,0,0,1,0,C[4],C[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},U.inverseTransformMatrix=function(C){var n=[];return d.invert(n,C),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}},20435:function(H){function U(d,C){var n=d%C;return n<0?n+C:n}function e(d,C){return Math.abs(d)>C/2?d-Math.round(d/C)*C:d}H.exports={mod:U,modHalf:e}},22296:function(H,U,e){var d=e(38248),C=e(38116).isArrayOrTypedArray;H.exports=function(u,f){if(d(f))f=String(f);else if(typeof f!="string"||f.substr(f.length-4)==="[-1]")throw"bad property string";var l=f.split("."),m,h,T,c;for(c=0;c<l.length;c++)if(String(l[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<l.length;){if(m=String(l[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])l[c]=m[1];else if(c===0)l.splice(0,1);else throw"bad property string";for(h=m[2].substr(1,m[2].length-2).split("]["),T=0;T<h.length;T++)c++,l.splice(c,0,Number(h[T]))}c++}return typeof u!="object"?i(u,f,l):{set:v(u,l,f),get:n(u,l),astr:f,parts:l,obj:u}};function n(a,u){return function(){var f=a,l,m,h,T,c;for(T=0;T<u.length-1;T++){if(l=u[T],l===-1){for(m=!0,h=[],c=0;c<f.length;c++)h[c]=n(f[c],u.slice(T+1))(),h[c]!==h[0]&&(m=!1);return m?h[0]:h}if(typeof l=="number"&&!C(f)||(f=f[l],typeof f!="object"||f===null))return}if(!(typeof f!="object"||f===null)&&(h=f[u[T]],h!==null))return h}}var L=/(^|\.)args\[/;function w(a,u){return a===void 0||a===null&&!u.match(L)}function v(a,u,f){return function(l){var m=a,h="",T=w(l,f),c,o;for(o=0;o<u.length-1;o++){if(c=u[o],typeof c=="number"&&!C(m))throw"array index but container is not an array";if(c===-1){if(T=!r(m,u.slice(o+1),l,f),T)break;return}if(!t(m,c,u[o+1],T))break;if(m=m[c],typeof m!="object"||m===null)throw"container is not an object";h=g(h,c)}if(T){if(o===u.length-1&&(delete m[u[o]],Array.isArray(m)&&+u[o]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[u[o]]=l}}function g(a,u){var f=u;return d(u)?f="["+u+"]":a&&(f="."+u),a+f}function r(a,u,f,l){var m=C(f),h=!0,T=f,c=l.replace("-1",0),o=m?!1:w(f,c),p=u[0],x;for(x=0;x<a.length;x++)c=l.replace("-1",x),m&&(T=f[x%f.length],o=w(T,c)),o&&(h=!1),t(a,x,p,o)&&v(a[x],u,l.replace("-1",x))(T);return h}function t(a,u,f,l){if(a[u]===void 0){if(l)return!1;typeof f=="number"?a[u]=[]:a[u]={}}return!0}function i(a,u,f){return{set:function(){throw"bad container"},get:function(){},astr:u,parts:f,obj:a}}},16628:function(H){H.exports=function(){}},41792:function(H,U,e){var d=e(33428),C=e(38248),n=[];H.exports=function(L,w){if(n.indexOf(L)!==-1)return;n.push(L);var v=1e3;C(w)?v=w:w==="long"&&(v=3e3);var g=d.select("body").selectAll(".plotly-notifier").data([0]);g.enter().append("div").classed("plotly-notifier",!0);var r=g.selectAll(".notifier-note").data(n);function t(i){i.duration(700).style("opacity",0).each("end",function(a){var u=n.indexOf(a);u!==-1&&n.splice(u,1),d.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var a=d.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(t)});for(var u=a.append("p"),f=i.split(/<br\s*\/?>/g),l=0;l<f.length;l++)l&&u.append("br"),u.append("span").text(f[l]);w==="stick"?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(H,U,e){var d=e(93972),C="data-savedcursor",n="!!";H.exports=function(w,v){var g=w.attr(C);if(v){if(!g){for(var r=(w.attr("class")||"").split(" "),t=0;t<r.length;t++){var i=r[t];i.indexOf("cursor-")===0&&w.attr(C,i.substr(7)).classed(i,!1)}w.attr(C)||w.attr(C,n)}d(w,v)}else g&&(w.attr(C,null),g===n?d(w):d(w,g))}},92065:function(H,U,e){var d=e(52248).dot,C=e(39032).BADNUM,n=H.exports={};n.tester=function(w){var v=w.slice(),g=v[0][0],r=g,t=v[0][1],i=t,a;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),a=1;a<v.length;a++)g=Math.min(g,v[a][0]),r=Math.max(r,v[a][0]),t=Math.min(t,v[a][1]),i=Math.max(i,v[a][1]);var u=!1,f;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(u=!0,f=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(u=!0,f=function(c){return c[1]===v[0][1]}));function l(c,o){var p=c[0],x=c[1];return!(p===C||p<g||p>r||x===C||x<t||x>i||o&&f(c))}function m(c,o){var p=c[0],x=c[1];if(p===C||p<g||p>r||x===C||x<t||x>i)return!1;var A=v.length,_=v[0][0],y=v[0][1],E=0,M,s,S,b,I;for(M=1;M<A;M++)if(s=_,S=y,_=v[M][0],y=v[M][1],b=Math.min(s,_),!(p<b||p>Math.max(s,_)||x>Math.max(S,y)))if(x<Math.min(S,y))p!==b&&E++;else{if(_===s?I=x:I=S+(p-s)*(y-S)/(_-s),x===I)return!(M===1&&o);x<=I&&p!==b&&E++}return E%2===1}var h=!0,T=v[0];for(a=1;a<v.length;a++)if(T[0]!==v[a][0]||T[1]!==v[a][1]){h=!1;break}return{xmin:g,xmax:r,ymin:t,ymax:i,pts:v,contains:u?l:m,isRect:u,degenerate:h}},n.isSegmentBent=function(w,v,g,r){var t=w[v],i=[w[g][0]-t[0],w[g][1]-t[1]],a=d(i,i),u=Math.sqrt(a),f=[-i[1]/u,i[0]/u],l,m,h;for(l=v+1;l<g;l++)if(m=[w[l][0]-t[0],w[l][1]-t[1]],h=d(m,i),h<0||h>a||Math.abs(d(m,f))>r)return!0;return!1},n.filter=function(w,v){var g=[w[0]],r=0,t=0;function i(u){w.push(u);var f=g.length,l=r;g.splice(t+1);for(var m=l+1;m<w.length;m++)(m===w.length-1||n.isSegmentBent(w,l,m+1,v))&&(g.push(w[m]),g.length<f-2&&(r=m,t=g.length-1),l=m)}if(w.length>1){var a=w.pop();i(a)}return{addPt:i,raw:w,filtered:g}}},5048:function(H,U,e){var d=e(16576),C=e(28624);H.exports=function(L,w,v){var g=L._fullLayout,r=!0;return g._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!g._has("parcoords"))){try{t.regl=C({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:w||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(i){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),r||d({container:g._glcontainer.node()}),r}},34296:function(H,U,e){var d=e(38248),C=e(25928);H.exports=function(w){var v;if(w&&w.hasOwnProperty("userAgent")?v=w.userAgent:v=n(),typeof v!="string")return!0;var g=C({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!g)for(var r=v.split(" "),t=1;t<r.length;t++){var i=r[t];if(i.indexOf("Safari")!==-1)for(var a=t-1;a>-1;a--){var u=r[a];if(u.substr(0,8)==="Version/"){var f=u.substr(8).split(".")[0];if(d(f)&&(f=+f),f>=13)return!0}}}return g};function n(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},52416:function(H){H.exports=function(e,d){if(d instanceof RegExp){for(var C=d.toString(),n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===C)return e;e.push(d)}else(d||d===0)&&e.indexOf(d)===-1&&e.push(d);return e}},94552:function(H,U,e){var d=e(3400),C=e(20556).dfltConfig;function n(w,v){for(var g=[],r,t=0;t<v.length;t++)r=v[t],r===w?g[t]=r:typeof r=="object"?g[t]=Array.isArray(r)?d.extendDeep([],r):d.extendDeepAll({},r):g[t]=r;return g}var L={};L.add=function(w,v,g,r,t){var i,a;if(w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},a=w.undoQueue.index,w.autoplay){w.undoQueue.inSequence||(w.autoplay=!1);return}!w.undoQueue.sequence||w.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},w.undoQueue.queue.splice(a,w.undoQueue.queue.length-a,i),w.undoQueue.index+=1):i=w.undoQueue.queue[a-1],w.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(v),i.undo.args.unshift(g),i.redo.calls.push(r),i.redo.args.push(t)),w.undoQueue.queue.length>C.queueLength&&(w.undoQueue.queue.shift(),w.undoQueue.index--)},L.startSequence=function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!0,w.undoQueue.beginSequence=!0},L.stopSequence=function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!1,w.undoQueue.beginSequence=!1},L.undo=function(v){var g,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,g=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<g.undo.calls.length;r++)L.plotDo(v,g.undo.calls[r],g.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},L.redo=function(v){var g,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(g=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<g.redo.calls.length;r++)L.plotDo(v,g.redo.calls[r],g.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},L.plotDo=function(w,v,g){w.autoplay=!0,g=n(w,g),v.apply(null,g)},H.exports=L},53756:function(H,U){U.counter=function(e,d,C,n){var L=(d||"")+(C?"":"$"),w=n===!1?"":"^";return e==="xy"?new RegExp(w+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(w+e+"([2-9]|[1-9][0-9]+)?"+L)}},23193:function(H){var U=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;H.exports=function(d,C){for(;C;){var n=d.match(U);if(n)d=n[1];else if(d.match(e))d="";else throw new Error("bad relativeAttr call:"+[d,C]);if(C.charAt(0)==="^")C=C.slice(1);else break}return d&&C.charAt(0)!=="["?d+"."+C:d+C}},51528:function(H,U,e){var d=e(38116).isArrayOrTypedArray,C=e(63620);H.exports=function n(L,w){for(var v in w){var g=w[v],r=L[v];if(r!==g)if(v.charAt(0)==="_"||typeof g=="function"){if(v in L)continue;L[v]=g}else if(d(g)&&d(r)&&C(g[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(g.length,r.length),i=0;i<t;i++)r[i]!==g[i]&&C(g[i])&&C(r[i])&&n(r[i],g[i])}else C(g)&&C(r)&&(n(r,g),Object.keys(r).length||delete L[v])}}},14952:function(H,U,e){var d=e(38248),C=e(24248),n=e(35536),L=e(39032).BADNUM,w=1e-9;U.findBin=function(i,a,u){if(d(a.start))return u?Math.ceil((i-a.start)/a.size-w)-1:Math.floor((i-a.start)/a.size+w);var f=0,l=a.length,m=0,h=l>1?(a[l-1]-a[0])/(l-1):1,T,c;for(h>=0?c=u?v:g:c=u?t:r,i+=h*w*(u?-1:1)*(h>=0?1:-1);f<l&&m++<100;)T=Math.floor((f+l)/2),c(a[T],i)?f=T+1:l=T;return m>90&&C.log("Long binary search..."),f-1};function v(i,a){return i<a}function g(i,a){return i<=a}function r(i,a){return i>a}function t(i,a){return i>=a}U.sorterAsc=function(i,a){return i-a},U.sorterDes=function(i,a){return a-i},U.distinctVals=function(i){var a=i.slice();a.sort(U.sorterAsc);var u;for(u=a.length-1;u>-1&&a[u]===L;u--);for(var f=a[u]-a[0]||1,l=f/(u||1)/1e4,m=[],h,T=0;T<=u;T++){var c=a[T],o=c-h;h===void 0?(m.push(c),h=c):o>l&&(f=Math.min(f,o),m.push(c),h=c)}return{vals:m,minDiff:f}},U.roundUp=function(i,a,u){for(var f=0,l=a.length-1,m,h=0,T=u?0:1,c=u?1:0,o=u?Math.ceil:Math.floor;f<l&&h++<100;)m=o((f+l)/2),a[m]<=i?f=m+T:l=m-c;return a[f]},U.sort=function(i,a){for(var u=0,f=0,l=1;l<i.length;l++){var m=a(i[l],i[l-1]);if(m<0?u=1:m>0&&(f=1),u&&f)return i.sort(a)}return f?i:i.reverse()},U.findIndexOfMin=function(i,a){a=a||n;for(var u=1/0,f,l=0;l<i.length;l++){var m=a(i[l]);m<u&&(u=m,f=l)}return f}},93972:function(H){H.exports=function(e,d){(e.attr("class")||"").split(" ").forEach(function(C){C.indexOf("cursor-")===0&&e.classed(C,!1)}),d&&e.classed("cursor-"+d,!0)}},16576:function(H,U,e){var d=e(76308),C=function(){};H.exports=function(L){for(var w in L)typeof L[w]=="function"&&(L[w]=C);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=d.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=d.lightLine,v.style["z-index"]=30;var g=document.createElement("p");return g.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",g.style.position="relative",g.style.top="50%",g.style.left="50%",g.style.height="30%",g.style.width="50%",g.style.margin="-15% 0 0 -25%",v.appendChild(g),L.container.appendChild(v),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(H){H.exports=function(e){return Object.keys(e).sort()}},63084:function(H,U,e){var d=e(38248),C=e(38116).isArrayOrTypedArray;U.aggNums=function(n,L,w,v){var g,r;if((!v||v>w.length)&&(v=w.length),d(L)||(L=!1),C(w[0])){for(r=new Array(v),g=0;g<v;g++)r[g]=U.aggNums(n,L,w[g]);w=r}for(g=0;g<v;g++)d(L)?d(w[g])&&(L=n(+L,+w[g])):L=w[g];return L},U.len=function(n){return U.aggNums(function(L){return L+1},0,n)},U.mean=function(n,L){return L||(L=U.len(n)),U.aggNums(function(w,v){return w+v},0,n)/L},U.midRange=function(n){if(!(n===void 0||n.length===0))return(U.aggNums(Math.max,null,n)+U.aggNums(Math.min,null,n))/2},U.variance=function(n,L,w){return L||(L=U.len(n)),d(w)||(w=U.mean(n,L)),U.aggNums(function(v,g){return v+Math.pow(g-w,2)},0,n)/L},U.stdev=function(n,L,w){return Math.sqrt(U.variance(n,L,w))},U.median=function(n){var L=n.slice().sort();return U.interp(L,.5)},U.interp=function(n,L){if(!d(L))throw"n should be a finite number";if(L=L*n.length-.5,L<0)return n[0];if(L>n.length-1)return n[n.length-1];var w=L%1;return w*n[Math.ceil(L)]+(1-w)*n[Math.floor(L)]}},43080:function(H,U,e){var d=e(72160);function C(n){return n?d(n):[0,0,0,1]}H.exports=C},9188:function(H,U,e){var d=e(2264),C=e(43616),n=e(3400),L=null;function w(){if(L!==null)return L;L=!1;var v=n.isIE()||n.isSafari()||n.isIOS();if(window.navigator.userAgent&&!v){var g=Array.from(d.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")L=g.some(function(u){return r.apply(null,u)});else{var t=C.tester.append("image").attr("style",d.STYLE),i=window.getComputedStyle(t.node()),a=i.imageRendering;L=g.some(function(u){var f=u[1];return a===f||a===f.toLowerCase()}),t.remove()}}return L}H.exports=w},72736:function(H,U,e){var d=e(33428),C=e(3400),n=C.strTranslate,L=e(9616),w=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;U.convertToTspans=function(N,O,V){var X=N.text(),ee=!N.attr("data-notex")&&O&&O._context.typesetMath&&typeof MathJax<"u"&&X.match(v),ne=d.select(N.node().parentNode);if(ne.empty())return;var q=N.attr("class")?N.attr("class").split(" ")[0]:"text";q+="-math",ne.selectAll("svg."+q).remove(),ne.selectAll("g."+q+"-group").remove(),N.style("display",null).attr({"data-unformatted":X,"data-math":"N"});function se(){ne.empty()||(q=N.attr("class")+"-math",ne.select("svg."+q).remove()),N.text("").style("white-space","pre");var J=D(N.node(),X);J&&N.style("pointer-events","all"),U.positionText(N),V&&V.call(N)}return ee?(O&&O._promises||[]).push(new Promise(function(J){N.style("display","none");var Z=parseInt(N.node().style.fontSize,10),te={fontSize:Z};a(ee[2],te,function(Y,ie,le){ne.selectAll("svg."+q).remove(),ne.selectAll("g."+q+"-group").remove();var j=Y&&Y.select("svg");if(!j||!j.node()){se(),J();return}var K=ne.append("g").classed(q+"-group",!0).attr({"pointer-events":"none","data-unformatted":X,"data-math":"Y"});K.node().appendChild(j.node()),ie&&ie.node()&&j.node().insertBefore(ie.node().cloneNode(!0),j.node().firstChild);var ue=le.width,ae=le.height;j.attr({class:q,height:ae,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var he=N.node().style.fill||"black",xe=j.select("g");xe.attr({fill:he,stroke:he});var Se=xe.node().getBoundingClientRect(),Ae=Se.width,De=Se.height;(Ae>ue||De>ae)&&(j.style("overflow","hidden"),Se=j.node().getBoundingClientRect(),Ae=Se.width,De=Se.height);var we=+N.attr("x"),Ce=+N.attr("y"),be=Z||N.node().getBoundingClientRect().height,Pe=-be/4;if(q[0]==="y")K.attr({transform:"rotate("+[-90,we,Ce]+")"+n(-Ae/2,Pe-De/2)});else if(q[0]==="l")Ce=Pe-De/2;else if(q[0]==="a"&&q.indexOf("atitle")!==0)we=0,Ce=Pe;else{var Ve=N.attr("text-anchor");we=we-Ae*(Ve==="middle"?.5:Ve==="end"?1:0),Ce=Ce+Pe-De/2}j.attr({x:we,y:Ce}),V&&V.call(N,K),J(K)})})):se(),N};var g=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(N){return N.replace(g,"\\lt ").replace(r,"\\gt ")}var i=[["$","$"],["\\(","\\)"]];function a(N,O,V){var X=parseInt((MathJax.version||"").split(".")[0]);if(X!==2&&X!==3){C.warn("No MathJax version:",MathJax.version);return}var ee,ne,q,se,J=function(){return ne=C.extendDeepAll({},MathJax.Hub.config),q=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},Z=function(){ne=C.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i},te=function(){if(ee=MathJax.Hub.config.menuSettings.renderer,ee!=="SVG")return MathJax.Hub.setRenderer("SVG")},Y=function(){ee=MathJax.config.startup.output,ee!=="svg"&&(MathJax.config.startup.output="svg")},ie=function(){var he="math-output-"+C.randstr({},64);se=d.select("body").append("div").attr({id:he}).style({visibility:"hidden",position:"absolute","font-size":O.fontSize+"px"}).text(t(N));var xe=se.node();return X===2?MathJax.Hub.Typeset(xe):MathJax.typeset([xe])},le=function(){var he=se.select(X===2?".MathJax_SVG":".MathJax"),xe=!he.empty()&&se.select("svg").node();if(!xe)C.log("There was an error in the tex syntax.",N),V();else{var Se=xe.getBoundingClientRect(),Ae;X===2?Ae=d.select("body").select("#MathJax_SVG_glyphs"):Ae=he.select("defs"),V(he,Ae,Se)}se.remove()},j=function(){if(ee!=="SVG")return MathJax.Hub.setRenderer(ee)},K=function(){ee!=="svg"&&(MathJax.config.startup.output=ee)},ue=function(){return q!==void 0&&(MathJax.Hub.processSectionDelay=q),MathJax.Hub.Config(ne)},ae=function(){MathJax.config=ne};X===2?MathJax.Hub.Queue(J,te,ie,le,j,ue):X===3&&(Z(),Y(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ie(),le(),K(),ae()}))}var u={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},m="",h=["http:","https:","mailto:","",void 0,":"],T=U.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;U.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,_=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,y=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(N,O){if(!N)return null;var V=N.match(O),X=V&&(V[3]||V[4]);return X&&b(X)}var M=/(^|;)\s*color:/;U.plainText=function(N,O){O=O||{};for(var V=O.len!==void 0&&O.len!==-1?O.len:1/0,X=O.allowedTags!==void 0?O.allowedTags:["br"],ee="...",ne=ee.length,q=N.split(c),se=[],J="",Z=0,te=0;te<q.length;te++){var Y=q[te],ie=Y.match(o),le=ie&&ie[2].toLowerCase();if(le)X.indexOf(le)!==-1&&(se.push(Y),J=le);else{var j=Y.length;if(Z+j<V)se.push(Y),Z+=j;else if(Z<V){var K=V-Z;J&&(J!=="br"||K<=ne||j<=ne)&&se.pop(),V>ne?se.push(Y.substr(0,K-ne)+ee):se.push(Y.substr(0,K));break}J=""}}return se.join("")};var s={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},S=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function b(N){return N.replace(S,function(O,V){var X;return V.charAt(0)==="#"?X=I(V.charAt(1)==="x"?parseInt(V.substr(2),16):parseInt(V.substr(1),10)):X=s[V],X||O})}U.convertEntities=b;function I(N){if(!(N>1114111)){var O=String.fromCodePoint;if(O)return O(N);var V=String.fromCharCode;return N<=65535?V(N):V((N>>10)+55232,N%1024+56320)}}function D(N,O){O=O.replace(T," ");var V=!1,X=[],ee,ne=-1;function q(){ne++;var De=document.createElementNS(L.svg,"tspan");d.select(De).attr({class:"line",dy:ne*w+"em"}),N.appendChild(De),ee=De;var we=X;if(X=[{node:De}],we.length>1)for(var Ce=1;Ce<we.length;Ce++)se(we[Ce])}function se(De){var we=De.type,Ce={},be;if(we==="a"){be="a";var Pe=De.target,Ve=De.href,Ge=De.popup;Ve&&(Ce={"xlink:xlink:show":Pe==="_blank"||Pe.charAt(0)!=="_"?"new":"replace",target:Pe,"xlink:xlink:href":Ve},Ge&&(Ce.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ge+'");return false;'))}else be="tspan";De.style&&(Ce.style=De.style);var Fe=document.createElementNS(L.svg,be);if(we==="sup"||we==="sub"){J(ee,m),ee.appendChild(Fe);var He=document.createElementNS(L.svg,"tspan");J(He,m),d.select(He).attr("dy",l[we]),Ce.dy=f[we],ee.appendChild(Fe),ee.appendChild(He)}else ee.appendChild(Fe);d.select(Fe).attr(Ce),ee=De.node=Fe,X.push(De)}function J(De,we){De.appendChild(document.createTextNode(we))}function Z(De){if(X.length===1){C.log("Ignoring unexpected end tag </"+De+">.",O);return}var we=X.pop();De!==we.type&&C.log("Start tag <"+we.type+"> doesnt match end tag <"+De+">. Pretending it did match.",O),ee=X[X.length-1].node}var te=p.test(O);te?q():(ee=N,X=[{node:N}]);for(var Y=O.split(c),ie=0;ie<Y.length;ie++){var le=Y[ie],j=le.match(o),K=j&&j[2].toLowerCase(),ue=u[K];if(K==="br")q();else if(ue===void 0)J(ee,b(le));else if(j[1])Z(K);else{var ae=j[4],he={type:K},xe=E(ae,x);if(xe?(xe=xe.replace(M,"$1 fill:"),ue&&(xe+=";"+ue)):ue&&(xe=ue),xe&&(he.style=xe),K==="a"){V=!0;var Se=E(ae,A);if(Se){var Ae=B(Se);Ae&&(he.href=Ae,he.target=E(ae,_)||"_blank",he.popup=E(ae,y))}}se(he)}}return V}function B(N){var O=encodeURI(decodeURI(N)),V=document.createElement("a"),X=document.createElement("a");V.href=N,X.href=O;var ee=V.protocol,ne=X.protocol;return h.indexOf(ee)!==-1&&h.indexOf(ne)!==-1?O:""}U.sanitizeHTML=function(O){O=O.replace(T," ");for(var V=document.createElement("p"),X=V,ee=[],ne=O.split(c),q=0;q<ne.length;q++){var se=ne[q],J=se.match(o),Z=J&&J[2].toLowerCase();if(Z in u)if(J[1])ee.length&&(X=ee.pop());else{var te=J[4],Y=E(te,x),ie=Y?{style:Y}:{};if(Z==="a"){var le=E(te,A);if(le){var j=B(le);if(j){ie.href=j;var K=E(te,_);K&&(ie.target=K)}}}var ue=document.createElement(Z);X.appendChild(ue),d.select(ue).attr(ie),X=ue,ee.push(ue)}else X.appendChild(document.createTextNode(b(se)))}var ae="innerHTML";return V[ae]},U.lineCount=function(O){return O.selectAll("tspan.line").size()||1},U.positionText=function(O,V,X){return O.each(function(){var ee=d.select(this);function ne(J,Z){return Z===void 0?(Z=ee.attr(J),Z===null&&(ee.attr(J,0),Z=0)):ee.attr(J,Z),Z}var q=ne("x",V),se=ne("y",X);this.nodeName==="text"&&ee.selectAll("tspan.line").attr({x:q,y:se})})};function k(N,O,V){var X=V.horizontalAlign,ee=V.verticalAlign||"top",ne=N.node().getBoundingClientRect(),q=O.node().getBoundingClientRect(),se,J,Z;return ee==="bottom"?J=function(){return ne.bottom-se.height}:ee==="middle"?J=function(){return ne.top+(ne.height-se.height)/2}:J=function(){return ne.top},X==="right"?Z=function(){return ne.right-se.width}:X==="center"?Z=function(){return ne.left+(ne.width-se.width)/2}:Z=function(){return ne.left},function(){se=this.node().getBoundingClientRect();var te=Z()-q.left,Y=J()-q.top,ie=V.gd||{};if(V.gd){ie._fullLayout._calcInverseTransform(ie);var le=C.apply3DTransform(ie._fullLayout._invTransform)(te,Y);te=le[0],Y=le[1]}return this.style({top:Y+"px",left:te+"px","z-index":1e3}),this}}var F="1px ";U.makeTextShadow=function(N){var O=F,V=F,X=F;return O+V+X+N+", -"+O+"-"+V+X+N+", "+O+"-"+V+X+N+", -"+O+V+X+N},U.makeEditable=function(N,O){var V=O.gd,X=O.delegate,ee=d.dispatch("edit","input","cancel"),ne=X||N;if(N.style({"pointer-events":X?"none":"all"}),N.size()!==1)throw new Error("boo");function q(){J(),N.style({opacity:0});var Z=ne.attr("class"),te;Z?te="."+Z.split(" ")[0]+"-math-group":te="[class*=-math-group]",te&&d.select(N.node().parentNode).select(te).style({opacity:0})}function se(Z){var te=Z.node(),Y=document.createRange();Y.selectNodeContents(te);var ie=window.getSelection();ie.removeAllRanges(),ie.addRange(Y),te.focus()}function J(){var Z=d.select(V),te=Z.select(".svg-container"),Y=te.append("div"),ie=N.node().style,le=parseFloat(ie.fontSize||12),j=O.text;j===void 0&&(j=N.attr("data-unformatted")),Y.classed("plugin-editable editable",!0).style({position:"absolute","font-family":ie.fontFamily||"Arial","font-size":le,color:O.fill||ie.fill||"black",opacity:1,"background-color":O.background||"transparent",outline:"#ffffff33 1px solid",margin:[-le/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(j).call(k(N,te,O)).on("blur",function(){V._editing=!1,N.text(this.textContent).style({opacity:1});var K=d.select(this).attr("class"),ue;K?ue="."+K.split(" ")[0]+"-math-group":ue="[class*=-math-group]",ue&&d.select(N.node().parentNode).select(ue).style({opacity:0});var ae=this.textContent;d.select(this).transition().duration(0).remove(),d.select(document).on("mouseup",null),ee.edit.call(N,ae)}).on("focus",function(){var K=this;V._editing=!0,d.select(document).on("mouseup",function(){if(d.event.target===K)return!1;document.activeElement===Y.node()&&Y.node().blur()})}).on("keyup",function(){d.event.which===27?(V._editing=!1,N.style({opacity:1}),d.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ee.cancel.call(N,this.textContent)):(ee.input.call(N,this.textContent),d.select(this).call(k(N,te,O)))}).on("keydown",function(){d.event.which===13&&this.blur()}).call(se)}return O.immediate?q():ne.on("click",q),d.rebind(N,ee,"on")}},91200:function(H,U){var e={};U.throttle=function(n,L,w){var v=e[n],g=Date.now();if(!v){for(var r in e)e[r].ts<g-6e4&&delete e[r];v=e[n]={ts:0,timer:null}}d(v);function t(){w(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(g>v.ts+L){t();return}v.timer=setTimeout(function(){t(),v.timer=null},L)},U.done=function(C){var n=e[C];return!n||!n.timer?Promise.resolve():new Promise(function(L){var w=n.onDone;n.onDone=function(){w&&w(),L(),n.onDone=null}})},U.clear=function(C){if(C)d(e[C]),delete e[C];else for(var n in e)U.clear(n)};function d(C){C&&C.timer!==null&&(clearTimeout(C.timer),C.timer=null)}},36896:function(H,U,e){var d=e(38248);H.exports=function(n,L){if(n>0)return Math.log(n)/Math.LN10;var w=Math.log(Math.min(L[0],L[1]))/Math.LN10;return d(w)||(w=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),w}},59972:function(H,U,e){var d=H.exports={},C=e(79552).locationmodeToLayer,n=e(55712).NO;d.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},d.getTopojsonPath=function(L,w){return L+w+".json"},d.getTopojsonFeatures=function(L,w){var v=C[L.locationmode],g=w.objects[v];return n(w,g).features}},11680:function(H){H.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(H){H.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(H,U,e){var d=e(24040);H.exports=function(n){for(var L=d.layoutArrayContainers,w=d.layoutArrayRegexes,v=n.split("[")[0],g,r,t=0;t<w.length;t++)if(r=n.match(w[t]),r&&r.index===0){g=r[0];break}if(g||(g=L[L.indexOf(v)]),!g)return!1;var i=n.substr(g.length);return i?(r=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:g,index:Number(r[1]),property:r[3]||""}:!1):{array:g,index:"",property:""}}},67824:function(H,U,e){var d=e(92880).extendFlat,C=e(63620),n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},w=n.flags.slice().concat(["fullReplot"]),v=L.flags.slice().concat("layoutReplot");H.exports={traces:n,layout:L,traceFlags:function(){return g(w)},layoutFlags:function(){return g(v)},update:function(i,a){var u=a.editType;if(u&&u!=="none")for(var f=u.split("+"),l=0;l<f.length;l++)i[f[l]]=!0},overrideAll:r};function g(i){for(var a={},u=0;u<i.length;u++)a[i[u]]=!1;return a}function r(i,a,u){var f=d({},i);for(var l in f){var m=f[l];C(m)&&(f[l]=t(m,a,u,l))}return u==="from-root"&&(f.editType=a),f}function t(i,a,u,f){if(i.valType){var l=d({},i);if(l.editType=a,Array.isArray(i.items)){l.items=new Array(i.items.length);for(var m=0;m<i.items.length;m++)l.items[m]=t(i.items[m],a)}return l}else return r(i,a,f.charAt(0)==="_"?"nested":"from-root")}},93404:function(H,U,e){var d=e(38248),C=e(61784),n=e(24040),L=e(3400),w=e(7316),v=e(79811),g=e(76308),r=v.cleanId,t=v.getFromTrace,i=n.traceIs;U.clearPromiseQueue=function(p){Array.isArray(p._promises)&&p._promises.length>0&&L.log("Clearing previous rejected promises from queue."),p._promises=[]},U.cleanLayout=function(p){var x,A;p||(p={}),p.xaxis1&&(p.xaxis||(p.xaxis=p.xaxis1),delete p.xaxis1),p.yaxis1&&(p.yaxis||(p.yaxis=p.yaxis1),delete p.yaxis1),p.scene1&&(p.scene||(p.scene=p.scene1),delete p.scene1);var _=(w.subplotsRegistry.cartesian||{}).attrRegex,y=(w.subplotsRegistry.polar||{}).attrRegex,E=(w.subplotsRegistry.ternary||{}).attrRegex,M=(w.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(p);for(x=0;x<s.length;x++){var S=s[x];if(_&&_.test(S)){var b=p[S];b.anchor&&b.anchor!=="free"&&(b.anchor=r(b.anchor)),b.overlaying&&(b.overlaying=r(b.overlaying)),b.type||(b.isdate?b.type="date":b.islog?b.type="log":b.isdate===!1&&b.islog===!1&&(b.type="linear")),(b.autorange==="withzero"||b.autorange==="tozero")&&(b.autorange=!0,b.rangemode="tozero"),b.insiderange&&delete b.range,delete b.islog,delete b.isdate,delete b.categories,h(b,"domain")&&delete b.domain,b.autotick!==void 0&&(b.tickmode===void 0&&(b.tickmode=b.autotick?"auto":"linear"),delete b.autotick),u(b)}else if(y&&y.test(S)){var I=p[S];u(I.radialaxis)}else if(E&&E.test(S)){var D=p[S];u(D.aaxis),u(D.baxis),u(D.caxis)}else if(M&&M.test(S)){var B=p[S],k=B.cameraposition;if(Array.isArray(k)&&k[0].length===4){var F=k[0],N=k[1],O=k[2],V=C([],F),X=[];for(A=0;A<3;++A)X[A]=N[A]+O*V[2+4*A];B.camera={eye:{x:X[0],y:X[1],z:X[2]},center:{x:N[0],y:N[1],z:N[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}u(B.xaxis),u(B.yaxis),u(B.zaxis)}}var ee=Array.isArray(p.annotations)?p.annotations.length:0;for(x=0;x<ee;x++){var ne=p.annotations[x];L.isPlainObject(ne)&&(ne.ref&&(ne.ref==="paper"?(ne.xref="paper",ne.yref="paper"):ne.ref==="data"&&(ne.xref="x",ne.yref="y"),delete ne.ref),a(ne,"xref"),a(ne,"yref"))}var q=Array.isArray(p.shapes)?p.shapes.length:0;for(x=0;x<q;x++){var se=p.shapes[x];L.isPlainObject(se)&&(a(se,"xref"),a(se,"yref"))}var J=Array.isArray(p.images)?p.images.length:0;for(x=0;x<J;x++){var Z=p.images[x];L.isPlainObject(Z)&&(a(Z,"xref"),a(Z,"yref"))}var te=p.legend;return te&&(te.x>3?(te.x=1.02,te.xanchor="left"):te.x<-2&&(te.x=-.02,te.xanchor="right"),te.y>3?(te.y=1.02,te.yanchor="bottom"):te.y<-2&&(te.y=-.02,te.yanchor="top")),u(p),p.dragmode==="rotate"&&(p.dragmode="orbit"),g.clean(p),p.template&&p.template.layout&&U.cleanLayout(p.template.layout),p};function a(p,x){var A=p[x],_=x.charAt(0);A&&A!=="paper"&&(p[x]=r(A,_,!0))}function u(p){p&&((typeof p.title=="string"||typeof p.title=="number")&&(p.title={text:p.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"));function x(A,_){var y=p[A],E=p.title&&p.title[_];y&&!E&&(p.title||(p.title={}),p.title[_]=p[A],delete p[A])}}U.cleanData=function(p){for(var x=0;x<p.length;x++){var A=p[x],_;if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var y=g.defaults,E=A.error_y.color||(i(A,"bar")?g.defaultLine:y[x%y.length]);A.error_y.color=g.addOpacity(g.rgb(E),g.opacity(E)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir==="h"&&(i(A,"bar")||A.type.substr(0,9)==="histogram")&&(A.orientation="h",U.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&U.swapXYData(A),(A.type==="histogramx"||A.type==="histogramy")&&(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=r(A.xaxis,"x")),A.yaxis&&(A.yaxis=r(A.yaxis,"y")),i(A,"gl3d")&&A.scene&&(A.scene=w.subplotsRegistry.gl3d.cleanId(A.scene)),!i(A,"pie-like")&&!i(A,"bar-like"))if(Array.isArray(A.textposition))for(_=0;_<A.textposition.length;_++)A.textposition[_]=m(A.textposition[_]);else A.textposition&&(A.textposition=m(A.textposition));var M=n.getModule(A);if(M&&M.colorbar){var s=M.colorbar.container,S=s?A[s]:A;S&&S.colorscale&&(S.colorscale==="YIGnBu"&&(S.colorscale="YlGnBu"),S.colorscale==="YIOrRd"&&(S.colorscale="YlOrRd"))}if(A.type==="surface"&&L.isPlainObject(A.contours)){var b=["x","y","z"];for(_=0;_<b.length;_++){var I=A.contours[b[_]];L.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var D=(A.increasing||{}).showlegend!==!1,B=(A.decreasing||{}).showlegend!==!1,k=f(A.increasing),F=f(A.decreasing);if(k!==!1&&F!==!1){var N=l(k,F,D,B);N&&(A.name=N)}else(k||F)&&!A.name&&(A.name=k||F)}if(Array.isArray(A.transforms)){var O=A.transforms;for(_=0;_<O.length;_++){var V=O[_];if(L.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var X=V.styles,ee=Object.keys(X);V.styles=[];for(var ne=0;ne<ee.length;ne++)V.styles.push({target:ee[ne],value:X[ee[ne]]})}break}}}h(A,"line")&&delete A.line,"marker"in A&&(h(A.marker,"line")&&delete A.marker.line,h(A,"marker")&&delete A.marker),g.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),u(A),A.colorbar&&u(A.colorbar),A.marker&&A.marker.colorbar&&u(A.marker.colorbar),A.line&&A.line.colorbar&&u(A.line.colorbar),A.aaxis&&u(A.aaxis),A.baxis&&u(A.baxis)}};function f(p){if(!L.isPlainObject(p))return!1;var x=p.name;return delete p.name,delete p.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function l(p,x,A,_){if(A&&!_)return p;if(_&&!A||!p.trim())return x;if(!x.trim())return p;var y=Math.min(p.length,x.length),E;for(E=0;E<y&&p.charAt(E)===x.charAt(E);E++);var M=p.substr(0,E);return M.trim()}function m(p){var x="middle",A="center";return typeof p=="string"&&(p.indexOf("top")!==-1?x="top":p.indexOf("bottom")!==-1&&(x="bottom"),p.indexOf("left")!==-1?A="left":p.indexOf("right")!==-1&&(A="right")),x+" "+A}function h(p,x){return x in p&&typeof p[x]=="object"&&Object.keys(p[x]).length===0}U.swapXYData=function(p){var x;if(L.swapAttrs(p,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(p.z)&&Array.isArray(p.z[0])&&(p.transpose?delete p.transpose:p.transpose=!0),p.error_x&&p.error_y){var A=p.error_y,_="copy_ystyle"in A?A.copy_ystyle:!(A.color||A.thickness||A.width);L.swapAttrs(p,["error_?.copy_ystyle"]),_&&L.swapAttrs(p,["error_?.color","error_?.thickness","error_?.width"])}if(typeof p.hoverinfo=="string"){var y=p.hoverinfo.split("+");for(x=0;x<y.length;x++)y[x]==="x"?y[x]="y":y[x]==="y"&&(y[x]="x");p.hoverinfo=y.join("+")}},U.coerceTraceIndices=function(p,x){if(d(x))return[x];if(!Array.isArray(x)||!x.length)return p.data.map(function(y,E){return E});if(Array.isArray(x)){for(var A=[],_=0;_<x.length;_++)L.isIndex(x[_],p.data.length)?A.push(x[_]):L.warn("trace index (",x[_],") is not a number or is out of bounds");return A}return x},U.manageArrayContainers=function(p,x,A){var _=p.obj,y=p.parts,E=y.length,M=y[E-1],s=d(M);if(s&&x===null){var S=y.slice(0,E-1).join("."),b=L.nestedProperty(_,S).get();b.splice(M,1)}else s&&p.get()===void 0&&p.get()===void 0&&(A[p.astr]=null),p.set(x)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(p){var x=p.search(T);if(x>0)return p.substr(0,x)}U.hasParent=function(p,x){for(var A=c(x);A;){if(A in p)return!0;A=c(A)}return!1};var o=["x","y","z"];U.clearAxisTypes=function(p,x,A){for(var _=0;_<x.length;_++)for(var y=p._fullData[_],E=0;E<3;E++){var M=t(p,y,o[E]);if(M&&M.type!=="log"){var s=M._name,S=M._id.substr(1);if(S.substr(0,5)==="scene"){if(A[S]!==void 0)continue;s=S+"."+s}var b=s+".type";A[s]===void 0&&A[b]===void 0&&L.nestedProperty(p.layout,b).set(null)}}}},22448:function(H,U,e){var d=e(36424);U._doPlot=d._doPlot,U.newPlot=d.newPlot,U.restyle=d.restyle,U.relayout=d.relayout,U.redraw=d.redraw,U.update=d.update,U._guiRestyle=d._guiRestyle,U._guiRelayout=d._guiRelayout,U._guiUpdate=d._guiUpdate,U._storeDirectGUIEdit=d._storeDirectGUIEdit,U.react=d.react,U.extendTraces=d.extendTraces,U.prependTraces=d.prependTraces,U.addTraces=d.addTraces,U.deleteTraces=d.deleteTraces,U.moveTraces=d.moveTraces,U.purge=d.purge,U.addFrames=d.addFrames,U.deleteFrames=d.deleteFrames,U.animate=d.animate,U.setPlotConfig=d.setPlotConfig;var C=e(52200).getGraphDiv,n=e(4016).eraseActiveShape;U.deleteActiveShape=function(w){return n(C(w))},U.toImage=e(67024),U.validate=e(21480),U.downloadImage=e(39792);var L=e(94828);U.makeTemplate=L.makeTemplate,U.validateTemplate=L.validateTemplate},17680:function(H,U,e){var d=e(63620),C=e(16628),n=e(24248),L=e(14952).sorterAsc,w=e(24040);U.containerArrayMatch=e(69820);var v=U.isAddVal=function(t){return t==="add"||d(t)},g=U.isRemoveVal=function(t){return t===null||t==="remove"};U.applyContainerArrayChanges=function(t,i,a,u,f){var l=i.astr,m=w.getComponentMethod(l,"supplyLayoutDefaults"),h=w.getComponentMethod(l,"draw"),T=w.getComponentMethod(l,"drawOne"),c=u.replot||u.recalc||m===C||h===C,o=t.layout,p=t._fullLayout;if(a[""]){Object.keys(a).length>1&&n.warn("Full array edits are incompatible with other edits",l);var x=a[""][""];if(g(x))i.set(null);else if(Array.isArray(x))i.set(x);else return n.warn("Unrecognized full array edit value",l,x),!0;return c?!1:(m(o,p),h(t),!0)}var A=Object.keys(a).map(Number).sort(L),_=i.get(),y=_||[],E=f(p,l).get(),M=[],s=-1,S=y.length,b,I,D,B,k,F,N,O;for(b=0;b<A.length;b++){if(D=A[b],B=a[D],k=Object.keys(B),F=B[""],N=v(F),D<0||D>y.length-(N?0:1)){n.warn("index out of range",l,D);continue}if(F!==void 0)k.length>1&&n.warn("Insertion & removal are incompatible with edits to the same index.",l,D),g(F)?M.push(D):N?(F==="add"&&(F={}),y.splice(D,0,F),E&&E.splice(D,0,{})):n.warn("Unrecognized full object edit value",l,D,F),s===-1&&(s=D);else for(I=0;I<k.length;I++)O=l+"["+D+"].",f(y[D],k[I],O).set(B[k[I]])}for(b=M.length-1;b>=0;b--)y.splice(M[b],1),E&&E.splice(M[b],1);if(y.length?_||i.set(y):i.set(null),c)return!1;if(m(o,p),T!==C){var V;if(s===-1)V=A;else{for(S=Math.max(y.length,S),V=[],b=0;b<A.length&&(D=A[b],!(D>=s));b++)V.push(D);for(b=s;b<S;b++)V.push(b)}for(b=0;b<V.length;b++)T(t,V[b])}else h(t);return!0}},36424:function(H,U,e){var d=e(33428),C=e(38248),n=e(52264),L=e(3400),w=L.nestedProperty,v=e(95924),g=e(94552),r=e(24040),t=e(73060),i=e(7316),a=e(54460),u=e(96312),f=e(94724),l=e(43616),m=e(76308),h=e(42464).initInteractions,T=e(9616),c=e(22676).clearOutline,o=e(20556).dfltConfig,p=e(17680),x=e(93404),A=e(39172),_=e(67824),y=e(33816).AX_NAME_PATTERN,E=0,M=5;function s(pe,Te,Ue,et){var st;if(pe=L.getGraphDiv(pe),v.init(pe),L.isPlainObject(Te)){var lt=Te;Te=lt.data,Ue=lt.layout,et=lt.config,st=lt.frames}var jt=v.triggerHandler(pe,"plotly_beforeplot",[Te,Ue,et]);if(jt===!1)return Promise.reject();!Te&&!Ue&&!L.isPlotDiv(pe)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",pe);function Jt(){if(st)return U.addFrames(pe,st)}B(pe,et),Ue||(Ue={}),d.select(pe).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(pe._promises)||(pe._promises=[]);var St=(pe.data||[]).length===0&&Array.isArray(Te);Array.isArray(Te)&&(x.cleanData(Te),St?pe.data=Te:pe.data.push.apply(pe.data,Te),pe.empty=!1),(!pe.layout||St)&&(pe.layout=x.cleanLayout(Ue)),i.supplyDefaults(pe);var Rt=pe._fullLayout,$t=Rt._has("cartesian");Rt._replotting=!0,(St||Rt._shouldCreateBgLayer)&&(Ie(pe),Rt._shouldCreateBgLayer&&delete Rt._shouldCreateBgLayer),l.initGradients(pe),l.initPatterns(pe),St&&a.saveShowSpikeInitial(pe);var Pr=!pe.calcdata||pe.calcdata.length!==(pe._fullData||[]).length;Pr&&i.doCalcdata(pe);for(var xt=0;xt<pe.calcdata.length;xt++)pe.calcdata[xt][0].trace=pe._fullData[xt];pe._context.responsive?pe._responsiveChartHandler||(pe._responsiveChartHandler=function(){L.isHidden(pe)||i.resize(pe)},window.addEventListener("resize",pe._responsiveChartHandler)):L.clearResponsive(pe);var qt=L.extendFlat({},Rt._size),nr=0;function wr(){for(var Wt=Rt._basePlotModules,Ht=0;Ht<Wt.length;Ht++)Wt[Ht].drawFramework&&Wt[Ht].drawFramework(pe);!Rt._glcanvas&&Rt._has("gl")&&(Rt._glcanvas=Rt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(mr){return mr.key}),Rt._glcanvas.enter().append("canvas").attr("class",function(mr){return"gl-canvas gl-canvas-"+mr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var tr=pe._context.plotGlPixelRatio;if(Rt._glcanvas){Rt._glcanvas.attr("width",Rt.width*tr).attr("height",Rt.height*tr).style("width",Rt.width+"px").style("height",Rt.height+"px");var gr=Rt._glcanvas.data()[0].regl;if(gr&&(Math.floor(Rt.width*tr)!==gr._gl.drawingBufferWidth||Math.floor(Rt.height*tr)!==gr._gl.drawingBufferHeight)){var Qt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(nr)L.error(Qt);else return L.log(Qt+" Clearing graph and plotting again."),i.cleanPlot([],{},pe._fullData,Rt),i.supplyDefaults(pe),Rt=pe._fullLayout,i.doCalcdata(pe),nr++,wr()}}return Rt.modebar.orientation==="h"?Rt._modebardiv.style("height",null).style("width","100%"):Rt._modebardiv.style("width",null).style("height",Rt.height+"px"),i.previousPromises(pe)}function dr(){if(i.clearAutoMarginIds(pe),A.drawMarginPushers(pe),a.allowAutoMargin(pe),pe._fullLayout.title.text&&pe._fullLayout.title.automargin&&i.allowAutoMargin(pe,"title.automargin"),Rt._has("pie"))for(var Wt=pe._fullData,Ht=0;Ht<Wt.length;Ht++){var tr=Wt[Ht];tr.type==="pie"&&tr.automargin&&i.allowAutoMargin(pe,"pie."+tr.uid+".automargin")}return i.doAutoMargin(pe),i.previousPromises(pe)}function bt(){if(i.didMarginChange(qt,Rt._size))return L.syncOrAsync([dr,A.layoutStyles],pe)}function ut(){if(!Pr){Mt();return}return L.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),Mt],pe)}function Mt(){pe._transitioning||(A.doAutoRangeAndConstraints(pe),St&&a.saveRangeInitial(pe),r.getComponentMethod("rangeslider","calcAutorange")(pe))}function _t(){return a.draw(pe,St?"":"redraw")}var kt=[i.previousPromises,Jt,wr,dr,bt];$t&&kt.push(ut),kt.push(A.layoutStyles),$t&&kt.push(_t,function(Ht){var tr=Ht._fullLayout._insideTickLabelsUpdaterange;if(tr)return Ht._fullLayout._insideTickLabelsUpdaterange=void 0,Se(Ht,tr).then(function(){a.saveRangeInitial(Ht,!0)})}),kt.push(A.drawData,A.finalDraw,h,i.addLinks,i.rehover,i.redrag,i.reselect,i.doAutoMargin,i.previousPromises);var Xt=L.syncOrAsync(kt,pe);return(!Xt||!Xt.then)&&(Xt=Promise.resolve()),Xt.then(function(){return S(pe),pe})}function S(pe){var Te=pe._fullLayout;Te._redrawFromAutoMarginCount?Te._redrawFromAutoMarginCount--:pe.emit("plotly_afterplot")}function b(pe){return L.extendFlat(o,pe)}function I(pe,Te){try{pe._fullLayout._paper.style("background",Te)}catch(Ue){L.error(Ue)}}function D(pe,Te){var Ue=m.combine(Te,"white");I(pe,Ue)}function B(pe,Te){if(!pe._context){pe._context=L.extendDeep({},o);var Ue=d.select("base");pe._context._baseUrl=Ue.size()&&Ue.attr("href")?window.location.href.split("#")[0]:""}var et=pe._context,st,lt,jt;if(Te){for(lt=Object.keys(Te),st=0;st<lt.length;st++)jt=lt[st],!(jt==="editable"||jt==="edits")&&jt in et&&(jt==="setBackground"&&Te[jt]==="opaque"?et[jt]=D:et[jt]=Te[jt]);Te.plot3dPixelRatio&&!et.plotGlPixelRatio&&(et.plotGlPixelRatio=et.plot3dPixelRatio);var Jt=Te.editable;if(Jt!==void 0)for(et.editable=Jt,lt=Object.keys(et.edits),st=0;st<lt.length;st++)et.edits[lt[st]]=Jt;if(Te.edits)for(lt=Object.keys(Te.edits),st=0;st<lt.length;st++)jt=lt[st],jt in et.edits&&(et.edits[jt]=Te.edits[jt]);et._exportedPlot=Te._exportedPlot}et.staticPlot&&(et.editable=!1,et.edits={},et.autosizable=!1,et.scrollZoom=!1,et.doubleClick=!1,et.showTips=!1,et.showLink=!1,et.displayModeBar=!1),et.displayModeBar==="hover"&&!n&&(et.displayModeBar=!0),(et.setBackground==="transparent"||typeof et.setBackground!="function")&&(et.setBackground=I),et._hasZeroHeight=et._hasZeroHeight||pe.clientHeight===0,et._hasZeroWidth=et._hasZeroWidth||pe.clientWidth===0;var St=et.scrollZoom,Rt=et._scrollZoom={};if(St===!0)Rt.cartesian=1,Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1;else if(typeof St=="string"){var $t=St.split("+");for(st=0;st<$t.length;st++)Rt[$t[st]]=1}else St!==!1&&(Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1)}function k(pe){if(pe=L.getGraphDiv(pe),!L.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe);return x.cleanData(pe.data),x.cleanLayout(pe.layout),pe.calcdata=void 0,U._doPlot(pe).then(function(){return pe.emit("plotly_redraw"),pe})}function F(pe,Te,Ue,et){return pe=L.getGraphDiv(pe),i.cleanPlot([],{},pe._fullData||[],pe._fullLayout||{}),i.purge(pe),U._doPlot(pe,Te,Ue,et)}function N(pe,Te){var Ue=Te+1,et=[],st,lt;for(st=0;st<pe.length;st++)lt=pe[st],lt<0?et.push(Ue+lt):et.push(lt);return et}function O(pe,Te,Ue){var et,st;for(et=0;et<Te.length;et++){if(st=Te[et],st!==parseInt(st,10))throw new Error("all values in "+Ue+" must be integers");if(st>=pe.data.length||st<-pe.data.length)throw new Error(Ue+" must be valid indices for gd.data.");if(Te.indexOf(st,et+1)>-1||st>=0&&Te.indexOf(-pe.data.length+st)>-1||st<0&&Te.indexOf(pe.data.length+st)>-1)throw new Error("each index in "+Ue+" must be unique.")}}function V(pe,Te,Ue){if(!Array.isArray(pe.data))throw new Error("gd.data must be an array.");if(typeof Te>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Te)||(Te=[Te]),O(pe,Te,"currentIndices"),typeof Ue<"u"&&!Array.isArray(Ue)&&(Ue=[Ue]),typeof Ue<"u"&&O(pe,Ue,"newIndices"),typeof Ue<"u"&&Te.length!==Ue.length)throw new Error("current and new indices must be of equal length.")}function X(pe,Te,Ue){var et,st;if(!Array.isArray(pe.data))throw new Error("gd.data must be an array.");if(typeof Te>"u")throw new Error("traces must be defined.");for(Array.isArray(Te)||(Te=[Te]),et=0;et<Te.length;et++)if(st=Te[et],typeof st!="object"||Array.isArray(st)||st===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ue<"u"&&!Array.isArray(Ue)&&(Ue=[Ue]),typeof Ue<"u"&&Ue.length!==Te.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function ee(pe,Te,Ue,et){var st=L.isPlainObject(et);if(!Array.isArray(pe.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(Te))throw new Error("update must be a key:value object");if(typeof Ue>"u")throw new Error("indices must be an integer or array of integers");O(pe,Ue,"indices");for(var lt in Te){if(!Array.isArray(Te[lt])||Te[lt].length!==Ue.length)throw new Error("attribute "+lt+" must be an array of length equal to indices array length");if(st&&(!(lt in et)||!Array.isArray(et[lt])||et[lt].length!==Te[lt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ne(pe,Te,Ue,et){var st=L.isPlainObject(et),lt=[],jt,Jt,St,Rt,$t;Array.isArray(Ue)||(Ue=[Ue]),Ue=N(Ue,pe.data.length-1);for(var Pr in Te)for(var xt=0;xt<Ue.length;xt++){if(jt=pe.data[Ue[xt]],St=w(jt,Pr),Jt=St.get(),Rt=Te[Pr][xt],!L.isArrayOrTypedArray(Rt))throw new Error("attribute: "+Pr+" index: "+xt+" must be an array");if(!L.isArrayOrTypedArray(Jt))throw new Error("cannot extend missing or non-array attribute: "+Pr);if(Jt.constructor!==Rt.constructor)throw new Error("cannot extend array with an array of a different type: "+Pr);$t=st?et[Pr][xt]:et,C($t)||($t=-1),lt.push({prop:St,target:Jt,insert:Rt,maxp:Math.floor($t)})}return lt}function q(pe,Te,Ue,et,st){ee(pe,Te,Ue,et);for(var lt=ne(pe,Te,Ue,et),jt={},Jt={},St=0;St<lt.length;St++){var Rt=lt[St].prop,$t=lt[St].maxp,Pr=st(lt[St].target,lt[St].insert,$t);Rt.set(Pr[0]),Array.isArray(jt[Rt.astr])||(jt[Rt.astr]=[]),jt[Rt.astr].push(Pr[1]),Array.isArray(Jt[Rt.astr])||(Jt[Rt.astr]=[]),Jt[Rt.astr].push(lt[St].target.length)}return{update:jt,maxPoints:Jt}}function se(pe,Te){var Ue=new pe.constructor(pe.length+Te.length);return Ue.set(pe),Ue.set(Te,pe.length),Ue}function J(pe,Te,Ue,et){pe=L.getGraphDiv(pe);function st(St,Rt,$t){var Pr,xt;if(L.isTypedArray(St))if($t<0){var qt=new St.constructor(0),nr=se(St,Rt);$t<0?(Pr=nr,xt=qt):(Pr=qt,xt=nr)}else if(Pr=new St.constructor($t),xt=new St.constructor(St.length+Rt.length-$t),$t===Rt.length)Pr.set(Rt),xt.set(St);else if($t<Rt.length){var wr=Rt.length-$t;Pr.set(Rt.subarray(wr)),xt.set(St),xt.set(Rt.subarray(0,wr),St.length)}else{var dr=$t-Rt.length,bt=St.length-dr;Pr.set(St.subarray(bt)),Pr.set(Rt,dr),xt.set(St.subarray(0,bt))}else Pr=St.concat(Rt),xt=$t>=0&&$t<Pr.length?Pr.splice(0,Pr.length-$t):[];return[Pr,xt]}var lt=q(pe,Te,Ue,et,st),jt=U.redraw(pe),Jt=[pe,lt.update,Ue,lt.maxPoints];return g.add(pe,U.prependTraces,Jt,J,arguments),jt}function Z(pe,Te,Ue,et){pe=L.getGraphDiv(pe);function st(St,Rt,$t){var Pr,xt;if(L.isTypedArray(St))if($t<=0){var qt=new St.constructor(0),nr=se(Rt,St);$t<0?(Pr=nr,xt=qt):(Pr=qt,xt=nr)}else if(Pr=new St.constructor($t),xt=new St.constructor(St.length+Rt.length-$t),$t===Rt.length)Pr.set(Rt),xt.set(St);else if($t<Rt.length){var wr=Rt.length-$t;Pr.set(Rt.subarray(0,wr)),xt.set(Rt.subarray(wr)),xt.set(St,wr)}else{var dr=$t-Rt.length;Pr.set(Rt),Pr.set(St.subarray(0,dr),Rt.length),xt.set(St.subarray(dr))}else Pr=Rt.concat(St),xt=$t>=0&&$t<Pr.length?Pr.splice($t,Pr.length):[];return[Pr,xt]}var lt=q(pe,Te,Ue,et,st),jt=U.redraw(pe),Jt=[pe,lt.update,Ue,lt.maxPoints];return g.add(pe,U.extendTraces,Jt,Z,arguments),jt}function te(pe,Te,Ue){pe=L.getGraphDiv(pe);var et=[],st=U.deleteTraces,lt=te,jt=[pe,et],Jt=[pe,Te],St,Rt;for(X(pe,Te,Ue),Array.isArray(Te)||(Te=[Te]),Te=Te.map(function($t){return L.extendFlat({},$t)}),x.cleanData(Te),St=0;St<Te.length;St++)pe.data.push(Te[St]);for(St=0;St<Te.length;St++)et.push(-Te.length+St);if(typeof Ue>"u")return Rt=U.redraw(pe),g.add(pe,st,jt,lt,Jt),Rt;Array.isArray(Ue)||(Ue=[Ue]);try{V(pe,et,Ue)}catch($t){throw pe.data.splice(pe.data.length-Te.length,Te.length),$t}return g.startSequence(pe),g.add(pe,st,jt,lt,Jt),Rt=U.moveTraces(pe,et,Ue),g.stopSequence(pe),Rt}function Y(pe,Te){pe=L.getGraphDiv(pe);var Ue=[],et=U.addTraces,st=Y,lt=[pe,Ue,Te],jt=[pe,Te],Jt,St;if(typeof Te>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Te)||(Te=[Te]),O(pe,Te,"indices"),Te=N(Te,pe.data.length-1),Te.sort(L.sorterDes),Jt=0;Jt<Te.length;Jt+=1)St=pe.data.splice(Te[Jt],1)[0],Ue.push(St);var Rt=U.redraw(pe);return g.add(pe,et,lt,st,jt),Rt}function ie(pe,Te,Ue){pe=L.getGraphDiv(pe);var et=[],st=[],lt=ie,jt=ie,Jt=[pe,Ue,Te],St=[pe,Te,Ue],Rt;if(V(pe,Te,Ue),Te=Array.isArray(Te)?Te:[Te],typeof Ue>"u")for(Ue=[],Rt=0;Rt<Te.length;Rt++)Ue.push(-Te.length+Rt);for(Ue=Array.isArray(Ue)?Ue:[Ue],Te=N(Te,pe.data.length-1),Ue=N(Ue,pe.data.length-1),Rt=0;Rt<pe.data.length;Rt++)Te.indexOf(Rt)===-1&&et.push(pe.data[Rt]);for(Rt=0;Rt<Te.length;Rt++)st.push({newIndex:Ue[Rt],trace:pe.data[Te[Rt]]});for(st.sort(function(Pr,xt){return Pr.newIndex-xt.newIndex}),Rt=0;Rt<st.length;Rt+=1)et.splice(st[Rt].newIndex,0,st[Rt].trace);pe.data=et;var $t=U.redraw(pe);return g.add(pe,lt,Jt,jt,St),$t}function le(pe,Te,Ue,et){pe=L.getGraphDiv(pe),x.clearPromiseQueue(pe);var st={};if(typeof Te=="string")st[Te]=Ue;else if(L.isPlainObject(Te))st=L.extendFlat({},Te),et===void 0&&(et=Ue);else return L.warn("Restyle fail.",Te,Ue,et),Promise.reject();Object.keys(st).length&&(pe.changed=!0);var lt=x.coerceTraceIndices(pe,et),jt=he(pe,st,lt),Jt=jt.flags;Jt.calc&&(pe.calcdata=void 0),Jt.clearAxisTypes&&x.clearAxisTypes(pe,lt,{});var St=[];Jt.fullReplot?St.push(U._doPlot):(St.push(i.previousPromises),i.supplyDefaults(pe),Jt.markerSize&&(i.doCalcdata(pe),De(St)),Jt.style&&St.push(A.doTraceStyle),Jt.colorbars&&St.push(A.doColorBars),St.push(S)),St.push(i.rehover,i.redrag,i.reselect),g.add(pe,le,[pe,jt.undoit,jt.traces],le,[pe,jt.redoit,jt.traces]);var Rt=L.syncOrAsync(St,pe);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return pe.emit("plotly_restyle",jt.eventData),pe})}function j(pe){return pe===void 0?null:pe}function K(pe,Te){return Te?function(Ue,et,st){var lt=w(Ue,et),jt=lt.set;return lt.set=function(Jt){var St=(st||"")+et;ue(St,lt.get(),Jt,pe),jt(Jt)},lt}:w}function ue(pe,Te,Ue,et){if(Array.isArray(Te)||Array.isArray(Ue))for(var st=Array.isArray(Te)?Te:[],lt=Array.isArray(Ue)?Ue:[],jt=Math.max(st.length,lt.length),Jt=0;Jt<jt;Jt++)ue(pe+"["+Jt+"]",st[Jt],lt[Jt],et);else if(L.isPlainObject(Te)||L.isPlainObject(Ue)){var St=L.isPlainObject(Te)?Te:{},Rt=L.isPlainObject(Ue)?Ue:{},$t=L.extendFlat({},St,Rt);for(var Pr in $t)ue(pe+"."+Pr,St[Pr],Rt[Pr],et)}else et[pe]===void 0&&(et[pe]=j(Te))}function ae(pe,Te,Ue){for(var et in Ue){var st=w(pe,et);ue(et,st.get(),Ue[et],Te)}}function he(pe,Te,Ue){var et=pe._fullLayout,st=pe._fullData,lt=pe.data,jt=et._guiEditing,Jt=K(et._preGUI,jt),St=L.extendDeepAll({},Te),Rt;xe(Te);var $t=_.traceFlags(),Pr={},xt={},qt;function nr(){return Ue.map(function(){})}function wr(zn){var Sr=a.id2name(zn);qt.indexOf(Sr)===-1&&qt.push(Sr)}function dr(zn){return"LAYOUT"+zn+".autorange"}function bt(zn){return"LAYOUT"+zn+".range"}function ut(zn){for(var Sr=zn;Sr<st.length;Sr++)if(st[Sr]._input===lt[zn])return st[Sr]}function Mt(zn,Sr,Vr){if(Array.isArray(zn)){zn.forEach(function(bn){Mt(bn,Sr,Vr)});return}if(!(zn in Te||x.hasParent(Te,zn))){var qr;if(zn.substr(0,6)==="LAYOUT")qr=Jt(pe.layout,zn.replace("LAYOUT",""));else{var Hr=Ue[Vr],Tn=et._tracePreGUI[ut(Hr)._fullInput.uid];qr=K(Tn,jt)(lt[Hr],zn)}zn in xt||(xt[zn]=nr()),xt[zn][Vr]===void 0&&(xt[zn][Vr]=j(qr.get())),Sr!==void 0&&qr.set(Sr)}}function _t(zn){return function(Sr){return st[Sr][zn]}}function kt(zn){return function(Sr,Vr){return Sr===!1?st[Ue[Vr]][zn]:null}}for(var Xt in Te){if(x.hasParent(Te,Xt))throw new Error("cannot set "+Xt+" and a parent attribute simultaneously");var Wt=Te[Xt],Ht,tr,gr,Qt,mr,Ze;if((Xt==="autobinx"||Xt==="autobiny")&&(Xt=Xt.charAt(Xt.length-1)+"bins",Array.isArray(Wt)?Wt=Wt.map(kt(Xt)):Wt===!1?Wt=Ue.map(_t(Xt)):Wt=null),Pr[Xt]=Wt,Xt.substr(0,6)==="LAYOUT"){gr=Jt(pe.layout,Xt.replace("LAYOUT","")),xt[Xt]=[j(gr.get())],gr.set(Array.isArray(Wt)?Wt[0]:Wt),$t.calc=!0;continue}for(xt[Xt]=nr(),Rt=0;Rt<Ue.length;Rt++){Ht=lt[Ue[Rt]],tr=ut(Ue[Rt]);var Ye=et._tracePreGUI[tr._fullInput.uid];if(gr=K(Ye,jt)(Ht,Xt),Qt=gr.get(),mr=Array.isArray(Wt)?Wt[Rt%Wt.length]:Wt,mr!==void 0){var Bt=gr.parts[gr.parts.length-1],Ft=Xt.substr(0,Xt.length-Bt.length-1),rr=Ft?Ft+".":"",sr=Ft?w(tr,Ft).get():tr;if(Ze=t.getTraceValObject(tr,gr.parts),Ze&&Ze.impliedEdits&&mr!==null)for(var fr in Ze.impliedEdits)Mt(L.relativeAttr(Xt,fr),Ze.impliedEdits[fr],Rt);else if((Bt==="thicknessmode"||Bt==="lenmode")&&Qt!==mr&&(mr==="fraction"||mr==="pixels")&&sr){var ir=et._size,Vt=sr.orient,yr=Vt==="top"||Vt==="bottom";if(Bt==="thicknessmode"){var br=yr?ir.h:ir.w;Mt(rr+"thickness",sr.thickness*(mr==="fraction"?1/br:br),Rt)}else{var _r=yr?ir.w:ir.h;Mt(rr+"len",sr.len*(mr==="fraction"?1/_r:_r),Rt)}}else if(Xt==="type"&&(mr==="pie"!=(Qt==="pie")||mr==="funnelarea"!=(Qt==="funnelarea"))){var pr="x",Yr="y";(mr==="bar"||Qt==="bar")&&Ht.orientation==="h"&&(pr="y",Yr="x"),L.swapAttrs(Ht,["?","?src"],"labels",pr),L.swapAttrs(Ht,["d?","?0"],"label",pr),L.swapAttrs(Ht,["?","?src"],"values",Yr),Qt==="pie"||Qt==="funnelarea"?(w(Ht,"marker.color").set(w(Ht,"marker.colors").get()),et._pielayer.selectAll("g.trace").remove()):r.traceIs(Ht,"cartesian")&&w(Ht,"marker.colors").set(w(Ht,"marker.color").get())}xt[Xt][Rt]=j(Qt);var zr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(zr.indexOf(Xt)!==-1){if(Xt==="orientation"){gr.set(mr);var Nr=Ht.x&&!Ht.y?"h":"v";if((gr.get()||Nr)===tr.orientation)continue}else Xt==="orientationaxes"&&(Ht.orientation={v:"h",h:"v"}[tr.orientation]);x.swapXYData(Ht),$t.calc=$t.clearAxisTypes=!0}else i.dataArrayContainers.indexOf(gr.parts[0])!==-1?(x.manageArrayContainers(gr,mr,xt),$t.calc=!0):(Ze?Ze.arrayOk&&!r.traceIs(tr,"regl")&&(L.isArrayOrTypedArray(mr)||L.isArrayOrTypedArray(Qt))?$t.calc=!0:_.update($t,Ze):$t.calc=!0,gr.set(mr))}}if(["swapxyaxes","orientationaxes"].indexOf(Xt)!==-1&&a.swap(pe,Ue),Xt==="orientationaxes"){var xn=w(pe.layout,"hovermode"),tn=xn.get();tn==="x"?xn.set("y"):tn==="y"?xn.set("x"):tn==="x unified"?xn.set("y unified"):tn==="y unified"&&xn.set("x unified")}if(["orientation","type"].indexOf(Xt)!==-1){for(qt=[],Rt=0;Rt<Ue.length;Rt++){var On=lt[Ue[Rt]];r.traceIs(On,"cartesian")&&(wr(On.xaxis||"x"),wr(On.yaxis||"y"))}Mt(qt.map(dr),!0,0),Mt(qt.map(bt),[0,1],0)}}return($t.calc||$t.plot)&&($t.fullReplot=!0),{flags:$t,undoit:xt,redoit:Pr,traces:Ue,eventData:L.extendDeepNoArrays([],[St,Ue])}}function xe(pe){var Te=L.counterRegex("axis",".title",!1,!1),Ue=/colorbar\.title$/,et=Object.keys(pe),st,lt,jt;for(st=0;st<et.length;st++)lt=et[st],jt=pe[lt],(lt==="title"||Te.test(lt)||Ue.test(lt))&&(typeof jt=="string"||typeof jt=="number")?Jt(lt,lt.replace("title","title.text")):lt.indexOf("titlefont")>-1&&lt.indexOf("grouptitlefont")===-1?Jt(lt,lt.replace("titlefont","title.font")):lt.indexOf("titleposition")>-1?Jt(lt,lt.replace("titleposition","title.position")):lt.indexOf("titleside")>-1?Jt(lt,lt.replace("titleside","title.side")):lt.indexOf("titleoffset")>-1&&Jt(lt,lt.replace("titleoffset","title.offset"));function Jt(St,Rt){pe[Rt]=pe[St],delete pe[St]}}function Se(pe,Te,Ue){pe=L.getGraphDiv(pe),x.clearPromiseQueue(pe);var et={};if(typeof Te=="string")et[Te]=Ue;else if(L.isPlainObject(Te))et=L.extendFlat({},Te);else return L.warn("Relayout fail.",Te,Ue),Promise.reject();Object.keys(et).length&&(pe.changed=!0);var st=Pe(pe,et),lt=st.flags;lt.calc&&(pe.calcdata=void 0);var jt=[i.previousPromises];lt.layoutReplot?jt.push(A.layoutReplot):Object.keys(et).length&&(Ae(pe,lt,st)||i.supplyDefaults(pe),lt.legend&&jt.push(A.doLegend),lt.layoutstyle&&jt.push(A.layoutStyles),lt.axrange&&De(jt,st.rangesAltered),lt.ticks&&jt.push(A.doTicksRelayout),lt.modebar&&jt.push(A.doModeBar),lt.camera&&jt.push(A.doCamera),lt.colorbars&&jt.push(A.doColorBars),jt.push(S)),jt.push(i.rehover,i.redrag,i.reselect),g.add(pe,Se,[pe,st.undoit],Se,[pe,st.redoit]);var Jt=L.syncOrAsync(jt,pe);return(!Jt||!Jt.then)&&(Jt=Promise.resolve(pe)),Jt.then(function(){return pe.emit("plotly_relayout",st.eventData),pe})}function Ae(pe,Te,Ue){var et=pe._fullLayout;if(!Te.axrange)return!1;for(var st in Te)if(st!=="axrange"&&Te[st])return!1;var lt,jt,Jt=function(qt,nr){return L.coerce(lt,jt,f,qt,nr)},St={};for(var Rt in Ue.rangesAltered){var $t=a.id2name(Rt);if(lt=pe.layout[$t],jt=et[$t],u(lt,jt,Jt,St),jt._matchGroup){for(var Pr in jt._matchGroup)if(Pr!==Rt){var xt=et[a.id2name(Pr)];xt.autorange=jt.autorange,xt.range=jt.range.slice(),xt._input.range=jt.range.slice()}}}return!0}function De(pe,Te){var Ue=Te?function(et){var st=[],lt=!0;for(var jt in Te){var Jt=a.getFromId(et,jt);if(st.push(jt),(Jt.ticklabelposition||"").indexOf("inside")!==-1&&Jt._anchorAxis&&st.push(Jt._anchorAxis._id),Jt._matchGroup)for(var St in Jt._matchGroup)Te[St]||st.push(St)}return a.draw(et,st,{skipTitle:lt})}:function(et){return a.draw(et,"redraw")};pe.push(c,A.doAutoRangeAndConstraints,Ue,A.drawData,A.finalDraw)}var we=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ce=/^[xyz]axis[0-9]*\.autorange$/,be=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Pe(pe,Te){var Ue=pe.layout,et=pe._fullLayout,st=et._guiEditing,lt=K(et._preGUI,st),jt=Object.keys(Te),Jt=a.list(pe),St=L.extendDeepAll({},Te),Rt={},$t,Pr,xt;for(xe(Te),jt=Object.keys(Te),Pr=0;Pr<jt.length;Pr++)if(jt[Pr].indexOf("allaxes")===0){for(xt=0;xt<Jt.length;xt++){var qt=Jt[xt]._id.substr(1),nr=qt.indexOf("scene")!==-1?qt+".":"",wr=jt[Pr].replace("allaxes",nr+Jt[xt]._name);Te[wr]||(Te[wr]=Te[jt[Pr]])}delete Te[jt[Pr]]}var dr=_.layoutFlags(),bt={},ut={};function Mt(Tn,bn){if(Array.isArray(Tn)){Tn.forEach(function(Gn){Mt(Gn,bn)});return}if(!(Tn in Te||x.hasParent(Te,Tn))){var Hn=lt(Ue,Tn);Tn in ut||(ut[Tn]=j(Hn.get())),bn!==void 0&&Hn.set(bn)}}var _t={},kt;function Xt(Tn){var bn=a.name2id(Tn.split(".")[0]);return _t[bn]=1,bn}for(var Wt in Te){if(x.hasParent(Te,Wt))throw new Error("cannot set "+Wt+" and a parent attribute simultaneously");for(var Ht=lt(Ue,Wt),tr=Te[Wt],gr=Ht.parts.length,Qt=gr-1;Qt>0&&typeof Ht.parts[Qt]!="string";)Qt--;var mr=Ht.parts[Qt],Ze=Ht.parts[Qt-1]+"."+mr,Ye=Ht.parts.slice(0,Qt).join("."),Bt=w(pe.layout,Ye).get(),Ft=w(et,Ye).get(),rr=Ht.get();if(tr!==void 0){bt[Wt]=tr,ut[Wt]=mr==="reverse"?tr:j(rr);var sr=t.getLayoutValObject(et,Ht.parts);if(sr&&sr.impliedEdits&&tr!==null)for(var fr in sr.impliedEdits)Mt(L.relativeAttr(Wt,fr),sr.impliedEdits[fr]);if(["width","height"].indexOf(Wt)!==-1)if(tr){Mt("autosize",null);var ir=Wt==="height"?"width":"height";Mt(ir,et[ir])}else et[Wt]=pe._initialAutoSize[Wt];else if(Wt==="autosize")Mt("width",tr?null:et.width),Mt("height",tr?null:et.height);else if(Ze.match(we))Xt(Ze),w(et,Ye+"._inputRange").set(null);else if(Ze.match(Ce)){Xt(Ze),w(et,Ye+"._inputRange").set(null);var Vt=w(et,Ye).get();Vt._inputDomain&&(Vt._input.domain=Vt._inputDomain.slice())}else Ze.match(be)&&w(et,Ye+"._inputDomain").set(null);if(mr==="type"){kt=Bt;var yr=Ft.type==="linear"&&tr==="log",br=Ft.type==="log"&&tr==="linear";if(yr||br){if(!kt||!kt.range)Mt(Ye+".autorange",!0);else if(Ft.autorange)yr&&(kt.range=kt.range[1]>kt.range[0]?[1,2]:[2,1]);else{var _r=kt.range[0],pr=kt.range[1];yr?(_r<=0&&pr<=0&&Mt(Ye+".autorange",!0),_r<=0?_r=pr/1e6:pr<=0&&(pr=_r/1e6),Mt(Ye+".range[0]",Math.log(_r)/Math.LN10),Mt(Ye+".range[1]",Math.log(pr)/Math.LN10)):(Mt(Ye+".range[0]",Math.pow(10,_r)),Mt(Ye+".range[1]",Math.pow(10,pr)))}Array.isArray(et._subplots.polar)&&et._subplots.polar.length&&et[Ht.parts[0]]&&Ht.parts[1]==="radialaxis"&&delete et[Ht.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(pe,Ft,tr,Mt),r.getComponentMethod("images","convertCoords")(pe,Ft,tr,Mt)}else Mt(Ye+".autorange",!0),Mt(Ye+".range",null);w(et,Ye+"._inputRange").set(null)}else if(mr.match(y)){var Yr=w(et,Wt).get(),zr=(tr||{}).type;(!zr||zr==="-")&&(zr="linear"),r.getComponentMethod("annotations","convertCoords")(pe,Yr,zr,Mt),r.getComponentMethod("images","convertCoords")(pe,Yr,zr,Mt)}var Nr=p.containerArrayMatch(Wt);if(Nr){$t=Nr.array,Pr=Nr.index;var xn=Nr.property,tn=sr||{editType:"calc"};Pr!==""&&xn===""&&(p.isAddVal(tr)?ut[Wt]=null:p.isRemoveVal(tr)?ut[Wt]=(w(Ue,$t).get()||[])[Pr]:L.warn("unrecognized full object value",Te)),_.update(dr,tn),Rt[$t]||(Rt[$t]={});var On=Rt[$t][Pr];On||(On=Rt[$t][Pr]={}),On[xn]=tr,delete Te[Wt]}else mr==="reverse"?(Bt.range?Bt.range.reverse():(Mt(Ye+".autorange",!0),Bt.range=[1,0]),Ft.autorange?dr.calc=!0:dr.plot=!0):(Wt==="dragmode"&&(tr===!1&&rr!==!1||tr!==!1&&rr===!1)||et._has("scatter-like")&&et._has("regl")&&Wt==="dragmode"&&(tr==="lasso"||tr==="select")&&!(rr==="lasso"||rr==="select")||et._has("gl2d")?dr.plot=!0:sr?_.update(dr,sr):dr.calc=!0,Ht.set(tr))}}for($t in Rt){var zn=p.applyContainerArrayChanges(pe,lt(Ue,$t),Rt[$t],dr,lt);zn||(dr.plot=!0)}for(var Sr in _t){kt=a.getFromId(pe,Sr);var Vr=kt&&kt._constraintGroup;if(Vr){dr.calc=!0;for(var qr in Vr)_t[qr]||(a.getFromId(pe,qr)._constraintShrinkable=!0)}}(Ve(pe)||Te.height||Te.width)&&(dr.plot=!0);var Hr=et.shapes;for(Pr=0;Pr<Hr.length;Pr++)if(Hr[Pr].showlegend){dr.calc=!0;break}return(dr.plot||dr.calc)&&(dr.layoutReplot=!0),{flags:dr,rangesAltered:_t,undoit:ut,redoit:bt,eventData:St}}function Ve(pe){var Te=pe._fullLayout,Ue=Te.width,et=Te.height;return pe.layout.autosize&&i.plotAutoSize(pe,pe.layout,Te),Te.width!==Ue||Te.height!==et}function Ge(pe,Te,Ue,et){pe=L.getGraphDiv(pe),x.clearPromiseQueue(pe),L.isPlainObject(Te)||(Te={}),L.isPlainObject(Ue)||(Ue={}),Object.keys(Te).length&&(pe.changed=!0),Object.keys(Ue).length&&(pe.changed=!0);var st=x.coerceTraceIndices(pe,et),lt=he(pe,L.extendFlat({},Te),st),jt=lt.flags,Jt=Pe(pe,L.extendFlat({},Ue)),St=Jt.flags;(jt.calc||St.calc)&&(pe.calcdata=void 0),jt.clearAxisTypes&&x.clearAxisTypes(pe,st,Ue);var Rt=[];St.layoutReplot?Rt.push(A.layoutReplot):jt.fullReplot?Rt.push(U._doPlot):(Rt.push(i.previousPromises),Ae(pe,St,Jt)||i.supplyDefaults(pe),jt.style&&Rt.push(A.doTraceStyle),(jt.colorbars||St.colorbars)&&Rt.push(A.doColorBars),St.legend&&Rt.push(A.doLegend),St.layoutstyle&&Rt.push(A.layoutStyles),St.axrange&&De(Rt,Jt.rangesAltered),St.ticks&&Rt.push(A.doTicksRelayout),St.modebar&&Rt.push(A.doModeBar),St.camera&&Rt.push(A.doCamera),Rt.push(S)),Rt.push(i.rehover,i.redrag,i.reselect),g.add(pe,Ge,[pe,lt.undoit,Jt.undoit,lt.traces],Ge,[pe,lt.redoit,Jt.redoit,lt.traces]);var $t=L.syncOrAsync(Rt,pe);return(!$t||!$t.then)&&($t=Promise.resolve(pe)),$t.then(function(){return pe.emit("plotly_update",{data:lt.eventData,layout:Jt.eventData}),pe})}function Fe(pe){return function(Ue){Ue._fullLayout._guiEditing=!0;var et=pe.apply(null,arguments);return Ue._fullLayout._guiEditing=!1,et}}var He=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ft=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function gt(pe,Te){for(var Ue=0;Ue<Te.length;Ue++){var et=Te[Ue],st=pe.match(et.pattern);if(st){var lt=st[1]||"";return{head:lt,tail:pe.substr(lt.length+1),attr:et.attr}}}}function ct(pe,Te){var Ue=w(Te,pe).get();if(Ue!==void 0)return Ue;var et=pe.split(".");for(et.pop();et.length>1;)if(et.pop(),Ue=w(Te,et.join(".")+".uirevision").get(),Ue!==void 0)return Ue;return Te.uirevision}function nt(pe,Te){for(var Ue=0;Ue<Te.length;Ue++)if(Te[Ue]._fullInput.uid===pe)return Ue;return-1}function dt(pe,Te,Ue){for(var et=0;et<Te.length;et++)if(Te[et].uid===pe)return et;return!Te[Ue]||Te[Ue].uid?-1:Ue}function pt(pe,Te){var Ue=L.isPlainObject(pe),et=Array.isArray(pe);return Ue||et?(Ue&&L.isPlainObject(Te)||et&&Array.isArray(Te))&&JSON.stringify(pe)===JSON.stringify(Te):pe===Te}function wt(pe,Te,Ue,et){var st=et._preGUI,lt,jt,Jt,St,Rt,$t,Pr,xt,qt,nr,wr=[],dr={},bt={};for(lt in st){if(Rt=gt(lt,He),Rt){if(qt=Rt.head,nr=Rt.tail,jt=Rt.attr||qt+".uirevision",Jt=w(et,jt).get(),St=Jt&&ct(jt,Te),St&&St===Jt){if($t=st[lt],$t===null&&($t=void 0),Pr=w(Te,lt),xt=Pr.get(),pt(xt,$t)){xt===void 0&&nr==="autorange"&&wr.push(qt),Pr.set(j(w(et,lt).get()));continue}else if(nr==="autorange"||nr.substr(0,6)==="range["){var ut=st[qt+".range[0]"],Mt=st[qt+".range[1]"],_t=st[qt+".autorange"];if(_t||_t===null&&ut===null&&Mt===null){if(!(qt in dr)){var kt=w(Te,qt).get();dr[qt]=kt&&(kt.autorange||kt.autorange!==!1&&(!kt.range||kt.range.length!==2))}if(dr[qt]){Pr.set(j(w(et,lt).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+lt);delete st[lt],Rt&&Rt.tail.substr(0,6)==="range["&&(bt[Rt.head]=1)}for(var Xt=0;Xt<wr.length;Xt++){var Wt=wr[Xt];if(bt[Wt]){var Ht=w(Te,Wt).get();Ht&&delete Ht.autorange}}var tr=et._tracePreGUI;for(var gr in tr){var Qt=tr[gr],mr=null,Ze;for(lt in Qt){if(!mr){var Ye=nt(gr,Ue);if(Ye<0){delete tr[gr];break}var Bt=Ue[Ye];Ze=Bt._fullInput;var Ft=dt(gr,pe,Ze.index);if(Ft<0){delete tr[gr];break}mr=pe[Ft]}if(Rt=gt(lt,ft),Rt){if(Rt.attr?(Jt=w(et,Rt.attr).get(),St=Jt&&ct(Rt.attr,Te)):(Jt=Ze.uirevision,St=mr.uirevision,St===void 0&&(St=Te.uirevision)),St&&St===Jt&&($t=Qt[lt],$t===null&&($t=void 0),Pr=w(mr,lt),xt=Pr.get(),pt(xt,$t))){Pr.set(j(w(Ze,lt).get()));continue}}else L.warn("unrecognized GUI edit: "+lt+" in trace uid "+gr);delete Qt[lt]}}}function Tt(pe,Te,Ue,et){var st,lt;function jt(){return U.addFrames(pe,st)}pe=L.getGraphDiv(pe),x.clearPromiseQueue(pe);var Jt=pe._fullData,St=pe._fullLayout;if(!L.isPlotDiv(pe)||!Jt||!St)lt=U.newPlot(pe,Te,Ue,et);else{if(L.isPlainObject(Te)){var Rt=Te;Te=Rt.data,Ue=Rt.layout,et=Rt.config,st=Rt.frames}var $t=!1;if(et){var Pr=L.extendDeep({},pe._context);pe._context=void 0,B(pe,et),$t=je(Pr,pe._context)}pe.data=Te||[],x.cleanData(pe.data),pe.layout=Ue||{},x.cleanLayout(pe.layout),wt(pe.data,pe.layout,Jt,St),i.supplyDefaults(pe,{skipUpdateCalc:!0});var xt=pe._fullData,qt=pe._fullLayout,nr=qt.datarevision===void 0,wr=qt.transition,dr=at(pe,St,qt,nr,wr),bt=dr.newDataRevision,ut=Ct(pe,Jt,xt,nr,wr,bt);if(Ve(pe)&&(dr.layoutReplot=!0),ut.calc||dr.calc){pe.calcdata=void 0;for(var Mt=Object.getOwnPropertyNames(qt),_t=0;_t<Mt.length;_t++){var kt=Mt[_t],Xt=kt.substring(0,5);if(Xt==="xaxis"||Xt==="yaxis"){var Wt=qt[kt]._emptyCategories;Wt&&Wt()}}}else i.supplyDefaultsUpdateCalc(pe.calcdata,xt);var Ht=[];if(st&&(pe._transitionData={},i.createTransitionData(pe),Ht.push(jt)),qt.transition&&!$t&&(ut.anim||dr.anim))dr.ticks&&Ht.push(A.doTicksRelayout),i.doCalcdata(pe),A.doAutoRangeAndConstraints(pe),Ht.push(function(){return i.transitionFromReact(pe,ut,dr,St)});else if(ut.fullReplot||dr.layoutReplot||$t)pe._fullLayout._skipDefaults=!0,Ht.push(U._doPlot);else{for(var tr in dr.arrays){var gr=dr.arrays[tr];if(gr.length){var Qt=r.getComponentMethod(tr,"drawOne");if(Qt!==L.noop)for(var mr=0;mr<gr.length;mr++)Qt(pe,gr[mr]);else{var Ze=r.getComponentMethod(tr,"draw");if(Ze===L.noop)throw new Error("cannot draw components: "+tr);Ze(pe)}}}Ht.push(i.previousPromises),ut.style&&Ht.push(A.doTraceStyle),(ut.colorbars||dr.colorbars)&&Ht.push(A.doColorBars),dr.legend&&Ht.push(A.doLegend),dr.layoutstyle&&Ht.push(A.layoutStyles),dr.axrange&&De(Ht),dr.ticks&&Ht.push(A.doTicksRelayout),dr.modebar&&Ht.push(A.doModeBar),dr.camera&&Ht.push(A.doCamera),Ht.push(S)}Ht.push(i.rehover,i.redrag,i.reselect),lt=L.syncOrAsync(Ht,pe),(!lt||!lt.then)&&(lt=Promise.resolve(pe))}return lt.then(function(){return pe.emit("plotly_react",{data:Te,layout:Ue}),pe})}function Ct(pe,Te,Ue,et,st,lt){var jt=Te.length===Ue.length;if(!st&&!jt)return{fullReplot:!0,calc:!0};var Jt=_.traceFlags();Jt.arrays={},Jt.nChanges=0,Jt.nChangesAnim=0;var St,Rt;function $t(qt){var nr=t.getTraceValObject(Rt,qt);return!Rt._module.animatable&&nr.anim&&(nr.anim=!1),nr}var Pr={getValObject:$t,flags:Jt,immutable:et,transition:st,newDataRevision:lt,gd:pe},xt={};for(St=0;St<Te.length;St++)if(Ue[St]){if(Rt=Ue[St]._fullInput,i.hasMakesDataTransform(Rt)&&(Rt=Ue[St]),xt[Rt.uid])continue;xt[Rt.uid]=1,ze(Te[St]._fullInput,Rt,[],Pr)}return(Jt.calc||Jt.plot)&&(Jt.fullReplot=!0),st&&Jt.nChanges&&Jt.nChangesAnim&&(Jt.anim=Jt.nChanges===Jt.nChangesAnim&&jt?"all":"some"),Jt}function at(pe,Te,Ue,et,st){var lt=_.layoutFlags();lt.arrays={},lt.rangesAltered={},lt.nChanges=0,lt.nChangesAnim=0;function jt(St){return t.getLayoutValObject(Ue,St)}var Jt={getValObject:jt,flags:lt,immutable:et,transition:st,gd:pe};return ze(Te,Ue,[],Jt),(lt.plot||lt.calc)&&(lt.layoutReplot=!0),st&&lt.nChanges&&lt.nChangesAnim&&(lt.anim=lt.nChanges===lt.nChangesAnim?"all":"some"),lt}function ze(pe,Te,Ue,et){var st,lt,jt,Jt=et.getValObject,St=et.flags,Rt=et.immutable,$t=et.inArray,Pr=et.arrayIndex;function xt(){var Ye=st.editType;if($t&&Ye.indexOf("arraydraw")!==-1){L.pushUnique(St.arrays[$t],Pr);return}_.update(St,st),Ye!=="none"&&St.nChanges++,et.transition&&st.anim&&St.nChangesAnim++,(we.test(jt)||Ce.test(jt))&&(St.rangesAltered[Ue[0]]=1),be.test(jt)&&w(Te,"_inputDomain").set(null),lt==="datarevision"&&(St.newDataRevision=1)}function qt(Ye){return Ye.valType==="data_array"||Ye.arrayOk}for(lt in pe){if(St.calc&&!et.transition)return;var nr=pe[lt],wr=Te[lt],dr=Ue.concat(lt);if(jt=dr.join("."),!(lt.charAt(0)==="_"||typeof nr=="function"||nr===wr)){if((lt==="tick0"||lt==="dtick")&&Ue[0]!=="geo"){var bt=Te.tickmode;if(bt==="auto"||bt==="array"||!bt)continue}if(!(lt==="range"&&Te.autorange)&&!((lt==="zmin"||lt==="zmax")&&Te.type==="contourcarpet")&&(st=Jt(dr),!!st&&!(st._compareAsJSON&&JSON.stringify(nr)===JSON.stringify(wr)))){var ut=st.valType,Mt,_t=qt(st),kt=Array.isArray(nr),Xt=Array.isArray(wr);if(kt&&Xt){var Wt="_input_"+lt,Ht=pe[Wt],tr=Te[Wt];if(Array.isArray(Ht)&&Ht===tr)continue}if(wr===void 0)_t&&kt?St.calc=!0:xt();else if(st._isLinkedToArray){var gr=[],Qt=!1;$t||(St.arrays[lt]=gr);var mr=Math.min(nr.length,wr.length),Ze=Math.max(nr.length,wr.length);if(mr!==Ze)if(st.editType==="arraydraw")Qt=!0;else{xt();continue}for(Mt=0;Mt<mr;Mt++)ze(nr[Mt],wr[Mt],dr.concat(Mt),L.extendFlat({inArray:lt,arrayIndex:Mt},et));if(Qt)for(Mt=mr;Mt<Ze;Mt++)gr.push(Mt)}else!ut&&L.isPlainObject(nr)?ze(nr,wr,dr,et):_t?kt&&Xt?(Rt&&(St.calc=!0),(Rt||et.newDataRevision)&&xt()):kt!==Xt?St.calc=!0:xt():kt&&Xt?(nr.length!==wr.length||String(nr)!==String(wr))&&xt():xt()}}}for(lt in Te)if(!(lt in pe||lt.charAt(0)==="_"||typeof Te[lt]=="function"))if(st=Jt(Ue.concat(lt)),qt(st)&&Array.isArray(Te[lt])){St.calc=!0;return}else xt()}function je(pe,Te){var Ue;for(Ue in pe)if(Ue.charAt(0)!=="_"){var et=pe[Ue],st=Te[Ue];if(et!==st)if(L.isPlainObject(et)&&L.isPlainObject(st)){if(je(et,st))return!0}else if(Array.isArray(et)&&Array.isArray(st)){if(et.length!==st.length)return!0;for(var lt=0;lt<et.length;lt++)if(et[lt]!==st[lt])if(L.isPlainObject(et[lt])&&L.isPlainObject(st[lt])){if(je(et[lt],st[lt]))return!0}else return!0}else return!0}}function Je(pe,Te,Ue){if(pe=L.getGraphDiv(pe),!L.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var et=pe._transitionData;et._frameQueue||(et._frameQueue=[]),Ue=i.supplyAnimationDefaults(Ue);var st=Ue.transition,lt=Ue.frame;et._frameWaitingCnt===void 0&&(et._frameWaitingCnt=0);function jt(Rt){return Array.isArray(st)?Rt>=st.length?st[0]:st[Rt]:st}function Jt(Rt){return Array.isArray(lt)?Rt>=lt.length?lt[0]:lt[Rt]:lt}function St(Rt,$t){var Pr=0;return function(){if(Rt&&++Pr===$t)return Rt()}}return new Promise(function(Rt,$t){function Pr(){if(et._frameQueue.length!==0){for(;et._frameQueue.length;){var mr=et._frameQueue.pop();mr.onInterrupt&&mr.onInterrupt()}pe.emit("plotly_animationinterrupted",[])}}function xt(mr){if(mr.length!==0){for(var Ze=0;Ze<mr.length;Ze++){var Ye;mr[Ze].type==="byname"?Ye=i.computeFrame(pe,mr[Ze].name):Ye=mr[Ze].data;var Bt=Jt(Ze),Ft=jt(Ze);Ft.duration=Math.min(Ft.duration,Bt.duration);var rr={frame:Ye,name:mr[Ze].name,frameOpts:Bt,transitionOpts:Ft};Ze===mr.length-1&&(rr.onComplete=St(Rt,2),rr.onInterrupt=$t),et._frameQueue.push(rr)}Ue.mode==="immediate"&&(et._lastFrameAt=-1/0),et._animationRaf||wr()}}function qt(){pe.emit("plotly_animated"),window.cancelAnimationFrame(et._animationRaf),et._animationRaf=null}function nr(){et._currentFrame&&et._currentFrame.onComplete&&et._currentFrame.onComplete();var mr=et._currentFrame=et._frameQueue.shift();if(mr){var Ze=mr.name?mr.name.toString():null;pe._fullLayout._currentFrame=Ze,et._lastFrameAt=Date.now(),et._timeToNext=mr.frameOpts.duration,i.transition(pe,mr.frame.data,mr.frame.layout,x.coerceTraceIndices(pe,mr.frame.traces),mr.frameOpts,mr.transitionOpts).then(function(){mr.onComplete&&mr.onComplete()}),pe.emit("plotly_animatingframe",{name:Ze,frame:mr.frame,animation:{frame:mr.frameOpts,transition:mr.transitionOpts}})}else qt()}function wr(){pe.emit("plotly_animating"),et._lastFrameAt=-1/0,et._timeToNext=0,et._runningTransitions=0,et._currentFrame=null;var mr=function(){et._animationRaf=window.requestAnimationFrame(mr),Date.now()-et._lastFrameAt>et._timeToNext&&nr()};mr()}var dr=0;function bt(mr){return Array.isArray(st)?dr>=st.length?mr.transitionOpts=st[dr]:mr.transitionOpts=st[0]:mr.transitionOpts=st,dr++,mr}var ut,Mt,_t=[],kt=Te==null,Xt=Array.isArray(Te),Wt=!kt&&!Xt&&L.isPlainObject(Te);if(Wt)_t.push({type:"object",data:bt(L.extendFlat({},Te))});else if(kt||["string","number"].indexOf(typeof Te)!==-1)for(ut=0;ut<et._frames.length;ut++)Mt=et._frames[ut],Mt&&(kt||String(Mt.group)===String(Te))&&_t.push({type:"byname",name:String(Mt.name),data:bt({name:Mt.name})});else if(Xt)for(ut=0;ut<Te.length;ut++){var Ht=Te[ut];["number","string"].indexOf(typeof Ht)!==-1?(Ht=String(Ht),_t.push({type:"byname",name:Ht,data:bt({name:Ht})})):L.isPlainObject(Ht)&&_t.push({type:"object",data:bt(L.extendFlat({},Ht))})}for(ut=0;ut<_t.length;ut++)if(Mt=_t[ut],Mt.type==="byname"&&!et._frameHash[Mt.data.name]){L.warn('animate failure: frame not found: "'+Mt.data.name+'"'),$t();return}["next","immediate"].indexOf(Ue.mode)!==-1&&Pr(),Ue.direction==="reverse"&&_t.reverse();var tr=pe._fullLayout._currentFrame;if(tr&&Ue.fromcurrent){var gr=-1;for(ut=0;ut<_t.length;ut++)if(Mt=_t[ut],Mt.type==="byname"&&Mt.name===tr){gr=ut;break}if(gr>0&&gr<_t.length-1){var Qt=[];for(ut=0;ut<_t.length;ut++)Mt=_t[ut],(_t[ut].type!=="byname"||ut>gr)&&Qt.push(Mt);_t=Qt}}_t.length>0?xt(_t):(pe.emit("plotly_animated"),Rt())})}function Xe(pe,Te,Ue){if(pe=L.getGraphDiv(pe),Te==null)return Promise.resolve();if(!L.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var et,st,lt,jt,Jt=pe._transitionData._frames,St=pe._transitionData._frameHash;if(!Array.isArray(Te))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Te);var Rt=Jt.length+Te.length*2,$t=[],Pr={};for(et=Te.length-1;et>=0;et--)if(L.isPlainObject(Te[et])){var xt=Te[et].name,qt=(St[xt]||Pr[xt]||{}).name,nr=Te[et].name,wr=St[qt]||Pr[qt];qt&&nr&&typeof nr=="number"&&wr&&E<M&&(E++,L.warn('addFrames: overwriting frame "'+(St[qt]||Pr[qt]).name+'" with a frame whose name of type "number" also equates to "'+qt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===M&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Pr[xt]={name:xt},$t.push({frame:i.supplyFrameDefaults(Te[et]),index:Ue&&Ue[et]!==void 0&&Ue[et]!==null?Ue[et]:Rt+et})}$t.sort(function(Wt,Ht){return Wt.index>Ht.index?-1:Wt.index<Ht.index?1:0});var dr=[],bt=[],ut=Jt.length;for(et=$t.length-1;et>=0;et--){if(st=$t[et].frame,typeof st.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!st.name)for(;St[st.name="frame "+pe._transitionData._counter++];);if(St[st.name]){for(lt=0;lt<Jt.length&&(Jt[lt]||{}).name!==st.name;lt++);dr.push({type:"replace",index:lt,value:st}),bt.unshift({type:"replace",index:lt,value:Jt[lt]})}else jt=Math.max(0,Math.min($t[et].index,ut)),dr.push({type:"insert",index:jt,value:st}),bt.unshift({type:"delete",index:jt}),ut++}var Mt=i.modifyFrames,_t=i.modifyFrames,kt=[pe,bt],Xt=[pe,dr];return g&&g.add(pe,Mt,kt,_t,Xt),i.modifyFrames(pe,dr)}function Oe(pe,Te){if(pe=L.getGraphDiv(pe),!L.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe);var Ue,et,st=pe._transitionData._frames,lt=[],jt=[];if(!Te)for(Te=[],Ue=0;Ue<st.length;Ue++)Te.push(Ue);for(Te=Te.slice(),Te.sort(),Ue=Te.length-1;Ue>=0;Ue--)et=Te[Ue],lt.push({type:"delete",index:et}),jt.unshift({type:"insert",index:et,value:st[et]});var Jt=i.modifyFrames,St=i.modifyFrames,Rt=[pe,jt],$t=[pe,lt];return g&&g.add(pe,Jt,Rt,St,$t),i.modifyFrames(pe,lt)}function ke(pe){pe=L.getGraphDiv(pe);var Te=pe._fullLayout||{},Ue=pe._fullData||[];return i.cleanPlot([],{},Ue,Te),i.purge(pe),v.purge(pe),Te._container&&Te._container.remove(),delete pe._context,pe}function Ke(pe){var Te=pe._fullLayout,Ue=pe.getBoundingClientRect();if(!L.equalDomRects(Ue,Te._lastBBox)){var et=Te._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(pe));Te._invScaleX=Math.sqrt(et[0][0]*et[0][0]+et[0][1]*et[0][1]+et[0][2]*et[0][2]),Te._invScaleY=Math.sqrt(et[1][0]*et[1][0]+et[1][1]*et[1][1]+et[1][2]*et[1][2]),Te._lastBBox=Ue}}function Ie(pe){var Te=d.select(pe),Ue=pe._fullLayout;if(Ue._calcInverseTransform=Ke,Ue._calcInverseTransform(pe),Ue._container=Te.selectAll(".plot-container").data([0]),Ue._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ue._paperdiv=Ue._container.selectAll(".svg-container").data([0]),Ue._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ue._glcontainer=Ue._paperdiv.selectAll(".gl-container").data([{}]),Ue._glcontainer.enter().append("div").classed("gl-container",!0),Ue._paperdiv.selectAll(".main-svg").remove(),Ue._paperdiv.select(".modebar-container").remove(),Ue._paper=Ue._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ue._toppaper=Ue._paperdiv.append("svg").classed("main-svg",!0),Ue._modebardiv=Ue._paperdiv.append("div"),delete Ue._modeBar,Ue._hoverpaper=Ue._paperdiv.append("svg").classed("main-svg",!0),!Ue._uid){var et={};d.selectAll("defs").each(function(){this.id&&(et[this.id.split("-")[1]]=1)}),Ue._uid=L.randstr(et)}Ue._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),Ue._defs=Ue._paper.append("defs").attr("id","defs-"+Ue._uid),Ue._clips=Ue._defs.append("g").classed("clips",!0),Ue._topdefs=Ue._toppaper.append("defs").attr("id","topdefs-"+Ue._uid),Ue._topclips=Ue._topdefs.append("g").classed("clips",!0),Ue._bgLayer=Ue._paper.append("g").classed("bglayer",!0),Ue._draggers=Ue._paper.append("g").classed("draglayer",!0);var st=Ue._paper.append("g").classed("layer-below",!0);Ue._imageLowerLayer=st.append("g").classed("imagelayer",!0),Ue._shapeLowerLayer=st.append("g").classed("shapelayer",!0),Ue._cartesianlayer=Ue._paper.append("g").classed("cartesianlayer",!0),Ue._polarlayer=Ue._paper.append("g").classed("polarlayer",!0),Ue._smithlayer=Ue._paper.append("g").classed("smithlayer",!0),Ue._ternarylayer=Ue._paper.append("g").classed("ternarylayer",!0),Ue._geolayer=Ue._paper.append("g").classed("geolayer",!0),Ue._funnelarealayer=Ue._paper.append("g").classed("funnelarealayer",!0),Ue._pielayer=Ue._paper.append("g").classed("pielayer",!0),Ue._iciclelayer=Ue._paper.append("g").classed("iciclelayer",!0),Ue._treemaplayer=Ue._paper.append("g").classed("treemaplayer",!0),Ue._sunburstlayer=Ue._paper.append("g").classed("sunburstlayer",!0),Ue._indicatorlayer=Ue._toppaper.append("g").classed("indicatorlayer",!0),Ue._glimages=Ue._paper.append("g").classed("glimages",!0);var lt=Ue._toppaper.append("g").classed("layer-above",!0);Ue._imageUpperLayer=lt.append("g").classed("imagelayer",!0),Ue._shapeUpperLayer=lt.append("g").classed("shapelayer",!0),Ue._selectionLayer=Ue._toppaper.append("g").classed("selectionlayer",!0),Ue._infolayer=Ue._toppaper.append("g").classed("infolayer",!0),Ue._menulayer=Ue._toppaper.append("g").classed("menulayer",!0),Ue._zoomlayer=Ue._toppaper.append("g").classed("zoomlayer",!0),Ue._hoverlayer=Ue._hoverpaper.append("g").classed("hoverlayer",!0),Ue._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),pe.emit("plotly_framework")}U.animate=Je,U.addFrames=Xe,U.deleteFrames=Oe,U.addTraces=te,U.deleteTraces=Y,U.extendTraces=J,U.moveTraces=ie,U.prependTraces=Z,U.newPlot=F,U._doPlot=s,U.purge=ke,U.react=Tt,U.redraw=k,U.relayout=Se,U.restyle=le,U.setPlotConfig=b,U.update=Ge,U._guiRelayout=Fe(Se),U._guiRestyle=Fe(le),U._guiUpdate=Fe(Ge),U._storeDirectGUIEdit=ae},20556:function(H){var U={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function d(C,n){for(var L in C){var w=C[L];w.valType?n[L]=w.dflt:(n[L]||(n[L]={}),d(w,n[L]))}}d(U,e),H.exports={configAttributes:U,dfltConfig:e}},73060:function(H,U,e){var d=e(24040),C=e(3400),n=e(45464),L=e(64859),w=e(16672),v=e(85656),g=e(20556).configAttributes,r=e(67824),t=C.extendDeepAll,i=C.isPlainObject,a=C.isArrayOrTypedArray,u=C.nestedProperty,f=C.valObjectMeta,l="_isSubplotObj",m="_isLinkedToArray",h="_arrayAttrRegexps",T="_deprecated",c=[l,m,h,T];U.IS_SUBPLOT_OBJ=l,U.IS_LINKED_TO_ARRAY=m,U.DEPRECATED=T,U.UNDERSCORE_ATTRS=c,U.get=function(){var B={};d.allTypes.forEach(function(F){B[F]=A(F)});var k={};return Object.keys(d.transformsRegistry).forEach(function(F){k[F]=y(F)}),{defs:{valObjects:f,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:B,layout:_(),transforms:k,frames:E(),animation:M(v),config:M(g)}},U.crawl=function(B,k,F,N){var O=F||0;N=N||"",Object.keys(B).forEach(function(V){var X=B[V];if(c.indexOf(V)===-1){var ee=(N?N+".":"")+V;k(X,V,B,O,ee),!U.isValObject(X)&&i(X)&&V!=="impliedEdits"&&U.crawl(X,k,O+1,ee)}})},U.isValObject=function(B){return B&&B.valType!==void 0},U.findArrayAttributes=function(B){var k=[],F=[],N=[],O,V;function X(Z,te,Y,ie){F=F.slice(0,ie).concat([te]),N=N.slice(0,ie).concat([Z&&Z._isLinkedToArray]);var le=Z&&(Z.valType==="data_array"||Z.arrayOk===!0)&&!(F[ie-1]==="colorbar"&&(te==="ticktext"||te==="tickvals"));le&&ee(O,0,"")}function ee(Z,te,Y){var ie=Z[F[te]],le=Y+F[te];if(te===F.length-1)a(ie)&&k.push(V+le);else if(N[te]){if(Array.isArray(ie))for(var j=0;j<ie.length;j++)i(ie[j])&&ee(ie[j],te+1,le+"["+j+"].")}else i(ie)&&ee(ie,te+1,le+".")}O=B,V="",U.crawl(n,X),B._module&&B._module.attributes&&U.crawl(B._module.attributes,X);var ne=B.transforms;if(ne)for(var q=0;q<ne.length;q++){var se=ne[q],J=se._module;J&&(V="transforms["+q+"].",O=se,U.crawl(J.attributes,X))}return k},U.getTraceValObject=function(B,k){var F=k[0],N=1,O,V;if(F==="transforms"){if(k.length===1)return n.transforms;var X=B.transforms;if(!Array.isArray(X)||!X.length)return!1;var ee=k[1];if(!x(ee)||ee>=X.length)return!1;O=(d.transformsRegistry[X[ee].type]||{}).attributes,V=O&&O[k[2]],N=3}else{var ne=B._module;if(ne||(ne=(d.modules[B.type||n.type.dflt]||{})._module),!ne)return!1;if(O=ne.attributes,V=O&&O[F],!V){var q=ne.basePlotModule;q&&q.attributes&&(V=q.attributes[F])}V||(V=n[F])}return p(V,k,N)},U.getLayoutValObject=function(B,k){var F=o(B,k[0]);return p(F,k,1)};function o(B,k){var F,N,O,V,X=B._basePlotModules;if(X){var ee;for(F=0;F<X.length;F++){if(O=X[F],O.attrRegex&&O.attrRegex.test(k)){if(O.layoutAttrOverrides)return O.layoutAttrOverrides;!ee&&O.layoutAttributes&&(ee=O.layoutAttributes)}var ne=O.baseLayoutAttrOverrides;if(ne&&k in ne)return ne[k]}if(ee)return ee}var q=B._modules;if(q){for(F=0;F<q.length;F++)if(V=q[F].layoutAttributes,V&&k in V)return V[k]}for(N in d.componentsRegistry){if(O=d.componentsRegistry[N],O.name==="colorscale"&&k.indexOf("coloraxis")===0)return O.layoutAttributes[k];if(!O.schema&&k===O.name)return O.layoutAttributes}return k in L?L[k]:!1}function p(B,k,F){if(!B)return!1;if(B._isLinkedToArray){if(x(k[F]))F++;else if(F<k.length)return!1}for(;F<k.length;F++){var N=B[k[F]];if(i(N))B=N;else break;if(F===k.length-1)break;if(B._isLinkedToArray){if(F++,!x(k[F]))return!1}else if(B.valType==="info_array"){F++;var O=k[F];if(!x(O))return!1;var V=B.items;if(Array.isArray(V)){if(O>=V.length)return!1;if(B.dimensions===2){if(F++,k.length===F)return B;var X=k[F];if(!x(X))return!1;B=V[O][X]}else B=V[O]}else B=V}}return B}function x(B){return B===Math.round(B)&&B>=0}function A(B){var k,F;k=d.modules[B]._module,F=k.basePlotModule;var N={};N.type=null;var O=t({},n),V=t({},k.attributes);U.crawl(V,function(ne,q,se,J,Z){u(O,Z).set(void 0),ne===void 0&&u(V,Z).set(void 0)}),t(N,O),d.traceIs(B,"noOpacity")&&delete N.opacity,d.traceIs(B,"showLegend")||(delete N.showlegend,delete N.legendgroup),d.traceIs(B,"noHover")&&(delete N.hoverinfo,delete N.hoverlabel),k.selectPoints||delete N.selectedpoints,t(N,V),F.attributes&&t(N,F.attributes),N.type=B;var X={meta:k.meta||{},categories:k.categories||{},animatable:!!k.animatable,type:B,attributes:M(N)};if(k.layoutAttributes){var ee={};t(ee,k.layoutAttributes),X.layoutAttributes=M(ee)}return k.animatable||U.crawl(X,function(ne){U.isValObject(ne)&&"anim"in ne&&delete ne.anim}),X}function _(){var B={},k,F;t(B,L);for(k in d.subplotsRegistry)if(F=d.subplotsRegistry[k],!!F.layoutAttributes)if(Array.isArray(F.attr))for(var N=0;N<F.attr.length;N++)I(B,F,F.attr[N]);else{var O=F.attr==="subplot"?F.name:F.attr;I(B,F,O)}for(k in d.componentsRegistry){F=d.componentsRegistry[k];var V=F.schema;if(V&&(V.subplots||V.layout)){var X=V.subplots;if(X&&X.xaxis&&!X.yaxis)for(var ee in X.xaxis)delete B.yaxis[ee];delete B.xaxis.shift,delete B.xaxis.autoshift}else F.name==="colorscale"?t(B,F.layoutAttributes):F.layoutAttributes&&D(B,F.layoutAttributes,F.name)}return{layoutAttributes:M(B)}}function y(B){var k=d.transformsRegistry[B],F=t({},k.attributes);return Object.keys(d.componentsRegistry).forEach(function(N){var O=d.componentsRegistry[N];O.schema&&O.schema.transforms&&O.schema.transforms[B]&&Object.keys(O.schema.transforms[B]).forEach(function(V){D(F,O.schema.transforms[B][V],V)})}),{attributes:M(F)}}function E(){var B={frames:t({},w)};return M(B),B.frames}function M(B){return s(B),S(B),b(B),B}function s(B){function k(N){return{valType:"string",editType:"none"}}function F(N,O,V){U.isValObject(N)?(N.arrayOk===!0||N.valType==="data_array")&&(V[O+"src"]=k()):i(N)&&(N.role="object")}U.crawl(B,F)}function S(B){function k(F,N,O){if(F){var V=F[m];V&&(delete F[m],O[N]={items:{}},O[N].items[V]=F,O[N].role="object")}}U.crawl(B,k)}function b(B){function k(F){for(var N in F)if(i(F[N]))k(F[N]);else if(Array.isArray(F[N]))for(var O=0;O<F[N].length;O++)k(F[N][O]);else F[N]instanceof RegExp&&(F[N]=F[N].toString())}k(B)}function I(B,k,F){var N=u(B,F),O=t({},k.layoutAttributes);O[l]=!0,N.set(O)}function D(B,k,F){var N=u(B,F);N.set(t(N.get()||{},k))}},31780:function(H,U,e){var d=e(3400),C=e(45464),n="templateitemname",L={name:{valType:"string",editType:"none"}};L[n]={valType:"string",editType:"calc"},U.templatedArray=function(g,r){return r._isLinkedToArray=g,r.name=L.name,r[n]=L[n],r},U.traceTemplater=function(g){var r={},t,i;for(t in g)i=g[t],Array.isArray(i)&&i.length&&(r[t]=0);function a(u){t=d.coerce(u,{},C,"type");var f={type:t,_template:null};if(t in r){i=g[t];var l=r[t]%i.length;r[t]++,f._template=i[l]}return f}return{newTrace:a}},U.newContainer=function(g,r,t){var i=g._template,a=i&&(i[r]||t&&i[t]);d.isPlainObject(a)||(a=null);var u=g[r]={_template:a};return u},U.arrayTemplater=function(g,r,t){var i=g._template,a=i&&i[v(r)],u=i&&i[r];(!Array.isArray(u)||!u.length)&&(u=[]);var f={};function l(h){var T={name:h.name,_input:h},c=T[n]=h[n];if(!w(c))return T._template=a,T;for(var o=0;o<u.length;o++){var p=u[o];if(p.name===c)return f[c]=1,T._template=p,T}return T[t]=h[t]||!1,T._template=!1,T}function m(){for(var h=[],T=0;T<u.length;T++){var c=u[T],o=c.name;if(w(o)&&!f[o]){var p={_template:c,name:o,_input:{_templateitemname:o}};p[n]=c[n],h.push(p),f[o]=1}}return h}return{newItem:l,defaultItems:m}};function w(g){return g&&typeof g=="string"}function v(g){var r=g.length-1;return g.charAt(r)!=="s"&&d.warn("bad argument to arrayDefaultKey: "+g),g.substr(0,g.length-1)+"defaults"}U.arrayDefaultKey=v,U.arrayEditor=function(g,r,t){var i=(d.nestedProperty(g,r).get()||[]).length,a=t._index,u=a>=i&&(t._input||{})._templateitemname;u&&(a=i);var f=r+"["+a+"]",l;function m(){l={},u&&(l[f]={},l[f][n]=u)}m();function h(p,x){l[p]=x}function T(p,x){u?d.nestedProperty(l[f],p).set(x):l[f+"."+p]=x}function c(){var p=l;return m(),p}function o(p,x){p&&T(p,x);var A=c();for(var _ in A)d.nestedProperty(g,_).set(A[_])}return{modifyBase:h,modifyItem:T,getUpdateObj:c,applyUpdate:o}}},39172:function(H,U,e){var d=e(33428),C=e(24040),n=e(7316),L=e(3400),w=e(72736),v=e(73696),g=e(76308),r=e(43616),t=e(81668),i=e(45460),a=e(54460),u=e(84284),f=e(71888),l=f.enforce,m=f.clean,h=e(19280).doAutoRange,T="start",c="middle",o="end";U.layoutStyles=function(F){return L.syncOrAsync([n.doAutoMargin,x],F)};function p(F,N,O){for(var V=0;V<O.length;V++){var X=O[V][0],ee=O[V][1];if(!(X[0]>=F[1]||X[1]<=F[0])&&ee[0]<N[1]&&ee[1]>N[0])return!0}return!1}function x(F){var N=F._fullLayout,O=N._size,V=O.p,X=a.list(F,"",!0),ee,ne,q,se,J,Z;if(N._paperdiv.style({width:F._context.responsive&&N.autosize&&!F._context._hasZeroWidth&&!F.layout.width?"100%":N.width+"px",height:F._context.responsive&&N.autosize&&!F._context._hasZeroHeight&&!F.layout.height?"100%":N.height+"px"}).selectAll(".main-svg").call(r.setSize,N.width,N.height),F._context.setBackground(F,N.paper_bgcolor),U.drawMainTitle(F),i.manage(F),!N._has("cartesian"))return n.previousPromises(F);function te(ke,Ke,Ie){var pe=ke._lw/2;if(ke._id.charAt(0)==="x"){if(Ke){if(Ie==="top")return Ke._offset-V-pe}else return O.t+O.h*(1-(ke.position||0))+pe%1;return Ke._offset+Ke._length+V+pe}if(Ke){if(Ie==="right")return Ke._offset+Ke._length+V+pe}else return O.l+O.w*(ke.position||0)+pe%1;return Ke._offset-V-pe}for(ee=0;ee<X.length;ee++){se=X[ee];var Y=se._anchorAxis;se._linepositions={},se._lw=r.crispRound(F,se.linewidth,1),se._mainLinePosition=te(se,Y,se.side),se._mainMirrorPosition=se.mirror&&Y?te(se,Y,u.OPPOSITE_SIDE[se.side]):null}var ie=[],le=[],j=[],K=g.opacity(N.paper_bgcolor)===1&&g.opacity(N.plot_bgcolor)===1&&N.paper_bgcolor===N.plot_bgcolor;for(ne in N._plots)if(q=N._plots[ne],q.mainplot)q.bg&&q.bg.remove(),q.bg=void 0;else{var ue=q.xaxis.domain,ae=q.yaxis.domain,he=q.plotgroup;if(p(ue,ae,j)){var xe=he.node(),Se=q.bg=L.ensureSingle(he,"rect","bg");xe.insertBefore(Se.node(),xe.childNodes[0]),le.push(ne)}else he.select("rect.bg").remove(),j.push([ue,ae]),K||(ie.push(ne),le.push(ne))}var Ae=N._bgLayer.selectAll(".bg").data(ie);for(Ae.enter().append("rect").classed("bg",!0),Ae.exit().remove(),Ae.each(function(ke){N._plots[ke].bg=d.select(this)}),ee=0;ee<le.length;ee++)q=N._plots[le[ee]],J=q.xaxis,Z=q.yaxis,q.bg&&J._offset!==void 0&&Z._offset!==void 0&&q.bg.call(r.setRect,J._offset-V,Z._offset-V,J._length+2*V,Z._length+2*V).call(g.fill,N.plot_bgcolor).style("stroke-width",0);if(!N._hasOnlyLargeSploms)for(ne in N._plots){q=N._plots[ne],J=q.xaxis,Z=q.yaxis;var De=q.clipId="clip"+N._uid+ne+"plot",we=L.ensureSingleById(N._clips,"clipPath",De,function(ke){ke.classed("plotclip",!0).append("rect")});q.clipRect=we.select("rect").attr({width:J._length,height:Z._length}),r.setTranslate(q.plot,J._offset,Z._offset);var Ce,be;q._hasClipOnAxisFalse?(Ce=null,be=De):(Ce=De,be=null),r.setClipUrl(q.plot,Ce,F),q.layerClipId=be}var Pe,Ve,Ge,Fe,He,ft,gt,ct,nt,dt,pt,wt,Tt;function Ct(ke){return"M"+Pe+","+ke+"H"+Ve}function at(ke){return"M"+J._offset+","+ke+"h"+J._length}function ze(ke){return"M"+ke+","+ct+"V"+gt}function je(ke){return Z._shift!==void 0&&(ke+=Z._shift),"M"+ke+","+Z._offset+"v"+Z._length}function Je(ke,Ke,Ie){if(!ke.showline||ne!==ke._mainSubplot)return"";if(!ke._anchorAxis)return Ie(ke._mainLinePosition);var pe=Ke(ke._mainLinePosition);return ke.mirror&&(pe+=Ke(ke._mainMirrorPosition)),pe}for(ne in N._plots){q=N._plots[ne],J=q.xaxis,Z=q.yaxis;var Xe="M0,0";A(J,ne)&&(He=y(J,"left",Z,X),Pe=J._offset-(He?V+He:0),ft=y(J,"right",Z,X),Ve=J._offset+J._length+(ft?V+ft:0),Ge=te(J,Z,"bottom"),Fe=te(J,Z,"top"),Tt=!J._anchorAxis||ne!==J._mainSubplot,Tt&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[ne]=[Ge,Fe]),Xe=Je(J,Ct,at),Tt&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(Xe+=Ct(Ge)+Ct(Fe)),q.xlines.style("stroke-width",J._lw+"px").call(g.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),q.xlines.attr("d",Xe);var Oe="M0,0";A(Z,ne)&&(pt=y(Z,"bottom",J,X),gt=Z._offset+Z._length+(pt?V:0),wt=y(Z,"top",J,X),ct=Z._offset-(wt?V:0),nt=te(Z,J,"left"),dt=te(Z,J,"right"),Tt=!Z._anchorAxis||ne!==Z._mainSubplot,Tt&&(Z.mirror==="allticks"||Z.mirror==="all")&&(Z._linepositions[ne]=[nt,dt]),Oe=Je(Z,ze,je),Tt&&Z.showline&&(Z.mirror==="all"||Z.mirror==="allticks")&&(Oe+=ze(nt)+ze(dt)),q.ylines.style("stroke-width",Z._lw+"px").call(g.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),q.ylines.attr("d",Oe)}return a.makeClipPaths(F),n.previousPromises(F)}function A(F,N){return(F.ticks||F.showline)&&(N===F._mainSubplot||F.mirror==="all"||F.mirror==="allticks")}function _(F,N,O){if(!O.showline||!O._lw)return!1;if(O.mirror==="all"||O.mirror==="allticks")return!0;var V=O._anchorAxis;if(!V)return!1;var X=u.FROM_BL[N];return O.side===N?V.domain[X]===F.domain[X]:O.mirror&&V.domain[1-X]===F.domain[1-X]}function y(F,N,O,V){if(_(F,N,O))return O._lw;for(var X=0;X<V.length;X++){var ee=V[X];if(ee._mainAxis===O._mainAxis&&_(F,N,ee))return ee._lw}return 0}U.drawMainTitle=function(F){var N=F._fullLayout.title,O=F._fullLayout,V=B(O),X=k(O),ee=I(O,X),ne=b(O,V);if(t.draw(F,"gtitle",{propContainer:O,propName:"title.text",placeholder:O._dfltTitle.plot,attributes:{x:ne,y:ee,"text-anchor":V,dy:X}}),N.text&&N.automargin){var q=d.selectAll(".gtitle"),se=r.bBox(q.node()).height,J=s(F,N,se);if(J>0){S(F,ee,J,se),q.attr({x:ne,y:ee,"text-anchor":V,dy:D(N.yanchor)}).call(w.positionText,ne,ee);var Z=(N.text.match(w.BR_TAG_ALL)||[]).length;if(Z){var te=u.LINE_SPACING*Z+u.MID_SHIFT;N.y===0&&(te=-te),q.selectAll(".line").each(function(){var Y=+this.getAttribute("dy").slice(0,-2)-te+"em";this.setAttribute("dy",Y)})}}}};function E(F,N,O,V,X){var ee=N.yref==="paper"?F._fullLayout._size.h:F._fullLayout.height,ne=L.isTopAnchor(N)?V:V-X,q=O==="b"?ee-ne:ne;return L.isTopAnchor(N)&&O==="t"||L.isBottomAnchor(N)&&O==="b"?!1:q<X}function M(F,N,O,V,X){var ee=0;return O==="middle"&&(ee+=X/2),F==="t"?(O==="top"&&(ee+=X),ee+=V-N*V):(O==="bottom"&&(ee+=X),ee+=N*V),ee}function s(F,N,O){var V=N.y,X=N.yanchor,ee=V>.5?"t":"b",ne=F._fullLayout.margin[ee],q=0;return N.yref==="paper"?q=O+N.pad.t+N.pad.b:N.yref==="container"&&(q=M(ee,V,X,F._fullLayout.height,O)+N.pad.t+N.pad.b),q>ne?q:0}function S(F,N,O,V){var X="title.automargin",ee=F._fullLayout.title,ne=ee.y>.5?"t":"b",q={x:ee.x,y:ee.y,t:0,b:0},se={};ee.yref==="paper"&&E(F,ee,ne,N,V)?q[ne]=O:ee.yref==="container"&&(se[ne]=O,F._fullLayout._reservedMargin[X]=se),n.allowAutoMargin(F,X),n.autoMargin(F,X,q)}function b(F,N){var O=F.title,V=F._size,X=0;switch(N===T?X=O.pad.l:N===o&&(X=-O.pad.r),O.xref){case"paper":return V.l+V.w*O.x+X;case"container":default:return F.width*O.x+X}}function I(F,N){var O=F.title,V=F._size,X=0;if(N==="0em"||!N?X=-O.pad.b:N===u.CAP_SHIFT+"em"&&(X=O.pad.t),O.y==="auto")return V.t/2;switch(O.yref){case"paper":return V.t+V.h-V.h*O.y+X;case"container":default:return F.height-F.height*O.y+X}}function D(F){return F==="top"?u.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":u.MID_SHIFT+"em"}function B(F){var N=F.title,O=c;return L.isRightAnchor(N)?O=o:L.isLeftAnchor(N)&&(O=T),O}function k(F){var N=F.title,O="0em";return L.isTopAnchor(N)?O=u.CAP_SHIFT+"em":L.isMiddleAnchor(N)&&(O=u.MID_SHIFT+"em"),O}U.doTraceStyle=function(F){var N=F.calcdata,O=[],V;for(V=0;V<N.length;V++){var X=N[V],ee=X[0]||{},ne=ee.trace||{},q=ne._module||{},se=q.arraysToCalcdata;se&&se(X,ne);var J=q.editStyle;J&&O.push({fn:J,cd0:ee})}if(O.length){for(V=0;V<O.length;V++){var Z=O[V];Z.fn(F,Z.cd0)}v(F),U.redrawReglTraces(F)}return n.style(F),C.getComponentMethod("legend","draw")(F),n.previousPromises(F)},U.doColorBars=function(F){return C.getComponentMethod("colorbar","draw")(F),n.previousPromises(F)},U.layoutReplot=function(F){var N=F.layout;return F.layout=void 0,C.call("_doPlot",F,"",N)},U.doLegend=function(F){return C.getComponentMethod("legend","draw")(F),n.previousPromises(F)},U.doTicksRelayout=function(F){return a.draw(F,"redraw"),F._fullLayout._hasOnlyLargeSploms&&(C.subplotsRegistry.splom.updateGrid(F),v(F),U.redrawReglTraces(F)),U.drawMainTitle(F),n.previousPromises(F)},U.doModeBar=function(F){var N=F._fullLayout;i.manage(F);for(var O=0;O<N._basePlotModules.length;O++){var V=N._basePlotModules[O].updateFx;V&&V(F)}return n.previousPromises(F)},U.doCamera=function(F){for(var N=F._fullLayout,O=N._subplots.gl3d,V=0;V<O.length;V++){var X=N[O[V]],ee=X._scene;ee.setViewport(X)}},U.drawData=function(F){var N=F._fullLayout;v(F);for(var O=N._basePlotModules,V=0;V<O.length;V++)O[V].plot(F);return U.redrawReglTraces(F),n.style(F),C.getComponentMethod("selections","draw")(F),C.getComponentMethod("shapes","draw")(F),C.getComponentMethod("annotations","draw")(F),C.getComponentMethod("images","draw")(F),N._replotting=!1,n.previousPromises(F)},U.redrawReglTraces=function(F){var N=F._fullLayout;if(N._has("regl")){var O=F._fullData,V=[],X=[],ee,ne;for(N._hasOnlyLargeSploms&&N._splomGrid.draw(),ee=0;ee<O.length;ee++){var q=O[ee];q.visible===!0&&q._length!==0&&(q.type==="splom"?N._splomScenes[q.uid].draw():q.type==="scattergl"?L.pushUnique(V,q.xaxis+q.yaxis):q.type==="scatterpolargl"&&L.pushUnique(X,q.subplot))}for(ee=0;ee<V.length;ee++)ne=N._plots[V[ee]],ne._scene&&ne._scene.draw();for(ee=0;ee<X.length;ee++)ne=N[X[ee]]._subplot,ne._scene&&ne._scene.draw()}},U.doAutoRangeAndConstraints=function(F){for(var N=a.list(F,"",!0),O,V={},X=0;X<N.length;X++)if(O=N[X],!V[O._id]){V[O._id]=1,m(F,O),h(F,O);var ee=O._matchGroup;if(ee)for(var ne in ee){var q=a.getFromId(F,ne);h(F,q,O.range),V[ne]=1}}l(F)},U.finalDraw=function(F){C.getComponentMethod("rangeslider","draw")(F),C.getComponentMethod("rangeselector","draw")(F)},U.drawMarginPushers=function(F){C.getComponentMethod("legend","draw")(F),C.getComponentMethod("rangeselector","draw")(F),C.getComponentMethod("sliders","draw")(F),C.getComponentMethod("updatemenus","draw")(F),C.getComponentMethod("colorbar","draw")(F)}},94828:function(H,U,e){var d=e(3400),C=d.isPlainObject,n=e(73060),L=e(7316),w=e(45464),v=e(31780),g=e(20556).dfltConfig;U.makeTemplate=function(h){h=d.isPlainObject(h)?h:d.getGraphDiv(h),h=d.extendDeep({_context:g},{data:h.data,layout:h.layout}),L.supplyDefaults(h);var T=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var o={data:{},layout:{}};T.forEach(function(b){var I={};i(b,I,u.bind(null,b));var D=d.coerce(b,{},w,"type"),B=o.data[D];B||(B=o.data[D]=[]),B.push(I)}),i(c,o.layout,a.bind(null,c)),delete o.layout.template;var p=c.template;if(C(p)){var x=p.layout,A,_,y,E,M,s;C(x)&&r(x,o.layout);var S=p.data;if(C(S)){for(_ in o.data)if(y=S[_],Array.isArray(y)){for(M=o.data[_],s=M.length,E=y.length,A=0;A<s;A++)r(y[A%E],M[A]);for(A=s;A<E;A++)M.push(d.extendDeep({},y[A]))}for(_ in S)_ in o.data||(o.data[_]=d.extendDeep([],S[_]))}}return o};function r(h,T){h=d.extendDeep({},h);var c=Object.keys(h).sort(),o,p;function x(M,s,S){if(C(s)&&C(M))r(M,s);else if(Array.isArray(s)&&Array.isArray(M)){var b=v.arrayTemplater({_template:h},S);for(p=0;p<s.length;p++){var I=s[p],D=b.newItem(I)._template;D&&r(D,I)}var B=b.defaultItems();for(p=0;p<B.length;p++)s.push(B[p]._template);for(p=0;p<s.length;p++)delete s[p].templateitemname}}for(o=0;o<c.length;o++){var A=c[o],_=h[A];if(A in T?x(_,T[A],A):T[A]=_,t(A)===A)for(var y in T){var E=t(y);y!==E&&E===A&&!(y in h)&&x(_,T[y],A)}}}function t(h){return h.replace(/[0-9]+$/,"")}function i(h,T,c,o,p){var x=p&&c(p);for(var A in h){var _=h[A],y=f(h,A,o),E=f(h,A,p),M=c(E);if(!M){var s=t(A);s!==A&&(E=f(h,s,p),M=c(E))}if(!(x&&x===M)&&!(!M||M._noTemplating||M.valType==="data_array"||M.arrayOk&&Array.isArray(_)))if(!M.valType&&C(_))i(_,T,c,y,E);else if(M._isLinkedToArray&&Array.isArray(_))for(var S=!1,b=0,I={},D=0;D<_.length;D++){var B=_[D];if(C(B)){var k=B.name;if(k)I[k]||(i(B,T,c,f(_,b,y),f(_,b,E)),b++,I[k]=1);else if(!S){var F=v.arrayDefaultKey(A),N=f(h,F,o),O=f(_,b,y);i(B,T,c,O,f(_,b,E));var V=d.nestedProperty(T,O),X=d.nestedProperty(T,N);X.set(V.get()),V.set(null),S=!0}}}else{var ee=d.nestedProperty(T,y);ee.set(_)}}}function a(h,T){return n.getLayoutValObject(h,d.nestedProperty({},T).parts)}function u(h,T){return n.getTraceValObject(h,d.nestedProperty({},T).parts)}function f(h,T,c){var o;return c?Array.isArray(h)?o=c+"["+T+"]":o=c+"."+T:o=T,o}U.validateTemplate=function(h,T){var c=d.extendDeep({},{_context:g,data:h.data,layout:h.layout}),o=c.layout||{};C(T)||(T=o.template||{});var p=T.layout,x=T.data,A=[];c.layout=o,c.layout.template=T,L.supplyDefaults(c);var _=c._fullLayout,y=c._fullData,E={};function M(N,O){for(var V in N)if(V.charAt(0)!=="_"&&C(N[V])){var X=t(V),ee=[],ne;for(ne=0;ne<O.length;ne++)ee.push(f(N,V,O[ne])),X!==V&&ee.push(f(N,X,O[ne]));for(ne=0;ne<ee.length;ne++)E[ee[ne]]=1;M(N[V],ee)}}function s(N,O){for(var V in N)if(V.indexOf("defaults")===-1&&C(N[V])){var X=f(N,V,O);E[X]?s(N[V],X):A.push({code:"unused",path:X})}}if(C(p)?(M(_,["layout"]),s(p,"layout")):A.push({code:"layout"}),!C(x))A.push({code:"data"});else{for(var S={},b,I=0;I<y.length;I++){var D=y[I];b=D.type,S[b]=(S[b]||0)+1,D._fullInput._template||A.push({code:"missing",index:D._fullInput.index,traceType:b})}for(b in x){var B=x[b].length,k=S[b]||0;B>k?A.push({code:"unused",traceType:b,templateCount:B,dataCount:k}):k>B&&A.push({code:"reused",traceType:b,templateCount:B,dataCount:k})}}function F(N,O){for(var V in N)if(V.charAt(0)!=="_"){var X=N[V],ee=f(N,V,O);C(X)?(Array.isArray(N)&&X._template===!1&&X.templateitemname&&A.push({code:"missing",path:ee,templateitemname:X.templateitemname}),F(X,ee)):Array.isArray(X)&&l(X)&&F(X,ee)}}if(F({data:y,layout:_},""),A.length)return A.map(m)};function l(h){for(var T=0;T<h.length;T++)if(C(h[T]))return!0}function m(h){var T;switch(h.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":h.path?T="There are no templates for item "+h.path+" with name "+h.templateitemname:T="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?T="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?T="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":T="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=T,h}},67024:function(H,U,e){var d=e(38248),C=e(36424),n=e(7316),L=e(3400),w=e(81792),v=e(37164),g=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function i(a,u){u=u||{};var f,l,m,h;L.isPlainObject(a)?(f=a.data||[],l=a.layout||{},m=a.config||{},h={}):(a=L.getGraphDiv(a),f=L.extendDeep([],a.data),l=L.extendDeep({},a.layout),m=a._context,h=a._fullLayout||{});function T(k){return!(k in u)||L.validate(u[k],t[k])}if(!T("width")&&u.width!==null||!T("height")&&u.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+L.join2(t.format.values,", "," or ")+".");var c={};function o(k,F){return L.coerce(u,c,t,k,F)}var p=o("format"),x=o("width"),A=o("height"),_=o("scale"),y=o("setBackground"),E=o("imageDataOnly"),M=document.createElement("div");M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var s=L.extendFlat({},l);x?s.width=x:u.width===null&&d(h.width)&&(s.width=h.width),A?s.height=A:u.height===null&&d(h.height)&&(s.height=h.height);var S=L.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:y}),b=w.getRedrawFunc(M);function I(){return new Promise(function(k){setTimeout(k,w.getDelay(M._fullLayout))})}function D(){return new Promise(function(k,F){var N=v(M,p,_),O=M._fullLayout.width,V=M._fullLayout.height;function X(){C.purge(M),document.body.removeChild(M)}if(p==="full-json"){var ee=n.graphJson(M,!1,"keepdata","object",!0,!0);return ee.version=r,ee=JSON.stringify(ee),X(),k(E?ee:w.encodeJSON(ee))}if(X(),p==="svg")return k(E?N:w.encodeSVG(N));var ne=document.createElement("canvas");ne.id=L.randstr(),g({format:p,width:O,height:V,scale:_,canvas:ne,svg:N,promise:!0}).then(k).catch(F)})}function B(k){return E?k.replace(w.IMAGE_URL_PREFIX,""):k}return new Promise(function(k,F){C.newPlot(M,f,s,S).then(b).then(I).then(D).then(function(N){k(B(N))}).catch(function(N){F(N)})})}H.exports=i},21480:function(H,U,e){var d=e(3400),C=e(7316),n=e(73060),L=e(20556).dfltConfig,w=d.isPlainObject,v=Array.isArray,g=d.isArrayOrTypedArray;H.exports=function(o,p){o===void 0&&(o=[]),p===void 0&&(p={});var x=n.get(),A=[],_={_context:d.extendFlat({},L)},y,E;v(o)?(_.data=d.extendDeep([],o),y=o):(_.data=[],y=[],A.push(u("array","data"))),w(p)?(_.layout=d.extendDeep({},p),E=p):(_.layout={},E={},arguments.length>1&&A.push(u("object","layout"))),C.supplyDefaults(_);for(var M=_._fullData,s=y.length,S=0;S<s;S++){var b=y[S],I=["data",S];if(!w(b)){A.push(u("object",I));continue}var D=M[S],B=D.type,k=x.traces[B].attributes;k.type={valType:"enumerated",values:[B]},D.visible===!1&&b.visible!==!1&&A.push(u("invisible",I)),r(b,D,k,A,I);var F=b.transforms,N=D.transforms;if(F){v(F)||A.push(u("array",I,["transforms"])),I.push("transforms");for(var O=0;O<F.length;O++){var V=["transforms",O],X=F[O].type;if(!w(F[O])){A.push(u("object",I,V));continue}var ee=x.transforms[X]?x.transforms[X].attributes:{};ee.type={valType:"enumerated",values:Object.keys(x.transforms)},r(F[O],N[O],ee,A,I,V)}}}var ne=_._fullLayout,q=t(x,M);return r(E,ne,q,A,"layout"),A.length===0?void 0:A};function r(c,o,p,x,A,_){_=_||[];for(var y=Object.keys(c),E=0;E<y.length;E++){var M=y[E];if(M!=="transforms"){var s=_.slice();s.push(M);var S=c[M],b=o[M],I=l(p,M),D=(I||{}).valType,B=D==="info_array",k=D==="colorscale",F=(I||{}).items;if(!f(p,M))x.push(u("schema",A,s));else if(w(S)&&w(b)&&D!=="any")r(S,b,I,x,A,s);else if(B&&v(S)){S.length>b.length&&x.push(u("unused",A,s.concat(b.length)));var N=b.length,O=Array.isArray(F);O&&(N=Math.min(N,F.length));var V,X,ee,ne,q;if(I.dimensions===2)for(X=0;X<N;X++)if(v(S[X])){S[X].length>b[X].length&&x.push(u("unused",A,s.concat(X,b[X].length)));var se=b[X].length;for(V=0;V<(O?Math.min(se,F[X].length):se);V++)ee=O?F[X][V]:F,ne=S[X][V],q=b[X][V],d.validate(ne,ee)?q!==ne&&q!==+ne&&x.push(u("dynamic",A,s.concat(X,V),ne,q)):x.push(u("value",A,s.concat(X,V),ne))}else x.push(u("array",A,s.concat(X),S[X]));else for(X=0;X<N;X++)ee=O?F[X]:F,ne=S[X],q=b[X],d.validate(ne,ee)?q!==ne&&q!==+ne&&x.push(u("dynamic",A,s.concat(X),ne,q)):x.push(u("value",A,s.concat(X),ne))}else if(I.items&&!B&&v(S)){var J=F[Object.keys(F)[0]],Z=[],te,Y;for(te=0;te<b.length;te++){var ie=b[te]._index||te;if(Y=s.slice(),Y.push(ie),w(S[ie])&&w(b[te])){Z.push(ie);var le=S[ie],j=b[te];w(le)&&le.visible!==!1&&j.visible===!1?x.push(u("invisible",A,Y)):r(le,j,J,x,A,Y)}}for(te=0;te<S.length;te++)Y=s.slice(),Y.push(te),w(S[te])?Z.indexOf(te)===-1&&x.push(u("unused",A,Y)):x.push(u("object",A,Y,S[te]))}else!w(S)&&w(b)?x.push(u("object",A,s,S)):!g(S)&&g(b)&&!B&&!k?x.push(u("array",A,s,S)):M in o?d.validate(S,I)?I.valType==="enumerated"&&(I.coerceNumber&&S!==+b||S!==b)&&x.push(u("dynamic",A,s,S,b)):x.push(u("value",A,s,S)):x.push(u("unused",A,s,S))}}return x}function t(c,o){for(var p=c.layout.layoutAttributes,x=0;x<o.length;x++){var A=o[x],_=c.traces[A.type],y=_.layoutAttributes;y&&(A.subplot?d.extendFlat(p[_.attributes.subplot.dflt],y):d.extendFlat(p,y))}return p}var i={object:function(c,o){var p;return c==="layout"&&o===""?p="The layout argument":c[0]==="data"&&o===""?p="Trace "+c[1]+" in the data argument":p=a(c)+"key "+o,p+" must be linked to an object container"},array:function(c,o){var p;return c==="data"?p="The data argument":p=a(c)+"key "+o,p+" must be linked to an array container"},schema:function(c,o){return a(c)+"key "+o+" is not part of the schema"},unused:function(c,o,p){var x=w(p)?"container":"key";return a(c)+x+" "+o+" did not get coerced"},dynamic:function(c,o,p,x){return[a(c)+"key",o,"(set to '"+p+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(c,o){return(o?a(c)+"item "+o:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,o,p){return[a(c)+"key "+o,"is set to an invalid value ("+p+")"].join(" ")}};function a(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function u(c,o,p,x,A){p=p||"";var _,y;v(o)?(_=o[0],y=o[1]):(_=o,y=null);var E=T(p),M=i[c](o,E,x,A);return d.log(M),{code:c,container:_,trace:y,path:p,astr:E,msg:M}}function f(c,o){var p=h(o),x=p.keyMinusId,A=p.id;return x in c&&c[x]._isSubplotObj&&A?!0:o in c}function l(c,o){if(o in c)return c[o];var p=h(o);return c[p.keyMinusId]}var m=d.counterRegex("([a-z]+)");function h(c){var o=c.match(m);return{keyMinusId:o&&o[1],id:o&&o[2]}}function T(c){if(!v(c))return String(c);for(var o="",p=0;p<c.length;p++){var x=c[p];typeof x=="number"?o=o.substr(0,o.length-1)+"["+x+"]":o+=x,p<c.length-1&&(o+=".")}return o}},85656:function(H){H.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(H,U,e){var d=e(3400),C=e(31780);H.exports=function(L,w,v){var g=v.name,r=v.inclusionAttr||"visible",t=w[g],i=d.isArrayOrTypedArray(L[g])?L[g]:[],a=w[g]=[],u=C.arrayTemplater(w,g,r),f,l;for(f=0;f<i.length;f++){var m=i[f];d.isPlainObject(m)?l=u.newItem(m):(l=u.newItem({}),l[r]=!1),l._index=f,l[r]!==!1&&v.handleItemDefaults(m,l,w,v),a.push(l)}var h=u.defaultItems();for(f=0;f<h.length;f++)l=h[f],l._index=a.length,v.handleItemDefaults({},l,w,v,{}),a.push(l);if(d.isArrayOrTypedArray(t)){var T=Math.min(t.length,a.length);for(f=0;f<T;f++)d.relinkPrivateKeys(a[f],t[f])}return a}},45464:function(H,U,e){var d=e(25376),C=e(55756);H.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:d({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:C.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(H,U,e){var d=e(38248),C=e(3400),n=C.dateTime2ms,L=C.incrementMonth,w=e(39032),v=w.ONEAVGMONTH;H.exports=function(r,t,i,a){if(t.type!=="date")return{vals:a};var u=r[i+"periodalignment"];if(!u)return{vals:a};var f=r[i+"period"],l;if(d(f)){if(f=+f,f<=0)return{vals:a}}else if(typeof f=="string"&&f.charAt(0)==="M"){var m=+f.substring(1);if(m>0&&Math.round(m)===m)l=m;else return{vals:a}}for(var h=t.calendar,T=u==="start",c=u==="end",o=r[i+"period0"],p=n(o,h)||0,x=[],A=[],_=[],y=a.length,E=0;E<y;E++){var M=a[E],s,S,b;if(l){for(s=Math.round((M-p)/(l*v)),b=L(p,l*s,h);b>M;)b=L(b,-l,h);for(;b<=M;)b=L(b,l,h);S=L(b,-l,h)}else{for(s=Math.round((M-p)/f),b=p+s*f;b>M;)b-=f;for(;b<=M;)b+=f;S=b-f}x[E]=T?S:c?b:(S+b)/2,A[E]=S,_[E]=b}return{vals:x,starts:A,ends:_}}},26720:function(H){H.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(H,U,e){var d=e(33428),C=e(38248),n=e(3400),L=e(39032).FP_SAFE,w=e(24040),v=e(43616),g=e(79811),r=g.getFromId,t=g.isLinked;H.exports={applyAutorangeOptions:s,getAutoRange:i,makePadFn:u,doAutoRange:h,findExtremes:T,concatExtremes:m};function i(S,b){var I,D,B=[],k=S._fullLayout,F=u(k,b,0),N=u(k,b,1),O=m(S,b),V=O.min,X=O.max;if(V.length===0||X.length===0)return n.simpleMap(b.range,b.r2l);var ee=V[0].val,ne=X[0].val;for(I=1;I<V.length&&ee===ne;I++)ee=Math.min(ee,V[I].val);for(I=1;I<X.length&&ee===ne;I++)ne=Math.max(ne,X[I].val);var q=b.autorange,se=q==="reversed"||q==="min reversed"||q==="max reversed";if(!se&&b.range){var J=n.simpleMap(b.range,b.r2l);se=J[1]<J[0]}b.autorange==="reversed"&&(b.autorange=!0);var Z=b.rangemode,te=Z==="tozero",Y=Z==="nonnegative",ie=b._length,le=ie/10,j=0,K,ue,ae,he,xe,Se;for(I=0;I<V.length;I++)for(K=V[I],D=0;D<X.length;D++)ue=X[D],Se=ue.val-K.val-a(b,K.val,ue.val),Se>0&&(xe=ie-F(K)-N(ue),xe>le?Se/xe>j&&(ae=K,he=ue,j=Se/xe):Se/ie>j&&(ae={val:K.val,nopad:1},he={val:ue.val,nopad:1},j=Se/ie));function Ae(Pe,Ve){return Math.max(Pe,N(Ve))}if(ee===ne){var De=ee-1,we=ee+1;if(te)if(ee===0)B=[0,1];else{var Ce=(ee>0?X:V).reduce(Ae,0),be=ee/(1-Math.min(.5,Ce/ie));B=ee>0?[0,be]:[be,0]}else Y?B=[Math.max(0,De),Math.max(1,we)]:B=[De,we]}else te?(ae.val>=0&&(ae={val:0,nopad:1}),he.val<=0&&(he={val:0,nopad:1})):Y&&(ae.val-j*F(ae)<0&&(ae={val:0,nopad:1}),he.val<=0&&(he={val:1,nopad:1})),j=(he.val-ae.val-a(b,K.val,ue.val))/(ie-F(ae)-N(he)),B=[ae.val-j*F(ae),he.val+j*N(he)];return B=s(B,b),b.limitRange&&b.limitRange(),se&&B.reverse(),n.simpleMap(B,b.l2r||Number)}function a(S,b,I){var D=0;if(S.rangebreaks)for(var B=S.locateBreaks(b,I),k=0;k<B.length;k++){var F=B[k];D+=F.max-F.min}return D}function u(S,b,I){var D=.05*b._length,B=b._anchorAxis||{};if((b.ticklabelposition||"").indexOf("inside")!==-1||(B.ticklabelposition||"").indexOf("inside")!==-1){var k=b.isReversed();if(!k){var F=n.simpleMap(b.range,b.r2l);k=F[1]<F[0]}k&&(I=!I)}var N=0;return t(S,b._id)||(N=l(S,b,I)),D=Math.max(N,D),b.constrain==="domain"&&b._inputDomain&&(D*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(V){return V.nopad?0:V.pad+(V.extrapad?D:N)}}var f=3;function l(S,b,I){var D=0,B=b._id.charAt(0)==="x";for(var k in S._plots){var F=S._plots[k];if(!(b._id!==F.xaxis._id&&b._id!==F.yaxis._id)){var N=(B?F.yaxis:F.xaxis)||{};if((N.ticklabelposition||"").indexOf("inside")!==-1&&(!I&&(N.side==="left"||N.side==="bottom")||I&&(N.side==="top"||N.side==="right"))){if(N._vals){var O=n.deg2rad(N._tickAngles[N._id+"tick"]||0),V=Math.abs(Math.cos(O)),X=Math.abs(Math.sin(O));if(!N._vals[0].bb){var ee=N._id+"tick",ne=N._selections[ee];ne.each(function(Y){var ie=d.select(this),le=ie.select(".text-math-group");le.empty()&&(Y.bb=v.bBox(ie.node()))})}for(var q=0;q<N._vals.length;q++){var se=N._vals[q],J=se.bb;if(J){var Z=2*f+J.width,te=2*f+J.height;D=Math.max(D,B?Math.max(Z*V,te*X):Math.max(te*V,Z*X))}}}N.ticks==="inside"&&N.ticklabelposition==="inside"&&(D+=N.ticklen||0)}}}return D}function m(S,b,I){var D=b._id,B=S._fullData,k=S._fullLayout,F=[],N=[],O,V,X;function ee(Z,te){for(O=0;O<te.length;O++){var Y=Z[te[O]],ie=(Y._extremes||{})[D];if(Y.visible===!0&&ie){for(V=0;V<ie.min.length;V++)X=ie.min[V],c(F,X.val,X.pad,{extrapad:X.extrapad});for(V=0;V<ie.max.length;V++)X=ie.max[V],o(N,X.val,X.pad,{extrapad:X.extrapad})}}}if(ee(B,b._traceIndices),ee(k.annotations||[],b._annIndices||[]),ee(k.shapes||[],b._shapeIndices||[]),b._matchGroup&&!I){for(var ne in b._matchGroup)if(ne!==b._id){var q=r(S,ne),se=m(S,q,!0),J=b._length/q._length;for(V=0;V<se.min.length;V++)X=se.min[V],c(F,X.val,X.pad*J,{extrapad:X.extrapad});for(V=0;V<se.max.length;V++)X=se.max[V],o(N,X.val,X.pad*J,{extrapad:X.extrapad})}}return{min:F,max:N}}function h(S,b,I){if(b.setScale(),b.autorange){b.range=I?I.slice():i(S,b),b._r=b.range.slice(),b._rl=n.simpleMap(b._r,b.r2l);var D=b._input,B={};B[b._attr+".range"]=b.range,B[b._attr+".autorange"]=b.autorange,w.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,B),D.range=b.range.slice(),D.autorange=b.autorange}var k=b._anchorAxis;if(k&&k.rangeslider){var F=k.rangeslider[b._name];F&&F.rangemode==="auto"&&(F.range=i(S,b)),k._input.rangeslider[b._name]=n.extendFlat({},F)}}function T(S,b,I){I||(I={}),S._m||S.setScale();var D=[],B=[],k=b.length,F=I.padded||!1,N=I.tozero&&(S.type==="linear"||S.type==="-"),O=S.type==="log",V=!1,X=I.vpadLinearized||!1,ee,ne,q,se,J,Z,te,Y,ie;function le(Ae){if(Array.isArray(Ae))return V=!0,function(we){return Math.max(Number(Ae[we]||0),0)};var De=Math.max(Number(Ae||0),0);return function(){return De}}var j=le((S._m>0?I.ppadplus:I.ppadminus)||I.ppad||0),K=le((S._m>0?I.ppadminus:I.ppadplus)||I.ppad||0),ue=le(I.vpadplus||I.vpad),ae=le(I.vpadminus||I.vpad);if(!V){if(Y=1/0,ie=-1/0,O)for(ee=0;ee<k;ee++)ne=b[ee],ne<Y&&ne>0&&(Y=ne),ne>ie&&ne<L&&(ie=ne);else for(ee=0;ee<k;ee++)ne=b[ee],ne<Y&&ne>-L&&(Y=ne),ne>ie&&ne<L&&(ie=ne);b=[Y,ie],k=2}var he={tozero:N,extrapad:F};function xe(Ae){q=b[Ae],C(q)&&(Z=j(Ae),te=K(Ae),X?(se=S.c2l(q)-ae(Ae),J=S.c2l(q)+ue(Ae)):(Y=q-ae(Ae),ie=q+ue(Ae),O&&Y<ie/10&&(Y=ie/10),se=S.c2l(Y),J=S.c2l(ie)),N&&(se=Math.min(0,se),J=Math.max(0,J)),x(se)&&c(D,se,te,he),x(J)&&o(B,J,Z,he))}var Se=Math.min(6,k);for(ee=0;ee<Se;ee++)xe(ee);for(ee=k-1;ee>=Se;ee--)xe(ee);return{min:D,max:B,opts:I}}function c(S,b,I,D){p(S,b,I,D,A)}function o(S,b,I,D){p(S,b,I,D,_)}function p(S,b,I,D,B){for(var k=D.tozero,F=D.extrapad,N=!0,O=0;O<S.length&&N;O++){var V=S[O];if(B(V.val,b)&&V.pad>=I&&(V.extrapad||!F)){N=!1;break}else B(b,V.val)&&V.pad<=I&&(F||!V.extrapad)&&(S.splice(O,1),O--)}if(N){var X=k&&b===0;S.push({val:b,pad:X?0:I,extrapad:X?!1:F})}}function x(S){return C(S)&&Math.abs(S)<L}function A(S,b){return S<=b}function _(S,b){return S>=b}function y(S,b){var I=b.autorangeoptions;return I&&I.minallowed!==void 0&&M(b,I.minallowed,I.maxallowed)?I.minallowed:I&&I.clipmin!==void 0&&M(b,I.clipmin,I.clipmax)?Math.max(S,b.d2l(I.clipmin)):S}function E(S,b){var I=b.autorangeoptions;return I&&I.maxallowed!==void 0&&M(b,I.minallowed,I.maxallowed)?I.maxallowed:I&&I.clipmax!==void 0&&M(b,I.clipmin,I.clipmax)?Math.min(S,b.d2l(I.clipmax)):S}function M(S,b,I){return b!==void 0&&I!==void 0?(b=S.d2l(b),I=S.d2l(I),b<I):!0}function s(S,b){if(!b||!b.autorangeoptions)return S;var I=S[0],D=S[1],B=b.autorangeoptions.include;if(B!==void 0){var k=b.d2l(I),F=b.d2l(D);n.isArrayOrTypedArray(B)||(B=[B]);for(var N=0;N<B.length;N++){var O=b.d2l(B[N]);k>=O&&(k=O,I=O),F<=O&&(F=O,D=O)}}return I=y(I,b),D=E(D,b),[I,D]}},76808:function(H){H.exports=function(e,d,C){var n,L;if(C){var w=d==="reversed"||d==="min reversed"||d==="max reversed";n=C[w?1:0],L=C[w?0:1]}var v=e("autorangeoptions.minallowed",L===null?n:void 0),g=e("autorangeoptions.maxallowed",n===null?L:void 0);v===void 0&&e("autorangeoptions.clipmin"),g===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(H,U,e){var d=e(33428),C=e(38248),n=e(7316),L=e(24040),w=e(3400),v=w.strTranslate,g=e(72736),r=e(81668),t=e(76308),i=e(43616),a=e(94724),u=e(98728),f=e(39032),l=f.ONEMAXYEAR,m=f.ONEAVGYEAR,h=f.ONEMINYEAR,T=f.ONEMAXQUARTER,c=f.ONEAVGQUARTER,o=f.ONEMINQUARTER,p=f.ONEMAXMONTH,x=f.ONEAVGMONTH,A=f.ONEMINMONTH,_=f.ONEWEEK,y=f.ONEDAY,E=y/2,M=f.ONEHOUR,s=f.ONEMIN,S=f.ONESEC,b=f.MINUS_SIGN,I=f.BADNUM,D={K:"zeroline"},B={K:"gridline",L:"path"},k={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},N={K:"tick",L:"text"},O={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=e(84284),X=V.MID_SHIFT,ee=V.CAP_SHIFT,ne=V.LINE_SPACING,q=V.OPPOSITE_SIDE,se=3,J=H.exports={};J.setConvert=e(78344);var Z=e(52976),te=e(79811),Y=te.idSort,ie=te.isLinked;J.id2name=te.id2name,J.name2id=te.name2id,J.cleanId=te.cleanId,J.list=te.list,J.listIds=te.listIds,J.getFromId=te.getFromId,J.getFromTrace=te.getFromTrace;var le=e(19280);J.getAutoRange=le.getAutoRange,J.findExtremes=le.findExtremes;var j=1e-4;function K(Ze){var Ye=(Ze[1]-Ze[0])*j;return[Ze[0]-Ye,Ze[1]+Ye]}J.coerceRef=function(Ze,Ye,Bt,Ft,rr,sr){var fr=Ft.charAt(Ft.length-1),ir=Bt._fullLayout._subplots[fr+"axis"],Vt=Ft+"ref",yr={};return rr||(rr=ir[0]||(typeof sr=="string"?sr:sr[0])),sr||(sr=rr),ir=ir.concat(ir.map(function(br){return br+" domain"})),yr[Vt]={valType:"enumerated",values:ir.concat(sr?typeof sr=="string"?[sr]:sr:[]),dflt:rr},w.coerce(Ze,Ye,yr,Vt)},J.getRefType=function(Ze){return Ze===void 0?Ze:Ze==="paper"?"paper":Ze==="pixel"?"pixel":/( domain)$/.test(Ze)?"domain":"range"},J.coercePosition=function(Ze,Ye,Bt,Ft,rr,sr){var fr,ir,Vt=J.getRefType(Ft);if(Vt!=="range")fr=w.ensureNumber,ir=Bt(rr,sr);else{var yr=J.getFromId(Ye,Ft);sr=yr.fraction2r(sr),ir=Bt(rr,sr),fr=yr.cleanPos}Ze[rr]=fr(ir)},J.cleanPosition=function(Ze,Ye,Bt){var Ft=Bt==="paper"||Bt==="pixel"?w.ensureNumber:J.getFromId(Ye,Bt).cleanPos;return Ft(Ze)},J.redrawComponents=function(Ze,Ye){Ye=Ye||J.listIds(Ze);var Bt=Ze._fullLayout;function Ft(rr,sr,fr,ir){for(var Vt=L.getComponentMethod(rr,sr),yr={},br=0;br<Ye.length;br++)for(var _r=Bt[J.id2name(Ye[br])],pr=_r[fr],Yr=0;Yr<pr.length;Yr++){var zr=pr[Yr];if(!yr[zr]&&(Vt(Ze,zr),yr[zr]=1,ir))return}}Ft("annotations","drawOne","_annIndices"),Ft("shapes","drawOne","_shapeIndices"),Ft("images","draw","_imgIndices",!0),Ft("selections","drawOne","_selectionIndices")};var ue=J.getDataConversions=function(Ze,Ye,Bt,Ft){var rr,sr=Bt==="x"||Bt==="y"||Bt==="z"?Bt:Ft;if(w.isArrayOrTypedArray(sr)){if(rr={type:Z(Ft,void 0,{autotypenumbers:Ze._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(rr),rr.type==="category")for(var fr=0;fr<Ft.length;fr++)rr.d2c(Ft[fr])}else rr=J.getFromTrace(Ze,Ye,sr);return rr?{d2c:rr.d2c,c2d:rr.c2d}:sr==="ids"?{d2c:he,c2d:he}:{d2c:ae,c2d:ae}};function ae(Ze){return+Ze}function he(Ze){return String(Ze)}J.getDataToCoordFunc=function(Ze,Ye,Bt,Ft){return ue(Ze,Ye,Bt,Ft).d2c},J.counterLetter=function(Ze){var Ye=Ze.charAt(0);if(Ye==="x")return"y";if(Ye==="y")return"x"},J.minDtick=function(Ze,Ye,Bt,Ft){["log","category","multicategory"].indexOf(Ze.type)!==-1||!Ft?Ze._minDtick=0:Ze._minDtick===void 0?(Ze._minDtick=Ye,Ze._forceTick0=Bt):Ze._minDtick&&((Ze._minDtick/Ye+1e-6)%1<2e-6&&((Bt-Ze._forceTick0)/Ye%1+1.000001)%1<2e-6?(Ze._minDtick=Ye,Ze._forceTick0=Bt):((Ye/Ze._minDtick+1e-6)%1>2e-6||((Bt-Ze._forceTick0)/Ze._minDtick%1+1.000001)%1>2e-6)&&(Ze._minDtick=0))},J.saveRangeInitial=function(Ze,Ye){for(var Bt=J.list(Ze,"",!0),Ft=!1,rr=0;rr<Bt.length;rr++){var sr=Bt[rr],fr=sr._rangeInitial0===void 0&&sr._rangeInitial1===void 0,ir=fr||sr.range[0]!==sr._rangeInitial0||sr.range[1]!==sr._rangeInitial1,Vt=sr.autorange;(fr&&Vt!==!0||Ye&&ir)&&(sr._rangeInitial0=Vt==="min"||Vt==="max reversed"?void 0:sr.range[0],sr._rangeInitial1=Vt==="max"||Vt==="min reversed"?void 0:sr.range[1],sr._autorangeInitial=Vt,Ft=!0)}return Ft},J.saveShowSpikeInitial=function(Ze,Ye){for(var Bt=J.list(Ze,"",!0),Ft=!1,rr="on",sr=0;sr<Bt.length;sr++){var fr=Bt[sr],ir=fr._showSpikeInitial===void 0,Vt=ir||fr.showspikes!==fr._showspikes;(ir||Ye&&Vt)&&(fr._showSpikeInitial=fr.showspikes,Ft=!0),rr==="on"&&!fr.showspikes&&(rr="off")}return Ze._fullLayout._cartesianSpikesEnabled=rr,Ft},J.autoBin=function(Ze,Ye,Bt,Ft,rr,sr){var fr=w.aggNums(Math.min,null,Ze),ir=w.aggNums(Math.max,null,Ze);if(Ye.type==="category"||Ye.type==="multicategory")return{start:fr-.5,end:ir+.5,size:Math.max(1,Math.round(sr)||1),_dataSpan:ir-fr};rr||(rr=Ye.calendar);var Vt;if(Ye.type==="log"?Vt={type:"linear",range:[fr,ir]}:Vt={type:Ye.type,range:w.simpleMap([fr,ir],Ye.c2r,0,rr),calendar:rr},J.setConvert(Vt),sr=sr&&u.dtick(sr,Vt.type),sr)Vt.dtick=sr,Vt.tick0=u.tick0(void 0,Vt.type,rr);else{var yr;if(Bt)yr=(ir-fr)/Bt;else{var br=w.distinctVals(Ze),_r=Math.pow(10,Math.floor(Math.log(br.minDiff)/Math.LN10)),pr=_r*w.roundUp(br.minDiff/_r,[.9,1.9,4.9,9.9],!0);yr=Math.max(pr,2*w.stdev(Ze)/Math.pow(Ze.length,Ft?.25:.4)),C(yr)||(yr=1)}J.autoTicks(Vt,yr)}var Yr=Vt.dtick,zr=J.tickIncrement(J.tickFirst(Vt),Yr,"reverse",rr),Nr,xn;if(typeof Yr=="number")zr=xe(zr,Ze,Vt,fr,ir),xn=1+Math.floor((ir-zr)/Yr),Nr=zr+xn*Yr;else for(Vt.dtick.charAt(0)==="M"&&(zr=Se(zr,Ze,Yr,fr,rr)),Nr=zr,xn=0;Nr<=ir;)Nr=J.tickIncrement(Nr,Yr,!1,rr),xn++;return{start:Ye.c2r(zr,0,rr),end:Ye.c2r(Nr,0,rr),size:Yr,_dataSpan:ir-fr}};function xe(Ze,Ye,Bt,Ft,rr){var sr=0,fr=0,ir=0,Vt=0;function yr(Yr){return(1+(Yr-Ze)*100/Bt.dtick)%100<2}for(var br=0;br<Ye.length;br++)Ye[br]%1===0?ir++:C(Ye[br])||Vt++,yr(Ye[br])&&sr++,yr(Ye[br]+Bt.dtick/2)&&fr++;var _r=Ye.length-Vt;if(ir===_r&&Bt.type!=="date")Bt.dtick<1?Ze=Ft-.5*Bt.dtick:(Ze-=.5,Ze+Bt.dtick<Ft&&(Ze+=Bt.dtick));else if(fr<_r*.1&&(sr>_r*.3||yr(Ft)||yr(rr))){var pr=Bt.dtick/2;Ze+=Ze+pr<Ft?pr:-pr}return Ze}function Se(Ze,Ye,Bt,Ft,rr){var sr=w.findExactDates(Ye,rr),fr=.8;if(sr.exactDays>fr){var ir=Number(Bt.substr(1));sr.exactYears>fr&&ir%12===0?Ze=J.tickIncrement(Ze,"M6","reverse")+y*1.5:sr.exactMonths>fr?Ze=J.tickIncrement(Ze,"M1","reverse")+y*15.5:Ze-=E;var Vt=J.tickIncrement(Ze,Bt);if(Vt<=Ft)return Vt}return Ze}J.prepMinorTicks=function(Ze,Ye,Bt){if(!Ye.minor.dtick){delete Ze.dtick;var Ft=Ye.dtick&&C(Ye._tmin),rr;if(Ft){var sr=J.tickIncrement(Ye._tmin,Ye.dtick,!0);rr=[Ye._tmin,sr*.99+Ye._tmin*.01]}else{var fr=w.simpleMap(Ye.range,Ye.r2l);rr=[fr[0],.8*fr[0]+.2*fr[1]]}if(Ze.range=w.simpleMap(rr,Ye.l2r),Ze._isMinor=!0,J.prepTicks(Ze,Bt),Ft){var ir=C(Ye.dtick),Vt=C(Ze.dtick),yr=ir?Ye.dtick:+Ye.dtick.substring(1),br=Vt?Ze.dtick:+Ze.dtick.substring(1);ir&&Vt?Ae(yr,br)?yr===2*_&&br===2*y&&(Ze.dtick=_):yr===2*_&&br===3*y?Ze.dtick=_:yr===_&&!(Ye._input.minor||{}).nticks?Ze.dtick=y:De(yr/br,2.5)?Ze.dtick=yr/2:Ze.dtick=yr:String(Ye.dtick).charAt(0)==="M"?Vt?Ze.dtick="M1":Ae(yr,br)?yr>=12&&br===2&&(Ze.dtick="M3"):Ze.dtick=Ye.dtick:String(Ze.dtick).charAt(0)==="L"?String(Ye.dtick).charAt(0)==="L"?Ae(yr,br)||(Ze.dtick=De(yr/br,2.5)?Ye.dtick/2:Ye.dtick):Ze.dtick="D1":Ze.dtick==="D2"&&+Ye.dtick>1&&(Ze.dtick=1)}Ze.range=Ye.range}Ye.minor._tick0Init===void 0&&(Ze.tick0=Ye.tick0)};function Ae(Ze,Ye){return Math.abs((Ze/Ye+.5)%1-.5)<.001}function De(Ze,Ye){return Math.abs(Ze/Ye-1)<.001}J.prepTicks=function(Ze,Ye){var Bt=w.simpleMap(Ze.range,Ze.r2l,void 0,void 0,Ye);if(Ze.tickmode==="auto"||!Ze.dtick){var Ft=Ze.nticks,rr;Ft||(Ze.type==="category"||Ze.type==="multicategory"?(rr=Ze.tickfont?w.bigFont(Ze.tickfont.size||12):15,Ft=Ze._length/rr):(rr=Ze._id.charAt(0)==="y"?40:80,Ft=w.constrain(Ze._length/rr,4,9)+1),Ze._name==="radialaxis"&&(Ft*=2)),Ze.minor&&Ze.minor.tickmode!=="array"||Ze.tickmode==="array"&&(Ft*=100),Ze._roughDTick=Math.abs(Bt[1]-Bt[0])/Ft,J.autoTicks(Ze,Ze._roughDTick),Ze._minDtick>0&&Ze.dtick<Ze._minDtick*2&&(Ze.dtick=Ze._minDtick,Ze.tick0=Ze.l2r(Ze._forceTick0))}Ze.ticklabelmode==="period"&&Ce(Ze),Ze.tick0||(Ze.tick0=Ze.type==="date"?"2000-01-01":0),Ze.type==="date"&&Ze.dtick<.1&&(Ze.dtick=.1),wt(Ze)};function we(Ze){return+Ze.substring(1)}function Ce(Ze){var Ye;function Bt(){return!(C(Ze.dtick)||Ze.dtick.charAt(0)!=="M")}var Ft=Bt(),rr=J.getTickFormat(Ze);if(rr){var sr=Ze._dtickInit!==Ze.dtick;/%[fLQsSMX]/.test(rr)||(/%[HI]/.test(rr)?(Ye=M,sr&&!Ft&&Ze.dtick<M&&(Ze.dtick=M)):/%p/.test(rr)?(Ye=E,sr&&!Ft&&Ze.dtick<E&&(Ze.dtick=E)):/%[Aadejuwx]/.test(rr)?(Ye=y,sr&&!Ft&&Ze.dtick<y&&(Ze.dtick=y)):/%[UVW]/.test(rr)?(Ye=_,sr&&!Ft&&Ze.dtick<_&&(Ze.dtick=_)):/%[Bbm]/.test(rr)?(Ye=x,sr&&(Ft?we(Ze.dtick)<1:Ze.dtick<A)&&(Ze.dtick="M1")):/%[q]/.test(rr)?(Ye=c,sr&&(Ft?we(Ze.dtick)<3:Ze.dtick<o)&&(Ze.dtick="M3")):/%[Yy]/.test(rr)&&(Ye=m,sr&&(Ft?we(Ze.dtick)<12:Ze.dtick<h)&&(Ze.dtick="M12")))}Ft=Bt(),Ft&&Ze.tick0===Ze._dowTick0&&(Ze.tick0=Ze._rawTick0),Ze._definedDelta=Ye}function be(Ze,Ye,Bt){for(var Ft=0;Ft<Ze.length;Ft++){var rr=Ze[Ft].value,sr=Ft,fr=Ft+1;Ft<Ze.length-1?(sr=Ft,fr=Ft+1):Ft>0?(sr=Ft-1,fr=Ft):(sr=Ft,fr=Ft);var ir=Ze[sr].value,Vt=Ze[fr].value,yr=Math.abs(Vt-ir),br=Bt||yr,_r=0;br>=h?yr>=h&&yr<=l?_r=yr:_r=m:Bt===c&&br>=o?yr>=o&&yr<=T?_r=yr:_r=c:br>=A?yr>=A&&yr<=p?_r=yr:_r=x:Bt===_&&br>=_?_r=_:br>=y?_r=y:Bt===E&&br>=E?_r=E:Bt===M&&br>=M&&(_r=M);var pr;_r>=yr&&(_r=yr,pr=!0);var Yr=rr+_r;if(Ye.rangebreaks&&_r>0){for(var zr=84,Nr=0,xn=0;xn<zr;xn++){var tn=(xn+.5)/zr;Ye.maskBreaks(rr*(1-tn)+tn*Yr)!==I&&Nr++}_r*=Nr/zr,_r||(Ze[Ft].drop=!0),pr&&yr>_&&(_r=yr)}(_r>0||Ft===0)&&(Ze[Ft].periodX=rr+_r/2)}}J.calcTicks=function(Ye,Bt){for(var Ft=Ye.type,rr=Ye.calendar,sr=Ye.ticklabelstep,fr=Ye.ticklabelmode==="period",ir=w.simpleMap(Ye.range,Ye.r2l,void 0,void 0,Bt),Vt=ir[1]<ir[0],yr=Math.min(ir[0],ir[1]),br=Math.max(ir[0],ir[1]),_r=Math.max(1e3,Ye._length||0),pr=[],Yr=[],zr=[],Nr=[],xn=Ye.minor&&(Ye.minor.ticks||Ye.minor.showgrid),tn=1;tn>=(xn?0:1);tn--){var On=!tn;tn?(Ye._dtickInit=Ye.dtick,Ye._tick0Init=Ye.tick0):(Ye.minor._dtickInit=Ye.minor.dtick,Ye.minor._tick0Init=Ye.minor.tick0);var zn=tn?Ye:w.extendFlat({},Ye,Ye.minor);if(On?J.prepMinorTicks(zn,Ye,Bt):J.prepTicks(zn,Bt),zn.tickmode==="array"){tn?(zr=[],pr=Ge(Ye,!On)):(Nr=[],Yr=Ge(Ye,!On));continue}if(zn.tickmode==="sync"){zr=[],pr=Ve(Ye);continue}var Sr=K(ir),Vr=Sr[0],qr=Sr[1],Hr=C(zn.dtick),Tn=Ft==="log"&&!(Hr||zn.dtick.charAt(0)==="L"),bn=J.tickFirst(zn,Bt);if(tn){if(Ye._tmin=bn,bn<Vr!==Vt)break;(Ft==="category"||Ft==="multicategory")&&(qr=Vt?Math.max(-.5,qr):Math.min(Ye._categories.length-.5,qr))}var Hn=null,Gn=bn,ea;if(tn){var ma;Hr?ma=Ye.dtick:Ft==="date"?typeof Ye.dtick=="string"&&Ye.dtick.charAt(0)==="M"&&(ma=x*Ye.dtick.substring(1)):ma=Ye._roughDTick,ea=Math.round((Ye.r2l(Gn)-Ye.r2l(Ye.tick0))/ma)-1}var Da=zn.dtick;for(zn.rangebreaks&&zn._tick0Init!==zn.tick0&&(Gn=Ht(Gn,Ye),Vt||(Gn=J.tickIncrement(Gn,Da,!Vt,rr))),tn&&fr&&(Gn=J.tickIncrement(Gn,Da,!Vt,rr),ea--);Vt?Gn>=qr:Gn<=qr;Gn=J.tickIncrement(Gn,Da,Vt,rr)){if(tn&&ea++,zn.rangebreaks&&!Vt){if(Gn<Vr)continue;if(zn.maskBreaks(Gn)===I&&Ht(Gn,zn)>=br)break}if(zr.length>_r||Gn===Hn)break;Hn=Gn;var Fa={value:Gn};tn?(Tn&&Gn!==(Gn|0)&&(Fa.simpleLabel=!0),sr>1&&ea%sr&&(Fa.skipLabel=!0),zr.push(Fa)):(Fa.minor=!0,Nr.push(Fa))}}if(xn){var La=Ye.minor.ticks==="inside"&&Ye.ticks==="outside"||Ye.minor.ticks==="outside"&&Ye.ticks==="inside";if(!La){for(var Qn=zr.map(function(An){return An.value}),Mr=[],Jr=0;Jr<Nr.length;Jr++){var Kr=Nr[Jr],wn=Kr.value;if(Qn.indexOf(wn)===-1){for(var jn=!1,Pn=0;!jn&&Pn<zr.length;Pn++)1e7+zr[Pn].value===1e7+wn&&(jn=!0);jn||Mr.push(Kr)}}Nr=Mr}}fr&&be(zr,Ye,Ye._definedDelta);var kn;if(Ye.rangebreaks){var Jn=Ye._id.charAt(0)==="y",ua=1;Ye.tickmode==="auto"&&(ua=Ye.tickfont?Ye.tickfont.size:12);var Ca=NaN;for(kn=zr.length-1;kn>-1;kn--){if(zr[kn].drop){zr.splice(kn,1);continue}zr[kn].value=Ht(zr[kn].value,Ye);var ei=Ye.c2p(zr[kn].value);(Jn?Ca>ei-ua:Ca<ei+ua)?zr.splice(Vt?kn+1:kn,1):Ca=ei}}Wt(Ye)&&Math.abs(ir[1]-ir[0])===360&&zr.pop(),Ye._tmax=(zr[zr.length-1]||{}).value,Ye._prevDateHead="",Ye._inCalcTicks=!0;var Ar,Gr=function(An){An.text="",Ye._prevDateHead=Ar};zr=zr.concat(Nr);var Cr,Wr;for(kn=0;kn<zr.length;kn++){var Sn=zr[kn].minor,Fn=zr[kn].value;Sn?Yr.push({x:Fn,minor:!0}):(Ar=Ye._prevDateHead,Cr=J.tickText(Ye,Fn,!1,zr[kn].simpleLabel),Wr=zr[kn].periodX,Wr!==void 0&&(Cr.periodX=Wr,(Wr>br||Wr<yr)&&(Wr>br&&(Cr.periodX=br),Wr<yr&&(Cr.periodX=yr),Gr(Cr))),zr[kn].skipLabel&&Gr(Cr),pr.push(Cr))}return pr=pr.concat(Yr),Ye._inCalcTicks=!1,fr&&pr.length&&(pr[0].noTick=!0),pr};function Pe(Ze,Ye){return Ze.rangebreaks&&(Ye=Ye.filter(function(Bt){return Ze.maskBreaks(Bt.x)!==I})),Ye}function Ve(Ze){var Ye=Ze._mainAxis,Bt=[];if(Ye._vals){for(var Ft=0;Ft<Ye._vals.length;Ft++)if(!Ye._vals[Ft].noTick){var rr=Ye.l2p(Ye._vals[Ft].x),sr=Ze.p2l(rr),fr=J.tickText(Ze,sr);Ye._vals[Ft].minor&&(fr.minor=!0,fr.text=""),Bt.push(fr)}}return Bt=Pe(Ze,Bt),Bt}function Ge(Ze,Ye){var Bt=w.simpleMap(Ze.range,Ze.r2l),Ft=K(Bt),rr=Math.min(Ft[0],Ft[1]),sr=Math.max(Ft[0],Ft[1]),fr=Ze.type==="category"?Ze.d2l_noadd:Ze.d2l;Ze.type==="log"&&String(Ze.dtick).charAt(0)!=="L"&&(Ze.dtick="L"+Math.pow(10,Math.floor(Math.min(Ze.range[0],Ze.range[1]))-1));for(var ir=[],Vt=0;Vt<=1;Vt++)if(!(Ye!==void 0&&(Ye&&Vt||Ye===!1&&!Vt))&&!(Vt&&!Ze.minor)){var yr=Vt?Ze.minor.tickvals:Ze.tickvals,br=Vt?[]:Ze.ticktext;if(yr){w.isArrayOrTypedArray(br)||(br=[]);for(var _r=0;_r<yr.length;_r++){var pr=fr(yr[_r]);if(pr>rr&&pr<sr){var Yr=J.tickText(Ze,pr,!1,String(br[_r]));Vt&&(Yr.minor=!0,Yr.text=""),ir.push(Yr)}}}}return ir=Pe(Ze,ir),ir}var Fe=[2,5,10],He=[1,2,3,6,12],ft=[1,2,5,10,15,30],gt=[1,2,3,7,14],ct=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],nt=[-.301,0,.301,.699,1],dt=[15,30,45,90,180];function pt(Ze,Ye,Bt){return Ye*w.roundUp(Ze/Ye,Bt)}J.autoTicks=function(Ze,Ye,Bt){var Ft;function rr(_r){return Math.pow(_r,Math.floor(Math.log(Ye)/Math.LN10))}if(Ze.type==="date"){Ze.tick0=w.dateTick0(Ze.calendar,0);var sr=2*Ye;if(sr>m)Ye/=m,Ft=rr(10),Ze.dtick="M"+12*pt(Ye,Ft,Fe);else if(sr>x)Ye/=x,Ze.dtick="M"+pt(Ye,1,He);else if(sr>y){if(Ze.dtick=pt(Ye,y,Ze._hasDayOfWeekBreaks?[1,2,7,14]:gt),!Bt){var fr=J.getTickFormat(Ze),ir=Ze.ticklabelmode==="period";ir&&(Ze._rawTick0=Ze.tick0),/%[uVW]/.test(fr)?Ze.tick0=w.dateTick0(Ze.calendar,2):Ze.tick0=w.dateTick0(Ze.calendar,1),ir&&(Ze._dowTick0=Ze.tick0)}}else sr>M?Ze.dtick=pt(Ye,M,He):sr>s?Ze.dtick=pt(Ye,s,ft):sr>S?Ze.dtick=pt(Ye,S,ft):(Ft=rr(10),Ze.dtick=pt(Ye,Ft,Fe))}else if(Ze.type==="log"){Ze.tick0=0;var Vt=w.simpleMap(Ze.range,Ze.r2l);if(Ze._isMinor&&(Ye*=1.5),Ye>.7)Ze.dtick=Math.ceil(Ye);else if(Math.abs(Vt[1]-Vt[0])<1){var yr=1.5*Math.abs((Vt[1]-Vt[0])/Ye);Ye=Math.abs(Math.pow(10,Vt[1])-Math.pow(10,Vt[0]))/yr,Ft=rr(10),Ze.dtick="L"+pt(Ye,Ft,Fe)}else Ze.dtick=Ye>.3?"D2":"D1"}else Ze.type==="category"||Ze.type==="multicategory"?(Ze.tick0=0,Ze.dtick=Math.ceil(Math.max(Ye,1))):Wt(Ze)?(Ze.tick0=0,Ft=1,Ze.dtick=pt(Ye,Ft,dt)):(Ze.tick0=0,Ft=rr(10),Ze.dtick=pt(Ye,Ft,Fe));if(Ze.dtick===0&&(Ze.dtick=1),!C(Ze.dtick)&&typeof Ze.dtick!="string"){var br=Ze.dtick;throw Ze.dtick=1,"ax.dtick error: "+String(br)}};function wt(Ze){var Ye=Ze.dtick;if(Ze._tickexponent=0,!C(Ye)&&typeof Ye!="string"&&(Ye=1),(Ze.type==="category"||Ze.type==="multicategory")&&(Ze._tickround=null),Ze.type==="date"){var Bt=Ze.r2l(Ze.tick0),Ft=Ze.l2r(Bt).replace(/(^-|i)/g,""),rr=Ft.length;if(String(Ye).charAt(0)==="M")rr>10||Ft.substr(5)!=="01-01"?Ze._tickround="d":Ze._tickround=+Ye.substr(1)%12===0?"y":"m";else if(Ye>=y&&rr<=10||Ye>=y*15)Ze._tickround="d";else if(Ye>=s&&rr<=16||Ye>=M)Ze._tickround="M";else if(Ye>=S&&rr<=19||Ye>=s)Ze._tickround="S";else{var sr=Ze.l2r(Bt+Ye).replace(/^-/,"").length;Ze._tickround=Math.max(rr,sr)-20,Ze._tickround<0&&(Ze._tickround=4)}}else if(C(Ye)||Ye.charAt(0)==="L"){var fr=Ze.range.map(Ze.r2d||Number);C(Ye)||(Ye=Number(Ye.substr(1))),Ze._tickround=2-Math.floor(Math.log(Ye)/Math.LN10+.01);var ir=Math.max(Math.abs(fr[0]),Math.abs(fr[1])),Vt=Math.floor(Math.log(ir)/Math.LN10+.01),yr=Ze.minexponent===void 0?3:Ze.minexponent;Math.abs(Vt)>yr&&(Ke(Ze.exponentformat)&&!Ie(Vt)?Ze._tickexponent=3*Math.round((Vt-1)/3):Ze._tickexponent=Vt)}else Ze._tickround=null}J.tickIncrement=function(Ze,Ye,Bt,Ft){var rr=Bt?-1:1;if(C(Ye))return w.increment(Ze,rr*Ye);var sr=Ye.charAt(0),fr=rr*Number(Ye.substr(1));if(sr==="M")return w.incrementMonth(Ze,fr,Ft);if(sr==="L")return Math.log(Math.pow(10,Ze)+fr)/Math.LN10;if(sr==="D"){var ir=Ye==="D2"?nt:ct,Vt=Ze+rr*.01,yr=w.roundUp(w.mod(Vt,1),ir,Bt);return Math.floor(Vt)+Math.log(d.round(Math.pow(10,yr),1))/Math.LN10}throw"unrecognized dtick "+String(Ye)},J.tickFirst=function(Ze,Ye){var Bt=Ze.r2l||Number,Ft=w.simpleMap(Ze.range,Bt,void 0,void 0,Ye),rr=Ft[1]<Ft[0],sr=rr?Math.floor:Math.ceil,fr=K(Ft)[0],ir=Ze.dtick,Vt=Bt(Ze.tick0);if(C(ir)){var yr=sr((fr-Vt)/ir)*ir+Vt;return(Ze.type==="category"||Ze.type==="multicategory")&&(yr=w.constrain(yr,0,Ze._categories.length-1)),yr}var br=ir.charAt(0),_r=Number(ir.substr(1));if(br==="M"){for(var pr=0,Yr=Vt,zr,Nr,xn;pr<10;){if(zr=J.tickIncrement(Yr,ir,rr,Ze.calendar),(zr-fr)*(Yr-fr)<=0)return rr?Math.min(Yr,zr):Math.max(Yr,zr);Nr=(fr-(Yr+zr)/2)/(zr-Yr),xn=br+(Math.abs(Math.round(Nr))||1)*_r,Yr=J.tickIncrement(Yr,xn,Nr<0?!rr:rr,Ze.calendar),pr++}return w.error("tickFirst did not converge",Ze),Yr}else{if(br==="L")return Math.log(sr((Math.pow(10,fr)-Vt)/_r)*_r+Vt)/Math.LN10;if(br==="D"){var tn=ir==="D2"?nt:ct,On=w.roundUp(w.mod(fr,1),tn,rr);return Math.floor(fr)+Math.log(d.round(Math.pow(10,On),1))/Math.LN10}else throw"unrecognized dtick "+String(ir)}},J.tickText=function(Ze,Ye,Bt,Ft){var rr=Tt(Ze,Ye),sr=Ze.tickmode==="array",fr=Bt||sr,ir=Ze.type,Vt=ir==="category"?Ze.d2l_noadd:Ze.d2l,yr,br=function(xn){var tn=Ze.l2p(xn);return tn>=0&&tn<=Ze._length?xn:null};if(sr&&w.isArrayOrTypedArray(Ze.ticktext)){var _r=w.simpleMap(Ze.range,Ze.r2l),pr=(Math.abs(_r[1]-_r[0])-(Ze._lBreaks||0))/1e4;for(yr=0;yr<Ze.ticktext.length&&!(Math.abs(Ye-Vt(Ze.tickvals[yr]))<pr);yr++);if(yr<Ze.ticktext.length)return rr.text=String(Ze.ticktext[yr]),rr.xbnd=[br(rr.x-.5),br(rr.x+Ze.dtick-.5)],rr}function Yr(xn){if(xn===void 0)return!0;if(Bt)return xn==="none";var tn={first:Ze._tmin,last:Ze._tmax}[xn];return xn!=="all"&&Ye!==tn}var zr=Bt?"never":Ze.exponentformat!=="none"&&Yr(Ze.showexponent)?"hide":"";if(ir==="date"?Ct(Ze,rr,Bt,fr):ir==="log"?at(Ze,rr,Bt,fr,zr):ir==="category"?ze(Ze,rr):ir==="multicategory"?je(Ze,rr,Bt):Wt(Ze)?Xe(Ze,rr,Bt,fr,zr):Je(Ze,rr,Bt,fr,zr),Ft||(Ze.tickprefix&&!Yr(Ze.showtickprefix)&&(rr.text=Ze.tickprefix+rr.text),Ze.ticksuffix&&!Yr(Ze.showticksuffix)&&(rr.text+=Ze.ticksuffix)),Ze.labelalias&&Ze.labelalias.hasOwnProperty(rr.text)){var Nr=Ze.labelalias[rr.text];typeof Nr=="string"&&(rr.text=Nr)}return(Ze.tickson==="boundaries"||Ze.showdividers)&&(rr.xbnd=[br(rr.x-.5),br(rr.x+Ze.dtick-.5)]),rr},J.hoverLabelText=function(Ze,Ye,Bt){Bt&&(Ze=w.extendFlat({},Ze,{hoverformat:Bt}));var Ft=w.isArrayOrTypedArray(Ye)?Ye[0]:Ye,rr=w.isArrayOrTypedArray(Ye)?Ye[1]:void 0;if(rr!==void 0&&rr!==Ft)return J.hoverLabelText(Ze,Ft,Bt)+" - "+J.hoverLabelText(Ze,rr,Bt);var sr=Ze.type==="log"&&Ft<=0,fr=J.tickText(Ze,Ze.c2l(sr?-Ft:Ft),"hover").text;return sr?Ft===0?"0":b+fr:fr};function Tt(Ze,Ye,Bt){var Ft=Ze.tickfont||{};return{x:Ye,dx:0,dy:0,text:Bt||"",fontSize:Ft.size,font:Ft.family,fontWeight:Ft.weight,fontStyle:Ft.style,fontVariant:Ft.variant,fontColor:Ft.color}}function Ct(Ze,Ye,Bt,Ft){var rr=Ze._tickround,sr=Bt&&Ze.hoverformat||J.getTickFormat(Ze);Ft=!sr&&Ft,Ft&&(C(rr)?rr=4:rr={y:"m",m:"d",d:"M",M:"S",S:4}[rr]);var fr=w.formatDate(Ye.x,sr,rr,Ze._dateFormat,Ze.calendar,Ze._extraFormat),ir,Vt=fr.indexOf(`
`);if(Vt!==-1&&(ir=fr.substr(Vt+1),fr=fr.substr(0,Vt)),Ft&&(ir!==void 0&&(fr==="00:00:00"||fr==="00:00")?(fr=ir,ir=""):fr.length===8&&(fr=fr.replace(/:00$/,""))),ir)if(Bt)rr==="d"?fr+=", "+ir:fr=ir+(fr?", "+fr:"");else if(!Ze._inCalcTicks||Ze._prevDateHead!==ir)Ze._prevDateHead=ir,fr+="<br>"+ir;else{var yr=tr(Ze),br=Ze._trueSide||Ze.side;(!yr&&br==="top"||yr&&br==="bottom")&&(fr+="<br> ")}Ye.text=fr}function at(Ze,Ye,Bt,Ft,rr){var sr=Ze.dtick,fr=Ye.x,ir=Ze.tickformat,Vt=typeof sr=="string"&&sr.charAt(0);if(rr==="never"&&(rr=""),Ft&&Vt!=="L"&&(sr="L3",Vt="L"),ir||Vt==="L")Ye.text=pe(Math.pow(10,fr),Ze,rr,Ft);else if(C(sr)||Vt==="D"&&w.mod(fr+.01,1)<.1){var yr=Math.round(fr),br=Math.abs(yr),_r=Ze.exponentformat;_r==="power"||Ke(_r)&&Ie(yr)?(yr===0?Ye.text=1:yr===1?Ye.text="10":Ye.text="10<sup>"+(yr>1?"":b)+br+"</sup>",Ye.fontSize*=1.25):(_r==="e"||_r==="E")&&br>2?Ye.text="1"+_r+(yr>0?"+":b)+br:(Ye.text=pe(Math.pow(10,fr),Ze,"","fakehover"),sr==="D1"&&Ze._id.charAt(0)==="y"&&(Ye.dy-=Ye.fontSize/6))}else if(Vt==="D")Ye.text=String(Math.round(Math.pow(10,w.mod(fr,1)))),Ye.fontSize*=.75;else throw"unrecognized dtick "+String(sr);if(Ze.dtick==="D1"){var pr=String(Ye.text).charAt(0);(pr==="0"||pr==="1")&&(Ze._id.charAt(0)==="y"?Ye.dx-=Ye.fontSize/4:(Ye.dy+=Ye.fontSize/2,Ye.dx+=(Ze.range[1]>Ze.range[0]?1:-1)*Ye.fontSize*(fr<0?.5:.25)))}}function ze(Ze,Ye){var Bt=Ze._categories[Math.round(Ye.x)];Bt===void 0&&(Bt=""),Ye.text=String(Bt)}function je(Ze,Ye,Bt){var Ft=Math.round(Ye.x),rr=Ze._categories[Ft]||[],sr=rr[1]===void 0?"":String(rr[1]),fr=rr[0]===void 0?"":String(rr[0]);Bt?Ye.text=fr+" - "+sr:(Ye.text=sr,Ye.text2=fr)}function Je(Ze,Ye,Bt,Ft,rr){rr==="never"?rr="":Ze.showexponent==="all"&&Math.abs(Ye.x/Ze.dtick)<1e-6&&(rr="hide"),Ye.text=pe(Ye.x,Ze,rr,Ft)}function Xe(Ze,Ye,Bt,Ft,rr){if(Ze.thetaunit==="radians"&&!Bt){var sr=Ye.x/180;if(sr===0)Ye.text="0";else{var fr=Oe(sr);if(fr[1]>=100)Ye.text=pe(w.deg2rad(Ye.x),Ze,rr,Ft);else{var ir=Ye.x<0;fr[1]===1?fr[0]===1?Ye.text="":Ye.text=fr[0]+"":Ye.text=["<sup>",fr[0],"</sup>","","<sub>",fr[1],"</sub>",""].join(""),ir&&(Ye.text=b+Ye.text)}}}else Ye.text=pe(Ye.x,Ze,rr,Ft)}function Oe(Ze){function Ye(ir,Vt){return Math.abs(ir-Vt)<=1e-6}function Bt(ir,Vt){return Ye(Vt,0)?ir:Bt(Vt,ir%Vt)}function Ft(ir){for(var Vt=1;!Ye(Math.round(ir*Vt)/Vt,ir);)Vt*=10;return Vt}var rr=Ft(Ze),sr=Ze*rr,fr=Math.abs(Bt(sr,rr));return[Math.round(sr/fr),Math.round(rr/fr)]}var ke=["f","p","n","","m","","k","M","G","T"];function Ke(Ze){return Ze==="SI"||Ze==="B"}function Ie(Ze){return Ze>14||Ze<-15}function pe(Ze,Ye,Bt,Ft){var rr=Ze<0,sr=Ye._tickround,fr=Bt||Ye.exponentformat||"B",ir=Ye._tickexponent,Vt=J.getTickFormat(Ye),yr=Ye.separatethousands;if(Ft){var br={exponentformat:fr,minexponent:Ye.minexponent,dtick:Ye.showexponent==="none"?Ye.dtick:C(Ze)&&Math.abs(Ze)||1,range:Ye.showexponent==="none"?Ye.range.map(Ye.r2d):[0,Ze||1]};wt(br),sr=(Number(br._tickround)||0)+4,ir=br._tickexponent,Ye.hoverformat&&(Vt=Ye.hoverformat)}if(Vt)return Ye._numFormat(Vt)(Ze).replace(/-/g,b);var _r=Math.pow(10,-sr)/2;if(fr==="none"&&(ir=0),Ze=Math.abs(Ze),Ze<_r)Ze="0",rr=!1;else{if(Ze+=_r,ir&&(Ze*=Math.pow(10,-ir),sr+=ir),sr===0)Ze=String(Math.floor(Ze));else if(sr<0){Ze=String(Math.round(Ze)),Ze=Ze.substr(0,Ze.length+sr);for(var pr=sr;pr<0;pr++)Ze+="0"}else{Ze=String(Ze);var Yr=Ze.indexOf(".")+1;Yr&&(Ze=Ze.substr(0,Yr+sr).replace(/\.?0+$/,""))}Ze=w.numSeparate(Ze,Ye._separators,yr)}if(ir&&fr!=="hide"){Ke(fr)&&Ie(ir)&&(fr="power");var zr;ir<0?zr=b+-ir:fr!=="power"?zr="+"+ir:zr=String(ir),fr==="e"||fr==="E"?Ze+=fr+zr:fr==="power"?Ze+="10<sup>"+zr+"</sup>":fr==="B"&&ir===9?Ze+="B":Ke(fr)&&(Ze+=ke[ir/3+5])}return rr?b+Ze:Ze}J.getTickFormat=function(Ze){var Ye;function Bt(Vt){return typeof Vt!="string"?Vt:Number(Vt.replace("M",""))*x}function Ft(Vt,yr){var br=["L","D"];if(typeof Vt==typeof yr){if(typeof Vt=="number")return Vt-yr;var _r=br.indexOf(Vt.charAt(0)),pr=br.indexOf(yr.charAt(0));return _r===pr?Number(Vt.replace(/(L|D)/g,""))-Number(yr.replace(/(L|D)/g,"")):_r-pr}else return typeof Vt=="number"?1:-1}function rr(Vt,yr,br){var _r=br||function(zr){return zr},pr=yr[0],Yr=yr[1];return(!pr&&typeof pr!="number"||_r(pr)<=_r(Vt))&&(!Yr&&typeof Yr!="number"||_r(Yr)>=_r(Vt))}function sr(Vt,yr){var br=yr[0]===null,_r=yr[1]===null,pr=Ft(Vt,yr[0])>=0,Yr=Ft(Vt,yr[1])<=0;return(br||pr)&&(_r||Yr)}var fr,ir;if(Ze.tickformatstops&&Ze.tickformatstops.length>0)switch(Ze.type){case"date":case"linear":{for(Ye=0;Ye<Ze.tickformatstops.length;Ye++)if(ir=Ze.tickformatstops[Ye],ir.enabled&&rr(Ze.dtick,ir.dtickrange,Bt)){fr=ir;break}break}case"log":{for(Ye=0;Ye<Ze.tickformatstops.length;Ye++)if(ir=Ze.tickformatstops[Ye],ir.enabled&&sr(Ze.dtick,ir.dtickrange)){fr=ir;break}break}}return fr?fr.value:Ze.tickformat},J.getSubplots=function(Ze,Ye){var Bt=Ze._fullLayout._subplots,Ft=Bt.cartesian.concat(Bt.gl2d||[]),rr=Ye?J.findSubplotsWithAxis(Ft,Ye):Ft;return rr.sort(function(sr,fr){var ir=sr.substr(1).split("y"),Vt=fr.substr(1).split("y");return ir[0]===Vt[0]?+ir[1]-+Vt[1]:+ir[0]-+Vt[0]}),rr},J.findSubplotsWithAxis=function(Ze,Ye){for(var Bt=new RegExp(Ye._id.charAt(0)==="x"?"^"+Ye._id+"y":Ye._id+"$"),Ft=[],rr=0;rr<Ze.length;rr++){var sr=Ze[rr];Bt.test(sr)&&Ft.push(sr)}return Ft},J.makeClipPaths=function(Ze){var Ye=Ze._fullLayout;if(!Ye._hasOnlyLargeSploms){var Bt={_offset:0,_length:Ye.width,_id:""},Ft={_offset:0,_length:Ye.height,_id:""},rr=J.list(Ze,"x",!0),sr=J.list(Ze,"y",!0),fr=[],ir,Vt;for(ir=0;ir<rr.length;ir++)for(fr.push({x:rr[ir],y:Ft}),Vt=0;Vt<sr.length;Vt++)ir===0&&fr.push({x:Bt,y:sr[Vt]}),fr.push({x:rr[ir],y:sr[Vt]});var yr=Ye._clips.selectAll(".axesclip").data(fr,function(br){return br.x._id+br.y._id});yr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(br){return"clip"+Ye._uid+br.x._id+br.y._id}).append("rect"),yr.exit().remove(),yr.each(function(br){d.select(this).select("rect").attr({x:br.x._offset||0,y:br.y._offset||0,width:br.x._length||1,height:br.y._length||1})})}},J.draw=function(Ze,Ye,Bt){var Ft=Ze._fullLayout;Ye==="redraw"&&Ft._paper.selectAll("g.subplot").each(function(Vt){var yr=Vt[0],br=Ft._plots[yr];if(br){var _r=br.xaxis,pr=br.yaxis;br.xaxislayer.selectAll("."+_r._id+"tick").remove(),br.yaxislayer.selectAll("."+pr._id+"tick").remove(),br.xaxislayer.selectAll("."+_r._id+"tick2").remove(),br.yaxislayer.selectAll("."+pr._id+"tick2").remove(),br.xaxislayer.selectAll("."+_r._id+"divider").remove(),br.yaxislayer.selectAll("."+pr._id+"divider").remove(),br.minorGridlayer&&br.minorGridlayer.selectAll("path").remove(),br.gridlayer&&br.gridlayer.selectAll("path").remove(),br.zerolinelayer&&br.zerolinelayer.selectAll("path").remove(),Ft._infolayer.select(".g-"+_r._id+"title").remove(),Ft._infolayer.select(".g-"+pr._id+"title").remove()}});var rr=!Ye||Ye==="redraw"?J.listIds(Ze):Ye,sr=J.list(Ze),fr=sr.filter(function(Vt){return Vt.autoshift}).map(function(Vt){return Vt.overlaying});rr.map(function(Vt){var yr=J.getFromId(Ze,Vt);if(yr.tickmode==="sync"&&yr.overlaying){var br=rr.findIndex(function(_r){return _r===yr.overlaying});br>=0&&rr.unshift(rr.splice(br,1).shift())}});var ir={false:{left:0,right:0}};return w.syncOrAsync(rr.map(function(Vt){return function(){if(Vt){var yr=J.getFromId(Ze,Vt);Bt||(Bt={}),Bt.axShifts=ir,Bt.overlayingShiftedAx=fr;var br=J.drawOne(Ze,yr,Bt);return yr._shiftPusher&&Qt(yr,yr._fullDepth||0,ir,!0),yr._r=yr.range.slice(),yr._rl=w.simpleMap(yr._r,yr.r2l),br}}}))},J.drawOne=function(Ze,Ye,Bt){Bt=Bt||{};var Ft=Bt.axShifts||{},rr=Bt.overlayingShiftedAx||[],sr,fr,ir;Ye.setScale();var Vt=Ze._fullLayout,yr=Ye._id,br=yr.charAt(0),_r=J.counterLetter(yr),pr=Vt._plots[Ye._mainSubplot];if(!pr)return;if(Ye._shiftPusher=Ye.autoshift||rr.indexOf(Ye._id)!==-1||rr.indexOf(Ye.overlaying)!==-1,Ye._shiftPusher&Ye.anchor==="free"){var Yr=Ye.linewidth/2||0;Ye.ticks==="inside"&&(Yr+=Ye.ticklen),Qt(Ye,Yr,Ft,!0),Qt(Ye,Ye.shift||0,Ft,!1)}(Bt.skipTitle!==!0||Ye._shift===void 0)&&(Ye._shift=mr(Ye,Ft));var zr=pr[br+"axislayer"],Nr=Ye._mainLinePosition,xn=Nr+=Ye._shift,tn=Ye._mainMirrorPosition,On=Ye._vals=J.calcTicks(Ye),zn=[Ye.mirror,xn,tn].join("_");for(sr=0;sr<On.length;sr++)On[sr].axInfo=zn;Ye._selections={},Ye._tickAngles&&(Ye._prevTickAngles=Ye._tickAngles),Ye._tickAngles={},Ye._depth=null;var Sr={};function Vr($r){var ln=yr+($r||"tick");return Sr[ln]||(Sr[ln]=lt(Ye,ln,xn)),Sr[ln]}if(Ye.visible){var qr=J.makeTransTickFn(Ye),Hr=J.makeTransTickLabelFn(Ye),Tn,bn,Hn=Ye.ticks==="inside",Gn=Ye.ticks==="outside";if(Ye.tickson==="boundaries"){var ea=Ue(Ye,On);bn=J.clipEnds(Ye,ea),Tn=Hn?bn:ea}else bn=J.clipEnds(Ye,On),Tn=Hn&&Ye.ticklabelmode!=="period"?bn:On;var ma=Ye._gridVals=bn,Da=st(Ye,On);if(!Vt._hasOnlyLargeSploms){var Fa=Ye._subplotsWith,La={};for(sr=0;sr<Fa.length;sr++){fr=Fa[sr],ir=Vt._plots[fr];var Qn=ir[_r+"axis"],Mr=Qn._mainAxis._id;if(!La[Mr]){La[Mr]=1;var Jr=br==="x"?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;J.drawGrid(Ze,Ye,{vals:ma,counterAxis:Qn,layer:ir.gridlayer.select("."+yr),minorLayer:ir.minorGridlayer.select("."+yr),path:Jr,transFn:qr}),J.drawZeroLine(Ze,Ye,{counterAxis:Qn,layer:ir.zerolinelayer,path:Jr,transFn:qr})}}}var Kr,wn=J.getTickSigns(Ye),jn=J.getTickSigns(Ye,"minor");if(Ye.ticks||Ye.minor&&Ye.minor.ticks){var Pn=J.makeTickPath(Ye,xn,wn[2]),kn=J.makeTickPath(Ye,xn,jn[2],{minor:!0}),Jn,ua,Ca,ei;if(Ye._anchorAxis&&Ye.mirror&&Ye.mirror!==!0?(Jn=J.makeTickPath(Ye,tn,wn[3]),ua=J.makeTickPath(Ye,tn,jn[3],{minor:!0}),Ca=Pn+Jn,ei=kn+ua):(Jn="",ua="",Ca=Pn,ei=kn),Ye.showdividers&&Gn&&Ye.tickson==="boundaries"){var Ar={};for(sr=0;sr<Da.length;sr++)Ar[Da[sr].x]=1;Kr=function($r){return Ar[$r.x]?Jn:Ca}}else Kr=function($r){return $r.minor?ei:Ca}}if(J.drawTicks(Ze,Ye,{vals:Tn,layer:zr,path:Kr,transFn:qr}),Ye.mirror==="allticks"){var Gr=Object.keys(Ye._linepositions||{});for(sr=0;sr<Gr.length;sr++){fr=Gr[sr],ir=Vt._plots[fr];var Cr=Ye._linepositions[fr]||[],Wr=Cr[0],Sn=Cr[1],Fn=Cr[2],An=J.makeTickPath(Ye,Wr,Fn?wn[0]:jn[0],{minor:Fn})+J.makeTickPath(Ye,Sn,Fn?wn[1]:jn[1],{minor:Fn});J.drawTicks(Ze,Ye,{vals:Tn,layer:ir[br+"axislayer"],path:An,transFn:qr})}}var dn=[];if(dn.push(function(){return J.drawLabels(Ze,Ye,{vals:On,layer:zr,plotinfo:ir,transFn:Hr,labelFns:J.makeLabelFns(Ye,xn)})}),Ye.type==="multicategory"){var Dr={x:2,y:10}[br];dn.push(function(){var $r={x:"height",y:"width"}[br],ln=Vr()[$r]+Dr+(Ye._tickAngles[yr+"tick"]?Ye.tickfont.size*ne:0);return J.drawLabels(Ze,Ye,{vals:et(Ye,On),layer:zr,cls:yr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:qr,labelFns:J.makeLabelFns(Ye,xn+ln*wn[4])})}),dn.push(function(){return Ye._depth=wn[4]*(Vr("tick2")[Ye.side]-xn),Rt(Ze,Ye,{vals:Da,layer:zr,path:J.makeTickPath(Ye,xn,wn[4],{len:Ye._depth}),transFn:qr})})}else Ye.title.hasOwnProperty("standoff")&&dn.push(function(){Ye._depth=wn[4]*(Vr()[Ye.side]-xn)});var nn=L.getComponentMethod("rangeslider","isVisible")(Ye);return!Bt.skipTitle&&!(nn&&Ye.side==="bottom")&&dn.push(function(){return Pr(Ze,Ye)}),dn.push(function(){var $r=Ye.side.charAt(0),ln=q[Ye.side].charAt(0),Ln=J.getPxPosition(Ze,Ye),Xn=Gn?Ye.ticklen:0,Rn,$n,Kn,xa;(Ye.automargin||nn||Ye._shiftPusher)&&(Ye.type==="multicategory"?Rn=Vr("tick2"):(Rn=Vr(),br==="x"&&$r==="b"&&(Ye._depth=Math.max(Rn.width>0?Rn.bottom-Ln:0,Xn))));var ba=0,_a=0;if(Ye._shiftPusher&&(ba=Math.max(Xn,Rn.height>0?$r==="l"?Ln-Rn.left:Rn.right-Ln:0),Ye.title.text!==Vt._dfltTitle[br]&&(_a=(Ye._titleStandoff||0)+(Ye._titleScoot||0),$r==="l"&&(_a+=$t(Ye))),Ye._fullDepth=Math.max(ba,_a)),Ye.automargin){$n={x:0,y:0,r:0,l:0,t:0,b:0};var Ra=[0,1],Di=typeof Ye._shift=="number"?Ye._shift:0;if(br==="x"){if($r==="b"?$n[$r]=Ye._depth:($n[$r]=Ye._depth=Math.max(Rn.width>0?Ln-Rn.top:0,Xn),Ra.reverse()),Rn.width>0){var Pi=Rn.right-(Ye._offset+Ye._length);Pi>0&&($n.xr=1,$n.r=Pi);var zs=Ye._offset-Rn.left;zs>0&&($n.xl=0,$n.l=zs)}}else if($r==="l"?(Ye._depth=Math.max(Rn.height>0?Ln-Rn.left:0,Xn),$n[$r]=Ye._depth-Di):(Ye._depth=Math.max(Rn.height>0?Rn.right-Ln:0,Xn),$n[$r]=Ye._depth+Di,Ra.reverse()),Rn.height>0){var cs=Rn.bottom-(Ye._offset+Ye._length);cs>0&&($n.yb=0,$n.b=cs);var es=Ye._offset-Rn.top;es>0&&($n.yt=1,$n.t=es)}$n[_r]=Ye.anchor==="free"?Ye.position:Ye._anchorAxis.domain[Ra[0]],Ye.title.text!==Vt._dfltTitle[br]&&($n[$r]+=$t(Ye)+(Ye.title.standoff||0)),Ye.mirror&&Ye.anchor!=="free"&&(Kn={x:0,y:0,r:0,l:0,t:0,b:0},Kn[ln]=Ye.linewidth,Ye.mirror&&Ye.mirror!==!0&&(Kn[ln]+=Xn),Ye.mirror===!0||Ye.mirror==="ticks"?Kn[_r]=Ye._anchorAxis.domain[Ra[1]]:(Ye.mirror==="all"||Ye.mirror==="allticks")&&(Kn[_r]=[Ye._counterDomainMin,Ye._counterDomainMax][Ra[1]]))}nn&&(xa=L.getComponentMethod("rangeslider","autoMarginOpts")(Ze,Ye)),typeof Ye.automargin=="string"&&(Te($n,Ye.automargin),Te(Kn,Ye.automargin)),n.autoMargin(Ze,dr(Ye),$n),n.autoMargin(Ze,bt(Ye),Kn),n.autoMargin(Ze,ut(Ye),xa)}),w.syncOrAsync(dn)}};function Te(Ze,Ye){if(Ze){var Bt=Object.keys(O).reduce(function(Ft,rr){return Ye.indexOf(rr)!==-1&&O[rr].forEach(function(sr){Ft[sr]=1}),Ft},{});Object.keys(Ze).forEach(function(Ft){Bt[Ft]||(Ft.length===1?Ze[Ft]=0:delete Ze[Ft])})}}function Ue(Ze,Ye){var Bt=[],Ft,rr=function(sr,fr){var ir=sr.xbnd[fr];ir!==null&&Bt.push(w.extendFlat({},sr,{x:ir}))};if(Ye.length){for(Ft=0;Ft<Ye.length;Ft++)rr(Ye[Ft],0);rr(Ye[Ft-1],1)}return Bt}function et(Ze,Ye){for(var Bt=[],Ft={},rr=0;rr<Ye.length;rr++){var sr=Ye[rr];Ft[sr.text2]?Ft[sr.text2].push(sr.x):Ft[sr.text2]=[sr.x]}for(var fr in Ft)Bt.push(Tt(Ze,w.interp(Ft[fr],.5),fr));return Bt}function st(Ze,Ye){var Bt=[],Ft,rr,sr=Ye.length&&Ye[Ye.length-1].x<Ye[0].x,fr=function(Vt,yr){var br=Vt.xbnd[yr];br!==null&&Bt.push(w.extendFlat({},Vt,{x:br}))};if(Ze.showdividers&&Ye.length){for(Ft=0;Ft<Ye.length;Ft++){var ir=Ye[Ft];ir.text2!==rr&&fr(ir,sr?1:0),rr=ir.text2}fr(Ye[Ft-1],sr?0:1)}return Bt}function lt(Ze,Ye,Bt){var Ft,rr,sr,fr;if(Ze._selections[Ye].size())Ft=1/0,rr=-1/0,sr=1/0,fr=-1/0,Ze._selections[Ye].each(function(){var Vt=wr(this),yr=i.bBox(Vt.node().parentNode);Ft=Math.min(Ft,yr.top),rr=Math.max(rr,yr.bottom),sr=Math.min(sr,yr.left),fr=Math.max(fr,yr.right)});else{var ir=J.makeLabelFns(Ze,Bt);Ft=rr=ir.yFn({dx:0,dy:0,fontSize:0}),sr=fr=ir.xFn({dx:0,dy:0,fontSize:0})}return{top:Ft,bottom:rr,left:sr,right:fr,height:rr-Ft,width:fr-sr}}J.getTickSigns=function(Ze,Ye){var Bt=Ze._id.charAt(0),Ft={x:"top",y:"right"}[Bt],rr=Ze.side===Ft?1:-1,sr=[-1,1,rr,-rr],fr=Ye?(Ze.minor||{}).ticks:Ze.ticks;return fr!=="inside"==(Bt==="x")&&(sr=sr.map(function(ir){return-ir})),Ze.side&&sr.push({l:-1,t:-1,r:1,b:1}[Ze.side.charAt(0)]),sr},J.makeTransTickFn=function(Ze){return Ze._id.charAt(0)==="x"?function(Ye){return v(Ze._offset+Ze.l2p(Ye.x),0)}:function(Ye){return v(0,Ze._offset+Ze.l2p(Ye.x))}},J.makeTransTickLabelFn=function(Ze){var Ye=Jt(Ze),Bt=Ye[0],Ft=Ye[1];return Ze._id.charAt(0)==="x"?function(rr){return v(Bt+Ze._offset+Ze.l2p(jt(rr)),Ft)}:function(rr){return v(Ft,Bt+Ze._offset+Ze.l2p(jt(rr)))}};function jt(Ze){return Ze.periodX!==void 0?Ze.periodX:Ze.x}function Jt(Ze){var Ye=Ze.ticklabelposition||"",Bt=function(Yr){return Ye.indexOf(Yr)!==-1},Ft=Bt("top"),rr=Bt("left"),sr=Bt("right"),fr=Bt("bottom"),ir=Bt("inside"),Vt=fr||rr||Ft||sr;if(!Vt&&!ir)return[0,0];var yr=Ze.side,br=Vt?(Ze.tickwidth||0)/2:0,_r=se,pr=Ze.tickfont?Ze.tickfont.size:12;return(fr||Ft)&&(br+=pr*ee,_r+=(Ze.linewidth||0)/2),(rr||sr)&&(br+=(Ze.linewidth||0)/2,_r+=se),ir&&yr==="top"&&(_r-=pr*(1-ee)),(rr||Ft)&&(br=-br),(yr==="bottom"||yr==="right")&&(_r=-_r),[Vt?br:0,ir?_r:0]}J.makeTickPath=function(Ze,Ye,Bt,Ft){Ft||(Ft={});var rr=Ft.minor;if(rr&&!Ze.minor)return"";var sr=Ft.len!==void 0?Ft.len:rr?Ze.minor.ticklen:Ze.ticklen,fr=Ze._id.charAt(0),ir=(Ze.linewidth||1)/2;return fr==="x"?"M0,"+(Ye+ir*Bt)+"v"+sr*Bt:"M"+(Ye+ir*Bt)+",0h"+sr*Bt},J.makeLabelFns=function(Ze,Ye,Bt){var Ft=Ze.ticklabelposition||"",rr=function(ea){return Ft.indexOf(ea)!==-1},sr=rr("top"),fr=rr("left"),ir=rr("right"),Vt=rr("bottom"),yr=Vt||fr||sr||ir,br=rr("inside"),_r=Ft==="inside"&&Ze.ticks==="inside"||!br&&Ze.ticks==="outside"&&Ze.tickson!=="boundaries",pr=0,Yr=0,zr=_r?Ze.ticklen:0;if(br?zr*=-1:yr&&(zr=0),_r&&(pr+=zr,Bt)){var Nr=w.deg2rad(Bt);pr=zr*Math.cos(Nr)+1,Yr=zr*Math.sin(Nr)}Ze.showticklabels&&(_r||Ze.showline)&&(pr+=.2*Ze.tickfont.size),pr+=(Ze.linewidth||1)/2*(br?-1:1);var xn={labelStandoff:pr,labelShift:Yr},tn,On,zn,Sr,Vr=0,qr=Ze.side,Hr=Ze._id.charAt(0),Tn=Ze.tickangle,bn;if(Hr==="x")bn=!br&&qr==="bottom"||br&&qr==="top",Sr=bn?1:-1,br&&(Sr*=-1),tn=Yr*Sr,On=Ye+pr*Sr,zn=bn?1:-.2,Math.abs(Tn)===90&&(br?zn+=X:Tn===-90&&qr==="bottom"?zn=ee:Tn===90&&qr==="top"?zn=X:zn=.5,Vr=X/2*(Tn/90)),xn.xFn=function(ea){return ea.dx+tn+Vr*ea.fontSize},xn.yFn=function(ea){return ea.dy+On+ea.fontSize*zn},xn.anchorFn=function(ea,ma){if(yr){if(fr)return"end";if(ir)return"start"}return!C(ma)||ma===0||ma===180?"middle":ma*Sr<0!==br?"end":"start"},xn.heightFn=function(ea,ma,Da){return ma<-60||ma>60?-.5*Da:Ze.side==="top"!==br?-Da:0};else if(Hr==="y"){if(bn=!br&&qr==="left"||br&&qr==="right",Sr=bn?1:-1,br&&(Sr*=-1),tn=pr,On=Yr*Sr,zn=0,!br&&Math.abs(Tn)===90&&(Tn===-90&&qr==="left"||Tn===90&&qr==="right"?zn=ee:zn=.5),br){var Hn=C(Tn)?+Tn:0;if(Hn!==0){var Gn=w.deg2rad(Hn);Vr=Math.abs(Math.sin(Gn))*ee*Sr,zn=0}}xn.xFn=function(ea){return ea.dx+Ye-(tn+ea.fontSize*zn)*Sr+Vr*ea.fontSize},xn.yFn=function(ea){return ea.dy+On+ea.fontSize*X},xn.anchorFn=function(ea,ma){return C(ma)&&Math.abs(ma)===90?"middle":bn?"end":"start"},xn.heightFn=function(ea,ma,Da){return Ze.side==="right"&&(ma*=-1),ma<-30?-Da:ma<30?-.5*Da:0}}return xn};function St(Ze){return[Ze.text,Ze.x,Ze.axInfo,Ze.font,Ze.fontSize,Ze.fontColor].join("_")}J.drawTicks=function(Ze,Ye,Bt){Bt=Bt||{};var Ft=Ye._id+"tick",rr=[].concat(Ye.minor&&Ye.minor.ticks?Bt.vals.filter(function(fr){return fr.minor&&!fr.noTick}):[]).concat(Ye.ticks?Bt.vals.filter(function(fr){return!fr.minor&&!fr.noTick}):[]),sr=Bt.layer.selectAll("path."+Ft).data(rr,St);sr.exit().remove(),sr.enter().append("path").classed(Ft,1).classed("ticks",1).classed("crisp",Bt.crisp!==!1).each(function(fr){return t.stroke(d.select(this),fr.minor?Ye.minor.tickcolor:Ye.tickcolor)}).style("stroke-width",function(fr){return i.crispRound(Ze,fr.minor?Ye.minor.tickwidth:Ye.tickwidth,1)+"px"}).attr("d",Bt.path).style("display",null),gr(Ye,[F]),sr.attr("transform",Bt.transFn)},J.drawGrid=function(Ze,Ye,Bt){if(Bt=Bt||{},Ye.tickmode!=="sync"){var Ft=Ye._id+"grid",rr=Ye.minor&&Ye.minor.showgrid,sr=rr?Bt.vals.filter(function(tn){return tn.minor}):[],fr=Ye.showgrid?Bt.vals.filter(function(tn){return!tn.minor}):[],ir=Bt.counterAxis;if(ir&&J.shouldShowZeroLine(Ze,Ye,ir))for(var Vt=Ye.tickmode==="array",yr=0;yr<fr.length;yr++){var br=fr[yr].x;if(Vt?!br:Math.abs(br)<Ye.dtick/100)if(fr=fr.slice(0,yr).concat(fr.slice(yr+1)),Vt)yr--;else break}Ye._gw=i.crispRound(Ze,Ye.gridwidth,1);for(var _r=rr?i.crispRound(Ze,Ye.minor.gridwidth,1):0,pr=Bt.layer,Yr=Bt.minorLayer,zr=1;zr>=0;zr--){var Nr=zr?pr:Yr;if(Nr){var xn=Nr.selectAll("path."+Ft).data(zr?fr:sr,St);xn.exit().remove(),xn.enter().append("path").classed(Ft,1).classed("crisp",Bt.crisp!==!1),xn.attr("transform",Bt.transFn).attr("d",Bt.path).each(function(tn){return t.stroke(d.select(this),tn.minor?Ye.minor.gridcolor:Ye.gridcolor||"#ddd")}).style("stroke-dasharray",function(tn){return i.dashStyle(tn.minor?Ye.minor.griddash:Ye.griddash,tn.minor?Ye.minor.gridwidth:Ye.gridwidth)}).style("stroke-width",function(tn){return(tn.minor?_r:Ye._gw)+"px"}).style("display",null),typeof Bt.path=="function"&&xn.attr("d",Bt.path)}}gr(Ye,[B,k])}},J.drawZeroLine=function(Ze,Ye,Bt){Bt=Bt||Bt;var Ft=Ye._id+"zl",rr=J.shouldShowZeroLine(Ze,Ye,Bt.counterAxis),sr=Bt.layer.selectAll("path."+Ft).data(rr?[{x:0,id:Ye._id}]:[]);sr.exit().remove(),sr.enter().append("path").classed(Ft,1).classed("zl",1).classed("crisp",Bt.crisp!==!1).each(function(){Bt.layer.selectAll("path").sort(function(fr,ir){return Y(fr.id,ir.id)})}),sr.attr("transform",Bt.transFn).attr("d",Bt.path).call(t.stroke,Ye.zerolinecolor||t.defaultLine).style("stroke-width",i.crispRound(Ze,Ye.zerolinewidth,Ye._gw||1)+"px").style("display",null),gr(Ye,[D])},J.drawLabels=function(Ze,Ye,Bt){Bt=Bt||{};var Ft=Ze._fullLayout,rr=Ye._id,sr=Bt.cls||rr+"tick",fr=Bt.vals.filter(function(Mr){return Mr.text}),ir=Bt.labelFns,Vt=Bt.secondary?0:Ye.tickangle,yr=(Ye._prevTickAngles||{})[sr],br=Bt.layer.selectAll("g."+sr).data(Ye.showticklabels?fr:[],St),_r=[];br.enter().append("g").classed(sr,1).append("text").attr("text-anchor","middle").each(function(Mr){var Jr=d.select(this),Kr=Ze._promises.length;Jr.call(g.positionText,ir.xFn(Mr),ir.yFn(Mr)).call(i.font,{family:Mr.font,size:Mr.fontSize,color:Mr.fontColor,weight:Mr.fontWeight,style:Mr.fontStyle,variant:Mr.fontVariant}).text(Mr.text).call(g.convertToTspans,Ze),Ze._promises[Kr]?_r.push(Ze._promises.pop().then(function(){pr(Jr,Vt)})):pr(Jr,Vt)}),gr(Ye,[N]),br.exit().remove(),Bt.repositionOnUpdate&&br.each(function(Mr){d.select(this).select("text").call(g.positionText,ir.xFn(Mr),ir.yFn(Mr))});function pr(Mr,Jr){Mr.each(function(Kr){var wn=d.select(this),jn=wn.select(".text-math-group"),Pn=ir.anchorFn(Kr,Jr),kn=Bt.transFn.call(wn.node(),Kr)+(C(Jr)&&+Jr!=0?" rotate("+Jr+","+ir.xFn(Kr)+","+(ir.yFn(Kr)-Kr.fontSize/2)+")":""),Jn=g.lineCount(wn),ua=ne*Kr.fontSize,Ca=ir.heightFn(Kr,C(Jr)?+Jr:0,(Jn-1)*ua);if(Ca&&(kn+=v(0,Ca)),jn.empty()){var ei=wn.select("text");ei.attr({transform:kn,"text-anchor":Pn}),ei.style("opacity",1),Ye._adjustTickLabelsOverflow&&Ye._adjustTickLabelsOverflow()}else{var Ar=i.bBox(jn.node()).width,Gr=Ar*{end:-.5,start:.5}[Pn];jn.attr("transform",kn+v(Gr,0))}})}Ye._adjustTickLabelsOverflow=function(){var Mr=Ye.ticklabeloverflow;if(!(!Mr||Mr==="allow")){var Jr=Mr.indexOf("hide")!==-1,Kr=Ye._id.charAt(0)==="x",wn=0,jn=Kr?Ze._fullLayout.width:Ze._fullLayout.height;if(Mr.indexOf("domain")!==-1){var Pn=w.simpleMap(Ye.range,Ye.r2l);wn=Ye.l2p(Pn[0])+Ye._offset,jn=Ye.l2p(Pn[1])+Ye._offset}var kn=Math.min(wn,jn),Jn=Math.max(wn,jn),ua=Ye.side,Ca=1/0,ei=-1/0;br.each(function(Wr){var Sn=d.select(this),Fn=Sn.select(".text-math-group");if(Fn.empty()){var An=i.bBox(Sn.node()),dn=0;Kr?(An.right>Jn||An.left<kn)&&(dn=1):(An.bottom>Jn||An.top+(Ye.tickangle?0:Wr.fontSize/4)<kn)&&(dn=1);var Dr=Sn.select("text");dn?Jr&&Dr.style("opacity",0):(Dr.style("opacity",1),ua==="bottom"||ua==="right"?Ca=Math.min(Ca,Kr?An.top:An.left):Ca=-1/0,ua==="top"||ua==="left"?ei=Math.max(ei,Kr?An.bottom:An.right):ei=1/0)}});for(var Ar in Ft._plots){var Gr=Ft._plots[Ar];if(!(Ye._id!==Gr.xaxis._id&&Ye._id!==Gr.yaxis._id)){var Cr=Kr?Gr.yaxis:Gr.xaxis;Cr&&(Cr["_visibleLabelMin_"+Ye._id]=Ca,Cr["_visibleLabelMax_"+Ye._id]=ei)}}}},Ye._hideCounterAxisInsideTickLabels=function(Mr){var Jr=Ye._id.charAt(0)==="x",Kr=[];for(var wn in Ft._plots){var jn=Ft._plots[wn];Ye._id!==jn.xaxis._id&&Ye._id!==jn.yaxis._id||Kr.push(Jr?jn.yaxis:jn.xaxis)}Kr.forEach(function(Pn,kn){Pn&&tr(Pn)&&(Mr||[D,k,B,F,N]).forEach(function(Jn){var ua=Jn.K==="tick"&&Jn.L==="text"&&Ye.ticklabelmode==="period",Ca=Ft._plots[Ye._mainSubplot],ei;Jn.K===D.K?ei=Ca.zerolinelayer.selectAll("."+Ye._id+"zl"):Jn.K===k.K?ei=Ca.minorGridlayer.selectAll("."+Ye._id):Jn.K===B.K?ei=Ca.gridlayer.selectAll("."+Ye._id):ei=Ca[Ye._id.charAt(0)+"axislayer"],ei.each(function(){var Ar=d.select(this);Jn.L&&(Ar=Ar.selectAll(Jn.L)),Ar.each(function(Gr){var Cr=Ye.l2p(ua?jt(Gr):Gr.x)+Ye._offset,Wr=d.select(this);Cr<Ye["_visibleLabelMax_"+Pn._id]&&Cr>Ye["_visibleLabelMin_"+Pn._id]?Wr.style("display","none"):Jn.K==="tick"&&!kn&&Wr.style("display",null)})})})})},pr(br,yr+1?yr:Vt);function Yr(){return _r.length&&Promise.all(_r)}var zr=null;function Nr(){if(pr(br,Vt),fr.length&&Ye.autotickangles&&(Ye.type!=="log"||String(Ye.dtick).charAt(0)!=="D")){zr=Ye.autotickangles[0];var Mr=0,Jr=[],Kr,wn=1;br.each(function(Rn){Mr=Math.max(Mr,Rn.fontSize);var $n=Ye.l2p(Rn.x),Kn=wr(this),xa=i.bBox(Kn.node());wn=Math.max(wn,g.lineCount(Kn)),Jr.push({top:0,bottom:10,height:10,left:$n-xa.width/2,right:$n+xa.width/2+2,width:xa.width+2})});var jn=(Ye.tickson==="boundaries"||Ye.showdividers)&&!Bt.secondary,Pn=fr.length,kn=Math.abs((fr[Pn-1].x-fr[0].x)*Ye._m)/(Pn-1),Jn=jn?kn/2:kn,ua=jn?Ye.ticklen:Mr*1.25*wn,Ca=Math.sqrt(Math.pow(Jn,2)+Math.pow(ua,2)),ei=Jn/Ca,Ar=Ye.autotickangles.map(function(Rn){return Rn*Math.PI/180}),Gr=Ar.find(function(Rn){return Math.abs(Math.cos(Rn))<=ei});Gr===void 0&&(Gr=Ar.reduce(function(Rn,$n){return Math.abs(Math.cos(Rn))<Math.abs(Math.cos($n))?Rn:$n},Ar[0]));var Cr=Gr*(180/Math.PI);if(jn){var Wr=2;for(Ye.ticks&&(Wr+=Ye.tickwidth/2),Kr=0;Kr<Jr.length;Kr++){var Sn=fr[Kr].xbnd,Fn=Jr[Kr];if(Sn[0]!==null&&Fn.left-Ye.l2p(Sn[0])<Wr||Sn[1]!==null&&Ye.l2p(Sn[1])-Fn.right<Wr){zr=Cr;break}}}else{var An=Ye.ticklabelposition||"",dn=function(Rn){return An.indexOf(Rn)!==-1},Dr=dn("top"),nn=dn("left"),$r=dn("right"),ln=dn("bottom"),Ln=ln||nn||Dr||$r,Xn=Ln?(Ye.tickwidth||0)+2*se:0;for(Kr=0;Kr<Jr.length-1;Kr++)if(w.bBoxIntersect(Jr[Kr],Jr[Kr+1],Xn)){zr=Cr;break}}zr&&pr(br,zr)}}Ye._selections&&(Ye._selections[sr]=br);var xn=[Yr];Ye.automargin&&Ft._redrawFromAutoMarginCount&&yr===90?(zr=yr,xn.push(function(){pr(br,yr)})):xn.push(Nr),Ye._tickAngles&&xn.push(function(){Ye._tickAngles[sr]=zr===null?C(Vt)?Vt:0:zr});var tn=function(){var Mr=0,Jr=0;return br.each(function(Kr,wn){var jn=wr(this),Pn=jn.select(".text-math-group");if(Pn.empty()){var kn;Ye._vals[wn]&&(kn=Ye._vals[wn].bb||i.bBox(jn.node()),Ye._vals[wn].bb=kn),Mr=Math.max(Mr,kn.width),Jr=Math.max(Jr,kn.height)}}),{labelsMaxW:Mr,labelsMaxH:Jr}},On=Ye._anchorAxis;if(On&&(On.autorange||On.insiderange)&&tr(Ye)&&!ie(Ft,Ye._id)&&(Ft._insideTickLabelsUpdaterange||(Ft._insideTickLabelsUpdaterange={}),On.autorange&&(Ft._insideTickLabelsUpdaterange[On._name+".autorange"]=On.autorange,xn.push(tn)),On.insiderange)){var zn=tn(),Sr=Ye._id.charAt(0)==="y"?zn.labelsMaxW:zn.labelsMaxH;Sr+=2*se,Ye.ticklabelposition==="inside"&&(Sr+=Ye.ticklen||0);var Vr=Ye.side==="right"||Ye.side==="top"?1:-1,qr=Vr===1?1:0,Hr=Vr===1?0:1,Tn=[];Tn[Hr]=On.range[Hr];var bn=On.range,Hn=On.r2p(bn[qr]),Gn=On.r2p(bn[Hr]),ea=Ft._insideTickLabelsUpdaterange[On._name+".range"];if(ea){var ma=On.r2p(ea[qr]),Da=On.r2p(ea[Hr]),Fa=Vr*(Ye._id.charAt(0)==="y"?1:-1);Fa*Hn<Fa*ma&&(Hn=ma,Tn[qr]=bn[qr]=ea[qr]),Fa*Gn>Fa*Da&&(Gn=Da,Tn[Hr]=bn[Hr]=ea[Hr])}var La=Math.abs(Gn-Hn);La-Sr>0?(La-=Sr,Sr*=1+Sr/La):Sr=0,Ye._id.charAt(0)!=="y"&&(Sr=-Sr),Tn[qr]=On.p2r(On.r2p(bn[qr])+Vr*Sr),On.autorange==="min"||On.autorange==="max reversed"?(Tn[0]=null,On._rangeInitial0=void 0,On._rangeInitial1=void 0):(On.autorange==="max"||On.autorange==="min reversed")&&(Tn[1]=null,On._rangeInitial0=void 0,On._rangeInitial1=void 0),Ft._insideTickLabelsUpdaterange[On._name+".range"]=Tn}var Qn=w.syncOrAsync(xn);return Qn&&Qn.then&&Ze._promises.push(Qn),Qn};function Rt(Ze,Ye,Bt){var Ft=Ye._id+"divider",rr=Bt.vals,sr=Bt.layer.selectAll("path."+Ft).data(rr,St);sr.exit().remove(),sr.enter().insert("path",":first-child").classed(Ft,1).classed("crisp",1).call(t.stroke,Ye.dividercolor).style("stroke-width",i.crispRound(Ze,Ye.dividerwidth,1)+"px"),sr.attr("transform",Bt.transFn).attr("d",Bt.path)}J.getPxPosition=function(Ze,Ye){var Bt=Ze._fullLayout._size,Ft=Ye._id.charAt(0),rr=Ye.side,sr;if(Ye.anchor!=="free"?sr=Ye._anchorAxis:Ft==="x"?sr={_offset:Bt.t+(1-(Ye.position||0))*Bt.h,_length:0}:Ft==="y"&&(sr={_offset:Bt.l+(Ye.position||0)*Bt.w+Ye._shift,_length:0}),rr==="top"||rr==="left")return sr._offset;if(rr==="bottom"||rr==="right")return sr._offset+sr._length};function $t(Ze){var Ye=Ze.title.font.size,Bt=(Ze.title.text.match(g.BR_TAG_ALL)||[]).length;return Ze.title.hasOwnProperty("standoff")?Ye*(ee+Bt*ne):Bt?Ye*(Bt+1)*ne:Ye}function Pr(Ze,Ye){var Bt=Ze._fullLayout,Ft=Ye._id,rr=Ft.charAt(0),sr=Ye.title.font.size,fr,ir=(Ye.title.text.match(g.BR_TAG_ALL)||[]).length;if(Ye.title.hasOwnProperty("standoff"))Ye.side==="bottom"||Ye.side==="right"?fr=Ye._depth+Ye.title.standoff+sr*ee:(Ye.side==="top"||Ye.side==="left")&&(fr=Ye._depth+Ye.title.standoff+sr*(X+ir*ne));else{var Vt=tr(Ye);if(Ye.type==="multicategory")fr=Ye._depth;else{var yr=1.5*sr;Vt&&(yr=.5*sr,Ye.ticks==="outside"&&(yr+=Ye.ticklen)),fr=10+yr+(Ye.linewidth?Ye.linewidth-1:0)}Vt||(rr==="x"?fr+=Ye.side==="top"?sr*(Ye.showticklabels?1:0):sr*(Ye.showticklabels?1.5:.5):fr+=Ye.side==="right"?sr*(Ye.showticklabels?1:.5):sr*(Ye.showticklabels?.5:0))}var br=J.getPxPosition(Ze,Ye),_r,pr,Yr;rr==="x"?(pr=Ye._offset+Ye._length/2,Yr=Ye.side==="top"?br-fr:br+fr):(Yr=Ye._offset+Ye._length/2,pr=Ye.side==="right"?br+fr:br-fr,_r={rotate:"-90",offset:0});var zr;if(Ye.type!=="multicategory"){var Nr=Ye._selections[Ye._id+"tick"];if(zr={selection:Nr,side:Ye.side},Nr&&Nr.node()&&Nr.node().parentNode){var xn=i.getTranslate(Nr.node().parentNode);zr.offsetLeft=xn.x,zr.offsetTop=xn.y}Ye.title.hasOwnProperty("standoff")&&(zr.pad=0)}return Ye._titleStandoff=fr,r.draw(Ze,Ft+"title",{propContainer:Ye,propName:Ye._name+".title.text",placeholder:Bt._dfltTitle[rr],avoid:zr,transform:_r,attributes:{x:pr,y:Yr,"text-anchor":"middle"}})}J.shouldShowZeroLine=function(Ze,Ye,Bt){var Ft=w.simpleMap(Ye.range,Ye.r2l);return Ft[0]*Ft[1]<=0&&Ye.zeroline&&(Ye.type==="linear"||Ye.type==="-")&&!(Ye.rangebreaks&&Ye.maskBreaks(0)===I)&&(xt(Ye,0)||!qt(Ze,Ye,Bt,Ft)||nr(Ze,Ye))},J.clipEnds=function(Ze,Ye){return Ye.filter(function(Bt){return xt(Ze,Bt.x)})};function xt(Ze,Ye){var Bt=Ze.l2p(Ye);return Bt>1&&Bt<Ze._length-1}function qt(Ze,Ye,Bt,Ft){var rr=Bt._mainAxis;if(!rr)return;var sr=Ze._fullLayout,fr=Ye._id.charAt(0),ir=J.counterLetter(Ye._id),Vt=Ye._offset+(Math.abs(Ft[0])<Math.abs(Ft[1])==(fr==="x")?0:Ye._length);function yr(zr){if(!zr.showline||!zr.linewidth)return!1;var Nr=Math.max((zr.linewidth+Ye.zerolinewidth)/2,1);function xn(zn){return typeof zn=="number"&&Math.abs(zn-Vt)<Nr}if(xn(zr._mainLinePosition)||xn(zr._mainMirrorPosition))return!0;var tn=zr._linepositions||{};for(var On in tn)if(xn(tn[On][0])||xn(tn[On][1]))return!0}var br=sr._plots[Bt._mainSubplot];if(!(br.mainplotinfo||br).overlays.length)return yr(Bt);for(var _r=J.list(Ze,ir),pr=0;pr<_r.length;pr++){var Yr=_r[pr];if(Yr._mainAxis===rr&&yr(Yr))return!0}}function nr(Ze,Ye){for(var Bt=Ze._fullData,Ft=Ye._mainSubplot,rr=Ye._id.charAt(0),sr=0;sr<Bt.length;sr++){var fr=Bt[sr];if(fr.visible===!0&&fr.xaxis+fr.yaxis===Ft&&(L.traceIs(fr,"bar-like")&&fr.orientation==={x:"h",y:"v"}[rr]||fr.fill&&fr.fill.charAt(fr.fill.length-1)===rr))return!0}return!1}function wr(Ze){var Ye=d.select(Ze),Bt=Ye.select(".text-math-group");return Bt.empty()?Ye.select("text"):Bt}J.allowAutoMargin=function(Ze){for(var Ye=J.list(Ze,"",!0),Bt=0;Bt<Ye.length;Bt++){var Ft=Ye[Bt];Ft.automargin&&(n.allowAutoMargin(Ze,dr(Ft)),Ft.mirror&&n.allowAutoMargin(Ze,bt(Ft))),L.getComponentMethod("rangeslider","isVisible")(Ft)&&n.allowAutoMargin(Ze,ut(Ft))}};function dr(Ze){return Ze._id+".automargin"}function bt(Ze){return dr(Ze)+".mirror"}function ut(Ze){return Ze._id+".rangeslider"}J.swap=function(Ze,Ye){for(var Bt=Mt(Ze,Ye),Ft=0;Ft<Bt.length;Ft++)kt(Ze,Bt[Ft].x,Bt[Ft].y)};function Mt(Ze,Ye){var Bt=[],Ft,rr;for(Ft=0;Ft<Ye.length;Ft++){var sr=[],fr=Ze._fullData[Ye[Ft]].xaxis,ir=Ze._fullData[Ye[Ft]].yaxis;if(!(!fr||!ir)){for(rr=0;rr<Bt.length;rr++)(Bt[rr].x.indexOf(fr)!==-1||Bt[rr].y.indexOf(ir)!==-1)&&sr.push(rr);if(!sr.length){Bt.push({x:[fr],y:[ir]});continue}var Vt=Bt[sr[0]],yr;if(sr.length>1)for(rr=1;rr<sr.length;rr++)yr=Bt[sr[rr]],_t(Vt.x,yr.x),_t(Vt.y,yr.y);_t(Vt.x,[fr]),_t(Vt.y,[ir])}}return Bt}function _t(Ze,Ye){for(var Bt=0;Bt<Ye.length;Bt++)Ze.indexOf(Ye[Bt])===-1&&Ze.push(Ye[Bt])}function kt(Ze,Ye,Bt){var Ft=[],rr=[],sr=Ze.layout,fr,ir;for(fr=0;fr<Ye.length;fr++)Ft.push(J.getFromId(Ze,Ye[fr]));for(fr=0;fr<Bt.length;fr++)rr.push(J.getFromId(Ze,Bt[fr]));var Vt=Object.keys(a),yr=["anchor","domain","overlaying","position","side","tickangle","editType"],br=["linear","log"];for(fr=0;fr<Vt.length;fr++){var _r=Vt[fr],pr=Ft[0][_r],Yr=rr[0][_r],zr=!0,Nr=!1,xn=!1;if(!(_r.charAt(0)==="_"||typeof pr=="function"||yr.indexOf(_r)!==-1)){for(ir=1;ir<Ft.length&&zr;ir++){var tn=Ft[ir][_r];_r==="type"&&br.indexOf(pr)!==-1&&br.indexOf(tn)!==-1&&pr!==tn?Nr=!0:tn!==pr&&(zr=!1)}for(ir=1;ir<rr.length&&zr;ir++){var On=rr[ir][_r];_r==="type"&&br.indexOf(Yr)!==-1&&br.indexOf(On)!==-1&&Yr!==On?xn=!0:rr[ir][_r]!==Yr&&(zr=!1)}zr&&(Nr&&(sr[Ft[0]._name].type="linear"),xn&&(sr[rr[0]._name].type="linear"),Xt(sr,_r,Ft,rr,Ze._fullLayout._dfltTitle))}}for(fr=0;fr<Ze._fullLayout.annotations.length;fr++){var zn=Ze._fullLayout.annotations[fr];Ye.indexOf(zn.xref)!==-1&&Bt.indexOf(zn.yref)!==-1&&w.swapAttrs(sr.annotations[fr],["?"])}}function Xt(Ze,Ye,Bt,Ft,rr){var sr=w.nestedProperty,fr=sr(Ze[Bt[0]._name],Ye).get(),ir=sr(Ze[Ft[0]._name],Ye).get(),Vt;for(Ye==="title"&&(fr&&fr.text===rr.x&&(fr.text=rr.y),ir&&ir.text===rr.y&&(ir.text=rr.x)),Vt=0;Vt<Bt.length;Vt++)sr(Ze,Bt[Vt]._name+"."+Ye).set(ir);for(Vt=0;Vt<Ft.length;Vt++)sr(Ze,Ft[Vt]._name+"."+Ye).set(fr)}function Wt(Ze){return Ze._id==="angularaxis"}function Ht(Ze,Ye){for(var Bt=Ye._rangebreaks.length,Ft=0;Ft<Bt;Ft++){var rr=Ye._rangebreaks[Ft];if(Ze>=rr.min&&Ze<rr.max)return rr.max}return Ze}function tr(Ze){return(Ze.ticklabelposition||"").indexOf("inside")!==-1}function gr(Ze,Ye){tr(Ze._anchorAxis||{})&&Ze._hideCounterAxisInsideTickLabels&&Ze._hideCounterAxisInsideTickLabels(Ye)}function Qt(Ze,Ye,Bt,Ft){var rr=Ze.anchor!=="free"&&(Ze.overlaying===void 0||Ze.overlaying===!1)?Ze._id:Ze.overlaying,sr;Ft?sr=Ze.side==="right"?Ye:-Ye:sr=Ye,rr in Bt||(Bt[rr]={}),Ze.side in Bt[rr]||(Bt[rr][Ze.side]=0),Bt[rr][Ze.side]+=sr}function mr(Ze,Ye){return Ze.autoshift?Ye[Ze.overlaying][Ze.side]:Ze.shift||0}},52976:function(H,U,e){var d=e(38248),C=e(3400),n=e(39032).BADNUM,L=C.isArrayOrTypedArray,w=C.isDateTime,v=C.cleanNumber,g=Math.round;H.exports=function(m,h,T){var c=m,o=T.noMultiCategory;if(L(c)&&!c.length)return"-";if(!o&&f(c))return"multicategory";if(o&&Array.isArray(c[0])){for(var p=[],x=0;x<c.length;x++)if(L(c[x]))for(var A=0;A<c[x].length;A++)p.push(c[x][A]);c=p}if(i(c,h))return"date";var _=T.autotypenumbers!=="strict";return u(c,_)?"category":t(c,_)?"linear":"-"};function r(l,m){return m?d(l):typeof l=="number"}function t(l,m){for(var h=l.length,T=0;T<h;T++)if(r(l[T],m))return!0;return!1}function i(l,m){for(var h=l.length,T=a(h),c=0,o=0,p={},x=0;x<h;x+=T){var A=g(x),_=l[A],y=String(_);p[y]||(p[y]=1,w(_,m)&&c++,d(_)&&o++)}return c>o*2}function a(l){return Math.max(1,(l-1)/1e3)}function u(l,m){for(var h=l.length,T=a(h),c=0,o=0,p={},x=0;x<h;x+=T){var A=g(x),_=l[A],y=String(_);if(!p[y]){p[y]=1;var E=typeof _;E==="boolean"?o++:(m?v(_)!==n:E==="number")?c++:E==="string"&&o++}}return o>c*2}function f(l){return L(l[0])&&L(l[1])}},28336:function(H,U,e){var d=e(38248),C=e(24040),n=e(3400),L=e(31780),w=e(51272),v=e(94724),g=e(26332),r=e(25404),t=e(95936),i=e(42568),a=e(22416),u=e(42136),f=e(96312),l=e(78344),m=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;H.exports=function(x,A,_,y,E){var M=y.letter,s=y.font||{},S=y.splomStash||{},b=_("visible",!y.visibleDflt),I=A._template||{},D=A.type||I.type||"-",B;if(D==="date"){var k=C.getComponentMethod("calendars","handleDefaults");k(x,A,"calendar",y.calendar),y.noTicklabelmode||(B=_("ticklabelmode"))}var F="";(!y.noTicklabelposition||D==="multicategory")&&(F=n.coerce(x,A,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:B==="period"?["outside","inside"]:M==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),y.noTicklabeloverflow||_("ticklabeloverflow",F.indexOf("inside")!==-1?"hide past domain":D==="category"||D==="multicategory"?"allow":"hide past div"),l(A,E),f(x,A,_,y),a(x,A,_,y),D!=="category"&&!y.noHover&&_("hoverformat");var N=_("color"),O=N!==v.color.dflt?N:s.color,V=S.label||E._dfltTitle[M];if(i(x,A,_,D,y),!b)return A;_("title.text",V),n.coerceFont(_,"title.font",{family:s.family,weight:s.weight,style:s.style,variant:s.variant,size:n.bigFont(s.size),color:O}),g(x,A,_,D);var X=y.hasMinor;if(X&&(L.newContainer(A,"minor"),g(x,A,_,D,{isMinor:!0})),t(x,A,_,D,y),r(x,A,_,y),X){var ee=y.isMinor;y.isMinor=!0,r(x,A,_,y),y.isMinor=ee}u(x,A,_,{dfltColor:N,bgColor:y.bgColor,showGrid:y.showGrid,hasMinor:X,attributes:v}),X&&!A.minor.ticks&&!A.minor.showgrid&&delete A.minor,(A.showline||A.ticks)&&_("mirror");var ne=D==="multicategory";if(!y.noTickson&&(D==="category"||ne)&&(A.ticks||A.showgrid)){var q;ne&&(q="boundaries");var se=_("tickson",q);se==="boundaries"&&delete A.ticklabelposition}if(ne){var J=_("showdividers");J&&(_("dividercolor"),_("dividerwidth"))}if(D==="date")if(w(x,A,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!A.rangebreaks.length)delete A.rangebreaks;else{for(var Z=0;Z<A.rangebreaks.length;Z++)if(A.rangebreaks[Z].pattern===m){A._hasDayOfWeekBreaks=!0;break}if(l(A,E),E._has("scattergl")||E._has("splom"))for(var te=0;te<y.data.length;te++){var Y=y.data[te];(Y.type==="scattergl"||Y.type==="splom")&&(Y.visible=!1,n.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}return A};function T(p,x,A){function _(B,k){return n.coerce(p,x,v.rangebreaks,B,k)}var y=_("enabled");if(y){var E=_("bounds");if(E&&E.length>=2){var M="",s,S;if(E.length===2){for(s=0;s<2;s++)if(S=o(E[s]),S){M=m;break}}var b=_("pattern",M);if(b===m)for(s=0;s<2;s++)S=o(E[s]),S&&(x.bounds[s]=E[s]=S-1);if(b)for(s=0;s<2;s++)switch(S=E[s],b){case m:if(!d(S)){x.enabled=!1;return}if(S=+S,S!==Math.floor(S)||S<0||S>=7){x.enabled=!1;return}x.bounds[s]=E[s]=S;break;case h:if(!d(S)){x.enabled=!1;return}if(S=+S,S<0||S>24){x.enabled=!1;return}x.bounds[s]=E[s]=S;break}if(A.autorange===!1){var I=A.range;if(I[0]<I[1]){if(E[0]<I[0]&&E[1]>I[1]){x.enabled=!1;return}}else if(E[0]>I[0]&&E[1]<I[1]){x.enabled=!1;return}}}else{var D=_("values");if(D&&D.length)_("dvalue");else{x.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(p){if(typeof p=="string")return c[p.substr(0,3).toLowerCase()]}},29736:function(H,U,e){var d=e(26880),C=d.FORMAT_LINK,n=d.DATE_FORMAT_LINK;function L(g,r){return{valType:"string",dflt:"",editType:"none",description:(r?w:v)("hover text",g)+["By default the values are formatted using "+(r?"generic number format":"`"+g+"axis.hoverformat`")+"."].join(" ")}}function w(g,r){return["Sets the "+g+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+C+"."].join(" ")}function v(g,r){return w(g,r)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}H.exports={axisHoverFormat:L,descriptionOnlyNumbers:w,descriptionWithDates:v}},79811:function(H,U,e){var d=e(24040),C=e(33816);U.id2name=function(w){if(!(typeof w!="string"||!w.match(C.AX_ID_PATTERN))){var v=w.split(" ")[0].substr(1);return v==="1"&&(v=""),w.charAt(0)+"axis"+v}},U.name2id=function(w){if(w.match(C.AX_NAME_PATTERN)){var v=w.substr(5);return v==="1"&&(v=""),w.charAt(0)+v}},U.cleanId=function(w,v,g){var r=/( domain)$/.test(w);if(!(typeof w!="string"||!w.match(C.AX_ID_PATTERN))&&!(v&&w.charAt(0)!==v)&&!(r&&!g)){var t=w.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),w.charAt(0)+t+(r&&g?" domain":"")}},U.list=function(L,w,v){var g=L._fullLayout;if(!g)return[];var r=U.listIds(L,w),t=new Array(r.length),i;for(i=0;i<r.length;i++){var a=r[i];t[i]=g[a.charAt(0)+"axis"+a.substr(1)]}if(!v){var u=g._subplots.gl3d||[];for(i=0;i<u.length;i++){var f=g[u[i]];w?t.push(f[w+"axis"]):t.push(f.xaxis,f.yaxis,f.zaxis)}}return t},U.listIds=function(L,w){var v=L._fullLayout;if(!v)return[];var g=v._subplots;return w?g[w+"axis"]:g.xaxis.concat(g.yaxis)},U.getFromId=function(L,w,v){var g=L._fullLayout;return w=w===void 0||typeof w!="string"?w:w.replace(" domain",""),v==="x"?w=w.replace(/y[0-9]*/,""):v==="y"&&(w=w.replace(/x[0-9]*/,"")),g[U.id2name(w)]},U.getFromTrace=function(L,w,v){var g=L._fullLayout,r=null;if(d.traceIs(w,"gl3d")){var t=w.scene;t.substr(0,5)==="scene"&&(r=g[t][v+"axis"])}else r=U.getFromId(L,w[v+"axis"]||v);return r},U.idSort=function(L,w){var v=L.charAt(0),g=w.charAt(0);return v!==g?v>g?1:-1:+(L.substr(1)||1)-+(w.substr(1)||1)},U.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function n(L,w){if(w&&w.length){for(var v=0;v<w.length;v++)if(w[v][L])return!0}return!1}U.isLinked=function(L,w){return n(w,L._axisMatchGroups)||n(w,L._axisConstraintGroups)}},22416:function(H,U,e){var d=e(38116).isTypedArraySpec;function C(n,L){var w=L.dataAttr||n._id.charAt(0),v={},g,r,t;if(L.axData)g=L.axData;else for(g=[],r=0;r<L.data.length;r++){var i=L.data[r];i[w+"axis"]===n._id&&g.push(i)}for(r=0;r<g.length;r++){var a=g[r][w];for(t=0;t<a.length;t++){var u=a[t];u!=null&&(v[u]=1)}}return Object.keys(v)}H.exports=function(L,w,v,g){if(w.type==="category"){var r=L.categoryarray,t=Array.isArray(r)&&r.length>0||d(r),i;t&&(i="array");var a=v("categoryorder",i),u;a==="array"&&(u=v("categoryarray")),!t&&a==="array"&&(a=w.categoryorder="trace"),a==="trace"?w._initialCategories=[]:a==="array"?w._initialCategories=u.slice():(u=C(w,g).sort(),a==="category ascending"?w._initialCategories=u:a==="category descending"&&(w._initialCategories=u.reverse()))}}},98728:function(H,U,e){var d=e(38248),C=e(3400),n=e(39032),L=n.ONEDAY,w=n.ONEWEEK;U.dtick=function(v,g){var r=g==="log",t=g==="date",i=g==="category",a=t?L:1;if(!v)return a;if(d(v))return v=Number(v),v<=0?a:i?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return a;var u=v.charAt(0),f=v.substr(1);return f=d(f)?Number(f):0,f<=0||!(t&&u==="M"&&f===Math.round(f)||r&&u==="L"||r&&u==="D"&&(f===1||f===2))?a:v},U.tick0=function(v,g,r,t){if(g==="date")return C.cleanDate(v,C.dateTick0(r,t%w===0?1:0));if(!(t==="D1"||t==="D2"))return d(v)?Number(v):0}},33816:function(H,U,e){var d=e(53756).counter;H.exports={idRegex:{x:d("x","( domain)?"),y:d("y","( domain)?")},attrRegex:d("[xy]axis"),xAxisMatch:d("xaxis"),yAxisMatch:d("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(H,U,e){var d=e(3400),C=e(19280),n=e(79811).id2name,L=e(94724),w=e(21160),v=e(78344),g=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;U.handleDefaults=function(h,T,c){var o=c.axIds,p=c.axHasImage,x=T._axisConstraintGroups=[],A=T._axisMatchGroups=[],_,y,E,M,s,S,b,I;for(_=0;_<o.length;_++)M=n(o[_]),s=h[M],S=T[M],t(s,S,{axIds:o,layoutOut:T,hasImage:p[M]});function D(ne,q){for(_=0;_<ne.length;_++){y=ne[_];for(E in y)T[n(E)][q]=y}}for(D(A,"_matchGroup"),_=0;_<x.length;_++){y=x[_];for(E in y)if(S=T[n(E)],S.fixedrange){for(var B in y){var k=n(B);(h[k]||{}).fixedrange===!1&&d.warn("fixedrange was specified as false for axis "+k+" but was overridden because another axis in its constraint group has fixedrange true"),T[k].fixedrange=!0}break}}for(_=0;_<x.length;){y=x[_];for(E in y){S=T[n(E)],S._matchGroup&&Object.keys(S._matchGroup).length===Object.keys(y).length&&(x.splice(_,1),_--);break}_++}D(x,"_constraintGroup");var F=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],N=!1,O=!1;function V(){I=S[b],b==="rangebreaks"&&(O=S._hasDayOfWeekBreaks)}for(_=0;_<A.length;_++){y=A[_];for(var X=0;X<F.length;X++){b=F[X],I=null;var ee;for(E in y)if(M=n(E),s=h[M],S=T[M],b in S){if(!S.matches&&(ee=S,b in s)){V();break}I===null&&b in s&&V()}if(b==="range"&&I&&s.range&&s.range.length===2&&s.range[0]!==null&&s.range[1]!==null&&(N=!0),b==="autorange"&&I===null&&N&&(I=!1),I===null&&b in ee&&(I=ee[b]),I!==null)for(E in y)S=T[n(E)],S[b]=b==="range"?I.slice():I,b==="rangebreaks"&&(S._hasDayOfWeekBreaks=O,v(S,T))}}};function t(h,T,c){var o=c.axIds,p=c.layoutOut,x=c.hasImage,A=p._axisConstraintGroups,_=p._axisMatchGroups,y=T._id,E=y.charAt(0),M=((p._splomAxes||{})[E]||{})[y]||{},s=T._id,S=s.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function b(Z,te){return d.coerce(h,T,L,Z,te)}b("constrain",x?"domain":"range"),d.coerce(h,T,{constraintoward:{valType:"enumerated",values:S?["left","center","right"]:["bottom","middle","top"],dflt:S?"center":"middle"}},"constraintoward");var I=T.type,D,B,k=[];for(D=0;D<o.length;D++)if(B=o[D],B!==s){var F=p[n(B)];F.type===I&&k.push(B)}var N=a(A,s);if(N){var O=[];for(D=0;D<k.length;D++)B=k[D],N[B]||O.push(B);k=O}var V=k.length,X,ee;V&&(h.matches||M.matches)&&(X=d.coerce(h,T,{matches:{valType:"enumerated",values:k,dflt:k.indexOf(M.matches)!==-1?M.matches:void 0}},"matches"));var ne=x&&!S?T.anchor:void 0;if(V&&!X&&(h.scaleanchor||ne)&&(ee=d.coerce(h,T,{scaleanchor:{valType:"enumerated",values:k.concat([!1])}},"scaleanchor",ne)),X){T._matchGroup=u(_,s,X,1);var q=p[n(X)],se=i(p,T)/i(p,q);S!==(X.charAt(0)==="x")&&(se=(S?"x":"y")+se),u(A,s,X,se)}else h.matches&&o.indexOf(h.matches)!==-1&&d.warn("ignored "+T._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(ee){var J=b("scaleratio");J||(J=T.scaleratio=1),u(A,s,ee,J)}else h.scaleanchor&&o.indexOf(h.scaleanchor)!==-1&&d.warn("ignored "+T._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function i(h,T){var c=T.domain;return c||(c=h[n(T.overlaying)].domain),c[1]-c[0]}function a(h,T){for(var c=0;c<h.length;c++)if(h[c][T])return h[c];return null}function u(h,T,c,o){var p,x,A,_,y,E=a(h,T);E===null?(E={},E[T]=1,y=h.length,h.push(E)):y=h.indexOf(E);var M=Object.keys(E);for(p=0;p<h.length;p++)if(A=h[p],p!==y&&A[c]){var s=A[c];for(x=0;x<M.length;x++)_=M[x],A[_]=f(s,f(o,E[_]));h.splice(y,1);return}if(o!==1)for(x=0;x<M.length;x++){var S=M[x];E[S]=f(o,E[S])}E[c]=1}function f(h,T){var c="",o="",p,x;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],p=c.length,h=+h.substr(p)),typeof T=="string"&&(o=T.match(/^[xy]*/)[0],x=o.length,T=+T.substr(x));var A=h*T;return!p&&!x?A:!p||!x||c.charAt(0)===o.charAt(0)?c+o+h*T:p===x?A:(p>x?c.substr(x):o.substr(p))+A}function l(h,T){for(var c=T._size,o=c.h/c.w,p={},x=Object.keys(h),A=0;A<x.length;A++){var _=x[A],y=h[_];if(typeof y=="string"){var E=y.match(/^[xy]*/)[0],M=E.length;y=+y.substr(M);for(var s=E.charAt(0)==="y"?o:1/o,S=0;S<M;S++)y*=s}p[_]=y}return p}U.enforce=function(T){var c=T._fullLayout,o=c._axisConstraintGroups||[],p,x,A,_,y,E,M,s;for(p=0;p<o.length;p++){A=l(o[p],c);var S=Object.keys(A),b=1/0,I=0,D=1/0,B={},k={},F=!1;for(x=0;x<S.length;x++)_=S[x],k[_]=y=c[n(_)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),B[_]=E=Math.abs(y._m)/A[_],b=Math.min(b,E),(y.constrain==="domain"||!y._constraintShrinkable)&&(D=Math.min(D,E)),delete y._constraintShrinkable,I=Math.max(I,E),y.constrain==="domain"&&(F=!0);if(!(b>g*I&&!F)){for(x=0;x<S.length;x++)if(_=S[x],E=B[_],y=k[_],M=y.constrain,E!==D||M==="domain")if(s=E/D,M==="range")w(y,s);else{var N=y._inputDomain,O=(y.domain[1]-y.domain[0])/(N[1]-N[0]),V=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if(s/=O,s*V<1){y.domain=y._input.domain=N.slice(),w(y,s);continue}if(V<1&&(y.range=y._input.range=y._inputRange.slice(),s*=V),y.autorange){var X=y.r2l(y.range[0]),ee=y.r2l(y.range[1]),ne=(X+ee)/2,q=ne,se=ne,J=Math.abs(ee-ne),Z=ne-J*s*1.0001,te=ne+J*s*1.0001,Y=C.makePadFn(c,y,0),ie=C.makePadFn(c,y,1);m(y,s);var le=Math.abs(y._m),j=C.concatExtremes(T,y),K=j.min,ue=j.max,ae,he;for(he=0;he<K.length;he++)ae=K[he].val-Y(K[he])/le,ae>Z&&ae<q&&(q=ae);for(he=0;he<ue.length;he++)ae=ue[he].val+ie(ue[he])/le,ae<te&&ae>se&&(se=ae);var xe=(se-q)/(2*J);s/=xe,q=y.l2r(q),se=y.l2r(se),y.range=y._input.range=X<ee?[q,se]:[se,q]}m(y,s)}}}},U.getAxisGroup=function(T,c){for(var o=T._axisMatchGroups,p=0;p<o.length;p++){var x=o[p];if(x[c])return"g"+p}return c},U.clean=function(T,c){if(c._inputDomain){for(var o=!1,p=c._id,x=T._fullLayout._axisConstraintGroups,A=0;A<x.length;A++)if(x[A][p]){o=!0;break}(!o||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function m(h,T){var c=h._inputDomain,o=r[h.constraintoward],p=c[0]+(c[1]-c[0])*o;h.domain=h._input.domain=[p+(c[0]-p)/T,p+(c[1]-p)/T],h.setScale()}},51184:function(H,U,e){var d=e(33428),C=e(3400),n=C.numberFormat,L=e(49760),w=e(89184),v=e(24040),g=C.strTranslate,r=e(72736),t=e(76308),i=e(43616),a=e(93024),u=e(54460),f=e(93972),l=e(86476),m=e(72760),h=m.selectingOrDrawing,T=m.freeMode,c=e(84284).FROM_TL,o=e(73696),p=e(39172).redrawReglTraces,x=e(7316),A=e(79811).getFromId,_=e(22676).prepSelect,y=e(22676).clearOutline,E=e(22676).selectOnClick,M=e(21160),s=e(33816),S=s.MINDRAG,b=s.MINZOOM,I=!0;function D(ae,he,xe,Se,Ae,De,we,Ce){var be=ae._fullLayout._zoomlayer,Pe=we+Ce==="nsew",Ve=(we+Ce).length===1,Ge,Fe,He,ft,gt,ct,nt,dt,pt,wt,Tt,Ct,at,ze,je,Je,Xe,Oe,ke,Ke,Ie,pe,Te;xe+=he.yaxis._shift;function Ue(){if(Ge=he.xaxis,Fe=he.yaxis,pt=Ge._length,wt=Fe._length,nt=Ge._offset,dt=Fe._offset,He={},He[Ge._id]=Ge,ft={},ft[Fe._id]=Fe,we&&Ce)for(var ir=he.overlays,Vt=0;Vt<ir.length;Vt++){var yr=ir[Vt].xaxis;He[yr._id]=yr;var br=ir[Vt].yaxis;ft[br._id]=br}gt=ue(He),ct=ue(ft),at=F(gt,Ce),ze=F(ct,we),je=!ze&&!at,Ct=j(ae,ae._fullLayout._axisMatchGroups,He,ft),Tt=j(ae,ae._fullLayout._axisConstraintGroups,He,ft,Ct);var _r=Tt.isSubplotConstrained||Ct.isSubplotConstrained;Je=Ce||_r,Xe=we||_r;var pr=ae._fullLayout;Oe=pr._has("scattergl"),ke=pr._has("splom"),Ke=pr._has("svg")}Ue();var et=ee(ze+at,ae._fullLayout.dragmode,Pe),st=k(he,we+Ce+"drag",et,xe,Se,Ae,De);if(je&&!Pe)return st.onmousedown=null,st.style.pointerEvents="none",st;var lt={element:st,gd:ae,plotinfo:he};lt.prepFn=function(ir,Vt,yr){var br=lt.dragmode,_r=ae._fullLayout.dragmode;_r!==br&&(lt.dragmode=_r),Ue(),pe=ae._fullLayout._invScaleX,Te=ae._fullLayout._invScaleY,je||(Pe?ir.shiftKey?_r==="pan"?_r="zoom":h(_r)||(_r="pan"):ir.ctrlKey&&(_r="pan"):_r="pan"),T(_r)?lt.minDrag=1:lt.minDrag=void 0,h(_r)?(lt.xaxes=gt,lt.yaxes=ct,_(ir,Vt,yr,lt,_r)):(lt.clickFn=Jt,h(br)&&jt(),je||(_r==="zoom"?(lt.moveFn=Mt,lt.doneFn=kt,lt.minDrag=1,ut(ir,Vt,yr)):_r==="pan"&&(lt.moveFn=Qt,lt.doneFn=Bt))),ae._fullLayout._redrag=function(){var pr=ae._dragdata;if(pr&&pr.element===st){var Yr=ae._fullLayout.dragmode;h(Yr)||(Ue(),Ft([0,0,pt,wt]),lt.moveFn(pr.dx,pr.dy))}}};function jt(){lt.plotinfo.selection=!1,y(ae)}function Jt(ir,Vt){var yr=lt.gd;if(yr._fullLayout._activeShapeIndex>=0){yr._fullLayout._deactivateShape(yr);return}var br=yr._fullLayout.clickmode;if(Z(yr),ir===2&&!Ve&&Ye(),Pe)br.indexOf("select")>-1&&E(Vt,yr,gt,ct,he.id,lt),br.indexOf("event")>-1&&a.click(yr,Vt,he.id);else if(ir===1&&Ve){var _r=we?Fe:Ge,pr=we==="s"||Ce==="w"?0:1,Yr=_r._name+".range["+pr+"]",zr=N(_r,pr),Nr="left",xn="middle";if(_r.fixedrange)return;we?(xn=we==="n"?"top":"bottom",_r.side==="right"&&(Nr="right")):Ce==="e"&&(Nr="right"),yr._context.showAxisRangeEntryBoxes&&d.select(st).call(r.makeEditable,{gd:yr,immediate:!0,background:yr._fullLayout.paper_bgcolor,text:String(zr),fill:_r.tickfont?_r.tickfont.color:"#444",horizontalAlign:Nr,verticalAlign:xn}).on("edit",function(tn){var On=_r.d2r(tn);On!==void 0&&v.call("_guiRelayout",yr,Yr,On)})}}l.init(lt);var St,Rt,$t,Pr,xt,qt,nr,wr,dr,bt;function ut(ir,Vt,yr){var br=st.getBoundingClientRect();St=Vt-br.left,Rt=yr-br.top,ae._fullLayout._calcInverseTransform(ae);var _r=C.apply3DTransform(ae._fullLayout._invTransform)(St,Rt);St=_r[0],Rt=_r[1],$t={l:St,r:St,w:0,t:Rt,b:Rt,h:0},Pr=ae._hmpixcount?ae._hmlumcount/ae._hmpixcount:L(ae._fullLayout.plot_bgcolor).getLuminance(),xt="M0,0H"+pt+"V"+wt+"H0V0",qt=!1,nr="xy",bt=!1,wr=ne(be,Pr,nt,dt,xt),dr=q(be,nt,dt)}function Mt(ir,Vt){if(ae._transitioningWithDuration)return!1;var yr=Math.max(0,Math.min(pt,pe*ir+St)),br=Math.max(0,Math.min(wt,Te*Vt+Rt)),_r=Math.abs(yr-St),pr=Math.abs(br-Rt);$t.l=Math.min(St,yr),$t.r=Math.max(St,yr),$t.t=Math.min(Rt,br),$t.b=Math.max(Rt,br);function Yr(){nr="",$t.r=$t.l,$t.t=$t.b,dr.attr("d","M0,0Z")}if(Tt.isSubplotConstrained)_r>b||pr>b?(nr="xy",_r/pt>pr/wt?(pr=_r*wt/pt,Rt>br?$t.t=Rt-pr:$t.b=Rt+pr):(_r=pr*pt/wt,St>yr?$t.l=St-_r:$t.r=St+_r),dr.attr("d",le($t))):Yr();else if(Ct.isSubplotConstrained)if(_r>b||pr>b){nr="xy";var zr=Math.min($t.l/pt,(wt-$t.b)/wt),Nr=Math.max($t.r/pt,(wt-$t.t)/wt);$t.l=zr*pt,$t.r=Nr*pt,$t.b=(1-zr)*wt,$t.t=(1-Nr)*wt,dr.attr("d",le($t))}else Yr();else!ze||pr<Math.min(Math.max(_r*.6,S),b)?_r<S||!at?Yr():($t.t=0,$t.b=wt,nr="x",dr.attr("d",Y($t,Rt))):!at||_r<Math.min(pr*.6,b)?($t.l=0,$t.r=pt,nr="y",dr.attr("d",ie($t,St))):(nr="xy",dr.attr("d",le($t)));$t.w=$t.r-$t.l,$t.h=$t.b-$t.t,nr&&(bt=!0),ae._dragged=bt,se(wr,dr,$t,xt,qt,Pr),_t(),ae.emit("plotly_relayouting",Ie),qt=!0}function _t(){Ie={},(nr==="xy"||nr==="x")&&(O(gt,$t.l/pt,$t.r/pt,Ie,Tt.xaxes),mr("x",Ie)),(nr==="xy"||nr==="y")&&(O(ct,(wt-$t.b)/wt,(wt-$t.t)/wt,Ie,Tt.yaxes),mr("y",Ie))}function kt(){_t(),Z(ae),Bt(),te(ae)}var Xt=[0,0,pt,wt],Wt=null,Ht=s.REDRAWDELAY,tr=he.mainplot?ae._fullLayout._plots[he.mainplot]:he;function gr(ir){if(!ae._context._scrollZoom.cartesian&&!ae._fullLayout._enablescrollzoom)return;if(jt(),ae._transitioningWithDuration){ir.preventDefault(),ir.stopPropagation();return}Ue(),clearTimeout(Wt);var Vt=-ir.deltaY;if(isFinite(Vt)||(Vt=ir.wheelDelta/10),!isFinite(Vt)){C.log("Did not find wheel motion attributes: ",ir);return}var yr=Math.exp(-Math.min(Math.max(Vt,-20),20)/200),br=tr.draglayer.select(".nsewdrag").node().getBoundingClientRect(),_r=(ir.clientX-br.left)/br.width,pr=(br.bottom-ir.clientY)/br.height,Yr;function zr(Nr,xn,tn){if(Nr.fixedrange)return;var On=C.simpleMap(Nr.range,Nr.r2l),zn=On[0]+(On[1]-On[0])*xn;function Sr(Vr){return Nr.l2r(zn+(Vr-zn)*tn)}Nr.range=On.map(Sr)}if(Je){for(Ce||(_r=.5),Yr=0;Yr<gt.length;Yr++)zr(gt[Yr],_r,yr);mr("x"),Xt[2]*=yr,Xt[0]+=Xt[2]*_r*(1/yr-1)}if(Xe){for(we||(pr=.5),Yr=0;Yr<ct.length;Yr++)zr(ct[Yr],pr,yr);mr("y"),Xt[3]*=yr,Xt[1]+=Xt[3]*(1-pr)*(1/yr-1)}Ft(Xt),Ze(),ae.emit("plotly_relayouting",Ie),Wt=setTimeout(function(){ae._fullLayout&&(Xt=[0,0,pt,wt],Bt())},Ht),ir.preventDefault()}we.length*Ce.length!==1&&K(st,gr);function Qt(ir,Vt){if(ir=ir*pe,Vt=Vt*Te,ae._transitioningWithDuration)return;if(ae._fullLayout._replotting=!0,at==="ew"||ze==="ns"){var yr=at?-ir:0,br=ze?-Vt:0;if(Ct.isSubplotConstrained){if(at&&ze){var _r=(ir/pt-Vt/wt)/2;ir=_r*pt,Vt=-_r*wt,yr=-ir,br=-Vt}ze?yr=-br*pt/wt:br=-yr*wt/pt}at&&(V(gt,ir),mr("x")),ze&&(V(ct,Vt),mr("y")),Ft([yr,br,pt,wt]),Ze(),ae.emit("plotly_relayouting",Ie);return}function pr(Sr,Vr,qr){for(var Hr=1-Vr,Tn,bn,Hn=0;Hn<Sr.length;Hn++){var Gn=Sr[Hn];if(!Gn.fixedrange){Tn=Gn,bn=Gn._rl[Hr]+(Gn._rl[Vr]-Gn._rl[Hr])/X(qr/Gn._length);var ea=Gn.l2r(bn);ea!==!1&&ea!==void 0&&(Gn.range[Vr]=ea)}}return Tn._length*(Tn._rl[Vr]-bn)/(Tn._rl[Vr]-Tn._rl[Hr])}var Yr=at==="w"==(ze==="n")?1:-1;if(at&&ze&&(Tt.isSubplotConstrained||Ct.isSubplotConstrained)){var zr=(ir/pt+Yr*Vt/wt)/2;ir=zr*pt,Vt=Yr*zr*wt}var Nr,xn;if(at==="w"?ir=pr(gt,0,ir):at==="e"?ir=pr(gt,1,-ir):at||(ir=0),ze==="n"?Vt=pr(ct,1,Vt):ze==="s"?Vt=pr(ct,0,-Vt):ze||(Vt=0),Nr=at==="w"?ir:0,xn=ze==="n"?Vt:0,Tt.isSubplotConstrained&&!Ct.isSubplotConstrained||Ct.isSubplotConstrained&&at&&ze&&Yr>0){var tn;if(Ct.isSubplotConstrained||!at&&ze.length===1){for(tn=0;tn<gt.length;tn++)gt[tn].range=gt[tn]._r.slice(),M(gt[tn],1-Vt/wt);ir=Vt*pt/wt,Nr=ir/2}if(Ct.isSubplotConstrained||!ze&&at.length===1){for(tn=0;tn<ct.length;tn++)ct[tn].range=ct[tn]._r.slice(),M(ct[tn],1-ir/pt);Vt=ir*wt/pt,xn=Vt/2}}(!Ct.isSubplotConstrained||!ze)&&mr("x"),(!Ct.isSubplotConstrained||!at)&&mr("y");var On=pt-ir,zn=wt-Vt;Ct.isSubplotConstrained&&!(at&&ze)&&(at?(xn=Nr?0:ir*wt/pt,zn=On*wt/pt):(Nr=xn?0:Vt*pt/wt,On=zn*pt/wt)),Ft([Nr,xn,On,zn]),Ze(),ae.emit("plotly_relayouting",Ie)}function mr(ir,Vt){for(var yr=Ct.isSubplotConstrained?{x:ct,y:gt}[ir]:Ct[ir+"axes"],br=Ct.isSubplotConstrained?{x:gt,y:ct}[ir]:[],_r=0;_r<yr.length;_r++){var pr=yr[_r],Yr=pr._id,zr=Ct.xLinks[Yr]||Ct.yLinks[Yr],Nr=br[0]||He[zr]||ft[zr];Nr&&(Vt?(Vt[pr._name+".range[0]"]=Vt[Nr._name+".range[0]"],Vt[pr._name+".range[1]"]=Vt[Nr._name+".range[1]"]):pr.range=Nr.range.slice())}}function Ze(){var ir=[],Vt;function yr(Yr){for(Vt=0;Vt<Yr.length;Vt++)Yr[Vt].fixedrange||ir.push(Yr[Vt]._id)}function br(Yr,zr){for(Vt=0;Vt<Yr.length;Vt++){var Nr=Yr[Vt],xn=Nr[zr];!Nr.fixedrange&&xn.tickmode==="sync"&&ir.push(xn._id)}}for(Je&&(yr(gt),yr(Tt.xaxes),yr(Ct.xaxes),br(he.overlays,"xaxis")),Xe&&(yr(ct),yr(Tt.yaxes),yr(Ct.yaxes),br(he.overlays,"yaxis")),Ie={},Vt=0;Vt<ir.length;Vt++){var _r=ir[Vt],pr=A(ae,_r);u.drawOne(ae,pr,{skipTitle:!0}),Ie[pr._name+".range[0]"]=pr.range[0],Ie[pr._name+".range[1]"]=pr.range[1]}u.redrawComponents(ae,ir)}function Ye(){if(!ae._transitioningWithDuration){var ir=ae._context.doubleClick,Vt=[];at&&(Vt=Vt.concat(gt)),ze&&(Vt=Vt.concat(ct)),Ct.xaxes&&(Vt=Vt.concat(Ct.xaxes)),Ct.yaxes&&(Vt=Vt.concat(Ct.yaxes));var yr={},br,_r;if(ir==="reset+autosize")for(ir="autosize",_r=0;_r<Vt.length;_r++){br=Vt[_r];var pr=br._rangeInitial0,Yr=br._rangeInitial1,zr=pr!==void 0||Yr!==void 0;if(zr&&(pr!==void 0&&pr!==br.range[0]||Yr!==void 0&&Yr!==br.range[1])||!zr&&br.autorange!==!0){ir="reset";break}}if(ir==="autosize")for(_r=0;_r<Vt.length;_r++)br=Vt[_r],br.fixedrange||(yr[br._name+".autorange"]=!0);else if(ir==="reset"){for((at||Tt.isSubplotConstrained)&&(Vt=Vt.concat(Tt.xaxes)),ze&&!Tt.isSubplotConstrained&&(Vt=Vt.concat(Tt.yaxes)),Tt.isSubplotConstrained&&(at?ze||(Vt=Vt.concat(ct)):Vt=Vt.concat(gt)),_r=0;_r<Vt.length;_r++)if(br=Vt[_r],!br.fixedrange){var Nr=br._name,xn=br._autorangeInitial;br._rangeInitial0===void 0&&br._rangeInitial1===void 0?yr[Nr+".autorange"]=!0:br._rangeInitial0===void 0?(yr[Nr+".autorange"]=xn,yr[Nr+".range"]=[null,br._rangeInitial1]):br._rangeInitial1===void 0?(yr[Nr+".range"]=[br._rangeInitial0,null],yr[Nr+".autorange"]=xn):yr[Nr+".range"]=[br._rangeInitial0,br._rangeInitial1]}}ae.emit("plotly_doubleclick",null),v.call("_guiRelayout",ae,yr)}}function Bt(){Ft([0,0,pt,wt]),C.syncOrAsync([x.previousPromises,function(){ae._fullLayout._replotting=!1,v.call("_guiRelayout",ae,Ie)}],ae)}function Ft(ir){var Vt=ae._fullLayout,yr=Vt._plots,br=Vt._subplots.cartesian,_r,pr,Yr,zr;if(ke&&v.subplotsRegistry.splom.drag(ae),Oe){for(_r=0;_r<br.length;_r++)if(pr=yr[br[_r]],Yr=pr.xaxis,zr=pr.yaxis,pr._scene){var Nr=C.simpleMap(Yr.range,Yr.r2l),xn=C.simpleMap(zr.range,zr.r2l);Yr.limitRange&&Yr.limitRange(),zr.limitRange&&zr.limitRange(),Nr=Yr.range,xn=zr.range,pr._scene.update({range:[Nr[0],xn[0],Nr[1],xn[1]]})}}if((ke||Oe)&&(o(ae),p(ae)),Ke){var tn=ir[2]/Ge._length,On=ir[3]/Fe._length;for(_r=0;_r<br.length;_r++){pr=yr[br[_r]],Yr=pr.xaxis,zr=pr.yaxis;var zn=(Je||Ct.isSubplotConstrained)&&!Yr.fixedrange&&He[Yr._id],Sr=(Xe||Ct.isSubplotConstrained)&&!zr.fixedrange&&ft[zr._id],Vr,qr,Hr,Tn;if(zn?(Vr=tn,Hr=Ce||Ct.isSubplotConstrained?ir[0]:fr(Yr,Vr)):Ct.xaHash[Yr._id]?(Vr=tn,Hr=ir[0]*Yr._length/Ge._length):Ct.yaHash[Yr._id]?(Vr=On,Hr=ze==="ns"?-ir[1]*Yr._length/Fe._length:fr(Yr,Vr,{n:"top",s:"bottom"}[ze])):(Vr=rr(Yr,tn,On),Hr=sr(Yr,Vr)),Vr>1&&(Yr.maxallowed!==void 0&&Je===(Yr.range[0]<Yr.range[1]?"e":"w")||Yr.minallowed!==void 0&&Je===(Yr.range[0]<Yr.range[1]?"w":"e"))&&(Vr=1,Hr=0),Sr?(qr=On,Tn=we||Ct.isSubplotConstrained?ir[1]:fr(zr,qr)):Ct.yaHash[zr._id]?(qr=On,Tn=ir[1]*zr._length/Fe._length):Ct.xaHash[zr._id]?(qr=tn,Tn=at==="ew"?-ir[0]*zr._length/Ge._length:fr(zr,qr,{e:"right",w:"left"}[at])):(qr=rr(zr,tn,On),Tn=sr(zr,qr)),qr>1&&(zr.maxallowed!==void 0&&Xe===(zr.range[0]<zr.range[1]?"n":"s")||zr.minallowed!==void 0&&Xe===(zr.range[0]<zr.range[1]?"s":"n"))&&(qr=1,Tn=0),!(!Vr&&!qr)){Vr||(Vr=1),qr||(qr=1);var bn=Yr._offset-Hr/Vr,Hn=zr._offset-Tn/qr;pr.clipRect.call(i.setTranslate,Hr,Tn).call(i.setScale,Vr,qr),pr.plot.call(i.setTranslate,bn,Hn).call(i.setScale,1/Vr,1/qr),(Vr!==pr.xScaleFactor||qr!==pr.yScaleFactor)&&(i.setPointGroupScale(pr.zoomScalePts,Vr,qr),i.setTextPointsScale(pr.zoomScaleTxt,Vr,qr)),i.hideOutsideRangePoints(pr.clipOnAxisFalseTraces,pr),pr.xScaleFactor=Vr,pr.yScaleFactor=qr}}}}function rr(ir,Vt,yr){return ir.fixedrange?0:Je&&Tt.xaHash[ir._id]?Vt:Xe&&(Tt.isSubplotConstrained?Tt.xaHash:Tt.yaHash)[ir._id]?yr:0}function sr(ir,Vt){return Vt?(ir.range=ir._r.slice(),M(ir,Vt),fr(ir,Vt)):0}function fr(ir,Vt,yr){return ir._length*(1-Vt)*c[yr||ir.constraintoward||"middle"]}return st}function B(ae,he,xe,Se){var Ae=C.ensureSingle(ae.draglayer,he,xe,function(De){De.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ae.id)});return Ae.call(f,Se),Ae.node()}function k(ae,he,xe,Se,Ae,De,we){var Ce=B(ae,"rect",he,xe);return d.select(Ce).call(i.setRect,Se,Ae,De,we),Ce}function F(ae,he){for(var xe=0;xe<ae.length;xe++)if(!ae[xe].fixedrange)return he;return""}function N(ae,he){var xe=ae.range[he],Se=Math.abs(xe-ae.range[1-he]),Ae;return ae.type==="date"?xe:ae.type==="log"?(Ae=Math.ceil(Math.max(0,-Math.log(Se)/Math.LN10))+3,n("."+Ae+"g")(Math.pow(10,xe))):(Ae=Math.floor(Math.log(Math.abs(xe))/Math.LN10)-Math.floor(Math.log(Se)/Math.LN10)+4,n("."+String(Ae)+"g")(xe))}function O(ae,he,xe,Se,Ae){for(var De=0;De<ae.length;De++){var we=ae[De];if(!we.fixedrange)if(we.rangebreaks){var Ce=we._id.charAt(0)==="y",be=Ce?1-he:he,Pe=Ce?1-xe:xe;Se[we._name+".range[0]"]=we.l2r(we.p2l(be*we._length)),Se[we._name+".range[1]"]=we.l2r(we.p2l(Pe*we._length))}else{var Ve=we._rl[0],Ge=we._rl[1]-Ve;Se[we._name+".range[0]"]=we.l2r(Ve+Ge*he),Se[we._name+".range[1]"]=we.l2r(Ve+Ge*xe)}}if(Ae&&Ae.length){var Fe=(he+(1-xe))/2;O(Ae,Fe,1-Fe,Se,[])}}function V(ae,he){for(var xe=0;xe<ae.length;xe++){var Se=ae[xe];if(!Se.fixedrange){if(Se.rangebreaks){var Ae=0,De=Se._length,we=Se.p2l(Ae+he)-Se.p2l(Ae),Ce=Se.p2l(De+he)-Se.p2l(De),be=(we+Ce)/2;Se.range=[Se.l2r(Se._rl[0]-be),Se.l2r(Se._rl[1]-be)]}else Se.range=[Se.l2r(Se._rl[0]-he/Se._m),Se.l2r(Se._rl[1]-he/Se._m)];Se.limitRange&&Se.limitRange()}}}function X(ae){return 1-(ae>=0?Math.min(ae,.9):1/(1/Math.max(ae,-.3)+3.222))}function ee(ae,he,xe){return ae?ae==="nsew"?xe?"":he==="pan"?"move":"crosshair":ae.toLowerCase()+"-resize":"pointer"}function ne(ae,he,xe,Se,Ae){return ae.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",g(xe,Se)).attr("d",Ae+"Z")}function q(ae,he,xe){return ae.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",g(he,xe)).attr("d","M0,0Z")}function se(ae,he,xe,Se,Ae,De){ae.attr("d",Se+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),J(ae,he,Ae,De)}function J(ae,he,xe,Se){xe||(ae.transition().style("fill",Se>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function Z(ae){d.select(ae).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function te(ae){I&&ae.data&&ae._context.showTips&&(C.notifier(C._(ae,"Double-click to zoom back out"),"long"),I=!1)}function Y(ae,he){return"M"+(ae.l-.5)+","+(he-b-.5)+"h-3v"+(2*b+1)+"h3ZM"+(ae.r+.5)+","+(he-b-.5)+"h3v"+(2*b+1)+"h-3Z"}function ie(ae,he){return"M"+(he-b-.5)+","+(ae.t-.5)+"v-3h"+(2*b+1)+"v3ZM"+(he-b-.5)+","+(ae.b+.5)+"v3h"+(2*b+1)+"v-3Z"}function le(ae){var he=Math.floor(Math.min(ae.b-ae.t,ae.r-ae.l,b)/2);return"M"+(ae.l-3.5)+","+(ae.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(ae.r+3.5)+","+(ae.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(ae.r+3.5)+","+(ae.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(ae.l-3.5)+","+(ae.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function j(ae,he,xe,Se,Ae){for(var De=!1,we={},Ce={},be,Pe,Ve,Ge,Fe=(Ae||{}).xaHash,He=(Ae||{}).yaHash,ft=0;ft<he.length;ft++){var gt=he[ft];for(be in xe)if(gt[be]){for(Ve in gt)!(Ae&&(Fe[Ve]||He[Ve]))&&!(Ve.charAt(0)==="x"?xe:Se)[Ve]&&(we[Ve]=be);for(Pe in Se)!(Ae&&(Fe[Pe]||He[Pe]))&&gt[Pe]&&(De=!0)}for(Pe in Se)if(gt[Pe])for(Ge in gt)!(Ae&&(Fe[Ge]||He[Ge]))&&!(Ge.charAt(0)==="x"?xe:Se)[Ge]&&(Ce[Ge]=Pe)}De&&(C.extendFlat(we,Ce),Ce={});var ct={},nt=[];for(Ve in we){var dt=A(ae,Ve);nt.push(dt),ct[dt._id]=dt}var pt={},wt=[];for(Ge in Ce){var Tt=A(ae,Ge);wt.push(Tt),pt[Tt._id]=Tt}return{xaHash:ct,yaHash:pt,xaxes:nt,yaxes:wt,xLinks:we,yLinks:Ce,isSubplotConstrained:De}}function K(ae,he){if(!w)ae.onwheel!==void 0?ae.onwheel=he:ae.onmousewheel!==void 0?ae.onmousewheel=he:ae.isAddedWheelEvent||(ae.isAddedWheelEvent=!0,ae.addEventListener("wheel",he,{passive:!1}));else{var xe=ae.onwheel!==void 0?"wheel":"mousewheel";ae._onwheel&&ae.removeEventListener(xe,ae._onwheel),ae._onwheel=he,ae.addEventListener(xe,he,{passive:!1})}}function ue(ae){var he=[];for(var xe in ae)he.push(ae[xe]);return he}H.exports={makeDragBox:D,makeDragger:B,makeRectDragger:k,makeZoombox:ne,makeCorners:q,updateZoombox:se,xyCorners:le,transitionZoombox:J,removeZoombox:Z,showDoubleClickNotifier:te,attachWheelEventHandler:K}},42464:function(H,U,e){var d=e(33428),C=e(93024),n=e(86476),L=e(93972),w=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;U.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){d.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var i=Object.keys(t._plots||{}).sort(function(u,f){if((t._plots[u].mainplot&&!0)===(t._plots[f].mainplot&&!0)){var l=u.split("y"),m=f.split("y");return l[0]===m[0]?Number(l[1]||1)-Number(m[1]||1):Number(l[0]||1)-Number(m[0]||1)}return t._plots[u].mainplot?1:-1});i.forEach(function(u){var f=t._plots[u],l=f.xaxis,m=f.yaxis;if(!f.mainplot){var h=w(r,f,l._offset,m._offset,l._length,m._length,"ns","ew");h.onmousemove=function(o){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===u&&r._fullLayout._plots[u]&&C.hover(r,o,u)},C.hover(r,o,u),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=u},h.onmouseout=function(o){r._dragging||(r._fullLayout._hoversubplot=null,n.unhover(r,o))},r._context.showAxisDragHandles&&(w(r,f,l._offset-v,m._offset-v,v,v,"n","w"),w(r,f,l._offset+l._length,m._offset-v,v,v,"n","e"),w(r,f,l._offset-v,m._offset+m._length,v,v,"s","w"),w(r,f,l._offset+l._length,m._offset+m._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(u===l._mainSubplot){var T=l._mainLinePosition;l.side==="top"&&(T-=v),w(r,f,l._offset+l._length*.1,T,l._length*.8,v,"","ew"),w(r,f,l._offset,T,l._length*.1,v,"","w"),w(r,f,l._offset+l._length*.9,T,l._length*.1,v,"","e")}if(u===m._mainSubplot){var c=m._mainLinePosition;m.side!=="right"&&(c-=v),w(r,f,c,m._offset+m._length*.1,v,m._length*.8,"ns",""),w(r,f,c,m._offset+m._length*.9,v,m._length*.1,"s",""),w(r,f,c,m._offset,v,m._length*.1,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(u){u.target=r._fullLayout._lasthover,C.hover(r,u,t._hoversubplot)},a.onclick=function(u){u.target=r._fullLayout._lasthover,C.click(r,u)},a.onmousedown=function(u){r._fullLayout._lasthover.onmousedown(u)},U.updateFx(r)}},U.updateFx=function(g){var r=g._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";L(r._draggers,t)}},36632:function(H,U,e){var d=e(24040),C=e(3400),n=e(79811);H.exports=function(w){return function(g,r){var t=g[w];if(Array.isArray(t))for(var i=d.subplotsRegistry.cartesian,a=i.idRegex,u=r._subplots,f=u.xaxis,l=u.yaxis,m=u.cartesian,h=r._has("cartesian")||r._has("gl2d"),T=0;T<t.length;T++){var c=t[T];if(C.isPlainObject(c)){var o=n.cleanId(c.xref,"x",!1),p=n.cleanId(c.yref,"y",!1),x=a.x.test(o),A=a.y.test(p);if(x||A){h||C.pushUnique(r._basePlotModules,i);var _=!1;x&&f.indexOf(o)===-1&&(f.push(o),_=!0),A&&l.indexOf(p)===-1&&(l.push(p),_=!0),_&&x&&A&&m.push(o+p)}}}}}},57952:function(H,U,e){var d=e(33428),C=e(24040),n=e(3400),L=e(7316),w=e(43616),v=e(84888)._M,g=e(79811),r=e(33816),t=e(9616),i=n.ensureSingle;function a(T,c,o){return n.ensureSingle(T,c,o,function(p){p.datum(o)})}U.name="cartesian",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=r.idRegex,U.attrRegex=r.attrRegex,U.attributes=e(26720),U.layoutAttributes=e(94724),U.supplyLayoutDefaults=e(67352),U.transitionAxes=e(73736),U.finalizeSubplots=function(T,c){var o=c._subplots,p=o.xaxis,x=o.yaxis,A=o.cartesian,_=A.concat(o.gl2d||[]),y={},E={},M,s,S;for(M=0;M<_.length;M++){var b=_[M].split("y");y[b[0]]=1,E["y"+b[1]]=1}for(M=0;M<p.length;M++)s=p[M],y[s]||(S=(T[g.id2name(s)]||{}).anchor,r.idRegex.y.test(S)||(S="y"),A.push(s+S),_.push(s+S),E[S]||(E[S]=1,n.pushUnique(x,S)));for(M=0;M<x.length;M++)S=x[M],E[S]||(s=(T[g.id2name(S)]||{}).anchor,r.idRegex.x.test(s)||(s="x"),A.push(s+S),_.push(s+S),y[s]||(y[s]=1,n.pushUnique(p,s)));if(!_.length){s="",S="";for(var I in T)if(r.attrRegex.test(I)){var D=I.charAt(0);D==="x"?(!s||+I.substr(5)<+s.substr(5))&&(s=I):(!S||+I.substr(5)<+S.substr(5))&&(S=I)}s=s?g.name2id(s):"x",S=S?g.name2id(S):"y",p.push(s),x.push(S),A.push(s+S)}},U.plot=function(T,c,o,p){var x=T._fullLayout,A=x._subplots.cartesian,_=T.calcdata,y;if(!Array.isArray(c))for(c=[],y=0;y<_.length;y++)c.push(y);for(y=0;y<A.length;y++){for(var E=A[y],M=x._plots[E],s=[],S,b=0;b<_.length;b++){var I=_[b],D=I[0].trace;D.xaxis+D.yaxis===E&&((c.indexOf(D.index)!==-1||D.carpet)&&(S&&S[0].trace.xaxis+S[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(D.fill)!==-1&&s.indexOf(S)===-1&&s.push(S),s.push(I)),S=I)}u(T,M,s,o,p)}};function u(T,c,o,p,x){for(var A=r.traceLayerClasses,_=T._fullLayout,y=_._modules,E,M,s,S={},b=0;b<o.length;b++){var I=o[b][0].trace,D=I.zorder||0;S[D]||(S[D]=[]),S[D].push(o[b])}for(var B=[],k=[],F=Object.keys(S).map(Number).sort(n.sorterAsc),N=0;N<F.length;N++)for(var O=F[N],V=0;V<y.length;V++){E=y[V];var X=E.name,ee=C.modules[X].categories;if(ee.svg){var ne=E.layerName||X+"layer",q=ne+(N?Number(N)+1:""),se=E.plot;M=v(o,se,O),s=M[0],o=M[1],s.length&&B.push({i:A.indexOf(ne),zorder:N,className:q,plotMethod:se,cdModule:s}),ee.zoomScale&&k.push("."+q)}}B.sort(function(te,Y){return(te.zorder||0)-(Y.zorder||0)||te.i-Y.i});var J=c.plot.selectAll("g.mlayer").data(B,function(te){return te.className});if(J.enter().append("g").attr("class",function(te){return te.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),J.exit().remove(),J.order(),J.each(function(te){var Y=d.select(this),ie=te.className;te.plotMethod(T,c,te.cdModule,Y,p,x),r.clipOnAxisFalseQuery.indexOf("."+ie)===-1&&w.setClipUrl(Y,c.layerClipId,T)}),_._has("scattergl")&&(E=C.getModule("scattergl"),s=v(o,E)[0],E.plot(T,c,s)),!T._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),k.length)){var Z=c.plot.selectAll(k.join(",")).selectAll(".trace");c.zoomScalePts=Z.selectAll("path.point"),c.zoomScaleTxt=Z.selectAll(".textpoint")}}U.clean=function(T,c,o,p){var x=p._plots||{},A=c._plots||{},_=p._subplots||{},y,E,M;if(p._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(M in x)y=x[M],y.plotgroup&&y.plotgroup.remove();var s=p._has&&p._has("gl"),S=c._has&&c._has("gl");if(s&&!S)for(M in x)y=x[M],y._scene&&y._scene.destroy();if(_.xaxis&&_.yaxis){var b=g.listIds({_fullLayout:p});for(E=0;E<b.length;E++){var I=b[E];c[g.id2name(I)]||p._infolayer.selectAll(".g-"+I+"title").remove()}}var D=p._has&&p._has("cartesian"),B=c._has&&c._has("cartesian");if(D&&!B)m(p._cartesianlayer.selectAll(".subplot"),p),p._defs.selectAll(".axesclip").remove(),delete p._axisConstraintGroups,delete p._axisMatchGroups;else if(_.cartesian)for(E=0;E<_.cartesian.length;E++){var k=_.cartesian[E];if(!A[k]){var F="."+k+",."+k+"-x,."+k+"-y";p._cartesianlayer.selectAll(F).remove(),h(k,p)}}},U.drawFramework=function(T){var c=T._fullLayout,o=f(T),p=c._cartesianlayer.selectAll(".subplot").data(o,String);p.enter().append("g").attr("class",function(x){return"subplot "+x[0]}),p.order(),p.exit().call(m,c),p.each(function(x){var A=x[0],_=c._plots[A];_.plotgroup=d.select(this),l(T,_),_.draglayer=i(c._draggers,"g",A)})},U.rangePlot=function(T,c,o){l(T,c),u(T,c,o),L.style(T)};function f(T){var c=T._fullLayout,o=c._subplots.cartesian,p=o.length,x,A,_,y,E,M,s=[],S=[];for(x=0;x<p;x++){_=o[x],y=c._plots[_],E=y.xaxis,M=y.yaxis;var b=E._mainAxis,I=M._mainAxis,D=b._id+I._id,B=c._plots[D];y.overlays=[],D!==_&&B?(y.mainplot=D,y.mainplotinfo=B,S.push(_)):(y.mainplot=void 0,y.mainplotinfo=void 0,s.push(_))}for(x=0;x<S.length;x++)_=S[x],y=c._plots[_],y.mainplotinfo.overlays.push(y);var k=s.concat(S),F=new Array(p);for(x=0;x<p;x++){_=k[x],y=c._plots[_],E=y.xaxis,M=y.yaxis;var N=[_,E.layer,M.layer,E.overlaying||"",M.overlaying||""];for(A=0;A<y.overlays.length;A++)N.push(y.overlays[A].id);F[x]=N}return F}function l(T,c){var o=c.plotgroup,p=c.id,x=r.layerValue2layerClass[c.xaxis.layer],A=r.layerValue2layerClass[c.yaxis.layer],_=T._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var M=c.mainplotinfo,s=M.plotgroup,S=p+"-x",b=p+"-y";c.minorGridlayer=M.minorGridlayer,c.gridlayer=M.gridlayer,c.zerolinelayer=M.zerolinelayer,i(M.overlinesBelow,"path",S),i(M.overlinesBelow,"path",b),i(M.overaxesBelow,"g",S),i(M.overaxesBelow,"g",b),c.plot=i(M.overplot,"g",p),i(M.overlinesAbove,"path",S),i(M.overlinesAbove,"path",b),i(M.overaxesAbove,"g",S),i(M.overaxesAbove,"g",b),c.xlines=s.select(".overlines-"+x).select("."+S),c.ylines=s.select(".overlines-"+A).select("."+b),c.xaxislayer=s.select(".overaxes-"+x).select("."+S),c.yaxislayer=s.select(".overaxes-"+A).select("."+b)}else if(_)c.xlines=i(o,"path","xlines-above"),c.ylines=i(o,"path","ylines-above"),c.xaxislayer=i(o,"g","xaxislayer-above"),c.yaxislayer=i(o,"g","yaxislayer-above");else{var y=i(o,"g","layer-subplot");c.shapelayer=i(y,"g","shapelayer"),c.imagelayer=i(y,"g","imagelayer"),c.minorGridlayer=i(o,"g","minor-gridlayer"),c.gridlayer=i(o,"g","gridlayer"),c.zerolinelayer=i(o,"g","zerolinelayer");var E=i(o,"g","layer-between");c.shapelayerBetween=i(E,"g","shapelayer"),c.imagelayerBetween=i(E,"g","imagelayer"),i(o,"path","xlines-below"),i(o,"path","ylines-below"),c.overlinesBelow=i(o,"g","overlines-below"),i(o,"g","xaxislayer-below"),i(o,"g","yaxislayer-below"),c.overaxesBelow=i(o,"g","overaxes-below"),c.plot=i(o,"g","plot"),c.overplot=i(o,"g","overplot"),c.xlines=i(o,"path","xlines-above"),c.ylines=i(o,"path","ylines-above"),c.overlinesAbove=i(o,"g","overlines-above"),i(o,"g","xaxislayer-above"),i(o,"g","yaxislayer-above"),c.overaxesAbove=i(o,"g","overaxes-above"),c.xlines=o.select(".xlines-"+x),c.ylines=o.select(".ylines-"+A),c.xaxislayer=o.select(".xaxislayer-"+x),c.yaxislayer=o.select(".yaxislayer-"+A)}_||(a(c.minorGridlayer,"g",c.xaxis._id),a(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(I){return I[0]}).sort(g.idSort),a(c.gridlayer,"g",c.xaxis._id),a(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(I){return I[0]}).sort(g.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function m(T,c){if(T){var o={};T.each(function(E){var M=E[0],s=d.select(this);s.remove(),h(M,c),o[M]=!0});for(var p in c._plots)for(var x=c._plots[p],A=x.overlays||[],_=0;_<A.length;_++){var y=A[_];o[y.id]&&y.plot.selectAll(".trace").remove()}}}function h(T,c){c._draggers.selectAll("g."+T).remove(),c._defs.select("#clip"+c._uid+T+"plot").remove()}U.toSVG=function(T){var c=T._fullLayout._glimages,o=d.select(T).selectAll(".svg-container"),p=o.filter(function(A,_){return _===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function x(){var A=this,_=A.toDataURL("image/png"),y=c.append("svg:image");y.attr({xmlns:t.svg,"xlink:href":_,preserveAspectRatio:"none",x:0,y:0,width:A.style.width,height:A.style.height})}p.each(x)},U.updateFx=e(42464).updateFx},94724:function(H,U,e){var d=e(25376),C=e(22548),n=e(98192).u,L=e(92880).extendFlat,w=e(31780).templatedArray,v=e(29736).descriptionWithDates,g=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,i=r.WEEKDAY_PATTERN,a={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},u=L({},a,{values:a.values.slice().concat(["sync"])});function f(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(E){var M={valType:"number",min:0,editType:"ticks"};return E||(M.dflt=5),M}function o(E){var M={valType:"number",min:0,editType:"ticks"};return E||(M.dflt=1),M}var p={valType:"color",dflt:C.defaultLine,editType:"ticks"},x={valType:"color",dflt:C.lightLine,editType:"ticks"};function A(E){var M={valType:"number",min:0,editType:"ticks"};return E||(M.dflt=1),M}var _=L({},n,{editType:"ticks"}),y={valType:"boolean",editType:"ticks"};H.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:C.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:d({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:w("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[i,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:g},editType:"calc"}),tickmode:u,nticks:f(),tick0:l,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:o(),tickcolor:p,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:d({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:w("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:C.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:y,gridcolor:x,gridwidth:A(),griddash:_,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:C.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:C.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:a,nticks:f("minor"),tick0:l,dtick:m,tickvals:h,ticks:T,ticklen:c("minor"),tickwidth:o("minor"),tickcolor:p,gridcolor:x,gridwidth:A("minor"),griddash:_,showgrid:y,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:d({editType:"ticks"})}}},67352:function(H,U,e){var d=e(3400),C=e(76308),n=e(10624).isUnifiedHover,L=e(41008),w=e(31780),v=e(64859),g=e(94724),r=e(14944),t=e(28336),i=e(71888),a=e(37668),u=e(79811),f=u.id2name,l=u.name2id,m=e(33816).AX_ID_PATTERN,h=e(24040),T=h.traceIs,c=h.getComponentMethod;function o(p,x,A){Array.isArray(p[x])?p[x].push(A):p[x]=[A]}H.exports=function(x,A,_){var y=A.autotypenumbers,E={},M={},s={},S={},b={},I={},D={},B={},k={},F={},N,O;for(N=0;N<_.length;N++){var V=_[N];if(!(!T(V,"cartesian")&&!T(V,"gl2d"))){var X;if(V.xaxis)X=f(V.xaxis),o(E,X,V);else if(V.xaxes)for(O=0;O<V.xaxes.length;O++)o(E,f(V.xaxes[O]),V);var ee;if(V.yaxis)ee=f(V.yaxis),o(E,ee,V);else if(V.yaxes)for(O=0;O<V.yaxes.length;O++)o(E,f(V.yaxes[O]),V);if(V.type==="funnel"?V.orientation==="h"?(X&&(M[X]=!0),ee&&(D[ee]=!0)):ee&&(s[ee]=!0):V.type==="image"?(ee&&(B[ee]=!0),X&&(B[X]=!0)):(ee&&(b[ee]=!0,I[ee]=!0),(!T(V,"carpet")||V.type==="carpet"&&!V._cheater)&&X&&(S[X]=!0)),V.type==="carpet"&&V._cheater&&X&&(M[X]=!0),T(V,"2dMap")&&(k[X]=!0,k[ee]=!0),T(V,"oriented")){var ne=V.orientation==="h"?ee:X;F[ne]=!0}}}var q=A._subplots,se=q.xaxis,J=q.yaxis,Z=d.simpleMap(se,f),te=d.simpleMap(J,f),Y=Z.concat(te),ie=C.background;se.length&&J.length&&(ie=d.coerce(x,A,v,"plot_bgcolor"));var le=C.combine(ie,A.paper_bgcolor),j,K,ue,ae,he;function xe(){var pe=E[j]||[];he._traceIndices=pe.map(function(Te){return Te._expandedIndex}),he._annIndices=[],he._shapeIndices=[],he._selectionIndices=[],he._imgIndices=[],he._subplotsWith=[],he._counterAxes=[],he._name=he._attr=j,he._id=K}function Se(pe,Te){return d.coerce(ae,he,g,pe,Te)}function Ae(pe,Te){return d.coerce2(ae,he,g,pe,Te)}function De(pe){return pe==="x"?J:se}function we(pe,Te){for(var Ue=pe==="x"?Z:te,et=[],st=0;st<Ue.length;st++){var lt=Ue[st];lt!==Te&&!(x[lt]||{}).overlaying&&et.push(l(lt))}return et}var Ce={x:De("x"),y:De("y")},be=Ce.x.concat(Ce.y),Pe={},Ve=[];function Ge(){var pe=ae.matches;m.test(pe)&&be.indexOf(pe)===-1&&(Pe[pe]=ae.type,Ve=Object.keys(Pe))}var Fe=L(x,A),He=n(Fe);for(N=0;N<Y.length;N++){j=Y[N],K=l(j),ue=j.charAt(0),d.isPlainObject(x[j])||(x[j]={}),ae=x[j],he=w.newContainer(A,j,ue+"axis"),xe();var ft=ue==="x"&&!S[j]&&M[j]||ue==="y"&&!b[j]&&s[j],gt=ue==="y"&&(!I[j]&&D[j]||B[j]),ct={hasMinor:!0,letter:ue,font:A.font,outerTicks:k[j],showGrid:!F[j],data:E[j]||[],bgColor:le,calendar:A.calendar,automargin:!0,visibleDflt:ft,reverseDflt:gt,autotypenumbersDflt:y,splomStash:((A._splomAxes||{})[ue]||{})[K],noAutotickangles:ue==="y"};Se("uirevision",A.uirevision),r(ae,he,Se,ct),t(ae,he,Se,ct,A);var nt=He&&ue===Fe.charAt(0),dt=Ae("spikecolor",He?he.color:void 0),pt=Ae("spikethickness",He?1.5:void 0),wt=Ae("spikedash",He?"dot":void 0),Tt=Ae("spikemode",He?"across":void 0),Ct=Ae("spikesnap"),at=Se("showspikes",!!nt||!!dt||!!pt||!!wt||!!Tt||!!Ct);at||(delete he.spikecolor,delete he.spikethickness,delete he.spikedash,delete he.spikemode,delete he.spikesnap);var ze=f(ae.overlaying),je=[0,1];if(A[ze]!==void 0){var Je=f(A[ze].anchor);A[Je]!==void 0&&(je=A[Je].domain)}a(ae,he,Se,{letter:ue,counterAxes:Ce[ue],overlayableAxes:we(ue,j),grid:A.grid,overlayingDomain:je}),Se("title.standoff"),Ge(),he._input=ae}for(N=0;N<Ve.length;){K=Ve[N++],j=f(K),ue=j.charAt(0),d.isPlainObject(x[j])||(x[j]={}),ae=x[j],he=w.newContainer(A,j,ue+"axis"),xe();var Xe={letter:ue,font:A.font,outerTicks:k[j],showGrid:!F[j],data:[],bgColor:le,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:y,splomStash:((A._splomAxes||{})[ue]||{})[K]};Se("uirevision",A.uirevision),he.type=Pe[K]||"linear",t(ae,he,Se,Xe,A),a(ae,he,Se,{letter:ue,counterAxes:Ce[ue],overlayableAxes:we(ue,j),grid:A.grid}),Se("fixedrange"),Ge(),he._input=ae}var Oe=c("rangeslider","handleDefaults"),ke=c("rangeselector","handleDefaults");for(N=0;N<Z.length;N++)j=Z[N],ae=x[j],he=A[j],Oe(x,A,j),he.type==="date"&&ke(ae,he,A,te,he.calendar),Se("fixedrange");for(N=0;N<te.length;N++){j=te[N],ae=x[j],he=A[j];var Ke=A[f(he.anchor)],Ie=c("rangeslider","isVisible")(Ke);Se("fixedrange",Ie)}i.handleDefaults(x,A,{axIds:be.concat(Ve).sort(u.idSort),axHasImage:B})}},42136:function(H,U,e){var d=e(49760).mix,C=e(22548),n=e(3400);H.exports=function(w,v,g,r){r=r||{};var t=r.dfltColor;function i(s,S){return n.coerce2(w,v,r.attributes,s,S)}var a=i("linecolor",t),u=i("linewidth"),f=g("showline",r.showLine||!!a||!!u);f||(delete v.linecolor,delete v.linewidth);var l=d(t,r.bgColor,r.blend||C.lightFraction).toRgbString(),m=i("gridcolor",l),h=i("gridwidth"),T=i("griddash"),c=g("showgrid",r.showGrid||!!m||!!h||!!T);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var o=d(v.gridcolor,r.bgColor,67).toRgbString(),p=i("minor.gridcolor",o),x=i("minor.gridwidth",v.gridwidth||1),A=i("minor.griddash",v.griddash||"solid"),_=g("minor.showgrid",!!p||!!x||!!A);_||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var y=i("zerolinecolor",t),E=i("zerolinewidth"),M=g("zeroline",r.showGrid||!!y||!!E);M||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(H,U,e){var d=e(38248),C=e(3400);H.exports=function(L,w,v,g){var r=g.counterAxes||[],t=g.overlayableAxes||[],i=g.letter,a=g.grid,u=g.overlayingDomain,f,l,m,h,T,c;a&&(l=a._domains[i][a._axisMap[w._id]],f=a._anchors[w._id],l&&(m=a[i+"side"].split(" ")[0],h=a.domain[i][m==="right"||m==="top"?1:0])),l=l||[0,1],f=f||(d(L.position)?"free":r[0]||"free"),m=m||(i==="x"?"bottom":"left"),h=h||0,T=0,c=!1;var o=C.coerce(L,w,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:f}},"anchor"),p=C.coerce(L,w,{side:{valType:"enumerated",values:i==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(o==="free"){if(i==="y"){var x=v("autoshift");x&&(h=p==="left"?u[0]:u[1],c=w.automargin?w.automargin:!0,T=p==="left"?-3:3),v("shift",T)}v("position",h)}v("automargin",c);var A=!1;if(t.length&&(A=C.coerce(L,w,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!A){var _=v("domain",l);_[0]>_[1]-.000244140625&&(w.domain=l),C.noneOrAll(L.domain,w.domain,l),w.tickmode==="sync"&&(w.tickmode="auto")}return v("layer"),w}},42568:function(H,U,e){var d=e(85024);H.exports=function(n,L,w,v,g){g||(g={});var r=g.tickSuffixDflt,t=d(n),i=w("tickprefix");i&&w("showtickprefix",t);var a=w("ticksuffix",r);a&&w("showticksuffix",t)}},96312:function(H,U,e){var d=e(76808);H.exports=function(n,L,w,v){var g=L._template||{},r=L.type||g.type||"-";w("minallowed"),w("maxallowed");var t=w("range");if(!t){var i;!v.noInsiderange&&r!=="log"&&(i=w("insiderange"),i&&(i[0]===null||i[1]===null)&&(L.insiderange=!1,i=void 0),i&&(t=w("range",i)))}var a=L.getAutorangeDflt(t,v),u=w("autorange",a),f;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(u==="reversed"||u===!0)||t[0]!==null&&(u==="min"||u==="max reversed")||t[1]!==null&&(u==="max"||u==="min reversed"))&&(t=void 0,delete L.range,L.autorange=!0,f=!0),f||(a=L.getAutorangeDflt(t,v),u=w("autorange",a)),u&&(d(w,u,t),(r==="linear"||r==="-")&&w("rangemode")),L.cleanRange()}},21160:function(H,U,e){var d=e(84284).FROM_BL;H.exports=function(n,L,w){w===void 0&&(w=d[n.constraintoward||"center"]);var v=[n.r2l(n.range[0]),n.r2l(n.range[1])],g=v[0]+(v[1]-v[0])*w;n.range=n._input.range=[n.l2r(g+(v[0]-g)*L),n.l2r(g+(v[1]-g)*L)],n.setScale()}},78344:function(H,U,e){var d=e(33428),C=e(94336).E9,n=e(3400),L=n.numberFormat,w=e(38248),v=n.cleanNumber,g=n.ms2DateTime,r=n.dateTime2ms,t=n.ensureNumber,i=n.isArrayOrTypedArray,a=e(39032),u=a.FP_SAFE,f=a.BADNUM,l=a.LOG_CLIP,m=a.ONEWEEK,h=a.ONEDAY,T=a.ONEHOUR,c=a.ONEMIN,o=a.ONESEC,p=e(79811),x=e(33816),A=x.HOUR_PATTERN,_=x.WEEKDAY_PATTERN;function y(M){return Math.pow(10,M)}function E(M){return M!=null}H.exports=function(s,S){S=S||{};var b=s._id||"x",I=b.charAt(0);function D(Y,ie){if(Y>0)return Math.log(Y)/Math.LN10;if(Y<=0&&ie&&s.range&&s.range.length===2){var le=s.range[0],j=s.range[1];return .5*(le+j-2*l*Math.abs(le-j))}else return f}function B(Y,ie,le,j){if((j||{}).msUTC&&w(Y))return+Y;var K=r(Y,le||s.calendar);if(K===f)if(w(Y)){Y=+Y;var ue=Math.floor(n.mod(Y+.05,1)*10),ae=Math.round(Y-ue/10);K=r(new Date(ae))+ue/10}else return f;return K}function k(Y,ie,le){return g(Y,ie,le||s.calendar)}function F(Y){return s._categories[Math.round(Y)]}function N(Y){if(E(Y)){if(s._categoriesMap===void 0&&(s._categoriesMap={}),s._categoriesMap[Y]!==void 0)return s._categoriesMap[Y];s._categories.push(typeof Y=="number"?String(Y):Y);var ie=s._categories.length-1;return s._categoriesMap[Y]=ie,ie}return f}function O(Y,ie){for(var le=new Array(ie),j=0;j<ie;j++){var K=(Y[0]||[])[j],ue=(Y[1]||[])[j];le[j]=V([K,ue])}return le}function V(Y){if(s._categoriesMap)return s._categoriesMap[Y]}function X(Y){var ie=V(Y);if(ie!==void 0)return ie;if(w(Y))return+Y}function ee(Y){return w(Y)?+Y:V(Y)}function ne(Y,ie,le){return d.round(le+ie*Y,2)}function q(Y,ie,le){return(Y-le)/ie}var se=function(ie){return w(ie)?ne(ie,s._m,s._b):f},J=function(Y){return q(Y,s._m,s._b)};if(s.rangebreaks){var Z=I==="y";se=function(Y){if(!w(Y))return f;var ie=s._rangebreaks.length;if(!ie)return ne(Y,s._m,s._b);var le=Z;s.range[0]>s.range[1]&&(le=!le);for(var j=le?-1:1,K=j*Y,ue=0,ae=0;ae<ie;ae++){var he=j*s._rangebreaks[ae].min,xe=j*s._rangebreaks[ae].max;if(K<he)break;if(K>xe)ue=ae+1;else{ue=K<(he+xe)/2?ae:ae+1;break}}var Se=s._B[ue]||0;return isFinite(Se)?ne(Y,s._m2,Se):0},J=function(Y){var ie=s._rangebreaks.length;if(!ie)return q(Y,s._m,s._b);for(var le=0,j=0;j<ie&&!(Y<s._rangebreaks[j].pmin);j++)Y>s._rangebreaks[j].pmax&&(le=j+1);return q(Y,s._m2,s._B[le])}}s.c2l=s.type==="log"?D:t,s.l2c=s.type==="log"?y:t,s.l2p=se,s.p2l=J,s.c2p=s.type==="log"?function(Y,ie){return se(D(Y,ie))}:se,s.p2c=s.type==="log"?function(Y){return y(J(Y))}:J,["linear","-"].indexOf(s.type)!==-1?(s.d2r=s.r2d=s.d2c=s.r2c=s.d2l=s.r2l=v,s.c2d=s.c2r=s.l2d=s.l2r=t,s.d2p=s.r2p=function(Y){return s.l2p(v(Y))},s.p2d=s.p2r=J,s.cleanPos=t):s.type==="log"?(s.d2r=s.d2l=function(Y,ie){return D(v(Y),ie)},s.r2d=s.r2c=function(Y){return y(v(Y))},s.d2c=s.r2l=v,s.c2d=s.l2r=t,s.c2r=D,s.l2d=y,s.d2p=function(Y,ie){return s.l2p(s.d2r(Y,ie))},s.p2d=function(Y){return y(J(Y))},s.r2p=function(Y){return s.l2p(v(Y))},s.p2r=J,s.cleanPos=t):s.type==="date"?(s.d2r=s.r2d=n.identity,s.d2c=s.r2c=s.d2l=s.r2l=B,s.c2d=s.c2r=s.l2d=s.l2r=k,s.d2p=s.r2p=function(Y,ie,le){return s.l2p(B(Y,0,le))},s.p2d=s.p2r=function(Y,ie,le){return k(J(Y),ie,le)},s.cleanPos=function(Y){return n.cleanDate(Y,f,s.calendar)}):s.type==="category"?(s.d2c=s.d2l=N,s.r2d=s.c2d=s.l2d=F,s.d2r=s.d2l_noadd=X,s.r2c=function(Y){var ie=ee(Y);return ie!==void 0?ie:s.fraction2r(.5)},s.l2r=s.c2r=t,s.r2l=ee,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return F(J(Y))},s.r2p=s.d2p,s.p2r=J,s.cleanPos=function(Y){return typeof Y=="string"&&Y!==""?Y:t(Y)}):s.type==="multicategory"&&(s.r2d=s.c2d=s.l2d=F,s.d2r=s.d2l_noadd=X,s.r2c=function(Y){var ie=X(Y);return ie!==void 0?ie:s.fraction2r(.5)},s.r2c_just_indices=V,s.l2r=s.c2r=t,s.r2l=X,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return F(J(Y))},s.r2p=s.d2p,s.p2r=J,s.cleanPos=function(Y){return Array.isArray(Y)||typeof Y=="string"&&Y!==""?Y:t(Y)},s.setupMultiCategory=function(Y){var ie=s._traceIndices,le,j,K=s._matchGroup;if(K&&s._categories.length===0){for(var ue in K)if(ue!==b){var ae=S[p.id2name(ue)];ie=ie.concat(ae._traceIndices)}}var he=[[0,{}],[0,{}]],xe=[];for(le=0;le<ie.length;le++){var Se=Y[ie[le]];if(I in Se){var Ae=Se[I],De=Se._length||n.minRowLength(Ae);if(i(Ae[0])&&i(Ae[1]))for(j=0;j<De;j++){var we=Ae[0][j],Ce=Ae[1][j];E(we)&&E(Ce)&&(xe.push([we,Ce]),we in he[0][1]||(he[0][1][we]=he[0][0]++),Ce in he[1][1]||(he[1][1][Ce]=he[1][0]++))}}}for(xe.sort(function(be,Pe){var Ve=he[0][1],Ge=Ve[be[0]]-Ve[Pe[0]];if(Ge)return Ge;var Fe=he[1][1];return Fe[be[1]]-Fe[Pe[1]]}),le=0;le<xe.length;le++)N(xe[le])}),s.fraction2r=function(Y){var ie=s.r2l(s.range[0]),le=s.r2l(s.range[1]);return s.l2r(ie+Y*(le-ie))},s.r2fraction=function(Y){var ie=s.r2l(s.range[0]),le=s.r2l(s.range[1]);return(s.r2l(Y)-ie)/(le-ie)},s.limitRange=function(Y){var ie=s.minallowed,le=s.maxallowed;if(!(ie===void 0&&le===void 0)){Y||(Y="range");var j=n.nestedProperty(s,Y).get(),K=n.simpleMap(j,s.r2l),ue=K[1]<K[0];ue&&K.reverse();var ae=n.simpleMap([ie,le],s.r2l);if(ie!==void 0&&K[0]<ae[0]&&(j[ue?1:0]=ie),le!==void 0&&K[1]>ae[1]&&(j[ue?0:1]=le),j[0]===j[1]){var he=s.l2r(ie),xe=s.l2r(le);if(ie!==void 0){var Se=he+1;le!==void 0&&(Se=Math.min(Se,xe)),j[ue?1:0]=Se}if(le!==void 0){var Ae=xe+1;ie!==void 0&&(Ae=Math.max(Ae,he)),j[ue?0:1]=Ae}}}},s.cleanRange=function(Y,ie){s._cleanRange(Y,ie),s.limitRange(Y)},s._cleanRange=function(Y,ie){ie||(ie={}),Y||(Y="range");var le=n.nestedProperty(s,Y).get(),j,K;if(s.type==="date"?K=n.dfltRange(s.calendar):I==="y"?K=x.DFLTRANGEY:s._name==="realaxis"?K=[0,1]:K=ie.dfltRange||x.DFLTRANGEX,K=K.slice(),(s.rangemode==="tozero"||s.rangemode==="nonnegative")&&(K[0]=0),!le||le.length!==2){n.nestedProperty(s,Y).set(K);return}var ue=le[0]===null,ae=le[1]===null;for(s.type==="date"&&!s.autorange&&(le[0]=n.cleanDate(le[0],f,s.calendar),le[1]=n.cleanDate(le[1],f,s.calendar)),j=0;j<2;j++)if(s.type==="date"){if(!n.isDateTime(le[j],s.calendar)){s[Y]=K;break}if(s.r2l(le[0])===s.r2l(le[1])){var he=n.constrain(s.r2l(le[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);le[0]=s.l2r(he-1e3),le[1]=s.l2r(he+1e3);break}}else{if(!w(le[j]))if(!(ue||ae)&&w(le[1-j]))le[j]=le[1-j]*(j?10:.1);else{s[Y]=K;break}if(le[j]<-u?le[j]=-u:le[j]>u&&(le[j]=u),le[0]===le[1]){var xe=Math.max(1,Math.abs(le[0]*1e-6));le[0]-=xe,le[1]+=xe}}},s.setScale=function(Y){var ie=S._size;if(s.overlaying){var le=p.getFromId({_fullLayout:S},s.overlaying);s.domain=le.domain}var j=Y&&s._r?"_r":"range",K=s.calendar;s.cleanRange(j);var ue=s.r2l(s[j][0],K),ae=s.r2l(s[j][1],K),he=I==="y";if(he?(s._offset=ie.t+(1-s.domain[1])*ie.h,s._length=ie.h*(s.domain[1]-s.domain[0]),s._m=s._length/(ue-ae),s._b=-s._m*ae):(s._offset=ie.l+s.domain[0]*ie.w,s._length=ie.w*(s.domain[1]-s.domain[0]),s._m=s._length/(ae-ue),s._b=-s._m*ue),s._rangebreaks=[],s._lBreaks=0,s._m2=0,s._B=[],s.rangebreaks){var xe,Se;if(s._rangebreaks=s.locateBreaks(Math.min(ue,ae),Math.max(ue,ae)),s._rangebreaks.length){for(xe=0;xe<s._rangebreaks.length;xe++)Se=s._rangebreaks[xe],s._lBreaks+=Math.abs(Se.max-Se.min);var Ae=he;ue>ae&&(Ae=!Ae),Ae&&s._rangebreaks.reverse();var De=Ae?-1:1;for(s._m2=De*s._length/(Math.abs(ae-ue)-s._lBreaks),s._B.push(-s._m2*(he?ae:ue)),xe=0;xe<s._rangebreaks.length;xe++)Se=s._rangebreaks[xe],s._B.push(s._B[s._B.length-1]-De*s._m2*(Se.max-Se.min));for(xe=0;xe<s._rangebreaks.length;xe++)Se=s._rangebreaks[xe],Se.pmin=se(Se.min),Se.pmax=se(Se.max)}}if(!isFinite(s._m)||!isFinite(s._b)||s._length<0)throw S._replotting=!1,new Error("Something went wrong with axis scaling")},s.maskBreaks=function(Y){var ie=s.rangebreaks||[],le,j,K,ue,ae;ie._cachedPatterns||(ie._cachedPatterns=ie.map(function(Ve){return Ve.enabled&&Ve.bounds?n.simpleMap(Ve.bounds,Ve.pattern?v:s.d2c):null})),ie._cachedValues||(ie._cachedValues=ie.map(function(Ve){return Ve.enabled&&Ve.values?n.simpleMap(Ve.values,s.d2c).sort(n.sorterAsc):null}));for(var he=0;he<ie.length;he++){var xe=ie[he];if(xe.enabled){if(xe.bounds){var Se=xe.pattern;switch(le=ie._cachedPatterns[he],j=le[0],K=le[1],Se){case _:ae=new Date(Y),ue=ae.getUTCDay(),j>K&&(K+=7,ue<j&&(ue+=7));break;case A:ae=new Date(Y);var Ae=ae.getUTCHours(),De=ae.getUTCMinutes(),we=ae.getUTCSeconds(),Ce=ae.getUTCMilliseconds();ue=Ae+(De/60+we/3600+Ce/36e5),j>K&&(K+=24,ue<j&&(ue+=24));break;case"":ue=Y;break}if(ue>=j&&ue<K)return f}else for(var be=ie._cachedValues[he],Pe=0;Pe<be.length;Pe++)if(j=be[Pe],K=j+xe.dvalue,Y>=j&&Y<K)return f}}return Y},s.locateBreaks=function(Y,ie){var le,j,K,ue,ae=[];if(!s.rangebreaks)return ae;var he=s.rangebreaks.slice().sort(function(Fe,He){return Fe.pattern===_&&He.pattern===A?-1:He.pattern===_&&Fe.pattern===A?1:0}),xe=function(Fe,He){if(Fe=n.constrain(Fe,Y,ie),He=n.constrain(He,Y,ie),Fe!==He){for(var ft=!0,gt=0;gt<ae.length;gt++){var ct=ae[gt];Fe<ct.max&&He>=ct.min&&(Fe<ct.min&&(ct.min=Fe),He>ct.max&&(ct.max=He),ft=!1)}ft&&ae.push({min:Fe,max:He})}};for(le=0;le<he.length;le++){var Se=he[le];if(Se.enabled)if(Se.bounds){var Ae=Y,De=ie;Se.pattern&&(Ae=Math.floor(Ae)),j=n.simpleMap(Se.bounds,Se.pattern?v:s.r2l),K=j[0],ue=j[1];var we=new Date(Ae),Ce,be;switch(Se.pattern){case _:be=m,Ce=((ue<K?7:0)+(ue-K))*h,Ae+=K*h-(we.getUTCDay()*h+we.getUTCHours()*T+we.getUTCMinutes()*c+we.getUTCSeconds()*o+we.getUTCMilliseconds());break;case A:be=h,Ce=((ue<K?24:0)+(ue-K))*T,Ae+=K*T-(we.getUTCHours()*T+we.getUTCMinutes()*c+we.getUTCSeconds()*o+we.getUTCMilliseconds());break;default:Ae=Math.min(j[0],j[1]),De=Math.max(j[0],j[1]),be=De-Ae,Ce=be}for(var Pe=Ae;Pe<De;Pe+=be)xe(Pe,Pe+Ce)}else for(var Ve=n.simpleMap(Se.values,s.d2c),Ge=0;Ge<Ve.length;Ge++)K=Ve[Ge],ue=K+Se.dvalue,xe(K,ue)}return ae.sort(function(Fe,He){return Fe.min-He.min}),ae},s.makeCalcdata=function(Y,ie,le){var j,K,ue,ae,he=s.type,xe=he==="date"&&Y[ie+"calendar"];if(ie in Y){if(j=Y[ie],ae=Y._length||n.minRowLength(j),n.isTypedArray(j)&&(he==="linear"||he==="log")){if(ae===j.length)return j;if(j.subarray)return j.subarray(0,ae)}if(he==="multicategory")return O(j,ae);for(K=new Array(ae),ue=0;ue<ae;ue++)K[ue]=s.d2c(j[ue],0,xe,le)}else{var Se=ie+"0"in Y?s.d2c(Y[ie+"0"],0,xe):0,Ae=Y["d"+ie]?Number(Y["d"+ie]):1;for(j=Y[{x:"y",y:"x"}[ie]],ae=Y._length||j.length,K=new Array(ae),ue=0;ue<ae;ue++)K[ue]=Se+ue*Ae}if(s.rangebreaks)for(ue=0;ue<ae;ue++)K[ue]=s.maskBreaks(K[ue]);return K},s.isValidRange=function(Y,ie){return Array.isArray(Y)&&Y.length===2&&(ie&&Y[0]===null||w(s.r2l(Y[0])))&&(ie&&Y[1]===null||w(s.r2l(Y[1])))},s.getAutorangeDflt=function(Y,ie){var le=!s.isValidRange(Y,"nullOk");return le&&ie&&ie.reverseDflt?le="reversed":Y&&(Y[0]===null&&Y[1]===null?le=!0:Y[0]===null&&Y[1]!==null?le="min":Y[0]!==null&&Y[1]===null&&(le="max")),le},s.isReversed=function(){var Y=s.autorange;return Y==="reversed"||Y==="min reversed"||Y==="max reversed"},s.isPtWithinRange=function(Y,ie){var le=s.c2l(Y[I],null,ie),j=s.r2l(s.range[0]),K=s.r2l(s.range[1]);return j<K?j<=le&&le<=K:K<=le&&le<=j},s._emptyCategories=function(){s._categories=[],s._categoriesMap={}},s.clearCalc=function(){var Y=s._matchGroup;if(Y){var ie=null,le=null;for(var j in Y){var K=S[p.id2name(j)];if(K._categories){ie=K._categories,le=K._categoriesMap;break}}ie&&le?(s._categories=ie,s._categoriesMap=le):s._emptyCategories()}else s._emptyCategories();if(s._initialCategories)for(var ue=0;ue<s._initialCategories.length;ue++)N(s._initialCategories[ue])},s.sortByInitialCategories=function(){var Y=[];if(s._emptyCategories(),s._initialCategories)for(var ie=0;ie<s._initialCategories.length;ie++)N(s._initialCategories[ie]);Y=Y.concat(s._traceIndices);var le=s._matchGroup;for(var j in le)if(b!==j){var K=S[p.id2name(j)];K._categories=s._categories,K._categoriesMap=s._categoriesMap,Y=Y.concat(K._traceIndices)}return Y};var te=S._d3locale;s.type==="date"&&(s._dateFormat=te?te.timeFormat:C,s._extraFormat=S._extraFormat),s._separators=S.separators,s._numFormat=te?te.numberFormat:L,delete s._minDtick,delete s._forceTick0}},85024:function(H){H.exports=function(e){var d=["showexponent","showtickprefix","showticksuffix"],C=d.filter(function(L){return e[L]!==void 0}),n=function(L){return e[L]===e[C[0]]};if(C.every(n)||C.length===1)return e[C[0]]}},95936:function(H,U,e){var d=e(3400),C=e(76308).contrast,n=e(94724),L=e(85024),w=e(51272);H.exports=function(r,t,i,a,u){u||(u={});var f=i("labelalias");d.isPlainObject(f)||delete t.labelalias;var l=L(r),m=i("showticklabels");if(m){var h=u.font||{},T=t.color,c=t.ticklabelposition||"",o=c.indexOf("inside")!==-1?C(u.bgColor):T&&T!==n.color.dflt?T:h.color;if(d.coerceFont(i,"tickfont",{family:h.family,weight:h.weight,style:h.style,variant:h.variant,size:h.size,color:o}),!u.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&i("ticklabelstep"),!u.noAng){var p=i("tickangle");!u.noAutotickangles&&p==="auto"&&i("autotickangles")}if(a!=="category"){var x=i("tickformat");w(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!u.noExp&&!x&&a!=="date"&&(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}};function v(g,r){function t(a,u){return d.coerce(g,r,n.tickformatstops,a,u)}var i=t("enabled");i&&(t("dtickrange"),t("value"))}},25404:function(H,U,e){var d=e(3400),C=e(94724);H.exports=function(L,w,v,g){var r=g.isMinor,t=r?L.minor||{}:L,i=r?w.minor:w,a=r?C.minor:C,u=r?"minor.":"",f=d.coerce2(t,i,a,"ticklen",r?(w.ticklen||5)*.6:void 0),l=d.coerce2(t,i,a,"tickwidth",r?w.tickwidth||1:void 0),m=d.coerce2(t,i,a,"tickcolor",(r?w.tickcolor:void 0)||i.color),h=v(u+"ticks",!r&&g.outerTicks||f||l||m?"outside":"");h||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(H,U,e){var d=e(98728),C=e(3400).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,L=e(38116).decodeTypedArraySpec;H.exports=function(v,g,r,t,i){i||(i={});var a=i.isMinor,u=a?v.minor||{}:v,f=a?g.minor:g,l=a?"minor.":"";function m(_){var y=u[_];return n(y)&&(y=L(y)),y!==void 0?y:(f._template||{})[_]}var h=m("tick0"),T=m("dtick"),c=m("tickvals"),o=C(c)?"array":T?"linear":"auto",p=r(l+"tickmode",o);if(p==="auto"||p==="sync")r(l+"nticks");else if(p==="linear"){var x=f.dtick=d.dtick(T,t);f.tick0=d.tick0(h,t,g.calendar,x)}else if(t!=="multicategory"){var A=r(l+"tickvals");A===void 0?f.tickmode="auto":a||r("ticktext")}}},73736:function(H,U,e){var d=e(33428),C=e(24040),n=e(3400),L=e(43616),w=e(54460);H.exports=function(g,r,t,i){var a=g._fullLayout;if(r.length===0){w.redrawComponents(g);return}function u(A){var _=A.xaxis,y=A.yaxis;a._defs.select("#"+A.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),A.plot.call(L.setTranslate,_._offset,y._offset).call(L.setScale,1,1);var E=A.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(L.setPointGroupScale,1,1),E.selectAll(".textpoint").call(L.setTextPointsScale,1,1),E.call(L.hideOutsideRangePoints,A)}function f(A,_){var y=A.plotinfo,E=y.xaxis,M=y.yaxis,s=E._length,S=M._length,b=!!A.xr1,I=!!A.yr1,D=[];if(b){var B=n.simpleMap(A.xr0,E.r2l),k=n.simpleMap(A.xr1,E.r2l),F=B[1]-B[0],N=k[1]-k[0];D[0]=(B[0]*(1-_)+_*k[0]-B[0])/(B[1]-B[0])*s,D[2]=s*(1-_+_*N/F),E.range[0]=E.l2r(B[0]*(1-_)+_*k[0]),E.range[1]=E.l2r(B[1]*(1-_)+_*k[1])}else D[0]=0,D[2]=s;if(I){var O=n.simpleMap(A.yr0,M.r2l),V=n.simpleMap(A.yr1,M.r2l),X=O[1]-O[0],ee=V[1]-V[0];D[1]=(O[1]*(1-_)+_*V[1]-O[1])/(O[0]-O[1])*S,D[3]=S*(1-_+_*ee/X),M.range[0]=E.l2r(O[0]*(1-_)+_*V[0]),M.range[1]=M.l2r(O[1]*(1-_)+_*V[1])}else D[1]=0,D[3]=S;w.drawOne(g,E,{skipTitle:!0}),w.drawOne(g,M,{skipTitle:!0}),w.redrawComponents(g,[E._id,M._id]);var ne=b?s/D[2]:1,q=I?S/D[3]:1,se=b?D[0]:0,J=I?D[1]:0,Z=b?D[0]/D[2]*s:0,te=I?D[1]/D[3]*S:0,Y=E._offset-Z,ie=M._offset-te;y.clipRect.call(L.setTranslate,se,J).call(L.setScale,1/ne,1/q),y.plot.call(L.setTranslate,Y,ie).call(L.setScale,ne,q),L.setPointGroupScale(y.zoomScalePts,1/ne,1/q),L.setTextPointsScale(y.zoomScaleTxt,1/ne,1/q)}var l;i&&(l=i());function m(){for(var A={},_=0;_<r.length;_++){var y=r[_],E=y.plotinfo.xaxis,M=y.plotinfo.yaxis;y.xr1&&(A[E._name+".range"]=y.xr1.slice()),y.yr1&&(A[M._name+".range"]=y.yr1.slice())}return l&&l(),C.call("relayout",g,A).then(function(){for(var s=0;s<r.length;s++)u(r[s].plotinfo)})}function h(){for(var A={},_=0;_<r.length;_++){var y=r[_],E=y.plotinfo.xaxis,M=y.plotinfo.yaxis;y.xr0&&(A[E._name+".range"]=y.xr0.slice()),y.yr0&&(A[M._name+".range"]=y.yr0.slice())}return C.call("relayout",g,A).then(function(){for(var s=0;s<r.length;s++)u(r[s].plotinfo)})}var T,c,o,p=d.ease(t.easing);g._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,h()});function x(){c=Date.now();for(var A=Math.min(1,(c-T)/t.duration),_=p(A),y=0;y<r.length;y++)f(r[y],_);c-T>t.duration?(m(),o=window.cancelAnimationFrame(x)):o=window.requestAnimationFrame(x)}return T=Date.now(),o=window.requestAnimationFrame(x),Promise.resolve()}},14944:function(H,U,e){var d=e(24040).traceIs,C=e(52976);H.exports=function(r,t,i,a){i("autotypenumbers",a.autotypenumbersDflt);var u=i("type",(a.splomStash||{}).type);u==="-"&&(n(t,a.data),t.type==="-"?t.type="linear":r.type=t.type)};function n(g,r){if(g.type==="-"){var t=g._id,i=t.charAt(0),a;t.indexOf("scene")!==-1&&(t=i);var u=L(r,t,i);if(u){if(u.type==="histogram"&&i==={v:"y",h:"x"}[u.orientation||"v"]){g.type="linear";return}var f=i+"calendar",l=u[f],m={noMultiCategory:!d(u,"cartesian")||d(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&i==={h:"x",v:"y"}[u.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=g.autotypenumbers,v(u,i)){var h=w(u),T=[];for(a=0;a<r.length;a++){var c=r[a];!d(c,"box-violin")||(c[i+"axis"]||i)!==t||(c[h]!==void 0?T.push(c[h][0]):c.name!==void 0?T.push(c.name):T.push("text"),c[f]!==l&&(l=void 0))}g.type=C(T,l,m)}else if(u.type==="splom"){var o=u.dimensions,p=o[u._axesDim[t]];p.visible&&(g.type=C(p.values,l,m))}else g.type=C(u[i]||[u[i+"0"]],l,m)}}}function L(g,r,t){for(var i=0;i<g.length;i++){var a=g[i];if(a.type==="splom"&&a._length>0&&(a["_"+t+"axes"]||{})[r])return a;if((a[t+"axis"]||t)===r){if(v(a,t))return a;if((a[t]||[]).length||a[t+"0"])return a}}}function w(g){return{v:"x",h:"y"}[g.orientation||"v"]}function v(g,r){var t=w(g),i=d(g,"box-violin"),a=d(g._fullInput||{},"candlestick");return i&&!a&&r===t&&g[t]===void 0&&g[t+"0"]===void 0}},62460:function(H,U,e){var d=e(24040),C=e(3400);U.manageCommandObserver=function(r,t,i,a){var u={},f=!0;t&&t._commandObserver&&(u=t._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var l=U.hasSimpleAPICommandBindings(r,i,u.lookupTable);if(t&&t._commandObserver){if(l)return u;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,u}if(l){n(r,l,u.cache),u.check=function(){if(f){var c=n(r,l,u.cache);return c.changed&&a&&u.lookupTable[c.value]!==void 0&&(u.disable(),Promise.resolve(a({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:u.lookupTable[c.value]})).then(u.enable,u.enable)),c.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<m.length;h++)r._internalOn(m[h],u.check);u.remove=function(){for(var T=0;T<m.length;T++)r._removeInternalListener(m[T],u.check)}}else C.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){f=!1},u.enable=function(){f=!0},t&&(t._commandObserver=u),u},U.hasSimpleAPICommandBindings=function(r,t,i){var a,u=t.length,f;for(a=0;a<u;a++){var l,m=t[a],h=m.method,T=m.args;if(Array.isArray(T)||(T=[]),!h)return!1;var c=U.computeAPICommandBindings(r,h,T);if(c.length!==1)return!1;if(!f)f=c[0],Array.isArray(f.traces)&&f.traces.sort();else{if(l=c[0],l.type!==f.type||l.prop!==f.prop)return!1;if(Array.isArray(f.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var o=0;o<f.traces.length;o++)if(f.traces[o]!==l.traces[o])return!1}else return!1;else if(l.prop!==f.prop)return!1}l=c[0];var p=l.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;i&&(i[p]=a)}return f};function n(r,t,i){var a,u,f,l=!1;if(t.type==="data")a=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")a=r._fullLayout;else return!1;return u=C.nestedProperty(a,t.prop).get(),f=i[t.type]=i[t.type]||{},f.hasOwnProperty(t.prop)&&f[t.prop]!==u&&(l=!0),f[t.prop]=u,{changed:l,value:u}}U.executeAPICommand=function(r,t,i){if(t==="skip")return Promise.resolve();var a=d.apiMethodRegistry[t],u=[r];Array.isArray(i)||(i=[]);for(var f=0;f<i.length;f++)u.push(i[f]);return a.apply(null,u).catch(function(l){return C.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},U.computeAPICommandBindings=function(r,t,i){var a;switch(Array.isArray(i)||(i=[]),t){case"restyle":a=v(r,i);break;case"relayout":a=w(r,i);break;case"update":a=v(r,[i[0],i[2]]).concat(w(r,[i[1]]));break;case"animate":a=L(r,i);break;default:a=[]}return a};function L(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function w(r,t){var i=[],a=t[0],u={};if(typeof a=="string")u[a]=t[1];else if(C.isPlainObject(a))u=a;else return i;return g(u,function(f,l,m){i.push({type:"layout",prop:f,value:m})},"",0),i}function v(r,t){var i,a,u,f,l=[];if(a=t[0],u=t[1],i=t[2],f={},typeof a=="string")f[a]=u;else if(C.isPlainObject(a))f=a,i===void 0&&(i=u);else return l;return i===void 0&&(i=null),g(f,function(m,h,T){var c,o;if(Array.isArray(T)){o=T.slice();var p=Math.min(o.length,r.data.length);i&&(p=Math.min(p,i.length)),c=[];for(var x=0;x<p;x++)c[x]=i?i[x]:x}else o=T,c=i?i.slice():null;if(c===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(c)){if(!Array.isArray(o)){var A=o;o=[];for(var _=0;_<c.length;_++)o[_]=A}o.length=Math.min(c.length,o.length)}l.push({type:"data",prop:m,traces:c,value:o})},"",0),l}function g(r,t,i,a){Object.keys(r).forEach(function(u){var f=r[u];if(u[0]!=="_"){var l=i+(a>0?".":"")+u;C.isPlainObject(f)?g(f,t,l,a+1):t(l,u,f)}})}},86968:function(H,U,e){var d=e(92880).extendFlat;U.u=function(C,n){C=C||{},n=n||{};var L={valType:"info_array",editType:C.editType,items:[{valType:"number",min:0,max:1,editType:C.editType},{valType:"number",min:0,max:1,editType:C.editType}],dflt:[0,1]};C.name&&C.name+"",C.trace,n.description&&""+n.description;var w={x:d({},L,{}),y:d({},L,{}),editType:C.editType};return C.noGridCell||(w.row={valType:"integer",min:0,dflt:0,editType:C.editType},w.column={valType:"integer",min:0,dflt:0,editType:C.editType}),w},U.Q=function(C,n,L,w){var v=w&&w.x||[0,1],g=w&&w.y||[0,1],r=n.grid;if(r){var t=L("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete C.domain.column);var i=L("domain.row");i!==void 0&&(i<r.rows?g=r._domains.y[i]:delete C.domain.row)}var a=L("domain.x",v),u=L("domain.y",g);a[0]<a[1]||(C.domain.x=v.slice()),u[0]<u[1]||(C.domain.y=g.slice())}},25376:function(H){H.exports=function(U){var e=U.variantValues,d=U.editType,C=U.colorEditType;C===void 0&&(C=d);var n={family:{valType:"string",noBlank:!0,strict:!0,editType:d},size:{valType:"number",min:1,editType:d},color:{valType:"color",editType:C},weight:{editType:d,valType:"enumerated",values:["normal","bold"],dflt:"normal"},style:{editType:d,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:U.noFontVariant?void 0:{editType:d,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},editType:d};return U.autoSize&&(n.size.dflt="auto"),U.autoColor&&(n.color.dflt="auto"),U.arrayOk&&(n.family.arrayOk=!0,n.weight.arrayOk=!0,n.style.arrayOk=!0,n.variant.arrayOk=!0,n.size.arrayOk=!0,n.color.arrayOk=!0),n}},16672:function(H){H.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(H,U){U.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},U.axesNames=["lonaxis","lataxis"],U.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},U.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},U.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},U.clipPad=.001,U.precision=.1,U.landColor="#F0DC82",U.waterColor="#3399FF",U.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},U.sphereSVG={type:"Sphere"},U.fillLayers={ocean:1,land:1,lakes:1},U.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},U.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],U.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],U.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(H,U,e){var d=e(33428),C=e(83356),n=C.geoPath,L=C.geoDistance,w=e(87108),v=e(24040),g=e(3400),r=g.strTranslate,t=e(76308),i=e(43616),a=e(93024),u=e(7316),f=e(54460),l=e(19280).getAutoRange,m=e(86476),h=e(22676).prepSelect,T=e(22676).clearOutline,c=e(22676).selectOnClick,o=e(79248),p=e(79552),x=e(27144),A=e(59972),_=e(55712).NO;function y(b){this.id=b.id,this.graphDiv=b.graphDiv,this.container=b.container,this.topojsonURL=b.topojsonURL,this.isStatic=b.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=y.prototype;H.exports=function(I){return new y(I)},E.plot=function(b,I,D,B){var k=this;if(B)return k.update(b,I,!0);k._geoCalcData=b,k._fullLayout=I;var F=I[this.id],N=[],O=!1;for(var V in p.layerNameToAdjective)if(V!=="frame"&&F["show"+V]){O=!0;break}for(var X=!1,ee=0;ee<b.length;ee++){var ne=b[0][0].trace;ne._geo=k,ne.locationmode&&(O=!0);var q=ne.marker;if(q){var se=q.angle,J=q.angleref;(se||J==="north"||J==="previous")&&(X=!0)}}if(this._hasMarkerAngles=X,O){var Z=A.getTopojsonName(F);(k.topojson===null||Z!==k.topojsonName)&&(k.topojsonName=Z,PlotlyGeoAssets.topojson[k.topojsonName]===void 0&&N.push(k.fetchTopojson()))}N=N.concat(x.fetchTraceGeoData(b)),D.push(new Promise(function(te,Y){Promise.all(N).then(function(){k.topojson=PlotlyGeoAssets.topojson[k.topojsonName],k.update(b,I),te()}).catch(Y)}))},E.fetchTopojson=function(){var b=this,I=A.getTopojsonPath(b.topojsonURL,b.topojsonName);return new Promise(function(D,B){d.json(I,function(k,F){if(k)return k.status===404?B(new Error(["plotly.js could not find topojson file at",I+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):B(new Error(["unexpected error while fetching topojson file at",I].join(" ")));PlotlyGeoAssets.topojson[b.topojsonName]=F,D()})})},E.update=function(b,I,D){var B=I[this.id];this.hasChoropleth=!1;for(var k=0;k<b.length;k++){var F=b[k],N=F[0].trace;N.type==="choropleth"&&(this.hasChoropleth=!0),N.visible===!0&&N._length>0&&N._module.calcGeoJSON(F,I)}if(!D){var O=this.updateProjection(b,I);if(O)return;(!this.viewInitial||this.scope!==B.scope)&&this.saveViewInitial(B)}this.scope=B.scope,this.updateBaseLayers(I,B),this.updateDims(I,B),this.updateFx(I,B),u.generalUpdatePerTraceModule(this.graphDiv,this,b,B);var V=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=V.selectAll(".point"),this.dataPoints.text=V.selectAll("text"),this.dataPaths.line=V.selectAll(".js-line");var X=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=X.selectAll("path"),this._render()},E.updateProjection=function(b,I){var D=this.graphDiv,B=I[this.id],k=I._size,F=B.domain,N=B.projection,O=B.lonaxis,V=B.lataxis,X=O._ax,ee=V._ax,ne=this.projection=M(B),q=[[k.l+k.w*F.x[0],k.t+k.h*(1-F.y[1])],[k.l+k.w*F.x[1],k.t+k.h*(1-F.y[0])]],se=B.center||{},J=N.rotation||{},Z=O.range||[],te=V.range||[];if(B.fitbounds){X._length=q[1][0]-q[0][0],ee._length=q[1][1]-q[0][1],X.range=l(D,X),ee.range=l(D,ee);var Y=(X.range[0]+X.range[1])/2,ie=(ee.range[0]+ee.range[1])/2;if(B._isScoped)se={lon:Y,lat:ie};else if(B._isClipped){se={lon:Y,lat:ie},J={lon:Y,lat:ie,roll:J.roll};var le=N.type,j=p.lonaxisSpan[le]/2||180,K=p.lataxisSpan[le]/2||90;Z=[Y-j,Y+j],te=[ie-K,ie+K]}else se={lon:Y,lat:ie},J={lon:Y,lat:J.lat,roll:J.roll}}ne.center([se.lon-J.lon,se.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(N.parallels);var ue=S(Z,te);ne.fitExtent(q,ue);var ae=this.bounds=ne.getBounds(ue),he=this.fitScale=ne.scale(),xe=ne.translate();if(B.fitbounds){var Se=ne.getBounds(S(X.range,ee.range)),Ae=Math.min((ae[1][0]-ae[0][0])/(Se[1][0]-Se[0][0]),(ae[1][1]-ae[0][1])/(Se[1][1]-Se[0][1]));isFinite(Ae)?ne.scale(Ae*he):g.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ne.scale(N.scale*he);var De=this.midPt=[(ae[0][0]+ae[1][0])/2,(ae[0][1]+ae[1][1])/2];if(ne.translate([xe[0]+(De[0]-xe[0]),xe[1]+(De[1]-xe[1])]).clipExtent(ae),B._isAlbersUsa){var we=ne([se.lon,se.lat]),Ce=ne.translate();ne.translate([Ce[0]-(we[0]-Ce[0]),Ce[1]-(we[1]-Ce[1])])}},E.updateBaseLayers=function(b,I){var D=this,B=D.topojson,k=D.layers,F=D.basePaths;function N(q){return q==="lonaxis"||q==="lataxis"}function O(q){return!!p.lineLayers[q]}function V(q){return!!p.fillLayers[q]}var X=this.hasChoropleth?p.layersForChoropleth:p.layers,ee=X.filter(function(q){return O(q)||V(q)?I["show"+q]:N(q)?I[q].showgrid:!0}),ne=D.framework.selectAll(".layer").data(ee,String);ne.exit().each(function(q){delete k[q],delete F[q],d.select(this).remove()}),ne.enter().append("g").attr("class",function(q){return"layer "+q}).each(function(q){var se=k[q]=d.select(this);q==="bg"?D.bgRect=se.append("rect").style("pointer-events","all"):N(q)?F[q]=se.append("path").style("fill","none"):q==="backplot"?se.append("g").classed("choroplethlayer",!0):q==="frontplot"?se.append("g").classed("scatterlayer",!0):O(q)?F[q]=se.append("path").style("fill","none").style("stroke-miterlimit",2):V(q)&&(F[q]=se.append("path").style("stroke","none"))}),ne.order(),ne.each(function(q){var se=F[q],J=p.layerNameToAdjective[q];q==="frame"?se.datum(p.sphereSVG):O(q)||V(q)?se.datum(_(B,B.objects[q])):N(q)&&se.datum(s(q,I,b)).call(t.stroke,I[q].gridcolor).call(i.dashLine,I[q].griddash,I[q].gridwidth),O(q)?se.call(t.stroke,I[J+"color"]).call(i.dashLine,"",I[J+"width"]):V(q)&&se.call(t.fill,I[J+"color"])})},E.updateDims=function(b,I){var D=this.bounds,B=(I.framewidth||0)/2,k=D[0][0]-B,F=D[0][1]-B,N=D[1][0]-k+B,O=D[1][1]-F+B;i.setRect(this.clipRect,k,F,N,O),this.bgRect.call(i.setRect,k,F,N,O).call(t.fill,I.bgcolor),this.xaxis._offset=k,this.xaxis._length=N,this.yaxis._offset=F,this.yaxis._length=O},E.updateFx=function(b,I){var D=this,B=D.graphDiv,k=D.bgRect,F=b.dragmode,N=b.clickmode;if(D.isStatic)return;function O(){var ne=D.viewInitial,q={};for(var se in ne)q[D.id+"."+se]=ne[se];v.call("_guiRelayout",B,q),B.emit("plotly_doubleclick",null)}function V(ne){return D.projection.invert([ne[0]+D.xaxis._offset,ne[1]+D.yaxis._offset])}var X=function(ne,q){if(q.isRect){var se=ne.range={};se[D.id]=[V([q.xmin,q.ymin]),V([q.xmax,q.ymax])]}else{var J=ne.lassoPoints={};J[D.id]=q.map(V)}},ee={element:D.bgRect.node(),gd:B,plotinfo:{id:D.id,xaxis:D.xaxis,yaxis:D.yaxis,fillRangeItems:X},xaxes:[D.xaxis],yaxes:[D.yaxis],subplot:D.id,clickFn:function(ne){ne===2&&T(B)}};F==="pan"?(k.node().onmousedown=null,k.call(o(D,I)),k.on("dblclick.zoom",O),B._context._scrollZoom.geo||k.on("wheel.zoom",null)):(F==="select"||F==="lasso")&&(k.on(".zoom",null),ee.prepFn=function(ne,q,se){h(ne,q,se,ee,F)},m.init(ee)),k.on("mousemove",function(){var ne=D.projection.invert(g.getPositionFromD3Event());if(!ne)return m.unhover(B,d.event);D.xaxis.p2c=function(){return ne[0]},D.yaxis.p2c=function(){return ne[1]},a.hover(B,d.event,D.id)}),k.on("mouseout",function(){B._dragging||m.unhover(B,d.event)}),k.on("click",function(){F!=="select"&&F!=="lasso"&&(N.indexOf("select")>-1&&c(d.event,B,[D.xaxis],[D.yaxis],D.id,ee),N.indexOf("event")>-1&&a.click(B,d.event))})},E.makeFramework=function(){var b=this,I=b.graphDiv,D=I._fullLayout,B="clip"+D._uid+b.id;b.clipDef=D._clips.append("clipPath").attr("id",B),b.clipRect=b.clipDef.append("rect"),b.framework=d.select(b.container).append("g").attr("class","geo "+b.id).call(i.setClipUrl,B,I),b.project=function(k){var F=b.projection(k);return F?[F[0]-b.xaxis._offset,F[1]-b.yaxis._offset]:[null,null]},b.xaxis={_id:"x",c2p:function(k){return b.project(k)[0]}},b.yaxis={_id:"y",c2p:function(k){return b.project(k)[1]}},b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(b.mockAxis,D)},E.saveViewInitial=function(b){var I=b.center||{},D=b.projection,B=D.rotation||{};this.viewInitial={fitbounds:b.fitbounds,"projection.scale":D.scale};var k;b._isScoped?k={"center.lon":I.lon,"center.lat":I.lat}:b._isClipped?k={"projection.rotation.lon":B.lon,"projection.rotation.lat":B.lat}:k={"center.lon":I.lon,"center.lat":I.lat,"projection.rotation.lon":B.lon},g.extendFlat(this.viewInitial,k)},E.render=function(b){this._hasMarkerAngles&&b?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var b=this.projection,I=b.getPath(),D;function B(F){var N=b(F.lonlat);return N?r(N[0],N[1]):null}function k(F){return b.isLonLatOverEdges(F.lonlat)?"none":null}for(D in this.basePaths)this.basePaths[D].attr("d",I);for(D in this.dataPaths)this.dataPaths[D].attr("d",function(F){return I(F.geojson)});for(D in this.dataPoints)this.dataPoints[D].attr("display",k).attr("transform",B)};function M(b){var I=b.projection,D=I.type,B=p.projNames[D];B="geo"+g.titleCase(B);for(var k=C[B]||w[B],F=k(),N=b._isSatellite?Math.acos(1/I.distance)*180/Math.PI:b._isClipped?p.lonaxisSpan[D]/2:null,O=["center","rotate","parallels","clipExtent"],V=function(ne){return ne?F:[]},X=0;X<O.length;X++){var ee=O[X];typeof F[ee]!="function"&&(F[ee]=V)}return F.isLonLatOverEdges=function(ne){if(F(ne)===null)return!0;if(N){var q=F.rotate(),se=L(ne,[-q[0],-q[1]]),J=N*Math.PI/180;return se>J}else return!1},F.getPath=function(){return n().projection(F)},F.getBounds=function(ne){return F.getPath().bounds(ne)},F.precision(p.precision),b._isSatellite&&F.tilt(I.tilt).distance(I.distance),N&&F.clipAngle(N-p.clipPad),F}function s(b,I,D){var B=1e-6,k=2.5,F=I[b],N=p.scopeDefaults[I.scope],O,V,X;b==="lonaxis"?(O=N.lonaxisRange,V=N.lataxisRange,X=function(ie,le){return[ie,le]}):b==="lataxis"&&(O=N.lataxisRange,V=N.lonaxisRange,X=function(ie,le){return[le,ie]});var ee={type:"linear",range:[O[0],O[1]-B],tick0:F.tick0,dtick:F.dtick};f.setConvert(ee,D);var ne=f.calcTicks(ee);!I.isScoped&&b==="lonaxis"&&ne.pop();for(var q=ne.length,se=new Array(q),J=0;J<q;J++)for(var Z=ne[J].x,te=se[J]=[],Y=V[0];Y<V[1]+k;Y+=k)te.push(X(Z,Y));return{type:"MultiLineString",coordinates:se}}function S(b,I){var D=p.clipPad,B=b[0]+D,k=b[1]-D,F=I[0]+D,N=I[1]-D;B>0&&k<0&&(k+=360);var O=(k-B)/4;return{type:"Polygon",coordinates:[[[B,F],[B,N],[B+O,N],[B+2*O,N],[B+3*O,N],[k,N],[k,F],[k-O,F],[k-2*O,F],[k-3*O,F],[B,F]]]}}},10816:function(H,U,e){var d=e(84888).KY,C=e(3400).counterRegex,n=e(43520),L="geo",w=C(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function g(i){for(var a=i._fullLayout,u=i.calcdata,f=a._subplots[L],l=0;l<f.length;l++){var m=f[l],h=d(u,L,m),T=a[m],c=T._subplot;c||(c=n({id:m,graphDiv:i,container:a._geolayer.node(),topojsonURL:i._context.topojsonURL,staticPlot:i._context.staticPlot}),a[m]._subplot=c),c.plot(h,a,i._promises)}}function r(i,a,u,f){for(var l=f._subplots[L]||[],m=0;m<l.length;m++){var h=l[m],T=f[h]._subplot;!a[h]&&T&&(T.framework.remove(),T.clipDef.remove())}}function t(i){for(var a=i._fullLayout,u=a._subplots[L],f=0;f<u.length;f++){var l=a[u[f]],m=l._subplot;m.updateFx(a,l)}}H.exports={attr:L,name:L,idRoot:L,idRegex:w,attrRegex:w,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:g,updateFx:t,clean:r}},40384:function(H,U,e){var d=e(22548),C=e(86968).u,n=e(98192).u,L=e(79552),w=e(67824).overrideAll,v=e(95376),g={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:d.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:n},r=H.exports=w({domain:C({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:d.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:d.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:d.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:d.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:d.background},lonaxis:g,lataxis:g},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(H,U,e){var d=e(3400),C=e(168),n=e(84888).op,L=e(79552),w=e(40384),v=L.axesNames;H.exports=function(t,i,a){C(t,i,a,{type:"geo",attributes:w,handleDefaults:g,fullData:a,partition:"y"})};function g(r,t,i,a){var u=n(a.fullData,"geo",a.id),f=u.map(function(te){return te._expandedIndex}),l=i("resolution"),m=i("scope"),h=L.scopeDefaults[m],T=i("projection.type",h.projType),c=t._isAlbersUsa=T==="albers usa";c&&(m=t.scope="usa");var o=t._isScoped=m!=="world",p=t._isSatellite=T==="satellite",x=t._isConic=T.indexOf("conic")!==-1||T==="albers",A=t._isClipped=!!L.lonaxisSpan[T];if(r.visible===!1){var _=d.extendDeep({},t._template);_.showcoastlines=!1,_.showcountries=!1,_.showframe=!1,_.showlakes=!1,_.showland=!1,_.showocean=!1,_.showrivers=!1,_.showsubunits=!1,_.lonaxis&&(_.lonaxis.showgrid=!1),_.lataxis&&(_.lataxis.showgrid=!1),t._template=_}for(var y=i("visible"),E,M=0;M<v.length;M++){var s=v[M],S=[30,10][M],b;if(o)b=h[s+"Range"];else{var I=L[s+"Span"],D=(I[T]||I["*"])/2,B=i("projection.rotation."+s.substr(0,3),h.projRotate[M]);b=[B-D,B+D]}var k=i(s+".range",b);i(s+".tick0"),i(s+".dtick",S),E=i(s+".showgrid",y?void 0:!1),E&&(i(s+".gridcolor"),i(s+".gridwidth"),i(s+".griddash")),t[s]._ax={type:"linear",_id:s.slice(0,3),_traceIndices:f,setScale:d.identity,c2l:d.identity,r2l:d.identity,autorange:!0,range:k.slice(),_m:1,_input:{}}}var F=t.lonaxis.range,N=t.lataxis.range,O=F[0],V=F[1];O>0&&V<0&&(V+=360);var X=(O+V)/2,ee;if(!c){var ne=o?h.projRotate:[X,0,0];ee=i("projection.rotation.lon",ne[0]),i("projection.rotation.lat",ne[1]),i("projection.rotation.roll",ne[2]),E=i("showcoastlines",!o&&y),E&&(i("coastlinecolor"),i("coastlinewidth")),E=i("showocean",y?void 0:!1),E&&i("oceancolor")}var q,se;if(c?(q=-96.6,se=38.7):(q=o?X:ee,se=(N[0]+N[1])/2),i("center.lon",q),i("center.lat",se),p&&(i("projection.tilt"),i("projection.distance")),x){var J=h.projParallels||[0,60];i("projection.parallels",J)}i("projection.scale"),E=i("showland",y?void 0:!1),E&&i("landcolor"),E=i("showlakes",y?void 0:!1),E&&i("lakecolor"),E=i("showrivers",y?void 0:!1),E&&(i("rivercolor"),i("riverwidth")),E=i("showcountries",o&&m!=="usa"&&y),E&&(i("countrycolor"),i("countrywidth")),(m==="usa"||m==="north america"&&l===50)&&(i("showsubunits",y),i("subunitcolor"),i("subunitwidth")),o||(E=i("showframe",y),E&&(i("framecolor"),i("framewidth"))),i("bgcolor");var Z=i("fitbounds");Z&&(delete t.projection.scale,o?(delete t.center.lon,delete t.center.lat):A?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(H,U,e){var d=e(33428),C=e(3400),n=e(24040),L=Math.PI/180,w=180/Math.PI,v={cursor:"pointer"},g={cursor:"auto"};function r(s,S){var b=s.projection,I;return S._isScoped?I=a:S._isClipped?I=f:I=u,I(s,b)}H.exports=r;function t(s,S){return d.behavior.zoom().translate(S.translate()).scale(S.scale())}function i(s,S,b){var I=s.id,D=s.graphDiv,B=D.layout,k=B[I],F=D._fullLayout,N=F[I],O={},V={};function X(ee,ne){O[I+"."+ee]=C.nestedProperty(k,ee).get(),n.call("_storeDirectGUIEdit",B,F._preGUI,O);var q=C.nestedProperty(N,ee);q.get()!==ne&&(q.set(ne),C.nestedProperty(k,ee).set(ne),V[I+"."+ee]=ne)}b(X),X("projection.scale",S.scale()/s.fitScale),X("fitbounds",!1),D.emit("plotly_relayout",V)}function a(s,S){var b=t(s,S);function I(){d.select(this).style(v)}function D(){S.scale(d.event.scale).translate(d.event.translate),s.render(!0);var F=S.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":S.scale()/s.fitScale,"geo.center.lon":F[0],"geo.center.lat":F[1]})}function B(F){var N=S.invert(s.midPt);F("center.lon",N[0]),F("center.lat",N[1])}function k(){d.select(this).style(g),i(s,S,B)}return b.on("zoomstart",I).on("zoom",D).on("zoomend",k),b}function u(s,S){var b=t(s,S),I=2,D,B,k,F,N,O,V,X,ee;function ne(Y){return S.invert(Y)}function q(Y){var ie=ne(Y);if(!ie)return!0;var le=S(ie);return Math.abs(le[0]-Y[0])>I||Math.abs(le[1]-Y[1])>I}function se(){d.select(this).style(v),D=d.mouse(this),B=S.rotate(),k=S.translate(),F=B,N=ne(D)}function J(){if(O=d.mouse(this),q(D)){b.scale(S.scale()),b.translate(S.translate());return}S.scale(d.event.scale),S.translate([k[0],d.event.translate[1]]),N?ne(O)&&(X=ne(O),V=[F[0]+(X[0]-N[0]),B[1],B[2]],S.rotate(V),F=V):(D=O,N=ne(D)),ee=!0,s.render(!0);var Y=S.rotate(),ie=S.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":S.scale()/s.fitScale,"geo.center.lon":ie[0],"geo.center.lat":ie[1],"geo.projection.rotation.lon":-Y[0]})}function Z(){d.select(this).style(g),ee&&i(s,S,te)}function te(Y){var ie=S.rotate(),le=S.invert(s.midPt);Y("projection.rotation.lon",-ie[0]),Y("center.lon",le[0]),Y("center.lat",le[1])}return b.on("zoomstart",se).on("zoom",J).on("zoomend",Z),b}function f(s,S){S.rotate(),S.scale();var b=t(s,S),I=M(b,"zoomstart","zoom","zoomend"),D=0,B=b.on,k;b.on("zoomstart",function(){d.select(this).style(v);var X=d.mouse(this),ee=S.rotate(),ne=ee,q=S.translate(),se=m(ee);k=l(S,X),B.call(b,"zoom",function(){var J=d.mouse(this);if(S.scale(d.event.scale),!k)X=J,k=l(S,X);else if(l(S,J)){S.rotate(ee).translate(q);var Z=l(S,J),te=T(k,Z),Y=A(h(se,te)),ie=c(Y,k,ne);(!isFinite(ie[0])||!isFinite(ie[1])||!isFinite(ie[2]))&&(ie=ne),S.rotate(ie),ne=ie}N(I.of(this,arguments))}),F(I.of(this,arguments))}).on("zoomend",function(){d.select(this).style(g),B.call(b,"zoom",null),O(I.of(this,arguments)),i(s,S,V)}).on("zoom.redraw",function(){s.render(!0);var X=S.rotate();s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":S.scale()/s.fitScale,"geo.projection.rotation.lon":-X[0],"geo.projection.rotation.lat":-X[1]})});function F(X){D++||X({type:"zoomstart"})}function N(X){X({type:"zoom"})}function O(X){--D||X({type:"zoomend"})}function V(X){var ee=S.rotate();X("projection.rotation.lon",-ee[0]),X("projection.rotation.lat",-ee[1])}return d.rebind(b,I,"on")}function l(s,S){var b=s.invert(S);return b&&isFinite(b[0])&&isFinite(b[1])&&_(b)}function m(s){var S=.5*s[0]*L,b=.5*s[1]*L,I=.5*s[2]*L,D=Math.sin(S),B=Math.cos(S),k=Math.sin(b),F=Math.cos(b),N=Math.sin(I),O=Math.cos(I);return[B*F*O+D*k*N,D*F*O-B*k*N,B*k*O+D*F*N,B*F*N-D*k*O]}function h(s,S){var b=s[0],I=s[1],D=s[2],B=s[3],k=S[0],F=S[1],N=S[2],O=S[3];return[b*k-I*F-D*N-B*O,b*F+I*k+D*O-B*N,b*N-I*O+D*k+B*F,b*O+I*N-D*F+B*k]}function T(s,S){if(!(!s||!S)){var b=E(s,S),I=Math.sqrt(y(b,b)),D=.5*Math.acos(Math.max(-1,Math.min(1,y(s,S)))),B=Math.sin(D)/I;return I&&[Math.cos(D),b[2]*B,-b[1]*B,b[0]*B]}}function c(s,S,b){var I=x(S,2,s[0]);I=x(I,1,s[1]),I=x(I,0,s[2]-b[2]);var D=S[0],B=S[1],k=S[2],F=I[0],N=I[1],O=I[2],V=Math.atan2(B,D)*w,X=Math.sqrt(D*D+B*B),ee,ne;Math.abs(N)>X?(ne=(N>0?90:-90)-V,ee=0):(ne=Math.asin(N/X)*w-V,ee=Math.sqrt(X*X-N*N));var q=180-ne-2*V,se=(Math.atan2(O,F)-Math.atan2(k,ee))*w,J=(Math.atan2(O,F)-Math.atan2(k,-ee))*w,Z=o(b[0],b[1],ne,se),te=o(b[0],b[1],q,J);return Z<=te?[ne,se,b[2]]:[q,J,b[2]]}function o(s,S,b,I){var D=p(b-s),B=p(I-S);return Math.sqrt(D*D+B*B)}function p(s){return(s%360+540)%360-180}function x(s,S,b){var I=b*L,D=s.slice(),B=S===0?1:0,k=S===2?1:2,F=Math.cos(I),N=Math.sin(I);return D[B]=s[B]*F-s[k]*N,D[k]=s[k]*F+s[B]*N,D}function A(s){return[Math.atan2(2*(s[0]*s[1]+s[2]*s[3]),1-2*(s[1]*s[1]+s[2]*s[2]))*w,Math.asin(Math.max(-1,Math.min(1,2*(s[0]*s[2]-s[3]*s[1]))))*w,Math.atan2(2*(s[0]*s[3]+s[1]*s[2]),1-2*(s[2]*s[2]+s[3]*s[3]))*w]}function _(s){var S=s[0]*L,b=s[1]*L,I=Math.cos(b);return[I*Math.cos(S),I*Math.sin(S),Math.sin(b)]}function y(s,S){for(var b=0,I=0,D=s.length;I<D;++I)b+=s[I]*S[I];return b}function E(s,S){return[s[1]*S[2]-s[2]*S[1],s[2]*S[0]-s[0]*S[2],s[0]*S[1]-s[1]*S[0]]}function M(s){for(var S=0,b=arguments.length,I=[];++S<b;)I.push(arguments[S]);var D=d.dispatch.apply(null,I);return D.of=function(B,k){return function(F){var N;try{N=F.sourceEvent=d.event,F.target=s,d.event=F,D[F.type].apply(B,k)}finally{d.event=N}}},D}},84888:function(H,U,e){var d=e(24040),C=e(33816).SUBPLOT_PATTERN;U.KY=function(n,L,w){var v=d.subplotsRegistry[L];if(!v)return[];for(var g=v.attr,r=[],t=0;t<n.length;t++){var i=n[t],a=i[0].trace;a[g]===w&&r.push(i)}return r},U._M=function(n,L,w){var v=[],g=[],r;if(typeof L=="string"?r=d.getModule(L).plot:typeof L=="function"?r=L:r=L.plot,!r)return[v,n];for(var t=w,i=0;i<n.length;i++){var a=n[i],u=a[0].trace,f=u.zorder!==void 0;u.visible!==!0||u._length===0||(u._module&&u._module.plot===r&&(!f||u.zorder===t)?v.push(a):g.push(a))}return[v,g]},U.op=function(L,w,v){if(!d.subplotsRegistry[w])return[];var g=d.subplotsRegistry[w].attr,r=[],t,i,a;if(w==="gl2d"){var u=v.match(C);i="x"+u[1],a="y"+u[2]}for(var f=0;f<L.length;f++)t=L[f],w==="gl2d"&&d.traceIs(t,"gl2d")?t[g[0]]===i&&t[g[1]]===a&&r.push(t):t[g]===v&&r.push(t);return r}},2428:function(H,U,e){var d=e(62644),C=e(97264),n=e(29128),L=e(33816),w=e(89184);H.exports=g;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function g(r){var t=r.mouseContainer,i=r.glplot,a=new v(t,i);function u(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function f(){for(var m=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,T=r.yaxis._id,c=0;c<m.length;c++)if(m[c][h]!==-1){if(m[c][T]!==-1)return!0;break}return!1}a.mouseListener=d(t,l),t.addEventListener("touchstart",function(m){var h=n(m.changedTouches[0],t);l(0,h[0],h[1]),l(1,h[0],h[1]),m.preventDefault()},w?{passive:!1}:!1),t.addEventListener("touchmove",function(m){m.preventDefault();var h=n(m.changedTouches[0],t);l(1,h[0],h[1]),m.preventDefault()},w?{passive:!1}:!1),t.addEventListener("touchend",function(m){l(0,a.lastPos[0],a.lastPos[1]),m.preventDefault()},w?{passive:!1}:!1);function l(m,h,T){var c=r.calcDataBox(),o=i.viewBox,p=a.lastPos[0],x=a.lastPos[1],A=L.MINDRAG*i.pixelRatio,_=L.MINZOOM*i.pixelRatio,y,E;h*=i.pixelRatio,T*=i.pixelRatio,T=o[3]-o[1]-T;function M(B,k,F){var N=Math.min(k,F),O=Math.max(k,F);N!==O?(c[B]=N,c[B+2]=O,a.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(m){var s=h/(o[2]-o[0])*(c[2]-c[0])+c[0],S=T/(o[3]-o[1])*(c[3]-c[1])+c[1];a.boxInited||(a.boxStart[0]=s,a.boxStart[1]=S,a.dragStart[0]=h,a.dragStart[1]=T),a.boxEnd[0]=s,a.boxEnd[1]=S,a.boxInited=!0,!a.boxEnabled&&(a.boxStart[0]!==a.boxEnd[0]||a.boxStart[1]!==a.boxEnd[1])&&(a.boxEnabled=!0);var b=Math.abs(a.dragStart[0]-h)<_,I=Math.abs(a.dragStart[1]-T)<_;if(f()&&!(b&&I)){y=a.boxEnd[0]-a.boxStart[0],E=a.boxEnd[1]-a.boxStart[1];var D=(c[3]-c[1])/(c[2]-c[0]);Math.abs(y*D)>Math.abs(E)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(y)*D*(E>=0?1:-1),a.boxEnd[1]<c[1]?(a.boxEnd[1]=c[1],a.boxEnd[0]=a.boxStart[0]+(c[1]-a.boxStart[1])/Math.abs(D)):a.boxEnd[1]>c[3]&&(a.boxEnd[1]=c[3],a.boxEnd[0]=a.boxStart[0]+(c[3]-a.boxStart[1])/Math.abs(D))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(E)/D*(y>=0?1:-1),a.boxEnd[0]<c[0]?(a.boxEnd[0]=c[0],a.boxEnd[1]=a.boxStart[1]+(c[0]-a.boxStart[0])*Math.abs(D)):a.boxEnd[0]>c[2]&&(a.boxEnd[0]=c[2],a.boxEnd[1]=a.boxStart[1]+(c[2]-a.boxStart[0])*Math.abs(D)))}else b&&(a.boxEnd[0]=a.boxStart[0]),I&&(a.boxEnd[1]=a.boxStart[1])}else a.boxEnabled?(y=a.boxStart[0]!==a.boxEnd[0],E=a.boxStart[1]!==a.boxEnd[1],y||E?(y&&(M(0,a.boxStart[0],a.boxEnd[0]),r.xaxis.autorange=!1),E&&(M(1,a.boxStart[1],a.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,m?(a.panning||(a.dragStart[0]=h,a.dragStart[1]=T),Math.abs(a.dragStart[0]-h)<A&&(h=a.dragStart[0]),Math.abs(a.dragStart[1]-T)<A&&(T=a.dragStart[1]),y=(p-h)*(c[2]-c[0])/(i.viewBox[2]-i.viewBox[0]),E=(x-T)*(c[3]-c[1])/(i.viewBox[3]-i.viewBox[1]),c[0]+=y,c[2]+=y,c[1]+=E,c[3]+=E,r.setRanges(c),a.panning=!0,a.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations()):a.panning&&(a.panning=!1,r.relayoutCallback());break}a.lastPos[0]=h,a.lastPos[1]=T}return a.wheelListener=C(t,function(m,h){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),c=i.viewBox,o=a.lastPos[0],p=a.lastPos[1],x=Math.exp(5*h/(c[3]-c[1])),A=o/(c[2]-c[0])*(T[2]-T[0])+T[0],_=p/(c[3]-c[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-A)*x+A,T[2]=(T[2]-A)*x+A,T[1]=(T[1]-_)*x+_,T[3]=(T[3]-_)*x+_,r.setRanges(T),a.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),a}},92568:function(H,U,e){var d=e(54460),C=e(43080);function n(g){this.scene=g,this.gl=g.gl,this.pixelRatio=g.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=n.prototype,w=["xaxis","yaxis"];L.merge=function(g){this.titleEnable=!1,this.backgroundColor=C(g.plot_bgcolor);var r,t,i,a,u,f,l,m,h,T,c;for(T=0;T<2;++T){r=w[T];var o=r.charAt(0);for(t=g[this.scene[r]._name],i=t.title.text===this.scene.fullLayout._dfltTitle[o]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[T+c]=!1,this.labels[T+c]=i,this.labelColor[T+c]=C(t.title.font.color),this.labelFont[T+c]=t.title.font.family,this.labelSize[T+c]=t.title.font.size,this.labelPad[T+c]=this.getLabelPad(r,t),this.tickEnable[T+c]=!1,this.tickColor[T+c]=C((t.tickfont||{}).color),this.tickAngle[T+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[T+c]=this.getTickPad(t),this.tickMarkLength[T+c]=0,this.tickMarkWidth[T+c]=t.tickwidth||0,this.tickMarkColor[T+c]=C(t.tickcolor),this.borderLineEnable[T+c]=!1,this.borderLineColor[T+c]=C(t.linecolor),this.borderLineWidth[T+c]=t.linewidth||0;l=this.hasSharedAxis(t),u=this.hasAxisInDfltPos(r,t)&&!l,f=this.hasAxisInAltrPos(r,t)&&!l,a=t.mirror||!1,m=l?String(a).indexOf("all")!==-1:!!a,h=l?a==="allticks":String(a).indexOf("ticks")!==-1,u?this.labelEnable[T]=!0:f&&(this.labelEnable[T+2]=!0),u?this.tickEnable[T]=t.showticklabels:f&&(this.tickEnable[T+2]=t.showticklabels),(u||m)&&(this.borderLineEnable[T]=t.showline),(f||m)&&(this.borderLineEnable[T+2]=t.showline),(u||h)&&(this.tickMarkLength[T]=this.getTickMarkLength(t)),(f||h)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(t)),this.gridLineEnable[T]=t.showgrid,this.gridLineColor[T]=C(t.gridcolor),this.gridLineWidth[T]=t.gridwidth,this.zeroLineEnable[T]=t.zeroline,this.zeroLineColor[T]=C(t.zerolinecolor),this.zeroLineWidth[T]=t.zerolinewidth}},L.hasSharedAxis=function(g){var r=this.scene,t=r.fullLayout._subplots.gl2d,i=d.findSubplotsWithAxis(t,g);return i.indexOf(r.id)!==0},L.hasAxisInDfltPos=function(g,r){var t=r.side;if(g==="xaxis")return t==="bottom";if(g==="yaxis")return t==="left"},L.hasAxisInAltrPos=function(g,r){var t=r.side;if(g==="xaxis")return t==="top";if(g==="yaxis")return t==="right"},L.getLabelPad=function(g,r){var t=1.5,i=r.title.font.size,a=r.showticklabels;if(g==="xaxis")return r.side==="top"?-10+i*(t+(a?1:0)):-10+i*(t+(a?.5:0));if(g==="yaxis")return r.side==="right"?10+i*(t+(a?1:.5)):10+i*(t+(a?.5:0))},L.getTickPad=function(g){return g.ticks==="outside"?10+g.ticklen:15},L.getTickMarkLength=function(g){if(!g.ticks)return 0;var r=g.ticklen;return g.ticks==="inside"?-r:r};function v(g){return new n(g)}H.exports=v},39952:function(H,U,e){var d=e(67824).overrideAll,C=e(17188),n=e(64859),L=e(9616),w=e(33816),v=e(57952),g=e(65460),r=e(84888).op;U.name="gl2d",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=w.idRegex,U.attrRegex=w.attrRegex,U.attributes=e(26720),U.supplyLayoutDefaults=function(t,i,a){i._has("cartesian")||v.supplyLayoutDefaults(t,i,a)},U.layoutAttrOverrides=d(v.layoutAttributes,"plot","from-root"),U.baseLayoutAttrOverrides=d({plot_bgcolor:n.plot_bgcolor,hoverlabel:g.hoverlabel},"plot","nested"),U.plot=function(i){for(var a=i._fullLayout,u=i._fullData,f=a._subplots.gl2d,l=0;l<f.length;l++){var m=f[l],h=a._plots[m],T=r(u,"gl2d",m),c=h._scene2d;c===void 0&&(c=new C({id:m,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},a),h._scene2d=c),c.plot(T,i.calcdata,a,i.layout)}},U.clean=function(t,i,a,u){for(var f=u._subplots.gl2d||[],l=0;l<f.length;l++){var m=f[l],h=u._plots[m];if(h._scene2d){var T=r(t,"gl2d",m);T.length===0&&(h._scene2d.destroy(),delete u._plots[m])}}v.clean.apply(this,arguments)},U.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},U.toSVG=function(t){for(var i=t._fullLayout,a=i._subplots.gl2d,u=0;u<a.length;u++){var f=i._plots[a[u]],l=f._scene2d,m=l.toImage("png"),h=i._glimages.append("svg:image");h.attr({xmlns:L.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},U.updateFx=function(t){for(var i=t._fullLayout,a=i._subplots.gl2d,u=0;u<a.length;u++){var f=i._plots[a[u]]._scene2d;f.updateFx(i.dragmode)}}},17188:function(H,U,e){var d=e(24040),C=e(54460),n=e(93024),L=e(67792).gl_plot2d,w=e(67792).gl_spikes2d,v=e(67792).gl_select_box,g=e(5408),r=e(92568),t=e(2428),i=e(16576),a=e(71888),u=a.enforce,f=a.clean,l=e(19280).doAutoRange,m=e(72760),h=m.drawMode,T=m.selectMode,c=["xaxis","yaxis"],o,p,x=e(33816).SUBPLOT_PATTERN;function A(E,M){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(M),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(M),this.glplot=L(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=w(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}H.exports=A;var _=A.prototype;_.makeFramework=function(){if(this.staticPlot){if(!p&&(o=document.createElement("canvas"),p=g({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=p}else{var E=this.container.querySelector(".gl-canvas-focus"),M=g({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!M){i(this),this.stopped=!0;return}this.canvas=E,this.gl=M}var s=this.canvas;s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style["pointer-events"]="none",this.updateSize(s);var S=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");S.style.position="absolute",S.style.top=S.style.left="0px",S.style.width=S.style.height="100%",S.style["z-index"]=20,S.style["pointer-events"]="none";var b=this.mouseContainer=document.createElement("div");b.style.position="absolute",b.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var I=this.container;I.appendChild(S),I.appendChild(b);var D=this;b.addEventListener("mouseout",function(){D.isMouseOver=!1,D.unhover()}),b.addEventListener("mouseover",function(){D.isMouseOver=!0})},_.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var M=this.glplot.gl,s=M.drawingBufferWidth,S=M.drawingBufferHeight;M.clearColor(1,1,1,0),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),M.bindFramebuffer(M.FRAMEBUFFER,null);var b=new Uint8Array(s*S*4);M.readPixels(0,0,s,S,M.RGBA,M.UNSIGNED_BYTE,b);for(var I=0,D=S-1;I<D;++I,--D)for(var B=0;B<s;++B)for(var k=0;k<4;++k){var F=b[4*(s*I+B)+k];b[4*(s*I+B)+k]=b[4*(s*D+B)+k],b[4*(s*D+B)+k]=F}var N=document.createElement("canvas");N.width=s,N.height=S;var O=N.getContext("2d",{willReadFrequently:!0}),V=O.createImageData(s,S);V.data.set(b),O.putImageData(V,0,0);var X;switch(E){case"jpeg":X=N.toDataURL("image/jpeg");break;case"webp":X=N.toDataURL("image/webp");break;default:X=N.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),X},_.updateSize=function(E){E||(E=this.canvas);var M=this.pixelRatio,s=this.fullLayout,S=s.width,b=s.height,I=Math.ceil(M*S)|0,D=Math.ceil(M*b)|0;return(E.width!==I||E.height!==D)&&(E.width=I,E.height=D),E},_.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[C.calcTicks(this.xaxis),C.calcTicks(this.yaxis)],M=0;M<2;++M)for(var s=0;s<E[M].length;++s)E[M][s].text=E[M][s].text+"";return E};function y(E,M){for(var s=0;s<2;++s){var S=E[s],b=M[s];if(S.length!==b.length)return!0;for(var I=0;I<S.length;++I)if(S[I].x!==b[I].x)return!0}return!1}_.updateRefs=function(E){this.fullLayout=E;var M=this.id.match(x),s="xaxis"+M[1],S="yaxis"+M[2];this.xaxis=this.fullLayout[s],this.yaxis=this.fullLayout[S]},_.relayoutCallback=function(){var E=this.graphDiv,M=this.xaxis,s=this.yaxis,S=E.layout,b={},I=b[M._name+".range"]=M.range.slice(),D=b[s._name+".range"]=s.range.slice();b[M._name+".autorange"]=M.autorange,b[s._name+".autorange"]=s.autorange,d.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,b);var B=S[M._name];B.range=I,B.autorange=M.autorange;var k=S[s._name];k.range=D,k.autorange=s.autorange,b.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",b)},_.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var M=this.computeTickMarks(),s=this.glplotOptions.ticks;y(M,s)&&(this.glplotOptions.ticks=M,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},_.handleAnnotations=function(){for(var E=this.graphDiv,M=this.fullLayout.annotations,s=0;s<M.length;s++){var S=M[s];S.xref===this.xaxis._id&&S.yref===this.yaxis._id&&d.getComponentMethod("annotations","drawOne")(E,s)}},_.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(M){E[M].dispose(),delete E[M]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},_.plot=function(E,M,s){var S=this.glplot;this.updateRefs(s),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,M),this.updateFx(s.dragmode);var b=s.width,I=s.height;this.updateSize(this.canvas);var D=this.glplotOptions;D.merge(s),D.screenBox=[0,0,b,I];var B={_fullLayout:{_axisConstraintGroups:s._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:s._size}};f(B,this.xaxis),f(B,this.yaxis);var k=s._size,F=this.xaxis.domain,N=this.yaxis.domain;D.viewBox=[k.l+F[0]*k.w,k.b+N[0]*k.h,b-k.r-(1-F[1])*k.w,I-k.t-(1-N[1])*k.h],this.mouseContainer.style.width=k.w*(F[1]-F[0])+"px",this.mouseContainer.style.height=k.h*(N[1]-N[0])+"px",this.mouseContainer.height=k.h*(N[1]-N[0]),this.mouseContainer.style.left=k.l+F[0]*k.w+"px",this.mouseContainer.style.top=k.t+(1-N[1])*k.h+"px";var O,V;for(V=0;V<2;++V)O=this[c[V]],O._length=D.viewBox[V+2]-D.viewBox[V],l(this.graphDiv,O),O.setScale();u(B),D.ticks=this.computeTickMarks(),D.dataBox=this.calcDataBox(),D.merge(s),S.update(D),this.glplot.draw()},_.calcDataBox=function(){var E=this.xaxis,M=this.yaxis,s=E.range,S=M.range,b=E.r2l,I=M.r2l;return[b(s[0]),I(S[0]),b(s[1]),I(S[1])]},_.setRanges=function(E){var M=this.xaxis,s=this.yaxis,S=M.l2r,b=s.l2r;M.range=[S(E[0]),S(E[2])],s.range=[b(E[1]),b(E[3])]},_.updateTraces=function(E,M){var s=Object.keys(this.traces),S,b,I;this.fullData=E;e:for(S=0;S<s.length;S++){var D=s[S],B=this.traces[D];for(b=0;b<E.length;b++)if(I=E[b],I.uid===D&&I.type===B.type)continue e;B.dispose(),delete this.traces[D]}for(S=0;S<E.length;S++){I=E[S];var k=M[S],F=this.traces[I.uid];F?F.update(I,k):(F=I._module.plot(this,I,k),this.traces[I.uid]=F)}this.glplot.objects.sort(function(N,O){return N._trace.index-O._trace.index})},_.updateFx=function(E){T(E)||h(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},_.emitPointAction=function(E,M){for(var s=E.trace.uid,S=E.pointIndex,b,I=0;I<this.fullData.length;I++)this.fullData[I].uid===s&&(b=this.fullData[I]);var D={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:b.index,pointNumber:S,data:b._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};n.appendArrayPointValue(D,b,S),this.graphDiv.emit(M,{points:[D]})},_.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,M=this.camera,s=M.mouseListener,S=this.lastButtonState===1&&s.buttons===0,b=this.fullLayout;this.lastButtonState=s.buttons,this.cameraChanged();var I=s.x*E.pixelRatio,D=this.canvas.height-E.pixelRatio*s.y,B;if(M.boxEnabled&&b.dragmode==="zoom"){this.selectBox.enabled=!0;for(var k=this.selectBox.selectBox=[Math.min(M.boxStart[0],M.boxEnd[0]),Math.min(M.boxStart[1],M.boxEnd[1]),Math.max(M.boxStart[0],M.boxEnd[0]),Math.max(M.boxStart[1],M.boxEnd[1])],F=0;F<2;F++)M.boxStart[F]===M.boxEnd[F]&&(k[F]=E.dataBox[F],k[F+2]=E.dataBox[F+2]);E.setDirty()}else if(!M.panning&&this.isMouseOver){this.selectBox.enabled=!1;var N=b._size,O=this.xaxis.domain,V=this.yaxis.domain;B=E.pick(I/E.pixelRatio+N.l+O[0]*N.w,D/E.pixelRatio-(N.t+(1-V[1])*N.h));var X=B&&B.object._trace.handlePick(B);if(X&&S&&this.emitPointAction(X,"plotly_click"),B&&B.object._trace.hoverinfo!=="skip"&&b.hovermode&&X&&(!this.lastPickResult||this.lastPickResult.traceUid!==X.trace.uid||this.lastPickResult.dataCoord[0]!==X.dataCoord[0]||this.lastPickResult.dataCoord[1]!==X.dataCoord[1])){var ee=X;this.lastPickResult={traceUid:X.trace?X.trace.uid:null,dataCoord:X.dataCoord.slice()},this.spikes.update({center:B.dataCoord}),ee.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(B.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(B.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(X,"plotly_hover");var ne=this.fullData[ee.trace.index]||{},q=ee.pointIndex,se=n.castHoverinfo(ne,b,q);if(se&&se!=="all"){var J=se.split("+");J.indexOf("x")===-1&&(ee.traceCoord[0]=void 0),J.indexOf("y")===-1&&(ee.traceCoord[1]=void 0),J.indexOf("z")===-1&&(ee.traceCoord[2]=void 0),J.indexOf("text")===-1&&(ee.textLabel=void 0),J.indexOf("name")===-1&&(ee.name=void 0)}n.loneHover({x:ee.screenCoord[0],y:ee.screenCoord[1],xLabel:this.hoverFormatter("xaxis",ee.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",ee.traceCoord[1]),zLabel:ee.traceCoord[2],text:ee.textLabel,name:ee.name,color:n.castHoverOption(ne,q,"bgcolor")||ee.color,borderColor:n.castHoverOption(ne,q,"bordercolor"),fontFamily:n.castHoverOption(ne,q,"font.family"),fontSize:n.castHoverOption(ne,q,"font.size"),fontColor:n.castHoverOption(ne,q,"font.color"),nameLength:n.castHoverOption(ne,q,"namelength"),textAlign:n.castHoverOption(ne,q,"align")},{container:this.svgContainer,gd:this.graphDiv})}}B||this.unhover(),E.draw()}},_.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),n.loneUnhover(this.svgContainer))},_.hoverFormatter=function(E,M){if(M!==void 0){var s=this[E];return C.tickText(s,s.c2l(M),"hover").text}}},12536:function(H,U,e){var d=e(67824).overrideAll,C=e(65460),n=e(98432),L=e(84888).op,w=e(3400),v=e(9616),g="gl3d",r="scene";U.name=g,U.attr=r,U.idRoot=r,U.idRegex=U.attrRegex=w.counterRegex("scene"),U.attributes=e(6636),U.layoutAttributes=e(346),U.baseLayoutAttrOverrides=d({hoverlabel:C.hoverlabel},"plot","nested"),U.supplyLayoutDefaults=e(5208),U.plot=function(i){for(var a=i._fullLayout,u=i._fullData,f=a._subplots[g],l=0;l<f.length;l++){var m=f[l],h=L(u,g,m),T=a[m],c=T.camera,o=T._scene;o||(o=new n({id:m,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:c},a),T._scene=o),o.viewInitial||(o.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),o.plot(h,a,i.layout)}},U.clean=function(t,i,a,u){for(var f=u._subplots[g]||[],l=0;l<f.length;l++){var m=f[l];!i[m]&&u[m]._scene&&(u[m]._scene.destroy(),u._infolayer&&u._infolayer.selectAll(".annotation-"+m).remove())}},U.toSVG=function(t){for(var i=t._fullLayout,a=i._subplots[g],u=i._size,f=0;f<a.length;f++){var l=i[a[f]],m=l.domain,h=l._scene,T=h.toImage("png"),c=i._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":T,x:u.l+u.w*m.x[0],y:u.t+u.h*(1-m.y[1]),width:u.w*(m.x[1]-m.x[0]),height:u.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),h.destroy()}},U.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var a=i.substr(5);return a==="1"&&(a=""),r+a}},U.updateFx=function(t){for(var i=t._fullLayout,a=i._subplots[g],u=0;u<a.length;u++){var f=i[a[u]]._scene;f.updateFx(i.dragmode,i.hovermode)}}},6636:function(H){H.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(H,U,e){var d=e(76308),C=e(94724),n=e(92880).extendFlat,L=e(67824).overrideAll;H.exports=L({visible:C.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:d.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:C.color,categoryorder:C.categoryorder,categoryarray:C.categoryarray,title:{text:C.title.text,font:C.title.font},type:n({},C.type,{values:["-","linear","log","date","category"]}),autotypenumbers:C.autotypenumbers,autorange:C.autorange,autorangeoptions:{minallowed:C.autorangeoptions.minallowed,maxallowed:C.autorangeoptions.maxallowed,clipmin:C.autorangeoptions.clipmin,clipmax:C.autorangeoptions.clipmax,include:C.autorangeoptions.include,editType:"plot"},rangemode:C.rangemode,minallowed:C.minallowed,maxallowed:C.maxallowed,range:n({},C.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:C.minor.tickmode,nticks:C.nticks,tick0:C.tick0,dtick:C.dtick,tickvals:C.tickvals,ticktext:C.ticktext,ticks:C.ticks,mirror:C.mirror,ticklen:C.ticklen,tickwidth:C.tickwidth,tickcolor:C.tickcolor,showticklabels:C.showticklabels,labelalias:C.labelalias,tickfont:C.tickfont,tickangle:C.tickangle,tickprefix:C.tickprefix,showtickprefix:C.showtickprefix,ticksuffix:C.ticksuffix,showticksuffix:C.showticksuffix,showexponent:C.showexponent,exponentformat:C.exponentformat,minexponent:C.minexponent,separatethousands:C.separatethousands,tickformat:C.tickformat,tickformatstops:C.tickformatstops,hoverformat:C.hoverformat,showline:C.showline,linecolor:C.linecolor,linewidth:C.linewidth,showgrid:C.showgrid,gridcolor:n({},C.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:C.gridwidth,zeroline:C.zeroline,zerolinecolor:C.zerolinecolor,zerolinewidth:C.zerolinewidth,_deprecated:{title:C._deprecated.title,titlefont:C._deprecated.titlefont}},"plot","from-root")},64380:function(H,U,e){var d=e(49760).mix,C=e(3400),n=e(31780),L=e(86140),w=e(14944),v=e(28336),g=["xaxis","yaxis","zaxis"],r=100*136/187;H.exports=function(i,a,u){var f,l;function m(c,o){return C.coerce(f,l,L,c,o)}for(var h=0;h<g.length;h++){var T=g[h];f=i[T]||{},l=n.newContainer(a,T),l._id=T[0]+u.scene,l._name=T,w(f,l,m,u),v(f,l,m,{font:u.font,letter:T[0],data:u.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:u.bgColor,calendar:u.calendar},u.fullLayout),m("gridcolor",d(l.color,u.bgColor,r).toRgbString()),m("title.text",T[0]),l.setScale=C.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",l.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},44728:function(H,U,e){var d=e(43080),C=e(3400),n=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var w=L.prototype;w.merge=function(g,r){for(var t=this,i=0;i<3;++i){var a=r[n[i]];if(!a.visible){t.tickEnable[i]=!1,t.labelEnable[i]=!1,t.lineEnable[i]=!1,t.lineTickEnable[i]=!1,t.gridEnable[i]=!1,t.zeroEnable[i]=!1,t.backgroundEnable[i]=!1;continue}t.labels[i]=g._meta?C.templateString(a.title.text,g._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(t.labelColor[i]=d(a.title.font.color)),a.title.font.family&&(t.labelFont[i]=a.title.font.family),a.title.font.size&&(t.labelSize[i]=a.title.font.size),a.title.font.weight&&(t.labelFontWeight[i]=a.title.font.weight),a.title.font.style&&(t.labelFontStyle[i]=a.title.font.style),a.title.font.variant&&(t.labelFontVariant[i]=a.title.font.variant)),"showline"in a&&(t.lineEnable[i]=a.showline),"linecolor"in a&&(t.lineColor[i]=d(a.linecolor)),"linewidth"in a&&(t.lineWidth[i]=a.linewidth),"showgrid"in a&&(t.gridEnable[i]=a.showgrid),"gridcolor"in a&&(t.gridColor[i]=d(a.gridcolor)),"gridwidth"in a&&(t.gridWidth[i]=a.gridwidth),a.type==="log"?t.zeroEnable[i]=!1:"zeroline"in a&&(t.zeroEnable[i]=a.zeroline),"zerolinecolor"in a&&(t.zeroLineColor[i]=d(a.zerolinecolor)),"zerolinewidth"in a&&(t.zeroLineWidth[i]=a.zerolinewidth),"ticks"in a&&a.ticks?t.lineTickEnable[i]=!0:t.lineTickEnable[i]=!1,"ticklen"in a&&(t.lineTickLength[i]=t._defaultLineTickLength[i]=a.ticklen),"tickcolor"in a&&(t.lineTickColor[i]=d(a.tickcolor)),"tickwidth"in a&&(t.lineTickWidth[i]=a.tickwidth),"tickangle"in a&&(t.tickAngle[i]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(t.tickEnable[i]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(t.tickColor[i]=d(a.tickfont.color)),a.tickfont.family&&(t.tickFont[i]=a.tickfont.family),a.tickfont.size&&(t.tickSize[i]=a.tickfont.size),a.tickfont.weight&&(t.tickFontWeight[i]=a.tickfont.weight),a.tickfont.style&&(t.tickFontStyle[i]=a.tickfont.style),a.tickfont.variant&&(t.tickFontVariant[i]=a.tickfont.variant)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(t.lineTickMirror[i]=!0,t.lineMirror[i]=!0):a.mirror===!0?(t.lineTickMirror[i]=!1,t.lineMirror[i]=!0):(t.lineTickMirror[i]=!1,t.lineMirror[i]=!1):t.lineMirror[i]=!1,"showbackground"in a&&a.showbackground!==!1?(t.backgroundEnable[i]=!0,t.backgroundColor[i]=d(a.backgroundcolor)):t.backgroundEnable[i]=!1}};function v(g,r){var t=new L;return t.merge(g,r),t}H.exports=v},5208:function(H,U,e){var d=e(3400),C=e(76308),n=e(24040),L=e(168),w=e(64380),v=e(346),g=e(84888).op,r="gl3d";H.exports=function(a,u,f){var l=u._basePlotModules.length>1;function m(h){if(!l){var T=d.validate(a[h],v[h]);if(T)return a[h]}}L(a,u,f,{type:r,attributes:v,handleDefaults:t,fullLayout:u,font:u.font,fullData:f,getDfltFromLayout:m,autotypenumbersDflt:u.autotypenumbers,paper_bgcolor:u.paper_bgcolor,calendar:u.calendar})};function t(i,a,u,f){for(var l=u("bgcolor"),m=C.combine(l,f.paper_bgcolor),h=["up","center","eye"],T=0;T<h.length;T++)u("camera."+h[T]+".x"),u("camera."+h[T]+".y"),u("camera."+h[T]+".z");u("camera.projection.type");var c=!!u("aspectratio.x")&&!!u("aspectratio.y")&&!!u("aspectratio.z"),o=c?"manual":"auto",p=u("aspectmode",o);c||(i.aspectratio=a.aspectratio={x:1,y:1,z:1},p==="manual"&&(a.aspectmode="auto"),i.aspectmode=a.aspectmode);var x=g(f.fullData,r,f.id);w(i,a,{font:f.font,scene:f.id,data:x,bgColor:m,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),n.getComponentMethod("annotations3d","handleDefaults")(i,a,f);var A=f.getDfltFromLayout("dragmode");if(A!==!1&&!A)if(A="orbit",i.camera&&i.camera.up){var _=i.camera.up.x,y=i.camera.up.y,E=i.camera.up.z;E!==0&&(!_||!y||!E||E/Math.sqrt(_*_+y*y+E*E)>.999)&&(A="turntable")}else A="turntable";u("dragmode",A),u("hovermode",f.getDfltFromLayout("hovermode"))}},346:function(H,U,e){var d=e(86140),C=e(86968).u,n=e(92880).extendFlat,L=e(3400).counterRegex;function w(v,g,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:g,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}H.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:n(w(0,0,1),{}),center:n(w(0,0,0),{}),eye:n(w(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:C({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:d,yaxis:d,zaxis:d,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(H,U,e){var d=e(43080),C=["xaxis","yaxis","zaxis"];function n(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=n.prototype;L.merge=function(v){for(var g=0;g<3;++g){var r=v[C[g]];if(!r.visible){this.enabled[g]=!1,this.drawSides[g]=!1;continue}this.enabled[g]=r.showspikes,this.colors[g]=d(r.spikecolor),this.drawSides[g]=r.spikesides,this.lineWidth[g]=r.spikethickness}};function w(v){var g=new n;return g.merge(v),g}H.exports=w},87152:function(H,U,e){H.exports=w;var d=e(54460),C=e(3400),n=["xaxis","yaxis","zaxis"];function L(v){for(var g=new Array(3),r=0;r<3;++r){for(var t=v[r],i=new Array(t.length),a=0;a<t.length;++a)i[a]=t[a].x;g[r]=i}return g}function w(v){for(var g=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,i=[[],[],[]],a=0;a<3;++a){var u=t[n[a]];if(u._length=(r[a].hi-r[a].lo)*r[a].pixelsPerDataUnit/v.dataScale[a],Math.abs(u._length)===1/0||isNaN(u._length))i[a]=[];else{u._input_range=u.range.slice(),u.range[0]=r[a].lo/v.dataScale[a],u.range[1]=r[a].hi/v.dataScale[a],u._m=1/(v.dataScale[a]*r[a].pixelsPerDataUnit),u.range[0]===u.range[1]&&(u.range[0]-=1,u.range[1]+=1);var f=u.tickmode;if(u.tickmode==="auto"){u.tickmode="linear";var l=u.nticks||C.constrain(u._length/40,4,9);d.autoTicks(u,Math.abs(u.range[1]-u.range[0])/l)}for(var m=d.calcTicks(u,{msUTC:!0}),h=0;h<m.length;++h)m[h].x=m[h].x*v.dataScale[a],u.type==="date"&&(m[h].text=m[h].text.replace(/\<br\>/g," "));i[a]=m,u.tickmode=f}}g.ticks=i;for(var a=0;a<3;++a){.5*(v.glplot.bounds[0][a]+v.glplot.bounds[1][a]);for(var h=0;h<2;++h)g.bounds[h][a]=v.glplot.bounds[h][a]}v.contourLevels=L(i)}},94424:function(H){function U(d,C){var n=[0,0,0,0],L,w;for(L=0;L<4;++L)for(w=0;w<4;++w)n[w]+=d[4*L+w]*C[L];return n}function e(d,C){var n=U(d.projection,U(d.view,U(d.model,[C[0],C[1],C[2],1])));return n}H.exports=e},98432:function(H,U,e){var d=e(67792).gl_plot3d,C=d.createCamera,n=d.createScene,L=e(5408),w=e(89184),v=e(24040),g=e(3400),r=g.preserveDrawingBuffer(),t=e(54460),i=e(93024),a=e(43080),u=e(16576),f=e(94424),l=e(44728),m=e(9020),h=e(87152),T=e(19280).applyAutorangeOptions,c,o,p=!1;function x(D,B){var k=document.createElement("div"),F=D.container;this.graphDiv=D.graphDiv;var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.style.position="absolute",N.style.top=N.style.left="0px",N.style.width=N.style.height="100%",N.style["z-index"]=20,N.style["pointer-events"]="none",k.appendChild(N),this.svgContainer=N,k.id=D.id,k.style.position="absolute",k.style.top=k.style.left="0px",k.style.width=k.style.height="100%",F.appendChild(k),this.fullLayout=B,this.id=D.id||"scene",this.fullSceneLayout=B[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(B,B[this.id]),this.spikeOptions=m(B[this.id]),this.container=k,this.staticMode=!!D.staticPlot,this.pixelRatio=this.pixelRatio||D.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var A=x.prototype;A.prepareOptions=function(){var D=this,B={canvas:D.canvas,gl:D.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:D.container,axes:D.axesOptions,spikes:D.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:D.camera,pixelRatio:D.pixelRatio};if(D.staticMode){if(!o&&(c=document.createElement("canvas"),o=L({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!o))throw new Error("error creating static canvas/context for image server");B.gl=o,B.canvas=c}return B};var _=!0;A.tryCreatePlot=function(){var D=this,B=D.prepareOptions(),k=!0;try{D.glplot=n(B)}catch{if(D.staticMode||!_||r)k=!1;else{g.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=B.glOptions.preserveDrawingBuffer=!0,D.glplot=n(B)}catch{r=B.glOptions.preserveDrawingBuffer=!1,k=!1}}}return _=!1,k},A.initializeGLCamera=function(){var D=this,B=D.fullSceneLayout.camera,k=B.projection.type==="orthographic";D.camera=C(D.container,{center:[B.center.x,B.center.y,B.center.z],eye:[B.eye.x,B.eye.y,B.eye.z],up:[B.up.x,B.up.y,B.up.z],_ortho:k,zoomMin:.01,zoomMax:100,mode:"orbit"})},A.initializeGLPlot=function(){var D=this;D.initializeGLCamera();var B=D.tryCreatePlot();if(!B)return u(D);D.traces={},D.make4thDimension();var k=D.graphDiv,F=k.layout,N=function(){var V={};return D.isCameraChanged(F)&&(V[D.id+".camera"]=D.getCamera()),D.isAspectChanged(F)&&(V[D.id+".aspectratio"]=D.glplot.getAspectratio(),F[D.id].aspectmode!=="manual"&&(D.fullSceneLayout.aspectmode=F[D.id].aspectmode=V[D.id+".aspectmode"]="manual")),V},O=function(V){if(V.fullSceneLayout.dragmode!==!1){var X=N();V.saveLayout(F),V.graphDiv.emit("plotly_relayout",X)}};return D.glplot.canvas&&(D.glplot.canvas.addEventListener("mouseup",function(){O(D)}),D.glplot.canvas.addEventListener("touchstart",function(){p=!0}),D.glplot.canvas.addEventListener("wheel",function(V){if(k._context._scrollZoom.gl3d){if(D.camera._ortho){var X=V.deltaX>V.deltaY?1.1:.9090909090909091,ee=D.glplot.getAspectratio();D.glplot.setAspectratio({x:X*ee.x,y:X*ee.y,z:X*ee.z})}O(D)}},w?{passive:!1}:!1),D.glplot.canvas.addEventListener("mousemove",function(){if(D.fullSceneLayout.dragmode!==!1&&D.camera.mouseListener.buttons!==0){var V=N();D.graphDiv.emit("plotly_relayouting",V)}}),D.staticMode||D.glplot.canvas.addEventListener("webglcontextlost",function(V){k&&k.emit&&k.emit("plotly_webglcontextlost",{event:V,layer:D.id})},!1)),D.glplot.oncontextloss=function(){D.recoverContext()},D.glplot.onrender=function(){D.render()},!0},A.render=function(){var D=this,B=D.graphDiv,k,F=D.svgContainer,N=D.container.getBoundingClientRect();B._fullLayout._calcInverseTransform(B);var O=B._fullLayout._invScaleX,V=B._fullLayout._invScaleY,X=N.width*O,ee=N.height*V;F.setAttributeNS(null,"viewBox","0 0 "+X+" "+ee),F.setAttributeNS(null,"width",X),F.setAttributeNS(null,"height",ee),h(D),D.glplot.axes.update(D.axesOptions);for(var ne=Object.keys(D.traces),q=null,se=D.glplot.selection,J=0;J<ne.length;++J)k=D.traces[ne[J]],k.data.hoverinfo!=="skip"&&k.handlePick(se)&&(q=k),k.setContourLevels&&k.setContourLevels();function Z(De,we,Ce){var be=D.fullSceneLayout[De+"axis"];return be.type!=="log"&&(we=be.d2l(we)),t.hoverLabelText(be,we,Ce)}if(q!==null){var te=f(D.glplot.cameraParams,se.dataCoordinate);k=q.data;var Y=B._fullData[k.index],ie=se.index,le={xLabel:Z("x",se.traceCoordinate[0],k.xhoverformat),yLabel:Z("y",se.traceCoordinate[1],k.yhoverformat),zLabel:Z("z",se.traceCoordinate[2],k.zhoverformat)},j=i.castHoverinfo(Y,D.fullLayout,ie),K=(j||"").split("+"),ue=j&&j==="all";!Y.hovertemplate&&!ue&&(K.indexOf("x")===-1&&(le.xLabel=void 0),K.indexOf("y")===-1&&(le.yLabel=void 0),K.indexOf("z")===-1&&(le.zLabel=void 0),K.indexOf("text")===-1&&(se.textLabel=void 0),K.indexOf("name")===-1&&(q.name=void 0));var ae,he=[];k.type==="cone"||k.type==="streamtube"?(le.uLabel=Z("x",se.traceCoordinate[3],k.uhoverformat),(ue||K.indexOf("u")!==-1)&&he.push("u: "+le.uLabel),le.vLabel=Z("y",se.traceCoordinate[4],k.vhoverformat),(ue||K.indexOf("v")!==-1)&&he.push("v: "+le.vLabel),le.wLabel=Z("z",se.traceCoordinate[5],k.whoverformat),(ue||K.indexOf("w")!==-1)&&he.push("w: "+le.wLabel),le.normLabel=se.traceCoordinate[6].toPrecision(3),(ue||K.indexOf("norm")!==-1)&&he.push("norm: "+le.normLabel),k.type==="streamtube"&&(le.divergenceLabel=se.traceCoordinate[7].toPrecision(3),(ue||K.indexOf("divergence")!==-1)&&he.push("divergence: "+le.divergenceLabel)),se.textLabel&&he.push(se.textLabel),ae=he.join("<br>")):k.type==="isosurface"||k.type==="volume"?(le.valueLabel=t.hoverLabelText(D._mockAxis,D._mockAxis.d2l(se.traceCoordinate[3]),k.valuehoverformat),he.push("value: "+le.valueLabel),se.textLabel&&he.push(se.textLabel),ae=he.join("<br>")):ae=se.textLabel;var xe={x:se.traceCoordinate[0],y:se.traceCoordinate[1],z:se.traceCoordinate[2],data:Y._input,fullData:Y,curveNumber:Y.index,pointNumber:ie};i.appendArrayPointValue(xe,Y,ie),k._module.eventData&&(xe=Y._module.eventData(xe,se,Y,{},ie));var Se={points:[xe]};if(D.fullSceneLayout.hovermode){var Ae=[];i.loneHover({trace:Y,x:(.5+.5*te[0]/te[3])*X,y:(.5-.5*te[1]/te[3])*ee,xLabel:le.xLabel,yLabel:le.yLabel,zLabel:le.zLabel,text:ae,name:q.name,color:i.castHoverOption(Y,ie,"bgcolor")||q.color,borderColor:i.castHoverOption(Y,ie,"bordercolor"),fontFamily:i.castHoverOption(Y,ie,"font.family"),fontSize:i.castHoverOption(Y,ie,"font.size"),fontColor:i.castHoverOption(Y,ie,"font.color"),nameLength:i.castHoverOption(Y,ie,"namelength"),textAlign:i.castHoverOption(Y,ie,"align"),hovertemplate:g.castOption(Y,ie,"hovertemplate"),hovertemplateLabels:g.extendFlat({},xe,le),eventData:[xe]},{container:F,gd:B,inOut_bbox:Ae}),xe.bbox=Ae[0]}se.distance<5&&(se.buttons||p)?B.emit("plotly_click",Se):B.emit("plotly_hover",Se),this.oldEventData=Se}else i.loneUnhover(F),this.oldEventData&&B.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;D.drawAnnotations(D)},A.recoverContext=function(){var D=this;D.glplot.dispose();var B=function(){if(D.glplot.gl.isContextLost()){requestAnimationFrame(B);return}if(!D.initializeGLPlot()){g.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}D.plot.apply(D,D.plotArgs)};requestAnimationFrame(B)};var y=["xaxis","yaxis","zaxis"];function E(D,B,k){for(var F=D.fullSceneLayout,N=0;N<3;N++){var O=y[N],V=O.charAt(0),X=F[O],ee=B[V],ne=B[V+"calendar"],q=B["_"+V+"length"];if(!g.isArrayOrTypedArray(ee))k[0][N]=Math.min(k[0][N],0),k[1][N]=Math.max(k[1][N],q-1);else for(var se,J=0;J<(q||ee.length);J++)if(g.isArrayOrTypedArray(ee[J]))for(var Z=0;Z<ee[J].length;++Z)se=X.d2l(ee[J][Z],0,ne),!isNaN(se)&&isFinite(se)&&(k[0][N]=Math.min(k[0][N],se),k[1][N]=Math.max(k[1][N],se));else se=X.d2l(ee[J],0,ne),!isNaN(se)&&isFinite(se)&&(k[0][N]=Math.min(k[0][N],se),k[1][N]=Math.max(k[1][N],se))}}function M(D,B){for(var k=D.fullSceneLayout,F=k.annotations||[],N=0;N<3;N++)for(var O=y[N],V=O.charAt(0),X=k[O],ee=0;ee<F.length;ee++){var ne=F[ee];if(ne.visible){var q=X.r2l(ne[V]);!isNaN(q)&&isFinite(q)&&(B[0][N]=Math.min(B[0][N],q),B[1][N]=Math.max(B[1][N],q))}}}A.plot=function(D,B,k){var F=this;if(F.plotArgs=[D,B,k],!F.glplot.contextLost){var N,O,V,X,ee,ne,q=B[F.id],se=k[F.id];F.fullLayout=B,F.fullSceneLayout=q,F.axesOptions.merge(B,q),F.spikeOptions.merge(q),F.setViewport(q),F.updateFx(q.dragmode,q.hovermode),F.camera.enableWheel=F.graphDiv._context._scrollZoom.gl3d,F.glplot.setClearColor(a(q.bgcolor)),F.setConvert(ee),D?Array.isArray(D)||(D=[D]):D=[];var J=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(V=0;V<D.length;++V)N=D[V],!(N.visible!==!0||N._length===0)&&E(this,N,J);M(this,J);var Z=[1,1,1];for(X=0;X<3;++X)J[1][X]===J[0][X]?Z[X]=1:Z[X]=1/(J[1][X]-J[0][X]);for(F.dataScale=Z,F.convertAnnotations(this),V=0;V<D.length;++V)N=D[V],!(N.visible!==!0||N._length===0)&&(O=F.traces[N.uid],O?O.data.type===N.type?O.update(N):(O.dispose(),O=N._module.plot(this,N),F.traces[N.uid]=O):(O=N._module.plot(this,N),F.traces[N.uid]=O),O.name=N.name);var te=Object.keys(F.traces);e:for(V=0;V<te.length;++V){for(X=0;X<D.length;++X)if(D[X].uid===te[V]&&D[X].visible===!0&&D[X]._length!==0)continue e;O=F.traces[te[V]],O.dispose(),delete F.traces[te[V]]}F.glplot.objects.sort(function(gt,ct){return gt._trace.data.index-ct._trace.data.index});var Y=[[0,0,0],[0,0,0]],ie={};for(V=0;V<3;++V){ee=q[y[V]],ne=ee.type,ne in ie?(ie[ne].acc*=Z[V],ie[ne].count+=1):ie[ne]={acc:Z[V],count:1};var le;if(ee.autorange){Y[0][V]=1/0,Y[1][V]=-1/0;var j=F.glplot.objects,K=F.fullSceneLayout.annotations||[],ue=ee._name.charAt(0);for(X=0;X<j.length;X++){var ae=j[X],he=ae.bounds,xe=ae._trace.data._pad||0;ae.constructor.name==="ErrorBars"&&ee._lowerLogErrorBound?Y[0][V]=Math.min(Y[0][V],ee._lowerLogErrorBound):Y[0][V]=Math.min(Y[0][V],he[0][V]/Z[V]-xe),Y[1][V]=Math.max(Y[1][V],he[1][V]/Z[V]+xe)}for(X=0;X<K.length;X++){var Se=K[X];if(Se.visible){var Ae=ee.r2l(Se[ue]);Y[0][V]=Math.min(Y[0][V],Ae),Y[1][V]=Math.max(Y[1][V],Ae)}}if("rangemode"in ee&&ee.rangemode==="tozero"&&(Y[0][V]=Math.min(Y[0][V],0),Y[1][V]=Math.max(Y[1][V],0)),Y[0][V]>Y[1][V])Y[0][V]=-1,Y[1][V]=1;else{var De=Y[1][V]-Y[0][V];Y[0][V]-=De/32,Y[1][V]+=De/32}if(le=[Y[0][V],Y[1][V]],le=T(le,ee),Y[0][V]=le[0],Y[1][V]=le[1],ee.isReversed()){var we=Y[0][V];Y[0][V]=Y[1][V],Y[1][V]=we}}else le=ee.range,Y[0][V]=ee.r2l(le[0]),Y[1][V]=ee.r2l(le[1]);Y[0][V]===Y[1][V]&&(Y[0][V]-=1,Y[1][V]+=1),ee.range=[Y[0][V],Y[1][V]],ee.limitRange(),F.glplot.setBounds(V,{min:ee.range[0]*Z[V],max:ee.range[1]*Z[V]})}var Ce,be=q.aspectmode;if(be==="cube")Ce=[1,1,1];else if(be==="manual"){var Pe=q.aspectratio;Ce=[Pe.x,Pe.y,Pe.z]}else if(be==="auto"||be==="data"){var Ve=[1,1,1];for(V=0;V<3;++V){ee=q[y[V]],ne=ee.type;var Ge=ie[ne];Ve[V]=Math.pow(Ge.acc,1/Ge.count)/Z[V]}be==="data"||Math.max.apply(null,Ve)/Math.min.apply(null,Ve)<=4?Ce=Ve:Ce=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");q.aspectratio.x=se.aspectratio.x=Ce[0],q.aspectratio.y=se.aspectratio.y=Ce[1],q.aspectratio.z=se.aspectratio.z=Ce[2],F.glplot.setAspectratio(q.aspectratio),F.viewInitial.aspectratio||(F.viewInitial.aspectratio={x:q.aspectratio.x,y:q.aspectratio.y,z:q.aspectratio.z}),F.viewInitial.aspectmode||(F.viewInitial.aspectmode=q.aspectmode);var Fe=q.domain||null,He=B._size||null;if(Fe&&He){var ft=F.container.style;ft.position="absolute",ft.left=He.l+Fe.x[0]*He.w+"px",ft.top=He.t+(1-Fe.y[1])*He.h+"px",ft.width=He.w*(Fe.x[1]-Fe.x[0])+"px",ft.height=He.h*(Fe.y[1]-Fe.y[0])+"px"}F.glplot.redraw()}},A.destroy=function(){var D=this;D.glplot&&(D.camera.mouseListener.enabled=!1,D.container.removeEventListener("wheel",D.camera.wheelListener),D.camera=null,D.glplot.dispose(),D.container.parentNode.removeChild(D.container),D.glplot=null)};function s(D){return[[D.eye.x,D.eye.y,D.eye.z],[D.center.x,D.center.y,D.center.z],[D.up.x,D.up.y,D.up.z]]}function S(D){return{up:{x:D.up[0],y:D.up[1],z:D.up[2]},center:{x:D.center[0],y:D.center[1],z:D.center[2]},eye:{x:D.eye[0],y:D.eye[1],z:D.eye[2]},projection:{type:D._ortho===!0?"orthographic":"perspective"}}}A.getCamera=function(){var D=this;return D.camera.view.recalcMatrix(D.camera.view.lastT()),S(D.camera)},A.setViewport=function(D){var B=this,k=D.camera;B.camera.lookAt.apply(this,s(k)),B.glplot.setAspectratio(D.aspectratio);var F=k.projection.type==="orthographic",N=B.camera._ortho;F!==N&&(B.glplot.redraw(),B.glplot.clearRGBA(),B.glplot.dispose(),B.initializeGLPlot())},A.isCameraChanged=function(D){var B=this,k=B.getCamera(),F=g.nestedProperty(D,B.id+".camera"),N=F.get();function O(ne,q,se,J){var Z=["up","center","eye"],te=["x","y","z"];return q[Z[se]]&&ne[Z[se]][te[J]]===q[Z[se]][te[J]]}var V=!1;if(N===void 0)V=!0;else{for(var X=0;X<3;X++)for(var ee=0;ee<3;ee++)if(!O(k,N,X,ee)){V=!0;break}(!N.projection||k.projection&&k.projection.type!==N.projection.type)&&(V=!0)}return V},A.isAspectChanged=function(D){var B=this,k=B.glplot.getAspectratio(),F=g.nestedProperty(D,B.id+".aspectratio"),N=F.get();return N===void 0||N.x!==k.x||N.y!==k.y||N.z!==k.z},A.saveLayout=function(D){var B=this,k=B.fullLayout,F,N,O,V,X,ee,ne=B.isCameraChanged(D),q=B.isAspectChanged(D),se=ne||q;if(se){var J={};if(ne&&(F=B.getCamera(),N=g.nestedProperty(D,B.id+".camera"),O=N.get(),J[B.id+".camera"]=O),q&&(V=B.glplot.getAspectratio(),X=g.nestedProperty(D,B.id+".aspectratio"),ee=X.get(),J[B.id+".aspectratio"]=ee),v.call("_storeDirectGUIEdit",D,k._preGUI,J),ne){N.set(F);var Z=g.nestedProperty(k,B.id+".camera");Z.set(F)}if(q){X.set(V);var te=g.nestedProperty(k,B.id+".aspectratio");te.set(V),B.glplot.redraw()}}return se},A.updateFx=function(D,B){var k=this,F=k.camera;if(F)if(D==="orbit")F.mode="orbit",F.keyBindingMode="rotate";else if(D==="turntable"){F.up=[0,0,1],F.mode="turntable",F.keyBindingMode="rotate";var N=k.graphDiv,O=N._fullLayout,V=k.fullSceneLayout.camera,X=V.up.x,ee=V.up.y,ne=V.up.z;if(ne/Math.sqrt(X*X+ee*ee+ne*ne)<.999){var q=k.id+".camera.up",se={x:0,y:0,z:1},J={};J[q]=se;var Z=N.layout;v.call("_storeDirectGUIEdit",Z,O._preGUI,J),V.up=se,g.nestedProperty(Z,q).set(se)}}else F.keyBindingMode=D;k.fullSceneLayout.hovermode=B};function b(D,B,k){for(var F=0,N=k-1;F<N;++F,--N)for(var O=0;O<B;++O)for(var V=0;V<4;++V){var X=4*(B*F+O)+V,ee=4*(B*N+O)+V,ne=D[X];D[X]=D[ee],D[ee]=ne}}function I(D,B,k){for(var F=0;F<k;++F)for(var N=0;N<B;++N){var O=4*(B*F+N),V=D[O+3];if(V>0)for(var X=255/V,ee=0;ee<3;++ee)D[O+ee]=Math.min(X*D[O+ee],255)}}A.toImage=function(D){var B=this;D||(D="png"),B.staticMode&&B.container.appendChild(c),B.glplot.redraw();var k=B.glplot.gl,F=k.drawingBufferWidth,N=k.drawingBufferHeight;k.bindFramebuffer(k.FRAMEBUFFER,null);var O=new Uint8Array(F*N*4);k.readPixels(0,0,F,N,k.RGBA,k.UNSIGNED_BYTE,O),b(O,F,N),I(O,F,N);var V=document.createElement("canvas");V.width=F,V.height=N;var X=V.getContext("2d",{willReadFrequently:!0}),ee=X.createImageData(F,N);ee.data.set(O),X.putImageData(ee,0,0);var ne;switch(D){case"jpeg":ne=V.toDataURL("image/jpeg");break;case"webp":ne=V.toDataURL("image/webp");break;default:ne=V.toDataURL("image/png")}return B.staticMode&&B.container.removeChild(c),ne},A.setConvert=function(){for(var D=this,B=0;B<3;B++){var k=D.fullSceneLayout[y[B]];t.setConvert(k,D.fullLayout),k.setScale=g.noop}},A.make4thDimension=function(){var D=this,B=D.graphDiv,k=B._fullLayout;D._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(D._mockAxis,k)},H.exports=x},52094:function(H){H.exports=function(e,d,C,n){n=n||e.length;for(var L=new Array(n),w=0;w<n;w++)L[w]=[e[w],d[w],C[w]];return L}},64859:function(H,U,e){var d=e(25376),C=e(85656),n=e(22548),L=e(92872),w=e(34200),v=e(66741),g=e(92880).extendFlat,r=d({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=n.defaultLine,H.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:d({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:g(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:w.newselection,activeselection:w.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:g({},C.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:d({editType:"layoutstyle"})}}},47552:function(H,U,e){var d=e(95376),C="1.13.4",n=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=[' <a target="_blank" href="https://carto.com/">Carto</a>',n].join(" "),w=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),g={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:n,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:w,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:w,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=d(g);H.exports={requiredVersion:C,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:g,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+C+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(H,U,e){var d=e(3400);H.exports=function(n,L){var w=n.split(" "),v=w[0],g=w[1],r=d.isArrayOrTypedArray(L)?d.mean(L):L,t=.5+r/100,i=1.5+r/100,a=["",""],u=[0,0];switch(v){case"top":a[0]="top",u[1]=-i;break;case"bottom":a[0]="bottom",u[1]=i;break}switch(g){case"left":a[1]="right",u[0]=-t;break;case"right":a[1]="left",u[0]=t;break}var f;return a[0]&&a[1]?f=a.join("-"):a[0]?f=a[0]:a[1]?f=a[1]:f="center",{anchor:f,offset:u}}},33688:function(H,U,e){var d=e(3480),C=e(3400),n=C.strTranslate,L=C.strScale,w=e(84888).KY,v=e(9616),g=e(33428),r=e(43616),t=e(72736),i=e(14440),a="mapbox",u=U.constants=e(47552);U.name=a,U.attr="subplot",U.idRoot=a,U.idRegex=U.attrRegex=C.counterRegex(a),U.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},U.layoutAttributes=e(5232),U.supplyLayoutDefaults=e(5976),U.plot=function(h){var T=h._fullLayout,c=h.calcdata,o=T._subplots[a];if(d.version!==u.requiredVersion)throw new Error(u.wrongVersionErrorMsg);var p=f(h,o);d.accessToken=p;for(var x=0;x<o.length;x++){var A=o[x],_=w(c,a,A),y=T[A],E=y._subplot;E||(E=new i(h,A),T[A]._subplot=E),E.viewInitial||(E.viewInitial={center:C.extendFlat({},y.center),zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),E.plot(_,T,h._promises)}},U.clean=function(m,h,T,c){for(var o=c._subplots[a]||[],p=0;p<o.length;p++){var x=o[p];!h[x]&&c[x]._subplot&&c[x]._subplot.destroy()}},U.toSVG=function(m){for(var h=m._fullLayout,T=h._subplots[a],c=h._size,o=0;o<T.length;o++){var p=h[T[o]],x=p.domain,A=p._subplot,_=A.toImage("png"),y=h._glimages.append("svg:image");y.attr({xmlns:v.svg,"xlink:href":_,x:c.l+c.w*x.x[0],y:c.t+c.h*(1-x.y[1]),width:c.w*(x.x[1]-x.x[0]),height:c.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var E=g.select(p._subplot.div),M=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!M){var s=h._glimages.append("g");s.attr("transform",n(c.l+c.w*x.x[0]+10,c.t+c.h*(1-x.y[0])-31)),s.append("path").attr("d",u.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),s.append("path").attr("d",u.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),s.append("path").attr("d",u.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),s.append("polygon").attr("points",u.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var S=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),b=h._glimages.append("g"),I=b.append("text");I.text(S).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":S});var D=r.bBox(I.node()),B=c.w*(x.x[1]-x.x[0]);if(D.width>B/2){var k=S.split("|").join("<br>");I.text(k).attr("data-unformatted",k).call(t.convertToTspans,m),D=r.bBox(I.node())}I.attr("transform",n(-3,-D.height+8)),b.insert("rect",".static-attribution").attr({x:-D.width-6,y:-D.height-3,width:D.width+6,height:D.height+3,fill:"rgba(255, 255, 255, 0.75)"});var F=1;D.width+6>B&&(F=B/(D.width+6));var N=[c.l+c.w*x.x[1],c.t+c.h*(1-x.y[0])];b.attr("transform",n(N[0],N[1])+L(F))}};function f(m,h){var T=m._fullLayout,c=m._context;if(c.mapboxAccessToken==="")return"";for(var o=[],p=[],x=!1,A=!1,_=0;_<h.length;_++){var y=T[h[_]],E=y.accesstoken;l(y.style)&&(E?C.pushUnique(o,E):(l(y._input.style)&&(C.error("Uses Mapbox map style, but did not set an access token."),x=!0),A=!0)),E&&C.pushUnique(p,E)}if(A){var M=x?u.noAccessTokenErrorMsg:u.missingStyleErrorMsg;throw C.error(M),new Error(M)}return o.length?(o.length>1&&C.warn(u.multipleTokensErrorMsg),o[0]):(p.length&&C.log(["Listed mapbox access token(s)",p.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(m){return typeof m=="string"&&(u.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0||m.indexOf("stamen")===0)}U.updateFx=function(m){for(var h=m._fullLayout,T=h._subplots[a],c=0;c<T.length;c++){var o=h[T[c]]._subplot;o.updateFx(h)}}},22360:function(H,U,e){var d=e(3400),C=e(72736).sanitizeHTML,n=e(89032),L=e(47552);function w(i,a){this.subplot=i,this.uid=i.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=w.prototype;v.update=function(a){this.visible?this.needsNewImage(a)?this.updateImage(a):this.needsNewSource(a)?(this.removeLayer(),this.updateSource(a),this.updateLayer(a)):this.needsNewLayer(a)?this.updateLayer(a):this.updateStyle(a):(this.updateSource(a),this.updateLayer(a)),this.visible=g(a)},v.needsNewImage=function(i){var a=this.subplot.map;return a.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},v.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},v.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(i){var a=this.subplot.map;a.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var u=this.findFollowingMapboxLayerId(this.lookupBelow());u!==null&&this.subplot.map.moveLayer(this.idLayer,u)},v.updateSource=function(i){var a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,!!g(i)){var u=t(i);a.addSource(this.idSource,u)}},v.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var a=this.subplot.getMapLayers(),u=0;u<a.length;u++){var f=a[u].id;if(typeof f=="string"&&f.indexOf(L.traceLayerPrefix)===0){i=f;break}}return i},v.updateLayer=function(i){var a=this.subplot,u=r(i),f=this.lookupBelow(),l=this.findFollowingMapboxLayerId(f);this.removeLayer(),g(i)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:u.layout,paint:u.paint},l),this.layerType=i.type,this.below=f},v.updateStyle=function(i){if(g(i)){var a=r(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},v.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},v.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)};function g(i){if(!i.visible)return!1;var a=i.source;if(Array.isArray(a)&&a.length>0){for(var u=0;u<a.length;u++)if(typeof a[u]!="string"||a[u].length===0)return!1;return!0}return d.isPlainObject(a)||typeof a=="string"&&a.length>0}function r(i){var a={},u={};switch(i.type){case"circle":d.extendFlat(u,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":d.extendFlat(u,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":d.extendFlat(u,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var f=i.symbol,l=n(f.textposition,f.iconsize);d.extendFlat(a,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":f.placement}),d.extendFlat(u,{"icon-color":i.color,"text-color":f.textfont.color,"text-opacity":i.opacity});break;case"raster":d.extendFlat(u,{"raster-fade-duration":0,"raster-opacity":i.opacity});break}return{layout:a,paint:u}}function t(i){var a=i.sourcetype,u=i.source,f={type:a},l;return a==="geojson"?l="data":a==="vector"?l=typeof u=="string"?"url":"tiles":a==="raster"?(l="tiles",f.tileSize=256):a==="image"&&(l="url",f.coordinates=i.coordinates),f[l]=u,i.sourceattribution&&(f.attribution=C(i.sourceattribution)),f}H.exports=function(a,u,f){var l=new w(a,u);return l.update(f),l}},5232:function(H,U,e){var d=e(3400),C=e(76308).defaultLine,n=e(86968).u,L=e(25376),w=e(52904).textposition,v=e(67824).overrideAll,g=e(31780).templatedArray,r=e(47552),t=L({noFontVariant:!0});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var i=H.exports=v({_arrayAttrRegexps:[d.counterRegex("mapbox",".layers",!0)],domain:n({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:g("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:C},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:C}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:d.extendFlat({},w,{arrayOk:!1})}})},"plot","from-root");i.uirevision={valType:"any",editType:"none"}},5976:function(H,U,e){var d=e(3400),C=e(168),n=e(51272),L=e(5232);H.exports=function(r,t,i){C(r,t,i,{type:"mapbox",attributes:L,handleDefaults:w,partition:"y",accessToken:t._mapboxAccessToken})};function w(g,r,t,i){t("accesstoken",i.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var a=t("bounds.west"),u=t("bounds.east"),f=t("bounds.south"),l=t("bounds.north");(a===void 0||u===void 0||f===void 0||l===void 0)&&delete r.bounds,n(g,r,{name:"layers",handleItemDefaults:v}),r._input=g}function v(g,r){function t(m,h){return d.coerce(g,r,L.layers,m,h)}var i=t("visible");if(i){var a=t("sourcetype"),u=a==="raster"||a==="image";t("source"),t("sourceattribution"),a==="vector"&&t("sourcelayer"),a==="image"&&t("coordinates");var f;u&&(f="raster");var l=t("type",f);u&&l!=="raster"&&(l=r.type="raster",d.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),d.coerceFont(t,"symbol.textfont",void 0,{noFontVariant:!0}),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(H,U,e){var d=e(3480),C=e(3400),n=e(27144),L=e(24040),w=e(54460),v=e(86476),g=e(93024),r=e(72760),t=r.drawMode,i=r.selectMode,a=e(22676).prepSelect,u=e(22676).clearOutline,f=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,m=e(47552),h=e(22360);function T(_,y){this.id=y,this.gd=_;var E=_._fullLayout,M=_._context;this.container=E._glcontainer.node(),this.isStatic=M.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=T.prototype;c.plot=function(_,y,E){var M=this,s=y[M.id];M.map&&s.accesstoken!==M.accessToken&&(M.map.remove(),M.map=null,M.styleObj=null,M.traceHash={},M.layerList=[]);var S;M.map?S=new Promise(function(b,I){M.updateMap(_,y,b,I)}):S=new Promise(function(b,I){M.createMap(_,y,b,I)}),E.push(S)},c.createMap=function(_,y,E,M){var s=this,S=y[s.id],b=s.styleObj=p(S.style,y);s.accessToken=S.accesstoken;var I=S.bounds,D=I?[[I.west,I.south],[I.east,I.north]]:null,B=s.map=new d.Map({container:s.div,style:b.style,center:A(S.center),zoom:S.zoom,bearing:S.bearing,pitch:S.pitch,maxBounds:D,interactive:!s.isStatic,preserveDrawingBuffer:s.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new d.AttributionControl({compact:!0}));B._canvas.style.left="0px",B._canvas.style.top="0px",s.rejectOnError(M),s.isStatic||s.initFx(_,y);var k=[];k.push(new Promise(function(F){B.once("load",F)})),k=k.concat(n.fetchTraceGeoData(_)),Promise.all(k).then(function(){s.fillBelowLookup(_,y),s.updateData(_),s.updateLayout(y),s.resolveOnRender(E)}).catch(M)},c.updateMap=function(_,y,E,M){var s=this,S=s.map,b=y[this.id];s.rejectOnError(M);var I=[],D=p(b.style,y);JSON.stringify(s.styleObj)!==JSON.stringify(D)&&(s.styleObj=D,S.setStyle(D.style),s.traceHash={},I.push(new Promise(function(B){S.once("styledata",B)}))),I=I.concat(n.fetchTraceGeoData(_)),Promise.all(I).then(function(){s.fillBelowLookup(_,y),s.updateData(_),s.updateLayout(y),s.resolveOnRender(E)}).catch(M)},c.fillBelowLookup=function(_,y){var E=y[this.id],M=E.layers,s,S,b=this.belowLookup={},I=!1;for(s=0;s<_.length;s++){var D=_[s][0].trace,B=D._module;typeof D.below=="string"?S=D.below:B.getBelow&&(S=B.getBelow(D,this)),S===""&&(I=!0),b["trace-"+D.uid]=S||""}for(s=0;s<M.length;s++){var k=M[s];typeof k.below=="string"?S=k.below:I?S="traces":S="",b["layout-"+s]=S}var F={},N,O;for(N in b)S=b[N],F[S]?F[S].push(N):F[S]=[N];for(S in F){var V=F[S];if(V.length>1)for(s=0;s<V.length;s++)N=V[s],N.indexOf("trace-")===0?(O=N.split("trace-")[1],this.traceHash[O]&&(this.traceHash[O].below=null)):N.indexOf("layout-")===0&&(O=N.split("layout-")[1],this.layerList[O]&&(this.layerList[O].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(_){var y=this.traceHash,E,M,s,S,b=_.slice().sort(function(F,N){return o[F[0].trace.type]-o[N[0].trace.type]});for(s=0;s<b.length;s++){var I=b[s];M=I[0].trace,E=y[M.uid];var D=!1;E&&(E.type===M.type?(E.update(I),D=!0):E.dispose()),!D&&M._module&&(y[M.uid]=M._module.plot(this,I))}var B=Object.keys(y);e:for(s=0;s<B.length;s++){var k=B[s];for(S=0;S<_.length;S++)if(M=_[S][0].trace,k===M.uid)continue e;E=y[k],E.dispose(),delete y[k]}},c.updateLayout=function(_){var y=this.map,E=_[this.id];!this.dragging&&!this.wheeling&&(y.setCenter(A(E.center)),y.setZoom(E.zoom),y.setBearing(E.bearing),y.setPitch(E.pitch)),this.updateLayers(_),this.updateFramework(_),this.updateFx(_),this.map.resize(),this.gd._context._scrollZoom.mapbox?y.scrollZoom.enable():y.scrollZoom.disable()},c.resolveOnRender=function(_){var y=this.map;y.on("render",function E(){y.loaded()&&(y.off("render",E),setTimeout(_,10))})},c.rejectOnError=function(_){var y=this.map;function E(){_(new Error(m.mapOnErrorMsg))}y.once("error",E),y.once("style.error",E),y.once("source.error",E),y.once("tile.error",E),y.once("layer.error",E)},c.createFramework=function(_){var y=this,E=y.div=document.createElement("div");E.id=y.uid,E.style.position="absolute",y.container.appendChild(E),y.xaxis={_id:"x",c2p:function(M){return y.project(M).x}},y.yaxis={_id:"y",c2p:function(M){return y.project(M).y}},y.updateFramework(_),y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},w.setConvert(y.mockAxis,_)},c.initFx=function(_,y){var E=this,M=E.gd,s=E.map;s.on("moveend",function(I){if(E.map){var D=M._fullLayout;if(I.originalEvent||E.wheeling){var B=D[E.id];L.call("_storeDirectGUIEdit",M.layout,D._preGUI,E.getViewEdits(B));var k=E.getView();B._input.center=B.center=k.center,B._input.zoom=B.zoom=k.zoom,B._input.bearing=B.bearing=k.bearing,B._input.pitch=B.pitch=k.pitch,M.emit("plotly_relayout",E.getViewEditsWithDerived(k))}I.originalEvent&&I.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),D._rehover&&D._rehover()}}),s.on("wheel",function(){E.wheeling=!0}),s.on("mousemove",function(I){var D=E.div.getBoundingClientRect(),B=[I.originalEvent.offsetX,I.originalEvent.offsetY];I.target.getBoundingClientRect=function(){return D},E.xaxis.p2c=function(){return s.unproject(B).lng},E.yaxis.p2c=function(){return s.unproject(B).lat},M._fullLayout._rehover=function(){M._fullLayout._hoversubplot===E.id&&M._fullLayout[E.id]&&g.hover(M,I,E.id)},g.hover(M,I,E.id),M._fullLayout._hoversubplot=E.id});function S(){g.loneUnhover(y._hoverlayer)}s.on("dragstart",function(){E.dragging=!0,S()}),s.on("zoomstart",S),s.on("mouseout",function(){M._fullLayout._hoversubplot=null});function b(){var I=E.getView();M.emit("plotly_relayouting",E.getViewEditsWithDerived(I))}s.on("drag",b),s.on("zoom",b),s.on("dblclick",function(){var I=M._fullLayout[E.id];L.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,E.getViewEdits(I));var D=E.viewInitial;s.setCenter(A(D.center)),s.setZoom(D.zoom),s.setBearing(D.bearing),s.setPitch(D.pitch);var B=E.getView();I._input.center=I.center=B.center,I._input.zoom=I.zoom=B.zoom,I._input.bearing=I.bearing=B.bearing,I._input.pitch=I.pitch=B.pitch,M.emit("plotly_doubleclick",null),M.emit("plotly_relayout",E.getViewEditsWithDerived(B))}),E.clearOutline=function(){f(E.dragOptions),u(E.dragOptions.gd)},E.onClickInPanFn=function(I){return function(D){var B=M._fullLayout.clickmode;B.indexOf("select")>-1&&l(D.originalEvent,M,[E.xaxis],[E.yaxis],E.id,I),B.indexOf("event")>-1&&g.click(M,D.originalEvent)}}},c.updateFx=function(_){var y=this,E=y.map,M=y.gd;if(y.isStatic)return;function s(D){var B=y.map.unproject(D);return[B.lng,B.lat]}var S=_.dragmode,b;b=function(D,B){if(B.isRect){var k=D.range={};k[y.id]=[s([B.xmin,B.ymin]),s([B.xmax,B.ymax])]}else{var F=D.lassoPoints={};F[y.id]=B.map(s)}};var I=y.dragOptions;y.dragOptions=C.extendDeep(I||{},{dragmode:_.dragmode,element:y.div,gd:M,plotinfo:{id:y.id,domain:_[y.id].domain,xaxis:y.xaxis,yaxis:y.yaxis,fillRangeItems:b},xaxes:[y.xaxis],yaxes:[y.yaxis],subplot:y.id}),E.off("click",y.onClickInPanHandler),i(S)||t(S)?(E.dragPan.disable(),E.on("zoomstart",y.clearOutline),y.dragOptions.prepFn=function(D,B,k){a(D,B,k,y.dragOptions,S)},v.init(y.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",y.clearOutline),y.div.onmousedown=null,y.div.ontouchstart=null,y.div.removeEventListener("touchstart",y.div._ontouchstart),y.onClickInPanHandler=y.onClickInPanFn(y.dragOptions),E.on("click",y.onClickInPanHandler))},c.updateFramework=function(_){var y=_[this.id].domain,E=_._size,M=this.div.style;M.width=E.w*(y.x[1]-y.x[0])+"px",M.height=E.h*(y.y[1]-y.y[0])+"px",M.left=E.l+y.x[0]*E.w+"px",M.top=E.t+(1-y.y[1])*E.h+"px",this.xaxis._offset=E.l+y.x[0]*E.w,this.xaxis._length=E.w*(y.x[1]-y.x[0]),this.yaxis._offset=E.t+(1-y.y[1])*E.h,this.yaxis._length=E.h*(y.y[1]-y.y[0])},c.updateLayers=function(_){var y=_[this.id],E=y.layers,M=this.layerList,s;if(E.length!==M.length){for(s=0;s<M.length;s++)M[s].dispose();for(M=this.layerList=[],s=0;s<E.length;s++)M.push(h(this,s,E[s]))}else for(s=0;s<E.length;s++)M[s].update(E[s])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(_,y,E){for(var M in E)this.map[y](_,M,E[M])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(_,y){var E=this.map;if(typeof y=="string"){if(y===""){E.addLayer(_,y);return}for(var M=this.getMapLayers(),s=0;s<M.length;s++)if(y===M[s].id){E.addLayer(_,y);return}C.warn(["Trying to add layer with *below* value",y,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(_)},c.project=function(_){return this.map.project(new d.LngLat(_[0],_[1]))},c.getView=function(){var _=this.map,y=_.getCenter(),E=y.lng,M=y.lat,s={lon:E,lat:M},S=_.getCanvas(),b=parseInt(S.style.width),I=parseInt(S.style.height);return{center:s,zoom:_.getZoom(),bearing:_.getBearing(),pitch:_.getPitch(),_derived:{coordinates:[_.unproject([0,0]).toArray(),_.unproject([b,0]).toArray(),_.unproject([b,I]).toArray(),_.unproject([0,I]).toArray()]}}},c.getViewEdits=function(_){for(var y=this.id,E=["center","zoom","bearing","pitch"],M={},s=0;s<E.length;s++){var S=E[s];M[y+"."+S]=_[S]}return M},c.getViewEditsWithDerived=function(_){var y=this.id,E=this.getViewEdits(_);return E[y+"._derived"]=_._derived,E};function p(_,y){var E={};if(C.isPlainObject(_))E.id=_.id,E.style=_;else if(typeof _=="string")if(E.id=_,m.styleValuesMapbox.indexOf(_)!==-1)E.style=x(_);else if(m.stylesNonMapbox[_]){E.style=m.stylesNonMapbox[_];var M=E.style.sources["plotly-"+_],s=M?M.tiles:void 0;s&&s[0]&&s[0].slice(-9)==="?api_key="&&(s[0]+=y._mapboxAccessToken)}else E.style=_;else E.id=m.styleValueDflt,E.style=x(m.styleValueDflt);return E.transition={duration:0,delay:0},E}function x(_){return m.styleUrlPrefix+_+"-"+m.styleUrlSuffix}function A(_){return[_.lon,_.lat]}H.exports=T},66741:function(H){H.exports=function(U){var e=U.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(H,U,e){var d=e(33428),C=e(94336).m_,n=e(57624).SO,L=e(38248),w=e(83160),v=e(24040),g=e(73060),r=e(31780),t=e(3400),i=e(76308),a=e(39032).BADNUM,u=e(79811),f=e(1936).clearOutline,l=e(55308),m=e(85656),h=e(16672),T=e(84888)._M,c=t.relinkPrivateKeys,o=t._,p=H.exports={};t.extendFlat(p,v),p.attributes=e(45464),p.attributes.type.values=p.allTypes,p.fontAttrs=e(25376),p.layoutAttributes=e(64859);var x=p.transformsRegistry,A=e(62460);p.executeAPICommand=A.executeAPICommand,p.computeAPICommandBindings=A.computeAPICommandBindings,p.manageCommandObserver=A.manageCommandObserver,p.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,p.redrawText=function(Y){return Y=t.getGraphDiv(Y),new Promise(function(ie){setTimeout(function(){Y._fullLayout&&(v.getComponentMethod("annotations","draw")(Y),v.getComponentMethod("legend","draw")(Y),v.getComponentMethod("colorbar","draw")(Y),ie(p.previousPromises(Y)))},300)})},p.resize=function(Y){Y=t.getGraphDiv(Y);var ie,le=new Promise(function(j,K){(!Y||t.isHidden(Y))&&K(new Error("Resize must be passed a displayed plot div element.")),Y._redrawTimer&&clearTimeout(Y._redrawTimer),Y._resolveResize&&(ie=Y._resolveResize),Y._resolveResize=j,Y._redrawTimer=setTimeout(function(){if(!Y.layout||Y.layout.width&&Y.layout.height||t.isHidden(Y)){j(Y);return}delete Y.layout.width,delete Y.layout.height;var ue=Y.changed;Y.autoplay=!0,v.call("relayout",Y,{autosize:!0}).then(function(){Y.changed=ue,Y._resolveResize===j&&(delete Y._resolveResize,j(Y))})},100)});return ie&&ie(le),le},p.previousPromises=function(Y){if((Y._promises||[]).length)return Promise.all(Y._promises).then(function(){Y._promises=[]})},p.addLinks=function(Y){if(!(!Y._context.showLink&&!Y._context.showSources)){var ie=Y._fullLayout,le=t.ensureSingle(ie._paper,"text","js-plot-link-container",function(xe){xe.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:i.defaultLine,"pointer-events":"all"}).each(function(){var Se=d.select(this);Se.append("tspan").classed("js-link-to-tool",!0),Se.append("tspan").classed("js-link-spacer",!0),Se.append("tspan").classed("js-sourcelinks",!0)})}),j=le.node(),K={y:ie._paper.attr("height")-9};document.body.contains(j)&&j.getComputedTextLength()>=ie.width-20?(K["text-anchor"]="start",K.x=5):(K["text-anchor"]="end",K.x=ie._paper.attr("width")-7),le.attr(K);var ue=le.select(".js-link-to-tool"),ae=le.select(".js-link-spacer"),he=le.select(".js-sourcelinks");Y._context.showSources&&Y._context.showSources(Y),Y._context.showLink&&_(Y,ue),ae.text(ue.text()&&he.text()?" - ":"")}};function _(Y,ie){ie.text("");var le=ie.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Y._context.linkText+" ");if(Y._context.sendData)le.on("click",function(){p.sendDataToCloud(Y)});else{var j=window.location.pathname.split("/"),K=window.location.search;le.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+j[2].split(".")[0]+"/"+j[1]+K})}}p.sendDataToCloud=function(Y){var ie=(window.PLOTLYENV||{}).BASE_URL||Y._context.plotlyServerURL;if(ie){Y.emit("plotly_beforeexport");var le=d.select(Y).append("div").attr("id","hiddenform").style("display","none"),j=le.append("form").attr({action:ie+"/external",method:"post",target:"_blank"}),K=j.append("input").attr({type:"text",name:"data"});return K.node().value=p.graphJson(Y,!1,"keepdata"),j.node().submit(),le.remove(),Y.emit("plotly_afterexport"),!1}};var y=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],E=["year","month","dayMonth","dayMonthYear"];p.supplyDefaults=function(Y,ie){var le=ie&&ie.skipUpdateCalc,j=Y._fullLayout||{};if(j._skipDefaults){delete j._skipDefaults;return}var K=Y._fullLayout={},ue=Y.layout||{},ae=Y._fullData||[],he=Y._fullData=[],xe=Y.data||[],Se=Y.calcdata||[],Ae=Y._context||{},De;Y._transitionData||p.createTransitionData(Y),K._dfltTitle={plot:o(Y,"Click to enter Plot title"),x:o(Y,"Click to enter X axis title"),y:o(Y,"Click to enter Y axis title"),colorbar:o(Y,"Click to enter Colorscale title"),annotation:o(Y,"new text")},K._traceWord=o(Y,"trace");var we=S(Y,y);if(K._mapboxAccessToken=Ae.mapboxAccessToken,j._initialAutoSizeIsDone){var Ce=j.width,be=j.height;p.supplyLayoutGlobalDefaults(ue,K,we),ue.width||(K.width=Ce),ue.height||(K.height=be),p.sanitizeMargins(K)}else{p.supplyLayoutGlobalDefaults(ue,K,we);var Pe=!ue.width||!ue.height,Ve=K.autosize,Ge=Ae.autosizable,Fe=Pe&&(Ve||Ge);Fe?p.plotAutoSize(Y,ue,K):Pe&&p.sanitizeMargins(K),!Ve&&Pe&&(ue.width=K.width,ue.height=K.height)}K._d3locale=b(we,K.separators),K._extraFormat=S(Y,E),K._initialAutoSizeIsDone=!0,K._dataLength=xe.length,K._modules=[],K._visibleModules=[],K._basePlotModules=[];var He=K._subplots=s(),ft=K._splomAxes={x:{},y:{}},gt=K._splomSubplots={};K._splomGridDflt={},K._scatterStackOpts={},K._firstScatter={},K._alignmentOpts={},K._colorAxes={},K._requestRangeslider={},K._traceUids=M(ae,xe),K._globalTransforms=(Y._context||{}).globalTransforms,p.supplyDataDefaults(xe,he,ue,K);var ct=Object.keys(ft.x),nt=Object.keys(ft.y);if(ct.length>1&&nt.length>1){for(v.getComponentMethod("grid","sizeDefaults")(ue,K),De=0;De<ct.length;De++)t.pushUnique(He.xaxis,ct[De]);for(De=0;De<nt.length;De++)t.pushUnique(He.yaxis,nt[De]);for(var dt in gt)t.pushUnique(He.cartesian,dt)}if(K._has=p._hasPlotType.bind(K),ae.length===he.length)for(De=0;De<he.length;De++)c(he[De],ae[De]);p.supplyLayoutModuleDefaults(ue,K,he,Y._transitionData);var pt=K._visibleModules,wt=[];for(De=0;De<pt.length;De++){var Tt=pt[De].crossTraceDefaults;Tt&&t.pushUnique(wt,Tt)}for(De=0;De<wt.length;De++)wt[De](he,K);K._hasOnlyLargeSploms=K._basePlotModules.length===1&&K._basePlotModules[0].name==="splom"&&ct.length>15&&nt.length>15&&K.shapes.length===0&&K.images.length===0,p.linkSubplots(he,K,ae,j),p.cleanPlot(he,K,ae,j);var Ct=!!(j._has&&j._has("gl2d")),at=!!(K._has&&K._has("gl2d")),ze=!!(j._has&&j._has("cartesian")),je=!!(K._has&&K._has("cartesian")),Je=ze||Ct,Xe=je||at;Je&&!Xe?j._bgLayer.remove():Xe&&!Je&&(K._shouldCreateBgLayer=!0),j._zoomlayer&&!Y._dragging&&f({_fullLayout:j}),I(he,K),c(K,j),v.getComponentMethod("colorscale","crossTraceDefaults")(he,K),K._preGUI||(K._preGUI={}),K._tracePreGUI||(K._tracePreGUI={});var Oe=K._tracePreGUI,ke={},Ke;for(Ke in Oe)ke[Ke]="old";for(De=0;De<he.length;De++)Ke=he[De]._fullInput.uid,ke[Ke]||(Oe[Ke]={}),ke[Ke]="new";for(Ke in ke)ke[Ke]==="old"&&delete Oe[Ke];N(K),v.getComponentMethod("rangeslider","makeData")(K),!le&&Se.length===he.length&&p.supplyDefaultsUpdateCalc(Se,he)},p.supplyDefaultsUpdateCalc=function(Y,ie){for(var le=0;le<ie.length;le++){var j=ie[le],K=(Y[le]||[])[0];if(K&&K.trace){var ue=K.trace;if(ue._hasCalcTransform){var ae=ue._arrayAttrs,he,xe,Se;for(he=0;he<ae.length;he++)xe=ae[he],Se=t.nestedProperty(ue,xe).get().slice(),t.nestedProperty(j,xe).set(Se)}K.trace=j}}};function M(Y,ie){var le=ie.length,j=[],K,ue;for(K=0;K<Y.length;K++){var ae=Y[K]._fullInput;ae!==ue&&j.push(ae),ue=ae}var he=j.length,xe=new Array(le),Se={};function Ae(Ce,be){xe[be]=Ce,Se[Ce]=1}function De(Ce,be){if(Ce&&typeof Ce=="string"&&!Se[Ce])return Ae(Ce,be),!0}for(K=0;K<le;K++){var we=ie[K].uid;typeof we=="number"&&(we=String(we)),!De(we,K)&&(K<he&&De(j[K].uid,K)||Ae(t.randstr(Se),K))}return xe}function s(){var Y=v.collectableSubplotTypes,ie={},le,j;if(!Y){Y=[];var K=v.subplotsRegistry;for(var ue in K){var ae=K[ue],he=ae.attr;if(he&&(Y.push(ue),Array.isArray(he)))for(j=0;j<he.length;j++)t.pushUnique(Y,he[j])}}for(le=0;le<Y.length;le++)ie[Y[le]]=[];return ie}function S(Y,ie){var le=Y._context.locale;le||(le="en-US");var j=!1,K={};function ue(De){for(var we=!0,Ce=0;Ce<ie.length;Ce++){var be=ie[Ce];K[be]||(De[be]?K[be]=De[be]:we=!1)}we&&(j=!0)}for(var ae=0;ae<2;ae++){for(var he=Y._context.locales,xe=0;xe<2;xe++){var Se=(he[le]||{}).format;if(Se&&(ue(Se),j))break;he=v.localeRegistry}var Ae=le.split("-")[0];if(j||Ae===le)break;le=Ae}return j||ue(v.localeRegistry.en.format),K}function b(Y,ie){return Y.decimal=ie.charAt(0),Y.thousands=ie.charAt(1),{numberFormat:function(le){try{le=n(Y).format(t.adjustFormat(le))}catch{return t.warnBadFormat(le),t.noFormat}return le},timeFormat:C(Y).utcFormat}}function I(Y,ie){var le,j=[];ie.meta&&(le=ie._meta={meta:ie.meta,layout:{meta:ie.meta}});for(var K=0;K<Y.length;K++){var ue=Y[K];ue.meta?j[ue.index]=ue._meta={meta:ue.meta}:ie.meta&&(ue._meta={meta:ie.meta}),ie.meta&&(ue._meta.layout={meta:ie.meta})}j.length&&(le||(le=ie._meta={}),le.data=j)}p.createTransitionData=function(Y){Y._transitionData||(Y._transitionData={}),Y._transitionData._frames||(Y._transitionData._frames=[]),Y._transitionData._frameHash||(Y._transitionData._frameHash={}),Y._transitionData._counter||(Y._transitionData._counter=0),Y._transitionData._interruptCallbacks||(Y._transitionData._interruptCallbacks=[])},p._hasPlotType=function(Y){var ie,le=this._basePlotModules||[];for(ie=0;ie<le.length;ie++)if(le[ie].name===Y)return!0;var j=this._modules||[];for(ie=0;ie<j.length;ie++){var K=j[ie].name;if(K===Y)return!0;var ue=v.modules[K];if(ue&&ue.categories[Y])return!0}return!1},p.cleanPlot=function(Y,ie,le,j){var K,ue,ae=j._basePlotModules||[];for(K=0;K<ae.length;K++){var he=ae[K];he.clean&&he.clean(Y,ie,le,j)}var xe=j._has&&j._has("gl"),Se=ie._has&&ie._has("gl");xe&&!Se&&j._glcontainer!==void 0&&(j._glcontainer.selectAll(".gl-canvas").remove(),j._glcontainer.selectAll(".no-webgl").remove(),j._glcanvas=null);var Ae=!!j._infolayer;e:for(K=0;K<le.length;K++){var De=le[K],we=De.uid;for(ue=0;ue<Y.length;ue++){var Ce=Y[ue];if(we===Ce.uid)continue e}Ae&&j._infolayer.select(".cb"+we).remove()}},p.linkSubplots=function(Y,ie,le,j){var K,ue,ae=j._plots||{},he=ie._plots={},xe=ie._subplots,Se={_fullData:Y,_fullLayout:ie},Ae=xe.cartesian.concat(xe.gl2d||[]);for(K=0;K<Ae.length;K++){var De=Ae[K],we=ae[De],Ce=u.getFromId(Se,De,"x"),be=u.getFromId(Se,De,"y"),Pe;for(we?Pe=he[De]=we:(Pe=he[De]={},Pe.id=De),Ce._counterAxes.push(be._id),be._counterAxes.push(Ce._id),Ce._subplotsWith.push(De),be._subplotsWith.push(De),Pe.xaxis=Ce,Pe.yaxis=be,Pe._hasClipOnAxisFalse=!1,ue=0;ue<Y.length;ue++){var Ve=Y[ue];if(Ve.xaxis===Pe.xaxis._id&&Ve.yaxis===Pe.yaxis._id&&Ve.cliponaxis===!1){Pe._hasClipOnAxisFalse=!0;break}}}var Ge=u.list(Se,null,!0),Fe;for(K=0;K<Ge.length;K++){Fe=Ge[K];var He=null;Fe.overlaying&&(He=u.getFromId(Se,Fe.overlaying),He&&He.overlaying&&(Fe.overlaying=!1,He=null)),Fe._mainAxis=He||Fe,He&&(Fe.domain=He.domain.slice()),Fe._anchorAxis=Fe.anchor==="free"?null:u.getFromId(Se,Fe.anchor)}for(K=0;K<Ge.length;K++)if(Fe=Ge[K],Fe._counterAxes.sort(u.idSort),Fe._subplotsWith.sort(t.subplotSort),Fe._mainSubplot=D(Fe,ie),Fe._counterAxes.length&&(Fe.spikemode&&Fe.spikemode.indexOf("across")!==-1||Fe.automargin&&Fe.mirror&&Fe.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Fe))){var ft=1,gt=0;for(ue=0;ue<Fe._counterAxes.length;ue++){var ct=u.getFromId(Se,Fe._counterAxes[ue]);ft=Math.min(ft,ct.domain[0]),gt=Math.max(gt,ct.domain[1])}ft<gt&&(Fe._counterDomainMin=ft,Fe._counterDomainMax=gt)}};function D(Y,ie){var le={_fullLayout:ie},j=Y._id.charAt(0)==="x",K=Y._mainAxis._anchorAxis,ue="",ae="",he="";if(K&&(he=K._mainAxis._id,ue=j?Y._id+he:he+Y._id),!ue||!ie._plots[ue]){ue="";for(var xe=Y._counterAxes,Se=0;Se<xe.length;Se++){var Ae=xe[Se],De=j?Y._id+Ae:Ae+Y._id;ae||(ae=De);var we=u.getFromId(le,Ae);if(he&&we.overlaying===he){ue=De;break}}}return ue||ae}p.clearExpandedTraceDefaultColors=function(Y){var ie,le,j;function K(ae,he,xe,Se){le[Se]=he,le.length=Se+1,ae.valType==="color"&&ae.dflt===void 0&&ie.push(le.join("."))}for(le=[],ie=Y._module._colorAttrs,ie||(Y._module._colorAttrs=ie=[],g.crawl(Y._module.attributes,K)),j=0;j<ie.length;j++){var ue=t.nestedProperty(Y,"_input."+ie[j]);ue.get()||t.nestedProperty(Y,ie[j]).set(null)}},p.supplyDataDefaults=function(Y,ie,le,j){var K=j._modules,ue=j._visibleModules,ae=j._basePlotModules,he=0,xe=0,Se,Ae,De;j._transformModules=[];function we(nt){ie.push(nt);var dt=nt._module;dt&&(t.pushUnique(K,dt),nt.visible===!0&&t.pushUnique(ue,dt),t.pushUnique(ae,nt._module.basePlotModule),he++,nt._input.visible!==!1&&xe++)}var Ce={},be=[],Pe=(le.template||{}).data||{},Ve=r.traceTemplater(Pe);for(Se=0;Se<Y.length;Se++){if(De=Y[Se],Ae=Ve.newTrace(De),Ae.uid=j._traceUids[Se],p.supplyTraceDefaults(De,Ae,xe,j,Se),Ae.index=Se,Ae._input=De,Ae._expandedIndex=he,Ae.transforms&&Ae.transforms.length)for(var Ge=De.visible!==!1&&Ae.visible===!1,Fe=k(Ae,ie,le,j),He=0;He<Fe.length;He++){var ft=Fe[He],gt={_template:Ae._template,type:Ae.type,uid:Ae.uid+He};Ge&&ft.visible===!1&&delete ft.visible,p.supplyTraceDefaults(ft,gt,he,j,Se),c(gt,ft),gt.index=Se,gt._input=De,gt._fullInput=Ae,gt._expandedIndex=he,gt._expandedInput=ft,we(gt)}else Ae._fullInput=Ae,Ae._expandedInput=Ae,we(Ae);v.traceIs(Ae,"carpetAxis")&&(Ce[Ae.carpet]=Ae),v.traceIs(Ae,"carpetDependent")&&be.push(Se)}for(Se=0;Se<be.length;Se++)if(Ae=ie[be[Se]],!!Ae.visible){var ct=Ce[Ae.carpet];if(Ae._carpet=ct,!ct||!ct.visible){Ae.visible=!1;continue}Ae.xaxis=ct.xaxis,Ae.yaxis=ct.yaxis}},p.supplyAnimationDefaults=function(Y){Y=Y||{};var ie,le={};function j(K,ue){return t.coerce(Y||{},le,m,K,ue)}if(j("mode"),j("direction"),j("fromcurrent"),Array.isArray(Y.frame))for(le.frame=[],ie=0;ie<Y.frame.length;ie++)le.frame[ie]=p.supplyAnimationFrameDefaults(Y.frame[ie]||{});else le.frame=p.supplyAnimationFrameDefaults(Y.frame||{});if(Array.isArray(Y.transition))for(le.transition=[],ie=0;ie<Y.transition.length;ie++)le.transition[ie]=p.supplyAnimationTransitionDefaults(Y.transition[ie]||{});else le.transition=p.supplyAnimationTransitionDefaults(Y.transition||{});return le},p.supplyAnimationFrameDefaults=function(Y){var ie={};function le(j,K){return t.coerce(Y||{},ie,m.frame,j,K)}return le("duration"),le("redraw"),ie},p.supplyAnimationTransitionDefaults=function(Y){var ie={};function le(j,K){return t.coerce(Y||{},ie,m.transition,j,K)}return le("duration"),le("easing"),ie},p.supplyFrameDefaults=function(Y){var ie={};function le(j,K){return t.coerce(Y,ie,h,j,K)}return le("group"),le("name"),le("traces"),le("baseframe"),le("data"),le("layout"),ie},p.supplyTraceDefaults=function(Y,ie,le,j,K){var ue=j.colorway||i.defaults,ae=ue[le%ue.length],he;function xe(He,ft){return t.coerce(Y,ie,p.attributes,He,ft)}var Se=xe("visible");xe("type"),xe("name",j._traceWord+" "+K),xe("uirevision",j.uirevision);var Ae=p.getModule(ie);if(ie._module=Ae,Ae){var De=Ae.basePlotModule,we=De.attr,Ce=De.attributes;if(we&&Ce){var be=j._subplots,Pe="";if(Se||De.name!=="gl2d"){if(Array.isArray(we))for(he=0;he<we.length;he++){var Ve=we[he],Ge=t.coerce(Y,ie,Ce,Ve);be[Ve]&&t.pushUnique(be[Ve],Ge),Pe+=Ge}else Pe=t.coerce(Y,ie,Ce,we);be[De.name]&&t.pushUnique(be[De.name],Pe)}}}if(Se){if(xe("customdata"),xe("ids"),xe("meta"),v.traceIs(ie,"showLegend")?(t.coerce(Y,ie,Ae.attributes.showlegend?Ae.attributes:p.attributes,"showlegend"),xe("legend"),xe("legendwidth"),xe("legendgroup"),xe("legendgrouptitle.text"),xe("legendrank"),ie._dfltShowLegend=!0):ie._dfltShowLegend=!1,Ae&&Ae.supplyDefaults(Y,ie,ae,j),v.traceIs(ie,"noOpacity")||xe("opacity"),v.traceIs(ie,"notLegendIsolatable")&&(ie.visible=!!ie.visible),v.traceIs(ie,"noHover")||(ie.hovertemplate||t.coerceHoverinfo(Y,ie,j),ie.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(Y,ie,ae,j)),Ae&&Ae.selectPoints){var Fe=xe("selectedpoints");t.isTypedArray(Fe)&&(ie.selectedpoints=Array.from(Fe))}p.supplyTransformDefaults(Y,ie,j)}return ie};function B(Y){var ie=Y.transforms;if(Array.isArray(ie)&&ie.length)for(var le=0;le<ie.length;le++){var j=ie[le],K=j._module||x[j.type];if(K&&K.makesData)return!0}return!1}p.hasMakesDataTransform=B,p.supplyTransformDefaults=function(Y,ie,le){if(ie._length||B(Y)){var j=le._globalTransforms||[],K=le._transformModules||[];if(!(!Array.isArray(Y.transforms)&&j.length===0))for(var ue=Y.transforms||[],ae=j.concat(ue),he=ie.transforms=[],xe=0;xe<ae.length;xe++){var Se=ae[xe],Ae=Se.type,De=x[Ae],we,Ce=!(Se._module&&Se._module===De),be=De&&typeof De.transform=="function";De||t.warn("Unrecognized transform type "+Ae+"."),De&&De.supplyDefaults&&(Ce||be)?(we=De.supplyDefaults(Se,ie,le,Y),we.type=Ae,we._module=De,t.pushUnique(K,De)):we=t.extendFlat({},Se),he.push(we)}}};function k(Y,ie,le,j){for(var K=Y.transforms,ue=[Y],ae=0;ae<K.length;ae++){var he=K[ae],xe=x[he.type];xe&&xe.transform&&(ue=xe.transform(ue,{transform:he,fullTrace:Y,fullData:ie,layout:le,fullLayout:j,transformIndex:ae}))}return ue}p.supplyLayoutGlobalDefaults=function(Y,ie,le){function j(De,we){return t.coerce(Y,ie,p.layoutAttributes,De,we)}var K=Y.template;t.isPlainObject(K)&&(ie.template=K,ie._template=K.layout,ie._dataTemplate=K.data),j("autotypenumbers");var ue=t.coerceFont(j,"font"),ae=ue.size;t.coerceFont(j,"title.font",t.extendFlat({},ue,{size:Math.round(ae*1.4)})),j("title.text",ie._dfltTitle.plot),j("title.xref");var he=j("title.yref");j("title.pad.t"),j("title.pad.r"),j("title.pad.b"),j("title.pad.l");var xe=j("title.automargin");j("title.x"),j("title.xanchor"),j("title.y"),j("title.yanchor"),xe&&(he==="paper"&&(ie.title.y!==0&&(ie.title.y=1),ie.title.yanchor==="auto"&&(ie.title.yanchor=ie.title.y===0?"top":"bottom")),he==="container"&&(ie.title.y==="auto"&&(ie.title.y=1),ie.title.yanchor==="auto"&&(ie.title.yanchor=ie.title.y<.5?"bottom":"top")));var Se=j("uniformtext.mode");Se&&j("uniformtext.minsize"),j("autosize",!(Y.width&&Y.height)),j("width"),j("height"),j("minreducedwidth"),j("minreducedheight"),j("margin.l"),j("margin.r"),j("margin.t"),j("margin.b"),j("margin.pad"),j("margin.autoexpand"),Y.width&&Y.height&&p.sanitizeMargins(ie),v.getComponentMethod("grid","sizeDefaults")(Y,ie),j("paper_bgcolor"),j("separators",le.decimal+le.thousands),j("hidesources"),j("colorway"),j("datarevision");var Ae=j("uirevision");j("editrevision",Ae),j("selectionrevision",Ae),v.getComponentMethod("modebar","supplyLayoutDefaults")(Y,ie),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Y,ie,j),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Y,ie,j),j("meta"),t.isPlainObject(Y.transition)&&(j("transition.duration"),j("transition.easing"),j("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(Y,ie,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Y,ie,j),t.coerce(Y,ie,l,"scattermode")};function F(Y){return typeof Y=="string"&&Y.substr(Y.length-2)==="px"&&parseFloat(Y)}p.plotAutoSize=function(ie,le,j){var K=ie._context||{},ue=K.frameMargins,ae,he,xe=t.isPlotDiv(ie);if(xe&&ie.emit("plotly_autosize"),K.fillFrame)ae=window.innerWidth,he=window.innerHeight,document.body.style.overflow="hidden";else{var Se=xe?window.getComputedStyle(ie):{};if(ae=F(Se.width)||F(Se.maxWidth)||j.width,he=F(Se.height)||F(Se.maxHeight)||j.height,L(ue)&&ue>0){var Ae=1-2*ue;ae=Math.round(Ae*ae),he=Math.round(Ae*he)}}var De=p.layoutAttributes.width.min,we=p.layoutAttributes.height.min;ae<De&&(ae=De),he<we&&(he=we);var Ce=!le.width&&Math.abs(j.width-ae)>1,be=!le.height&&Math.abs(j.height-he)>1;(be||Ce)&&(Ce&&(j.width=ae),be&&(j.height=he)),ie._initialAutoSize||(ie._initialAutoSize={width:ae,height:he}),p.sanitizeMargins(j)},p.supplyLayoutModuleDefaults=function(Y,ie,le,j){var K=v.componentsRegistry,ue=ie._basePlotModules,ae,he,xe,Se=v.subplotsRegistry.cartesian;for(ae in K)xe=K[ae],xe.includeBasePlot&&xe.includeBasePlot(Y,ie);ue.length||ue.push(Se),ie._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(Y,ie),Se.finalizeSubplots(Y,ie));for(var Ae in ie._subplots)ie._subplots[Ae].sort(t.subplotSort);for(he=0;he<ue.length;he++)xe=ue[he],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults(Y,ie,le);var De=ie._modules;for(he=0;he<De.length;he++)xe=De[he],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults(Y,ie,le);var we=ie._transformModules;for(he=0;he<we.length;he++)xe=we[he],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults(Y,ie,le,j);for(ae in K)xe=K[ae],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults(Y,ie,le)},p.purge=function(Y){var ie=Y._fullLayout||{};ie._glcontainer!==void 0&&(ie._glcontainer.selectAll(".gl-canvas").remove(),ie._glcontainer.remove(),ie._glcanvas=null),ie._modeBar&&ie._modeBar.destroy(),Y._transitionData&&(Y._transitionData._interruptCallbacks&&(Y._transitionData._interruptCallbacks.length=0),Y._transitionData._animationRaf&&window.cancelAnimationFrame(Y._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Y),delete Y.data,delete Y.layout,delete Y._fullData,delete Y._fullLayout,delete Y.calcdata,delete Y.empty,delete Y.fid,delete Y.undoqueue,delete Y.undonum,delete Y.autoplay,delete Y.changed,delete Y._promises,delete Y._redrawTimer,delete Y._hmlumcount,delete Y._hmpixcount,delete Y._transitionData,delete Y._transitioning,delete Y._initialAutoSize,delete Y._transitioningWithDuration,delete Y._dragging,delete Y._dragged,delete Y._dragdata,delete Y._hoverdata,delete Y._snapshotInProgress,delete Y._editing,delete Y._mouseDownTime,delete Y._legendMouseDownTime,Y.removeAllListeners&&Y.removeAllListeners()},p.style=function(Y){var ie=Y._fullLayout._visibleModules,le=[],j;for(j=0;j<ie.length;j++){var K=ie[j];K.style&&t.pushUnique(le,K.style)}for(j=0;j<le.length;j++)le[j](Y)},p.sanitizeMargins=function(Y){if(!(!Y||!Y.margin)){var ie=Y.width,le=Y.height,j=Y.margin,K=ie-(j.l+j.r),ue=le-(j.t+j.b),ae;K<0&&(ae=(ie-1)/(j.l+j.r),j.l=Math.floor(ae*j.l),j.r=Math.floor(ae*j.r)),ue<0&&(ae=(le-1)/(j.t+j.b),j.t=Math.floor(ae*j.t),j.b=Math.floor(ae*j.b))}},p.clearAutoMarginIds=function(Y){Y._fullLayout._pushmarginIds={}},p.allowAutoMargin=function(Y,ie){Y._fullLayout._pushmarginIds[ie]=1};function N(Y){var ie=Y.margin;if(!Y._size){var le=Y._size={l:Math.round(ie.l),r:Math.round(ie.r),t:Math.round(ie.t),b:Math.round(ie.b),p:Math.round(ie.pad)};le.w=Math.round(Y.width)-le.l-le.r,le.h=Math.round(Y.height)-le.t-le.b}Y._pushmargin||(Y._pushmargin={}),Y._pushmarginIds||(Y._pushmarginIds={}),Y._reservedMargin||(Y._reservedMargin={})}var O=2,V=2;p.autoMargin=function(Y,ie,le){var j=Y._fullLayout,K=j.width,ue=j.height,ae=j.margin,he=j.minreducedwidth,xe=j.minreducedheight,Se=t.constrain(K-ae.l-ae.r,O,he),Ae=t.constrain(ue-ae.t-ae.b,V,xe),De=Math.max(0,K-Se),we=Math.max(0,ue-Ae),Ce=j._pushmargin,be=j._pushmarginIds;if(ae.autoexpand!==!1){if(!le)delete Ce[ie],delete be[ie];else{var Pe=le.pad;if(Pe===void 0&&(Pe=Math.min(12,ae.l,ae.r,ae.t,ae.b)),De){var Ve=(le.l+le.r)/De;Ve>1&&(le.l/=Ve,le.r/=Ve)}if(we){var Ge=(le.t+le.b)/we;Ge>1&&(le.t/=Ge,le.b/=Ge)}var Fe=le.xl!==void 0?le.xl:le.x,He=le.xr!==void 0?le.xr:le.x,ft=le.yt!==void 0?le.yt:le.y,gt=le.yb!==void 0?le.yb:le.y;Ce[ie]={l:{val:Fe,size:le.l+Pe},r:{val:He,size:le.r+Pe},b:{val:gt,size:le.b+Pe},t:{val:ft,size:le.t+Pe}},be[ie]=1}if(!j._replotting)return p.doAutoMargin(Y)}};function X(Y){if("_redrawFromAutoMarginCount"in Y._fullLayout)return!1;var ie=u.list(Y,"",!0);for(var le in ie)if(ie[le].autoshift||ie[le].shift)return!0;return!1}p.doAutoMargin=function(Y){var ie=Y._fullLayout,le=ie.width,j=ie.height;ie._size||(ie._size={}),N(ie);var K=ie._size,ue=ie.margin,ae={t:0,b:0,l:0,r:0},he=t.extendFlat({},K),xe=ue.l,Se=ue.r,Ae=ue.t,De=ue.b,we=ie._pushmargin,Ce=ie._pushmarginIds,be=ie.minreducedwidth,Pe=ie.minreducedheight;if(ue.autoexpand!==!1){for(var Ve in we)Ce[Ve]||delete we[Ve];var Ge=Y._fullLayout._reservedMargin;for(var Fe in Ge)for(var He in Ge[Fe]){var ft=Ge[Fe][He];ae[He]=Math.max(ae[He],ft)}we.base={l:{val:0,size:xe},r:{val:1,size:Se},t:{val:1,size:Ae},b:{val:0,size:De}};for(var gt in ae){var ct=0;for(var nt in we)nt!=="base"&&L(we[nt][gt].size)&&(ct=we[nt][gt].size>ct?we[nt][gt].size:ct);var dt=Math.max(0,ue[gt]-ct);ae[gt]=Math.max(0,ae[gt]-dt)}for(var pt in we){var wt=we[pt].l||{},Tt=we[pt].b||{},Ct=wt.val,at=wt.size,ze=Tt.val,je=Tt.size,Je=le-ae.r-ae.l,Xe=j-ae.t-ae.b;for(var Oe in we){if(L(at)&&we[Oe].r){var ke=we[Oe].r.val,Ke=we[Oe].r.size;if(ke>Ct){var Ie=(at*ke+(Ke-Je)*Ct)/(ke-Ct),pe=(Ke*(1-Ct)+(at-Je)*(1-ke))/(ke-Ct);Ie+pe>xe+Se&&(xe=Ie,Se=pe)}}if(L(je)&&we[Oe].t){var Te=we[Oe].t.val,Ue=we[Oe].t.size;if(Te>ze){var et=(je*Te+(Ue-Xe)*ze)/(Te-ze),st=(Ue*(1-ze)+(je-Xe)*(1-Te))/(Te-ze);et+st>De+Ae&&(De=et,Ae=st)}}}}}var lt=t.constrain(le-ue.l-ue.r,O,be),jt=t.constrain(j-ue.t-ue.b,V,Pe),Jt=Math.max(0,le-lt),St=Math.max(0,j-jt);if(Jt){var Rt=(xe+Se)/Jt;Rt>1&&(xe/=Rt,Se/=Rt)}if(St){var $t=(De+Ae)/St;$t>1&&(De/=$t,Ae/=$t)}if(K.l=Math.round(xe)+ae.l,K.r=Math.round(Se)+ae.r,K.t=Math.round(Ae)+ae.t,K.b=Math.round(De)+ae.b,K.p=Math.round(ue.pad),K.w=Math.round(le)-K.l-K.r,K.h=Math.round(j)-K.t-K.b,!ie._replotting&&(p.didMarginChange(he,K)||X(Y))){"_redrawFromAutoMarginCount"in ie?ie._redrawFromAutoMarginCount++:ie._redrawFromAutoMarginCount=1;var Pr=3*(1+Object.keys(Ce).length);if(ie._redrawFromAutoMarginCount<Pr)return v.call("_doPlot",Y);ie._size=he,t.warn("Too many auto-margin redraws.")}ee(Y)};function ee(Y){var ie=u.list(Y,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(le){for(var j=0;j<ie.length;j++){var K=ie[j][le];K&&K()}})}var ne=["l","r","t","b","p","w","h"];p.didMarginChange=function(Y,ie){for(var le=0;le<ne.length;le++){var j=ne[le],K=Y[j],ue=ie[j];if(!L(K)||Math.abs(ue-K)>1)return!0}return!1},p.graphJson=function(Y,ie,le,j,K,ue){(K&&ie&&!Y._fullData||K&&!ie&&!Y._fullLayout)&&p.supplyDefaults(Y);var ae=K?Y._fullData:Y.data,he=K?Y._fullLayout:Y.layout,xe=(Y._transitionData||{})._frames;function Se(we,Ce){if(typeof we=="function")return Ce?"_function_":null;if(t.isPlainObject(we)){var be={},Pe;return Object.keys(we).sort().forEach(function(He){if(["_","["].indexOf(He.charAt(0))===-1){if(typeof we[He]=="function"){Ce&&(be[He]="_function");return}if(le==="keepdata"){if(He.substr(He.length-3)==="src")return}else if(le==="keepstream"){if(Pe=we[He+"src"],typeof Pe=="string"&&Pe.indexOf(":")>0&&!t.isPlainObject(we.stream))return}else if(le!=="keepall"&&(Pe=we[He+"src"],typeof Pe=="string"&&Pe.indexOf(":")>0))return;be[He]=Se(we[He],Ce)}}),be}var Ve=Array.isArray(we),Ge=t.isTypedArray(we);if((Ve||Ge)&&we.dtype&&we.shape){var Fe=we.bdata;return Se({dtype:we.dtype,shape:we.shape,bdata:t.isArrayBuffer(Fe)?w.encode(Fe):Fe},Ce)}return Ve?we.map(function(He){return Se(He,Ce)}):Ge?t.simpleMap(we,t.identity):t.isJSDate(we)?t.ms2DateTimeLocal(+we):we}var Ae={data:(ae||[]).map(function(we){var Ce=Se(we);return ie&&delete Ce.fit,Ce})};if(!ie&&(Ae.layout=Se(he),K)){var De=he._size;Ae.layout.computed={margin:{b:De.b,l:De.l,r:De.r,t:De.t}}}return xe&&(Ae.frames=Se(xe)),ue&&(Ae.config=Se(Y._context,!0)),j==="object"?Ae:JSON.stringify(Ae)},p.modifyFrames=function(Y,ie){var le,j,K,ue=Y._transitionData._frames,ae=Y._transitionData._frameHash;for(le=0;le<ie.length;le++)switch(j=ie[le],j.type){case"replace":K=j.value;var he=(ue[j.index]||{}).name,xe=K.name;ue[j.index]=ae[xe]=K,xe!==he&&(delete ae[he],ae[xe]=K);break;case"insert":K=j.value,ae[K.name]=K,ue.splice(j.index,0,K);break;case"delete":K=ue[j.index],delete ae[K.name],ue.splice(j.index,1);break}return Promise.resolve()},p.computeFrame=function(Y,ie){var le=Y._transitionData._frameHash,j,K,ue,ae;if(!ie)throw new Error("computeFrame must be given a string frame name");var he=le[ie.toString()];if(!he)return!1;for(var xe=[he],Se=[he.name];he.baseframe&&(he=le[he.baseframe.toString()])&&Se.indexOf(he.name)===-1;)xe.push(he),Se.push(he.name);for(var Ae={};he=xe.pop();)if(he.layout&&(Ae.layout=p.extendLayout(Ae.layout,he.layout)),he.data){if(Ae.data||(Ae.data=[]),K=he.traces,!K)for(K=[],j=0;j<he.data.length;j++)K[j]=j;for(Ae.traces||(Ae.traces=[]),j=0;j<he.data.length;j++)ue=K[j],ue!=null&&(ae=Ae.traces.indexOf(ue),ae===-1&&(ae=Ae.data.length,Ae.traces[ae]=ue),Ae.data[ae]=p.extendTrace(Ae.data[ae],he.data[j]))}return Ae},p.recomputeFrameHash=function(Y){for(var ie=Y._transitionData._frameHash={},le=Y._transitionData._frames,j=0;j<le.length;j++){var K=le[j];K&&K.name&&(ie[K.name]=K)}},p.extendObjectWithContainers=function(Y,ie,le){var j,K,ue,ae,he,xe,Se,Ae,De=t.extendDeepNoArrays({},ie||{}),we=t.expandObjectPaths(De),Ce={};if(le&&le.length)for(ue=0;ue<le.length;ue++)j=t.nestedProperty(we,le[ue]),K=j.get(),K===void 0?t.nestedProperty(Ce,le[ue]).set(null):(j.set(null),t.nestedProperty(Ce,le[ue]).set(K));if(Y=t.extendDeepNoArrays(Y||{},we),le&&le.length){for(ue=0;ue<le.length;ue++)if(he=t.nestedProperty(Ce,le[ue]),Se=he.get(),!!Se){for(xe=t.nestedProperty(Y,le[ue]),Ae=xe.get(),Array.isArray(Ae)||(Ae=[],xe.set(Ae)),ae=0;ae<Se.length;ae++){var be=Se[ae];be===null?Ae[ae]=null:Ae[ae]=p.extendObjectWithContainers(Ae[ae],be)}xe.set(Ae)}}return Y},p.dataArrayContainers=["transforms","dimensions"],p.layoutArrayContainers=v.layoutArrayContainers,p.extendTrace=function(Y,ie){return p.extendObjectWithContainers(Y,ie,p.dataArrayContainers)},p.extendLayout=function(Y,ie){return p.extendObjectWithContainers(Y,ie,p.layoutArrayContainers)},p.transition=function(Y,ie,le,j,K,ue){var ae={redraw:K.redraw},he={},xe=[];return ae.prepareFn=function(){for(var Se=Array.isArray(ie)?ie.length:0,Ae=j.slice(0,Se),De=0;De<Ae.length;De++){var we=Ae[De],Ce=Y._fullData[we],be=Ce._module;if(be){if(be.animatable){var Pe=be.basePlotModule.name;he[Pe]||(he[Pe]=[]),he[Pe].push(we)}Y.data[Ae[De]]=p.extendTrace(Y.data[Ae[De]],ie[De])}}var Ve=t.expandObjectPaths(t.extendDeepNoArrays({},le)),Ge=/^[xy]axis[0-9]*$/;for(var Fe in Ve)Ge.test(Fe)&&delete Ve[Fe].range;p.extendLayout(Y.layout,Ve),delete Y.calcdata,p.supplyDefaults(Y),p.doCalcdata(Y);var He=t.expandObjectPaths(le);if(He){var ft=Y._fullLayout._plots;for(var gt in ft){var ct=ft[gt],nt=ct.xaxis,dt=ct.yaxis,pt=nt.range.slice(),wt=dt.range.slice(),Tt=null,Ct=null,at=null,ze=null;Array.isArray(He[nt._name+".range"])?Tt=He[nt._name+".range"].slice():Array.isArray((He[nt._name]||{}).range)&&(Tt=He[nt._name].range.slice()),Array.isArray(He[dt._name+".range"])?Ct=He[dt._name+".range"].slice():Array.isArray((He[dt._name]||{}).range)&&(Ct=He[dt._name].range.slice()),pt&&Tt&&(nt.r2l(pt[0])!==nt.r2l(Tt[0])||nt.r2l(pt[1])!==nt.r2l(Tt[1]))&&(at={xr0:pt,xr1:Tt}),wt&&Ct&&(dt.r2l(wt[0])!==dt.r2l(Ct[0])||dt.r2l(wt[1])!==dt.r2l(Ct[1]))&&(ze={yr0:wt,yr1:Ct}),(at||ze)&&xe.push(t.extendFlat({plotinfo:ct},at,ze))}}return Promise.resolve()},ae.runFn=function(Se){var Ae,De=Y._fullLayout._basePlotModules,we=xe.length,Ce;if(le)for(Ce=0;Ce<De.length;Ce++)De[Ce].transitionAxes&&De[Ce].transitionAxes(Y,xe,ue,Se);we?(Ae=t.extendFlat({},ue),Ae.duration=0,delete he.cartesian):Ae=ue;for(var be in he){var Pe=he[be],Ve=Y._fullData[Pe[0]]._module;Ve.basePlotModule.plot(Y,Pe,Ae,Se)}},q(Y,ue,ae)},p.transitionFromReact=function(Y,ie,le,j){var K=Y._fullLayout,ue=K.transition,ae={},he=[];return ae.prepareFn=function(){var xe=K._plots;ae.redraw=!1,ie.anim==="some"&&(ae.redraw=!0),le.anim==="some"&&(ae.redraw=!0);for(var Se in xe){var Ae=xe[Se],De=Ae.xaxis,we=Ae.yaxis,Ce=j[De._name].range.slice(),be=j[we._name].range.slice(),Pe=De.range.slice(),Ve=we.range.slice();De.setScale(),we.setScale();var Ge=null,Fe=null;(De.r2l(Ce[0])!==De.r2l(Pe[0])||De.r2l(Ce[1])!==De.r2l(Pe[1]))&&(Ge={xr0:Ce,xr1:Pe}),(we.r2l(be[0])!==we.r2l(Ve[0])||we.r2l(be[1])!==we.r2l(Ve[1]))&&(Fe={yr0:be,yr1:Ve}),(Ge||Fe)&&he.push(t.extendFlat({plotinfo:Ae},Ge,Fe))}return Promise.resolve()},ae.runFn=function(xe){for(var Se=Y._fullData,Ae=Y._fullLayout,De=Ae._basePlotModules,we,Ce,be,Pe=[],Ve=0;Ve<Se.length;Ve++)Pe.push(Ve);function Ge(){if(Y._fullLayout)for(var He=0;He<De.length;He++)De[He].transitionAxes&&De[He].transitionAxes(Y,he,we,xe)}function Fe(){if(Y._fullLayout)for(var He=0;He<De.length;He++)De[He].plot(Y,be,Ce,xe)}he.length&&ie.anim?ue.ordering==="traces first"?(we=t.extendFlat({},ue,{duration:0}),be=Pe,Ce=ue,setTimeout(Ge,ue.duration),Fe()):(we=ue,be=null,Ce=t.extendFlat({},ue,{duration:0}),setTimeout(Fe,we.duration),Ge()):he.length?(we=ue,Ge()):ie.anim&&(be=Pe,Ce=ue,Fe())},q(Y,ue,ae)};function q(Y,ie,le){var j=!1;function K(De){var we=Promise.resolve();if(!De)return we;for(;De.length;)we=we.then(De.shift());return we}function ue(De){if(De)for(;De.length;)De.shift()}function ae(){return Y.emit("plotly_transitioning",[]),new Promise(function(De){Y._transitioning=!0,ie.duration>0&&(Y._transitioningWithDuration=!0),Y._transitionData._interruptCallbacks.push(function(){j=!0}),le.redraw&&Y._transitionData._interruptCallbacks.push(function(){return v.call("redraw",Y)}),Y._transitionData._interruptCallbacks.push(function(){Y.emit("plotly_transitioninterrupted",[])});var we=0,Ce=0;function be(){return we++,function(){Ce++,!j&&Ce===we&&he(De)}}le.runFn(be),setTimeout(be())})}function he(De){if(Y._transitionData)return ue(Y._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(le.redraw)return v.call("redraw",Y)}).then(function(){Y._transitioning=!1,Y._transitioningWithDuration=!1,Y.emit("plotly_transitioned",[])}).then(De)}function xe(){if(Y._transitionData)return Y._transitioning=!1,K(Y._transitionData._interruptCallbacks)}var Se=[p.previousPromises,xe,le.prepareFn,p.rehover,p.reselect,ae],Ae=t.syncOrAsync(Se,Y);return(!Ae||!Ae.then)&&(Ae=Promise.resolve()),Ae.then(function(){return Y})}p.doCalcdata=function(Y,ie){var le=u.list(Y),j=Y._fullData,K=Y._fullLayout,ue,ae,he,xe,Se=new Array(j.length),Ae=(Y.calcdata||[]).slice();for(Y.calcdata=Se,K._numBoxes=0,K._numViolins=0,K._violinScaleGroupStats={},Y._hmpixcount=0,Y._hmlumcount=0,K._piecolormap={},K._sunburstcolormap={},K._treemapcolormap={},K._iciclecolormap={},K._funnelareacolormap={},he=0;he<j.length;he++)if(Array.isArray(ie)&&ie.indexOf(he)===-1){Se[he]=Ae[he];continue}for(he=0;he<j.length;he++)ue=j[he],ue._arrayAttrs=g.findArrayAttributes(ue),ue._extremes={};var De=K._subplots.polar||[];for(he=0;he<De.length;he++)le.push(K[De[he]].radialaxis,K[De[he]].angularaxis);for(var we in K._colorAxes){var Ce=K[we];Ce.cauto!==!1&&(delete Ce.cmin,delete Ce.cmax)}var be=!1;function Pe(Fe){if(ue=j[Fe],ae=ue._module,ue.visible===!0&&ue.transforms){if(ae&&ae.calc){var He=ae.calc(Y,ue);He[0]&&He[0].t&&He[0].t._scene&&delete He[0].t._scene.dirty}for(xe=0;xe<ue.transforms.length;xe++){var ft=ue.transforms[xe];ae=x[ft.type],ae&&ae.calcTransform&&(ue._hasCalcTransform=!0,be=!0,ae.calcTransform(Y,ue,ft))}}}function Ve(Fe,He){if(ue=j[Fe],ae=ue._module,!!ae.isContainer===He){var ft=[];if(ue.visible===!0&&ue._length!==0){delete ue._indexToPoints;var gt=ue.transforms||[];for(xe=gt.length-1;xe>=0;xe--)if(gt[xe].enabled){ue._indexToPoints=gt[xe]._indexToPoints;break}ae&&ae.calc&&(ft=ae.calc(Y,ue))}(!Array.isArray(ft)||!ft[0])&&(ft=[{x:a,y:a}]),ft[0].t||(ft[0].t={}),ft[0].trace=ue,Se[Fe]=ft}}for(Z(le,j,K),he=0;he<j.length;he++)Ve(he,!0);for(he=0;he<j.length;he++)Pe(he);for(be&&Z(le,j,K),he=0;he<j.length;he++)Ve(he,!0);for(he=0;he<j.length;he++)Ve(he,!1);te(Y);var Ge=J(le,Y);if(Ge.length){for(K._numBoxes=0,K._numViolins=0,he=0;he<Ge.length;he++)Ve(Ge[he],!0);for(he=0;he<Ge.length;he++)Ve(Ge[he],!1);te(Y)}v.getComponentMethod("fx","calc")(Y),v.getComponentMethod("errorbars","calc")(Y)};var se=/(total|sum|min|max|mean|median) (ascending|descending)/;function J(Y,ie){var le=[],j,K,ue,ae,he;function xe(Oe,ke,Ke){var Ie=ke._id.charAt(0);if(Oe==="histogram2dcontour"){var pe=ke._counterAxes[0],Te=u.getFromId(ie,pe),Ue=Ie==="x"||pe==="x"&&Te.type==="category",et=Ie==="y"||pe==="y"&&Te.type==="category";return function(st,lt){return st===0||lt===0||Ue&&st===Ke[lt].length-1||et&&lt===Ke.length-1?-1:(Ie==="y"?lt:st)-1}}else return function(st,lt){return Ie==="y"?lt:st}}var Se={min:function(Oe){return t.aggNums(Math.min,null,Oe)},max:function(Oe){return t.aggNums(Math.max,null,Oe)},sum:function(Oe){return t.aggNums(function(ke,Ke){return ke+Ke},null,Oe)},total:function(Oe){return t.aggNums(function(ke,Ke){return ke+Ke},null,Oe)},mean:function(Oe){return t.mean(Oe)},median:function(Oe){return t.median(Oe)}};function Ae(Oe,ke){return Oe[1]-ke[1]}function De(Oe,ke){return ke[1]-Oe[1]}for(j=0;j<Y.length;j++){var we=Y[j];if(we.type==="category"){var Ce=we.categoryorder.match(se);if(Ce){var be=Ce[1],Pe=Ce[2],Ve=we._id.charAt(0),Ge=Ve==="x",Fe=[];for(K=0;K<we._categories.length;K++)Fe.push([we._categories[K],[]]);for(K=0;K<we._traceIndices.length;K++){var He=we._traceIndices[K],ft=ie._fullData[He];if(ft.visible===!0){var gt=ft.type;v.traceIs(ft,"histogram")&&(delete ft._xautoBinFinished,delete ft._yautoBinFinished);var ct=gt==="splom",nt=gt==="scattergl",dt=ie.calcdata[He];for(ue=0;ue<dt.length;ue++){var pt=dt[ue],wt,Tt;if(ct){var Ct=ft._axesDim[we._id];if(!Ge){var at=ft._diag[Ct][0];at&&(we=ie._fullLayout[u.id2name(at)])}var ze=pt.trace.dimensions[Ct].values;for(ae=0;ae<ze.length;ae++)for(wt=we._categoriesMap[ze[ae]],he=0;he<pt.trace.dimensions.length;he++)if(he!==Ct){var je=pt.trace.dimensions[he];Fe[wt][1].push(je.values[ae])}}else if(nt){for(ae=0;ae<pt.t.x.length;ae++)Ge?(wt=pt.t.x[ae],Tt=pt.t.y[ae]):(wt=pt.t.y[ae],Tt=pt.t.x[ae]),Fe[wt][1].push(Tt);pt.t&&pt.t._scene&&delete pt.t._scene.dirty}else if(pt.hasOwnProperty("z")){Tt=pt.z;var Je=xe(ft.type,we,Tt);for(ae=0;ae<Tt.length;ae++)for(he=0;he<Tt[ae].length;he++)wt=Je(he,ae),wt+1&&Fe[wt][1].push(Tt[ae][he])}else for(wt=pt.p,wt===void 0&&(wt=pt[Ve]),Tt=pt.s,Tt===void 0&&(Tt=pt.v),Tt===void 0&&(Tt=Ge?pt.y:pt.x),Array.isArray(Tt)||(Tt===void 0?Tt=[]:Tt=[Tt]),ae=0;ae<Tt.length;ae++)Fe[wt][1].push(Tt[ae])}}}we._categoriesValue=Fe;var Xe=[];for(K=0;K<Fe.length;K++)Xe.push([Fe[K][0],Se[be](Fe[K][1])]);Xe.sort(Pe==="descending"?De:Ae),we._categoriesAggregatedValue=Xe,we._initialCategories=Xe.map(function(Oe){return Oe[0]}),le=le.concat(we.sortByInitialCategories())}}}return le}function Z(Y,ie,le){var j={};function K(xe){xe.clearCalc(),xe.type==="multicategory"&&xe.setupMultiCategory(ie),j[xe._id]=1}t.simpleMap(Y,K);for(var ue=le._axisMatchGroups||[],ae=0;ae<ue.length;ae++)for(var he in ue[ae])j[he]||K(le[u.id2name(he)])}function te(Y){var ie=Y._fullLayout,le=ie._visibleModules,j={},K,ue,ae;for(ue=0;ue<le.length;ue++){var he=le[ue],xe=he.crossTraceCalc;if(xe){var Se=he.basePlotModule.name;j[Se]?t.pushUnique(j[Se],xe):j[Se]=[xe]}}for(ae in j){var Ae=j[ae],De=ie._subplots[ae];if(Array.isArray(De))for(K=0;K<De.length;K++){var we=De[K],Ce=ae==="cartesian"?ie._plots[we]:ie[we];for(ue=0;ue<Ae.length;ue++)Ae[ue](Y,Ce,we)}else for(ue=0;ue<Ae.length;ue++)Ae[ue](Y)}}p.rehover=function(Y){Y._fullLayout._rehover&&Y._fullLayout._rehover()},p.redrag=function(Y){Y._fullLayout._redrag&&Y._fullLayout._redrag()},p.reselect=function(Y){var ie=Y._fullLayout,le=(Y.layout||{}).selections,j=ie._previousSelections;ie._previousSelections=le;var K=ie._reselect||JSON.stringify(le)!==JSON.stringify(j);v.getComponentMethod("selections","reselect")(Y,K)},p.generalUpdatePerTraceModule=function(Y,ie,le,j){var K=ie.traceHash,ue={},ae;for(ae=0;ae<le.length;ae++){var he=le[ae],xe=he[0].trace;xe.visible&&(ue[xe.type]=ue[xe.type]||[],ue[xe.type].push(he))}for(var Se in K)if(!ue[Se]){var Ae=K[Se][0],De=Ae[0].trace;De.visible=!1,ue[Se]=[Ae]}for(var we in ue){var Ce=ue[we],be=Ce[0][0].trace._module;be.plot(Y,ie,t.filterVisible(Ce),j)}ie.traceHash=ue},p.plotBasePlot=function(Y,ie,le,j,K){var ue=v.getModule(Y),ae=T(ie.calcdata,ue)[0];ue.plot(ie,ae,j,K)},p.cleanBasePlot=function(Y,ie,le,j,K){var ue=K._has&&K._has(Y),ae=le._has&&le._has(Y);ue&&!ae&&K["_"+Y+"layer"].selectAll("g.trace").remove()}},39360:function(H){H.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(H,U,e){var d=e(3400),C=e(92065).tester,n=d.findIndexOfMin,L=d.isAngleInsideSector,w=d.angleDelta,v=d.angleDist;function g(o,p,x,A,_){if(!L(p,A))return!1;var y,E;x[0]<x[1]?(y=x[0],E=x[1]):(y=x[1],E=x[0]);var M=C(u(y,A[0],A[1],_)),s=C(u(E,A[0],A[1],_)),S=[o*Math.cos(p),o*Math.sin(p)];return s.contains(S)&&!M.contains(S)}function r(o,p,x,A){var _,y,E=A[0],M=A[1],s=m(Math.sin(p)-Math.sin(o)),S=m(Math.cos(p)-Math.cos(o)),b=Math.tan(x),I=m(1/b),D=s/S,B=M-D*E;return I?s&&S?(_=B/(b-D),y=b*_):S?(_=M*I,y=M):(_=E,y=E*b):s&&S?(_=0,y=B):S?(_=0,y=M):_=y=NaN,[_,y]}function t(o,p,x,A){var _=-p*x,y=p*p+1,E=2*(p*_-x),M=_*_+x*x-o*o,s=Math.sqrt(E*E-4*y*M),S=(-E+s)/(2*y),b=(-E-s)/(2*y);return[[S,p*S+_+A],[b,p*b+_+A]]}function i(o,p){var x=p.length,A=new Array(x+1),_;for(_=0;_<x;_++){var y=p[_];A[_]=[o*Math.cos(y),o*Math.sin(y)]}return A[_]=A[0].slice(),A}function a(o,p,x,A){var _=A.length,y=[],E,M;function s(O){return[o*Math.cos(O),o*Math.sin(O)]}function S(O,V,X){return r(O,V,X,s(O))}function b(O){return d.mod(O,_)}function I(O){return L(O,[p,x])}var D=n(A,function(O){return I(O)?v(O,p):1/0}),B=S(A[D],A[b(D-1)],p);for(y.push(B),E=D,M=0;M<_;E++,M++){var k=A[b(E)];if(!I(k))break;y.push(s(k))}var F=n(A,function(O){return I(O)?v(O,x):1/0}),N=S(A[F],A[b(F+1)],x);return y.push(N),y.push([0,0]),y.push(y[0].slice()),y}function u(o,p,x,A){return d.isFullCircle([p,x])?i(o,A):a(o,p,x,A)}function f(o,p,x,A){for(var _=1/0,y=1/0,E=u(o,p,x,A),M=0;M<E.length;M++){var s=E[M];_=Math.min(_,s[0]),y=Math.min(y,-s[1])}return[_,y]}function l(o,p){var x=function(y){var E=w(y,o);return E>0?E:1/0},A=n(p,x),_=d.mod(A+1,p.length);return[p[A],p[_]]}function m(o){return Math.abs(o)>1e-10?o:0}function h(o,p,x){p=p||0,x=x||0;for(var A=o.length,_=new Array(A),y=0;y<A;y++){var E=o[y];_[y]=[p+E[0],x-E[1]]}return _}function T(o,p,x,A,_,y){var E=u(o,p,x,A);return"M"+h(E,_,y).join("L")}function c(o,p,x,A,_,y,E){var M,s;o<p?(M=o,s=p):(M=p,s=o);var S=h(u(M,x,A,_),y,E),b=h(u(s,x,A,_),y,E);return"M"+b.reverse().join("L")+"M"+S.join("L")}H.exports={isPtInsidePolygon:g,findPolygonOffset:f,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:m,pathPolygon:T,pathPolygonAnnulus:c}},40872:function(H,U,e){var d=e(84888).KY,C=e(3400).counterRegex,n=e(62400),L=e(39360),w=L.attr,v=L.name,g=C(v),r={};r[w]={valType:"subplotid",dflt:v,editType:"calc"};function t(a){for(var u=a._fullLayout,f=a.calcdata,l=u._subplots[v],m=0;m<l.length;m++){var h=l[m],T=d(f,v,h),c=u[h]._subplot;c||(c=n(a,h),u[h]._subplot=c),c.plot(T,u,a._promises)}}function i(a,u,f,l){for(var m=l._subplots[v]||[],h=l._has&&l._has("gl"),T=u._has&&u._has("gl"),c=h&&!T,o=0;o<m.length;o++){var p=m[o],x=l[p]._subplot;if(!u[p]&&x){x.framework.remove(),x.layers["radial-axis-title"].remove();for(var A in x.clipPaths)x.clipPaths[A].remove()}c&&x._scene&&(x._scene.destroy(),x._scene=null)}}H.exports={attr:w,name:v,idRoot:v,idRegex:g,attrRegex:g,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:i,toSVG:e(57952).toSVG}},95300:function(H,U,e){var d=e(22548),C=e(94724),n=e(86968).u,L=e(3400).extendFlat,w=e(67824).overrideAll,v=w({color:C.color,showline:L({},C.showline,{dflt:!0}),linecolor:C.linecolor,linewidth:C.linewidth,showgrid:L({},C.showgrid,{dflt:!0}),gridcolor:C.gridcolor,gridwidth:C.gridwidth,griddash:C.griddash},"plot","from-root"),g=w({tickmode:C.minor.tickmode,nticks:C.nticks,tick0:C.tick0,dtick:C.dtick,tickvals:C.tickvals,ticktext:C.ticktext,ticks:C.ticks,ticklen:C.ticklen,tickwidth:C.tickwidth,tickcolor:C.tickcolor,ticklabelstep:C.ticklabelstep,showticklabels:C.showticklabels,labelalias:C.labelalias,showtickprefix:C.showtickprefix,tickprefix:C.tickprefix,showticksuffix:C.showticksuffix,ticksuffix:C.ticksuffix,showexponent:C.showexponent,exponentformat:C.exponentformat,minexponent:C.minexponent,separatethousands:C.separatethousands,tickfont:C.tickfont,tickangle:C.tickangle,tickformat:C.tickformat,tickformatstops:C.tickformatstops,layer:C.layer},"plot","from-root"),r={visible:L({},C.visible,{dflt:!0}),type:L({},C.type,{values:["-","linear","log","date","category"]}),autotypenumbers:C.autotypenumbers,autorangeoptions:{minallowed:C.autorangeoptions.minallowed,maxallowed:C.autorangeoptions.maxallowed,clipmin:C.autorangeoptions.clipmin,clipmax:C.autorangeoptions.clipmax,include:C.autorangeoptions.include,editType:"plot"},autorange:L({},C.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},C.minallowed,{editType:"plot"}),maxallowed:L({},C.maxallowed,{editType:"plot"}),range:L({},C.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:C.categoryorder,categoryarray:C.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:C.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},C.title.text,{editType:"plot",dflt:""}),font:L({},C.title.font,{editType:"plot"}),editType:"plot"},hoverformat:C.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:C._deprecated.title,titlefont:C._deprecated.titlefont}};L(r,v,g);var t={visible:L({},C.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:C.autotypenumbers,categoryorder:C.categoryorder,categoryarray:C.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:C.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(t,v,g),H.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:d.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(H,U,e){var d=e(3400),C=e(76308),n=e(31780),L=e(168),w=e(84888).op,v=e(26332),g=e(25404),r=e(95936),t=e(42568),i=e(22416),a=e(42136),u=e(76808),f=e(52976),l=e(95300),m=e(57696),h=e(39360),T=h.axisNames;function c(p,x,A,_){var y=A("bgcolor");_.bgColor=C.combine(y,_.paper_bgcolor);var E=A("sector");A("hole");var M=w(_.fullData,h.name,_.id),s=_.layoutOut,S;function b(K,ue){return A(S+"."+K,ue)}for(var I=0;I<T.length;I++){S=T[I],d.isPlainObject(p[S])||(p[S]={});var D=p[S],B=n.newContainer(x,S);B._id=B._name=S,B._attr=_.id+"."+S,B._traceIndices=M.map(function(K){return K._expandedIndex});var k=h.axisName2dataArray[S],F=o(D,B,b,M,k,_);i(D,B,b,{axData:M,dataAttr:k});var N=b("visible");switch(m(B,x,s),b("uirevision",x.uirevision),B._m=1,S){case"radialaxis":b("minallowed"),b("maxallowed");var O=b("range"),V=B.getAutorangeDflt(O),X=b("autorange",V),ee;O&&(O[0]===null&&O[1]===null||(O[0]===null||O[1]===null)&&(X==="reversed"||X===!0)||O[0]!==null&&(X==="min"||X==="max reversed")||O[1]!==null&&(X==="max"||X==="min reversed"))&&(O=void 0,delete B.range,B.autorange=!0,ee=!0),ee||(V=B.getAutorangeDflt(O),X=b("autorange",V)),D.autorange=X,X&&(u(b,X,O),(F==="linear"||F==="-")&&b("rangemode"),B.isReversed()&&(B._m=-1)),B.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(F==="date"){d.log("Polar plots do not support date angular axes yet.");for(var ne=0;ne<M.length;ne++)M[ne].visible=!1;F=D.type=B.type="linear"}b(F==="linear"?"thetaunit":"period");var q=b("direction");b("rotation",{counterclockwise:0,clockwise:90}[q]);break}if(t(D,B,b,B.type,{tickSuffixDflt:B.thetaunit==="degrees"?"":void 0}),N){var se,J,Z,te,Y,ie,le,j=_.font||{};se=b("color"),J=se===D.color?se:j.color,Z=j.size,te=j.family,Y=j.weight,ie=j.style,le=j.variant,v(D,B,b,B.type),r(D,B,b,B.type,{font:{weight:Y,style:ie,variant:le,color:J,size:Z,family:te},noAutotickangles:S==="angularaxis"}),g(D,B,b,{outerTicks:!0}),a(D,B,b,{dfltColor:se,bgColor:_.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[S]}),b("layer"),S==="radialaxis"&&(b("side"),b("angle",E[0]),b("title.text"),d.coerceFont(b,"title.font",{weight:Y,style:ie,variant:le,color:J,size:d.bigFont(Z),family:te}))}F!=="category"&&b("hoverformat"),B._input=D}x.angularaxis.type==="category"&&A("gridshape")}function o(p,x,A,_,y,E){var M=A("autotypenumbers",E.autotypenumbersDflt),s=A("type");if(s==="-"){for(var S,b=0;b<_.length;b++)if(_[b].visible){S=_[b];break}S&&S[y]&&(x.type=f(S[y],"gregorian",{noMultiCategory:!0,autotypenumbers:M})),x.type==="-"?x.type="linear":p.type=x.type}return x.type}H.exports=function(x,A,_){L(x,A,_,{type:h.name,attributes:l,handleDefaults:c,font:A.font,autotypenumbersDflt:A.autotypenumbers,paper_bgcolor:A.paper_bgcolor,fullData:_,layoutOut:A})}},62400:function(H,U,e){var d=e(33428),C=e(49760),n=e(24040),L=e(3400),w=L.strRotate,v=L.strTranslate,g=e(76308),r=e(43616),t=e(7316),i=e(54460),a=e(78344),u=e(57696),f=e(19280).doAutoRange,l=e(51184),m=e(86476),h=e(93024),T=e(81668),c=e(22676).prepSelect,o=e(22676).selectOnClick,p=e(22676).clearOutline,x=e(93972),A=e(73696),_=e(39172).redrawReglTraces,y=e(84284).MID_SHIFT,E=e(39360),M=e(57384),s=e(36416),S=s.smith,b=s.reactanceArc,I=s.resistanceArc,D=s.smithTransform,B=L._,k=L.mod,F=L.deg2rad,N=L.rad2deg;function O(se,J,Z){this.isSmith=Z||!1,this.id=J,this.gd=se,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var te=se._fullLayout,Y="clip"+te._uid+J;this.clipIds.forTraces=Y+"-for-traces",this.clipPaths.forTraces=te._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=te["_"+(Z?"smith":"polar")+"layer"].append("g").attr("class",J),this.getHole=function(ie){return this.isSmith?0:ie.hole},this.getSector=function(ie){return this.isSmith?[0,360]:ie.sector},this.getRadial=function(ie){return this.isSmith?ie.realaxis:ie.radialaxis},this.getAngular=function(ie){return this.isSmith?ie.imaginaryaxis:ie.angularaxis},Z||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=O.prototype;H.exports=function(J,Z,te){return new O(J,Z,te)},V.plot=function(se,J){for(var Z=this,te=J[Z.id],Y=!1,ie=0;ie<se.length;ie++){var le=se[ie][0].trace;if(le.cliponaxis===!1){Y=!0;break}}Z._hasClipOnAxisFalse=Y,Z.updateLayers(J,te),Z.updateLayout(J,te),t.generalUpdatePerTraceModule(Z.gd,Z,se,te),Z.updateFx(J,te),Z.isSmith&&(delete te.realaxis.range,delete te.imaginaryaxis.range)},V.updateLayers=function(se,J){var Z=this,te=Z.isSmith,Y=Z.layers,ie=Z.getRadial(J),le=Z.getAngular(J),j=E.layerNames,K=j.indexOf("frontplot"),ue=j.slice(0,K),ae=le.layer==="below traces",he=ie.layer==="below traces";ae&&ue.push("angular-line"),he&&ue.push("radial-line"),ae&&ue.push("angular-axis"),he&&ue.push("radial-axis"),ue.push("frontplot"),ae||ue.push("angular-line"),he||ue.push("radial-line"),ae||ue.push("angular-axis"),he||ue.push("radial-axis");var xe=(te?"smith":"polar")+"sublayer",Se=Z.framework.selectAll("."+xe).data(ue,String);Se.enter().append("g").attr("class",function(Ae){return xe+" "+Ae}).each(function(Ae){var De=Y[Ae]=d.select(this);switch(Ae){case"frontplot":te||De.append("g").classed("barlayer",!0),De.append("g").classed("scatterlayer",!0);break;case"backplot":De.append("g").classed("maplayer",!0);break;case"plotbg":Y.bg=De.append("path");break;case"radial-grid":De.style("fill","none");break;case"angular-grid":De.style("fill","none");break;case"radial-line":De.append("line").style("fill","none");break;case"angular-line":De.append("path").style("fill","none");break}}),Se.order()},V.updateLayout=function(se,J){var Z=this,te=Z.layers,Y=se._size,ie=Z.getRadial(J),le=Z.getAngular(J),j=J.domain.x,K=J.domain.y;Z.xOffset=Y.l+Y.w*j[0],Z.yOffset=Y.t+Y.h*(1-K[1]);var ue=Z.xLength=Y.w*(j[1]-j[0]),ae=Z.yLength=Y.h*(K[1]-K[0]),he=Z.getSector(J);Z.sectorInRad=he.map(F);var xe=Z.sectorBBox=ee(he),Se=xe[2]-xe[0],Ae=xe[3]-xe[1],De=ae/ue,we=Math.abs(Ae/Se),Ce,be,Pe,Ve,Ge;De>we?(Ce=ue,be=ue*we,Ge=(ae-be)/Y.h/2,Pe=[j[0],j[1]],Ve=[K[0]+Ge,K[1]-Ge]):(Ce=ae/we,be=ae,Ge=(ue-Ce)/Y.w/2,Pe=[j[0]+Ge,j[1]-Ge],Ve=[K[0],K[1]]),Z.xLength2=Ce,Z.yLength2=be,Z.xDomain2=Pe,Z.yDomain2=Ve;var Fe=Z.xOffset2=Y.l+Y.w*Pe[0],He=Z.yOffset2=Y.t+Y.h*(1-Ve[1]),ft=Z.radius=Ce/Se,gt=Z.innerRadius=Z.getHole(J)*ft,ct=Z.cx=Fe-ft*xe[0],nt=Z.cy=He+ft*xe[3],dt=Z.cxx=ct-Fe,pt=Z.cyy=nt-He,wt=ie.side,Tt;wt==="counterclockwise"?(Tt=wt,wt="top"):wt==="clockwise"&&(Tt=wt,wt="bottom"),Z.radialAxis=Z.mockAxis(se,J,ie,{_id:"x",side:wt,_trueSide:Tt,domain:[gt/Y.w,ft/Y.w]}),Z.angularAxis=Z.mockAxis(se,J,le,{side:"right",domain:[0,Math.PI],autorange:!1}),Z.doAutoRange(se,J),Z.updateAngularAxis(se,J),Z.updateRadialAxis(se,J),Z.updateRadialAxisTitle(se,J),Z.xaxis=Z.mockCartesianAxis(se,J,{_id:"x",domain:Pe}),Z.yaxis=Z.mockCartesianAxis(se,J,{_id:"y",domain:Ve});var Ct=Z.pathSubplot();Z.clipPaths.forTraces.select("path").attr("d",Ct).attr("transform",v(dt,pt)),te.frontplot.attr("transform",v(Fe,He)).call(r.setClipUrl,Z._hasClipOnAxisFalse?null:Z.clipIds.forTraces,Z.gd),te.bg.attr("d",Ct).attr("transform",v(ct,nt)).call(g.fill,J.bgcolor)},V.mockAxis=function(se,J,Z,te){var Y=L.extendFlat({},Z,te);return u(Y,J,se),Y},V.mockCartesianAxis=function(se,J,Z){var te=this,Y=te.isSmith,ie=Z._id,le=L.extendFlat({type:"linear"},Z);a(le,se);var j={x:[0,2],y:[1,3]};return le.setRange=function(){var K=te.sectorBBox,ue=j[ie],ae=te.radialAxis._rl,he=(ae[1]-ae[0])/(1-te.getHole(J));le.range=[K[ue[0]]*he,K[ue[1]]*he]},le.isPtWithinRange=ie==="x"&&!Y?function(K){return te.isPtInside(K)}:function(){return!0},le.setRange(),le.setScale(),le},V.doAutoRange=function(se,J){var Z=this,te=Z.gd,Y=Z.radialAxis,ie=Z.getRadial(J);f(te,Y);var le=Y.range;if(ie.range=le.slice(),ie._input.range=le.slice(),Y._rl=[Y.r2l(le[0],null,"gregorian"),Y.r2l(le[1],null,"gregorian")],Y.minallowed!==void 0){var j=Y.r2l(Y.minallowed);Y._rl[0]>Y._rl[1]?Y._rl[1]=Math.max(Y._rl[1],j):Y._rl[0]=Math.max(Y._rl[0],j)}if(Y.maxallowed!==void 0){var K=Y.r2l(Y.maxallowed);Y._rl[0]<Y._rl[1]?Y._rl[1]=Math.min(Y._rl[1],K):Y._rl[0]=Math.min(Y._rl[0],K)}},V.updateRadialAxis=function(se,J){var Z=this,te=Z.gd,Y=Z.layers,ie=Z.radius,le=Z.innerRadius,j=Z.cx,K=Z.cy,ue=Z.getRadial(J),ae=k(Z.getSector(J)[0],360),he=Z.radialAxis,xe=le<ie,Se=Z.isSmith;Se||(Z.fillViewInitialKey("radialaxis.angle",ue.angle),Z.fillViewInitialKey("radialaxis.range",he.range.slice()),he.setGeometry()),he.tickangle==="auto"&&ae>90&&ae<=270&&(he.tickangle=180);var Ae=Se?function(ft){var gt=D(Z,S([ft.x,0]));return v(gt[0]-j,gt[1]-K)}:function(ft){return v(he.l2p(ft.x)+le,0)},De=Se?function(ft){return I(Z,ft.x,-1/0,1/0)}:function(ft){return Z.pathArc(he.r2p(ft.x)+le)},we=X(ue);if(Z.radialTickLayout!==we&&(Y["radial-axis"].selectAll(".xtick").remove(),Z.radialTickLayout=we),xe){he.setScale();var Ce=0,be=Se?(he.tickvals||[]).filter(function(ft){return ft>=0}).map(function(ft){return i.tickText(he,ft,!0,!1)}):i.calcTicks(he),Pe=Se?be:i.clipEnds(he,be),Ve=i.getTickSigns(he)[2];Se&&((he.ticks==="top"&&he.side==="bottom"||he.ticks==="bottom"&&he.side==="top")&&(Ve=-Ve),he.ticks==="top"&&he.side==="top"&&(Ce=-he.ticklen),he.ticks==="bottom"&&he.side==="bottom"&&(Ce=he.ticklen)),i.drawTicks(te,he,{vals:be,layer:Y["radial-axis"],path:i.makeTickPath(he,0,Ve),transFn:Ae,crisp:!1}),i.drawGrid(te,he,{vals:Pe,layer:Y["radial-grid"],path:De,transFn:L.noop,crisp:!1}),i.drawLabels(te,he,{vals:be,layer:Y["radial-axis"],transFn:Ae,labelFns:i.makeLabelFns(he,Ce)})}var Ge=Z.radialAxisAngle=Z.vangles?N(ne(F(ue.angle),Z.vangles)):ue.angle,Fe=v(j,K),He=Fe+w(-Ge);q(Y["radial-axis"],xe&&(ue.showticklabels||ue.ticks),{transform:He}),q(Y["radial-grid"],xe&&ue.showgrid,{transform:Se?"":Fe}),q(Y["radial-line"].select("line"),xe&&ue.showline,{x1:Se?-ie:le,y1:0,x2:ie,y2:0,transform:He}).attr("stroke-width",ue.linewidth).call(g.stroke,ue.linecolor)},V.updateRadialAxisTitle=function(se,J,Z){if(!this.isSmith){var te=this,Y=te.gd,ie=te.radius,le=te.cx,j=te.cy,K=te.getRadial(J),ue=te.id+"title",ae=0;if(K.title){var he=r.bBox(te.layers["radial-axis"].node()).height,xe=K.title.font.size,Se=K.side;ae=Se==="top"?xe:Se==="counterclockwise"?-(he+xe*.4):he+xe*.8}var Ae=Z!==void 0?Z:te.radialAxisAngle,De=F(Ae),we=Math.cos(De),Ce=Math.sin(De),be=le+ie/2*we+ae*Ce,Pe=j-ie/2*Ce+ae*we;te.layers["radial-axis-title"]=T.draw(Y,ue,{propContainer:K,propName:te.id+".radialaxis.title",placeholder:B(Y,"Click to enter radial axis title"),attributes:{x:be,y:Pe,"text-anchor":"middle"},transform:{rotate:-Ae}})}},V.updateAngularAxis=function(se,J){var Z=this,te=Z.gd,Y=Z.layers,ie=Z.radius,le=Z.innerRadius,j=Z.cx,K=Z.cy,ue=Z.getAngular(J),ae=Z.angularAxis,he=Z.isSmith;he||(Z.fillViewInitialKey("angularaxis.rotation",ue.rotation),ae.setGeometry(),ae.setScale());var xe=he?function(gt){var ct=D(Z,S([0,gt.x]));return Math.atan2(ct[0]-j,ct[1]-K)-Math.PI/2}:function(gt){return ae.t2g(gt.x)};ae.type==="linear"&&ae.thetaunit==="radians"&&(ae.tick0=N(ae.tick0),ae.dtick=N(ae.dtick));var Se=function(gt){return v(j+ie*Math.cos(gt),K-ie*Math.sin(gt))},Ae=he?function(gt){var ct=D(Z,S([0,gt.x]));return v(ct[0],ct[1])}:function(gt){return Se(xe(gt))},De=he?function(gt){var ct=D(Z,S([0,gt.x])),nt=Math.atan2(ct[0]-j,ct[1]-K)-Math.PI/2;return v(ct[0],ct[1])+w(-N(nt))}:function(gt){var ct=xe(gt);return Se(ct)+w(-N(ct))},we=he?function(gt){return b(Z,gt.x,0,1/0)}:function(gt){var ct=xe(gt),nt=Math.cos(ct),dt=Math.sin(ct);return"M"+[j+le*nt,K-le*dt]+"L"+[j+ie*nt,K-ie*dt]},Ce=i.makeLabelFns(ae,0),be=Ce.labelStandoff,Pe={};Pe.xFn=function(gt){var ct=xe(gt);return Math.cos(ct)*be},Pe.yFn=function(gt){var ct=xe(gt),nt=Math.sin(ct)>0?.2:1;return-Math.sin(ct)*(be+gt.fontSize*nt)+Math.abs(Math.cos(ct))*(gt.fontSize*y)},Pe.anchorFn=function(gt){var ct=xe(gt),nt=Math.cos(ct);return Math.abs(nt)<.1?"middle":nt>0?"start":"end"},Pe.heightFn=function(gt,ct,nt){var dt=xe(gt);return-.5*(1+Math.sin(dt))*nt};var Ve=X(ue);Z.angularTickLayout!==Ve&&(Y["angular-axis"].selectAll("."+ae._id+"tick").remove(),Z.angularTickLayout=Ve);var Ge=he?[1/0].concat(ae.tickvals||[]).map(function(gt){return i.tickText(ae,gt,!0,!1)}):i.calcTicks(ae);he&&(Ge[0].text="",Ge[0].fontSize*=1.75);var Fe;if(J.gridshape==="linear"?(Fe=Ge.map(xe),L.angleDelta(Fe[0],Fe[1])<0&&(Fe=Fe.slice().reverse())):Fe=null,Z.vangles=Fe,ae.type==="category"&&(Ge=Ge.filter(function(gt){return L.isAngleInsideSector(xe(gt),Z.sectorInRad)})),ae.visible){var He=ae.ticks==="inside"?-1:1,ft=(ae.linewidth||1)/2;i.drawTicks(te,ae,{vals:Ge,layer:Y["angular-axis"],path:"M"+He*ft+",0h"+He*ae.ticklen,transFn:De,crisp:!1}),i.drawGrid(te,ae,{vals:Ge,layer:Y["angular-grid"],path:we,transFn:L.noop,crisp:!1}),i.drawLabels(te,ae,{vals:Ge,layer:Y["angular-axis"],repositionOnUpdate:!0,transFn:Ae,labelFns:Pe})}q(Y["angular-line"].select("path"),ue.showline,{d:Z.pathSubplot(),transform:v(j,K)}).attr("stroke-width",ue.linewidth).call(g.stroke,ue.linecolor)},V.updateFx=function(se,J){if(!this.gd._context.staticPlot){var Z=!this.isSmith;Z&&(this.updateAngularDrag(se),this.updateRadialDrag(se,J,0),this.updateRadialDrag(se,J,1)),this.updateHoverAndMainDrag(se)}},V.updateHoverAndMainDrag=function(se){var J=this,Z=J.isSmith,te=J.gd,Y=J.layers,ie=se._zoomlayer,le=E.MINZOOM,j=E.OFFEDGE,K=J.radius,ue=J.innerRadius,ae=J.cx,he=J.cy,xe=J.cxx,Se=J.cyy,Ae=J.sectorInRad,De=J.vangles,we=J.radialAxis,Ce=M.clampTiny,be=M.findXYatLength,Pe=M.findEnclosingVertexAngles,Ve=E.cornerHalfWidth,Ge=E.cornerLen/2,Fe,He,ft=l.makeDragger(Y,"path","maindrag",se.dragmode===!1?"none":"crosshair");d.select(ft).attr("d",J.pathSubplot()).attr("transform",v(ae,he)),ft.onmousemove=function(St){h.hover(te,St,J.id),te._fullLayout._lasthover=ft,te._fullLayout._hoversubplot=J.id},ft.onmouseout=function(St){te._dragging||m.unhover(te,St)};var gt={element:ft,gd:te,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]},ct,nt,dt,pt,wt,Tt,Ct,at,ze;function je(St,Rt){return Math.sqrt(St*St+Rt*Rt)}function Je(St,Rt){return je(St-xe,Rt-Se)}function Xe(St,Rt){return Math.atan2(Se-Rt,St-xe)}function Oe(St,Rt){return[St*Math.cos(Rt),St*Math.sin(-Rt)]}function ke(St,Rt){if(St===0)return J.pathSector(2*Ve);var $t=Ge/St,Pr=Rt-$t,xt=Rt+$t,qt=Math.max(0,Math.min(St,K)),nr=qt-Ve,wr=qt+Ve;return"M"+Oe(nr,Pr)+"A"+[nr,nr]+" 0,0,0 "+Oe(nr,xt)+"L"+Oe(wr,xt)+"A"+[wr,wr]+" 0,0,1 "+Oe(wr,Pr)+"Z"}function Ke(St,Rt,$t){if(St===0)return J.pathSector(2*Ve);var Pr=Oe(St,Rt),xt=Oe(St,$t),qt=Ce((Pr[0]+xt[0])/2),nr=Ce((Pr[1]+xt[1])/2),wr,dr;if(qt&&nr){var bt=nr/qt,ut=-1/bt,Mt=be(Ve,bt,qt,nr);wr=be(Ge,ut,Mt[0][0],Mt[0][1]),dr=be(Ge,ut,Mt[1][0],Mt[1][1])}else{var _t,kt;nr?(_t=Ge,kt=Ve):(_t=Ve,kt=Ge),wr=[[qt-_t,nr-kt],[qt+_t,nr-kt]],dr=[[qt-_t,nr+kt],[qt+_t,nr+kt]]}return"M"+wr.join("L")+"L"+dr.reverse().join("L")+"Z"}function Ie(){dt=null,pt=null,wt=J.pathSubplot(),Tt=!1;var St=te._fullLayout[J.id];Ct=C(St.bgcolor).getLuminance(),at=l.makeZoombox(ie,Ct,ae,he,wt),at.attr("fill-rule","evenodd"),ze=l.makeCorners(ie,ae,he),p(te)}function pe(St,Rt){return Rt=Math.max(Math.min(Rt,K),ue),St<j?St=0:K-St<j?St=K:Rt<j?Rt=0:K-Rt<j&&(Rt=K),Math.abs(Rt-St)>le?(St<Rt?(dt=St,pt=Rt):(dt=Rt,pt=St),!0):(dt=null,pt=null,!1)}function Te(St,Rt){St=St||wt,Rt=Rt||"M0,0Z",at.attr("d",St),ze.attr("d",Rt),l.transitionZoombox(at,ze,Tt,Ct),Tt=!0;var $t={};jt($t),te.emit("plotly_relayouting",$t)}function Ue(St,Rt){St=St*Fe,Rt=Rt*He;var $t=ct+St,Pr=nt+Rt,xt=Je(ct,nt),qt=Math.min(Je($t,Pr),K),nr=Xe(ct,nt),wr,dr;pe(xt,qt)&&(wr=wt+J.pathSector(pt),dt&&(wr+=J.pathSector(dt)),dr=ke(dt,nr)+ke(pt,nr)),Te(wr,dr)}function et(St,Rt,$t,Pr){var xt=M.findIntersectionXY($t,Pr,$t,[St-xe,Se-Rt]);return je(xt[0],xt[1])}function st(St,Rt){var $t=ct+St,Pr=nt+Rt,xt=Xe(ct,nt),qt=Xe($t,Pr),nr=Pe(xt,De),wr=Pe(qt,De),dr=et(ct,nt,nr[0],nr[1]),bt=Math.min(et($t,Pr,wr[0],wr[1]),K),ut,Mt;pe(dr,bt)&&(ut=wt+J.pathSector(pt),dt&&(ut+=J.pathSector(dt)),Mt=[Ke(dt,nr[0],nr[1]),Ke(pt,nr[0],nr[1])].join(" ")),Te(ut,Mt)}function lt(){if(l.removeZoombox(te),!(dt===null||pt===null)){var St={};jt(St),l.showDoubleClickNotifier(te),n.call("_guiRelayout",te,St)}}function jt(St){var Rt=we._rl,$t=(Rt[1]-Rt[0])/(1-ue/K)/K,Pr=[Rt[0]+(dt-ue)*$t,Rt[0]+(pt-ue)*$t];St[J.id+".radialaxis.range"]=Pr}function Jt(St,Rt){var $t=te._fullLayout.clickmode;if(l.removeZoombox(te),St===2){var Pr={};for(var xt in J.viewInitial)Pr[J.id+"."+xt]=J.viewInitial[xt];te.emit("plotly_doubleclick",null),n.call("_guiRelayout",te,Pr)}$t.indexOf("select")>-1&&St===1&&o(Rt,te,[J.xaxis],[J.yaxis],J.id,gt),$t.indexOf("event")>-1&&h.click(te,Rt,J.id)}gt.prepFn=function(St,Rt,$t){var Pr=te._fullLayout.dragmode,xt=ft.getBoundingClientRect();te._fullLayout._calcInverseTransform(te);var qt=te._fullLayout._invTransform;Fe=te._fullLayout._invScaleX,He=te._fullLayout._invScaleY;var nr=L.apply3DTransform(qt)(Rt-xt.left,$t-xt.top);if(ct=nr[0],nt=nr[1],De){var wr=M.findPolygonOffset(K,Ae[0],Ae[1],De);ct+=xe+wr[0],nt+=Se+wr[1]}switch(Pr){case"zoom":gt.clickFn=Jt,Z||(De?gt.moveFn=st:gt.moveFn=Ue,gt.doneFn=lt,Ie());break;case"select":case"lasso":c(St,Rt,$t,gt,Pr);break}},m.init(gt)},V.updateRadialDrag=function(se,J,Z){var te=this,Y=te.gd,ie=te.layers,le=te.radius,j=te.innerRadius,K=te.cx,ue=te.cy,ae=te.radialAxis,he=E.radialDragBoxSize,xe=he/2;if(!ae.visible)return;var Se=F(te.radialAxisAngle),Ae=ae._rl,De=Ae[0],we=Ae[1],Ce=Ae[Z],be=.75*(Ae[1]-Ae[0])/(1-te.getHole(J))/le,Pe,Ve,Ge;Z?(Pe=K+(le+xe)*Math.cos(Se),Ve=ue-(le+xe)*Math.sin(Se),Ge="radialdrag"):(Pe=K+(j-xe)*Math.cos(Se),Ve=ue-(j-xe)*Math.sin(Se),Ge="radialdrag-inner");var Fe=l.makeRectDragger(ie,Ge,"crosshair",-xe,-xe,he,he),He={element:Fe,gd:Y};se.dragmode===!1&&(He.dragmode=!1),q(d.select(Fe),ae.visible&&j<le,{transform:v(Pe,Ve)});var ft,gt,ct;function nt(Ct,at){if(ft)ft(Ct,at);else{var ze=[Ct,-at],je=[Math.cos(Se),Math.sin(Se)],Je=Math.abs(L.dot(ze,je)/Math.sqrt(L.dot(ze,ze)));isNaN(Je)||(ft=Je<.5?wt:Tt)}var Xe={};dt(Xe),Y.emit("plotly_relayouting",Xe)}function dt(Ct){gt!==null?Ct[te.id+".radialaxis.angle"]=gt:ct!==null&&(Ct[te.id+".radialaxis.range["+Z+"]"]=ct)}function pt(){gt!==null?n.call("_guiRelayout",Y,te.id+".radialaxis.angle",gt):ct!==null&&n.call("_guiRelayout",Y,te.id+".radialaxis.range["+Z+"]",ct)}function wt(Ct,at){if(Z!==0){var ze=Pe+Ct,je=Ve+at;gt=Math.atan2(ue-je,ze-K),te.vangles&&(gt=ne(gt,te.vangles)),gt=N(gt);var Je=v(K,ue)+w(-gt);ie["radial-axis"].attr("transform",Je),ie["radial-line"].select("line").attr("transform",Je);var Xe=te.gd._fullLayout,Oe=Xe[te.id];te.updateRadialAxisTitle(Xe,Oe,gt)}}function Tt(Ct,at){var ze=L.dot([Ct,-at],[Math.cos(Se),Math.sin(Se)]);if(ct=Ce-be*ze,be>0!=(Z?ct>De:ct<we)){ct=null;return}var je=Y._fullLayout,Je=je[te.id];ae.range[Z]=ct,ae._rl[Z]=ct,te.updateRadialAxis(je,Je),te.xaxis.setRange(),te.xaxis.setScale(),te.yaxis.setRange(),te.yaxis.setScale();var Xe=!1;for(var Oe in te.traceHash){var ke=te.traceHash[Oe],Ke=L.filterVisible(ke),Ie=ke[0][0].trace._module;Ie.plot(Y,te,Ke,Je),n.traceIs(Oe,"gl")&&Ke.length&&(Xe=!0)}Xe&&(A(Y),_(Y))}He.prepFn=function(){ft=null,gt=null,ct=null,He.moveFn=nt,He.doneFn=pt,p(Y)},He.clampFn=function(Ct,at){return Math.sqrt(Ct*Ct+at*at)<E.MINDRAG&&(Ct=0,at=0),[Ct,at]},m.init(He)},V.updateAngularDrag=function(se){var J=this,Z=J.gd,te=J.layers,Y=J.radius,ie=J.angularAxis,le=J.cx,j=J.cy,K=J.cxx,ue=J.cyy,ae=E.angularDragBoxSize,he=l.makeDragger(te,"path","angulardrag",se.dragmode===!1?"none":"move"),xe={element:he,gd:Z};se.dragmode===!1?xe.dragmode=!1:d.select(he).attr("d",J.pathAnnulus(Y,Y+ae)).attr("transform",v(le,j)).call(x,"move");function Se(ct,nt){return Math.atan2(ue+ae-nt,ct-K-ae)}var Ae=te.frontplot.select(".scatterlayer").selectAll(".trace"),De=Ae.selectAll(".point"),we=Ae.selectAll(".textpoint"),Ce,be,Pe,Ve,Ge,Fe;function He(ct,nt){var dt=J.gd._fullLayout,pt=dt[J.id],wt=Ce+ct*se._invScaleX,Tt=be+nt*se._invScaleY,Ct=Se(wt,Tt),at=N(Ct-Fe);if(Ve=Pe+at,te.frontplot.attr("transform",v(J.xOffset2,J.yOffset2)+w([-at,K,ue])),J.vangles){Ge=J.radialAxisAngle+at;var ze=v(le,j)+w(-at),je=v(le,j)+w(-Ge);te.bg.attr("transform",ze),te["radial-grid"].attr("transform",ze),te["radial-axis"].attr("transform",je),te["radial-line"].select("line").attr("transform",je),J.updateRadialAxisTitle(dt,pt,Ge)}else J.clipPaths.forTraces.select("path").attr("transform",v(K,ue)+w(at));De.each(function(){var pe=d.select(this),Te=r.getTranslate(pe);pe.attr("transform",v(Te.x,Te.y)+w([at]))}),we.each(function(){var pe=d.select(this),Te=pe.select("text"),Ue=r.getTranslate(pe);pe.attr("transform",w([at,Te.attr("x"),Te.attr("y")])+v(Ue.x,Ue.y))}),ie.rotation=L.modHalf(Ve,360),J.updateAngularAxis(dt,pt),J._hasClipOnAxisFalse&&!L.isFullCircle(J.sectorInRad)&&Ae.call(r.hideOutsideRangePoints,J);var Je=!1;for(var Xe in J.traceHash)if(n.traceIs(Xe,"gl")){var Oe=J.traceHash[Xe],ke=L.filterVisible(Oe),Ke=Oe[0][0].trace._module;Ke.plot(Z,J,ke,pt),ke.length&&(Je=!0)}Je&&(A(Z),_(Z));var Ie={};ft(Ie),Z.emit("plotly_relayouting",Ie)}function ft(ct){ct[J.id+".angularaxis.rotation"]=Ve,J.vangles&&(ct[J.id+".radialaxis.angle"]=Ge)}function gt(){we.select("text").attr("transform",null);var ct={};ft(ct),n.call("_guiRelayout",Z,ct)}xe.prepFn=function(ct,nt,dt){var pt=se[J.id];Pe=pt.angularaxis.rotation;var wt=he.getBoundingClientRect();Ce=nt-wt.left,be=dt-wt.top,Z._fullLayout._calcInverseTransform(Z);var Tt=L.apply3DTransform(se._invTransform)(Ce,be);Ce=Tt[0],be=Tt[1],Fe=Se(Ce,be),xe.moveFn=He,xe.doneFn=gt,p(Z)},J.vangles&&!L.isFullCircle(J.sectorInRad)&&(xe.prepFn=L.noop,x(d.select(he),null)),m.init(xe)},V.isPtInside=function(se){if(this.isSmith)return!0;var J=this.sectorInRad,Z=this.vangles,te=this.angularAxis.c2g(se.theta),Y=this.radialAxis,ie=Y.c2l(se.r),le=Y._rl,j=Z?M.isPtInsidePolygon:L.isPtInsideSector;return j(ie,te,le,J,Z)},V.pathArc=function(se){var J=this.sectorInRad,Z=this.vangles,te=Z?M.pathPolygon:L.pathArc;return te(se,J[0],J[1],Z)},V.pathSector=function(se){var J=this.sectorInRad,Z=this.vangles,te=Z?M.pathPolygon:L.pathSector;return te(se,J[0],J[1],Z)},V.pathAnnulus=function(se,J){var Z=this.sectorInRad,te=this.vangles,Y=te?M.pathPolygonAnnulus:L.pathAnnulus;return Y(se,J,Z[0],Z[1],te)},V.pathSubplot=function(){var se=this.innerRadius,J=this.radius;return se?this.pathAnnulus(se,J):this.pathSector(J)},V.fillViewInitialKey=function(se,J){se in this.viewInitial||(this.viewInitial[se]=J)};function X(se){var J=se.ticks+String(se.ticklen)+String(se.showticklabels);return"side"in se&&(J+=se.side),J}function ee(se){var J=se[0],Z=se[1],te=Z-J,Y=k(J,360),ie=Y+te,le=Math.cos(F(Y)),j=Math.sin(F(Y)),K=Math.cos(F(ie)),ue=Math.sin(F(ie)),ae,he,xe,Se;return Y<=90&&ie>=90||Y>90&&ie>=450?Se=1:j<=0&&ue<=0?Se=0:Se=Math.max(j,ue),Y<=180&&ie>=180||Y>180&&ie>=540?ae=-1:le>=0&&K>=0?ae=0:ae=Math.min(le,K),Y<=270&&ie>=270||Y>270&&ie>=630?he=-1:j>=0&&ue>=0?he=0:he=Math.min(j,ue),ie>=360?xe=1:le<=0&&K<=0?xe=0:xe=Math.max(le,K),[ae,he,xe,Se]}function ne(se,J){var Z=function(Y){return L.angleDist(se,Y)},te=L.findIndexOfMin(J,Z);return J[te]}function q(se,J,Z){return J?(se.attr("display",null),se.attr(Z)):se&&se.attr("display","none"),se}},57696:function(H,U,e){var d=e(3400),C=e(78344),n=d.deg2rad,L=d.rad2deg;H.exports=function(i,a,u){switch(C(i,u),i._id){case"x":case"radialaxis":w(i,a);break;case"angularaxis":r(i,a);break}};function w(t,i){var a=i._subplot;t.setGeometry=function(){var u=t._rl[0],f=t._rl[1],l=a.innerRadius,m=(a.radius-l)/(f-u),h=l/m,T=u>f?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var o=t.c2l(c)-u;return(T(o)?o:0)+h},t.g2c=function(c){return t.l2c(c+u-h)},t.g2p=function(c){return c*m},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,i){return i==="degrees"?n(t):t}function g(t,i){return i==="degrees"?L(t):t}function r(t,i){var a=t.type;if(a==="linear"){var u=t.d2c,f=t.c2d;t.d2c=function(l,m){return v(u(l),m)},t.c2d=function(l,m){return f(g(l,m))}}t.makeCalcdata=function(l,m){var h=l[m],T=l._length,c,o,p=function(E){return t.d2c(E,l.thetaunit)};if(h)for(c=new Array(T),o=0;o<T;o++)c[o]=p(h[o]);else{var x=m+"0",A="d"+m,_=x in l?p(l[x]):0,y=l[A]?p(l[A]):(t.period||2*Math.PI)/T;for(c=new Array(T),o=0;o<T;o++)c[o]=_+o*y}return c},t.setGeometry=function(){var l=i.sector,m=l.map(n),h={clockwise:-1,counterclockwise:1}[t.direction],T=n(t.rotation),c=function(M){return h*M+T},o=function(M){return(M-T)/h},p,x,A,_;switch(a){case"linear":x=p=d.identity,_=n,A=L,t.range=d.isFullCircle(m)?[l[0],l[0]+360]:m.map(o).map(L);break;case"category":var y=t._categories.length,E=t.period?Math.max(t.period,y):y;E===0&&(E=1),x=_=function(M){return M*2*Math.PI/E},p=A=function(M){return M*E/Math.PI/2},t.range=[0,E];break}t.c2g=function(M){return c(x(M))},t.g2c=function(M){return p(o(M))},t.t2g=function(M){return c(_(M))},t.g2t=function(M){return A(o(M))}}}},55012:function(H){H.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(H){function U(w){return w<0?-1:w>0?1:0}function e(w){var v=w[0],g=w[1];if(!isFinite(v)||!isFinite(g))return[1,0];var r=(v+1)*(v+1)+g*g;return[(v*v+g*g-1)/r,2*g/r]}function d(w,v){var g=v[0],r=v[1];return[g*w.radius+w.cx,-r*w.radius+w.cy]}function C(w,v){return v*w.radius}function n(w,v,g,r){var t=d(w,e([g,v])),i=t[0],a=t[1],u=d(w,e([r,v])),f=u[0],l=u[1];if(v===0)return["M"+i+","+a,"L"+f+","+l].join(" ");var m=C(w,1/Math.abs(v));return["M"+i+","+a,"A"+m+","+m+" 0 0,"+(v<0?1:0)+" "+f+","+l].join(" ")}function L(w,v,g,r){var t=C(w,1/(v+1)),i=d(w,e([v,g])),a=i[0],u=i[1],f=d(w,e([v,r])),l=f[0],m=f[1];if(U(g)!==U(r)){var h=d(w,e([v,0])),T=h[0],c=h[1];return["M"+a+","+u,"A"+t+","+t+" 0 0,"+(0<g?0:1)+" "+T+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+m].join(" ")}return["M"+a+","+u,"A"+t+","+t+" 0 0,"+(r<g?0:1)+" "+l+","+m].join(" ")}H.exports={smith:e,reactanceArc:n,resistanceArc:L,smithTransform:d}},47788:function(H,U,e){var d=e(84888).KY,C=e(3400).counterRegex,n=e(62400),L=e(55012),w=L.attr,v=L.name,g=C(v),r={};r[w]={valType:"subplotid",dflt:v,editType:"calc"};function t(a){for(var u=a._fullLayout,f=a.calcdata,l=u._subplots[v],m=0;m<l.length;m++){var h=l[m],T=d(f,v,h),c=u[h]._subplot;c||(c=n(a,h,!0),u[h]._subplot=c),c.plot(T,u,a._promises)}}function i(a,u,f,l){for(var m=l._subplots[v]||[],h=0;h<m.length;h++){var T=m[h],c=l[T]._subplot;if(!u[T]&&c){c.framework.remove();for(var o in c.clipPaths)c.clipPaths[o].remove()}}}H.exports={attr:w,name:v,idRoot:v,idRegex:g,attrRegex:g,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:i,toSVG:e(57952).toSVG}},6183:function(H,U,e){var d=e(22548),C=e(94724),n=e(86968).u,L=e(3400).extendFlat,w=e(67824).overrideAll,v=w({color:C.color,showline:L({},C.showline,{dflt:!0}),linecolor:C.linecolor,linewidth:C.linewidth,showgrid:L({},C.showgrid,{dflt:!0}),gridcolor:C.gridcolor,gridwidth:C.gridwidth,griddash:C.griddash},"plot","from-root"),g=w({ticklen:C.ticklen,tickwidth:L({},C.tickwidth,{dflt:2}),tickcolor:C.tickcolor,showticklabels:C.showticklabels,labelalias:C.labelalias,showtickprefix:C.showtickprefix,tickprefix:C.tickprefix,showticksuffix:C.showticksuffix,ticksuffix:C.ticksuffix,tickfont:C.tickfont,tickformat:C.tickformat,hoverformat:C.hoverformat,layer:C.layer},"plot","from-root"),r=L({visible:L({},C.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},C.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,g),t=L({visible:L({},C.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:C.ticks,editType:"calc"},v,g);H.exports={domain:n({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:d.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(H,U,e){var d=e(3400),C=e(76308),n=e(31780),L=e(168),w=e(84888).op,v=e(42568),g=e(95936),r=e(42136),t=e(78344),i=e(6183),a=e(55012),u=a.axisNames,f=m(function(h){return d.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(T){return-T}).concat([0]).concat(h)},String);function l(h,T,c,o){var p=c("bgcolor");o.bgColor=C.combine(p,o.paper_bgcolor);var x=w(o.fullData,a.name,o.id),A=o.layoutOut,_;function y(V,X){return c(_+"."+V,X)}for(var E=0;E<u.length;E++){_=u[E],d.isPlainObject(h[_])||(h[_]={});var M=h[_],s=n.newContainer(T,_);s._id=s._name=_,s._attr=o.id+"."+_,s._traceIndices=x.map(function(V){return V._expandedIndex});var S=y("visible");if(s.type="linear",t(s,A),v(M,s,y,s.type),S){var b=_==="realaxis";if(b&&y("side"),b)y("tickvals");else{var I=f(T.realaxis.tickvals||i.realaxis.tickvals.dflt);y("tickvals",I)}d.isTypedArray(s.tickvals)&&(s.tickvals=Array.from(s.tickvals));var D,B,k,F,N=o.font||{};S&&(D=y("color"),B=D===M.color?D:N.color,k=N.size,F=N.family),g(M,s,y,s.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!b,noExp:!0,font:{color:B,size:k,family:F}}),d.coerce2(h,T,i,_+".ticklen"),d.coerce2(h,T,i,_+".tickwidth"),d.coerce2(h,T,i,_+".tickcolor",T.color);var O=y("ticks");O||(delete T[_].ticklen,delete T[_].tickwidth,delete T[_].tickcolor),r(M,s,y,{dfltColor:D,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i[_]}),y("layer")}y("hoverformat"),delete s.type,s._input=M}}H.exports=function(T,c,o){L(T,c,o,{noUirevision:!0,type:a.name,attributes:i,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:o,layoutOut:c})};function m(h,T){var c={};return function(o){var p=T?T(o):o;if(p in c)return c[p];var x=h(o);return c[p]=x,x}}},168:function(H,U,e){var d=e(3400),C=e(31780),n=e(86968).Q;H.exports=function(w,v,g,r){var t=r.type,i=r.attributes,a=r.handleDefaults,u=r.partition||"x",f=v._subplots[t],l=f.length,m=l&&f[0].replace(/\d+$/,""),h,T;function c(A,_){return d.coerce(h,T,i,A,_)}for(var o=0;o<l;o++){var p=f[o];w[p]?h=w[p]:h=w[p]={},T=C.newContainer(v,p,m),r.noUirevision||c("uirevision",v.uirevision);var x={};x[u]=[o/l,(o+1)/l],n(T,v,c,x),r.id=p,a(h,T,c,r)}}},21776:function(H,U,e){var d=e(26880);d.FORMAT_LINK,d.DATE_FORMAT_LINK;function C(n){var L=n.description?" "+n.description:"",w=n.keys||[];if(w.length>0){for(var v=[],g=0;g<w.length;g++)v[g]="`"+w[g]+"`";L=L+"Finally, the template string has access to ",w.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}U.Ks=function(n,L){n=n||{},L=L||{},C(L);var w={valType:"string",dflt:"",editType:n.editType||"none"};return n.arrayOk!==!1&&(w.arrayOk=!0),w},U.Gw=function(n,L){n=n||{},L=L||{},C(L);var w={valType:"string",dflt:"",editType:n.editType||"calc"};return n.arrayOk!==!1&&(w.arrayOk=!0),w},U.ye=function(n,L){n=n||{},L=L||{},n.newshape,C(L);var w={valType:"string",dflt:"",editType:n.editType||"arraydraw"};return w}},19352:function(H,U,e){var d=e(24696),C=e(84888).KY,n=e(3400).counterRegex,L="ternary";U.name=L;var w=U.attr="subplot";U.idRoot=L,U.idRegex=U.attrRegex=n(L);var v=U.attributes={};v[w]={valType:"subplotid",dflt:"ternary",editType:"calc"},U.layoutAttributes=e(86379),U.supplyLayoutDefaults=e(38536),U.plot=function(r){for(var t=r._fullLayout,i=r.calcdata,a=t._subplots[L],u=0;u<a.length;u++){var f=a[u],l=C(i,L,f),m=t[f]._subplot;m||(m=new d({id:f,graphDiv:r,container:t._ternarylayer.node()},t),t[f]._subplot=m),m.plot(l,t,r._promises)}},U.clean=function(g,r,t,i){for(var a=i._subplots[L]||[],u=0;u<a.length;u++){var f=a[u],l=i[f]._subplot;!r[f]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(H,U,e){var d=e(22548),C=e(86968).u,n=e(94724),L=e(67824).overrideAll,w=e(92880).extendFlat,v={title:{text:n.title.text,font:n.title.font},color:n.color,tickmode:n.minor.tickmode,nticks:w({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,labelalias:n.labelalias,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,minexponent:n.minexponent,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:w({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:w({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,griddash:n.griddash,layer:n.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:n._deprecated.title,titlefont:n._deprecated.titlefont}},g=H.exports=L({domain:C({name:"ternary"}),bgcolor:{valType:"color",dflt:d.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");g.uirevision={valType:"any",editType:"none"},g.aaxis.uirevision=g.baxis.uirevision=g.caxis.uirevision={valType:"any",editType:"none"}},38536:function(H,U,e){var d=e(76308),C=e(31780),n=e(3400),L=e(168),w=e(95936),v=e(42568),g=e(25404),r=e(26332),t=e(42136),i=e(86379),a=["aaxis","baxis","caxis"];H.exports=function(m,h,T){L(m,h,T,{type:"ternary",attributes:i,handleDefaults:u,font:h.font,paper_bgcolor:h.paper_bgcolor})};function u(l,m,h,T){var c=h("bgcolor"),o=h("sum");T.bgColor=d.combine(c,T.paper_bgcolor);for(var p,x,A,_=0;_<a.length;_++)p=a[_],x=l[p]||{},A=C.newContainer(m,p),A._name=p,f(x,A,T,m);var y=m.aaxis,E=m.baxis,M=m.caxis;y.min+E.min+M.min>=o&&(y.min=0,E.min=0,M.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function f(l,m,h,T){var c=i[m._name];function o(s,S){return n.coerce(l,m,c,s,S)}o("uirevision",T.uirevision),m.type="linear";var p=o("color"),x=p!==c.color.dflt?p:h.font.color,A=m._name,_=A.charAt(0).toUpperCase(),y="Component "+_,E=o("title.text",y);m._hovertitle=E===y?E:_,n.coerceFont(o,"title.font",{weight:h.font.weight,style:h.font.style,variant:h.font.variant,family:h.font.family,size:n.bigFont(h.font.size),color:x}),o("min"),r(l,m,o,"linear"),v(l,m,o,"linear"),w(l,m,o,"linear",{noAutotickangles:!0}),g(l,m,o,{outerTicks:!0});var M=o("showticklabels");M&&(n.coerceFont(o,"tickfont",{weight:h.font.weight,style:h.font.style,variant:h.font.variant,family:h.font.family,size:h.font.size,color:x}),o("tickangle"),o("tickformat")),t(l,m,o,{dfltColor:p,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),o("hoverformat"),o("layer")}},24696:function(H,U,e){var d=e(33428),C=e(49760),n=e(24040),L=e(3400),w=L.strTranslate,v=L._,g=e(76308),r=e(43616),t=e(78344),i=e(92880).extendFlat,a=e(7316),u=e(54460),f=e(86476),l=e(93024),m=e(72760),h=m.freeMode,T=m.rectMode,c=e(81668),o=e(22676).prepSelect,p=e(22676).selectOnClick,x=e(22676).clearOutline,A=e(22676).clearSelectionsCache,_=e(33816);function y(N,O){this.id=N.id,this.graphDiv=N.graphDiv,this.init(O),this.makeFramework(O),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}H.exports=y;var E=y.prototype;E.init=function(N){this.container=N._ternarylayer,this.defs=N._defs,this.layoutId=N._uid,this.traceHash={},this.layers={}},E.plot=function(N,O){var V=this,X=O[V.id],ee=O._size;V._hasClipOnAxisFalse=!1;for(var ne=0;ne<N.length;ne++){var q=N[ne][0].trace;if(q.cliponaxis===!1){V._hasClipOnAxisFalse=!0;break}}V.updateLayers(X),V.adjustLayout(X,ee),a.generalUpdatePerTraceModule(V.graphDiv,V,N,X),V.layers.plotbg.select("path").call(g.fill,X.bgcolor)},E.makeFramework=function(N){var O=this,V=O.graphDiv,X=N[O.id],ee=O.clipId="clip"+O.layoutId+O.id,ne=O.clipIdRelative="clip-relative"+O.layoutId+O.id;O.clipDef=L.ensureSingleById(N._clips,"clipPath",ee,function(q){q.append("path").attr("d","M0,0Z")}),O.clipDefRelative=L.ensureSingleById(N._clips,"clipPath",ne,function(q){q.append("path").attr("d","M0,0Z")}),O.plotContainer=L.ensureSingle(O.container,"g",O.id),O.updateLayers(X),r.setClipUrl(O.layers.backplot,ee,V),r.setClipUrl(O.layers.grids,ee,V)},E.updateLayers=function(N){var O=this,V=O.layers,X=["draglayer","plotbg","backplot","grids"];N.aaxis.layer==="below traces"&&X.push("aaxis","aline"),N.baxis.layer==="below traces"&&X.push("baxis","bline"),N.caxis.layer==="below traces"&&X.push("caxis","cline"),X.push("frontplot"),N.aaxis.layer==="above traces"&&X.push("aaxis","aline"),N.baxis.layer==="above traces"&&X.push("baxis","bline"),N.caxis.layer==="above traces"&&X.push("caxis","cline");var ee=O.plotContainer.selectAll("g.toplevel").data(X,String),ne=["agrid","bgrid","cgrid"];ee.enter().append("g").attr("class",function(q){return"toplevel "+q}).each(function(q){var se=d.select(this);V[q]=se,q==="frontplot"?se.append("g").classed("scatterlayer",!0):q==="backplot"?se.append("g").classed("maplayer",!0):q==="plotbg"?se.append("path").attr("d","M0,0Z"):q==="aline"||q==="bline"||q==="cline"?se.append("path"):q==="grids"&&ne.forEach(function(J){V[J]=se.append("g").classed("grid "+J,!0)})}),ee.order()};var M=Math.sqrt(4/3);E.adjustLayout=function(N,O){var V=this,X=N.domain,ee=(X.x[0]+X.x[1])/2,ne=(X.y[0]+X.y[1])/2,q=X.x[1]-X.x[0],se=X.y[1]-X.y[0],J=q*O.w,Z=se*O.h,te=N.sum,Y=N.aaxis.min,ie=N.baxis.min,le=N.caxis.min,j,K,ue,ae,he,xe;J>M*Z?(ae=Z,ue=ae*M):(ue=J,ae=ue/M),he=q*ue/J,xe=se*ae/Z,j=O.l+O.w*ee-ue/2,K=O.t+O.h*(1-ne)-ae/2,V.x0=j,V.y0=K,V.w=ue,V.h=ae,V.sum=te,V.xaxis={type:"linear",range:[Y+2*le-te,te-Y-2*ie],domain:[ee-he/2,ee+he/2],_id:"x"},t(V.xaxis,V.graphDiv._fullLayout),V.xaxis.setScale(),V.xaxis.isPtWithinRange=function(He){return He.a>=V.aaxis.range[0]&&He.a<=V.aaxis.range[1]&&He.b>=V.baxis.range[1]&&He.b<=V.baxis.range[0]&&He.c>=V.caxis.range[1]&&He.c<=V.caxis.range[0]},V.yaxis={type:"linear",range:[Y,te-ie-le],domain:[ne-xe/2,ne+xe/2],_id:"y"},t(V.yaxis,V.graphDiv._fullLayout),V.yaxis.setScale(),V.yaxis.isPtWithinRange=function(){return!0};var Se=V.yaxis.domain[0],Ae=V.aaxis=i({},N.aaxis,{range:[Y,te-ie-le],side:"left",tickangle:(+N.aaxis.tickangle||0)-30,domain:[Se,Se+xe*M],anchor:"free",position:0,_id:"y",_length:ue});t(Ae,V.graphDiv._fullLayout),Ae.setScale();var De=V.baxis=i({},N.baxis,{range:[te-Y-le,ie],side:"bottom",domain:V.xaxis.domain,anchor:"free",position:0,_id:"x",_length:ue});t(De,V.graphDiv._fullLayout),De.setScale();var we=V.caxis=i({},N.caxis,{range:[te-Y-ie,le],side:"right",tickangle:(+N.caxis.tickangle||0)+30,domain:[Se,Se+xe*M],anchor:"free",position:0,_id:"y",_length:ue});t(we,V.graphDiv._fullLayout),we.setScale();var Ce="M"+j+","+(K+ae)+"h"+ue+"l-"+ue/2+",-"+ae+"Z";V.clipDef.select("path").attr("d",Ce),V.layers.plotbg.select("path").attr("d",Ce);var be="M0,"+ae+"h"+ue+"l-"+ue/2+",-"+ae+"Z";V.clipDefRelative.select("path").attr("d",be);var Pe=w(j,K);V.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Pe),V.clipDefRelative.select("path").attr("transform",null);var Ve=w(j-De._offset,K+ae);V.layers.baxis.attr("transform",Ve),V.layers.bgrid.attr("transform",Ve);var Ge=w(j+ue/2,K)+"rotate(30)"+w(0,-Ae._offset);V.layers.aaxis.attr("transform",Ge),V.layers.agrid.attr("transform",Ge);var Fe=w(j+ue/2,K)+"rotate(-30)"+w(0,-we._offset);V.layers.caxis.attr("transform",Fe),V.layers.cgrid.attr("transform",Fe),V.drawAxes(!0),V.layers.aline.select("path").attr("d",Ae.showline?"M"+j+","+(K+ae)+"l"+ue/2+",-"+ae:"M0,0").call(g.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),V.layers.bline.select("path").attr("d",De.showline?"M"+j+","+(K+ae)+"h"+ue:"M0,0").call(g.stroke,De.linecolor||"#000").style("stroke-width",(De.linewidth||0)+"px"),V.layers.cline.select("path").attr("d",we.showline?"M"+(j+ue/2)+","+K+"l"+ue/2+","+ae:"M0,0").call(g.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),V.graphDiv._context.staticPlot||V.initInteractions(),r.setClipUrl(V.layers.frontplot,V._hasClipOnAxisFalse?null:V.clipId,V.graphDiv)},E.drawAxes=function(N){var O=this,V=O.graphDiv,X=O.id.substr(7)+"title",ee=O.layers,ne=O.aaxis,q=O.baxis,se=O.caxis;if(O.drawAx(ne),O.drawAx(q),O.drawAx(se),N){var J=Math.max(ne.showticklabels?ne.tickfont.size/2:0,(se.showticklabels?se.tickfont.size*.75:0)+(se.ticks==="outside"?se.ticklen*.87:0)),Z=(q.showticklabels?q.tickfont.size:0)+(q.ticks==="outside"?q.ticklen:0)+3;ee["a-title"]=c.draw(V,"a"+X,{propContainer:ne,propName:O.id+".aaxis.title",placeholder:v(V,"Click to enter Component A title"),attributes:{x:O.x0+O.w/2,y:O.y0-ne.title.font.size/3-J,"text-anchor":"middle"}}),ee["b-title"]=c.draw(V,"b"+X,{propContainer:q,propName:O.id+".baxis.title",placeholder:v(V,"Click to enter Component B title"),attributes:{x:O.x0-Z,y:O.y0+O.h+q.title.font.size*.83+Z,"text-anchor":"middle"}}),ee["c-title"]=c.draw(V,"c"+X,{propContainer:se,propName:O.id+".caxis.title",placeholder:v(V,"Click to enter Component C title"),attributes:{x:O.x0+O.w+Z,y:O.y0+O.h+se.title.font.size*.83+Z,"text-anchor":"middle"}})}},E.drawAx=function(N){var O=this,V=O.graphDiv,X=N._name,ee=X.charAt(0),ne=N._id,q=O.layers[X],se=30,J=ee+"tickLayout",Z=s(N);O[J]!==Z&&(q.selectAll("."+ne+"tick").remove(),O[J]=Z),N.setScale();var te=u.calcTicks(N),Y=u.clipEnds(N,te),ie=u.makeTransTickFn(N),le=u.getTickSigns(N)[2],j=L.deg2rad(se),K=le*(N.linewidth||1)/2,ue=le*N.ticklen,ae=O.w,he=O.h,xe=ee==="b"?"M0,"+K+"l"+Math.sin(j)*ue+","+Math.cos(j)*ue:"M"+K+",0l"+Math.cos(j)*ue+","+-Math.sin(j)*ue,Se={a:"M0,0l"+he+",-"+ae/2,b:"M0,0l-"+ae/2+",-"+he,c:"M0,0l-"+he+","+ae/2}[ee];u.drawTicks(V,N,{vals:N.ticks==="inside"?Y:te,layer:q,path:xe,transFn:ie,crisp:!1}),u.drawGrid(V,N,{vals:Y,layer:O.layers[ee+"grid"],path:Se,transFn:ie,crisp:!1}),u.drawLabels(V,N,{vals:te,layer:q,transFn:ie,labelFns:u.makeLabelFns(N,0,se)})};function s(N){return N.ticks+String(N.ticklen)+String(N.showticklabels)}var S=_.MINZOOM/2+.87,b="m-0.87,.5h"+S+"v3h-"+(S+5.2)+"l"+(S/2+2.6)+",-"+(S*.87+4.5)+"l2.6,1.5l-"+S/2+","+S*.87+"Z",I="m0.87,.5h-"+S+"v3h"+(S+5.2)+"l-"+(S/2+2.6)+",-"+(S*.87+4.5)+"l-2.6,1.5l"+S/2+","+S*.87+"Z",D="m0,1l"+S/2+","+S*.87+"l2.6,-1.5l-"+(S/2+2.6)+",-"+(S*.87+4.5)+"l-"+(S/2+2.6)+","+(S*.87+4.5)+"l2.6,1.5l"+S/2+",-"+S*.87+"Z",B="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",k=!0;E.clearOutline=function(){A(this.dragOptions),x(this.dragOptions.gd)},E.initInteractions=function(){var N=this,O=N.layers.plotbg.select("path").node(),V=N.graphDiv,X=V._fullLayout._zoomlayer,ee,ne;this.dragOptions={element:O,gd:V,plotinfo:{id:N.id,domain:V._fullLayout[N.id].domain,xaxis:N.xaxis,yaxis:N.yaxis},subplot:N.id,prepFn:function(Ve,Ge,Fe){N.dragOptions.xaxes=[N.xaxis],N.dragOptions.yaxes=[N.yaxis],ee=V._fullLayout._invScaleX,ne=V._fullLayout._invScaleY;var He=N.dragOptions.dragmode=V._fullLayout.dragmode;h(He)?N.dragOptions.minDrag=1:N.dragOptions.minDrag=void 0,He==="zoom"?(N.dragOptions.moveFn=De,N.dragOptions.clickFn=ae,N.dragOptions.doneFn=we,he(Ve,Ge,Fe)):He==="pan"?(N.dragOptions.moveFn=be,N.dragOptions.clickFn=ae,N.dragOptions.doneFn=Pe,Ce(),N.clearOutline(V)):(T(He)||h(He))&&o(Ve,Ge,Fe,N.dragOptions,He)}};var q,se,J,Z,te,Y,ie,le,j,K;function ue(Ve){var Ge={};return Ge[N.id+".aaxis.min"]=Ve.a,Ge[N.id+".baxis.min"]=Ve.b,Ge[N.id+".caxis.min"]=Ve.c,Ge}function ae(Ve,Ge){var Fe=V._fullLayout.clickmode;F(V),Ve===2&&(V.emit("plotly_doubleclick",null),n.call("_guiRelayout",V,ue({a:0,b:0,c:0}))),Fe.indexOf("select")>-1&&Ve===1&&p(Ge,V,[N.xaxis],[N.yaxis],N.id,N.dragOptions),Fe.indexOf("event")>-1&&l.click(V,Ge,N.id)}function he(Ve,Ge,Fe){var He=O.getBoundingClientRect();q=Ge-He.left,se=Fe-He.top,V._fullLayout._calcInverseTransform(V);var ft=V._fullLayout._invTransform,gt=L.apply3DTransform(ft)(q,se);q=gt[0],se=gt[1],J={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},te=J,Z=N.aaxis.range[1]-J.a,Y=C(N.graphDiv._fullLayout[N.id].bgcolor).getLuminance(),ie="M0,"+N.h+"L"+N.w/2+", 0L"+N.w+","+N.h+"Z",le=!1,j=X.append("path").attr("class","zoombox").attr("transform",w(N.x0,N.y0)).style({fill:Y>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",ie),K=X.append("path").attr("class","zoombox-corners").attr("transform",w(N.x0,N.y0)).style({fill:g.background,stroke:g.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),N.clearOutline(V)}function xe(Ve,Ge){return 1-Ge/N.h}function Se(Ve,Ge){return 1-(Ve+(N.h-Ge)/Math.sqrt(3))/N.w}function Ae(Ve,Ge){return(Ve-(N.h-Ge)/Math.sqrt(3))/N.w}function De(Ve,Ge){var Fe=q+Ve*ee,He=se+Ge*ne,ft=Math.max(0,Math.min(1,xe(q,se),xe(Fe,He))),gt=Math.max(0,Math.min(1,Se(q,se),Se(Fe,He))),ct=Math.max(0,Math.min(1,Ae(q,se),Ae(Fe,He))),nt=(ft/2+ct)*N.w,dt=(1-ft/2-gt)*N.w,pt=(nt+dt)/2,wt=dt-nt,Tt=(1-ft)*N.h,Ct=Tt-wt/M;wt<_.MINZOOM?(te=J,j.attr("d",ie),K.attr("d","M0,0Z")):(te={a:J.a+ft*Z,b:J.b+gt*Z,c:J.c+ct*Z},j.attr("d",ie+"M"+nt+","+Tt+"H"+dt+"L"+pt+","+Ct+"L"+nt+","+Tt+"Z"),K.attr("d","M"+q+","+se+B+"M"+nt+","+Tt+b+"M"+dt+","+Tt+I+"M"+pt+","+Ct+D)),le||(j.transition().style("fill",Y>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),K.transition().style("opacity",1).duration(200),le=!0),V.emit("plotly_relayouting",ue(te))}function we(){F(V),te!==J&&(n.call("_guiRelayout",V,ue(te)),k&&V.data&&V._context.showTips&&(L.notifier(v(V,"Double-click to zoom back out"),"long"),k=!1))}function Ce(){J={a:N.aaxis.range[0],b:N.baxis.range[1],c:N.caxis.range[1]},te=J}function be(Ve,Ge){var Fe=Ve/N.xaxis._m,He=Ge/N.yaxis._m;te={a:J.a-He,b:J.b+(Fe+He)/2,c:J.c-(Fe-He)/2};var ft=[te.a,te.b,te.c].sort(L.sorterAsc),gt={a:ft.indexOf(te.a),b:ft.indexOf(te.b),c:ft.indexOf(te.c)};ft[0]<0&&(ft[1]+ft[0]/2<0?(ft[2]+=ft[0]+ft[1],ft[0]=ft[1]=0):(ft[2]+=ft[0]/2,ft[1]+=ft[0]/2,ft[0]=0),te={a:ft[gt.a],b:ft[gt.b],c:ft[gt.c]},Ge=(J.a-te.a)*N.yaxis._m,Ve=(J.c-te.c-J.b+te.b)*N.xaxis._m);var ct=w(N.x0+Ve,N.y0+Ge);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ct);var nt=w(-Ve,-Ge);N.clipDefRelative.select("path").attr("transform",nt),N.aaxis.range=[te.a,N.sum-te.b-te.c],N.baxis.range=[N.sum-te.a-te.c,te.b],N.caxis.range=[N.sum-te.a-te.b,te.c],N.drawAxes(!1),N._hasClipOnAxisFalse&&N.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,N),V.emit("plotly_relayouting",ue(te))}function Pe(){n.call("_guiRelayout",V,ue(te))}O.onmousemove=function(Ve){l.hover(V,Ve,N.id),V._fullLayout._lasthover=O,V._fullLayout._hoversubplot=N.id},O.onmouseout=function(Ve){V._dragging||f.unhover(V,Ve)},f.init(this.dragOptions)};function F(N){d.select(N).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(H,U,e){var d=e(24248),C=e(16628),n=e(52416),L=e(63620),w=e(52200).addStyleRule,v=e(92880),g=e(45464),r=e(64859),t=v.extendFlat,i=v.extendDeepAll;U.modules={},U.allCategories={},U.allTypes=[],U.subplotsRegistry={},U.transformsRegistry={},U.componentsRegistry={},U.layoutArrayContainers=[],U.layoutArrayRegexes=[],U.traceLayoutAttributes={},U.localeRegistry={},U.apiMethodRegistry={},U.collectableSubplotTypes=null,U.register=function(A){if(U.collectableSubplotTypes=null,A)A&&!Array.isArray(A)&&(A=[A]);else throw new Error("No argument passed to Plotly.register.");for(var _=0;_<A.length;_++){var y=A[_];if(!y)throw new Error("Invalid module was attempted to be registered!");switch(y.moduleType){case"trace":a(y);break;case"transform":l(y);break;case"component":f(y);break;case"locale":m(y);break;case"apiMethod":var E=y.name;U.apiMethodRegistry[E]=y.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},U.getModule=function(x){var A=U.modules[p(x)];return A?A._module:!1},U.traceIs=function(x,A){if(x=p(x),x==="various")return!1;var _=U.modules[x];return _||(x&&d.log("Unrecognized trace type "+x+"."),_=U.modules[g.type.dflt]),!!_.categories[A]},U.getTransformIndices=function(x,A){for(var _=[],y=x.transforms||[],E=0;E<y.length;E++)y[E].type===A&&_.push(E);return _},U.hasTransform=function(x,A){for(var _=x.transforms||[],y=0;y<_.length;y++)if(_[y].type===A)return!0;return!1},U.getComponentMethod=function(x,A){var _=U.componentsRegistry[x];return _&&_[A]||C},U.call=function(){var x=arguments[0],A=[].slice.call(arguments,1);return U.apiMethodRegistry[x].apply(null,A)};function a(x){var A=x.name,_=x.categories,y=x.meta;if(U.modules[A]){d.log("Type "+A+" already registered");return}U.subplotsRegistry[x.basePlotModule.name]||u(x.basePlotModule);for(var E={},M=0;M<_.length;M++)E[_[M]]=!0,U.allCategories[_[M]]=!0;U.modules[A]={_module:x,categories:E},y&&Object.keys(y).length&&(U.modules[A].meta=y),U.allTypes.push(A);for(var s in U.componentsRegistry)T(s,A);x.layoutAttributes&&t(U.traceLayoutAttributes,x.layoutAttributes);var S=x.basePlotModule,b=S.name;if(b==="mapbox"){var I=S.constants.styleRules;for(var D in I)w(".js-plotly-plot .plotly .mapboxgl-"+D,I[D])}(b==="geo"||b==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function u(x){var A=x.name;if(U.subplotsRegistry[A]){d.log("Plot type "+A+" already registered.");return}h(x),U.subplotsRegistry[A]=x;for(var _ in U.componentsRegistry)o(_,x.name)}function f(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var A=x.name;U.componentsRegistry[A]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&n(U.layoutArrayContainers,A),h(x));for(var _ in U.modules)T(A,_);for(var y in U.subplotsRegistry)o(A,y);for(var E in U.transformsRegistry)c(A,E);x.schema&&x.schema.layout&&i(r,x.schema.layout)}function l(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+x.name,_=typeof x.transform=="function",y=typeof x.calcTransform=="function";if(!_&&!y)throw new Error(A+" is missing a *transform* or *calcTransform* method.");_&&y&&d.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(x.attributes)||d.log(A+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&d.log(A+" registered without a *supplyDefaults* method."),U.transformsRegistry[x.name]=x;for(var E in U.componentsRegistry)c(E,x.name)}function m(x){var A=x.name,_=A.split("-")[0],y=x.dictionary,E=x.format,M=y&&Object.keys(y).length,s=E&&Object.keys(E).length,S=U.localeRegistry,b=S[A];if(b||(S[A]=b={}),_!==A){var I=S[_];I||(S[_]=I={}),M&&I.dictionary===b.dictionary&&(I.dictionary=y),s&&I.format===b.format&&(I.format=E)}M&&(b.dictionary=y),s&&(b.format=E)}function h(x){if(x.layoutAttributes){var A=x.layoutAttributes._arrayAttrRegexps;if(A)for(var _=0;_<A.length;_++)n(U.layoutArrayRegexes,A[_])}}function T(x,A){var _=U.componentsRegistry[x].schema;if(!(!_||!_.traces)){var y=_.traces[A];y&&i(U.modules[A]._module.attributes,y)}}function c(x,A){var _=U.componentsRegistry[x].schema;if(!(!_||!_.transforms)){var y=_.transforms[A];y&&i(U.transformsRegistry[A].attributes,y)}}function o(x,A){var _=U.componentsRegistry[x].schema;if(!(!_||!_.subplots)){var y=U.subplotsRegistry[A],E=y.layoutAttributes,M=y.attr==="subplot"?y.name:y.attr;Array.isArray(M)&&(M=M[0]);var s=_.subplots[M];E&&s&&i(E,s)}}function p(x){return typeof x=="object"&&(x=x.type),x}},91536:function(H,U,e){var d=e(24040),C=e(3400),n=C.extendFlat,L=C.extendDeep;function w(g){var r;switch(g){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(g){var r=["xaxis","yaxis","zaxis"];return r.indexOf(g.slice(0,5))>-1}H.exports=function(r,t){var i,a=r.data,u=r.layout,f=L([],a),l=L({},u,w(t.tileClass)),m=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(i=0;i<h.length;i++)v(h[i])&&(l[h[i]].title={text:""});for(i=0;i<f.length;i++){var T=f[i];T.showscale=!1,T.marker&&(T.marker.showscale=!1),d.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(t.annotations))for(i=0;i<t.annotations.length;i++)l.annotations.push(t.annotations[i]);var c=Object.keys(l).filter(function(_){return _.match(/^scene\d*$/)});if(c.length){var o={};for(t.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<c.length;i++){var p=l[c[i]];p.xaxis||(p.xaxis={}),p.yaxis||(p.yaxis={}),p.zaxis||(p.zaxis={}),n(p.xaxis,o),n(p.yaxis,o),n(p.zaxis,o),p._scene=null}}var x=document.createElement("div");t.tileClass&&(x.className=t.tileClass);var A={gd:x,td:x,layout:l,data:f,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return t.setBackground!=="transparent"&&(A.config.setBackground=t.setBackground||"opaque"),A.gd.defaultLayout=w(t.tileClass),A}},39792:function(H,U,e){var d=e(3400),C=e(67024),n=e(48616),L=e(81792);function w(v,g){var r;return d.isPlainObject(v)||(r=d.getGraphDiv(v)),g=g||{},g.format=g.format||"png",g.width=g.width||null,g.height=g.height||null,g.imageDataOnly=!0,new Promise(function(t,i){r&&r._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),d.isIE()&&g.format!=="svg"&&i(new Error(L.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var a=C(v,g),u=g.filename||v.fn||"newplot";u+="."+g.format.replace("-","."),a.then(function(f){return r&&(r._snapshotInProgress=!1),n(f,u,g.format)}).then(function(f){t(f)}).catch(function(f){r&&(r._snapshotInProgress=!1),i(f)})})}H.exports=w},48616:function(H,U,e){var d=e(3400),C=e(81792);function n(L,w,v){var g=document.createElement("a"),r="download"in g,t=new Promise(function(i,a){var u,f;if(d.isIE())return u=C.createBlob(L,"svg"),window.navigator.msSaveBlob(u,w),u=null,i(w);if(r)return u=C.createBlob(L,v),f=C.createObjectURL(u),g.href=f,g.download=w,document.body.appendChild(g),g.click(),document.body.removeChild(g),C.revokeObjectURL(f),u=null,i(w);if(d.isSafari()){var l=v==="svg"?",":";base64,";return C.octetStream(l+encodeURIComponent(L)),i(w)}a(new Error("download error"))});return t}H.exports=n},81792:function(H,U,e){var d=e(24040);U.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},U.getRedrawFunc=function(L){return function(){d.getComponentMethod("colorbar","draw")(L)}},U.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},U.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var C=window.URL||window.webkitURL;U.createObjectURL=function(L){return C.createObjectURL(L)},U.revokeObjectURL=function(L){return C.revokeObjectURL(L)},U.createBlob=function(L,w){if(w==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(w==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=n(window.atob(L));return new window.Blob([v],{type:"image/"+w})},U.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function n(L){for(var w=L.length,v=new ArrayBuffer(w),g=new Uint8Array(v),r=0;r<w;r++)g[r]=L.charCodeAt(r);return v}U.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,U.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(H,U,e){var d=e(81792),C={getDelay:d.getDelay,getRedrawFunc:d.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};H.exports=C},63268:function(H,U,e){var d=e(3400),C=e(61252).EventEmitter,n=e(81792);function L(w){var v=w.emitter||new C,g=new Promise(function(r,t){var i=window.Image,a=w.svg,u=w.format||"png";if(d.isIE()&&u!=="svg"){var f=new Error(n.MSG_IE_BAD_FORMAT);return t(f),w.promise?g:v.emit("error",f)}var l=w.canvas,m=w.scale||1,h=w.width||300,T=w.height||150,c=m*h,o=m*T,p=l.getContext("2d",{willReadFrequently:!0}),x=new i,A,_;u==="svg"||d.isSafari()?_=n.encodeSVG(a):(A=n.createBlob(a,"svg"),_=n.createObjectURL(A)),l.width=c,l.height=o,x.onload=function(){var y;switch(A=null,n.revokeObjectURL(_),u!=="svg"&&p.drawImage(x,0,0,c,o),u){case"jpeg":y=l.toDataURL("image/jpeg");break;case"png":y=l.toDataURL("image/png");break;case"webp":y=l.toDataURL("image/webp");break;case"svg":y=_;break;default:var E="Image format is not jpeg, png, svg or webp.";if(t(new Error(E)),!w.promise)return v.emit("error",E)}r(y),w.promise||v.emit("success",y)},x.onerror=function(y){if(A=null,n.revokeObjectURL(_),t(y),!w.promise)return v.emit("error",y)},x.src=_});return w.promise?g:v}H.exports=L},61808:function(H,U,e){var d=e(61252).EventEmitter,C=e(24040),n=e(3400),L=e(81792),w=e(91536),v=e(37164),g=e(63268);function r(t,i){var a=new d,u=w(t,{format:"png"}),f=u.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);function l(){var h=L.getDelay(f._fullLayout);setTimeout(function(){var T=v(f),c=document.createElement("canvas");c.id=n.randstr(),a=g({format:i.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:c,emitter:a,svg:T}),a.clean=function(){f&&document.body.removeChild(f)}},h)}var m=L.getRedrawFunc(f);return C.call("_doPlot",f,u.data,u.layout,u.config).then(m).then(l).catch(function(h){a.emit("error",h)}),a}H.exports=r},37164:function(H,U,e){var d=e(33428),C=e(3400),n=e(43616),L=e(76308),w=e(9616),v=/"/g,g="TOBESTRIPPED",r=new RegExp('("'+g+")|("+g+'")',"g");function t(a){var u=d.select("body").append("div").style({display:"none"}).html(""),f=a.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":u.html(l).text()});return u.remove(),f}function i(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}H.exports=function(u,f,l){var m=u._fullLayout,h=m._paper,T=m._toppaper,c=m.width,o=m.height,p;h.insert("rect",":first-child").call(n.setRect,0,0,c,o).call(L.fill,m.paper_bgcolor);var x=m._basePlotModules||[];for(p=0;p<x.length;p++){var A=x[p];A.toSVG&&A.toSVG(u)}if(T){var _=T.node().childNodes,y=Array.prototype.slice.call(_);for(p=0;p<y.length;p++){var E=y[p];E.childNodes.length&&h.node().appendChild(E)}}m._draggers&&m._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var s=d.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){s.remove();return}else s.style({visibility:null,display:null});var S=this.style.fontFamily;S&&S.indexOf('"')!==-1&&s.style("font-family",S.replace(v,g));var b=this.style.fontWeight;b&&b==="normal"&&s.style("font-weight",void 0);var I=this.style.fontStyle;I&&I==="normal"&&s.style("font-style",void 0);var D=this.style.fontVariant;D&&D==="normal"&&s.style("font-variant",void 0)}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var s=d.select(this),S=this.style.fill;S&&S.indexOf("url(")!==-1&&s.style("fill",S.replace(v,g));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&s.style("stroke",b.replace(v,g))}),(f==="pdf"||f==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(w.xmlns,"xmlns",w.svg),h.node().setAttributeNS(w.xmlns,"xmlns:xlink",w.xlink),f==="svg"&&l&&(h.attr("width",l*c),h.attr("height",l*o),h.attr("viewBox","0 0 "+c+" "+o));var M=new window.XMLSerializer().serializeToString(h.node());return M=t(M),M=i(M),M=M.replace(r,"'"),C.isIE()&&(M=M.replace(/"/gi,"'"),M=M.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),M=M.replace(/(\\')/gi,'"')),M}},84664:function(H,U,e){var d=e(3400);H.exports=function(n,L){for(var w=0;w<n.length;w++)n[w].i=w;d.mergeArray(L.text,n,"tx"),d.mergeArray(L.hovertext,n,"htx");var v=L.marker;if(v){d.mergeArray(v.opacity,n,"mo",!0),d.mergeArray(v.color,n,"mc");var g=v.line;g&&(d.mergeArray(g.color,n,"mlc"),d.mergeArrayCastPositive(g.width,n,"mlw"))}}},20832:function(H,U,e){var d=e(52904),C=e(29736).axisHoverFormat,n=e(21776).Ks,L=e(21776).Gw,w=e(49084),v=e(25376),g=e(78048),r=e(98192).c,t=e(92880).extendFlat,i=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),a=d.marker,u=a.line,f=t({},u.width,{dflt:0}),l=t({width:f,editType:"calc"},w("marker.line")),m=t({line:l,editType:"calc"},w("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});H.exports={x:d.x,x0:d.x0,dx:d.dx,y:d.y,y0:d.y0,dy:d.dy,xperiod:d.xperiod,yperiod:d.yperiod,xperiod0:d.xperiod0,yperiod0:d.yperiod0,xperiodalignment:d.xperiodalignment,yperiodalignment:d.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),text:d.text,texttemplate:L({editType:"plot"},{keys:g.eventDataKeys}),hovertext:d.hovertext,hovertemplate:n({},{keys:g.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},i,{}),insidetextfont:t({},i,{}),outsidetextfont:t({},i,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},d.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:d.offsetgroup,alignmentgroup:d.alignmentgroup,selected:{marker:{opacity:d.selected.marker.opacity,color:d.selected.marker.color,editType:"style"},textfont:d.selected.textfont,editType:"style"},unselected:{marker:{opacity:d.unselected.marker.opacity,color:d.unselected.marker.color,editType:"style"},textfont:d.unselected.textfont,editType:"style"},zorder:d.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(H,U,e){var d=e(54460),C=e(1220),n=e(94288).hasColorscale,L=e(47128),w=e(84664),v=e(4500);H.exports=function(r,t){var i=d.getFromId(r,t.xaxis||"x"),a=d.getFromId(r,t.yaxis||"y"),u,f,l,m,h,T,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(u=i.makeCalcdata(t,"x",c),l=a.makeCalcdata(t,"y"),m=C(t,a,"y",l),h=!!t.yperiodalignment,T="y"):(u=a.makeCalcdata(t,"y",c),l=i.makeCalcdata(t,"x"),m=C(t,i,"x",l),h=!!t.xperiodalignment,T="x"),f=m.vals;for(var o=Math.min(f.length,u.length),p=new Array(o),x=0;x<o;x++)p[x]={p:f[x],s:u[x]},h&&(p[x].orig_p=l[x],p[x][T+"End"]=m.ends[x],p[x][T+"Start"]=m.starts[x]),t.ids&&(p[x].id=String(t.ids[x]));return n(t,"marker")&&L(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),n(t,"marker.line")&&L(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),w(p,t),v(p,t),p}},78048:function(H){H.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(H,U,e){var d=e(38248),C=e(3400).isArrayOrTypedArray,n=e(39032).BADNUM,L=e(24040),w=e(54460),v=e(71888).getAxisGroup,g=e(72592);function r(b,I){for(var D=I.xaxis,B=I.yaxis,k=b._fullLayout,F=b._fullData,N=b.calcdata,O=[],V=[],X=0;X<F.length;X++){var ee=F[X];if(ee.visible===!0&&L.traceIs(ee,"bar")&&ee.xaxis===D._id&&ee.yaxis===B._id&&(ee.orientation==="h"?O.push(N[X]):V.push(N[X]),ee._computePh))for(var ne=b.calcdata[X],q=0;q<ne.length;q++)typeof ne[q].ph0=="function"&&(ne[q].ph0=ne[q].ph0()),typeof ne[q].ph1=="function"&&(ne[q].ph1=ne[q].ph1())}var se={xCat:D.type==="category"||D.type==="multicategory",yCat:B.type==="category"||B.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};t(b,D,B,V,se),t(b,B,D,O,se)}function t(b,I,D,B,k){if(B.length){var F,N,O,V,X;switch(u(D,B),k.mode){case"overlay":f(I,D,B,k);break;case"group":for(F=[],N=[],O=0;O<B.length;O++)V=B[O],X=V[0].trace,X.offset===void 0?N.push(V):F.push(V);N.length&&l(b,I,D,N,k),F.length&&f(I,D,F,k);break;case"stack":case"relative":for(F=[],N=[],O=0;O<B.length;O++)V=B[O],X=V[0].trace,X.base===void 0?N.push(V):F.push(V);a(N),N.length&&m(b,I,D,N,k),F.length&&f(I,D,F,k);break}i(B),s(B,I)}}function i(b){var I,D,B,k,F,N,O;for(I=0;I<b.length;I++)D=b[I],B=D[0].trace,k=D[0].t,k.cornerradiusvalue===void 0&&(F=B.marker?B.marker.cornerradius:void 0,F!==void 0&&(N=d(F)?+F:+F.slice(0,-1),O=d(F)?"px":"%",k.cornerradiusvalue=N,k.cornerradiusform=O))}function a(b){if(!(b.length<2)){var I,D,B,k,F,N,O;for(I=0;I<b.length&&(D=b[I],B=D[0].trace,F=B.marker?B.marker.cornerradius:void 0,F===void 0);I++);if(F!==void 0)for(N=d(F)?+F:+F.slice(0,-1),O=d(F)?"px":"%",I=0;I<b.length;I++)D=b[I],k=D[0].t,k.cornerradiusvalue=N,k.cornerradiusform=O}}function u(b,I){var D,B;for(D=0;D<I.length;D++){var k=I[D],F=k[0].trace,N=F.type==="funnel"?F._base:F.base,O,V=F.orientation==="h"?F.xcalendar:F.ycalendar,X=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(C(N)){for(B=0;B<Math.min(N.length,k.length);B++)O=X(N[B],0,V),d(O)?(k[B].b=+O,k[B].hasB=1):k[B].b=0;for(;B<k.length;B++)k[B].b=0}else{O=X(N,0,V);var ee=d(O);for(O=ee?O:0,B=0;B<k.length;B++)k[B].b=O,ee&&(k[B].hasB=1)}}}function f(b,I,D,B){for(var k=0;k<D.length;k++){var F=D[k],N=new g([F],{posAxis:b,sepNegVal:!1,overlapNoMerge:!B.norm});h(b,N,B),B.norm?(_(N),E(I,N,B)):x(I,N)}}function l(b,I,D,B,k){var F=new g(B,{posAxis:I,sepNegVal:!1,overlapNoMerge:!k.norm});T(b,I,F,k),y(F,I),k.norm?(_(F),E(D,F,k)):x(D,F)}function m(b,I,D,B,k){var F=new g(B,{posAxis:I,sepNegVal:k.mode==="relative",overlapNoMerge:!(k.norm||k.mode==="stack"||k.mode==="relative")});h(I,F,k),A(D,F,k);for(var N=0;N<B.length;N++)for(var O=B[N],V=0;V<O.length;V++){var X=O[V];if(X.s!==n){var ee=X.b+X.s===F.get(X.p,X.s);ee&&(X._outmost=!0)}}k.norm&&E(D,F,k)}function h(b,I,D){for(var B=I.minDiff,k=I.traces,F=B*(1-D.gap),N=F,O=N*(1-(D.groupgap||0)),V=-O/2,X=0;X<k.length;X++){var ee=k[X],ne=ee[0].t;ne.barwidth=O,ne.poffset=V,ne.bargroupwidth=F,ne.bardelta=B}I.binWidth=k[0][0].t.barwidth/100,c(I),o(b,I),p(b,I)}function T(b,I,D,B){for(var k=b._fullLayout,F=D.positions,N=D.distinctPositions,O=D.minDiff,V=D.traces,X=V.length,ee=F.length!==N.length,ne=O*(1-B.gap),q=v(k,I._id)+V[0][0].trace.orientation,se=k._alignmentOpts[q]||{},J=0;J<X;J++){var Z=V[J],te=Z[0].trace,Y=se[te.alignmentgroup]||{},ie=Object.keys(Y.offsetGroups||{}).length,le;ie?le=ne/ie:le=ee?ne/X:ne;var j=le*(1-(B.groupgap||0)),K;ie?K=((2*te._offsetIndex+1-ie)*le-j)/2:K=ee?((2*J+1-X)*le-j)/2:-j/2;var ue=Z[0].t;ue.barwidth=j,ue.poffset=K,ue.bargroupwidth=ne,ue.bardelta=O}D.binWidth=V[0][0].t.barwidth/100,c(D),o(I,D),p(I,D,ee)}function c(b){var I=b.traces,D,B;for(D=0;D<I.length;D++){var k=I[D],F=k[0],N=F.trace,O=F.t,V=N._offset||N.offset,X=O.poffset,ee;if(C(V)){for(ee=Array.prototype.slice.call(V,0,k.length),B=0;B<ee.length;B++)d(ee[B])||(ee[B]=X);for(B=ee.length;B<k.length;B++)ee.push(X);O.poffset=ee}else V!==void 0&&(O.poffset=V);var ne=N._width||N.width,q=O.barwidth;if(C(ne)){var se=Array.prototype.slice.call(ne,0,k.length);for(B=0;B<se.length;B++)d(se[B])||(se[B]=q);for(B=se.length;B<k.length;B++)se.push(q);if(O.barwidth=se,V===void 0){for(ee=[],B=0;B<k.length;B++)ee.push(X+(q-se[B])/2);O.poffset=ee}}else ne!==void 0&&(O.barwidth=ne,V===void 0&&(O.poffset=X+(q-ne)/2))}}function o(b,I){for(var D=I.traces,B=S(b),k=0;k<D.length;k++)for(var F=D[k],N=F[0].t,O=N.poffset,V=C(O),X=N.barwidth,ee=C(X),ne=0;ne<F.length;ne++){var q=F[ne],se=q.w=ee?X[ne]:X;q.p===void 0&&(q.p=q[B],q["orig_"+B]=q[B]);var J=(V?O[ne]:O)+se/2;q[B]=q.p+J}}function p(b,I,D){var B=I.traces,k=I.minDiff,F=k/2;w.minDtick(b,I.minDiff,I.distinctPositions[0],D);for(var N=0;N<B.length;N++){var O=B[N],V=O[0],X=V.trace,ee=[],ne,q,se,J;for(J=0;J<O.length;J++)ne=O[J],q=ne.p-F,se=ne.p+F,ee.push(q,se);if(X.width||X.offset){var Z=V.t,te=Z.poffset,Y=Z.barwidth,ie=C(te),le=C(Y);for(J=0;J<O.length;J++){ne=O[J];var j=ie?te[J]:te,K=le?Y[J]:Y;q=ne.p+j,se=q+K,ee.push(q,se)}}X._extremes[b._id]=w.findExtremes(b,ee,{padded:!1})}}function x(b,I){for(var D=I.traces,B=S(b),k=0;k<D.length;k++){for(var F=D[k],N=F[0].trace,O=N.type==="scatter",V=N.orientation==="v",X=[],ee=!1,ne=0;ne<F.length;ne++){var q=F[ne],se=O?0:q.b,J=O?V?q.y:q.x:se+q.s;q[B]=J,X.push(J),q.hasB&&X.push(se),(!q.hasB||!q.b)&&(ee=!0)}N._extremes[b._id]=w.findExtremes(b,X,{tozero:ee,padded:!0})}}function A(b,I,D){var B=S(b),k=I.traces,F,N,O,V,X,ee;for(V=0;V<k.length;V++)if(F=k[V],N=F[0].trace,N.type==="funnel")for(X=0;X<F.length;X++)ee=F[X],ee.s!==n&&I.put(ee.p,-.5*ee.s);for(V=0;V<k.length;V++){F=k[V],N=F[0].trace,O=N.type==="funnel";var ne=[];for(X=0;X<F.length;X++)if(ee=F[X],ee.s!==n){var q;O?q=ee.s:q=ee.s+ee.b;var se=I.put(ee.p,q),J=se+q;ee.b=se,ee[B]=J,D.norm||(ne.push(J),ee.hasB&&ne.push(se))}D.norm||(N._extremes[b._id]=w.findExtremes(b,ne,{tozero:!0,padded:!0}))}}function _(b){for(var I=b.traces,D=0;D<I.length;D++)for(var B=I[D],k=0;k<B.length;k++){var F=B[k];F.s!==n&&b.put(F.p,F.b+F.s)}}function y(b,I){for(var D=b.traces,B=0;B<D.length;B++){var k=D[B],F=k[0].trace;if(F.base===void 0)for(var N=new g([k],{posAxis:I,sepNegVal:!0,overlapNoMerge:!0}),O=0;O<k.length;O++){var V=k[O];if(V.p!==n){var X=N.put(V.p,V.b+V.s);X&&(V.b=X)}}}}function E(b,I,D){var B=I.traces,k=S(b),F=D.norm==="fraction"?1:100,N=F/1e9,O=b.l2c(b.c2l(0)),V=D.mode==="stack"?F:O;function X(K){return d(b.c2l(K))&&(K<O-N||K>V+N||!d(O))}for(var ee=0;ee<B.length;ee++){for(var ne=B[ee],q=ne[0].trace,se=[],J=!1,Z=!1,te=0;te<ne.length;te++){var Y=ne[te];if(Y.s!==n){var ie=Math.abs(F/I.get(Y.p,Y.s));Y.b*=ie,Y.s*=ie;var le=Y.b,j=le+Y.s;Y[k]=j,se.push(j),Z=Z||X(j),Y.hasB&&(se.push(le),Z=Z||X(le)),(!Y.hasB||!Y.b)&&(J=!0)}}q._extremes[b._id]=w.findExtremes(b,se,{tozero:J,padded:Z})}}function M(b,I,D,B){for(var k=S(B),F=0;F<b.length;F++)for(var N=b[F],O=0;O<N.length;O++){var V=N[O],X=V[k];V._sMin=I[X],V._sMax=D[X]}}function s(b,I){var D=S(I),B={},k,F,N,O=1/0,V=-1/0;for(k=0;k<b.length;k++)for(N=b[k],F=0;F<N.length;F++){var X=N[F].p;d(X)&&(O=Math.min(O,X),V=Math.max(V,X))}var ee=1e4/(V-O),ne=B.round=function(he){return String(Math.round(ee*(he-O)))},q={},se={},J=b.some(function(he){var xe=he[0].trace;return"marker"in xe&&xe.marker.cornerradius});for(k=0;k<b.length;k++){N=b[k],N[0].t.extents=B;var Z=N[0].t.poffset,te=C(Z);for(F=0;F<N.length;F++){var Y=N[F],ie=Y[D]-Y.w/2;if(d(ie)){var le=Y[D]+Y.w/2,j=ne(Y.p);B[j]?B[j]=[Math.min(ie,B[j][0]),Math.max(le,B[j][1])]:B[j]=[ie,le]}if(Y.p0=Y.p+(te?Z[F]:Z),Y.p1=Y.p0+Y.w,Y.s0=Y.b,Y.s1=Y.s0+Y.s,J){var K=Math.min(Y.s0,Y.s1)||0,ue=Math.max(Y.s0,Y.s1)||0,ae=Y[D];q[ae]=ae in q?Math.min(q[ae],K):K,se[ae]=ae in se?Math.max(se[ae],ue):ue}}}J&&M(b,q,se,I)}function S(b){return b._id.charAt(0)}H.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(H,U,e){var d=e(38248),C=e(3400),n=e(76308),L=e(24040),w=e(43980),v=e(31147),g=e(55592),r=e(20011),t=e(20832),i=C.coerceFont;function a(m,h,T,c){function o(y,E){return C.coerce(m,h,t,y,E)}var p=w(m,h,c,o);if(!p){h.visible=!1;return}v(m,h,c,o),o("xhoverformat"),o("yhoverformat"),o("zorder"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var x=o("textposition");l(m,h,c,o,x,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),g(m,h,o,T,c);var A=(h.marker.line||{}).color,_=L.getComponentMethod("errorbars","supplyDefaults");_(m,h,A||n.defaultLine,{axis:"y"}),_(m,h,A||n.defaultLine,{axis:"x",inherit:"y"}),C.coerceSelectionMarkerOpacity(h,o)}function u(m,h){var T,c;function o(A,_){return C.coerce(c._input,c,t,A,_)}for(var p=0;p<m.length;p++)if(c=m[p],c.type==="bar"){T=c._input;var x=o("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=f(x)),h.barmode==="group"&&r(T,c,h,o)}}function f(m){if(d(m)){if(m=+m,m>=0)return m}else if(typeof m=="string"&&(m=m.trim(),m.slice(-1)==="%"&&d(m.slice(0,-1))&&(m=+m.slice(0,-1),m>=0)))return m+"%"}function l(m,h,T,c,o,p){p=p||{};var x=p.moduleHasSelected!==!1,A=p.moduleHasUnselected!==!1,_=p.moduleHasConstrain!==!1,y=p.moduleHasCliponaxis!==!1,E=p.moduleHasTextangle!==!1,M=p.moduleHasInsideanchor!==!1,s=!!p.hasPathbar,S=Array.isArray(o)||o==="auto",b=S||o==="inside",I=S||o==="outside";if(b||I){var D=i(c,"textfont",T.font),B=C.extendFlat({},D),k=m.textfont&&m.textfont.color,F=!k;if(F&&delete B.color,i(c,"insidetextfont",B),s){var N=C.extendFlat({},D);F&&delete N.color,i(c,"pathbar.textfont",N)}I&&i(c,"outsidetextfont",D),x&&c("selected.textfont.color"),A&&c("unselected.textfont.color"),_&&c("constraintext"),y&&c("cliponaxis"),E&&c("textangle"),c("texttemplate")}b&&M&&c("insidetextanchor")}H.exports={supplyDefaults:a,crossTraceDefaults:u,handleText:l,validateCornerradius:f}},52160:function(H){H.exports=function(e,d,C){return e.x="xVal"in d?d.xVal:d.x,e.y="yVal"in d?d.yVal:d.y,d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),C.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(H,U,e){var d=e(38248),C=e(49760),n=e(3400).isArrayOrTypedArray;U.coerceString=function(L,w,v){if(typeof w=="string"){if(w||!L.noBlank)return w}else if((typeof w=="number"||w===!0)&&!L.strict)return String(w);return v!==void 0?v:L.dflt},U.coerceNumber=function(L,w,v){if(d(w)){w=+w;var g=L.min,r=L.max,t=g!==void 0&&w<g||r!==void 0&&w>r;if(!t)return w}return v!==void 0?v:L.dflt},U.coerceColor=function(L,w,v){return C(w).isValid()?w:v!==void 0?v:L.dflt},U.coerceEnumerated=function(L,w,v){return L.coerceNumber&&(w=+w),L.values.indexOf(w)!==-1?w:v!==void 0?v:L.dflt},U.getValue=function(L,w){var v;return n(L)?w<L.length&&(v=L[w]):v=L,v},U.getLineWidth=function(L,w){var v=0<w.mlw?w.mlw:n(L.marker.line.width)?0:L.marker.line.width;return v}},63400:function(H,U,e){var d=e(93024),C=e(24040),n=e(76308),L=e(3400).fillText,w=e(60444).getLineWidth,v=e(54460).hoverLabelText,g=e(39032).BADNUM;function r(a,u,f,l,m){var h=t(a,u,f,l,m);if(h){var T=h.cd,c=T[0].trace,o=T[h.index];return h.color=i(c,o),C.getComponentMethod("errorbars","hoverInfo")(o,c,h),[h]}}function t(a,u,f,l,m){var h=a.cd,T=h[0].trace,c=h[0].t,o=l==="closest",p=T.type==="waterfall",x=a.maxHoverDistance,A=a.maxSpikeDistance,_,y,E,M,s,S,b;T.orientation==="h"?(_=f,y=u,E="y",M="x",s=se,S=ee):(_=u,y=f,E="x",M="y",S=se,s=ee);var I=T[E+"period"],D=o||I;function B(he){return F(he,-1)}function k(he){return F(he,1)}function F(he,xe){var Se=he.w;return he[E]+xe*Se/2}function N(he){return he[E+"End"]-he[E+"Start"]}var O=o?B:I?function(he){return he.p-N(he)/2}:function(he){return Math.min(B(he),he.p-c.bardelta/2)},V=o?k:I?function(he){return he.p+N(he)/2}:function(he){return Math.max(k(he),he.p+c.bardelta/2)};function X(he,xe,Se){return m.finiteRange&&(Se=0),d.inbox(he-_,xe-_,Se+Math.min(1,Math.abs(xe-he)/b)-1)}function ee(he){return X(O(he),V(he),x)}function ne(he){return X(B(he),k(he),A)}function q(he){var xe=he[M];if(p){var Se=Math.abs(he.rawS)||0;y>0?xe+=Se:y<0&&(xe-=Se)}return xe}function se(he){var xe=y,Se=he.b,Ae=q(he);return d.inbox(Se-xe,Ae-xe,x+(Ae-xe)/(Ae-Se)-1)}function J(he){var xe=y,Se=he.b,Ae=q(he);return d.inbox(Se-xe,Ae-xe,A+(Ae-xe)/(Ae-Se)-1)}var Z=a[E+"a"],te=a[M+"a"];b=Math.abs(Z.r2c(Z.range[1])-Z.r2c(Z.range[0]));function Y(he){return(s(he)+S(he))/2}var ie=d.getDistanceFunction(l,s,S,Y);if(d.getClosest(h,ie,a),a.index!==!1&&h[a.index].p!==g){D||(O=function(he){return Math.min(B(he),he.p-c.bargroupwidth/2)},V=function(he){return Math.max(k(he),he.p+c.bargroupwidth/2)});var le=a.index,j=h[le],K=T.base?j.b+j.s:j.s;a[M+"0"]=a[M+"1"]=te.c2p(j[M],!0),a[M+"LabelVal"]=K;var ue=c.extents[c.extents.round(j.p)];a[E+"0"]=Z.c2p(o?O(j):ue[0],!0),a[E+"1"]=Z.c2p(o?V(j):ue[1],!0);var ae=j.orig_p!==void 0;return a[E+"LabelVal"]=ae?j.orig_p:j.p,a.labelLabel=v(Z,a[E+"LabelVal"],T[E+"hoverformat"]),a.valueLabel=v(te,a[M+"LabelVal"],T[M+"hoverformat"]),a.baseLabel=v(te,j.b,T[M+"hoverformat"]),a.spikeDistance=(J(j)+ne(j))/2,a[E+"Spike"]=Z.c2p(j.p,!0),L(j,T,a),a.hovertemplate=T.hovertemplate,a}}function i(a,u){var f=u.mcc||a.marker.color,l=u.mlcc||a.marker.line.color,m=w(a,u);if(n.opacity(f))return f;if(n.opacity(l)&&m)return l}H.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:i}},51132:function(H,U,e){H.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(H){H.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(H,U,e){var d=e(24040),C=e(54460),n=e(3400),L=e(39324),w=e(31508).validateCornerradius;H.exports=function(v,g,r){function t(p,x){return n.coerce(v,g,L,p,x)}for(var i=!1,a=!1,u=!1,f={},l=t("barmode"),m=0;m<r.length;m++){var h=r[m];if(d.traceIs(h,"bar")&&h.visible)i=!0;else continue;if(l==="group"){var T=h.xaxis+h.yaxis;f[T]&&(u=!0),f[T]=!0}if(h.visible&&h.type==="histogram"){var c=C.getFromId({_fullLayout:g},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(a=!0)}}if(!i){delete g.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",a&&!u?0:.2),t("bargroupgap");var o=t("barcornerradius");g.barcornerradius=w(o)}},98184:function(H,U,e){var d=e(33428),C=e(38248),n=e(3400),L=e(72736),w=e(76308),v=e(43616),g=e(24040),r=e(54460).tickText,t=e(82744),i=t.recordMinTextSize,a=t.clearMinTextSize,u=e(60100),f=e(60444),l=e(78048),m=e(20832),h=m.text,T=m.textposition,c=e(10624).appendArrayPointValue,o=l.TEXTPAD;function p(ee){return ee.id}function x(ee){if(ee.ids)return p}function A(ee){return(ee>0)-(ee<0)}function _(ee,ne){return ee<ne?1:-1}function y(ee,ne,q,se){var J=[],Z=[],te=se?ne:q,Y=se?q:ne;return J[0]=te.c2p(ee.s0,!0),Z[0]=Y.c2p(ee.p0,!0),J[1]=te.c2p(ee.s1,!0),Z[1]=Y.c2p(ee.p1,!0),se?[J,Z]:[Z,J]}function E(ee,ne,q,se){if(!ne.uniformtext.mode&&M(q)){var J;return se&&(J=se()),ee.transition().duration(q.duration).ease(q.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()})}else return ee}function M(ee){return ee&&ee.duration>0}function s(ee,ne,q,se,J,Z){var te=ne.xaxis,Y=ne.yaxis,ie=ee._fullLayout,le=ee._context.staticPlot;J||(J={mode:ie.barmode,norm:ie.barmode,gap:ie.bargap,groupgap:ie.bargroupgap},a("bar",ie));var j=n.makeTraceGroups(se,q,"trace bars").each(function(K){var ue=d.select(this),ae=K[0].trace,he=K[0].t,xe=ae.type==="waterfall",Se=ae.type==="funnel",Ae=ae.type==="histogram",De=ae.type==="bar",we=De||Se,Ce=0;xe&&ae.connector.visible&&ae.connector.mode==="between"&&(Ce=ae.connector.line.width/2);var be=ae.orientation==="h",Pe=M(J),Ve=n.ensureSingle(ue,"g","points"),Ge=x(ae),Fe=Ve.selectAll("g.point").data(n.identity,Ge);Fe.enter().append("g").classed("point",!0),Fe.exit().remove(),Fe.each(function(ft,gt){var ct=d.select(this),nt=y(ft,te,Y,be),dt=nt[0][0],pt=nt[0][1],wt=nt[1][0],Tt=nt[1][1],Ct=(be?pt-dt:Tt-wt)===0;Ct&&we&&f.getLineWidth(ae,ft)&&(Ct=!1),Ct||(Ct=!C(dt)||!C(pt)||!C(wt)||!C(Tt)),ft.isBlank=Ct,Ct&&(be?pt=dt:Tt=wt),Ce&&!Ct&&(be?(dt-=_(dt,pt)*Ce,pt+=_(dt,pt)*Ce):(wt-=_(wt,Tt)*Ce,Tt+=_(wt,Tt)*Ce));var at,ze;if(ae.type==="waterfall"){if(!Ct){var je=ae[ft.dir].marker;at=je.line.width,ze=je.color}}else at=f.getLineWidth(ae,ft),ze=ft.mc||ae.marker.color;function Je(ut){var Mt=d.round(at/2%1,2);return J.gap===0&&J.groupgap===0?d.round(Math.round(ut)-Mt,2):ut}function Xe(ut,Mt,_t){return _t&&ut===Mt?ut:Math.abs(ut-Mt)>=2?Je(ut):ut>Mt?Math.ceil(ut):Math.floor(ut)}var Oe=w.opacity(ze),ke=Oe<1||at>.01?Je:Xe;ee._context.staticPlot||(dt=ke(dt,pt,be),pt=ke(pt,dt,be),wt=ke(wt,Tt,!be),Tt=ke(Tt,wt,!be));var Ke=be?te.c2p:Y.c2p,Ie;ft.s0>0?Ie=ft._sMax:ft.s0<0?Ie=ft._sMin:Ie=ft.s1>0?ft._sMax:ft._sMin;function pe(ut,Mt){if(!ut)return 0;var _t=Math.abs(be?Tt-wt:pt-dt),kt=Math.abs(be?pt-dt:Tt-wt),Xt=ke(Math.abs(Ke(Ie,!0)-Ke(0,!0))),Wt=ft.hasB?Math.min(_t/2,kt/2):Math.min(_t/2,Xt),Ht;if(Mt==="%"){var tr=Math.min(50,ut);Ht=_t*(tr/100)}else Ht=ut;return ke(Math.max(Math.min(Ht,Wt),0))}var Te=De||Ae?pe(he.cornerradiusvalue,he.cornerradiusform):0,Ue,et,st="M"+dt+","+wt+"V"+Tt+"H"+pt+"V"+wt+"Z",lt=0;if(Te&&ft.s){var jt=A(ft.s0)===0||A(ft.s)===A(ft.s0)?ft.s1:ft.s0;if(lt=ke(ft.hasB?0:Math.abs(Ke(Ie,!0)-Ke(jt,!0))),lt<Te){var Jt=_(dt,pt),St=_(wt,Tt),Rt=Jt===-St?1:0;if(be)if(ft.hasB)Ue="M"+(dt+Te*Jt)+","+wt+"A "+Te+","+Te+" 0 0 "+Rt+" "+dt+","+(wt+Te*St)+"V"+(Tt-Te*St)+"A "+Te+","+Te+" 0 0 "+Rt+" "+(dt+Te*Jt)+","+Tt+"H"+(pt-Te*Jt)+"A "+Te+","+Te+" 0 0 "+Rt+" "+pt+","+(Tt-Te*St)+"V"+(wt+Te*St)+"A "+Te+","+Te+" 0 0 "+Rt+" "+(pt-Te*Jt)+","+wt+"Z";else{et=Math.abs(pt-dt)+lt;var $t=et<Te?Te-Math.sqrt(et*(2*Te-et)):0,Pr=lt>0?Math.sqrt(lt*(2*Te-lt)):0,xt=Jt>0?Math.max:Math.min;Ue="M"+dt+","+wt+"V"+(Tt-$t*St)+"H"+xt(pt-(Te-lt)*Jt,dt)+"A "+Te+","+Te+" 0 0 "+Rt+" "+pt+","+(Tt-Te*St-Pr)+"V"+(wt+Te*St+Pr)+"A "+Te+","+Te+" 0 0 "+Rt+" "+xt(pt-(Te-lt)*Jt,dt)+","+(wt+$t*St)+"Z"}else if(ft.hasB)Ue="M"+(dt+Te*Jt)+","+wt+"A "+Te+","+Te+" 0 0 "+Rt+" "+dt+","+(wt+Te*St)+"V"+(Tt-Te*St)+"A "+Te+","+Te+" 0 0 "+Rt+" "+(dt+Te*Jt)+","+Tt+"H"+(pt-Te*Jt)+"A "+Te+","+Te+" 0 0 "+Rt+" "+pt+","+(Tt-Te*St)+"V"+(wt+Te*St)+"A "+Te+","+Te+" 0 0 "+Rt+" "+(pt-Te*Jt)+","+wt+"Z";else{et=Math.abs(Tt-wt)+lt;var qt=et<Te?Te-Math.sqrt(et*(2*Te-et)):0,nr=lt>0?Math.sqrt(lt*(2*Te-lt)):0,wr=St>0?Math.max:Math.min;Ue="M"+(dt+qt*Jt)+","+wt+"V"+wr(Tt-(Te-lt)*St,wt)+"A "+Te+","+Te+" 0 0 "+Rt+" "+(dt+Te*Jt-nr)+","+Tt+"H"+(pt-Te*Jt+nr)+"A "+Te+","+Te+" 0 0 "+Rt+" "+(pt-qt*Jt)+","+wr(Tt-(Te-lt)*St,wt)+"V"+wt+"Z"}}else Ue=st}else Ue=st;var dr=E(n.ensureSingle(ct,"path"),ie,J,Z);if(dr.style("vector-effect",le?"none":"non-scaling-stroke").attr("d",isNaN((pt-dt)*(Tt-wt))||Ct&&ee._context.staticPlot?"M0,0Z":Ue).call(v.setClipUrl,ne.layerClipId,ee),!ie.uniformtext.mode&&Pe){var bt=v.makePointStyleFns(ae);v.singlePointStyle(ft,dr,ae,bt,ee)}S(ee,ne,ct,K,gt,dt,pt,wt,Tt,Te,lt,J,Z),ne.layerClipId&&v.hideOutsideRangePoint(ft,ct.select("text"),te,Y,ae.xcalendar,ae.ycalendar)});var He=ae.cliponaxis===!1;v.setClipUrl(ue,He?null:ne.layerClipId,ee)});g.getComponentMethod("errorbars","plot")(ee,j,ne,J)}function S(ee,ne,q,se,J,Z,te,Y,ie,le,j,K,ue){var ae=ne.xaxis,he=ne.yaxis,xe=ee._fullLayout,Se;function Ae(et,st,lt){var jt=n.ensureSingle(et,"text").text(st).attr({class:"bartext bartext-"+Se,"text-anchor":"middle","data-notex":1}).call(v.font,lt).call(L.convertToTspans,ee);return jt}var De=se[0].trace,we=De.orientation==="h",Ce=N(xe,se,J,ae,he);Se=O(De,J);var be=K.mode==="stack"||K.mode==="relative",Pe=se[J],Ve=!be||Pe._outmost,Ge=Pe.hasB,Fe=le&&le-j>o;if(!Ce||Se==="none"||(Pe.isBlank||Z===te||Y===ie)&&(Se==="auto"||Se==="inside")){q.select("text").remove();return}var He=xe.font,ft=u.getBarColor(se[J],De),gt=u.getInsideTextFont(De,J,He,ft),ct=u.getOutsideTextFont(De,J,He),nt=De.insidetextanchor||"end",dt=q.datum();we?ae.type==="log"&&dt.s0<=0&&(ae.range[0]<ae.range[1]?Z=0:Z=ae._length):he.type==="log"&&dt.s0<=0&&(he.range[0]<he.range[1]?Y=he._length:Y=0);var pt=Math.abs(te-Z),wt=Math.abs(ie-Y),Tt=pt-2*o,Ct=wt-2*o,at,ze,je,Je,Xe;if(Se==="outside"&&!Ve&&!Pe.hasB&&(Se="inside"),Se==="auto")if(Ve){Se="inside",Xe=n.ensureUniformFontSize(ee,gt),at=Ae(q,Ce,Xe),ze=v.bBox(at.node()),je=ze.width,Je=ze.height;var Oe=je>0&&Je>0,ke;Fe?Ge?ke=b(Tt-2*le,Ct,je,Je,we)||b(Tt,Ct-2*le,je,Je,we):we?ke=b(Tt-(le-j),Ct,je,Je,we)||b(Tt,Ct-2*(le-j),je,Je,we):ke=b(Tt,Ct-(le-j),je,Je,we)||b(Tt-2*(le-j),Ct,je,Je,we):ke=b(Tt,Ct,je,Je,we),Oe&&ke?Se="inside":(Se="outside",at.remove(),at=null)}else Se="inside";if(!at){Xe=n.ensureUniformFontSize(ee,Se==="outside"?ct:gt),at=Ae(q,Ce,Xe);var Ke=at.attr("transform");if(at.attr("transform",""),ze=v.bBox(at.node()),je=ze.width,Je=ze.height,at.attr("transform",Ke),je<=0||Je<=0){at.remove();return}}var Ie=De.textangle,pe,Te;Se==="outside"?(Te=De.constraintext==="both"||De.constraintext==="outside",pe=F(Z,te,Y,ie,ze,{isHorizontal:we,constrained:Te,angle:Ie})):(Te=De.constraintext==="both"||De.constraintext==="inside",pe=B(Z,te,Y,ie,ze,{isHorizontal:we,constrained:Te,angle:Ie,anchor:nt,hasB:Ge,r:le,overhead:j})),pe.fontSize=Xe.size,i(De.type==="histogram"?"bar":De.type,pe,xe),Pe.transform=pe;var Ue=E(at,xe,K,ue);n.setTransormAndDisplay(Ue,pe)}function b(ee,ne,q,se,J){if(ee<0||ne<0)return!1;var Z=q<=ee&&se<=ne,te=q<=ne&&se<=ee,Y=J?ee>=q*(ne/se):ne>=se*(ee/q);return Z||te||Y}function I(ee){return ee==="auto"?0:ee}function D(ee,ne){var q=Math.PI/180*ne,se=Math.abs(Math.sin(q)),J=Math.abs(Math.cos(q));return{x:ee.width*J+ee.height*se,y:ee.width*se+ee.height*J}}function B(ee,ne,q,se,J,Z){var te=!!Z.isHorizontal,Y=!!Z.constrained,ie=Z.angle||0,le=Z.anchor,j=le==="end",K=le==="start",ue=Z.leftToRight||0,ae=(ue+1)/2,he=1-ae,xe=Z.hasB,Se=Z.r,Ae=Z.overhead,De=J.width,we=J.height,Ce=Math.abs(ne-ee),be=Math.abs(se-q),Pe=Ce>2*o&&be>2*o?o:0;Ce-=2*Pe,be-=2*Pe;var Ve=I(ie);ie==="auto"&&!(De<=Ce&&we<=be)&&(De>Ce||we>be)&&(!(De>be||we>Ce)||De<we!=Ce<be)&&(Ve+=90);var Ge=D(J,Ve),Fe,He;if(Se&&Se-Ae>o){var ft=k(ee,ne,q,se,Ge,Se,Ae,te,xe);Fe=ft.scale,He=ft.pad}else Fe=1,Y&&(Fe=Math.min(1,Ce/Ge.x,be/Ge.y)),He=0;var gt=J.left*he+J.right*ae,ct=(J.top+J.bottom)/2,nt=(ee+o)*he+(ne-o)*ae,dt=(q+se)/2,pt=0,wt=0;if(K||j){var Tt=(te?Ge.x:Ge.y)/2;Se&&(j||xe)&&(Pe+=He);var Ct=te?_(ee,ne):_(q,se);te?K?(nt=ee+Ct*Pe,pt=-Ct*Tt):(nt=ne-Ct*Pe,pt=Ct*Tt):K?(dt=q+Ct*Pe,wt=-Ct*Tt):(dt=se-Ct*Pe,wt=Ct*Tt)}return{textX:gt,textY:ct,targetX:nt,targetY:dt,anchorX:pt,anchorY:wt,scale:Fe,rotate:Ve}}function k(ee,ne,q,se,J,Z,te,Y,ie){var le=Math.max(0,Math.abs(ne-ee)-2*o),j=Math.max(0,Math.abs(se-q)-2*o),K=Z-o,ue=te?K-Math.sqrt(K*K-(K-te)*(K-te)):K,ae=ie?K*2:Y?K-te:2*ue,he=ie?K*2:Y?2*ue:K-te,xe,Se,Ae,De,we;return J.y/J.x>=j/(le-ae)?De=j/J.y:J.y/J.x<=(j-he)/le?De=le/J.x:!ie&&Y?(xe=J.x*J.x+J.y*J.y/4,Se=-2*J.x*(le-K)-J.y*(j/2-K),Ae=(le-K)*(le-K)+(j/2-K)*(j/2-K)-K*K,De=(-Se+Math.sqrt(Se*Se-4*xe*Ae))/(2*xe)):ie?(xe=(J.x*J.x+J.y*J.y)/4,Se=-J.x*(le/2-K)-J.y*(j/2-K),Ae=(le/2-K)*(le/2-K)+(j/2-K)*(j/2-K)-K*K,De=(-Se+Math.sqrt(Se*Se-4*xe*Ae))/(2*xe)):(xe=J.x*J.x/4+J.y*J.y,Se=-J.x*(le/2-K)-2*J.y*(j-K),Ae=(le/2-K)*(le/2-K)+(j-K)*(j-K)-K*K,De=(-Se+Math.sqrt(Se*Se-4*xe*Ae))/(2*xe)),De=Math.min(1,De),Y?we=Math.max(0,K-Math.sqrt(Math.max(0,K*K-(K-(j-J.y*De)/2)*(K-(j-J.y*De)/2)))-te):we=Math.max(0,K-Math.sqrt(Math.max(0,K*K-(K-(le-J.x*De)/2)*(K-(le-J.x*De)/2)))-te),{scale:De,pad:we}}function F(ee,ne,q,se,J,Z){var te=!!Z.isHorizontal,Y=!!Z.constrained,ie=Z.angle||0,le=J.width,j=J.height,K=Math.abs(ne-ee),ue=Math.abs(se-q),ae;te?ae=ue>2*o?o:0:ae=K>2*o?o:0;var he=1;Y&&(he=te?Math.min(1,ue/j):Math.min(1,K/le));var xe=I(ie),Se=D(J,xe),Ae=(te?Se.x:Se.y)/2,De=(J.left+J.right)/2,we=(J.top+J.bottom)/2,Ce=(ee+ne)/2,be=(q+se)/2,Pe=0,Ve=0,Ge=te?_(ne,ee):_(q,se);return te?(Ce=ne-Ge*ae,Pe=Ge*Ae):(be=se+Ge*ae,Ve=-Ge*Ae),{textX:De,textY:we,targetX:Ce,targetY:be,anchorX:Pe,anchorY:Ve,scale:he,rotate:xe}}function N(ee,ne,q,se,J){var Z=ne[0].trace,te=Z.texttemplate,Y;return te?Y=V(ee,ne,q,se,J):Z.textinfo?Y=X(ne,q,se,J):Y=f.getValue(Z.text,q),f.coerceString(h,Y)}function O(ee,ne){var q=f.getValue(ee.textposition,ne);return f.coerceEnumerated(T,q)}function V(ee,ne,q,se,J){var Z=ne[0].trace,te=n.castOption(Z,q,"texttemplate");if(!te)return"";var Y=Z.type==="histogram",ie=Z.type==="waterfall",le=Z.type==="funnel",j=Z.orientation==="h",K,ue,ae,he;j?(K="y",ue=J,ae="x",he=se):(K="x",ue=se,ae="y",he=J);function xe(Pe){return r(ue,ue.c2l(Pe),!0).text}function Se(Pe){return r(he,he.c2l(Pe),!0).text}var Ae=ne[q],De={};De.label=Ae.p,De.labelLabel=De[K+"Label"]=xe(Ae.p);var we=n.castOption(Z,Ae.i,"text");(we===0||we)&&(De.text=we),De.value=Ae.s,De.valueLabel=De[ae+"Label"]=Se(Ae.s);var Ce={};c(Ce,Z,Ae.i),(Y||Ce.x===void 0)&&(Ce.x=j?De.value:De.label),(Y||Ce.y===void 0)&&(Ce.y=j?De.label:De.value),(Y||Ce.xLabel===void 0)&&(Ce.xLabel=j?De.valueLabel:De.labelLabel),(Y||Ce.yLabel===void 0)&&(Ce.yLabel=j?De.labelLabel:De.valueLabel),ie&&(De.delta=+Ae.rawS||Ae.s,De.deltaLabel=Se(De.delta),De.final=Ae.v,De.finalLabel=Se(De.final),De.initial=De.final-De.delta,De.initialLabel=Se(De.initial)),le&&(De.value=Ae.s,De.valueLabel=Se(De.value),De.percentInitial=Ae.begR,De.percentInitialLabel=n.formatPercent(Ae.begR),De.percentPrevious=Ae.difR,De.percentPreviousLabel=n.formatPercent(Ae.difR),De.percentTotal=Ae.sumR,De.percenTotalLabel=n.formatPercent(Ae.sumR));var be=n.castOption(Z,Ae.i,"customdata");return be&&(De.customdata=be),n.texttemplateString(te,De,ee._d3locale,Ce,De,Z._meta||{})}function X(ee,ne,q,se){var J=ee[0].trace,Z=J.orientation==="h",te=J.type==="waterfall",Y=J.type==="funnel";function ie(be){var Pe=Z?se:q;return r(Pe,be,!0).text}function le(be){var Pe=Z?q:se;return r(Pe,+be,!0).text}var j=J.textinfo,K=ee[ne],ue=j.split("+"),ae=[],he,xe=function(be){return ue.indexOf(be)!==-1};if(xe("label")&&ae.push(ie(ee[ne].p)),xe("text")&&(he=n.castOption(J,K.i,"text"),(he===0||he)&&ae.push(he)),te){var Se=+K.rawS||K.s,Ae=K.v,De=Ae-Se;xe("initial")&&ae.push(le(De)),xe("delta")&&ae.push(le(Se)),xe("final")&&ae.push(le(Ae))}if(Y){xe("value")&&ae.push(le(K.s));var we=0;xe("percent initial")&&we++,xe("percent previous")&&we++,xe("percent total")&&we++;var Ce=we>1;xe("percent initial")&&(he=n.formatPercent(K.begR),Ce&&(he+=" of initial"),ae.push(he)),xe("percent previous")&&(he=n.formatPercent(K.difR),Ce&&(he+=" of previous"),ae.push(he)),xe("percent total")&&(he=n.formatPercent(K.sumR),Ce&&(he+=" of total"),ae.push(he))}return ae.join("<br>")}H.exports={plot:s,toMoveInsideBar:B}},45784:function(H){H.exports=function(d,C){var n=d.cd,L=d.xaxis,w=d.yaxis,v=n[0].trace,g=v.type==="funnel",r=v.orientation==="h",t=[],i;if(C===!1)for(i=0;i<n.length;i++)n[i].selected=0;else for(i=0;i<n.length;i++){var a=n[i],u="ct"in a?a.ct:U(a,L,w,r,g);C.contains(u,!1,i,d)?(t.push({pointNumber:i,x:L.c2d(a.x),y:w.c2d(a.y)}),a.selected=1):a.selected=0}return t};function U(e,d,C,n,L){var w=d.c2p(n?e.s0:e.p0,!0),v=d.c2p(n?e.s1:e.p1,!0),g=C.c2p(n?e.p0:e.s0,!0),r=C.c2p(n?e.p1:e.s1,!0);return L?[(w+v)/2,(g+r)/2]:n?[v,(g+r)/2]:[(w+v)/2,r]}},72592:function(H,U,e){H.exports=C;var d=e(3400).distinctVals;function C(n,L){this.traces=n,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var w=1/0,v=L.posAxis._id.charAt(0),g=[],r=0;r<n.length;r++){for(var t=n[r],i=0;i<t.length;i++){var a=t[i],u=a.p;u===void 0&&(u=a[v]),u!==void 0&&g.push(u)}t[0]&&t[0].width1&&(w=Math.min(t[0].width1,w))}this.positions=g;var f=d(g);this.distinctPositions=f.vals,f.vals.length===1&&w!==1/0?this.minDiff=w:this.minDiff=Math.min(f.minDiff,w);var l=(L.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}C.prototype.put=function(L,w){var v=this.getLabel(L,w),g=this.bins[v]||0;return this.bins[v]=g+w,g},C.prototype.get=function(L,w){var v=this.getLabel(L,w);return this.bins[v]||0},C.prototype.getLabel=function(L,w){var v=w<0&&this.sepNegVal?"v":"^",g=this.overlapNoMerge?L:Math.round(L/this.binWidth);return v+g}},60100:function(H,U,e){var d=e(33428),C=e(76308),n=e(43616),L=e(3400),w=e(24040),v=e(82744).resizeText,g=e(20832),r=g.textfont,t=g.insidetextfont,i=g.outsidetextfont,a=e(60444);function u(y){var E=d.select(y).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(y,E,"bar");var M=E.size(),s=y._fullLayout;E.style("opacity",function(S){return S[0].trace.opacity}).each(function(S){(s.barmode==="stack"&&M>1||s.bargap===0&&s.bargroupgap===0&&!S[0].trace.marker.line.width)&&d.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(S){var b=d.select(this),I=S[0].trace;f(b,I,y)}),w.getComponentMethod("errorbars","style")(E)}function f(y,E,M){n.pointStyle(y.selectAll("path"),E,M),l(y,E,M)}function l(y,E,M){y.selectAll("text").each(function(s){var S=d.select(this),b=L.ensureUniformFontSize(M,c(S,s,E,M));n.font(S,b)})}function m(y,E,M){var s=E[0].trace;s.selectedpoints?h(M,s,y):(f(M,s,y),w.getComponentMethod("errorbars","style")(M))}function h(y,E,M){n.selectedPointStyle(y.selectAll("path"),E),T(y.selectAll("text"),E,M)}function T(y,E,M){y.each(function(s){var S=d.select(this),b;if(s.selected){b=L.ensureUniformFontSize(M,c(S,s,E,M));var I=E.selected.textfont&&E.selected.textfont.color;I&&(b.color=I),n.font(S,b)}else n.selectedTextStyle(S,E)})}function c(y,E,M,s){var S=s._fullLayout.font,b=M.textfont;if(y.classed("bartext-inside")){var I=_(E,M);b=p(M,E.i,S,I)}else y.classed("bartext-outside")&&(b=x(M,E.i,S));return b}function o(y,E,M){return A(r,y.textfont,E,M)}function p(y,E,M,s){var S=o(y,E,M),b=y._input.textfont===void 0||y._input.textfont.color===void 0||Array.isArray(y.textfont.color)&&y.textfont.color[E]===void 0;return b&&(S={color:C.contrast(s),family:S.family,size:S.size,weight:S.weight,style:S.style,variant:S.variant}),A(t,y.insidetextfont,E,S)}function x(y,E,M){var s=o(y,E,M);return A(i,y.outsidetextfont,E,s)}function A(y,E,M,s){E=E||{};var S=a.getValue(E.family,M),b=a.getValue(E.size,M),I=a.getValue(E.color,M),D=a.getValue(E.weight,M),B=a.getValue(E.style,M),k=a.getValue(E.variant,M);return{family:a.coerceString(y.family,S,s.family),size:a.coerceNumber(y.size,b,s.size),color:a.coerceColor(y.color,I,s.color),weight:a.coerceString(y.weight,D,s.weight),style:a.coerceString(y.style,B,s.style),variant:a.coerceString(y.variant,k,s.variant)}}function _(y,E){return E.type==="waterfall"?E[y.dir].marker.color:y.mcc||y.mc||E.marker.color}H.exports={style:u,styleTextPoints:l,styleOnSelect:m,getInsideTextFont:p,getOutsideTextFont:x,getBarColor:_,resizeText:v}},55592:function(H,U,e){var d=e(76308),C=e(94288).hasColorscale,n=e(27260),L=e(3400).coercePattern;H.exports=function(v,g,r,t,i){var a=r("marker.color",t),u=C(v,"marker");u&&n(v,g,i,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",d.defaultLine),C(v,"marker.line")&&n(v,g,i,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),L(r,"marker.pattern",a,u),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(H,U,e){var d=e(33428),C=e(3400);function n(g,r,t){var i=g._fullLayout,a=i["_"+t+"Text_minsize"];if(a){var u=i.uniformtext.mode==="hide",f;switch(t){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}r.selectAll(f).each(function(l){var m=l.transform;if(m){m.scale=u&&m.hide?0:a/m.fontSize;var h=d.select(this).select("text");C.setTransormAndDisplay(h,m)}})}}function L(g,r,t){if(t.uniformtext.mode){var i=v(g),a=t.uniformtext.minsize,u=r.scale*r.fontSize;r.hide=u<a,t[i]=t[i]||1/0,r.hide||(t[i]=Math.min(t[i],Math.max(u,a)))}}function w(g,r){var t=v(g);r[t]=void 0}function v(g){return"_"+g+"Text_minsize"}H.exports={recordMinTextSize:L,clearMinTextSize:w,resizeText:n}},78100:function(H,U,e){var d=e(21776).Ks,C=e(92880).extendFlat,n=e(8319),L=e(20832);H.exports={r:n.r,theta:n.theta,r0:n.r0,dr:n.dr,theta0:n.theta0,dtheta:n.dtheta,thetaunit:n.thetaunit,base:C({},L.base,{}),offset:C({},L.offset,{}),width:C({},L.width,{}),text:C({},L.text,{}),hovertext:C({},L.hovertext,{}),marker:w(),hoverinfo:n.hoverinfo,hovertemplate:d(),selected:L.selected,unselected:L.unselected};function w(){var v=C({},L.marker);return delete v.cornerradius,v}},47056:function(H,U,e){var d=e(94288).hasColorscale,C=e(47128),n=e(3400).isArrayOrTypedArray,L=e(84664),w=e(96376).setGroupPositions,v=e(4500),g=e(24040).traceIs,r=e(3400).extendFlat;function t(a,u){for(var f=a._fullLayout,l=u.subplot,m=f[l].radialaxis,h=f[l].angularaxis,T=m.makeCalcdata(u,"r"),c=h.makeCalcdata(u,"theta"),o=u._length,p=new Array(o),x=T,A=c,_=0;_<o;_++)p[_]={p:A[_],s:x[_]};function y(E){var M=u[E];M!==void 0&&(u["_"+E]=n(M)?h.makeCalcdata(u,E):h.d2c(M,u.thetaunit))}return h.type==="linear"&&(y("width"),y("offset")),d(u,"marker")&&C(a,u,{vals:u.marker.color,containerStr:"marker",cLetter:"c"}),d(u,"marker.line")&&C(a,u,{vals:u.marker.line.color,containerStr:"marker.line",cLetter:"c"}),L(p,u),v(p,u),p}function i(a,u,f){for(var l=a.calcdata,m=[],h=0;h<l.length;h++){var T=l[h],c=T[0].trace;c.visible===!0&&g(c,"bar")&&c.subplot===f&&m.push(T)}var o=r({},u.radialaxis,{_id:"x"}),p=u.angularaxis;w(a,p,o,m,{mode:u.barmode,norm:u.barnorm,gap:u.bargap,groupgap:u.bargroupgap})}H.exports={calc:t,crossTraceCalc:i}},70384:function(H,U,e){var d=e(3400),C=e(85968).handleRThetaDefaults,n=e(55592),L=e(78100);H.exports=function(v,g,r,t){function i(u,f){return d.coerce(v,g,L,u,f)}var a=C(v,g,t,i);if(!a){g.visible=!1;return}i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),n(v,g,i,r,t),d.coerceSelectionMarkerOpacity(g,i)}},68896:function(H,U,e){var d=e(93024),C=e(3400),n=e(63400).getTraceColor,L=C.fillText,w=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;H.exports=function(r,t,i){var a=r.cd,u=a[0].trace,f=r.subplot,l=f.radialAxis,m=f.angularAxis,h=f.vangles,T=h?v:C.isPtInsideSector,c=r.maxHoverDistance,o=m._period||2*Math.PI,p=Math.abs(l.g2p(Math.sqrt(t*t+i*i))),x=Math.atan2(i,t);l.range[0]>l.range[1]&&(x+=Math.PI);var A=function(M){return T(p,x,[M.rp0,M.rp1],[M.thetag0,M.thetag1],h)?c+Math.min(1,Math.abs(M.thetag1-M.thetag0)/o)-1+(M.rp1-p)/(M.rp1-M.rp0)-1:1/0};if(d.getClosest(a,A,r),r.index!==!1){var _=r.index,y=a[_];r.x0=r.x1=y.ct[0],r.y0=r.y1=y.ct[1];var E=C.extendFlat({},y,{r:y.s,theta:y.p});return L(y,u,r),w(E,u,f,r),r.hovertemplate=u.hovertemplate,r.color=n(u,y),r.xLabelVal=r.yLabelVal=void 0,y.s<0&&(r.idealAlign="left"),[r]}}},94456:function(H,U,e){H.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(H){H.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(H,U,e){var d=e(3400),C=e(9320);H.exports=function(n,L,w){var v={},g;function r(a,u){return d.coerce(n[g]||{},L[g],C,a,u)}for(var t=0;t<w.length;t++){var i=w[t];i.type==="barpolar"&&i.visible===!0&&(g=i.subplot,v[g]||(r("barmode"),r("bargap"),v[g]=1))}}},42040:function(H,U,e){var d=e(33428),C=e(38248),n=e(3400),L=e(43616),w=e(57384);H.exports=function(r,t,i){var a=r._context.staticPlot,u=t.xaxis,f=t.yaxis,l=t.radialAxis,m=t.angularAxis,h=v(t),T=t.layers.frontplot.select("g.barlayer");n.makeTraceGroups(T,i,"trace bars").each(function(){var c=d.select(this),o=n.ensureSingle(c,"g","points"),p=o.selectAll("g.point").data(n.identity);p.enter().append("g").style("vector-effect",a?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),p.exit().remove(),p.each(function(x){var A=d.select(this),_=x.rp0=l.c2p(x.s0),y=x.rp1=l.c2p(x.s1),E=x.thetag0=m.c2g(x.p0),M=x.thetag1=m.c2g(x.p1),s;if(!C(_)||!C(y)||!C(E)||!C(M)||_===y||E===M)s="M0,0Z";else{var S=l.c2g(x.s1),b=(E+M)/2;x.ct=[u.c2p(S*Math.cos(b)),f.c2p(S*Math.sin(b))],s=h(_,y,E,M)}n.ensureSingle(A,"path").attr("d",s)}),L.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(g){var r=g.cxx,t=g.cyy;return g.vangles?function(i,a,u,f){var l,m;n.angleDelta(u,f)>0?(l=u,m=f):(l=f,m=u);var h=w.findEnclosingVertexAngles(l,g.vangles)[0],T=w.findEnclosingVertexAngles(m,g.vangles)[1],c=[h,(l+m)/2,T];return w.pathPolygonAnnulus(i,a,l,m,c,r,t)}:function(i,a,u,f){return n.pathAnnulus(i,a,u,f,r,t)}}},63188:function(H,U,e){var d=e(98304),C=e(52904),n=e(20832),L=e(22548),w=e(29736).axisHoverFormat,v=e(21776).Ks,g=e(92880).extendFlat,r=C.marker,t=r.line;H.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:w("x"),yhoverformat:w("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:g({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:g({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:g({},r.angle,{arrayOk:!1,editType:"calc"}),size:g({},r.size,{arrayOk:!1,editType:"calc"}),color:g({},r.color,{arrayOk:!1,editType:"style"}),line:{color:g({},t.color,{arrayOk:!1,dflt:L.defaultLine,editType:"style"}),width:g({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:d(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:n.offsetgroup,alignmentgroup:n.alignmentgroup,selected:{marker:C.selected.marker,editType:"style"},unselected:{marker:C.unselected.marker,editType:"style"},text:g({},C.text,{}),hovertext:g({},C.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:C.zorder}},62555:function(H,U,e){var d=e(38248),C=e(54460),n=e(1220),L=e(3400),w=e(39032).BADNUM,v=L._;H.exports=function(x,A){var _=x._fullLayout,y=C.getFromId(x,A.xaxis||"x"),E=C.getFromId(x,A.yaxis||"y"),M=[],s=A.type==="violin"?"_numViolins":"_numBoxes",S,b,I,D,B,k,F;A.orientation==="h"?(I=y,D="x",B=E,k="y",F=!!A.yperiodalignment):(I=E,D="y",B=y,k="x",F=!!A.xperiodalignment);var N=g(A,k,B,_[s]),O=N[0],V=N[1],X=L.distinctVals(O,B),ee=X.vals,ne=X.minDiff/2,q,se,J,Z,te,Y,ie=(A.boxpoints||A.points)==="all"?L.identity:function(Ct){return Ct.v<q.lf||Ct.v>q.uf};if(A._hasPreCompStats){var le=A[D],j=function(Ct){return I.d2c((A[Ct]||[])[S])},K=1/0,ue=-1/0;for(S=0;S<A._length;S++){var ae=O[S];if(d(ae)){if(q={},q.pos=q[k]=ae,F&&V&&(q.orig_p=V[S]),q.q1=j("q1"),q.med=j("median"),q.q3=j("q3"),se=[],le&&L.isArrayOrTypedArray(le[S]))for(b=0;b<le[S].length;b++)Y=I.d2c(le[S][b]),Y!==w&&(te={v:Y,i:[S,b]},a(te,A,[S,b]),se.push(te));if(q.pts=se.sort(f),J=q[D]=se.map(l),Z=J.length,q.med!==w&&q.q1!==w&&q.q3!==w&&q.med>=q.q1&&q.q3>=q.med){var he=j("lowerfence");q.lf=he!==w&&he<=q.q1?he:m(q,J,Z);var xe=j("upperfence");q.uf=xe!==w&&xe>=q.q3?xe:h(q,J,Z);var Se=j("mean");q.mean=Se!==w?Se:Z?L.mean(J,Z):(q.q1+q.q3)/2;var Ae=j("sd");q.sd=Se!==w&&Ae>=0?Ae:Z?L.stdev(J,Z,q.mean):q.q3-q.q1,q.lo=T(q),q.uo=c(q);var De=j("notchspan");De=De!==w&&De>0?De:o(q,Z),q.ln=q.med-De,q.un=q.med+De;var we=q.lf,Ce=q.uf;A.boxpoints&&J.length&&(we=Math.min(we,J[0]),Ce=Math.max(Ce,J[Z-1])),A.notched&&(we=Math.min(we,q.ln),Ce=Math.max(Ce,q.un)),q.min=we,q.max=Ce}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+q.q1,"median = "+q.med,"q3 = "+q.q3].join(`
`));var be;q.med!==w?be=q.med:q.q1!==w?q.q3!==w?be=(q.q1+q.q3)/2:be=q.q1:q.q3!==w?be=q.q3:be=0,q.med=be,q.q1=q.q3=be,q.lf=q.uf=be,q.mean=q.sd=be,q.ln=q.un=be,q.min=q.max=be}K=Math.min(K,q.min),ue=Math.max(ue,q.max),q.pts2=se.filter(ie),M.push(q)}}A._extremes[I._id]=C.findExtremes(I,[K,ue],{padded:!0})}else{var Pe=I.makeCalcdata(A,D),Ve=r(ee,ne),Ge=ee.length,Fe=t(Ge);for(S=0;S<A._length;S++)if(Y=Pe[S],!!d(Y)){var He=L.findBin(O[S],Ve);He>=0&&He<Ge&&(te={v:Y,i:S},a(te,A,S),Fe[He].push(te))}var ft=1/0,gt=-1/0,ct=A.quartilemethod,nt=ct==="exclusive",dt=ct==="inclusive";for(S=0;S<Ge;S++)if(Fe[S].length>0){if(q={},q.pos=q[k]=ee[S],se=q.pts=Fe[S].sort(f),J=q[D]=se.map(l),Z=J.length,q.min=J[0],q.max=J[Z-1],q.mean=L.mean(J,Z),q.sd=L.stdev(J,Z,q.mean)*A.sdmultiple,q.med=L.interp(J,.5),Z%2&&(nt||dt)){var pt,wt;nt?(pt=J.slice(0,Z/2),wt=J.slice(Z/2+1)):dt&&(pt=J.slice(0,Z/2+1),wt=J.slice(Z/2)),q.q1=L.interp(pt,.5),q.q3=L.interp(wt,.5)}else q.q1=L.interp(J,.25),q.q3=L.interp(J,.75);q.lf=m(q,J,Z),q.uf=h(q,J,Z),q.lo=T(q),q.uo=c(q);var Tt=o(q,Z);q.ln=q.med-Tt,q.un=q.med+Tt,ft=Math.min(ft,q.ln),gt=Math.max(gt,q.un),q.pts2=se.filter(ie),M.push(q)}A.notched&&L.isTypedArray(Pe)&&(Pe=Array.from(Pe)),A._extremes[I._id]=C.findExtremes(I,A.notched?Pe.concat([ft,gt]):Pe,{padded:!0})}return u(M,A),M.length>0?(M[0].t={num:_[s],dPos:ne,posLetter:k,valLetter:D,labels:{med:v(x,"median:"),min:v(x,"min:"),q1:v(x,"q1:"),q3:v(x,"q3:"),max:v(x,"max:"),mean:A.boxmean==="sd"||A.sizemode==="sd"?v(x,"mean  :").replace("",A.sdmultiple===1?"":A.sdmultiple+""):v(x,"mean:"),lf:v(x,"lower fence:"),uf:v(x,"upper fence:")}},_[s]++,M):[{t:{empty:!0}}]};function g(p,x,A,_){var y=x in p,E=x+"0"in p,M="d"+x in p;if(y||E&&M){var s=A.makeCalcdata(p,x),S=n(p,A,x,s).vals;return[S,s]}var b;E?b=p[x+"0"]:"name"in p&&(A.type==="category"||d(p.name)&&["linear","log"].indexOf(A.type)!==-1||L.isDateTime(p.name)&&A.type==="date")?b=p.name:b=_;for(var I=A.type==="multicategory"?A.r2c_just_indices(b):A.d2c(b,0,p[x+"calendar"]),D=p._length,B=new Array(D),k=0;k<D;k++)B[k]=I;return[B]}function r(p,x){for(var A=p.length,_=new Array(A+1),y=0;y<A;y++)_[y]=p[y]-x;return _[A]=p[A-1]+x,_}function t(p){for(var x=new Array(p),A=0;A<p;A++)x[A]=[];return x}var i={text:"tx",hovertext:"htx"};function a(p,x,A){for(var _ in i)L.isArrayOrTypedArray(x[_])&&(Array.isArray(A)?L.isArrayOrTypedArray(x[_][A[0]])&&(p[i[_]]=x[_][A[0]][A[1]]):p[i[_]]=x[_][A])}function u(p,x){if(L.isArrayOrTypedArray(x.selectedpoints))for(var A=0;A<p.length;A++){for(var _=p[A].pts||[],y={},E=0;E<_.length;E++)y[_[E].i]=E;L.tagSelected(_,x,y)}}function f(p,x){return p.v-x.v}function l(p){return p.v}function m(p,x,A){return A===0?p.q1:Math.min(p.q1,x[Math.min(L.findBin(2.5*p.q1-1.5*p.q3,x,!0)+1,A-1)])}function h(p,x,A){return A===0?p.q3:Math.max(p.q3,x[Math.max(L.findBin(2.5*p.q3-1.5*p.q1,x),0)])}function T(p){return 4*p.q1-3*p.q3}function c(p){return 4*p.q3-3*p.q1}function o(p,x){return x===0?0:1.57*(p.q3-p.q1)/Math.sqrt(x)}},96404:function(H,U,e){var d=e(54460),C=e(3400),n=e(71888).getAxisGroup,L=["v","h"];function w(g,r){for(var t=g.calcdata,i=r.xaxis,a=r.yaxis,u=0;u<L.length;u++){for(var f=L[u],l=f==="h"?a:i,m=[],h=0;h<t.length;h++){var T=t[h],c=T[0].t,o=T[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!c.empty&&(o.orientation||"v")===f&&o.xaxis===i._id&&o.yaxis===a._id&&m.push(h)}v("box",g,m,l)}}function v(g,r,t,i){var a=r.calcdata,u=r._fullLayout,f=i._id,l=f.charAt(0),m,h,T,c=[],o=0;for(m=0;m<t.length;m++)for(T=a[t[m]],h=0;h<T.length;h++)c.push(i.c2l(T[h].pos,!0)),o+=(T[h].pts2||[]).length;if(c.length){var p=C.distinctVals(c);(i.type==="category"||i.type==="multicategory")&&(p.minDiff=1);var x=p.minDiff/2;d.minDtick(i,p.minDiff,p.vals[0],!0);var A=g==="violin"?"_numViolins":"_numBoxes",_=u[A],y=u[g+"mode"]==="group"&&_>1,E=1-u[g+"gap"],M=1-u[g+"groupgap"];for(m=0;m<t.length;m++){T=a[t[m]];var s=T[0].trace,S=T[0].t,b=s.width,I=s.side,D,B,k,F;if(b)D=B=F=b/2,k=0;else if(D=x,y){var N=n(u,i._id)+s.orientation,O=u._alignmentOpts[N]||{},V=O[s.alignmentgroup]||{},X=Object.keys(V.offsetGroups||{}).length,ee=X||_,ne=X?s._offsetIndex:S.num;B=D*E*M/ee,k=2*D*(-.5+(ne+.5)/ee)*E,F=D*E/ee}else B=D*E*M,k=0,F=D;S.dPos=D,S.bPos=k,S.bdPos=B,S.wHover=F;var q,se,J=k+B,Z,te,Y,ie,le,j,K=!!b,ue=(s.boxpoints||s.points)&&o>0;if(I==="positive"?(q=D*(b?1:.5),Z=J,se=Z=k):I==="negative"?(q=Z=k,se=D*(b?1:.5),te=J):(q=se=D,Z=te=J),ue){var ae=s.pointpos,he=s.jitter,xe=s.marker.size/2,Se=0;ae+he>=0&&(Se=J*(ae+he),Se>q?(K=!0,le=xe,Y=Se):Se>Z&&(le=xe,Y=q)),Se<=q&&(Y=q);var Ae=0;ae-he<=0&&(Ae=-J*(ae-he),Ae>se?(K=!0,j=xe,ie=Ae):Ae>te&&(j=xe,ie=se)),Ae<=se&&(ie=se)}else Y=q,ie=se;var De=new Array(T.length);for(h=0;h<T.length;h++)De[h]=T[h].pos;s._extremes[f]=d.findExtremes(i,De,{padded:K,vpadminus:ie,vpadplus:Y,vpadLinearized:!0,ppadminus:{x:j,y:le}[l],ppadplus:{x:le,y:j}[l]})}}}H.exports={crossTraceCalc:w,setPositionOffset:v}},90624:function(H,U,e){var d=e(3400),C=e(24040),n=e(76308),L=e(31147),w=e(20011),v=e(52976),g=e(63188);function r(u,f,l,m){function h(M,s){return d.coerce(u,f,g,M,s)}if(t(u,f,h,m),f.visible!==!1){L(u,f,m,h),h("xhoverformat"),h("yhoverformat");var T=f._hasPreCompStats;T&&(h("lowerfence"),h("upperfence")),h("line.color",(u.marker||{}).color||l),h("line.width"),h("fillcolor",n.addOpacity(f.line.color,.5));var c=!1;if(T){var o=h("mean"),p=h("sd");o&&o.length&&(c=!0,p&&p.length&&(c="sd"))}h("whiskerwidth");var x=h("sizemode"),A;x==="quartiles"&&(A=h("boxmean",c)),h("showwhiskers",x==="quartiles"),(x==="sd"||A==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var _=!1;if(T){var y=h("notchspan");y&&y.length&&(_=!0)}else d.validate(u.notchwidth,g.notchwidth)&&(_=!0);var E=h("notched",_);E&&h("notchwidth"),i(u,f,h,{prefix:"box"}),h("zorder")}}function t(u,f,l,m){function h(X){var ee=0;return X&&X.length&&(ee+=1,d.isArrayOrTypedArray(X[0])&&X[0].length&&(ee+=1)),ee}function T(X){return d.validate(u[X],g[X])}var c=l("y"),o=l("x"),p;if(f.type==="box"){var x=l("q1"),A=l("median"),_=l("q3");f._hasPreCompStats=x&&x.length&&A&&A.length&&_&&_.length,p=Math.min(d.minRowLength(x),d.minRowLength(A),d.minRowLength(_))}var y=h(c),E=h(o),M=y&&d.minRowLength(c),s=E&&d.minRowLength(o),S=m.calendar,b={autotypenumbers:m.autotypenumbers},I,D;if(f._hasPreCompStats)switch(String(E)+String(y)){case"00":var B=T("x0")||T("dx"),k=T("y0")||T("dy");k&&!B?I="h":I="v",D=p;break;case"10":I="v",D=Math.min(p,s);break;case"20":I="h",D=Math.min(p,o.length);break;case"01":I="h",D=Math.min(p,M);break;case"02":I="v",D=Math.min(p,c.length);break;case"12":I="v",D=Math.min(p,s,c.length);break;case"21":I="h",D=Math.min(p,o.length,M);break;case"11":D=0;break;case"22":var F=!1,N;for(N=0;N<o.length;N++)if(v(o[N],S,b)==="category"){F=!0;break}if(F)I="v",D=Math.min(p,s,c.length);else{for(N=0;N<c.length;N++)if(v(c[N],S,b)==="category"){F=!0;break}F?(I="h",D=Math.min(p,o.length,M)):(I="v",D=Math.min(p,s,c.length))}break}else y>0?(I="v",E>0?D=Math.min(s,M):D=Math.min(M)):E>0?(I="h",D=Math.min(s)):D=0;if(!D){f.visible=!1;return}f._length=D;var O=l("orientation",I);f._hasPreCompStats?O==="v"&&E===0?(l("x0",0),l("dx",1)):O==="h"&&y===0&&(l("y0",0),l("dy",1)):O==="v"&&E===0?l("x0"):O==="h"&&y===0&&l("y0");var V=C.getComponentMethod("calendars","handleTraceDefaults");V(u,f,["x","y"],m)}function i(u,f,l,m){var h=m.prefix,T=d.coerce2(u,f,g,"marker.outliercolor"),c=l("marker.line.outliercolor"),o="outliers";f._hasPreCompStats?o="all":(T||c)&&(o="suspectedoutliers");var p=l(h+"points",o);p?(l("jitter",p==="all"?.3:0),l("pointpos",p==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",f.line.color),l("marker.line.color"),l("marker.line.width"),p==="suspectedoutliers"&&(l("marker.line.outliercolor",f.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete f.marker;var x=l("hoveron");(x==="all"||x.indexOf("points")!==-1)&&l("hovertemplate"),d.coerceSelectionMarkerOpacity(f,l)}function a(u,f){var l,m;function h(o){return d.coerce(m._input,m,g,o)}for(var T=0;T<u.length;T++){m=u[T];var c=m.type;(c==="box"||c==="violin")&&(l=m._input,f[c+"mode"]==="group"&&w(l,m,f,h))}}H.exports={supplyDefaults:r,crossTraceDefaults:a,handleSampleDefaults:t,handlePointsDefaults:i}},10392:function(H){H.exports=function(e,d){return d.hoverOnBox&&(e.hoverOnBox=d.hoverOnBox),"xVal"in d&&(e.x=d.xVal),"yVal"in d&&(e.y=d.yVal),d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),e}},27576:function(H,U,e){var d=e(54460),C=e(3400),n=e(93024),L=e(76308),w=C.fillText;function v(t,i,a,u){var f=t.cd,l=f[0].trace,m=l.hoveron,h=[],T;return m.indexOf("boxes")!==-1&&(h=h.concat(g(t,i,a,u))),m.indexOf("points")!==-1&&(T=r(t,i,a)),u==="closest"?T?[T]:h:(T&&h.push(T),h)}function g(t,i,a,u){var f=t.cd,l=t.xa,m=t.ya,h=f[0].trace,T=f[0].t,c=h.type==="violin",o,p,x,A,_,y,E,M,s,S,b,I=T.bdPos,D,B,k=T.wHover,F=function(Ae){return x.c2l(Ae.pos)+T.bPos-x.c2l(y)};c&&h.side!=="both"?(h.side==="positive"&&(s=function(Ae){var De=F(Ae);return n.inbox(De,De+k,S)},D=I,B=0),h.side==="negative"&&(s=function(Ae){var De=F(Ae);return n.inbox(De-k,De,S)},D=0,B=I)):(s=function(Ae){var De=F(Ae);return n.inbox(De-k,De+k,S)},D=B=I);var N;c?N=function(Ae){return n.inbox(Ae.span[0]-_,Ae.span[1]-_,S)}:N=function(Ae){return n.inbox(Ae.min-_,Ae.max-_,S)},h.orientation==="h"?(_=i,y=a,E=N,M=s,o="y",x=m,p="x",A=l):(_=a,y=i,E=s,M=N,o="x",x=l,p="y",A=m);var O=Math.min(1,I/Math.abs(x.r2c(x.range[1])-x.r2c(x.range[0])));S=t.maxHoverDistance-O,b=t.maxSpikeDistance-O;function V(Ae){return(E(Ae)+M(Ae))/2}var X=n.getDistanceFunction(u,E,M,V);if(n.getClosest(f,X,t),t.index===!1)return[];var ee=f[t.index],ne=h.line.color,q=(h.marker||{}).color;L.opacity(ne)&&h.line.width?t.color=ne:L.opacity(q)&&h.boxpoints?t.color=q:t.color=h.fillcolor,t[o+"0"]=x.c2p(ee.pos+T.bPos-B,!0),t[o+"1"]=x.c2p(ee.pos+T.bPos+D,!0),t[o+"LabelVal"]=ee.orig_p!==void 0?ee.orig_p:ee.pos;var se=o+"Spike";t.spikeDistance=V(ee)*b/S,t[se]=x.c2p(ee.pos,!0);var J=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,Z=h.boxpoints||h.points,te=Z&&J?["max","uf","q3","med","mean","q1","lf","min"]:Z&&!J?["max","uf","q3","med","q1","lf","min"]:!Z&&J?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Y=A.range[1]<A.range[0];h.orientation===(Y?"v":"h")&&te.reverse();for(var ie=t.spikeDistance,le=t[se],j=[],K=0;K<te.length;K++){var ue=te[K];if(ue in ee){var ae=ee[ue],he=A.c2p(ae,!0),xe=C.extendFlat({},t);xe.attr=ue,xe[p+"0"]=xe[p+"1"]=he,xe[p+"LabelVal"]=ae,xe[p+"Label"]=(T.labels?T.labels[ue]+" ":"")+d.hoverLabelText(A,ae,h[p+"hoverformat"]),xe.hoverOnBox=!0,ue==="mean"&&"sd"in ee&&(h.boxmean==="sd"||h.sizemode==="sd")&&(xe[p+"err"]=ee.sd),xe.hovertemplate=!1,j.push(xe)}}t.name="",t.spikeDistance=void 0,t[se]=void 0;for(var Se=0;Se<j.length;Se++)j[Se].attr!=="med"?(j[Se].name="",j[Se].spikeDistance=void 0,j[Se][se]=void 0):(j[Se].spikeDistance=ie,j[Se][se]=le);return j}function r(t,i,a){for(var u=t.cd,f=t.xa,l=t.ya,m=u[0].trace,h=f.c2p(i),T=l.c2p(a),c,o=function(N){var O=Math.max(3,N.mrc||0);return Math.max(Math.abs(f.c2p(N.x)-h)-O,1-3/O)},p=function(N){var O=Math.max(3,N.mrc||0);return Math.max(Math.abs(l.c2p(N.y)-T)-O,1-3/O)},x=n.quadrature(o,p),A=!1,_,y,E=0;E<u.length;E++){_=u[E];for(var M=0;M<(_.pts||[]).length;M++){y=_.pts[M];var s=x(y);s<=t.distance&&(t.distance=s,A=[E,M])}}if(!A)return!1;_=u[A[0]],y=_.pts[A[1]];var S=f.c2p(y.x,!0),b=l.c2p(y.y,!0),I=y.mrc||1;c=C.extendFlat({},t,{index:y.i,color:(m.marker||{}).color,name:m.name,x0:S-I,x1:S+I,y0:b-I,y1:b+I,spikeDistance:t.distance,hovertemplate:m.hovertemplate});var D=_.orig_p,B=D!==void 0?D:_.pos,k;m.orientation==="h"?(k=l,c.xLabelVal=y.x,c.yLabelVal=B):(k=f,c.xLabelVal=B,c.yLabelVal=y.y);var F=k._id.charAt(0);return c[F+"Spike"]=k.c2p(_.pos,!0),w(y,m,c),c}H.exports={hoverPoints:v,hoverOnBoxes:g,hoverOnPoints:r}},67244:function(H,U,e){H.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(H){H.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(H,U,e){var d=e(24040),C=e(3400),n=e(16560);function L(v,g,r,t,i){for(var a=i+"Layout",u=!1,f=0;f<r.length;f++){var l=r[f];if(d.traceIs(l,a)){u=!0;break}}u&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}function w(v,g,r){function t(i,a){return C.coerce(v,g,n,i,a)}L(v,g,r,t,"box")}H.exports={supplyLayoutDefaults:w,_supply:L}},18728:function(H,U,e){var d=e(33428),C=e(3400),n=e(43616),L=5,w=.01;function v(i,a,u,f){var l=i._context.staticPlot,m=a.xaxis,h=a.yaxis;C.makeTraceGroups(f,u,"trace boxes").each(function(T){var c=d.select(this),o=T[0],p=o.t,x=o.trace;if(p.wdPos=p.bdPos*x.whiskerwidth,x.visible!==!0||p.empty){c.remove();return}var A,_;x.orientation==="h"?(A=h,_=m):(A=m,_=h),g(c,{pos:A,val:_},x,p,l),r(c,{x:m,y:h},x,p),t(c,{pos:A,val:_},x,p)})}function g(i,a,u,f,l){var m=u.orientation==="h",h=a.val,T=a.pos,c=!!T.rangebreaks,o=f.bPos,p=f.wdPos||0,x=f.bPosPxOffset||0,A=u.whiskerwidth||0,_=u.showwhiskers!==!1,y=u.notched||!1,E=y?1-2*u.notchwidth:1,M,s;Array.isArray(f.bdPos)?(M=f.bdPos[0],s=f.bdPos[1]):(M=f.bdPos,s=f.bdPos);var S=i.selectAll("path.box").data(u.type!=="violin"||u.box.visible?C.identity:[]);S.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(b){if(b.empty)return d.select(this).attr("d","M0,0Z");var I=T.c2l(b.pos+o,!0),D=T.l2p(I-M)+x,B=T.l2p(I+s)+x,k=c?(D+B)/2:T.l2p(I)+x,F=u.whiskerwidth,N=c?D*F+(1-F)*k:T.l2p(I-p)+x,O=c?B*F+(1-F)*k:T.l2p(I+p)+x,V=T.l2p(I-M*E)+x,X=T.l2p(I+s*E)+x,ee=u.sizemode==="sd",ne=h.c2p(ee?b.mean-b.sd:b.q1,!0),q=ee?h.c2p(b.mean+b.sd,!0):h.c2p(b.q3,!0),se=C.constrain(ee?h.c2p(b.mean,!0):h.c2p(b.med,!0),Math.min(ne,q)+1,Math.max(ne,q)-1),J=b.lf===void 0||u.boxpoints===!1||ee,Z=h.c2p(J?b.min:b.lf,!0),te=h.c2p(J?b.max:b.uf,!0),Y=h.c2p(b.ln,!0),ie=h.c2p(b.un,!0);m?d.select(this).attr("d","M"+se+","+V+"V"+X+"M"+ne+","+D+"V"+B+(y?"H"+Y+"L"+se+","+X+"L"+ie+","+B:"")+"H"+q+"V"+D+(y?"H"+ie+"L"+se+","+V+"L"+Y+","+D:"")+"Z"+(_?"M"+ne+","+k+"H"+Z+"M"+q+","+k+"H"+te+(A===0?"":"M"+Z+","+N+"V"+O+"M"+te+","+N+"V"+O):"")):d.select(this).attr("d","M"+V+","+se+"H"+X+"M"+D+","+ne+"H"+B+(y?"V"+Y+"L"+X+","+se+"L"+B+","+ie:"")+"V"+q+"H"+D+(y?"V"+ie+"L"+V+","+se+"L"+D+","+Y:"")+"Z"+(_?"M"+k+","+ne+"V"+Z+"M"+k+","+q+"V"+te+(A===0?"":"M"+N+","+Z+"H"+O+"M"+N+","+te+"H"+O):""))})}function r(i,a,u,f){var l=a.x,m=a.y,h=f.bdPos,T=f.bPos,c=u.boxpoints||u.points;C.seedPseudoRandom();var o=function(A){return A.forEach(function(_){_.t=f,_.trace=u}),A},p=i.selectAll("g.points").data(c?o:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var x=p.selectAll("path").data(function(A){var _,y=A.pts2,E=Math.max((A.max-A.min)/10,A.q3-A.q1),M=E*1e-9,s=E*w,S=[],b=0,I;if(u.jitter){if(E===0)for(b=1,S=new Array(y.length),_=0;_<y.length;_++)S[_]=1;else for(_=0;_<y.length;_++){var D=Math.max(0,_-L),B=y[D].v,k=Math.min(y.length-1,_+L),F=y[k].v;c!=="all"&&(y[_].v<A.lf?F=Math.min(F,A.lf):B=Math.max(B,A.uf));var N=Math.sqrt(s*(k-D)/(F-B+M))||0;N=C.constrain(Math.abs(N),0,1),S.push(N),b=Math.max(N,b)}I=u.jitter*2/(b||1)}for(_=0;_<y.length;_++){var O=y[_],V=O.v,X=u.jitter?I*S[_]*(C.pseudoRandom()-.5):0,ee=A.pos+T+h*(u.pointpos+X);u.orientation==="h"?(O.y=ee,O.x=V):(O.x=ee,O.y=V),c==="suspectedoutliers"&&V<A.uo&&V>A.lo&&(O.so=!0)}return y});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(n.translatePoints,l,m)}function t(i,a,u,f){var l=a.val,m=a.pos,h=!!m.rangebreaks,T=f.bPos,c=f.bPosPxOffset||0,o=u.boxmean||(u.meanline||{}).visible,p,x;Array.isArray(f.bdPos)?(p=f.bdPos[0],x=f.bdPos[1]):(p=f.bdPos,x=f.bdPos);var A=i.selectAll("path.mean").data(u.type==="box"&&u.boxmean||u.type==="violin"&&u.box.visible&&u.meanline.visible?C.identity:[]);A.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),A.exit().remove(),A.each(function(_){var y=m.c2l(_.pos+T,!0),E=m.l2p(y-p)+c,M=m.l2p(y+x)+c,s=h?(E+M)/2:m.l2p(y)+c,S=l.c2p(_.mean,!0),b=l.c2p(_.mean-_.sd,!0),I=l.c2p(_.mean+_.sd,!0);u.orientation==="h"?d.select(this).attr("d","M"+S+","+E+"V"+M+(o==="sd"?"m0,0L"+b+","+s+"L"+S+","+E+"L"+I+","+s+"Z":"")):d.select(this).attr("d","M"+E+","+S+"H"+M+(o==="sd"?"m0,0L"+s+","+b+"L"+E+","+S+"L"+s+","+I+"Z":""))})}H.exports={plot:v,plotBoxAndWhiskers:g,plotPoints:r,plotBoxMean:t}},8264:function(H){H.exports=function(e,d){var C=e.cd,n=e.xaxis,L=e.yaxis,w=[],v,g;if(d===!1)for(v=0;v<C.length;v++)for(g=0;g<(C[v].pts||[]).length;g++)C[v].pts[g].selected=0;else for(v=0;v<C.length;v++)for(g=0;g<(C[v].pts||[]).length;g++){var r=C[v].pts[g],t=n.c2p(r.x),i=L.c2p(r.y);d.contains([t,i],null,r.i,e)?(w.push({pointNumber:r.i,x:n.c2d(r.x),y:L.c2d(r.y)}),r.selected=1):r.selected=0}return w}},25776:function(H,U,e){var d=e(33428),C=e(76308),n=e(43616);function L(v,g,r){var t=r||d.select(v).selectAll("g.trace.boxes");t.style("opacity",function(i){return i[0].trace.opacity}),t.each(function(i){var a=d.select(this),u=i[0].trace,f=u.line.width;function l(T,c,o,p){T.style("stroke-width",c+"px").call(C.stroke,o).call(C.fill,p)}var m=a.selectAll("path.box");if(u.type==="candlestick")m.each(function(T){if(!T.empty){var c=d.select(this),o=u[T.dir];l(c,o.line.width,o.line.color,o.fillcolor),c.style("opacity",u.selectedpoints&&!T.selected?.3:1)}});else{l(m,f,u.line.color,u.fillcolor),a.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(C.stroke,u.line.color);var h=a.selectAll("path.point");n.pointStyle(h,u,v)}})}function w(v,g,r){var t=g[0].trace,i=r.selectAll("path.point");t.selectedpoints?n.selectedPointStyle(i,t):n.pointStyle(i,t,v)}H.exports={style:L,styleOnSelect:w}},64216:function(H,U,e){var d=e(3400).extendFlat,C=e(29736).axisHoverFormat,n=e(20279),L=e(63188);function w(v){return{line:{color:d({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}H.exports={xperiod:n.xperiod,xperiod0:n.xperiod0,xperiodalignment:n.xperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),x:n.x,open:n.open,high:n.high,low:n.low,close:n.close,line:{width:d({},L.line.width,{}),editType:"style"},increasing:w(n.increasing.line.color.dflt),decreasing:w(n.decreasing.line.color.dflt),text:n.text,hovertext:n.hovertext,whiskerwidth:d({},L.whiskerwidth,{dflt:0}),hoverlabel:n.hoverlabel,zorder:L.zorder}},46283:function(H,U,e){var d=e(3400),C=e(54460),n=e(1220),L=e(42812).calcCommon;H.exports=function(v,g){var r=v._fullLayout,t=C.getFromId(v,g.xaxis),i=C.getFromId(v,g.yaxis),a=t.makeCalcdata(g,"x"),u=n(g,t,"x",a).vals,f=L(v,g,a,u,i,w);return f.length?(d.extendFlat(f[0].t,{num:r._numBoxes,dPos:d.distinctVals(u).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,f):[{t:{empty:!0}}]};function w(v,g,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:g}}},64588:function(H,U,e){var d=e(3400),C=e(76308),n=e(52744),L=e(31147),w=e(64216);H.exports=function(r,t,i,a){function u(l,m){return d.coerce(r,t,w,l,m)}var f=n(r,t,u,a);if(!f){t.visible=!1;return}L(r,t,a,u,{x:!0}),u("xhoverformat"),u("yhoverformat"),u("line.width"),v(r,t,u,"increasing"),v(r,t,u,"decreasing"),u("text"),u("hovertext"),u("whiskerwidth"),a._requestRangeslider[t.xaxis]=!0,u("zorder")};function v(g,r,t,i){var a=t(i+".line.color");t(i+".line.width",r.line.width),t(i+".fillcolor",C.addOpacity(a,.5))}},61712:function(H,U,e){H.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(H,U,e){var d=e(63856),C=e(31780);H.exports=function(w,v,g,r,t){var i=r("a");i||(r("da"),r("a0"));var a=r("b");a||(r("db"),r("b0")),n(w,v,g,t)};function n(L,w,v,g){var r=["aaxis","baxis"];r.forEach(function(t){var i=t.charAt(0),a=L[t]||{},u=C.newContainer(w,t),f={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:i+"axis",letter:i,font:w.font,name:t,data:L[i],calendar:w.calendar,dfltColor:g,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};d(a,u,f),u._categories=u._categories||[],!L[t]&&a.type!=="-"&&(L[t]={type:a.type})})}},51676:function(H,U,e){var d=e(3400).isArrayOrTypedArray;H.exports=function(n){return C(n,0)};function C(n,L){if(!d(n)||L>=10)return null;for(var w=1/0,v=-1/0,g=n.length,r=0;r<g;r++){var t=n[r];if(d(t)){var i=C(t,L+1);i&&(w=Math.min(i[0],w),v=Math.max(i[1],v))}else w=Math.min(t,w),v=Math.max(t,v)}return[w,v]}},85720:function(H,U,e){var d=e(25376),C=e(98692),n=e(22548),L=d({editType:"calc"}),w=e(52904).zorder;L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=n.defaultLine,H.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:C,baxis:C,font:L,color:{valType:"color",dflt:n.defaultLine,editType:"plot"},transforms:void 0,zorder:w}},77712:function(H,U,e){var d=e(3400).isArrayOrTypedArray;H.exports=function(C,n,L,w){var v,g,r,t,i,a,u,f,l,m,h,T,c,o=d(L)?"a":"b",p=o==="a"?C.aaxis:C.baxis,x=p.smoothing,A=o==="a"?C.a2i:C.b2j,_=o==="a"?L:w,y=o==="a"?w:L,E=o==="a"?n.a.length:n.b.length,M=o==="a"?n.b.length:n.a.length,s=Math.floor(o==="a"?C.b2j(y):C.a2i(y)),S=o==="a"?function(ne){return C.evalxy([],ne,s)}:function(ne){return C.evalxy([],s,ne)};x&&(r=Math.max(0,Math.min(M-2,s)),t=s-r,g=o==="a"?function(ne,q){return C.dxydi([],ne,r,q,t)}:function(ne,q){return C.dxydj([],r,ne,t,q)});var b=A(_[0]),I=A(_[1]),D=b<I?1:-1,B=(I-b)*1e-8,k=D>0?Math.floor:Math.ceil,F=D>0?Math.ceil:Math.floor,N=D>0?Math.min:Math.max,O=D>0?Math.max:Math.min,V=k(b+B),X=F(I-B);u=S(b);var ee=[[u]];for(v=V;v*D<X*D;v+=D)i=[],h=O(b,v),T=N(I,v+D),c=T-h,a=Math.max(0,Math.min(E-2,Math.floor(.5*(h+T)))),f=S(T),x&&(l=g(a,h-a),m=g(a,T-a),i.push([u[0]+l[0]/3*c,u[1]+l[1]/3*c]),i.push([f[0]-m[0]/3*c,f[1]-m[1]/3*c])),i.push(f),ee.push(i),u=f;return ee}},98692:function(H,U,e){var d=e(25376),C=e(22548),n=e(94724),L=e(29736).descriptionWithDates,w=e(67824).overrideAll,v=e(98192).u,g=e(92880).extendFlat;H.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:d({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:n.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:g({},n.labelalias,{editType:"calc"}),tickfont:d({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:w(n.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:C.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:g({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:g({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:C.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:d({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(H,U,e){var d=e(85720),C=e(76308).addOpacity,n=e(24040),L=e(3400),w=e(26332),v=e(95936),g=e(42568),r=e(22416),t=e(78344),i=e(52976);H.exports=function(f,l,m){var h=m.letter,T=m.font||{},c=d[h+"axis"];function o(V,X){return L.coerce(f,l,c,V,X)}function p(V,X){return L.coerce2(f,l,c,V,X)}m.name&&(l._name=m.name,l._id=m.name),o("autotypenumbers",m.autotypenumbersDflt);var x=o("type");if(x==="-"&&(m.data&&a(l,m.data),l.type==="-"?l.type="linear":x=f.type=l.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",h+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),l.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),l._hovertitle=h,x==="date"){var A=n.getComponentMethod("calendars","handleDefaults");A(f,l,"calendar",m.calendar)}t(l,m.fullLayout),l.c2p=L.identity;var _=o("color",m.dfltColor),y=_===f.color?_:T.color,E=o("title.text");E&&(L.coerceFont(o,"title.font",{weight:T.weight,style:T.style,variant:T.variant,family:T.family,size:L.bigFont(T.size),color:y}),o("title.offset")),o("tickangle");var M=o("autorange",!l.isValidRange(f.range));M&&o("rangemode"),o("range"),l.cleanRange(),o("fixedrange"),w(f,l,o,x),g(f,l,o,x,m),v(f,l,o,x,m),r(f,l,o,{data:m.data,dataAttr:h});var s=p("gridcolor",C(_,.3)),S=p("gridwidth"),b=p("griddash"),I=o("showgrid");I||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var D=p("startlinecolor",_),B=p("startlinewidth",S),k=o("startline",l.showgrid||!!D||!!B);k||(delete l.startlinecolor,delete l.startlinewidth);var F=p("endlinecolor",_),N=p("endlinewidth",S),O=o("endline",l.showgrid||!!F||!!N);return O||(delete l.endlinecolor,delete l.endlinewidth),I?(o("minorgridcount"),o("minorgridwidth",S),o("minorgriddash",b),o("minorgridcolor",C(s,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,o("tickmode"),l};function a(u,f){if(u.type==="-"){var l=u._id,m=l.charAt(0),h=m+"calendar",T=u[h];u.type=i(f,T,{autotypenumbers:u.autotypenumbers})}}},58744:function(H,U,e){var d=e(54460),C=e(3400).isArray1D,n=e(60776),L=e(51676),w=e(19216),v=e(14724),g=e(24944),r=e(26136),t=e(51512),i=e(2872),a=e(81e3);H.exports=function(f,l){var m=d.getFromId(f,l.xaxis),h=d.getFromId(f,l.yaxis),T=l.aaxis,c=l.baxis,o=l.x,p=l.y,x=[];o&&C(o)&&x.push("x"),p&&C(p)&&x.push("y"),x.length&&i(l,T,c,"a","b",x);var A=l._a=l._a||l.a,_=l._b=l._b||l.b;o=l._x||l.x,p=l._y||l.y;var y={};if(l._cheater){var E=T.cheatertype==="index"?A.length:A,M=c.cheatertype==="index"?_.length:_;o=n(E,M,l.cheaterslope)}l._x=o=r(o),l._y=p=r(p),t(o,A,_),t(p,A,_),a(l),l.setScale();var s=L(o),S=L(p),b=.5*(s[1]-s[0]),I=.5*(s[1]+s[0]),D=.5*(S[1]-S[0]),B=.5*(S[1]+S[0]),k=1.3;return s=[I-b*k,I+b*k],S=[B-D*k,B+D*k],l._extremes[m._id]=d.findExtremes(m,s,{padded:!0}),l._extremes[h._id]=d.findExtremes(h,S,{padded:!0}),w(l,"a","b"),w(l,"b","a"),v(l,T),v(l,c),y.clipsegments=g(l._xctrl,l._yctrl,T,c),y.x=o,y.y=p,y.a=A,y.b=_,[y]}},24944:function(H){H.exports=function(e,d,C,n){var L,w,v,g=[],r=!!C.smoothing,t=!!n.smoothing,i=e[0].length-1,a=e.length-1;for(L=0,w=[],v=[];L<=i;L++)w[L]=e[0][L],v[L]=d[0][L];for(g.push({x:w,y:v,bicubic:r}),L=0,w=[],v=[];L<=a;L++)w[L]=e[L][i],v[L]=d[L][i];for(g.push({x:w,y:v,bicubic:t}),L=i,w=[],v=[];L>=0;L--)w[i-L]=e[a][L],v[i-L]=d[a][L];for(g.push({x:w,y:v,bicubic:r}),L=a,w=[],v=[];L>=0;L--)w[a-L]=e[L][0],v[a-L]=d[L][0];return g.push({x:w,y:v,bicubic:t}),g}},19216:function(H,U,e){var d=e(54460),C=e(92880).extendFlat;H.exports=function(L,w,v){var g,r,t,i,a,u,f,l,m,h,T,c,o,p,x=L["_"+w],A=L[w+"axis"],_=A._gridlines=[],y=A._minorgridlines=[],E=A._boundarylines=[],M=L["_"+v],s=L[v+"axis"];A.tickmode==="array"&&(A.tickvals=x.slice());var S=L._xctrl,b=L._yctrl,I=S[0].length,D=S.length,B=L._a.length,k=L._b.length;d.prepTicks(A),A.tickmode==="array"&&delete A.tickvals;var F=A.smoothing?3:1;function N(V){var X,ee,ne,q,se,J,Z,te,Y,ie,le,j,K=[],ue=[],ae={};if(w==="b")for(ee=L.b2j(V),ne=Math.floor(Math.max(0,Math.min(k-2,ee))),q=ee-ne,ae.length=k,ae.crossLength=B,ae.xy=function(he){return L.evalxy([],he,ee)},ae.dxy=function(he,xe){return L.dxydi([],he,ne,xe,q)},X=0;X<B;X++)J=Math.min(B-2,X),Z=X-J,te=L.evalxy([],X,ee),s.smoothing&&X>0&&(Y=L.dxydi([],X-1,ne,0,q),K.push(se[0]+Y[0]/3),ue.push(se[1]+Y[1]/3),ie=L.dxydi([],X-1,ne,1,q),K.push(te[0]-ie[0]/3),ue.push(te[1]-ie[1]/3)),K.push(te[0]),ue.push(te[1]),se=te;else for(X=L.a2i(V),J=Math.floor(Math.max(0,Math.min(B-2,X))),Z=X-J,ae.length=B,ae.crossLength=k,ae.xy=function(he){return L.evalxy([],X,he)},ae.dxy=function(he,xe){return L.dxydj([],J,he,Z,xe)},ee=0;ee<k;ee++)ne=Math.min(k-2,ee),q=ee-ne,te=L.evalxy([],X,ee),s.smoothing&&ee>0&&(le=L.dxydj([],J,ee-1,Z,0),K.push(se[0]+le[0]/3),ue.push(se[1]+le[1]/3),j=L.dxydj([],J,ee-1,Z,1),K.push(te[0]-j[0]/3),ue.push(te[1]-j[1]/3)),K.push(te[0]),ue.push(te[1]),se=te;return ae.axisLetter=w,ae.axis=A,ae.crossAxis=s,ae.value=V,ae.constvar=v,ae.index=l,ae.x=K,ae.y=ue,ae.smoothing=s.smoothing,ae}function O(V){var X,ee,ne,q,se,J=[],Z=[],te={};if(te.length=x.length,te.crossLength=M.length,w==="b")for(ne=Math.max(0,Math.min(k-2,V)),se=Math.min(1,Math.max(0,V-ne)),te.xy=function(Y){return L.evalxy([],Y,V)},te.dxy=function(Y,ie){return L.dxydi([],Y,ne,ie,se)},X=0;X<I;X++)J[X]=S[V*F][X],Z[X]=b[V*F][X];else for(ee=Math.max(0,Math.min(B-2,V)),q=Math.min(1,Math.max(0,V-ee)),te.xy=function(Y){return L.evalxy([],V,Y)},te.dxy=function(Y,ie){return L.dxydj([],ee,Y,q,ie)},X=0;X<D;X++)J[X]=S[X][V*F],Z[X]=b[X][V*F];return te.axisLetter=w,te.axis=A,te.crossAxis=s,te.value=x[V],te.constvar=v,te.index=V,te.x=J,te.y=Z,te.smoothing=s.smoothing,te}if(A.tickmode==="array"){for(i=5e-15,a=[Math.floor((x.length-1-A.arraytick0)/A.arraydtick*(1+i)),Math.ceil(-A.arraytick0/A.arraydtick/(1+i))].sort(function(V,X){return V-X}),u=a[0]-1,f=a[1]+1,l=u;l<f;l++)r=A.arraytick0+A.arraydtick*l,!(r<0||r>x.length-1)&&_.push(C(O(r),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=u;l<f;l++)if(t=A.arraytick0+A.arraydtick*l,T=Math.min(t+A.arraydtick,x.length-1),!(t<0||t>x.length-1)&&!(T<0||T>x.length-1))for(c=x[t],o=x[T],g=0;g<A.minorgridcount;g++)p=T-t,!(p<=0)&&(h=c+(o-c)*(g+1)/(A.minorgridcount+1)*(A.arraydtick/p),!(h<x[0]||h>x[x.length-1])&&y.push(C(N(h),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash})));A.startline&&E.push(C(O(0),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&E.push(C(O(x.length-1),{color:A.endlinecolor,width:A.endlinewidth}))}else{for(i=5e-15,a=[Math.floor((x[x.length-1]-A.tick0)/A.dtick*(1+i)),Math.ceil((x[0]-A.tick0)/A.dtick/(1+i))].sort(function(V,X){return V-X}),u=a[0],f=a[1],l=u;l<=f;l++)m=A.tick0+A.dtick*l,_.push(C(N(m),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=u-1;l<f+1;l++)for(m=A.tick0+A.dtick*l,g=0;g<A.minorgridcount;g++)h=m+A.dtick*(g+1)/(A.minorgridcount+1),!(h<x[0]||h>x[x.length-1])&&y.push(C(N(h),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash}));A.startline&&E.push(C(N(x[0]),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&E.push(C(N(x[x.length-1]),{color:A.endlinecolor,width:A.endlinewidth}))}}},14724:function(H,U,e){var d=e(54460),C=e(92880).extendFlat;H.exports=function(L,w){var v,g,r,t,i,a=w._labels=[],u=w._gridlines;for(v=0;v<u.length;v++)i=u[v],["start","both"].indexOf(w.showticklabels)!==-1&&(g=d.tickText(w,i.value),C(g,{prefix:r,suffix:t,endAnchor:!0,xy:i.xy(0),dxy:i.dxy(0,0),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===u.length-1}),a.push(g)),["end","both"].indexOf(w.showticklabels)!==-1&&(g=d.tickText(w,i.value),C(g,{endAnchor:!1,xy:i.xy(i.crossLength-1),dxy:i.dxy(i.crossLength-2,1),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===u.length-1}),a.push(g))}},62284:function(H){var U=.5;H.exports=function(d,C,n,L){var w=d[0]-C[0],v=d[1]-C[1],g=n[0]-C[0],r=n[1]-C[1],t=Math.pow(w*w+v*v,U/2),i=Math.pow(g*g+r*r,U/2),a=(i*i*w-t*t*g)*L,u=(i*i*v-t*t*r)*L,f=i*(t+i)*3,l=t*(t+i)*3;return[[C[0]+(f&&a/f),C[1]+(f&&u/f)],[C[0]-(l&&a/l),C[1]-(l&&u/l)]]}},60776:function(H,U,e){var d=e(3400).isArrayOrTypedArray;H.exports=function(C,n,L){var w,v,g,r,t,i,a=[],u=d(C)?C.length:C,f=d(n)?n.length:n,l=d(C)?C:null,m=d(n)?n:null;l&&(g=(l.length-1)/(l[l.length-1]-l[0])/(u-1)),m&&(r=(m.length-1)/(m[m.length-1]-m[0])/(f-1));var h,T=1/0,c=-1/0;for(v=0;v<f;v++)for(a[v]=[],i=m?(m[v]-m[0])*r:v/(f-1),w=0;w<u;w++)t=l?(l[w]-l[0])*g:w/(u-1),h=t-i*L,T=Math.min(h,T),c=Math.max(h,c),a[v][w]=h;var o=1/(c-T),p=-T*o;for(v=0;v<f;v++)for(w=0;w<u;w++)a[v][w]=o*a[v][w]+p;return a}},30180:function(H,U,e){var d=e(62284),C=e(3400).ensureArray;function n(L,w,v){var g=-.5*v[0]+1.5*w[0],r=-.5*v[1]+1.5*w[1];return[(2*g+L[0])/3,(2*r+L[1])/3]}H.exports=function(w,v,g,r,t,i){var a,u,f,l,m,h,T,c,o,p,x=g[0].length,A=g.length,_=t?3*x-2:x,y=i?3*A-2:A;for(w=C(w,y),v=C(v,y),f=0;f<y;f++)w[f]=C(w[f],_),v[f]=C(v[f],_);for(u=0,l=0;u<A;u++,l+=i?3:1)for(m=w[l],h=v[l],T=g[u],c=r[u],a=0,f=0;a<x;a++,f+=t?3:1)m[f]=T[a],h[f]=c[a];if(t)for(u=0,l=0;u<A;u++,l+=i?3:1){for(a=1,f=3;a<x-1;a++,f+=3)o=d([g[u][a-1],r[u][a-1]],[g[u][a],r[u][a]],[g[u][a+1],r[u][a+1]],t),w[l][f-1]=o[0][0],v[l][f-1]=o[0][1],w[l][f+1]=o[1][0],v[l][f+1]=o[1][1];p=n([w[l][0],v[l][0]],[w[l][2],v[l][2]],[w[l][3],v[l][3]]),w[l][1]=p[0],v[l][1]=p[1],p=n([w[l][_-1],v[l][_-1]],[w[l][_-3],v[l][_-3]],[w[l][_-4],v[l][_-4]]),w[l][_-2]=p[0],v[l][_-2]=p[1]}if(i)for(f=0;f<_;f++){for(l=3;l<y-3;l+=3)o=d([w[l-3][f],v[l-3][f]],[w[l][f],v[l][f]],[w[l+3][f],v[l+3][f]],i),w[l-1][f]=o[0][0],v[l-1][f]=o[0][1],w[l+1][f]=o[1][0],v[l+1][f]=o[1][1];p=n([w[0][f],v[0][f]],[w[2][f],v[2][f]],[w[3][f],v[3][f]]),w[1][f]=p[0],v[1][f]=p[1],p=n([w[y-1][f],v[y-1][f]],[w[y-3][f],v[y-3][f]],[w[y-4][f],v[y-4][f]]),w[y-2][f]=p[0],v[y-2][f]=p[1]}if(t&&i)for(l=1;l<y;l+=(l+1)%3===0?2:1){for(f=3;f<_-3;f+=3)o=d([w[l][f-3],v[l][f-3]],[w[l][f],v[l][f]],[w[l][f+3],v[l][f+3]],t),w[l][f-1]=.5*(w[l][f-1]+o[0][0]),v[l][f-1]=.5*(v[l][f-1]+o[0][1]),w[l][f+1]=.5*(w[l][f+1]+o[1][0]),v[l][f+1]=.5*(v[l][f+1]+o[1][1]);p=n([w[l][0],v[l][0]],[w[l][2],v[l][2]],[w[l][3],v[l][3]]),w[l][1]=.5*(w[l][1]+p[0]),v[l][1]=.5*(v[l][1]+p[1]),p=n([w[l][_-1],v[l][_-1]],[w[l][_-3],v[l][_-3]],[w[l][_-4],v[l][_-4]]),w[l][_-2]=.5*(w[l][_-2]+p[0]),v[l][_-2]=.5*(v[l][_-2]+p[1])}return[w,v]}},24588:function(H){H.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(H){H.exports=function(U,e,d){return e&&d?function(C,n,L,w,v){C||(C=[]);var g,r,t,i,a,u;n*=3,L*=3;var f=w*w,l=1-w,m=l*l,h=l*w*2,T=-3*m,c=3*(m-h),o=3*(h-f),p=3*f,x=v*v,A=x*v,_=1-v,y=_*_,E=y*_;for(u=0;u<U.length;u++)a=U[u],g=T*a[L][n]+c*a[L][n+1]+o*a[L][n+2]+p*a[L][n+3],r=T*a[L+1][n]+c*a[L+1][n+1]+o*a[L+1][n+2]+p*a[L+1][n+3],t=T*a[L+2][n]+c*a[L+2][n+1]+o*a[L+2][n+2]+p*a[L+2][n+3],i=T*a[L+3][n]+c*a[L+3][n+1]+o*a[L+3][n+2]+p*a[L+3][n+3],C[u]=E*g+3*(y*v*r+_*x*t)+A*i;return C}:e?function(C,n,L,w,v){C||(C=[]);var g,r,t,i;n*=3;var a=w*w,u=1-w,f=u*u,l=u*w*2,m=-3*f,h=3*(f-l),T=3*(l-a),c=3*a,o=1-v;for(t=0;t<U.length;t++)i=U[t],g=m*i[L][n]+h*i[L][n+1]+T*i[L][n+2]+c*i[L][n+3],r=m*i[L+1][n]+h*i[L+1][n+1]+T*i[L+1][n+2]+c*i[L+1][n+3],C[t]=o*g+v*r;return C}:d?function(C,n,L,w,v){C||(C=[]);var g,r,t,i,a,u;L*=3;var f=v*v,l=f*v,m=1-v,h=m*m,T=h*m;for(a=0;a<U.length;a++)u=U[a],g=u[L][n+1]-u[L][n],r=u[L+1][n+1]-u[L+1][n],t=u[L+2][n+1]-u[L+2][n],i=u[L+3][n+1]-u[L+3][n],C[a]=T*g+3*(h*v*r+m*f*t)+l*i;return C}:function(C,n,L,w,v){C||(C=[]);var g,r,t,i,a=1-v;for(t=0;t<U.length;t++)i=U[t],g=i[L][n+1]-i[L][n],r=i[L+1][n+1]-i[L+1][n],C[t]=a*g+v*r;return C}}},24464:function(H){H.exports=function(U,e,d){return e&&d?function(C,n,L,w,v){C||(C=[]);var g,r,t,i,a,u;n*=3,L*=3;var f=w*w,l=f*w,m=1-w,h=m*m,T=h*m,c=v*v,o=1-v,p=o*o,x=o*v*2,A=-3*p,_=3*(p-x),y=3*(x-c),E=3*c;for(u=0;u<U.length;u++)a=U[u],g=A*a[L][n]+_*a[L+1][n]+y*a[L+2][n]+E*a[L+3][n],r=A*a[L][n+1]+_*a[L+1][n+1]+y*a[L+2][n+1]+E*a[L+3][n+1],t=A*a[L][n+2]+_*a[L+1][n+2]+y*a[L+2][n+2]+E*a[L+3][n+2],i=A*a[L][n+3]+_*a[L+1][n+3]+y*a[L+2][n+3]+E*a[L+3][n+3],C[u]=T*g+3*(h*w*r+m*f*t)+l*i;return C}:e?function(C,n,L,w,v){C||(C=[]);var g,r,t,i,a,u;n*=3;var f=v*v,l=f*v,m=1-v,h=m*m,T=h*m;for(a=0;a<U.length;a++)u=U[a],g=u[L+1][n]-u[L][n],r=u[L+1][n+1]-u[L][n+1],t=u[L+1][n+2]-u[L][n+2],i=u[L+1][n+3]-u[L][n+3],C[a]=T*g+3*(h*v*r+m*f*t)+l*i;return C}:d?function(C,n,L,w,v){C||(C=[]);var g,r,t,i;L*=3;var a=1-w,u=v*v,f=1-v,l=f*f,m=f*v*2,h=-3*l,T=3*(l-m),c=3*(m-u),o=3*u;for(t=0;t<U.length;t++)i=U[t],g=h*i[L][n]+T*i[L+1][n]+c*i[L+2][n]+o*i[L+3][n],r=h*i[L][n+1]+T*i[L+1][n+1]+c*i[L+2][n+1]+o*i[L+3][n+1],C[t]=a*g+w*r;return C}:function(C,n,L,w,v){C||(C=[]);var g,r,t,i,a=1-w;for(t=0;t<U.length;t++)i=U[t],g=i[L+1][n]-i[L][n],r=i[L+1][n+1]-i[L][n+1],C[t]=a*g+w*r;return C}}},29056:function(H){H.exports=function(U,e,d,C,n){var L=e-2,w=d-2;return C&&n?function(v,g,r){v||(v=[]);var t,i,a,u,f,l,m=Math.max(0,Math.min(Math.floor(g),L)),h=Math.max(0,Math.min(Math.floor(r),w)),T=Math.max(0,Math.min(1,g-m)),c=Math.max(0,Math.min(1,r-h));m*=3,h*=3;var o=T*T,p=o*T,x=1-T,A=x*x,_=A*x,y=c*c,E=y*c,M=1-c,s=M*M,S=s*M;for(l=0;l<U.length;l++)f=U[l],t=_*f[h][m]+3*(A*T*f[h][m+1]+x*o*f[h][m+2])+p*f[h][m+3],i=_*f[h+1][m]+3*(A*T*f[h+1][m+1]+x*o*f[h+1][m+2])+p*f[h+1][m+3],a=_*f[h+2][m]+3*(A*T*f[h+2][m+1]+x*o*f[h+2][m+2])+p*f[h+2][m+3],u=_*f[h+3][m]+3*(A*T*f[h+3][m+1]+x*o*f[h+3][m+2])+p*f[h+3][m+3],v[l]=S*t+3*(s*c*i+M*y*a)+E*u;return v}:C?function(v,g,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(g),L)),i=Math.max(0,Math.min(Math.floor(r),w)),a=Math.max(0,Math.min(1,g-t)),u=Math.max(0,Math.min(1,r-i)),f,l,m,h,T,c;t*=3;var o=a*a,p=o*a,x=1-a,A=x*x,_=A*x,y=1-u;for(T=0;T<U.length;T++)c=U[T],f=y*c[i][t]+u*c[i+1][t],l=y*c[i][t+1]+u*c[i+1][t+1],m=y*c[i][t+2]+u*c[i+1][t+1],h=y*c[i][t+3]+u*c[i+1][t+1],v[T]=_*f+3*(A*a*l+x*o*m)+p*h;return v}:n?function(v,g,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(g),L)),i=Math.max(0,Math.min(Math.floor(r),w)),a=Math.max(0,Math.min(1,g-t)),u=Math.max(0,Math.min(1,r-i)),f,l,m,h,T,c;i*=3;var o=u*u,p=o*u,x=1-u,A=x*x,_=A*x,y=1-a;for(T=0;T<U.length;T++)c=U[T],f=y*c[i][t]+a*c[i][t+1],l=y*c[i+1][t]+a*c[i+1][t+1],m=y*c[i+2][t]+a*c[i+2][t+1],h=y*c[i+3][t]+a*c[i+3][t+1],v[T]=_*f+3*(A*u*l+x*o*m)+p*h;return v}:function(v,g,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(g),L)),i=Math.max(0,Math.min(Math.floor(r),w)),a=Math.max(0,Math.min(1,g-t)),u=Math.max(0,Math.min(1,r-i)),f,l,m,h,T=1-u,c=1-a;for(m=0;m<U.length;m++)h=U[m],f=c*h[i][t]+a*h[i][t+1],l=c*h[i+1][t]+a*h[i+1][t+1],v[m]=T*f+u*l;return v}}},38356:function(H,U,e){var d=e(3400),C=e(86411),n=e(93504),L=e(85720),w=e(22548);H.exports=function(g,r,t,i){function a(l,m){return d.coerce(g,r,L,l,m)}r._clipPathId="clip"+r.uid+"carpet";var u=a("color",w.defaultLine);if(d.coerceFont(a,"font",i.font),a("carpet"),n(g,r,i,a,u),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var f=C(g,r,a);f||(r.visible=!1),r._cheater&&a("cheaterslope"),a("zorder")}},95856:function(H,U,e){H.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(H){H.exports=function(U,e){for(var d=U._fullData.length,C,n=0;n<d;n++){var L=U._fullData[n];if(L.index!==e.index&&L.type==="carpet"&&(C||(C=L),L.carpet===e.carpet))return L}return C}},53416:function(H){H.exports=function(e,d,C){if(e.length===0)return"";var n,L=[],w=C?3:1;for(n=0;n<e.length;n+=w)L.push(e[n]+","+d[n]),C&&n<e.length-w&&(L.push("C"),L.push([e[n+1]+","+d[n+1],e[n+2]+","+d[n+2]+" "].join(" ")));return L.join(C?"":"L")}},87072:function(H,U,e){var d=e(3400).isArrayOrTypedArray;H.exports=function(n,L,w){var v;for(d(n)?n.length>L.length&&(n=n.slice(0,L.length)):n=[],v=0;v<L.length;v++)n[v]=w(L[v]);return n}},15584:function(H){H.exports=function(e,d,C,n,L,w){var v=L[0]*e.dpdx(d),g=L[1]*e.dpdy(C),r=1,t=1;if(w){var i=Math.sqrt(L[0]*L[0]+L[1]*L[1]),a=Math.sqrt(w[0]*w[0]+w[1]*w[1]),u=(L[0]*w[0]+L[1]*w[1])/i/a;t=Math.max(0,u)}var f=Math.atan2(g,v)*180/Math.PI;return f<-90?(f+=180,r=-r):f>90&&(f-=180,r=-r),{angle:f,flip:r,p:e.c2p(n,d,C),offsetMultplier:t}}},164:function(H,U,e){var d=e(33428),C=e(43616),n=e(87072),L=e(53416),w=e(15584),v=e(72736),g=e(3400),r=g.strRotate,t=g.strTranslate,i=e(84284);H.exports=function(o,p,x,A){var _=o._context.staticPlot,y=p.xaxis,E=p.yaxis,M=o._fullLayout,s=M._clips;g.makeTraceGroups(A,x,"trace").each(function(S){var b=d.select(this),I=S[0],D=I.trace,B=D.aaxis,k=D.baxis,F=g.ensureSingle(b,"g","minorlayer"),N=g.ensureSingle(b,"g","majorlayer"),O=g.ensureSingle(b,"g","boundarylayer"),V=g.ensureSingle(b,"g","labellayer");b.style("opacity",D.opacity),u(y,E,N,B,"a",B._gridlines,!0),u(y,E,N,k,"b",k._gridlines,!0),u(y,E,F,B,"a",B._minorgridlines,!0),u(y,E,F,k,"b",k._minorgridlines,!0),u(y,E,O,B,"a-boundary",B._boundarylines,_),u(y,E,O,k,"b-boundary",k._boundarylines,_);var X=f(o,y,E,D,I,V,B._labels,"a-label"),ee=f(o,y,E,D,I,V,k._labels,"b-label");l(o,V,D,I,y,E,X,ee),a(D,I,s,y,E)})};function a(c,o,p,x,A){var _,y,E,M,s=p.select("#"+c._clipPathId);s.size()||(s=p.append("clipPath").classed("carpetclip",!0));var S=g.ensureSingle(s,"path","carpetboundary"),b=o.clipsegments,I=[];for(M=0;M<b.length;M++)_=b[M],y=n([],_.x,x.c2p),E=n([],_.y,A.c2p),I.push(L(y,E,_.bicubic));var D="M"+I.join("L")+"Z";s.attr("id",c._clipPathId),S.attr("d",D)}function u(c,o,p,x,A,_,y){var E="const-"+A+"-lines",M=p.selectAll("."+E).data(_);M.enter().append("path").classed(E,!0).style("vector-effect",y?"none":"non-scaling-stroke"),M.each(function(s){var S=s,b=S.x,I=S.y,D=n([],b,c.c2p),B=n([],I,o.c2p),k="M"+L(D,B,S.smoothing),F=d.select(this);F.attr("d",k).style("stroke-width",S.width).style("stroke",S.color).style("stroke-dasharray",C.dashStyle(S.dash,S.width)).style("fill","none")}),M.exit().remove()}function f(c,o,p,x,A,_,y,E){var M=_.selectAll("text."+E).data(y);M.enter().append("text").classed(E,!0);var s=0,S={};return M.each(function(b,I){var D;if(b.axis.tickangle==="auto")D=w(x,o,p,b.xy,b.dxy);else{var B=(b.axis.tickangle+180)*Math.PI/180;D=w(x,o,p,b.xy,[Math.cos(B),Math.sin(B)])}I||(S={angle:D.angle,flip:D.flip});var k=(b.endAnchor?-1:1)*D.flip,F=d.select(this).attr({"text-anchor":k>0?"start":"end","data-notex":1}).call(C.font,b.font).text(b.text).call(v.convertToTspans,c),N=C.bBox(this);F.attr("transform",t(D.p[0],D.p[1])+r(D.angle)+t(b.axis.labelpadding*k,N.height*.3)),s=Math.max(s,N.width+b.axis.labelpadding)}),M.exit().remove(),S.maxExtent=s,S}function l(c,o,p,x,A,_,y,E){var M,s,S,b,I=g.aggNums(Math.min,null,p.a),D=g.aggNums(Math.max,null,p.a),B=g.aggNums(Math.min,null,p.b),k=g.aggNums(Math.max,null,p.b);M=.5*(I+D),s=B,S=p.ab2xy(M,s,!0),b=p.dxyda_rough(M,s),y.angle===void 0&&g.extendFlat(y,w(p,A,_,S,p.dxydb_rough(M,s))),T(c,o,p,x,S,b,p.aaxis,A,_,y,"a-title"),M=I,s=.5*(B+k),S=p.ab2xy(M,s,!0),b=p.dxydb_rough(M,s),E.angle===void 0&&g.extendFlat(E,w(p,A,_,S,p.dxyda_rough(M,s))),T(c,o,p,x,S,b,p.baxis,A,_,E,"b-title")}var m=i.LINE_SPACING,h=(1-i.MID_SHIFT)/m+1;function T(c,o,p,x,A,_,y,E,M,s,S){var b=[];y.title.text&&b.push(y.title.text);var I=o.selectAll("text."+S).data(b),D=s.maxExtent;I.enter().append("text").classed(S,!0),I.each(function(){var B=w(p,E,M,A,_);["start","both"].indexOf(y.showticklabels)===-1&&(D=0);var k=y.title.font.size;D+=k+y.title.offset;var F=s.angle+(s.flip<0?180:0),N=(F-B.angle+450)%360,O=N>90&&N<270,V=d.select(this);V.text(y.title.text).call(v.convertToTspans,c),O&&(D=(-v.lineCount(V)+h)*m*k-D),V.attr("transform",t(B.p[0],B.p[1])+r(B.angle)+t(0,D)).attr("text-anchor","middle").call(C.font,y.title.font)}),I.exit().remove()}},81e3:function(H,U,e){var d=e(24588),C=e(14952).findBin,n=e(30180),L=e(29056),w=e(26435),v=e(24464);H.exports=function(r){var t=r._a,i=r._b,a=t.length,u=i.length,f=r.aaxis,l=r.baxis,m=t[0],h=t[a-1],T=i[0],c=i[u-1],o=t[t.length-1]-t[0],p=i[i.length-1]-i[0],x=o*d.RELATIVE_CULL_TOLERANCE,A=p*d.RELATIVE_CULL_TOLERANCE;m-=x,h+=x,T-=A,c+=A,r.isVisible=function(_,y){return _>m&&_<h&&y>T&&y<c},r.isOccluded=function(_,y){return _<m||_>h||y<T||y>c},r.setScale=function(){var _=r._x,y=r._y,E=n(r._xctrl,r._yctrl,_,y,f.smoothing,l.smoothing);r._xctrl=E[0],r._yctrl=E[1],r.evalxy=L([r._xctrl,r._yctrl],a,u,f.smoothing,l.smoothing),r.dxydi=w([r._xctrl,r._yctrl],f.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],f.smoothing,l.smoothing)},r.i2a=function(_){var y=Math.max(0,Math.floor(_[0]),a-2),E=_[0]-y;return(1-E)*t[y]+E*t[y+1]},r.j2b=function(_){var y=Math.max(0,Math.floor(_[1]),a-2),E=_[1]-y;return(1-E)*i[y]+E*i[y+1]},r.ij2ab=function(_){return[r.i2a(_[0]),r.j2b(_[1])]},r.a2i=function(_){var y=Math.max(0,Math.min(C(_,t),a-2)),E=t[y],M=t[y+1];return Math.max(0,Math.min(a-1,y+(_-E)/(M-E)))},r.b2j=function(_){var y=Math.max(0,Math.min(C(_,i),u-2)),E=i[y],M=i[y+1];return Math.max(0,Math.min(u-1,y+(_-E)/(M-E)))},r.ab2ij=function(_){return[r.a2i(_[0]),r.b2j(_[1])]},r.i2c=function(_,y){return r.evalxy([],_,y)},r.ab2xy=function(_,y,E){if(!E&&(_<t[0]||_>t[a-1]|y<i[0]||y>i[u-1]))return[!1,!1];var M=r.a2i(_),s=r.b2j(y),S=r.evalxy([],M,s);if(E){var b=0,I=0,D=[],B,k,F,N;_<t[0]?(B=0,k=0,b=(_-t[0])/(t[1]-t[0])):_>t[a-1]?(B=a-2,k=1,b=(_-t[a-1])/(t[a-1]-t[a-2])):(B=Math.max(0,Math.min(a-2,Math.floor(M))),k=M-B),y<i[0]?(F=0,N=0,I=(y-i[0])/(i[1]-i[0])):y>i[u-1]?(F=u-2,N=1,I=(y-i[u-1])/(i[u-1]-i[u-2])):(F=Math.max(0,Math.min(u-2,Math.floor(s))),N=s-F),b&&(r.dxydi(D,B,F,k,N),S[0]+=D[0]*b,S[1]+=D[1]*b),I&&(r.dxydj(D,B,F,k,N),S[0]+=D[0]*I,S[1]+=D[1]*I)}return S},r.c2p=function(_,y,E){return[y.c2p(_[0]),E.c2p(_[1])]},r.p2x=function(_,y,E){return[y.p2c(_[0]),E.p2c(_[1])]},r.dadi=function(_){var y=Math.max(0,Math.min(t.length-2,_));return t[y+1]-t[y]},r.dbdj=function(_){var y=Math.max(0,Math.min(i.length-2,_));return i[y+1]-i[y]},r.dxyda=function(_,y,E,M){var s=r.dxydi(null,_,y,E,M),S=r.dadi(_,E);return[s[0]/S,s[1]/S]},r.dxydb=function(_,y,E,M){var s=r.dxydj(null,_,y,E,M),S=r.dbdj(y,M);return[s[0]/S,s[1]/S]},r.dxyda_rough=function(_,y,E){var M=o*(E||.1),s=r.ab2xy(_+M,y,!0),S=r.ab2xy(_-M,y,!0);return[(s[0]-S[0])*.5/M,(s[1]-S[1])*.5/M]},r.dxydb_rough=function(_,y,E){var M=p*(E||.1),s=r.ab2xy(_,y+M,!0),S=r.ab2xy(_,y-M,!0);return[(s[0]-S[0])*.5/M,(s[1]-S[1])*.5/M]},r.dpdx=function(_){return _._m},r.dpdy=function(_){return _._m}}},51512:function(H,U,e){var d=e(3400);H.exports=function(n,L,w){var v,g,r,t=[],i=[],a=n[0].length,u=n.length;function f(ee,ne){var q=0,se,J=0;return ee>0&&(se=n[ne][ee-1])!==void 0&&(J++,q+=se),ee<a-1&&(se=n[ne][ee+1])!==void 0&&(J++,q+=se),ne>0&&(se=n[ne-1][ee])!==void 0&&(J++,q+=se),ne<u-1&&(se=n[ne+1][ee])!==void 0&&(J++,q+=se),q/Math.max(1,J)}var l=0;for(v=0;v<a;v++)for(g=0;g<u;g++)n[g][v]===void 0&&(t.push(v),i.push(g),n[g][v]=f(v,g)),l=Math.max(l,Math.abs(n[g][v]));if(!t.length)return n;var m,h,T,c,o,p,x,A,_,y,E,M=1e-5,s=0,S=100,b=0,I=t.length;do{for(s=0,r=0;r<I;r++){v=t[r],g=i[r];var D=0,B=0,k,F,N,O,V,X;v===0?(V=Math.min(a-1,2),N=L[V],O=L[1],k=n[g][V],F=n[g][1],B+=F+(F-k)*(L[0]-O)/(O-N),D++):v===a-1&&(V=Math.max(0,a-3),N=L[V],O=L[a-2],k=n[g][V],F=n[g][a-2],B+=F+(F-k)*(L[a-1]-O)/(O-N),D++),(v===0||v===a-1)&&g>0&&g<u-1&&(m=w[g+1]-w[g],h=w[g]-w[g-1],B+=(h*n[g+1][v]+m*n[g-1][v])/(h+m),D++),g===0?(X=Math.min(u-1,2),N=w[X],O=w[1],k=n[X][v],F=n[1][v],B+=F+(F-k)*(w[0]-O)/(O-N),D++):g===u-1&&(X=Math.max(0,u-3),N=w[X],O=w[u-2],k=n[X][v],F=n[u-2][v],B+=F+(F-k)*(w[u-1]-O)/(O-N),D++),(g===0||g===u-1)&&v>0&&v<a-1&&(m=L[v+1]-L[v],h=L[v]-L[v-1],B+=(h*n[g][v+1]+m*n[g][v-1])/(h+m),D++),D?B/=D:(T=L[v+1]-L[v],c=L[v]-L[v-1],o=w[g+1]-w[g],p=w[g]-w[g-1],x=T*c*(T+c),A=o*p*(o+p),B=(x*(p*n[g+1][v]+o*n[g-1][v])+A*(c*n[g][v+1]+T*n[g][v-1]))/(A*(c+T)+x*(p+o))),_=B-n[g][v],y=_/l,s+=y*y,E=D?0:.85,n[g][v]+=_*(1+E)}s=Math.sqrt(s)}while(b++<S&&s>M);return d.log("Smoother converged to",s,"after",b,"iterations"),n}},86411:function(H,U,e){var d=e(3400).isArray1D;H.exports=function(n,L,w){var v=w("x"),g=v&&v.length,r=w("y"),t=r&&r.length;if(!g&&!t)return!1;if(L._cheater=!v,(!g||d(v))&&(!t||d(r))){var i=g?v.length:1/0;t&&(i=Math.min(i,r.length)),L.a&&L.a.length&&(i=Math.min(i,L.a.length)),L.b&&L.b.length&&(i=Math.min(i,L.b.length)),L._length=i}else L._length=null;return!0}},83372:function(H,U,e){var d=e(21776).Ks,C=e(6096),n=e(49084),L=e(45464),w=e(22548).defaultLine,v=e(92880).extendFlat,g=C.marker.line;H.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:C.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},C.geojson,{}),featureidkey:C.featureidkey,text:v({},C.text,{}),hovertext:v({},C.hovertext,{}),marker:{line:{color:v({},g.color,{dflt:w}),width:v({},g.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:C.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:C.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:d(),showlegend:v({},L.showlegend,{dflt:!1})},n("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(H,U,e){var d=e(38248),C=e(39032).BADNUM,n=e(47128),L=e(20148),w=e(4500);function v(g){return g&&typeof g=="string"}H.exports=function(r,t){var i=t._length,a=new Array(i),u;t.geojson?u=function(T){return v(T)||d(T)}:u=v;for(var f=0;f<i;f++){var l=a[f]={},m=t.locations[f],h=t.z[f];u(m)&&d(h)?(l.loc=m,l.z=h):(l.loc=null,l.z=C),l.index=f}return L(a,t),n(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),w(a,t),a}},30972:function(H,U,e){var d=e(3400),C=e(27260),n=e(83372);H.exports=function(w,v,g,r){function t(h,T){return d.coerce(w,v,n,h,T)}var i=t("locations"),a=t("z");if(!(i&&i.length&&d.isArrayOrTypedArray(a)&&a.length)){v.visible=!1;return}v._length=Math.min(i.length,a.length);var u=t("geojson"),f;(typeof u=="string"&&u!==""||d.isPlainObject(u))&&(f="geojson-id");var l=t("locationmode",f);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var m=t("marker.line.width");m&&t("marker.line.color"),t("marker.opacity"),C(w,v,r,t,{prefix:"",cLetter:"z"}),d.coerceSelectionMarkerOpacity(v,t)}},52428:function(H){H.exports=function(e,d,C,n,L){e.location=d.location,e.z=d.z;var w=n[L];return w.fIn&&w.fIn.properties&&(e.properties=w.fIn.properties),e.ct=w.ct,e}},69224:function(H,U,e){var d=e(54460),C=e(83372),n=e(3400).fillText;H.exports=function(v,g,r){var t=v.cd,i=t[0].trace,a=v.subplot,u,f,l,m,h=[g,r],T=[g+360,r];for(f=0;f<t.length;f++)if(u=t[f],m=!1,u._polygons){for(l=0;l<u._polygons.length;l++)u._polygons[l].contains(h)&&(m=!m),u._polygons[l].contains(T)&&(m=!m);if(m)break}if(!(!m||!u))return v.x0=v.x1=v.xa.c2p(u.ct),v.y0=v.y1=v.ya.c2p(u.ct),v.index=u.index,v.location=u.loc,v.z=u.z,v.zLabel=d.tickText(a.mockAxis,a.mockAxis.c2l(u.z),"hover").text,v.hovertemplate=u.hovertemplate,L(v,i,u),[v]};function L(w,v,g){if(!v.hovertemplate){var r=g.hi||v.hoverinfo,t=String(g.loc),i=r==="all"?C.hoverinfo.flags:r.split("+"),a=i.indexOf("name")!==-1,u=i.indexOf("location")!==-1,f=i.indexOf("z")!==-1,l=i.indexOf("text")!==-1,m=!a&&u,h=[];m?w.nameOverride=t:(a&&(w.nameOverride=v.name),u&&h.push(t)),f&&h.push(w.zLabel),l&&n(g,v,h),w.extraText=h.join("<br>")}}},54272:function(H,U,e){H.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(H,U,e){var d=e(33428),C=e(3400),n=e(27144),L=e(59972).getTopojsonFeatures,w=e(19280).findExtremes,v=e(7947).style;function g(t,i,a){var u=i.layers.backplot.select(".choroplethlayer");C.makeTraceGroups(u,a,"trace choropleth").each(function(f){var l=d.select(this),m=l.selectAll("path.choroplethlocation").data(C.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),v(t,f)})}function r(t,i){for(var a=t[0].trace,u=i[a.geo],f=u._subplot,l=a.locationmode,m=a._length,h=l==="geojson-id"?n.extractTraceFeature(t):L(a,f.topojson),T=[],c=[],o=0;o<m;o++){var p=t[o],x=l==="geojson-id"?p.fOut:n.locationToFeature(l,p.loc,h);if(x){p.geojson=x,p.ct=x.properties.ct,p._polygons=n.feature2polygons(x);var A=n.computeBbox(x);T.push(A[0],A[2]),c.push(A[1],A[3])}else p.geojson=null}if(u.fitbounds==="geojson"&&l==="geojson-id"){var _=n.computeBbox(n.getTraceGeojson(a));T=[_[0],_[2]],c=[_[1],_[3]]}var y={padded:!0};a._extremes.lon=w(u.lonaxis._ax,T,y),a._extremes.lat=w(u.lataxis._ax,c,y)}H.exports={calcGeoJSON:r,plot:g}},17328:function(H){H.exports=function(e,d){var C=e.cd,n=e.xaxis,L=e.yaxis,w=[],v,g,r,t,i;if(d===!1)for(v=0;v<C.length;v++)C[v].selected=0;else for(v=0;v<C.length;v++)g=C[v],r=g.ct,r&&(t=n.c2p(r),i=L.c2p(r),d.contains([t,i],null,v,e)?(w.push({pointNumber:v,lon:r[0],lat:r[1]}),g.selected=1):g.selected=0);return w}},7947:function(H,U,e){var d=e(33428),C=e(76308),n=e(43616),L=e(8932);function w(r,t){t&&v(r,t)}function v(r,t){var i=t[0].trace,a=t[0].node3,u=a.selectAll(".choroplethlocation"),f=i.marker||{},l=f.line||{},m=L.makeColorScaleFuncFromTrace(i);u.each(function(h){d.select(this).attr("fill",m(h.z)).call(C.stroke,h.mlc||l.color).call(n.dashLine,"",h.mlw||l.width||0).style("opacity",f.opacity)}),n.selectedPointStyle(u,i)}function g(r,t){var i=t[0].node3,a=t[0].trace;a.selectedpoints?n.selectedPointStyle(i.selectAll(".choroplethlocation"),a):v(r,t)}H.exports={style:w,styleOnSelect:g}},45608:function(H,U,e){var d=e(83372),C=e(49084),n=e(21776).Ks,L=e(45464),w=e(92880).extendFlat;H.exports=w({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:w({},d.featureidkey,{}),below:{valType:"string",editType:"plot"},text:d.text,hovertext:d.hovertext,marker:{line:{color:w({},d.marker.line.color,{editType:"plot"}),width:w({},d.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:w({},d.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:w({},d.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:w({},d.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:d.hoverinfo,hovertemplate:n({},{keys:["properties"]}),showlegend:w({},L.showlegend,{dflt:!1})},C("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(H,U,e){var d=e(38248),C=e(3400),n=e(8932),L=e(43616),w=e(44808).makeBlank,v=e(27144);function g(t){var i=t[0].trace,a=i.visible===!0&&i._length!==0,u={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},l=i._opts={fill:u,line:f,geojson:w()};if(!a)return l;var m=v.extractTraceFeature(t);if(!m)return l;var h=n.makeColorScaleFuncFromTrace(i),T=i.marker,c=T.line||{},o;C.isArrayOrTypedArray(T.opacity)&&(o=function(s){var S=s.mo;return d(S)?+C.constrain(S,0,1):0});var p;C.isArrayOrTypedArray(c.color)&&(p=function(s){return s.mlc});var x;C.isArrayOrTypedArray(c.width)&&(x=function(s){return s.mlw});for(var A=0;A<t.length;A++){var _=t[A],y=_.fOut;if(y){var E=y.properties;E.fc=h(_.z),o&&(E.mo=o(_)),p&&(E.mlc=p(_)),x&&(E.mlw=x(_)),_.ct=E.ct,_._polygons=v.feature2polygons(y)}}var M=o?{type:"identity",property:"mo"}:T.opacity;return C.extendFlat(u.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":M}),C.extendFlat(f.paint,{"line-color":p?{type:"identity",property:"mlc"}:c.color,"line-width":x?{type:"identity",property:"mlw"}:c.width,"line-opacity":M}),u.layout.visibility="visible",f.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:m},r(t),l}function r(t){var i=t[0].trace,a=i._opts,u;if(i.selectedpoints){for(var f=L.makeSelectedPointStyleFns(i),l=0;l<t.length;l++){var m=t[l];m.fOut&&(m.fOut.properties.mo2=f.selectedOpacityFn(m))}u={type:"identity",property:"mo2"}}else u=C.isArrayOrTypedArray(i.marker.opacity)?{type:"identity",property:"mo"}:i.marker.opacity;return C.extendFlat(a.fill.paint,{"fill-opacity":u}),C.extendFlat(a.line.paint,{"line-opacity":u}),a}H.exports={convert:g,convertOnSelect:r}},9352:function(H,U,e){var d=e(3400),C=e(27260),n=e(45608);H.exports=function(w,v,g,r){function t(l,m){return d.coerce(w,v,n,l,m)}var i=t("locations"),a=t("z"),u=t("geojson");if(!d.isArrayOrTypedArray(i)||!i.length||!d.isArrayOrTypedArray(a)||!a.length||!(typeof u=="string"&&u!==""||d.isPlainObject(u))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(i.length,a.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var f=t("marker.line.width");f&&t("marker.line.color"),t("marker.opacity"),C(w,v,r,t,{prefix:"",cLetter:"z"}),d.coerceSelectionMarkerOpacity(v,t)}},85404:function(H,U,e){H.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(d,C){if(C){var n=C[0].trace;n._glTrace.updateOnSelect(C)}},getBelow:function(d,C){for(var n=C.getMapLayers(),L=n.length-2;L>=0;L--){var w=n[L].id;if(typeof w=="string"&&w.indexOf("water")===0){for(var v=L+1;v<n.length;v++)if(w=n[v].id,typeof w=="string"&&w.indexOf("plotly-")===-1)return w}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(H,U,e){var d=e(13504).convert,C=e(13504).convertOnSelect,n=e(47552).traceLayerPrefix;function L(v,g){this.type="choroplethmapbox",this.subplot=v,this.uid=g,this.sourceId="source-"+g,this.layerList=[["fill",n+g+"-fill"],["line",n+g+"-line"]],this.below=null}var w=L.prototype;w.update=function(v){this._update(d(v)),v[0].trace._glTrace=this},w.updateOnSelect=function(v){this._update(C(v))},w._update=function(v){var g=this.subplot,r=this.layerList,t=g.belowLookup["trace-"+this.uid];g.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var i=0;i<r.length;i++){var a=r[i],u=a[0],f=a[1],l=v[u];g.setOptions(f,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&g.setOptions(f,"setPaintProperty",l.paint)}},w._addLayers=function(v,g){for(var r=this.subplot,t=this.layerList,i=this.sourceId,a=0;a<t.length;a++){var u=t[a],f=u[0],l=v[f];r.addLayer({type:f,id:u[1],source:i,layout:l.layout,paint:l.paint},g)}},w._removeLayers=function(){for(var v=this.subplot.map,g=this.layerList,r=g.length-1;r>=0;r--)v.removeLayer(g[r][1])},w.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},H.exports=function(g,r){var t=r[0].trace,i=new L(g,t.uid),a=i.sourceId,u=d(r),f=i.below=g.belowLookup["trace-"+t.uid];return g.map.addSource(a,{type:"geojson",data:u.geojson}),i._addLayers(u,f),r[0].trace._glTrace=i,i}},86040:function(H,U,e){var d=e(49084),C=e(29736).axisHoverFormat,n=e(21776).Ks,L=e(52948),w=e(45464),v=e(92880).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["norm"]}),uhoverformat:C("u",1),vhoverformat:C("v",1),whoverformat:C("w",1),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),showlegend:v({},w.showlegend,{dflt:!1})};v(g,d("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){g[t]=L[t]}),g.hoverinfo=v({},w.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,H.exports=g},83344:function(H,U,e){var d=e(47128);H.exports=function(n,L){for(var w=L.u,v=L.v,g=L.w,r=Math.min(L.x.length,L.y.length,L.z.length,w.length,v.length,g.length),t=-1/0,i=1/0,a=0;a<r;a++){var u=w[a],f=v[a],l=g[a],m=Math.sqrt(u*u+f*f+l*l);t=Math.max(t,m),i=Math.min(i,m)}L._len=r,L._normMax=t,d(n,L,{vals:[i,t],containerStr:"",cLetter:"c"})}},6648:function(H,U,e){var d=e(67792).gl_cone3d,C=e(67792).gl_cone3d.createConeMesh,n=e(3400).simpleMap,L=e(33040).parseColorScale,w=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,g=e(52094);function r(m,h){this.scene=m,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(m){if(m.object===this.mesh){var h=m.index=m.data.index,T=this.data.x[h],c=this.data.y[h],o=this.data.z[h],p=this.data.u[h],x=this.data.v[h],A=this.data.w[h];m.traceCoordinate=[T,c,o,p,x,A,Math.sqrt(p*p+x*x+A*A)];var _=this.data.hovertext||this.data.text;return v(_)&&_[h]!==void 0?m.textLabel=_[h]:_&&(m.textLabel=_),!0}};var i={xaxis:0,yaxis:1,zaxis:2},a={tip:1,tail:0,cm:.25,center:.5},u={tip:1,tail:1,cm:.75,center:.5};function f(m,h){var T=m.fullSceneLayout,c=m.dataScale,o={};function p(E,M){var s=T[M],S=c[i[M]];return n(E,function(b){return s.d2l(b)*S})}o.vectors=g(p(h.u,"xaxis"),p(h.v,"yaxis"),p(h.w,"zaxis"),h._len),o.positions=g(p(h.x,"xaxis"),p(h.y,"yaxis"),p(h.z,"zaxis"),h._len);var x=w(h);o.colormap=L(h),o.vertexIntensityBounds=[x.min/h._normMax,x.max/h._normMax],o.coneOffset=a[h.anchor];var A=h.sizemode;A==="scaled"?o.coneSize=h.sizeref||.5:A==="absolute"?o.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:A==="raw"&&(o.coneSize=h.sizeref),o.coneSizemode=A;var _=d(o),y=h.lightposition;return _.lightPosition=[y.x,y.y,y.z],_.ambient=h.lighting.ambient,_.diffuse=h.lighting.diffuse,_.specular=h.lighting.specular,_.roughness=h.lighting.roughness,_.fresnel=h.lighting.fresnel,_.opacity=h.opacity,h._pad=u[h.anchor]*_.vectorScale*_.coneScale*h._normMax,_}t.update=function(m){this.data=m;var h=f(this.scene,m);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(m,h){var T=m.glplot.gl,c=f(m,h),o=C(T,c),p=new r(m,h.uid);return p.mesh=o,p.data=h,o._trace=p,m.glplot.add(o),p}H.exports=l},86096:function(H,U,e){var d=e(3400),C=e(27260),n=e(86040);H.exports=function(w,v,g,r){function t(T,c){return d.coerce(w,v,n,T,c)}var i=t("u"),a=t("v"),u=t("w"),f=t("x"),l=t("y"),m=t("z");if(!i||!i.length||!a||!a.length||!u||!u.length||!f||!f.length||!l||!l.length||!m||!m.length){v.visible=!1;return}var h=t("sizemode");t("sizeref",h==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),C(w,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(H,U,e){H.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(d,C){return d.norm=C.traceCoordinate[6],d},meta:{}}},67104:function(H,U,e){var d=e(83328),C=e(52904),n=e(29736),L=n.axisHoverFormat,w=n.descriptionOnlyNumbers,v=e(49084),g=e(98192).u,r=e(25376),t=e(92880).extendFlat,i=e(69104),a=i.COMPARISON_OPS2,u=i.INTERVAL_OPS,f=C.line;H.exports=t({z:d.z,x:d.x,x0:d.x0,dx:d.dx,y:d.y,y0:d.y0,dy:d.dy,xperiod:d.xperiod,yperiod:d.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:d.xperiodalignment,yperiodalignment:d.yperiodalignment,text:d.text,hovertext:d.hovertext,transpose:d.transpose,xtype:d.xtype,ytype:d.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:d.hovertemplate,texttemplate:t({},d.texttemplate,{}),textfont:t({},d.textfont,{}),hoverongaps:d.hoverongaps,connectgaps:t({},d.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:w("contour label")},operation:{valType:"enumerated",values:[].concat(a).concat(u),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:g,smoothing:t({},f.smoothing,{}),editType:"plot"},zorder:C.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(H,U,e){var d=e(8932),C=e(19512),n=e(54444),L=e(46960);H.exports=function(v,g){var r=C(v,g),t=r[0].z;n(g,t);var i=g.contours,a=d.extractOpts(g),u;if(i.coloring==="heatmap"&&a.auto&&g.autocontour===!1){var f=i.start,l=L(i),m=i.size||1,h=Math.floor((l-f)/m)+1;isFinite(m)||(m=1,h=1);var T=f-m/2,c=T+h*m;u=[T,c]}else u=t;return d.calc(v,g,{vals:u,cLetter:"z"}),r}},56008:function(H){H.exports=function(U,e){var d=U[0],C=d.z,n;switch(e.type){case"levels":var L=Math.min(C[0][0],C[0][1]);for(n=0;n<U.length;n++){var w=U[n];w.prefixBoundary=!w.edgepaths.length&&(L>w.level||w.starts.length&&L===w.level)}break;case"constraint":if(d.prefixBoundary=!1,d.edgepaths.length)return;var v=d.x.length,g=d.y.length,r=-1/0,t=1/0;for(n=0;n<g;n++)t=Math.min(t,C[n][0]),t=Math.min(t,C[n][v-1]),r=Math.max(r,C[n][0]),r=Math.max(r,C[n][v-1]);for(n=1;n<v-1;n++)t=Math.min(t,C[0][n]),t=Math.min(t,C[g-1][n]),r=Math.max(r,C[0][n]),r=Math.max(r,C[g-1][n]);var i=e.value,a,u;switch(e._operation){case">":i>r&&(d.prefixBoundary=!0);break;case"<":(i<t||d.starts.length&&i===t)&&(d.prefixBoundary=!0);break;case"[]":a=Math.min(i[0],i[1]),u=Math.max(i[0],i[1]),(u<t||a>r||d.starts.length&&u===t)&&(d.prefixBoundary=!0);break;case"][":a=Math.min(i[0],i[1]),u=Math.max(i[0],i[1]),a<t&&u>r&&(d.prefixBoundary=!0);break}break}}},55296:function(H,U,e){var d=e(8932),C=e(41076),n=e(46960);function L(w,v,g){var r=v.contours,t=v.line,i=r.size||1,a=r.coloring,u=C(v,{isColorbar:!0});if(a==="heatmap"){var f=d.extractOpts(v);g._fillgradient=f.reversescale?d.flipScale(f.colorscale):f.colorscale,g._zrange=[f.min,f.max]}else a==="fill"&&(g._fillcolor=u);g._line={color:a==="lines"?u:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},g._levels={start:r.start,end:n(r),size:i}}H.exports={min:"zmin",max:"zmax",calc:L}},93252:function(H){H.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(H,U,e){var d=e(38248),C=e(17428),n=e(76308),L=n.addOpacity,w=n.opacity,v=e(69104),g=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;H.exports=function(u,f,l,m,h,T){var c=f.contours,o,p,x,A=l("contours.operation");if(c._operation=r[A],i(l,c),A==="="?o=c.showlines=!0:(o=l("contours.showlines"),x=l("fillcolor",L((u.line||{}).color||h,.5))),o){var _=x&&w(x)?L(f.fillcolor,1):h;p=l("line.color",_),l("line.width",2),l("line.dash")}l("line.smoothing"),C(l,m,p,T)};function i(a,u){var f;t.indexOf(u.operation)===-1?(a("contours.value",[0,1]),g(u.value)?u.value.length>2?u.value=u.value.slice(2):u.length===0?u.value=[0,1]:u.length<2?(f=parseFloat(u.value[0]),u.value=[f,f+1]):u.value=[parseFloat(u.value[0]),parseFloat(u.value[1])]:d(u.value)&&(f=parseFloat(u.value),u.value=[f,f+1])):(a("contours.value",0),d(u.value)||(g(u.value)?u.value=parseFloat(u.value[0]):u.value=0))}},3212:function(H,U,e){var d=e(69104),C=e(38248);H.exports={"[]":L("[]"),"][":L("]["),">":w(">"),"<":w("<"),"=":w("=")};function n(v,g){var r=Array.isArray(g),t;function i(a){return C(a)?+a:null}return d.COMPARISON_OPS2.indexOf(v)!==-1?t=i(r?g[0]:g):d.INTERVAL_OPS.indexOf(v)!==-1?t=r?[i(g[0]),i(g[1])]:[i(g),i(g)]:d.SET_OPS.indexOf(v)!==-1&&(t=r?g.map(i):[i(g)]),t}function L(v){return function(g){g=n(v,g);var r=Math.min(g[0],g[1]),t=Math.max(g[0],g[1]);return{start:r,end:t,size:t-r}}}function w(v){return function(g){return g=n(v,g),{start:g,end:1/0,size:1/0}}}},84952:function(H){H.exports=function(e,d,C,n){var L=n("contours.start"),w=n("contours.end"),v=L===!1||w===!1,g=C("contours.size"),r;v?r=d.autocontour=!0:r=C("autocontour",!1),(r||!g)&&C("ncontours")}},82172:function(H,U,e){var d=e(3400);H.exports=function(n,L){var w,v,g,r=function(a){return a.reverse()},t=function(a){return a};switch(L){case"=":case"<":return n;case">":for(n.length!==1&&d.warn("Contour data invalid for the specified inequality operation."),v=n[0],w=0;w<v.edgepaths.length;w++)v.edgepaths[w]=r(v.edgepaths[w]);for(w=0;w<v.paths.length;w++)v.paths[w]=r(v.paths[w]);for(w=0;w<v.starts.length;w++)v.starts[w]=r(v.starts[w]);return n;case"][":var i=r;r=t,t=i;case"[]":for(n.length!==2&&d.warn("Contour data invalid for the specified inequality range operation."),v=C(n[0]),g=C(n[1]),w=0;w<v.edgepaths.length;w++)v.edgepaths[w]=r(v.edgepaths[w]);for(w=0;w<v.paths.length;w++)v.paths[w]=r(v.paths[w]);for(w=0;w<v.starts.length;w++)v.starts[w]=r(v.starts[w]);for(;g.edgepaths.length;)v.edgepaths.push(t(g.edgepaths.shift()));for(;g.paths.length;)v.paths.push(t(g.paths.shift()));for(;g.starts.length;)v.starts.push(t(g.starts.shift()));return[v]}};function C(n){return d.extendFlat({},n,{edgepaths:d.extendDeep([],n.edgepaths),paths:d.extendDeep([],n.paths),starts:d.extendDeep([],n.starts)})}},57004:function(H,U,e){var d=e(3400),C=e(51264),n=e(31147),L=e(95536),w=e(84952),v=e(97680),g=e(39096),r=e(67104);H.exports=function(i,a,u,f){function l(c,o){return d.coerce(i,a,r,c,o)}function m(c){return d.coerce2(i,a,r,c)}var h=C(i,a,l,f);if(!h){a.visible=!1;return}n(i,a,f,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var T=l("contours.type")==="constraint";l("connectgaps",d.isArray1D(a.z)),T?L(i,a,l,f,u):(w(i,a,l,m),v(i,a,l,f)),a.contours&&a.contours.coloring==="heatmap"&&g(l,f),l("zorder")}},61512:function(H,U,e){var d=e(3400),C=e(3212),n=e(46960);H.exports=function(w,v,g){for(var r=w.type==="constraint"?C[w._operation](w.value):w,t=r.size,i=[],a=n(r),u=g.trace._carpetTrace,f=u?{xaxis:u.aaxis,yaxis:u.baxis,x:g.a,y:g.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:g.x,y:g.y},l=r.start;l<a;l+=t)if(i.push(d.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:g.z,smoothing:g.trace.line.smoothing},f)),i.length>1e3){d.warn("Too many contours, clipping at 1000",w);break}return i}},46960:function(H){H.exports=function(e){return e.end+e.size/1e6}},88748:function(H,U,e){var d=e(3400),C=e(93252);H.exports=function(t,i,a){var u,f,l,m,h;for(i=i||.01,a=a||.01,l=0;l<t.length;l++){for(m=t[l],h=0;h<m.starts.length;h++)f=m.starts[h],w(m,f,"edge",i,a);for(u=0;Object.keys(m.crossings).length&&u<1e4;)u++,f=Object.keys(m.crossings)[0].split(",").map(Number),w(m,f,void 0,i,a);u===1e4&&d.log("Infinite loop in contour?")}};function n(r,t,i,a){return Math.abs(r[0]-t[0])<i&&Math.abs(r[1]-t[1])<a}function L(r,t){var i=r[2]-t[2],a=r[3]-t[3];return Math.sqrt(i*i+a*a)}function w(r,t,i,a,u){var f=t.join(","),l=r.crossings[f],m=v(l,i,t),h=[g(r,t,[-m[0],-m[1]])],T=r.z.length,c=r.z[0].length,o=t.slice(),p=m.slice(),x;for(x=0;x<1e4;x++){if(l>20?(l=C.CHOOSESADDLE[l][(m[0]||m[1])<0?0:1],r.crossings[f]=C.SADDLEREMAINDER[l]):delete r.crossings[f],m=C.NEWDELTA[l],!m){d.log("Found bad marching index:",l,t,r.level);break}h.push(g(r,t,m)),t[0]+=m[0],t[1]+=m[1],f=t.join(","),n(h[h.length-1],h[h.length-2],a,u)&&h.pop();var A=m[0]&&(t[0]<0||t[0]>c-2)||m[1]&&(t[1]<0||t[1]>T-2),_=t[0]===o[0]&&t[1]===o[1]&&m[0]===p[0]&&m[1]===p[1];if(_||i&&A)break;l=r.crossings[f]}x===1e4&&d.log("Infinite loop in contour?");var y=n(h[0],h[h.length-1],a,u),E=0,M=.2*r.smoothing,s=[],S=0,b,I,D,B,k,F,N,O,V,X,ee;for(x=1;x<h.length;x++)N=L(h[x],h[x-1]),E+=N,s.push(N);var ne=E/s.length*M;function q(Z){return h[Z%h.length]}for(x=h.length-2;x>=S;x--)if(b=s[x],b<ne){for(D=0,I=x-1;I>=S&&b+s[I]<ne;I--)b+=s[I];if(y&&x===h.length-2)for(D=0;D<I&&b+s[D]<ne;D++)b+=s[D];k=x-I+D+1,F=Math.floor((x+I+D+2)/2),!y&&x===h.length-2?B=h[h.length-1]:!y&&I===-1?B=h[0]:k%2?B=q(F):B=[(q(F)[0]+q(F+1)[0])/2,(q(F)[1]+q(F+1)[1])/2],h.splice(I+1,x-I+1,B),x=I+1,D&&(S=D),y&&(x===h.length-2?h[D]=h[h.length-1]:x===0&&(h[h.length-1]=h[0]))}for(h.splice(0,S),x=0;x<h.length;x++)h[x].length=2;if(!(h.length<2))if(y)h.pop(),r.paths.push(h);else{i||d.log("Unclosed interior contour?",r.level,o.join(","),h.join("L"));var se=!1;for(O=0;O<r.edgepaths.length;O++)if(X=r.edgepaths[O],!se&&n(X[0],h[h.length-1],a,u)){h.pop(),se=!0;var J=!1;for(V=0;V<r.edgepaths.length;V++)if(ee=r.edgepaths[V],n(ee[ee.length-1],h[0],a,u)){J=!0,h.shift(),r.edgepaths.splice(O,1),V===O?r.paths.push(h.concat(ee)):(V>O&&V--,r.edgepaths[V]=ee.concat(h,X));break}J||(r.edgepaths[O]=h.concat(X))}for(O=0;O<r.edgepaths.length&&!se;O++)X=r.edgepaths[O],n(X[X.length-1],h[0],a,u)&&(h.shift(),r.edgepaths[O]=X.concat(h),se=!0);se||r.edgepaths.push(h)}}function v(r,t,i){var a=0,u=0;return r>20&&t?r===208||r===1114?a=i[0]===0?1:-1:u=i[1]===0?1:-1:C.BOTTOMSTART.indexOf(r)!==-1?u=1:C.LEFTSTART.indexOf(r)!==-1?a=1:C.TOPSTART.indexOf(r)!==-1?u=-1:a=-1,[a,u]}function g(r,t,i){var a=t[0]+Math.max(i[0],0),u=t[1]+Math.max(i[1],0),f=r.z[u][a],l=r.xaxis,m=r.yaxis;if(i[1]){var h=(r.level-f)/(r.z[u][a+1]-f),T=(h!==1?(1-h)*l.c2l(r.x[a]):0)+(h!==0?h*l.c2l(r.x[a+1]):0);return[l.c2p(l.l2c(T),!0),m.c2p(r.y[u],!0),a+h,u]}else{var c=(r.level-f)/(r.z[u+1][a]-f),o=(c!==1?(1-c)*m.c2l(r.y[u]):0)+(c!==0?c*m.c2l(r.y[u+1]):0);return[l.c2p(r.x[a],!0),m.c2p(m.l2c(o),!0),a,u+c]}}},38200:function(H,U,e){var d=e(76308),C=e(55512);H.exports=function(L,w,v,g,r){r||(r={}),r.isContour=!0;var t=C(L,w,v,g,r);return t&&t.forEach(function(i){var a=i.trace;a.contours.type==="constraint"&&(a.fillcolor&&d.opacity(a.fillcolor)?i.color=d.addOpacity(a.fillcolor,1):a.contours.showlines&&d.opacity(a.line.color)&&(i.color=d.addOpacity(a.line.color,1)))}),t}},66240:function(H,U,e){H.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(H,U,e){var d=e(3400);H.exports=function(n,L,w,v){v||(v={});var g=n("contours.showlabels");if(g){var r=L.font;d.coerceFont(n,"contours.labelfont",{weight:r.weight,style:r.style,variant:r.variant,family:r.family,size:r.size,color:w}),n("contours.labelformat")}v.hasHover!==!1&&n("zhoverformat")}},41076:function(H,U,e){var d=e(33428),C=e(8932),n=e(46960);H.exports=function(w){var v=w.contours,g=v.start,r=n(v),t=v.size||1,i=Math.floor((r-g)/t)+1,a=v.coloring==="lines"?0:1,u=C.extractOpts(w);isFinite(t)||(t=1,i=1);var f=u.reversescale?C.flipScale(u.colorscale):u.colorscale,l=f.length,m=new Array(l),h=new Array(l),T,c,o=u.min,p=u.max;if(v.coloring==="heatmap"){for(c=0;c<l;c++)T=f[c],m[c]=T[0]*(p-o)+o,h[c]=T[1];var x=d.extent([o,p,v.start,v.start+t*(i-1)]),A=x[o<p?0:1],_=x[o<p?1:0];A!==o&&(m.splice(0,0,A),h.splice(0,0,h[0])),_!==p&&(m.push(_),h.push(h[h.length-1]))}else{var y=w._input&&typeof w._input.zmin=="number"&&typeof w._input.zmax=="number";for(y&&(g<=o||r>=p)&&(g<=o&&(g=o),r>=p&&(r=p),i=Math.floor((r-g)/t)+1,a=0),c=0;c<l;c++)T=f[c],m[c]=(T[0]*(i+a-1)-a/2)*t+g,h[c]=T[1];(y||w.autocontour)&&(m[0]>o&&(m.unshift(o),h.unshift(h[0])),m[m.length-1]<p&&(m.push(p),h.push(h[h.length-1])))}return C.makeColorScaleFunc({domain:m,range:h},{noNumericCheck:!0})}},72424:function(H,U,e){var d=e(93252);H.exports=function(L){var w=L[0].z,v=w.length,g=w[0].length,r=v===2||g===2,t,i,a,u,f,l,m,h,T;for(i=0;i<v-1;i++)for(u=[],i===0&&(u=u.concat(d.BOTTOMSTART)),i===v-2&&(u=u.concat(d.TOPSTART)),t=0;t<g-1;t++)for(a=u.slice(),t===0&&(a=a.concat(d.LEFTSTART)),t===g-2&&(a=a.concat(d.RIGHTSTART)),f=t+","+i,l=[[w[i][t],w[i][t+1]],[w[i+1][t],w[i+1][t+1]]],T=0;T<L.length;T++)h=L[T],m=C(h.level,l),m&&(h.crossings[f]=m,a.indexOf(m)!==-1&&(h.starts.push([t,i]),r&&a.indexOf(m,a.indexOf(m)+1)!==-1&&h.starts.push([t,i])))};function C(n,L){var w=(L[0][0]>n?0:1)+(L[0][1]>n?0:2)+(L[1][1]>n?0:4)+(L[1][0]>n?0:8);if(w===5||w===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return n>v?w===5?713:1114:w===5?104:208}return w===15?0:w}},23676:function(H,U,e){var d=e(33428),C=e(3400),n=e(43616),L=e(8932),w=e(72736),v=e(54460),g=e(78344),r=e(41420),t=e(72424),i=e(88748),a=e(61512),u=e(82172),f=e(56008),l=e(93252),m=l.LABELOPTIMIZER;U.plot=function(y,E,M,s){var S=E.xaxis,b=E.yaxis;C.makeTraceGroups(s,M,"contour").each(function(I){var D=d.select(this),B=I[0],k=B.trace,F=B.x,N=B.y,O=k.contours,V=a(O,E,B),X=C.ensureSingle(D,"g","heatmapcoloring"),ee=[];O.coloring==="heatmap"&&(ee=[I]),r(y,E,ee,X),t(V),i(V);var ne=S.c2p(F[0],!0),q=S.c2p(F[F.length-1],!0),se=b.c2p(N[0],!0),J=b.c2p(N[N.length-1],!0),Z=[[ne,J],[q,J],[q,se],[ne,se]],te=V;O.type==="constraint"&&(te=u(V,O._operation)),h(D,Z,O),T(D,te,Z,O),o(D,V,y,B,O),x(D,E,y,B,Z)})};function h(_,y,E){var M=C.ensureSingle(_,"g","contourbg"),s=M.selectAll("path").data(E.coloring==="fill"?[0]:[]);s.enter().append("path"),s.exit().remove(),s.attr("d","M"+y.join("L")+"Z").style("stroke","none")}function T(_,y,E,M){var s=M.coloring==="fill"||M.type==="constraint"&&M._operation!=="=",S="M"+E.join("L")+"Z";s&&f(y,M);var b=C.ensureSingle(_,"g","contourfill"),I=b.selectAll("path").data(s?y:[]);I.enter().append("path"),I.exit().remove(),I.each(function(D){var B=(D.prefixBoundary?S:"")+c(D,E);B?d.select(this).attr("d",B).style("stroke","none"):d.select(this).remove()})}function c(_,y){var E="",M=0,s=_.edgepaths.map(function(ne,q){return q}),S=!0,b,I,D,B,k,F;function N(ne){return Math.abs(ne[1]-y[0][1])<.01}function O(ne){return Math.abs(ne[1]-y[2][1])<.01}function V(ne){return Math.abs(ne[0]-y[0][0])<.01}function X(ne){return Math.abs(ne[0]-y[2][0])<.01}for(;s.length;){for(F=n.smoothopen(_.edgepaths[M],_.smoothing),E+=S?F:F.replace(/^M/,"L"),s.splice(s.indexOf(M),1),b=_.edgepaths[M][_.edgepaths[M].length-1],B=-1,D=0;D<4;D++){if(!b){C.log("Missing end?",M,_);break}for(N(b)&&!X(b)?I=y[1]:V(b)?I=y[0]:O(b)?I=y[3]:X(b)&&(I=y[2]),k=0;k<_.edgepaths.length;k++){var ee=_.edgepaths[k][0];Math.abs(b[0]-I[0])<.01?Math.abs(b[0]-ee[0])<.01&&(ee[1]-b[1])*(I[1]-ee[1])>=0&&(I=ee,B=k):Math.abs(b[1]-I[1])<.01?Math.abs(b[1]-ee[1])<.01&&(ee[0]-b[0])*(I[0]-ee[0])>=0&&(I=ee,B=k):C.log("endpt to newendpt is not vert. or horz.",b,I,ee)}if(b=I,B>=0)break;E+="L"+I}if(B===_.edgepaths.length){C.log("unclosed perimeter path");break}M=B,S=s.indexOf(M)===-1,S&&(M=s[0],E+="Z")}for(M=0;M<_.paths.length;M++)E+=n.smoothclosed(_.paths[M],_.smoothing);return E}function o(_,y,E,M,s){var S=E._context.staticPlot,b=C.ensureSingle(_,"g","contourlines"),I=s.showlines!==!1,D=s.showlabels,B=I&&D,k=U.createLines(b,I||D,y,S),F=U.createLineClip(b,B,E,M.trace.uid),N=_.selectAll("g.contourlabels").data(D?[0]:[]);if(N.exit().remove(),N.enter().append("g").classed("contourlabels",!0),D){var O=[],V=[];C.clearLocationCache();var X=U.labelFormatter(E,M),ee=n.tester.append("text").attr("data-notex",1).call(n.font,s.labelfont),ne=y[0].xaxis,q=y[0].yaxis,se=ne._length,J=q._length,Z=ne.range,te=q.range,Y=C.aggNums(Math.min,null,M.x),ie=C.aggNums(Math.max,null,M.x),le=C.aggNums(Math.min,null,M.y),j=C.aggNums(Math.max,null,M.y),K=Math.max(ne.c2p(Y,!0),0),ue=Math.min(ne.c2p(ie,!0),se),ae=Math.max(q.c2p(j,!0),0),he=Math.min(q.c2p(le,!0),J),xe={};Z[0]<Z[1]?(xe.left=K,xe.right=ue):(xe.left=ue,xe.right=K),te[0]<te[1]?(xe.top=ae,xe.bottom=he):(xe.top=he,xe.bottom=ae),xe.middle=(xe.top+xe.bottom)/2,xe.center=(xe.left+xe.right)/2,O.push([[xe.left,xe.top],[xe.right,xe.top],[xe.right,xe.bottom],[xe.left,xe.bottom]]);var Se=Math.sqrt(se*se+J*J),Ae=l.LABELDISTANCE*Se/Math.max(1,y.length/l.LABELINCREASE);k.each(function(De){var we=U.calcTextOpts(De.level,X,ee,E);d.select(this).selectAll("path").each(function(){var Ce=this,be=C.getVisibleSegment(Ce,xe,we.height/2);if(be&&!(be.len<(we.width+we.height)*l.LABELMIN))for(var Pe=Math.min(Math.ceil(be.len/Ae),l.LABELMAX),Ve=0;Ve<Pe;Ve++){var Ge=U.findBestTextLocation(Ce,be,we,V,xe);if(!Ge)break;U.addLabelData(Ge,we,V,O)}})}),ee.remove(),U.drawLabels(N,V,E,F,B?O:null)}D&&!I&&k.remove()}U.createLines=function(_,y,E,M){var s=E[0].smoothing,S=_.selectAll("g.contourlevel").data(y?E:[]);if(S.exit().remove(),S.enter().append("g").classed("contourlevel",!0),y){var b=S.selectAll("path.openline").data(function(D){return D.pedgepaths||D.edgepaths});b.exit().remove(),b.enter().append("path").classed("openline",!0),b.attr("d",function(D){return n.smoothopen(D,s)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke");var I=S.selectAll("path.closedline").data(function(D){return D.ppaths||D.paths});I.exit().remove(),I.enter().append("path").classed("closedline",!0),I.attr("d",function(D){return n.smoothclosed(D,s)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke")}return S},U.createLineClip=function(_,y,E,M){var s=E._fullLayout._clips,S=y?"clipline"+M:null,b=s.selectAll("#"+S).data(y?[0]:[]);return b.exit().remove(),b.enter().append("clipPath").classed("contourlineclip",!0).attr("id",S),n.setClipUrl(_,S,E),b},U.labelFormatter=function(_,y){var E=_._fullLayout,M=y.trace,s=M.contours,S={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(s.labelformat)S.tickformat=s.labelformat,g(S,E);else{var b=L.extractOpts(M);if(b&&b.colorbar&&b.colorbar._axis)S=b.colorbar._axis;else{if(s.type==="constraint"){var I=s.value;C.isArrayOrTypedArray(I)?S.range=[I[0],I[I.length-1]]:S.range=[I,I]}else S.range=[s.start,s.end],S.nticks=(s.end-s.start)/s.size;S.range[0]===S.range[1]&&(S.range[1]+=S.range[0]||1),S.nticks||(S.nticks=1e3),g(S,E),v.prepTicks(S),S._tmin=null,S._tmax=null}}return function(D){return v.tickText(S,D).text}},U.calcTextOpts=function(_,y,E,M){var s=y(_);E.text(s).call(w.convertToTspans,M);var S=E.node(),b=n.bBox(S,!0);return{text:s,width:b.width,height:b.height,fontSize:+S.style["font-size"].replace("px",""),level:_,dy:(b.top+b.bottom)/2}},U.findBestTextLocation=function(_,y,E,M,s){var S=E.width,b,I,D,B,k;y.isClosed?(I=y.len/m.INITIALSEARCHPOINTS,b=y.min+I/2,D=y.max):(I=(y.len-S)/(m.INITIALSEARCHPOINTS+1),b=y.min+I+S/2,D=y.max-(I+S)/2);for(var F=1/0,N=0;N<m.ITERATIONS;N++){for(var O=b;O<D;O+=I){var V=C.getTextLocation(_,y.total,O,S),X=p(V,E,M,s);X<F&&(F=X,k=V,B=O)}if(F>m.MAXCOST*2)break;N&&(I/=2),b=B-I/2,D=b+I*1.5}if(F<=m.MAXCOST)return k};function p(_,y,E,M){var s=y.width/2,S=y.height/2,b=_.x,I=_.y,D=_.theta,B=Math.cos(D)*s,k=Math.sin(D)*s,F=(b>M.center?M.right-b:b-M.left)/(B+Math.abs(Math.sin(D)*S)),N=(I>M.middle?M.bottom-I:I-M.top)/(Math.abs(k)+Math.cos(D)*S);if(F<1||N<1)return 1/0;var O=m.EDGECOST*(1/(F-1)+1/(N-1));O+=m.ANGLECOST*D*D;for(var V=b-B,X=I-k,ee=b+B,ne=I+k,q=0;q<E.length;q++){var se=E[q],J=Math.cos(se.theta)*se.width/2,Z=Math.sin(se.theta)*se.width/2,te=C.segmentDistance(V,X,ee,ne,se.x-J,se.y-Z,se.x+J,se.y+Z)*2/(y.height+se.height),Y=se.level===y.level,ie=Y?m.SAMELEVELDISTANCE:1;if(te<=ie)return 1/0;var le=m.NEIGHBORCOST*(Y?m.SAMELEVELFACTOR:1);O+=le/(te-ie)}return O}U.addLabelData=function(_,y,E,M){var s=y.fontSize,S=y.width+s/3,b=Math.max(0,y.height-s/3),I=_.x,D=_.y,B=_.theta,k=Math.sin(B),F=Math.cos(B),N=function(V,X){return[I+V*F-X*k,D+V*k+X*F]},O=[N(-S/2,-b/2),N(-S/2,b/2),N(S/2,b/2),N(S/2,-b/2)];E.push({text:y.text,x:I,y:D,dy:y.dy,theta:B,level:y.level,width:S,height:b}),M.push(O)},U.drawLabels=function(_,y,E,M,s){var S=_.selectAll("text").data(y,function(B){return B.text+","+B.x+","+B.y+","+B.theta});if(S.exit().remove(),S.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(B){var k=B.x+Math.sin(B.theta)*B.dy,F=B.y-Math.cos(B.theta)*B.dy;d.select(this).text(B.text).attr({x:k,y:F,transform:"rotate("+180*B.theta/Math.PI+" "+k+" "+F+")"}).call(w.convertToTspans,E)}),s){for(var b="",I=0;I<s.length;I++)b+="M"+s[I].join("L")+"Z";var D=C.ensureSingle(M,"path","");D.attr("d",b)}};function x(_,y,E,M,s){var S=M.trace,b=E._fullLayout._clips,I="clip"+S.uid,D=b.selectAll("#"+I).data(S.connectgaps?[]:[0]);if(D.enter().append("clipPath").classed("contourclip",!0).attr("id",I),D.exit().remove(),S.connectgaps===!1){var B={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:y.xaxis,yaxis:y.yaxis,x:M.x,y:M.y,z:A(M),smoothing:0};t([B]),i([B]),f([B],{type:"levels"});var k=C.ensureSingle(D,"path","");k.attr("d",(B.prefixBoundary?"M"+s.join("L")+"Z":"")+c(B,s))}else I=null;n.setClipUrl(_,I,E)}function A(_){var y=_.trace._emptypoints,E=[],M=_.z.length,s=_.z[0].length,S,b=[],I;for(S=0;S<s;S++)b.push(1);for(S=0;S<M;S++)E.push(b.slice());for(S=0;S<y.length;S++)I=y[S],E[I[0]][I[1]]=0;return _.zmask=E,E}},54444:function(H,U,e){var d=e(54460),C=e(3400);H.exports=function(w,v){var g=w.contours;if(w.autocontour){var r=w.zmin,t=w.zmax;(w.zauto||r===void 0)&&(r=C.aggNums(Math.min,null,v)),(w.zauto||t===void 0)&&(t=C.aggNums(Math.max,null,v));var i=n(r,t,w.ncontours);g.size=i.dtick,g.start=d.tickFirst(i),i.range.reverse(),g.end=d.tickFirst(i),g.start===r&&(g.start+=g.size),g.end===t&&(g.end-=g.size),g.start>g.end&&(g.start=g.end=(g.start+g.end)/2),w._input.contours||(w._input.contours={}),C.extendFlat(w._input.contours,{start:g.start,end:g.end,size:g.size}),w._input.autocontour=!0}else if(g.type!=="constraint"){var a=g.start,u=g.end,f=w._input.contours;if(a>u&&(g.start=f.start=u,u=g.end=f.end=a,a=g.start),!(g.size>0)){var l;a===u?l=1:l=n(a,u,w.ncontours).dtick,f.size=g.size=l}}};function n(L,w,v){var g={type:"linear",range:[L,w]};return d.autoTicks(g,(w-L)/(v||15)),g}},52440:function(H,U,e){var d=e(33428),C=e(43616),n=e(41648),L=e(41076);H.exports=function(v){var g=d.select(v).selectAll("g.contour");g.style("opacity",function(r){return r[0].trace.opacity}),g.each(function(r){var t=d.select(this),i=r[0].trace,a=i.contours,u=i.line,f=a.size||1,l=a.start,m=a.type==="constraint",h=!m&&a.coloring==="lines",T=!m&&a.coloring==="fill",c=h||T?L(i):null;t.selectAll("g.contourlevel").each(function(x){d.select(this).selectAll("path").call(C.lineGroupStyle,u.width,h?c(x.level):u.color,u.dash)});var o=a.labelfont;if(t.selectAll("g.contourlabels text").each(function(x){C.font(d.select(this),{weight:o.weight,style:o.style,variant:o.variant,family:o.family,size:o.size,color:o.color||(h?c(x.level):u.color)})}),m)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(T){var p;t.selectAll("g.contourfill path").style("fill",function(x){return p===void 0&&(p=x.level),c(x.level+.5*f)}),p===void 0&&(p=l),t.selectAll("g.contourbg path").style("fill",c(p-.5*f))}}),n(v)}},97680:function(H,U,e){var d=e(27260),C=e(17428);H.exports=function(L,w,v,g,r){var t=v("contours.coloring"),i,a="";t==="fill"&&(i=v("contours.showlines")),i!==!1&&(t!=="lines"&&(a=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(L.showlegend!==!0&&(w.showlegend=!1),w._dfltShowLegend=!1,d(L,w,g,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),C(v,g,a,r)}},37960:function(H,U,e){var d=e(83328),C=e(67104),n=e(49084),L=e(92880).extendFlat,w=C.contours;H.exports=L({carpet:{valType:"string",editType:"calc"},z:d.z,a:d.x,a0:d.x0,da:d.dx,b:d.y,b0:d.y0,db:d.dy,text:d.text,hovertext:d.hovertext,transpose:d.transpose,atype:d.xtype,btype:d.ytype,fillcolor:C.fillcolor,autocontour:C.autocontour,ncontours:C.ncontours,contours:{type:w.type,start:w.start,end:w.end,size:w.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:w.showlines,showlabels:w.showlabels,labelfont:w.labelfont,labelformat:w.labelformat,operation:w.operation,value:w.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:C.line.color,width:C.line.width,dash:C.line.dash,smoothing:C.line.smoothing,editType:"plot"},zorder:C.zorder,transforms:void 0},n("",{cLetter:"z",autoColorDflt:!1}))},30572:function(H,U,e){var d=e(47128),C=e(3400),n=e(2872),L=e(26136),w=e(70448),v=e(11240),g=e(35744),r=e(3252),t=e(50948),i=e(54444);H.exports=function(f,l){var m=l._carpetTrace=t(f,l);if(!(!m||!m.visible||m.visible==="legendonly")){if(!l.a||!l.b){var h=f.data[m.index],T=f.data[l.index];T.a||(T.a=h.a),T.b||(T.b=h.b),r(T,l,l._defaultColor,f._fullLayout)}var c=a(f,l);return i(l,l._z),c}};function a(u,f){var l=f._carpetTrace,m=l.aaxis,h=l.baxis,T,c,o,p,x,A,_;m._minDtick=0,h._minDtick=0,C.isArray1D(f.z)&&n(f,m,h,"a","b",["z"]),T=f._a=f._a||f.a,p=f._b=f._b||f.b,T=T?m.makeCalcdata(f,"_a"):[],p=p?h.makeCalcdata(f,"_b"):[],c=f.a0||0,o=f.da||1,x=f.b0||0,A=f.db||1,_=f._z=L(f._z||f.z,f.transpose),f._emptypoints=v(_),w(_,f._emptypoints);var y=C.maxRowLength(_),E=f.xtype==="scaled"?"":T,M=g(f,E,c,o,y,m),s=f.ytype==="scaled"?"":p,S=g(f,s,x,A,_.length,h),b={a:M,b:S,z:_};return f.contours.type==="levels"&&f.contours.coloring!=="none"&&d(u,f,{vals:_,containerStr:"",cLetter:"z"}),[b]}},3252:function(H,U,e){var d=e(3400),C=e(51264),n=e(37960),L=e(95536),w=e(84952),v=e(97680);H.exports=function(r,t,i,a){function u(h,T){return d.coerce(r,t,n,h,T)}function f(h){return d.coerce2(r,t,n,h)}if(u("carpet"),r.a&&r.b){var l=C(r,t,u,a,"a","b");if(!l){t.visible=!1;return}u("text");var m=u("contours.type")==="constraint";m?L(r,t,u,a,i,{hasHover:!1}):(w(r,t,u,f),v(r,t,u,a,{hasHover:!1}))}else t._defaultColor=i,t._length=null;u("zorder")}},40448:function(H,U,e){H.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(H,U,e){var d=e(33428),C=e(87072),n=e(53416),L=e(43616),w=e(3400),v=e(72424),g=e(88748),r=e(23676),t=e(93252),i=e(82172),a=e(61512),u=e(56008),f=e(50948),l=e(77712);H.exports=function(E,M,s,S){var b=M.xaxis,I=M.yaxis;w.makeTraceGroups(S,s,"contour").each(function(D){var B=d.select(this),k=D[0],F=k.trace,N=F._carpetTrace=f(E,F),O=E.calcdata[N.index][0];if(!N.visible||N.visible==="legendonly")return;var V=k.a,X=k.b,ee=F.contours,ne=a(ee,M,k),q=ee.type==="constraint",se=ee._operation,J=q?se==="="?"lines":"fill":ee.coloring;function Z(Se){var Ae=N.ab2xy(Se[0],Se[1],!0);return[b.c2p(Ae[0]),I.c2p(Ae[1])]}var te=[[V[0],X[X.length-1]],[V[V.length-1],X[X.length-1]],[V[V.length-1],X[0]],[V[0],X[0]]];v(ne);var Y=(V[V.length-1]-V[0])*1e-8,ie=(X[X.length-1]-X[0])*1e-8;g(ne,Y,ie);var le=ne;ee.type==="constraint"&&(le=i(ne,se)),m(ne,Z);var j,K,ue,ae,he=[];for(ae=O.clipsegments.length-1;ae>=0;ae--)j=O.clipsegments[ae],K=C([],j.x,b.c2p),ue=C([],j.y,I.c2p),K.reverse(),ue.reverse(),he.push(n(K,ue,j.bicubic));var xe="M"+he.join("L")+"Z";x(B,O.clipsegments,b,I,q,J),A(F,B,b,I,le,te,Z,N,O,J,xe),h(B,ne,E,k,ee,M,N),L.setClipUrl(B,N._clipPathId,E)})};function m(y,E){var M,s,S,b,I,D,B,k,F;for(M=0;M<y.length;M++){for(b=y[M],I=b.pedgepaths=[],D=b.ppaths=[],s=0;s<b.edgepaths.length;s++){for(F=b.edgepaths[s],B=[],S=0;S<F.length;S++)B[S]=E(F[S]);I.push(B)}for(s=0;s<b.paths.length;s++){for(F=b.paths[s],k=[],S=0;S<F.length;S++)k[S]=E(F[S]);D.push(k)}}}function h(y,E,M,s,S,b,I){var D=M._context.staticPlot,B=w.ensureSingle(y,"g","contourlines"),k=S.showlines!==!1,F=S.showlabels,N=k&&F,O=r.createLines(B,k||F,E,D),V=r.createLineClip(B,N,M,s.trace.uid),X=y.selectAll("g.contourlabels").data(F?[0]:[]);if(X.exit().remove(),X.enter().append("g").classed("contourlabels",!0),F){var ee=b.xaxis,ne=b.yaxis,q=ee._length,se=ne._length,J=[[[0,0],[q,0],[q,se],[0,se]]],Z=[];w.clearLocationCache();var te=r.labelFormatter(M,s),Y=L.tester.append("text").attr("data-notex",1).call(L.font,S.labelfont),ie={left:0,right:q,center:q/2,top:0,bottom:se,middle:se/2},le=Math.sqrt(q*q+se*se),j=t.LABELDISTANCE*le/Math.max(1,E.length/t.LABELINCREASE);O.each(function(K){var ue=r.calcTextOpts(K.level,te,Y,M);d.select(this).selectAll("path").each(function(ae){var he=this,xe=w.getVisibleSegment(he,ie,ue.height/2);if(xe&&(T(he,ae,K,xe,I,ue.height),!(xe.len<(ue.width+ue.height)*t.LABELMIN)))for(var Se=Math.min(Math.ceil(xe.len/j),t.LABELMAX),Ae=0;Ae<Se;Ae++){var De=r.findBestTextLocation(he,xe,ue,Z,ie);if(!De)break;r.addLabelData(De,ue,Z,J)}})}),Y.remove(),r.drawLabels(X,Z,M,V,N?J:null)}F&&!k&&O.remove()}function T(y,E,M,s,S,b){for(var I,D=0;D<M.pedgepaths.length;D++)E===M.pedgepaths[D]&&(I=M.edgepaths[D]);if(!I)return;var B=S.a[0],k=S.a[S.a.length-1],F=S.b[0],N=S.b[S.b.length-1];function O(q,se){var J=0,Z,te=.1;return(Math.abs(q[0]-B)<te||Math.abs(q[0]-k)<te)&&(Z=o(S.dxydb_rough(q[0],q[1],te)),J=Math.max(J,b*p(se,Z)/2)),(Math.abs(q[1]-F)<te||Math.abs(q[1]-N)<te)&&(Z=o(S.dxyda_rough(q[0],q[1],te)),J=Math.max(J,b*p(se,Z)/2)),J}var V=c(y,0,1),X=c(y,s.total,s.total-1),ee=O(I[0],V),ne=s.total-O(I[I.length-1],X);s.min<ee&&(s.min=ee),s.max>ne&&(s.max=ne),s.len=s.max-s.min}function c(y,E,M){var s=y.getPointAtLength(E),S=y.getPointAtLength(M),b=S.x-s.x,I=S.y-s.y,D=Math.sqrt(b*b+I*I);return[b/D,I/D]}function o(y){var E=Math.sqrt(y[0]*y[0]+y[1]*y[1]);return[y[0]/E,y[1]/E]}function p(y,E){var M=Math.abs(y[0]*E[0]+y[1]*E[1]),s=Math.sqrt(1-M*M);return s/M}function x(y,E,M,s,S,b){var I,D,B,k,F=w.ensureSingle(y,"g","contourbg"),N=F.selectAll("path").data(b==="fill"&&!S?[0]:[]);N.enter().append("path"),N.exit().remove();var O=[];for(k=0;k<E.length;k++)I=E[k],D=C([],I.x,M.c2p),B=C([],I.y,s.c2p),O.push(n(D,B,I.bicubic));N.attr("d","M"+O.join("L")+"Z").style("stroke","none")}function A(y,E,M,s,S,b,I,D,B,k,F){var N=k==="fill";N&&u(S,y.contours);var O=w.ensureSingle(E,"g","contourfill"),V=O.selectAll("path").data(N?S:[]);V.enter().append("path"),V.exit().remove(),V.each(function(X){var ee=(X.prefixBoundary?F:"")+_(y,X,b,I,D,B,M,s);ee?d.select(this).attr("d",ee).style("stroke","none"):d.select(this).remove()})}function _(y,E,M,s,S,b,I,D){var B,k="",F=E.edgepaths.map(function(ue,ae){return ae}),N=!0,O,V,X,ee,ne,q,se=Math.abs(M[0][0]-M[2][0])*1e-4,J=Math.abs(M[0][1]-M[2][1])*1e-4;function Z(ue){return Math.abs(ue[1]-M[0][1])<J}function te(ue){return Math.abs(ue[1]-M[2][1])<J}function Y(ue){return Math.abs(ue[0]-M[0][0])<se}function ie(ue){return Math.abs(ue[0]-M[2][0])<se}function le(ue,ae){var he,xe,Se,Ae,De="";for(Z(ue)&&!ie(ue)||te(ue)&&!Y(ue)?(Ae=S.aaxis,Se=l(S,b,[ue[0],ae[0]],.5*(ue[1]+ae[1]))):(Ae=S.baxis,Se=l(S,b,.5*(ue[0]+ae[0]),[ue[1],ae[1]])),he=1;he<Se.length;he++)for(De+=Ae.smoothing?"C":"L",xe=0;xe<Se[he].length;xe++){var we=Se[he][xe];De+=[I.c2p(we[0]),D.c2p(we[1])]+" "}return De}for(B=0,O=null;F.length;){var j=E.edgepaths[B][0];for(O&&(k+=le(O,j)),q=L.smoothopen(E.edgepaths[B].map(s),E.smoothing),k+=N?q:q.replace(/^M/,"L"),F.splice(F.indexOf(B),1),O=E.edgepaths[B][E.edgepaths[B].length-1],ee=-1,X=0;X<4;X++){if(!O){w.log("Missing end?",B,E);break}for(Z(O)&&!ie(O)?V=M[1]:Y(O)?V=M[0]:te(O)?V=M[3]:ie(O)&&(V=M[2]),ne=0;ne<E.edgepaths.length;ne++){var K=E.edgepaths[ne][0];Math.abs(O[0]-V[0])<se?Math.abs(O[0]-K[0])<se&&(K[1]-O[1])*(V[1]-K[1])>=0&&(V=K,ee=ne):Math.abs(O[1]-V[1])<J?Math.abs(O[1]-K[1])<J&&(K[0]-O[0])*(V[0]-K[0])>=0&&(V=K,ee=ne):w.log("endpt to newendpt is not vert. or horz.",O,V,K)}if(ee>=0)break;k+=le(O,V),O=V}if(ee===E.edgepaths.length){w.log("unclosed perimeter path");break}B=ee,N=F.indexOf(B)===-1,N&&(B=F[0],k+=le(O,V)+"Z",O=null)}for(B=0;B<E.paths.length;B++)k+=L.smoothclosed(E.paths[B].map(s),E.smoothing);return k}},33928:function(H,U,e){var d=e(49084),C=e(21776).Ks,n=e(45464),L=e(31512),w=e(92880).extendFlat;H.exports=w({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:w({},n.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:C(),showlegend:w({},n.showlegend,{dflt:!1})},d("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(H,U,e){var d=e(38248),C=e(3400).isArrayOrTypedArray,n=e(39032).BADNUM,L=e(47128),w=e(3400)._;H.exports=function(g,r){for(var t=r._length,i=new Array(t),a=r.z,u=C(a)&&a.length,f=0;f<t;f++){var l=i[f]={},m=r.lon[f],h=r.lat[f];if(l.lonlat=d(m)&&d(h)?[+m,+h]:[n,n],u){var T=a[f];l.z=d(T)?T:n}}return L(g,r,{vals:u?a:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:w(g,"lat:")+" ",lon:w(g,"lon:")+" "}}),i}},4629:function(H,U,e){var d=e(38248),C=e(3400),n=e(76308),L=e(8932),w=e(39032).BADNUM,v=e(44808).makeBlank;H.exports=function(r){var t=r[0].trace,i=t.visible===!0&&t._length!==0,a={layout:{visibility:"none"},paint:{}},u=t._opts={heatmap:a,geojson:v()};if(!i)return u;var f=[],l,m=t.z,h=t.radius,T=C.isArrayOrTypedArray(m)&&m.length,c=C.isArrayOrTypedArray(h);for(l=0;l<r.length;l++){var o=r[l],p=o.lonlat;if(p[0]!==w){var x={};if(T){var A=o.z;x.z=A!==w?A:0}c&&(x.r=d(h[l])&&h[l]>0?+h[l]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:p},properties:x})}}var _=L.extractOpts(t),y=_.reversescale?L.flipScale(_.colorscale):_.colorscale,E=y[0][1],M=n.opacity(E)<1?E:n.addOpacity(E,0),s=["interpolate",["linear"],["heatmap-density"],0,M];for(l=1;l<y.length;l++)s.push(y[l][0],y[l][1]);var S=["interpolate",["linear"],["get","z"],_.min,0,_.max,1];return C.extendFlat(u.heatmap.paint,{"heatmap-weight":T?S:1/(_.max-_.min),"heatmap-color":s,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),u.geojson={type:"FeatureCollection",features:f},u.heatmap.layout.visibility="visible",u}},97664:function(H,U,e){var d=e(3400),C=e(27260),n=e(33928);H.exports=function(w,v,g,r){function t(f,l){return d.coerce(w,v,n,f,l)}var i=t("lon")||[],a=t("lat")||[],u=Math.min(i.length,a.length);if(!u){v.visible=!1;return}v._length=u,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),C(w,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(H){H.exports=function(e,d){return e.lon=d.lon,e.lat=d.lat,e.z=d.z,e}},25336:function(H,U,e){var d=e(54460),C=e(63312).hoverPoints,n=e(63312).getExtraText;H.exports=function(w,v,g){var r=C(w,v,g);if(r){var t=r[0],i=t.cd,a=i[0].trace,u=i[t.index];if(delete t.color,"z"in u){var f=t.subplot.mockAxis;t.z=u.z,t.zLabel=d.tickText(f,f.c2l(u.z),"hover").text}return t.extraText=n(a,u,i[0].t.labels),[t]}}},15088:function(H,U,e){H.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(d,C){for(var n=C.getMapLayers(),L=0;L<n.length;L++){var w=n[L],v=w.id;if(w.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(H,U,e){var d=e(4629),C=e(47552).traceLayerPrefix;function n(w,v){this.type="densitymapbox",this.subplot=w,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",C+v+"-heatmap"]],this.below=null}var L=n.prototype;L.update=function(w){var v=this.subplot,g=this.layerList,r=d(w),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var i=0;i<g.length;i++){var a=g[i],u=a[0],f=a[1],l=r[u];v.setOptions(f,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(f,"setPaintProperty",l.paint)}},L._addLayers=function(w,v){for(var g=this.subplot,r=this.layerList,t=this.sourceId,i=0;i<r.length;i++){var a=r[i],u=a[0],f=w[u];g.addLayer({type:u,id:a[1],source:t,layout:f.layout,paint:f.paint},v)}},L._removeLayers=function(){for(var w=this.subplot.map,v=this.layerList,g=v.length-1;g>=0;g--)w.removeLayer(v[g][1])},L.dispose=function(){var w=this.subplot.map;this._removeLayers(),w.removeSource(this.sourceId)},H.exports=function(v,g){var r=g[0].trace,t=new n(v,r.uid),i=t.sourceId,a=d(g),u=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(i,{type:"geojson",data:a.geojson}),t._addLayers(a,u),t}},74248:function(H,U,e){var d=e(3400);H.exports=function(n,L){for(var w=0;w<n.length;w++)n[w].i=w;d.mergeArray(L.text,n,"tx"),d.mergeArray(L.hovertext,n,"htx");var v=L.marker;if(v){d.mergeArray(v.opacity,n,"mo"),d.mergeArray(v.color,n,"mc");var g=v.line;g&&(d.mergeArray(g.color,n,"mlc"),d.mergeArrayCastPositive(g.width,n,"mlw"))}}},20088:function(H,U,e){var d=e(20832),C=e(52904).line,n=e(45464),L=e(29736).axisHoverFormat,w=e(21776).Ks,v=e(21776).Gw,g=e(74732),r=e(92880).extendFlat,t=e(76308);H.exports={x:d.x,x0:d.x0,dx:d.dx,y:d.y,y0:d.y0,dy:d.dy,xperiod:d.xperiod,yperiod:d.yperiod,xperiod0:d.xperiod0,yperiod0:d.yperiod0,xperiodalignment:d.xperiodalignment,yperiodalignment:d.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:d.hovertext,hovertemplate:w({},{keys:g.eventDataKeys}),hoverinfo:r({},n.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),text:d.text,textposition:d.textposition,insidetextanchor:r({},d.insidetextanchor,{dflt:"middle"}),textangle:r({},d.textangle,{dflt:0}),textfont:d.textfont,insidetextfont:d.insidetextfont,outsidetextfont:d.outsidetextfont,constraintext:d.constraintext,cliponaxis:d.cliponaxis,orientation:r({},d.orientation,{}),offset:r({},d.offset,{arrayOk:!1}),width:r({},d.width,{arrayOk:!1}),marker:i(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},C.color,{dflt:t.defaultLine}),width:r({},C.width,{dflt:0,editType:"plot"}),dash:C.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:d.offsetgroup,alignmentgroup:d.alignmentgroup,zorder:d.zorder};function i(){var a=r({},d.marker);return delete a.pattern,delete a.cornerradius,a}},23096:function(H,U,e){var d=e(54460),C=e(1220),n=e(74248),L=e(4500),w=e(39032).BADNUM;H.exports=function(r,t){var i=d.getFromId(r,t.xaxis||"x"),a=d.getFromId(r,t.yaxis||"y"),u,f,l,m,h,T,c,o;t.orientation==="h"?(u=i.makeCalcdata(t,"x"),l=a.makeCalcdata(t,"y"),m=C(t,a,"y",l),h=!!t.yperiodalignment,T="y"):(u=a.makeCalcdata(t,"y"),l=i.makeCalcdata(t,"x"),m=C(t,i,"x",l),h=!!t.xperiodalignment,T="x"),f=m.vals;var p=Math.min(f.length,u.length),x=new Array(p);for(t._base=[],c=0;c<p;c++){u[c]<0&&(u[c]=w);var A=!1;u[c]!==w&&c+1<p&&u[c+1]!==w&&(A=!0),o=x[c]={p:f[c],s:u[c],cNext:A},t._base[c]=-.5*o.s,h&&(x[c].orig_p=l[c],x[c][T+"End"]=m.ends[c],x[c][T+"Start"]=m.starts[c]),t.ids&&(o.id=String(t.ids[c])),c===0&&(x[0].vTotal=0),x[0].vTotal+=v(o.s),o.begR=v(o.s)/v(x[0].s)}var _;for(c=0;c<p;c++)o=x[c],o.s!==w&&(o.sumR=o.s/x[0].vTotal,o.difR=_!==void 0?o.s/_:1,_=o.s);return n(x,t),L(x,t),x};function v(g){return g===w?0:g}},74732:function(H){H.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(H,U,e){var d=e(96376).setGroupPositions;H.exports=function(n,L){var w=n._fullLayout,v=n._fullData,g=n.calcdata,r=L.xaxis,t=L.yaxis,i=[],a=[],u=[],f,l;for(l=0;l<v.length;l++){var m=v[l],h=m.orientation==="h";m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="funnel"&&(f=g[l],h?u.push(f):a.push(f),i.push(f))}var T={mode:w.funnelmode,norm:w.funnelnorm,gap:w.funnelgap,groupgap:w.funnelgroupgap};for(d(n,r,t,a,T),d(n,t,r,u,T),l=0;l<i.length;l++){f=i[l];for(var c=0;c<f.length;c++)c+1<f.length&&(f[c].nextP0=f[c+1].p0,f[c].nextS0=f[c+1].s0,f[c].nextP1=f[c+1].p1,f[c].nextS1=f[c+1].s1)}}},45432:function(H,U,e){var d=e(3400),C=e(20011),n=e(31508).handleText,L=e(43980),w=e(31147),v=e(20088),g=e(76308);function r(a,u,f,l){function m(A,_){return d.coerce(a,u,v,A,_)}var h=L(a,u,l,m);if(!h){u.visible=!1;return}w(a,u,l,m),m("xhoverformat"),m("yhoverformat"),m("orientation",u.y&&!u.x?"v":"h"),m("offset"),m("width");var T=m("text");m("hovertext"),m("hovertemplate");var c=m("textposition");n(a,u,l,m,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u.textposition!=="none"&&!u.texttemplate&&m("textinfo",d.isArrayOrTypedArray(T)?"text+value":"value");var o=m("marker.color",f);m("marker.line.color",g.defaultLine),m("marker.line.width");var p=m("connector.visible");if(p){m("connector.fillcolor",t(o));var x=m("connector.line.width");x&&(m("connector.line.color"),m("connector.line.dash"))}m("zorder")}function t(a){var u=d.isArrayOrTypedArray(a)?"#000":a;return g.addOpacity(u,.5*g.opacity(u))}function i(a,u){var f,l;function m(T){return d.coerce(l._input,l,v,T)}if(u.funnelmode==="group")for(var h=0;h<a.length;h++)l=a[h],f=l._input,C(f,l,u,m)}H.exports={supplyDefaults:r,crossTraceDefaults:i}},34580:function(H){H.exports=function(e,d){return e.x="xVal"in d?d.xVal:d.x,e.y="yVal"in d?d.yVal:d.y,"percentInitial"in d&&(e.percentInitial=d.percentInitial),"percentPrevious"in d&&(e.percentPrevious=d.percentPrevious),"percentTotal"in d&&(e.percentTotal=d.percentTotal),d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),e}},31488:function(H,U,e){var d=e(76308).opacity,C=e(63400).hoverOnBars,n=e(3400).formatPercent;H.exports=function(v,g,r,t,i){var a=C(v,g,r,t,i);if(a){var u=a.cd,f=u[0].trace,l=f.orientation==="h",m=a.index,h=u[m],T=l?"x":"y";a[T+"LabelVal"]=h.s,a.percentInitial=h.begR,a.percentInitialLabel=n(h.begR,1),a.percentPrevious=h.difR,a.percentPreviousLabel=n(h.difR,1),a.percentTotal=h.sumR,a.percentTotalLabel=n(h.sumR,1);var c=h.hi||f.hoverinfo,o=[];if(c&&c!=="none"&&c!=="skip"){var p=c==="all",x=c.split("+"),A=function(_){return p||x.indexOf(_)!==-1};A("percent initial")&&o.push(a.percentInitialLabel+" of initial"),A("percent previous")&&o.push(a.percentPreviousLabel+" of previous"),A("percent total")&&o.push(a.percentTotalLabel+" of total")}return a.extraText=o.join("<br>"),a.color=L(f,h),[a]}};function L(w,v){var g=w.marker,r=v.mc||g.color,t=v.mlc||g.line.color,i=v.mlw||g.line.width;if(d(r))return r;if(d(t)&&i)return t}},94704:function(H,U,e){H.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(H){H.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(H,U,e){var d=e(3400),C=e(7076);H.exports=function(n,L,w){var v=!1;function g(i,a){return d.coerce(n,L,C,i,a)}for(var r=0;r<w.length;r++){var t=w[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(g("funnelmode"),g("funnelgap",.2),g("funnelgroupgap"))}},42200:function(H,U,e){var d=e(33428),C=e(3400),n=e(43616),L=e(39032).BADNUM,w=e(98184),v=e(82744).clearMinTextSize;H.exports=function(a,u,f,l){var m=a._fullLayout;v("funnel",m),g(a,u,f,l),r(a,u,f,l),w.plot(a,u,f,l,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function g(i,a,u,f){var l=a.xaxis,m=a.yaxis;C.makeTraceGroups(f,u,"trace bars").each(function(h){var T=d.select(this),c=h[0].trace,o=C.ensureSingle(T,"g","regions");if(!c.connector||!c.connector.visible){o.remove();return}var p=c.orientation==="h",x=o.selectAll("g.region").data(C.identity);x.enter().append("g").classed("region",!0),x.exit().remove();var A=x.size();x.each(function(_,y){if(!(y!==A-1&&!_.cNext)){var E=t(_,l,m,p),M=E[0],s=E[1],S="";M[0]!==L&&s[0]!==L&&M[1]!==L&&s[1]!==L&&M[2]!==L&&s[2]!==L&&M[3]!==L&&s[3]!==L&&(p?S+="M"+M[0]+","+s[1]+"L"+M[2]+","+s[2]+"H"+M[3]+"L"+M[1]+","+s[1]+"Z":S+="M"+M[1]+","+s[1]+"L"+M[2]+","+s[3]+"V"+s[2]+"L"+M[1]+","+s[0]+"Z"),S===""&&(S="M0,0Z"),C.ensureSingle(d.select(this),"path").attr("d",S).call(n.setClipUrl,a.layerClipId,i)}})})}function r(i,a,u,f){var l=a.xaxis,m=a.yaxis;C.makeTraceGroups(f,u,"trace bars").each(function(h){var T=d.select(this),c=h[0].trace,o=C.ensureSingle(T,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){o.remove();return}var p=c.orientation==="h",x=o.selectAll("g.line").data(C.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var A=x.size();x.each(function(_,y){if(!(y!==A-1&&!_.cNext)){var E=t(_,l,m,p),M=E[0],s=E[1],S="";M[3]!==void 0&&s[3]!==void 0&&(p?(S+="M"+M[0]+","+s[1]+"L"+M[2]+","+s[2],S+="M"+M[1]+","+s[1]+"L"+M[3]+","+s[2]):(S+="M"+M[1]+","+s[1]+"L"+M[2]+","+s[3],S+="M"+M[1]+","+s[0]+"L"+M[2]+","+s[2])),S===""&&(S="M0,0Z"),C.ensureSingle(d.select(this),"path").attr("d",S).call(n.setClipUrl,a.layerClipId,i)}})})}function t(i,a,u,f){var l=[],m=[],h=f?a:u,T=f?u:a;return l[0]=h.c2p(i.s0,!0),m[0]=T.c2p(i.p0,!0),l[1]=h.c2p(i.s1,!0),m[1]=T.c2p(i.p1,!0),l[2]=h.c2p(i.nextS0,!0),m[2]=T.c2p(i.nextP0,!0),l[3]=h.c2p(i.nextS1,!0),m[3]=T.c2p(i.nextP1,!0),f?[l,m]:[m,l]}},44544:function(H,U,e){var d=e(33428),C=e(43616),n=e(76308),L=e(13448).DESELECTDIM,w=e(60100),v=e(82744).resizeText,g=w.styleTextPoints;function r(t,i,a){var u=a||d.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(t,u,"funnel"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var l=d.select(this),m=f[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=m.marker;d.select(this).call(n.fill,h.mc||T.color).call(n.stroke,h.mlc||T.line.color).call(C.dashLine,T.line.dash,h.mlw||T.line.width).style("opacity",m.selectedpoints&&!h.selected?L:1)}}),g(l,m,t),l.selectAll(".regions").each(function(){d.select(this).selectAll("path").style("stroke-width",0).call(n.fill,m.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=m.connector.line;C.lineGroupStyle(d.select(this).selectAll("path"),h.width,h.color,h.dash)})})}H.exports={style:r}},22332:function(H,U,e){var d=e(74996),C=e(45464),n=e(86968).u,L=e(21776).Ks,w=e(21776).Gw,v=e(92880).extendFlat;H.exports={labels:d.labels,label0:d.label0,dlabel:d.dlabel,values:d.values,marker:{colors:d.marker.colors,line:{color:v({},d.marker.line.color,{dflt:null}),width:v({},d.marker.line.width,{dflt:1}),editType:"calc"},pattern:d.marker.pattern,editType:"calc"},text:d.text,hovertext:d.hovertext,scalegroup:v({},d.scalegroup,{}),textinfo:v({},d.textinfo,{flags:["label","text","value","percent"]}),texttemplate:w({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},C.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},d.textposition,{values:["inside","none"],dflt:"inside"}),textfont:d.textfont,insidetextfont:d.insidetextfont,title:{text:d.title.text,font:d.title.font,position:v({},d.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:n({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(H,U,e){var d=e(7316);U.name="funnelarea",U.plot=function(C,n,L,w){d.plotBasePlot(U.name,C,n,L,w)},U.clean=function(C,n,L,w){d.cleanBasePlot(U.name,C,n,L,w)}},54e3:function(H,U,e){var d=e(45768);function C(L,w){return d.calc(L,w)}function n(L){d.crossTraceCalc(L,{type:"funnelarea"})}H.exports={calc:C,crossTraceCalc:n}},92688:function(H,U,e){var d=e(3400),C=e(22332),n=e(86968).Q,L=e(31508).handleText,w=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;H.exports=function(r,t,i,a){function u(A,_){return d.coerce(r,t,C,A,_)}var f=u("labels"),l=u("values"),m=w(f,l),h=m.len;if(t._hasLabels=m.hasLabels,t._hasValues=m.hasValues,!t._hasLabels&&t._hasValues&&(u("label0"),u("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,a,u),u("scalegroup");var T=u("text"),c=u("texttemplate"),o;if(c||(o=u("textinfo",Array.isArray(T)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),c||o&&o!=="none"){var p=u("textposition");L(r,t,a,u,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else o==="none"&&u("textposition","none");n(t,a,u);var x=u("title.text");x&&(u("title.position"),d.coerceFont(u,"title.font",a.font)),u("aspectratio"),u("baseratio")}},62396:function(H,U,e){H.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(H,U,e){var d=e(85204).hiddenlabels;H.exports={hiddenlabels:d,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(H,U,e){var d=e(3400),C=e(61280);H.exports=function(L,w){function v(g,r){return d.coerce(L,w,C,g,r)}v("hiddenlabels"),v("funnelareacolorway",w.colorway),v("extendfunnelareacolors")}},39472:function(H,U,e){var d=e(33428),C=e(43616),n=e(3400),L=n.strScale,w=n.strTranslate,v=e(72736),g=e(98184),r=g.toMoveInsideBar,t=e(82744),i=t.recordMinTextSize,a=t.clearMinTextSize,u=e(69656),f=e(37820),l=f.attachFxHandlers,m=f.determineInsideTextFont,h=f.layoutAreas,T=f.prerenderTitles,c=f.positionTitleOutside,o=f.formatSliceLabel;H.exports=function(y,E){var M=y._context.staticPlot,s=y._fullLayout;a("funnelarea",s),T(E,y),h(E,s._size),n.makeTraceGroups(s._funnelarealayer,E,"trace").each(function(S){var b=d.select(this),I=S[0],D=I.trace;A(S),b.each(function(){var B=d.select(this).selectAll("g.slice").data(S);B.enter().append("g").classed("slice",!0),B.exit().remove(),B.each(function(F,N){if(F.hidden){d.select(this).selectAll("path,g").remove();return}F.pointNumber=F.i,F.curveNumber=D.index;var O=I.cx,V=I.cy,X=d.select(this),ee=X.selectAll("path.surface").data([F]);ee.enter().append("path").classed("surface",!0).style({"pointer-events":M?"none":"all"}),X.call(l,y,S);var ne="M"+(O+F.TR[0])+","+(V+F.TR[1])+p(F.TR,F.BR)+p(F.BR,F.BL)+p(F.BL,F.TL)+"Z";ee.attr("d",ne),o(y,F,I);var q=u.castOption(D.textposition,F.pts),se=X.selectAll("g.slicetext").data(F.text&&q!=="none"?[0]:[]);se.enter().append("g").classed("slicetext",!0),se.exit().remove(),se.each(function(){var J=n.ensureSingle(d.select(this),"text","",function(ue){ue.attr("data-notex",1)}),Z=n.ensureUniformFontSize(y,m(D,F,s.font));J.text(F.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(C.font,Z).call(v.convertToTspans,y);var te=C.bBox(J.node()),Y,ie,le,j=Math.min(F.BL[1],F.BR[1])+V,K=Math.max(F.TL[1],F.TR[1])+V;ie=Math.max(F.TL[0],F.BL[0])+O,le=Math.min(F.TR[0],F.BR[0])+O,Y=r(ie,le,j,K,te,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),Y.fontSize=Z.size,i(D.type,Y,s),S[N].transform=Y,n.setTransormAndDisplay(J,Y)})});var k=d.select(this).selectAll("g.titletext").data(D.title.text?[0]:[]);k.enter().append("g").classed("titletext",!0),k.exit().remove(),k.each(function(){var F=n.ensureSingle(d.select(this),"text","",function(V){V.attr("data-notex",1)}),N=D.title.text;D._meta&&(N=n.templateString(N,D._meta)),F.text(N).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(C.font,D.title.font).call(v.convertToTspans,y);var O=c(I,s._size);F.attr("transform",w(O.x,O.y)+L(Math.min(1,O.scale))+w(O.tx,O.ty))})})})};function p(_,y){var E=y[0]-_[0],M=y[1]-_[1];return"l"+E+","+M}function x(_,y){return[.5*(_[0]+y[0]),.5*(_[1]+y[1])]}function A(_){if(!_.length)return;var y=_[0],E=y.trace,M=E.aspectratio,s=E.baseratio;s>.999&&(s=.999);var S=Math.pow(s,2),b=y.vTotal,I=b*S/(1-S),D=b,B=I/b;function k(){var ae=Math.sqrt(B);return{x:ae,y:-ae}}function F(){var ae=k();return[ae.x,ae.y]}var N,O=[];O.push(F());var V,X;for(V=_.length-1;V>-1;V--)if(X=_[V],!X.hidden){var ee=X.v/D;B+=ee,O.push(F())}var ne=1/0,q=-1/0;for(V=0;V<O.length;V++)N=O[V],ne=Math.min(ne,N[1]),q=Math.max(q,N[1]);for(V=0;V<O.length;V++)O[V][1]-=(q+ne)/2;var se=O[O.length-1][0],J=y.r,Z=(q-ne)/2,te=J/se,Y=J/Z*M;for(y.r=Y*Z,V=0;V<O.length;V++)O[V][0]*=te,O[V][1]*=Y;N=O[0];var ie=[-N[0],N[1]],le=[N[0],N[1]],j=0;for(V=_.length-1;V>-1;V--)if(X=_[V],!X.hidden){j+=1;var K=O[j][0],ue=O[j][1];X.TL=[-K,ue],X.TR=[K,ue],X.BL=ie,X.BR=le,X.pxmid=x(X.TR,X.BR),ie=X.TL,le=X.TR}}},62096:function(H,U,e){var d=e(33428),C=e(10528),n=e(82744).resizeText;H.exports=function(w){var v=w._fullLayout._funnelarealayer.selectAll(".trace");n(w,v,"funnelarea"),v.each(function(g){var r=g[0],t=r.trace,i=d.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(a){d.select(this).call(C,a,t,w)})})}},83328:function(H,U,e){var d=e(52904),C=e(45464),n=e(25376),L=e(29736).axisHoverFormat,w=e(21776).Ks,v=e(21776).Gw,g=e(49084),r=e(92880).extendFlat;H.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},d.x,{impliedEdits:{xtype:"array"}}),x0:r({},d.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},d.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},d.y,{impliedEdits:{ytype:"array"}}),y0:r({},d.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},d.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},d.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},d.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},d.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},d.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},d.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},d.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:w(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:n({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},C.showlegend,{dflt:!1}),zorder:d.zorder},{transforms:void 0},g("",{cLetter:"z",autoColorDflt:!1}))},19512:function(H,U,e){var d=e(24040),C=e(3400),n=e(54460),L=e(1220),w=e(55480),v=e(47128),g=e(2872),r=e(26136),t=e(70448),i=e(11240),a=e(35744),u=e(39032).BADNUM;H.exports=function(h,T){var c=n.getFromId(h,T.xaxis||"x"),o=n.getFromId(h,T.yaxis||"y"),p=d.traceIs(T,"contour"),x=d.traceIs(T,"histogram"),A=d.traceIs(T,"gl2d"),_=p?"best":T.zsmooth,y,E,M,s,S,b,I,D,B,k,F;if(c._minDtick=0,o._minDtick=0,x)F=w(h,T),s=F.orig_x,y=F.x,E=F.x0,M=F.dx,D=F.orig_y,S=F.y,b=F.y0,I=F.dy,B=F.z;else{var N=T.z;C.isArray1D(N)?(g(T,c,o,"x","y",["z"]),y=T._x,S=T._y,N=T._z):(s=T.x?c.makeCalcdata(T,"x"):[],D=T.y?o.makeCalcdata(T,"y"):[],y=L(T,c,"x",s).vals,S=L(T,o,"y",D).vals,T._x=y,T._y=S),E=T.x0,M=T.dx,b=T.y0,I=T.dy,B=r(N,T,c,o)}(c.rangebreaks||o.rangebreaks)&&(B=l(y,S,B),x||(y=f(y),S=f(S),T._x=y,T._y=S)),!x&&(p||T.connectgaps)&&(T._emptypoints=i(B),t(B,T._emptypoints));function O(te){_=T._input.zsmooth=T.zsmooth=!1,C.warn('cannot use zsmooth: "fast": '+te)}function V(te){if(te.length>1){var Y=(te[te.length-1]-te[0])/(te.length-1),ie=Math.abs(Y/100);for(k=0;k<te.length-1;k++)if(Math.abs(te[k+1]-te[k]-Y)>ie)return!1}return!0}T._islinear=!1,c.type==="log"||o.type==="log"?_==="fast"&&O("log axis found"):V(y)?V(S)?T._islinear=!0:_==="fast"&&O("y scale is not linear"):_==="fast"&&O("x scale is not linear");var X=C.maxRowLength(B),ee=T.xtype==="scaled"?"":y,ne=a(T,ee,E,M,X,c),q=T.ytype==="scaled"?"":S,se=a(T,q,b,I,B.length,o);A||(T._extremes[c._id]=n.findExtremes(c,ne),T._extremes[o._id]=n.findExtremes(o,se));var J={x:ne,y:se,z:B,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&s&&(J.orig_x=s),T.yperiodalignment&&D&&(J.orig_y=D),ee&&ee.length===ne.length-1&&(J.xCenter=ee),q&&q.length===se.length-1&&(J.yCenter=q),x&&(J.xRanges=F.xRanges,J.yRanges=F.yRanges,J.pts=F.pts),p||v(h,T,{vals:B,cLetter:"z"}),p&&T.contours&&T.contours.coloring==="heatmap"){var Z={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};J.xfill=a(Z,ee,E,M,X,c),J.yfill=a(Z,q,b,I,B.length,o)}return[J]};function f(m){for(var h=[],T=m.length,c=0;c<T;c++){var o=m[c];o!==u&&h.push(o)}return h}function l(m,h,T){for(var c=[],o=-1,p=0;p<T.length;p++)if(h[p]!==u){o++,c[o]=[];for(var x=0;x<T[p].length;x++)m[x]!==u&&c[o].push(T[p][x])}return c}},26136:function(H,U,e){var d=e(38248),C=e(3400),n=e(39032).BADNUM;H.exports=function(w,v,g,r){var t,i,a,u,f,l;function m(x){if(d(x))return+x}if(v&&v.transpose){for(t=0,f=0;f<w.length;f++)t=Math.max(t,w[f].length);if(t===0)return!1;a=function(x){return x.length},u=function(x,A,_){return(x[_]||[])[A]}}else t=w.length,a=function(x,A){return x[A].length},u=function(x,A,_){return(x[A]||[])[_]};var h=function(x,A,_){return A===n||_===n?n:u(x,A,_)};function T(x){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&x&&x.type==="category"&&v["_"+x._id.charAt(0)].length){var A=x._id.charAt(0),_={},y=v["_"+A+"CategoryMap"]||v[A];for(f=0;f<y.length;f++)_[y[f]]=f;return function(E){var M=_[x._categories[E]];return M+1?M:n}}else return C.identity}var c=T(g),o=T(r);r&&r.type==="category"&&(t=r._categories.length);var p=new Array(t);for(f=0;f<t;f++)for(g&&g.type==="category"?i=g._categories.length:i=a(w,f),p[f]=new Array(i),l=0;l<i;l++)p[f][l]=m(h(w,o(f),c(l)));return p}},96288:function(H){H.exports={min:"zmin",max:"zmax"}},2872:function(H,U,e){var d=e(3400),C=e(39032).BADNUM,n=e(1220);H.exports=function(w,v,g,r,t,i){var a=w._length,u=v.makeCalcdata(w,r),f=g.makeCalcdata(w,t);u=n(w,v,r,u).vals,f=n(w,g,t,f).vals;var l=w.text,m=l!==void 0&&d.isArray1D(l),h=w.hovertext,T=h!==void 0&&d.isArray1D(h),c,o,p=d.distinctVals(u),x=p.vals,A=d.distinctVals(f),_=A.vals,y=[],E,M,s=_.length,S=x.length;for(c=0;c<i.length;c++)y[c]=d.init2dArray(s,S);m&&(E=d.init2dArray(s,S)),T&&(M=d.init2dArray(s,S));var b=d.init2dArray(s,S);for(c=0;c<a;c++)if(u[c]!==C&&f[c]!==C){var I=d.findBin(u[c]+p.minDiff/2,x),D=d.findBin(f[c]+A.minDiff/2,_);for(o=0;o<i.length;o++){var B=i[o],k=w[B],F=y[o];F[D][I]=k[c],b[D][I]=c}m&&(E[D][I]=l[c]),T&&(M[D][I]=h[c])}for(w["_"+r]=x,w["_"+t]=_,o=0;o<i.length;o++)w["_"+i[o]]=y[o];m&&(w._text=E),T&&(w._hovertext=M),v&&v.type==="category"&&(w["_"+r+"CategoryMap"]=x.map(function(N){return v._categories[N]})),g&&g.type==="category"&&(w["_"+t+"CategoryMap"]=_.map(function(N){return g._categories[N]})),w._after2before=b}},24480:function(H,U,e){var d=e(3400),C=e(51264),n=e(39096),L=e(31147),w=e(82748),v=e(27260),g=e(83328);H.exports=function(t,i,a,u){function f(m,h){return d.coerce(t,i,g,m,h)}var l=C(t,i,f,u);if(!l){i.visible=!1;return}L(t,i,u,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),n(f,u),w(t,i,f,u),f("hoverongaps"),f("connectgaps",d.isArray1D(i.z)&&i.zsmooth!==!1),v(t,i,u,f,{prefix:"",cLetter:"z"}),f("zorder")}},11240:function(H,U,e){var d=e(3400).maxRowLength;H.exports=function(n){var L=[],w={},v=[],g=n[0],r=[],t=[0,0,0],i=d(n),a,u,f,l,m,h,T,c;for(u=0;u<n.length;u++)for(a=r,r=g,g=n[u+1]||[],f=0;f<i;f++)r[f]===void 0&&(h=(r[f-1]!==void 0?1:0)+(r[f+1]!==void 0?1:0)+(a[f]!==void 0?1:0)+(g[f]!==void 0?1:0),h?(u===0&&h++,f===0&&h++,u===n.length-1&&h++,f===r.length-1&&h++,h<4&&(w[[u,f]]=[u,f,h]),L.push([u,f,h])):v.push([u,f]));for(;v.length;){for(T={},c=!1,m=v.length-1;m>=0;m--)l=v[m],u=l[0],f=l[1],h=((w[[u-1,f]]||t)[2]+(w[[u+1,f]]||t)[2]+(w[[u,f-1]]||t)[2]+(w[[u,f+1]]||t)[2])/20,h&&(T[l]=[u,f,h],v.splice(m,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(l in T)w[l]=T[l],L.push(T[l])}return L.sort(function(o,p){return p[2]-o[2]})}},55512:function(H,U,e){var d=e(93024),C=e(3400),n=C.isArrayOrTypedArray,L=e(54460),w=e(8932).extractOpts;H.exports=function(g,r,t,i,a){a||(a={});var u=a.isContour,f=g.cd[0],l=f.trace,m=g.xa,h=g.ya,T=f.x,c=f.y,o=f.z,p=f.xCenter,x=f.yCenter,A=f.zmask,_=l.zhoverformat,y=T,E=c,M,s,S,b;if(g.index!==!1){try{S=Math.round(g.index[1]),b=Math.round(g.index[0])}catch{C.error("Error hovering on heatmap, pointNumber must be [row,col], found:",g.index);return}if(S<0||S>=o[0].length||b<0||b>o.length)return}else{if(d.inbox(r-T[0],r-T[T.length-1],0)>0||d.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(u){var I;for(y=[2*T[0]-T[1]],I=1;I<T.length;I++)y.push((T[I]+T[I-1])/2);for(y.push([2*T[T.length-1]-T[T.length-2]]),E=[2*c[0]-c[1]],I=1;I<c.length;I++)E.push((c[I]+c[I-1])/2);E.push([2*c[c.length-1]-c[c.length-2]])}S=Math.max(0,Math.min(y.length-2,C.findBin(r,y))),b=Math.max(0,Math.min(E.length-2,C.findBin(t,E)))}var D=m.c2p(T[S]),B=m.c2p(T[S+1]),k=h.c2p(c[b]),F=h.c2p(c[b+1]),N,O;u?(N=f.orig_x||T,O=f.orig_y||c,B=D,M=N[S],F=k,s=O[b]):(N=f.orig_x||p||T,O=f.orig_y||x||c,M=p?N[S]:(N[S]+N[S+1])/2,s=x?O[b]:(O[b]+O[b+1])/2,m&&m.type==="category"&&(M=T[S]),h&&h.type==="category"&&(s=c[b]),l.zsmooth&&(D=B=m.c2p(M),k=F=h.c2p(s)));var V=o[b][S];if(A&&!A[b][S]&&(V=void 0),!(V===void 0&&!l.hoverongaps)){var X;n(f.hovertext)&&n(f.hovertext[b])?X=f.hovertext[b][S]:n(f.text)&&n(f.text[b])&&(X=f.text[b][S]);var ee=w(l),ne={type:"linear",range:[ee.min,ee.max],hoverformat:_,_separators:m._separators,_numFormat:m._numFormat},q=L.tickText(ne,V,"hover").text;return[C.extendFlat(g,{index:l._after2before?l._after2before[b][S]:[b,S],distance:g.maxHoverDistance,spikeDistance:g.maxSpikeDistance,x0:D,x1:B,y0:k,y1:F,xLabelVal:M,yLabelVal:s,zLabelVal:V,zLabel:q,text:X})]}}},81932:function(H,U,e){H.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(H,U,e){var d=e(3400),C=.01,n=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}H.exports=function(g,r){var t=1,i;for(w(g,r),i=0;i<r.length&&!(r[i][2]<4);i++);for(r=r.slice(i),i=0;i<100&&t>C;i++)t=w(g,r,L(t));return t>C&&d.log("interp2d didn't converge quickly",t),g};function w(v,g,r){var t=0,i,a,u,f,l,m,h,T,c,o,p,x,A;for(f=0;f<g.length;f++){for(i=g[f],a=i[0],u=i[1],p=v[a][u],o=0,c=0,l=0;l<4;l++)m=n[l],h=v[a+m[0]],h&&(T=h[u+m[1]],T!==void 0&&(o===0?x=A=T:(x=Math.min(x,T),A=Math.max(A,T)),c++,o+=T));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[a][u]=o/c,p===void 0?c<4&&(t=1):(v[a][u]=(1+r)*v[a][u]-r*p,A>x&&(t=Math.max(t,Math.abs(v[a][u]-p)/(A-x))))}return t}},39096:function(H,U,e){var d=e(3400);H.exports=function(n,L){n("texttemplate");var w=d.extendFlat({},L.font,{color:"auto",size:"auto"});d.coerceFont(n,"textfont",w)}},35744:function(H,U,e){var d=e(24040),C=e(3400).isArrayOrTypedArray;H.exports=function(L,w,v,g,r,t){var i=[],a=d.traceIs(L,"contour"),u=d.traceIs(L,"histogram"),f=d.traceIs(L,"gl2d"),l,m,h,T=C(w)&&w.length>1;if(T&&!u&&t.type!=="category"){var c=w.length;if(c<=r){if(a||f)i=Array.from(w).slice(0,r);else if(r===1)t.type==="log"?i=[.5*w[0],2*w[0]]:i=[w[0]-.5,w[0]+.5];else if(t.type==="log"){for(i=[Math.pow(w[0],1.5)/Math.pow(w[1],.5)],h=1;h<c;h++)i.push(Math.sqrt(w[h-1]*w[h]));i.push(Math.pow(w[c-1],1.5)/Math.pow(w[c-2],.5))}else{for(i=[1.5*w[0]-.5*w[1]],h=1;h<c;h++)i.push((w[h-1]+w[h])*.5);i.push(1.5*w[c-1]-.5*w[c-2])}if(c<r){var o=i[i.length-1],p;if(t.type==="log")for(p=o/i[i.length-2],h=c;h<r;h++)o*=p,i.push(o);else for(p=o-i[i.length-2],h=c;h<r;h++)o+=p,i.push(o)}}else return a?w.slice(0,r):w.slice(0,r+1)}else{var x=L[t._id.charAt(0)+"calendar"];if(u)l=t.r2c(v,0,x);else if(C(w)&&w.length===1)l=w[0];else if(v===void 0)l=0;else{var A=t.type==="log"?t.d2c:t.r2c;l=A(v,0,x)}for(m=g||1,h=a||f?0:-.5;h<r;h++)i.push(l+m*h)}return i}},41420:function(H,U,e){var d=e(33428),C=e(49760),n=e(24040),L=e(43616),w=e(54460),v=e(3400),g=e(72736),r=e(76688),t=e(76308),i=e(8932).extractOpts,a=e(8932).makeColorScaleFuncFromTrace,u=e(9616),f=e(84284),l=f.LINE_SPACING,m=e(9188),h=e(2264).STYLE,T="heatmap-label";function c(_){return _.selectAll("g."+T)}function o(_){c(_).remove()}H.exports=function(_,y,E,M){var s=y.xaxis,S=y.yaxis;v.makeTraceGroups(M,E,"hm").each(function(b){var I=d.select(this),D=b[0],B=D.trace,k=B.xgap||0,F=B.ygap||0,N=D.z,O=D.x,V=D.y,X=D.xCenter,ee=D.yCenter,ne=n.traceIs(B,"contour"),q=ne?"best":B.zsmooth,se=N.length,J=v.maxRowLength(N),Z=!1,te=!1,Y,ie,le,j,K,ue,ae,he;for(ue=0;Y===void 0&&ue<O.length-1;)Y=s.c2p(O[ue]),ue++;for(ue=O.length-1;ie===void 0&&ue>0;)ie=s.c2p(O[ue]),ue--;for(ie<Y&&(le=ie,ie=Y,Y=le,Z=!0),ue=0;j===void 0&&ue<V.length-1;)j=S.c2p(V[ue]),ue++;for(ue=V.length-1;K===void 0&&ue>0;)K=S.c2p(V[ue]),ue--;K<j&&(le=j,j=K,K=le,te=!0),ne&&(X=O,ee=V,O=D.xfill,V=D.yfill);var xe="default";if(q?xe=q==="best"?"smooth":"fast":B._islinear&&k===0&&F===0&&m()&&(xe="fast"),xe!=="fast"){var Se=q==="best"?0:.5;Y=Math.max(-Se*s._length,Y),ie=Math.min((1+Se)*s._length,ie),j=Math.max(-Se*S._length,j),K=Math.min((1+Se)*S._length,K)}var Ae=Math.round(ie-Y),De=Math.round(K-j),we=Y>=s._length||ie<=0||j>=S._length||K<=0;if(we){var Ce=I.selectAll("image").data([]);Ce.exit().remove(),o(I);return}var be,Pe;xe==="fast"?(be=J,Pe=se):(be=Ae,Pe=De);var Ve=document.createElement("canvas");Ve.width=be,Ve.height=Pe;var Ge=Ve.getContext("2d",{willReadFrequently:!0}),Fe=a(B,{noNumericCheck:!0,returnArray:!0}),He,ft;xe==="fast"?(He=Z?function(Hr){return J-1-Hr}:v.identity,ft=te?function(Hr){return se-1-Hr}:v.identity):(He=function(Hr){return v.constrain(Math.round(s.c2p(O[Hr])-Y),0,Ae)},ft=function(Hr){return v.constrain(Math.round(S.c2p(V[Hr])-j),0,De)});var gt=ft(0),ct=[gt,gt],nt=Z?0:1,dt=te?0:1,pt=0,wt=0,Tt=0,Ct=0,at,ze,je,Je,Xe;function Oe(Hr,Tn){if(Hr!==void 0){var bn=Fe(Hr);return bn[0]=Math.round(bn[0]),bn[1]=Math.round(bn[1]),bn[2]=Math.round(bn[2]),pt+=Tn,wt+=bn[0]*Tn,Tt+=bn[1]*Tn,Ct+=bn[2]*Tn,bn}return[0,0,0,0]}function ke(Hr,Tn,bn,Hn){var Gn=Hr[bn.bin0];if(Gn===void 0)return Oe(void 0,1);var ea=Hr[bn.bin1],ma=Tn[bn.bin0],Da=Tn[bn.bin1],Fa=ea-Gn||0,La=ma-Gn||0,Qn;return ea===void 0?Da===void 0?Qn=0:ma===void 0?Qn=2*(Da-Gn):Qn=(2*Da-ma-Gn)*2/3:Da===void 0?ma===void 0?Qn=0:Qn=(2*Gn-ea-ma)*2/3:ma===void 0?Qn=(2*Da-ea-Gn)*2/3:Qn=Da+Gn-ea-ma,Oe(Gn+bn.frac*Fa+Hn.frac*(La+bn.frac*Qn))}if(xe!=="default"){var Ke=0,Ie;try{Ie=new Uint8Array(be*Pe*4)}catch{Ie=new Array(be*Pe*4)}if(xe==="smooth"){var pe=X||O,Te=ee||V,Ue=new Array(pe.length),et=new Array(Te.length),st=new Array(Ae),lt=X?x:p,jt=ee?x:p,Jt,St,Rt;for(ue=0;ue<pe.length;ue++)Ue[ue]=Math.round(s.c2p(pe[ue])-Y);for(ue=0;ue<Te.length;ue++)et[ue]=Math.round(S.c2p(Te[ue])-j);for(ue=0;ue<Ae;ue++)st[ue]=lt(ue,Ue);for(ae=0;ae<De;ae++)for(Jt=jt(ae,et),St=N[Jt.bin0],Rt=N[Jt.bin1],ue=0;ue<Ae;ue++,Ke+=4)Xe=ke(St,Rt,st[ue],Jt),A(Ie,Ke,Xe)}else for(ae=0;ae<se;ae++)for(Je=N[ae],ct=ft(ae),ue=0;ue<J;ue++)Xe=Oe(Je[ue],1),Ke=(ct*J+He(ue))*4,A(Ie,Ke,Xe);var $t=Ge.createImageData(be,Pe);try{$t.data.set(Ie)}catch{var Pr=$t.data,xt=Pr.length;for(ae=0;ae<xt;ae++)Pr[ae]=Ie[ae]}Ge.putImageData($t,0,0)}else{var qt=Math.floor(k/2),nr=Math.floor(F/2);for(ae=0;ae<se;ae++)if(Je=N[ae],ct.reverse(),ct[dt]=ft(ae+1),!(ct[0]===ct[1]||ct[0]===void 0||ct[1]===void 0))for(ze=He(0),at=[ze,ze],ue=0;ue<J;ue++)at.reverse(),at[nt]=He(ue+1),!(at[0]===at[1]||at[0]===void 0||at[1]===void 0)&&(je=Je[ue],Xe=Oe(je,(at[1]-at[0])*(ct[1]-ct[0])),Ge.fillStyle="rgba("+Xe.join(",")+")",Ge.fillRect(at[0]+qt,ct[0]+nr,at[1]-at[0]-k,ct[1]-ct[0]-F))}wt=Math.round(wt/pt),Tt=Math.round(Tt/pt),Ct=Math.round(Ct/pt);var wr=C("rgb("+wt+","+Tt+","+Ct+")");_._hmpixcount=(_._hmpixcount||0)+pt,_._hmlumcount=(_._hmlumcount||0)+pt*wr.getLuminance();var dr=I.selectAll("image").data(b);dr.enter().append("svg:image").attr({xmlns:u.svg,preserveAspectRatio:"none"}),dr.attr({height:De,width:Ae,x:Y,y:j,"xlink:href":Ve.toDataURL("image/png")}),xe==="fast"&&!q&&dr.attr("style",h),o(I);var bt=B.texttemplate;if(bt){var ut=i(B),Mt={type:"linear",range:[ut.min,ut.max],_separators:s._separators,_numFormat:s._numFormat},_t=B.type==="histogram2dcontour",kt=B.type==="contour",Xt=kt?1:0,Wt=kt?se-1:se,Ht=kt?1:0,tr=kt?J-1:J,gr=[];for(ue=Xt;ue<Wt;ue++){var Qt;if(kt)Qt=D.y[ue];else if(_t){if(ue===0||ue===se-1)continue;Qt=D.y[ue]}else if(D.yCenter)Qt=D.yCenter[ue];else{if(ue+1===se&&D.y[ue+1]===void 0)continue;Qt=(D.y[ue]+D.y[ue+1])/2}var mr=Math.round(S.c2p(Qt));if(!(0>mr||mr>S._length))for(ae=Ht;ae<tr;ae++){var Ze;if(kt)Ze=D.x[ae];else if(_t){if(ae===0||ae===J-1)continue;Ze=D.x[ae]}else if(D.xCenter)Ze=D.xCenter[ae];else{if(ae+1===J&&D.x[ae+1]===void 0)continue;Ze=(D.x[ae]+D.x[ae+1])/2}var Ye=Math.round(s.c2p(Ze));if(!(0>Ye||Ye>s._length)){var Bt=r({x:Ze,y:Qt},B,_._fullLayout);Bt.x=Ze,Bt.y=Qt;var Ft=D.z[ue][ae];Ft===void 0?(Bt.z="",Bt.zLabel=""):(Bt.z=Ft,Bt.zLabel=w.tickText(Mt,Ft,"hover").text);var rr=D.text&&D.text[ue]&&D.text[ue][ae];(rr===void 0||rr===!1)&&(rr=""),Bt.text=rr;var sr=v.texttemplateString(bt,Bt,_._fullLayout._d3locale,Bt,B._meta||{});if(sr){var fr=sr.split("<br>"),ir=fr.length,Vt=0;for(he=0;he<ir;he++)Vt=Math.max(Vt,fr[he].length);gr.push({l:ir,c:Vt,t:sr,x:Ye,y:mr,z:Ft})}}}}var yr=B.textfont,br=yr.size,_r=_._fullLayout.font.size;if(!br||br==="auto"){var pr=1/0,Yr=1/0,zr=0,Nr=0;for(he=0;he<gr.length;he++){var xn=gr[he];if(zr=Math.max(zr,xn.l),Nr=Math.max(Nr,xn.c),he<gr.length-1){var tn=gr[he+1],On=Math.abs(tn.x-xn.x),zn=Math.abs(tn.y-xn.y);On&&(pr=Math.min(pr,On)),zn&&(Yr=Math.min(Yr,zn))}}!isFinite(pr)||!isFinite(Yr)?br=_r:(pr-=k,Yr-=F,pr/=Nr,Yr/=zr,pr/=l/2,Yr/=l,br=Math.min(Math.floor(pr),Math.floor(Yr),_r))}if(br<=0||!isFinite(br))return;var Sr=function(Hr){return Hr.x},Vr=function(Hr){return Hr.y-br*(Hr.l*l/2-1)},qr=c(I).data(gr);qr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(Hr){var Tn=d.select(this),bn=yr.color;(!bn||bn==="auto")&&(bn=t.contrast(Hr.z===void 0?_._fullLayout.plot_bgcolor:"rgba("+Fe(Hr.z).join()+")")),Tn.attr("data-notex",1).call(g.positionText,Sr(Hr),Vr(Hr)).call(L.font,{family:yr.family,size:br,color:bn,weight:yr.weight,style:yr.style,variant:yr.variant}).text(Hr.t).call(g.convertToTspans,_)})}})};function p(_,y){var E=y.length-2,M=v.constrain(v.findBin(_,y),0,E),s=y[M],S=y[M+1],b=v.constrain(M+(_-s)/(S-s)-.5,0,E),I=Math.round(b),D=Math.abs(b-I);return!b||b===E||!D?{bin0:I,bin1:I,frac:0}:{bin0:I,frac:D,bin1:Math.round(I+D/(b-I))}}function x(_,y){var E=y.length-1,M=v.constrain(v.findBin(_,y),0,E),s=y[M],S=y[M+1],b=(_-s)/(S-s)||0;return b<=0?{bin0:M,bin1:M,frac:0}:b<.5?{bin0:M,bin1:M+1,frac:b}:{bin0:M+1,bin1:M,frac:1-b}}function A(_,y,E){_[y]=E[0],_[y+1]=E[1],_[y+2]=E[2],_[y+3]=Math.round(E[3]*255)}},41648:function(H,U,e){var d=e(33428);H.exports=function(n){d.select(n).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},82748:function(H){H.exports=function(e,d,C){var n=C("zsmooth");n===!1&&(C("xgap"),C("ygap")),C("zhoverformat")}},51264:function(H,U,e){var d=e(38248),C=e(3400),n=e(24040);H.exports=function(g,r,t,i,a,u){var f=t("z");a=a||"x",u=u||"y";var l,m;if(f===void 0||!f.length)return 0;if(C.isArray1D(f)){l=t(a),m=t(u);var h=C.minRowLength(l),T=C.minRowLength(m);if(h===0||T===0)return 0;r._length=Math.min(h,T,f.length)}else{if(l=L(a,t),m=L(u,t),!w(f))return 0;t("transpose"),r._length=null}if(g.type==="heatmapgl")return!0;var c=n.getComponentMethod("calendars","handleTraceDefaults");return c(g,r,[a,u],i),!0};function L(v,g){var r=g(v),t=r?g(v+"type","array"):"scaled";return t==="scaled"&&(g(v+"0"),g("d"+v)),r}function w(v){for(var g=!0,r=!1,t=!1,i,a=0;a<v.length;a++){if(i=v[a],!C.isArrayOrTypedArray(i)){g=!1;break}i.length>0&&(r=!0);for(var u=0;u<i.length;u++)if(d(i[u])){t=!0;break}}return g&&r&&t}},74512:function(H,U,e){for(var d=e(83328),C=e(49084),n=e(92880).extendFlat,L=e(67824).overrideAll,w=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},g=0;g<w.length;g++){var r=w[g];v[r]=d[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},n(v,C("",{cLetter:"z",autoColorDflt:!1})),H.exports=L(v,"calc","nested")},84656:function(H,U,e){var d=e(67792).gl_heatmap2d,C=e(54460),n=e(43080);function L(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=d(r.glplot,this.options),this.heatmap._trace=this}var w=L.prototype;w.handlePick=function(r){var t=this.options,i=t.shape,a=r.pointId,u=a%i[0],f=Math.floor(a/i[0]),l=a;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[u],t.y[f],t.z[l]],textLabel:this.textLabels[a],name:this.name,pointIndex:[f,u],hoverinfo:this.hoverinfo}},w.update=function(r,t){var i=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var a=i.z;this.options.z=[].concat.apply([],a);var u=a[0].length,f=a.length;this.options.shape=[u,f],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var m=this.scene.xaxis,h=this.scene.yaxis,T,c;r.zsmooth===!1&&(T={ppad:i.x[1]-i.x[0]},c={ppad:i.y[1]-i.y[0]}),r._extremes[m._id]=C.findExtremes(m,i.x,T),r._extremes[h._id]=C.findExtremes(h,i.y,c)},w.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,i=r.zmin,a=r.zmax,u=t.length,f=new Array(u),l=new Array(4*u),m=0;m<u;m++){var h=t[m],T=n(h[1]);f[m]=i+h[0]*(a-i);for(var c=0;c<4;c++)l[4*m+c]=T[c]}return{colorLevels:f,colorValues:l}}function g(r,t,i){var a=new L(r,t.uid);return a.update(t,i),a}H.exports=g},86464:function(H,U,e){var d=e(3400),C=e(51264),n=e(27260),L=e(74512);H.exports=function(v,g,r,t){function i(u,f){return d.coerce(v,g,L,u,f)}var a=C(v,g,i,t);if(!a){g.visible=!1;return}i("text"),i("zsmooth"),n(v,g,t,i,{prefix:"",cLetter:"z"})}},45536:function(H,U,e){H.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(H,U,e){var d=e(20832),C=e(29736).axisHoverFormat,n=e(21776).Ks,L=e(21776).Gw,w=e(25376),v=e(11120),g=e(73316),r=e(92880).extendFlat;H.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:C("x"),yhoverformat:C("y"),text:r({},d.text,{}),hovertext:r({},d.hovertext,{}),orientation:d.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({},{keys:g.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},d.textposition,{arrayOk:!1}),textfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:w({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:d.insidetextanchor,textangle:d.textangle,cliponaxis:d.cliponaxis,constraintext:d.constraintext,marker:d.marker,offsetgroup:d.offsetgroup,alignmentgroup:d.alignmentgroup,selected:d.selected,unselected:d.unselected,_deprecated:{bardir:d._deprecated.bardir},zorder:d.zorder}},2e3:function(H){H.exports=function(e,d){for(var C=e.length,n=0,L=0;L<C;L++)d[L]?(e[L]/=d[L],n+=e[L]):e[L]=null;return n}},11120:function(H){H.exports=function(e,d){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(H,U,e){var d=e(38248);H.exports={count:function(C,n,L){return L[C]++,1},sum:function(C,n,L,w){var v=w[n];return d(v)?(v=Number(v),L[C]+=v,v):0},avg:function(C,n,L,w,v){var g=w[n];return d(g)&&(g=Number(g),L[C]+=g,v[C]++),0},min:function(C,n,L,w){var v=w[n];if(d(v))if(v=Number(v),d(L[C])){if(L[C]>v){var g=v-L[C];return L[C]=v,g}}else return L[C]=v,v;return 0},max:function(C,n,L,w){var v=w[n];if(d(v))if(v=Number(v),d(L[C])){if(L[C]<v){var g=v-L[C];return L[C]=v,g}}else return L[C]=v,v;return 0}}},67712:function(H,U,e){var d=e(39032),C=d.ONEAVGYEAR,n=d.ONEAVGMONTH,L=d.ONEDAY,w=d.ONEHOUR,v=d.ONEMIN,g=d.ONESEC,r=e(54460).tickIncrement;H.exports=function(l,m,h,T,c){var o=-1.1*m,p=-.1*m,x=l-p,A=h[0],_=h[1],y=Math.min(t(A+p,A+x,T,c),t(_+p,_+x,T,c)),E=Math.min(t(A+o,A+p,T,c),t(_+o,_+p,T,c)),M,s;if(y>E&&E<Math.abs(_-A)/4e3?(M=y,s=!1):(M=Math.min(y,E),s=!0),T.type==="date"&&M>L){var S=M===C?1:6,b=M===C?"M12":"M1";return function(I,D){var B=T.c2d(I,C,c),k=B.indexOf("-",S);k>0&&(B=B.substr(0,k));var F=T.d2c(B,0,c);if(F<I){var N=r(F,b,!1,c);(F+N)/2<I+l&&(F=N)}return D&&s?r(F,b,!0,c):F}}return function(I,D){var B=M*Math.round(I/M);return B+M/10<I&&B+M*.9<I+l&&(B+=M),D&&s&&(B-=M),B}};function t(f,l,m,h){if(f*l<=0)return 1/0;for(var T=Math.abs(l-f),c=m.type==="date",o=i(T,c),p=0;p<10;p++){var x=i(o*80,c);if(o===x)break;if(a(x,f,l,c,m,h))o=x;else break}return o}function i(f,l){return l&&f>g?f>L?f>C*1.1?C:f>n*1.1?n:L:f>w?w:f>v?v:g:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function a(f,l,m,h,T,c){if(h&&f>L){var o=u(l,T,c),p=u(m,T,c),x=f===C?0:1;return o[x]!==p[x]}return Math.floor(m/f)-Math.floor(l/f)>.1}function u(f,l,m){var h=l.c2d(f,C,m).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(H,U,e){var d=e(38248),C=e(3400),n=e(24040),L=e(54460),w=e(84664),v=e(16964),g=e(10648),r=e(2e3),t=e(67712);function i(m,h){var T=[],c=[],o=h.orientation==="h",p=L.getFromId(m,o?h.yaxis:h.xaxis),x=o?"y":"x",A={x:"y",y:"x"}[x],_=h[x+"calendar"],y=h.cumulative,E,M=a(m,h,p,x),s=M[0],S=M[1],b=typeof s.size=="string",I=[],D=b?I:s,B=[],k=[],F=[],N=0,O=h.histnorm,V=h.histfunc,X=O.indexOf("density")!==-1,ee,ne,q;y.enabled&&X&&(O=O.replace(/ ?density$/,""),X=!1);var se=V==="max"||V==="min",J=se?null:0,Z=v.count,te=g[O],Y=!1,ie=function(Ge){return p.r2c(Ge,0,_)},le;for(C.isArrayOrTypedArray(h[A])&&V!=="count"&&(le=h[A],Y=V==="avg",Z=v[V]),E=ie(s.start),ne=ie(s.end)+(E-L.tickIncrement(E,s.size,!1,_))/1e6;E<ne&&T.length<1e6&&(ee=L.tickIncrement(E,s.size,!1,_),T.push((E+ee)/2),c.push(J),F.push([]),I.push(E),X&&B.push(1/(ee-E)),Y&&k.push(0),!(ee<=E));)E=ee;I.push(E),!b&&p.type==="date"&&(D={start:ie(D.start),end:ie(D.end),size:D.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var j=h["_"+x+"bingroup"],K={leftGap:1/0,rightGap:1/0};j&&(m._fullLayout._roundFnOpts[j]||(m._fullLayout._roundFnOpts[j]=K),K=m._fullLayout._roundFnOpts[j]);var ue=c.length,ae=!0,he=K.leftGap,xe=K.rightGap,Se={};for(E=0;E<S.length;E++){var Ae=S[E];q=C.findBin(Ae,D),q>=0&&q<ue&&(N+=Z(q,E,c,le,k),ae&&F[q].length&&Ae!==S[F[q][0]]&&(ae=!1),F[q].push(E),Se[E]=q,he=Math.min(he,Ae-I[q]),xe=Math.min(xe,I[q+1]-Ae))}K.leftGap=he,K.rightGap=xe;var De;ae||(De=function(Ge,Fe){return function(){var He=m._fullLayout._roundFnOpts[j];return t(He.leftGap,He.rightGap,I,p,_)(Ge,Fe)}}),Y&&(N=r(c,k)),te&&te(c,N,B),y.enabled&&l(c,y.direction,y.currentbin);var we=Math.min(T.length,c.length),Ce=[],be=0,Pe=we-1;for(E=0;E<we;E++)if(c[E]){be=E;break}for(E=we-1;E>=be;E--)if(c[E]){Pe=E;break}for(E=be;E<=Pe;E++)if(d(T[E])&&d(c[E])){var Ve={p:T[E],s:c[E],b:0};y.enabled||(Ve.pts=F[E],ae?Ve.ph0=Ve.ph1=F[E].length?S[F[E][0]]:T[E]:(h._computePh=!0,Ve.ph0=De(I[E]),Ve.ph1=De(I[E+1],!0))),Ce.push(Ve)}return Ce.length===1&&(Ce[0].width1=L.tickIncrement(Ce[0].p,s.size,!1,_)-Ce[0].p),w(Ce,h),C.isArrayOrTypedArray(h.selectedpoints)&&C.tagSelected(Ce,h,Se),Ce}function a(m,h,T,c,o){var p=c+"bins",x=m._fullLayout,A=h["_"+c+"bingroup"],_=x._histogramBinOpts[A],y=x.barmode==="overlay",E,M,s,S,b,I,D,B=function(Ae){return T.r2c(Ae,0,S)},k=function(Ae){return T.c2r(Ae,0,S)},F=T.type==="date"?function(Ae){return Ae||Ae===0?C.cleanDate(Ae,null,S):null}:function(Ae){return d(Ae)?Number(Ae):null};function N(Ae,De,we){De[Ae+"Found"]?(De[Ae]=F(De[Ae]),De[Ae]===null&&(De[Ae]=we[Ae])):(I[Ae]=De[Ae]=we[Ae],C.nestedProperty(M[0],p+"."+Ae).set(we[Ae]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{M=_.traces;var O=[],V=!0,X=!1,ee=!1;for(E=0;E<M.length;E++)if(s=M[E],s.visible){var ne=_.dirs[E];b=s["_"+ne+"pos0"]=T.makeCalcdata(s,ne),O=C.concat(O,b),delete s["_"+c+"autoBinFinished"],h.visible===!0&&(V?V=!1:(delete s._autoBin,s["_"+c+"autoBinFinished"]=1),n.traceIs(s,"2dMap")&&(X=!0),s.type==="histogram2dcontour"&&(ee=!0))}S=M[0][c+"calendar"];var q=L.autoBin(O,T,_.nbins,X,S,_.sizeFound&&_.size),se=M[0]._autoBin={};if(I=se[_.dirs[0]]={},ee&&(_.size||(q.start=k(L.tickIncrement(B(q.start),q.size,!0,S))),_.end===void 0&&(q.end=k(L.tickIncrement(B(q.end),q.size,!1,S)))),y&&!n.traceIs(h,"2dMap")&&q._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(o)return[q,b,!0];q=u(m,h,T,c,p)}D=s.cumulative||{},D.enabled&&D.currentbin!=="include"&&(D.direction==="decreasing"?q.start=k(L.tickIncrement(B(q.start),q.size,!0,S)):q.end=k(L.tickIncrement(B(q.end),q.size,!1,S))),_.size=q.size,_.sizeFound||(I.size=q.size,C.nestedProperty(M[0],p+".size").set(q.size)),N("start",_,q),N("end",_,q)}b=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var J=h._input[p]||{},Z=C.extendFlat({},_),te=_.start,Y=T.r2l(J.start),ie=Y!==void 0;if((_.startFound||ie)&&Y!==T.r2l(te)){var le=ie?Y:C.aggNums(Math.min,null,b),j={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:_.size,tick0:te,calendar:S,range:[le,L.tickIncrement(le,_.size,!1,S)].map(T.l2r)},K=L.tickFirst(j);K>T.r2l(le)&&(K=L.tickIncrement(K,_.size,!0,S)),Z.start=T.l2r(K),ie||C.nestedProperty(h,p+".start").set(Z.start)}var ue=_.end,ae=T.r2l(J.end),he=ae!==void 0;if((_.endFound||he)&&ae!==T.r2l(ue)){var xe=he?ae:C.aggNums(Math.max,null,b);Z.end=T.l2r(xe),he||C.nestedProperty(h,p+".start").set(Z.end)}var Se="autobin"+c;return h._input[Se]===!1&&(h._input[p]=C.extendFlat({},h[p]||{}),delete h._input[Se],delete h[Se]),[Z,b]}function u(m,h,T,c,o){var p=m._fullLayout,x=f(m,h),A=!1,_=1/0,y=[h],E,M,s;for(E=0;E<x.length;E++)if(M=x[E],M===h)A=!0;else if(!A)s=p._histogramBinOpts[M["_"+c+"bingroup"]],_=Math.min(_,s.size||M[o].size);else{var S=a(m,M,T,c,!0),b=S[0],I=S[2];M["_"+c+"autoBinFinished"]=1,M["_"+c+"pos0"]=S[1],I?y.push(M):_=Math.min(_,b.size)}var D=new Array(y.length);for(E=0;E<y.length;E++)for(var B=y[E]["_"+c+"pos0"],k=0;k<B.length;k++)if(B[k]!==void 0){D[E]=B[k];break}for(isFinite(_)||(_=C.distinctVals(D).minDiff),E=0;E<y.length;E++){M=y[E];var F=M[c+"calendar"],N={start:T.c2r(D[E]-_/2,0,F),end:T.c2r(D[E]+_/2,0,F),size:_};M._input[o]=M[o]=N,s=p._histogramBinOpts[M["_"+c+"bingroup"]],s&&C.extendFlat(s,N)}return h[o]}function f(m,h){for(var T=h.xaxis,c=h.yaxis,o=h.orientation,p=[],x=m._fullData,A=0;A<x.length;A++){var _=x[A];_.type==="histogram"&&_.visible===!0&&_.orientation===o&&_.xaxis===T&&_.yaxis===c&&p.push(_)}return p}function l(m,h,T){var c,o,p;function x(_){p=m[_],m[_]/=2}function A(_){o=m[_],m[_]=p+o/2,p+=o}if(T==="half")if(h==="increasing")for(x(0),c=1;c<m.length;c++)A(c);else for(x(m.length-1),c=m.length-2;c>=0;c--)A(c);else if(h==="increasing"){for(c=1;c<m.length;c++)m[c]+=m[c-1];T==="exclude"&&(m.unshift(0),m.pop())}else{for(c=m.length-2;c>=0;c--)m[c]+=m[c+1];T==="exclude"&&(m.push(0),m.shift())}}H.exports={calc:i,calcAllAutoBins:a}},73316:function(H){H.exports={eventDataKeys:["binNumber"]}},80536:function(H,U,e){var d=e(3400),C=e(79811),n=e(24040).traceIs,L=e(20011),w=e(31508).validateCornerradius,v=d.nestedProperty,g=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];H.exports=function(a,u){var f=u._histogramBinOpts={},l=[],m={},h=[],T,c,o,p,x,A,_;function y(q,se){return d.coerce(T._input,T,T._module.attributes,q,se)}function E(q){return q.orientation==="v"?"x":"y"}function M(q,se){var J=C.getFromTrace({_fullLayout:u},q,se);return J.type}function s(q,se,J){var Z=q.uid+"__"+J;se||(se=Z);var te=M(q,J),Y=q[J+"calendar"]||"",ie=f[se],le=!0;ie&&(te===ie.axType&&Y===ie.calendar?(le=!1,ie.traces.push(q),ie.dirs.push(J)):(se=Z,te!==ie.axType&&d.warn(["Attempted to group the bins of trace",q.index,"set on a","type:"+te,"axis","with bins on","type:"+ie.axType,"axis."].join(" ")),Y!==ie.calendar&&d.warn(["Attempted to group the bins of trace",q.index,"set with a",Y,"calendar","with bins",ie.calendar?"on a "+ie.calendar+" calendar":"w/o a set calendar"].join(" ")))),le&&(f[se]={traces:[q],dirs:[J],axType:te,calendar:q[J+"calendar"]||""}),q["_"+J+"bingroup"]=se}for(x=0;x<a.length;x++)if(T=a[x],n(T,"histogram")){if(l.push(T),delete T._xautoBinFinished,delete T._yautoBinFinished,T.type==="histogram"){var S=y("marker.cornerradius",u.barcornerradius);T.marker&&(T.marker.cornerradius=w(S))}n(T,"2dMap")||L(T._input,T,u,y)}var b=u._alignmentOpts||{};for(x=0;x<l.length;x++){if(T=l[x],o="",!n(T,"2dMap")){if(p=E(T),u.barmode==="group"&&T.alignmentgroup){var I=T[p+"axis"],D=g(u,I)+T.orientation;(b[D]||{})[T.alignmentgroup]&&(o=D)}!o&&u.barmode!=="overlay"&&(o=g(u,T.xaxis)+g(u,T.yaxis)+E(T))}o?(m[o]||(m[o]=[]),m[o].push(T)):h.push(T)}for(o in m){if(c=m[o],c.length===1){h.push(c[0]);continue}var B=!1;for(c.length&&(T=c[0],B=y("bingroup")),o=B||o,x=0;x<c.length;x++){T=c[x];var k=T._input.bingroup;k&&k!==o&&d.warn(["Trace",T.index,"must match","within bingroup",o+".","Ignoring its bingroup:",k,"setting."].join(" ")),T.bingroup=o,s(T,o,E(T))}}for(x=0;x<h.length;x++){T=h[x];var F=y("bingroup");if(n(T,"2dMap"))for(_=0;_<2;_++){p=t[_];var N=y(p+"bingroup",F?F+"__"+p:null);s(T,N,p)}else s(T,F,E(T))}for(o in f){var O=f[o];for(c=O.traces,A=0;A<r.length;A++){var V=r[A],X=V.name,ee,ne;if(!(X==="nbins"&&O.sizeFound)){for(x=0;x<c.length;x++){if(T=c[x],p=O.dirs[x],ee=V.aStr[p],v(T._input,ee).get()!==void 0){O[X]=y(ee),O[X+"Found"]=!0;break}ne=(T._autoBin||{})[p]||{},ne[X]&&v(T,ee).set(ne[X])}if(X==="start"||X==="end")for(;x<c.length;x++)T=c[x],T["_"+p+"bingroup"]&&(ne=(T._autoBin||{})[p]||{},y(ee,ne[X]));X==="nbins"&&!O.sizeFound&&!O.nbinsFound&&(T=c[0],O[X]=y(ee))}}}}},6616:function(H,U,e){var d=e(24040),C=e(3400),n=e(76308),L=e(31508).handleText,w=e(55592),v=e(40196);H.exports=function(r,t,i,a){function u(E,M){return C.coerce(r,t,v,E,M)}var f=u("x"),l=u("y"),m=u("cumulative.enabled");m&&(u("cumulative.direction"),u("cumulative.currentbin")),u("text");var h=u("textposition");L(r,t,a,u,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat");var T=u("orientation",l&&!f?"h":"v"),c=T==="v"?"x":"y",o=T==="v"?"y":"x",p=f&&l?Math.min(C.minRowLength(f)&&C.minRowLength(l)):C.minRowLength(t[c]||[]);if(!p){t.visible=!1;return}t._length=p;var x=d.getComponentMethod("calendars","handleTraceDefaults");x(r,t,["x","y"],a);var A=t[o];A&&u("histfunc"),u("histnorm"),u("autobin"+c),w(r,t,u,i,a),C.coerceSelectionMarkerOpacity(t,u);var _=(t.marker.line||{}).color,y=d.getComponentMethod("errorbars","supplyDefaults");y(r,t,_||n.defaultLine,{axis:"y"}),y(r,t,_||n.defaultLine,{axis:"x",inherit:"y"}),u("zorder")}},84980:function(H){H.exports=function(e,d,C,n,L){if(e.x="xVal"in d?d.xVal:d.x,e.y="yVal"in d?d.yVal:d.y,"zLabelVal"in d&&(e.z=d.zLabelVal),d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),!(C.cumulative||{}).enabled){var w=Array.isArray(L)?n[0].pts[L[0]][L[1]]:n[L].pts;e.pointNumbers=w,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(C._indexToPoints){v=[];for(var g=0;g<w.length;g++)v=v.concat(C._indexToPoints[w[g]])}else v=w;e.pointIndices=v}return e}},43339:function(H,U,e){var d=e(63400).hoverPoints,C=e(54460).hoverLabelText;H.exports=function(L,w,v,g,r){var t=d(L,w,v,g,r);if(t){L=t[0];var i=L.cd[L.index],a=L.cd[0].trace;if(!a.cumulative.enabled){var u=a.orientation==="h"?"y":"x";L[u+"Label"]=C(L[u+"a"],[i.ph0,i.ph1],a[u+"hoverformat"])}return t}}},42600:function(H,U,e){H.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(H){H.exports={percent:function(U,e){for(var d=U.length,C=100/e,n=0;n<d;n++)U[n]*=C},probability:function(U,e){for(var d=U.length,C=0;C<d;C++)U[C]/=e},density:function(U,e,d,C){var n=U.length;C=C||1;for(var L=0;L<n;L++)U[L]*=d[L]*C},"probability density":function(U,e,d,C){var n=U.length;C&&(e/=C);for(var L=0;L<n;L++)U[L]*=d[L]/e}}},37008:function(H,U,e){var d=e(40196),C=e(11120),n=e(83328),L=e(45464),w=e(29736).axisHoverFormat,v=e(21776).Ks,g=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;H.exports=t({x:d.x,y:d.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:d.histnorm,histfunc:d.histfunc,nbinsx:d.nbinsx,xbins:C("x"),nbinsy:d.nbinsy,ybins:C("y"),autobinx:d.autobinx,autobiny:d.autobiny,bingroup:t({},d.bingroup,{}),xbingroup:t({},d.bingroup,{}),ybingroup:t({},d.bingroup,{}),xgap:n.xgap,ygap:n.ygap,zsmooth:n.zsmooth,xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:g({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:n.textfont,showlegend:t({},L.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(H,U,e){var d=e(3400),C=e(54460),n=e(16964),L=e(10648),w=e(2e3),v=e(67712),g=e(35852).calcAllAutoBins;H.exports=function(u,f){var l=C.getFromId(u,f.xaxis),m=C.getFromId(u,f.yaxis),h=f.xcalendar,T=f.ycalendar,c=function(Xe){return l.r2c(Xe,0,h)},o=function(Xe){return m.r2c(Xe,0,T)},p=function(Xe){return l.c2r(Xe,0,h)},x=function(Xe){return m.c2r(Xe,0,T)},A,_,y,E,M=g(u,f,l,"x"),s=M[0],S=M[1],b=g(u,f,m,"y"),I=b[0],D=b[1],B=f._length;S.length>B&&S.splice(B,S.length-B),D.length>B&&D.splice(B,D.length-B);var k=[],F=[],N=[],O=typeof s.size=="string",V=typeof I.size=="string",X=[],ee=[],ne=O?X:s,q=V?ee:I,se=0,J=[],Z=[],te=f.histnorm,Y=f.histfunc,ie=te.indexOf("density")!==-1,le=Y==="max"||Y==="min",j=le?null:0,K=n.count,ue=L[te],ae=!1,he=[],xe=[],Se="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";Se&&Y!=="count"&&(ae=Y==="avg",K=n[Y]);var Ae=s.size,De=c(s.start),we=c(s.end)+(De-C.tickIncrement(De,Ae,!1,h))/1e6;for(A=De;A<we;A=C.tickIncrement(A,Ae,!1,h))F.push(j),X.push(A),ae&&N.push(0);X.push(A);var Ce=F.length,be=(A-De)/Ce,Pe=p(De+be/2),Ve=I.size,Ge=o(I.start),Fe=o(I.end)+(Ge-C.tickIncrement(Ge,Ve,!1,T))/1e6;for(A=Ge;A<Fe;A=C.tickIncrement(A,Ve,!1,T)){k.push(F.slice()),ee.push(A);var He=new Array(Ce);for(_=0;_<Ce;_++)He[_]=[];Z.push(He),ae&&J.push(N.slice())}ee.push(A);var ft=k.length,gt=(A-Ge)/ft,ct=x(Ge+gt/2);ie&&(he=r(F.length,ne,be,O),xe=r(k.length,q,gt,V)),!O&&l.type==="date"&&(ne=t(c,ne)),!V&&m.type==="date"&&(q=t(o,q));var nt=!0,dt=!0,pt=new Array(Ce),wt=new Array(ft),Tt=1/0,Ct=1/0,at=1/0,ze=1/0;for(A=0;A<B;A++){var je=S[A],Je=D[A];y=d.findBin(je,ne),E=d.findBin(Je,q),y>=0&&y<Ce&&E>=0&&E<ft&&(se+=K(y,A,k[E],Se,J[E]),Z[E][y].push(A),nt&&(pt[y]===void 0?pt[y]=je:pt[y]!==je&&(nt=!1)),dt&&(wt[E]===void 0?wt[E]=Je:wt[E]!==Je&&(dt=!1)),Tt=Math.min(Tt,je-X[y]),Ct=Math.min(Ct,X[y+1]-je),at=Math.min(at,Je-ee[E]),ze=Math.min(ze,ee[E+1]-Je))}if(ae)for(E=0;E<ft;E++)se+=w(k[E],J[E]);if(ue)for(E=0;E<ft;E++)ue(k[E],se,he,xe[E]);return{x:S,xRanges:i(X,nt&&pt,Tt,Ct,l,h),x0:Pe,dx:be,y:D,yRanges:i(ee,dt&&wt,at,ze,m,T),y0:ct,dy:gt,z:k,pts:Z}};function r(a,u,f,l){var m=new Array(a),h;if(l)for(h=0;h<a;h++)m[h]=1/(u[h+1]-u[h]);else{var T=1/f;for(h=0;h<a;h++)m[h]=T}return m}function t(a,u){return{start:a(u.start),end:a(u.end),size:u.size}}function i(a,u,f,l,m,h){var T,c=a.length-1,o=new Array(c),p=v(f,l,a,m,h);for(T=0;T<c;T++){var x=(u||[])[T];o[T]=x===void 0?[p(a[T]),p(a[T+1],!0)]:[x,x]}return o}},99784:function(H,U,e){var d=e(3400),C=e(56408),n=e(82748),L=e(27260),w=e(39096),v=e(37008);H.exports=function(r,t,i,a){function u(f,l){return d.coerce(r,t,v,f,l)}C(r,t,u,a),t.visible!==!1&&(n(r,t,u,a),L(r,t,a,u,{prefix:"",cLetter:"z"}),u("hovertemplate"),w(u,a),u("xhoverformat"),u("yhoverformat"))}},59576:function(H,U,e){var d=e(55512),C=e(54460).hoverLabelText;H.exports=function(L,w,v,g,r){var t=d(L,w,v,g,r);if(t){L=t[0];var i=L.index,a=i[0],u=i[1],f=L.cd[0],l=f.trace,m=f.xRanges[u],h=f.yRanges[a];return L.xLabel=C(L.xa,[m[0],m[1]],l.xhoverformat),L.yLabel=C(L.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(H,U,e){H.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(H,U,e){var d=e(24040),C=e(3400);H.exports=function(L,w,v,g){var r=v("x"),t=v("y"),i=C.minRowLength(r),a=C.minRowLength(t);if(!i||!a){w.visible=!1;return}w._length=Math.min(i,a);var u=d.getComponentMethod("calendars","handleTraceDefaults");u(L,w,["x","y"],g);var f=v("z")||v("marker.color");f&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(H,U,e){var d=e(37008),C=e(67104),n=e(49084),L=e(29736).axisHoverFormat,w=e(92880).extendFlat;H.exports=w({x:d.x,y:d.y,z:d.z,marker:d.marker,histnorm:d.histnorm,histfunc:d.histfunc,nbinsx:d.nbinsx,xbins:d.xbins,nbinsy:d.nbinsy,ybins:d.ybins,autobinx:d.autobinx,autobiny:d.autobiny,bingroup:d.bingroup,xbingroup:d.xbingroup,ybingroup:d.ybingroup,autocontour:C.autocontour,ncontours:C.ncontours,contours:C.contours,line:{color:C.line.color,width:w({},C.line.width,{dflt:.5}),dash:C.line.dash,smoothing:C.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:d.hovertemplate,texttemplate:C.texttemplate,textfont:C.textfont},n("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(H,U,e){var d=e(3400),C=e(56408),n=e(84952),L=e(97680),w=e(39096),v=e(81220);H.exports=function(r,t,i,a){function u(l,m){return d.coerce(r,t,v,l,m)}function f(l){return d.coerce2(r,t,v,l)}C(r,t,u,a),t.visible!==!1&&(n(r,t,u,f),L(r,t,u,a),u("xhoverformat"),u("yhoverformat"),u("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&w(u,a))}},65664:function(H,U,e){H.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(H,U,e){var d=e(21776).Ks,C=e(21776).Gw,n=e(49084),L=e(86968).u,w=e(74996),v=e(424),g=e(40516),r=e(32984),t=e(92880).extendFlat,i=e(98192).c;H.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:g.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:i,editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:g.pathbar,text:w.text,textinfo:v.textinfo,texttemplate:C({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:w.hovertext,hoverinfo:v.hoverinfo,hovertemplate:d({},{keys:r.eventDataKeys}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:g.outsidetextfont,textposition:g.textposition,sort:w.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},59564:function(H,U,e){var d=e(7316);U.name="icicle",U.plot=function(C,n,L,w){d.plotBasePlot(U.name,C,n,L,w)},U.clean=function(C,n,L,w){d.cleanBasePlot(U.name,C,n,L,w)}},73876:function(H,U,e){var d=e(3776);U.r=function(C,n){return d.calc(C,n)},U.q=function(C){return d._runCrossTraceCalc("icicle",C)}},7045:function(H,U,e){var d=e(3400),C=e(97376),n=e(76308),L=e(86968).Q,w=e(31508).handleText,v=e(78048).TEXTPAD,g=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,i=r.handleDefaults;H.exports=function(u,f,l,m){function h(y,E){return d.coerce(u,f,C,y,E)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){f.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var p=h("text");h("texttemplate"),f.texttemplate||h("textinfo",d.isArrayOrTypedArray(p)?"text+label":"label"),h("hovertext"),h("hovertemplate");var x=h("pathbar.visible"),A="auto";w(u,f,m,h,A,{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),g(u,f,m,h);var _=f._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;_&&i(u,f,m,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",_?1:.7),f._hovered={marker:{line:{width:2,color:n.contrast(m.paper_bgcolor)}}},x&&(h("pathbar.thickness",f.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(f,m,h),f._length=null}},67880:function(H,U,e){var d=e(33428),C=e(3400),n=e(43616),L=e(72736),w=e(25132),v=e(47192).styleOne,g=e(32984),r=e(78176),t=e(45716),i=e(96488).formatSliceLabel,a=!1;H.exports=function(f,l,m,h,T){var c=T.width,o=T.height,p=T.viewX,x=T.viewY,A=T.pathSlice,_=T.toMoveInsideSlice,y=T.strTransform,E=T.hasTransition,M=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,S=T.makeUpdateTextInterpolator,b=T.prevEntry,I={},D=f._context.staticPlot,B=f._fullLayout,k=l[0],F=k.trace,N=F.textposition.indexOf("left")!==-1,O=F.textposition.indexOf("right")!==-1,V=F.textposition.indexOf("bottom")!==-1,X=w(m,[c,o],{flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,orientation:F.tiling.orientation,pad:{inner:F.tiling.pad},maxDepth:F._maxDepth}),ee=X.descendants(),ne=1/0,q=-1/0;ee.forEach(function(Y){var ie=Y.depth;ie>=F._maxDepth?(Y.x0=Y.x1=(Y.x0+Y.x1)/2,Y.y0=Y.y1=(Y.y0+Y.y1)/2):(ne=Math.min(ne,ie),q=Math.max(q,ie))}),h=h.data(ee,r.getPtId),F._maxVisibleLayers=isFinite(q)?q-ne+1:0,h.enter().append("g").classed("slice",!0),M(h,a,I,[c,o],A),h.order();var se=null;if(E&&b){var J=r.getPtId(b);h.each(function(Y){se===null&&r.getPtId(Y)===J&&(se={x0:Y.x0,x1:Y.x1,y0:Y.y0,y1:Y.y1})})}var Z=function(){return se||{x0:0,x1:c,y0:0,y1:o}},te=h;return E&&(te=te.transition().each("end",function(){var Y=d.select(this);r.setSliceCursor(Y,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),te.each(function(Y){Y._x0=p(Y.x0),Y._x1=p(Y.x1),Y._y0=x(Y.y0),Y._y1=x(Y.y1),Y._hoverX=p(Y.x1-F.tiling.pad),Y._hoverY=x(V?Y.y1-F.tiling.pad/2:Y.y0+F.tiling.pad/2);var ie=d.select(this),le=C.ensureSingle(ie,"path","surface",function(ae){ae.style("pointer-events",D?"none":"all")});E?le.transition().attrTween("d",function(ae){var he=s(ae,a,Z(),[c,o],{orientation:F.tiling.orientation,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1});return function(xe){return A(he(xe))}}):le.attr("d",A),ie.call(t,m,f,l,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),le.call(v,Y,F,f,{hovered:!1}),Y.x0===Y.x1||Y.y0===Y.y1?Y._text="":Y._text=i(Y,m,F,l,B)||"";var j=C.ensureSingle(ie,"g","slicetext"),K=C.ensureSingle(j,"text","",function(ae){ae.attr("data-notex",1)}),ue=C.ensureUniformFontSize(f,r.determineTextFont(F,Y,B.font));K.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":N?"start":"middle").call(n.font,ue).call(L.convertToTspans,f),Y.textBB=n.bBox(K.node()),Y.transform=_(Y,{fontSize:ue.size}),Y.transform.fontSize=ue.size,E?K.transition().attrTween("transform",function(ae){var he=S(ae,a,Z(),[c,o]);return function(xe){return y(he(xe))}}):K.attr("transform",y(Y))}),se}},29044:function(H,U,e){H.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(H){H.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(H,U,e){var d=e(3400),C=e(90676);H.exports=function(L,w){function v(g,r){return d.coerce(L,w,C,g,r)}v("iciclecolorway",w.colorway),v("extendiciclecolors")}},25132:function(H,U,e){var d=e(74148),C=e(83024);H.exports=function(L,w,v){var g=v.flipX,r=v.flipY,t=v.orientation==="h",i=v.maxDepth,a=w[0],u=w[1];i&&(a=(L.height+1)*w[0]/Math.min(L.height+1,i),u=(L.height+1)*w[1]/Math.min(L.height+1,i));var f=d.partition().padding(v.pad.inner).size(t?[w[1],a]:[w[0],u])(L);return(t||g||r)&&C(f,w,{swapXY:t,flipX:g,flipY:r}),f}},38364:function(H,U,e){var d=e(95808),C=e(67880);H.exports=function(L,w,v,g){return d(L,w,v,g,{type:"icicle",drawDescendants:C})}},47192:function(H,U,e){var d=e(33428),C=e(76308),n=e(3400),L=e(82744).resizeText,w=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");L(r,t,"icicle"),t.each(function(i){var a=d.select(this),u=i[0],f=u.trace;a.style("opacity",f.opacity),a.selectAll("path.surface").each(function(l){d.select(this).call(g,l,f,r)})})}function g(r,t,i,a){var u=t.data.data,f=!t.children,l=u.i,m=n.castOption(i,l,"marker.line.color")||C.defaultLine,h=n.castOption(i,l,"marker.line.width")||0;r.call(w,t,i,a).style("stroke-width",h).call(C.stroke,m).style("opacity",f?i.leaf.opacity:null)}H.exports={style:v,styleOne:g}},95188:function(H,U,e){for(var d=e(45464),C=e(52904).zorder,n=e(21776).Ks,L=e(92880).extendFlat,w=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],g=[],r=[],t=0;t<v.length;t++){var i=w[v[t]];g.push("For the `"+v[t]+"` colormodel, it is ["+(i.zminDflt||i.min).join(", ")+"]."),r.push("For the `"+v[t]+"` colormodel, it is ["+(i.zmaxDflt||i.max).join(", ")+"].")}H.exports=L({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:L({},d.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:n({},{keys:["z","color","colormodel"]}),zorder:C,transforms:void 0})},93336:function(H,U,e){var d=e(3400),C=e(47797),n=e(38248),L=e(54460),w=e(3400).maxRowLength,v=e(18712).i;H.exports=function(a,u){var f,l;if(u._hasZ)f=u.z.length,l=w(u.z);else if(u._hasSource){var m=v(u.source);f=m.height,l=m.width}var h=L.getFromId(a,u.xaxis||"x"),T=L.getFromId(a,u.yaxis||"y"),c=h.d2c(u.x0)-u.dx/2,o=T.d2c(u.y0)-u.dy/2,p,x=[c,c+l*u.dx],A=[o,o+f*u.dy];if(h&&h.type==="log")for(p=0;p<l;p++)x.push(c+p*u.dx);if(T&&T.type==="log")for(p=0;p<f;p++)A.push(o+p*u.dy);u._extremes[h._id]=L.findExtremes(h,x),u._extremes[T._id]=L.findExtremes(T,A),u._scaler=t(u);var _={x0:c,y0:o,z:u.z,w:l,h:f};return[_]};function g(i,a,u,f){return function(l){return d.constrain((l-i)*a,u,f)}}function r(i,a){return function(u){return d.constrain(u,i,a)}}function t(i){var a=C.colormodel[i.colormodel],u=a.colormodel||i.colormodel,f=u.length;i._sArray=[];for(var l=0;l<f;l++)a.min[l]!==i.zmin[l]||a.max[l]!==i.zmax[l]?i._sArray.push(g(i.zmin[l],(a.max[l]-a.min[l])/(i.zmax[l]-i.zmin[l]),a.min[l],a.max[l])):i._sArray.push(r(a.min[l],a.max[l]));return function(m){for(var h=m.slice(0,f),T=0;T<f;T++){var c=h[T];if(!n(c))return!1;h[T]=i._sArray[T](c)}return h}}},47797:function(H){H.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(U){return U.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(U){var e=U.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(U){var e=U.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13188:function(H,U,e){var d=e(3400),C=e(95188),n=e(47797),L=e(81792).IMAGE_URL_PREFIX;H.exports=function(v,g){function r(a,u){return d.coerce(v,g,C,a,u)}r("source"),g.source&&!g.source.match(L)&&delete g.source,g._hasSource=!!g.source;var t=r("z");if(g._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!g._hasZ&&!g._hasSource){g.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var i;g._hasZ?(r("colormodel","rgb"),i=n.colormodel[g.colormodel],r("zmin",i.zminDflt||i.min),r("zmax",i.zmaxDflt||i.max)):g._hasSource&&(g.colormodel="rgba256",i=n.colormodel[g.colormodel],g.zmin=i.zminDflt,g.zmax=i.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),g._length=null,r("zorder")}},79972:function(H){H.exports=function(e,d){return"xVal"in d&&(e.x=d.xVal),"yVal"in d&&(e.y=d.yVal),d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),e.color=d.color,e.colormodel=d.trace.colormodel,e.z||(e.z=d.color),e}},18712:function(H,U,e){var d=e(19480),C=e(81792).IMAGE_URL_PREFIX,n=e(33576).Buffer;U.i=function(L){var w=L.replace(C,""),v=new n(w,"base64");return d(v)}},24892:function(H,U,e){var d=e(93024),C=e(3400),n=C.isArrayOrTypedArray,L=e(47797);H.exports=function(v,g,r){var t=v.cd[0],i=t.trace,a=v.xa,u=v.ya;if(!(d.inbox(g-t.x0,g-(t.x0+t.w*i.dx),0)>0||d.inbox(r-t.y0,r-(t.y0+t.h*i.dy),0)>0)){var f=Math.floor((g-t.x0)/i.dx),l=Math.floor(Math.abs(r-t.y0)/i.dy),m;if(i._hasZ?m=t.z[l][f]:i._hasSource&&(m=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(f,l,1,1).data),!!m){var h=t.hi||i.hoverinfo,T;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(T=!0)}var o=L.colormodel[i.colormodel],p=o.colormodel||i.colormodel,x=p.length,A=i._scaler(m),_=o.suffix,y=[];(i.hovertemplate||T)&&(y.push("["+[A[0]+_[0],A[1]+_[1],A[2]+_[2]].join(", ")),x===4&&y.push(", "+A[3]+_[3]),y.push("]"),y=y.join(""),v.extraText=p.toUpperCase()+": "+y);var E;n(i.hovertext)&&n(i.hovertext[l])?E=i.hovertext[l][f]:n(i.text)&&n(i.text[l])&&(E=i.text[l][f]);var M=u.c2p(t.y0+(l+.5)*i.dy),s=t.x0+(f+.5)*i.dx,S=t.y0+(l+.5)*i.dy,b="["+m.slice(0,i.colormodel.length).join(", ")+"]";return[C.extendFlat(v,{index:[l,f],x0:a.c2p(t.x0+f*i.dx),x1:a.c2p(t.x0+(f+1)*i.dx),y0:M,y1:M,color:A,xVal:s,xLabelVal:s,yVal:S,yLabelVal:S,zLabelVal:b,text:E,hovertemplateLabels:{zLabel:b,colorLabel:y,"color[0]Label":A[0]+_[0],"color[1]Label":A[1]+_[1],"color[2]Label":A[2]+_[2],"color[3]Label":A[3]+_[3]}})]}}}},48928:function(H,U,e){H.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(H,U,e){var d=e(33428),C=e(3400),n=C.strTranslate,L=e(9616),w=e(47797),v=e(9188),g=e(2264).STYLE;H.exports=function(t,i,a,u){var f=i.xaxis,l=i.yaxis,m=!t._context._exportedPlot&&v();C.makeTraceGroups(u,a,"im").each(function(h){var T=d.select(this),c=h[0],o=c.trace,p=(o.zsmooth==="fast"||o.zsmooth===!1&&m)&&!o._hasZ&&o._hasSource&&f.type==="linear"&&l.type==="linear";o._realImage=p;var x=c.z,A=c.x0,_=c.y0,y=c.w,E=c.h,M=o.dx,s=o.dy,S,b,I,D,B,k;for(k=0;S===void 0&&k<y;)S=f.c2p(A+k*M),k++;for(k=y;b===void 0&&k>0;)b=f.c2p(A+k*M),k--;for(k=0;D===void 0&&k<E;)D=l.c2p(_+k*s),k++;for(k=E;B===void 0&&k>0;)B=l.c2p(_+k*s),k--;if(b<S&&(I=b,b=S,S=I),B<D&&(I=D,D=B,B=I),!p){var F=.5;S=Math.max(-F*f._length,S),b=Math.min((1+F)*f._length,b),D=Math.max(-F*l._length,D),B=Math.min((1+F)*l._length,B)}var N=Math.round(b-S),O=Math.round(B-D),V=N<=0||O<=0;if(V){var X=T.selectAll("image").data([]);X.exit().remove();return}function ee(j){var K=document.createElement("canvas");K.width=N,K.height=O;var ue=K.getContext("2d",{willReadFrequently:!0}),ae=function(Ge){return C.constrain(Math.round(f.c2p(A+Ge*M)-S),0,N)},he=function(Ge){return C.constrain(Math.round(l.c2p(_+Ge*s)-D),0,O)},xe=w.colormodel[o.colormodel],Se=xe.colormodel||o.colormodel,Ae=xe.fmt,De;for(k=0;k<c.w;k++){var we=ae(k),Ce=ae(k+1);if(!(Ce===we||isNaN(Ce)||isNaN(we)))for(var be=0;be<c.h;be++){var Pe=he(be),Ve=he(be+1);Ve===Pe||isNaN(Ve)||isNaN(Pe)||!j(k,be)||(De=o._scaler(j(k,be)),De?ue.fillStyle=Se+"("+Ae(De).join(",")+")":ue.fillStyle="rgba(0,0,0,0)",ue.fillRect(we,Pe,Ce-we,Ve-Pe))}}return K}var ne=T.selectAll("image").data([h]);ne.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),ne.exit().remove();var q=o.zsmooth===!1?g:"";if(p){var se=C.simpleMap(f.range,f.r2l),J=C.simpleMap(l.range,l.r2l),Z=se[1]<se[0],te=J[1]>J[0];if(Z||te){var Y=S+N/2,ie=D+O/2;q+="transform:"+n(Y+"px",ie+"px")+"scale("+(Z?-1:1)+","+(te?-1:1)+")"+n(-Y+"px",-ie+"px")+";"}}ne.attr("style",q);var le=new Promise(function(j){if(o._hasZ)j();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===y&&o._canvas.el.height===E&&o._canvas.source===o.source)j();else{var K=document.createElement("canvas");K.width=y,K.height=E;var ue=K.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var ae=o._image;ae.onload=function(){ue.drawImage(ae,0,0),o._canvas={el:K,source:o.source},j()},ae.setAttribute("src",o.source)}}).then(function(){var j,K;if(o._hasZ)K=ee(function(he,xe){var Se=x[xe][he];return C.isTypedArray(Se)&&(Se=Array.from(Se)),Se}),j=K.toDataURL("image/png");else if(o._hasSource)if(p)j=o.source;else{var ue=o._canvas.el.getContext("2d",{willReadFrequently:!0}),ae=ue.getImageData(0,0,y,E).data;K=ee(function(he,xe){var Se=4*(xe*y+he);return[ae[Se],ae[Se+1],ae[Se+2],ae[Se+3]]}),j=K.toDataURL("image/png")}ne.attr({"xlink:href":j,height:O,width:N,x:S,y:D})});t._promises.push(le)})}},28576:function(H,U,e){var d=e(33428);H.exports=function(n){d.select(n).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},89864:function(H,U,e){var d=e(92880).extendFlat,C=e(92880).extendDeep,n=e(67824).overrideAll,L=e(25376),w=e(22548),v=e(86968).u,g=e(94724),r=e(31780).templatedArray,t=e(48164),i=e(29736).descriptionOnlyNumbers,a=L({editType:"plot",colorEditType:"plot"}),u={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:w.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",C({},u,{range:f}));H.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:d({},a,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:i("value")},font:d({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:i("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:d({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:C({},u,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:w.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:n({range:f,visible:d({},g.visible,{dflt:!0}),tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:d({},g.ticks,{dflt:"outside"}),ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:L({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:d({},u.line.color,{}),width:d({},u.line.width,{dflt:1}),editType:"plot"},thickness:d({},u.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(H,U,e){var d=e(7316);U.name="indicator",U.plot=function(C,n,L,w){d.plotBasePlot(U.name,C,n,L,w)},U.clean=function(C,n,L,w){d.cleanBasePlot(U.name,C,n,L,w)}},79136:function(H){function U(e,d){var C=[],n=d.value;typeof d._lastValue!="number"&&(d._lastValue=d.value);var L=d._lastValue,w=L;return d._hasDelta&&typeof d.delta.reference=="number"&&(w=d.delta.reference),C[0]={y:n,lastY:L,delta:n-w,relativeDelta:(n-w)/w},C}H.exports={calc:U}},12096:function(H){H.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(H,U,e){var d=e(3400),C=e(89864),n=e(86968).Q,L=e(31780),w=e(51272),v=e(12096),g=e(26332),r=e(25404),t=e(95936),i=e(42568);function a(f,l,m,h){function T(N,O){return d.coerce(f,l,C,N,O)}n(l,h,T),T("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var c=T("value");l._range=[0,typeof c=="number"?1.5*c:1];var o=new Array(2),p;if(l._hasNumber){T("number.valueformat");var x=d.extendFlat({},h.font);x.size=void 0,d.coerceFont(T,"number.font",x),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,o[0]=!0),T("number.prefix"),T("number.suffix"),p=l.number.font.size}var A;if(l._hasDelta){var _=d.extendFlat({},h.font);_.size=void 0,d.coerceFont(T,"delta.font",_),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(p||v.defaultNumberFontSize),o[1]=!0),T("delta.reference",l.value),T("delta.relative"),T("delta.valueformat",l.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),A=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||o[0])&&(!l._hasDelta||o[1])||!1;var y=d.extendFlat({},h.font);y.size=.25*(p||A||v.defaultNumberFontSize),d.coerceFont(T,"title.font",y),T("title.text");var E,M,s,S;function b(N,O){return d.coerce(E,M,C.gauge,N,O)}function I(N,O){return d.coerce(s,S,C.gauge.axis,N,O)}if(l._hasGauge){E=f.gauge,E||(E={}),M=L.newContainer(l,"gauge"),b("shape");var D=l._isBullet=l.gauge.shape==="bullet";D||T("title.align","center");var B=l._isAngular=l.gauge.shape==="angular";B||T("align","center"),b("bgcolor",h.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var k=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);b("bar.thickness",k),w(E,M,{name:"steps",handleItemDefaults:u}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),s={},E&&(s=E.axis||{}),S=L.newContainer(M,"axis"),I("visible"),l._range=I("range",l._range);var F={font:h.font,noAutotickangles:!0,outerTicks:!0};g(s,S,I,"linear"),i(s,S,I,"linear",F),t(s,S,I,"linear",F),r(s,S,I,F)}else T("title.align","center"),T("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function u(f,l){function m(h,T){return d.coerce(f,l,C.gauge.steps,h,T)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}H.exports={supplyDefaults:a}},43480:function(H,U,e){H.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(H,U,e){var d=e(33428),C=e(67756).qy,n=e(67756).Gz,L=e(3400),w=L.strScale,v=L.strTranslate,g=L.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),i=e(12096),a=e(72736),u=e(54460),f=e(28336),l=e(37668),m=e(94724),h=e(76308),T={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},o=/[yzafpnmkMGTPEZY]/;function p(D){return D&&D.duration>0}H.exports=function(B,k,F,N){var O=B._fullLayout,V;p(F)&&N&&(V=N()),L.makeTraceGroups(O._indicatorlayer,k,"trace").each(function(X){var ee=X[0],ne=ee.trace,q=d.select(this),se=ne._hasGauge,J=ne._isAngular,Z=ne._isBullet,te=ne.domain,Y={w:O._size.w*(te.x[1]-te.x[0]),h:O._size.h*(te.y[1]-te.y[0]),l:O._size.l+O._size.w*te.x[0],r:O._size.r+O._size.w*(1-te.x[1]),t:O._size.t+O._size.h*(1-te.y[1]),b:O._size.b+O._size.h*te.y[0]},ie=Y.l+Y.w/2,le=Y.t+Y.h/2,j=Math.min(Y.w/2,Y.h),K=i.innerRadius*j,ue,ae,he,xe=ne.align||"center";if(ae=le,!se)ue=Y.l+c[xe]*Y.w,he=function(Fe){return s(Fe,Y.w,Y.h)};else if(J&&(ue=ie,ae=le+j/2,he=function(Fe){return S(Fe,.9*K)}),Z){var Se=i.bulletPadding,Ae=1-i.bulletNumberDomainSize+Se;ue=Y.l+(Ae+(1-Ae)*c[xe])*Y.w,he=function(Fe){return s(Fe,(i.bulletNumberDomainSize-Se)*Y.w,Y.h)}}_(B,q,X,{numbersX:ue,numbersY:ae,numbersScaler:he,transitionOpts:F,onComplete:V});var De,we;se&&(De={range:ne.gauge.axis.range,color:ne.gauge.bgcolor,line:{color:ne.gauge.bordercolor,width:0},thickness:1},we={range:ne.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ne.gauge.bordercolor,width:ne.gauge.borderwidth},thickness:1});var Ce=q.selectAll("g.angular").data(J?X:[]);Ce.exit().remove();var be=q.selectAll("g.angularaxis").data(J?X:[]);be.exit().remove(),J&&A(B,q,X,{radius:j,innerRadius:K,gauge:Ce,layer:be,size:Y,gaugeBg:De,gaugeOutline:we,transitionOpts:F,onComplete:V});var Pe=q.selectAll("g.bullet").data(Z?X:[]);Pe.exit().remove();var Ve=q.selectAll("g.bulletaxis").data(Z?X:[]);Ve.exit().remove(),Z&&x(B,q,X,{gauge:Pe,layer:Ve,size:Y,gaugeBg:De,gaugeOutline:we,transitionOpts:F,onComplete:V});var Ge=q.selectAll("text.title").data(X);Ge.exit().remove(),Ge.enter().append("text").classed("title",!0),Ge.attr("text-anchor",function(){return Z?T.right:T[ne.title.align]}).text(ne.title.text).call(t.font,ne.title.font).call(a.convertToTspans,B),Ge.attr("transform",function(){var Fe=Y.l+Y.w*c[ne.title.align],He,ft=i.titlePadding,gt=t.bBox(Ge.node());if(se){if(J)if(ne.gauge.axis.visible){var ct=t.bBox(be.node());He=ct.top-ft-gt.bottom}else He=Y.t+Y.h/2-j/2-gt.bottom-ft;Z&&(He=ae-(gt.top+gt.bottom)/2,Fe=Y.l-i.bulletPadding*Y.w)}else He=ne._numbersTop-ft-gt.bottom;return v(Fe,He)})})};function x(D,B,k,F){var N=k[0].trace,O=F.gauge,V=F.layer,X=F.gaugeBg,ee=F.gaugeOutline,ne=F.size,q=N.domain,se=F.transitionOpts,J=F.onComplete,Z,te,Y,ie,le;O.enter().append("g").classed("bullet",!0),O.attr("transform",v(ne.l,ne.t)),V.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),V.selectAll("g.xbulletaxistick,path,text").remove();var j=ne.h,K=N.gauge.bar.thickness*j,ue=q.x[0],ae=q.x[0]+(q.x[1]-q.x[0])*(N._hasNumber||N._hasDelta?1-i.bulletNumberDomainSize:1);Z=M(D,N.gauge.axis),Z._id="xbulletaxis",Z.domain=[ue,ae],Z.setScale(),te=u.calcTicks(Z),Y=u.makeTransTickFn(Z),ie=u.getTickSigns(Z)[2],le=ne.t+ne.h,Z.visible&&(u.drawTicks(D,Z,{vals:Z.ticks==="inside"?u.clipEnds(Z,te):te,layer:V,path:u.makeTickPath(Z,le,ie),transFn:Y}),u.drawLabels(D,Z,{vals:te,layer:V,transFn:Y,labelFns:u.makeLabelFns(Z,le)}));function he(be){be.attr("width",function(Pe){return Math.max(0,Z.c2p(Pe.range[1])-Z.c2p(Pe.range[0]))}).attr("x",function(Pe){return Z.c2p(Pe.range[0])}).attr("y",function(Pe){return .5*(1-Pe.thickness)*j}).attr("height",function(Pe){return Pe.thickness*j})}var xe=[X].concat(N.gauge.steps),Se=O.selectAll("g.bg-bullet").data(xe);Se.enter().append("g").classed("bg-bullet",!0).append("rect"),Se.select("rect").call(he).call(y),Se.exit().remove();var Ae=O.selectAll("g.value-bullet").data([N.gauge.bar]);Ae.enter().append("g").classed("value-bullet",!0).append("rect"),Ae.select("rect").attr("height",K).attr("y",(j-K)/2).call(y),p(se)?Ae.select("rect").transition().duration(se.duration).ease(se.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()}).attr("width",Math.max(0,Z.c2p(Math.min(N.gauge.axis.range[1],k[0].y)))):Ae.select("rect").attr("width",typeof k[0].y=="number"?Math.max(0,Z.c2p(Math.min(N.gauge.axis.range[1],k[0].y))):0),Ae.exit().remove();var De=k.filter(function(){return N.gauge.threshold.value||N.gauge.threshold.value===0}),we=O.selectAll("g.threshold-bullet").data(De);we.enter().append("g").classed("threshold-bullet",!0).append("line"),we.select("line").attr("x1",Z.c2p(N.gauge.threshold.value)).attr("x2",Z.c2p(N.gauge.threshold.value)).attr("y1",(1-N.gauge.threshold.thickness)/2*j).attr("y2",(1-(1-N.gauge.threshold.thickness)/2)*j).call(h.stroke,N.gauge.threshold.line.color).style("stroke-width",N.gauge.threshold.line.width),we.exit().remove();var Ce=O.selectAll("g.gauge-outline").data([ee]);Ce.enter().append("g").classed("gauge-outline",!0).append("rect"),Ce.select("rect").call(he).call(y),Ce.exit().remove()}function A(D,B,k,F){var N=k[0].trace,O=F.size,V=F.radius,X=F.innerRadius,ee=F.gaugeBg,ne=F.gaugeOutline,q=[O.l+O.w/2,O.t+O.h/2+V/2],se=F.gauge,J=F.layer,Z=F.transitionOpts,te=F.onComplete,Y=Math.PI/2;function ie(nt){var dt=N.gauge.axis.range[0],pt=N.gauge.axis.range[1],wt=(nt-dt)/(pt-dt)*Math.PI-Y;return wt<-Y?-Y:wt>Y?Y:wt}function le(nt){return d.svg.arc().innerRadius((X+V)/2-nt/2*(V-X)).outerRadius((X+V)/2+nt/2*(V-X)).startAngle(-Y)}function j(nt){nt.attr("d",function(dt){return le(dt.thickness).startAngle(ie(dt.range[0])).endAngle(ie(dt.range[1]))()})}var K,ue,ae,he;se.enter().append("g").classed("angular",!0),se.attr("transform",v(q[0],q[1])),J.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),J.selectAll("g.xangularaxistick,path,text").remove(),K=M(D,N.gauge.axis),K.type="linear",K.range=N.gauge.axis.range,K._id="xangularaxis",K.ticklabeloverflow="allow",K.setScale();var xe=function(nt){return(K.range[0]-nt.x)/(K.range[1]-K.range[0])*Math.PI+Math.PI},Se={},Ae=u.makeLabelFns(K,0),De=Ae.labelStandoff;Se.xFn=function(nt){var dt=xe(nt);return Math.cos(dt)*De},Se.yFn=function(nt){var dt=xe(nt),pt=Math.sin(dt)>0?.2:1;return-Math.sin(dt)*(De+nt.fontSize*pt)+Math.abs(Math.cos(dt))*(nt.fontSize*r)},Se.anchorFn=function(nt){var dt=xe(nt),pt=Math.cos(dt);return Math.abs(pt)<.1?"middle":pt>0?"start":"end"},Se.heightFn=function(nt,dt,pt){var wt=xe(nt);return-.5*(1+Math.sin(wt))*pt};var we=function(nt){return v(q[0]+V*Math.cos(nt),q[1]-V*Math.sin(nt))};ae=function(nt){return we(xe(nt))};var Ce=function(nt){var dt=xe(nt);return we(dt)+"rotate("+-g(dt)+")"};if(ue=u.calcTicks(K),he=u.getTickSigns(K)[2],K.visible){he=K.ticks==="inside"?-1:1;var be=(K.linewidth||1)/2;u.drawTicks(D,K,{vals:ue,layer:J,path:"M"+he*be+",0h"+he*K.ticklen,transFn:Ce}),u.drawLabels(D,K,{vals:ue,layer:J,transFn:ae,labelFns:Se})}var Pe=[ee].concat(N.gauge.steps),Ve=se.selectAll("g.bg-arc").data(Pe);Ve.enter().append("g").classed("bg-arc",!0).append("path"),Ve.select("path").call(j).call(y),Ve.exit().remove();var Ge=le(N.gauge.bar.thickness),Fe=se.selectAll("g.value-arc").data([N.gauge.bar]);Fe.enter().append("g").classed("value-arc",!0).append("path");var He=Fe.select("path");p(Z)?(He.transition().duration(Z.duration).ease(Z.easing).each("end",function(){te&&te()}).each("interrupt",function(){te&&te()}).attrTween("d",E(Ge,ie(k[0].lastY),ie(k[0].y))),N._lastValue=k[0].y):He.attr("d",typeof k[0].y=="number"?Ge.endAngle(ie(k[0].y)):"M0,0Z"),He.call(y),Fe.exit().remove(),Pe=[];var ft=N.gauge.threshold.value;(ft||ft===0)&&Pe.push({range:[ft,ft],color:N.gauge.threshold.color,line:{color:N.gauge.threshold.line.color,width:N.gauge.threshold.line.width},thickness:N.gauge.threshold.thickness});var gt=se.selectAll("g.threshold-arc").data(Pe);gt.enter().append("g").classed("threshold-arc",!0).append("path"),gt.select("path").call(j).call(y),gt.exit().remove();var ct=se.selectAll("g.gauge-outline").data([ne]);ct.enter().append("g").classed("gauge-outline",!0).append("path"),ct.select("path").call(j).call(y),ct.exit().remove()}function _(D,B,k,F){var N=k[0].trace,O=F.numbersX,V=F.numbersY,X=N.align||"center",ee=T[X],ne=F.transitionOpts,q=F.onComplete,se=L.ensureSingle(B,"g","numbers"),J,Z,te,Y=[];N._hasNumber&&Y.push("number"),N._hasDelta&&(Y.push("delta"),N.delta.position==="left"&&Y.reverse());var ie=se.selectAll("text").data(Y);ie.enter().append("text"),ie.attr("text-anchor",function(){return ee}).attr("class",function(we){return we}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),ie.exit().remove();function le(we,Ce,be,Pe){if(we.match("s")&&be>=0!=Pe>=0&&!Ce(be).slice(-1).match(o)&&!Ce(Pe).slice(-1).match(o)){var Ve=we.slice().replace("s","f").replace(/\d+/,function(Fe){return parseInt(Fe)-1}),Ge=M(D,{tickformat:Ve});return function(Fe){return Math.abs(Fe)<1?u.tickText(Ge,Fe).text:Ce(Fe)}}else return Ce}function j(){var we=M(D,{tickformat:N.number.valueformat},N._range);we.setScale(),u.prepTicks(we);var Ce=function(Fe){return u.tickText(we,Fe).text},be=N.number.suffix,Pe=N.number.prefix,Ve=se.select("text.number");function Ge(){var Fe=typeof k[0].y=="number"?Pe+Ce(k[0].y)+be:"-";Ve.text(Fe).call(t.font,N.number.font).call(a.convertToTspans,D)}return p(ne)?Ve.transition().duration(ne.duration).ease(ne.easing).each("end",function(){Ge(),q&&q()}).each("interrupt",function(){Ge(),q&&q()}).attrTween("text",function(){var Fe=d.select(this),He=n(k[0].lastY,k[0].y);N._lastValue=k[0].y;var ft=le(N.number.valueformat,Ce,k[0].lastY,k[0].y);return function(gt){Fe.text(Pe+ft(He(gt))+be)}}):Ge(),J=b(Pe+Ce(k[0].y)+be,N.number.font,ee,D),Ve}function K(){var we=M(D,{tickformat:N.delta.valueformat},N._range);we.setScale(),u.prepTicks(we);var Ce=function(gt){return u.tickText(we,gt).text},be=N.delta.suffix,Pe=N.delta.prefix,Ve=function(gt){var ct=N.delta.relative?gt.relativeDelta:gt.delta;return ct},Ge=function(gt,ct){return gt===0||typeof gt!="number"||isNaN(gt)?"-":(gt>0?N.delta.increasing.symbol:N.delta.decreasing.symbol)+Pe+ct(gt)+be},Fe=function(gt){return gt.delta>=0?N.delta.increasing.color:N.delta.decreasing.color};N._deltaLastValue===void 0&&(N._deltaLastValue=Ve(k[0]));var He=se.select("text.delta");He.call(t.font,N.delta.font).call(h.fill,Fe({delta:N._deltaLastValue}));function ft(){He.text(Ge(Ve(k[0]),Ce)).call(h.fill,Fe(k[0])).call(a.convertToTspans,D)}return p(ne)?He.transition().duration(ne.duration).ease(ne.easing).tween("text",function(){var gt=d.select(this),ct=Ve(k[0]),nt=N._deltaLastValue,dt=le(N.delta.valueformat,Ce,nt,ct),pt=n(nt,ct);return N._deltaLastValue=ct,function(wt){gt.text(Ge(pt(wt),dt)),gt.call(h.fill,Fe({delta:pt(wt)}))}}).each("end",function(){ft(),q&&q()}).each("interrupt",function(){ft(),q&&q()}):ft(),Z=b(Ge(Ve(k[0]),Ce),N.delta.font,ee,D),He}var ue=N.mode+N.align,ae;if(N._hasDelta&&(ae=K(),ue+=N.delta.position+N.delta.font.size+N.delta.font.family+N.delta.valueformat,ue+=N.delta.increasing.symbol+N.delta.decreasing.symbol,te=Z),N._hasNumber&&(j(),ue+=N.number.font.size+N.number.font.family+N.number.valueformat+N.number.suffix+N.number.prefix,te=J),N._hasDelta&&N._hasNumber){var he=[(J.left+J.right)/2,(J.top+J.bottom)/2],xe=[(Z.left+Z.right)/2,(Z.top+Z.bottom)/2],Se,Ae,De=.75*N.delta.font.size;N.delta.position==="left"&&(Se=I(N,"deltaPos",0,-1*(J.width*c[N.align]+Z.width*(1-c[N.align])+De),ue,Math.min),Ae=he[1]-xe[1],te={width:J.width+Z.width+De,height:Math.max(J.height,Z.height),left:Z.left+Se,right:J.right,top:Math.min(J.top,Z.top+Ae),bottom:Math.max(J.bottom,Z.bottom+Ae)}),N.delta.position==="right"&&(Se=I(N,"deltaPos",0,J.width*(1-c[N.align])+Z.width*c[N.align]+De,ue,Math.max),Ae=he[1]-xe[1],te={width:J.width+Z.width+De,height:Math.max(J.height,Z.height),left:J.left,right:Z.right+Se,top:Math.min(J.top,Z.top+Ae),bottom:Math.max(J.bottom,Z.bottom+Ae)}),N.delta.position==="bottom"&&(Se=null,Ae=Z.height,te={width:Math.max(J.width,Z.width),height:J.height+Z.height,left:Math.min(J.left,Z.left),right:Math.max(J.right,Z.right),top:J.bottom-J.height,bottom:J.bottom+Z.height}),N.delta.position==="top"&&(Se=null,Ae=J.top,te={width:Math.max(J.width,Z.width),height:J.height+Z.height,left:Math.min(J.left,Z.left),right:Math.max(J.right,Z.right),top:J.bottom-J.height-Z.height,bottom:J.bottom}),ae.attr({dx:Se,dy:Ae})}(N._hasNumber||N._hasDelta)&&se.attr("transform",function(){var we=F.numbersScaler(te);ue+=we[2];var Ce=I(N,"numbersScale",1,we[0],ue,Math.min),be;N._scaleNumbers||(Ce=1),N._isAngular?be=V-Ce*te.bottom:be=V-Ce*(te.top+te.bottom)/2,N._numbersTop=Ce*te.top+be;var Pe=te[X];X==="center"&&(Pe=(te.left+te.right)/2);var Ve=O-Ce*Pe;return Ve=I(N,"numbersTranslate",0,Ve,ue,Math.max),v(Ve,be)+w(Ce)})}function y(D){D.each(function(B){h.stroke(d.select(this),B.line.color)}).each(function(B){h.fill(d.select(this),B.color)}).style("stroke-width",function(B){return B.line.width})}function E(D,B,k){return function(){var F=C(B,k);return function(N){return D.endAngle(F(N))()}}}function M(D,B,k){var F=D._fullLayout,N=L.extendFlat({type:"linear",ticks:"outside",range:k,showline:!0},B),O={type:"linear",_id:"x"+B._id},V={letter:"x",font:F.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function X(ee,ne){return L.coerce(N,O,m,ee,ne)}return f(N,O,X,V,F),l(N,O,X,V),O}function s(D,B,k){var F=Math.min(B/D.width,k/D.height);return[F,D,B+"x"+k]}function S(D,B){var k=Math.sqrt(D.width/2*(D.width/2)+D.height*D.height),F=B/k;return[F,D,B]}function b(D,B,k,F){var N=document.createElementNS("http://www.w3.org/2000/svg","text"),O=d.select(N);return O.text(D).attr("x",0).attr("y",0).attr("text-anchor",k).attr("data-unformatted",D).call(a.convertToTspans,F).call(t.font,B),t.bBox(O.node())}function I(D,B,k,F,N,O){var V="_cache"+B;D[V]&&D[V].key===N||(D[V]={key:N,value:k});var X=L.aggNums(O,null,[D[V].value,F],2);return D[V].value=X,X}},50048:function(H,U,e){var d=e(49084),C=e(29736).axisHoverFormat,n=e(21776).Ks,L=e(52948),w=e(45464),v=e(92880).extendFlat,g=e(67824).overrideAll;function r(a){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(a){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var i=H.exports=g(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:n(),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),valuehoverformat:C("value",1),showlegend:v({},w.showlegend,{dflt:!1})},d("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},w.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},62624:function(H,U,e){var d=e(47128),C=e(3832).processGrid,n=e(3832).filter;H.exports=function(w,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=n(v.x,v._len),v._y=n(v.y,v._len),v._z=n(v.z,v._len),v._value=n(v.value,v._len);var g=C(v);v._gridFill=g.fill,v._Xs=g.Xs,v._Ys=g.Ys,v._Zs=g.Zs,v._len=g.len;for(var r=1/0,t=-1/0,i=0;i<v._len;i++){var a=v._value[i];r=Math.min(r,a),t=Math.max(t,a)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,d(w,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(H,U,e){var d=e(67792).gl_mesh3d,C=e(33040).parseColorScale,n=e(3400).isArrayOrTypedArray,L=e(43080),w=e(8932).extractOpts,v=e(52094),g=function(f,l){for(var m=l.length-1;m>0;m--){var h=Math.min(l[m],l[m-1]),T=Math.max(l[m],l[m-1]);if(T>h&&h<f&&f<=T)return{id:m,distRatio:(T-f)/(T-h)}}return{id:0,distRatio:0}};function r(f,l,m){this.scene=f,this.uid=m,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(f){if(f.object===this.mesh){var l=f.data.index,m=this.data._meshX[l],h=this.data._meshY[l],T=this.data._meshZ[l],c=this.data._Ys.length,o=this.data._Zs.length,p=g(m,this.data._Xs).id,x=g(h,this.data._Ys).id,A=g(T,this.data._Zs).id,_=f.index=A+o*x+o*c*p;f.traceCoordinate=[this.data._meshX[_],this.data._meshY[_],this.data._meshZ[_],this.data._value[_]];var y=this.data.hovertext||this.data.text;return n(y)&&y[_]!==void 0?f.textLabel=y[_]:y&&(f.textLabel=y),!0}},t.update=function(f){var l=this.scene,m=l.fullSceneLayout;this.data=a(f);function h(x,A,_,y){return A.map(function(E){return x.d2l(E,0,y)*_})}var T=v(h(m.xaxis,f._meshX,l.dataScale[0],f.xcalendar),h(m.yaxis,f._meshY,l.dataScale[1],f.ycalendar),h(m.zaxis,f._meshZ,l.dataScale[2],f.zcalendar)),c=v(f._meshI,f._meshJ,f._meshK),o={positions:T,cells:c,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,contourEnable:f.contour.show,contourColor:L(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},p=w(f);o.vertexIntensity=f._meshIntensity,o.vertexIntensityBounds=[p.min,p.max],o.colormap=C(f),this.mesh.update(o)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var i=["xyz","xzy","yxz","yzx","zxy","zyx"];function a(f){f._meshI=[],f._meshJ=[],f._meshK=[];var l=f.surface.show,m=f.spaceframe.show,h=f.surface.fill,T=f.spaceframe.fill,c=!1,o=!1,p=0,x,A,_=f._Xs,y=f._Ys,E=f._Zs,M=_.length,s=y.length,S=E.length,b=i.indexOf(f._gridFill.replace(/-/g,"").replace(/\+/g,"")),I=function(Je,Xe,Oe){switch(b){case 5:return Oe+S*Xe+S*s*Je;case 4:return Oe+S*Je+S*M*Xe;case 3:return Xe+s*Oe+s*S*Je;case 2:return Xe+s*Je+s*M*Oe;case 1:return Je+M*Oe+M*S*Xe;default:return Je+M*Xe+M*s*Oe}},D=f._minValues,B=f._maxValues,k=f._vMin,F=f._vMax,N,O,V,X;function ee(Je,Xe,Oe){for(var ke=X.length,Ke=A;Ke<ke;Ke++)if(Je===N[Ke]&&Xe===O[Ke]&&Oe===V[Ke])return Ke;return-1}function ne(){A=x}function q(){N=[],O=[],V=[],X=[],x=0,ne()}function se(Je,Xe,Oe,ke){return N.push(Je),O.push(Xe),V.push(Oe),X.push(ke),x++,x-1}function J(Je,Xe,Oe){return f._meshI.push(Je),f._meshJ.push(Xe),f._meshK.push(Oe),p++,p-1}function Z(Je,Xe,Oe){for(var ke=[],Ke=0;Ke<Je.length;Ke++)ke[Ke]=(Je[Ke]+Xe[Ke]+Oe[Ke])/3;return ke}function te(Je,Xe,Oe){for(var ke=[],Ke=0;Ke<Je.length;Ke++)ke[Ke]=Je[Ke]*(1-Oe)+Oe*Xe[Ke];return ke}var Y;function ie(Je){Y=Je}function le(Je,Xe){var Oe=Je[0],ke=Je[1],Ke=Je[2],Ie=Z(Oe,ke,Ke),pe=Math.sqrt(1-Y),Te=te(Ie,Oe,pe),Ue=te(Ie,ke,pe),et=te(Ie,Ke,pe),st=Xe[0],lt=Xe[1],jt=Xe[2];return{xyzv:[[Oe,ke,Ue],[Ue,Te,Oe],[ke,Ke,et],[et,Ue,ke],[Ke,Oe,Te],[Te,et,Ke]],abc:[[st,lt,-1],[-1,-1,st],[lt,jt,-1],[-1,-1,lt],[jt,st,-1],[-1,-1,jt]]}}function j(Je,Xe){return Je==="all"||Je===null?!0:Je.indexOf(Xe)>-1}function K(Je,Xe){return Je===null?Xe:Je}function ue(Je,Xe,Oe){ne();var ke=[Xe],Ke=[Oe];if(Y>=1)ke=[Xe],Ke=[Oe];else if(Y>0){var Ie=le(Xe,Oe);ke=Ie.xyzv,Ke=Ie.abc}for(var pe=0;pe<ke.length;pe++){Xe=ke[pe],Oe=Ke[pe];for(var Te=[],Ue=0;Ue<3;Ue++){var et=Xe[Ue][0],st=Xe[Ue][1],lt=Xe[Ue][2],jt=Xe[Ue][3],Jt=Oe[Ue]>-1?Oe[Ue]:ee(et,st,lt);Jt>-1?Te[Ue]=Jt:Te[Ue]=se(et,st,lt,K(Je,jt))}J(Te[0],Te[1],Te[2])}}function ae(Je,Xe,Oe){var ke=function(Ke,Ie,pe){ue(Je,[Xe[Ke],Xe[Ie],Xe[pe]],[Oe[Ke],Oe[Ie],Oe[pe]])};ke(0,1,2),ke(2,3,0)}function he(Je,Xe,Oe){var ke=function(Ke,Ie,pe){ue(Je,[Xe[Ke],Xe[Ie],Xe[pe]],[Oe[Ke],Oe[Ie],Oe[pe]])};ke(0,1,2),ke(3,0,1),ke(2,3,0),ke(1,2,3)}function xe(Je,Xe,Oe,ke){var Ke=Je[3];Ke<Oe&&(Ke=Oe),Ke>ke&&(Ke=ke);for(var Ie=(Je[3]-Ke)/(Je[3]-Xe[3]+1e-9),pe=[],Te=0;Te<4;Te++)pe[Te]=(1-Ie)*Je[Te]+Ie*Xe[Te];return pe}function Se(Je,Xe,Oe){return Je>=Xe&&Je<=Oe}function Ae(Je){var Xe=.001*(F-k);return Je>=k-Xe&&Je<=F+Xe}function De(Je){for(var Xe=[],Oe=0;Oe<4;Oe++){var ke=Je[Oe];Xe.push([f._x[ke],f._y[ke],f._z[ke],f._value[ke]])}return Xe}var we=3;function Ce(Je,Xe,Oe,ke,Ke,Ie){Ie||(Ie=1),Oe=[-1,-1,-1];var pe=!1,Te=[Se(Xe[0][3],ke,Ke),Se(Xe[1][3],ke,Ke),Se(Xe[2][3],ke,Ke)];if(!Te[0]&&!Te[1]&&!Te[2])return!1;var Ue=function(st,lt,jt){return Ae(lt[0][3])&&Ae(lt[1][3])&&Ae(lt[2][3])?(ue(st,lt,jt),!0):Ie<we?Ce(st,lt,jt,k,F,++Ie):!1};if(Te[0]&&Te[1]&&Te[2])return Ue(Je,Xe,Oe)||pe;var et=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(st){if(Te[st[0]]&&Te[st[1]]&&!Te[st[2]]){var lt=Xe[st[0]],jt=Xe[st[1]],Jt=Xe[st[2]],St=xe(Jt,lt,ke,Ke),Rt=xe(Jt,jt,ke,Ke);pe=Ue(Je,[Rt,St,lt],[-1,-1,Oe[st[0]]])||pe,pe=Ue(Je,[lt,jt,Rt],[Oe[st[0]],Oe[st[1]],-1])||pe,et=!0}}),et||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(st){if(Te[st[0]]&&!Te[st[1]]&&!Te[st[2]]){var lt=Xe[st[0]],jt=Xe[st[1]],Jt=Xe[st[2]],St=xe(jt,lt,ke,Ke),Rt=xe(Jt,lt,ke,Ke);pe=Ue(Je,[Rt,St,lt],[-1,-1,Oe[st[0]]])||pe,et=!0}}),pe}function be(Je,Xe,Oe,ke){var Ke=!1,Ie=De(Xe),pe=[Se(Ie[0][3],Oe,ke),Se(Ie[1][3],Oe,ke),Se(Ie[2][3],Oe,ke),Se(Ie[3][3],Oe,ke)];if(!pe[0]&&!pe[1]&&!pe[2]&&!pe[3])return Ke;if(pe[0]&&pe[1]&&pe[2]&&pe[3])return o&&(Ke=he(Je,Ie,Xe)||Ke),Ke;var Te=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ue){if(pe[Ue[0]]&&pe[Ue[1]]&&pe[Ue[2]]&&!pe[Ue[3]]){var et=Ie[Ue[0]],st=Ie[Ue[1]],lt=Ie[Ue[2]],jt=Ie[Ue[3]];if(o)Ke=ue(Je,[et,st,lt],[Xe[Ue[0]],Xe[Ue[1]],Xe[Ue[2]]])||Ke;else{var Jt=xe(jt,et,Oe,ke),St=xe(jt,st,Oe,ke),Rt=xe(jt,lt,Oe,ke);Ke=ue(null,[Jt,St,Rt],[-1,-1,-1])||Ke}Te=!0}}),Te||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ue){if(pe[Ue[0]]&&pe[Ue[1]]&&!pe[Ue[2]]&&!pe[Ue[3]]){var et=Ie[Ue[0]],st=Ie[Ue[1]],lt=Ie[Ue[2]],jt=Ie[Ue[3]],Jt=xe(lt,et,Oe,ke),St=xe(lt,st,Oe,ke),Rt=xe(jt,st,Oe,ke),$t=xe(jt,et,Oe,ke);o?(Ke=ue(Je,[et,$t,Jt],[Xe[Ue[0]],-1,-1])||Ke,Ke=ue(Je,[st,St,Rt],[Xe[Ue[1]],-1,-1])||Ke):Ke=ae(null,[Jt,St,Rt,$t],[-1,-1,-1,-1])||Ke,Te=!0}}),Te)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ue){if(pe[Ue[0]]&&!pe[Ue[1]]&&!pe[Ue[2]]&&!pe[Ue[3]]){var et=Ie[Ue[0]],st=Ie[Ue[1]],lt=Ie[Ue[2]],jt=Ie[Ue[3]],Jt=xe(st,et,Oe,ke),St=xe(lt,et,Oe,ke),Rt=xe(jt,et,Oe,ke);o?(Ke=ue(Je,[et,Jt,St],[Xe[Ue[0]],-1,-1])||Ke,Ke=ue(Je,[et,St,Rt],[Xe[Ue[0]],-1,-1])||Ke,Ke=ue(Je,[et,Rt,Jt],[Xe[Ue[0]],-1,-1])||Ke):Ke=ue(null,[Jt,St,Rt],[-1,-1,-1])||Ke,Te=!0}}),Ke}function Pe(Je,Xe,Oe,ke,Ke,Ie,pe,Te,Ue,et,st){var lt=!1;return c&&(j(Je,"A")&&(lt=be(null,[Xe,Oe,ke,Ie],et,st)||lt),j(Je,"B")&&(lt=be(null,[Oe,ke,Ke,Ue],et,st)||lt),j(Je,"C")&&(lt=be(null,[Oe,Ie,pe,Ue],et,st)||lt),j(Je,"D")&&(lt=be(null,[ke,Ie,Te,Ue],et,st)||lt),j(Je,"E")&&(lt=be(null,[Oe,ke,Ie,Ue],et,st)||lt)),o&&(lt=be(Je,[Oe,ke,Ie,Ue],et,st)||lt),lt}function Ve(Je,Xe,Oe,ke,Ke,Ie,pe,Te){return[Te[0]===!0?!0:Ce(Je,De([Xe,Oe,ke]),[Xe,Oe,ke],Ie,pe),Te[1]===!0?!0:Ce(Je,De([ke,Ke,Xe]),[ke,Ke,Xe],Ie,pe)]}function Ge(Je,Xe,Oe,ke,Ke,Ie,pe,Te,Ue){return Te?Ve(Je,Xe,Oe,Ke,ke,Ie,pe,Ue):Ve(Je,Oe,Ke,ke,Xe,Ie,pe,Ue)}function Fe(Je,Xe,Oe,ke,Ke,Ie,pe){var Te=!1,Ue,et,st,lt,jt=function(){Te=Ce(Je,[Ue,et,st],[-1,-1,-1],Ke,Ie)||Te,Te=Ce(Je,[st,lt,Ue],[-1,-1,-1],Ke,Ie)||Te},Jt=pe[0],St=pe[1],Rt=pe[2];return Jt&&(Ue=te(De([I(Xe,Oe-0,ke-0)])[0],De([I(Xe-1,Oe-0,ke-0)])[0],Jt),et=te(De([I(Xe,Oe-0,ke-1)])[0],De([I(Xe-1,Oe-0,ke-1)])[0],Jt),st=te(De([I(Xe,Oe-1,ke-1)])[0],De([I(Xe-1,Oe-1,ke-1)])[0],Jt),lt=te(De([I(Xe,Oe-1,ke-0)])[0],De([I(Xe-1,Oe-1,ke-0)])[0],Jt),jt()),St&&(Ue=te(De([I(Xe-0,Oe,ke-0)])[0],De([I(Xe-0,Oe-1,ke-0)])[0],St),et=te(De([I(Xe-0,Oe,ke-1)])[0],De([I(Xe-0,Oe-1,ke-1)])[0],St),st=te(De([I(Xe-1,Oe,ke-1)])[0],De([I(Xe-1,Oe-1,ke-1)])[0],St),lt=te(De([I(Xe-1,Oe,ke-0)])[0],De([I(Xe-1,Oe-1,ke-0)])[0],St),jt()),Rt&&(Ue=te(De([I(Xe-0,Oe-0,ke)])[0],De([I(Xe-0,Oe-0,ke-1)])[0],Rt),et=te(De([I(Xe-0,Oe-1,ke)])[0],De([I(Xe-0,Oe-1,ke-1)])[0],Rt),st=te(De([I(Xe-1,Oe-1,ke)])[0],De([I(Xe-1,Oe-1,ke-1)])[0],Rt),lt=te(De([I(Xe-1,Oe-0,ke)])[0],De([I(Xe-1,Oe-0,ke-1)])[0],Rt),jt()),Te}function He(Je,Xe,Oe,ke,Ke,Ie,pe,Te,Ue,et,st,lt){var jt=Je;return lt?(c&&Je==="even"&&(jt=null),Pe(jt,Xe,Oe,ke,Ke,Ie,pe,Te,Ue,et,st)):(c&&Je==="odd"&&(jt=null),Pe(jt,Ue,Te,pe,Ie,Ke,ke,Oe,Xe,et,st))}function ft(Je,Xe,Oe,ke,Ke){for(var Ie=[],pe=0,Te=0;Te<Xe.length;Te++)for(var Ue=Xe[Te],et=1;et<S;et++)for(var st=1;st<s;st++)Ie.push(Ge(Je,I(Ue,st-1,et-1),I(Ue,st-1,et),I(Ue,st,et-1),I(Ue,st,et),Oe,ke,(Ue+st+et)%2,Ke&&Ke[pe]?Ke[pe]:[])),pe++;return Ie}function gt(Je,Xe,Oe,ke,Ke){for(var Ie=[],pe=0,Te=0;Te<Xe.length;Te++)for(var Ue=Xe[Te],et=1;et<M;et++)for(var st=1;st<S;st++)Ie.push(Ge(Je,I(et-1,Ue,st-1),I(et,Ue,st-1),I(et-1,Ue,st),I(et,Ue,st),Oe,ke,(et+Ue+st)%2,Ke&&Ke[pe]?Ke[pe]:[])),pe++;return Ie}function ct(Je,Xe,Oe,ke,Ke){for(var Ie=[],pe=0,Te=0;Te<Xe.length;Te++)for(var Ue=Xe[Te],et=1;et<s;et++)for(var st=1;st<M;st++)Ie.push(Ge(Je,I(st-1,et-1,Ue),I(st-1,et,Ue),I(st,et-1,Ue),I(st,et,Ue),Oe,ke,(st+et+Ue)%2,Ke&&Ke[pe]?Ke[pe]:[])),pe++;return Ie}function nt(Je,Xe,Oe){for(var ke=1;ke<S;ke++)for(var Ke=1;Ke<s;Ke++)for(var Ie=1;Ie<M;Ie++)He(Je,I(Ie-1,Ke-1,ke-1),I(Ie-1,Ke-1,ke),I(Ie-1,Ke,ke-1),I(Ie-1,Ke,ke),I(Ie,Ke-1,ke-1),I(Ie,Ke-1,ke),I(Ie,Ke,ke-1),I(Ie,Ke,ke),Xe,Oe,(Ie+Ke+ke)%2)}function dt(Je,Xe,Oe){o=!0,nt(Je,Xe,Oe),o=!1}function pt(Je,Xe,Oe){c=!0,nt(Je,Xe,Oe),c=!1}function wt(Je,Xe,Oe,ke,Ke,Ie){for(var pe=[],Te=0,Ue=0;Ue<Xe.length;Ue++)for(var et=Xe[Ue],st=1;st<S;st++)for(var lt=1;lt<s;lt++)pe.push(Fe(Je,et,lt,st,Oe,ke,Ke[Ue],Ie&&Ie[Te]?Ie[Te]:[])),Te++;return pe}function Tt(Je,Xe,Oe,ke,Ke,Ie){for(var pe=[],Te=0,Ue=0;Ue<Xe.length;Ue++)for(var et=Xe[Ue],st=1;st<M;st++)for(var lt=1;lt<S;lt++)pe.push(Fe(Je,st,et,lt,Oe,ke,Ke[Ue],Ie&&Ie[Te]?Ie[Te]:[])),Te++;return pe}function Ct(Je,Xe,Oe,ke,Ke,Ie){for(var pe=[],Te=0,Ue=0;Ue<Xe.length;Ue++)for(var et=Xe[Ue],st=1;st<s;st++)for(var lt=1;lt<M;lt++)pe.push(Fe(Je,lt,st,et,Oe,ke,Ke[Ue],Ie&&Ie[Te]?Ie[Te]:[])),Te++;return pe}function at(Je,Xe){for(var Oe=[],ke=Je;ke<Xe;ke++)Oe.push(ke);return Oe}function ze(){for(var Je=0;Je<M;Je++)for(var Xe=0;Xe<s;Xe++)for(var Oe=0;Oe<S;Oe++){var ke=I(Je,Xe,Oe);se(f._x[ke],f._y[ke],f._z[ke],f._value[ke])}}function je(){q(),ze();var Je=null;if(m&&T&&(ie(T),dt(Je,k,F)),l&&h){ie(h);for(var Xe=f.surface.pattern,Oe=f.surface.count,ke=0;ke<Oe;ke++){var Ke=Oe===1?.5:ke/(Oe-1),Ie=(1-Ke)*k+Ke*F,pe=Math.abs(Ie-D),Te=Math.abs(Ie-B),Ue=pe>Te?[D,Ie]:[Ie,B];pt(Xe,Ue[0],Ue[1])}}var et=[[Math.min(k,B),Math.max(k,B)],[Math.min(D,F),Math.max(D,F)]];["x","y","z"].forEach(function(st){for(var lt=[],jt=0;jt<et.length;jt++){var Jt=0,St=et[jt][0],Rt=et[jt][1],$t=f.slices[st];if($t.show&&$t.fill){ie($t.fill);var Pr=[],xt=[],qt=[];if($t.locations.length)for(var nr=0;nr<$t.locations.length;nr++){var wr=g($t.locations[nr],st==="x"?_:st==="y"?y:E);wr.distRatio===0?Pr.push(wr.id):wr.id>0&&(xt.push(wr.id),st==="x"?qt.push([wr.distRatio,0,0]):st==="y"?qt.push([0,wr.distRatio,0]):qt.push([0,0,wr.distRatio]))}else st==="x"?Pr=at(1,M-1):st==="y"?Pr=at(1,s-1):Pr=at(1,S-1);xt.length>0&&(st==="x"?lt[Jt]=wt(Je,xt,St,Rt,qt,lt[Jt]):st==="y"?lt[Jt]=Tt(Je,xt,St,Rt,qt,lt[Jt]):lt[Jt]=Ct(Je,xt,St,Rt,qt,lt[Jt]),Jt++),Pr.length>0&&(st==="x"?lt[Jt]=ft(Je,Pr,St,Rt,lt[Jt]):st==="y"?lt[Jt]=gt(Je,Pr,St,Rt,lt[Jt]):lt[Jt]=ct(Je,Pr,St,Rt,lt[Jt]),Jt++)}var dr=f.caps[st];dr.show&&dr.fill&&(ie(dr.fill),st==="x"?lt[Jt]=ft(Je,[0,M-1],St,Rt,lt[Jt]):st==="y"?lt[Jt]=gt(Je,[0,s-1],St,Rt,lt[Jt]):lt[Jt]=ct(Je,[0,S-1],St,Rt,lt[Jt]),Jt++)}}),p===0&&q(),f._meshX=N,f._meshY=O,f._meshZ=V,f._meshIntensity=X,f._Xs=_,f._Ys=y,f._Zs=E}return je(),f}function u(f,l){var m=f.glplot.gl,h=d({gl:m}),T=new r(f,h,l.uid);return h._trace=T,T.update(l),f.glplot.add(h),T}H.exports={findNearestOnAxis:g,generateIsoMeshes:a,createIsosurfaceTrace:u}},70548:function(H,U,e){var d=e(3400),C=e(24040),n=e(50048),L=e(27260);function w(g,r,t,i){function a(u,f){return d.coerce(g,r,n,u,f)}v(g,r,t,i,a)}function v(g,r,t,i,a){var u=a("isomin"),f=a("isomax");f!=null&&u!==void 0&&u!==null&&u>f&&(r.isomin=null,r.isomax=null);var l=a("x"),m=a("y"),h=a("z"),T=a("value");if(!l||!l.length||!m||!m.length||!h||!h.length||!T||!T.length){r.visible=!1;return}var c=C.getComponentMethod("calendars","handleTraceDefaults");c(g,r,["x","y","z"],i),a("valuehoverformat"),["x","y","z"].forEach(function(A){a(A+"hoverformat");var _="caps."+A,y=a(_+".show");y&&a(_+".fill");var E="slices."+A,M=a(E+".show");M&&(a(E+".fill"),a(E+".locations"))});var o=a("spaceframe.show");o&&a("spaceframe.fill");var p=a("surface.show");p&&(a("surface.count"),a("surface.fill"),a("surface.pattern"));var x=a("contour.show");x&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(A){a(A)}),L(g,r,i,a,{prefix:"",cLetter:"c"}),r._length=null}H.exports={supplyDefaults:w,supplyIsoDefaults:v}},6296:function(H,U,e){H.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(H,U,e){var d=e(49084),C=e(29736).axisHoverFormat,n=e(21776).Ks,L=e(16716),w=e(45464),v=e(92880).extendFlat;H.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"}),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},d("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},w.hoverinfo,{editType:"calc"}),showlegend:v({},w.showlegend,{dflt:!1})})},1876:function(H,U,e){var d=e(47128);H.exports=function(n,L){L.intensity&&d(n,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},576:function(H,U,e){var d=e(67792).gl_mesh3d,C=e(67792).delaunay_triangulate,n=e(67792).alpha_shape,L=e(67792).convex_hull,w=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,g=e(43080),r=e(8932).extractOpts,t=e(52094);function i(c,o,p){this.scene=c,this.uid=p,this.mesh=o,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var a=i.prototype;a.handlePick=function(c){if(c.object===this.mesh){var o=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[o],this.data.y[o],this.data.z[o]];var p=this.data.hovertext||this.data.text;return v(p)&&p[o]!==void 0?c.textLabel=p[o]:p&&(c.textLabel=p),!0}};function u(c){for(var o=[],p=c.length,x=0;x<p;x++)o[x]=g(c[x]);return o}function f(c,o,p,x){for(var A=[],_=o.length,y=0;y<_;y++)A[y]=c.d2l(o[y],0,x)*p;return A}function l(c){for(var o=[],p=c.length,x=0;x<p;x++)o[x]=Math.round(c[x]);return o}function m(c,o){for(var p=["x","y","z"].indexOf(c),x=[],A=o.length,_=0;_<A;_++)x[_]=[o[_][(p+1)%3],o[_][(p+2)%3]];return C(x)}function h(c,o){for(var p=c.length,x=0;x<p;x++)if(c[x]<=-.5||c[x]>=o-.5)return!1;return!0}a.update=function(c){var o=this.scene,p=o.fullSceneLayout;this.data=c;var x=c.x.length,A=t(f(p.xaxis,c.x,o.dataScale[0],c.xcalendar),f(p.yaxis,c.y,o.dataScale[1],c.ycalendar),f(p.zaxis,c.z,o.dataScale[2],c.zcalendar)),_;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,x)||!h(c.j,x)||!h(c.k,x))return;_=t(l(c.i),l(c.j),l(c.k))}else c.alphahull===0?_=L(A):c.alphahull>0?_=n(c.alphahull,A):_=m(c.delaunayaxis,A);var y={positions:A,cells:_,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:g(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var E=r(c);this.color="#fff";var M=c.intensitymode;y[M+"Intensity"]=c.intensity,y[M+"IntensityBounds"]=[E.min,E.max],y.colormap=w(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],y.vertexColors=u(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],y.cellColors=u(c.facecolor)):(this.color=c.color,y.meshColor=g(c.color));this.mesh.update(y)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(c,o){var p=c.glplot.gl,x=d({gl:p}),A=new i(c,x,o.uid);return x._trace=A,A.update(o),c.glplot.add(x),A}H.exports=T},74212:function(H,U,e){var d=e(24040),C=e(3400),n=e(27260),L=e(52948);H.exports=function(v,g,r,t){function i(m,h){return C.coerce(v,g,L,m,h)}function a(m){var h=m.map(function(T){var c=i(T);return c&&C.isArrayOrTypedArray(c)?c:null});return h.every(function(T){return T&&T.length===h[0].length})&&h}var u=a(["x","y","z"]);if(!u){g.visible=!1;return}if(a(["i","j","k"]),g.i&&(!g.j||!g.k)||g.j&&(!g.k||!g.i)||g.k&&(!g.i||!g.j)){g.visible=!1;return}var f=d.getComponentMethod("calendars","handleTraceDefaults");f(v,g,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){i(m)});var l=i("contour.show");l&&(i("contour.color"),i("contour.width")),"intensity"in v?(i("intensity"),i("intensitymode"),n(v,g,t,i,{prefix:"",cLetter:"c"})):(g.showscale=!1,"facecolor"in v?i("facecolor"):"vertexcolor"in v?i("vertexcolor"):i("color",r)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),g._length=null}},7404:function(H,U,e){H.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(H,U,e){var d=e(3400).extendFlat,C=e(52904),n=e(29736).axisHoverFormat,L=e(98192).u,w=e(55756),v=e(48164),g=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=C.line;function i(a){return{line:{color:d({},t.color,{dflt:a}),width:t.width,dash:L,editType:"style"},editType:"style"}}H.exports={xperiod:C.xperiod,xperiod0:C.xperiod0,xperiodalignment:C.xperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:d({},t.width,{}),dash:d({},L,{}),editType:"style"},increasing:i(g),decreasing:i(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:d({},w.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:C.zorder}},42812:function(H,U,e){var d=e(3400),C=d._,n=e(54460),L=e(1220),w=e(39032).BADNUM;function v(i,a){var u=n.getFromId(i,a.xaxis),f=n.getFromId(i,a.yaxis),l=t(i,u,a),m=a._minDiff;a._minDiff=null;var h=a._origX;a._origX=null;var T=a._xcalc;a._xcalc=null;var c=r(i,a,h,T,f,g);return a._extremes[u._id]=n.findExtremes(u,T,{vpad:m/2}),c.length?(d.extendFlat(c[0].t,{wHover:m/2,tickLen:l}),c):[{t:{empty:!0}}]}function g(i,a,u,f){return{o:i,h:a,l:u,c:f}}function r(i,a,u,f,l,m){for(var h=l.makeCalcdata(a,"open"),T=l.makeCalcdata(a,"high"),c=l.makeCalcdata(a,"low"),o=l.makeCalcdata(a,"close"),p=d.isArrayOrTypedArray(a.text),x=d.isArrayOrTypedArray(a.hovertext),A=!0,_=null,y=!!a.xperiodalignment,E=[],M=0;M<f.length;M++){var s=f[M],S=h[M],b=T[M],I=c[M],D=o[M];if(s!==w&&S!==w&&b!==w&&I!==w&&D!==w){D===S?_!==null&&D!==_&&(A=D>_):A=D>S,_=D;var B=m(S,b,I,D);B.pos=s,B.yc=(S+D)/2,B.i=M,B.dir=A?"increasing":"decreasing",B.x=B.pos,B.y=[I,b],y&&(B.orig_p=u[M]),p&&(B.tx=a.text[M]),x&&(B.htx=a.hovertext[M]),E.push(B)}else E.push({pos:s,empty:!0})}return a._extremes[l._id]=n.findExtremes(l,d.concat(c,T),{padded:!0}),E.length&&(E[0].t={labels:{open:C(i,"open:")+" ",high:C(i,"high:")+" ",low:C(i,"low:")+" ",close:C(i,"close:")+" "}}),E}function t(i,a,u){var f=u._minDiff;if(!f){var l=i._fullData,m=[];f=1/0;var h;for(h=0;h<l.length;h++){var T=l[h];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===a._id){m.push(T);var c=a.makeCalcdata(T,"x");T._origX=c;var o=L(u,a,"x",c).vals;T._xcalc=o;var p=d.distinctVals(o).minDiff;p&&isFinite(p)&&(f=Math.min(f,p))}}for(f===1/0&&(f=1),h=0;h<m.length;h++)m[h]._minDiff=f}return f*u.tickwidth}H.exports={calc:v,calcCommon:r}},23860:function(H,U,e){var d=e(3400),C=e(52744),n=e(31147),L=e(20279);H.exports=function(g,r,t,i){function a(f,l){return d.coerce(g,r,L,f,l)}var u=C(g,r,a,i);if(!u){r.visible=!1;return}n(g,r,i,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),w(g,r,a,"increasing"),w(g,r,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),i._requestRangeslider[r.xaxis]=!0,a("zorder")};function w(v,g,r,t){r(t+".line.color"),r(t+".line.width",g.line.width),r(t+".line.dash",g.line.dash)}},18720:function(H,U,e){var d=e(54460),C=e(3400),n=e(93024),L=e(76308),w=e(3400).fillText,v=e(48164),g={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(u,f,l,m){var h=u.cd,T=h[0].trace;return T.hoverlabel.split?i(u,f,l,m):a(u,f,l,m)}function t(u,f,l,m){var h=u.cd,T=u.xa,c=h[0].trace,o=h[0].t,p=c.type,x=p==="ohlc"?"l":"min",A=p==="ohlc"?"h":"max",_,y,E=o.bPos||0,M=function(X){return X.pos+E-f},s=o.bdPos||o.tickLen,S=o.wHover,b=Math.min(1,s/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));_=u.maxHoverDistance-b,y=u.maxSpikeDistance-b;function I(X){var ee=M(X);return n.inbox(ee-S,ee+S,_)}function D(X){var ee=X[x],ne=X[A];return ee===ne||n.inbox(ee-l,ne-l,_)}function B(X){return(I(X)+D(X))/2}var k=n.getDistanceFunction(m,I,D,B);if(n.getClosest(h,k,u),u.index===!1)return null;var F=h[u.index];if(F.empty)return null;var N=F.dir,O=c[N],V=O.line.color;return L.opacity(V)&&O.line.width?u.color=V:u.color=O.fillcolor,u.x0=T.c2p(F.pos+E-s,!0),u.x1=T.c2p(F.pos+E+s,!0),u.xLabelVal=F.orig_p!==void 0?F.orig_p:F.pos,u.spikeDistance=B(F)*y/_,u.xSpike=T.c2p(F.pos,!0),u}function i(u,f,l,m){var h=u.cd,T=u.ya,c=h[0].trace,o=h[0].t,p=[],x=t(u,f,l,m);if(!x)return[];var A=x.index,_=h[A],y=_.hi||c.hoverinfo,E=y.split("+"),M=y==="all",s=M||E.indexOf("y")!==-1;if(!s)return[];for(var S=["high","open","close","low"],b={},I=0;I<S.length;I++){var D=S[I],B=c[D][x.index],k=T.c2p(B,!0),F;B in b?(F=b[B],F.yLabel+="<br>"+o.labels[D]+d.hoverLabelText(T,B,c.yhoverformat)):(F=C.extendFlat({},x),F.y0=F.y1=k,F.yLabelVal=B,F.yLabel=o.labels[D]+d.hoverLabelText(T,B,c.yhoverformat),F.name="",p.push(F),b[B]=F)}return p}function a(u,f,l,m){var h=u.cd,T=u.ya,c=h[0].trace,o=h[0].t,p=t(u,f,l,m);if(!p)return[];var x=p.index,A=h[x],_=p.index=A.i,y=A.dir;function E(B){return o.labels[B]+d.hoverLabelText(T,c[B][_],c.yhoverformat)}var M=A.hi||c.hoverinfo,s=M.split("+"),S=M==="all",b=S||s.indexOf("y")!==-1,I=S||s.indexOf("text")!==-1,D=b?[E("open"),E("high"),E("low"),E("close")+"  "+g[y]]:[];return I&&w(A,c,D),p.extraText=D.join("<br>"),p.y0=p.y1=T.c2p(A.yc,!0),[p]}H.exports={hoverPoints:r,hoverSplit:i,hoverOnPoints:a}},65456:function(H,U,e){H.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(H,U,e){var d=e(24040),C=e(3400);H.exports=function(L,w,v,g){var r=v("x"),t=v("open"),i=v("high"),a=v("low"),u=v("close");v("hoverlabel.split");var f=d.getComponentMethod("calendars","handleTraceDefaults");if(f(L,w,["x"],g),!!(t&&i&&a&&u)){var l=Math.min(t.length,i.length,a.length,u.length);return r&&(l=Math.min(l,C.minRowLength(r))),w._length=l,l}}},36664:function(H,U,e){var d=e(33428),C=e(3400);H.exports=function(L,w,v,g){var r=w.yaxis,t=w.xaxis,i=!!t.rangebreaks;C.makeTraceGroups(g,v,"trace ohlc").each(function(a){var u=d.select(this),f=a[0],l=f.t,m=f.trace;if(m.visible!==!0||l.empty){u.remove();return}var h=l.tickLen,T=u.selectAll("path").data(C.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(c){if(c.empty)return"M0,0Z";var o=t.c2p(c.pos-h,!0),p=t.c2p(c.pos+h,!0),x=i?(o+p)/2:t.c2p(c.pos,!0),A=r.c2p(c.o,!0),_=r.c2p(c.h,!0),y=r.c2p(c.l,!0),E=r.c2p(c.c,!0);return"M"+o+","+A+"H"+x+"M"+x+","+_+"V"+y+"M"+p+","+E+"H"+x})})}},97384:function(H){H.exports=function(e,d){var C=e.cd,n=e.xaxis,L=e.yaxis,w=[],v,g=C[0].t.bPos||0;if(d===!1)for(v=0;v<C.length;v++)C[v].selected=0;else for(v=0;v<C.length;v++){var r=C[v];d.contains([n.c2p(r.pos+g),L.c2p(r.yc)],null,r.i,e)?(w.push({pointNumber:r.i,x:n.c2d(r.pos),y:L.c2d(r.yc)}),r.selected=1):r.selected=0}return w}},14008:function(H,U,e){var d=e(33428),C=e(43616),n=e(76308);H.exports=function(w,v,g){var r=g||d.select(w).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var i=t[0].trace;d.select(this).selectAll("path").each(function(a){if(!a.empty){var u=i[a.dir].line;d.select(this).style("fill","none").call(n.stroke,u.color).call(C.dashLine,u.dash,u.width).style("opacity",i.selectedpoints&&!a.selected?.3:1)}})})}},72140:function(H,U,e){var d=e(92880).extendFlat,C=e(45464),n=e(25376),L=e(49084),w=e(21776).Ks,v=e(86968).u,g=d({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:w({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});H.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:d({},C.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:w({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:n({editType:"calc"}),tickfont:n({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:g,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(H,U,e){var d=e(84888)._M,C=e(60268),n="parcats";U.name=n,U.plot=function(L,w,v,g){var r=d(L.calcdata,n);if(r.length){var t=r[0];C(L,t,v,g)}},U.clean=function(L,w,v,g){var r=g._has&&g._has("parcats"),t=w._has&&w._has("parcats");r&&!t&&g._paperdiv.selectAll(".parcats").remove()}},69136:function(H,U,e){var d=e(71688).wrap,C=e(94288).hasColorscale,n=e(47128),L=e(68944),w=e(43616),v=e(3400),g=e(38248);H.exports=function(o,p){var x=v.filterVisible(p.dimensions);if(x.length===0)return[];var A=x.map(function(J){var Z;if(J.categoryorder==="trace")Z=null;else if(J.categoryorder==="array")Z=J.categoryarray;else{Z=L(J.values);for(var te=!0,Y=0;Y<Z.length;Y++)if(!g(Z[Y])){te=!1;break}Z.sort(te?v.sorterAsc:void 0),J.categoryorder==="category descending"&&(Z=Z.reverse())}return l(J.values,Z)}),_,y,E;v.isArrayOrTypedArray(p.counts)?_=p.counts:_=[p.counts],m(x),x.forEach(function(J,Z){h(J,A[Z])});var M=p.line,s;M?(C(p,"line")&&n(o,p,{vals:p.line.color,containerStr:"line",cLetter:"c"}),s=w.tryColorscale(M)):s=v.identity;function S(J){var Z,te;return v.isArrayOrTypedArray(M.color)?(Z=M.color[J%M.color.length],te=Z):Z=M.color,{color:s(Z),rawColor:te}}var b=x[0].values.length,I={},D=A.map(function(J){return J.inds});E=0;var B,k;for(B=0;B<b;B++){var F=[];for(k=0;k<D.length;k++)F.push(D[k][B]);y=_[B%_.length],E+=y;var N=S(B),O=F+"-"+N.rawColor;I[O]===void 0&&(I[O]=u(F,N.color,N.rawColor)),f(I[O],B,y)}var V=x.map(function(J,Z){return t(Z,J._index,J._displayindex,J.label,E)});for(B=0;B<b;B++)for(y=_[B%_.length],k=0;k<V.length;k++){var X=V[k].containerInd,ee=A[k].inds[B],ne=V[k].categories;if(ne[ee]===void 0){var q=p.dimensions[X]._categoryarray[ee],se=p.dimensions[X]._ticktext[ee];ne[ee]=i(k,ee,q,se)}a(ne[ee],B,y)}return d(r(V,I,E))};function r(c,o,p){var x=c.map(function(A){return A.categories.length}).reduce(function(A,_){return Math.max(A,_)});return{dimensions:c,paths:o,trace:void 0,maxCats:x,count:p}}function t(c,o,p,x,A){return{dimensionInd:c,containerInd:o,displayInd:p,dimensionLabel:x,count:A,categories:[],dragX:null}}function i(c,o,p,x){return{dimensionInd:c,categoryInd:o,categoryValue:p,displayInd:o,categoryLabel:x,valueInds:[],count:0,dragY:null}}function a(c,o,p){c.valueInds.push(o),c.count+=p}function u(c,o,p){return{categoryInds:c,color:o,rawColor:p,valueInds:[],count:0}}function f(c,o,p){c.valueInds.push(o),c.count+=p}function l(c,o){o==null?o=[]:o=o.map(function(s){return s});var p={},x={},A=[];o.forEach(function(s,S){p[s]=0,x[s]=S});for(var _=0;_<c.length;_++){var y=c[_],E;p[y]===void 0?(p[y]=1,E=o.push(y)-1,x[y]=E):(p[y]++,E=x[y]),A.push(E)}var M=o.map(function(s){return p[s]});return{uniqueValues:o,uniqueCounts:M,inds:A}}function m(c){var o=c.map(function(x){return x.displayindex}),p;if(T(o))for(p=0;p<c.length;p++)c[p]._displayindex=c[p].displayindex;else for(p=0;p<c.length;p++)c[p]._displayindex=p}function h(c,o){c._categoryarray=o.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var p=c._ticktext.length;p<o.uniqueValues.length;p++)c._ticktext.push(o.uniqueValues[p])}function T(c){for(var o=new Array(c.length),p=0;p<c.length;p++){if(c[p]<0||c[p]>=c.length||o[c[p]]!==void 0)return!1;o[c[p]]=!0}return!0}},76671:function(H,U,e){var d=e(3400),C=e(94288).hasColorscale,n=e(27260),L=e(86968).Q,w=e(51272),v=e(72140),g=e(26284),r=e(38116).isTypedArraySpec;function t(a,u,f,l,m){m("line.shape"),m("line.hovertemplate");var h=m("line.color",l.colorway[0]);if(C(a,"line")&&d.isArrayOrTypedArray(h)){if(h.length)return m("line.colorscale"),n(a,u,l,m,{prefix:"line.",cLetter:"c"}),h.length;u.line.color=f}return 1/0}function i(a,u){function f(p,x){return d.coerce(a,u,v.dimensions,p,x)}var l=f("values"),m=f("visible");if(l&&l.length||(m=u.visible=!1),m){f("label"),f("displayindex",u._index);var h=a.categoryarray,T=d.isArrayOrTypedArray(h)&&h.length>0||r(h),c;T&&(c="array");var o=f("categoryorder",c);o==="array"?(f("categoryarray"),f("ticktext")):(delete a.categoryarray,delete a.ticktext),!T&&o==="array"&&(u.categoryorder="trace")}}H.exports=function(u,f,l,m){function h(x,A){return d.coerce(u,f,v,x,A)}var T=w(u,f,{name:"dimensions",handleItemDefaults:i}),c=t(u,f,l,m,h);L(f,m,h),(!Array.isArray(T)||!T.length)&&(f.visible=!1),g(f,T,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var o={weight:m.font.weight,style:m.font.style,variant:m.font.variant,family:m.font.family,size:Math.round(m.font.size),color:m.font.color};d.coerceFont(h,"labelfont",o);var p={weight:m.font.weight,style:m.font.style,variant:m.font.variant,family:m.font.family,size:Math.round(m.font.size/1.2),color:m.font.color};d.coerceFont(h,"tickfont",p)}},22020:function(H,U,e){H.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(H,U,e){var d=e(33428),C=e(67756).Gz,n=e(36424),L=e(93024),w=e(3400),v=w.strTranslate,g=e(43616),r=e(49760),t=e(72736);function i(Y,ie,le,j){var K=ie._context.staticPlot,ue=Y.map(q.bind(0,ie,le)),ae=j.selectAll("g.parcatslayer").data([null]);ae.enter().append("g").attr("class","parcatslayer").style("pointer-events",K?"none":"all");var he=ae.selectAll("g.trace.parcats").data(ue,a),xe=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(He){return v(He.x,He.y)}),xe.append("g").attr("class","paths");var Se=he.select("g.paths"),Ae=Se.selectAll("path.path").data(function(He){return He.paths},a);Ae.attr("fill",function(He){return He.model.color});var De=Ae.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(He){return He.model.color}).attr("fill-opacity",0);o(De),Ae.attr("d",function(He){return He.svgD}),De.empty()||Ae.sort(f),Ae.exit().remove(),Ae.on("mouseover",l).on("mouseout",m).on("click",c),xe.append("g").attr("class","dimensions");var we=he.select("g.dimensions"),Ce=we.selectAll("g.dimension").data(function(He){return He.dimensions},a);Ce.enter().append("g").attr("class","dimension"),Ce.attr("transform",function(He){return v(He.x,0)}),Ce.exit().remove();var be=Ce.selectAll("g.category").data(function(He){return He.categories},a),Pe=be.enter().append("g").attr("class","category");be.attr("transform",function(He){return v(0,He.y)}),Pe.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(He){return He.width}).attr("height",function(He){return He.height}),A(Pe);var Ve=be.selectAll("rect.bandrect").data(function(He){return He.bands},a);Ve.each(function(){w.raiseToTop(this)}),Ve.attr("fill",function(He){return He.color});var Ge=Ve.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(He){return He.color}).attr("fill-opacity",0);Ve.attr("fill",function(He){return He.color}).attr("width",function(He){return He.width}).attr("height",function(He){return He.height}).attr("y",function(He){return He.y}).attr("cursor",function(He){return He.parcatsViewModel.arrangement==="fixed"?"default":He.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),y(Ge),Ve.exit().remove(),Pe.append("text").attr("class","catlabel").attr("pointer-events","none");var Fe=ie._fullLayout.paper_bgcolor;be.select("text.catlabel").attr("text-anchor",function(He){return u(He)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(Fe)).style("fill","rgb(0, 0, 0)").attr("x",function(He){return u(He)?He.width+5:-5}).attr("y",function(He){return He.height/2}).text(function(He){return He.model.categoryLabel}).each(function(He){g.font(d.select(this),He.parcatsViewModel.categorylabelfont),t.convertToTspans(d.select(this),ie)}),Pe.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(He){return He.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(He){return He.width/2}).attr("y",-5).text(function(He,ft){return ft===0?He.parcatsViewModel.model.dimensions[He.model.dimensionInd].dimensionLabel:null}).each(function(He){g.font(d.select(this),He.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",k).on("mouseout",F),be.exit().remove(),Ce.call(d.behavior.drag().origin(function(He){return{x:He.x,y:0}}).on("dragstart",N).on("drag",O).on("dragend",V)),he.each(function(He){He.traceSelection=d.select(this),He.pathSelection=d.select(this).selectAll("g.paths").selectAll("path.path"),He.dimensionSelection=d.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}H.exports=function(Y,ie,le,j){i(le,Y,j,ie)};function a(Y){return Y.key}function u(Y){var ie=Y.parcatsViewModel.dimensions.length,le=Y.parcatsViewModel.dimensions[ie-1].model.dimensionInd;return Y.model.dimensionInd===le}function f(Y,ie){return Y.model.rawColor>ie.model.rawColor?1:Y.model.rawColor<ie.model.rawColor?-1:0}function l(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){w.raiseToTop(this),p(d.select(this));var ie=h(Y),le=T(Y);if(Y.parcatsViewModel.graphDiv.emit("plotly_hover",{points:ie,event:d.event,constraints:le}),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var j=d.mouse(this)[0],K=Y.parcatsViewModel.graphDiv,ue=Y.parcatsViewModel.trace,ae=K._fullLayout,he=ae._paperdiv.node().getBoundingClientRect(),xe=Y.parcatsViewModel.graphDiv.getBoundingClientRect(),Se,Ae,De;for(De=0;De<Y.leftXs.length-1;De++)if(Y.leftXs[De]+Y.dimWidths[De]-2<=j&&j<=Y.leftXs[De+1]+2){var we=Y.parcatsViewModel.dimensions[De],Ce=Y.parcatsViewModel.dimensions[De+1];Se=(we.x+we.width+Ce.x)/2,Ae=(Y.topYs[De]+Y.topYs[De+1]+Y.height)/2;break}var be=Y.parcatsViewModel.x+Se,Pe=Y.parcatsViewModel.y+Ae,Ve=r.mostReadable(Y.model.color,["black","white"]),Ge=Y.model.count,Fe=Ge/Y.parcatsViewModel.model.count,He={countLabel:Ge,probabilityLabel:Fe.toFixed(3)},ft=[];Y.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ft.push(["Count:",He.countLabel].join(" ")),Y.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ft.push(["P:",He.probabilityLabel].join(" "));var gt=ft.join("<br>"),ct=d.mouse(K)[0];L.loneHover({trace:ue,x:be-he.left+xe.left,y:Pe-he.top+xe.top,text:gt,color:Y.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ve,idealAlign:ct<be?"right":"left",hovertemplate:(ue.line||{}).hovertemplate,hovertemplateLabels:He,eventData:[{data:ue._input,fullData:ue,count:Ge,probability:Fe}]},{container:ae._hoverlayer.node(),outerContainer:ae._paper.node(),gd:K})}}}function m(Y){if(!Y.parcatsViewModel.dragDimension&&(o(d.select(this)),L.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Y.parcatsViewModel.pathSelection.sort(f),Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var ie=h(Y),le=T(Y);Y.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:ie,event:d.event,constraints:le})}}function h(Y){for(var ie=[],le=X(Y.parcatsViewModel),j=0;j<Y.model.valueInds.length;j++){var K=Y.model.valueInds[j];ie.push({curveNumber:le,pointNumber:K})}return ie}function T(Y){for(var ie={},le=Y.parcatsViewModel.model.dimensions,j=0;j<le.length;j++){var K=le[j],ue=K.categories[Y.model.categoryInds[j]];ie[K.containerInd]=ue.categoryValue}return Y.model.rawColor!==void 0&&(ie.color=Y.model.rawColor),ie}function c(Y){if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ie=h(Y),le=T(Y);Y.parcatsViewModel.graphDiv.emit("plotly_click",{points:ie,event:d.event,constraints:le})}}function o(Y){Y.attr("fill",function(ie){return ie.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function p(Y){Y.attr("fill-opacity",.8).attr("stroke",function(ie){return r.mostReadable(ie.model.color,["black","white"])}).attr("stroke-width",.3)}function x(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function A(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function _(Y){Y.attr("stroke","black").attr("stroke-width",1.5)}function y(Y){Y.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(Y){var ie=Y.parcatsViewModel.pathSelection,le=Y.categoryViewModel.model.dimensionInd,j=Y.categoryViewModel.model.categoryInd;return ie.filter(function(K){return K.model.categoryInds[le]===j&&K.model.color===Y.color})}function M(Y){var ie=d.select(Y.parentNode).selectAll("rect.bandrect");ie.each(function(le){var j=E(le);p(j),j.each(function(){w.raiseToTop(this)})}),x(d.select(Y.parentNode))}function s(Y){var ie=d.select(Y).datum(),le=E(ie);p(le),le.each(function(){w.raiseToTop(this)}),d.select(Y.parentNode).selectAll("rect.bandrect").filter(function(j){return j.color===ie.color}).each(function(){w.raiseToTop(this),_(d.select(this))})}function S(Y,ie,le){var j=d.select(Y).datum(),K=j.categoryViewModel.model,ue=j.parcatsViewModel.graphDiv,ae=d.select(Y.parentNode).selectAll("rect.bandrect"),he=[];ae.each(function(Se){var Ae=E(Se);Ae.each(function(De){Array.prototype.push.apply(he,h(De))})});var xe={};xe[K.dimensionInd]=K.categoryValue,ue.emit(ie,{points:he,event:le,constraints:xe})}function b(Y,ie,le){var j=d.select(Y).datum(),K=j.categoryViewModel.model,ue=j.parcatsViewModel.graphDiv,ae=E(j),he=[];ae.each(function(Se){Array.prototype.push.apply(he,h(Se))});var xe={};xe[K.dimensionInd]=K.categoryValue,j.rawColor!==void 0&&(xe.color=j.rawColor),ue.emit(ie,{points:he,event:le,constraints:xe})}function I(Y,ie,le){Y._fullLayout._calcInverseTransform(Y);var j=Y._fullLayout._invScaleX,K=Y._fullLayout._invScaleY,ue=d.select(le.parentNode).select("rect.catrect"),ae=ue.node().getBoundingClientRect(),he=ue.datum(),xe=he.parcatsViewModel,Se=xe.model.dimensions[he.model.dimensionInd],Ae=xe.trace,De=ae.top+ae.height/2,we,Ce;xe.dimensions.length>1&&Se.displayInd===xe.dimensions.length-1?(we=ae.left,Ce="left"):(we=ae.left+ae.width,Ce="right");var be=he.model.count,Pe=he.model.categoryLabel,Ve=be/he.parcatsViewModel.model.count,Ge={countLabel:be,categoryLabel:Pe,probabilityLabel:Ve.toFixed(3)},Fe=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Fe.push(["Count:",Ge.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Fe.push(["P("+Ge.categoryLabel+"):",Ge.probabilityLabel].join(" "));var He=Fe.join("<br>");return{trace:Ae,x:j*(we-ie.left),y:K*(De-ie.top),text:He,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ce,hovertemplate:Ae.hovertemplate,hovertemplateLabels:Ge,eventData:[{data:Ae._input,fullData:Ae,count:be,category:Pe,probability:Ve}]}}function D(Y,ie,le){var j=[];return d.select(le.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var K=this;j.push(I(Y,ie,K))}),j}function B(Y,ie,le){Y._fullLayout._calcInverseTransform(Y);var j=Y._fullLayout._invScaleX,K=Y._fullLayout._invScaleY,ue=le.getBoundingClientRect(),ae=d.select(le).datum(),he=ae.categoryViewModel,xe=he.parcatsViewModel,Se=xe.model.dimensions[he.model.dimensionInd],Ae=xe.trace,De=ue.y+ue.height/2,we,Ce;xe.dimensions.length>1&&Se.displayInd===xe.dimensions.length-1?(we=ue.left,Ce="left"):(we=ue.left+ue.width,Ce="right");var be=he.model.categoryLabel,Pe=ae.parcatsViewModel.model.count,Ve=0;ae.categoryViewModel.bands.forEach(function(wt){wt.color===ae.color&&(Ve+=wt.count)});var Ge=he.model.count,Fe=0;xe.pathSelection.each(function(wt){wt.model.color===ae.color&&(Fe+=wt.model.count)});var He=Ve/Pe,ft=Ve/Fe,gt=Ve/Ge,ct={countLabel:Ve,categoryLabel:be,probabilityLabel:He.toFixed(3)},nt=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&nt.push(["Count:",ct.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(nt.push("P(color  "+be+"): "+ct.probabilityLabel),nt.push("P("+be+" | color): "+ft.toFixed(3)),nt.push("P(color | "+be+"): "+gt.toFixed(3)));var dt=nt.join("<br>"),pt=r.mostReadable(ae.color,["black","white"]);return{trace:Ae,x:j*(we-ie.left),y:K*(De-ie.top),text:dt,color:ae.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:pt,fontSize:10,idealAlign:Ce,hovertemplate:Ae.hovertemplate,hovertemplateLabels:ct,eventData:[{data:Ae._input,fullData:Ae,category:be,count:Pe,probability:He,categorycount:Ge,colorcount:Fe,bandcolorcount:Ve}]}}function k(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ie=d.mouse(this)[1];if(ie<-1)return;var le=Y.parcatsViewModel.graphDiv,j=le._fullLayout,K=j._paperdiv.node().getBoundingClientRect(),ue=Y.parcatsViewModel.hoveron,ae=this;if(ue==="color"?(s(ae),b(ae,"plotly_hover",d.event)):(M(ae),S(ae,"plotly_hover",d.event)),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var he;ue==="category"?he=I(le,K,ae):ue==="color"?he=B(le,K,ae):ue==="dimension"&&(he=D(le,K,ae)),he&&L.loneHover(he,{container:j._hoverlayer.node(),outerContainer:j._paper.node(),gd:le})}}}function F(Y){var ie=Y.parcatsViewModel;if(!ie.dragDimension&&(o(ie.pathSelection),A(ie.dimensionSelection.selectAll("g.category")),y(ie.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(ie.graphDiv._fullLayout._hoverlayer.node()),ie.pathSelection.sort(f),ie.hoverinfoItems.indexOf("skip")===-1)){var le=Y.parcatsViewModel.hoveron,j=this;le==="color"?b(j,"plotly_unhover",d.event):S(j,"plotly_unhover",d.event)}}function N(Y){Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragDimensionDisplayInd=Y.model.displayInd,Y.initialDragDimensionDisplayInds=Y.parcatsViewModel.model.dimensions.map(function(ie){return ie.displayInd}),Y.dragHasMoved=!1,Y.dragCategoryDisplayInd=null,d.select(this).selectAll("g.category").select("rect.catrect").each(function(ie){var le=d.mouse(this)[0],j=d.mouse(this)[1];-2<=le&&le<=ie.width+2&&-2<=j&&j<=ie.height+2&&(Y.dragCategoryDisplayInd=ie.model.displayInd,Y.initialDragCategoryDisplayInds=Y.model.categories.map(function(K){return K.displayInd}),ie.model.dragY=ie.y,w.raiseToTop(this.parentNode),d.select(this.parentNode).selectAll("rect.bandrect").each(function(K){K.y<j&&j<=K.y+K.height&&(Y.potentialClickBand=this)}))}),Y.parcatsViewModel.dragDimension=Y,L.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragHasMoved=!0,Y.dragDimensionDisplayInd!==null)){var ie=Y.dragDimensionDisplayInd,le=ie-1,j=ie+1,K=Y.parcatsViewModel.dimensions[ie];if(Y.dragCategoryDisplayInd!==null){var ue=K.categories[Y.dragCategoryDisplayInd];ue.model.dragY+=d.event.dy;var ae=ue.model.dragY,he=ue.model.displayInd,xe=K.categories,Se=xe[he-1],Ae=xe[he+1];Se!==void 0&&ae<Se.y+Se.height/2&&(ue.model.displayInd=Se.model.displayInd,Se.model.displayInd=he),Ae!==void 0&&ae+ue.height>Ae.y+Ae.height/2&&(ue.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=he),Y.dragCategoryDisplayInd=ue.model.displayInd}if(Y.dragCategoryDisplayInd===null||Y.parcatsViewModel.arrangement==="freeform"){K.model.dragX=d.event.x;var De=Y.parcatsViewModel.dimensions[le],we=Y.parcatsViewModel.dimensions[j];De!==void 0&&K.model.dragX<De.x+De.width&&(K.model.displayInd=De.model.displayInd,De.model.displayInd=ie),we!==void 0&&K.model.dragX+K.width>we.x&&(K.model.displayInd=we.model.displayInd,we.model.displayInd=Y.dragDimensionDisplayInd),Y.dragDimensionDisplayInd=K.model.displayInd}Z(Y.parcatsViewModel),J(Y.parcatsViewModel),ne(Y.parcatsViewModel),ee(Y.parcatsViewModel)}}function V(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&Y.dragDimensionDisplayInd!==null){d.select(this).selectAll("text").attr("font-weight","normal");var ie={},le=X(Y.parcatsViewModel),j=Y.parcatsViewModel.model.dimensions.map(function(we){return we.displayInd}),K=Y.initialDragDimensionDisplayInds.some(function(we,Ce){return we!==j[Ce]});K&&j.forEach(function(we,Ce){var be=Y.parcatsViewModel.model.dimensions[Ce].containerInd;ie["dimensions["+be+"].displayindex"]=we});var ue=!1;if(Y.dragCategoryDisplayInd!==null){var ae=Y.model.categories.map(function(we){return we.displayInd});if(ue=Y.initialDragCategoryDisplayInds.some(function(we,Ce){return we!==ae[Ce]}),ue){var he=Y.model.categories.slice().sort(function(we,Ce){return we.displayInd-Ce.displayInd}),xe=he.map(function(we){return we.categoryValue}),Se=he.map(function(we){return we.categoryLabel});ie["dimensions["+Y.model.containerInd+"].categoryarray"]=[xe],ie["dimensions["+Y.model.containerInd+"].ticktext"]=[Se],ie["dimensions["+Y.model.containerInd+"].categoryorder"]="array"}}if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Y.dragHasMoved&&Y.potentialClickBand&&(Y.parcatsViewModel.hoveron==="color"?b(Y.potentialClickBand,"plotly_click",d.event.sourceEvent):S(Y.potentialClickBand,"plotly_click",d.event.sourceEvent)),Y.model.dragX=null,Y.dragCategoryDisplayInd!==null){var Ae=Y.parcatsViewModel.dimensions[Y.dragDimensionDisplayInd].categories[Y.dragCategoryDisplayInd];Ae.model.dragY=null,Y.dragCategoryDisplayInd=null}Y.dragDimensionDisplayInd=null,Y.parcatsViewModel.dragDimension=null,Y.dragHasMoved=null,Y.potentialClickBand=null,Z(Y.parcatsViewModel),J(Y.parcatsViewModel);var De=d.transition().duration(300).ease("cubic-in-out");De.each(function(){ne(Y.parcatsViewModel,!0),ee(Y.parcatsViewModel,!0)}).each("end",function(){(K||ue)&&n.restyle(Y.parcatsViewModel.graphDiv,ie,[le])})}}function X(Y){for(var ie,le=Y.graphDiv._fullData,j=0;j<le.length;j++)if(Y.key===le[j].uid){ie=j;break}return ie}function ee(Y,ie){ie===void 0&&(ie=!1);function le(j){return ie?j.transition():j}Y.pathSelection.data(function(j){return j.paths},a),le(Y.pathSelection).attr("d",function(j){return j.svgD})}function ne(Y,ie){ie===void 0&&(ie=!1);function le(xe){return ie?xe.transition():xe}Y.dimensionSelection.data(function(xe){return xe.dimensions},a);var j=Y.dimensionSelection.selectAll("g.category").data(function(xe){return xe.categories},a);le(Y.dimensionSelection).attr("transform",function(xe){return v(xe.x,0)}),le(j).attr("transform",function(xe){return v(0,xe.y)});var K=j.select(".dimlabel");K.text(function(xe,Se){return Se===0?xe.parcatsViewModel.model.dimensions[xe.model.dimensionInd].dimensionLabel:null});var ue=j.select(".catlabel");ue.attr("text-anchor",function(xe){return u(xe)?"start":"end"}).attr("x",function(xe){return u(xe)?xe.width+5:-5}).each(function(xe){var Se,Ae;u(xe)?(Se=xe.width+5,Ae="start"):(Se=-5,Ae="end"),d.select(this).selectAll("tspan").attr("x",Se).attr("text-anchor",Ae)});var ae=j.selectAll("rect.bandrect").data(function(xe){return xe.bands},a),he=ae.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(xe){return xe.color}).attr("fill-opacity",0);ae.attr("fill",function(xe){return xe.color}).attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}).attr("y",function(xe){return xe.y}),y(he),ae.each(function(){w.raiseToTop(this)}),ae.exit().remove()}function q(Y,ie,le){var j=le[0],K=ie.margin||{l:80,r:80,t:100,b:80},ue=j.trace,ae=ue.domain,he=ie.width,xe=ie.height,Se=Math.floor(he*(ae.x[1]-ae.x[0])),Ae=Math.floor(xe*(ae.y[1]-ae.y[0])),De=ae.x[0]*he+K.l,we=ie.height-ae.y[1]*ie.height+K.t,Ce=ue.line.shape,be;ue.hoverinfo==="all"?be=["count","probability"]:be=(ue.hoverinfo||"").split("+");var Pe={trace:ue,key:ue.uid,model:j,x:De,y:we,width:Se,height:Ae,hoveron:ue.hoveron,hoverinfoItems:be,arrangement:ue.arrangement,bundlecolors:ue.bundlecolors,sortpaths:ue.sortpaths,labelfont:ue.labelfont,categorylabelfont:ue.tickfont,pathShape:Ce,dragDimension:null,margin:K,paths:[],dimensions:[],graphDiv:Y,traceSelection:null,pathSelection:null,dimensionSelection:null};return j.dimensions&&(Z(Pe),J(Pe)),Pe}function se(Y,ie,le,j,K){var ue=[],ae=[],he,xe;for(xe=0;xe<le.length-1;xe++)he=C(le[xe]+Y[xe],Y[xe+1]),ue.push(he(K)),ae.push(he(1-K));var Se="M "+Y[0]+","+ie[0];for(Se+="l"+le[0]+",0 ",xe=1;xe<le.length;xe++)Se+="C"+ue[xe-1]+","+ie[xe-1]+" "+ae[xe-1]+","+ie[xe]+" "+Y[xe]+","+ie[xe],Se+="l"+le[xe]+",0 ";for(Se+="l0,"+j+" ",Se+="l -"+le[le.length-1]+",0 ",xe=le.length-2;xe>=0;xe--)Se+="C"+ae[xe]+","+(ie[xe+1]+j)+" "+ue[xe]+","+(ie[xe]+j)+" "+(Y[xe]+le[xe])+","+(ie[xe]+j),Se+="l-"+le[xe]+",0 ";return Se+="Z",Se}function J(Y){var ie=Y.dimensions,le=Y.model,j=ie.map(function(at){return at.categories.map(function(ze){return ze.y})}),K=Y.model.dimensions.map(function(at){return at.categories.map(function(ze){return ze.displayInd})}),ue=Y.model.dimensions.map(function(at){return at.displayInd}),ae=Y.dimensions.map(function(at){return at.model.dimensionInd}),he=ie.map(function(at){return at.x}),xe=ie.map(function(at){return at.width}),Se=[];for(var Ae in le.paths)le.paths.hasOwnProperty(Ae)&&Se.push(le.paths[Ae]);function De(at){var ze=at.categoryInds.map(function(Je,Xe){return K[Xe][Je]}),je=ae.map(function(Je){return ze[Je]});return je}Se.sort(function(at,ze){var je=De(at),Je=De(ze);return Y.sortpaths==="backward"&&(je.reverse(),Je.reverse()),je.push(at.valueInds[0]),Je.push(ze.valueInds[0]),Y.bundlecolors&&(je.unshift(at.rawColor),Je.unshift(ze.rawColor)),je<Je?-1:je>Je?1:0});for(var we=new Array(Se.length),Ce=ie[0].model.count,be=ie[0].categories.map(function(at){return at.height}).reduce(function(at,ze){return at+ze}),Pe=0;Pe<Se.length;Pe++){var Ve=Se[Pe],Ge;Ce>0?Ge=be*(Ve.count/Ce):Ge=0;for(var Fe=new Array(j.length),He=0;He<Ve.categoryInds.length;He++){var ft=Ve.categoryInds[He],gt=K[He][ft],ct=ue[He];Fe[ct]=j[ct][gt],j[ct][gt]+=Ge;var nt=Y.dimensions[ct].categories[gt],dt=nt.bands.length,pt=nt.bands[dt-1];if(pt===void 0||Ve.rawColor!==pt.rawColor){var wt=pt===void 0?0:pt.y+pt.height;nt.bands.push({key:wt,color:Ve.color,rawColor:Ve.rawColor,height:Ge,width:nt.width,count:Ve.count,y:wt,categoryViewModel:nt,parcatsViewModel:Y})}else{var Tt=nt.bands[dt-1];Tt.height+=Ge,Tt.count+=Ve.count}}var Ct;Y.pathShape==="hspline"?Ct=se(he,Fe,xe,Ge,.5):Ct=se(he,Fe,xe,Ge,0),we[Pe]={key:Ve.valueInds[0],model:Ve,height:Ge,leftXs:he,topYs:Fe,dimWidths:xe,svgD:Ct,parcatsViewModel:Y}}Y.paths=we}function Z(Y){var ie=Y.model.dimensions.map(function(ae){return{displayInd:ae.displayInd,dimensionInd:ae.dimensionInd}});ie.sort(function(ae,he){return ae.displayInd-he.displayInd});var le=[];for(var j in ie){var K=ie[j].dimensionInd,ue=Y.model.dimensions[K];le.push(te(Y,ue))}Y.dimensions=le}function te(Y,ie){var le=40,j=16,K=Y.model.dimensions.length,ue=ie.displayInd,ae,he,xe;K>1?ae=(Y.width-2*le-j)/(K-1):ae=0,he=le,xe=he+ae*ue;var Se=[],Ae=Y.model.maxCats,De=ie.categories.length,we=8,Ce=ie.count,be=Y.height-we*(Ae-1),Pe,Ve,Ge,Fe,He,ft=(Ae-De)*we/2,gt=ie.categories.map(function(ct){return{displayInd:ct.displayInd,categoryInd:ct.categoryInd}});for(gt.sort(function(ct,nt){return ct.displayInd-nt.displayInd}),He=0;He<De;He++)Fe=gt[He].categoryInd,Ve=ie.categories[Fe],Ce>0?Pe=Ve.count/Ce*be:Pe=0,Ge={key:Ve.valueInds[0],model:Ve,width:j,height:Pe,y:Ve.dragY!==null?Ve.dragY:ft,bands:[],parcatsViewModel:Y},ft=ft+Pe+we,Se.push(Ge);return{key:ie.dimensionInd,x:ie.dragX!==null?ie.dragX:xe,y:0,width:j,model:ie,categories:Se,parcatsViewModel:Y,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(H,U,e){var d=e(51036);H.exports=function(n,L,w,v){var g=n._fullLayout,r=g._paper,t=g._size;d(n,r,L,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},w,v)}},82296:function(H,U,e){var d=e(49084),C=e(94724),n=e(25376),L=e(86968).u,w=e(92880).extendFlat,v=e(31780).templatedArray;H.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:n({editType:"plot"}),tickfont:n({editType:"plot"}),rangefont:n({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:w({},C.tickvals,{editType:"plot"}),ticktext:w({},C.ticktext,{editType:"plot"}),tickformat:w({},C.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:w({editType:"calc"},d("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(H,U,e){var d=e(30140),C=e(33428),n=e(71688).keyFun,L=e(71688).repeat,w=e(3400).sorterAsc,v=e(3400).strTranslate,g=d.bar.snapRatio;function r(V,X){return V*(1-g)+X*g}var t=d.bar.snapClose;function i(V,X){return V*(1-t)+X*t}function a(V,X,ee,ne){if(u(ee,ne))return ee;var q=V?-1:1,se=0,J=X.length-1;if(q<0){var Z=se;se=J,J=Z}for(var te=X[se],Y=te,ie=se;q*ie<q*J;ie+=q){var le=ie+q,j=X[le];if(q*ee<q*i(te,j))return r(te,Y);if(q*ee<q*j||le===J)return r(j,te);Y=te,te=j}}function u(V,X){for(var ee=0;ee<X.length;ee++)if(V>=X[ee][0]&&V<=X[ee][1])return!0;return!1}function f(V){V.attr("x",-d.bar.captureWidth/2).attr("width",d.bar.captureWidth)}function l(V){V.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(V){if(!V.brush.filterSpecified)return"0,"+V.height;for(var X=h(V.brush.filter.getConsolidated(),V.height),ee=[0],ne,q,se,J=X.length?X[0][0]:null,Z=0;Z<X.length;Z++)ne=X[Z],q=ne[1]-ne[0],ee.push(J),ee.push(q),se=Z+1,se<X.length&&(J=X[se][0]-ne[1]);return ee.push(V.height),ee}function h(V,X){return V.map(function(ee){return ee.map(function(ne){return Math.max(0,ne*X)}).sort(w)})}function T(V,X){var ee=d.bar.handleHeight;if(!(X>V[1]+ee||X<V[0]-ee))return X>=.9*V[1]+.1*V[0]?"n":X<=.9*V[0]+.1*V[1]?"s":"ns"}function c(){C.select(document.body).style("cursor",null)}function o(V){V.attr("stroke-dasharray",m)}function p(V,X){var ee=C.select(V).selectAll(".highlight, .highlight-shadow"),ne=X?ee.transition().duration(d.bar.snapDuration).each("end",X):ee;o(ne)}function x(V,X){var ee=V.brush,ne=ee.filterSpecified,q=NaN,se={},J;if(ne){var Z=V.height,te=ee.filter.getConsolidated(),Y=h(te,Z),ie=NaN,le=NaN,j=NaN;for(J=0;J<=Y.length;J++){var K=Y[J];if(K&&K[0]<=X&&X<=K[1]){ie=J;break}else if(le=J?J-1:NaN,K&&K[0]>X){j=J;break}}if(q=ie,isNaN(q)&&(isNaN(le)||isNaN(j)?q=isNaN(le)?j:le:q=X-Y[le][1]<Y[j][0]-X?le:j),!isNaN(q)){var ue=Y[q],ae=T(ue,X);ae&&(se.interval=te[q],se.intervalPix=ue,se.region=ae)}}if(V.ordinal&&!se.region){var he=V.unitTickvals,xe=V.unitToPaddedPx.invert(X);for(J=0;J<he.length;J++){var Se=[he[Math.max(J-1,0)]*.25+he[J]*.75,he[Math.min(J+1,he.length-1)]*.25+he[J]*.75];if(xe>=Se[0]&&xe<=Se[1]){se.clickableOrdinalRange=Se;break}}}return se}function A(V,X){C.event.sourceEvent.stopPropagation();var ee=X.height-C.mouse(V)[1]-2*d.verticalPadding,ne=X.unitToPaddedPx.invert(ee),q=X.brush,se=x(X,ee),J=se.interval,Z=q.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=se.region==="ns",Z.grabbingBar){var te=J.map(X.unitToPaddedPx);Z.grabPoint=ee-te[0]-d.verticalPadding,Z.barLength=te[1]-te[0]}Z.clickableOrdinalRange=se.clickableOrdinalRange,Z.stayingIntervals=X.multiselect&&q.filterSpecified?q.filter.getConsolidated():[],J&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(Y){return Y[0]!==J[0]&&Y[1]!==J[1]})),Z.startExtent=se.region?J[se.region==="s"?1:0]:ne,X.parent.inBrushDrag=!0,Z.brushStartCallback()}function _(V,X){C.event.sourceEvent.stopPropagation();var ee=X.height-C.mouse(V)[1]-2*d.verticalPadding,ne=X.brush.svgBrush;ne.wasDragged=!0,ne._dragging=!0,ne.grabbingBar?ne.newExtent=[ee-ne.grabPoint,ee+ne.barLength-ne.grabPoint].map(X.unitToPaddedPx.invert):ne.newExtent=[ne.startExtent,X.unitToPaddedPx.invert(ee)].sort(w),X.brush.filterSpecified=!0,ne.extent=ne.stayingIntervals.concat([ne.newExtent]),ne.brushCallback(X),p(V.parentNode)}function y(V,X){var ee=X.brush,ne=ee.filter,q=ee.svgBrush;q._dragging||(E(V,X),_(V,X),X.brush.svgBrush.wasDragged=!1),q._dragging=!1;var se=C.event;se.sourceEvent.stopPropagation();var J=q.grabbingBar;if(q.grabbingBar=!1,q.grabLocation=void 0,X.parent.inBrushDrag=!1,c(),!q.wasDragged){q.wasDragged=void 0,q.clickableOrdinalRange?ee.filterSpecified&&X.multiselect?q.extent.push(q.clickableOrdinalRange):(q.extent=[q.clickableOrdinalRange],ee.filterSpecified=!0):J?(q.extent=q.stayingIntervals,q.extent.length===0&&D(ee)):D(ee),q.brushCallback(X),p(V.parentNode),q.brushEndCallback(ee.filterSpecified?ne.getConsolidated():[]);return}var Z=function(){ne.set(ne.getConsolidated())};if(X.ordinal){var te=X.unitTickvals;te[te.length-1]<te[0]&&te.reverse(),q.newExtent=[a(0,te,q.newExtent[0],q.stayingIntervals),a(1,te,q.newExtent[1],q.stayingIntervals)];var Y=q.newExtent[1]>q.newExtent[0];q.extent=q.stayingIntervals.concat(Y?[q.newExtent]:[]),q.extent.length||D(ee),q.brushCallback(X),Y?p(V.parentNode,Z):(Z(),p(V.parentNode))}else Z();q.brushEndCallback(ee.filterSpecified?ne.getConsolidated():[])}function E(V,X){var ee=X.height-C.mouse(V)[1]-2*d.verticalPadding,ne=x(X,ee),q="crosshair";ne.clickableOrdinalRange?q="pointer":ne.region&&(q=ne.region+"-resize"),C.select(document.body).style("cursor",q)}function M(V){V.on("mousemove",function(X){C.event.preventDefault(),X.parent.inBrushDrag||E(this,X)}).on("mouseleave",function(X){X.parent.inBrushDrag||c()}).call(C.behavior.drag().on("dragstart",function(X){A(this,X)}).on("drag",function(X){_(this,X)}).on("dragend",function(X){y(this,X)}))}function s(V,X){return V[0]-X[0]}function S(V,X,ee){var ne=ee._context.staticPlot,q=V.selectAll(".background").data(L);q.enter().append("rect").classed("background",!0).call(f).call(l).style("pointer-events",ne?"none":"auto").attr("transform",v(0,d.verticalPadding)),q.call(M).attr("height",function(Z){return Z.height-d.verticalPadding});var se=V.selectAll(".highlight-shadow").data(L);se.enter().append("line").classed("highlight-shadow",!0).attr("x",-d.bar.width/2).attr("stroke-width",d.bar.width+d.bar.strokeWidth).attr("stroke",X).attr("opacity",d.bar.strokeOpacity).attr("stroke-linecap","butt"),se.attr("y1",function(Z){return Z.height}).call(o);var J=V.selectAll(".highlight").data(L);J.enter().append("line").classed("highlight",!0).attr("x",-d.bar.width/2).attr("stroke-width",d.bar.width-d.bar.strokeWidth).attr("stroke",d.bar.fillColor).attr("opacity",d.bar.fillOpacity).attr("stroke-linecap","butt"),J.attr("y1",function(Z){return Z.height}).call(o)}function b(V,X,ee){var ne=V.selectAll("."+d.cn.axisBrush).data(L,n);ne.enter().append("g").classed(d.cn.axisBrush,!0),S(ne,X,ee)}function I(V){return V.svgBrush.extent.map(function(X){return X.slice()})}function D(V){V.filterSpecified=!1,V.svgBrush.extent=[[-1/0,1/0]]}function B(V){return function(ee){var ne=ee.brush,q=I(ne),se=q.slice();ne.filter.set(se),V()}}function k(V){for(var X=V.slice(),ee=[],ne,q=X.shift();q;){for(ne=q.slice();(q=X.shift())&&q[0]<=ne[1];)ne[1]=Math.max(ne[1],q[1]);ee.push(ne)}return ee.length===1&&ee[0][0]>ee[0][1]&&(ee=[]),ee}function F(){var V=[],X,ee;return{set:function(ne){V=ne.map(function(q){return q.slice().sort(w)}).sort(s),V.length===1&&V[0][0]===-1/0&&V[0][1]===1/0&&(V=[[0,-1]]),X=k(V),ee=V.reduce(function(q,se){return[Math.min(q[0],se[0]),Math.max(q[1],se[1])]},[1/0,-1/0])},get:function(){return V.slice()},getConsolidated:function(){return X},getBounds:function(){return ee}}}function N(V,X,ee,ne,q,se){var J=F();return J.set(ee),{filter:J,filterSpecified:X,svgBrush:{extent:[],brushStartCallback:ne,brushCallback:B(q),brushEndCallback:se}}}function O(V,X){if(Array.isArray(V[0])?(V=V.map(function(ne){return ne.sort(w)}),X.multiselect?V=k(V.sort(s)):V=[V[0]]):V=[V.sort(w)],X.tickvals){var ee=X.tickvals.slice().sort(w);if(V=V.map(function(ne){var q=[a(0,ee,ne[0],[]),a(1,ee,ne[1],[])];if(q[1]>q[0])return q}).filter(function(ne){return ne}),!V.length)return}return V.length>1?V:V[0]}H.exports={makeBrush:N,ensureAxisBrush:b,cleanRanges:O}},61664:function(H,U,e){H.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(H,U,e){var d=e(33428),C=e(84888)._M,n=e(24196),L=e(9616);U.name="parcoords",U.plot=function(w){var v=C(w.calcdata,"parcoords")[0];v.length&&n(w,v)},U.clean=function(w,v,g,r){var t=r._has&&r._has("parcoords"),i=v._has&&v._has("parcoords");t&&!i&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},U.toSVG=function(w){var v=w._fullLayout._glimages,g=d.select(w).selectAll(".svg-container"),r=g.filter(function(i,a){return a===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var i=this,a=i.toDataURL("image/png"),u=v.append("svg:image");u.attr({xmlns:L.svg,"xlink:href":a,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}r.each(t),window.setTimeout(function(){d.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(H,U,e){var d=e(3400).isArrayOrTypedArray,C=e(8932),n=e(71688).wrap;H.exports=function(v,g){var r,t;return C.hasColorscale(g,"line")&&d(g.line.color)?(r=g.line.color,t=C.extractOpts(g.line).colorscale,C.calc(v,g,{vals:r,containerStr:"line",cLetter:"c"})):(r=L(g._length),t=[[0,g.line.color],[1,g.line.color]]),n({lineColor:r,cscale:t})};function L(w){for(var v=new Array(w),g=0;g<w;g++)v[g]=.5;return v}},30140:function(H){H.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(H,U,e){var d=e(3400),C=e(94288).hasColorscale,n=e(27260),L=e(86968).Q,w=e(51272),v=e(54460),g=e(82296),r=e(71864),t=e(30140).maxDimensionCount,i=e(26284);function a(f,l,m,h,T){var c=T("line.color",m);if(C(f,"line")&&d.isArrayOrTypedArray(c)){if(c.length)return T("line.colorscale"),n(f,l,h,T,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=m}return 1/0}function u(f,l,m,h){function T(A,_){return d.coerce(f,l,g.dimensions,A,_)}var c=T("values"),o=T("visible");if(c&&c.length||(o=l.visible=!1),o){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var p=T("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},v.setConvert(l._ax,h.layout),T("multiselect");var x=T("constraintrange");x&&(l.constraintrange=r.cleanRanges(x,l))}}H.exports=function(l,m,h,T){function c(_,y){return d.coerce(l,m,g,_,y)}var o=l.dimensions;Array.isArray(o)&&o.length>t&&(d.log("parcoords traces support up to "+t+" dimensions at the moment"),o.splice(t));var p=w(l,m,{name:"dimensions",layout:T,handleItemDefaults:u}),x=a(l,m,h,T,c);L(m,T,c),(!Array.isArray(p)||!p.length)&&(m.visible=!1),i(m,p,"values",x);var A={weight:T.font.weight,style:T.font.style,variant:T.font.variant,family:T.font.family,size:Math.round(T.font.size/1.2),color:T.font.color};d.coerceFont(c,"labelfont",A),d.coerceFont(c,"tickfont",A),d.coerceFont(c,"rangefont",A),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(H,U,e){var d=e(3400).isTypedArray;U.convertTypedArray=function(C){return d(C)?Array.prototype.slice.call(C):C},U.isOrdinal=function(C){return!!C.tickvals},U.isVisible=function(C){return C.visible||!("visible"in C)}},29928:function(H,U,e){var d=e(61664);d.plot=e(24196),H.exports=d},51352:function(H,U,e){var d=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),C=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),n=e(30140).maxDimensionCount,L=e(3400),w=1e-6,v=2048,g=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(y){y.read({x:0,y:0,width:1,height:1,data:g})}function a(y,E,M,s,S){var b=y._gl;b.enable(b.SCISSOR_TEST),b.scissor(E,M,s,S),y.clear({color:[0,0,0,0],depth:1})}function u(y,E,M,s,S,b){var I=b.key;function D(B){var k=Math.min(s,S-B*s);B===0&&(window.cancelAnimationFrame(M.currentRafs[I]),delete M.currentRafs[I],a(y,b.scissorX,b.scissorY,b.scissorWidth,b.viewBoxSize[1])),!M.clearOnly&&(b.count=2*k,b.offset=2*B*s,E(b),B*s+k<S&&(M.currentRafs[I]=window.requestAnimationFrame(function(){D(B+1)})),M.drawCompleted=!1)}M.drawCompleted||(i(y),M.drawCompleted=!0),D(0)}function f(y){return Math.max(w,Math.min(1-w,y))}function l(y,E){for(var M=new Array(256),s=0;s<256;s++)M[s]=y(s/255).concat(E);return M}function m(y,E){return(y>>>8*E)%256/255}function h(y,E,M){for(var s=new Array(y*(n+4)),S=0,b=0;b<y;b++){for(var I=0;I<n;I++)s[S++]=I<E.length?E[I].paddedUnitValues[b]:.5;s[S++]=m(b,2),s[S++]=m(b,1),s[S++]=m(b,0),s[S++]=f(M[b])}return s}function T(y,E,M){for(var s=new Array(E*8),S=0,b=0;b<E;b++)for(var I=0;I<2;I++)for(var D=0;D<4;D++){var B=y*4+D,k=M[b*64+B];B===63&&I===0&&(k*=-1),s[S++]=k}return s}function c(y){var E="0"+y;return E.substr(E.length-2)}function o(y){return y<n?"p"+c(y+1)+"_"+c(y+4):"colors"}function p(y,E,M){for(var s=0;s<=n;s+=4)y[o(s)](T(s/4,E,M))}function x(y){for(var E={},M=0;M<=n;M+=4)E[o(M)]=y.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return E}function A(y,E,M,s,S,b,I,D,B,k,F,N,O,V){for(var X=[[],[]],ee=0;ee<64;ee++)X[0][ee]=ee===S?1:0,X[1][ee]=ee===b?1:0;I*=V,D*=V,B*=V,k*=V;var ne=y.lines.canvasOverdrag*V,q=y.domain,se=y.canvasWidth*V,J=y.canvasHeight*V,Z=y.pad.l*V,te=y.pad.b*V,Y=y.layoutHeight*V,ie=y.layoutWidth*V,le=y.deselectedLines.color,j=y.deselectedLines.opacity,K=L.extendFlat({key:F,resolution:[se,J],viewBoxPos:[I+ne,D],viewBoxSize:[B,k],i0:S,i1:b,dim0A:X[0].slice(0,16),dim0B:X[0].slice(16,32),dim0C:X[0].slice(32,48),dim0D:X[0].slice(48,64),dim1A:X[1].slice(0,16),dim1B:X[1].slice(16,32),dim1C:X[1].slice(32,48),dim1D:X[1].slice(48,64),drwLayer:N,contextColor:[le[0]/255,le[1]/255,le[2]/255,j!=="auto"?le[3]*j:Math.max(1/255,Math.pow(1/y.lines.color.length,1/3))],scissorX:(s===E?0:I+ne)+(Z-ne)+ie*q.x[0],scissorWidth:(s===M?se-I+ne:B+.5)+(s===E?I+ne:0),scissorY:D+te+Y*q.y[0],scissorHeight:k,viewportX:Z-ne+ie*q.x[0],viewportY:te+Y*q.y[0],viewportWidth:se,viewportHeight:J},O);return K}function _(y){var E=v-1,M=Math.max(0,Math.floor(y[0]*E),0),s=Math.min(E,Math.ceil(y[1]*E),E);return[Math.min(M,s),Math.max(M,s)]}H.exports=function(y,E){var M=E.context,s=E.pick,S=E.regl,b=S._gl,I=b.getParameter(b.ALIASED_LINE_WIDTH_RANGE),D=Math.max(I[0],Math.min(I[1],E.viewModel.plotGlPixelRatio)),B={currentRafs:{},drawCompleted:!0,clearOnly:!1},k,F,N,O,V=x(S),X,ee=S.texture(t),ne=[];se(E);var q=S({profile:!1,blend:{enable:M,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!M,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:S.prop("scissorX"),y:S.prop("scissorY"),width:S.prop("scissorWidth"),height:S.prop("scissorHeight")}},viewport:{x:S.prop("viewportX"),y:S.prop("viewportY"),width:S.prop("viewportWidth"),height:S.prop("viewportHeight")},dither:!1,vert:d,frag:C,primitive:"lines",lineWidth:D,attributes:V,uniforms:{resolution:S.prop("resolution"),viewBoxPos:S.prop("viewBoxPos"),viewBoxSize:S.prop("viewBoxSize"),dim0A:S.prop("dim0A"),dim1A:S.prop("dim1A"),dim0B:S.prop("dim0B"),dim1B:S.prop("dim1B"),dim0C:S.prop("dim0C"),dim1C:S.prop("dim1C"),dim0D:S.prop("dim0D"),dim1D:S.prop("dim1D"),loA:S.prop("loA"),hiA:S.prop("hiA"),loB:S.prop("loB"),hiB:S.prop("hiB"),loC:S.prop("loC"),hiC:S.prop("hiC"),loD:S.prop("loD"),hiD:S.prop("hiD"),palette:ee,contextColor:S.prop("contextColor"),maskTexture:S.prop("maskTexture"),drwLayer:S.prop("drwLayer"),maskHeight:S.prop("maskHeight")},offset:S.prop("offset"),count:S.prop("count")});function se(le){k=le.model,F=le.viewModel,N=F.dimensions.slice(),O=N[0]?N[0].values.length:0;var j=k.lines,K=s?j.color.map(function(ae,he){return he/j.color.length}):j.color,ue=h(O,N,K);p(V,O,ue),!M&&!s&&(ee=S.texture(L.extendFlat({data:l(k.unitToColor,255)},t)))}function J(le){var j,K,ue,ae=[[],[]];for(ue=0;ue<64;ue++){var he=!le&&ue<N.length?N[ue].brush.filter.getBounds():[-1/0,1/0];ae[0][ue]=he[0],ae[1][ue]=he[1]}var xe=v*8,Se=new Array(xe);for(j=0;j<xe;j++)Se[j]=255;if(!le)for(j=0;j<N.length;j++){var Ae=j%8,De=(j-Ae)/8,we=Math.pow(2,Ae),Ce=N[j],be=Ce.brush.filter.get();if(!(be.length<2)){var Pe=_(be[0])[1];for(K=1;K<be.length;K++){var Ve=_(be[K]);for(ue=Pe+1;ue<Ve[0];ue++)Se[ue*8+De]&=~we;Pe=Math.max(Pe,Ve[1])}}}var Ge={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Se};return X?X(Ge):X=S.texture(Ge),{maskTexture:X,maskHeight:v,loA:ae[0].slice(0,16),loB:ae[0].slice(16,32),loC:ae[0].slice(32,48),loD:ae[0].slice(48,64),hiA:ae[1].slice(0,16),hiB:ae[1].slice(16,32),hiC:ae[1].slice(32,48),hiD:ae[1].slice(48,64)}}function Z(le,j,K){var ue=le.length,ae,he,xe,Se=1/0,Ae=-1/0;for(ae=0;ae<ue;ae++)le[ae].dim0.canvasX<Se&&(Se=le[ae].dim0.canvasX,he=ae),le[ae].dim1.canvasX>Ae&&(Ae=le[ae].dim1.canvasX,xe=ae);ue===0&&a(S,0,0,k.canvasWidth,k.canvasHeight);var De=J(M);for(ae=0;ae<ue;ae++){var we=le[ae],Ce=we.dim0.crossfilterDimensionIndex,be=we.dim1.crossfilterDimensionIndex,Pe=we.canvasX,Ve=we.canvasY,Ge=Pe+we.panelSizeX,Fe=we.plotGlPixelRatio;if(j||!ne[Ce]||ne[Ce][0]!==Pe||ne[Ce][1]!==Ge){ne[Ce]=[Pe,Ge];var He=A(k,he,xe,ae,Ce,be,Pe,Ve,we.panelSizeX,we.panelSizeY,we.dim0.crossfilterDimensionIndex,M?0:s?2:1,De,Fe);B.clearOnly=K;var ft=j?k.lines.blockLineCount:O;u(S,q,B,ft,O,He)}}}function te(le,j){return S.read({x:le,y:j,width:1,height:1,data:r}),r}function Y(le,j,K,ue){var ae=new Uint8Array(4*K*ue);return S.read({x:le,y:j,width:K,height:ue,data:ae}),ae}function ie(){y.style["pointer-events"]="none",ee.destroy(),X&&X.destroy();for(var le in V)V[le].destroy()}return{render:Z,readPixel:te,readPixels:Y,destroy:ie,update:se}}},26284:function(H){H.exports=function(U,e,d,C){C||(C=1/0);var n,L;for(n=0;n<e.length;n++)L=e[n],L.visible&&(C=Math.min(C,L[d].length));for(C===1/0&&(C=0),U._length=C,n=0;n<e.length;n++)L=e[n],L.visible&&(L._length=C);return C}},36336:function(H,U,e){var d=e(33428),C=e(3400),n=C.isArrayOrTypedArray,L=C.numberFormat,w=e(96824),v=e(54460),g=C.strRotate,r=C.strTranslate,t=e(72736),i=e(43616),a=e(8932),u=e(71688),f=u.keyFun,l=u.repeat,m=u.unwrap,h=e(95724),T=e(30140),c=e(71864),o=e(51352);function p(ne,q,se){return C.aggNums(ne,null,q,se)}function x(ne,q){return _(p(Math.min,ne,q),p(Math.max,ne,q))}function A(ne){var q=ne.range;return q?_(q[0],q[1]):x(ne.values,ne._length)}function _(ne,q){return(isNaN(ne)||!isFinite(ne))&&(ne=0),(isNaN(q)||!isFinite(q))&&(q=0),ne===q&&(ne===0?(ne-=1,q+=1):(ne*=.9,q*=1.1)),[ne,q]}function y(ne,q){return q?function(se,J){var Z=q[J];return Z??ne(se)}:ne}function E(ne,q,se,J,Z){var te=A(se);return J?d.scale.ordinal().domain(J.map(y(L(se.tickformat),Z))).range(J.map(function(Y){var ie=(Y-te[0])/(te[1]-te[0]);return ne-q+ie*(2*q-ne)})):d.scale.linear().domain(te).range([ne-q,q])}function M(ne,q){return d.scale.linear().range([q,ne-q])}function s(ne,q){return d.scale.linear().domain(A(ne)).range([q,1-q])}function S(ne){if(ne.tickvals){var q=A(ne);return d.scale.ordinal().domain(ne.tickvals).range(ne.tickvals.map(function(se){return(se-q[0])/(q[1]-q[0])}))}}function b(ne){var q=ne.map(function(te){return te[0]}),se=ne.map(function(te){var Y=w(te[1]);return d.rgb("rgb("+Y[0]+","+Y[1]+","+Y[2]+")")}),J=function(te){return function(Y){return Y[te]}},Z="rgb".split("").map(function(te){return d.scale.linear().clamp(!0).domain(q).range(se.map(J(te)))});return function(te){return Z.map(function(Y){return Y(te)})}}function I(ne){return ne.dimensions.some(function(q){return q.brush.filterSpecified})}function D(ne,q,se){var J=m(q),Z=J.trace,te=h.convertTypedArray(J.lineColor),Y=Z.line,ie={color:w(Z.unselected.line.color),opacity:Z.unselected.line.opacity},le=a.extractOpts(Y),j=le.reversescale?a.flipScale(J.cscale):J.cscale,K=Z.domain,ue=Z.dimensions,ae=ne.width,he=Z.labelangle,xe=Z.labelside,Se=Z.labelfont,Ae=Z.tickfont,De=Z.rangefont,we=C.extendDeepNoArrays({},Y,{color:te.map(d.scale.linear().domain(A({values:te,range:[le.min,le.max],_length:Z._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Ce=Math.floor(ae*(K.x[1]-K.x[0])),be=Math.floor(ne.height*(K.y[1]-K.y[0])),Pe=ne.margin||{l:80,r:80,t:100,b:80},Ve=Ce,Ge=be;return{key:se,colCount:ue.filter(h.isVisible).length,dimensions:ue,tickDistance:T.tickDistance,unitToColor:b(j),lines:we,deselectedLines:ie,labelAngle:he,labelSide:xe,labelFont:Se,tickFont:Ae,rangeFont:De,layoutWidth:ae,layoutHeight:ne.height,domain:K,translateX:K.x[0]*ae,translateY:ne.height-K.y[1]*ne.height,pad:Pe,canvasWidth:Ve*T.canvasPixelRatio+2*we.canvasOverdrag,canvasHeight:Ge*T.canvasPixelRatio,width:Ve,height:Ge,canvasPixelRatio:T.canvasPixelRatio}}function B(ne,q,se){var J=se.width,Z=se.height,te=se.dimensions,Y=se.canvasPixelRatio,ie=function(ae){return J*ae/Math.max(1,se.colCount-1)},le=T.verticalPadding/Z,j=M(Z,T.verticalPadding),K={key:se.key,xScale:ie,model:se,inBrushDrag:!1},ue={};return K.dimensions=te.filter(h.isVisible).map(function(ae,he){var xe=s(ae,le),Se=ue[ae.label];ue[ae.label]=(Se||0)+1;var Ae=ae.label+(Se?"__"+Se:""),De=ae.constraintrange,we=De&&De.length;we&&!n(De[0])&&(De=[De]);var Ce=we?De.map(function(nt){return nt.map(xe)}):[[-1/0,1/0]],be=function(){var nt=K;nt.focusLayer&&nt.focusLayer.render(nt.panels,!0);var dt=I(nt);!ne.contextShown()&&dt?(nt.contextLayer&&nt.contextLayer.render(nt.panels,!0),ne.contextShown(!0)):ne.contextShown()&&!dt&&(nt.contextLayer&&nt.contextLayer.render(nt.panels,!0,!0),ne.contextShown(!1))},Pe=ae.values;Pe.length>ae._length&&(Pe=Pe.slice(0,ae._length));var Ve=ae.tickvals,Ge;function Fe(nt,dt){return{val:nt,text:Ge[dt]}}function He(nt,dt){return nt.val-dt.val}if(n(Ve)&&Ve.length){C.isTypedArray(Ve)&&(Ve=Array.from(Ve)),Ge=ae.ticktext,!n(Ge)||!Ge.length?Ge=Ve.map(L(ae.tickformat)):Ge.length>Ve.length?Ge=Ge.slice(0,Ve.length):Ve.length>Ge.length&&(Ve=Ve.slice(0,Ge.length));for(var ft=1;ft<Ve.length;ft++)if(Ve[ft]<Ve[ft-1]){for(var gt=Ve.map(Fe).sort(He),ct=0;ct<Ve.length;ct++)Ve[ct]=gt[ct].val,Ge[ct]=gt[ct].text;break}}else Ve=void 0;return Pe=h.convertTypedArray(Pe),{key:Ae,label:ae.label,tickFormat:ae.tickformat,tickvals:Ve,ticktext:Ge,ordinal:h.isOrdinal(ae),multiselect:ae.multiselect,xIndex:he,crossfilterDimensionIndex:he,visibleIndex:ae._index,height:Z,values:Pe,paddedUnitValues:Pe.map(xe),unitTickvals:Ve&&Ve.map(xe),xScale:ie,x:ie(he),canvasX:ie(he)*Y,unitToPaddedPx:j,domainScale:E(Z,T.verticalPadding,ae,Ve,Ge),ordinalScale:S(ae),parent:K,model:se,brush:c.makeBrush(ne,we,Ce,function(){ne.linePickActive(!1)},be,function(nt){if(K.focusLayer.render(K.panels,!0),K.pickLayer&&K.pickLayer.render(K.panels,!0),ne.linePickActive(!0),q&&q.filterChanged){var dt=xe.invert,pt=nt.map(function(wt){return wt.map(dt).sort(C.sorterAsc)}).sort(function(wt,Tt){return wt[0]-Tt[0]});q.filterChanged(K.key,ae._index,pt)}})}}),K}function k(ne){ne.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function F(){var ne=!0,q=!1;return{linePickActive:function(se){return arguments.length?ne=!!se:ne},contextShown:function(se){return arguments.length?q=!!se:q}}}function N(ne,q){var se=q==="top"?1:-1,J=ne*Math.PI/180,Z=Math.sin(J),te=Math.cos(J);return{dir:se,dx:Z,dy:te,degrees:ne}}function O(ne,q,se){for(var J=q.panels||(q.panels=[]),Z=ne.data(),te=0;te<Z.length-1;te++){var Y=J[te]||(J[te]={}),ie=Z[te],le=Z[te+1];Y.dim0=ie,Y.dim1=le,Y.canvasX=ie.canvasX,Y.panelSizeX=le.canvasX-ie.canvasX,Y.panelSizeY=q.model.canvasHeight,Y.y=0,Y.canvasY=0,Y.plotGlPixelRatio=se}}function V(ne){for(var q=0;q<ne.length;q++)for(var se=0;se<ne[q].length;se++)for(var J=ne[q][se].trace,Z=J.dimensions,te=0;te<Z.length;te++){var Y=Z[te].values,ie=Z[te]._ax;ie&&(ie.range?ie.range=_(ie.range[0],ie.range[1]):ie.range=x(Y,J._length),ie.dtick||(ie.dtick=.01*(Math.abs(ie.range[1]-ie.range[0])||1)),ie.tickformat=Z[te].tickformat,v.calcTicks(ie),ie.cleanRange())}}function X(ne,q){return v.tickText(ne._ax,q,!1).text}function ee(ne,q){if(ne.ordinal)return"";var se=ne.domainScale.domain(),J=se[q?se.length-1:0];return X(ne.model.dimensions[ne.visibleIndex],J)}H.exports=function(q,se,J,Z){var te=q._context.staticPlot,Y=q._fullLayout,ie=Y._toppaper,le=Y._glcontainer,j=q._context.plotGlPixelRatio,K=q._fullLayout.paper_bgcolor;V(se);var ue=F(),ae=se.filter(function(ct){return m(ct).trace.visible}).map(D.bind(0,J)).map(B.bind(0,ue,Z));le.each(function(ct,nt){return C.extendFlat(ct,ae[nt])});var he=le.selectAll(".gl-canvas").each(function(ct){ct.viewModel=ae[0],ct.viewModel.plotGlPixelRatio=j,ct.viewModel.paperColor=K,ct.model=ct.viewModel?ct.viewModel.model:null}),xe=null,Se=he.filter(function(ct){return ct.pick});Se.style("pointer-events",te?"none":"auto").on("mousemove",function(ct){if(ue.linePickActive()&&ct.lineLayer&&Z&&Z.hover){var nt=d.event,dt=this.width,pt=this.height,wt=d.mouse(this),Tt=wt[0],Ct=wt[1];if(Tt<0||Ct<0||Tt>=dt||Ct>=pt)return;var at=ct.lineLayer.readPixel(Tt,pt-1-Ct),ze=at[3]!==0,je=ze?at[2]+256*(at[1]+256*at[0]):null,Je={x:Tt,y:Ct,clientX:nt.clientX,clientY:nt.clientY,dataIndex:ct.model.key,curveNumber:je};je!==xe&&(ze?Z.hover(Je):Z.unhover&&Z.unhover(Je),xe=je)}}),he.style("opacity",function(ct){return ct.pick?0:1}),ie.style("background","rgba(255, 255, 255, 0)");var Ae=ie.selectAll("."+T.cn.parcoords).data(ae,f);Ae.exit().remove(),Ae.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ae.attr("transform",function(ct){return r(ct.model.translateX,ct.model.translateY)});var De=Ae.selectAll("."+T.cn.parcoordsControlView).data(l,f);De.enter().append("g").classed(T.cn.parcoordsControlView,!0),De.attr("transform",function(ct){return r(ct.model.pad.l,ct.model.pad.t)});var we=De.selectAll("."+T.cn.yAxis).data(function(ct){return ct.dimensions},f);we.enter().append("g").classed(T.cn.yAxis,!0),De.each(function(ct){O(we,ct,j)}),he.each(function(ct){if(ct.viewModel){!ct.lineLayer||Z?ct.lineLayer=o(this,ct):ct.lineLayer.update(ct),(ct.key||ct.key===0)&&(ct.viewModel[ct.key]=ct.lineLayer);var nt=!ct.context||Z;ct.lineLayer.render(ct.viewModel.panels,nt)}}),we.attr("transform",function(ct){return r(ct.xScale(ct.xIndex),0)}),we.call(d.behavior.drag().origin(function(ct){return ct}).on("drag",function(ct){var nt=ct.parent;ue.linePickActive(!1),ct.x=Math.max(-T.overdrag,Math.min(ct.model.width+T.overdrag,d.event.x)),ct.canvasX=ct.x*ct.model.canvasPixelRatio,we.sort(function(dt,pt){return dt.x-pt.x}).each(function(dt,pt){dt.xIndex=pt,dt.x=ct===dt?dt.x:dt.xScale(dt.xIndex),dt.canvasX=dt.x*dt.model.canvasPixelRatio}),O(we,nt,j),we.filter(function(dt){return Math.abs(ct.xIndex-dt.xIndex)!==0}).attr("transform",function(dt){return r(dt.xScale(dt.xIndex),0)}),d.select(this).attr("transform",r(ct.x,0)),we.each(function(dt,pt,wt){wt===ct.parent.key&&(nt.dimensions[pt]=dt)}),nt.contextLayer&&nt.contextLayer.render(nt.panels,!1,!I(nt)),nt.focusLayer.render&&nt.focusLayer.render(nt.panels)}).on("dragend",function(ct){var nt=ct.parent;ct.x=ct.xScale(ct.xIndex),ct.canvasX=ct.x*ct.model.canvasPixelRatio,O(we,nt,j),d.select(this).attr("transform",function(dt){return r(dt.x,0)}),nt.contextLayer&&nt.contextLayer.render(nt.panels,!1,!I(nt)),nt.focusLayer&&nt.focusLayer.render(nt.panels),nt.pickLayer&&nt.pickLayer.render(nt.panels,!0),ue.linePickActive(!0),Z&&Z.axesMoved&&Z.axesMoved(nt.key,nt.dimensions.map(function(dt){return dt.crossfilterDimensionIndex}))})),we.exit().remove();var Ce=we.selectAll("."+T.cn.axisOverlays).data(l,f);Ce.enter().append("g").classed(T.cn.axisOverlays,!0),Ce.selectAll("."+T.cn.axis).remove();var be=Ce.selectAll("."+T.cn.axis).data(l,f);be.enter().append("g").classed(T.cn.axis,!0),be.each(function(ct){var nt=ct.model.height/ct.model.tickDistance,dt=ct.domainScale,pt=dt.domain();d.select(this).call(d.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(nt,ct.tickFormat).tickValues(ct.ordinal?pt:null).tickFormat(function(wt){return h.isOrdinal(ct)?wt:X(ct.model.dimensions[ct.visibleIndex],wt)}).scale(dt)),i.font(be.selectAll("text"),ct.model.tickFont)}),be.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),be.selectAll("text").style("text-shadow",t.makeTextShadow(K)).style("cursor","default");var Pe=Ce.selectAll("."+T.cn.axisHeading).data(l,f);Pe.enter().append("g").classed(T.cn.axisHeading,!0);var Ve=Pe.selectAll("."+T.cn.axisTitle).data(l,f);Ve.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",te?"none":"auto"),Ve.text(function(ct){return ct.label}).each(function(ct){var nt=d.select(this);i.font(nt,ct.model.labelFont),t.convertToTspans(nt,q)}).attr("transform",function(ct){var nt=N(ct.model.labelAngle,ct.model.labelSide),dt=T.axisTitleOffset;return(nt.dir>0?"":r(0,2*dt+ct.model.height))+g(nt.degrees)+r(-dt*nt.dx,-dt*nt.dy)}).attr("text-anchor",function(ct){var nt=N(ct.model.labelAngle,ct.model.labelSide),dt=Math.abs(nt.dx),pt=Math.abs(nt.dy);return 2*dt>pt?nt.dir*nt.dx<0?"start":"end":"middle"});var Ge=Ce.selectAll("."+T.cn.axisExtent).data(l,f);Ge.enter().append("g").classed(T.cn.axisExtent,!0);var Fe=Ge.selectAll("."+T.cn.axisExtentTop).data(l,f);Fe.enter().append("g").classed(T.cn.axisExtentTop,!0),Fe.attr("transform",r(0,-T.axisExtentOffset));var He=Fe.selectAll("."+T.cn.axisExtentTopText).data(l,f);He.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(k),He.text(function(ct){return ee(ct,!0)}).each(function(ct){i.font(d.select(this),ct.model.rangeFont)});var ft=Ge.selectAll("."+T.cn.axisExtentBottom).data(l,f);ft.enter().append("g").classed(T.cn.axisExtentBottom,!0),ft.attr("transform",function(ct){return r(0,ct.model.height+T.axisExtentOffset)});var gt=ft.selectAll("."+T.cn.axisExtentBottomText).data(l,f);gt.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(k),gt.text(function(ct){return ee(ct,!1)}).each(function(ct){i.font(d.select(this),ct.model.rangeFont)}),c.ensureAxisBrush(Ce,K,q)}},24196:function(H,U,e){var d=e(36336),C=e(5048),n=e(95724).isVisible,L={};function w(r,t,i){var a=t.indexOf(i),u=r.indexOf(a);return u===-1&&(u+=t.length),u}function v(r,t){return function(a,u){return w(r,t,a)-w(r,t,u)}}var g=H.exports=function(t,i){var a=t._fullLayout,u=C(t,[],L);if(u){var f={},l={},m={},h={},T=a._size;i.forEach(function(A,_){var y=A[0].trace;m[_]=y.index;var E=h[_]=y._fullInput.index;f[_]=t.data[E].dimensions,l[_]=t.data[E].dimensions.slice()});var c=function(A,_,y){var E=l[A][_],M=y.map(function(B){return B.slice()}),s="dimensions["+_+"].constraintrange",S=a._tracePreGUI[t._fullData[m[A]]._fullInput.uid];if(S[s]===void 0){var b=E.constraintrange;S[s]=b||null}var I=t._fullData[m[A]].dimensions[_];M.length?(M.length===1&&(M=M[0]),E.constraintrange=M,I.constraintrange=M.slice(),M=[M]):(delete E.constraintrange,delete I.constraintrange,M=null);var D={};D[s]=M,t.emit("plotly_restyle",[D,[h[A]]])},o=function(A){t.emit("plotly_hover",A)},p=function(A){t.emit("plotly_unhover",A)},x=function(A,_){var y=v(_,l[A].filter(n));f[A].sort(y),l[A].filter(function(E){return!n(E)}).sort(function(E){return l[A].indexOf(E)}).forEach(function(E){f[A].splice(f[A].indexOf(E),1),f[A].splice(l[A].indexOf(E),0,E)}),t.emit("plotly_restyle",[{dimensions:[f[A]]},[h[A]]])};d(t,i,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:c,hover:o,unhover:p,axesMoved:x})}};g.reglPrecompiled=L},74996:function(H,U,e){var d=e(45464),C=e(86968).u,n=e(25376),L=e(22548),w=e(21776).Ks,v=e(21776).Gw,g=e(92880).extendFlat,r=e(98192).c,t=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});H.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:g({},d.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:w({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:g({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:g({},t,{}),outsidetextfont:g({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:g({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:C({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:g({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(H,U,e){var d=e(7316);U.name="pie",U.plot=function(C,n,L,w){d.plotBasePlot(U.name,C,n,L,w)},U.clean=function(C,n,L,w){d.cleanBasePlot(U.name,C,n,L,w)}},45768:function(H,U,e){var d=e(38248),C=e(49760),n=e(76308),L={};function w(t,i){var a=[],u=t._fullLayout,f=u.hiddenlabels||[],l=i.labels,m=i.marker.colors||[],h=i.values,T=i._length,c=i._hasValues&&T,o,p;if(i.dlabel)for(l=new Array(T),o=0;o<T;o++)l[o]=String(i.label0+o*i.dlabel);var x={},A=v(u["_"+i.type+"colormap"]),_=0,y=!1;for(o=0;o<T;o++){var E,M,s;if(c){if(E=h[o],!d(E))continue;E=+E}else E=1;M=l[o],(M===void 0||M==="")&&(M=o),M=String(M);var S=x[M];S===void 0?(x[M]=a.length,s=f.indexOf(M)!==-1,s||(_+=E),a.push({v:E,label:M,color:A(m[o],M),i:o,pts:[o],hidden:s})):(y=!0,p=a[S],p.v+=E,p.pts.push(o),p.hidden||(_+=E),p.color===!1&&m[o]&&(p.color=A(m[o],M)))}a=a.filter(function(I){return I.v>=0});var b=i.type==="funnelarea"?y:i.sort;return b&&a.sort(function(I,D){return D.v-I.v}),a[0]&&(a[0].vTotal=_),a}function v(t){return function(a,u){return!a||(a=C(a),!a.isValid())?!1:(a=n.addOpacity(a,a.getAlpha()),t[u]||(t[u]=a),a)}}function g(t,i){var a=(i||{}).type;a||(a="pie");var u=t._fullLayout,f=t.calcdata,l=u[a+"colorway"],m=u["_"+a+"colormap"];u["extend"+a+"colors"]&&(l=r(l,L));for(var h=0,T=0;T<f.length;T++){var c=f[T],o=c[0].trace.type;if(o===a)for(var p=0;p<c.length;p++){var x=c[p];x.color===!1&&(m[x.label]?x.color=m[x.label]:(m[x.label]=x.color=l[h%l.length],h++))}}}function r(t,i){var a,u=JSON.stringify(t),f=i[u];if(!f){for(f=t.slice(),a=0;a<t.length;a++)f.push(C(t[a]).lighten(20).toHexString());for(a=0;a<t.length;a++)f.push(C(t[a]).darken(20).toHexString());i[u]=f}return f}H.exports={calc:w,crossTraceCalc:g,makePullColorFn:v,generateExtendedColors:r}},74174:function(H,U,e){var d=e(38248),C=e(3400),n=e(74996),L=e(86968).Q,w=e(31508).handleText,v=e(3400).coercePattern;function g(i,a){var u=C.isArrayOrTypedArray(i),f=C.isArrayOrTypedArray(a),l=Math.min(u?i.length:1/0,f?a.length:1/0);if(isFinite(l)||(l=0),l&&f){for(var m,h=0;h<l;h++){var T=a[h];if(d(T)&&T>0){m=!0;break}}m||(l=0)}return{hasLabels:u,hasValues:f,len:l}}function r(i,a,u,f,l){var m=f("marker.line.width");m&&f("marker.line.color",l?void 0:u.paper_bgcolor);var h=f("marker.colors");v(f,"marker.pattern",h),i.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=i.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=u.paper_bgcolor)}function t(i,a,u,f){function l(S,b){return C.coerce(i,a,n,S,b)}var m=l("labels"),h=l("values"),T=g(m,h),c=T.len;if(a._hasLabels=T.hasLabels,a._hasValues=T.hasValues,!a._hasLabels&&a._hasValues&&(l("label0"),l("dlabel")),!c){a.visible=!1;return}a._length=c,r(i,a,f,l,!0),l("scalegroup");var o=l("text"),p=l("texttemplate"),x;if(p||(x=l("textinfo",C.isArrayOrTypedArray(o)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),p||x&&x!=="none"){var A=l("textposition");w(i,a,f,l,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var _=Array.isArray(A)||A==="auto",y=_||A==="outside";y&&l("automargin"),(A==="inside"||A==="auto"||Array.isArray(A))&&l("insidetextorientation")}else x==="none"&&l("textposition","none");L(a,f,l);var E=l("hole"),M=l("title.text");if(M){var s=l("title.position",E?"middle center":"top center");!E&&s==="middle center"&&(a.title.position="top center"),C.coerceFont(l,"title.font",f.font)}l("sort"),l("direction"),l("rotation"),l("pull")}H.exports={handleLabelsAndValues:g,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(H,U,e){var d=e(10624).appendArrayMultiPointValues;H.exports=function(n,L){var w={curveNumber:L.index,pointNumbers:n.pts,data:L._input,fullData:L,label:n.label,color:n.color,value:n.v,percent:n.percent,text:n.text,bbox:n.bbox,v:n.v};return n.pts.length===1&&(w.pointNumber=w.i=n.pts[0]),d(w,L,n.pts),L.type==="funnelarea"&&(delete w.v,delete w.i),w}},21552:function(H,U,e){var d=e(43616),C=e(76308);H.exports=function(L,w,v,g){var r=v.marker.pattern;r&&r.shape?d.pointStyle(L,v,g,w):C.fill(L,w.color)}},69656:function(H,U,e){var d=e(3400);function C(n){return n.indexOf("e")!==-1?n.replace(/[.]?0+e/,"e"):n.indexOf(".")!==-1?n.replace(/[.]?0+$/,""):n}U.formatPiePercent=function(L,w){var v=C((L*100).toPrecision(3));return d.numSeparate(v,w)+"%"},U.formatPieValue=function(L,w){var v=C(L.toPrecision(10));return d.numSeparate(v,w)},U.getFirstFilled=function(L,w){if(d.isArrayOrTypedArray(L))for(var v=0;v<w.length;v++){var g=L[w[v]];if(g||g===0||g==="")return g}},U.castOption=function(L,w){if(d.isArrayOrTypedArray(L))return U.getFirstFilled(L,w);if(L)return L},U.getRotationAngle=function(n){return(n==="auto"?0:n)*Math.PI/180}},75792:function(H,U,e){H.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(H){H.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(H,U,e){var d=e(3400),C=e(85204);H.exports=function(L,w){function v(g,r){return d.coerce(L,w,C,g,r)}v("hiddenlabels"),v("piecolorway",w.colorway),v("extendpiecolors")}},37820:function(H,U,e){var d=e(33428),C=e(7316),n=e(93024),L=e(76308),w=e(43616),v=e(3400),g=v.strScale,r=v.strTranslate,t=e(72736),i=e(82744),a=i.recordMinTextSize,u=i.clearMinTextSize,f=e(78048).TEXTPAD,l=e(69656),m=e(53644),h=e(3400).isValidTextValue;function T(Z,te){var Y=Z._context.staticPlot,ie=Z._fullLayout,le=ie._size;u("pie",ie),A(te,Z),X(te,le);var j=v.makeTraceGroups(ie._pielayer,te,"trace").each(function(K){var ue=d.select(this),ae=K[0],he=ae.trace;ne(K),ue.attr("stroke-linejoin","round"),ue.each(function(){var xe=d.select(this).selectAll("g.slice").data(K);xe.enter().append("g").classed("slice",!0),xe.exit().remove();var Se=[[[],[]],[[],[]]],Ae=!1;xe.each(function(Fe,He){if(Fe.hidden){d.select(this).selectAll("path,g").remove();return}Fe.pointNumber=Fe.i,Fe.curveNumber=he.index,Se[Fe.pxmid[1]<0?0:1][Fe.pxmid[0]<0?0:1].push(Fe);var ft=ae.cx,gt=ae.cy,ct=d.select(this),nt=ct.selectAll("path.surface").data([Fe]);if(nt.enter().append("path").classed("surface",!0).style({"pointer-events":Y?"none":"all"}),ct.call(o,Z,K),he.pull){var dt=+l.castOption(he.pull,Fe.pts)||0;dt>0&&(ft+=dt*Fe.pxmid[0],gt+=dt*Fe.pxmid[1])}Fe.cxFinal=ft,Fe.cyFinal=gt;function pt(Je,Xe,Oe,ke){var Ke=ke*(Xe[0]-Je[0]),Ie=ke*(Xe[1]-Je[1]);return"a"+ke*ae.r+","+ke*ae.r+" 0 "+Fe.largeArc+(Oe?" 1 ":" 0 ")+Ke+","+Ie}var wt=he.hole;if(Fe.v===ae.vTotal){var Tt="M"+(ft+Fe.px0[0])+","+(gt+Fe.px0[1])+pt(Fe.px0,Fe.pxmid,!0,1)+pt(Fe.pxmid,Fe.px0,!0,1)+"Z";wt?nt.attr("d","M"+(ft+wt*Fe.px0[0])+","+(gt+wt*Fe.px0[1])+pt(Fe.px0,Fe.pxmid,!1,wt)+pt(Fe.pxmid,Fe.px0,!1,wt)+"Z"+Tt):nt.attr("d",Tt)}else{var Ct=pt(Fe.px0,Fe.px1,!0,1);if(wt){var at=1-wt;nt.attr("d","M"+(ft+wt*Fe.px1[0])+","+(gt+wt*Fe.px1[1])+pt(Fe.px1,Fe.px0,!1,wt)+"l"+at*Fe.px0[0]+","+at*Fe.px0[1]+Ct+"Z")}else nt.attr("d","M"+ft+","+gt+"l"+Fe.px0[0]+","+Fe.px0[1]+Ct+"Z")}se(Z,Fe,ae);var ze=l.castOption(he.textposition,Fe.pts),je=ct.selectAll("g.slicetext").data(Fe.text&&ze!=="none"?[0]:[]);je.enter().append("g").classed("slicetext",!0),je.exit().remove(),je.each(function(){var Je=v.ensureSingle(d.select(this),"text","",function(Ue){Ue.attr("data-notex",1)}),Xe=v.ensureUniformFontSize(Z,ze==="outside"?p(he,Fe,ie.font):x(he,Fe,ie.font));Je.text(Fe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(w.font,Xe).call(t.convertToTspans,Z);var Oe=w.bBox(Je.node()),ke;if(ze==="outside")ke=D(Oe,Fe);else if(ke=_(Oe,Fe,ae),ze==="auto"&&ke.scale<1){var Ke=v.ensureUniformFontSize(Z,he.outsidetextfont);Je.call(w.font,Ke),Oe=w.bBox(Je.node()),ke=D(Oe,Fe)}var Ie=ke.textPosAngle,pe=Ie===void 0?Fe.pxmid:q(ae.r,Ie);if(ke.targetX=ft+pe[0]*ke.rCenter+(ke.x||0),ke.targetY=gt+pe[1]*ke.rCenter+(ke.y||0),J(ke,Oe),ke.outside){var Te=ke.targetY;Fe.yLabelMin=Te-Oe.height/2,Fe.yLabelMid=Te,Fe.yLabelMax=Te+Oe.height/2,Fe.labelExtraX=0,Fe.labelExtraY=0,Ae=!0}ke.fontSize=Xe.size,a(he.type,ke,ie),K[He].transform=ke,v.setTransormAndDisplay(Je,ke)})});var De=d.select(this).selectAll("g.titletext").data(he.title.text?[0]:[]);if(De.enter().append("g").classed("titletext",!0),De.exit().remove(),De.each(function(){var Fe=v.ensureSingle(d.select(this),"text","",function(gt){gt.attr("data-notex",1)}),He=he.title.text;he._meta&&(He=v.templateString(He,he._meta)),Fe.text(He).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(w.font,he.title.font).call(t.convertToTspans,Z);var ft;he.title.position==="middle center"?ft=B(ae):ft=k(ae,le),Fe.attr("transform",r(ft.x,ft.y)+g(Math.min(1,ft.scale))+r(ft.tx,ft.ty))}),Ae&&V(Se,he),c(xe,he),Ae&&he.automargin){var we=w.bBox(ue.node()),Ce=he.domain,be=le.w*(Ce.x[1]-Ce.x[0]),Pe=le.h*(Ce.y[1]-Ce.y[0]),Ve=(.5*be-ae.r)/le.w,Ge=(.5*Pe-ae.r)/le.h;C.autoMargin(Z,"pie."+he.uid+".automargin",{xl:Ce.x[0]-Ve,xr:Ce.x[1]+Ve,yb:Ce.y[0]-Ge,yt:Ce.y[1]+Ge,l:Math.max(ae.cx-ae.r-we.left,0),r:Math.max(we.right-(ae.cx+ae.r),0),b:Math.max(we.bottom-(ae.cy+ae.r),0),t:Math.max(ae.cy-ae.r-we.top,0),pad:5})}})});setTimeout(function(){j.selectAll("tspan").each(function(){var K=d.select(this);K.attr("dy")&&K.attr("dy",K.attr("dy"))})},0)}function c(Z,te){Z.each(function(Y){var ie=d.select(this);if(!Y.labelExtraX&&!Y.labelExtraY){ie.select("path.textline").remove();return}var le=ie.select("g.slicetext text");Y.transform.targetX+=Y.labelExtraX,Y.transform.targetY+=Y.labelExtraY,v.setTransormAndDisplay(le,Y.transform);var j=Y.cxFinal+Y.pxmid[0],K=Y.cyFinal+Y.pxmid[1],ue="M"+j+","+K,ae=(Y.yLabelMax-Y.yLabelMin)*(Y.pxmid[0]<0?-1:1)/4;if(Y.labelExtraX){var he=Y.labelExtraX*Y.pxmid[1]/Y.pxmid[0],xe=Y.yLabelMid+Y.labelExtraY-(Y.cyFinal+Y.pxmid[1]);Math.abs(he)>Math.abs(xe)?ue+="l"+xe*Y.pxmid[0]/Y.pxmid[1]+","+xe+"H"+(j+Y.labelExtraX+ae):ue+="l"+Y.labelExtraX+","+he+"v"+(xe-he)+"h"+ae}else ue+="V"+(Y.yLabelMid+Y.labelExtraY)+"h"+ae;v.ensureSingle(ie,"path","textline").call(L.stroke,te.outsidetextfont.color).attr({"stroke-width":Math.min(2,te.outsidetextfont.size/8),d:ue,fill:"none"})})}function o(Z,te,Y){var ie=Y[0],le=ie.cx,j=ie.cy,K=ie.trace,ue=K.type==="funnelarea";"_hasHoverLabel"in K||(K._hasHoverLabel=!1),"_hasHoverEvent"in K||(K._hasHoverEvent=!1),Z.on("mouseover",function(ae){var he=te._fullLayout,xe=te._fullData[K.index];if(!(te._dragging||he.hovermode===!1)){var Se=xe.hoverinfo;if(Array.isArray(Se)&&(Se=n.castHoverinfo({hoverinfo:[l.castOption(Se,ae.pts)],_module:K._module},he,0)),Se==="all"&&(Se="label+text+value+percent+name"),xe.hovertemplate||Se!=="none"&&Se!=="skip"&&Se){var Ae=ae.rInscribed||0,De=le+ae.pxmid[0]*(1-Ae),we=j+ae.pxmid[1]*(1-Ae),Ce=he.separators,be=[];if(Se&&Se.indexOf("label")!==-1&&be.push(ae.label),ae.text=l.castOption(xe.hovertext||xe.text,ae.pts),Se&&Se.indexOf("text")!==-1){var Pe=ae.text;v.isValidTextValue(Pe)&&be.push(Pe)}ae.value=ae.v,ae.valueLabel=l.formatPieValue(ae.v,Ce),Se&&Se.indexOf("value")!==-1&&be.push(ae.valueLabel),ae.percent=ae.v/ie.vTotal,ae.percentLabel=l.formatPiePercent(ae.percent,Ce),Se&&Se.indexOf("percent")!==-1&&be.push(ae.percentLabel);var Ve=xe.hoverlabel,Ge=Ve.font,Fe=[];n.loneHover({trace:K,x0:De-Ae*ie.r,x1:De+Ae*ie.r,y:we,_x0:ue?le+ae.TL[0]:De-Ae*ie.r,_x1:ue?le+ae.TR[0]:De+Ae*ie.r,_y0:ue?j+ae.TL[1]:we-Ae*ie.r,_y1:ue?j+ae.BL[1]:we+Ae*ie.r,text:be.join("<br>"),name:xe.hovertemplate||Se.indexOf("name")!==-1?xe.name:void 0,idealAlign:ae.pxmid[0]<0?"left":"right",color:l.castOption(Ve.bgcolor,ae.pts)||ae.color,borderColor:l.castOption(Ve.bordercolor,ae.pts),fontFamily:l.castOption(Ge.family,ae.pts),fontSize:l.castOption(Ge.size,ae.pts),fontColor:l.castOption(Ge.color,ae.pts),nameLength:l.castOption(Ve.namelength,ae.pts),textAlign:l.castOption(Ve.align,ae.pts),hovertemplate:l.castOption(xe.hovertemplate,ae.pts),hovertemplateLabels:ae,eventData:[m(ae,xe)]},{container:he._hoverlayer.node(),outerContainer:he._paper.node(),gd:te,inOut_bbox:Fe}),ae.bbox=Fe[0],K._hasHoverLabel=!0}K._hasHoverEvent=!0,te.emit("plotly_hover",{points:[m(ae,xe)],event:d.event})}}),Z.on("mouseout",function(ae){var he=te._fullLayout,xe=te._fullData[K.index],Se=d.select(this).datum();K._hasHoverEvent&&(ae.originalEvent=d.event,te.emit("plotly_unhover",{points:[m(Se,xe)],event:d.event}),K._hasHoverEvent=!1),K._hasHoverLabel&&(n.loneUnhover(he._hoverlayer.node()),K._hasHoverLabel=!1)}),Z.on("click",function(ae){var he=te._fullLayout,xe=te._fullData[K.index];te._dragging||he.hovermode===!1||(te._hoverdata=[m(ae,xe)],n.click(te,d.event))})}function p(Z,te,Y){var ie=l.castOption(Z.outsidetextfont.color,te.pts)||l.castOption(Z.textfont.color,te.pts)||Y.color,le=l.castOption(Z.outsidetextfont.family,te.pts)||l.castOption(Z.textfont.family,te.pts)||Y.family,j=l.castOption(Z.outsidetextfont.size,te.pts)||l.castOption(Z.textfont.size,te.pts)||Y.size,K=l.castOption(Z.outsidetextfont.weight,te.pts)||l.castOption(Z.textfont.weight,te.pts)||Y.weight,ue=l.castOption(Z.outsidetextfont.style,te.pts)||l.castOption(Z.textfont.style,te.pts)||Y.style,ae=l.castOption(Z.outsidetextfont.variant,te.pts)||l.castOption(Z.textfont.variant,te.pts)||Y.variant;return{color:ie,family:le,size:j,weight:K,style:ue,variant:ae}}function x(Z,te,Y){var ie=l.castOption(Z.insidetextfont.color,te.pts);!ie&&Z._input.textfont&&(ie=l.castOption(Z._input.textfont.color,te.pts));var le=l.castOption(Z.insidetextfont.family,te.pts)||l.castOption(Z.textfont.family,te.pts)||Y.family,j=l.castOption(Z.insidetextfont.size,te.pts)||l.castOption(Z.textfont.size,te.pts)||Y.size,K=l.castOption(Z.insidetextfont.weight,te.pts)||l.castOption(Z.textfont.weight,te.pts)||Y.weight,ue=l.castOption(Z.insidetextfont.style,te.pts)||l.castOption(Z.textfont.style,te.pts)||Y.style,ae=l.castOption(Z.insidetextfont.variant,te.pts)||l.castOption(Z.textfont.variant,te.pts)||Y.variant;return{color:ie||L.contrast(te.color),family:le,size:j,weight:K,style:ue,variant:ae}}function A(Z,te){for(var Y,ie,le=0;le<Z.length;le++)if(Y=Z[le][0],ie=Y.trace,ie.title.text){var j=ie.title.text;ie._meta&&(j=v.templateString(j,ie._meta));var K=w.tester.append("text").attr("data-notex",1).text(j).call(w.font,ie.title.font).call(t.convertToTspans,te),ue=w.bBox(K.node(),!0);Y.titleBox={width:ue.width,height:ue.height},K.remove()}}function _(Z,te,Y){var ie=Y.r||te.rpx1,le=te.rInscribed,j=te.startangle===te.stopangle;if(j)return{rCenter:1-le,scale:0,rotate:0,textPosAngle:0};var K=te.ring,ue=K===1&&Math.abs(te.startangle-te.stopangle)===Math.PI*2,ae=te.halfangle,he=te.midangle,xe=Y.trace.insidetextorientation,Se=xe==="horizontal",Ae=xe==="tangential",De=xe==="radial",we=xe==="auto",Ce=[],be;if(!we){var Pe=function(ct,nt){if(y(te,ct)){var dt=Math.abs(ct-te.startangle),pt=Math.abs(ct-te.stopangle),wt=dt<pt?dt:pt;nt==="tan"?be=M(Z,ie,K,wt,0):be=E(Z,ie,K,wt,Math.PI/2),be.textPosAngle=ct,Ce.push(be)}},Ve;if(Se||Ae){for(Ve=4;Ve>=-4;Ve-=2)Pe(Math.PI*Ve,"tan");for(Ve=4;Ve>=-4;Ve-=2)Pe(Math.PI*(Ve+1),"tan")}if(Se||De){for(Ve=4;Ve>=-4;Ve-=2)Pe(Math.PI*(Ve+1.5),"rad");for(Ve=4;Ve>=-4;Ve-=2)Pe(Math.PI*(Ve+.5),"rad")}}if(ue||we||Se){var Ge=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if(be={scale:le*ie*2/Ge,rCenter:1-le,rotate:0},be.textPosAngle=(te.startangle+te.stopangle)/2,be.scale>=1)return be;Ce.push(be)}(we||De)&&(be=E(Z,ie,K,ae,he),be.textPosAngle=(te.startangle+te.stopangle)/2,Ce.push(be)),(we||Ae)&&(be=M(Z,ie,K,ae,he),be.textPosAngle=(te.startangle+te.stopangle)/2,Ce.push(be));for(var Fe=0,He=0,ft=0;ft<Ce.length;ft++){var gt=Ce[ft].scale;if(He<gt&&(He=gt,Fe=ft),!we&&He>=1)break}return Ce[Fe]}function y(Z,te){var Y=Z.startangle,ie=Z.stopangle;return Y>te&&te>ie||Y<te&&te<ie}function E(Z,te,Y,ie,le){te=Math.max(0,te-2*f);var j=Z.width/Z.height,K=b(j,ie,te,Y);return{scale:K*2/Z.height,rCenter:s(j,K/te),rotate:S(le)}}function M(Z,te,Y,ie,le){te=Math.max(0,te-2*f);var j=Z.height/Z.width,K=b(j,ie,te,Y);return{scale:K*2/Z.width,rCenter:s(j,K/te),rotate:S(le+Math.PI/2)}}function s(Z,te){return Math.cos(te)-Z*te}function S(Z){return(180/Math.PI*Z+720)%180-90}function b(Z,te,Y,ie){var le=Z+1/(2*Math.tan(te));return Y*Math.min(1/(Math.sqrt(le*le+.5)+le),ie/(Math.sqrt(Z*Z+ie/2)+Z))}function I(Z,te){return Z.v===te.vTotal&&!te.trace.hole?1:Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2)}function D(Z,te){var Y=te.pxmid[0],ie=te.pxmid[1],le=Z.width/2,j=Z.height/2;return Y<0&&(le*=-1),ie<0&&(j*=-1),{scale:1,rCenter:1,rotate:0,x:le+Math.abs(j)*(le>0?1:-1)/2,y:j/(1+Y*Y/(ie*ie)),outside:!0}}function B(Z){var te=Math.sqrt(Z.titleBox.width*Z.titleBox.width+Z.titleBox.height*Z.titleBox.height);return{x:Z.cx,y:Z.cy,scale:Z.trace.hole*Z.r*2/te,tx:0,ty:-Z.titleBox.height/2+Z.trace.title.font.size}}function k(Z,te){var Y=1,ie=1,le,j=Z.trace,K={x:Z.cx,y:Z.cy},ue={tx:0,ty:0};ue.ty+=j.title.font.size,le=O(j),j.title.position.indexOf("top")!==-1?(K.y-=(1+le)*Z.r,ue.ty-=Z.titleBox.height):j.title.position.indexOf("bottom")!==-1&&(K.y+=(1+le)*Z.r);var ae=F(Z.r,Z.trace.aspectratio),he=te.w*(j.domain.x[1]-j.domain.x[0])/2;return j.title.position.indexOf("left")!==-1?(he=he+ae,K.x-=(1+le)*ae,ue.tx+=Z.titleBox.width/2):j.title.position.indexOf("center")!==-1?he*=2:j.title.position.indexOf("right")!==-1&&(he=he+ae,K.x+=(1+le)*ae,ue.tx-=Z.titleBox.width/2),Y=he/Z.titleBox.width,ie=N(Z,te)/Z.titleBox.height,{x:K.x,y:K.y,scale:Math.min(Y,ie),tx:ue.tx,ty:ue.ty}}function F(Z,te){return Z/(te===void 0?1:te)}function N(Z,te){var Y=Z.trace,ie=te.h*(Y.domain.y[1]-Y.domain.y[0]);return Math.min(Z.titleBox.height,ie/2)}function O(Z){var te=Z.pull;if(!te)return 0;var Y;if(v.isArrayOrTypedArray(te))for(te=0,Y=0;Y<Z.pull.length;Y++)Z.pull[Y]>te&&(te=Z.pull[Y]);return te}function V(Z,te){var Y,ie,le,j,K,ue,ae,he,xe,Se,Ae,De,we;function Ce(Ge,Fe){return Ge.pxmid[1]-Fe.pxmid[1]}function be(Ge,Fe){return Fe.pxmid[1]-Ge.pxmid[1]}function Pe(Ge,Fe){Fe||(Fe={});var He=Fe.labelExtraY+(ie?Fe.yLabelMax:Fe.yLabelMin),ft=ie?Ge.yLabelMin:Ge.yLabelMax,gt=ie?Ge.yLabelMax:Ge.yLabelMin,ct=Ge.cyFinal+K(Ge.px0[1],Ge.px1[1]),nt=He-ft,dt,pt,wt,Tt,Ct,at;if(nt*ae>0&&(Ge.labelExtraY=nt),!!v.isArrayOrTypedArray(te.pull))for(pt=0;pt<Se.length;pt++)wt=Se[pt],!(wt===Ge||(l.castOption(te.pull,Ge.pts)||0)>=(l.castOption(te.pull,wt.pts)||0))&&((Ge.pxmid[1]-wt.pxmid[1])*ae>0?(Tt=wt.cyFinal+K(wt.px0[1],wt.px1[1]),nt=Tt-ft-Ge.labelExtraY,nt*ae>0&&(Ge.labelExtraY+=nt)):(gt+Ge.labelExtraY-ct)*ae>0&&(dt=3*ue*Math.abs(pt-Se.indexOf(Ge)),Ct=wt.cxFinal+j(wt.px0[0],wt.px1[0]),at=Ct+dt-(Ge.cxFinal+Ge.pxmid[0])-Ge.labelExtraX,at*ue>0&&(Ge.labelExtraX+=at)))}for(ie=0;ie<2;ie++)for(le=ie?Ce:be,K=ie?Math.max:Math.min,ae=ie?1:-1,Y=0;Y<2;Y++){for(j=Y?Math.max:Math.min,ue=Y?1:-1,he=Z[ie][Y],he.sort(le),xe=Z[1-ie][Y],Se=xe.concat(he),De=[],Ae=0;Ae<he.length;Ae++)he[Ae].yLabelMid!==void 0&&De.push(he[Ae]);for(we=!1,Ae=0;ie&&Ae<xe.length;Ae++)if(xe[Ae].yLabelMid!==void 0){we=xe[Ae];break}for(Ae=0;Ae<De.length;Ae++){var Ve=Ae&&De[Ae-1];we&&!Ae&&(Ve=we),Pe(De[Ae],Ve)}}}function X(Z,te){for(var Y=[],ie=0;ie<Z.length;ie++){var le=Z[ie][0],j=le.trace,K=j.domain,ue=te.w*(K.x[1]-K.x[0]),ae=te.h*(K.y[1]-K.y[0]);j.title.text&&j.title.position!=="middle center"&&(ae-=N(le,te));var he=ue/2,xe=ae/2;j.type==="funnelarea"&&!j.scalegroup&&(xe/=j.aspectratio),le.r=Math.min(he,xe)/(1+O(j)),le.cx=te.l+te.w*(j.domain.x[1]+j.domain.x[0])/2,le.cy=te.t+te.h*(1-j.domain.y[0])-ae/2,j.title.text&&j.title.position.indexOf("bottom")!==-1&&(le.cy-=N(le,te)),j.scalegroup&&Y.indexOf(j.scalegroup)===-1&&Y.push(j.scalegroup)}ee(Z,Y)}function ee(Z,te){for(var Y,ie,le,j=0;j<te.length;j++){var K=1/0,ue=te[j];for(ie=0;ie<Z.length;ie++)if(Y=Z[ie][0],le=Y.trace,le.scalegroup===ue){var ae;if(le.type==="pie")ae=Y.r*Y.r;else if(le.type==="funnelarea"){var he,xe;le.aspectratio>1?(he=Y.r,xe=he/le.aspectratio):(xe=Y.r,he=xe*le.aspectratio),he*=(1+le.baseratio)/2,ae=he*xe}K=Math.min(K,ae/Y.vTotal)}for(ie=0;ie<Z.length;ie++)if(Y=Z[ie][0],le=Y.trace,le.scalegroup===ue){var Se=K*Y.vTotal;le.type==="funnelarea"&&(Se/=(1+le.baseratio)/2,Se/=le.aspectratio),Y.r=Math.sqrt(Se)}}}function ne(Z){var te=Z[0],Y=te.r,ie=te.trace,le=l.getRotationAngle(ie.rotation),j=2*Math.PI/te.vTotal,K="px0",ue="px1",ae,he,xe;if(ie.direction==="counterclockwise"){for(ae=0;ae<Z.length&&Z[ae].hidden;ae++);if(ae===Z.length)return;le+=j*Z[ae].v,j*=-1,K="px1",ue="px0"}for(xe=q(Y,le),ae=0;ae<Z.length;ae++)he=Z[ae],!he.hidden&&(he[K]=xe,he.startangle=le,le+=j*he.v/2,he.pxmid=q(Y,le),he.midangle=le,le+=j*he.v/2,xe=q(Y,le),he.stopangle=le,he[ue]=xe,he.largeArc=he.v>te.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/te.vTotal,.5),he.ring=1-ie.hole,he.rInscribed=I(he,te))}function q(Z,te){return[Z*Math.sin(te),-Z*Math.cos(te)]}function se(Z,te,Y){var ie=Z._fullLayout,le=Y.trace,j=le.texttemplate,K=le.textinfo;if(!j&&K&&K!=="none"){var ue=K.split("+"),ae=function(Fe){return ue.indexOf(Fe)!==-1},he=ae("label"),xe=ae("text"),Se=ae("value"),Ae=ae("percent"),De=ie.separators,we;if(we=he?[te.label]:[],xe){var Ce=l.getFirstFilled(le.text,te.pts);h(Ce)&&we.push(Ce)}Se&&we.push(l.formatPieValue(te.v,De)),Ae&&we.push(l.formatPiePercent(te.v/Y.vTotal,De)),te.text=we.join("<br>")}function be(Fe){return{label:Fe.label,value:Fe.v,valueLabel:l.formatPieValue(Fe.v,ie.separators),percent:Fe.v/Y.vTotal,percentLabel:l.formatPiePercent(Fe.v/Y.vTotal,ie.separators),color:Fe.color,text:Fe.text,customdata:v.castOption(le,Fe.i,"customdata")}}if(j){var Pe=v.castOption(le,te.i,"texttemplate");if(!Pe)te.text="";else{var Ve=be(te),Ge=l.getFirstFilled(le.text,te.pts);(h(Ge)||Ge==="")&&(Ve.text=Ge),te.text=v.texttemplateString(Pe,Ve,Z._fullLayout._d3locale,Ve,le._meta||{})}}}function J(Z,te){var Y=Z.rotate*Math.PI/180,ie=Math.cos(Y),le=Math.sin(Y),j=(te.left+te.right)/2,K=(te.top+te.bottom)/2;Z.textX=j*ie-K*le,Z.textY=j*le+K*ie,Z.noCenter=!0}H.exports={plot:T,formatSliceLabel:se,transformInsideText:_,determineInsideTextFont:x,positionTitleOutside:k,prerenderTitles:A,layoutAreas:X,attachFxHandlers:o,computeTransform:J}},22152:function(H,U,e){var d=e(33428),C=e(10528),n=e(82744).resizeText;H.exports=function(w){var v=w._fullLayout._pielayer.selectAll(".trace");n(w,v,"pie"),v.each(function(g){var r=g[0],t=r.trace,i=d.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(a){d.select(this).call(C,a,t,w)})})}},10528:function(H,U,e){var d=e(76308),C=e(69656).castOption,n=e(21552);H.exports=function(w,v,g,r){var t=g.marker.line,i=C(t.color,v.pts)||d.defaultLine,a=C(t.width,v.pts)||0;w.call(n,v,g,r).style("stroke-width",a).call(d.stroke,i)}},35484:function(H,U,e){var d=e(52904);H.exports={x:d.x,y:d.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:d.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(H,U,e){var d=e(67792).gl_pointcloud2d,C=e(3400).isArrayOrTypedArray,n=e(43080),L=e(19280).findExtremes,w=e(44928);function v(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=d(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var g=v.prototype;g.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[i*2],this.pickXYData[i*2+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:C(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},g.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=w(t,{})},g.updateFast=function(t){var i=this.xData=this.pickXData=t.x,a=this.yData=this.pickYData=t.y,u=this.pickXYData=t.xy,f=t.xbounds&&t.ybounds,l=t.indices,m,h,T,c=this.bounds,o,p,x;if(u){if(T=u,m=u.length>>>1,f)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(x=0;x<m;x++)o=T[x*2],p=T[x*2+1],o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),p<c[1]&&(c[1]=p),p>c[3]&&(c[3]=p);if(l)h=l;else for(h=new Int32Array(m),x=0;x<m;x++)h[x]=x}else for(m=i.length,T=new Float32Array(2*m),h=new Int32Array(m),x=0;x<m;x++)o=i[x],p=a[x],h[x]=x,T[x*2]=o,T[x*2+1]=p,o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),p<c[1]&&(c[1]=p),p>c[3]&&(c[3]=p);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=T;var A=n(t.marker.color),_=n(t.marker.border.color),y=t.opacity*t.marker.opacity;A[3]*=y,this.pointcloudOptions.color=A;var E=t.marker.blend;if(E===null){var M=100;E=i.length<M||a.length<M}this.pointcloudOptions.blend=E,_[3]*=y,this.pointcloudOptions.borderColor=_;var s=t.marker.sizemin,S=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=s,this.pointcloudOptions.sizeMax=S,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var b=this.scene.xaxis,I=this.scene.yaxis,D=S/2||.5;t._extremes[b._id]=L(b,[c[0],c[2]],{ppad:D}),t._extremes[I._id]=L(I,[c[1],c[3]],{ppad:D})},g.dispose=function(){this.pointcloud.dispose()};function r(t,i){var a=new v(t,i.uid);return a.update(i),a}H.exports=r},41904:function(H,U,e){var d=e(3400),C=e(35484);H.exports=function(L,w,v){function g(r,t){return d.coerce(L,w,C,r,t)}g("x"),g("y"),g("xbounds"),g("ybounds"),L.xy&&L.xy instanceof Float32Array&&(w.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(w.indices=L.indices),g("text"),g("marker.color",v),g("marker.opacity"),g("marker.blend"),g("marker.sizemin"),g("marker.sizemax"),g("marker.border.color",v),g("marker.border.arearatio"),w._length=null}},156:function(H,U,e){H.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(H,U,e){var d=e(25376),C=e(45464),n=e(22548),L=e(55756),w=e(86968).u,v=e(21776).Ks,g=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,i=e(92880).extendFlat,a=e(67824).overrideAll,u=H.exports=a({hoverinfo:i({},C.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:w({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:d({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:i(g().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");u.transforms=void 0},10760:function(H,U,e){var d=e(67824).overrideAll,C=e(84888)._M,n=e(59596),L=e(65460),w=e(93972),v=e(86476),g=e(22676).prepSelect,r=e(3400),t=e(24040),i="sankey";U.name=i,U.baseLayoutAttrOverrides=d({hoverlabel:L.hoverlabel},"plot","nested"),U.plot=function(u){var f=C(u.calcdata,i)[0];n(u,f),U.updateFx(u)},U.clean=function(u,f,l,m){var h=m._has&&m._has(i),T=f._has&&f._has(i);h&&!T&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},U.updateFx=function(u){for(var f=0;f<u._fullData.length;f++)a(u,f)};function a(u,f){var l=u._fullData[f],m=u._fullLayout,h=m.dragmode,T=m.dragmode==="pan"?"move":"crosshair",c=l._bgRect;if(c&&!(h==="pan"||h==="zoom")){w(c,T);var o={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},p={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},x={gd:u,element:c.node(),plotinfo:{id:f,xaxis:o,yaxis:p,fillRangeItems:r.noop},subplot:f,xaxes:[o],yaxes:[p],doneFnCompleted:function(A){var _=u._fullData[f],y,E=_.node.groups.slice(),M=[];function s(D){for(var B=_._sankey.graph.nodes,k=0;k<B.length;k++)if(B[k].pointNumber===D)return B[k]}for(var S=0;S<A.length;S++){var b=s(A[S].pointNumber);if(b)if(b.group){for(var I=0;I<b.childrenNodes.length;I++)M.push(b.childrenNodes[I].pointNumber);E[b.pointNumber-_.node._count]=!1}else M.push(b.pointNumber)}y=E.filter(Boolean).concat([M]),t.call("_guiRestyle",u,{"node.groups":[y]},f)}};x.prepFn=function(A,_,y){g(A,_,y,x,h)},v.init(x)}}},48068:function(H,U,e){var d=e(78484),C=e(3400),n=e(71688).wrap,L=C.isArrayOrTypedArray,w=C.isIndex,v=e(8932);function g(t){var i=t.node,a=t.link,u=[],f=L(a.color),l=L(a.hovercolor),m=L(a.customdata),h={},T={},c=a.colorscales.length,o;for(o=0;o<c;o++){var p=a.colorscales[o],x=v.extractScale(p,{cLetter:"c"}),A=v.makeColorScaleFunc(x);T[p.label]=A}var _=0;for(o=0;o<a.value.length;o++)a.source[o]>_&&(_=a.source[o]),a.target[o]>_&&(_=a.target[o]);var y=_+1;t.node._count=y;var E,M=t.node.groups,s={};for(o=0;o<M.length;o++){var S=M[o];for(E=0;E<S.length;E++){var b=S[E],I=y+o;s.hasOwnProperty(b)?C.warn("Node "+b+" is already part of a group."):s[b]=I}}var D={source:[],target:[]};for(o=0;o<a.value.length;o++){var B=a.value[o],k=a.source[o],F=a.target[o];if(B>0&&w(k,y)&&w(F,y)&&!(s.hasOwnProperty(k)&&s.hasOwnProperty(F)&&s[k]===s[F])){s.hasOwnProperty(F)&&(F=s[F]),s.hasOwnProperty(k)&&(k=s[k]),k=+k,F=+F,h[k]=h[F]=!0;var N="";a.label&&a.label[o]&&(N=a.label[o]);var O=null;N&&T.hasOwnProperty(N)&&(O=T[N]),u.push({pointNumber:o,label:N,color:f?a.color[o]:a.color,hovercolor:l?a.hovercolor[o]:a.hovercolor,customdata:m?a.customdata[o]:a.customdata,concentrationscale:O,source:k,target:F,value:+B}),D.source.push(k),D.target.push(F)}}var V=y+M.length,X=L(i.color),ee=L(i.customdata),ne=[];for(o=0;o<V;o++)if(h[o]){var q=i.label[o];ne.push({group:o>y-1,childrenNodes:[],pointNumber:o,label:q,color:X?i.color[o]:i.color,customdata:ee?i.customdata[o]:i.customdata})}var se=!1;return r(V,D.source,D.target)&&(se=!0),{circular:se,links:u,nodes:ne,groups:M,groupLookup:s}}function r(t,i,a){for(var u=C.init2dArray(t,0),f=0;f<Math.min(i.length,a.length);f++)if(C.isIndex(i[f],t)&&C.isIndex(a[f],t)){if(i[f]===a[f])return!0;u[i[f]].push(a[f])}var l=d(u);return l.components.some(function(m){return m.length>1})}H.exports=function(i,a){var u=g(a);return n({circular:u.circular,_nodes:u.nodes,_links:u.links,_groups:u.groups,_groupLookup:u.groupLookup})}},11820:function(H){H.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(H,U,e){var d=e(3400),C=e(41440),n=e(76308),L=e(49760),w=e(86968).Q,v=e(16132),g=e(31780),r=e(51272);H.exports=function(a,u,f,l){function m(I,D){return d.coerce(a,u,C,I,D)}var h=d.extendDeep(l.hoverlabel,a.hoverlabel),T=a.node,c=g.newContainer(u,"node");function o(I,D){return d.coerce(T,c,C.node,I,D)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",a.hoverinfo),v(T,c,o,h),o("hovertemplate"),o("align");var p=l.colorway,x=function(I){return p[I%p.length]};o("color",c.label.map(function(I,D){return n.addOpacity(x(D),.8)})),o("customdata");var A=a.link||{},_=g.newContainer(u,"link");function y(I,D){return d.coerce(A,_,C.link,I,D)}y("label"),y("arrowlen"),y("source"),y("target"),y("value"),y("line.color"),y("line.width"),y("hoverinfo",a.hoverinfo),v(A,_,y,h),y("hovertemplate");var E=L(l.paper_bgcolor).getLuminance()<.333,M=E?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",s=y("color",M);function S(I){var D=L(I);if(!D.isValid())return I;var B=D.getAlpha();return B<=.8?D.setAlpha(B+.2):D=E?D.brighten():D.darken(),D.toRgbString()}y("hovercolor",Array.isArray(s)?s.map(S):S(s)),y("customdata"),r(A,_,{name:"colorscales",handleItemDefaults:t}),w(u,l,m),m("orientation"),m("valueformat"),m("valuesuffix");var b;c.x.length&&c.y.length&&(b="freeform"),m("arrangement",b),d.coerceFont(m,"textfont",d.extendFlat({},l.font)),u._length=null};function t(i,a){function u(f,l){return d.coerce(i,a,C.link.colorscales,f,l)}u("label"),u("cmin"),u("cmax"),u("colorscale")}},45499:function(H,U,e){H.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(H,U,e){var d=e(33428),C=e(3400),n=C.numberFormat,L=e(83248),w=e(93024),v=e(76308),g=e(11820).cn,r=C._;function t(p){return p!==""}function i(p,x){return p.filter(function(A){return A.key===x.traceId})}function a(p,x){d.select(p).select("path").style("fill-opacity",x),d.select(p).select("rect").style("fill-opacity",x)}function u(p){d.select(p).select("text.name").style("fill","black")}function f(p){return function(x){return p.node.sourceLinks.indexOf(x.link)!==-1||p.node.targetLinks.indexOf(x.link)!==-1}}function l(p){return function(x){return x.node.sourceLinks.indexOf(p.link)!==-1||x.node.targetLinks.indexOf(p.link)!==-1}}function m(p,x,A){x&&A&&i(A,x).selectAll("."+g.sankeyLink).filter(f(x)).call(T.bind(0,x,A,!1))}function h(p,x,A){x&&A&&i(A,x).selectAll("."+g.sankeyLink).filter(f(x)).call(c.bind(0,x,A,!1))}function T(p,x,A,_){_.style("fill",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverHue}).style("fill-opacity",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverAlpha}),_.each(function(y){var E=y.link.label;E!==""&&i(x,p).selectAll("."+g.sankeyLink).filter(function(M){return M.link.label===E}).style("fill",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverHue}).style("fill-opacity",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverAlpha})}),A&&i(x,p).selectAll("."+g.sankeyNode).filter(l(p)).call(m)}function c(p,x,A,_){_.style("fill",function(y){return y.tinyColorHue}).style("fill-opacity",function(y){return y.tinyColorAlpha}),_.each(function(y){var E=y.link.label;E!==""&&i(x,p).selectAll("."+g.sankeyLink).filter(function(M){return M.link.label===E}).style("fill",function(M){return M.tinyColorHue}).style("fill-opacity",function(M){return M.tinyColorAlpha})}),A&&i(x,p).selectAll(g.sankeyNode).filter(l(p)).call(h)}function o(p,x){var A=p.hoverlabel||{},_=C.nestedProperty(A,x).get();return Array.isArray(_)?!1:_}H.exports=function(x,A){for(var _=x._fullLayout,y=_._paper,E=_._size,M=0;M<x._fullData.length;M++)if(x._fullData[M].visible&&x._fullData[M].type===g.sankey&&!x._fullData[M]._viewInitial){var s=x._fullData[M].node;x._fullData[M]._viewInitial={node:{groups:s.groups.slice(),x:s.x.slice(),y:s.y.slice()}}}var S=function(q,se){var J=se.link;J.originalEvent=d.event,x._hoverdata=[J],w.click(x,{target:!0})},b=function(q,se,J){x._fullLayout.hovermode!==!1&&(d.select(q).call(T.bind(0,se,J,!0)),se.link.trace.link.hoverinfo!=="skip"&&(se.link.fullData=se.link.trace,x.emit("plotly_hover",{event:d.event,points:[se.link]})))},I=r(x,"source:")+" ",D=r(x,"target:")+" ",B=r(x,"concentration:")+" ",k=r(x,"incoming flow count:")+" ",F=r(x,"outgoing flow count:")+" ",N=function(q,se){if(x._fullLayout.hovermode===!1)return;var J=se.link.trace.link;if(J.hoverinfo==="none"||J.hoverinfo==="skip")return;var Z=[];function te(ae){var he,xe;ae.circular?(he=(ae.circularPathData.leftInnerExtent+ae.circularPathData.rightInnerExtent)/2,xe=ae.circularPathData.verticalFullExtent):(he=(ae.source.x1+ae.target.x0)/2,xe=(ae.y0+ae.y1)/2);var Se=[he,xe];return ae.trace.orientation==="v"&&Se.reverse(),Se[0]+=se.parent.translateX,Se[1]+=se.parent.translateY,Se}for(var Y=0,ie=0;ie<se.flow.links.length;ie++){var le=se.flow.links[ie];if(!(x._fullLayout.hovermode==="closest"&&se.link.pointNumber!==le.pointNumber)){se.link.pointNumber===le.pointNumber&&(Y=ie),le.fullData=le.trace,J=se.link.trace.link;var j=te(le),K={valueLabel:n(se.valueFormat)(le.value)+se.valueSuffix};Z.push({x:j[0],y:j[1],name:K.valueLabel,text:[le.label||"",I+le.source.label,D+le.target.label,le.concentrationscale?B+n("%0.2f")(le.flow.labelConcentration):""].filter(t).join("<br>"),color:o(J,"bgcolor")||v.addOpacity(le.color,1),borderColor:o(J,"bordercolor"),fontFamily:o(J,"font.family"),fontSize:o(J,"font.size"),fontColor:o(J,"font.color"),fontWeight:o(J,"font.weight"),fontStyle:o(J,"font.style"),fontVariant:o(J,"font.variant"),nameLength:o(J,"namelength"),textAlign:o(J,"align"),idealAlign:d.event.x<j[0]?"right":"left",hovertemplate:J.hovertemplate,hovertemplateLabels:K,eventData:[le]})}}var ue=w.loneHover(Z,{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:x,anchorIndex:Y});ue.each(function(){var ae=this;se.link.concentrationscale||a(ae,.65),u(ae)})},O=function(q,se,J){x._fullLayout.hovermode!==!1&&(d.select(q).call(c.bind(0,se,J,!0)),se.link.trace.link.hoverinfo!=="skip"&&(se.link.fullData=se.link.trace,x.emit("plotly_unhover",{event:d.event,points:[se.link]})),w.loneUnhover(_._hoverlayer.node()))},V=function(q,se,J){var Z=se.node;Z.originalEvent=d.event,x._hoverdata=[Z],d.select(q).call(h,se,J),w.click(x,{target:!0})},X=function(q,se,J){x._fullLayout.hovermode!==!1&&(d.select(q).call(m,se,J),se.node.trace.node.hoverinfo!=="skip"&&(se.node.fullData=se.node.trace,x.emit("plotly_hover",{event:d.event,points:[se.node]})))},ee=function(q,se){if(x._fullLayout.hovermode!==!1){var J=se.node.trace.node;if(!(J.hoverinfo==="none"||J.hoverinfo==="skip")){var Z=d.select(q).select("."+g.nodeRect),te=x._fullLayout._paperdiv.node().getBoundingClientRect(),Y=Z.node().getBoundingClientRect(),ie=Y.left-2-te.left,le=Y.right+2-te.left,j=Y.top+Y.height/4-te.top,K={valueLabel:n(se.valueFormat)(se.node.value)+se.valueSuffix};se.node.fullData=se.node.trace,x._fullLayout._calcInverseTransform(x);var ue=x._fullLayout._invScaleX,ae=x._fullLayout._invScaleY,he=w.loneHover({x0:ue*ie,x1:ue*le,y:ae*j,name:n(se.valueFormat)(se.node.value)+se.valueSuffix,text:[se.node.label,k+se.node.targetLinks.length,F+se.node.sourceLinks.length].filter(t).join("<br>"),color:o(J,"bgcolor")||se.tinyColorHue,borderColor:o(J,"bordercolor"),fontFamily:o(J,"font.family"),fontSize:o(J,"font.size"),fontColor:o(J,"font.color"),fontWeight:o(J,"font.weight"),fontStyle:o(J,"font.style"),fontVariant:o(J,"font.variant"),nameLength:o(J,"namelength"),textAlign:o(J,"align"),idealAlign:"left",hovertemplate:J.hovertemplate,hovertemplateLabels:K,eventData:[se.node]},{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:x});a(he,.85),u(he)}}},ne=function(q,se,J){x._fullLayout.hovermode!==!1&&(d.select(q).call(h,se,J),se.node.trace.node.hoverinfo!=="skip"&&(se.node.fullData=se.node.trace,x.emit("plotly_unhover",{event:d.event,points:[se.node]})),w.loneUnhover(_._hoverlayer.node()))};L(x,y,A,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:b,follow:N,unhover:O,select:S},nodeEvents:{hover:X,follow:ee,unhover:ne,select:V}})}},83248:function(H,U,e){var d=e(49812),C=e(67756).Gz,n=e(33428),L=e(26800),w=e(48932),v=e(11820),g=e(49760),r=e(76308),t=e(43616),i=e(3400),a=i.strTranslate,u=i.strRotate,f=e(71688),l=f.keyFun,m=f.repeat,h=f.unwrap,T=e(72736),c=e(24040),o=e(84284),p=o.CAP_SHIFT,x=o.LINE_SPACING,A=3;function _(te,Y,ie){var le=h(Y),j=le.trace,K=j.domain,ue=j.orientation==="h",ae=j.node.pad,he=j.node.thickness,xe={justify:L.sankeyJustify,left:L.sankeyLeft,right:L.sankeyRight,center:L.sankeyCenter}[j.node.align],Se=te.width*(K.x[1]-K.x[0]),Ae=te.height*(K.y[1]-K.y[0]),De=le._nodes,we=le._links,Ce=le.circular,be;Ce?be=w.sankeyCircular().circularLinkGap(0):be=L.sankey(),be.iterations(v.sankeyIterations).size(ue?[Se,Ae]:[Ae,Se]).nodeWidth(he).nodePadding(ae).nodeId(function(at){return at.pointNumber}).nodeAlign(xe).nodes(De).links(we);var Pe=be();be.nodePadding()<ae&&i.warn("node.pad was reduced to ",be.nodePadding()," to fit within the figure.");var Ve,Ge,Fe;for(var He in le._groupLookup){var ft=parseInt(le._groupLookup[He]),gt;for(Ve=0;Ve<Pe.nodes.length;Ve++)if(Pe.nodes[Ve].pointNumber===ft){gt=Pe.nodes[Ve];break}if(gt){var ct={pointNumber:parseInt(He),x0:gt.x0,x1:gt.x1,y0:gt.y0,y1:gt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Pe.nodes.unshift(ct),gt.childrenNodes.unshift(ct)}}function nt(){for(Ve=0;Ve<Pe.nodes.length;Ve++){var at=Pe.nodes[Ve],ze={},je,Je;for(Ge=0;Ge<at.targetLinks.length;Ge++)Je=at.targetLinks[Ge],je=Je.source.pointNumber+":"+Je.target.pointNumber,ze.hasOwnProperty(je)||(ze[je]=[]),ze[je].push(Je);var Xe=Object.keys(ze);for(Ge=0;Ge<Xe.length;Ge++){je=Xe[Ge];var Oe=ze[je],ke=0,Ke={};for(Fe=0;Fe<Oe.length;Fe++)Je=Oe[Fe],Ke[Je.label]||(Ke[Je.label]=0),Ke[Je.label]+=Je.value,ke+=Je.value;for(Fe=0;Fe<Oe.length;Fe++)Je=Oe[Fe],Je.flow={value:ke,labelConcentration:Ke[Je.label]/ke,concentration:Je.value/ke,links:Oe},Je.concentrationscale&&(Je.color=g(Je.concentrationscale(Je.flow.labelConcentration)))}var Ie=0;for(Ge=0;Ge<at.sourceLinks.length;Ge++)Ie+=at.sourceLinks[Ge].value;for(Ge=0;Ge<at.sourceLinks.length;Ge++)Je=at.sourceLinks[Ge],Je.concentrationOut=Je.value/Ie;var pe=0;for(Ge=0;Ge<at.targetLinks.length;Ge++)pe+=at.targetLinks[Ge].value;for(Ge=0;Ge<at.targetLinks.length;Ge++)Je=at.targetLinks[Ge],Je.concenrationIn=Je.value/pe}}nt();function dt(at){at.forEach(function(ze){var je,Je,Xe=0,Oe=ze.length,ke;for(ze.sort(function(Ke,Ie){return Ke.y0-Ie.y0}),ke=0;ke<Oe;++ke)je=ze[ke],je.y0>=Xe||(Je=Xe-je.y0,Je>1e-6&&(je.y0+=Je,je.y1+=Je)),Xe=je.y1+ae})}function pt(at){var ze=at.map(function(Ie,pe){return{x0:Ie.x0,index:pe}}).sort(function(Ie,pe){return Ie.x0-pe.x0}),je=[],Je=-1,Xe,Oe=-1/0,ke;for(Ve=0;Ve<ze.length;Ve++){var Ke=at[ze[Ve].index];Ke.x0>Oe+he&&(Je+=1,Xe=Ke.x0),Oe=Ke.x0,je[Je]||(je[Je]=[]),je[Je].push(Ke),ke=Xe-Ke.x0,Ke.x0+=ke,Ke.x1+=ke}return je}if(j.node.x.length&&j.node.y.length){for(Ve=0;Ve<Math.min(j.node.x.length,j.node.y.length,Pe.nodes.length);Ve++)if(j.node.x[Ve]&&j.node.y[Ve]){var wt=[j.node.x[Ve]*Se,j.node.y[Ve]*Ae];Pe.nodes[Ve].x0=wt[0]-he/2,Pe.nodes[Ve].x1=wt[0]+he/2;var Tt=Pe.nodes[Ve].y1-Pe.nodes[Ve].y0;Pe.nodes[Ve].y0=wt[1]-Tt/2,Pe.nodes[Ve].y1=wt[1]+Tt/2}if(j.arrangement==="snap"){De=Pe.nodes;var Ct=pt(De);dt(Ct)}be.update(Pe)}return{circular:Ce,key:ie,trace:j,guid:i.randstr(),horizontal:ue,width:Se,height:Ae,nodePad:j.node.pad,nodeLineColor:j.node.line.color,nodeLineWidth:j.node.line.width,linkLineColor:j.link.line.color,linkLineWidth:j.link.line.width,linkArrowLength:j.link.arrowlen,valueFormat:j.valueformat,valueSuffix:j.valuesuffix,textFont:j.textfont,translateX:K.x[0]*te.width+te.margin.l,translateY:te.height-K.y[1]*te.height+te.margin.t,dragParallel:ue?Ae:Se,dragPerpendicular:ue?Se:Ae,arrangement:j.arrangement,sankey:be,graph:Pe,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function y(te,Y,ie){var le=g(Y.color),j=g(Y.hovercolor),K=Y.source.label+"|"+Y.target.label,ue=K+"__"+ie;return Y.trace=te.trace,Y.curveNumber=te.trace.index,{circular:te.circular,key:ue,traceId:te.key,pointNumber:Y.pointNumber,link:Y,tinyColorHue:r.tinyRGB(le),tinyColorAlpha:le.getAlpha(),tinyColorHoverHue:r.tinyRGB(j),tinyColorHoverAlpha:j.getAlpha(),linkPath:M,linkLineColor:te.linkLineColor,linkLineWidth:te.linkLineWidth,linkArrowLength:te.linkArrowLength,valueFormat:te.valueFormat,valueSuffix:te.valueSuffix,sankey:te.sankey,parent:te,interactionState:te.interactionState,flow:Y.flow}}function E(te,Y){var ie="",le=te.width/2,j=te.circularPathData;return te.circularLinkType==="top"?ie="M "+(j.targetX-Y)+" "+(j.targetY+le)+" L"+(j.rightInnerExtent-Y)+" "+(j.targetY+le)+"A"+(j.rightLargeArcRadius+le)+" "+(j.rightSmallArcRadius+le)+" 0 0 1 "+(j.rightFullExtent-le-Y)+" "+(j.targetY-j.rightSmallArcRadius)+"L"+(j.rightFullExtent-le-Y)+" "+j.verticalRightInnerExtent+"A"+(j.rightLargeArcRadius+le)+" "+(j.rightLargeArcRadius+le)+" 0 0 1 "+(j.rightInnerExtent-Y)+" "+(j.verticalFullExtent-le)+"L"+j.leftInnerExtent+" "+(j.verticalFullExtent-le)+"A"+(j.leftLargeArcRadius+le)+" "+(j.leftLargeArcRadius+le)+" 0 0 1 "+(j.leftFullExtent+le)+" "+j.verticalLeftInnerExtent+"L"+(j.leftFullExtent+le)+" "+(j.sourceY-j.leftSmallArcRadius)+"A"+(j.leftLargeArcRadius+le)+" "+(j.leftSmallArcRadius+le)+" 0 0 1 "+j.leftInnerExtent+" "+(j.sourceY+le)+"L"+j.sourceX+" "+(j.sourceY+le)+"L"+j.sourceX+" "+(j.sourceY-le)+"L"+j.leftInnerExtent+" "+(j.sourceY-le)+"A"+(j.leftLargeArcRadius-le)+" "+(j.leftSmallArcRadius-le)+" 0 0 0 "+(j.leftFullExtent-le)+" "+(j.sourceY-j.leftSmallArcRadius)+"L"+(j.leftFullExtent-le)+" "+j.verticalLeftInnerExtent+"A"+(j.leftLargeArcRadius-le)+" "+(j.leftLargeArcRadius-le)+" 0 0 0 "+j.leftInnerExtent+" "+(j.verticalFullExtent+le)+"L"+(j.rightInnerExtent-Y)+" "+(j.verticalFullExtent+le)+"A"+(j.rightLargeArcRadius-le)+" "+(j.rightLargeArcRadius-le)+" 0 0 0 "+(j.rightFullExtent+le-Y)+" "+j.verticalRightInnerExtent+"L"+(j.rightFullExtent+le-Y)+" "+(j.targetY-j.rightSmallArcRadius)+"A"+(j.rightLargeArcRadius-le)+" "+(j.rightSmallArcRadius-le)+" 0 0 0 "+(j.rightInnerExtent-Y)+" "+(j.targetY-le)+"L"+(j.targetX-Y)+" "+(j.targetY-le)+(Y>0?"L"+j.targetX+" "+j.targetY:"")+"Z":ie="M "+(j.targetX-Y)+" "+(j.targetY-le)+" L"+(j.rightInnerExtent-Y)+" "+(j.targetY-le)+"A"+(j.rightLargeArcRadius+le)+" "+(j.rightSmallArcRadius+le)+" 0 0 0 "+(j.rightFullExtent-le-Y)+" "+(j.targetY+j.rightSmallArcRadius)+"L"+(j.rightFullExtent-le-Y)+" "+j.verticalRightInnerExtent+"A"+(j.rightLargeArcRadius+le)+" "+(j.rightLargeArcRadius+le)+" 0 0 0 "+(j.rightInnerExtent-Y)+" "+(j.verticalFullExtent+le)+"L"+j.leftInnerExtent+" "+(j.verticalFullExtent+le)+"A"+(j.leftLargeArcRadius+le)+" "+(j.leftLargeArcRadius+le)+" 0 0 0 "+(j.leftFullExtent+le)+" "+j.verticalLeftInnerExtent+"L"+(j.leftFullExtent+le)+" "+(j.sourceY+j.leftSmallArcRadius)+"A"+(j.leftLargeArcRadius+le)+" "+(j.leftSmallArcRadius+le)+" 0 0 0 "+j.leftInnerExtent+" "+(j.sourceY-le)+"L"+j.sourceX+" "+(j.sourceY-le)+"L"+j.sourceX+" "+(j.sourceY+le)+"L"+j.leftInnerExtent+" "+(j.sourceY+le)+"A"+(j.leftLargeArcRadius-le)+" "+(j.leftSmallArcRadius-le)+" 0 0 1 "+(j.leftFullExtent-le)+" "+(j.sourceY+j.leftSmallArcRadius)+"L"+(j.leftFullExtent-le)+" "+j.verticalLeftInnerExtent+"A"+(j.leftLargeArcRadius-le)+" "+(j.leftLargeArcRadius-le)+" 0 0 1 "+j.leftInnerExtent+" "+(j.verticalFullExtent-le)+"L"+(j.rightInnerExtent-Y)+" "+(j.verticalFullExtent-le)+"A"+(j.rightLargeArcRadius-le)+" "+(j.rightLargeArcRadius-le)+" 0 0 1 "+(j.rightFullExtent+le-Y)+" "+j.verticalRightInnerExtent+"L"+(j.rightFullExtent+le-Y)+" "+(j.targetY+j.rightSmallArcRadius)+"A"+(j.rightLargeArcRadius-le)+" "+(j.rightSmallArcRadius-le)+" 0 0 1 "+(j.rightInnerExtent-Y)+" "+(j.targetY+le)+"L"+(j.targetX-Y)+" "+(j.targetY+le)+(Y>0?"L"+j.targetX+" "+j.targetY:"")+"Z",ie}function M(){var te=.5;function Y(ie){var le=ie.linkArrowLength;if(ie.link.circular)return E(ie.link,le);var j=Math.abs((ie.link.target.x0-ie.link.source.x1)/2);le>j&&(le=j);var K=ie.link.source.x1,ue=ie.link.target.x0-le,ae=C(K,ue),he=ae(te),xe=ae(1-te),Se=ie.link.y0-ie.link.width/2,Ae=ie.link.y0+ie.link.width/2,De=ie.link.y1-ie.link.width/2,we=ie.link.y1+ie.link.width/2,Ce="M"+K+","+Se,be="C"+he+","+Se+" "+xe+","+De+" "+ue+","+De,Pe="C"+xe+","+we+" "+he+","+Ae+" "+K+","+Ae,Ve=le>0?"L"+(ue+le)+","+(De+ie.link.width/2):"";return Ve+="L"+ue+","+we,Ce+be+Ve+Pe+"Z"}return Y}function s(te,Y){var ie=g(Y.color),le=v.nodePadAcross,j=te.nodePad/2;Y.dx=Y.x1-Y.x0,Y.dy=Y.y1-Y.y0;var K=Y.dx,ue=Math.max(.5,Y.dy),ae="node_"+Y.pointNumber;return Y.group&&(ae=i.randstr()),Y.trace=te.trace,Y.curveNumber=te.trace.index,{index:Y.pointNumber,key:ae,partOfGroup:Y.partOfGroup||!1,group:Y.group,traceId:te.key,trace:te.trace,node:Y,nodePad:te.nodePad,nodeLineColor:te.nodeLineColor,nodeLineWidth:te.nodeLineWidth,textFont:te.textFont,size:te.horizontal?te.height:te.width,visibleWidth:Math.ceil(K),visibleHeight:ue,zoneX:-le,zoneY:-j,zoneWidth:K+2*le,zoneHeight:ue+2*j,labelY:te.horizontal?Y.dy/2+1:Y.dx/2+1,left:Y.originalLayer===1,sizeAcross:te.width,forceLayouts:te.forceLayouts,horizontal:te.horizontal,darkBackground:ie.getBrightness()<=128,tinyColorHue:r.tinyRGB(ie),tinyColorAlpha:ie.getAlpha(),valueFormat:te.valueFormat,valueSuffix:te.valueSuffix,sankey:te.sankey,graph:te.graph,arrangement:te.arrangement,uniqueNodeLabelPathId:[te.guid,te.key,ae].join("_"),interactionState:te.interactionState,figure:te}}function S(te){te.attr("transform",function(Y){return a(Y.node.x0.toFixed(3),Y.node.y0.toFixed(3))})}function b(te){te.call(S)}function I(te,Y){te.call(b),Y.attr("d",M())}function D(te){te.attr("width",function(Y){return Y.node.x1-Y.node.x0}).attr("height",function(Y){return Y.visibleHeight})}function B(te){return te.link.width>1||te.linkLineWidth>0}function k(te){var Y=a(te.translateX,te.translateY);return Y+(te.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function F(te,Y,ie){te.on(".basic",null).on("mouseover.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(ie.hover(this,le,Y),le.interactionState.hovered=[this,le])}).on("mousemove.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(ie.follow(this,le),le.interactionState.hovered=[this,le])}).on("mouseout.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(ie.unhover(this,le,Y),le.interactionState.hovered=!1)}).on("click.basic",function(le){le.interactionState.hovered&&(ie.unhover(this,le,Y),le.interactionState.hovered=!1),!le.interactionState.dragInProgress&&!le.partOfGroup&&ie.select(this,le,Y)})}function N(te,Y,ie,le){var j=n.behavior.drag().origin(function(K){return{x:K.node.x0+K.visibleWidth/2,y:K.node.y0+K.visibleHeight/2}}).on("dragstart",function(K){if(K.arrangement!=="fixed"&&(i.ensureSingle(le._fullLayout._infolayer,"g","dragcover",function(ae){le._fullLayout._dragCover=ae}),i.raiseToTop(this),K.interactionState.dragInProgress=K.node,q(K.node),K.interactionState.hovered&&(ie.nodeEvents.unhover.apply(0,K.interactionState.hovered),K.interactionState.hovered=!1),K.arrangement==="snap")){var ue=K.traceId+"|"+K.key;K.forceLayouts[ue]?K.forceLayouts[ue].alpha(1):O(te,ue,K),V(te,Y,K,ue,le)}}).on("drag",function(K){if(K.arrangement!=="fixed"){var ue=n.event.x,ae=n.event.y;K.arrangement==="snap"?(K.node.x0=ue-K.visibleWidth/2,K.node.x1=ue+K.visibleWidth/2,K.node.y0=ae-K.visibleHeight/2,K.node.y1=ae+K.visibleHeight/2):(K.arrangement==="freeform"&&(K.node.x0=ue-K.visibleWidth/2,K.node.x1=ue+K.visibleWidth/2),ae=Math.max(0,Math.min(K.size-K.visibleHeight/2,ae)),K.node.y0=ae-K.visibleHeight/2,K.node.y1=ae+K.visibleHeight/2),q(K.node),K.arrangement!=="snap"&&(K.sankey.update(K.graph),I(te.filter(se(K)),Y))}}).on("dragend",function(K){if(K.arrangement!=="fixed"){K.interactionState.dragInProgress=!1;for(var ue=0;ue<K.node.childrenNodes.length;ue++)K.node.childrenNodes[ue].x=K.node.x,K.node.childrenNodes[ue].y=K.node.y;K.arrangement!=="snap"&&ee(K,le)}});te.on(".drag",null).call(j)}function O(te,Y,ie,le){J(ie.graph.nodes);var j=ie.graph.nodes.filter(function(K){return K.originalX===ie.node.originalX}).filter(function(K){return!K.partOfGroup});ie.forceLayouts[Y]=d.forceSimulation(j).alphaDecay(0).force("collide",d.forceCollide().radius(function(K){return K.dy/2+ie.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",X(te,Y,j,ie)).stop()}function V(te,Y,ie,le,j){window.requestAnimationFrame(function K(){var ue;for(ue=0;ue<v.forceTicksPerFrame;ue++)ie.forceLayouts[le].tick();var ae=ie.graph.nodes;if(Z(ae),ie.sankey.update(ie.graph),I(te.filter(se(ie)),Y),ie.forceLayouts[le].alpha()>0)window.requestAnimationFrame(K);else{var he=ie.node.originalX;ie.node.x0=he-ie.visibleWidth/2,ie.node.x1=he+ie.visibleWidth/2,ee(ie,j)}})}function X(te,Y,ie,le){return function(){for(var K=0,ue=0;ue<ie.length;ue++){var ae=ie[ue];ae===le.interactionState.dragInProgress?(ae.x=ae.lastDraggedX,ae.y=ae.lastDraggedY):(ae.vx=(ae.originalX-ae.x)/v.forceTicksPerFrame,ae.y=Math.min(le.size-ae.dy/2,Math.max(ae.dy/2,ae.y))),K=Math.max(K,Math.abs(ae.vx),Math.abs(ae.vy))}!le.interactionState.dragInProgress&&K<.1&&le.forceLayouts[Y].alpha()>0&&le.forceLayouts[Y].alpha(0)}}function ee(te,Y){for(var ie=[],le=[],j=0;j<te.graph.nodes.length;j++){var K=(te.graph.nodes[j].x0+te.graph.nodes[j].x1)/2,ue=(te.graph.nodes[j].y0+te.graph.nodes[j].y1)/2;ie.push(K/te.figure.width),le.push(ue/te.figure.height)}c.call("_guiRestyle",Y,{"node.x":[ie],"node.y":[le]},te.trace.index).then(function(){Y._fullLayout._dragCover&&Y._fullLayout._dragCover.remove()})}function ne(te){var Y=[],ie;for(ie=0;ie<te.length;ie++)te[ie].originalX=(te[ie].x0+te[ie].x1)/2,te[ie].originalY=(te[ie].y0+te[ie].y1)/2,Y.indexOf(te[ie].originalX)===-1&&Y.push(te[ie].originalX);for(Y.sort(function(le,j){return le-j}),ie=0;ie<te.length;ie++)te[ie].originalLayerIndex=Y.indexOf(te[ie].originalX),te[ie].originalLayer=te[ie].originalLayerIndex/(Y.length-1)}function q(te){te.lastDraggedX=te.x0+te.dx/2,te.lastDraggedY=te.y0+te.dy/2}function se(te){return function(Y){return Y.node.originalX===te.node.originalX}}function J(te){for(var Y=0;Y<te.length;Y++)te[Y].y=(te[Y].y0+te[Y].y1)/2,te[Y].x=(te[Y].x0+te[Y].x1)/2}function Z(te){for(var Y=0;Y<te.length;Y++)te[Y].y0=te[Y].y-te[Y].dy/2,te[Y].y1=te[Y].y0+te[Y].dy,te[Y].x0=te[Y].x-te[Y].dx/2,te[Y].x1=te[Y].x0+te[Y].dx}H.exports=function(te,Y,ie,le,j){var K=te._context.staticPlot,ue=!1;i.ensureSingle(te._fullLayout._infolayer,"g","first-render",function(){ue=!0});var ae=te._fullLayout._dragCover,he=ie.filter(function(Pe){return h(Pe).trace.visible}).map(_.bind(null,le)),xe=Y.selectAll("."+v.cn.sankey).data(he,l);xe.exit().remove(),xe.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",K?"none":"auto").attr("transform",k),xe.each(function(Pe,Ve){te._fullData[Ve]._sankey=Pe;var Ge="bgsankey-"+Pe.trace.uid+"-"+Ve;i.ensureSingle(te._fullLayout._draggers,"rect",Ge),te._fullData[Ve]._bgRect=n.select("."+Ge),te._fullData[Ve]._bgRect.style("pointer-events",K?"none":"all").attr("width",Pe.width).attr("height",Pe.height).attr("x",Pe.translateX).attr("y",Pe.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),xe.transition().ease(v.ease).duration(v.duration).attr("transform",k);var Se=xe.selectAll("."+v.cn.sankeyLinks).data(m,l);Se.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Ae=Se.selectAll("."+v.cn.sankeyLink).data(function(Pe){var Ve=Pe.graph.links;return Ve.filter(function(Ge){return Ge.value}).map(y.bind(null,Pe))},l);Ae.enter().append("path").classed(v.cn.sankeyLink,!0).call(F,xe,j.linkEvents),Ae.style("stroke",function(Pe){return B(Pe)?r.tinyRGB(g(Pe.linkLineColor)):Pe.tinyColorHue}).style("stroke-opacity",function(Pe){return B(Pe)?r.opacity(Pe.linkLineColor):Pe.tinyColorAlpha}).style("fill",function(Pe){return Pe.tinyColorHue}).style("fill-opacity",function(Pe){return Pe.tinyColorAlpha}).style("stroke-width",function(Pe){return B(Pe)?Pe.linkLineWidth:1}).attr("d",M()),Ae.style("opacity",function(){return te._context.staticPlot||ue||ae?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Ae.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var De=xe.selectAll("."+v.cn.sankeyNodeSet).data(m,l);De.enter().append("g").classed(v.cn.sankeyNodeSet,!0),De.style("cursor",function(Pe){switch(Pe.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var we=De.selectAll("."+v.cn.sankeyNode).data(function(Pe){var Ve=Pe.graph.nodes;return ne(Ve),Ve.map(s.bind(null,Pe))},l);we.enter().append("g").classed(v.cn.sankeyNode,!0).call(S).style("opacity",function(Pe){return(te._context.staticPlot||ue)&&!Pe.partOfGroup?1:0}),we.call(F,xe,j.nodeEvents).call(N,Ae,j,te),we.transition().ease(v.ease).duration(v.duration).call(S).style("opacity",function(Pe){return Pe.partOfGroup?0:1}),we.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ce=we.selectAll("."+v.cn.nodeRect).data(m);Ce.enter().append("rect").classed(v.cn.nodeRect,!0).call(D),Ce.style("stroke-width",function(Pe){return Pe.nodeLineWidth}).style("stroke",function(Pe){return r.tinyRGB(g(Pe.nodeLineColor))}).style("stroke-opacity",function(Pe){return r.opacity(Pe.nodeLineColor)}).style("fill",function(Pe){return Pe.tinyColorHue}).style("fill-opacity",function(Pe){return Pe.tinyColorAlpha}),Ce.transition().ease(v.ease).duration(v.duration).call(D);var be=we.selectAll("."+v.cn.nodeLabel).data(m);be.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(Pe){return Pe.node.label}).each(function(Pe){var Ve=n.select(this);t.font(Ve,Pe.textFont),T.convertToTspans(Ve,te)}).style("text-shadow",T.makeTextShadow(te._fullLayout.paper_bgcolor)).attr("text-anchor",function(Pe){return Pe.horizontal&&Pe.left?"end":"start"}).attr("transform",function(Pe){var Ve=n.select(this),Ge=T.lineCount(Ve),Fe=Pe.textFont.size*((Ge-1)*x-p),He=Pe.nodeLineWidth/2+A,ft=((Pe.horizontal?Pe.visibleHeight:Pe.visibleWidth)-Fe)/2;Pe.horizontal&&(Pe.left?He=-He:He+=Pe.visibleWidth);var gt=Pe.horizontal?"":"scale(-1,1)"+u(90);return a(Pe.horizontal?He:ft,Pe.horizontal?ft:He)+gt}),be.transition().ease(v.ease).duration(v.duration)}},81128:function(H){H.exports=function(e,d){for(var C=e.cd,n=[],L=C[0].trace,w=L._sankey.graph.nodes,v=0;v<w.length;v++){var g=w[v];if(!g.partOfGroup){var r=[(g.x0+g.x1)/2,(g.y0+g.y1)/2];L.orientation==="v"&&r.reverse(),d&&d.contains(r,!1,v,e)&&n.push({pointNumber:g.pointNumber})}}return n}},20148:function(H,U,e){var d=e(3400);H.exports=function(n,L){for(var w=0;w<n.length;w++)n[w].i=w;d.mergeArray(L.text,n,"tx"),d.mergeArray(L.texttemplate,n,"txt"),d.mergeArray(L.hovertext,n,"htx"),d.mergeArray(L.customdata,n,"data"),d.mergeArray(L.textposition,n,"tp"),L.textfont&&(d.mergeArrayCastPositive(L.textfont.size,n,"ts"),d.mergeArray(L.textfont.color,n,"tc"),d.mergeArray(L.textfont.family,n,"tf"),d.mergeArray(L.textfont.weight,n,"tw"),d.mergeArray(L.textfont.style,n,"ty"),d.mergeArray(L.textfont.variant,n,"tv"));var v=L.marker;if(v){d.mergeArrayCastPositive(v.size,n,"ms"),d.mergeArrayCastPositive(v.opacity,n,"mo"),d.mergeArray(v.symbol,n,"mx"),d.mergeArray(v.angle,n,"ma"),d.mergeArray(v.standoff,n,"mf"),d.mergeArray(v.color,n,"mc");var g=v.line;v.line&&(d.mergeArray(g.color,n,"mlc"),d.mergeArrayCastPositive(g.width,n,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(d.mergeArray(r.type,n,"mgt"),d.mergeArray(r.color,n,"mgc"))}}},52904:function(H,U,e){var d=e(29736).axisHoverFormat,C=e(21776).Gw,n=e(21776).Ks,L=e(49084),w=e(25376),v=e(98192).u,g=e(98192).c,r=e(43616),t=e(88200),i=e(92880).extendFlat,a=e(98304);function u(m){return{valType:"any",dflt:0,editType:"calc"}}function f(m){return{valType:"any",editType:"calc"}}function l(m){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}H.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:u(),yperiod:u(),xperiod0:f(),yperiod0:f(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:d("x"),yhoverformat:d("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:C({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:i({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:a(!0),fillgradient:i({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:g,marker:i({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:i({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:w({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(H,U,e){var d=e(38248),C=e(3400),n=e(54460),L=e(1220),w=e(39032).BADNUM,v=e(43028),g=e(90136),r=e(20148),t=e(4500);function i(h,T){var c=h._fullLayout,o=T._xA=n.getFromId(h,T.xaxis||"x","x"),p=T._yA=n.getFromId(h,T.yaxis||"y","y"),x=o.makeCalcdata(T,"x"),A=p.makeCalcdata(T,"y"),_=L(T,o,"x",x),y=L(T,p,"y",A),E=_.vals,M=y.vals,s=T._length,S=new Array(s),b=T.ids,I=m(T,c,o,p),D=!1,B,k,F,N,O,V;f(c,T);var X="x",ee="y",ne;if(I)C.pushUnique(I.traceIndices,T._expandedIndex),B=I.orientation==="v",B?(ee="s",ne="x"):(X="s",ne="y"),O=I.stackgaps==="interpolate";else{var q=u(T,s);a(h,T,o,p,E,M,q)}var se=!!T.xperiodalignment,J=!!T.yperiodalignment;for(k=0;k<s;k++){var Z=S[k]={},te=d(E[k]),Y=d(M[k]);te&&Y?(Z[X]=E[k],Z[ee]=M[k],se&&(Z.orig_x=x[k],Z.xEnd=_.ends[k],Z.xStart=_.starts[k]),J&&(Z.orig_y=A[k],Z.yEnd=y.ends[k],Z.yStart=y.starts[k])):I&&(B?te:Y)?(Z[ne]=B?E[k]:M[k],Z.gap=!0,O?(Z.s=w,D=!0):Z.s=0):Z[X]=Z[ee]=w,b&&(Z.id=String(b[k]))}if(r(S,T),g(h,T),t(S,T),I){for(k=0;k<S.length;)S[k][ne]===w?S.splice(k,1):k++;if(C.sort(S,function(K,ue){return K[ne]-ue[ne]||K.i-ue.i}),D){for(k=0;k<S.length-1&&S[k].gap;)k++;for(V=S[k].s,V||(V=S[k].s=0),F=0;F<k;F++)S[F].s=V;for(N=S.length-1;N>k&&S[N].gap;)N--;for(V=S[N].s,F=S.length-1;F>N;F--)S[F].s=V;for(;k<N;)if(k++,S[k].gap){for(F=k+1;S[F].gap;)F++;for(var ie=S[k-1][ne],le=S[k-1].s,j=(S[F].s-le)/(S[F][ne]-ie);k<F;)S[k].s=le+(S[k][ne]-ie)*j,k++}}}return S}function a(h,T,c,o,p,x,A){var _=T._length,y=h._fullLayout,E=c._id,M=o._id,s=y._firstScatter[l(T)]===T.uid,S=(m(T,y,c,o)||{}).orientation,b=T.fill;c._minDtick=0,o._minDtick=0;var I={padded:!0},D={padded:!0};A&&(I.ppad=D.ppad=A);var B=_<2||p[0]!==p[_-1]||x[0]!==x[_-1];B&&(b==="tozerox"||b==="tonextx"&&(s||S==="h"))?I.tozero=!0:!(T.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(I.padded=!1,I.ppad=0),B&&(b==="tozeroy"||b==="tonexty"&&(s||S==="v"))?D.tozero=!0:(b==="tonextx"||b==="tozerox")&&(D.padded=!1),E&&(T._extremes[E]=n.findExtremes(c,p,I)),M&&(T._extremes[M]=n.findExtremes(o,x,D))}function u(h,T){if(v.hasMarkers(h)){var c=h.marker,o=1.6*(h.marker.sizeref||1),p;if(h.marker.sizemode==="area"?p=function(E){return Math.max(Math.sqrt((E||0)/o),3)}:p=function(E){return Math.max((E||0)/o,3)},C.isArrayOrTypedArray(c.size)){var x={type:"linear"};n.setConvert(x);for(var A=x.makeCalcdata(h.marker,"size"),_=new Array(T),y=0;y<T;y++)_[y]=p(A[y]);return _}else return p(c.size)}}function f(h,T){var c=l(T),o=h._firstScatter;o[c]||(o[c]=T.uid)}function l(h){var T=h.stackgroup;return h.xaxis+h.yaxis+h.type+(T?"-"+T:"")}function m(h,T,c,o){var p=h.stackgroup;if(p){var x=T._scatterStackOpts[c._id+o._id][p],A=x.orientation==="v"?o:c;if(A.type==="linear"||A.type==="log")return x}}H.exports={calc:i,calcMarkerSize:u,calcAxisExpansion:a,setFirstScatter:f,getStackOpts:m}},4500:function(H,U,e){var d=e(3400);H.exports=function(n,L){d.isArrayOrTypedArray(L.selectedpoints)&&d.tagSelected(n,L)}},90136:function(H,U,e){var d=e(94288).hasColorscale,C=e(47128),n=e(43028);H.exports=function(w,v){n.hasLines(v)&&d(v,"line")&&C(w,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(v)&&(d(v,"marker")&&C(w,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),d(v,"marker.line")&&C(w,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(H){H.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(H,U,e){var d=e(16356),C=e(96376).setGroupPositions;function n(v,g){for(var r=g.xaxis,t=g.yaxis,i=v._fullLayout,a=v._fullData,u=v.calcdata,f=[],l=[],m=0;m<a.length;m++){var h=a[m];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?f.push(u[m]):h.orientation==="v"&&l.push(u[m]))}var T={mode:i.scattermode,gap:i.scattergap};C(v,r,t,l,T),C(v,t,r,f,T)}H.exports=function(g,r){g._fullLayout.scattermode==="group"&&n(g,r);var t=r.xaxis,i=r.yaxis,a=t._id+i._id,u=g._fullLayout._scatterStackOpts[a];if(u){var f=g.calcdata,l,m,h,T,c,o,p,x,A,_,y,E,M,s,S;for(var b in u){_=u[b];var I=_.traceIndices;if(I.length){for(y=_.stackgaps==="interpolate",E=_.groupnorm,_.orientation==="v"?(M="x",s="y"):(M="y",s="x"),S=new Array(I.length),l=0;l<S.length;l++)S[l]=!1;o=f[I[0]];var D=new Array(o.length);for(l=0;l<o.length;l++)D[l]=o[l][M];for(l=1;l<I.length;l++){for(c=f[I[l]],m=h=0;m<c.length;m++){for(p=c[m][M];p>D[h]&&h<D.length;h++)L(c,m,D[h],l,S,y,M),m++;if(p!==D[h]){for(T=0;T<l;T++)L(f[I[T]],h,p,T,S,y,M);D.splice(h,0,p)}h++}for(;h<D.length;h++)L(c,m,D[h],l,S,y,M),m++}var B=D.length;for(m=0;m<o.length;m++){for(x=o[m][s]=o[m].s,l=1;l<I.length;l++)c=f[I[l]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=B,x+=c[m].s,c[m][s]=x;if(E)for(A=(E==="fraction"?x:x/100)||1,l=0;l<I.length;l++){var k=f[I[l]][m];k[s]/=A,k.sNorm=k.s/A}}for(l=0;l<I.length;l++){c=f[I[l]];var F=c[0].trace,N=d.calcMarkerSize(F,F._rawLength),O=Array.isArray(N);if(N&&S[l]||O){var V=N;for(N=new Array(B),m=0;m<B;m++)N[m]=c[m].gap?0:O?V[c[m].i]:V}var X=new Array(B),ee=new Array(B);for(m=0;m<B;m++)X[m]=c[m].x,ee[m]=c[m].y;d.calcAxisExpansion(g,F,t,i,X,ee,N),c[0].t.orientation=_.orientation}}}}};function L(v,g,r,t,i,a,u){i[t]=!0;var f={i:null,gap:!0,s:0};if(f[u]=r,v.splice(g,0,f),g&&r===v[g-1][u]){var l=v[g-1];f.s=l.s,f.i=l.i,f.gap=l.gap}else a&&(f.s=w(v,g,r,u));g||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function w(v,g,r,t){var i=v[g-1],a=v[g+1];return a?i?i.s+(a.s-i.s)*(r-i[t])/(a[t]-i[t]):a.s:i.s}},35036:function(H,U,e){var d=e(3400),C=e(20011),n=e(52904);H.exports=function(w,v){var g,r,t;function i(m){return d.coerce(r._input,r,n,m)}if(v.scattermode==="group")for(t=0;t<w.length;t++)r=w[t],r.type==="scatter"&&(g=r._input,C(g,r,v,i));for(t=0;t<w.length;t++){var a=w[t];if(a.type==="scatter"){var u=a.fill;if(!(u==="none"||u==="toself")&&(a.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var f=t-1;f>=0;f--){var l=w[f];if(l.type==="scatter"&&l.xaxis===a.xaxis&&l.yaxis===a.yaxis){l.opacity=void 0;break}}}}}},18800:function(H,U,e){var d=e(3400),C=e(24040),n=e(52904),L=e(88200),w=e(43028),v=e(43980),g=e(31147),r=e(43912),t=e(74428),i=e(66828),a=e(11731),u=e(124),f=e(70840),l=e(3400).coercePattern;H.exports=function(h,T,c,o){function p(S,b){return d.coerce(h,T,n,S,b)}var x=v(h,T,o,p);if(x||(T.visible=!1),!!T.visible){g(h,T,o,p),p("xhoverformat"),p("yhoverformat"),p("zorder");var A=r(h,T,o,p);o.scattermode==="group"&&T.orientation===void 0&&p("orientation","v");var _=!A&&x<L.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",_),w.hasMarkers(T)&&t(h,T,c,o,p,{gradient:!0}),w.hasLines(T)&&(i(h,T,c,o,p,{backoff:!0}),a(h,T,p),p("connectgaps"),p("line.simplify")),w.hasText(T)&&(p("texttemplate"),u(h,T,o,p));var y=[];(w.hasMarkers(T)||w.hasText(T))&&(p("cliponaxis"),p("marker.maxdisplayed"),y.push("points")),p("fill",A?A.fillDflt:"none"),T.fill!=="none"&&(f(h,T,c,p,{moduleHasFillgradient:!0}),w.hasLines(T)||a(h,T,p),l(p,"fillpattern",T.fillcolor,!1));var E=(T.line||{}).color,M=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&y.push("fills"),p("hoveron",y.join("+")||"points"),T.hoveron!=="fills"&&p("hovertemplate");var s=C.getComponentMethod("errorbars","supplyDefaults");s(h,T,E||M||c,{axis:"y"}),s(h,T,E||M||c,{axis:"x",inherit:"y"}),d.coerceSelectionMarkerOpacity(T,p)}}},98304:function(H){H.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(H,U,e){var d=e(76308),C=e(3400).isArrayOrTypedArray;function n(L){for(var w=d.interpolate(L[0][1],L[1][1],.5),v=2;v<L.length;v++){var g=d.interpolate(L[v-1][1],L[v][1],.5);w=d.interpolate(w,g,L[v-1][0]/L[v][0])}return w}H.exports=function(w,v,g,r,t){t||(t={});var i=!1;if(v.marker){var a=v.marker.color,u=(v.marker.line||{}).color;a&&!C(a)?i=a:u&&!C(u)&&(i=u)}var f;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var m=r("fillgradient.colorscale");m&&(f=n(m))}}r("fillcolor",d.addOpacity((v.line||{}).color||i||f||g,.5))}},76688:function(H,U,e){var d=e(54460);H.exports=function(n,L,w){var v={},g={_fullLayout:w},r=d.getFromTrace(g,L,"x"),t=d.getFromTrace(g,L,"y"),i=n.orig_x;i===void 0&&(i=n.x);var a=n.orig_y;return a===void 0&&(a=n.y),v.xLabel=d.tickText(r,r.c2l(i),!0).text,v.yLabel=d.tickText(t,t.c2l(a),!0).text,v}},44928:function(H,U,e){var d=e(76308),C=e(43028);H.exports=function(L,w){var v,g;if(L.mode==="lines")return v=L.line.color,v&&d.opacity(v)?v:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var r=w.mcc||(L.marker||{}).color,t=w.mlcc||((L.marker||{}).line||{}).color;return g=r&&d.opacity(r)?r:t&&d.opacity(t)&&(w.mlw||((L.marker||{}).line||{}).width)?t:"",g?d.opacity(g)<.3?d.addOpacity(g,.3):g:(v=(L.line||{}).color,v&&d.opacity(v)&&C.hasLines(L)&&L.line.width?v:L.fillcolor)}},20011:function(H,U,e){var d=e(71888).getAxisGroup;H.exports=function(n,L,w,v){var g=L.orientation,r=L[{v:"x",h:"y"}[g]+"axis"],t=d(w,r)+g,i=w._alignmentOpts||{},a=v("alignmentgroup"),u=i[t];u||(u=i[t]={});var f=u[a];f?f.traces.push(L):f=u[a]={traces:[L],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var l=v("offsetgroup"),m=f.offsetGroups,h=m[l];l&&(h||(h=m[l]={offsetIndex:Object.keys(m).length}),L._offsetIndex=h.offsetIndex)}},98723:function(H,U,e){var d=e(3400),C=e(93024),n=e(24040),L=e(44928),w=e(76308),v=d.fillText;H.exports=function(r,t,i,a){var u=r.cd,f=u[0].trace,l=r.xa,m=r.ya,h=l.c2p(t),T=m.c2p(i),c=[h,T],o=f.hoveron||"",p=f.mode.indexOf("markers")!==-1?3:.5,x=!!f.xperiodalignment,A=!!f.yperiodalignment;if(o.indexOf("points")!==-1){var _=function(ne){if(x){var q=l.c2p(ne.xStart),se=l.c2p(ne.xEnd);return h>=Math.min(q,se)&&h<=Math.max(q,se)?0:1/0}var J=Math.max(3,ne.mrc||0),Z=1-1/J,te=Math.abs(l.c2p(ne.x)-h);return te<J?Z*te/J:te-J+Z},y=function(ne){if(A){var q=m.c2p(ne.yStart),se=m.c2p(ne.yEnd);return T>=Math.min(q,se)&&T<=Math.max(q,se)?0:1/0}var J=Math.max(3,ne.mrc||0),Z=1-1/J,te=Math.abs(m.c2p(ne.y)-T);return te<J?Z*te/J:te-J+Z},E=function(ne){var q=Math.max(p,ne.mrc||0),se=l.c2p(ne.x)-h,J=m.c2p(ne.y)-T;return Math.max(Math.sqrt(se*se+J*J)-q,1-p/q)},M=C.getDistanceFunction(a,_,y,E);if(C.getClosest(u,M,r),r.index!==!1){var s=u[r.index],S=l.c2p(s.x,!0),b=m.c2p(s.y,!0),I=s.mrc||1;r.index=s.i;var D=u[0].t.orientation,B=D&&(s.sNorm||s.s),k=D==="h"?B:s.orig_x!==void 0?s.orig_x:s.x,F=D==="v"?B:s.orig_y!==void 0?s.orig_y:s.y;return d.extendFlat(r,{color:L(f,s),x0:S-I,x1:S+I,xLabelVal:k,y0:b-I,y1:b+I,yLabelVal:F,spikeDistance:E(s),hovertemplate:f.hovertemplate}),v(s,f,r),n.getComponentMethod("errorbars","hoverInfo")(s,f,r),[r]}}function N(ne){if(!ne)return!1;var q=ne.node();try{var se=new DOMPoint(c[0],c[1]);return q.isPointInFill(se)}catch{var J=q.ownerSVGElement.createSVGPoint();return J.x=c[0],J.y=c[1],q.isPointInFill(J)}}function O(ne){var q,se=[],J=1/0,Z=-1/0,te=1/0,Y=-1/0,ie;for(q=0;q<ne.length;q++){var le=ne[q];le.contains(c)&&(se.push(le),te=Math.min(te,le.ymin),Y=Math.max(Y,le.ymax))}if(se.length===0)return null;te=Math.max(te,0),Y=Math.min(Y,m._length),ie=(te+Y)/2;var j,K,ue,ae,he,xe,Se;for(q=0;q<se.length;q++)for(K=se[q].pts,j=1;j<K.length;j++)xe=K[j-1][1],Se=K[j][1],xe>ie!=Se>=ie&&(ae=K[j-1][0],he=K[j][0],Se-xe&&(ue=ae+(he-ae)*(ie-xe)/(Se-xe),J=Math.min(J,ue),Z=Math.max(Z,ue)));return J=Math.max(J,0),Z=Math.min(Z,l._length),{x0:J,x1:Z,y0:ie,y1:ie}}if(o.indexOf("fills")!==-1&&f._fillElement){var V=N(f._fillElement)&&!N(f._fillExclusionElement);if(V){var X=O(f._polygons);X===null&&(X={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var ee=w.defaultLine;return w.opacity(f.fillcolor)?ee=f.fillcolor:w.opacity((f.line||{}).color)&&(ee=f.line.color),d.extendFlat(r,{distance:r.maxHoverDistance,x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1,color:ee,hovertemplate:!1}),delete r.index,f.text&&!d.isArrayOrTypedArray(f.text)?r.text=String(f.text):r.text=f.name,[r]}}}},65875:function(H,U,e){var d=e(43028);H.exports={hasLines:d.hasLines,hasMarkers:d.hasMarkers,hasText:d.hasText,isBubble:d.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(H){H.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(H,U,e){var d=e(3400),C=e(55308);H.exports=function(n,L){function w(g,r){return d.coerce(n,L,C,g,r)}var v=L.barmode==="group";L.scattermode==="group"&&w("scattergap",v?L.bargap:.2)}},66828:function(H,U,e){var d=e(3400).isArrayOrTypedArray,C=e(94288).hasColorscale,n=e(27260);H.exports=function(w,v,g,r,t,i){i||(i={});var a=(w.marker||{}).color;if(a&&a._inputArray&&(a=a._inputArray),t("line.color",g),C(w,"line"))n(w,v,r,t,{prefix:"line.",cLetter:"c"});else{var u=(d(a)?!1:a)||g;t("line.color",u)}t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},52340:function(H,U,e){var d=e(43616),C=e(39032),n=C.BADNUM,L=C.LOG_CLIP,w=L+.5,v=L-.5,g=e(3400),r=g.segmentsIntersect,t=g.constrain,i=e(88200);H.exports=function(u,f){var l=f.trace||{},m=f.xaxis,h=f.yaxis,T=m.type==="log",c=h.type==="log",o=m._length,p=h._length,x=f.backoff,A=l.marker,_=f.connectGaps,y=f.baseTolerance,E=f.shape,M=E==="linear",s=l.fill&&l.fill!=="none",S=[],b=i.minTolerance,I=u.length,D=new Array(I),B=0,k,F,N,O,V,X,ee,ne,q,se,J,Z,te,Y,ie,le;function j(st){var lt=u[st];if(!lt)return!1;var jt=f.linearized?m.l2p(lt.x):m.c2p(lt.x),Jt=f.linearized?h.l2p(lt.y):h.c2p(lt.y);if(jt===n){if(T&&(jt=m.c2p(lt.x,!0)),jt===n)return!1;c&&Jt===n&&(jt*=Math.abs(m._m*p*(m._m>0?w:v)/(h._m*o*(h._m>0?w:v)))),jt*=1e3}if(Jt===n){if(c&&(Jt=h.c2p(lt.y,!0)),Jt===n)return!1;Jt*=1e3}return[jt,Jt]}function K(st,lt,jt,Jt){var St=jt-st,Rt=Jt-lt,$t=.5-st,Pr=.5-lt,xt=St*St+Rt*Rt,qt=St*$t+Rt*Pr;if(qt>0&&qt<xt){var nr=$t*Rt-Pr*St;if(nr*nr<xt)return!0}}var ue,ae;function he(st,lt){var jt=st[0]/o,Jt=st[1]/p,St=Math.max(0,-jt,jt-1,-Jt,Jt-1);return St&&ue!==void 0&&K(jt,Jt,ue,ae)&&(St=0),St&&lt&&K(jt,Jt,lt[0]/o,lt[1]/p)&&(St=0),(1+i.toleranceGrowth*St)*y}function xe(st,lt){var jt=st[0]-lt[0],Jt=st[1]-lt[1];return Math.sqrt(jt*jt+Jt*Jt)}var Se=i.maxScreensAway,Ae=-o*Se,De=o*(1+Se),we=-p*Se,Ce=p*(1+Se),be=[[Ae,we,De,we],[De,we,De,Ce],[De,Ce,Ae,Ce],[Ae,Ce,Ae,we]],Pe,Ve,Ge,Fe,He,ft;function gt(st,lt){for(var jt=[],Jt=0,St=0;St<4;St++){var Rt=be[St],$t=r(st[0],st[1],lt[0],lt[1],Rt[0],Rt[1],Rt[2],Rt[3]);$t&&(!Jt||Math.abs($t.x-jt[0][0])>1||Math.abs($t.y-jt[0][1])>1)&&($t=[$t.x,$t.y],Jt&&xe($t,st)<xe(jt[0],st)?jt.unshift($t):jt.push($t),Jt++)}return jt}function ct(st){if(st[0]<Ae||st[0]>De||st[1]<we||st[1]>Ce)return[t(st[0],Ae,De),t(st[1],we,Ce)]}function nt(st,lt){if(st[0]===lt[0]&&(st[0]===Ae||st[0]===De)||st[1]===lt[1]&&(st[1]===we||st[1]===Ce))return!0}function dt(st,lt){var jt=[],Jt=ct(st),St=ct(lt);return Jt&&St&&nt(Jt,St)||(Jt&&jt.push(Jt),St&&jt.push(St)),jt}function pt(st,lt,jt){return function(Jt,St){var Rt=ct(Jt),$t=ct(St),Pr=[];if(Rt&&$t&&nt(Rt,$t))return Pr;Rt&&Pr.push(Rt),$t&&Pr.push($t);var xt=2*g.constrain((Jt[st]+St[st])/2,lt,jt)-((Rt||Jt)[st]+($t||St)[st]);if(xt){var qt;Rt&&$t?qt=xt>0==Rt[st]>$t[st]?Rt:$t:qt=Rt||$t,qt[st]+=xt}return Pr}}var wt;E==="linear"||E==="spline"?wt=gt:E==="hv"||E==="vh"?wt=dt:E==="hvh"?wt=pt(0,Ae,De):E==="vhv"&&(wt=pt(1,we,Ce));function Tt(st,lt){var jt=lt[0]-st[0],Jt=(lt[1]-st[1])/jt,St=(st[1]*lt[0]-lt[1]*st[0])/jt;return St>0?[Jt>0?Ae:De,Ce]:[Jt>0?De:Ae,we]}function Ct(st){var lt=st[0],jt=st[1],Jt=lt===D[B-1][0],St=jt===D[B-1][1];if(!(Jt&&St))if(B>1){var Rt=lt===D[B-2][0],$t=jt===D[B-2][1];Jt&&(lt===Ae||lt===De)&&Rt?$t?B--:D[B-1]=st:St&&(jt===we||jt===Ce)&&$t?Rt?B--:D[B-1]=st:D[B++]=st}else D[B++]=st}function at(st){D[B-1][0]!==st[0]&&D[B-1][1]!==st[1]&&Ct([Ge,Fe]),Ct(st),He=null,Ge=Fe=0}var ze=g.isArrayOrTypedArray(A);function je(st){if(st&&x&&(st.i=k,st.d=u,st.trace=l,st.marker=ze?A[st.i]:A,st.backoff=x),ue=st[0]/o,ae=st[1]/p,Pe=st[0]<Ae?Ae:st[0]>De?De:0,Ve=st[1]<we?we:st[1]>Ce?Ce:0,Pe||Ve){if(!B)D[B++]=[Pe||st[0],Ve||st[1]];else if(He){var lt=wt(He,st);lt.length>1&&(at(lt[0]),D[B++]=lt[1])}else ft=wt(D[B-1],st)[0],D[B++]=ft;var jt=D[B-1];Pe&&Ve&&(jt[0]!==Pe||jt[1]!==Ve)?(He&&(Ge!==Pe&&Fe!==Ve?Ct(Ge&&Fe?Tt(He,st):[Ge||Pe,Fe||Ve]):Ge&&Fe&&Ct([Ge,Fe])),Ct([Pe,Ve])):Ge-Pe&&Fe-Ve&&Ct([Pe||Ge,Ve||Fe]),He=st,Ge=Pe,Fe=Ve}else He&&at(wt(He,st)[0]),D[B++]=st}for(k=0;k<I;k++)if(F=j(k),!!F){for(B=0,He=null,je(F),k++;k<I;k++){if(O=j(k),!O){if(_)continue;break}if(!M||!f.simplify){je(O);continue}var Je=j(k+1);if(se=xe(O,F),!(!(s&&(B===0||B===I-1))&&se<he(O,Je)*b)){for(ne=[(O[0]-F[0])/se,(O[1]-F[1])/se],V=F,J=se,Z=Y=ie=0,ee=!1,N=O,k++;k<u.length;k++){if(X=Je,Je=j(k+1),!X){if(_)continue;break}if(q=[X[0]-F[0],X[1]-F[1]],le=q[0]*ne[1]-q[1]*ne[0],Y=Math.min(Y,le),ie=Math.max(ie,le),ie-Y>he(X,Je))break;N=X,te=q[0]*ne[0]+q[1]*ne[1],te>J?(J=te,O=X,ee=!1):te<Z&&(Z=te,V=X,ee=!0)}if(ee?(je(O),N!==V&&je(V)):(V!==F&&je(V),N!==O&&je(O)),je(N),k>=u.length||!X)break;je(X),F=X}}He&&Ct([Ge||He[0],Fe||He[1]]),S.push(D.slice(0,B))}var Xe=E.slice(E.length-1);if(x&&Xe!=="h"&&Xe!=="v"){for(var Oe=!1,ke=-1,Ke=[],Ie=0;Ie<S.length;Ie++)for(var pe=0;pe<S[Ie].length-1;pe++){var Te=S[Ie][pe],Ue=S[Ie][pe+1],et=d.applyBackoff(Ue,Te);(et[0]!==Ue[0]||et[1]!==Ue[1])&&(Oe=!0),Ke[ke+1]||(ke++,Ke[ke]=[Te,[et[0],et[1]]])}return Oe?Ke:S}return S}},11731:function(H){H.exports=function(e,d,C){var n=C("line.shape");n==="spline"&&C("line.smoothing")}},14328:function(H){var U={tonextx:1,tonexty:1,tonext:1};H.exports=function(d,C,n){var L,w,v,g,r,t={},i=!1,a=-1,u=0,f=-1;for(w=0;w<n.length;w++)L=n[w][0].trace,v=L.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=u,u++):L.fill in U&&f>=0?r=f:(r=f=u,u++),r<a&&(i=!0),L._groupIndex=a=r;var l=n.slice();i&&l.sort(function(h,T){var c=h[0].trace,o=T[0].trace;return c._groupIndex-o._groupIndex||c.index-o.index});var m={};for(w=0;w<l.length;w++)L=l[w][0].trace,v=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in U&&(g=m[v],L._prevtrace=g||null,g&&(g._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),m[v]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return l}},7152:function(H,U,e){var d=e(38248);H.exports=function(n,L){L||(L=2);var w=n.marker,v=w.sizeref||1,g=w.sizemin||0,r=w.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var i=r(t/L);return d(i)&&i>0?Math.max(i,g):0}}},5528:function(H){H.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(H,U,e){var d=e(76308),C=e(94288).hasColorscale,n=e(27260),L=e(43028);H.exports=function(v,g,r,t,i,a){var u=L.isBubble(v),f=(v.line||{}).color,l;if(a=a||{},f&&(r=f),i("marker.symbol"),i("marker.opacity",u?.7:1),i("marker.size"),a.noAngle||(i("marker.angle"),a.noAngleRef||i("marker.angleref"),a.noStandOff||i("marker.standoff")),i("marker.color",r),C(v,"marker")&&n(v,g,t,i,{prefix:"marker.",cLetter:"c"}),a.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),a.noLine||(f&&!Array.isArray(f)&&g.marker.color!==f?l=f:u?l=d.background:l=d.defaultLine,i("marker.line.color",l),C(v,"marker.line")&&n(v,g,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",u?1:0)),u&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),a.gradient){var m=i("marker.gradient.type");m!=="none"&&i("marker.gradient.color")}}},31147:function(H,U,e){var d=e(3400).dateTick0,C=e(39032),n=C.ONEWEEK;function L(w,v){return w%n===0?d(v,1):d(v,0)}H.exports=function(v,g,r,t,i){if(i||(i={x:!0,y:!0}),i.x){var a=t("xperiod");a&&(t("xperiod0",L(a,g.xcalendar)),t("xperiodalignment"))}if(i.y){var u=t("yperiod");u&&(t("yperiod0",L(u,g.ycalendar)),t("yperiodalignment"))}}},96504:function(H,U,e){var d=e(33428),C=e(24040),n=e(3400),L=n.ensureSingle,w=n.identity,v=e(43616),g=e(43028),r=e(52340),t=e(14328),i=e(92065).tester;H.exports=function(m,h,T,c,o,p){var x,A,_=!o,y=!!o&&o.duration>0,E=t(m,h,T);if(x=c.selectAll("g.trace").data(E,function(s){return s[0].trace.uid}),x.enter().append("g").attr("class",function(s){return"trace scatter trace"+s[0].trace.uid}).style("stroke-miterlimit",2),x.order(),a(m,x,h),y){p&&(A=p());var M=d.transition().duration(o.duration).ease(o.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()});M.each(function(){c.selectAll("g.trace").each(function(s,S){u(m,S,h,s,E,this,o)})})}else x.each(function(s,S){u(m,S,h,s,E,this,o)});_&&x.exit().remove(),c.selectAll("path:not([d])").remove()};function a(l,m,h){m.each(function(T){var c=L(d.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,l);var o=T[0].trace,p=[];o._ownfill&&p.push("_ownFill"),o._nexttrace&&p.push("_nextFill");var x=c.selectAll("g").data(p,w);x.enter().append("g"),x.exit().each(function(A){o[A]=null}).remove(),x.order().each(function(A){o[A]=L(d.select(this),"path","js-fill")})})}function u(l,m,h,T,c,o,p){var x=l._context.staticPlot,A;f(l,m,h,T,c);var _=!!p&&p.duration>0;function y(Ct){return _?Ct.transition():Ct}var E=h.xaxis,M=h.yaxis,s=T[0].trace,S=s.line,b=d.select(o),I=L(b,"g","errorbars"),D=L(b,"g","lines"),B=L(b,"g","points"),k=L(b,"g","text");if(C.getComponentMethod("errorbars","plot")(l,I,h,p),s.visible!==!0)return;y(b).style("opacity",s.opacity);var F,N,O=s.fill.charAt(s.fill.length-1);O!=="x"&&O!=="y"&&(O="");var V,X;O==="y"?(V=1,X=M.c2p(0,!0)):O==="x"&&(V=0,X=E.c2p(0,!0)),T[0][h.isRangePlot?"nodeRangePlot3":"node3"]=b;var ee="",ne=[],q=s._prevtrace,se=null,J=null;q&&(ee=q._prevRevpath||"",N=q._nextFill,ne=q._ownPolygons,se=q._fillsegments,J=q._fillElement);var Z,te,Y="",ie="",le,j,K,ue,ae,he,xe=[];s._polygons=[];var Se=[],Ae=[],De=n.noop;if(F=s._ownFill,g.hasLines(s)||s.fill!=="none"){N&&N.datum(T),["hv","vh","hvh","vhv"].indexOf(S.shape)!==-1?(le=v.steps(S.shape),j=v.steps(S.shape.split("").reverse().join(""))):S.shape==="spline"?le=j=function(Ct){var at=Ct[Ct.length-1];return Ct.length>1&&Ct[0][0]===at[0]&&Ct[0][1]===at[1]?v.smoothclosed(Ct.slice(1),S.smoothing):v.smoothopen(Ct,S.smoothing)}:le=j=function(Ct){return"M"+Ct.join("L")},K=function(Ct){return j(Ct.reverse())},Ae=r(T,{xaxis:E,yaxis:M,trace:s,connectGaps:s.connectgaps,baseTolerance:Math.max(S.width||1,3)/4,shape:S.shape,backoff:S.backoff,simplify:S.simplify,fill:s.fill}),Se=new Array(Ae.length);var we=0;for(A=0;A<Ae.length;A++){var Ce,be=Ae[A];!Ce||!O?(Ce=be.slice(),Se[we]=Ce,we++):Ce.push.apply(Ce,be)}s._fillElement=null,s._fillExclusionElement=J,s._fillsegments=Se.slice(0,we),Se=s._fillsegments,Ae.length&&(ue=Ae[0][0].slice(),ae=Ae[Ae.length-1],he=ae[ae.length-1].slice()),De=function(Ct){return function(at){if(Z=le(at),te=K(at),Y?O?(Y+="L"+Z.substr(1),ie=te+("L"+ie.substr(1))):(Y+="Z"+Z,ie=te+"Z"+ie):(Y=Z,ie=te),g.hasLines(s)){var ze=d.select(this);if(ze.datum(T),Ct)y(ze.style("opacity",0).attr("d",Z).call(v.lineGroupStyle)).style("opacity",1);else{var je=y(ze);je.attr("d",Z),v.singleLineStyle(T,je)}}}}}var Pe=D.selectAll(".js-line").data(Ae);y(Pe.exit()).style("opacity",0).remove(),Pe.each(De(!1)),Pe.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(De(!0)),v.setClipUrl(Pe,h.layerClipId,l);function Ve(Ct){y(Ct).attr("d","M0,0Z")}var Ge=function(){var Ct=new Array(Se.length);for(A=0;A<Se.length;A++)Ct[A]=i(Se[A]);return Ct},Fe=function(Ct){var at,ze;if(!Ct||Ct.length===0)for(at=new Array(Se.length),ze=0;ze<Se.length;ze++){var je=Se[ze][0].slice(),Je=Se[ze][Se[ze].length-1].slice();je[V]=Je[V]=X;var Xe=[Je,je],Oe=Xe.concat(Se[ze]);at[ze]=i(Oe)}else{for(at=new Array(Ct.length-1+Se.length),ze=0;ze<Ct.length-1;ze++)at[ze]=i(Ct[ze]);var ke=Ct[Ct.length-1].slice();for(ke.reverse(),ze=0;ze<Se.length;ze++)at[Ct.length-1+ze]=i(Se[ze].concat(ke))}return at};Ae.length?(F?(F.datum(T),ue&&he&&(O?(ue[V]=he[V]=X,y(F).attr("d","M"+he+"L"+ue+"L"+Y.substr(1)).call(v.singleFillStyle,l),xe=Fe(null)):(y(F).attr("d",Y+"Z").call(v.singleFillStyle,l),xe=Ge())),s._polygons=xe,s._fillElement=F):N&&(s.fill.substr(0,6)==="tonext"&&Y&&ee?(s.fill==="tonext"?(y(N).attr("d",Y+"Z"+ee+"Z").call(v.singleFillStyle,l),xe=Ge(),s._polygons=xe.concat(ne)):(y(N).attr("d",Y+"L"+ee.substr(1)+"Z").call(v.singleFillStyle,l),xe=Fe(se),s._polygons=xe),s._fillElement=N):Ve(N)),s._prevRevpath=ie):(F?Ve(F):N&&Ve(N),s._prevRevpath=null),s._ownPolygons=xe;function He(Ct){return Ct.filter(function(at){return!at.gap&&at.vis})}function ft(Ct){return Ct.filter(function(at){return at.vis})}function gt(Ct){return Ct.filter(function(at){return!at.gap})}function ct(Ct){return Ct.id}function nt(Ct){if(Ct.ids)return ct}function dt(){return!1}function pt(Ct,at,ze){var je,Je,Xe,Oe=ze[0].trace,ke=g.hasMarkers(Oe),Ke=g.hasText(Oe),Ie=nt(Oe),pe=dt,Te=dt;if(ke||Ke){var Ue=w,et=Oe.stackgroup,st=et&&l._fullLayout._scatterStackOpts[E._id+M._id][et].stackgaps==="infer zero";Oe.marker.maxdisplayed||Oe._needsCull?Ue=st?ft:He:et&&!st&&(Ue=gt),ke&&(pe=Ue),Ke&&(Te=Ue)}Je=Ct.selectAll("path.point"),je=Je.data(pe,Ie);var lt=je.enter().append("path").classed("point",!0);_&&lt.call(v.pointStyle,Oe,l).call(v.translatePoints,E,M).style("opacity",0).transition().style("opacity",1),je.order();var jt;ke&&(jt=v.makePointStyleFns(Oe)),je.each(function(Jt){var St=d.select(this),Rt=y(St);Xe=v.translatePoint(Jt,Rt,E,M),Xe?(v.singlePointStyle(Jt,Rt,Oe,jt,l),h.layerClipId&&v.hideOutsideRangePoint(Jt,Rt,E,M,Oe.xcalendar,Oe.ycalendar),Oe.customdata&&St.classed("plotly-customdata",Jt.data!==null&&Jt.data!==void 0)):Rt.remove()}),_?je.exit().transition().style("opacity",0).remove():je.exit().remove(),Je=at.selectAll("g"),je=Je.data(Te,Ie),je.enter().append("g").classed("textpoint",!0).append("text"),je.order(),je.each(function(Jt){var St=d.select(this),Rt=y(St.select("text"));Xe=v.translatePoint(Jt,Rt,E,M),Xe?h.layerClipId&&v.hideOutsideRangePoint(Jt,St,E,M,Oe.xcalendar,Oe.ycalendar):St.remove()}),je.selectAll("text").call(v.textPointStyle,Oe,l).each(function(Jt){var St=E.c2p(Jt.x),Rt=M.c2p(Jt.y);d.select(this).selectAll("tspan.line").each(function(){y(d.select(this)).attr({x:St,y:Rt})})}),je.exit().remove()}B.datum(T),k.datum(T),pt(B,k,T);var wt=s.cliponaxis===!1,Tt=wt?null:h.layerClipId;v.setClipUrl(B,Tt,l),v.setClipUrl(k,Tt,l)}function f(l,m,h,T,c){var o=h.xaxis,p=h.yaxis,x=d.extent(n.simpleMap(o.range,o.r2c)),A=d.extent(n.simpleMap(p.range,p.r2c)),_=T[0].trace;if(g.hasMarkers(_)){var y=_.marker.maxdisplayed;if(y!==0){var E=T.filter(function(b){return b.x>=x[0]&&b.x<=x[1]&&b.y>=A[0]&&b.y<=A[1]}),M=Math.ceil(E.length/y),s=0;c.forEach(function(b,I){var D=b[0].trace;g.hasMarkers(D)&&D.marker.maxdisplayed>0&&I<m&&s++});var S=Math.round(s*M/3+Math.floor(s/3)*M/7.1);T.forEach(function(b){delete b.vis}),E.forEach(function(b,I){Math.round((I+S)%M)===0&&(b.vis=!0)})}}}},91560:function(H,U,e){var d=e(43028);H.exports=function(n,L){var w=n.cd,v=n.xaxis,g=n.yaxis,r=[],t=w[0].trace,i,a,u,f,l=!d.hasMarkers(t)&&!d.hasText(t);if(l)return[];if(L===!1)for(i=0;i<w.length;i++)w[i].selected=0;else for(i=0;i<w.length;i++)a=w[i],u=v.c2p(a.x),f=g.c2p(a.y),a.i!==null&&L.contains([u,f],!1,i,n)?(r.push({pointNumber:a.i,x:v.c2d(a.x),y:g.c2d(a.y)}),a.selected=1):a.selected=0;return r}},43912:function(H){var U=["orientation","groupnorm","stackgaps"];H.exports=function(d,C,n,L){var w=n._scatterStackOpts,v=L("stackgroup");if(v){var g=C.xaxis+C.yaxis,r=w[g];r||(r=w[g]={});var t=r[v],i=!1;t?t.traces.push(C):(t=r[v]={traceIndices:[],traces:[C]},i=!0);for(var a={orientation:C.x&&!C.y?"h":"v"},u=0;u<U.length;u++){var f=U[u],l=f+"Found";if(!t[l]){var m=d[f]!==void 0,h=f==="orientation";if((m||i)&&(t[f]=L(f,a[f]),h&&(t.fillDflt=t[f]==="h"?"tonextx":"tonexty"),m&&(t[l]=!0,!i&&(delete t.traces[0][f],h))))for(var T=0;T<t.traces.length-1;T++){var c=t.traces[T];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(H,U,e){var d=e(33428),C=e(43616),n=e(24040);function L(r){var t=d.select(r).selectAll("g.trace.scatter");t.style("opacity",function(i){return i[0].trace.opacity}),t.selectAll("g.points").each(function(i){var a=d.select(this),u=i.trace||i[0].trace;w(a,u,r)}),t.selectAll("g.text").each(function(i){var a=d.select(this),u=i.trace||i[0].trace;v(a,u,r)}),t.selectAll("g.trace path.js-line").call(C.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(C.fillGroupStyle,r,!1),n.getComponentMethod("errorbars","style")(t)}function w(r,t,i){C.pointStyle(r.selectAll("path.point"),t,i)}function v(r,t,i){C.textPointStyle(r.selectAll("text"),t,i)}function g(r,t,i){var a=t[0].trace;a.selectedpoints?(C.selectedPointStyle(i.selectAll("path.point"),a),C.selectedTextStyle(i.selectAll("text"),a)):(w(i,a,r),v(i,a,r))}H.exports={style:L,stylePoints:w,styleText:v,styleOnSelect:g}},43028:function(H,U,e){var d=e(3400),C=e(38116).isTypedArraySpec;H.exports={hasLines:function(n){return n.visible&&n.mode&&n.mode.indexOf("lines")!==-1},hasMarkers:function(n){return n.visible&&(n.mode&&n.mode.indexOf("markers")!==-1||n.type==="splom")},hasText:function(n){return n.visible&&n.mode&&n.mode.indexOf("text")!==-1},isBubble:function(n){var L=n.marker;return d.isPlainObject(L)&&(d.isArrayOrTypedArray(L.size)||C(L.size))}}},124:function(H,U,e){var d=e(3400);H.exports=function(C,n,L,w,v){v=v||{},w("textposition"),d.coerceFont(w,"textfont",v.font||L.font,v),v.noSelect||(w("selected.textfont.color"),w("unselected.textfont.color"))}},43980:function(H,U,e){var d=e(3400),C=e(24040);H.exports=function(L,w,v,g){var r=g("x"),t=g("y"),i,a=C.getComponentMethod("calendars","handleTraceDefaults");if(a(L,w,["x","y"],v),r){var u=d.minRowLength(r);t?i=Math.min(u,d.minRowLength(t)):(i=u,g("y0"),g("dy"))}else{if(!t)return 0;i=d.minRowLength(t),g("x0"),g("dx")}return w._length=i,i}},91592:function(H,U,e){var d=e(52904),C=e(25376),n=e(49084),L=e(29736).axisHoverFormat,w=e(21776).Ks,v=e(21776).Gw,g=e(45464),r=e(99168),t=e(87792),i=e(92880).extendFlat,a=e(67824).overrideAll,u=e(95376),f=d.line,l=d.marker,m=l.line,h=i({width:f.width,dash:{valType:"enumerated",values:u(r),dflt:"solid"}},n("line"));function T(o){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var c=H.exports=a({x:d.x,y:d.y,z:{valType:"data_array"},text:i({},d.text,{}),texttemplate:v({},{}),hovertext:i({},d.hovertext,{}),hovertemplate:w(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),mode:i({},d.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:T(),y:T(),z:T()},connectgaps:d.connectgaps,line:h,marker:i({symbol:{valType:"enumerated",values:u(t),dflt:"circle",arrayOk:!0},size:i({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:i({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:i({width:i({},m.width,{arrayOk:!1})},n("marker.line"))},n("marker")),textposition:i({},d.textposition,{dflt:"top center"}),textfont:C({editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:g.opacity,hoverinfo:i({},g.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},41484:function(H,U,e){var d=e(20148),C=e(90136);H.exports=function(L,w){var v=[{x:!1,y:!1,trace:w,t:{}}];return d(v,w),C(L,w),v}},45156:function(H,U,e){var d=e(24040);function C(w,v,g,r){if(!v||!v.visible)return null;for(var t=d.getComponentMethod("errorbars","makeComputeError")(v),i=new Array(w.length),a=0;a<w.length;a++){var u=t(+w[a],a);if(r.type==="log"){var f=r.c2l(w[a]),l=w[a]-u[0],m=w[a]+u[1];if(i[a]=[(r.c2l(l,!0)-f)*g,(r.c2l(m,!0)-f)*g],l>0){var h=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else i[a]=[-u[0]*g,u[1]*g]}return i}function n(w){for(var v=0;v<w.length;v++)if(w[v])return w[v].length;return 0}function L(w,v,g){var r=[C(w.x,w.error_x,v[0],g.xaxis),C(w.y,w.error_y,v[1],g.yaxis),C(w.z,w.error_z,v[2],g.zaxis)],t=n(r);if(t===0)return null;for(var i=new Array(t),a=0;a<t;a++){for(var u=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(r[f])for(var l=0;l<2;l++)u[l][f]=r[f][a][l];i[a]=u}return i}H.exports=L},41064:function(H,U,e){var d=e(67792).gl_line3d,C=e(67792).gl_scatter3d,n=e(67792).gl_error3d,L=e(67792).gl_mesh3d,w=e(67792).delaunay_triangulate,v=e(3400),g=e(43080),r=e(33040).formatColor,t=e(7152),i=e(99168),a=e(87792),u=e(54460),f=e(10624).appendArrayPointValue,l=e(45156);function m(b,I){this.scene=b,this.uid=I,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=m.prototype;h.handlePick=function(b){if(b.object&&(b.object===this.linePlot||b.object===this.delaunayMesh||b.object===this.textMarkers||b.object===this.scatterPlot)){var I=b.index=b.data.index;return b.object.highlight&&b.object.highlight(null),this.scatterPlot&&(b.object=this.scatterPlot,this.scatterPlot.highlight(b.data)),b.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[I]||this.textLabels[I]===0)&&(b.textLabel=this.textLabels[I]):b.textLabel=this.textLabels),b.traceCoordinate=[this.data.x[I],this.data.y[I],this.data.z[I]],!0}};function T(b,I,D){var B=(D+1)%3,k=(D+2)%3,F=[],N=[],O;for(O=0;O<b.length;++O){var V=b[O];isNaN(V[B])||!isFinite(V[B])||isNaN(V[k])||!isFinite(V[k])||(F.push([V[B],V[k]]),N.push(O))}var X=w(F);for(O=0;O<X.length;++O)for(var ee=X[O],ne=0;ne<ee.length;++ne)ee[ne]=N[ee[ne]];return{positions:b,cells:X,meshColor:I}}function c(b){for(var I=[0,0,0],D=[[0,0,0],[0,0,0],[0,0,0]],B=[1,1,1],k=0;k<3;k++){var F=b[k];F&&F.copy_zstyle!==!1&&b[2].visible!==!1&&(F=b[2]),!(!F||!F.visible)&&(I[k]=F.width/2,D[k]=g(F.color),B[k]=F.thickness)}return{capSize:I,color:D,lineWidth:B}}function o(b){return b==null?0:b.indexOf("left")>-1?-1:b.indexOf("right")>-1?1:0}function p(b){return b==null?0:b.indexOf("top")>-1?-1:b.indexOf("bottom")>-1?1:0}function x(b){var I=0,D=0,B=[I,D];if(Array.isArray(b))for(var k=0;k<b.length;k++)B[k]=[I,D],b[k]&&(B[k][0]=o(b[k]),B[k][1]=p(b[k]));else B[0]=o(b),B[1]=p(b);return B}function A(b,I){return I(b*4)}function _(b){return a[b]}function y(b,I,D,B,k){var F=null;if(v.isArrayOrTypedArray(b)){F=[];for(var N=0;N<I;N++)b[N]===void 0?F[N]=B:F[N]=D(b[N],k)}else F=D(b,v.identity);return F}function E(b,I){var D=[],B=b.fullSceneLayout,k=b.dataScale,F=B.xaxis,N=B.yaxis,O=B.zaxis,V=I.marker,X=I.line,ee=I.x||[],ne=I.y||[],q=I.z||[],se=ee.length,J=I.xcalendar,Z=I.ycalendar,te=I.zcalendar,Y,ie,le,j,K,ue;for(K=0;K<se;K++)Y=F.d2l(ee[K],0,J)*k[0],ie=N.d2l(ne[K],0,Z)*k[1],le=O.d2l(q[K],0,te)*k[2],D[K]=[Y,ie,le];if(Array.isArray(I.text))ue=I.text;else if(v.isTypedArray(I.text))ue=Array.from(I.text);else if(I.text!==void 0)for(ue=new Array(se),K=0;K<se;K++)ue[K]=I.text;function ae(gt,ct){var nt=B[gt];return u.tickText(nt,nt.d2l(ct),!0).text}var he=I.texttemplate;if(he){var xe=b.fullLayout,Se=xe._d3locale,Ae=Array.isArray(he),De=Ae?Math.min(he.length,se):se,we=Ae?function(gt){return he[gt]}:function(){return he};for(ue=new Array(De),K=0;K<De;K++){var Ce={x:ee[K],y:ne[K],z:q[K]},be={xLabel:ae("xaxis",ee[K]),yLabel:ae("yaxis",ne[K]),zLabel:ae("zaxis",q[K])},Pe={};f(Pe,I,K);var Ve=I._meta||{};ue[K]=v.texttemplateString(we(K),be,Se,Pe,Ce,Ve)}}if(j={position:D,mode:I.mode,text:ue},"line"in I&&(j.lineColor=r(X,1,se),j.lineWidth=X.width,j.lineDashes=X.dash),"marker"in I){var Ge=t(I);j.scatterColor=r(V,1,se),j.scatterSize=y(V.size,se,A,20,Ge),j.scatterMarker=y(V.symbol,se,_,""),j.scatterLineWidth=V.line.width,j.scatterLineColor=r(V.line,1,se),j.scatterAngle=0}"textposition"in I&&(j.textOffset=x(I.textposition),j.textColor=r(I.textfont,1,se),j.textSize=y(I.textfont.size,se,v.identity,12),j.textFontFamily=I.textfont.family,j.textFontWeight=I.textfont.weight,j.textFontStyle=I.textfont.style,j.textFontVariant=I.textfont.variant,j.textAngle=0);var Fe=["x","y","z"];for(j.project=[!1,!1,!1],j.projectScale=[1,1,1],j.projectOpacity=[1,1,1],K=0;K<3;++K){var He=I.projection[Fe[K]];(j.project[K]=He.show)&&(j.projectOpacity[K]=He.opacity,j.projectScale[K]=He.scale)}j.errorBounds=l(I,k,B);var ft=c([I.error_x,I.error_y,I.error_z]);return j.errorColor=ft.color,j.errorLineWidth=ft.lineWidth,j.errorCapSize=ft.capSize,j.delaunayAxis=I.surfaceaxis,j.delaunayColor=g(I.surfacecolor),j}function M(b){if(v.isArrayOrTypedArray(b)){var I=b[0];return v.isArrayOrTypedArray(I)&&(b=I),"rgb("+b.slice(0,3).map(function(D){return Math.round(D*255)})+")"}return null}function s(b){return v.isArrayOrTypedArray(b)?b.length===4&&typeof b[0]=="number"?M(b):b.map(M):null}h.update=function(b){var I=this.scene.glplot.gl,D,B,k,F,N=i.solid;this.data=b;var O=E(this.scene,b);"mode"in O&&(this.mode=O.mode),"lineDashes"in O&&O.lineDashes in i&&(N=i[O.lineDashes]),this.color=s(O.scatterColor)||s(O.lineColor),this.dataPoints=O.position,D={gl:this.scene.glplot.gl,position:O.position,color:O.lineColor,lineWidth:O.lineWidth||1,dashes:N[0],dashScale:N[1],opacity:b.opacity,connectGaps:b.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(D):(this.linePlot=d(D),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var V=b.opacity;if(b.marker&&b.marker.opacity!==void 0&&(V*=b.marker.opacity),B={gl:this.scene.glplot.gl,position:O.position,color:O.scatterColor,size:O.scatterSize,glyph:O.scatterMarker,opacity:V,orthographic:!0,lineWidth:O.scatterLineWidth,lineColor:O.scatterLineColor,project:O.project,projectScale:O.projectScale,projectOpacity:O.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(B):(this.scatterPlot=C(B),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),F={gl:this.scene.glplot.gl,position:O.position,glyph:O.text,color:O.textColor,size:O.textSize,angle:O.textAngle,alignment:O.textOffset,font:O.textFontFamily,fontWeight:O.textFontWeight,fontStyle:O.textFontStyle,fontVariant:O.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity},this.textLabels=b.hovertext||b.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(F):(this.textMarkers=C(F),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),k={gl:this.scene.glplot.gl,position:O.position,color:O.errorColor,error:O.errorBounds,lineWidth:O.errorLineWidth,capSize:O.errorCapSize,opacity:b.opacity},this.errorBars?O.errorBounds?this.errorBars.update(k):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):O.errorBounds&&(this.errorBars=n(k),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),O.delaunayAxis>=0){var X=T(O.position,O.delaunayColor,O.delaunayAxis);X.opacity=b.opacity,this.delaunayMesh?this.delaunayMesh.update(X):(X.gl=I,this.delaunayMesh=L(X),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function S(b,I){var D=new m(b,I.uid);return D.update(I),D}H.exports=S},83484:function(H,U,e){var d=e(24040),C=e(3400),n=e(43028),L=e(74428),w=e(66828),v=e(124),g=e(91592);H.exports=function(i,a,u,f){function l(A,_){return C.coerce(i,a,g,A,_)}var m=r(i,a,l,f);if(!m){a.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),n.hasMarkers(a)&&L(i,a,u,f,l,{noSelect:!0,noAngle:!0}),n.hasLines(a)&&(l("connectgaps"),w(i,a,u,f,l)),n.hasText(a)&&(l("texttemplate"),v(i,a,f,l,{noSelect:!0}));var h=(a.line||{}).color,T=(a.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||T);for(var c=["x","y","z"],o=0;o<3;++o){var p="projection."+c[o];l(p+".show")&&(l(p+".opacity"),l(p+".scale"))}var x=d.getComponentMethod("errorbars","supplyDefaults");x(i,a,h||T||u,{axis:"z"}),x(i,a,h||T||u,{axis:"y",inherit:"z"}),x(i,a,h||T||u,{axis:"x",inherit:"z"})};function r(t,i,a,u){var f=0,l=a("x"),m=a("y"),h=a("z"),T=d.getComponentMethod("calendars","handleTraceDefaults");return T(t,i,["x","y","z"],u),l&&m&&h&&(f=Math.min(l.length,m.length,h.length),i._length=i._xlength=i._ylength=i._zlength=f),f}},3296:function(H,U,e){H.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(H,U,e){var d=e(98304),C=e(52904),n=e(45464),L=e(21776).Ks,w=e(21776).Gw,v=e(49084),g=e(92880).extendFlat,r=C.marker,t=C.line,i=r.line;H.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:g({},C.mode,{dflt:"markers"}),text:g({},C.text,{}),texttemplate:w({editType:"plot"},{keys:["a","b","text"]}),hovertext:g({},C.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:g({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:C.connectgaps,fill:g({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:d(),marker:g({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:g({width:i.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:C.textfont,textposition:C.textposition,selected:C.selected,unselected:C.unselected,hoverinfo:g({},n.hoverinfo,{flags:["a","b","text","name"]}),hoveron:C.hoveron,hovertemplate:L(),zorder:C.zorder}},48228:function(H,U,e){var d=e(38248),C=e(90136),n=e(20148),L=e(4500),w=e(16356).calcMarkerSize,v=e(50948);H.exports=function(r,t){var i=t._carpetTrace=v(r,t);if(!(!i||!i.visible||i.visible==="legendonly")){var a;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var u=t._length,f=new Array(u),l,m,h=!1;for(a=0;a<u;a++)if(l=t.a[a],m=t.b[a],d(l)&&d(m)){var T=i.ab2xy(+l,+m,!0),c=i.isVisible(+l,+m);c||(h=!0),f[a]={x:T[0],y:T[1],a:l,b:m,vis:c}}else f[a]={x:!1,y:!1};return t._needsCull=h,f[0].carpet=i,f[0].trace=t,w(t,u),C(r,t),n(f,t),L(f,t),f}}},6176:function(H,U,e){var d=e(3400),C=e(88200),n=e(43028),L=e(74428),w=e(66828),v=e(11731),g=e(124),r=e(70840),t=e(90372);H.exports=function(a,u,f,l){function m(A,_){return d.coerce(a,u,t,A,_)}m("carpet"),u.xaxis="x",u.yaxis="y";var h=m("a"),T=m("b"),c=Math.min(h.length,T.length);if(!c){u.visible=!1;return}u._length=c,m("text"),m("texttemplate"),m("hovertext");var o=c<C.PTS_LINESONLY?"lines+markers":"lines";m("mode",o),n.hasMarkers(u)&&L(a,u,f,l,m,{gradient:!0}),n.hasLines(u)&&(w(a,u,f,l,m,{backoff:!0}),v(a,u,m),m("connectgaps")),n.hasText(u)&&g(a,u,l,m);var p=[];(n.hasMarkers(u)||n.hasText(u))&&(m("marker.maxdisplayed"),p.push("points")),m("fill"),u.fill!=="none"&&(r(a,u,f,m),n.hasLines(u)||v(a,u,m)),(u.fill==="tonext"||u.fill==="toself")&&p.push("fills");var x=m("hoveron",p.join("+")||"points");x!=="fills"&&m("hovertemplate"),m("zorder"),d.coerceSelectionMarkerOpacity(u,m)}},89307:function(H){H.exports=function(e,d,C,n,L){var w=n[L];return e.a=w.a,e.b=w.b,e.y=w.y,e}},52364:function(H){H.exports=function(e,d){var C={},n=d._carpet,L=n.ab2ij([e.a,e.b]),w=Math.floor(L[0]),v=L[0]-w,g=Math.floor(L[1]),r=L[1]-g,t=n.evalxy([],w,g,v,r);return C.yLabel=t[1].toFixed(3),C}},58960:function(H,U,e){var d=e(98723),C=e(3400).fillText;H.exports=function(L,w,v,g){var r=d(L,w,v,g);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var i=1-t.y0/L.ya._length,a=L.xa._length,u=a*i/2,f=a-u;return t.x0=Math.max(Math.min(t.x0,f),u),t.x1=Math.max(Math.min(t.x1,f),u),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var m=t.trace,h=m._carpet,T=m._module.formatLabels(l,m);t.yLabel=T.yLabel,delete t.text;var c=[];function o(A,_){var y;A.labelprefix&&A.labelprefix.length>0?y=A.labelprefix.replace(/ = $/,""):y=A._hovertitle,c.push(y+": "+_.toFixed(3)+A.labelsuffix)}if(!m.hovertemplate){var p=l.hi||m.hoverinfo,x=p.split("+");x.indexOf("all")!==-1&&(x=["a","b","text"]),x.indexOf("a")!==-1&&o(h.aaxis,l.a),x.indexOf("b")!==-1&&o(h.baxis,l.b),c.push("y: "+t.yLabel),x.indexOf("text")!==-1&&C(l,m,c),t.extraText=c.join("<br>")}return r}},4184:function(H,U,e){H.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(H,U,e){var d=e(96504),C=e(54460),n=e(43616);H.exports=function(w,v,g,r){var t,i,a,u=g[0][0].carpet,f=C.getFromId(w,u.xaxis||"x"),l=C.getFromId(w,u.yaxis||"y"),m={xaxis:f,yaxis:l,plot:v.plot};for(t=0;t<g.length;t++)i=g[t][0].trace,i._xA=f,i._yA=l;for(d(w,m,g,r),t=0;t<g.length;t++)i=g[t][0].trace,a=r.selectAll("g.trace"+i.uid+" .js-line"),n.setClipUrl(a,g[t][0].carpet._clipPathId,w)}},6096:function(H,U,e){var d=e(21776).Ks,C=e(21776).Gw,n=e(98304),L=e(52904),w=e(45464),v=e(49084),g=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,i=L.marker,a=L.line,u=i.line;H.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:C({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},L.hovertext,{}),textfont:L.textfont,textposition:L.textposition,line:{color:a.color,width:a.width,dash:g},connectgaps:L.connectgaps,marker:r({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:r({},i.angleref,{values:["previous","up","north"]}),standoff:i.standoff,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,colorbar:i.colorbar,line:r({width:u.width},v("marker.line")),gradient:i.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:n(),selected:L.selected,unselected:L.unselected,hoverinfo:r({},w.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:d()},"calc","nested")},25212:function(H,U,e){var d=e(38248),C=e(39032).BADNUM,n=e(90136),L=e(20148),w=e(4500),v=e(3400).isArrayOrTypedArray,g=e(3400)._;function r(t){return t&&typeof t=="string"}H.exports=function(i,a){var u=v(a.locations),f=u?a.locations.length:a._length,l=new Array(f),m;a.geojson?m=function(x){return r(x)||d(x)}:m=r;for(var h=0;h<f;h++){var T=l[h]={};if(u){var c=a.locations[h];T.loc=m(c)?c:null}else{var o=a.lon[h],p=a.lat[h];d(o)&&d(p)?T.lonlat=[+o,+p]:T.lonlat=[C,C]}}return L(l,a),n(i,a),w(l,a),f&&(l[0].t={labels:{lat:g(i,"lat:")+" ",lon:g(i,"lon:")+" "}}),l}},86188:function(H,U,e){var d=e(3400),C=e(43028),n=e(74428),L=e(66828),w=e(124),v=e(70840),g=e(6096);H.exports=function(t,i,a,u){function f(x,A){return d.coerce(t,i,g,x,A)}var l=f("locations"),m;if(l&&l.length){var h=f("geojson"),T;(typeof h=="string"&&h!==""||d.isPlainObject(h))&&(T="geojson-id");var c=f("locationmode",T);c==="geojson-id"&&f("featureidkey"),m=l.length}else{var o=f("lon")||[],p=f("lat")||[];m=Math.min(o.length,p.length)}if(!m){i.visible=!1;return}i._length=m,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),C.hasMarkers(i)&&n(t,i,a,u,f,{gradient:!0}),C.hasLines(i)&&(L(t,i,a,u,f),f("connectgaps")),C.hasText(i)&&(f("texttemplate"),w(t,i,u,f)),f("fill"),i.fill!=="none"&&v(t,i,a,f),d.coerceSelectionMarkerOpacity(i,f)}},58544:function(H){H.exports=function(e,d,C,n,L){e.lon=d.lon,e.lat=d.lat,e.location=d.loc?d.loc:null;var w=n[L];return w.fIn&&w.fIn.properties&&(e.properties=w.fIn.properties),e}},56696:function(H,U,e){var d=e(54460);H.exports=function(n,L,w){var v={},g=w[L.geo]._subplot,r=g.mockAxis,t=n.lonlat;return v.lonLabel=d.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=d.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(H,U,e){var d=e(93024),C=e(39032).BADNUM,n=e(44928),L=e(3400).fillText,w=e(6096);H.exports=function(r,t,i){var a=r.cd,u=a[0].trace,f=r.xa,l=r.ya,m=r.subplot,h=m.projection.isLonLatOverEdges,T=m.project;function c(E){var M=E.lonlat;if(M[0]===C||h(M))return 1/0;var s=T(M),S=T([t,i]),b=Math.abs(s[0]-S[0]),I=Math.abs(s[1]-S[1]),D=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(b*b+I*I)-D,1-3/D)}if(d.getClosest(a,c,r),r.index!==!1){var o=a[r.index],p=o.lonlat,x=[f.c2p(p),l.c2p(p)],A=o.mrc||1;r.x0=x[0]-A,r.x1=x[0]+A,r.y0=x[1]-A,r.y1=x[1]+A,r.loc=o.loc,r.lon=p[0],r.lat=p[1];var _={};_[u.geo]={_subplot:m};var y=u._module.formatLabels(o,u,_);return r.lonLabel=y.lonLabel,r.latLabel=y.latLabel,r.color=n(u,o),r.extraText=v(u,o,r,a[0].t.labels),r.hovertemplate=u.hovertemplate,[r]}};function v(g,r,t,i){if(g.hovertemplate)return;var a=r.hi||g.hoverinfo,u=a==="all"?w.hoverinfo.flags:a.split("+"),f=u.indexOf("location")!==-1&&Array.isArray(g.locations),l=u.indexOf("lon")!==-1,m=u.indexOf("lat")!==-1,h=u.indexOf("text")!==-1,T=[];function c(o){return o+""}return f?T.push(r.loc):l&&m?T.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):l?T.push(i.lon+c(t.lonLabel)):m&&T.push(i.lat+c(t.latLabel)),h&&L(r,g,T),T.join("<br>")}},36952:function(H,U,e){H.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(H,U,e){var d=e(33428),C=e(3400),n=e(59972).getTopojsonFeatures,L=e(44808),w=e(27144),v=e(19280).findExtremes,g=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),i=e(25064);function a(f,l,m){var h=l.layers.frontplot.select(".scatterlayer"),T=C.makeTraceGroups(h,m,"trace scattergeo");function c(o,p){o.lonlat[0]===g&&d.select(p).remove()}T.selectAll("*").remove(),T.each(function(o){var p=d.select(this),x=o[0].trace;if(t.hasLines(x)||x.fill!=="none"){var A=L.calcTraceToLineCoords(o),_=x.fill!=="none"?L.makePolygon(A):L.makeLine(A);p.selectAll("path.js-line").data([{geojson:_,trace:x}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(x)&&p.selectAll("path.point").data(C.identity).enter().append("path").classed("point",!0).each(function(y){c(y,this)}),t.hasText(x)&&p.selectAll("g").data(C.identity).enter().append("g").append("text").each(function(y){c(y,this)}),i(f,o)})}function u(f,l){var m=f[0].trace,h=l[m.geo],T=h._subplot,c=m._length,o,p;if(C.isArrayOrTypedArray(m.locations)){var x=m.locationmode,A=x==="geojson-id"?w.extractTraceFeature(f):n(m,T.topojson);for(o=0;o<c;o++){p=f[o];var _=x==="geojson-id"?p.fOut:w.locationToFeature(x,p.loc,A);p.lonlat=_?_.properties.ct:[g,g]}}var y={padded:!0},E,M;if(h.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var s=w.computeBbox(w.getTraceGeojson(m));E=[s[0],s[2]],M=[s[1],s[3]]}else{for(E=new Array(c),M=new Array(c),o=0;o<c;o++)p=f[o],E[o]=p.lonlat[0],M[o]=p.lonlat[1];y.ppad=r(m,c)}m._extremes.lon=v(h.lonaxis._ax,E,y),m._extremes.lat=v(h.lataxis._ax,M,y)}H.exports={calcGeoJSON:u,plot:a}},8796:function(H,U,e){var d=e(43028),C=e(39032).BADNUM;H.exports=function(L,w){var v=L.cd,g=L.xaxis,r=L.yaxis,t=[],i=v[0].trace,a,u,f,l,m,h=!d.hasMarkers(i)&&!d.hasText(i);if(h)return[];if(w===!1)for(m=0;m<v.length;m++)v[m].selected=0;else for(m=0;m<v.length;m++)a=v[m],u=a.lonlat,u[0]!==C&&(f=g.c2p(u),l=r.c2p(u),w.contains([f,l],null,m,L)?(t.push({pointNumber:m,lon:u[0],lat:u[1]}),a.selected=1):a.selected=0);return t}},25064:function(H,U,e){var d=e(33428),C=e(43616),n=e(76308),L=e(49224),w=L.stylePoints,v=L.styleText;H.exports=function(t,i){i&&g(t,i)};function g(r,t){var i=t[0].trace,a=t[0].node3;a.style("opacity",t[0].trace.opacity),w(a,i,r),v(a,i,r),a.selectAll("path.js-line").style("fill","none").each(function(u){var f=d.select(this),l=u.trace,m=l.line||{};f.call(n.stroke,m.color).call(C.dashLine,m.dash||"",m.width||0),l.fill!=="none"&&f.call(n.fill,l.fillcolor)})}},2876:function(H,U,e){var d=e(45464),C=e(25376),n=e(98304),L=e(52904),w=e(29736).axisHoverFormat,v=e(49084),g=e(95376),r=e(92880).extendFlat,t=e(67824).overrideAll,i=e(67072).DASHES,a=L.line,u=L.marker,f=u.line,l=H.exports=t({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:w("x"),yhoverformat:w("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:C({editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:a.color,width:a.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:g(i),dflt:"solid"}},marker:r({},v("marker"),{symbol:u.symbol,angle:u.angle,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:u.opacity,colorbar:u.colorbar,line:r({},v("marker.line"),{width:f.width})}),connectgaps:L.connectgaps,fill:r({},L.fill,{dflt:"none"}),fillcolor:n(),selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:d.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=L.hovertemplate,l.texttemplate=L.texttemplate},64628:function(H,U,e){var d=e(41272);H.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:d.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(H,U,e){var d=e(3108),C=e(3400),n=e(79811),L=e(19280).findExtremes,w=e(1220),v=e(16356),g=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,i=e(90136),a=e(84236),u=e(74588),f=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;H.exports=function(c,o){var p=c._fullLayout,x=o._xA=n.getFromId(c,o.xaxis,"x"),A=o._yA=n.getFromId(c,o.yaxis,"y"),_=p._plots[o.xaxis+o.yaxis],y=o._length,E=y>=l,M=y*2,s={},S,b=x.makeCalcdata(o,"x"),I=A.makeCalcdata(o,"y"),D=w(o,x,"x",b),B=w(o,A,"y",I),k=D.vals,F=B.vals;o._x=k,o._y=F,o.xperiodalignment&&(o._origX=b,o._xStarts=D.starts,o._xEnds=D.ends),o.yperiodalignment&&(o._origY=I,o._yStarts=B.starts,o._yEnds=B.ends);var N=new Array(M),O=new Array(y);for(S=0;S<y;S++)N[S*2]=k[S]===f?NaN:k[S],N[S*2+1]=F[S]===f?NaN:F[S],O[S]=S;if(x.type==="log")for(S=0;S<M;S+=2)N[S]=x.c2l(N[S]);if(A.type==="log")for(S=1;S<M;S+=2)N[S]=A.c2l(N[S]);E&&x.type!=="log"&&A.type!=="log"?s.tree=d(N):s.ids=O,i(c,o);var V=h(c,_,o,N,k,F),X=u(c,_);t(p,o);var ee;return E?V.marker&&(ee=V.marker.sizeAvg||Math.max(V.marker.size,3)):ee=g(o,y),r(c,o,x,A,k,F,ee),V.errorX&&m(o,x,V.errorX),V.errorY&&m(o,A,V.errorY),V.fill&&!X.fill2d&&(X.fill2d=!0),V.marker&&!X.scatter2d&&(X.scatter2d=!0),V.line&&!X.line2d&&(X.line2d=!0),(V.errorX||V.errorY)&&!X.error2d&&(X.error2d=!0),V.text&&!X.glText&&(X.glText=!0),V.marker&&(V.marker.snap=y),X.lineOptions.push(V.line),X.errorXOptions.push(V.errorX),X.errorYOptions.push(V.errorY),X.fillOptions.push(V.fill),X.markerOptions.push(V.marker),X.markerSelectedOptions.push(V.markerSel),X.markerUnselectedOptions.push(V.markerUnsel),X.textOptions.push(V.text),X.textSelectedOptions.push(V.textSel),X.textUnselectedOptions.push(V.textUnsel),X.selectBatch.push([]),X.unselectBatch.push([]),s._scene=X,s.index=X.count,s.x=k,s.y=F,s.positions=N,X.count++,[{x:!1,y:!1,t:s,trace:o}]};function m(T,c,o){var p=T._extremes[c._id],x=L(c,o._bnds,{padded:!0});p.min=p.min.concat(x.min),p.max=p.max.concat(x.max)}function h(T,c,o,p,x,A){var _=a.style(T,o);if(_.marker&&(_.marker.positions=p),_.line&&p.length>1&&C.extendFlat(_.line,a.linePositions(T,o,p)),_.errorX||_.errorY){var y=a.errorBarPositions(T,o,p,x,A);_.errorX&&C.extendFlat(_.errorX,y.x),_.errorY&&C.extendFlat(_.errorY,y.y)}return _.text&&(C.extendFlat(_.text,{positions:p},a.textPosition(T,o,_.text,_.marker)),C.extendFlat(_.textSel,{positions:p},a.textPosition(T,o,_.text,_.markerSel)),C.extendFlat(_.textUnsel,{positions:p},a.textPosition(T,o,_.text,_.markerUnsel))),_}},67072:function(H){var U=20;H.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:U,SYMBOL_STROKE:U/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(H,U,e){var d=e(38248),C=e(20472),n=e(72160),L=e(24040),w=e(3400),v=w.isArrayOrTypedArray,g=e(43616),r=e(79811),t=e(33040).formatColor,i=e(43028),a=e(7152),u=e(80088),f=e(67072),l=e(13448).DESELECTDIM,m={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function T(B,k){var F,N={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},O=B._context.plotGlPixelRatio;if(k.visible!==!0)return N;if(i.hasText(k)&&(N.text=c(B,k),N.textSel=x(B,k,k.selected),N.textUnsel=x(B,k,k.unselected)),i.hasMarkers(k)&&(N.marker=o(B,k),N.markerSel=p(B,k,k.selected),N.markerUnsel=p(B,k,k.unselected),!k.unselected&&v(k.marker.opacity))){var V=k.marker.opacity;for(N.markerUnsel.opacity=new Array(V.length),F=0;F<V.length;F++)N.markerUnsel.opacity[F]=l*V[F]}if(i.hasLines(k)){N.line={overlay:!0,thickness:k.line.width*O,color:k.line.color,opacity:k.opacity};var X=(f.DASHES[k.line.dash]||[1]).slice();for(F=0;F<X.length;++F)X[F]*=k.line.width*O;N.line.dashes=X}return k.error_x&&k.error_x.visible&&(N.errorX=A(k,k.error_x,O)),k.error_y&&k.error_y.visible&&(N.errorY=A(k,k.error_y,O)),k.fill&&k.fill!=="none"&&(N.fill={closed:!0,fill:k.fillcolor,thickness:0}),N}function c(B,k){var F=B._fullLayout,N=k._length,O=k.textfont,V=k.textposition,X=v(V)?V:[V],ee=O.color,ne=O.size,q=O.family,se=O.weight,J=O.style,Z=O.variant,te={},Y,ie=B._context.plotGlPixelRatio,le=k.texttemplate;if(le){te.text=[];var j=F._d3locale,K=Array.isArray(le),ue=K?Math.min(le.length,N):N,ae=K?function(Ce){return le[Ce]}:function(){return le};for(Y=0;Y<ue;Y++){var he={i:Y},xe=k._module.formatLabels(he,k,F),Se={};h(Se,k,Y);var Ae=k._meta||{};te.text.push(w.texttemplateString(ae(Y),xe,j,Se,he,Ae))}}else v(k.text)&&k.text.length<N?te.text=k.text.slice():te.text=k.text;if(v(te.text))for(Y=te.text.length;Y<N;Y++)te.text[Y]="";for(te.opacity=k.opacity,te.font={},te.align=[],te.baseline=[],Y=0;Y<X.length;Y++){var De=X[Y].split(/\s+/);switch(De[1]){case"left":te.align.push("right");break;case"right":te.align.push("left");break;default:te.align.push(De[1])}switch(De[0]){case"top":te.baseline.push("bottom");break;case"bottom":te.baseline.push("top");break;default:te.baseline.push(De[0])}}if(v(ee))for(te.color=new Array(N),Y=0;Y<N;Y++)te.color[Y]=ee[Y];else te.color=ee;if(v(ne)||Array.isArray(q)||Array.isArray(se)||Array.isArray(J)||Array.isArray(Z))for(te.font=new Array(N),Y=0;Y<N;Y++){var we=te.font[Y]={};we.size=(w.isTypedArray(ne)?ne[Y]:v(ne)?d(ne[Y])?ne[Y]:0:ne)*ie,we.family=Array.isArray(q)?q[Y]:q,we.weight=Array.isArray(se)?se[Y]:se,we.style=Array.isArray(J)?J[Y]:J,we.variant=Array.isArray(Z)?Z[Y]:Z}else te.font={size:ne*ie,family:q,weight:se,style:J,variant:Z};return te}function o(B,k){var F=k._length,N=k.marker,O={},V,X=v(N.symbol),ee=v(N.angle),ne=v(N.color),q=v(N.line.color),se=v(N.opacity),J=v(N.size),Z=v(N.line.width),te;if(X||(te=u.isOpenSymbol(N.symbol)),X||ne||q||se||ee){O.symbols=new Array(F),O.angles=new Array(F),O.colors=new Array(F),O.borderColors=new Array(F);var Y=N.symbol,ie=N.angle,le=t(N,N.opacity,F),j=t(N.line,N.opacity,F);if(!v(j[0])){var K=j;for(j=Array(F),V=0;V<F;V++)j[V]=K}if(!v(le[0])){var ue=le;for(le=Array(F),V=0;V<F;V++)le[V]=ue}if(!v(Y)){var ae=Y;for(Y=Array(F),V=0;V<F;V++)Y[V]=ae}if(!v(ie)){var he=ie;for(ie=Array(F),V=0;V<F;V++)ie[V]=he}for(O.symbols=Y,O.angles=ie,O.colors=le,O.borderColors=j,V=0;V<F;V++)X&&(te=u.isOpenSymbol(N.symbol[V])),te&&(j[V]=le[V].slice(),le[V]=le[V].slice(),le[V][3]=0);for(O.opacity=k.opacity,O.markers=new Array(F),V=0;V<F;V++)O.markers[V]=S({mx:O.symbols[V],ma:O.angles[V]},k)}else te?(O.color=n(N.color,"uint8"),O.color[3]=0,O.borderColor=n(N.color,"uint8")):(O.color=n(N.color,"uint8"),O.borderColor=n(N.line.color,"uint8")),O.opacity=k.opacity*N.opacity,O.marker=S({mx:N.symbol,ma:N.angle},k);var xe=1,Se=a(k,xe),Ae;if(J||Z){var De=O.sizes=new Array(F),we=O.borderSizes=new Array(F),Ce=0,be;if(J){for(V=0;V<F;V++)De[V]=Se(N.size[V]),Ce+=De[V];be=Ce/F}else for(Ae=Se(N.size),V=0;V<F;V++)De[V]=Ae;if(Z)for(V=0;V<F;V++)we[V]=N.line.width[V];else for(Ae=N.line.width,V=0;V<F;V++)we[V]=Ae;O.sizeAvg=be}else O.size=Se(N&&N.size||10),O.borderSizes=Se(N.line.width);return O}function p(B,k,F){var N=k.marker,O={};return F&&(F.marker&&F.marker.symbol?O=o(B,w.extendFlat({},N,F.marker)):F.marker&&(F.marker.size&&(O.size=F.marker.size),F.marker.color&&(O.colors=F.marker.color),F.marker.opacity!==void 0&&(O.opacity=F.marker.opacity))),O}function x(B,k,F){var N={};if(!F)return N;if(F.textfont){var O={opacity:1,text:k.text,texttemplate:k.texttemplate,textposition:k.textposition,textfont:w.extendFlat({},k.textfont)};F.textfont&&w.extendFlat(O.textfont,F.textfont),N=c(B,O)}return N}function A(B,k,F){var N={capSize:k.width*2*F,lineWidth:k.thickness*F,color:k.color};return k.copy_ystyle&&(N=B.error_y),N}var _=f.SYMBOL_SDF_SIZE,y=f.SYMBOL_SIZE,E=f.SYMBOL_STROKE,M={},s=g.symbolFuncs[0](y*.05);function S(B,k){var F=B.mx;if(F==="circle")return null;var N,O,V=g.symbolNumber(F),X=g.symbolFuncs[V%100],ee=!!g.symbolNoDot[V%100],ne=!!g.symbolNoFill[V%100],q=u.isDotSymbol(F);if(B.ma&&(F+="_"+B.ma),M[F])return M[F];var se=g.getMarkerAngle(B,k);return q&&!ee?N=X(y*1.1,se)+s:N=X(y,se),O=C(N,{w:_,h:_,viewBox:[-y,-y,y,y],stroke:ne?E:-E}),M[F]=O,O||null}function b(B,k,F){var N=F.length,O=N/2,V,X;if(i.hasLines(k)&&O)if(k.line.shape==="hv"){for(V=[],X=0;X<O-1;X++)isNaN(F[X*2])||isNaN(F[X*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(F[X*2],F[X*2+1]),!isNaN(F[X*2+2])&&!isNaN(F[X*2+3])?V.push(F[X*2+2],F[X*2+1]):V.push(NaN,NaN));V.push(F[N-2],F[N-1])}else if(k.line.shape==="hvh"){for(V=[],X=0;X<O-1;X++)if(isNaN(F[X*2])||isNaN(F[X*2+1])||isNaN(F[X*2+2])||isNaN(F[X*2+3]))!isNaN(F[X*2])&&!isNaN(F[X*2+1])?V.push(F[X*2],F[X*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var ee=(F[X*2]+F[X*2+2])/2;V.push(F[X*2],F[X*2+1],ee,F[X*2+1],ee,F[X*2+3])}V.push(F[N-2],F[N-1])}else if(k.line.shape==="vhv"){for(V=[],X=0;X<O-1;X++)if(isNaN(F[X*2])||isNaN(F[X*2+1])||isNaN(F[X*2+2])||isNaN(F[X*2+3]))!isNaN(F[X*2])&&!isNaN(F[X*2+1])?V.push(F[X*2],F[X*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var ne=(F[X*2+1]+F[X*2+3])/2;V.push(F[X*2],F[X*2+1],F[X*2],ne,F[X*2+2],ne)}V.push(F[N-2],F[N-1])}else if(k.line.shape==="vh"){for(V=[],X=0;X<O-1;X++)isNaN(F[X*2])||isNaN(F[X*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(F[X*2],F[X*2+1]),!isNaN(F[X*2+2])&&!isNaN(F[X*2+3])?V.push(F[X*2],F[X*2+3]):V.push(NaN,NaN));V.push(F[N-2],F[N-1])}else V=F;var q=!1;for(X=0;X<V.length;X++)if(isNaN(V[X])){q=!0;break}var se=q||V.length>f.TOO_MANY_POINTS||i.hasMarkers(k)?"rect":"round";if(q&&k.connectgaps){var J=V[0],Z=V[1];for(X=0;X<V.length;X+=2)isNaN(V[X])||isNaN(V[X+1])?(V[X]=J,V[X+1]=Z):(J=V[X],Z=V[X+1])}return{join:se,positions:V}}function I(B,k,F,N,O){var V=L.getComponentMethod("errorbars","makeComputeError"),X=r.getFromId(B,k.xaxis,"x"),ee=r.getFromId(B,k.yaxis,"y"),ne=F.length/2,q={};function se(J,Z){var te=Z._id.charAt(0),Y=k["error_"+te];if(Y&&Y.visible&&(Z.type==="linear"||Z.type==="log")){for(var ie=V(Y),le={x:0,y:1}[te],j={x:[0,1,2,3],y:[2,3,0,1]}[te],K=new Float64Array(4*ne),ue=1/0,ae=-1/0,he=0,xe=0;he<ne;he++,xe+=4){var Se=J[he];if(d(Se)){var Ae=F[he*2+le],De=ie(Se,he),we=De[0],Ce=De[1];if(d(we)&&d(Ce)){var be=Se-we,Pe=Se+Ce;K[xe+j[0]]=Ae-Z.c2l(be),K[xe+j[1]]=Z.c2l(Pe)-Ae,K[xe+j[2]]=0,K[xe+j[3]]=0,ue=Math.min(ue,Se-we),ae=Math.max(ae,Se+Ce)}}}q[te]={positions:F,errors:K,_bnds:[ue,ae]}}}return se(N,X),se(O,ee),q}function D(B,k,F,N){var O=k._length,V={},X;if(i.hasMarkers(k)){var ee=F.font,ne=F.align,q=F.baseline;for(V.offset=new Array(O),X=0;X<O;X++){var se=N.sizes?N.sizes[X]:N.size,J=v(ee)?ee[X].size:ee.size,Z=v(ne)?ne.length>1?ne[X]:ne[0]:ne,te=v(q)?q.length>1?q[X]:q[0]:q,Y=m[Z],ie=m[te],le=se?se/.8+1:0,j=-ie*le-ie*.5;V.offset[X]=[Y*le/J,j/J]}}return V}H.exports={style:T,markerStyle:o,markerSelection:p,linePositions:b,errorBarPositions:I,textPosition:D}},80220:function(H,U,e){var d=e(3400),C=e(24040),n=e(80088),L=e(2876),w=e(88200),v=e(43028),g=e(43980),r=e(31147),t=e(74428),i=e(66828),a=e(70840),u=e(124);H.exports=function(l,m,h,T){function c(M,s){return d.coerce(l,m,L,M,s)}var o=l.marker?n.isOpenSymbol(l.marker.symbol):!1,p=v.isBubble(l),x=g(l,m,T,c);if(!x){m.visible=!1;return}r(l,m,T,c),c("xhoverformat"),c("yhoverformat");var A=x<w.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",A),v.hasMarkers(m)&&(t(l,m,h,T,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",o||p?1:0)),v.hasLines(m)&&(c("connectgaps"),i(l,m,h,T,c),c("line.shape")),v.hasText(m)&&(c("texttemplate"),u(l,m,T,c));var _=(m.line||{}).color,y=(m.marker||{}).color;c("fill"),m.fill!=="none"&&a(l,m,h,c);var E=C.getComponentMethod("errorbars","supplyDefaults");E(l,m,_||y||h,{axis:"y"}),E(l,m,_||y||h,{axis:"x",inherit:"y"}),d.coerceSelectionMarkerOpacity(m,c)}},26768:function(H,U,e){var d=e(3400),C=e(76308),n=e(13448).DESELECTDIM;function L(w){var v=w[0],g=v.trace,r=v.t,t=r._scene,i=r.index,a=t.selectBatch[i],u=t.unselectBatch[i],f=t.textOptions[i],l=t.textSelectedOptions[i]||{},m=t.textUnselectedOptions[i]||{},h=d.extendFlat({},f),T,c;if(a.length||u.length){var o=l.color,p=m.color,x=f.color,A=d.isArrayOrTypedArray(x);for(h.color=new Array(g._length),T=0;T<a.length;T++)c=a[T],h.color[c]=o||(A?x[c]:x);for(T=0;T<u.length;T++){c=u[T];var _=A?x[c]:x;h.color[c]=p||(o?_:C.addOpacity(_,n))}}t.glText[i].update(h)}H.exports={styleTextSelection:L}},99396:function(H,U,e){var d=e(76688);H.exports=function(n,L,w){var v=n.i;return"x"in n||(n.x=L._x[v]),"y"in n||(n.y=L._y[v]),d(n,L,w)}},80088:function(H,U,e){var d=e(67072);U.isOpenSymbol=function(C){return typeof C=="string"?d.OPEN_RE.test(C):C%200>100},U.isDotSymbol=function(C){return typeof C=="string"?d.DOT_RE.test(C):C>200}},41272:function(H,U,e){var d=e(24040),C=e(3400),n=e(44928);function L(v,g,r,t){var i=v.cd,a=i[0].t,u=i[0].trace,f=v.xa,l=v.ya,m=a.x,h=a.y,T=f.c2p(g),c=l.c2p(r),o=v.distance,p;if(a.tree){var x=f.p2c(T-o),A=f.p2c(T+o),_=l.p2c(c-o),y=l.p2c(c+o);t==="x"?p=a.tree.range(Math.min(x,A),Math.min(l._rl[0],l._rl[1]),Math.max(x,A),Math.max(l._rl[0],l._rl[1])):p=a.tree.range(Math.min(x,A),Math.min(_,y),Math.max(x,A),Math.max(_,y))}else p=a.ids;var E,M,s,S,b,I,D,B,k,F=o;if(t==="x"){var N=!!u.xperiodalignment,O=!!u.yperiodalignment;for(b=0;b<p.length;b++){if(E=p[b],s=m[E],I=Math.abs(f.c2p(s)-T),N){var V=f.c2p(u._xStarts[E]),X=f.c2p(u._xEnds[E]);I=T>=Math.min(V,X)&&T<=Math.max(V,X)?0:1/0}if(I<F){if(F=I,S=h[E],D=l.c2p(S)-c,O){var ee=l.c2p(u._yStarts[E]),ne=l.c2p(u._yEnds[E]);D=c>=Math.min(ee,ne)&&c<=Math.max(ee,ne)?0:1/0}k=Math.sqrt(I*I+D*D),M=p[b]}}}else for(b=p.length-1;b>-1;b--)E=p[b],s=m[E],S=h[E],I=f.c2p(s)-T,D=l.c2p(S)-c,B=Math.sqrt(I*I+D*D),B<F&&(F=k=B,M=E);return v.index=M,v.distance=F,v.dxy=k,M===void 0?[v]:[w(v,m,h,u)]}function w(v,g,r,t){var i=v.xa,a=v.ya,u=v.distance,f=v.dxy,l=v.index,m={pointNumber:l,x:g[l],y:r[l]};m.tx=C.isArrayOrTypedArray(t.text)?t.text[l]:t.text,m.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,m.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,m.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(m.ts=C.isArrayOrTypedArray(h.size)?h.size[l]:h.size,m.tc=C.isArrayOrTypedArray(h.color)?h.color[l]:h.color,m.tf=Array.isArray(h.family)?h.family[l]:h.family,m.tw=Array.isArray(h.weight)?h.weight[l]:h.weight,m.ty=Array.isArray(h.style)?h.style[l]:h.style,m.tv=Array.isArray(h.variant)?h.variant[l]:h.variant);var T=t.marker;T&&(m.ms=C.isArrayOrTypedArray(T.size)?T.size[l]:T.size,m.mo=C.isArrayOrTypedArray(T.opacity)?T.opacity[l]:T.opacity,m.mx=C.isArrayOrTypedArray(T.symbol)?T.symbol[l]:T.symbol,m.ma=C.isArrayOrTypedArray(T.angle)?T.angle[l]:T.angle,m.mc=C.isArrayOrTypedArray(T.color)?T.color[l]:T.color);var c=T&&T.line;c&&(m.mlc=Array.isArray(c.color)?c.color[l]:c.color,m.mlw=C.isArrayOrTypedArray(c.width)?c.width[l]:c.width);var o=T&&T.gradient;o&&o.type!=="none"&&(m.mgt=Array.isArray(o.type)?o.type[l]:o.type,m.mgc=Array.isArray(o.color)?o.color[l]:o.color);var p=i.c2p(m.x,!0),x=a.c2p(m.y,!0),A=m.mrc||1,_=t.hoverlabel;_&&(m.hbg=Array.isArray(_.bgcolor)?_.bgcolor[l]:_.bgcolor,m.hbc=Array.isArray(_.bordercolor)?_.bordercolor[l]:_.bordercolor,m.hts=C.isArrayOrTypedArray(_.font.size)?_.font.size[l]:_.font.size,m.htc=Array.isArray(_.font.color)?_.font.color[l]:_.font.color,m.htf=Array.isArray(_.font.family)?_.font.family[l]:_.font.family,m.hnl=C.isArrayOrTypedArray(_.namelength)?_.namelength[l]:_.namelength);var y=t.hoverinfo;y&&(m.hi=Array.isArray(y)?y[l]:y);var E=t.hovertemplate;E&&(m.ht=Array.isArray(E)?E[l]:E);var M={};M[v.index]=m;var s=t._origX,S=t._origY,b=C.extendFlat({},v,{color:n(t,m),x0:p-A,x1:p+A,xLabelVal:s?s[l]:m.x,y0:x-A,y1:x+A,yLabelVal:S?S[l]:m.y,cd:M,distance:u,spikeDistance:f,hovertemplate:m.ht});return m.htx?b.text=m.htx:m.tx?b.text=m.tx:t.text&&(b.text=t.text),C.fillText(m,t,b),d.getComponentMethod("errorbars","hoverInfo")(m,t,b),b}H.exports={hoverPoints:L,calcHover:w}},38983:function(H,U,e){var d=e(64628);d.plot=e(89876),H.exports=d},89876:function(H,U,e){var d=e(38540),C=e(13472),n=e(24544),L=e(23352),w=e(3400),v=e(72760).selectMode,g=e(5048),r=e(43028),t=e(14328),i=e(26768).styleTextSelection,a={};function u(l,m,h,T){var c=l._size,o=l.width*T,p=l.height*T,x=c.l*T,A=c.b*T,_=c.r*T,y=c.t*T,E=c.w*T,M=c.h*T;return[x+m.domain[0]*E,A+h.domain[0]*M,o-_-(1-m.domain[1])*E,p-y-(1-h.domain[1])*M]}var f=H.exports=function(m,h,T){if(T.length){var c=m._fullLayout,o=h._scene,p=h.xaxis,x=h.yaxis,A,_;if(o){var y=g(m,["ANGLE_instanced_arrays","OES_element_index_uint"],a);if(!y){o.init();return}var E=o.count,M=c._glcanvas.data()[0].regl;if(t(m,h,T),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&M.clear({}),o.error2d===!0&&(o.error2d=n(M)),o.line2d===!0&&(o.line2d=C(M)),o.scatter2d===!0&&(o.scatter2d=d(M)),o.fill2d===!0&&(o.fill2d=C(M)),o.glText===!0)for(o.glText=new Array(E),A=0;A<E;A++)o.glText[A]=new L(M);if(o.glText){if(E>o.glText.length){var s=E-o.glText.length;for(A=0;A<s;A++)o.glText.push(new L(M))}else if(E<o.glText.length){var S=o.glText.length-E,b=o.glText.splice(E,S);b.forEach(function(j){j.destroy()})}for(A=0;A<E;A++)o.glText[A].update(o.textOptions[A])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(j){if(j&&j.positions){for(var K=j.positions,ue=0;ue<K.length&&(isNaN(K[ue])||isNaN(K[ue+1]));)ue+=2;for(var ae=K.length-2;ae>ue&&(isNaN(K[ae])||isNaN(K[ae+1]));)ae-=2;j.positions=K.slice(ue,ae+2)}return j}),o.line2d.update(o.lineOptions)),o.error2d){var I=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(I)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=w.repeat(null,E),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(j,K){var ue=T[K];if(!(!j||!ue||!ue[0]||!ue[0].trace)){var ae=ue[0],he=ae.trace,xe=ae.t,Se=o.lineOptions[K],Ae,De,we=[];he._ownfill&&we.push(K),he._nexttrace&&we.push(K+1),we.length&&(o.fillOrder[K]=we);var Ce=[],be=Se&&Se.positions||xe.positions,Pe,Ve;if(he.fill==="tozeroy"){for(Pe=0;Pe<be.length&&isNaN(be[Pe+1]);)Pe+=2;for(Ve=be.length-2;Ve>Pe&&isNaN(be[Ve+1]);)Ve-=2;be[Pe+1]!==0&&(Ce=[be[Pe],0]),Ce=Ce.concat(be.slice(Pe,Ve+2)),be[Ve+1]!==0&&(Ce=Ce.concat([be[Ve],0]))}else if(he.fill==="tozerox"){for(Pe=0;Pe<be.length&&isNaN(be[Pe]);)Pe+=2;for(Ve=be.length-2;Ve>Pe&&isNaN(be[Ve]);)Ve-=2;be[Pe]!==0&&(Ce=[0,be[Pe+1]]),Ce=Ce.concat(be.slice(Pe,Ve+2)),be[Ve]!==0&&(Ce=Ce.concat([0,be[Ve+1]]))}else if(he.fill==="toself"||he.fill==="tonext"){for(Ce=[],Ae=0,j.splitNull=!0,De=0;De<be.length;De+=2)(isNaN(be[De])||isNaN(be[De+1]))&&(Ce=Ce.concat(be.slice(Ae,De)),Ce.push(be[Ae],be[Ae+1]),Ce.push(null,null),Ae=De+2);Ce=Ce.concat(be.slice(Ae)),Ae&&Ce.push(be[Ae],be[Ae+1])}else{var Ge=he._nexttrace;if(Ge){var Fe=o.lineOptions[K+1];if(Fe){var He=Fe.positions;if(he.fill==="tonexty"){for(Ce=be.slice(),K=Math.floor(He.length/2);K--;){var ft=He[K*2],gt=He[K*2+1];isNaN(ft)||isNaN(gt)||Ce.push(ft,gt)}j.fill=Ge.fillcolor}}}}if(he._prevtrace&&he._prevtrace.fill==="tonext"){var ct=o.lineOptions[K-1].positions,nt=Ce.length/2;Ae=nt;var dt=[Ae];for(De=0;De<ct.length;De+=2)(isNaN(ct[De])||isNaN(ct[De+1]))&&(dt.push(De/2+nt+1),Ae=De+2);Ce=Ce.concat(ct),j.hole=dt}return j.fillmode=he.fill,j.opacity=he.opacity,j.positions=Ce,j}}),o.fill2d.update(o.fillOptions))}var D=c.dragmode,B=v(D),k=c.clickmode.indexOf("select")>-1;for(A=0;A<E;A++){var F=T[A][0],N=F.trace,O=F.t,V=O.index,X=N._length,ee=O.x,ne=O.y;if(N.selectedpoints||B||k){if(B||(B=!0),N.selectedpoints){var q=o.selectBatch[V]=w.selIndices2selPoints(N),se={};for(_=0;_<q.length;_++)se[q[_]]=1;var J=[];for(_=0;_<X;_++)se[_]||J.push(_);o.unselectBatch[V]=J}var Z=O.xpx=new Array(X),te=O.ypx=new Array(X);for(_=0;_<X;_++)Z[_]=p.c2p(ee[_]),te[_]=x.c2p(ne[_])}else O.xpx=O.ypx=null}if(B){if(o.select2d||(o.select2d=d(c._glcanvas.data()[1].regl)),o.scatter2d){var Y=new Array(E);for(A=0;A<E;A++)Y[A]=o.selectBatch[A].length||o.unselectBatch[A].length?o.markerUnselectedOptions[A]:{};o.scatter2d.update(Y)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&T.forEach(function(j){var K=((j||[])[0]||{}).trace||{};r.hasText(K)&&i(j)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var ie={viewport:u(c,p,x,m._context.plotGlPixelRatio),range:[(p._rl||p.range)[0],(x._rl||x.range)[0],(p._rl||p.range)[1],(x._rl||x.range)[1]]},le=w.repeat(ie,o.count);o.fill2d&&o.fill2d.update(le),o.line2d&&o.line2d.update(le),o.error2d&&o.error2d.update(le.concat(le)),o.scatter2d&&o.scatter2d.update(le),o.select2d&&o.select2d.update(le),o.glText&&o.glText.forEach(function(j){j.update(ie)})}}};f.reglPrecompiled=a},74588:function(H,U,e){var d=e(3400);H.exports=function(n,L){var w=L._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},g={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(w=L._scene={},w.init=function(){d.extendFlat(w,g,v)},w.init(),w.update=function(t){var i=d.repeat(t,w.count);if(w.fill2d&&w.fill2d.update(i),w.scatter2d&&w.scatter2d.update(i),w.line2d&&w.line2d.update(i),w.error2d&&w.error2d.update(i.concat(i)),w.select2d&&w.select2d.update(i),w.glText)for(var a=0;a<w.count;a++)w.glText[a].update(t)},w.draw=function(){for(var t=w.count,i=w.fill2d,a=w.error2d,u=w.line2d,f=w.scatter2d,l=w.glText,m=w.select2d,h=w.selectBatch,T=w.unselectBatch,c=0;c<t;c++){if(i&&w.fillOrder[c]&&i.draw(w.fillOrder[c]),u&&w.lineOptions[c]&&u.draw(c),a&&(w.errorXOptions[c]&&a.draw(c),w.errorYOptions[c]&&a.draw(c+t)),f&&w.markerOptions[c])if(T[c].length){var o=d.repeat([],w.count);o[c]=T[c],f.draw(o)}else h[c].length||f.draw(c);l[c]&&w.textOptions[c]&&l[c].render()}m&&m.draw(h),w.dirty=!1},w.destroy=function(){w.fill2d&&w.fill2d.destroy&&w.fill2d.destroy(),w.scatter2d&&w.scatter2d.destroy&&w.scatter2d.destroy(),w.error2d&&w.error2d.destroy&&w.error2d.destroy(),w.line2d&&w.line2d.destroy&&w.line2d.destroy(),w.select2d&&w.select2d.destroy&&w.select2d.destroy(),w.glText&&w.glText.forEach(function(t){t.destroy&&t.destroy()}),w.lineOptions=null,w.fillOptions=null,w.markerOptions=null,w.markerSelectedOptions=null,w.markerUnselectedOptions=null,w.errorXOptions=null,w.errorYOptions=null,w.textOptions=null,w.textSelectedOptions=null,w.textUnselectedOptions=null,w.selectBatch=null,w.unselectBatch=null,L._scene=null}),w.dirty||d.extendFlat(w,v),w}},73224:function(H,U,e){var d=e(43028),C=e(26768).styleTextSelection;H.exports=function(L,w){var v=L.cd,g=L.xaxis,r=L.yaxis,t=[],i=v[0].trace,a=v[0].t,u=i._length,f=a.x,l=a.y,m=a._scene,h=a.index;if(!m)return t;var T=d.hasText(i),c=d.hasMarkers(i),o=!c&&!T;if(i.visible!==!0||o)return t;var p=[],x=[];if(w!==!1&&!w.degenerate)for(var A=0;A<u;A++)w.contains([a.xpx[A],a.ypx[A]],!1,A,L)?(p.push(A),t.push({pointNumber:A,x:g.c2d(f[A]),y:r.c2d(l[A])})):x.push(A);if(c){var _=m.scatter2d;if(!p.length&&!x.length){var y=new Array(m.count);y[h]=m.markerOptions[h],_.update.apply(_,y)}else if(!m.selectBatch[h].length&&!m.unselectBatch[h].length){var E=new Array(m.count);E[h]=m.markerUnselectedOptions[h],_.update.apply(_,E)}}return m.selectBatch[h]=p,m.unselectBatch[h]=x,T&&C(v),t}},31512:function(H,U,e){var d=e(21776).Ks,C=e(21776).Gw,n=e(98304),L=e(6096),w=e(52904),v=e(5232),g=e(45464),r=e(49084),t=e(92880).extendFlat,i=e(67824).overrideAll,a=e(5232),u=L.line,f=L.marker;H.exports=i({lon:L.lon,lat:L.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},a.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},f.opacity,{dflt:1})},mode:t({},w.mode,{dflt:"markers"}),text:t({},w.text,{}),texttemplate:C({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},w.hovertext,{}),line:{color:u.color,width:u.width},connectgaps:w.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:f.opacity,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode},r("marker")),fill:L.fill,fillcolor:n(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:w.selected.marker},unselected:{marker:w.unselected.marker},hoverinfo:t({},g.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:d()},"calc","nested")},59392:function(H,U,e){var d=e(38248),C=e(3400),n=e(39032).BADNUM,L=e(44808),w=e(8932),v=e(43616),g=e(7152),r=e(43028),t=e(89032),i=e(10624).appendArrayPointValue,a=e(72736).NEWLINES,u=e(72736).BR_TAG_ALL;H.exports=function(A,_){var y=_[0].trace,E=y.visible===!0&&y._length!==0,M=y.fill!=="none",s=r.hasLines(y),S=r.hasMarkers(y),b=r.hasText(y),I=S&&y.marker.symbol==="circle",D=S&&y.marker.symbol!=="circle",B=y.cluster&&y.cluster.enabled,k=f("fill"),F=f("line"),N=f("circle"),O=f("symbol"),V={fill:k,line:F,circle:N,symbol:O};if(!E)return V;var X;if((M||s)&&(X=L.calcTraceToLineCoords(_)),M&&(k.geojson=L.makePolygon(X),k.layout.visibility="visible",C.extendFlat(k.paint,{"fill-color":y.fillcolor})),s&&(F.geojson=L.makeLine(X),F.layout.visibility="visible",C.extendFlat(F.paint,{"line-width":y.line.width,"line-color":y.line.color,"line-opacity":y.opacity})),I){var ee=l(_);N.geojson=ee.geojson,N.layout.visibility="visible",B&&(N.filter=["!",["has","point_count"]],V.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(y.cluster.color,y.cluster.step),"circle-radius":o(y.cluster.size,y.cluster.step),"circle-opacity":o(y.cluster.opacity,y.cluster.step)}},V.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":p(y),"text-size":12}}),C.extendFlat(N.paint,{"circle-color":ee.mcc,"circle-radius":ee.mrc,"circle-opacity":ee.mo})}if(I&&B&&(N.filter=["!",["has","point_count"]]),(D||b)&&(O.geojson=m(_,A),C.extendFlat(O.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),D&&(C.extendFlat(O.layout,{"icon-size":y.marker.size/10}),"angle"in y.marker&&y.marker.angle!=="auto"&&C.extendFlat(O.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),O.layout["icon-allow-overlap"]=y.marker.allowoverlap,C.extendFlat(O.paint,{"icon-opacity":y.opacity*y.marker.opacity,"icon-color":y.marker.color})),b)){var ne=(y.marker||{}).size,q=t(y.textposition,ne);C.extendFlat(O.layout,{"text-size":y.textfont.size,"text-anchor":q.anchor,"text-offset":q.offset,"text-font":p(y)}),C.extendFlat(O.paint,{"text-color":y.textfont.color,"text-opacity":y.opacity})}return V};function f(x){return{type:x,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(x){var A=x[0].trace,_=A.marker,y=A.selectedpoints,E=C.isArrayOrTypedArray(_.color),M=C.isArrayOrTypedArray(_.size),s=C.isArrayOrTypedArray(_.opacity),S;function b(ne){return A.opacity*ne}function I(ne){return ne/2}var D;E&&(w.hasColorscale(A,"marker")?D=w.makeColorScaleFuncFromTrace(_):D=C.identity);var B;M&&(B=g(A));var k;s&&(k=function(ne){var q=d(ne)?+C.constrain(ne,0,1):0;return b(q)});var F=[];for(S=0;S<x.length;S++){var N=x[S],O=N.lonlat;if(!c(O)){var V={};D&&(V.mcc=N.mcc=D(N.mc)),B&&(V.mrc=N.mrc=B(N.ms)),k&&(V.mo=k(N.mo)),y&&(V.selected=N.selected||0),F.push({type:"Feature",id:S+1,geometry:{type:"Point",coordinates:O},properties:V})}}var X;if(y)for(X=v.makeSelectedPointStyleFns(A),S=0;S<F.length;S++){var ee=F[S].properties;X.selectedOpacityFn&&(ee.mo=b(X.selectedOpacityFn(ee))),X.selectedColorFn&&(ee.mcc=X.selectedColorFn(ee)),X.selectedSizeFn&&(ee.mrc=X.selectedSizeFn(ee))}return{geojson:{type:"FeatureCollection",features:F},mcc:E||X&&X.selectedColorFn?{type:"identity",property:"mcc"}:_.color,mrc:M||X&&X.selectedSizeFn?{type:"identity",property:"mrc"}:I(_.size),mo:s||X&&X.selectedOpacityFn?{type:"identity",property:"mo"}:b(_.opacity)}}function m(x,A){for(var _=A._fullLayout,y=x[0].trace,E=y.marker||{},M=E.symbol,s=E.angle,S=M!=="circle"?h(M):T,b=s!=="auto"?h(s,!0):T,I=r.hasText(y)?h(y.text):T,D=[],B=0;B<x.length;B++){var k=x[B];if(!c(k.lonlat)){var F=y.texttemplate,N;if(F){var O=Array.isArray(F)?F[B]||"":F,V=y._module.formatLabels(k,y,_),X={};i(X,y,k.i);var ee=y._meta||{};N=C.texttemplateString(O,V,_._d3locale,X,k,ee)}else N=I(B);N&&(N=N.replace(a,"").replace(u,`
`)),D.push({type:"Feature",geometry:{type:"Point",coordinates:k.lonlat},properties:{symbol:S(B),angle:b(B),text:N}})}}return{type:"FeatureCollection",features:D}}function h(x,A){return C.isArrayOrTypedArray(x)?A?function(_){return d(x[_])?+x[_]:0}:function(_){return x[_]}:x?function(){return x}:T}function T(){return""}function c(x){return x[0]===n}function o(x,A){var _;if(C.isArrayOrTypedArray(x)&&C.isArrayOrTypedArray(A)){_=["step",["get","point_count"],x[0]];for(var y=1;y<x.length;y++)_.push(A[y-1],x[y])}else _=x;return _}function p(x){var A=x.textfont,_="";A.weight==="bold"&&(_+=" Bold"),A.style==="italic"&&(_+=" Italic");var y=A.family;return _&&(y=y.replace(" Regular",_)),y=y.split(", "),y}},15752:function(H,U,e){var d=e(3400),C=e(43028),n=e(74428),L=e(66828),w=e(124),v=e(70840),g=e(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];H.exports=function(a,u,f,l){function m(M,s){return d.coerce(a,u,g,M,s)}function h(M,s){return d.coerce2(a,u,g,M,s)}var T=t(a,u,m);if(!T){u.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),C.hasMarkers(u)){n(a,u,f,l,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var c=u.marker;c.symbol!=="circle"&&(d.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),d.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}C.hasLines(u)&&(L(a,u,f,l,m,{noDash:!0}),m("connectgaps"));var o=h("cluster.maxzoom"),p=h("cluster.step"),x=h("cluster.color",u.marker&&u.marker.color||f),A=h("cluster.size"),_=h("cluster.opacity"),y=o!==!1||p!==!1||x!==!1||A!==!1||_!==!1,E=m("cluster.enabled",y);(E||C.hasText(u))&&w(a,u,l,m,{noSelect:!0,noFontVariant:!0,font:{family:r.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",weight:l.font.weight,style:l.font.style,size:l.font.size,color:l.font.color}}),m("fill"),u.fill!=="none"&&v(a,u,f,m),d.coerceSelectionMarkerOpacity(u,m)};function t(i,a,u){var f=u("lon")||[],l=u("lat")||[],m=Math.min(f.length,l.length);return a._length=m,m}},37920:function(H){H.exports=function(e,d){return e.lon=d.lon,e.lat=d.lat,e}},11960:function(H,U,e){var d=e(54460);H.exports=function(n,L,w){var v={},g=w[L.subplot]._subplot,r=g.mockAxis,t=n.lonlat;return v.lonLabel=d.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=d.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(H,U,e){var d=e(93024),C=e(3400),n=e(44928),L=C.fillText,w=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function g(t,i,a){var u=t.cd,f=u[0].trace,l=t.xa,m=t.ya,h=t.subplot,T=[],c=v+f.uid+"-circle",o=f.cluster&&f.cluster.enabled;if(o){var p=h.map.queryRenderedFeatures(null,{layers:[c]});T=p.map(function(k){return k.id})}var x=i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360),A=x*360,_=i-A;function y(k){var F=k.lonlat;if(F[0]===w||o&&T.indexOf(k.i+1)===-1)return 1/0;var N=C.modHalf(F[0],360),O=F[1],V=h.project([N,O]),X=V.x-l.c2p([_,O]),ee=V.y-m.c2p([N,a]),ne=Math.max(3,k.mrc||0);return Math.max(Math.sqrt(X*X+ee*ee)-ne,1-3/ne)}if(d.getClosest(u,y,t),t.index!==!1){var E=u[t.index],M=E.lonlat,s=[C.modHalf(M[0],360)+A,M[1]],S=l.c2p(s),b=m.c2p(s),I=E.mrc||1;t.x0=S-I,t.x1=S+I,t.y0=b-I,t.y1=b+I;var D={};D[f.subplot]={_subplot:h};var B=f._module.formatLabels(E,f,D);return t.lonLabel=B.lonLabel,t.latLabel=B.latLabel,t.color=n(f,E),t.extraText=r(f,E,u[0].t.labels),t.hovertemplate=f.hovertemplate,[t]}}function r(t,i,a){if(t.hovertemplate)return;var u=i.hi||t.hoverinfo,f=u.split("+"),l=f.indexOf("all")!==-1,m=f.indexOf("lon")!==-1,h=f.indexOf("lat")!==-1,T=i.lonlat,c=[];function o(p){return p+""}return l||m&&h?c.push("("+o(T[1])+", "+o(T[0])+")"):m?c.push(a.lon+o(T[0])):h&&c.push(a.lat+o(T[1])),(l||f.indexOf("text")!==-1)&&L(i,t,c),c.join("<br>")}H.exports={hoverPoints:g,getExtraText:r}},11572:function(H,U,e){H.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(d,C){if(C){var n=C[0].trace;n._glTrace.update(C)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(H,U,e){var d=e(3400),C=e(59392),n=e(47552).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function w(g,r,t,i){this.type="scattermapbox",this.subplot=g,this.uid=r,this.clusterEnabled=t,this.isHidden=i,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:n+r+"-fill",line:n+r+"-line",circle:n+r+"-circle",symbol:n+r+"-symbol",cluster:n+r+"-cluster",clusterCount:n+r+"-cluster-count"},this.below=null}var v=w.prototype;v.addSource=function(g,r,t){var i={type:"geojson",data:r.geojson};t&&t.enabled&&d.extendFlat(i,{cluster:!0,clusterMaxZoom:t.maxzoom});var a=this.subplot.map.getSource(this.sourceIds[g]);a?a.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[g],i)},v.setSourceData=function(g,r){this.subplot.map.getSource(this.sourceIds[g]).setData(r.geojson)},v.addLayer=function(g,r,t){var i={type:r.type,id:this.layerIds[g],source:this.sourceIds[g],layout:r.layout,paint:r.paint};r.filter&&(i.filter=r.filter);for(var a=this.layerIds[g],u,f=this.subplot.getMapLayers(),l=0;l<f.length;l++)if(f[l].id===a){u=!0;break}u?(this.subplot.setOptions(a,"setLayoutProperty",i.layout),i.layout.visibility==="visible"&&this.subplot.setOptions(a,"setPaintProperty",i.paint)):this.subplot.addLayer(i,t)},v.update=function(r){var t=r[0].trace,i=this.subplot,a=i.map,u=C(i.gd,r),f=i.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),m=!!this.clusterEnabled,h=this;function T(M){M||h.addSource("circle",u.circle,t.cluster);for(var s=L.cluster,S=0;S<s.length;S++){var b=s[S],I=u[b];h.addLayer(b,I,f)}}function c(M){for(var s=L.cluster,S=s.length-1;S>=0;S--){var b=s[S];a.removeLayer(h.layerIds[b])}M||a.removeSource(h.sourceIds.circle)}function o(M){for(var s=L.nonCluster,S=0;S<s.length;S++){var b=s[S],I=u[b];M||h.addSource(b,I),h.addLayer(b,I,f)}}function p(M){for(var s=L.nonCluster,S=s.length-1;S>=0;S--){var b=s[S];a.removeLayer(h.layerIds[b]),M||a.removeSource(h.sourceIds[b])}}function x(M){m?c(M):p(M)}function A(M){l?T(M):o(M)}function _(){for(var M=l?L.cluster:L.nonCluster,s=0;s<M.length;s++){var S=M[s],b=u[S];b&&(i.setOptions(h.layerIds[S],"setLayoutProperty",b.layout),b.layout.visibility==="visible"&&(S!=="cluster"&&h.setSourceData(S,b),i.setOptions(h.layerIds[S],"setPaintProperty",b.paint)))}}var y=this.isHidden,E=t.visible!==!0;E?y||x():y?E||A():m!==l?(x(),A()):(this.below!==f&&(x(!0),A(!0)),_()),this.clusterEnabled=l,this.isHidden=E,this.below=f,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?L.cluster:L.nonCluster,i=t.length-1;i>=0;i--){var a=t[i];r.removeLayer(this.layerIds[a]),r.removeSource(this.sourceIds[a])}},H.exports=function(r,t){var i=t[0].trace,a=i.cluster&&i.cluster.enabled,u=i.visible!==!0,f=new w(r,i.uid,a,u),l=C(r.gd,t),m=f.below=r.belowLookup["trace-"+i.uid],h,T,c;if(a)for(f.addSource("circle",l.circle,i.cluster),h=0;h<L.cluster.length;h++)T=L.cluster[h],c=l[T],f.addLayer(T,c,m);else for(h=0;h<L.nonCluster.length;h++)T=L.nonCluster[h],c=l[T],f.addSource(T,c,i.cluster),f.addLayer(T,c,m);return t[0].trace._glTrace=f,f}},404:function(H,U,e){var d=e(3400),C=e(43028),n=e(39032).BADNUM;H.exports=function(w,v){var g=w.cd,r=w.xaxis,t=w.yaxis,i=[],a=g[0].trace,u;if(!C.hasMarkers(a))return[];if(v===!1)for(u=0;u<g.length;u++)g[u].selected=0;else for(u=0;u<g.length;u++){var f=g[u],l=f.lonlat;if(l[0]!==n){var m=[d.modHalf(l[0],360),l[1]],h=[r.c2p(m),t.c2p(m)];v.contains(h,null,u,w)?(i.push({pointNumber:u,lon:l[0],lat:l[1]}),f.selected=1):f.selected=0}}return i}},8319:function(H,U,e){var d=e(21776).Ks,C=e(21776).Gw,n=e(92880).extendFlat,L=e(98304),w=e(52904),v=e(45464),g=w.line;H.exports={mode:w.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:w.text,texttemplate:C({editType:"plot"},{keys:["r","theta","text"]}),hovertext:w.hovertext,line:{color:g.color,width:g.width,dash:g.dash,backoff:g.backoff,shape:n({},g.shape,{values:["linear","spline"]}),smoothing:g.smoothing,editType:"calc"},connectgaps:w.connectgaps,marker:w.marker,cliponaxis:n({},w.cliponaxis,{dflt:!1}),textposition:w.textposition,textfont:w.textfont,fill:n({},w.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:n({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:w.hoveron,hovertemplate:d(),selected:w.selected,unselected:w.unselected}},58320:function(H,U,e){var d=e(38248),C=e(39032).BADNUM,n=e(54460),L=e(90136),w=e(20148),v=e(4500),g=e(16356).calcMarkerSize;H.exports=function(t,i){for(var a=t._fullLayout,u=i.subplot,f=a[u].radialaxis,l=a[u].angularaxis,m=f.makeCalcdata(i,"r"),h=l.makeCalcdata(i,"theta"),T=i._length,c=new Array(T),o=0;o<T;o++){var p=m[o],x=h[o],A=c[o]={};d(p)&&d(x)?(A.r=p,A.theta=x):A.r=C}var _=g(i,T);return i._extremes.x=n.findExtremes(f,m,{ppad:_}),L(t,i),w(c,i),v(c,i),c}},85968:function(H,U,e){var d=e(3400),C=e(43028),n=e(74428),L=e(66828),w=e(11731),v=e(124),g=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function i(u,f,l,m){function h(o,p){return d.coerce(u,f,t,o,p)}var T=a(u,f,m,h);if(!T){f.visible=!1;return}h("thetaunit"),h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),f.hoveron!=="fills"&&h("hovertemplate"),C.hasMarkers(f)&&n(u,f,l,m,h,{gradient:!0}),C.hasLines(f)&&(L(u,f,l,m,h,{backoff:!0}),w(u,f,h),h("connectgaps")),C.hasText(f)&&(h("texttemplate"),v(u,f,m,h));var c=[];(C.hasMarkers(f)||C.hasText(f))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),f.fill!=="none"&&(g(u,f,l,h),C.hasLines(f)||w(u,f,h)),(f.fill==="tonext"||f.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),d.coerceSelectionMarkerOpacity(f,h)}function a(u,f,l,m){var h=m("r"),T=m("theta");d.isTypedArray(h)&&(f.r=h=Array.from(h)),d.isTypedArray(T)&&(f.theta=T=Array.from(T));var c;if(h)T?c=Math.min(h.length,T.length):(c=h.length,m("theta0"),m("dtheta"));else{if(!T)return 0;c=f.theta.length,m("r0"),m("dr")}return f._length=c,c}H.exports={handleRThetaDefaults:a,supplyDefaults:i}},22852:function(H,U,e){var d=e(3400),C=e(54460);H.exports=function(L,w,v){var g={},r=v[w.subplot]._subplot,t,i;r?(t=r.radialAxis,i=r.angularAxis):(r=v[w.subplot],t=r.radialaxis,i=r.angularaxis);var a=t.c2l(L.r);g.rLabel=C.tickText(t,a,!0).text;var u=i.thetaunit==="degrees"?d.rad2deg(L.theta):L.theta;return g.thetaLabel=C.tickText(i,u,!0).text,g}},8504:function(H,U,e){var d=e(98723);function C(L,w,v,g){var r=d(L,w,v,g);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=L.subplot,a=t.cd[t.index],u=t.trace;if(i.isPtInside(a))return t.xLabelVal=void 0,t.yLabelVal=void 0,n(a,u,i,t),t.hovertemplate=u.hovertemplate,r}}function n(L,w,v,g){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="";var i={};i[w.subplot]={_subplot:v};var a=w._module.formatLabels(L,w,i);g.rLabel=a.rLabel,g.thetaLabel=a.thetaLabel;var u=L.hi||w.hoverinfo,f=[];function l(h,T){f.push(h._hovertitle+": "+T)}if(!w.hovertemplate){var m=u.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&l(r,g.rLabel),m.indexOf("theta")!==-1&&l(t,g.thetaLabel),m.indexOf("text")!==-1&&g.text&&(f.push(g.text),delete g.text),g.extraText=f.join("<br>")}}H.exports={hoverPoints:C,makeHoverPointText:n}},76924:function(H,U,e){H.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(H,U,e){var d=e(96504),C=e(39032).BADNUM;H.exports=function(L,w,v){for(var g=w.layers.frontplot.select("g.scatterlayer"),r=w.xaxis,t=w.yaxis,i={xaxis:r,yaxis:t,plot:w.framework,layerClipId:w._hasClipOnAxisFalse?w.clipIds.forTraces:null},a=w.radialAxis,u=w.angularAxis,f=0;f<v.length;f++)for(var l=v[f],m=0;m<l.length;m++){m===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var h=l[m],T=h.r;if(T===C)h.x=h.y=C;else{var c=a.c2g(T),o=u.c2g(h.theta);h.x=c*Math.cos(o),h.y=c*Math.sin(o)}}d(L,i,v,g)}},24396:function(H,U,e){var d=e(8319),C=e(2876),n=e(21776).Gw;H.exports={mode:d.mode,r:d.r,theta:d.theta,r0:d.r0,dr:d.dr,theta0:d.theta0,dtheta:d.dtheta,thetaunit:d.thetaunit,text:d.text,texttemplate:n({editType:"plot"},{keys:["r","theta","text"]}),hovertext:d.hovertext,hovertemplate:d.hovertemplate,line:{color:C.line.color,width:C.line.width,dash:C.line.dash,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,fill:C.fill,fillcolor:C.fillcolor,textposition:C.textposition,textfont:C.textfont,hoverinfo:d.hoverinfo,selected:d.selected,unselected:d.unselected}},27160:function(H,U,e){H.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(H,U,e){var d=e(90136),C=e(16356).calcMarkerSize,n=e(84236),L=e(54460),w=e(67072).TOO_MANY_POINTS;H.exports=function(g,r){var t=g._fullLayout,i=r.subplot,a=t[i].radialaxis,u=t[i].angularaxis,f=r._r=a.makeCalcdata(r,"r"),l=r._theta=u.makeCalcdata(r,"theta"),m=r._length,h={};m<f.length&&(f=f.slice(0,m)),m<l.length&&(l=l.slice(0,m)),h.r=f,h.theta=l,d(g,r);var T=h.opts=n.style(g,r),c;return m<w?c=C(r,m):T.marker&&(c=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=L.findExtremes(a,f,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(H,U,e){var d=e(3400),C=e(43028),n=e(85968).handleRThetaDefaults,L=e(74428),w=e(66828),v=e(124),g=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);H.exports=function(a,u,f,l){function m(T,c){return d.coerce(a,u,t,T,c)}var h=n(a,u,l,m);if(!h){u.visible=!1;return}m("thetaunit"),m("mode",h<r?"lines+markers":"lines"),m("text"),m("hovertext"),u.hoveron!=="fills"&&m("hovertemplate"),C.hasMarkers(u)&&L(a,u,f,l,m,{noAngleRef:!0,noStandOff:!0}),C.hasLines(u)&&(w(a,u,f,l,m),m("connectgaps")),C.hasText(u)&&(m("texttemplate"),v(a,u,l,m)),m("fill"),u.fill!=="none"&&g(a,u,f,m),d.coerceSelectionMarkerOpacity(u,m)}},94120:function(H,U,e){var d=e(22852);H.exports=function(n,L,w){var v=n.i;return"r"in n||(n.r=L._r[v]),"theta"in n||(n.theta=L._theta[v]),d(n,L,w)}},1600:function(H,U,e){var d=e(41272),C=e(8504).makeHoverPointText;function n(L,w,v,g){var r=L.cd,t=r[0].t,i=t.r,a=t.theta,u=d.hoverPoints(L,w,v,g);if(!(!u||u[0].index===!1)){var f=u[0];if(f.index===void 0)return u;var l=L.subplot,m=f.cd[f.index],h=f.trace;if(m.r=i[f.index],m.theta=a[f.index],!!l.isPtInside(m))return f.xLabelVal=void 0,f.yLabelVal=void 0,C(m,h,l,f),u}}H.exports={hoverPoints:n}},62944:function(H,U,e){var d=e(27160);d.plot=e(56512),H.exports=d},56512:function(H,U,e){var d=e(3108),C=e(38248),n=e(89876),L=e(74588),w=e(84236),v=e(3400),g=e(67072).TOO_MANY_POINTS,r={};H.exports=function(i,a,u){if(u.length){var f=a.radialAxis,l=a.angularAxis,m=L(i,a);return u.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var T=h[0],c=T.trace,o=T.t,p=c._length,x=o.r,A=o.theta,_=o.opts,y,E=x.slice(),M=A.slice();for(y=0;y<x.length;y++)a.isPtInside({r:x[y],theta:A[y]})||(E[y]=NaN,M[y]=NaN);var s=new Array(p*2),S=Array(p),b=Array(p);for(y=0;y<p;y++){var I=E[y],D,B;if(C(I)){var k=f.c2g(I),F=l.c2g(M[y],c.thetaunit);D=k*Math.cos(F),B=k*Math.sin(F)}else D=B=NaN;S[y]=s[y*2]=D,b[y]=s[y*2+1]=B}o.tree=d(s),_.marker&&p>=g&&(_.marker.cluster=o.tree),_.marker&&(_.markerSel.positions=_.markerUnsel.positions=_.marker.positions=s),_.line&&s.length>1&&v.extendFlat(_.line,w.linePositions(i,c,s)),_.text&&(v.extendFlat(_.text,{positions:s},w.textPosition(i,c,_.text,_.marker)),v.extendFlat(_.textSel,{positions:s},w.textPosition(i,c,_.text,_.markerSel)),v.extendFlat(_.textUnsel,{positions:s},w.textPosition(i,c,_.text,_.markerUnsel))),_.fill&&!m.fill2d&&(m.fill2d=!0),_.marker&&!m.scatter2d&&(m.scatter2d=!0),_.line&&!m.line2d&&(m.line2d=!0),_.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(_.line),m.fillOptions.push(_.fill),m.markerOptions.push(_.marker),m.markerSelectedOptions.push(_.markerSel),m.markerUnselectedOptions.push(_.markerUnsel),m.textOptions.push(_.text),m.textSelectedOptions.push(_.textSel),m.textUnselectedOptions.push(_.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),o.x=S,o.y=b,o.rawx=S,o.rawy=b,o.r=x,o.theta=A,o.positions=s,o._scene=m,o.index=m.count,m.count++}}),n(i,a,u)}},H.exports.reglPrecompiled=r},69496:function(H,U,e){var d=e(21776).Ks,C=e(21776).Gw,n=e(92880).extendFlat,L=e(98304),w=e(52904),v=e(45464),g=w.line;H.exports={mode:w.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:w.text,texttemplate:C({editType:"plot"},{keys:["real","imag","text"]}),hovertext:w.hovertext,line:{color:g.color,width:g.width,dash:g.dash,backoff:g.backoff,shape:n({},g.shape,{values:["linear","spline"]}),smoothing:g.smoothing,editType:"calc"},connectgaps:w.connectgaps,marker:w.marker,cliponaxis:n({},w.cliponaxis,{dflt:!1}),textposition:w.textposition,textfont:w.textfont,fill:n({},w.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L(),hoverinfo:n({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:w.hoveron,hovertemplate:d(),selected:w.selected,unselected:w.unselected}},47507:function(H,U,e){var d=e(38248),C=e(39032).BADNUM,n=e(90136),L=e(20148),w=e(4500),v=e(16356).calcMarkerSize;H.exports=function(r,t){for(var i=r._fullLayout,a=t.subplot,u=i[a].realaxis,f=i[a].imaginaryaxis,l=u.makeCalcdata(t,"real"),m=f.makeCalcdata(t,"imag"),h=t._length,T=new Array(h),c=0;c<h;c++){var o=l[c],p=m[c],x=T[c]={};d(o)&&d(p)?(x.real=o,x.imag=p):x.real=C}return v(t,h),n(r,t),L(T,t),w(T,t),T}},76716:function(H,U,e){var d=e(3400),C=e(43028),n=e(74428),L=e(66828),w=e(11731),v=e(124),g=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);H.exports=function(u,f,l,m){function h(o,p){return d.coerce(u,f,t,o,p)}var T=i(u,f,m,h);if(!T){f.visible=!1;return}h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),f.hoveron!=="fills"&&h("hovertemplate"),C.hasMarkers(f)&&n(u,f,l,m,h,{gradient:!0}),C.hasLines(f)&&(L(u,f,l,m,h,{backoff:!0}),w(u,f,h),h("connectgaps")),C.hasText(f)&&(h("texttemplate"),v(u,f,m,h));var c=[];(C.hasMarkers(f)||C.hasText(f))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),f.fill!=="none"&&(g(u,f,l,h),C.hasLines(f)||w(u,f,h)),(f.fill==="tonext"||f.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),d.coerceSelectionMarkerOpacity(f,h)};function i(a,u,f,l){var m=l("real"),h=l("imag"),T;return m&&h&&(T=Math.min(m.length,h.length)),d.isTypedArray(m)&&(u.real=m=Array.from(m)),d.isTypedArray(h)&&(u.imag=h=Array.from(h)),u._length=T,T}},49504:function(H,U,e){var d=e(54460);H.exports=function(n,L,w){var v={},g=w[L.subplot]._subplot;return v.realLabel=d.tickText(g.radialAxis,n.real,!0).text,v.imagLabel=d.tickText(g.angularAxis,n.imag,!0).text,v}},25292:function(H,U,e){var d=e(98723);function C(L,w,v,g){var r=d(L,w,v,g);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=L.subplot,a=t.cd[t.index],u=t.trace;if(i.isPtInside(a))return t.xLabelVal=void 0,t.yLabelVal=void 0,n(a,u,i,t),t.hovertemplate=u.hovertemplate,r}}function n(L,w,v,g){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var i={};i[w.subplot]={_subplot:v};var a=w._module.formatLabels(L,w,i);g.realLabel=a.realLabel,g.imagLabel=a.imagLabel;var u=L.hi||w.hoverinfo,f=[];function l(h,T){f.push(h._hovertitle+": "+T)}if(!w.hovertemplate){var m=u.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&l(r,g.realLabel),m.indexOf("imag")!==-1&&l(t,g.imagLabel),m.indexOf("text")!==-1&&g.text&&(f.push(g.text),delete g.text),g.extraText=f.join("<br>")}}H.exports={hoverPoints:C,makeHoverPointText:n}},95443:function(H,U,e){H.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(H,U,e){var d=e(96504),C=e(39032).BADNUM,n=e(36416),L=n.smith;H.exports=function(v,g,r){for(var t=g.layers.frontplot.select("g.scatterlayer"),i=g.xaxis,a=g.yaxis,u={xaxis:i,yaxis:a,plot:g.framework,layerClipId:g._hasClipOnAxisFalse?g.clipIds.forTraces:null},f=0;f<r.length;f++)for(var l=r[f],m=0;m<l.length;m++){m===0&&(l[0].trace._xA=i,l[0].trace._yA=a);var h=l[m],T=h.real;if(T===C)h.x=h.y=C;else{var c=L([T,h.imag]);h.x=c[0],h.y=c[1]}}d(v,u,r,t)}},5896:function(H,U,e){var d=e(21776).Ks,C=e(21776).Gw,n=e(98304),L=e(52904),w=e(45464),v=e(49084),g=e(98192).u,r=e(92880).extendFlat,t=L.marker,i=L.line,a=t.line;H.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:C({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},L.hovertext,{}),line:{color:i.color,width:i.width,dash:g,backoff:i.backoff,shape:r({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:L.connectgaps,cliponaxis:L.cliponaxis,fill:r({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:n(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:a.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:r({},w.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:L.hoveron,hovertemplate:d()}},34335:function(H,U,e){var d=e(38248),C=e(90136),n=e(20148),L=e(4500),w=e(16356).calcMarkerSize,v=["a","b","c"],g={a:["b","c"],b:["a","c"],c:["a","b"]};H.exports=function(t,i){var a=t._fullLayout[i.subplot],u=a.sum,f=i.sum||u,l={a:i.a,b:i.b,c:i.c},m,h,T,c,o,p;for(m=0;m<v.length;m++)if(T=v[m],!l[T]){for(o=l[g[T][0]],p=l[g[T][1]],c=new Array(o.length),h=0;h<o.length;h++)c[h]=f-o[h]-p[h];l[T]=c}var x=i._length,A=new Array(x),_,y,E,M,s,S;for(m=0;m<x;m++)_=l.a[m],y=l.b[m],E=l.c[m],d(_)&&d(y)&&d(E)?(_=+_,y=+y,E=+E,M=u/(_+y+E),M!==1&&(_*=M,y*=M,E*=M),S=_,s=E-y,A[m]={x:s,y:S,a:_,b:y,c:E}):A[m]={x:!1,y:!1};return w(i,x),C(t,i),n(A,i),L(A,i),A}},84256:function(H,U,e){var d=e(3400),C=e(88200),n=e(43028),L=e(74428),w=e(66828),v=e(11731),g=e(124),r=e(70840),t=e(5896);H.exports=function(a,u,f,l){function m(A,_){return d.coerce(a,u,t,A,_)}var h=m("a"),T=m("b"),c=m("c"),o;if(h?(o=h.length,T?(o=Math.min(o,T.length),c&&(o=Math.min(o,c.length))):c?o=Math.min(o,c.length):o=0):T&&c&&(o=Math.min(T.length,c.length)),!o){u.visible=!1;return}u._length=o,m("sum"),m("text"),m("hovertext"),u.hoveron!=="fills"&&m("hovertemplate");var p=o<C.PTS_LINESONLY?"lines+markers":"lines";m("mode",p),n.hasMarkers(u)&&L(a,u,f,l,m,{gradient:!0}),n.hasLines(u)&&(w(a,u,f,l,m,{backoff:!0}),v(a,u,m),m("connectgaps")),n.hasText(u)&&(m("texttemplate"),g(a,u,l,m));var x=[];(n.hasMarkers(u)||n.hasText(u))&&(m("cliponaxis"),m("marker.maxdisplayed"),x.push("points")),m("fill"),u.fill!=="none"&&(r(a,u,f,m),n.hasLines(u)||v(a,u,m)),(u.fill==="tonext"||u.fill==="toself")&&x.push("fills"),m("hoveron",x.join("+")||"points"),d.coerceSelectionMarkerOpacity(u,m)}},97476:function(H){H.exports=function(e,d,C,n,L){if(d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),n[L]){var w=n[L];e.a=w.a,e.b=w.b,e.c=w.c}else e.a=d.a,e.b=d.b,e.c=d.c;return e}},90404:function(H,U,e){var d=e(54460);H.exports=function(n,L,w){var v={},g=w[L.subplot]._subplot;return v.aLabel=d.tickText(g.aaxis,n.a,!0).text,v.bLabel=d.tickText(g.baxis,n.b,!0).text,v.cLabel=d.tickText(g.caxis,n.c,!0).text,v}},26596:function(H,U,e){var d=e(98723);H.exports=function(n,L,w,v){var g=d(n,L,w,v);if(!g||g[0].index===!1)return;var r=g[0];if(r.index===void 0){var t=1-r.y0/n.ya._length,i=n.xa._length,a=i*t/2,u=i-a;return r.x0=Math.max(Math.min(r.x0,u),a),r.x1=Math.max(Math.min(r.x1,u),a),g}var f=r.cd[r.index],l=r.trace,m=r.subplot;r.a=f.a,r.b=f.b,r.c=f.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:m};var T=l._module.formatLabels(f,l,h);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var c=f.hi||l.hoverinfo,o=[];function p(A,_){o.push(A._hovertitle+": "+_)}if(!l.hovertemplate){var x=c.split("+");x.indexOf("all")!==-1&&(x=["a","b","c"]),x.indexOf("a")!==-1&&p(m.aaxis,r.aLabel),x.indexOf("b")!==-1&&p(m.baxis,r.bLabel),x.indexOf("c")!==-1&&p(m.caxis,r.cLabel)}return r.extraText=o.join("<br>"),r.hovertemplate=l.hovertemplate,g}},34864:function(H,U,e){H.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(H,U,e){var d=e(96504);H.exports=function(n,L,w){var v=L.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var g=L.xaxis,r=L.yaxis,t={xaxis:g,yaxis:r,plot:v,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},i=L.layers.frontplot.select("g.scatterlayer"),a=0;a<w.length;a++){var u=w[a];u.length&&(u[0].trace._xA=g,u[0].trace._yA=r)}d(n,t,w,i)}},44524:function(H,U,e){var d=e(52904),C=e(49084),n=e(29736).axisHoverFormat,L=e(21776).Ks,w=e(2876),v=e(33816).idRegex,g=e(31780).templatedArray,r=e(92880).extendFlat,t=d.marker,i=t.line,a=r(C("marker.line",{editTypeOverride:"calc"}),{width:r({},i.width,{editType:"calc"}),editType:"calc"}),u=r(C("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:a,editType:"calc"});u.color.editType=u.cmin.editType=u.cmax.editType="style";function f(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}H.exports={dimensions:g("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},w.text,{}),hovertext:r({},w.hovertext,{}),hovertemplate:L(),xhoverformat:n("x"),yhoverformat:n("y"),marker:u,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:w.selected.marker,editType:"calc"},unselected:{marker:w.unselected.marker,editType:"calc"},opacity:w.opacity}},28888:function(H,U,e){var d=e(24040),C=e(12704);H.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},d.register(C)},99332:function(H,U,e){var d=e(13472),C=e(24040),n=e(5048),L=e(84888)._M,w=e(57952),v=e(79811).getFromId,g=e(54460).shouldShowZeroLine,r="splom",t={};function i(h){var T=h._fullLayout,c=C.getModule(r),o=L(h.calcdata,c)[0],p=n(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);p&&(T._hasOnlyLargeSploms&&f(h),c.plot(h,{},o))}function a(h){var T=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&f(h);for(var o=0;o<T.length;o++){var p=T[o][0],x=p.trace,A=c._splomScenes[x.uid];x.type==="splom"&&A&&A.matrix&&u(h,x,A)}}function u(h,T,c){for(var o=c.matrixOptions.data.length,p=T._visibleDims,x=c.viewOpts.ranges=new Array(o),A=0;A<p.length;A++){var _=p[A],y=x[A]=new Array(4),E=v(h,T._diag[_][0]);E&&(y[0]=E.r2l(E.range[0]),y[2]=E.r2l(E.range[1]));var M=v(h,T._diag[_][1]);M&&(y[1]=M.r2l(M.range[0]),y[3]=M.r2l(M.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:x},{ranges:x}):c.matrix.update({ranges:x})}function f(h){var T=h._fullLayout,c=T._glcanvas.data()[0].regl,o=T._splomGrid;o||(o=T._splomGrid=d(c)),o.update(l(h))}function l(h){var T=h._context.plotGlPixelRatio,c=h._fullLayout,o=c._size,p=[0,0,c.width*T,c.height*T],x={},A;function _(X,ee,ne,q,se,J){ne*=T,q*=T,se*=T,J*=T;var Z=ee[X+"color"],te=ee[X+"width"],Y=String(Z+te);Y in x?x[Y].data.push(NaN,NaN,ne,q,se,J):x[Y]={data:[ne,q,se,J],join:"rect",thickness:te*T,color:Z,viewport:p,range:p,overlay:!1}}for(A in c._splomSubplots){var y=c._plots[A],E=y.xaxis,M=y.yaxis,s=E._gridVals,S=M._gridVals,b=E._offset,I=E._length,D=M._length,B=o.b+M.domain[0]*o.h,k=-M._m,F=-k*M.r2l(M.range[0],M.calendar),N,O;if(E.showgrid)for(A=0;A<s.length;A++)N=b+E.l2p(s[A].x),_("grid",E,N,B,N,B+D);if(M.showgrid)for(A=0;A<S.length;A++)O=B+F+k*S[A].x,_("grid",M,b,O,b+I,O);g(h,E,M)&&(N=b+E.l2p(0),_("zeroline",E,N,B,N,B+D)),g(h,M,E)&&(O=B+F+0,_("zeroline",M,b,O,b+I,O))}var V=[];for(A in x)V.push(x[A]);return V}function m(h,T,c,o){var p={},x;if(o._splomScenes){for(x=0;x<h.length;x++){var A=h[x];A.type==="splom"&&(p[A.uid]=1)}for(x=0;x<c.length;x++){var _=c[x];if(!p[_.uid]){var y=o._splomScenes[_.uid];y&&y.destroy&&y.destroy(),o._splomScenes[_.uid]=null,delete o._splomScenes[_.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!T._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),w.clean(h,T,c,o)}H.exports={name:r,attr:w.attr,attrRegex:w.attrRegex,layoutAttributes:w.layoutAttributes,supplyLayoutDefaults:w.supplyLayoutDefaults,drawFramework:w.drawFramework,plot:i,drag:a,updateGrid:f,clean:m,updateFx:w.updateFx,toSVG:w.toSVG,reglPrecompiled:t}},66821:function(H,U,e){var d=e(3400),C=e(79811),n=e(16356).calcMarkerSize,L=e(16356).calcAxisExpansion,w=e(90136),v=e(84236).markerSelection,g=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,i=e(67072).TOO_MANY_POINTS;H.exports=function(u,f){var l=f.dimensions,m=f._length,h={},T=h.cdata=[],c=h.data=[],o=f._visibleDims=[],p,x,A,_,y;function E(I,D){for(var B=I.makeCalcdata({v:D.values,vcalendar:f.calendar},"v"),k=0;k<B.length;k++)B[k]=B[k]===t?NaN:B[k];T.push(B),c.push(I.type==="log"?d.simpleMap(B,I.c2l):B)}for(p=0;p<l.length;p++)if(A=l[p],A.visible){if(_=C.getFromId(u,f._diag[p][0]),y=C.getFromId(u,f._diag[p][1]),_&&y&&_.type!==y.type){d.log("Skipping splom dimension "+p+" with conflicting axis types");continue}_?(E(_,A),y&&y.type==="category"&&(y._categories=_._categories.slice())):E(y,A),o.push(p)}w(u,f),d.extendFlat(h,g(u,f));var M=T.length,s=M*m>i,S;for(s?S=h.sizeAvg||Math.max(h.size,3):S=n(f,m),x=0;x<o.length;x++)p=o[x],A=l[p],_=C.getFromId(u,f._diag[p][0])||{},y=C.getFromId(u,f._diag[p][1])||{},L(u,f,_,y,T[x],T[x],S);var b=r(u,f);return b.matrix||(b.matrix=!0),b.matrixOptions=h,b.selectedOptions=v(u,f,f.selected),b.unselectedOptions=v(u,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},69544:function(H,U,e){var d=e(3400),C=e(51272),n=e(44524),L=e(43028),w=e(74428),v=e(26284),g=e(80088).isOpenSymbol;H.exports=function(a,u,f,l){function m(_,y){return d.coerce(a,u,n,_,y)}var h=C(a,u,{name:"dimensions",handleItemDefaults:r}),T=m("diagonal.visible"),c=m("showupperhalf"),o=m("showlowerhalf"),p=v(u,h,"values");if(!p||!T&&!c&&!o){u.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),w(a,u,f,l,m,{noAngleRef:!0,noStandOff:!0});var x=g(u.marker.symbol),A=L.isBubble(u);m("marker.line.width",x||A?1:0),t(a,u,l,m),d.coerceSelectionMarkerOpacity(u,m)};function r(i,a){function u(l,m){return d.coerce(i,a,n.dimensions,l,m)}u("label");var f=u("values");f&&f.length?u("visible"):a.visible=!1,u("axis.type"),u("axis.matches")}function t(i,a,u,f){var l=a.dimensions,m=l.length,h=a.showupperhalf,T=a.showlowerhalf,c=a.diagonal.visible,o,p,x=new Array(m),A=new Array(m);for(o=0;o<m;o++){var _=o?o+1:"";x[o]="x"+_,A[o]="y"+_}var y=f("xaxes",x),E=f("yaxes",A),M=a._diag=new Array(m);a._xaxes={},a._yaxes={};var s=[],S=[];function b(X,ee,ne,q){if(X){var se=X.charAt(0),J=u._splomAxes[se];if(a["_"+se+"axes"][X]=1,q.push(X),!(X in J)){var Z=J[X]={};ne&&(Z.label=ne.label||"",ne.visible&&ne.axis&&(ne.axis.type&&(Z.type=ne.axis.type),ne.axis.matches&&(Z.matches=ee)))}}}var I=!c&&!T,D=!c&&!h;for(a._axesDim={},o=0;o<m;o++){var B=l[o],k=o===0,F=o===m-1,N=k&&I||F&&D?void 0:y[o],O=k&&D||F&&I?void 0:E[o];b(N,O,B,s),b(O,N,B,S),M[o]=[N,O],a._axesDim[N]=o,a._axesDim[O]=o}for(o=0;o<s.length;o++)for(p=0;p<S.length;p++){var V=s[o]+S[p];(o>p&&h||o<p&&T||o===p&&(c||!T||!h))&&(u._splomSubplots[V]=1)}(!T||!c&&h&&T)&&(u._splomGridDflt.xside="bottom",u._splomGridDflt.yside="left")}},83156:function(H,U,e){var d=e(3400),C=e(90136),n=e(84236).markerStyle;H.exports=function(w,v){var g=v.trace,r=w._fullLayout._splomScenes[g.uid];if(r){C(w,g),d.extendFlat(r.matrixOptions,n(w,g));var t=d.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(H,U){U.getDimIndex=function(d,C){for(var n=C._id,L=n.charAt(0),w={x:0,y:1}[L],v=d._visibleDims,g=0;g<v.length;g++){var r=v[g];if(d._diag[r][w]===n)return g}return!1}},72248:function(H,U,e){var d=e(50328),C=e(41272).calcHover,n=e(54460).getFromId,L=e(92880).extendFlat;function w(g,r,t,i,a){a||(a={});var u=(i||"").charAt(0)==="x",f=(i||"").charAt(0)==="y",l=v(g,r,t);if((u||f)&&a.hoversubplots==="axis"&&l[0])for(var m=(u?g.xa:g.ya)._subplotsWith,h=a.gd,T=L({},g),c=0;c<m.length;c++){var o=m[c];if(o!==g.xa._id+g.ya._id){f?T.xa=n(h,o,"x"):T.ya=n(h,o,"y");var p=u||f,x=v(T,r,t,p);l=l.concat(x)}}return l}function v(g,r,t,i){var a=g.cd,u=a[0].trace,f=g.scene,l=f.matrixOptions.cdata,m=g.xa,h=g.ya,T=m.c2p(r),c=h.c2p(t),o=g.distance,p=d.getDimIndex(u,m),x=d.getDimIndex(u,h);if(p===!1||x===!1)return[g];for(var A=l[p],_=l[x],y,E,M=o,s=0;s<A.length;s++)if(!(i&&s!==g.index)){var S=A[s],b=_[s],I=m.c2p(S)-T,D=h.c2p(b)-c,B=Math.sqrt(I*I+D*D);(i||B<M)&&(M=E=B,y=s)}return g.index=y,g.distance=M,g.dxy=E,y===void 0?[g]:[C(g,A,_,u)]}H.exports={hoverPoints:w}},97924:function(H,U,e){var d=e(28888);d.basePlotModule=e(99332),H.exports=d},54840:function(H,U,e){var d=e(55795),C=e(3400),n=e(79811),L=e(72760).selectMode;H.exports=function(g,r,t){if(t.length)for(var i=0;i<t.length;i++)w(g,t[i][0])};function w(v,g){var r=v._fullLayout,t=r._size,i=g.trace,a=g.t,u=r._splomScenes[i.uid],f=u.matrixOptions,l=f.cdata,m=r._glcanvas.data()[0].regl,h=r.dragmode,T,c,o,p,x;if(l.length!==0){f.lower=i.showupperhalf,f.upper=i.showlowerhalf,f.diagonal=i.diagonal.visible;var A=i._visibleDims,_=l.length,y=u.viewOpts={};for(y.ranges=new Array(_),y.domains=new Array(_),x=0;x<A.length;x++){o=A[x];var E=y.ranges[x]=new Array(4),M=y.domains[x]=new Array(4);T=n.getFromId(v,i._diag[o][0]),T&&(E[0]=T._rl[0],E[2]=T._rl[1],M[0]=T.domain[0],M[2]=T.domain[1]),c=n.getFromId(v,i._diag[o][1]),c&&(E[1]=c._rl[0],E[3]=c._rl[1],M[1]=c.domain[0],M[3]=c.domain[1])}var s=v._context.plotGlPixelRatio,S=t.l*s,b=t.b*s,I=t.w*s,D=t.h*s;y.viewport=[S,b,I+S,D+b],u.matrix===!0&&(u.matrix=d(m));var B=r.clickmode.indexOf("select")>-1,k=L(h)||!!i.selectedpoints||B,F=!0;if(k){var N=i._length;if(i.selectedpoints){u.selectBatch=i.selectedpoints;var O=i.selectedpoints,V={};for(o=0;o<O.length;o++)V[O[o]]=!0;var X=[];for(o=0;o<N;o++)V[o]||X.push(o);u.unselectBatch=X}var ee=a.xpx=new Array(_),ne=a.ypx=new Array(_);for(x=0;x<A.length;x++){if(o=A[x],T=n.getFromId(v,i._diag[o][0]),T)for(ee[x]=new Array(N),p=0;p<N;p++)ee[x][p]=T.c2p(l[x][p]);if(c=n.getFromId(v,i._diag[o][1]),c)for(ne[x]=new Array(N),p=0;p<N;p++)ne[x][p]=c.c2p(l[x][p])}if(u.selectBatch.length||u.unselectBatch.length){var q=C.extendFlat({},f,u.unselectedOptions,y),se=C.extendFlat({},f,u.selectedOptions,y);u.matrix.update(q,se),F=!1}}else a.xpx=a.ypx=null;if(F){var J=C.extendFlat({},f,y);u.matrix.update(J,null)}}}},72308:function(H,U,e){var d=e(3400);H.exports=function(n,L){var w=n._fullLayout,v=L.uid,g=w._splomScenes;g||(g=w._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},i=g[L.uid];return i||(i=g[v]=d.extendFlat({},r,t),i.draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||d.extendFlat(i,r),i}},62500:function(H,U,e){var d=e(3400),C=d.pushUnique,n=e(43028),L=e(50328);H.exports=function(v,g){var r=v.cd,t=r[0].trace,i=r[0].t,a=v.scene,u=a.matrixOptions.cdata,f=v.xaxis,l=v.yaxis,m=[];if(!a)return m;var h=!n.hasMarkers(t)&&!n.hasText(t);if(t.visible!==!0||h)return m;var T=L.getDimIndex(t,f),c=L.getDimIndex(t,l);if(T===!1||c===!1)return m;var o=i.xpx[T],p=i.ypx[c],x=u[T],A=u[c],_=(v.scene.selectBatch||[]).slice(),y=[];if(g!==!1&&!g.degenerate)for(var E=0;E<x.length;E++)g.contains([o[E],p[E]],null,E,v)?(m.push({pointNumber:E,x:x[E],y:A[E]}),C(_,E)):_.indexOf(E)!==-1?C(_,E):y.push(E);var M=a.matrixOptions;return!_.length&&!y.length?a.matrix.update(M,null):!a.selectBatch.length&&!a.unselectBatch.length&&a.matrix.update(a.unselectedOptions,d.extendFlat({},M,a.selectedOptions,a.viewOpts)),a.selectBatch=_,a.unselectBatch=y,m}},90167:function(H,U,e){var d=e(49084),C=e(29736).axisHoverFormat,n=e(21776).Ks,L=e(52948),w=e(45464),v=e(92880).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:C("u",1),vhoverformat:C("v",1),whoverformat:C("w",1),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),showlegend:v({},w.showlegend,{dflt:!1})};v(g,d("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){g[t]=L[t]}),g.hoverinfo=v({},w.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,H.exports=g},3832:function(H,U,e){var d=e(3400),C=e(47128);function n(g,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=L(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var i=0,a,u,f;r.starts&&(a=v(r.starts.x||[]),u=v(r.starts.y||[]),f=v(r.starts.z||[]),i=Math.min(a.length,u.length,f.length)),r._startsX=a||[],r._startsY=u||[],r._startsZ=f||[];var l=0,m=1/0,h;for(h=0;h<r._len;h++){var T=r._u[h],c=r._v[h],o=r._w[h],p=Math.sqrt(T*T+c*c+o*o);l=Math.max(l,p),m=Math.min(m,p)}for(C(g,r,{vals:[m,l],containerStr:"",cLetter:"c"}),h=0;h<i;h++){var x=a[h];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var A=u[h];t.yMax=Math.max(t.yMax,A),t.yMin=Math.min(t.yMin,A);var _=f[h];t.zMax=Math.max(t.zMax,_),t.zMin=Math.min(t.zMin,_)}r._slen=i,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function L(g){var r=g._x,t=g._y,i=g._z,a=g._len,u,f,l,m=-1/0,h=1/0,T=-1/0,c=1/0,o=-1/0,p=1/0,x="",A,_,y,E,M,s,S,b,I;for(a&&(E=r[0],s=t[0],b=i[0]),a>1&&(M=r[a-1],S=t[a-1],I=i[a-1]),u=0;u<a;u++)m=Math.max(m,r[u]),h=Math.min(h,r[u]),T=Math.max(T,t[u]),c=Math.min(c,t[u]),o=Math.max(o,i[u]),p=Math.min(p,i[u]),!A&&r[u]!==E&&(A=!0,x+="x"),!_&&t[u]!==s&&(_=!0,x+="y"),!y&&i[u]!==b&&(y=!0,x+="z");A||(x+="x"),_||(x+="y"),y||(x+="z");var D=w(g._x),B=w(g._y),k=w(g._z);x=x.replace("x",(E>M?"-":"+")+"x"),x=x.replace("y",(s>S?"-":"+")+"y"),x=x.replace("z",(b>I?"-":"+")+"z");var F=function(){a=0,D=[],B=[],k=[]};(!a||a<D.length*B.length*k.length)&&F();var N=function(he){return he==="x"?r:he==="y"?t:i},O=function(he){return he==="x"?D:he==="y"?B:k},V=function(he){return he[a-1]<he[0]?-1:1},X=N(x[1]),ee=N(x[3]),ne=N(x[5]),q=O(x[1]).length,se=O(x[3]).length,J=O(x[5]).length,Z=!1,te=function(he,xe,Se){return q*(se*he+xe)+Se},Y=V(N(x[1])),ie=V(N(x[3])),le=V(N(x[5]));for(u=0;u<J-1;u++){for(f=0;f<se-1;f++){for(l=0;l<q-1;l++){var j=te(u,f,l),K=te(u,f,l+1),ue=te(u,f+1,l),ae=te(u+1,f,l);if((!(X[j]*Y<X[K]*Y)||!(ee[j]*ie<ee[ue]*ie)||!(ne[j]*le<ne[ae]*le))&&(Z=!0),Z)break}if(Z)break}if(Z)break}return Z&&(d.warn("Encountered arbitrary coordinates! Unable to input data grid."),F()),{xMin:h,yMin:c,zMin:p,xMax:m,yMax:T,zMax:o,Xs:D,Ys:B,Zs:k,len:a,fill:x}}function w(g){return d.distinctVals(g).vals}function v(g,r){if(r===void 0&&(r=g.length),d.isTypedArray(g))return g.subarray(0,r);for(var t=[],i=0;i<r;i++)t[i]=+g[i];return t}H.exports={calc:n,filter:v,processGrid:L}},25668:function(H,U,e){var d=e(67792).gl_streamtube3d,C=d.createTubeMesh,n=e(3400),L=e(33040).parseColorScale,w=e(8932).extractOpts,v=e(52094),g={xaxis:0,yaxis:1,zaxis:2};function r(l,m){this.scene=l,this.uid=m,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var m=this.scene.fullSceneLayout,h=this.scene.dataScale;function T(p,x){var A=m[x],_=h[g[x]];return A.l2c(p)/_}if(l.object===this.mesh){var c=l.data.position,o=l.data.velocity;return l.traceCoordinate=[T(c[0],"xaxis"),T(c[1],"yaxis"),T(c[2],"zaxis"),T(o[0],"xaxis"),T(o[1],"yaxis"),T(o[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function i(l){var m=l.length,h;return m>2?h=l.slice(1,m-1):m===2?h=[(l[0]+l[1])/2]:h=l,h}function a(l){var m=l.length;return m===1?[.5,.5]:[l[1]-l[0],l[m-1]-l[m-2]]}function u(l,m){var h=l.fullSceneLayout,T=l.dataScale,c=m._len,o={};function p(se,J){var Z=h[J],te=T[g[J]];return n.simpleMap(se,function(Y){return Z.d2l(Y)*te})}if(o.vectors=v(p(m._u,"xaxis"),p(m._v,"yaxis"),p(m._w,"zaxis"),c),!c)return{positions:[],cells:[]};var x=p(m._Xs,"xaxis"),A=p(m._Ys,"yaxis"),_=p(m._Zs,"zaxis");o.meshgrid=[x,A,_],o.gridFill=m._gridFill;var y=m._slen;if(y)o.startingPositions=v(p(m._startsX,"xaxis"),p(m._startsY,"yaxis"),p(m._startsZ,"zaxis"));else{for(var E=A[0],M=i(x),s=i(_),S=new Array(M.length*s.length),b=0,I=0;I<M.length;I++)for(var D=0;D<s.length;D++)S[b++]=[M[I],E,s[D]];o.startingPositions=S}o.colormap=L(m),o.tubeSize=m.sizeref,o.maxLength=m.maxdisplayed;var B=p(m._xbnds,"xaxis"),k=p(m._ybnds,"yaxis"),F=p(m._zbnds,"zaxis"),N=a(x),O=a(A),V=a(_),X=[[B[0]-N[0],k[0]-O[0],F[0]-V[0]],[B[1]+N[1],k[1]+O[1],F[1]+V[1]]],ee=d(o,X),ne=w(m);ee.vertexIntensityBounds=[ne.min/m._normMax,ne.max/m._normMax];var q=m.lightposition;return ee.lightPosition=[q.x,q.y,q.z],ee.ambient=m.lighting.ambient,ee.diffuse=m.lighting.diffuse,ee.specular=m.lighting.specular,ee.roughness=m.lighting.roughness,ee.fresnel=m.lighting.fresnel,ee.opacity=m.opacity,m._pad=ee.tubeScale*m.sizeref*2,ee}t.update=function(l){this.data=l;var m=u(this.scene,l);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(l,m){var h=l.glplot.gl,T=u(l,m),c=C(h,T),o=new r(l,m.uid);return o.mesh=c,o.data=m,c._trace=o,l.glplot.add(c),o}H.exports=f},54304:function(H,U,e){var d=e(3400),C=e(27260),n=e(90167);H.exports=function(w,v,g,r){function t(h,T){return d.coerce(w,v,n,h,T)}var i=t("u"),a=t("v"),u=t("w"),f=t("x"),l=t("y"),m=t("z");if(!i||!i.length||!a||!a.length||!u||!u.length||!f||!f.length||!l||!l.length||!m||!m.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),C(w,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(H,U,e){H.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(d,C){return d.tubex=d.x,d.tubey=d.y,d.tubez=d.z,d.tubeu=C.traceCoordinate[3],d.tubev=C.traceCoordinate[4],d.tubew=C.traceCoordinate[5],d.norm=C.traceCoordinate[6],d.divergence=C.traceCoordinate[7],delete d.x,delete d.y,delete d.z,d},meta:{}}},424:function(H,U,e){var d=e(45464),C=e(21776).Ks,n=e(21776).Gw,L=e(49084),w=e(86968).u,v=e(74996),g=e(27328),r=e(92880).extendFlat,t=e(98192).c;H.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:n({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},d.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:C({},{keys:g.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:w({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(H,U,e){var d=e(7316);U.name="sunburst",U.plot=function(C,n,L,w){d.plotBasePlot(U.name,C,n,L,w)},U.clean=function(C,n,L,w){d.cleanBasePlot(U.name,C,n,L,w)}},3776:function(H,U,e){var d=e(74148),C=e(38248),n=e(3400),L=e(8932).makeColorScaleFuncFromTrace,w=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,g=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},i={},a={};U.calc=function(f,l){var m=f._fullLayout,h=l.ids,T=n.isArrayOrTypedArray(h),c=l.labels,o=l.parents,p=l.values,x=n.isArrayOrTypedArray(p),A=[],_={},y={},E=function(Y,ie){_[Y]?_[Y].push(ie):_[Y]=[ie],y[ie]=1},M=function(Y){return Y||typeof Y=="number"},s=function(Y){return!x||C(p[Y])&&p[Y]>=0},S,b,I;T?(S=Math.min(h.length,o.length),b=function(Y){return M(h[Y])&&s(Y)},I=function(Y){return String(h[Y])}):(S=Math.min(c.length,o.length),b=function(Y){return M(c[Y])&&s(Y)},I=function(Y){return String(c[Y])}),x&&(S=Math.min(S,p.length));for(var D=0;D<S;D++)if(b(D)){var B=I(D),k=M(o[D])?String(o[D]):"",F={i:D,id:B,pid:k,label:M(c[D])?String(c[D]):""};x&&(F.v=+p[D]),A.push(F),E(k,B)}if(_[""]){if(_[""].length>1){for(var V=n.randstr(),X=0;X<A.length;X++)A[X].pid===""&&(A[X].pid=V);A.unshift({hasMultipleRoots:!0,id:V,pid:"",label:""})}}else{var N=[],O;for(O in _)y[O]||N.push(O);if(N.length===1)O=N[0],A.unshift({hasImpliedRoot:!0,id:O,pid:"",label:O});else return n.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",N.join(", ")].join(" "))}var ee;try{ee=d.stratify().id(function(Y){return Y.id}).parentId(function(Y){return Y.pid})(A)}catch(Y){return n.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",Y.message].join(" "))}var ne=d.hierarchy(ee),q=!1;if(x)switch(l.branchvalues){case"remainder":ne.sum(function(Y){return Y.data.v});break;case"total":ne.each(function(Y){var ie=Y.data.data,le=ie.v;if(Y.children){var j=Y.children.reduce(function(K,ue){return K+ue.data.data.v},0);if((ie.hasImpliedRoot||ie.hasMultipleRoots)&&(le=j),le<j*r)return q=!0,n.warn(["Total value for node",Y.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,le,`
children sum =`,j].join(" "))}Y.value=le});break}else u(ne,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!q){l.sort&&ne.sort(function(Y,ie){return ie.value-Y.value});var se,J,Z=l.marker.colors||[],te=!!Z.length;return l._hasColorscale?(te||(Z=x?l.values:l._values),g(f,l,{vals:Z,containerStr:"marker",cLetter:"c"}),J=L(l.marker)):se=w(m["_"+l.type+"colormap"]),ne.each(function(Y){var ie=Y.data.data;ie.color=l._hasColorscale?J(Z[ie.i]):se(Z[ie.i],ie.id)}),A[0].hierarchy=ne,A}},U._runCrossTraceCalc=function(f,l){var m=l._fullLayout,h=l.calcdata,T=m[f+"colorway"],c=m["_"+f+"colormap"];m["extend"+f+"colors"]&&(T=v(T,f==="icicle"?a:f==="treemap"?i:t));var o=0,p;function x(E){var M=E.data.data,s=M.id;M.color===!1&&(c[s]?M.color=c[s]:E.parent?E.parent.parent?M.color=E.parent.data.data.color:(c[s]=M.color=T[o%T.length],o++):M.color=p)}for(var A=0;A<h.length;A++){var _=h[A],y=_[0];y.trace.type===f&&y.hierarchy&&(p=y.trace.root.color,y.hierarchy.each(x))}},U.crossTraceCalc=function(f){return U._runCrossTraceCalc("sunburst",f)};function u(f,l,m){var h=0,T=f.children;if(T){for(var c=T.length,o=0;o<c;o++)h+=u(T[o],l,m);m.branches&&h++}else m.leaves&&h++;return f.value=f.data.data.value=h,l._values||(l._values=[]),l._values[f.data.data.i]=h,h}},27328:function(H){H.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(H,U,e){var d=e(3400),C=e(424),n=e(86968).Q,L=e(31508).handleText,w=e(74174).handleMarkerDefaults,v=e(8932),g=v.hasColorscale,r=v.handleDefaults;H.exports=function(i,a,u,f){function l(x,A){return d.coerce(i,a,C,x,A)}var m=l("labels"),h=l("parents");if(!m||!m.length||!h||!h.length){a.visible=!1;return}var T=l("values");T&&T.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),w(i,a,f,l);var c=a._hasColorscale=g(i,"marker","colors")||(i.marker||{}).coloraxis;c&&r(i,a,f,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",c?1:.7);var o=l("text");l("texttemplate"),a.texttemplate||l("textinfo",d.isArrayOrTypedArray(o)?"text+label":"label"),l("hovertext"),l("hovertemplate");var p="auto";L(i,a,f,l,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),n(a,f,l),a._length=null}},60404:function(H,U,e){var d=e(43616),C=e(76308);H.exports=function(L,w,v,g,r){var t=w.data.data,i=t.i,a=r||t.color;if(i>=0){w.i=t.i;var u=v.marker;u.pattern?(!u.colors||!u.pattern.shape)&&(u.color=a,w.color=a):(u.color=a,w.color=a),d.pointStyle(L,v,g,w)}else C.fill(L,a)}},45716:function(H,U,e){var d=e(33428),C=e(24040),n=e(10624).appendArrayPointValue,L=e(93024),w=e(3400),v=e(95924),g=e(78176),r=e(69656),t=r.formatPieValue;H.exports=function(u,f,l,m,h){var T=m[0],c=T.trace,o=T.hierarchy,p=c.type==="sunburst",x=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var A=function(E){var M=l._fullLayout;if(!(l._dragging||M.hovermode===!1)){var s=l._fullData[c.index],S=E.data.data,b=S.i,I=g.isHierarchyRoot(E),D=g.getParent(o,E),B=g.getValue(E),k=function(K){return w.castOption(s,b,K)},F=k("hovertemplate"),N=L.castHoverinfo(s,M,b),O=M.separators,V;if(F||N&&N!=="none"&&N!=="skip"){var X,ee;p&&(X=T.cx+E.pxmid[0]*(1-E.rInscribed),ee=T.cy+E.pxmid[1]*(1-E.rInscribed)),x&&(X=E._hoverX,ee=E._hoverY);var ne={},q=[],se=[],J=function(K){return q.indexOf(K)!==-1};N&&(q=N==="all"?s._module.attributes.hoverinfo.flags:N.split("+")),ne.label=S.label,J("label")&&ne.label&&se.push(ne.label),S.hasOwnProperty("v")&&(ne.value=S.v,ne.valueLabel=t(ne.value,O),J("value")&&se.push(ne.valueLabel)),ne.currentPath=E.currentPath=g.getPath(E.data),J("current path")&&!I&&se.push(ne.currentPath);var Z,te=[],Y=function(){te.indexOf(Z)===-1&&(se.push(Z),te.push(Z))};ne.percentParent=E.percentParent=B/g.getValue(D),ne.parent=E.parentString=g.getPtLabel(D),J("percent parent")&&(Z=g.formatPercent(ne.percentParent,O)+" of "+ne.parent,Y()),ne.percentEntry=E.percentEntry=B/g.getValue(f),ne.entry=E.entry=g.getPtLabel(f),J("percent entry")&&!I&&!E.onPathbar&&(Z=g.formatPercent(ne.percentEntry,O)+" of "+ne.entry,Y()),ne.percentRoot=E.percentRoot=B/g.getValue(o),ne.root=E.root=g.getPtLabel(o),J("percent root")&&!I&&(Z=g.formatPercent(ne.percentRoot,O)+" of "+ne.root,Y()),ne.text=k("hovertext")||k("text"),J("text")&&(Z=ne.text,w.isValidTextValue(Z)&&se.push(Z)),V=[i(E,s,h.eventDataKeys)];var ie={trace:s,y:ee,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:se.join("<br>"),name:F||J("name")?s.name:void 0,color:k("hoverlabel.bgcolor")||S.color,borderColor:k("hoverlabel.bordercolor"),fontFamily:k("hoverlabel.font.family"),fontSize:k("hoverlabel.font.size"),fontColor:k("hoverlabel.font.color"),fontWeight:k("hoverlabel.font.weight"),fontStyle:k("hoverlabel.font.style"),fontVariant:k("hoverlabel.font.variant"),nameLength:k("hoverlabel.namelength"),textAlign:k("hoverlabel.align"),hovertemplate:F,hovertemplateLabels:ne,eventData:V};p&&(ie.x0=X-E.rInscribed*E.rpx1,ie.x1=X+E.rInscribed*E.rpx1,ie.idealAlign=E.pxmid[0]<0?"left":"right"),x&&(ie.x=X,ie.idealAlign=X<0?"left":"right");var le=[];L.loneHover(ie,{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:l,inOut_bbox:le}),V[0].bbox=le[0],c._hasHoverLabel=!0}if(x){var j=u.select("path.surface");h.styleOne(j,E,s,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:V||[i(E,s,h.eventDataKeys)],event:d.event})}},_=function(E){var M=l._fullLayout,s=l._fullData[c.index],S=d.select(this).datum();if(c._hasHoverEvent&&(E.originalEvent=d.event,l.emit("plotly_unhover",{points:[i(S,s,h.eventDataKeys)],event:d.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(L.loneUnhover(M._hoverlayer.node()),c._hasHoverLabel=!1),x){var b=u.select("path.surface");h.styleOne(b,S,s,l,{hovered:!1})}},y=function(E){var M=l._fullLayout,s=l._fullData[c.index],S=p&&(g.isHierarchyRoot(E)||g.isLeaf(E)),b=g.getPtId(E),I=g.isEntry(E)?g.findEntryWithChild(o,b):g.findEntryWithLevel(o,b),D=g.getPtId(I),B={points:[i(E,s,h.eventDataKeys)],event:d.event};S||(B.nextLevel=D);var k=v.triggerHandler(l,"plotly_"+c.type+"click",B);if(k!==!1&&M.hovermode&&(l._hoverdata=[i(E,s,h.eventDataKeys)],L.click(l,d.event)),!S&&k!==!1&&!l._dragging&&!l._transitioning){C.call("_storeDirectGUIEdit",s,M._tracePreGUI[s.uid],{level:s.level});var F={data:[{level:D}],traces:[c.index]},N={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(M._hoverlayer.node()),C.call("animate",l,F,N)}};u.on("mouseover",A),u.on("mouseout",_),u.on("click",y)};function i(a,u,f){for(var l=a.data.data,m={curveNumber:u.index,pointNumber:l.i,data:u._input,fullData:u},h=0;h<f.length;h++){var T=f[h];T in a&&(m[T]=a[T])}return"parentString"in a&&!g.isHierarchyRoot(a)&&(m.parent=a.parentString),n(m,u,l.i),m}},78176:function(H,U,e){var d=e(3400),C=e(76308),n=e(93972),L=e(69656);U.findEntryWithLevel=function(r,t){var i;return t&&r.eachAfter(function(a){if(U.getPtId(a)===t)return i=a.copy()}),i||r},U.findEntryWithChild=function(r,t){var i;return r.eachAfter(function(a){for(var u=a.children||[],f=0;f<u.length;f++){var l=u[f];if(U.getPtId(l)===t)return i=a.copy()}}),i||r},U.isEntry=function(r){return!r.parent},U.isLeaf=function(r){return!r.children},U.getPtId=function(r){return r.data.data.id},U.getPtLabel=function(r){return r.data.data.label},U.getValue=function(r){return r.value},U.isHierarchyRoot=function(r){return g(r)===""},U.setSliceCursor=function(r,t,i){var a=i.isTransitioning;if(!a){var u=r.datum();a=i.hideOnRoot&&U.isHierarchyRoot(u)||i.hideOnLeaves&&U.isLeaf(u)}n(r,a?null:"pointer")};function w(r,t,i){return{color:U.getOutsideTextFontKey("color",r,t,i),family:U.getOutsideTextFontKey("family",r,t,i),size:U.getOutsideTextFontKey("size",r,t,i),weight:U.getOutsideTextFontKey("weight",r,t,i),style:U.getOutsideTextFontKey("style",r,t,i),variant:U.getOutsideTextFontKey("variant",r,t,i)}}function v(r,t,i,a){var u=(a||{}).onPathbar,f=t.data.data,l=f.i,m=d.castOption(r,l,(u?"pathbar.textfont":"insidetextfont")+".color");return!m&&r._input.textfont&&(m=d.castOption(r._input,l,"textfont.color")),{color:m||C.contrast(f.color),family:U.getInsideTextFontKey("family",r,t,i,a),size:U.getInsideTextFontKey("size",r,t,i,a),weight:U.getInsideTextFontKey("weight",r,t,i,a),style:U.getInsideTextFontKey("style",r,t,i,a),variant:U.getInsideTextFontKey("variant",r,t,i,a)}}U.getInsideTextFontKey=function(r,t,i,a,u){var f=(u||{}).onPathbar,l=f?"pathbar.textfont":"insidetextfont",m=i.data.data.i;return d.castOption(t,m,l+"."+r)||d.castOption(t,m,"textfont."+r)||a.size},U.getOutsideTextFontKey=function(r,t,i,a){var u=i.data.data.i;return d.castOption(t,u,"outsidetextfont."+r)||d.castOption(t,u,"textfont."+r)||a.size},U.isOutsideText=function(r,t){return!r._hasColorscale&&U.isHierarchyRoot(t)},U.determineTextFont=function(r,t,i,a){return U.isOutsideText(r,t)?w(r,t,i):v(r,t,i,a)},U.hasTransition=function(r){return!!(r&&r.duration>0)},U.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},U.isHeader=function(r,t){return!(U.isLeaf(r)||r.depth===t._maxDepth-1)};function g(r){return r.data.data.pid}U.getParent=function(r,t){return U.findEntryWithLevel(r,g(t))},U.listPath=function(r,t){var i=r.parent;if(!i)return[];var a=t?[i.data[t]]:[i];return U.listPath(i,t).concat(a)},U.getPath=function(r){return U.listPath(r,"label").join("/")+"/"},U.formatValue=L.formatPieValue,U.formatPercent=function(r,t){var i=d.formatPercent(r,0);return i==="0%"&&(i=L.formatPiePercent(r,t)),i}},5621:function(H,U,e){H.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(H){H.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(H,U,e){var d=e(3400),C=e(84920);H.exports=function(L,w){function v(g,r){return d.coerce(L,w,C,g,r)}v("sunburstcolorway",w.colorway),v("extendsunburstcolors")}},96488:function(H,U,e){var d=e(33428),C=e(74148),n=e(67756).qy,L=e(43616),w=e(3400),v=e(72736),g=e(82744),r=g.recordMinTextSize,t=g.clearMinTextSize,i=e(37820),a=e(69656).getRotationAngle,u=i.computeTransform,f=i.transformInsideText,l=e(85676).styleOne,m=e(60100).resizeText,h=e(45716),T=e(27328),c=e(78176);U.plot=function(y,E,M,s){var S=y._fullLayout,b=S._sunburstlayer,I,D,B=!M,k=!S.uniformtext.mode&&c.hasTransition(M);if(t("sunburst",S),I=b.selectAll("g.trace.sunburst").data(E,function(N){return N[0].trace.uid}),I.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),I.order(),k){s&&(D=s());var F=d.transition().duration(M.duration).ease(M.easing).each("end",function(){D&&D()}).each("interrupt",function(){D&&D()});F.each(function(){b.selectAll("g.trace").each(function(N){o(y,N,this,M)})})}else I.each(function(N){o(y,N,this,M)}),S.uniformtext.mode&&m(y,S._sunburstlayer.selectAll(".trace"),"sunburst");B&&I.exit().remove()};function o(y,E,M,s){var S=y._context.staticPlot,b=y._fullLayout,I=!b.uniformtext.mode&&c.hasTransition(s),D=d.select(M),B=D.selectAll("g.slice"),k=E[0],F=k.trace,N=k.hierarchy,O=c.findEntryWithLevel(N,F.level),V=c.getMaxDepth(F),X=b._size,ee=F.domain,ne=X.w*(ee.x[1]-ee.x[0]),q=X.h*(ee.y[1]-ee.y[0]),se=.5*Math.min(ne,q),J=k.cx=X.l+X.w*(ee.x[1]+ee.x[0])/2,Z=k.cy=X.t+X.h*(1-ee.y[0])-q/2;if(!O)return B.remove();var te=null,Y={};I&&B.each(function(He){Y[c.getPtId(He)]={rpx0:He.rpx0,rpx1:He.rpx1,x0:He.x0,x1:He.x1,transform:He.transform},!te&&c.isEntry(He)&&(te=He)});var ie=p(O).descendants(),le=O.height+1,j=0,K=V;k.hasMultipleRoots&&c.isHierarchyRoot(O)&&(ie=ie.slice(1),le-=1,j=1,K+=1),ie=ie.filter(function(He){return He.y1<=K});var ue=a(F.rotation);ue&&ie.forEach(function(He){He.x0+=ue,He.x1+=ue});var ae=Math.min(le,V),he=function(He){return(He-j)/ae*se},xe=function(He,ft){return[He*Math.cos(ft),-He*Math.sin(ft)]},Se=function(He){return w.pathAnnulus(He.rpx0,He.rpx1,He.x0,He.x1,J,Z)},Ae=function(He){return J+A(He)[0]*(He.transform.rCenter||0)+(He.transform.x||0)},De=function(He){return Z+A(He)[1]*(He.transform.rCenter||0)+(He.transform.y||0)};B=B.data(ie,c.getPtId),B.enter().append("g").classed("slice",!0),I?B.exit().transition().each(function(){var He=d.select(this),ft=He.select("path.surface");ft.transition().attrTween("d",function(ct){var nt=Pe(ct);return function(dt){return Se(nt(dt))}});var gt=He.select("g.slicetext");gt.attr("opacity",0)}).remove():B.exit().remove(),B.order();var we=null;if(I&&te){var Ce=c.getPtId(te);B.each(function(He){we===null&&c.getPtId(He)===Ce&&(we=He.x1)})}var be=B;I&&(be=be.transition().each("end",function(){var He=d.select(this);c.setSliceCursor(He,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),be.each(function(He){var ft=d.select(this),gt=w.ensureSingle(ft,"path","surface",function(Tt){Tt.style("pointer-events",S?"none":"all")});He.rpx0=he(He.y0),He.rpx1=he(He.y1),He.xmid=(He.x0+He.x1)/2,He.pxmid=xe(He.rpx1,He.xmid),He.midangle=-(He.xmid-Math.PI/2),He.startangle=-(He.x0-Math.PI/2),He.stopangle=-(He.x1-Math.PI/2),He.halfangle=.5*Math.min(w.angleDelta(He.x0,He.x1)||Math.PI,Math.PI),He.ring=1-He.rpx0/He.rpx1,He.rInscribed=x(He),I?gt.transition().attrTween("d",function(Tt){var Ct=Ve(Tt);return function(at){return Se(Ct(at))}}):gt.attr("d",Se),ft.call(h,O,y,E,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),gt.call(l,He,F,y);var ct=w.ensureSingle(ft,"g","slicetext"),nt=w.ensureSingle(ct,"text","",function(Tt){Tt.attr("data-notex",1)}),dt=w.ensureUniformFontSize(y,c.determineTextFont(F,He,b.font));nt.text(U.formatSliceLabel(He,O,F,E,b)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,dt).call(v.convertToTspans,y);var pt=L.bBox(nt.node());He.transform=f(pt,He,k),He.transform.targetX=Ae(He),He.transform.targetY=De(He);var wt=function(Tt,Ct){var at=Tt.transform;return u(at,Ct),at.fontSize=dt.size,r(F.type,at,b),w.getTextTransform(at)};I?nt.transition().attrTween("transform",function(Tt){var Ct=Ge(Tt);return function(at){return wt(Ct(at),pt)}}):nt.attr("transform",wt(He,pt))});function Pe(He){var ft=c.getPtId(He),gt=Y[ft],ct=Y[c.getPtId(O)],nt;if(ct){var dt=(He.x1>ct.x1?2*Math.PI:0)+ue;nt=He.rpx1<ct.rpx1?{x0:He.x0,x1:He.x1,rpx0:0,rpx1:0}:{x0:dt,x1:dt,rpx0:He.rpx0,rpx1:He.rpx1}}else{var pt,wt=c.getPtId(He.parent);B.each(function(je){if(c.getPtId(je)===wt)return pt=je});var Tt=pt.children,Ct;Tt.forEach(function(je,Je){if(c.getPtId(je)===ft)return Ct=Je});var at=Tt.length,ze=n(pt.x0,pt.x1);nt={rpx0:se,rpx1:se,x0:ze(Ct/at),x1:ze((Ct+1)/at)}}return n(gt,nt)}function Ve(He){var ft=Y[c.getPtId(He)],gt,ct={x0:He.x0,x1:He.x1,rpx0:He.rpx0,rpx1:He.rpx1};if(ft)gt=ft;else if(te)if(He.parent)if(we){var nt=(He.x1>we?2*Math.PI:0)+ue;gt={x0:nt,x1:nt}}else gt={rpx0:se,rpx1:se},w.extendFlat(gt,Fe(He));else gt={rpx0:0,rpx1:0};else gt={x0:ue,x1:ue};return n(gt,ct)}function Ge(He){var ft=Y[c.getPtId(He)],gt,ct=He.transform;if(ft)gt=ft;else if(gt={rpx1:He.rpx1,transform:{textPosAngle:ct.textPosAngle,scale:0,rotate:ct.rotate,rCenter:ct.rCenter,x:ct.x,y:ct.y}},te)if(He.parent)if(we){var nt=He.x1>we?2*Math.PI:0;gt.x0=gt.x1=nt}else w.extendFlat(gt,Fe(He));else gt.x0=gt.x1=ue;else gt.x0=gt.x1=ue;var dt=n(gt.transform.textPosAngle,He.transform.textPosAngle),pt=n(gt.rpx1,He.rpx1),wt=n(gt.x0,He.x0),Tt=n(gt.x1,He.x1),Ct=n(gt.transform.scale,ct.scale),at=n(gt.transform.rotate,ct.rotate),ze=ct.rCenter===0?3:gt.transform.rCenter===0?1/3:1,je=n(gt.transform.rCenter,ct.rCenter),Je=function(Xe){return je(Math.pow(Xe,ze))};return function(Xe){var Oe=pt(Xe),ke=wt(Xe),Ke=Tt(Xe),Ie=Je(Xe),pe=xe(Oe,(ke+Ke)/2),Te=dt(Xe),Ue={pxmid:pe,rpx1:Oe,transform:{textPosAngle:Te,rCenter:Ie,x:ct.x,y:ct.y}};return r(F.type,ct,b),{transform:{targetX:Ae(Ue),targetY:De(Ue),scale:Ct(Xe),rotate:at(Xe),rCenter:Ie}}}}function Fe(He){var ft=He.parent,gt=Y[c.getPtId(ft)],ct={};if(gt){var nt=ft.children,dt=nt.indexOf(He),pt=nt.length,wt=n(gt.x0,gt.x1);ct.x0=wt(dt/pt),ct.x1=wt(dt/pt)}else ct.x0=ct.x1=0;return ct}}function p(y){return C.partition().size([2*Math.PI,y.height+1])(y)}U.formatSliceLabel=function(y,E,M,s,S){var b=M.texttemplate,I=M.textinfo;if(!b&&(!I||I==="none"))return"";var D=S.separators,B=s[0],k=y.data.data,F=B.hierarchy,N=c.isHierarchyRoot(y),O=c.getParent(F,y),V=c.getValue(y);if(!b){var X=I.split("+"),ee=function(j){return X.indexOf(j)!==-1},ne=[],q;if(ee("label")&&k.label&&ne.push(k.label),k.hasOwnProperty("v")&&ee("value")&&ne.push(c.formatValue(k.v,D)),!N){ee("current path")&&ne.push(c.getPath(y.data));var se=0;ee("percent parent")&&se++,ee("percent entry")&&se++,ee("percent root")&&se++;var J=se>1;if(se){var Z,te=function(j){q=c.formatPercent(Z,D),J&&(q+=" of "+j),ne.push(q)};ee("percent parent")&&!N&&(Z=V/c.getValue(O),te("parent")),ee("percent entry")&&(Z=V/c.getValue(E),te("entry")),ee("percent root")&&(Z=V/c.getValue(F),te("root"))}}return ee("text")&&(q=w.castOption(M,k.i,"text"),w.isValidTextValue(q)&&ne.push(q)),ne.join("<br>")}var Y=w.castOption(M,k.i,"texttemplate");if(!Y)return"";var ie={};k.label&&(ie.label=k.label),k.hasOwnProperty("v")&&(ie.value=k.v,ie.valueLabel=c.formatValue(k.v,D)),ie.currentPath=c.getPath(y.data),N||(ie.percentParent=V/c.getValue(O),ie.percentParentLabel=c.formatPercent(ie.percentParent,D),ie.parent=c.getPtLabel(O)),ie.percentEntry=V/c.getValue(E),ie.percentEntryLabel=c.formatPercent(ie.percentEntry,D),ie.entry=c.getPtLabel(E),ie.percentRoot=V/c.getValue(F),ie.percentRootLabel=c.formatPercent(ie.percentRoot,D),ie.root=c.getPtLabel(F),k.hasOwnProperty("color")&&(ie.color=k.color);var le=w.castOption(M,k.i,"text");return(w.isValidTextValue(le)||le==="")&&(ie.text=le),ie.customdata=w.castOption(M,k.i,"customdata"),w.texttemplateString(Y,ie,S._d3locale,ie,M._meta||{})};function x(y){return y.rpx0===0&&w.isFullCircle([y.x0,y.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(y.halfangle)),y.ring/2))}function A(y){return _(y.rpx1,y.transform.textPosAngle)}function _(y,E){return[y*Math.sin(E),-y*Math.cos(E)]}},85676:function(H,U,e){var d=e(33428),C=e(76308),n=e(3400),L=e(82744).resizeText,w=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");L(r,t,"sunburst"),t.each(function(i){var a=d.select(this),u=i[0],f=u.trace;a.style("opacity",f.opacity),a.selectAll("path.surface").each(function(l){d.select(this).call(g,l,f,r)})})}function g(r,t,i,a){var u=t.data.data,f=!t.children,l=u.i,m=n.castOption(i,l,"marker.line.color")||C.defaultLine,h=n.castOption(i,l,"marker.line.width")||0;r.call(w,t,i,a).style("stroke-width",h).call(C.stroke,m).style("opacity",f?i.leaf.opacity:null)}H.exports={style:v,styleOne:g}},16716:function(H,U,e){var d=e(76308),C=e(49084),n=e(29736).axisHoverFormat,L=e(21776).Ks,w=e(45464),v=e(92880).extendFlat,g=e(67824).overrideAll;function r(a){return{valType:"boolean",dflt:!1}}function t(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:d.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:d.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=H.exports=g(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},C("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},C.zauto,{}),zmin:v({},C.zmin,{}),zmax:v({},C.zmax,{})},hoverinfo:v({},w.hoverinfo),showlegend:v({},w.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(H,U,e){var d=e(47128);H.exports=function(n,L){L.surfacecolor?d(n,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):d(n,L,{vals:L.z,containerStr:"",cLetter:"c"})}},79164:function(H,U,e){var d=e(67792).gl_surface3d,C=e(67792).ndarray,n=e(67792).ndarray_linear_interpolate.d2,L=e(70448),w=e(11240),v=e(3400).isArrayOrTypedArray,g=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function i(s,S,b){this.scene=s,this.uid=b,this.surface=S,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var a=i.prototype;a.getXat=function(s,S,b,I){var D=v(this.data.x)?v(this.data.x[0])?this.data.x[S][s]:this.data.x[s]:s;return b===void 0?D:I.d2l(D,0,b)},a.getYat=function(s,S,b,I){var D=v(this.data.y)?v(this.data.y[0])?this.data.y[S][s]:this.data.y[S]:S;return b===void 0?D:I.d2l(D,0,b)},a.getZat=function(s,S,b,I){var D=this.data.z[S][s];return D===null&&this.data.connectgaps&&this.data._interpolatedZ&&(D=this.data._interpolatedZ[S][s]),b===void 0?D:I.d2l(D,0,b)},a.handlePick=function(s){if(s.object===this.surface){var S=(s.data.index[0]-1)/this.dataScaleX-1,b=(s.data.index[1]-1)/this.dataScaleY-1,I=Math.max(Math.min(Math.round(S),this.data.z[0].length-1),0),D=Math.max(Math.min(Math.round(b),this.data._ylength-1),0);s.index=[I,D],s.traceCoordinate=[this.getXat(I,D),this.getYat(I,D),this.getZat(I,D)],s.dataCoordinate=[this.getXat(I,D,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(I,D,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(I,D,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var B=0;B<3;B++){var k=s.dataCoordinate[B];k!=null&&(s.dataCoordinate[B]*=this.scene.dataScale[B])}var F=this.data.hovertext||this.data.text;return v(F)&&F[D]&&F[D][I]!==void 0?s.textLabel=F[D][I]:F?s.textLabel=F:s.textLabel="",s.data.dataCoordinate=s.dataCoordinate.slice(),this.surface.highlight(s.data),this.scene.glplot.spikes.position=s.dataCoordinate,!0}};function u(s){var S=s[0].rgb,b=s[s.length-1].rgb;return S[0]===b[0]&&S[1]===b[1]&&S[2]===b[2]&&S[3]===b[3]}var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(s,S){if(s<S)return 0;for(var b=0;Math.floor(s%S)===0;)s/=S,b++;return b}function m(s){for(var S=[],b=0;b<f.length;b++){var I=f[b];S.push(l(s,I))}return S}function h(s){for(var S=m(s),b=s,I=0;I<f.length;I++)if(S[I]>0){b=f[I];break}return b}function T(s,S){if(!(s<1||S<1)){for(var b=m(s),I=m(S),D=1,B=0;B<f.length;B++)D*=Math.pow(f[B],Math.max(b[B],I[B]));return D}}function c(s){if(s.length!==0){for(var S=1,b=0;b<s.length;b++)S=T(S,s[b]);return S}}a.calcXnums=function(s){var S,b=[];for(S=1;S<s;S++){var I=this.getXat(S-1,0),D=this.getXat(S,0);D!==I&&I!==void 0&&I!==null&&D!==void 0&&D!==null?b[S-1]=Math.abs(D-I):b[S-1]=0}var B=0;for(S=1;S<s;S++)B+=b[S-1];for(S=1;S<s;S++)b[S-1]===0?b[S-1]=1:b[S-1]=Math.round(B/b[S-1]);return b},a.calcYnums=function(s){var S,b=[];for(S=1;S<s;S++){var I=this.getYat(0,S-1),D=this.getYat(0,S);D!==I&&I!==void 0&&I!==null&&D!==void 0&&D!==null?b[S-1]=Math.abs(D-I):b[S-1]=0}var B=0;for(S=1;S<s;S++)B+=b[S-1];for(S=1;S<s;S++)b[S-1]===0?b[S-1]=1:b[S-1]=Math.round(B/b[S-1]);return b};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=o[9],x=o[13];a.estimateScale=function(s,S){for(var b=S===0?this.calcXnums(s):this.calcYnums(s),I=1+c(b);I<p;)I*=2;for(;I>x;)I--,I/=h(I),I++,I<p&&(I=x);var D=Math.round(I/s);return D>1?D:1};function A(s,S,b){var I=b[8]+b[2]*S[0]+b[5]*S[1];return s[0]=(b[6]+b[0]*S[0]+b[3]*S[1])/I,s[1]=(b[7]+b[1]*S[0]+b[4]*S[1])/I,s}function _(s,S,b){return y(s,S,A,b),s}function y(s,S,b,I){for(var D=[0,0],B=s.shape[0],k=s.shape[1],F=0;F<B;F++)for(var N=0;N<k;N++)b(D,[F,N],I),s.set(F,N,n(S,D[0],D[1]));return s}a.refineCoords=function(s){for(var S=this.dataScaleX,b=this.dataScaleY,I=s[0].shape[0],D=s[0].shape[1],B=Math.floor(s[0].shape[0]*S+1)|0,k=Math.floor(s[0].shape[1]*b+1)|0,F=1+I+1,N=1+D+1,O=C(new Float32Array(F*N),[F,N]),V=[1/S,0,0,0,1/b,0,0,0,1],X=0;X<s.length;++X){this.surface.padField(O,s[X]);var ee=C(new Float32Array(B*k),[B,k]);_(ee,O,V),s[X]=ee}};function E(s,S){for(var b=!1,I=0;I<s.length;I++)if(S===s[I]){b=!0;break}b===!1&&s.push(S)}a.setContourLevels=function(){var s=[[],[],[]],S=[!1,!1,!1],b=!1,I,D,B;for(I=0;I<3;++I)if(this.showContour[I]&&(b=!0,this.contourSize[I]>0&&this.contourStart[I]!==null&&this.contourEnd[I]!==null&&this.contourEnd[I]>this.contourStart[I]))for(S[I]=!0,D=this.contourStart[I];D<this.contourEnd[I];D+=this.contourSize[I])B=D*this.scene.dataScale[I],E(s[I],B);if(b){var k=[[],[],[]];for(I=0;I<3;++I)this.showContour[I]&&(k[I]=S[I]?s[I]:this.scene.contourLevels[I]);this.surface.update({levels:k})}},a.update=function(s){var S=this.scene,b=S.fullSceneLayout,I=this.surface,D=g(s),B=S.dataScale,k=s.z[0].length,F=s._ylength,N=S.contourLevels;this.data=s;var O,V,X,ee,ne=[];for(O=0;O<3;O++)for(ne[O]=[],V=0;V<k;V++)ne[O][V]=[];for(V=0;V<k;V++)for(X=0;X<F;X++)ne[0][V][X]=this.getXat(V,X,s.xcalendar,b.xaxis),ne[1][V][X]=this.getYat(V,X,s.ycalendar,b.yaxis),ne[2][V][X]=this.getZat(V,X,s.zcalendar,b.zaxis);if(s.connectgaps)for(s._emptypoints=w(ne[2]),L(ne[2],s._emptypoints),s._interpolatedZ=[],V=0;V<k;V++)for(s._interpolatedZ[V]=[],X=0;X<F;X++)s._interpolatedZ[V][X]=ne[2][V][X];for(O=0;O<3;O++)for(V=0;V<k;V++)for(X=0;X<F;X++)ee=ne[O][V][X],ee==null?ne[O][V][X]=NaN:ee=ne[O][V][X]*=B[O];for(O=0;O<3;O++)for(V=0;V<k;V++)for(X=0;X<F;X++)ee=ne[O][V][X],ee!=null&&(this.minValues[O]>ee&&(this.minValues[O]=ee),this.maxValues[O]<ee&&(this.maxValues[O]=ee));for(O=0;O<3;O++)this.objectOffset[O]=.5*(this.minValues[O]+this.maxValues[O]);for(O=0;O<3;O++)for(V=0;V<k;V++)for(X=0;X<F;X++)ee=ne[O][V][X],ee!=null&&(ne[O][V][X]-=this.objectOffset[O]);var q=[C(new Float32Array(k*F),[k,F]),C(new Float32Array(k*F),[k,F]),C(new Float32Array(k*F),[k,F])];for(O=0;O<3;O++)for(V=0;V<k;V++)for(X=0;X<F;X++)q[O].set(V,X,ne[O][V][X]);ne=[];var se={colormap:D,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!s.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:s.opacityscale,opacity:s.opacity},J=t(s);if(se.intensityBounds=[J.min,J.max],s.surfacecolor){var Z=C(new Float32Array(k*F),[k,F]);for(V=0;V<k;V++)for(X=0;X<F;X++)Z.set(V,X,s.surfacecolor[X][V]);q.push(Z)}else se.intensityBounds[0]*=B[2],se.intensityBounds[1]*=B[2];(x<q[0].shape[0]||x<q[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(q[0].shape[0],0),this.dataScaleY=this.estimateScale(q[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(q)),s.surfacecolor&&(se.intensity=q.pop());var te=[!0,!0,!0],Y=["x","y","z"];for(O=0;O<3;++O){var ie=s.contours[Y[O]];te[O]=ie.highlight,se.showContour[O]=ie.show||ie.highlight,se.showContour[O]&&(se.contourProject[O]=[ie.project.x,ie.project.y,ie.project.z],ie.show?(this.showContour[O]=!0,se.levels[O]=N[O],I.highlightColor[O]=se.contourColor[O]=r(ie.color),ie.usecolormap?I.highlightTint[O]=se.contourTint[O]=0:I.highlightTint[O]=se.contourTint[O]=1,se.contourWidth[O]=ie.width,this.contourStart[O]=ie.start,this.contourEnd[O]=ie.end,this.contourSize[O]=ie.size):(this.showContour[O]=!1,this.contourStart[O]=null,this.contourEnd[O]=null,this.contourSize[O]=0),ie.highlight&&(se.dynamicColor[O]=r(ie.highlightcolor),se.dynamicWidth[O]=ie.highlightwidth))}u(D)&&(se.vertexColor=!0),se.objectOffset=this.objectOffset,se.coords=q,I.update(se),I.visible=s.visible,I.enableDynamic=te,I.enableHighlight=te,I.snapToData=!0,"lighting"in s&&(I.ambientLight=s.lighting.ambient,I.diffuseLight=s.lighting.diffuse,I.specularLight=s.lighting.specular,I.roughness=s.lighting.roughness,I.fresnel=s.lighting.fresnel),"lightposition"in s&&(I.lightPosition=[s.lightposition.x,s.lightposition.y,s.lightposition.z])},a.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function M(s,S){var b=s.glplot.gl,I=d({gl:b}),D=new i(s,I,S.uid);return I._trace=D,D.update(S),s.glplot.add(I),D}H.exports=M},60192:function(H,U,e){var d=e(24040),C=e(3400),n=e(27260),L=e(16716),w=.1;function v(a,u){for(var f=[],l=32,m=0;m<l;m++){var h=m/(l-1),T=u+(1-u)*(1-Math.pow(Math.sin(a*h*Math.PI),2));f.push([h,Math.max(0,Math.min(1,T))])}return f}function g(a){var u=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||+a[0][0]!=0||+a[a.length-1][0]!=1)return!1;for(var f=0;f<a.length;f++){var l=a[f];if(l.length!==2||+l[0]<u)return!1;u=+l[0]}return!0}function r(a,u,f,l){var m,h;function T(s,S){return C.coerce(a,u,L,s,S)}var c=T("x"),o=T("y"),p=T("z");if(!p||!p.length||c&&c.length<1||o&&o.length<1){u.visible=!1;return}u._xlength=Array.isArray(c)&&C.isArrayOrTypedArray(c[0])?p.length:p[0].length,u._ylength=p.length;var x=d.getComponentMethod("calendars","handleTraceDefaults");x(a,u,["x","y","z"],l),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(s){T(s)});var A=T("surfacecolor"),_=["x","y","z"];for(m=0;m<3;++m){var y="contours."+_[m],E=T(y+".show"),M=T(y+".highlight");if(E||M)for(h=0;h<3;++h)T(y+".project."+_[h]);E&&(T(y+".color"),T(y+".width"),T(y+".usecolormap")),M&&(T(y+".highlightcolor"),T(y+".highlightwidth")),T(y+".start"),T(y+".end"),T(y+".size")}A||(i(a,"zmin","cmin"),i(a,"zmax","cmax"),i(a,"zauto","cauto")),n(a,u,l,T,{prefix:"",cLetter:"c"}),t(a,u,l,T),u._length=null}function t(a,u,f,l){var m=l("opacityscale");m==="max"?u.opacityscale=[[0,w],[1,1]]:m==="min"?u.opacityscale=[[0,1],[1,w]]:m==="extremes"?u.opacityscale=v(1,w):g(m)||(u.opacityscale=void 0)}function i(a,u,f){u in a&&!(f in a)&&(a[f]=a[u])}H.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(H,U,e){H.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(H,U,e){var d=e(13916),C=e(92880).extendFlat,n=e(67824).overrideAll,L=e(25376),w=e(86968).u,v=e(29736).descriptionOnlyNumbers,g=H.exports=n({domain:w({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:C({},d.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:C({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:C({},d.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:C({},L({arrayOk:!0}))}},"calc","from-root");g.transforms=void 0},85852:function(H,U,e){var d=e(84888)._M,C=e(24752),n="table";U.name=n,U.plot=function(L){var w=d(L.calcdata,n)[0];w.length&&C(L,w)},U.clean=function(L,w,v,g){var r=g._has&&g._has(n),t=w._has&&w._has(n);r&&!t&&g._paperdiv.selectAll(".table").remove()}},39312:function(H,U,e){var d=e(71688).wrap;H.exports=function(){return d({})}},23536:function(H){H.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(H,U,e){var d=e(23536),C=e(92880).extendFlat,n=e(38248),L=e(38116).isTypedArray,w=e(38116).isArrayOrTypedArray;H.exports=function(m,h){var T=r(h.cells.values),c=function(ee){return ee.slice(h.header.values.length,ee.length)},o=r(h.header.values);o.length&&!o[0].length&&(o[0]=[""],o=r(o));var p=o.concat(c(T).map(function(){return t((o[0]||[""]).length)})),x=h.domain,A=Math.floor(m._fullLayout._size.w*(x.x[1]-x.x[0])),_=Math.floor(m._fullLayout._size.h*(x.y[1]-x.y[0])),y=h.header.values.length?p[0].map(function(){return h.header.height}):[d.emptyHeaderHeight],E=T.length?T[0].map(function(){return h.cells.height}):[],M=y.reduce(g,0),s=_-M,S=s+d.uplift,b=u(E,S),I=u(y,M),D=a(I,[]),B=a(b,D),k={},F=h._fullInput.columnorder;w(F)&&(F=Array.from(F)),F=F.concat(c(T.map(function(ee,ne){return ne})));var N=p.map(function(ee,ne){var q=w(h.columnwidth)?h.columnwidth[Math.min(ne,h.columnwidth.length-1)]:h.columnwidth;return n(q)?Number(q):1}),O=N.reduce(g,0);N=N.map(function(ee){return ee/O*A});var V=Math.max(v(h.header.line.width),v(h.cells.line.width)),X={key:h.uid+m._context.staticPlot,translateX:x.x[0]*m._fullLayout._size.w,translateY:m._fullLayout._size.h*(1-x.y[1]),size:m._fullLayout._size,width:A,maxLineWidth:V,height:_,columnOrder:F,groupHeight:_,rowBlocks:B,headerRowBlocks:D,scrollY:0,cells:C({},h.cells,{values:T}),headerCells:C({},h.header,{values:p}),gdColumns:p.map(function(ee){return ee[0]}),gdColumnsOriginalOrder:p.map(function(ee){return ee[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:p.map(function(ee,ne){var q=k[ee];k[ee]=(q||0)+1;var se=ee+"__"+k[ee];return{key:se,label:ee,specIndex:ne,xIndex:F[ne],xScale:i,x:void 0,calcdata:void 0,columnWidth:N[ne]}})};return X.columns.forEach(function(ee){ee.calcdata=X,ee.x=i(ee)}),X};function v(l){if(w(l)){for(var m=0,h=0;h<l.length;h++)m=Math.max(m,v(l[h]));return m}return l}function g(l,m){return l+m}function r(l){var m=l.slice(),h=1/0,T=0,c;for(c=0;c<m.length;c++)L(m[c])?m[c]=Array.from(m[c]):w(m[c])||(m[c]=[m[c]]),h=Math.min(h,m[c].length),T=Math.max(T,m[c].length);if(h!==T)for(c=0;c<m.length;c++){var o=T-m[c].length;o&&(m[c]=m[c].concat(t(o)))}return m}function t(l){for(var m=new Array(l),h=0;h<l;h++)m[h]="";return m}function i(l){return l.calcdata.columns.reduce(function(m,h){return h.xIndex<l.xIndex?m+h.columnWidth:m},0)}function a(l,m){var h=Object.keys(l);return h.map(function(T){return C({},l[T],{auxiliaryBlocks:m})})}function u(l,m){for(var h={},T,c=0,o=0,p=f(),x=0,A=0,_=0;_<l.length;_++)T=l[_],p.rows.push({rowIndex:_,rowHeight:T}),o+=T,(o>=m||_===l.length-1)&&(h[c]=p,p.key=A++,p.firstRowIndex=x,p.lastRowIndex=_,p=f(),c+=o,x=_+1,o=0);return h}function f(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(H,U,e){var d=e(92880).extendFlat;U.splitToPanels=function(n){var L=[0,0],w=d({},n,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:n.calcdata.headerCells.values[n.specIndex],rowBlocks:n.calcdata.headerRowBlocks,calcdata:d({},n.calcdata,{cells:n.calcdata.headerCells})}),v=d({},n,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks}),g=d({},n,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks});return[v,g,w]},U.splitToCells=function(n){var L=C(n);return(n.values||[]).slice(L[0],L[1]).map(function(w,v){var g=typeof w=="string"&&w.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+g,key:L[0]+v,column:n,calcdata:n.calcdata,page:n.page,rowBlocks:n.rowBlocks,value:w}})};function C(n){var L=n.rowBlocks[n.page],w=L?L.rows[0].rowIndex:0,v=L?w+L.rows.length:0;return[w,v]}},53212:function(H,U,e){var d=e(3400),C=e(60520),n=e(86968).Q;function L(w,v){for(var g=w.columnorder||[],r=w.header.values.length,t=g.slice(0,r),i=t.slice().sort(function(f,l){return f-l}),a=t.map(function(f){return i.indexOf(f)}),u=a.length;u<r;u++)a.push(u);v("columnorder",a)}H.exports=function(v,g,r,t){function i(a,u){return d.coerce(v,g,C,a,u)}n(g,t,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),d.coerceFont(i,"header.font",d.extendFlat({},t.font)),L(g,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),d.coerceFont(i,"cells.font",d.extendFlat({},t.font)),g._length=null}},41724:function(H,U,e){H.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(H,U,e){var d=e(23536),C=e(33428),n=e(3400),L=n.numberFormat,w=e(71688),v=e(43616),g=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,i=e(3400).cancelTransition,a=e(55992),u=e(53056),f=e(76308);H.exports=function(ue,ae){var he=!ue._context.staticPlot,xe=ue._fullLayout._paper.selectAll("."+d.cn.table).data(ae.map(function(ct){var nt=w.unwrap(ct),dt=nt.trace;return a(ue,dt)}),w.keyFun);xe.exit().remove(),xe.enter().append("g").classed(d.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),xe.attr("width",function(ct){return ct.width+ct.size.l+ct.size.r}).attr("height",function(ct){return ct.height+ct.size.t+ct.size.b}).attr("transform",function(ct){return t(ct.translateX,ct.translateY)});var Se=xe.selectAll("."+d.cn.tableControlView).data(w.repeat,w.keyFun),Ae=Se.enter().append("g").classed(d.cn.tableControlView,!0).style("box-sizing","content-box");if(he){var De="onwheel"in document?"wheel":"mousewheel";Ae.on("mousemove",function(ct){Se.filter(function(nt){return ct===nt}).call(c,ue)}).on(De,function(ct){if(!ct.scrollbarState.wheeling){ct.scrollbarState.wheeling=!0;var nt=ct.scrollY+C.event.deltaY,dt=ee(ue,Se,null,nt)(ct);dt||(C.event.stopPropagation(),C.event.preventDefault()),ct.scrollbarState.wheeling=!1}}).call(c,ue,!0)}Se.attr("transform",function(ct){return t(ct.size.l,ct.size.t)});var we=Se.selectAll("."+d.cn.scrollBackground).data(w.repeat,w.keyFun);we.enter().append("rect").classed(d.cn.scrollBackground,!0).attr("fill","none"),we.attr("width",function(ct){return ct.width}).attr("height",function(ct){return ct.height}),Se.each(function(ct){v.setClipUrl(C.select(this),m(ue,ct),ue)});var Ce=Se.selectAll("."+d.cn.yColumn).data(function(ct){return ct.columns},w.keyFun);Ce.enter().append("g").classed(d.cn.yColumn,!0),Ce.exit().remove(),Ce.attr("transform",function(ct){return t(ct.x,0)}),he&&Ce.call(C.behavior.drag().origin(function(ct){var nt=C.select(this);return k(nt,ct,-d.uplift),r(this),ct.calcdata.columnDragInProgress=!0,c(Se.filter(function(dt){return ct.calcdata.key===dt.key}),ue),ct}).on("drag",function(ct){var nt=C.select(this),dt=function(Tt){return(ct===Tt?C.event.x:Tt.x)+Tt.columnWidth/2};ct.x=Math.max(-d.overdrag,Math.min(ct.calcdata.width+d.overdrag-ct.columnWidth,C.event.x));var pt=T(Ce).filter(function(Tt){return Tt.calcdata.key===ct.calcdata.key}),wt=pt.sort(function(Tt,Ct){return dt(Tt)-dt(Ct)});wt.forEach(function(Tt,Ct){Tt.xIndex=Ct,Tt.x=ct===Tt?Tt.x:Tt.xScale(Tt)}),Ce.filter(function(Tt){return ct!==Tt}).transition().ease(d.transitionEase).duration(d.transitionDuration).attr("transform",function(Tt){return t(Tt.x,0)}),nt.call(i).attr("transform",t(ct.x,-d.uplift))}).on("dragend",function(ct){var nt=C.select(this),dt=ct.calcdata;ct.x=ct.xScale(ct),ct.calcdata.columnDragInProgress=!1,k(nt,ct,0),D(ue,dt,dt.columns.map(function(pt){return pt.xIndex}))})),Ce.each(function(ct){v.setClipUrl(C.select(this),h(ue,ct),ue)});var be=Ce.selectAll("."+d.cn.columnBlock).data(u.splitToPanels,w.keyFun);be.enter().append("g").classed(d.cn.columnBlock,!0).attr("id",function(ct){return ct.key}),be.style("cursor",function(ct){return ct.dragHandle?"ew-resize":ct.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Pe=be.filter(N),Ve=be.filter(F);he&&Ve.call(C.behavior.drag().origin(function(ct){return C.event.stopPropagation(),ct}).on("drag",ee(ue,Se,-1)).on("dragend",function(){})),o(ue,Se,Pe,be),o(ue,Se,Ve,be);var Ge=Se.selectAll("."+d.cn.scrollAreaClip).data(w.repeat,w.keyFun);Ge.enter().append("clipPath").classed(d.cn.scrollAreaClip,!0).attr("id",function(ct){return m(ue,ct)});var Fe=Ge.selectAll("."+d.cn.scrollAreaClipRect).data(w.repeat,w.keyFun);Fe.enter().append("rect").classed(d.cn.scrollAreaClipRect,!0).attr("x",-d.overdrag).attr("y",-d.uplift).attr("fill","none"),Fe.attr("width",function(ct){return ct.width+2*d.overdrag}).attr("height",function(ct){return ct.height+d.uplift});var He=Ce.selectAll("."+d.cn.columnBoundary).data(w.repeat,w.keyFun);He.enter().append("g").classed(d.cn.columnBoundary,!0);var ft=Ce.selectAll("."+d.cn.columnBoundaryClippath).data(w.repeat,w.keyFun);ft.enter().append("clipPath").classed(d.cn.columnBoundaryClippath,!0),ft.attr("id",function(ct){return h(ue,ct)});var gt=ft.selectAll("."+d.cn.columnBoundaryRect).data(w.repeat,w.keyFun);gt.enter().append("rect").classed(d.cn.columnBoundaryRect,!0).attr("fill","none"),gt.attr("width",function(ct){return ct.columnWidth+2*l(ct)}).attr("height",function(ct){return ct.calcdata.height+2*l(ct)+d.uplift}).attr("x",function(ct){return-l(ct)}).attr("y",function(ct){return-l(ct)}),X(null,Ve,Se)};function l(K){return Math.ceil(K.calcdata.maxLineWidth/2)}function m(K,ue){return"clip"+K._fullLayout._uid+"_scrollAreaBottomClip_"+ue.key}function h(K,ue){return"clip"+K._fullLayout._uid+"_columnBoundaryClippath_"+ue.calcdata.key+"_"+ue.specIndex}function T(K){return[].concat.apply([],K.map(function(ue){return ue})).map(function(ue){return ue.__data__})}function c(K,ue,ae){function he(Ce){var be=Ce.rowBlocks;return te(be,be.length-1)+(be.length?Y(be[be.length-1],1/0):1)}var xe=K.selectAll("."+d.cn.scrollbarKit).data(w.repeat,w.keyFun);xe.enter().append("g").classed(d.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),xe.each(function(Ce){var be=Ce.scrollbarState;be.totalHeight=he(Ce),be.scrollableAreaHeight=Ce.groupHeight-O(Ce),be.currentlyVisibleHeight=Math.min(be.totalHeight,be.scrollableAreaHeight),be.ratio=be.currentlyVisibleHeight/be.totalHeight,be.barLength=Math.max(be.ratio*be.currentlyVisibleHeight,d.goldenRatio*d.scrollbarWidth),be.barWiggleRoom=be.currentlyVisibleHeight-be.barLength,be.wiggleRoom=Math.max(0,be.totalHeight-be.scrollableAreaHeight),be.topY=be.barWiggleRoom===0?0:Ce.scrollY/be.wiggleRoom*be.barWiggleRoom,be.bottomY=be.topY+be.barLength,be.dragMultiplier=be.wiggleRoom/be.barWiggleRoom}).attr("transform",function(Ce){var be=Ce.width+d.scrollbarWidth/2+d.scrollbarOffset;return t(be,O(Ce))});var Se=xe.selectAll("."+d.cn.scrollbar).data(w.repeat,w.keyFun);Se.enter().append("g").classed(d.cn.scrollbar,!0);var Ae=Se.selectAll("."+d.cn.scrollbarSlider).data(w.repeat,w.keyFun);Ae.enter().append("g").classed(d.cn.scrollbarSlider,!0),Ae.attr("transform",function(Ce){return t(0,Ce.scrollbarState.topY||0)});var De=Ae.selectAll("."+d.cn.scrollbarGlyph).data(w.repeat,w.keyFun);De.enter().append("line").classed(d.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",d.scrollbarWidth).attr("stroke-linecap","round").attr("y1",d.scrollbarWidth/2),De.attr("y2",function(Ce){return Ce.scrollbarState.barLength-d.scrollbarWidth/2}).attr("stroke-opacity",function(Ce){return Ce.columnDragInProgress||!Ce.scrollbarState.barWiggleRoom||ae?0:.4}),De.transition().delay(0).duration(0),De.transition().delay(d.scrollbarHideDelay).duration(d.scrollbarHideDuration).attr("stroke-opacity",0);var we=Se.selectAll("."+d.cn.scrollbarCaptureZone).data(w.repeat,w.keyFun);we.enter().append("line").classed(d.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",d.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ce){var be=C.event.y,Pe=this.getBoundingClientRect(),Ve=Ce.scrollbarState,Ge=be-Pe.top,Fe=C.scale.linear().domain([0,Ve.scrollableAreaHeight]).range([0,Ve.totalHeight]).clamp(!0);Ve.topY<=Ge&&Ge<=Ve.bottomY||ee(ue,K,null,Fe(Ge-Ve.barLength/2))(Ce)}).call(C.behavior.drag().origin(function(Ce){return C.event.stopPropagation(),Ce.scrollbarState.scrollbarScrollInProgress=!0,Ce}).on("drag",ee(ue,K)).on("dragend",function(){})),we.attr("y2",function(Ce){return Ce.scrollbarState.scrollableAreaHeight}),ue._context.staticPlot&&(De.remove(),we.remove())}function o(K,ue,ae,he){var xe=p(ae),Se=x(xe);E(Se);var Ae=A(Se);s(Ae);var De=y(Se),we=_(De);M(we),S(we,ue,he,K),Z(Se)}function p(K){var ue=K.selectAll("."+d.cn.columnCells).data(w.repeat,w.keyFun);return ue.enter().append("g").classed(d.cn.columnCells,!0),ue.exit().remove(),ue}function x(K){var ue=K.selectAll("."+d.cn.columnCell).data(u.splitToCells,function(ae){return ae.keyWithinBlock});return ue.enter().append("g").classed(d.cn.columnCell,!0),ue.exit().remove(),ue}function A(K){var ue=K.selectAll("."+d.cn.cellRect).data(w.repeat,function(ae){return ae.keyWithinBlock});return ue.enter().append("rect").classed(d.cn.cellRect,!0),ue}function _(K){var ue=K.selectAll("."+d.cn.cellText).data(w.repeat,function(ae){return ae.keyWithinBlock});return ue.enter().append("text").classed(d.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){C.event.stopPropagation()}),ue}function y(K){var ue=K.selectAll("."+d.cn.cellTextHolder).data(w.repeat,function(ae){return ae.keyWithinBlock});return ue.enter().append("g").classed(d.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ue}function E(K){K.each(function(ue,ae){var he=ue.calcdata.cells.font,xe=ue.column.specIndex,Se={size:B(he.size,xe,ae),color:B(he.color,xe,ae),family:B(he.family,xe,ae),weight:B(he.weight,xe,ae),style:B(he.style,xe,ae),variant:B(he.variant,xe,ae)};ue.rowNumber=ue.key,ue.align=B(ue.calcdata.cells.align,xe,ae),ue.cellBorderWidth=B(ue.calcdata.cells.line.width,xe,ae),ue.font=Se})}function M(K){K.each(function(ue){v.font(C.select(this),ue.font)})}function s(K){K.attr("width",function(ue){return ue.column.columnWidth}).attr("stroke-width",function(ue){return ue.cellBorderWidth}).each(function(ue){var ae=C.select(this);f.stroke(ae,B(ue.calcdata.cells.line.color,ue.column.specIndex,ue.rowNumber)),f.fill(ae,B(ue.calcdata.cells.fill.color,ue.column.specIndex,ue.rowNumber))})}function S(K,ue,ae,he){K.text(function(xe){var Se=xe.column.specIndex,Ae=xe.rowNumber,De=xe.value,we=typeof De=="string",Ce=we&&De.match(/<br>/i),be=!we||Ce;xe.mayHaveMarkup=we&&De.match(/[<&>]/);var Pe=b(De);xe.latex=Pe;var Ve=Pe?"":B(xe.calcdata.cells.prefix,Se,Ae)||"",Ge=Pe?"":B(xe.calcdata.cells.suffix,Se,Ae)||"",Fe=Pe?null:B(xe.calcdata.cells.format,Se,Ae)||null,He=Ve+(Fe?L(Fe)(xe.value):xe.value)+Ge,ft;xe.wrappingNeeded=!xe.wrapped&&!be&&!Pe&&(ft=I(He)),xe.cellHeightMayIncrease=Ce||Pe||xe.mayHaveMarkup||(ft===void 0?I(He):ft),xe.needsConvertToTspans=xe.mayHaveMarkup||xe.wrappingNeeded||xe.latex;var gt;if(xe.wrappingNeeded){var ct=d.wrapSplitCharacter===" "?He.replace(/<a href=/ig,"<a_href="):He,nt=ct.split(d.wrapSplitCharacter),dt=d.wrapSplitCharacter===" "?nt.map(function(pt){return pt.replace(/<a_href=/ig,"<a href=")}):nt;xe.fragments=dt.map(function(pt){return{text:pt,width:null}}),xe.fragments.push({fragment:d.wrapSpacer,width:null}),gt=dt.join(d.lineBreaker)+d.lineBreaker+d.wrapSpacer}else delete xe.fragments,gt=He;return gt}).attr("dy",function(xe){return xe.needsConvertToTspans?0:"0.75em"}).each(function(xe){var Se=this,Ae=C.select(Se),De=xe.wrappingNeeded?q:se;xe.needsConvertToTspans?g.convertToTspans(Ae,he,De(ae,Se,ue,he,xe)):C.select(Se.parentNode).attr("transform",function(we){return t(J(we),d.cellPad)}).attr("text-anchor",function(we){return{left:"start",center:"middle",right:"end"}[we.align]})})}function b(K){return typeof K=="string"&&K.match(d.latexCheck)}function I(K){return K.indexOf(d.wrapSplitCharacter)!==-1}function D(K,ue,ae){var he=ue.gdColumnsOriginalOrder;ue.gdColumns.sort(function(xe,Se){return ae[he.indexOf(xe)]-ae[he.indexOf(Se)]}),ue.columnorder=ae,K.emit("plotly_restyle")}function B(K,ue,ae){if(n.isArrayOrTypedArray(K)){var he=K[Math.min(ue,K.length-1)];return n.isArrayOrTypedArray(he)?he[Math.min(ae,he.length-1)]:he}else return K}function k(K,ue,ae){K.transition().ease(d.releaseTransitionEase).duration(d.releaseTransitionDuration).attr("transform",t(ue.x,ae))}function F(K){return K.type==="cells"}function N(K){return K.type==="header"}function O(K){var ue=K.rowBlocks.length?K.rowBlocks[0].auxiliaryBlocks:[];return ue.reduce(function(ae,he){return ae+Y(he,1/0)},0)}function V(K,ue,ae){for(var he=[],xe=0,Se=0;Se<K.length;Se++){for(var Ae=K[Se],De=Ae.rows,we=0,Ce=0;Ce<De.length;Ce++)we+=De[Ce].rowHeight;Ae.allRowsHeight=we;var be=xe+we,Pe=ue,Ve=Pe+ae;Pe<be&&Ve>xe&&he.push(Se),xe+=we}return he}function X(K,ue,ae){var he=T(ue)[0];if(he!==void 0){var xe=he.rowBlocks,Se=he.calcdata,Ae=te(xe,xe.length),De=he.calcdata.groupHeight-O(he),we=Se.scrollY=Math.max(0,Math.min(Ae-De,Se.scrollY)),Ce=V(xe,we,De);Ce.length===1&&(Ce[0]===xe.length-1?Ce.unshift(Ce[0]-1):Ce.push(Ce[0]+1)),Ce[0]%2&&Ce.reverse(),ue.each(function(be,Pe){be.page=Ce[Pe],be.scrollY=we}),ue.attr("transform",function(be){var Pe=te(be.rowBlocks,be.page)-be.scrollY;return t(0,Pe)}),K&&(ne(K,ae,ue,Ce,he.prevPages,he,0),ne(K,ae,ue,Ce,he.prevPages,he,1),c(ae,K))}}function ee(K,ue,ae,he){return function(Se){var Ae=Se.calcdata?Se.calcdata:Se,De=ue.filter(function(Pe){return Ae.key===Pe.key}),we=ae||Ae.scrollbarState.dragMultiplier,Ce=Ae.scrollY;Ae.scrollY=he===void 0?Ae.scrollY+we*C.event.dy:he;var be=De.selectAll("."+d.cn.yColumn).selectAll("."+d.cn.columnBlock).filter(F);return X(K,be,De),Ae.scrollY===Ce}}function ne(K,ue,ae,he,xe,Se,Ae){var De=he[Ae]!==xe[Ae];De&&(clearTimeout(Se.currentRepaint[Ae]),Se.currentRepaint[Ae]=setTimeout(function(){var we=ae.filter(function(Ce,be){return be===Ae&&he[be]!==xe[be]});o(K,ue,we,ae),xe[Ae]=he[Ae]}))}function q(K,ue,ae,he){return function(){var Se=C.select(ue.parentNode);Se.each(function(Ae){var De=Ae.fragments;Se.selectAll("tspan.line").each(function(He,ft){De[ft].width=this.getComputedTextLength()});var we=De[De.length-1].width,Ce=De.slice(0,-1),be=[],Pe,Ve,Ge=0,Fe=Ae.column.columnWidth-2*d.cellPad;for(Ae.value="";Ce.length;)Pe=Ce.shift(),Ve=Pe.width+we,Ge+Ve>Fe&&(Ae.value+=be.join(d.wrapSpacer)+d.lineBreaker,be=[],Ge=0),be.push(Pe.text),Ge+=Ve;Ge&&(Ae.value+=be.join(d.wrapSpacer)),Ae.wrapped=!0}),Se.selectAll("tspan.line").remove(),S(Se.select("."+d.cn.cellText),ae,K,he),C.select(ue.parentNode.parentNode).call(Z)}}function se(K,ue,ae,he,xe){return function(){if(!xe.settledY){var Ae=C.select(ue.parentNode),De=le(xe),we=xe.key-De.firstRowIndex,Ce=De.rows[we].rowHeight,be=xe.cellHeightMayIncrease?ue.parentNode.getBoundingClientRect().height+2*d.cellPad:Ce,Pe=Math.max(be,Ce),Ve=Pe-De.rows[we].rowHeight;Ve&&(De.rows[we].rowHeight=Pe,K.selectAll("."+d.cn.columnCell).call(Z),X(null,K.filter(F),0),c(ae,he,!0)),Ae.attr("transform",function(){var Ge=this,Fe=Ge.parentNode,He=Fe.getBoundingClientRect(),ft=C.select(Ge.parentNode).select("."+d.cn.cellRect).node().getBoundingClientRect(),gt=Ge.transform.baseVal.consolidate(),ct=ft.top-He.top+(gt?gt.matrix.f:d.cellPad);return t(J(xe,C.select(Ge.parentNode).select("."+d.cn.cellTextHolder).node().getBoundingClientRect().width),ct)}),xe.settledY=!0}}}function J(K,ue){switch(K.align){case"left":return d.cellPad;case"right":return K.column.columnWidth-(ue||0)-d.cellPad;case"center":return(K.column.columnWidth-(ue||0))/2;default:return d.cellPad}}function Z(K){K.attr("transform",function(ue){var ae=ue.rowBlocks[0].auxiliaryBlocks.reduce(function(Ae,De){return Ae+Y(De,1/0)},0),he=le(ue),xe=Y(he,ue.key),Se=xe+ae;return t(0,Se)}).selectAll("."+d.cn.cellRect).attr("height",function(ue){return j(le(ue),ue.key).rowHeight})}function te(K,ue){for(var ae=0,he=ue-1;he>=0;he--)ae+=ie(K[he]);return ae}function Y(K,ue){for(var ae=0,he=0;he<K.rows.length&&K.rows[he].rowIndex<ue;he++)ae+=K.rows[he].rowHeight;return ae}function ie(K){var ue=K.allRowsHeight;if(ue!==void 0)return ue;for(var ae=0,he=0;he<K.rows.length;he++)ae+=K.rows[he].rowHeight;return K.allRowsHeight=ae,ae}function le(K){return K.rowBlocks[K.page]}function j(K,ue){return K.rows[ue-K.firstRowIndex]}},40516:function(H,U,e){var d=e(21776).Ks,C=e(21776).Gw,n=e(49084),L=e(86968).u,w=e(74996),v=e(424),g=e(32984),r=e(92880).extendFlat,t=e(98192).c;H.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},w.textfont,{}),editType:"calc"},text:w.text,textinfo:v.textinfo,texttemplate:C({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:w.hovertext,hoverinfo:v.hoverinfo,hovertemplate:d({},{keys:g.eventDataKeys}),textfont:w.textfont,insidetextfont:w.insidetextfont,outsidetextfont:r({},w.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:w.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},79516:function(H,U,e){var d=e(7316);U.name="treemap",U.plot=function(C,n,L,w){d.plotBasePlot(U.name,C,n,L,w)},U.clean=function(C,n,L,w){d.cleanBasePlot(U.name,C,n,L,w)}},97840:function(H,U,e){var d=e(3776);U.r=function(C,n){return d.calc(C,n)},U.q=function(C){return d._runCrossTraceCalc("treemap",C)}},32984:function(H){H.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(H,U,e){var d=e(3400),C=e(40516),n=e(76308),L=e(86968).Q,w=e(31508).handleText,v=e(78048).TEXTPAD,g=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,i=r.handleDefaults;H.exports=function(u,f,l,m){function h(s,S){return d.coerce(u,f,C,s,S)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){f.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var p=h("tiling.packing");p==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var x=h("text");h("texttemplate"),f.texttemplate||h("textinfo",d.isArrayOrTypedArray(x)?"text+label":"label"),h("hovertext"),h("hovertemplate");var A=h("pathbar.visible"),_="auto";w(u,f,m,h,_,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var y=f.textposition.indexOf("bottom")!==-1;g(u,f,m,h);var E=f._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;E?i(u,f,m,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(f.marker.colors||[]).length);var M=f.textfont.size*2;h("marker.pad.t",y?M/4:M),h("marker.pad.l",M/4),h("marker.pad.r",M/4),h("marker.pad.b",y?M:M/4),h("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:n.contrast(m.paper_bgcolor)}}},A&&(h("pathbar.thickness",f.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(f,m,h),f._length=null}},95808:function(H,U,e){var d=e(33428),C=e(78176),n=e(82744),L=n.clearMinTextSize,w=e(60100).resizeText,v=e(52960);H.exports=function(r,t,i,a,u){var f=u.type,l=u.drawDescendants,m=r._fullLayout,h=m["_"+f+"layer"],T,c,o=!i;if(L(f,m),T=h.selectAll("g.trace."+f).data(t,function(x){return x[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(f,!0),T.order(),!m.uniformtext.mode&&C.hasTransition(i)){a&&(c=a());var p=d.transition().duration(i.duration).ease(i.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});p.each(function(){h.selectAll("g.trace").each(function(x){v(r,x,this,i,l)})})}else T.each(function(x){v(r,x,this,i,l)}),m.uniformtext.mode&&w(r,h.selectAll(".trace"),f);o&&T.exit().remove()}},27336:function(H,U,e){var d=e(33428),C=e(3400),n=e(43616),L=e(72736),w=e(13832),v=e(66192).styleOne,g=e(32984),r=e(78176),t=e(45716),i=!0;H.exports=function(u,f,l,m,h){var T=h.barDifY,c=h.width,o=h.height,p=h.viewX,x=h.viewY,A=h.pathSlice,_=h.toMoveInsideSlice,y=h.strTransform,E=h.hasTransition,M=h.handleSlicesExit,s=h.makeUpdateSliceInterpolator,S=h.makeUpdateTextInterpolator,b={},I=u._context.staticPlot,D=u._fullLayout,B=f[0],k=B.trace,F=B.hierarchy,N=c/k._entryDepth,O=r.listPath(l.data,"id"),V=w(F.copy(),[c,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();V=V.filter(function(ee){var ne=O.indexOf(ee.data.id);return ne===-1?!1:(ee.x0=N*ne,ee.x1=N*(ne+1),ee.y0=T,ee.y1=T+o,ee.onPathbar=!0,!0)}),V.reverse(),m=m.data(V,r.getPtId),m.enter().append("g").classed("pathbar",!0),M(m,i,b,[c,o],A),m.order();var X=m;E&&(X=X.transition().each("end",function(){var ee=d.select(this);r.setSliceCursor(ee,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(ee){ee._x0=p(ee.x0),ee._x1=p(ee.x1),ee._y0=x(ee.y0),ee._y1=x(ee.y1),ee._hoverX=p(ee.x1-Math.min(c,o)/2),ee._hoverY=x(ee.y1-o/2);var ne=d.select(this),q=C.ensureSingle(ne,"path","surface",function(te){te.style("pointer-events",I?"none":"all")});E?q.transition().attrTween("d",function(te){var Y=s(te,i,b,[c,o]);return function(ie){return A(Y(ie))}}):q.attr("d",A),ne.call(t,l,u,f,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:u._transitioning}),q.call(v,ee,k,u,{hovered:!1}),ee._text=(r.getPtLabel(ee)||"").split("<br>").join(" ")||"";var se=C.ensureSingle(ne,"g","slicetext"),J=C.ensureSingle(se,"text","",function(te){te.attr("data-notex",1)}),Z=C.ensureUniformFontSize(u,r.determineTextFont(k,ee,D.font,{onPathbar:!0}));J.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(n.font,Z).call(L.convertToTspans,u),ee.textBB=n.bBox(J.node()),ee.transform=_(ee,{fontSize:Z.size,onPathbar:!0}),ee.transform.fontSize=Z.size,E?J.transition().attrTween("transform",function(te){var Y=S(te,i,b,[c,o]);return function(ie){return y(Y(ie))}}):J.attr("transform",y(ee))})}},76477:function(H,U,e){var d=e(33428),C=e(3400),n=e(43616),L=e(72736),w=e(13832),v=e(66192).styleOne,g=e(32984),r=e(78176),t=e(45716),i=e(96488).formatSliceLabel,a=!1;H.exports=function(f,l,m,h,T){var c=T.width,o=T.height,p=T.viewX,x=T.viewY,A=T.pathSlice,_=T.toMoveInsideSlice,y=T.strTransform,E=T.hasTransition,M=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,S=T.makeUpdateTextInterpolator,b=T.prevEntry,I={},D=f._context.staticPlot,B=f._fullLayout,k=l[0],F=k.trace,N=F.textposition.indexOf("left")!==-1,O=F.textposition.indexOf("right")!==-1,V=F.textposition.indexOf("bottom")!==-1,X=!V&&!F.marker.pad.t||V&&!F.marker.pad.b,ee=w(m,[c,o],{packing:F.tiling.packing,squarifyratio:F.tiling.squarifyratio,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,pad:{inner:F.tiling.pad,top:F.marker.pad.t,left:F.marker.pad.l,right:F.marker.pad.r,bottom:F.marker.pad.b}}),ne=ee.descendants(),q=1/0,se=-1/0;ne.forEach(function(ie){var le=ie.depth;le>=F._maxDepth?(ie.x0=ie.x1=(ie.x0+ie.x1)/2,ie.y0=ie.y1=(ie.y0+ie.y1)/2):(q=Math.min(q,le),se=Math.max(se,le))}),h=h.data(ne,r.getPtId),F._maxVisibleLayers=isFinite(se)?se-q+1:0,h.enter().append("g").classed("slice",!0),M(h,a,I,[c,o],A),h.order();var J=null;if(E&&b){var Z=r.getPtId(b);h.each(function(ie){J===null&&r.getPtId(ie)===Z&&(J={x0:ie.x0,x1:ie.x1,y0:ie.y0,y1:ie.y1})})}var te=function(){return J||{x0:0,x1:c,y0:0,y1:o}},Y=h;return E&&(Y=Y.transition().each("end",function(){var ie=d.select(this);r.setSliceCursor(ie,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(ie){var le=r.isHeader(ie,F);ie._x0=p(ie.x0),ie._x1=p(ie.x1),ie._y0=x(ie.y0),ie._y1=x(ie.y1),ie._hoverX=p(ie.x1-F.marker.pad.r),ie._hoverY=x(V?ie.y1-F.marker.pad.b/2:ie.y0+F.marker.pad.t/2);var j=d.select(this),K=C.ensureSingle(j,"path","surface",function(Ae){Ae.style("pointer-events",D?"none":"all")});E?K.transition().attrTween("d",function(Ae){var De=s(Ae,a,te(),[c,o]);return function(we){return A(De(we))}}):K.attr("d",A),j.call(t,m,f,l,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),K.call(v,ie,F,f,{hovered:!1}),ie.x0===ie.x1||ie.y0===ie.y1?ie._text="":le?ie._text=X?"":r.getPtLabel(ie)||"":ie._text=i(ie,m,F,l,B)||"";var ue=C.ensureSingle(j,"g","slicetext"),ae=C.ensureSingle(ue,"text","",function(Ae){Ae.attr("data-notex",1)}),he=C.ensureUniformFontSize(f,r.determineTextFont(F,ie,B.font)),xe=ie._text||" ",Se=le&&xe.indexOf("<br>")===-1;ae.text(xe).classed("slicetext",!0).attr("text-anchor",O?"end":N||Se?"start":"middle").call(n.font,he).call(L.convertToTspans,f),ie.textBB=n.bBox(ae.node()),ie.transform=_(ie,{fontSize:he.size,isHeader:le}),ie.transform.fontSize=he.size,E?ae.transition().attrTween("transform",function(Ae){var De=S(Ae,a,te(),[c,o]);return function(we){return y(De(we))}}):ae.attr("transform",y(ie))}),J}},83024:function(H){H.exports=function U(e,d,C){var n;C.swapXY&&(n=e.x0,e.x0=e.y0,e.y0=n,n=e.x1,e.x1=e.y1,e.y1=n),C.flipX&&(n=e.x0,e.x0=d[0]-e.x1,e.x1=d[0]-n),C.flipY&&(n=e.y0,e.y0=d[1]-e.y1,e.y1=d[1]-n);var L=e.children;if(L)for(var w=0;w<L.length;w++)U(L[w],d,C)}},31991:function(H,U,e){H.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(H){H.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(H,U,e){var d=e(3400),C=e(45392);H.exports=function(L,w){function v(g,r){return d.coerce(L,w,C,g,r)}v("treemapcolorway",w.colorway),v("extendtreemapcolors")}},13832:function(H,U,e){var d=e(74148),C=e(83024);H.exports=function(w,v,g){var r=g.flipX,t=g.flipY,i=g.packing==="dice-slice",a=g.pad[t?"bottom":"top"],u=g.pad[r?"right":"left"],f=g.pad[r?"left":"right"],l=g.pad[t?"top":"bottom"],m;i&&(m=u,u=a,a=m,m=f,f=l,l=m);var h=d.treemap().tile(n(g.packing,g.squarifyratio)).paddingInner(g.pad.inner).paddingLeft(u).paddingRight(f).paddingTop(a).paddingBottom(l).size(i?[v[1],v[0]]:v)(w);return(i||r||t)&&C(h,v,{swapXY:i,flipX:r,flipY:t}),h};function n(L,w){switch(L){case"squarify":return d.treemapSquarify.ratio(w);case"binary":return d.treemapBinary;case"dice":return d.treemapDice;case"slice":return d.treemapSlice;default:return d.treemapSliceDice}}},53264:function(H,U,e){var d=e(95808),C=e(76477);H.exports=function(L,w,v,g){return d(L,w,v,g,{type:"treemap",drawDescendants:C})}},52960:function(H,U,e){var d=e(33428),C=e(67756).qy,n=e(78176),L=e(3400),w=e(78048).TEXTPAD,v=e(98184),g=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,i=e(32984),a=e(27336);function u(f){return n.isHierarchyRoot(f)?"":n.getPtId(f)}H.exports=function(l,m,h,T,c){var o=l._fullLayout,p=m[0],x=p.trace,A=x.type,_=A==="icicle",y=p.hierarchy,E=n.findEntryWithLevel(y,x.level),M=d.select(h),s=M.selectAll("g.pathbar"),S=M.selectAll("g.slice");if(!E){s.remove(),S.remove();return}var b=n.isHierarchyRoot(E),I=!o.uniformtext.mode&&n.hasTransition(T),D=n.getMaxDepth(x),B=function(ze){return ze.data.depth-E.data.depth<D},k=o._size,F=x.domain,N=k.w*(F.x[1]-F.x[0]),O=k.h*(F.y[1]-F.y[0]),V=N,X=x.pathbar.thickness,ee=x.marker.line.width+i.gapWithPathbar,ne=x.pathbar.visible?x.pathbar.side.indexOf("bottom")>-1?O+ee:-(X+ee):0,q={x0:V,x1:V,y0:ne,y1:ne+X},se=function(ze,je,Je){var Xe=x.tiling.pad,Oe=function(pe){return pe-Xe<=je.x0},ke=function(pe){return pe+Xe>=je.x1},Ke=function(pe){return pe-Xe<=je.y0},Ie=function(pe){return pe+Xe>=je.y1};return ze.x0===je.x0&&ze.x1===je.x1&&ze.y0===je.y0&&ze.y1===je.y1?{x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1}:{x0:Oe(ze.x0-Xe)?0:ke(ze.x0-Xe)?Je[0]:ze.x0,x1:Oe(ze.x1+Xe)?0:ke(ze.x1+Xe)?Je[0]:ze.x1,y0:Ke(ze.y0-Xe)?0:Ie(ze.y0-Xe)?Je[1]:ze.y0,y1:Ke(ze.y1+Xe)?0:Ie(ze.y1+Xe)?Je[1]:ze.y1}},J=null,Z={},te={},Y=null,ie=function(ze,je){return je?Z[u(ze)]:te[u(ze)]},le=function(ze,je,Je,Xe){if(je)return Z[u(y)]||q;var Oe=te[x.level]||Je;return B(ze)?se(ze,Oe,Xe):{}};p.hasMultipleRoots&&b&&D++,x._maxDepth=D,x._backgroundColor=o.paper_bgcolor,x._entryDepth=E.data.depth,x._atRootLevel=b;var j=-N/2+k.l+k.w*(F.x[1]+F.x[0])/2,K=-O/2+k.t+k.h*(1-(F.y[1]+F.y[0])/2),ue=function(ze){return j+ze},ae=function(ze){return K+ze},he=ae(0),xe=ue(0),Se=function(ze){return xe+ze},Ae=function(ze){return he+ze};function De(ze,je){return ze+","+je}var we=Se(0),Ce=function(ze){ze.x=Math.max(we,ze.x)},be=x.pathbar.edgeshape,Pe=function(ze){var je=Se(Math.max(Math.min(ze.x0,ze.x0),0)),Je=Se(Math.min(Math.max(ze.x1,ze.x1),V)),Xe=Ae(ze.y0),Oe=Ae(ze.y1),ke=X/2,Ke={},Ie={};Ke.x=je,Ie.x=Je,Ke.y=Ie.y=(Xe+Oe)/2;var pe={x:je,y:Xe},Te={x:Je,y:Xe},Ue={x:Je,y:Oe},et={x:je,y:Oe};return be===">"?(pe.x-=ke,Te.x-=ke,Ue.x-=ke,et.x-=ke):be==="/"?(Ue.x-=ke,et.x-=ke,Ke.x-=ke/2,Ie.x-=ke/2):be==="\\"?(pe.x-=ke,Te.x-=ke,Ke.x-=ke/2,Ie.x-=ke/2):be==="<"&&(Ke.x-=ke,Ie.x-=ke),Ce(pe),Ce(et),Ce(Ke),Ce(Te),Ce(Ue),Ce(Ie),"M"+De(pe.x,pe.y)+"L"+De(Te.x,Te.y)+"L"+De(Ie.x,Ie.y)+"L"+De(Ue.x,Ue.y)+"L"+De(et.x,et.y)+"L"+De(Ke.x,Ke.y)+"Z"},Ve=x[_?"tiling":"marker"].pad,Ge=function(ze){return x.textposition.indexOf(ze)!==-1},Fe=Ge("top"),He=Ge("left"),ft=Ge("right"),gt=Ge("bottom"),ct=function(ze){var je=ue(ze.x0),Je=ue(ze.x1),Xe=ae(ze.y0),Oe=ae(ze.y1),ke=Je-je,Ke=Oe-Xe;if(!ke||!Ke)return"";var Ie=x.marker.cornerradius||0,pe=Math.min(Ie,ke/2,Ke/2);pe&&ze.data&&ze.data.data&&ze.data.data.label&&(Fe&&(pe=Math.min(pe,Ve.t)),He&&(pe=Math.min(pe,Ve.l)),ft&&(pe=Math.min(pe,Ve.r)),gt&&(pe=Math.min(pe,Ve.b)));var Te=function(Ue,et){return pe?"a"+De(pe,pe)+" 0 0 1 "+De(Ue,et):""};return"M"+De(je,Xe+pe)+Te(pe,-pe)+"L"+De(Je-pe,Xe)+Te(pe,pe)+"L"+De(Je,Oe-pe)+Te(-pe,pe)+"L"+De(je+pe,Oe)+Te(-pe,-pe)+"Z"},nt=function(ze,je){var Je=ze.x0,Xe=ze.x1,Oe=ze.y0,ke=ze.y1,Ke=ze.textBB,Ie=Fe||je.isHeader&&!gt,pe=Ie?"start":gt?"end":"middle",Te=Ge("right"),Ue=Ge("left")||je.onPathbar,et=Ue?-1:Te?1:0;if(je.isHeader){if(Je+=(_?Ve:Ve.l)-w,Xe-=(_?Ve:Ve.r)-w,Je>=Xe){var st=(Je+Xe)/2;Je=st,Xe=st}var lt;gt?(lt=ke-(_?Ve:Ve.b),Oe<lt&&lt<ke&&(Oe=lt)):(lt=Oe+(_?Ve:Ve.t),Oe<lt&&lt<ke&&(ke=lt))}var jt=g(Je,Xe,Oe,ke,Ke,{isHorizontal:!1,constrained:!0,angle:0,anchor:pe,leftToRight:et});return jt.fontSize=je.fontSize,jt.targetX=ue(jt.targetX),jt.targetY=ae(jt.targetY),isNaN(jt.targetX)||isNaN(jt.targetY)?{}:(Je!==Xe&&Oe!==ke&&t(x.type,jt,o),{scale:jt.scale,rotate:jt.rotate,textX:jt.textX,textY:jt.textY,anchorX:jt.anchorX,anchorY:jt.anchorY,targetX:jt.targetX,targetY:jt.targetY})},dt=function(ze,je){for(var Je,Xe=0,Oe=ze;!Je&&Xe<D;)Xe++,Oe=Oe.parent,Oe?Je=ie(Oe,je):Xe=D;return Je||{}},pt=function(ze,je,Je,Xe){var Oe=ie(ze,je),ke;if(je)ke=q;else{var Ke=ie(E,je);Ke?ke=se(ze,Ke,Xe):ke={}}return C(Oe,ke)},wt=function(ze,je,Je,Xe,Oe){var ke=ie(ze,je),Ke;if(ke)Ke=ke;else if(je)Ke=q;else if(J)if(ze.parent){var Ie=Y||Je;Ie&&!je?Ke=se(ze,Ie,Xe):(Ke={},L.extendFlat(Ke,dt(ze,je)))}else Ke=L.extendFlat({},ze),_&&(Oe.orientation==="h"?Oe.flipX?Ke.x0=ze.x1:Ke.x1=0:Oe.flipY?Ke.y0=ze.y1:Ke.y1=0);else Ke={};return C(Ke,{x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1})},Tt=function(ze,je,Je,Xe){var Oe=ie(ze,je),ke={},Ke=le(ze,je,Je,Xe);L.extendFlat(ke,{transform:nt({x0:Ke.x0,x1:Ke.x1,y0:Ke.y0,y1:Ke.y1,textBB:ze.textBB,_text:ze._text},{isHeader:n.isHeader(ze,x)})}),Oe?ke=Oe:ze.parent&&L.extendFlat(ke,dt(ze,je));var Ie=ze.transform;return ze.x0!==ze.x1&&ze.y0!==ze.y1&&t(x.type,Ie,o),C(ke,{transform:{scale:Ie.scale,rotate:Ie.rotate,textX:Ie.textX,textY:Ie.textY,anchorX:Ie.anchorX,anchorY:Ie.anchorY,targetX:Ie.targetX,targetY:Ie.targetY}})},Ct=function(ze,je,Je,Xe,Oe){var ke=Xe[0],Ke=Xe[1];I?ze.exit().transition().each(function(){var Ie=d.select(this),pe=Ie.select("path.surface");pe.transition().attrTween("d",function(Ue){var et=pt(Ue,je,Je,[ke,Ke]);return function(st){return Oe(et(st))}});var Te=Ie.select("g.slicetext");Te.attr("opacity",0)}).remove():ze.exit().remove()},at=function(ze){var je=ze.transform;return ze.x0!==ze.x1&&ze.y0!==ze.y1&&t(x.type,je,o),L.getTextTransform({textX:je.textX,textY:je.textY,anchorX:je.anchorX,anchorY:je.anchorY,targetX:je.targetX,targetY:je.targetY,scale:je.scale,rotate:je.rotate})};I&&(s.each(function(ze){Z[u(ze)]={x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1},ze.transform&&(Z[u(ze)].transform={textX:ze.transform.textX,textY:ze.transform.textY,anchorX:ze.transform.anchorX,anchorY:ze.transform.anchorY,targetX:ze.transform.targetX,targetY:ze.transform.targetY,scale:ze.transform.scale,rotate:ze.transform.rotate})}),S.each(function(ze){te[u(ze)]={x0:ze.x0,x1:ze.x1,y0:ze.y0,y1:ze.y1},ze.transform&&(te[u(ze)].transform={textX:ze.transform.textX,textY:ze.transform.textY,anchorX:ze.transform.anchorX,anchorY:ze.transform.anchorY,targetX:ze.transform.targetX,targetY:ze.transform.targetY,scale:ze.transform.scale,rotate:ze.transform.rotate}),!J&&n.isEntry(ze)&&(J=ze)})),Y=c(l,m,E,S,{width:N,height:O,viewX:ue,viewY:ae,pathSlice:ct,toMoveInsideSlice:nt,prevEntry:J,makeUpdateSliceInterpolator:wt,makeUpdateTextInterpolator:Tt,handleSlicesExit:Ct,hasTransition:I,strTransform:at}),x.pathbar.visible?a(l,m,E,s,{barDifY:ne,width:V,height:X,viewX:Se,viewY:Ae,pathSlice:Pe,toMoveInsideSlice:nt,makeUpdateSliceInterpolator:wt,makeUpdateTextInterpolator:Tt,handleSlicesExit:Ct,hasTransition:I,strTransform:at}):s.remove()}},66192:function(H,U,e){var d=e(33428),C=e(76308),n=e(3400),L=e(78176),w=e(82744).resizeText,v=e(60404);function g(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");w(t,i,"treemap"),i.each(function(a){var u=d.select(this),f=a[0],l=f.trace;u.style("opacity",l.opacity),u.selectAll("path.surface").each(function(m){d.select(this).call(r,m,l,t,{hovered:!1})})})}function r(t,i,a,u,f){var l=(f||{}).hovered,m=i.data.data,h=m.i,T,c,o=m.color,p=L.isHierarchyRoot(i),x=1;if(l)T=a._hovered.marker.line.color,c=a._hovered.marker.line.width;else if(p&&o===a.root.color)x=100,T="rgba(0,0,0,0)",c=0;else if(T=n.castOption(a,h,"marker.line.color")||C.defaultLine,c=n.castOption(a,h,"marker.line.width")||0,!a._hasColorscale&&!i.onPathbar){var A=a.marker.depthfade;if(A){var _=C.combine(C.addOpacity(a._backgroundColor,.75),o),y;if(A===!0){var E=L.getMaxDepth(a);isFinite(E)?L.isLeaf(i)?y=0:y=a._maxVisibleLayers-(i.data.depth-a._entryDepth):y=i.data.height+1}else y=i.data.depth-a._entryDepth,a._atRootLevel||y++;if(y>0)for(var M=0;M<y;M++){var s=.5*M/y;o=C.combine(C.addOpacity(_,s),o)}}}t.call(v,i,a,u,o).style("stroke-width",c).call(C.stroke,T).style("opacity",x)}H.exports={style:g,styleOne:r}},13988:function(H,U,e){var d=e(63188),C=e(92880).extendFlat,n=e(29736).axisHoverFormat;H.exports={y:d.y,x:d.x,x0:d.x0,y0:d.y0,xhoverformat:n("x"),yhoverformat:n("y"),name:C({},d.name,{}),orientation:C({},d.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:d.fillcolor,points:C({},d.boxpoints,{}),jitter:C({},d.jitter,{}),pointpos:C({},d.pointpos,{}),width:C({},d.width,{}),marker:d.marker,text:d.text,hovertext:d.hovertext,hovertemplate:d.hovertemplate,quartilemethod:d.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:d.offsetgroup,alignmentgroup:d.alignmentgroup,selected:d.selected,unselected:d.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:d.zorder}},67064:function(H,U,e){var d=e(3400),C=e(54460),n=e(62555),L=e(63800),w=e(39032).BADNUM;H.exports=function(i,a){var u=n(i,a);if(u[0].t.empty)return u;for(var f=i._fullLayout,l=C.getFromId(i,a[a.orientation==="h"?"xaxis":"yaxis"]),m=1/0,h=-1/0,T=0,c=0,o=0;o<u.length;o++){var p=u[o],x=p.pts.map(L.extractVal),A=p.bandwidth=g(a,p,x),_=p.span=r(a,p,l,A);if(p.min===p.max&&A===0)_=p.span=[p.min,p.max],p.density=[{v:1,t:_[0]}],p.bandwidth=A,T=Math.max(T,1);else{var y=_[1]-_[0],E=Math.ceil(y/(A/3)),M=y/E;if(!isFinite(M)||!isFinite(E))return d.error("Something went wrong with computing the violin span"),u[0].t.empty=!0,u;var s=L.makeKDE(p,a,x);p.density=new Array(E);for(var S=0,b=_[0];b<_[1]+M/2;S++,b+=M){var I=s(b);p.density[S]={v:I,t:b},T=Math.max(T,I)}}c=Math.max(c,x.length),m=Math.min(m,_[0]),h=Math.max(h,_[1])}var D=C.findExtremes(l,[m,h],{padded:!0});if(a._extremes[l._id]=D,a.width)u[0].t.maxKDE=T;else{var B=f._violinScaleGroupStats,k=a.scalegroup,F=B[k];F?(F.maxKDE=Math.max(F.maxKDE,T),F.maxCount=Math.max(F.maxCount,c)):B[k]={maxKDE:T,maxCount:c}}return u[0].t.labels.kde=d._(i,"kde:"),u};function v(t,i,a){var u=Math.min(i,a/1.349);return 1.059*u*Math.pow(t,-.2)}function g(t,i,a){var u=i.max-i.min;if(!u)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,u/1e4);var f=a.length,l=d.stdev(a,f-1,i.mean);return Math.max(v(f,l,i.q3-i.q1),u/100)}function r(t,i,a,u){var f=t.spanmode,l=t.span||[],m=[i.min,i.max],h=[i.min-2*u,i.max+2*u],T;function c(p){var x=l[p],A=a.type==="multicategory"?a.r2c(x):a.d2c(x,0,t[i.valLetter+"calendar"]);return A===w?h[p]:A}f==="soft"?T=h:f==="hard"?T=m:T=[c(0),c(1)];var o={type:"linear",range:T};return C.setConvert(o),o.cleanRange(),T}},14348:function(H,U,e){var d=e(96404).setPositionOffset,C=["v","h"];H.exports=function(L,w){for(var v=L.calcdata,g=w.xaxis,r=w.yaxis,t=0;t<C.length;t++){for(var i=C[t],a=i==="h"?r:g,u=[],f=0;f<v.length;f++){var l=v[f],m=l[0].t,h=l[0].trace;h.visible===!0&&h.type==="violin"&&!m.empty&&h.orientation===i&&h.xaxis===g._id&&h.yaxis===r._id&&u.push(f)}d("violin",L,u,a)}}},36240:function(H,U,e){var d=e(3400),C=e(76308),n=e(90624),L=e(13988);H.exports=function(v,g,r,t){function i(M,s){return d.coerce(v,g,L,M,s)}function a(M,s){return d.coerce2(v,g,L,M,s)}if(n.handleSampleDefaults(v,g,i,t),g.visible!==!1){i("bandwidth"),i("side");var u=i("width");u||(i("scalegroup",g.name),i("scalemode"));var f=i("span"),l;Array.isArray(f)&&(l="manual"),i("spanmode",l);var m=i("line.color",(v.marker||{}).color||r),h=i("line.width"),T=i("fillcolor",C.addOpacity(g.line.color,.5));n.handlePointsDefaults(v,g,i,{prefix:""});var c=a("box.width"),o=a("box.fillcolor",T),p=a("box.line.color",m),x=a("box.line.width",h),A=i("box.visible",!!(c||o||p||x));A||(g.box={visible:!1});var _=a("meanline.color",m),y=a("meanline.width",h),E=i("meanline.visible",!!(_||y));E||(g.meanline={visible:!1}),i("quartilemethod"),i("zorder")}}},63800:function(H,U,e){var d=e(3400),C={gaussian:function(n){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*n*n)}};U.makeKDE=function(n,L,w){var v=w.length,g=C.gaussian,r=n.bandwidth,t=1/(v*r);return function(i){for(var a=0,u=0;u<v;u++)a+=g((i-w[u])/r);return t*a}},U.getPositionOnKdePath=function(n,L,w){var v,g;L.orientation==="h"?(v="y",g="x"):(v="x",g="y");var r=d.findPointOnPath(n.path,w,g,{pathLength:n.pathLength}),t=n.posCenterPx,i=r[v],a=L.side==="both"?2*t-i:t;return[i,a]},U.getKdeValue=function(n,L,w){var v=n.pts.map(U.extractVal),g=U.makeKDE(n,L,v);return g(w)/n.posDensityScale},U.extractVal=function(n){return n.v}},78e3:function(H,U,e){var d=e(76308),C=e(3400),n=e(54460),L=e(27576),w=e(63800);H.exports=function(g,r,t,i,a){a||(a={});var u=a.hoverLayer,f=g.cd,l=f[0].trace,m=l.hoveron,h=m.indexOf("violins")!==-1,T=m.indexOf("kde")!==-1,c=[],o,p;if(h||T){var x=L.hoverOnBoxes(g,r,t,i);if(T&&x.length>0){var A=g.xa,_=g.ya,y,E,M,s,S;l.orientation==="h"?(S=r,y="y",M=_,E="x",s=A):(S=t,y="x",M=A,E="y",s=_);var b=f[g.index];if(S>=b.span[0]&&S<=b.span[1]){var I=C.extendFlat({},g),D=s.c2p(S,!0),B=w.getKdeValue(b,l,S),k=w.getPositionOnKdePath(b,l,D),F=M._offset,N=M._length;I[y+"0"]=k[0],I[y+"1"]=k[1],I[E+"0"]=I[E+"1"]=D,I[E+"Label"]=E+": "+n.hoverLabelText(s,S,l[E+"hoverformat"])+", "+f[0].t.labels.kde+" "+B.toFixed(3);for(var O=0,V=0;V<x.length;V++)if(x[V].attr==="med"){O=V;break}I.spikeDistance=x[O].spikeDistance;var X=y+"Spike";I[X]=x[O][X],x[O].spikeDistance=void 0,x[O][X]=void 0,I.hovertemplate=!1,c.push(I),p={},p[y+"1"]=C.constrain(F+k[0],F,F+N),p[y+"2"]=C.constrain(F+k[1],F,F+N),p[E+"1"]=p[E+"2"]=s._offset+D}}h&&(c=c.concat(x))}m.indexOf("points")!==-1&&(o=L.hoverOnPoints(g,r,t));var ee=u.selectAll(".violinline-"+l.uid).data(p?[0]:[]);return ee.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),ee.exit().remove(),ee.attr(p).call(d.stroke,g.color),i==="closest"?o?[o]:c:(o&&c.push(o),c)}},22869:function(H,U,e){H.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(H,U,e){var d=e(16560),C=e(3400).extendFlat;H.exports={violinmode:C({},d.boxmode,{}),violingap:C({},d.boxgap,{}),violingroupgap:C({},d.boxgroupgap,{})}},8939:function(H,U,e){var d=e(3400),C=e(98228),n=e(68832);H.exports=function(w,v,g){function r(t,i){return d.coerce(w,v,C,t,i)}n._supply(w,v,g,r,"violin")}},5140:function(H,U,e){var d=e(33428),C=e(3400),n=e(43616),L=e(18728),w=e(52340),v=e(63800);H.exports=function(r,t,i,a){var u=r._context.staticPlot,f=r._fullLayout,l=t.xaxis,m=t.yaxis;function h(T,c){var o=w(T,{xaxis:l,yaxis:m,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return n.smoothopen(o[0],1)}C.makeTraceGroups(a,i,"trace violins").each(function(T){var c=d.select(this),o=T[0],p=o.t,x=o.trace;if(x.visible!==!0||p.empty){c.remove();return}var A=p.bPos,_=p.bdPos,y=t[p.valLetter+"axis"],E=t[p.posLetter+"axis"],M=x.side==="both",s=M||x.side==="positive",S=M||x.side==="negative",b=c.selectAll("path.violin").data(C.identity);b.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","violin"),b.exit().remove(),b.each(function(V){var X=d.select(this),ee=V.density,ne=ee.length,q=E.c2l(V.pos+A,!0),se=E.l2p(q),J;if(x.width)J=p.maxKDE/_;else{var Z=f._violinScaleGroupStats[x.scalegroup];J=x.scalemode==="count"?Z.maxKDE/_*(Z.maxCount/V.pts.length):Z.maxKDE/_}var te,Y,ie,le,j,K,ue;if(s){for(K=new Array(ne),le=0;le<ne;le++)ue=K[le]={},ue[p.posLetter]=q+ee[le].v/J,ue[p.valLetter]=y.c2l(ee[le].t,!0);te=h(K,x)}if(S){for(K=new Array(ne),j=0,le=ne-1;j<ne;j++,le--)ue=K[j]={},ue[p.posLetter]=q-ee[le].v/J,ue[p.valLetter]=y.c2l(ee[le].t,!0);Y=h(K,x)}if(M)ie=te+"L"+Y.substr(1)+"Z";else{var ae=[se,y.c2p(ee[0].t)],he=[se,y.c2p(ee[ne-1].t)];x.orientation==="h"&&(ae.reverse(),he.reverse()),s?ie="M"+ae+"L"+te.substr(1)+"L"+he:ie="M"+he+"L"+Y.substr(1)+"L"+ae}X.attr("d",ie),V.posCenterPx=se,V.posDensityScale=J*_,V.path=X.node(),V.pathLength=V.path.getTotalLength()/(M?2:1)});var I=x.box,D=I.width,B=(I.line||{}).width,k,F;M?(k=_*D,F=0):s?(k=[0,_*D/2],F=B*{x:1,y:-1}[p.posLetter]):(k=[_*D/2,0],F=B*{x:-1,y:1}[p.posLetter]),L.plotBoxAndWhiskers(c,{pos:E,val:y},x,{bPos:A,bdPos:k,bPosPxOffset:F}),L.plotBoxMean(c,{pos:E,val:y},x,{bPos:A,bdPos:k,bPosPxOffset:F});var N;!x.box.visible&&x.meanline.visible&&(N=C.identity);var O=c.selectAll("path.meanline").data(N||[]);O.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",u?"none":"non-scaling-stroke"),O.exit().remove(),O.each(function(V){var X=y.c2p(V.mean,!0),ee=v.getPositionOnKdePath(V,x,X);d.select(this).attr("d",x.orientation==="h"?"M"+X+","+ee[0]+"V"+ee[1]:"M"+ee[0]+","+X+"H"+ee[1])}),L.plotPoints(c,{x:l,y:m},x,p)})}},95908:function(H,U,e){var d=e(33428),C=e(76308),n=e(49224).stylePoints;H.exports=function(w){var v=d.select(w).selectAll("g.trace.violins");v.style("opacity",function(g){return g[0].trace.opacity}),v.each(function(g){var r=g[0].trace,t=d.select(this),i=r.box||{},a=i.line||{},u=r.meanline||{},f=u.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(C.stroke,r.line.color).call(C.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",a.width+"px").call(C.stroke,a.color).call(C.fill,i.fillcolor);var l={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};t.selectAll("path.mean").style(l).call(C.stroke,u.color),t.selectAll("path.meanline").style(l).call(C.stroke,u.color),n(t,r,w)})}},58168:function(H,U,e){var d=e(49084),C=e(50048),n=e(16716),L=e(45464),w=e(92880).extendFlat,v=e(67824).overrideAll,g=H.exports=v(w({x:C.x,y:C.y,z:C.z,value:C.value,isomin:C.isomin,isomax:C.isomax,surface:C.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:C.slices,caps:C.caps,text:C.text,hovertext:C.hovertext,xhoverformat:C.xhoverformat,yhoverformat:C.yhoverformat,zhoverformat:C.zhoverformat,valuehoverformat:C.valuehoverformat,hovertemplate:C.hovertemplate},d("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:C.colorbar,opacity:C.opacity,opacityscale:n.opacityscale,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:w({},L.hoverinfo),showlegend:w({},L.showlegend,{dflt:!1})}),"calc","nested");g.x.editType=g.y.editType=g.z.editType=g.value.editType="calc+clearAxisTypes",g.transforms=void 0},91976:function(H,U,e){var d=e(67792).gl_mesh3d,C=e(33040).parseColorScale,n=e(3400).isArrayOrTypedArray,L=e(43080),w=e(8932).extractOpts,v=e(52094),g=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(u,f,l){this.scene=u,this.uid=l,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(u){if(u.object===this.mesh){var f=u.data.index,l=this.data._meshX[f],m=this.data._meshY[f],h=this.data._meshZ[f],T=this.data._Ys.length,c=this.data._Zs.length,o=g(l,this.data._Xs).id,p=g(m,this.data._Ys).id,x=g(h,this.data._Zs).id,A=u.index=x+c*p+c*T*o;u.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var _=this.data.hovertext||this.data.text;return n(_)&&_[A]!==void 0?u.textLabel=_[A]:_&&(u.textLabel=_),!0}},i.update=function(u){var f=this.scene,l=f.fullSceneLayout;this.data=r(u);function m(p,x,A,_){return x.map(function(y){return p.d2l(y,0,_)*A})}var h=v(m(l.xaxis,u._meshX,f.dataScale[0],u.xcalendar),m(l.yaxis,u._meshY,f.dataScale[1],u.ycalendar),m(l.zaxis,u._meshZ,f.dataScale[2],u.zcalendar)),T=v(u._meshI,u._meshJ,u._meshK),c={positions:h,cells:T,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,opacityscale:u.opacityscale,contourEnable:u.contour.show,contourColor:L(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},o=w(u);c.vertexIntensity=u._meshIntensity,c.vertexIntensityBounds=[o.min,o.max],c.colormap=C(u),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function a(u,f){var l=u.glplot.gl,m=d({gl:l}),h=new t(u,m,f.uid);return m._trace=h,h.update(f),u.glplot.add(m),h}H.exports=a},12448:function(H,U,e){var d=e(3400),C=e(58168),n=e(70548).supplyIsoDefaults,L=e(60192).opacityscaleDefaults;H.exports=function(v,g,r,t){function i(a,u){return d.coerce(v,g,C,a,u)}n(v,g,r,t,i),L(v,g,t,i)}},67776:function(H,U,e){H.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(H,U,e){var d=e(20832),C=e(52904).line,n=e(45464),L=e(29736).axisHoverFormat,w=e(21776).Ks,v=e(21776).Gw,g=e(10213),r=e(92880).extendFlat,t=e(76308);function i(a){return{marker:{color:r({},d.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},d.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},d.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}H.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:d.x,x0:d.x0,dx:d.dx,y:d.y,y0:d.y0,dy:d.dy,xperiod:d.xperiod,yperiod:d.yperiod,xperiod0:d.xperiod0,yperiod0:d.yperiod0,xperiodalignment:d.xperiodalignment,yperiodalignment:d.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:d.hovertext,hovertemplate:w({},{keys:g.eventDataKeys}),hoverinfo:r({},n.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:g.eventDataKeys.concat(["label"])}),text:d.text,textposition:d.textposition,insidetextanchor:d.insidetextanchor,textangle:d.textangle,textfont:d.textfont,insidetextfont:d.insidetextfont,outsidetextfont:d.outsidetextfont,constraintext:d.constraintext,cliponaxis:d.cliponaxis,orientation:d.orientation,offset:d.offset,width:d.width,increasing:i(),decreasing:i(),totals:i(),connector:{line:{color:r({},C.color,{dflt:t.defaultLine}),width:r({},C.width,{editType:"plot"}),dash:C.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:d.offsetgroup,alignmentgroup:d.alignmentgroup,zorder:d.zorder}},73540:function(H,U,e){var d=e(54460),C=e(1220),n=e(3400).mergeArray,L=e(4500),w=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function g(r){return r==="t"||r==="total"}H.exports=function(t,i){var a=d.getFromId(t,i.xaxis||"x"),u=d.getFromId(t,i.yaxis||"y"),f,l,m,h,T,c;i.orientation==="h"?(f=a.makeCalcdata(i,"x"),m=u.makeCalcdata(i,"y"),h=C(i,u,"y",m),T=!!i.yperiodalignment,c="y"):(f=u.makeCalcdata(i,"y"),m=a.makeCalcdata(i,"x"),h=C(i,a,"x",m),T=!!i.xperiodalignment,c="x"),l=h.vals;for(var o=Math.min(l.length,f.length),p=new Array(o),x=0,A,_=!1,y=0;y<o;y++){var E=f[y]||0,M=!1;(f[y]!==w||g(i.measure[y])||v(i.measure[y]))&&y+1<o&&(f[y+1]!==w||g(i.measure[y+1])||v(i.measure[y+1]))&&(M=!0);var s=p[y]={i:y,p:l[y],s:E,rawS:E,cNext:M};v(i.measure[y])?(x=s.s,s.isSum=!0,s.dir="totals",s.s=x):g(i.measure[y])?(s.isSum=!0,s.dir="totals",s.s=x):(s.isSum=!1,s.dir=s.rawS<0?"decreasing":"increasing",A=s.s,s.s=x+A,x+=A),s.dir==="totals"&&(_=!0),T&&(p[y].orig_p=m[y],p[y][c+"End"]=h.ends[y],p[y][c+"Start"]=h.starts[y]),i.ids&&(s.id=String(i.ids[y])),s.v=(i.base||0)+x}return p.length&&(p[0].hasTotals=_),n(i.text,p,"tx"),n(i.hovertext,p,"htx"),L(p,i),p}},10213:function(H){H.exports={eventDataKeys:["initial","delta","final"]}},50152:function(H,U,e){var d=e(96376).setGroupPositions;H.exports=function(n,L){var w=n._fullLayout,v=n._fullData,g=n.calcdata,r=L.xaxis,t=L.yaxis,i=[],a=[],u=[],f,l;for(l=0;l<v.length;l++){var m=v[l];m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="waterfall"&&(f=g[l],m.orientation==="h"?u.push(f):a.push(f),i.push(f))}var h={mode:w.waterfallmode,norm:w.waterfallnorm,gap:w.waterfallgap,groupgap:w.waterfallgroupgap};for(d(n,r,t,a,h),d(n,t,r,u,h),l=0;l<i.length;l++){f=i[l];for(var T=0;T<f.length;T++){var c=f[T];c.isSum===!1&&(c.s0+=T===0?0:f[T-1].s),T+1<f.length&&(f[T].nextP0=f[T+1].p0,f[T].nextS0=f[T+1].s0)}}}},24224:function(H,U,e){var d=e(3400),C=e(20011),n=e(31508).handleText,L=e(43980),w=e(31147),v=e(65776),g=e(76308),r=e(48164),t=r.INCREASING.COLOR,i=r.DECREASING.COLOR,a="#4499FF";function u(m,h,T){m(h+".marker.color",T),m(h+".marker.line.color",g.defaultLine),m(h+".marker.line.width")}function f(m,h,T,c){function o(y,E){return d.coerce(m,h,v,y,E)}var p=L(m,h,c,o);if(!p){h.visible=!1;return}w(m,h,c,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var x=o("textposition");n(m,h,c,o,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(o("texttemplate"),h.texttemplate||o("textinfo")),u(o,"increasing",t),u(o,"decreasing",i),u(o,"totals",a);var A=o("connector.visible");if(A){o("connector.mode");var _=o("connector.line.width");_&&(o("connector.line.color"),o("connector.line.dash"))}o("zorder")}function l(m,h){var T,c;function o(x){return d.coerce(c._input,c,v,x)}if(h.waterfallmode==="group")for(var p=0;p<m.length;p++)c=m[p],T=c._input,C(T,c,h,o)}H.exports={supplyDefaults:f,crossTraceDefaults:l}},53256:function(H){H.exports=function(e,d){return e.x="xVal"in d?d.xVal:d.x,e.y="yVal"in d?d.yVal:d.y,"initial"in d&&(e.initial=d.initial),"delta"in d&&(e.delta=d.delta),"final"in d&&(e.final=d.final),d.xa&&(e.xaxis=d.xa),d.ya&&(e.yaxis=d.ya),e}},94196:function(H,U,e){var d=e(54460).hoverLabelText,C=e(76308).opacity,n=e(63400).hoverOnBars,L=e(48164),w={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};H.exports=function(r,t,i,a,u){var f=n(r,t,i,a,u);if(!f)return;var l=f.cd,m=l[0].trace,h=m.orientation==="h",T=h?"x":"y",c=h?r.xa:r.ya;function o(b){return d(c,b,m[T+"hoverformat"])}var p=f.index,x=l[p],A=x.isSum?x.b+x.s:x.rawS;f.initial=x.b+x.s-A,f.delta=A,f.final=f.initial+f.delta;var _=o(Math.abs(f.delta));f.deltaLabel=A<0?"("+_+")":_,f.finalLabel=o(f.final),f.initialLabel=o(f.initial);var y=x.hi||m.hoverinfo,E=[];if(y&&y!=="none"&&y!=="skip"){var M=y==="all",s=y.split("+"),S=function(b){return M||s.indexOf(b)!==-1};x.isSum||(S("final")&&(h?!S("x"):!S("y"))&&E.push(f.finalLabel),S("delta")&&(A<0?E.push(f.deltaLabel+" "+w.decreasing):E.push(f.deltaLabel+" "+w.increasing)),S("initial")&&E.push("Initial: "+f.initialLabel))}return E.length&&(f.extraText=E.join("<br>")),f.color=v(m,x),[f]};function v(g,r){var t=g[r.dir].marker,i=t.color,a=t.line.color,u=t.line.width;if(C(i))return i;if(C(a)&&u)return a}},95952:function(H,U,e){H.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(H){H.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(H,U,e){var d=e(3400),C=e(91352);H.exports=function(n,L,w){var v=!1;function g(i,a){return d.coerce(n,L,C,i,a)}for(var r=0;r<w.length;r++){var t=w[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(g("waterfallmode"),g("waterfallgap",.2),g("waterfallgroupgap"))}},64488:function(H,U,e){var d=e(33428),C=e(3400),n=e(43616),L=e(39032).BADNUM,w=e(98184),v=e(82744).clearMinTextSize;H.exports=function(i,a,u,f){var l=i._fullLayout;v("waterfall",l),w.plot(i,a,u,f,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),g(i,a,u,f)};function g(t,i,a,u){var f=i.xaxis,l=i.yaxis;C.makeTraceGroups(u,a,"trace bars").each(function(m){var h=d.select(this),T=m[0].trace,c=C.ensureSingle(h,"g","lines");if(!T.connector||!T.connector.visible){c.remove();return}var o=T.orientation==="h",p=T.connector.mode,x=c.selectAll("g.line").data(C.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var A=x.size();x.each(function(_,y){if(!(y!==A-1&&!_.cNext)){var E=r(_,f,l,o),M=E[0],s=E[1],S="";M[0]!==L&&s[0]!==L&&M[1]!==L&&s[1]!==L&&(p==="spanning"&&!_.isSum&&y>0&&(o?S+="M"+M[0]+","+s[1]+"V"+s[0]:S+="M"+M[1]+","+s[0]+"H"+M[0]),p!=="between"&&(_.isSum||y<A-1)&&(o?S+="M"+M[1]+","+s[0]+"V"+s[1]:S+="M"+M[0]+","+s[1]+"H"+M[1]),M[2]!==L&&s[2]!==L&&(o?S+="M"+M[1]+","+s[1]+"V"+s[2]:S+="M"+M[1]+","+s[1]+"H"+M[2])),S===""&&(S="M0,0Z"),C.ensureSingle(d.select(this),"path").attr("d",S).call(n.setClipUrl,i.layerClipId,t)}})})}function r(t,i,a,u){var f=[],l=[],m=u?i:a,h=u?a:i;return f[0]=m.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),f[1]=m.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),f[2]=m.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),u?[f,l]:[l,f]}},12252:function(H,U,e){var d=e(33428),C=e(43616),n=e(76308),L=e(13448).DESELECTDIM,w=e(60100),v=e(82744).resizeText,g=w.styleTextPoints;function r(t,i,a){var u=a||d.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(t,u,"waterfall"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var l=d.select(this),m=f[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=m[h.dir].marker;d.select(this).call(n.fill,T.color).call(n.stroke,T.line.color).call(C.dashLine,T.line.dash,T.line.width).style("opacity",m.selectedpoints&&!h.selected?L:1)}}),g(l,m,t),l.selectAll(".lines").each(function(){var h=m.connector.line;C.lineGroupStyle(d.select(this).selectAll("path"),h.width,h.color,h.dash)})})}H.exports={style:r}},84224:function(H,U,e){var d=e(54460),C=e(3400),n=e(73060),L=e(60468).W,w=e(39032).BADNUM;U.moduleType="transform",U.name="aggregate";var v=U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},g=v.aggregations;U.supplyDefaults=function(f,l){var m={},h;function T(b,I){return C.coerce(f,m,v,b,I)}var c=T("enabled");if(!c)return m;var o=n.findArrayAttributes(l),p={};for(h=0;h<o.length;h++)p[o[h]]=1;var x=T("groups");if(!Array.isArray(x)){if(!p[x])return m.enabled=!1,m;p[x]=0}var A=f.aggregations||[],_=m.aggregations=new Array(A.length),y;function E(b,I){return C.coerce(A[h],y,g,b,I)}for(h=0;h<A.length;h++){y={_index:h};var M=E("target"),s=E("func"),S=E("enabled");S&&M&&(p[M]||s==="count"&&p[M]===void 0)?(s==="stddev"&&E("funcmode"),p[M]=0,_[h]=y):_[h]={enabled:!1,_index:h}}for(h=0;h<o.length;h++)p[o[h]]&&_.push({target:o[h],func:g.func.dflt,enabled:!0,_index:-1});return m},U.calcTransform=function(f,l,m){if(m.enabled){var h=m.groups,T=C.getTargetArray(l,{target:h});if(T){var c,o,p,x,A={},_={},y=[],E=L(l.transforms,m),M=T.length;for(l._length&&(M=Math.min(M,l._length)),c=0;c<M;c++)o=T[c],p=A[o],p===void 0?(A[o]=y.length,x=[c],y.push(x),_[A[o]]=E(c)):(y[p].push(c),_[A[o]]=(_[A[o]]||[]).concat(E(c)));m._indexToPoints=_;var s=m.aggregations;for(c=0;c<s.length;c++)r(f,l,y,s[c]);typeof h=="string"&&r(f,l,y,{target:h,func:"first",enabled:!0}),l._length=y.length}}};function r(f,l,m,h){if(h.enabled){for(var T=h.target,c=C.nestedProperty(l,T),o=c.get(),p=d.getDataConversions(f,l,T,o),x=t(h,p),A=new Array(m.length),_=0;_<m.length;_++)A[_]=x(o,m[_]);c.set(A),h.func==="count"&&C.pushUnique(l._arrayAttrs,T)}}function t(f,l){var m=f.func,h=l.d2c,T=l.c2d;switch(m){case"count":return i;case"first":return a;case"last":return u;case"sum":return function(c,o){for(var p=0,x=0;x<o.length;x++){var A=h(c[o[x]]);A!==w&&(p+=A)}return T(p)};case"avg":return function(c,o){for(var p=0,x=0,A=0;A<o.length;A++){var _=h(c[o[A]]);_!==w&&(p+=_,x++)}return x?T(p/x):w};case"min":return function(c,o){for(var p=1/0,x=0;x<o.length;x++){var A=h(c[o[x]]);A!==w&&(p=Math.min(p,A))}return p===1/0?w:T(p)};case"max":return function(c,o){for(var p=-1/0,x=0;x<o.length;x++){var A=h(c[o[x]]);A!==w&&(p=Math.max(p,A))}return p===-1/0?w:T(p)};case"range":return function(c,o){for(var p=1/0,x=-1/0,A=0;A<o.length;A++){var _=h(c[o[A]]);_!==w&&(p=Math.min(p,_),x=Math.max(x,_))}return x===-1/0||p===1/0?w:T(x-p)};case"change":return function(c,o){var p=h(c[o[0]]),x=h(c[o[o.length-1]]);return p===w||x===w?w:T(x-p)};case"median":return function(c,o){for(var p=[],x=0;x<o.length;x++){var A=h(c[o[x]]);A!==w&&p.push(A)}if(!p.length)return w;p.sort(C.sorterAsc);var _=(p.length-1)/2;return T((p[Math.floor(_)]+p[Math.ceil(_)])/2)};case"mode":return function(c,o){for(var p={},x=0,A=w,_=0;_<o.length;_++){var y=h(c[o[_]]);if(y!==w){var E=p[y]=(p[y]||0)+1;E>x&&(x=E,A=y)}}return x?T(A):w};case"rms":return function(c,o){for(var p=0,x=0,A=0;A<o.length;A++){var _=h(c[o[A]]);_!==w&&(p+=_*_,x++)}return x?T(Math.sqrt(p/x)):w};case"stddev":return function(c,o){var p=0,x=0,A=1,_=w,y;for(y=0;y<o.length&&_===w;y++)_=h(c[o[y]]);if(_===w)return w;for(;y<o.length;y++){var E=h(c[o[y]]);if(E!==w){var M=E-_;p+=M,x+=M*M,A++}}var s=f.funcmode==="sample"?A-1:A;return s?Math.sqrt((x-p*p/A)/s):0}}}function i(f,l){return l.length}function a(f,l){return f[l[0]]}function u(f,l){return f[l[l.length-1]]}},76744:function(H,U,e){var d=e(3400),C=e(24040),n=e(54460),L=e(60468).W,w=e(69104),v=w.COMPARISON_OPS,g=w.INTERVAL_OPS,r=w.SET_OPS;U.moduleType="transform",U.name="filter",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(g).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},U.supplyDefaults=function(i){var a={};function u(h,T){return d.coerce(i,a,U.attributes,h,T)}var f=u("enabled");if(f){var l=u("target");if(d.isArrayOrTypedArray(l)&&l.length===0)return a.enabled=!1,a;u("preservegaps"),u("operation"),u("value");var m=C.getComponentMethod("calendars","handleDefaults");m(i,a,"valuecalendar",null),m(i,a,"targetcalendar",null)}return a},U.calcTransform=function(i,a,u){if(!u.enabled)return;var f=d.getTargetArray(a,u);if(!f)return;var l=u.target,m=f.length;a._length&&(m=Math.min(m,a._length));var h=u.targetcalendar,T=a._arrayAttrs,c=u.preservegaps;if(typeof l=="string"){var o=d.nestedProperty(a,l+"calendar").get();o&&(h=o)}var p=n.getDataToCoordFunc(i,a,l,f),x=t(u,p,h),A={},_={},y=0;function E(D,B){for(var k=0;k<T.length;k++){var F=d.nestedProperty(a,T[k]);D(F,B)}}var M,s;c?(M=function(D){A[D.astr]=d.extendDeep([],D.get()),D.set(new Array(m))},s=function(D,B){var k=A[D.astr][B];D.get()[B]=k}):(M=function(D){A[D.astr]=d.extendDeep([],D.get()),D.set([])},s=function(D,B){var k=A[D.astr][B];D.get().push(k)}),E(M);for(var S=L(a.transforms,u),b=0;b<m;b++){var I=x(f[b]);I?(E(s,b),_[y++]=S(b)):c&&y++}u._indexToPoints=_,a._length=y};function t(i,a,u){var f=i.operation,l=i.value,m=d.isArrayOrTypedArray(l);function h(p){return p.indexOf(f)!==-1}var T=function(p){return a(p,0,i.valuecalendar)},c=function(p){return a(p,0,u)},o;switch(h(v)?o=T(m?l[0]:l):h(g)?o=m?[T(l[0]),T(l[1])]:[T(l),T(l)]:h(r)&&(o=m?l.map(T):[T(l)]),f){case"=":return function(p){return c(p)===o};case"!=":return function(p){return c(p)!==o};case"<":return function(p){return c(p)<o};case"<=":return function(p){return c(p)<=o};case">":return function(p){return c(p)>o};case">=":return function(p){return c(p)>=o};case"[]":return function(p){var x=c(p);return x>=o[0]&&x<=o[1]};case"()":return function(p){var x=c(p);return x>o[0]&&x<o[1]};case"[)":return function(p){var x=c(p);return x>=o[0]&&x<o[1]};case"(]":return function(p){var x=c(p);return x>o[0]&&x<=o[1]};case"][":return function(p){var x=c(p);return x<=o[0]||x>=o[1]};case")(":return function(p){var x=c(p);return x<o[0]||x>o[1]};case"](":return function(p){var x=c(p);return x<=o[0]||x>o[1]};case")[":return function(p){var x=c(p);return x<o[0]||x>=o[1]};case"{}":return function(p){return o.indexOf(c(p))!==-1};case"}{":return function(p){return o.indexOf(c(p))===-1}}}},32028:function(H,U,e){var d=e(3400),C=e(73060),n=e(7316),L=e(60468).W;U.moduleType="transform",U.name="groupby",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},U.supplyDefaults=function(v,g,r){var t,i={};function a(T,c){return d.coerce(v,i,U.attributes,T,c)}var u=a("enabled");if(!u)return i;a("groups"),a("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var f=v.styles,l=i.styles=[];if(f)for(t=0;t<f.length;t++){var m=l[t]={};d.coerce(f[t],l[t],U.attributes.styles,"target");var h=d.coerce(f[t],l[t],U.attributes.styles,"value");d.isPlainObject(h)?m.value=d.extendDeep({},h):h&&delete m.value}return i},U.transform=function(v,g){var r,t,i,a=[];for(t=0;t<v.length;t++)for(r=w(v[t],g),i=0;i<r.length;i++)a.push(r[i]);return a};function w(v,g){var r,t,i,a,u,f,l,m,h,T,c=g.transform,o=g.transformIndex,p=v.transforms[o].groups,x=L(v.transforms,c);if(!d.isArrayOrTypedArray(p)||p.length===0)return[v];var A=d.filterUnique(p),_=new Array(A.length),y=p.length,E=C.findArrayAttributes(v),M=c.styles||[],s={};for(r=0;r<M.length;r++)s[M[r].target]=M[r].value;c.styles&&(T=d.keyedContainer(c,"styles","target","value.name"));var S={},b={};for(r=0;r<A.length;r++){f=A[r],S[f]=r,b[f]=0,l=_[r]=d.extendDeepNoArrays({},v),l._group=f,l.transforms[o]._indexToPoints={};var I=null;for(T&&(I=T.get(f)),I||I===""?l.name=I:l.name=d.templateString(c.nameformat,{trace:v.name,group:f}),m=l.transforms,l.transforms=[],t=0;t<m.length;t++)l.transforms[t]=d.extendDeepNoArrays({},m[t]);for(t=0;t<E.length;t++)d.nestedProperty(l,E[t]).set([])}for(i=0;i<E.length;i++){for(a=E[i],t=0,h=[];t<A.length;t++)h[t]=d.nestedProperty(_[t],a).get();for(u=d.nestedProperty(v,a).get(),t=0;t<y;t++)h[S[p[t]]].push(u[t])}for(t=0;t<y;t++){l=_[S[p[t]]];var D=l.transforms[o]._indexToPoints;D[b[p[t]]]=x(t),b[p[t]]++}for(r=0;r<A.length;r++)f=A[r],l=_[r],n.clearExpandedTraceDefaultColors(l),l=d.extendDeepNoArrays(l,s[f]||{});return _}},60468:function(H,U){U.W=function(e,d){for(var C,n,L=0;L<e.length&&(C=e[L],C!==d);L++)!C._indexToPoints||C.enabled===!1||(n=C._indexToPoints);var w=n?function(v){return n[v]}:function(v){return[v]};return w}},76272:function(H,U,e){var d=e(3400),C=e(54460),n=e(60468).W,L=e(39032).BADNUM;U.moduleType="transform",U.name="sort",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},U.supplyDefaults=function(g){var r={};function t(a,u){return d.coerce(g,r,U.attributes,a,u)}var i=t("enabled");return i&&(t("target"),t("order")),r},U.calcTransform=function(g,r,t){if(t.enabled){var i=d.getTargetArray(r,t);if(i){var a=t.target,u=i.length;r._length&&(u=Math.min(u,r._length));var f=r._arrayAttrs,l=C.getDataToCoordFunc(g,r,a,i),m=w(t,i,l,u),h=n(r.transforms,t),T={},c,o;for(c=0;c<f.length;c++){var p=d.nestedProperty(r,f[c]),x=p.get(),A=new Array(u);for(o=0;o<u;o++)A[o]=x[m[o]];p.set(A)}for(o=0;o<u;o++)T[o]=h(m[o]);t._indexToPoints=T,r._length=u}}};function w(g,r,t,i){var a=new Array(i),u=new Array(i),f;for(f=0;f<i;f++)a[f]={v:r[f],i:f};for(a.sort(v(g,t)),f=0;f<i;f++)u[f]=a[f].i;return u}function v(g,r){switch(g.order){case"ascending":return function(t,i){var a=r(t.v),u=r(i.v);return a===L?1:u===L?-1:a-u};case"descending":return function(t,i){var a=r(t.v),u=r(i.v);return a===L?1:u===L?-1:u-a}}}},25788:function(H,U){U.version="2.32.0"},67792:function(H,U,e){var d=e(4168);(function(){var C={1964:function(v,g,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,g,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(Ie,pe){if(!(Ie instanceof pe))throw new TypeError("Cannot call a class as a function")}function i(Ie,pe){for(var Te=0;Te<pe.length;Te++){var Ue=pe[Te];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Ie,u(Ue.key),Ue)}}function a(Ie,pe,Te){return pe&&i(Ie.prototype,pe),Te&&i(Ie,Te),Object.defineProperty(Ie,"prototype",{writable:!1}),Ie}function u(Ie){var pe=f(Ie,"string");return x(pe)=="symbol"?pe:pe+""}function f(Ie,pe){if(x(Ie)!="object"||!Ie)return Ie;var Te=Ie[Symbol.toPrimitive];if(Te!==void 0){var Ue=Te.call(Ie,pe||"default");if(x(Ue)!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return(pe==="string"?String:Number)(Ie)}function l(Ie,pe,Te){return pe=c(pe),m(Ie,T()?Reflect.construct(pe,Te||[],c(Ie).constructor):pe.apply(Ie,Te))}function m(Ie,pe){if(pe&&(x(pe)==="object"||typeof pe=="function"))return pe;if(pe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(Ie)}function h(Ie){if(Ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}function T(){try{var Ie=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!Ie})()}function c(Ie){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Te){return Te.__proto__||Object.getPrototypeOf(Te)},c(Ie)}function o(Ie,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");Ie.prototype=Object.create(pe&&pe.prototype,{constructor:{value:Ie,writable:!0,configurable:!0}}),Object.defineProperty(Ie,"prototype",{writable:!1}),pe&&p(Ie,pe)}function p(Ie,pe){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,et){return Ue.__proto__=et,Ue},p(Ie,pe)}function x(Ie){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},x(Ie)}var A=r(7507),_=r(3778),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.hp=S,g.IS=50;var E=2147483647;S.TYPED_ARRAY_SUPPORT=M(),!S.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{var Ie=new Uint8Array(1),pe={foo:function(){return 42}};return Object.setPrototypeOf(pe,Uint8Array.prototype),Object.setPrototypeOf(Ie,pe),Ie.foo()===42}catch{return!1}}Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}});function s(Ie){if(Ie>E)throw new RangeError('The value "'+Ie+'" is invalid for option "size"');var pe=new Uint8Array(Ie);return Object.setPrototypeOf(pe,S.prototype),pe}function S(Ie,pe,Te){if(typeof Ie=="number"){if(typeof pe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B(Ie)}return b(Ie,pe,Te)}S.poolSize=8192;function b(Ie,pe,Te){if(typeof Ie=="string")return k(Ie,pe);if(ArrayBuffer.isView(Ie))return N(Ie);if(Ie==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Ie));if(Je(Ie,ArrayBuffer)||Ie&&Je(Ie.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je(Ie,SharedArrayBuffer)||Ie&&Je(Ie.buffer,SharedArrayBuffer)))return O(Ie,pe,Te);if(typeof Ie=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ue=Ie.valueOf&&Ie.valueOf();if(Ue!=null&&Ue!==Ie)return S.from(Ue,pe,Te);var et=V(Ie);if(et)return et;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ie[Symbol.toPrimitive]=="function")return S.from(Ie[Symbol.toPrimitive]("string"),pe,Te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(Ie))}S.from=function(Ie,pe,Te){return b(Ie,pe,Te)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array);function I(Ie){if(typeof Ie!="number")throw new TypeError('"size" argument must be of type number');if(Ie<0)throw new RangeError('The value "'+Ie+'" is invalid for option "size"')}function D(Ie,pe,Te){return I(Ie),Ie<=0?s(Ie):pe!==void 0?typeof Te=="string"?s(Ie).fill(pe,Te):s(Ie).fill(pe):s(Ie)}S.alloc=function(Ie,pe,Te){return D(Ie,pe,Te)};function B(Ie){return I(Ie),s(Ie<0?0:X(Ie)|0)}S.allocUnsafe=function(Ie){return B(Ie)},S.allocUnsafeSlow=function(Ie){return B(Ie)};function k(Ie,pe){if((typeof pe!="string"||pe==="")&&(pe="utf8"),!S.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);var Te=ee(Ie,pe)|0,Ue=s(Te),et=Ue.write(Ie,pe);return et!==Te&&(Ue=Ue.slice(0,et)),Ue}function F(Ie){for(var pe=Ie.length<0?0:X(Ie.length)|0,Te=s(pe),Ue=0;Ue<pe;Ue+=1)Te[Ue]=Ie[Ue]&255;return Te}function N(Ie){if(Je(Ie,Uint8Array)){var pe=new Uint8Array(Ie);return O(pe.buffer,pe.byteOffset,pe.byteLength)}return F(Ie)}function O(Ie,pe,Te){if(pe<0||Ie.byteLength<pe)throw new RangeError('"offset" is outside of buffer bounds');if(Ie.byteLength<pe+(Te||0))throw new RangeError('"length" is outside of buffer bounds');var Ue;return pe===void 0&&Te===void 0?Ue=new Uint8Array(Ie):Te===void 0?Ue=new Uint8Array(Ie,pe):Ue=new Uint8Array(Ie,pe,Te),Object.setPrototypeOf(Ue,S.prototype),Ue}function V(Ie){if(S.isBuffer(Ie)){var pe=X(Ie.length)|0,Te=s(pe);return Te.length===0||Ie.copy(Te,0,0,pe),Te}if(Ie.length!==void 0)return typeof Ie.length!="number"||Xe(Ie.length)?s(0):F(Ie);if(Ie.type==="Buffer"&&Array.isArray(Ie.data))return F(Ie.data)}function X(Ie){if(Ie>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return Ie|0}S.isBuffer=function(pe){return pe!=null&&pe._isBuffer===!0&&pe!==S.prototype},S.compare=function(pe,Te){if(Je(pe,Uint8Array)&&(pe=S.from(pe,pe.offset,pe.byteLength)),Je(Te,Uint8Array)&&(Te=S.from(Te,Te.offset,Te.byteLength)),!S.isBuffer(pe)||!S.isBuffer(Te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(pe===Te)return 0;for(var Ue=pe.length,et=Te.length,st=0,lt=Math.min(Ue,et);st<lt;++st)if(pe[st]!==Te[st]){Ue=pe[st],et=Te[st];break}return Ue<et?-1:et<Ue?1:0},S.isEncoding=function(pe){switch(String(pe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(pe,Te){if(!Array.isArray(pe))throw new TypeError('"list" argument must be an Array of Buffers');if(pe.length===0)return S.alloc(0);var Ue;if(Te===void 0)for(Te=0,Ue=0;Ue<pe.length;++Ue)Te+=pe[Ue].length;var et=S.allocUnsafe(Te),st=0;for(Ue=0;Ue<pe.length;++Ue){var lt=pe[Ue];if(Je(lt,Uint8Array))st+lt.length>et.length?(S.isBuffer(lt)||(lt=S.from(lt)),lt.copy(et,st)):Uint8Array.prototype.set.call(et,lt,st);else if(S.isBuffer(lt))lt.copy(et,st);else throw new TypeError('"list" argument must be an Array of Buffers');st+=lt.length}return et};function ee(Ie,pe){if(S.isBuffer(Ie))return Ie.length;if(ArrayBuffer.isView(Ie)||Je(Ie,ArrayBuffer))return Ie.byteLength;if(typeof Ie!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+x(Ie));var Te=Ie.length,Ue=arguments.length>2&&arguments[2]===!0;if(!Ue&&Te===0)return 0;for(var et=!1;;)switch(pe){case"ascii":case"latin1":case"binary":return Te;case"utf8":case"utf-8":return Tt(Ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te*2;case"hex":return Te>>>1;case"base64":return ze(Ie).length;default:if(et)return Ue?-1:Tt(Ie).length;pe=(""+pe).toLowerCase(),et=!0}}S.byteLength=ee;function ne(Ie,pe,Te){var Ue=!1;if((pe===void 0||pe<0)&&(pe=0),pe>this.length||((Te===void 0||Te>this.length)&&(Te=this.length),Te<=0)||(Te>>>=0,pe>>>=0,Te<=pe))return"";for(Ie||(Ie="utf8");;)switch(Ie){case"hex":return Se(this,pe,Te);case"utf8":case"utf-8":return K(this,pe,Te);case"ascii":return he(this,pe,Te);case"latin1":case"binary":return xe(this,pe,Te);case"base64":return j(this,pe,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,pe,Te);default:if(Ue)throw new TypeError("Unknown encoding: "+Ie);Ie=(Ie+"").toLowerCase(),Ue=!0}}S.prototype._isBuffer=!0;function q(Ie,pe,Te){var Ue=Ie[pe];Ie[pe]=Ie[Te],Ie[Te]=Ue}S.prototype.swap16=function(){var pe=this.length;if(pe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Te=0;Te<pe;Te+=2)q(this,Te,Te+1);return this},S.prototype.swap32=function(){var pe=this.length;if(pe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Te=0;Te<pe;Te+=4)q(this,Te,Te+3),q(this,Te+1,Te+2);return this},S.prototype.swap64=function(){var pe=this.length;if(pe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Te=0;Te<pe;Te+=8)q(this,Te,Te+7),q(this,Te+1,Te+6),q(this,Te+2,Te+5),q(this,Te+3,Te+4);return this},S.prototype.toString=function(){var pe=this.length;return pe===0?"":arguments.length===0?K(this,0,pe):ne.apply(this,arguments)},S.prototype.toLocaleString=S.prototype.toString,S.prototype.equals=function(pe){if(!S.isBuffer(pe))throw new TypeError("Argument must be a Buffer");return this===pe?!0:S.compare(this,pe)===0},S.prototype.inspect=function(){var pe="",Te=g.IS;return pe=this.toString("hex",0,Te).replace(/(.{2})/g,"$1 ").trim(),this.length>Te&&(pe+=" ... "),"<Buffer "+pe+">"},y&&(S.prototype[y]=S.prototype.inspect),S.prototype.compare=function(pe,Te,Ue,et,st){if(Je(pe,Uint8Array)&&(pe=S.from(pe,pe.offset,pe.byteLength)),!S.isBuffer(pe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+x(pe));if(Te===void 0&&(Te=0),Ue===void 0&&(Ue=pe?pe.length:0),et===void 0&&(et=0),st===void 0&&(st=this.length),Te<0||Ue>pe.length||et<0||st>this.length)throw new RangeError("out of range index");if(et>=st&&Te>=Ue)return 0;if(et>=st)return-1;if(Te>=Ue)return 1;if(Te>>>=0,Ue>>>=0,et>>>=0,st>>>=0,this===pe)return 0;for(var lt=st-et,jt=Ue-Te,Jt=Math.min(lt,jt),St=this.slice(et,st),Rt=pe.slice(Te,Ue),$t=0;$t<Jt;++$t)if(St[$t]!==Rt[$t]){lt=St[$t],jt=Rt[$t];break}return lt<jt?-1:jt<lt?1:0};function se(Ie,pe,Te,Ue,et){if(Ie.length===0)return-1;if(typeof Te=="string"?(Ue=Te,Te=0):Te>2147483647?Te=2147483647:Te<-2147483648&&(Te=-2147483648),Te=+Te,Xe(Te)&&(Te=et?0:Ie.length-1),Te<0&&(Te=Ie.length+Te),Te>=Ie.length){if(et)return-1;Te=Ie.length-1}else if(Te<0)if(et)Te=0;else return-1;if(typeof pe=="string"&&(pe=S.from(pe,Ue)),S.isBuffer(pe))return pe.length===0?-1:J(Ie,pe,Te,Ue,et);if(typeof pe=="number")return pe=pe&255,typeof Uint8Array.prototype.indexOf=="function"?et?Uint8Array.prototype.indexOf.call(Ie,pe,Te):Uint8Array.prototype.lastIndexOf.call(Ie,pe,Te):J(Ie,[pe],Te,Ue,et);throw new TypeError("val must be string, number or Buffer")}function J(Ie,pe,Te,Ue,et){var st=1,lt=Ie.length,jt=pe.length;if(Ue!==void 0&&(Ue=String(Ue).toLowerCase(),Ue==="ucs2"||Ue==="ucs-2"||Ue==="utf16le"||Ue==="utf-16le")){if(Ie.length<2||pe.length<2)return-1;st=2,lt/=2,jt/=2,Te/=2}function Jt(xt,qt){return st===1?xt[qt]:xt.readUInt16BE(qt*st)}var St;if(et){var Rt=-1;for(St=Te;St<lt;St++)if(Jt(Ie,St)===Jt(pe,Rt===-1?0:St-Rt)){if(Rt===-1&&(Rt=St),St-Rt+1===jt)return Rt*st}else Rt!==-1&&(St-=St-Rt),Rt=-1}else for(Te+jt>lt&&(Te=lt-jt),St=Te;St>=0;St--){for(var $t=!0,Pr=0;Pr<jt;Pr++)if(Jt(Ie,St+Pr)!==Jt(pe,Pr)){$t=!1;break}if($t)return St}return-1}S.prototype.includes=function(pe,Te,Ue){return this.indexOf(pe,Te,Ue)!==-1},S.prototype.indexOf=function(pe,Te,Ue){return se(this,pe,Te,Ue,!0)},S.prototype.lastIndexOf=function(pe,Te,Ue){return se(this,pe,Te,Ue,!1)};function Z(Ie,pe,Te,Ue){Te=Number(Te)||0;var et=Ie.length-Te;Ue?(Ue=Number(Ue),Ue>et&&(Ue=et)):Ue=et;var st=pe.length;Ue>st/2&&(Ue=st/2);var lt;for(lt=0;lt<Ue;++lt){var jt=parseInt(pe.substr(lt*2,2),16);if(Xe(jt))return lt;Ie[Te+lt]=jt}return lt}function te(Ie,pe,Te,Ue){return je(Tt(pe,Ie.length-Te),Ie,Te,Ue)}function Y(Ie,pe,Te,Ue){return je(Ct(pe),Ie,Te,Ue)}function ie(Ie,pe,Te,Ue){return je(ze(pe),Ie,Te,Ue)}function le(Ie,pe,Te,Ue){return je(at(pe,Ie.length-Te),Ie,Te,Ue)}S.prototype.write=function(pe,Te,Ue,et){if(Te===void 0)et="utf8",Ue=this.length,Te=0;else if(Ue===void 0&&typeof Te=="string")et=Te,Ue=this.length,Te=0;else if(isFinite(Te))Te=Te>>>0,isFinite(Ue)?(Ue=Ue>>>0,et===void 0&&(et="utf8")):(et=Ue,Ue=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var st=this.length-Te;if((Ue===void 0||Ue>st)&&(Ue=st),pe.length>0&&(Ue<0||Te<0)||Te>this.length)throw new RangeError("Attempt to write outside buffer bounds");et||(et="utf8");for(var lt=!1;;)switch(et){case"hex":return Z(this,pe,Te,Ue);case"utf8":case"utf-8":return te(this,pe,Te,Ue);case"ascii":case"latin1":case"binary":return Y(this,pe,Te,Ue);case"base64":return ie(this,pe,Te,Ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,pe,Te,Ue);default:if(lt)throw new TypeError("Unknown encoding: "+et);et=(""+et).toLowerCase(),lt=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(Ie,pe,Te){return pe===0&&Te===Ie.length?A.fromByteArray(Ie):A.fromByteArray(Ie.slice(pe,Te))}function K(Ie,pe,Te){Te=Math.min(Ie.length,Te);for(var Ue=[],et=pe;et<Te;){var st=Ie[et],lt=null,jt=st>239?4:st>223?3:st>191?2:1;if(et+jt<=Te){var Jt=void 0,St=void 0,Rt=void 0,$t=void 0;switch(jt){case 1:st<128&&(lt=st);break;case 2:Jt=Ie[et+1],(Jt&192)===128&&($t=(st&31)<<6|Jt&63,$t>127&&(lt=$t));break;case 3:Jt=Ie[et+1],St=Ie[et+2],(Jt&192)===128&&(St&192)===128&&($t=(st&15)<<12|(Jt&63)<<6|St&63,$t>2047&&($t<55296||$t>57343)&&(lt=$t));break;case 4:Jt=Ie[et+1],St=Ie[et+2],Rt=Ie[et+3],(Jt&192)===128&&(St&192)===128&&(Rt&192)===128&&($t=(st&15)<<18|(Jt&63)<<12|(St&63)<<6|Rt&63,$t>65535&&$t<1114112&&(lt=$t))}}lt===null?(lt=65533,jt=1):lt>65535&&(lt-=65536,Ue.push(lt>>>10&1023|55296),lt=56320|lt&1023),Ue.push(lt),et+=jt}return ae(Ue)}var ue=4096;function ae(Ie){var pe=Ie.length;if(pe<=ue)return String.fromCharCode.apply(String,Ie);for(var Te="",Ue=0;Ue<pe;)Te+=String.fromCharCode.apply(String,Ie.slice(Ue,Ue+=ue));return Te}function he(Ie,pe,Te){var Ue="";Te=Math.min(Ie.length,Te);for(var et=pe;et<Te;++et)Ue+=String.fromCharCode(Ie[et]&127);return Ue}function xe(Ie,pe,Te){var Ue="";Te=Math.min(Ie.length,Te);for(var et=pe;et<Te;++et)Ue+=String.fromCharCode(Ie[et]);return Ue}function Se(Ie,pe,Te){var Ue=Ie.length;(!pe||pe<0)&&(pe=0),(!Te||Te<0||Te>Ue)&&(Te=Ue);for(var et="",st=pe;st<Te;++st)et+=Oe[Ie[st]];return et}function Ae(Ie,pe,Te){for(var Ue=Ie.slice(pe,Te),et="",st=0;st<Ue.length-1;st+=2)et+=String.fromCharCode(Ue[st]+Ue[st+1]*256);return et}S.prototype.slice=function(pe,Te){var Ue=this.length;pe=~~pe,Te=Te===void 0?Ue:~~Te,pe<0?(pe+=Ue,pe<0&&(pe=0)):pe>Ue&&(pe=Ue),Te<0?(Te+=Ue,Te<0&&(Te=0)):Te>Ue&&(Te=Ue),Te<pe&&(Te=pe);var et=this.subarray(pe,Te);return Object.setPrototypeOf(et,S.prototype),et};function De(Ie,pe,Te){if(Ie%1!==0||Ie<0)throw new RangeError("offset is not uint");if(Ie+pe>Te)throw new RangeError("Trying to access beyond buffer length")}S.prototype.readUintLE=S.prototype.readUIntLE=function(pe,Te,Ue){pe=pe>>>0,Te=Te>>>0,Ue||De(pe,Te,this.length);for(var et=this[pe],st=1,lt=0;++lt<Te&&(st*=256);)et+=this[pe+lt]*st;return et},S.prototype.readUintBE=S.prototype.readUIntBE=function(pe,Te,Ue){pe=pe>>>0,Te=Te>>>0,Ue||De(pe,Te,this.length);for(var et=this[pe+--Te],st=1;Te>0&&(st*=256);)et+=this[pe+--Te]*st;return et},S.prototype.readUint8=S.prototype.readUInt8=function(pe,Te){return pe=pe>>>0,Te||De(pe,1,this.length),this[pe]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(pe,Te){return pe=pe>>>0,Te||De(pe,2,this.length),this[pe]|this[pe+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(pe,Te){return pe=pe>>>0,Te||De(pe,2,this.length),this[pe]<<8|this[pe+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(pe,Te){return pe=pe>>>0,Te||De(pe,4,this.length),(this[pe]|this[pe+1]<<8|this[pe+2]<<16)+this[pe+3]*16777216},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(pe,Te){return pe=pe>>>0,Te||De(pe,4,this.length),this[pe]*16777216+(this[pe+1]<<16|this[pe+2]<<8|this[pe+3])},S.prototype.readBigUInt64LE=ke(function(pe){pe=pe>>>0,nt(pe,"offset");var Te=this[pe],Ue=this[pe+7];(Te===void 0||Ue===void 0)&&dt(pe,this.length-8);var et=Te+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24),st=this[++pe]+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+Ue*Math.pow(2,24);return BigInt(et)+(BigInt(st)<<BigInt(32))}),S.prototype.readBigUInt64BE=ke(function(pe){pe=pe>>>0,nt(pe,"offset");var Te=this[pe],Ue=this[pe+7];(Te===void 0||Ue===void 0)&&dt(pe,this.length-8);var et=Te*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe],st=this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+Ue;return(BigInt(et)<<BigInt(32))+BigInt(st)}),S.prototype.readIntLE=function(pe,Te,Ue){pe=pe>>>0,Te=Te>>>0,Ue||De(pe,Te,this.length);for(var et=this[pe],st=1,lt=0;++lt<Te&&(st*=256);)et+=this[pe+lt]*st;return st*=128,et>=st&&(et-=Math.pow(2,8*Te)),et},S.prototype.readIntBE=function(pe,Te,Ue){pe=pe>>>0,Te=Te>>>0,Ue||De(pe,Te,this.length);for(var et=Te,st=1,lt=this[pe+--et];et>0&&(st*=256);)lt+=this[pe+--et]*st;return st*=128,lt>=st&&(lt-=Math.pow(2,8*Te)),lt},S.prototype.readInt8=function(pe,Te){return pe=pe>>>0,Te||De(pe,1,this.length),this[pe]&128?(255-this[pe]+1)*-1:this[pe]},S.prototype.readInt16LE=function(pe,Te){pe=pe>>>0,Te||De(pe,2,this.length);var Ue=this[pe]|this[pe+1]<<8;return Ue&32768?Ue|4294901760:Ue},S.prototype.readInt16BE=function(pe,Te){pe=pe>>>0,Te||De(pe,2,this.length);var Ue=this[pe+1]|this[pe]<<8;return Ue&32768?Ue|4294901760:Ue},S.prototype.readInt32LE=function(pe,Te){return pe=pe>>>0,Te||De(pe,4,this.length),this[pe]|this[pe+1]<<8|this[pe+2]<<16|this[pe+3]<<24},S.prototype.readInt32BE=function(pe,Te){return pe=pe>>>0,Te||De(pe,4,this.length),this[pe]<<24|this[pe+1]<<16|this[pe+2]<<8|this[pe+3]},S.prototype.readBigInt64LE=ke(function(pe){pe=pe>>>0,nt(pe,"offset");var Te=this[pe],Ue=this[pe+7];(Te===void 0||Ue===void 0)&&dt(pe,this.length-8);var et=this[pe+4]+this[pe+5]*Math.pow(2,8)+this[pe+6]*Math.pow(2,16)+(Ue<<24);return(BigInt(et)<<BigInt(32))+BigInt(Te+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24))}),S.prototype.readBigInt64BE=ke(function(pe){pe=pe>>>0,nt(pe,"offset");var Te=this[pe],Ue=this[pe+7];(Te===void 0||Ue===void 0)&&dt(pe,this.length-8);var et=(Te<<24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe];return(BigInt(et)<<BigInt(32))+BigInt(this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+Ue)}),S.prototype.readFloatLE=function(pe,Te){return pe=pe>>>0,Te||De(pe,4,this.length),_.read(this,pe,!0,23,4)},S.prototype.readFloatBE=function(pe,Te){return pe=pe>>>0,Te||De(pe,4,this.length),_.read(this,pe,!1,23,4)},S.prototype.readDoubleLE=function(pe,Te){return pe=pe>>>0,Te||De(pe,8,this.length),_.read(this,pe,!0,52,8)},S.prototype.readDoubleBE=function(pe,Te){return pe=pe>>>0,Te||De(pe,8,this.length),_.read(this,pe,!1,52,8)};function we(Ie,pe,Te,Ue,et,st){if(!S.isBuffer(Ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(pe>et||pe<st)throw new RangeError('"value" argument is out of bounds');if(Te+Ue>Ie.length)throw new RangeError("Index out of range")}S.prototype.writeUintLE=S.prototype.writeUIntLE=function(pe,Te,Ue,et){if(pe=+pe,Te=Te>>>0,Ue=Ue>>>0,!et){var st=Math.pow(2,8*Ue)-1;we(this,pe,Te,Ue,st,0)}var lt=1,jt=0;for(this[Te]=pe&255;++jt<Ue&&(lt*=256);)this[Te+jt]=pe/lt&255;return Te+Ue},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(pe,Te,Ue,et){if(pe=+pe,Te=Te>>>0,Ue=Ue>>>0,!et){var st=Math.pow(2,8*Ue)-1;we(this,pe,Te,Ue,st,0)}var lt=Ue-1,jt=1;for(this[Te+lt]=pe&255;--lt>=0&&(jt*=256);)this[Te+lt]=pe/jt&255;return Te+Ue},S.prototype.writeUint8=S.prototype.writeUInt8=function(pe,Te,Ue){return pe=+pe,Te=Te>>>0,Ue||we(this,pe,Te,1,255,0),this[Te]=pe&255,Te+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(pe,Te,Ue){return pe=+pe,Te=Te>>>0,Ue||we(this,pe,Te,2,65535,0),this[Te]=pe&255,this[Te+1]=pe>>>8,Te+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(pe,Te,Ue){return pe=+pe,Te=Te>>>0,Ue||we(this,pe,Te,2,65535,0),this[Te]=pe>>>8,this[Te+1]=pe&255,Te+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(pe,Te,Ue){return pe=+pe,Te=Te>>>0,Ue||we(this,pe,Te,4,4294967295,0),this[Te+3]=pe>>>24,this[Te+2]=pe>>>16,this[Te+1]=pe>>>8,this[Te]=pe&255,Te+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(pe,Te,Ue){return pe=+pe,Te=Te>>>0,Ue||we(this,pe,Te,4,4294967295,0),this[Te]=pe>>>24,this[Te+1]=pe>>>16,this[Te+2]=pe>>>8,this[Te+3]=pe&255,Te+4};function Ce(Ie,pe,Te,Ue,et){ct(pe,Ue,et,Ie,Te,7);var st=Number(pe&BigInt(4294967295));Ie[Te++]=st,st=st>>8,Ie[Te++]=st,st=st>>8,Ie[Te++]=st,st=st>>8,Ie[Te++]=st;var lt=Number(pe>>BigInt(32)&BigInt(4294967295));return Ie[Te++]=lt,lt=lt>>8,Ie[Te++]=lt,lt=lt>>8,Ie[Te++]=lt,lt=lt>>8,Ie[Te++]=lt,Te}function be(Ie,pe,Te,Ue,et){ct(pe,Ue,et,Ie,Te,7);var st=Number(pe&BigInt(4294967295));Ie[Te+7]=st,st=st>>8,Ie[Te+6]=st,st=st>>8,Ie[Te+5]=st,st=st>>8,Ie[Te+4]=st;var lt=Number(pe>>BigInt(32)&BigInt(4294967295));return Ie[Te+3]=lt,lt=lt>>8,Ie[Te+2]=lt,lt=lt>>8,Ie[Te+1]=lt,lt=lt>>8,Ie[Te]=lt,Te+8}S.prototype.writeBigUInt64LE=ke(function(pe){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ce(this,pe,Te,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ke(function(pe){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return be(this,pe,Te,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(pe,Te,Ue,et){if(pe=+pe,Te=Te>>>0,!et){var st=Math.pow(2,8*Ue-1);we(this,pe,Te,Ue,st-1,-st)}var lt=0,jt=1,Jt=0;for(this[Te]=pe&255;++lt<Ue&&(jt*=256);)pe<0&&Jt===0&&this[Te+lt-1]!==0&&(Jt=1),this[Te+lt]=(pe/jt>>0)-Jt&255;return Te+Ue},S.prototype.writeIntBE=function(pe,Te,Ue,et){if(pe=+pe,Te=Te>>>0,!et){var st=Math.pow(2,8*Ue-1);we(this,pe,Te,Ue,st-1,-st)}var lt=Ue-1,jt=1,Jt=0;for(this[Te+lt]=pe&255;--lt>=0&&(jt*=256);)pe<0&&Jt===0&&this[Te+lt+1]!==0&&(Jt=1),this[Te+lt]=(pe/jt>>0)-Jt&255;return Te+Ue},S.prototype.writeInt8=function(pe,Te,Ue){return pe=+pe,Te=Te>>>0,Ue||we(this,pe,Te,1,127,-128),pe<0&&(pe=255+pe+1),this[Te]=pe&255,Te+1},S.prototype.writeInt16LE=function(pe,Te,Ue){return pe=+pe,Te=Te>>>0,Ue||we(this,pe,Te,2,32767,-32768),this[Te]=pe&255,this[Te+1]=pe>>>8,Te+2},S.prototype.writeInt16BE=function(pe,Te,Ue){return pe=+pe,Te=Te>>>0,Ue||we(this,pe,Te,2,32767,-32768),this[Te]=pe>>>8,this[Te+1]=pe&255,Te+2},S.prototype.writeInt32LE=function(pe,Te,Ue){return pe=+pe,Te=Te>>>0,Ue||we(this,pe,Te,4,2147483647,-2147483648),this[Te]=pe&255,this[Te+1]=pe>>>8,this[Te+2]=pe>>>16,this[Te+3]=pe>>>24,Te+4},S.prototype.writeInt32BE=function(pe,Te,Ue){return pe=+pe,Te=Te>>>0,Ue||we(this,pe,Te,4,2147483647,-2147483648),pe<0&&(pe=4294967295+pe+1),this[Te]=pe>>>24,this[Te+1]=pe>>>16,this[Te+2]=pe>>>8,this[Te+3]=pe&255,Te+4},S.prototype.writeBigInt64LE=ke(function(pe){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ce(this,pe,Te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ke(function(pe){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return be(this,pe,Te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pe(Ie,pe,Te,Ue,et,st){if(Te+Ue>Ie.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("Index out of range")}function Ve(Ie,pe,Te,Ue,et){return pe=+pe,Te=Te>>>0,et||Pe(Ie,pe,Te,4),_.write(Ie,pe,Te,Ue,23,4),Te+4}S.prototype.writeFloatLE=function(pe,Te,Ue){return Ve(this,pe,Te,!0,Ue)},S.prototype.writeFloatBE=function(pe,Te,Ue){return Ve(this,pe,Te,!1,Ue)};function Ge(Ie,pe,Te,Ue,et){return pe=+pe,Te=Te>>>0,et||Pe(Ie,pe,Te,8),_.write(Ie,pe,Te,Ue,52,8),Te+8}S.prototype.writeDoubleLE=function(pe,Te,Ue){return Ge(this,pe,Te,!0,Ue)},S.prototype.writeDoubleBE=function(pe,Te,Ue){return Ge(this,pe,Te,!1,Ue)},S.prototype.copy=function(pe,Te,Ue,et){if(!S.isBuffer(pe))throw new TypeError("argument should be a Buffer");if(Ue||(Ue=0),!et&&et!==0&&(et=this.length),Te>=pe.length&&(Te=pe.length),Te||(Te=0),et>0&&et<Ue&&(et=Ue),et===Ue||pe.length===0||this.length===0)return 0;if(Te<0)throw new RangeError("targetStart out of bounds");if(Ue<0||Ue>=this.length)throw new RangeError("Index out of range");if(et<0)throw new RangeError("sourceEnd out of bounds");et>this.length&&(et=this.length),pe.length-Te<et-Ue&&(et=pe.length-Te+Ue);var st=et-Ue;return this===pe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Te,Ue,et):Uint8Array.prototype.set.call(pe,this.subarray(Ue,et),Te),st},S.prototype.fill=function(pe,Te,Ue,et){if(typeof pe=="string"){if(typeof Te=="string"?(et=Te,Te=0,Ue=this.length):typeof Ue=="string"&&(et=Ue,Ue=this.length),et!==void 0&&typeof et!="string")throw new TypeError("encoding must be a string");if(typeof et=="string"&&!S.isEncoding(et))throw new TypeError("Unknown encoding: "+et);if(pe.length===1){var st=pe.charCodeAt(0);(et==="utf8"&&st<128||et==="latin1")&&(pe=st)}}else typeof pe=="number"?pe=pe&255:typeof pe=="boolean"&&(pe=Number(pe));if(Te<0||this.length<Te||this.length<Ue)throw new RangeError("Out of range index");if(Ue<=Te)return this;Te=Te>>>0,Ue=Ue===void 0?this.length:Ue>>>0,pe||(pe=0);var lt;if(typeof pe=="number")for(lt=Te;lt<Ue;++lt)this[lt]=pe;else{var jt=S.isBuffer(pe)?pe:S.from(pe,et),Jt=jt.length;if(Jt===0)throw new TypeError('The value "'+pe+'" is invalid for argument "value"');for(lt=0;lt<Ue-Te;++lt)this[lt+Te]=jt[lt%Jt]}return this};var Fe={};function He(Ie,pe,Te){Fe[Ie]=function(Ue){function et(){var st;return t(this,et),st=l(this,et),Object.defineProperty(st,"message",{value:pe.apply(st,arguments),writable:!0,configurable:!0}),st.name="".concat(st.name," [").concat(Ie,"]"),st.stack,delete st.name,st}return o(et,Ue),a(et,[{key:"code",get:function(){return Ie},set:function(lt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:lt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Ie,"]: ").concat(this.message)}}])}(Te)}He("ERR_BUFFER_OUT_OF_BOUNDS",function(Ie){return Ie?"".concat(Ie," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(Ie,pe){return'The "'.concat(Ie,'" argument must be of type number. Received type ').concat(x(pe))},TypeError),He("ERR_OUT_OF_RANGE",function(Ie,pe,Te){var Ue='The value of "'.concat(Ie,'" is out of range.'),et=Te;return Number.isInteger(Te)&&Math.abs(Te)>Math.pow(2,32)?et=ft(String(Te)):typeof Te=="bigint"&&(et=String(Te),(Te>Math.pow(BigInt(2),BigInt(32))||Te<-Math.pow(BigInt(2),BigInt(32)))&&(et=ft(et)),et+="n"),Ue+=" It must be ".concat(pe,". Received ").concat(et),Ue},RangeError);function ft(Ie){for(var pe="",Te=Ie.length,Ue=Ie[0]==="-"?1:0;Te>=Ue+4;Te-=3)pe="_".concat(Ie.slice(Te-3,Te)).concat(pe);return"".concat(Ie.slice(0,Te)).concat(pe)}function gt(Ie,pe,Te){nt(pe,"offset"),(Ie[pe]===void 0||Ie[pe+Te]===void 0)&&dt(pe,Ie.length-(Te+1))}function ct(Ie,pe,Te,Ue,et,st){if(Ie>Te||Ie<pe){var lt=typeof pe=="bigint"?"n":"",jt;throw st>3?pe===0||pe===BigInt(0)?jt=">= 0".concat(lt," and < 2").concat(lt," ** ").concat((st+1)*8).concat(lt):jt=">= -(2".concat(lt," ** ").concat((st+1)*8-1).concat(lt,") and < 2 ** ")+"".concat((st+1)*8-1).concat(lt):jt=">= ".concat(pe).concat(lt," and <= ").concat(Te).concat(lt),new Fe.ERR_OUT_OF_RANGE("value",jt,Ie)}gt(Ue,et,st)}function nt(Ie,pe){if(typeof Ie!="number")throw new Fe.ERR_INVALID_ARG_TYPE(pe,"number",Ie)}function dt(Ie,pe,Te){throw Math.floor(Ie)!==Ie?(nt(Ie,Te),new Fe.ERR_OUT_OF_RANGE(Te||"offset","an integer",Ie)):pe<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(Te||"offset",">= ".concat(Te?1:0," and <= ").concat(pe),Ie)}var pt=/[^+/0-9A-Za-z-_]/g;function wt(Ie){if(Ie=Ie.split("=")[0],Ie=Ie.trim().replace(pt,""),Ie.length<2)return"";for(;Ie.length%4!==0;)Ie=Ie+"=";return Ie}function Tt(Ie,pe){pe=pe||1/0;for(var Te,Ue=Ie.length,et=null,st=[],lt=0;lt<Ue;++lt){if(Te=Ie.charCodeAt(lt),Te>55295&&Te<57344){if(!et){if(Te>56319){(pe-=3)>-1&&st.push(239,191,189);continue}else if(lt+1===Ue){(pe-=3)>-1&&st.push(239,191,189);continue}et=Te;continue}if(Te<56320){(pe-=3)>-1&&st.push(239,191,189),et=Te;continue}Te=(et-55296<<10|Te-56320)+65536}else et&&(pe-=3)>-1&&st.push(239,191,189);if(et=null,Te<128){if((pe-=1)<0)break;st.push(Te)}else if(Te<2048){if((pe-=2)<0)break;st.push(Te>>6|192,Te&63|128)}else if(Te<65536){if((pe-=3)<0)break;st.push(Te>>12|224,Te>>6&63|128,Te&63|128)}else if(Te<1114112){if((pe-=4)<0)break;st.push(Te>>18|240,Te>>12&63|128,Te>>6&63|128,Te&63|128)}else throw new Error("Invalid code point")}return st}function Ct(Ie){for(var pe=[],Te=0;Te<Ie.length;++Te)pe.push(Ie.charCodeAt(Te)&255);return pe}function at(Ie,pe){for(var Te,Ue,et,st=[],lt=0;lt<Ie.length&&!((pe-=2)<0);++lt)Te=Ie.charCodeAt(lt),Ue=Te>>8,et=Te%256,st.push(et),st.push(Ue);return st}function ze(Ie){return A.toByteArray(wt(Ie))}function je(Ie,pe,Te,Ue){var et;for(et=0;et<Ue&&!(et+Te>=pe.length||et>=Ie.length);++et)pe[et+Te]=Ie[et];return et}function Je(Ie,pe){return Ie instanceof pe||Ie!=null&&Ie.constructor!=null&&Ie.constructor.name!=null&&Ie.constructor.name===pe.name}function Xe(Ie){return Ie!==Ie}var Oe=function(){for(var Ie="0123456789abcdef",pe=new Array(256),Te=0;Te<16;++Te)for(var Ue=Te*16,et=0;et<16;++et)pe[Ue+et]=Ie[Te]+Ie[et];return pe}();function ke(Ie){return typeof BigInt>"u"?Ke:Ie}function Ke(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=i,v.exports.isMobile=i,v.exports.default=i;var g=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function i(a){a||(a={});var u=a.ua;if(!u&&typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var f=g.test(u)&&!r.test(u)||!!a.tablet&&t.test(u);return!f&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(f=!0),f}},6296:function(v,g,r){v.exports=l;var t=r(7261),i=r(9977),a=r(4192);function u(m,h){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(T){return m[T]}),this._mode=h,this._active=m[h],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=u.prototype;f.flush=function(m){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].flush(m)},f.idle=function(m){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].idle(m)},f.lookAt=function(m,h,T,c){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].lookAt(m,h,T,c)},f.rotate=function(m,h,T,c){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].rotate(m,h,T,c)},f.pan=function(m,h,T,c){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].pan(m,h,T,c)},f.translate=function(m,h,T,c){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].translate(m,h,T,c)},f.setMatrix=function(m,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setMatrix(m,h)},f.setDistanceLimits=function(m,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistanceLimits(m,h)},f.setDistance=function(m,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistance(m,h)},f.recalcMatrix=function(m){this._active.recalcMatrix(m)},f.getDistance=function(m){return this._active.getDistance(m)},f.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},f.lastT=function(){return this._active.lastT()},f.setMode=function(m){if(m!==this._mode){var h=this._controllerNames.indexOf(m);if(!(h<0)){var T=this._active,c=this._controllerList[h],o=Math.max(T.lastT(),c.lastT());T.recalcMatrix(o),c.setMatrix(o,T.computedMatrix),this._active=c,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode};function l(m){m=m||{};var h=m.eye||[0,0,1],T=m.center||[0,0,0],c=m.up||[0,1,0],o=m.distanceLimits||[0,1/0],p=m.mode||"turntable",x=t(),A=i(),_=a();return x.setDistanceLimits(o[0],o[1]),x.lookAt(0,h,T,c),A.setDistanceLimits(o[0],o[1]),A.lookAt(0,h,T,c),_.setDistanceLimits(o[0],o[1]),_.lookAt(0,h,T,c),new u({turntable:x,orbit:A,matrix:_},p)}},7169:function(v,g,r){var t=typeof WeakMap>"u"?r(1538):WeakMap,i=r(2762),a=r(8116),u=new t;function f(l){var m=u.get(l),h=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var T=i(l,new Float32Array([-1,-1,-1,4,4,-1]));m=a(l,[{buffer:T,type:l.FLOAT,size:2}]),m._triangleBuffer=T,u.set(l,m)}m.bind(),l.drawArrays(l.TRIANGLES,0,3),m.unbind()}v.exports=f},1085:function(v,g,r){var t=r(1371);v.exports=i;function i(a,u,f){u=typeof u=="number"?u:1,f=f||": ";var l=a.split(/\r?\n/),m=String(l.length+u-1).length;return l.map(function(h,T){var c=T+u,o=String(c).length,p=t(c,m-o);return p+f+h}).join(`
`)}},3952:function(v,g,r){v.exports=a;var t=r(3250);function i(u,f){for(var l=new Array(f+1),m=0;m<u.length;++m)l[m]=u[m];for(var m=0;m<=u.length;++m){for(var h=u.length;h<=f;++h){for(var T=new Array(f),c=0;c<f;++c)T[c]=Math.pow(h+1-m,c);l[h]=T}var o=t.apply(void 0,l);if(o)return!0}return!1}function a(u){var f=u.length;if(f===0)return[];if(f===1)return[0];for(var l=u[0].length,m=[u[0]],h=[0],T=1;T<f;++T){if(m.push(u[T]),!i(m,l)){m.pop();continue}if(h.push(T),h.length===l+1)return h}return h}},5995:function(v,g,r){v.exports=a;var t=r(7642),i=r(6037);function a(u,f){return t(f).filter(function(l){for(var m=new Array(l.length),h=0;h<l.length;++h)m[h]=f[l[h]];return i(m)*u<1})}},3502:function(v,g,r){v.exports=a;var t=r(5995),i=r(9127);function a(u,f){return i(t(u,f))}},6468:function(v){v.exports=function(r){return atob(r)}},2642:function(v,g,r){v.exports=a;var t=r(727);function i(u){for(var f=0,l=0;l<u.length;++l)f+=u[l];return f}function a(u,f){for(var l=f.length,m=new Array(l+1),h=0;h<l;++h){for(var T=new Array(l+1),c=0;c<=l;++c)T[c]=u[c][h];m[h]=T}m[l]=new Array(l+1);for(var h=0;h<=l;++h)m[l][h]=1;for(var o=new Array(l+1),h=0;h<l;++h)o[h]=f[h];o[l]=1;var p=t(m,o),x=i(p[l+1]);x===0&&(x=1);for(var A=new Array(l+1),h=0;h<=l;++h)A[h]=i(p[h])/x;return A}},7507:function(v,g){g.byteLength=m,g.toByteArray=T,g.fromByteArray=p;for(var r=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,f=a.length;u<f;++u)r[u]=a[u],t[a.charCodeAt(u)]=u;t[45]=62,t[95]=63;function l(x){var A=x.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=x.indexOf("=");_===-1&&(_=A);var y=_===A?0:4-_%4;return[_,y]}function m(x){var A=l(x),_=A[0],y=A[1];return(_+y)*3/4-y}function h(x,A,_){return(A+_)*3/4-_}function T(x){var A,_=l(x),y=_[0],E=_[1],M=new i(h(x,y,E)),s=0,S=E>0?y-4:y,b;for(b=0;b<S;b+=4)A=t[x.charCodeAt(b)]<<18|t[x.charCodeAt(b+1)]<<12|t[x.charCodeAt(b+2)]<<6|t[x.charCodeAt(b+3)],M[s++]=A>>16&255,M[s++]=A>>8&255,M[s++]=A&255;return E===2&&(A=t[x.charCodeAt(b)]<<2|t[x.charCodeAt(b+1)]>>4,M[s++]=A&255),E===1&&(A=t[x.charCodeAt(b)]<<10|t[x.charCodeAt(b+1)]<<4|t[x.charCodeAt(b+2)]>>2,M[s++]=A>>8&255,M[s++]=A&255),M}function c(x){return r[x>>18&63]+r[x>>12&63]+r[x>>6&63]+r[x&63]}function o(x,A,_){for(var y,E=[],M=A;M<_;M+=3)y=(x[M]<<16&16711680)+(x[M+1]<<8&65280)+(x[M+2]&255),E.push(c(y));return E.join("")}function p(x){for(var A,_=x.length,y=_%3,E=[],M=16383,s=0,S=_-y;s<S;s+=M)E.push(o(x,s,s+M>S?S:s+M));return y===1?(A=x[_-1],E.push(r[A>>2]+r[A<<4&63]+"==")):y===2&&(A=(x[_-2]<<8)+x[_-1],E.push(r[A>>10]+r[A>>4&63]+r[A<<2&63]+"=")),E.join("")}},3865:function(v,g,r){var t=r(869);v.exports=i;function i(a,u){return t(a[0].mul(u[1]).add(u[0].mul(a[1])),a[1].mul(u[1]))}},1318:function(v){v.exports=g;function g(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(v,g,r){var t=r(869);v.exports=i;function i(a,u){return t(a[0].mul(u[1]),a[1].mul(u[0]))}},7842:function(v,g,r){var t=r(6330),i=r(1533),a=r(2651),u=r(4387),f=r(869),l=r(8697);v.exports=m;function m(h,T){if(t(h))return T?l(h,m(T)):[h[0].clone(),h[1].clone()];var c=0,o,p;if(i(h))o=h.clone();else if(typeof h=="string")o=u(h);else{if(h===0)return[a(0),a(1)];if(h===Math.floor(h))o=a(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;o=a(h)}}if(t(T))o.mul(T[1]),p=T[0].clone();else if(i(T))p=T.clone();else if(typeof T=="string")p=u(T);else if(!T)p=a(1);else if(T===Math.floor(T))p=a(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),c+=256;p=a(T)}return c>0?o=o.ushln(c):c<0&&(p=p.ushln(-c)),f(o,p)}},6330:function(v,g,r){var t=r(1533);v.exports=i;function i(a){return Array.isArray(a)&&a.length===2&&t(a[0])&&t(a[1])}},5716:function(v,g,r){var t=r(6859);v.exports=i;function i(a){return a.cmp(new t(0))}},1369:function(v,g,r){var t=r(5716);v.exports=i;function i(a){var u=a.length,f=a.words,l=0;if(u===1)l=f[0];else if(u===2)l=f[0]+f[1]*67108864;else for(var m=0;m<u;m++){var h=f[m];l+=h*Math.pow(67108864,m)}return t(a)*l}},4025:function(v,g,r){var t=r(2361),i=r(8828).countTrailingZeros;v.exports=a;function a(u){var f=i(t.lo(u));if(f<32)return f;var l=i(t.hi(u));return l>20?52:l+32}},1533:function(v,g,r){r(6859),v.exports=t;function t(i){return i&&typeof i=="object"&&!!i.words}},2651:function(v,g,r){var t=r(6859),i=r(2361);v.exports=a;function a(u){var f=i.exponent(u);return f<52?new t(u):new t(u*Math.pow(2,52-f)).ushln(f-52)}},869:function(v,g,r){var t=r(2651),i=r(5716);v.exports=a;function a(u,f){var l=i(u),m=i(f);if(l===0)return[t(0),t(1)];if(m===0)return[t(0),t(0)];m<0&&(u=u.neg(),f=f.neg());var h=u.gcd(f);return h.cmpn(1)?[u.div(h),f.div(h)]:[u,f]}},4387:function(v,g,r){var t=r(6859);v.exports=i;function i(a){return new t(a)}},6504:function(v,g,r){var t=r(869);v.exports=i;function i(a,u){return t(a[0].mul(u[0]),a[1].mul(u[1]))}},7721:function(v,g,r){var t=r(5716);v.exports=i;function i(a){return t(a[0])*t(a[1])}},5572:function(v,g,r){var t=r(869);v.exports=i;function i(a,u){return t(a[0].mul(u[1]).sub(a[1].mul(u[0])),a[1].mul(u[1]))}},946:function(v,g,r){var t=r(1369),i=r(4025);v.exports=a;function a(u){var f=u[0],l=u[1];if(f.cmpn(0)===0)return 0;var m=f.abs().divmod(l.abs()),h=m.div,T=t(h),c=m.mod,o=f.negative!==l.negative?-1:1;if(c.cmpn(0)===0)return o*T;if(T){var p=i(T)+4,x=t(c.ushln(p).divRound(l));return o*(T+x*Math.pow(2,-p))}else{var A=l.bitLength()-c.bitLength()+53,x=t(c.ushln(A).divRound(l));return A<1023?o*x*Math.pow(2,-A):(x*=Math.pow(2,-1023),o*x*Math.pow(2,1023-A))}}},2478:function(v){function g(f,l,m,h,T){for(var c=T+1;h<=T;){var o=h+T>>>1,p=f[o],x=m!==void 0?m(p,l):p-l;x>=0?(c=o,T=o-1):h=o+1}return c}function r(f,l,m,h,T){for(var c=T+1;h<=T;){var o=h+T>>>1,p=f[o],x=m!==void 0?m(p,l):p-l;x>0?(c=o,T=o-1):h=o+1}return c}function t(f,l,m,h,T){for(var c=h-1;h<=T;){var o=h+T>>>1,p=f[o],x=m!==void 0?m(p,l):p-l;x<0?(c=o,h=o+1):T=o-1}return c}function i(f,l,m,h,T){for(var c=h-1;h<=T;){var o=h+T>>>1,p=f[o],x=m!==void 0?m(p,l):p-l;x<=0?(c=o,h=o+1):T=o-1}return c}function a(f,l,m,h,T){for(;h<=T;){var c=h+T>>>1,o=f[c],p=m!==void 0?m(o,l):o-l;if(p===0)return c;p<=0?h=c+1:T=c-1}return-1}function u(f,l,m,h,T,c){return typeof m=="function"?c(f,l,m,h===void 0?0:h|0,T===void 0?f.length-1:T|0):c(f,l,void 0,m===void 0?0:m|0,h===void 0?f.length-1:h|0)}v.exports={ge:function(f,l,m,h,T){return u(f,l,m,h,T,g)},gt:function(f,l,m,h,T){return u(f,l,m,h,T,r)},lt:function(f,l,m,h,T){return u(f,l,m,h,T,t)},le:function(f,l,m,h,T){return u(f,l,m,h,T,i)},eq:function(f,l,m,h,T){return u(f,l,m,h,T,a)}}},8828:function(v,g){"use restrict";var r=32;g.INT_BITS=r,g.INT_MAX=2147483647,g.INT_MIN=-1<<r-1,g.sign=function(a){return(a>0)-(a<0)},g.abs=function(a){var u=a>>r-1;return(a^u)-u},g.min=function(a,u){return u^(a^u)&-(a<u)},g.max=function(a,u){return a^(a^u)&-(a<u)},g.isPow2=function(a){return!(a&a-1)&&!!a},g.log2=function(a){var u,f;return u=(a>65535)<<4,a>>>=u,f=(a>255)<<3,a>>>=f,u|=f,f=(a>15)<<2,a>>>=f,u|=f,f=(a>3)<<1,a>>>=f,u|=f,u|a>>1},g.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},g.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function t(a){var u=32;return a&=-a,a&&u--,a&65535&&(u-=16),a&16711935&&(u-=8),a&252645135&&(u-=4),a&858993459&&(u-=2),a&1431655765&&(u-=1),u}g.countTrailingZeros=t,g.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},g.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},g.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var i=new Array(256);(function(a){for(var u=0;u<256;++u){var f=u,l=u,m=7;for(f>>>=1;f;f>>>=1)l<<=1,l|=f&1,--m;a[u]=l<<m&255}})(i),g.reverse=function(a){return i[a&255]<<24|i[a>>>8&255]<<16|i[a>>>16&255]<<8|i[a>>>24&255]},g.interleave2=function(a,u){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,a|u<<1},g.deinterleave2=function(a,u){return a=a>>>u&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},g.interleave3=function(a,u,f){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,a|=u<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,a|f<<2},g.deinterleave3=function(a,u){return a=a>>>u&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},g.nextCombination=function(a){var u=a|a-1;return u+1|(~u&-~u)-1>>>t(a)+1}},6859:function(v,g,r){v=r.nmd(v),function(t,i){function a(N,O){if(!N)throw new Error(O||"Assertion failed")}function u(N,O){N.super_=O;var V=function(){};V.prototype=O.prototype,N.prototype=new V,N.prototype.constructor=N}function f(N,O,V){if(f.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((O==="le"||O==="be")&&(V=O,O=10),this._init(N||0,O||10,V||"be"))}typeof t=="object"?t.exports=f:i.BN=f,f.BN=f,f.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(7790).Buffer}catch{}f.isBN=function(O){return O instanceof f?!0:O!==null&&typeof O=="object"&&O.constructor.wordSize===f.wordSize&&Array.isArray(O.words)},f.max=function(O,V){return O.cmp(V)>0?O:V},f.min=function(O,V){return O.cmp(V)<0?O:V},f.prototype._init=function(O,V,X){if(typeof O=="number")return this._initNumber(O,V,X);if(typeof O=="object")return this._initArray(O,V,X);V==="hex"&&(V=16),a(V===(V|0)&&V>=2&&V<=36),O=O.toString().replace(/\s+/g,"");var ee=0;O[0]==="-"&&(ee++,this.negative=1),ee<O.length&&(V===16?this._parseHex(O,ee,X):(this._parseBase(O,V,ee),X==="le"&&this._initArray(this.toArray(),V,X)))},f.prototype._initNumber=function(O,V,X){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[O&67108863],this.length=1):O<4503599627370496?(this.words=[O&67108863,O/67108864&67108863],this.length=2):(a(O<9007199254740992),this.words=[O&67108863,O/67108864&67108863,1],this.length=3),X==="le"&&this._initArray(this.toArray(),V,X)},f.prototype._initArray=function(O,V,X){if(a(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var ne,q,se=0;if(X==="be")for(ee=O.length-1,ne=0;ee>=0;ee-=3)q=O[ee]|O[ee-1]<<8|O[ee-2]<<16,this.words[ne]|=q<<se&67108863,this.words[ne+1]=q>>>26-se&67108863,se+=24,se>=26&&(se-=26,ne++);else if(X==="le")for(ee=0,ne=0;ee<O.length;ee+=3)q=O[ee]|O[ee+1]<<8|O[ee+2]<<16,this.words[ne]|=q<<se&67108863,this.words[ne+1]=q>>>26-se&67108863,se+=24,se>=26&&(se-=26,ne++);return this.strip()};function m(N,O){var V=N.charCodeAt(O);return V>=65&&V<=70?V-55:V>=97&&V<=102?V-87:V-48&15}function h(N,O,V){var X=m(N,V);return V-1>=O&&(X|=m(N,V-1)<<4),X}f.prototype._parseHex=function(O,V,X){this.length=Math.ceil((O.length-V)/6),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var ne=0,q=0,se;if(X==="be")for(ee=O.length-1;ee>=V;ee-=2)se=h(O,V,ee)<<ne,this.words[q]|=se&67108863,ne>=18?(ne-=18,q+=1,this.words[q]|=se>>>26):ne+=8;else{var J=O.length-V;for(ee=J%2===0?V+1:V;ee<O.length;ee+=2)se=h(O,V,ee)<<ne,this.words[q]|=se&67108863,ne>=18?(ne-=18,q+=1,this.words[q]|=se>>>26):ne+=8}this.strip()};function T(N,O,V,X){for(var ee=0,ne=Math.min(N.length,V),q=O;q<ne;q++){var se=N.charCodeAt(q)-48;ee*=X,se>=49?ee+=se-49+10:se>=17?ee+=se-17+10:ee+=se}return ee}f.prototype._parseBase=function(O,V,X){this.words=[0],this.length=1;for(var ee=0,ne=1;ne<=67108863;ne*=V)ee++;ee--,ne=ne/V|0;for(var q=O.length-X,se=q%ee,J=Math.min(q,q-se)+X,Z=0,te=X;te<J;te+=ee)Z=T(O,te,te+ee,V),this.imuln(ne),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(se!==0){var Y=1;for(Z=T(O,te,O.length,V),te=0;te<se;te++)Y*=V;this.imuln(Y),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}this.strip()},f.prototype.copy=function(O){O.words=new Array(this.length);for(var V=0;V<this.length;V++)O.words[V]=this.words[V];O.length=this.length,O.negative=this.negative,O.red=this.red},f.prototype.clone=function(){var O=new f(null);return this.copy(O),O},f.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(O,V){O=O||10,V=V|0||1;var X;if(O===16||O==="hex"){X="";for(var ee=0,ne=0,q=0;q<this.length;q++){var se=this.words[q],J=((se<<ee|ne)&16777215).toString(16);ne=se>>>24-ee&16777215,ne!==0||q!==this.length-1?X=c[6-J.length]+J+X:X=J+X,ee+=2,ee>=26&&(ee-=26,q--)}for(ne!==0&&(X=ne.toString(16)+X);X.length%V!==0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}if(O===(O|0)&&O>=2&&O<=36){var Z=o[O],te=p[O];X="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var ie=Y.modn(te).toString(O);Y=Y.idivn(te),Y.isZero()?X=ie+X:X=c[Z-ie.length]+ie+X}for(this.isZero()&&(X="0"+X);X.length%V!==0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}a(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=this.words[1]*67108864:this.length===3&&this.words[2]===1?O+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(O,V){return a(typeof l<"u"),this.toArrayLike(l,O,V)},f.prototype.toArray=function(O,V){return this.toArrayLike(Array,O,V)},f.prototype.toArrayLike=function(O,V,X){var ee=this.byteLength(),ne=X||Math.max(1,ee);a(ee<=ne,"byte array longer than desired length"),a(ne>0,"Requested array length <= 0"),this.strip();var q=V==="le",se=new O(ne),J,Z,te=this.clone();if(q){for(Z=0;!te.isZero();Z++)J=te.andln(255),te.iushrn(8),se[Z]=J;for(;Z<ne;Z++)se[Z]=0}else{for(Z=0;Z<ne-ee;Z++)se[Z]=0;for(Z=0;!te.isZero();Z++)J=te.andln(255),te.iushrn(8),se[ne-Z-1]=J}return se},Math.clz32?f.prototype._countBits=function(O){return 32-Math.clz32(O)}:f.prototype._countBits=function(O){var V=O,X=0;return V>=4096&&(X+=13,V>>>=13),V>=64&&(X+=7,V>>>=7),V>=8&&(X+=4,V>>>=4),V>=2&&(X+=2,V>>>=2),X+V},f.prototype._zeroBits=function(O){if(O===0)return 26;var V=O,X=0;return V&8191||(X+=13,V>>>=13),V&127||(X+=7,V>>>=7),V&15||(X+=4,V>>>=4),V&3||(X+=2,V>>>=2),V&1||X++,X},f.prototype.bitLength=function(){var O=this.words[this.length-1],V=this._countBits(O);return(this.length-1)*26+V};function x(N){for(var O=new Array(N.bitLength()),V=0;V<O.length;V++){var X=V/26|0,ee=V%26;O[V]=(N.words[X]&1<<ee)>>>ee}return O}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,V=0;V<this.length;V++){var X=this._zeroBits(this.words[V]);if(O+=X,X!==26)break}return O},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},f.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var V=0;V<O.length;V++)this.words[V]=this.words[V]|O.words[V];return this.strip()},f.prototype.ior=function(O){return a((this.negative|O.negative)===0),this.iuor(O)},f.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},f.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},f.prototype.iuand=function(O){var V;this.length>O.length?V=O:V=this;for(var X=0;X<V.length;X++)this.words[X]=this.words[X]&O.words[X];return this.length=V.length,this.strip()},f.prototype.iand=function(O){return a((this.negative|O.negative)===0),this.iuand(O)},f.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},f.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},f.prototype.iuxor=function(O){var V,X;this.length>O.length?(V=this,X=O):(V=O,X=this);for(var ee=0;ee<X.length;ee++)this.words[ee]=V.words[ee]^X.words[ee];if(this!==V)for(;ee<V.length;ee++)this.words[ee]=V.words[ee];return this.length=V.length,this.strip()},f.prototype.ixor=function(O){return a((this.negative|O.negative)===0),this.iuxor(O)},f.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},f.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},f.prototype.inotn=function(O){a(typeof O=="number"&&O>=0);var V=Math.ceil(O/26)|0,X=O%26;this._expand(V),X>0&&V--;for(var ee=0;ee<V;ee++)this.words[ee]=~this.words[ee]&67108863;return X>0&&(this.words[ee]=~this.words[ee]&67108863>>26-X),this.strip()},f.prototype.notn=function(O){return this.clone().inotn(O)},f.prototype.setn=function(O,V){a(typeof O=="number"&&O>=0);var X=O/26|0,ee=O%26;return this._expand(X+1),V?this.words[X]=this.words[X]|1<<ee:this.words[X]=this.words[X]&~(1<<ee),this.strip()},f.prototype.iadd=function(O){var V;if(this.negative!==0&&O.negative===0)return this.negative=0,V=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,V=this.isub(O),O.negative=1,V._normSign();var X,ee;this.length>O.length?(X=this,ee=O):(X=O,ee=this);for(var ne=0,q=0;q<ee.length;q++)V=(X.words[q]|0)+(ee.words[q]|0)+ne,this.words[q]=V&67108863,ne=V>>>26;for(;ne!==0&&q<X.length;q++)V=(X.words[q]|0)+ne,this.words[q]=V&67108863,ne=V>>>26;if(this.length=X.length,ne!==0)this.words[this.length]=ne,this.length++;else if(X!==this)for(;q<X.length;q++)this.words[q]=X.words[q];return this},f.prototype.add=function(O){var V;return O.negative!==0&&this.negative===0?(O.negative=0,V=this.sub(O),O.negative^=1,V):O.negative===0&&this.negative!==0?(this.negative=0,V=O.sub(this),this.negative=1,V):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},f.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var V=this.iadd(O);return O.negative=1,V._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var X=this.cmp(O);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ee,ne;X>0?(ee=this,ne=O):(ee=O,ne=this);for(var q=0,se=0;se<ne.length;se++)V=(ee.words[se]|0)-(ne.words[se]|0)+q,q=V>>26,this.words[se]=V&67108863;for(;q!==0&&se<ee.length;se++)V=(ee.words[se]|0)+q,q=V>>26,this.words[se]=V&67108863;if(q===0&&se<ee.length&&ee!==this)for(;se<ee.length;se++)this.words[se]=ee.words[se];return this.length=Math.max(this.length,se),ee!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(O){return this.clone().isub(O)};function A(N,O,V){V.negative=O.negative^N.negative;var X=N.length+O.length|0;V.length=X,X=X-1|0;var ee=N.words[0]|0,ne=O.words[0]|0,q=ee*ne,se=q&67108863,J=q/67108864|0;V.words[0]=se;for(var Z=1;Z<X;Z++){for(var te=J>>>26,Y=J&67108863,ie=Math.min(Z,O.length-1),le=Math.max(0,Z-N.length+1);le<=ie;le++){var j=Z-le|0;ee=N.words[j]|0,ne=O.words[le]|0,q=ee*ne+Y,te+=q/67108864|0,Y=q&67108863}V.words[Z]=Y|0,J=te|0}return J!==0?V.words[Z]=J|0:V.length--,V.strip()}var _=function(O,V,X){var ee=O.words,ne=V.words,q=X.words,se=0,J,Z,te,Y=ee[0]|0,ie=Y&8191,le=Y>>>13,j=ee[1]|0,K=j&8191,ue=j>>>13,ae=ee[2]|0,he=ae&8191,xe=ae>>>13,Se=ee[3]|0,Ae=Se&8191,De=Se>>>13,we=ee[4]|0,Ce=we&8191,be=we>>>13,Pe=ee[5]|0,Ve=Pe&8191,Ge=Pe>>>13,Fe=ee[6]|0,He=Fe&8191,ft=Fe>>>13,gt=ee[7]|0,ct=gt&8191,nt=gt>>>13,dt=ee[8]|0,pt=dt&8191,wt=dt>>>13,Tt=ee[9]|0,Ct=Tt&8191,at=Tt>>>13,ze=ne[0]|0,je=ze&8191,Je=ze>>>13,Xe=ne[1]|0,Oe=Xe&8191,ke=Xe>>>13,Ke=ne[2]|0,Ie=Ke&8191,pe=Ke>>>13,Te=ne[3]|0,Ue=Te&8191,et=Te>>>13,st=ne[4]|0,lt=st&8191,jt=st>>>13,Jt=ne[5]|0,St=Jt&8191,Rt=Jt>>>13,$t=ne[6]|0,Pr=$t&8191,xt=$t>>>13,qt=ne[7]|0,nr=qt&8191,wr=qt>>>13,dr=ne[8]|0,bt=dr&8191,ut=dr>>>13,Mt=ne[9]|0,_t=Mt&8191,kt=Mt>>>13;X.negative=O.negative^V.negative,X.length=19,J=Math.imul(ie,je),Z=Math.imul(ie,Je),Z=Z+Math.imul(le,je)|0,te=Math.imul(le,Je);var Xt=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,J=Math.imul(K,je),Z=Math.imul(K,Je),Z=Z+Math.imul(ue,je)|0,te=Math.imul(ue,Je),J=J+Math.imul(ie,Oe)|0,Z=Z+Math.imul(ie,ke)|0,Z=Z+Math.imul(le,Oe)|0,te=te+Math.imul(le,ke)|0;var Wt=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,J=Math.imul(he,je),Z=Math.imul(he,Je),Z=Z+Math.imul(xe,je)|0,te=Math.imul(xe,Je),J=J+Math.imul(K,Oe)|0,Z=Z+Math.imul(K,ke)|0,Z=Z+Math.imul(ue,Oe)|0,te=te+Math.imul(ue,ke)|0,J=J+Math.imul(ie,Ie)|0,Z=Z+Math.imul(ie,pe)|0,Z=Z+Math.imul(le,Ie)|0,te=te+Math.imul(le,pe)|0;var Ht=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,J=Math.imul(Ae,je),Z=Math.imul(Ae,Je),Z=Z+Math.imul(De,je)|0,te=Math.imul(De,Je),J=J+Math.imul(he,Oe)|0,Z=Z+Math.imul(he,ke)|0,Z=Z+Math.imul(xe,Oe)|0,te=te+Math.imul(xe,ke)|0,J=J+Math.imul(K,Ie)|0,Z=Z+Math.imul(K,pe)|0,Z=Z+Math.imul(ue,Ie)|0,te=te+Math.imul(ue,pe)|0,J=J+Math.imul(ie,Ue)|0,Z=Z+Math.imul(ie,et)|0,Z=Z+Math.imul(le,Ue)|0,te=te+Math.imul(le,et)|0;var tr=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(tr>>>26)|0,tr&=67108863,J=Math.imul(Ce,je),Z=Math.imul(Ce,Je),Z=Z+Math.imul(be,je)|0,te=Math.imul(be,Je),J=J+Math.imul(Ae,Oe)|0,Z=Z+Math.imul(Ae,ke)|0,Z=Z+Math.imul(De,Oe)|0,te=te+Math.imul(De,ke)|0,J=J+Math.imul(he,Ie)|0,Z=Z+Math.imul(he,pe)|0,Z=Z+Math.imul(xe,Ie)|0,te=te+Math.imul(xe,pe)|0,J=J+Math.imul(K,Ue)|0,Z=Z+Math.imul(K,et)|0,Z=Z+Math.imul(ue,Ue)|0,te=te+Math.imul(ue,et)|0,J=J+Math.imul(ie,lt)|0,Z=Z+Math.imul(ie,jt)|0,Z=Z+Math.imul(le,lt)|0,te=te+Math.imul(le,jt)|0;var gr=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(gr>>>26)|0,gr&=67108863,J=Math.imul(Ve,je),Z=Math.imul(Ve,Je),Z=Z+Math.imul(Ge,je)|0,te=Math.imul(Ge,Je),J=J+Math.imul(Ce,Oe)|0,Z=Z+Math.imul(Ce,ke)|0,Z=Z+Math.imul(be,Oe)|0,te=te+Math.imul(be,ke)|0,J=J+Math.imul(Ae,Ie)|0,Z=Z+Math.imul(Ae,pe)|0,Z=Z+Math.imul(De,Ie)|0,te=te+Math.imul(De,pe)|0,J=J+Math.imul(he,Ue)|0,Z=Z+Math.imul(he,et)|0,Z=Z+Math.imul(xe,Ue)|0,te=te+Math.imul(xe,et)|0,J=J+Math.imul(K,lt)|0,Z=Z+Math.imul(K,jt)|0,Z=Z+Math.imul(ue,lt)|0,te=te+Math.imul(ue,jt)|0,J=J+Math.imul(ie,St)|0,Z=Z+Math.imul(ie,Rt)|0,Z=Z+Math.imul(le,St)|0,te=te+Math.imul(le,Rt)|0;var Qt=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,J=Math.imul(He,je),Z=Math.imul(He,Je),Z=Z+Math.imul(ft,je)|0,te=Math.imul(ft,Je),J=J+Math.imul(Ve,Oe)|0,Z=Z+Math.imul(Ve,ke)|0,Z=Z+Math.imul(Ge,Oe)|0,te=te+Math.imul(Ge,ke)|0,J=J+Math.imul(Ce,Ie)|0,Z=Z+Math.imul(Ce,pe)|0,Z=Z+Math.imul(be,Ie)|0,te=te+Math.imul(be,pe)|0,J=J+Math.imul(Ae,Ue)|0,Z=Z+Math.imul(Ae,et)|0,Z=Z+Math.imul(De,Ue)|0,te=te+Math.imul(De,et)|0,J=J+Math.imul(he,lt)|0,Z=Z+Math.imul(he,jt)|0,Z=Z+Math.imul(xe,lt)|0,te=te+Math.imul(xe,jt)|0,J=J+Math.imul(K,St)|0,Z=Z+Math.imul(K,Rt)|0,Z=Z+Math.imul(ue,St)|0,te=te+Math.imul(ue,Rt)|0,J=J+Math.imul(ie,Pr)|0,Z=Z+Math.imul(ie,xt)|0,Z=Z+Math.imul(le,Pr)|0,te=te+Math.imul(le,xt)|0;var mr=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(mr>>>26)|0,mr&=67108863,J=Math.imul(ct,je),Z=Math.imul(ct,Je),Z=Z+Math.imul(nt,je)|0,te=Math.imul(nt,Je),J=J+Math.imul(He,Oe)|0,Z=Z+Math.imul(He,ke)|0,Z=Z+Math.imul(ft,Oe)|0,te=te+Math.imul(ft,ke)|0,J=J+Math.imul(Ve,Ie)|0,Z=Z+Math.imul(Ve,pe)|0,Z=Z+Math.imul(Ge,Ie)|0,te=te+Math.imul(Ge,pe)|0,J=J+Math.imul(Ce,Ue)|0,Z=Z+Math.imul(Ce,et)|0,Z=Z+Math.imul(be,Ue)|0,te=te+Math.imul(be,et)|0,J=J+Math.imul(Ae,lt)|0,Z=Z+Math.imul(Ae,jt)|0,Z=Z+Math.imul(De,lt)|0,te=te+Math.imul(De,jt)|0,J=J+Math.imul(he,St)|0,Z=Z+Math.imul(he,Rt)|0,Z=Z+Math.imul(xe,St)|0,te=te+Math.imul(xe,Rt)|0,J=J+Math.imul(K,Pr)|0,Z=Z+Math.imul(K,xt)|0,Z=Z+Math.imul(ue,Pr)|0,te=te+Math.imul(ue,xt)|0,J=J+Math.imul(ie,nr)|0,Z=Z+Math.imul(ie,wr)|0,Z=Z+Math.imul(le,nr)|0,te=te+Math.imul(le,wr)|0;var Ze=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,J=Math.imul(pt,je),Z=Math.imul(pt,Je),Z=Z+Math.imul(wt,je)|0,te=Math.imul(wt,Je),J=J+Math.imul(ct,Oe)|0,Z=Z+Math.imul(ct,ke)|0,Z=Z+Math.imul(nt,Oe)|0,te=te+Math.imul(nt,ke)|0,J=J+Math.imul(He,Ie)|0,Z=Z+Math.imul(He,pe)|0,Z=Z+Math.imul(ft,Ie)|0,te=te+Math.imul(ft,pe)|0,J=J+Math.imul(Ve,Ue)|0,Z=Z+Math.imul(Ve,et)|0,Z=Z+Math.imul(Ge,Ue)|0,te=te+Math.imul(Ge,et)|0,J=J+Math.imul(Ce,lt)|0,Z=Z+Math.imul(Ce,jt)|0,Z=Z+Math.imul(be,lt)|0,te=te+Math.imul(be,jt)|0,J=J+Math.imul(Ae,St)|0,Z=Z+Math.imul(Ae,Rt)|0,Z=Z+Math.imul(De,St)|0,te=te+Math.imul(De,Rt)|0,J=J+Math.imul(he,Pr)|0,Z=Z+Math.imul(he,xt)|0,Z=Z+Math.imul(xe,Pr)|0,te=te+Math.imul(xe,xt)|0,J=J+Math.imul(K,nr)|0,Z=Z+Math.imul(K,wr)|0,Z=Z+Math.imul(ue,nr)|0,te=te+Math.imul(ue,wr)|0,J=J+Math.imul(ie,bt)|0,Z=Z+Math.imul(ie,ut)|0,Z=Z+Math.imul(le,bt)|0,te=te+Math.imul(le,ut)|0;var Ye=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,J=Math.imul(Ct,je),Z=Math.imul(Ct,Je),Z=Z+Math.imul(at,je)|0,te=Math.imul(at,Je),J=J+Math.imul(pt,Oe)|0,Z=Z+Math.imul(pt,ke)|0,Z=Z+Math.imul(wt,Oe)|0,te=te+Math.imul(wt,ke)|0,J=J+Math.imul(ct,Ie)|0,Z=Z+Math.imul(ct,pe)|0,Z=Z+Math.imul(nt,Ie)|0,te=te+Math.imul(nt,pe)|0,J=J+Math.imul(He,Ue)|0,Z=Z+Math.imul(He,et)|0,Z=Z+Math.imul(ft,Ue)|0,te=te+Math.imul(ft,et)|0,J=J+Math.imul(Ve,lt)|0,Z=Z+Math.imul(Ve,jt)|0,Z=Z+Math.imul(Ge,lt)|0,te=te+Math.imul(Ge,jt)|0,J=J+Math.imul(Ce,St)|0,Z=Z+Math.imul(Ce,Rt)|0,Z=Z+Math.imul(be,St)|0,te=te+Math.imul(be,Rt)|0,J=J+Math.imul(Ae,Pr)|0,Z=Z+Math.imul(Ae,xt)|0,Z=Z+Math.imul(De,Pr)|0,te=te+Math.imul(De,xt)|0,J=J+Math.imul(he,nr)|0,Z=Z+Math.imul(he,wr)|0,Z=Z+Math.imul(xe,nr)|0,te=te+Math.imul(xe,wr)|0,J=J+Math.imul(K,bt)|0,Z=Z+Math.imul(K,ut)|0,Z=Z+Math.imul(ue,bt)|0,te=te+Math.imul(ue,ut)|0,J=J+Math.imul(ie,_t)|0,Z=Z+Math.imul(ie,kt)|0,Z=Z+Math.imul(le,_t)|0,te=te+Math.imul(le,kt)|0;var Bt=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,J=Math.imul(Ct,Oe),Z=Math.imul(Ct,ke),Z=Z+Math.imul(at,Oe)|0,te=Math.imul(at,ke),J=J+Math.imul(pt,Ie)|0,Z=Z+Math.imul(pt,pe)|0,Z=Z+Math.imul(wt,Ie)|0,te=te+Math.imul(wt,pe)|0,J=J+Math.imul(ct,Ue)|0,Z=Z+Math.imul(ct,et)|0,Z=Z+Math.imul(nt,Ue)|0,te=te+Math.imul(nt,et)|0,J=J+Math.imul(He,lt)|0,Z=Z+Math.imul(He,jt)|0,Z=Z+Math.imul(ft,lt)|0,te=te+Math.imul(ft,jt)|0,J=J+Math.imul(Ve,St)|0,Z=Z+Math.imul(Ve,Rt)|0,Z=Z+Math.imul(Ge,St)|0,te=te+Math.imul(Ge,Rt)|0,J=J+Math.imul(Ce,Pr)|0,Z=Z+Math.imul(Ce,xt)|0,Z=Z+Math.imul(be,Pr)|0,te=te+Math.imul(be,xt)|0,J=J+Math.imul(Ae,nr)|0,Z=Z+Math.imul(Ae,wr)|0,Z=Z+Math.imul(De,nr)|0,te=te+Math.imul(De,wr)|0,J=J+Math.imul(he,bt)|0,Z=Z+Math.imul(he,ut)|0,Z=Z+Math.imul(xe,bt)|0,te=te+Math.imul(xe,ut)|0,J=J+Math.imul(K,_t)|0,Z=Z+Math.imul(K,kt)|0,Z=Z+Math.imul(ue,_t)|0,te=te+Math.imul(ue,kt)|0;var Ft=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,J=Math.imul(Ct,Ie),Z=Math.imul(Ct,pe),Z=Z+Math.imul(at,Ie)|0,te=Math.imul(at,pe),J=J+Math.imul(pt,Ue)|0,Z=Z+Math.imul(pt,et)|0,Z=Z+Math.imul(wt,Ue)|0,te=te+Math.imul(wt,et)|0,J=J+Math.imul(ct,lt)|0,Z=Z+Math.imul(ct,jt)|0,Z=Z+Math.imul(nt,lt)|0,te=te+Math.imul(nt,jt)|0,J=J+Math.imul(He,St)|0,Z=Z+Math.imul(He,Rt)|0,Z=Z+Math.imul(ft,St)|0,te=te+Math.imul(ft,Rt)|0,J=J+Math.imul(Ve,Pr)|0,Z=Z+Math.imul(Ve,xt)|0,Z=Z+Math.imul(Ge,Pr)|0,te=te+Math.imul(Ge,xt)|0,J=J+Math.imul(Ce,nr)|0,Z=Z+Math.imul(Ce,wr)|0,Z=Z+Math.imul(be,nr)|0,te=te+Math.imul(be,wr)|0,J=J+Math.imul(Ae,bt)|0,Z=Z+Math.imul(Ae,ut)|0,Z=Z+Math.imul(De,bt)|0,te=te+Math.imul(De,ut)|0,J=J+Math.imul(he,_t)|0,Z=Z+Math.imul(he,kt)|0,Z=Z+Math.imul(xe,_t)|0,te=te+Math.imul(xe,kt)|0;var rr=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(rr>>>26)|0,rr&=67108863,J=Math.imul(Ct,Ue),Z=Math.imul(Ct,et),Z=Z+Math.imul(at,Ue)|0,te=Math.imul(at,et),J=J+Math.imul(pt,lt)|0,Z=Z+Math.imul(pt,jt)|0,Z=Z+Math.imul(wt,lt)|0,te=te+Math.imul(wt,jt)|0,J=J+Math.imul(ct,St)|0,Z=Z+Math.imul(ct,Rt)|0,Z=Z+Math.imul(nt,St)|0,te=te+Math.imul(nt,Rt)|0,J=J+Math.imul(He,Pr)|0,Z=Z+Math.imul(He,xt)|0,Z=Z+Math.imul(ft,Pr)|0,te=te+Math.imul(ft,xt)|0,J=J+Math.imul(Ve,nr)|0,Z=Z+Math.imul(Ve,wr)|0,Z=Z+Math.imul(Ge,nr)|0,te=te+Math.imul(Ge,wr)|0,J=J+Math.imul(Ce,bt)|0,Z=Z+Math.imul(Ce,ut)|0,Z=Z+Math.imul(be,bt)|0,te=te+Math.imul(be,ut)|0,J=J+Math.imul(Ae,_t)|0,Z=Z+Math.imul(Ae,kt)|0,Z=Z+Math.imul(De,_t)|0,te=te+Math.imul(De,kt)|0;var sr=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(sr>>>26)|0,sr&=67108863,J=Math.imul(Ct,lt),Z=Math.imul(Ct,jt),Z=Z+Math.imul(at,lt)|0,te=Math.imul(at,jt),J=J+Math.imul(pt,St)|0,Z=Z+Math.imul(pt,Rt)|0,Z=Z+Math.imul(wt,St)|0,te=te+Math.imul(wt,Rt)|0,J=J+Math.imul(ct,Pr)|0,Z=Z+Math.imul(ct,xt)|0,Z=Z+Math.imul(nt,Pr)|0,te=te+Math.imul(nt,xt)|0,J=J+Math.imul(He,nr)|0,Z=Z+Math.imul(He,wr)|0,Z=Z+Math.imul(ft,nr)|0,te=te+Math.imul(ft,wr)|0,J=J+Math.imul(Ve,bt)|0,Z=Z+Math.imul(Ve,ut)|0,Z=Z+Math.imul(Ge,bt)|0,te=te+Math.imul(Ge,ut)|0,J=J+Math.imul(Ce,_t)|0,Z=Z+Math.imul(Ce,kt)|0,Z=Z+Math.imul(be,_t)|0,te=te+Math.imul(be,kt)|0;var fr=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(fr>>>26)|0,fr&=67108863,J=Math.imul(Ct,St),Z=Math.imul(Ct,Rt),Z=Z+Math.imul(at,St)|0,te=Math.imul(at,Rt),J=J+Math.imul(pt,Pr)|0,Z=Z+Math.imul(pt,xt)|0,Z=Z+Math.imul(wt,Pr)|0,te=te+Math.imul(wt,xt)|0,J=J+Math.imul(ct,nr)|0,Z=Z+Math.imul(ct,wr)|0,Z=Z+Math.imul(nt,nr)|0,te=te+Math.imul(nt,wr)|0,J=J+Math.imul(He,bt)|0,Z=Z+Math.imul(He,ut)|0,Z=Z+Math.imul(ft,bt)|0,te=te+Math.imul(ft,ut)|0,J=J+Math.imul(Ve,_t)|0,Z=Z+Math.imul(Ve,kt)|0,Z=Z+Math.imul(Ge,_t)|0,te=te+Math.imul(Ge,kt)|0;var ir=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(ir>>>26)|0,ir&=67108863,J=Math.imul(Ct,Pr),Z=Math.imul(Ct,xt),Z=Z+Math.imul(at,Pr)|0,te=Math.imul(at,xt),J=J+Math.imul(pt,nr)|0,Z=Z+Math.imul(pt,wr)|0,Z=Z+Math.imul(wt,nr)|0,te=te+Math.imul(wt,wr)|0,J=J+Math.imul(ct,bt)|0,Z=Z+Math.imul(ct,ut)|0,Z=Z+Math.imul(nt,bt)|0,te=te+Math.imul(nt,ut)|0,J=J+Math.imul(He,_t)|0,Z=Z+Math.imul(He,kt)|0,Z=Z+Math.imul(ft,_t)|0,te=te+Math.imul(ft,kt)|0;var Vt=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,J=Math.imul(Ct,nr),Z=Math.imul(Ct,wr),Z=Z+Math.imul(at,nr)|0,te=Math.imul(at,wr),J=J+Math.imul(pt,bt)|0,Z=Z+Math.imul(pt,ut)|0,Z=Z+Math.imul(wt,bt)|0,te=te+Math.imul(wt,ut)|0,J=J+Math.imul(ct,_t)|0,Z=Z+Math.imul(ct,kt)|0,Z=Z+Math.imul(nt,_t)|0,te=te+Math.imul(nt,kt)|0;var yr=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(yr>>>26)|0,yr&=67108863,J=Math.imul(Ct,bt),Z=Math.imul(Ct,ut),Z=Z+Math.imul(at,bt)|0,te=Math.imul(at,ut),J=J+Math.imul(pt,_t)|0,Z=Z+Math.imul(pt,kt)|0,Z=Z+Math.imul(wt,_t)|0,te=te+Math.imul(wt,kt)|0;var br=(se+J|0)+((Z&8191)<<13)|0;se=(te+(Z>>>13)|0)+(br>>>26)|0,br&=67108863,J=Math.imul(Ct,_t),Z=Math.imul(Ct,kt),Z=Z+Math.imul(at,_t)|0,te=Math.imul(at,kt);var _r=(se+J|0)+((Z&8191)<<13)|0;return se=(te+(Z>>>13)|0)+(_r>>>26)|0,_r&=67108863,q[0]=Xt,q[1]=Wt,q[2]=Ht,q[3]=tr,q[4]=gr,q[5]=Qt,q[6]=mr,q[7]=Ze,q[8]=Ye,q[9]=Bt,q[10]=Ft,q[11]=rr,q[12]=sr,q[13]=fr,q[14]=ir,q[15]=Vt,q[16]=yr,q[17]=br,q[18]=_r,se!==0&&(q[19]=se,X.length++),X};Math.imul||(_=A);function y(N,O,V){V.negative=O.negative^N.negative,V.length=N.length+O.length;for(var X=0,ee=0,ne=0;ne<V.length-1;ne++){var q=ee;ee=0;for(var se=X&67108863,J=Math.min(ne,O.length-1),Z=Math.max(0,ne-N.length+1);Z<=J;Z++){var te=ne-Z,Y=N.words[te]|0,ie=O.words[Z]|0,le=Y*ie,j=le&67108863;q=q+(le/67108864|0)|0,j=j+se|0,se=j&67108863,q=q+(j>>>26)|0,ee+=q>>>26,q&=67108863}V.words[ne]=se,X=q,q=ee}return X!==0?V.words[ne]=X:V.length--,V.strip()}function E(N,O,V){var X=new M;return X.mulp(N,O,V)}f.prototype.mulTo=function(O,V){var X,ee=this.length+O.length;return this.length===10&&O.length===10?X=_(this,O,V):ee<63?X=A(this,O,V):ee<1024?X=y(this,O,V):X=E(this,O,V),X};function M(N,O){this.x=N,this.y=O}M.prototype.makeRBT=function(O){for(var V=new Array(O),X=f.prototype._countBits(O)-1,ee=0;ee<O;ee++)V[ee]=this.revBin(ee,X,O);return V},M.prototype.revBin=function(O,V,X){if(O===0||O===X-1)return O;for(var ee=0,ne=0;ne<V;ne++)ee|=(O&1)<<V-ne-1,O>>=1;return ee},M.prototype.permute=function(O,V,X,ee,ne,q){for(var se=0;se<q;se++)ee[se]=V[O[se]],ne[se]=X[O[se]]},M.prototype.transform=function(O,V,X,ee,ne,q){this.permute(q,O,V,X,ee,ne);for(var se=1;se<ne;se<<=1)for(var J=se<<1,Z=Math.cos(2*Math.PI/J),te=Math.sin(2*Math.PI/J),Y=0;Y<ne;Y+=J)for(var ie=Z,le=te,j=0;j<se;j++){var K=X[Y+j],ue=ee[Y+j],ae=X[Y+j+se],he=ee[Y+j+se],xe=ie*ae-le*he;he=ie*he+le*ae,ae=xe,X[Y+j]=K+ae,ee[Y+j]=ue+he,X[Y+j+se]=K-ae,ee[Y+j+se]=ue-he,j!==J&&(xe=Z*ie-te*le,le=Z*le+te*ie,ie=xe)}},M.prototype.guessLen13b=function(O,V){var X=Math.max(V,O)|1,ee=X&1,ne=0;for(X=X/2|0;X;X=X>>>1)ne++;return 1<<ne+1+ee},M.prototype.conjugate=function(O,V,X){if(!(X<=1))for(var ee=0;ee<X/2;ee++){var ne=O[ee];O[ee]=O[X-ee-1],O[X-ee-1]=ne,ne=V[ee],V[ee]=-V[X-ee-1],V[X-ee-1]=-ne}},M.prototype.normalize13b=function(O,V){for(var X=0,ee=0;ee<V/2;ee++){var ne=Math.round(O[2*ee+1]/V)*8192+Math.round(O[2*ee]/V)+X;O[ee]=ne&67108863,ne<67108864?X=0:X=ne/67108864|0}return O},M.prototype.convert13b=function(O,V,X,ee){for(var ne=0,q=0;q<V;q++)ne=ne+(O[q]|0),X[2*q]=ne&8191,ne=ne>>>13,X[2*q+1]=ne&8191,ne=ne>>>13;for(q=2*V;q<ee;++q)X[q]=0;a(ne===0),a((ne&-8192)===0)},M.prototype.stub=function(O){for(var V=new Array(O),X=0;X<O;X++)V[X]=0;return V},M.prototype.mulp=function(O,V,X){var ee=2*this.guessLen13b(O.length,V.length),ne=this.makeRBT(ee),q=this.stub(ee),se=new Array(ee),J=new Array(ee),Z=new Array(ee),te=new Array(ee),Y=new Array(ee),ie=new Array(ee),le=X.words;le.length=ee,this.convert13b(O.words,O.length,se,ee),this.convert13b(V.words,V.length,te,ee),this.transform(se,q,J,Z,ee,ne),this.transform(te,q,Y,ie,ee,ne);for(var j=0;j<ee;j++){var K=J[j]*Y[j]-Z[j]*ie[j];Z[j]=J[j]*ie[j]+Z[j]*Y[j],J[j]=K}return this.conjugate(J,Z,ee),this.transform(J,Z,le,q,ee,ne),this.conjugate(le,q,ee),this.normalize13b(le,ee),X.negative=O.negative^V.negative,X.length=O.length+V.length,X.strip()},f.prototype.mul=function(O){var V=new f(null);return V.words=new Array(this.length+O.length),this.mulTo(O,V)},f.prototype.mulf=function(O){var V=new f(null);return V.words=new Array(this.length+O.length),E(this,O,V)},f.prototype.imul=function(O){return this.clone().mulTo(O,this)},f.prototype.imuln=function(O){a(typeof O=="number"),a(O<67108864);for(var V=0,X=0;X<this.length;X++){var ee=(this.words[X]|0)*O,ne=(ee&67108863)+(V&67108863);V>>=26,V+=ee/67108864|0,V+=ne>>>26,this.words[X]=ne&67108863}return V!==0&&(this.words[X]=V,this.length++),this},f.prototype.muln=function(O){return this.clone().imuln(O)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(O){var V=x(O);if(V.length===0)return new f(1);for(var X=this,ee=0;ee<V.length&&V[ee]===0;ee++,X=X.sqr());if(++ee<V.length)for(var ne=X.sqr();ee<V.length;ee++,ne=ne.sqr())V[ee]!==0&&(X=X.mul(ne));return X},f.prototype.iushln=function(O){a(typeof O=="number"&&O>=0);var V=O%26,X=(O-V)/26,ee=67108863>>>26-V<<26-V,ne;if(V!==0){var q=0;for(ne=0;ne<this.length;ne++){var se=this.words[ne]&ee,J=(this.words[ne]|0)-se<<V;this.words[ne]=J|q,q=se>>>26-V}q&&(this.words[ne]=q,this.length++)}if(X!==0){for(ne=this.length-1;ne>=0;ne--)this.words[ne+X]=this.words[ne];for(ne=0;ne<X;ne++)this.words[ne]=0;this.length+=X}return this.strip()},f.prototype.ishln=function(O){return a(this.negative===0),this.iushln(O)},f.prototype.iushrn=function(O,V,X){a(typeof O=="number"&&O>=0);var ee;V?ee=(V-V%26)/26:ee=0;var ne=O%26,q=Math.min((O-ne)/26,this.length),se=67108863^67108863>>>ne<<ne,J=X;if(ee-=q,ee=Math.max(0,ee),J){for(var Z=0;Z<q;Z++)J.words[Z]=this.words[Z];J.length=q}if(q!==0)if(this.length>q)for(this.length-=q,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+q];else this.words[0]=0,this.length=1;var te=0;for(Z=this.length-1;Z>=0&&(te!==0||Z>=ee);Z--){var Y=this.words[Z]|0;this.words[Z]=te<<26-ne|Y>>>ne,te=Y&se}return J&&te!==0&&(J.words[J.length++]=te),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(O,V,X){return a(this.negative===0),this.iushrn(O,V,X)},f.prototype.shln=function(O){return this.clone().ishln(O)},f.prototype.ushln=function(O){return this.clone().iushln(O)},f.prototype.shrn=function(O){return this.clone().ishrn(O)},f.prototype.ushrn=function(O){return this.clone().iushrn(O)},f.prototype.testn=function(O){a(typeof O=="number"&&O>=0);var V=O%26,X=(O-V)/26,ee=1<<V;if(this.length<=X)return!1;var ne=this.words[X];return!!(ne&ee)},f.prototype.imaskn=function(O){a(typeof O=="number"&&O>=0);var V=O%26,X=(O-V)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(V!==0&&X++,this.length=Math.min(X,this.length),V!==0){var ee=67108863^67108863>>>V<<V;this.words[this.length-1]&=ee}return this.strip()},f.prototype.maskn=function(O){return this.clone().imaskn(O)},f.prototype.iaddn=function(O){return a(typeof O=="number"),a(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(this.words[0]|0)<O?(this.words[0]=O-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},f.prototype._iaddn=function(O){this.words[0]+=O;for(var V=0;V<this.length&&this.words[V]>=67108864;V++)this.words[V]-=67108864,V===this.length-1?this.words[V+1]=1:this.words[V+1]++;return this.length=Math.max(this.length,V+1),this},f.prototype.isubn=function(O){if(a(typeof O=="number"),a(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var V=0;V<this.length&&this.words[V]<0;V++)this.words[V]+=67108864,this.words[V+1]-=1;return this.strip()},f.prototype.addn=function(O){return this.clone().iaddn(O)},f.prototype.subn=function(O){return this.clone().isubn(O)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(O,V,X){var ee=O.length+X,ne;this._expand(ee);var q,se=0;for(ne=0;ne<O.length;ne++){q=(this.words[ne+X]|0)+se;var J=(O.words[ne]|0)*V;q-=J&67108863,se=(q>>26)-(J/67108864|0),this.words[ne+X]=q&67108863}for(;ne<this.length-X;ne++)q=(this.words[ne+X]|0)+se,se=q>>26,this.words[ne+X]=q&67108863;if(se===0)return this.strip();for(a(se===-1),se=0,ne=0;ne<this.length;ne++)q=-(this.words[ne]|0)+se,se=q>>26,this.words[ne]=q&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(O,V){var X=this.length-O.length,ee=this.clone(),ne=O,q=ne.words[ne.length-1]|0,se=this._countBits(q);X=26-se,X!==0&&(ne=ne.ushln(X),ee.iushln(X),q=ne.words[ne.length-1]|0);var J=ee.length-ne.length,Z;if(V!=="mod"){Z=new f(null),Z.length=J+1,Z.words=new Array(Z.length);for(var te=0;te<Z.length;te++)Z.words[te]=0}var Y=ee.clone()._ishlnsubmul(ne,1,J);Y.negative===0&&(ee=Y,Z&&(Z.words[J]=1));for(var ie=J-1;ie>=0;ie--){var le=(ee.words[ne.length+ie]|0)*67108864+(ee.words[ne.length+ie-1]|0);for(le=Math.min(le/q|0,67108863),ee._ishlnsubmul(ne,le,ie);ee.negative!==0;)le--,ee.negative=0,ee._ishlnsubmul(ne,1,ie),ee.isZero()||(ee.negative^=1);Z&&(Z.words[ie]=le)}return Z&&Z.strip(),ee.strip(),V!=="div"&&X!==0&&ee.iushrn(X),{div:Z||null,mod:ee}},f.prototype.divmod=function(O,V,X){if(a(!O.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var ee,ne,q;return this.negative!==0&&O.negative===0?(q=this.neg().divmod(O,V),V!=="mod"&&(ee=q.div.neg()),V!=="div"&&(ne=q.mod.neg(),X&&ne.negative!==0&&ne.iadd(O)),{div:ee,mod:ne}):this.negative===0&&O.negative!==0?(q=this.divmod(O.neg(),V),V!=="mod"&&(ee=q.div.neg()),{div:ee,mod:q.mod}):this.negative&O.negative?(q=this.neg().divmod(O.neg(),V),V!=="div"&&(ne=q.mod.neg(),X&&ne.negative!==0&&ne.isub(O)),{div:q.div,mod:ne}):O.length>this.length||this.cmp(O)<0?{div:new f(0),mod:this}:O.length===1?V==="div"?{div:this.divn(O.words[0]),mod:null}:V==="mod"?{div:null,mod:new f(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new f(this.modn(O.words[0]))}:this._wordDiv(O,V)},f.prototype.div=function(O){return this.divmod(O,"div",!1).div},f.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},f.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},f.prototype.divRound=function(O){var V=this.divmod(O);if(V.mod.isZero())return V.div;var X=V.div.negative!==0?V.mod.isub(O):V.mod,ee=O.ushrn(1),ne=O.andln(1),q=X.cmp(ee);return q<0||ne===1&&q===0?V.div:V.div.negative!==0?V.div.isubn(1):V.div.iaddn(1)},f.prototype.modn=function(O){a(O<=67108863);for(var V=(1<<26)%O,X=0,ee=this.length-1;ee>=0;ee--)X=(V*X+(this.words[ee]|0))%O;return X},f.prototype.idivn=function(O){a(O<=67108863);for(var V=0,X=this.length-1;X>=0;X--){var ee=(this.words[X]|0)+V*67108864;this.words[X]=ee/O|0,V=ee%O}return this.strip()},f.prototype.divn=function(O){return this.clone().idivn(O)},f.prototype.egcd=function(O){a(O.negative===0),a(!O.isZero());var V=this,X=O.clone();V.negative!==0?V=V.umod(O):V=V.clone();for(var ee=new f(1),ne=new f(0),q=new f(0),se=new f(1),J=0;V.isEven()&&X.isEven();)V.iushrn(1),X.iushrn(1),++J;for(var Z=X.clone(),te=V.clone();!V.isZero();){for(var Y=0,ie=1;!(V.words[0]&ie)&&Y<26;++Y,ie<<=1);if(Y>0)for(V.iushrn(Y);Y-- >0;)(ee.isOdd()||ne.isOdd())&&(ee.iadd(Z),ne.isub(te)),ee.iushrn(1),ne.iushrn(1);for(var le=0,j=1;!(X.words[0]&j)&&le<26;++le,j<<=1);if(le>0)for(X.iushrn(le);le-- >0;)(q.isOdd()||se.isOdd())&&(q.iadd(Z),se.isub(te)),q.iushrn(1),se.iushrn(1);V.cmp(X)>=0?(V.isub(X),ee.isub(q),ne.isub(se)):(X.isub(V),q.isub(ee),se.isub(ne))}return{a:q,b:se,gcd:X.iushln(J)}},f.prototype._invmp=function(O){a(O.negative===0),a(!O.isZero());var V=this,X=O.clone();V.negative!==0?V=V.umod(O):V=V.clone();for(var ee=new f(1),ne=new f(0),q=X.clone();V.cmpn(1)>0&&X.cmpn(1)>0;){for(var se=0,J=1;!(V.words[0]&J)&&se<26;++se,J<<=1);if(se>0)for(V.iushrn(se);se-- >0;)ee.isOdd()&&ee.iadd(q),ee.iushrn(1);for(var Z=0,te=1;!(X.words[0]&te)&&Z<26;++Z,te<<=1);if(Z>0)for(X.iushrn(Z);Z-- >0;)ne.isOdd()&&ne.iadd(q),ne.iushrn(1);V.cmp(X)>=0?(V.isub(X),ee.isub(ne)):(X.isub(V),ne.isub(ee))}var Y;return V.cmpn(1)===0?Y=ee:Y=ne,Y.cmpn(0)<0&&Y.iadd(O),Y},f.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var V=this.clone(),X=O.clone();V.negative=0,X.negative=0;for(var ee=0;V.isEven()&&X.isEven();ee++)V.iushrn(1),X.iushrn(1);do{for(;V.isEven();)V.iushrn(1);for(;X.isEven();)X.iushrn(1);var ne=V.cmp(X);if(ne<0){var q=V;V=X,X=q}else if(ne===0||X.cmpn(1)===0)break;V.isub(X)}while(!0);return X.iushln(ee)},f.prototype.invm=function(O){return this.egcd(O).a.umod(O)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(O){return this.words[0]&O},f.prototype.bincn=function(O){a(typeof O=="number");var V=O%26,X=(O-V)/26,ee=1<<V;if(this.length<=X)return this._expand(X+1),this.words[X]|=ee,this;for(var ne=ee,q=X;ne!==0&&q<this.length;q++){var se=this.words[q]|0;se+=ne,ne=se>>>26,se&=67108863,this.words[q]=se}return ne!==0&&(this.words[q]=ne,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(O){var V=O<0;if(this.negative!==0&&!V)return-1;if(this.negative===0&&V)return 1;this.strip();var X;if(this.length>1)X=1;else{V&&(O=-O),a(O<=67108863,"Number is too big");var ee=this.words[0]|0;X=ee===O?0:ee<O?-1:1}return this.negative!==0?-X|0:X},f.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var V=this.ucmp(O);return this.negative!==0?-V|0:V},f.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var V=0,X=this.length-1;X>=0;X--){var ee=this.words[X]|0,ne=O.words[X]|0;if(ee!==ne){ee<ne?V=-1:ee>ne&&(V=1);break}}return V},f.prototype.gtn=function(O){return this.cmpn(O)===1},f.prototype.gt=function(O){return this.cmp(O)===1},f.prototype.gten=function(O){return this.cmpn(O)>=0},f.prototype.gte=function(O){return this.cmp(O)>=0},f.prototype.ltn=function(O){return this.cmpn(O)===-1},f.prototype.lt=function(O){return this.cmp(O)===-1},f.prototype.lten=function(O){return this.cmpn(O)<=0},f.prototype.lte=function(O){return this.cmp(O)<=0},f.prototype.eqn=function(O){return this.cmpn(O)===0},f.prototype.eq=function(O){return this.cmp(O)===0},f.red=function(O){return new k(O)},f.prototype.toRed=function(O){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},f.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(O){return this.red=O,this},f.prototype.forceRed=function(O){return a(!this.red,"Already a number in reduction context"),this._forceRed(O)},f.prototype.redAdd=function(O){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},f.prototype.redIAdd=function(O){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},f.prototype.redSub=function(O){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},f.prototype.redISub=function(O){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},f.prototype.redShl=function(O){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},f.prototype.redMul=function(O){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},f.prototype.redIMul=function(O){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},f.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(O){return a(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var s={k256:null,p224:null,p192:null,p25519:null};function S(N,O){this.name=N,this.p=new f(O,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}S.prototype._tmp=function(){var O=new f(null);return O.words=new Array(Math.ceil(this.n/13)),O},S.prototype.ireduce=function(O){var V=O,X;do this.split(V,this.tmp),V=this.imulK(V),V=V.iadd(this.tmp),X=V.bitLength();while(X>this.n);var ee=X<this.n?-1:V.ucmp(this.p);return ee===0?(V.words[0]=0,V.length=1):ee>0?V.isub(this.p):V.strip!==void 0?V.strip():V._strip(),V},S.prototype.split=function(O,V){O.iushrn(this.n,0,V)},S.prototype.imulK=function(O){return O.imul(this.k)};function b(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(b,S),b.prototype.split=function(O,V){for(var X=4194303,ee=Math.min(O.length,9),ne=0;ne<ee;ne++)V.words[ne]=O.words[ne];if(V.length=ee,O.length<=9){O.words[0]=0,O.length=1;return}var q=O.words[9];for(V.words[V.length++]=q&X,ne=10;ne<O.length;ne++){var se=O.words[ne]|0;O.words[ne-10]=(se&X)<<4|q>>>22,q=se}q>>>=22,O.words[ne-10]=q,q===0&&O.length>10?O.length-=10:O.length-=9},b.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var V=0,X=0;X<O.length;X++){var ee=O.words[X]|0;V+=ee*977,O.words[X]=V&67108863,V=ee*64+(V/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O};function I(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(I,S);function D(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(D,S);function B(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(B,S),B.prototype.imulK=function(O){for(var V=0,X=0;X<O.length;X++){var ee=(O.words[X]|0)*19+V,ne=ee&67108863;ee>>>=26,O.words[X]=ne,V=ee}return V!==0&&(O.words[O.length++]=V),O},f._prime=function(O){if(s[O])return s[O];var V;if(O==="k256")V=new b;else if(O==="p224")V=new I;else if(O==="p192")V=new D;else if(O==="p25519")V=new B;else throw new Error("Unknown prime "+O);return s[O]=V,V};function k(N){if(typeof N=="string"){var O=f._prime(N);this.m=O.p,this.prime=O}else a(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}k.prototype._verify1=function(O){a(O.negative===0,"red works only with positives"),a(O.red,"red works only with red numbers")},k.prototype._verify2=function(O,V){a((O.negative|V.negative)===0,"red works only with positives"),a(O.red&&O.red===V.red,"red works only with red numbers")},k.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},k.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},k.prototype.add=function(O,V){this._verify2(O,V);var X=O.add(V);return X.cmp(this.m)>=0&&X.isub(this.m),X._forceRed(this)},k.prototype.iadd=function(O,V){this._verify2(O,V);var X=O.iadd(V);return X.cmp(this.m)>=0&&X.isub(this.m),X},k.prototype.sub=function(O,V){this._verify2(O,V);var X=O.sub(V);return X.cmpn(0)<0&&X.iadd(this.m),X._forceRed(this)},k.prototype.isub=function(O,V){this._verify2(O,V);var X=O.isub(V);return X.cmpn(0)<0&&X.iadd(this.m),X},k.prototype.shl=function(O,V){return this._verify1(O),this.imod(O.ushln(V))},k.prototype.imul=function(O,V){return this._verify2(O,V),this.imod(O.imul(V))},k.prototype.mul=function(O,V){return this._verify2(O,V),this.imod(O.mul(V))},k.prototype.isqr=function(O){return this.imul(O,O.clone())},k.prototype.sqr=function(O){return this.mul(O,O)},k.prototype.sqrt=function(O){if(O.isZero())return O.clone();var V=this.m.andln(3);if(a(V%2===1),V===3){var X=this.m.add(new f(1)).iushrn(2);return this.pow(O,X)}for(var ee=this.m.subn(1),ne=0;!ee.isZero()&&ee.andln(1)===0;)ne++,ee.iushrn(1);a(!ee.isZero());var q=new f(1).toRed(this),se=q.redNeg(),J=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new f(2*Z*Z).toRed(this);this.pow(Z,J).cmp(se)!==0;)Z.redIAdd(se);for(var te=this.pow(Z,ee),Y=this.pow(O,ee.addn(1).iushrn(1)),ie=this.pow(O,ee),le=ne;ie.cmp(q)!==0;){for(var j=ie,K=0;j.cmp(q)!==0;K++)j=j.redSqr();a(K<le);var ue=this.pow(te,new f(1).iushln(le-K-1));Y=Y.redMul(ue),te=ue.redSqr(),ie=ie.redMul(te),le=K}return Y},k.prototype.invm=function(O){var V=O._invmp(this.m);return V.negative!==0?(V.negative=0,this.imod(V).redNeg()):this.imod(V)},k.prototype.pow=function(O,V){if(V.isZero())return new f(1).toRed(this);if(V.cmpn(1)===0)return O.clone();var X=4,ee=new Array(1<<X);ee[0]=new f(1).toRed(this),ee[1]=O;for(var ne=2;ne<ee.length;ne++)ee[ne]=this.mul(ee[ne-1],O);var q=ee[0],se=0,J=0,Z=V.bitLength()%26;for(Z===0&&(Z=26),ne=V.length-1;ne>=0;ne--){for(var te=V.words[ne],Y=Z-1;Y>=0;Y--){var ie=te>>Y&1;if(q!==ee[0]&&(q=this.sqr(q)),ie===0&&se===0){J=0;continue}se<<=1,se|=ie,J++,!(J!==X&&(ne!==0||Y!==0))&&(q=this.mul(q,ee[se]),J=0,se=0)}Z=26}return q},k.prototype.convertTo=function(O){var V=O.umod(this.m);return V===O?V.clone():V},k.prototype.convertFrom=function(O){var V=O.clone();return V.red=null,V},f.mont=function(O){return new F(O)};function F(N){k.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(F,k),F.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},F.prototype.convertFrom=function(O){var V=this.imod(O.mul(this.rinv));return V.red=null,V},F.prototype.imul=function(O,V){if(O.isZero()||V.isZero())return O.words[0]=0,O.length=1,O;var X=O.imul(V),ee=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=X.isub(ee).iushrn(this.shift),q=ne;return ne.cmp(this.m)>=0?q=ne.isub(this.m):ne.cmpn(0)<0&&(q=ne.iadd(this.m)),q._forceRed(this)},F.prototype.mul=function(O,V){if(O.isZero()||V.isZero())return new f(0)._forceRed(this);var X=O.mul(V),ee=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=X.isub(ee).iushrn(this.shift),q=ne;return ne.cmp(this.m)>=0?q=ne.isub(this.m):ne.cmpn(0)<0&&(q=ne.iadd(this.m)),q._forceRed(this)},F.prototype.invm=function(O){var V=this.imod(O._invmp(this.m).mul(this.r2));return V._forceRed(this)}}(v,this)},6204:function(v){v.exports=g;function g(r){var t,i,a,u=r.length,f=0;for(t=0;t<u;++t)f+=r[t].length;var l=new Array(f),m=0;for(t=0;t<u;++t){var h=r[t],T=h.length;for(i=0;i<T;++i){var c=l[m++]=new Array(T-1),o=0;for(a=0;a<T;++a)a!==i&&(c[o++]=h[a]);if(i&1){var p=c[1];c[1]=c[0],c[0]=p}}}return l}},6867:function(v,g,r){v.exports=o;var t=r(1888),i=r(855),a=r(7150);function u(p,x){for(var A=0;A<p;++A)if(!(x[A]<=x[A+p]))return!0;return!1}function f(p,x,A,_){for(var y=0,E=0,M=0,s=p.length;M<s;++M){var S=p[M];if(!u(x,S)){for(var b=0;b<2*x;++b)A[y++]=S[b];_[E++]=M}}return E}function l(p,x,A,_){var y=p.length,E=x.length;if(!(y<=0||E<=0)){var M=p[0].length>>>1;if(!(M<=0)){var s,S=t.mallocDouble(2*M*y),b=t.mallocInt32(y);if(y=f(p,M,S,b),y>0){if(M===1&&_)i.init(y),s=i.sweepComplete(M,A,0,y,S,b,0,y,S,b);else{var I=t.mallocDouble(2*M*E),D=t.mallocInt32(E);E=f(x,M,I,D),E>0&&(i.init(y+E),M===1?s=i.sweepBipartite(M,A,0,y,S,b,0,E,I,D):s=a(M,A,_,y,S,b,E,I,D),t.free(I),t.free(D))}t.free(S),t.free(b)}return s}}}var m;function h(p,x){m.push([p,x])}function T(p){return m=[],l(p,p,h,!0),m}function c(p,x){return m=[],l(p,x,h,!1),m}function o(p,x,A){switch(arguments.length){case 1:return T(p);case 2:return typeof x=="function"?l(p,p,x,!0):c(p,x);case 3:return l(p,x,A,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,g){function r(){function a(l,m,h,T,c,o,p,x,A,_,y){for(var E=2*l,M=T,s=E*T;M<c;++M,s+=E){var S=o[m+s],b=o[m+s+l],I=p[M];e:for(var D=x,B=E*x;D<A;++D,B+=E){var k=_[m+B],F=_[m+B+l],N=y[D];if(!(F<S||b<k)){for(var O=m+1;O<l;++O){var V=o[O+s],X=o[O+l+s],ee=_[O+B],ne=_[O+l+B];if(X<ee||ne<V)continue e}var q=h(I,N);if(q!==void 0)return q}}}}function u(l,m,h,T,c,o,p,x,A,_,y){for(var E=2*l,M=x,s=E*x;M<A;++M,s+=E){var S=_[m+s],b=_[m+s+l],I=y[M];e:for(var D=T,B=E*T;D<c;++D,B+=E){var k=o[m+B],F=o[m+B+l],N=p[D];if(!(b<k||F<S)){for(var O=m+1;O<l;++O){var V=o[O+B],X=o[O+l+B],ee=_[O+s],ne=_[O+l+s];if(X<ee||ne<V)continue e}var q=h(N,I);if(q!==void 0)return q}}}}function f(l,m,h,T,c,o,p,x,A,_,y){return c-T>A-x?a(l,m,h,T,c,o,p,x,A,_,y):u(l,m,h,T,c,o,p,x,A,_,y)}return f}function t(){function a(h,T,c,o,p,x,A,_,y,E,M){for(var s=2*h,S=o,b=s*o;S<p;++S,b+=s){var I=x[T+b],D=x[T+b+h],B=A[S];e:for(var k=_,F=s*_;k<y;++k,F+=s){var N=E[T+F],O=M[k];if(!(N<=I||D<N)){for(var V=T+1;V<h;++V){var X=x[V+b],ee=x[V+h+b],ne=E[V+F],q=E[V+h+F];if(ee<ne||q<X)continue e}var se=c(O,B);if(se!==void 0)return se}}}}function u(h,T,c,o,p,x,A,_,y,E,M){for(var s=2*h,S=o,b=s*o;S<p;++S,b+=s){var I=x[T+b],D=x[T+b+h],B=A[S];e:for(var k=_,F=s*_;k<y;++k,F+=s){var N=E[T+F],O=M[k];if(!(N<I||D<N)){for(var V=T+1;V<h;++V){var X=x[V+b],ee=x[V+h+b],ne=E[V+F],q=E[V+h+F];if(ee<ne||q<X)continue e}var se=c(B,O);if(se!==void 0)return se}}}}function f(h,T,c,o,p,x,A,_,y,E,M){for(var s=2*h,S=_,b=s*_;S<y;++S,b+=s){var I=E[T+b],D=M[S];e:for(var B=o,k=s*o;B<p;++B,k+=s){var F=x[T+k],N=x[T+k+h],O=A[B];if(!(I<=F||N<I)){for(var V=T+1;V<h;++V){var X=x[V+k],ee=x[V+h+k],ne=E[V+b],q=E[V+h+b];if(ee<ne||q<X)continue e}var se=c(D,O);if(se!==void 0)return se}}}}function l(h,T,c,o,p,x,A,_,y,E,M){for(var s=2*h,S=_,b=s*_;S<y;++S,b+=s){var I=E[T+b],D=M[S];e:for(var B=o,k=s*o;B<p;++B,k+=s){var F=x[T+k],N=x[T+k+h],O=A[B];if(!(I<F||N<I)){for(var V=T+1;V<h;++V){var X=x[V+k],ee=x[V+h+k],ne=E[V+b],q=E[V+h+b];if(ee<ne||q<X)continue e}var se=c(O,D);if(se!==void 0)return se}}}}function m(h,T,c,o,p,x,A,_,y,E,M,s){return x-p>E-y?o?a(h,T,c,p,x,A,_,y,E,M,s):u(h,T,c,p,x,A,_,y,E,M,s):o?f(h,T,c,p,x,A,_,y,E,M,s):l(h,T,c,p,x,A,_,y,E,M,s)}return m}function i(a){return a?r():t()}g.partial=i(!1),g.full=i(!0)},7150:function(v,g,r){v.exports=N;var t=r(1888),i=r(8828),a=r(2455),u=a.partial,f=a.full,l=r(855),m=r(3545),h=r(8105),T=128,c=1<<22,o=1<<22,p=h("!(lo>=p0)&&!(p1>=hi)"),x=h("lo===p0"),A=h("lo<p0"),_=h("hi<=p0"),y=h("lo<=p0&&p0<=hi"),E=h("lo<p0&&p0<=hi"),M=6,s=2,S=1024,b=t.mallocInt32(S),I=t.mallocDouble(S);function D(O,V){var X=8*i.log2(V+1)*(O+1)|0,ee=i.nextPow2(M*X);b.length<ee&&(t.free(b),b=t.mallocInt32(ee));var ne=i.nextPow2(s*X);I.length<ne&&(t.free(I),I=t.mallocDouble(ne))}function B(O,V,X,ee,ne,q,se,J,Z){var te=M*O;b[te]=V,b[te+1]=X,b[te+2]=ee,b[te+3]=ne,b[te+4]=q,b[te+5]=se;var Y=s*O;I[Y]=J,I[Y+1]=Z}function k(O,V,X,ee,ne,q,se,J,Z,te,Y){var ie=2*O,le=Z*ie,j=te[le+V];e:for(var K=ne,ue=ne*ie;K<q;++K,ue+=ie){var ae=se[ue+V],he=se[ue+V+O];if(!(j<ae||he<j)&&!(ee&&j===ae)){for(var xe=J[K],Se=V+1;Se<O;++Se){var ae=se[ue+Se],he=se[ue+Se+O],Ae=te[le+Se],De=te[le+Se+O];if(he<Ae||De<ae)continue e}var we;if(ee?we=X(Y,xe):we=X(xe,Y),we!==void 0)return we}}}function F(O,V,X,ee,ne,q,se,J,Z,te){var Y=2*O,ie=J*Y,le=Z[ie+V];e:for(var j=ee,K=ee*Y;j<ne;++j,K+=Y){var ue=se[j];if(ue!==te){var ae=q[K+V],he=q[K+V+O];if(!(le<ae||he<le)){for(var xe=V+1;xe<O;++xe){var ae=q[K+xe],he=q[K+xe+O],Se=Z[ie+xe],Ae=Z[ie+xe+O];if(he<Se||Ae<ae)continue e}var De=X(ue,te);if(De!==void 0)return De}}}}function N(O,V,X,ee,ne,q,se,J,Z){D(O,ee+se);var te=0,Y=2*O,ie;for(B(te++,0,0,ee,0,se,X?16:0,-1/0,1/0),X||B(te++,0,0,se,0,ee,1,-1/0,1/0);te>0;){te-=1;var le=te*M,j=b[le],K=b[le+1],ue=b[le+2],ae=b[le+3],he=b[le+4],xe=b[le+5],Se=te*s,Ae=I[Se],De=I[Se+1],we=xe&1,Ce=!!(xe&16),be=ne,Pe=q,Ve=J,Ge=Z;if(we&&(be=J,Pe=Z,Ve=ne,Ge=q),!(xe&2&&(ue=A(O,j,K,ue,be,Pe,De),K>=ue))&&!(xe&4&&(K=_(O,j,K,ue,be,Pe,Ae),K>=ue))){var Fe=ue-K,He=he-ae;if(Ce){if(O*Fe*(Fe+He)<o){if(ie=l.scanComplete(O,j,V,K,ue,be,Pe,ae,he,Ve,Ge),ie!==void 0)return ie;continue}}else if(O*Math.min(Fe,He)<T){if(ie=u(O,j,V,we,K,ue,be,Pe,ae,he,Ve,Ge),ie!==void 0)return ie;continue}else if(O*Fe*He<c){if(ie=l.scanBipartite(O,j,V,we,K,ue,be,Pe,ae,he,Ve,Ge),ie!==void 0)return ie;continue}var ft=p(O,j,K,ue,be,Pe,Ae,De);if(K<ft)if(O*(ft-K)<T){if(ie=f(O,j+1,V,K,ft,be,Pe,ae,he,Ve,Ge),ie!==void 0)return ie}else if(j===O-2){if(we?ie=l.sweepBipartite(O,V,ae,he,Ve,Ge,K,ft,be,Pe):ie=l.sweepBipartite(O,V,K,ft,be,Pe,ae,he,Ve,Ge),ie!==void 0)return ie}else B(te++,j+1,K,ft,ae,he,we,-1/0,1/0),B(te++,j+1,ae,he,K,ft,we^1,-1/0,1/0);if(ft<ue){var gt=m(O,j,ae,he,Ve,Ge),ct=Ve[Y*gt+j],nt=x(O,j,gt,he,Ve,Ge,ct);if(nt<he&&B(te++,j,ft,ue,nt,he,(we|4)+(Ce?16:0),ct,De),ae<gt&&B(te++,j,ft,ue,ae,gt,(we|2)+(Ce?16:0),Ae,ct),gt+1===nt){if(Ce?ie=F(O,j,V,ft,ue,be,Pe,gt,Ve,Ge[gt]):ie=k(O,j,V,we,ft,ue,be,Pe,gt,Ve,Ge[gt]),ie!==void 0)return ie}else if(gt<nt){var dt;if(Ce){if(dt=y(O,j,ft,ue,be,Pe,ct),ft<dt){var pt=x(O,j,ft,dt,be,Pe,ct);if(j===O-2){if(ft<pt&&(ie=l.sweepComplete(O,V,ft,pt,be,Pe,gt,nt,Ve,Ge),ie!==void 0)||pt<dt&&(ie=l.sweepBipartite(O,V,pt,dt,be,Pe,gt,nt,Ve,Ge),ie!==void 0))return ie}else ft<pt&&B(te++,j+1,ft,pt,gt,nt,16,-1/0,1/0),pt<dt&&(B(te++,j+1,pt,dt,gt,nt,0,-1/0,1/0),B(te++,j+1,gt,nt,pt,dt,1,-1/0,1/0))}}else we?dt=E(O,j,ft,ue,be,Pe,ct):dt=y(O,j,ft,ue,be,Pe,ct),ft<dt&&(j===O-2?we?ie=l.sweepBipartite(O,V,gt,nt,Ve,Ge,ft,dt,be,Pe):ie=l.sweepBipartite(O,V,ft,dt,be,Pe,gt,nt,Ve,Ge):(B(te++,j+1,ft,dt,gt,nt,we,-1/0,1/0),B(te++,j+1,gt,nt,ft,dt,we^1,-1/0,1/0)))}}}}}},3545:function(v,g,r){v.exports=f;var t=r(8105),i=t("lo<p0"),a=8;function u(l,m,h,T,c,o){for(var p=2*l,x=p*(h+1)+m,A=h+1;A<T;++A,x+=p)for(var _=c[x],y=A,E=p*(A-1);y>h&&c[E+m]>_;--y,E-=p){for(var M=E,s=E+p,S=0;S<p;++S,++M,++s){var b=c[M];c[M]=c[s],c[s]=b}var I=o[y];o[y]=o[y-1],o[y-1]=I}}function f(l,m,h,T,c,o){if(T<=h+1)return h;for(var p=h,x=T,A=T+h>>>1,_=2*l,y=A,E=c[_*A+m];p<x;){if(x-p<a){u(l,m,p,x,c,o),E=c[_*A+m];break}var M=x-p,s=Math.random()*M+p|0,S=c[_*s+m],b=Math.random()*M+p|0,I=c[_*b+m],D=Math.random()*M+p|0,B=c[_*D+m];S<=I?B>=I?(y=b,E=I):S>=B?(y=s,E=S):(y=D,E=B):I>=B?(y=b,E=I):B>=S?(y=s,E=S):(y=D,E=B);for(var N=_*(x-1),O=_*y,k=0;k<_;++k,++N,++O){var F=c[N];c[N]=c[O],c[O]=F}var V=o[x-1];o[x-1]=o[y],o[y]=V,y=i(l,m,p,x-1,c,o,E);for(var N=_*(x-1),O=_*y,k=0;k<_;++k,++N,++O){var F=c[N];c[N]=c[O],c[O]=F}var V=o[x-1];if(o[x-1]=o[y],o[y]=V,A<y){for(x=y-1;p<x&&c[_*(x-1)+m]===E;)x-=1;x+=1}else if(y<A)for(p=y+1;p<x&&c[_*p+m]===E;)p+=1;else break}return i(l,m,h,A,c,o,c[_*A+m])}},8105:function(v){v.exports=r;var g={"lo===p0":t,"lo<p0":i,"lo<=p0":a,"hi<=p0":u,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":f,"!(lo>=p0)&&!(p1>=hi)":m};function r(h){return g[h]}function t(h,T,c,o,p,x,A){for(var _=2*h,y=_*c,E=y,M=c,s=T,S=h+T,b=c;o>b;++b,y+=_){var I=p[y+s];if(I===A)if(M===b)M+=1,E+=_;else{for(var D=0;_>D;++D){var B=p[y+D];p[y+D]=p[E],p[E++]=B}var k=x[b];x[b]=x[M],x[M++]=k}}return M}function i(h,T,c,o,p,x,A){for(var _=2*h,y=_*c,E=y,M=c,s=T,S=h+T,b=c;o>b;++b,y+=_){var I=p[y+s];if(I<A)if(M===b)M+=1,E+=_;else{for(var D=0;_>D;++D){var B=p[y+D];p[y+D]=p[E],p[E++]=B}var k=x[b];x[b]=x[M],x[M++]=k}}return M}function a(h,T,c,o,p,x,A){for(var _=2*h,y=_*c,E=y,M=c,s=T,S=h+T,b=c;o>b;++b,y+=_){var I=p[y+S];if(I<=A)if(M===b)M+=1,E+=_;else{for(var D=0;_>D;++D){var B=p[y+D];p[y+D]=p[E],p[E++]=B}var k=x[b];x[b]=x[M],x[M++]=k}}return M}function u(h,T,c,o,p,x,A){for(var _=2*h,y=_*c,E=y,M=c,s=T,S=h+T,b=c;o>b;++b,y+=_){var I=p[y+S];if(I<=A)if(M===b)M+=1,E+=_;else{for(var D=0;_>D;++D){var B=p[y+D];p[y+D]=p[E],p[E++]=B}var k=x[b];x[b]=x[M],x[M++]=k}}return M}function f(h,T,c,o,p,x,A){for(var _=2*h,y=_*c,E=y,M=c,s=T,S=h+T,b=c;o>b;++b,y+=_){var I=p[y+s],D=p[y+S];if(I<=A&&A<=D)if(M===b)M+=1,E+=_;else{for(var B=0;_>B;++B){var k=p[y+B];p[y+B]=p[E],p[E++]=k}var F=x[b];x[b]=x[M],x[M++]=F}}return M}function l(h,T,c,o,p,x,A){for(var _=2*h,y=_*c,E=y,M=c,s=T,S=h+T,b=c;o>b;++b,y+=_){var I=p[y+s],D=p[y+S];if(I<A&&A<=D)if(M===b)M+=1,E+=_;else{for(var B=0;_>B;++B){var k=p[y+B];p[y+B]=p[E],p[E++]=k}var F=x[b];x[b]=x[M],x[M++]=F}}return M}function m(h,T,c,o,p,x,A,_){for(var y=2*h,E=y*c,M=E,s=c,S=T,b=h+T,I=c;o>I;++I,E+=y){var D=p[E+S],B=p[E+b];if(!(D>=A)&&!(_>=B))if(s===I)s+=1,M+=y;else{for(var k=0;y>k;++k){var F=p[E+k];p[E+k]=p[M],p[M++]=F}var N=x[I];x[I]=x[s],x[s++]=N}}return s}},1811:function(v){v.exports=r;var g=32;function r(T,c){c<=4*g?t(0,c-1,T):h(0,c-1,T)}function t(T,c,o){for(var p=2*(T+1),x=T+1;x<=c;++x){for(var A=o[p++],_=o[p++],y=x,E=p-2;y-- >T;){var M=o[E-2],s=o[E-1];if(M<A)break;if(M===A&&s<_)break;o[E]=M,o[E+1]=s,E-=2}o[E]=A,o[E+1]=_}}function i(T,c,o){T*=2,c*=2;var p=o[T],x=o[T+1];o[T]=o[c],o[T+1]=o[c+1],o[c]=p,o[c+1]=x}function a(T,c,o){T*=2,c*=2,o[T]=o[c],o[T+1]=o[c+1]}function u(T,c,o,p){T*=2,c*=2,o*=2;var x=p[T],A=p[T+1];p[T]=p[c],p[T+1]=p[c+1],p[c]=p[o],p[c+1]=p[o+1],p[o]=x,p[o+1]=A}function f(T,c,o,p,x){T*=2,c*=2,x[T]=x[c],x[c]=o,x[T+1]=x[c+1],x[c+1]=p}function l(T,c,o){T*=2,c*=2;var p=o[T],x=o[c];return p<x?!1:p===x?o[T+1]>o[c+1]:!0}function m(T,c,o,p){T*=2;var x=p[T];return x<c?!0:x===c?p[T+1]<o:!1}function h(T,c,o){var p=(c-T+1)/6|0,x=T+p,A=c-p,_=T+c>>1,y=_-p,E=_+p,M=x,s=y,S=_,b=E,I=A,D=T+1,B=c-1,k=0;l(M,s,o)&&(k=M,M=s,s=k),l(b,I,o)&&(k=b,b=I,I=k),l(M,S,o)&&(k=M,M=S,S=k),l(s,S,o)&&(k=s,s=S,S=k),l(M,b,o)&&(k=M,M=b,b=k),l(S,b,o)&&(k=S,S=b,b=k),l(s,I,o)&&(k=s,s=I,I=k),l(s,S,o)&&(k=s,s=S,S=k),l(b,I,o)&&(k=b,b=I,I=k);for(var F=o[2*s],N=o[2*s+1],O=o[2*b],V=o[2*b+1],X=2*M,ee=2*S,ne=2*I,q=2*x,se=2*_,J=2*A,Z=0;Z<2;++Z){var te=o[X+Z],Y=o[ee+Z],ie=o[ne+Z];o[q+Z]=te,o[se+Z]=Y,o[J+Z]=ie}a(y,T,o),a(E,c,o);for(var le=D;le<=B;++le)if(m(le,F,N,o))le!==D&&i(le,D,o),++D;else if(!m(le,O,V,o))for(;;)if(m(B,O,V,o)){m(B,F,N,o)?(u(le,D,B,o),++D,--B):(i(le,B,o),--B);break}else{if(--B<le)break;continue}f(T,D-1,F,N,o),f(c,B+1,O,V,o),D-2-T<=g?t(T,D-2,o):h(T,D-2,o),c-(B+2)<=g?t(B+2,c,o):h(B+2,c,o),B-D<=g?t(D,B,o):h(D,B,o)}},855:function(v,g,r){v.exports={init:x,sweepBipartite:y,sweepComplete:E,scanBipartite:M,scanComplete:s};var t=r(1888),i=r(8828),a=r(1811),u=1<<28,f=1024,l=t.mallocInt32(f),m=t.mallocInt32(f),h=t.mallocInt32(f),T=t.mallocInt32(f),c=t.mallocInt32(f),o=t.mallocInt32(f),p=t.mallocDouble(f*8);function x(S){var b=i.nextPow2(S);l.length<b&&(t.free(l),l=t.mallocInt32(b)),m.length<b&&(t.free(m),m=t.mallocInt32(b)),h.length<b&&(t.free(h),h=t.mallocInt32(b)),T.length<b&&(t.free(T),T=t.mallocInt32(b)),c.length<b&&(t.free(c),c=t.mallocInt32(b)),o.length<b&&(t.free(o),o=t.mallocInt32(b));var I=8*b;p.length<I&&(t.free(p),p=t.mallocDouble(I))}function A(S,b,I,D){var B=b[D],k=S[I-1];S[B]=k,b[k]=B}function _(S,b,I,D){S[I]=D,b[D]=I}function y(S,b,I,D,B,k,F,N,O,V){for(var X=0,ee=2*S,ne=S-1,q=ee-1,se=I;se<D;++se){var J=k[se],Z=ee*se;p[X++]=B[Z+ne],p[X++]=-(J+1),p[X++]=B[Z+q],p[X++]=J}for(var se=F;se<N;++se){var J=V[se]+u,te=ee*se;p[X++]=O[te+ne],p[X++]=-J,p[X++]=O[te+q],p[X++]=J}var Y=X>>>1;a(p,Y);for(var ie=0,le=0,se=0;se<Y;++se){var j=p[2*se+1]|0;if(j>=u)j=j-u|0,A(h,T,le--,j);else if(j>=0)A(l,m,ie--,j);else if(j<=-u){j=-j-u|0;for(var K=0;K<ie;++K){var ue=b(l[K],j);if(ue!==void 0)return ue}_(h,T,le++,j)}else{j=-j-1|0;for(var K=0;K<le;++K){var ue=b(j,h[K]);if(ue!==void 0)return ue}_(l,m,ie++,j)}}}function E(S,b,I,D,B,k,F,N,O,V){for(var X=0,ee=2*S,ne=S-1,q=ee-1,se=I;se<D;++se){var J=k[se]+1<<1,Z=ee*se;p[X++]=B[Z+ne],p[X++]=-J,p[X++]=B[Z+q],p[X++]=J}for(var se=F;se<N;++se){var J=V[se]+1<<1,te=ee*se;p[X++]=O[te+ne],p[X++]=-J|1,p[X++]=O[te+q],p[X++]=J|1}var Y=X>>>1;a(p,Y);for(var ie=0,le=0,j=0,se=0;se<Y;++se){var K=p[2*se+1]|0,ue=K&1;if(se<Y-1&&K>>1===p[2*se+3]>>1&&(ue=2,se+=1),K<0){for(var ae=-(K>>1)-1,he=0;he<j;++he){var xe=b(c[he],ae);if(xe!==void 0)return xe}if(ue!==0)for(var he=0;he<ie;++he){var xe=b(l[he],ae);if(xe!==void 0)return xe}if(ue!==1)for(var he=0;he<le;++he){var xe=b(h[he],ae);if(xe!==void 0)return xe}ue===0?_(l,m,ie++,ae):ue===1?_(h,T,le++,ae):ue===2&&_(c,o,j++,ae)}else{var ae=(K>>1)-1;ue===0?A(l,m,ie--,ae):ue===1?A(h,T,le--,ae):ue===2&&A(c,o,j--,ae)}}}function M(S,b,I,D,B,k,F,N,O,V,X,ee){var ne=0,q=2*S,se=b,J=b+S,Z=1,te=1;D?te=u:Z=u;for(var Y=B;Y<k;++Y){var ie=Y+Z,le=q*Y;p[ne++]=F[le+se],p[ne++]=-ie,p[ne++]=F[le+J],p[ne++]=ie}for(var Y=O;Y<V;++Y){var ie=Y+te,j=q*Y;p[ne++]=X[j+se],p[ne++]=-ie}var K=ne>>>1;a(p,K);for(var ue=0,Y=0;Y<K;++Y){var ae=p[2*Y+1]|0;if(ae<0){var ie=-ae,he=!1;if(ie>=u?(he=!D,ie-=u):(he=!!D,ie-=1),he)_(l,m,ue++,ie);else{var xe=ee[ie],Se=q*ie,Ae=X[Se+b+1],De=X[Se+b+1+S];e:for(var we=0;we<ue;++we){var Ce=l[we],be=q*Ce;if(!(De<F[be+b+1]||F[be+b+1+S]<Ae)){for(var Pe=b+2;Pe<S;++Pe)if(X[Se+Pe+S]<F[be+Pe]||F[be+Pe+S]<X[Se+Pe])continue e;var Ve=N[Ce],Ge;if(D?Ge=I(xe,Ve):Ge=I(Ve,xe),Ge!==void 0)return Ge}}}}else A(l,m,ue--,ae-Z)}}function s(S,b,I,D,B,k,F,N,O,V,X){for(var ee=0,ne=2*S,q=b,se=b+S,J=D;J<B;++J){var Z=J+u,te=ne*J;p[ee++]=k[te+q],p[ee++]=-Z,p[ee++]=k[te+se],p[ee++]=Z}for(var J=N;J<O;++J){var Z=J+1,Y=ne*J;p[ee++]=V[Y+q],p[ee++]=-Z}var ie=ee>>>1;a(p,ie);for(var le=0,J=0;J<ie;++J){var j=p[2*J+1]|0;if(j<0){var Z=-j;if(Z>=u)l[le++]=Z-u;else{Z-=1;var K=X[Z],ue=ne*Z,ae=V[ue+b+1],he=V[ue+b+1+S];e:for(var xe=0;xe<le;++xe){var Se=l[xe],Ae=F[Se];if(Ae===K)break;var De=ne*Se;if(!(he<k[De+b+1]||k[De+b+1+S]<ae)){for(var we=b+2;we<S;++we)if(V[ue+we+S]<k[De+we]||k[De+we+S]<V[ue+we])continue e;var Ce=I(Ae,K);if(Ce!==void 0)return Ce}}}}else{for(var Z=j-u,xe=le-1;xe>=0;--xe)if(l[xe]===Z){for(var we=xe+1;we<le;++we)l[we-1]=l[we];break}--le}}}},2538:function(v,g,r){var t=r(8902),i=r(5542),a=r(2272),u=r(5023);v.exports=T;function f(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,o){return c[0]-o[0]||c[1]-o[1]}function m(c){return c.map(f).sort(l)}function h(c,o,p){return o in c?c[o]:p}function T(c,o,p){Array.isArray(o)?(p=p||{},o=o||[]):(p=o||{},o=[]);var x=!!h(p,"delaunay",!0),A=!!h(p,"interior",!0),_=!!h(p,"exterior",!0),y=!!h(p,"infinity",!1);if(!A&&!_||c.length===0)return[];var E=t(c,o);if(x||A!==_||y){for(var M=i(c.length,m(o)),s=0;s<E.length;++s){var S=E[s];M.addTriangle(S[0],S[1],S[2])}return x&&a(c,M),_?A?y?u(M,0,y):M.cells():u(M,1,y):u(M,-1)}else return E}},2272:function(v,g,r){var t=r(2646)[4];r(2478),v.exports=a;function i(u,f,l,m,h,T){var c=f.opposite(m,h);if(!(c<0)){if(h<m){var o=m;m=h,h=o,o=T,T=c,c=o}f.isConstraint(m,h)||t(u[m],u[h],u[T],u[c])<0&&l.push(m,h)}}function a(u,f){for(var l=[],m=u.length,h=f.stars,T=0;T<m;++T)for(var c=h[T],o=1;o<c.length;o+=2){var p=c[o];if(!(p<T)&&!f.isConstraint(T,p)){for(var x=c[o-1],A=-1,_=1;_<c.length;_+=2)if(c[_-1]===p){A=c[_];break}A<0||t(u[T],u[p],u[x],u[A])<0&&l.push(T,p)}}for(;l.length>0;){for(var p=l.pop(),T=l.pop(),x=-1,A=-1,c=h[T],y=1;y<c.length;y+=2){var E=c[y-1],M=c[y];E===p?A=M:M===p&&(x=E)}x<0||A<0||t(u[T],u[p],u[x],u[A])>=0||(f.flip(T,p),i(u,f,l,x,T,A),i(u,f,l,T,A,x),i(u,f,l,A,p,x),i(u,f,l,p,x,A))}}},5023:function(v,g,r){var t=r(2478);v.exports=m;function i(h,T,c,o,p,x,A){this.cells=h,this.neighbor=T,this.flags=o,this.constraint=c,this.active=p,this.next=x,this.boundary=A}var a=i.prototype;function u(h,T){return h[0]-T[0]||h[1]-T[1]||h[2]-T[2]}a.locate=function(){var h=[0,0,0];return function(T,c,o){var p=T,x=c,A=o;return c<o?c<T&&(p=c,x=o,A=T):o<T&&(p=o,x=T,A=c),p<0?-1:(h[0]=p,h[1]=x,h[2]=A,t.eq(this.cells,h,u))}}();function f(h,T){for(var c=h.cells(),o=c.length,p=0;p<o;++p){var x=c[p],A=x[0],_=x[1],y=x[2];_<y?_<A&&(x[0]=_,x[1]=y,x[2]=A):y<A&&(x[0]=y,x[1]=A,x[2]=_)}c.sort(u);for(var E=new Array(o),p=0;p<E.length;++p)E[p]=0;var M=[],s=[],S=new Array(3*o),b=new Array(3*o),I=null;T&&(I=[]);for(var D=new i(c,S,b,E,M,s,I),p=0;p<o;++p)for(var x=c[p],B=0;B<3;++B){var A=x[B],_=x[(B+1)%3],k=S[3*p+B]=D.locate(_,A,h.opposite(_,A)),F=b[3*p+B]=h.isConstraint(A,_);k<0&&(F?s.push(p):(M.push(p),E[p]=1),T&&I.push([_,A,-1]))}return D}function l(h,T,c){for(var o=0,p=0;p<h.length;++p)T[p]===c&&(h[o++]=h[p]);return h.length=o,h}function m(h,T,c){var o=f(h,c);if(T===0)return c?o.cells.concat(o.boundary):o.cells;for(var p=1,x=o.active,A=o.next,_=o.flags,y=o.cells,E=o.constraint,M=o.neighbor;x.length>0||A.length>0;){for(;x.length>0;){var s=x.pop();if(_[s]!==-p){_[s]=p,y[s];for(var S=0;S<3;++S){var b=M[3*s+S];b>=0&&_[b]===0&&(E[3*s+S]?A.push(b):(x.push(b),_[b]=p))}}}var I=A;A=x,x=I,A.length=0,p=-p}var D=l(y,_,T);return c?D.concat(o.boundary):D}},8902:function(v,g,r){var t=r(2478),i=r(3250)[3],a=0,u=1,f=2;v.exports=A;function l(_,y,E,M,s){this.a=_,this.b=y,this.idx=E,this.lowerIds=M,this.upperIds=s}function m(_,y,E,M){this.a=_,this.b=y,this.type=E,this.idx=M}function h(_,y){var E=_.a[0]-y.a[0]||_.a[1]-y.a[1]||_.type-y.type;return E||_.type!==a&&(E=i(_.a,_.b,y.b),E)?E:_.idx-y.idx}function T(_,y){return i(_.a,_.b,y)}function c(_,y,E,M,s){for(var S=t.lt(y,M,T),b=t.gt(y,M,T),I=S;I<b;++I){for(var D=y[I],B=D.lowerIds,F=B.length;F>1&&i(E[B[F-2]],E[B[F-1]],M)>0;)_.push([B[F-1],B[F-2],s]),F-=1;B.length=F,B.push(s);for(var k=D.upperIds,F=k.length;F>1&&i(E[k[F-2]],E[k[F-1]],M)<0;)_.push([k[F-2],k[F-1],s]),F-=1;k.length=F,k.push(s)}}function o(_,y){var E;return _.a[0]<y.a[0]?E=i(_.a,_.b,y.a):E=i(y.b,y.a,_.a),E||(y.b[0]<_.b[0]?E=i(_.a,_.b,y.b):E=i(y.b,y.a,_.b),E||_.idx-y.idx)}function p(_,y,E){var M=t.le(_,E,o),s=_[M],S=s.upperIds,b=S[S.length-1];s.upperIds=[b],_.splice(M+1,0,new l(E.a,E.b,E.idx,[b],S))}function x(_,y,E){var M=E.a;E.a=E.b,E.b=M;var s=t.eq(_,E,o),S=_[s],b=_[s-1];b.upperIds=S.upperIds,_.splice(s,1)}function A(_,y){for(var E=_.length,M=y.length,s=[],S=0;S<E;++S)s.push(new m(_[S],null,a,S));for(var S=0;S<M;++S){var b=y[S],I=_[b[0]],D=_[b[1]];I[0]<D[0]?s.push(new m(I,D,f,S),new m(D,I,u,S)):I[0]>D[0]&&s.push(new m(D,I,f,S),new m(I,D,u,S))}s.sort(h);for(var B=s[0].a[0]-(1+Math.abs(s[0].a[0]))*Math.pow(2,-52),k=[new l([B,1],[B,0],-1,[],[])],F=[],S=0,N=s.length;S<N;++S){var O=s[S],V=O.type;V===a?c(F,k,_,O.a,O.idx):V===f?p(k,_,O):x(k,_,O)}return F}},5542:function(v,g,r){var t=r(2478);v.exports=f;function i(l,m){this.stars=l,this.edges=m}var a=i.prototype;function u(l,m,h){for(var T=1,c=l.length;T<c;T+=2)if(l[T-1]===m&&l[T]===h){l[T-1]=l[c-2],l[T]=l[c-1],l.length=c-2;return}}a.isConstraint=function(){var l=[0,0];function m(h,T){return h[0]-T[0]||h[1]-T[1]}return function(h,T){return l[0]=Math.min(h,T),l[1]=Math.max(h,T),t.eq(this.edges,l,m)>=0}}(),a.removeTriangle=function(l,m,h){var T=this.stars;u(T[l],m,h),u(T[m],h,l),u(T[h],l,m)},a.addTriangle=function(l,m,h){var T=this.stars;T[l].push(m,h),T[m].push(h,l),T[h].push(l,m)},a.opposite=function(l,m){for(var h=this.stars[m],T=1,c=h.length;T<c;T+=2)if(h[T]===l)return h[T-1];return-1},a.flip=function(l,m){var h=this.opposite(l,m),T=this.opposite(m,l);this.removeTriangle(l,m,h),this.removeTriangle(m,l,T),this.addTriangle(l,T,h),this.addTriangle(m,h,T)},a.edges=function(){for(var l=this.stars,m=[],h=0,T=l.length;h<T;++h)for(var c=l[h],o=0,p=c.length;o<p;o+=2)m.push([c[o],c[o+1]]);return m},a.cells=function(){for(var l=this.stars,m=[],h=0,T=l.length;h<T;++h)for(var c=l[h],o=0,p=c.length;o<p;o+=2){var x=c[o],A=c[o+1];h<Math.min(x,A)&&m.push([h,x,A])}return m};function f(l,m){for(var h=new Array(l),T=0;T<l;++T)h[T]=[];return new i(h,m)}},2419:function(v){v.exports=g;function g(r){for(var t=1,i=1;i<r.length;++i)for(var a=0;a<i;++a)if(r[i]<r[a])t=-t;else if(r[a]===r[i])return 0;return t}},3628:function(v,g,r){var t=r(1338),i=r(727);function a(l,m){for(var h=0,T=l.length,c=0;c<T;++c)h+=l[c]*m[c];return h}function u(l){var m=l.length;if(m===0)return[];l[0].length;var h=t([l.length+1,l.length+1],1),T=t([l.length+1],1);h[m][m]=0;for(var c=0;c<m;++c){for(var o=0;o<=c;++o)h[o][c]=h[c][o]=2*a(l[c],l[o]);T[c]=a(l[c],l[c])}for(var p=i(h,T),x=0,A=p[m+1],c=0;c<A.length;++c)x+=A[c];for(var _=new Array(m),c=0;c<m;++c){for(var A=p[c],y=0,o=0;o<A.length;++o)y+=A[o];_[c]=y/x}return _}function f(l){if(l.length===0)return[];for(var m=l[0].length,h=t([m]),T=u(l),c=0;c<l.length;++c)for(var o=0;o<m;++o)h[o]+=l[c][o]*T[c];return h}f.barycenetric=u,v.exports=f},6037:function(v,g,r){v.exports=i;var t=r(3628);function i(a){for(var u=t(a),f=0,l=0;l<a.length;++l)for(var m=a[l],h=0;h<u.length;++h)f+=Math.pow(m[h]-u[h],2);return Math.sqrt(f/a.length)}},332:function(v,g,r){v.exports=I;var t=r(1755),i=r(6867),a=r(1125),u=r(7842),f=r(1318),l=r(946),m=r(5838),h=r(1278),T=r(3637);function c(D){var B=l(D);return[h(B,-1/0),h(B,1/0)]}function o(D,B){for(var k=new Array(B.length),F=0;F<B.length;++F){var N=B[F],O=D[N[0]],V=D[N[1]];k[F]=[h(Math.min(O[0],V[0]),-1/0),h(Math.min(O[1],V[1]),-1/0),h(Math.max(O[0],V[0]),1/0),h(Math.max(O[1],V[1]),1/0)]}return k}function p(D){for(var B=new Array(D.length),k=0;k<D.length;++k){var F=D[k];B[k]=[h(F[0],-1/0),h(F[1],-1/0),h(F[0],1/0),h(F[1],1/0)]}return B}function x(D,B,k){var F=[];return i(k,function(N,O){var V=B[N],X=B[O];if(!(V[0]===X[0]||V[0]===X[1]||V[1]===X[0]||V[1]===X[1])){var ee=D[V[0]],ne=D[V[1]],q=D[X[0]],se=D[X[1]];a(ee,ne,q,se)&&F.push([N,O])}}),F}function A(D,B,k,F){var N=[];return i(k,F,function(O,V){var X=B[O];if(!(X[0]===V||X[1]===V)){var ee=D[V],ne=D[X[0]],q=D[X[1]];a(ne,q,ee,ee)&&N.push([O,V])}}),N}function _(D,B,k,F,N){var O,V,X=D.map(function(Se){return[u(Se[0]),u(Se[1])]});for(O=0;O<k.length;++O){var ee=k[O];V=ee[0];var ne=ee[1],q=B[V],se=B[ne],J=T(m(D[q[0]]),m(D[q[1]]),m(D[se[0]]),m(D[se[1]]));if(J){var Z=D.length;D.push([l(J[0]),l(J[1])]),X.push(J),F.push([V,Z],[ne,Z])}}for(F.sort(function(Se,Ae){if(Se[0]!==Ae[0])return Se[0]-Ae[0];var De=X[Se[1]],we=X[Ae[1]];return f(De[0],we[0])||f(De[1],we[1])}),O=F.length-1;O>=0;--O){var te=F[O];V=te[0];var Y=B[V],ie=Y[0],le=Y[1],j=D[ie],K=D[le];if((j[0]-K[0]||j[1]-K[1])<0){var ue=ie;ie=le,le=ue}Y[0]=ie;var ae=Y[1]=te[1],he;for(N&&(he=Y[2]);O>0&&F[O-1][0]===V;){var te=F[--O],xe=te[1];N?B.push([ae,xe,he]):B.push([ae,xe]),ae=xe}N?B.push([ae,le,he]):B.push([ae,le])}return X}function y(D,B,k){for(var F=B.length,N=new t(F),O=[],V=0;V<B.length;++V){var X=B[V],ee=c(X[0]),ne=c(X[1]);O.push([h(ee[0],-1/0),h(ne[0],-1/0),h(ee[1],1/0),h(ne[1],1/0)])}i(O,function(te,Y){N.link(te,Y)});for(var q=!0,se=new Array(F),V=0;V<F;++V){var J=N.find(V);J!==V&&(q=!1,D[J]=[Math.min(D[V][0],D[J][0]),Math.min(D[V][1],D[J][1])])}if(q)return null;for(var Z=0,V=0;V<F;++V){var J=N.find(V);J===V?(se[V]=Z,D[Z++]=D[V]):se[V]=-1}D.length=Z;for(var V=0;V<F;++V)se[V]<0&&(se[V]=se[N.find(V)]);return se}function E(D,B){return D[0]-B[0]||D[1]-B[1]}function M(D,B){var k=D[0]-B[0]||D[1]-B[1];return k||(D[2]<B[2]?-1:D[2]>B[2]?1:0)}function s(D,B,k){if(D.length!==0){if(B)for(var F=0;F<D.length;++F){var N=D[F],O=B[N[0]],V=B[N[1]];N[0]=Math.min(O,V),N[1]=Math.max(O,V)}else for(var F=0;F<D.length;++F){var N=D[F],O=N[0],V=N[1];N[0]=Math.min(O,V),N[1]=Math.max(O,V)}k?D.sort(M):D.sort(E);for(var X=1,F=1;F<D.length;++F){var ee=D[F-1],ne=D[F];ne[0]===ee[0]&&ne[1]===ee[1]&&(!k||ne[2]===ee[2])||(D[X++]=ne)}D.length=X}}function S(D,B,k){var F=y(D,[],p(D));return s(B,F,k),!!F}function b(D,B,k){var F=o(D,B),N=x(D,B,F),O=p(D),V=A(D,B,F,O),X=_(D,B,N,V,k),ee=y(D,X);return s(B,ee,k),ee?!0:N.length>0||V.length>0}function I(D,B,k){var F;if(k){F=B;for(var N=new Array(B.length),O=0;O<B.length;++O){var V=B[O];N[O]=[V[0],V[1],k[O]]}B=N}for(var X=S(D,B,!!k);b(D,B,!!k);)X=!0;if(k&&X){F.length=0,k.length=0;for(var O=0;O<B.length;++O){var V=B[O];F.push([V[0],V[1]]),k.push(V[2])}}return X}},3637:function(v,g,r){v.exports=T;var t=r(6504),i=r(8697),a=r(5572),u=r(7721),f=r(544),l=r(2653),m=r(8987);function h(c,o){return a(t(c[0],o[1]),t(c[1],o[0]))}function T(c,o,p,x){var A=f(o,c),_=f(x,p),y=h(A,_);if(u(y)===0)return null;var E=f(c,p),M=h(_,E),s=i(M,y),S=m(A,s),b=l(c,S);return b}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,g,r){var t=r(3642),i=r(395);v.exports=a;function a(m){var h,T,c,o,p,x,A,_,s,y,E;if(m||(m={}),_=(m.nshades||72)-1,A=m.format||"hex",x=m.colormap,x||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!t[x])throw Error(x+" not a supported colorscale");p=t[x]}else if(Array.isArray(x))p=x.slice();else throw Error("unsupported colormap option",x);if(p.length>_+1)throw new Error(x+" map requires nshades to be at least size "+p.length);Array.isArray(m.alpha)?m.alpha.length!==2?y=[1,1]:y=m.alpha.slice():typeof m.alpha=="number"?y=[m.alpha,m.alpha]:y=[1,1],h=p.map(function(I){return Math.round(I.index*_)}),y[0]=Math.min(Math.max(y[0],0),1),y[1]=Math.min(Math.max(y[1],0),1);var M=p.map(function(I,D){var B=p[D].index,k=p[D].rgb.slice();return k.length===4&&k[3]>=0&&k[3]<=1||(k[3]=y[0]+(y[1]-y[0])*B),k}),s=[];for(E=0;E<h.length-1;++E){o=h[E+1]-h[E],T=M[E],c=M[E+1];for(var S=0;S<o;S++){var b=S/o;s.push([Math.round(i(T[0],c[0],b)),Math.round(i(T[1],c[1],b)),Math.round(i(T[2],c[2],b)),i(T[3],c[3],b)])}}return s.push(p[p.length-1].rgb.concat(y[1])),A==="hex"?s=s.map(f):A==="rgbaString"?s=s.map(l):A==="float"&&(s=s.map(u)),s}function u(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function f(m){for(var h,T="#",c=0;c<3;++c)h=m[c],h=h.toString(16),T+=("00"+h).substr(h.length);return T}function l(m){return"rgba("+m.join(",")+")"}},3140:function(v,g,r){v.exports=m;var t=r(3250),i=r(8572),a=r(9362),u=r(5382),f=r(8210);function l(h,T,c){var o=a(h[0],-T[0]),p=a(h[1],-T[1]),x=a(c[0],-T[0]),A=a(c[1],-T[1]),_=f(u(o,x),u(p,A));return _[_.length-1]>=0}function m(h,T,c,o){var p=t(T,c,o);if(p===0){var x=i(t(h,T,c)),A=i(t(h,T,o));if(x===A){if(x===0){var _=l(h,T,c),y=l(h,T,o);return _===y?0:_?1:-1}return 0}else{if(A===0)return x>0||l(h,T,o)?-1:1;if(x===0)return A>0||l(h,T,c)?1:-1}return i(A-x)}var E=t(h,T,c);if(E>0)return p>0&&t(h,T,o)>0?1:-1;if(E<0)return p>0||t(h,T,o)>0?1:-1;var M=t(h,T,o);return M>0||l(h,T,c)?1:-1}},8572:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(v){v.exports=t;var g=Math.min;function r(i,a){return i-a}function t(i,a){var u=i.length,f=i.length-a.length;if(f)return f;switch(u){case 0:return 0;case 1:return i[0]-a[0];case 2:return i[0]+i[1]-a[0]-a[1]||g(i[0],i[1])-g(a[0],a[1]);case 3:var l=i[0]+i[1],m=a[0]+a[1];if(f=l+i[2]-(m+a[2]),f)return f;var h=g(i[0],i[1]),T=g(a[0],a[1]);return g(h,i[2])-g(T,a[2])||g(h+i[2],l)-g(T+a[2],m);case 4:var c=i[0],o=i[1],p=i[2],x=i[3],A=a[0],_=a[1],y=a[2],E=a[3];return c+o+p+x-(A+_+y+E)||g(c,o,p,x)-g(A,_,y,E,A)||g(c+o,c+p,c+x,o+p,o+x,p+x)-g(A+_,A+y,A+E,_+y,_+E,y+E)||g(c+o+p,c+o+x,c+p+x,o+p+x)-g(A+_+y,A+_+E,A+y+E,_+y+E);default:for(var M=i.slice().sort(r),s=a.slice().sort(r),S=0;S<u;++S)if(f=M[S]-s[S],f)return f;return 0}}},3788:function(v,g,r){var t=r(8507),i=r(2419);v.exports=a;function a(u,f){return t(u,f)||i(u)-i(f)}},7352:function(v,g,r){var t=r(5721),i=r(4750),a=r(2690);v.exports=u;function u(f){var l=f.length;if(l===0)return[];if(l===1)return[[0]];var m=f[0].length;return m===0?[]:m===1?t(f):m===2?i(f):a(f,m)}},5721:function(v){v.exports=g;function g(r){for(var t=0,i=0,a=1;a<r.length;++a)r[a][0]<r[t][0]&&(t=a),r[a][0]>r[i][0]&&(i=a);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},4750:function(v,g,r){v.exports=i;var t=r(3090);function i(a){var u=t(a),f=u.length;if(f<=2)return[];for(var l=new Array(f),m=u[f-1],h=0;h<f;++h){var T=u[h];l[h]=[m,T],m=T}return l}},2690:function(v,g,r){v.exports=f;var t=r(8954),i=r(3952);function a(l,m){for(var h=l.length,T=new Array(h),c=0;c<m.length;++c)T[c]=l[m[c]];for(var o=m.length,c=0;c<h;++c)m.indexOf(c)<0&&(T[o++]=l[c]);return T}function u(l,m){for(var h=l.length,T=m.length,c=0;c<h;++c)for(var o=l[c],p=0;p<o.length;++p){var x=o[p];if(x<T)o[p]=m[x];else{x=x-T;for(var A=0;A<T;++A)x>=m[A]&&(x+=1);o[p]=x}}return l}function f(l,m){try{return t(l,!0)}catch{var h=i(l);if(h.length<=m)return[];var T=a(l,h),c=t(T,!0);return u(c,h)}}},4769:function(v){function g(t,i,a,u,f,l){var m=6*f*f-6*f,h=3*f*f-4*f+1,T=-6*f*f+6*f,c=3*f*f-2*f;if(t.length){l||(l=new Array(t.length));for(var o=t.length-1;o>=0;--o)l[o]=m*t[o]+h*i[o]+T*a[o]+c*u[o];return l}return m*t+h*i+T*a[o]+c*u}function r(t,i,a,u,f,l){var m=f-1,h=f*f,T=m*m,c=(1+2*f)*T,o=f*T,p=h*(3-2*f),x=h*m;if(t.length){l||(l=new Array(t.length));for(var A=t.length-1;A>=0;--A)l[A]=c*t[A]+o*i[A]+p*a[A]+x*u[A];return l}return c*t+o*i+p*a+x*u}v.exports=r,v.exports.derivative=g},7642:function(v,g,r){var t=r(8954),i=r(1682);v.exports=l;function a(m,h){this.point=m,this.index=h}function u(m,h){for(var T=m.point,c=h.point,o=T.length,p=0;p<o;++p){var x=c[p]-T[p];if(x)return x}return 0}function f(m,h,T){if(m===1)return T?[[-1,0]]:[];var c=h.map(function(_,y){return[_[0],y]});c.sort(function(_,y){return _[0]-y[0]});for(var o=new Array(m-1),p=1;p<m;++p){var x=c[p-1],A=c[p];o[p-1]=[x[1],A[1]]}return T&&o.push([-1,o[0][1]],[o[m-1][1],-1]),o}function l(m,h){var T=m.length;if(T===0)return[];var c=m[0].length;if(c<1)return[];if(c===1)return f(T,m,h);for(var o=new Array(T),p=1,x=0;x<T;++x){for(var A=m[x],_=new Array(c+1),y=0,E=0;E<c;++E){var M=A[E];_[E]=M,y+=M*M}_[c]=y,o[x]=new a(_,x),p=Math.max(y,p)}i(o,u),T=o.length;for(var s=new Array(T+c+1),S=new Array(T+c+1),b=(c+1)*(c+1)*p,I=new Array(c+1),x=0;x<=c;++x)I[x]=0;I[c]=b,s[0]=I.slice(),S[0]=-1;for(var x=0;x<=c;++x){var _=I.slice();_[x]=1,s[x+1]=_,S[x+1]=-1}for(var x=0;x<T;++x){var D=o[x];s[x+c+1]=D.point,S[x+c+1]=D.index}var B=t(s,!1);if(h?B=B.filter(function(k){for(var F=0,N=0;N<=c;++N){var O=S[k[N]];if(O<0&&++F>=2)return!1;k[N]=O}return!0}):B=B.filter(function(k){for(var F=0;F<=c;++F){var N=S[k[F]];if(N<0)return!1;k[F]=N}return!0}),c&1)for(var x=0;x<B.length;++x){var D=B[x],_=D[0];D[0]=D[1],D[1]=_}return B}},2361:function(v){var g=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,g=!0,t[1]===1072693248){let a=function(l,m){return t[0]=l,t[1]=m,r[0]},u=function(l){return r[0]=l,t[0]},f=function(l){return r[0]=l,t[1]};v.exports=function(m){return r[0]=m,[t[0],t[1]]},v.exports.pack=a,v.exports.lo=u,v.exports.hi=f}else if(t[0]===1072693248){let a=function(l,m){return t[1]=l,t[0]=m,r[0]},u=function(l){return r[0]=l,t[1]},f=function(l){return r[0]=l,t[0]};v.exports=function(m){return r[0]=m,[t[1],t[0]]},v.exports.pack=a,v.exports.lo=u,v.exports.hi=f}else g=!1}if(!g){let a=function(l,m){return i.writeUInt32LE(l,0,!0),i.writeUInt32LE(m,4,!0),i.readDoubleLE(0,!0)},u=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(0,!0)},f=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(4,!0)};var i=new Buffer(8);v.exports=function(m){return i.writeDoubleLE(m,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},v.exports.pack=a,v.exports.lo=u,v.exports.hi=f}v.exports.sign=function(a){return v.exports.hi(a)>>>31},v.exports.exponent=function(a){var u=v.exports.hi(a);return(u<<1>>>21)-1023},v.exports.fraction=function(a){var u=v.exports.lo(a),f=v.exports.hi(a),l=f&(1<<20)-1;return f&2146435072&&(l+=1048576),[u,l]},v.exports.denormalized=function(a){var u=v.exports.hi(a);return!(u&2146435072)}},1338:function(v){function g(i,a,u){var f=i[u]|0;if(f<=0)return[];var l=new Array(f),m;if(u===i.length-1)for(m=0;m<f;++m)l[m]=a;else for(m=0;m<f;++m)l[m]=g(i,a,u+1);return l}function r(i,a){var u,f;for(u=new Array(i),f=0;f<i;++f)u[f]=a;return u}function t(i,a){switch(typeof a>"u"&&(a=0),typeof i){case"number":if(i>0)return r(i|0,a);break;case"object":if(typeof i.length=="number")return g(i,a,0);break}return[]}v.exports=t},3134:function(v,g,r){v.exports=i;var t=r(1682);function i(a,u){var f=a.length;if(typeof u!="number"){u=0;for(var l=0;l<f;++l){var m=a[l];u=Math.max(u,m[0],m[1])}u=(u|0)+1}u=u|0;for(var h=new Array(u),l=0;l<u;++l)h[l]=[];for(var l=0;l<f;++l){var m=a[l];h[m[0]].push(m[1]),h[m[1]].push(m[0])}for(var T=0;T<u;++T)t(h[T],function(c,o){return c-o});return h}},5033:function(v){v.exports=g;function g(r,t,i){var a=t||0,u=i||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[a*r[12]+r[8],a*r[13]+r[9],a*r[14]+r[10],a*r[15]+r[11]],[u*r[12]-r[8],u*r[13]-r[9],u*r[14]-r[10],u*r[15]-r[11]]]}},9215:function(v,g,r){v.exports=m;var t=r(4769),i=r(2478);function a(h,T,c){return Math.min(T,Math.max(h,c))}function u(h,T,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=h.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var f=u.prototype;f.flush=function(h){var T=i.gt(this._time,h)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},f.curve=function(h){var T=this._time,c=T.length,o=i.le(T,h),p=this._scratch[0],x=this._state,A=this._velocity,_=this.dimension,y=this.bounds;if(o<0)for(var E=_-1,M=0;M<_;++M,--E)p[M]=x[E];else if(o>=c-1)for(var E=x.length-1,s=h-T[c-1],M=0;M<_;++M,--E)p[M]=x[E]+s*A[E];else{for(var E=_*(o+1)-1,S=T[o],b=T[o+1],I=b-S||1,D=this._scratch[1],B=this._scratch[2],k=this._scratch[3],F=this._scratch[4],N=!0,M=0;M<_;++M,--E)D[M]=x[E],k[M]=A[E]*I,B[M]=x[E+_],F[M]=A[E+_]*I,N=N&&D[M]===B[M]&&k[M]===F[M]&&k[M]===0;if(N)for(var M=0;M<_;++M)p[M]=D[M];else t(D,k,B,F,(h-S)/I,p)}for(var O=y[0],V=y[1],M=0;M<_;++M)p[M]=a(O[M],V[M],p[M]);return p},f.dcurve=function(h){var T=this._time,c=T.length,o=i.le(T,h),p=this._scratch[0],x=this._state,A=this._velocity,_=this.dimension;if(o>=c-1){var y=x.length-1;h-T[c-1];for(var E=0;E<_;++E,--y)p[E]=A[y]}else{for(var y=_*(o+1)-1,M=T[o],s=T[o+1],S=s-M||1,b=this._scratch[1],I=this._scratch[2],D=this._scratch[3],B=this._scratch[4],k=!0,E=0;E<_;++E,--y)b[E]=x[y],D[E]=A[y]*S,I[E]=x[y+_],B[E]=A[y+_]*S,k=k&&b[E]===I[E]&&D[E]===B[E]&&D[E]===0;if(k)for(var E=0;E<_;++E)p[E]=0;else{t.derivative(b,D,I,B,(h-M)/S,p);for(var E=0;E<_;++E)p[E]/=S}}return p},f.lastT=function(){var h=this._time;return h[h.length-1]},f.stable=function(){for(var h=this._velocity,T=h.length,c=this.dimension-1;c>=0;--c)if(h[--T])return!1;return!0},f.jump=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var o=this._state,p=this._velocity,x=o.length-this.dimension,A=this.bounds,_=A[0],y=A[1];this._time.push(T,h);for(var E=0;E<2;++E)for(var M=0;M<c;++M)o.push(o[x++]),p.push(0);this._time.push(h);for(var M=c;M>0;--M)o.push(a(_[M-1],y[M-1],arguments[M])),p.push(0)}},f.push=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var o=this._state,p=this._velocity,x=o.length-this.dimension,A=h-T,_=this.bounds,y=_[0],E=_[1],M=A>1e-6?1/A:0;this._time.push(h);for(var s=c;s>0;--s){var S=a(y[s-1],E[s-1],arguments[s]);o.push(S),p.push((S-o[x++])*M)}}},f.set=function(h){var T=this.dimension;if(!(h<this.lastT()||arguments.length!==T+1)){var c=this._state,o=this._velocity,p=this.bounds,x=p[0],A=p[1];this._time.push(h);for(var _=T;_>0;--_)c.push(a(x[_-1],A[_-1],arguments[_])),o.push(0)}},f.move=function(h){var T=this.lastT(),c=this.dimension;if(!(h<=T||arguments.length!==c+1)){var o=this._state,p=this._velocity,x=o.length-this.dimension,A=this.bounds,_=A[0],y=A[1],E=h-T,M=E>1e-6?1/E:0;this._time.push(h);for(var s=c;s>0;--s){var S=arguments[s];o.push(a(_[s-1],y[s-1],o[x++]+S)),p.push(S*M)}}},f.idle=function(h){var T=this.lastT();if(!(h<T)){var c=this.dimension,o=this._state,p=this._velocity,x=o.length-c,A=this.bounds,_=A[0],y=A[1],E=h-T;this._time.push(h);for(var M=c-1;M>=0;--M)o.push(a(_[M],y[M],o[x]+E*p[x])),p.push(0),x+=1}};function l(h){for(var T=new Array(h),c=0;c<h;++c)T[c]=0;return T}function m(h,T,c){switch(arguments.length){case 0:return new u([0],[0],0);case 1:if(typeof h=="number"){var o=l(h);return new u(o,o,0)}else return new u(h,l(h.length),0);case 2:if(typeof T=="number"){var o=l(h.length);return new u(h,o,+T)}else c=0;case 3:if(h.length!==T.length)throw new Error("state and velocity lengths must match");return new u(h,T,c)}}},3840:function(v){v.exports=_;var g=0,r=1;function t(y,E,M,s,S,b){this._color=y,this.key=E,this.value=M,this.left=s,this.right=S,this._count=b}function i(y){return new t(y._color,y.key,y.value,y.left,y.right,y._count)}function a(y,E){return new t(y,E.key,E.value,E.left,E.right,E._count)}function u(y){y._count=1+(y.left?y.left._count:0)+(y.right?y.right._count:0)}function f(y,E){this._compare=y,this.root=E}var l=f.prototype;Object.defineProperty(l,"keys",{get:function(){var y=[];return this.forEach(function(E,M){y.push(E)}),y}}),Object.defineProperty(l,"values",{get:function(){var y=[];return this.forEach(function(E,M){y.push(M)}),y}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(y,E){for(var M=this._compare,s=this.root,S=[],b=[];s;){var I=M(y,s.key);S.push(s),b.push(I),I<=0?s=s.left:s=s.right}S.push(new t(g,y,E,null,null,1));for(var D=S.length-2;D>=0;--D){var s=S[D];b[D]<=0?S[D]=new t(s._color,s.key,s.value,S[D+1],s.right,s._count+1):S[D]=new t(s._color,s.key,s.value,s.left,S[D+1],s._count+1)}for(var D=S.length-1;D>1;--D){var B=S[D-1],s=S[D];if(B._color===r||s._color===r)break;var k=S[D-2];if(k.left===B)if(B.left===s){var F=k.right;if(F&&F._color===g)B._color=r,k.right=a(r,F),k._color=g,D-=1;else{if(k._color=g,k.left=B.right,B._color=r,B.right=k,S[D-2]=B,S[D-1]=s,u(k),u(B),D>=3){var N=S[D-3];N.left===k?N.left=B:N.right=B}break}}else{var F=k.right;if(F&&F._color===g)B._color=r,k.right=a(r,F),k._color=g,D-=1;else{if(B.right=s.left,k._color=g,k.left=s.right,s._color=r,s.left=B,s.right=k,S[D-2]=s,S[D-1]=B,u(k),u(B),u(s),D>=3){var N=S[D-3];N.left===k?N.left=s:N.right=s}break}}else if(B.right===s){var F=k.left;if(F&&F._color===g)B._color=r,k.left=a(r,F),k._color=g,D-=1;else{if(k._color=g,k.right=B.left,B._color=r,B.left=k,S[D-2]=B,S[D-1]=s,u(k),u(B),D>=3){var N=S[D-3];N.right===k?N.right=B:N.left=B}break}}else{var F=k.left;if(F&&F._color===g)B._color=r,k.left=a(r,F),k._color=g,D-=1;else{if(B.left=s.right,k._color=g,k.right=s.left,s._color=r,s.right=B,s.left=k,S[D-2]=s,S[D-1]=B,u(k),u(B),u(s),D>=3){var N=S[D-3];N.right===k?N.right=s:N.left=s}break}}}return S[0]._color=r,new f(M,S[0])};function m(y,E){if(E.left){var M=m(y,E.left);if(M)return M}var M=y(E.key,E.value);if(M)return M;if(E.right)return m(y,E.right)}function h(y,E,M,s){var S=E(y,s.key);if(S<=0){if(s.left){var b=h(y,E,M,s.left);if(b)return b}var b=M(s.key,s.value);if(b)return b}if(s.right)return h(y,E,M,s.right)}function T(y,E,M,s,S){var b=M(y,S.key),I=M(E,S.key),D;if(b<=0&&(S.left&&(D=T(y,E,M,s,S.left),D)||I>0&&(D=s(S.key,S.value),D)))return D;if(I>0&&S.right)return T(y,E,M,s,S.right)}l.forEach=function(E,M,s){if(this.root)switch(arguments.length){case 1:return m(E,this.root);case 2:return h(M,this._compare,E,this.root);case 3:return this._compare(M,s)>=0?void 0:T(M,s,this._compare,E,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var y=[],E=this.root;E;)y.push(E),E=E.left;return new c(this,y)}}),Object.defineProperty(l,"end",{get:function(){for(var y=[],E=this.root;E;)y.push(E),E=E.right;return new c(this,y)}}),l.at=function(y){if(y<0)return new c(this,[]);for(var E=this.root,M=[];;){if(M.push(E),E.left){if(y<E.left._count){E=E.left;continue}y-=E.left._count}if(!y)return new c(this,M);if(y-=1,E.right){if(y>=E.right._count)break;E=E.right}else break}return new c(this,[])},l.ge=function(y){for(var E=this._compare,M=this.root,s=[],S=0;M;){var b=E(y,M.key);s.push(M),b<=0&&(S=s.length),b<=0?M=M.left:M=M.right}return s.length=S,new c(this,s)},l.gt=function(y){for(var E=this._compare,M=this.root,s=[],S=0;M;){var b=E(y,M.key);s.push(M),b<0&&(S=s.length),b<0?M=M.left:M=M.right}return s.length=S,new c(this,s)},l.lt=function(y){for(var E=this._compare,M=this.root,s=[],S=0;M;){var b=E(y,M.key);s.push(M),b>0&&(S=s.length),b<=0?M=M.left:M=M.right}return s.length=S,new c(this,s)},l.le=function(y){for(var E=this._compare,M=this.root,s=[],S=0;M;){var b=E(y,M.key);s.push(M),b>=0&&(S=s.length),b<0?M=M.left:M=M.right}return s.length=S,new c(this,s)},l.find=function(y){for(var E=this._compare,M=this.root,s=[];M;){var S=E(y,M.key);if(s.push(M),S===0)return new c(this,s);S<=0?M=M.left:M=M.right}return new c(this,[])},l.remove=function(y){var E=this.find(y);return E?E.remove():this},l.get=function(y){for(var E=this._compare,M=this.root;M;){var s=E(y,M.key);if(s===0)return M.value;s<=0?M=M.left:M=M.right}};function c(y,E){this.tree=y,this._stack=E}var o=c.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new c(this.tree,this._stack.slice())};function p(y,E){y.key=E.key,y.value=E.value,y.left=E.left,y.right=E.right,y._color=E._color,y._count=E._count}function x(y){for(var E,M,s,S,b=y.length-1;b>=0;--b){if(E=y[b],b===0){E._color=r;return}if(M=y[b-1],M.left===E){if(s=M.right,s.right&&s.right._color===g){if(s=M.right=i(s),S=s.right=i(s.right),M.right=s.left,s.left=M,s.right=S,s._color=M._color,E._color=r,M._color=r,S._color=r,u(M),u(s),b>1){var I=y[b-2];I.left===M?I.left=s:I.right=s}y[b-1]=s;return}else if(s.left&&s.left._color===g){if(s=M.right=i(s),S=s.left=i(s.left),M.right=S.left,s.left=S.right,S.left=M,S.right=s,S._color=M._color,M._color=r,s._color=r,E._color=r,u(M),u(s),u(S),b>1){var I=y[b-2];I.left===M?I.left=S:I.right=S}y[b-1]=S;return}if(s._color===r)if(M._color===g){M._color=r,M.right=a(g,s);return}else{M.right=a(g,s);continue}else{if(s=i(s),M.right=s.left,s.left=M,s._color=M._color,M._color=g,u(M),u(s),b>1){var I=y[b-2];I.left===M?I.left=s:I.right=s}y[b-1]=s,y[b]=M,b+1<y.length?y[b+1]=E:y.push(E),b=b+2}}else{if(s=M.left,s.left&&s.left._color===g){if(s=M.left=i(s),S=s.left=i(s.left),M.left=s.right,s.right=M,s.left=S,s._color=M._color,E._color=r,M._color=r,S._color=r,u(M),u(s),b>1){var I=y[b-2];I.right===M?I.right=s:I.left=s}y[b-1]=s;return}else if(s.right&&s.right._color===g){if(s=M.left=i(s),S=s.right=i(s.right),M.left=S.right,s.right=S.left,S.right=M,S.left=s,S._color=M._color,M._color=r,s._color=r,E._color=r,u(M),u(s),u(S),b>1){var I=y[b-2];I.right===M?I.right=S:I.left=S}y[b-1]=S;return}if(s._color===r)if(M._color===g){M._color=r,M.left=a(g,s);return}else{M.left=a(g,s);continue}else{if(s=i(s),M.left=s.right,s.right=M,s._color=M._color,M._color=g,u(M),u(s),b>1){var I=y[b-2];I.right===M?I.right=s:I.left=s}y[b-1]=s,y[b]=M,b+1<y.length?y[b+1]=E:y.push(E),b=b+2}}}}o.remove=function(){var y=this._stack;if(y.length===0)return this.tree;var E=new Array(y.length),M=y[y.length-1];E[E.length-1]=new t(M._color,M.key,M.value,M.left,M.right,M._count);for(var s=y.length-2;s>=0;--s){var M=y[s];M.left===y[s+1]?E[s]=new t(M._color,M.key,M.value,E[s+1],M.right,M._count):E[s]=new t(M._color,M.key,M.value,M.left,E[s+1],M._count)}if(M=E[E.length-1],M.left&&M.right){var S=E.length;for(M=M.left;M.right;)E.push(M),M=M.right;var b=E[S-1];E.push(new t(M._color,b.key,b.value,M.left,M.right,M._count)),E[S-1].key=M.key,E[S-1].value=M.value;for(var s=E.length-2;s>=S;--s)M=E[s],E[s]=new t(M._color,M.key,M.value,M.left,E[s+1],M._count);E[S-1].left=E[S]}if(M=E[E.length-1],M._color===g){var I=E[E.length-2];I.left===M?I.left=null:I.right===M&&(I.right=null),E.pop();for(var s=0;s<E.length;++s)E[s]._count--;return new f(this.tree._compare,E[0])}else if(M.left||M.right){M.left?p(M,M.left):M.right&&p(M,M.right),M._color=r;for(var s=0;s<E.length-1;++s)E[s]._count--;return new f(this.tree._compare,E[0])}else{if(E.length===1)return new f(this.tree._compare,null);for(var s=0;s<E.length;++s)E[s]._count--;var D=E[E.length-2];x(E),D.left===M?D.left=null:D.right=null}return new f(this.tree._compare,E[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var y=0,E=this._stack;if(E.length===0){var M=this.tree.root;return M?M._count:0}else E[E.length-1].left&&(y=E[E.length-1].left._count);for(var s=E.length-2;s>=0;--s)E[s+1]===E[s].right&&(++y,E[s].left&&(y+=E[s].left._count));return y},enumerable:!0}),o.next=function(){var y=this._stack;if(y.length!==0){var E=y[y.length-1];if(E.right)for(E=E.right;E;)y.push(E),E=E.left;else for(y.pop();y.length>0&&y[y.length-1].right===E;)E=y[y.length-1],y.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].right)return!0;for(var E=y.length-1;E>0;--E)if(y[E-1].left===y[E])return!0;return!1}}),o.update=function(y){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var M=new Array(E.length),s=E[E.length-1];M[M.length-1]=new t(s._color,s.key,y,s.left,s.right,s._count);for(var S=E.length-2;S>=0;--S)s=E[S],s.left===E[S+1]?M[S]=new t(s._color,s.key,s.value,M[S+1],s.right,s._count):M[S]=new t(s._color,s.key,s.value,s.left,M[S+1],s._count);return new f(this.tree._compare,M[0])},o.prev=function(){var y=this._stack;if(y.length!==0){var E=y[y.length-1];if(E.left)for(E=E.left;E;)y.push(E),E=E.right;else for(y.pop();y.length>0&&y[y.length-1].left===E;)E=y[y.length-1],y.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].left)return!0;for(var E=y.length-1;E>0;--E)if(y[E-1].right===y[E])return!0;return!1}});function A(y,E){return y<E?-1:y>E?1:0}function _(y){return new f(y||A,null)}},3837:function(v,g,r){v.exports=s;var t=r(4935),i=r(501),a=r(5304),u=r(6429),f=r(6444),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(S,b){return S[0]=b[0],S[1]=b[1],S[2]=b[2],S}function h(S){this.gl=S,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(S)}var T=h.prototype;T.update=function(S){S=S||{};function b(J,Z,te){if(te in S){var Y=S[te],ie=this[te],le;(J?Array.isArray(Y)&&Array.isArray(Y[0]):Array.isArray(Y))?this[te]=le=[Z(Y[0]),Z(Y[1]),Z(Y[2])]:this[te]=le=[Z(Y),Z(Y),Z(Y)];for(var j=0;j<3;++j)if(le[j]!==ie[j])return!0}return!1}var I=b.bind(this,!1,Number),D=b.bind(this,!1,Boolean),B=b.bind(this,!1,String),k=b.bind(this,!0,function(J){if(Array.isArray(J)){if(J.length===3)return[+J[0],+J[1],+J[2],1];if(J.length===4)return[+J[0],+J[1],+J[2],+J[3]]}return[0,0,0,1]}),F,N=!1,O=!1;if("bounds"in S)for(var V=S.bounds,X=0;X<2;++X)for(var ee=0;ee<3;++ee)V[X][ee]!==this.bounds[X][ee]&&(O=!0),this.bounds[X][ee]=V[X][ee];if("ticks"in S){F=S.ticks,N=!0,this.autoTicks=!1;for(var X=0;X<3;++X)this.tickSpacing[X]=0}else I("tickSpacing")&&(this.autoTicks=!0,O=!0);if(this._firstInit&&("ticks"in S||"tickSpacing"in S||(this.autoTicks=!0),O=!0,N=!0,this._firstInit=!1),O&&this.autoTicks&&(F=f.create(this.bounds,this.tickSpacing),N=!0),N){for(var X=0;X<3;++X)F[X].sort(function(Z,te){return Z.x-te.x});f.equal(F,this.ticks)?N=!1:this.ticks=F}D("tickEnable"),B("tickFont")&&(N=!0),B("tickFontStyle")&&(N=!0),B("tickFontWeight")&&(N=!0),B("tickFontVariant")&&(N=!0),I("tickSize"),I("tickAngle"),I("tickPad"),k("tickColor");var ne=B("labels");B("labelFont")&&(ne=!0),B("labelFontStyle")&&(ne=!0),B("labelFontWeight")&&(ne=!0),B("labelFontVariant")&&(ne=!0),D("labelEnable"),I("labelSize"),I("labelPad"),k("labelColor"),D("lineEnable"),D("lineMirror"),I("lineWidth"),k("lineColor"),D("lineTickEnable"),D("lineTickMirror"),I("lineTickLength"),I("lineTickWidth"),k("lineTickColor"),D("gridEnable"),I("gridWidth"),k("gridColor"),D("zeroEnable"),k("zeroLineColor"),I("zeroLineWidth"),D("backgroundEnable"),k("backgroundColor");var q=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],se=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(ne||N)&&this._text.update(this.bounds,this.labels,q,this.ticks,se):this._text=t(this.gl,this.bounds,this.labels,q,this.ticks,se),this._lines&&N&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};function c(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new c,new c,new c];function p(S,b,I,D,B){for(var k=S.primalOffset,F=S.primalMinor,N=S.mirrorOffset,O=S.mirrorMinor,V=D[b],X=0;X<3;++X)if(b!==X){var ee=k,ne=N,q=F,se=O;V&1<<X&&(ee=N,ne=k,q=O,se=F),ee[X]=I[0][X],ne[X]=I[1][X],B[X]>0?(q[X]=-1,se[X]=0):(q[X]=0,se[X]=1)}}var x=[0,0,0],A={model:l,view:l,projection:l,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(S){};var _=0,y=[0,0,0],E=[0,0,0],M=[0,0,0];T.draw=function(S){S=S||A;for(var te=this.gl,b=S.model||l,I=S.view||l,D=S.projection||l,B=this.bounds,k=S._ortho||!1,F=u(b,I,D,B,k),N=F.cubeEdges,O=F.axis,V=I[12],X=I[13],ee=I[14],ne=I[15],q=k?2:1,se=q*this.pixelRatio*(D[3]*V+D[7]*X+D[11]*ee+D[15]*ne)/te.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=N[J],this.lastCubeProps.axis[J]=O[J];for(var Z=o,J=0;J<3;++J)p(o[J],J,this.bounds,N,O);for(var te=this.gl,Y=x,J=0;J<3;++J)this.backgroundEnable[J]?Y[J]=O[J]:Y[J]=0;this._background.draw(b,I,D,B,Y,this.backgroundColor),this._lines.bind(b,I,D,this);for(var J=0;J<3;++J){var ie=[0,0,0];O[J]>0?ie[J]=B[1][J]:ie[J]=B[0][J];for(var le=0;le<2;++le){var j=(J+1+le)%3,K=(J+1+(le^1))%3;this.gridEnable[j]&&this._lines.drawGrid(j,K,this.bounds,ie,this.gridColor[j],this.gridWidth[j]*this.pixelRatio)}for(var le=0;le<2;++le){var j=(J+1+le)%3,K=(J+1+(le^1))%3;this.zeroEnable[K]&&Math.min(B[0][K],B[1][K])<=0&&Math.max(B[0][K],B[1][K])>=0&&this._lines.drawZero(j,K,this.bounds,ie,this.zeroLineColor[K],this.zeroLineWidth[K]*this.pixelRatio)}}for(var J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,Z[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,Z[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);for(var ue=m(y,Z[J].primalMinor),ae=m(E,Z[J].mirrorMinor),he=this.lineTickLength,le=0;le<3;++le){var xe=se/b[5*le];ue[le]*=he[le]*xe,ae[le]*=he[le]*xe}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,Z[J].primalOffset,ue,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,Z[J].mirrorOffset,ae,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(b,I,D,this.pixelRatio);var Se,Ae=.5,De,we;function Ce(He){we=[0,0,0],we[He]=1}function be(He,ft,gt){var ct=(He+1)%3,nt=(He+2)%3,dt=ft[ct],pt=ft[nt],wt=gt[ct],Tt=gt[nt];if(dt>0&&Tt>0){Ce(ct);return}else if(dt>0&&Tt<0){Ce(ct);return}else if(dt<0&&Tt>0){Ce(ct);return}else if(dt<0&&Tt<0){Ce(ct);return}else if(pt>0&&wt>0){Ce(nt);return}else if(pt>0&&wt<0){Ce(nt);return}else if(pt<0&&wt>0){Ce(nt);return}else if(pt<0&&wt<0){Ce(nt);return}}for(var J=0;J<3;++J){for(var Pe=Z[J].primalMinor,Ve=Z[J].mirrorMinor,Ge=m(M,Z[J].primalOffset),le=0;le<3;++le)this.lineTickEnable[J]&&(Ge[le]+=se*Pe[le]*Math.max(this.lineTickLength[le],0)/b[5*le]);var Fe=[0,0,0];if(Fe[J]=1,this.tickEnable[J]){this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,De=1,Se=[this.tickAlign[J],Ae,De],Se[0]==="auto"?Se[0]=_:Se[0]=parseInt(""+Se[0]),we=[0,0,0],be(J,Pe,Ve);for(var le=0;le<3;++le)Ge[le]+=se*Pe[le]*this.tickPad[le]/b[5*le];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],Ge,this.tickColor[J],Fe,we,Se)}if(this.labelEnable[J]){De=0,we=[0,0,0],this.labels[J].length>4&&(Ce(J),De=1),Se=[this.labelAlign[J],Ae,De],Se[0]==="auto"?Se[0]=_:Se[0]=parseInt(""+Se[0]);for(var le=0;le<3;++le)Ge[le]+=se*Pe[le]*this.labelPad[le]/b[5*le];Ge[J]+=.5*(B[0][J]+B[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],Ge,this.labelColor[J],[0,0,0],we,Se)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function s(S,b){var I=new h(S);return I.update(b),I}},5304:function(v,g,r){v.exports=l;var t=r(2762),i=r(8116),a=r(1879).bg;function u(m,h,T,c){this.gl=m,this.buffer=h,this.vao=T,this.shader=c}var f=u.prototype;f.draw=function(m,h,T,c,o,p){for(var x=!1,A=0;A<3;++A)x=x||o[A];if(x){var _=this.gl;_.enable(_.POLYGON_OFFSET_FILL),_.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:h,projection:T,bounds:c,enable:o,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),_.disable(_.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(m){for(var h=[],T=[],c=0,o=0;o<3;++o)for(var p=(o+1)%3,x=(o+2)%3,A=[0,0,0],_=[0,0,0],y=-1;y<=1;y+=2){T.push(c,c+2,c+1,c+1,c+2,c+3),A[o]=y,_[o]=y;for(var E=-1;E<=1;E+=2){A[p]=E;for(var M=-1;M<=1;M+=2)A[x]=M,h.push(A[0],A[1],A[2],_[0],_[1],_[2]),c+=1}var s=p;p=x,x=s}var S=t(m,new Float32Array(h)),b=t(m,new Uint16Array(T),m.ELEMENT_ARRAY_BUFFER),I=i(m,[{buffer:S,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:S,type:m.FLOAT,size:3,offset:12,stride:24}],b),D=a(m);return D.attributes.position.location=0,D.attributes.normal.location=1,new u(m,S,I,D)}},6429:function(v,g,r){v.exports=y;var t=r(8828),i=r(6760),a=r(5202),u=r(3250),f=new Array(16),l=new Array(8),m=new Array(8),h=new Array(3),T=[0,0,0];(function(){for(var E=0;E<8;++E)l[E]=[1,1,1,1],m[E]=[1,1,1]})();function c(E,M,s){for(var S=0;S<4;++S){E[S]=s[12+S];for(var b=0;b<3;++b)E[S]+=M[b]*s[4*b+S]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(E){for(var M=0;M<o.length;++M)if(E=a.positive(E,o[M]),E.length<3)return 0;for(var s=E[0],S=s[0]/s[3],b=s[1]/s[3],I=0,M=1;M+1<E.length;++M){var D=E[M],B=E[M+1],k=D[0]/D[3],F=D[1]/D[3],N=B[0]/B[3],O=B[1]/B[3],V=k-S,X=F-b,ee=N-S,ne=O-b;I+=Math.abs(V*ne-X*ee)}return I}var x=[1,1,1],A=[0,0,0],_={cubeEdges:x,axis:A};function y(E,M,s,S,b){i(f,M,E),i(f,s,f);for(var I=0,D=0;D<2;++D){h[2]=S[D][2];for(var B=0;B<2;++B){h[1]=S[B][1];for(var k=0;k<2;++k)h[0]=S[k][0],c(l[I],h,f),I+=1}}for(var F=-1,D=0;D<8;++D){for(var N=l[D][3],O=0;O<3;++O)m[D][O]=l[D][O]/N;b&&(m[D][2]*=-1),N<0&&(F<0||m[D][2]<m[F][2])&&(F=D)}if(F<0){F=0;for(var V=0;V<3;++V){for(var X=(V+2)%3,ee=(V+1)%3,ne=-1,q=-1,se=0;se<2;++se){var J=se<<V,Z=J+(se<<X)+(1-se<<ee),te=J+(1-se<<X)+(se<<ee);u(m[J],m[Z],m[te],T)<0||(se?ne=1:q=1)}if(ne<0||q<0){q>ne&&(F|=1<<V);continue}for(var se=0;se<2;++se){var J=se<<V,Z=J+(se<<X)+(1-se<<ee),te=J+(1-se<<X)+(se<<ee),Y=p([l[J],l[Z],l[te],l[J+(1<<X)+(1<<ee)]]);se?ne=Y:q=Y}if(q>ne){F|=1<<V;continue}}}for(var ie=7^F,le=-1,D=0;D<8;++D)D===F||D===ie||(le<0||m[le][1]>m[D][1])&&(le=D);for(var j=-1,D=0;D<3;++D){var K=le^1<<D;if(!(K===F||K===ie)){j<0&&(j=K);var ee=m[K];ee[0]<m[j][0]&&(j=K)}}for(var ue=-1,D=0;D<3;++D){var K=le^1<<D;if(!(K===F||K===ie||K===j)){ue<0&&(ue=K);var ee=m[K];ee[0]>m[ue][0]&&(ue=K)}}var ae=x;ae[0]=ae[1]=ae[2]=0,ae[t.log2(j^le)]=le&j,ae[t.log2(le^ue)]=le&ue;var he=ue^7;he===F||he===ie?(he=j^7,ae[t.log2(ue^he)]=he&ue):ae[t.log2(j^he)]=he&j;for(var xe=A,Se=F,V=0;V<3;++V)Se&1<<V?xe[V]=-1:xe[V]=1;return _}},501:function(v,g,r){v.exports=x;var t=r(2762),i=r(8116),a=r(1879).n,u=[0,0,0],f=[0,0,0],l=[0,0,0],m=[0,0,0],h=[1,1];function T(A){return A[0]=A[1]=A[2]=0,A}function c(A,_){return A[0]=_[0],A[1]=_[1],A[2]=_[2],A}function o(A,_,y,E,M,s,S,b){this.gl=A,this.vertBuffer=_,this.vao=y,this.shader=E,this.tickCount=M,this.tickOffset=s,this.gridCount=S,this.gridOffset=b}var p=o.prototype;p.bind=function(A,_,y){this.shader.bind(),this.shader.uniforms.model=A,this.shader.uniforms.view=_,this.shader.uniforms.projection=y,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(A,_,y,E,M){var s=T(f);this.shader.uniforms.majorAxis=f,s[A]=_[1][A]-_[0][A],this.shader.uniforms.minorAxis=s;var S=c(m,y);S[A]+=_[0][A],this.shader.uniforms.offset=S,this.shader.uniforms.lineWidth=M,this.shader.uniforms.color=E;var b=T(l);b[(A+2)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6);var b=T(l);b[(A+1)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(A,_,y,E,M){if(this.tickCount[A]){var s=T(u);s[A]=1,this.shader.uniforms.majorAxis=s,this.shader.uniforms.offset=_,this.shader.uniforms.minorAxis=y,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=M;var S=T(l);S[A]=1,this.shader.uniforms.screenAxis=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A])}},p.drawGrid=function(A,_,y,E,M,s){if(this.gridCount[A]){var S=T(f);S[_]=y[1][_]-y[0][_],this.shader.uniforms.minorAxis=S;var b=c(m,E);b[_]+=y[0][_],this.shader.uniforms.offset=b;var I=T(u);I[A]=1,this.shader.uniforms.majorAxis=I;var D=T(l);D[A]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,this.gridCount[A],this.gridOffset[A])}},p.drawZero=function(A,_,y,E,M,s){var S=T(f);this.shader.uniforms.majorAxis=S,S[A]=y[1][A]-y[0][A],this.shader.uniforms.minorAxis=S;var b=c(m,E);b[A]+=y[0][A],this.shader.uniforms.offset=b;var I=T(l);I[_]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function x(A,_,y){var E=[],M=[0,0,0],s=[0,0,0],S=[0,0,0],b=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var I=0;I<3;++I){for(var k=E.length/3|0,D=0;D<y[I].length;++D){var B=+y[I][D].x;E.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var N=E.length/3|0;M[I]=k,s[I]=N-k;for(var k=E.length/3|0,F=0;F<y[I].length;++F){var B=+y[I][F].x;E.push(B,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}var N=E.length/3|0;S[I]=k,b[I]=N-k}var O=t(A,new Float32Array(E)),V=i(A,[{buffer:O,type:A.FLOAT,size:3,stride:0,offset:0}]),X=a(A);return X.attributes.position.location=0,new o(A,O,V,X,s,M,b,S)}},1879:function(v,g,r){var t=r(3236),i=r(9405),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.n=function(T){return i(T,a,u,null,[{name:"position",type:"vec3"}])};var f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.Q=function(T){return i(T,f,l,null,[{name:"position",type:"vec3"}])};var m=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);g.bg=function(T){return i(T,m,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,g,r){v.exports=p;var t=r(2762),i=r(8116),a=r(4359),u=r(1879).Q,f=window||d.global||{},l=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};var m=3;function h(x,A,_,y){this.gl=x,this.shader=A,this.buffer=_,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=h.prototype,c=[0,0];T.bind=function(x,A,_,y){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=x,E.view=A,E.projection=_,E.pixelScale=y,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},T.unbind=function(){this.vao.unbind()},T.update=function(x,A,_,y,E){var M=[];function s(V,X,ee,ne,q,se){var J=[ee.style,ee.weight,ee.variant,ee.family].join("_"),Z=l[J];Z||(Z=l[J]={});var te=Z[X];te||(te=Z[X]=o(X,{triangles:!0,font:ee.family,fontStyle:ee.style,fontWeight:ee.weight,fontVariant:ee.variant,textAlign:"center",textBaseline:"middle",lineSpacing:q,styletags:se}));for(var Y=(ne||12)/12,ie=te.positions,le=te.cells,j=0,K=le.length;j<K;++j)for(var ue=le[j],ae=2;ae>=0;--ae){var he=ie[ue[ae]];M.push(Y*he[0],-Y*he[1],V)}}for(var S=[0,0,0],b=[0,0,0],I=[0,0,0],D=[0,0,0],B=1.25,k={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){I[F]=M.length/m|0,s(.5*(x[0][F]+x[1][F]),A[F],_[F],12,B,k),D[F]=(M.length/m|0)-I[F],S[F]=M.length/m|0;for(var N=0;N<y[F].length;++N)if(y[F][N].text){var O={family:y[F][N].font||E[F].family,style:E[F].fontStyle||E[F].style,weight:E[F].fontWeight||E[F].weight,variant:E[F].fontVariant||E[F].variant};s(y[F][N].x,y[F][N].text,O,y[F][N].fontSize||12,B,k)}b[F]=(M.length/m|0)-S[F]}this.buffer.update(M),this.tickOffset=S,this.tickCount=b,this.labelOffset=I,this.labelCount=D},T.drawTicks=function(x,A,_,y,E,M,s,S){this.tickCount[x]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=E,this.shader.uniforms.angle=_,this.shader.uniforms.scale=A,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x]))},T.drawLabel=function(x,A,_,y,E,M,s,S){this.labelCount[x]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=E,this.shader.uniforms.angle=_,this.shader.uniforms.scale=A,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[x],this.labelOffset[x]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(x,A){try{return a(x,A)}catch(_){return console.warn('error vectorizing text:"'+x+'" error:',_),{cells:[],positions:[]}}}function p(x,A,_,y,E,M){var s=t(x),S=i(x,[{buffer:s,size:3}]),b=u(x);b.attributes.position.location=0;var I=new h(x,b,s,S);return I.update(A,_,y,E,M),I}},6444:function(v,g){g.create=t,g.equal=i;function r(a,u){var f=a+"",l=f.indexOf("."),m=0;l>=0&&(m=f.length-l-1);var h=Math.pow(10,m),T=Math.round(a*u*h),c=T+"";if(c.indexOf("e")>=0)return c;var o=T/h,p=T%h;T<0?(o=-Math.ceil(o)|0,p=-p|0):(o=Math.floor(o)|0,p=p|0);var x=""+o;if(T<0&&(x="-"+x),m){for(var A=""+p;A.length<m;)A="0"+A;return x+"."+A}else return x}function t(a,u){for(var f=[],l=0;l<3;++l){var m=[];.5*(a[0][l]+a[1][l]);for(var h=0;h*u[l]<=a[1][l];++h)m.push({x:h*u[l],text:r(u[l],h)});for(var h=-1;h*u[l]>=a[0][l];--h)m.push({x:h*u[l],text:r(u[l],h)});f.push(m)}return f}function i(a,u){for(var f=0;f<3;++f){if(a[f].length!==u[f].length)return!1;for(var l=0;l<a[f].length;++l){var m=a[f][l],h=u[f][l];if(m.x!==h.x||m.text!==h.text||m.font!==h.font||m.fontColor!==h.fontColor||m.fontSize!==h.fontSize||m.dx!==h.dx||m.dy!==h.dy)return!1}}return!0}},5445:function(v,g,r){v.exports=_;var t=r(5033),i=r(5202),a=r(6429),u=r(6760),f=r(5665),l=r(5352),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function T(y,E,M){this.lo=y,this.hi=E,this.pixelsPerDataUnit=M}var c=[0,0,0,1],o=[0,0,0,1];function p(y,E,M,s,S){for(var b=0;b<3;++b){for(var I=c,D=o,B=0;B<3;++B)D[B]=I[B]=M[B];D[3]=I[3]=1,D[b]+=1,l(D,D,E),D[3]<0&&(y[b]=1/0),I[b]-=1,l(I,I,E),I[3]<0&&(y[b]=1/0);var k=(I[0]/I[3]-D[0]/D[3])*s,F=(I[1]/I[3]-D[1]/D[3])*S;y[b]=.25*Math.sqrt(k*k+F*F)}return y}var x=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],A=[0,0,0];function _(y,E,M,s,F){var b=E.model||m,I=E.view||m,D=E.projection||m,B=E._ortho||!1,k=y.bounds,F=F||a(b,I,D,k,B),N=F.axis;u(h,I,b),u(h,D,h);for(var O=x,V=0;V<3;++V)O[V].lo=1/0,O[V].hi=-1/0,O[V].pixelsPerDataUnit=1/0;var X=t(f(h,h));f(h,h);for(var ee=0;ee<3;++ee){var ne=(ee+1)%3,q=(ee+2)%3,se=A;e:for(var V=0;V<2;++V){var J=[];if(N[ee]<0!=!!V){se[ee]=k[V][ee];for(var Z=0;Z<2;++Z){se[ne]=k[Z^V][ne];for(var te=0;te<2;++te)se[q]=k[te^Z^V][q],J.push(se.slice())}for(var Y=B?5:4,Z=Y;Z===Y;++Z){if(J.length===0)continue e;J=i.positive(J,X[Z])}for(var Z=0;Z<J.length;++Z)for(var q=J[Z],ie=p(A,h,q,M,s),te=0;te<3;++te)O[te].lo=Math.min(O[te].lo,q[te]),O[te].hi=Math.max(O[te].hi,q[te]),te!==ee&&(O[te].pixelsPerDataUnit=Math.min(O[te].pixelsPerDataUnit,Math.abs(ie[te])))}}}return O}},2762:function(v,g,r){var t=r(1888),i=r(5298),a=r(9618),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(o,p,x,A,_){this.gl=o,this.type=p,this.handle=x,this.length=A,this.usage=_}var l=f.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(o,p,x,A,_,y){var E=_.length*_.BYTES_PER_ELEMENT;if(y<0)return o.bufferData(p,_,A),E;if(E+y>x)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(p,y,_),x}function h(o,p){for(var x=t.malloc(o.length,p),A=o.length,_=0;_<A;++_)x[_]=o[_];return x}function T(o,p){for(var x=1,A=p.length-1;A>=0;--A){if(p[A]!==x)return!1;x*=o[A]}return!0}l.update=function(o,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var x=o.dtype;if(u.indexOf(x)<0&&(x="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var A=gl.getExtension("OES_element_index_uint");A&&x!=="uint16"?x="uint32":x="uint16"}if(x===o.dtype&&T(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,o.data,p):this.length=m(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),p);else{var _=t.malloc(o.size,x),y=a(_,o.shape);i.assign(y,o),p<0?this.length=m(this.gl,this.type,this.length,this.usage,_,p):this.length=m(this.gl,this.type,this.length,this.usage,_.subarray(0,o.size),p),t.free(_)}}else if(Array.isArray(o)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=h(o,"uint16"):E=h(o,"float32"),p<0?this.length=m(this.gl,this.type,this.length,this.usage,E,p):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,o.length),p),t.free(E)}else if(typeof o=="object"&&typeof o.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,o,p);else if(typeof o=="number"||o===void 0){if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function c(o,p,x,A){if(x=x||o.ARRAY_BUFFER,A=A||o.DYNAMIC_DRAW,x!==o.ARRAY_BUFFER&&x!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(A!==o.DYNAMIC_DRAW&&A!==o.STATIC_DRAW&&A!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var _=o.createBuffer(),y=new f(o,x,_,0,A);return y.update(p),y}v.exports=c},6405:function(v,g,r){var t=r(2931);v.exports=function(a,u){var f=a.positions,l=a.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:a.vertexIntensityBounds,vectors:[],cells:[],coneOffset:a.coneOffset,colormap:a.colormap};if(a.positions.length===0)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),m;for(var h=0,T=1/0,c=-1/0,o=1/0,p=-1/0,x=1/0,A=-1/0,_=null,y=null,E=[],M=1/0,s=!1,S=a.coneSizemode==="raw",b=0;b<f.length;b++){var I=f[b];T=Math.min(I[0],T),c=Math.max(I[0],c),o=Math.min(I[1],o),p=Math.max(I[1],p),x=Math.min(I[2],x),A=Math.max(I[2],A);var D=l[b];if(t.length(D)>h&&(h=t.length(D)),b&&!S){var B=2*t.distance(_,I)/(t.length(y)+t.length(D));B?(M=Math.min(M,B),s=!1):s=!0}s||(_=I,y=D),E.push(D)}var k=[T,o,x],F=[c,p,A];u&&(u[0]=k,u[1]=F),h===0&&(h=1);var N=1/h;isFinite(M)||(M=1),m.vectorScale=M;var O=a.coneSize||(S?1:.5);a.absoluteConeSize&&(O=a.absoluteConeSize*N),m.coneScale=O;for(var b=0,V=0;b<f.length;b++)for(var I=f[b],X=I[0],ee=I[1],ne=I[2],q=E[b],se=t.length(q)*N,J=0,Z=8;J<Z;J++){m.positions.push([X,ee,ne,V++]),m.positions.push([X,ee,ne,V++]),m.positions.push([X,ee,ne,V++]),m.positions.push([X,ee,ne,V++]),m.positions.push([X,ee,ne,V++]),m.positions.push([X,ee,ne,V++]),m.vectors.push(q),m.vectors.push(q),m.vectors.push(q),m.vectors.push(q),m.vectors.push(q),m.vectors.push(q),m.vertexIntensity.push(se,se,se),m.vertexIntensity.push(se,se,se);var te=m.positions.length;m.cells.push([te-6,te-5,te-4],[te-3,te-2,te-1])}return m};var i=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(a,u){return v.exports.createMesh(a,u,{shaders:i,traceType:"cone"})}},9060:function(v,g,r){var t=r(9405),i=r(2762),a=r(8116),u=r(7766),f=r(6760),l=r(7608),m=r(9618),h=r(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(E,M,s,S,b,I,D,B,k,F,N){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=M,this.dirty=!0,this.triShader=s,this.pickShader=S,this.trianglePositions=b,this.triangleVectors=I,this.triangleColors=B,this.triangleUVs=k,this.triangleIds=D,this.triangleVAO=F,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=N,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var o=c.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(E){this.pickId=E};function p(E){for(var M=h({colormap:E,nshades:256,format:"rgba"}),s=new Uint8Array(256*4),S=0;S<256;++S){for(var b=M[S],I=0;I<3;++I)s[4*S+I]=b[I];s[4*S+3]=b[3]*255}return m(s,[256,256,4],[4,0,1])}function x(E){for(var M=E.length,s=new Array(M),S=0;S<M;++S)s[S]=E[S][2];return s}o.update=function(E){E=E||{};var M=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=M.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=M.LINEAR,this.texture.setPixels(p(E.colormap)),this.texture.generateMipmap());var s=E.cells,S=E.positions,b=E.vectors;if(!(!S||!s||!b)){var I=[],D=[],B=[],k=[],F=[];this.cells=s,this.positions=S,this.vectors=b;var N=E.meshColor||[1,1,1,1],O=E.vertexIntensity,V=1/0,X=-1/0;if(O)if(E.vertexIntensityBounds)V=+E.vertexIntensityBounds[0],X=+E.vertexIntensityBounds[1];else for(var ee=0;ee<O.length;++ee){var ne=O[ee];V=Math.min(V,ne),X=Math.max(X,ne)}else for(var ee=0;ee<S.length;++ee){var ne=S[ee][2];V=Math.min(V,ne),X=Math.max(X,ne)}O?this.intensity=O:this.intensity=x(S),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var ee=0;ee<S.length;++ee)for(var q=S[ee],se=0;se<3;++se)isNaN(q[se])||!isFinite(q[se])||(this.bounds[0][se]=Math.min(this.bounds[0][se],q[se]),this.bounds[1][se]=Math.max(this.bounds[1][se],q[se]));var J=0;e:for(var ee=0;ee<s.length;++ee){var Z=s[ee];switch(Z.length){case 3:for(var se=0;se<3;++se)for(var te=Z[se],q=S[te],Y=0;Y<3;++Y)if(isNaN(q[Y])||!isFinite(q[Y]))continue e;for(var se=0;se<3;++se){var te=Z[2-se],q=S[te];I.push(q[0],q[1],q[2],q[3]);var ie=b[te];D.push(ie[0],ie[1],ie[2],ie[3]||0);var le=N;le.length===3?B.push(le[0],le[1],le[2],1):B.push(le[0],le[1],le[2],le[3]);var j;O?j=[(O[te]-V)/(X-V),0]:j=[(q[2]-V)/(X-V),0],k.push(j[0],j[1]),F.push(ee)}J+=1;break}}this.triangleCount=J,this.trianglePositions.update(I),this.triangleVectors.update(D),this.triangleColors.update(B),this.triangleUVs.update(k),this.triangleIds.update(new Uint32Array(F))}},o.drawTransparent=o.draw=function(E){E=E||{};for(var M=this.gl,s=E.model||T,S=E.view||T,b=E.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)I[0][D]=Math.max(I[0][D],this.clipBounds[0][D]),I[1][D]=Math.min(I[1][D],this.clipBounds[1][D]);var B={model:s,view:S,projection:b,inverseModel:T.slice(),clipBounds:I,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};B.inverseModel=l(B.inverseModel,B.model),M.disable(M.CULL_FACE),this.texture.bind(0);var k=new Array(16);f(k,B.view,B.model),f(k,B.projection,k),l(k,k);for(var D=0;D<3;++D)B.eyePosition[D]=k[12+D]/k[15];for(var F=k[15],D=0;D<3;++D)F+=this.lightPosition[D]*k[4*D+3];for(var D=0;D<3;++D){for(var N=k[12+D],O=0;O<3;++O)N+=k[4*O+D]*this.lightPosition[O];B.lightPosition[D]=N/F}if(this.triangleCount>0){var V=this.triShader;V.bind(),V.uniforms=B,this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(E){E=E||{};for(var M=this.gl,s=E.model||T,S=E.view||T,b=E.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)I[0][D]=Math.max(I[0][D],this.clipBounds[0][D]),I[1][D]=Math.min(I[1][D],this.clipBounds[1][D]);this._model=[].slice.call(s),this._view=[].slice.call(S),this._projection=[].slice.call(b),this._resolution=[M.drawingBufferWidth,M.drawingBufferHeight];var B={model:s,view:S,projection:b,clipBounds:I,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},k=this.pickShader;k.bind(),k.uniforms=B,this.triangleCount>0&&(this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(E){if(!E||E.id!==this.pickId)return null;var M=E.value[0]+256*E.value[1]+65536*E.value[2],s=this.cells[M],S=this.positions[s[1]].slice(0,3),b={position:S,dataCoordinate:S,index:Math.floor(s[1]/48)};return this.traceType==="cone"?b.index=Math.floor(s[1]/48):this.traceType==="streamtube"&&(b.intensity=this.intensity[s[1]],b.velocity=this.vectors[s[1]].slice(0,3),b.divergence=this.vectors[s[1]][3],b.index=M),b},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function A(E,M){var s=t(E,M.meshShader.vertex,M.meshShader.fragment,null,M.meshShader.attributes);return s.attributes.position.location=0,s.attributes.color.location=2,s.attributes.uv.location=3,s.attributes.vector.location=4,s}function _(E,M){var s=t(E,M.pickShader.vertex,M.pickShader.fragment,null,M.pickShader.attributes);return s.attributes.position.location=0,s.attributes.id.location=1,s.attributes.vector.location=4,s}function y(E,M,s){var S=s.shaders;arguments.length===1&&(M=E,E=M.gl);var b=A(E,S),I=_(E,S),D=u(E,m(new Uint8Array([255,255,255,255]),[1,1,4]));D.generateMipmap(),D.minFilter=E.LINEAR_MIPMAP_LINEAR,D.magFilter=E.LINEAR;var B=i(E),k=i(E),F=i(E),N=i(E),O=i(E),V=a(E,[{buffer:B,type:E.FLOAT,size:4},{buffer:O,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:F,type:E.FLOAT,size:4},{buffer:N,type:E.FLOAT,size:2},{buffer:k,type:E.FLOAT,size:4}]),X=new c(E,D,b,I,B,k,O,F,N,V,s.traceType||"cone");return X.update(M),X}v.exports=y},614:function(v,g,r){var t=r(3236),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},g.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,g,r){var t=r(737);v.exports=function(a){return t[a]}},9165:function(v,g,r){v.exports=c;var t=r(2762),i=r(8116),a=r(3436),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,p,x,A){this.gl=o,this.shader=A,this.buffer=p,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=f.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(o){var p=this.gl,x=this.shader.uniforms;this.shader.bind();var A=x.view=o.view||u,_=x.projection=o.projection||u;x.model=o.model||u,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var y=A[12],E=A[13],M=A[14],s=A[15],S=o._ortho||!1,b=S?2:1,I=b*this.pixelRatio*(_[3]*y+_[7]*E+_[11]*M+_[15]*s)/p.drawingBufferHeight;this.vao.bind();for(var D=0;D<3;++D)p.lineWidth(this.lineWidth[D]*this.pixelRatio),x.capSize=this.capSize[D]*I,this.lineCount[D]&&p.drawArrays(p.LINES,this.lineOffset[D],this.lineCount[D]);this.vao.unbind()};function m(o,p){for(var x=0;x<3;++x)o[0][x]=Math.min(o[0][x],p[x]),o[1][x]=Math.max(o[1][x],p[x])}var h=function(){for(var o=new Array(3),p=0;p<3;++p){for(var x=[],A=1;A<=2;++A)for(var _=-1;_<=1;_+=2){var y=(A+p)%3,E=[0,0,0];E[y]=_,x.push(E)}o[p]=x}return o}();function T(o,p,x,A){for(var _=h[A],y=0;y<_.length;++y){var E=_[y];o.push(p[0],p[1],p[2],x[0],x[1],x[2],x[3],E[0],E[1],E[2])}return _.length}l.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=o.color||[[0,0,0],[0,0,0],[0,0,0]],x=o.position,A=o.error;if(Array.isArray(p[0])||(p=[p,p,p]),x&&A){var _=[],y=x.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var M=0;M<3;++M){this.lineOffset[M]=E;e:for(var s=0;s<y;++s){for(var S=x[s],b=0;b<3;++b)if(isNaN(S[b])||!isFinite(S[b]))continue e;var I=A[s],D=p[M];if(Array.isArray(D[0])&&(D=p[s]),D.length===3?D=[D[0],D[1],D[2],1]:D.length===4&&(D=[D[0],D[1],D[2],D[3]],!this.hasAlpha&&D[3]<1&&(this.hasAlpha=!0)),!(isNaN(I[0][M])||isNaN(I[1][M]))){if(I[0][M]<0){var B=S.slice();B[M]+=I[0][M],_.push(S[0],S[1],S[2],D[0],D[1],D[2],D[3],0,0,0,B[0],B[1],B[2],D[0],D[1],D[2],D[3],0,0,0),m(this.bounds,B),E+=2+T(_,B,D,M)}if(I[1][M]>0){var B=S.slice();B[M]+=I[1][M],_.push(S[0],S[1],S[2],D[0],D[1],D[2],D[3],0,0,0,B[0],B[1],B[2],D[0],D[1],D[2],D[3],0,0,0),m(this.bounds,B),E+=2+T(_,B,D,M)}}}this.lineCount[M]=E-this.lineOffset[M]}this.buffer.update(_)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(o){var p=o.gl,x=t(p),A=i(p,[{buffer:x,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:p.FLOAT,size:3,offset:28,stride:40}]),_=a(p);_.attributes.position.location=0,_.attributes.color.location=1,_.attributes.offset.location=2;var y=new f(p,x,A,_);return y.update(o),y}},3436:function(v,g,r){var t=r(3236),i=r(9405),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(f){return i(f,a,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,g,r){var t=r(7766);v.exports=E;var i=null,a,u,f,l;function m(M){var s=M.getParameter(M.FRAMEBUFFER_BINDING),S=M.getParameter(M.RENDERBUFFER_BINDING),b=M.getParameter(M.TEXTURE_BINDING_2D);return[s,S,b]}function h(M,s){M.bindFramebuffer(M.FRAMEBUFFER,s[0]),M.bindRenderbuffer(M.RENDERBUFFER,s[1]),M.bindTexture(M.TEXTURE_2D,s[2])}function T(M,s){var S=M.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL);i=new Array(S+1);for(var b=0;b<=S;++b){for(var I=new Array(S),D=0;D<b;++D)I[D]=M.COLOR_ATTACHMENT0+D;for(var D=b;D<S;++D)I[D]=M.NONE;i[b]=I}}function c(M){switch(M){case a:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(M,s,S,b,I,D){if(!b)return null;var B=t(M,s,S,I,b);return B.magFilter=M.NEAREST,B.minFilter=M.NEAREST,B.mipSamples=1,B.bind(),M.framebufferTexture2D(M.FRAMEBUFFER,D,M.TEXTURE_2D,B.handle,0),B}function p(M,s,S,b,I){var D=M.createRenderbuffer();return M.bindRenderbuffer(M.RENDERBUFFER,D),M.renderbufferStorage(M.RENDERBUFFER,b,s,S),M.framebufferRenderbuffer(M.FRAMEBUFFER,I,M.RENDERBUFFER,D),D}function x(M){var s=m(M.gl),S=M.gl,b=M.handle=S.createFramebuffer(),I=M._shape[0],D=M._shape[1],B=M.color.length,k=M._ext,F=M._useStencil,N=M._useDepth,O=M._colorType;S.bindFramebuffer(S.FRAMEBUFFER,b);for(var V=0;V<B;++V)M.color[V]=o(S,I,D,O,S.RGBA,S.COLOR_ATTACHMENT0+V);B===0?(M._color_rb=p(S,I,D,S.RGBA4,S.COLOR_ATTACHMENT0),k&&k.drawBuffersWEBGL(i[0])):B>1&&k.drawBuffersWEBGL(i[B]);var X=S.getExtension("WEBGL_depth_texture");X?F?M.depth=o(S,I,D,X.UNSIGNED_INT_24_8_WEBGL,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):N&&(M.depth=o(S,I,D,S.UNSIGNED_SHORT,S.DEPTH_COMPONENT,S.DEPTH_ATTACHMENT)):N&&F?M._depth_rb=p(S,I,D,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):N?M._depth_rb=p(S,I,D,S.DEPTH_COMPONENT16,S.DEPTH_ATTACHMENT):F&&(M._depth_rb=p(S,I,D,S.STENCIL_INDEX,S.STENCIL_ATTACHMENT));var ee=S.checkFramebufferStatus(S.FRAMEBUFFER);if(ee!==S.FRAMEBUFFER_COMPLETE){M._destroyed=!0,S.bindFramebuffer(S.FRAMEBUFFER,null),S.deleteFramebuffer(M.handle),M.handle=null,M.depth&&(M.depth.dispose(),M.depth=null),M._depth_rb&&(S.deleteRenderbuffer(M._depth_rb),M._depth_rb=null);for(var V=0;V<M.color.length;++V)M.color[V].dispose(),M.color[V]=null;M._color_rb&&(S.deleteRenderbuffer(M._color_rb),M._color_rb=null),h(S,s),c(ee)}h(S,s)}function A(M,s,S,b,I,D,B,k){this.gl=M,this._shape=[s|0,S|0],this._destroyed=!1,this._ext=k,this.color=new Array(I);for(var F=0;F<I;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=b,this._useDepth=D,this._useStencil=B;var N=this,O=[s|0,S|0];Object.defineProperties(O,{0:{get:function(){return N._shape[0]},set:function(V){return N.width=V}},1:{get:function(){return N._shape[1]},set:function(V){return N.height=V}}}),this._shapeVector=O,x(this)}var _=A.prototype;function y(M,s,S){if(M._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(M._shape[0]===s&&M._shape[1]===S)){var b=M.gl,I=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(s<0||s>I||S<0||S>I)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");M._shape[0]=s,M._shape[1]=S;for(var D=m(b),B=0;B<M.color.length;++B)M.color[B].shape=M._shape;M._color_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,M._color_rb),b.renderbufferStorage(b.RENDERBUFFER,b.RGBA4,M._shape[0],M._shape[1])),M.depth&&(M.depth.shape=M._shape),M._depth_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,M._depth_rb),M._useDepth&&M._useStencil?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,M._shape[0],M._shape[1]):M._useDepth?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,M._shape[0],M._shape[1]):M._useStencil&&b.renderbufferStorage(b.RENDERBUFFER,b.STENCIL_INDEX,M._shape[0],M._shape[1])),b.bindFramebuffer(b.FRAMEBUFFER,M.handle);var k=b.checkFramebufferStatus(b.FRAMEBUFFER);k!==b.FRAMEBUFFER_COMPLETE&&(M.dispose(),h(b,D),c(k)),h(b,D)}}Object.defineProperties(_,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(M){if(Array.isArray(M)||(M=[M|0,M|0]),M.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var s=M[0]|0,S=M[1]|0;return y(this,s,S),[s,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(M){return M=M|0,y(this,M,this._shape[1]),M},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(M){return M=M|0,y(this,this._shape[0],M),M},enumerable:!1}}),_.bind=function(){if(!this._destroyed){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,this.handle),M.viewport(0,0,this._shape[0],this._shape[1])}},_.dispose=function(){if(!this._destroyed){this._destroyed=!0;var M=this.gl;M.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(M.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var s=0;s<this.color.length;++s)this.color[s].dispose(),this.color[s]=null;this._color_rb&&(M.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(M,s,S,b){a||(a=M.FRAMEBUFFER_UNSUPPORTED,u=M.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=M.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=M.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var I=M.getExtension("WEBGL_draw_buffers");if(!i&&I&&T(M,I),Array.isArray(s)&&(b=S,S=s[1]|0,s=s[0]|0),typeof s!="number")throw new Error("gl-fbo: Missing shape parameter");var D=M.getParameter(M.MAX_RENDERBUFFER_SIZE);if(s<0||s>D||S<0||S>D)throw new Error("gl-fbo: Parameters are too large for FBO");b=b||{};var B=1;if("color"in b){if(B=Math.max(b.color|0,0),B<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(B>1)if(I){if(B>M.getParameter(I.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+B+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var k=M.UNSIGNED_BYTE,F=M.getExtension("OES_texture_float");if(b.float&&B>0){if(!F)throw new Error("gl-fbo: Context does not support floating point textures");k=M.FLOAT}else b.preferFloat&&B>0&&F&&(k=M.FLOAT);var N=!0;"depth"in b&&(N=!!b.depth);var O=!1;return"stencil"in b&&(O=!!b.stencil),new A(M,s,S,k,B,N,O,I)}},2992:function(v,g,r){var t=r(3387).sprintf,i=r(5171),a=r(1848),u=r(1085);v.exports=f;function f(l,m,h){var T=a(m)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===i.FRAGMENT_SHADER?"fragment":"vertex");for(var o=t(`Error compiling %s shader %s:
`,c,T),p=t("%s%s",o,l),x=l.split(`
`),A={},_=0;_<x.length;_++){var y=x[_];if(!(y===""||y==="\0")){var E=parseInt(y.split(":")[2]);if(isNaN(E))throw new Error(t("Could not parse error: %s",y));A[E]=y}}for(var M=u(m).split(`
`),_=0;_<M.length;_++)if(!(!A[_+3]&&!A[_+2]&&!A[_+1])){var s=M[_];if(o+=s+`
`,A[_+1]){var S=A[_+1];S=S.substr(S.split(":",3).join(":").length+1).trim(),o+=t(`^^^ %s

`,S)}}return{long:o.trim(),short:p.trim()}}},2510:function(v,g,r){v.exports=c;var t=r(2478),i=r(7762),a=r(1888),u=r(9405),f=r(2762),l=r(6768);function m(o,p,x,A,_,y,E){this.plot=o,this.shader=p,this.pickShader=x,this.positionBuffer=A,this.weightBuffer=_,this.colorBuffer=y,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=m.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var p=this.plot,x=this.shader,A=this.bounds,_=this.numVertices;if(!(_<=0)){var y=p.gl,E=p.dataBox,M=A[2]-A[0],s=A[3]-A[1],S=E[2]-E[0],b=E[3]-E[1];o[0]=2*M/S,o[4]=2*s/b,o[6]=2*(A[0]-E[0])/S-1,o[7]=2*(A[1]-E[1])/b-1,x.bind();var I=x.uniforms;I.viewTransform=o,I.shape=this.shape;var D=x.attributes;this.positionBuffer.bind(),D.position.pointer(),this.weightBuffer.bind(),D.weight.pointer(y.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),D.color.pointer(y.UNSIGNED_BYTE,!0),y.drawArrays(y.TRIANGLES,0,_)}}}(),h.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0];return function(x){var A=this.plot,_=this.pickShader,y=this.bounds,E=this.numVertices;if(!(E<=0)){var M=A.gl,s=A.dataBox,S=y[2]-y[0],b=y[3]-y[1],I=s[2]-s[0],D=s[3]-s[1];o[0]=2*S/I,o[4]=2*b/D,o[6]=2*(y[0]-s[0])/I-1,o[7]=2*(y[1]-s[1])/D-1;for(var B=0;B<4;++B)p[B]=x>>B*8&255;this.pickOffset=x,_.bind();var k=_.uniforms;k.viewTransform=o,k.pickOffset=p,k.shape=this.shape;var F=_.attributes;return this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(M.UNSIGNED_BYTE,!1),this.idBuffer.bind(),F.pickId.pointer(M.UNSIGNED_BYTE,!1),M.drawArrays(M.TRIANGLES,0,E),x+this.shape[0]*this.shape[1]}}}(),h.pick=function(o,p,x){var A=this.pickOffset,_=this.shape[0]*this.shape[1];if(x<A||x>=A+_)return null;var y=x-A,E=this.xData,M=this.yData;return{object:this,pointId:y,dataCoord:[E[y%this.shape[0]],M[y/this.shape[0]|0]]}},h.update=function(o){o=o||{};var p=o.shape||[0,0],x=o.x||i(p[0]),A=o.y||i(p[1]),_=o.z||new Float32Array(p[0]*p[1]),y=o.zsmooth!==!1;this.xData=x,this.yData=A;var E=o.colorLevels||[0],M=o.colorValues||[0,0,0,1],s=E.length,S=this.bounds,b,I,D,B;y?(b=S[0]=x[0],I=S[1]=A[0],D=S[2]=x[x.length-1],B=S[3]=A[A.length-1]):(b=S[0]=x[0]+(x[1]-x[0])/2,I=S[1]=A[0]+(A[1]-A[0])/2,D=S[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,B=S[3]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2);var k=1/(D-b),F=1/(B-I),N=p[0],O=p[1];this.shape=[N,O];var V=(y?(N-1)*(O-1):N*O)*(T.length>>>1);this.numVertices=V;for(var X=a.mallocUint8(V*4),ee=a.mallocFloat32(V*2),ne=a.mallocUint8(V*2),q=a.mallocUint32(V),se=0,J=y?N-1:N,Z=y?O-1:O,te=0;te<Z;++te){var Y,ie;y?(Y=F*(A[te]-I),ie=F*(A[te+1]-I)):(Y=te<O-1?F*(A[te]-(A[te+1]-A[te])/2-I):F*(A[te]-(A[te]-A[te-1])/2-I),ie=te<O-1?F*(A[te]+(A[te+1]-A[te])/2-I):F*(A[te]+(A[te]-A[te-1])/2-I));for(var le=0;le<J;++le){var j,K;y?(j=k*(x[le]-b),K=k*(x[le+1]-b)):(j=le<N-1?k*(x[le]-(x[le+1]-x[le])/2-b):k*(x[le]-(x[le]-x[le-1])/2-b),K=le<N-1?k*(x[le]+(x[le+1]-x[le])/2-b):k*(x[le]+(x[le]-x[le-1])/2-b));for(var ue=0;ue<T.length;ue+=2){var ae=T[ue],he=T[ue+1],xe=y?(te+he)*N+(le+ae):te*N+le,Se=_[xe],Ae=t.le(E,Se),De,we,Ce,be;if(Ae<0)De=M[0],we=M[1],Ce=M[2],be=M[3];else if(Ae===s-1)De=M[4*s-4],we=M[4*s-3],Ce=M[4*s-2],be=M[4*s-1];else{var Pe=(Se-E[Ae])/(E[Ae+1]-E[Ae]),Ve=1-Pe,Ge=4*Ae,Fe=4*(Ae+1);De=Ve*M[Ge]+Pe*M[Fe],we=Ve*M[Ge+1]+Pe*M[Fe+1],Ce=Ve*M[Ge+2]+Pe*M[Fe+2],be=Ve*M[Ge+3]+Pe*M[Fe+3]}X[4*se]=255*De,X[4*se+1]=255*we,X[4*se+2]=255*Ce,X[4*se+3]=255*be,ee[2*se]=j*.5+K*.5,ee[2*se+1]=Y*.5+ie*.5,ne[2*se]=ae,ne[2*se+1]=he,q[se]=te*N+le,se+=1}}}this.positionBuffer.update(ee),this.weightBuffer.update(ne),this.colorBuffer.update(X),this.idBuffer.update(q),a.free(ee),a.free(X),a.free(ne),a.free(q)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(o,p){var x=o.gl,A=u(x,l.vertex,l.fragment),_=u(x,l.pickVertex,l.pickFragment),y=f(x),E=f(x),M=f(x),s=f(x),S=new m(o,A,_,y,E,M,s);return S.update(p),o.addObject(S),S}},6768:function(v,g,r){var t=r(3236);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,g,r){var t=r(3236),i=r(9405),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];g.createShader=function(m){return i(m,a,u,null,l)},g.createPickShader=function(m){return i(m,a,f,null,l)}},5714:function(v,g,r){v.exports=M;var t=r(2762),i=r(8116),a=r(7766),u=new Uint8Array(4),f=new Float32Array(u.buffer);function l(s,S,b,I){return u[0]=I,u[1]=b,u[2]=S,u[3]=s,f[0]}var m=r(2478),h=r(9618),T=r(7319),c=T.createShader,o=T.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(s,S){for(var b=0,I=0;I<3;++I){var D=s[I]-S[I];b+=D*D}return Math.sqrt(b)}function A(s){for(var S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)S[0][b]=Math.max(s[0][b],S[0][b]),S[1][b]=Math.min(s[1][b],S[1][b]);return S}function _(s,S,b,I){this.arcLength=s,this.position=S,this.index=b,this.dataCoordinate=I}function y(s,S,b,I,D,B){this.gl=s,this.shader=S,this.pickShader=b,this.buffer=I,this.vao=D,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=B,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=y.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(s){this.pickId=s},E.drawTransparent=E.draw=function(s){if(this.vertexCount){var S=this.gl,b=this.shader,I=this.vao;b.bind(),b.uniforms={model:s.model||p,view:s.view||p,projection:s.projection||p,clipBounds:A(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},I.bind(),I.draw(S.TRIANGLE_STRIP,this.vertexCount),I.unbind()}},E.drawPick=function(s){if(this.vertexCount){var S=this.gl,b=this.pickShader,I=this.vao;b.bind(),b.uniforms={model:s.model||p,view:s.view||p,projection:s.projection||p,pickId:this.pickId,clipBounds:A(this.clipBounds),screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},I.bind(),I.draw(S.TRIANGLE_STRIP,this.vertexCount),I.unbind()}},E.update=function(s){var S,b;this.dirty=!0;var I=!!s.connectGaps;"dashScale"in s&&(this.dashScale=s.dashScale),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var D=[],B=[],k=[],F=0,N=0,O=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],V=s.position||s.positions;if(V){var X=s.color||s.colors||[0,0,0,1],ee=s.lineWidth||1,ne=!1;e:for(S=1;S<V.length;++S){var q=V[S-1],se=V[S];for(B.push(F),k.push(q.slice()),b=0;b<3;++b){if(isNaN(q[b])||isNaN(se[b])||!isFinite(q[b])||!isFinite(se[b])){if(!I&&D.length>0){for(var J=0;J<24;++J)D.push(D[D.length-12]);N+=2,ne=!0}continue e}O[0][b]=Math.min(O[0][b],q[b],se[b]),O[1][b]=Math.max(O[1][b],q[b],se[b])}var Z,te;Array.isArray(X[0])?(Z=X.length>S-1?X[S-1]:X.length>0?X[X.length-1]:[0,0,0,1],te=X.length>S?X[S]:X.length>0?X[X.length-1]:[0,0,0,1]):Z=te=X,Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),te.length===3&&(te=[te[0],te[1],te[2],1]),!this.hasAlpha&&Z[3]<1&&(this.hasAlpha=!0);var Y;Array.isArray(ee)?Y=ee.length>S-1?ee[S-1]:ee.length>0?ee[ee.length-1]:[0,0,0,1]:Y=ee;var ie=F;if(F+=x(q,se),ne){for(b=0;b<2;++b)D.push(q[0],q[1],q[2],se[0],se[1],se[2],ie,Y,Z[0],Z[1],Z[2],Z[3]);N+=2,ne=!1}D.push(q[0],q[1],q[2],se[0],se[1],se[2],ie,Y,Z[0],Z[1],Z[2],Z[3],q[0],q[1],q[2],se[0],se[1],se[2],ie,-Y,Z[0],Z[1],Z[2],Z[3],se[0],se[1],se[2],q[0],q[1],q[2],F,-Y,te[0],te[1],te[2],te[3],se[0],se[1],se[2],q[0],q[1],q[2],F,Y,te[0],te[1],te[2],te[3]),N+=4}}if(this.buffer.update(D),B.push(F),k.push(V[V.length-1].slice()),this.bounds=O,this.vertexCount=N,this.points=k,this.arcLength=B,"dashes"in s){var le=s.dashes,j=le.slice();for(j.unshift(0),S=1;S<j.length;++S)j[S]=j[S-1]+j[S];var K=h(new Array(256*4),[256,1,4]);for(S=0;S<256;++S){for(b=0;b<4;++b)K.set(S,0,b,0);m.le(j,j[j.length-1]*S/255)&1?K.set(S,0,0,0):K.set(S,0,0,255)}this.texture.setPixels(K)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(s){if(!s||s.id!==this.pickId)return null;var S=l(s.value[0],s.value[1],s.value[2],0),b=m.le(this.arcLength,S);if(b<0)return null;if(b===this.arcLength.length-1)return new _(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),b);for(var I=this.points[b],D=this.points[Math.min(b+1,this.points.length-1)],B=(S-this.arcLength[b])/(this.arcLength[b+1]-this.arcLength[b]),k=1-B,F=[0,0,0],N=0;N<3;++N)F[N]=k*I[N]+B*D[N];var O=Math.min(B<.5?b:b+1,this.points.length-1);return new _(S,F,O,this.points[O])};function M(s){var S=s.gl||s.scene&&s.scene.gl,b=c(S);b.attributes.position.location=0,b.attributes.nextPosition.location=1,b.attributes.arcLength.location=2,b.attributes.lineWidth.location=3,b.attributes.color.location=4;var I=o(S);I.attributes.position.location=0,I.attributes.nextPosition.location=1,I.attributes.arcLength.location=2,I.attributes.lineWidth.location=3,I.attributes.color.location=4;for(var D=t(S),B=i(S,[{buffer:D,size:3,offset:0,stride:48},{buffer:D,size:3,offset:12,stride:48},{buffer:D,size:1,offset:24,stride:48},{buffer:D,size:1,offset:28,stride:48},{buffer:D,size:4,offset:32,stride:48}]),k=h(new Array(256*4),[256,1,4]),F=0;F<1024;++F)k.data[F]=255;var N=a(S,k);N.wrap=S.REPEAT;var O=new y(S,b,I,D,B,N);return O.update(s),O}},1903:function(v){v.exports=g;function g(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(v){v.exports=g;function g(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=g;function g(r){var t=r[0],i=r[1],a=r[2],u=r[3],f=r[4],l=r[5],m=r[6],h=r[7],T=r[8],c=r[9],o=r[10],p=r[11],x=r[12],A=r[13],_=r[14],y=r[15],E=t*l-i*f,M=t*m-a*f,s=t*h-u*f,S=i*m-a*l,b=i*h-u*l,I=a*h-u*m,D=T*A-c*x,B=T*_-o*x,k=T*y-p*x,F=c*_-o*A,N=c*y-p*A,O=o*y-p*_;return E*O-M*N+s*F+S*k-b*B+I*D}},7399:function(v){v.exports=g;function g(r,t){var i=t[0],a=t[1],u=t[2],f=t[3],l=i+i,m=a+a,h=u+u,T=i*l,c=a*l,o=a*m,p=u*l,x=u*m,A=u*h,_=f*l,y=f*m,E=f*h;return r[0]=1-o-A,r[1]=c+E,r[2]=p-y,r[3]=0,r[4]=c-E,r[5]=1-T-A,r[6]=x+_,r[7]=0,r[8]=p+y,r[9]=x-_,r[10]=1-T-o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=g;function g(r,t,i){var a=t[0],u=t[1],f=t[2],l=t[3],m=a+a,h=u+u,T=f+f,c=a*m,o=a*h,p=a*T,x=u*h,A=u*T,_=f*T,y=l*m,E=l*h,M=l*T;return r[0]=1-(x+_),r[1]=o+M,r[2]=p-E,r[3]=0,r[4]=o-M,r[5]=1-(c+_),r[6]=A+y,r[7]=0,r[8]=p+E,r[9]=A-y,r[10]=1-(c+x),r[11]=0,r[12]=i[0],r[13]=i[1],r[14]=i[2],r[15]=1,r}},7894:function(v){v.exports=g;function g(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=g;function g(r,t){var i=t[0],a=t[1],u=t[2],f=t[3],l=t[4],m=t[5],h=t[6],T=t[7],c=t[8],o=t[9],p=t[10],x=t[11],A=t[12],_=t[13],y=t[14],E=t[15],M=i*m-a*l,s=i*h-u*l,S=i*T-f*l,b=a*h-u*m,I=a*T-f*m,D=u*T-f*h,B=c*_-o*A,k=c*y-p*A,F=c*E-x*A,N=o*y-p*_,O=o*E-x*_,V=p*E-x*y,X=M*V-s*O+S*N+b*F-I*k+D*B;return X?(X=1/X,r[0]=(m*V-h*O+T*N)*X,r[1]=(u*O-a*V-f*N)*X,r[2]=(_*D-y*I+E*b)*X,r[3]=(p*I-o*D-x*b)*X,r[4]=(h*F-l*V-T*k)*X,r[5]=(i*V-u*F+f*k)*X,r[6]=(y*S-A*D-E*s)*X,r[7]=(c*D-p*S+x*s)*X,r[8]=(l*O-m*F+T*B)*X,r[9]=(a*F-i*O-f*B)*X,r[10]=(A*I-_*S+E*M)*X,r[11]=(o*S-c*I-x*M)*X,r[12]=(m*k-l*N-h*B)*X,r[13]=(i*N-a*k+u*B)*X,r[14]=(_*s-A*b-y*M)*X,r[15]=(c*b-o*s+p*M)*X,r):null}},6582:function(v,g,r){var t=r(7894);v.exports=i;function i(a,u,f,l){var m,h,T,c,o,p,x,A,_,y,E=u[0],M=u[1],s=u[2],S=l[0],b=l[1],I=l[2],D=f[0],B=f[1],k=f[2];return Math.abs(E-D)<1e-6&&Math.abs(M-B)<1e-6&&Math.abs(s-k)<1e-6?t(a):(x=E-D,A=M-B,_=s-k,y=1/Math.sqrt(x*x+A*A+_*_),x*=y,A*=y,_*=y,m=b*_-I*A,h=I*x-S*_,T=S*A-b*x,y=Math.sqrt(m*m+h*h+T*T),y?(y=1/y,m*=y,h*=y,T*=y):(m=0,h=0,T=0),c=A*T-_*h,o=_*m-x*T,p=x*h-A*m,y=Math.sqrt(c*c+o*o+p*p),y?(y=1/y,c*=y,o*=y,p*=y):(c=0,o=0,p=0),a[0]=m,a[1]=c,a[2]=x,a[3]=0,a[4]=h,a[5]=o,a[6]=A,a[7]=0,a[8]=T,a[9]=p,a[10]=_,a[11]=0,a[12]=-(m*E+h*M+T*s),a[13]=-(c*E+o*M+p*s),a[14]=-(x*E+A*M+_*s),a[15]=1,a)}},6760:function(v){v.exports=g;function g(r,t,i){var a=t[0],u=t[1],f=t[2],l=t[3],m=t[4],h=t[5],T=t[6],c=t[7],o=t[8],p=t[9],x=t[10],A=t[11],_=t[12],y=t[13],E=t[14],M=t[15],s=i[0],S=i[1],b=i[2],I=i[3];return r[0]=s*a+S*m+b*o+I*_,r[1]=s*u+S*h+b*p+I*y,r[2]=s*f+S*T+b*x+I*E,r[3]=s*l+S*c+b*A+I*M,s=i[4],S=i[5],b=i[6],I=i[7],r[4]=s*a+S*m+b*o+I*_,r[5]=s*u+S*h+b*p+I*y,r[6]=s*f+S*T+b*x+I*E,r[7]=s*l+S*c+b*A+I*M,s=i[8],S=i[9],b=i[10],I=i[11],r[8]=s*a+S*m+b*o+I*_,r[9]=s*u+S*h+b*p+I*y,r[10]=s*f+S*T+b*x+I*E,r[11]=s*l+S*c+b*A+I*M,s=i[12],S=i[13],b=i[14],I=i[15],r[12]=s*a+S*m+b*o+I*_,r[13]=s*u+S*h+b*p+I*y,r[14]=s*f+S*T+b*x+I*E,r[15]=s*l+S*c+b*A+I*M,r}},4040:function(v){v.exports=g;function g(r,t,i,a,u,f,l){var m=1/(t-i),h=1/(a-u),T=1/(f-l);return r[0]=-2*m,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(t+i)*m,r[13]=(u+a)*h,r[14]=(l+f)*T,r[15]=1,r}},4772:function(v){v.exports=g;function g(r,t,i,a,u){var f=1/Math.tan(t/2),l=1/(a-u);return r[0]=f/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(u+a)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*u*a*l,r[15]=0,r}},6079:function(v){v.exports=g;function g(r,t,i,a){var u=a[0],f=a[1],l=a[2],m=Math.sqrt(u*u+f*f+l*l),h,T,c,o,p,x,A,_,y,E,M,s,S,b,I,D,B,k,F,N,O,V,X,ee;return Math.abs(m)<1e-6?null:(m=1/m,u*=m,f*=m,l*=m,h=Math.sin(i),T=Math.cos(i),c=1-T,o=t[0],p=t[1],x=t[2],A=t[3],_=t[4],y=t[5],E=t[6],M=t[7],s=t[8],S=t[9],b=t[10],I=t[11],D=u*u*c+T,B=f*u*c+l*h,k=l*u*c-f*h,F=u*f*c-l*h,N=f*f*c+T,O=l*f*c+u*h,V=u*l*c+f*h,X=f*l*c-u*h,ee=l*l*c+T,r[0]=o*D+_*B+s*k,r[1]=p*D+y*B+S*k,r[2]=x*D+E*B+b*k,r[3]=A*D+M*B+I*k,r[4]=o*F+_*N+s*O,r[5]=p*F+y*N+S*O,r[6]=x*F+E*N+b*O,r[7]=A*F+M*N+I*O,r[8]=o*V+_*X+s*ee,r[9]=p*V+y*X+S*ee,r[10]=x*V+E*X+b*ee,r[11]=A*V+M*X+I*ee,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(v){v.exports=g;function g(r,t,i){var a=Math.sin(i),u=Math.cos(i),f=t[4],l=t[5],m=t[6],h=t[7],T=t[8],c=t[9],o=t[10],p=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=f*u+T*a,r[5]=l*u+c*a,r[6]=m*u+o*a,r[7]=h*u+p*a,r[8]=T*u-f*a,r[9]=c*u-l*a,r[10]=o*u-m*a,r[11]=p*u-h*a,r}},2408:function(v){v.exports=g;function g(r,t,i){var a=Math.sin(i),u=Math.cos(i),f=t[0],l=t[1],m=t[2],h=t[3],T=t[8],c=t[9],o=t[10],p=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=f*u-T*a,r[1]=l*u-c*a,r[2]=m*u-o*a,r[3]=h*u-p*a,r[8]=f*a+T*u,r[9]=l*a+c*u,r[10]=m*a+o*u,r[11]=h*a+p*u,r}},7089:function(v){v.exports=g;function g(r,t,i){var a=Math.sin(i),u=Math.cos(i),f=t[0],l=t[1],m=t[2],h=t[3],T=t[4],c=t[5],o=t[6],p=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=f*u+T*a,r[1]=l*u+c*a,r[2]=m*u+o*a,r[3]=h*u+p*a,r[4]=T*u-f*a,r[5]=c*u-l*a,r[6]=o*u-m*a,r[7]=p*u-h*a,r}},2504:function(v){v.exports=g;function g(r,t,i){var a=i[0],u=i[1],f=i[2];return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r[3]=t[3]*a,r[4]=t[4]*u,r[5]=t[5]*u,r[6]=t[6]*u,r[7]=t[7]*u,r[8]=t[8]*f,r[9]=t[9]*f,r[10]=t[10]*f,r[11]=t[11]*f,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(v){v.exports=g;function g(r,t,i){var a=i[0],u=i[1],f=i[2],l,m,h,T,c,o,p,x,A,_,y,E;return t===r?(r[12]=t[0]*a+t[4]*u+t[8]*f+t[12],r[13]=t[1]*a+t[5]*u+t[9]*f+t[13],r[14]=t[2]*a+t[6]*u+t[10]*f+t[14],r[15]=t[3]*a+t[7]*u+t[11]*f+t[15]):(l=t[0],m=t[1],h=t[2],T=t[3],c=t[4],o=t[5],p=t[6],x=t[7],A=t[8],_=t[9],y=t[10],E=t[11],r[0]=l,r[1]=m,r[2]=h,r[3]=T,r[4]=c,r[5]=o,r[6]=p,r[7]=x,r[8]=A,r[9]=_,r[10]=y,r[11]=E,r[12]=l*a+c*u+A*f+t[12],r[13]=m*a+o*u+_*f+t[13],r[14]=h*a+p*u+y*f+t[14],r[15]=T*a+x*u+E*f+t[15]),r}},5665:function(v){v.exports=g;function g(r,t){if(r===t){var i=t[1],a=t[2],u=t[3],f=t[6],l=t[7],m=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=i,r[6]=t[9],r[7]=t[13],r[8]=a,r[9]=f,r[11]=t[14],r[12]=u,r[13]=l,r[14]=m}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(v,g,r){var t=r(2642),i=r(9346);v.exports=m;function a(h,T){for(var c=[0,0,0,0],o=0;o<4;++o)for(var p=0;p<4;++p)c[p]+=h[4*o+p]*T[o];return c}function u(h,T,c,o,p){for(var x=a(o,a(c,a(T,[h[0],h[1],h[2],1]))),A=0;A<3;++A)x[A]/=x[3];return[.5*p[0]*(1+x[0]),.5*p[1]*(1-x[1])]}function f(h,T){if(h.length===2){for(var c=0,o=0,p=0;p<2;++p)c+=Math.pow(T[p]-h[0][p],2),o+=Math.pow(T[p]-h[1][p],2);return c=Math.sqrt(c),o=Math.sqrt(o),c+o<1e-6?[1,0]:[o/(c+o),c/(o+c)]}else if(h.length===3){var x=[0,0];return i(h[0],h[1],h[2],T,x),t(h,x)}return[]}function l(h,T){for(var c=[0,0,0],o=0;o<h.length;++o)for(var p=h[o],x=T[o],A=0;A<3;++A)c[A]+=x*p[A];return c}function m(h,T,c,o,p,x){if(h.length===1)return[0,h[0].slice()];for(var A=new Array(h.length),_=0;_<h.length;++_)A[_]=u(h[_],c,o,p,x);for(var y=0,E=1/0,_=0;_<A.length;++_){for(var M=0,s=0;s<2;++s)M+=Math.pow(A[_][s]-T[s],2);M<E&&(E=M,y=_)}for(var S=f(A,T),b=0,_=0;_<3;++_){if(S[_]<-.001||S[_]>1.0001)return null;b+=S[_]}return Math.abs(b-1)>.001?null:[y,l(h,S),S]}},840:function(v,g,r){var t=r(3236),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),T=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),p=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);g.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.wireShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.pointShader={vertex:l,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},g.pickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},g.pointPickShader={vertex:c,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},g.contourShader={vertex:o,fragment:p,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,g,r){var t=1e-6,i=1e-6,a=r(9405),u=r(2762),f=r(8116),l=r(7766),m=r(8406),h=r(6760),T=r(7608),c=r(9618),o=r(6729),p=r(7765),x=r(1888),A=r(840),_=r(7626),y=A.meshShader,E=A.wireShader,M=A.pointShader,s=A.pickShader,S=A.pointPickShader,b=A.contourShader,I=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function D(J,Z,te,Y,ie,le,j,K,ue,ae,he,xe,Se,Ae,De,we,Ce,be,Pe,Ve,Ge,Fe,He,ft,gt,ct,nt){this.gl=J,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=te,this.lineShader=Y,this.pointShader=ie,this.pickShader=le,this.pointPickShader=j,this.contourShader=K,this.trianglePositions=ue,this.triangleColors=he,this.triangleNormals=Se,this.triangleUVs=xe,this.triangleIds=ae,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=De,this.edgeColors=Ce,this.edgeUVs=be,this.edgeIds=we,this.edgeVAO=Pe,this.edgeCount=0,this.pointPositions=Ve,this.pointColors=Fe,this.pointUVs=He,this.pointSizes=ft,this.pointIds=Ge,this.pointVAO=gt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=ct,this.contourVAO=nt,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=I,this._view=I,this._projection=I,this._resolution=[1,1]}var B=D.prototype;B.isOpaque=function(){return!this.hasAlpha},B.isTransparent=function(){return this.hasAlpha},B.pickSlots=1,B.setPickBase=function(J){this.pickId=J};function k(J,Z){if(!Z||!Z.length)return 1;for(var te=0;te<Z.length;++te){if(Z.length<2)return 1;if(Z[te][0]===J)return Z[te][1];if(Z[te][0]>J&&te>0){var Y=(Z[te][0]-J)/(Z[te][0]-Z[te-1][0]);return Z[te][1]*(1-Y)+Y*Z[te-1][1]}}return 1}function F(J,Z){for(var te=o({colormap:J,nshades:256,format:"rgba"}),Y=new Uint8Array(256*4),ie=0;ie<256;++ie){for(var le=te[ie],j=0;j<3;++j)Y[4*ie+j]=le[j];Z?Y[4*ie+3]=255*k(ie/255,Z):Y[4*ie+3]=255*le[3]}return c(Y,[256,256,4],[4,0,1])}function N(J){for(var Z=J.length,te=new Array(Z),Y=0;Y<Z;++Y)te[Y]=J[Y][2];return te}B.highlight=function(J){if(!J||!this.contourEnable){this.contourCount=0;return}for(var Z=p(this.cells,this.intensity,J.intensity),te=Z.cells,Y=Z.vertexIds,ie=Z.vertexWeights,le=te.length,j=x.mallocFloat32(2*3*le),K=0,ue=0;ue<le;++ue)for(var ae=te[ue],he=0;he<2;++he){var xe=ae[0];ae.length===2&&(xe=ae[he]);for(var Se=Y[xe][0],Ae=Y[xe][1],De=ie[xe],we=1-De,Ce=this.positions[Se],be=this.positions[Ae],Pe=0;Pe<3;++Pe)j[K++]=De*Ce[Pe]+we*be[Pe]}this.contourCount=K/3|0,this.contourPositions.update(j.subarray(0,K)),x.free(j)},B.update=function(J){J=J||{};var Z=this.gl;this.dirty=!0,"contourEnable"in J&&(this.contourEnable=J.contourEnable),"contourColor"in J&&(this.contourColor=J.contourColor),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"lightPosition"in J&&(this.lightPosition=J.lightPosition),this.hasAlpha=!1,"opacity"in J&&(this.opacity=J.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in J&&(this.opacityscale=J.opacityscale,this.hasAlpha=!0),"ambient"in J&&(this.ambientLight=J.ambient),"diffuse"in J&&(this.diffuseLight=J.diffuse),"specular"in J&&(this.specularLight=J.specular),"roughness"in J&&(this.roughness=J.roughness),"fresnel"in J&&(this.fresnel=J.fresnel),J.texture?(this.texture.dispose(),this.texture=l(Z,J.texture)):J.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(F(J.colormap,this.opacityscale)),this.texture.generateMipmap());var te=J.cells,Y=J.positions;if(!(!Y||!te)){var ie=[],le=[],j=[],K=[],ue=[],ae=[],he=[],xe=[],Se=[],Ae=[],De=[],we=[],Ce=[],be=[];this.cells=te,this.positions=Y;var Pe=J.vertexNormals,Ve=J.cellNormals,Ge=J.vertexNormalsEpsilon===void 0?t:J.vertexNormalsEpsilon,Fe=J.faceNormalsEpsilon===void 0?i:J.faceNormalsEpsilon;J.useFacetNormals&&!Ve&&(Ve=m.faceNormals(te,Y,Fe)),!Ve&&!Pe&&(Pe=m.vertexNormals(te,Y,Ge));var He=J.vertexColors,ft=J.cellColors,gt=J.meshColor||[1,1,1,1],ct=J.vertexUVs,nt=J.vertexIntensity,dt=J.cellUVs,pt=J.cellIntensity,wt=1/0,Tt=-1/0;if(!ct&&!dt)if(nt)if(J.vertexIntensityBounds)wt=+J.vertexIntensityBounds[0],Tt=+J.vertexIntensityBounds[1];else for(var Ct=0;Ct<nt.length;++Ct){var at=nt[Ct];wt=Math.min(wt,at),Tt=Math.max(Tt,at)}else if(pt)if(J.cellIntensityBounds)wt=+J.cellIntensityBounds[0],Tt=+J.cellIntensityBounds[1];else for(var Ct=0;Ct<pt.length;++Ct){var at=pt[Ct];wt=Math.min(wt,at),Tt=Math.max(Tt,at)}else for(var Ct=0;Ct<Y.length;++Ct){var at=Y[Ct][2];wt=Math.min(wt,at),Tt=Math.max(Tt,at)}nt?this.intensity=nt:pt?this.intensity=pt:this.intensity=N(Y),this.pickVertex=!(pt||ft);var ze=J.pointSizes,je=J.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Ct=0;Ct<Y.length;++Ct)for(var Je=Y[Ct],Xe=0;Xe<3;++Xe)isNaN(Je[Xe])||!isFinite(Je[Xe])||(this.bounds[0][Xe]=Math.min(this.bounds[0][Xe],Je[Xe]),this.bounds[1][Xe]=Math.max(this.bounds[1][Xe],Je[Xe]));var Oe=0,ke=0,Ke=0;e:for(var Ct=0;Ct<te.length;++Ct){var Ie=te[Ct];switch(Ie.length){case 1:for(var pe=Ie[0],Je=Y[pe],Xe=0;Xe<3;++Xe)if(isNaN(Je[Xe])||!isFinite(Je[Xe]))continue e;Ae.push(Je[0],Je[1],Je[2]);var Te;He?Te=He[pe]:ft?Te=ft[Ct]:Te=gt,this.opacityscale&&nt?le.push(Te[0],Te[1],Te[2],this.opacity*k((nt[pe]-wt)/(Tt-wt),this.opacityscale)):Te.length===3?De.push(Te[0],Te[1],Te[2],this.opacity):(De.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0));var Ue;ct?Ue=ct[pe]:nt?Ue=[(nt[pe]-wt)/(Tt-wt),0]:dt?Ue=dt[Ct]:pt?Ue=[(pt[Ct]-wt)/(Tt-wt),0]:Ue=[(Je[2]-wt)/(Tt-wt),0],we.push(Ue[0],Ue[1]),ze?Ce.push(ze[pe]):Ce.push(je),be.push(Ct),Ke+=1;break;case 2:for(var Xe=0;Xe<2;++Xe)for(var pe=Ie[Xe],Je=Y[pe],et=0;et<3;++et)if(isNaN(Je[et])||!isFinite(Je[et]))continue e;for(var Xe=0;Xe<2;++Xe){var pe=Ie[Xe],Je=Y[pe];ae.push(Je[0],Je[1],Je[2]);var Te;He?Te=He[pe]:ft?Te=ft[Ct]:Te=gt,this.opacityscale&&nt?le.push(Te[0],Te[1],Te[2],this.opacity*k((nt[pe]-wt)/(Tt-wt),this.opacityscale)):Te.length===3?he.push(Te[0],Te[1],Te[2],this.opacity):(he.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0));var Ue;ct?Ue=ct[pe]:nt?Ue=[(nt[pe]-wt)/(Tt-wt),0]:dt?Ue=dt[Ct]:pt?Ue=[(pt[Ct]-wt)/(Tt-wt),0]:Ue=[(Je[2]-wt)/(Tt-wt),0],xe.push(Ue[0],Ue[1]),Se.push(Ct)}ke+=1;break;case 3:for(var Xe=0;Xe<3;++Xe)for(var pe=Ie[Xe],Je=Y[pe],et=0;et<3;++et)if(isNaN(Je[et])||!isFinite(Je[et]))continue e;for(var Xe=0;Xe<3;++Xe){var pe=Ie[2-Xe],Je=Y[pe];ie.push(Je[0],Je[1],Je[2]);var Te;He?Te=He[pe]:ft?Te=ft[Ct]:Te=gt,Te?this.opacityscale&&nt?le.push(Te[0],Te[1],Te[2],this.opacity*k((nt[pe]-wt)/(Tt-wt),this.opacityscale)):Te.length===3?le.push(Te[0],Te[1],Te[2],this.opacity):(le.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0)):le.push(.5,.5,.5,1);var Ue;ct?Ue=ct[pe]:nt?Ue=[(nt[pe]-wt)/(Tt-wt),0]:dt?Ue=dt[Ct]:pt?Ue=[(pt[Ct]-wt)/(Tt-wt),0]:Ue=[(Je[2]-wt)/(Tt-wt),0],K.push(Ue[0],Ue[1]);var st;Pe?st=Pe[pe]:st=Ve[Ct],j.push(st[0],st[1],st[2]),ue.push(Ct)}Oe+=1;break}}this.pointCount=Ke,this.edgeCount=ke,this.triangleCount=Oe,this.pointPositions.update(Ae),this.pointColors.update(De),this.pointUVs.update(we),this.pointSizes.update(Ce),this.pointIds.update(new Uint32Array(be)),this.edgePositions.update(ae),this.edgeColors.update(he),this.edgeUVs.update(xe),this.edgeIds.update(new Uint32Array(Se)),this.trianglePositions.update(ie),this.triangleColors.update(le),this.triangleUVs.update(K),this.triangleNormals.update(j),this.triangleIds.update(new Uint32Array(ue))}},B.drawTransparent=B.draw=function(J){J=J||{};for(var Z=this.gl,te=J.model||I,Y=J.view||I,ie=J.projection||I,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],j=0;j<3;++j)le[0][j]=Math.max(le[0][j],this.clipBounds[0][j]),le[1][j]=Math.min(le[1][j],this.clipBounds[1][j]);var K={model:te,view:Y,projection:ie,inverseModel:I.slice(),clipBounds:le,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};K.inverseModel=T(K.inverseModel,K.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var ue=new Array(16);h(ue,K.view,K.model),h(ue,K.projection,ue),T(ue,ue);for(var j=0;j<3;++j)K.eyePosition[j]=ue[12+j]/ue[15];for(var ae=ue[15],j=0;j<3;++j)ae+=this.lightPosition[j]*ue[4*j+3];for(var j=0;j<3;++j){for(var he=ue[12+j],xe=0;xe<3;++xe)he+=ue[4*xe+j]*this.lightPosition[xe];K.lightPosition[j]=he/ae}if(this.triangleCount>0){var Se=this.triShader;Se.bind(),Se.uniforms=K,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Se=this.lineShader;Se.bind(),Se.uniforms=K,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Se=this.pointShader;Se.bind(),Se.uniforms=K,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Se=this.contourShader;Se.bind(),Se.uniforms=K,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind()}},B.drawPick=function(J){J=J||{};for(var Z=this.gl,te=J.model||I,Y=J.view||I,ie=J.projection||I,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],j=0;j<3;++j)le[0][j]=Math.max(le[0][j],this.clipBounds[0][j]),le[1][j]=Math.min(le[1][j],this.clipBounds[1][j]);this._model=[].slice.call(te),this._view=[].slice.call(Y),this._projection=[].slice.call(ie),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var K={model:te,view:Y,projection:ie,clipBounds:le,pickId:this.pickId/255},ue=this.pickShader;if(ue.bind(),ue.uniforms=K,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ue=this.pointPickShader;ue.bind(),ue.uniforms=K,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}},B.pick=function(J){if(!J||J.id!==this.pickId)return null;for(var Z=J.value[0]+256*J.value[1]+65536*J.value[2],te=this.cells[Z],Y=this.positions,ie=new Array(te.length),le=0;le<te.length;++le)ie[le]=Y[te[le]];var j=J.coord[0],K=J.coord[1];if(!this.pickVertex){var ue=this.positions[te[0]],ae=this.positions[te[1]],he=this.positions[te[2]],xe=[(ue[0]+ae[0]+he[0])/3,(ue[1]+ae[1]+he[1])/3,(ue[2]+ae[2]+he[2])/3];return{_cellCenter:!0,position:[j,K],index:Z,cell:te,cellId:Z,intensity:this.intensity[Z],dataCoordinate:xe}}var Se=_(ie,[j*this.pixelRatio,this._resolution[1]-K*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Se)return null;for(var Ae=Se[2],De=0,le=0;le<te.length;++le)De+=Ae[le]*this.intensity[te[le]];return{position:Se[1],index:te[Se[0]],cell:te,cellId:Z,intensity:De,dataCoordinate:this.positions[te[Se[0]]]}},B.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function O(J){var Z=a(J,y.vertex,y.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.normal.location=4,Z}function V(J){var Z=a(J,E.vertex,E.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z}function X(J){var Z=a(J,M.vertex,M.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}function ee(J){var Z=a(J,s.vertex,s.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}function ne(J){var Z=a(J,S.vertex,S.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}function q(J){var Z=a(J,b.vertex,b.fragment);return Z.attributes.position.location=0,Z}function se(J,Z){arguments.length===1&&(Z=J,J=Z.gl);var te=J.getExtension("OES_standard_derivatives")||J.getExtension("MOZ_OES_standard_derivatives")||J.getExtension("WEBKIT_OES_standard_derivatives");if(!te)throw new Error("derivatives not supported");var Y=O(J),ie=V(J),le=X(J),j=ee(J),K=ne(J),ue=q(J),ae=l(J,c(new Uint8Array([255,255,255,255]),[1,1,4]));ae.generateMipmap(),ae.minFilter=J.LINEAR_MIPMAP_LINEAR,ae.magFilter=J.LINEAR;var he=u(J),xe=u(J),Se=u(J),Ae=u(J),De=u(J),we=f(J,[{buffer:he,type:J.FLOAT,size:3},{buffer:De,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:J.FLOAT,size:4},{buffer:Se,type:J.FLOAT,size:2},{buffer:Ae,type:J.FLOAT,size:3}]),Ce=u(J),be=u(J),Pe=u(J),Ve=u(J),Ge=f(J,[{buffer:Ce,type:J.FLOAT,size:3},{buffer:Ve,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:J.FLOAT,size:4},{buffer:Pe,type:J.FLOAT,size:2}]),Fe=u(J),He=u(J),ft=u(J),gt=u(J),ct=u(J),nt=f(J,[{buffer:Fe,type:J.FLOAT,size:3},{buffer:ct,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:He,type:J.FLOAT,size:4},{buffer:ft,type:J.FLOAT,size:2},{buffer:gt,type:J.FLOAT,size:1}]),dt=u(J),pt=f(J,[{buffer:dt,type:J.FLOAT,size:3}]),wt=new D(J,ae,Y,ie,le,j,K,ue,he,De,xe,Se,Ae,we,Ce,Ve,be,Pe,Ge,Fe,ct,He,ft,gt,nt,dt,pt);return wt.update(Z),wt}v.exports=se},8120:function(v,g,r){v.exports=l;var t=r(2762),i=r(9405),a=r(3603);function u(m,h,T){this.plot=m,this.vbo=h,this.shader=T}var f=u.prototype;f.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},f.drawBox=function(){var m=[0,0],h=[0,0];return function(T,c,o,p,x){var A=this.plot,_=this.shader,y=A.gl;m[0]=T,m[1]=c,h[0]=o,h[1]=p,_.uniforms.lo=m,_.uniforms.hi=h,_.uniforms.color=x,y.drawArrays(y.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(m){var h=m.gl,T=t(h,[0,0,0,1,1,0,1,1]),c=i(h,a.boxVert,a.lineFrag);return new u(m,T,c)}},1913:function(v,g,r){v.exports=h;var t=r(2762),i=r(9405),a=r(2478),u=r(3603);function f(T,c,o,p){this.plot=T,this.vbo=c,this.shader=o,this.tickShader=p,this.ticks=[[],[]]}function l(T,c){return T-c}var m=f.prototype;m.draw=function(){var T=[0,0],c=[0,0],o=[0,0];return function(){for(var p=this.plot,x=this.vbo,A=this.shader,_=this.ticks,y=p.gl,E=p._tickBounds,M=p.dataBox,s=p.viewBox,S=p.gridLineWidth,b=p.gridLineColor,I=p.gridLineEnable,D=p.pixelRatio,B=0;B<2;++B){var k=E[B],F=E[B+2],N=F-k,O=.5*(M[B+2]+M[B]),V=M[B+2]-M[B];c[B]=2*N/V,T[B]=2*(k-O)/V}A.bind(),x.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=T,A.uniforms.dataScale=c;for(var X=0,B=0;B<2;++B){o[0]=o[1]=0,o[B]=1,A.uniforms.dataAxis=o,A.uniforms.lineWidth=S[B]/(s[B+2]-s[B])*D,A.uniforms.color=b[B];var ee=_[B].length*6;I[B]&&ee&&y.drawArrays(y.TRIANGLES,X,ee),X+=ee}}}(),m.drawTickMarks=function(){var T=[0,0],c=[0,0],o=[1,0],p=[0,1],x=[0,0],A=[0,0];return function(){for(var _=this.plot,y=this.vbo,E=this.tickShader,M=this.ticks,s=_.gl,S=_._tickBounds,b=_.dataBox,I=_.viewBox,D=_.pixelRatio,B=_.screenBox,k=B[2]-B[0],F=B[3]-B[1],N=I[2]-I[0],O=I[3]-I[1],V=0;V<2;++V){var X=S[V],ee=S[V+2],ne=ee-X,q=.5*(b[V+2]+b[V]),se=b[V+2]-b[V];c[V]=2*ne/se,T[V]=2*(X-q)/se}c[0]*=N/k,T[0]*=N/k,c[1]*=O/F,T[1]*=O/F,E.bind(),y.bind(),E.attributes.dataCoord.pointer();var J=E.uniforms;J.dataShift=T,J.dataScale=c;var Z=_.tickMarkLength,te=_.tickMarkWidth,Y=_.tickMarkColor,ie=0,le=M[0].length*6,j=Math.min(a.ge(M[0],(b[0]-S[0])/(S[2]-S[0]),l),M[0].length),K=Math.min(a.gt(M[0],(b[2]-S[0])/(S[2]-S[0]),l),M[0].length),ue=ie+6*j,ae=6*Math.max(0,K-j),he=Math.min(a.ge(M[1],(b[1]-S[1])/(S[3]-S[1]),l),M[1].length),xe=Math.min(a.gt(M[1],(b[3]-S[1])/(S[3]-S[1]),l),M[1].length),Se=le+6*he,Ae=6*Math.max(0,xe-he);x[0]=2*(I[0]-Z[1])/k-1,x[1]=(I[3]+I[1])/F-1,A[0]=Z[1]*D/k,A[1]=te[1]*D/F,Ae&&(J.color=Y[1],J.tickScale=A,J.dataAxis=p,J.screenOffset=x,s.drawArrays(s.TRIANGLES,Se,Ae)),x[0]=(I[2]+I[0])/k-1,x[1]=2*(I[1]-Z[0])/F-1,A[0]=te[0]*D/k,A[1]=Z[0]*D/F,ae&&(J.color=Y[0],J.tickScale=A,J.dataAxis=o,J.screenOffset=x,s.drawArrays(s.TRIANGLES,ue,ae)),x[0]=2*(I[2]+Z[3])/k-1,x[1]=(I[3]+I[1])/F-1,A[0]=Z[3]*D/k,A[1]=te[3]*D/F,Ae&&(J.color=Y[3],J.tickScale=A,J.dataAxis=p,J.screenOffset=x,s.drawArrays(s.TRIANGLES,Se,Ae)),x[0]=(I[2]+I[0])/k-1,x[1]=2*(I[3]+Z[2])/F-1,A[0]=te[2]*D/k,A[1]=Z[2]*D/F,ae&&(J.color=Y[2],J.tickScale=A,J.dataAxis=o,J.screenOffset=x,s.drawArrays(s.TRIANGLES,ue,ae))}}(),m.update=function(){var T=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(o){var p=o.ticks,x=o.bounds,A=new Float32Array(6*3*(p[0].length+p[1].length));this.plot.zeroLineEnable;for(var _=0,y=[[],[]],E=0;E<2;++E)for(var M=y[E],s=p[E],S=x[E],b=x[E+2],I=0;I<s.length;++I){var D=(s[I].x-S)/(b-S);M.push(D);for(var B=0;B<6;++B)A[_++]=D,A[_++]=T[B],A[_++]=c[B]}this.ticks=y,this.vbo.update(A)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(T){var c=T.gl,o=t(c),p=i(c,u.gridVert,u.gridFrag),x=i(c,u.tickVert,u.gridFrag),A=new f(T,o,p,x);return A}},4747:function(v,g,r){v.exports=l;var t=r(2762),i=r(9405),a=r(3603);function u(m,h,T){this.plot=m,this.vbo=h,this.shader=T}var f=u.prototype;f.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},f.drawLine=function(){var m=[0,0],h=[0,0];return function(T,c,o,p,x,A){var _=this.plot,y=this.shader,E=_.gl;m[0]=T,m[1]=c,h[0]=o,h[1]=p,y.uniforms.start=m,y.uniforms.end=h,y.uniforms.width=x*_.pixelRatio,y.uniforms.color=A,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(m){var h=m.gl,T=t(h,[-1,-1,-1,1,1,-1,1,1]),c=i(h,a.lineVert,a.lineFrag),o=new u(m,T,c);return o}},3603:function(v,g,r){var t=r(3236),i=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:i,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:i,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:i,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,g,r){v.exports=h;var t=r(2762),i=r(9405),a=r(529),u=r(2478),f=r(3603);function l(T,c,o){this.plot=T,this.vbo=c,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=l.prototype;m.drawTicks=function(){var T=[0,0],c=[0,0],o=[0,0];return function(p){var x=this.plot,A=this.shader,_=this.tickX[p],y=this.tickOffset[p],E=x.gl,M=x.viewBox,s=x.dataBox,S=x.screenBox,b=x.pixelRatio,I=x.tickEnable,D=x.tickPad,B=x.tickColor,k=x.tickAngle,F=x.labelEnable,N=x.labelPad,O=x.labelColor,V=x.labelAngle,X=this.labelOffset[p],ee=this.labelCount[p],ne=u.lt(_,s[p]),q=u.le(_,s[p+2]);T[0]=T[1]=0,T[p]=1,c[p]=(M[2+p]+M[p])/(S[2+p]-S[p])-1;var se=2/S[2+(p^1)]-S[p^1];c[p^1]=se*M[p^1]-1,I[p]&&(c[p^1]-=se*b*D[p],ne<q&&y[q]>y[ne]&&(A.uniforms.dataAxis=T,A.uniforms.screenOffset=c,A.uniforms.color=B[p],A.uniforms.angle=k[p],E.drawArrays(E.TRIANGLES,y[ne],y[q]-y[ne]))),F[p]&&ee&&(c[p^1]-=se*b*N[p],A.uniforms.dataAxis=o,A.uniforms.screenOffset=c,A.uniforms.color=O[p],A.uniforms.angle=V[p],E.drawArrays(E.TRIANGLES,X,ee)),c[p^1]=se*M[2+(p^1)]-1,I[p+2]&&(c[p^1]+=se*b*D[p+2],ne<q&&y[q]>y[ne]&&(A.uniforms.dataAxis=T,A.uniforms.screenOffset=c,A.uniforms.color=B[p+2],A.uniforms.angle=k[p+2],E.drawArrays(E.TRIANGLES,y[ne],y[q]-y[ne]))),F[p+2]&&ee&&(c[p^1]+=se*b*N[p+2],A.uniforms.dataAxis=o,A.uniforms.screenOffset=c,A.uniforms.color=O[p+2],A.uniforms.angle=V[p+2],E.drawArrays(E.TRIANGLES,X,ee))}}(),m.drawTitle=function(){var T=[0,0],c=[0,0];return function(){var o=this.plot,p=this.shader,x=o.gl,A=o.screenBox,_=o.titleCenter,y=o.titleAngle,E=o.titleColor,M=o.pixelRatio;if(this.titleCount){for(var s=0;s<2;++s)c[s]=2*(_[s]*M-A[s])/(A[2+s]-A[s])-1;p.bind(),p.uniforms.dataAxis=T,p.uniforms.screenOffset=c,p.uniforms.angle=y,p.uniforms.color=E,x.drawArrays(x.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var T=[0,0],c=[0,0],o=[0,0];return function(){var p=this.plot,x=this.shader,A=p._tickBounds,_=p.dataBox,y=p.screenBox,E=p.viewBox;x.bind();for(var M=0;M<2;++M){var s=A[M],S=A[M+2],b=S-s,I=.5*(_[M+2]+_[M]),D=_[M+2]-_[M],B=E[M],k=E[M+2],F=k-B,N=y[M],O=y[M+2],V=O-N;c[M]=2*b/D*F/V,T[M]=2*(s-I)/D*F/V}o[1]=2*p.pixelRatio/(y[3]-y[1]),o[0]=o[1]*(y[3]-y[1])/(y[2]-y[0]),x.uniforms.dataScale=c,x.uniforms.dataShift=T,x.uniforms.textScale=o,this.vbo.bind(),x.attributes.textCoordinate.pointer()}}(),m.update=function(T){var c=[],o=T.ticks,p=T.bounds,x,A,_,y,E;for(E=0;E<2;++E){var M=[Math.floor(c.length/3)],s=[-1/0],S=o[E];for(x=0;x<S.length;++x){var b=S[x],I=b.x,D=b.text,B=b.font||"sans-serif",k=b.fontStyle||"normal",F=b.fontWeight||"normal",N=b.fontVariant||"normal";y=b.fontSize||12;for(var O=1/(p[E+2]-p[E]),V=p[E],X=D.split(`
`),ee=0;ee<X.length;ee++)for(_=a(B,X[ee],{fontStyle:k,fontWeight:F,fontVariant:N}).data,A=0;A<_.length;A+=2)c.push(_[A]*y,-_[A+1]*y-ee*y*1.2,(I-V)*O);M.push(Math.floor(c.length/3)),s.push(I)}this.tickOffset[E]=M,this.tickX[E]=s}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(c.length/3),_=a(T.labelFont[E],T.labels[E],{fontStyle:T.labelFontStyle[E],fontWeight:T.labelFontWeight[E],fontVariant:T.labelFontVariant[E],textAlign:"center"}).data,y=T.labelSize[E],x=0;x<_.length;x+=2)c.push(_[x]*y,-_[x+1]*y,0);this.labelCount[E]=Math.floor(c.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(c.length/3),_=a(T.titleFont,T.title,{fontStyle:T.titleFontStyle,fontWeight:T.titleFontWeight,fontVariant:T.titleFontVariant}).data,y=T.titleSize,x=0;x<_.length;x+=2)c.push(_[x]*y,-_[x+1]*y,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(T){var c=T.gl,o=t(c),p=i(c,f.textVert,f.textFrag),x=new l(T,o,p);return x}},1850:function(v,g,r){v.exports=c;var t=r(3589),i=r(1913),a=r(2142),u=r(4747),f=r(8120);function l(o,p){this.gl=o,this.pickBuffer=p,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=l.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var o=this.gl,p=this.screenBox,x=this.viewBox,A=this.dataBox,_=this.pixelRatio,y=this.grid,E=this.line,M=this.text,s=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var S=this.borderColor;o.clearColor(S[0]*S[3],S[1]*S[3],S[2]*S[3],S[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),o.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var b=this.backgroundColor;o.clearColor(b[0]*b[3],b[1]*b[3],b[2]*b[3],b[3]),o.clear(o.COLOR_BUFFER_BIT),y.draw();var I=this.zeroLineEnable,D=this.zeroLineColor,B=this.zeroLineWidth;if(I[0]||I[1]){E.bind();for(var k=0;k<2;++k)if(!(!I[k]||!(A[k]<=0&&A[k+2]>=0))){var F=p[k]-A[k]*(p[k+2]-p[k])/(A[k+2]-A[k]);k===0?E.drawLine(F,p[1],F,p[3],B[k],D[k]):E.drawLine(p[0],F,p[2],F,B[k],D[k])}}for(var k=0;k<s.length;++k)s[k].draw();o.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),o.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),E.bind();var N=this.borderLineEnable,O=this.borderLineWidth,V=this.borderLineColor;N[1]&&E.drawLine(x[0],x[1]-.5*O[1]*_,x[0],x[3]+.5*O[3]*_,O[1],V[1]),N[0]&&E.drawLine(x[0]-.5*O[0]*_,x[1],x[2]+.5*O[2]*_,x[1],O[0],V[0]),N[3]&&E.drawLine(x[2],x[1]-.5*O[1]*_,x[2],x[3]+.5*O[3]*_,O[3],V[3]),N[2]&&E.drawLine(x[0]-.5*O[0]*_,x[3],x[2]+.5*O[2]*_,x[3],O[2],V[2]),M.bind();for(var k=0;k<2;++k)M.drawTicks(k);this.titleEnable&&M.drawTitle();for(var X=this.overlays,k=0;k<X.length;++k)X[k].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var p=1,x=this.objects,A=0;A<x.length;++A)p=x[A].drawPick(p);o.end()}}}(),m.pick=function(){return function(o,p){if(!this.static){var x=this.pixelRatio,A=this.pickPixelRatio,_=this.viewBox,y=Math.round((o-_[0]/x)*A)|0,E=Math.round((p-_[1]/x)*A)|0,M=this.pickBuffer.query(y,E,this.pickRadius);if(!M)return null;for(var s=M.id+(M.value[0]<<8)+(M.value[1]<<16)+(M.value[2]<<24),S=this.objects,b=0;b<S.length;++b){var I=S[b].pick(y,E,s);if(I)return I}return null}}}();function h(o){for(var p=o.slice(),x=0;x<p.length;++x)p[x]=p[x].slice();return p}function T(o,p){return o.x-p.x}m.setScreenBox=function(o){var p=this.screenBox,x=this.pixelRatio;p[0]=Math.round(o[0]*x)|0,p[1]=Math.round(o[1]*x)|0,p[2]=Math.round(o[2]*x)|0,p[3]=Math.round(o[3]*x)|0,this.setDirty()},m.setDataBox=function(o){var p=this.dataBox,x=p[0]!==o[0]||p[1]!==o[1]||p[2]!==o[2]||p[3]!==o[3];x&&(p[0]=o[0],p[1]=o[1],p[2]=o[2],p[3]=o[3],this.setDirty())},m.setViewBox=function(o){var p=this.pixelRatio,x=this.viewBox;x[0]=Math.round(o[0]*p)|0,x[1]=Math.round(o[1]*p)|0,x[2]=Math.round(o[2]*p)|0,x[3]=Math.round(o[3]*p)|0;var A=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*A)|0,Math.round((o[3]-o[1])*A)|0],this.setDirty()},m.update=function(o){o=o||{};var p=this.gl;this.pixelRatio=o.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(o.screenBox||[0,0,p.drawingBufferWidth/x,p.drawingBufferHeight/x]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var A=this.viewBox,_=(A[2]-A[0])/(A[3]-A[1]);this.setDataBox(o.dataBox||[-10,-10/_,10,10/_]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(A[0]+A[2])/x,(A[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var y=o.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var M=0;M<2;++M){var s=y[M].slice(0);s.length!==0&&(s.sort(T),E[M]=Math.min(E[M],s[0].x),E[M+2]=Math.max(E[M+2],s[s.length-1].x))}this.grid.update({bounds:E,ticks:y}),this.text.update({bounds:E,ticks:y,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],labelFontStyle:o.labelFontStyle||["normal","normal"],labelFontWeight:o.labelFontWeight||["normal","normal"],labelFontVariant:o.labelFontVariant||["normal","normal"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif",titleFontStyle:o.titleFontStyle||"normal",titleFontWeight:o.titleFontWeight||"normal",titleFontVariant:o.titleFontVariant||"normal"}),this.static=!!o.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},m.removeObject=function(o){for(var p=this.objects,x=0;x<p.length;++x)if(p[x]===o){p.splice(x,1),this.setDirty();break}},m.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},m.removeOverlay=function(o){for(var p=this.overlays,x=0;x<p.length;++x)if(p[x]===o){p.splice(x,1),this.setOverlayDirty();break}};function c(o){var p=o.gl,x=t(p,[p.drawingBufferWidth,p.drawingBufferHeight]),A=new l(p,x);return A.grid=i(A),A.text=a(A),A.line=u(A),A.box=f(A),A.update(o),A}},4437:function(v,g,r){v.exports=m;var t=r(3025),i=r(6296),a=r(351),u=r(8512),f=r(24),l=r(7520);function m(h,T){h=h||document.body,T=T||{};var c=[.01,1/0];"distanceLimits"in T&&(c[0]=T.distanceLimits[0],c[1]=T.distanceLimits[1]),"zoomMin"in T&&(c[0]=T.zoomMin),"zoomMax"in T&&(c[1]=T.zoomMax);var o=i({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:c}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,A=h.clientWidth,_=h.clientHeight,y={keyBindingMode:"rotate",enableWheel:!0,view:o,element:h,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:o.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var E=t(),M=this.delay,s=E-2*M;o.idle(E-M),o.recalcMatrix(s),o.flush(E-(100+M*2));for(var S=!0,b=o.computedMatrix,I=0;I<16;++I)S=S&&p[I]===b[I],p[I]=b[I];var D=h.clientWidth===A&&h.clientHeight===_;return A=h.clientWidth,_=h.clientHeight,S?!D:(x=Math.exp(o.computedRadius[0]),!0)},lookAt:function(E,M,s){o.lookAt(o.lastT(),E,M,s)},rotate:function(E,M,s){o.rotate(o.lastT(),E,M,s)},pan:function(E,M,s){o.pan(o.lastT(),E,M,s)},translate:function(E,M,s){o.translate(o.lastT(),E,M,s)}};return Object.defineProperties(y,{matrix:{get:function(){return o.computedMatrix},set:function(E){return o.setMatrix(o.lastT(),E),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(E){var M=o.computedUp.slice(),s=o.computedEye.slice(),S=o.computedCenter.slice();if(o.setMode(E),E==="turntable"){var b=t();o._active.lookAt(b,s,S,M),o._active.lookAt(b+500,s,S,[0,0,1]),o._active.flush(b)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(E){return o.lookAt(o.lastT(),null,E),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(E){return o.lookAt(o.lastT(),E),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(E){return o.lookAt(o.lastT(),null,null,E),o.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(E){return o.setDistance(o.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(c)},set:function(E){return o.setDistanceLimits(E),E},enumerable:!0}}),h.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),y._lastX=-1,y._lastY=-1,y._lastMods={shift:!1,control:!1,alt:!1,meta:!1},y.enableMouseListeners=function(){y.mouseListener=a(h,E),h.addEventListener("touchstart",function(M){var s=f(M.changedTouches[0],h);E(0,s[0],s[1],y._lastMods),E(1,s[0],s[1],y._lastMods)},l?{passive:!0}:!1),h.addEventListener("touchmove",function(M){var s=f(M.changedTouches[0],h);E(1,s[0],s[1],y._lastMods),M.preventDefault()},l?{passive:!1}:!1),h.addEventListener("touchend",function(M){E(0,y._lastX,y._lastY,y._lastMods)},l?{passive:!0}:!1);function E(M,s,S,b){var I=y.keyBindingMode;if(I!==!1){var D=I==="rotate",B=I==="pan",k=I==="zoom",F=!!b.control,N=!!b.alt,O=!!b.shift,V=!!(M&1),X=!!(M&2),ee=!!(M&4),ne=1/h.clientHeight,q=ne*(s-y._lastX),se=ne*(S-y._lastY),J=y.flipX?1:-1,Z=y.flipY?1:-1,te=Math.PI*y.rotateSpeed,Y=t();if(y._lastX!==-1&&y._lastY!==-1&&((D&&V&&!F&&!N&&!O||V&&!F&&!N&&O)&&o.rotate(Y,J*te*q,-Z*te*se,0),(B&&V&&!F&&!N&&!O||X||V&&F&&!N&&!O)&&o.pan(Y,-y.translateSpeed*q*x,y.translateSpeed*se*x,0),k&&V&&!F&&!N&&!O||ee||V&&!F&&N&&!O)){var ie=-y.zoomSpeed*se/window.innerHeight*(Y-o.lastT())*100;o.pan(Y,0,0,x*(Math.exp(ie)-1))}return y._lastX=s,y._lastY=S,y._lastMods=b,!0}}y.wheelListener=u(h,function(M,s){if(y.keyBindingMode!==!1&&y.enableWheel){var S=y.flipX?1:-1,b=y.flipY?1:-1,I=t();if(Math.abs(M)>Math.abs(s))o.rotate(I,0,0,-M*S*Math.PI*y.rotateSpeed/window.innerWidth);else if(!y._ortho){var D=-y.zoomSpeed*b*s/window.innerHeight*(I-o.lastT())/20;o.pan(I,0,0,x*(Math.exp(D)-1))}}},!0)},y.enableMouseListeners(),y}},799:function(v,g,r){var t=r(3236),i=r(9405),a=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),u=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(f){return i(f,a,u,null,[{name:"position",type:"vec2"}])}},4100:function(v,g,r){var t=r(4437),i=r(3837),a=r(5445),u=r(4449),f=r(3589),l=r(2260),m=r(7169),h=r(351),T=r(4772),c=r(4040),o=r(799),p=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:E,createCamera:t};function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function A(s,S){var b=null;try{b=s.getContext("webgl",S),b||(b=s.getContext("experimental-webgl",S))}catch{return null}return b}function _(s){var S=Math.round(Math.log(Math.abs(s))/Math.log(10));if(S<0){var b=Math.round(Math.pow(10,-S));return Math.ceil(s*b)/b}else if(S>0){var b=Math.round(Math.pow(10,S));return Math.ceil(s/b)*b}return Math.ceil(s)}function y(s){return typeof s=="boolean"?s:!0}function E(s){s=s||{},s.camera=s.camera||{};var S=s.canvas;if(!S)if(S=document.createElement("canvas"),s.container){var b=s.container;b.appendChild(S)}else document.body.appendChild(S);var I=s.gl;if(I||(s.glOptions&&(p=!!s.glOptions.preserveDrawingBuffer),I=A(S,s.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!I)throw new Error("webgl not supported");var D=s.bounds||[[-10,-10,-10],[10,10,10]],B=new x,k=l(I,I.drawingBufferWidth,I.drawingBufferHeight,{preferFloat:!p}),F=o(I),N=s.cameraObject&&s.cameraObject._ortho===!0||s.camera.projection&&s.camera.projection.type==="orthographic"||!1,O={eye:s.camera.eye||[2,0,0],center:s.camera.center||[0,0,0],up:s.camera.up||[0,1,0],zoomMin:s.camera.zoomMax||.1,zoomMax:s.camera.zoomMin||100,mode:s.camera.mode||"turntable",_ortho:N},V=s.axes||{},X=i(I,V);X.enable=!V.disable;var ee=s.spikes||{},ne=u(I,ee),q=[],se=[],J=[],Z=[],te=!0,j=!0,Y=new Array(16),ie=new Array(16),le={view:null,projection:Y,model:ie,_ortho:!1},j=!0,K=[I.drawingBufferWidth,I.drawingBufferHeight],ue=s.cameraObject||t(S,O),ae={gl:I,contextLost:!1,pixelRatio:s.pixelRatio||1,canvas:S,selection:B,camera:ue,axes:X,axesPixels:null,spikes:ne,bounds:D,objects:q,shape:K,aspect:s.aspectRatio||[1,1,1],pickRadius:s.pickRadius||10,zNear:s.zNear||.01,zFar:s.zFar||1e3,fovy:s.fovy||Math.PI/4,clearColor:s.clearColor||[0,0,0,0],autoResize:y(s.autoResize),autoBounds:y(s.autoBounds),autoScale:!!s.autoScale,autoCenter:y(s.autoCenter),clipToBounds:y(s.clipToBounds),snapToData:!!s.snapToData,onselect:s.onselect||null,onrender:s.onrender||null,onclick:s.onclick||null,cameraParams:le,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ve){this.aspect[0]=Ve.x,this.aspect[1]=Ve.y,this.aspect[2]=Ve.z,j=!0},setBounds:function(Ve,Ge){this.bounds[0][Ve]=Ge.min,this.bounds[1][Ve]=Ge.max},setClearColor:function(Ve){this.clearColor=Ve},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[I.drawingBufferWidth/ae.pixelRatio|0,I.drawingBufferHeight/ae.pixelRatio|0];function xe(){if(!ae._stopped&&ae.autoResize){var Ve=S.parentNode,Ge=1,Fe=1;Ve&&Ve!==document.body?(Ge=Ve.clientWidth,Fe=Ve.clientHeight):(Ge=window.innerWidth,Fe=window.innerHeight);var He=Math.ceil(Ge*ae.pixelRatio)|0,ft=Math.ceil(Fe*ae.pixelRatio)|0;if(He!==S.width||ft!==S.height){S.width=He,S.height=ft;var gt=S.style;gt.position=gt.position||"absolute",gt.left="0px",gt.top="0px",gt.width=Ge+"px",gt.height=Fe+"px",te=!0}}}ae.autoResize&&xe(),window.addEventListener("resize",xe);function Se(){for(var Ve=q.length,Ge=Z.length,Fe=0;Fe<Ge;++Fe)J[Fe]=0;e:for(var Fe=0;Fe<Ve;++Fe){var He=q[Fe],ft=He.pickSlots;if(!ft){se[Fe]=-1;continue}for(var gt=0;gt<Ge;++gt)if(J[gt]+ft<255){se[Fe]=gt,He.setPickBase(J[gt]+1),J[gt]+=ft;continue e}var ct=f(I,K);se[Fe]=Ge,Z.push(ct),J.push(ft),He.setPickBase(1),Ge+=1}for(;Ge>0&&J[Ge-1]===0;)J.pop(),Z.pop().dispose()}ae.update=function(Ve){ae._stopped||(te=!0,j=!0)},ae.add=function(Ve){ae._stopped||(Ve.axes=X,q.push(Ve),se.push(-1),te=!0,j=!0,Se())},ae.remove=function(Ve){if(!ae._stopped){var Ge=q.indexOf(Ve);Ge<0||(q.splice(Ge,1),se.pop(),te=!0,j=!0,Se())}},ae.dispose=function(){if(!ae._stopped&&(ae._stopped=!0,window.removeEventListener("resize",xe),S.removeEventListener("webglcontextlost",Ae),ae.mouseListener.enabled=!1,!ae.contextLost)){X.dispose(),ne.dispose();for(var Ve=0;Ve<q.length;++Ve)q[Ve].dispose();k.dispose();for(var Ve=0;Ve<Z.length;++Ve)Z[Ve].dispose();F.dispose(),I=null,X=null,ne=null,q=[]}},ae._mouseRotating=!1,ae._prevButtons=0,ae.enableMouseListeners=function(){ae.mouseListener=h(S,function(Ve,Ge,Fe){if(!ae._stopped){var He=Z.length,ft=q.length,gt=B.object;B.distance=1/0,B.mouse[0]=Ge,B.mouse[1]=Fe,B.object=null,B.screen=null,B.dataCoordinate=B.dataPosition=null;var ct=!1;if(Ve&&ae._prevButtons)ae._mouseRotating=!0;else{ae._mouseRotating&&(j=!0),ae._mouseRotating=!1;for(var nt=0;nt<He;++nt){var dt=Z[nt].query(Ge,he[1]-Fe-1,ae.pickRadius);if(dt){if(dt.distance>B.distance)continue;for(var pt=0;pt<ft;++pt){var wt=q[pt];if(se[pt]===nt){var Tt=wt.pick(dt);Tt&&(B.buttons=Ve,B.screen=dt.coord,B.distance=dt.distance,B.object=wt,B.index=Tt.distance,B.dataPosition=Tt.position,B.dataCoordinate=Tt.dataCoordinate,B.data=Tt,ct=!0)}}}}}gt&&gt!==B.object&&(gt.highlight&&gt.highlight(null),te=!0),B.object&&(B.object.highlight&&B.object.highlight(B.data),te=!0),ct=ct||B.object!==gt,ct&&ae.onselect&&ae.onselect(B),Ve&1&&!(ae._prevButtons&1)&&ae.onclick&&ae.onclick(B),ae._prevButtons=Ve}})};function Ae(){if(ae.contextLost)return!0;I.isContextLost()&&(ae.contextLost=!0,ae.mouseListener.enabled=!1,ae.selection.object=null,ae.oncontextloss&&ae.oncontextloss())}S.addEventListener("webglcontextlost",Ae);function De(){if(!Ae()){I.colorMask(!0,!0,!0,!0),I.depthMask(!0),I.disable(I.BLEND),I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL);for(var Ve=q.length,Ge=Z.length,Fe=0;Fe<Ge;++Fe){var He=Z[Fe];He.shape=he,He.begin();for(var ft=0;ft<Ve;++ft)if(se[ft]===Fe){var gt=q[ft];gt.drawPick&&(gt.pixelRatio=1,gt.drawPick(le))}He.end()}}}var we=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ce=[we[0].slice(),we[1].slice()];function be(){if(!Ae()){xe();var Ve=ae.camera.tick();le.view=ae.camera.matrix,te=te||Ve,j=j||Ve,X.pixelRatio=ae.pixelRatio,ne.pixelRatio=ae.pixelRatio;var Ge=q.length,Fe=we[0],He=we[1];Fe[0]=Fe[1]=Fe[2]=1/0,He[0]=He[1]=He[2]=-1/0;for(var ft=0;ft<Ge;++ft){var gt=q[ft];gt.pixelRatio=ae.pixelRatio,gt.axes=ae.axes,te=te||!!gt.dirty,j=j||!!gt.dirty;var ct=gt.bounds;if(ct)for(var nt=ct[0],dt=ct[1],pt=0;pt<3;++pt)Fe[pt]=Math.min(Fe[pt],nt[pt]),He[pt]=Math.max(He[pt],dt[pt])}var wt=ae.bounds;if(ae.autoBounds)for(var pt=0;pt<3;++pt){if(He[pt]<Fe[pt])Fe[pt]=-1,He[pt]=1;else{Fe[pt]===He[pt]&&(Fe[pt]-=1,He[pt]+=1);var Tt=.05*(He[pt]-Fe[pt]);Fe[pt]=Fe[pt]-Tt,He[pt]=He[pt]+Tt}wt[0][pt]=Fe[pt],wt[1][pt]=He[pt]}for(var Ct=!1,pt=0;pt<3;++pt)Ct=Ct||Ce[0][pt]!==wt[0][pt]||Ce[1][pt]!==wt[1][pt],Ce[0][pt]=wt[0][pt],Ce[1][pt]=wt[1][pt];if(j=j||Ct,te=te||Ct,!!te){if(Ct){for(var at=[0,0,0],ft=0;ft<3;++ft)at[ft]=_((wt[1][ft]-wt[0][ft])/10);X.autoTicks?X.update({bounds:wt,tickSpacing:at}):X.update({bounds:wt})}var ze=I.drawingBufferWidth,je=I.drawingBufferHeight;K[0]=ze,K[1]=je,he[0]=Math.max(ze/ae.pixelRatio,1)|0,he[1]=Math.max(je/ae.pixelRatio,1)|0,M(ae,N);for(var ft=0;ft<Ge;++ft){var gt=q[ft];gt.axesBounds=wt,ae.clipToBounds&&(gt.clipBounds=wt)}B.object&&(ae.snapToData?ne.position=B.dataCoordinate:ne.position=B.dataPosition,ne.bounds=wt),j&&(j=!1,De()),ae.axesPixels=a(ae.axes,le,ze,je),ae.onrender&&ae.onrender(),I.bindFramebuffer(I.FRAMEBUFFER,null),I.viewport(0,0,ze,je),ae.clearRGBA(),I.depthMask(!0),I.colorMask(!0,!0,!0,!0),I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL),I.disable(I.BLEND),I.disable(I.CULL_FACE);var Je=!1;X.enable&&(Je=Je||X.isTransparent(),X.draw(le)),ne.axes=X,B.object&&ne.draw(le),I.disable(I.CULL_FACE);for(var ft=0;ft<Ge;++ft){var gt=q[ft];gt.axes=X,gt.pixelRatio=ae.pixelRatio,gt.isOpaque&&gt.isOpaque()&&gt.draw(le),gt.isTransparent&&gt.isTransparent()&&(Je=!0)}if(Je){k.shape=K,k.bind(),I.clear(I.DEPTH_BUFFER_BIT),I.colorMask(!1,!1,!1,!1),I.depthMask(!0),I.depthFunc(I.LESS),X.enable&&X.isTransparent()&&X.drawTransparent(le);for(var ft=0;ft<Ge;++ft){var gt=q[ft];gt.isOpaque&&gt.isOpaque()&&gt.draw(le)}I.enable(I.BLEND),I.blendEquation(I.FUNC_ADD),I.blendFunc(I.ONE,I.ONE_MINUS_SRC_ALPHA),I.colorMask(!0,!0,!0,!0),I.depthMask(!1),I.clearColor(0,0,0,0),I.clear(I.COLOR_BUFFER_BIT),X.isTransparent()&&X.drawTransparent(le);for(var ft=0;ft<Ge;++ft){var gt=q[ft];gt.isTransparent&&gt.isTransparent()&&gt.drawTransparent(le)}I.bindFramebuffer(I.FRAMEBUFFER,null),I.blendFunc(I.ONE,I.ONE_MINUS_SRC_ALPHA),I.disable(I.DEPTH_TEST),F.bind(),k.color[0].bind(0),F.uniforms.accumBuffer=0,m(I),I.disable(I.BLEND)}te=!1;for(var ft=0;ft<Ge;++ft)q[ft].dirty=!1}}}function Pe(){ae._stopped||ae.contextLost||(be(),requestAnimationFrame(Pe))}return ae.enableMouseListeners(),Pe(),ae.redraw=function(){ae._stopped||(te=!0,be())},ae}function M(s,S){var b=s.bounds,I=s.cameraParams,D=I.projection,B=I.model,k=s.gl.drawingBufferWidth,F=s.gl.drawingBufferHeight,N=s.zNear,O=s.zFar,V=s.fovy,X=k/F;S?(c(D,-X,X,-1,1,N,O),I._ortho=!0):(T(D,V,X,N,O),I._ortho=!1);for(var ee=0;ee<16;++ee)B[ee]=0;B[15]=1;for(var ne=0,ee=0;ee<3;++ee)ne=Math.max(ne,b[1][ee]-b[0][ee]);for(var ee=0;ee<3;++ee)s.autoScale?B[5*ee]=s.aspect[ee]/(b[1][ee]-b[0][ee]):B[5*ee]=1/ne,s.autoCenter&&(B[12+ee]=-B[5*ee]*.5*(b[0][ee]+b[1][ee]))}},6640:function(v,g,r){var t=r(3236);g.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),g.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),g.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),g.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,g,r){var t=r(9405),i=r(2762),a=r(1888),u=r(6640);v.exports=h;function f(T,c,o,p,x){this.plot=T,this.offsetBuffer=c,this.pickBuffer=o,this.shader=p,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=f.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(T){var c;T=T||{};function o(M,s){return M in T?T[M]:s}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var p=T.positions.length>>>1,x=T.positions instanceof Float32Array,A=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=p,_=T.positions,y=x?_:a.mallocFloat32(_.length),E=A?T.idToIndex:a.mallocInt32(p);if(x||y.set(_),!A)for(y.set(_),c=0;c<p;c++)E[c]=c;this.points=_,this.offsetBuffer.update(y),this.pickBuffer.update(E),x||a.free(y),A||a.free(E),this.pointCount=p,this.pickOffset=0};function m(T,c){var o=0,p=T.length>>>1,x;for(x=0;x<p;x++){var A=T[x*2],_=T[x*2+1];A>=c[0]&&A<=c[2]&&_>=c[1]&&_<=c[3]&&o++}return o}l.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(o){var p=o!==void 0,x=p?this.pickShader:this.shader,A=this.plot.gl,_=this.plot.dataBox;if(this.pointCount===0)return o;var y=_[2]-_[0],E=_[3]-_[1],M=m(this.points,_),s=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(M,.33333)));T[0]=2/y,T[4]=2/E,T[6]=-2*_[0]/y-1,T[7]=-2*_[1]/E-1,this.offsetBuffer.bind(),x.bind(),x.attributes.position.pointer(),x.uniforms.matrix=T,x.uniforms.color=this.color,x.uniforms.borderColor=this.borderColor,x.uniforms.pointCloud=s<5,x.uniforms.pointSize=s,x.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(c[0]=o&255,c[1]=o>>8&255,c[2]=o>>16&255,c[3]=o>>24&255,this.pickBuffer.bind(),x.attributes.pickId.pointer(A.UNSIGNED_BYTE),x.uniforms.pickOffset=c,this.pickOffset=o);var S=A.getParameter(A.BLEND),b=A.getParameter(A.DITHER);return S&&!this.blend&&A.disable(A.BLEND),b&&A.disable(A.DITHER),A.drawArrays(A.POINTS,0,this.pointCount),S&&!this.blend&&A.enable(A.BLEND),b&&A.enable(A.DITHER),o+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(T,c,o){var p=this.pickOffset,x=this.pointCount;if(o<p||o>=p+x)return null;var A=o-p,_=this.points;return{object:this,pointId:A,dataCoord:[_[2*A],_[2*A+1]]}};function h(T,c){var o=T.gl,p=i(o),x=i(o),A=t(o,u.pointVertex,u.pointFragment),_=t(o,u.pickVertex,u.pickFragment),y=new f(T,p,x,A,_);return y.update(c),T.addObject(y),y}},783:function(v){v.exports=g;function g(r,t,i,a){var u=t[0],f=t[1],l=t[2],m=t[3],h=i[0],T=i[1],c=i[2],o=i[3],p,x,A,_,y;return x=u*h+f*T+l*c+m*o,x<0&&(x=-x,h=-h,T=-T,c=-c,o=-o),1-x>1e-6?(p=Math.acos(x),A=Math.sin(p),_=Math.sin((1-a)*p)/A,y=Math.sin(a*p)/A):(_=1-a,y=a),r[0]=_*u+y*h,r[1]=_*f+y*T,r[2]=_*l+y*c,r[3]=_*m+y*o,r}},5964:function(v){v.exports=function(g){return!g&&g!==0?"":g.toString()}},9366:function(v,g,r){var t=r(4359);v.exports=a;var i={};function a(u,f,l){var m=[f.style,f.weight,f.variant,f.family].join("_"),h=i[m];if(h||(h=i[m]={}),u in h)return h[u];var T={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f.family,fontStyle:f.style,fontWeight:f.weight,fontVariant:f.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};T.triangles=!0;var c=t(u,T);T.triangles=!1;var o=t(u,T),p,x;if(l&&l!==1){for(p=0;p<c.positions.length;++p)for(x=0;x<c.positions[p].length;++x)c.positions[p][x]/=l;for(p=0;p<o.positions.length;++p)for(x=0;x<o.positions[p].length;++x)o.positions[p][x]/=l}var A=[[1/0,1/0],[-1/0,-1/0]],_=o.positions.length;for(p=0;p<_;++p){var y=o.positions[p];for(x=0;x<2;++x)A[0][x]=Math.min(A[0][x],y[x]),A[1][x]=Math.max(A[1][x],y[x])}return h[u]=[c,o,A]}},1283:function(v,g,r){var t=r(9405),i=r(3236),a=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:a,fragment:l,attributes:h},c={vertex:u,fragment:l,attributes:h},o={vertex:f,fragment:l,attributes:h},p={vertex:a,fragment:m,attributes:h},x={vertex:u,fragment:m,attributes:h},A={vertex:f,fragment:m,attributes:h};function _(y,E){var M=t(y,E),s=M.attributes;return s.position.location=0,s.color.location=1,s.glyph.location=2,s.id.location=3,M}g.createPerspective=function(y){return _(y,T)},g.createOrtho=function(y){return _(y,c)},g.createProject=function(y){return _(y,o)},g.createPickPerspective=function(y){return _(y,p)},g.createPickOrtho=function(y){return _(y,x)},g.createPickProject=function(y){return _(y,A)}},8418:function(v,g,r){var t=r(5219),i=r(2762),a=r(8116),u=r(1888),f=r(6760),l=r(1283),m=r(9366),h=r(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=se;function c(J,Z){var te=J[0],Y=J[1],ie=J[2],le=J[3];return J[0]=Z[0]*te+Z[4]*Y+Z[8]*ie+Z[12]*le,J[1]=Z[1]*te+Z[5]*Y+Z[9]*ie+Z[13]*le,J[2]=Z[2]*te+Z[6]*Y+Z[10]*ie+Z[14]*le,J[3]=Z[3]*te+Z[7]*Y+Z[11]*ie+Z[15]*le,J}function o(J,Z,te,Y){return c(Y,Y),c(Y,Y),c(Y,Y)}function p(J,Z){this.index=J,this.dataCoordinate=this.position=Z}function x(J){return J===!0||J>1?1:J}function A(J,Z,te,Y,ie,le,j,K,ue,ae,he,xe){this.gl=J,this.pixelRatio=1,this.shader=Z,this.orthoShader=te,this.projectShader=Y,this.pointBuffer=ie,this.colorBuffer=le,this.glyphBuffer=j,this.idBuffer=K,this.vao=ue,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ae,this.pickOrthoShader=he,this.pickProjectShader=xe,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var _=A.prototype;_.pickSlots=1,_.setPickBase=function(J){this.pickId=J},_.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},_.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var y=[0,0],E=[0,0,0],M=[0,0,0],s=[0,0,0,1],S=[0,0,0,1],b=T.slice(),I=[0,0,0],D=[[0,0,0],[0,0,0]];function B(J){return J[0]=J[1]=J[2]=0,J}function k(J,Z){return J[0]=Z[0],J[1]=Z[1],J[2]=Z[2],J[3]=1,J}function F(J,Z,te,Y){return J[0]=Z[0],J[1]=Z[1],J[2]=Z[2],J[te]=Y,J}function N(J){for(var Z=D,te=0;te<2;++te)for(var Y=0;Y<3;++Y)Z[te][Y]=Math.max(Math.min(J[te][Y],1e8),-1e8);return Z}function O(J,Z,te,Y){var ie=Z.axesProject,le=Z.gl,j=J.uniforms,K=te.model||T,ue=te.view||T,ae=te.projection||T,he=Z.axesBounds,xe=N(Z.clipBounds),Se;Z.axes&&Z.axes.lastCubeProps?Se=Z.axes.lastCubeProps.axis:Se=[1,1,1],y[0]=2/le.drawingBufferWidth,y[1]=2/le.drawingBufferHeight,J.bind(),j.view=ue,j.projection=ae,j.screenSize=y,j.highlightId=Z.highlightId,j.highlightScale=Z.highlightScale,j.clipBounds=xe,j.pickGroup=Z.pickId/255,j.pixelRatio=Y;for(var Ae=0;Ae<3;++Ae)if(ie[Ae]){j.scale=Z.projectScale[Ae],j.opacity=Z.projectOpacity[Ae];for(var De=b,we=0;we<16;++we)De[we]=0;for(var we=0;we<4;++we)De[5*we]=1;De[5*Ae]=0,Se[Ae]<0?De[12+Ae]=he[0][Ae]:De[12+Ae]=he[1][Ae],f(De,K,De),j.model=De;var Ce=(Ae+1)%3,be=(Ae+2)%3,Pe=B(E),Ve=B(M);Pe[Ce]=1,Ve[be]=1;var Ge=o(ae,ue,K,k(s,Pe)),Fe=o(ae,ue,K,k(S,Ve));if(Math.abs(Ge[1])>Math.abs(Fe[1])){var He=Ge;Ge=Fe,Fe=He,He=Pe,Pe=Ve,Ve=He;var ft=Ce;Ce=be,be=ft}Ge[0]<0&&(Pe[Ce]=-1),Fe[1]>0&&(Ve[be]=-1);for(var gt=0,ct=0,we=0;we<4;++we)gt+=Math.pow(K[4*Ce+we],2),ct+=Math.pow(K[4*be+we],2);Pe[Ce]/=Math.sqrt(gt),Ve[be]/=Math.sqrt(ct),j.axes[0]=Pe,j.axes[1]=Ve,j.fragClipBounds[0]=F(I,xe[0],Ae,-1e8),j.fragClipBounds[1]=F(I,xe[1],Ae,1e8),Z.vao.bind(),Z.vao.draw(le.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(le.lineWidth(Z.lineWidth*Y),Z.vao.draw(le.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}var V=[-1e8,-1e8,-1e8],X=[1e8,1e8,1e8],ee=[V,X];function ne(J,Z,te,Y,ie,le,j){var K=te.gl;if((le===te.projectHasAlpha||j)&&O(Z,te,Y,ie),le===te.hasAlpha||j){J.bind();var ue=J.uniforms;ue.model=Y.model||T,ue.view=Y.view||T,ue.projection=Y.projection||T,y[0]=2/K.drawingBufferWidth,y[1]=2/K.drawingBufferHeight,ue.screenSize=y,ue.highlightId=te.highlightId,ue.highlightScale=te.highlightScale,ue.fragClipBounds=ee,ue.clipBounds=te.axes.bounds,ue.opacity=te.opacity,ue.pickGroup=te.pickId/255,ue.pixelRatio=ie,te.vao.bind(),te.vao.draw(K.TRIANGLES,te.vertexCount),te.lineWidth>0&&(K.lineWidth(te.lineWidth*ie),te.vao.draw(K.LINES,te.lineVertexCount,te.vertexCount)),te.vao.unbind()}}_.draw=function(J){var Z=this.useOrtho?this.orthoShader:this.shader;ne(Z,this.projectShader,this,J,this.pixelRatio,!1,!1)},_.drawTransparent=function(J){var Z=this.useOrtho?this.orthoShader:this.shader;ne(Z,this.projectShader,this,J,this.pixelRatio,!0,!1)},_.drawPick=function(J){var Z=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ne(Z,this.pickProjectShader,this,J,1,!0,!0)},_.pick=function(J){if(!J||J.id!==this.pickId)return null;var Z=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(Z>=this.pointCount||Z<0)return null;var te=this.points[Z],Y=this._selectResult;Y.index=Z;for(var ie=0;ie<3;++ie)Y.position[ie]=Y.dataCoordinate[ie]=te[ie];return Y},_.highlight=function(J){if(!J)this.highlightId=[1,1,1,1];else{var Z=J.index,te=Z&255,Y=Z>>8&255,ie=Z>>16&255;this.highlightId=[te/255,Y/255,ie/255,0]}};function q(J,Z,te,Y){var ie;Array.isArray(J)?Z<J.length?ie=J[Z]:ie=void 0:ie=J,ie=h(ie);var le=!0;t(ie)&&(ie="",le=!1),te||(te={});var j=te.family;Array.isArray(j)&&(j=j[Z]),j||(j="normal");var K=te.weight;Array.isArray(K)&&(K=K[Z]),K||(K="normal");var ue=te.style;Array.isArray(ue)&&(ue=ue[Z]),ue||(ue="normal");var ae=te.variant;Array.isArray(ae)&&(ae=ae[Z]),ae||(ae="normal");var he=m(ie,{family:j,weight:K,style:ue,variant:ae},Y),he=m(ie,te,Y);return{mesh:he[0],lines:he[1],bounds:he[2],visible:le}}_.update=function(J){if(J=J||{},"perspective"in J&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(Array.isArray(J.project))this.axesProject=J.project;else{var Z=!!J.project;this.axesProject=[Z,Z,Z]}if("projectScale"in J)if(Array.isArray(J.projectScale))this.projectScale=J.projectScale.slice();else{var te=+J.projectScale;this.projectScale=[te,te,te]}if(this.projectHasAlpha=!1,"projectOpacity"in J){if(Array.isArray(J.projectOpacity))this.projectOpacity=J.projectOpacity.slice();else{var te=+J.projectOpacity;this.projectOpacity=[te,te,te]}for(var Y=0;Y<3;++Y)this.projectOpacity[Y]=x(this.projectOpacity[Y]),this.projectOpacity[Y]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=x(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ie=J.position,le={family:J.font||"normal",style:J.fontStyle||"normal",weight:J.fontWeight||"normal",variant:J.fontVariant||"normal"},j=J.alignment||[0,0],K,ue;if(j.length===2)K=j[0],ue=j[1];else{K=[],ue=[];for(var Y=0;Y<j.length;++Y)K[Y]=j[Y][0],ue[Y]=j[Y][1]}var ae=[1/0,1/0,1/0],he=[-1/0,-1/0,-1/0],xe=J.glyph,Se=J.color,Ae=J.size,De=J.angle,we=J.lineColor,Ce=-1,be=0,Pe=0,Ve=0;if(ie.length){Ve=ie.length;e:for(var Y=0;Y<Ve;++Y){for(var Ge=ie[Y],Fe=0;Fe<3;++Fe)if(isNaN(Ge[Fe])||!isFinite(Ge[Fe]))continue e;var He=q(xe,Y,le,this.pixelRatio),ft=He.mesh,gt=He.lines,ct=He.bounds;be+=ft.cells.length*3,Pe+=gt.edges.length*2}}var nt=be+Pe,dt=u.mallocFloat(3*nt),pt=u.mallocFloat(4*nt),wt=u.mallocFloat(2*nt),Tt=u.mallocUint32(nt);if(nt>0){var Ct=0,at=be,ze=[0,0,0,1],je=[0,0,0,1],Je=Array.isArray(Se)&&Array.isArray(Se[0]),Xe=Array.isArray(we)&&Array.isArray(we[0]);e:for(var Y=0;Y<Ve;++Y){Ce+=1;for(var Ge=ie[Y],Fe=0;Fe<3;++Fe){if(isNaN(Ge[Fe])||!isFinite(Ge[Fe]))continue e;he[Fe]=Math.max(he[Fe],Ge[Fe]),ae[Fe]=Math.min(ae[Fe],Ge[Fe])}var He=q(xe,Y,le,this.pixelRatio),ft=He.mesh,gt=He.lines,ct=He.bounds,Oe=He.visible;if(!Oe)ze=[1,1,1,0];else if(Array.isArray(Se)){var ke;if(Je?Y<Se.length?ke=Se[Y]:ke=[0,0,0,0]:ke=Se,ke.length===3){for(var Fe=0;Fe<3;++Fe)ze[Fe]=ke[Fe];ze[3]=1}else if(ke.length===4){for(var Fe=0;Fe<4;++Fe)ze[Fe]=ke[Fe];!this.hasAlpha&&ke[3]<1&&(this.hasAlpha=!0)}}else ze[0]=ze[1]=ze[2]=0,ze[3]=1;if(!Oe)je=[1,1,1,0];else if(Array.isArray(we)){var ke;if(Xe?Y<we.length?ke=we[Y]:ke=[0,0,0,0]:ke=we,ke.length===3){for(var Fe=0;Fe<3;++Fe)je[Fe]=ke[Fe];je[Fe]=1}else if(ke.length===4){for(var Fe=0;Fe<4;++Fe)je[Fe]=ke[Fe];!this.hasAlpha&&ke[3]<1&&(this.hasAlpha=!0)}}else je[0]=je[1]=je[2]=0,je[3]=1;var Ke=.5;Oe?Array.isArray(Ae)?Y<Ae.length?Ke=+Ae[Y]:Ke=12:Ae?Ke=+Ae:this.useOrtho&&(Ke=12):Ke=0;var Ie=0;Array.isArray(De)?Y<De.length?Ie=+De[Y]:Ie=0:De&&(Ie=+De);for(var pe=Math.cos(Ie),Te=Math.sin(Ie),Ge=ie[Y],Fe=0;Fe<3;++Fe)he[Fe]=Math.max(he[Fe],Ge[Fe]),ae[Fe]=Math.min(ae[Fe],Ge[Fe]);var Ue=K,et=ue,Ue=0;Array.isArray(K)?Y<K.length?Ue=K[Y]:Ue=0:K&&(Ue=K);var et=0;Array.isArray(ue)?Y<ue.length?et=ue[Y]:et=0:ue&&(et=ue),Ue*=Ue>0?1-ct[0][0]:Ue<0?1+ct[1][0]:1,et*=et>0?1-ct[0][1]:et<0?1+ct[1][1]:1;for(var st=[Ue,et],Rt=ft.cells||[],$t=ft.positions||[],Fe=0;Fe<Rt.length;++Fe)for(var lt=Rt[Fe],jt=0;jt<3;++jt){for(var Jt=0;Jt<3;++Jt)dt[3*Ct+Jt]=Ge[Jt];for(var Jt=0;Jt<4;++Jt)pt[4*Ct+Jt]=ze[Jt];Tt[Ct]=Ce;var St=$t[lt[jt]];wt[2*Ct]=Ke*(pe*St[0]-Te*St[1]+st[0]),wt[2*Ct+1]=Ke*(Te*St[0]+pe*St[1]+st[1]),Ct+=1}for(var Rt=gt.edges,$t=gt.positions,Fe=0;Fe<Rt.length;++Fe)for(var lt=Rt[Fe],jt=0;jt<2;++jt){for(var Jt=0;Jt<3;++Jt)dt[3*at+Jt]=Ge[Jt];for(var Jt=0;Jt<4;++Jt)pt[4*at+Jt]=je[Jt];Tt[at]=Ce;var St=$t[lt[jt]];wt[2*at]=Ke*(pe*St[0]-Te*St[1]+st[0]),wt[2*at+1]=Ke*(Te*St[0]+pe*St[1]+st[1]),at+=1}}}this.bounds=[ae,he],this.points=ie,this.pointCount=ie.length,this.vertexCount=be,this.lineVertexCount=Pe,this.pointBuffer.update(dt),this.colorBuffer.update(pt),this.glyphBuffer.update(wt),this.idBuffer.update(Tt),u.free(dt),u.free(pt),u.free(wt),u.free(Tt)},_.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function se(J){var Z=J.gl,te=l.createPerspective(Z),Y=l.createOrtho(Z),ie=l.createProject(Z),le=l.createPickPerspective(Z),j=l.createPickOrtho(Z),K=l.createPickProject(Z),ue=i(Z),ae=i(Z),he=i(Z),xe=i(Z),Se=a(Z,[{buffer:ue,size:3,type:Z.FLOAT},{buffer:ae,size:4,type:Z.FLOAT},{buffer:he,size:2,type:Z.FLOAT},{buffer:xe,size:4,type:Z.UNSIGNED_BYTE,normalized:!0}]),Ae=new A(Z,te,Y,ie,ue,ae,he,xe,Se,le,j,K);return Ae.update(J),Ae}},4298:function(v,g,r){var t=r(3236);g.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),g.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,g,r){var t=r(9405),i=r(2762),a=r(4298);v.exports=l;function u(m,h,T){this.plot=m,this.boxBuffer=h,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var f=u.prototype;f.draw=function(){if(this.enabled){var m=this.plot,h=this.selectBox,T=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var o=this.outerColor,p=this.borderColor,x=m.box,A=m.screenBox,_=m.dataBox,y=m.viewBox,E=m.pixelRatio,M=(h[0]-_[0])*(y[2]-y[0])/(_[2]-_[0])+y[0],s=(h[1]-_[1])*(y[3]-y[1])/(_[3]-_[1])+y[1],S=(h[2]-_[0])*(y[2]-y[0])/(_[2]-_[0])+y[0],b=(h[3]-_[1])*(y[3]-y[1])/(_[3]-_[1])+y[1];if(M=Math.max(M,y[0]),s=Math.max(s,y[1]),S=Math.min(S,y[2]),b=Math.min(b,y[3]),!(S<M||b<s)){x.bind();var I=A[2]-A[0],D=A[3]-A[1];if(this.outerFill&&(x.drawBox(0,0,I,s,o),x.drawBox(0,s,M,b,o),x.drawBox(0,b,I,D,o),x.drawBox(S,s,I,b,o)),this.innerFill&&x.drawBox(M,s,S,b,c),T>0){var B=T*E;x.drawBox(M-B,s-B,S+B,s+B,p),x.drawBox(M-B,b-B,S+B,b+B,p),x.drawBox(M-B,s-B,M+B,b+B,p),x.drawBox(S-B,s-B,S+B,b+B,p)}}}},f.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(m,h){var T=m.gl,c=i(T,[0,0,0,1,1,0,1,1]),o=t(T,a.boxVertex,a.boxFragment),p=new u(m,c,o);return p.update(h),m.addOverlay(p),p}},3589:function(v,g,r){v.exports=T;var t=r(2260),i=r(1888),a=r(9618),u=r(8828).nextPow2,f=function(c,o,p){for(var x=1e8,A=-1,_=-1,y=c.shape[0],E=c.shape[1],M=0;M<y;M++)for(var s=0;s<E;s++){var S=c.get(M,s,0),b=c.get(M,s,1),I=c.get(M,s,2),D=c.get(M,s,3);if(S<255||b<255||I<255||D<255){var B=o-M,k=p-s,F=B*B+k*k;F<x&&(x=F,A=M,_=s)}}return[A,_,x]};function l(c,o,p,x,A){this.coord=[c,o],this.id=p,this.value=x,this.distance=A}function m(c,o,p){this.gl=c,this.fbo=o,this.buffer=p,this._readTimeout=null;var x=this;this._readCallback=function(){x.gl&&(o.bind(),c.readPixels(0,0,o.shape[0],o.shape[1],c.RGBA,c.UNSIGNED_BYTE,x.buffer),x._readTimeout=null)}}var h=m.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var o=this.fbo.shape[0],p=this.fbo.shape[1];if(p*o*4>this.buffer.length){i.free(this.buffer);for(var x=this.buffer=i.mallocUint8(u(p*o*4)),A=0;A<p*o*4;++A)x[A]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,o,p){if(!this.gl)return null;var x=this.fbo.shape.slice();c=c|0,o=o|0,typeof p!="number"&&(p=1);var A=Math.min(Math.max(c-p,0),x[0])|0,_=Math.min(Math.max(c+p,0),x[0])|0,y=Math.min(Math.max(o-p,0),x[1])|0,E=Math.min(Math.max(o+p,0),x[1])|0;if(_<=A||E<=y)return null;var M=[_-A,E-y],s=a(this.buffer,[M[0],M[1],4],[4,x[0]*4,1],4*(A+x[0]*y)),S=f(s.hi(M[0],M[1],1),p,p),b=S[0],I=S[1];if(b<0||Math.pow(this.radius,2)<S[2])return null;var D=s.get(b,I,0),B=s.get(b,I,1),k=s.get(b,I,2),F=s.get(b,I,3);return new l(b+A|0,I+y|0,D,[B,k,F],Math.sqrt(S[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(c,o){var p=o[0],x=o[1],A={},_=t(c,p,x,A),y=i.mallocUint8(p*x*4);return new m(c,_,y)}},9405:function(v,g,r){var t=r(3327),i=r(8731),a=r(216),u=r(5091),f=r(2145),l=r(8866);function m(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=m.prototype;h.bind=function(){this.program||this._relink();var o,p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(p>x)for(o=x;o<p;o++)this.gl.enableVertexAttribArray(o);else if(x>p)for(o=p;o<x;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},h.dispose=function(){for(var o=this.gl.lastAttribCount,p=0;p<o;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(o,p){return o.name<p.name?-1:1}h.update=function(o,p,x,A){if(!p||arguments.length===1){var _=o;o=_.vertex,p=_.fragment,x=_.uniforms,A=_.attributes}var y=this,E=y.gl,M=y._vref;y._vref=u.shader(E,E.VERTEX_SHADER,o),M&&M.dispose(),y.vertShader=y._vref.shader;var s=this._fref;if(y._fref=u.shader(E,E.FRAGMENT_SHADER,p),s&&s.dispose(),y.fragShader=y._fref.shader,!x||!A){var S=E.createProgram();if(E.attachShader(S,y.fragShader),E.attachShader(S,y.vertShader),E.linkProgram(S),!E.getProgramParameter(S,E.LINK_STATUS)){var b=E.getProgramInfoLog(S);throw new l(b,"Error linking program:"+b)}x=x||f.uniforms(E,S),A=A||f.attributes(E,S),E.deleteProgram(S)}A=A.slice(),A.sort(T);var I=[],D=[],B=[],k;for(k=0;k<A.length;++k){var F=A[k];if(F.type.indexOf("mat")>=0){for(var N=F.type.charAt(F.type.length-1)|0,O=new Array(N),V=0;V<N;++V)O[V]=B.length,D.push(F.name+"["+V+"]"),typeof F.location=="number"?B.push(F.location+V):Array.isArray(F.location)&&F.location.length===N&&typeof F.location[V]=="number"?B.push(F.location[V]|0):B.push(-1);I.push({name:F.name,type:F.type,locations:O})}else I.push({name:F.name,type:F.type,locations:[B.length]}),D.push(F.name),typeof F.location=="number"?B.push(F.location|0):B.push(-1)}var X=0;for(k=0;k<B.length;++k)if(B[k]<0){for(;B.indexOf(X)>=0;)X+=1;B[k]=X}var ee=new Array(x.length);function ne(){y.program=u.program(E,y._vref,y._fref,D,B);for(var q=0;q<x.length;++q)ee[q]=E.getUniformLocation(y.program,x[q].name)}ne(),y._relink=ne,y.types={uniforms:a(x),attributes:a(A)},y.attributes=i(E,y,I,B),Object.defineProperty(y,"uniforms",t(E,y,x,ee))};function c(o,p,x,A,_){var y=new m(o);return y.update(p,x,A,_),y}v.exports=c},8866:function(v){function g(r,t,i){this.shortMessage=t||"",this.longMessage=i||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(i?`
`+i:""),this.stack=new Error().stack}g.prototype=new Error,g.prototype.name="GLError",g.prototype.constructor=g,v.exports=g},8731:function(v,g,r){v.exports=m;var t=r(8866);function i(h,T,c,o,p,x){this._gl=h,this._wrapper=T,this._index=c,this._locations=o,this._dimension=p,this._constFunc=x}var a=i.prototype;a.pointer=function(T,c,o,p){var x=this,A=x._gl,_=x._locations[x._index];A.vertexAttribPointer(_,x._dimension,T||A.FLOAT,!!c,o||0,p||0),A.enableVertexAttribArray(_)},a.set=function(h,T,c,o){return this._constFunc(this._locations[this._index],h,T,c,o)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var u=[function(h,T,c){return c.length===void 0?h.vertexAttrib1f(T,c):h.vertexAttrib1fv(T,c)},function(h,T,c,o){return c.length===void 0?h.vertexAttrib2f(T,c,o):h.vertexAttrib2fv(T,c)},function(h,T,c,o,p){return c.length===void 0?h.vertexAttrib3f(T,c,o,p):h.vertexAttrib3fv(T,c)},function(h,T,c,o,p,x){return c.length===void 0?h.vertexAttrib4f(T,c,o,p,x):h.vertexAttrib4fv(T,c)}];function f(h,T,c,o,p,x,A){var _=u[p],y=new i(h,T,c,o,p,_);Object.defineProperty(x,A,{set:function(E){return h.disableVertexAttribArray(o[c]),_(h,o[c],E),E},get:function(){return y},enumerable:!0})}function l(h,T,c,o,p,x,A){for(var _=new Array(p),y=new Array(p),E=0;E<p;++E)f(h,T,c[E],o,p,_,E),y[E]=_[E];Object.defineProperty(_,"location",{set:function(S){if(Array.isArray(S))for(var b=0;b<p;++b)y[b].location=S[b];else for(var b=0;b<p;++b)y[b].location=S+b;return S},get:function(){for(var S=new Array(p),b=0;b<p;++b)S[b]=o[c[b]];return S},enumerable:!0}),_.pointer=function(S,b,I,D){S=S||h.FLOAT,b=!!b,I=I||p*p,D=D||0;for(var B=0;B<p;++B){var k=o[c[B]];h.vertexAttribPointer(k,p,S,b,I,D+B*p),h.enableVertexAttribArray(k)}};var M=new Array(p),s=h["vertexAttrib"+p+"fv"];Object.defineProperty(x,A,{set:function(S){for(var b=0;b<p;++b){var I=o[c[b]];if(h.disableVertexAttribArray(I),Array.isArray(S[0]))s.call(h,I,S[b]);else{for(var D=0;D<p;++D)M[D]=S[p*b+D];s.call(h,I,M)}}return S},get:function(){return _},enumerable:!0})}function m(h,T,c,o){for(var p={},x=0,A=c.length;x<A;++x){var _=c[x],y=_.name,E=_.type,M=_.locations;switch(E){case"bool":case"int":case"float":f(h,T,M[0],o,1,p,y);break;default:if(E.indexOf("vec")>=0){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+y+": "+E);f(h,T,M[0],o,s,p,y)}else if(E.indexOf("mat")>=0){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+y+": "+E);l(h,T,M,o,s,p,y)}else throw new t("","Unknown data type for attribute "+y+": "+E);break}}return p}},3327:function(v,g,r){var t=r(216),i=r(8866);v.exports=f;function a(l){return function(){return l}}function u(l,m){for(var h=new Array(l),T=0;T<l;++T)h[T]=m;return h}function f(l,m,h,T){function c(E){return function(M,s,S){return M.getUniform(s.program,S[E])}}function o(E){return function(s){for(var S=p("",E),b=0;b<S.length;++b){var I=S[b],D=I[0],B=I[1];if(T[B]){var k=s;if(typeof D=="string"&&(D.indexOf(".")===0||D.indexOf("[")===0)){var F=D;if(D.indexOf(".")===0&&(F=D.slice(1)),F.indexOf("]")===F.length-1){var N=F.indexOf("["),O=F.slice(0,N),V=F.slice(N+1,F.length-1);k=O?s[O][V]:s[V]}else k=s[F]}var X=h[B].type,ee;switch(X){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(T[B],k);break;case"float":l.uniform1f(T[B],k);break;default:var ne=X.indexOf("vec");if(0<=ne&&ne<=1&&X.length===4+ne){if(ee=X.charCodeAt(X.length-1)-48,ee<2||ee>4)throw new i("","Invalid data type");switch(X.charAt(0)){case"b":case"i":l["uniform"+ee+"iv"](T[B],k);break;case"v":l["uniform"+ee+"fv"](T[B],k);break;default:throw new i("","Unrecognized data type for vector "+name+": "+X)}}else if(X.indexOf("mat")===0&&X.length===4){if(ee=X.charCodeAt(X.length-1)-48,ee<2||ee>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+X);l["uniformMatrix"+ee+"fv"](T[B],!1,k);break}else throw new i("","Unknown uniform data type for "+name+": "+X)}}}}}function p(E,M){if(typeof M!="object")return[[E,M]];var s=[];for(var S in M){var b=M[S],I=E;parseInt(S)+""===S?I+="["+S+"]":I+="."+S,typeof b=="object"?s.push.apply(s,p(I,b)):s.push([I,b])}return s}function x(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var M=E.indexOf("vec");if(0<=M&&M<=1&&E.length===4+M){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new i("","Invalid data type");return E.charAt(0)==="b"?u(s,!1):u(s,0)}else if(E.indexOf("mat")===0&&E.length===4){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+E);return u(s*s,0)}else throw new i("","Unknown uniform data type for "+name+": "+E)}}function A(E,M,s){if(typeof s=="object"){var S=_(s);Object.defineProperty(E,M,{get:a(S),set:o(s),enumerable:!0,configurable:!1})}else T[s]?Object.defineProperty(E,M,{get:c(s),set:o(s),enumerable:!0,configurable:!1}):E[M]=x(h[s].type)}function _(E){var M;if(Array.isArray(E)){M=new Array(E.length);for(var s=0;s<E.length;++s)A(M,s,E[s])}else{M={};for(var S in E)A(M,S,E[S])}return M}var y=t(h,!0);return{get:a(_(y)),set:o(y),enumerable:!0,configurable:!0}}},216:function(v){v.exports=g;function g(r,t){for(var i={},a=0;a<r.length;++a)for(var u=r[a].name,f=u.split("."),l=i,m=0;m<f.length;++m){var h=f[m].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var T=1;T<h.length;++T){var c=parseInt(h[T]);T<h.length-1||m<f.length-1?(c in l||(T<h.length-1?l[c]=[]:l[c]={}),l=l[c]):t?l[c]=a:l[c]=r[a].type}}else m<f.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):t?l[h[0]]=a:l[h[0]]=r[a].type}return i}},2145:function(v,g){g.uniforms=a,g.attributes=u;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function i(f,l){if(!t){var m=Object.keys(r);t={};for(var h=0;h<m.length;++h){var T=m[h];t[f[T]]=r[T]}}return t[l]}function a(f,l){for(var m=f.getProgramParameter(l,f.ACTIVE_UNIFORMS),h=[],T=0;T<m;++T){var c=f.getActiveUniform(l,T);if(c){var o=i(f,c.type);if(c.size>1)for(var p=0;p<c.size;++p)h.push({name:c.name.replace("[0]","["+p+"]"),type:o});else h.push({name:c.name,type:o})}}return h}function u(f,l){for(var m=f.getProgramParameter(l,f.ACTIVE_ATTRIBUTES),h=[],T=0;T<m;++T){var c=f.getActiveAttrib(l,T);c&&h.push({name:c.name,type:i(f,c.type)})}return h}},5091:function(v,g,r){g.shader=p,g.program=x;var t=r(8866),i=r(2992),a=typeof WeakMap>"u"?r(606):WeakMap,u=new a,f=0;function l(A,_,y,E,M,s,S){this.id=A,this.src=_,this.type=y,this.shader=E,this.count=s,this.programs=[],this.cache=S}l.prototype.dispose=function(){if(--this.count===0){for(var A=this.cache,_=A.gl,y=this.programs,E=0,M=y.length;E<M;++E){var s=A.programs[y[E]];s&&(delete A.programs[E],_.deleteProgram(s))}_.deleteShader(this.shader),delete A.shaders[this.type===_.FRAGMENT_SHADER|0][this.src]}};function m(A){this.gl=A,this.shaders=[{},{}],this.programs={}}var h=m.prototype;function T(A,_,y){var E=A.createShader(_);if(A.shaderSource(E,y),A.compileShader(E),!A.getShaderParameter(E,A.COMPILE_STATUS)){var M=A.getShaderInfoLog(E);try{var s=i(M,y,_)}catch(S){throw console.warn("Failed to format compiler error: "+S),new t(M,`Error compiling shader:
`+M)}throw new t(M,s.short,s.long)}return E}h.getShaderReference=function(A,_){var y=this.gl,E=this.shaders[A===y.FRAGMENT_SHADER|0],M=E[_];if(!M||!y.isShader(M.shader)){var s=T(y,A,_);M=E[_]=new l(f++,_,A,s,[],1,this)}else M.count+=1;return M};function c(A,_,y,E,M){var s=A.createProgram();A.attachShader(s,_),A.attachShader(s,y);for(var S=0;S<E.length;++S)A.bindAttribLocation(s,M[S],E[S]);if(A.linkProgram(s),!A.getProgramParameter(s,A.LINK_STATUS)){var b=A.getProgramInfoLog(s);throw new t(b,"Error linking program: "+b)}return s}h.getProgram=function(A,_,y,E){var M=[A.id,_.id,y.join(":"),E.join(":")].join("@"),s=this.programs[M];return(!s||!this.gl.isProgram(s))&&(this.programs[M]=s=c(this.gl,A.shader,_.shader,y,E),A.programs.push(M),_.programs.push(M)),s};function o(A){var _=u.get(A);return _||(_=new m(A),u.set(A,_)),_}function p(A,_,y){return o(A).getShaderReference(_,y)}function x(A,_,y,E,M){return o(A).getProgram(_,y,E,M)}},4098:function(v){v.exports=t;function g(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=g.prototype;r.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var i=this.enable,a=this.width,u=this.color,f=this.center,l=this.plot,m=l.line,h=l.dataBox,T=l.viewBox;if(m.bind(),h[0]<=f[0]&&f[0]<=h[2]&&h[1]<=f[1]&&f[1]<=h[3]){var c=T[0]+(f[0]-h[0])/(h[2]-h[0])*(T[2]-T[0]),o=T[1]+(f[1]-h[1])/(h[3]-h[1])*(T[3]-T[1]);i[0]&&m.drawLine(c,o,T[0],o,a[0],u[0]),i[1]&&m.drawLine(c,o,c,T[1],a[1],u[1]),i[2]&&m.drawLine(c,o,T[2],o,a[2],u[2]),i[3]&&m.drawLine(c,o,c,T[3],a[3],u[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(i,a){var u=new g(i);return u.update(a),i.addOverlay(u),u}},1493:function(v,g,r){var t=r(3236),i=r(9405),a=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),u=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(f){return i(f,a,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,g,r){var t=r(2762),i=r(8116),a=r(1493);v.exports=c;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,p,x,A){this.gl=o,this.buffer=p,this.vao=x,this.shader=A,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=f.prototype,m=[0,0,0],h=[0,0,0],T=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(o){},l.draw=function(o){var p=this.gl,x=this.vao,A=this.shader;x.bind(),A.bind();var _=o.model||u,y=o.view||u,E=o.projection||u,M;this.axes&&(M=this.axes.lastCubeProps.axis);for(var s=m,S=h,b=0;b<3;++b)M&&M[b]<0?(s[b]=this.bounds[0][b],S[b]=this.bounds[1][b]):(s[b]=this.bounds[1][b],S[b]=this.bounds[0][b]);T[0]=p.drawingBufferWidth,T[1]=p.drawingBufferHeight,A.uniforms.model=_,A.uniforms.view=y,A.uniforms.projection=E,A.uniforms.coordinates=[this.position,s,S],A.uniforms.colors=this.colors,A.uniforms.screenShape=T;for(var b=0;b<3;++b)A.uniforms.lineWidth=this.lineWidth[b]*this.pixelRatio,this.enabled[b]&&(x.draw(p.TRIANGLES,6,6*b),this.drawSides[b]&&x.draw(p.TRIANGLES,12,18+12*b));x.unbind()},l.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(o,p){var x=[];function A(s,S,b,I,D,B){var k=[s,S,b,0,0,0,1];k[I+3]=1,k[I]=D,x.push.apply(x,k),k[6]=-1,x.push.apply(x,k),k[I]=B,x.push.apply(x,k),x.push.apply(x,k),k[6]=1,x.push.apply(x,k),k[I]=D,x.push.apply(x,k)}A(0,0,0,0,0,1),A(0,0,0,1,0,1),A(0,0,0,2,0,1),A(1,0,0,1,-1,1),A(1,0,0,2,-1,1),A(0,1,0,0,-1,1),A(0,1,0,2,-1,1),A(0,0,1,0,-1,1),A(0,0,1,1,-1,1);var _=t(o,x),y=i(o,[{type:o.FLOAT,buffer:_,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:_,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:_,size:1,offset:24,stride:28}]),E=a(o);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var M=new f(o,_,y,E);return M.update(p),M}},6740:function(v,g,r){var t=r(3236),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},g.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,g,r){var t=r(2931),i=r(9970),a=["xyz","xzy","yxz","yzx","zxy","zyx"],u=function(x,A,_,y){for(var E=x.points,M=x.velocities,s=x.divergences,S=[],b=[],I=[],D=[],B=[],k=[],F=0,N=0,O=i.create(),V=i.create(),X=8,ee=0;ee<E.length;ee++){var ne=E[ee],q=M[ee],se=s[ee];A===0&&(se=_*.05),N=t.length(q)/y,O=i.create(),t.copy(O,q),O[3]=se;for(var J=0;J<X;J++)B[J]=[ne[0],ne[1],ne[2],J];if(D.length>0)for(var J=0;J<X;J++){var Z=(J+1)%X;S.push(D[J],B[J],B[Z],B[Z],D[Z],D[J]),I.push(V,O,O,O,V,V),k.push(F,N,N,N,F,F);var te=S.length;b.push([te-6,te-5,te-4],[te-3,te-2,te-1])}var Y=D;D=B,B=Y;var ie=V;V=O,O=ie;var le=F;F=N,N=le}return{positions:S,cells:b,vectors:I,vertexIntensity:k}},f=function(x,A,_,y){for(var E=0,M=0;M<x.length;M++)for(var s=x[M].velocities,S=0;S<s.length;S++)E=Math.max(E,t.length(s[S]));for(var b=x.map(function(ee){return u(ee,_,y,E)}),I=[],D=[],B=[],k=[],M=0;M<b.length;M++){var F=b[M],N=I.length;I=I.concat(F.positions),B=B.concat(F.vectors),k=k.concat(F.vertexIntensity);for(var S=0;S<F.cells.length;S++){var O=F.cells[S],V=[];D.push(V);for(var X=0;X<O.length;X++)V.push(O[X]+N)}}return{positions:I,cells:D,vectors:B,vertexIntensity:k,colormap:A}},l=function(x,A){var _=x.length,y;for(y=0;y<_;y++){var E=x[y];if(E===A)return y;if(E>A)return y-1}return y},m=function(x,A,_){return x<A?A:x>_?_:x},h=function(x,A,_){var y=A.vectors,E=A.meshgrid,M=x[0],s=x[1],S=x[2],b=E[0].length,I=E[1].length,D=E[2].length,B=l(E[0],M),k=l(E[1],s),F=l(E[2],S),N=B+1,O=k+1,V=F+1;if(B=m(B,0,b-1),N=m(N,0,b-1),k=m(k,0,I-1),O=m(O,0,I-1),F=m(F,0,D-1),V=m(V,0,D-1),B<0||k<0||F<0||N>b-1||O>I-1||V>D-1)return t.create();var X=E[0][B],ee=E[0][N],ne=E[1][k],q=E[1][O],se=E[2][F],J=E[2][V],Z=(M-X)/(ee-X),te=(s-ne)/(q-ne),Y=(S-se)/(J-se);isFinite(Z)||(Z=.5),isFinite(te)||(te=.5),isFinite(Y)||(Y=.5);var ie,le,j,K,ue,ae;switch(_.reversedX&&(B=b-1-B,N=b-1-N),_.reversedY&&(k=I-1-k,O=I-1-O),_.reversedZ&&(F=D-1-F,V=D-1-V),_.filled){case 5:ue=F,ae=V,j=k*D,K=O*D,ie=B*D*I,le=N*D*I;break;case 4:ue=F,ae=V,ie=B*D,le=N*D,j=k*D*b,K=O*D*b;break;case 3:j=k,K=O,ue=F*I,ae=V*I,ie=B*I*D,le=N*I*D;break;case 2:j=k,K=O,ie=B*I,le=N*I,ue=F*I*b,ae=V*I*b;break;case 1:ie=B,le=N,ue=F*b,ae=V*b,j=k*b*D,K=O*b*D;break;default:ie=B,le=N,j=k*b,K=O*b,ue=F*b*I,ae=V*b*I;break}var he=y[ie+j+ue],xe=y[ie+j+ae],Se=y[ie+K+ue],Ae=y[ie+K+ae],De=y[le+j+ue],we=y[le+j+ae],Ce=y[le+K+ue],be=y[le+K+ae],Pe=t.create(),Ve=t.create(),Ge=t.create(),Fe=t.create();t.lerp(Pe,he,De,Z),t.lerp(Ve,xe,we,Z),t.lerp(Ge,Se,Ce,Z),t.lerp(Fe,Ae,be,Z);var He=t.create(),ft=t.create();t.lerp(He,Pe,Ge,te),t.lerp(ft,Ve,Fe,te);var gt=t.create();return t.lerp(gt,He,ft,Y),gt},T=function(x){var A=1/0;x.sort(function(M,s){return M-s});for(var _=x.length,y=1;y<_;y++){var E=Math.abs(x[y]-x[y-1]);E<A&&(A=E)}return A},c=function(x){for(var A=[],_=[],y=[],E={},M={},s={},S=x.length,b=0;b<S;b++){var I=x[b],D=I[0],B=I[1],k=I[2];E[D]||(A.push(D),E[D]=!0),M[B]||(_.push(B),M[B]=!0),s[k]||(y.push(k),s[k]=!0)}var F=T(A),N=T(_),O=T(y),V=Math.min(F,N,O);return isFinite(V)?V:1};v.exports=function(x,A){var _=x.startingPositions,y=x.maxLength||1e3,E=x.tubeSize||1,M=x.absoluteTubeSize,s=x.gridFill||"+x+y+z",S={};s.indexOf("-x")!==-1&&(S.reversedX=!0),s.indexOf("-y")!==-1&&(S.reversedY=!0),s.indexOf("-z")!==-1&&(S.reversedZ=!0),S.filled=a.indexOf(s.replace(/-/g,"").replace(/\+/g,""));var b=x.getVelocity||function(we){return h(we,x,S)},I=x.getDivergence||function(we,Ce){var be=t.create(),Pe=1e-4;t.add(be,we,[Pe,0,0]);var Ve=b(be);t.subtract(Ve,Ve,Ce),t.scale(Ve,Ve,1/Pe),t.add(be,we,[0,Pe,0]);var Ge=b(be);t.subtract(Ge,Ge,Ce),t.scale(Ge,Ge,1/Pe),t.add(be,we,[0,0,Pe]);var Fe=b(be);return t.subtract(Fe,Fe,Ce),t.scale(Fe,Fe,1/Pe),t.add(be,Ve,Ge),t.add(be,be,Fe),be},D=[],B=A[0][0],k=A[0][1],F=A[0][2],N=A[1][0],O=A[1][1],V=A[1][2],X=function(we){var Ce=we[0],be=we[1],Pe=we[2];return!(Ce<B||Ce>N||be<k||be>O||Pe<F||Pe>V)},ee=t.distance(A[0],A[1]),ne=10*ee/y,q=ne*ne,se=1,J=0,Z=_.length;Z>1&&(se=c(_));for(var te=0;te<Z;te++){var Y=t.create();t.copy(Y,_[te]);var ie=[Y],le=[],j=b(Y),K=Y;le.push(j);var ue=[],ae=I(Y,j),he=t.length(ae);isFinite(he)&&he>J&&(J=he),ue.push(he),D.push({points:ie,velocities:le,divergences:ue});for(var xe=0;xe<y*100&&ie.length<y&&X(Y);){xe++;var Se=t.clone(j),Ae=t.squaredLength(Se);if(Ae===0)break;if(Ae>q&&t.scale(Se,Se,ne/Math.sqrt(Ae)),t.add(Se,Se,Y),j=b(Se),t.squaredDistance(K,Se)-q>-1e-4*q){ie.push(Se),K=Se,le.push(j);var ae=I(Se,j),he=t.length(ae);isFinite(he)&&he>J&&(J=he),ue.push(he)}Y=Se}}var De=f(D,x.colormap,J,se);return M?De.tubeScale=M:(J===0&&(J=1),De.tubeScale=E*.5*se/J),De};var o=r(6740),p=r(6405).createMesh;v.exports.createTubeMesh=function(x,A){return p(x,A,{shaders:o,traceType:"streamtube"})}},990:function(v,g,r){var t=r(9405),i=r(3236),a=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),u=i([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),f=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);g.createShader=function(m){var h=t(m,a,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},g.createPickShader=function(m){var h=t(m,a,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},g.createContourShader=function(m){var h=t(m,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},g.createPickContourShader=function(m){var h=t(m,f,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},9499:function(v,g,r){v.exports=le;var t=r(8828),i=r(2762),a=r(8116),u=r(7766),f=r(1888),l=r(6729),m=r(5298),h=r(9994),T=r(9618),c=r(3711),o=r(6760),p=r(7608),x=r(2478),A=r(6199),_=r(990),y=_.createShader,E=_.createContourShader,M=_.createPickShader,s=_.createPickContourShader,S=4*10,b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],D=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var j=0;j<3;++j){var K=D[j],ue=(j+1)%3,ae=(j+2)%3;K[ue+0]=1,K[ae+3]=1,K[j+6]=1}})();function B(j,K,ue,ae,he){this.position=j,this.index=K,this.uv=ue,this.level=ae,this.dataCoordinate=he}var k=256;function F(j,K,ue,ae,he,xe,Se,Ae,De,we,Ce,be,Pe,Ve,Ge){this.gl=j,this.shape=K,this.bounds=ue,this.objectOffset=Ge,this.intensityBounds=[],this._shader=ae,this._pickShader=he,this._coordinateBuffer=xe,this._vao=Se,this._colorMap=Ae,this._contourShader=De,this._contourPickShader=we,this._contourBuffer=Ce,this._contourVAO=be,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new B([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Pe,this._dynamicVAO=Ve,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(f.mallocFloat(1024),[0,0]),T(f.mallocFloat(1024),[0,0]),T(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var N=F.prototype;N.genColormap=function(j,K){var ue=!1,ae=h([l({colormap:j,nshades:k,format:"rgba"}).map(function(he,xe){var Se=K?O(xe/255,K):he[3];return Se<1&&(ue=!0),[he[0],he[1],he[2],255*Se]})]);return m.divseq(ae,255),this.hasAlphaScale=ue,ae},N.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},N.isOpaque=function(){return!this.isTransparent()},N.pickSlots=1,N.setPickBase=function(j){this.pickId=j};function O(j,K){if(!K||!K.length)return 1;for(var ue=0;ue<K.length;++ue){if(K.length<2)return 1;if(K[ue][0]===j)return K[ue][1];if(K[ue][0]>j&&ue>0){var ae=(K[ue][0]-j)/(K[ue][0]-K[ue-1][0]);return K[ue][1]*(1-ae)+ae*K[ue-1][1]}}return 1}var V=[0,0,0],X={showSurface:!1,showContour:!1,projections:[b.slice(),b.slice(),b.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function ee(j,K){var ue,ae,he,xe=K.axes&&K.axes.lastCubeProps.axis||V,Se=K.showSurface,Ae=K.showContour;for(ue=0;ue<3;++ue)for(Se=Se||K.surfaceProject[ue],ae=0;ae<3;++ae)Ae=Ae||K.contourProject[ue][ae];for(ue=0;ue<3;++ue){var De=X.projections[ue];for(ae=0;ae<16;++ae)De[ae]=0;for(ae=0;ae<4;++ae)De[5*ae]=1;De[5*ue]=0,De[12+ue]=K.axesBounds[+(xe[ue]>0)][ue],o(De,j.model,De);var we=X.clipBounds[ue];for(he=0;he<2;++he)for(ae=0;ae<3;++ae)we[he][ae]=j.clipBounds[he][ae];we[0][ue]=-1e8,we[1][ue]=1e8}return X.showSurface=Se,X.showContour=Ae,X}var ne={model:b,view:b,projection:b,inverseModel:b.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},q=b.slice(),se=[1,0,0,0,1,0,0,0,1];function J(j,K){j=j||{};var ue=this.gl;ue.disable(ue.CULL_FACE),this._colorMap.bind(0);var ae=ne;ae.model=j.model||b,ae.view=j.view||b,ae.projection=j.projection||b,ae.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ae.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ae.objectOffset=this.objectOffset,ae.contourColor=this.contourColor[0],ae.inverseModel=p(ae.inverseModel,ae.model);for(var he=0;he<2;++he)for(var xe=ae.clipBounds[he],Se=0;Se<3;++Se)xe[Se]=Math.min(Math.max(this.clipBounds[he][Se],-1e8),1e8);ae.kambient=this.ambientLight,ae.kdiffuse=this.diffuseLight,ae.kspecular=this.specularLight,ae.roughness=this.roughness,ae.fresnel=this.fresnel,ae.opacity=this.opacity,ae.height=0,ae.permutation=se,ae.vertexColor=this.vertexColor;var Ae=q;for(o(Ae,ae.view,ae.model),o(Ae,ae.projection,Ae),p(Ae,Ae),he=0;he<3;++he)ae.eyePosition[he]=Ae[12+he]/Ae[15];var De=Ae[15];for(he=0;he<3;++he)De+=this.lightPosition[he]*Ae[4*he+3];for(he=0;he<3;++he){var we=Ae[12+he];for(Se=0;Se<3;++Se)we+=Ae[4*Se+he]*this.lightPosition[Se];ae.lightPosition[he]=we/De}var Ce=ee(ae,this);if(Ce.showSurface){for(this._shader.bind(),this._shader.uniforms=ae,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ue.TRIANGLES,this._vertexCount),he=0;he<3;++he)!this.surfaceProject[he]||!this.vertexCount||(this._shader.uniforms.model=Ce.projections[he],this._shader.uniforms.clipBounds=Ce.clipBounds[he],this._vao.draw(ue.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ce.showContour){var be=this._contourShader;ae.kambient=1,ae.kdiffuse=0,ae.kspecular=0,ae.opacity=1,be.bind(),be.uniforms=ae;var Pe=this._contourVAO;for(Pe.bind(),he=0;he<3;++he)for(be.uniforms.permutation=D[he],ue.lineWidth(this.contourWidth[he]*this.pixelRatio),Se=0;Se<this.contourLevels[he].length;++Se)Se===this.highlightLevel[he]?(be.uniforms.contourColor=this.highlightColor[he],be.uniforms.contourTint=this.highlightTint[he]):(Se===0||Se-1===this.highlightLevel[he])&&(be.uniforms.contourColor=this.contourColor[he],be.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][Se]&&(be.uniforms.height=this.contourLevels[he][Se],Pe.draw(ue.LINES,this._contourCounts[he][Se],this._contourOffsets[he][Se]));for(he=0;he<3;++he)for(be.uniforms.model=Ce.projections[he],be.uniforms.clipBounds=Ce.clipBounds[he],Se=0;Se<3;++Se)if(this.contourProject[he][Se]){be.uniforms.permutation=D[Se],ue.lineWidth(this.contourWidth[Se]*this.pixelRatio);for(var Ve=0;Ve<this.contourLevels[Se].length;++Ve)Ve===this.highlightLevel[Se]?(be.uniforms.contourColor=this.highlightColor[Se],be.uniforms.contourTint=this.highlightTint[Se]):(Ve===0||Ve-1===this.highlightLevel[Se])&&(be.uniforms.contourColor=this.contourColor[Se],be.uniforms.contourTint=this.contourTint[Se]),this._contourCounts[Se][Ve]&&(be.uniforms.height=this.contourLevels[Se][Ve],Pe.draw(ue.LINES,this._contourCounts[Se][Ve],this._contourOffsets[Se][Ve]))}for(Pe.unbind(),Pe=this._dynamicVAO,Pe.bind(),he=0;he<3;++he)if(this._dynamicCounts[he]!==0)for(be.uniforms.model=ae.model,be.uniforms.clipBounds=ae.clipBounds,be.uniforms.permutation=D[he],ue.lineWidth(this.dynamicWidth[he]*this.pixelRatio),be.uniforms.contourColor=this.dynamicColor[he],be.uniforms.contourTint=this.dynamicTint[he],be.uniforms.height=this.dynamicLevel[he],Pe.draw(ue.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]),Se=0;Se<3;++Se)this.contourProject[Se][he]&&(be.uniforms.model=Ce.projections[Se],be.uniforms.clipBounds=Ce.clipBounds[Se],Pe.draw(ue.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]));Pe.unbind()}}N.draw=function(j){return J.call(this,j,!1)},N.drawTransparent=function(j){return J.call(this,j,!0)};var Z={model:b,view:b,projection:b,inverseModel:b,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};N.drawPick=function(j){j=j||{};var K=this.gl;K.disable(K.CULL_FACE);var ue=Z;ue.model=j.model||b,ue.view=j.view||b,ue.projection=j.projection||b,ue.shape=this._field[2].shape,ue.pickId=this.pickId/255,ue.lowerBound=this.bounds[0],ue.upperBound=this.bounds[1],ue.objectOffset=this.objectOffset,ue.permutation=se;for(var ae=0;ae<2;++ae)for(var he=ue.clipBounds[ae],xe=0;xe<3;++xe)he[xe]=Math.min(Math.max(this.clipBounds[ae][xe],-1e8),1e8);var Se=ee(ue,this);if(Se.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ue,this._vao.bind(),this._vao.draw(K.TRIANGLES,this._vertexCount),ae=0;ae<3;++ae)this.surfaceProject[ae]&&(this._pickShader.uniforms.model=Se.projections[ae],this._pickShader.uniforms.clipBounds=Se.clipBounds[ae],this._vao.draw(K.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Se.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=ue;var De=this._contourVAO;for(De.bind(),xe=0;xe<3;++xe)for(K.lineWidth(this.contourWidth[xe]*this.pixelRatio),Ae.uniforms.permutation=D[xe],ae=0;ae<this.contourLevels[xe].length;++ae)this._contourCounts[xe][ae]&&(Ae.uniforms.height=this.contourLevels[xe][ae],De.draw(K.LINES,this._contourCounts[xe][ae],this._contourOffsets[xe][ae]));for(ae=0;ae<3;++ae)for(Ae.uniforms.model=Se.projections[ae],Ae.uniforms.clipBounds=Se.clipBounds[ae],xe=0;xe<3;++xe)if(this.contourProject[ae][xe]){Ae.uniforms.permutation=D[xe],K.lineWidth(this.contourWidth[xe]*this.pixelRatio);for(var we=0;we<this.contourLevels[xe].length;++we)this._contourCounts[xe][we]&&(Ae.uniforms.height=this.contourLevels[xe][we],De.draw(K.LINES,this._contourCounts[xe][we],this._contourOffsets[xe][we]))}De.unbind()}},N.pick=function(j){if(!j||j.id!==this.pickId)return null;var K=this._field[2].shape,ue=this._pickResult,ae=K[0]*(j.value[0]+(j.value[2]>>4)/16)/255,he=Math.floor(ae),xe=ae-he,Se=K[1]*(j.value[1]+(j.value[2]&15)/16)/255,Ae=Math.floor(Se),De=Se-Ae;he+=1,Ae+=1;var we=ue.position;we[0]=we[1]=we[2]=0;for(var Ce=0;Ce<2;++Ce)for(var be=Ce?xe:1-xe,Pe=0;Pe<2;++Pe)for(var Ve=Pe?De:1-De,Ge=he+Ce,Fe=Ae+Pe,He=be*Ve,ft=0;ft<3;++ft)we[ft]+=this._field[ft].get(Ge,Fe)*He;for(var gt=this._pickResult.level,ct=0;ct<3;++ct)if(gt[ct]=x.le(this.contourLevels[ct],we[ct]),gt[ct]<0)this.contourLevels[ct].length>0&&(gt[ct]=0);else if(gt[ct]<this.contourLevels[ct].length-1){var nt=this.contourLevels[ct][gt[ct]],dt=this.contourLevels[ct][gt[ct]+1];Math.abs(nt-we[ct])>Math.abs(dt-we[ct])&&(gt[ct]+=1)}for(ue.index[0]=xe<.5?he:he+1,ue.index[1]=De<.5?Ae:Ae+1,ue.uv[0]=ae/K[0],ue.uv[1]=Se/K[1],ft=0;ft<3;++ft)ue.dataCoordinate[ft]=this._field[ft].get(ue.index[0],ue.index[1]);return ue},N.padField=function(j,K){var ue=K.shape.slice(),ae=j.shape.slice();m.assign(j.lo(1,1).hi(ue[0],ue[1]),K),m.assign(j.lo(1).hi(ue[0],1),K.hi(ue[0],1)),m.assign(j.lo(1,ae[1]-1).hi(ue[0],1),K.lo(0,ue[1]-1).hi(ue[0],1)),m.assign(j.lo(0,1).hi(1,ue[1]),K.hi(1)),m.assign(j.lo(ae[0]-1,1).hi(1,ue[1]),K.lo(ue[0]-1)),j.set(0,0,K.get(0,0)),j.set(0,ae[1]-1,K.get(0,ue[1]-1)),j.set(ae[0]-1,0,K.get(ue[0]-1,0)),j.set(ae[0]-1,ae[1]-1,K.get(ue[0]-1,ue[1]-1))};function te(j,K){return Array.isArray(j)?[K(j[0]),K(j[1]),K(j[2])]:[K(j),K(j),K(j)]}function Y(j){return Array.isArray(j)?j.length===3?[j[0],j[1],j[2],1]:[j[0],j[1],j[2],j[3]]:[0,0,0,1]}function ie(j){if(Array.isArray(j)){if(Array.isArray(j))return[Y(j[0]),Y(j[1]),Y(j[2])];var K=Y(j);return[K.slice(),K.slice(),K.slice()]}}N.update=function(j){j=j||{},this.objectOffset=j.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in j&&(this.contourWidth=te(j.contourWidth,Number)),"showContour"in j&&(this.showContour=te(j.showContour,Boolean)),"showSurface"in j&&(this.showSurface=!!j.showSurface),"contourTint"in j&&(this.contourTint=te(j.contourTint,Boolean)),"contourColor"in j&&(this.contourColor=ie(j.contourColor)),"contourProject"in j&&(this.contourProject=te(j.contourProject,function(Ft){return te(Ft,Boolean)})),"surfaceProject"in j&&(this.surfaceProject=j.surfaceProject),"dynamicColor"in j&&(this.dynamicColor=ie(j.dynamicColor)),"dynamicTint"in j&&(this.dynamicTint=te(j.dynamicTint,Number)),"dynamicWidth"in j&&(this.dynamicWidth=te(j.dynamicWidth,Number)),"opacity"in j&&(this.opacity=j.opacity),"opacityscale"in j&&(this.opacityscale=j.opacityscale),"colorBounds"in j&&(this.colorBounds=j.colorBounds),"vertexColor"in j&&(this.vertexColor=j.vertexColor?1:0),"colormap"in j&&this._colorMap.setPixels(this.genColormap(j.colormap,this.opacityscale));var K=j.field||j.coords&&j.coords[2]||null,ue=!1;if(K||(this._field[2].shape[0]||this._field[2].shape[2]?K=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):K=this._field[2].hi(0,0)),"field"in j||"coords"in j){var ae=(K.shape[0]+2)*(K.shape[1]+2);ae>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(t.nextPow2(ae))),this._field[2]=T(this._field[2].data,[K.shape[0]+2,K.shape[1]+2]),this.padField(this._field[2],K),this.shape=K.shape.slice();for(var he=this.shape,xe=0;xe<2;++xe)this._field[2].size>this._field[xe].data.length&&(f.freeFloat(this._field[xe].data),this._field[xe].data=f.mallocFloat(this._field[2].size)),this._field[xe]=T(this._field[xe].data,[he[0]+2,he[1]+2]);if(j.coords){var Se=j.coords;if(!Array.isArray(Se)||Se.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(xe=0;xe<2;++xe){var Ae=Se[xe];for(Pe=0;Pe<2;++Pe)if(Ae.shape[Pe]!==he[Pe])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[xe],Ae)}}else if(j.ticks){var De=j.ticks;if(!Array.isArray(De)||De.length!==2)throw new Error("gl-surface: invalid ticks");for(xe=0;xe<2;++xe){var we=De[xe];if((Array.isArray(we)||we.length)&&(we=T(we)),we.shape[0]!==he[xe])throw new Error("gl-surface: invalid tick length");var Ce=T(we.data,he);Ce.stride[xe]=we.stride[0],Ce.stride[xe^1]=0,this.padField(this._field[xe],Ce)}}else{for(xe=0;xe<2;++xe){var be=[0,0];be[xe]=1,this._field[xe]=T(this._field[xe].data,[he[0]+2,he[1]+2],be,0)}this._field[0].set(0,0,0);for(var Pe=0;Pe<he[0];++Pe)this._field[0].set(Pe+1,0,Pe);for(this._field[0].set(he[0]+1,0,he[0]-1),this._field[1].set(0,0,0),Pe=0;Pe<he[1];++Pe)this._field[1].set(0,Pe+1,Pe);this._field[1].set(0,he[1]+1,he[1]-1)}var Ve=this._field,Ge=T(f.mallocFloat(Ve[2].size*3*2),[3,he[0]+2,he[1]+2,2]);for(xe=0;xe<3;++xe)A(Ge.pick(xe),Ve[xe],"mirror");var Fe=T(f.mallocFloat(Ve[2].size*3),[he[0]+2,he[1]+2,3]);for(xe=0;xe<he[0]+2;++xe)for(Pe=0;Pe<he[1]+2;++Pe){var He=Ge.get(0,xe,Pe,0),ft=Ge.get(0,xe,Pe,1),gt=Ge.get(1,xe,Pe,0),ct=Ge.get(1,xe,Pe,1),nt=Ge.get(2,xe,Pe,0),dt=Ge.get(2,xe,Pe,1),pt=gt*dt-ct*nt,wt=nt*ft-dt*He,Tt=He*ct-ft*gt,Ct=Math.sqrt(pt*pt+wt*wt+Tt*Tt);Ct<1e-8?(Ct=Math.max(Math.abs(pt),Math.abs(wt),Math.abs(Tt)),Ct<1e-8?(Tt=1,wt=pt=0,Ct=1):Ct=1/Ct):Ct=1/Math.sqrt(Ct),Fe.set(xe,Pe,0,pt*Ct),Fe.set(xe,Pe,1,wt*Ct),Fe.set(xe,Pe,2,Tt*Ct)}f.free(Ge.data);var at=[1/0,1/0,1/0],ze=[-1/0,-1/0,-1/0],je=1/0,Je=-1/0,Xe=(he[0]-1)*(he[1]-1)*6,Oe=f.mallocFloat(t.nextPow2(10*Xe)),ke=0,Ke=0;for(xe=0;xe<he[0]-1;++xe)e:for(Pe=0;Pe<he[1]-1;++Pe){for(var Ie=0;Ie<2;++Ie)for(var pe=0;pe<2;++pe)for(var Te=0;Te<3;++Te){var Ue=this._field[Te].get(1+xe+Ie,1+Pe+pe);if(isNaN(Ue)||!isFinite(Ue))continue e}for(Te=0;Te<6;++Te){var et=xe+I[Te][0],st=Pe+I[Te][1],lt=this._field[0].get(et+1,st+1),jt=this._field[1].get(et+1,st+1);Ue=this._field[2].get(et+1,st+1),pt=Fe.get(et+1,st+1,0),wt=Fe.get(et+1,st+1,1),Tt=Fe.get(et+1,st+1,2),j.intensity&&(Jt=j.intensity.get(et,st));var Jt=j.intensity?j.intensity.get(et,st):Ue+this.objectOffset[2];Oe[ke++]=et,Oe[ke++]=st,Oe[ke++]=lt,Oe[ke++]=jt,Oe[ke++]=Ue,Oe[ke++]=0,Oe[ke++]=Jt,Oe[ke++]=pt,Oe[ke++]=wt,Oe[ke++]=Tt,at[0]=Math.min(at[0],lt+this.objectOffset[0]),at[1]=Math.min(at[1],jt+this.objectOffset[1]),at[2]=Math.min(at[2],Ue+this.objectOffset[2]),je=Math.min(je,Jt),ze[0]=Math.max(ze[0],lt+this.objectOffset[0]),ze[1]=Math.max(ze[1],jt+this.objectOffset[1]),ze[2]=Math.max(ze[2],Ue+this.objectOffset[2]),Je=Math.max(Je,Jt),Ke+=1}}for(j.intensityBounds&&(je=+j.intensityBounds[0],Je=+j.intensityBounds[1]),xe=6;xe<ke;xe+=10)Oe[xe]=(Oe[xe]-je)/(Je-je);this._vertexCount=Ke,this._coordinateBuffer.update(Oe.subarray(0,ke)),f.freeFloat(Oe),f.free(Fe.data),this.bounds=[at,ze],this.intensity=j.intensity||this._field[2],(this.intensityBounds[0]!==je||this.intensityBounds[1]!==Je)&&(ue=!0),this.intensityBounds=[je,Je]}if("levels"in j){var St=j.levels;for(Array.isArray(St[0])?St=St.slice():St=[[],[],St],xe=0;xe<3;++xe)St[xe]=St[xe].slice(),St[xe].sort(function(Ft,rr){return Ft-rr});for(xe=0;xe<3;++xe)for(Pe=0;Pe<St[xe].length;++Pe)St[xe][Pe]-=this.objectOffset[xe];e:for(xe=0;xe<3;++xe){if(St[xe].length!==this.contourLevels[xe].length){ue=!0;break}for(Pe=0;Pe<St[xe].length;++Pe)if(St[xe][Pe]!==this.contourLevels[xe][Pe]){ue=!0;break e}}this.contourLevels=St}if(ue){Ve=this._field,he=this.shape;for(var Rt=[],$t=0;$t<3;++$t){var Pr=this.contourLevels[$t],xt=[],qt=[],nr=[0,0,0];for(xe=0;xe<Pr.length;++xe){var wr=c(this._field[$t],Pr[xe]);xt.push(Rt.length/5|0),Ke=0;e:for(Pe=0;Pe<wr.cells.length;++Pe){var dr=wr.cells[Pe];for(Te=0;Te<2;++Te){var bt=wr.positions[dr[Te]],ut=bt[0],Mt=Math.floor(ut)|0,_t=ut-Mt,kt=bt[1],Xt=Math.floor(kt)|0,Wt=kt-Xt,Ht=!1;t:for(var tr=0;tr<3;++tr){nr[tr]=0;var gr=($t+tr+1)%3;for(Ie=0;Ie<2;++Ie){var Qt=Ie?_t:1-_t;for(et=Math.min(Math.max(Mt+Ie,0),he[0])|0,pe=0;pe<2;++pe){var mr=pe?Wt:1-Wt;if(st=Math.min(Math.max(Xt+pe,0),he[1])|0,tr<2?Ue=this._field[gr].get(et,st):Ue=(this.intensity.get(et,st)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ue)||isNaN(Ue)){Ht=!0;break t}var Ze=Qt*mr;nr[tr]+=Ze*Ue}}}if(!Ht)Rt.push(nr[0],nr[1],bt[0],bt[1],nr[2]),Ke+=1;else{if(Te>0){for(var Ye=0;Ye<5;++Ye)Rt.pop();Ke-=1}continue e}}}qt.push(Ke)}this._contourOffsets[$t]=xt,this._contourCounts[$t]=qt}var Bt=f.mallocFloat(Rt.length);for(xe=0;xe<Rt.length;++xe)Bt[xe]=Rt[xe];this._contourBuffer.update(Bt),f.freeFloat(Bt)}},N.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var j=0;j<3;++j)f.freeFloat(this._field[j].data)},N.highlight=function(j){var K;if(!j){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(K=0;K<3;++K)this.enableHighlight[K]?this.highlightLevel[K]=j.level[K]:this.highlightLevel[K]=-1;var ue;for(this.snapToData?ue=j.dataCoordinate:ue=j.position,K=0;K<3;++K)ue[K]-=this.objectOffset[K];if(!((!this.enableDynamic[0]||ue[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ue[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ue[2]===this.dynamicLevel[2]))){for(var ae=0,he=this.shape,xe=f.mallocFloat(12*he[0]*he[1]),Se=0;Se<3;++Se){if(!this.enableDynamic[Se]){this.dynamicLevel[Se]=NaN,this._dynamicCounts[Se]=0;continue}this.dynamicLevel[Se]=ue[Se];var Ae=(Se+1)%3,De=(Se+2)%3,we=this._field[Se],Ce=this._field[Ae],be=this._field[De],Pe=c(we,ue[Se]),Ve=Pe.cells,Ge=Pe.positions;for(this._dynamicOffsets[Se]=ae,K=0;K<Ve.length;++K)for(var Fe=Ve[K],He=0;He<2;++He){var ft=Ge[Fe[He]],gt=+ft[0],ct=gt|0,nt=Math.min(ct+1,he[0])|0,dt=gt-ct,pt=1-dt,wt=+ft[1],Tt=wt|0,Ct=Math.min(Tt+1,he[1])|0,at=wt-Tt,ze=1-at,je=pt*ze,Je=pt*at,Xe=dt*ze,Oe=dt*at,ke=je*Ce.get(ct,Tt)+Je*Ce.get(ct,Ct)+Xe*Ce.get(nt,Tt)+Oe*Ce.get(nt,Ct),Ke=je*be.get(ct,Tt)+Je*be.get(ct,Ct)+Xe*be.get(nt,Tt)+Oe*be.get(nt,Ct);if(isNaN(ke)||isNaN(Ke)){He&&(ae-=1);break}xe[2*ae+0]=ke,xe[2*ae+1]=Ke,ae+=1}this._dynamicCounts[Se]=ae-this._dynamicOffsets[Se]}this._dynamicBuffer.update(xe.subarray(0,2*ae)),f.freeFloat(xe)}};function le(j){var K=j.gl,ue=y(K),ae=M(K),he=E(K),xe=s(K),Se=i(K),Ae=a(K,[{buffer:Se,size:4,stride:S,offset:0},{buffer:Se,size:3,stride:S,offset:16},{buffer:Se,size:3,stride:S,offset:28}]),De=i(K),we=a(K,[{buffer:De,size:4,stride:20,offset:0},{buffer:De,size:1,stride:20,offset:16}]),Ce=i(K),be=a(K,[{buffer:Ce,size:2,type:K.FLOAT}]),Pe=u(K,1,k,K.RGBA,K.UNSIGNED_BYTE);Pe.minFilter=K.LINEAR,Pe.magFilter=K.LINEAR;var Ve=new F(K,[0,0],[[0,0,0],[0,0,0]],ue,ae,Se,Ae,Pe,he,xe,De,we,Ce,be,[0,0,0]),Ge={levels:[[],[],[]]};for(var Fe in j)Ge[Fe]=j[Fe];return Ge.colormap=Ge.colormap||"jet",Ve.update(Ge),Ve}},7766:function(v,g,r){var t=r(9618),i=r(5298),a=r(1888);v.exports=s;var u=null,f=null,l=null;function m(S){u=[S.LINEAR,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_NEAREST],f=[S.NEAREST,S.LINEAR,S.NEAREST_MIPMAP_NEAREST,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_LINEAR],l=[S.REPEAT,S.CLAMP_TO_EDGE,S.MIRRORED_REPEAT]}function h(S){return typeof HTMLCanvasElement<"u"&&S instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&S instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&S instanceof HTMLVideoElement||typeof ImageData<"u"&&S instanceof ImageData}var T=function(S,b){i.muls(S,b,255)};function c(S,b,I){var D=S.gl,B=D.getParameter(D.MAX_TEXTURE_SIZE);if(b<0||b>B||I<0||I>B)throw new Error("gl-texture2d: Invalid texture size");return S._shape=[b,I],S.bind(),D.texImage2D(D.TEXTURE_2D,0,S.format,b,I,0,S.format,S.type,null),S._mipLevels=[0],S}function o(S,b,I,D,B,k){this.gl=S,this.handle=b,this.format=B,this.type=k,this._shape=[I,D],this._mipLevels=[0],this._magFilter=S.NEAREST,this._minFilter=S.NEAREST,this._wrapS=S.CLAMP_TO_EDGE,this._wrapT=S.CLAMP_TO_EDGE,this._anisoSamples=1;var F=this,N=[this._wrapS,this._wrapT];Object.defineProperties(N,[{get:function(){return F._wrapS},set:function(V){return F.wrapS=V}},{get:function(){return F._wrapT},set:function(V){return F.wrapT=V}}]),this._wrapVector=N;var O=[this._shape[0],this._shape[1]];Object.defineProperties(O,[{get:function(){return F._shape[0]},set:function(V){return F.width=V}},{get:function(){return F._shape[1]},set:function(V){return F.height=V}}]),this._shapeVector=O}var p=o.prototype;Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(S){this.bind();var b=this.gl;if(this.type===b.FLOAT&&u.indexOf(S)>=0&&(b.getExtension("OES_texture_float_linear")||(S=b.NEAREST)),f.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,S),this._minFilter=S}},magFilter:{get:function(){return this._magFilter},set:function(S){this.bind();var b=this.gl;if(this.type===b.FLOAT&&u.indexOf(S)>=0&&(b.getExtension("OES_texture_float_linear")||(S=b.NEAREST)),f.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,S),this._magFilter=S}},mipSamples:{get:function(){return this._anisoSamples},set:function(S){var b=this._anisoSamples;if(this._anisoSamples=Math.max(S,1)|0,b!==this._anisoSamples){var I=this.gl.getExtension("EXT_texture_filter_anisotropic");I&&this.gl.texParameterf(this.gl.TEXTURE_2D,I.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(S){if(this.bind(),l.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,S),this._wrapS=S}},wrapT:{get:function(){return this._wrapT},set:function(S){if(this.bind(),l.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,S),this._wrapT=S}},wrap:{get:function(){return this._wrapVector},set:function(S){if(Array.isArray(S)||(S=[S,S]),S.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;b<2;++b)if(l.indexOf(S[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);this._wrapS=S[0],this._wrapT=S[1];var I=this.gl;return this.bind(),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,this._wrapS),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,this._wrapT),S}},shape:{get:function(){return this._shapeVector},set:function(S){if(!Array.isArray(S))S=[S|0,S|0];else if(S.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,S[0]|0,S[1]|0),[S[0]|0,S[1]|0]}},width:{get:function(){return this._shape[0]},set:function(S){return S=S|0,c(this,S,this._shape[1]),S}},height:{get:function(){return this._shape[1]},set:function(S){return S=S|0,c(this,this._shape[0],S),S}}}),p.bind=function(S){var b=this.gl;return S!==void 0&&b.activeTexture(b.TEXTURE0+(S|0)),b.bindTexture(b.TEXTURE_2D,this.handle),S!==void 0?S|0:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var S=Math.min(this._shape[0],this._shape[1]),b=0;S>0;++b,S>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},p.setPixels=function(S,b,I,D){var B=this.gl;this.bind(),Array.isArray(b)?(D=I,I=b[1]|0,b=b[0]|0):(b=b||0,I=I||0),D=D||0;var k=h(S)?S:S.raw;if(k){var F=this._mipLevels.indexOf(D)<0;F?(B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,this.type,k),this._mipLevels.push(D)):B.texSubImage2D(B.TEXTURE_2D,D,b,I,this.format,this.type,k)}else if(S.shape&&S.stride&&S.data){if(S.shape.length<2||b+S.shape[1]>this._shape[1]>>>D||I+S.shape[0]>this._shape[0]>>>D||b<0||I<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");A(B,b,I,D,this.format,this.type,this._mipLevels,S)}else throw new Error("gl-texture2d: Unsupported data type")};function x(S,b){return S.length===3?b[2]===1&&b[1]===S[0]*S[2]&&b[0]===S[2]:b[0]===1&&b[1]===S[0]}function A(S,b,I,D,B,k,F,N){var O=N.dtype,V=N.shape.slice();if(V.length<2||V.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var X=0,ee=0,ne=x(V,N.stride.slice());if(O==="float32"?X=S.FLOAT:O==="float64"?(X=S.FLOAT,ne=!1,O="float32"):O==="uint8"?X=S.UNSIGNED_BYTE:(X=S.UNSIGNED_BYTE,ne=!1,O="uint8"),V.length===2)ee=S.LUMINANCE,V=[V[0],V[1],1],N=t(N.data,V,[N.stride[0],N.stride[1],1],N.offset);else if(V.length===3){if(V[2]===1)ee=S.ALPHA;else if(V[2]===2)ee=S.LUMINANCE_ALPHA;else if(V[2]===3)ee=S.RGB;else if(V[2]===4)ee=S.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");V[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((ee===S.LUMINANCE||ee===S.ALPHA)&&(B===S.LUMINANCE||B===S.ALPHA)&&(ee=B),ee!==B)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var q=N.size,se=F.indexOf(D)<0;if(se&&F.push(D),X===k&&ne)N.offset===0&&N.data.length===q?se?S.texImage2D(S.TEXTURE_2D,D,B,V[0],V[1],0,B,k,N.data):S.texSubImage2D(S.TEXTURE_2D,D,b,I,V[0],V[1],B,k,N.data):se?S.texImage2D(S.TEXTURE_2D,D,B,V[0],V[1],0,B,k,N.data.subarray(N.offset,N.offset+q)):S.texSubImage2D(S.TEXTURE_2D,D,b,I,V[0],V[1],B,k,N.data.subarray(N.offset,N.offset+q));else{var J;k===S.FLOAT?J=a.mallocFloat32(q):J=a.mallocUint8(q);var Z=t(J,V,[V[2],V[2]*V[0],1]);X===S.FLOAT&&k===S.UNSIGNED_BYTE?T(Z,N):i.assign(Z,N),se?S.texImage2D(S.TEXTURE_2D,D,B,V[0],V[1],0,B,k,J.subarray(0,q)):S.texSubImage2D(S.TEXTURE_2D,D,b,I,V[0],V[1],B,k,J.subarray(0,q)),k===S.FLOAT?a.freeFloat32(J):a.freeUint8(J)}}function _(S){var b=S.createTexture();return S.bindTexture(S.TEXTURE_2D,b),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),b}function y(S,b,I,D,B){var k=S.getParameter(S.MAX_TEXTURE_SIZE);if(b<0||b>k||I<0||I>k)throw new Error("gl-texture2d: Invalid texture shape");if(B===S.FLOAT&&!S.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var F=_(S);return S.texImage2D(S.TEXTURE_2D,0,D,b,I,0,D,B,null),new o(S,F,b,I,D,B)}function E(S,b,I,D,B,k){var F=_(S);return S.texImage2D(S.TEXTURE_2D,0,B,B,k,b),new o(S,F,I,D,B,k)}function M(S,b){var I=b.dtype,D=b.shape.slice(),B=S.getParameter(S.MAX_TEXTURE_SIZE);if(D[0]<0||D[0]>B||D[1]<0||D[1]>B)throw new Error("gl-texture2d: Invalid texture size");var k=x(D,b.stride.slice()),F=0;I==="float32"?F=S.FLOAT:I==="float64"?(F=S.FLOAT,k=!1,I="float32"):I==="uint8"?F=S.UNSIGNED_BYTE:(F=S.UNSIGNED_BYTE,k=!1,I="uint8");var N=0;if(D.length===2)N=S.LUMINANCE,D=[D[0],D[1],1],b=t(b.data,D,[b.stride[0],b.stride[1],1],b.offset);else if(D.length===3)if(D[2]===1)N=S.ALPHA;else if(D[2]===2)N=S.LUMINANCE_ALPHA;else if(D[2]===3)N=S.RGB;else if(D[2]===4)N=S.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");F===S.FLOAT&&!S.getExtension("OES_texture_float")&&(F=S.UNSIGNED_BYTE,k=!1);var O,V,X=b.size;if(k)b.offset===0&&b.data.length===X?O=b.data:O=b.data.subarray(b.offset,b.offset+X);else{var ee=[D[2],D[2]*D[0],1];V=a.malloc(X,I);var ne=t(V,D,ee,0);(I==="float32"||I==="float64")&&F===S.UNSIGNED_BYTE?T(ne,b):i.assign(ne,b),O=V.subarray(0,X)}var q=_(S);return S.texImage2D(S.TEXTURE_2D,0,N,D[0],D[1],0,N,F,O),k||a.free(V),new o(S,q,D[0],D[1],N,F)}function s(S){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||m(S),typeof arguments[1]=="number")return y(S,arguments[1],arguments[2],arguments[3]||S.RGBA,arguments[4]||S.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return y(S,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var b=arguments[1],I=h(b)?b:b.raw;if(I)return E(S,I,b.width|0,b.height|0,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return M(S,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function g(r,t,i){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var a=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(i){if(i.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var u=0;u<i.length;++u){var f=i[u];if(f.buffer){var l=f.buffer,m=f.size||4,h=f.type||r.FLOAT,T=!!f.normalized,c=f.stride||0,o=f.offset||0;l.bind(),r.enableVertexAttribArray(u),r.vertexAttribPointer(u,m,h,T,c,o)}else{if(typeof f=="number")r.vertexAttrib1f(u,f);else if(f.length===1)r.vertexAttrib1f(u,f[0]);else if(f.length===2)r.vertexAttrib2f(u,f[0],f[1]);else if(f.length===3)r.vertexAttrib3f(u,f[0],f[1],f[2]);else if(f.length===4)r.vertexAttrib4f(u,f[0],f[1],f[2],f[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(u)}}for(;u<a;++u)r.disableVertexAttribArray(u)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var u=0;u<a;++u)r.disableVertexAttribArray(u)}}v.exports=g},870:function(v,g,r){var t=r(1433);function i(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}i.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},i.prototype.update=function(u,f,l){this._elements=f,this._attributes=u,this._elementsType=l||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(u,f,l){l=l||0;var m=this.gl;this._elements?m.drawElements(u,f,this._elementsType,l):m.drawArrays(u,l,f)};function a(u){return new i(u)}v.exports=a},7518:function(v,g,r){var t=r(1433);function i(f,l,m,h,T,c){this.location=f,this.dimension=l,this.a=m,this.b=h,this.c=T,this.d=c}i.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function a(f,l,m){this.gl=f,this._ext=l,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(f,l,m){if(this.bind(),t(this.gl,l,f),this.unbind(),this._attribs.length=0,f)for(var h=0;h<f.length;++h){var T=f[h];typeof T=="number"?this._attribs.push(new i(h,1,T)):Array.isArray(T)&&this._attribs.push(new i(h,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!l,this._elementsType=m||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(f,l,m){m=m||0;var h=this.gl;this._useElements?h.drawElements(f,l,this._elementsType,m):h.drawArrays(f,m,l)};function u(f,l){return new a(f,l,l.createVertexArrayOES())}v.exports=u},8116:function(v,g,r){var t=r(7518),i=r(870);function a(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}function u(f,l,m,h){var T=f.createVertexArray?new a(f):f.getExtension("OES_vertex_array_object"),c;return T?c=t(f,T):c=i(f),c.update(l,m,h),c}v.exports=u},5632:function(v){v.exports=g;function g(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r}},8192:function(v,g,r){v.exports=u;var t=r(2825),i=r(3536),a=r(244);function u(f,l){var m=t(f[0],f[1],f[2]),h=t(l[0],l[1],l[2]);i(m,m),i(h,h);var T=a(m,h);return T>1?0:Math.acos(T)}},9226:function(v){v.exports=g;function g(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(v){v.exports=g;function g(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(v){v.exports=g;function g(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(v){v.exports=g;function g(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=g;function g(r,t,i){var a=t[0],u=t[1],f=t[2],l=i[0],m=i[1],h=i[2];return r[0]=u*h-f*m,r[1]=f*l-a*h,r[2]=a*m-u*l,r}},5455:function(v,g,r){v.exports=r(7056)},7056:function(v){v.exports=g;function g(r,t){var i=t[0]-r[0],a=t[1]-r[1],u=t[2]-r[2];return Math.sqrt(i*i+a*a+u*u)}},4008:function(v,g,r){v.exports=r(6690)},6690:function(v){v.exports=g;function g(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r}},244:function(v){v.exports=g;function g(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(v){v.exports=1e-6},9922:function(v,g,r){v.exports=i;var t=r(2613);function i(a,u){var f=a[0],l=a[1],m=a[2],h=u[0],T=u[1],c=u[2];return Math.abs(f-h)<=t*Math.max(1,Math.abs(f),Math.abs(h))&&Math.abs(l-T)<=t*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(m-c)<=t*Math.max(1,Math.abs(m),Math.abs(c))}},9265:function(v){v.exports=g;function g(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(v){v.exports=g;function g(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(v,g,r){v.exports=i;var t=r(1091)();function i(a,u,f,l,m,h){var T,c;for(u||(u=3),f||(f=0),l?c=Math.min(l*u+f,a.length):c=a.length,T=f;T<c;T+=u)t[0]=a[T],t[1]=a[T+1],t[2]=a[T+2],m(t,t,h),a[T]=t[0],a[T+1]=t[1],a[T+2]=t[2];return a}},2825:function(v){v.exports=g;function g(r,t,i){var a=new Float32Array(3);return a[0]=r,a[1]=t,a[2]=i,a}},2931:function(v,g,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=g;function g(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(v,g,r){v.exports=r(1387)},1387:function(v){v.exports=g;function g(r){var t=r[0],i=r[1],a=r[2];return Math.sqrt(t*t+i*i+a*a)}},6658:function(v){v.exports=g;function g(r,t,i,a){var u=t[0],f=t[1],l=t[2];return r[0]=u+a*(i[0]-u),r[1]=f+a*(i[1]-f),r[2]=l+a*(i[2]-l),r}},7417:function(v){v.exports=g;function g(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r}},8107:function(v){v.exports=g;function g(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r}},4505:function(v,g,r){v.exports=r(5847)},5847:function(v){v.exports=g;function g(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r}},5093:function(v){v.exports=g;function g(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(v){v.exports=g;function g(r,t){var i=t[0],a=t[1],u=t[2],f=i*i+a*a+u*u;return f>0&&(f=1/Math.sqrt(f),r[0]=t[0]*f,r[1]=t[1]*f,r[2]=t[2]*f),r}},7636:function(v){v.exports=g;function g(r,t){t=t||1;var i=Math.random()*2*Math.PI,a=Math.random()*2-1,u=Math.sqrt(1-a*a)*t;return r[0]=Math.cos(i)*u,r[1]=Math.sin(i)*u,r[2]=a*t,r}},6894:function(v){v.exports=g;function g(r,t,i,a){var u=i[1],f=i[2],l=t[1]-u,m=t[2]-f,h=Math.sin(a),T=Math.cos(a);return r[0]=t[0],r[1]=u+l*T-m*h,r[2]=f+l*h+m*T,r}},109:function(v){v.exports=g;function g(r,t,i,a){var u=i[0],f=i[2],l=t[0]-u,m=t[2]-f,h=Math.sin(a),T=Math.cos(a);return r[0]=u+m*h+l*T,r[1]=t[1],r[2]=f+m*T-l*h,r}},8692:function(v){v.exports=g;function g(r,t,i,a){var u=i[0],f=i[1],l=t[0]-u,m=t[1]-f,h=Math.sin(a),T=Math.cos(a);return r[0]=u+l*T-m*h,r[1]=f+l*h+m*T,r[2]=t[2],r}},2447:function(v){v.exports=g;function g(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(v){v.exports=g;function g(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r}},8489:function(v){v.exports=g;function g(r,t,i,a){return r[0]=t[0]+i[0]*a,r[1]=t[1]+i[1]*a,r[2]=t[2]+i[2]*a,r}},1463:function(v){v.exports=g;function g(r,t,i,a){return r[0]=t,r[1]=i,r[2]=a,r}},6141:function(v,g,r){v.exports=r(2953)},5486:function(v,g,r){v.exports=r(3066)},2953:function(v){v.exports=g;function g(r,t){var i=t[0]-r[0],a=t[1]-r[1],u=t[2]-r[2];return i*i+a*a+u*u}},3066:function(v){v.exports=g;function g(r){var t=r[0],i=r[1],a=r[2];return t*t+i*i+a*a}},2229:function(v,g,r){v.exports=r(6843)},6843:function(v){v.exports=g;function g(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r}},492:function(v){v.exports=g;function g(r,t,i){var a=t[0],u=t[1],f=t[2];return r[0]=a*i[0]+u*i[3]+f*i[6],r[1]=a*i[1]+u*i[4]+f*i[7],r[2]=a*i[2]+u*i[5]+f*i[8],r}},5673:function(v){v.exports=g;function g(r,t,i){var a=t[0],u=t[1],f=t[2],l=i[3]*a+i[7]*u+i[11]*f+i[15];return l=l||1,r[0]=(i[0]*a+i[4]*u+i[8]*f+i[12])/l,r[1]=(i[1]*a+i[5]*u+i[9]*f+i[13])/l,r[2]=(i[2]*a+i[6]*u+i[10]*f+i[14])/l,r}},264:function(v){v.exports=g;function g(r,t,i){var a=t[0],u=t[1],f=t[2],l=i[0],m=i[1],h=i[2],T=i[3],c=T*a+m*f-h*u,o=T*u+h*a-l*f,p=T*f+l*u-m*a,x=-l*a-m*u-h*f;return r[0]=c*T+x*-l+o*-h-p*-m,r[1]=o*T+x*-m+p*-l-c*-h,r[2]=p*T+x*-h+c*-m-o*-l,r}},4361:function(v){v.exports=g;function g(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r[3]=t[3]+i[3],r}},2335:function(v){v.exports=g;function g(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(v){v.exports=g;function g(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(v){v.exports=g;function g(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=g;function g(r,t){var i=t[0]-r[0],a=t[1]-r[1],u=t[2]-r[2],f=t[3]-r[3];return Math.sqrt(i*i+a*a+u*u+f*f)}},1373:function(v){v.exports=g;function g(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r[3]=t[3]/i[3],r}},3750:function(v){v.exports=g;function g(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(v){v.exports=g;function g(r,t,i,a){var u=new Float32Array(4);return u[0]=r,u[1]=t,u[2]=i,u[3]=a,u}},9970:function(v,g,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=g;function g(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(v){v.exports=g;function g(r){var t=r[0],i=r[1],a=r[2],u=r[3];return Math.sqrt(t*t+i*i+a*a+u*u)}},2573:function(v){v.exports=g;function g(r,t,i,a){var u=t[0],f=t[1],l=t[2],m=t[3];return r[0]=u+a*(i[0]-u),r[1]=f+a*(i[1]-f),r[2]=l+a*(i[2]-l),r[3]=m+a*(i[3]-m),r}},160:function(v){v.exports=g;function g(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r[3]=Math.max(t[3],i[3]),r}},2334:function(v){v.exports=g;function g(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r[3]=Math.min(t[3],i[3]),r}},3576:function(v){v.exports=g;function g(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r[3]=t[3]*i[3],r}},1498:function(v){v.exports=g;function g(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(v){v.exports=g;function g(r,t){var i=t[0],a=t[1],u=t[2],f=t[3],l=i*i+a*a+u*u+f*f;return l>0&&(l=1/Math.sqrt(l),r[0]=i*l,r[1]=a*l,r[2]=u*l,r[3]=f*l),r}},9131:function(v,g,r){var t=r(5177),i=r(9288);v.exports=a;function a(u,f){return f=f||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),t(u,u),i(u,u,f),u}},9288:function(v){v.exports=g;function g(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r[3]=t[3]*i,r}},4844:function(v){v.exports=g;function g(r,t,i,a){return r[0]=t[0]+i[0]*a,r[1]=t[1]+i[1]*a,r[2]=t[2]+i[2]*a,r[3]=t[3]+i[3]*a,r}},4578:function(v){v.exports=g;function g(r,t,i,a,u){return r[0]=t,r[1]=i,r[2]=a,r[3]=u,r}},7960:function(v){v.exports=g;function g(r,t){var i=t[0]-r[0],a=t[1]-r[1],u=t[2]-r[2],f=t[3]-r[3];return i*i+a*a+u*u+f*f}},483:function(v){v.exports=g;function g(r){var t=r[0],i=r[1],a=r[2],u=r[3];return t*t+i*i+a*a+u*u}},6860:function(v){v.exports=g;function g(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r[3]=t[3]-i[3],r}},5352:function(v){v.exports=g;function g(r,t,i){var a=t[0],u=t[1],f=t[2],l=t[3];return r[0]=i[0]*a+i[4]*u+i[8]*f+i[12]*l,r[1]=i[1]*a+i[5]*u+i[9]*f+i[13]*l,r[2]=i[2]*a+i[6]*u+i[10]*f+i[14]*l,r[3]=i[3]*a+i[7]*u+i[11]*f+i[15]*l,r}},4041:function(v){v.exports=g;function g(r,t,i){var a=t[0],u=t[1],f=t[2],l=i[0],m=i[1],h=i[2],T=i[3],c=T*a+m*f-h*u,o=T*u+h*a-l*f,p=T*f+l*u-m*a,x=-l*a-m*u-h*f;return r[0]=c*T+x*-l+o*-h-p*-m,r[1]=o*T+x*-m+p*-l-c*-h,r[2]=p*T+x*-h+c*-m-o*-l,r[3]=t[3],r}},1848:function(v,g,r){var t=r(4905),i=r(6468);v.exports=a;function a(u){for(var f=Array.isArray(u)?u:t(u),l=0;l<f.length;l++){var m=f[l];if(m.type==="preprocessor"){var h=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var T=h[1],c=h[2];return(T?i(c):c).trim()}}}}},5874:function(v,g,r){v.exports=b;var t=r(620),i=r(7827),a=r(6852),u=r(7932),f=r(3508),l=999,m=9999,h=0,T=1,c=2,o=3,p=4,x=5,A=6,_=7,y=8,E=9,M=10,s=11,S=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function b(I){var D=0,B=0,k=l,F,N,O=[],V=[],X=1,ee=0,ne=0,q=!1,se=!1,J="",Z;I=I||{};var te=a,Y=t;I.version==="300 es"&&(te=f,Y=u);for(var ie={},le={},D=0;D<te.length;D++)ie[te[D]]=!0;for(var D=0;D<Y.length;D++)le[Y[D]]=!0;return function(Ge){return V=[],Ge!==null?K(Ge):ue()};function j(Ge){Ge.length&&V.push({type:S[k],data:Ge,position:ne,line:X,column:ee})}function K(Ge){D=0,Ge.toString&&(Ge=Ge.toString()),J+=Ge.replace(/\r\n/g,`
`),Z=J.length;for(var Fe;F=J[D],D<Z;){switch(Fe=D,k){case h:D=Ae();break;case T:D=Se();break;case c:D=xe();break;case o:D=De();break;case p:D=be();break;case s:D=Ce();break;case x:D=Pe();break;case m:D=Ve();break;case E:D=he();break;case l:D=ae();break}if(Fe!==D)switch(J[Fe]){case`
`:ee=0,++X;break;default:++ee;break}}return B+=D,J=J.slice(D),V}function ue(Ge){return O.length&&j(O.join("")),k=M,j("(eof)"),V}function ae(){return O=O.length?[]:O,N==="/"&&F==="*"?(ne=B+D-1,k=h,N=F,D+1):N==="/"&&F==="/"?(ne=B+D-1,k=T,N=F,D+1):F==="#"?(k=c,ne=B+D,D):/\s/.test(F)?(k=E,ne=B+D,D):(q=/\d/.test(F),se=/[^\w_]/.test(F),ne=B+D,k=q?p:se?o:m,D)}function he(){return/[^\s]/g.test(F)?(j(O.join("")),k=l,D):(O.push(F),N=F,D+1)}function xe(){return(F==="\r"||F===`
`)&&N!=="\\"?(j(O.join("")),k=l,D):(O.push(F),N=F,D+1)}function Se(){return xe()}function Ae(){return F==="/"&&N==="*"?(O.push(F),j(O.join("")),k=l,D+1):(O.push(F),N=F,D+1)}function De(){if(N==="."&&/\d/.test(F))return k=x,D;if(N==="/"&&F==="*")return k=h,D;if(N==="/"&&F==="/")return k=T,D;if(F==="."&&O.length){for(;we(O););return k=x,D}if(F===";"||F===")"||F==="("){if(O.length)for(;we(O););return j(F),k=l,D+1}var Ge=O.length===2&&F!=="=";if(/[\w_\d\s]/.test(F)||Ge){for(;we(O););return k=l,D}return O.push(F),N=F,D+1}function we(Ge){var Fe=0,He,ft;do{if(He=i.indexOf(Ge.slice(0,Ge.length+Fe).join("")),ft=i[He],He===-1){if(Fe--+Ge.length>0)continue;ft=Ge.slice(0,1).join("")}return j(ft),ne+=ft.length,O=O.slice(ft.length),O.length}while(!0)}function Ce(){return/[^a-fA-F0-9]/.test(F)?(j(O.join("")),k=l,D):(O.push(F),N=F,D+1)}function be(){return F==="."||/[eE]/.test(F)?(O.push(F),k=x,N=F,D+1):F==="x"&&O.length===1&&O[0]==="0"?(k=s,O.push(F),N=F,D+1):/[^\d]/.test(F)?(j(O.join("")),k=l,D):(O.push(F),N=F,D+1)}function Pe(){return F==="f"&&(O.push(F),N=F,D+=1),/[eE]/.test(F)||(F==="-"||F==="+")&&/[eE]/.test(N)?(O.push(F),N=F,D+1):/[^\d]/.test(F)?(j(O.join("")),k=l,D):(O.push(F),N=F,D+1)}function Ve(){if(/[^\d\w_]/.test(F)){var Ge=O.join("");return le[Ge]?k=y:ie[Ge]?k=_:k=A,j(O.join("")),k=l,D}return O.push(F),N=F,D+1}}},3508:function(v,g,r){var t=r(6852);t=t.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,g,r){var t=r(620);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,g,r){var t=r(5874);v.exports=i;function i(a,u){var f=t(u),l=[];return l=l.concat(f(a)),l=l.concat(f(null)),l}},3236:function(v){v.exports=function(g){typeof g=="string"&&(g=[g]);for(var r=[].slice.call(arguments,1),t=[],i=0;i<g.length-1;i++)t.push(g[i],r[i]||"");return t.push(g[i]),t.join("")}},7520:function(v,g,r){var t=r(9507);function i(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{a=!1}return a}v.exports=t&&i()},3778:function(v,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(r,t,i,a,u){var f,l,m=u*8-a-1,h=(1<<m)-1,T=h>>1,c=-7,o=i?u-1:0,p=i?-1:1,x=r[t+o];for(o+=p,f=x&(1<<-c)-1,x>>=-c,c+=m;c>0;f=f*256+r[t+o],o+=p,c-=8);for(l=f&(1<<-c)-1,f>>=-c,c+=a;c>0;l=l*256+r[t+o],o+=p,c-=8);if(f===0)f=1-T;else{if(f===h)return l?NaN:(x?-1:1)*(1/0);l=l+Math.pow(2,a),f=f-T}return(x?-1:1)*l*Math.pow(2,f-a)},g.write=function(r,t,i,a,u,f){var l,m,h,T=f*8-u-1,c=(1<<T)-1,o=c>>1,p=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=a?0:f-1,A=a?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,l=c):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+o>=1?t+=p/h:t+=p*Math.pow(2,1-o),t*h>=2&&(l++,h/=2),l+o>=c?(m=0,l=c):l+o>=1?(m=(t*h-1)*Math.pow(2,u),l=l+o):(m=t*Math.pow(2,o-1)*Math.pow(2,u),l=0));u>=8;r[i+x]=m&255,x+=A,m/=256,u-=8);for(l=l<<u|m,T+=u;T>0;r[i+x]=l&255,x+=A,l/=256,T-=8);r[i+x-A]|=_*128}},8954:function(v,g,r){v.exports=o;var t=r(3250),i=r(6803).Fw;function a(p,x,A){this.vertices=p,this.adjacent=x,this.boundary=A,this.lastVisited=-1}a.prototype.flip=function(){var p=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=p;var x=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=x};function u(p,x,A){this.vertices=p,this.cell=x,this.index=A}function f(p,x){return i(p.vertices,x.vertices)}function l(p){return function(){var x=this.tuple;return p.apply(this,x)}}function m(p){var x=t[p+1];return x||(x=t),l(x)}var h=[];function T(p,x,A){this.dimension=p,this.vertices=x,this.simplices=A,this.interior=A.filter(function(E){return!E.boundary}),this.tuple=new Array(p+1);for(var _=0;_<=p;++_)this.tuple[_]=this.vertices[_];var y=h[p];y||(y=h[p]=m(p)),this.orient=y}var c=T.prototype;c.handleBoundaryDegeneracy=function(p,x){var A=this.dimension,_=this.vertices.length-1,y=this.tuple,E=this.vertices,M=[p];for(p.lastVisited=-_;M.length>0;){p=M.pop();for(var s=p.adjacent,S=0;S<=A;++S){var b=s[S];if(!(!b.boundary||b.lastVisited<=-_)){for(var I=b.vertices,D=0;D<=A;++D){var B=I[D];B<0?y[D]=x:y[D]=E[B]}var k=this.orient();if(k>0)return b;b.lastVisited=-_,k===0&&M.push(b)}}}return null},c.walk=function(p,x){var A=this.vertices.length-1,_=this.dimension,y=this.vertices,E=this.tuple,M=x?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[M];e:for(;!s.boundary;){for(var S=s.vertices,b=s.adjacent,I=0;I<=_;++I)E[I]=y[S[I]];s.lastVisited=A;for(var I=0;I<=_;++I){var D=b[I];if(!(D.lastVisited>=A)){var B=E[I];E[I]=p;var k=this.orient();if(E[I]=B,k<0){s=D;continue e}else D.boundary?D.lastVisited=-A:D.lastVisited=A}}return}return s},c.addPeaks=function(p,x){var A=this.vertices.length-1,_=this.dimension,y=this.vertices,E=this.tuple,M=this.interior,s=this.simplices,S=[x];x.lastVisited=A,x.vertices[x.vertices.indexOf(-1)]=A,x.boundary=!1,M.push(x);for(var b=[];S.length>0;){var x=S.pop(),I=x.vertices,D=x.adjacent,B=I.indexOf(A);if(!(B<0)){for(var k=0;k<=_;++k)if(k!==B){var F=D[k];if(!(!F.boundary||F.lastVisited>=A)){var N=F.vertices;if(F.lastVisited!==-A){for(var O=0,V=0;V<=_;++V)N[V]<0?(O=V,E[V]=p):E[V]=y[N[V]];var X=this.orient();if(X>0){N[O]=A,F.boundary=!1,M.push(F),S.push(F),F.lastVisited=A;continue}else F.lastVisited=-A}var ee=F.adjacent,ne=I.slice(),q=D.slice(),se=new a(ne,q,!0);s.push(se);var J=ee.indexOf(x);if(!(J<0)){ee[J]=se,q[B]=F,ne[k]=-1,q[k]=x,D[k]=se,se.flip();for(var V=0;V<=_;++V){var Z=ne[V];if(!(Z<0||Z===A)){for(var te=new Array(_-1),Y=0,ie=0;ie<=_;++ie){var le=ne[ie];le<0||ie===V||(te[Y++]=le)}b.push(new u(te,se,V))}}}}}}}b.sort(f);for(var k=0;k+1<b.length;k+=2){var j=b[k],K=b[k+1],ue=j.index,ae=K.index;ue<0||ae<0||(j.cell.adjacent[j.index]=K.cell,K.cell.adjacent[K.index]=j.cell)}},c.insert=function(p,x){var A=this.vertices;A.push(p);var _=this.walk(p,x);if(_){for(var y=this.dimension,E=this.tuple,M=0;M<=y;++M){var s=_.vertices[M];s<0?E[M]=p:E[M]=A[s]}var S=this.orient(E);S<0||S===0&&(_=this.handleBoundaryDegeneracy(_,p),!_)||this.addPeaks(p,_)}},c.boundary=function(){for(var p=this.dimension,x=[],A=this.simplices,_=A.length,y=0;y<_;++y){var E=A[y];if(E.boundary){for(var M=new Array(p),s=E.vertices,S=0,b=0,I=0;I<=p;++I)s[I]>=0?M[S++]=s[I]:b=I&1;if(b===(p&1)){var D=M[0];M[0]=M[1],M[1]=D}x.push(M)}}return x};function o(p,x){var A=p.length;if(A===0)throw new Error("Must have at least d+1 points");var _=p[0].length;if(A<=_)throw new Error("Must input at least d+1 points");var y=p.slice(0,_+1),E=t.apply(void 0,y);if(E===0)throw new Error("Input not in general position");for(var M=new Array(_+1),s=0;s<=_;++s)M[s]=s;E<0&&(M[0]=1,M[1]=0);for(var S=new a(M,new Array(_+1),!1),b=S.adjacent,I=new Array(_+2),s=0;s<=_;++s){for(var D=M.slice(),B=0;B<=_;++B)B===s&&(D[B]=-1);var k=D[0];D[0]=D[1],D[1]=k;var F=new a(D,new Array(_+1),!0);b[s]=F,I[s]=F}I[_+1]=S;for(var s=0;s<=_;++s)for(var D=b[s].vertices,N=b[s].adjacent,B=0;B<=_;++B){var O=D[B];if(O<0){N[B]=S;continue}for(var V=0;V<=_;++V)b[V].vertices.indexOf(O)<0&&(N[B]=b[V])}for(var X=new T(_,y,I),ee=!!x,s=_+1;s<A;++s)X.insert(p[s],ee);return X.boundary()}},3352:function(v,g,r){var t=r(2478),i=0,a=1,u=2;v.exports=S;function f(b,I,D,B,k){this.mid=b,this.left=I,this.right=D,this.leftPoints=B,this.rightPoints=k,this.count=(I?I.count:0)+(D?D.count:0)+B.length}var l=f.prototype;function m(b,I){b.mid=I.mid,b.left=I.left,b.right=I.right,b.leftPoints=I.leftPoints,b.rightPoints=I.rightPoints,b.count=I.count}function h(b,I){var D=E(I);b.mid=D.mid,b.left=D.left,b.right=D.right,b.leftPoints=D.leftPoints,b.rightPoints=D.rightPoints,b.count=D.count}function T(b,I){var D=b.intervals([]);D.push(I),h(b,D)}function c(b,I){var D=b.intervals([]),B=D.indexOf(I);return B<0?i:(D.splice(B,1),h(b,D),a)}l.intervals=function(b){return b.push.apply(b,this.leftPoints),this.left&&this.left.intervals(b),this.right&&this.right.intervals(b),b},l.insert=function(b){var I=this.count-this.leftPoints.length;if(this.count+=1,b[1]<this.mid)this.left?4*(this.left.count+1)>3*(I+1)?T(this,b):this.left.insert(b):this.left=E([b]);else if(b[0]>this.mid)this.right?4*(this.right.count+1)>3*(I+1)?T(this,b):this.right.insert(b):this.right=E([b]);else{var D=t.ge(this.leftPoints,b,_),B=t.ge(this.rightPoints,b,y);this.leftPoints.splice(D,0,b),this.rightPoints.splice(B,0,b)}},l.remove=function(b){var I=this.count-this.leftPoints;if(b[1]<this.mid){if(!this.left)return i;var D=this.right?this.right.count:0;if(4*D>3*(I-1))return c(this,b);var B=this.left.remove(b);return B===u?(this.left=null,this.count-=1,a):(B===a&&(this.count-=1),B)}else if(b[0]>this.mid){if(!this.right)return i;var k=this.left?this.left.count:0;if(4*k>3*(I-1))return c(this,b);var B=this.right.remove(b);return B===u?(this.right=null,this.count-=1,a):(B===a&&(this.count-=1),B)}else{if(this.count===1)return this.leftPoints[0]===b?u:i;if(this.leftPoints.length===1&&this.leftPoints[0]===b){if(this.left&&this.right){for(var F=this,N=this.left;N.right;)F=N,N=N.right;if(F===this)N.right=this.right;else{var O=this.left,B=this.right;F.count-=N.count,F.right=N.left,N.left=O,N.right=B}m(this,N),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return a}for(var O=t.ge(this.leftPoints,b,_);O<this.leftPoints.length&&this.leftPoints[O][0]===b[0];++O)if(this.leftPoints[O]===b){this.count-=1,this.leftPoints.splice(O,1);for(var B=t.ge(this.rightPoints,b,y);B<this.rightPoints.length&&this.rightPoints[B][1]===b[1];++B)if(this.rightPoints[B]===b)return this.rightPoints.splice(B,1),a}return i}};function o(b,I,D){for(var B=0;B<b.length&&b[B][0]<=I;++B){var k=D(b[B]);if(k)return k}}function p(b,I,D){for(var B=b.length-1;B>=0&&b[B][1]>=I;--B){var k=D(b[B]);if(k)return k}}function x(b,I){for(var D=0;D<b.length;++D){var B=I(b[D]);if(B)return B}}l.queryPoint=function(b,I){if(b<this.mid){if(this.left){var D=this.left.queryPoint(b,I);if(D)return D}return o(this.leftPoints,b,I)}else if(b>this.mid){if(this.right){var D=this.right.queryPoint(b,I);if(D)return D}return p(this.rightPoints,b,I)}else return x(this.leftPoints,I)},l.queryInterval=function(b,I,D){if(b<this.mid&&this.left){var B=this.left.queryInterval(b,I,D);if(B)return B}if(I>this.mid&&this.right){var B=this.right.queryInterval(b,I,D);if(B)return B}return I<this.mid?o(this.leftPoints,I,D):b>this.mid?p(this.rightPoints,b,D):x(this.leftPoints,D)};function A(b,I){return b-I}function _(b,I){var D=b[0]-I[0];return D||b[1]-I[1]}function y(b,I){var D=b[1]-I[1];return D||b[0]-I[0]}function E(b){if(b.length===0)return null;for(var I=[],D=0;D<b.length;++D)I.push(b[D][0],b[D][1]);I.sort(A);for(var B=I[I.length>>1],k=[],F=[],N=[],D=0;D<b.length;++D){var O=b[D];O[1]<B?k.push(O):B<O[0]?F.push(O):N.push(O)}var V=N,X=N.slice();return V.sort(_),X.sort(y),new f(B,E(k),E(F),V,X)}function M(b){this.root=b}var s=M.prototype;s.insert=function(b){this.root?this.root.insert(b):this.root=new f(b[0],null,null,[b],[b])},s.remove=function(b){if(this.root){var I=this.root.remove(b);return I===u&&(this.root=null),I!==i}return!1},s.queryPoint=function(b,I){if(this.root)return this.root.queryPoint(b,I)},s.queryInterval=function(b,I,D){if(b<=I&&this.root)return this.root.queryInterval(b,I,D)},Object.defineProperty(s,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(s,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function S(b){return!b||b.length===0?new M(null):new M(E(b))}},7762:function(v){function g(r){for(var t=new Array(r),i=0;i<r;++i)t[i]=i;return t}v.exports=g},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(g(t)||r(t)||!!t._isBuffer)};function g(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&g(t.slice(0,0))}},5219:function(v){v.exports=function(g){for(var r=g.length,t,i=0;i<r;i++)if(t=g.charCodeAt(i),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(v){function g(r,t,i){return r*(1-i)+t*i}v.exports=g},2652:function(v,g,r){var t=r(4335),i=r(6864),a=r(1903),u=r(9921),f=r(7608),l=r(5665),m={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},h=i(),T=i(),c=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];v.exports=function(E,M,s,S,b,I){if(M||(M=[0,0,0]),s||(s=[0,0,0]),S||(S=[0,0,0]),b||(b=[0,0,0,1]),I||(I=[0,0,0,1]),!t(h,E)||(a(T,h),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(u(T)<1e-8)))return!1;var D=h[3],B=h[7],k=h[11],F=h[12],N=h[13],O=h[14],V=h[15];if(D!==0||B!==0||k!==0){c[0]=D,c[1]=B,c[2]=k,c[3]=V;var X=f(T,T);if(!X)return!1;l(T,T),x(b,c,T)}else b[0]=b[1]=b[2]=0,b[3]=1;if(M[0]=F,M[1]=N,M[2]=O,A(o,h),s[0]=m.length(o[0]),m.normalize(o[0],o[0]),S[0]=m.dot(o[0],o[1]),_(o[1],o[1],o[0],1,-S[0]),s[1]=m.length(o[1]),m.normalize(o[1],o[1]),S[0]/=s[1],S[1]=m.dot(o[0],o[2]),_(o[2],o[2],o[0],1,-S[1]),S[2]=m.dot(o[1],o[2]),_(o[2],o[2],o[1],1,-S[2]),s[2]=m.length(o[2]),m.normalize(o[2],o[2]),S[1]/=s[2],S[2]/=s[2],m.cross(p,o[1],o[2]),m.dot(o[0],p)<0)for(var ee=0;ee<3;ee++)s[ee]*=-1,o[ee][0]*=-1,o[ee][1]*=-1,o[ee][2]*=-1;return I[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),I[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),I[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),I[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(I[0]=-I[0]),o[0][2]>o[2][0]&&(I[1]=-I[1]),o[1][0]>o[0][1]&&(I[2]=-I[2]),!0};function x(y,E,M){var s=E[0],S=E[1],b=E[2],I=E[3];return y[0]=M[0]*s+M[4]*S+M[8]*b+M[12]*I,y[1]=M[1]*s+M[5]*S+M[9]*b+M[13]*I,y[2]=M[2]*s+M[6]*S+M[10]*b+M[14]*I,y[3]=M[3]*s+M[7]*S+M[11]*b+M[15]*I,y}function A(y,E){y[0][0]=E[0],y[0][1]=E[1],y[0][2]=E[2],y[1][0]=E[4],y[1][1]=E[5],y[1][2]=E[6],y[2][0]=E[8],y[2][1]=E[9],y[2][2]=E[10]}function _(y,E,M,s,S){y[0]=E[0]*s+M[0]*S,y[1]=E[1]*s+M[1]*S,y[2]=E[2]*s+M[2]*S}},4335:function(v){v.exports=function(r,t){var i=t[15];if(i===0)return!1;for(var a=1/i,u=0;u<16;u++)r[u]=t[u]*a;return!0}},7442:function(v,g,r){var t=r(6658),i=r(7182),a=r(2652),u=r(9921),f=r(8648),l=c(),m=c(),h=c();v.exports=T;function T(x,A,_,y){if(u(A)===0||u(_)===0)return!1;var E=a(A,l.translate,l.scale,l.skew,l.perspective,l.quaternion),M=a(_,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!E||!M?!1:(t(h.translate,l.translate,m.translate,y),t(h.skew,l.skew,m.skew,y),t(h.scale,l.scale,m.scale,y),t(h.perspective,l.perspective,m.perspective,y),f(h.quaternion,l.quaternion,m.quaternion,y),i(x,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:o(),scale:o(1),skew:o(),perspective:p(),quaternion:p()}}function o(x){return[x||0,x||0,x||0]}function p(){return[0,0,0,1]}},7182:function(v,g,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};t.create();var i=t.create();v.exports=function(u,f,l,m,h,T){return t.identity(u),t.fromRotationTranslation(u,T,f),u[3]=h[0],u[7]=h[1],u[11]=h[2],u[15]=h[3],t.identity(i),m[2]!==0&&(i[9]=m[2],t.multiply(u,u,i)),m[1]!==0&&(i[9]=0,i[8]=m[1],t.multiply(u,u,i)),m[0]!==0&&(i[8]=0,i[4]=m[0],t.multiply(u,u,i)),t.scale(u,u,l),u}},4192:function(v,g,r){var t=r(2478),i=r(7442),a=r(7608),u=r(5567),f=r(2408),l=r(7089),m=r(6582),h=r(7656);r(2504);var T=r(3536),c=[0,0,0];v.exports=A;function o(_){this._components=_.slice(),this._time=[0],this.prevMatrix=_.slice(),this.nextMatrix=_.slice(),this.computedMatrix=_.slice(),this.computedInverse=_.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var p=o.prototype;p.recalcMatrix=function(_){var y=this._time,E=t.le(y,_),M=this.computedMatrix;if(!(E<0)){var s=this._components;if(E===y.length-1)for(var S=16*E,b=0;b<16;++b)M[b]=s[S++];else{for(var I=y[E+1]-y[E],S=16*E,D=this.prevMatrix,B=!0,b=0;b<16;++b)D[b]=s[S++];for(var k=this.nextMatrix,b=0;b<16;++b)k[b]=s[S++],B=B&&D[b]===k[b];if(I<1e-6||B)for(var b=0;b<16;++b)M[b]=D[b];else i(M,D,k,(_-y[E])/I)}var F=this.computedUp;F[0]=M[1],F[1]=M[5],F[2]=M[9],T(F,F);var N=this.computedInverse;a(N,M);var O=this.computedEye,V=N[15];O[0]=N[12]/V,O[1]=N[13]/V,O[2]=N[14]/V;for(var X=this.computedCenter,ee=Math.exp(this.computedRadius[0]),b=0;b<3;++b)X[b]=O[b]-M[2+4*b]*ee}},p.idle=function(_){if(!(_<this.lastT())){for(var y=this._components,E=y.length-16,M=0;M<16;++M)y.push(y[E++]);this._time.push(_)}},p.flush=function(_){var y=t.gt(this._time,_)-2;y<0||(this._time.splice(0,y),this._components.splice(0,16*y))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(_,y,E,M){this.recalcMatrix(_),y=y||this.computedEye,E=E||c,M=M||this.computedUp,this.setMatrix(_,m(this.computedMatrix,y,E,M));for(var s=0,S=0;S<3;++S)s+=Math.pow(E[S]-y[S],2);s=Math.log(Math.sqrt(s)),this.computedRadius[0]=s},p.rotate=function(_,y,E,M){this.recalcMatrix(_);var s=this.computedInverse;y&&f(s,s,y),E&&u(s,s,E),M&&l(s,s,M),this.setMatrix(_,a(this.computedMatrix,s))};var x=[0,0,0];p.pan=function(_,y,E,M){x[0]=-(y||0),x[1]=-(E||0),x[2]=-(M||0),this.recalcMatrix(_);var s=this.computedInverse;h(s,s,x),this.setMatrix(_,a(s,s))},p.translate=function(_,y,E,M){x[0]=y||0,x[1]=E||0,x[2]=M||0,this.recalcMatrix(_);var s=this.computedMatrix;h(s,s,x),this.setMatrix(_,s)},p.setMatrix=function(_,y){if(!(_<this.lastT())){this._time.push(_);for(var E=0;E<16;++E)this._components.push(y[E])}},p.setDistance=function(_,y){this.computedRadius[0]=y},p.setDistanceLimits=function(_,y){var E=this._limits;E[0]=_,E[1]=y},p.getDistanceLimits=function(_){var y=this._limits;return _?(_[0]=y[0],_[1]=y[1],_):y};function A(_){_=_||{};var y=_.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(y)}},3090:function(v,g,r){v.exports=i;var t=r(3250)[3];function i(a){var u=a.length;if(u<3){for(var p=new Array(u),f=0;f<u;++f)p[f]=f;return u===2&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:p}for(var l=new Array(u),f=0;f<u;++f)l[f]=f;l.sort(function(y,E){var M=a[y][0]-a[E][0];return M||a[y][1]-a[E][1]});for(var m=[l[0],l[1]],h=[l[0],l[1]],f=2;f<u;++f){for(var T=l[f],c=a[T],o=m.length;o>1&&t(a[m[o-2]],a[m[o-1]],c)<=0;)o-=1,m.pop();for(m.push(T),o=h.length;o>1&&t(a[h[o-2]],a[h[o-1]],c)>=0;)o-=1,h.pop();h.push(T)}for(var p=new Array(h.length+m.length-2),x=0,f=0,A=m.length;f<A;++f)p[x++]=m[f];for(var _=h.length-2;_>0;--_)p[x++]=h[_];return p}},351:function(v,g,r){v.exports=i;var t=r(4687);function i(a,u){u||(u=a,a=window);var f=0,l=0,m=0,h={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function c(b){var I=!1;return"altKey"in b&&(I=I||b.altKey!==h.alt,h.alt=!!b.altKey),"shiftKey"in b&&(I=I||b.shiftKey!==h.shift,h.shift=!!b.shiftKey),"ctrlKey"in b&&(I=I||b.ctrlKey!==h.control,h.control=!!b.ctrlKey),"metaKey"in b&&(I=I||b.metaKey!==h.meta,h.meta=!!b.metaKey),I}function o(b,I){var D=t.x(I),B=t.y(I);"buttons"in I&&(b=I.buttons|0),(b!==f||D!==l||B!==m||c(I))&&(f=b|0,l=D||0,m=B||0,u&&u(f,l,m,h))}function p(b){o(0,b)}function x(){(f||l||m||h.shift||h.alt||h.meta||h.control)&&(l=m=0,f=0,h.shift=h.alt=h.control=h.meta=!1,u&&u(0,0,0,h))}function A(b){c(b)&&u&&u(f,l,m,h)}function _(b){t.buttons(b)===0?o(0,b):o(f,b)}function y(b){o(f|t.buttons(b),b)}function E(b){o(f&~t.buttons(b),b)}function M(){T||(T=!0,a.addEventListener("mousemove",_),a.addEventListener("mousedown",y),a.addEventListener("mouseup",E),a.addEventListener("mouseleave",p),a.addEventListener("mouseenter",p),a.addEventListener("mouseout",p),a.addEventListener("mouseover",p),a.addEventListener("blur",x),a.addEventListener("keyup",A),a.addEventListener("keydown",A),a.addEventListener("keypress",A),a!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",A),window.addEventListener("keydown",A),window.addEventListener("keypress",A)))}function s(){T&&(T=!1,a.removeEventListener("mousemove",_),a.removeEventListener("mousedown",y),a.removeEventListener("mouseup",E),a.removeEventListener("mouseleave",p),a.removeEventListener("mouseenter",p),a.removeEventListener("mouseout",p),a.removeEventListener("mouseover",p),a.removeEventListener("blur",x),a.removeEventListener("keyup",A),a.removeEventListener("keydown",A),a.removeEventListener("keypress",A),a!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",A),window.removeEventListener("keydown",A),window.removeEventListener("keypress",A)))}M();var S={element:a};return Object.defineProperties(S,{enabled:{get:function(){return T},set:function(b){b?M():s()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),S}},24:function(v){var g={left:0,top:0};v.exports=r;function r(i,a,u){a=a||i.currentTarget||i.srcElement,Array.isArray(u)||(u=[0,0]);var f=i.clientX||0,l=i.clientY||0,m=t(a);return u[0]=f-m.left,u[1]=l-m.top,u}function t(i){return i===window||i===document||i===document.body?g:i.getBoundingClientRect()}},4687:function(v,g){function r(u){if(typeof u=="object"){if("buttons"in u)return u.buttons;if("which"in u){var f=u.which;if(f===2)return 4;if(f===3)return 2;if(f>0)return 1<<f-1}else if("button"in u){var f=u.button;if(f===1)return 4;if(f===2)return 2;if(f>=0)return 1<<f}}return 0}g.buttons=r;function t(u){return u.target||u.srcElement||window}g.element=t;function i(u){if(typeof u=="object"){if("offsetX"in u)return u.offsetX;var f=t(u),l=f.getBoundingClientRect();return u.clientX-l.left}return 0}g.x=i;function a(u){if(typeof u=="object"){if("offsetY"in u)return u.offsetY;var f=t(u),l=f.getBoundingClientRect();return u.clientY-l.top}return 0}g.y=a},8512:function(v,g,r){var t=r(665);v.exports=i;function i(a,u,f){typeof a=="function"&&(f=!!u,u=a,a=window);var l=t("ex",a),m=function(h){f&&h.preventDefault();var T=h.deltaX||0,c=h.deltaY||0,o=h.deltaZ||0,p=h.deltaMode,x=1;switch(p){case 1:x=l;break;case 2:x=window.innerHeight;break}if(T*=x,c*=x,o*=x,T||c||o)return u(T,c,o,h)};return a.addEventListener("wheel",m),m}},2640:function(v,g,r){var t=r(1888);v.exports=u;var i={"false,0,1":function(l,m,h,T,c){return function(p,x,A,_){var y=p.shape[0]|0,E=p.shape[1]|0,M=p.data,s=p.offset|0,S=p.stride[0]|0,b=p.stride[1]|0,I=s,D,B=-S|0,k=0,F=-b|0,N=0,O=-S-b|0,V=0,X=S|0,ee=b-S*y|0,ne=0,q=0,se=0,J=2*y|0,Z=T(J),te=T(J),Y=0,ie=0,le=-1,j=-1,K=0,ue=-y|0,ae=y|0,he=0,xe=-y-1|0,Se=y-1|0,Ae=0,De=0,we=0;for(ne=0;ne<y;++ne)Z[Y++]=h(M[I],x,A,_),I+=X;if(I+=ee,E>0){if(q=1,Z[Y++]=h(M[I],x,A,_),I+=X,y>0)for(ne=1,D=M[I],ie=Z[Y]=h(D,x,A,_),K=Z[Y+le],he=Z[Y+ue],Ae=Z[Y+xe],(ie!==K||ie!==he||ie!==Ae)&&(k=M[I+B],N=M[I+F],V=M[I+O],l(ne,q,D,k,N,V,ie,K,he,Ae,x,A,_),De=te[Y]=se++),Y+=1,I+=X,ne=2;ne<y;++ne)D=M[I],ie=Z[Y]=h(D,x,A,_),K=Z[Y+le],he=Z[Y+ue],Ae=Z[Y+xe],(ie!==K||ie!==he||ie!==Ae)&&(k=M[I+B],N=M[I+F],V=M[I+O],l(ne,q,D,k,N,V,ie,K,he,Ae,x,A,_),De=te[Y]=se++,Ae!==K&&m(te[Y+le],De,V,k,Ae,K,x,A,_)),Y+=1,I+=X;for(I+=ee,Y=0,we=le,le=j,j=we,we=ue,ue=ae,ae=we,we=xe,xe=Se,Se=we,q=2;q<E;++q){if(Z[Y++]=h(M[I],x,A,_),I+=X,y>0)for(ne=1,D=M[I],ie=Z[Y]=h(D,x,A,_),K=Z[Y+le],he=Z[Y+ue],Ae=Z[Y+xe],(ie!==K||ie!==he||ie!==Ae)&&(k=M[I+B],N=M[I+F],V=M[I+O],l(ne,q,D,k,N,V,ie,K,he,Ae,x,A,_),De=te[Y]=se++,Ae!==he&&m(te[Y+ue],De,N,V,he,Ae,x,A,_)),Y+=1,I+=X,ne=2;ne<y;++ne)D=M[I],ie=Z[Y]=h(D,x,A,_),K=Z[Y+le],he=Z[Y+ue],Ae=Z[Y+xe],(ie!==K||ie!==he||ie!==Ae)&&(k=M[I+B],N=M[I+F],V=M[I+O],l(ne,q,D,k,N,V,ie,K,he,Ae,x,A,_),De=te[Y]=se++,Ae!==he&&m(te[Y+ue],De,N,V,he,Ae,x,A,_),Ae!==K&&m(te[Y+le],De,V,k,Ae,K,x,A,_)),Y+=1,I+=X;q&1&&(Y=0),we=le,le=j,j=we,we=ue,ue=ae,ae=we,we=xe,xe=Se,Se=we,I+=ee}}c(te),c(Z)}},"false,1,0":function(l,m,h,T,c){return function(p,x,A,_){var y=p.shape[0]|0,E=p.shape[1]|0,M=p.data,s=p.offset|0,S=p.stride[0]|0,b=p.stride[1]|0,I=s,D,B=-S|0,k=0,F=-b|0,N=0,O=-S-b|0,V=0,X=b|0,ee=S-b*E|0,ne=0,q=0,se=0,J=2*E|0,Z=T(J),te=T(J),Y=0,ie=0,le=-1,j=-1,K=0,ue=-E|0,ae=E|0,he=0,xe=-E-1|0,Se=E-1|0,Ae=0,De=0,we=0;for(q=0;q<E;++q)Z[Y++]=h(M[I],x,A,_),I+=X;if(I+=ee,y>0){if(ne=1,Z[Y++]=h(M[I],x,A,_),I+=X,E>0)for(q=1,D=M[I],ie=Z[Y]=h(D,x,A,_),he=Z[Y+ue],K=Z[Y+le],Ae=Z[Y+xe],(ie!==he||ie!==K||ie!==Ae)&&(k=M[I+B],N=M[I+F],V=M[I+O],l(ne,q,D,k,N,V,ie,he,K,Ae,x,A,_),De=te[Y]=se++),Y+=1,I+=X,q=2;q<E;++q)D=M[I],ie=Z[Y]=h(D,x,A,_),he=Z[Y+ue],K=Z[Y+le],Ae=Z[Y+xe],(ie!==he||ie!==K||ie!==Ae)&&(k=M[I+B],N=M[I+F],V=M[I+O],l(ne,q,D,k,N,V,ie,he,K,Ae,x,A,_),De=te[Y]=se++,Ae!==K&&m(te[Y+le],De,N,V,K,Ae,x,A,_)),Y+=1,I+=X;for(I+=ee,Y=0,we=ue,ue=ae,ae=we,we=le,le=j,j=we,we=xe,xe=Se,Se=we,ne=2;ne<y;++ne){if(Z[Y++]=h(M[I],x,A,_),I+=X,E>0)for(q=1,D=M[I],ie=Z[Y]=h(D,x,A,_),he=Z[Y+ue],K=Z[Y+le],Ae=Z[Y+xe],(ie!==he||ie!==K||ie!==Ae)&&(k=M[I+B],N=M[I+F],V=M[I+O],l(ne,q,D,k,N,V,ie,he,K,Ae,x,A,_),De=te[Y]=se++,Ae!==he&&m(te[Y+ue],De,V,k,Ae,he,x,A,_)),Y+=1,I+=X,q=2;q<E;++q)D=M[I],ie=Z[Y]=h(D,x,A,_),he=Z[Y+ue],K=Z[Y+le],Ae=Z[Y+xe],(ie!==he||ie!==K||ie!==Ae)&&(k=M[I+B],N=M[I+F],V=M[I+O],l(ne,q,D,k,N,V,ie,he,K,Ae,x,A,_),De=te[Y]=se++,Ae!==K&&m(te[Y+le],De,N,V,K,Ae,x,A,_),Ae!==he&&m(te[Y+ue],De,V,k,Ae,he,x,A,_)),Y+=1,I+=X;ne&1&&(Y=0),we=ue,ue=ae,ae=we,we=le,le=j,j=we,we=xe,xe=Se,Se=we,I+=ee}}c(te),c(Z)}}};function a(f,l,m,h,T,c){var o=[c,T].join(","),p=i[o];return p(f,l,m,t.mallocUint32,t.freeUint32)}function u(f){function l(x){throw new Error("ndarray-extract-contour: "+x)}typeof f!="object"&&l("Must specify arguments");var m=f.order;Array.isArray(m)||l("Must specify order");var h=f.arrayArguments||1;h<1&&l("Must have at least one array argument");var T=f.scalarArguments||0;T<0&&l("Scalar arg count must be > 0"),typeof f.vertex!="function"&&l("Must specify vertex creation function"),typeof f.cell!="function"&&l("Must specify cell creation function"),typeof f.phase!="function"&&l("Must specify phase function");for(var c=f.getters||[],o=new Array(h),p=0;p<h;++p)c.indexOf(p)>=0?o[p]=!0:o[p]=!1;return a(f.vertex,f.cell,f.phase,T,m,o)}},6199:function(v,g,r){var t=r(1338),i={zero:function(A,_,y,E){var M=A[0],s=y[0];E|=0;var S=0,b=s;for(S=0;S<M;++S)_[E]=0,E+=b},fdTemplate1:function(A,_,y,E,M,s,S){var b=A[0],I=y[0],D=s[0],B=-1*I,k=I;E|=0,S|=0;var F=0,N=I,O=D;for(F=0;F<b;++F)M[S]=.5*(_[E+B]-_[E+k]),E+=N,S+=O},fdTemplate2:function(A,_,y,E,M,s,S,b,I,D){var B=A[0],k=A[1],F=y[0],N=y[1],O=s[0],V=s[1],X=I[0],ee=I[1],ne=-1*F,q=F,se=-1*N,J=N;E|=0,S|=0,D|=0;var Z=0,te=0,Y=N,ie=F-k*N,le=V,j=O-k*V,K=ee,ue=X-k*ee;for(te=0;te<B;++te){for(Z=0;Z<k;++Z)M[S]=.5*(_[E+ne]-_[E+q]),b[D]=.5*(_[E+se]-_[E+J]),E+=Y,S+=le,D+=K;E+=ie,S+=j,D+=ue}}},a={cdiff:function(A){var _={};return function(E,M,s){var S=E.dtype,b=E.order,I=M.dtype,D=M.order,B=s.dtype,k=s.order,F=[S,b.join(),I,D.join(),B,k.join()].join(),N=_[F];return N||(_[F]=N=A([S,b,I,D,B,k])),N(E.shape.slice(0),E.data,E.stride,E.offset|0,M.data,M.stride,M.offset|0,s.data,s.stride,s.offset|0)}},zero:function(A){var _={};return function(E){var M=E.dtype,s=E.order,S=[M,s.join()].join(),b=_[S];return b||(_[S]=b=A([M,s])),b(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(A){var _={};return function(E,M){var s=E.dtype,S=E.order,b=M.dtype,I=M.order,D=[s,S.join(),b,I.join()].join(),B=_[D];return B||(_[D]=B=A([s,S,b,I])),B(E.shape.slice(0),E.data,E.stride,E.offset|0,M.data,M.stride,M.offset|0)}},fdTemplate2:function(A){var _={};return function(E,M,s){var S=E.dtype,b=E.order,I=M.dtype,D=M.order,B=s.dtype,k=s.order,F=[S,b.join(),I,D.join(),B,k.join()].join(),N=_[F];return N||(_[F]=N=A([S,b,I,D,B,k])),N(E.shape.slice(0),E.data,E.stride,E.offset|0,M.data,M.stride,M.offset|0,s.data,s.stride,s.offset|0)}}};function u(A){var _=a[A.funcName];return _(f.bind(void 0,A))}function f(A){return i[A.funcName]}function l(A){return u({funcName:A.funcName})}var m={},h={},T=l({funcName:"cdiff"}),c=l({funcName:"zero"});function o(A){return A in m?m[A]:m[A]=l({funcName:"fdTemplate"+A})}function p(A,_,y,E){return function(M,s){var S=s.shape.slice();return S[0]>2&&S[1]>2&&E(s.pick(-1,-1).lo(1,1).hi(S[0]-2,S[1]-2),M.pick(-1,-1,0).lo(1,1).hi(S[0]-2,S[1]-2),M.pick(-1,-1,1).lo(1,1).hi(S[0]-2,S[1]-2)),S[1]>2&&(y(s.pick(0,-1).lo(1).hi(S[1]-2),M.pick(0,-1,1).lo(1).hi(S[1]-2)),_(M.pick(0,-1,0).lo(1).hi(S[1]-2))),S[1]>2&&(y(s.pick(S[0]-1,-1).lo(1).hi(S[1]-2),M.pick(S[0]-1,-1,1).lo(1).hi(S[1]-2)),_(M.pick(S[0]-1,-1,0).lo(1).hi(S[1]-2))),S[0]>2&&(y(s.pick(-1,0).lo(1).hi(S[0]-2),M.pick(-1,0,0).lo(1).hi(S[0]-2)),_(M.pick(-1,0,1).lo(1).hi(S[0]-2))),S[0]>2&&(y(s.pick(-1,S[1]-1).lo(1).hi(S[0]-2),M.pick(-1,S[1]-1,0).lo(1).hi(S[0]-2)),_(M.pick(-1,S[1]-1,1).lo(1).hi(S[0]-2))),M.set(0,0,0,0),M.set(0,0,1,0),M.set(S[0]-1,0,0,0),M.set(S[0]-1,0,1,0),M.set(0,S[1]-1,0,0),M.set(0,S[1]-1,1,0),M.set(S[0]-1,S[1]-1,0,0),M.set(S[0]-1,S[1]-1,1,0),M}}function x(A){var _=A.join(),S=h[_];if(S)return S;for(var y=A.length,E=[T,c],M=1;M<=y;++M)E.push(o(M));var s=p,S=s.apply(void 0,E);return h[_]=S,S}v.exports=function(_,y,E){if(Array.isArray(E)||(typeof E=="string"?E=t(y.dimension,E):E=t(y.dimension,"clamp")),y.size===0)return _;if(y.dimension===0)return _.set(0),_;var M=x(E);return M(_,y)}},4317:function(v){function g(u,f){var l=Math.floor(f),m=f-l,h=0<=l&&l<u.shape[0],T=0<=l+1&&l+1<u.shape[0],c=h?+u.get(l):0,o=T?+u.get(l+1):0;return(1-m)*c+m*o}function r(u,f,l){var m=Math.floor(f),h=f-m,T=0<=m&&m<u.shape[0],c=0<=m+1&&m+1<u.shape[0],o=Math.floor(l),p=l-o,x=0<=o&&o<u.shape[1],A=0<=o+1&&o+1<u.shape[1],_=T&&x?u.get(m,o):0,y=T&&A?u.get(m,o+1):0,E=c&&x?u.get(m+1,o):0,M=c&&A?u.get(m+1,o+1):0;return(1-p)*((1-h)*_+h*E)+p*((1-h)*y+h*M)}function t(u,f,l,m){var h=Math.floor(f),T=f-h,c=0<=h&&h<u.shape[0],o=0<=h+1&&h+1<u.shape[0],p=Math.floor(l),x=l-p,A=0<=p&&p<u.shape[1],_=0<=p+1&&p+1<u.shape[1],y=Math.floor(m),E=m-y,M=0<=y&&y<u.shape[2],s=0<=y+1&&y+1<u.shape[2],S=c&&A&&M?u.get(h,p,y):0,b=c&&_&&M?u.get(h,p+1,y):0,I=o&&A&&M?u.get(h+1,p,y):0,D=o&&_&&M?u.get(h+1,p+1,y):0,B=c&&A&&s?u.get(h,p,y+1):0,k=c&&_&&s?u.get(h,p+1,y+1):0,F=o&&A&&s?u.get(h+1,p,y+1):0,N=o&&_&&s?u.get(h+1,p+1,y+1):0;return(1-E)*((1-x)*((1-T)*S+T*I)+x*((1-T)*b+T*D))+E*((1-x)*((1-T)*B+T*F)+x*((1-T)*k+T*N))}function i(u){var f=u.shape.length|0,l=new Array(f),m=new Array(f),h=new Array(f),T=new Array(f),c,o;for(c=0;c<f;++c)o=+arguments[c+1],l[c]=Math.floor(o),m[c]=o-l[c],h[c]=0<=l[c]&&l[c]<u.shape[c],T[c]=0<=l[c]+1&&l[c]+1<u.shape[c];var p=0,x,A,_;e:for(c=0;c<1<<f;++c){for(A=1,_=u.offset,x=0;x<f;++x)if(c&1<<x){if(!T[x])continue e;A*=m[x],_+=u.stride[x]*(l[x]+1)}else{if(!h[x])continue e;A*=1-m[x],_+=u.stride[x]*l[x]}p+=A*u.data[_]}return p}function a(u,f,l,m){switch(u.shape.length){case 0:return 0;case 1:return g(u,f);case 2:return r(u,f,l);case 3:return t(u,f,l,m);default:return i.apply(void 0,arguments)}}v.exports=a,v.exports.d1=g,v.exports.d2=r,v.exports.d3=t},5298:function(v,g){var r={"float64,2,1,0":function(){return function(h,T,c,o,p){var x=h[0],A=h[1],_=h[2],y=c[0],E=c[1],M=c[2];o|=0;var s=0,S=0,b=0,I=M,D=E-_*M,B=y-A*E;for(b=0;b<x;++b){for(S=0;S<A;++S){for(s=0;s<_;++s)T[o]/=p,o+=I;o+=D}o+=B}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,T,c,o,p,x,A,_){var y=h[0],E=h[1],M=h[2],s=c[0],S=c[1],b=c[2],I=x[0],D=x[1],B=x[2];o|=0,A|=0;for(var k=o,F=A,N=h[0]|0;N>0;){N<64?(y=N,N=0):(y=64,N-=64);for(var O=h[1]|0;O>0;){O<64?(E=O,O=0):(E=64,O-=64),o=k+N*s+O*S,A=F+N*I+O*D;var V=0,X=0,ee=0,ne=b,q=s-M*b,se=S-y*s,J=B,Z=I-M*B,te=D-y*I;for(ee=0;ee<E;++ee){for(X=0;X<y;++X){for(V=0;V<M;++V)T[o]=p[A]*_,o+=ne,A+=J;o+=q,A+=Z}o+=se,A+=te}}}}},"float32,1,0,float32,1,0":function(){return function(h,T,c,o,p,x,A){var _=h[0],y=h[1],E=c[0],M=c[1],s=x[0],S=x[1];o|=0,A|=0;var b=0,I=0,D=M,B=E-y*M,k=S,F=s-y*S;for(I=0;I<_;++I){for(b=0;b<y;++b)T[o]=p[A],o+=D,A+=k;o+=B,A+=F}}},"float32,1,0,float32,0,1":function(){return function(h,T,c,o,p,x,A){var _=h[0],y=h[1],E=c[0],M=c[1],s=x[0],S=x[1];o|=0,A|=0;for(var b=o,I=A,D=h[1]|0;D>0;){D<64?(y=D,D=0):(y=64,D-=64);for(var B=h[0]|0;B>0;){B<64?(_=B,B=0):(_=64,B-=64),o=b+D*M+B*E,A=I+D*S+B*s;var k=0,F=0,N=M,O=E-y*M,V=S,X=s-y*S;for(F=0;F<_;++F){for(k=0;k<y;++k)T[o]=p[A],o+=N,A+=V;o+=O,A+=X}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,T,c,o,p,x,A){var _=h[0],y=h[1],E=h[2],M=c[0],s=c[1],S=c[2],b=x[0],I=x[1],D=x[2];o|=0,A|=0;for(var B=o,k=A,F=h[2]|0;F>0;){F<64?(E=F,F=0):(E=64,F-=64);for(var N=h[0]|0;N>0;){N<64?(_=N,N=0):(_=64,N-=64);for(var O=h[1]|0;O>0;){O<64?(y=O,O=0):(y=64,O-=64),o=B+F*S+N*M+O*s,A=k+F*D+N*b+O*I;var V=0,X=0,ee=0,ne=S,q=M-E*S,se=s-_*M,J=D,Z=b-E*D,te=I-_*b;for(ee=0;ee<y;++ee){for(X=0;X<_;++X){for(V=0;V<E;++V)T[o]=p[A],o+=ne,A+=J;o+=q,A+=Z}o+=se,A+=te}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,T,c,o,p,x,A){var _=h[0],y=h[1],E=h[2],M=c[0],s=c[1],S=c[2],b=x[0],I=x[1],D=x[2];o|=0,A|=0;var B=0,k=0,F=0,N=S,O=M-E*S,V=s-_*M,X=D,ee=b-E*D,ne=I-_*b;for(F=0;F<y;++F){for(k=0;k<_;++k){for(B=0;B<E;++B)T[o]=p[A],o+=N,A+=X;o+=O,A+=ee}o+=V,A+=ne}}}};function t(m,h){var T=h.join(","),c=r[T];return c()}var i=t,a={mul:function(m){var h={};return function(c,o,p){var x=c.dtype,A=c.order,_=o.dtype,y=o.order,E=p.dtype,M=p.order,s=[x,A.join(),_,y.join(),E,M.join()].join(),S=h[s];return S||(h[s]=S=m([x,A,_,y,E,M])),S(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,p.data,p.stride,p.offset|0)}},muls:function(m){var h={};return function(c,o,p){var x=c.dtype,A=c.order,_=o.dtype,y=o.order,E=[x,A.join(),_,y.join()].join(),M=h[E];return M||(h[E]=M=m([x,A,_,y])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,p)}},mulseq:function(m){var h={};return function(c,o){var p=c.dtype,x=c.order,A=[p,x.join()].join(),_=h[A];return _||(h[A]=_=m([p,x])),_(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},div:function(m){var h={};return function(c,o,p){var x=c.dtype,A=c.order,_=o.dtype,y=o.order,E=p.dtype,M=p.order,s=[x,A.join(),_,y.join(),E,M.join()].join(),S=h[s];return S||(h[s]=S=m([x,A,_,y,E,M])),S(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,p.data,p.stride,p.offset|0)}},divs:function(m){var h={};return function(c,o,p){var x=c.dtype,A=c.order,_=o.dtype,y=o.order,E=[x,A.join(),_,y.join()].join(),M=h[E];return M||(h[E]=M=m([x,A,_,y])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,p)}},divseq:function(m){var h={};return function(c,o){var p=c.dtype,x=c.order,A=[p,x.join()].join(),_=h[A];return _||(h[A]=_=m([p,x])),_(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},assign:function(m){var h={};return function(c,o){var p=c.dtype,x=c.order,A=o.dtype,_=o.order,y=[p,x.join(),A,_.join()].join(),E=h[y];return E||(h[y]=E=m([p,x,A,_])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0)}}};function u(m){var h=a[m.funcName];return h(i.bind(void 0,m))}function f(m){return u({funcName:m.funcName})}var l={mul:"*",div:"/"};(function(){for(var m in l)g[m]=f({funcName:m}),g[m+"s"]=f({funcName:m+"s"}),g[m+"seq"]=f({funcName:m+"seq"})})(),g.assign=f({funcName:"assign"})},9994:function(v,g,r){var t=r(9618),i=r(8277);v.exports=function(u,f){for(var l=[],m=u,h=1;Array.isArray(m);)l.push(m.length),h*=m.length,m=m[0];return l.length===0?t():(f||(f=t(new Float64Array(h),l)),i(f,u),f)}},8277:function(v){function g(){return function(f,l,m,h,T){var c=f[0],o=f[1],p=f[2],x=m[0],A=m[1],_=m[2],y=[0,0,0];h|=0;var E=0,M=0,s=0,S=_,b=A-p*_,I=x-o*A;for(s=0;s<c;++s){for(M=0;M<o;++M){for(E=0;E<p;++E){{var D=T,B;for(B=0;B<y.length-1;++B)D=D[y[B]];l[h]=D[y[y.length-1]]}h+=S,++y[2]}h+=b,y[2]-=p,++y[1]}h+=I,y[1]-=o,++y[0]}}}function r(){return g()}var t=r;function i(f){var l={};return function(h,T){var c=h.dtype,o=h.order,p=[c,o.join()].join(),x=l[p];return x||(l[p]=x=f([c,o])),x(h.shape.slice(0),h.data,h.stride,h.offset|0,T)}}function a(f){return i(t.bind(void 0,f))}function u(f){return a({funcName:f.funcName})}v.exports=u({funcName:"convert"})},7640:function(v,g,r){var t=r(1888);function i(T){switch(T){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var a={"uint32,1,0":function(T,c){return function(p,x,A,_,y,E,M,s,S,b,I){var D,B,k,F=p*y+_,N,O=T(s),V,X,ee,ne;for(D=p+1;D<=x;++D){for(B=D,F+=y,k=F,V=0,X=F,N=0;N<s;++N)O[V++]=A[X],X+=S;e:for(;B-- >p;){V=0,X=k-y;t:for(N=0;N<s;++N){if(ee=A[X],ne=O[V],ee<ne)break e;if(ee>ne)break t;X+=b,V+=I}for(V=k,X=k-y,N=0;N<s;++N)A[V]=A[X],V+=S,X+=S;k-=y}for(V=k,X=0,N=0;N<s;++N)A[V]=O[X++],V+=S}c(O)}}};function u(T,c){var o=i(c),p=[c,T].join(","),x=a[p];return o?x(o[0],o[1]):x()}var f={"uint32,1,0":function(T,c,o){return function p(x,A,_,y,E,M,s,S,b,I,D){var B=(A-x+1)/6|0,k=x+B,F=A-B,N=x+A>>1,O=N-B,V=N+B,X=k,ee=O,ne=N,q=V,se=F,J=x+1,Z=A-1,te=!0,Y,ie,le,j,K,ue,ae,he,xe,Se=0,Ae=0,De=0,we,Ce,be,Pe,Ve,Ge,Fe,He,ft,gt,ct,nt,dt,pt,wt,Tt,Ct=S,at=c(Ct),ze=c(Ct);Ce=E*X,be=E*ee,Tt=y;e:for(we=0;we<S;++we){if(ae=Ce+Tt,he=be+Tt,De=_[ae]-_[he],De>0){ie=X,X=ee,ee=ie;break e}if(De<0)break e;Tt+=I}Ce=E*q,be=E*se,Tt=y;e:for(we=0;we<S;++we){if(ae=Ce+Tt,he=be+Tt,De=_[ae]-_[he],De>0){ie=q,q=se,se=ie;break e}if(De<0)break e;Tt+=I}Ce=E*X,be=E*ne,Tt=y;e:for(we=0;we<S;++we){if(ae=Ce+Tt,he=be+Tt,De=_[ae]-_[he],De>0){ie=X,X=ne,ne=ie;break e}if(De<0)break e;Tt+=I}Ce=E*ee,be=E*ne,Tt=y;e:for(we=0;we<S;++we){if(ae=Ce+Tt,he=be+Tt,De=_[ae]-_[he],De>0){ie=ee,ee=ne,ne=ie;break e}if(De<0)break e;Tt+=I}Ce=E*X,be=E*q,Tt=y;e:for(we=0;we<S;++we){if(ae=Ce+Tt,he=be+Tt,De=_[ae]-_[he],De>0){ie=X,X=q,q=ie;break e}if(De<0)break e;Tt+=I}Ce=E*ne,be=E*q,Tt=y;e:for(we=0;we<S;++we){if(ae=Ce+Tt,he=be+Tt,De=_[ae]-_[he],De>0){ie=ne,ne=q,q=ie;break e}if(De<0)break e;Tt+=I}Ce=E*ee,be=E*se,Tt=y;e:for(we=0;we<S;++we){if(ae=Ce+Tt,he=be+Tt,De=_[ae]-_[he],De>0){ie=ee,ee=se,se=ie;break e}if(De<0)break e;Tt+=I}Ce=E*ee,be=E*ne,Tt=y;e:for(we=0;we<S;++we){if(ae=Ce+Tt,he=be+Tt,De=_[ae]-_[he],De>0){ie=ee,ee=ne,ne=ie;break e}if(De<0)break e;Tt+=I}Ce=E*q,be=E*se,Tt=y;e:for(we=0;we<S;++we){if(ae=Ce+Tt,he=be+Tt,De=_[ae]-_[he],De>0){ie=q,q=se,se=ie;break e}if(De<0)break e;Tt+=I}for(Ce=E*X,be=E*ee,Pe=E*ne,Ve=E*q,Ge=E*se,Fe=E*k,He=E*N,ft=E*F,wt=0,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,xe=Pe+Tt,gt=Ve+Tt,ct=Ge+Tt,nt=Fe+Tt,dt=He+Tt,pt=ft+Tt,at[wt]=_[he],ze[wt]=_[gt],te=te&&at[wt]===ze[wt],le=_[ae],j=_[xe],K=_[ct],_[nt]=le,_[dt]=j,_[pt]=K,++wt,Tt+=b;for(Ce=E*O,be=E*x,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,_[ae]=_[he],Tt+=b;for(Ce=E*V,be=E*A,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,_[ae]=_[he],Tt+=b;if(te)for(ue=J;ue<=Z;++ue){ae=y+ue*E,wt=0;e:for(we=0;we<S;++we){if(De=_[ae]-at[wt],De!==0)break e;wt+=D,ae+=I}if(De!==0)if(De<0){if(ue!==J)for(Ce=E*ue,be=E*J,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,Y=_[ae],_[ae]=_[he],_[he]=Y,Tt+=b;++J}else for(;;){ae=y+Z*E,wt=0;e:for(we=0;we<S;++we){if(De=_[ae]-at[wt],De!==0)break e;wt+=D,ae+=I}if(De>0)Z--;else if(De<0){for(Ce=E*ue,be=E*J,Pe=E*Z,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,xe=Pe+Tt,Y=_[ae],_[ae]=_[he],_[he]=_[xe],_[xe]=Y,Tt+=b;++J,--Z;break}else{for(Ce=E*ue,be=E*Z,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,Y=_[ae],_[ae]=_[he],_[he]=Y,Tt+=b;--Z;break}}}else for(ue=J;ue<=Z;++ue){ae=y+ue*E,wt=0;e:for(we=0;we<S;++we){if(Se=_[ae]-at[wt],Se!==0)break e;wt+=D,ae+=I}if(Se<0){if(ue!==J)for(Ce=E*ue,be=E*J,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,Y=_[ae],_[ae]=_[he],_[he]=Y,Tt+=b;++J}else{ae=y+ue*E,wt=0;e:for(we=0;we<S;++we){if(Ae=_[ae]-ze[wt],Ae!==0)break e;wt+=D,ae+=I}if(Ae>0)for(;;){ae=y+Z*E,wt=0;e:for(we=0;we<S;++we){if(De=_[ae]-ze[wt],De!==0)break e;wt+=D,ae+=I}if(De>0){if(--Z<ue)break;continue}else{ae=y+Z*E,wt=0;e:for(we=0;we<S;++we){if(De=_[ae]-at[wt],De!==0)break e;wt+=D,ae+=I}if(De<0){for(Ce=E*ue,be=E*J,Pe=E*Z,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,xe=Pe+Tt,Y=_[ae],_[ae]=_[he],_[he]=_[xe],_[xe]=Y,Tt+=b;++J,--Z}else{for(Ce=E*ue,be=E*Z,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,Y=_[ae],_[ae]=_[he],_[he]=Y,Tt+=b;--Z}break}}}}for(Ce=E*x,be=E*(J-1),wt=0,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,_[ae]=_[he],_[he]=at[wt],++wt,Tt+=b;for(Ce=E*A,be=E*(Z+1),wt=0,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,_[ae]=_[he],_[he]=ze[wt],++wt,Tt+=b;if(J-2-x<=32?T(x,J-2,_,y,E,M,s,S,b,I,D):p(x,J-2,_,y,E,M,s,S,b,I,D),A-(Z+2)<=32?T(Z+2,A,_,y,E,M,s,S,b,I,D):p(Z+2,A,_,y,E,M,s,S,b,I,D),te){o(at),o(ze);return}if(J<k&&Z>F){e:for(;;){for(ae=y+J*E,wt=0,Tt=y,we=0;we<S;++we){if(_[ae]!==at[wt])break e;++wt,ae+=b}++J}e:for(;;){for(ae=y+Z*E,wt=0,Tt=y,we=0;we<S;++we){if(_[ae]!==ze[wt])break e;++wt,ae+=b}--Z}for(ue=J;ue<=Z;++ue){ae=y+ue*E,wt=0;e:for(we=0;we<S;++we){if(Se=_[ae]-at[wt],Se!==0)break e;wt+=D,ae+=I}if(Se===0){if(ue!==J)for(Ce=E*ue,be=E*J,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,Y=_[ae],_[ae]=_[he],_[he]=Y,Tt+=b;++J}else{ae=y+ue*E,wt=0;e:for(we=0;we<S;++we){if(Ae=_[ae]-ze[wt],Ae!==0)break e;wt+=D,ae+=I}if(Ae===0)for(;;){ae=y+Z*E,wt=0;e:for(we=0;we<S;++we){if(De=_[ae]-ze[wt],De!==0)break e;wt+=D,ae+=I}if(De===0){if(--Z<ue)break;continue}else{ae=y+Z*E,wt=0;e:for(we=0;we<S;++we){if(De=_[ae]-at[wt],De!==0)break e;wt+=D,ae+=I}if(De<0){for(Ce=E*ue,be=E*J,Pe=E*Z,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,xe=Pe+Tt,Y=_[ae],_[ae]=_[he],_[he]=_[xe],_[xe]=Y,Tt+=b;++J,--Z}else{for(Ce=E*ue,be=E*Z,Tt=y,we=0;we<S;++we)ae=Ce+Tt,he=be+Tt,Y=_[ae],_[ae]=_[he],_[he]=Y,Tt+=b;--Z}break}}}}}o(at),o(ze),Z-J<=32?T(J,Z,_,y,E,M,s,S,b,I,D):p(J,Z,_,y,E,M,s,S,b,I,D)}}};function l(T,c,o){var p=i(c),x=[c,T].join(","),A=f[x];return T.length>1&&p?A(o,p[0],p[1]):A(o)}var m={"uint32,1,0":function(T,c){return function(o){var p=o.data,x=o.offset|0,A=o.shape,_=o.stride,y=_[0]|0,E=A[0]|0,M=_[1]|0,s=A[1]|0,S=M,b=M,I=1;E<=32?T(0,E-1,p,x,y,M,E,s,S,b,I):c(0,E-1,p,x,y,M,E,s,S,b,I)}}};function h(T,c){var o=[c,T].join(","),p=m[o],x=u(T,c),A=l(T,c,x);return p(x,A)}v.exports=h},446:function(v,g,r){var t=r(7640),i={};function a(u){var f=u.order,l=u.dtype,m=[f,l],h=m.join(":"),T=i[h];return T||(i[h]=T=t(f,l)),T(u),u}v.exports=a},9618:function(v,g,r){var t=r(7163),i=typeof Float64Array<"u";function a(c,o){return c[0]-o[0]}function u(){var c=this.stride,o=new Array(c.length),p;for(p=0;p<o.length;++p)o[p]=[Math.abs(c[p]),p];o.sort(a);var x=new Array(o.length);for(p=0;p<x.length;++p)x[p]=o[p][1];return x}var f={T:function(c){function o(x){this.data=x}var p=o.prototype;return p.dtype=c,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new o(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(A){return new o(A)}},0:function(c,o){function p(A,_){this.data=A,this.offset=_}var x=p.prototype;return x.dtype=c,x.index=function(){return this.offset},x.dimension=0,x.size=1,x.shape=x.stride=x.order=[],x.lo=x.hi=x.transpose=x.step=function(){return new p(this.data,this.offset)},x.pick=function(){return o(this.data)},x.valueOf=x.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},x.set=function(_){return c==="generic"?this.data.set(this.offset,_):this.data[this.offset]=_},function(_,y,E,M){return new p(_,M)}},1:function(c,o,p){function x(_,y,E,M){this.data=_,this.shape=[y],this.stride=[E],this.offset=M|0}var A=x.prototype;return A.dtype=c,A.dimension=1,Object.defineProperty(A,"size",{get:function(){return this.shape[0]}}),A.order=[0],A.set=function(y,E){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,E):this.data[this.offset+this.stride[0]*y]=E},A.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},A.index=function(y){return this.offset+this.stride[0]*y},A.hi=function(y){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,this.stride[0],this.offset)},A.lo=function(y){var E=this.offset,M=0,s=this.shape[0],S=this.stride[0];return typeof y=="number"&&y>=0&&(M=y|0,E+=S*M,s-=M),new x(this.data,s,S,E)},A.step=function(y){var E=this.shape[0],M=this.stride[0],s=this.offset,S=0,b=Math.ceil;return typeof y=="number"&&(S=y|0,S<0?(s+=M*(E-1),E=b(-E/S)):E=b(E/S),M*=S),new x(this.data,E,M,s)},A.transpose=function(y){y=y===void 0?0:y|0;var E=this.shape,M=this.stride;return new x(this.data,E[y],M[y],this.offset)},A.pick=function(y){var E=[],M=[],s=this.offset;typeof y=="number"&&y>=0?s=s+this.stride[0]*y|0:(E.push(this.shape[0]),M.push(this.stride[0]));var S=o[E.length+1];return S(this.data,E,M,s)},function(y,E,M,s){return new x(y,E[0],M[0],s)}},2:function(c,o,p){function x(_,y,E,M,s,S){this.data=_,this.shape=[y,E],this.stride=[M,s],this.offset=S|0}var A=x.prototype;return A.dtype=c,A.dimension=2,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(A,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),A.set=function(y,E,M){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*E,M):this.data[this.offset+this.stride[0]*y+this.stride[1]*E]=M},A.get=function(y,E){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*E):this.data[this.offset+this.stride[0]*y+this.stride[1]*E]},A.index=function(y,E){return this.offset+this.stride[0]*y+this.stride[1]*E},A.hi=function(y,E){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},A.lo=function(y,E){var M=this.offset,s=0,S=this.shape[0],b=this.shape[1],I=this.stride[0],D=this.stride[1];return typeof y=="number"&&y>=0&&(s=y|0,M+=I*s,S-=s),typeof E=="number"&&E>=0&&(s=E|0,M+=D*s,b-=s),new x(this.data,S,b,I,D,M)},A.step=function(y,E){var M=this.shape[0],s=this.shape[1],S=this.stride[0],b=this.stride[1],I=this.offset,D=0,B=Math.ceil;return typeof y=="number"&&(D=y|0,D<0?(I+=S*(M-1),M=B(-M/D)):M=B(M/D),S*=D),typeof E=="number"&&(D=E|0,D<0?(I+=b*(s-1),s=B(-s/D)):s=B(s/D),b*=D),new x(this.data,M,s,S,b,I)},A.transpose=function(y,E){y=y===void 0?0:y|0,E=E===void 0?1:E|0;var M=this.shape,s=this.stride;return new x(this.data,M[y],M[E],s[y],s[E],this.offset)},A.pick=function(y,E){var M=[],s=[],S=this.offset;typeof y=="number"&&y>=0?S=S+this.stride[0]*y|0:(M.push(this.shape[0]),s.push(this.stride[0])),typeof E=="number"&&E>=0?S=S+this.stride[1]*E|0:(M.push(this.shape[1]),s.push(this.stride[1]));var b=o[M.length+1];return b(this.data,M,s,S)},function(y,E,M,s){return new x(y,E[0],E[1],M[0],M[1],s)}},3:function(c,o,p){function x(_,y,E,M,s,S,b,I){this.data=_,this.shape=[y,E,M],this.stride=[s,S,b],this.offset=I|0}var A=x.prototype;return A.dtype=c,A.dimension=3,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(A,"order",{get:function(){var y=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),M=Math.abs(this.stride[2]);return y>E?E>M?[2,1,0]:y>M?[1,2,0]:[1,0,2]:y>M?[2,0,1]:M>E?[0,1,2]:[0,2,1]}}),A.set=function(y,E,M,s){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*M,s):this.data[this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*M]=s},A.get=function(y,E,M){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*M):this.data[this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*M]},A.index=function(y,E,M){return this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*M},A.hi=function(y,E,M){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof M!="number"||M<0?this.shape[2]:M|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},A.lo=function(y,E,M){var s=this.offset,S=0,b=this.shape[0],I=this.shape[1],D=this.shape[2],B=this.stride[0],k=this.stride[1],F=this.stride[2];return typeof y=="number"&&y>=0&&(S=y|0,s+=B*S,b-=S),typeof E=="number"&&E>=0&&(S=E|0,s+=k*S,I-=S),typeof M=="number"&&M>=0&&(S=M|0,s+=F*S,D-=S),new x(this.data,b,I,D,B,k,F,s)},A.step=function(y,E,M){var s=this.shape[0],S=this.shape[1],b=this.shape[2],I=this.stride[0],D=this.stride[1],B=this.stride[2],k=this.offset,F=0,N=Math.ceil;return typeof y=="number"&&(F=y|0,F<0?(k+=I*(s-1),s=N(-s/F)):s=N(s/F),I*=F),typeof E=="number"&&(F=E|0,F<0?(k+=D*(S-1),S=N(-S/F)):S=N(S/F),D*=F),typeof M=="number"&&(F=M|0,F<0?(k+=B*(b-1),b=N(-b/F)):b=N(b/F),B*=F),new x(this.data,s,S,b,I,D,B,k)},A.transpose=function(y,E,M){y=y===void 0?0:y|0,E=E===void 0?1:E|0,M=M===void 0?2:M|0;var s=this.shape,S=this.stride;return new x(this.data,s[y],s[E],s[M],S[y],S[E],S[M],this.offset)},A.pick=function(y,E,M){var s=[],S=[],b=this.offset;typeof y=="number"&&y>=0?b=b+this.stride[0]*y|0:(s.push(this.shape[0]),S.push(this.stride[0])),typeof E=="number"&&E>=0?b=b+this.stride[1]*E|0:(s.push(this.shape[1]),S.push(this.stride[1])),typeof M=="number"&&M>=0?b=b+this.stride[2]*M|0:(s.push(this.shape[2]),S.push(this.stride[2]));var I=o[s.length+1];return I(this.data,s,S,b)},function(y,E,M,s){return new x(y,E[0],E[1],E[2],M[0],M[1],M[2],s)}},4:function(c,o,p){function x(_,y,E,M,s,S,b,I,D,B){this.data=_,this.shape=[y,E,M,s],this.stride=[S,b,I,D],this.offset=B|0}var A=x.prototype;return A.dtype=c,A.dimension=4,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(A,"order",{get:p}),A.set=function(y,E,M,s,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*M+this.stride[3]*s,S):this.data[this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*M+this.stride[3]*s]=S},A.get=function(y,E,M,s){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*M+this.stride[3]*s):this.data[this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*M+this.stride[3]*s]},A.index=function(y,E,M,s){return this.offset+this.stride[0]*y+this.stride[1]*E+this.stride[2]*M+this.stride[3]*s},A.hi=function(y,E,M,s){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof M!="number"||M<0?this.shape[2]:M|0,typeof s!="number"||s<0?this.shape[3]:s|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},A.lo=function(y,E,M,s){var S=this.offset,b=0,I=this.shape[0],D=this.shape[1],B=this.shape[2],k=this.shape[3],F=this.stride[0],N=this.stride[1],O=this.stride[2],V=this.stride[3];return typeof y=="number"&&y>=0&&(b=y|0,S+=F*b,I-=b),typeof E=="number"&&E>=0&&(b=E|0,S+=N*b,D-=b),typeof M=="number"&&M>=0&&(b=M|0,S+=O*b,B-=b),typeof s=="number"&&s>=0&&(b=s|0,S+=V*b,k-=b),new x(this.data,I,D,B,k,F,N,O,V,S)},A.step=function(y,E,M,s){var S=this.shape[0],b=this.shape[1],I=this.shape[2],D=this.shape[3],B=this.stride[0],k=this.stride[1],F=this.stride[2],N=this.stride[3],O=this.offset,V=0,X=Math.ceil;return typeof y=="number"&&(V=y|0,V<0?(O+=B*(S-1),S=X(-S/V)):S=X(S/V),B*=V),typeof E=="number"&&(V=E|0,V<0?(O+=k*(b-1),b=X(-b/V)):b=X(b/V),k*=V),typeof M=="number"&&(V=M|0,V<0?(O+=F*(I-1),I=X(-I/V)):I=X(I/V),F*=V),typeof s=="number"&&(V=s|0,V<0?(O+=N*(D-1),D=X(-D/V)):D=X(D/V),N*=V),new x(this.data,S,b,I,D,B,k,F,N,O)},A.transpose=function(y,E,M,s){y=y===void 0?0:y|0,E=E===void 0?1:E|0,M=M===void 0?2:M|0,s=s===void 0?3:s|0;var S=this.shape,b=this.stride;return new x(this.data,S[y],S[E],S[M],S[s],b[y],b[E],b[M],b[s],this.offset)},A.pick=function(y,E,M,s){var S=[],b=[],I=this.offset;typeof y=="number"&&y>=0?I=I+this.stride[0]*y|0:(S.push(this.shape[0]),b.push(this.stride[0])),typeof E=="number"&&E>=0?I=I+this.stride[1]*E|0:(S.push(this.shape[1]),b.push(this.stride[1])),typeof M=="number"&&M>=0?I=I+this.stride[2]*M|0:(S.push(this.shape[2]),b.push(this.stride[2])),typeof s=="number"&&s>=0?I=I+this.stride[3]*s|0:(S.push(this.shape[3]),b.push(this.stride[3]));var D=o[S.length+1];return D(this.data,S,b,I)},function(y,E,M,s){return new x(y,E[0],E[1],E[2],E[3],M[0],M[1],M[2],M[3],s)}},5:function(o,p,x){function A(y,E,M,s,S,b,I,D,B,k,F,N){this.data=y,this.shape=[E,M,s,S,b],this.stride=[I,D,B,k,F],this.offset=N|0}var _=A.prototype;return _.dtype=o,_.dimension=5,Object.defineProperty(_,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(_,"order",{get:x}),_.set=function(E,M,s,S,b,I){return o==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*s+this.stride[3]*S+this.stride[4]*b,I):this.data[this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*s+this.stride[3]*S+this.stride[4]*b]=I},_.get=function(E,M,s,S,b){return o==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*s+this.stride[3]*S+this.stride[4]*b):this.data[this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*s+this.stride[3]*S+this.stride[4]*b]},_.index=function(E,M,s,S,b){return this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*s+this.stride[3]*S+this.stride[4]*b},_.hi=function(E,M,s,S,b){return new A(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof s!="number"||s<0?this.shape[2]:s|0,typeof S!="number"||S<0?this.shape[3]:S|0,typeof b!="number"||b<0?this.shape[4]:b|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},_.lo=function(E,M,s,S,b){var I=this.offset,D=0,B=this.shape[0],k=this.shape[1],F=this.shape[2],N=this.shape[3],O=this.shape[4],V=this.stride[0],X=this.stride[1],ee=this.stride[2],ne=this.stride[3],q=this.stride[4];return typeof E=="number"&&E>=0&&(D=E|0,I+=V*D,B-=D),typeof M=="number"&&M>=0&&(D=M|0,I+=X*D,k-=D),typeof s=="number"&&s>=0&&(D=s|0,I+=ee*D,F-=D),typeof S=="number"&&S>=0&&(D=S|0,I+=ne*D,N-=D),typeof b=="number"&&b>=0&&(D=b|0,I+=q*D,O-=D),new A(this.data,B,k,F,N,O,V,X,ee,ne,q,I)},_.step=function(E,M,s,S,b){var I=this.shape[0],D=this.shape[1],B=this.shape[2],k=this.shape[3],F=this.shape[4],N=this.stride[0],O=this.stride[1],V=this.stride[2],X=this.stride[3],ee=this.stride[4],ne=this.offset,q=0,se=Math.ceil;return typeof E=="number"&&(q=E|0,q<0?(ne+=N*(I-1),I=se(-I/q)):I=se(I/q),N*=q),typeof M=="number"&&(q=M|0,q<0?(ne+=O*(D-1),D=se(-D/q)):D=se(D/q),O*=q),typeof s=="number"&&(q=s|0,q<0?(ne+=V*(B-1),B=se(-B/q)):B=se(B/q),V*=q),typeof S=="number"&&(q=S|0,q<0?(ne+=X*(k-1),k=se(-k/q)):k=se(k/q),X*=q),typeof b=="number"&&(q=b|0,q<0?(ne+=ee*(F-1),F=se(-F/q)):F=se(F/q),ee*=q),new A(this.data,I,D,B,k,F,N,O,V,X,ee,ne)},_.transpose=function(E,M,s,S,b){E=E===void 0?0:E|0,M=M===void 0?1:M|0,s=s===void 0?2:s|0,S=S===void 0?3:S|0,b=b===void 0?4:b|0;var I=this.shape,D=this.stride;return new A(this.data,I[E],I[M],I[s],I[S],I[b],D[E],D[M],D[s],D[S],D[b],this.offset)},_.pick=function(E,M,s,S,b){var I=[],D=[],B=this.offset;typeof E=="number"&&E>=0?B=B+this.stride[0]*E|0:(I.push(this.shape[0]),D.push(this.stride[0])),typeof M=="number"&&M>=0?B=B+this.stride[1]*M|0:(I.push(this.shape[1]),D.push(this.stride[1])),typeof s=="number"&&s>=0?B=B+this.stride[2]*s|0:(I.push(this.shape[2]),D.push(this.stride[2])),typeof S=="number"&&S>=0?B=B+this.stride[3]*S|0:(I.push(this.shape[3]),D.push(this.stride[3])),typeof b=="number"&&b>=0?B=B+this.stride[4]*b|0:(I.push(this.shape[4]),D.push(this.stride[4]));var k=p[I.length+1];return k(this.data,I,D,B)},function(E,M,s,S){return new A(E,M[0],M[1],M[2],M[3],M[4],s[0],s[1],s[2],s[3],s[4],S)}}};function l(c,o){var p=o===-1?"T":String(o),x=f[p];return o===-1?x(c):o===0?x(c,h[c][0]):x(c,h[c],u)}function m(c){if(t(c))return"buffer";if(i)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(c,o,p,x){if(c===void 0){var s=h.array[0];return s([])}else typeof c=="number"&&(c=[c]);o===void 0&&(o=[c.length]);var A=o.length;if(p===void 0){p=new Array(A);for(var _=A-1,y=1;_>=0;--_)p[_]=y,y*=o[_]}if(x===void 0){x=0;for(var _=0;_<A;++_)p[_]<0&&(x-=(o[_]-1)*p[_])}for(var E=m(c),M=h[E];M.length<=A+1;)M.push(l(E,M.length-1));var s=M[A+1];return s(c,o,p,x)}v.exports=T},1278:function(v,g,r){var t=r(2361),i=Math.pow(2,-1074),a=-1>>>0;v.exports=u;function u(f,l){if(isNaN(f)||isNaN(l))return NaN;if(f===l)return f;if(f===0)return l<0?-i:i;var m=t.hi(f),h=t.lo(f);return l>f==f>0?h===a?(m+=1,h=0):h+=1:h===0?(h=a,m-=1):h-=1,t.pack(h,m)}},8406:function(v,g){var r=1e-6,t=1e-6;g.vertexNormals=function(i,a,u){for(var f=a.length,l=new Array(f),m=u===void 0?r:u,h=0;h<f;++h)l[h]=[0,0,0];for(var h=0;h<i.length;++h)for(var T=i[h],c=0,o=T[T.length-1],p=T[0],x=0;x<T.length;++x){c=o,o=p,p=T[(x+1)%T.length];for(var A=a[c],_=a[o],y=a[p],E=new Array(3),M=0,s=new Array(3),S=0,b=0;b<3;++b)E[b]=A[b]-_[b],M+=E[b]*E[b],s[b]=y[b]-_[b],S+=s[b]*s[b];if(M*S>m)for(var I=l[o],D=1/Math.sqrt(M*S),b=0;b<3;++b){var B=(b+1)%3,k=(b+2)%3;I[b]+=D*(s[B]*E[k]-s[k]*E[B])}}for(var h=0;h<f;++h){for(var I=l[h],F=0,b=0;b<3;++b)F+=I[b]*I[b];if(F>m)for(var D=1/Math.sqrt(F),b=0;b<3;++b)I[b]*=D;else for(var b=0;b<3;++b)I[b]=0}return l},g.faceNormals=function(i,a,u){for(var f=i.length,l=new Array(f),m=u===void 0?t:u,h=0;h<f;++h){for(var T=i[h],c=new Array(3),o=0;o<3;++o)c[o]=a[T[o]];for(var p=new Array(3),x=new Array(3),o=0;o<3;++o)p[o]=c[1][o]-c[0][o],x[o]=c[2][o]-c[0][o];for(var A=new Array(3),_=0,o=0;o<3;++o){var y=(o+1)%3,E=(o+2)%3;A[o]=p[y]*x[E]-p[E]*x[y],_+=A[o]*A[o]}_>m?_=1/Math.sqrt(_):_=0;for(var o=0;o<3;++o)A[o]*=_;l[h]=A}return l}},4081:function(v){v.exports=g;function g(r,t,i,a,u,f,l,m,h,T){var c=t+f+T;if(o>0){var o=Math.sqrt(c+1);r[0]=.5*(l-h)/o,r[1]=.5*(m-a)/o,r[2]=.5*(i-f)/o,r[3]=.5*o}else{var p=Math.max(t,f,T),o=Math.sqrt(2*p-c+1);t>=p?(r[0]=.5*o,r[1]=.5*(u+i)/o,r[2]=.5*(m+a)/o,r[3]=.5*(l-h)/o):f>=p?(r[0]=.5*(i+u)/o,r[1]=.5*o,r[2]=.5*(h+l)/o,r[3]=.5*(m-a)/o):(r[0]=.5*(a+m)/o,r[1]=.5*(l+h)/o,r[2]=.5*o,r[3]=.5*(i-u)/o)}return r}},9977:function(v,g,r){v.exports=o;var t=r(9215),i=r(6582),a=r(7399),u=r(7608),f=r(4081);function l(p,x,A){return Math.sqrt(Math.pow(p,2)+Math.pow(x,2)+Math.pow(A,2))}function m(p,x,A,_){return Math.sqrt(Math.pow(p,2)+Math.pow(x,2)+Math.pow(A,2)+Math.pow(_,2))}function h(p,x){var A=x[0],_=x[1],y=x[2],E=x[3],M=m(A,_,y,E);M>1e-6?(p[0]=A/M,p[1]=_/M,p[2]=y/M,p[3]=E/M):(p[0]=p[1]=p[2]=0,p[3]=1)}function T(p,x,A){this.radius=t([A]),this.center=t(x),this.rotation=t(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=T.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var x=this.computedRotation;h(x,x);var A=this.computedMatrix;a(A,x);var _=this.computedCenter,y=this.computedEye,E=this.computedUp,M=Math.exp(this.computedRadius[0]);y[0]=_[0]+M*A[2],y[1]=_[1]+M*A[6],y[2]=_[2]+M*A[10],E[0]=A[1],E[1]=A[5],E[2]=A[9];for(var s=0;s<3;++s){for(var S=0,b=0;b<3;++b)S+=A[s+4*b]*y[b];A[12+s]=-S}},c.getMatrix=function(p,x){this.recalcMatrix(p);var A=this.computedMatrix;if(x){for(var _=0;_<16;++_)x[_]=A[_];return x}return A},c.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},c.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},c.pan=function(p,x,A,_){x=x||0,A=A||0,_=_||0,this.recalcMatrix(p);var y=this.computedMatrix,E=y[1],M=y[5],s=y[9],S=l(E,M,s);E/=S,M/=S,s/=S;var b=y[0],I=y[4],D=y[8],B=b*E+I*M+D*s;b-=E*B,I-=M*B,D-=s*B;var k=l(b,I,D);b/=k,I/=k,D/=k,y[2],y[6],y[10];var F=b*x+E*A,N=I*x+M*A,O=D*x+s*A;this.center.move(p,F,N,O);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+_),this.radius.set(p,Math.log(V))},c.rotate=function(p,x,A,_){this.recalcMatrix(p),x=x||0,A=A||0;var y=this.computedMatrix,E=y[0],M=y[4],s=y[8],S=y[1],b=y[5],I=y[9],D=y[2],B=y[6],k=y[10],F=x*E+A*S,N=x*M+A*b,O=x*s+A*I,V=-(B*O-k*N),X=-(k*F-D*O),ee=-(D*N-B*F),ne=Math.sqrt(Math.max(0,1-Math.pow(V,2)-Math.pow(X,2)-Math.pow(ee,2))),q=m(V,X,ee,ne);q>1e-6?(V/=q,X/=q,ee/=q,ne/=q):(V=X=ee=0,ne=1);var se=this.computedRotation,J=se[0],Z=se[1],te=se[2],Y=se[3],ie=J*ne+Y*V+Z*ee-te*X,le=Z*ne+Y*X+te*V-J*ee,j=te*ne+Y*ee+J*X-Z*V,K=Y*ne-J*V-Z*X-te*ee;if(_){V=D,X=B,ee=k;var ue=Math.sin(_)/l(V,X,ee);V*=ue,X*=ue,ee*=ue,ne=Math.cos(x),ie=ie*ne+K*V+le*ee-j*X,le=le*ne+K*X+j*V-ie*ee,j=j*ne+K*ee+ie*X-le*V,K=K*ne-ie*V-le*X-j*ee}var ae=m(ie,le,j,K);ae>1e-6?(ie/=ae,le/=ae,j/=ae,K/=ae):(ie=le=j=0,K=1),this.rotation.set(p,ie,le,j,K)},c.lookAt=function(p,x,A,_){this.recalcMatrix(p),A=A||this.computedCenter,x=x||this.computedEye,_=_||this.computedUp;var y=this.computedMatrix;i(y,x,A,_);var E=this.computedRotation;f(E,y[0],y[1],y[2],y[4],y[5],y[6],y[8],y[9],y[10]),h(E,E),this.rotation.set(p,E[0],E[1],E[2],E[3]);for(var M=0,s=0;s<3;++s)M+=Math.pow(A[s]-x[s],2);this.radius.set(p,.5*Math.log(Math.max(M,1e-6))),this.center.set(p,A[0],A[1],A[2])},c.translate=function(p,x,A,_){this.center.move(p,x||0,A||0,_||0)},c.setMatrix=function(p,x){var A=this.computedRotation;f(A,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),h(A,A),this.rotation.set(p,A[0],A[1],A[2],A[3]);var _=this.computedMatrix;u(_,x);var y=_[15];if(Math.abs(y)>1e-6){var E=_[12]/y,M=_[13]/y,s=_[14]/y;this.recalcMatrix(p);var S=Math.exp(this.computedRadius[0]);this.center.set(p,E-_[2]*S,M-_[6]*S,s-_[10]*S),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},c.setDistance=function(p,x){x>0&&this.radius.set(p,Math.log(x))},c.setDistanceLimits=function(p,x){p>0?p=Math.log(p):p=-1/0,x>0?x=Math.log(x):x=1/0,x=Math.max(x,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=x},c.getDistanceLimits=function(p){var x=this.radius.bounds;return p?(p[0]=Math.exp(x[0][0]),p[1]=Math.exp(x[1][0]),p):[Math.exp(x[0][0]),Math.exp(x[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(p){var x=this.lastT(),A=p.center;A&&this.center.set(x,A[0],A[1],A[2]);var _=p.rotation;_&&this.rotation.set(x,_[0],_[1],_[2],_[3]);var y=p.distance;y&&y>0&&this.radius.set(x,Math.log(y)),this.setDistanceLimits(p.zoomMin,p.zoomMax)};function o(p){p=p||{};var x=p.center||[0,0,0],A=p.rotation||[0,0,0,1],_=p.radius||1;x=[].slice.call(x,0,3),A=[].slice.call(A,0,4),h(A,A);var y=new T(A,x,Math.log(_));return y.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&y.lookAt(0,p.eye,p.center,p.up),y}},1371:function(v,g,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(3233);v.exports=function(a,u,f){return f=typeof f<"u"?f+"":" ",t(f,u)+a}},3202:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var i=parseFloat(r,10);return t[0]=i,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(v,g,r){v.exports=i;var t=r(3140);function i(a,u){for(var f=u.length|0,l=a.length,m=[new Array(f),new Array(f)],h=0;h<f;++h)m[0][h]=[],m[1][h]=[];for(var h=0;h<l;++h){var T=a[h];m[0][T[0]].push(T),m[1][T[1]].push(T)}for(var c=[],h=0;h<f;++h)m[0][h].length+m[1][h].length===0&&c.push([h]);function o(M,s){var S=m[s][M[s]];S.splice(S.indexOf(M),1)}function p(M,s,S){for(var b,I,D,B=0;B<2;++B)if(m[B][s].length>0){b=m[B][s][0],D=B;break}I=b[D^1];for(var k=0;k<2;++k)for(var F=m[k][s],N=0;N<F.length;++N){var O=F[N],V=O[k^1],X=t(u[M],u[s],u[I],u[V]);X>0&&(b=O,I=V,D=k)}return S||b&&o(b,D),I}function x(M,s){var S=m[s][M][0],b=[M];o(S,s);for(var I=S[s^1];;){for(;I!==M;)b.push(I),I=p(b[b.length-2],I,!1);if(m[0][M].length+m[1][M].length===0)break;var D=b[b.length-1],B=M,k=b[1],F=p(D,B,!0);if(t(u[D],u[B],u[k],u[F])<0)break;b.push(M),I=p(D,B)}return b}function A(M,s){return s[1]===s[s.length-1]}for(var h=0;h<f;++h)for(var _=0;_<2;++_){for(var y=[];m[_][h].length>0;){m[0][h].length;var E=x(h,_);A(y,E)?y.push.apply(y,E):(y.length>0&&c.push(y),y=E)}y.length>0&&c.push(y)}return c}},5609:function(v,g,r){v.exports=i;var t=r(3134);function i(a,u){for(var f=t(a,u.length),l=new Array(u.length),m=new Array(u.length),h=[],T=0;T<u.length;++T){var c=f[T].length;m[T]=c,l[T]=!0,c<=1&&h.push(T)}for(;h.length>0;){var o=h.pop();l[o]=!1;for(var p=f[o],T=0;T<p.length;++T){var x=p[T];--m[x]===0&&h.push(x)}}for(var A=new Array(u.length),_=[],T=0;T<u.length;++T)if(l[T]){var o=_.length;A[T]=o,_.push(u[T])}else A[T]=-1;for(var y=[],T=0;T<a.length;++T){var E=a[T];l[E[0]]&&l[E[1]]&&y.push([A[E[0]],A[E[1]]])}return[y,_]}},2095:function(v,g,r){v.exports=c;var t=r(3134),i=r(3088),a=r(5085),u=r(5250),f=r(8210),l=r(1682),m=r(5609);function h(o,p){for(var x=new Array(o),A=0;A<o;++A)x[A]=p;return x}function T(o){for(var p=new Array(o),x=0;x<o;++x)p[x]=[];return p}function c(o,p){var K=m(o,p);o=K[0],p=K[1];var x=p.length;o.length;for(var A=t(o,p.length),_=0;_<x;++_)if(A[_].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var y=i(o,p);function E(De){for(var we=De.length,Ce=[0],be=0;be<we;++be){var Pe=p[De[be]],Ve=p[De[(be+1)%we]],Ge=u(-Pe[0],Pe[1]),Fe=u(-Pe[0],Ve[1]),He=u(Ve[0],Pe[1]),ft=u(Ve[0],Ve[1]);Ce=f(Ce,f(f(Ge,Fe),f(He,ft)))}return Ce[Ce.length-1]>0}y=y.filter(E);for(var M=y.length,s=new Array(M),S=new Array(M),_=0;_<M;++_){s[_]=_;var b=new Array(M),I=y[_].map(function(we){return p[we]}),D=a([I]),B=0;e:for(var k=0;k<M;++k)if(b[k]=0,_!==k){for(var F=y[k],N=F.length,O=0;O<N;++O){var V=D(p[F[O]]);if(V!==0){V<0&&(b[k]=1,B+=1);continue e}}b[k]=1,B+=1}S[_]=[B,_,b]}S.sort(function(De,we){return we[0]-De[0]});for(var _=0;_<M;++_)for(var b=S[_],X=b[1],ee=b[2],k=0;k<M;++k)ee[k]&&(s[k]=X);for(var ne=T(M),_=0;_<M;++_)ne[_].push(s[_]),ne[s[_]].push(_);for(var q={},se=h(x,!1),_=0;_<M;++_)for(var F=y[_],N=F.length,k=0;k<N;++k){var J=F[k],Z=F[(k+1)%N],te=Math.min(J,Z)+":"+Math.max(J,Z);if(te in q){var Y=q[te];ne[Y].push(_),ne[_].push(Y),se[J]=se[Z]=!0}else q[te]=_}function ie(De){for(var we=De.length,Ce=0;Ce<we;++Ce)if(!se[De[Ce]])return!1;return!0}for(var le=[],j=h(M,-1),_=0;_<M;++_)s[_]===_&&!ie(y[_])?(le.push(_),j[_]=0):j[_]=-1;for(var K=[];le.length>0;){var ue=le.pop(),ae=ne[ue];l(ae,function(De,we){return De-we});var he=ae.length,xe=j[ue],Se;if(xe===0){var F=y[ue];Se=[F]}for(var _=0;_<he;++_){var Ae=ae[_];if(!(j[Ae]>=0)&&(j[Ae]=xe^1,le.push(Ae),xe===0)){var F=y[Ae];ie(F)||(F.reverse(),Se.push(F))}}xe===0&&K.push(Se)}return K}},5085:function(v,g,r){v.exports=p;var t=r(3250)[3],i=r(4209),a=r(3352),u=r(2478);function f(){return!0}function l(x){return function(A,_){var y=x[A];return y?!!y.queryPoint(_,f):!1}}function m(x){for(var A={},_=0;_<x.length;++_){var y=x[_],E=y[0][0],M=y[0][1],s=y[1][1],S=[Math.min(M,s),Math.max(M,s)];E in A?A[E].push(S):A[E]=[S]}for(var b={},I=Object.keys(A),_=0;_<I.length;++_){var D=A[I[_]];b[I[_]]=a(D)}return l(b)}function h(x,A){return function(_){var y=u.le(A,_[0]);if(y<0)return 1;var E=x[y];if(!E)if(y>0&&A[y]===_[0])E=x[y-1];else return 1;for(var M=1;E;){var s=E.key,S=t(_,s[0],s[1]);if(s[0][0]<s[1][0])if(S<0)E=E.left;else if(S>0)M=-1,E=E.right;else return 0;else if(S>0)E=E.left;else if(S<0)M=1,E=E.right;else return 0}return M}}function T(x){return 1}function c(x){return function(_){return x(_[0],_[1])?0:1}}function o(x,A){return function(y){return x(y[0],y[1])?0:A(y)}}function p(x){for(var A=x.length,_=[],y=[],E=0;E<A;++E)for(var M=x[E],s=M.length,S=s-1,b=0;b<s;S=b++){var I=M[S],D=M[b];I[0]===D[0]?y.push([I,D]):_.push([I,D])}if(_.length===0)return y.length===0?T:c(m(y));var B=i(_),k=h(B.slabs,B.coordinates);return y.length===0?k:o(m(y),k)}},9346:function(v){var g=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function i(a,u,f,l,m){g.length<l.length&&(g=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var h=0;h<l.length;++h)g[h]=a[h]-l[h],r[h]=u[h]-a[h],t[h]=f[h]-a[h];for(var T=0,c=0,o=0,p=0,x=0,A=0,h=0;h<l.length;++h){var _=r[h],y=t[h],E=g[h];T+=_*_,c+=_*y,o+=y*y,p+=E*_,x+=E*y,A+=E*E}var M=Math.abs(T*o-c*c),s=c*x-o*p,S=c*p-T*x,b;if(s+S<=M)if(s<0)S<0&&p<0?(S=0,-p>=T?(s=1,b=T+2*p+A):(s=-p/T,b=p*s+A)):(s=0,x>=0?(S=0,b=A):-x>=o?(S=1,b=o+2*x+A):(S=-x/o,b=x*S+A));else if(S<0)S=0,p>=0?(s=0,b=A):-p>=T?(s=1,b=T+2*p+A):(s=-p/T,b=p*s+A);else{var I=1/M;s*=I,S*=I,b=s*(T*s+c*S+2*p)+S*(c*s+o*S+2*x)+A}else{var D,B,k,F;s<0?(D=c+p,B=o+x,B>D?(k=B-D,F=T-2*c+o,k>=F?(s=1,S=0,b=T+2*p+A):(s=k/F,S=1-s,b=s*(T*s+c*S+2*p)+S*(c*s+o*S+2*x)+A)):(s=0,B<=0?(S=1,b=o+2*x+A):x>=0?(S=0,b=A):(S=-x/o,b=x*S+A))):S<0?(D=c+x,B=T+p,B>D?(k=B-D,F=T-2*c+o,k>=F?(S=1,s=0,b=o+2*x+A):(S=k/F,s=1-S,b=s*(T*s+c*S+2*p)+S*(c*s+o*S+2*x)+A)):(S=0,B<=0?(s=1,b=T+2*p+A):p>=0?(s=0,b=A):(s=-p/T,b=p*s+A))):(k=o+x-c-p,k<=0?(s=0,S=1,b=o+2*x+A):(F=T-2*c+o,k>=F?(s=1,S=0,b=T+2*p+A):(s=k/F,S=1-s,b=s*(T*s+c*S+2*p)+S*(c*s+o*S+2*x)+A)))}for(var N=1-s-S,h=0;h<l.length;++h)m[h]=N*a[h]+s*u[h]+S*f[h];return b<0?0:b}v.exports=i},8648:function(v,g,r){v.exports=r(783)},2653:function(v,g,r){var t=r(3865);v.exports=i;function i(a,u){for(var f=a.length,l=new Array(f),m=0;m<f;++m)l[m]=t(a[m],u[m]);return l}},5838:function(v,g,r){v.exports=i;var t=r(7842);function i(a){for(var u=new Array(a.length),f=0;f<a.length;++f)u[f]=t(a[f]);return u}},8987:function(v,g,r){var t=r(7842),i=r(6504);v.exports=a;function a(u,f){for(var l=t(f),m=u.length,h=new Array(m),T=0;T<m;++T)h[T]=i(u[T],l);return h}},544:function(v,g,r){var t=r(5572);v.exports=i;function i(a,u){for(var f=a.length,l=new Array(f),m=0;m<f;++m)l[m]=t(a[m],u[m]);return l}},5771:function(v,g,r){var t=r(8507),i=r(3788),a=r(2419);v.exports=u;function u(f){f.sort(i);for(var l=f.length,m=0,h=0;h<l;++h){var T=f[h],c=a(T);if(c!==0){if(m>0){var o=f[m-1];if(t(T,o)===0&&a(o)!==c){m-=1;continue}}f[m++]=T}}return f.length=m,f}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var g="",r;v.exports=t;function t(i,a){if(typeof i!="string")throw new TypeError("expected a string");if(a===1)return i;if(a===2)return i+i;var u=i.length*a;if(r!==i||typeof r>"u")r=i,g="";else if(g.length>=u)return g.substr(0,u);for(;u>g.length&&a>1;)a&1&&(g+=i),a>>=1,i+=i;return g+=i,g=g.substr(0,u),g}},3025:function(v,g,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=g;function g(r){for(var t=r.length,i=r[r.length-1],a=t,u=t-2;u>=0;--u){var f=i,l=r[u];i=f+l;var m=i-f,h=l-m;h&&(r[--a]=i,i=h)}for(var T=0,u=a;u<t;++u){var f=r[u],l=i;i=f+l;var m=i-f,h=l-m;h&&(r[T++]=h)}return r[T++]=i,r.length=T,r}},2962:function(v,g,r){var t=r(5250),i=r(8210),a=r(3012),u=r(7004),f=6;function l(A,_,y,E){return function(s){return E(A(y(s[0][0],s[1][1]),y(-s[0][1],s[1][0])))}}function m(A,_,y,E){return function(s){return E(A(_(A(y(s[1][1],s[2][2]),y(-s[1][2],s[2][1])),s[0][0]),A(_(A(y(s[1][0],s[2][2]),y(-s[1][2],s[2][0])),-s[0][1]),_(A(y(s[1][0],s[2][1]),y(-s[1][1],s[2][0])),s[0][2]))))}}function h(A,_,y,E){return function(s){return E(A(A(_(A(_(A(y(s[2][2],s[3][3]),y(-s[2][3],s[3][2])),s[1][1]),A(_(A(y(s[2][1],s[3][3]),y(-s[2][3],s[3][1])),-s[1][2]),_(A(y(s[2][1],s[3][2]),y(-s[2][2],s[3][1])),s[1][3]))),s[0][0]),_(A(_(A(y(s[2][2],s[3][3]),y(-s[2][3],s[3][2])),s[1][0]),A(_(A(y(s[2][0],s[3][3]),y(-s[2][3],s[3][0])),-s[1][2]),_(A(y(s[2][0],s[3][2]),y(-s[2][2],s[3][0])),s[1][3]))),-s[0][1])),A(_(A(_(A(y(s[2][1],s[3][3]),y(-s[2][3],s[3][1])),s[1][0]),A(_(A(y(s[2][0],s[3][3]),y(-s[2][3],s[3][0])),-s[1][1]),_(A(y(s[2][0],s[3][1]),y(-s[2][1],s[3][0])),s[1][3]))),s[0][2]),_(A(_(A(y(s[2][1],s[3][2]),y(-s[2][2],s[3][1])),s[1][0]),A(_(A(y(s[2][0],s[3][2]),y(-s[2][2],s[3][0])),-s[1][1]),_(A(y(s[2][0],s[3][1]),y(-s[2][1],s[3][0])),s[1][2]))),-s[0][3]))))}}function T(A,_,y,E){return function(s){return E(A(A(_(A(A(_(A(_(A(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][2]),A(_(A(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),-s[2][3]),_(A(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][4]))),s[1][1]),_(A(_(A(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][1]),A(_(A(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),-s[2][3]),_(A(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),s[2][4]))),-s[1][2])),A(_(A(_(A(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),s[2][1]),A(_(A(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),-s[2][2]),_(A(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][4]))),s[1][3]),_(A(_(A(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][1]),A(_(A(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),-s[2][2]),_(A(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][3]))),-s[1][4]))),s[0][0]),_(A(A(_(A(_(A(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][2]),A(_(A(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),-s[2][3]),_(A(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][4]))),s[1][0]),_(A(_(A(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][0]),A(_(A(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][3]),_(A(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),s[2][4]))),-s[1][2])),A(_(A(_(A(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),s[2][0]),A(_(A(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][2]),_(A(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),s[2][4]))),s[1][3]),_(A(_(A(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][0]),A(_(A(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),-s[2][2]),_(A(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),s[2][3]))),-s[1][4]))),-s[0][1])),A(_(A(A(_(A(_(A(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][1]),A(_(A(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),-s[2][3]),_(A(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),s[2][4]))),s[1][0]),_(A(_(A(y(s[3][3],s[4][4]),y(-s[3][4],s[4][3])),s[2][0]),A(_(A(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][3]),_(A(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),s[2][4]))),-s[1][1])),A(_(A(_(A(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),s[2][0]),A(_(A(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][1]),_(A(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][4]))),s[1][3]),_(A(_(A(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),s[2][0]),A(_(A(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),-s[2][1]),_(A(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][3]))),-s[1][4]))),s[0][2]),A(_(A(A(_(A(_(A(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),s[2][1]),A(_(A(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),-s[2][2]),_(A(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][4]))),s[1][0]),_(A(_(A(y(s[3][2],s[4][4]),y(-s[3][4],s[4][2])),s[2][0]),A(_(A(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][2]),_(A(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),s[2][4]))),-s[1][1])),A(_(A(_(A(y(s[3][1],s[4][4]),y(-s[3][4],s[4][1])),s[2][0]),A(_(A(y(s[3][0],s[4][4]),y(-s[3][4],s[4][0])),-s[2][1]),_(A(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][4]))),s[1][2]),_(A(_(A(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][0]),A(_(A(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),-s[2][1]),_(A(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][2]))),-s[1][4]))),-s[0][3]),_(A(A(_(A(_(A(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][1]),A(_(A(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),-s[2][2]),_(A(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][3]))),s[1][0]),_(A(_(A(y(s[3][2],s[4][3]),y(-s[3][3],s[4][2])),s[2][0]),A(_(A(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),-s[2][2]),_(A(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),s[2][3]))),-s[1][1])),A(_(A(_(A(y(s[3][1],s[4][3]),y(-s[3][3],s[4][1])),s[2][0]),A(_(A(y(s[3][0],s[4][3]),y(-s[3][3],s[4][0])),-s[2][1]),_(A(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][3]))),s[1][2]),_(A(_(A(y(s[3][1],s[4][2]),y(-s[3][2],s[4][1])),s[2][0]),A(_(A(y(s[3][0],s[4][2]),y(-s[3][2],s[4][0])),-s[2][1]),_(A(y(s[3][0],s[4][1]),y(-s[3][1],s[4][0])),s[2][2]))),-s[1][3]))),s[0][4])))))}}function c(A){var _=A===2?l:A===3?m:A===4?h:A===5?T:void 0;return _(i,a,t,u)}var o=[function(){return[0]},function(_){return[_[0][0]]}];function p(A,_,y,E,M,s,S,b){return function(D){switch(D.length){case 0:return A(D);case 1:return _(D);case 2:return y(D);case 3:return E(D);case 4:return M(D);case 5:return s(D)}var B=S[D.length];return B||(B=S[D.length]=b(D.length)),B(D)}}function x(){for(;o.length<f;)o.push(c(o.length));v.exports=p.apply(void 0,o.concat([o,c]));for(var A=0;A<o.length;++A)v.exports[A]=o[A]}x()},1944:function(v,g,r){var t=r(5250),i=r(8210);v.exports=a;function a(u,f){for(var l=t(u[0],f[0]),m=1;m<u.length;++m)l=i(l,t(u[m],f[m]));return l}},2646:function(v,g,r){var t=r(5250),i=r(8210),a=r(8545),u=r(3012),f=6;function l(M){var s=M===3?c:M===4?o:M===5?p:x;return s(i,a,t,u)}function m(){return 0}function h(){return 0}function T(){return 0}function c(M,s,S,b){function I(D,B,k){var F=S(D[0],D[0]),N=b(F,B[0]),O=b(F,k[0]),V=S(B[0],B[0]),X=b(V,D[0]),ee=b(V,k[0]),ne=S(k[0],k[0]),q=b(ne,D[0]),se=b(ne,B[0]),J=M(s(se,ee),s(X,N)),Z=s(q,O),te=s(J,Z);return te[te.length-1]}return I}function o(M,s,S,b){function I(D,B,k,F){var N=M(S(D[0],D[0]),S(D[1],D[1])),O=b(N,B[0]),V=b(N,k[0]),X=b(N,F[0]),ee=M(S(B[0],B[0]),S(B[1],B[1])),ne=b(ee,D[0]),q=b(ee,k[0]),se=b(ee,F[0]),J=M(S(k[0],k[0]),S(k[1],k[1])),Z=b(J,D[0]),te=b(J,B[0]),Y=b(J,F[0]),ie=M(S(F[0],F[0]),S(F[1],F[1])),le=b(ie,D[0]),j=b(ie,B[0]),K=b(ie,k[0]),ue=M(M(b(s(K,Y),B[1]),M(b(s(j,se),-k[1]),b(s(te,q),F[1]))),M(b(s(j,se),D[1]),M(b(s(le,X),-B[1]),b(s(ne,O),F[1])))),ae=M(M(b(s(K,Y),D[1]),M(b(s(le,X),-k[1]),b(s(Z,V),F[1]))),M(b(s(te,q),D[1]),M(b(s(Z,V),-B[1]),b(s(ne,O),k[1])))),he=s(ue,ae);return he[he.length-1]}return I}function p(M,s,S,b){function I(D,B,k,F,N){var O=M(S(D[0],D[0]),M(S(D[1],D[1]),S(D[2],D[2]))),V=b(O,B[0]),X=b(O,k[0]),ee=b(O,F[0]),ne=b(O,N[0]),q=M(S(B[0],B[0]),M(S(B[1],B[1]),S(B[2],B[2]))),se=b(q,D[0]),J=b(q,k[0]),Z=b(q,F[0]),te=b(q,N[0]),Y=M(S(k[0],k[0]),M(S(k[1],k[1]),S(k[2],k[2]))),ie=b(Y,D[0]),le=b(Y,B[0]),j=b(Y,F[0]),K=b(Y,N[0]),ue=M(S(F[0],F[0]),M(S(F[1],F[1]),S(F[2],F[2]))),ae=b(ue,D[0]),he=b(ue,B[0]),xe=b(ue,k[0]),Se=b(ue,N[0]),Ae=M(S(N[0],N[0]),M(S(N[1],N[1]),S(N[2],N[2]))),De=b(Ae,D[0]),we=b(Ae,B[0]),Ce=b(Ae,k[0]),be=b(Ae,F[0]),Pe=M(M(M(b(M(b(s(be,Se),k[1]),M(b(s(Ce,K),-F[1]),b(s(xe,j),N[1]))),B[2]),M(b(M(b(s(be,Se),B[1]),M(b(s(we,te),-F[1]),b(s(he,Z),N[1]))),-k[2]),b(M(b(s(Ce,K),B[1]),M(b(s(we,te),-k[1]),b(s(le,J),N[1]))),F[2]))),M(b(M(b(s(xe,j),B[1]),M(b(s(he,Z),-k[1]),b(s(le,J),F[1]))),-N[2]),M(b(M(b(s(be,Se),B[1]),M(b(s(we,te),-F[1]),b(s(he,Z),N[1]))),D[2]),b(M(b(s(be,Se),D[1]),M(b(s(De,ne),-F[1]),b(s(ae,ee),N[1]))),-B[2])))),M(M(b(M(b(s(we,te),D[1]),M(b(s(De,ne),-B[1]),b(s(se,V),N[1]))),F[2]),M(b(M(b(s(he,Z),D[1]),M(b(s(ae,ee),-B[1]),b(s(se,V),F[1]))),-N[2]),b(M(b(s(xe,j),B[1]),M(b(s(he,Z),-k[1]),b(s(le,J),F[1]))),D[2]))),M(b(M(b(s(xe,j),D[1]),M(b(s(ae,ee),-k[1]),b(s(ie,X),F[1]))),-B[2]),M(b(M(b(s(he,Z),D[1]),M(b(s(ae,ee),-B[1]),b(s(se,V),F[1]))),k[2]),b(M(b(s(le,J),D[1]),M(b(s(ie,X),-B[1]),b(s(se,V),k[1]))),-F[2]))))),Ve=M(M(M(b(M(b(s(be,Se),k[1]),M(b(s(Ce,K),-F[1]),b(s(xe,j),N[1]))),D[2]),b(M(b(s(be,Se),D[1]),M(b(s(De,ne),-F[1]),b(s(ae,ee),N[1]))),-k[2])),M(b(M(b(s(Ce,K),D[1]),M(b(s(De,ne),-k[1]),b(s(ie,X),N[1]))),F[2]),b(M(b(s(xe,j),D[1]),M(b(s(ae,ee),-k[1]),b(s(ie,X),F[1]))),-N[2]))),M(M(b(M(b(s(Ce,K),B[1]),M(b(s(we,te),-k[1]),b(s(le,J),N[1]))),D[2]),b(M(b(s(Ce,K),D[1]),M(b(s(De,ne),-k[1]),b(s(ie,X),N[1]))),-B[2])),M(b(M(b(s(we,te),D[1]),M(b(s(De,ne),-B[1]),b(s(se,V),N[1]))),k[2]),b(M(b(s(le,J),D[1]),M(b(s(ie,X),-B[1]),b(s(se,V),k[1]))),-N[2])))),Ge=s(Pe,Ve);return Ge[Ge.length-1]}return I}function x(M,s,S,b){function I(D,B,k,F,N,O){var V=M(M(S(D[0],D[0]),S(D[1],D[1])),M(S(D[2],D[2]),S(D[3],D[3]))),X=b(V,B[0]),ee=b(V,k[0]),ne=b(V,F[0]),q=b(V,N[0]),se=b(V,O[0]),J=M(M(S(B[0],B[0]),S(B[1],B[1])),M(S(B[2],B[2]),S(B[3],B[3]))),Z=b(J,D[0]),te=b(J,k[0]),Y=b(J,F[0]),ie=b(J,N[0]),le=b(J,O[0]),j=M(M(S(k[0],k[0]),S(k[1],k[1])),M(S(k[2],k[2]),S(k[3],k[3]))),K=b(j,D[0]),ue=b(j,B[0]),ae=b(j,F[0]),he=b(j,N[0]),xe=b(j,O[0]),Se=M(M(S(F[0],F[0]),S(F[1],F[1])),M(S(F[2],F[2]),S(F[3],F[3]))),Ae=b(Se,D[0]),De=b(Se,B[0]),we=b(Se,k[0]),Ce=b(Se,N[0]),be=b(Se,O[0]),Pe=M(M(S(N[0],N[0]),S(N[1],N[1])),M(S(N[2],N[2]),S(N[3],N[3]))),Ve=b(Pe,D[0]),Ge=b(Pe,B[0]),Fe=b(Pe,k[0]),He=b(Pe,F[0]),ft=b(Pe,O[0]),gt=M(M(S(O[0],O[0]),S(O[1],O[1])),M(S(O[2],O[2]),S(O[3],O[3]))),ct=b(gt,D[0]),nt=b(gt,B[0]),dt=b(gt,k[0]),pt=b(gt,F[0]),wt=b(gt,N[0]),Tt=M(M(M(b(M(M(b(M(b(s(wt,ft),F[1]),M(b(s(pt,be),-N[1]),b(s(He,Ce),O[1]))),k[2]),b(M(b(s(wt,ft),k[1]),M(b(s(dt,xe),-N[1]),b(s(Fe,he),O[1]))),-F[2])),M(b(M(b(s(pt,be),k[1]),M(b(s(dt,xe),-F[1]),b(s(we,ae),O[1]))),N[2]),b(M(b(s(He,Ce),k[1]),M(b(s(Fe,he),-F[1]),b(s(we,ae),N[1]))),-O[2]))),B[3]),M(b(M(M(b(M(b(s(wt,ft),F[1]),M(b(s(pt,be),-N[1]),b(s(He,Ce),O[1]))),B[2]),b(M(b(s(wt,ft),B[1]),M(b(s(nt,le),-N[1]),b(s(Ge,ie),O[1]))),-F[2])),M(b(M(b(s(pt,be),B[1]),M(b(s(nt,le),-F[1]),b(s(De,Y),O[1]))),N[2]),b(M(b(s(He,Ce),B[1]),M(b(s(Ge,ie),-F[1]),b(s(De,Y),N[1]))),-O[2]))),-k[3]),b(M(M(b(M(b(s(wt,ft),k[1]),M(b(s(dt,xe),-N[1]),b(s(Fe,he),O[1]))),B[2]),b(M(b(s(wt,ft),B[1]),M(b(s(nt,le),-N[1]),b(s(Ge,ie),O[1]))),-k[2])),M(b(M(b(s(dt,xe),B[1]),M(b(s(nt,le),-k[1]),b(s(ue,te),O[1]))),N[2]),b(M(b(s(Fe,he),B[1]),M(b(s(Ge,ie),-k[1]),b(s(ue,te),N[1]))),-O[2]))),F[3]))),M(M(b(M(M(b(M(b(s(pt,be),k[1]),M(b(s(dt,xe),-F[1]),b(s(we,ae),O[1]))),B[2]),b(M(b(s(pt,be),B[1]),M(b(s(nt,le),-F[1]),b(s(De,Y),O[1]))),-k[2])),M(b(M(b(s(dt,xe),B[1]),M(b(s(nt,le),-k[1]),b(s(ue,te),O[1]))),F[2]),b(M(b(s(we,ae),B[1]),M(b(s(De,Y),-k[1]),b(s(ue,te),F[1]))),-O[2]))),-N[3]),b(M(M(b(M(b(s(He,Ce),k[1]),M(b(s(Fe,he),-F[1]),b(s(we,ae),N[1]))),B[2]),b(M(b(s(He,Ce),B[1]),M(b(s(Ge,ie),-F[1]),b(s(De,Y),N[1]))),-k[2])),M(b(M(b(s(Fe,he),B[1]),M(b(s(Ge,ie),-k[1]),b(s(ue,te),N[1]))),F[2]),b(M(b(s(we,ae),B[1]),M(b(s(De,Y),-k[1]),b(s(ue,te),F[1]))),-N[2]))),O[3])),M(b(M(M(b(M(b(s(wt,ft),F[1]),M(b(s(pt,be),-N[1]),b(s(He,Ce),O[1]))),B[2]),b(M(b(s(wt,ft),B[1]),M(b(s(nt,le),-N[1]),b(s(Ge,ie),O[1]))),-F[2])),M(b(M(b(s(pt,be),B[1]),M(b(s(nt,le),-F[1]),b(s(De,Y),O[1]))),N[2]),b(M(b(s(He,Ce),B[1]),M(b(s(Ge,ie),-F[1]),b(s(De,Y),N[1]))),-O[2]))),D[3]),b(M(M(b(M(b(s(wt,ft),F[1]),M(b(s(pt,be),-N[1]),b(s(He,Ce),O[1]))),D[2]),b(M(b(s(wt,ft),D[1]),M(b(s(ct,se),-N[1]),b(s(Ve,q),O[1]))),-F[2])),M(b(M(b(s(pt,be),D[1]),M(b(s(ct,se),-F[1]),b(s(Ae,ne),O[1]))),N[2]),b(M(b(s(He,Ce),D[1]),M(b(s(Ve,q),-F[1]),b(s(Ae,ne),N[1]))),-O[2]))),-B[3])))),M(M(M(b(M(M(b(M(b(s(wt,ft),B[1]),M(b(s(nt,le),-N[1]),b(s(Ge,ie),O[1]))),D[2]),b(M(b(s(wt,ft),D[1]),M(b(s(ct,se),-N[1]),b(s(Ve,q),O[1]))),-B[2])),M(b(M(b(s(nt,le),D[1]),M(b(s(ct,se),-B[1]),b(s(Z,X),O[1]))),N[2]),b(M(b(s(Ge,ie),D[1]),M(b(s(Ve,q),-B[1]),b(s(Z,X),N[1]))),-O[2]))),F[3]),b(M(M(b(M(b(s(pt,be),B[1]),M(b(s(nt,le),-F[1]),b(s(De,Y),O[1]))),D[2]),b(M(b(s(pt,be),D[1]),M(b(s(ct,se),-F[1]),b(s(Ae,ne),O[1]))),-B[2])),M(b(M(b(s(nt,le),D[1]),M(b(s(ct,se),-B[1]),b(s(Z,X),O[1]))),F[2]),b(M(b(s(De,Y),D[1]),M(b(s(Ae,ne),-B[1]),b(s(Z,X),F[1]))),-O[2]))),-N[3])),M(b(M(M(b(M(b(s(He,Ce),B[1]),M(b(s(Ge,ie),-F[1]),b(s(De,Y),N[1]))),D[2]),b(M(b(s(He,Ce),D[1]),M(b(s(Ve,q),-F[1]),b(s(Ae,ne),N[1]))),-B[2])),M(b(M(b(s(Ge,ie),D[1]),M(b(s(Ve,q),-B[1]),b(s(Z,X),N[1]))),F[2]),b(M(b(s(De,Y),D[1]),M(b(s(Ae,ne),-B[1]),b(s(Z,X),F[1]))),-N[2]))),O[3]),b(M(M(b(M(b(s(pt,be),k[1]),M(b(s(dt,xe),-F[1]),b(s(we,ae),O[1]))),B[2]),b(M(b(s(pt,be),B[1]),M(b(s(nt,le),-F[1]),b(s(De,Y),O[1]))),-k[2])),M(b(M(b(s(dt,xe),B[1]),M(b(s(nt,le),-k[1]),b(s(ue,te),O[1]))),F[2]),b(M(b(s(we,ae),B[1]),M(b(s(De,Y),-k[1]),b(s(ue,te),F[1]))),-O[2]))),D[3]))),M(M(b(M(M(b(M(b(s(pt,be),k[1]),M(b(s(dt,xe),-F[1]),b(s(we,ae),O[1]))),D[2]),b(M(b(s(pt,be),D[1]),M(b(s(ct,se),-F[1]),b(s(Ae,ne),O[1]))),-k[2])),M(b(M(b(s(dt,xe),D[1]),M(b(s(ct,se),-k[1]),b(s(K,ee),O[1]))),F[2]),b(M(b(s(we,ae),D[1]),M(b(s(Ae,ne),-k[1]),b(s(K,ee),F[1]))),-O[2]))),-B[3]),b(M(M(b(M(b(s(pt,be),B[1]),M(b(s(nt,le),-F[1]),b(s(De,Y),O[1]))),D[2]),b(M(b(s(pt,be),D[1]),M(b(s(ct,se),-F[1]),b(s(Ae,ne),O[1]))),-B[2])),M(b(M(b(s(nt,le),D[1]),M(b(s(ct,se),-B[1]),b(s(Z,X),O[1]))),F[2]),b(M(b(s(De,Y),D[1]),M(b(s(Ae,ne),-B[1]),b(s(Z,X),F[1]))),-O[2]))),k[3])),M(b(M(M(b(M(b(s(dt,xe),B[1]),M(b(s(nt,le),-k[1]),b(s(ue,te),O[1]))),D[2]),b(M(b(s(dt,xe),D[1]),M(b(s(ct,se),-k[1]),b(s(K,ee),O[1]))),-B[2])),M(b(M(b(s(nt,le),D[1]),M(b(s(ct,se),-B[1]),b(s(Z,X),O[1]))),k[2]),b(M(b(s(ue,te),D[1]),M(b(s(K,ee),-B[1]),b(s(Z,X),k[1]))),-O[2]))),-F[3]),b(M(M(b(M(b(s(we,ae),B[1]),M(b(s(De,Y),-k[1]),b(s(ue,te),F[1]))),D[2]),b(M(b(s(we,ae),D[1]),M(b(s(Ae,ne),-k[1]),b(s(K,ee),F[1]))),-B[2])),M(b(M(b(s(De,Y),D[1]),M(b(s(Ae,ne),-B[1]),b(s(Z,X),F[1]))),k[2]),b(M(b(s(ue,te),D[1]),M(b(s(K,ee),-B[1]),b(s(Z,X),k[1]))),-F[2]))),O[3]))))),Ct=M(M(M(b(M(M(b(M(b(s(wt,ft),F[1]),M(b(s(pt,be),-N[1]),b(s(He,Ce),O[1]))),k[2]),b(M(b(s(wt,ft),k[1]),M(b(s(dt,xe),-N[1]),b(s(Fe,he),O[1]))),-F[2])),M(b(M(b(s(pt,be),k[1]),M(b(s(dt,xe),-F[1]),b(s(we,ae),O[1]))),N[2]),b(M(b(s(He,Ce),k[1]),M(b(s(Fe,he),-F[1]),b(s(we,ae),N[1]))),-O[2]))),D[3]),M(b(M(M(b(M(b(s(wt,ft),F[1]),M(b(s(pt,be),-N[1]),b(s(He,Ce),O[1]))),D[2]),b(M(b(s(wt,ft),D[1]),M(b(s(ct,se),-N[1]),b(s(Ve,q),O[1]))),-F[2])),M(b(M(b(s(pt,be),D[1]),M(b(s(ct,se),-F[1]),b(s(Ae,ne),O[1]))),N[2]),b(M(b(s(He,Ce),D[1]),M(b(s(Ve,q),-F[1]),b(s(Ae,ne),N[1]))),-O[2]))),-k[3]),b(M(M(b(M(b(s(wt,ft),k[1]),M(b(s(dt,xe),-N[1]),b(s(Fe,he),O[1]))),D[2]),b(M(b(s(wt,ft),D[1]),M(b(s(ct,se),-N[1]),b(s(Ve,q),O[1]))),-k[2])),M(b(M(b(s(dt,xe),D[1]),M(b(s(ct,se),-k[1]),b(s(K,ee),O[1]))),N[2]),b(M(b(s(Fe,he),D[1]),M(b(s(Ve,q),-k[1]),b(s(K,ee),N[1]))),-O[2]))),F[3]))),M(M(b(M(M(b(M(b(s(pt,be),k[1]),M(b(s(dt,xe),-F[1]),b(s(we,ae),O[1]))),D[2]),b(M(b(s(pt,be),D[1]),M(b(s(ct,se),-F[1]),b(s(Ae,ne),O[1]))),-k[2])),M(b(M(b(s(dt,xe),D[1]),M(b(s(ct,se),-k[1]),b(s(K,ee),O[1]))),F[2]),b(M(b(s(we,ae),D[1]),M(b(s(Ae,ne),-k[1]),b(s(K,ee),F[1]))),-O[2]))),-N[3]),b(M(M(b(M(b(s(He,Ce),k[1]),M(b(s(Fe,he),-F[1]),b(s(we,ae),N[1]))),D[2]),b(M(b(s(He,Ce),D[1]),M(b(s(Ve,q),-F[1]),b(s(Ae,ne),N[1]))),-k[2])),M(b(M(b(s(Fe,he),D[1]),M(b(s(Ve,q),-k[1]),b(s(K,ee),N[1]))),F[2]),b(M(b(s(we,ae),D[1]),M(b(s(Ae,ne),-k[1]),b(s(K,ee),F[1]))),-N[2]))),O[3])),M(b(M(M(b(M(b(s(wt,ft),k[1]),M(b(s(dt,xe),-N[1]),b(s(Fe,he),O[1]))),B[2]),b(M(b(s(wt,ft),B[1]),M(b(s(nt,le),-N[1]),b(s(Ge,ie),O[1]))),-k[2])),M(b(M(b(s(dt,xe),B[1]),M(b(s(nt,le),-k[1]),b(s(ue,te),O[1]))),N[2]),b(M(b(s(Fe,he),B[1]),M(b(s(Ge,ie),-k[1]),b(s(ue,te),N[1]))),-O[2]))),D[3]),b(M(M(b(M(b(s(wt,ft),k[1]),M(b(s(dt,xe),-N[1]),b(s(Fe,he),O[1]))),D[2]),b(M(b(s(wt,ft),D[1]),M(b(s(ct,se),-N[1]),b(s(Ve,q),O[1]))),-k[2])),M(b(M(b(s(dt,xe),D[1]),M(b(s(ct,se),-k[1]),b(s(K,ee),O[1]))),N[2]),b(M(b(s(Fe,he),D[1]),M(b(s(Ve,q),-k[1]),b(s(K,ee),N[1]))),-O[2]))),-B[3])))),M(M(M(b(M(M(b(M(b(s(wt,ft),B[1]),M(b(s(nt,le),-N[1]),b(s(Ge,ie),O[1]))),D[2]),b(M(b(s(wt,ft),D[1]),M(b(s(ct,se),-N[1]),b(s(Ve,q),O[1]))),-B[2])),M(b(M(b(s(nt,le),D[1]),M(b(s(ct,se),-B[1]),b(s(Z,X),O[1]))),N[2]),b(M(b(s(Ge,ie),D[1]),M(b(s(Ve,q),-B[1]),b(s(Z,X),N[1]))),-O[2]))),k[3]),b(M(M(b(M(b(s(dt,xe),B[1]),M(b(s(nt,le),-k[1]),b(s(ue,te),O[1]))),D[2]),b(M(b(s(dt,xe),D[1]),M(b(s(ct,se),-k[1]),b(s(K,ee),O[1]))),-B[2])),M(b(M(b(s(nt,le),D[1]),M(b(s(ct,se),-B[1]),b(s(Z,X),O[1]))),k[2]),b(M(b(s(ue,te),D[1]),M(b(s(K,ee),-B[1]),b(s(Z,X),k[1]))),-O[2]))),-N[3])),M(b(M(M(b(M(b(s(Fe,he),B[1]),M(b(s(Ge,ie),-k[1]),b(s(ue,te),N[1]))),D[2]),b(M(b(s(Fe,he),D[1]),M(b(s(Ve,q),-k[1]),b(s(K,ee),N[1]))),-B[2])),M(b(M(b(s(Ge,ie),D[1]),M(b(s(Ve,q),-B[1]),b(s(Z,X),N[1]))),k[2]),b(M(b(s(ue,te),D[1]),M(b(s(K,ee),-B[1]),b(s(Z,X),k[1]))),-N[2]))),O[3]),b(M(M(b(M(b(s(He,Ce),k[1]),M(b(s(Fe,he),-F[1]),b(s(we,ae),N[1]))),B[2]),b(M(b(s(He,Ce),B[1]),M(b(s(Ge,ie),-F[1]),b(s(De,Y),N[1]))),-k[2])),M(b(M(b(s(Fe,he),B[1]),M(b(s(Ge,ie),-k[1]),b(s(ue,te),N[1]))),F[2]),b(M(b(s(we,ae),B[1]),M(b(s(De,Y),-k[1]),b(s(ue,te),F[1]))),-N[2]))),D[3]))),M(M(b(M(M(b(M(b(s(He,Ce),k[1]),M(b(s(Fe,he),-F[1]),b(s(we,ae),N[1]))),D[2]),b(M(b(s(He,Ce),D[1]),M(b(s(Ve,q),-F[1]),b(s(Ae,ne),N[1]))),-k[2])),M(b(M(b(s(Fe,he),D[1]),M(b(s(Ve,q),-k[1]),b(s(K,ee),N[1]))),F[2]),b(M(b(s(we,ae),D[1]),M(b(s(Ae,ne),-k[1]),b(s(K,ee),F[1]))),-N[2]))),-B[3]),b(M(M(b(M(b(s(He,Ce),B[1]),M(b(s(Ge,ie),-F[1]),b(s(De,Y),N[1]))),D[2]),b(M(b(s(He,Ce),D[1]),M(b(s(Ve,q),-F[1]),b(s(Ae,ne),N[1]))),-B[2])),M(b(M(b(s(Ge,ie),D[1]),M(b(s(Ve,q),-B[1]),b(s(Z,X),N[1]))),F[2]),b(M(b(s(De,Y),D[1]),M(b(s(Ae,ne),-B[1]),b(s(Z,X),F[1]))),-N[2]))),k[3])),M(b(M(M(b(M(b(s(Fe,he),B[1]),M(b(s(Ge,ie),-k[1]),b(s(ue,te),N[1]))),D[2]),b(M(b(s(Fe,he),D[1]),M(b(s(Ve,q),-k[1]),b(s(K,ee),N[1]))),-B[2])),M(b(M(b(s(Ge,ie),D[1]),M(b(s(Ve,q),-B[1]),b(s(Z,X),N[1]))),k[2]),b(M(b(s(ue,te),D[1]),M(b(s(K,ee),-B[1]),b(s(Z,X),k[1]))),-N[2]))),-F[3]),b(M(M(b(M(b(s(we,ae),B[1]),M(b(s(De,Y),-k[1]),b(s(ue,te),F[1]))),D[2]),b(M(b(s(we,ae),D[1]),M(b(s(Ae,ne),-k[1]),b(s(K,ee),F[1]))),-B[2])),M(b(M(b(s(De,Y),D[1]),M(b(s(Ae,ne),-B[1]),b(s(Z,X),F[1]))),k[2]),b(M(b(s(ue,te),D[1]),M(b(s(K,ee),-B[1]),b(s(Z,X),k[1]))),-F[2]))),N[3]))))),at=s(Tt,Ct);return at[at.length-1]}return I}var A=[m,h,T];function _(M){var s=A[M.length];return s||(s=A[M.length]=l(M.length)),s.apply(void 0,M)}function y(M,s,S,b,I,D,B,k){function F(N,O,V,X,ee,ne){switch(arguments.length){case 0:case 1:return 0;case 2:return b(N,O);case 3:return I(N,O,V);case 4:return D(N,O,V,X);case 5:return B(N,O,V,X,ee);case 6:return k(N,O,V,X,ee,ne)}for(var q=new Array(arguments.length),se=0;se<arguments.length;++se)q[se]=arguments[se];return M(q)}return F}function E(){for(;A.length<=f;)A.push(l(A.length));v.exports=y.apply(void 0,[_].concat(A));for(var M=0;M<=f;++M)v.exports[M]=A[M]}E()},727:function(v,g,r){var t=r(2962),i=6;function a(A){var _=A===2?l:A===3?m:A===4?h:A===5?T:c;return A<6?_(t[A]):_(t)}function u(){return[[0]]}function f(A,_){return[[_[0]],[A[0][0]]]}function l(A){return function(y,E){return[A([[+E[0],+y[0][1]],[+E[1],+y[1][1]]]),A([[+y[0][0],+E[0]],[+y[1][0],+E[1]]]),A(y)]}}function m(A){return function(y,E){return[A([[+E[0],+y[0][1],+y[0][2]],[+E[1],+y[1][1],+y[1][2]],[+E[2],+y[2][1],+y[2][2]]]),A([[+y[0][0],+E[0],+y[0][2]],[+y[1][0],+E[1],+y[1][2]],[+y[2][0],+E[2],+y[2][2]]]),A([[+y[0][0],+y[0][1],+E[0]],[+y[1][0],+y[1][1],+E[1]],[+y[2][0],+y[2][1],+E[2]]]),A(y)]}}function h(A){return function(y,E){return[A([[+E[0],+y[0][1],+y[0][2],+y[0][3]],[+E[1],+y[1][1],+y[1][2],+y[1][3]],[+E[2],+y[2][1],+y[2][2],+y[2][3]],[+E[3],+y[3][1],+y[3][2],+y[3][3]]]),A([[+y[0][0],+E[0],+y[0][2],+y[0][3]],[+y[1][0],+E[1],+y[1][2],+y[1][3]],[+y[2][0],+E[2],+y[2][2],+y[2][3]],[+y[3][0],+E[3],+y[3][2],+y[3][3]]]),A([[+y[0][0],+y[0][1],+E[0],+y[0][3]],[+y[1][0],+y[1][1],+E[1],+y[1][3]],[+y[2][0],+y[2][1],+E[2],+y[2][3]],[+y[3][0],+y[3][1],+E[3],+y[3][3]]]),A([[+y[0][0],+y[0][1],+y[0][2],+E[0]],[+y[1][0],+y[1][1],+y[1][2],+E[1]],[+y[2][0],+y[2][1],+y[2][2],+E[2]],[+y[3][0],+y[3][1],+y[3][2],+E[3]]]),A(y)]}}function T(A){return function(y,E){return[A([[+E[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+E[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+E[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+E[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+E[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),A([[+y[0][0],+E[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+E[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+E[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+E[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+E[4],+y[4][2],+y[4][3],+y[4][4]]]),A([[+y[0][0],+y[0][1],+E[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+E[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+E[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+E[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+E[4],+y[4][3],+y[4][4]]]),A([[+y[0][0],+y[0][1],+y[0][2],+E[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+E[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+E[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+E[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+E[4],+y[4][4]]]),A([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+E[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+E[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+E[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+E[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+E[4]]]),A(y)]}}function c(A){return function(y,E){return[A([[+E[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+E[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+E[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+E[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+E[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+E[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),A([[+y[0][0],+E[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+E[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+E[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+E[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+E[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+E[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),A([[+y[0][0],+y[0][1],+E[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+E[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+E[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+E[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+E[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+E[5],+y[5][3],+y[5][4],+y[5][5]]]),A([[+y[0][0],+y[0][1],+y[0][2],+E[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+E[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+E[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+E[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+E[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+E[5],+y[5][4],+y[5][5]]]),A([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+E[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+E[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+E[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+E[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+E[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+E[5],+y[5][5]]]),A([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+E[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+E[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+E[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+E[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+E[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+E[5]]]),A(y)]}}var o=[u,f];function p(A,_,y,E,M,s,S,b){return function(D,B){switch(D.length){case 0:return A(D,B);case 1:return _(D,B);case 2:return y(D,B);case 3:return E(D,B);case 4:return M(D,B);case 5:return s(D,B)}var k=S[D.length];return k||(k=S[D.length]=b(D.length)),k(D,B)}}function x(){for(;o.length<i;)o.push(a(o.length));v.exports=p.apply(void 0,o.concat([o,a]));for(var A=0;A<i;++A)v.exports[A]=o[A]}x()},3250:function(v,g,r){var t=r(5250),i=r(8210),a=r(3012),u=r(8545),f=5,l=11102230246251565e-32,m=(3+16*l)*l,h=(7+56*l)*l;function T(s,S,b,I){return function(B,k,F){var N=s(s(S(k[1],F[0]),S(-F[1],k[0])),s(S(B[1],k[0]),S(-k[1],B[0]))),O=s(S(B[1],F[0]),S(-F[1],B[0])),V=I(N,O);return V[V.length-1]}}function c(s,S,b,I){return function(B,k,F,N){var O=s(s(b(s(S(F[1],N[0]),S(-N[1],F[0])),k[2]),s(b(s(S(k[1],N[0]),S(-N[1],k[0])),-F[2]),b(s(S(k[1],F[0]),S(-F[1],k[0])),N[2]))),s(b(s(S(k[1],N[0]),S(-N[1],k[0])),B[2]),s(b(s(S(B[1],N[0]),S(-N[1],B[0])),-k[2]),b(s(S(B[1],k[0]),S(-k[1],B[0])),N[2])))),V=s(s(b(s(S(F[1],N[0]),S(-N[1],F[0])),B[2]),s(b(s(S(B[1],N[0]),S(-N[1],B[0])),-F[2]),b(s(S(B[1],F[0]),S(-F[1],B[0])),N[2]))),s(b(s(S(k[1],F[0]),S(-F[1],k[0])),B[2]),s(b(s(S(B[1],F[0]),S(-F[1],B[0])),-k[2]),b(s(S(B[1],k[0]),S(-k[1],B[0])),F[2])))),X=I(O,V);return X[X.length-1]}}function o(s,S,b,I){return function(B,k,F,N,O){var V=s(s(s(b(s(b(s(S(N[1],O[0]),S(-O[1],N[0])),F[2]),s(b(s(S(F[1],O[0]),S(-O[1],F[0])),-N[2]),b(s(S(F[1],N[0]),S(-N[1],F[0])),O[2]))),k[3]),s(b(s(b(s(S(N[1],O[0]),S(-O[1],N[0])),k[2]),s(b(s(S(k[1],O[0]),S(-O[1],k[0])),-N[2]),b(s(S(k[1],N[0]),S(-N[1],k[0])),O[2]))),-F[3]),b(s(b(s(S(F[1],O[0]),S(-O[1],F[0])),k[2]),s(b(s(S(k[1],O[0]),S(-O[1],k[0])),-F[2]),b(s(S(k[1],F[0]),S(-F[1],k[0])),O[2]))),N[3]))),s(b(s(b(s(S(F[1],N[0]),S(-N[1],F[0])),k[2]),s(b(s(S(k[1],N[0]),S(-N[1],k[0])),-F[2]),b(s(S(k[1],F[0]),S(-F[1],k[0])),N[2]))),-O[3]),s(b(s(b(s(S(N[1],O[0]),S(-O[1],N[0])),k[2]),s(b(s(S(k[1],O[0]),S(-O[1],k[0])),-N[2]),b(s(S(k[1],N[0]),S(-N[1],k[0])),O[2]))),B[3]),b(s(b(s(S(N[1],O[0]),S(-O[1],N[0])),B[2]),s(b(s(S(B[1],O[0]),S(-O[1],B[0])),-N[2]),b(s(S(B[1],N[0]),S(-N[1],B[0])),O[2]))),-k[3])))),s(s(b(s(b(s(S(k[1],O[0]),S(-O[1],k[0])),B[2]),s(b(s(S(B[1],O[0]),S(-O[1],B[0])),-k[2]),b(s(S(B[1],k[0]),S(-k[1],B[0])),O[2]))),N[3]),s(b(s(b(s(S(k[1],N[0]),S(-N[1],k[0])),B[2]),s(b(s(S(B[1],N[0]),S(-N[1],B[0])),-k[2]),b(s(S(B[1],k[0]),S(-k[1],B[0])),N[2]))),-O[3]),b(s(b(s(S(F[1],N[0]),S(-N[1],F[0])),k[2]),s(b(s(S(k[1],N[0]),S(-N[1],k[0])),-F[2]),b(s(S(k[1],F[0]),S(-F[1],k[0])),N[2]))),B[3]))),s(b(s(b(s(S(F[1],N[0]),S(-N[1],F[0])),B[2]),s(b(s(S(B[1],N[0]),S(-N[1],B[0])),-F[2]),b(s(S(B[1],F[0]),S(-F[1],B[0])),N[2]))),-k[3]),s(b(s(b(s(S(k[1],N[0]),S(-N[1],k[0])),B[2]),s(b(s(S(B[1],N[0]),S(-N[1],B[0])),-k[2]),b(s(S(B[1],k[0]),S(-k[1],B[0])),N[2]))),F[3]),b(s(b(s(S(k[1],F[0]),S(-F[1],k[0])),B[2]),s(b(s(S(B[1],F[0]),S(-F[1],B[0])),-k[2]),b(s(S(B[1],k[0]),S(-k[1],B[0])),F[2]))),-N[3]))))),X=s(s(s(b(s(b(s(S(N[1],O[0]),S(-O[1],N[0])),F[2]),s(b(s(S(F[1],O[0]),S(-O[1],F[0])),-N[2]),b(s(S(F[1],N[0]),S(-N[1],F[0])),O[2]))),B[3]),b(s(b(s(S(N[1],O[0]),S(-O[1],N[0])),B[2]),s(b(s(S(B[1],O[0]),S(-O[1],B[0])),-N[2]),b(s(S(B[1],N[0]),S(-N[1],B[0])),O[2]))),-F[3])),s(b(s(b(s(S(F[1],O[0]),S(-O[1],F[0])),B[2]),s(b(s(S(B[1],O[0]),S(-O[1],B[0])),-F[2]),b(s(S(B[1],F[0]),S(-F[1],B[0])),O[2]))),N[3]),b(s(b(s(S(F[1],N[0]),S(-N[1],F[0])),B[2]),s(b(s(S(B[1],N[0]),S(-N[1],B[0])),-F[2]),b(s(S(B[1],F[0]),S(-F[1],B[0])),N[2]))),-O[3]))),s(s(b(s(b(s(S(F[1],O[0]),S(-O[1],F[0])),k[2]),s(b(s(S(k[1],O[0]),S(-O[1],k[0])),-F[2]),b(s(S(k[1],F[0]),S(-F[1],k[0])),O[2]))),B[3]),b(s(b(s(S(F[1],O[0]),S(-O[1],F[0])),B[2]),s(b(s(S(B[1],O[0]),S(-O[1],B[0])),-F[2]),b(s(S(B[1],F[0]),S(-F[1],B[0])),O[2]))),-k[3])),s(b(s(b(s(S(k[1],O[0]),S(-O[1],k[0])),B[2]),s(b(s(S(B[1],O[0]),S(-O[1],B[0])),-k[2]),b(s(S(B[1],k[0]),S(-k[1],B[0])),O[2]))),F[3]),b(s(b(s(S(k[1],F[0]),S(-F[1],k[0])),B[2]),s(b(s(S(B[1],F[0]),S(-F[1],B[0])),-k[2]),b(s(S(B[1],k[0]),S(-k[1],B[0])),F[2]))),-O[3])))),ee=I(V,X);return ee[ee.length-1]}}function p(s){var S=s===3?T:s===4?c:o;return S(i,t,a,u)}var x=p(3),A=p(4),_=[function(){return 0},function(){return 0},function(S,b){return b[0]-S[0]},function(S,b,I){var D=(S[1]-I[1])*(b[0]-I[0]),B=(S[0]-I[0])*(b[1]-I[1]),k=D-B,F;if(D>0){if(B<=0)return k;F=D+B}else if(D<0){if(B>=0)return k;F=-(D+B)}else return k;var N=m*F;return k>=N||k<=-N?k:x(S,b,I)},function(S,b,I,D){var B=S[0]-D[0],k=b[0]-D[0],F=I[0]-D[0],N=S[1]-D[1],O=b[1]-D[1],V=I[1]-D[1],X=S[2]-D[2],ee=b[2]-D[2],ne=I[2]-D[2],q=k*V,se=F*O,J=F*N,Z=B*V,te=B*O,Y=k*N,ie=X*(q-se)+ee*(J-Z)+ne*(te-Y),le=(Math.abs(q)+Math.abs(se))*Math.abs(X)+(Math.abs(J)+Math.abs(Z))*Math.abs(ee)+(Math.abs(te)+Math.abs(Y))*Math.abs(ne),j=h*le;return ie>j||-ie>j?ie:A(S,b,I,D)}];function y(s){var S=_[s.length];return S||(S=_[s.length]=p(s.length)),S.apply(void 0,s)}function E(s,S,b,I,D,B,k){return function(N,O,V,X,ee){switch(arguments.length){case 0:case 1:return 0;case 2:return I(N,O);case 3:return D(N,O,V);case 4:return B(N,O,V,X);case 5:return k(N,O,V,X,ee)}for(var ne=new Array(arguments.length),q=0;q<arguments.length;++q)ne[q]=arguments[q];return s(ne)}}function M(){for(;_.length<=f;)_.push(p(_.length));v.exports=E.apply(void 0,[y].concat(_));for(var s=0;s<=f;++s)v.exports[s]=_[s]}M()},5382:function(v,g,r){var t=r(8210),i=r(3012);v.exports=a;function a(u,f){if(u.length===1)return i(f,u[0]);if(f.length===1)return i(u,f[0]);if(u.length===0||f.length===0)return[0];var l=[0];if(u.length<f.length)for(var m=0;m<u.length;++m)l=t(l,i(f,u[m]));else for(var m=0;m<f.length;++m)l=t(l,i(u,f[m]));return l}},3012:function(v,g,r){var t=r(5250),i=r(9362);v.exports=a;function a(u,f){var l=u.length;if(l===1){var m=t(u[0],f);return m[0]?m:[m[1]]}var h=new Array(2*l),T=[.1,.1],c=[.1,.1],o=0;t(u[0],f,T),T[0]&&(h[o++]=T[0]);for(var p=1;p<l;++p){t(u[p],f,c);var x=T[1];i(x,c[0],T),T[0]&&(h[o++]=T[0]);var A=c[1],_=T[1],y=A+_,E=y-A,M=_-E;T[1]=y,M&&(h[o++]=M)}return T[1]&&(h[o++]=T[1]),o===0&&(h[o++]=0),h.length=o,h}},1125:function(v,g,r){v.exports=a;var t=r(3250)[3];function i(u,f,l,m){for(var h=0;h<2;++h){var T=u[h],c=f[h],o=Math.min(T,c),p=Math.max(T,c),x=l[h],A=m[h],_=Math.min(x,A),y=Math.max(x,A);if(y<o||p<_)return!1}return!0}function a(u,f,l,m){var h=t(u,l,m),T=t(f,l,m);if(h>0&&T>0||h<0&&T<0)return!1;var c=t(l,u,f),o=t(m,u,f);return c>0&&o>0||c<0&&o<0?!1:h===0&&T===0&&c===0&&o===0?i(u,f,l,m):!0}},8545:function(v){v.exports=r;function g(t,i){var a=t+i,u=a-t,f=a-u,l=i-u,m=t-f,h=m+l;return h?[h,a]:[a]}function r(t,i){var a=t.length|0,u=i.length|0;if(a===1&&u===1)return g(t[0],-i[0]);var f=a+u,l=new Array(f),m=0,h=0,T=0,c=Math.abs,o=t[h],p=c(o),x=-i[T],A=c(x),_,y;p<A?(y=o,h+=1,h<a&&(o=t[h],p=c(o))):(y=x,T+=1,T<u&&(x=-i[T],A=c(x))),h<a&&p<A||T>=u?(_=o,h+=1,h<a&&(o=t[h],p=c(o))):(_=x,T+=1,T<u&&(x=-i[T],A=c(x)));for(var E=_+y,M=E-_,s=y-M,S=s,b=E,I,D,B,k,F;h<a&&T<u;)p<A?(_=o,h+=1,h<a&&(o=t[h],p=c(o))):(_=x,T+=1,T<u&&(x=-i[T],A=c(x))),y=S,E=_+y,M=E-_,s=y-M,s&&(l[m++]=s),I=b+E,D=I-b,B=I-D,k=E-D,F=b-B,S=F+k,b=I;for(;h<a;)_=o,y=S,E=_+y,M=E-_,s=y-M,s&&(l[m++]=s),I=b+E,D=I-b,B=I-D,k=E-D,F=b-B,S=F+k,b=I,h+=1,h<a&&(o=t[h]);for(;T<u;)_=x,y=S,E=_+y,M=E-_,s=y-M,s&&(l[m++]=s),I=b+E,D=I-b,B=I-D,k=E-D,F=b-B,S=F+k,b=I,T+=1,T<u&&(x=-i[T]);return S&&(l[m++]=S),b&&(l[m++]=b),m||(l[m++]=0),l.length=m,l}},8210:function(v){v.exports=r;function g(t,i){var a=t+i,u=a-t,f=a-u,l=i-u,m=t-f,h=m+l;return h?[h,a]:[a]}function r(t,i){var a=t.length|0,u=i.length|0;if(a===1&&u===1)return g(t[0],i[0]);var f=a+u,l=new Array(f),m=0,h=0,T=0,c=Math.abs,o=t[h],p=c(o),x=i[T],A=c(x),_,y;p<A?(y=o,h+=1,h<a&&(o=t[h],p=c(o))):(y=x,T+=1,T<u&&(x=i[T],A=c(x))),h<a&&p<A||T>=u?(_=o,h+=1,h<a&&(o=t[h],p=c(o))):(_=x,T+=1,T<u&&(x=i[T],A=c(x)));for(var E=_+y,M=E-_,s=y-M,S=s,b=E,I,D,B,k,F;h<a&&T<u;)p<A?(_=o,h+=1,h<a&&(o=t[h],p=c(o))):(_=x,T+=1,T<u&&(x=i[T],A=c(x))),y=S,E=_+y,M=E-_,s=y-M,s&&(l[m++]=s),I=b+E,D=I-b,B=I-D,k=E-D,F=b-B,S=F+k,b=I;for(;h<a;)_=o,y=S,E=_+y,M=E-_,s=y-M,s&&(l[m++]=s),I=b+E,D=I-b,B=I-D,k=E-D,F=b-B,S=F+k,b=I,h+=1,h<a&&(o=t[h]);for(;T<u;)_=x,y=S,E=_+y,M=E-_,s=y-M,s&&(l[m++]=s),I=b+E,D=I-b,B=I-D,k=E-D,F=b-B,S=F+k,b=I,T+=1,T<u&&(x=i[T]);return S&&(l[m++]=S),b&&(l[m++]=b),m||(l[m++]=0),l.length=m,l}},9127:function(v,g,r){v.exports=a;var t=r(6204),i=r(5771);function a(u){return i(t(u))}},7765:function(v,g,r){v.exports=o;var t=r(9618),i=r(1888),a=r(446),u=r(1570);function f(p){for(var x=p.length,A=0,_=0;_<x;++_)A=Math.max(A,p[_].length)|0;return A-1}function l(p,x){for(var A=p.length,_=i.mallocUint8(A),y=0;y<A;++y)_[y]=p[y]<x|0;return _}function m(p,x){for(var A=p.length,_=x*(x+1)/2*A|0,y=i.mallocUint32(_*2),E=0,M=0;M<A;++M)for(var s=p[M],x=s.length,S=0;S<x;++S)for(var b=0;b<S;++b){var I=s[b],D=s[S];y[E++]=Math.min(I,D)|0,y[E++]=Math.max(I,D)|0}var B=E/2|0;a(t(y,[B,2]));for(var k=2,M=2;M<E;M+=2)y[M-2]===y[M]&&y[M-1]===y[M+1]||(y[k++]=y[M],y[k++]=y[M+1]);return t(y,[k/2|0,2])}function h(p,x,A,_){for(var y=p.data,E=p.shape[0],M=i.mallocDouble(E),s=0,S=0;S<E;++S){var b=y[2*S],I=y[2*S+1];if(A[b]!==A[I]){var D=x[b],B=x[I];y[2*s]=b,y[2*s+1]=I,M[s++]=(B-_)/(B-D)}}return p.shape[0]=s,t(M,[s])}function T(p,x){var A=i.mallocInt32(x*2),_=p.shape[0],y=p.data;A[0]=0;for(var E=0,M=0;M<_;++M){var s=y[2*M];if(s!==E){for(A[2*E+1]=M;++E<s;)A[2*E]=M,A[2*E+1]=M;A[2*E]=M}}for(A[2*E+1]=_;++E<x;)A[2*E]=A[2*E+1]=_;return A}function c(p){for(var x=p.shape[0]|0,A=p.data,_=new Array(x),y=0;y<x;++y)_[y]=[A[2*y],A[2*y+1]];return _}function o(p,x,A,_){A=A||0,typeof _>"u"&&(_=f(p));var y=p.length;if(y===0||_<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=l(x,+A),M=m(p,_),s=h(M,x,E,+A),S=T(M,x.length|0),b=u(_)(p,M.data,S,E),I=c(M),D=[].slice.call(s.data,0,s.shape[0]);return i.free(E),i.free(M.data),i.free(s.data),i.free(S),{cells:b,vertexIds:I,vertexWeights:D}}},1570:function(v){v.exports=r;var g=[function(){function i(a,u,f,l){for(var m=a.length,h=[],T=0;T<m;++T){var c=a[T];c.length}return h}return i},function(){function i(u,f,l,m){for(var h=Math.min(l,m)|0,T=Math.max(l,m)|0,c=u[2*h],o=u[2*h+1];c<o;){var p=c+o>>1,x=f[2*p+1];if(x===T)return p;T<x?o=p:c=p+1}return c}function a(u,f,l,m){for(var h=u.length,T=[],c=0;c<h;++c){var o=u[c],p=o.length;if(p===2){var x=(m[o[0]]<<0)+(m[o[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([i(l,f,o[0],o[1])]);break;case 2:T.push([i(l,f,o[1],o[0])]);break}}}return T}return a},function(){function i(u,f,l,m){for(var h=Math.min(l,m)|0,T=Math.max(l,m)|0,c=u[2*h],o=u[2*h+1];c<o;){var p=c+o>>1,x=f[2*p+1];if(x===T)return p;T<x?o=p:c=p+1}return c}function a(u,f,l,m){for(var h=u.length,T=[],c=0;c<h;++c){var o=u[c],p=o.length;if(p===3){var x=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([i(l,f,o[0],o[2]),i(l,f,o[0],o[1])]);break;case 2:T.push([i(l,f,o[1],o[0]),i(l,f,o[1],o[2])]);break;case 3:T.push([i(l,f,o[0],o[2]),i(l,f,o[1],o[2])]);break;case 4:T.push([i(l,f,o[2],o[1]),i(l,f,o[2],o[0])]);break;case 5:T.push([i(l,f,o[2],o[1]),i(l,f,o[0],o[1])]);break;case 6:T.push([i(l,f,o[1],o[0]),i(l,f,o[2],o[0])]);break}}else if(p===2){var x=(m[o[0]]<<0)+(m[o[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([i(l,f,o[0],o[1])]);break;case 2:T.push([i(l,f,o[1],o[0])]);break}}}return T}return a},function(){function i(u,f,l,m){for(var h=Math.min(l,m)|0,T=Math.max(l,m)|0,c=u[2*h],o=u[2*h+1];c<o;){var p=c+o>>1,x=f[2*p+1];if(x===T)return p;T<x?o=p:c=p+1}return c}function a(u,f,l,m){for(var h=u.length,T=[],c=0;c<h;++c){var o=u[c],p=o.length;if(p===4){var x=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2)+(m[o[3]]<<3);if(x===0||x===15)continue;switch(x){case 0:break;case 1:T.push([i(l,f,o[0],o[1]),i(l,f,o[0],o[2]),i(l,f,o[0],o[3])]);break;case 2:T.push([i(l,f,o[1],o[2]),i(l,f,o[1],o[0]),i(l,f,o[1],o[3])]);break;case 3:T.push([i(l,f,o[1],o[2]),i(l,f,o[0],o[2]),i(l,f,o[0],o[3])],[i(l,f,o[1],o[3]),i(l,f,o[1],o[2]),i(l,f,o[0],o[3])]);break;case 4:T.push([i(l,f,o[2],o[0]),i(l,f,o[2],o[1]),i(l,f,o[2],o[3])]);break;case 5:T.push([i(l,f,o[0],o[1]),i(l,f,o[2],o[1]),i(l,f,o[0],o[3])],[i(l,f,o[2],o[1]),i(l,f,o[2],o[3]),i(l,f,o[0],o[3])]);break;case 6:T.push([i(l,f,o[2],o[0]),i(l,f,o[1],o[0]),i(l,f,o[1],o[3])],[i(l,f,o[2],o[3]),i(l,f,o[2],o[0]),i(l,f,o[1],o[3])]);break;case 7:T.push([i(l,f,o[0],o[3]),i(l,f,o[1],o[3]),i(l,f,o[2],o[3])]);break;case 8:T.push([i(l,f,o[3],o[1]),i(l,f,o[3],o[0]),i(l,f,o[3],o[2])]);break;case 9:T.push([i(l,f,o[3],o[1]),i(l,f,o[0],o[1]),i(l,f,o[0],o[2])],[i(l,f,o[3],o[2]),i(l,f,o[3],o[1]),i(l,f,o[0],o[2])]);break;case 10:T.push([i(l,f,o[1],o[0]),i(l,f,o[3],o[0]),i(l,f,o[1],o[2])],[i(l,f,o[3],o[0]),i(l,f,o[3],o[2]),i(l,f,o[1],o[2])]);break;case 11:T.push([i(l,f,o[1],o[2]),i(l,f,o[0],o[2]),i(l,f,o[3],o[2])]);break;case 12:T.push([i(l,f,o[3],o[0]),i(l,f,o[2],o[0]),i(l,f,o[2],o[1])],[i(l,f,o[3],o[1]),i(l,f,o[3],o[0]),i(l,f,o[2],o[1])]);break;case 13:T.push([i(l,f,o[0],o[1]),i(l,f,o[2],o[1]),i(l,f,o[3],o[1])]);break;case 14:T.push([i(l,f,o[2],o[0]),i(l,f,o[1],o[0]),i(l,f,o[3],o[0])]);break}}else if(p===3){var x=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([i(l,f,o[0],o[2]),i(l,f,o[0],o[1])]);break;case 2:T.push([i(l,f,o[1],o[0]),i(l,f,o[1],o[2])]);break;case 3:T.push([i(l,f,o[0],o[2]),i(l,f,o[1],o[2])]);break;case 4:T.push([i(l,f,o[2],o[1]),i(l,f,o[2],o[0])]);break;case 5:T.push([i(l,f,o[2],o[1]),i(l,f,o[0],o[1])]);break;case 6:T.push([i(l,f,o[1],o[0]),i(l,f,o[2],o[0])]);break}}else if(p===2){var x=(m[o[0]]<<0)+(m[o[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([i(l,f,o[0],o[1])]);break;case 2:T.push([i(l,f,o[1],o[0])]);break}}}return T}return a}];function r(t){return g[t]()}},6803:function(v,g,r){r(8828),r(1755);function t(i,a){var u=i.length,f=i.length-a.length,l=Math.min;if(f)return f;switch(u){case 0:return 0;case 1:return i[0]-a[0];case 2:var o=i[0]+i[1]-a[0]-a[1];return o||l(i[0],i[1])-l(a[0],a[1]);case 3:var m=i[0]+i[1],h=a[0]+a[1];if(o=m+i[2]-(h+a[2]),o)return o;var T=l(i[0],i[1]),c=l(a[0],a[1]),o=l(T,i[2])-l(c,a[2]);return o||l(T+i[2],m)-l(c+a[2],h);default:var p=i.slice(0);p.sort();var x=a.slice(0);x.sort();for(var A=0;A<u;++A)if(f=p[A]-x[A],f)return f;return 0}}g.Fw=t},3105:function(v,g){"use restrict";var r=32;g.INT_BITS=r,g.INT_MAX=2147483647,g.INT_MIN=-1<<r-1,g.sign=function(a){return(a>0)-(a<0)},g.abs=function(a){var u=a>>r-1;return(a^u)-u},g.min=function(a,u){return u^(a^u)&-(a<u)},g.max=function(a,u){return a^(a^u)&-(a<u)},g.isPow2=function(a){return!(a&a-1)&&!!a},g.log2=function(a){var u,f;return u=(a>65535)<<4,a>>>=u,f=(a>255)<<3,a>>>=f,u|=f,f=(a>15)<<2,a>>>=f,u|=f,f=(a>3)<<1,a>>>=f,u|=f,u|a>>1},g.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},g.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function t(a){var u=32;return a&=-a,a&&u--,a&65535&&(u-=16),a&16711935&&(u-=8),a&252645135&&(u-=4),a&858993459&&(u-=2),a&1431655765&&(u-=1),u}g.countTrailingZeros=t,g.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},g.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},g.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var i=new Array(256);(function(a){for(var u=0;u<256;++u){var f=u,l=u,m=7;for(f>>>=1;f;f>>>=1)l<<=1,l|=f&1,--m;a[u]=l<<m&255}})(i),g.reverse=function(a){return i[a&255]<<24|i[a>>>8&255]<<16|i[a>>>16&255]<<8|i[a>>>24&255]},g.interleave2=function(a,u){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,a|u<<1},g.deinterleave2=function(a,u){return a=a>>>u&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},g.interleave3=function(a,u,f){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,a|=u<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,a|f<<2},g.deinterleave3=function(a,u){return a=a>>>u&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},g.nextCombination=function(a){var u=a|a-1;return u+1|(~u&-~u)-1>>>t(a)+1}},2014:function(v,g,r){"use restrict";var t=r(3105),i=r(4623);function a(s){for(var S=0,b=Math.max,I=0,D=s.length;I<D;++I)S=b(S,s[I].length);return S-1}g.dimension=a;function u(s){for(var S=-1,b=Math.max,I=0,D=s.length;I<D;++I)for(var B=s[I],k=0,F=B.length;k<F;++k)S=b(S,B[k]);return S+1}g.countVertices=u;function f(s){for(var S=new Array(s.length),b=0,I=s.length;b<I;++b)S[b]=s[b].slice(0);return S}g.cloneCells=f;function l(s,S){var b=s.length,I=s.length-S.length,D=Math.min;if(I)return I;switch(b){case 0:return 0;case 1:return s[0]-S[0];case 2:var O=s[0]+s[1]-S[0]-S[1];return O||D(s[0],s[1])-D(S[0],S[1]);case 3:var B=s[0]+s[1],k=S[0]+S[1];if(O=B+s[2]-(k+S[2]),O)return O;var F=D(s[0],s[1]),N=D(S[0],S[1]),O=D(F,s[2])-D(N,S[2]);return O||D(F+s[2],B)-D(N+S[2],k);default:var V=s.slice(0);V.sort();var X=S.slice(0);X.sort();for(var ee=0;ee<b;++ee)if(I=V[ee]-X[ee],I)return I;return 0}}g.compareCells=l;function m(s,S){return l(s[0],S[0])}function h(s,S){if(S){for(var b=s.length,I=new Array(b),D=0;D<b;++D)I[D]=[s[D],S[D]];I.sort(m);for(var D=0;D<b;++D)s[D]=I[D][0],S[D]=I[D][1];return s}else return s.sort(l),s}g.normalize=h;function T(s){if(s.length===0)return[];for(var S=1,b=s.length,I=1;I<b;++I){var D=s[I];if(l(D,s[I-1])){if(I===S){S++;continue}s[S++]=D}}return s.length=S,s}g.unique=T;function c(s,S){for(var b=0,I=s.length-1,D=-1;b<=I;){var B=b+I>>1,k=l(s[B],S);k<=0?(k===0&&(D=B),b=B+1):k>0&&(I=B-1)}return D}g.findCell=c;function o(s,S){for(var b=new Array(s.length),I=0,D=b.length;I<D;++I)b[I]=[];for(var B=[],I=0,k=S.length;I<k;++I)for(var F=S[I],N=F.length,O=1,V=1<<N;O<V;++O){B.length=t.popCount(O);for(var X=0,ee=0;ee<N;++ee)O&1<<ee&&(B[X++]=F[ee]);var ne=c(s,B);if(!(ne<0))for(;b[ne++].push(I),!(ne>=s.length||l(s[ne],B)!==0););}return b}g.incidence=o;function p(s,S){if(!S)return o(T(A(s,0)),s);for(var b=new Array(S),I=0;I<S;++I)b[I]=[];for(var I=0,D=s.length;I<D;++I)for(var B=s[I],k=0,F=B.length;k<F;++k)b[B[k]].push(I);return b}g.dual=p;function x(s){for(var S=[],b=0,I=s.length;b<I;++b)for(var D=s[b],B=D.length|0,k=1,F=1<<B;k<F;++k){for(var N=[],O=0;O<B;++O)k>>>O&1&&N.push(D[O]);S.push(N)}return h(S)}g.explode=x;function A(s,S){if(S<0)return[];for(var b=[],I=(1<<S+1)-1,D=0;D<s.length;++D)for(var B=s[D],k=I;k<1<<B.length;k=t.nextCombination(k)){for(var F=new Array(S+1),N=0,O=0;O<B.length;++O)k&1<<O&&(F[N++]=B[O]);b.push(F)}return h(b)}g.skeleton=A;function _(s){for(var S=[],b=0,I=s.length;b<I;++b)for(var D=s[b],B=0,k=D.length;B<k;++B){for(var F=new Array(D.length-1),N=0,O=0;N<k;++N)N!==B&&(F[O++]=D[N]);S.push(F)}return h(S)}g.boundary=_;function y(s,S){for(var b=new i(S),I=0;I<s.length;++I)for(var D=s[I],B=0;B<D.length;++B)for(var k=B+1;k<D.length;++k)b.link(D[B],D[k]);for(var F=[],N=b.ranks,I=0;I<N.length;++I)N[I]=-1;for(var I=0;I<s.length;++I){var O=b.find(s[I][0]);N[O]<0?(N[O]=F.length,F.push([s[I].slice(0)])):F[N[O]].push(s[I].slice(0))}return F}function E(s){for(var S=T(h(A(s,0))),b=new i(S.length),I=0;I<s.length;++I)for(var D=s[I],B=0;B<D.length;++B)for(var k=c(S,[D[B]]),F=B+1;F<D.length;++F)b.link(k,c(S,[D[F]]));for(var N=[],O=b.ranks,I=0;I<O.length;++I)O[I]=-1;for(var I=0;I<s.length;++I){var V=b.find(c(S,[s[I][0]]));O[V]<0?(O[V]=N.length,N.push([s[I].slice(0)])):N[O[V]].push(s[I].slice(0))}return N}function M(s,S){return S?y(s,S):E(s)}g.connectedComponents=M},4623:function(v){"use restrict";v.exports=g;function g(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}g.prototype.length=function(){return this.roots.length},g.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},g.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var i=t[r];t[r]=t[i],r=i}return r},g.prototype.link=function(r,t){var i=this.find(r),a=this.find(t);if(i!==a){var u=this.ranks,f=this.roots,l=u[i],m=u[a];l<m?f[i]=a:m<l?f[a]=i:(f[a]=i,++u[i])}}},5878:function(v,g,r){v.exports=u;var t=r(3250),i=r(2014);function a(f,l,m){var h=Math.abs(t(f,l,m)),T=Math.sqrt(Math.pow(l[0]-m[0],2)+Math.pow(l[1]-m[1],2));return h/T}function u(f,l,m){for(var h=l.length,T=f.length,c=new Array(h),o=new Array(h),p=new Array(h),x=new Array(h),A=0;A<h;++A)c[A]=o[A]=-1,p[A]=1/0,x[A]=!1;for(var A=0;A<T;++A){var _=f[A];if(_.length!==2)throw new Error("Input must be a graph");var y=_[1],E=_[0];o[E]!==-1?o[E]=-2:o[E]=y,c[y]!==-1?c[y]=-2:c[y]=E}function M(J){if(x[J])return 1/0;var Z=c[J],te=o[J];return Z<0||te<0?1/0:a(l[J],l[Z],l[te])}function s(J,Z){var te=N[J],Y=N[Z];N[J]=Y,N[Z]=te,O[te]=Z,O[Y]=J}function S(J){return p[N[J]]}function b(J){return J&1?J-1>>1:(J>>1)-1}function I(J){for(var Z=S(J);;){var te=Z,Y=2*J+1,ie=2*(J+1),le=J;if(Y<X){var j=S(Y);j<te&&(le=Y,te=j)}if(ie<X){var K=S(ie);K<te&&(le=ie)}if(le===J)return J;s(J,le),J=le}}function D(J){for(var Z=S(J);J>0;){var te=b(J);if(te>=0){var Y=S(te);if(Z<Y){s(J,te),J=te;continue}}return J}}function B(){if(X>0){var J=N[0];return s(0,X-1),X-=1,I(0),J}return-1}function k(J,Z){var te=N[J];return p[te]===Z?J:(p[te]=-1/0,D(J),B(),p[te]=Z,X+=1,D(X-1))}function F(J){if(!x[J]){x[J]=!0;var Z=c[J],te=o[J];c[te]>=0&&(c[te]=Z),o[Z]>=0&&(o[Z]=te),O[Z]>=0&&k(O[Z],M(Z)),O[te]>=0&&k(O[te],M(te))}}for(var N=[],O=new Array(h),A=0;A<h;++A){var V=p[A]=M(A);V<1/0?(O[A]=N.length,N.push(A)):O[A]=-1}for(var X=N.length,A=X>>1;A>=0;--A)I(A);for(;;){var ee=B();if(ee<0||p[ee]>m)break;F(ee)}for(var ne=[],A=0;A<h;++A)x[A]||(O[A]=ne.length,ne.push(l[A].slice()));ne.length;function q(J,Z){if(J[Z]<0)return Z;var te=Z,Y=Z;do{var ie=J[Y];if(!x[Y]||ie<0||ie===Y||(Y=ie,ie=J[Y],!x[Y]||ie<0||ie===Y))break;Y=ie,te=J[te]}while(te!==Y);for(var le=Z;le!==Y;le=J[le])J[le]=Y;return Y}var se=[];return f.forEach(function(J){var Z=q(c,J[0]),te=q(o,J[1]);if(Z>=0&&te>=0&&Z!==te){var Y=O[Z],ie=O[te];Y!==ie&&se.push([Y,ie])}}),i.unique(i.normalize(se)),{positions:ne,edges:se}}},1303:function(v,g,r){v.exports=a;var t=r(3250);function i(u,f){var l,m;if(f[0][0]<f[1][0])l=f[0],m=f[1];else if(f[0][0]>f[1][0])l=f[1],m=f[0];else{var h=Math.min(u[0][1],u[1][1]),T=Math.max(u[0][1],u[1][1]),c=Math.min(f[0][1],f[1][1]),o=Math.max(f[0][1],f[1][1]);return T<c?T-c:h>o?h-o:T-o}var p,x;u[0][1]<u[1][1]?(p=u[0],x=u[1]):(p=u[1],x=u[0]);var A=t(m,l,p);return A||(A=t(m,l,x),A)?A:x-m}function a(u,f){var l,m;if(f[0][0]<f[1][0])l=f[0],m=f[1];else if(f[0][0]>f[1][0])l=f[1],m=f[0];else return i(f,u);var h,T;if(u[0][0]<u[1][0])h=u[0],T=u[1];else if(u[0][0]>u[1][0])h=u[1],T=u[0];else return-i(u,f);var c=t(l,m,T),o=t(l,m,h);if(c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;if(c=t(T,h,m),o=t(T,h,l),c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;return m[0]-T[0]}},4209:function(v,g,r){v.exports=o;var t=r(2478),i=r(3840),a=r(3250),u=r(1303);function f(p,x,A){this.slabs=p,this.coordinates=x,this.horizontal=A}var l=f.prototype;function m(p,x){return p.y-x}function h(p,x){for(var A=null;p;){var _=p.key,y,E;_[0][0]<_[1][0]?(y=_[0],E=_[1]):(y=_[1],E=_[0]);var M=a(y,E,x);if(M<0)p=p.left;else if(M>0)if(x[0]!==_[1][0])A=p,p=p.right;else{var s=h(p.right,x);if(s)return s;p=p.left}else{if(x[0]!==_[1][0])return p;var s=h(p.right,x);if(s)return s;p=p.left}}return A}l.castUp=function(p){var x=t.le(this.coordinates,p[0]);if(x<0)return-1;this.slabs[x];var A=h(this.slabs[x],p),_=-1;if(A&&(_=A.value),this.coordinates[x]===p[0]){var y=null;if(A&&(y=A.key),x>0){var E=h(this.slabs[x-1],p);E&&(y?u(E.key,y)>0&&(y=E.key,_=E.value):(_=E.value,y=E.key))}var M=this.horizontal[x];if(M.length>0){var s=t.ge(M,p[1],m);if(s<M.length){var S=M[s];if(p[1]===S.y){if(S.closed)return S.index;for(;s<M.length-1&&M[s+1].y===p[1];)if(s=s+1,S=M[s],S.closed)return S.index;if(S.y===p[1]&&!S.start){if(s=s+1,s>=M.length)return _;S=M[s]}}if(S.start)if(y){var b=a(y[0],y[1],[p[0],S.y]);y[0][0]>y[1][0]&&(b=-b),b>0&&(_=S.index)}else _=S.index;else S.y!==p[1]&&(_=S.index)}}}return _};function T(p,x,A,_){this.y=p,this.index=x,this.start=A,this.closed=_}function c(p,x,A,_){this.x=p,this.segment=x,this.create=A,this.index=_}function o(p){for(var x=p.length,A=2*x,_=new Array(A),y=0;y<x;++y){var E=p[y],M=E[0][0]<E[1][0];_[2*y]=new c(E[0][0],E,M,y),_[2*y+1]=new c(E[1][0],E,!M,y)}_.sort(function(F,N){var O=F.x-N.x;return O||(O=F.create-N.create,O)?O:Math.min(F.segment[0][1],F.segment[1][1])-Math.min(N.segment[0][1],N.segment[1][1])});for(var s=i(u),S=[],b=[],I=[],y=0;y<A;){for(var D=_[y].x,B=[];y<A;){var k=_[y];if(k.x!==D)break;y+=1,k.segment[0][0]===k.x&&k.segment[1][0]===k.x?k.create&&(k.segment[0][1]<k.segment[1][1]?(B.push(new T(k.segment[0][1],k.index,!0,!0)),B.push(new T(k.segment[1][1],k.index,!1,!1))):(B.push(new T(k.segment[1][1],k.index,!0,!1)),B.push(new T(k.segment[0][1],k.index,!1,!0)))):k.create?s=s.insert(k.segment,k.index):s=s.remove(k.segment)}S.push(s.root),b.push(D),I.push(B)}return new f(S,b,I)}},5202:function(v,g,r){var t=r(1944),i=r(8210);v.exports=f,v.exports.positive=l,v.exports.negative=m;function a(h,T){var c=i(t(h,T),[T[T.length-1]]);return c[c.length-1]}function u(h,T,c,o){var p=o-T,x=-T/p;x<0?x=0:x>1&&(x=1);for(var A=1-x,_=h.length,y=new Array(_),E=0;E<_;++E)y[E]=x*h[E]+A*c[E];return y}function f(h,T){for(var c=[],o=[],p=a(h[h.length-1],T),x=h[h.length-1],A=h[0],_=0;_<h.length;++_,x=A){A=h[_];var y=a(A,T);if(p<0&&y>0||p>0&&y<0){var E=u(x,y,A,p);c.push(E),o.push(E.slice())}y<0?o.push(A.slice()):y>0?c.push(A.slice()):(c.push(A.slice()),o.push(A.slice())),p=y}return{positive:c,negative:o}}function l(h,T){for(var c=[],o=a(h[h.length-1],T),p=h[h.length-1],x=h[0],A=0;A<h.length;++A,p=x){x=h[A];var _=a(x,T);(o<0&&_>0||o>0&&_<0)&&c.push(u(p,_,x,o)),_>=0&&c.push(x.slice()),o=_}return c}function m(h,T){for(var c=[],o=a(h[h.length-1],T),p=h[h.length-1],x=h[0],A=0;A<h.length;++A,p=x){x=h[A];var _=a(x,T);(o<0&&_>0||o>0&&_<0)&&c.push(u(p,_,x,o)),_<=0&&c.push(x.slice()),o=_}return c}},3387:function(v,g,r){var t;(function(){var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(h){return f(m(h),arguments)}function u(h,T){return a.apply(null,[h].concat(T||[]))}function f(h,T){var c=1,o=h.length,p,x="",A,_,y,E,M,s,S,b;for(A=0;A<o;A++)if(typeof h[A]=="string")x+=h[A];else if(typeof h[A]=="object"){if(y=h[A],y.keys)for(p=T[c],_=0;_<y.keys.length;_++){if(p==null)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[_],y.keys[_-1]));p=p[y.keys[_]]}else y.param_no?p=T[y.param_no]:p=T[c++];if(i.not_type.test(y.type)&&i.not_primitive.test(y.type)&&p instanceof Function&&(p=p()),i.numeric_arg.test(y.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(a("[sprintf] expecting number but found %T",p));switch(i.number.test(y.type)&&(S=p>=0),y.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,y.width?parseInt(y.width):0);break;case"e":p=y.precision?parseFloat(p).toExponential(y.precision):parseFloat(p).toExponential();break;case"f":p=y.precision?parseFloat(p).toFixed(y.precision):parseFloat(p);break;case"g":p=y.precision?String(Number(p.toPrecision(y.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=y.precision?p.substring(0,y.precision):p;break;case"t":p=String(!!p),p=y.precision?p.substring(0,y.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=y.precision?p.substring(0,y.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=y.precision?p.substring(0,y.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}i.json.test(y.type)?x+=p:(i.number.test(y.type)&&(!S||y.sign)?(b=S?"+":"-",p=p.toString().replace(i.sign,"")):b="",M=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",s=y.width-(b+p).length,E=y.width&&s>0?M.repeat(s):"",x+=y.align?b+p+E:M==="0"?b+E+p:E+b+p)}return x}var l=Object.create(null);function m(h){if(l[h])return l[h];for(var T=h,c,o=[],p=0;T;){if((c=i.text.exec(T))!==null)o.push(c[0]);else if((c=i.modulo.exec(T))!==null)o.push("%");else if((c=i.placeholder.exec(T))!==null){if(c[2]){p|=1;var x=[],A=c[2],_=[];if((_=i.key.exec(A))!==null)for(x.push(_[1]);(A=A.substring(_[0].length))!=="";)if((_=i.key_access.exec(A))!==null)x.push(_[1]);else if((_=i.index_access.exec(A))!==null)x.push(_[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=x}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(c[0].length)}return l[h]=o}g.sprintf=a,g.vsprintf=u,typeof window<"u"&&(window.sprintf=a,window.vsprintf=u,t=(function(){return{sprintf:a,vsprintf:u}}).call(g,r,g,v),t!==void 0&&(v.exports=t))})()},3711:function(v,g,r){v.exports=m;var t=r(2640),i=r(781),a={"2d":function(h,T,c){var o=h({order:T,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(x,A,_,y){return x>y|0},vertex:function(x,A,_,y,E,M,s,S,b,I,D,B,k){var F=(s<<0)+(S<<1)+(b<<2)+(I<<3)|0;if(!(F===0||F===15))switch(F){case 0:D.push([x-.5,A-.5]);break;case 1:D.push([x-.25-.25*(y+_-2*k)/(_-y),A-.25-.25*(E+_-2*k)/(_-E)]);break;case 2:D.push([x-.75-.25*(-y-_+2*k)/(y-_),A-.25-.25*(M+y-2*k)/(y-M)]);break;case 3:D.push([x-.5,A-.5-.5*(E+_+M+y-4*k)/(_-E+y-M)]);break;case 4:D.push([x-.25-.25*(M+E-2*k)/(E-M),A-.75-.25*(-E-_+2*k)/(E-_)]);break;case 5:D.push([x-.5-.5*(y+_+M+E-4*k)/(_-y+E-M),A-.5]);break;case 6:D.push([x-.5-.25*(-y-_+M+E)/(y-_+E-M),A-.5-.25*(-E-_+M+y)/(E-_+y-M)]);break;case 7:D.push([x-.75-.25*(M+E-2*k)/(E-M),A-.75-.25*(M+y-2*k)/(y-M)]);break;case 8:D.push([x-.75-.25*(-M-E+2*k)/(M-E),A-.75-.25*(-M-y+2*k)/(M-y)]);break;case 9:D.push([x-.5-.25*(y+_+-M-E)/(_-y+M-E),A-.5-.25*(E+_+-M-y)/(_-E+M-y)]);break;case 10:D.push([x-.5-.5*(-y-_+-M-E+4*k)/(y-_+M-E),A-.5]);break;case 11:D.push([x-.25-.25*(-M-E+2*k)/(M-E),A-.75-.25*(E+_-2*k)/(_-E)]);break;case 12:D.push([x-.5,A-.5-.5*(-E-_+-M-y+4*k)/(E-_+M-y)]);break;case 13:D.push([x-.75-.25*(y+_-2*k)/(_-y),A-.25-.25*(-M-y+2*k)/(M-y)]);break;case 14:D.push([x-.25-.25*(-y-_+2*k)/(y-_),A-.25-.25*(-E-_+2*k)/(E-_)]);break;case 15:D.push([x-.5,A-.5]);break}},cell:function(x,A,_,y,E,M,s,S,b){E?S.push([x,A]):S.push([A,x])}});return function(p,x){var A=[],_=[];return o(p,A,_,x),{positions:A,cells:_}}}};function u(h,T){var c=h.length+"d",o=a[c];if(o)return o(t,h,T)}function f(h,T){for(var c=i(h,T),o=c.length,p=new Array(o),x=new Array(o),A=0;A<o;++A)p[A]=[c[A]],x[A]=[A];return{positions:p,cells:x}}var l={};function m(h,p){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return f(h,p);var c=h.order.join()+"-"+h.dtype,o=l[c],p=+p||0;return o||(o=l[c]=u(h.order,h.dtype)),o(h,p)}},529:function(v,g,r){v.exports=f;var t=r(4359),i=window||d.global||{},a=i.__TEXT_CACHE||{};i.__TEXT_CACHE={};function u(l){for(var m=l.cells,h=l.positions,T=new Float32Array(m.length*6),c=0,o=0,p=0;p<m.length;++p)for(var x=m[p],A=0;A<3;++A){var _=h[x[A]];T[c++]=_[0],T[c++]=_[1]+1.4,o=Math.max(_[0],o)}return{data:T,shape:o}}function f(l,m,T){var T=T||{},c=T.fontStyle||"normal",o=T.fontWeight||"normal",p=T.fontVariant||"normal",x=[c,o,p,l].join("_"),A=a[x];A||(A=a[x]={" ":{data:new Float32Array(0),shape:.2}});var _=A[m];if(!_)if(m.length<=1||!/\d/.test(m))_=A[m]=u(t(m,{triangles:!0,font:l,fontStyle:c,fontWeight:o,fontVariant:p,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var y=m.split(/(\d|\s)/),E=new Array(y.length),M=0,s=0,S=0;S<y.length;++S)E[S]=f(l,y[S]),M+=E[S].data.length,s+=E[S].shape,S>0&&(s+=.02);for(var b=new Float32Array(M),I=0,D=-.5*s,S=0;S<E.length;++S){for(var B=E[S].data,k=0;k<B.length;k+=2)b[I++]=B[k]+D,b[I++]=B[k+1];D+=E[S].shape+.02}_=A[m]={data:b,shape:s}}return _}},665:function(v,g,r){var t=r(3202);v.exports=f;var i=96;function a(l,m){var h=t(getComputedStyle(l).getPropertyValue(m));return h[0]*f(h[1],l)}function u(l,m){var h=document.createElement("div");h.style["font-size"]="128"+l,m.appendChild(h);var T=a(h,"font-size")/128;return m.removeChild(h),T}function f(l,m){switch(m=m||document.body,l=(l||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),l){case"%":return m.clientHeight/100;case"ch":case"ex":return u(l,m);case"em":return a(m,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},7261:function(v,g,r){v.exports=x;var t=r(9215),i=r(7608),a=r(6079),u=r(5911),f=r(3536),l=r(244);function m(A,_,y){return Math.sqrt(Math.pow(A,2)+Math.pow(_,2)+Math.pow(y,2))}function h(A){return Math.min(1,Math.max(-1,A))}function T(A){var _=Math.abs(A[0]),y=Math.abs(A[1]),E=Math.abs(A[2]),M=[0,0,0];_>Math.max(y,E)?M[2]=1:y>Math.max(_,E)?M[0]=1:M[1]=1;for(var s=0,S=0,b=0;b<3;++b)s+=A[b]*A[b],S+=M[b]*A[b];for(var b=0;b<3;++b)M[b]-=S/s*A[b];return f(M,M),M}function c(A,_,y,E,M,s,S,b){this.center=t(y),this.up=t(E),this.right=t(M),this.radius=t([s]),this.angle=t([S,b]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(A,_),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var I=0;I<16;++I)this.computedMatrix[I]=.5;this.recalcMatrix(0)}var o=c.prototype;o.setDistanceLimits=function(A,_){A>0?A=Math.log(A):A=-1/0,_>0?_=Math.log(_):_=1/0,_=Math.max(_,A),this.radius.bounds[0][0]=A,this.radius.bounds[1][0]=_},o.getDistanceLimits=function(A){var _=this.radius.bounds[0];return A?(A[0]=Math.exp(_[0][0]),A[1]=Math.exp(_[1][0]),A):[Math.exp(_[0][0]),Math.exp(_[1][0])]},o.recalcMatrix=function(A){this.center.curve(A),this.up.curve(A),this.right.curve(A),this.radius.curve(A),this.angle.curve(A);for(var _=this.computedUp,y=this.computedRight,E=0,M=0,s=0;s<3;++s)M+=_[s]*y[s],E+=_[s]*_[s];for(var S=Math.sqrt(E),b=0,s=0;s<3;++s)y[s]-=_[s]*M/E,b+=y[s]*y[s],_[s]/=S;for(var I=Math.sqrt(b),s=0;s<3;++s)y[s]/=I;var D=this.computedToward;u(D,_,y),f(D,D);for(var B=Math.exp(this.computedRadius[0]),k=this.computedAngle[0],F=this.computedAngle[1],N=Math.cos(k),O=Math.sin(k),V=Math.cos(F),X=Math.sin(F),ee=this.computedCenter,ne=N*V,q=O*V,se=X,J=-N*X,Z=-O*X,te=V,Y=this.computedEye,ie=this.computedMatrix,s=0;s<3;++s){var le=ne*y[s]+q*D[s]+se*_[s];ie[4*s+1]=J*y[s]+Z*D[s]+te*_[s],ie[4*s+2]=le,ie[4*s+3]=0}var j=ie[1],K=ie[5],ue=ie[9],ae=ie[2],he=ie[6],xe=ie[10],Se=K*xe-ue*he,Ae=ue*ae-j*xe,De=j*he-K*ae,we=m(Se,Ae,De);Se/=we,Ae/=we,De/=we,ie[0]=Se,ie[4]=Ae,ie[8]=De;for(var s=0;s<3;++s)Y[s]=ee[s]+ie[2+4*s]*B;for(var s=0;s<3;++s){for(var b=0,Ce=0;Ce<3;++Ce)b+=ie[s+4*Ce]*Y[Ce];ie[12+s]=-b}ie[15]=1},o.getMatrix=function(A,_){this.recalcMatrix(A);var y=this.computedMatrix;if(_){for(var E=0;E<16;++E)_[E]=y[E];return _}return y};var p=[0,0,0];o.rotate=function(A,_,y,E){if(this.angle.move(A,_,y),E){this.recalcMatrix(A);var M=this.computedMatrix;p[0]=M[2],p[1]=M[6],p[2]=M[10];for(var s=this.computedUp,S=this.computedRight,b=this.computedToward,I=0;I<3;++I)M[4*I]=s[I],M[4*I+1]=S[I],M[4*I+2]=b[I];a(M,M,E,p);for(var I=0;I<3;++I)s[I]=M[4*I],S[I]=M[4*I+1];this.up.set(A,s[0],s[1],s[2]),this.right.set(A,S[0],S[1],S[2])}},o.pan=function(A,_,y,E){_=_||0,y=y||0,E=E||0,this.recalcMatrix(A);var M=this.computedMatrix;Math.exp(this.computedRadius[0]);var s=M[1],S=M[5],b=M[9],I=m(s,S,b);s/=I,S/=I,b/=I;var D=M[0],B=M[4],k=M[8],F=D*s+B*S+k*b;D-=s*F,B-=S*F,k-=b*F;var N=m(D,B,k);D/=N,B/=N,k/=N;var O=D*_+s*y,V=B*_+S*y,X=k*_+b*y;this.center.move(A,O,V,X);var ee=Math.exp(this.computedRadius[0]);ee=Math.max(1e-4,ee+E),this.radius.set(A,Math.log(ee))},o.translate=function(A,_,y,E){this.center.move(A,_||0,y||0,E||0)},o.setMatrix=function(A,_,y,E){var M=1;typeof y=="number"&&(M=y|0),(M<0||M>3)&&(M=1);var s=(M+2)%3;_||(this.recalcMatrix(A),_=this.computedMatrix);var S=_[M],b=_[M+4],I=_[M+8];if(E){var B=Math.abs(S),k=Math.abs(b),F=Math.abs(I),N=Math.max(B,k,F);B===N?(S=S<0?-1:1,b=I=0):F===N?(I=I<0?-1:1,S=b=0):(b=b<0?-1:1,S=I=0)}else{var D=m(S,b,I);S/=D,b/=D,I/=D}var O=_[s],V=_[s+4],X=_[s+8],ee=O*S+V*b+X*I;O-=S*ee,V-=b*ee,X-=I*ee;var ne=m(O,V,X);O/=ne,V/=ne,X/=ne;var q=b*X-I*V,se=I*O-S*X,J=S*V-b*O,Z=m(q,se,J);q/=Z,se/=Z,J/=Z,this.center.jump(A,Ge,Fe,He),this.radius.idle(A),this.up.jump(A,S,b,I),this.right.jump(A,O,V,X);var te,Y;if(M===2){var ie=_[1],le=_[5],j=_[9],K=ie*O+le*V+j*X,ue=ie*q+le*se+j*J;Se<0?te=-Math.PI/2:te=Math.PI/2,Y=Math.atan2(ue,K)}else{var ae=_[2],he=_[6],xe=_[10],Se=ae*S+he*b+xe*I,Ae=ae*O+he*V+xe*X,De=ae*q+he*se+xe*J;te=Math.asin(h(Se)),Y=Math.atan2(De,Ae)}this.angle.jump(A,Y,te),this.recalcMatrix(A);var we=_[2],Ce=_[6],be=_[10],Pe=this.computedMatrix;i(Pe,_);var Ve=Pe[15],Ge=Pe[12]/Ve,Fe=Pe[13]/Ve,He=Pe[14]/Ve,ft=Math.exp(this.computedRadius[0]);this.center.jump(A,Ge-we*ft,Fe-Ce*ft,He-be*ft)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(A){this.center.idle(A),this.up.idle(A),this.right.idle(A),this.radius.idle(A),this.angle.idle(A)},o.flush=function(A){this.center.flush(A),this.up.flush(A),this.right.flush(A),this.radius.flush(A),this.angle.flush(A)},o.setDistance=function(A,_){_>0&&this.radius.set(A,Math.log(_))},o.lookAt=function(A,_,y,E){this.recalcMatrix(A),_=_||this.computedEye,y=y||this.computedCenter,E=E||this.computedUp;var M=E[0],s=E[1],S=E[2],b=m(M,s,S);if(!(b<1e-6)){M/=b,s/=b,S/=b;var I=_[0]-y[0],D=_[1]-y[1],B=_[2]-y[2],k=m(I,D,B);if(!(k<1e-6)){I/=k,D/=k,B/=k;var F=this.computedRight,N=F[0],O=F[1],V=F[2],X=M*N+s*O+S*V;N-=X*M,O-=X*s,V-=X*S;var ee=m(N,O,V);if(!(ee<.01&&(N=s*B-S*D,O=S*I-M*B,V=M*D-s*I,ee=m(N,O,V),ee<1e-6))){N/=ee,O/=ee,V/=ee,this.up.set(A,M,s,S),this.right.set(A,N,O,V),this.center.set(A,y[0],y[1],y[2]),this.radius.set(A,Math.log(k));var ne=s*V-S*O,q=S*N-M*V,se=M*O-s*N,J=m(ne,q,se);ne/=J,q/=J,se/=J;var Z=M*I+s*D+S*B,te=N*I+O*D+V*B,Y=ne*I+q*D+se*B,ie=Math.asin(h(Z)),le=Math.atan2(Y,te),j=this.angle._state,K=j[j.length-1],ue=j[j.length-2];K=K%(2*Math.PI);var ae=Math.abs(K+2*Math.PI-le),he=Math.abs(K-le),xe=Math.abs(K-2*Math.PI-le);ae<he&&(K+=2*Math.PI),xe<he&&(K-=2*Math.PI),this.angle.jump(this.angle.lastT(),K,ue),this.angle.set(A,le,ie)}}}};function x(A){A=A||{};var _=A.center||[0,0,0],y=A.up||[0,1,0],E=A.right||T(y),M=A.radius||1,s=A.theta||0,S=A.phi||0;if(_=[].slice.call(_,0,3),y=[].slice.call(y,0,3),f(y,y),E=[].slice.call(E,0,3),f(E,E),"eye"in A){var b=A.eye,I=[b[0]-_[0],b[1]-_[1],b[2]-_[2]];u(E,I,y),m(E[0],E[1],E[2])<1e-6?E=T(y):f(E,E),M=m(I[0],I[1],I[2]);var D=l(y,I)/M,B=l(E,I)/M;S=Math.acos(D),s=Math.acos(B)}return M=Math.log(M),new c(A.zoomMin,A.zoomMax,_,y,E,M,s,S)}},5250:function(v){v.exports=r;var g=+(Math.pow(2,27)+1);function r(t,i,a){var u=t*i,f=g*t,l=f-t,m=f-l,h=t-m,T=g*i,c=T-i,o=T-c,p=i-o,x=u-m*o,A=x-h*o,_=A-m*p,y=h*p-_;return a?(a[0]=y,a[1]=u,a):[y,u]}},9362:function(v){v.exports=g;function g(r,t,i){var a=r+t,u=a-r,f=a-u,l=t-u,m=r-f;return i?(i[0]=m+l,i[1]=a,i):[m+l,a]}},1888:function(v,g,r){var t=r(8828),i=r(1338),a=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var u=typeof Uint8ClampedArray<"u",f=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",m=r.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=i([32,0])),m.BIGUINT64||(m.BIGUINT64=i([32,0])),m.BIGINT64||(m.BIGINT64=i([32,0])),m.BUFFER||(m.BUFFER=i([32,0]));var h=m.DATA,T=m.BUFFER;g.free=function(N){if(a.isBuffer(N))T[t.log2(N.length)].push(N);else{if(Object.prototype.toString.call(N)!=="[object ArrayBuffer]"&&(N=N.buffer),!N)return;var O=N.length||N.byteLength,V=t.log2(O)|0;h[V].push(N)}};function c(F){if(F){var N=F.length||F.byteLength,O=t.log2(N);h[O].push(F)}}function o(F){c(F.buffer)}g.freeUint8=g.freeUint16=g.freeUint32=g.freeBigUint64=g.freeInt8=g.freeInt16=g.freeInt32=g.freeBigInt64=g.freeFloat32=g.freeFloat=g.freeFloat64=g.freeDouble=g.freeUint8Clamped=g.freeDataView=o,g.freeArrayBuffer=c,g.freeBuffer=function(N){T[t.log2(N.length)].push(N)},g.malloc=function(N,O){if(O===void 0||O==="arraybuffer")return p(N);switch(O){case"uint8":return x(N);case"uint16":return A(N);case"uint32":return _(N);case"int8":return y(N);case"int16":return E(N);case"int32":return M(N);case"float":case"float32":return s(N);case"double":case"float64":return S(N);case"uint8_clamped":return b(N);case"bigint64":return D(N);case"biguint64":return I(N);case"buffer":return k(N);case"data":case"dataview":return B(N);default:return null}return null};function p(N){var N=t.nextPow2(N),O=t.log2(N),V=h[O];return V.length>0?V.pop():new ArrayBuffer(N)}g.mallocArrayBuffer=p;function x(F){return new Uint8Array(p(F),0,F)}g.mallocUint8=x;function A(F){return new Uint16Array(p(2*F),0,F)}g.mallocUint16=A;function _(F){return new Uint32Array(p(4*F),0,F)}g.mallocUint32=_;function y(F){return new Int8Array(p(F),0,F)}g.mallocInt8=y;function E(F){return new Int16Array(p(2*F),0,F)}g.mallocInt16=E;function M(F){return new Int32Array(p(4*F),0,F)}g.mallocInt32=M;function s(F){return new Float32Array(p(4*F),0,F)}g.mallocFloat32=g.mallocFloat=s;function S(F){return new Float64Array(p(8*F),0,F)}g.mallocFloat64=g.mallocDouble=S;function b(F){return u?new Uint8ClampedArray(p(F),0,F):x(F)}g.mallocUint8Clamped=b;function I(F){return f?new BigUint64Array(p(8*F),0,F):null}g.mallocBigUint64=I;function D(F){return l?new BigInt64Array(p(8*F),0,F):null}g.mallocBigInt64=D;function B(F){return new DataView(p(F),0,F)}g.mallocDataView=B;function k(F){F=t.nextPow2(F);var N=t.log2(F),O=T[N];return O.length>0?O.pop():new a(F)}g.mallocBuffer=k,g.clearCache=function(){for(var N=0;N<32;++N)m.UINT8[N].length=0,m.UINT16[N].length=0,m.UINT32[N].length=0,m.INT8[N].length=0,m.INT16[N].length=0,m.INT32[N].length=0,m.FLOAT[N].length=0,m.DOUBLE[N].length=0,m.BIGUINT64[N].length=0,m.BIGINT64[N].length=0,m.UINT8C[N].length=0,h[N].length=0,T[N].length=0}},1755:function(v){"use restrict";v.exports=g;function g(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}var r=g.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var i=t,a=this.roots;a[t]!==t;)t=a[t];for(;a[i]!==t;){var u=a[i];a[i]=t,i=u}return t},r.link=function(t,i){var a=this.find(t),u=this.find(i);if(a!==u){var f=this.ranks,l=this.roots,m=f[a],h=f[u];m<h?l[a]=u:h<m?l[u]=a:(l[u]=a,++f[a])}}},1682:function(v){function g(i,a){for(var u=1,f=i.length,l=i[0],m=i[0],h=1;h<f;++h)if(m=l,l=i[h],a(l,m)){if(h===u){u++;continue}i[u++]=l}return i.length=u,i}function r(i){for(var a=1,u=i.length,f=i[0],l=i[0],m=1;m<u;++m,l=f)if(l=f,f=i[m],f!==l){if(m===a){a++;continue}i[a++]=f}return i.length=a,i}function t(i,a,u){return i.length===0?i:a?(u||i.sort(a),g(i,a)):(u||i.sort(),r(i))}v.exports=t},4359:function(v,g,r){v.exports=u;var t=r(7718),i=null,a=null;typeof document<"u"&&(i=document.createElement("canvas"),i.width=8192,i.height=1024,a=i.getContext("2d"));function u(f,l){return(typeof l!="object"||l===null)&&(l={}),t(f,l.canvas||i,l.context||a,l)}},7718:function(v,g,r){v.exports=D,v.exports.processPixels=I;var t=r(3711),i=r(9618),a=r(5878),u=r(332),f=r(2538),l=r(2095),m="b",h="b|",T="i",c="i|",o="sup",p="+",x="+1",A="sub",_="-",y="-1";function E(B,k,F,N){for(var O="<"+B+">",V="</"+B+">",X=O.length,ee=V.length,ne=k[0]===p||k[0]===_,q=0,se=-ee;q>-1&&(q=F.indexOf(O,q),!(q===-1||(se=F.indexOf(V,q+X),se===-1)||se<=q));){for(var J=q;J<se+ee;++J)if(J<q+X||J>=se)N[J]=null,F=F.substr(0,J)+" "+F.substr(J+1);else if(N[J]!==null){var Z=N[J].indexOf(k[0]);Z===-1?N[J]+=k:ne&&(N[J]=N[J].substr(0,Z+1)+(1+parseInt(N[J][Z+1]))+N[J].substr(Z+2))}var te=q+X,Y=F.substr(te,se-te),ie=Y.indexOf(O);ie!==-1?q=ie:q=se+ee}return N}function M(B,k,F){for(var N=k.textAlign||"start",O=k.textBaseline||"alphabetic",V=[1<<30,1<<30],X=[0,0],ee=B.length,ne=0;ne<ee;++ne)for(var q=B[ne],se=0;se<2;++se)V[se]=Math.min(V[se],q[se])|0,X[se]=Math.max(X[se],q[se])|0;var J=0;switch(N){case"center":J=-.5*(V[0]+X[0]);break;case"right":case"end":J=-X[0];break;case"left":case"start":J=-V[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+N+"'")}var Z=0;switch(O){case"hanging":case"top":Z=-V[1];break;case"middle":Z=-.5*(V[1]+X[1]);break;case"alphabetic":case"ideographic":Z=-3*F;break;case"bottom":Z=-X[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+O+"'")}var te=1/F;return"lineHeight"in k?te*=+k.lineHeight:"width"in k?te=k.width/(X[0]-V[0]):"height"in k&&(te=k.height/(X[1]-V[1])),B.map(function(Y){return[te*(Y[0]+J),te*(Y[1]+Z)]})}function s(B,k,F,N,O,V){F=F.replace(/\n/g,""),V.breaklines===!0?F=F.replace(/\<br\>/g,`
`):F=F.replace(/\<br\>/g," ");var X="",ee=[];for(K=0;K<F.length;++K)ee[K]=X;V.bolds===!0&&(ee=E(m,h,F,ee)),V.italics===!0&&(ee=E(T,c,F,ee)),V.superscripts===!0&&(ee=E(o,x,F,ee)),V.subscripts===!0&&(ee=E(A,y,F,ee));var ne=[],q="";for(K=0;K<F.length;++K)ee[K]!==null&&(q+=F[K],ne.push(ee[K]));var se=q.split(`
`),J=se.length,Z=Math.round(O*N),te=N,Y=N*2,ie=0,le=J*Z+Y;B.height<le&&(B.height=le),k.fillStyle="#000",k.fillRect(0,0,B.width,B.height),k.fillStyle="#fff";var j,K,ue,ae,he,xe=0,Se="";function Ae(){if(Se!==""){var He=k.measureText(Se).width;k.fillText(Se,te+ue,Y+ae),ue+=He}}function De(){return""+Math.round(he)+"px "}function we(He,ft){var gt=""+k.font;if(V.subscripts===!0){var ct=He.indexOf(_),nt=ft.indexOf(_),dt=ct>-1?parseInt(He[1+ct]):0,pt=nt>-1?parseInt(ft[1+nt]):0;dt!==pt&&(gt=gt.replace(De(),"?px "),he*=Math.pow(.75,pt-dt),gt=gt.replace("?px ",De())),ae+=.25*Z*(pt-dt)}if(V.superscripts===!0){var wt=He.indexOf(p),Tt=ft.indexOf(p),Ct=wt>-1?parseInt(He[1+wt]):0,at=Tt>-1?parseInt(ft[1+Tt]):0;Ct!==at&&(gt=gt.replace(De(),"?px "),he*=Math.pow(.75,at-Ct),gt=gt.replace("?px ",De())),ae-=.25*Z*(at-Ct)}if(V.bolds===!0){var ze=He.indexOf(h)>-1,je=ft.indexOf(h)>-1;!ze&&je&&(Je?gt=gt.replace("italic ","italic bold "):gt="bold "+gt),ze&&!je&&(gt=gt.replace("bold ",""))}if(V.italics===!0){var Je=He.indexOf(c)>-1,Xe=ft.indexOf(c)>-1;!Je&&Xe&&(gt="italic "+gt),Je&&!Xe&&(gt=gt.replace("italic ",""))}k.font=gt}for(j=0;j<J;++j){var Ce=se[j]+`
`;for(ue=0,ae=j*Z,he=N,Se="",K=0;K<Ce.length;++K){var be=K+xe<ne.length?ne[K+xe]:ne[ne.length-1];X===be?Se+=Ce[K]:(Ae(),Se=Ce[K],be!==void 0&&(we(X,be),X=be))}Ae(),xe+=Ce.length;var Pe=Math.round(ue+2*te)|0;ie<Pe&&(ie=Pe)}var Ve=ie,Ge=Y+Z*J,Fe=i(k.getImageData(0,0,Ve,Ge).data,[Ge,Ve,4]);return Fe.pick(-1,-1,0).transpose(1,0)}function S(B,k){var F=t(B,128);return k?a(F.cells,F.positions,.25):{edges:F.cells,positions:F.positions}}function b(B,k,F,N){var O=S(B,N),V=M(O.positions,k,F),X=O.edges,ee=k.orientation==="ccw";if(u(V,X),k.polygons||k.polygon||k.polyline){for(var ne=l(X,V),q=new Array(ne.length),se=0;se<ne.length;++se){for(var J=ne[se],Z=new Array(J.length),te=0;te<J.length;++te){for(var Y=J[te],ie=new Array(Y.length),le=0;le<Y.length;++le)ie[le]=V[Y[le]].slice();ee&&ie.reverse(),Z[te]=ie}q[se]=Z}return q}else return k.triangles||k.triangulate||k.triangle?{cells:f(V,X,{delaunay:!1,exterior:!1,interior:!0}),positions:V}:{edges:X,positions:V}}function I(B,k,F){try{return b(B,k,F,!0)}catch{}try{return b(B,k,F,!1)}catch{}return k.polygons||k.polyline||k.polygon?[]:k.triangles||k.triangulate||k.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function D(B,k,F,N){var O=64,V=1.25,X={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};N&&(N.size&&N.size>0&&(O=N.size),N.lineSpacing&&N.lineSpacing>0&&(V=N.lineSpacing),N.styletags&&N.styletags.breaklines&&(X.breaklines=!!N.styletags.breaklines),N.styletags&&N.styletags.bolds&&(X.bolds=!!N.styletags.bolds),N.styletags&&N.styletags.italics&&(X.italics=!!N.styletags.italics),N.styletags&&N.styletags.subscripts&&(X.subscripts=!!N.styletags.subscripts),N.styletags&&N.styletags.superscripts&&(X.superscripts=!!N.styletags.superscripts)),F.font=[N.fontStyle,N.fontVariant,N.fontWeight,O+"px",N.font].filter(function(ne){return ne}).join(" "),F.textAlign="start",F.textBaseline="alphabetic",F.direction="ltr";var ee=s(k,F,B,O,V,X);return I(ee,N,O)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(S){S.permitHostObjects___&&S.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var a=new i,u=Object.freeze({});if(a.set(u,1),a.get(u)!==1)t=!0;else{v.exports=WeakMap;return}}}var f=Object.getOwnPropertyNames,l=Object.defineProperty,m=Object.isExtensible,h="weakmap:",T=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),o=new Uint8Array(c);crypto.getRandomValues(o),T=h+"rand:"+Array.prototype.map.call(o,function(S){return(S%36).toString(36)}).join("")+"___"}function p(S){return!(S.substr(0,h.length)==h&&S.substr(S.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(b){return f(b).filter(p)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(b){return x(b).filter(p)}})}function A(S){if(S!==Object(S))throw new TypeError("Not an object: "+S);var b=S[T];if(b&&b.key===S)return b;if(m(S)){b={key:S};try{return l(S,T,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch{return}}}(function(){var S=Object.freeze;l(Object,"freeze",{value:function(B){return A(B),S(B)}});var b=Object.seal;l(Object,"seal",{value:function(B){return A(B),b(B)}});var I=Object.preventExtensions;l(Object,"preventExtensions",{value:function(B){return A(B),I(B)}})})();function _(S){return S.prototype=null,Object.freeze(S)}var y=!1;function E(){!y&&typeof console<"u"&&(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var M=0,s=function(){this instanceof s||E();var S=[],b=[],I=M++;function D(N,O){var V,X=A(N);return X?I in X?X[I]:O:(V=S.indexOf(N),V>=0?b[V]:O)}function B(N){var O=A(N);return O?I in O:S.indexOf(N)>=0}function k(N,O){var V,X=A(N);return X?X[I]=O:(V=S.indexOf(N),V>=0?b[V]=O:(V=S.length,b[V]=O,S[V]=N)),this}function F(N){var O=A(N),V,X;return O?I in O&&delete O[I]:(V=S.indexOf(N),V<0?!1:(X=S.length-1,S[V]=void 0,b[V]=b[X],S[V]=S[X],S.length=X,b.length=X,!0))}return Object.create(s.prototype,{get___:{value:_(D)},has___:{value:_(B)},set___:{value:_(k)},delete___:{value:_(F)}})};s.prototype=Object.create(Object.prototype,{get:{value:function(b,I){return this.get___(b,I)},writable:!0,configurable:!0},has:{value:function(b){return this.has___(b)},writable:!0,configurable:!0},set:{value:function(b,I){return this.set___(b,I)},writable:!0,configurable:!0},delete:{value:function(b){return this.delete___(b)},writable:!0,configurable:!0}}),typeof i=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function S(){this instanceof s||E();var b=new i,I=void 0,D=!1;function B(O,V){return I?b.has(O)?b.get(O):I.get___(O,V):b.get(O,V)}function k(O){return b.has(O)||(I?I.has___(O):!1)}var F;t?F=function(O,V){return b.set(O,V),b.has(O)||(I||(I=new s),I.set(O,V)),this}:F=function(O,V){if(D)try{b.set(O,V)}catch{I||(I=new s),I.set___(O,V)}else b.set(O,V);return this};function N(O){var V=!!b.delete(O);return I&&I.delete___(O)||V}return Object.create(s.prototype,{get___:{value:_(B)},has___:{value:_(k)},set___:{value:_(F)},delete___:{value:_(N)},permitHostObjects___:{value:_(function(O){if(O===r)D=!0;else throw new Error("bogus call to permitHostObjects___")})}})}S.prototype=s.prototype,v.exports=S,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=s)})()},236:function(v,g,r){var t=r(8284);v.exports=i;function i(){var a={};return function(u){if((typeof u!="object"||u===null)&&typeof u!="function")throw new Error("Weakmap-shim: Key must be object");var f=u.valueOf(a);return f&&f.identity===a?f:t(u,a)}}},8284:function(v){v.exports=g;function g(r,t){var i={identity:t},a=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(u){return u!==t?a.apply(this,arguments):i},writable:!0}),i}},606:function(v,g,r){var t=r(236);v.exports=i;function i(){var a=t();return{get:function(u,f){var l=a(u);return l.hasOwnProperty("value")?l.value:f},set:function(u,f){return a(u).value=f,this},has:function(u){return"value"in a(u)},delete:function(u){return delete a(u).value}}}},3349:function(v){function g(){return function(f,l,m,h,T,c){var o=f[0],p=m[0],x=[0],A=p;h|=0;var _=0,y=p;for(_=0;_<o;++_){{var E=l[h]-c,M=l[h+A]-c;E>=0!=M>=0&&T.push(x[0]+.5+.5*(E+M)/(E-M))}h+=y,++x[0]}}}function r(){return g()}var t=r;function i(f){var l={};return function(h,T,c){var o=h.dtype,p=h.order,x=[o,p.join()].join(),A=l[x];return A||(l[x]=A=f([o,p])),A(h.shape.slice(0),h.data,h.stride,h.offset|0,T,c)}}function a(f){return i(t.bind(void 0,f))}function u(f){return a({funcName:f.funcName})}v.exports=u({funcName:"zeroCrossings"})},781:function(v,g,r){v.exports=i;var t=r(3349);function i(a,u){var f=[];return u=+u||0,t(a.hi(a.shape[0]-1),f,u),f}},7790:function(){}},n={};function L(v){var g=n[v];if(g!==void 0)return g.exports;var r=n[v]={id:v,loaded:!1,exports:{}};return C[v].call(r.exports,r,r.exports,L),r.loaded=!0,r.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var w=L(1964);H.exports=w})()},33576:function(H,U,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function d(at,ze){if(!(at instanceof ze))throw new TypeError("Cannot call a class as a function")}function C(at,ze){for(var je=0;je<ze.length;je++){var Je=ze[je];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(at,L(Je.key),Je)}}function n(at,ze,je){return ze&&C(at.prototype,ze),je&&C(at,je),Object.defineProperty(at,"prototype",{writable:!1}),at}function L(at){var ze=w(at,"string");return u(ze)==="symbol"?ze:String(ze)}function w(at,ze){if(u(at)!=="object"||at===null)return at;var je=at[Symbol.toPrimitive];if(je!==void 0){var Je=je.call(at,ze||"default");if(u(Je)!=="object")return Je;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ze==="string"?String:Number)(at)}function v(at,ze,je){function Je(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return ze=r(ze),g(at,Je()?Reflect.construct(ze,je||[],r(at).constructor):ze.apply(at,je))}function g(at,ze){if(ze&&(u(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(at)}function r(at){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(je){return je.__proto__||Object.getPrototypeOf(je)},r(at)}function t(at){if(at===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return at}function i(at,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");at.prototype=Object.create(ze&&ze.prototype,{constructor:{value:at,writable:!0,configurable:!0}}),Object.defineProperty(at,"prototype",{writable:!1}),ze&&a(at,ze)}function a(at,ze){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Je,Xe){return Je.__proto__=Xe,Je},a(at,ze)}function u(at){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ze){return typeof ze}:function(ze){return ze&&typeof Symbol=="function"&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze},u(at)}var f=e(59968),l=e(35984),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=o,U.SlowBuffer=I,U.INSPECT_MAX_BYTES=50;var h=2147483647;U.kMaxLength=h,o.TYPED_ARRAY_SUPPORT=T(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var at=new Uint8Array(1),ze={foo:function(){return 42}};return Object.setPrototypeOf(ze,Uint8Array.prototype),Object.setPrototypeOf(at,ze),at.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function c(at){if(at>h)throw new RangeError('The value "'+at+'" is invalid for option "size"');var ze=new Uint8Array(at);return Object.setPrototypeOf(ze,o.prototype),ze}function o(at,ze,je){if(typeof at=="number"){if(typeof ze=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(at)}return p(at,ze,je)}o.poolSize=8192;function p(at,ze,je){if(typeof at=="string")return y(at,ze);if(ArrayBuffer.isView(at))return M(at);if(at==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(at));if(dt(at,ArrayBuffer)||at&&dt(at.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dt(at,SharedArrayBuffer)||at&&dt(at.buffer,SharedArrayBuffer)))return s(at,ze,je);if(typeof at=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Je=at.valueOf&&at.valueOf();if(Je!=null&&Je!==at)return o.from(Je,ze,je);var Xe=S(at);if(Xe)return Xe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof at[Symbol.toPrimitive]=="function")return o.from(at[Symbol.toPrimitive]("string"),ze,je);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(at))}o.from=function(at,ze,je){return p(at,ze,je)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function x(at){if(typeof at!="number")throw new TypeError('"size" argument must be of type number');if(at<0)throw new RangeError('The value "'+at+'" is invalid for option "size"')}function A(at,ze,je){return x(at),at<=0?c(at):ze!==void 0?typeof je=="string"?c(at).fill(ze,je):c(at).fill(ze):c(at)}o.alloc=function(at,ze,je){return A(at,ze,je)};function _(at){return x(at),c(at<0?0:b(at)|0)}o.allocUnsafe=function(at){return _(at)},o.allocUnsafeSlow=function(at){return _(at)};function y(at,ze){if((typeof ze!="string"||ze==="")&&(ze="utf8"),!o.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);var je=D(at,ze)|0,Je=c(je),Xe=Je.write(at,ze);return Xe!==je&&(Je=Je.slice(0,Xe)),Je}function E(at){for(var ze=at.length<0?0:b(at.length)|0,je=c(ze),Je=0;Je<ze;Je+=1)je[Je]=at[Je]&255;return je}function M(at){if(dt(at,Uint8Array)){var ze=new Uint8Array(at);return s(ze.buffer,ze.byteOffset,ze.byteLength)}return E(at)}function s(at,ze,je){if(ze<0||at.byteLength<ze)throw new RangeError('"offset" is outside of buffer bounds');if(at.byteLength<ze+(je||0))throw new RangeError('"length" is outside of buffer bounds');var Je;return ze===void 0&&je===void 0?Je=new Uint8Array(at):je===void 0?Je=new Uint8Array(at,ze):Je=new Uint8Array(at,ze,je),Object.setPrototypeOf(Je,o.prototype),Je}function S(at){if(o.isBuffer(at)){var ze=b(at.length)|0,je=c(ze);return je.length===0||at.copy(je,0,0,ze),je}if(at.length!==void 0)return typeof at.length!="number"||pt(at.length)?c(0):E(at);if(at.type==="Buffer"&&Array.isArray(at.data))return E(at.data)}function b(at){if(at>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return at|0}function I(at){return+at!=at&&(at=0),o.alloc(+at)}o.isBuffer=function(ze){return ze!=null&&ze._isBuffer===!0&&ze!==o.prototype},o.compare=function(ze,je){if(dt(ze,Uint8Array)&&(ze=o.from(ze,ze.offset,ze.byteLength)),dt(je,Uint8Array)&&(je=o.from(je,je.offset,je.byteLength)),!o.isBuffer(ze)||!o.isBuffer(je))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ze===je)return 0;for(var Je=ze.length,Xe=je.length,Oe=0,ke=Math.min(Je,Xe);Oe<ke;++Oe)if(ze[Oe]!==je[Oe]){Je=ze[Oe],Xe=je[Oe];break}return Je<Xe?-1:Xe<Je?1:0},o.isEncoding=function(ze){switch(String(ze).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(ze,je){if(!Array.isArray(ze))throw new TypeError('"list" argument must be an Array of Buffers');if(ze.length===0)return o.alloc(0);var Je;if(je===void 0)for(je=0,Je=0;Je<ze.length;++Je)je+=ze[Je].length;var Xe=o.allocUnsafe(je),Oe=0;for(Je=0;Je<ze.length;++Je){var ke=ze[Je];if(dt(ke,Uint8Array))Oe+ke.length>Xe.length?(o.isBuffer(ke)||(ke=o.from(ke)),ke.copy(Xe,Oe)):Uint8Array.prototype.set.call(Xe,ke,Oe);else if(o.isBuffer(ke))ke.copy(Xe,Oe);else throw new TypeError('"list" argument must be an Array of Buffers');Oe+=ke.length}return Xe};function D(at,ze){if(o.isBuffer(at))return at.length;if(ArrayBuffer.isView(at)||dt(at,ArrayBuffer))return at.byteLength;if(typeof at!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(at));var je=at.length,Je=arguments.length>2&&arguments[2]===!0;if(!Je&&je===0)return 0;for(var Xe=!1;;)switch(ze){case"ascii":case"latin1":case"binary":return je;case"utf8":case"utf-8":return He(at).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je*2;case"hex":return je>>>1;case"base64":return ct(at).length;default:if(Xe)return Je?-1:He(at).length;ze=(""+ze).toLowerCase(),Xe=!0}}o.byteLength=D;function B(at,ze,je){var Je=!1;if((ze===void 0||ze<0)&&(ze=0),ze>this.length||((je===void 0||je>this.length)&&(je=this.length),je<=0)||(je>>>=0,ze>>>=0,je<=ze))return"";for(at||(at="utf8");;)switch(at){case"hex":return ie(this,ze,je);case"utf8":case"utf-8":return se(this,ze,je);case"ascii":return te(this,ze,je);case"latin1":case"binary":return Y(this,ze,je);case"base64":return q(this,ze,je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,ze,je);default:if(Je)throw new TypeError("Unknown encoding: "+at);at=(at+"").toLowerCase(),Je=!0}}o.prototype._isBuffer=!0;function k(at,ze,je){var Je=at[ze];at[ze]=at[je],at[je]=Je}o.prototype.swap16=function(){var ze=this.length;if(ze%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var je=0;je<ze;je+=2)k(this,je,je+1);return this},o.prototype.swap32=function(){var ze=this.length;if(ze%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var je=0;je<ze;je+=4)k(this,je,je+3),k(this,je+1,je+2);return this},o.prototype.swap64=function(){var ze=this.length;if(ze%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var je=0;je<ze;je+=8)k(this,je,je+7),k(this,je+1,je+6),k(this,je+2,je+5),k(this,je+3,je+4);return this},o.prototype.toString=function(){var ze=this.length;return ze===0?"":arguments.length===0?se(this,0,ze):B.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(ze){if(!o.isBuffer(ze))throw new TypeError("Argument must be a Buffer");return this===ze?!0:o.compare(this,ze)===0},o.prototype.inspect=function(){var ze="",je=U.INSPECT_MAX_BYTES;return ze=this.toString("hex",0,je).replace(/(.{2})/g,"$1 ").trim(),this.length>je&&(ze+=" ... "),"<Buffer "+ze+">"},m&&(o.prototype[m]=o.prototype.inspect),o.prototype.compare=function(ze,je,Je,Xe,Oe){if(dt(ze,Uint8Array)&&(ze=o.from(ze,ze.offset,ze.byteLength)),!o.isBuffer(ze))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(ze));if(je===void 0&&(je=0),Je===void 0&&(Je=ze?ze.length:0),Xe===void 0&&(Xe=0),Oe===void 0&&(Oe=this.length),je<0||Je>ze.length||Xe<0||Oe>this.length)throw new RangeError("out of range index");if(Xe>=Oe&&je>=Je)return 0;if(Xe>=Oe)return-1;if(je>=Je)return 1;if(je>>>=0,Je>>>=0,Xe>>>=0,Oe>>>=0,this===ze)return 0;for(var ke=Oe-Xe,Ke=Je-je,Ie=Math.min(ke,Ke),pe=this.slice(Xe,Oe),Te=ze.slice(je,Je),Ue=0;Ue<Ie;++Ue)if(pe[Ue]!==Te[Ue]){ke=pe[Ue],Ke=Te[Ue];break}return ke<Ke?-1:Ke<ke?1:0};function F(at,ze,je,Je,Xe){if(at.length===0)return-1;if(typeof je=="string"?(Je=je,je=0):je>2147483647?je=2147483647:je<-2147483648&&(je=-2147483648),je=+je,pt(je)&&(je=Xe?0:at.length-1),je<0&&(je=at.length+je),je>=at.length){if(Xe)return-1;je=at.length-1}else if(je<0)if(Xe)je=0;else return-1;if(typeof ze=="string"&&(ze=o.from(ze,Je)),o.isBuffer(ze))return ze.length===0?-1:N(at,ze,je,Je,Xe);if(typeof ze=="number")return ze=ze&255,typeof Uint8Array.prototype.indexOf=="function"?Xe?Uint8Array.prototype.indexOf.call(at,ze,je):Uint8Array.prototype.lastIndexOf.call(at,ze,je):N(at,[ze],je,Je,Xe);throw new TypeError("val must be string, number or Buffer")}function N(at,ze,je,Je,Xe){var Oe=1,ke=at.length,Ke=ze.length;if(Je!==void 0&&(Je=String(Je).toLowerCase(),Je==="ucs2"||Je==="ucs-2"||Je==="utf16le"||Je==="utf-16le")){if(at.length<2||ze.length<2)return-1;Oe=2,ke/=2,Ke/=2,je/=2}function Ie(st,lt){return Oe===1?st[lt]:st.readUInt16BE(lt*Oe)}var pe;if(Xe){var Te=-1;for(pe=je;pe<ke;pe++)if(Ie(at,pe)===Ie(ze,Te===-1?0:pe-Te)){if(Te===-1&&(Te=pe),pe-Te+1===Ke)return Te*Oe}else Te!==-1&&(pe-=pe-Te),Te=-1}else for(je+Ke>ke&&(je=ke-Ke),pe=je;pe>=0;pe--){for(var Ue=!0,et=0;et<Ke;et++)if(Ie(at,pe+et)!==Ie(ze,et)){Ue=!1;break}if(Ue)return pe}return-1}o.prototype.includes=function(ze,je,Je){return this.indexOf(ze,je,Je)!==-1},o.prototype.indexOf=function(ze,je,Je){return F(this,ze,je,Je,!0)},o.prototype.lastIndexOf=function(ze,je,Je){return F(this,ze,je,Je,!1)};function O(at,ze,je,Je){je=Number(je)||0;var Xe=at.length-je;Je?(Je=Number(Je),Je>Xe&&(Je=Xe)):Je=Xe;var Oe=ze.length;Je>Oe/2&&(Je=Oe/2);var ke;for(ke=0;ke<Je;++ke){var Ke=parseInt(ze.substr(ke*2,2),16);if(pt(Ke))return ke;at[je+ke]=Ke}return ke}function V(at,ze,je,Je){return nt(He(ze,at.length-je),at,je,Je)}function X(at,ze,je,Je){return nt(ft(ze),at,je,Je)}function ee(at,ze,je,Je){return nt(ct(ze),at,je,Je)}function ne(at,ze,je,Je){return nt(gt(ze,at.length-je),at,je,Je)}o.prototype.write=function(ze,je,Je,Xe){if(je===void 0)Xe="utf8",Je=this.length,je=0;else if(Je===void 0&&typeof je=="string")Xe=je,Je=this.length,je=0;else if(isFinite(je))je=je>>>0,isFinite(Je)?(Je=Je>>>0,Xe===void 0&&(Xe="utf8")):(Xe=Je,Je=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Oe=this.length-je;if((Je===void 0||Je>Oe)&&(Je=Oe),ze.length>0&&(Je<0||je<0)||je>this.length)throw new RangeError("Attempt to write outside buffer bounds");Xe||(Xe="utf8");for(var ke=!1;;)switch(Xe){case"hex":return O(this,ze,je,Je);case"utf8":case"utf-8":return V(this,ze,je,Je);case"ascii":case"latin1":case"binary":return X(this,ze,je,Je);case"base64":return ee(this,ze,je,Je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,ze,je,Je);default:if(ke)throw new TypeError("Unknown encoding: "+Xe);Xe=(""+Xe).toLowerCase(),ke=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(at,ze,je){return ze===0&&je===at.length?f.fromByteArray(at):f.fromByteArray(at.slice(ze,je))}function se(at,ze,je){je=Math.min(at.length,je);for(var Je=[],Xe=ze;Xe<je;){var Oe=at[Xe],ke=null,Ke=Oe>239?4:Oe>223?3:Oe>191?2:1;if(Xe+Ke<=je){var Ie=void 0,pe=void 0,Te=void 0,Ue=void 0;switch(Ke){case 1:Oe<128&&(ke=Oe);break;case 2:Ie=at[Xe+1],(Ie&192)===128&&(Ue=(Oe&31)<<6|Ie&63,Ue>127&&(ke=Ue));break;case 3:Ie=at[Xe+1],pe=at[Xe+2],(Ie&192)===128&&(pe&192)===128&&(Ue=(Oe&15)<<12|(Ie&63)<<6|pe&63,Ue>2047&&(Ue<55296||Ue>57343)&&(ke=Ue));break;case 4:Ie=at[Xe+1],pe=at[Xe+2],Te=at[Xe+3],(Ie&192)===128&&(pe&192)===128&&(Te&192)===128&&(Ue=(Oe&15)<<18|(Ie&63)<<12|(pe&63)<<6|Te&63,Ue>65535&&Ue<1114112&&(ke=Ue))}}ke===null?(ke=65533,Ke=1):ke>65535&&(ke-=65536,Je.push(ke>>>10&1023|55296),ke=56320|ke&1023),Je.push(ke),Xe+=Ke}return Z(Je)}var J=4096;function Z(at){var ze=at.length;if(ze<=J)return String.fromCharCode.apply(String,at);for(var je="",Je=0;Je<ze;)je+=String.fromCharCode.apply(String,at.slice(Je,Je+=J));return je}function te(at,ze,je){var Je="";je=Math.min(at.length,je);for(var Xe=ze;Xe<je;++Xe)Je+=String.fromCharCode(at[Xe]&127);return Je}function Y(at,ze,je){var Je="";je=Math.min(at.length,je);for(var Xe=ze;Xe<je;++Xe)Je+=String.fromCharCode(at[Xe]);return Je}function ie(at,ze,je){var Je=at.length;(!ze||ze<0)&&(ze=0),(!je||je<0||je>Je)&&(je=Je);for(var Xe="",Oe=ze;Oe<je;++Oe)Xe+=wt[at[Oe]];return Xe}function le(at,ze,je){for(var Je=at.slice(ze,je),Xe="",Oe=0;Oe<Je.length-1;Oe+=2)Xe+=String.fromCharCode(Je[Oe]+Je[Oe+1]*256);return Xe}o.prototype.slice=function(ze,je){var Je=this.length;ze=~~ze,je=je===void 0?Je:~~je,ze<0?(ze+=Je,ze<0&&(ze=0)):ze>Je&&(ze=Je),je<0?(je+=Je,je<0&&(je=0)):je>Je&&(je=Je),je<ze&&(je=ze);var Xe=this.subarray(ze,je);return Object.setPrototypeOf(Xe,o.prototype),Xe};function j(at,ze,je){if(at%1!==0||at<0)throw new RangeError("offset is not uint");if(at+ze>je)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(ze,je,Je){ze=ze>>>0,je=je>>>0,Je||j(ze,je,this.length);for(var Xe=this[ze],Oe=1,ke=0;++ke<je&&(Oe*=256);)Xe+=this[ze+ke]*Oe;return Xe},o.prototype.readUintBE=o.prototype.readUIntBE=function(ze,je,Je){ze=ze>>>0,je=je>>>0,Je||j(ze,je,this.length);for(var Xe=this[ze+--je],Oe=1;je>0&&(Oe*=256);)Xe+=this[ze+--je]*Oe;return Xe},o.prototype.readUint8=o.prototype.readUInt8=function(ze,je){return ze=ze>>>0,je||j(ze,1,this.length),this[ze]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(ze,je){return ze=ze>>>0,je||j(ze,2,this.length),this[ze]|this[ze+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(ze,je){return ze=ze>>>0,je||j(ze,2,this.length),this[ze]<<8|this[ze+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(ze,je){return ze=ze>>>0,je||j(ze,4,this.length),(this[ze]|this[ze+1]<<8|this[ze+2]<<16)+this[ze+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(ze,je){return ze=ze>>>0,je||j(ze,4,this.length),this[ze]*16777216+(this[ze+1]<<16|this[ze+2]<<8|this[ze+3])},o.prototype.readBigUInt64LE=Tt(function(ze){ze=ze>>>0,Pe(ze,"offset");var je=this[ze],Je=this[ze+7];(je===void 0||Je===void 0)&&Ve(ze,this.length-8);var Xe=je+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24),Oe=this[++ze]+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+Je*Math.pow(2,24);return BigInt(Xe)+(BigInt(Oe)<<BigInt(32))}),o.prototype.readBigUInt64BE=Tt(function(ze){ze=ze>>>0,Pe(ze,"offset");var je=this[ze],Je=this[ze+7];(je===void 0||Je===void 0)&&Ve(ze,this.length-8);var Xe=je*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze],Oe=this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+Je;return(BigInt(Xe)<<BigInt(32))+BigInt(Oe)}),o.prototype.readIntLE=function(ze,je,Je){ze=ze>>>0,je=je>>>0,Je||j(ze,je,this.length);for(var Xe=this[ze],Oe=1,ke=0;++ke<je&&(Oe*=256);)Xe+=this[ze+ke]*Oe;return Oe*=128,Xe>=Oe&&(Xe-=Math.pow(2,8*je)),Xe},o.prototype.readIntBE=function(ze,je,Je){ze=ze>>>0,je=je>>>0,Je||j(ze,je,this.length);for(var Xe=je,Oe=1,ke=this[ze+--Xe];Xe>0&&(Oe*=256);)ke+=this[ze+--Xe]*Oe;return Oe*=128,ke>=Oe&&(ke-=Math.pow(2,8*je)),ke},o.prototype.readInt8=function(ze,je){return ze=ze>>>0,je||j(ze,1,this.length),this[ze]&128?(255-this[ze]+1)*-1:this[ze]},o.prototype.readInt16LE=function(ze,je){ze=ze>>>0,je||j(ze,2,this.length);var Je=this[ze]|this[ze+1]<<8;return Je&32768?Je|4294901760:Je},o.prototype.readInt16BE=function(ze,je){ze=ze>>>0,je||j(ze,2,this.length);var Je=this[ze+1]|this[ze]<<8;return Je&32768?Je|4294901760:Je},o.prototype.readInt32LE=function(ze,je){return ze=ze>>>0,je||j(ze,4,this.length),this[ze]|this[ze+1]<<8|this[ze+2]<<16|this[ze+3]<<24},o.prototype.readInt32BE=function(ze,je){return ze=ze>>>0,je||j(ze,4,this.length),this[ze]<<24|this[ze+1]<<16|this[ze+2]<<8|this[ze+3]},o.prototype.readBigInt64LE=Tt(function(ze){ze=ze>>>0,Pe(ze,"offset");var je=this[ze],Je=this[ze+7];(je===void 0||Je===void 0)&&Ve(ze,this.length-8);var Xe=this[ze+4]+this[ze+5]*Math.pow(2,8)+this[ze+6]*Math.pow(2,16)+(Je<<24);return(BigInt(Xe)<<BigInt(32))+BigInt(je+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24))}),o.prototype.readBigInt64BE=Tt(function(ze){ze=ze>>>0,Pe(ze,"offset");var je=this[ze],Je=this[ze+7];(je===void 0||Je===void 0)&&Ve(ze,this.length-8);var Xe=(je<<24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze];return(BigInt(Xe)<<BigInt(32))+BigInt(this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+Je)}),o.prototype.readFloatLE=function(ze,je){return ze=ze>>>0,je||j(ze,4,this.length),l.read(this,ze,!0,23,4)},o.prototype.readFloatBE=function(ze,je){return ze=ze>>>0,je||j(ze,4,this.length),l.read(this,ze,!1,23,4)},o.prototype.readDoubleLE=function(ze,je){return ze=ze>>>0,je||j(ze,8,this.length),l.read(this,ze,!0,52,8)},o.prototype.readDoubleBE=function(ze,je){return ze=ze>>>0,je||j(ze,8,this.length),l.read(this,ze,!1,52,8)};function K(at,ze,je,Je,Xe,Oe){if(!o.isBuffer(at))throw new TypeError('"buffer" argument must be a Buffer instance');if(ze>Xe||ze<Oe)throw new RangeError('"value" argument is out of bounds');if(je+Je>at.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(ze,je,Je,Xe){if(ze=+ze,je=je>>>0,Je=Je>>>0,!Xe){var Oe=Math.pow(2,8*Je)-1;K(this,ze,je,Je,Oe,0)}var ke=1,Ke=0;for(this[je]=ze&255;++Ke<Je&&(ke*=256);)this[je+Ke]=ze/ke&255;return je+Je},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(ze,je,Je,Xe){if(ze=+ze,je=je>>>0,Je=Je>>>0,!Xe){var Oe=Math.pow(2,8*Je)-1;K(this,ze,je,Je,Oe,0)}var ke=Je-1,Ke=1;for(this[je+ke]=ze&255;--ke>=0&&(Ke*=256);)this[je+ke]=ze/Ke&255;return je+Je},o.prototype.writeUint8=o.prototype.writeUInt8=function(ze,je,Je){return ze=+ze,je=je>>>0,Je||K(this,ze,je,1,255,0),this[je]=ze&255,je+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(ze,je,Je){return ze=+ze,je=je>>>0,Je||K(this,ze,je,2,65535,0),this[je]=ze&255,this[je+1]=ze>>>8,je+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(ze,je,Je){return ze=+ze,je=je>>>0,Je||K(this,ze,je,2,65535,0),this[je]=ze>>>8,this[je+1]=ze&255,je+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(ze,je,Je){return ze=+ze,je=je>>>0,Je||K(this,ze,je,4,4294967295,0),this[je+3]=ze>>>24,this[je+2]=ze>>>16,this[je+1]=ze>>>8,this[je]=ze&255,je+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(ze,je,Je){return ze=+ze,je=je>>>0,Je||K(this,ze,je,4,4294967295,0),this[je]=ze>>>24,this[je+1]=ze>>>16,this[je+2]=ze>>>8,this[je+3]=ze&255,je+4};function ue(at,ze,je,Je,Xe){be(ze,Je,Xe,at,je,7);var Oe=Number(ze&BigInt(4294967295));at[je++]=Oe,Oe=Oe>>8,at[je++]=Oe,Oe=Oe>>8,at[je++]=Oe,Oe=Oe>>8,at[je++]=Oe;var ke=Number(ze>>BigInt(32)&BigInt(4294967295));return at[je++]=ke,ke=ke>>8,at[je++]=ke,ke=ke>>8,at[je++]=ke,ke=ke>>8,at[je++]=ke,je}function ae(at,ze,je,Je,Xe){be(ze,Je,Xe,at,je,7);var Oe=Number(ze&BigInt(4294967295));at[je+7]=Oe,Oe=Oe>>8,at[je+6]=Oe,Oe=Oe>>8,at[je+5]=Oe,Oe=Oe>>8,at[je+4]=Oe;var ke=Number(ze>>BigInt(32)&BigInt(4294967295));return at[je+3]=ke,ke=ke>>8,at[je+2]=ke,ke=ke>>8,at[je+1]=ke,ke=ke>>8,at[je]=ke,je+8}o.prototype.writeBigUInt64LE=Tt(function(ze){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ue(this,ze,je,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Tt(function(ze){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(this,ze,je,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(ze,je,Je,Xe){if(ze=+ze,je=je>>>0,!Xe){var Oe=Math.pow(2,8*Je-1);K(this,ze,je,Je,Oe-1,-Oe)}var ke=0,Ke=1,Ie=0;for(this[je]=ze&255;++ke<Je&&(Ke*=256);)ze<0&&Ie===0&&this[je+ke-1]!==0&&(Ie=1),this[je+ke]=(ze/Ke>>0)-Ie&255;return je+Je},o.prototype.writeIntBE=function(ze,je,Je,Xe){if(ze=+ze,je=je>>>0,!Xe){var Oe=Math.pow(2,8*Je-1);K(this,ze,je,Je,Oe-1,-Oe)}var ke=Je-1,Ke=1,Ie=0;for(this[je+ke]=ze&255;--ke>=0&&(Ke*=256);)ze<0&&Ie===0&&this[je+ke+1]!==0&&(Ie=1),this[je+ke]=(ze/Ke>>0)-Ie&255;return je+Je},o.prototype.writeInt8=function(ze,je,Je){return ze=+ze,je=je>>>0,Je||K(this,ze,je,1,127,-128),ze<0&&(ze=255+ze+1),this[je]=ze&255,je+1},o.prototype.writeInt16LE=function(ze,je,Je){return ze=+ze,je=je>>>0,Je||K(this,ze,je,2,32767,-32768),this[je]=ze&255,this[je+1]=ze>>>8,je+2},o.prototype.writeInt16BE=function(ze,je,Je){return ze=+ze,je=je>>>0,Je||K(this,ze,je,2,32767,-32768),this[je]=ze>>>8,this[je+1]=ze&255,je+2},o.prototype.writeInt32LE=function(ze,je,Je){return ze=+ze,je=je>>>0,Je||K(this,ze,je,4,2147483647,-2147483648),this[je]=ze&255,this[je+1]=ze>>>8,this[je+2]=ze>>>16,this[je+3]=ze>>>24,je+4},o.prototype.writeInt32BE=function(ze,je,Je){return ze=+ze,je=je>>>0,Je||K(this,ze,je,4,2147483647,-2147483648),ze<0&&(ze=4294967295+ze+1),this[je]=ze>>>24,this[je+1]=ze>>>16,this[je+2]=ze>>>8,this[je+3]=ze&255,je+4},o.prototype.writeBigInt64LE=Tt(function(ze){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ue(this,ze,je,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Tt(function(ze){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(this,ze,je,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function he(at,ze,je,Je,Xe,Oe){if(je+Je>at.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("Index out of range")}function xe(at,ze,je,Je,Xe){return ze=+ze,je=je>>>0,Xe||he(at,ze,je,4),l.write(at,ze,je,Je,23,4),je+4}o.prototype.writeFloatLE=function(ze,je,Je){return xe(this,ze,je,!0,Je)},o.prototype.writeFloatBE=function(ze,je,Je){return xe(this,ze,je,!1,Je)};function Se(at,ze,je,Je,Xe){return ze=+ze,je=je>>>0,Xe||he(at,ze,je,8),l.write(at,ze,je,Je,52,8),je+8}o.prototype.writeDoubleLE=function(ze,je,Je){return Se(this,ze,je,!0,Je)},o.prototype.writeDoubleBE=function(ze,je,Je){return Se(this,ze,je,!1,Je)},o.prototype.copy=function(ze,je,Je,Xe){if(!o.isBuffer(ze))throw new TypeError("argument should be a Buffer");if(Je||(Je=0),!Xe&&Xe!==0&&(Xe=this.length),je>=ze.length&&(je=ze.length),je||(je=0),Xe>0&&Xe<Je&&(Xe=Je),Xe===Je||ze.length===0||this.length===0)return 0;if(je<0)throw new RangeError("targetStart out of bounds");if(Je<0||Je>=this.length)throw new RangeError("Index out of range");if(Xe<0)throw new RangeError("sourceEnd out of bounds");Xe>this.length&&(Xe=this.length),ze.length-je<Xe-Je&&(Xe=ze.length-je+Je);var Oe=Xe-Je;return this===ze&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(je,Je,Xe):Uint8Array.prototype.set.call(ze,this.subarray(Je,Xe),je),Oe},o.prototype.fill=function(ze,je,Je,Xe){if(typeof ze=="string"){if(typeof je=="string"?(Xe=je,je=0,Je=this.length):typeof Je=="string"&&(Xe=Je,Je=this.length),Xe!==void 0&&typeof Xe!="string")throw new TypeError("encoding must be a string");if(typeof Xe=="string"&&!o.isEncoding(Xe))throw new TypeError("Unknown encoding: "+Xe);if(ze.length===1){var Oe=ze.charCodeAt(0);(Xe==="utf8"&&Oe<128||Xe==="latin1")&&(ze=Oe)}}else typeof ze=="number"?ze=ze&255:typeof ze=="boolean"&&(ze=Number(ze));if(je<0||this.length<je||this.length<Je)throw new RangeError("Out of range index");if(Je<=je)return this;je=je>>>0,Je=Je===void 0?this.length:Je>>>0,ze||(ze=0);var ke;if(typeof ze=="number")for(ke=je;ke<Je;++ke)this[ke]=ze;else{var Ke=o.isBuffer(ze)?ze:o.from(ze,Xe),Ie=Ke.length;if(Ie===0)throw new TypeError('The value "'+ze+'" is invalid for argument "value"');for(ke=0;ke<Je-je;++ke)this[ke+je]=Ke[ke%Ie]}return this};var Ae={};function De(at,ze,je){Ae[at]=function(Je){i(Xe,Je);function Xe(){var Oe;return d(this,Xe),Oe=v(this,Xe),Object.defineProperty(t(Oe),"message",{value:ze.apply(t(Oe),arguments),writable:!0,configurable:!0}),Oe.name="".concat(Oe.name," [").concat(at,"]"),Oe.stack,delete Oe.name,Oe}return n(Xe,[{key:"code",get:function(){return at},set:function(ke){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ke,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(at,"]: ").concat(this.message)}}]),Xe}(je)}De("ERR_BUFFER_OUT_OF_BOUNDS",function(at){return at?"".concat(at," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),De("ERR_INVALID_ARG_TYPE",function(at,ze){return'The "'.concat(at,'" argument must be of type number. Received type ').concat(u(ze))},TypeError),De("ERR_OUT_OF_RANGE",function(at,ze,je){var Je='The value of "'.concat(at,'" is out of range.'),Xe=je;return Number.isInteger(je)&&Math.abs(je)>Math.pow(2,32)?Xe=we(String(je)):typeof je=="bigint"&&(Xe=String(je),(je>Math.pow(BigInt(2),BigInt(32))||je<-Math.pow(BigInt(2),BigInt(32)))&&(Xe=we(Xe)),Xe+="n"),Je+=" It must be ".concat(ze,". Received ").concat(Xe),Je},RangeError);function we(at){for(var ze="",je=at.length,Je=at[0]==="-"?1:0;je>=Je+4;je-=3)ze="_".concat(at.slice(je-3,je)).concat(ze);return"".concat(at.slice(0,je)).concat(ze)}function Ce(at,ze,je){Pe(ze,"offset"),(at[ze]===void 0||at[ze+je]===void 0)&&Ve(ze,at.length-(je+1))}function be(at,ze,je,Je,Xe,Oe){if(at>je||at<ze){var ke=typeof ze=="bigint"?"n":"",Ke;throw Oe>3?ze===0||ze===BigInt(0)?Ke=">= 0".concat(ke," and < 2").concat(ke," ** ").concat((Oe+1)*8).concat(ke):Ke=">= -(2".concat(ke," ** ").concat((Oe+1)*8-1).concat(ke,") and < 2 ** ")+"".concat((Oe+1)*8-1).concat(ke):Ke=">= ".concat(ze).concat(ke," and <= ").concat(je).concat(ke),new Ae.ERR_OUT_OF_RANGE("value",Ke,at)}Ce(Je,Xe,Oe)}function Pe(at,ze){if(typeof at!="number")throw new Ae.ERR_INVALID_ARG_TYPE(ze,"number",at)}function Ve(at,ze,je){throw Math.floor(at)!==at?(Pe(at,je),new Ae.ERR_OUT_OF_RANGE(je||"offset","an integer",at)):ze<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(je||"offset",">= ".concat(je?1:0," and <= ").concat(ze),at)}var Ge=/[^+/0-9A-Za-z-_]/g;function Fe(at){if(at=at.split("=")[0],at=at.trim().replace(Ge,""),at.length<2)return"";for(;at.length%4!==0;)at=at+"=";return at}function He(at,ze){ze=ze||1/0;for(var je,Je=at.length,Xe=null,Oe=[],ke=0;ke<Je;++ke){if(je=at.charCodeAt(ke),je>55295&&je<57344){if(!Xe){if(je>56319){(ze-=3)>-1&&Oe.push(239,191,189);continue}else if(ke+1===Je){(ze-=3)>-1&&Oe.push(239,191,189);continue}Xe=je;continue}if(je<56320){(ze-=3)>-1&&Oe.push(239,191,189),Xe=je;continue}je=(Xe-55296<<10|je-56320)+65536}else Xe&&(ze-=3)>-1&&Oe.push(239,191,189);if(Xe=null,je<128){if((ze-=1)<0)break;Oe.push(je)}else if(je<2048){if((ze-=2)<0)break;Oe.push(je>>6|192,je&63|128)}else if(je<65536){if((ze-=3)<0)break;Oe.push(je>>12|224,je>>6&63|128,je&63|128)}else if(je<1114112){if((ze-=4)<0)break;Oe.push(je>>18|240,je>>12&63|128,je>>6&63|128,je&63|128)}else throw new Error("Invalid code point")}return Oe}function ft(at){for(var ze=[],je=0;je<at.length;++je)ze.push(at.charCodeAt(je)&255);return ze}function gt(at,ze){for(var je,Je,Xe,Oe=[],ke=0;ke<at.length&&!((ze-=2)<0);++ke)je=at.charCodeAt(ke),Je=je>>8,Xe=je%256,Oe.push(Xe),Oe.push(Je);return Oe}function ct(at){return f.toByteArray(Fe(at))}function nt(at,ze,je,Je){var Xe;for(Xe=0;Xe<Je&&!(Xe+je>=ze.length||Xe>=at.length);++Xe)ze[Xe+je]=at[Xe];return Xe}function dt(at,ze){return at instanceof ze||at!=null&&at.constructor!=null&&at.constructor.name!=null&&at.constructor.name===ze.name}function pt(at){return at!==at}var wt=function(){for(var at="0123456789abcdef",ze=new Array(256),je=0;je<16;++je)for(var Je=je*16,Xe=0;Xe<16;++Xe)ze[Je+Xe]=at[je]+at[Xe];return ze}();function Tt(at){return typeof BigInt>"u"?Ct:at}function Ct(){throw new Error("BigInt not supported")}},25928:function(H){H.exports=C,H.exports.isMobile=C,H.exports.default=C;var U=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,d=/android|ipad|playbook|silk/i;function C(n){n||(n={});var L=n.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var w=U.test(L)&&!e.test(L)||!!n.tablet&&d.test(L);return!w&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(w=!0),w}},48932:function(H,U,e){e.r(U),e.d(U,{sankeyCenter:function(){return i},sankeyCircular:function(){return S},sankeyJustify:function(){return t},sankeyLeft:function(){return g},sankeyRight:function(){return r}});var d=e(84706),C=e(34712),n=e(10132),L=e(6688),w=e.n(L);function v(Ae){return Ae.target.depth}function g(Ae){return Ae.depth}function r(Ae,De){return De-1-Ae.height}function t(Ae,De){return Ae.sourceLinks.length?Ae.depth:De-1}function i(Ae){return Ae.targetLinks.length?Ae.depth:Ae.sourceLinks.length?(0,d.SY)(Ae.sourceLinks,v)-1:0}function a(Ae){return function(){return Ae}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae};function f(Ae,De){return m(Ae.source,De.source)||Ae.index-De.index}function l(Ae,De){return m(Ae.target,De.target)||Ae.index-De.index}function m(Ae,De){return Ae.partOfCycle===De.partOfCycle?Ae.y0-De.y0:Ae.circularLinkType==="top"||De.circularLinkType==="bottom"?-1:1}function h(Ae){return Ae.value}function T(Ae){return(Ae.y0+Ae.y1)/2}function c(Ae){return T(Ae.source)}function o(Ae){return T(Ae.target)}function p(Ae){return Ae.index}function x(Ae){return Ae.nodes}function A(Ae){return Ae.links}function _(Ae,De){var we=Ae.get(De);if(!we)throw new Error("missing: "+De);return we}function y(Ae,De){return De(Ae)}var E=25,M=10,s=.3;function S(){var Ae=0,De=0,we=1,Ce=1,be=24,Pe,Ve=p,Ge=t,Fe=x,He=A,ft=32,gt=2,ct,nt=null;function dt(){var Je={nodes:Fe.apply(null,arguments),links:He.apply(null,arguments)};pt(Je),b(Je,Ve,nt),wt(Je),at(Je),I(Je,Ve),ze(Je,ft,Ve),je(Je);for(var Xe=4,Oe=0;Oe<Xe;Oe++)K(Je,Ce,Ve),ue(Je,Ce,Ve),ie(Je,De,Ce,Ve),K(Je,Ce,Ve),ue(Je,Ce,Ve);return Se(Je,De,Ce),O(Je,gt,Ce,Ve),Je}dt.nodeId=function(Je){return arguments.length?(Ve=typeof Je=="function"?Je:a(Je),dt):Ve},dt.nodeAlign=function(Je){return arguments.length?(Ge=typeof Je=="function"?Je:a(Je),dt):Ge},dt.nodeWidth=function(Je){return arguments.length?(be=+Je,dt):be},dt.nodePadding=function(Je){return arguments.length?(Pe=+Je,dt):Pe},dt.nodes=function(Je){return arguments.length?(Fe=typeof Je=="function"?Je:a(Je),dt):Fe},dt.links=function(Je){return arguments.length?(He=typeof Je=="function"?Je:a(Je),dt):He},dt.size=function(Je){return arguments.length?(Ae=De=0,we=+Je[0],Ce=+Je[1],dt):[we-Ae,Ce-De]},dt.extent=function(Je){return arguments.length?(Ae=+Je[0][0],we=+Je[1][0],De=+Je[0][1],Ce=+Je[1][1],dt):[[Ae,De],[we,Ce]]},dt.iterations=function(Je){return arguments.length?(ft=+Je,dt):ft},dt.circularLinkGap=function(Je){return arguments.length?(gt=+Je,dt):gt},dt.nodePaddingRatio=function(Je){return arguments.length?(ct=+Je,dt):ct},dt.sortNodes=function(Je){return arguments.length?(nt=Je,dt):nt},dt.update=function(Je){return I(Je,Ve),je(Je),Je.links.forEach(function(Xe){Xe.circular&&(Xe.circularLinkType=Xe.y0+Xe.y1<Ce?"top":"bottom",Xe.source.circularLinkType=Xe.circularLinkType,Xe.target.circularLinkType=Xe.circularLinkType)}),K(Je,Ce,Ve,!1),ue(Je,Ce,Ve),O(Je,gt,Ce,Ve),Je};function pt(Je){Je.nodes.forEach(function(Oe,ke){Oe.index=ke,Oe.sourceLinks=[],Oe.targetLinks=[]});var Xe=(0,C.kH)(Je.nodes,Ve);return Je.links.forEach(function(Oe,ke){Oe.index=ke;var Ke=Oe.source,Ie=Oe.target;(typeof Ke>"u"?"undefined":u(Ke))!=="object"&&(Ke=Oe.source=_(Xe,Ke)),(typeof Ie>"u"?"undefined":u(Ie))!=="object"&&(Ie=Oe.target=_(Xe,Ie)),Ke.sourceLinks.push(Oe),Ie.targetLinks.push(Oe)}),Je}function wt(Je){Je.nodes.forEach(function(Xe){Xe.partOfCycle=!1,Xe.value=Math.max((0,d.oh)(Xe.sourceLinks,h),(0,d.oh)(Xe.targetLinks,h)),Xe.sourceLinks.forEach(function(Oe){Oe.circular&&(Xe.partOfCycle=!0,Xe.circularLinkType=Oe.circularLinkType)}),Xe.targetLinks.forEach(function(Oe){Oe.circular&&(Xe.partOfCycle=!0,Xe.circularLinkType=Oe.circularLinkType)})})}function Tt(Je){var Xe=0,Oe=0,ke=0,Ke=0,Ie=(0,d.kv)(Je.nodes,function(pe){return pe.column});return Je.links.forEach(function(pe){pe.circular&&(pe.circularLinkType=="top"?Xe=Xe+pe.width:Oe=Oe+pe.width,pe.target.column==0&&(Ke=Ke+pe.width),pe.source.column==Ie&&(ke=ke+pe.width))}),Xe=Xe>0?Xe+E+M:Xe,Oe=Oe>0?Oe+E+M:Oe,ke=ke>0?ke+E+M:ke,Ke=Ke>0?Ke+E+M:Ke,{top:Xe,bottom:Oe,left:Ke,right:ke}}function Ct(Je,Xe){var Oe=(0,d.kv)(Je.nodes,function(et){return et.column}),ke=we-Ae,Ke=Ce-De,Ie=ke+Xe.right+Xe.left,pe=Ke+Xe.top+Xe.bottom,Te=ke/Ie,Ue=Ke/pe;return Ae=Ae*Te+Xe.left,we=Xe.right==0?we:we*Te,De=De*Ue+Xe.top,Ce=Ce*Ue,Je.nodes.forEach(function(et){et.x0=Ae+et.column*((we-Ae-be)/Oe),et.x1=et.x0+be}),Ue}function at(Je){var Xe,Oe,ke;for(Xe=Je.nodes,Oe=[],ke=0;Xe.length;++ke,Xe=Oe,Oe=[])Xe.forEach(function(Ke){Ke.depth=ke,Ke.sourceLinks.forEach(function(Ie){Oe.indexOf(Ie.target)<0&&!Ie.circular&&Oe.push(Ie.target)})});for(Xe=Je.nodes,Oe=[],ke=0;Xe.length;++ke,Xe=Oe,Oe=[])Xe.forEach(function(Ke){Ke.height=ke,Ke.targetLinks.forEach(function(Ie){Oe.indexOf(Ie.source)<0&&!Ie.circular&&Oe.push(Ie.source)})});Je.nodes.forEach(function(Ke){Ke.column=Math.floor(Ge.call(null,Ke,ke))})}function ze(Je,Xe,Oe){var ke=(0,C.UJ)().key(function(et){return et.column}).sortKeys(d.XE).entries(Je.nodes).map(function(et){return et.values});pe(Oe),Ue();for(var Ke=1,Ie=Xe;Ie>0;--Ie)Te(Ke*=.99,Oe),Ue();function pe(et){if(ct){var st=1/0;ke.forEach(function(St){var Rt=Ce*ct/(St.length+1);st=Rt<st?Rt:st}),Pe=st}var lt=(0,d.SY)(ke,function(St){return(Ce-De-(St.length-1)*Pe)/(0,d.oh)(St,h)});lt=lt*s,Je.links.forEach(function(St){St.width=St.value*lt});var jt=Tt(Je),Jt=Ct(Je,jt);lt=lt*Jt,Je.links.forEach(function(St){St.width=St.value*lt}),ke.forEach(function(St){var Rt=St.length;St.forEach(function($t,Pr){$t.depth==ke.length-1&&Rt==1||$t.depth==0&&Rt==1?($t.y0=Ce/2-$t.value*lt,$t.y1=$t.y0+$t.value*lt):$t.partOfCycle?k($t,et)==0?($t.y0=Ce/2+Pr,$t.y1=$t.y0+$t.value*lt):$t.circularLinkType=="top"?($t.y0=De+Pr,$t.y1=$t.y0+$t.value*lt):($t.y0=Ce-$t.value*lt-Pr,$t.y1=$t.y0+$t.value*lt):jt.top==0||jt.bottom==0?($t.y0=(Ce-De)/Rt*Pr,$t.y1=$t.y0+$t.value*lt):($t.y0=(Ce-De)/2-Rt/2+Pr,$t.y1=$t.y0+$t.value*lt)})})}function Te(et,st){var lt=ke.length;ke.forEach(function(jt){var Jt=jt.length,St=jt[0].depth;jt.forEach(function(Rt){var $t;if((Rt.sourceLinks.length||Rt.targetLinks.length)&&!(Rt.partOfCycle&&k(Rt,st)>0))if(St==0&&Jt==1)$t=Rt.y1-Rt.y0,Rt.y0=Ce/2-$t/2,Rt.y1=Ce/2+$t/2;else if(St==lt-1&&Jt==1)$t=Rt.y1-Rt.y0,Rt.y0=Ce/2-$t/2,Rt.y1=Ce/2+$t/2;else{var Pr=0,xt=(0,d.mo)(Rt.sourceLinks,o),qt=(0,d.mo)(Rt.targetLinks,c);xt&&qt?Pr=(xt+qt)/2:Pr=xt||qt;var nr=(Pr-T(Rt))*et;Rt.y0+=nr,Rt.y1+=nr}})})}function Ue(){ke.forEach(function(et){var st,lt,jt=De,Jt=et.length,St;for(et.sort(m),St=0;St<Jt;++St)st=et[St],lt=jt-st.y0,lt>0&&(st.y0+=lt,st.y1+=lt),jt=st.y1+Pe;if(lt=jt-Pe-Ce,lt>0)for(jt=st.y0-=lt,st.y1-=lt,St=Jt-2;St>=0;--St)st=et[St],lt=st.y1+Pe-jt,lt>0&&(st.y0-=lt,st.y1-=lt),jt=st.y0})}}function je(Je){Je.nodes.forEach(function(Xe){Xe.sourceLinks.sort(l),Xe.targetLinks.sort(f)}),Je.nodes.forEach(function(Xe){var Oe=Xe.y0,ke=Oe,Ke=Xe.y1,Ie=Ke;Xe.sourceLinks.forEach(function(pe){pe.circular?(pe.y0=Ke-pe.width/2,Ke=Ke-pe.width):(pe.y0=Oe+pe.width/2,Oe+=pe.width)}),Xe.targetLinks.forEach(function(pe){pe.circular?(pe.y1=Ie-pe.width/2,Ie=Ie-pe.width):(pe.y1=ke+pe.width/2,ke+=pe.width)})})}return dt}function b(Ae,De,we){var Ce=0;if(we===null){for(var be=[],Pe=0;Pe<Ae.links.length;Pe++){var Ve=Ae.links[Pe],Ge=Ve.source.index,Fe=Ve.target.index;be[Ge]||(be[Ge]=[]),be[Fe]||(be[Fe]=[]),be[Ge].indexOf(Fe)===-1&&be[Ge].push(Fe)}var He=w()(be);He.sort(function(nt,dt){return nt.length-dt.length});var ft={};for(Pe=0;Pe<He.length;Pe++){var gt=He[Pe],ct=gt.slice(-2);ft[ct[0]]||(ft[ct[0]]={}),ft[ct[0]][ct[1]]=!0}Ae.links.forEach(function(nt){var dt=nt.target.index,pt=nt.source.index;dt===pt||ft[pt]&&ft[pt][dt]?(nt.circular=!0,nt.circularLinkID=Ce,Ce=Ce+1):nt.circular=!1})}else Ae.links.forEach(function(nt){nt.source[we]<nt.target[we]?nt.circular=!1:(nt.circular=!0,nt.circularLinkID=Ce,Ce=Ce+1)})}function I(Ae,De){var we=0,Ce=0;Ae.links.forEach(function(be){be.circular&&(be.source.circularLinkType||be.target.circularLinkType?be.circularLinkType=be.source.circularLinkType?be.source.circularLinkType:be.target.circularLinkType:be.circularLinkType=we<Ce?"top":"bottom",be.circularLinkType=="top"?we=we+1:Ce=Ce+1,Ae.nodes.forEach(function(Pe){(y(Pe,De)==y(be.source,De)||y(Pe,De)==y(be.target,De))&&(Pe.circularLinkType=be.circularLinkType)}))}),Ae.links.forEach(function(be){be.circular&&(be.source.circularLinkType==be.target.circularLinkType&&(be.circularLinkType=be.source.circularLinkType),xe(be,De)&&(be.circularLinkType=be.source.circularLinkType))})}function D(Ae){var De=Math.abs(Ae.y1-Ae.y0),we=Math.abs(Ae.target.x0-Ae.source.x1);return Math.atan(we/De)}function B(Ae,De){return Ae.source.column<De.target.column?!1:!(Ae.target.column>De.source.column)}function k(Ae,De){var we=0;Ae.sourceLinks.forEach(function(be){we=be.circular&&!xe(be,De)?we+1:we});var Ce=0;return Ae.targetLinks.forEach(function(be){Ce=be.circular&&!xe(be,De)?Ce+1:Ce}),we+Ce}function F(Ae){var De=Ae.source.sourceLinks,we=0;De.forEach(function(Pe){we=Pe.circular?we+1:we});var Ce=Ae.target.targetLinks,be=0;return Ce.forEach(function(Pe){be=Pe.circular?be+1:be}),!(we>1||be>1)}function N(Ae,De,we){return Ae.sort(X),Ae.forEach(function(Ce,be){var Pe=0;if(xe(Ce,we)&&F(Ce))Ce.circularPathData.verticalBuffer=Pe+Ce.width/2;else{var Ve=0;for(Ve;Ve<be;Ve++)if(B(Ae[be],Ae[Ve])){var Ge=Ae[Ve].circularPathData.verticalBuffer+Ae[Ve].width/2+De;Pe=Ge>Pe?Ge:Pe}Ce.circularPathData.verticalBuffer=Pe+Ce.width/2}}),Ae}function O(Ae,De,we,Ce){var be=5,Pe=(0,d.SY)(Ae.links,function(Fe){return Fe.source.y0});Ae.links.forEach(function(Fe){Fe.circular&&(Fe.circularPathData={})});var Ve=Ae.links.filter(function(Fe){return Fe.circularLinkType=="top"});N(Ve,De,Ce);var Ge=Ae.links.filter(function(Fe){return Fe.circularLinkType=="bottom"});N(Ge,De,Ce),Ae.links.forEach(function(Fe){if(Fe.circular){if(Fe.circularPathData.arcRadius=Fe.width+M,Fe.circularPathData.leftNodeBuffer=be,Fe.circularPathData.rightNodeBuffer=be,Fe.circularPathData.sourceWidth=Fe.source.x1-Fe.source.x0,Fe.circularPathData.sourceX=Fe.source.x0+Fe.circularPathData.sourceWidth,Fe.circularPathData.targetX=Fe.target.x0,Fe.circularPathData.sourceY=Fe.y0,Fe.circularPathData.targetY=Fe.y1,xe(Fe,Ce)&&F(Fe))Fe.circularPathData.leftSmallArcRadius=M+Fe.width/2,Fe.circularPathData.leftLargeArcRadius=M+Fe.width/2,Fe.circularPathData.rightSmallArcRadius=M+Fe.width/2,Fe.circularPathData.rightLargeArcRadius=M+Fe.width/2,Fe.circularLinkType=="bottom"?(Fe.circularPathData.verticalFullExtent=Fe.source.y1+E+Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.rightLargeArcRadius):(Fe.circularPathData.verticalFullExtent=Fe.source.y0-E-Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.rightLargeArcRadius);else{var He=Fe.source.column,ft=Fe.circularLinkType,gt=Ae.links.filter(function(dt){return dt.source.column==He&&dt.circularLinkType==ft});Fe.circularLinkType=="bottom"?gt.sort(ne):gt.sort(ee);var ct=0;gt.forEach(function(dt,pt){dt.circularLinkID==Fe.circularLinkID&&(Fe.circularPathData.leftSmallArcRadius=M+Fe.width/2+ct,Fe.circularPathData.leftLargeArcRadius=M+Fe.width/2+pt*De+ct),ct=ct+dt.width}),He=Fe.target.column,gt=Ae.links.filter(function(dt){return dt.target.column==He&&dt.circularLinkType==ft}),Fe.circularLinkType=="bottom"?gt.sort(se):gt.sort(q),ct=0,gt.forEach(function(dt,pt){dt.circularLinkID==Fe.circularLinkID&&(Fe.circularPathData.rightSmallArcRadius=M+Fe.width/2+ct,Fe.circularPathData.rightLargeArcRadius=M+Fe.width/2+pt*De+ct),ct=ct+dt.width}),Fe.circularLinkType=="bottom"?(Fe.circularPathData.verticalFullExtent=Math.max(we,Fe.source.y1,Fe.target.y1)+E+Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.rightLargeArcRadius):(Fe.circularPathData.verticalFullExtent=Pe-E-Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.rightLargeArcRadius)}Fe.circularPathData.leftInnerExtent=Fe.circularPathData.sourceX+Fe.circularPathData.leftNodeBuffer,Fe.circularPathData.rightInnerExtent=Fe.circularPathData.targetX-Fe.circularPathData.rightNodeBuffer,Fe.circularPathData.leftFullExtent=Fe.circularPathData.sourceX+Fe.circularPathData.leftLargeArcRadius+Fe.circularPathData.leftNodeBuffer,Fe.circularPathData.rightFullExtent=Fe.circularPathData.targetX-Fe.circularPathData.rightLargeArcRadius-Fe.circularPathData.rightNodeBuffer}if(Fe.circular)Fe.path=V(Fe);else{var nt=(0,n.ak)().source(function(dt){var pt=dt.source.x0+(dt.source.x1-dt.source.x0),wt=dt.y0;return[pt,wt]}).target(function(dt){var pt=dt.target.x0,wt=dt.y1;return[pt,wt]});Fe.path=nt(Fe)}})}function V(Ae){var De="";return Ae.circularLinkType=="top"?De="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:De="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY,De}function X(Ae,De){return J(Ae)==J(De)?Ae.circularLinkType=="bottom"?ne(Ae,De):ee(Ae,De):J(De)-J(Ae)}function ee(Ae,De){return Ae.y0-De.y0}function ne(Ae,De){return De.y0-Ae.y0}function q(Ae,De){return Ae.y1-De.y1}function se(Ae,De){return De.y1-Ae.y1}function J(Ae){return Ae.target.column-Ae.source.column}function Z(Ae){return Ae.target.x0-Ae.source.x1}function te(Ae,De){var we=D(Ae),Ce=Z(De)/Math.tan(we),be=he(Ae)=="up"?Ae.y1+Ce:Ae.y1-Ce;return be}function Y(Ae,De){var we=D(Ae),Ce=Z(De)/Math.tan(we),be=he(Ae)=="up"?Ae.y1-Ce:Ae.y1+Ce;return be}function ie(Ae,De,we,Ce){Ae.links.forEach(function(be){if(!be.circular&&be.target.column-be.source.column>1){var Pe=be.source.column+1,Ve=be.target.column-1,Ge=1,Fe=Ve-Pe+1;for(Ge=1;Pe<=Ve;Pe++,Ge++)Ae.nodes.forEach(function(He){if(He.column==Pe){var ft=Ge/(Fe+1),gt=Math.pow(1-ft,3),ct=3*ft*Math.pow(1-ft,2),nt=3*Math.pow(ft,2)*(1-ft),dt=Math.pow(ft,3),pt=gt*be.y0+ct*be.y0+nt*be.y1+dt*be.y1,wt=pt-be.width/2,Tt=pt+be.width/2,Ct;wt>He.y0&&wt<He.y1?(Ct=He.y1-wt+10,Ct=He.circularLinkType=="bottom"?Ct:-Ct,He=j(He,Ct,De,we),Ae.nodes.forEach(function(at){y(at,Ce)==y(He,Ce)||at.column!=He.column||le(He,at)&&j(at,Ct,De,we)})):Tt>He.y0&&Tt<He.y1?(Ct=Tt-He.y0+10,He=j(He,Ct,De,we),Ae.nodes.forEach(function(at){y(at,Ce)==y(He,Ce)||at.column!=He.column||at.y0<He.y1&&at.y1>He.y1&&j(at,Ct,De,we)})):wt<He.y0&&Tt>He.y1&&(Ct=Tt-He.y0+10,He=j(He,Ct,De,we),Ae.nodes.forEach(function(at){y(at,Ce)==y(He,Ce)||at.column!=He.column||at.y0<He.y1&&at.y1>He.y1&&j(at,Ct,De,we)}))}})}})}function le(Ae,De){return Ae.y0>De.y0&&Ae.y0<De.y1||Ae.y1>De.y0&&Ae.y1<De.y1?!0:Ae.y0<De.y0&&Ae.y1>De.y1}function j(Ae,De,we,Ce){return Ae.y0+De>=we&&Ae.y1+De<=Ce&&(Ae.y0=Ae.y0+De,Ae.y1=Ae.y1+De,Ae.targetLinks.forEach(function(be){be.y1=be.y1+De}),Ae.sourceLinks.forEach(function(be){be.y0=be.y0+De})),Ae}function K(Ae,De,we,Ce){Ae.nodes.forEach(function(be){Ce&&be.y+(be.y1-be.y0)>De&&(be.y=be.y-(be.y+(be.y1-be.y0)-De));var Pe=Ae.links.filter(function(Fe){return y(Fe.source,we)==y(be,we)}),Ve=Pe.length;Ve>1&&Pe.sort(function(Fe,He){if(!Fe.circular&&!He.circular){if(Fe.target.column==He.target.column)return Fe.y1-He.y1;if(ae(Fe,He)){if(Fe.target.column>He.target.column){var ft=Y(He,Fe);return Fe.y1-ft}if(He.target.column>Fe.target.column){var gt=Y(Fe,He);return gt-He.y1}}else return Fe.y1-He.y1}if(Fe.circular&&!He.circular)return Fe.circularLinkType=="top"?-1:1;if(He.circular&&!Fe.circular)return He.circularLinkType=="top"?1:-1;if(Fe.circular&&He.circular)return Fe.circularLinkType===He.circularLinkType&&Fe.circularLinkType=="top"?Fe.target.column===He.target.column?Fe.target.y1-He.target.y1:He.target.column-Fe.target.column:Fe.circularLinkType===He.circularLinkType&&Fe.circularLinkType=="bottom"?Fe.target.column===He.target.column?He.target.y1-Fe.target.y1:Fe.target.column-He.target.column:Fe.circularLinkType=="top"?-1:1});var Ge=be.y0;Pe.forEach(function(Fe){Fe.y0=Ge+Fe.width/2,Ge=Ge+Fe.width}),Pe.forEach(function(Fe,He){if(Fe.circularLinkType=="bottom"){var ft=He+1,gt=0;for(ft;ft<Ve;ft++)gt=gt+Pe[ft].width;Fe.y0=be.y1-gt-Fe.width/2}})})}function ue(Ae,De,we){Ae.nodes.forEach(function(Ce){var be=Ae.links.filter(function(Ge){return y(Ge.target,we)==y(Ce,we)}),Pe=be.length;Pe>1&&be.sort(function(Ge,Fe){if(!Ge.circular&&!Fe.circular){if(Ge.source.column==Fe.source.column)return Ge.y0-Fe.y0;if(ae(Ge,Fe)){if(Fe.source.column<Ge.source.column){var He=te(Fe,Ge);return Ge.y0-He}if(Ge.source.column<Fe.source.column){var ft=te(Ge,Fe);return ft-Fe.y0}}else return Ge.y0-Fe.y0}if(Ge.circular&&!Fe.circular)return Ge.circularLinkType=="top"?-1:1;if(Fe.circular&&!Ge.circular)return Fe.circularLinkType=="top"?1:-1;if(Ge.circular&&Fe.circular)return Ge.circularLinkType===Fe.circularLinkType&&Ge.circularLinkType=="top"?Ge.source.column===Fe.source.column?Ge.source.y1-Fe.source.y1:Ge.source.column-Fe.source.column:Ge.circularLinkType===Fe.circularLinkType&&Ge.circularLinkType=="bottom"?Ge.source.column===Fe.source.column?Ge.source.y1-Fe.source.y1:Fe.source.column-Ge.source.column:Ge.circularLinkType=="top"?-1:1});var Ve=Ce.y0;be.forEach(function(Ge){Ge.y1=Ve+Ge.width/2,Ve=Ve+Ge.width}),be.forEach(function(Ge,Fe){if(Ge.circularLinkType=="bottom"){var He=Fe+1,ft=0;for(He;He<Pe;He++)ft=ft+be[He].width;Ge.y1=Ce.y1-ft-Ge.width/2}})})}function ae(Ae,De){return he(Ae)==he(De)}function he(Ae){return Ae.y0-Ae.y1>0?"up":"down"}function xe(Ae,De){return y(Ae.source,De)==y(Ae.target,De)}function Se(Ae,De,we){var Ce=Ae.nodes,be=Ae.links,Pe=!1,Ve=!1;if(be.forEach(function(ct){ct.circularLinkType=="top"?Pe=!0:ct.circularLinkType=="bottom"&&(Ve=!0)}),Pe==!1||Ve==!1){var Ge=(0,d.SY)(Ce,function(ct){return ct.y0}),Fe=(0,d.kv)(Ce,function(ct){return ct.y1}),He=Fe-Ge,ft=we-De,gt=ft/He;Ce.forEach(function(ct){var nt=(ct.y1-ct.y0)*gt;ct.y0=(ct.y0-Ge)*gt,ct.y1=ct.y0+nt}),be.forEach(function(ct){ct.y0=(ct.y0-Ge)*gt,ct.y1=(ct.y1-Ge)*gt,ct.width=ct.width*gt})}}},26800:function(H,U,e){e.r(U),e.d(U,{sankey:function(){return p},sankeyCenter:function(){return g},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return y},sankeyRight:function(){return w}});var d=e(84706),C=e(34712);function n(E){return E.target.depth}function L(E){return E.depth}function w(E,M){return M-1-E.height}function v(E,M){return E.sourceLinks.length?E.depth:M-1}function g(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,d.SY)(E.sourceLinks,n)-1:0}function r(E){return function(){return E}}function t(E,M){return a(E.source,M.source)||E.index-M.index}function i(E,M){return a(E.target,M.target)||E.index-M.index}function a(E,M){return E.y0-M.y0}function u(E){return E.value}function f(E){return(E.y0+E.y1)/2}function l(E){return f(E.source)*E.value}function m(E){return f(E.target)*E.value}function h(E){return E.index}function T(E){return E.nodes}function c(E){return E.links}function o(E,M){var s=E.get(M);if(!s)throw new Error("missing: "+M);return s}function p(){var E=0,M=0,s=1,S=1,b=24,I=8,D=h,B=v,k=T,F=c,N=32,O=2/3;function V(){var J={nodes:k.apply(null,arguments),links:F.apply(null,arguments)};return X(J),ee(J),ne(J),q(J),se(J),J}V.update=function(J){return se(J),J},V.nodeId=function(J){return arguments.length?(D=typeof J=="function"?J:r(J),V):D},V.nodeAlign=function(J){return arguments.length?(B=typeof J=="function"?J:r(J),V):B},V.nodeWidth=function(J){return arguments.length?(b=+J,V):b},V.nodePadding=function(J){return arguments.length?(I=+J,V):I},V.nodes=function(J){return arguments.length?(k=typeof J=="function"?J:r(J),V):k},V.links=function(J){return arguments.length?(F=typeof J=="function"?J:r(J),V):F},V.size=function(J){return arguments.length?(E=M=0,s=+J[0],S=+J[1],V):[s-E,S-M]},V.extent=function(J){return arguments.length?(E=+J[0][0],s=+J[1][0],M=+J[0][1],S=+J[1][1],V):[[E,M],[s,S]]},V.iterations=function(J){return arguments.length?(N=+J,V):N};function X(J){J.nodes.forEach(function(te,Y){te.index=Y,te.sourceLinks=[],te.targetLinks=[]});var Z=(0,C.kH)(J.nodes,D);J.links.forEach(function(te,Y){te.index=Y;var ie=te.source,le=te.target;typeof ie!="object"&&(ie=te.source=o(Z,ie)),typeof le!="object"&&(le=te.target=o(Z,le)),ie.sourceLinks.push(te),le.targetLinks.push(te)})}function ee(J){J.nodes.forEach(function(Z){Z.value=Math.max((0,d.oh)(Z.sourceLinks,u),(0,d.oh)(Z.targetLinks,u))})}function ne(J){var Z,te,Y;for(Z=J.nodes,te=[],Y=0;Z.length;++Y,Z=te,te=[])Z.forEach(function(le){le.depth=Y,le.sourceLinks.forEach(function(j){te.indexOf(j.target)<0&&te.push(j.target)})});for(Z=J.nodes,te=[],Y=0;Z.length;++Y,Z=te,te=[])Z.forEach(function(le){le.height=Y,le.targetLinks.forEach(function(j){te.indexOf(j.source)<0&&te.push(j.source)})});var ie=(s-E-b)/(Y-1);J.nodes.forEach(function(le){le.x1=(le.x0=E+Math.max(0,Math.min(Y-1,Math.floor(B.call(null,le,Y))))*ie)+b})}function q(J){var Z=(0,C.UJ)().key(function(ue){return ue.x0}).sortKeys(d.XE).entries(J.nodes).map(function(ue){return ue.values});ie(),K();for(var te=1,Y=N;Y>0;--Y)j(te*=.99),K(),le(te),K();function ie(){var ue=(0,d.kv)(Z,function(xe){return xe.length}),ae=O*(S-M)/(ue-1);I>ae&&(I=ae);var he=(0,d.SY)(Z,function(xe){return(S-M-(xe.length-1)*I)/(0,d.oh)(xe,u)});Z.forEach(function(xe){xe.forEach(function(Se,Ae){Se.y1=(Se.y0=Ae)+Se.value*he})}),J.links.forEach(function(xe){xe.width=xe.value*he})}function le(ue){Z.forEach(function(ae){ae.forEach(function(he){if(he.targetLinks.length){var xe=((0,d.oh)(he.targetLinks,l)/(0,d.oh)(he.targetLinks,u)-f(he))*ue;he.y0+=xe,he.y1+=xe}})})}function j(ue){Z.slice().reverse().forEach(function(ae){ae.forEach(function(he){if(he.sourceLinks.length){var xe=((0,d.oh)(he.sourceLinks,m)/(0,d.oh)(he.sourceLinks,u)-f(he))*ue;he.y0+=xe,he.y1+=xe}})})}function K(){Z.forEach(function(ue){var ae,he,xe=M,Se=ue.length,Ae;for(ue.sort(a),Ae=0;Ae<Se;++Ae)ae=ue[Ae],he=xe-ae.y0,he>0&&(ae.y0+=he,ae.y1+=he),xe=ae.y1+I;if(he=xe-I-S,he>0)for(xe=ae.y0-=he,ae.y1-=he,Ae=Se-2;Ae>=0;--Ae)ae=ue[Ae],he=ae.y1+I-xe,he>0&&(ae.y0-=he,ae.y1-=he),xe=ae.y0})}}function se(J){J.nodes.forEach(function(Z){Z.sourceLinks.sort(i),Z.targetLinks.sort(t)}),J.nodes.forEach(function(Z){var te=Z.y0,Y=te;Z.sourceLinks.forEach(function(ie){ie.y0=te+ie.width/2,te+=ie.width}),Z.targetLinks.forEach(function(ie){ie.y1=Y+ie.width/2,Y+=ie.width})})}return V}var x=e(10132);function A(E){return[E.source.x1,E.y0]}function _(E){return[E.target.x0,E.y1]}function y(){return(0,x.ak)().source(A).target(_)}},33428:function(H,U,e){var d,C;(function(){var n={version:"3.8.0"},L=[].slice,w=function(ce){return L.call(ce)},v=self.document;function g(ce){return ce&&(ce.ownerDocument||ce.document||ce).documentElement}function r(ce){return ce&&(ce.ownerDocument&&ce.ownerDocument.defaultView||ce.document&&ce||ce.defaultView)}if(v)try{w(v.documentElement.childNodes)[0].nodeType}catch{w=function(_e){for(var Be=_e.length,tt=new Array(Be);Be--;)tt[Be]=_e[Be];return tt}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,i=t.setAttribute,a=t.setAttributeNS,u=this.CSSStyleDeclaration.prototype,f=u.setProperty;t.setAttribute=function(_e,Be){i.call(this,_e,Be+"")},t.setAttributeNS=function(_e,Be,tt){a.call(this,_e,Be,tt+"")},u.setProperty=function(_e,Be,tt){f.call(this,_e,Be+"",tt)}}n.ascending=l;function l(ce,_e){return ce<_e?-1:ce>_e?1:ce>=_e?0:NaN}n.descending=function(ce,_e){return _e<ce?-1:_e>ce?1:_e>=ce?0:NaN},n.min=function(ce,_e){var Be=-1,tt=ce.length,it,ht;if(arguments.length===1){for(;++Be<tt;)if((ht=ce[Be])!=null&&ht>=ht){it=ht;break}for(;++Be<tt;)(ht=ce[Be])!=null&&it>ht&&(it=ht)}else{for(;++Be<tt;)if((ht=_e.call(ce,ce[Be],Be))!=null&&ht>=ht){it=ht;break}for(;++Be<tt;)(ht=_e.call(ce,ce[Be],Be))!=null&&it>ht&&(it=ht)}return it},n.max=function(ce,_e){var Be=-1,tt=ce.length,it,ht;if(arguments.length===1){for(;++Be<tt;)if((ht=ce[Be])!=null&&ht>=ht){it=ht;break}for(;++Be<tt;)(ht=ce[Be])!=null&&ht>it&&(it=ht)}else{for(;++Be<tt;)if((ht=_e.call(ce,ce[Be],Be))!=null&&ht>=ht){it=ht;break}for(;++Be<tt;)(ht=_e.call(ce,ce[Be],Be))!=null&&ht>it&&(it=ht)}return it},n.extent=function(ce,_e){var Be=-1,tt=ce.length,it,ht,Dt;if(arguments.length===1){for(;++Be<tt;)if((ht=ce[Be])!=null&&ht>=ht){it=Dt=ht;break}for(;++Be<tt;)(ht=ce[Be])!=null&&(it>ht&&(it=ht),Dt<ht&&(Dt=ht))}else{for(;++Be<tt;)if((ht=_e.call(ce,ce[Be],Be))!=null&&ht>=ht){it=Dt=ht;break}for(;++Be<tt;)(ht=_e.call(ce,ce[Be],Be))!=null&&(it>ht&&(it=ht),Dt<ht&&(Dt=ht))}return[it,Dt]};function m(ce){return ce===null?NaN:+ce}function h(ce){return!isNaN(ce)}n.sum=function(ce,_e){var Be=0,tt=ce.length,it,ht=-1;if(arguments.length===1)for(;++ht<tt;)h(it=+ce[ht])&&(Be+=it);else for(;++ht<tt;)h(it=+_e.call(ce,ce[ht],ht))&&(Be+=it);return Be},n.mean=function(ce,_e){var Be=0,tt=ce.length,it,ht=-1,Dt=tt;if(arguments.length===1)for(;++ht<tt;)h(it=m(ce[ht]))?Be+=it:--Dt;else for(;++ht<tt;)h(it=m(_e.call(ce,ce[ht],ht)))?Be+=it:--Dt;if(Dt)return Be/Dt},n.quantile=function(ce,_e){var Be=(ce.length-1)*_e+1,tt=Math.floor(Be),it=+ce[tt-1],ht=Be-tt;return ht?it+ht*(ce[tt]-it):it},n.median=function(ce,_e){var Be=[],tt=ce.length,it,ht=-1;if(arguments.length===1)for(;++ht<tt;)h(it=m(ce[ht]))&&Be.push(it);else for(;++ht<tt;)h(it=m(_e.call(ce,ce[ht],ht)))&&Be.push(it);if(Be.length)return n.quantile(Be.sort(l),.5)},n.variance=function(ce,_e){var Be=ce.length,tt=0,it,ht,Dt=0,Et=-1,Yt=0;if(arguments.length===1)for(;++Et<Be;)h(it=m(ce[Et]))&&(ht=it-tt,tt+=ht/++Yt,Dt+=ht*(it-tt));else for(;++Et<Be;)h(it=m(_e.call(ce,ce[Et],Et)))&&(ht=it-tt,tt+=ht/++Yt,Dt+=ht*(it-tt));if(Yt>1)return Dt/(Yt-1)},n.deviation=function(){var ce=n.variance.apply(this,arguments);return ce&&Math.sqrt(ce)};function T(ce){return{left:function(_e,Be,tt,it){for(arguments.length<3&&(tt=0),arguments.length<4&&(it=_e.length);tt<it;){var ht=tt+it>>>1;ce(_e[ht],Be)<0?tt=ht+1:it=ht}return tt},right:function(_e,Be,tt,it){for(arguments.length<3&&(tt=0),arguments.length<4&&(it=_e.length);tt<it;){var ht=tt+it>>>1;ce(_e[ht],Be)>0?it=ht:tt=ht+1}return tt}}}var c=T(l);n.bisectLeft=c.left,n.bisect=n.bisectRight=c.right,n.bisector=function(ce){return T(ce.length===1?function(_e,Be){return l(ce(_e),Be)}:ce)},n.shuffle=function(ce,_e,Be){(tt=arguments.length)<3&&(Be=ce.length,tt<2&&(_e=0));for(var tt=Be-_e,it,ht;tt;)ht=Math.random()*tt--|0,it=ce[tt+_e],ce[tt+_e]=ce[ht+_e],ce[ht+_e]=it;return ce},n.permute=function(ce,_e){for(var Be=_e.length,tt=new Array(Be);Be--;)tt[Be]=ce[_e[Be]];return tt},n.pairs=function(ce){for(var _e=0,Be=ce.length-1,tt=ce[0],it=new Array(Be<0?0:Be);_e<Be;)it[_e]=[tt,tt=ce[++_e]];return it},n.transpose=function(ce){if(!(ht=ce.length))return[];for(var _e=-1,Be=n.min(ce,o),tt=new Array(Be);++_e<Be;)for(var it=-1,ht,Dt=tt[_e]=new Array(ht);++it<ht;)Dt[it]=ce[it][_e];return tt};function o(ce){return ce.length}n.zip=function(){return n.transpose(arguments)},n.keys=function(ce){var _e=[];for(var Be in ce)_e.push(Be);return _e},n.values=function(ce){var _e=[];for(var Be in ce)_e.push(ce[Be]);return _e},n.entries=function(ce){var _e=[];for(var Be in ce)_e.push({key:Be,value:ce[Be]});return _e},n.merge=function(ce){for(var _e=ce.length,Be,tt=-1,it=0,ht,Dt;++tt<_e;)it+=ce[tt].length;for(ht=new Array(it);--_e>=0;)for(Dt=ce[_e],Be=Dt.length;--Be>=0;)ht[--it]=Dt[Be];return ht};var p=Math.abs;n.range=function(ce,_e,Be){if(arguments.length<3&&(Be=1,arguments.length<2&&(_e=ce,ce=0)),(_e-ce)/Be===1/0)throw new Error("infinite range");var tt=[],it=x(p(Be)),ht=-1,Dt;if(ce*=it,_e*=it,Be*=it,Be<0)for(;(Dt=ce+Be*++ht)>_e;)tt.push(Dt/it);else for(;(Dt=ce+Be*++ht)<_e;)tt.push(Dt/it);return tt};function x(ce){for(var _e=1;ce*_e%1;)_e*=10;return _e}function A(ce,_e){for(var Be in _e)Object.defineProperty(ce.prototype,Be,{value:_e[Be],enumerable:!1})}n.map=function(ce,_e){var Be=new _;if(ce instanceof _)ce.forEach(function(Et,Yt){Be.set(Et,Yt)});else if(Array.isArray(ce)){var tt=-1,it=ce.length,ht;if(arguments.length===1)for(;++tt<it;)Be.set(tt,ce[tt]);else for(;++tt<it;)Be.set(_e.call(ce,ht=ce[tt],tt),ht)}else for(var Dt in ce)Be.set(Dt,ce[Dt]);return Be};function _(){this._=Object.create(null)}var y="__proto__",E="\0";A(_,{has:S,get:function(ce){return this._[M(ce)]},set:function(ce,_e){return this._[M(ce)]=_e},remove:b,keys:I,values:function(){var ce=[];for(var _e in this._)ce.push(this._[_e]);return ce},entries:function(){var ce=[];for(var _e in this._)ce.push({key:s(_e),value:this._[_e]});return ce},size:D,empty:B,forEach:function(ce){for(var _e in this._)ce.call(this,s(_e),this._[_e])}});function M(ce){return(ce+="")===y||ce[0]===E?E+ce:ce}function s(ce){return(ce+="")[0]===E?ce.slice(1):ce}function S(ce){return M(ce)in this._}function b(ce){return(ce=M(ce))in this._&&delete this._[ce]}function I(){var ce=[];for(var _e in this._)ce.push(s(_e));return ce}function D(){var ce=0;for(var _e in this._)++ce;return ce}function B(){for(var ce in this._)return!1;return!0}n.nest=function(){var ce={},_e=[],Be=[],tt,it;function ht(Et,Yt,Zt){if(Zt>=_e.length)return it?it.call(ce,Yt):tt?Yt.sort(tt):Yt;for(var or=-1,Ir=Yt.length,kr=_e[Zt++],sn,vn,Fr,Xr=new _,an;++or<Ir;)(an=Xr.get(sn=kr(vn=Yt[or])))?an.push(vn):Xr.set(sn,[vn]);return Et?(vn=Et(),Fr=function(pn,Mn){vn.set(pn,ht(Et,Mn,Zt))}):(vn={},Fr=function(pn,Mn){vn[pn]=ht(Et,Mn,Zt)}),Xr.forEach(Fr),vn}function Dt(Et,Yt){if(Yt>=_e.length)return Et;var Zt=[],or=Be[Yt++];return Et.forEach(function(Ir,kr){Zt.push({key:Ir,values:Dt(kr,Yt)})}),or?Zt.sort(function(Ir,kr){return or(Ir.key,kr.key)}):Zt}return ce.map=function(Et,Yt){return ht(Yt,Et,0)},ce.entries=function(Et){return Dt(ht(n.map,Et,0),0)},ce.key=function(Et){return _e.push(Et),ce},ce.sortKeys=function(Et){return Be[_e.length-1]=Et,ce},ce.sortValues=function(Et){return tt=Et,ce},ce.rollup=function(Et){return it=Et,ce},ce},n.set=function(ce){var _e=new k;if(ce)for(var Be=0,tt=ce.length;Be<tt;++Be)_e.add(ce[Be]);return _e};function k(){this._=Object.create(null)}A(k,{has:S,add:function(ce){return this._[M(ce+="")]=!0,ce},remove:b,values:I,size:D,empty:B,forEach:function(ce){for(var _e in this._)ce.call(this,s(_e))}}),n.behavior={};function F(ce){return ce}n.rebind=function(ce,_e){for(var Be=1,tt=arguments.length,it;++Be<tt;)ce[it=arguments[Be]]=N(ce,_e,_e[it]);return ce};function N(ce,_e,Be){return function(){var tt=Be.apply(_e,arguments);return tt===_e?ce:tt}}function O(ce,_e){if(_e in ce)return _e;_e=_e.charAt(0).toUpperCase()+_e.slice(1);for(var Be=0,tt=V.length;Be<tt;++Be){var it=V[Be]+_e;if(it in ce)return it}}var V=["webkit","ms","moz","Moz","o","O"];function X(){}n.dispatch=function(){for(var ce=new ee,_e=-1,Be=arguments.length;++_e<Be;)ce[arguments[_e]]=ne(ce);return ce};function ee(){}ee.prototype.on=function(ce,_e){var Be=ce.indexOf("."),tt="";if(Be>=0&&(tt=ce.slice(Be+1),ce=ce.slice(0,Be)),ce)return arguments.length<2?this[ce].on(tt):this[ce].on(tt,_e);if(arguments.length===2){if(_e==null)for(ce in this)this.hasOwnProperty(ce)&&this[ce].on(tt,null);return this}};function ne(ce){var _e=[],Be=new _;function tt(){for(var it=_e,ht=-1,Dt=it.length,Et;++ht<Dt;)(Et=it[ht].on)&&Et.apply(this,arguments);return ce}return tt.on=function(it,ht){var Dt=Be.get(it),Et;return arguments.length<2?Dt&&Dt.on:(Dt&&(Dt.on=null,_e=_e.slice(0,Et=_e.indexOf(Dt)).concat(_e.slice(Et+1)),Be.remove(it)),ht&&_e.push(Be.set(it,{on:ht})),ce)},tt}n.event=null;function q(){n.event.preventDefault()}function se(){for(var ce=n.event,_e;_e=ce.sourceEvent;)ce=_e;return ce}function J(ce){for(var _e=new ee,Be=0,tt=arguments.length;++Be<tt;)_e[arguments[Be]]=ne(_e);return _e.of=function(it,ht){return function(Dt){try{var Et=Dt.sourceEvent=n.event;Dt.target=ce,n.event=Dt,_e[Dt.type].apply(it,ht)}finally{n.event=Et}}},_e}n.requote=function(ce){return ce.replace(Z,"\\$&")};var Z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,te={}.__proto__?function(ce,_e){ce.__proto__=_e}:function(ce,_e){for(var Be in _e)ce[Be]=_e[Be]};function Y(ce){return te(ce,K),ce}var ie=function(ce,_e){return _e.querySelector(ce)},le=function(ce,_e){return _e.querySelectorAll(ce)},j=function(ce,_e){var Be=ce.matches||ce[O(ce,"matchesSelector")];return j=function(tt,it){return Be.call(tt,it)},j(ce,_e)};typeof Sizzle=="function"&&(ie=function(ce,_e){return Sizzle(ce,_e)[0]||null},le=Sizzle,j=Sizzle.matchesSelector),n.selection=function(){return n.select(v.documentElement)};var K=n.selection.prototype=[];K.select=function(ce){var _e=[],Be,tt,it,ht;ce=ue(ce);for(var Dt=-1,Et=this.length;++Dt<Et;){_e.push(Be=[]),Be.parentNode=(it=this[Dt]).parentNode;for(var Yt=-1,Zt=it.length;++Yt<Zt;)(ht=it[Yt])?(Be.push(tt=ce.call(ht,ht.__data__,Yt,Dt)),tt&&"__data__"in ht&&(tt.__data__=ht.__data__)):Be.push(null)}return Y(_e)};function ue(ce){return typeof ce=="function"?ce:function(){return ie(ce,this)}}K.selectAll=function(ce){var _e=[],Be,tt;ce=ae(ce);for(var it=-1,ht=this.length;++it<ht;)for(var Dt=this[it],Et=-1,Yt=Dt.length;++Et<Yt;)(tt=Dt[Et])&&(_e.push(Be=w(ce.call(tt,tt.__data__,Et,it))),Be.parentNode=tt);return Y(_e)};function ae(ce){return typeof ce=="function"?ce:function(){return le(ce,this)}}var he="http://www.w3.org/1999/xhtml",xe={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:xe,qualify:function(ce){var _e=ce.indexOf(":"),Be=ce;return _e>=0&&(Be=ce.slice(0,_e))!=="xmlns"&&(ce=ce.slice(_e+1)),xe.hasOwnProperty(Be)?{space:xe[Be],local:ce}:ce}},K.attr=function(ce,_e){if(arguments.length<2){if(typeof ce=="string"){var Be=this.node();return ce=n.ns.qualify(ce),ce.local?Be.getAttributeNS(ce.space,ce.local):Be.getAttribute(ce)}for(_e in ce)this.each(Se(_e,ce[_e]));return this}return this.each(Se(ce,_e))};function Se(ce,_e){ce=n.ns.qualify(ce);function Be(){this.removeAttribute(ce)}function tt(){this.removeAttributeNS(ce.space,ce.local)}function it(){this.setAttribute(ce,_e)}function ht(){this.setAttributeNS(ce.space,ce.local,_e)}function Dt(){var Yt=_e.apply(this,arguments);Yt==null?this.removeAttribute(ce):this.setAttribute(ce,Yt)}function Et(){var Yt=_e.apply(this,arguments);Yt==null?this.removeAttributeNS(ce.space,ce.local):this.setAttributeNS(ce.space,ce.local,Yt)}return _e==null?ce.local?tt:Be:typeof _e=="function"?ce.local?Et:Dt:ce.local?ht:it}function Ae(ce){return ce.trim().replace(/\s+/g," ")}K.classed=function(ce,_e){if(arguments.length<2){if(typeof ce=="string"){var Be=this.node(),tt=(ce=we(ce)).length,it=-1;if(_e=Be.classList){for(;++it<tt;)if(!_e.contains(ce[it]))return!1}else for(_e=Be.getAttribute("class");++it<tt;)if(!De(ce[it]).test(_e))return!1;return!0}for(_e in ce)this.each(Ce(_e,ce[_e]));return this}return this.each(Ce(ce,_e))};function De(ce){return new RegExp("(?:^|\\s+)"+n.requote(ce)+"(?:\\s+|$)","g")}function we(ce){return(ce+"").trim().split(/^|\s+/)}function Ce(ce,_e){ce=we(ce).map(be);var Be=ce.length;function tt(){for(var ht=-1;++ht<Be;)ce[ht](this,_e)}function it(){for(var ht=-1,Dt=_e.apply(this,arguments);++ht<Be;)ce[ht](this,Dt)}return typeof _e=="function"?it:tt}function be(ce){var _e=De(ce);return function(Be,tt){if(it=Be.classList)return tt?it.add(ce):it.remove(ce);var it=Be.getAttribute("class")||"";tt?(_e.lastIndex=0,_e.test(it)||Be.setAttribute("class",Ae(it+" "+ce))):Be.setAttribute("class",Ae(it.replace(_e," ")))}}K.style=function(ce,_e,Be){var tt=arguments.length;if(tt<3){if(typeof ce!="string"){tt<2&&(_e="");for(Be in ce)this.each(Pe(Be,ce[Be],_e));return this}if(tt<2){var it=this.node();return r(it).getComputedStyle(it,null).getPropertyValue(ce)}Be=""}return this.each(Pe(ce,_e,Be))};function Pe(ce,_e,Be){function tt(){this.style.removeProperty(ce)}function it(){this.style.setProperty(ce,_e,Be)}function ht(){var Dt=_e.apply(this,arguments);Dt==null?this.style.removeProperty(ce):this.style.setProperty(ce,Dt,Be)}return _e==null?tt:typeof _e=="function"?ht:it}K.property=function(ce,_e){if(arguments.length<2){if(typeof ce=="string")return this.node()[ce];for(_e in ce)this.each(Ve(_e,ce[_e]));return this}return this.each(Ve(ce,_e))};function Ve(ce,_e){function Be(){delete this[ce]}function tt(){this[ce]=_e}function it(){var ht=_e.apply(this,arguments);ht==null?delete this[ce]:this[ce]=ht}return _e==null?Be:typeof _e=="function"?it:tt}K.text=function(ce){return arguments.length?this.each(typeof ce=="function"?function(){var _e=ce.apply(this,arguments);this.textContent=_e??""}:ce==null?function(){this.textContent=""}:function(){this.textContent=ce}):this.node().textContent},K.html=function(ce){return arguments.length?this.each(typeof ce=="function"?function(){var _e=ce.apply(this,arguments);this.innerHTML=_e??""}:ce==null?function(){this.innerHTML=""}:function(){this.innerHTML=ce}):this.node().innerHTML},K.append=function(ce){return ce=Ge(ce),this.select(function(){return this.appendChild(ce.apply(this,arguments))})};function Ge(ce){function _e(){var tt=this.ownerDocument,it=this.namespaceURI;return it===he&&tt.documentElement.namespaceURI===he?tt.createElement(ce):tt.createElementNS(it,ce)}function Be(){return this.ownerDocument.createElementNS(ce.space,ce.local)}return typeof ce=="function"?ce:(ce=n.ns.qualify(ce)).local?Be:_e}K.insert=function(ce,_e){return ce=Ge(ce),_e=ue(_e),this.select(function(){return this.insertBefore(ce.apply(this,arguments),_e.apply(this,arguments)||null)})},K.remove=function(){return this.each(Fe)};function Fe(){var ce=this.parentNode;ce&&ce.removeChild(this)}K.data=function(ce,_e){var Be=-1,tt=this.length,it,ht;if(!arguments.length){for(ce=new Array(tt=(it=this[0]).length);++Be<tt;)(ht=it[Be])&&(ce[Be]=ht.__data__);return ce}function Dt(or,Ir){var kr,sn=or.length,vn=Ir.length,Fr=Math.min(sn,vn),Xr=new Array(vn),an=new Array(vn),pn=new Array(sn),Mn,fn;if(_e){var Dn=new _,va=new Array(sn),Ma;for(kr=-1;++kr<sn;)(Mn=or[kr])&&(Dn.has(Ma=_e.call(Mn,Mn.__data__,kr))?pn[kr]=Mn:Dn.set(Ma,Mn),va[kr]=Ma);for(kr=-1;++kr<vn;)(Mn=Dn.get(Ma=_e.call(Ir,fn=Ir[kr],kr)))?Mn!==!0&&(Xr[kr]=Mn,Mn.__data__=fn):an[kr]=He(fn),Dn.set(Ma,!0);for(kr=-1;++kr<sn;)kr in va&&Dn.get(va[kr])!==!0&&(pn[kr]=or[kr])}else{for(kr=-1;++kr<Fr;)Mn=or[kr],fn=Ir[kr],Mn?(Mn.__data__=fn,Xr[kr]=Mn):an[kr]=He(fn);for(;kr<vn;++kr)an[kr]=He(Ir[kr]);for(;kr<sn;++kr)pn[kr]=or[kr]}an.update=Xr,an.parentNode=Xr.parentNode=pn.parentNode=or.parentNode,Et.push(an),Yt.push(Xr),Zt.push(pn)}var Et=nt([]),Yt=Y([]),Zt=Y([]);if(typeof ce=="function")for(;++Be<tt;)Dt(it=this[Be],ce.call(it,it.parentNode.__data__,Be));else for(;++Be<tt;)Dt(it=this[Be],ce);return Yt.enter=function(){return Et},Yt.exit=function(){return Zt},Yt};function He(ce){return{__data__:ce}}K.datum=function(ce){return arguments.length?this.property("__data__",ce):this.property("__data__")},K.filter=function(ce){var _e=[],Be,tt,it;typeof ce!="function"&&(ce=ft(ce));for(var ht=0,Dt=this.length;ht<Dt;ht++){_e.push(Be=[]),Be.parentNode=(tt=this[ht]).parentNode;for(var Et=0,Yt=tt.length;Et<Yt;Et++)(it=tt[Et])&&ce.call(it,it.__data__,Et,ht)&&Be.push(it)}return Y(_e)};function ft(ce){return function(){return j(this,ce)}}K.order=function(){for(var ce=-1,_e=this.length;++ce<_e;)for(var Be=this[ce],tt=Be.length-1,it=Be[tt],ht;--tt>=0;)(ht=Be[tt])&&(it&&it!==ht.nextSibling&&it.parentNode.insertBefore(ht,it),it=ht);return this},K.sort=function(ce){ce=gt.apply(this,arguments);for(var _e=-1,Be=this.length;++_e<Be;)this[_e].sort(ce);return this.order()};function gt(ce){return arguments.length||(ce=l),function(_e,Be){return _e&&Be?ce(_e.__data__,Be.__data__):!_e-!Be}}K.each=function(ce){return ct(this,function(_e,Be,tt){ce.call(_e,_e.__data__,Be,tt)})};function ct(ce,_e){for(var Be=0,tt=ce.length;Be<tt;Be++)for(var it=ce[Be],ht=0,Dt=it.length,Et;ht<Dt;ht++)(Et=it[ht])&&_e(Et,ht,Be);return ce}K.call=function(ce){var _e=w(arguments);return ce.apply(_e[0]=this,_e),this},K.empty=function(){return!this.node()},K.node=function(){for(var ce=0,_e=this.length;ce<_e;ce++)for(var Be=this[ce],tt=0,it=Be.length;tt<it;tt++){var ht=Be[tt];if(ht)return ht}return null},K.size=function(){var ce=0;return ct(this,function(){++ce}),ce};function nt(ce){return te(ce,dt),ce}var dt=[];n.selection.enter=nt,n.selection.enter.prototype=dt,dt.append=K.append,dt.empty=K.empty,dt.node=K.node,dt.call=K.call,dt.size=K.size,dt.select=function(ce){for(var _e=[],Be,tt,it,ht,Dt,Et=-1,Yt=this.length;++Et<Yt;){it=(ht=this[Et]).update,_e.push(Be=[]),Be.parentNode=ht.parentNode;for(var Zt=-1,or=ht.length;++Zt<or;)(Dt=ht[Zt])?(Be.push(it[Zt]=tt=ce.call(ht.parentNode,Dt.__data__,Zt,Et)),tt.__data__=Dt.__data__):Be.push(null)}return Y(_e)},dt.insert=function(ce,_e){return arguments.length<2&&(_e=pt(this)),K.insert.call(this,ce,_e)};function pt(ce){var _e,Be;return function(tt,it,ht){var Dt=ce[ht].update,Et=Dt.length,Yt;for(ht!=Be&&(Be=ht,_e=0),it>=_e&&(_e=it+1);!(Yt=Dt[_e])&&++_e<Et;);return Yt}}n.select=function(ce){var _e;return typeof ce=="string"?(_e=[ie(ce,v)],_e.parentNode=v.documentElement):(_e=[ce],_e.parentNode=g(ce)),Y([_e])},n.selectAll=function(ce){var _e;return typeof ce=="string"?(_e=w(le(ce,v)),_e.parentNode=v.documentElement):(_e=w(ce),_e.parentNode=null),Y([_e])},K.on=function(ce,_e,Be){var tt=arguments.length;if(tt<3){if(typeof ce!="string"){tt<2&&(_e=!1);for(Be in ce)this.each(wt(Be,ce[Be],_e));return this}if(tt<2)return(tt=this.node()["__on"+ce])&&tt._;Be=!1}return this.each(wt(ce,_e,Be))};function wt(ce,_e,Be){var tt="__on"+ce,it=ce.indexOf("."),ht=Ct;it>0&&(ce=ce.slice(0,it));var Dt=Tt.get(ce);Dt&&(ce=Dt,ht=at);function Et(){var or=this[tt];or&&(this.removeEventListener(ce,or,or.$),delete this[tt])}function Yt(){var or=ht(_e,w(arguments));Et.call(this),this.addEventListener(ce,this[tt]=or,or.$=Be),or._=_e}function Zt(){var or=new RegExp("^__on([^.]+)"+n.requote(ce)+"$"),Ir;for(var kr in this)if(Ir=kr.match(or)){var sn=this[kr];this.removeEventListener(Ir[1],sn,sn.$),delete this[kr]}}return it?_e?Yt:Et:_e?X:Zt}var Tt=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&Tt.forEach(function(ce){"on"+ce in v&&Tt.remove(ce)});function Ct(ce,_e){return function(Be){var tt=n.event;n.event=Be,_e[0]=this.__data__;try{ce.apply(this,_e)}finally{n.event=tt}}}function at(ce,_e){var Be=Ct(ce,_e);return function(tt){var it=this,ht=tt.relatedTarget;(!ht||ht!==it&&!(ht.compareDocumentPosition(it)&8))&&Be.call(it,tt)}}var ze,je=0;function Je(ce){var _e=".dragsuppress-"+ ++je,Be="click"+_e,tt=n.select(r(ce)).on("touchmove"+_e,q).on("dragstart"+_e,q).on("selectstart"+_e,q);if(ze==null&&(ze="onselectstart"in ce?!1:O(ce.style,"userSelect")),ze){var it=g(ce).style,ht=it[ze];it[ze]="none"}return function(Dt){if(tt.on(_e,null),ze&&(it[ze]=ht),Dt){var Et=function(){tt.on(Be,null)};tt.on(Be,function(){q(),Et()},!0),setTimeout(Et,0)}}}n.mouse=function(ce){return Oe(ce,se())};var Xe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Oe(ce,_e){_e.changedTouches&&(_e=_e.changedTouches[0]);var Be=ce.ownerSVGElement||ce;if(Be.createSVGPoint){var tt=Be.createSVGPoint();if(Xe<0){var it=r(ce);if(it.scrollX||it.scrollY){Be=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ht=Be[0][0].getScreenCTM();Xe=!(ht.f||ht.e),Be.remove()}}return Xe?(tt.x=_e.pageX,tt.y=_e.pageY):(tt.x=_e.clientX,tt.y=_e.clientY),tt=tt.matrixTransform(ce.getScreenCTM().inverse()),[tt.x,tt.y]}var Dt=ce.getBoundingClientRect();return[_e.clientX-Dt.left-ce.clientLeft,_e.clientY-Dt.top-ce.clientTop]}n.touch=function(ce,_e,Be){if(arguments.length<3&&(Be=_e,_e=se().changedTouches),_e){for(var tt=0,it=_e.length,ht;tt<it;++tt)if((ht=_e[tt]).identifier===Be)return Oe(ce,ht)}},n.behavior.drag=function(){var ce=J(it,"drag","dragstart","dragend"),_e=null,Be=ht(X,n.mouse,r,"mousemove","mouseup"),tt=ht(ke,n.touch,F,"touchmove","touchend");function it(){this.on("mousedown.drag",Be).on("touchstart.drag",tt)}function ht(Dt,Et,Yt,Zt,or){return function(){var Ir=this,kr=n.event.target.correspondingElement||n.event.target,sn=Ir.parentNode,vn=ce.of(Ir,arguments),Fr=0,Xr=Dt(),an=".drag"+(Xr==null?"":"-"+Xr),pn,Mn=n.select(Yt(kr)).on(Zt+an,va).on(or+an,Ma),fn=Je(kr),Dn=Et(sn,Xr);_e?(pn=_e.apply(Ir,arguments),pn=[pn.x-Dn[0],pn.y-Dn[1]]):pn=[0,0],vn({type:"dragstart"});function va(){var fa=Et(sn,Xr),Aa,Sa;fa&&(Aa=fa[0]-Dn[0],Sa=fa[1]-Dn[1],Fr|=Aa|Sa,Dn=fa,vn({type:"drag",x:fa[0]+pn[0],y:fa[1]+pn[1],dx:Aa,dy:Sa}))}function Ma(){Et(sn,Xr)&&(Mn.on(Zt+an,null).on(or+an,null),fn(Fr),vn({type:"dragend"}))}}}return it.origin=function(Dt){return arguments.length?(_e=Dt,it):_e},n.rebind(it,ce,"on")};function ke(){return n.event.changedTouches[0].identifier}n.touches=function(ce,_e){return arguments.length<2&&(_e=se().touches),_e?w(_e).map(function(Be){var tt=Oe(ce,Be);return tt.identifier=Be.identifier,tt}):[]};var Ke=1e-6,Ie=Ke*Ke,pe=Math.PI,Te=2*pe,Ue=Te-Ke,et=pe/2,st=pe/180,lt=180/pe;function jt(ce,_e,Be){return(_e[0]-ce[0])*(Be[1]-ce[1])-(_e[1]-ce[1])*(Be[0]-ce[0])}function Jt(ce){return ce>1?et:ce<-1?-et:Math.asin(ce)}function St(ce){return((ce=Math.exp(ce))-1/ce)/2}function Rt(ce){return((ce=Math.exp(ce))+1/ce)/2}function $t(ce){return((ce=Math.exp(2*ce))-1)/(ce+1)}var Pr=Math.SQRT2,xt=2,qt=4;n.interpolateZoom=function(ce,_e){var Be=ce[0],tt=ce[1],it=ce[2],ht=_e[0],Dt=_e[1],Et=_e[2],Yt=ht-Be,Zt=Dt-tt,or=Yt*Yt+Zt*Zt,Ir,kr;if(or<Ie)kr=Math.log(Et/it)/Pr,Ir=function(pn){return[Be+pn*Yt,tt+pn*Zt,it*Math.exp(Pr*pn*kr)]};else{var sn=Math.sqrt(or),vn=(Et*Et-it*it+qt*or)/(2*it*xt*sn),Fr=(Et*Et-it*it-qt*or)/(2*Et*xt*sn),Xr=Math.log(Math.sqrt(vn*vn+1)-vn),an=Math.log(Math.sqrt(Fr*Fr+1)-Fr);kr=(an-Xr)/Pr,Ir=function(pn){var Mn=pn*kr,fn=Rt(Xr),Dn=it/(xt*sn)*(fn*$t(Pr*Mn+Xr)-St(Xr));return[Be+Dn*Yt,tt+Dn*Zt,it*fn/Rt(Pr*Mn+Xr)]}}return Ir.duration=kr*1e3,Ir},n.behavior.zoom=function(){var ce={x:0,y:0,k:1},_e,Be,tt,it=[960,500],ht=nr,Dt=250,Et=0,Yt="mousedown.zoom",Zt="mousemove.zoom",or="mouseup.zoom",Ir,kr="touchstart.zoom",sn,vn=J(Mn,"zoomstart","zoom","zoomend"),Fr,Xr,an,pn;dr||(dr="onwheel"in v?(wr=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(wr=function(){return n.event.wheelDelta},"mousewheel"):(wr=function(){return-n.event.detail},"MozMousePixelScroll"));function Mn(ca){ca.on(Yt,ti).on(dr+".zoom",Eo).on("dblclick.zoom",Oi).on(kr,Si)}Mn.event=function(ca){ca.each(function(){var $a=vn.of(this,arguments),za=ce;Br?n.select(this).transition().each("start.zoom",function(){ce=this.__chart__||{x:0,y:0,k:1},Sa($a)}).tween("zoom:zoom",function(){var wi=it[0],ao=it[1],Ei=Be?Be[0]:wi/2,Bo=Be?Be[1]:ao/2,Oo=n.interpolateZoom([(Ei-ce.x)/ce.k,(Bo-ce.y)/ce.k,wi/ce.k],[(Ei-za.x)/za.k,(Bo-za.y)/za.k,wi/za.k]);return function(Zo){var ro=Oo(Zo),jo=wi/ro[2];this.__chart__=ce={x:Ei-ro[0]*jo,y:Bo-ro[1]*jo,k:jo},ii($a)}}).each("interrupt.zoom",function(){Ia($a)}).each("end.zoom",function(){Ia($a)}):(this.__chart__=ce,Sa($a),ii($a),Ia($a))})},Mn.translate=function(ca){return arguments.length?(ce={x:+ca[0],y:+ca[1],k:ce.k},Aa(),Mn):[ce.x,ce.y]},Mn.scale=function(ca){return arguments.length?(ce={x:ce.x,y:ce.y,k:null},va(+ca),Aa(),Mn):ce.k},Mn.scaleExtent=function(ca){return arguments.length?(ht=ca==null?nr:[+ca[0],+ca[1]],Mn):ht},Mn.center=function(ca){return arguments.length?(tt=ca&&[+ca[0],+ca[1]],Mn):tt},Mn.size=function(ca){return arguments.length?(it=ca&&[+ca[0],+ca[1]],Mn):it},Mn.duration=function(ca){return arguments.length?(Dt=+ca,Mn):Dt},Mn.x=function(ca){return arguments.length?(Xr=ca,Fr=ca.copy(),ce={x:0,y:0,k:1},Mn):Xr},Mn.y=function(ca){return arguments.length?(pn=ca,an=ca.copy(),ce={x:0,y:0,k:1},Mn):pn};function fn(ca){return[(ca[0]-ce.x)/ce.k,(ca[1]-ce.y)/ce.k]}function Dn(ca){return[ca[0]*ce.k+ce.x,ca[1]*ce.k+ce.y]}function va(ca){ce.k=Math.max(ht[0],Math.min(ht[1],ca))}function Ma(ca,$a){$a=Dn($a),ce.x+=ca[0]-$a[0],ce.y+=ca[1]-$a[1]}function fa(ca,$a,za,wi){ca.__chart__={x:ce.x,y:ce.y,k:ce.k},va(Math.pow(2,wi)),Ma(Be=$a,za),ca=n.select(ca),Dt>0&&(ca=ca.transition().duration(Dt)),ca.call(Mn.event)}function Aa(){Xr&&Xr.domain(Fr.range().map(function(ca){return(ca-ce.x)/ce.k}).map(Fr.invert)),pn&&pn.domain(an.range().map(function(ca){return(ca-ce.y)/ce.k}).map(an.invert))}function Sa(ca){Et++||ca({type:"zoomstart"})}function ii(ca){Aa(),ca({type:"zoom",scale:ce.k,translate:[ce.x,ce.y]})}function Ia(ca){--Et||(ca({type:"zoomend"}),Be=null)}function ti(){var ca=this,$a=vn.of(ca,arguments),za=0,wi=n.select(r(ca)).on(Zt,Bo).on(or,Oo),ao=fn(n.mouse(ca)),Ei=Je(ca);Ut.call(ca),Sa($a);function Bo(){za=1,Ma(n.mouse(ca),ao),ii($a)}function Oo(){wi.on(Zt,null).on(or,null),Ei(za),Ia($a)}}function Si(){var ca=this,$a=vn.of(ca,arguments),za={},wi=0,ao,Ei=".zoom-"+n.event.changedTouches[0].identifier,Bo="touchmove"+Ei,Oo="touchend"+Ei,Zo=[],ro=n.select(ca),jo=Je(ca);Ya(),Sa($a),ro.on(Yt,null).on(kr,Ya);function ya(){var Ko=n.touches(ca);return ao=ce.k,Ko.forEach(function(zi){zi.identifier in za&&(za[zi.identifier]=fn(zi))}),Ko}function Ya(){var Ko=n.event.target;n.select(Ko).on(Bo,Io).on(Oo,Ps),Zo.push(Ko);for(var zi=n.event.changedTouches,Uo=0,zo=zi.length;Uo<zo;++Uo)za[zi[Uo].identifier]=null;var Al=ya(),Ml=Date.now();if(Al.length===1){if(Ml-sn<500){var ho=Al[0];fa(ca,ho,za[ho.identifier],Math.floor(Math.log(ce.k)/Math.LN2)+1),q()}sn=Ml}else if(Al.length>1){var ho=Al[0],hf=Al[1],Ti=ho[0]-hf[0],vo=ho[1]-hf[1];wi=Ti*Ti+vo*vo}}function Io(){var Ko=n.touches(ca),zi,Uo,zo,Al;Ut.call(ca);for(var Ml=0,ho=Ko.length;Ml<ho;++Ml,Al=null)if(zo=Ko[Ml],Al=za[zo.identifier]){if(Uo)break;zi=zo,Uo=Al}if(Al){var hf=(hf=zo[0]-zi[0])*hf+(hf=zo[1]-zi[1])*hf,Ti=wi&&Math.sqrt(hf/wi);zi=[(zi[0]+zo[0])/2,(zi[1]+zo[1])/2],Uo=[(Uo[0]+Al[0])/2,(Uo[1]+Al[1])/2],va(Ti*ao)}sn=null,Ma(zi,Uo),ii($a)}function Ps(){if(n.event.touches.length){for(var Ko=n.event.changedTouches,zi=0,Uo=Ko.length;zi<Uo;++zi)delete za[Ko[zi].identifier];for(var zo in za)return void ya()}n.selectAll(Zo).on(Ei,null),ro.on(Yt,ti).on(kr,Si),jo(),Ia($a)}}function Eo(){var ca=vn.of(this,arguments);Ir?clearTimeout(Ir):(Ut.call(this),_e=fn(Be=tt||n.mouse(this)),Sa(ca)),Ir=setTimeout(function(){Ir=null,Ia(ca)},50),q(),va(Math.pow(2,wr()*.002)*ce.k),Ma(Be,_e),ii(ca)}function Oi(){var ca=n.mouse(this),$a=Math.log(ce.k)/Math.LN2;fa(this,ca,fn(ca),n.event.shiftKey?Math.ceil($a)-1:Math.floor($a)+1)}return n.rebind(Mn,vn,"on")};var nr=[0,1/0],wr,dr;n.color=bt;function bt(){}bt.prototype.toString=function(){return this.rgb()+""},n.hsl=ut;function ut(ce,_e,Be){return this instanceof ut?(this.h=+ce,this.s=+_e,void(this.l=+Be)):arguments.length<2?ce instanceof ut?new ut(ce.h,ce.s,ce.l):_r(""+ce,pr,ut):new ut(ce,_e,Be)}var Mt=ut.prototype=new bt;Mt.brighter=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new ut(this.h,this.s,this.l/ce)},Mt.darker=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new ut(this.h,this.s,ce*this.l)},Mt.rgb=function(){return _t(this.h,this.s,this.l)};function _t(ce,_e,Be){var tt,it;ce=isNaN(ce)?0:(ce%=360)<0?ce+360:ce,_e=isNaN(_e)||_e<0?0:_e>1?1:_e,Be=Be<0?0:Be>1?1:Be,it=Be<=.5?Be*(1+_e):Be+_e-Be*_e,tt=2*Be-it;function ht(Et){return Et>360?Et-=360:Et<0&&(Et+=360),Et<60?tt+(it-tt)*Et/60:Et<180?it:Et<240?tt+(it-tt)*(240-Et)/60:tt}function Dt(Et){return Math.round(ht(Et)*255)}return new fr(Dt(ce+120),Dt(ce),Dt(ce-120))}n.hcl=kt;function kt(ce,_e,Be){return this instanceof kt?(this.h=+ce,this.c=+_e,void(this.l=+Be)):arguments.length<2?ce instanceof kt?new kt(ce.h,ce.c,ce.l):ce instanceof Ht?Bt(ce.l,ce.a,ce.b):Bt((ce=Yr((ce=n.rgb(ce)).r,ce.g,ce.b)).l,ce.a,ce.b):new kt(ce,_e,Be)}var Xt=kt.prototype=new bt;Xt.brighter=function(ce){return new kt(this.h,this.c,Math.min(100,this.l+tr*(arguments.length?ce:1)))},Xt.darker=function(ce){return new kt(this.h,this.c,Math.max(0,this.l-tr*(arguments.length?ce:1)))},Xt.rgb=function(){return Wt(this.h,this.c,this.l).rgb()};function Wt(ce,_e,Be){return isNaN(ce)&&(ce=0),isNaN(_e)&&(_e=0),new Ht(Be,Math.cos(ce*=st)*_e,Math.sin(ce)*_e)}n.lab=Ht;function Ht(ce,_e,Be){return this instanceof Ht?(this.l=+ce,this.a=+_e,void(this.b=+Be)):arguments.length<2?ce instanceof Ht?new Ht(ce.l,ce.a,ce.b):ce instanceof kt?Wt(ce.h,ce.c,ce.l):Yr((ce=fr(ce)).r,ce.g,ce.b):new Ht(ce,_e,Be)}var tr=18,gr=.95047,Qt=1,mr=1.08883,Ze=Ht.prototype=new bt;Ze.brighter=function(ce){return new Ht(Math.min(100,this.l+tr*(arguments.length?ce:1)),this.a,this.b)},Ze.darker=function(ce){return new Ht(Math.max(0,this.l-tr*(arguments.length?ce:1)),this.a,this.b)},Ze.rgb=function(){return Ye(this.l,this.a,this.b)};function Ye(ce,_e,Be){var tt=(ce+16)/116,it=tt+_e/500,ht=tt-Be/200;return it=Ft(it)*gr,tt=Ft(tt)*Qt,ht=Ft(ht)*mr,new fr(sr(3.2404542*it-1.5371385*tt-.4985314*ht),sr(-.969266*it+1.8760108*tt+.041556*ht),sr(.0556434*it-.2040259*tt+1.0572252*ht))}function Bt(ce,_e,Be){return ce>0?new kt(Math.atan2(Be,_e)*lt,Math.sqrt(_e*_e+Be*Be),ce):new kt(NaN,NaN,ce)}function Ft(ce){return ce>.206893034?ce*ce*ce:(ce-.13793103448275862)/7.787037}function rr(ce){return ce>.008856?Math.pow(ce,.3333333333333333):7.787037*ce+.13793103448275862}function sr(ce){return Math.round(255*(ce<=.00304?12.92*ce:1.055*Math.pow(ce,.4166666666666667)-.055))}n.rgb=fr;function fr(ce,_e,Be){return this instanceof fr?(this.r=~~ce,this.g=~~_e,void(this.b=~~Be)):arguments.length<2?ce instanceof fr?new fr(ce.r,ce.g,ce.b):_r(""+ce,fr,_t):new fr(ce,_e,Be)}function ir(ce){return new fr(ce>>16,ce>>8&255,ce&255)}function Vt(ce){return ir(ce)+""}var yr=fr.prototype=new bt;yr.brighter=function(ce){ce=Math.pow(.7,arguments.length?ce:1);var _e=this.r,Be=this.g,tt=this.b,it=30;return!_e&&!Be&&!tt?new fr(it,it,it):(_e&&_e<it&&(_e=it),Be&&Be<it&&(Be=it),tt&&tt<it&&(tt=it),new fr(Math.min(255,_e/ce),Math.min(255,Be/ce),Math.min(255,tt/ce)))},yr.darker=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new fr(ce*this.r,ce*this.g,ce*this.b)},yr.hsl=function(){return pr(this.r,this.g,this.b)},yr.toString=function(){return"#"+br(this.r)+br(this.g)+br(this.b)};function br(ce){return ce<16?"0"+Math.max(0,ce).toString(16):Math.min(255,ce).toString(16)}function _r(ce,_e,Be){var tt=0,it=0,ht=0,Dt,Et,Yt;if(Dt=/([a-z]+)\((.*)\)/.exec(ce=ce.toLowerCase()),Dt)switch(Et=Dt[2].split(","),Dt[1]){case"hsl":return Be(parseFloat(Et[0]),parseFloat(Et[1])/100,parseFloat(Et[2])/100);case"rgb":return _e(Nr(Et[0]),Nr(Et[1]),Nr(Et[2]))}return(Yt=xn.get(ce))?_e(Yt.r,Yt.g,Yt.b):(ce!=null&&ce.charAt(0)==="#"&&!isNaN(Yt=parseInt(ce.slice(1),16))&&(ce.length===4?(tt=(Yt&3840)>>4,tt=tt>>4|tt,it=Yt&240,it=it>>4|it,ht=Yt&15,ht=ht<<4|ht):ce.length===7&&(tt=(Yt&16711680)>>16,it=(Yt&65280)>>8,ht=Yt&255)),_e(tt,it,ht))}function pr(ce,_e,Be){var tt=Math.min(ce/=255,_e/=255,Be/=255),it=Math.max(ce,_e,Be),ht=it-tt,Dt,Et,Yt=(it+tt)/2;return ht?(Et=Yt<.5?ht/(it+tt):ht/(2-it-tt),ce==it?Dt=(_e-Be)/ht+(_e<Be?6:0):_e==it?Dt=(Be-ce)/ht+2:Dt=(ce-_e)/ht+4,Dt*=60):(Dt=NaN,Et=Yt>0&&Yt<1?0:Dt),new ut(Dt,Et,Yt)}function Yr(ce,_e,Be){ce=zr(ce),_e=zr(_e),Be=zr(Be);var tt=rr((.4124564*ce+.3575761*_e+.1804375*Be)/gr),it=rr((.2126729*ce+.7151522*_e+.072175*Be)/Qt),ht=rr((.0193339*ce+.119192*_e+.9503041*Be)/mr);return Ht(116*it-16,500*(tt-it),200*(it-ht))}function zr(ce){return(ce/=255)<=.04045?ce/12.92:Math.pow((ce+.055)/1.055,2.4)}function Nr(ce){var _e=parseFloat(ce);return ce.charAt(ce.length-1)==="%"?Math.round(_e*2.55):_e}var xn=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});xn.forEach(function(ce,_e){xn.set(ce,ir(_e))});function tn(ce){return typeof ce=="function"?ce:function(){return ce}}n.functor=tn,n.xhr=On(F);function On(ce){return function(_e,Be,tt){return arguments.length===2&&typeof Be=="function"&&(tt=Be,Be=null),zn(_e,Be,ce,tt)}}function zn(ce,_e,Be,tt){var it={},ht=n.dispatch("beforesend","progress","load","error"),Dt={},Et=new XMLHttpRequest,Yt=null;self.XDomainRequest&&!("withCredentials"in Et)&&/^(http(s)?:)?\/\//.test(ce)&&(Et=new XDomainRequest),"onload"in Et?Et.onload=Et.onerror=Zt:Et.onreadystatechange=function(){Et.readyState>3&&Zt()};function Zt(){var or=Et.status,Ir;if(!or&&Vr(Et)||or>=200&&or<300||or===304){try{Ir=Be.call(it,Et)}catch(kr){ht.error.call(it,kr);return}ht.load.call(it,Ir)}else ht.error.call(it,Et)}return Et.onprogress=function(or){var Ir=n.event;n.event=or;try{ht.progress.call(it,Et)}finally{n.event=Ir}},it.header=function(or,Ir){return or=(or+"").toLowerCase(),arguments.length<2?Dt[or]:(Ir==null?delete Dt[or]:Dt[or]=Ir+"",it)},it.mimeType=function(or){return arguments.length?(_e=or==null?null:or+"",it):_e},it.responseType=function(or){return arguments.length?(Yt=or,it):Yt},it.response=function(or){return Be=or,it},["get","post"].forEach(function(or){it[or]=function(){return it.send.apply(it,[or].concat(w(arguments)))}}),it.send=function(or,Ir,kr){if(arguments.length===2&&typeof Ir=="function"&&(kr=Ir,Ir=null),Et.open(or,ce,!0),_e!=null&&!("accept"in Dt)&&(Dt.accept=_e+",*/*"),Et.setRequestHeader)for(var sn in Dt)Et.setRequestHeader(sn,Dt[sn]);return _e!=null&&Et.overrideMimeType&&Et.overrideMimeType(_e),Yt!=null&&(Et.responseType=Yt),kr!=null&&it.on("error",kr).on("load",function(vn){kr(null,vn)}),ht.beforesend.call(it,Et),Et.send(Ir??null),it},it.abort=function(){return Et.abort(),it},n.rebind(it,ht,"on"),tt==null?it:it.get(Sr(tt))}function Sr(ce){return ce.length===1?function(_e,Be){ce(_e==null?Be:null)}:ce}function Vr(ce){var _e=ce.responseType;return _e&&_e!=="text"?ce.response:ce.responseText}n.dsv=function(ce,_e){var Be=new RegExp('["'+ce+`
]`),tt=ce.charCodeAt(0);function it(Zt,or,Ir){arguments.length<3&&(Ir=or,or=null);var kr=zn(Zt,_e,or==null?ht:Dt(or),Ir);return kr.row=function(sn){return arguments.length?kr.response((or=sn)==null?ht:Dt(sn)):or},kr}function ht(Zt){return it.parse(Zt.responseText)}function Dt(Zt){return function(or){return it.parse(or.responseText,Zt)}}it.parse=function(Zt,or){var Ir;return it.parseRows(Zt,function(kr,sn){if(Ir)return Ir(kr,sn-1);var vn=function(Fr){for(var Xr={},an=kr.length,pn=0;pn<an;++pn)Xr[kr[pn]]=Fr[pn];return Xr};Ir=or?function(Fr,Xr){return or(vn(Fr),Xr)}:vn})},it.parseRows=function(Zt,or){var Ir={},kr={},sn=[],vn=Zt.length,Fr=0,Xr=0,an,pn;function Mn(){if(Fr>=vn)return kr;if(pn)return pn=!1,Ir;var Dn=Fr;if(Zt.charCodeAt(Dn)===34){for(var va=Dn;va++<vn;)if(Zt.charCodeAt(va)===34){if(Zt.charCodeAt(va+1)!==34)break;++va}Fr=va+2;var Ma=Zt.charCodeAt(va+1);return Ma===13?(pn=!0,Zt.charCodeAt(va+2)===10&&++Fr):Ma===10&&(pn=!0),Zt.slice(Dn+1,va).replace(/""/g,'"')}for(;Fr<vn;){var Ma=Zt.charCodeAt(Fr++),fa=1;if(Ma===10)pn=!0;else if(Ma===13)pn=!0,Zt.charCodeAt(Fr)===10&&(++Fr,++fa);else if(Ma!==tt)continue;return Zt.slice(Dn,Fr-fa)}return Zt.slice(Dn)}for(;(an=Mn())!==kr;){for(var fn=[];an!==Ir&&an!==kr;)fn.push(an),an=Mn();or&&(fn=or(fn,Xr++))==null||sn.push(fn)}return sn},it.format=function(Zt){if(Array.isArray(Zt[0]))return it.formatRows(Zt);var or=new k,Ir=[];return Zt.forEach(function(kr){for(var sn in kr)or.has(sn)||Ir.push(or.add(sn))}),[Ir.map(Yt).join(ce)].concat(Zt.map(function(kr){return Ir.map(function(sn){return Yt(kr[sn])}).join(ce)})).join(`
`)},it.formatRows=function(Zt){return Zt.map(Et).join(`
`)};function Et(Zt){return Zt.map(Yt).join(ce)}function Yt(Zt){return Be.test(Zt)?'"'+Zt.replace(/\"/g,'""')+'"':Zt}return it},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var qr,Hr,Tn,bn,Hn=this[O(this,"requestAnimationFrame")]||function(ce){setTimeout(ce,17)};n.timer=function(){Gn.apply(this,arguments)};function Gn(ce,_e,Be){var tt=arguments.length;tt<2&&(_e=0),tt<3&&(Be=Date.now());var it=Be+_e,ht={c:ce,t:it,n:null};return Hr?Hr.n=ht:qr=ht,Hr=ht,Tn||(bn=clearTimeout(bn),Tn=1,Hn(ea)),ht}function ea(){var ce=ma(),_e=Da()-ce;_e>24?(isFinite(_e)&&(clearTimeout(bn),bn=setTimeout(ea,_e)),Tn=0):(Tn=1,Hn(ea))}n.timer.flush=function(){ma(),Da()};function ma(){for(var ce=Date.now(),_e=qr;_e;)ce>=_e.t&&_e.c(ce-_e.t)&&(_e.c=null),_e=_e.n;return ce}function Da(){for(var ce,_e=qr,Be=1/0;_e;)_e.c?(_e.t<Be&&(Be=_e.t),_e=(ce=_e).n):_e=ce?ce.n=_e.n:qr=_e.n;return Hr=ce,Be}n.round=function(ce,_e){return _e?Math.round(ce*(_e=Math.pow(10,_e)))/_e:Math.round(ce)},n.geom={};function Fa(ce){return ce[0]}function La(ce){return ce[1]}n.geom.hull=function(ce){var _e=Fa,Be=La;if(arguments.length)return tt(ce);function tt(it){if(it.length<3)return[];var ht=tn(_e),Dt=tn(Be),Et,Yt=it.length,Zt=[],or=[];for(Et=0;Et<Yt;Et++)Zt.push([+ht.call(this,it[Et],Et),+Dt.call(this,it[Et],Et),Et]);for(Zt.sort(Mr),Et=0;Et<Yt;Et++)or.push([Zt[Et][0],-Zt[Et][1]]);var Ir=Qn(Zt),kr=Qn(or),sn=kr[0]===Ir[0],vn=kr[kr.length-1]===Ir[Ir.length-1],Fr=[];for(Et=Ir.length-1;Et>=0;--Et)Fr.push(it[Zt[Ir[Et]][2]]);for(Et=+sn;Et<kr.length-vn;++Et)Fr.push(it[Zt[kr[Et]][2]]);return Fr}return tt.x=function(it){return arguments.length?(_e=it,tt):_e},tt.y=function(it){return arguments.length?(Be=it,tt):Be},tt};function Qn(ce){for(var _e=ce.length,Be=[0,1],tt=2,it=2;it<_e;it++){for(;tt>1&&jt(ce[Be[tt-2]],ce[Be[tt-1]],ce[it])<=0;)--tt;Be[tt++]=it}return Be.slice(0,tt)}function Mr(ce,_e){return ce[0]-_e[0]||ce[1]-_e[1]}n.geom.polygon=function(ce){return te(ce,Jr),ce};var Jr=n.geom.polygon.prototype=[];Jr.area=function(){for(var ce=-1,_e=this.length,Be,tt=this[_e-1],it=0;++ce<_e;)Be=tt,tt=this[ce],it+=Be[1]*tt[0]-Be[0]*tt[1];return it*.5},Jr.centroid=function(ce){var _e=-1,Be=this.length,tt=0,it=0,ht,Dt=this[Be-1],Et;for(arguments.length||(ce=-1/(6*this.area()));++_e<Be;)ht=Dt,Dt=this[_e],Et=ht[0]*Dt[1]-Dt[0]*ht[1],tt+=(ht[0]+Dt[0])*Et,it+=(ht[1]+Dt[1])*Et;return[tt*ce,it*ce]},Jr.clip=function(ce){for(var _e,Be=jn(ce),tt=-1,it=this.length-jn(this),ht,Dt,Et=this[it-1],Yt,Zt,or;++tt<it;){for(_e=ce.slice(),ce.length=0,Yt=this[tt],Zt=_e[(Dt=_e.length-Be)-1],ht=-1;++ht<Dt;)or=_e[ht],Kr(or,Et,Yt)?(Kr(Zt,Et,Yt)||ce.push(wn(Zt,or,Et,Yt)),ce.push(or)):Kr(Zt,Et,Yt)&&ce.push(wn(Zt,or,Et,Yt)),Zt=or;Be&&ce.push(ce[0]),Et=Yt}return ce};function Kr(ce,_e,Be){return(Be[0]-_e[0])*(ce[1]-_e[1])<(Be[1]-_e[1])*(ce[0]-_e[0])}function wn(ce,_e,Be,tt){var it=ce[0],ht=Be[0],Dt=_e[0]-it,Et=tt[0]-ht,Yt=ce[1],Zt=Be[1],or=_e[1]-Yt,Ir=tt[1]-Zt,kr=(Et*(Yt-Zt)-Ir*(it-ht))/(Ir*Dt-Et*or);return[it+kr*Dt,Yt+kr*or]}function jn(ce){var _e=ce[0],Be=ce[ce.length-1];return!(_e[0]-Be[0]||_e[1]-Be[1])}var Pn,kn,Jn,ua=[],Ca,ei,Ar=[];function Gr(){zs(this),this.edge=this.site=this.circle=null}function Cr(ce){var _e=ua.pop()||new Gr;return _e.site=ce,_e}function Wr(ce){Xn(ce),Jn.remove(ce),ua.push(ce),zs(ce)}function Sn(ce){var _e=ce.circle,Be=_e.x,tt=_e.cy,it={x:Be,y:tt},ht=ce.P,Dt=ce.N,Et=[ce];Wr(ce);for(var Yt=ht;Yt.circle&&p(Be-Yt.circle.x)<Ke&&p(tt-Yt.circle.cy)<Ke;)ht=Yt.P,Et.unshift(Yt),Wr(Yt),Yt=ht;Et.unshift(Yt),Xn(Yt);for(var Zt=Dt;Zt.circle&&p(Be-Zt.circle.x)<Ke&&p(tt-Zt.circle.cy)<Ke;)Dt=Zt.N,Et.push(Zt),Wr(Zt),Zt=Dt;Et.push(Zt),Xn(Zt);var or=Et.length,Ir;for(Ir=1;Ir<or;++Ir)Zt=Et[Ir],Yt=Et[Ir-1],Ra(Zt.edge,Yt.site,Zt.site,it);Yt=Et[0],Zt=Et[or-1],Zt.edge=ba(Yt.site,Zt.site,null,it),Ln(Yt),Ln(Zt)}function Fn(ce){for(var _e=ce.x,Be=ce.y,tt,it,ht,Dt,Et=Jn._;Et;)if(ht=An(Et,Be)-_e,ht>Ke)Et=Et.L;else if(Dt=_e-dn(Et,Be),Dt>Ke){if(!Et.R){tt=Et;break}Et=Et.R}else{ht>-Ke?(tt=Et.P,it=Et):Dt>-Ke?(tt=Et,it=Et.N):tt=it=Et;break}var Yt=Cr(ce);if(Jn.insert(tt,Yt),!(!tt&&!it)){if(tt===it){Xn(tt),it=Cr(tt.site),Jn.insert(Yt,it),Yt.edge=it.edge=ba(tt.site,Yt.site),Ln(tt),Ln(it);return}if(!it){Yt.edge=ba(tt.site,Yt.site);return}Xn(tt),Xn(it);var Zt=tt.site,or=Zt.x,Ir=Zt.y,kr=ce.x-or,sn=ce.y-Ir,vn=it.site,Fr=vn.x-or,Xr=vn.y-Ir,an=2*(kr*Xr-sn*Fr),pn=kr*kr+sn*sn,Mn=Fr*Fr+Xr*Xr,fn={x:(Xr*pn-sn*Mn)/an+or,y:(kr*Mn-Fr*pn)/an+Ir};Ra(it.edge,Zt,vn,fn),Yt.edge=ba(Zt,ce,null,fn),it.edge=ba(ce,vn,null,fn),Ln(tt),Ln(it)}}function An(ce,_e){var Be=ce.site,tt=Be.x,it=Be.y,ht=it-_e;if(!ht)return tt;var Dt=ce.P;if(!Dt)return-1/0;Be=Dt.site;var Et=Be.x,Yt=Be.y,Zt=Yt-_e;if(!Zt)return Et;var or=Et-tt,Ir=1/ht-1/Zt,kr=or/Zt;return Ir?(-kr+Math.sqrt(kr*kr-2*Ir*(or*or/(-2*Zt)-Yt+Zt/2+it-ht/2)))/Ir+tt:(tt+Et)/2}function dn(ce,_e){var Be=ce.N;if(Be)return An(Be,_e);var tt=ce.site;return tt.y===_e?tt.x:1/0}function Dr(ce){this.site=ce,this.edges=[]}Dr.prototype.prepare=function(){for(var ce=this.edges,_e=ce.length,Be;_e--;)Be=ce[_e].edge,(!Be.b||!Be.a)&&ce.splice(_e,1);return ce.sort($r),ce.length};function nn(ce){for(var _e=ce[0][0],Be=ce[1][0],tt=ce[0][1],it=ce[1][1],ht,Dt,Et,Yt,Zt=kn,or=Zt.length,Ir,kr,sn,vn,Fr,Xr;or--;)if(Ir=Zt[or],!(!Ir||!Ir.prepare()))for(sn=Ir.edges,vn=sn.length,kr=0;kr<vn;)Xr=sn[kr].end(),Et=Xr.x,Yt=Xr.y,Fr=sn[++kr%vn].start(),ht=Fr.x,Dt=Fr.y,(p(Et-ht)>Ke||p(Yt-Dt)>Ke)&&(sn.splice(kr,0,new Di(_a(Ir.site,Xr,p(Et-_e)<Ke&&it-Yt>Ke?{x:_e,y:p(ht-_e)<Ke?Dt:it}:p(Yt-it)<Ke&&Be-Et>Ke?{x:p(Dt-it)<Ke?ht:Be,y:it}:p(Et-Be)<Ke&&Yt-tt>Ke?{x:Be,y:p(ht-Be)<Ke?Dt:tt}:p(Yt-tt)<Ke&&Et-_e>Ke?{x:p(Dt-tt)<Ke?ht:_e,y:tt}:null),Ir.site,null)),++vn)}function $r(ce,_e){return _e.angle-ce.angle}function ln(){zs(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ln(ce){var _e=ce.P,Be=ce.N;if(!(!_e||!Be)){var tt=_e.site,it=ce.site,ht=Be.site;if(tt!==ht){var Dt=it.x,Et=it.y,Yt=tt.x-Dt,Zt=tt.y-Et,or=ht.x-Dt,Xr=ht.y-Et,Ir=2*(Yt*Xr-Zt*or);if(!(Ir>=-Ie)){var kr=Yt*Yt+Zt*Zt,sn=or*or+Xr*Xr,vn=(Xr*kr-Zt*sn)/Ir,Fr=(Yt*sn-or*kr)/Ir,Xr=Fr+Et,an=Ar.pop()||new ln;an.arc=ce,an.site=it,an.x=vn+Dt,an.y=Xr+Math.sqrt(vn*vn+Fr*Fr),an.cy=Xr,ce.circle=an;for(var pn=null,Mn=ei._;Mn;)if(an.y<Mn.y||an.y===Mn.y&&an.x<=Mn.x)if(Mn.L)Mn=Mn.L;else{pn=Mn.P;break}else if(Mn.R)Mn=Mn.R;else{pn=Mn;break}ei.insert(pn,an),pn||(Ca=an)}}}}function Xn(ce){var _e=ce.circle;_e&&(_e.P||(Ca=_e.N),ei.remove(_e),Ar.push(_e),zs(_e),ce.circle=null)}function Rn(ce,_e,Be,tt){return function(it){var ht=it.a,Dt=it.b,Et=ht.x,Yt=ht.y,Zt=Dt.x,or=Dt.y,Ir=0,kr=1,sn=Zt-Et,vn=or-Yt,Fr;if(Fr=ce-Et,!(!sn&&Fr>0)){if(Fr/=sn,sn<0){if(Fr<Ir)return;Fr<kr&&(kr=Fr)}else if(sn>0){if(Fr>kr)return;Fr>Ir&&(Ir=Fr)}if(Fr=Be-Et,!(!sn&&Fr<0)){if(Fr/=sn,sn<0){if(Fr>kr)return;Fr>Ir&&(Ir=Fr)}else if(sn>0){if(Fr<Ir)return;Fr<kr&&(kr=Fr)}if(Fr=_e-Yt,!(!vn&&Fr>0)){if(Fr/=vn,vn<0){if(Fr<Ir)return;Fr<kr&&(kr=Fr)}else if(vn>0){if(Fr>kr)return;Fr>Ir&&(Ir=Fr)}if(Fr=tt-Yt,!(!vn&&Fr<0)){if(Fr/=vn,vn<0){if(Fr>kr)return;Fr>Ir&&(Ir=Fr)}else if(vn>0){if(Fr<Ir)return;Fr<kr&&(kr=Fr)}return Ir>0&&(it.a={x:Et+Ir*sn,y:Yt+Ir*vn}),kr<1&&(it.b={x:Et+kr*sn,y:Yt+kr*vn}),it}}}}}}function $n(ce){for(var _e=Pn,Be=Rn(ce[0][0],ce[0][1],ce[1][0],ce[1][1]),tt=_e.length,it;tt--;)it=_e[tt],(!Kn(it,ce)||!Be(it)||p(it.a.x-it.b.x)<Ke&&p(it.a.y-it.b.y)<Ke)&&(it.a=it.b=null,_e.splice(tt,1))}function Kn(ce,_e){var Be=ce.b;if(Be)return!0;var tt=ce.a,it=_e[0][0],ht=_e[1][0],Dt=_e[0][1],Et=_e[1][1],Yt=ce.l,Zt=ce.r,or=Yt.x,Ir=Yt.y,kr=Zt.x,sn=Zt.y,vn=(or+kr)/2,Fr=(Ir+sn)/2,Xr,an;if(sn===Ir){if(vn<it||vn>=ht)return;if(or>kr){if(!tt)tt={x:vn,y:Dt};else if(tt.y>=Et)return;Be={x:vn,y:Et}}else{if(!tt)tt={x:vn,y:Et};else if(tt.y<Dt)return;Be={x:vn,y:Dt}}}else if(Xr=(or-kr)/(sn-Ir),an=Fr-Xr*vn,Xr<-1||Xr>1)if(or>kr){if(!tt)tt={x:(Dt-an)/Xr,y:Dt};else if(tt.y>=Et)return;Be={x:(Et-an)/Xr,y:Et}}else{if(!tt)tt={x:(Et-an)/Xr,y:Et};else if(tt.y<Dt)return;Be={x:(Dt-an)/Xr,y:Dt}}else if(Ir<sn){if(!tt)tt={x:it,y:Xr*it+an};else if(tt.x>=ht)return;Be={x:ht,y:Xr*ht+an}}else{if(!tt)tt={x:ht,y:Xr*ht+an};else if(tt.x<it)return;Be={x:it,y:Xr*it+an}}return ce.a=tt,ce.b=Be,!0}function xa(ce,_e){this.l=ce,this.r=_e,this.a=this.b=null}function ba(ce,_e,Be,tt){var it=new xa(ce,_e);return Pn.push(it),Be&&Ra(it,ce,_e,Be),tt&&Ra(it,_e,ce,tt),kn[ce.i].edges.push(new Di(it,ce,_e)),kn[_e.i].edges.push(new Di(it,_e,ce)),it}function _a(ce,_e,Be){var tt=new xa(ce,null);return tt.a=_e,tt.b=Be,Pn.push(tt),tt}function Ra(ce,_e,Be,tt){!ce.a&&!ce.b?(ce.a=tt,ce.l=_e,ce.r=Be):ce.l===Be?ce.b=tt:ce.a=tt}function Di(ce,_e,Be){var tt=ce.a,it=ce.b;this.edge=ce,this.site=_e,this.angle=Be?Math.atan2(Be.y-_e.y,Be.x-_e.x):ce.l===_e?Math.atan2(it.x-tt.x,tt.y-it.y):Math.atan2(tt.x-it.x,it.y-tt.y)}Di.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Pi(){this._=null}function zs(ce){ce.U=ce.C=ce.L=ce.R=ce.P=ce.N=null}Pi.prototype={insert:function(ce,_e){var Be,tt,it;if(ce){if(_e.P=ce,_e.N=ce.N,ce.N&&(ce.N.P=_e),ce.N=_e,ce.R){for(ce=ce.R;ce.L;)ce=ce.L;ce.L=_e}else ce.R=_e;Be=ce}else this._?(ce=Uu(this._),_e.P=null,_e.N=ce,ce.P=ce.L=_e,Be=ce):(_e.P=_e.N=null,this._=_e,Be=null);for(_e.L=_e.R=null,_e.U=Be,_e.C=!0,ce=_e;Be&&Be.C;)tt=Be.U,Be===tt.L?(it=tt.R,it&&it.C?(Be.C=it.C=!1,tt.C=!0,ce=tt):(ce===Be.R&&(cs(this,Be),ce=Be,Be=ce.U),Be.C=!1,tt.C=!0,es(this,tt))):(it=tt.L,it&&it.C?(Be.C=it.C=!1,tt.C=!0,ce=tt):(ce===Be.L&&(es(this,Be),ce=Be,Be=ce.U),Be.C=!1,tt.C=!0,cs(this,tt))),Be=ce.U;this._.C=!1},remove:function(ce){ce.N&&(ce.N.P=ce.P),ce.P&&(ce.P.N=ce.N),ce.N=ce.P=null;var _e=ce.U,Be,tt=ce.L,it=ce.R,ht,Dt;if(tt?it?ht=Uu(it):ht=tt:ht=it,_e?_e.L===ce?_e.L=ht:_e.R=ht:this._=ht,tt&&it?(Dt=ht.C,ht.C=ce.C,ht.L=tt,tt.U=ht,ht!==it?(_e=ht.U,ht.U=ce.U,ce=ht.R,_e.L=ce,ht.R=it,it.U=ht):(ht.U=_e,_e=ht,ce=ht.R)):(Dt=ce.C,ce=ht),ce&&(ce.U=_e),!Dt){if(ce&&ce.C){ce.C=!1;return}do{if(ce===this._)break;if(ce===_e.L){if(Be=_e.R,Be.C&&(Be.C=!1,_e.C=!0,cs(this,_e),Be=_e.R),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.R||!Be.R.C)&&(Be.L.C=!1,Be.C=!0,es(this,Be),Be=_e.R),Be.C=_e.C,_e.C=Be.R.C=!1,cs(this,_e),ce=this._;break}}else if(Be=_e.L,Be.C&&(Be.C=!1,_e.C=!0,es(this,_e),Be=_e.L),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.L||!Be.L.C)&&(Be.R.C=!1,Be.C=!0,cs(this,Be),Be=_e.L),Be.C=_e.C,_e.C=Be.L.C=!1,es(this,_e),ce=this._;break}Be.C=!0,ce=_e,_e=_e.U}while(!ce.C);ce&&(ce.C=!1)}}};function cs(ce,_e){var Be=_e,tt=_e.R,it=Be.U;it?it.L===Be?it.L=tt:it.R=tt:ce._=tt,tt.U=it,Be.U=tt,Be.R=tt.L,Be.R&&(Be.R.U=Be),tt.L=Be}function es(ce,_e){var Be=_e,tt=_e.L,it=Be.U;it?it.L===Be?it.L=tt:it.R=tt:ce._=tt,tt.U=it,Be.U=tt,Be.L=tt.R,Be.L&&(Be.L.U=Be),tt.R=Be}function Uu(ce){for(;ce.L;)ce=ce.L;return ce}function Dc(ce,_e){var Be=ce.sort(Ic).pop(),tt,it,ht;for(Pn=[],kn=new Array(ce.length),Jn=new Pi,ei=new Pi;;)if(ht=Ca,Be&&(!ht||Be.y<ht.y||Be.y===ht.y&&Be.x<ht.x))(Be.x!==tt||Be.y!==it)&&(kn[Be.i]=new Dr(Be),Fn(Be),tt=Be.x,it=Be.y),Be=ce.pop();else if(ht)Sn(ht.arc);else break;_e&&($n(_e),nn(_e));var Dt={cells:kn,edges:Pn};return Jn=ei=Pn=kn=null,Dt}function Ic(ce,_e){return _e.y-ce.y||_e.x-ce.x}n.geom.voronoi=function(ce){var _e=Fa,Be=La,tt=_e,it=Be,ht=Mi;if(ce)return Dt(ce);function Dt(Yt){var Zt=new Array(Yt.length),or=ht[0][0],Ir=ht[0][1],kr=ht[1][0],sn=ht[1][1];return Dc(Et(Yt),ht).cells.forEach(function(vn,Fr){var Xr=vn.edges,an=vn.site,pn=Zt[Fr]=Xr.length?Xr.map(function(Mn){var fn=Mn.start();return[fn.x,fn.y]}):an.x>=or&&an.x<=kr&&an.y>=Ir&&an.y<=sn?[[or,sn],[kr,sn],[kr,Ir],[or,Ir]]:[];pn.point=Yt[Fr]}),Zt}function Et(Yt){return Yt.map(function(Zt,or){return{x:Math.round(tt(Zt,or)/Ke)*Ke,y:Math.round(it(Zt,or)/Ke)*Ke,i:or}})}return Dt.links=function(Yt){return Dc(Et(Yt)).edges.filter(function(Zt){return Zt.l&&Zt.r}).map(function(Zt){return{source:Yt[Zt.l.i],target:Yt[Zt.r.i]}})},Dt.triangles=function(Yt){var Zt=[];return Dc(Et(Yt)).cells.forEach(function(or,Ir){for(var kr=or.site,sn=or.edges.sort($r),vn=-1,Fr=sn.length,Xr,an=sn[Fr-1].edge,pn=an.l===kr?an.r:an.l;++vn<Fr;)Xr=pn,an=sn[vn].edge,pn=an.l===kr?an.r:an.l,Ir<Xr.i&&Ir<pn.i&&yl(kr,Xr,pn)<0&&Zt.push([Yt[Ir],Yt[Xr.i],Yt[pn.i]])}),Zt},Dt.x=function(Yt){return arguments.length?(tt=tn(_e=Yt),Dt):_e},Dt.y=function(Yt){return arguments.length?(it=tn(Be=Yt),Dt):Be},Dt.clipExtent=function(Yt){return arguments.length?(ht=Yt??Mi,Dt):ht===Mi?null:ht},Dt.size=function(Yt){return arguments.length?Dt.clipExtent(Yt&&[[0,0],Yt]):ht===Mi?null:ht&&ht[1]},Dt};var Mi=[[-1e6,-1e6],[1e6,1e6]];function yl(ce,_e,Be){return(ce.x-Be.x)*(_e.y-ce.y)-(ce.x-_e.x)*(Be.y-ce.y)}n.geom.delaunay=function(ce){return n.geom.voronoi().triangles(ce)},n.geom.quadtree=function(ce,_e,Be,tt,it){var ht=Fa,Dt=La,Et;if(Et=arguments.length)return ht=kc,Dt=No,Et===3&&(it=Be,tt=_e,Be=_e=0),Yt(ce);function Yt(Zt){var or,Ir=tn(ht),kr=tn(Dt),sn,vn,Fr,Xr,an,pn,Mn,fn;if(_e!=null)an=_e,pn=Be,Mn=tt,fn=it;else if(Mn=fn=-(an=pn=1/0),sn=[],vn=[],Xr=Zt.length,Et)for(Fr=0;Fr<Xr;++Fr)or=Zt[Fr],or.x<an&&(an=or.x),or.y<pn&&(pn=or.y),or.x>Mn&&(Mn=or.x),or.y>fn&&(fn=or.y),sn.push(or.x),vn.push(or.y);else for(Fr=0;Fr<Xr;++Fr){var Dn=+Ir(or=Zt[Fr],Fr),va=+kr(or,Fr);Dn<an&&(an=Dn),va<pn&&(pn=va),Dn>Mn&&(Mn=Dn),va>fn&&(fn=va),sn.push(Dn),vn.push(va)}var Ma=Mn-an,fa=fn-pn;Ma>fa?fn=pn+Ma:Mn=an+fa;function Aa(Ia,ti,Si,Eo,Oi,ca,$a,za){if(!(isNaN(Si)||isNaN(Eo)))if(Ia.leaf){var wi=Ia.x,ao=Ia.y;if(wi!=null)if(p(wi-Si)+p(ao-Eo)<.01)Sa(Ia,ti,Si,Eo,Oi,ca,$a,za);else{var Ei=Ia.point;Ia.x=Ia.y=Ia.point=null,Sa(Ia,Ei,wi,ao,Oi,ca,$a,za),Sa(Ia,ti,Si,Eo,Oi,ca,$a,za)}else Ia.x=Si,Ia.y=Eo,Ia.point=ti}else Sa(Ia,ti,Si,Eo,Oi,ca,$a,za)}function Sa(Ia,ti,Si,Eo,Oi,ca,$a,za){var wi=(Oi+$a)*.5,ao=(ca+za)*.5,Ei=Si>=wi,Bo=Eo>=ao,Oo=Bo<<1|Ei;Ia.leaf=!1,Ia=Ia.nodes[Oo]||(Ia.nodes[Oo]=hs()),Ei?Oi=wi:$a=wi,Bo?ca=ao:za=ao,Aa(Ia,ti,Si,Eo,Oi,ca,$a,za)}var ii=hs();if(ii.add=function(Ia){Aa(ii,Ia,+Ir(Ia,++Fr),+kr(Ia,Fr),an,pn,Mn,fn)},ii.visit=function(Ia){Kl(Ia,ii,an,pn,Mn,fn)},ii.find=function(Ia){return Vu(ii,Ia[0],Ia[1],an,pn,Mn,fn)},Fr=-1,_e==null){for(;++Fr<Xr;)Aa(ii,Zt[Fr],sn[Fr],vn[Fr],an,pn,Mn,fn);--Fr}else Zt.forEach(ii.add);return sn=vn=Zt=or=null,ii}return Yt.x=function(Zt){return arguments.length?(ht=Zt,Yt):ht},Yt.y=function(Zt){return arguments.length?(Dt=Zt,Yt):Dt},Yt.extent=function(Zt){return arguments.length?(Zt==null?_e=Be=tt=it=null:(_e=+Zt[0][0],Be=+Zt[0][1],tt=+Zt[1][0],it=+Zt[1][1]),Yt):_e==null?null:[[_e,Be],[tt,it]]},Yt.size=function(Zt){return arguments.length?(Zt==null?_e=Be=tt=it=null:(_e=Be=0,tt=+Zt[0],it=+Zt[1]),Yt):_e==null?null:[tt-_e,it-Be]},Yt};function kc(ce){return ce.x}function No(ce){return ce.y}function hs(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Kl(ce,_e,Be,tt,it,ht){if(!ce(_e,Be,tt,it,ht)){var Dt=(Be+it)*.5,Et=(tt+ht)*.5,Yt=_e.nodes;Yt[0]&&Kl(ce,Yt[0],Be,tt,Dt,Et),Yt[1]&&Kl(ce,Yt[1],Dt,tt,it,Et),Yt[2]&&Kl(ce,Yt[2],Be,Et,Dt,ht),Yt[3]&&Kl(ce,Yt[3],Dt,Et,it,ht)}}function Vu(ce,_e,Be,tt,it,ht,Dt){var Et=1/0,Yt;return function Zt(or,Ir,kr,sn,vn){if(!(Ir>ht||kr>Dt||sn<tt||vn<it)){if(Fr=or.point){var Fr,Xr=_e-or.x,an=Be-or.y,pn=Xr*Xr+an*an;if(pn<Et){var Mn=Math.sqrt(Et=pn);tt=_e-Mn,it=Be-Mn,ht=_e+Mn,Dt=Be+Mn,Yt=Fr}}for(var fn=or.nodes,Dn=(Ir+sn)*.5,va=(kr+vn)*.5,Ma=_e>=Dn,fa=Be>=va,Aa=fa<<1|Ma,Sa=Aa+4;Aa<Sa;++Aa)if(or=fn[Aa&3])switch(Aa&3){case 0:Zt(or,Ir,kr,Dn,va);break;case 1:Zt(or,Dn,kr,sn,va);break;case 2:Zt(or,Ir,va,Dn,vn);break;case 3:Zt(or,Dn,va,sn,vn);break}}}(ce,tt,it,ht,Dt),Yt}n.interpolateRgb=Ao;function Ao(ce,_e){ce=n.rgb(ce),_e=n.rgb(_e);var Be=ce.r,tt=ce.g,it=ce.b,ht=_e.r-Be,Dt=_e.g-tt,Et=_e.b-it;return function(Yt){return"#"+br(Math.round(Be+ht*Yt))+br(Math.round(tt+Dt*Yt))+br(Math.round(it+Et*Yt))}}n.interpolateObject=Hu;function Hu(ce,_e){var Be={},tt={},it;for(it in ce)it in _e?Be[it]=eo(ce[it],_e[it]):tt[it]=ce[it];for(it in _e)it in ce||(tt[it]=_e[it]);return function(ht){for(it in Be)tt[it]=Be[it](ht);return tt}}n.interpolateNumber=Mo;function Mo(ce,_e){return ce=+ce,_e=+_e,function(Be){return ce*(1-Be)+_e*Be}}n.interpolateString=Do;function Do(ce,_e){var Be=Gu.lastIndex=Wo.lastIndex=0,tt,it,ht,Dt=-1,Et=[],Yt=[];for(ce=ce+"",_e=_e+"";(tt=Gu.exec(ce))&&(it=Wo.exec(_e));)(ht=it.index)>Be&&(ht=_e.slice(Be,ht),Et[Dt]?Et[Dt]+=ht:Et[++Dt]=ht),(tt=tt[0])===(it=it[0])?Et[Dt]?Et[Dt]+=it:Et[++Dt]=it:(Et[++Dt]=null,Yt.push({i:Dt,x:Mo(tt,it)})),Be=Wo.lastIndex;return Be<_e.length&&(ht=_e.slice(Be),Et[Dt]?Et[Dt]+=ht:Et[++Dt]=ht),Et.length<2?Yt[0]?(_e=Yt[0].x,function(Zt){return _e(Zt)+""}):function(){return _e}:(_e=Yt.length,function(Zt){for(var or=0,Ir;or<_e;++or)Et[(Ir=Yt[or]).i]=Ir.x(Zt);return Et.join("")})}var Gu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wo=new RegExp(Gu.source,"g");n.interpolate=eo;function eo(ce,_e){for(var Be=n.interpolators.length,tt;--Be>=0&&!(tt=n.interpolators[Be](ce,_e)););return tt}n.interpolators=[function(ce,_e){var Be=typeof _e;return(Be==="string"?xn.has(_e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(_e)?Ao:Do:_e instanceof bt?Ao:Array.isArray(_e)?gs:Be==="object"&&isNaN(_e)?Hu:Mo)(ce,_e)}],n.interpolateArray=gs;function gs(ce,_e){var Be=[],tt=[],it=ce.length,ht=_e.length,Dt=Math.min(ce.length,_e.length),Et;for(Et=0;Et<Dt;++Et)Be.push(eo(ce[Et],_e[Et]));for(;Et<it;++Et)tt[Et]=ce[Et];for(;Et<ht;++Et)tt[Et]=_e[Et];return function(Yt){for(Et=0;Et<Dt;++Et)tt[Et]=Be[Et](Yt);return tt}}var Wu=function(){return F},ys=n.map({linear:Wu,poly:ch,quad:function(){return Jl},cubic:function(){return xl},sin:function(){return Uh},exp:function(){return Yu},circle:function(){return hh},elastic:Ql,back:ac,bounce:function(){return zc}}),fh=n.map({in:F,out:Yo,"in-out":Oc,"out-in":function(ce){return Oc(Yo(ce))}});n.ease=function(ce){var _e=ce.indexOf("-"),Be=_e>=0?ce.slice(0,_e):ce,tt=_e>=0?ce.slice(_e+1):"in";return Be=ys.get(Be)||Wu,tt=fh.get(tt)||F,ml(tt(Be.apply(null,L.call(arguments,1))))};function ml(ce){return function(_e){return _e<=0?0:_e>=1?1:ce(_e)}}function Yo(ce){return function(_e){return 1-ce(1-_e)}}function Oc(ce){return function(_e){return .5*(_e<.5?ce(2*_e):2-ce(2-2*_e))}}function Jl(ce){return ce*ce}function xl(ce){return ce*ce*ce}function $l(ce){if(ce<=0)return 0;if(ce>=1)return 1;var _e=ce*ce,Be=_e*ce;return 4*(ce<.5?Be:3*(ce-_e)+Be-.75)}function ch(ce){return function(_e){return Math.pow(_e,ce)}}function Uh(ce){return 1-Math.cos(ce*et)}function Yu(ce){return Math.pow(2,10*(ce-1))}function hh(ce){return 1-Math.sqrt(1-ce*ce)}function Ql(ce,_e){var Be;return arguments.length<2&&(_e=.45),arguments.length?Be=_e/Te*Math.asin(1/ce):(ce=1,Be=_e/4),function(tt){return 1+ce*Math.pow(2,-10*tt)*Math.sin((tt-Be)*Te/_e)}}function ac(ce){return ce||(ce=1.70158),function(_e){return _e*_e*((ce+1)*_e-ce)}}function zc(ce){return ce<.36363636363636365?7.5625*ce*ce:ce<.7272727272727273?7.5625*(ce-=.5454545454545454)*ce+.75:ce<.9090909090909091?7.5625*(ce-=.8181818181818182)*ce+.9375:7.5625*(ce-=.9545454545454546)*ce+.984375}n.interpolateHcl=Vh;function Vh(ce,_e){ce=n.hcl(ce),_e=n.hcl(_e);var Be=ce.h,tt=ce.c,it=ce.l,ht=_e.h-Be,Dt=_e.c-tt,Et=_e.l-it;return isNaN(Dt)&&(Dt=0,tt=isNaN(tt)?_e.c:tt),isNaN(ht)?(ht=0,Be=isNaN(Be)?_e.h:Be):ht>180?ht-=360:ht<-180&&(ht+=360),function(Yt){return Wt(Be+ht*Yt,tt+Dt*Yt,it+Et*Yt)+""}}n.interpolateHsl=Hh;function Hh(ce,_e){ce=n.hsl(ce),_e=n.hsl(_e);var Be=ce.h,tt=ce.s,it=ce.l,ht=_e.h-Be,Dt=_e.s-tt,Et=_e.l-it;return isNaN(Dt)&&(Dt=0,tt=isNaN(tt)?_e.s:tt),isNaN(ht)?(ht=0,Be=isNaN(Be)?_e.h:Be):ht>180?ht-=360:ht<-180&&(ht+=360),function(Yt){return _t(Be+ht*Yt,tt+Dt*Yt,it+Et*Yt)+""}}n.interpolateLab=vu;function vu(ce,_e){ce=n.lab(ce),_e=n.lab(_e);var Be=ce.l,tt=ce.a,it=ce.b,ht=_e.l-Be,Dt=_e.a-tt,Et=_e.b-it;return function(Yt){return Ye(Be+ht*Yt,tt+Dt*Yt,it+Et*Yt)+""}}n.interpolateRound=Zs;function Zs(ce,_e){return _e-=ce,function(Be){return Math.round(ce+_e*Be)}}n.transform=function(ce){var _e=v.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(Be){if(Be!=null){_e.setAttribute("transform",Be);var tt=_e.transform.baseVal.consolidate()}return new ql(tt?tt.matrix:vh)})(ce)};function ql(ce){var _e=[ce.a,ce.b],Be=[ce.c,ce.d],tt=Sf(_e),it=Xu(_e,Be),ht=Sf(Ef(Be,_e,-it))||0;_e[0]*Be[1]<Be[0]*_e[1]&&(_e[0]*=-1,_e[1]*=-1,tt*=-1,it*=-1),this.rotate=(tt?Math.atan2(_e[1],_e[0]):Math.atan2(-Be[0],Be[1]))*lt,this.translate=[ce.e,ce.f],this.scale=[tt,ht],this.skew=ht?Math.atan2(it,ht)*lt:0}ql.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Xu(ce,_e){return ce[0]*_e[0]+ce[1]*_e[1]}function Sf(ce){var _e=Math.sqrt(Xu(ce,ce));return _e&&(ce[0]/=_e,ce[1]/=_e),_e}function Ef(ce,_e,Be){return ce[0]+=Be*_e[0],ce[1]+=Be*_e[1],ce}var vh={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=Xa;function Il(ce){return ce.length?ce.pop()+",":""}function Zu(ce,_e,Be,tt){if(ce[0]!==_e[0]||ce[1]!==_e[1]){var it=Be.push("translate(",null,",",null,")");tt.push({i:it-4,x:Mo(ce[0],_e[0])},{i:it-2,x:Mo(ce[1],_e[1])})}else(_e[0]||_e[1])&&Be.push("translate("+_e+")")}function En(ce,_e,Be,tt){ce!==_e?(ce-_e>180?_e+=360:_e-ce>180&&(ce+=360),tt.push({i:Be.push(Il(Be)+"rotate(",null,")")-2,x:Mo(ce,_e)})):_e&&Be.push(Il(Be)+"rotate("+_e+")")}function na(ce,_e,Be,tt){ce!==_e?tt.push({i:Be.push(Il(Be)+"skewX(",null,")")-2,x:Mo(ce,_e)}):_e&&Be.push(Il(Be)+"skewX("+_e+")")}function qn(ce,_e,Be,tt){if(ce[0]!==_e[0]||ce[1]!==_e[1]){var it=Be.push(Il(Be)+"scale(",null,",",null,")");tt.push({i:it-4,x:Mo(ce[0],_e[0])},{i:it-2,x:Mo(ce[1],_e[1])})}else(_e[0]!==1||_e[1]!==1)&&Be.push(Il(Be)+"scale("+_e+")")}function Xa(ce,_e){var Be=[],tt=[];return ce=n.transform(ce),_e=n.transform(_e),Zu(ce.translate,_e.translate,Be,tt),En(ce.rotate,_e.rotate,Be,tt),na(ce.skew,_e.skew,Be,tt),qn(ce.scale,_e.scale,Be,tt),ce=_e=null,function(it){for(var ht=-1,Dt=tt.length,Et;++ht<Dt;)Be[(Et=tt[ht]).i]=Et.x(it);return Be.join("")}}function li(ce,_e){return _e=(_e-=ce=+ce)||1/_e,function(Be){return(Be-ce)/_e}}function Ii(ce,_e){return _e=(_e-=ce=+ce)||1/_e,function(Be){return Math.max(0,Math.min(1,(Be-ce)/_e))}}n.layout={},n.layout.bundle=function(){return function(ce){for(var _e=[],Be=-1,tt=ce.length;++Be<tt;)_e.push(co(ce[Be]));return _e}};function co(ce){for(var _e=ce.source,Be=ce.target,tt=bl(_e,Be),it=[_e];_e!==tt;)_e=_e.parent,it.push(_e);for(var ht=it.length;Be!==tt;)it.splice(ht,0,Be),Be=Be.parent;return it}function $i(ce){for(var _e=[],Be=ce.parent;Be!=null;)_e.push(ce),ce=Be,Be=Be.parent;return _e.push(ce),_e}function bl(ce,_e){if(ce===_e)return ce;for(var Be=$i(ce),tt=$i(_e),it=Be.pop(),ht=tt.pop(),Dt=null;it===ht;)Dt=it,it=Be.pop(),ht=tt.pop();return Dt}n.layout.chord=function(){var ce={},_e,Be,tt,it,ht=0,Dt,Et,Yt;function Zt(){var Ir={},kr=[],sn=n.range(it),vn=[],Fr,Xr,an,pn,Mn;for(_e=[],Be=[],Fr=0,pn=-1;++pn<it;){for(Xr=0,Mn=-1;++Mn<it;)Xr+=tt[pn][Mn];kr.push(Xr),vn.push(n.range(it)),Fr+=Xr}for(Dt&&sn.sort(function(ii,Ia){return Dt(kr[ii],kr[Ia])}),Et&&vn.forEach(function(ii,Ia){ii.sort(function(ti,Si){return Et(tt[Ia][ti],tt[Ia][Si])})}),Fr=(Te-ht*it)/Fr,Xr=0,pn=-1;++pn<it;){for(an=Xr,Mn=-1;++Mn<it;){var fn=sn[pn],Dn=vn[fn][Mn],va=tt[fn][Dn],Ma=Xr,fa=Xr+=va*Fr;Ir[fn+"-"+Dn]={index:fn,subindex:Dn,startAngle:Ma,endAngle:fa,value:va}}Be[fn]={index:fn,startAngle:an,endAngle:Xr,value:kr[fn]},Xr+=ht}for(pn=-1;++pn<it;)for(Mn=pn-1;++Mn<it;){var Aa=Ir[pn+"-"+Mn],Sa=Ir[Mn+"-"+pn];(Aa.value||Sa.value)&&_e.push(Aa.value<Sa.value?{source:Sa,target:Aa}:{source:Aa,target:Sa})}Yt&&or()}function or(){_e.sort(function(Ir,kr){return Yt((Ir.source.value+Ir.target.value)/2,(kr.source.value+kr.target.value)/2)})}return ce.matrix=function(Ir){return arguments.length?(it=(tt=Ir)&&tt.length,_e=Be=null,ce):tt},ce.padding=function(Ir){return arguments.length?(ht=Ir,_e=Be=null,ce):ht},ce.sortGroups=function(Ir){return arguments.length?(Dt=Ir,_e=Be=null,ce):Dt},ce.sortSubgroups=function(Ir){return arguments.length?(Et=Ir,_e=null,ce):Et},ce.sortChords=function(Ir){return arguments.length?(Yt=Ir,_e&&or(),ce):Yt},ce.chords=function(){return _e||Zt(),_e},ce.groups=function(){return Be||Zt(),Be},ce},n.layout.force=function(){var ce={},_e=n.dispatch("start","tick","end"),Be,tt=[1,1],it,ht,Dt=.9,Et=ju,Yt=ic,Zt=-30,or=ji,Ir=.1,kr=.64,sn=[],vn=[],Fr,Xr,an;function pn(fn){return function(Dn,va,Ma,fa){if(Dn.point!==fn){var Aa=Dn.cx-fn.x,Sa=Dn.cy-fn.y,ii=fa-va,Ia=Aa*Aa+Sa*Sa;if(ii*ii/kr<Ia){if(Ia<or){var ti=Dn.charge/Ia;fn.px-=Aa*ti,fn.py-=Sa*ti}return!0}if(Dn.point&&Ia&&Ia<or){var ti=Dn.pointCharge/Ia;fn.px-=Aa*ti,fn.py-=Sa*ti}}return!Dn.charge}}ce.tick=function(){if((ht*=.99)<.005)return Be=null,_e.end({type:"end",alpha:ht=0}),!0;var fn=sn.length,Dn=vn.length,va,Ma,fa,Aa,Sa,ii,Ia,ti,Si;for(Ma=0;Ma<Dn;++Ma)fa=vn[Ma],Aa=fa.source,Sa=fa.target,ti=Sa.x-Aa.x,Si=Sa.y-Aa.y,(ii=ti*ti+Si*Si)&&(ii=ht*Xr[Ma]*((ii=Math.sqrt(ii))-Fr[Ma])/ii,ti*=ii,Si*=ii,Sa.x-=ti*(Ia=Aa.weight+Sa.weight?Aa.weight/(Aa.weight+Sa.weight):.5),Sa.y-=Si*Ia,Aa.x+=ti*(Ia=1-Ia),Aa.y+=Si*Ia);if((Ia=ht*Ir)&&(ti=tt[0]/2,Si=tt[1]/2,Ma=-1,Ia))for(;++Ma<fn;)fa=sn[Ma],fa.x+=(ti-fa.x)*Ia,fa.y+=(Si-fa.y)*Ia;if(Zt)for(no(va=n.geom.quadtree(sn),ht,an),Ma=-1;++Ma<fn;)(fa=sn[Ma]).fixed||va.visit(pn(fa));for(Ma=-1;++Ma<fn;)fa=sn[Ma],fa.fixed?(fa.x=fa.px,fa.y=fa.py):(fa.x-=(fa.px-(fa.px=fa.x))*Dt,fa.y-=(fa.py-(fa.py=fa.y))*Dt);_e.tick({type:"tick",alpha:ht})},ce.nodes=function(fn){return arguments.length?(sn=fn,ce):sn},ce.links=function(fn){return arguments.length?(vn=fn,ce):vn},ce.size=function(fn){return arguments.length?(tt=fn,ce):tt},ce.linkDistance=function(fn){return arguments.length?(Et=typeof fn=="function"?fn:+fn,ce):Et},ce.distance=ce.linkDistance,ce.linkStrength=function(fn){return arguments.length?(Yt=typeof fn=="function"?fn:+fn,ce):Yt},ce.friction=function(fn){return arguments.length?(Dt=+fn,ce):Dt},ce.charge=function(fn){return arguments.length?(Zt=typeof fn=="function"?fn:+fn,ce):Zt},ce.chargeDistance=function(fn){return arguments.length?(or=fn*fn,ce):Math.sqrt(or)},ce.gravity=function(fn){return arguments.length?(Ir=+fn,ce):Ir},ce.theta=function(fn){return arguments.length?(kr=fn*fn,ce):Math.sqrt(kr)},ce.alpha=function(fn){return arguments.length?(fn=+fn,ht?fn>0?ht=fn:(Be.c=null,Be.t=NaN,Be=null,_e.end({type:"end",alpha:ht=0})):fn>0&&(_e.start({type:"start",alpha:ht=fn}),Be=Gn(ce.tick)),ce):ht},ce.start=function(){var fn,Dn=sn.length,va=vn.length,Ma=tt[0],fa=tt[1],Aa,Sa;for(fn=0;fn<Dn;++fn)(Sa=sn[fn]).index=fn,Sa.weight=0;for(fn=0;fn<va;++fn)Sa=vn[fn],typeof Sa.source=="number"&&(Sa.source=sn[Sa.source]),typeof Sa.target=="number"&&(Sa.target=sn[Sa.target]),++Sa.source.weight,++Sa.target.weight;for(fn=0;fn<Dn;++fn)Sa=sn[fn],isNaN(Sa.x)&&(Sa.x=ii("x",Ma)),isNaN(Sa.y)&&(Sa.y=ii("y",fa)),isNaN(Sa.px)&&(Sa.px=Sa.x),isNaN(Sa.py)&&(Sa.py=Sa.y);if(Fr=[],typeof Et=="function")for(fn=0;fn<va;++fn)Fr[fn]=+Et.call(this,vn[fn],fn);else for(fn=0;fn<va;++fn)Fr[fn]=Et;if(Xr=[],typeof Yt=="function")for(fn=0;fn<va;++fn)Xr[fn]=+Yt.call(this,vn[fn],fn);else for(fn=0;fn<va;++fn)Xr[fn]=Yt;if(an=[],typeof Zt=="function")for(fn=0;fn<Dn;++fn)an[fn]=+Zt.call(this,sn[fn],fn);else for(fn=0;fn<Dn;++fn)an[fn]=Zt;function ii(Ia,ti){if(!Aa){for(Aa=new Array(Dn),Oi=0;Oi<Dn;++Oi)Aa[Oi]=[];for(Oi=0;Oi<va;++Oi){var Si=vn[Oi];Aa[Si.source.index].push(Si.target),Aa[Si.target.index].push(Si.source)}}for(var Eo=Aa[fn],Oi=-1,ca=Eo.length,$a;++Oi<ca;)if(!isNaN($a=Eo[Oi][Ia]))return $a;return Math.random()*ti}return ce.resume()},ce.resume=function(){return ce.alpha(.1)},ce.stop=function(){return ce.alpha(0)},ce.drag=function(){if(it||(it=n.behavior.drag().origin(F).on("dragstart.force",wl).on("drag.force",Mn).on("dragend.force",Ms)),!arguments.length)return it;this.on("mouseover.force",kl).on("mouseout.force",rl).call(it)};function Mn(fn){fn.px=n.event.x,fn.py=n.event.y,ce.resume()}return n.rebind(ce,_e,"on")};function wl(ce){ce.fixed|=2}function Ms(ce){ce.fixed&=-7}function kl(ce){ce.fixed|=4,ce.px=ce.x,ce.py=ce.y}function rl(ce){ce.fixed&=-5}function no(ce,_e,Be){var tt=0,it=0;if(ce.charge=0,!ce.leaf)for(var ht=ce.nodes,Dt=ht.length,Et=-1,Yt;++Et<Dt;)Yt=ht[Et],Yt!=null&&(no(Yt,_e,Be),ce.charge+=Yt.charge,tt+=Yt.charge*Yt.cx,it+=Yt.charge*Yt.cy);if(ce.point){ce.leaf||(ce.point.x+=Math.random()-.5,ce.point.y+=Math.random()-.5);var Zt=_e*Be[ce.point.index];ce.charge+=ce.pointCharge=Zt,tt+=Zt*ce.point.x,it+=Zt*ce.point.y}ce.cx=tt/ce.charge,ce.cy=it/ce.charge}var ju=20,ic=1,ji=1/0;n.layout.hierarchy=function(){var ce=sc,_e=oc,Be=Ju;function tt(it){var ht=[it],Dt=[],Et;for(it.depth=0;(Et=ht.pop())!=null;)if(Dt.push(Et),(Zt=_e.call(tt,Et,Et.depth))&&(Yt=Zt.length)){for(var Yt,Zt,or;--Yt>=0;)ht.push(or=Zt[Yt]),or.parent=Et,or.depth=Et.depth+1;Be&&(Et.value=0),Et.children=Zt}else Be&&(Et.value=+Be.call(tt,Et,Et.depth)||0),delete Et.children;return ts(it,function(Ir){var kr,sn;ce&&(kr=Ir.children)&&kr.sort(ce),Be&&(sn=Ir.parent)&&(sn.value+=Ir.value)}),Dt}return tt.sort=function(it){return arguments.length?(ce=it,tt):ce},tt.children=function(it){return arguments.length?(_e=it,tt):_e},tt.value=function(it){return arguments.length?(Be=it,tt):Be},tt.revalue=function(it){return Be&&(du(it,function(ht){ht.children&&(ht.value=0)}),ts(it,function(ht){var Dt;ht.children||(ht.value=+Be.call(tt,ht,ht.depth)||0),(Dt=ht.parent)&&(Dt.value+=ht.value)})),it},tt};function Ku(ce,_e){return n.rebind(ce,_e,"sort","children","value"),ce.nodes=ce,ce.links=lc,ce}function du(ce,_e){for(var Be=[ce];(ce=Be.pop())!=null;)if(_e(ce),(it=ce.children)&&(tt=it.length))for(var tt,it;--tt>=0;)Be.push(it[tt])}function ts(ce,_e){for(var Be=[ce],tt=[];(ce=Be.pop())!=null;)if(tt.push(ce),(Dt=ce.children)&&(ht=Dt.length))for(var it=-1,ht,Dt;++it<ht;)Be.push(Dt[it]);for(;(ce=tt.pop())!=null;)_e(ce)}function oc(ce){return ce.children}function Ju(ce){return ce.value}function sc(ce,_e){return _e.value-ce.value}function lc(ce){return n.merge(ce.map(function(_e){return(_e.children||[]).map(function(Be){return{source:_e,target:Be}})}))}n.layout.partition=function(){var ce=n.layout.hierarchy(),_e=[1,1];function Be(ht,Dt,Et,Yt){var Zt=ht.children;if(ht.x=Dt,ht.y=ht.depth*Yt,ht.dx=Et,ht.dy=Yt,Zt&&(Ir=Zt.length)){var or=-1,Ir,kr,sn;for(Et=ht.value?Et/ht.value:0;++or<Ir;)Be(kr=Zt[or],Dt,sn=kr.value*Et,Yt),Dt+=sn}}function tt(ht){var Dt=ht.children,Et=0;if(Dt&&(Zt=Dt.length))for(var Yt=-1,Zt;++Yt<Zt;)Et=Math.max(Et,tt(Dt[Yt]));return 1+Et}function it(ht,Dt){var Et=ce.call(this,ht,Dt);return Be(Et[0],0,_e[0],_e[1]/tt(Et[0])),Et}return it.size=function(ht){return arguments.length?(_e=ht,it):_e},Ku(it,ce)},n.layout.pie=function(){var ce=Number,_e=Ol,Be=0,tt=Te,it=0;function ht(Dt){var Et=Dt.length,Yt=Dt.map(function(pn,Mn){return+ce.call(ht,pn,Mn)}),Zt=+(typeof Be=="function"?Be.apply(this,arguments):Be),or=(typeof tt=="function"?tt.apply(this,arguments):tt)-Zt,Ir=Math.min(Math.abs(or)/Et,+(typeof it=="function"?it.apply(this,arguments):it)),kr=Ir*(or<0?-1:1),sn=n.sum(Yt),vn=sn?(or-Et*kr)/sn:0,Fr=n.range(Et),Xr=[],an;return _e!=null&&Fr.sort(_e===Ol?function(pn,Mn){return Yt[Mn]-Yt[pn]}:function(pn,Mn){return _e(Dt[pn],Dt[Mn])}),Fr.forEach(function(pn){Xr[pn]={data:Dt[pn],value:an=Yt[pn],startAngle:Zt,endAngle:Zt+=an*vn+kr,padAngle:Ir}}),Xr}return ht.value=function(Dt){return arguments.length?(ce=Dt,ht):ce},ht.sort=function(Dt){return arguments.length?(_e=Dt,ht):_e},ht.startAngle=function(Dt){return arguments.length?(Be=Dt,ht):Be},ht.endAngle=function(Dt){return arguments.length?(tt=Dt,ht):tt},ht.padAngle=function(Dt){return arguments.length?(it=Dt,ht):it},ht};var Ol={};n.layout.stack=function(){var ce=F,_e=eu,Be=Lf,tt=Qu,it=$u,ht=uc;function Dt(Et,Yt){if(!(vn=Et.length))return Et;var Zt=Et.map(function(pn,Mn){return ce.call(Dt,pn,Mn)}),or=Zt.map(function(pn){return pn.map(function(Mn,fn){return[it.call(Dt,Mn,fn),ht.call(Dt,Mn,fn)]})}),Ir=_e.call(Dt,or,Yt);Zt=n.permute(Zt,Ir),or=n.permute(or,Ir);var kr=Be.call(Dt,or,Yt),sn=Zt[0].length,vn,Fr,Xr,an;for(Xr=0;Xr<sn;++Xr)for(tt.call(Dt,Zt[0][Xr],an=kr[Xr],or[0][Xr][1]),Fr=1;Fr<vn;++Fr)tt.call(Dt,Zt[Fr][Xr],an+=or[Fr-1][Xr][1],or[Fr][Xr][1]);return Et}return Dt.values=function(Et){return arguments.length?(ce=Et,Dt):ce},Dt.order=function(Et){return arguments.length?(_e=typeof Et=="function"?Et:pu.get(Et)||eu,Dt):_e},Dt.offset=function(Et){return arguments.length?(Be=typeof Et=="function"?Et:Cf.get(Et)||Lf,Dt):Be},Dt.x=function(Et){return arguments.length?(it=Et,Dt):it},Dt.y=function(Et){return arguments.length?(ht=Et,Dt):ht},Dt.out=function(Et){return arguments.length?(tt=Et,Dt):tt},Dt};function $u(ce){return ce.x}function uc(ce){return ce.y}function Qu(ce,_e,Be){ce.y0=_e,ce.y=Be}var pu=n.map({"inside-out":function(ce){var _e=ce.length,Be,tt,it=ce.map(Hi),ht=ce.map(tu),Dt=n.range(_e).sort(function(Ir,kr){return it[Ir]-it[kr]}),Et=0,Yt=0,Zt=[],or=[];for(Be=0;Be<_e;++Be)tt=Dt[Be],Et<Yt?(Et+=ht[tt],Zt.push(tt)):(Yt+=ht[tt],or.push(tt));return or.reverse().concat(Zt)},reverse:function(ce){return n.range(ce.length).reverse()},default:eu}),Cf=n.map({silhouette:function(ce){var _e=ce.length,Be=ce[0].length,tt=[],it=0,ht,Dt,Et,Yt=[];for(Dt=0;Dt<Be;++Dt){for(ht=0,Et=0;ht<_e;ht++)Et+=ce[ht][Dt][1];Et>it&&(it=Et),tt.push(Et)}for(Dt=0;Dt<Be;++Dt)Yt[Dt]=(it-tt[Dt])/2;return Yt},wiggle:function(ce){var _e=ce.length,Be=ce[0],tt=Be.length,it,ht,Dt,Et,Yt,Zt,or,Ir,kr,sn=[];for(sn[0]=Ir=kr=0,ht=1;ht<tt;++ht){for(it=0,Et=0;it<_e;++it)Et+=ce[it][ht][1];for(it=0,Yt=0,or=Be[ht][0]-Be[ht-1][0];it<_e;++it){for(Dt=0,Zt=(ce[it][ht][1]-ce[it][ht-1][1])/(2*or);Dt<it;++Dt)Zt+=(ce[Dt][ht][1]-ce[Dt][ht-1][1])/or;Yt+=Zt*ce[it][ht][1]}sn[ht]=Ir-=Et?Yt/Et*or:0,Ir<kr&&(kr=Ir)}for(ht=0;ht<tt;++ht)sn[ht]-=kr;return sn},expand:function(ce){var _e=ce.length,Be=ce[0].length,tt=1/_e,it,ht,Dt,Et=[];for(ht=0;ht<Be;++ht){for(it=0,Dt=0;it<_e;it++)Dt+=ce[it][ht][1];if(Dt)for(it=0;it<_e;it++)ce[it][ht][1]/=Dt;else for(it=0;it<_e;it++)ce[it][ht][1]=tt}for(ht=0;ht<Be;++ht)Et[ht]=0;return Et},zero:Lf});function eu(ce){return n.range(ce.length)}function Lf(ce){for(var _e=-1,Be=ce[0].length,tt=[];++_e<Be;)tt[_e]=0;return tt}function Hi(ce){for(var _e=1,Be=0,tt=ce[0][1],it,ht=ce.length;_e<ht;++_e)(it=ce[_e][1])>tt&&(Be=_e,tt=it);return Be}function tu(ce){return ce.reduce(Ss,0)}function Ss(ce,_e){return ce+_e[1]}n.layout.histogram=function(){var ce=!0,_e=Number,Be=gu,tt=dh;function it(ht,kr){for(var Et=[],Yt=ht.map(_e,this),Zt=Be.call(this,Yt,kr),or=tt.call(this,Zt,Yt,kr),Ir,kr=-1,sn=Yt.length,vn=or.length-1,Fr=ce?1:1/sn,Xr;++kr<vn;)Ir=Et[kr]=[],Ir.dx=or[kr+1]-(Ir.x=or[kr]),Ir.y=0;if(vn>0)for(kr=-1;++kr<sn;)Xr=Yt[kr],Xr>=Zt[0]&&Xr<=Zt[1]&&(Ir=Et[n.bisect(or,Xr,1,vn)-1],Ir.y+=Fr,Ir.push(ht[kr]));return Et}return it.value=function(ht){return arguments.length?(_e=ht,it):_e},it.range=function(ht){return arguments.length?(Be=tn(ht),it):Be},it.bins=function(ht){return arguments.length?(tt=typeof ht=="number"?function(Dt){return Fc(Dt,ht)}:tn(ht),it):tt},it.frequency=function(ht){return arguments.length?(ce=!!ht,it):ce},it};function dh(ce,_e){return Fc(ce,Math.ceil(Math.log(_e.length)/Math.LN2+1))}function Fc(ce,_e){for(var Be=-1,tt=+ce[0],it=(ce[1]-tt)/_e,ht=[];++Be<=_e;)ht[Be]=it*Be+tt;return ht}function gu(ce){return[n.min(ce),n.max(ce)]}n.layout.pack=function(){var ce=n.layout.hierarchy().sort(nl),_e=0,Be=[1,1],tt;function it(ht,Dt){var Et=ce.call(this,ht,Dt),Yt=Et[0],Zt=Be[0],or=Be[1],Ir=tt==null?Math.sqrt:typeof tt=="function"?tt:function(){return tt};if(Yt.x=Yt.y=0,ts(Yt,function(sn){sn.r=+Ir(sn.value)}),ts(Yt,js),_e){var kr=_e*(tt?1:Math.max(2*Yt.r/Zt,2*Yt.r/or))/2;ts(Yt,function(sn){sn.r+=kr}),ts(Yt,js),ts(Yt,function(sn){sn.r-=kr})}return lo(Yt,Zt/2,or/2,tt?1:1/Math.max(2*Yt.r/Zt,2*Yt.r/or)),Et}return it.size=function(ht){return arguments.length?(Be=ht,it):Be},it.radius=function(ht){return arguments.length?(tt=ht==null||typeof ht=="function"?ht:+ht,it):tt},it.padding=function(ht){return arguments.length?(_e=+ht,it):_e},Ku(it,ce)};function nl(ce,_e){return ce.value-_e.value}function yu(ce,_e){var Be=ce._pack_next;ce._pack_next=_e,_e._pack_prev=ce,_e._pack_next=Be,Be._pack_prev=_e}function bo(ce,_e){ce._pack_next=_e,_e._pack_prev=ce}function _f(ce,_e){var Be=_e.x-ce.x,tt=_e.y-ce.y,it=ce.r+_e.r;return .999*it*it>Be*Be+tt*tt}function js(ce){if(!(_e=ce.children)||!(kr=_e.length))return;var _e,Be=1/0,tt=-1/0,it=1/0,ht=-1/0,Dt,Et,Yt,Zt,or,Ir,kr;function sn(fn){Be=Math.min(fn.x-fn.r,Be),tt=Math.max(fn.x+fn.r,tt),it=Math.min(fn.y-fn.r,it),ht=Math.max(fn.y+fn.r,ht)}if(_e.forEach(zl),Dt=_e[0],Dt.x=-Dt.r,Dt.y=0,sn(Dt),kr>1&&(Et=_e[1],Et.x=Et.r,Et.y=0,sn(Et),kr>2))for(Yt=_e[2],uo(Dt,Et,Yt),sn(Yt),yu(Dt,Yt),Dt._pack_prev=Yt,yu(Yt,Et),Et=Dt._pack_next,Zt=3;Zt<kr;Zt++){uo(Dt,Et,Yt=_e[Zt]);var vn=0,Fr=1,Xr=1;for(or=Et._pack_next;or!==Et;or=or._pack_next,Fr++)if(_f(or,Yt)){vn=1;break}if(vn==1)for(Ir=Dt._pack_prev;Ir!==or._pack_prev&&!_f(Ir,Yt);Ir=Ir._pack_prev,Xr++);vn?(Fr<Xr||Fr==Xr&&Et.r<Dt.r?bo(Dt,Et=or):bo(Dt=Ir,Et),Zt--):(yu(Dt,Yt),Et=Yt,sn(Yt))}var an=(Be+tt)/2,pn=(it+ht)/2,Mn=0;for(Zt=0;Zt<kr;Zt++)Yt=_e[Zt],Yt.x-=an,Yt.y-=pn,Mn=Math.max(Mn,Yt.r+Math.sqrt(Yt.x*Yt.x+Yt.y*Yt.y));ce.r=Mn,_e.forEach(mu)}function zl(ce){ce._pack_next=ce._pack_prev=ce}function mu(ce){delete ce._pack_next,delete ce._pack_prev}function lo(ce,_e,Be,tt){var it=ce.children;if(ce.x=_e+=tt*ce.x,ce.y=Be+=tt*ce.y,ce.r*=tt,it)for(var ht=-1,Dt=it.length;++ht<Dt;)lo(it[ht],_e,Be,tt)}function uo(ce,_e,Be){var tt=ce.r+Be.r,it=_e.x-ce.x,ht=_e.y-ce.y;if(tt&&(it||ht)){var Dt=_e.r+Be.r,Et=it*it+ht*ht;Dt*=Dt,tt*=tt;var Yt=.5+(tt-Dt)/(2*Et),Zt=Math.sqrt(Math.max(0,2*Dt*(tt+Et)-(tt-=Et)*tt-Dt*Dt))/(2*Et);Be.x=ce.x+Yt*it+Zt*ht,Be.y=ce.y+Yt*ht-Zt*it}else Be.x=ce.x+tt,Be.y=ce.y}n.layout.tree=function(){var ce=n.layout.hierarchy().sort(null).value(null),_e=Fl,Be=[1,1],tt=null;function it(or,Ir){var kr=ce.call(this,or,Ir),sn=kr[0],vn=ht(sn);if(ts(vn,Dt),vn.parent.m=-vn.z,du(vn,Et),tt)du(sn,Zt);else{var Fr=sn,Xr=sn,an=sn;du(sn,function(Dn){Dn.x<Fr.x&&(Fr=Dn),Dn.x>Xr.x&&(Xr=Dn),Dn.depth>an.depth&&(an=Dn)});var pn=_e(Fr,Xr)/2-Fr.x,Mn=Be[0]/(Xr.x+_e(Xr,Fr)/2+pn),fn=Be[1]/(an.depth||1);du(sn,function(Dn){Dn.x=(Dn.x+pn)*Mn,Dn.y=Dn.depth*fn})}return kr}function ht(or){for(var Ir={A:null,children:[or]},kr=[Ir],sn;(sn=kr.pop())!=null;)for(var vn=sn.children,Fr,Xr=0,an=vn.length;Xr<an;++Xr)kr.push((vn[Xr]=Fr={_:vn[Xr],parent:sn,children:(Fr=vn[Xr].children)&&Fr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Xr}).a=Fr);return Ir.children[0]}function Dt(or){var Ir=or.children,kr=or.parent.children,sn=or.i?kr[or.i-1]:null;if(Ir.length){Nc(or);var vn=(Ir[0].z+Ir[Ir.length-1].z)/2;sn?(or.z=sn.z+_e(or._,sn._),or.m=or.z-vn):or.z=vn}else sn&&(or.z=sn.z+_e(or._,sn._));or.parent.A=Yt(or,sn,or.parent.A||kr[0])}function Et(or){or._.x=or.z+or.parent.m,or.m+=or.parent.m}function Yt(or,Ir,kr){if(Ir){for(var sn=or,vn=or,Fr=Ir,Xr=sn.parent.children[0],an=sn.m,pn=vn.m,Mn=Fr.m,fn=Xr.m,Dn;Fr=Fs(Fr),sn=al(sn),Fr&&sn;)Xr=al(Xr),vn=Fs(vn),vn.a=or,Dn=Fr.z+Mn-sn.z-an+_e(Fr._,sn._),Dn>0&&(Pf(Rf(Fr,or,kr),or,Dn),an+=Dn,pn+=Dn),Mn+=Fr.m,an+=sn.m,fn+=Xr.m,pn+=vn.m;Fr&&!Fs(vn)&&(vn.t=Fr,vn.m+=Mn-pn),sn&&!al(Xr)&&(Xr.t=sn,Xr.m+=an-fn,kr=or)}return kr}function Zt(or){or.x*=Be[0],or.y=or.depth*Be[1]}return it.separation=function(or){return arguments.length?(_e=or,it):_e},it.size=function(or){return arguments.length?(tt=(Be=or)==null?Zt:null,it):tt?null:Be},it.nodeSize=function(or){return arguments.length?(tt=(Be=or)==null?null:Zt,it):tt?Be:null},Ku(it,ce)};function Fl(ce,_e){return ce.parent==_e.parent?1:2}function al(ce){var _e=ce.children;return _e.length?_e[0]:ce.t}function Fs(ce){var _e=ce.children,Be;return(Be=_e.length)?_e[Be-1]:ce.t}function Pf(ce,_e,Be){var tt=Be/(_e.i-ce.i);_e.c-=tt,_e.s+=Be,ce.c+=tt,_e.z+=Be,_e.m+=Be}function Nc(ce){for(var _e=0,Be=0,tt=ce.children,it=tt.length,ht;--it>=0;)ht=tt[it],ht.z+=_e,ht.m+=_e,_e+=ht.s+(Be+=ht.c)}function Rf(ce,_e,Be){return ce.a.parent===_e.parent?ce.a:Be}n.layout.cluster=function(){var ce=n.layout.hierarchy().sort(null).value(null),_e=Fl,Be=[1,1],tt=!1;function it(ht,Dt){var Et=ce.call(this,ht,Dt),Yt=Et[0],Zt,or=0;ts(Yt,function(Fr){var Xr=Fr.children;Xr&&Xr.length?(Fr.x=qu(Xr),Fr.y=Bc(Xr)):(Fr.x=Zt?or+=_e(Fr,Zt):0,Fr.y=0,Zt=Fr)});var Ir=xu(Yt),kr=ef(Yt),sn=Ir.x-_e(Ir,kr)/2,vn=kr.x+_e(kr,Ir)/2;return ts(Yt,tt?function(Fr){Fr.x=(Fr.x-Yt.x)*Be[0],Fr.y=(Yt.y-Fr.y)*Be[1]}:function(Fr){Fr.x=(Fr.x-sn)/(vn-sn)*Be[0],Fr.y=(1-(Yt.y?Fr.y/Yt.y:1))*Be[1]}),Et}return it.separation=function(ht){return arguments.length?(_e=ht,it):_e},it.size=function(ht){return arguments.length?(tt=(Be=ht)==null,it):tt?null:Be},it.nodeSize=function(ht){return arguments.length?(tt=(Be=ht)!=null,it):tt?Be:null},Ku(it,ce)};function Bc(ce){return 1+n.max(ce,function(_e){return _e.y})}function qu(ce){return ce.reduce(function(_e,Be){return _e+Be.x},0)/ce.length}function xu(ce){var _e=ce.children;return _e&&_e.length?xu(_e[0]):ce}function ef(ce){var _e=ce.children,Be;return _e&&(Be=_e.length)?ef(_e[Be-1]):ce}n.layout.treemap=function(){var ce=n.layout.hierarchy(),_e=Math.round,Be=[1,1],tt=null,it=Nl,ht=!1,Dt,Et="squarify",Yt=.5*(1+Math.sqrt(5));function Zt(Fr,Xr){for(var an=-1,pn=Fr.length,Mn,fn;++an<pn;)fn=(Mn=Fr[an]).value*(Xr<0?0:Xr),Mn.area=isNaN(fn)||fn<=0?0:fn}function or(Fr){var Xr=Fr.children;if(Xr&&Xr.length){var an=it(Fr),pn=[],Mn=Xr.slice(),fn,Dn=1/0,va,Ma=Et==="slice"?an.dx:Et==="dice"?an.dy:Et==="slice-dice"?Fr.depth&1?an.dy:an.dx:Math.min(an.dx,an.dy),fa;for(Zt(Mn,an.dx*an.dy/Fr.value),pn.area=0;(fa=Mn.length)>0;)pn.push(fn=Mn[fa-1]),pn.area+=fn.area,Et!=="squarify"||(va=kr(pn,Ma))<=Dn?(Mn.pop(),Dn=va):(pn.area-=pn.pop().area,sn(pn,Ma,an,!1),Ma=Math.min(an.dx,an.dy),pn.length=pn.area=0,Dn=1/0);pn.length&&(sn(pn,Ma,an,!0),pn.length=pn.area=0),Xr.forEach(or)}}function Ir(Fr){var Xr=Fr.children;if(Xr&&Xr.length){var an=it(Fr),pn=Xr.slice(),Mn,fn=[];for(Zt(pn,an.dx*an.dy/Fr.value),fn.area=0;Mn=pn.pop();)fn.push(Mn),fn.area+=Mn.area,Mn.z!=null&&(sn(fn,Mn.z?an.dx:an.dy,an,!pn.length),fn.length=fn.area=0);Xr.forEach(Ir)}}function kr(Fr,Xr){for(var an=Fr.area,pn,Mn=0,fn=1/0,Dn=-1,va=Fr.length;++Dn<va;)(pn=Fr[Dn].area)&&(pn<fn&&(fn=pn),pn>Mn&&(Mn=pn));return an*=an,Xr*=Xr,an?Math.max(Xr*Mn*Yt/an,an/(Xr*fn*Yt)):1/0}function sn(Fr,Xr,an,pn){var Mn=-1,fn=Fr.length,Dn=an.x,va=an.y,Ma=Xr?_e(Fr.area/Xr):0,fa;if(Xr==an.dx){for((pn||Ma>an.dy)&&(Ma=an.dy);++Mn<fn;)fa=Fr[Mn],fa.x=Dn,fa.y=va,fa.dy=Ma,Dn+=fa.dx=Math.min(an.x+an.dx-Dn,Ma?_e(fa.area/Ma):0);fa.z=!0,fa.dx+=an.x+an.dx-Dn,an.y+=Ma,an.dy-=Ma}else{for((pn||Ma>an.dx)&&(Ma=an.dx);++Mn<fn;)fa=Fr[Mn],fa.x=Dn,fa.y=va,fa.dx=Ma,va+=fa.dy=Math.min(an.y+an.dy-va,Ma?_e(fa.area/Ma):0);fa.z=!1,fa.dy+=an.y+an.dy-va,an.x+=Ma,an.dx-=Ma}}function vn(Fr){var Xr=Dt||ce(Fr),an=Xr[0];return an.x=an.y=0,an.value?(an.dx=Be[0],an.dy=Be[1]):an.dx=an.dy=0,Dt&&ce.revalue(an),Zt([an],an.dx*an.dy/an.value),(Dt?Ir:or)(an),ht&&(Dt=Xr),Xr}return vn.size=function(Fr){return arguments.length?(Be=Fr,vn):Be},vn.padding=function(Fr){if(!arguments.length)return tt;function Xr(Mn){var fn=Fr.call(vn,Mn,Mn.depth);return fn==null?Nl(Mn):So(Mn,typeof fn=="number"?[fn,fn,fn,fn]:fn)}function an(Mn){return So(Mn,Fr)}var pn;return it=(tt=Fr)==null?Nl:(pn=typeof Fr)=="function"?Xr:(pn==="number"&&(Fr=[Fr,Fr,Fr,Fr]),an),vn},vn.round=function(Fr){return arguments.length?(_e=Fr?Math.round:Number,vn):_e!=Number},vn.sticky=function(Fr){return arguments.length?(ht=Fr,Dt=null,vn):ht},vn.ratio=function(Fr){return arguments.length?(Yt=Fr,vn):Yt},vn.mode=function(Fr){return arguments.length?(Et=Fr+"",vn):Et},Ku(vn,ce)};function Nl(ce){return{x:ce.x,y:ce.y,dx:ce.dx,dy:ce.dy}}function So(ce,_e){var Be=ce.x+_e[3],tt=ce.y+_e[0],it=ce.dx-_e[1]-_e[3],ht=ce.dy-_e[0]-_e[2];return it<0&&(Be+=it/2,it=0),ht<0&&(tt+=ht/2,ht=0),{x:Be,y:tt,dx:it,dy:ht}}n.random={normal:function(ce,_e){var Be=arguments.length;return Be<2&&(_e=1),Be<1&&(ce=0),function(){var tt,it,ht;do tt=Math.random()*2-1,it=Math.random()*2-1,ht=tt*tt+it*it;while(!ht||ht>1);return ce+_e*tt*Math.sqrt(-2*Math.log(ht)/ht)}},logNormal:function(){var ce=n.random.normal.apply(n,arguments);return function(){return Math.exp(ce())}},bates:function(ce){var _e=n.random.irwinHall(ce);return function(){return _e()/ce}},irwinHall:function(ce){return function(){for(var _e=0,Be=0;Be<ce;Be++)_e+=Math.random();return _e}}},n.scale={};function Ns(ce){var _e=ce[0],Be=ce[ce.length-1];return _e<Be?[_e,Be]:[Be,_e]}function tf(ce){return ce.rangeExtent?ce.rangeExtent():Ns(ce.range())}function ph(ce,_e,Be,tt){var it=Be(ce[0],ce[1]),ht=tt(_e[0],_e[1]);return function(Dt){return ht(it(Dt))}}function Df(ce,_e){var Be=0,tt=ce.length-1,it=ce[Be],ht=ce[tt],Dt;return ht<it&&(Dt=Be,Be=tt,tt=Dt,Dt=it,it=ht,ht=Dt),ce[Be]=_e.floor(it),ce[tt]=_e.ceil(ht),ce}function Bl(ce){return ce?{floor:function(_e){return Math.floor(_e/ce)*ce},ceil:function(_e){return Math.ceil(_e/ce)*ce}}:fc}var fc={floor:F,ceil:F};function rf(ce,_e,Be,tt){var it=[],ht=[],Dt=0,Et=Math.min(ce.length,_e.length)-1;for(ce[Et]<ce[0]&&(ce=ce.slice().reverse(),_e=_e.slice().reverse());++Dt<=Et;)it.push(Be(ce[Dt-1],ce[Dt])),ht.push(tt(_e[Dt-1],_e[Dt]));return function(Yt){var Zt=n.bisect(ce,Yt,1,Et)-1;return ht[Zt](it[Zt](Yt))}}n.scale.linear=function(){return Uc([0,1],[0,1],eo,!1)};function Uc(ce,_e,Be,tt){var it,ht;function Dt(){var Yt=Math.min(ce.length,_e.length)>2?rf:ph,Zt=tt?Ii:li;return it=Yt(ce,_e,Zt,Be),ht=Yt(_e,ce,Zt,eo),Et}function Et(Yt){return it(Yt)}return Et.invert=function(Yt){return ht(Yt)},Et.domain=function(Yt){return arguments.length?(ce=Yt.map(Number),Dt()):ce},Et.range=function(Yt){return arguments.length?(_e=Yt,Dt()):_e},Et.rangeRound=function(Yt){return Et.range(Yt).interpolate(Zs)},Et.clamp=function(Yt){return arguments.length?(tt=Yt,Dt()):tt},Et.interpolate=function(Yt){return arguments.length?(Be=Yt,Dt()):Be},Et.ticks=function(Yt){return Po(ce,Yt)},Et.tickFormat=function(Yt,Zt){return d3_scale_linearTickFormat(ce,Yt,Zt)},Et.nice=function(Yt){return bu(ce,Yt),Dt()},Et.copy=function(){return Uc(ce,_e,Be,tt)},Dt()}function Lr(ce,_e){return n.rebind(ce,_e,"range","rangeRound","interpolate","clamp")}function bu(ce,_e){return Df(ce,Bl(Xo(ce,_e)[2])),Df(ce,Bl(Xo(ce,_e)[2])),ce}function Xo(ce,_e){_e==null&&(_e=10);var Be=Ns(ce),tt=Be[1]-Be[0],it=Math.pow(10,Math.floor(Math.log(tt/_e)/Math.LN10)),ht=_e/tt*it;return ht<=.15?it*=10:ht<=.35?it*=5:ht<=.75&&(it*=2),Be[0]=Math.ceil(Be[0]/it)*it,Be[1]=Math.floor(Be[1]/it)*it+it*.5,Be[2]=it,Be}function Po(ce,_e){return n.range.apply(n,Xo(ce,_e))}n.scale.log=function(){return yi(n.scale.linear().domain([0,1]),10,!0,[1,10])};function yi(ce,_e,Be,tt){function it(Et){return(Be?Math.log(Et<0?0:Et):-Math.log(Et>0?0:-Et))/Math.log(_e)}function ht(Et){return Be?Math.pow(_e,Et):-Math.pow(_e,-Et)}function Dt(Et){return ce(it(Et))}return Dt.invert=function(Et){return ht(ce.invert(Et))},Dt.domain=function(Et){return arguments.length?(Be=Et[0]>=0,ce.domain((tt=Et.map(Number)).map(it)),Dt):tt},Dt.base=function(Et){return arguments.length?(_e=+Et,ce.domain(tt.map(it)),Dt):_e},Dt.nice=function(){var Et=Df(tt.map(it),Be?Math:nf);return ce.domain(Et),tt=Et.map(ht),Dt},Dt.ticks=function(){var Et=Ns(tt),Yt=[],Zt=Et[0],or=Et[1],Ir=Math.floor(it(Zt)),kr=Math.ceil(it(or)),sn=_e%1?2:_e;if(isFinite(kr-Ir)){if(Be){for(;Ir<kr;Ir++)for(var vn=1;vn<sn;vn++)Yt.push(ht(Ir)*vn);Yt.push(ht(Ir))}else for(Yt.push(ht(Ir));Ir++<kr;)for(var vn=sn-1;vn>0;vn--)Yt.push(ht(Ir)*vn);for(Ir=0;Yt[Ir]<Zt;Ir++);for(kr=Yt.length;Yt[kr-1]>or;kr--);Yt=Yt.slice(Ir,kr)}return Yt},Dt.copy=function(){return yi(ce.copy(),_e,Be,tt)},Lr(Dt,ce)}var nf={floor:function(ce){return-Math.ceil(-ce)},ceil:function(ce){return-Math.floor(-ce)}};n.scale.pow=function(){return cc(n.scale.linear(),1,[0,1])};function cc(ce,_e,Be){var tt=wu(_e),it=wu(1/_e);function ht(Dt){return ce(tt(Dt))}return ht.invert=function(Dt){return it(ce.invert(Dt))},ht.domain=function(Dt){return arguments.length?(ce.domain((Be=Dt.map(Number)).map(tt)),ht):Be},ht.ticks=function(Dt){return Po(Be,Dt)},ht.tickFormat=function(Dt,Et){return d3_scale_linearTickFormat(Be,Dt,Et)},ht.nice=function(Dt){return ht.domain(bu(Be,Dt))},ht.exponent=function(Dt){return arguments.length?(tt=wu(_e=Dt),it=wu(1/_e),ce.domain(Be.map(tt)),ht):_e},ht.copy=function(){return cc(ce.copy(),_e,Be)},Lr(ht,ce)}function wu(ce){return function(_e){return _e<0?-Math.pow(-_e,ce):Math.pow(_e,ce)}}n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return Bs([],{t:"range",a:[[]]})};function Bs(ce,_e){var Be,tt,it;function ht(Et){return tt[((Be.get(Et)||(_e.t==="range"?Be.set(Et,ce.push(Et)):NaN))-1)%tt.length]}function Dt(Et,Yt){return n.range(ce.length).map(function(Zt){return Et+Yt*Zt})}return ht.domain=function(Et){if(!arguments.length)return ce;ce=[],Be=new _;for(var Yt=-1,Zt=Et.length,or;++Yt<Zt;)Be.has(or=Et[Yt])||Be.set(or,ce.push(or));return ht[_e.t].apply(ht,_e.a)},ht.range=function(Et){return arguments.length?(tt=Et,it=0,_e={t:"range",a:arguments},ht):tt},ht.rangePoints=function(Et,Yt){arguments.length<2&&(Yt=0);var Zt=Et[0],or=Et[1],Ir=ce.length<2?(Zt=(Zt+or)/2,0):(or-Zt)/(ce.length-1+Yt);return tt=Dt(Zt+Ir*Yt/2,Ir),it=0,_e={t:"rangePoints",a:arguments},ht},ht.rangeRoundPoints=function(Et,Yt){arguments.length<2&&(Yt=0);var Zt=Et[0],or=Et[1],Ir=ce.length<2?(Zt=or=Math.round((Zt+or)/2),0):(or-Zt)/(ce.length-1+Yt)|0;return tt=Dt(Zt+Math.round(Ir*Yt/2+(or-Zt-(ce.length-1+Yt)*Ir)/2),Ir),it=0,_e={t:"rangeRoundPoints",a:arguments},ht},ht.rangeBands=function(Et,Yt,Zt){arguments.length<2&&(Yt=0),arguments.length<3&&(Zt=Yt);var or=Et[1]<Et[0],Ir=Et[or-0],kr=Et[1-or],sn=(kr-Ir)/(ce.length-Yt+2*Zt);return tt=Dt(Ir+sn*Zt,sn),or&&tt.reverse(),it=sn*(1-Yt),_e={t:"rangeBands",a:arguments},ht},ht.rangeRoundBands=function(Et,Yt,Zt){arguments.length<2&&(Yt=0),arguments.length<3&&(Zt=Yt);var or=Et[1]<Et[0],Ir=Et[or-0],kr=Et[1-or],sn=Math.floor((kr-Ir)/(ce.length-Yt+2*Zt));return tt=Dt(Ir+Math.round((kr-Ir-(ce.length-Yt)*sn)/2),sn),or&&tt.reverse(),it=Math.round(sn*(1-Yt)),_e={t:"rangeRoundBands",a:arguments},ht},ht.rangeBand=function(){return it},ht.rangeExtent=function(){return Ns(_e.a[0])},ht.copy=function(){return Bs(ce,_e)},ht.domain(ce)}n.scale.category10=function(){return n.scale.ordinal().range(gh)},n.scale.category20=function(){return n.scale.ordinal().range(Ul)},n.scale.category20b=function(){return n.scale.ordinal().range(af)},n.scale.category20c=function(){return n.scale.ordinal().range(ru)};var gh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Vt),Ul=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Vt),af=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Vt),ru=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Vt);n.scale.quantile=function(){return Vl([],[])};function Vl(ce,_e){var Be;function tt(){var ht=0,Dt=_e.length;for(Be=[];++ht<Dt;)Be[ht-1]=n.quantile(ce,ht/Dt);return it}function it(ht){if(!isNaN(ht=+ht))return _e[n.bisect(Be,ht)]}return it.domain=function(ht){return arguments.length?(ce=ht.map(m).filter(h).sort(l),tt()):ce},it.range=function(ht){return arguments.length?(_e=ht,tt()):_e},it.quantiles=function(){return Be},it.invertExtent=function(ht){return ht=_e.indexOf(ht),ht<0?[NaN,NaN]:[ht>0?Be[ht-1]:ce[0],ht<Be.length?Be[ht]:ce[ce.length-1]]},it.copy=function(){return Vl(ce,_e)},tt()}n.scale.quantize=function(){return Us(0,1,[0,1])};function Us(ce,_e,Be){var tt,it;function ht(Et){return Be[Math.max(0,Math.min(it,Math.floor(tt*(Et-ce))))]}function Dt(){return tt=Be.length/(_e-ce),it=Be.length-1,ht}return ht.domain=function(Et){return arguments.length?(ce=+Et[0],_e=+Et[Et.length-1],Dt()):[ce,_e]},ht.range=function(Et){return arguments.length?(Be=Et,Dt()):Be},ht.invertExtent=function(Et){return Et=Be.indexOf(Et),Et=Et<0?NaN:Et/tt+ce,[Et,Et+1/tt]},ht.copy=function(){return Us(ce,_e,Be)},Dt()}n.scale.threshold=function(){return of([.5],[0,1])};function of(ce,_e){function Be(tt){if(tt<=tt)return _e[n.bisect(ce,tt)]}return Be.domain=function(tt){return arguments.length?(ce=tt,Be):ce},Be.range=function(tt){return arguments.length?(_e=tt,Be):_e},Be.invertExtent=function(tt){return tt=_e.indexOf(tt),[ce[tt-1],ce[tt]]},Be.copy=function(){return of(ce,_e)},Be}n.scale.identity=function(){return Ki([0,1])};function Ki(ce){function _e(Be){return+Be}return _e.invert=_e,_e.domain=_e.range=function(Be){return arguments.length?(ce=Be.map(_e),_e):ce},_e.ticks=function(Be){return Po(ce,Be)},_e.tickFormat=function(Be,tt){return d3_scale_linearTickFormat(ce,Be,tt)},_e.copy=function(){return Ki(ce)},_e}n.svg={};function sf(){return 0}n.svg.arc=function(){var ce=yh,_e=Es,Be=sf,tt=hc,it=If,ht=vc,Dt=Vc;function Et(){var Zt=Math.max(0,+ce.apply(this,arguments)),or=Math.max(0,+_e.apply(this,arguments)),Ir=it.apply(this,arguments)-et,kr=ht.apply(this,arguments)-et,sn=Math.abs(kr-Ir),vn=Ir>kr?0:1;if(or<Zt&&(Fr=or,or=Zt,Zt=Fr),sn>=Ue)return Yt(or,vn)+(Zt?Yt(Zt,1-vn):"")+"Z";var Fr,Xr,an,pn,Mn=0,fn=0,Dn,va,Ma,fa,Aa,Sa,ii,Ia,ti=[];if((pn=(+Dt.apply(this,arguments)||0)/2)&&(an=tt===hc?Math.sqrt(Zt*Zt+or*or):+tt.apply(this,arguments),vn||(fn*=-1),or&&(fn=Jt(an/or*Math.sin(pn))),Zt&&(Mn=Jt(an/Zt*Math.sin(pn)))),or){Dn=or*Math.cos(Ir+fn),va=or*Math.sin(Ir+fn),Ma=or*Math.cos(kr-fn),fa=or*Math.sin(kr-fn);var Si=Math.abs(kr-Ir-2*fn)<=pe?0:1;if(fn&&kf(Dn,va,Ma,fa)===vn^Si){var Eo=(Ir+kr)/2;Dn=or*Math.cos(Eo),va=or*Math.sin(Eo),Ma=fa=null}}else Dn=va=0;if(Zt){Aa=Zt*Math.cos(kr-Mn),Sa=Zt*Math.sin(kr-Mn),ii=Zt*Math.cos(Ir+Mn),Ia=Zt*Math.sin(Ir+Mn);var Oi=Math.abs(Ir-kr+2*Mn)<=pe?0:1;if(Mn&&kf(Aa,Sa,ii,Ia)===1-vn^Oi){var ca=(Ir+kr)/2;Aa=Zt*Math.cos(ca),Sa=Zt*Math.sin(ca),ii=Ia=null}}else Aa=Sa=0;if(sn>Ke&&(Fr=Math.min(Math.abs(or-Zt)/2,+Be.apply(this,arguments)))>.001){Xr=Zt<or^vn?0:1;var $a=Fr,za=Fr;if(sn<pe){var wi=ii==null?[Aa,Sa]:Ma==null?[Dn,va]:wn([Dn,va],[ii,Ia],[Ma,fa],[Aa,Sa]),ao=Dn-wi[0],Ei=va-wi[1],Bo=Ma-wi[0],Oo=fa-wi[1],Zo=1/Math.sin(Math.acos((ao*Bo+Ei*Oo)/(Math.sqrt(ao*ao+Ei*Ei)*Math.sqrt(Bo*Bo+Oo*Oo)))/2),ro=Math.sqrt(wi[0]*wi[0]+wi[1]*wi[1]);za=Math.min(Fr,(Zt-ro)/(Zo-1)),$a=Math.min(Fr,(or-ro)/(Zo+1))}if(Ma!=null){var jo=Of(ii==null?[Aa,Sa]:[ii,Ia],[Dn,va],or,$a,vn),ya=Of([Ma,fa],[Aa,Sa],or,$a,vn);Fr===$a?ti.push("M",jo[0],"A",$a,",",$a," 0 0,",Xr," ",jo[1],"A",or,",",or," 0 ",1-vn^kf(jo[1][0],jo[1][1],ya[1][0],ya[1][1]),",",vn," ",ya[1],"A",$a,",",$a," 0 0,",Xr," ",ya[0]):ti.push("M",jo[0],"A",$a,",",$a," 0 1,",Xr," ",ya[0])}else ti.push("M",Dn,",",va);if(ii!=null){var Ya=Of([Dn,va],[ii,Ia],Zt,-za,vn),Io=Of([Aa,Sa],Ma==null?[Dn,va]:[Ma,fa],Zt,-za,vn);Fr===za?ti.push("L",Io[0],"A",za,",",za," 0 0,",Xr," ",Io[1],"A",Zt,",",Zt," 0 ",vn^kf(Io[1][0],Io[1][1],Ya[1][0],Ya[1][1]),",",1-vn," ",Ya[1],"A",za,",",za," 0 0,",Xr," ",Ya[0]):ti.push("L",Io[0],"A",za,",",za," 0 0,",Xr," ",Ya[0])}else ti.push("L",Aa,",",Sa)}else ti.push("M",Dn,",",va),Ma!=null&&ti.push("A",or,",",or," 0 ",Si,",",vn," ",Ma,",",fa),ti.push("L",Aa,",",Sa),ii!=null&&ti.push("A",Zt,",",Zt," 0 ",Oi,",",1-vn," ",ii,",",Ia);return ti.push("Z"),ti.join("")}function Yt(Zt,or){return"M0,"+Zt+"A"+Zt+","+Zt+" 0 1,"+or+" 0,"+-Zt+"A"+Zt+","+Zt+" 0 1,"+or+" 0,"+Zt}return Et.innerRadius=function(Zt){return arguments.length?(ce=tn(Zt),Et):ce},Et.outerRadius=function(Zt){return arguments.length?(_e=tn(Zt),Et):_e},Et.cornerRadius=function(Zt){return arguments.length?(Be=tn(Zt),Et):Be},Et.padRadius=function(Zt){return arguments.length?(tt=Zt==hc?hc:tn(Zt),Et):tt},Et.startAngle=function(Zt){return arguments.length?(it=tn(Zt),Et):it},Et.endAngle=function(Zt){return arguments.length?(ht=tn(Zt),Et):ht},Et.padAngle=function(Zt){return arguments.length?(Dt=tn(Zt),Et):Dt},Et.centroid=function(){var Zt=(+ce.apply(this,arguments)+ +_e.apply(this,arguments))/2,or=(+it.apply(this,arguments)+ +ht.apply(this,arguments))/2-et;return[Math.cos(or)*Zt,Math.sin(or)*Zt]},Et};var hc="auto";function yh(ce){return ce.innerRadius}function Es(ce){return ce.outerRadius}function If(ce){return ce.startAngle}function vc(ce){return ce.endAngle}function Vc(ce){return ce&&ce.padAngle}function kf(ce,_e,Be,tt){return(ce-Be)*_e-(_e-tt)*ce>0?0:1}function Of(ce,_e,Be,tt,it){var ht=ce[0]-_e[0],Dt=ce[1]-_e[1],Et=(it?tt:-tt)/Math.sqrt(ht*ht+Dt*Dt),Yt=Et*Dt,Zt=-Et*ht,or=ce[0]+Yt,Ir=ce[1]+Zt,kr=_e[0]+Yt,sn=_e[1]+Zt,vn=(or+kr)/2,Fr=(Ir+sn)/2,Xr=kr-or,an=sn-Ir,pn=Xr*Xr+an*an,Mn=Be-tt,fn=or*sn-kr*Ir,Dn=(an<0?-1:1)*Math.sqrt(Math.max(0,Mn*Mn*pn-fn*fn)),va=(fn*an-Xr*Dn)/pn,Ma=(-fn*Xr-an*Dn)/pn,fa=(fn*an+Xr*Dn)/pn,Aa=(-fn*Xr+an*Dn)/pn,Sa=va-vn,ii=Ma-Fr,Ia=fa-vn,ti=Aa-Fr;return Sa*Sa+ii*ii>Ia*Ia+ti*ti&&(va=fa,Ma=Aa),[[va-Yt,Ma-Zt],[va*Be/Mn,Ma*Be/Mn]]}function Cs(){return!0}function zf(ce){var _e=Fa,Be=La,tt=Cs,it=to,ht=it.key,Dt=.7;function Et(Yt){var Zt=[],or=[],Ir=-1,kr=Yt.length,sn,vn=tn(_e),Fr=tn(Be);function Xr(){Zt.push("M",it(ce(or),Dt))}for(;++Ir<kr;)tt.call(this,sn=Yt[Ir],Ir)?or.push([+vn.call(this,sn,Ir),+Fr.call(this,sn,Ir)]):or.length&&(Xr(),or=[]);return or.length&&Xr(),Zt.length?Zt.join(""):null}return Et.x=function(Yt){return arguments.length?(_e=Yt,Et):_e},Et.y=function(Yt){return arguments.length?(Be=Yt,Et):Be},Et.defined=function(Yt){return arguments.length?(tt=Yt,Et):tt},Et.interpolate=function(Yt){return arguments.length?(typeof Yt=="function"?ht=it=Yt:ht=(it=nu.get(Yt)||to).key,Et):ht},Et.tension=function(Yt){return arguments.length?(Dt=Yt,Et):Dt},Et}n.svg.line=function(){return zf(F)};var nu=n.map({linear:to,"linear-closed":Tl,step:Hc,"step-before":Tu,"step-after":dc,basis:au,"basis-open":lf,"basis-closed":il,bundle:Gh,cardinal:Gc,"cardinal-open":Ff,"cardinal-closed":mh,monotone:Vf});nu.forEach(function(ce,_e){_e.key=ce,_e.closed=/-closed$/.test(ce)});function to(ce){return ce.length>1?ce.join("L"):ce+"Z"}function Tl(ce){return ce.join("L")+"Z"}function Hc(ce){for(var _e=0,Be=ce.length,tt=ce[0],it=[tt[0],",",tt[1]];++_e<Be;)it.push("H",(tt[0]+(tt=ce[_e])[0])/2,"V",tt[1]);return Be>1&&it.push("H",tt[0]),it.join("")}function Tu(ce){for(var _e=0,Be=ce.length,tt=ce[0],it=[tt[0],",",tt[1]];++_e<Be;)it.push("V",(tt=ce[_e])[1],"H",tt[0]);return it.join("")}function dc(ce){for(var _e=0,Be=ce.length,tt=ce[0],it=[tt[0],",",tt[1]];++_e<Be;)it.push("H",(tt=ce[_e])[0],"V",tt[1]);return it.join("")}function Ff(ce,_e){return ce.length<4?to(ce):ce[1]+vs(ce.slice(1,-1),Nf(ce,_e))}function mh(ce,_e){return ce.length<3?Tl(ce):ce[0]+vs((ce.push(ce[0]),ce),Nf([ce[ce.length-2]].concat(ce,[ce[1]]),_e))}function Gc(ce,_e){return ce.length<3?to(ce):ce[0]+vs(ce,Nf(ce,_e))}function vs(ce,_e){if(_e.length<1||ce.length!=_e.length&&ce.length!=_e.length+2)return to(ce);var Be=ce.length!=_e.length,tt="",it=ce[0],ht=ce[1],Dt=_e[0],Et=Dt,Yt=1;if(Be&&(tt+="Q"+(ht[0]-Dt[0]*2/3)+","+(ht[1]-Dt[1]*2/3)+","+ht[0]+","+ht[1],it=ce[1],Yt=2),_e.length>1){Et=_e[1],ht=ce[Yt],Yt++,tt+="C"+(it[0]+Dt[0])+","+(it[1]+Dt[1])+","+(ht[0]-Et[0])+","+(ht[1]-Et[1])+","+ht[0]+","+ht[1];for(var Zt=2;Zt<_e.length;Zt++,Yt++)ht=ce[Yt],Et=_e[Zt],tt+="S"+(ht[0]-Et[0])+","+(ht[1]-Et[1])+","+ht[0]+","+ht[1]}if(Be){var or=ce[Yt];tt+="Q"+(ht[0]+Et[0]*2/3)+","+(ht[1]+Et[1]*2/3)+","+or[0]+","+or[1]}return tt}function Nf(ce,_e){for(var Be=[],tt=(1-_e)/2,it,ht=ce[0],Dt=ce[1],Et=1,Yt=ce.length;++Et<Yt;)it=ht,ht=Dt,Dt=ce[Et],Be.push([tt*(Dt[0]-it[0]),tt*(Dt[1]-it[1])]);return Be}function au(ce){if(ce.length<3)return to(ce);var _e=1,Be=ce.length,tt=ce[0],it=tt[0],ht=tt[1],Dt=[it,it,it,(tt=ce[1])[0]],Et=[ht,ht,ht,tt[1]],Yt=[it,",",ht,"L",ms(ol,Dt),",",ms(ol,Et)];for(ce.push(ce[Be-1]);++_e<=Be;)tt=ce[_e],Dt.shift(),Dt.push(tt[0]),Et.shift(),Et.push(tt[1]),Ls(Yt,Dt,Et);return ce.pop(),Yt.push("L",tt),Yt.join("")}function lf(ce){if(ce.length<4)return to(ce);for(var _e=[],Be=-1,tt=ce.length,it,ht=[0],Dt=[0];++Be<3;)it=ce[Be],ht.push(it[0]),Dt.push(it[1]);for(_e.push(ms(ol,ht)+","+ms(ol,Dt)),--Be;++Be<tt;)it=ce[Be],ht.shift(),ht.push(it[0]),Dt.shift(),Dt.push(it[1]),Ls(_e,ht,Dt);return _e.join("")}function il(ce){for(var _e,Be=-1,tt=ce.length,it=tt+4,ht,Dt=[],Et=[];++Be<4;)ht=ce[Be%tt],Dt.push(ht[0]),Et.push(ht[1]);for(_e=[ms(ol,Dt),",",ms(ol,Et)],--Be;++Be<it;)ht=ce[Be%tt],Dt.shift(),Dt.push(ht[0]),Et.shift(),Et.push(ht[1]),Ls(_e,Dt,Et);return _e.join("")}function Gh(ce,_e){var Be=ce.length-1;if(Be)for(var tt=ce[0][0],it=ce[0][1],ht=ce[Be][0]-tt,Dt=ce[Be][1]-it,Et=-1,Yt,Zt;++Et<=Be;)Yt=ce[Et],Zt=Et/Be,Yt[0]=_e*Yt[0]+(1-_e)*(tt+Zt*ht),Yt[1]=_e*Yt[1]+(1-_e)*(it+Zt*Dt);return au(ce)}function ms(ce,_e){return ce[0]*_e[0]+ce[1]*_e[1]+ce[2]*_e[2]+ce[3]*_e[3]}var Bf=[0,2/3,1/3,0],Ks=[0,1/3,2/3,0],ol=[0,1/6,2/3,1/6];function Ls(ce,_e,Be){ce.push("C",ms(Bf,_e),",",ms(Bf,Be),",",ms(Ks,_e),",",ms(Ks,Be),",",ms(ol,_e),",",ms(ol,Be))}function _s(ce,_e){return(_e[1]-ce[1])/(_e[0]-ce[0])}function Uf(ce){for(var _e=0,Be=ce.length-1,tt=[],it=ce[0],ht=ce[1],Dt=tt[0]=_s(it,ht);++_e<Be;)tt[_e]=(Dt+(Dt=_s(it=ht,ht=ce[_e+1])))/2;return tt[_e]=Dt,tt}function uf(ce){for(var _e=[],Be,tt,it,ht,Dt=Uf(ce),Et=-1,Yt=ce.length-1;++Et<Yt;)Be=_s(ce[Et],ce[Et+1]),p(Be)<Ke?Dt[Et]=Dt[Et+1]=0:(tt=Dt[Et]/Be,it=Dt[Et+1]/Be,ht=tt*tt+it*it,ht>9&&(ht=Be*3/Math.sqrt(ht),Dt[Et]=ht*tt,Dt[Et+1]=ht*it));for(Et=-1;++Et<=Yt;)ht=(ce[Math.min(Yt,Et+1)][0]-ce[Math.max(0,Et-1)][0])/(6*(1+Dt[Et]*Dt[Et])),_e.push([ht||0,Dt[Et]*ht||0]);return _e}function Vf(ce){return ce.length<3?to(ce):ce[0]+vs(ce,uf(ce))}n.svg.line.radial=function(){var ce=zf(ff);return ce.radius=ce.x,delete ce.x,ce.angle=ce.y,delete ce.y,ce};function ff(ce){for(var _e,Be=-1,tt=ce.length,it,ht;++Be<tt;)_e=ce[Be],it=_e[0],ht=_e[1]-et,_e[0]=it*Math.cos(ht),_e[1]=it*Math.sin(ht);return ce}function Js(ce){var _e=Fa,Be=Fa,tt=0,it=La,ht=Cs,Dt=to,Et=Dt.key,Yt=Dt,Zt="L",or=.7;function Ir(kr){var sn=[],vn=[],Fr=[],Xr=-1,an=kr.length,pn,Mn=tn(_e),fn=tn(tt),Dn=_e===Be?function(){return Ma}:tn(Be),va=tt===it?function(){return fa}:tn(it),Ma,fa;function Aa(){sn.push("M",Dt(ce(Fr),or),Zt,Yt(ce(vn.reverse()),or),"Z")}for(;++Xr<an;)ht.call(this,pn=kr[Xr],Xr)?(vn.push([Ma=+Mn.call(this,pn,Xr),fa=+fn.call(this,pn,Xr)]),Fr.push([+Dn.call(this,pn,Xr),+va.call(this,pn,Xr)])):vn.length&&(Aa(),vn=[],Fr=[]);return vn.length&&Aa(),sn.length?sn.join(""):null}return Ir.x=function(kr){return arguments.length?(_e=Be=kr,Ir):Be},Ir.x0=function(kr){return arguments.length?(_e=kr,Ir):_e},Ir.x1=function(kr){return arguments.length?(Be=kr,Ir):Be},Ir.y=function(kr){return arguments.length?(tt=it=kr,Ir):it},Ir.y0=function(kr){return arguments.length?(tt=kr,Ir):tt},Ir.y1=function(kr){return arguments.length?(it=kr,Ir):it},Ir.defined=function(kr){return arguments.length?(ht=kr,Ir):ht},Ir.interpolate=function(kr){return arguments.length?(typeof kr=="function"?Et=Dt=kr:Et=(Dt=nu.get(kr)||to).key,Yt=Dt.reverse||Dt,Zt=Dt.closed?"M":"L",Ir):Et},Ir.tension=function(kr){return arguments.length?(or=kr,Ir):or},Ir}Tu.reverse=dc,dc.reverse=Tu,n.svg.area=function(){return Js(F)},n.svg.area.radial=function(){var ce=Js(ff);return ce.radius=ce.x,delete ce.x,ce.innerRadius=ce.x0,delete ce.x0,ce.outerRadius=ce.x1,delete ce.x1,ce.angle=ce.y,delete ce.y,ce.startAngle=ce.y0,delete ce.y0,ce.endAngle=ce.y1,delete ce.y1,ce};function pc(ce){return ce.source}function Au(ce){return ce.target}n.svg.chord=function(){var ce=pc,_e=Au,Be=cf,tt=If,it=vc;function ht(or,Ir){var kr=Dt(this,ce,or,Ir),sn=Dt(this,_e,or,Ir);return"M"+kr.p0+Yt(kr.r,kr.p1,kr.a1-kr.a0)+(Et(kr,sn)?Zt(kr.r,kr.p1,kr.r,kr.p0):Zt(kr.r,kr.p1,sn.r,sn.p0)+Yt(sn.r,sn.p1,sn.a1-sn.a0)+Zt(sn.r,sn.p1,kr.r,kr.p0))+"Z"}function Dt(or,Ir,kr,sn){var vn=Ir.call(or,kr,sn),Fr=Be.call(or,vn,sn),Xr=tt.call(or,vn,sn)-et,an=it.call(or,vn,sn)-et;return{r:Fr,a0:Xr,a1:an,p0:[Fr*Math.cos(Xr),Fr*Math.sin(Xr)],p1:[Fr*Math.cos(an),Fr*Math.sin(an)]}}function Et(or,Ir){return or.a0==Ir.a0&&or.a1==Ir.a1}function Yt(or,Ir,kr){return"A"+or+","+or+" 0 "+ +(kr>pe)+",1 "+Ir}function Zt(or,Ir,kr,sn){return"Q 0,0 "+sn}return ht.radius=function(or){return arguments.length?(Be=tn(or),ht):Be},ht.source=function(or){return arguments.length?(ce=tn(or),ht):ce},ht.target=function(or){return arguments.length?(_e=tn(or),ht):_e},ht.startAngle=function(or){return arguments.length?(tt=tn(or),ht):tt},ht.endAngle=function(or){return arguments.length?(it=tn(or),ht):it},ht};function cf(ce){return ce.radius}n.svg.diagonal=function(){var ce=pc,_e=Au,Be=Hf;function tt(it,ht){var Dt=ce.call(this,it,ht),Et=_e.call(this,it,ht),Yt=(Dt.y+Et.y)/2,Zt=[Dt,{x:Dt.x,y:Yt},{x:Et.x,y:Yt},Et];return Zt=Zt.map(Be),"M"+Zt[0]+"C"+Zt[1]+" "+Zt[2]+" "+Zt[3]}return tt.source=function(it){return arguments.length?(ce=tn(it),tt):ce},tt.target=function(it){return arguments.length?(_e=tn(it),tt):_e},tt.projection=function(it){return arguments.length?(Be=it,tt):Be},tt};function Hf(ce){return[ce.x,ce.y]}n.svg.diagonal.radial=function(){var ce=n.svg.diagonal(),_e=Hf,Be=ce.projection;return ce.projection=function(tt){return arguments.length?Be(Wc(_e=tt)):_e},ce};function Wc(ce){return function(){var _e=ce.apply(this,arguments),Be=_e[0],tt=_e[1]-et;return[Be*Math.cos(tt),Be*Math.sin(tt)]}}n.svg.symbol=function(){var ce=ot,_e=Qe;function Be(tt,it){return(At.get(ce.call(this,tt,it))||mt)(_e.call(this,tt,it))}return Be.type=function(tt){return arguments.length?(ce=tn(tt),Be):ce},Be.size=function(tt){return arguments.length?(_e=tn(tt),Be):_e},Be};function Qe(){return 64}function ot(){return"circle"}function mt(ce){var _e=Math.sqrt(ce/pe);return"M0,"+_e+"A"+_e+","+_e+" 0 1,1 0,"+-_e+"A"+_e+","+_e+" 0 1,1 0,"+_e+"Z"}var At=n.map({circle:mt,cross:function(ce){var _e=Math.sqrt(ce/5)/2;return"M"+-3*_e+","+-_e+"H"+-_e+"V"+-3*_e+"H"+_e+"V"+-_e+"H"+3*_e+"V"+_e+"H"+_e+"V"+3*_e+"H"+-_e+"V"+_e+"H"+-3*_e+"Z"},diamond:function(ce){var _e=Math.sqrt(ce/(2*Ot)),Be=_e*Ot;return"M0,"+-_e+"L"+Be+",0 0,"+_e+" "+-Be+",0Z"},square:function(ce){var _e=Math.sqrt(ce)/2;return"M"+-_e+","+-_e+"L"+_e+","+-_e+" "+_e+","+_e+" "+-_e+","+_e+"Z"},"triangle-down":function(ce){var _e=Math.sqrt(ce/Nt),Be=_e*Nt/2;return"M0,"+Be+"L"+_e+","+-Be+" "+-_e+","+-Be+"Z"},"triangle-up":function(ce){var _e=Math.sqrt(ce/Nt),Be=_e*Nt/2;return"M0,"+-Be+"L"+_e+","+Be+" "+-_e+","+Be+"Z"}});n.svg.symbolTypes=At.keys();var Nt=Math.sqrt(3),Ot=Math.tan(30*st);K.transition=function(ce){for(var _e=Br||++Rr,Be=Nn(ce),tt=[],it,ht,Dt=Zr||{time:Date.now(),ease:$l,delay:0,duration:250},Et=-1,Yt=this.length;++Et<Yt;){tt.push(it=[]);for(var Zt=this[Et],or=-1,Ir=Zt.length;++or<Ir;)(ht=Zt[or])&&Wn(ht,or,Be,_e,Dt),it.push(ht)}return Tr(tt,Be,_e)},K.interrupt=function(ce){return this.each(ce==null?Ut:xr(Nn(ce)))};var Ut=xr(Nn());function xr(ce){return function(){var _e,Be,tt;(_e=this[ce])&&(tt=_e[Be=_e.active])&&(tt.timer.c=null,tt.timer.t=NaN,--_e.count?delete _e[Be]:delete this[ce],_e.active+=.5,tt.event&&tt.event.interrupt.call(this,this.__data__,tt.index))}}function Tr(ce,_e,Be){return te(ce,cr),ce.namespace=_e,ce.id=Be,ce}var cr=[],Rr=0,Br,Zr;cr.call=K.call,cr.empty=K.empty,cr.node=K.node,cr.size=K.size,n.transition=function(ce,_e){return ce&&ce.transition?Br?ce.transition(_e):ce:n.selection().transition(ce)},n.transition.prototype=cr,cr.select=function(ce){var _e=this.id,Be=this.namespace,tt=[],it,ht,Dt;ce=ue(ce);for(var Et=-1,Yt=this.length;++Et<Yt;){tt.push(it=[]);for(var Zt=this[Et],or=-1,Ir=Zt.length;++or<Ir;)(Dt=Zt[or])&&(ht=ce.call(Dt,Dt.__data__,or,Et))?("__data__"in Dt&&(ht.__data__=Dt.__data__),Wn(ht,or,Be,_e,Dt[Be][_e]),it.push(ht)):it.push(null)}return Tr(tt,Be,_e)},cr.selectAll=function(ce){var _e=this.id,Be=this.namespace,tt=[],it,ht,Dt,Et,Yt;ce=ae(ce);for(var Zt=-1,or=this.length;++Zt<or;)for(var Ir=this[Zt],kr=-1,sn=Ir.length;++kr<sn;)if(Dt=Ir[kr]){Yt=Dt[Be][_e],ht=ce.call(Dt,Dt.__data__,kr,Zt),tt.push(it=[]);for(var vn=-1,Fr=ht.length;++vn<Fr;)(Et=ht[vn])&&Wn(Et,vn,Be,_e,Yt),it.push(Et)}return Tr(tt,Be,_e)},cr.filter=function(ce){var _e=[],Be,tt,it;typeof ce!="function"&&(ce=ft(ce));for(var ht=0,Dt=this.length;ht<Dt;ht++){_e.push(Be=[]);for(var tt=this[ht],Et=0,Yt=tt.length;Et<Yt;Et++)(it=tt[Et])&&ce.call(it,it.__data__,Et,ht)&&Be.push(it)}return Tr(_e,this.namespace,this.id)},cr.tween=function(ce,_e){var Be=this.id,tt=this.namespace;return arguments.length<2?this.node()[tt][Be].tween.get(ce):ct(this,_e==null?function(it){it[tt][Be].tween.remove(ce)}:function(it){it[tt][Be].tween.set(ce,_e)})};function cn(ce,_e,Be,tt){var it=ce.id,ht=ce.namespace;return ct(ce,typeof Be=="function"?function(Dt,Et,Yt){Dt[ht][it].tween.set(_e,tt(Be.call(Dt,Dt.__data__,Et,Yt)))}:(Be=tt(Be),function(Dt){Dt[ht][it].tween.set(_e,Be)}))}cr.attr=function(ce,_e){if(arguments.length<2){for(_e in ce)this.attr(_e,ce[_e]);return this}var Be=ce=="transform"?Xa:eo,tt=n.ns.qualify(ce);function it(){this.removeAttribute(tt)}function ht(){this.removeAttributeNS(tt.space,tt.local)}function Dt(Yt){return Yt==null?it:(Yt+="",function(){var Zt=this.getAttribute(tt),or;return Zt!==Yt&&(or=Be(Zt,Yt),function(Ir){this.setAttribute(tt,or(Ir))})})}function Et(Yt){return Yt==null?ht:(Yt+="",function(){var Zt=this.getAttributeNS(tt.space,tt.local),or;return Zt!==Yt&&(or=Be(Zt,Yt),function(Ir){this.setAttributeNS(tt.space,tt.local,or(Ir))})})}return cn(this,"attr."+ce,_e,tt.local?Et:Dt)},cr.attrTween=function(ce,_e){var Be=n.ns.qualify(ce);function tt(ht,Dt){var Et=_e.call(this,ht,Dt,this.getAttribute(Be));return Et&&function(Yt){this.setAttribute(Be,Et(Yt))}}function it(ht,Dt){var Et=_e.call(this,ht,Dt,this.getAttributeNS(Be.space,Be.local));return Et&&function(Yt){this.setAttributeNS(Be.space,Be.local,Et(Yt))}}return this.tween("attr."+ce,Be.local?it:tt)},cr.style=function(ce,_e,Be){var tt=arguments.length;if(tt<3){if(typeof ce!="string"){tt<2&&(_e="");for(Be in ce)this.style(Be,ce[Be],_e);return this}Be=""}function it(){this.style.removeProperty(ce)}function ht(Dt){return Dt==null?it:(Dt+="",function(){var Et=r(this).getComputedStyle(this,null).getPropertyValue(ce),Yt;return Et!==Dt&&(Yt=eo(Et,Dt),function(Zt){this.style.setProperty(ce,Yt(Zt),Be)})})}return cn(this,"style."+ce,_e,ht)},cr.styleTween=function(ce,_e,Be){arguments.length<3&&(Be="");function tt(it,ht){var Dt=_e.call(this,it,ht,r(this).getComputedStyle(this,null).getPropertyValue(ce));return Dt&&function(Et){this.style.setProperty(ce,Dt(Et),Be)}}return this.tween("style."+ce,tt)},cr.text=function(ce){return cn(this,"text",ce,_n)};function _n(ce){return ce==null&&(ce=""),function(){this.textContent=ce}}cr.remove=function(){var ce=this.namespace;return this.each("end.transition",function(){var _e;this[ce].count<2&&(_e=this.parentNode)&&_e.removeChild(this)})},cr.ease=function(ce){var _e=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][_e].ease:(typeof ce!="function"&&(ce=n.ease.apply(n,arguments)),ct(this,function(tt){tt[Be][_e].ease=ce}))},cr.delay=function(ce){var _e=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][_e].delay:ct(this,typeof ce=="function"?function(tt,it,ht){tt[Be][_e].delay=+ce.call(tt,tt.__data__,it,ht)}:(ce=+ce,function(tt){tt[Be][_e].delay=ce}))},cr.duration=function(ce){var _e=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][_e].duration:ct(this,typeof ce=="function"?function(tt,it,ht){tt[Be][_e].duration=Math.max(1,ce.call(tt,tt.__data__,it,ht))}:(ce=Math.max(1,ce),function(tt){tt[Be][_e].duration=ce}))},cr.each=function(ce,_e){var Be=this.id,tt=this.namespace;if(arguments.length<2){var it=Zr,ht=Br;try{Br=Be,ct(this,function(Dt,Et,Yt){Zr=Dt[tt][Be],ce.call(Dt,Dt.__data__,Et,Yt)})}finally{Zr=it,Br=ht}}else ct(this,function(Dt){var Et=Dt[tt][Be];(Et.event||(Et.event=n.dispatch("start","end","interrupt"))).on(ce,_e)});return this},cr.transition=function(){for(var ce=this.id,_e=++Rr,Be=this.namespace,tt=[],it,ht,Dt,Et,Yt=0,Zt=this.length;Yt<Zt;Yt++){tt.push(it=[]);for(var ht=this[Yt],or=0,Ir=ht.length;or<Ir;or++)(Dt=ht[or])&&(Et=Dt[Be][ce],Wn(Dt,or,Be,_e,{time:Et.time,ease:Et.ease,delay:Et.delay+Et.duration,duration:Et.duration})),it.push(Dt)}return Tr(tt,Be,_e)};function Nn(ce){return ce==null?"__transition__":"__transition_"+ce+"__"}function Wn(ce,_e,Be,tt,it){var ht=ce[Be]||(ce[Be]={active:0,count:0}),Dt=ht[tt],Et,Yt,Zt,or,Ir;function kr(Fr){var Xr=Dt.delay;if(Yt.t=Xr+Et,Xr<=Fr)return sn(Fr-Xr);Yt.c=sn}function sn(Fr){var Xr=ht.active,an=ht[Xr];an&&(an.timer.c=null,an.timer.t=NaN,--ht.count,delete ht[Xr],an.event&&an.event.interrupt.call(ce,ce.__data__,an.index));for(var pn in ht)if(+pn<tt){var Mn=ht[pn];Mn.timer.c=null,Mn.timer.t=NaN,--ht.count,delete ht[pn]}Yt.c=vn,Gn(function(){return Yt.c&&vn(Fr||1)&&(Yt.c=null,Yt.t=NaN),1},0,Et),ht.active=tt,Dt.event&&Dt.event.start.call(ce,ce.__data__,_e),Ir=[],Dt.tween.forEach(function(fn,Dn){(Dn=Dn.call(ce,ce.__data__,_e))&&Ir.push(Dn)}),or=Dt.ease,Zt=Dt.duration}function vn(Fr){for(var Xr=Fr/Zt,an=or(Xr),pn=Ir.length;pn>0;)Ir[--pn].call(ce,an);if(Xr>=1)return Dt.event&&Dt.event.end.call(ce,ce.__data__,_e),--ht.count?delete ht[tt]:delete ce[Be],1}Dt||(Et=it.time,Yt=Gn(kr,0,Et),Dt=ht[tt]={tween:new _,time:Et,timer:Yt,delay:it.delay,duration:it.duration,ease:it.ease,index:_e},it=null,++ht.count)}n.svg.axis=function(){var ce=n.scale.linear(),_e=oa,Be=6,tt=6,it=3,ht=[10],Dt=null,Et;function Yt(Zt){Zt.each(function(){var or=n.select(this),Ir=this.__chart__||ce,kr=this.__chart__=ce.copy(),sn=Dt??(kr.ticks?kr.ticks.apply(kr,ht):kr.domain()),vn=Et??(kr.tickFormat?kr.tickFormat.apply(kr,ht):F),Fr=or.selectAll(".tick").data(sn,kr),Xr=Fr.enter().insert("g",".domain").attr("class","tick").style("opacity",Ke),an=n.transition(Fr.exit()).style("opacity",Ke).remove(),pn=n.transition(Fr.order()).style("opacity",1),Mn=Math.max(Be,0)+it,fn,Dn=tf(kr),va=or.selectAll(".domain").data([0]),Ma=(va.enter().append("path").attr("class","domain"),n.transition(va));Xr.append("line"),Xr.append("text");var fa=Xr.select("line"),Aa=pn.select("line"),Sa=Fr.select("text").text(vn),ii=Xr.select("text"),Ia=pn.select("text"),ti=_e==="top"||_e==="left"?-1:1,Si,Eo,Oi,ca;if(_e==="bottom"||_e==="top"?(fn=Za,Si="x",Oi="y",Eo="x2",ca="y2",Sa.attr("dy",ti<0?"0em":".71em").style("text-anchor","middle"),Ma.attr("d","M"+Dn[0]+","+ti*tt+"V0H"+Dn[1]+"V"+ti*tt)):(fn=Qa,Si="y",Oi="x",Eo="y2",ca="x2",Sa.attr("dy",".32em").style("text-anchor",ti<0?"end":"start"),Ma.attr("d","M"+ti*tt+","+Dn[0]+"H0V"+Dn[1]+"H"+ti*tt)),fa.attr(ca,ti*Be),ii.attr(Oi,ti*Mn),Aa.attr(Eo,0).attr(ca,ti*Be),Ia.attr(Si,0).attr(Oi,ti*Mn),kr.rangeBand){var $a=kr,za=$a.rangeBand()/2;Ir=kr=function(wi){return $a(wi)+za}}else Ir.rangeBand?Ir=kr:an.call(fn,kr,Ir);Xr.call(fn,Ir,kr),pn.call(fn,kr,kr)})}return Yt.scale=function(Zt){return arguments.length?(ce=Zt,Yt):ce},Yt.orient=function(Zt){return arguments.length?(_e=Zt in Ja?Zt+"":oa,Yt):_e},Yt.ticks=function(){return arguments.length?(ht=w(arguments),Yt):ht},Yt.tickValues=function(Zt){return arguments.length?(Dt=Zt,Yt):Dt},Yt.tickFormat=function(Zt){return arguments.length?(Et=Zt,Yt):Et},Yt.tickSize=function(Zt){var or=arguments.length;return or?(Be=+Zt,tt=+arguments[or-1],Yt):Be},Yt.innerTickSize=function(Zt){return arguments.length?(Be=+Zt,Yt):Be},Yt.outerTickSize=function(Zt){return arguments.length?(tt=+Zt,Yt):tt},Yt.tickPadding=function(Zt){return arguments.length?(it=+Zt,Yt):it},Yt.tickSubdivide=function(){return arguments.length&&Yt},Yt};var oa="bottom",Ja={top:1,right:1,bottom:1,left:1};function Za(ce,_e,Be){ce.attr("transform",function(tt){var it=_e(tt);return"translate("+(isFinite(it)?it:Be(tt))+",0)"})}function Qa(ce,_e,Be){ce.attr("transform",function(tt){var it=_e(tt);return"translate(0,"+(isFinite(it)?it:Be(tt))+")"})}n.svg.brush=function(){var ce=J(or,"brushstart","brush","brushend"),_e=null,Be=null,tt=[0,0],it=[0,0],ht,Dt,Et=!0,Yt=!0,Zt=bi[0];function or(Fr){Fr.each(function(){var Xr=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",vn).on("touchstart.brush",vn),an=Xr.selectAll(".background").data([0]);an.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Xr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var pn=Xr.selectAll(".resize").data(Zt,F);pn.exit().remove(),pn.enter().append("g").attr("class",function(va){return"resize "+va}).style("cursor",function(va){return ai[va]}).append("rect").attr("x",function(va){return/[ew]$/.test(va)?-3:null}).attr("y",function(va){return/^[ns]/.test(va)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),pn.style("display",or.empty()?"none":null);var Mn=n.transition(Xr),fn=n.transition(an),Dn;_e&&(Dn=tf(_e),fn.attr("x",Dn[0]).attr("width",Dn[1]-Dn[0]),kr(Mn)),Be&&(Dn=tf(Be),fn.attr("y",Dn[0]).attr("height",Dn[1]-Dn[0]),sn(Mn)),Ir(Mn)})}or.event=function(Fr){Fr.each(function(){var Xr=ce.of(this,arguments),an={x:tt,y:it,i:ht,j:Dt},pn=this.__chart__||an;this.__chart__=an,Br?n.select(this).transition().each("start.brush",function(){ht=pn.i,Dt=pn.j,tt=pn.x,it=pn.y,Xr({type:"brushstart"})}).tween("brush:brush",function(){var Mn=gs(tt,an.x),fn=gs(it,an.y);return ht=Dt=null,function(Dn){tt=an.x=Mn(Dn),it=an.y=fn(Dn),Xr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ht=an.i,Dt=an.j,Xr({type:"brush",mode:"resize"}),Xr({type:"brushend"})}):(Xr({type:"brushstart"}),Xr({type:"brush",mode:"resize"}),Xr({type:"brushend"}))})};function Ir(Fr){Fr.selectAll(".resize").attr("transform",function(Xr){return"translate("+tt[+/e$/.test(Xr)]+","+it[+/^s/.test(Xr)]+")"})}function kr(Fr){Fr.select(".extent").attr("x",tt[0]),Fr.selectAll(".extent,.n>rect,.s>rect").attr("width",tt[1]-tt[0])}function sn(Fr){Fr.select(".extent").attr("y",it[0]),Fr.selectAll(".extent,.e>rect,.w>rect").attr("height",it[1]-it[0])}function vn(){var Fr=this,Xr=n.select(n.event.target),an=ce.of(Fr,arguments),pn=n.select(Fr),Mn=Xr.datum(),fn=!/^(n|s)$/.test(Mn)&&_e,Dn=!/^(e|w)$/.test(Mn)&&Be,va=Xr.classed("extent"),Ma=Je(Fr),fa,Aa=n.mouse(Fr),Sa,ii=n.select(r(Fr)).on("keydown.brush",Si).on("keyup.brush",Eo);if(n.event.changedTouches?ii.on("touchmove.brush",Oi).on("touchend.brush",$a):ii.on("mousemove.brush",Oi).on("mouseup.brush",$a),pn.interrupt().selectAll("*").interrupt(),va)Aa[0]=tt[0]-Aa[0],Aa[1]=it[0]-Aa[1];else if(Mn){var Ia=+/w$/.test(Mn),ti=+/^n/.test(Mn);Sa=[tt[1-Ia]-Aa[0],it[1-ti]-Aa[1]],Aa[0]=tt[Ia],Aa[1]=it[ti]}else n.event.altKey&&(fa=Aa.slice());pn.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",Xr.style("cursor")),an({type:"brushstart"}),Oi();function Si(){n.event.keyCode==32&&(va||(fa=null,Aa[0]-=tt[1],Aa[1]-=it[1],va=2),q())}function Eo(){n.event.keyCode==32&&va==2&&(Aa[0]+=tt[1],Aa[1]+=it[1],va=0,q())}function Oi(){var za=n.mouse(Fr),wi=!1;Sa&&(za[0]+=Sa[0],za[1]+=Sa[1]),va||(n.event.altKey?(fa||(fa=[(tt[0]+tt[1])/2,(it[0]+it[1])/2]),Aa[0]=tt[+(za[0]<fa[0])],Aa[1]=it[+(za[1]<fa[1])]):fa=null),fn&&ca(za,_e,0)&&(kr(pn),wi=!0),Dn&&ca(za,Be,1)&&(sn(pn),wi=!0),wi&&(Ir(pn),an({type:"brush",mode:va?"move":"resize"}))}function ca(za,wi,ao){var Ei=tf(wi),Bo=Ei[0],Oo=Ei[1],Zo=Aa[ao],ro=ao?it:tt,jo=ro[1]-ro[0],ya,Ya;if(va&&(Bo-=Zo,Oo-=jo+Zo),ya=(ao?Yt:Et)?Math.max(Bo,Math.min(Oo,za[ao])):za[ao],va?Ya=(ya+=Zo)+jo:(fa&&(Zo=Math.max(Bo,Math.min(Oo,2*fa[ao]-ya))),Zo<ya?(Ya=ya,ya=Zo):Ya=Zo),ro[0]!=ya||ro[1]!=Ya)return ao?Dt=null:ht=null,ro[0]=ya,ro[1]=Ya,!0}function $a(){Oi(),pn.style("pointer-events","all").selectAll(".resize").style("display",or.empty()?"none":null),n.select("body").style("cursor",null),ii.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Ma(),an({type:"brushend"})}}return or.x=function(Fr){return arguments.length?(_e=Fr,Zt=bi[!_e<<1|!Be],or):_e},or.y=function(Fr){return arguments.length?(Be=Fr,Zt=bi[!_e<<1|!Be],or):Be},or.clamp=function(Fr){return arguments.length?(_e&&Be?(Et=!!Fr[0],Yt=!!Fr[1]):_e?Et=!!Fr:Be&&(Yt=!!Fr),or):_e&&Be?[Et,Yt]:_e?Et:Be?Yt:null},or.extent=function(Fr){var Xr,an,pn,Mn,fn;return arguments.length?(_e&&(Xr=Fr[0],an=Fr[1],Be&&(Xr=Xr[0],an=an[0]),ht=[Xr,an],_e.invert&&(Xr=_e(Xr),an=_e(an)),an<Xr&&(fn=Xr,Xr=an,an=fn),(Xr!=tt[0]||an!=tt[1])&&(tt=[Xr,an])),Be&&(pn=Fr[0],Mn=Fr[1],_e&&(pn=pn[1],Mn=Mn[1]),Dt=[pn,Mn],Be.invert&&(pn=Be(pn),Mn=Be(Mn)),Mn<pn&&(fn=pn,pn=Mn,Mn=fn),(pn!=it[0]||Mn!=it[1])&&(it=[pn,Mn])),or):(_e&&(ht?(Xr=ht[0],an=ht[1]):(Xr=tt[0],an=tt[1],_e.invert&&(Xr=_e.invert(Xr),an=_e.invert(an)),an<Xr&&(fn=Xr,Xr=an,an=fn))),Be&&(Dt?(pn=Dt[0],Mn=Dt[1]):(pn=it[0],Mn=it[1],Be.invert&&(pn=Be.invert(pn),Mn=Be.invert(Mn)),Mn<pn&&(fn=pn,pn=Mn,Mn=fn))),_e&&Be?[[Xr,pn],[an,Mn]]:_e?[Xr,an]:Be&&[pn,Mn])},or.clear=function(){return or.empty()||(tt=[0,0],it=[0,0],ht=Dt=null),or},or.empty=function(){return!!_e&&tt[0]==tt[1]||!!Be&&it[0]==it[1]},n.rebind(or,ce,"on")};var ai={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},bi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];n.text=On(function(ce){return ce.responseText}),n.json=function(ce,_e){return zn(ce,"application/json",Gi,_e)};function Gi(ce){return JSON.parse(ce.responseText)}n.html=function(ce,_e){return zn(ce,"text/html",Ro,_e)};function Ro(ce){var _e=v.createRange();return _e.selectNode(v.body),_e.createContextualFragment(ce.responseText)}n.xml=On(function(ce){return ce.responseXML}),d=n,C=typeof d=="function"?d.call(U,e,U,H):d,C!==void 0&&(H.exports=C)}).apply(self)},3480:function(H){(function(U,e){H.exports=e()})(this,function(){var U,e,d;function C(n,L){if(!U)U=L;else if(!e)e=L;else{var w="var sharedChunk = {}; ("+U+")(sharedChunk); ("+e+")(sharedChunk);",v={};U(v),d=L(v),typeof window<"u"&&(d.workerUrl=window.URL.createObjectURL(new Blob([w],{type:"text/javascript"})))}}return C(["exports"],function(n){function L(P,R){return R={exports:{}},P(R,R.exports),R.exports}var w="1.13.4",v=g;function g(P,R,W,oe){this.cx=3*P,this.bx=3*(W-P)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*R,this.by=3*(oe-R)-this.cy,this.ay=1-this.cy-this.by,this.p1x=P,this.p1y=oe,this.p2x=W,this.p2y=oe}g.prototype.sampleCurveX=function(P){return((this.ax*P+this.bx)*P+this.cx)*P},g.prototype.sampleCurveY=function(P){return((this.ay*P+this.by)*P+this.cy)*P},g.prototype.sampleCurveDerivativeX=function(P){return(3*this.ax*P+2*this.bx)*P+this.cx},g.prototype.solveCurveX=function(P,R){typeof R>"u"&&(R=1e-6);var W,oe,ye,Ee,Re;for(ye=P,Re=0;Re<8;Re++){if(Ee=this.sampleCurveX(ye)-P,Math.abs(Ee)<R)return ye;var qe=this.sampleCurveDerivativeX(ye);if(Math.abs(qe)<1e-6)break;ye=ye-Ee/qe}if(W=0,oe=1,ye=P,ye<W)return W;if(ye>oe)return oe;for(;W<oe;){if(Ee=this.sampleCurveX(ye),Math.abs(Ee-P)<R)return ye;P>Ee?W=ye:oe=ye,ye=(oe-W)*.5+W}return ye},g.prototype.solve=function(P,R){return this.sampleCurveY(this.solveCurveX(P,R))};var r=t;function t(P,R){this.x=P,this.y=R}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(P){return this.clone()._add(P)},sub:function(P){return this.clone()._sub(P)},multByPoint:function(P){return this.clone()._multByPoint(P)},divByPoint:function(P){return this.clone()._divByPoint(P)},mult:function(P){return this.clone()._mult(P)},div:function(P){return this.clone()._div(P)},rotate:function(P){return this.clone()._rotate(P)},rotateAround:function(P,R){return this.clone()._rotateAround(P,R)},matMult:function(P){return this.clone()._matMult(P)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(P){return this.x===P.x&&this.y===P.y},dist:function(P){return Math.sqrt(this.distSqr(P))},distSqr:function(P){var R=P.x-this.x,W=P.y-this.y;return R*R+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(P){return Math.atan2(this.y-P.y,this.x-P.x)},angleWith:function(P){return this.angleWithSep(P.x,P.y)},angleWithSep:function(P,R){return Math.atan2(this.x*R-this.y*P,this.x*P+this.y*R)},_matMult:function(P){var R=P[0]*this.x+P[1]*this.y,W=P[2]*this.x+P[3]*this.y;return this.x=R,this.y=W,this},_add:function(P){return this.x+=P.x,this.y+=P.y,this},_sub:function(P){return this.x-=P.x,this.y-=P.y,this},_mult:function(P){return this.x*=P,this.y*=P,this},_div:function(P){return this.x/=P,this.y/=P,this},_multByPoint:function(P){return this.x*=P.x,this.y*=P.y,this},_divByPoint:function(P){return this.x/=P.x,this.y/=P.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var P=this.y;return this.y=this.x,this.x=-P,this},_rotate:function(P){var R=Math.cos(P),W=Math.sin(P),oe=R*this.x-W*this.y,ye=W*this.x+R*this.y;return this.x=oe,this.y=ye,this},_rotateAround:function(P,R){var W=Math.cos(P),oe=Math.sin(P),ye=R.x+W*(this.x-R.x)-oe*(this.y-R.y),Ee=R.y+oe*(this.x-R.x)+W*(this.y-R.y);return this.x=ye,this.y=Ee,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(P){return P instanceof t?P:Array.isArray(P)?new t(P[0],P[1]):P};var i=typeof self<"u"?self:{};function a(P,R){if(Array.isArray(P)){if(!Array.isArray(R)||P.length!==R.length)return!1;for(var W=0;W<P.length;W++)if(!a(P[W],R[W]))return!1;return!0}if(typeof P=="object"&&P!==null&&R!==null){if(typeof R!="object")return!1;var oe=Object.keys(P);if(oe.length!==Object.keys(R).length)return!1;for(var ye in P)if(!a(P[ye],R[ye]))return!1;return!0}return P===R}var u=Math.pow(2,53)-1;function f(P){if(P<=0)return 0;if(P>=1)return 1;var R=P*P,W=R*P;return 4*(P<.5?W:3*(P-R)+W-.75)}function l(P,R,W,oe){var ye=new v(P,R,W,oe);return function(Ee){return ye.solve(Ee)}}var m=l(.25,.1,.25,1);function h(P,R,W){return Math.min(W,Math.max(R,P))}function T(P,R,W){var oe=W-R,ye=((P-R)%oe+oe)%oe+R;return ye===R?W:ye}function c(P,R,W){if(!P.length)return W(null,[]);var oe=P.length,ye=new Array(P.length),Ee=null;P.forEach(function(Re,qe){R(Re,function(yt,Lt){yt&&(Ee=yt),ye[qe]=Lt,--oe===0&&W(Ee,ye)})})}function o(P){var R=[];for(var W in P)R.push(P[W]);return R}function p(P,R){var W=[];for(var oe in P)oe in R||W.push(oe);return W}function x(P){for(var R=[],W=arguments.length-1;W-- >0;)R[W]=arguments[W+1];for(var oe=0,ye=R;oe<ye.length;oe+=1){var Ee=ye[oe];for(var Re in Ee)P[Re]=Ee[Re]}return P}function A(P,R){for(var W={},oe=0;oe<R.length;oe++){var ye=R[oe];ye in P&&(W[ye]=P[ye])}return W}var _=1;function y(){return _++}function E(){function P(R){return R?(R^Math.random()*16>>R/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,P)}return P()}function M(P){return P<=1?1:Math.pow(2,Math.ceil(Math.log(P)/Math.LN2))}function s(P){return P?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(P):!1}function S(P,R){P.forEach(function(W){R[W]&&(R[W]=R[W].bind(R))})}function b(P,R){return P.indexOf(R,P.length-R.length)!==-1}function I(P,R,W){var oe={};for(var ye in P)oe[ye]=R.call(W||this,P[ye],ye,P);return oe}function D(P,R,W){var oe={};for(var ye in P)R.call(W||this,P[ye],ye,P)&&(oe[ye]=P[ye]);return oe}function B(P){return Array.isArray(P)?P.map(B):typeof P=="object"&&P?I(P,B):P}function k(P,R){for(var W=0;W<P.length;W++)if(R.indexOf(P[W])>=0)return!0;return!1}var F={};function N(P){F[P]||(typeof console<"u"&&console.warn(P),F[P]=!0)}function O(P,R,W){return(W.y-P.y)*(R.x-P.x)>(R.y-P.y)*(W.x-P.x)}function V(P){for(var R=0,W=0,oe=P.length,ye=oe-1,Ee=void 0,Re=void 0;W<oe;ye=W++)Ee=P[W],Re=P[ye],R+=(Re.x-Ee.x)*(Ee.y+Re.y);return R}function X(P){var R=P[0],W=P[1],oe=P[2];return W+=90,W*=Math.PI/180,oe*=Math.PI/180,{x:R*Math.cos(W)*Math.sin(oe),y:R*Math.sin(W)*Math.sin(oe),z:R*Math.cos(oe)}}function ee(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ne(P){var R=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,W={};if(P.replace(R,function(ye,Ee,Re,qe){var yt=Re||qe;return W[Ee]=yt?yt.toLowerCase():!0,""}),W["max-age"]){var oe=parseInt(W["max-age"],10);isNaN(oe)?delete W["max-age"]:W["max-age"]=oe}return W}var q=null;function se(P){if(q==null){var R=P.navigator?P.navigator.userAgent:null;q=!!P.safari||!!(R&&(/\b(iPad|iPhone|iPod)\b/.test(R)||R.match("Safari")&&!R.match("Chrome")))}return q}function J(P){try{var R=i[P];return R.setItem("_mapbox_test_",1),R.removeItem("_mapbox_test_"),!0}catch{return!1}}function Z(P){return i.btoa(encodeURIComponent(P).replace(/%([0-9A-F]{2})/g,function(R,W){return String.fromCharCode(+("0x"+W))}))}function te(P){return decodeURIComponent(i.atob(P).split("").map(function(R){return"%"+("00"+R.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Y=i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now.bind(Date),ie=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame,le=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.msCancelAnimationFrame,j,K,ue={now:Y,frame:function(R){var W=ie(R);return{cancel:function(){return le(W)}}},getImageData:function(R,W){W===void 0&&(W=0);var oe=i.document.createElement("canvas"),ye=oe.getContext("2d");if(!ye)throw new Error("failed to create canvas 2d context");return oe.width=R.width,oe.height=R.height,ye.drawImage(R,0,0,R.width,R.height),ye.getImageData(-W,-W,R.width+2*W,R.height+2*W)},resolveURL:function(R){return j||(j=i.document.createElement("a")),j.href=R,j.href},hardwareConcurrency:i.navigator&&i.navigator.hardwareConcurrency||4,get devicePixelRatio(){return i.devicePixelRatio},get prefersReducedMotion(){return i.matchMedia?(K==null&&(K=i.matchMedia("(prefers-reduced-motion: reduce)")),K.matches):!1}},ae={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},he={supported:!1,testSupport:we},xe,Se=!1,Ae,De=!1;i.document&&(Ae=i.document.createElement("img"),Ae.onload=function(){xe&&Ce(xe),xe=null,De=!0},Ae.onerror=function(){Se=!0,xe=null},Ae.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function we(P){Se||!Ae||(De?Ce(P):xe=P)}function Ce(P){var R=P.createTexture();P.bindTexture(P.TEXTURE_2D,R);try{if(P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,Ae),P.isContextLost())return;he.supported=!0}catch{}P.deleteTexture(R),Se=!0}var be="01";function Pe(){for(var P="1",R="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",W="",oe=0;oe<10;oe++)W+=R[Math.floor(Math.random()*62)];var ye=12*60*60*1e3,Ee=[P,be,W].join(""),Re=Date.now()+ye;return{token:Ee,tokenExpiresAt:Re}}var Ve=function(R,W){this._transformRequestFn=R,this._customAccessToken=W,this._createSkuToken()};Ve.prototype._createSkuToken=function(){var R=Pe();this._skuToken=R.token,this._skuTokenExpiresAt=R.tokenExpiresAt},Ve.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ve.prototype.transformRequest=function(R,W){return this._transformRequestFn?this._transformRequestFn(R,W)||{url:R}:{url:R}},Ve.prototype.normalizeStyleURL=function(R,W){if(!Ge(R))return R;var oe=nt(R);return oe.path="/styles/v1"+oe.path,this._makeAPIURL(oe,this._customAccessToken||W)},Ve.prototype.normalizeGlyphsURL=function(R,W){if(!Ge(R))return R;var oe=nt(R);return oe.path="/fonts/v1"+oe.path,this._makeAPIURL(oe,this._customAccessToken||W)},Ve.prototype.normalizeSourceURL=function(R,W){if(!Ge(R))return R;var oe=nt(R);return oe.path="/v4/"+oe.authority+".json",oe.params.push("secure"),this._makeAPIURL(oe,this._customAccessToken||W)},Ve.prototype.normalizeSpriteURL=function(R,W,oe,ye){var Ee=nt(R);return Ge(R)?(Ee.path="/styles/v1"+Ee.path+"/sprite"+W+oe,this._makeAPIURL(Ee,this._customAccessToken||ye)):(Ee.path+=""+W+oe,dt(Ee))},Ve.prototype.normalizeTileURL=function(R,W){if(this._isSkuTokenExpired()&&this._createSkuToken(),R&&!Ge(R))return R;var oe=nt(R),ye=/(\.(png|jpg)\d*)(?=$)/,Ee=/^.+\/v4\//,Re=ue.devicePixelRatio>=2||W===512?"@2x":"",qe=he.supported?".webp":"$1";oe.path=oe.path.replace(ye,""+Re+qe),oe.path=oe.path.replace(Ee,"/"),oe.path="/v4"+oe.path;var yt=this._customAccessToken||gt(oe.params)||ae.ACCESS_TOKEN;return ae.REQUIRE_ACCESS_TOKEN&&yt&&this._skuToken&&oe.params.push("sku="+this._skuToken),this._makeAPIURL(oe,yt)},Ve.prototype.canonicalizeTileURL=function(R,W){var oe="/v4/",ye=/\.[\w]+$/,Ee=nt(R);if(!Ee.path.match(/(^\/v4\/)/)||!Ee.path.match(ye))return R;var Re="mapbox://tiles/";Re+=Ee.path.replace(oe,"");var qe=Ee.params;return W&&(qe=qe.filter(function(yt){return!yt.match(/^access_token=/)})),qe.length&&(Re+="?"+qe.join("&")),Re},Ve.prototype.canonicalizeTileset=function(R,W){for(var oe=W?Ge(W):!1,ye=[],Ee=0,Re=R.tiles||[];Ee<Re.length;Ee+=1){var qe=Re[Ee];He(qe)?ye.push(this.canonicalizeTileURL(qe,oe)):ye.push(qe)}return ye},Ve.prototype._makeAPIURL=function(R,W){var oe="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ye=nt(ae.API_URL);if(R.protocol=ye.protocol,R.authority=ye.authority,R.protocol==="http"){var Ee=R.params.indexOf("secure");Ee>=0&&R.params.splice(Ee,1)}if(ye.path!=="/"&&(R.path=""+ye.path+R.path),!ae.REQUIRE_ACCESS_TOKEN)return dt(R);if(W=W||ae.ACCESS_TOKEN,!W)throw new Error("An API access token is required to use Mapbox GL. "+oe);if(W[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+oe);return R.params=R.params.filter(function(Re){return Re.indexOf("access_token")===-1}),R.params.push("access_token="+W),dt(R)};function Ge(P){return P.indexOf("mapbox:")===0}var Fe=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function He(P){return Fe.test(P)}function ft(P){return P.indexOf("sku=")>0&&He(P)}function gt(P){for(var R=0,W=P;R<W.length;R+=1){var oe=W[R],ye=oe.match(/^access_token=(.*)$/);if(ye)return ye[1]}return null}var ct=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function nt(P){var R=P.match(ct);if(!R)throw new Error("Unable to parse URL object");return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}function dt(P){var R=P.params.length?"?"+P.params.join("&"):"";return P.protocol+"://"+P.authority+P.path+R}var pt="mapbox.eventData";function wt(P){if(!P)return null;var R=P.split(".");if(!R||R.length!==3)return null;try{var W=JSON.parse(te(R[1]));return W}catch{return null}}var Tt=function(R){this.type=R,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Tt.prototype.getStorageKey=function(R){var W=wt(ae.ACCESS_TOKEN),oe="";return W&&W.u?oe=Z(W.u):oe=ae.ACCESS_TOKEN||"",R?pt+"."+R+":"+oe:pt+":"+oe},Tt.prototype.fetchEventData=function(){var R=J("localStorage"),W=this.getStorageKey(),oe=this.getStorageKey("uuid");if(R)try{var ye=i.localStorage.getItem(W);ye&&(this.eventData=JSON.parse(ye));var Ee=i.localStorage.getItem(oe);Ee&&(this.anonId=Ee)}catch{N("Unable to read from LocalStorage")}},Tt.prototype.saveEventData=function(){var R=J("localStorage"),W=this.getStorageKey(),oe=this.getStorageKey("uuid");if(R)try{i.localStorage.setItem(oe,this.anonId),Object.keys(this.eventData).length>=1&&i.localStorage.setItem(W,JSON.stringify(this.eventData))}catch{N("Unable to write to LocalStorage")}},Tt.prototype.processRequests=function(R){},Tt.prototype.postEvent=function(R,W,oe,ye){var Ee=this;if(ae.EVENTS_URL){var Re=nt(ae.EVENTS_URL);Re.params.push("access_token="+(ye||ae.ACCESS_TOKEN||""));var qe={event:this.type,created:new Date(R).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:w,skuId:be,userId:this.anonId},yt=W?x(qe,W):qe,Lt={url:dt(Re),headers:{"Content-Type":"text/plain"},body:JSON.stringify([yt])};this.pendingRequest=Ht(Lt,function(It){Ee.pendingRequest=null,oe(It),Ee.saveEventData(),Ee.processRequests(ye)})}},Tt.prototype.queueRequest=function(R,W){this.queue.push(R),this.processRequests(W)};var Ct=function(P){function R(){P.call(this,"map.load"),this.success={},this.skuToken=""}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.postMapLoadEvent=function(oe,ye,Ee,Re){this.skuToken=Ee,(ae.EVENTS_URL&&Re||ae.ACCESS_TOKEN&&Array.isArray(oe)&&oe.some(function(qe){return Ge(qe)||He(qe)}))&&this.queueRequest({id:ye,timestamp:Date.now()},Re)},R.prototype.processRequests=function(oe){var ye=this;if(!(this.pendingRequest||this.queue.length===0)){var Ee=this.queue.shift(),Re=Ee.id,qe=Ee.timestamp;Re&&this.success[Re]||(this.anonId||this.fetchEventData(),s(this.anonId)||(this.anonId=E()),this.postEvent(qe,{skuToken:this.skuToken},function(yt){yt||Re&&(ye.success[Re]=!0)},oe))}},R}(Tt),at=function(P){function R(W){P.call(this,"appUserTurnstile"),this._customAccessToken=W}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.postTurnstileEvent=function(oe,ye){ae.EVENTS_URL&&ae.ACCESS_TOKEN&&Array.isArray(oe)&&oe.some(function(Ee){return Ge(Ee)||He(Ee)})&&this.queueRequest(Date.now(),ye)},R.prototype.processRequests=function(oe){var ye=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Ee=wt(ae.ACCESS_TOKEN),Re=Ee?Ee.u:ae.ACCESS_TOKEN,qe=Re!==this.eventData.tokenU;s(this.anonId)||(this.anonId=E(),qe=!0);var yt=this.queue.shift();if(this.eventData.lastSuccess){var Lt=new Date(this.eventData.lastSuccess),It=new Date(yt),Kt=(yt-this.eventData.lastSuccess)/(24*60*60*1e3);qe=qe||Kt>=1||Kt<-1||Lt.getDate()!==It.getDate()}else qe=!0;if(!qe)return this.processRequests();this.postEvent(yt,{"enabled.telemetry":!1},function(ur){ur||(ye.eventData.lastSuccess=yt,ye.eventData.tokenU=Re)},oe)}},R}(Tt),ze=new at,je=ze.postTurnstileEvent.bind(ze),Je=new Ct,Xe=Je.postMapLoadEvent.bind(Je),Oe="mapbox-tiles",ke=500,Ke=50,Ie=1e3*60*7,pe;function Te(){i.caches&&!pe&&(pe=i.caches.open(Oe))}var Ue;function et(P,R){if(Ue===void 0)try{new Response(new ReadableStream),Ue=!0}catch{Ue=!1}Ue?R(P.body):P.blob().then(R)}function st(P,R,W){if(Te(),!!pe){var oe={status:R.status,statusText:R.statusText,headers:new i.Headers};R.headers.forEach(function(Re,qe){return oe.headers.set(qe,Re)});var ye=ne(R.headers.get("Cache-Control")||"");if(!ye["no-store"]){ye["max-age"]&&oe.headers.set("Expires",new Date(W+ye["max-age"]*1e3).toUTCString());var Ee=new Date(oe.headers.get("Expires")).getTime()-W;Ee<Ie||et(R,function(Re){var qe=new i.Response(Re,oe);Te(),pe&&pe.then(function(yt){return yt.put(lt(P.url),qe)}).catch(function(yt){return N(yt.message)})})}}}function lt(P){var R=P.indexOf("?");return R<0?P:P.slice(0,R)}function jt(P,R){if(Te(),!pe)return R(null);var W=lt(P.url);pe.then(function(oe){oe.match(W).then(function(ye){var Ee=Jt(ye);oe.delete(W),Ee&&oe.put(W,ye.clone()),R(null,ye,Ee)}).catch(R)}).catch(R)}function Jt(P){if(!P)return!1;var R=new Date(P.headers.get("Expires")||0),W=ne(P.headers.get("Cache-Control")||"");return R>Date.now()&&!W["no-cache"]}var St=1/0;function Rt(P){St++,St>Ke&&(P.getActor().send("enforceCacheSizeLimit",ke),St=0)}function $t(P){Te(),pe&&pe.then(function(R){R.keys().then(function(W){for(var oe=0;oe<W.length-P;oe++)R.delete(W[oe])})})}function Pr(P){var R=i.caches.delete(Oe);P&&R.catch(P).then(function(){return P()})}function xt(P,R){ke=P,Ke=R}var qt;function nr(){return qt==null&&(qt=i.OffscreenCanvas&&new i.OffscreenCanvas(1,1).getContext("2d")&&typeof i.createImageBitmap=="function"),qt}var wr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(wr);var dr=function(P){function R(W,oe,ye){oe===401&&He(ye)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),P.call(this,W),this.status=oe,this.url=ye,this.name=this.constructor.name,this.message=W}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},R}(Error),bt=ee()?function(){return self.worker&&self.worker.referrer}:function(){return(i.location.protocol==="blob:"?i.parent:i).location.href},ut=function(P){return/^file:/.test(P)||/^file:/.test(bt())&&!/^\w+:/.test(P)};function Mt(P,R){var W=new i.AbortController,oe=new i.Request(P.url,{method:P.method||"GET",body:P.body,credentials:P.credentials,headers:P.headers,referrer:bt(),signal:W.signal}),ye=!1,Ee=!1,Re=ft(oe.url);P.type==="json"&&oe.headers.set("Accept","application/json");var qe=function(Lt,It,Kt){if(!Ee){if(Lt&&Lt.message!=="SecurityError"&&N(Lt),It&&Kt)return yt(It);var ur=Date.now();i.fetch(oe).then(function(ar){if(ar.ok){var Er=Re?ar.clone():null;return yt(ar,Er,ur)}else return R(new dr(ar.statusText,ar.status,P.url))}).catch(function(ar){ar.code!==20&&R(new Error(ar.message))})}},yt=function(Lt,It,Kt){(P.type==="arrayBuffer"?Lt.arrayBuffer():P.type==="json"?Lt.json():Lt.text()).then(function(ur){Ee||(It&&Kt&&st(oe,It,Kt),ye=!0,R(null,ur,Lt.headers.get("Cache-Control"),Lt.headers.get("Expires")))}).catch(function(ur){Ee||R(new Error(ur.message))})};return Re?jt(oe,qe):qe(null,null),{cancel:function(){Ee=!0,ye||W.abort()}}}function _t(P,R){var W=new i.XMLHttpRequest;W.open(P.method||"GET",P.url,!0),P.type==="arrayBuffer"&&(W.responseType="arraybuffer");for(var oe in P.headers)W.setRequestHeader(oe,P.headers[oe]);return P.type==="json"&&(W.responseType="text",W.setRequestHeader("Accept","application/json")),W.withCredentials=P.credentials==="include",W.onerror=function(){R(new Error(W.statusText))},W.onload=function(){if((W.status>=200&&W.status<300||W.status===0)&&W.response!==null){var ye=W.response;if(P.type==="json")try{ye=JSON.parse(W.response)}catch(Ee){return R(Ee)}R(null,ye,W.getResponseHeader("Cache-Control"),W.getResponseHeader("Expires"))}else R(new dr(W.statusText,W.status,P.url))},W.send(P.body),{cancel:function(){return W.abort()}}}var kt=function(P,R){if(!ut(P.url)){if(i.fetch&&i.Request&&i.AbortController&&i.Request.prototype.hasOwnProperty("signal"))return Mt(P,R);if(ee()&&self.worker&&self.worker.actor){var W=!0;return self.worker.actor.send("getResource",P,R,void 0,W)}}return _t(P,R)},Xt=function(P,R){return kt(x(P,{type:"json"}),R)},Wt=function(P,R){return kt(x(P,{type:"arrayBuffer"}),R)},Ht=function(P,R){return kt(x(P,{method:"POST"}),R)};function tr(P){var R=i.document.createElement("a");return R.href=P,R.protocol===i.document.location.protocol&&R.host===i.document.location.host}var gr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Qt(P,R,W,oe){var ye=new i.Image,Ee=i.URL;ye.onload=function(){R(null,ye),Ee.revokeObjectURL(ye.src),ye.onload=null,i.requestAnimationFrame(function(){ye.src=gr})},ye.onerror=function(){return R(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Re=new i.Blob([new Uint8Array(P)],{type:"image/png"});ye.cacheControl=W,ye.expires=oe,ye.src=P.byteLength?Ee.createObjectURL(Re):gr}function mr(P,R){var W=new i.Blob([new Uint8Array(P)],{type:"image/png"});i.createImageBitmap(W).then(function(oe){R(null,oe)}).catch(function(oe){R(new Error("Could not load image because of "+oe.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Ze,Ye,Bt=function(){Ze=[],Ye=0};Bt();var Ft=function(P,R){if(he.supported&&(P.headers||(P.headers={}),P.headers.accept="image/webp,*/*"),Ye>=ae.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:P,callback:R,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ze.push(W),W}Ye++;var oe=!1,ye=function(){if(!oe)for(oe=!0,Ye--;Ze.length&&Ye<ae.MAX_PARALLEL_IMAGE_REQUESTS;){var Re=Ze.shift(),qe=Re.requestParameters,yt=Re.callback,Lt=Re.cancelled;Lt||(Re.cancel=Ft(qe,yt).cancel)}},Ee=Wt(P,function(Re,qe,yt,Lt){ye(),Re?R(Re):qe&&(nr()?mr(qe,R):Qt(qe,R,yt,Lt))});return{cancel:function(){Ee.cancel(),ye()}}},rr=function(P,R){var W=i.document.createElement("video");W.muted=!0,W.onloadstart=function(){R(null,W)};for(var oe=0;oe<P.length;oe++){var ye=i.document.createElement("source");tr(P[oe])||(W.crossOrigin="Anonymous"),ye.src=P[oe],W.appendChild(ye)}return{cancel:function(){}}};function sr(P,R,W){var oe=W[P]&&W[P].indexOf(R)!==-1;oe||(W[P]=W[P]||[],W[P].push(R))}function fr(P,R,W){if(W&&W[P]){var oe=W[P].indexOf(R);oe!==-1&&W[P].splice(oe,1)}}var ir=function(R,W){W===void 0&&(W={}),x(this,W),this.type=R},Vt=function(P){function R(W,oe){oe===void 0&&(oe={}),P.call(this,"error",x({error:W},oe))}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R}(ir),yr=function(){};yr.prototype.on=function(R,W){return this._listeners=this._listeners||{},sr(R,W,this._listeners),this},yr.prototype.off=function(R,W){return fr(R,W,this._listeners),fr(R,W,this._oneTimeListeners),this},yr.prototype.once=function(R,W){return this._oneTimeListeners=this._oneTimeListeners||{},sr(R,W,this._oneTimeListeners),this},yr.prototype.fire=function(R,W){typeof R=="string"&&(R=new ir(R,W||{}));var oe=R.type;if(this.listens(oe)){R.target=this;for(var ye=this._listeners&&this._listeners[oe]?this._listeners[oe].slice():[],Ee=0,Re=ye;Ee<Re.length;Ee+=1){var qe=Re[Ee];qe.call(this,R)}for(var yt=this._oneTimeListeners&&this._oneTimeListeners[oe]?this._oneTimeListeners[oe].slice():[],Lt=0,It=yt;Lt<It.length;Lt+=1){var Kt=It[Lt];fr(oe,Kt,this._oneTimeListeners),Kt.call(this,R)}var ur=this._eventedParent;ur&&(x(R,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ur.fire(R))}else R instanceof Vt&&console.error(R.error);return this},yr.prototype.listens=function(R){return this._listeners&&this._listeners[R]&&this._listeners[R].length>0||this._oneTimeListeners&&this._oneTimeListeners[R]&&this._oneTimeListeners[R].length>0||this._eventedParent&&this._eventedParent.listens(R)},yr.prototype.setEventedParent=function(R,W){return this._eventedParent=R,this._eventedParentData=W,this};var br=8,_r={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},pr={"*":{type:"source"}},Yr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],zr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Nr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},xn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},tn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},On={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},zn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Sr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Vr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],qr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Hr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Tn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},bn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Hn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Gn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ea={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ma={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Da={type:"array",value:"*"},Fa={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},La={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Qn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Mr={type:"array",value:"*",minimum:1},Jr={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Kr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],wn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},jn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},Pn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},kn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Jn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},ua={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ca={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ei={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ar={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Gr={"*":{type:"string"}},Cr={$version:br,$root:_r,sources:pr,source:Yr,source_vector:zr,source_raster:Nr,source_raster_dem:xn,source_geojson:tn,source_video:On,source_image:zn,layer:Sr,layout:Vr,layout_background:qr,layout_fill:Hr,layout_circle:Tn,layout_heatmap:bn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Hn,layout_symbol:Gn,layout_raster:ea,layout_hillshade:ma,filter:Da,filter_operator:Fa,geometry_type:La,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Qn,expression:Mr,light:Jr,paint:Kr,paint_fill:wn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:jn,paint_circle:Pn,paint_heatmap:kn,paint_symbol:Jn,paint_raster:ua,paint_hillshade:Ca,paint_background:ei,transition:Ar,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Gr},Wr=function(R,W,oe,ye){this.message=(R?R+": ":"")+oe,ye&&(this.identifier=ye),W!=null&&W.__line__&&(this.line=W.__line__)};function Sn(P){var R=P.key,W=P.value;return W?[new Wr(R,W,"constants have been deprecated as of v8")]:[]}function Fn(P){for(var R=[],W=arguments.length-1;W-- >0;)R[W]=arguments[W+1];for(var oe=0,ye=R;oe<ye.length;oe+=1){var Ee=ye[oe];for(var Re in Ee)P[Re]=Ee[Re]}return P}function An(P){return P instanceof Number||P instanceof String||P instanceof Boolean?P.valueOf():P}function dn(P){if(Array.isArray(P))return P.map(dn);if(P instanceof Object&&!(P instanceof Number||P instanceof String||P instanceof Boolean)){var R={};for(var W in P)R[W]=dn(P[W]);return R}return An(P)}var Dr=function(P){function R(W,oe){P.call(this,oe),this.message=oe,this.key=W}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R}(Error),nn=function(R,W){W===void 0&&(W=[]),this.parent=R,this.bindings={};for(var oe=0,ye=W;oe<ye.length;oe+=1){var Ee=ye[oe],Re=Ee[0],qe=Ee[1];this.bindings[Re]=qe}};nn.prototype.concat=function(R){return new nn(this,R)},nn.prototype.get=function(R){if(this.bindings[R])return this.bindings[R];if(this.parent)return this.parent.get(R);throw new Error(R+" not found in scope.")},nn.prototype.has=function(R){return this.bindings[R]?!0:this.parent?this.parent.has(R):!1};var $r={kind:"null"},ln={kind:"number"},Ln={kind:"string"},Xn={kind:"boolean"},Rn={kind:"color"},$n={kind:"object"},Kn={kind:"value"},xa={kind:"error"},ba={kind:"collator"},_a={kind:"formatted"},Ra={kind:"resolvedImage"};function Di(P,R){return{kind:"array",itemType:P,N:R}}function Pi(P){if(P.kind==="array"){var R=Pi(P.itemType);return typeof P.N=="number"?"array<"+R+", "+P.N+">":P.itemType.kind==="value"?"array":"array<"+R+">"}else return P.kind}var zs=[$r,ln,Ln,Xn,Rn,_a,$n,Di(Kn),Ra];function cs(P,R){if(R.kind==="error")return null;if(P.kind==="array"){if(R.kind==="array"&&(R.N===0&&R.itemType.kind==="value"||!cs(P.itemType,R.itemType))&&(typeof P.N!="number"||P.N===R.N))return null}else{if(P.kind===R.kind)return null;if(P.kind==="value")for(var W=0,oe=zs;W<oe.length;W+=1){var ye=oe[W];if(!cs(ye,R))return null}}return"Expected "+Pi(P)+" but found "+Pi(R)+" instead."}function es(P,R){return R.some(function(W){return W.kind===P.kind})}function Uu(P,R){return R.some(function(W){return W==="null"?P===null:W==="array"?Array.isArray(P):W==="object"?P&&!Array.isArray(P)&&typeof P=="object":W===typeof P})}var Dc=L(function(P,R){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function oe(Lt){return Lt=Math.round(Lt),Lt<0?0:Lt>255?255:Lt}function ye(Lt){return Lt<0?0:Lt>1?1:Lt}function Ee(Lt){return Lt[Lt.length-1]==="%"?oe(parseFloat(Lt)/100*255):oe(parseInt(Lt))}function Re(Lt){return Lt[Lt.length-1]==="%"?ye(parseFloat(Lt)/100):ye(parseFloat(Lt))}function qe(Lt,It,Kt){return Kt<0?Kt+=1:Kt>1&&(Kt-=1),Kt*6<1?Lt+(It-Lt)*Kt*6:Kt*2<1?It:Kt*3<2?Lt+(It-Lt)*(2/3-Kt)*6:Lt}function yt(Lt){var It=Lt.replace(/ /g,"").toLowerCase();if(It in W)return W[It].slice();if(It[0]==="#"){if(It.length===4){var Kt=parseInt(It.substr(1),16);return Kt>=0&&Kt<=4095?[(Kt&3840)>>4|(Kt&3840)>>8,Kt&240|(Kt&240)>>4,Kt&15|(Kt&15)<<4,1]:null}else if(It.length===7){var Kt=parseInt(It.substr(1),16);return Kt>=0&&Kt<=16777215?[(Kt&16711680)>>16,(Kt&65280)>>8,Kt&255,1]:null}return null}var ur=It.indexOf("("),ar=It.indexOf(")");if(ur!==-1&&ar+1===It.length){var Er=It.substr(0,ur),jr=It.substr(ur+1,ar-(ur+1)).split(","),yn=1;switch(Er){case"rgba":if(jr.length!==4)return null;yn=Re(jr.pop());case"rgb":return jr.length!==3?null:[Ee(jr[0]),Ee(jr[1]),Ee(jr[2]),yn];case"hsla":if(jr.length!==4)return null;yn=Re(jr.pop());case"hsl":if(jr.length!==3)return null;var hn=(parseFloat(jr[0])%360+360)%360/360,Vn=Re(jr[1]),Cn=Re(jr[2]),Bn=Cn<=.5?Cn*(Vn+1):Cn+Vn-Cn*Vn,Zn=Cn*2-Bn;return[oe(qe(Zn,Bn,hn+1/3)*255),oe(qe(Zn,Bn,hn)*255),oe(qe(Zn,Bn,hn-1/3)*255),yn];default:return null}}return null}try{R.parseCSSColor=yt}catch{}}),Ic=Dc.parseCSSColor,Mi=function(R,W,oe,ye){ye===void 0&&(ye=1),this.r=R,this.g=W,this.b=oe,this.a=ye};Mi.parse=function(R){if(R){if(R instanceof Mi)return R;if(typeof R=="string"){var W=Ic(R);if(W)return new Mi(W[0]/255*W[3],W[1]/255*W[3],W[2]/255*W[3],W[3])}}},Mi.prototype.toString=function(){var R=this.toArray(),W=R[0],oe=R[1],ye=R[2],Ee=R[3];return"rgba("+Math.round(W)+","+Math.round(oe)+","+Math.round(ye)+","+Ee+")"},Mi.prototype.toArray=function(){var R=this,W=R.r,oe=R.g,ye=R.b,Ee=R.a;return Ee===0?[0,0,0,0]:[W*255/Ee,oe*255/Ee,ye*255/Ee,Ee]},Mi.black=new Mi(0,0,0,1),Mi.white=new Mi(1,1,1,1),Mi.transparent=new Mi(0,0,0,0),Mi.red=new Mi(1,0,0,1);var yl=function(R,W,oe){R?this.sensitivity=W?"variant":"case":this.sensitivity=W?"accent":"base",this.locale=oe,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};yl.prototype.compare=function(R,W){return this.collator.compare(R,W)},yl.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var kc=function(R,W,oe,ye,Ee){this.text=R,this.image=W,this.scale=oe,this.fontStack=ye,this.textColor=Ee},No=function(R){this.sections=R};No.fromString=function(R){return new No([new kc(R,null,null,null,null)])},No.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(R){return R.text.length!==0||R.image&&R.image.name.length!==0})},No.factory=function(R){return R instanceof No?R:No.fromString(R)},No.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(R){return R.text}).join("")},No.prototype.serialize=function(){for(var R=["format"],W=0,oe=this.sections;W<oe.length;W+=1){var ye=oe[W];if(ye.image){R.push(["image",ye.image.name]);continue}R.push(ye.text);var Ee={};ye.fontStack&&(Ee["text-font"]=["literal",ye.fontStack.split(",")]),ye.scale&&(Ee["font-scale"]=ye.scale),ye.textColor&&(Ee["text-color"]=["rgba"].concat(ye.textColor.toArray())),R.push(Ee)}return R};var hs=function(R){this.name=R.name,this.available=R.available};hs.prototype.toString=function(){return this.name},hs.fromString=function(R){return R?new hs({name:R,available:!1}):null},hs.prototype.serialize=function(){return["image",this.name]};function Kl(P,R,W,oe){if(!(typeof P=="number"&&P>=0&&P<=255&&typeof R=="number"&&R>=0&&R<=255&&typeof W=="number"&&W>=0&&W<=255)){var ye=typeof oe=="number"?[P,R,W,oe]:[P,R,W];return"Invalid rgba value ["+ye.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof oe>"u"||typeof oe=="number"&&oe>=0&&oe<=1?null:"Invalid rgba value ["+[P,R,W,oe].join(", ")+"]: 'a' must be between 0 and 1."}function Vu(P){if(P===null)return!0;if(typeof P=="string")return!0;if(typeof P=="boolean")return!0;if(typeof P=="number")return!0;if(P instanceof Mi)return!0;if(P instanceof yl)return!0;if(P instanceof No)return!0;if(P instanceof hs)return!0;if(Array.isArray(P)){for(var R=0,W=P;R<W.length;R+=1){var oe=W[R];if(!Vu(oe))return!1}return!0}else if(typeof P=="object"){for(var ye in P)if(!Vu(P[ye]))return!1;return!0}else return!1}function Ao(P){if(P===null)return $r;if(typeof P=="string")return Ln;if(typeof P=="boolean")return Xn;if(typeof P=="number")return ln;if(P instanceof Mi)return Rn;if(P instanceof yl)return ba;if(P instanceof No)return _a;if(P instanceof hs)return Ra;if(Array.isArray(P)){for(var R=P.length,W,oe=0,ye=P;oe<ye.length;oe+=1){var Ee=ye[oe],Re=Ao(Ee);if(!W)W=Re;else{if(W===Re)continue;W=Kn;break}}return Di(W||Kn,R)}else return $n}function Hu(P){var R=typeof P;return P===null?"":R==="string"||R==="number"||R==="boolean"?String(P):P instanceof Mi||P instanceof No||P instanceof hs?P.toString():JSON.stringify(P)}var Mo=function(R,W){this.type=R,this.value=W};Mo.parse=function(R,W){if(R.length!==2)return W.error("'literal' expression requires exactly one argument, but found "+(R.length-1)+" instead.");if(!Vu(R[1]))return W.error("invalid value");var oe=R[1],ye=Ao(oe),Ee=W.expectedType;return ye.kind==="array"&&ye.N===0&&Ee&&Ee.kind==="array"&&(typeof Ee.N!="number"||Ee.N===0)&&(ye=Ee),new Mo(ye,oe)},Mo.prototype.evaluate=function(){return this.value},Mo.prototype.eachChild=function(){},Mo.prototype.outputDefined=function(){return!0},Mo.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Mi?["rgba"].concat(this.value.toArray()):this.value instanceof No?this.value.serialize():this.value};var Do=function(R){this.name="ExpressionEvaluationError",this.message=R};Do.prototype.toJSON=function(){return this.message};var Gu={string:Ln,number:ln,boolean:Xn,object:$n},Wo=function(R,W){this.type=R,this.args=W};Wo.parse=function(R,W){if(R.length<2)return W.error("Expected at least one argument.");var oe=1,ye,Ee=R[0];if(Ee==="array"){var Re;if(R.length>2){var qe=R[1];if(typeof qe!="string"||!(qe in Gu)||qe==="object")return W.error('The item type argument of "array" must be one of string, number, boolean',1);Re=Gu[qe],oe++}else Re=Kn;var yt;if(R.length>3){if(R[2]!==null&&(typeof R[2]!="number"||R[2]<0||R[2]!==Math.floor(R[2])))return W.error('The length argument to "array" must be a positive integer literal',2);yt=R[2],oe++}ye=Di(Re,yt)}else ye=Gu[Ee];for(var Lt=[];oe<R.length;oe++){var It=W.parse(R[oe],oe,Kn);if(!It)return null;Lt.push(It)}return new Wo(ye,Lt)},Wo.prototype.evaluate=function(R){for(var W=0;W<this.args.length;W++){var oe=this.args[W].evaluate(R),ye=cs(this.type,Ao(oe));if(ye){if(W===this.args.length-1)throw new Do("Expected value to be of type "+Pi(this.type)+", but found "+Pi(Ao(oe))+" instead.")}else return oe}return null},Wo.prototype.eachChild=function(R){this.args.forEach(R)},Wo.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},Wo.prototype.serialize=function(){var R=this.type,W=[R.kind];if(R.kind==="array"){var oe=R.itemType;if(oe.kind==="string"||oe.kind==="number"||oe.kind==="boolean"){W.push(oe.kind);var ye=R.N;(typeof ye=="number"||this.args.length>1)&&W.push(ye)}}return W.concat(this.args.map(function(Ee){return Ee.serialize()}))};var eo=function(R){this.type=_a,this.sections=R};eo.parse=function(R,W){if(R.length<2)return W.error("Expected at least one argument.");var oe=R[1];if(!Array.isArray(oe)&&typeof oe=="object")return W.error("First argument must be an image or text section.");for(var ye=[],Ee=!1,Re=1;Re<=R.length-1;++Re){var qe=R[Re];if(Ee&&typeof qe=="object"&&!Array.isArray(qe)){Ee=!1;var yt=null;if(qe["font-scale"]&&(yt=W.parse(qe["font-scale"],1,ln),!yt))return null;var Lt=null;if(qe["text-font"]&&(Lt=W.parse(qe["text-font"],1,Di(Ln)),!Lt))return null;var It=null;if(qe["text-color"]&&(It=W.parse(qe["text-color"],1,Rn),!It))return null;var Kt=ye[ye.length-1];Kt.scale=yt,Kt.font=Lt,Kt.textColor=It}else{var ur=W.parse(R[Re],1,Kn);if(!ur)return null;var ar=ur.type.kind;if(ar!=="string"&&ar!=="value"&&ar!=="null"&&ar!=="resolvedImage")return W.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ee=!0,ye.push({content:ur,scale:null,font:null,textColor:null})}}return new eo(ye)},eo.prototype.evaluate=function(R){var W=function(oe){var ye=oe.content.evaluate(R);return Ao(ye)===Ra?new kc("",ye,null,null,null):new kc(Hu(ye),null,oe.scale?oe.scale.evaluate(R):null,oe.font?oe.font.evaluate(R).join(","):null,oe.textColor?oe.textColor.evaluate(R):null)};return new No(this.sections.map(W))},eo.prototype.eachChild=function(R){for(var W=0,oe=this.sections;W<oe.length;W+=1){var ye=oe[W];R(ye.content),ye.scale&&R(ye.scale),ye.font&&R(ye.font),ye.textColor&&R(ye.textColor)}},eo.prototype.outputDefined=function(){return!1},eo.prototype.serialize=function(){for(var R=["format"],W=0,oe=this.sections;W<oe.length;W+=1){var ye=oe[W];R.push(ye.content.serialize());var Ee={};ye.scale&&(Ee["font-scale"]=ye.scale.serialize()),ye.font&&(Ee["text-font"]=ye.font.serialize()),ye.textColor&&(Ee["text-color"]=ye.textColor.serialize()),R.push(Ee)}return R};var gs=function(R){this.type=Ra,this.input=R};gs.parse=function(R,W){if(R.length!==2)return W.error("Expected two arguments.");var oe=W.parse(R[1],1,Ln);return oe?new gs(oe):W.error("No image name provided.")},gs.prototype.evaluate=function(R){var W=this.input.evaluate(R),oe=hs.fromString(W);return oe&&R.availableImages&&(oe.available=R.availableImages.indexOf(W)>-1),oe},gs.prototype.eachChild=function(R){R(this.input)},gs.prototype.outputDefined=function(){return!1},gs.prototype.serialize=function(){return["image",this.input.serialize()]};var Wu={"to-boolean":Xn,"to-color":Rn,"to-number":ln,"to-string":Ln},ys=function(R,W){this.type=R,this.args=W};ys.parse=function(R,W){if(R.length<2)return W.error("Expected at least one argument.");var oe=R[0];if((oe==="to-boolean"||oe==="to-string")&&R.length!==2)return W.error("Expected one argument.");for(var ye=Wu[oe],Ee=[],Re=1;Re<R.length;Re++){var qe=W.parse(R[Re],Re,Kn);if(!qe)return null;Ee.push(qe)}return new ys(ye,Ee)},ys.prototype.evaluate=function(R){if(this.type.kind==="boolean")return!!this.args[0].evaluate(R);if(this.type.kind==="color"){for(var W,oe,ye=0,Ee=this.args;ye<Ee.length;ye+=1){var Re=Ee[ye];if(W=Re.evaluate(R),oe=null,W instanceof Mi)return W;if(typeof W=="string"){var qe=R.parseColor(W);if(qe)return qe}else if(Array.isArray(W)&&(W.length<3||W.length>4?oe="Invalid rbga value "+JSON.stringify(W)+": expected an array containing either three or four numeric values.":oe=Kl(W[0],W[1],W[2],W[3]),!oe))return new Mi(W[0]/255,W[1]/255,W[2]/255,W[3])}throw new Do(oe||"Could not parse color from value '"+(typeof W=="string"?W:String(JSON.stringify(W)))+"'")}else if(this.type.kind==="number"){for(var yt=null,Lt=0,It=this.args;Lt<It.length;Lt+=1){var Kt=It[Lt];if(yt=Kt.evaluate(R),yt===null)return 0;var ur=Number(yt);if(!isNaN(ur))return ur}throw new Do("Could not convert "+JSON.stringify(yt)+" to number.")}else return this.type.kind==="formatted"?No.fromString(Hu(this.args[0].evaluate(R))):this.type.kind==="resolvedImage"?hs.fromString(Hu(this.args[0].evaluate(R))):Hu(this.args[0].evaluate(R))},ys.prototype.eachChild=function(R){this.args.forEach(R)},ys.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},ys.prototype.serialize=function(){if(this.type.kind==="formatted")return new eo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new gs(this.args[0]).serialize();var R=["to-"+this.type.kind];return this.eachChild(function(W){R.push(W.serialize())}),R};var fh=["Unknown","Point","LineString","Polygon"],ml=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ml.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ml.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?fh[this.feature.type]:this.feature.type:null},ml.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ml.prototype.canonicalID=function(){return this.canonical},ml.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ml.prototype.parseColor=function(R){var W=this._parseColorCache[R];return W||(W=this._parseColorCache[R]=Mi.parse(R)),W};var Yo=function(R,W,oe,ye){this.name=R,this.type=W,this._evaluate=oe,this.args=ye};Yo.prototype.evaluate=function(R){return this._evaluate(R,this.args)},Yo.prototype.eachChild=function(R){this.args.forEach(R)},Yo.prototype.outputDefined=function(){return!1},Yo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(R){return R.serialize()}))},Yo.parse=function(R,W){var oe,ye=R[0],Ee=Yo.definitions[ye];if(!Ee)return W.error('Unknown expression "'+ye+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Re=Array.isArray(Ee)?Ee[0]:Ee.type,qe=Array.isArray(Ee)?[[Ee[1],Ee[2]]]:Ee.overloads,yt=qe.filter(function(Ha){var Wa=Ha[0];return!Array.isArray(Wa)||Wa.length===R.length-1}),Lt=null,It=0,Kt=yt;It<Kt.length;It+=1){var ur=Kt[It],ar=ur[0],Er=ur[1];Lt=new wl(W.registry,W.path,null,W.scope);for(var jr=[],yn=!1,hn=1;hn<R.length;hn++){var Vn=R[hn],Cn=Array.isArray(ar)?ar[hn-1]:ar.type,Bn=Lt.parse(Vn,1+jr.length,Cn);if(!Bn){yn=!0;break}jr.push(Bn)}if(!yn){if(Array.isArray(ar)&&ar.length!==jr.length){Lt.error("Expected "+ar.length+" arguments, but found "+jr.length+" instead.");continue}for(var Zn=0;Zn<jr.length;Zn++){var aa=Array.isArray(ar)?ar[Zn]:ar.type,ga=jr[Zn];Lt.concat(Zn+1).checkSubtype(aa,ga.type)}if(Lt.errors.length===0)return new Yo(ye,Re,Er,jr)}}if(yt.length===1)(oe=W.errors).push.apply(oe,Lt.errors);else{for(var da=yt.length?yt:qe,Va=da.map(function(Ha){var Wa=Ha[0];return Oc(Wa)}).join(" | "),ka=[],Na=1;Na<R.length;Na++){var fi=W.parse(R[Na],1+ka.length);if(!fi)return null;ka.push(Pi(fi.type))}W.error("Expected arguments of type "+Va+", but found ("+ka.join(", ")+") instead.")}return null},Yo.register=function(R,W){Yo.definitions=W;for(var oe in W)R[oe]=Yo};function Oc(P){return Array.isArray(P)?"("+P.map(Pi).join(", ")+")":"("+Pi(P.type)+"...)"}var Jl=function(R,W,oe){this.type=ba,this.locale=oe,this.caseSensitive=R,this.diacriticSensitive=W};Jl.parse=function(R,W){if(R.length!==2)return W.error("Expected one argument.");var oe=R[1];if(typeof oe!="object"||Array.isArray(oe))return W.error("Collator options argument must be an object.");var ye=W.parse(oe["case-sensitive"]===void 0?!1:oe["case-sensitive"],1,Xn);if(!ye)return null;var Ee=W.parse(oe["diacritic-sensitive"]===void 0?!1:oe["diacritic-sensitive"],1,Xn);if(!Ee)return null;var Re=null;return oe.locale&&(Re=W.parse(oe.locale,1,Ln),!Re)?null:new Jl(ye,Ee,Re)},Jl.prototype.evaluate=function(R){return new yl(this.caseSensitive.evaluate(R),this.diacriticSensitive.evaluate(R),this.locale?this.locale.evaluate(R):null)},Jl.prototype.eachChild=function(R){R(this.caseSensitive),R(this.diacriticSensitive),this.locale&&R(this.locale)},Jl.prototype.outputDefined=function(){return!1},Jl.prototype.serialize=function(){var R={};return R["case-sensitive"]=this.caseSensitive.serialize(),R["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(R.locale=this.locale.serialize()),["collator",R]};var xl=8192;function $l(P,R){P[0]=Math.min(P[0],R[0]),P[1]=Math.min(P[1],R[1]),P[2]=Math.max(P[2],R[0]),P[3]=Math.max(P[3],R[1])}function ch(P){return(180+P)/360}function Uh(P){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+P*Math.PI/360)))/360}function Yu(P,R){return!(P[0]<=R[0]||P[2]>=R[2]||P[1]<=R[1]||P[3]>=R[3])}function hh(P,R){var W=ch(P[0]),oe=Uh(P[1]),ye=Math.pow(2,R.z);return[Math.round(W*ye*xl),Math.round(oe*ye*xl)]}function Ql(P,R,W){var oe=P[0]-R[0],ye=P[1]-R[1],Ee=P[0]-W[0],Re=P[1]-W[1];return oe*Re-Ee*ye===0&&oe*Ee<=0&&ye*Re<=0}function ac(P,R,W){return R[1]>P[1]!=W[1]>P[1]&&P[0]<(W[0]-R[0])*(P[1]-R[1])/(W[1]-R[1])+R[0]}function zc(P,R){for(var W=!1,oe=0,ye=R.length;oe<ye;oe++)for(var Ee=R[oe],Re=0,qe=Ee.length;Re<qe-1;Re++){if(Ql(P,Ee[Re],Ee[Re+1]))return!1;ac(P,Ee[Re],Ee[Re+1])&&(W=!W)}return W}function Vh(P,R){for(var W=0;W<R.length;W++)if(zc(P,R[W]))return!0;return!1}function Hh(P,R){return P[0]*R[1]-P[1]*R[0]}function vu(P,R,W,oe){var ye=P[0]-W[0],Ee=P[1]-W[1],Re=R[0]-W[0],qe=R[1]-W[1],yt=oe[0]-W[0],Lt=oe[1]-W[1],It=ye*Lt-yt*Ee,Kt=Re*Lt-yt*qe;return It>0&&Kt<0||It<0&&Kt>0}function Zs(P,R,W,oe){var ye=[R[0]-P[0],R[1]-P[1]],Ee=[oe[0]-W[0],oe[1]-W[1]];return Hh(Ee,ye)===0?!1:!!(vu(P,R,W,oe)&&vu(W,oe,P,R))}function ql(P,R,W){for(var oe=0,ye=W;oe<ye.length;oe+=1)for(var Ee=ye[oe],Re=0;Re<Ee.length-1;++Re)if(Zs(P,R,Ee[Re],Ee[Re+1]))return!0;return!1}function Xu(P,R){for(var W=0;W<P.length;++W)if(!zc(P[W],R))return!1;for(var oe=0;oe<P.length-1;++oe)if(ql(P[oe],P[oe+1],R))return!1;return!0}function Sf(P,R){for(var W=0;W<R.length;W++)if(Xu(P,R[W]))return!0;return!1}function Ef(P,R,W){for(var oe=[],ye=0;ye<P.length;ye++){for(var Ee=[],Re=0;Re<P[ye].length;Re++){var qe=hh(P[ye][Re],W);$l(R,qe),Ee.push(qe)}oe.push(Ee)}return oe}function vh(P,R,W){for(var oe=[],ye=0;ye<P.length;ye++){var Ee=Ef(P[ye],R,W);oe.push(Ee)}return oe}function Il(P,R,W,oe){if(P[0]<W[0]||P[0]>W[2]){var ye=oe*.5,Ee=P[0]-W[0]>ye?-oe:W[0]-P[0]>ye?oe:0;Ee===0&&(Ee=P[0]-W[2]>ye?-oe:W[2]-P[0]>ye?oe:0),P[0]+=Ee}$l(R,P)}function Zu(P){P[0]=P[1]=1/0,P[2]=P[3]=-1/0}function En(P,R,W,oe){for(var ye=Math.pow(2,oe.z)*xl,Ee=[oe.x*xl,oe.y*xl],Re=[],qe=0,yt=P;qe<yt.length;qe+=1)for(var Lt=yt[qe],It=0,Kt=Lt;It<Kt.length;It+=1){var ur=Kt[It],ar=[ur.x+Ee[0],ur.y+Ee[1]];Il(ar,R,W,ye),Re.push(ar)}return Re}function na(P,R,W,oe){for(var ye=Math.pow(2,oe.z)*xl,Ee=[oe.x*xl,oe.y*xl],Re=[],qe=0,yt=P;qe<yt.length;qe+=1){for(var Lt=yt[qe],It=[],Kt=0,ur=Lt;Kt<ur.length;Kt+=1){var ar=ur[Kt],Er=[ar.x+Ee[0],ar.y+Ee[1]];$l(R,Er),It.push(Er)}Re.push(It)}if(R[2]-R[0]<=ye/2){Zu(R);for(var jr=0,yn=Re;jr<yn.length;jr+=1)for(var hn=yn[jr],Vn=0,Cn=hn;Vn<Cn.length;Vn+=1){var Bn=Cn[Vn];Il(Bn,R,W,ye)}}return Re}function qn(P,R){var W=[1/0,1/0,-1/0,-1/0],oe=[1/0,1/0,-1/0,-1/0],ye=P.canonicalID();if(R.type==="Polygon"){var Ee=Ef(R.coordinates,oe,ye),Re=En(P.geometry(),W,oe,ye);if(!Yu(W,oe))return!1;for(var qe=0,yt=Re;qe<yt.length;qe+=1){var Lt=yt[qe];if(!zc(Lt,Ee))return!1}}if(R.type==="MultiPolygon"){var It=vh(R.coordinates,oe,ye),Kt=En(P.geometry(),W,oe,ye);if(!Yu(W,oe))return!1;for(var ur=0,ar=Kt;ur<ar.length;ur+=1){var Er=ar[ur];if(!Vh(Er,It))return!1}}return!0}function Xa(P,R){var W=[1/0,1/0,-1/0,-1/0],oe=[1/0,1/0,-1/0,-1/0],ye=P.canonicalID();if(R.type==="Polygon"){var Ee=Ef(R.coordinates,oe,ye),Re=na(P.geometry(),W,oe,ye);if(!Yu(W,oe))return!1;for(var qe=0,yt=Re;qe<yt.length;qe+=1){var Lt=yt[qe];if(!Xu(Lt,Ee))return!1}}if(R.type==="MultiPolygon"){var It=vh(R.coordinates,oe,ye),Kt=na(P.geometry(),W,oe,ye);if(!Yu(W,oe))return!1;for(var ur=0,ar=Kt;ur<ar.length;ur+=1){var Er=ar[ur];if(!Sf(Er,It))return!1}}return!0}var li=function(R,W){this.type=Xn,this.geojson=R,this.geometries=W};li.parse=function(R,W){if(R.length!==2)return W.error("'within' expression requires exactly one argument, but found "+(R.length-1)+" instead.");if(Vu(R[1])){var oe=R[1];if(oe.type==="FeatureCollection")for(var ye=0;ye<oe.features.length;++ye){var Ee=oe.features[ye].geometry.type;if(Ee==="Polygon"||Ee==="MultiPolygon")return new li(oe,oe.features[ye].geometry)}else if(oe.type==="Feature"){var Re=oe.geometry.type;if(Re==="Polygon"||Re==="MultiPolygon")return new li(oe,oe.geometry)}else if(oe.type==="Polygon"||oe.type==="MultiPolygon")return new li(oe,oe)}return W.error("'within' expression requires valid geojson object that contains polygon geometry type.")},li.prototype.evaluate=function(R){if(R.geometry()!=null&&R.canonicalID()!=null){if(R.geometryType()==="Point")return qn(R,this.geometries);if(R.geometryType()==="LineString")return Xa(R,this.geometries)}return!1},li.prototype.eachChild=function(){},li.prototype.outputDefined=function(){return!0},li.prototype.serialize=function(){return["within",this.geojson]};function Ii(P){if(P instanceof Yo){if(P.name==="get"&&P.args.length===1)return!1;if(P.name==="feature-state")return!1;if(P.name==="has"&&P.args.length===1)return!1;if(P.name==="properties"||P.name==="geometry-type"||P.name==="id")return!1;if(/^filter-/.test(P.name))return!1}if(P instanceof li)return!1;var R=!0;return P.eachChild(function(W){R&&!Ii(W)&&(R=!1)}),R}function co(P){if(P instanceof Yo&&P.name==="feature-state")return!1;var R=!0;return P.eachChild(function(W){R&&!co(W)&&(R=!1)}),R}function $i(P,R){if(P instanceof Yo&&R.indexOf(P.name)>=0)return!1;var W=!0;return P.eachChild(function(oe){W&&!$i(oe,R)&&(W=!1)}),W}var bl=function(R,W){this.type=W.type,this.name=R,this.boundExpression=W};bl.parse=function(R,W){if(R.length!==2||typeof R[1]!="string")return W.error("'var' expression requires exactly one string literal argument.");var oe=R[1];return W.scope.has(oe)?new bl(oe,W.scope.get(oe)):W.error('Unknown variable "'+oe+'". Make sure "'+oe+'" has been bound in an enclosing "let" expression before using it.',1)},bl.prototype.evaluate=function(R){return this.boundExpression.evaluate(R)},bl.prototype.eachChild=function(){},bl.prototype.outputDefined=function(){return!1},bl.prototype.serialize=function(){return["var",this.name]};var wl=function(R,W,oe,ye,Ee){W===void 0&&(W=[]),ye===void 0&&(ye=new nn),Ee===void 0&&(Ee=[]),this.registry=R,this.path=W,this.key=W.map(function(Re){return"["+Re+"]"}).join(""),this.scope=ye,this.errors=Ee,this.expectedType=oe};wl.prototype.parse=function(R,W,oe,ye,Ee){return Ee===void 0&&(Ee={}),W?this.concat(W,oe,ye)._parse(R,Ee):this._parse(R,Ee)},wl.prototype._parse=function(R,W){(R===null||typeof R=="string"||typeof R=="boolean"||typeof R=="number")&&(R=["literal",R]);function oe(It,Kt,ur){return ur==="assert"?new Wo(Kt,[It]):ur==="coerce"?new ys(Kt,[It]):It}if(Array.isArray(R)){if(R.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ye=R[0];if(typeof ye!="string")return this.error("Expression name must be a string, but found "+typeof ye+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ee=this.registry[ye];if(Ee){var Re=Ee.parse(R,this);if(!Re)return null;if(this.expectedType){var qe=this.expectedType,yt=Re.type;if((qe.kind==="string"||qe.kind==="number"||qe.kind==="boolean"||qe.kind==="object"||qe.kind==="array")&&yt.kind==="value")Re=oe(Re,qe,W.typeAnnotation||"assert");else if((qe.kind==="color"||qe.kind==="formatted"||qe.kind==="resolvedImage")&&(yt.kind==="value"||yt.kind==="string"))Re=oe(Re,qe,W.typeAnnotation||"coerce");else if(this.checkSubtype(qe,yt))return null}if(!(Re instanceof Mo)&&Re.type.kind!=="resolvedImage"&&Ms(Re)){var Lt=new ml;try{Re=new Mo(Re.type,Re.evaluate(Lt))}catch(It){return this.error(It.message),null}}return Re}return this.error('Unknown expression "'+ye+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof R>"u"?this.error("'undefined' value invalid. Use null instead."):typeof R=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof R+" instead.")},wl.prototype.concat=function(R,W,oe){var ye=typeof R=="number"?this.path.concat(R):this.path,Ee=oe?this.scope.concat(oe):this.scope;return new wl(this.registry,ye,W||null,Ee,this.errors)},wl.prototype.error=function(R){for(var W=[],oe=arguments.length-1;oe-- >0;)W[oe]=arguments[oe+1];var ye=""+this.key+W.map(function(Ee){return"["+Ee+"]"}).join("");this.errors.push(new Dr(ye,R))},wl.prototype.checkSubtype=function(R,W){var oe=cs(R,W);return oe&&this.error(oe),oe};function Ms(P){if(P instanceof bl)return Ms(P.boundExpression);if(P instanceof Yo&&P.name==="error")return!1;if(P instanceof Jl)return!1;if(P instanceof li)return!1;var R=P instanceof ys||P instanceof Wo,W=!0;return P.eachChild(function(oe){R?W=W&&Ms(oe):W=W&&oe instanceof Mo}),W?Ii(P)&&$i(P,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function kl(P,R){for(var W=P.length-1,oe=0,ye=W,Ee=0,Re,qe;oe<=ye;)if(Ee=Math.floor((oe+ye)/2),Re=P[Ee],qe=P[Ee+1],Re<=R){if(Ee===W||R<qe)return Ee;oe=Ee+1}else if(Re>R)ye=Ee-1;else throw new Do("Input is not a number.");return 0}var rl=function(R,W,oe){this.type=R,this.input=W,this.labels=[],this.outputs=[];for(var ye=0,Ee=oe;ye<Ee.length;ye+=1){var Re=Ee[ye],qe=Re[0],yt=Re[1];this.labels.push(qe),this.outputs.push(yt)}};rl.parse=function(R,W){if(R.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if((R.length-1)%2!==0)return W.error("Expected an even number of arguments.");var oe=W.parse(R[1],1,ln);if(!oe)return null;var ye=[],Ee=null;W.expectedType&&W.expectedType.kind!=="value"&&(Ee=W.expectedType);for(var Re=1;Re<R.length;Re+=2){var qe=Re===1?-1/0:R[Re],yt=R[Re+1],Lt=Re,It=Re+1;if(typeof qe!="number")return W.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Lt);if(ye.length&&ye[ye.length-1][0]>=qe)return W.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Lt);var Kt=W.parse(yt,It,Ee);if(!Kt)return null;Ee=Ee||Kt.type,ye.push([qe,Kt])}return new rl(Ee,oe,ye)},rl.prototype.evaluate=function(R){var W=this.labels,oe=this.outputs;if(W.length===1)return oe[0].evaluate(R);var ye=this.input.evaluate(R);if(ye<=W[0])return oe[0].evaluate(R);var Ee=W.length;if(ye>=W[Ee-1])return oe[Ee-1].evaluate(R);var Re=kl(W,ye);return oe[Re].evaluate(R)},rl.prototype.eachChild=function(R){R(this.input);for(var W=0,oe=this.outputs;W<oe.length;W+=1){var ye=oe[W];R(ye)}},rl.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})},rl.prototype.serialize=function(){for(var R=["step",this.input.serialize()],W=0;W<this.labels.length;W++)W>0&&R.push(this.labels[W]),R.push(this.outputs[W].serialize());return R};function no(P,R,W){return P*(1-W)+R*W}function ju(P,R,W){return new Mi(no(P.r,R.r,W),no(P.g,R.g,W),no(P.b,R.b,W),no(P.a,R.a,W))}function ic(P,R,W){return P.map(function(oe,ye){return no(oe,R[ye],W)})}var ji=Object.freeze({__proto__:null,number:no,color:ju,array:ic}),Ku=.95047,du=1,ts=1.08883,oc=4/29,Ju=6/29,sc=3*Ju*Ju,lc=Ju*Ju*Ju,Ol=Math.PI/180,$u=180/Math.PI;function uc(P){return P>lc?Math.pow(P,.3333333333333333):P/sc+oc}function Qu(P){return P>Ju?P*P*P:sc*(P-oc)}function pu(P){return 255*(P<=.0031308?12.92*P:1.055*Math.pow(P,.4166666666666667)-.055)}function Cf(P){return P/=255,P<=.04045?P/12.92:Math.pow((P+.055)/1.055,2.4)}function eu(P){var R=Cf(P.r),W=Cf(P.g),oe=Cf(P.b),ye=uc((.4124564*R+.3575761*W+.1804375*oe)/Ku),Ee=uc((.2126729*R+.7151522*W+.072175*oe)/du),Re=uc((.0193339*R+.119192*W+.9503041*oe)/ts);return{l:116*Ee-16,a:500*(ye-Ee),b:200*(Ee-Re),alpha:P.a}}function Lf(P){var R=(P.l+16)/116,W=isNaN(P.a)?R:R+P.a/500,oe=isNaN(P.b)?R:R-P.b/200;return R=du*Qu(R),W=Ku*Qu(W),oe=ts*Qu(oe),new Mi(pu(3.2404542*W-1.5371385*R-.4985314*oe),pu(-.969266*W+1.8760108*R+.041556*oe),pu(.0556434*W-.2040259*R+1.0572252*oe),P.alpha)}function Hi(P,R,W){return{l:no(P.l,R.l,W),a:no(P.a,R.a,W),b:no(P.b,R.b,W),alpha:no(P.alpha,R.alpha,W)}}function tu(P){var R=eu(P),W=R.l,oe=R.a,ye=R.b,Ee=Math.atan2(ye,oe)*$u;return{h:Ee<0?Ee+360:Ee,c:Math.sqrt(oe*oe+ye*ye),l:W,alpha:P.a}}function Ss(P){var R=P.h*Ol,W=P.c,oe=P.l;return Lf({l:oe,a:Math.cos(R)*W,b:Math.sin(R)*W,alpha:P.alpha})}function dh(P,R,W){var oe=R-P;return P+W*(oe>180||oe<-180?oe-360*Math.round(oe/360):oe)}function Fc(P,R,W){return{h:dh(P.h,R.h,W),c:no(P.c,R.c,W),l:no(P.l,R.l,W),alpha:no(P.alpha,R.alpha,W)}}var gu={forward:eu,reverse:Lf,interpolate:Hi},nl={forward:tu,reverse:Ss,interpolate:Fc},yu=Object.freeze({__proto__:null,lab:gu,hcl:nl}),bo=function(R,W,oe,ye,Ee){this.type=R,this.operator=W,this.interpolation=oe,this.input=ye,this.labels=[],this.outputs=[];for(var Re=0,qe=Ee;Re<qe.length;Re+=1){var yt=qe[Re],Lt=yt[0],It=yt[1];this.labels.push(Lt),this.outputs.push(It)}};bo.interpolationFactor=function(R,W,oe,ye){var Ee=0;if(R.name==="exponential")Ee=_f(W,R.base,oe,ye);else if(R.name==="linear")Ee=_f(W,1,oe,ye);else if(R.name==="cubic-bezier"){var Re=R.controlPoints,qe=new v(Re[0],Re[1],Re[2],Re[3]);Ee=qe.solve(_f(W,1,oe,ye))}return Ee},bo.parse=function(R,W){var oe=R[0],ye=R[1],Ee=R[2],Re=R.slice(3);if(!Array.isArray(ye)||ye.length===0)return W.error("Expected an interpolation type expression.",1);if(ye[0]==="linear")ye={name:"linear"};else if(ye[0]==="exponential"){var qe=ye[1];if(typeof qe!="number")return W.error("Exponential interpolation requires a numeric base.",1,1);ye={name:"exponential",base:qe}}else if(ye[0]==="cubic-bezier"){var yt=ye.slice(1);if(yt.length!==4||yt.some(function(hn){return typeof hn!="number"||hn<0||hn>1}))return W.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ye={name:"cubic-bezier",controlPoints:yt}}else return W.error("Unknown interpolation type "+String(ye[0]),1,0);if(R.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if((R.length-1)%2!==0)return W.error("Expected an even number of arguments.");if(Ee=W.parse(Ee,2,ln),!Ee)return null;var Lt=[],It=null;oe==="interpolate-hcl"||oe==="interpolate-lab"?It=Rn:W.expectedType&&W.expectedType.kind!=="value"&&(It=W.expectedType);for(var Kt=0;Kt<Re.length;Kt+=2){var ur=Re[Kt],ar=Re[Kt+1],Er=Kt+3,jr=Kt+4;if(typeof ur!="number")return W.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Er);if(Lt.length&&Lt[Lt.length-1][0]>=ur)return W.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Er);var yn=W.parse(ar,jr,It);if(!yn)return null;It=It||yn.type,Lt.push([ur,yn])}return It.kind!=="number"&&It.kind!=="color"&&!(It.kind==="array"&&It.itemType.kind==="number"&&typeof It.N=="number")?W.error("Type "+Pi(It)+" is not interpolatable."):new bo(It,oe,ye,Ee,Lt)},bo.prototype.evaluate=function(R){var W=this.labels,oe=this.outputs;if(W.length===1)return oe[0].evaluate(R);var ye=this.input.evaluate(R);if(ye<=W[0])return oe[0].evaluate(R);var Ee=W.length;if(ye>=W[Ee-1])return oe[Ee-1].evaluate(R);var Re=kl(W,ye),qe=W[Re],yt=W[Re+1],Lt=bo.interpolationFactor(this.interpolation,ye,qe,yt),It=oe[Re].evaluate(R),Kt=oe[Re+1].evaluate(R);return this.operator==="interpolate"?ji[this.type.kind.toLowerCase()](It,Kt,Lt):this.operator==="interpolate-hcl"?nl.reverse(nl.interpolate(nl.forward(It),nl.forward(Kt),Lt)):gu.reverse(gu.interpolate(gu.forward(It),gu.forward(Kt),Lt))},bo.prototype.eachChild=function(R){R(this.input);for(var W=0,oe=this.outputs;W<oe.length;W+=1){var ye=oe[W];R(ye)}},bo.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})},bo.prototype.serialize=function(){var R;this.interpolation.name==="linear"?R=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?R=["linear"]:R=["exponential",this.interpolation.base]:R=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var W=[this.operator,R,this.input.serialize()],oe=0;oe<this.labels.length;oe++)W.push(this.labels[oe],this.outputs[oe].serialize());return W};function _f(P,R,W,oe){var ye=oe-W,Ee=P-W;return ye===0?0:R===1?Ee/ye:(Math.pow(R,Ee)-1)/(Math.pow(R,ye)-1)}var js=function(R,W){this.type=R,this.args=W};js.parse=function(R,W){if(R.length<2)return W.error("Expectected at least one argument.");var oe=null,ye=W.expectedType;ye&&ye.kind!=="value"&&(oe=ye);for(var Ee=[],Re=0,qe=R.slice(1);Re<qe.length;Re+=1){var yt=qe[Re],Lt=W.parse(yt,1+Ee.length,oe,void 0,{typeAnnotation:"omit"});if(!Lt)return null;oe=oe||Lt.type,Ee.push(Lt)}var It=ye&&Ee.some(function(Kt){return cs(ye,Kt.type)});return It?new js(Kn,Ee):new js(oe,Ee)},js.prototype.evaluate=function(R){for(var W=null,oe=0,ye,Ee=0,Re=this.args;Ee<Re.length;Ee+=1){var qe=Re[Ee];if(oe++,W=qe.evaluate(R),W&&W instanceof hs&&!W.available&&(ye||(ye=W.name),W=null,oe===this.args.length&&(W=ye)),W!==null)break}return W},js.prototype.eachChild=function(R){this.args.forEach(R)},js.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},js.prototype.serialize=function(){var R=["coalesce"];return this.eachChild(function(W){R.push(W.serialize())}),R};var zl=function(R,W){this.type=W.type,this.bindings=[].concat(R),this.result=W};zl.prototype.evaluate=function(R){return this.result.evaluate(R)},zl.prototype.eachChild=function(R){for(var W=0,oe=this.bindings;W<oe.length;W+=1){var ye=oe[W];R(ye[1])}R(this.result)},zl.parse=function(R,W){if(R.length<4)return W.error("Expected at least 3 arguments, but found "+(R.length-1)+" instead.");for(var oe=[],ye=1;ye<R.length-1;ye+=2){var Ee=R[ye];if(typeof Ee!="string")return W.error("Expected string, but found "+typeof Ee+" instead.",ye);if(/[^a-zA-Z0-9_]/.test(Ee))return W.error("Variable names must contain only alphanumeric characters or '_'.",ye);var Re=W.parse(R[ye+1],ye+1);if(!Re)return null;oe.push([Ee,Re])}var qe=W.parse(R[R.length-1],R.length-1,W.expectedType,oe);return qe?new zl(oe,qe):null},zl.prototype.outputDefined=function(){return this.result.outputDefined()},zl.prototype.serialize=function(){for(var R=["let"],W=0,oe=this.bindings;W<oe.length;W+=1){var ye=oe[W],Ee=ye[0],Re=ye[1];R.push(Ee,Re.serialize())}return R.push(this.result.serialize()),R};var mu=function(R,W,oe){this.type=R,this.index=W,this.input=oe};mu.parse=function(R,W){if(R.length!==3)return W.error("Expected 2 arguments, but found "+(R.length-1)+" instead.");var oe=W.parse(R[1],1,ln),ye=W.parse(R[2],2,Di(W.expectedType||Kn));if(!oe||!ye)return null;var Ee=ye.type;return new mu(Ee.itemType,oe,ye)},mu.prototype.evaluate=function(R){var W=this.index.evaluate(R),oe=this.input.evaluate(R);if(W<0)throw new Do("Array index out of bounds: "+W+" < 0.");if(W>=oe.length)throw new Do("Array index out of bounds: "+W+" > "+(oe.length-1)+".");if(W!==Math.floor(W))throw new Do("Array index must be an integer, but found "+W+" instead.");return oe[W]},mu.prototype.eachChild=function(R){R(this.index),R(this.input)},mu.prototype.outputDefined=function(){return!1},mu.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var lo=function(R,W){this.type=Xn,this.needle=R,this.haystack=W};lo.parse=function(R,W){if(R.length!==3)return W.error("Expected 2 arguments, but found "+(R.length-1)+" instead.");var oe=W.parse(R[1],1,Kn),ye=W.parse(R[2],2,Kn);return!oe||!ye?null:es(oe.type,[Xn,Ln,ln,$r,Kn])?new lo(oe,ye):W.error("Expected first argument to be of type boolean, string, number or null, but found "+Pi(oe.type)+" instead")},lo.prototype.evaluate=function(R){var W=this.needle.evaluate(R),oe=this.haystack.evaluate(R);if(!oe)return!1;if(!Uu(W,["boolean","string","number","null"]))throw new Do("Expected first argument to be of type boolean, string, number or null, but found "+Pi(Ao(W))+" instead.");if(!Uu(oe,["string","array"]))throw new Do("Expected second argument to be of type array or string, but found "+Pi(Ao(oe))+" instead.");return oe.indexOf(W)>=0},lo.prototype.eachChild=function(R){R(this.needle),R(this.haystack)},lo.prototype.outputDefined=function(){return!0},lo.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var uo=function(R,W,oe){this.type=ln,this.needle=R,this.haystack=W,this.fromIndex=oe};uo.parse=function(R,W){if(R.length<=2||R.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(R.length-1)+" instead.");var oe=W.parse(R[1],1,Kn),ye=W.parse(R[2],2,Kn);if(!oe||!ye)return null;if(!es(oe.type,[Xn,Ln,ln,$r,Kn]))return W.error("Expected first argument to be of type boolean, string, number or null, but found "+Pi(oe.type)+" instead");if(R.length===4){var Ee=W.parse(R[3],3,ln);return Ee?new uo(oe,ye,Ee):null}else return new uo(oe,ye)},uo.prototype.evaluate=function(R){var W=this.needle.evaluate(R),oe=this.haystack.evaluate(R);if(!Uu(W,["boolean","string","number","null"]))throw new Do("Expected first argument to be of type boolean, string, number or null, but found "+Pi(Ao(W))+" instead.");if(!Uu(oe,["string","array"]))throw new Do("Expected second argument to be of type array or string, but found "+Pi(Ao(oe))+" instead.");if(this.fromIndex){var ye=this.fromIndex.evaluate(R);return oe.indexOf(W,ye)}return oe.indexOf(W)},uo.prototype.eachChild=function(R){R(this.needle),R(this.haystack),this.fromIndex&&R(this.fromIndex)},uo.prototype.outputDefined=function(){return!1},uo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var R=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),R]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Fl=function(R,W,oe,ye,Ee,Re){this.inputType=R,this.type=W,this.input=oe,this.cases=ye,this.outputs=Ee,this.otherwise=Re};Fl.parse=function(R,W){if(R.length<5)return W.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if(R.length%2!==1)return W.error("Expected an even number of arguments.");var oe,ye;W.expectedType&&W.expectedType.kind!=="value"&&(ye=W.expectedType);for(var Ee={},Re=[],qe=2;qe<R.length-1;qe+=2){var yt=R[qe],Lt=R[qe+1];Array.isArray(yt)||(yt=[yt]);var It=W.concat(qe);if(yt.length===0)return It.error("Expected at least one branch label.");for(var Kt=0,ur=yt;Kt<ur.length;Kt+=1){var ar=ur[Kt];if(typeof ar!="number"&&typeof ar!="string")return It.error("Branch labels must be numbers or strings.");if(typeof ar=="number"&&Math.abs(ar)>Number.MAX_SAFE_INTEGER)return It.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof ar=="number"&&Math.floor(ar)!==ar)return It.error("Numeric branch labels must be integer values.");if(!oe)oe=Ao(ar);else if(It.checkSubtype(oe,Ao(ar)))return null;if(typeof Ee[String(ar)]<"u")return It.error("Branch labels must be unique.");Ee[String(ar)]=Re.length}var Er=W.parse(Lt,qe,ye);if(!Er)return null;ye=ye||Er.type,Re.push(Er)}var jr=W.parse(R[1],1,Kn);if(!jr)return null;var yn=W.parse(R[R.length-1],R.length-1,ye);return!yn||jr.type.kind!=="value"&&W.concat(1).checkSubtype(oe,jr.type)?null:new Fl(oe,ye,jr,Ee,Re,yn)},Fl.prototype.evaluate=function(R){var W=this.input.evaluate(R),oe=Ao(W)===this.inputType&&this.outputs[this.cases[W]]||this.otherwise;return oe.evaluate(R)},Fl.prototype.eachChild=function(R){R(this.input),this.outputs.forEach(R),R(this.otherwise)},Fl.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})&&this.otherwise.outputDefined()},Fl.prototype.serialize=function(){for(var R=this,W=["match",this.input.serialize()],oe=Object.keys(this.cases).sort(),ye=[],Ee={},Re=0,qe=oe;Re<qe.length;Re+=1){var yt=qe[Re],Lt=Ee[this.cases[yt]];Lt===void 0?(Ee[this.cases[yt]]=ye.length,ye.push([this.cases[yt],[yt]])):ye[Lt][1].push(yt)}for(var It=function(jr){return R.inputType.kind==="number"?Number(jr):jr},Kt=0,ur=ye;Kt<ur.length;Kt+=1){var ar=ur[Kt],Lt=ar[0],Er=ar[1];Er.length===1?W.push(It(Er[0])):W.push(Er.map(It)),W.push(this.outputs[outputIndex$1].serialize())}return W.push(this.otherwise.serialize()),W};var al=function(R,W,oe){this.type=R,this.branches=W,this.otherwise=oe};al.parse=function(R,W){if(R.length<4)return W.error("Expected at least 3 arguments, but found only "+(R.length-1)+".");if(R.length%2!==0)return W.error("Expected an odd number of arguments.");var oe;W.expectedType&&W.expectedType.kind!=="value"&&(oe=W.expectedType);for(var ye=[],Ee=1;Ee<R.length-1;Ee+=2){var Re=W.parse(R[Ee],Ee,Xn);if(!Re)return null;var qe=W.parse(R[Ee+1],Ee+1,oe);if(!qe)return null;ye.push([Re,qe]),oe=oe||qe.type}var yt=W.parse(R[R.length-1],R.length-1,oe);return yt?new al(oe,ye,yt):null},al.prototype.evaluate=function(R){for(var W=0,oe=this.branches;W<oe.length;W+=1){var ye=oe[W],Ee=ye[0],Re=ye[1];if(Ee.evaluate(R))return Re.evaluate(R)}return this.otherwise.evaluate(R)},al.prototype.eachChild=function(R){for(var W=0,oe=this.branches;W<oe.length;W+=1){var ye=oe[W],Ee=ye[0],Re=ye[1];R(Ee),R(Re)}R(this.otherwise)},al.prototype.outputDefined=function(){return this.branches.every(function(R){R[0];var W=R[1];return W.outputDefined()})&&this.otherwise.outputDefined()},al.prototype.serialize=function(){var R=["case"];return this.eachChild(function(W){R.push(W.serialize())}),R};var Fs=function(R,W,oe,ye){this.type=R,this.input=W,this.beginIndex=oe,this.endIndex=ye};Fs.parse=function(R,W){if(R.length<=2||R.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(R.length-1)+" instead.");var oe=W.parse(R[1],1,Kn),ye=W.parse(R[2],2,ln);if(!oe||!ye)return null;if(!es(oe.type,[Di(Kn),Ln,Kn]))return W.error("Expected first argument to be of type array or string, but found "+Pi(oe.type)+" instead");if(R.length===4){var Ee=W.parse(R[3],3,ln);return Ee?new Fs(oe.type,oe,ye,Ee):null}else return new Fs(oe.type,oe,ye)},Fs.prototype.evaluate=function(R){var W=this.input.evaluate(R),oe=this.beginIndex.evaluate(R);if(!Uu(W,["string","array"]))throw new Do("Expected first argument to be of type array or string, but found "+Pi(Ao(W))+" instead.");if(this.endIndex){var ye=this.endIndex.evaluate(R);return W.slice(oe,ye)}return W.slice(oe)},Fs.prototype.eachChild=function(R){R(this.input),R(this.beginIndex),this.endIndex&&R(this.endIndex)},Fs.prototype.outputDefined=function(){return!1},Fs.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var R=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),R]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Pf(P,R){return P==="=="||P==="!="?R.kind==="boolean"||R.kind==="string"||R.kind==="number"||R.kind==="null"||R.kind==="value":R.kind==="string"||R.kind==="number"||R.kind==="value"}function Nc(P,R,W){return R===W}function Rf(P,R,W){return R!==W}function Bc(P,R,W){return R<W}function qu(P,R,W){return R>W}function xu(P,R,W){return R<=W}function ef(P,R,W){return R>=W}function Nl(P,R,W,oe){return oe.compare(R,W)===0}function So(P,R,W,oe){return!Nl(P,R,W,oe)}function Ns(P,R,W,oe){return oe.compare(R,W)<0}function tf(P,R,W,oe){return oe.compare(R,W)>0}function ph(P,R,W,oe){return oe.compare(R,W)<=0}function Df(P,R,W,oe){return oe.compare(R,W)>=0}function Bl(P,R,W){var oe=P!=="=="&&P!=="!=";return function(){function ye(Ee,Re,qe){this.type=Xn,this.lhs=Ee,this.rhs=Re,this.collator=qe,this.hasUntypedArgument=Ee.type.kind==="value"||Re.type.kind==="value"}return ye.parse=function(Re,qe){if(Re.length!==3&&Re.length!==4)return qe.error("Expected two or three arguments.");var yt=Re[0],Lt=qe.parse(Re[1],1,Kn);if(!Lt)return null;if(!Pf(yt,Lt.type))return qe.concat(1).error('"'+yt+`" comparisons are not supported for type '`+Pi(Lt.type)+"'.");var It=qe.parse(Re[2],2,Kn);if(!It)return null;if(!Pf(yt,It.type))return qe.concat(2).error('"'+yt+`" comparisons are not supported for type '`+Pi(It.type)+"'.");if(Lt.type.kind!==It.type.kind&&Lt.type.kind!=="value"&&It.type.kind!=="value")return qe.error("Cannot compare types '"+Pi(Lt.type)+"' and '"+Pi(It.type)+"'.");oe&&(Lt.type.kind==="value"&&It.type.kind!=="value"?Lt=new Wo(It.type,[Lt]):Lt.type.kind!=="value"&&It.type.kind==="value"&&(It=new Wo(Lt.type,[It])));var Kt=null;if(Re.length===4){if(Lt.type.kind!=="string"&&It.type.kind!=="string"&&Lt.type.kind!=="value"&&It.type.kind!=="value")return qe.error("Cannot use collator to compare non-string types.");if(Kt=qe.parse(Re[3],3,ba),!Kt)return null}return new ye(Lt,It,Kt)},ye.prototype.evaluate=function(Re){var qe=this.lhs.evaluate(Re),yt=this.rhs.evaluate(Re);if(oe&&this.hasUntypedArgument){var Lt=Ao(qe),It=Ao(yt);if(Lt.kind!==It.kind||!(Lt.kind==="string"||Lt.kind==="number"))throw new Do('Expected arguments for "'+P+'" to be (string, string) or (number, number), but found ('+Lt.kind+", "+It.kind+") instead.")}if(this.collator&&!oe&&this.hasUntypedArgument){var Kt=Ao(qe),ur=Ao(yt);if(Kt.kind!=="string"||ur.kind!=="string")return R(Re,qe,yt)}return this.collator?W(Re,qe,yt,this.collator.evaluate(Re)):R(Re,qe,yt)},ye.prototype.eachChild=function(Re){Re(this.lhs),Re(this.rhs),this.collator&&Re(this.collator)},ye.prototype.outputDefined=function(){return!0},ye.prototype.serialize=function(){var Re=[P];return this.eachChild(function(qe){Re.push(qe.serialize())}),Re},ye}()}var fc=Bl("==",Nc,Nl),rf=Bl("!=",Rf,So),Uc=Bl("<",Bc,Ns),Lr=Bl(">",qu,tf),bu=Bl("<=",xu,ph),Xo=Bl(">=",ef,Df),Po=function(R,W,oe,ye,Ee){this.type=Ln,this.number=R,this.locale=W,this.currency=oe,this.minFractionDigits=ye,this.maxFractionDigits=Ee};Po.parse=function(R,W){if(R.length!==3)return W.error("Expected two arguments.");var oe=W.parse(R[1],1,ln);if(!oe)return null;var ye=R[2];if(typeof ye!="object"||Array.isArray(ye))return W.error("NumberFormat options argument must be an object.");var Ee=null;if(ye.locale&&(Ee=W.parse(ye.locale,1,Ln),!Ee))return null;var Re=null;if(ye.currency&&(Re=W.parse(ye.currency,1,Ln),!Re))return null;var qe=null;if(ye["min-fraction-digits"]&&(qe=W.parse(ye["min-fraction-digits"],1,ln),!qe))return null;var yt=null;return ye["max-fraction-digits"]&&(yt=W.parse(ye["max-fraction-digits"],1,ln),!yt)?null:new Po(oe,Ee,Re,qe,yt)},Po.prototype.evaluate=function(R){return new Intl.NumberFormat(this.locale?this.locale.evaluate(R):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(R):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(R):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(R):void 0}).format(this.number.evaluate(R))},Po.prototype.eachChild=function(R){R(this.number),this.locale&&R(this.locale),this.currency&&R(this.currency),this.minFractionDigits&&R(this.minFractionDigits),this.maxFractionDigits&&R(this.maxFractionDigits)},Po.prototype.outputDefined=function(){return!1},Po.prototype.serialize=function(){var R={};return this.locale&&(R.locale=this.locale.serialize()),this.currency&&(R.currency=this.currency.serialize()),this.minFractionDigits&&(R["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(R["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),R]};var yi=function(R){this.type=ln,this.input=R};yi.parse=function(R,W){if(R.length!==2)return W.error("Expected 1 argument, but found "+(R.length-1)+" instead.");var oe=W.parse(R[1],1);return oe?oe.type.kind!=="array"&&oe.type.kind!=="string"&&oe.type.kind!=="value"?W.error("Expected argument of type string or array, but found "+Pi(oe.type)+" instead."):new yi(oe):null},yi.prototype.evaluate=function(R){var W=this.input.evaluate(R);if(typeof W=="string")return W.length;if(Array.isArray(W))return W.length;throw new Do("Expected value to be of type string or array, but found "+Pi(Ao(W))+" instead.")},yi.prototype.eachChild=function(R){R(this.input)},yi.prototype.outputDefined=function(){return!1},yi.prototype.serialize=function(){var R=["length"];return this.eachChild(function(W){R.push(W.serialize())}),R};var nf={"==":fc,"!=":rf,">":Lr,"<":Uc,">=":Xo,"<=":bu,array:Wo,at:mu,boolean:Wo,case:al,coalesce:js,collator:Jl,format:eo,image:gs,in:lo,"index-of":uo,interpolate:bo,"interpolate-hcl":bo,"interpolate-lab":bo,length:yi,let:zl,literal:Mo,match:Fl,number:Wo,"number-format":Po,object:Wo,slice:Fs,step:rl,string:Wo,"to-boolean":ys,"to-color":ys,"to-number":ys,"to-string":ys,var:bl,within:li};function cc(P,R){var W=R[0],oe=R[1],ye=R[2],Ee=R[3];W=W.evaluate(P),oe=oe.evaluate(P),ye=ye.evaluate(P);var Re=Ee?Ee.evaluate(P):1,qe=Kl(W,oe,ye,Re);if(qe)throw new Do(qe);return new Mi(W/255*Re,oe/255*Re,ye/255*Re,Re)}function wu(P,R){return P in R}function Bs(P,R){var W=R[P];return typeof W>"u"?null:W}function gh(P,R,W,oe){for(;W<=oe;){var ye=W+oe>>1;if(R[ye]===P)return!0;R[ye]>P?oe=ye-1:W=ye+1}return!1}function Ul(P){return{type:P}}Yo.register(nf,{error:[xa,[Ln],function(P,R){var W=R[0];throw new Do(W.evaluate(P))}],typeof:[Ln,[Kn],function(P,R){var W=R[0];return Pi(Ao(W.evaluate(P)))}],"to-rgba":[Di(ln,4),[Rn],function(P,R){var W=R[0];return W.evaluate(P).toArray()}],rgb:[Rn,[ln,ln,ln],cc],rgba:[Rn,[ln,ln,ln,ln],cc],has:{type:Xn,overloads:[[[Ln],function(P,R){var W=R[0];return wu(W.evaluate(P),P.properties())}],[[Ln,$n],function(P,R){var W=R[0],oe=R[1];return wu(W.evaluate(P),oe.evaluate(P))}]]},get:{type:Kn,overloads:[[[Ln],function(P,R){var W=R[0];return Bs(W.evaluate(P),P.properties())}],[[Ln,$n],function(P,R){var W=R[0],oe=R[1];return Bs(W.evaluate(P),oe.evaluate(P))}]]},"feature-state":[Kn,[Ln],function(P,R){var W=R[0];return Bs(W.evaluate(P),P.featureState||{})}],properties:[$n,[],function(P){return P.properties()}],"geometry-type":[Ln,[],function(P){return P.geometryType()}],id:[Kn,[],function(P){return P.id()}],zoom:[ln,[],function(P){return P.globals.zoom}],"heatmap-density":[ln,[],function(P){return P.globals.heatmapDensity||0}],"line-progress":[ln,[],function(P){return P.globals.lineProgress||0}],accumulated:[Kn,[],function(P){return P.globals.accumulated===void 0?null:P.globals.accumulated}],"+":[ln,Ul(ln),function(P,R){for(var W=0,oe=0,ye=R;oe<ye.length;oe+=1){var Ee=ye[oe];W+=Ee.evaluate(P)}return W}],"*":[ln,Ul(ln),function(P,R){for(var W=1,oe=0,ye=R;oe<ye.length;oe+=1){var Ee=ye[oe];W*=Ee.evaluate(P)}return W}],"-":{type:ln,overloads:[[[ln,ln],function(P,R){var W=R[0],oe=R[1];return W.evaluate(P)-oe.evaluate(P)}],[[ln],function(P,R){var W=R[0];return-W.evaluate(P)}]]},"/":[ln,[ln,ln],function(P,R){var W=R[0],oe=R[1];return W.evaluate(P)/oe.evaluate(P)}],"%":[ln,[ln,ln],function(P,R){var W=R[0],oe=R[1];return W.evaluate(P)%oe.evaluate(P)}],ln2:[ln,[],function(){return Math.LN2}],pi:[ln,[],function(){return Math.PI}],e:[ln,[],function(){return Math.E}],"^":[ln,[ln,ln],function(P,R){var W=R[0],oe=R[1];return Math.pow(W.evaluate(P),oe.evaluate(P))}],sqrt:[ln,[ln],function(P,R){var W=R[0];return Math.sqrt(W.evaluate(P))}],log10:[ln,[ln],function(P,R){var W=R[0];return Math.log(W.evaluate(P))/Math.LN10}],ln:[ln,[ln],function(P,R){var W=R[0];return Math.log(W.evaluate(P))}],log2:[ln,[ln],function(P,R){var W=R[0];return Math.log(W.evaluate(P))/Math.LN2}],sin:[ln,[ln],function(P,R){var W=R[0];return Math.sin(W.evaluate(P))}],cos:[ln,[ln],function(P,R){var W=R[0];return Math.cos(W.evaluate(P))}],tan:[ln,[ln],function(P,R){var W=R[0];return Math.tan(W.evaluate(P))}],asin:[ln,[ln],function(P,R){var W=R[0];return Math.asin(W.evaluate(P))}],acos:[ln,[ln],function(P,R){var W=R[0];return Math.acos(W.evaluate(P))}],atan:[ln,[ln],function(P,R){var W=R[0];return Math.atan(W.evaluate(P))}],min:[ln,Ul(ln),function(P,R){return Math.min.apply(Math,R.map(function(W){return W.evaluate(P)}))}],max:[ln,Ul(ln),function(P,R){return Math.max.apply(Math,R.map(function(W){return W.evaluate(P)}))}],abs:[ln,[ln],function(P,R){var W=R[0];return Math.abs(W.evaluate(P))}],round:[ln,[ln],function(P,R){var W=R[0],oe=W.evaluate(P);return oe<0?-Math.round(-oe):Math.round(oe)}],floor:[ln,[ln],function(P,R){var W=R[0];return Math.floor(W.evaluate(P))}],ceil:[ln,[ln],function(P,R){var W=R[0];return Math.ceil(W.evaluate(P))}],"filter-==":[Xn,[Ln,Kn],function(P,R){var W=R[0],oe=R[1];return P.properties()[W.value]===oe.value}],"filter-id-==":[Xn,[Kn],function(P,R){var W=R[0];return P.id()===W.value}],"filter-type-==":[Xn,[Ln],function(P,R){var W=R[0];return P.geometryType()===W.value}],"filter-<":[Xn,[Ln,Kn],function(P,R){var W=R[0],oe=R[1],ye=P.properties()[W.value],Ee=oe.value;return typeof ye==typeof Ee&&ye<Ee}],"filter-id-<":[Xn,[Kn],function(P,R){var W=R[0],oe=P.id(),ye=W.value;return typeof oe==typeof ye&&oe<ye}],"filter->":[Xn,[Ln,Kn],function(P,R){var W=R[0],oe=R[1],ye=P.properties()[W.value],Ee=oe.value;return typeof ye==typeof Ee&&ye>Ee}],"filter-id->":[Xn,[Kn],function(P,R){var W=R[0],oe=P.id(),ye=W.value;return typeof oe==typeof ye&&oe>ye}],"filter-<=":[Xn,[Ln,Kn],function(P,R){var W=R[0],oe=R[1],ye=P.properties()[W.value],Ee=oe.value;return typeof ye==typeof Ee&&ye<=Ee}],"filter-id-<=":[Xn,[Kn],function(P,R){var W=R[0],oe=P.id(),ye=W.value;return typeof oe==typeof ye&&oe<=ye}],"filter->=":[Xn,[Ln,Kn],function(P,R){var W=R[0],oe=R[1],ye=P.properties()[W.value],Ee=oe.value;return typeof ye==typeof Ee&&ye>=Ee}],"filter-id->=":[Xn,[Kn],function(P,R){var W=R[0],oe=P.id(),ye=W.value;return typeof oe==typeof ye&&oe>=ye}],"filter-has":[Xn,[Kn],function(P,R){var W=R[0];return W.value in P.properties()}],"filter-has-id":[Xn,[],function(P){return P.id()!==null&&P.id()!==void 0}],"filter-type-in":[Xn,[Di(Ln)],function(P,R){var W=R[0];return W.value.indexOf(P.geometryType())>=0}],"filter-id-in":[Xn,[Di(Kn)],function(P,R){var W=R[0];return W.value.indexOf(P.id())>=0}],"filter-in-small":[Xn,[Ln,Di(Kn)],function(P,R){var W=R[0],oe=R[1];return oe.value.indexOf(P.properties()[W.value])>=0}],"filter-in-large":[Xn,[Ln,Di(Kn)],function(P,R){var W=R[0],oe=R[1];return gh(P.properties()[W.value],oe.value,0,oe.value.length-1)}],all:{type:Xn,overloads:[[[Xn,Xn],function(P,R){var W=R[0],oe=R[1];return W.evaluate(P)&&oe.evaluate(P)}],[Ul(Xn),function(P,R){for(var W=0,oe=R;W<oe.length;W+=1){var ye=oe[W];if(!ye.evaluate(P))return!1}return!0}]]},any:{type:Xn,overloads:[[[Xn,Xn],function(P,R){var W=R[0],oe=R[1];return W.evaluate(P)||oe.evaluate(P)}],[Ul(Xn),function(P,R){for(var W=0,oe=R;W<oe.length;W+=1){var ye=oe[W];if(ye.evaluate(P))return!0}return!1}]]},"!":[Xn,[Xn],function(P,R){var W=R[0];return!W.evaluate(P)}],"is-supported-script":[Xn,[Ln],function(P,R){var W=R[0],oe=P.globals&&P.globals.isSupportedScript;return oe?oe(W.evaluate(P)):!0}],upcase:[Ln,[Ln],function(P,R){var W=R[0];return W.evaluate(P).toUpperCase()}],downcase:[Ln,[Ln],function(P,R){var W=R[0];return W.evaluate(P).toLowerCase()}],concat:[Ln,Ul(Kn),function(P,R){return R.map(function(W){return Hu(W.evaluate(P))}).join("")}],"resolved-locale":[Ln,[ba],function(P,R){var W=R[0];return W.evaluate(P).resolvedLocale()}]});function af(P){return{result:"success",value:P}}function ru(P){return{result:"error",value:P}}function Vl(P){return P["property-type"]==="data-driven"||P["property-type"]==="cross-faded-data-driven"}function Us(P){return!!P.expression&&P.expression.parameters.indexOf("zoom")>-1}function of(P){return!!P.expression&&P.expression.interpolated}function Ki(P){return P instanceof Number?"number":P instanceof String?"string":P instanceof Boolean?"boolean":Array.isArray(P)?"array":P===null?"null":typeof P}function sf(P){return typeof P=="object"&&P!==null&&!Array.isArray(P)}function hc(P){return P}function yh(P,R){var W=R.type==="color",oe=P.stops&&typeof P.stops[0][0]=="object",ye=oe||P.property!==void 0,Ee=oe||!ye,Re=P.type||(of(R)?"exponential":"interval");if(W&&(P=Fn({},P),P.stops&&(P.stops=P.stops.map(function(da){return[da[0],Mi.parse(da[1])]})),P.default?P.default=Mi.parse(P.default):P.default=Mi.parse(R.default)),P.colorSpace&&P.colorSpace!=="rgb"&&!yu[P.colorSpace])throw new Error("Unknown color space: "+P.colorSpace);var qe,yt,Lt;if(Re==="exponential")qe=Vc;else if(Re==="interval")qe=vc;else if(Re==="categorical"){qe=If,yt=Object.create(null);for(var It=0,Kt=P.stops;It<Kt.length;It+=1){var ur=Kt[It];yt[ur[0]]=ur[1]}Lt=typeof P.stops[0][0]}else if(Re==="identity")qe=kf;else throw new Error('Unknown function type "'+Re+'"');if(oe){for(var ar={},Er=[],jr=0;jr<P.stops.length;jr++){var yn=P.stops[jr],hn=yn[0].zoom;ar[hn]===void 0&&(ar[hn]={zoom:hn,type:P.type,property:P.property,default:P.default,stops:[]},Er.push(hn)),ar[hn].stops.push([yn[0].value,yn[1]])}for(var Vn=[],Cn=0,Bn=Er;Cn<Bn.length;Cn+=1){var Zn=Bn[Cn];Vn.push([ar[Zn].zoom,yh(ar[Zn],R)])}var aa={name:"linear"};return{kind:"composite",interpolationType:aa,interpolationFactor:bo.interpolationFactor.bind(void 0,aa),zoomStops:Vn.map(function(da){return da[0]}),evaluate:function(Va,ka){var Na=Va.zoom;return Vc({stops:Vn,base:P.base},R,Na).evaluate(Na,ka)}}}else if(Ee){var ga=Re==="exponential"?{name:"exponential",base:P.base!==void 0?P.base:1}:null;return{kind:"camera",interpolationType:ga,interpolationFactor:bo.interpolationFactor.bind(void 0,ga),zoomStops:P.stops.map(function(da){return da[0]}),evaluate:function(da){var Va=da.zoom;return qe(P,R,Va,yt,Lt)}}}else return{kind:"source",evaluate:function(Va,ka){var Na=ka&&ka.properties?ka.properties[P.property]:void 0;return Na===void 0?Es(P.default,R.default):qe(P,R,Na,yt,Lt)}}}function Es(P,R,W){if(P!==void 0)return P;if(R!==void 0)return R;if(W!==void 0)return W}function If(P,R,W,oe,ye){var Ee=typeof W===ye?oe[W]:void 0;return Es(Ee,P.default,R.default)}function vc(P,R,W){if(Ki(W)!=="number")return Es(P.default,R.default);var oe=P.stops.length;if(oe===1||W<=P.stops[0][0])return P.stops[0][1];if(W>=P.stops[oe-1][0])return P.stops[oe-1][1];var ye=kl(P.stops.map(function(Ee){return Ee[0]}),W);return P.stops[ye][1]}function Vc(P,R,W){var oe=P.base!==void 0?P.base:1;if(Ki(W)!=="number")return Es(P.default,R.default);var ye=P.stops.length;if(ye===1||W<=P.stops[0][0])return P.stops[0][1];if(W>=P.stops[ye-1][0])return P.stops[ye-1][1];var Ee=kl(P.stops.map(function(Kt){return Kt[0]}),W),Re=Of(W,oe,P.stops[Ee][0],P.stops[Ee+1][0]),qe=P.stops[Ee][1],yt=P.stops[Ee+1][1],Lt=ji[R.type]||hc;if(P.colorSpace&&P.colorSpace!=="rgb"){var It=yu[P.colorSpace];Lt=function(Kt,ur){return It.reverse(It.interpolate(It.forward(Kt),It.forward(ur),Re))}}return typeof qe.evaluate=="function"?{evaluate:function(){for(var ur=[],ar=arguments.length;ar--;)ur[ar]=arguments[ar];var Er=qe.evaluate.apply(void 0,ur),jr=yt.evaluate.apply(void 0,ur);if(!(Er===void 0||jr===void 0))return Lt(Er,jr,Re)}}:Lt(qe,yt,Re)}function kf(P,R,W){return R.type==="color"?W=Mi.parse(W):R.type==="formatted"?W=No.fromString(W.toString()):R.type==="resolvedImage"?W=hs.fromString(W.toString()):Ki(W)!==R.type&&(R.type!=="enum"||!R.values[W])&&(W=void 0),Es(W,P.default,R.default)}function Of(P,R,W,oe){var ye=oe-W,Ee=P-W;return ye===0?0:R===1?Ee/ye:(Math.pow(R,Ee)-1)/(Math.pow(R,ye)-1)}var Cs=function(R,W){this.expression=R,this._warningHistory={},this._evaluator=new ml,this._defaultValue=W?Gc(W):null,this._enumValues=W&&W.type==="enum"?W.values:null};Cs.prototype.evaluateWithoutErrorHandling=function(R,W,oe,ye,Ee,Re){return this._evaluator.globals=R,this._evaluator.feature=W,this._evaluator.featureState=oe,this._evaluator.canonical=ye,this._evaluator.availableImages=Ee||null,this._evaluator.formattedSection=Re,this.expression.evaluate(this._evaluator)},Cs.prototype.evaluate=function(R,W,oe,ye,Ee,Re){this._evaluator.globals=R,this._evaluator.feature=W||null,this._evaluator.featureState=oe||null,this._evaluator.canonical=ye,this._evaluator.availableImages=Ee||null,this._evaluator.formattedSection=Re||null;try{var qe=this.expression.evaluate(this._evaluator);if(qe==null||typeof qe=="number"&&qe!==qe)return this._defaultValue;if(this._enumValues&&!(qe in this._enumValues))throw new Do("Expected value to be one of "+Object.keys(this._enumValues).map(function(yt){return JSON.stringify(yt)}).join(", ")+", but found "+JSON.stringify(qe)+" instead.");return qe}catch(yt){return this._warningHistory[yt.message]||(this._warningHistory[yt.message]=!0,typeof console<"u"&&console.warn(yt.message)),this._defaultValue}};function zf(P){return Array.isArray(P)&&P.length>0&&typeof P[0]=="string"&&P[0]in nf}function nu(P,R){var W=new wl(nf,[],R?mh(R):void 0),oe=W.parse(P,void 0,void 0,void 0,R&&R.type==="string"?{typeAnnotation:"coerce"}:void 0);return oe?af(new Cs(oe,R)):ru(W.errors)}var to=function(R,W){this.kind=R,this._styleExpression=W,this.isStateDependent=R!=="constant"&&!co(W.expression)};to.prototype.evaluateWithoutErrorHandling=function(R,W,oe,ye,Ee,Re){return this._styleExpression.evaluateWithoutErrorHandling(R,W,oe,ye,Ee,Re)},to.prototype.evaluate=function(R,W,oe,ye,Ee,Re){return this._styleExpression.evaluate(R,W,oe,ye,Ee,Re)};var Tl=function(R,W,oe,ye){this.kind=R,this.zoomStops=oe,this._styleExpression=W,this.isStateDependent=R!=="camera"&&!co(W.expression),this.interpolationType=ye};Tl.prototype.evaluateWithoutErrorHandling=function(R,W,oe,ye,Ee,Re){return this._styleExpression.evaluateWithoutErrorHandling(R,W,oe,ye,Ee,Re)},Tl.prototype.evaluate=function(R,W,oe,ye,Ee,Re){return this._styleExpression.evaluate(R,W,oe,ye,Ee,Re)},Tl.prototype.interpolationFactor=function(R,W,oe){return this.interpolationType?bo.interpolationFactor(this.interpolationType,R,W,oe):0};function Hc(P,R){if(P=nu(P,R),P.result==="error")return P;var W=P.value.expression,oe=Ii(W);if(!oe&&!Vl(R))return ru([new Dr("","data expressions not supported")]);var ye=$i(W,["zoom"]);if(!ye&&!Us(R))return ru([new Dr("","zoom expressions not supported")]);var Ee=Ff(W);if(!Ee&&!ye)return ru([new Dr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Ee instanceof Dr)return ru([Ee]);if(Ee instanceof bo&&!of(R))return ru([new Dr("",'"interpolate" expressions cannot be used with this property')]);if(!Ee)return af(oe?new to("constant",P.value):new to("source",P.value));var Re=Ee instanceof bo?Ee.interpolation:void 0;return af(oe?new Tl("camera",P.value,Ee.labels,Re):new Tl("composite",P.value,Ee.labels,Re))}var Tu=function(R,W){this._parameters=R,this._specification=W,Fn(this,yh(this._parameters,this._specification))};Tu.deserialize=function(R){return new Tu(R._parameters,R._specification)},Tu.serialize=function(R){return{_parameters:R._parameters,_specification:R._specification}};function dc(P,R){if(sf(P))return new Tu(P,R);if(zf(P)){var W=Hc(P,R);if(W.result==="error")throw new Error(W.value.map(function(ye){return ye.key+": "+ye.message}).join(", "));return W.value}else{var oe=P;return typeof P=="string"&&R.type==="color"&&(oe=Mi.parse(P)),{kind:"constant",evaluate:function(){return oe}}}}function Ff(P){var R=null;if(P instanceof zl)R=Ff(P.result);else if(P instanceof js)for(var W=0,oe=P.args;W<oe.length;W+=1){var ye=oe[W];if(R=Ff(ye),R)break}else(P instanceof rl||P instanceof bo)&&P.input instanceof Yo&&P.input.name==="zoom"&&(R=P);return R instanceof Dr||P.eachChild(function(Ee){var Re=Ff(Ee);Re instanceof Dr?R=Re:!R&&Re?R=new Dr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):R&&Re&&R!==Re&&(R=new Dr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),R}function mh(P){var R={color:Rn,string:Ln,number:ln,enum:Ln,boolean:Xn,formatted:_a,resolvedImage:Ra};return P.type==="array"?Di(R[P.value]||Kn,P.length):R[P.type]}function Gc(P){return P.type==="color"&&sf(P.default)?new Mi(0,0,0,0):P.type==="color"?Mi.parse(P.default)||null:P.default===void 0?null:P.default}function vs(P){var R=P.key,W=P.value,oe=P.valueSpec||{},ye=P.objectElementValidators||{},Ee=P.style,Re=P.styleSpec,qe=[],yt=Ki(W);if(yt!=="object")return[new Wr(R,W,"object expected, "+yt+" found")];for(var Lt in W){var It=Lt.split(".")[0],Kt=oe[It]||oe["*"],ur=void 0;if(ye[It])ur=ye[It];else if(oe[It])ur=Br;else if(ye["*"])ur=ye["*"];else if(oe["*"])ur=Br;else{qe.push(new Wr(R,W[Lt],'unknown property "'+Lt+'"'));continue}qe=qe.concat(ur({key:(R&&R+".")+Lt,value:W[Lt],valueSpec:Kt,style:Ee,styleSpec:Re,object:W,objectKey:Lt},W))}for(var ar in oe)ye[ar]||oe[ar].required&&oe[ar].default===void 0&&W[ar]===void 0&&qe.push(new Wr(R,W,'missing required property "'+ar+'"'));return qe}function Nf(P){var R=P.value,W=P.valueSpec,oe=P.style,ye=P.styleSpec,Ee=P.key,Re=P.arrayElementValidator||Br;if(Ki(R)!=="array")return[new Wr(Ee,R,"array expected, "+Ki(R)+" found")];if(W.length&&R.length!==W.length)return[new Wr(Ee,R,"array length "+W.length+" expected, length "+R.length+" found")];if(W["min-length"]&&R.length<W["min-length"])return[new Wr(Ee,R,"array length at least "+W["min-length"]+" expected, length "+R.length+" found")];var qe={type:W.value,values:W.values};ye.$version<7&&(qe.function=W.function),Ki(W.value)==="object"&&(qe=W.value);for(var yt=[],Lt=0;Lt<R.length;Lt++)yt=yt.concat(Re({array:R,arrayIndex:Lt,value:R[Lt],valueSpec:qe,style:oe,styleSpec:ye,key:Ee+"["+Lt+"]"}));return yt}function au(P){var R=P.key,W=P.value,oe=P.valueSpec,ye=Ki(W);return ye==="number"&&W!==W&&(ye="NaN"),ye!=="number"?[new Wr(R,W,"number expected, "+ye+" found")]:"minimum"in oe&&W<oe.minimum?[new Wr(R,W,W+" is less than the minimum value "+oe.minimum)]:"maximum"in oe&&W>oe.maximum?[new Wr(R,W,W+" is greater than the maximum value "+oe.maximum)]:[]}function lf(P){var R=P.valueSpec,W=An(P.value.type),oe,ye={},Ee,Re,qe=W!=="categorical"&&P.value.property===void 0,yt=!qe,Lt=Ki(P.value.stops)==="array"&&Ki(P.value.stops[0])==="array"&&Ki(P.value.stops[0][0])==="object",It=vs({key:P.key,value:P.value,valueSpec:P.styleSpec.function,style:P.style,styleSpec:P.styleSpec,objectElementValidators:{stops:Kt,default:Er}});return W==="identity"&&qe&&It.push(new Wr(P.key,P.value,'missing required property "property"')),W!=="identity"&&!P.value.stops&&It.push(new Wr(P.key,P.value,'missing required property "stops"')),W==="exponential"&&P.valueSpec.expression&&!of(P.valueSpec)&&It.push(new Wr(P.key,P.value,"exponential functions not supported")),P.styleSpec.$version>=8&&(yt&&!Vl(P.valueSpec)?It.push(new Wr(P.key,P.value,"property functions not supported")):qe&&!Us(P.valueSpec)&&It.push(new Wr(P.key,P.value,"zoom functions not supported"))),(W==="categorical"||Lt)&&P.value.property===void 0&&It.push(new Wr(P.key,P.value,'"property" property is required')),It;function Kt(jr){if(W==="identity")return[new Wr(jr.key,jr.value,'identity function may not have a "stops" property')];var yn=[],hn=jr.value;return yn=yn.concat(Nf({key:jr.key,value:hn,valueSpec:jr.valueSpec,style:jr.style,styleSpec:jr.styleSpec,arrayElementValidator:ur})),Ki(hn)==="array"&&hn.length===0&&yn.push(new Wr(jr.key,hn,"array must have at least one stop")),yn}function ur(jr){var yn=[],hn=jr.value,Vn=jr.key;if(Ki(hn)!=="array")return[new Wr(Vn,hn,"array expected, "+Ki(hn)+" found")];if(hn.length!==2)return[new Wr(Vn,hn,"array length 2 expected, length "+hn.length+" found")];if(Lt){if(Ki(hn[0])!=="object")return[new Wr(Vn,hn,"object expected, "+Ki(hn[0])+" found")];if(hn[0].zoom===void 0)return[new Wr(Vn,hn,"object stop key must have zoom")];if(hn[0].value===void 0)return[new Wr(Vn,hn,"object stop key must have value")];if(Re&&Re>An(hn[0].zoom))return[new Wr(Vn,hn[0].zoom,"stop zoom values must appear in ascending order")];An(hn[0].zoom)!==Re&&(Re=An(hn[0].zoom),Ee=void 0,ye={}),yn=yn.concat(vs({key:Vn+"[0]",value:hn[0],valueSpec:{zoom:{}},style:jr.style,styleSpec:jr.styleSpec,objectElementValidators:{zoom:au,value:ar}}))}else yn=yn.concat(ar({key:Vn+"[0]",value:hn[0],valueSpec:{},style:jr.style,styleSpec:jr.styleSpec},hn));return zf(dn(hn[1]))?yn.concat([new Wr(Vn+"[1]",hn[1],"expressions are not allowed in function stops.")]):yn.concat(Br({key:Vn+"[1]",value:hn[1],valueSpec:R,style:jr.style,styleSpec:jr.styleSpec}))}function ar(jr,yn){var hn=Ki(jr.value),Vn=An(jr.value),Cn=jr.value!==null?jr.value:yn;if(!oe)oe=hn;else if(hn!==oe)return[new Wr(jr.key,Cn,hn+" stop domain type must match previous stop domain type "+oe)];if(hn!=="number"&&hn!=="string"&&hn!=="boolean")return[new Wr(jr.key,Cn,"stop domain value must be a number, string, or boolean")];if(hn!=="number"&&W!=="categorical"){var Bn="number expected, "+hn+" found";return Vl(R)&&W===void 0&&(Bn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Wr(jr.key,Cn,Bn)]}return W==="categorical"&&hn==="number"&&(!isFinite(Vn)||Math.floor(Vn)!==Vn)?[new Wr(jr.key,Cn,"integer expected, found "+Vn)]:W!=="categorical"&&hn==="number"&&Ee!==void 0&&Vn<Ee?[new Wr(jr.key,Cn,"stop domain values must appear in ascending order")]:(Ee=Vn,W==="categorical"&&Vn in ye?[new Wr(jr.key,Cn,"stop domain values must be unique")]:(ye[Vn]=!0,[]))}function Er(jr){return Br({key:jr.key,value:jr.value,valueSpec:R,style:jr.style,styleSpec:jr.styleSpec})}}function il(P){var R=(P.expressionContext==="property"?Hc:nu)(dn(P.value),P.valueSpec);if(R.result==="error")return R.value.map(function(oe){return new Wr(""+P.key+oe.key,P.value,oe.message)});var W=R.value.expression||R.value._styleExpression.expression;if(P.expressionContext==="property"&&P.propertyKey==="text-font"&&!W.outputDefined())return[new Wr(P.key,P.value,'Invalid data expression for "'+P.propertyKey+'". Output values must be contained as literals within the expression.')];if(P.expressionContext==="property"&&P.propertyType==="layout"&&!co(W))return[new Wr(P.key,P.value,'"feature-state" data expressions are not supported with layout properties.')];if(P.expressionContext==="filter"&&!co(W))return[new Wr(P.key,P.value,'"feature-state" data expressions are not supported with filters.')];if(P.expressionContext&&P.expressionContext.indexOf("cluster")===0){if(!$i(W,["zoom","feature-state"]))return[new Wr(P.key,P.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(P.expressionContext==="cluster-initial"&&!Ii(W))return[new Wr(P.key,P.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Gh(P){var R=P.value,W=P.key,oe=Ki(R);return oe!=="boolean"?[new Wr(W,R,"boolean expected, "+oe+" found")]:[]}function ms(P){var R=P.key,W=P.value,oe=Ki(W);return oe!=="string"?[new Wr(R,W,"color expected, "+oe+" found")]:Ic(W)===null?[new Wr(R,W,'color expected, "'+W+'" found')]:[]}function Bf(P){var R=P.key,W=P.value,oe=P.valueSpec,ye=[];return Array.isArray(oe.values)?oe.values.indexOf(An(W))===-1&&ye.push(new Wr(R,W,"expected one of ["+oe.values.join(", ")+"], "+JSON.stringify(W)+" found")):Object.keys(oe.values).indexOf(An(W))===-1&&ye.push(new Wr(R,W,"expected one of ["+Object.keys(oe.values).join(", ")+"], "+JSON.stringify(W)+" found")),ye}function Ks(P){if(P===!0||P===!1)return!0;if(!Array.isArray(P)||P.length===0)return!1;switch(P[0]){case"has":return P.length>=2&&P[1]!=="$id"&&P[1]!=="$type";case"in":return P.length>=3&&(typeof P[1]!="string"||Array.isArray(P[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return P.length!==3||Array.isArray(P[1])||Array.isArray(P[2]);case"any":case"all":for(var R=0,W=P.slice(1);R<W.length;R+=1){var oe=W[R];if(!Ks(oe)&&typeof oe!="boolean")return!1}return!0;default:return!0}}var ol={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ls(P){if(P==null)return{filter:function(){return!0},needGeometry:!1};Ks(P)||(P=uf(P));var R=nu(P,ol);if(R.result==="error")throw new Error(R.value.map(function(oe){return oe.key+": "+oe.message}).join(", "));var W=Uf(P);return{filter:function(oe,ye,Ee){return R.value.evaluate(oe,ye,{},Ee)},needGeometry:W}}function _s(P,R){return P<R?-1:P>R?1:0}function Uf(P){if(!Array.isArray(P))return!1;if(P[0]==="within")return!0;for(var R=1;R<P.length;R++)if(Uf(P[R]))return!0;return!1}function uf(P){if(!P)return!0;var R=P[0];if(P.length<=1)return R!=="any";var W=R==="=="?Vf(P[1],P[2],"=="):R==="!="?Au(Vf(P[1],P[2],"==")):R==="<"||R===">"||R==="<="||R===">="?Vf(P[1],P[2],R):R==="any"?ff(P.slice(1)):R==="all"?["all"].concat(P.slice(1).map(uf)):R==="none"?["all"].concat(P.slice(1).map(uf).map(Au)):R==="in"?Js(P[1],P.slice(2)):R==="!in"?Au(Js(P[1],P.slice(2))):R==="has"?pc(P[1]):R==="!has"?Au(pc(P[1])):R==="within"?P:!0;return W}function Vf(P,R,W){switch(P){case"$type":return["filter-type-"+W,R];case"$id":return["filter-id-"+W,R];default:return["filter-"+W,P,R]}}function ff(P){return["any"].concat(P.map(uf))}function Js(P,R){if(R.length===0)return!1;switch(P){case"$type":return["filter-type-in",["literal",R]];case"$id":return["filter-id-in",["literal",R]];default:return R.length>200&&!R.some(function(W){return typeof W!=typeof R[0]})?["filter-in-large",P,["literal",R.sort(_s)]]:["filter-in-small",P,["literal",R]]}}function pc(P){switch(P){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",P]}}function Au(P){return["!",P]}function cf(P){return Ks(dn(P.value))?il(Fn({},P,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Hf(P)}function Hf(P){var R=P.value,W=P.key;if(Ki(R)!=="array")return[new Wr(W,R,"array expected, "+Ki(R)+" found")];var oe=P.styleSpec,ye,Ee=[];if(R.length<1)return[new Wr(W,R,"filter array must have at least 1 element")];switch(Ee=Ee.concat(Bf({key:W+"[0]",value:R[0],valueSpec:oe.filter_operator,style:P.style,styleSpec:P.styleSpec})),An(R[0])){case"<":case"<=":case">":case">=":R.length>=2&&An(R[1])==="$type"&&Ee.push(new Wr(W,R,'"$type" cannot be use with operator "'+R[0]+'"'));case"==":case"!=":R.length!==3&&Ee.push(new Wr(W,R,'filter array for operator "'+R[0]+'" must have 3 elements'));case"in":case"!in":R.length>=2&&(ye=Ki(R[1]),ye!=="string"&&Ee.push(new Wr(W+"[1]",R[1],"string expected, "+ye+" found")));for(var Re=2;Re<R.length;Re++)ye=Ki(R[Re]),An(R[1])==="$type"?Ee=Ee.concat(Bf({key:W+"["+Re+"]",value:R[Re],valueSpec:oe.geometry_type,style:P.style,styleSpec:P.styleSpec})):ye!=="string"&&ye!=="number"&&ye!=="boolean"&&Ee.push(new Wr(W+"["+Re+"]",R[Re],"string, number, or boolean expected, "+ye+" found"));break;case"any":case"all":case"none":for(var qe=1;qe<R.length;qe++)Ee=Ee.concat(Hf({key:W+"["+qe+"]",value:R[qe],style:P.style,styleSpec:P.styleSpec}));break;case"has":case"!has":ye=Ki(R[1]),R.length!==2?Ee.push(new Wr(W,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ye!=="string"&&Ee.push(new Wr(W+"[1]",R[1],"string expected, "+ye+" found"));break;case"within":ye=Ki(R[1]),R.length!==2?Ee.push(new Wr(W,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ye!=="object"&&Ee.push(new Wr(W+"[1]",R[1],"object expected, "+ye+" found"));break}return Ee}function Wc(P,R){var W=P.key,oe=P.style,ye=P.styleSpec,Ee=P.value,Re=P.objectKey,qe=ye[R+"_"+P.layerType];if(!qe)return[];var yt=Re.match(/^(.*)-transition$/);if(R==="paint"&&yt&&qe[yt[1]]&&qe[yt[1]].transition)return Br({key:W,value:Ee,valueSpec:ye.transition,style:oe,styleSpec:ye});var Lt=P.valueSpec||qe[Re];if(!Lt)return[new Wr(W,Ee,'unknown property "'+Re+'"')];var It;if(Ki(Ee)==="string"&&Vl(Lt)&&!Lt.tokens&&(It=/^{([^}]+)}$/.exec(Ee)))return[new Wr(W,Ee,'"'+Re+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(It[1])+" }`.")];var Kt=[];return P.layerType==="symbol"&&(Re==="text-field"&&oe&&!oe.glyphs&&Kt.push(new Wr(W,Ee,'use of "text-field" requires a style "glyphs" property')),Re==="text-font"&&sf(dn(Ee))&&An(Ee.type)==="identity"&&Kt.push(new Wr(W,Ee,'"text-font" does not support identity functions'))),Kt.concat(Br({key:P.key,value:Ee,valueSpec:Lt,style:oe,styleSpec:ye,expressionContext:"property",propertyType:R,propertyKey:Re}))}function Qe(P){return Wc(P,"paint")}function ot(P){return Wc(P,"layout")}function mt(P){var R=[],W=P.value,oe=P.key,ye=P.style,Ee=P.styleSpec;!W.type&&!W.ref&&R.push(new Wr(oe,W,'either "type" or "ref" is required'));var Re=An(W.type),qe=An(W.ref);if(W.id)for(var yt=An(W.id),Lt=0;Lt<P.arrayIndex;Lt++){var It=ye.layers[Lt];An(It.id)===yt&&R.push(new Wr(oe,W.id,'duplicate layer id "'+W.id+'", previously used at line '+It.id.__line__))}if("ref"in W){["type","source","source-layer","filter","layout"].forEach(function(Er){Er in W&&R.push(new Wr(oe,W[Er],'"'+Er+'" is prohibited for ref layers'))});var Kt;ye.layers.forEach(function(Er){An(Er.id)===qe&&(Kt=Er)}),Kt?Kt.ref?R.push(new Wr(oe,W.ref,"ref cannot reference another ref layer")):Re=An(Kt.type):R.push(new Wr(oe,W.ref,'ref layer "'+qe+'" not found'))}else if(Re!=="background")if(!W.source)R.push(new Wr(oe,W,'missing required property "source"'));else{var ur=ye.sources&&ye.sources[W.source],ar=ur&&An(ur.type);ur?ar==="vector"&&Re==="raster"?R.push(new Wr(oe,W.source,'layer "'+W.id+'" requires a raster source')):ar==="raster"&&Re!=="raster"?R.push(new Wr(oe,W.source,'layer "'+W.id+'" requires a vector source')):ar==="vector"&&!W["source-layer"]?R.push(new Wr(oe,W,'layer "'+W.id+'" must specify a "source-layer"')):ar==="raster-dem"&&Re!=="hillshade"?R.push(new Wr(oe,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):Re==="line"&&W.paint&&W.paint["line-gradient"]&&(ar!=="geojson"||!ur.lineMetrics)&&R.push(new Wr(oe,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):R.push(new Wr(oe,W.source,'source "'+W.source+'" not found'))}return R=R.concat(vs({key:oe,value:W,valueSpec:Ee.layer,style:P.style,styleSpec:P.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Br({key:oe+".type",value:W.type,valueSpec:Ee.layer.type,style:P.style,styleSpec:P.styleSpec,object:W,objectKey:"type"})},filter:cf,layout:function(jr){return vs({layer:W,key:jr.key,value:jr.value,style:jr.style,styleSpec:jr.styleSpec,objectElementValidators:{"*":function(hn){return ot(Fn({layerType:Re},hn))}}})},paint:function(jr){return vs({layer:W,key:jr.key,value:jr.value,style:jr.style,styleSpec:jr.styleSpec,objectElementValidators:{"*":function(hn){return Qe(Fn({layerType:Re},hn))}}})}}})),R}function At(P){var R=P.value,W=P.key,oe=Ki(R);return oe!=="string"?[new Wr(W,R,"string expected, "+oe+" found")]:[]}var Nt={promoteId:Ut};function Ot(P){var R=P.value,W=P.key,oe=P.styleSpec,ye=P.style;if(!R.type)return[new Wr(W,R,'"type" is required')];var Ee=An(R.type),Re;switch(Ee){case"vector":case"raster":case"raster-dem":return Re=vs({key:W,value:R,valueSpec:oe["source_"+Ee.replace("-","_")],style:P.style,styleSpec:oe,objectElementValidators:Nt}),Re;case"geojson":if(Re=vs({key:W,value:R,valueSpec:oe.source_geojson,style:ye,styleSpec:oe,objectElementValidators:Nt}),R.cluster)for(var qe in R.clusterProperties){var yt=R.clusterProperties[qe],Lt=yt[0],It=yt[1],Kt=typeof Lt=="string"?[Lt,["accumulated"],["get",qe]]:Lt;Re.push.apply(Re,il({key:W+"."+qe+".map",value:It,expressionContext:"cluster-map"})),Re.push.apply(Re,il({key:W+"."+qe+".reduce",value:Kt,expressionContext:"cluster-reduce"}))}return Re;case"video":return vs({key:W,value:R,valueSpec:oe.source_video,style:ye,styleSpec:oe});case"image":return vs({key:W,value:R,valueSpec:oe.source_image,style:ye,styleSpec:oe});case"canvas":return[new Wr(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Bf({key:W+".type",value:R.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ye,styleSpec:oe})}}function Ut(P){var R=P.key,W=P.value;if(Ki(W)==="string")return At({key:R,value:W});var oe=[];for(var ye in W)oe.push.apply(oe,At({key:R+"."+ye,value:W[ye]}));return oe}function xr(P){var R=P.value,W=P.styleSpec,oe=W.light,ye=P.style,Ee=[],Re=Ki(R);if(R===void 0)return Ee;if(Re!=="object")return Ee=Ee.concat([new Wr("light",R,"object expected, "+Re+" found")]),Ee;for(var qe in R){var yt=qe.match(/^(.*)-transition$/);yt&&oe[yt[1]]&&oe[yt[1]].transition?Ee=Ee.concat(Br({key:qe,value:R[qe],valueSpec:W.transition,style:ye,styleSpec:W})):oe[qe]?Ee=Ee.concat(Br({key:qe,value:R[qe],valueSpec:oe[qe],style:ye,styleSpec:W})):Ee=Ee.concat([new Wr(qe,R[qe],'unknown property "'+qe+'"')])}return Ee}function Tr(P){return At(P).length===0?[]:il(P)}function cr(P){return At(P).length===0?[]:il(P)}var Rr={"*":function(){return[]},array:Nf,boolean:Gh,number:au,color:ms,constants:Sn,enum:Bf,filter:cf,function:lf,layer:mt,object:vs,source:Ot,light:xr,string:At,formatted:Tr,resolvedImage:cr};function Br(P){var R=P.value,W=P.valueSpec,oe=P.styleSpec;if(W.expression&&sf(An(R)))return lf(P);if(W.expression&&zf(dn(R)))return il(P);if(W.type&&Rr[W.type])return Rr[W.type](P);var ye=vs(Fn({},P,{valueSpec:W.type?oe[W.type]:W}));return ye}function Zr(P){var R=P.value,W=P.key,oe=At(P);return oe.length||(R.indexOf("{fontstack}")===-1&&oe.push(new Wr(W,R,'"glyphs" url must include a "{fontstack}" token')),R.indexOf("{range}")===-1&&oe.push(new Wr(W,R,'"glyphs" url must include a "{range}" token'))),oe}function cn(P,R){R===void 0&&(R=Cr);var W=[];return W=W.concat(Br({key:"",value:P,valueSpec:R.$root,styleSpec:R,style:P,objectElementValidators:{glyphs:Zr,"*":function(){return[]}}})),P.constants&&(W=W.concat(Sn({key:"constants",value:P.constants,style:P,styleSpec:R}))),_n(W)}cn.source=Nn(Ot),cn.light=Nn(xr),cn.layer=Nn(mt),cn.filter=Nn(cf),cn.paintProperty=Nn(Qe),cn.layoutProperty=Nn(ot);function _n(P){return[].concat(P).sort(function(R,W){return R.line-W.line})}function Nn(P){return function(){for(var R=[],W=arguments.length;W--;)R[W]=arguments[W];return _n(P.apply(this,R))}}var Wn=cn,oa=Wn.light,Ja=Wn.paintProperty,Za=Wn.layoutProperty;function Qa(P,R){var W=!1;if(R&&R.length)for(var oe=0,ye=R;oe<ye.length;oe+=1){var Ee=ye[oe];P.fire(new Vt(new Error(Ee.message))),W=!0}return W}var ai=Gi,bi=3;function Gi(P,R,W){var oe=this.cells=[];if(P instanceof ArrayBuffer){this.arrayBuffer=P;var ye=new Int32Array(this.arrayBuffer);P=ye[0],R=ye[1],W=ye[2],this.d=R+2*W;for(var Ee=0;Ee<this.d*this.d;Ee++){var Re=ye[bi+Ee],qe=ye[bi+Ee+1];oe.push(Re===qe?null:ye.subarray(Re,qe))}var yt=ye[bi+oe.length],Lt=ye[bi+oe.length+1];this.keys=ye.subarray(yt,Lt),this.bboxes=ye.subarray(Lt),this.insert=this._insertReadonly}else{this.d=R+2*W;for(var It=0;It<this.d*this.d;It++)oe.push([]);this.keys=[],this.bboxes=[]}this.n=R,this.extent=P,this.padding=W,this.scale=R/P,this.uid=0;var Kt=W/R*P;this.min=-Kt,this.max=P+Kt}Gi.prototype.insert=function(P,R,W,oe,ye){this._forEachCell(R,W,oe,ye,this._insertCell,this.uid++),this.keys.push(P),this.bboxes.push(R),this.bboxes.push(W),this.bboxes.push(oe),this.bboxes.push(ye)},Gi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Gi.prototype._insertCell=function(P,R,W,oe,ye,Ee){this.cells[ye].push(Ee)},Gi.prototype.query=function(P,R,W,oe,ye){var Ee=this.min,Re=this.max;if(P<=Ee&&R<=Ee&&Re<=W&&Re<=oe&&!ye)return Array.prototype.slice.call(this.keys);var qe=[],yt={};return this._forEachCell(P,R,W,oe,this._queryCell,qe,yt,ye),qe},Gi.prototype._queryCell=function(P,R,W,oe,ye,Ee,Re,qe){var yt=this.cells[ye];if(yt!==null)for(var Lt=this.keys,It=this.bboxes,Kt=0;Kt<yt.length;Kt++){var ur=yt[Kt];if(Re[ur]===void 0){var ar=ur*4;(qe?qe(It[ar+0],It[ar+1],It[ar+2],It[ar+3]):P<=It[ar+2]&&R<=It[ar+3]&&W>=It[ar+0]&&oe>=It[ar+1])?(Re[ur]=!0,Ee.push(Lt[ur])):Re[ur]=!1}}},Gi.prototype._forEachCell=function(P,R,W,oe,ye,Ee,Re,qe){for(var yt=this._convertToCellCoord(P),Lt=this._convertToCellCoord(R),It=this._convertToCellCoord(W),Kt=this._convertToCellCoord(oe),ur=yt;ur<=It;ur++)for(var ar=Lt;ar<=Kt;ar++){var Er=this.d*ar+ur;if(!(qe&&!qe(this._convertFromCellCoord(ur),this._convertFromCellCoord(ar),this._convertFromCellCoord(ur+1),this._convertFromCellCoord(ar+1)))&&ye.call(this,P,R,W,oe,Er,Ee,Re,qe))return}},Gi.prototype._convertFromCellCoord=function(P){return(P-this.padding)/this.scale},Gi.prototype._convertToCellCoord=function(P){return Math.max(0,Math.min(this.d-1,Math.floor(P*this.scale)+this.padding))},Gi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var P=this.cells,R=bi+this.cells.length+1+1,W=0,oe=0;oe<this.cells.length;oe++)W+=this.cells[oe].length;var ye=new Int32Array(R+W+this.keys.length+this.bboxes.length);ye[0]=this.extent,ye[1]=this.n,ye[2]=this.padding;for(var Ee=R,Re=0;Re<P.length;Re++){var qe=P[Re];ye[bi+Re]=Ee,ye.set(qe,Ee),Ee+=qe.length}return ye[bi+P.length]=Ee,ye.set(this.keys,Ee),Ee+=this.keys.length,ye[bi+P.length+1]=Ee,ye.set(this.bboxes,Ee),Ee+=this.bboxes.length,ye.buffer};var Ro=i.ImageData,ce=i.ImageBitmap,_e={};function Be(P,R,W){W===void 0&&(W={}),Object.defineProperty(R,"_classRegistryKey",{value:P,writeable:!1}),_e[P]={klass:R,omit:W.omit||[],shallow:W.shallow||[]}}Be("Object",Object),ai.serialize=function(R,W){var oe=R.toArrayBuffer();return W&&W.push(oe),{buffer:oe}},ai.deserialize=function(R){return new ai(R.buffer)},Be("Grid",ai),Be("Color",Mi),Be("Error",Error),Be("ResolvedImage",hs),Be("StylePropertyFunction",Tu),Be("StyleExpression",Cs,{omit:["_evaluator"]}),Be("ZoomDependentExpression",Tl),Be("ZoomConstantExpression",to),Be("CompoundExpression",Yo,{omit:["_evaluate"]});for(var tt in nf)nf[tt]._classRegistryKey||Be("Expression_"+tt,nf[tt]);function it(P){return P&&typeof ArrayBuffer<"u"&&(P instanceof ArrayBuffer||P.constructor&&P.constructor.name==="ArrayBuffer")}function ht(P){return ce&&P instanceof ce}function Dt(P,R){if(P==null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||P instanceof Boolean||P instanceof Number||P instanceof String||P instanceof Date||P instanceof RegExp)return P;if(it(P)||ht(P))return R&&R.push(P),P;if(ArrayBuffer.isView(P)){var W=P;return R&&R.push(W.buffer),W}if(P instanceof Ro)return R&&R.push(P.data.buffer),P;if(Array.isArray(P)){for(var oe=[],ye=0,Ee=P;ye<Ee.length;ye+=1){var Re=Ee[ye];oe.push(Dt(Re,R))}return oe}if(typeof P=="object"){var qe=P.constructor,yt=qe._classRegistryKey;if(!yt)throw new Error("can't serialize object of unregistered class");var Lt=qe.serialize?qe.serialize(P,R):{};if(!qe.serialize){for(var It in P)if(P.hasOwnProperty(It)&&!(_e[yt].omit.indexOf(It)>=0)){var Kt=P[It];Lt[It]=_e[yt].shallow.indexOf(It)>=0?Kt:Dt(Kt,R)}P instanceof Error&&(Lt.message=P.message)}if(Lt.$name)throw new Error("$name property is reserved for worker serialization logic.");return yt!=="Object"&&(Lt.$name=yt),Lt}throw new Error("can't serialize object of type "+typeof P)}function Et(P){if(P==null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||P instanceof Boolean||P instanceof Number||P instanceof String||P instanceof Date||P instanceof RegExp||it(P)||ht(P)||ArrayBuffer.isView(P)||P instanceof Ro)return P;if(Array.isArray(P))return P.map(Et);if(typeof P=="object"){var R=P.$name||"Object",W=_e[R],oe=W.klass;if(!oe)throw new Error("can't deserialize unregistered class "+R);if(oe.deserialize)return oe.deserialize(P);for(var ye=Object.create(oe.prototype),Ee=0,Re=Object.keys(P);Ee<Re.length;Ee+=1){var qe=Re[Ee];if(qe!=="$name"){var yt=P[qe];ye[qe]=_e[R].shallow.indexOf(qe)>=0?yt:Et(yt)}}return ye}throw new Error("can't deserialize object of type "+typeof P)}var Yt=function(){this.first=!0};Yt.prototype.update=function(R,W){var oe=Math.floor(R);return this.first?(this.first=!1,this.lastIntegerZoom=oe,this.lastIntegerZoomTime=0,this.lastZoom=R,this.lastFloorZoom=oe,!0):(this.lastFloorZoom>oe?(this.lastIntegerZoom=oe+1,this.lastIntegerZoomTime=W):this.lastFloorZoom<oe&&(this.lastIntegerZoom=oe,this.lastIntegerZoomTime=W),R!==this.lastZoom?(this.lastZoom=R,this.lastFloorZoom=oe,!0):!1)};var Zt={"Latin-1 Supplement":function(P){return P>=128&&P<=255},Arabic:function(P){return P>=1536&&P<=1791},"Arabic Supplement":function(P){return P>=1872&&P<=1919},"Arabic Extended-A":function(P){return P>=2208&&P<=2303},"Hangul Jamo":function(P){return P>=4352&&P<=4607},"Unified Canadian Aboriginal Syllabics":function(P){return P>=5120&&P<=5759},Khmer:function(P){return P>=6016&&P<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(P){return P>=6320&&P<=6399},"General Punctuation":function(P){return P>=8192&&P<=8303},"Letterlike Symbols":function(P){return P>=8448&&P<=8527},"Number Forms":function(P){return P>=8528&&P<=8591},"Miscellaneous Technical":function(P){return P>=8960&&P<=9215},"Control Pictures":function(P){return P>=9216&&P<=9279},"Optical Character Recognition":function(P){return P>=9280&&P<=9311},"Enclosed Alphanumerics":function(P){return P>=9312&&P<=9471},"Geometric Shapes":function(P){return P>=9632&&P<=9727},"Miscellaneous Symbols":function(P){return P>=9728&&P<=9983},"Miscellaneous Symbols and Arrows":function(P){return P>=11008&&P<=11263},"CJK Radicals Supplement":function(P){return P>=11904&&P<=12031},"Kangxi Radicals":function(P){return P>=12032&&P<=12255},"Ideographic Description Characters":function(P){return P>=12272&&P<=12287},"CJK Symbols and Punctuation":function(P){return P>=12288&&P<=12351},Hiragana:function(P){return P>=12352&&P<=12447},Katakana:function(P){return P>=12448&&P<=12543},Bopomofo:function(P){return P>=12544&&P<=12591},"Hangul Compatibility Jamo":function(P){return P>=12592&&P<=12687},Kanbun:function(P){return P>=12688&&P<=12703},"Bopomofo Extended":function(P){return P>=12704&&P<=12735},"CJK Strokes":function(P){return P>=12736&&P<=12783},"Katakana Phonetic Extensions":function(P){return P>=12784&&P<=12799},"Enclosed CJK Letters and Months":function(P){return P>=12800&&P<=13055},"CJK Compatibility":function(P){return P>=13056&&P<=13311},"CJK Unified Ideographs Extension A":function(P){return P>=13312&&P<=19903},"Yijing Hexagram Symbols":function(P){return P>=19904&&P<=19967},"CJK Unified Ideographs":function(P){return P>=19968&&P<=40959},"Yi Syllables":function(P){return P>=40960&&P<=42127},"Yi Radicals":function(P){return P>=42128&&P<=42191},"Hangul Jamo Extended-A":function(P){return P>=43360&&P<=43391},"Hangul Syllables":function(P){return P>=44032&&P<=55215},"Hangul Jamo Extended-B":function(P){return P>=55216&&P<=55295},"Private Use Area":function(P){return P>=57344&&P<=63743},"CJK Compatibility Ideographs":function(P){return P>=63744&&P<=64255},"Arabic Presentation Forms-A":function(P){return P>=64336&&P<=65023},"Vertical Forms":function(P){return P>=65040&&P<=65055},"CJK Compatibility Forms":function(P){return P>=65072&&P<=65103},"Small Form Variants":function(P){return P>=65104&&P<=65135},"Arabic Presentation Forms-B":function(P){return P>=65136&&P<=65279},"Halfwidth and Fullwidth Forms":function(P){return P>=65280&&P<=65519}};function or(P){for(var R=0,W=P;R<W.length;R+=1){var oe=W[R];if(vn(oe.charCodeAt(0)))return!0}return!1}function Ir(P){for(var R=0,W=P;R<W.length;R+=1){var oe=W[R];if(!kr(oe.charCodeAt(0)))return!1}return!0}function kr(P){return!(Zt.Arabic(P)||Zt["Arabic Supplement"](P)||Zt["Arabic Extended-A"](P)||Zt["Arabic Presentation Forms-A"](P)||Zt["Arabic Presentation Forms-B"](P))}function sn(P){return P<11904?!1:!!(Zt["Bopomofo Extended"](P)||Zt.Bopomofo(P)||Zt["CJK Compatibility Forms"](P)||Zt["CJK Compatibility Ideographs"](P)||Zt["CJK Compatibility"](P)||Zt["CJK Radicals Supplement"](P)||Zt["CJK Strokes"](P)||Zt["CJK Symbols and Punctuation"](P)||Zt["CJK Unified Ideographs Extension A"](P)||Zt["CJK Unified Ideographs"](P)||Zt["Enclosed CJK Letters and Months"](P)||Zt["Halfwidth and Fullwidth Forms"](P)||Zt.Hiragana(P)||Zt["Ideographic Description Characters"](P)||Zt["Kangxi Radicals"](P)||Zt["Katakana Phonetic Extensions"](P)||Zt.Katakana(P)||Zt["Vertical Forms"](P)||Zt["Yi Radicals"](P)||Zt["Yi Syllables"](P))}function vn(P){return P===746||P===747?!0:P<4352?!1:!!(Zt["Bopomofo Extended"](P)||Zt.Bopomofo(P)||Zt["CJK Compatibility Forms"](P)&&!(P>=65097&&P<=65103)||Zt["CJK Compatibility Ideographs"](P)||Zt["CJK Compatibility"](P)||Zt["CJK Radicals Supplement"](P)||Zt["CJK Strokes"](P)||Zt["CJK Symbols and Punctuation"](P)&&!(P>=12296&&P<=12305)&&!(P>=12308&&P<=12319)&&P!==12336||Zt["CJK Unified Ideographs Extension A"](P)||Zt["CJK Unified Ideographs"](P)||Zt["Enclosed CJK Letters and Months"](P)||Zt["Hangul Compatibility Jamo"](P)||Zt["Hangul Jamo Extended-A"](P)||Zt["Hangul Jamo Extended-B"](P)||Zt["Hangul Jamo"](P)||Zt["Hangul Syllables"](P)||Zt.Hiragana(P)||Zt["Ideographic Description Characters"](P)||Zt.Kanbun(P)||Zt["Kangxi Radicals"](P)||Zt["Katakana Phonetic Extensions"](P)||Zt.Katakana(P)&&P!==12540||Zt["Halfwidth and Fullwidth Forms"](P)&&P!==65288&&P!==65289&&P!==65293&&!(P>=65306&&P<=65310)&&P!==65339&&P!==65341&&P!==65343&&!(P>=65371&&P<=65503)&&P!==65507&&!(P>=65512&&P<=65519)||Zt["Small Form Variants"](P)&&!(P>=65112&&P<=65118)&&!(P>=65123&&P<=65126)||Zt["Unified Canadian Aboriginal Syllabics"](P)||Zt["Unified Canadian Aboriginal Syllabics Extended"](P)||Zt["Vertical Forms"](P)||Zt["Yijing Hexagram Symbols"](P)||Zt["Yi Syllables"](P)||Zt["Yi Radicals"](P))}function Fr(P){return!!(Zt["Latin-1 Supplement"](P)&&(P===167||P===169||P===174||P===177||P===188||P===189||P===190||P===215||P===247)||Zt["General Punctuation"](P)&&(P===8214||P===8224||P===8225||P===8240||P===8241||P===8251||P===8252||P===8258||P===8263||P===8264||P===8265||P===8273)||Zt["Letterlike Symbols"](P)||Zt["Number Forms"](P)||Zt["Miscellaneous Technical"](P)&&(P>=8960&&P<=8967||P>=8972&&P<=8991||P>=8996&&P<=9e3||P===9003||P>=9085&&P<=9114||P>=9150&&P<=9165||P===9167||P>=9169&&P<=9179||P>=9186&&P<=9215)||Zt["Control Pictures"](P)&&P!==9251||Zt["Optical Character Recognition"](P)||Zt["Enclosed Alphanumerics"](P)||Zt["Geometric Shapes"](P)||Zt["Miscellaneous Symbols"](P)&&!(P>=9754&&P<=9759)||Zt["Miscellaneous Symbols and Arrows"](P)&&(P>=11026&&P<=11055||P>=11088&&P<=11097||P>=11192&&P<=11243)||Zt["CJK Symbols and Punctuation"](P)||Zt.Katakana(P)||Zt["Private Use Area"](P)||Zt["CJK Compatibility Forms"](P)||Zt["Small Form Variants"](P)||Zt["Halfwidth and Fullwidth Forms"](P)||P===8734||P===8756||P===8757||P>=9984&&P<=10087||P>=10102&&P<=10131||P===65532||P===65533)}function Xr(P){return!(vn(P)||Fr(P))}function an(P){return Zt.Arabic(P)||Zt["Arabic Supplement"](P)||Zt["Arabic Extended-A"](P)||Zt["Arabic Presentation Forms-A"](P)||Zt["Arabic Presentation Forms-B"](P)}function pn(P){return P>=1424&&P<=2303||Zt["Arabic Presentation Forms-A"](P)||Zt["Arabic Presentation Forms-B"](P)}function Mn(P,R){return!(!R&&pn(P)||P>=2304&&P<=3583||P>=3840&&P<=4255||Zt.Khmer(P))}function fn(P){for(var R=0,W=P;R<W.length;R+=1){var oe=W[R];if(pn(oe.charCodeAt(0)))return!0}return!1}function Dn(P,R){for(var W=0,oe=P;W<oe.length;W+=1){var ye=oe[W];if(!Mn(ye.charCodeAt(0),R))return!1}return!0}var va={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Ma=null,fa=va.unavailable,Aa=null,Sa=function(P){P&&typeof P=="string"&&P.indexOf("NetworkError")>-1&&(fa=va.error),Ma&&Ma(P)};function ii(){Ia.fire(new ir("pluginStateChange",{pluginStatus:fa,pluginURL:Aa}))}var Ia=new yr,ti=function(){return fa},Si=function(P){return P({pluginStatus:fa,pluginURL:Aa}),Ia.on("pluginStateChange",P),P},Eo=function(P,R,W){if(W===void 0&&(W=!1),fa===va.deferred||fa===va.loading||fa===va.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");Aa=ue.resolveURL(P),fa=va.deferred,Ma=R,ii(),W||Oi()},Oi=function(){if(fa!==va.deferred||!Aa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");fa=va.loading,ii(),Aa&&Wt({url:Aa},function(P){P?Sa(P):(fa=va.loaded,ii())})},ca={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return fa===va.loaded||ca.applyArabicShaping!=null},isLoading:function(){return fa===va.loading},setState:function(R){fa=R.pluginStatus,Aa=R.pluginURL},isParsed:function(){return ca.applyArabicShaping!=null&&ca.processBidirectionalText!=null&&ca.processStyledBidirectionalText!=null},getPluginURL:function(){return Aa}},$a=function(){!ca.isLoading()&&!ca.isLoaded()&&ti()==="deferred"&&Oi()},za=function(R,W){this.zoom=R,W?(this.now=W.now,this.fadeDuration=W.fadeDuration,this.zoomHistory=W.zoomHistory,this.transition=W.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Yt,this.transition={})};za.prototype.isSupportedScript=function(R){return Dn(R,ca.isLoaded())},za.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},za.prototype.getCrossfadeParameters=function(){var R=this.zoom,W=R-Math.floor(R),oe=this.crossFadingFactor();return R>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:W+(1-W)*oe}:{fromScale:.5,toScale:1,t:1-(1-oe)*W}};var wi=function(R,W){this.property=R,this.value=W,this.expression=dc(W===void 0?R.specification.default:W,R.specification)};wi.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},wi.prototype.possiblyEvaluate=function(R,W,oe){return this.property.possiblyEvaluate(this,R,W,oe)};var ao=function(R){this.property=R,this.value=new wi(R,void 0)};ao.prototype.transitioned=function(R,W){return new Bo(this.property,this.value,W,x({},R.transition,this.transition),R.now)},ao.prototype.untransitioned=function(){return new Bo(this.property,this.value,null,{},0)};var Ei=function(R){this._properties=R,this._values=Object.create(R.defaultTransitionablePropertyValues)};Ei.prototype.getValue=function(R){return B(this._values[R].value.value)},Ei.prototype.setValue=function(R,W){this._values.hasOwnProperty(R)||(this._values[R]=new ao(this._values[R].property)),this._values[R].value=new wi(this._values[R].property,W===null?void 0:B(W))},Ei.prototype.getTransition=function(R){return B(this._values[R].transition)},Ei.prototype.setTransition=function(R,W){this._values.hasOwnProperty(R)||(this._values[R]=new ao(this._values[R].property)),this._values[R].transition=B(W)||void 0},Ei.prototype.serialize=function(){for(var R={},W=0,oe=Object.keys(this._values);W<oe.length;W+=1){var ye=oe[W],Ee=this.getValue(ye);Ee!==void 0&&(R[ye]=Ee);var Re=this.getTransition(ye);Re!==void 0&&(R[ye+"-transition"]=Re)}return R},Ei.prototype.transitioned=function(R,W){for(var oe=new Oo(this._properties),ye=0,Ee=Object.keys(this._values);ye<Ee.length;ye+=1){var Re=Ee[ye];oe._values[Re]=this._values[Re].transitioned(R,W._values[Re])}return oe},Ei.prototype.untransitioned=function(){for(var R=new Oo(this._properties),W=0,oe=Object.keys(this._values);W<oe.length;W+=1){var ye=oe[W];R._values[ye]=this._values[ye].untransitioned()}return R};var Bo=function(R,W,oe,ye,Ee){this.property=R,this.value=W,this.begin=Ee+ye.delay||0,this.end=this.begin+ye.duration||0,R.specification.transition&&(ye.delay||ye.duration)&&(this.prior=oe)};Bo.prototype.possiblyEvaluate=function(R,W,oe){var ye=R.now||0,Ee=this.value.possiblyEvaluate(R,W,oe),Re=this.prior;if(Re){if(ye>this.end)return this.prior=null,Ee;if(this.value.isDataDriven())return this.prior=null,Ee;if(ye<this.begin)return Re.possiblyEvaluate(R,W,oe);var qe=(ye-this.begin)/(this.end-this.begin);return this.property.interpolate(Re.possiblyEvaluate(R,W,oe),Ee,f(qe))}else return Ee};var Oo=function(R){this._properties=R,this._values=Object.create(R.defaultTransitioningPropertyValues)};Oo.prototype.possiblyEvaluate=function(R,W,oe){for(var ye=new jo(this._properties),Ee=0,Re=Object.keys(this._values);Ee<Re.length;Ee+=1){var qe=Re[Ee];ye._values[qe]=this._values[qe].possiblyEvaluate(R,W,oe)}return ye},Oo.prototype.hasTransition=function(){for(var R=0,W=Object.keys(this._values);R<W.length;R+=1){var oe=W[R];if(this._values[oe].prior)return!0}return!1};var Zo=function(R){this._properties=R,this._values=Object.create(R.defaultPropertyValues)};Zo.prototype.getValue=function(R){return B(this._values[R].value)},Zo.prototype.setValue=function(R,W){this._values[R]=new wi(this._values[R].property,W===null?void 0:B(W))},Zo.prototype.serialize=function(){for(var R={},W=0,oe=Object.keys(this._values);W<oe.length;W+=1){var ye=oe[W],Ee=this.getValue(ye);Ee!==void 0&&(R[ye]=Ee)}return R},Zo.prototype.possiblyEvaluate=function(R,W,oe){for(var ye=new jo(this._properties),Ee=0,Re=Object.keys(this._values);Ee<Re.length;Ee+=1){var qe=Re[Ee];ye._values[qe]=this._values[qe].possiblyEvaluate(R,W,oe)}return ye};var ro=function(R,W,oe){this.property=R,this.value=W,this.parameters=oe};ro.prototype.isConstant=function(){return this.value.kind==="constant"},ro.prototype.constantOr=function(R){return this.value.kind==="constant"?this.value.value:R},ro.prototype.evaluate=function(R,W,oe,ye){return this.property.evaluate(this.value,this.parameters,R,W,oe,ye)};var jo=function(R){this._properties=R,this._values=Object.create(R.defaultPossiblyEvaluatedValues)};jo.prototype.get=function(R){return this._values[R]};var ya=function(R){this.specification=R};ya.prototype.possiblyEvaluate=function(R,W){return R.expression.evaluate(W)},ya.prototype.interpolate=function(R,W,oe){var ye=ji[this.specification.type];return ye?ye(R,W,oe):R};var Ya=function(R,W){this.specification=R,this.overrides=W};Ya.prototype.possiblyEvaluate=function(R,W,oe,ye){return R.expression.kind==="constant"||R.expression.kind==="camera"?new ro(this,{kind:"constant",value:R.expression.evaluate(W,null,{},oe,ye)},W):new ro(this,R.expression,W)},Ya.prototype.interpolate=function(R,W,oe){if(R.value.kind!=="constant"||W.value.kind!=="constant")return R;if(R.value.value===void 0||W.value.value===void 0)return new ro(this,{kind:"constant",value:void 0},R.parameters);var ye=ji[this.specification.type];return ye?new ro(this,{kind:"constant",value:ye(R.value.value,W.value.value,oe)},R.parameters):R},Ya.prototype.evaluate=function(R,W,oe,ye,Ee,Re){return R.kind==="constant"?R.value:R.evaluate(W,oe,ye,Ee,Re)};var Io=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(oe,ye,Ee,Re){if(oe.value===void 0)return new ro(this,{kind:"constant",value:void 0},ye);if(oe.expression.kind==="constant"){var qe=oe.expression.evaluate(ye,null,{},Ee,Re),yt=oe.property.specification.type==="resolvedImage",Lt=yt&&typeof qe!="string"?qe.name:qe,It=this._calculate(Lt,Lt,Lt,ye);return new ro(this,{kind:"constant",value:It},ye)}else if(oe.expression.kind==="camera"){var Kt=this._calculate(oe.expression.evaluate({zoom:ye.zoom-1}),oe.expression.evaluate({zoom:ye.zoom}),oe.expression.evaluate({zoom:ye.zoom+1}),ye);return new ro(this,{kind:"constant",value:Kt},ye)}else return new ro(this,oe.expression,ye)},R.prototype.evaluate=function(oe,ye,Ee,Re,qe,yt){if(oe.kind==="source"){var Lt=oe.evaluate(ye,Ee,Re,qe,yt);return this._calculate(Lt,Lt,Lt,ye)}else return oe.kind==="composite"?this._calculate(oe.evaluate({zoom:Math.floor(ye.zoom)-1},Ee,Re),oe.evaluate({zoom:Math.floor(ye.zoom)},Ee,Re),oe.evaluate({zoom:Math.floor(ye.zoom)+1},Ee,Re),ye):oe.value},R.prototype._calculate=function(oe,ye,Ee,Re){var qe=Re.zoom;return qe>Re.zoomHistory.lastIntegerZoom?{from:oe,to:ye}:{from:Ee,to:ye}},R.prototype.interpolate=function(oe){return oe},R}(Ya),Ps=function(R){this.specification=R};Ps.prototype.possiblyEvaluate=function(R,W,oe,ye){if(R.value!==void 0)if(R.expression.kind==="constant"){var Ee=R.expression.evaluate(W,null,{},oe,ye);return this._calculate(Ee,Ee,Ee,W)}else return this._calculate(R.expression.evaluate(new za(Math.floor(W.zoom-1),W)),R.expression.evaluate(new za(Math.floor(W.zoom),W)),R.expression.evaluate(new za(Math.floor(W.zoom+1),W)),W)},Ps.prototype._calculate=function(R,W,oe,ye){var Ee=ye.zoom;return Ee>ye.zoomHistory.lastIntegerZoom?{from:R,to:W}:{from:oe,to:W}},Ps.prototype.interpolate=function(R){return R};var Ko=function(R){this.specification=R};Ko.prototype.possiblyEvaluate=function(R,W,oe,ye){return!!R.expression.evaluate(W,null,{},oe,ye)},Ko.prototype.interpolate=function(){return!1};var zi=function(R){this.properties=R,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var W in R){var oe=R[W];oe.specification.overridable&&this.overridableProperties.push(W);var ye=this.defaultPropertyValues[W]=new wi(oe,void 0),Ee=this.defaultTransitionablePropertyValues[W]=new ao(oe);this.defaultTransitioningPropertyValues[W]=Ee.untransitioned(),this.defaultPossiblyEvaluatedValues[W]=ye.possiblyEvaluate({})}};Be("DataDrivenProperty",Ya),Be("DataConstantProperty",ya),Be("CrossFadedDataDrivenProperty",Io),Be("CrossFadedProperty",Ps),Be("ColorRampProperty",Ko);var Uo="-transition",zo=function(P){function R(W,oe){if(P.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},W.type!=="custom"&&(W=W,this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,W.type!=="background"&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),oe.layout&&(this._unevaluatedLayout=new Zo(oe.layout)),oe.paint)){this._transitionablePaint=new Ei(oe.paint);for(var ye in W.paint)this.setPaintProperty(ye,W.paint[ye],{validate:!1});for(var Ee in W.layout)this.setLayoutProperty(Ee,W.layout[Ee],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new jo(oe.paint)}}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},R.prototype.getLayoutProperty=function(oe){return oe==="visibility"?this.visibility:this._unevaluatedLayout.getValue(oe)},R.prototype.setLayoutProperty=function(oe,ye,Ee){if(Ee===void 0&&(Ee={}),ye!=null){var Re="layers."+this.id+".layout."+oe;if(this._validate(Za,Re,oe,ye,Ee))return}if(oe==="visibility"){this.visibility=ye;return}this._unevaluatedLayout.setValue(oe,ye)},R.prototype.getPaintProperty=function(oe){return b(oe,Uo)?this._transitionablePaint.getTransition(oe.slice(0,-Uo.length)):this._transitionablePaint.getValue(oe)},R.prototype.setPaintProperty=function(oe,ye,Ee){if(Ee===void 0&&(Ee={}),ye!=null){var Re="layers."+this.id+".paint."+oe;if(this._validate(Ja,Re,oe,ye,Ee))return!1}if(b(oe,Uo))return this._transitionablePaint.setTransition(oe.slice(0,-Uo.length),ye||void 0),!1;var qe=this._transitionablePaint._values[oe],yt=qe.property.specification["property-type"]==="cross-faded-data-driven",Lt=qe.value.isDataDriven(),It=qe.value;this._transitionablePaint.setValue(oe,ye),this._handleSpecialPaintPropertyUpdate(oe);var Kt=this._transitionablePaint._values[oe].value,ur=Kt.isDataDriven();return ur||Lt||yt||this._handleOverridablePaintPropertyUpdate(oe,It,Kt)},R.prototype._handleSpecialPaintPropertyUpdate=function(oe){},R.prototype._handleOverridablePaintPropertyUpdate=function(oe,ye,Ee){return!1},R.prototype.isHidden=function(oe){return this.minzoom&&oe<this.minzoom||this.maxzoom&&oe>=this.maxzoom?!0:this.visibility==="none"},R.prototype.updateTransitions=function(oe){this._transitioningPaint=this._transitionablePaint.transitioned(oe,this._transitioningPaint)},R.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},R.prototype.recalculate=function(oe,ye){oe.getCrossfadeParameters&&(this._crossfadeParameters=oe.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(oe,void 0,ye)),this.paint=this._transitioningPaint.possiblyEvaluate(oe,void 0,ye)},R.prototype.serialize=function(){var oe={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(oe.layout=oe.layout||{},oe.layout.visibility=this.visibility),D(oe,function(ye,Ee){return ye!==void 0&&!(Ee==="layout"&&!Object.keys(ye).length)&&!(Ee==="paint"&&!Object.keys(ye).length)})},R.prototype._validate=function(oe,ye,Ee,Re,qe){return qe===void 0&&(qe={}),qe&&qe.validate===!1?!1:Qa(this,oe.call(Wn,{key:ye,layerType:this.type,objectKey:Ee,value:Re,styleSpec:Cr,style:{glyphs:!0,sprite:!0}}))},R.prototype.is3D=function(){return!1},R.prototype.isTileClipped=function(){return!1},R.prototype.hasOffscreenPass=function(){return!1},R.prototype.resize=function(){},R.prototype.isStateDependent=function(){for(var oe in this.paint._values){var ye=this.paint.get(oe);if(!(!(ye instanceof ro)||!Vl(ye.property.specification))&&(ye.value.kind==="source"||ye.value.kind==="composite")&&ye.value.isStateDependent)return!0}return!1},R}(yr),Al={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ml=function(R,W){this._structArray=R,this._pos1=W*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ho=128,hf=5,Ti=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ti.serialize=function(R,W){return R._trim(),W&&(R.isTransferred=!0,W.push(R.arrayBuffer)),{length:R.length,arrayBuffer:R.arrayBuffer}},Ti.deserialize=function(R){var W=Object.create(this.prototype);return W.arrayBuffer=R.arrayBuffer,W.length=R.length,W.capacity=R.arrayBuffer.byteLength/W.bytesPerElement,W._refreshViews(),W},Ti.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ti.prototype.clear=function(){this.length=0},Ti.prototype.resize=function(R){this.reserve(R),this.length=R},Ti.prototype.reserve=function(R){if(R>this.capacity){this.capacity=Math.max(R,Math.floor(this.capacity*hf),ho),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var W=this.uint8;this._refreshViews(),W&&this.uint8.set(W)}},Ti.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function vo(P,R){R===void 0&&(R=1);var W=0,oe=0,ye=P.map(function(Re){var qe=Rs(Re.type),yt=W=Mu(W,Math.max(R,qe)),Lt=Re.components||1;return oe=Math.max(oe,qe),W+=qe*Lt,{name:Re.name,type:Re.type,components:Lt,offset:yt}}),Ee=Mu(W,Math.max(oe,R));return{members:ye,size:Ee,alignment:R}}function Rs(P){return Al[P].BYTES_PER_ELEMENT}function Mu(P,R){return Math.ceil(P/R)*R}var Yc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,oe,ye)},R.prototype.emplace=function(oe,ye,Ee){var Re=oe*2;return this.int16[Re+0]=ye,this.int16[Re+1]=Ee,oe},R}(Ti);Yc.prototype.bytesPerElement=4,Be("StructArrayLayout2i4",Yc);var vd=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re){var qe=this.length;return this.resize(qe+1),this.emplace(qe,oe,ye,Ee,Re)},R.prototype.emplace=function(oe,ye,Ee,Re,qe){var yt=oe*4;return this.int16[yt+0]=ye,this.int16[yt+1]=Ee,this.int16[yt+2]=Re,this.int16[yt+3]=qe,oe},R}(Ti);vd.prototype.bytesPerElement=8,Be("StructArrayLayout4i8",vd);var Su=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re,qe,yt){var Lt=this.length;return this.resize(Lt+1),this.emplace(Lt,oe,ye,Ee,Re,qe,yt)},R.prototype.emplace=function(oe,ye,Ee,Re,qe,yt,Lt){var It=oe*6;return this.int16[It+0]=ye,this.int16[It+1]=Ee,this.int16[It+2]=Re,this.int16[It+3]=qe,this.int16[It+4]=yt,this.int16[It+5]=Lt,oe},R}(Ti);Su.prototype.bytesPerElement=12,Be("StructArrayLayout2i4i12",Su);var Eu=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re,qe,yt){var Lt=this.length;return this.resize(Lt+1),this.emplace(Lt,oe,ye,Ee,Re,qe,yt)},R.prototype.emplace=function(oe,ye,Ee,Re,qe,yt,Lt){var It=oe*4,Kt=oe*8;return this.int16[It+0]=ye,this.int16[It+1]=Ee,this.uint8[Kt+4]=Re,this.uint8[Kt+5]=qe,this.uint8[Kt+6]=yt,this.uint8[Kt+7]=Lt,oe},R}(Ti);Eu.prototype.bytesPerElement=8,Be("StructArrayLayout2i4ub8",Eu);var Xc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,oe,ye)},R.prototype.emplace=function(oe,ye,Ee){var Re=oe*2;return this.float32[Re+0]=ye,this.float32[Re+1]=Ee,oe},R}(Ti);Xc.prototype.bytesPerElement=8,Be("StructArrayLayout2f8",Xc);var $s=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur){var ar=this.length;return this.resize(ar+1),this.emplace(ar,oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur)},R.prototype.emplace=function(oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar){var Er=oe*10;return this.uint16[Er+0]=ye,this.uint16[Er+1]=Ee,this.uint16[Er+2]=Re,this.uint16[Er+3]=qe,this.uint16[Er+4]=yt,this.uint16[Er+5]=Lt,this.uint16[Er+6]=It,this.uint16[Er+7]=Kt,this.uint16[Er+8]=ur,this.uint16[Er+9]=ar,oe},R}(Ti);$s.prototype.bytesPerElement=20,Be("StructArrayLayout10ui20",$s);var gc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er){var jr=this.length;return this.resize(jr+1),this.emplace(jr,oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er)},R.prototype.emplace=function(oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er,jr){var yn=oe*12;return this.int16[yn+0]=ye,this.int16[yn+1]=Ee,this.int16[yn+2]=Re,this.int16[yn+3]=qe,this.uint16[yn+4]=yt,this.uint16[yn+5]=Lt,this.uint16[yn+6]=It,this.uint16[yn+7]=Kt,this.int16[yn+8]=ur,this.int16[yn+9]=ar,this.int16[yn+10]=Er,this.int16[yn+11]=jr,oe},R}(Ti);gc.prototype.bytesPerElement=24,Be("StructArrayLayout4i4ui4i24",gc);var vv=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee){var Re=this.length;return this.resize(Re+1),this.emplace(Re,oe,ye,Ee)},R.prototype.emplace=function(oe,ye,Ee,Re){var qe=oe*3;return this.float32[qe+0]=ye,this.float32[qe+1]=Ee,this.float32[qe+2]=Re,oe},R}(Ti);vv.prototype.bytesPerElement=12,Be("StructArrayLayout3f12",vv);var yc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe){var ye=this.length;return this.resize(ye+1),this.emplace(ye,oe)},R.prototype.emplace=function(oe,ye){var Ee=oe*1;return this.uint32[Ee+0]=ye,oe},R}(Ti);yc.prototype.bytesPerElement=4,Be("StructArrayLayout1ul4",yc);var Gf=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re,qe,yt,Lt,It,Kt){var ur=this.length;return this.resize(ur+1),this.emplace(ur,oe,ye,Ee,Re,qe,yt,Lt,It,Kt)},R.prototype.emplace=function(oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur){var ar=oe*10,Er=oe*5;return this.int16[ar+0]=ye,this.int16[ar+1]=Ee,this.int16[ar+2]=Re,this.int16[ar+3]=qe,this.int16[ar+4]=yt,this.int16[ar+5]=Lt,this.uint32[Er+3]=It,this.uint16[ar+8]=Kt,this.uint16[ar+9]=ur,oe},R}(Ti);Gf.prototype.bytesPerElement=20,Be("StructArrayLayout6i1ul2ui20",Gf);var dv=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re,qe,yt){var Lt=this.length;return this.resize(Lt+1),this.emplace(Lt,oe,ye,Ee,Re,qe,yt)},R.prototype.emplace=function(oe,ye,Ee,Re,qe,yt,Lt){var It=oe*6;return this.int16[It+0]=ye,this.int16[It+1]=Ee,this.int16[It+2]=Re,this.int16[It+3]=qe,this.int16[It+4]=yt,this.int16[It+5]=Lt,oe},R}(Ti);dv.prototype.bytesPerElement=12,Be("StructArrayLayout2i2i2i12",dv);var vf=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re,qe){var yt=this.length;return this.resize(yt+1),this.emplace(yt,oe,ye,Ee,Re,qe)},R.prototype.emplace=function(oe,ye,Ee,Re,qe,yt){var Lt=oe*4,It=oe*8;return this.float32[Lt+0]=ye,this.float32[Lt+1]=Ee,this.float32[Lt+2]=Re,this.int16[It+6]=qe,this.int16[It+7]=yt,oe},R}(Ti);vf.prototype.bytesPerElement=16,Be("StructArrayLayout2f1f2i16",vf);var sl=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re){var qe=this.length;return this.resize(qe+1),this.emplace(qe,oe,ye,Ee,Re)},R.prototype.emplace=function(oe,ye,Ee,Re,qe){var yt=oe*12,Lt=oe*3;return this.uint8[yt+0]=ye,this.uint8[yt+1]=Ee,this.float32[Lt+1]=Re,this.float32[Lt+2]=qe,oe},R}(Ti);sl.prototype.bytesPerElement=12,Be("StructArrayLayout2ub2f12",sl);var iu=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee){var Re=this.length;return this.resize(Re+1),this.emplace(Re,oe,ye,Ee)},R.prototype.emplace=function(oe,ye,Ee,Re){var qe=oe*3;return this.uint16[qe+0]=ye,this.uint16[qe+1]=Ee,this.uint16[qe+2]=Re,oe},R}(Ti);iu.prototype.bytesPerElement=6,Be("StructArrayLayout3ui6",iu);var xh=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er,jr,yn,hn,Vn,Cn){var Bn=this.length;return this.resize(Bn+1),this.emplace(Bn,oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er,jr,yn,hn,Vn,Cn)},R.prototype.emplace=function(oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er,jr,yn,hn,Vn,Cn,Bn){var Zn=oe*24,aa=oe*12,ga=oe*48;return this.int16[Zn+0]=ye,this.int16[Zn+1]=Ee,this.uint16[Zn+2]=Re,this.uint16[Zn+3]=qe,this.uint32[aa+2]=yt,this.uint32[aa+3]=Lt,this.uint32[aa+4]=It,this.uint16[Zn+10]=Kt,this.uint16[Zn+11]=ur,this.uint16[Zn+12]=ar,this.float32[aa+7]=Er,this.float32[aa+8]=jr,this.uint8[ga+36]=yn,this.uint8[ga+37]=hn,this.uint8[ga+38]=Vn,this.uint32[aa+10]=Cn,this.int16[Zn+22]=Bn,oe},R}(Ti);xh.prototype.bytesPerElement=48,Be("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",xh);var Zc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er,jr,yn,hn,Vn,Cn,Bn,Zn,aa,ga,da,Va,ka,Na,fi,Ha,Wa){var di=this.length;return this.resize(di+1),this.emplace(di,oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er,jr,yn,hn,Vn,Cn,Bn,Zn,aa,ga,da,Va,ka,Na,fi,Ha,Wa)},R.prototype.emplace=function(oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er,jr,yn,hn,Vn,Cn,Bn,Zn,aa,ga,da,Va,ka,Na,fi,Ha,Wa,di){var oi=oe*34,Wi=oe*17;return this.int16[oi+0]=ye,this.int16[oi+1]=Ee,this.int16[oi+2]=Re,this.int16[oi+3]=qe,this.int16[oi+4]=yt,this.int16[oi+5]=Lt,this.int16[oi+6]=It,this.int16[oi+7]=Kt,this.uint16[oi+8]=ur,this.uint16[oi+9]=ar,this.uint16[oi+10]=Er,this.uint16[oi+11]=jr,this.uint16[oi+12]=yn,this.uint16[oi+13]=hn,this.uint16[oi+14]=Vn,this.uint16[oi+15]=Cn,this.uint16[oi+16]=Bn,this.uint16[oi+17]=Zn,this.uint16[oi+18]=aa,this.uint16[oi+19]=ga,this.uint16[oi+20]=da,this.uint16[oi+21]=Va,this.uint16[oi+22]=ka,this.uint32[Wi+12]=Na,this.float32[Wi+13]=fi,this.float32[Wi+14]=Ha,this.float32[Wi+15]=Wa,this.float32[Wi+16]=di,oe},R}(Ti);Zc.prototype.bytesPerElement=68,Be("StructArrayLayout8i15ui1ul4f68",Zc);var mc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe){var ye=this.length;return this.resize(ye+1),this.emplace(ye,oe)},R.prototype.emplace=function(oe,ye){var Ee=oe*1;return this.float32[Ee+0]=ye,oe},R}(Ti);mc.prototype.bytesPerElement=4,Be("StructArrayLayout1f4",mc);var bh=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee){var Re=this.length;return this.resize(Re+1),this.emplace(Re,oe,ye,Ee)},R.prototype.emplace=function(oe,ye,Ee,Re){var qe=oe*3;return this.int16[qe+0]=ye,this.int16[qe+1]=Ee,this.int16[qe+2]=Re,oe},R}(Ti);bh.prototype.bytesPerElement=6,Be("StructArrayLayout3i6",bh);var xc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee){var Re=this.length;return this.resize(Re+1),this.emplace(Re,oe,ye,Ee)},R.prototype.emplace=function(oe,ye,Ee,Re){var qe=oe*2,yt=oe*4;return this.uint32[qe+0]=ye,this.uint16[yt+2]=Ee,this.uint16[yt+3]=Re,oe},R}(Ti);xc.prototype.bytesPerElement=8,Be("StructArrayLayout1ul2ui8",xc);var wh=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,oe,ye)},R.prototype.emplace=function(oe,ye,Ee){var Re=oe*2;return this.uint16[Re+0]=ye,this.uint16[Re+1]=Ee,oe},R}(Ti);wh.prototype.bytesPerElement=4,Be("StructArrayLayout2ui4",wh);var Wf=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe){var ye=this.length;return this.resize(ye+1),this.emplace(ye,oe)},R.prototype.emplace=function(oe,ye){var Ee=oe*1;return this.uint16[Ee+0]=ye,oe},R}(Ti);Wf.prototype.bytesPerElement=2,Be("StructArrayLayout1ui2",Wf);var bc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(oe,ye,Ee,Re){var qe=this.length;return this.resize(qe+1),this.emplace(qe,oe,ye,Ee,Re)},R.prototype.emplace=function(oe,ye,Ee,Re,qe){var yt=oe*4;return this.float32[yt+0]=ye,this.float32[yt+1]=Ee,this.float32[yt+2]=Re,this.float32[yt+3]=qe,oe},R}(Ti);bc.prototype.bytesPerElement=16,Be("StructArrayLayout4f16",bc);var pv=function(P){function R(){P.apply(this,arguments)}P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(R.prototype,W),R}(Ml);pv.prototype.size=20;var dd=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.get=function(oe){return new pv(this,oe)},R}(Gf);Be("CollisionBoxArray",dd);var wc=function(P){function R(){P.apply(this,arguments)}P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(oe){this._structArray.uint8[this._pos1+37]=oe},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(oe){this._structArray.uint8[this._pos1+38]=oe},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(oe){this._structArray.uint32[this._pos4+10]=oe},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(R.prototype,W),R}(Ml);wc.prototype.size=48;var Cu=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.get=function(oe){return new wc(this,oe)},R}(xh);Be("PlacedSymbolArray",Cu);var jc=function(P){function R(){P.apply(this,arguments)}P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(oe){this._structArray.uint32[this._pos4+12]=oe},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(R.prototype,W),R}(Ml);jc.prototype.size=68;var pd=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.get=function(oe){return new jc(this,oe)},R}(Zc);Be("SymbolInstanceArray",pd);var ap=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.getoffsetX=function(oe){return this.float32[oe*1+0]},R}(mc);Be("GlyphOffsetArray",ap);var ou=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.getx=function(oe){return this.int16[oe*3+0]},R.prototype.gety=function(oe){return this.int16[oe*3+1]},R.prototype.gettileUnitDistanceFromAnchor=function(oe){return this.int16[oe*3+2]},R}(bh);Be("SymbolLineVertexArray",ou);var ip=function(P){function R(){P.apply(this,arguments)}P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(R.prototype,W),R}(Ml);ip.prototype.size=8;var op=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.get=function(oe){return new ip(this,oe)},R}(xc);Be("FeatureIndexArray",op);var Yf=vo([{name:"a_pos",components:2,type:"Int16"}],4),gv=Yf.members,Vo=function(R){R===void 0&&(R=[]),this.segments=R};Vo.prototype.prepareSegment=function(R,W,oe,ye){var Ee=this.segments[this.segments.length-1];return R>Vo.MAX_VERTEX_ARRAY_LENGTH&&N("Max vertices per segment is "+Vo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+R),(!Ee||Ee.vertexLength+R>Vo.MAX_VERTEX_ARRAY_LENGTH||Ee.sortKey!==ye)&&(Ee={vertexOffset:W.length,primitiveOffset:oe.length,vertexLength:0,primitiveLength:0},ye!==void 0&&(Ee.sortKey=ye),this.segments.push(Ee)),Ee},Vo.prototype.get=function(){return this.segments},Vo.prototype.destroy=function(){for(var R=0,W=this.segments;R<W.length;R+=1){var oe=W[R];for(var ye in oe.vaos)oe.vaos[ye].destroy()}},Vo.simpleSegment=function(R,W,oe,ye){return new Vo([{vertexOffset:R,primitiveOffset:W,vertexLength:oe,primitiveLength:ye,vaos:{},sortKey:0}])},Vo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Be("SegmentVector",Vo);function ve(P,R){return P=h(Math.floor(P),0,255),R=h(Math.floor(R),0,255),256*P+R}var $=vo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ge=L(function(P){function R(W,oe){var ye,Ee,Re,qe,yt,Lt,It,Kt;for(ye=W.length&3,Ee=W.length-ye,Re=oe,yt=3432918353,Lt=461845907,Kt=0;Kt<Ee;)It=W.charCodeAt(Kt)&255|(W.charCodeAt(++Kt)&255)<<8|(W.charCodeAt(++Kt)&255)<<16|(W.charCodeAt(++Kt)&255)<<24,++Kt,It=(It&65535)*yt+(((It>>>16)*yt&65535)<<16)&4294967295,It=It<<15|It>>>17,It=(It&65535)*Lt+(((It>>>16)*Lt&65535)<<16)&4294967295,Re^=It,Re=Re<<13|Re>>>19,qe=(Re&65535)*5+(((Re>>>16)*5&65535)<<16)&4294967295,Re=(qe&65535)+27492+(((qe>>>16)+58964&65535)<<16);switch(It=0,ye){case 3:It^=(W.charCodeAt(Kt+2)&255)<<16;case 2:It^=(W.charCodeAt(Kt+1)&255)<<8;case 1:It^=W.charCodeAt(Kt)&255,It=(It&65535)*yt+(((It>>>16)*yt&65535)<<16)&4294967295,It=It<<15|It>>>17,It=(It&65535)*Lt+(((It>>>16)*Lt&65535)<<16)&4294967295,Re^=It}return Re^=W.length,Re^=Re>>>16,Re=(Re&65535)*2246822507+(((Re>>>16)*2246822507&65535)<<16)&4294967295,Re^=Re>>>13,Re=(Re&65535)*3266489909+(((Re>>>16)*3266489909&65535)<<16)&4294967295,Re^=Re>>>16,Re>>>0}P.exports=R}),re=L(function(P){function R(W,oe){for(var ye=W.length,Ee=oe^ye,Re=0,qe;ye>=4;)qe=W.charCodeAt(Re)&255|(W.charCodeAt(++Re)&255)<<8|(W.charCodeAt(++Re)&255)<<16|(W.charCodeAt(++Re)&255)<<24,qe=(qe&65535)*1540483477+(((qe>>>16)*1540483477&65535)<<16),qe^=qe>>>24,qe=(qe&65535)*1540483477+(((qe>>>16)*1540483477&65535)<<16),Ee=(Ee&65535)*1540483477+(((Ee>>>16)*1540483477&65535)<<16)^qe,ye-=4,++Re;switch(ye){case 3:Ee^=(W.charCodeAt(Re+2)&255)<<16;case 2:Ee^=(W.charCodeAt(Re+1)&255)<<8;case 1:Ee^=W.charCodeAt(Re)&255,Ee=(Ee&65535)*1540483477+(((Ee>>>16)*1540483477&65535)<<16)}return Ee^=Ee>>>13,Ee=(Ee&65535)*1540483477+(((Ee>>>16)*1540483477&65535)<<16),Ee^=Ee>>>15,Ee>>>0}P.exports=R}),me=ge,Ne=ge,$e=re;me.murmur3=Ne,me.murmur2=$e;var vt=function(){this.ids=[],this.positions=[],this.indexed=!1};vt.prototype.add=function(R,W,oe,ye){this.ids.push(Gt(R)),this.positions.push(W,oe,ye)},vt.prototype.getPositions=function(R){for(var W=Gt(R),oe=0,ye=this.ids.length-1;oe<ye;){var Ee=oe+ye>>1;this.ids[Ee]>=W?ye=Ee:oe=Ee+1}for(var Re=[];this.ids[oe]===W;){var qe=this.positions[3*oe],yt=this.positions[3*oe+1],Lt=this.positions[3*oe+2];Re.push({index:qe,start:yt,end:Lt}),oe++}return Re},vt.serialize=function(R,W){var oe=new Float64Array(R.ids),ye=new Uint32Array(R.positions);return er(oe,ye,0,oe.length-1),W&&W.push(oe.buffer,ye.buffer),{ids:oe,positions:ye}},vt.deserialize=function(R){var W=new vt;return W.ids=R.ids,W.positions=R.positions,W.indexed=!0,W};var Pt=Math.pow(2,53)-1;function Gt(P){var R=+P;return!isNaN(R)&&R<=Pt?R:me(String(P))}function er(P,R,W,oe){for(;W<oe;){for(var ye=P[W+oe>>1],Ee=W-1,Re=oe+1;;){do Ee++;while(P[Ee]<ye);do Re--;while(P[Re]>ye);if(Ee>=Re)break;vr(P,Ee,Re),vr(R,3*Ee,3*Re),vr(R,3*Ee+1,3*Re+1),vr(R,3*Ee+2,3*Re+2)}Re-W<oe-Re?(er(P,R,W,Re),W=Re+1):(er(P,R,Re+1,oe),oe=Re)}}function vr(P,R,W){var oe=P[R];P[R]=P[W],P[W]=oe}Be("FeaturePositionMap",vt);var hr=function(R,W){this.gl=R.gl,this.location=W},Ur=function(P){function R(W,oe){P.call(this,W,oe),this.current=0}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(oe){this.current!==oe&&(this.current=oe,this.gl.uniform1i(this.location,oe))},R}(hr),rn=function(P){function R(W,oe){P.call(this,W,oe),this.current=0}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(oe){this.current!==oe&&(this.current=oe,this.gl.uniform1f(this.location,oe))},R}(hr),en=function(P){function R(W,oe){P.call(this,W,oe),this.current=[0,0]}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(oe){(oe[0]!==this.current[0]||oe[1]!==this.current[1])&&(this.current=oe,this.gl.uniform2f(this.location,oe[0],oe[1]))},R}(hr),Qr=function(P){function R(W,oe){P.call(this,W,oe),this.current=[0,0,0]}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(oe){(oe[0]!==this.current[0]||oe[1]!==this.current[1]||oe[2]!==this.current[2])&&(this.current=oe,this.gl.uniform3f(this.location,oe[0],oe[1],oe[2]))},R}(hr),on=function(P){function R(W,oe){P.call(this,W,oe),this.current=[0,0,0,0]}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(oe){(oe[0]!==this.current[0]||oe[1]!==this.current[1]||oe[2]!==this.current[2]||oe[3]!==this.current[3])&&(this.current=oe,this.gl.uniform4f(this.location,oe[0],oe[1],oe[2],oe[3]))},R}(hr),mn=function(P){function R(W,oe){P.call(this,W,oe),this.current=Mi.transparent}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(oe){(oe.r!==this.current.r||oe.g!==this.current.g||oe.b!==this.current.b||oe.a!==this.current.a)&&(this.current=oe,this.gl.uniform4f(this.location,oe.r,oe.g,oe.b,oe.a))},R}(hr),Un=new Float32Array(16),Yn=function(P){function R(W,oe){P.call(this,W,oe),this.current=Un}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(oe){if(oe[12]!==this.current[12]||oe[0]!==this.current[0]){this.current=oe,this.gl.uniformMatrix4fv(this.location,!1,oe);return}for(var ye=1;ye<16;ye++)if(oe[ye]!==this.current[ye]){this.current=oe,this.gl.uniformMatrix4fv(this.location,!1,oe);break}},R}(hr);function ra(P){return[ve(255*P.r,255*P.g),ve(255*P.b,255*P.a)]}var ia=function(R,W,oe){this.value=R,this.uniformNames=W.map(function(ye){return"u_"+ye}),this.type=oe};ia.prototype.setUniform=function(R,W,oe){R.set(oe.constantOr(this.value))},ia.prototype.getBinding=function(R,W,oe){return this.type==="color"?new mn(R,W):new rn(R,W)};var ta=function(R,W){this.uniformNames=W.map(function(oe){return"u_"+oe}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ta.prototype.setConstantPatternPositions=function(R,W){this.pixelRatioFrom=W.pixelRatio,this.pixelRatioTo=R.pixelRatio,this.patternFrom=W.tlbr,this.patternTo=R.tlbr},ta.prototype.setUniform=function(R,W,oe,ye){var Ee=ye==="u_pattern_to"?this.patternTo:ye==="u_pattern_from"?this.patternFrom:ye==="u_pixel_ratio_to"?this.pixelRatioTo:ye==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ee&&R.set(Ee)},ta.prototype.getBinding=function(R,W,oe){return oe.substr(0,9)==="u_pattern"?new on(R,W):new rn(R,W)};var sa=function(R,W,oe,ye){this.expression=R,this.type=oe,this.maxValue=0,this.paintVertexAttributes=W.map(function(Ee){return{name:"a_"+Ee,type:"Float32",components:oe==="color"?2:1,offset:0}}),this.paintVertexArray=new ye};sa.prototype.populatePaintArray=function(R,W,oe,ye,Ee){var Re=this.paintVertexArray.length,qe=this.expression.evaluate(new za(0),W,{},ye,[],Ee);this.paintVertexArray.resize(R),this._setPaintValue(Re,R,qe)},sa.prototype.updatePaintArray=function(R,W,oe,ye){var Ee=this.expression.evaluate({zoom:0},oe,ye);this._setPaintValue(R,W,Ee)},sa.prototype._setPaintValue=function(R,W,oe){if(this.type==="color")for(var ye=ra(oe),Ee=R;Ee<W;Ee++)this.paintVertexArray.emplace(Ee,ye[0],ye[1]);else{for(var Re=R;Re<W;Re++)this.paintVertexArray.emplace(Re,oe);this.maxValue=Math.max(this.maxValue,Math.abs(oe))}},sa.prototype.upload=function(R){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=R.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},sa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var pa=function(R,W,oe,ye,Ee,Re){this.expression=R,this.uniformNames=W.map(function(qe){return"u_"+qe+"_t"}),this.type=oe,this.useIntegerZoom=ye,this.zoom=Ee,this.maxValue=0,this.paintVertexAttributes=W.map(function(qe){return{name:"a_"+qe,type:"Float32",components:oe==="color"?4:2,offset:0}}),this.paintVertexArray=new Re};pa.prototype.populatePaintArray=function(R,W,oe,ye,Ee){var Re=this.expression.evaluate(new za(this.zoom),W,{},ye,[],Ee),qe=this.expression.evaluate(new za(this.zoom+1),W,{},ye,[],Ee),yt=this.paintVertexArray.length;this.paintVertexArray.resize(R),this._setPaintValue(yt,R,Re,qe)},pa.prototype.updatePaintArray=function(R,W,oe,ye){var Ee=this.expression.evaluate({zoom:this.zoom},oe,ye),Re=this.expression.evaluate({zoom:this.zoom+1},oe,ye);this._setPaintValue(R,W,Ee,Re)},pa.prototype._setPaintValue=function(R,W,oe,ye){if(this.type==="color")for(var Ee=ra(oe),Re=ra(ye),qe=R;qe<W;qe++)this.paintVertexArray.emplace(qe,Ee[0],Ee[1],Re[0],Re[1]);else{for(var yt=R;yt<W;yt++)this.paintVertexArray.emplace(yt,oe,ye);this.maxValue=Math.max(this.maxValue,Math.abs(oe),Math.abs(ye))}},pa.prototype.upload=function(R){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=R.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},pa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},pa.prototype.setUniform=function(R,W){var oe=this.useIntegerZoom?Math.floor(W.zoom):W.zoom,ye=h(this.expression.interpolationFactor(oe,this.zoom,this.zoom+1),0,1);R.set(ye)},pa.prototype.getBinding=function(R,W,oe){return new rn(R,W)};var wa=function(R,W,oe,ye,Ee,Re){this.expression=R,this.type=W,this.useIntegerZoom=oe,this.zoom=ye,this.layerId=Re,this.zoomInPaintVertexArray=new Ee,this.zoomOutPaintVertexArray=new Ee};wa.prototype.populatePaintArray=function(R,W,oe){var ye=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(R),this.zoomOutPaintVertexArray.resize(R),this._setPaintValues(ye,R,W.patterns&&W.patterns[this.layerId],oe)},wa.prototype.updatePaintArray=function(R,W,oe,ye,Ee){this._setPaintValues(R,W,oe.patterns&&oe.patterns[this.layerId],Ee)},wa.prototype._setPaintValues=function(R,W,oe,ye){if(!(!ye||!oe)){var Ee=oe.min,Re=oe.mid,qe=oe.max,yt=ye[Ee],Lt=ye[Re],It=ye[qe];if(!(!yt||!Lt||!It))for(var Kt=R;Kt<W;Kt++)this.zoomInPaintVertexArray.emplace(Kt,Lt.tl[0],Lt.tl[1],Lt.br[0],Lt.br[1],yt.tl[0],yt.tl[1],yt.br[0],yt.br[1],Lt.pixelRatio,yt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Kt,Lt.tl[0],Lt.tl[1],Lt.br[0],Lt.br[1],It.tl[0],It.tl[1],It.br[0],It.br[1],Lt.pixelRatio,It.pixelRatio)}},wa.prototype.upload=function(R){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=R.createVertexBuffer(this.zoomInPaintVertexArray,$.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=R.createVertexBuffer(this.zoomOutPaintVertexArray,$.members,this.expression.isStateDependent))},wa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Oa=function(R,W,oe){this.binders={},this._buffers=[];var ye=[];for(var Ee in R.paint._values)if(oe(Ee)){var Re=R.paint.get(Ee);if(!(!(Re instanceof ro)||!Vl(Re.property.specification))){var qe=ri(Ee,R.type),yt=Re.value,Lt=Re.property.specification.type,It=Re.property.useIntegerZoom,Kt=Re.property.specification["property-type"],ur=Kt==="cross-faded"||Kt==="cross-faded-data-driven";if(yt.kind==="constant")this.binders[Ee]=ur?new ta(yt.value,qe):new ia(yt.value,qe,Lt),ye.push("/u_"+Ee);else if(yt.kind==="source"||ur){var ar=gi(Ee,Lt,"source");this.binders[Ee]=ur?new wa(yt,Lt,It,W,ar,R.id):new sa(yt,qe,Lt,ar),ye.push("/a_"+Ee)}else{var Er=gi(Ee,Lt,"composite");this.binders[Ee]=new pa(yt,qe,Lt,It,W,Er),ye.push("/z_"+Ee)}}}this.cacheKey=ye.sort().join("")};Oa.prototype.getMaxValue=function(R){var W=this.binders[R];return W instanceof sa||W instanceof pa?W.maxValue:0},Oa.prototype.populatePaintArrays=function(R,W,oe,ye,Ee){for(var Re in this.binders){var qe=this.binders[Re];(qe instanceof sa||qe instanceof pa||qe instanceof wa)&&qe.populatePaintArray(R,W,oe,ye,Ee)}},Oa.prototype.setConstantPatternPositions=function(R,W){for(var oe in this.binders){var ye=this.binders[oe];ye instanceof ta&&ye.setConstantPatternPositions(R,W)}},Oa.prototype.updatePaintArrays=function(R,W,oe,ye,Ee){var Re=!1;for(var qe in R)for(var yt=W.getPositions(qe),Lt=0,It=yt;Lt<It.length;Lt+=1){var Kt=It[Lt],ur=oe.feature(Kt.index);for(var ar in this.binders){var Er=this.binders[ar];if((Er instanceof sa||Er instanceof pa||Er instanceof wa)&&Er.expression.isStateDependent===!0){var jr=ye.paint.get(ar);Er.expression=jr.value,Er.updatePaintArray(Kt.start,Kt.end,ur,R[qe],Ee),Re=!0}}}return Re},Oa.prototype.defines=function(){var R=[];for(var W in this.binders){var oe=this.binders[W];(oe instanceof ia||oe instanceof ta)&&R.push.apply(R,oe.uniformNames.map(function(ye){return"#define HAS_UNIFORM_"+ye}))}return R},Oa.prototype.getBinderAttributes=function(){var R=[];for(var W in this.binders){var oe=this.binders[W];if(oe instanceof sa||oe instanceof pa)for(var ye=0;ye<oe.paintVertexAttributes.length;ye++)R.push(oe.paintVertexAttributes[ye].name);else if(oe instanceof wa)for(var Ee=0;Ee<$.members.length;Ee++)R.push($.members[Ee].name)}return R},Oa.prototype.getBinderUniforms=function(){var R=[];for(var W in this.binders){var oe=this.binders[W];if(oe instanceof ia||oe instanceof ta||oe instanceof pa)for(var ye=0,Ee=oe.uniformNames;ye<Ee.length;ye+=1){var Re=Ee[ye];R.push(Re)}}return R},Oa.prototype.getPaintVertexBuffers=function(){return this._buffers},Oa.prototype.getUniforms=function(R,W){var oe=[];for(var ye in this.binders){var Ee=this.binders[ye];if(Ee instanceof ia||Ee instanceof ta||Ee instanceof pa)for(var Re=0,qe=Ee.uniformNames;Re<qe.length;Re+=1){var yt=qe[Re];if(W[yt]){var Lt=Ee.getBinding(R,W[yt],yt);oe.push({name:yt,property:ye,binding:Lt})}}}return oe},Oa.prototype.setUniforms=function(R,W,oe,ye){for(var Ee=0,Re=W;Ee<Re.length;Ee+=1){var qe=Re[Ee],yt=qe.name,Lt=qe.property,It=qe.binding;this.binders[Lt].setUniform(It,ye,oe.get(Lt),yt)}},Oa.prototype.updatePaintBuffers=function(R){this._buffers=[];for(var W in this.binders){var oe=this.binders[W];if(R&&oe instanceof wa){var ye=R.fromScale===2?oe.zoomInPaintVertexBuffer:oe.zoomOutPaintVertexBuffer;ye&&this._buffers.push(ye)}else(oe instanceof sa||oe instanceof pa)&&oe.paintVertexBuffer&&this._buffers.push(oe.paintVertexBuffer)}},Oa.prototype.upload=function(R){for(var W in this.binders){var oe=this.binders[W];(oe instanceof sa||oe instanceof pa||oe instanceof wa)&&oe.upload(R)}this.updatePaintBuffers()},Oa.prototype.destroy=function(){for(var R in this.binders){var W=this.binders[R];(W instanceof sa||W instanceof pa||W instanceof wa)&&W.destroy()}};var Pa=function(R,W,oe){oe===void 0&&(oe=function(){return!0}),this.programConfigurations={};for(var ye=0,Ee=R;ye<Ee.length;ye+=1){var Re=Ee[ye];this.programConfigurations[Re.id]=new Oa(Re,W,oe)}this.needsUpload=!1,this._featureMap=new vt,this._bufferOffset=0};Pa.prototype.populatePaintArrays=function(R,W,oe,ye,Ee,Re){for(var qe in this.programConfigurations)this.programConfigurations[qe].populatePaintArrays(R,W,ye,Ee,Re);W.id!==void 0&&this._featureMap.add(W.id,oe,this._bufferOffset,R),this._bufferOffset=R,this.needsUpload=!0},Pa.prototype.updatePaintArrays=function(R,W,oe,ye){for(var Ee=0,Re=oe;Ee<Re.length;Ee+=1){var qe=Re[Ee];this.needsUpload=this.programConfigurations[qe.id].updatePaintArrays(R,this._featureMap,W,qe,ye)||this.needsUpload}},Pa.prototype.get=function(R){return this.programConfigurations[R]},Pa.prototype.upload=function(R){if(this.needsUpload){for(var W in this.programConfigurations)this.programConfigurations[W].upload(R);this.needsUpload=!1}},Pa.prototype.destroy=function(){for(var R in this.programConfigurations)this.programConfigurations[R].destroy()};function ri(P,R){var W={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return W[P]||[P.replace(R+"-","").replace(/-/g,"_")]}function Ci(P){var R={"line-pattern":{source:$s,composite:$s},"fill-pattern":{source:$s,composite:$s},"fill-extrusion-pattern":{source:$s,composite:$s}};return R[P]}function gi(P,R,W){var oe={color:{source:Xc,composite:bc},number:{source:mc,composite:Xc}},ye=Ci(P);return ye&&ye[W]||oe[R][W]}Be("ConstantBinder",ia),Be("CrossFadedConstantBinder",ta),Be("SourceExpressionBinder",sa),Be("CrossFadedCompositeBinder",wa),Be("CompositeExpressionBinder",pa),Be("ProgramConfiguration",Oa,{omit:["_buffers"]}),Be("ProgramConfigurationSet",Pa);var Ua=8192,mi=15,si=Math.pow(2,mi-1)-1,Fi=-si-1;function Li(P){for(var R=Ua/P.extent,W=P.loadGeometry(),oe=0;oe<W.length;oe++)for(var ye=W[oe],Ee=0;Ee<ye.length;Ee++){var Re=ye[Ee],qe=Math.round(Re.x*R),yt=Math.round(Re.y*R);Re.x=h(qe,Fi,si),Re.y=h(yt,Fi,si),(qe<Re.x||qe>Re.x+1||yt<Re.y||yt>Re.y+1)&&N("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return W}function oo(P,R){return{type:P.type,id:P.id,properties:P.properties,geometry:R?Li(P):[]}}function xi(P,R,W,oe,ye){P.emplaceBack(R*2+(oe+1)/2,W*2+(ye+1)/2)}var Qi=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=R.index,this.hasPattern=!1,this.layoutVertexArray=new Yc,this.indexArray=new iu,this.segments=new Vo,this.programConfigurations=new Pa(R.layers,R.zoom),this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Qi.prototype.populate=function(R,W,oe){var ye=this.layers[0],Ee=[],Re=null;ye.type==="circle"&&(Re=ye.layout.get("circle-sort-key"));for(var qe=0,yt=R;qe<yt.length;qe+=1){var Lt=yt[qe],It=Lt.feature,Kt=Lt.id,ur=Lt.index,ar=Lt.sourceLayerIndex,Er=this.layers[0]._featureFilter.needGeometry,jr=oo(It,Er);if(this.layers[0]._featureFilter.filter(new za(this.zoom),jr,oe)){var yn=Re?Re.evaluate(jr,{},oe):void 0,hn={id:Kt,properties:It.properties,type:It.type,sourceLayerIndex:ar,index:ur,geometry:Er?jr.geometry:Li(It),patterns:{},sortKey:yn};Ee.push(hn)}}Re&&Ee.sort(function(ka,Na){return ka.sortKey-Na.sortKey});for(var Vn=0,Cn=Ee;Vn<Cn.length;Vn+=1){var Bn=Cn[Vn],Zn=Bn,aa=Zn.geometry,ga=Zn.index,da=Zn.sourceLayerIndex,Va=R[ga].feature;this.addFeature(Bn,aa,ga,oe),W.featureIndex.insert(Va,aa,ga,da,this.index)}},Qi.prototype.update=function(R,W,oe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,W,this.stateDependentLayers,oe)},Qi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Qi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Qi.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,gv),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},Qi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Qi.prototype.addFeature=function(R,W,oe,ye){for(var Ee=0,Re=W;Ee<Re.length;Ee+=1)for(var qe=Re[Ee],yt=0,Lt=qe;yt<Lt.length;yt+=1){var It=Lt[yt],Kt=It.x,ur=It.y;if(!(Kt<0||Kt>=Ua||ur<0||ur>=Ua)){var ar=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,R.sortKey),Er=ar.vertexLength;xi(this.layoutVertexArray,Kt,ur,-1,-1),xi(this.layoutVertexArray,Kt,ur,1,-1),xi(this.layoutVertexArray,Kt,ur,1,1),xi(this.layoutVertexArray,Kt,ur,-1,1),this.indexArray.emplaceBack(Er,Er+1,Er+2),this.indexArray.emplaceBack(Er,Er+3,Er+2),ar.vertexLength+=4,ar.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,oe,{},ye)},Be("CircleBucket",Qi,{omit:["layers"]});function ui(P,R){for(var W=0;W<P.length;W++)if(ll(R,P[W]))return!0;for(var oe=0;oe<R.length;oe++)if(ll(P,R[oe]))return!0;return!!Ds(P,R)}function _i(P,R,W){return!!(ll(P,R)||_u(R,P,W))}function Co(P,R){if(P.length===1)return df(R,P[0]);for(var W=0;W<R.length;W++)for(var oe=R[W],ye=0;ye<oe.length;ye++)if(ll(P,oe[ye]))return!0;for(var Ee=0;Ee<P.length;Ee++)if(df(R,P[Ee]))return!0;for(var Re=0;Re<R.length;Re++)if(Ds(P,R[Re]))return!0;return!1}function rs(P,R,W){for(var oe=0;oe<R.length;oe++){var ye=R[oe];if(P.length>=3){for(var Ee=0;Ee<ye.length;Ee++)if(ll(P,ye[Ee]))return!0}if(ns(P,ye,W))return!0}return!1}function ns(P,R,W){if(P.length>1){if(Ds(P,R))return!0;for(var oe=0;oe<R.length;oe++)if(_u(R[oe],P,W))return!0}for(var ye=0;ye<P.length;ye++)if(_u(P[ye],R,W))return!0;return!1}function Ds(P,R){if(P.length===0||R.length===0)return!1;for(var W=0;W<P.length-1;W++)for(var oe=P[W],ye=P[W+1],Ee=0;Ee<R.length-1;Ee++){var Re=R[Ee],qe=R[Ee+1];if(Lu(oe,ye,Re,qe))return!0}return!1}function Lu(P,R,W,oe){return O(P,W,oe)!==O(R,W,oe)&&O(P,R,W)!==O(P,R,oe)}function _u(P,R,W){var oe=W*W;if(R.length===1)return P.distSqr(R[0])<oe;for(var ye=1;ye<R.length;ye++){var Ee=R[ye-1],Re=R[ye];if(Kc(P,Ee,Re)<oe)return!0}return!1}function Kc(P,R,W){var oe=R.distSqr(W);if(oe===0)return P.distSqr(R);var ye=((P.x-R.x)*(W.x-R.x)+(P.y-R.y)*(W.y-R.y))/oe;return ye<0?P.distSqr(R):ye>1?P.distSqr(W):P.distSqr(W.sub(R)._mult(ye)._add(R))}function df(P,R){for(var W=!1,oe,ye,Ee,Re=0;Re<P.length;Re++){oe=P[Re];for(var qe=0,yt=oe.length-1;qe<oe.length;yt=qe++)ye=oe[qe],Ee=oe[yt],ye.y>R.y!=Ee.y>R.y&&R.x<(Ee.x-ye.x)*(R.y-ye.y)/(Ee.y-ye.y)+ye.x&&(W=!W)}return W}function ll(P,R){for(var W=!1,oe=0,ye=P.length-1;oe<P.length;ye=oe++){var Ee=P[oe],Re=P[ye];Ee.y>R.y!=Re.y>R.y&&R.x<(Re.x-Ee.x)*(R.y-Ee.y)/(Re.y-Ee.y)+Ee.x&&(W=!W)}return W}function pf(P,R,W,oe,ye){for(var Ee=0,Re=P;Ee<Re.length;Ee+=1){var qe=Re[Ee];if(R<=qe.x&&W<=qe.y&&oe>=qe.x&&ye>=qe.y)return!0}var yt=[new r(R,W),new r(R,ye),new r(oe,ye),new r(oe,W)];if(P.length>2)for(var Lt=0,It=yt;Lt<It.length;Lt+=1){var Kt=It[Lt];if(ll(P,Kt))return!0}for(var ur=0;ur<P.length-1;ur++){var ar=P[ur],Er=P[ur+1];if(Sl(ar,Er,yt))return!0}return!1}function Sl(P,R,W){var oe=W[0],ye=W[2];if(P.x<oe.x&&R.x<oe.x||P.x>ye.x&&R.x>ye.x||P.y<oe.y&&R.y<oe.y||P.y>ye.y&&R.y>ye.y)return!1;var Ee=O(P,R,W[0]);return Ee!==O(P,R,W[1])||Ee!==O(P,R,W[2])||Ee!==O(P,R,W[3])}function ul(P,R,W){var oe=R.paint.get(P).value;return oe.kind==="constant"?oe.value:W.programConfigurations.get(R.id).getMaxValue(P)}function Pu(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])}function Xf(P,R,W,oe,ye){if(!R[0]&&!R[1])return P;var Ee=r.convert(R)._mult(ye);W==="viewport"&&Ee._rotate(-oe);for(var Re=[],qe=0;qe<P.length;qe++){var yt=P[qe];Re.push(yt.sub(Ee))}return Re}var Ru=new zi({"circle-sort-key":new Ya(Cr.layout_circle["circle-sort-key"])}),yv=new zi({"circle-radius":new Ya(Cr.paint_circle["circle-radius"]),"circle-color":new Ya(Cr.paint_circle["circle-color"]),"circle-blur":new Ya(Cr.paint_circle["circle-blur"]),"circle-opacity":new Ya(Cr.paint_circle["circle-opacity"]),"circle-translate":new ya(Cr.paint_circle["circle-translate"]),"circle-translate-anchor":new ya(Cr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ya(Cr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ya(Cr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ya(Cr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ya(Cr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ya(Cr.paint_circle["circle-stroke-opacity"])}),Th={paint:yv,layout:Ru},ds=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var P=arguments,R=0,W=arguments.length;W--;)R+=P[W]*P[W];return Math.sqrt(R)});function Wh(){var P=new ds(4);return ds!=Float32Array&&(P[1]=0,P[2]=0),P[0]=1,P[3]=1,P}function Ah(P,R,W){var oe=R[0],ye=R[1],Ee=R[2],Re=R[3],qe=Math.sin(W),yt=Math.cos(W);return P[0]=oe*yt+Ee*qe,P[1]=ye*yt+Re*qe,P[2]=oe*-qe+Ee*yt,P[3]=ye*-qe+Re*yt,P}function Qs(){var P=new ds(9);return ds!=Float32Array&&(P[1]=0,P[2]=0,P[3]=0,P[5]=0,P[6]=0,P[7]=0),P[0]=1,P[4]=1,P[8]=1,P}function Mh(P,R){var W=Math.sin(R),oe=Math.cos(R);return P[0]=oe,P[1]=W,P[2]=0,P[3]=-W,P[4]=oe,P[5]=0,P[6]=0,P[7]=0,P[8]=1,P}function mv(){var P=new ds(16);return ds!=Float32Array&&(P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[11]=0,P[12]=0,P[13]=0,P[14]=0),P[0]=1,P[5]=1,P[10]=1,P[15]=1,P}function Yh(P){var R=new ds(16);return R[0]=P[0],R[1]=P[1],R[2]=P[2],R[3]=P[3],R[4]=P[4],R[5]=P[5],R[6]=P[6],R[7]=P[7],R[8]=P[8],R[9]=P[9],R[10]=P[10],R[11]=P[11],R[12]=P[12],R[13]=P[13],R[14]=P[14],R[15]=P[15],R}function xv(P){return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}function Sh(P,R){var W=R[0],oe=R[1],ye=R[2],Ee=R[3],Re=R[4],qe=R[5],yt=R[6],Lt=R[7],It=R[8],Kt=R[9],ur=R[10],ar=R[11],Er=R[12],jr=R[13],yn=R[14],hn=R[15],Vn=W*qe-oe*Re,Cn=W*yt-ye*Re,Bn=W*Lt-Ee*Re,Zn=oe*yt-ye*qe,aa=oe*Lt-Ee*qe,ga=ye*Lt-Ee*yt,da=It*jr-Kt*Er,Va=It*yn-ur*Er,ka=It*hn-ar*Er,Na=Kt*yn-ur*jr,fi=Kt*hn-ar*jr,Ha=ur*hn-ar*yn,Wa=Vn*Ha-Cn*fi+Bn*Na+Zn*ka-aa*Va+ga*da;return Wa?(Wa=1/Wa,P[0]=(qe*Ha-yt*fi+Lt*Na)*Wa,P[1]=(ye*fi-oe*Ha-Ee*Na)*Wa,P[2]=(jr*ga-yn*aa+hn*Zn)*Wa,P[3]=(ur*aa-Kt*ga-ar*Zn)*Wa,P[4]=(yt*ka-Re*Ha-Lt*Va)*Wa,P[5]=(W*Ha-ye*ka+Ee*Va)*Wa,P[6]=(yn*Bn-Er*ga-hn*Cn)*Wa,P[7]=(It*ga-ur*Bn+ar*Cn)*Wa,P[8]=(Re*fi-qe*ka+Lt*da)*Wa,P[9]=(oe*ka-W*fi-Ee*da)*Wa,P[10]=(Er*aa-jr*Bn+hn*Vn)*Wa,P[11]=(Kt*Bn-It*aa-ar*Vn)*Wa,P[12]=(qe*Va-Re*Na-yt*da)*Wa,P[13]=(W*Na-oe*Va+ye*da)*Wa,P[14]=(jr*Cn-Er*Zn-yn*Vn)*Wa,P[15]=(It*Zn-Kt*Cn+ur*Vn)*Wa,P):null}function Eh(P,R,W){var oe=R[0],ye=R[1],Ee=R[2],Re=R[3],qe=R[4],yt=R[5],Lt=R[6],It=R[7],Kt=R[8],ur=R[9],ar=R[10],Er=R[11],jr=R[12],yn=R[13],hn=R[14],Vn=R[15],Cn=W[0],Bn=W[1],Zn=W[2],aa=W[3];return P[0]=Cn*oe+Bn*qe+Zn*Kt+aa*jr,P[1]=Cn*ye+Bn*yt+Zn*ur+aa*yn,P[2]=Cn*Ee+Bn*Lt+Zn*ar+aa*hn,P[3]=Cn*Re+Bn*It+Zn*Er+aa*Vn,Cn=W[4],Bn=W[5],Zn=W[6],aa=W[7],P[4]=Cn*oe+Bn*qe+Zn*Kt+aa*jr,P[5]=Cn*ye+Bn*yt+Zn*ur+aa*yn,P[6]=Cn*Ee+Bn*Lt+Zn*ar+aa*hn,P[7]=Cn*Re+Bn*It+Zn*Er+aa*Vn,Cn=W[8],Bn=W[9],Zn=W[10],aa=W[11],P[8]=Cn*oe+Bn*qe+Zn*Kt+aa*jr,P[9]=Cn*ye+Bn*yt+Zn*ur+aa*yn,P[10]=Cn*Ee+Bn*Lt+Zn*ar+aa*hn,P[11]=Cn*Re+Bn*It+Zn*Er+aa*Vn,Cn=W[12],Bn=W[13],Zn=W[14],aa=W[15],P[12]=Cn*oe+Bn*qe+Zn*Kt+aa*jr,P[13]=Cn*ye+Bn*yt+Zn*ur+aa*yn,P[14]=Cn*Ee+Bn*Lt+Zn*ar+aa*hn,P[15]=Cn*Re+Bn*It+Zn*Er+aa*Vn,P}function Ho(P,R,W){var oe=W[0],ye=W[1],Ee=W[2],Re,qe,yt,Lt,It,Kt,ur,ar,Er,jr,yn,hn;return R===P?(P[12]=R[0]*oe+R[4]*ye+R[8]*Ee+R[12],P[13]=R[1]*oe+R[5]*ye+R[9]*Ee+R[13],P[14]=R[2]*oe+R[6]*ye+R[10]*Ee+R[14],P[15]=R[3]*oe+R[7]*ye+R[11]*Ee+R[15]):(Re=R[0],qe=R[1],yt=R[2],Lt=R[3],It=R[4],Kt=R[5],ur=R[6],ar=R[7],Er=R[8],jr=R[9],yn=R[10],hn=R[11],P[0]=Re,P[1]=qe,P[2]=yt,P[3]=Lt,P[4]=It,P[5]=Kt,P[6]=ur,P[7]=ar,P[8]=Er,P[9]=jr,P[10]=yn,P[11]=hn,P[12]=Re*oe+It*ye+Er*Ee+R[12],P[13]=qe*oe+Kt*ye+jr*Ee+R[13],P[14]=yt*oe+ur*ye+yn*Ee+R[14],P[15]=Lt*oe+ar*ye+hn*Ee+R[15]),P}function El(P,R,W){var oe=W[0],ye=W[1],Ee=W[2];return P[0]=R[0]*oe,P[1]=R[1]*oe,P[2]=R[2]*oe,P[3]=R[3]*oe,P[4]=R[4]*ye,P[5]=R[5]*ye,P[6]=R[6]*ye,P[7]=R[7]*ye,P[8]=R[8]*Ee,P[9]=R[9]*Ee,P[10]=R[10]*Ee,P[11]=R[11]*Ee,P[12]=R[12],P[13]=R[13],P[14]=R[14],P[15]=R[15],P}function Cl(P,R,W){var oe=Math.sin(W),ye=Math.cos(W),Ee=R[4],Re=R[5],qe=R[6],yt=R[7],Lt=R[8],It=R[9],Kt=R[10],ur=R[11];return R!==P&&(P[0]=R[0],P[1]=R[1],P[2]=R[2],P[3]=R[3],P[12]=R[12],P[13]=R[13],P[14]=R[14],P[15]=R[15]),P[4]=Ee*ye+Lt*oe,P[5]=Re*ye+It*oe,P[6]=qe*ye+Kt*oe,P[7]=yt*ye+ur*oe,P[8]=Lt*ye-Ee*oe,P[9]=It*ye-Re*oe,P[10]=Kt*ye-qe*oe,P[11]=ur*ye-yt*oe,P}function fl(P,R,W){var oe=Math.sin(W),ye=Math.cos(W),Ee=R[0],Re=R[1],qe=R[2],yt=R[3],Lt=R[4],It=R[5],Kt=R[6],ur=R[7];return R!==P&&(P[8]=R[8],P[9]=R[9],P[10]=R[10],P[11]=R[11],P[12]=R[12],P[13]=R[13],P[14]=R[14],P[15]=R[15]),P[0]=Ee*ye+Lt*oe,P[1]=Re*ye+It*oe,P[2]=qe*ye+Kt*oe,P[3]=yt*ye+ur*oe,P[4]=Lt*ye-Ee*oe,P[5]=It*ye-Re*oe,P[6]=Kt*ye-qe*oe,P[7]=ur*ye-yt*oe,P}function gd(P,R,W,oe,ye){var Ee=1/Math.tan(R/2),Re;return P[0]=Ee/W,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=Ee,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[11]=-1,P[12]=0,P[13]=0,P[15]=0,ye!=null&&ye!==1/0?(Re=1/(oe-ye),P[10]=(ye+oe)*Re,P[14]=2*ye*oe*Re):(P[10]=-1,P[14]=-2*oe),P}function w0(P,R,W,oe,ye,Ee,Re){var qe=1/(R-W),yt=1/(oe-ye),Lt=1/(Ee-Re);return P[0]=-2*qe,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=-2*yt,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=2*Lt,P[11]=0,P[12]=(R+W)*qe,P[13]=(ye+oe)*yt,P[14]=(Re+Ee)*Lt,P[15]=1,P}var T0=Eh;function Ch(){var P=new ds(3);return ds!=Float32Array&&(P[0]=0,P[1]=0,P[2]=0),P}function A0(P){var R=new ds(3);return R[0]=P[0],R[1]=P[1],R[2]=P[2],R}function bv(P,R,W){return P[0]=R[0]+W[0],P[1]=R[1]+W[1],P[2]=R[2]+W[2],P}function M0(P,R,W){return P[0]=R[0]-W[0],P[1]=R[1]-W[1],P[2]=R[2]-W[2],P}function S0(P,R,W){return P[0]=R[0]*W,P[1]=R[1]*W,P[2]=R[2]*W,P}function Xh(P,R){var W=R[0],oe=R[1],ye=R[2],Ee=W*W+oe*oe+ye*ye;return Ee>0&&(Ee=1/Math.sqrt(Ee)),P[0]=R[0]*Ee,P[1]=R[1]*Ee,P[2]=R[2]*Ee,P}function X1(P,R){return P[0]*R[0]+P[1]*R[1]+P[2]*R[2]}function Z1(P,R,W){var oe=R[0],ye=R[1],Ee=R[2],Re=W[0],qe=W[1],yt=W[2];return P[0]=ye*yt-Ee*qe,P[1]=Ee*Re-oe*yt,P[2]=oe*qe-ye*Re,P}function j1(P,R,W){var oe=R[0],ye=R[1],Ee=R[2];return P[0]=oe*W[0]+ye*W[3]+Ee*W[6],P[1]=oe*W[1]+ye*W[4]+Ee*W[7],P[2]=oe*W[2]+ye*W[5]+Ee*W[8],P}var K1=M0;(function(){var P=Ch();return function(R,W,oe,ye,Ee,Re){var qe,yt;for(W||(W=3),oe||(oe=0),ye?yt=Math.min(ye*W+oe,R.length):yt=R.length,qe=oe;qe<yt;qe+=W)P[0]=R[qe],P[1]=R[qe+1],P[2]=R[qe+2],Ee(P,P,Re),R[qe]=P[0],R[qe+1]=P[1],R[qe+2]=P[2];return R}})();function J1(){var P=new ds(4);return ds!=Float32Array&&(P[0]=0,P[1]=0,P[2]=0,P[3]=0),P}function $1(P,R,W){return P[0]=R[0]*W,P[1]=R[1]*W,P[2]=R[2]*W,P[3]=R[3]*W,P}function Q1(P,R){return P[0]*R[0]+P[1]*R[1]+P[2]*R[2]+P[3]*R[3]}function sp(P,R,W){var oe=R[0],ye=R[1],Ee=R[2],Re=R[3];return P[0]=W[0]*oe+W[4]*ye+W[8]*Ee+W[12]*Re,P[1]=W[1]*oe+W[5]*ye+W[9]*Ee+W[13]*Re,P[2]=W[2]*oe+W[6]*ye+W[10]*Ee+W[14]*Re,P[3]=W[3]*oe+W[7]*ye+W[11]*Ee+W[15]*Re,P}(function(){var P=J1();return function(R,W,oe,ye,Ee,Re){var qe,yt;for(W||(W=4),oe||(oe=0),ye?yt=Math.min(ye*W+oe,R.length):yt=R.length,qe=oe;qe<yt;qe+=W)P[0]=R[qe],P[1]=R[qe+1],P[2]=R[qe+2],P[3]=R[qe+3],Ee(P,P,Re),R[qe]=P[0],R[qe+1]=P[1],R[qe+2]=P[2],R[qe+3]=P[3];return R}})();function q1(){var P=new ds(2);return ds!=Float32Array&&(P[0]=0,P[1]=0),P}function ex(P){var R=P[0],W=P[1];return R*R+W*W}var tx=ex;(function(){var P=q1();return function(R,W,oe,ye,Ee,Re){var qe,yt;for(W||(W=2),oe||(oe=0),ye?yt=Math.min(ye*W+oe,R.length):yt=R.length,qe=oe;qe<yt;qe+=W)P[0]=R[qe],P[1]=R[qe+1],Ee(P,P,Re),R[qe]=P[0],R[qe+1]=P[1];return R}})();var rx=function(P){function R(W){P.call(this,W,Th)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(oe){return new Qi(oe)},R.prototype.queryRadius=function(oe){var ye=oe;return ul("circle-radius",this,ye)+ul("circle-stroke-width",this,ye)+Pu(this.paint.get("circle-translate"))},R.prototype.queryIntersectsFeature=function(oe,ye,Ee,Re,qe,yt,Lt,It){for(var Kt=Xf(oe,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),yt.angle,Lt),ur=this.paint.get("circle-radius").evaluate(ye,Ee),ar=this.paint.get("circle-stroke-width").evaluate(ye,Ee),Er=ur+ar,jr=this.paint.get("circle-pitch-alignment")==="map",yn=jr?Kt:nx(Kt,It),hn=jr?Er*Lt:Er,Vn=0,Cn=Re;Vn<Cn.length;Vn+=1)for(var Bn=Cn[Vn],Zn=0,aa=Bn;Zn<aa.length;Zn+=1){var ga=aa[Zn],da=jr?ga:ty(ga,It),Va=hn,ka=sp([],[ga.x,ga.y,0,1],It);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Va*=ka[3]/yt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Va*=yt.cameraToCenterDistance/ka[3]),_i(yn,da,Va))return!0}return!1},R}(zo);function ty(P,R){var W=sp([],[P.x,P.y,0,1],R);return new r(W[0]/W[3],W[1]/W[3])}function nx(P,R){return P.map(function(W){return ty(W,R)})}var ry=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R}(Qi);Be("HeatmapBucket",ry,{omit:["layers"]});function E0(P,R,W,oe){var ye=R.width,Ee=R.height;if(!oe)oe=new Uint8Array(ye*Ee*W);else if(oe instanceof Uint8ClampedArray)oe=new Uint8Array(oe.buffer);else if(oe.length!==ye*Ee*W)throw new RangeError("mismatched image size");return P.width=ye,P.height=Ee,P.data=oe,P}function ny(P,R,W){var oe=R.width,ye=R.height;if(!(oe===P.width&&ye===P.height)){var Ee=E0({},{width:oe,height:ye},W);C0(P,Ee,{x:0,y:0},{x:0,y:0},{width:Math.min(P.width,oe),height:Math.min(P.height,ye)},W),P.width=oe,P.height=ye,P.data=Ee.data}}function C0(P,R,W,oe,ye,Ee){if(ye.width===0||ye.height===0)return R;if(ye.width>P.width||ye.height>P.height||W.x>P.width-ye.width||W.y>P.height-ye.height)throw new RangeError("out of range source coordinates for image copy");if(ye.width>R.width||ye.height>R.height||oe.x>R.width-ye.width||oe.y>R.height-ye.height)throw new RangeError("out of range destination coordinates for image copy");for(var Re=P.data,qe=R.data,yt=0;yt<ye.height;yt++)for(var Lt=((W.y+yt)*P.width+W.x)*Ee,It=((oe.y+yt)*R.width+oe.x)*Ee,Kt=0;Kt<ye.width*Ee;Kt++)qe[It+Kt]=Re[Lt+Kt];return R}var Zh=function(R,W){E0(this,R,1,W)};Zh.prototype.resize=function(R){ny(this,R,1)},Zh.prototype.clone=function(){return new Zh({width:this.width,height:this.height},new Uint8Array(this.data))},Zh.copy=function(R,W,oe,ye,Ee){C0(R,W,oe,ye,Ee,1)};var Ll=function(R,W){E0(this,R,4,W)};Ll.prototype.resize=function(R){ny(this,R,4)},Ll.prototype.replace=function(R,W){W?this.data.set(R):R instanceof Uint8ClampedArray?this.data=new Uint8Array(R.buffer):this.data=R},Ll.prototype.clone=function(){return new Ll({width:this.width,height:this.height},new Uint8Array(this.data))},Ll.copy=function(R,W,oe,ye,Ee){C0(R,W,oe,ye,Ee,4)},Be("AlphaImage",Zh),Be("RGBAImage",Ll);var L0=new zi({"heatmap-radius":new Ya(Cr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ya(Cr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ya(Cr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ko(Cr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ya(Cr.paint_heatmap["heatmap-opacity"])}),ay={paint:L0};function iy(P){var R={},W=P.resolution||256,oe=P.clips?P.clips.length:1,ye=P.image||new Ll({width:W,height:oe}),Ee=function(Vn,Cn,Bn){R[P.evaluationKey]=Bn;var Zn=P.expression.evaluate(R);ye.data[Vn+Cn+0]=Math.floor(Zn.r*255/Zn.a),ye.data[Vn+Cn+1]=Math.floor(Zn.g*255/Zn.a),ye.data[Vn+Cn+2]=Math.floor(Zn.b*255/Zn.a),ye.data[Vn+Cn+3]=Math.floor(Zn.a*255)};if(P.clips)for(var Lt=0,It=0;Lt<oe;++Lt,It+=W*4)for(var Kt=0,ur=0;Kt<W;Kt++,ur+=4){var ar=Kt/(W-1),Er=P.clips[Lt],jr=Er.start,yn=Er.end,hn=jr*(1-ar)+yn*ar;Ee(It,ur,hn)}else for(var Re=0,qe=0;Re<W;Re++,qe+=4){var yt=Re/(W-1);Ee(0,qe,yt)}return ye}var ax=function(P){function R(W){P.call(this,W,ay),this._updateColorRamp()}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(oe){return new ry(oe)},R.prototype._handleSpecialPaintPropertyUpdate=function(oe){oe==="heatmap-color"&&this._updateColorRamp()},R.prototype._updateColorRamp=function(){var oe=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=iy({expression:oe,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},R.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},R}(zo),ix=new zi({"hillshade-illumination-direction":new ya(Cr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ya(Cr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ya(Cr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ya(Cr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ya(Cr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ya(Cr.paint_hillshade["hillshade-accent-color"])}),ox={paint:ix},sx=function(P){function R(W){P.call(this,W,ox)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},R}(zo),lx=vo([{name:"a_pos",components:2,type:"Int16"}],4),ux=lx.members,_0=lp,oy=lp;function lp(P,R,W){W=W||2;var oe=R&&R.length,ye=oe?R[0]*W:P.length,Ee=yd(P,0,ye,W,!0),Re=[];if(!Ee||Ee.next===Ee.prev)return Re;var qe,yt,Lt,It,Kt,ur,ar;if(oe&&(Ee=dx(P,R,Ee,W)),P.length>80*W){qe=Lt=P[0],yt=It=P[1];for(var Er=W;Er<ye;Er+=W)Kt=P[Er],ur=P[Er+1],Kt<qe&&(qe=Kt),ur<yt&&(yt=ur),Kt>Lt&&(Lt=Kt),ur>It&&(It=ur);ar=Math.max(Lt-qe,It-yt),ar=ar!==0?1/ar:0}return md(Ee,Re,W,qe,yt,ar),Re}function yd(P,R,W,oe,ye){var Ee,Re;if(ye===D0(P,R,W,oe)>0)for(Ee=R;Ee<W;Ee+=oe)Re=fy(Ee,P[Ee],P[Ee+1],Re);else for(Ee=W-oe;Ee>=R;Ee-=oe)Re=fy(Ee,P[Ee],P[Ee+1],Re);return Re&&up(Re,Re.next)&&(bd(Re),Re=Re.next),Re}function Lh(P,R){if(!P)return P;R||(R=P);var W=P,oe;do if(oe=!1,!W.steiner&&(up(W,W.next)||Jo(W.prev,W,W.next)===0)){if(bd(W),W=R=W.prev,W===W.next)break;oe=!0}else W=W.next;while(oe||W!==R);return R}function md(P,R,W,oe,ye,Ee,Re){if(P){!Re&&Ee&&xx(P,oe,ye,Ee);for(var qe=P,yt,Lt;P.prev!==P.next;){if(yt=P.prev,Lt=P.next,Ee?cx(P,oe,ye,Ee):fx(P)){R.push(yt.i/W),R.push(P.i/W),R.push(Lt.i/W),bd(P),P=Lt.next,qe=Lt.next;continue}if(P=Lt,P===qe){Re?Re===1?(P=hx(Lh(P),R,W),md(P,R,W,oe,ye,Ee,2)):Re===2&&vx(P,R,W,oe,ye,Ee):md(Lh(P),R,W,oe,ye,Ee,1);break}}}}function fx(P){var R=P.prev,W=P,oe=P.next;if(Jo(R,W,oe)>=0)return!1;for(var ye=P.next.next;ye!==P.prev;){if(wv(R.x,R.y,W.x,W.y,oe.x,oe.y,ye.x,ye.y)&&Jo(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function cx(P,R,W,oe){var ye=P.prev,Ee=P,Re=P.next;if(Jo(ye,Ee,Re)>=0)return!1;for(var qe=ye.x<Ee.x?ye.x<Re.x?ye.x:Re.x:Ee.x<Re.x?Ee.x:Re.x,yt=ye.y<Ee.y?ye.y<Re.y?ye.y:Re.y:Ee.y<Re.y?Ee.y:Re.y,Lt=ye.x>Ee.x?ye.x>Re.x?ye.x:Re.x:Ee.x>Re.x?Ee.x:Re.x,It=ye.y>Ee.y?ye.y>Re.y?ye.y:Re.y:Ee.y>Re.y?Ee.y:Re.y,Kt=P0(qe,yt,R,W,oe),ur=P0(Lt,It,R,W,oe),ar=P.prevZ,Er=P.nextZ;ar&&ar.z>=Kt&&Er&&Er.z<=ur;){if(ar!==P.prev&&ar!==P.next&&wv(ye.x,ye.y,Ee.x,Ee.y,Re.x,Re.y,ar.x,ar.y)&&Jo(ar.prev,ar,ar.next)>=0||(ar=ar.prevZ,Er!==P.prev&&Er!==P.next&&wv(ye.x,ye.y,Ee.x,Ee.y,Re.x,Re.y,Er.x,Er.y)&&Jo(Er.prev,Er,Er.next)>=0))return!1;Er=Er.nextZ}for(;ar&&ar.z>=Kt;){if(ar!==P.prev&&ar!==P.next&&wv(ye.x,ye.y,Ee.x,Ee.y,Re.x,Re.y,ar.x,ar.y)&&Jo(ar.prev,ar,ar.next)>=0)return!1;ar=ar.prevZ}for(;Er&&Er.z<=ur;){if(Er!==P.prev&&Er!==P.next&&wv(ye.x,ye.y,Ee.x,Ee.y,Re.x,Re.y,Er.x,Er.y)&&Jo(Er.prev,Er,Er.next)>=0)return!1;Er=Er.nextZ}return!0}function hx(P,R,W){var oe=P;do{var ye=oe.prev,Ee=oe.next.next;!up(ye,Ee)&&ly(ye,oe,oe.next,Ee)&&xd(ye,Ee)&&xd(Ee,ye)&&(R.push(ye.i/W),R.push(oe.i/W),R.push(Ee.i/W),bd(oe),bd(oe.next),oe=P=Ee),oe=oe.next}while(oe!==P);return Lh(oe)}function vx(P,R,W,oe,ye,Ee){var Re=P;do{for(var qe=Re.next.next;qe!==Re.prev;){if(Re.i!==qe.i&&sy(Re,qe)){var yt=uy(Re,qe);Re=Lh(Re,Re.next),yt=Lh(yt,yt.next),md(Re,R,W,oe,ye,Ee),md(yt,R,W,oe,ye,Ee);return}qe=qe.next}Re=Re.next}while(Re!==P)}function dx(P,R,W,oe){var ye=[],Ee,Re,qe,yt,Lt;for(Ee=0,Re=R.length;Ee<Re;Ee++)qe=R[Ee]*oe,yt=Ee<Re-1?R[Ee+1]*oe:P.length,Lt=yd(P,qe,yt,oe,!1),Lt===Lt.next&&(Lt.steiner=!0),ye.push(wx(Lt));for(ye.sort(px),Ee=0;Ee<ye.length;Ee++)gx(ye[Ee],W),W=Lh(W,W.next);return W}function px(P,R){return P.x-R.x}function gx(P,R){if(R=yx(P,R),R){var W=uy(R,P);Lh(R,R.next),Lh(W,W.next)}}function yx(P,R){var W=R,oe=P.x,ye=P.y,Ee=-1/0,Re;do{if(ye<=W.y&&ye>=W.next.y&&W.next.y!==W.y){var qe=W.x+(ye-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(qe<=oe&&qe>Ee){if(Ee=qe,qe===oe){if(ye===W.y)return W;if(ye===W.next.y)return W.next}Re=W.x<W.next.x?W:W.next}}W=W.next}while(W!==R);if(!Re)return null;if(oe===Ee)return Re;var yt=Re,Lt=Re.x,It=Re.y,Kt=1/0,ur;W=Re;do oe>=W.x&&W.x>=Lt&&oe!==W.x&&wv(ye<It?oe:Ee,ye,Lt,It,ye<It?Ee:oe,ye,W.x,W.y)&&(ur=Math.abs(ye-W.y)/(oe-W.x),xd(W,P)&&(ur<Kt||ur===Kt&&(W.x>Re.x||W.x===Re.x&&mx(Re,W)))&&(Re=W,Kt=ur)),W=W.next;while(W!==yt);return Re}function mx(P,R){return Jo(P.prev,P,R.prev)<0&&Jo(R.next,P,P.next)<0}function xx(P,R,W,oe){var ye=P;do ye.z===null&&(ye.z=P0(ye.x,ye.y,R,W,oe)),ye.prevZ=ye.prev,ye.nextZ=ye.next,ye=ye.next;while(ye!==P);ye.prevZ.nextZ=null,ye.prevZ=null,bx(ye)}function bx(P){var R,W,oe,ye,Ee,Re,qe,yt,Lt=1;do{for(W=P,P=null,Ee=null,Re=0;W;){for(Re++,oe=W,qe=0,R=0;R<Lt&&(qe++,oe=oe.nextZ,!!oe);R++);for(yt=Lt;qe>0||yt>0&&oe;)qe!==0&&(yt===0||!oe||W.z<=oe.z)?(ye=W,W=W.nextZ,qe--):(ye=oe,oe=oe.nextZ,yt--),Ee?Ee.nextZ=ye:P=ye,ye.prevZ=Ee,Ee=ye;W=oe}Ee.nextZ=null,Lt*=2}while(Re>1);return P}function P0(P,R,W,oe,ye){return P=32767*(P-W)*ye,R=32767*(R-oe)*ye,P=(P|P<<8)&16711935,P=(P|P<<4)&252645135,P=(P|P<<2)&858993459,P=(P|P<<1)&1431655765,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,P|R<<1}function wx(P){var R=P,W=P;do(R.x<W.x||R.x===W.x&&R.y<W.y)&&(W=R),R=R.next;while(R!==P);return W}function wv(P,R,W,oe,ye,Ee,Re,qe){return(ye-Re)*(R-qe)-(P-Re)*(Ee-qe)>=0&&(P-Re)*(oe-qe)-(W-Re)*(R-qe)>=0&&(W-Re)*(Ee-qe)-(ye-Re)*(oe-qe)>=0}function sy(P,R){return P.next.i!==R.i&&P.prev.i!==R.i&&!hp(P,R)&&(xd(P,R)&&xd(R,P)&&Tx(P,R)&&(Jo(P.prev,P,R.prev)||Jo(P,R.prev,R))||up(P,R)&&Jo(P.prev,P,P.next)>0&&Jo(R.prev,R,R.next)>0)}function Jo(P,R,W){return(R.y-P.y)*(W.x-R.x)-(R.x-P.x)*(W.y-R.y)}function up(P,R){return P.x===R.x&&P.y===R.y}function ly(P,R,W,oe){var ye=cp(Jo(P,R,W)),Ee=cp(Jo(P,R,oe)),Re=cp(Jo(W,oe,P)),qe=cp(Jo(W,oe,R));return!!(ye!==Ee&&Re!==qe||ye===0&&fp(P,W,R)||Ee===0&&fp(P,oe,R)||Re===0&&fp(W,P,oe)||qe===0&&fp(W,R,oe))}function fp(P,R,W){return R.x<=Math.max(P.x,W.x)&&R.x>=Math.min(P.x,W.x)&&R.y<=Math.max(P.y,W.y)&&R.y>=Math.min(P.y,W.y)}function cp(P){return P>0?1:P<0?-1:0}function hp(P,R){var W=P;do{if(W.i!==P.i&&W.next.i!==P.i&&W.i!==R.i&&W.next.i!==R.i&&ly(W,W.next,P,R))return!0;W=W.next}while(W!==P);return!1}function xd(P,R){return Jo(P.prev,P,P.next)<0?Jo(P,R,P.next)>=0&&Jo(P,P.prev,R)>=0:Jo(P,R,P.prev)<0||Jo(P,P.next,R)<0}function Tx(P,R){var W=P,oe=!1,ye=(P.x+R.x)/2,Ee=(P.y+R.y)/2;do W.y>Ee!=W.next.y>Ee&&W.next.y!==W.y&&ye<(W.next.x-W.x)*(Ee-W.y)/(W.next.y-W.y)+W.x&&(oe=!oe),W=W.next;while(W!==P);return oe}function uy(P,R){var W=new R0(P.i,P.x,P.y),oe=new R0(R.i,R.x,R.y),ye=P.next,Ee=R.prev;return P.next=R,R.prev=P,W.next=ye,ye.prev=W,oe.next=W,W.prev=oe,Ee.next=oe,oe.prev=Ee,oe}function fy(P,R,W,oe){var ye=new R0(P,R,W);return oe?(ye.next=oe.next,ye.prev=oe,oe.next.prev=ye,oe.next=ye):(ye.prev=ye,ye.next=ye),ye}function bd(P){P.next.prev=P.prev,P.prev.next=P.next,P.prevZ&&(P.prevZ.nextZ=P.nextZ),P.nextZ&&(P.nextZ.prevZ=P.prevZ)}function R0(P,R,W){this.i=P,this.x=R,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}lp.deviation=function(P,R,W,oe){var ye=R&&R.length,Ee=ye?R[0]*W:P.length,Re=Math.abs(D0(P,0,Ee,W));if(ye)for(var qe=0,yt=R.length;qe<yt;qe++){var Lt=R[qe]*W,It=qe<yt-1?R[qe+1]*W:P.length;Re-=Math.abs(D0(P,Lt,It,W))}var Kt=0;for(qe=0;qe<oe.length;qe+=3){var ur=oe[qe]*W,ar=oe[qe+1]*W,Er=oe[qe+2]*W;Kt+=Math.abs((P[ur]-P[Er])*(P[ar+1]-P[ur+1])-(P[ur]-P[ar])*(P[Er+1]-P[ur+1]))}return Re===0&&Kt===0?0:Math.abs((Kt-Re)/Re)};function D0(P,R,W,oe){for(var ye=0,Ee=R,Re=W-oe;Ee<W;Ee+=oe)ye+=(P[Re]-P[Ee])*(P[Ee+1]+P[Re+1]),Re=Ee;return ye}lp.flatten=function(P){for(var R=P[0][0].length,W={vertices:[],holes:[],dimensions:R},oe=0,ye=0;ye<P.length;ye++){for(var Ee=0;Ee<P[ye].length;Ee++)for(var Re=0;Re<R;Re++)W.vertices.push(P[ye][Ee][Re]);ye>0&&(oe+=P[ye-1].length,W.holes.push(oe))}return W},_0.default=oy;function Ax(P,R,W,oe,ye){cy(P,R,W||0,oe||P.length-1,ye||Mx)}function cy(P,R,W,oe,ye){for(;oe>W;){if(oe-W>600){var Ee=oe-W+1,Re=R-W+1,qe=Math.log(Ee),yt=.5*Math.exp(2*qe/3),Lt=.5*Math.sqrt(qe*yt*(Ee-yt)/Ee)*(Re-Ee/2<0?-1:1),It=Math.max(W,Math.floor(R-Re*yt/Ee+Lt)),Kt=Math.min(oe,Math.floor(R+(Ee-Re)*yt/Ee+Lt));cy(P,R,It,Kt,ye)}var ur=P[R],ar=W,Er=oe;for(wd(P,W,R),ye(P[oe],ur)>0&&wd(P,W,oe);ar<Er;){for(wd(P,ar,Er),ar++,Er--;ye(P[ar],ur)<0;)ar++;for(;ye(P[Er],ur)>0;)Er--}ye(P[W],ur)===0?wd(P,W,Er):(Er++,wd(P,Er,oe)),Er<=R&&(W=Er+1),R<=Er&&(oe=Er-1)}}function wd(P,R,W){var oe=P[R];P[R]=P[W],P[W]=oe}function Mx(P,R){return P<R?-1:P>R?1:0}function Tv(P,R){var W=P.length;if(W<=1)return[P];for(var oe=[],ye,Ee,Re=0;Re<W;Re++){var qe=V(P[Re]);qe!==0&&(P[Re].area=Math.abs(qe),Ee===void 0&&(Ee=qe<0),Ee===qe<0?(ye&&oe.push(ye),ye=[P[Re]]):ye.push(P[Re]))}if(ye&&oe.push(ye),R>1)for(var yt=0;yt<oe.length;yt++)oe[yt].length<=R||(Ax(oe[yt],R,1,oe[yt].length-1,Sx),oe[yt]=oe[yt].slice(0,R));return oe}function Sx(P,R){return R.area-P.area}function vp(P,R,W){for(var oe=W.patternDependencies,ye=!1,Ee=0,Re=R;Ee<Re.length;Ee+=1){var qe=Re[Ee],yt=qe.paint.get(P+"-pattern");yt.isConstant()||(ye=!0);var Lt=yt.constantOr(null);Lt&&(ye=!0,oe[Lt.to]=!0,oe[Lt.from]=!0)}return ye}function dp(P,R,W,oe,ye){for(var Ee=ye.patternDependencies,Re=0,qe=R;Re<qe.length;Re+=1){var yt=qe[Re],Lt=yt.paint.get(P+"-pattern"),It=Lt.value;if(It.kind!=="constant"){var Kt=It.evaluate({zoom:oe-1},W,{},ye.availableImages),ur=It.evaluate({zoom:oe},W,{},ye.availableImages),ar=It.evaluate({zoom:oe+1},W,{},ye.availableImages);Kt=Kt&&Kt.name?Kt.name:Kt,ur=ur&&ur.name?ur.name:ur,ar=ar&&ar.name?ar.name:ar,Ee[Kt]=!0,Ee[ur]=!0,Ee[ar]=!0,W.patterns[yt.id]={min:Kt,mid:ur,max:ar}}}return W}var I0=500,gf=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=R.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Yc,this.indexArray=new iu,this.indexArray2=new wh,this.programConfigurations=new Pa(R.layers,R.zoom),this.segments=new Vo,this.segments2=new Vo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};gf.prototype.populate=function(R,W,oe){this.hasPattern=vp("fill",this.layers,W);for(var ye=this.layers[0].layout.get("fill-sort-key"),Ee=[],Re=0,qe=R;Re<qe.length;Re+=1){var yt=qe[Re],Lt=yt.feature,It=yt.id,Kt=yt.index,ur=yt.sourceLayerIndex,ar=this.layers[0]._featureFilter.needGeometry,Er=oo(Lt,ar);if(this.layers[0]._featureFilter.filter(new za(this.zoom),Er,oe)){var jr=ye?ye.evaluate(Er,{},oe,W.availableImages):void 0,yn={id:It,properties:Lt.properties,type:Lt.type,sourceLayerIndex:ur,index:Kt,geometry:ar?Er.geometry:Li(Lt),patterns:{},sortKey:jr};Ee.push(yn)}}ye&&Ee.sort(function(ka,Na){return ka.sortKey-Na.sortKey});for(var hn=0,Vn=Ee;hn<Vn.length;hn+=1){var Cn=Vn[hn],Bn=Cn,Zn=Bn.geometry,aa=Bn.index,ga=Bn.sourceLayerIndex;if(this.hasPattern){var da=dp("fill",this.layers,Cn,this.zoom,W);this.patternFeatures.push(da)}else this.addFeature(Cn,Zn,aa,oe,{});var Va=R[aa].feature;W.featureIndex.insert(Va,Zn,aa,ga,this.index)}},gf.prototype.update=function(R,W,oe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,W,this.stateDependentLayers,oe)},gf.prototype.addFeatures=function(R,W,oe){for(var ye=0,Ee=this.patternFeatures;ye<Ee.length;ye+=1){var Re=Ee[ye];this.addFeature(Re,Re.geometry,Re.index,W,oe)}},gf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},gf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},gf.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,ux),this.indexBuffer=R.createIndexBuffer(this.indexArray),this.indexBuffer2=R.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(R),this.uploaded=!0},gf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},gf.prototype.addFeature=function(R,W,oe,ye,Ee){for(var Re=0,qe=Tv(W,I0);Re<qe.length;Re+=1){for(var yt=qe[Re],Lt=0,It=0,Kt=yt;It<Kt.length;It+=1){var ur=Kt[It];Lt+=ur.length}for(var ar=this.segments.prepareSegment(Lt,this.layoutVertexArray,this.indexArray),Er=ar.vertexLength,jr=[],yn=[],hn=0,Vn=yt;hn<Vn.length;hn+=1){var Cn=Vn[hn];if(Cn.length!==0){Cn!==yt[0]&&yn.push(jr.length/2);var Bn=this.segments2.prepareSegment(Cn.length,this.layoutVertexArray,this.indexArray2),Zn=Bn.vertexLength;this.layoutVertexArray.emplaceBack(Cn[0].x,Cn[0].y),this.indexArray2.emplaceBack(Zn+Cn.length-1,Zn),jr.push(Cn[0].x),jr.push(Cn[0].y);for(var aa=1;aa<Cn.length;aa++)this.layoutVertexArray.emplaceBack(Cn[aa].x,Cn[aa].y),this.indexArray2.emplaceBack(Zn+aa-1,Zn+aa),jr.push(Cn[aa].x),jr.push(Cn[aa].y);Bn.vertexLength+=Cn.length,Bn.primitiveLength+=Cn.length}}for(var ga=_0(jr,yn),da=0;da<ga.length;da+=3)this.indexArray.emplaceBack(Er+ga[da],Er+ga[da+1],Er+ga[da+2]);ar.vertexLength+=Lt,ar.primitiveLength+=ga.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,oe,Ee,ye)},Be("FillBucket",gf,{omit:["layers","patternFeatures"]});var hy=new zi({"fill-sort-key":new Ya(Cr.layout_fill["fill-sort-key"])}),vy=new zi({"fill-antialias":new ya(Cr.paint_fill["fill-antialias"]),"fill-opacity":new Ya(Cr.paint_fill["fill-opacity"]),"fill-color":new Ya(Cr.paint_fill["fill-color"]),"fill-outline-color":new Ya(Cr.paint_fill["fill-outline-color"]),"fill-translate":new ya(Cr.paint_fill["fill-translate"]),"fill-translate-anchor":new ya(Cr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Io(Cr.paint_fill["fill-pattern"])}),dy={paint:vy,layout:hy},Ex=function(P){function R(W){P.call(this,W,dy)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(oe,ye){P.prototype.recalculate.call(this,oe,ye);var Ee=this.paint._values["fill-outline-color"];Ee.value.kind==="constant"&&Ee.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},R.prototype.createBucket=function(oe){return new gf(oe)},R.prototype.queryRadius=function(){return Pu(this.paint.get("fill-translate"))},R.prototype.queryIntersectsFeature=function(oe,ye,Ee,Re,qe,yt,Lt){var It=Xf(oe,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),yt.angle,Lt);return Co(It,Re)},R.prototype.isTileClipped=function(){return!0},R}(zo),Cx=vo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Lx=Cx.members,Td=Jc;function Jc(P,R,W,oe,ye){this.properties={},this.extent=W,this.type=0,this._pbf=P,this._geometry=-1,this._keys=oe,this._values=ye,P.readFields(_x,this,R)}function _x(P,R,W){P==1?R.id=W.readVarint():P==2?Px(W,R):P==3?R.type=W.readVarint():P==4&&(R._geometry=W.pos)}function Px(P,R){for(var W=P.readVarint()+P.pos;P.pos<W;){var oe=R._keys[P.readVarint()],ye=R._values[P.readVarint()];R.properties[oe]=ye}}Jc.types=["Unknown","Point","LineString","Polygon"],Jc.prototype.loadGeometry=function(){var P=this._pbf;P.pos=this._geometry;for(var R=P.readVarint()+P.pos,W=1,oe=0,ye=0,Ee=0,Re=[],qe;P.pos<R;){if(oe<=0){var yt=P.readVarint();W=yt&7,oe=yt>>3}if(oe--,W===1||W===2)ye+=P.readSVarint(),Ee+=P.readSVarint(),W===1&&(qe&&Re.push(qe),qe=[]),qe.push(new r(ye,Ee));else if(W===7)qe&&qe.push(qe[0].clone());else throw new Error("unknown command "+W)}return qe&&Re.push(qe),Re},Jc.prototype.bbox=function(){var P=this._pbf;P.pos=this._geometry;for(var R=P.readVarint()+P.pos,W=1,oe=0,ye=0,Ee=0,Re=1/0,qe=-1/0,yt=1/0,Lt=-1/0;P.pos<R;){if(oe<=0){var It=P.readVarint();W=It&7,oe=It>>3}if(oe--,W===1||W===2)ye+=P.readSVarint(),Ee+=P.readSVarint(),ye<Re&&(Re=ye),ye>qe&&(qe=ye),Ee<yt&&(yt=Ee),Ee>Lt&&(Lt=Ee);else if(W!==7)throw new Error("unknown command "+W)}return[Re,yt,qe,Lt]},Jc.prototype.toGeoJSON=function(P,R,W){var oe=this.extent*Math.pow(2,W),ye=this.extent*P,Ee=this.extent*R,Re=this.loadGeometry(),qe=Jc.types[this.type],yt,Lt;function It(ar){for(var Er=0;Er<ar.length;Er++){var jr=ar[Er],yn=180-(jr.y+Ee)*360/oe;ar[Er]=[(jr.x+ye)*360/oe-180,360/Math.PI*Math.atan(Math.exp(yn*Math.PI/180))-90]}}switch(this.type){case 1:var Kt=[];for(yt=0;yt<Re.length;yt++)Kt[yt]=Re[yt][0];Re=Kt,It(Re);break;case 2:for(yt=0;yt<Re.length;yt++)It(Re[yt]);break;case 3:for(Re=k0(Re),yt=0;yt<Re.length;yt++)for(Lt=0;Lt<Re[yt].length;Lt++)It(Re[yt][Lt]);break}Re.length===1?Re=Re[0]:qe="Multi"+qe;var ur={type:"Feature",geometry:{type:qe,coordinates:Re},properties:this.properties};return"id"in this&&(ur.id=this.id),ur};function k0(P){var R=P.length;if(R<=1)return[P];for(var W=[],oe,ye,Ee=0;Ee<R;Ee++){var Re=py(P[Ee]);Re!==0&&(ye===void 0&&(ye=Re<0),ye===Re<0?(oe&&W.push(oe),oe=[P[Ee]]):oe.push(P[Ee]))}return oe&&W.push(oe),W}function py(P){for(var R=0,W=0,oe=P.length,ye=oe-1,Ee,Re;W<oe;ye=W++)Ee=P[W],Re=P[ye],R+=(Re.x-Ee.x)*(Ee.y+Re.y);return R}var gy=yy;function yy(P,R){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=P,this._keys=[],this._values=[],this._features=[],P.readFields(Rx,this,R),this.length=this._features.length}function Rx(P,R,W){P===15?R.version=W.readVarint():P===1?R.name=W.readString():P===5?R.extent=W.readVarint():P===2?R._features.push(W.pos):P===3?R._keys.push(W.readString()):P===4&&R._values.push(Dx(W))}function Dx(P){for(var R=null,W=P.readVarint()+P.pos;P.pos<W;){var oe=P.readVarint()>>3;R=oe===1?P.readString():oe===2?P.readFloat():oe===3?P.readDouble():oe===4?P.readVarint64():oe===5?P.readVarint():oe===6?P.readSVarint():oe===7?P.readBoolean():null}return R}yy.prototype.feature=function(P){if(P<0||P>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[P];var R=this._pbf.readVarint()+this._pbf.pos;return new Td(this._pbf,R,this.extent,this._keys,this._values)};var Ix=kx;function kx(P,R){this.layers=P.readFields(Ox,{},R)}function Ox(P,R,W){if(P===3){var oe=new gy(W,W.readVarint()+W.pos);oe.length&&(R[oe.name]=oe)}}var zx=Ix,Fx=Td,Nx=gy,Av={VectorTile:zx,VectorTileFeature:Fx,VectorTileLayer:Nx},Bx=Av.VectorTileFeature.types,Zf=500,O0=Math.pow(2,13);function Ad(P,R,W,oe,ye,Ee,Re,qe){P.emplaceBack(R,W,Math.floor(oe*O0)*2+Re,ye*O0*2,Ee*O0*2,Math.round(qe))}var cl=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=R.index,this.hasPattern=!1,this.layoutVertexArray=new Su,this.indexArray=new iu,this.programConfigurations=new Pa(R.layers,R.zoom),this.segments=new Vo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};cl.prototype.populate=function(R,W,oe){this.features=[],this.hasPattern=vp("fill-extrusion",this.layers,W);for(var ye=0,Ee=R;ye<Ee.length;ye+=1){var Re=Ee[ye],qe=Re.feature,yt=Re.id,Lt=Re.index,It=Re.sourceLayerIndex,Kt=this.layers[0]._featureFilter.needGeometry,ur=oo(qe,Kt);if(this.layers[0]._featureFilter.filter(new za(this.zoom),ur,oe)){var ar={id:yt,sourceLayerIndex:It,index:Lt,geometry:Kt?ur.geometry:Li(qe),properties:qe.properties,type:qe.type,patterns:{}};this.hasPattern?this.features.push(dp("fill-extrusion",this.layers,ar,this.zoom,W)):this.addFeature(ar,ar.geometry,Lt,oe,{}),W.featureIndex.insert(qe,ar.geometry,Lt,It,this.index,!0)}}},cl.prototype.addFeatures=function(R,W,oe){for(var ye=0,Ee=this.features;ye<Ee.length;ye+=1){var Re=Ee[ye],qe=Re.geometry;this.addFeature(Re,qe,Re.index,W,oe)}},cl.prototype.update=function(R,W,oe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,W,this.stateDependentLayers,oe)},cl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},cl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},cl.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,Lx),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},cl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},cl.prototype.addFeature=function(R,W,oe,ye,Ee){for(var Re=0,qe=Tv(W,Zf);Re<qe.length;Re+=1){for(var yt=qe[Re],Lt=0,It=0,Kt=yt;It<Kt.length;It+=1){var ur=Kt[It];Lt+=ur.length}for(var ar=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Er=0,jr=yt;Er<jr.length;Er+=1){var yn=jr[Er];if(yn.length!==0&&!Ux(yn))for(var hn=0,Vn=0;Vn<yn.length;Vn++){var Cn=yn[Vn];if(Vn>=1){var Bn=yn[Vn-1];if(!Ri(Cn,Bn)){ar.vertexLength+4>Vo.MAX_VERTEX_ARRAY_LENGTH&&(ar=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Zn=Cn.sub(Bn)._perp()._unit(),aa=Bn.dist(Cn);hn+aa>32768&&(hn=0),Ad(this.layoutVertexArray,Cn.x,Cn.y,Zn.x,Zn.y,0,0,hn),Ad(this.layoutVertexArray,Cn.x,Cn.y,Zn.x,Zn.y,0,1,hn),hn+=aa,Ad(this.layoutVertexArray,Bn.x,Bn.y,Zn.x,Zn.y,0,0,hn),Ad(this.layoutVertexArray,Bn.x,Bn.y,Zn.x,Zn.y,0,1,hn);var ga=ar.vertexLength;this.indexArray.emplaceBack(ga,ga+2,ga+1),this.indexArray.emplaceBack(ga+1,ga+2,ga+3),ar.vertexLength+=4,ar.primitiveLength+=2}}}}if(ar.vertexLength+Lt>Vo.MAX_VERTEX_ARRAY_LENGTH&&(ar=this.segments.prepareSegment(Lt,this.layoutVertexArray,this.indexArray)),Bx[R.type]==="Polygon"){for(var da=[],Va=[],ka=ar.vertexLength,Na=0,fi=yt;Na<fi.length;Na+=1){var Ha=fi[Na];if(Ha.length!==0){Ha!==yt[0]&&Va.push(da.length/2);for(var Wa=0;Wa<Ha.length;Wa++){var di=Ha[Wa];Ad(this.layoutVertexArray,di.x,di.y,0,0,1,1,0),da.push(di.x),da.push(di.y)}}}for(var oi=_0(da,Va),Wi=0;Wi<oi.length;Wi+=3)this.indexArray.emplaceBack(ka+oi[Wi],ka+oi[Wi+2],ka+oi[Wi+1]);ar.primitiveLength+=oi.length/3,ar.vertexLength+=Lt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,oe,Ee,ye)},Be("FillExtrusionBucket",cl,{omit:["layers","features"]});function Ri(P,R){return P.x===R.x&&(P.x<0||P.x>Ua)||P.y===R.y&&(P.y<0||P.y>Ua)}function Ux(P){return P.every(function(R){return R.x<0})||P.every(function(R){return R.x>Ua})||P.every(function(R){return R.y<0})||P.every(function(R){return R.y>Ua})}var su=new zi({"fill-extrusion-opacity":new ya(Cr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ya(Cr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ya(Cr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ya(Cr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Io(Cr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ya(Cr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ya(Cr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ya(Cr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),xs={paint:su},Vx=function(P){function R(W){P.call(this,W,xs)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(oe){return new cl(oe)},R.prototype.queryRadius=function(){return Pu(this.paint.get("fill-extrusion-translate"))},R.prototype.is3D=function(){return!0},R.prototype.queryIntersectsFeature=function(oe,ye,Ee,Re,qe,yt,Lt,It){var Kt=Xf(oe,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),yt.angle,Lt),ur=this.paint.get("fill-extrusion-height").evaluate(ye,Ee),ar=this.paint.get("fill-extrusion-base").evaluate(ye,Ee),Er=Wx(Kt,It,yt,0),jr=Gx(Re,ar,ur,It),yn=jr[0],hn=jr[1];return Hx(yn,hn,Er)},R}(zo);function yf(P,R){return P.x*R.x+P.y*R.y}function my(P,R){if(P.length===1){for(var W=0,oe=R[W++],ye;!ye||oe.equals(ye);)if(ye=R[W++],!ye)return 1/0;for(;W<R.length;W++){var Ee=R[W],Re=P[0],qe=ye.sub(oe),yt=Ee.sub(oe),Lt=Re.sub(oe),It=yf(qe,qe),Kt=yf(qe,yt),ur=yf(yt,yt),ar=yf(Lt,qe),Er=yf(Lt,yt),jr=It*ur-Kt*Kt,yn=(ur*ar-Kt*Er)/jr,hn=(It*Er-Kt*ar)/jr,Vn=1-yn-hn,Cn=oe.z*Vn+ye.z*yn+Ee.z*hn;if(isFinite(Cn))return Cn}return 1/0}else{for(var Bn=1/0,Zn=0,aa=R;Zn<aa.length;Zn+=1){var ga=aa[Zn];Bn=Math.min(Bn,ga.z)}return Bn}}function Hx(P,R,W){var oe=1/0;Co(W,R)&&(oe=my(W,R[0]));for(var ye=0;ye<R.length;ye++)for(var Ee=R[ye],Re=P[ye],qe=0;qe<Ee.length-1;qe++){var yt=Ee[qe],Lt=Ee[qe+1],It=Re[qe],Kt=Re[qe+1],ur=[yt,Lt,Kt,It,yt];ui(W,ur)&&(oe=Math.min(oe,my(W,ur)))}return oe===1/0?!1:oe}function Gx(P,R,W,oe){for(var ye=[],Ee=[],Re=oe[8]*R,qe=oe[9]*R,yt=oe[10]*R,Lt=oe[11]*R,It=oe[8]*W,Kt=oe[9]*W,ur=oe[10]*W,ar=oe[11]*W,Er=0,jr=P;Er<jr.length;Er+=1){for(var yn=jr[Er],hn=[],Vn=[],Cn=0,Bn=yn;Cn<Bn.length;Cn+=1){var Zn=Bn[Cn],aa=Zn.x,ga=Zn.y,da=oe[0]*aa+oe[4]*ga+oe[12],Va=oe[1]*aa+oe[5]*ga+oe[13],ka=oe[2]*aa+oe[6]*ga+oe[14],Na=oe[3]*aa+oe[7]*ga+oe[15],fi=da+Re,Ha=Va+qe,Wa=ka+yt,di=Na+Lt,oi=da+It,Wi=Va+Kt,fo=ka+ur,Yi=Na+ar,Xi=new r(fi/di,Ha/di);Xi.z=Wa/di,hn.push(Xi);var Ui=new r(oi/Yi,Wi/Yi);Ui.z=fo/Yi,Vn.push(Ui)}ye.push(hn),Ee.push(Vn)}return[ye,Ee]}function Wx(P,R,W,oe){for(var ye=[],Ee=0,Re=P;Ee<Re.length;Ee+=1){var qe=Re[Ee],yt=[qe.x,qe.y,oe,1];sp(yt,yt,R),ye.push(new r(yt[0]/yt[3],yt[1]/yt[3]))}return ye}var Yx=vo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),z0=Yx.members,Xx=vo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),$c=Xx.members,xy=Av.VectorTileFeature.types,Md=63,as=Math.cos(75/2*(Math.PI/180)),ps=15,by=20,Zx=15,wy=1/2,Ty=Math.pow(2,Zx-1)/wy,hl=function(R){var W=this;this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(oe){return oe.id}),this.index=R.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(oe){W.gradients[oe.id]={}}),this.layoutVertexArray=new Eu,this.layoutVertexArray2=new Xc,this.indexArray=new iu,this.programConfigurations=new Pa(R.layers,R.zoom),this.segments=new Vo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(oe){return oe.isStateDependent()}).map(function(oe){return oe.id})};hl.prototype.populate=function(R,W,oe){this.hasPattern=vp("line",this.layers,W);for(var ye=this.layers[0].layout.get("line-sort-key"),Ee=[],Re=0,qe=R;Re<qe.length;Re+=1){var yt=qe[Re],Lt=yt.feature,It=yt.id,Kt=yt.index,ur=yt.sourceLayerIndex,ar=this.layers[0]._featureFilter.needGeometry,Er=oo(Lt,ar);if(this.layers[0]._featureFilter.filter(new za(this.zoom),Er,oe)){var jr=ye?ye.evaluate(Er,{},oe):void 0,yn={id:It,properties:Lt.properties,type:Lt.type,sourceLayerIndex:ur,index:Kt,geometry:ar?Er.geometry:Li(Lt),patterns:{},sortKey:jr};Ee.push(yn)}}ye&&Ee.sort(function(ka,Na){return ka.sortKey-Na.sortKey});for(var hn=0,Vn=Ee;hn<Vn.length;hn+=1){var Cn=Vn[hn],Bn=Cn,Zn=Bn.geometry,aa=Bn.index,ga=Bn.sourceLayerIndex;if(this.hasPattern){var da=dp("line",this.layers,Cn,this.zoom,W);this.patternFeatures.push(da)}else this.addFeature(Cn,Zn,aa,oe,{});var Va=R[aa].feature;W.featureIndex.insert(Va,Zn,aa,ga,this.index)}},hl.prototype.update=function(R,W,oe){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,W,this.stateDependentLayers,oe)},hl.prototype.addFeatures=function(R,W,oe){for(var ye=0,Ee=this.patternFeatures;ye<Ee.length;ye+=1){var Re=Ee[ye];this.addFeature(Re,Re.geometry,Re.index,W,oe)}},hl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},hl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},hl.prototype.upload=function(R){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=R.createVertexBuffer(this.layoutVertexArray2,$c)),this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,z0),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},hl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},hl.prototype.lineFeatureClips=function(R){if(R.properties&&R.properties.hasOwnProperty("mapbox_clip_start")&&R.properties.hasOwnProperty("mapbox_clip_end")){var W=+R.properties.mapbox_clip_start,oe=+R.properties.mapbox_clip_end;return{start:W,end:oe}}},hl.prototype.addFeature=function(R,W,oe,ye,Ee){var Re=this.layers[0].layout,qe=Re.get("line-join").evaluate(R,{}),yt=Re.get("line-cap"),Lt=Re.get("line-miter-limit"),It=Re.get("line-round-limit");this.lineClips=this.lineFeatureClips(R);for(var Kt=0,ur=W;Kt<ur.length;Kt+=1){var ar=ur[Kt];this.addLine(ar,R,qe,yt,Lt,It)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,oe,Ee,ye)},hl.prototype.addLine=function(R,W,oe,ye,Ee,Re){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var qe=0;qe<R.length-1;qe++)this.totalDistance+=R[qe].dist(R[qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var yt=xy[W.type]==="Polygon",Lt=R.length;Lt>=2&&R[Lt-1].equals(R[Lt-2]);)Lt--;for(var It=0;It<Lt-1&&R[It].equals(R[It+1]);)It++;if(!(Lt<(yt?3:2))){oe==="bevel"&&(Ee=1.05);var Kt=this.overscaling<=16?ps*Ua/(512*this.overscaling):0,ur=this.segments.prepareSegment(Lt*10,this.layoutVertexArray,this.indexArray),ar,Er=void 0,jr=void 0,yn=void 0,hn=void 0;this.e1=this.e2=-1,yt&&(ar=R[Lt-2],hn=R[It].sub(ar)._unit()._perp());for(var Vn=It;Vn<Lt;Vn++)if(jr=Vn===Lt-1?yt?R[It+1]:void 0:R[Vn+1],!(jr&&R[Vn].equals(jr))){hn&&(yn=hn),ar&&(Er=ar),ar=R[Vn],hn=jr?jr.sub(ar)._unit()._perp():yn,yn=yn||hn;var Cn=yn.add(hn);(Cn.x!==0||Cn.y!==0)&&Cn._unit();var Bn=yn.x*hn.x+yn.y*hn.y,Zn=Cn.x*hn.x+Cn.y*hn.y,aa=Zn!==0?1/Zn:1/0,ga=2*Math.sqrt(2-2*Zn),da=Zn<as&&Er&&jr,Va=yn.x*hn.y-yn.y*hn.x>0;if(da&&Vn>It){var ka=ar.dist(Er);if(ka>2*Kt){var Na=ar.sub(ar.sub(Er)._mult(Kt/ka)._round());this.updateDistance(Er,Na),this.addCurrentVertex(Na,yn,0,0,ur),Er=Na}}var fi=Er&&jr,Ha=fi?oe:yt?"butt":ye;if(fi&&Ha==="round"&&(aa<Re?Ha="miter":aa<=2&&(Ha="fakeround")),Ha==="miter"&&aa>Ee&&(Ha="bevel"),Ha==="bevel"&&(aa>2&&(Ha="flipbevel"),aa<Ee&&(Ha="miter")),Er&&this.updateDistance(Er,ar),Ha==="miter")Cn._mult(aa),this.addCurrentVertex(ar,Cn,0,0,ur);else if(Ha==="flipbevel"){if(aa>100)Cn=hn.mult(-1);else{var Wa=aa*yn.add(hn).mag()/yn.sub(hn).mag();Cn._perp()._mult(Wa*(Va?-1:1))}this.addCurrentVertex(ar,Cn,0,0,ur),this.addCurrentVertex(ar,Cn.mult(-1),0,0,ur)}else if(Ha==="bevel"||Ha==="fakeround"){var di=-Math.sqrt(aa*aa-1),oi=Va?di:0,Wi=Va?0:di;if(Er&&this.addCurrentVertex(ar,yn,oi,Wi,ur),Ha==="fakeround")for(var fo=Math.round(ga*180/Math.PI/by),Yi=1;Yi<fo;Yi++){var Xi=Yi/fo;if(Xi!==.5){var Ui=Xi-.5,wo=1.0904+Bn*(-3.2452+Bn*(3.55645-Bn*1.43519)),Lo=.848013+Bn*(-1.06021+Bn*.215638);Xi=Xi+Xi*Ui*(Xi-1)*(wo*Ui*Ui+Lo)}var $o=hn.sub(yn)._mult(Xi)._add(yn)._unit()._mult(Va?-1:1);this.addHalfVertex(ar,$o.x,$o.y,!1,Va,0,ur)}jr&&this.addCurrentVertex(ar,hn,-oi,-Wi,ur)}else if(Ha==="butt")this.addCurrentVertex(ar,Cn,0,0,ur);else if(Ha==="square"){var ss=Er?1:-1;this.addCurrentVertex(ar,Cn,ss,ss,ur)}else Ha==="round"&&(Er&&(this.addCurrentVertex(ar,yn,0,0,ur),this.addCurrentVertex(ar,yn,1,1,ur,!0)),jr&&(this.addCurrentVertex(ar,hn,-1,-1,ur,!0),this.addCurrentVertex(ar,hn,0,0,ur)));if(da&&Vn<Lt-1){var Gs=ar.dist(jr);if(Gs>2*Kt){var Ts=ar.add(jr.sub(ar)._mult(Kt/Gs)._round());this.updateDistance(ar,Ts),this.addCurrentVertex(Ts,hn,0,0,ur),ar=Ts}}}}},hl.prototype.addCurrentVertex=function(R,W,oe,ye,Ee,Re){Re===void 0&&(Re=!1);var qe=W.x+W.y*oe,yt=W.y-W.x*oe,Lt=-W.x+W.y*ye,It=-W.y-W.x*ye;this.addHalfVertex(R,qe,yt,Re,!1,oe,Ee),this.addHalfVertex(R,Lt,It,Re,!0,-ye,Ee),this.distance>Ty/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(R,W,oe,ye,Ee,Re))},hl.prototype.addHalfVertex=function(R,W,oe,ye,Ee,Re,qe){var yt=R.x,Lt=R.y,It=this.lineClips?this.scaledDistance*(Ty-1):this.scaledDistance,Kt=It*wy;if(this.layoutVertexArray.emplaceBack((yt<<1)+(ye?1:0),(Lt<<1)+(Ee?1:0),Math.round(Md*W)+128,Math.round(Md*oe)+128,(Re===0?0:Re<0?-1:1)+1|(Kt&63)<<2,Kt>>6),this.lineClips){var ur=this.scaledDistance-this.lineClips.start,ar=this.lineClips.end-this.lineClips.start,Er=ur/ar;this.layoutVertexArray2.emplaceBack(Er,this.lineClipsArray.length)}var jr=qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,jr),qe.primitiveLength++),Ee?this.e2=jr:this.e1=jr},hl.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},hl.prototype.updateDistance=function(R,W){this.distance+=R.dist(W),this.updateScaledDistance()},Be("LineBucket",hl,{omit:["layers","patternFeatures"]});var jx=new zi({"line-cap":new ya(Cr.layout_line["line-cap"]),"line-join":new Ya(Cr.layout_line["line-join"]),"line-miter-limit":new ya(Cr.layout_line["line-miter-limit"]),"line-round-limit":new ya(Cr.layout_line["line-round-limit"]),"line-sort-key":new Ya(Cr.layout_line["line-sort-key"])}),Kx=new zi({"line-opacity":new Ya(Cr.paint_line["line-opacity"]),"line-color":new Ya(Cr.paint_line["line-color"]),"line-translate":new ya(Cr.paint_line["line-translate"]),"line-translate-anchor":new ya(Cr.paint_line["line-translate-anchor"]),"line-width":new Ya(Cr.paint_line["line-width"]),"line-gap-width":new Ya(Cr.paint_line["line-gap-width"]),"line-offset":new Ya(Cr.paint_line["line-offset"]),"line-blur":new Ya(Cr.paint_line["line-blur"]),"line-dasharray":new Ps(Cr.paint_line["line-dasharray"]),"line-pattern":new Io(Cr.paint_line["line-pattern"]),"line-gradient":new Ko(Cr.paint_line["line-gradient"])}),F0={paint:Kx,layout:jx},Sd=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(oe,ye){return ye=new za(Math.floor(ye.zoom),{now:ye.now,fadeDuration:ye.fadeDuration,zoomHistory:ye.zoomHistory,transition:ye.transition}),P.prototype.possiblyEvaluate.call(this,oe,ye)},R.prototype.evaluate=function(oe,ye,Ee,Re){return ye=x({},ye,{zoom:Math.floor(ye.zoom)}),P.prototype.evaluate.call(this,oe,ye,Ee,Re)},R}(Ya),pp=new Sd(F0.paint.properties["line-width"].specification);pp.useIntegerZoom=!0;var Jx=function(P){function R(W){P.call(this,W,F0),this.gradientVersion=0}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._handleSpecialPaintPropertyUpdate=function(oe){if(oe==="line-gradient"){var ye=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ye._styleExpression.expression instanceof rl,this.gradientVersion=(this.gradientVersion+1)%u}},R.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},R.prototype.recalculate=function(oe,ye){P.prototype.recalculate.call(this,oe,ye),this.paint._values["line-floorwidth"]=pp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,oe)},R.prototype.createBucket=function(oe){return new hl(oe)},R.prototype.queryRadius=function(oe){var ye=oe,Ee=N0(ul("line-width",this,ye),ul("line-gap-width",this,ye)),Re=ul("line-offset",this,ye);return Ee/2+Math.abs(Re)+Pu(this.paint.get("line-translate"))},R.prototype.queryIntersectsFeature=function(oe,ye,Ee,Re,qe,yt,Lt){var It=Xf(oe,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),yt.angle,Lt),Kt=Lt/2*N0(this.paint.get("line-width").evaluate(ye,Ee),this.paint.get("line-gap-width").evaluate(ye,Ee)),ur=this.paint.get("line-offset").evaluate(ye,Ee);return ur&&(Re=gp(Re,ur*Lt)),rs(It,Re,Kt)},R.prototype.isTileClipped=function(){return!0},R}(zo);function N0(P,R){return R>0?R+2*P:P}function gp(P,R){for(var W=[],oe=new r(0,0),ye=0;ye<P.length;ye++){for(var Ee=P[ye],Re=[],qe=0;qe<Ee.length;qe++){var yt=Ee[qe-1],Lt=Ee[qe],It=Ee[qe+1],Kt=qe===0?oe:Lt.sub(yt)._unit()._perp(),ur=qe===Ee.length-1?oe:It.sub(Lt)._unit()._perp(),ar=Kt._add(ur)._unit(),Er=ar.x*ur.x+ar.y*ur.y;ar._mult(1/Er),Re.push(ar._mult(R)._add(Lt))}W.push(Re)}return W}var Du=vo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Mv=vo([{name:"a_projected_pos",components:3,type:"Float32"}],4);vo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var $x=vo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);vo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Ay=vo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Qx=vo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);vo([{name:"triangle",components:3,type:"Uint16"}]),vo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),vo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),vo([{type:"Float32",name:"offsetX"}]),vo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function qx(P,R,W){var oe=R.layout.get("text-transform").evaluate(W,{});return oe==="uppercase"?P=P.toLocaleUpperCase():oe==="lowercase"&&(P=P.toLocaleLowerCase()),ca.applyArabicShaping&&(P=ca.applyArabicShaping(P)),P}function eb(P,R,W){return P.sections.forEach(function(oe){oe.text=qx(oe.text,R,W)}),P}function My(P){var R={},W={},oe=[],ye=0;function Ee(hn){oe.push(P[hn]),ye++}function Re(hn,Vn,Cn){var Bn=W[hn];return delete W[hn],W[Vn]=Bn,oe[Bn].geometry[0].pop(),oe[Bn].geometry[0]=oe[Bn].geometry[0].concat(Cn[0]),Bn}function qe(hn,Vn,Cn){var Bn=R[Vn];return delete R[Vn],R[hn]=Bn,oe[Bn].geometry[0].shift(),oe[Bn].geometry[0]=Cn[0].concat(oe[Bn].geometry[0]),Bn}function yt(hn,Vn,Cn){var Bn=Cn?Vn[0][Vn[0].length-1]:Vn[0][0];return hn+":"+Bn.x+":"+Bn.y}for(var Lt=0;Lt<P.length;Lt++){var It=P[Lt],Kt=It.geometry,ur=It.text?It.text.toString():null;if(!ur){Ee(Lt);continue}var ar=yt(ur,Kt),Er=yt(ur,Kt,!0);if(ar in W&&Er in R&&W[ar]!==R[Er]){var jr=qe(ar,Er,Kt),yn=Re(ar,Er,oe[jr].geometry);delete R[ar],delete W[Er],W[yt(ur,oe[yn].geometry,!0)]=yn,oe[jr].geometry=null}else ar in W?Re(ar,Er,Kt):Er in R?qe(ar,Er,Kt):(Ee(Lt),R[ar]=ye-1,W[Er]=ye-1)}return oe.filter(function(hn){return hn.geometry})}var Iu={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function Ni(P){for(var R="",W=0;W<P.length;W++){var oe=P.charCodeAt(W+1)||null,ye=P.charCodeAt(W-1)||null,Ee=(!oe||!Xr(oe)||Iu[P[W+1]])&&(!ye||!Xr(ye)||Iu[P[W-1]]);Ee&&Iu[P[W]]?R+=Iu[P[W]]:R+=P[W]}return R}var bs=24,mf=function(P,R,W,oe,ye){var Ee,Re,qe=ye*8-oe-1,yt=(1<<qe)-1,Lt=yt>>1,It=-7,Kt=W?ye-1:0,ur=W?-1:1,ar=P[R+Kt];for(Kt+=ur,Ee=ar&(1<<-It)-1,ar>>=-It,It+=qe;It>0;Ee=Ee*256+P[R+Kt],Kt+=ur,It-=8);for(Re=Ee&(1<<-It)-1,Ee>>=-It,It+=oe;It>0;Re=Re*256+P[R+Kt],Kt+=ur,It-=8);if(Ee===0)Ee=1-Lt;else{if(Ee===yt)return Re?NaN:(ar?-1:1)*(1/0);Re=Re+Math.pow(2,oe),Ee=Ee-Lt}return(ar?-1:1)*Re*Math.pow(2,Ee-oe)},Sy=function(P,R,W,oe,ye,Ee){var Re,qe,yt,Lt=Ee*8-ye-1,It=(1<<Lt)-1,Kt=It>>1,ur=ye===23?Math.pow(2,-24)-Math.pow(2,-77):0,ar=oe?0:Ee-1,Er=oe?1:-1,jr=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(qe=isNaN(R)?1:0,Re=It):(Re=Math.floor(Math.log(R)/Math.LN2),R*(yt=Math.pow(2,-Re))<1&&(Re--,yt*=2),Re+Kt>=1?R+=ur/yt:R+=ur*Math.pow(2,1-Kt),R*yt>=2&&(Re++,yt/=2),Re+Kt>=It?(qe=0,Re=It):Re+Kt>=1?(qe=(R*yt-1)*Math.pow(2,ye),Re=Re+Kt):(qe=R*Math.pow(2,Kt-1)*Math.pow(2,ye),Re=0));ye>=8;P[W+ar]=qe&255,ar+=Er,qe/=256,ye-=8);for(Re=Re<<ye|qe,Lt+=ye;Lt>0;P[W+ar]=Re&255,ar+=Er,Re/=256,Lt-=8);P[W+ar-Er]|=jr*128},yp={read:mf,write:Sy},so=po;function po(P){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(P)?P:new Uint8Array(P||0),this.pos=0,this.type=0,this.length=this.buf.length}po.Varint=0,po.Fixed64=1,po.Bytes=2,po.Fixed32=5;var mp=65536*65536,Ed=1/mp,tb=12,Ey=typeof TextDecoder>"u"?null:new TextDecoder("utf8");po.prototype={destroy:function(){this.buf=null},readFields:function(P,R,W){for(W=W||this.length;this.pos<W;){var oe=this.readVarint(),ye=oe>>3,Ee=this.pos;this.type=oe&7,P(ye,R,this),this.pos===Ee&&this.skip(oe)}return R},readMessage:function(P,R){return this.readFields(P,R,this.readVarint()+this.pos)},readFixed32:function(){var P=xp(this.buf,this.pos);return this.pos+=4,P},readSFixed32:function(){var P=Hl(this.buf,this.pos);return this.pos+=4,P},readFixed64:function(){var P=xp(this.buf,this.pos)+xp(this.buf,this.pos+4)*mp;return this.pos+=8,P},readSFixed64:function(){var P=xp(this.buf,this.pos)+Hl(this.buf,this.pos+4)*mp;return this.pos+=8,P},readFloat:function(){var P=yp.read(this.buf,this.pos,!0,23,4);return this.pos+=4,P},readDouble:function(){var P=yp.read(this.buf,this.pos,!0,52,8);return this.pos+=8,P},readVarint:function(P){var R=this.buf,W,oe;return oe=R[this.pos++],W=oe&127,oe<128||(oe=R[this.pos++],W|=(oe&127)<<7,oe<128)||(oe=R[this.pos++],W|=(oe&127)<<14,oe<128)||(oe=R[this.pos++],W|=(oe&127)<<21,oe<128)?W:(oe=R[this.pos],W|=(oe&15)<<28,rb(W,P,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var P=this.readVarint();return P%2===1?(P+1)/-2:P/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var P=this.readVarint()+this.pos,R=this.pos;return this.pos=P,P-R>=tb&&Ey?db(this.buf,R,P):vb(this.buf,R,P)},readBytes:function(){var P=this.readVarint()+this.pos,R=this.buf.subarray(this.pos,P);return this.pos=P,R},readPackedVarint:function(P,R){if(this.type!==po.Bytes)return P.push(this.readVarint(R));var W=Qc(this);for(P=P||[];this.pos<W;)P.push(this.readVarint(R));return P},readPackedSVarint:function(P){if(this.type!==po.Bytes)return P.push(this.readSVarint());var R=Qc(this);for(P=P||[];this.pos<R;)P.push(this.readSVarint());return P},readPackedBoolean:function(P){if(this.type!==po.Bytes)return P.push(this.readBoolean());var R=Qc(this);for(P=P||[];this.pos<R;)P.push(this.readBoolean());return P},readPackedFloat:function(P){if(this.type!==po.Bytes)return P.push(this.readFloat());var R=Qc(this);for(P=P||[];this.pos<R;)P.push(this.readFloat());return P},readPackedDouble:function(P){if(this.type!==po.Bytes)return P.push(this.readDouble());var R=Qc(this);for(P=P||[];this.pos<R;)P.push(this.readDouble());return P},readPackedFixed32:function(P){if(this.type!==po.Bytes)return P.push(this.readFixed32());var R=Qc(this);for(P=P||[];this.pos<R;)P.push(this.readFixed32());return P},readPackedSFixed32:function(P){if(this.type!==po.Bytes)return P.push(this.readSFixed32());var R=Qc(this);for(P=P||[];this.pos<R;)P.push(this.readSFixed32());return P},readPackedFixed64:function(P){if(this.type!==po.Bytes)return P.push(this.readFixed64());var R=Qc(this);for(P=P||[];this.pos<R;)P.push(this.readFixed64());return P},readPackedSFixed64:function(P){if(this.type!==po.Bytes)return P.push(this.readSFixed64());var R=Qc(this);for(P=P||[];this.pos<R;)P.push(this.readSFixed64());return P},skip:function(P){var R=P&7;if(R===po.Varint)for(;this.buf[this.pos++]>127;);else if(R===po.Bytes)this.pos=this.readVarint()+this.pos;else if(R===po.Fixed32)this.pos+=4;else if(R===po.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+R)},writeTag:function(P,R){this.writeVarint(P<<3|R)},realloc:function(P){for(var R=this.length||16;R<this.pos+P;)R*=2;if(R!==this.length){var W=new Uint8Array(R);W.set(this.buf),this.buf=W,this.length=R}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(P){this.realloc(4),is(this.buf,P,this.pos),this.pos+=4},writeSFixed32:function(P){this.realloc(4),is(this.buf,P,this.pos),this.pos+=4},writeFixed64:function(P){this.realloc(8),is(this.buf,P&-1,this.pos),is(this.buf,Math.floor(P*Ed),this.pos+4),this.pos+=8},writeSFixed64:function(P){this.realloc(8),is(this.buf,P&-1,this.pos),is(this.buf,Math.floor(P*Ed),this.pos+4),this.pos+=8},writeVarint:function(P){if(P=+P||0,P>268435455||P<0){nb(P,this);return}this.realloc(4),this.buf[this.pos++]=P&127|(P>127?128:0),!(P<=127)&&(this.buf[this.pos++]=(P>>>=7)&127|(P>127?128:0),!(P<=127)&&(this.buf[this.pos++]=(P>>>=7)&127|(P>127?128:0),!(P<=127)&&(this.buf[this.pos++]=P>>>7&127)))},writeSVarint:function(P){this.writeVarint(P<0?-P*2-1:P*2)},writeBoolean:function(P){this.writeVarint(!!P)},writeString:function(P){P=String(P),this.realloc(P.length*4),this.pos++;var R=this.pos;this.pos=pb(this.buf,P,this.pos);var W=this.pos-R;W>=128&&Cy(R,W,this),this.pos=R-1,this.writeVarint(W),this.pos+=W},writeFloat:function(P){this.realloc(4),yp.write(this.buf,P,this.pos,!0,23,4),this.pos+=4},writeDouble:function(P){this.realloc(8),yp.write(this.buf,P,this.pos,!0,52,8),this.pos+=8},writeBytes:function(P){var R=P.length;this.writeVarint(R),this.realloc(R);for(var W=0;W<R;W++)this.buf[this.pos++]=P[W]},writeRawMessage:function(P,R){this.pos++;var W=this.pos;P(R,this);var oe=this.pos-W;oe>=128&&Cy(W,oe,this),this.pos=W-1,this.writeVarint(oe),this.pos+=oe},writeMessage:function(P,R,W){this.writeTag(P,po.Bytes),this.writeRawMessage(R,W)},writePackedVarint:function(P,R){R.length&&this.writeMessage(P,ob,R)},writePackedSVarint:function(P,R){R.length&&this.writeMessage(P,sb,R)},writePackedBoolean:function(P,R){R.length&&this.writeMessage(P,B0,R)},writePackedFloat:function(P,R){R.length&&this.writeMessage(P,lb,R)},writePackedDouble:function(P,R){R.length&&this.writeMessage(P,ub,R)},writePackedFixed32:function(P,R){R.length&&this.writeMessage(P,fb,R)},writePackedSFixed32:function(P,R){R.length&&this.writeMessage(P,U0,R)},writePackedFixed64:function(P,R){R.length&&this.writeMessage(P,cb,R)},writePackedSFixed64:function(P,R){R.length&&this.writeMessage(P,hb,R)},writeBytesField:function(P,R){this.writeTag(P,po.Bytes),this.writeBytes(R)},writeFixed32Field:function(P,R){this.writeTag(P,po.Fixed32),this.writeFixed32(R)},writeSFixed32Field:function(P,R){this.writeTag(P,po.Fixed32),this.writeSFixed32(R)},writeFixed64Field:function(P,R){this.writeTag(P,po.Fixed64),this.writeFixed64(R)},writeSFixed64Field:function(P,R){this.writeTag(P,po.Fixed64),this.writeSFixed64(R)},writeVarintField:function(P,R){this.writeTag(P,po.Varint),this.writeVarint(R)},writeSVarintField:function(P,R){this.writeTag(P,po.Varint),this.writeSVarint(R)},writeStringField:function(P,R){this.writeTag(P,po.Bytes),this.writeString(R)},writeFloatField:function(P,R){this.writeTag(P,po.Fixed32),this.writeFloat(R)},writeDoubleField:function(P,R){this.writeTag(P,po.Fixed64),this.writeDouble(R)},writeBooleanField:function(P,R){this.writeVarintField(P,!!R)}};function rb(P,R,W){var oe=W.buf,ye,Ee;if(Ee=oe[W.pos++],ye=(Ee&112)>>4,Ee<128||(Ee=oe[W.pos++],ye|=(Ee&127)<<3,Ee<128)||(Ee=oe[W.pos++],ye|=(Ee&127)<<10,Ee<128)||(Ee=oe[W.pos++],ye|=(Ee&127)<<17,Ee<128)||(Ee=oe[W.pos++],ye|=(Ee&127)<<24,Ee<128)||(Ee=oe[W.pos++],ye|=(Ee&1)<<31,Ee<128))return Sv(P,ye,R);throw new Error("Expected varint not more than 10 bytes")}function Qc(P){return P.type===po.Bytes?P.readVarint()+P.pos:P.pos+1}function Sv(P,R,W){return W?R*4294967296+(P>>>0):(R>>>0)*4294967296+(P>>>0)}function nb(P,R){var W,oe;if(P>=0?(W=P%4294967296|0,oe=P/4294967296|0):(W=~(-P%4294967296),oe=~(-P/4294967296),W^4294967295?W=W+1|0:(W=0,oe=oe+1|0)),P>=18446744073709552e3||P<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");R.realloc(10),ab(W,oe,R),ib(oe,R)}function ab(P,R,W){W.buf[W.pos++]=P&127|128,P>>>=7,W.buf[W.pos++]=P&127|128,P>>>=7,W.buf[W.pos++]=P&127|128,P>>>=7,W.buf[W.pos++]=P&127|128,P>>>=7,W.buf[W.pos]=P&127}function ib(P,R){var W=(P&7)<<4;R.buf[R.pos++]|=W|((P>>>=3)?128:0),P&&(R.buf[R.pos++]=P&127|((P>>>=7)?128:0),P&&(R.buf[R.pos++]=P&127|((P>>>=7)?128:0),P&&(R.buf[R.pos++]=P&127|((P>>>=7)?128:0),P&&(R.buf[R.pos++]=P&127|((P>>>=7)?128:0),P&&(R.buf[R.pos++]=P&127)))))}function Cy(P,R,W){var oe=R<=16383?1:R<=2097151?2:R<=268435455?3:Math.floor(Math.log(R)/(Math.LN2*7));W.realloc(oe);for(var ye=W.pos-1;ye>=P;ye--)W.buf[ye+oe]=W.buf[ye]}function ob(P,R){for(var W=0;W<P.length;W++)R.writeVarint(P[W])}function sb(P,R){for(var W=0;W<P.length;W++)R.writeSVarint(P[W])}function lb(P,R){for(var W=0;W<P.length;W++)R.writeFloat(P[W])}function ub(P,R){for(var W=0;W<P.length;W++)R.writeDouble(P[W])}function B0(P,R){for(var W=0;W<P.length;W++)R.writeBoolean(P[W])}function fb(P,R){for(var W=0;W<P.length;W++)R.writeFixed32(P[W])}function U0(P,R){for(var W=0;W<P.length;W++)R.writeSFixed32(P[W])}function cb(P,R){for(var W=0;W<P.length;W++)R.writeFixed64(P[W])}function hb(P,R){for(var W=0;W<P.length;W++)R.writeSFixed64(P[W])}function xp(P,R){return(P[R]|P[R+1]<<8|P[R+2]<<16)+P[R+3]*16777216}function is(P,R,W){P[W]=R,P[W+1]=R>>>8,P[W+2]=R>>>16,P[W+3]=R>>>24}function Hl(P,R){return(P[R]|P[R+1]<<8|P[R+2]<<16)+(P[R+3]<<24)}function vb(P,R,W){for(var oe="",ye=R;ye<W;){var Ee=P[ye],Re=null,qe=Ee>239?4:Ee>223?3:Ee>191?2:1;if(ye+qe>W)break;var yt,Lt,It;qe===1?Ee<128&&(Re=Ee):qe===2?(yt=P[ye+1],(yt&192)===128&&(Re=(Ee&31)<<6|yt&63,Re<=127&&(Re=null))):qe===3?(yt=P[ye+1],Lt=P[ye+2],(yt&192)===128&&(Lt&192)===128&&(Re=(Ee&15)<<12|(yt&63)<<6|Lt&63,(Re<=2047||Re>=55296&&Re<=57343)&&(Re=null))):qe===4&&(yt=P[ye+1],Lt=P[ye+2],It=P[ye+3],(yt&192)===128&&(Lt&192)===128&&(It&192)===128&&(Re=(Ee&15)<<18|(yt&63)<<12|(Lt&63)<<6|It&63,(Re<=65535||Re>=1114112)&&(Re=null))),Re===null?(Re=65533,qe=1):Re>65535&&(Re-=65536,oe+=String.fromCharCode(Re>>>10&1023|55296),Re=56320|Re&1023),oe+=String.fromCharCode(Re),ye+=qe}return oe}function db(P,R,W){return Ey.decode(P.subarray(R,W))}function pb(P,R,W){for(var oe=0,ye,Ee;oe<R.length;oe++){if(ye=R.charCodeAt(oe),ye>55295&&ye<57344)if(Ee)if(ye<56320){P[W++]=239,P[W++]=191,P[W++]=189,Ee=ye;continue}else ye=Ee-55296<<10|ye-56320|65536,Ee=null;else{ye>56319||oe+1===R.length?(P[W++]=239,P[W++]=191,P[W++]=189):Ee=ye;continue}else Ee&&(P[W++]=239,P[W++]=191,P[W++]=189,Ee=null);ye<128?P[W++]=ye:(ye<2048?P[W++]=ye>>6|192:(ye<65536?P[W++]=ye>>12|224:(P[W++]=ye>>18|240,P[W++]=ye>>12&63|128),P[W++]=ye>>6&63|128),P[W++]=ye&63|128)}return W}var bp=3;function gb(P,R,W){P===1&&W.readMessage(yb,R)}function yb(P,R,W){if(P===3){var oe=W.readMessage(mb,{}),ye=oe.id,Ee=oe.bitmap,Re=oe.width,qe=oe.height,yt=oe.left,Lt=oe.top,It=oe.advance;R.push({id:ye,bitmap:new Zh({width:Re+2*bp,height:qe+2*bp},Ee),metrics:{width:Re,height:qe,left:yt,top:Lt,advance:It}})}}function mb(P,R,W){P===1?R.id=W.readVarint():P===2?R.bitmap=W.readBytes():P===3?R.width=W.readVarint():P===4?R.height=W.readVarint():P===5?R.left=W.readSVarint():P===6?R.top=W.readSVarint():P===7&&(R.advance=W.readVarint())}function Ly(P){return new so(P).readFields(gb,[])}var _y=bp;function Py(P){for(var R=0,W=0,oe=0,ye=P;oe<ye.length;oe+=1){var Ee=ye[oe];R+=Ee.w*Ee.h,W=Math.max(W,Ee.w)}P.sort(function(yn,hn){return hn.h-yn.h});for(var Re=Math.max(Math.ceil(Math.sqrt(R/.95)),W),qe=[{x:0,y:0,w:Re,h:1/0}],yt=0,Lt=0,It=0,Kt=P;It<Kt.length;It+=1)for(var ur=Kt[It],ar=qe.length-1;ar>=0;ar--){var Er=qe[ar];if(!(ur.w>Er.w||ur.h>Er.h)){if(ur.x=Er.x,ur.y=Er.y,Lt=Math.max(Lt,ur.y+ur.h),yt=Math.max(yt,ur.x+ur.w),ur.w===Er.w&&ur.h===Er.h){var jr=qe.pop();ar<qe.length&&(qe[ar]=jr)}else ur.h===Er.h?(Er.x+=ur.w,Er.w-=ur.w):ur.w===Er.w?(Er.y+=ur.h,Er.h-=ur.h):(qe.push({x:Er.x+ur.w,y:Er.y,w:Er.w-ur.w,h:ur.h}),Er.y+=ur.h,Er.h-=ur.h);break}}return{w:yt,h:Lt,fill:R/(yt*Lt)||0}}var Gl=1,Cd=function(R,W){var oe=W.pixelRatio,ye=W.version,Ee=W.stretchX,Re=W.stretchY,qe=W.content;this.paddedRect=R,this.pixelRatio=oe,this.stretchX=Ee,this.stretchY=Re,this.content=qe,this.version=ye},Ev={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ev.tl.get=function(){return[this.paddedRect.x+Gl,this.paddedRect.y+Gl]},Ev.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Gl,this.paddedRect.y+this.paddedRect.h-Gl]},Ev.tlbr.get=function(){return this.tl.concat(this.br)},Ev.displaySize.get=function(){return[(this.paddedRect.w-Gl*2)/this.pixelRatio,(this.paddedRect.h-Gl*2)/this.pixelRatio]},Object.defineProperties(Cd.prototype,Ev);var Ld=function(R,W){var oe={},ye={};this.haveRenderCallbacks=[];var Ee=[];this.addImages(R,oe,Ee),this.addImages(W,ye,Ee);var Re=Py(Ee),qe=Re.w,yt=Re.h,Lt=new Ll({width:qe||1,height:yt||1});for(var It in R){var Kt=R[It],ur=oe[It].paddedRect;Ll.copy(Kt.data,Lt,{x:0,y:0},{x:ur.x+Gl,y:ur.y+Gl},Kt.data)}for(var ar in W){var Er=W[ar],jr=ye[ar].paddedRect,yn=jr.x+Gl,hn=jr.y+Gl,Vn=Er.data.width,Cn=Er.data.height;Ll.copy(Er.data,Lt,{x:0,y:0},{x:yn,y:hn},Er.data),Ll.copy(Er.data,Lt,{x:0,y:Cn-1},{x:yn,y:hn-1},{width:Vn,height:1}),Ll.copy(Er.data,Lt,{x:0,y:0},{x:yn,y:hn+Cn},{width:Vn,height:1}),Ll.copy(Er.data,Lt,{x:Vn-1,y:0},{x:yn-1,y:hn},{width:1,height:Cn}),Ll.copy(Er.data,Lt,{x:0,y:0},{x:yn+Vn,y:hn},{width:1,height:Cn})}this.image=Lt,this.iconPositions=oe,this.patternPositions=ye};Ld.prototype.addImages=function(R,W,oe){for(var ye in R){var Ee=R[ye],Re={x:0,y:0,w:Ee.data.width+2*Gl,h:Ee.data.height+2*Gl};oe.push(Re),W[ye]=new Cd(Re,Ee),Ee.hasRenderCallback&&this.haveRenderCallbacks.push(ye)}},Ld.prototype.patchUpdatedImages=function(R,W){R.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var oe in R.updatedImages)this.patchUpdatedImage(this.iconPositions[oe],R.getImage(oe),W),this.patchUpdatedImage(this.patternPositions[oe],R.getImage(oe),W)},Ld.prototype.patchUpdatedImage=function(R,W,oe){if(!(!R||!W)&&R.version!==W.version){R.version=W.version;var ye=R.tl,Ee=ye[0],Re=ye[1];oe.update(W.data,void 0,{x:Ee,y:Re})}},Be("ImagePosition",Cd),Be("ImageAtlas",Ld);var lu={horizontal:1,vertical:2,horizontalOnly:3},_d=-17;function xb(P){for(var R=0,W=P;R<W.length;R+=1){var oe=W[R];if(oe.positionedGlyphs.length!==0)return!1}return!0}var jh=57344,Ry=63743,Cv=function(){this.scale=1,this.fontStack="",this.imageName=null};Cv.forText=function(R,W){var oe=new Cv;return oe.scale=R||1,oe.fontStack=W,oe},Cv.forImage=function(R){var W=new Cv;return W.imageName=R,W};var qs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};qs.fromFeature=function(R,W){for(var oe=new qs,ye=0;ye<R.sections.length;ye++){var Ee=R.sections[ye];Ee.image?oe.addImageSection(Ee):oe.addTextSection(Ee,W)}return oe},qs.prototype.length=function(){return this.text.length},qs.prototype.getSection=function(R){return this.sections[this.sectionIndex[R]]},qs.prototype.getSectionIndex=function(R){return this.sectionIndex[R]},qs.prototype.getCharCode=function(R){return this.text.charCodeAt(R)},qs.prototype.verticalizePunctuation=function(){this.text=Ni(this.text)},qs.prototype.trim=function(){for(var R=0,W=0;W<this.text.length&&jf[this.text.charCodeAt(W)];W++)R++;for(var oe=this.text.length,ye=this.text.length-1;ye>=0&&ye>=R&&jf[this.text.charCodeAt(ye)];ye--)oe--;this.text=this.text.substring(R,oe),this.sectionIndex=this.sectionIndex.slice(R,oe)},qs.prototype.substring=function(R,W){var oe=new qs;return oe.text=this.text.substring(R,W),oe.sectionIndex=this.sectionIndex.slice(R,W),oe.sections=this.sections,oe},qs.prototype.toString=function(){return this.text},qs.prototype.getMaxScale=function(){var R=this;return this.sectionIndex.reduce(function(W,oe){return Math.max(W,R.sections[oe].scale)},0)},qs.prototype.addTextSection=function(R,W){this.text+=R.text,this.sections.push(Cv.forText(R.scale,R.fontStack||W));for(var oe=this.sections.length-1,ye=0;ye<R.text.length;++ye)this.sectionIndex.push(oe)},qs.prototype.addImageSection=function(R){var W=R.image?R.image.name:"";if(W.length===0){N("Can't add FormattedSection with an empty image.");return}var oe=this.getNextImageSectionCharCode();if(!oe){N("Reached maximum number of images "+(Ry-jh+2));return}this.text+=String.fromCharCode(oe),this.sections.push(Cv.forImage(W)),this.sectionIndex.push(this.sections.length-1)},qs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Ry?null:++this.imageSectionID:(this.imageSectionID=jh,this.imageSectionID)};function bb(P,R){for(var W=[],oe=P.text,ye=0,Ee=0,Re=R;Ee<Re.length;Ee+=1){var qe=Re[Ee];W.push(P.substring(ye,qe)),ye=qe}return ye<oe.length&&W.push(P.substring(ye,oe.length)),W}function wp(P,R,W,oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er,jr){var yn=qs.fromFeature(P,ye);Kt===lu.vertical&&yn.verticalizePunctuation();var hn,Vn=ca.processBidirectionalText,Cn=ca.processStyledBidirectionalText;if(Vn&&yn.sections.length===1){hn=[];for(var Bn=Vn(yn.toString(),V0(yn,Lt,Ee,R,oe,ar,Er)),Zn=0,aa=Bn;Zn<aa.length;Zn+=1){var ga=aa[Zn],da=new qs;da.text=ga,da.sections=yn.sections;for(var Va=0;Va<ga.length;Va++)da.sectionIndex.push(0);hn.push(da)}}else if(Cn){hn=[];for(var ka=Cn(yn.text,yn.sectionIndex,V0(yn,Lt,Ee,R,oe,ar,Er)),Na=0,fi=ka;Na<fi.length;Na+=1){var Ha=fi[Na],Wa=new qs;Wa.text=Ha[0],Wa.sectionIndex=Ha[1],Wa.sections=yn.sections,hn.push(Wa)}}else hn=bb(yn,V0(yn,Lt,Ee,R,oe,ar,Er));var di=[],oi={positionedLines:di,text:yn.toString(),top:It[1],bottom:It[1],left:It[0],right:It[0],writingMode:Kt,iconsInText:!1,verticalizable:!1};return Ab(oi,R,W,oe,hn,Re,qe,yt,Kt,Lt,ur,jr),xb(di)?!1:oi}var jf={};jf[9]=!0,jf[10]=!0,jf[11]=!0,jf[12]=!0,jf[13]=!0,jf[32]=!0;var _l={};_l[10]=!0,_l[32]=!0,_l[38]=!0,_l[40]=!0,_l[41]=!0,_l[43]=!0,_l[45]=!0,_l[47]=!0,_l[173]=!0,_l[183]=!0,_l[8203]=!0,_l[8208]=!0,_l[8211]=!0,_l[8231]=!0;function Dy(P,R,W,oe,ye,Ee){if(R.imageName){var yt=oe[R.imageName];return yt?yt.displaySize[0]*R.scale*bs/Ee+ye:0}else{var Re=W[R.fontStack],qe=Re&&Re[P];return qe?qe.metrics.advance*R.scale+ye:0}}function wb(P,R,W,oe,ye,Ee){for(var Re=0,qe=0;qe<P.length();qe++){var yt=P.getSection(qe);Re+=Dy(P.getCharCode(qe),yt,oe,ye,R,Ee)}var Lt=Math.max(1,Math.ceil(Re/W));return Re/Lt}function Iy(P,R,W,oe){var ye=Math.pow(P-R,2);return oe?P<R?ye/2:ye*2:ye+Math.abs(W)*W}function Tb(P,R,W){var oe=0;return P===10&&(oe-=1e4),W&&(oe+=150),(P===40||P===65288)&&(oe+=50),(R===41||R===65289)&&(oe+=50),oe}function ky(P,R,W,oe,ye,Ee){for(var Re=null,qe=Iy(R,W,ye,Ee),yt=0,Lt=oe;yt<Lt.length;yt+=1){var It=Lt[yt],Kt=R-It.x,ur=Iy(Kt,W,ye,Ee)+It.badness;ur<=qe&&(Re=It,qe=ur)}return{index:P,x:R,priorBreak:Re,badness:qe}}function Oy(P){return P?Oy(P.priorBreak).concat(P.index):[]}function V0(P,R,W,oe,ye,Ee,Re){if(Ee!=="point")return[];if(!P)return[];for(var qe=[],yt=wb(P,R,W,oe,ye,Re),Lt=P.text.indexOf("")>=0,It=0,Kt=0;Kt<P.length();Kt++){var ur=P.getSection(Kt),ar=P.getCharCode(Kt);if(jf[ar]||(It+=Dy(ar,ur,oe,ye,R,Re)),Kt<P.length()-1){var Er=sn(ar);(_l[ar]||Er||ur.imageName)&&qe.push(ky(Kt+1,It,yt,qe,Tb(ar,P.getCharCode(Kt+1),Er&&Lt),!1))}}return Oy(ky(P.length(),It,yt,qe,0,!0))}function H0(P){var R=.5,W=.5;switch(P){case"right":case"top-right":case"bottom-right":R=1;break;case"left":case"top-left":case"bottom-left":R=0;break}switch(P){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0;break}return{horizontalAlign:R,verticalAlign:W}}function Ab(P,R,W,oe,ye,Ee,Re,qe,yt,Lt,It,Kt){for(var ur=0,ar=_d,Er=0,jr=0,yn=qe==="right"?1:qe==="left"?0:.5,hn=0,Vn=0,Cn=ye;Vn<Cn.length;Vn+=1){var Bn=Cn[Vn];Bn.trim();var Zn=Bn.getMaxScale(),aa=(Zn-1)*bs,ga={positionedGlyphs:[],lineOffset:0};P.positionedLines[hn]=ga;var da=ga.positionedGlyphs,Va=0;if(!Bn.length()){ar+=Ee,++hn;continue}for(var ka=0;ka<Bn.length();ka++){var Na=Bn.getSection(ka),fi=Bn.getSectionIndex(ka),Ha=Bn.getCharCode(ka),Wa=0,di=null,oi=null,Wi=null,fo=bs,Yi=!(yt===lu.horizontal||!It&&!vn(Ha)||It&&(jf[Ha]||an(Ha)));if(Na.imageName){var $o=oe[Na.imageName];if(!$o)continue;Wi=Na.imageName,P.iconsInText=P.iconsInText||!0,oi=$o.paddedRect;var ss=$o.displaySize;Na.scale=Na.scale*bs/Kt,di={width:ss[0],height:ss[1],left:Gl,top:-_y,advance:Yi?ss[1]:ss[0]};var Gs=bs-ss[1]*Na.scale;Wa=aa+Gs,fo=di.advance;var Ts=Yi?ss[0]*Na.scale-bs*Zn:ss[1]*Na.scale-bs*Zn;Ts>0&&Ts>Va&&(Va=Ts)}else{var Xi=W[Na.fontStack],Ui=Xi&&Xi[Ha];if(Ui&&Ui.rect)oi=Ui.rect,di=Ui.metrics;else{var wo=R[Na.fontStack],Lo=wo&&wo[Ha];if(!Lo)continue;di=Lo.metrics}Wa=(Zn-Na.scale)*bs}Yi?(P.verticalizable=!0,da.push({glyph:Ha,imageName:Wi,x:ur,y:ar+Wa,vertical:Yi,scale:Na.scale,fontStack:Na.fontStack,sectionIndex:fi,metrics:di,rect:oi}),ur+=fo*Na.scale+Lt):(da.push({glyph:Ha,imageName:Wi,x:ur,y:ar+Wa,vertical:Yi,scale:Na.scale,fontStack:Na.fontStack,sectionIndex:fi,metrics:di,rect:oi}),ur+=di.advance*Na.scale+Lt)}if(da.length!==0){var Rl=ur-Lt;Er=Math.max(Rl,Er),Mb(da,0,da.length-1,yn,Va)}ur=0;var Dl=Ee*Zn+Va;ga.lineOffset=Math.max(Va,aa),ar+=Dl,jr=Math.max(Dl,jr),++hn}var Ws=ar-_d,Wl=H0(Re),Yl=Wl.horizontalAlign,Is=Wl.verticalAlign;Sb(P.positionedLines,yn,Yl,Is,Er,jr,Ee,Ws,ye.length),P.top+=-Is*Ws,P.bottom=P.top+Ws,P.left+=-Yl*Er,P.right=P.left+Er}function Mb(P,R,W,oe,ye){if(!(!oe&&!ye))for(var Ee=P[W],Re=Ee.metrics.advance*Ee.scale,qe=(P[W].x+Re)*oe,yt=R;yt<=W;yt++)P[yt].x-=qe,P[yt].y+=ye}function Sb(P,R,W,oe,ye,Ee,Re,qe,yt){var Lt=(R-W)*ye,It=0;Ee!==Re?It=-qe*oe-_d:It=(-oe*yt+.5)*Re;for(var Kt=0,ur=P;Kt<ur.length;Kt+=1)for(var ar=ur[Kt],Er=0,jr=ar.positionedGlyphs;Er<jr.length;Er+=1){var yn=jr[Er];yn.x+=Lt,yn.y+=It}}function Eb(P,R,W){var oe=H0(W),ye=oe.horizontalAlign,Ee=oe.verticalAlign,Re=R[0],qe=R[1],yt=Re-P.displaySize[0]*ye,Lt=yt+P.displaySize[0],It=qe-P.displaySize[1]*Ee,Kt=It+P.displaySize[1];return{image:P,top:It,bottom:Kt,left:yt,right:Lt}}function zy(P,R,W,oe,ye,Ee){var Re=P.image,qe;if(Re.content){var yt=Re.content,Lt=Re.pixelRatio||1;qe=[yt[0]/Lt,yt[1]/Lt,Re.displaySize[0]-yt[2]/Lt,Re.displaySize[1]-yt[3]/Lt]}var It=R.left*Ee,Kt=R.right*Ee,ur,ar,Er,jr;W==="width"||W==="both"?(jr=ye[0]+It-oe[3],ar=ye[0]+Kt+oe[1]):(jr=ye[0]+(It+Kt-Re.displaySize[0])/2,ar=jr+Re.displaySize[0]);var yn=R.top*Ee,hn=R.bottom*Ee;return W==="height"||W==="both"?(ur=ye[1]+yn-oe[0],Er=ye[1]+hn+oe[2]):(ur=ye[1]+(yn+hn-Re.displaySize[1])/2,Er=ur+Re.displaySize[1]),{image:Re,top:ur,right:ar,bottom:Er,left:jr,collisionPadding:qe}}var Lv=function(P){function R(W,oe,ye,Ee){P.call(this,W,oe),this.angle=ye,Ee!==void 0&&(this.segment=Ee)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.clone=function(){return new R(this.x,this.y,this.angle,this.segment)},R}(r);Be("Anchor",Lv);var Kf=128;function G0(P,R){var W=R.expression;if(W.kind==="constant"){var oe=W.evaluate(new za(P+1));return{kind:"constant",layoutSize:oe}}else{if(W.kind==="source")return{kind:"source"};for(var ye=W.zoomStops,Ee=W.interpolationType,Re=0;Re<ye.length&&ye[Re]<=P;)Re++;Re=Math.max(0,Re-1);for(var qe=Re;qe<ye.length&&ye[qe]<P+1;)qe++;qe=Math.min(ye.length-1,qe);var yt=ye[Re],Lt=ye[qe];if(W.kind==="composite")return{kind:"composite",minZoom:yt,maxZoom:Lt,interpolationType:Ee};var It=W.evaluate(new za(yt)),Kt=W.evaluate(new za(Lt));return{kind:"camera",minZoom:yt,maxZoom:Lt,minSize:It,maxSize:Kt,interpolationType:Ee}}}function Fy(P,R,W){var oe=R.uSize,ye=R.uSizeT,Ee=W.lowerSize,Re=W.upperSize;return P.kind==="source"?Ee/Kf:P.kind==="composite"?no(Ee/Kf,Re/Kf,ye):oe}function Ny(P,R){var W=0,oe=0;if(P.kind==="constant")oe=P.layoutSize;else if(P.kind!=="source"){var ye=P.interpolationType,Ee=P.minZoom,Re=P.maxZoom,qe=ye?h(bo.interpolationFactor(ye,R,Ee,Re),0,1):0;P.kind==="camera"?oe=no(P.minSize,P.maxSize,qe):W=qe}return{uSizeT:W,uSize:oe}}var Cb=Object.freeze({__proto__:null,getSizeData:G0,evaluateSizeForFeature:Fy,evaluateSizeForZoom:Ny,SIZE_PACK_FACTOR:Kf});function By(P,R,W,oe,ye){if(R.segment===void 0)return!0;for(var Ee=R,Re=R.segment+1,qe=0;qe>-W/2;){if(Re--,Re<0)return!1;qe-=P[Re].dist(Ee),Ee=P[Re]}qe+=P[Re].dist(P[Re+1]),Re++;for(var yt=[],Lt=0;qe<W/2;){var It=P[Re-1],Kt=P[Re],ur=P[Re+1];if(!ur)return!1;var ar=It.angleTo(Kt)-Kt.angleTo(ur);for(ar=Math.abs((ar+3*Math.PI)%(Math.PI*2)-Math.PI),yt.push({distance:qe,angleDelta:ar}),Lt+=ar;qe-yt[0].distance>oe;)Lt-=yt.shift().angleDelta;if(Lt>ye)return!1;Re++,qe+=Kt.dist(ur)}return!0}function Uy(P){for(var R=0,W=0;W<P.length-1;W++)R+=P[W].dist(P[W+1]);return R}function Vy(P,R,W){return P?.6*R*W:0}function Hy(P,R){return Math.max(P?P.right-P.left:0,R?R.right-R.left:0)}function Lb(P,R,W,oe,ye,Ee){for(var Re=Vy(W,ye,Ee),qe=Hy(W,oe)*Ee,yt=0,Lt=Uy(P)/2,It=0;It<P.length-1;It++){var Kt=P[It],ur=P[It+1],ar=Kt.dist(ur);if(yt+ar>Lt){var Er=(Lt-yt)/ar,jr=no(Kt.x,ur.x,Er),yn=no(Kt.y,ur.y,Er),hn=new Lv(jr,yn,ur.angleTo(Kt),It);return hn._round(),!Re||By(P,hn,qe,Re,R)?hn:void 0}yt+=ar}}function _b(P,R,W,oe,ye,Ee,Re,qe,yt){var Lt=Vy(oe,Ee,Re),It=Hy(oe,ye),Kt=It*Re,ur=P[0].x===0||P[0].x===yt||P[0].y===0||P[0].y===yt;R-Kt<R/4&&(R=Kt+R/4);var ar=Ee*2,Er=ur?R/2*qe%R:(It/2+ar)*Re*qe%R;return Tp(P,Er,R,Lt,W,Kt,ur,!1,yt)}function Tp(P,R,W,oe,ye,Ee,Re,qe,yt){for(var Lt=Ee/2,It=Uy(P),Kt=0,ur=R-W,ar=[],Er=0;Er<P.length-1;Er++){for(var jr=P[Er],yn=P[Er+1],hn=jr.dist(yn),Vn=yn.angleTo(jr);ur+W<Kt+hn;){ur+=W;var Cn=(ur-Kt)/hn,Bn=no(jr.x,yn.x,Cn),Zn=no(jr.y,yn.y,Cn);if(Bn>=0&&Bn<yt&&Zn>=0&&Zn<yt&&ur-Lt>=0&&ur+Lt<=It){var aa=new Lv(Bn,Zn,Vn,Er);aa._round(),(!oe||By(P,aa,Ee,oe,ye))&&ar.push(aa)}}Kt+=hn}return!qe&&!ar.length&&!Re&&(ar=Tp(P,Kt/2,W,oe,ye,Ee,Re,!0,yt)),ar}function W0(P,R,W,oe,ye){for(var Ee=[],Re=0;Re<P.length;Re++)for(var qe=P[Re],yt=void 0,Lt=0;Lt<qe.length-1;Lt++){var It=qe[Lt],Kt=qe[Lt+1];It.x<R&&Kt.x<R||(It.x<R?It=new r(R,It.y+(Kt.y-It.y)*((R-It.x)/(Kt.x-It.x)))._round():Kt.x<R&&(Kt=new r(R,It.y+(Kt.y-It.y)*((R-It.x)/(Kt.x-It.x)))._round()),!(It.y<W&&Kt.y<W)&&(It.y<W?It=new r(It.x+(Kt.x-It.x)*((W-It.y)/(Kt.y-It.y)),W)._round():Kt.y<W&&(Kt=new r(It.x+(Kt.x-It.x)*((W-It.y)/(Kt.y-It.y)),W)._round()),!(It.x>=oe&&Kt.x>=oe)&&(It.x>=oe?It=new r(oe,It.y+(Kt.y-It.y)*((oe-It.x)/(Kt.x-It.x)))._round():Kt.x>=oe&&(Kt=new r(oe,It.y+(Kt.y-It.y)*((oe-It.x)/(Kt.x-It.x)))._round()),!(It.y>=ye&&Kt.y>=ye)&&(It.y>=ye?It=new r(It.x+(Kt.x-It.x)*((ye-It.y)/(Kt.y-It.y)),ye)._round():Kt.y>=ye&&(Kt=new r(It.x+(Kt.x-It.x)*((ye-It.y)/(Kt.y-It.y)),ye)._round()),(!yt||!It.equals(yt[yt.length-1]))&&(yt=[It],Ee.push(yt)),yt.push(Kt)))))}return Ee}var Kh=Gl;function Gy(P,R,W,oe){var ye=[],Ee=P.image,Re=Ee.pixelRatio,qe=Ee.paddedRect.w-2*Kh,yt=Ee.paddedRect.h-2*Kh,Lt=P.right-P.left,It=P.bottom-P.top,Kt=Ee.stretchX||[[0,qe]],ur=Ee.stretchY||[[0,yt]],ar=function(Xi,Ui){return Xi+Ui[1]-Ui[0]},Er=Kt.reduce(ar,0),jr=ur.reduce(ar,0),yn=qe-Er,hn=yt-jr,Vn=0,Cn=Er,Bn=0,Zn=jr,aa=0,ga=yn,da=0,Va=hn;if(Ee.content&&oe){var ka=Ee.content;Vn=Ap(Kt,0,ka[0]),Bn=Ap(ur,0,ka[1]),Cn=Ap(Kt,ka[0],ka[2]),Zn=Ap(ur,ka[1],ka[3]),aa=ka[0]-Vn,da=ka[1]-Bn,ga=ka[2]-ka[0]-Cn,Va=ka[3]-ka[1]-Zn}var Na=function(Xi,Ui,wo,Lo){var $o=_v(Xi.stretch-Vn,Cn,Lt,P.left),ss=Mp(Xi.fixed-aa,ga,Xi.stretch,Er),Gs=_v(Ui.stretch-Bn,Zn,It,P.top),Ts=Mp(Ui.fixed-da,Va,Ui.stretch,jr),Rl=_v(wo.stretch-Vn,Cn,Lt,P.left),Dl=Mp(wo.fixed-aa,ga,wo.stretch,Er),Ws=_v(Lo.stretch-Bn,Zn,It,P.top),Wl=Mp(Lo.fixed-da,Va,Lo.stretch,jr),Yl=new r($o,Gs),Is=new r(Rl,Gs),Xl=new r(Rl,Ws),xf=new r($o,Ws),Qh=new r(ss/Re,Ts/Re),zv=new r(Dl/Re,Wl/Re),Fv=R*Math.PI/180;if(Fv){var Nv=Math.sin(Fv),Lp=Math.cos(Fv),Tc=[Lp,-Nv,Nv,Lp];Yl._matMult(Tc),Is._matMult(Tc),xf._matMult(Tc),Xl._matMult(Tc)}var Jy=Xi.stretch+Xi.fixed,$b=wo.stretch+wo.fixed,$y=Ui.stretch+Ui.fixed,Qb=Lo.stretch+Lo.fixed,$f={x:Ee.paddedRect.x+Kh+Jy,y:Ee.paddedRect.y+Kh+$y,w:$b-Jy,h:Qb-$y},_p=ga/Re/Lt,Qy=Va/Re/It;return{tl:Yl,tr:Is,bl:xf,br:Xl,tex:$f,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Qh,pixelOffsetBR:zv,minFontScaleX:_p,minFontScaleY:Qy,isSDF:W}};if(!oe||!Ee.stretchX&&!Ee.stretchY)ye.push(Na({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:qe+1},{fixed:0,stretch:yt+1}));else for(var fi=Wy(Kt,yn,Er),Ha=Wy(ur,hn,jr),Wa=0;Wa<fi.length-1;Wa++)for(var di=fi[Wa],oi=fi[Wa+1],Wi=0;Wi<Ha.length-1;Wi++){var fo=Ha[Wi],Yi=Ha[Wi+1];ye.push(Na(di,fo,oi,Yi))}return ye}function Ap(P,R,W){for(var oe=0,ye=0,Ee=P;ye<Ee.length;ye+=1){var Re=Ee[ye];oe+=Math.max(R,Math.min(W,Re[1]))-Math.max(R,Math.min(W,Re[0]))}return oe}function Wy(P,R,W){for(var oe=[{fixed:-Kh,stretch:0}],ye=0,Ee=P;ye<Ee.length;ye+=1){var Re=Ee[ye],qe=Re[0],yt=Re[1],Lt=oe[oe.length-1];oe.push({fixed:qe-Lt.stretch,stretch:Lt.stretch}),oe.push({fixed:qe-Lt.stretch,stretch:Lt.stretch+(yt-qe)})}return oe.push({fixed:R+Kh,stretch:W}),oe}function _v(P,R,W,oe){return P/R*W+oe}function Mp(P,R,W,oe){return P-R*W/oe}function Pb(P,R,W,oe,ye,Ee,Re,qe){for(var yt=oe.layout.get("text-rotate").evaluate(Ee,{})*Math.PI/180,Lt=[],It=0,Kt=R.positionedLines;It<Kt.length;It+=1)for(var ur=Kt[It],ar=0,Er=ur.positionedGlyphs;ar<Er.length;ar+=1){var jr=Er[ar];if(jr.rect){var yn=jr.rect||{},hn=1,Vn=_y+hn,Cn=!0,Bn=1,Zn=0,aa=(ye||qe)&&jr.vertical,ga=jr.metrics.advance*jr.scale/2;if(qe&&R.verticalizable){var da=(jr.scale-1)*bs,Va=(bs-jr.metrics.width*jr.scale)/2;Zn=ur.lineOffset/2-(jr.imageName?-Va:da)}if(jr.imageName){var ka=Re[jr.imageName];Cn=ka.sdf,Bn=ka.pixelRatio,Vn=Gl/Bn}var Na=ye?[jr.x+ga,jr.y]:[0,0],fi=ye?[0,0]:[jr.x+ga+W[0],jr.y+W[1]-Zn],Ha=[0,0];aa&&(Ha=fi,fi=[0,0]);var Wa=(jr.metrics.left-Vn)*jr.scale-ga+fi[0],di=(-jr.metrics.top-Vn)*jr.scale+fi[1],oi=Wa+yn.w*jr.scale/Bn,Wi=di+yn.h*jr.scale/Bn,fo=new r(Wa,di),Yi=new r(oi,di),Xi=new r(Wa,Wi),Ui=new r(oi,Wi);if(aa){var wo=new r(-ga,ga-_d),Lo=-Math.PI/2,$o=bs/2-ga,ss=jr.imageName?$o:0,Gs=new r(5-_d-$o,-ss),Ts=new(Function.prototype.bind.apply(r,[null].concat(Ha)));fo._rotateAround(Lo,wo)._add(Gs)._add(Ts),Yi._rotateAround(Lo,wo)._add(Gs)._add(Ts),Xi._rotateAround(Lo,wo)._add(Gs)._add(Ts),Ui._rotateAround(Lo,wo)._add(Gs)._add(Ts)}if(yt){var Rl=Math.sin(yt),Dl=Math.cos(yt),Ws=[Dl,-Rl,Rl,Dl];fo._matMult(Ws),Yi._matMult(Ws),Xi._matMult(Ws),Ui._matMult(Ws)}var Wl=new r(0,0),Yl=new r(0,0),Is=0,Xl=0;Lt.push({tl:fo,tr:Yi,bl:Xi,br:Ui,tex:yn,writingMode:R.writingMode,glyphOffset:Na,sectionIndex:jr.sectionIndex,isSDF:Cn,pixelOffsetTL:Wl,pixelOffsetBR:Yl,minFontScaleX:Is,minFontScaleY:Xl})}}return Lt}var Sp=function(R,W,oe,ye,Ee,Re,qe,yt,Lt,It){if(this.boxStartIndex=R.length,Lt){var Kt=Re.top,ur=Re.bottom,ar=Re.collisionPadding;ar&&(Kt-=ar[1],ur+=ar[3]);var Er=ur-Kt;Er>0&&(Er=Math.max(10,Er),this.circleDiameter=Er)}else{var jr=Re.top*qe-yt,yn=Re.bottom*qe+yt,hn=Re.left*qe-yt,Vn=Re.right*qe+yt,Cn=Re.collisionPadding;if(Cn&&(hn-=Cn[0]*qe,jr-=Cn[1]*qe,Vn+=Cn[2]*qe,yn+=Cn[3]*qe),It){var Bn=new r(hn,jr),Zn=new r(Vn,jr),aa=new r(hn,yn),ga=new r(Vn,yn),da=It*Math.PI/180;Bn._rotate(da),Zn._rotate(da),aa._rotate(da),ga._rotate(da),hn=Math.min(Bn.x,Zn.x,aa.x,ga.x),Vn=Math.max(Bn.x,Zn.x,aa.x,ga.x),jr=Math.min(Bn.y,Zn.y,aa.y,ga.y),yn=Math.max(Bn.y,Zn.y,aa.y,ga.y)}R.emplaceBack(W.x,W.y,hn,jr,Vn,yn,oe,ye,Ee)}this.boxEndIndex=R.length},Vs=function(R,W){if(R===void 0&&(R=[]),W===void 0&&(W=Y0),this.data=R,this.length=this.data.length,this.compare=W,this.length>0)for(var oe=(this.length>>1)-1;oe>=0;oe--)this._down(oe)};Vs.prototype.push=function(R){this.data.push(R),this.length++,this._up(this.length-1)},Vs.prototype.pop=function(){if(this.length!==0){var R=this.data[0],W=this.data.pop();return this.length--,this.length>0&&(this.data[0]=W,this._down(0)),R}},Vs.prototype.peek=function(){return this.data[0]},Vs.prototype._up=function(R){for(var W=this,oe=W.data,ye=W.compare,Ee=oe[R];R>0;){var Re=R-1>>1,qe=oe[Re];if(ye(Ee,qe)>=0)break;oe[R]=qe,R=Re}oe[R]=Ee},Vs.prototype._down=function(R){for(var W=this,oe=W.data,ye=W.compare,Ee=this.length>>1,Re=oe[R];R<Ee;){var qe=(R<<1)+1,yt=oe[qe],Lt=qe+1;if(Lt<this.length&&ye(oe[Lt],yt)<0&&(qe=Lt,yt=oe[Lt]),ye(yt,Re)>=0)break;oe[R]=yt,R=qe}oe[R]=Re};function Y0(P,R){return P<R?-1:P>R?1:0}function Rb(P,R,W){R===void 0&&(R=1),W===void 0&&(W=!1);for(var oe=1/0,ye=1/0,Ee=-1/0,Re=-1/0,qe=P[0],yt=0;yt<qe.length;yt++){var Lt=qe[yt];(!yt||Lt.x<oe)&&(oe=Lt.x),(!yt||Lt.y<ye)&&(ye=Lt.y),(!yt||Lt.x>Ee)&&(Ee=Lt.x),(!yt||Lt.y>Re)&&(Re=Lt.y)}var It=Ee-oe,Kt=Re-ye,ur=Math.min(It,Kt),ar=ur/2,Er=new Vs([],Db);if(ur===0)return new r(oe,ye);for(var jr=oe;jr<Ee;jr+=ur)for(var yn=ye;yn<Re;yn+=ur)Er.push(new Pv(jr+ar,yn+ar,ar,P));for(var hn=X0(P),Vn=Er.length;Er.length;){var Cn=Er.pop();(Cn.d>hn.d||!hn.d)&&(hn=Cn,W&&console.log("found best %d after %d probes",Math.round(1e4*Cn.d)/1e4,Vn)),!(Cn.max-hn.d<=R)&&(ar=Cn.h/2,Er.push(new Pv(Cn.p.x-ar,Cn.p.y-ar,ar,P)),Er.push(new Pv(Cn.p.x+ar,Cn.p.y-ar,ar,P)),Er.push(new Pv(Cn.p.x-ar,Cn.p.y+ar,ar,P)),Er.push(new Pv(Cn.p.x+ar,Cn.p.y+ar,ar,P)),Vn+=4)}return W&&(console.log("num probes: "+Vn),console.log("best distance: "+hn.d)),hn.p}function Db(P,R){return R.max-P.max}function Pv(P,R,W,oe){this.p=new r(P,R),this.h=W,this.d=Ib(this.p,oe),this.max=this.d+this.h*Math.SQRT2}function Ib(P,R){for(var W=!1,oe=1/0,ye=0;ye<R.length;ye++)for(var Ee=R[ye],Re=0,qe=Ee.length,yt=qe-1;Re<qe;yt=Re++){var Lt=Ee[Re],It=Ee[yt];Lt.y>P.y!=It.y>P.y&&P.x<(It.x-Lt.x)*(P.y-Lt.y)/(It.y-Lt.y)+Lt.x&&(W=!W),oe=Math.min(oe,Kc(P,Lt,It))}return(W?1:-1)*Math.sqrt(oe)}function X0(P){for(var R=0,W=0,oe=0,ye=P[0],Ee=0,Re=ye.length,qe=Re-1;Ee<Re;qe=Ee++){var yt=ye[Ee],Lt=ye[qe],It=yt.x*Lt.y-Lt.x*yt.y;W+=(yt.x+Lt.x)*It,oe+=(yt.y+Lt.y)*It,R+=It*3}return new Pv(W/R,oe/R,0,P)}var Rv=7,Pd=Number.POSITIVE_INFINITY;function Yy(P,R){function W(ye,Ee){var Re=0,qe=0;Ee<0&&(Ee=0);var yt=Ee/Math.sqrt(2);switch(ye){case"top-right":case"top-left":qe=yt-Rv;break;case"bottom-right":case"bottom-left":qe=-yt+Rv;break;case"bottom":qe=-Ee+Rv;break;case"top":qe=Ee-Rv;break}switch(ye){case"top-right":case"bottom-right":Re=-yt;break;case"top-left":case"bottom-left":Re=yt;break;case"left":Re=Ee;break;case"right":Re=-Ee;break}return[Re,qe]}function oe(ye,Ee,Re){var qe=0,yt=0;switch(Ee=Math.abs(Ee),Re=Math.abs(Re),ye){case"top-right":case"top-left":case"top":yt=Re-Rv;break;case"bottom-right":case"bottom-left":case"bottom":yt=-Re+Rv;break}switch(ye){case"top-right":case"bottom-right":case"right":qe=-Ee;break;case"top-left":case"bottom-left":case"left":qe=Ee;break}return[qe,yt]}return R[1]!==Pd?oe(P,R[0],R[1]):W(P,R[0])}function kb(P,R,W,oe,ye,Ee,Re){P.createArrays();var qe=512*P.overscaling;P.tilePixelRatio=Ua/qe,P.compareText={},P.iconsNeedLinear=!1;var yt=P.layers[0].layout,Lt=P.layers[0]._unevaluatedLayout._values,It={};if(P.textSizeData.kind==="composite"){var Kt=P.textSizeData,ur=Kt.minZoom,ar=Kt.maxZoom;It.compositeTextSizes=[Lt["text-size"].possiblyEvaluate(new za(ur),Re),Lt["text-size"].possiblyEvaluate(new za(ar),Re)]}if(P.iconSizeData.kind==="composite"){var Er=P.iconSizeData,jr=Er.minZoom,yn=Er.maxZoom;It.compositeIconSizes=[Lt["icon-size"].possiblyEvaluate(new za(jr),Re),Lt["icon-size"].possiblyEvaluate(new za(yn),Re)]}It.layoutTextSize=Lt["text-size"].possiblyEvaluate(new za(P.zoom+1),Re),It.layoutIconSize=Lt["icon-size"].possiblyEvaluate(new za(P.zoom+1),Re),It.textMaxSize=Lt["text-size"].possiblyEvaluate(new za(18));for(var hn=yt.get("text-line-height")*bs,Vn=yt.get("text-rotation-alignment")==="map"&&yt.get("symbol-placement")!=="point",Cn=yt.get("text-keep-upright"),Bn=yt.get("text-size"),Zn=function(){var da=ga[aa],Va=yt.get("text-font").evaluate(da,{},Re).join(","),ka=Bn.evaluate(da,{},Re),Na=It.layoutTextSize.evaluate(da,{},Re),fi=It.layoutIconSize.evaluate(da,{},Re),Ha={horizontal:{},vertical:void 0},Wa=da.text,di=[0,0];if(Wa){var oi=Wa.toString(),Wi=yt.get("text-letter-spacing").evaluate(da,{},Re)*bs,fo=Ir(oi)?Wi:0,Yi=yt.get("text-anchor").evaluate(da,{},Re),Xi=yt.get("text-variable-anchor");if(!Xi){var Ui=yt.get("text-radial-offset").evaluate(da,{},Re);Ui?di=Yy(Yi,[Ui*bs,Pd]):di=yt.get("text-offset").evaluate(da,{},Re).map(function(Qh){return Qh*bs})}var wo=Vn?"center":yt.get("text-justify").evaluate(da,{},Re),Lo=yt.get("symbol-placement"),$o=Lo==="point"?yt.get("text-max-width").evaluate(da,{},Re)*bs:0,ss=function(){P.allowVerticalPlacement&&or(oi)&&(Ha.vertical=wp(Wa,R,W,ye,Va,$o,hn,Yi,"left",fo,di,lu.vertical,!0,Lo,Na,ka))};if(!Vn&&Xi){for(var Gs=wo==="auto"?Xi.map(function(Qh){return Z0(Qh)}):[wo],Ts=!1,Rl=0;Rl<Gs.length;Rl++){var Dl=Gs[Rl];if(!Ha.horizontal[Dl])if(Ts)Ha.horizontal[Dl]=Ha.horizontal[0];else{var Ws=wp(Wa,R,W,ye,Va,$o,hn,"center",Dl,fo,di,lu.horizontal,!1,Lo,Na,ka);Ws&&(Ha.horizontal[Dl]=Ws,Ts=Ws.positionedLines.length===1)}}ss()}else{wo==="auto"&&(wo=Z0(Yi));var Wl=wp(Wa,R,W,ye,Va,$o,hn,Yi,wo,fo,di,lu.horizontal,!1,Lo,Na,ka);Wl&&(Ha.horizontal[wo]=Wl),ss(),or(oi)&&Vn&&Cn&&(Ha.vertical=wp(Wa,R,W,ye,Va,$o,hn,Yi,wo,fo,di,lu.vertical,!1,Lo,Na,ka))}}var Yl=void 0,Is=!1;if(da.icon&&da.icon.name){var Xl=oe[da.icon.name];Xl&&(Yl=Eb(ye[da.icon.name],yt.get("icon-offset").evaluate(da,{},Re),yt.get("icon-anchor").evaluate(da,{},Re)),Is=Xl.sdf,P.sdfIcons===void 0?P.sdfIcons=Xl.sdf:P.sdfIcons!==Xl.sdf&&N("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Xl.pixelRatio!==P.pixelRatio||yt.get("icon-rotate").constantOr(1)!==0)&&(P.iconsNeedLinear=!0))}var xf=Zy(Ha.horizontal)||Ha.vertical;P.iconsInText=xf?xf.iconsInText:!1,(xf||Yl)&&Ob(P,da,Ha,Yl,oe,It,Na,fi,di,Is,Re)},aa=0,ga=P.features;aa<ga.length;aa+=1)Zn();Ee&&P.generateCollisionDebugBuffers()}function Z0(P){switch(P){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Ob(P,R,W,oe,ye,Ee,Re,qe,yt,Lt,It){var Kt=Ee.textMaxSize.evaluate(R,{});Kt===void 0&&(Kt=Re);var ur=P.layers[0].layout,ar=ur.get("icon-offset").evaluate(R,{},It),Er=Zy(W.horizontal),jr=24,yn=Re/jr,hn=P.tilePixelRatio*yn,Vn=P.tilePixelRatio*Kt/jr,Cn=P.tilePixelRatio*qe,Bn=P.tilePixelRatio*ur.get("symbol-spacing"),Zn=ur.get("text-padding")*P.tilePixelRatio,aa=ur.get("icon-padding")*P.tilePixelRatio,ga=ur.get("text-max-angle")/180*Math.PI,da=ur.get("text-rotation-alignment")==="map"&&ur.get("symbol-placement")!=="point",Va=ur.get("icon-rotation-alignment")==="map"&&ur.get("symbol-placement")!=="point",ka=ur.get("symbol-placement"),Na=Bn/2,fi=ur.get("icon-text-fit"),Ha;oe&&fi!=="none"&&(P.allowVerticalPlacement&&W.vertical&&(Ha=zy(oe,W.vertical,fi,ur.get("icon-text-fit-padding"),ar,yn)),Er&&(oe=zy(oe,Er,fi,ur.get("icon-text-fit-padding"),ar,yn)));var Wa=function(Lp,Tc){Tc.x<0||Tc.x>=Ua||Tc.y<0||Tc.y>=Ua||j0(P,Tc,Lp,W,oe,ye,Ha,P.layers[0],P.collisionBoxArray,R.index,R.sourceLayerIndex,P.index,hn,Zn,da,yt,Cn,aa,Va,ar,R,Ee,Lt,It,Re)};if(ka==="line")for(var di=0,oi=W0(R.geometry,0,0,Ua,Ua);di<oi.length;di+=1)for(var Wi=oi[di],fo=_b(Wi,Bn,ga,W.vertical||Er,oe,jr,Vn,P.overscaling,Ua),Yi=0,Xi=fo;Yi<Xi.length;Yi+=1){var Ui=Xi[Yi],wo=Er;(!wo||!K0(P,wo.text,Na,Ui))&&Wa(Wi,Ui)}else if(ka==="line-center")for(var Lo=0,$o=R.geometry;Lo<$o.length;Lo+=1){var ss=$o[Lo];if(ss.length>1){var Gs=Lb(ss,ga,W.vertical||Er,oe,jr,Vn);Gs&&Wa(ss,Gs)}}else if(R.type==="Polygon")for(var Ts=0,Rl=Tv(R.geometry,0);Ts<Rl.length;Ts+=1){var Dl=Rl[Ts],Ws=Rb(Dl,16);Wa(Dl[0],new Lv(Ws.x,Ws.y,0))}else if(R.type==="LineString")for(var Wl=0,Yl=R.geometry;Wl<Yl.length;Wl+=1){var Is=Yl[Wl];Wa(Is,new Lv(Is[0].x,Is[0].y,0))}else if(R.type==="Point")for(var Xl=0,xf=R.geometry;Xl<xf.length;Xl+=1)for(var Qh=xf[Xl],zv=0,Fv=Qh;zv<Fv.length;zv+=1){var Nv=Fv[zv];Wa([Nv],new Lv(Nv.x,Nv.y,0))}}var Dv=255,_h=Dv*Kf;function Xy(P,R,W,oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er){var jr=Pb(R,W,qe,ye,Ee,Re,oe,P.allowVerticalPlacement),yn=P.textSizeData,hn=null;yn.kind==="source"?(hn=[Kf*ye.layout.get("text-size").evaluate(Re,{})],hn[0]>_h&&N(P.layerIds[0]+': Value for "text-size" is >= '+Dv+'. Reduce your "text-size".')):yn.kind==="composite"&&(hn=[Kf*ar.compositeTextSizes[0].evaluate(Re,{},Er),Kf*ar.compositeTextSizes[1].evaluate(Re,{},Er)],(hn[0]>_h||hn[1]>_h)&&N(P.layerIds[0]+': Value for "text-size" is >= '+Dv+'. Reduce your "text-size".')),P.addSymbols(P.text,jr,hn,qe,Ee,Re,Lt,R,yt.lineStartIndex,yt.lineLength,ur,Er);for(var Vn=0,Cn=It;Vn<Cn.length;Vn+=1){var Bn=Cn[Vn];Kt[Bn]=P.text.placedSymbolArray.length-1}return jr.length*4}function Zy(P){for(var R in P)return P[R];return null}function j0(P,R,W,oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur,ar,Er,jr,yn,hn,Vn,Cn,Bn,Zn,aa,ga,da){var Va,ka=P.addToLineVertexArray(R,W),Na,fi,Ha,Wa,di=0,oi=0,Wi=0,fo=0,Yi=-1,Xi=-1,Ui={},wo=me(""),Lo=0,$o=0;if(qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Va=qe.layout.get("text-offset").evaluate(Bn,{},ga).map(function(q0){return q0*bs}),Lo=Va[0],$o=Va[1]):(Lo=qe.layout.get("text-radial-offset").evaluate(Bn,{},ga)*bs,$o=Pd),P.allowVerticalPlacement&&oe.vertical){var ss=qe.layout.get("text-rotate").evaluate(Bn,{},ga),Gs=ss+90,Ts=oe.vertical;Ha=new Sp(yt,R,Lt,It,Kt,Ts,ur,ar,Er,Gs),Re&&(Wa=new Sp(yt,R,Lt,It,Kt,Re,yn,hn,Er,Gs))}if(ye){var Rl=qe.layout.get("icon-rotate").evaluate(Bn,{}),Dl=qe.layout.get("icon-text-fit")!=="none",Ws=Gy(ye,Rl,aa,Dl),Wl=Re?Gy(Re,Rl,aa,Dl):void 0;fi=new Sp(yt,R,Lt,It,Kt,ye,yn,hn,!1,Rl),di=Ws.length*4;var Yl=P.iconSizeData,Is=null;Yl.kind==="source"?(Is=[Kf*qe.layout.get("icon-size").evaluate(Bn,{})],Is[0]>_h&&N(P.layerIds[0]+': Value for "icon-size" is >= '+Dv+'. Reduce your "icon-size".')):Yl.kind==="composite"&&(Is=[Kf*Zn.compositeIconSizes[0].evaluate(Bn,{},ga),Kf*Zn.compositeIconSizes[1].evaluate(Bn,{},ga)],(Is[0]>_h||Is[1]>_h)&&N(P.layerIds[0]+': Value for "icon-size" is >= '+Dv+'. Reduce your "icon-size".')),P.addSymbols(P.icon,Ws,Is,Cn,Vn,Bn,!1,R,ka.lineStartIndex,ka.lineLength,-1,ga),Yi=P.icon.placedSymbolArray.length-1,Wl&&(oi=Wl.length*4,P.addSymbols(P.icon,Wl,Is,Cn,Vn,Bn,lu.vertical,R,ka.lineStartIndex,ka.lineLength,-1,ga),Xi=P.icon.placedSymbolArray.length-1)}for(var Xl in oe.horizontal){var xf=oe.horizontal[Xl];if(!Na){wo=me(xf.text);var Qh=qe.layout.get("text-rotate").evaluate(Bn,{},ga);Na=new Sp(yt,R,Lt,It,Kt,xf,ur,ar,Er,Qh)}var zv=xf.positionedLines.length===1;if(Wi+=Xy(P,R,xf,Ee,qe,Er,Bn,jr,ka,oe.vertical?lu.horizontal:lu.horizontalOnly,zv?Object.keys(oe.horizontal):[Xl],Ui,Yi,Zn,ga),zv)break}oe.vertical&&(fo+=Xy(P,R,oe.vertical,Ee,qe,Er,Bn,jr,ka,lu.vertical,["vertical"],Ui,Xi,Zn,ga));var Fv=Na?Na.boxStartIndex:P.collisionBoxArray.length,Nv=Na?Na.boxEndIndex:P.collisionBoxArray.length,Lp=Ha?Ha.boxStartIndex:P.collisionBoxArray.length,Tc=Ha?Ha.boxEndIndex:P.collisionBoxArray.length,Jy=fi?fi.boxStartIndex:P.collisionBoxArray.length,$b=fi?fi.boxEndIndex:P.collisionBoxArray.length,$y=Wa?Wa.boxStartIndex:P.collisionBoxArray.length,Qb=Wa?Wa.boxEndIndex:P.collisionBoxArray.length,$f=-1,_p=function(q0,U2){return q0&&q0.circleDiameter?Math.max(q0.circleDiameter,U2):U2};$f=_p(Na,$f),$f=_p(Ha,$f),$f=_p(fi,$f),$f=_p(Wa,$f);var Qy=$f>-1?1:0;Qy&&($f*=da/bs),P.glyphOffsetArray.length>=io.MAX_GLYPHS&&N("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Bn.sortKey!==void 0&&P.addToSortKeyRanges(P.symbolInstances.length,Bn.sortKey),P.symbolInstances.emplaceBack(R.x,R.y,Ui.right>=0?Ui.right:-1,Ui.center>=0?Ui.center:-1,Ui.left>=0?Ui.left:-1,Ui.vertical||-1,Yi,Xi,wo,Fv,Nv,Lp,Tc,Jy,$b,$y,Qb,Lt,Wi,fo,di,oi,Qy,0,ur,Lo,$o,$f)}function K0(P,R,W,oe){var ye=P.compareText;if(!(R in ye))ye[R]=[];else for(var Ee=ye[R],Re=Ee.length-1;Re>=0;Re--)if(oe.dist(Ee[Re])<W)return!0;return ye[R].push(oe),!1}var zb=Av.VectorTileFeature.types,Fb=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ep(P,R,W,oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur){var ar=qe?Math.min(_h,Math.round(qe[0])):0,Er=qe?Math.min(_h,Math.round(qe[1])):0;P.emplaceBack(R,W,Math.round(oe*32),Math.round(ye*32),Ee,Re,(ar<<1)+(yt?1:0),Er,Lt*16,It*16,Kt*256,ur*256)}function J0(P,R,W){P.emplaceBack(R.x,R.y,W),P.emplaceBack(R.x,R.y,W),P.emplaceBack(R.x,R.y,W),P.emplaceBack(R.x,R.y,W)}function Nb(P){for(var R=0,W=P.sections;R<W.length;R+=1){var oe=W[R];if(fn(oe.text))return!0}return!1}var Iv=function(R){this.layoutVertexArray=new gc,this.indexArray=new iu,this.programConfigurations=R,this.segments=new Vo,this.dynamicLayoutVertexArray=new vv,this.opacityVertexArray=new yc,this.placedSymbolArray=new Cu};Iv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Iv.prototype.upload=function(R,W,oe,ye){this.isEmpty()||(oe&&(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,Du.members),this.indexBuffer=R.createIndexBuffer(this.indexArray,W),this.dynamicLayoutVertexBuffer=R.createVertexBuffer(this.dynamicLayoutVertexArray,Mv.members,!0),this.opacityVertexBuffer=R.createVertexBuffer(this.opacityVertexArray,Fb,!0),this.opacityVertexBuffer.itemSize=1),(oe||ye)&&this.programConfigurations.upload(R))},Iv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Be("SymbolBuffers",Iv);var Rd=function(R,W,oe){this.layoutVertexArray=new R,this.layoutAttributes=W,this.indexArray=new oe,this.segments=new Vo,this.collisionVertexArray=new sl};Rd.prototype.upload=function(R){this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=R.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=R.createVertexBuffer(this.collisionVertexArray,$x.members,!0)},Rd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Be("CollisionBuffers",Rd);var io=function(R){this.collisionBoxArray=R.collisionBoxArray,this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(yt){return yt.id}),this.index=R.index,this.pixelRatio=R.pixelRatio,this.sourceLayerIndex=R.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=xv([]),this.placementViewportMatrix=xv([]);var W=this.layers[0],oe=W._unevaluatedLayout._values;this.textSizeData=G0(this.zoom,oe["text-size"]),this.iconSizeData=G0(this.zoom,oe["icon-size"]);var ye=this.layers[0].layout,Ee=ye.get("symbol-sort-key"),Re=ye.get("symbol-z-order");this.canOverlap=ye.get("text-allow-overlap")||ye.get("icon-allow-overlap")||ye.get("text-ignore-placement")||ye.get("icon-ignore-placement"),this.sortFeaturesByKey=Re!=="viewport-y"&&Ee.constantOr(1)!==void 0;var qe=Re==="viewport-y"||Re==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=qe&&this.canOverlap,ye.get("symbol-placement")==="point"&&(this.writingModes=ye.get("text-writing-mode").map(function(yt){return lu[yt]})),this.stateDependentLayerIds=this.layers.filter(function(yt){return yt.isStateDependent()}).map(function(yt){return yt.id}),this.sourceID=R.sourceID};io.prototype.createArrays=function(){this.text=new Iv(new Pa(this.layers,this.zoom,function(R){return/^text/.test(R)})),this.icon=new Iv(new Pa(this.layers,this.zoom,function(R){return/^icon/.test(R)})),this.glyphOffsetArray=new ap,this.lineVertexArray=new ou,this.symbolInstances=new pd},io.prototype.calculateGlyphDependencies=function(R,W,oe,ye,Ee){for(var Re=0;Re<R.length;Re++)if(W[R.charCodeAt(Re)]=!0,(oe||ye)&&Ee){var qe=Iu[R.charAt(Re)];qe&&(W[qe.charCodeAt(0)]=!0)}},io.prototype.populate=function(R,W,oe){var ye=this.layers[0],Ee=ye.layout,Re=Ee.get("text-font"),qe=Ee.get("text-field"),yt=Ee.get("icon-image"),Lt=(qe.value.kind!=="constant"||qe.value.value instanceof No&&!qe.value.value.isEmpty()||qe.value.value.toString().length>0)&&(Re.value.kind!=="constant"||Re.value.value.length>0),It=yt.value.kind!=="constant"||!!yt.value.value||Object.keys(yt.parameters).length>0,Kt=Ee.get("symbol-sort-key");if(this.features=[],!(!Lt&&!It)){for(var ur=W.iconDependencies,ar=W.glyphDependencies,Er=W.availableImages,jr=new za(this.zoom),yn=0,hn=R;yn<hn.length;yn+=1){var Vn=hn[yn],Cn=Vn.feature,Bn=Vn.id,Zn=Vn.index,aa=Vn.sourceLayerIndex,ga=ye._featureFilter.needGeometry,da=oo(Cn,ga);if(ye._featureFilter.filter(jr,da,oe)){ga||(da.geometry=Li(Cn));var Va=void 0;if(Lt){var ka=ye.getValueAndResolveTokens("text-field",da,oe,Er),Na=No.factory(ka);Nb(Na)&&(this.hasRTLText=!0),(!this.hasRTLText||ti()==="unavailable"||this.hasRTLText&&ca.isParsed())&&(Va=eb(Na,ye,da))}var fi=void 0;if(It){var Ha=ye.getValueAndResolveTokens("icon-image",da,oe,Er);Ha instanceof hs?fi=Ha:fi=hs.fromString(Ha)}if(!(!Va&&!fi)){var Wa=this.sortFeaturesByKey?Kt.evaluate(da,{},oe):void 0,di={id:Bn,text:Va,icon:fi,index:Zn,sourceLayerIndex:aa,geometry:da.geometry,properties:Cn.properties,type:zb[Cn.type],sortKey:Wa};if(this.features.push(di),fi&&(ur[fi.name]=!0),Va){var oi=Re.evaluate(da,{},oe).join(","),Wi=Ee.get("text-rotation-alignment")==="map"&&Ee.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(lu.vertical)>=0;for(var fo=0,Yi=Va.sections;fo<Yi.length;fo+=1){var Xi=Yi[fo];if(Xi.image)ur[Xi.image.name]=!0;else{var Ui=or(Va.toString()),wo=Xi.fontStack||oi,Lo=ar[wo]=ar[wo]||{};this.calculateGlyphDependencies(Xi.text,Lo,Wi,this.allowVerticalPlacement,Ui)}}}}}}Ee.get("symbol-placement")==="line"&&(this.features=My(this.features)),this.sortFeaturesByKey&&this.features.sort(function($o,ss){return $o.sortKey-ss.sortKey})}},io.prototype.update=function(R,W,oe){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(R,W,this.layers,oe),this.icon.programConfigurations.updatePaintArrays(R,W,this.layers,oe))},io.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},io.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},io.prototype.upload=function(R){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(R),this.iconCollisionBox.upload(R)),this.text.upload(R,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(R,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},io.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},io.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},io.prototype.addToLineVertexArray=function(R,W){var oe=this.lineVertexArray.length;if(R.segment!==void 0){for(var ye=R.dist(W[R.segment+1]),Ee=R.dist(W[R.segment]),Re={},qe=R.segment+1;qe<W.length;qe++)Re[qe]={x:W[qe].x,y:W[qe].y,tileUnitDistanceFromAnchor:ye},qe<W.length-1&&(ye+=W[qe+1].dist(W[qe]));for(var yt=R.segment||0;yt>=0;yt--)Re[yt]={x:W[yt].x,y:W[yt].y,tileUnitDistanceFromAnchor:Ee},yt>0&&(Ee+=W[yt-1].dist(W[yt]));for(var Lt=0;Lt<W.length;Lt++){var It=Re[Lt];this.lineVertexArray.emplaceBack(It.x,It.y,It.tileUnitDistanceFromAnchor)}}return{lineStartIndex:oe,lineLength:this.lineVertexArray.length-oe}},io.prototype.addSymbols=function(R,W,oe,ye,Ee,Re,qe,yt,Lt,It,Kt,ur){for(var ar=R.indexArray,Er=R.layoutVertexArray,jr=R.segments.prepareSegment(4*W.length,Er,ar,this.canOverlap?Re.sortKey:void 0),yn=this.glyphOffsetArray.length,hn=jr.vertexLength,Vn=this.allowVerticalPlacement&&qe===lu.vertical?Math.PI/2:0,Cn=Re.text&&Re.text.sections,Bn=0;Bn<W.length;Bn++){var Zn=W[Bn],aa=Zn.tl,ga=Zn.tr,da=Zn.bl,Va=Zn.br,ka=Zn.tex,Na=Zn.pixelOffsetTL,fi=Zn.pixelOffsetBR,Ha=Zn.minFontScaleX,Wa=Zn.minFontScaleY,di=Zn.glyphOffset,oi=Zn.isSDF,Wi=Zn.sectionIndex,fo=jr.vertexLength,Yi=di[1];Ep(Er,yt.x,yt.y,aa.x,Yi+aa.y,ka.x,ka.y,oe,oi,Na.x,Na.y,Ha,Wa),Ep(Er,yt.x,yt.y,ga.x,Yi+ga.y,ka.x+ka.w,ka.y,oe,oi,fi.x,Na.y,Ha,Wa),Ep(Er,yt.x,yt.y,da.x,Yi+da.y,ka.x,ka.y+ka.h,oe,oi,Na.x,fi.y,Ha,Wa),Ep(Er,yt.x,yt.y,Va.x,Yi+Va.y,ka.x+ka.w,ka.y+ka.h,oe,oi,fi.x,fi.y,Ha,Wa),J0(R.dynamicLayoutVertexArray,yt,Vn),ar.emplaceBack(fo,fo+1,fo+2),ar.emplaceBack(fo+1,fo+2,fo+3),jr.vertexLength+=4,jr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(di[0]),(Bn===W.length-1||Wi!==W[Bn+1].sectionIndex)&&R.programConfigurations.populatePaintArrays(Er.length,Re,Re.index,{},ur,Cn&&Cn[Wi])}R.placedSymbolArray.emplaceBack(yt.x,yt.y,yn,this.glyphOffsetArray.length-yn,hn,Lt,It,yt.segment,oe?oe[0]:0,oe?oe[1]:0,ye[0],ye[1],qe,0,!1,0,Kt)},io.prototype._addCollisionDebugVertex=function(R,W,oe,ye,Ee,Re){return W.emplaceBack(0,0),R.emplaceBack(oe.x,oe.y,ye,Ee,Math.round(Re.x),Math.round(Re.y))},io.prototype.addCollisionDebugVertices=function(R,W,oe,ye,Ee,Re,qe){var yt=Ee.segments.prepareSegment(4,Ee.layoutVertexArray,Ee.indexArray),Lt=yt.vertexLength,It=Ee.layoutVertexArray,Kt=Ee.collisionVertexArray,ur=qe.anchorX,ar=qe.anchorY;this._addCollisionDebugVertex(It,Kt,Re,ur,ar,new r(R,W)),this._addCollisionDebugVertex(It,Kt,Re,ur,ar,new r(oe,W)),this._addCollisionDebugVertex(It,Kt,Re,ur,ar,new r(oe,ye)),this._addCollisionDebugVertex(It,Kt,Re,ur,ar,new r(R,ye)),yt.vertexLength+=4;var Er=Ee.indexArray;Er.emplaceBack(Lt,Lt+1),Er.emplaceBack(Lt+1,Lt+2),Er.emplaceBack(Lt+2,Lt+3),Er.emplaceBack(Lt+3,Lt),yt.primitiveLength+=4},io.prototype.addDebugCollisionBoxes=function(R,W,oe,ye){for(var Ee=R;Ee<W;Ee++){var Re=this.collisionBoxArray.get(Ee),qe=Re.x1,yt=Re.y1,Lt=Re.x2,It=Re.y2;this.addCollisionDebugVertices(qe,yt,Lt,It,ye?this.textCollisionBox:this.iconCollisionBox,Re.anchorPoint,oe)}},io.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Rd(dv,Ay.members,wh),this.iconCollisionBox=new Rd(dv,Ay.members,wh);for(var R=0;R<this.symbolInstances.length;R++){var W=this.symbolInstances.get(R);this.addDebugCollisionBoxes(W.textBoxStartIndex,W.textBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.iconBoxStartIndex,W.iconBoxEndIndex,W,!1),this.addDebugCollisionBoxes(W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W,!1)}},io.prototype._deserializeCollisionBoxesForSymbol=function(R,W,oe,ye,Ee,Re,qe,yt,Lt){for(var It={},Kt=W;Kt<oe;Kt++){var ur=R.get(Kt);It.textBox={x1:ur.x1,y1:ur.y1,x2:ur.x2,y2:ur.y2,anchorPointX:ur.anchorPointX,anchorPointY:ur.anchorPointY},It.textFeatureIndex=ur.featureIndex;break}for(var ar=ye;ar<Ee;ar++){var Er=R.get(ar);It.verticalTextBox={x1:Er.x1,y1:Er.y1,x2:Er.x2,y2:Er.y2,anchorPointX:Er.anchorPointX,anchorPointY:Er.anchorPointY},It.verticalTextFeatureIndex=Er.featureIndex;break}for(var jr=Re;jr<qe;jr++){var yn=R.get(jr);It.iconBox={x1:yn.x1,y1:yn.y1,x2:yn.x2,y2:yn.y2,anchorPointX:yn.anchorPointX,anchorPointY:yn.anchorPointY},It.iconFeatureIndex=yn.featureIndex;break}for(var hn=yt;hn<Lt;hn++){var Vn=R.get(hn);It.verticalIconBox={x1:Vn.x1,y1:Vn.y1,x2:Vn.x2,y2:Vn.y2,anchorPointX:Vn.anchorPointX,anchorPointY:Vn.anchorPointY},It.verticalIconFeatureIndex=Vn.featureIndex;break}return It},io.prototype.deserializeCollisionBoxes=function(R){this.collisionArrays=[];for(var W=0;W<this.symbolInstances.length;W++){var oe=this.symbolInstances.get(W);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(R,oe.textBoxStartIndex,oe.textBoxEndIndex,oe.verticalTextBoxStartIndex,oe.verticalTextBoxEndIndex,oe.iconBoxStartIndex,oe.iconBoxEndIndex,oe.verticalIconBoxStartIndex,oe.verticalIconBoxEndIndex))}},io.prototype.hasTextData=function(){return this.text.segments.get().length>0},io.prototype.hasIconData=function(){return this.icon.segments.get().length>0},io.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},io.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},io.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},io.prototype.addIndicesForPlacedSymbol=function(R,W){for(var oe=R.placedSymbolArray.get(W),ye=oe.vertexStartIndex+oe.numGlyphs*4,Ee=oe.vertexStartIndex;Ee<ye;Ee+=4)R.indexArray.emplaceBack(Ee,Ee+1,Ee+2),R.indexArray.emplaceBack(Ee+1,Ee+2,Ee+3)},io.prototype.getSortedSymbolIndexes=function(R){if(this.sortedAngle===R&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var W=Math.sin(R),oe=Math.cos(R),ye=[],Ee=[],Re=[],qe=0;qe<this.symbolInstances.length;++qe){Re.push(qe);var yt=this.symbolInstances.get(qe);ye.push(Math.round(W*yt.anchorX+oe*yt.anchorY)|0),Ee.push(yt.featureIndex)}return Re.sort(function(Lt,It){return ye[Lt]-ye[It]||Ee[It]-Ee[Lt]}),Re},io.prototype.addToSortKeyRanges=function(R,W){var oe=this.sortKeyRanges[this.sortKeyRanges.length-1];oe&&oe.sortKey===W?oe.symbolInstanceEnd=R+1:this.sortKeyRanges.push({sortKey:W,symbolInstanceStart:R,symbolInstanceEnd:R+1})},io.prototype.sortFeatures=function(R){var W=this;if(this.sortFeaturesByY&&this.sortedAngle!==R&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(R),this.sortedAngle=R,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var oe=0,ye=this.symbolInstanceIndexes;oe<ye.length;oe+=1){var Ee=ye[oe],Re=this.symbolInstances.get(Ee);this.featureSortOrder.push(Re.featureIndex),[Re.rightJustifiedTextSymbolIndex,Re.centerJustifiedTextSymbolIndex,Re.leftJustifiedTextSymbolIndex].forEach(function(qe,yt,Lt){qe>=0&&Lt.indexOf(qe)===yt&&W.addIndicesForPlacedSymbol(W.text,qe)}),Re.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Re.verticalPlacedTextSymbolIndex),Re.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Re.placedIconSymbolIndex),Re.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Re.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Be("SymbolBucket",io,{omit:["layers","collisionBoxArray","features","compareText"]}),io.MAX_GLYPHS=65535,io.addDynamicAttributes=J0;function Bb(P,R){return R.replace(/{([^{}]+)}/g,function(W,oe){return oe in P?String(P[oe]):""})}var Ub=new zi({"symbol-placement":new ya(Cr.layout_symbol["symbol-placement"]),"symbol-spacing":new ya(Cr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ya(Cr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ya(Cr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ya(Cr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ya(Cr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ya(Cr.layout_symbol["icon-ignore-placement"]),"icon-optional":new ya(Cr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ya(Cr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ya(Cr.layout_symbol["icon-size"]),"icon-text-fit":new ya(Cr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ya(Cr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ya(Cr.layout_symbol["icon-image"]),"icon-rotate":new Ya(Cr.layout_symbol["icon-rotate"]),"icon-padding":new ya(Cr.layout_symbol["icon-padding"]),"icon-keep-upright":new ya(Cr.layout_symbol["icon-keep-upright"]),"icon-offset":new Ya(Cr.layout_symbol["icon-offset"]),"icon-anchor":new Ya(Cr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ya(Cr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ya(Cr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ya(Cr.layout_symbol["text-rotation-alignment"]),"text-field":new Ya(Cr.layout_symbol["text-field"]),"text-font":new Ya(Cr.layout_symbol["text-font"]),"text-size":new Ya(Cr.layout_symbol["text-size"]),"text-max-width":new Ya(Cr.layout_symbol["text-max-width"]),"text-line-height":new ya(Cr.layout_symbol["text-line-height"]),"text-letter-spacing":new Ya(Cr.layout_symbol["text-letter-spacing"]),"text-justify":new Ya(Cr.layout_symbol["text-justify"]),"text-radial-offset":new Ya(Cr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ya(Cr.layout_symbol["text-variable-anchor"]),"text-anchor":new Ya(Cr.layout_symbol["text-anchor"]),"text-max-angle":new ya(Cr.layout_symbol["text-max-angle"]),"text-writing-mode":new ya(Cr.layout_symbol["text-writing-mode"]),"text-rotate":new Ya(Cr.layout_symbol["text-rotate"]),"text-padding":new ya(Cr.layout_symbol["text-padding"]),"text-keep-upright":new ya(Cr.layout_symbol["text-keep-upright"]),"text-transform":new Ya(Cr.layout_symbol["text-transform"]),"text-offset":new Ya(Cr.layout_symbol["text-offset"]),"text-allow-overlap":new ya(Cr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ya(Cr.layout_symbol["text-ignore-placement"]),"text-optional":new ya(Cr.layout_symbol["text-optional"])}),Vb=new zi({"icon-opacity":new Ya(Cr.paint_symbol["icon-opacity"]),"icon-color":new Ya(Cr.paint_symbol["icon-color"]),"icon-halo-color":new Ya(Cr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ya(Cr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ya(Cr.paint_symbol["icon-halo-blur"]),"icon-translate":new ya(Cr.paint_symbol["icon-translate"]),"icon-translate-anchor":new ya(Cr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ya(Cr.paint_symbol["text-opacity"]),"text-color":new Ya(Cr.paint_symbol["text-color"],{runtimeType:Rn,getOverride:function(P){return P.textColor},hasOverride:function(P){return!!P.textColor}}),"text-halo-color":new Ya(Cr.paint_symbol["text-halo-color"]),"text-halo-width":new Ya(Cr.paint_symbol["text-halo-width"]),"text-halo-blur":new Ya(Cr.paint_symbol["text-halo-blur"]),"text-translate":new ya(Cr.paint_symbol["text-translate"]),"text-translate-anchor":new ya(Cr.paint_symbol["text-translate-anchor"])}),$0={paint:Vb,layout:Ub},kv=function(R){this.type=R.property.overrides?R.property.overrides.runtimeType:$r,this.defaultValue=R};kv.prototype.evaluate=function(R){if(R.formattedSection){var W=this.defaultValue.property.overrides;if(W&&W.hasOverride(R.formattedSection))return W.getOverride(R.formattedSection)}return R.feature&&R.featureState?this.defaultValue.evaluate(R.feature,R.featureState):this.defaultValue.property.specification.default},kv.prototype.eachChild=function(R){if(!this.defaultValue.isConstant()){var W=this.defaultValue.value;R(W._styleExpression.expression)}},kv.prototype.outputDefined=function(){return!1},kv.prototype.serialize=function(){return null},Be("FormatSectionOverride",kv,{omit:["defaultValue"]});var Hb=function(P){function R(W){P.call(this,W,$0)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(oe,ye){if(P.prototype.recalculate.call(this,oe,ye),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ee=this.layout.get("text-writing-mode");if(Ee){for(var Re=[],qe=0,yt=Ee;qe<yt.length;qe+=1){var Lt=yt[qe];Re.indexOf(Lt)<0&&Re.push(Lt)}this.layout._values["text-writing-mode"]=Re}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},R.prototype.getValueAndResolveTokens=function(oe,ye,Ee,Re){var qe=this.layout.get(oe).evaluate(ye,{},Ee,Re),yt=this._unevaluatedLayout._values[oe];return!yt.isDataDriven()&&!zf(yt.value)&&qe?Bb(ye.properties,qe):qe},R.prototype.createBucket=function(oe){return new io(oe)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype._setPaintOverrides=function(){for(var oe=0,ye=$0.paint.overridableProperties;oe<ye.length;oe+=1){var Ee=ye[oe];if(R.hasPaintOverride(this.layout,Ee)){var Re=this.paint.get(Ee),qe=new kv(Re),yt=new Cs(qe,Re.property.specification),Lt=null;Re.value.kind==="constant"||Re.value.kind==="source"?Lt=new to("source",yt):Lt=new Tl("composite",yt,Re.value.zoomStops,Re.value._interpolationType),this.paint._values[Ee]=new ro(Re.property,Lt,Re.parameters)}}},R.prototype._handleOverridablePaintPropertyUpdate=function(oe,ye,Ee){return!this.layout||ye.isDataDriven()||Ee.isDataDriven()?!1:R.hasPaintOverride(this.layout,oe)},R.hasPaintOverride=function(oe,ye){var Ee=oe.get("text-field"),Re=$0.paint.properties[ye],qe=!1,yt=function(Kt){for(var ur=0,ar=Kt;ur<ar.length;ur+=1){var Er=ar[ur];if(Re.overrides&&Re.overrides.hasOverride(Er)){qe=!0;return}}};if(Ee.value.kind==="constant"&&Ee.value.value instanceof No)yt(Ee.value.value.sections);else if(Ee.value.kind==="source"){var Lt=function(Kt){if(!qe)if(Kt instanceof Mo&&Ao(Kt.value)===_a){var ur=Kt.value;yt(ur.sections)}else Kt instanceof eo?yt(Kt.sections):Kt.eachChild(Lt)},It=Ee.value;It._styleExpression&&Lt(It._styleExpression.expression)}return qe},R}(zo),Gb=new zi({"background-color":new ya(Cr.paint_background["background-color"]),"background-pattern":new Ps(Cr.paint_background["background-pattern"]),"background-opacity":new ya(Cr.paint_background["background-opacity"])}),Wb={paint:Gb},Yb=function(P){function R(W){P.call(this,W,Wb)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R}(zo),Xb=new zi({"raster-opacity":new ya(Cr.paint_raster["raster-opacity"]),"raster-hue-rotate":new ya(Cr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ya(Cr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ya(Cr.paint_raster["raster-brightness-max"]),"raster-saturation":new ya(Cr.paint_raster["raster-saturation"]),"raster-contrast":new ya(Cr.paint_raster["raster-contrast"]),"raster-resampling":new ya(Cr.paint_raster["raster-resampling"]),"raster-fade-duration":new ya(Cr.paint_raster["raster-fade-duration"])}),Zb={paint:Xb},jb=function(P){function R(W){P.call(this,W,Zb)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R}(zo);function Kb(P){var R=[],W=P.id;return W===void 0&&R.push({message:"layers."+W+': missing required property "id"'}),P.render===void 0&&R.push({message:"layers."+W+': missing required method "render"'}),P.renderingMode&&P.renderingMode!=="2d"&&P.renderingMode!=="3d"&&R.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),R}var fe=function(P){function R(W){P.call(this,W,{}),this.implementation=W}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},R.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},R.prototype.recalculate=function(){},R.prototype.updateTransitions=function(){},R.prototype.hasTransition=function(){},R.prototype.serialize=function(){},R.prototype.onAdd=function(oe){this.implementation.onAdd&&this.implementation.onAdd(oe,oe.painter.context.gl)},R.prototype.onRemove=function(oe){this.implementation.onRemove&&this.implementation.onRemove(oe,oe.painter.context.gl)},R}(zo),Me={circle:rx,heatmap:ax,hillshade:sx,fill:Ex,"fill-extrusion":Vx,line:Jx,symbol:Hb,background:Yb,raster:jb};function rt(P){return P.type==="custom"?new fe(P):new Me[P.type](P)}var zt=i.HTMLImageElement,lr=i.HTMLCanvasElement,Or=i.HTMLVideoElement,un=i.ImageData,gn=i.ImageBitmap,In=function(R,W,oe,ye){this.context=R,this.format=oe,this.texture=R.gl.createTexture(),this.update(W,ye)};In.prototype.update=function(R,W,oe){var ye=R.width,Ee=R.height,Re=(!this.size||this.size[0]!==ye||this.size[1]!==Ee)&&!oe,qe=this,yt=qe.context,Lt=yt.gl;if(this.useMipmap=!!(W&&W.useMipmap),Lt.bindTexture(Lt.TEXTURE_2D,this.texture),yt.pixelStoreUnpackFlipY.set(!1),yt.pixelStoreUnpack.set(1),yt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Lt.RGBA&&(!W||W.premultiply!==!1)),Re)this.size=[ye,Ee],R instanceof zt||R instanceof lr||R instanceof Or||R instanceof un||gn&&R instanceof gn?Lt.texImage2D(Lt.TEXTURE_2D,0,this.format,this.format,Lt.UNSIGNED_BYTE,R):Lt.texImage2D(Lt.TEXTURE_2D,0,this.format,ye,Ee,0,this.format,Lt.UNSIGNED_BYTE,R.data);else{var It=oe||{x:0,y:0},Kt=It.x,ur=It.y;R instanceof zt||R instanceof lr||R instanceof Or||R instanceof un||gn&&R instanceof gn?Lt.texSubImage2D(Lt.TEXTURE_2D,0,Kt,ur,Lt.RGBA,Lt.UNSIGNED_BYTE,R):Lt.texSubImage2D(Lt.TEXTURE_2D,0,Kt,ur,ye,Ee,Lt.RGBA,Lt.UNSIGNED_BYTE,R.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Lt.generateMipmap(Lt.TEXTURE_2D)},In.prototype.bind=function(R,W,oe){var ye=this,Ee=ye.context,Re=Ee.gl;Re.bindTexture(Re.TEXTURE_2D,this.texture),oe===Re.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(oe=Re.LINEAR),R!==this.filter&&(Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_MAG_FILTER,R),Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_MIN_FILTER,oe||R),this.filter=R),W!==this.wrap&&(Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_WRAP_S,W),Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_WRAP_T,W),this.wrap=W)},In.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},In.prototype.destroy=function(){var R=this.context,W=R.gl;W.deleteTexture(this.texture),this.texture=null};var ha=function(R){var W=this;this._callback=R,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){W._triggered=!1,W._callback()})};ha.prototype.trigger=function(){var R=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){R._triggered=!1,R._callback()},0))},ha.prototype.remove=function(){delete this._channel,this._callback=function(){}};var la=function(R,W,oe){this.target=R,this.parent=W,this.mapId=oe,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},S(["receive","process"],this),this.invoker=new ha(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=ee()?R:i};la.prototype.send=function(R,W,oe,ye,Ee){var Re=this;Ee===void 0&&(Ee=!1);var qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);oe&&(this.callbacks[qe]=oe);var yt=se(this.globalScope)?void 0:[];return this.target.postMessage({id:qe,type:R,hasCallback:!!oe,targetMapId:ye,mustQueue:Ee,sourceMapId:this.mapId,data:Dt(W,yt)},yt),{cancel:function(){oe&&delete Re.callbacks[qe],Re.target.postMessage({id:qe,type:"<cancel>",targetMapId:ye,sourceMapId:Re.mapId})}}},la.prototype.receive=function(R){var W=R.data,oe=W.id;if(oe&&!(W.targetMapId&&this.mapId!==W.targetMapId))if(W.type==="<cancel>"){delete this.tasks[oe];var ye=this.cancelCallbacks[oe];delete this.cancelCallbacks[oe],ye&&ye()}else ee()||W.mustQueue?(this.tasks[oe]=W,this.taskQueue.push(oe),this.invoker.trigger()):this.processTask(oe,W)},la.prototype.process=function(){if(this.taskQueue.length){var R=this.taskQueue.shift(),W=this.tasks[R];delete this.tasks[R],this.taskQueue.length&&this.invoker.trigger(),W&&this.processTask(R,W)}},la.prototype.processTask=function(R,W){var oe=this;if(W.type==="<response>"){var ye=this.callbacks[R];delete this.callbacks[R],ye&&(W.error?ye(Et(W.error)):ye(null,Et(W.data)))}else{var Ee=!1,Re=se(this.globalScope)?void 0:[],qe=W.hasCallback?function(ur,ar){Ee=!0,delete oe.cancelCallbacks[R],oe.target.postMessage({id:R,type:"<response>",sourceMapId:oe.mapId,error:ur?Dt(ur):null,data:Dt(ar,Re)},Re)}:function(ur){Ee=!0},yt=null,Lt=Et(W.data);if(this.parent[W.type])yt=this.parent[W.type](W.sourceMapId,Lt,qe);else if(this.parent.getWorkerSource){var It=W.type.split("."),Kt=this.parent.getWorkerSource(W.sourceMapId,It[0],Lt.source);yt=Kt[It[1]](Lt,qe)}else qe(new Error("Could not find function "+W.type));!Ee&&yt&&yt.cancel&&(this.cancelCallbacks[R]=yt.cancel)}},la.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function Ta(P,R,W){R=Math.pow(2,W)-R-1;var oe=ja(P*256,R*256,W),ye=ja((P+1)*256,(R+1)*256,W);return oe[0]+","+oe[1]+","+ye[0]+","+ye[1]}function ja(P,R,W){var oe=2*Math.PI*6378137/256/Math.pow(2,W),ye=P*oe-2*Math.PI*6378137/2,Ee=R*oe-2*Math.PI*6378137/2;return[ye,Ee]}var Ga=function(R,W){R&&(W?this.setSouthWest(R).setNorthEast(W):R.length===4?this.setSouthWest([R[0],R[1]]).setNorthEast([R[2],R[3]]):this.setSouthWest(R[0]).setNorthEast(R[1]))};Ga.prototype.setNorthEast=function(R){return this._ne=R instanceof qa?new qa(R.lng,R.lat):qa.convert(R),this},Ga.prototype.setSouthWest=function(R){return this._sw=R instanceof qa?new qa(R.lng,R.lat):qa.convert(R),this},Ga.prototype.extend=function(R){var W=this._sw,oe=this._ne,ye,Ee;if(R instanceof qa)ye=R,Ee=R;else if(R instanceof Ga){if(ye=R._sw,Ee=R._ne,!ye||!Ee)return this}else{if(Array.isArray(R))if(R.length===4||R.every(Array.isArray)){var Re=R;return this.extend(Ga.convert(Re))}else{var qe=R;return this.extend(qa.convert(qe))}return this}return!W&&!oe?(this._sw=new qa(ye.lng,ye.lat),this._ne=new qa(Ee.lng,Ee.lat)):(W.lng=Math.min(ye.lng,W.lng),W.lat=Math.min(ye.lat,W.lat),oe.lng=Math.max(Ee.lng,oe.lng),oe.lat=Math.max(Ee.lat,oe.lat)),this},Ga.prototype.getCenter=function(){return new qa((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Ga.prototype.getSouthWest=function(){return this._sw},Ga.prototype.getNorthEast=function(){return this._ne},Ga.prototype.getNorthWest=function(){return new qa(this.getWest(),this.getNorth())},Ga.prototype.getSouthEast=function(){return new qa(this.getEast(),this.getSouth())},Ga.prototype.getWest=function(){return this._sw.lng},Ga.prototype.getSouth=function(){return this._sw.lat},Ga.prototype.getEast=function(){return this._ne.lng},Ga.prototype.getNorth=function(){return this._ne.lat},Ga.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Ga.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Ga.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Ga.prototype.contains=function(R){var W=qa.convert(R),oe=W.lng,ye=W.lat,Ee=this._sw.lat<=ye&&ye<=this._ne.lat,Re=this._sw.lng<=oe&&oe<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Re=this._sw.lng>=oe&&oe>=this._ne.lng),Ee&&Re},Ga.convert=function(R){return!R||R instanceof Ga?R:new Ga(R)};var hi=63710088e-1,qa=function(R,W){if(isNaN(R)||isNaN(W))throw new Error("Invalid LngLat object: ("+R+", "+W+")");if(this.lng=+R,this.lat=+W,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};qa.prototype.wrap=function(){return new qa(T(this.lng,-180,180),this.lat)},qa.prototype.toArray=function(){return[this.lng,this.lat]},qa.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},qa.prototype.distanceTo=function(R){var W=Math.PI/180,oe=this.lat*W,ye=R.lat*W,Ee=Math.sin(oe)*Math.sin(ye)+Math.cos(oe)*Math.cos(ye)*Math.cos((R.lng-this.lng)*W),Re=hi*Math.acos(Math.min(Ee,1));return Re},qa.prototype.toBounds=function(R){R===void 0&&(R=0);var W=40075017,oe=360*R/W,ye=oe/Math.cos(Math.PI/180*this.lat);return new Ga(new qa(this.lng-ye,this.lat-oe),new qa(this.lng+ye,this.lat+oe))},qa.convert=function(R){if(R instanceof qa)return R;if(Array.isArray(R)&&(R.length===2||R.length===3))return new qa(Number(R[0]),Number(R[1]));if(!Array.isArray(R)&&typeof R=="object"&&R!==null)return new qa(Number("lng"in R?R.lng:R.lon),Number(R.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var vi=2*Math.PI*hi;function Ji(P){return vi*Math.cos(P*Math.PI/180)}function qi(P){return(180+P)/360}function uu(P){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+P*Math.PI/360)))/360}function Pl(P,R){return P/Ji(R)}function ku(P){return P*360-180}function os(P){var R=180-P*360;return 360/Math.PI*Math.atan(Math.exp(R*Math.PI/180))-90}function Jf(P,R){return P*Ji(os(R))}function qc(P){return 1/Math.cos(P*Math.PI/180)}var Ph=function(R,W,oe){oe===void 0&&(oe=0),this.x=+R,this.y=+W,this.z=+oe};Ph.fromLngLat=function(R,W){W===void 0&&(W=0);var oe=qa.convert(R);return new Ph(qi(oe.lng),uu(oe.lat),Pl(W,oe.lat))},Ph.prototype.toLngLat=function(){return new qa(ku(this.x),os(this.y))},Ph.prototype.toAltitude=function(){return Jf(this.z,this.y)},Ph.prototype.meterInMercatorCoordinateUnits=function(){return 1/vi*qc(os(this.y))};var Dd=function(R,W,oe){this.z=R,this.x=W,this.y=oe,this.key=Q0(0,R,R,W,oe)};Dd.prototype.equals=function(R){return this.z===R.z&&this.x===R.x&&this.y===R.y},Dd.prototype.url=function(R,W){var oe=Ta(this.x,this.y,this.z),ye=xS(this.z,this.x,this.y);return R[(this.x+this.y)%R.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(W==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ye).replace("{bbox-epsg-3857}",oe)},Dd.prototype.getTilePoint=function(R){var W=Math.pow(2,this.z);return new r((R.x*W-this.x)*Ua,(R.y*W-this.y)*Ua)},Dd.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var z2=function(R,W){this.wrap=R,this.canonical=W,this.key=Q0(R,W.z,W.z,W.x,W.y)},ws=function(R,W,oe,ye,Ee){this.overscaledZ=R,this.wrap=W,this.canonical=new Dd(oe,+ye,+Ee),this.key=Q0(W,R,oe,ye,Ee)};ws.prototype.equals=function(R){return this.overscaledZ===R.overscaledZ&&this.wrap===R.wrap&&this.canonical.equals(R.canonical)},ws.prototype.scaledTo=function(R){var W=this.canonical.z-R;return R>this.canonical.z?new ws(R,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ws(R,this.wrap,R,this.canonical.x>>W,this.canonical.y>>W)},ws.prototype.calculateScaledKey=function(R,W){var oe=this.canonical.z-R;return R>this.canonical.z?Q0(this.wrap*+W,R,this.canonical.z,this.canonical.x,this.canonical.y):Q0(this.wrap*+W,R,R,this.canonical.x>>oe,this.canonical.y>>oe)},ws.prototype.isChildOf=function(R){if(R.wrap!==this.wrap)return!1;var W=this.canonical.z-R.canonical.z;return R.overscaledZ===0||R.overscaledZ<this.overscaledZ&&R.canonical.x===this.canonical.x>>W&&R.canonical.y===this.canonical.y>>W},ws.prototype.children=function(R){if(this.overscaledZ>=R)return[new ws(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var W=this.canonical.z+1,oe=this.canonical.x*2,ye=this.canonical.y*2;return[new ws(W,this.wrap,W,oe,ye),new ws(W,this.wrap,W,oe+1,ye),new ws(W,this.wrap,W,oe,ye+1),new ws(W,this.wrap,W,oe+1,ye+1)]},ws.prototype.isLessThan=function(R){return this.wrap<R.wrap?!0:this.wrap>R.wrap?!1:this.overscaledZ<R.overscaledZ?!0:this.overscaledZ>R.overscaledZ?!1:this.canonical.x<R.canonical.x?!0:this.canonical.x>R.canonical.x?!1:this.canonical.y<R.canonical.y},ws.prototype.wrapped=function(){return new ws(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ws.prototype.unwrapTo=function(R){return new ws(this.overscaledZ,R,this.canonical.z,this.canonical.x,this.canonical.y)},ws.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ws.prototype.toUnwrapped=function(){return new z2(this.wrap,this.canonical)},ws.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ws.prototype.getTilePoint=function(R){return this.canonical.getTilePoint(new Ph(R.x-this.wrap,R.y))};function Q0(P,R,W,oe,ye){P*=2,P<0&&(P=P*-1-1);var Ee=1<<W;return(Ee*Ee*P+Ee*ye+oe).toString(36)+W.toString(36)+R.toString(36)}function xS(P,R,W){for(var oe="",ye,Ee=P;Ee>0;Ee--)ye=1<<Ee-1,oe+=(R&ye?1:0)+(W&ye?2:0);return oe}Be("CanonicalTileID",Dd),Be("OverscaledTileID",ws,{omit:["posMatrix"]});var Jh=function(R,W,oe){if(this.uid=R,W.height!==W.width)throw new RangeError("DEM tiles must be square");if(oe&&oe!=="mapbox"&&oe!=="terrarium")return N('"'+oe+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=W.height;var ye=this.dim=W.height-2;this.data=new Uint32Array(W.data.buffer),this.encoding=oe||"mapbox";for(var Ee=0;Ee<ye;Ee++)this.data[this._idx(-1,Ee)]=this.data[this._idx(0,Ee)],this.data[this._idx(ye,Ee)]=this.data[this._idx(ye-1,Ee)],this.data[this._idx(Ee,-1)]=this.data[this._idx(Ee,0)],this.data[this._idx(Ee,ye)]=this.data[this._idx(Ee,ye-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ye,-1)]=this.data[this._idx(ye-1,0)],this.data[this._idx(-1,ye)]=this.data[this._idx(0,ye-1)],this.data[this._idx(ye,ye)]=this.data[this._idx(ye-1,ye-1)]};Jh.prototype.get=function(R,W){var oe=new Uint8Array(this.data.buffer),ye=this._idx(R,W)*4,Ee=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Ee(oe[ye],oe[ye+1],oe[ye+2])},Jh.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Jh.prototype._idx=function(R,W){if(R<-1||R>=this.dim+1||W<-1||W>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(W+1)*this.stride+(R+1)},Jh.prototype._unpackMapbox=function(R,W,oe){return(R*256*256+W*256+oe)/10-1e4},Jh.prototype._unpackTerrarium=function(R,W,oe){return R*256+W+oe/256-32768},Jh.prototype.getPixels=function(){return new Ll({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Jh.prototype.backfillBorder=function(R,W,oe){if(this.dim!==R.dim)throw new Error("dem dimension mismatch");var ye=W*this.dim,Ee=W*this.dim+this.dim,Re=oe*this.dim,qe=oe*this.dim+this.dim;switch(W){case-1:ye=Ee-1;break;case 1:Ee=ye+1;break}switch(oe){case-1:Re=qe-1;break;case 1:qe=Re+1;break}for(var yt=-W*this.dim,Lt=-oe*this.dim,It=Re;It<qe;It++)for(var Kt=ye;Kt<Ee;Kt++)this.data[this._idx(Kt,It)]=R.data[this._idx(Kt+yt,It+Lt)]},Be("DEMData",Jh);function bS(P,R){var W={};if(!R)return W;for(var oe=function(){var Re=Ee[ye],qe=Re.layerIds.map(function(Kt){return R.getLayer(Kt)}).filter(Boolean);if(qe.length!==0){Re.layers=qe,Re.stateDependentLayerIds&&(Re.stateDependentLayers=Re.stateDependentLayerIds.map(function(Kt){return qe.filter(function(ur){return ur.id===Kt})[0]}));for(var yt=0,Lt=qe;yt<Lt.length;yt+=1){var It=Lt[yt];W[It.id]=Re}}},ye=0,Ee=P;ye<Ee.length;ye+=1)oe();return W}var jy=function(R){this._stringToNumber={},this._numberToString=[];for(var W=0;W<R.length;W++){var oe=R[W];this._stringToNumber[oe]=W,this._numberToString[W]=oe}};jy.prototype.encode=function(R){return this._stringToNumber[R]},jy.prototype.decode=function(R){return this._numberToString[R]};var Ky=function(R,W,oe,ye,Ee){this.type="Feature",this._vectorTileFeature=R,R._z=W,R._x=oe,R._y=ye,this.properties=R.properties,this.id=Ee},Jb={geometry:{configurable:!0}};Jb.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Jb.geometry.set=function(P){this._geometry=P},Ky.prototype.toJSON=function(){var R={geometry:this.geometry};for(var W in this)W==="_geometry"||W==="_vectorTileFeature"||(R[W]=this[W]);return R},Object.defineProperties(Ky.prototype,Jb);var Cp=function(){this.state={},this.stateChanges={},this.deletedStates={}};Cp.prototype.updateState=function(R,W,oe){var ye=String(W);if(this.stateChanges[R]=this.stateChanges[R]||{},this.stateChanges[R][ye]=this.stateChanges[R][ye]||{},x(this.stateChanges[R][ye],oe),this.deletedStates[R]===null){this.deletedStates[R]={};for(var Ee in this.state[R])Ee!==ye&&(this.deletedStates[R][Ee]=null)}else{var Re=this.deletedStates[R]&&this.deletedStates[R][ye]===null;if(Re){this.deletedStates[R][ye]={};for(var qe in this.state[R][ye])oe[qe]||(this.deletedStates[R][ye][qe]=null)}else for(var yt in oe){var Lt=this.deletedStates[R]&&this.deletedStates[R][ye]&&this.deletedStates[R][ye][yt]===null;Lt&&delete this.deletedStates[R][ye][yt]}}},Cp.prototype.removeFeatureState=function(R,W,oe){var ye=this.deletedStates[R]===null;if(!ye){var Ee=String(W);if(this.deletedStates[R]=this.deletedStates[R]||{},oe&&W!==void 0)this.deletedStates[R][Ee]!==null&&(this.deletedStates[R][Ee]=this.deletedStates[R][Ee]||{},this.deletedStates[R][Ee][oe]=null);else if(W!==void 0){var Re=this.stateChanges[R]&&this.stateChanges[R][Ee];if(Re){this.deletedStates[R][Ee]={};for(oe in this.stateChanges[R][Ee])this.deletedStates[R][Ee][oe]=null}else this.deletedStates[R][Ee]=null}else this.deletedStates[R]=null}},Cp.prototype.getState=function(R,W){var oe=String(W),ye=this.state[R]||{},Ee=this.stateChanges[R]||{},Re=x({},ye[oe],Ee[oe]);if(this.deletedStates[R]===null)return{};if(this.deletedStates[R]){var qe=this.deletedStates[R][W];if(qe===null)return{};for(var yt in qe)delete Re[yt]}return Re},Cp.prototype.initializeTileState=function(R,W){R.setFeatureState(this.state,W)},Cp.prototype.coalesceChanges=function(R,W){var oe={};for(var ye in this.stateChanges){this.state[ye]=this.state[ye]||{};var Ee={};for(var Re in this.stateChanges[ye])this.state[ye][Re]||(this.state[ye][Re]={}),x(this.state[ye][Re],this.stateChanges[ye][Re]),Ee[Re]=this.state[ye][Re];oe[ye]=Ee}for(var qe in this.deletedStates){this.state[qe]=this.state[qe]||{};var yt={};if(this.deletedStates[qe]===null)for(var Lt in this.state[qe])yt[Lt]={},this.state[qe][Lt]={};else for(var It in this.deletedStates[qe]){var Kt=this.deletedStates[qe][It]===null;if(Kt)this.state[qe][It]={};else for(var ur=0,ar=Object.keys(this.deletedStates[qe][It]);ur<ar.length;ur+=1){var Er=ar[ur];delete this.state[qe][It][Er]}yt[It]=this.state[qe][It]}oe[qe]=oe[qe]||{},x(oe[qe],yt)}if(this.stateChanges={},this.deletedStates={},Object.keys(oe).length!==0)for(var jr in R){var yn=R[jr];yn.setFeatureState(oe,W)}};var $h=function(R,W){this.tileID=R,this.x=R.canonical.x,this.y=R.canonical.y,this.z=R.canonical.z,this.grid=new ai(Ua,16,0),this.grid3D=new ai(Ua,16,0),this.featureIndexArray=new op,this.promoteId=W};$h.prototype.insert=function(R,W,oe,ye,Ee,Re){var qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(oe,ye,Ee);for(var yt=Re?this.grid3D:this.grid,Lt=0;Lt<W.length;Lt++){for(var It=W[Lt],Kt=[1/0,1/0,-1/0,-1/0],ur=0;ur<It.length;ur++){var ar=It[ur];Kt[0]=Math.min(Kt[0],ar.x),Kt[1]=Math.min(Kt[1],ar.y),Kt[2]=Math.max(Kt[2],ar.x),Kt[3]=Math.max(Kt[3],ar.y)}Kt[0]<Ua&&Kt[1]<Ua&&Kt[2]>=0&&Kt[3]>=0&&yt.insert(qe,Kt[0],Kt[1],Kt[2],Kt[3])}},$h.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Av.VectorTile(new so(this.rawTileData)).layers,this.sourceLayerCoder=new jy(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},$h.prototype.query=function(R,W,oe,ye){var Ee=this;this.loadVTLayers();for(var Re=R.params||{},qe=Ua/R.tileSize/R.scale,yt=Ls(Re.filter),Lt=R.queryGeometry,It=R.queryPadding*qe,Kt=N2(Lt),ur=this.grid.query(Kt.minX-It,Kt.minY-It,Kt.maxX+It,Kt.maxY+It),ar=N2(R.cameraQueryGeometry),Er=this.grid3D.query(ar.minX-It,ar.minY-It,ar.maxX+It,ar.maxY+It,function(aa,ga,da,Va){return pf(R.cameraQueryGeometry,aa-It,ga-It,da+It,Va+It)}),jr=0,yn=Er;jr<yn.length;jr+=1){var hn=yn[jr];ur.push(hn)}ur.sort(wS);for(var Vn={},Cn,Bn=function(aa){var ga=ur[aa];if(ga!==Cn){Cn=ga;var da=Ee.featureIndexArray.get(ga),Va=null;Ee.loadMatchingFeature(Vn,da.bucketIndex,da.sourceLayerIndex,da.featureIndex,yt,Re.layers,Re.availableImages,W,oe,ye,function(ka,Na,fi){return Va||(Va=Li(ka)),Na.queryIntersectsFeature(Lt,ka,fi,Va,Ee.z,R.transform,qe,R.pixelPosMatrix)})}},Zn=0;Zn<ur.length;Zn++)Bn(Zn);return Vn},$h.prototype.loadMatchingFeature=function(R,W,oe,ye,Ee,Re,qe,yt,Lt,It,Kt){var ur=this.bucketLayerIDs[W];if(!(Re&&!k(Re,ur))){var ar=this.sourceLayerCoder.decode(oe),Er=this.vtLayers[ar],jr=Er.feature(ye);if(Ee.needGeometry){var yn=oo(jr,!0);if(!Ee.filter(new za(this.tileID.overscaledZ),yn,this.tileID.canonical))return}else if(!Ee.filter(new za(this.tileID.overscaledZ),jr))return;for(var hn=this.getId(jr,ar),Vn=0;Vn<ur.length;Vn++){var Cn=ur[Vn];if(!(Re&&Re.indexOf(Cn)<0)){var Bn=yt[Cn];if(Bn){var Zn={};hn!==void 0&&It&&(Zn=It.getState(Bn.sourceLayer||"_geojsonTileLayer",hn));var aa=x({},Lt[Cn]);aa.paint=F2(aa.paint,Bn.paint,jr,Zn,qe),aa.layout=F2(aa.layout,Bn.layout,jr,Zn,qe);var ga=!Kt||Kt(jr,Bn,Zn);if(ga){var da=new Ky(jr,this.z,this.x,this.y,hn);da.layer=aa;var Va=R[Cn];Va===void 0&&(Va=R[Cn]=[]),Va.push({featureIndex:ye,feature:da,intersectionZ:ga})}}}}}},$h.prototype.lookupSymbolFeatures=function(R,W,oe,ye,Ee,Re,qe,yt){var Lt={};this.loadVTLayers();for(var It=Ls(Ee),Kt=0,ur=R;Kt<ur.length;Kt+=1){var ar=ur[Kt];this.loadMatchingFeature(Lt,oe,ye,ar,It,Re,qe,yt,W)}return Lt},$h.prototype.hasLayer=function(R){for(var W=0,oe=this.bucketLayerIDs;W<oe.length;W+=1)for(var ye=oe[W],Ee=0,Re=ye;Ee<Re.length;Ee+=1){var qe=Re[Ee];if(R===qe)return!0}return!1},$h.prototype.getId=function(R,W){var oe=R.id;if(this.promoteId){var ye=typeof this.promoteId=="string"?this.promoteId:this.promoteId[W];oe=R.properties[ye],typeof oe=="boolean"&&(oe=Number(oe))}return oe},Be("FeatureIndex",$h,{omit:["rawTileData","sourceLayerCoder"]});function F2(P,R,W,oe,ye){return I(P,function(Ee,Re){var qe=R instanceof jo?R.get(Re):null;return qe&&qe.evaluate?qe.evaluate(W,oe,ye):qe})}function N2(P){for(var R=1/0,W=1/0,oe=-1/0,ye=-1/0,Ee=0,Re=P;Ee<Re.length;Ee+=1){var qe=Re[Ee];R=Math.min(R,qe.x),W=Math.min(W,qe.y),oe=Math.max(oe,qe.x),ye=Math.max(ye,qe.y)}return{minX:R,minY:W,maxX:oe,maxY:ye}}function wS(P,R){return R-P}var TS=3e4,Hs=function(R,W){this.tileID=R,this.uid=y(),this.uses=0,this.tileSize=W,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Hs.prototype.registerFadeDuration=function(R){var W=R+this.timeAdded;W<ue.now()||this.fadeEndTime&&W<this.fadeEndTime||(this.fadeEndTime=W)},Hs.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Hs.prototype.loadVectorData=function(R,W,oe){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!R){this.collisionBoxArray=new dd;return}R.featureIndex&&(this.latestFeatureIndex=R.featureIndex,R.rawTileData?(this.latestRawTileData=R.rawTileData,this.latestFeatureIndex.rawTileData=R.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=R.collisionBoxArray,this.buckets=bS(R.buckets,W.style),this.hasSymbolBuckets=!1;for(var ye in this.buckets){var Ee=this.buckets[ye];if(Ee instanceof io)if(this.hasSymbolBuckets=!0,oe)Ee.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Re in this.buckets){var qe=this.buckets[Re];if(qe instanceof io&&qe.hasRTLText){this.hasRTLText=!0,$a();break}}this.queryPadding=0;for(var yt in this.buckets){var Lt=this.buckets[yt];this.queryPadding=Math.max(this.queryPadding,W.style.getLayer(yt).queryRadius(Lt))}R.imageAtlas&&(this.imageAtlas=R.imageAtlas),R.glyphAtlasImage&&(this.glyphAtlasImage=R.glyphAtlasImage)},Hs.prototype.unloadVectorData=function(){for(var R in this.buckets)this.buckets[R].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Hs.prototype.getBucket=function(R){return this.buckets[R.id]},Hs.prototype.upload=function(R){for(var W in this.buckets){var oe=this.buckets[W];oe.uploadPending()&&oe.upload(R)}var ye=R.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new In(R,this.imageAtlas.image,ye.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new In(R,this.glyphAtlasImage,ye.ALPHA),this.glyphAtlasImage=null)},Hs.prototype.prepare=function(R){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(R,this.imageAtlasTexture)},Hs.prototype.queryRenderedFeatures=function(R,W,oe,ye,Ee,Re,qe,yt,Lt,It){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ye,cameraQueryGeometry:Ee,scale:Re,tileSize:this.tileSize,pixelPosMatrix:It,transform:yt,params:qe,queryPadding:this.queryPadding*Lt},R,W,oe)},Hs.prototype.querySourceFeatures=function(R,W){var oe=this.latestFeatureIndex;if(!(!oe||!oe.rawTileData)){var ye=oe.loadVTLayers(),Ee=W?W.sourceLayer:"",Re=ye._geojsonTileLayer||ye[Ee];if(Re)for(var qe=Ls(W&&W.filter),yt=this.tileID.canonical,Lt=yt.z,It=yt.x,Kt=yt.y,ur={z:Lt,x:It,y:Kt},ar=0;ar<Re.length;ar++){var Er=Re.feature(ar);if(qe.needGeometry){var jr=oo(Er,!0);if(!qe.filter(new za(this.tileID.overscaledZ),jr,this.tileID.canonical))continue}else if(!qe.filter(new za(this.tileID.overscaledZ),Er))continue;var yn=oe.getId(Er,Ee),hn=new Ky(Er,Lt,It,Kt,yn);hn.tile=ur,R.push(hn)}}},Hs.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Hs.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Hs.prototype.setExpiryData=function(R){var W=this.expirationTime;if(R.cacheControl){var oe=ne(R.cacheControl);oe["max-age"]&&(this.expirationTime=Date.now()+oe["max-age"]*1e3)}else R.expires&&(this.expirationTime=new Date(R.expires).getTime());if(this.expirationTime){var ye=Date.now(),Ee=!1;if(this.expirationTime>ye)Ee=!1;else if(!W)Ee=!0;else if(this.expirationTime<W)Ee=!0;else{var Re=this.expirationTime-W;Re?this.expirationTime=ye+Math.max(Re,TS):Ee=!0}Ee?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Hs.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Hs.prototype.setFeatureState=function(R,W){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(R).length===0)){var oe=this.latestFeatureIndex.loadVTLayers();for(var ye in this.buckets)if(W.style.hasLayer(ye)){var Ee=this.buckets[ye],Re=Ee.layers[0].sourceLayer||"_geojsonTileLayer",qe=oe[Re],yt=R[Re];if(!(!qe||!yt||Object.keys(yt).length===0)){Ee.update(yt,qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Lt=W&&W.style&&W.style.getLayer(ye);Lt&&(this.queryPadding=Math.max(this.queryPadding,Lt.queryRadius(Ee)))}}}},Hs.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Hs.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ue.now()},Hs.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Hs.prototype.setHoldDuration=function(R){this.symbolFadeHoldUntil=ue.now()+R},Hs.prototype.setDependencies=function(R,W){for(var oe={},ye=0,Ee=W;ye<Ee.length;ye+=1){var Re=Ee[ye];oe[Re]=!0}this.dependencies[R]=oe},Hs.prototype.hasDependency=function(R,W){for(var oe=0,ye=R;oe<ye.length;oe+=1){var Ee=ye[oe],Re=this.dependencies[Ee];if(Re)for(var qe=0,yt=W;qe<yt.length;qe+=1){var Lt=yt[qe];if(Re[Lt])return!0}}return!1};var AS=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Ov=i.performance,B2=function(R){this._marks={start:[R.url,"start"].join("#"),end:[R.url,"end"].join("#"),measure:R.url.toString()},Ov.mark(this._marks.start)};B2.prototype.finish=function(){Ov.mark(this._marks.end);var R=Ov.getEntriesByName(this._marks.measure);return R.length===0&&(Ov.measure(this._marks.measure,this._marks.start,this._marks.end),R=Ov.getEntriesByName(this._marks.measure),Ov.clearMarks(this._marks.start),Ov.clearMarks(this._marks.end),Ov.clearMeasures(this._marks.measure)),R},n.Actor=la,n.AlphaImage=Zh,n.CanonicalTileID=Dd,n.CollisionBoxArray=dd,n.Color=Mi,n.DEMData=Jh,n.DataConstantProperty=ya,n.DictionaryCoder=jy,n.EXTENT=Ua,n.ErrorEvent=Vt,n.EvaluationParameters=za,n.Event=ir,n.Evented=yr,n.FeatureIndex=$h,n.FillBucket=gf,n.FillExtrusionBucket=cl,n.ImageAtlas=Ld,n.ImagePosition=Cd,n.LineBucket=hl,n.LngLat=qa,n.LngLatBounds=Ga,n.MercatorCoordinate=Ph,n.ONE_EM=bs,n.OverscaledTileID=ws,n.Point=r,n.Point$1=r,n.Properties=zi,n.Protobuf=so,n.RGBAImage=Ll,n.RequestManager=Ve,n.RequestPerformance=B2,n.ResourceType=wr,n.SegmentVector=Vo,n.SourceFeatureState=Cp,n.StructArrayLayout1ui2=Wf,n.StructArrayLayout2f1f2i16=vf,n.StructArrayLayout2i4=Yc,n.StructArrayLayout3ui6=iu,n.StructArrayLayout4i8=vd,n.SymbolBucket=io,n.Texture=In,n.Tile=Hs,n.Transitionable=Ei,n.Uniform1f=rn,n.Uniform1i=Ur,n.Uniform2f=en,n.Uniform3f=Qr,n.Uniform4f=on,n.UniformColor=mn,n.UniformMatrix4f=Yn,n.UnwrappedTileID=z2,n.ValidationError=Wr,n.WritingMode=lu,n.ZoomHistory=Yt,n.add=bv,n.addDynamicAttributes=J0,n.asyncAll=c,n.bezier=l,n.bindAll=S,n.browser=ue,n.cacheEntryPossiblyAdded=Rt,n.clamp=h,n.clearTileCache=Pr,n.clipLine=W0,n.clone=Yh,n.clone$1=B,n.clone$2=A0,n.collisionCircleLayout=Qx,n.config=ae,n.create=mv,n.create$1=Qs,n.create$2=Wh,n.createCommonjsModule=L,n.createExpression=nu,n.createLayout=vo,n.createStyleLayer=rt,n.cross=Z1,n.deepEqual=a,n.dot=X1,n.dot$1=Q1,n.ease=m,n.emitValidationErrors=Qa,n.endsWith=b,n.enforceCacheSizeLimit=$t,n.evaluateSizeForFeature=Fy,n.evaluateSizeForZoom=Ny,n.evaluateVariableOffset=Yy,n.evented=Ia,n.extend=x,n.featureFilter=Ls,n.filterObject=D,n.fromRotation=Mh,n.getAnchorAlignment=H0,n.getAnchorJustification=Z0,n.getArrayBuffer=Wt,n.getImage=Ft,n.getJSON=Xt,n.getRTLTextPluginStatus=ti,n.getReferrer=bt,n.getVideo=rr,n.identity=xv,n.invert=Sh,n.isChar=Zt,n.isMapboxURL=Ge,n.keysDifference=p,n.makeRequest=kt,n.mapObject=I,n.mercatorXfromLng=qi,n.mercatorYfromLat=uu,n.mercatorZfromAltitude=Pl,n.mul=T0,n.multiply=Eh,n.mvt=Av,n.nextPowerOfTwo=M,n.normalize=Xh,n.number=no,n.offscreenCanvasSupported=nr,n.ortho=w0,n.parseGlyphPBF=Ly,n.pbf=so,n.performSymbolLayout=kb,n.perspective=gd,n.pick=A,n.plugin=ca,n.polygonIntersectsPolygon=ui,n.postMapLoadEvent=Xe,n.postTurnstileEvent=je,n.potpack=Py,n.refProperties=AS,n.register=Be,n.registerForPluginStateChange=Si,n.renderColorRamp=iy,n.rotate=Ah,n.rotateX=Cl,n.rotateZ=fl,n.scale=El,n.scale$1=$1,n.scale$2=S0,n.setCacheLimits=xt,n.setRTLTextPlugin=Eo,n.sphericalToCartesian=X,n.sqrLen=tx,n.styleSpec=Cr,n.sub=K1,n.symbolSize=Cb,n.transformMat3=j1,n.transformMat4=sp,n.translate=Ho,n.triggerPluginCompletionEvent=Sa,n.uniqueId=y,n.validateCustomStyleLayer=Kb,n.validateLight=oa,n.validateStyle=Wn,n.values=o,n.vectorTile=Av,n.version=w,n.warnOnce=N,n.webpSupported=he,n.window=i,n.wrap=T}),C(["./shared"],function(n){function L(bt){var ut=typeof bt;if(ut==="number"||ut==="boolean"||ut==="string"||bt===void 0||bt===null)return JSON.stringify(bt);if(Array.isArray(bt)){for(var Mt="[",_t=0,kt=bt;_t<kt.length;_t+=1){var Xt=kt[_t];Mt+=L(Xt)+","}return Mt+"]"}for(var Wt=Object.keys(bt).sort(),Ht="{",tr=0;tr<Wt.length;tr++)Ht+=JSON.stringify(Wt[tr])+":"+L(bt[Wt[tr]])+",";return Ht+"}"}function w(bt){for(var ut="",Mt=0,_t=n.refProperties;Mt<_t.length;Mt+=1){var kt=_t[Mt];ut+="/"+L(bt[kt])}return ut}function v(bt,ut){for(var Mt={},_t=0;_t<bt.length;_t++){var kt=ut&&ut[bt[_t].id]||w(bt[_t]);ut&&(ut[bt[_t].id]=kt);var Xt=Mt[kt];Xt||(Xt=Mt[kt]=[]),Xt.push(bt[_t])}var Wt=[];for(var Ht in Mt)Wt.push(Mt[Ht]);return Wt}var g=function(ut){this.keyCache={},ut&&this.replace(ut)};g.prototype.replace=function(ut){this._layerConfigs={},this._layers={},this.update(ut,[])},g.prototype.update=function(ut,Mt){for(var _t=this,kt=0,Xt=ut;kt<Xt.length;kt+=1){var Wt=Xt[kt];this._layerConfigs[Wt.id]=Wt;var Ht=this._layers[Wt.id]=n.createStyleLayer(Wt);Ht._featureFilter=n.featureFilter(Ht.filter),this.keyCache[Wt.id]&&delete this.keyCache[Wt.id]}for(var tr=0,gr=Mt;tr<gr.length;tr+=1){var Qt=gr[tr];delete this.keyCache[Qt],delete this._layerConfigs[Qt],delete this._layers[Qt]}this.familiesBySource={};for(var mr=v(n.values(this._layerConfigs),this.keyCache),Ze=0,Ye=mr;Ze<Ye.length;Ze+=1){var Bt=Ye[Ze],Ft=Bt.map(function(yr){return _t._layers[yr.id]}),rr=Ft[0];if(rr.visibility!=="none"){var sr=rr.source||"",fr=this.familiesBySource[sr];fr||(fr=this.familiesBySource[sr]={});var ir=rr.sourceLayer||"_geojsonTileLayer",Vt=fr[ir];Vt||(Vt=fr[ir]=[]),Vt.push(Ft)}}};var r=1,t=function(ut){var Mt={},_t=[];for(var kt in ut){var Xt=ut[kt],Wt=Mt[kt]={};for(var Ht in Xt){var tr=Xt[+Ht];if(!(!tr||tr.bitmap.width===0||tr.bitmap.height===0)){var gr={x:0,y:0,w:tr.bitmap.width+2*r,h:tr.bitmap.height+2*r};_t.push(gr),Wt[Ht]={rect:gr,metrics:tr.metrics}}}}var Qt=n.potpack(_t),mr=Qt.w,Ze=Qt.h,Ye=new n.AlphaImage({width:mr||1,height:Ze||1});for(var Bt in ut){var Ft=ut[Bt];for(var rr in Ft){var sr=Ft[+rr];if(!(!sr||sr.bitmap.width===0||sr.bitmap.height===0)){var fr=Mt[Bt][rr].rect;n.AlphaImage.copy(sr.bitmap,Ye,{x:0,y:0},{x:fr.x+r,y:fr.y+r},sr.bitmap)}}}this.image=Ye,this.positions=Mt};n.register("GlyphAtlas",t);var i=function(ut){this.tileID=new n.OverscaledTileID(ut.tileID.overscaledZ,ut.tileID.wrap,ut.tileID.canonical.z,ut.tileID.canonical.x,ut.tileID.canonical.y),this.uid=ut.uid,this.zoom=ut.zoom,this.pixelRatio=ut.pixelRatio,this.tileSize=ut.tileSize,this.source=ut.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ut.showCollisionBoxes,this.collectResourceTiming=!!ut.collectResourceTiming,this.returnDependencies=!!ut.returnDependencies,this.promoteId=ut.promoteId};i.prototype.parse=function(ut,Mt,_t,kt,Xt){var Wt=this;this.status="parsing",this.data=ut,this.collisionBoxArray=new n.CollisionBoxArray;var Ht=new n.DictionaryCoder(Object.keys(ut.layers).sort()),tr=new n.FeatureIndex(this.tileID,this.promoteId);tr.bucketLayerIDs=[];var gr={},Qt={featureIndex:tr,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:_t},mr=Mt.familiesBySource[this.source];for(var Ze in mr){var Ye=ut.layers[Ze];if(Ye){Ye.version===1&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+Ze+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Bt=Ht.encode(Ze),Ft=[],rr=0;rr<Ye.length;rr++){var sr=Ye.feature(rr),fr=tr.getId(sr,Ze);Ft.push({feature:sr,id:fr,index:rr,sourceLayerIndex:Bt})}for(var ir=0,Vt=mr[Ze];ir<Vt.length;ir+=1){var yr=Vt[ir],br=yr[0];if(!(br.minzoom&&this.zoom<Math.floor(br.minzoom))&&!(br.maxzoom&&this.zoom>=br.maxzoom)&&br.visibility!=="none"){a(yr,this.zoom,_t);var _r=gr[br.id]=br.createBucket({index:tr.bucketLayerIDs.length,layers:yr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Bt,sourceID:this.source});_r.populate(Ft,Qt,this.tileID.canonical),tr.bucketLayerIDs.push(yr.map(function(Sr){return Sr.id}))}}}}var pr,Yr,zr,Nr,xn=n.mapObject(Qt.glyphDependencies,function(Sr){return Object.keys(Sr).map(Number)});Object.keys(xn).length?kt.send("getGlyphs",{uid:this.uid,stacks:xn},function(Sr,Vr){pr||(pr=Sr,Yr=Vr,zn.call(Wt))}):Yr={};var tn=Object.keys(Qt.iconDependencies);tn.length?kt.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"icons"},function(Sr,Vr){pr||(pr=Sr,zr=Vr,zn.call(Wt))}):zr={};var On=Object.keys(Qt.patternDependencies);On.length?kt.send("getImages",{icons:On,source:this.source,tileID:this.tileID,type:"patterns"},function(Sr,Vr){pr||(pr=Sr,Nr=Vr,zn.call(Wt))}):Nr={},zn.call(this);function zn(){if(pr)return Xt(pr);if(Yr&&zr&&Nr){var Sr=new t(Yr),Vr=new n.ImageAtlas(zr,Nr);for(var qr in gr){var Hr=gr[qr];Hr instanceof n.SymbolBucket?(a(Hr.layers,this.zoom,_t),n.performSymbolLayout(Hr,Yr,Sr.positions,zr,Vr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Hr.hasPattern&&(Hr instanceof n.LineBucket||Hr instanceof n.FillBucket||Hr instanceof n.FillExtrusionBucket)&&(a(Hr.layers,this.zoom,_t),Hr.addFeatures(Qt,this.tileID.canonical,Vr.patternPositions))}this.status="done",Xt(null,{buckets:n.values(gr).filter(function(Tn){return!Tn.isEmpty()}),featureIndex:tr,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Sr.image,imageAtlas:Vr,glyphMap:this.returnDependencies?Yr:null,iconMap:this.returnDependencies?zr:null,glyphPositions:this.returnDependencies?Sr.positions:null})}}};function a(bt,ut,Mt){for(var _t=new n.EvaluationParameters(ut),kt=0,Xt=bt;kt<Xt.length;kt+=1){var Wt=Xt[kt];Wt.recalculate(_t,Mt)}}function u(bt,ut){var Mt=n.getArrayBuffer(bt.request,function(_t,kt,Xt,Wt){_t?ut(_t):kt&&ut(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(kt)),rawData:kt,cacheControl:Xt,expires:Wt})});return function(){Mt.cancel(),ut()}}var f=function(ut,Mt,_t,kt){this.actor=ut,this.layerIndex=Mt,this.availableImages=_t,this.loadVectorData=kt||u,this.loading={},this.loaded={}};f.prototype.loadTile=function(ut,Mt){var _t=this,kt=ut.uid;this.loading||(this.loading={});var Xt=ut&&ut.request&&ut.request.collectResourceTiming?new n.RequestPerformance(ut.request):!1,Wt=this.loading[kt]=new i(ut);Wt.abort=this.loadVectorData(ut,function(Ht,tr){if(delete _t.loading[kt],Ht||!tr)return Wt.status="done",_t.loaded[kt]=Wt,Mt(Ht);var gr=tr.rawData,Qt={};tr.expires&&(Qt.expires=tr.expires),tr.cacheControl&&(Qt.cacheControl=tr.cacheControl);var mr={};if(Xt){var Ze=Xt.finish();Ze&&(mr.resourceTiming=JSON.parse(JSON.stringify(Ze)))}Wt.vectorTile=tr.vectorTile,Wt.parse(tr.vectorTile,_t.layerIndex,_t.availableImages,_t.actor,function(Ye,Bt){if(Ye||!Bt)return Mt(Ye);Mt(null,n.extend({rawTileData:gr.slice(0)},Bt,Qt,mr))}),_t.loaded=_t.loaded||{},_t.loaded[kt]=Wt})},f.prototype.reloadTile=function(ut,Mt){var _t=this,kt=this.loaded,Xt=ut.uid,Wt=this;if(kt&&kt[Xt]){var Ht=kt[Xt];Ht.showCollisionBoxes=ut.showCollisionBoxes;var tr=function(gr,Qt){var mr=Ht.reloadCallback;mr&&(delete Ht.reloadCallback,Ht.parse(Ht.vectorTile,Wt.layerIndex,_t.availableImages,Wt.actor,mr)),Mt(gr,Qt)};Ht.status==="parsing"?Ht.reloadCallback=tr:Ht.status==="done"&&(Ht.vectorTile?Ht.parse(Ht.vectorTile,this.layerIndex,this.availableImages,this.actor,tr):tr())}},f.prototype.abortTile=function(ut,Mt){var _t=this.loading,kt=ut.uid;_t&&_t[kt]&&_t[kt].abort&&(_t[kt].abort(),delete _t[kt]),Mt()},f.prototype.removeTile=function(ut,Mt){var _t=this.loaded,kt=ut.uid;_t&&_t[kt]&&delete _t[kt],Mt()};var l=n.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(ut,Mt){var _t=ut.uid,kt=ut.encoding,Xt=ut.rawImageData,Wt=l&&Xt instanceof l?this.getImageData(Xt):Xt,Ht=new n.DEMData(_t,Wt,kt);this.loaded=this.loaded||{},this.loaded[_t]=Ht,Mt(null,Ht)},m.prototype.getImageData=function(ut){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ut.width,ut.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ut.width,this.offscreenCanvas.height=ut.height,this.offscreenCanvasContext.drawImage(ut,0,0,ut.width,ut.height);var Mt=this.offscreenCanvasContext.getImageData(-1,-1,ut.width+2,ut.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:Mt.width,height:Mt.height},Mt.data)},m.prototype.removeTile=function(ut){var Mt=this.loaded,_t=ut.uid;Mt&&Mt[_t]&&delete Mt[_t]};var h=T;function T(bt,ut){var Mt=bt&&bt.type,_t;if(Mt==="FeatureCollection")for(_t=0;_t<bt.features.length;_t++)T(bt.features[_t],ut);else if(Mt==="GeometryCollection")for(_t=0;_t<bt.geometries.length;_t++)T(bt.geometries[_t],ut);else if(Mt==="Feature")T(bt.geometry,ut);else if(Mt==="Polygon")c(bt.coordinates,ut);else if(Mt==="MultiPolygon")for(_t=0;_t<bt.coordinates.length;_t++)c(bt.coordinates[_t],ut);return bt}function c(bt,ut){if(bt.length!==0){o(bt[0],ut);for(var Mt=1;Mt<bt.length;Mt++)o(bt[Mt],!ut)}}function o(bt,ut){for(var Mt=0,_t=0,kt=bt.length,Xt=kt-1;_t<kt;Xt=_t++)Mt+=(bt[_t][0]-bt[Xt][0])*(bt[Xt][1]+bt[_t][1]);Mt>=0!=!!ut&&bt.reverse()}var p=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(ut){this._feature=ut,this.extent=n.EXTENT,this.type=ut.type,this.properties=ut.tags,"id"in ut&&!isNaN(ut.id)&&(this.id=parseInt(ut.id,10))};x.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ut=[],Mt=0,_t=this._feature.geometry;Mt<_t.length;Mt+=1){var kt=_t[Mt];ut.push([new n.Point$1(kt[0],kt[1])])}return ut}else{for(var Xt=[],Wt=0,Ht=this._feature.geometry;Wt<Ht.length;Wt+=1){for(var tr=Ht[Wt],gr=[],Qt=0,mr=tr;Qt<mr.length;Qt+=1){var Ze=mr[Qt];gr.push(new n.Point$1(Ze[0],Ze[1]))}Xt.push(gr)}return Xt}},x.prototype.toGeoJSON=function(ut,Mt,_t){return p.call(this,ut,Mt,_t)};var A=function(ut){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=ut.length,this._features=ut};A.prototype.feature=function(ut){return new x(this._features[ut])};var _=n.vectorTile.VectorTileFeature,y=E;function E(bt,ut){this.options=ut||{},this.features=bt,this.length=bt.length}E.prototype.feature=function(bt){return new M(this.features[bt],this.options.extent)};function M(bt,ut){this.id=typeof bt.id=="number"?bt.id:void 0,this.type=bt.type,this.rawGeometry=bt.type===1?[bt.geometry]:bt.geometry,this.properties=bt.tags,this.extent=ut||4096}M.prototype.loadGeometry=function(){var bt=this.rawGeometry;this.geometry=[];for(var ut=0;ut<bt.length;ut++){for(var Mt=bt[ut],_t=[],kt=0;kt<Mt.length;kt++)_t.push(new n.Point$1(Mt[kt][0],Mt[kt][1]));this.geometry.push(_t)}return this.geometry},M.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var bt=this.geometry,ut=1/0,Mt=-1/0,_t=1/0,kt=-1/0,Xt=0;Xt<bt.length;Xt++)for(var Wt=bt[Xt],Ht=0;Ht<Wt.length;Ht++){var tr=Wt[Ht];ut=Math.min(ut,tr.x),Mt=Math.max(Mt,tr.x),_t=Math.min(_t,tr.y),kt=Math.max(kt,tr.y)}return[ut,_t,Mt,kt]},M.prototype.toGeoJSON=_.prototype.toGeoJSON;var s=D,S=D,b=B,I=y;function D(bt){var ut=new n.pbf;return k(bt,ut),ut.finish()}function B(bt,ut){ut=ut||{};var Mt={};for(var _t in bt)Mt[_t]=new y(bt[_t].features,ut),Mt[_t].name=_t,Mt[_t].version=ut.version,Mt[_t].extent=ut.extent;return D({layers:Mt})}function k(bt,ut){for(var Mt in bt.layers)ut.writeMessage(3,F,bt.layers[Mt])}function F(bt,ut){ut.writeVarintField(15,bt.version||1),ut.writeStringField(1,bt.name||""),ut.writeVarintField(5,bt.extent||4096);var Mt,_t={keys:[],values:[],keycache:{},valuecache:{}};for(Mt=0;Mt<bt.length;Mt++)_t.feature=bt.feature(Mt),ut.writeMessage(2,N,_t);var kt=_t.keys;for(Mt=0;Mt<kt.length;Mt++)ut.writeStringField(3,kt[Mt]);var Xt=_t.values;for(Mt=0;Mt<Xt.length;Mt++)ut.writeMessage(4,ne,Xt[Mt])}function N(bt,ut){var Mt=bt.feature;Mt.id!==void 0&&ut.writeVarintField(1,Mt.id),ut.writeMessage(2,O,bt),ut.writeVarintField(3,Mt.type),ut.writeMessage(4,ee,Mt)}function O(bt,ut){var Mt=bt.feature,_t=bt.keys,kt=bt.values,Xt=bt.keycache,Wt=bt.valuecache;for(var Ht in Mt.properties){var tr=Xt[Ht];typeof tr>"u"&&(_t.push(Ht),tr=_t.length-1,Xt[Ht]=tr),ut.writeVarint(tr);var gr=Mt.properties[Ht],Qt=typeof gr;Qt!=="string"&&Qt!=="boolean"&&Qt!=="number"&&(gr=JSON.stringify(gr));var mr=Qt+":"+gr,Ze=Wt[mr];typeof Ze>"u"&&(kt.push(gr),Ze=kt.length-1,Wt[mr]=Ze),ut.writeVarint(Ze)}}function V(bt,ut){return(ut<<3)+(bt&7)}function X(bt){return bt<<1^bt>>31}function ee(bt,ut){for(var Mt=bt.loadGeometry(),_t=bt.type,kt=0,Xt=0,Wt=Mt.length,Ht=0;Ht<Wt;Ht++){var tr=Mt[Ht],gr=1;_t===1&&(gr=tr.length),ut.writeVarint(V(1,gr));for(var Qt=_t===3?tr.length-1:tr.length,mr=0;mr<Qt;mr++){mr===1&&_t!==1&&ut.writeVarint(V(2,Qt-1));var Ze=tr[mr].x-kt,Ye=tr[mr].y-Xt;ut.writeVarint(X(Ze)),ut.writeVarint(X(Ye)),kt+=Ze,Xt+=Ye}_t===3&&ut.writeVarint(V(7,1))}}function ne(bt,ut){var Mt=typeof bt;Mt==="string"?ut.writeStringField(1,bt):Mt==="boolean"?ut.writeBooleanField(7,bt):Mt==="number"&&(bt%1!==0?ut.writeDoubleField(3,bt):bt<0?ut.writeSVarintField(6,bt):ut.writeVarintField(5,bt))}s.fromVectorTileJs=S,s.fromGeojsonVt=b,s.GeoJSONWrapper=I;function q(bt,ut,Mt,_t,kt,Xt){if(!(kt-_t<=Mt)){var Wt=_t+kt>>1;se(bt,ut,Wt,_t,kt,Xt%2),q(bt,ut,Mt,_t,Wt-1,Xt+1),q(bt,ut,Mt,Wt+1,kt,Xt+1)}}function se(bt,ut,Mt,_t,kt,Xt){for(;kt>_t;){if(kt-_t>600){var Wt=kt-_t+1,Ht=Mt-_t+1,tr=Math.log(Wt),gr=.5*Math.exp(2*tr/3),Qt=.5*Math.sqrt(tr*gr*(Wt-gr)/Wt)*(Ht-Wt/2<0?-1:1),mr=Math.max(_t,Math.floor(Mt-Ht*gr/Wt+Qt)),Ze=Math.min(kt,Math.floor(Mt+(Wt-Ht)*gr/Wt+Qt));se(bt,ut,Mt,mr,Ze,Xt)}var Ye=ut[2*Mt+Xt],Bt=_t,Ft=kt;for(J(bt,ut,_t,Mt),ut[2*kt+Xt]>Ye&&J(bt,ut,_t,kt);Bt<Ft;){for(J(bt,ut,Bt,Ft),Bt++,Ft--;ut[2*Bt+Xt]<Ye;)Bt++;for(;ut[2*Ft+Xt]>Ye;)Ft--}ut[2*_t+Xt]===Ye?J(bt,ut,_t,Ft):(Ft++,J(bt,ut,Ft,kt)),Ft<=Mt&&(_t=Ft+1),Mt<=Ft&&(kt=Ft-1)}}function J(bt,ut,Mt,_t){Z(bt,Mt,_t),Z(ut,2*Mt,2*_t),Z(ut,2*Mt+1,2*_t+1)}function Z(bt,ut,Mt){var _t=bt[ut];bt[ut]=bt[Mt],bt[Mt]=_t}function te(bt,ut,Mt,_t,kt,Xt,Wt){for(var Ht=[0,bt.length-1,0],tr=[],gr,Qt;Ht.length;){var mr=Ht.pop(),Ze=Ht.pop(),Ye=Ht.pop();if(Ze-Ye<=Wt){for(var Bt=Ye;Bt<=Ze;Bt++)gr=ut[2*Bt],Qt=ut[2*Bt+1],gr>=Mt&&gr<=kt&&Qt>=_t&&Qt<=Xt&&tr.push(bt[Bt]);continue}var Ft=Math.floor((Ye+Ze)/2);gr=ut[2*Ft],Qt=ut[2*Ft+1],gr>=Mt&&gr<=kt&&Qt>=_t&&Qt<=Xt&&tr.push(bt[Ft]);var rr=(mr+1)%2;(mr===0?Mt<=gr:_t<=Qt)&&(Ht.push(Ye),Ht.push(Ft-1),Ht.push(rr)),(mr===0?kt>=gr:Xt>=Qt)&&(Ht.push(Ft+1),Ht.push(Ze),Ht.push(rr))}return tr}function Y(bt,ut,Mt,_t,kt,Xt){for(var Wt=[0,bt.length-1,0],Ht=[],tr=kt*kt;Wt.length;){var gr=Wt.pop(),Qt=Wt.pop(),mr=Wt.pop();if(Qt-mr<=Xt){for(var Ze=mr;Ze<=Qt;Ze++)ie(ut[2*Ze],ut[2*Ze+1],Mt,_t)<=tr&&Ht.push(bt[Ze]);continue}var Ye=Math.floor((mr+Qt)/2),Bt=ut[2*Ye],Ft=ut[2*Ye+1];ie(Bt,Ft,Mt,_t)<=tr&&Ht.push(bt[Ye]);var rr=(gr+1)%2;(gr===0?Mt-kt<=Bt:_t-kt<=Ft)&&(Wt.push(mr),Wt.push(Ye-1),Wt.push(rr)),(gr===0?Mt+kt>=Bt:_t+kt>=Ft)&&(Wt.push(Ye+1),Wt.push(Qt),Wt.push(rr))}return Ht}function ie(bt,ut,Mt,_t){var kt=bt-Mt,Xt=ut-_t;return kt*kt+Xt*Xt}var le=function(bt){return bt[0]},j=function(bt){return bt[1]},K=function(ut,Mt,_t,kt,Xt){Mt===void 0&&(Mt=le),_t===void 0&&(_t=j),kt===void 0&&(kt=64),Xt===void 0&&(Xt=Float64Array),this.nodeSize=kt,this.points=ut;for(var Wt=ut.length<65536?Uint16Array:Uint32Array,Ht=this.ids=new Wt(ut.length),tr=this.coords=new Xt(ut.length*2),gr=0;gr<ut.length;gr++)Ht[gr]=gr,tr[2*gr]=Mt(ut[gr]),tr[2*gr+1]=_t(ut[gr]);q(Ht,tr,kt,0,Ht.length-1,0)};K.prototype.range=function(ut,Mt,_t,kt){return te(this.ids,this.coords,ut,Mt,_t,kt,this.nodeSize)},K.prototype.within=function(ut,Mt,_t){return Y(this.ids,this.coords,ut,Mt,_t,this.nodeSize)};var ue={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(bt){return bt}},ae=function(ut){this.options=Pe(Object.create(ue),ut),this.trees=new Array(this.options.maxZoom+1)};ae.prototype.load=function(ut){var Mt=this.options,_t=Mt.log,kt=Mt.minZoom,Xt=Mt.maxZoom,Wt=Mt.nodeSize;_t&&console.time("total time");var Ht="prepare "+ut.length+" points";_t&&console.time(Ht),this.points=ut;for(var tr=[],gr=0;gr<ut.length;gr++)ut[gr].geometry&&tr.push(xe(ut[gr],gr));this.trees[Xt+1]=new K(tr,Ve,Ge,Wt,Float32Array),_t&&console.timeEnd(Ht);for(var Qt=Xt;Qt>=kt;Qt--){var mr=+Date.now();tr=this._cluster(tr,Qt),this.trees[Qt]=new K(tr,Ve,Ge,Wt,Float32Array),_t&&console.log("z%d: %d clusters in %dms",Qt,tr.length,+Date.now()-mr)}return _t&&console.timeEnd("total time"),this},ae.prototype.getClusters=function(ut,Mt){var _t=((ut[0]+180)%360+360)%360-180,kt=Math.max(-90,Math.min(90,ut[1])),Xt=ut[2]===180?180:((ut[2]+180)%360+360)%360-180,Wt=Math.max(-90,Math.min(90,ut[3]));if(ut[2]-ut[0]>=360)_t=-180,Xt=180;else if(_t>Xt){var Ht=this.getClusters([_t,kt,180,Wt],Mt),tr=this.getClusters([-180,kt,Xt,Wt],Mt);return Ht.concat(tr)}for(var gr=this.trees[this._limitZoom(Mt)],Qt=gr.range(De(_t),we(Wt),De(Xt),we(kt)),mr=[],Ze=0,Ye=Qt;Ze<Ye.length;Ze+=1){var Bt=Ye[Ze],Ft=gr.points[Bt];mr.push(Ft.numPoints?Se(Ft):this.points[Ft.index])}return mr},ae.prototype.getChildren=function(ut){var Mt=this._getOriginId(ut),_t=this._getOriginZoom(ut),kt="No cluster with the specified id.",Xt=this.trees[_t];if(!Xt)throw new Error(kt);var Wt=Xt.points[Mt];if(!Wt)throw new Error(kt);for(var Ht=this.options.radius/(this.options.extent*Math.pow(2,_t-1)),tr=Xt.within(Wt.x,Wt.y,Ht),gr=[],Qt=0,mr=tr;Qt<mr.length;Qt+=1){var Ze=mr[Qt],Ye=Xt.points[Ze];Ye.parentId===ut&&gr.push(Ye.numPoints?Se(Ye):this.points[Ye.index])}if(gr.length===0)throw new Error(kt);return gr},ae.prototype.getLeaves=function(ut,Mt,_t){Mt=Mt||10,_t=_t||0;var kt=[];return this._appendLeaves(kt,ut,Mt,_t,0),kt},ae.prototype.getTile=function(ut,Mt,_t){var kt=this.trees[this._limitZoom(ut)],Xt=Math.pow(2,ut),Wt=this.options,Ht=Wt.extent,tr=Wt.radius,gr=tr/Ht,Qt=(_t-gr)/Xt,mr=(_t+1+gr)/Xt,Ze={features:[]};return this._addTileFeatures(kt.range((Mt-gr)/Xt,Qt,(Mt+1+gr)/Xt,mr),kt.points,Mt,_t,Xt,Ze),Mt===0&&this._addTileFeatures(kt.range(1-gr/Xt,Qt,1,mr),kt.points,Xt,_t,Xt,Ze),Mt===Xt-1&&this._addTileFeatures(kt.range(0,Qt,gr/Xt,mr),kt.points,-1,_t,Xt,Ze),Ze.features.length?Ze:null},ae.prototype.getClusterExpansionZoom=function(ut){for(var Mt=this._getOriginZoom(ut)-1;Mt<=this.options.maxZoom;){var _t=this.getChildren(ut);if(Mt++,_t.length!==1)break;ut=_t[0].properties.cluster_id}return Mt},ae.prototype._appendLeaves=function(ut,Mt,_t,kt,Xt){for(var Wt=this.getChildren(Mt),Ht=0,tr=Wt;Ht<tr.length;Ht+=1){var gr=tr[Ht],Qt=gr.properties;if(Qt&&Qt.cluster?Xt+Qt.point_count<=kt?Xt+=Qt.point_count:Xt=this._appendLeaves(ut,Qt.cluster_id,_t,kt,Xt):Xt<kt?Xt++:ut.push(gr),ut.length===_t)break}return Xt},ae.prototype._addTileFeatures=function(ut,Mt,_t,kt,Xt,Wt){for(var Ht=0,tr=ut;Ht<tr.length;Ht+=1){var gr=tr[Ht],Qt=Mt[gr],mr=Qt.numPoints,Ze={type:1,geometry:[[Math.round(this.options.extent*(Qt.x*Xt-_t)),Math.round(this.options.extent*(Qt.y*Xt-kt))]],tags:mr?Ae(Qt):this.points[Qt.index].properties},Ye=void 0;mr?Ye=Qt.id:this.options.generateId?Ye=Qt.index:this.points[Qt.index].id&&(Ye=this.points[Qt.index].id),Ye!==void 0&&(Ze.id=Ye),Wt.features.push(Ze)}},ae.prototype._limitZoom=function(ut){return Math.max(this.options.minZoom,Math.min(+ut,this.options.maxZoom+1))},ae.prototype._cluster=function(ut,Mt){for(var _t=[],kt=this.options,Xt=kt.radius,Wt=kt.extent,Ht=kt.reduce,tr=kt.minPoints,gr=Xt/(Wt*Math.pow(2,Mt)),Qt=0;Qt<ut.length;Qt++){var mr=ut[Qt];if(!(mr.zoom<=Mt)){mr.zoom=Mt;for(var Ze=this.trees[Mt+1],Ye=Ze.within(mr.x,mr.y,gr),Bt=mr.numPoints||1,Ft=Bt,rr=0,sr=Ye;rr<sr.length;rr+=1){var fr=sr[rr],ir=Ze.points[fr];ir.zoom>Mt&&(Ft+=ir.numPoints||1)}if(Ft>=tr){for(var Vt=mr.x*Bt,yr=mr.y*Bt,br=Ht&&Bt>1?this._map(mr,!0):null,_r=(Qt<<5)+(Mt+1)+this.points.length,pr=0,Yr=Ye;pr<Yr.length;pr+=1){var zr=Yr[pr],Nr=Ze.points[zr];if(!(Nr.zoom<=Mt)){Nr.zoom=Mt;var xn=Nr.numPoints||1;Vt+=Nr.x*xn,yr+=Nr.y*xn,Nr.parentId=_r,Ht&&(br||(br=this._map(mr,!0)),Ht(br,this._map(Nr)))}}mr.parentId=_r,_t.push(he(Vt/Ft,yr/Ft,_r,Ft,br))}else if(_t.push(mr),Ft>1)for(var tn=0,On=Ye;tn<On.length;tn+=1){var zn=On[tn],Sr=Ze.points[zn];Sr.zoom<=Mt||(Sr.zoom=Mt,_t.push(Sr))}}}return _t},ae.prototype._getOriginId=function(ut){return ut-this.points.length>>5},ae.prototype._getOriginZoom=function(ut){return(ut-this.points.length)%32},ae.prototype._map=function(ut,Mt){if(ut.numPoints)return Mt?Pe({},ut.properties):ut.properties;var _t=this.points[ut.index].properties,kt=this.options.map(_t);return Mt&&kt===_t?Pe({},kt):kt};function he(bt,ut,Mt,_t,kt){return{x:bt,y:ut,zoom:1/0,id:Mt,parentId:-1,numPoints:_t,properties:kt}}function xe(bt,ut){var Mt=bt.geometry.coordinates,_t=Mt[0],kt=Mt[1];return{x:De(_t),y:we(kt),zoom:1/0,index:ut,parentId:-1}}function Se(bt){return{type:"Feature",id:bt.id,properties:Ae(bt),geometry:{type:"Point",coordinates:[Ce(bt.x),be(bt.y)]}}}function Ae(bt){var ut=bt.numPoints,Mt=ut>=1e4?Math.round(ut/1e3)+"k":ut>=1e3?Math.round(ut/100)/10+"k":ut;return Pe(Pe({},bt.properties),{cluster:!0,cluster_id:bt.id,point_count:ut,point_count_abbreviated:Mt})}function De(bt){return bt/360+.5}function we(bt){var ut=Math.sin(bt*Math.PI/180),Mt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return Mt<0?0:Mt>1?1:Mt}function Ce(bt){return(bt-.5)*360}function be(bt){var ut=(180-bt*360)*Math.PI/180;return 360*Math.atan(Math.exp(ut))/Math.PI-90}function Pe(bt,ut){for(var Mt in ut)bt[Mt]=ut[Mt];return bt}function Ve(bt){return bt.x}function Ge(bt){return bt.y}function Fe(bt,ut,Mt,_t){for(var kt=_t,Xt=Mt-ut>>1,Wt=Mt-ut,Ht,tr=bt[ut],gr=bt[ut+1],Qt=bt[Mt],mr=bt[Mt+1],Ze=ut+3;Ze<Mt;Ze+=3){var Ye=He(bt[Ze],bt[Ze+1],tr,gr,Qt,mr);if(Ye>kt)Ht=Ze,kt=Ye;else if(Ye===kt){var Bt=Math.abs(Ze-Xt);Bt<Wt&&(Ht=Ze,Wt=Bt)}}kt>_t&&(Ht-ut>3&&Fe(bt,ut,Ht,_t),bt[Ht+2]=kt,Mt-Ht>3&&Fe(bt,Ht,Mt,_t))}function He(bt,ut,Mt,_t,kt,Xt){var Wt=kt-Mt,Ht=Xt-_t;if(Wt!==0||Ht!==0){var tr=((bt-Mt)*Wt+(ut-_t)*Ht)/(Wt*Wt+Ht*Ht);tr>1?(Mt=kt,_t=Xt):tr>0&&(Mt+=Wt*tr,_t+=Ht*tr)}return Wt=bt-Mt,Ht=ut-_t,Wt*Wt+Ht*Ht}function ft(bt,ut,Mt,_t){var kt={id:typeof bt>"u"?null:bt,type:ut,geometry:Mt,tags:_t,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return gt(kt),kt}function gt(bt){var ut=bt.geometry,Mt=bt.type;if(Mt==="Point"||Mt==="MultiPoint"||Mt==="LineString")ct(bt,ut);else if(Mt==="Polygon"||Mt==="MultiLineString")for(var _t=0;_t<ut.length;_t++)ct(bt,ut[_t]);else if(Mt==="MultiPolygon")for(_t=0;_t<ut.length;_t++)for(var kt=0;kt<ut[_t].length;kt++)ct(bt,ut[_t][kt])}function ct(bt,ut){for(var Mt=0;Mt<ut.length;Mt+=3)bt.minX=Math.min(bt.minX,ut[Mt]),bt.minY=Math.min(bt.minY,ut[Mt+1]),bt.maxX=Math.max(bt.maxX,ut[Mt]),bt.maxY=Math.max(bt.maxY,ut[Mt+1])}function nt(bt,ut){var Mt=[];if(bt.type==="FeatureCollection")for(var _t=0;_t<bt.features.length;_t++)dt(Mt,bt.features[_t],ut,_t);else bt.type==="Feature"?dt(Mt,bt,ut):dt(Mt,{geometry:bt},ut);return Mt}function dt(bt,ut,Mt,_t){if(ut.geometry){var kt=ut.geometry.coordinates,Xt=ut.geometry.type,Wt=Math.pow(Mt.tolerance/((1<<Mt.maxZoom)*Mt.extent),2),Ht=[],tr=ut.id;if(Mt.promoteId?tr=ut.properties[Mt.promoteId]:Mt.generateId&&(tr=_t||0),Xt==="Point")pt(kt,Ht);else if(Xt==="MultiPoint")for(var gr=0;gr<kt.length;gr++)pt(kt[gr],Ht);else if(Xt==="LineString")wt(kt,Ht,Wt,!1);else if(Xt==="MultiLineString")if(Mt.lineMetrics){for(gr=0;gr<kt.length;gr++)Ht=[],wt(kt[gr],Ht,Wt,!1),bt.push(ft(tr,"LineString",Ht,ut.properties));return}else Tt(kt,Ht,Wt,!1);else if(Xt==="Polygon")Tt(kt,Ht,Wt,!0);else if(Xt==="MultiPolygon")for(gr=0;gr<kt.length;gr++){var Qt=[];Tt(kt[gr],Qt,Wt,!0),Ht.push(Qt)}else if(Xt==="GeometryCollection"){for(gr=0;gr<ut.geometry.geometries.length;gr++)dt(bt,{id:tr,geometry:ut.geometry.geometries[gr],properties:ut.properties},Mt,_t);return}else throw new Error("Input data is not a valid GeoJSON object.");bt.push(ft(tr,Xt,Ht,ut.properties))}}function pt(bt,ut){ut.push(Ct(bt[0])),ut.push(at(bt[1])),ut.push(0)}function wt(bt,ut,Mt,_t){for(var kt,Xt,Wt=0,Ht=0;Ht<bt.length;Ht++){var tr=Ct(bt[Ht][0]),gr=at(bt[Ht][1]);ut.push(tr),ut.push(gr),ut.push(0),Ht>0&&(_t?Wt+=(kt*gr-tr*Xt)/2:Wt+=Math.sqrt(Math.pow(tr-kt,2)+Math.pow(gr-Xt,2))),kt=tr,Xt=gr}var Qt=ut.length-3;ut[2]=1,Fe(ut,0,Qt,Mt),ut[Qt+2]=1,ut.size=Math.abs(Wt),ut.start=0,ut.end=ut.size}function Tt(bt,ut,Mt,_t){for(var kt=0;kt<bt.length;kt++){var Xt=[];wt(bt[kt],Xt,Mt,_t),ut.push(Xt)}}function Ct(bt){return bt/360+.5}function at(bt){var ut=Math.sin(bt*Math.PI/180),Mt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return Mt<0?0:Mt>1?1:Mt}function ze(bt,ut,Mt,_t,kt,Xt,Wt,Ht){if(Mt/=ut,_t/=ut,Xt>=Mt&&Wt<_t)return bt;if(Wt<Mt||Xt>=_t)return null;for(var tr=[],gr=0;gr<bt.length;gr++){var Qt=bt[gr],mr=Qt.geometry,Ze=Qt.type,Ye=kt===0?Qt.minX:Qt.minY,Bt=kt===0?Qt.maxX:Qt.maxY;if(Ye>=Mt&&Bt<_t){tr.push(Qt);continue}else if(Bt<Mt||Ye>=_t)continue;var Ft=[];if(Ze==="Point"||Ze==="MultiPoint")je(mr,Ft,Mt,_t,kt);else if(Ze==="LineString")Je(mr,Ft,Mt,_t,kt,!1,Ht.lineMetrics);else if(Ze==="MultiLineString")Oe(mr,Ft,Mt,_t,kt,!1);else if(Ze==="Polygon")Oe(mr,Ft,Mt,_t,kt,!0);else if(Ze==="MultiPolygon")for(var rr=0;rr<mr.length;rr++){var sr=[];Oe(mr[rr],sr,Mt,_t,kt,!0),sr.length&&Ft.push(sr)}if(Ft.length){if(Ht.lineMetrics&&Ze==="LineString"){for(rr=0;rr<Ft.length;rr++)tr.push(ft(Qt.id,Ze,Ft[rr],Qt.tags));continue}(Ze==="LineString"||Ze==="MultiLineString")&&(Ft.length===1?(Ze="LineString",Ft=Ft[0]):Ze="MultiLineString"),(Ze==="Point"||Ze==="MultiPoint")&&(Ze=Ft.length===3?"Point":"MultiPoint"),tr.push(ft(Qt.id,Ze,Ft,Qt.tags))}}return tr.length?tr:null}function je(bt,ut,Mt,_t,kt){for(var Xt=0;Xt<bt.length;Xt+=3){var Wt=bt[Xt+kt];Wt>=Mt&&Wt<=_t&&(ut.push(bt[Xt]),ut.push(bt[Xt+1]),ut.push(bt[Xt+2]))}}function Je(bt,ut,Mt,_t,kt,Xt,Wt){for(var Ht=Xe(bt),tr=kt===0?Ke:Ie,gr=bt.start,Qt,mr,Ze=0;Ze<bt.length-3;Ze+=3){var Ye=bt[Ze],Bt=bt[Ze+1],Ft=bt[Ze+2],rr=bt[Ze+3],sr=bt[Ze+4],fr=kt===0?Ye:Bt,ir=kt===0?rr:sr,Vt=!1;Wt&&(Qt=Math.sqrt(Math.pow(Ye-rr,2)+Math.pow(Bt-sr,2))),fr<Mt?ir>Mt&&(mr=tr(Ht,Ye,Bt,rr,sr,Mt),Wt&&(Ht.start=gr+Qt*mr)):fr>_t?ir<_t&&(mr=tr(Ht,Ye,Bt,rr,sr,_t),Wt&&(Ht.start=gr+Qt*mr)):ke(Ht,Ye,Bt,Ft),ir<Mt&&fr>=Mt&&(mr=tr(Ht,Ye,Bt,rr,sr,Mt),Vt=!0),ir>_t&&fr<=_t&&(mr=tr(Ht,Ye,Bt,rr,sr,_t),Vt=!0),!Xt&&Vt&&(Wt&&(Ht.end=gr+Qt*mr),ut.push(Ht),Ht=Xe(bt)),Wt&&(gr+=Qt)}var yr=bt.length-3;Ye=bt[yr],Bt=bt[yr+1],Ft=bt[yr+2],fr=kt===0?Ye:Bt,fr>=Mt&&fr<=_t&&ke(Ht,Ye,Bt,Ft),yr=Ht.length-3,Xt&&yr>=3&&(Ht[yr]!==Ht[0]||Ht[yr+1]!==Ht[1])&&ke(Ht,Ht[0],Ht[1],Ht[2]),Ht.length&&ut.push(Ht)}function Xe(bt){var ut=[];return ut.size=bt.size,ut.start=bt.start,ut.end=bt.end,ut}function Oe(bt,ut,Mt,_t,kt,Xt){for(var Wt=0;Wt<bt.length;Wt++)Je(bt[Wt],ut,Mt,_t,kt,Xt,!1)}function ke(bt,ut,Mt,_t){bt.push(ut),bt.push(Mt),bt.push(_t)}function Ke(bt,ut,Mt,_t,kt,Xt){var Wt=(Xt-ut)/(_t-ut);return bt.push(Xt),bt.push(Mt+(kt-Mt)*Wt),bt.push(1),Wt}function Ie(bt,ut,Mt,_t,kt,Xt){var Wt=(Xt-Mt)/(kt-Mt);return bt.push(ut+(_t-ut)*Wt),bt.push(Xt),bt.push(1),Wt}function pe(bt,ut){var Mt=ut.buffer/ut.extent,_t=bt,kt=ze(bt,1,-1-Mt,Mt,0,-1,2,ut),Xt=ze(bt,1,1-Mt,2+Mt,0,-1,2,ut);return(kt||Xt)&&(_t=ze(bt,1,-Mt,1+Mt,0,-1,2,ut)||[],kt&&(_t=Te(kt,1).concat(_t)),Xt&&(_t=_t.concat(Te(Xt,-1)))),_t}function Te(bt,ut){for(var Mt=[],_t=0;_t<bt.length;_t++){var kt=bt[_t],Xt=kt.type,Wt;if(Xt==="Point"||Xt==="MultiPoint"||Xt==="LineString")Wt=Ue(kt.geometry,ut);else if(Xt==="MultiLineString"||Xt==="Polygon"){Wt=[];for(var Ht=0;Ht<kt.geometry.length;Ht++)Wt.push(Ue(kt.geometry[Ht],ut))}else if(Xt==="MultiPolygon")for(Wt=[],Ht=0;Ht<kt.geometry.length;Ht++){for(var tr=[],gr=0;gr<kt.geometry[Ht].length;gr++)tr.push(Ue(kt.geometry[Ht][gr],ut));Wt.push(tr)}Mt.push(ft(kt.id,Xt,Wt,kt.tags))}return Mt}function Ue(bt,ut){var Mt=[];Mt.size=bt.size,bt.start!==void 0&&(Mt.start=bt.start,Mt.end=bt.end);for(var _t=0;_t<bt.length;_t+=3)Mt.push(bt[_t]+ut,bt[_t+1],bt[_t+2]);return Mt}function et(bt,ut){if(bt.transformed)return bt;var Mt=1<<bt.z,_t=bt.x,kt=bt.y,Xt,Wt,Ht;for(Xt=0;Xt<bt.features.length;Xt++){var tr=bt.features[Xt],gr=tr.geometry,Qt=tr.type;if(tr.geometry=[],Qt===1)for(Wt=0;Wt<gr.length;Wt+=2)tr.geometry.push(st(gr[Wt],gr[Wt+1],ut,Mt,_t,kt));else for(Wt=0;Wt<gr.length;Wt++){var mr=[];for(Ht=0;Ht<gr[Wt].length;Ht+=2)mr.push(st(gr[Wt][Ht],gr[Wt][Ht+1],ut,Mt,_t,kt));tr.geometry.push(mr)}}return bt.transformed=!0,bt}function st(bt,ut,Mt,_t,kt,Xt){return[Math.round(Mt*(bt*_t-kt)),Math.round(Mt*(ut*_t-Xt))]}function lt(bt,ut,Mt,_t,kt){for(var Xt=ut===kt.maxZoom?0:kt.tolerance/((1<<ut)*kt.extent),Wt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Mt,y:_t,z:ut,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ht=0;Ht<bt.length;Ht++){Wt.numFeatures++,jt(Wt,bt[Ht],Xt,kt);var tr=bt[Ht].minX,gr=bt[Ht].minY,Qt=bt[Ht].maxX,mr=bt[Ht].maxY;tr<Wt.minX&&(Wt.minX=tr),gr<Wt.minY&&(Wt.minY=gr),Qt>Wt.maxX&&(Wt.maxX=Qt),mr>Wt.maxY&&(Wt.maxY=mr)}return Wt}function jt(bt,ut,Mt,_t){var kt=ut.geometry,Xt=ut.type,Wt=[];if(Xt==="Point"||Xt==="MultiPoint")for(var Ht=0;Ht<kt.length;Ht+=3)Wt.push(kt[Ht]),Wt.push(kt[Ht+1]),bt.numPoints++,bt.numSimplified++;else if(Xt==="LineString")Jt(Wt,kt,bt,Mt,!1,!1);else if(Xt==="MultiLineString"||Xt==="Polygon")for(Ht=0;Ht<kt.length;Ht++)Jt(Wt,kt[Ht],bt,Mt,Xt==="Polygon",Ht===0);else if(Xt==="MultiPolygon")for(var tr=0;tr<kt.length;tr++){var gr=kt[tr];for(Ht=0;Ht<gr.length;Ht++)Jt(Wt,gr[Ht],bt,Mt,!0,Ht===0)}if(Wt.length){var Qt=ut.tags||null;if(Xt==="LineString"&&_t.lineMetrics){Qt={};for(var mr in ut.tags)Qt[mr]=ut.tags[mr];Qt.mapbox_clip_start=kt.start/kt.size,Qt.mapbox_clip_end=kt.end/kt.size}var Ze={geometry:Wt,type:Xt==="Polygon"||Xt==="MultiPolygon"?3:Xt==="LineString"||Xt==="MultiLineString"?2:1,tags:Qt};ut.id!==null&&(Ze.id=ut.id),bt.features.push(Ze)}}function Jt(bt,ut,Mt,_t,kt,Xt){var Wt=_t*_t;if(_t>0&&ut.size<(kt?Wt:_t)){Mt.numPoints+=ut.length/3;return}for(var Ht=[],tr=0;tr<ut.length;tr+=3)(_t===0||ut[tr+2]>Wt)&&(Mt.numSimplified++,Ht.push(ut[tr]),Ht.push(ut[tr+1])),Mt.numPoints++;kt&&St(Ht,Xt),bt.push(Ht)}function St(bt,ut){for(var Mt=0,_t=0,kt=bt.length,Xt=kt-2;_t<kt;Xt=_t,_t+=2)Mt+=(bt[_t]-bt[Xt])*(bt[_t+1]+bt[Xt+1]);if(Mt>0===ut)for(_t=0,kt=bt.length;_t<kt/2;_t+=2){var Wt=bt[_t],Ht=bt[_t+1];bt[_t]=bt[kt-2-_t],bt[_t+1]=bt[kt-1-_t],bt[kt-2-_t]=Wt,bt[kt-1-_t]=Ht}}function Rt(bt,ut){return new $t(bt,ut)}function $t(bt,ut){ut=this.options=xt(Object.create(this.options),ut);var Mt=ut.debug;if(Mt&&console.time("preprocess data"),ut.maxZoom<0||ut.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ut.promoteId&&ut.generateId)throw new Error("promoteId and generateId cannot be used together.");var _t=nt(bt,ut);this.tiles={},this.tileCoords=[],Mt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ut.indexMaxZoom,ut.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),_t=pe(_t,ut),_t.length&&this.splitTile(_t,0,0,0),Mt&&(_t.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}$t.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},$t.prototype.splitTile=function(bt,ut,Mt,_t,kt,Xt,Wt){for(var Ht=[bt,ut,Mt,_t],tr=this.options,gr=tr.debug;Ht.length;){_t=Ht.pop(),Mt=Ht.pop(),ut=Ht.pop(),bt=Ht.pop();var Qt=1<<ut,mr=Pr(ut,Mt,_t),Ze=this.tiles[mr];if(!Ze&&(gr>1&&console.time("creation"),Ze=this.tiles[mr]=lt(bt,ut,Mt,_t,tr),this.tileCoords.push({z:ut,x:Mt,y:_t}),gr)){gr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ut,Mt,_t,Ze.numFeatures,Ze.numPoints,Ze.numSimplified),console.timeEnd("creation"));var Ye="z"+ut;this.stats[Ye]=(this.stats[Ye]||0)+1,this.total++}if(Ze.source=bt,kt){if(ut===tr.maxZoom||ut===kt)continue;var Bt=1<<kt-ut;if(Mt!==Math.floor(Xt/Bt)||_t!==Math.floor(Wt/Bt))continue}else if(ut===tr.indexMaxZoom||Ze.numPoints<=tr.indexMaxPoints)continue;if(Ze.source=null,bt.length!==0){gr>1&&console.time("clipping");var Ft=.5*tr.buffer/tr.extent,rr=.5-Ft,sr=.5+Ft,fr=1+Ft,ir,Vt,yr,br,_r,pr;ir=Vt=yr=br=null,_r=ze(bt,Qt,Mt-Ft,Mt+sr,0,Ze.minX,Ze.maxX,tr),pr=ze(bt,Qt,Mt+rr,Mt+fr,0,Ze.minX,Ze.maxX,tr),bt=null,_r&&(ir=ze(_r,Qt,_t-Ft,_t+sr,1,Ze.minY,Ze.maxY,tr),Vt=ze(_r,Qt,_t+rr,_t+fr,1,Ze.minY,Ze.maxY,tr),_r=null),pr&&(yr=ze(pr,Qt,_t-Ft,_t+sr,1,Ze.minY,Ze.maxY,tr),br=ze(pr,Qt,_t+rr,_t+fr,1,Ze.minY,Ze.maxY,tr),pr=null),gr>1&&console.timeEnd("clipping"),Ht.push(ir||[],ut+1,Mt*2,_t*2),Ht.push(Vt||[],ut+1,Mt*2,_t*2+1),Ht.push(yr||[],ut+1,Mt*2+1,_t*2),Ht.push(br||[],ut+1,Mt*2+1,_t*2+1)}}},$t.prototype.getTile=function(bt,ut,Mt){var _t=this.options,kt=_t.extent,Xt=_t.debug;if(bt<0||bt>24)return null;var Wt=1<<bt;ut=(ut%Wt+Wt)%Wt;var Ht=Pr(bt,ut,Mt);if(this.tiles[Ht])return et(this.tiles[Ht],kt);Xt>1&&console.log("drilling down to z%d-%d-%d",bt,ut,Mt);for(var tr=bt,gr=ut,Qt=Mt,mr;!mr&&tr>0;)tr--,gr=Math.floor(gr/2),Qt=Math.floor(Qt/2),mr=this.tiles[Pr(tr,gr,Qt)];return!mr||!mr.source?null:(Xt>1&&console.log("found parent tile z%d-%d-%d",tr,gr,Qt),Xt>1&&console.time("drilling down"),this.splitTile(mr.source,tr,gr,Qt,bt,ut,Mt),Xt>1&&console.timeEnd("drilling down"),this.tiles[Ht]?et(this.tiles[Ht],kt):null)};function Pr(bt,ut,Mt){return((1<<bt)*Mt+ut)*32+bt}function xt(bt,ut){for(var Mt in ut)bt[Mt]=ut[Mt];return bt}function qt(bt,ut){var Mt=bt.tileID.canonical;if(!this._geoJSONIndex)return ut(null,null);var _t=this._geoJSONIndex.getTile(Mt.z,Mt.x,Mt.y);if(!_t)return ut(null,null);var kt=new A(_t.features),Xt=s(kt);(Xt.byteOffset!==0||Xt.byteLength!==Xt.buffer.byteLength)&&(Xt=new Uint8Array(Xt)),ut(null,{vectorTile:kt,rawData:Xt.buffer})}var nr=function(bt){function ut(Mt,_t,kt,Xt){bt.call(this,Mt,_t,kt,qt),Xt&&(this.loadGeoJSON=Xt)}return bt&&(ut.__proto__=bt),ut.prototype=Object.create(bt&&bt.prototype),ut.prototype.constructor=ut,ut.prototype.loadData=function(_t,kt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=kt,this._pendingLoadDataParams=_t,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ut.prototype._loadData=function(){var _t=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var kt=this._pendingCallback,Xt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Wt=Xt&&Xt.request&&Xt.request.collectResourceTiming?new n.RequestPerformance(Xt.request):!1;this.loadGeoJSON(Xt,function(Ht,tr){if(Ht||!tr)return kt(Ht);if(typeof tr!="object")return kt(new Error("Input data given to '"+Xt.source+"' is not a valid GeoJSON object."));h(tr,!0);try{if(Xt.filter){var gr=n.createExpression(Xt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(gr.result==="error")throw new Error(gr.value.map(function(Ye){return Ye.key+": "+Ye.message}).join(", "));var Qt=tr.features.filter(function(Ye){return gr.value.evaluate({zoom:0},Ye)});tr={type:"FeatureCollection",features:Qt}}_t._geoJSONIndex=Xt.cluster?new ae(wr(Xt)).load(tr.features):Rt(tr,Xt.geojsonVtOptions)}catch(Ye){return kt(Ye)}_t.loaded={};var mr={};if(Wt){var Ze=Wt.finish();Ze&&(mr.resourceTiming={},mr.resourceTiming[Xt.source]=JSON.parse(JSON.stringify(Ze)))}kt(null,mr)})}},ut.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ut.prototype.reloadTile=function(_t,kt){var Xt=this.loaded,Wt=_t.uid;return Xt&&Xt[Wt]?bt.prototype.reloadTile.call(this,_t,kt):this.loadTile(_t,kt)},ut.prototype.loadGeoJSON=function(_t,kt){if(_t.request)n.getJSON(_t.request,kt);else if(typeof _t.data=="string")try{return kt(null,JSON.parse(_t.data))}catch{return kt(new Error("Input data given to '"+_t.source+"' is not a valid GeoJSON object."))}else return kt(new Error("Input data given to '"+_t.source+"' is not a valid GeoJSON object."))},ut.prototype.removeSource=function(_t,kt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),kt()},ut.prototype.getClusterExpansionZoom=function(_t,kt){try{kt(null,this._geoJSONIndex.getClusterExpansionZoom(_t.clusterId))}catch(Xt){kt(Xt)}},ut.prototype.getClusterChildren=function(_t,kt){try{kt(null,this._geoJSONIndex.getChildren(_t.clusterId))}catch(Xt){kt(Xt)}},ut.prototype.getClusterLeaves=function(_t,kt){try{kt(null,this._geoJSONIndex.getLeaves(_t.clusterId,_t.limit,_t.offset))}catch(Xt){kt(Xt)}},ut}(f);function wr(bt){var ut=bt.superclusterOptions,Mt=bt.clusterProperties;if(!Mt||!ut)return ut;for(var _t={},kt={},Xt={accumulated:null,zoom:0},Wt={properties:null},Ht=Object.keys(Mt),tr=0,gr=Ht;tr<gr.length;tr+=1){var Qt=gr[tr],mr=Mt[Qt],Ze=mr[0],Ye=mr[1],Bt=n.createExpression(Ye),Ft=n.createExpression(typeof Ze=="string"?[Ze,["accumulated"],["get",Qt]]:Ze);_t[Qt]=Bt.value,kt[Qt]=Ft.value}return ut.map=function(rr){Wt.properties=rr;for(var sr={},fr=0,ir=Ht;fr<ir.length;fr+=1){var Vt=ir[fr];sr[Vt]=_t[Vt].evaluate(Xt,Wt)}return sr},ut.reduce=function(rr,sr){Wt.properties=sr;for(var fr=0,ir=Ht;fr<ir.length;fr+=1){var Vt=ir[fr];Xt.accumulated=rr[Vt],rr[Vt]=kt[Vt].evaluate(Xt,Wt)}},ut}var dr=function(ut){var Mt=this;this.self=ut,this.actor=new n.Actor(ut,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:nr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(_t,kt){if(Mt.workerSourceTypes[_t])throw new Error('Worker source with name "'+_t+'" already registered.');Mt.workerSourceTypes[_t]=kt},this.self.registerRTLTextPlugin=function(_t){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=_t.applyArabicShaping,n.plugin.processBidirectionalText=_t.processBidirectionalText,n.plugin.processStyledBidirectionalText=_t.processStyledBidirectionalText}};return dr.prototype.setReferrer=function(ut,Mt){this.referrer=Mt},dr.prototype.setImages=function(ut,Mt,_t){this.availableImages[ut]=Mt;for(var kt in this.workerSources[ut]){var Xt=this.workerSources[ut][kt];for(var Wt in Xt)Xt[Wt].availableImages=Mt}_t()},dr.prototype.setLayers=function(ut,Mt,_t){this.getLayerIndex(ut).replace(Mt),_t()},dr.prototype.updateLayers=function(ut,Mt,_t){this.getLayerIndex(ut).update(Mt.layers,Mt.removedIds),_t()},dr.prototype.loadTile=function(ut,Mt,_t){this.getWorkerSource(ut,Mt.type,Mt.source).loadTile(Mt,_t)},dr.prototype.loadDEMTile=function(ut,Mt,_t){this.getDEMWorkerSource(ut,Mt.source).loadTile(Mt,_t)},dr.prototype.reloadTile=function(ut,Mt,_t){this.getWorkerSource(ut,Mt.type,Mt.source).reloadTile(Mt,_t)},dr.prototype.abortTile=function(ut,Mt,_t){this.getWorkerSource(ut,Mt.type,Mt.source).abortTile(Mt,_t)},dr.prototype.removeTile=function(ut,Mt,_t){this.getWorkerSource(ut,Mt.type,Mt.source).removeTile(Mt,_t)},dr.prototype.removeDEMTile=function(ut,Mt){this.getDEMWorkerSource(ut,Mt.source).removeTile(Mt)},dr.prototype.removeSource=function(ut,Mt,_t){if(!(!this.workerSources[ut]||!this.workerSources[ut][Mt.type]||!this.workerSources[ut][Mt.type][Mt.source])){var kt=this.workerSources[ut][Mt.type][Mt.source];delete this.workerSources[ut][Mt.type][Mt.source],kt.removeSource!==void 0?kt.removeSource(Mt,_t):_t()}},dr.prototype.loadWorkerSource=function(ut,Mt,_t){try{this.self.importScripts(Mt.url),_t()}catch(kt){_t(kt.toString())}},dr.prototype.syncRTLPluginState=function(ut,Mt,_t){try{n.plugin.setState(Mt);var kt=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&kt!=null){this.self.importScripts(kt);var Xt=n.plugin.isParsed(),Wt=Xt?void 0:new Error("RTL Text Plugin failed to import scripts from "+kt);_t(Wt,Xt)}}catch(Ht){_t(Ht.toString())}},dr.prototype.getAvailableImages=function(ut){var Mt=this.availableImages[ut];return Mt||(Mt=[]),Mt},dr.prototype.getLayerIndex=function(ut){var Mt=this.layerIndexes[ut];return Mt||(Mt=this.layerIndexes[ut]=new g),Mt},dr.prototype.getWorkerSource=function(ut,Mt,_t){var kt=this;if(this.workerSources[ut]||(this.workerSources[ut]={}),this.workerSources[ut][Mt]||(this.workerSources[ut][Mt]={}),!this.workerSources[ut][Mt][_t]){var Xt={send:function(Wt,Ht,tr){kt.actor.send(Wt,Ht,tr,ut)}};this.workerSources[ut][Mt][_t]=new this.workerSourceTypes[Mt](Xt,this.getLayerIndex(ut),this.getAvailableImages(ut))}return this.workerSources[ut][Mt][_t]},dr.prototype.getDEMWorkerSource=function(ut,Mt){return this.demWorkerSources[ut]||(this.demWorkerSources[ut]={}),this.demWorkerSources[ut][Mt]||(this.demWorkerSources[ut][Mt]=new m),this.demWorkerSources[ut][Mt]},dr.prototype.enforceCacheSizeLimit=function(ut,Mt){n.enforceCacheSizeLimit(Mt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new dr(self)),dr}),C(["./shared"],function(n){var L=n.createCommonjsModule(function(ve){ve.exports?ve.exports=$:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=$,window.mapboxgl.notSupportedReason=ge);function $(Qr){return!ge(Qr)}function ge(Qr){if(!re())return"not a browser";if(!me())return"insufficent Array support";if(!Ne())return"insufficient Function support";if(!$e())return"insufficient Object support";if(!vt())return"insufficient JSON support";if(!Pt())return"insufficient worker support";if(!Gt())return"insufficient Uint8ClampedArray support";if(!er())return"insufficient ArrayBuffer support";if(!vr())return"insufficient Canvas/getImageData support";if(!Ur(Qr&&Qr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function re(){return typeof window<"u"&&typeof document<"u"}function me(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Ne(){return Function.prototype&&Function.prototype.bind}function $e(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function vt(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Pt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Qr=new Blob([""],{type:"text/javascript"}),on=URL.createObjectURL(Qr),mn,Un;try{Un=new Worker(on),mn=!0}catch{mn=!1}return Un&&Un.terminate(),URL.revokeObjectURL(on),mn}function Gt(){return"Uint8ClampedArray"in window}function er(){return ArrayBuffer.isView}function vr(){var Qr=document.createElement("canvas");Qr.width=Qr.height=1;var on=Qr.getContext("2d");if(!on)return!1;var mn=on.getImageData(0,0,1,1);return mn&&mn.width===Qr.width}var hr={};function Ur(Qr){return hr[Qr]===void 0&&(hr[Qr]=en(Qr)),hr[Qr]}$.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function rn(Qr){var on=document.createElement("canvas"),mn=Object.create($.webGLContextAttributes);return mn.failIfMajorPerformanceCaveat=Qr,on.probablySupportsContext?on.probablySupportsContext("webgl",mn)||on.probablySupportsContext("experimental-webgl",mn):on.supportsContext?on.supportsContext("webgl",mn)||on.supportsContext("experimental-webgl",mn):on.getContext("webgl",mn)||on.getContext("experimental-webgl",mn)}function en(Qr){var on=rn(Qr);if(!on)return!1;var mn=on.createShader(on.VERTEX_SHADER);return!mn||on.isContextLost()?!1:(on.shaderSource(mn,"void main() {}"),on.compileShader(mn),on.getShaderParameter(mn,on.COMPILE_STATUS)===!0)}}),w={};w.create=function(ve,$,ge){var re=n.window.document.createElement(ve);return $!==void 0&&(re.className=$),ge&&ge.appendChild(re),re},w.createNS=function(ve,$){var ge=n.window.document.createElementNS(ve,$);return ge};var v=n.window.document&&n.window.document.documentElement.style;function g(ve){if(!v)return ve[0];for(var $=0;$<ve.length;$++)if(ve[$]in v)return ve[$];return ve[0]}var r=g(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;w.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},w.enableDrag=function(){v&&r&&(v[r]=t)};var i=g(["transform","WebkitTransform"]);w.setTransform=function(ve,$){ve.style[i]=$};var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});n.window.addEventListener("test",u,u),n.window.removeEventListener("test",u,u)}catch{a=!1}w.addEventListener=function(ve,$,ge,re){re===void 0&&(re={}),"passive"in re&&a?ve.addEventListener($,ge,re):ve.addEventListener($,ge,re.capture)},w.removeEventListener=function(ve,$,ge,re){re===void 0&&(re={}),"passive"in re&&a?ve.removeEventListener($,ge,re):ve.removeEventListener($,ge,re.capture)};var f=function(ve){ve.preventDefault(),ve.stopPropagation(),n.window.removeEventListener("click",f,!0)};w.suppressClick=function(){n.window.addEventListener("click",f,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",f,!0)},0)},w.mousePos=function(ve,$){var ge=ve.getBoundingClientRect();return new n.Point($.clientX-ge.left-ve.clientLeft,$.clientY-ge.top-ve.clientTop)},w.touchPos=function(ve,$){for(var ge=ve.getBoundingClientRect(),re=[],me=0;me<$.length;me++)re.push(new n.Point($[me].clientX-ge.left-ve.clientLeft,$[me].clientY-ge.top-ve.clientTop));return re},w.mouseButton=function(ve){return typeof n.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},w.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function l(ve,$,ge){var re,me,Ne,$e=n.browser.devicePixelRatio>1?"@2x":"",vt=n.getJSON($.transformRequest($.normalizeSpriteURL(ve,$e,".json"),n.ResourceType.SpriteJSON),function(er,vr){vt=null,Ne||(Ne=er,re=vr,Gt())}),Pt=n.getImage($.transformRequest($.normalizeSpriteURL(ve,$e,".png"),n.ResourceType.SpriteImage),function(er,vr){Pt=null,Ne||(Ne=er,me=vr,Gt())});function Gt(){if(Ne)ge(Ne);else if(re&&me){var er=n.browser.getImageData(me),vr={};for(var hr in re){var Ur=re[hr],rn=Ur.width,en=Ur.height,Qr=Ur.x,on=Ur.y,mn=Ur.sdf,Un=Ur.pixelRatio,Yn=Ur.stretchX,ra=Ur.stretchY,ia=Ur.content,ta=new n.RGBAImage({width:rn,height:en});n.RGBAImage.copy(er,ta,{x:Qr,y:on},{x:0,y:0},{width:rn,height:en}),vr[hr]={data:ta,pixelRatio:Un,sdf:mn,stretchX:Yn,stretchY:ra,content:ia}}ge(null,vr)}}return{cancel:function(){vt&&(vt.cancel(),vt=null),Pt&&(Pt.cancel(),Pt=null)}}}function m(ve){var $=ve.userImage;if($&&$.render){var ge=$.render();if(ge)return ve.data.replace(new Uint8Array($.data.buffer)),!0}return!1}var h=1,T=function(ve){function $(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.isLoaded=function(){return this.loaded},$.prototype.setLoaded=function(re){if(this.loaded!==re&&(this.loaded=re,re)){for(var me=0,Ne=this.requestors;me<Ne.length;me+=1){var $e=Ne[me],vt=$e.ids,Pt=$e.callback;this._notify(vt,Pt)}this.requestors=[]}},$.prototype.getImage=function(re){return this.images[re]},$.prototype.addImage=function(re,me){this._validate(re,me)&&(this.images[re]=me)},$.prototype._validate=function(re,me){var Ne=!0;return this._validateStretch(me.stretchX,me.data&&me.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchX" value'))),Ne=!1),this._validateStretch(me.stretchY,me.data&&me.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchY" value'))),Ne=!1),this._validateContent(me.content,me)||(this.fire(new n.ErrorEvent(new Error('Image "'+re+'" has invalid "content" value'))),Ne=!1),Ne},$.prototype._validateStretch=function(re,me){if(!re)return!0;for(var Ne=0,$e=0,vt=re;$e<vt.length;$e+=1){var Pt=vt[$e];if(Pt[0]<Ne||Pt[1]<Pt[0]||me<Pt[1])return!1;Ne=Pt[1]}return!0},$.prototype._validateContent=function(re,me){return re?!(re.length!==4||re[0]<0||me.data.width<re[0]||re[1]<0||me.data.height<re[1]||re[2]<0||me.data.width<re[2]||re[3]<0||me.data.height<re[3]||re[2]<re[0]||re[3]<re[1]):!0},$.prototype.updateImage=function(re,me){var Ne=this.images[re];me.version=Ne.version+1,this.images[re]=me,this.updatedImages[re]=!0},$.prototype.removeImage=function(re){var me=this.images[re];delete this.images[re],delete this.patterns[re],me.userImage&&me.userImage.onRemove&&me.userImage.onRemove()},$.prototype.listImages=function(){return Object.keys(this.images)},$.prototype.getImages=function(re,me){var Ne=!0;if(!this.isLoaded())for(var $e=0,vt=re;$e<vt.length;$e+=1){var Pt=vt[$e];this.images[Pt]||(Ne=!1)}this.isLoaded()||Ne?this._notify(re,me):this.requestors.push({ids:re,callback:me})},$.prototype._notify=function(re,me){for(var Ne={},$e=0,vt=re;$e<vt.length;$e+=1){var Pt=vt[$e];this.images[Pt]||this.fire(new n.Event("styleimagemissing",{id:Pt}));var Gt=this.images[Pt];Gt?Ne[Pt]={data:Gt.data.clone(),pixelRatio:Gt.pixelRatio,sdf:Gt.sdf,version:Gt.version,stretchX:Gt.stretchX,stretchY:Gt.stretchY,content:Gt.content,hasRenderCallback:!!(Gt.userImage&&Gt.userImage.render)}:n.warnOnce('Image "'+Pt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}me(null,Ne)},$.prototype.getPixelSize=function(){var re=this.atlasImage,me=re.width,Ne=re.height;return{width:me,height:Ne}},$.prototype.getPattern=function(re){var me=this.patterns[re],Ne=this.getImage(re);if(!Ne)return null;if(me&&me.position.version===Ne.version)return me.position;if(me)me.position.version=Ne.version;else{var $e=Ne.data.width+h*2,vt=Ne.data.height+h*2,Pt={w:$e,h:vt,x:0,y:0},Gt=new n.ImagePosition(Pt,Ne);this.patterns[re]={bin:Pt,position:Gt}}return this._updatePatternAtlas(),this.patterns[re].position},$.prototype.bind=function(re){var me=re.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(re,this.atlasImage,me.RGBA),this.atlasTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE)},$.prototype._updatePatternAtlas=function(){var re=[];for(var me in this.patterns)re.push(this.patterns[me].bin);var Ne=n.potpack(re),$e=Ne.w,vt=Ne.h,Pt=this.atlasImage;Pt.resize({width:$e||1,height:vt||1});for(var Gt in this.patterns){var er=this.patterns[Gt],vr=er.bin,hr=vr.x+h,Ur=vr.y+h,rn=this.images[Gt].data,en=rn.width,Qr=rn.height;n.RGBAImage.copy(rn,Pt,{x:0,y:0},{x:hr,y:Ur},{width:en,height:Qr}),n.RGBAImage.copy(rn,Pt,{x:0,y:Qr-1},{x:hr,y:Ur-1},{width:en,height:1}),n.RGBAImage.copy(rn,Pt,{x:0,y:0},{x:hr,y:Ur+Qr},{width:en,height:1}),n.RGBAImage.copy(rn,Pt,{x:en-1,y:0},{x:hr-1,y:Ur},{width:1,height:Qr}),n.RGBAImage.copy(rn,Pt,{x:0,y:0},{x:hr+en,y:Ur},{width:1,height:Qr})}this.dirty=!0},$.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},$.prototype.dispatchRenderCallbacks=function(re){for(var me=0,Ne=re;me<Ne.length;me+=1){var $e=Ne[me];if(!this.callbackDispatchedThisFrame[$e]){this.callbackDispatchedThisFrame[$e]=!0;var vt=this.images[$e],Pt=m(vt);Pt&&this.updateImage($e,vt)}}},$}(n.Evented);function c(ve,$,ge,re,me){var Ne=$*256,$e=Ne+255,vt=re.transformRequest(re.normalizeGlyphsURL(ge).replace("{fontstack}",ve).replace("{range}",Ne+"-"+$e),n.ResourceType.Glyphs);n.getArrayBuffer(vt,function(Pt,Gt){if(Pt)me(Pt);else if(Gt){for(var er={},vr=0,hr=n.parseGlyphPBF(Gt);vr<hr.length;vr+=1){var Ur=hr[vr];er[Ur.id]=Ur}me(null,er)}})}var o=A,p=A,x=1e20;function A(ve,$,ge,re,me,Ne){this.fontSize=ve||24,this.buffer=$===void 0?3:$,this.cutoff=re||.25,this.fontFamily=me||"sans-serif",this.fontWeight=Ne||"normal",this.radius=ge||8;var $e=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=$e,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array($e*$e),this.gridInner=new Float64Array($e*$e),this.f=new Float64Array($e),this.d=new Float64Array($e),this.z=new Float64Array($e+1),this.v=new Int16Array($e),this.middle=Math.round($e/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}A.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var $=this.ctx.getImageData(0,0,this.size,this.size),ge=new Uint8ClampedArray(this.size*this.size),re=0;re<this.size*this.size;re++){var me=$.data[re*4+3]/255;this.gridOuter[re]=me===1?0:me===0?x:Math.pow(Math.max(0,.5-me),2),this.gridInner[re]=me===1?x:me===0?0:Math.pow(Math.max(0,me-.5),2)}for(_(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),_(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),re=0;re<this.size*this.size;re++){var Ne=this.gridOuter[re]-this.gridInner[re];ge[re]=Math.max(0,Math.min(255,Math.round(255-255*(Ne/this.radius+this.cutoff))))}return ge};function _(ve,$,ge,re,me,Ne,$e){for(var vt=0;vt<$;vt++){for(var Pt=0;Pt<ge;Pt++)re[Pt]=ve[Pt*$+vt];for(y(re,me,Ne,$e,ge),Pt=0;Pt<ge;Pt++)ve[Pt*$+vt]=me[Pt]}for(Pt=0;Pt<ge;Pt++){for(vt=0;vt<$;vt++)re[vt]=ve[Pt*$+vt];for(y(re,me,Ne,$e,$),vt=0;vt<$;vt++)ve[Pt*$+vt]=Math.sqrt(me[vt])}}function y(ve,$,ge,re,me){ge[0]=0,re[0]=-x,re[1]=+x;for(var Ne=1,$e=0;Ne<me;Ne++){for(var vt=(ve[Ne]+Ne*Ne-(ve[ge[$e]]+ge[$e]*ge[$e]))/(2*Ne-2*ge[$e]);vt<=re[$e];)$e--,vt=(ve[Ne]+Ne*Ne-(ve[ge[$e]]+ge[$e]*ge[$e]))/(2*Ne-2*ge[$e]);$e++,ge[$e]=Ne,re[$e]=vt,re[$e+1]=+x}for(Ne=0,$e=0;Ne<me;Ne++){for(;re[$e+1]<Ne;)$e++;$[Ne]=(Ne-ge[$e])*(Ne-ge[$e])+ve[ge[$e]]}}o.default=p;var E=function($,ge){this.requestManager=$,this.localIdeographFontFamily=ge,this.entries={}};E.prototype.setURL=function($){this.url=$},E.prototype.getGlyphs=function($,ge){var re=this,me=[];for(var Ne in $)for(var $e=0,vt=$[Ne];$e<vt.length;$e+=1){var Pt=vt[$e];me.push({stack:Ne,id:Pt})}n.asyncAll(me,function(Gt,er){var vr=Gt.stack,hr=Gt.id,Ur=re.entries[vr];Ur||(Ur=re.entries[vr]={glyphs:{},requests:{},ranges:{}});var rn=Ur.glyphs[hr];if(rn!==void 0){er(null,{stack:vr,id:hr,glyph:rn});return}if(rn=re._tinySDF(Ur,vr,hr),rn){Ur.glyphs[hr]=rn,er(null,{stack:vr,id:hr,glyph:rn});return}var en=Math.floor(hr/256);if(en*256>65535){er(new Error("glyphs > 65535 not supported"));return}if(Ur.ranges[en]){er(null,{stack:vr,id:hr,glyph:rn});return}var Qr=Ur.requests[en];Qr||(Qr=Ur.requests[en]=[],E.loadGlyphRange(vr,en,re.url,re.requestManager,function(on,mn){if(mn){for(var Un in mn)re._doesCharSupportLocalGlyph(+Un)||(Ur.glyphs[+Un]=mn[+Un]);Ur.ranges[en]=!0}for(var Yn=0,ra=Qr;Yn<ra.length;Yn+=1){var ia=ra[Yn];ia(on,mn)}delete Ur.requests[en]})),Qr.push(function(on,mn){on?er(on):mn&&er(null,{stack:vr,id:hr,glyph:mn[hr]||null})})},function(Gt,er){if(Gt)ge(Gt);else if(er){for(var vr={},hr=0,Ur=er;hr<Ur.length;hr+=1){var rn=Ur[hr],en=rn.stack,Qr=rn.id,on=rn.glyph;(vr[en]||(vr[en]={}))[Qr]=on&&{id:on.id,bitmap:on.bitmap.clone(),metrics:on.metrics}}ge(null,vr)}})},E.prototype._doesCharSupportLocalGlyph=function($){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"]($)||n.isChar["Hangul Syllables"]($)||n.isChar.Hiragana($)||n.isChar.Katakana($))},E.prototype._tinySDF=function($,ge,re){var me=this.localIdeographFontFamily;if(me&&this._doesCharSupportLocalGlyph(re)){var Ne=$.tinySDF;if(!Ne){var $e="400";/bold/i.test(ge)?$e="900":/medium/i.test(ge)?$e="500":/light/i.test(ge)&&($e="200"),Ne=$.tinySDF=new E.TinySDF(24,3,8,.25,me,$e)}return{id:re,bitmap:new n.AlphaImage({width:30,height:30},Ne.draw(String.fromCharCode(re))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=c,E.TinySDF=o;var M=function(){this.specification=n.styleSpec.light.position};M.prototype.possiblyEvaluate=function($,ge){return n.sphericalToCartesian($.expression.evaluate(ge))},M.prototype.interpolate=function($,ge,re){return{x:n.number($.x,ge.x,re),y:n.number($.y,ge.y,re),z:n.number($.z,ge.z,re)}};var s=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new M,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),S="-transition",b=function(ve){function $(ge){ve.call(this),this._transitionable=new n.Transitionable(s),this.setLight(ge),this._transitioning=this._transitionable.untransitioned()}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getLight=function(){return this._transitionable.serialize()},$.prototype.setLight=function(re,me){if(me===void 0&&(me={}),!this._validate(n.validateLight,re,me))for(var Ne in re){var $e=re[Ne];n.endsWith(Ne,S)?this._transitionable.setTransition(Ne.slice(0,-S.length),$e):this._transitionable.setValue(Ne,$e)}},$.prototype.updateTransitions=function(re){this._transitioning=this._transitionable.transitioned(re,this._transitioning)},$.prototype.hasTransition=function(){return this._transitioning.hasTransition()},$.prototype.recalculate=function(re){this.properties=this._transitioning.possiblyEvaluate(re)},$.prototype._validate=function(re,me,Ne){return Ne&&Ne.validate===!1?!1:n.emitValidationErrors(this,re.call(n.validateStyle,n.extend({value:me,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},$}(n.Evented),I=function($,ge){this.width=$,this.height=ge,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};I.prototype.getDash=function($,ge){var re=$.join(",")+String(ge);return this.dashEntry[re]||(this.dashEntry[re]=this.addDash($,ge)),this.dashEntry[re]},I.prototype.getDashRanges=function($,ge,re){var me=$.length%2===1,Ne=[],$e=me?-$[$.length-1]*re:0,vt=$[0]*re,Pt=!0;Ne.push({left:$e,right:vt,isDash:Pt,zeroLength:$[0]===0});for(var Gt=$[0],er=1;er<$.length;er++){Pt=!Pt;var vr=$[er];$e=Gt*re,Gt+=vr,vt=Gt*re,Ne.push({left:$e,right:vt,isDash:Pt,zeroLength:vr===0})}return Ne},I.prototype.addRoundDash=function($,ge,re){for(var me=ge/2,Ne=-re;Ne<=re;Ne++)for(var $e=this.nextRow+re+Ne,vt=this.width*$e,Pt=0,Gt=$[Pt],er=0;er<this.width;er++){er/Gt.right>1&&(Gt=$[++Pt]);var vr=Math.abs(er-Gt.left),hr=Math.abs(er-Gt.right),Ur=Math.min(vr,hr),rn=void 0,en=Ne/re*(me+1);if(Gt.isDash){var Qr=me-Math.abs(en);rn=Math.sqrt(Ur*Ur+Qr*Qr)}else rn=me-Math.sqrt(Ur*Ur+en*en);this.data[vt+er]=Math.max(0,Math.min(255,rn+128))}},I.prototype.addRegularDash=function($){for(var ge=$.length-1;ge>=0;--ge){var re=$[ge],me=$[ge+1];re.zeroLength?$.splice(ge,1):me&&me.isDash===re.isDash&&(me.left=re.left,$.splice(ge,1))}var Ne=$[0],$e=$[$.length-1];Ne.isDash===$e.isDash&&(Ne.left=$e.left-this.width,$e.right=Ne.right+this.width);for(var vt=this.width*this.nextRow,Pt=0,Gt=$[Pt],er=0;er<this.width;er++){er/Gt.right>1&&(Gt=$[++Pt]);var vr=Math.abs(er-Gt.left),hr=Math.abs(er-Gt.right),Ur=Math.min(vr,hr),rn=Gt.isDash?Ur:-Ur;this.data[vt+er]=Math.max(0,Math.min(255,rn+128))}},I.prototype.addDash=function($,ge){var re=ge?7:0,me=2*re+1;if(this.nextRow+me>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var Ne=0,$e=0;$e<$.length;$e++)Ne+=$[$e];if(Ne!==0){var vt=this.width/Ne,Pt=this.getDashRanges($,this.width,vt);ge?this.addRoundDash(Pt,vt,re):this.addRegularDash(Pt)}var Gt={y:(this.nextRow+re+.5)/this.height,height:2*re/this.height,width:Ne};return this.nextRow+=me,this.dirty=!0,Gt},I.prototype.bind=function($){var ge=$.gl;this.texture?(ge.bindTexture(ge.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,this.width,this.height,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))):(this.texture=ge.createTexture(),ge.bindTexture(ge.TEXTURE_2D,this.texture),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,ge.LINEAR),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,ge.LINEAR),ge.texImage2D(ge.TEXTURE_2D,0,ge.ALPHA,this.width,this.height,0,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))};var D=function ve($,ge){this.workerPool=$,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var re=this.workerPool.acquire(this.id),me=0;me<re.length;me++){var Ne=re[me],$e=new ve.Actor(Ne,ge,this.id);$e.name="Worker "+me,this.actors.push($e)}};D.prototype.broadcast=function($,ge,re){re=re||function(){},n.asyncAll(this.actors,function(me,Ne){me.send($,ge,Ne)},re)},D.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},D.prototype.remove=function(){this.actors.forEach(function($){$.remove()}),this.actors=[],this.workerPool.release(this.id)},D.Actor=n.Actor;function B(ve,$,ge){var re=function(me,Ne){if(me)return ge(me);if(Ne){var $e=n.pick(n.extend(Ne,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Ne.vector_layers&&($e.vectorLayers=Ne.vector_layers,$e.vectorLayerIds=$e.vectorLayers.map(function(vt){return vt.id})),$e.tiles=$.canonicalizeTileset($e,ve.url),ge(null,$e)}};return ve.url?n.getJSON($.transformRequest($.normalizeSourceURL(ve.url),n.ResourceType.Source),re):n.browser.frame(function(){return re(null,ve)})}var k=function($,ge,re){this.bounds=n.LngLatBounds.convert(this.validateBounds($)),this.minzoom=ge||0,this.maxzoom=re||24};k.prototype.validateBounds=function($){return!Array.isArray($)||$.length!==4?[-180,-90,180,90]:[Math.max(-180,$[0]),Math.max(-90,$[1]),Math.min(180,$[2]),Math.min(90,$[3])]},k.prototype.contains=function($){var ge=Math.pow(2,$.z),re={minX:Math.floor(n.mercatorXfromLng(this.bounds.getWest())*ge),minY:Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*ge),maxX:Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*ge),maxY:Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*ge)},me=$.x>=re.minX&&$.x<re.maxX&&$.y>=re.minY&&$.y<re.maxY;return me};var F=function(ve){function $(ge,re,me,Ne){if(ve.call(this),this.id=ge,this.dispatcher=me,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(re,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},re),this._collectResourceTiming=re.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Ne)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(me,Ne){re._tileJSONRequest=null,re._loaded=!0,me?re.fire(new n.ErrorEvent(me)):Ne&&(n.extend(re,Ne),Ne.bounds&&(re.tileBounds=new k(Ne.bounds,re.minzoom,re.maxzoom)),n.postTurnstileEvent(Ne.tiles,re.map._requestManager._customAccessToken),n.postMapLoadEvent(Ne.tiles,re.map._getMapId(),re.map._requestManager._skuToken,re.map._requestManager._customAccessToken),re.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},$.prototype.onAdd=function(re){this.map=re,this.load()},$.prototype.setSourceProperty=function(re){this._tileJSONRequest&&this._tileJSONRequest.cancel(),re();var me=this.map.style.sourceCaches[this.id];me.clearTiles(),this.load()},$.prototype.setTiles=function(re){var me=this;return this.setSourceProperty(function(){me._options.tiles=re}),this},$.prototype.setUrl=function(re){var me=this;return this.setSourceProperty(function(){me.url=re,me._options.url=re}),this},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return n.extend({},this._options)},$.prototype.loadTile=function(re,me){var Ne=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme)),$e={request:this.map._requestManager.transformRequest(Ne,n.ResourceType.Tile),uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,tileSize:this.tileSize*re.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};$e.request.collectResourceTiming=this._collectResourceTiming,!re.actor||re.state==="expired"?(re.actor=this.dispatcher.getActor(),re.request=re.actor.send("loadTile",$e,vt.bind(this))):re.state==="loading"?re.reloadCallback=me:re.request=re.actor.send("reloadTile",$e,vt.bind(this));function vt(Pt,Gt){if(delete re.request,re.aborted)return me(null);if(Pt&&Pt.status!==404)return me(Pt);Gt&&Gt.resourceTiming&&(re.resourceTiming=Gt.resourceTiming),this.map._refreshExpiredTiles&&Gt&&re.setExpiryData(Gt),re.loadVectorData(Gt,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),me(null),re.reloadCallback&&(this.loadTile(re,re.reloadCallback),re.reloadCallback=null)}},$.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.actor&&re.actor.send("abortTile",{uid:re.uid,type:this.type,source:this.id},void 0)},$.prototype.unloadTile=function(re){re.unloadVectorData(),re.actor&&re.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id},void 0)},$.prototype.hasTransition=function(){return!1},$}(n.Evented),N=function(ve){function $(ge,re,me,Ne){ve.call(this),this.id=ge,this.dispatcher=me,this.setEventedParent(Ne),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},re),n.extend(this,n.pick(re,["url","scheme","tileSize"]))}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(me,Ne){re._tileJSONRequest=null,re._loaded=!0,me?re.fire(new n.ErrorEvent(me)):Ne&&(n.extend(re,Ne),Ne.bounds&&(re.tileBounds=new k(Ne.bounds,re.minzoom,re.maxzoom)),n.postTurnstileEvent(Ne.tiles),n.postMapLoadEvent(Ne.tiles,re.map._getMapId(),re.map._requestManager._skuToken),re.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.onAdd=function(re){this.map=re,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return n.extend({},this._options)},$.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},$.prototype.loadTile=function(re,me){var Ne=this,$e=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=n.getImage(this.map._requestManager.transformRequest($e,n.ResourceType.Tile),function(vt,Pt){if(delete re.request,re.aborted)re.state="unloaded",me(null);else if(vt)re.state="errored",me(vt);else if(Pt){Ne.map._refreshExpiredTiles&&re.setExpiryData(Pt),delete Pt.cacheControl,delete Pt.expires;var Gt=Ne.map.painter.context,er=Gt.gl;re.texture=Ne.map.painter.getTileTexture(Pt.width),re.texture?re.texture.update(Pt,{useMipmap:!0}):(re.texture=new n.Texture(Gt,Pt,er.RGBA,{useMipmap:!0}),re.texture.bind(er.LINEAR,er.CLAMP_TO_EDGE,er.LINEAR_MIPMAP_NEAREST),Gt.extTextureFilterAnisotropic&&er.texParameterf(er.TEXTURE_2D,Gt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Gt.extTextureFilterAnisotropicMax)),re.state="loaded",n.cacheEntryPossiblyAdded(Ne.dispatcher),me(null)}})},$.prototype.abortTile=function(re,me){re.request&&(re.request.cancel(),delete re.request),me()},$.prototype.unloadTile=function(re,me){re.texture&&this.map.painter.saveTileTexture(re.texture),me()},$.prototype.hasTransition=function(){return!1},$}(n.Evented),O=function(ve){function $(ge,re,me,Ne){ve.call(this,ge,re,me,Ne),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},re),this.encoding=re.encoding||"mapbox"}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},$.prototype.loadTile=function(re,me){var Ne=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=n.getImage(this.map._requestManager.transformRequest(Ne,n.ResourceType.Tile),$e.bind(this)),re.neighboringTiles=this._getNeighboringTiles(re.tileID);function $e(Pt,Gt){if(delete re.request,re.aborted)re.state="unloaded",me(null);else if(Pt)re.state="errored",me(Pt);else if(Gt){this.map._refreshExpiredTiles&&re.setExpiryData(Gt),delete Gt.cacheControl,delete Gt.expires;var er=n.window.ImageBitmap&&Gt instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported(),vr=er?Gt:n.browser.getImageData(Gt,1),hr={uid:re.uid,coord:re.tileID,source:this.id,rawImageData:vr,encoding:this.encoding};(!re.actor||re.state==="expired")&&(re.actor=this.dispatcher.getActor(),re.actor.send("loadDEMTile",hr,vt.bind(this)))}}function vt(Pt,Gt){Pt&&(re.state="errored",me(Pt)),Gt&&(re.dem=Gt,re.needsHillshadePrepare=!0,re.state="loaded",me(null))}},$.prototype._getNeighboringTiles=function(re){var me=re.canonical,Ne=Math.pow(2,me.z),$e=(me.x-1+Ne)%Ne,vt=me.x===0?re.wrap-1:re.wrap,Pt=(me.x+1+Ne)%Ne,Gt=me.x+1===Ne?re.wrap+1:re.wrap,er={};return er[new n.OverscaledTileID(re.overscaledZ,vt,me.z,$e,me.y).key]={backfilled:!1},er[new n.OverscaledTileID(re.overscaledZ,Gt,me.z,Pt,me.y).key]={backfilled:!1},me.y>0&&(er[new n.OverscaledTileID(re.overscaledZ,vt,me.z,$e,me.y-1).key]={backfilled:!1},er[new n.OverscaledTileID(re.overscaledZ,re.wrap,me.z,me.x,me.y-1).key]={backfilled:!1},er[new n.OverscaledTileID(re.overscaledZ,Gt,me.z,Pt,me.y-1).key]={backfilled:!1}),me.y+1<Ne&&(er[new n.OverscaledTileID(re.overscaledZ,vt,me.z,$e,me.y+1).key]={backfilled:!1},er[new n.OverscaledTileID(re.overscaledZ,re.wrap,me.z,me.x,me.y+1).key]={backfilled:!1},er[new n.OverscaledTileID(re.overscaledZ,Gt,me.z,Pt,me.y+1).key]={backfilled:!1}),er},$.prototype.unloadTile=function(re){re.demTexture&&this.map.painter.saveTileTexture(re.demTexture),re.fbo&&(re.fbo.destroy(),delete re.fbo),re.dem&&delete re.dem,delete re.neighboringTiles,re.state="unloaded",re.actor&&re.actor.send("removeDEMTile",{uid:re.uid,source:this.id})},$}(N),V=function(ve){function $(ge,re,me,Ne){ve.call(this),this.id=ge,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=me.getActor(),this.setEventedParent(Ne),this._data=re.data,this._options=n.extend({},re),this._collectResourceTiming=re.collectResourceTiming,this._resourceTiming=[],re.maxzoom!==void 0&&(this.maxzoom=re.maxzoom),re.type&&(this.type=re.type),re.attribution&&(this.attribution=re.attribution),this.promoteId=re.promoteId;var $e=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:re.cluster||!1,geojsonVtOptions:{buffer:(re.buffer!==void 0?re.buffer:128)*$e,tolerance:(re.tolerance!==void 0?re.tolerance:.375)*$e,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:re.lineMetrics||!1,generateId:re.generateId||!1},superclusterOptions:{maxZoom:re.clusterMaxZoom!==void 0?Math.min(re.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,re.clusterMinPoints||2),extent:n.EXTENT,radius:(re.clusterRadius||50)*$e,log:!1,generateId:re.generateId||!1},clusterProperties:re.clusterProperties,filter:re.filter},re.workerOptions)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.load=function(){var re=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(me){if(me){re.fire(new n.ErrorEvent(me));return}var Ne={dataType:"source",sourceDataType:"metadata"};re._collectResourceTiming&&re._resourceTiming&&re._resourceTiming.length>0&&(Ne.resourceTiming=re._resourceTiming,re._resourceTiming=[]),re.fire(new n.Event("data",Ne))})},$.prototype.onAdd=function(re){this.map=re,this.load()},$.prototype.setData=function(re){var me=this;return this._data=re,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Ne){if(Ne){me.fire(new n.ErrorEvent(Ne));return}var $e={dataType:"source",sourceDataType:"content"};me._collectResourceTiming&&me._resourceTiming&&me._resourceTiming.length>0&&($e.resourceTiming=me._resourceTiming,me._resourceTiming=[]),me.fire(new n.Event("data",$e))}),this},$.prototype.getClusterExpansionZoom=function(re,me){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:re,source:this.id},me),this},$.prototype.getClusterChildren=function(re,me){return this.actor.send("geojson.getClusterChildren",{clusterId:re,source:this.id},me),this},$.prototype.getClusterLeaves=function(re,me,Ne,$e){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:re,limit:me,offset:Ne},$e),this},$.prototype._updateWorkerData=function(re){var me=this;this._loaded=!1;var Ne=n.extend({},this.workerOptions),$e=this._data;typeof $e=="string"?(Ne.request=this.map._requestManager.transformRequest(n.browser.resolveURL($e),n.ResourceType.Source),Ne.request.collectResourceTiming=this._collectResourceTiming):Ne.data=JSON.stringify($e),this.actor.send(this.type+".loadData",Ne,function(vt,Pt){me._removed||Pt&&Pt.abandoned||(me._loaded=!0,Pt&&Pt.resourceTiming&&Pt.resourceTiming[me.id]&&(me._resourceTiming=Pt.resourceTiming[me.id].slice(0)),me.actor.send(me.type+".coalesce",{source:Ne.source},null),re(vt))})},$.prototype.loaded=function(){return this._loaded},$.prototype.loadTile=function(re,me){var Ne=this,$e=re.actor?"reloadTile":"loadTile";re.actor=this.actor;var vt={type:this.type,uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};re.request=this.actor.send($e,vt,function(Pt,Gt){return delete re.request,re.unloadVectorData(),re.aborted?me(null):Pt?me(Pt):(re.loadVectorData(Gt,Ne.map.painter,$e==="reloadTile"),me(null))})},$.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.aborted=!0},$.prototype.unloadTile=function(re){re.unloadVectorData(),this.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id})},$.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},$.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},$.prototype.hasTransition=function(){return!1},$}(n.Evented),X=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ee=function(ve){function $(ge,re,me,Ne){ve.call(this),this.id=ge,this.dispatcher=me,this.coordinates=re.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Ne),this.options=re}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.load=function(re,me){var Ne=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function($e,vt){Ne._loaded=!0,$e?Ne.fire(new n.ErrorEvent($e)):vt&&(Ne.image=vt,re&&(Ne.coordinates=re),me&&me(),Ne._finishLoading())})},$.prototype.loaded=function(){return this._loaded},$.prototype.updateImage=function(re){var me=this;return!this.image||!re.url?this:(this.options.url=re.url,this.load(re.coordinates,function(){me.texture=null}),this)},$.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},$.prototype.onAdd=function(re){this.map=re,this.load()},$.prototype.setCoordinates=function(re){var me=this;this.coordinates=re;var Ne=re.map(n.MercatorCoordinate.fromLngLat);this.tileID=ne(Ne),this.minzoom=this.maxzoom=this.tileID.z;var $e=Ne.map(function(vt){return me.tileID.getTilePoint(vt)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack($e[0].x,$e[0].y,0,0),this._boundsArray.emplaceBack($e[1].x,$e[1].y,n.EXTENT,0),this._boundsArray.emplaceBack($e[3].x,$e[3].y,0,n.EXTENT),this._boundsArray.emplaceBack($e[2].x,$e[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},$.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var re=this.map.painter.context,me=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(re,this.image,me.RGBA),this.texture.bind(me.LINEAR,me.CLAMP_TO_EDGE));for(var Ne in this.tiles){var $e=this.tiles[Ne];$e.state!=="loaded"&&($e.state="loaded",$e.texture=this.texture)}}},$.prototype.loadTile=function(re,me){this.tileID&&this.tileID.equals(re.tileID.canonical)?(this.tiles[String(re.tileID.wrap)]=re,re.buckets={},me(null)):(re.state="errored",me(null))},$.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return!1},$}(n.Evented);function ne(ve){for(var $=1/0,ge=1/0,re=-1/0,me=-1/0,Ne=0,$e=ve;Ne<$e.length;Ne+=1){var vt=$e[Ne];$=Math.min($,vt.x),ge=Math.min(ge,vt.y),re=Math.max(re,vt.x),me=Math.max(me,vt.y)}var Pt=re-$,Gt=me-ge,er=Math.max(Pt,Gt),vr=Math.max(0,Math.floor(-Math.log(er)/Math.LN2)),hr=Math.pow(2,vr);return new n.CanonicalTileID(vr,Math.floor(($+re)/2*hr),Math.floor((ge+me)/2*hr))}var q=function(ve){function $(ge,re,me,Ne){ve.call(this,ge,re,me,Ne),this.roundZoom=!0,this.type="video",this.options=re}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.load=function(){var re=this;this._loaded=!1;var me=this.options;this.urls=[];for(var Ne=0,$e=me.urls;Ne<$e.length;Ne+=1){var vt=$e[Ne];this.urls.push(this.map._requestManager.transformRequest(vt,n.ResourceType.Source).url)}n.getVideo(this.urls,function(Pt,Gt){re._loaded=!0,Pt?re.fire(new n.ErrorEvent(Pt)):Gt&&(re.video=Gt,re.video.loop=!0,re.video.addEventListener("playing",function(){re.map.triggerRepaint()}),re.map&&re.video.play(),re._finishLoading())})},$.prototype.pause=function(){this.video&&this.video.pause()},$.prototype.play=function(){this.video&&this.video.play()},$.prototype.seek=function(re){if(this.video){var me=this.video.seekable;re<me.start(0)||re>me.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+me.start(0)+" and "+me.end(0)+"-second mark."))):this.video.currentTime=re}},$.prototype.getVideo=function(){return this.video},$.prototype.onAdd=function(re){this.map||(this.map=re,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},$.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var re=this.map.painter.context,me=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(me.LINEAR,me.CLAMP_TO_EDGE),me.texSubImage2D(me.TEXTURE_2D,0,0,0,me.RGBA,me.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(re,this.video,me.RGBA),this.texture.bind(me.LINEAR,me.CLAMP_TO_EDGE));for(var Ne in this.tiles){var $e=this.tiles[Ne];$e.state!=="loaded"&&($e.state="loaded",$e.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this.video&&!this.video.paused},$}(ee),se=function(ve){function $(ge,re,me,Ne){ve.call(this,ge,re,me,Ne),re.coordinates?(!Array.isArray(re.coordinates)||re.coordinates.length!==4||re.coordinates.some(function($e){return!Array.isArray($e)||$e.length!==2||$e.some(function(vt){return typeof vt!="number"})}))&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'missing required property "coordinates"'))),re.animate&&typeof re.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'optional "animate" property must be a boolean value'))),re.canvas?typeof re.canvas!="string"&&!(re.canvas instanceof n.window.HTMLCanvasElement)&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'missing required property "canvas"'))),this.options=re,this.animate=re.animate!==void 0?re.animate:!0}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},$.prototype.getCanvas=function(){return this.canvas},$.prototype.onAdd=function(re){this.map=re,this.load(),this.canvas&&this.animate&&this.play()},$.prototype.onRemove=function(){this.pause()},$.prototype.prepare=function(){var re=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,re=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,re=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var me=this.map.painter.context,Ne=me.gl;this.boundsBuffer||(this.boundsBuffer=me.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(re||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(me,this.canvas,Ne.RGBA,{premultiply:!0});for(var $e in this.tiles){var vt=this.tiles[$e];vt.state!=="loaded"&&(vt.state="loaded",vt.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this._playing},$.prototype._hasInvalidDimensions=function(){for(var re=0,me=[this.canvas.width,this.canvas.height];re<me.length;re+=1){var Ne=me[re];if(isNaN(Ne)||Ne<=0)return!0}return!1},$}(ee),J={vector:F,raster:N,"raster-dem":O,geojson:V,video:q,image:ee,canvas:se},Z=function(ve,$,ge,re){var me=new J[$.type](ve,$,ge,re);if(me.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+me.id);return n.bindAll(["load","abort","unload","serialize","prepare"],me),me},te=function(ve){return J[ve]},Y=function(ve,$){J[ve]=$};function ie(ve,$){var ge=n.identity([]);return n.translate(ge,ge,[1,1,0]),n.scale(ge,ge,[ve.width*.5,ve.height*.5,1]),n.multiply(ge,ge,ve.calculatePosMatrix($.toUnwrapped()))}function le(ve,$,ge){if(ve)for(var re=0,me=ve;re<me.length;re+=1){var Ne=me[re],$e=$[Ne];if($e&&$e.source===ge&&$e.type==="fill-extrusion")return!0}else for(var vt in $){var Pt=$[vt];if(Pt.source===ge&&Pt.type==="fill-extrusion")return!0}return!1}function j(ve,$,ge,re,me,Ne){var $e=le(me&&me.layers,$,ve.id),vt=Ne.maxPitchScaleFactor(),Pt=ve.tilesIn(re,vt,$e);Pt.sort(ae);for(var Gt=[],er=0,vr=Pt;er<vr.length;er+=1){var hr=vr[er];Gt.push({wrappedTileID:hr.tileID.wrapped().key,queryResults:hr.tile.queryRenderedFeatures($,ge,ve._state,hr.queryGeometry,hr.cameraQueryGeometry,hr.scale,me,Ne,vt,ie(ve.transform,hr.tileID))})}var Ur=he(Gt);for(var rn in Ur)Ur[rn].forEach(function(en){var Qr=en.feature,on=ve.getFeatureState(Qr.layer["source-layer"],Qr.id);Qr.source=Qr.layer.source,Qr.layer["source-layer"]&&(Qr.sourceLayer=Qr.layer["source-layer"]),Qr.state=on});return Ur}function K(ve,$,ge,re,me,Ne,$e){for(var vt={},Pt=Ne.queryRenderedSymbols(re),Gt=[],er=0,vr=Object.keys(Pt).map(Number);er<vr.length;er+=1){var hr=vr[er];Gt.push($e[hr])}Gt.sort(ae);for(var Ur=function(){var mn=en[rn],Un=mn.featureIndex.lookupSymbolFeatures(Pt[mn.bucketInstanceId],$,mn.bucketIndex,mn.sourceLayerIndex,me.filter,me.layers,me.availableImages,ve);for(var Yn in Un){var ra=vt[Yn]=vt[Yn]||[],ia=Un[Yn];ia.sort(function(wa,Oa){var Pa=mn.featureSortOrder;if(Pa){var ri=Pa.indexOf(wa.featureIndex),Ci=Pa.indexOf(Oa.featureIndex);return Ci-ri}else return Oa.featureIndex-wa.featureIndex});for(var ta=0,sa=ia;ta<sa.length;ta+=1){var pa=sa[ta];ra.push(pa)}}},rn=0,en=Gt;rn<en.length;rn+=1)Ur();var Qr=function(mn){vt[mn].forEach(function(Un){var Yn=Un.feature,ra=ve[mn],ia=ge[ra.source],ta=ia.getFeatureState(Yn.layer["source-layer"],Yn.id);Yn.source=Yn.layer.source,Yn.layer["source-layer"]&&(Yn.sourceLayer=Yn.layer["source-layer"]),Yn.state=ta})};for(var on in vt)Qr(on);return vt}function ue(ve,$){for(var ge=ve.getRenderableIds().map(function(Pt){return ve.getTileByID(Pt)}),re=[],me={},Ne=0;Ne<ge.length;Ne++){var $e=ge[Ne],vt=$e.tileID.canonical.key;me[vt]||(me[vt]=!0,$e.querySourceFeatures(re,$))}return re}function ae(ve,$){var ge=ve.tileID,re=$.tileID;return ge.overscaledZ-re.overscaledZ||ge.canonical.y-re.canonical.y||ge.wrap-re.wrap||ge.canonical.x-re.canonical.x}function he(ve){for(var $={},ge={},re=0,me=ve;re<me.length;re+=1){var Ne=me[re],$e=Ne.queryResults,vt=Ne.wrappedTileID,Pt=ge[vt]=ge[vt]||{};for(var Gt in $e)for(var er=$e[Gt],vr=Pt[Gt]=Pt[Gt]||{},hr=$[Gt]=$[Gt]||[],Ur=0,rn=er;Ur<rn.length;Ur+=1){var en=rn[Ur];vr[en.featureIndex]||(vr[en.featureIndex]=!0,hr.push(en))}}return $}var xe=function($,ge){this.max=$,this.onRemove=ge,this.reset()};xe.prototype.reset=function(){for(var $ in this.data)for(var ge=0,re=this.data[$];ge<re.length;ge+=1){var me=re[ge];me.timeout&&clearTimeout(me.timeout),this.onRemove(me.value)}return this.data={},this.order=[],this},xe.prototype.add=function($,ge,re){var me=this,Ne=$.wrapped().key;this.data[Ne]===void 0&&(this.data[Ne]=[]);var $e={value:ge,timeout:void 0};if(re!==void 0&&($e.timeout=setTimeout(function(){me.remove($,$e)},re)),this.data[Ne].push($e),this.order.push(Ne),this.order.length>this.max){var vt=this._getAndRemoveByKey(this.order[0]);vt&&this.onRemove(vt)}return this},xe.prototype.has=function($){return $.wrapped().key in this.data},xe.prototype.getAndRemove=function($){return this.has($)?this._getAndRemoveByKey($.wrapped().key):null},xe.prototype._getAndRemoveByKey=function($){var ge=this.data[$].shift();return ge.timeout&&clearTimeout(ge.timeout),this.data[$].length===0&&delete this.data[$],this.order.splice(this.order.indexOf($),1),ge.value},xe.prototype.getByKey=function($){var ge=this.data[$];return ge?ge[0].value:null},xe.prototype.get=function($){if(!this.has($))return null;var ge=this.data[$.wrapped().key][0];return ge.value},xe.prototype.remove=function($,ge){if(!this.has($))return this;var re=$.wrapped().key,me=ge===void 0?0:this.data[re].indexOf(ge),Ne=this.data[re][me];return this.data[re].splice(me,1),Ne.timeout&&clearTimeout(Ne.timeout),this.data[re].length===0&&delete this.data[re],this.onRemove(Ne.value),this.order.splice(this.order.indexOf(re),1),this},xe.prototype.setMaxSize=function($){for(this.max=$;this.order.length>this.max;){var ge=this._getAndRemoveByKey(this.order[0]);ge&&this.onRemove(ge)}return this},xe.prototype.filter=function($){var ge=[];for(var re in this.data)for(var me=0,Ne=this.data[re];me<Ne.length;me+=1){var $e=Ne[me];$($e.value)||ge.push($e)}for(var vt=0,Pt=ge;vt<Pt.length;vt+=1){var Gt=Pt[vt];this.remove(Gt.value.tileID,Gt)}};var Se=function($,ge,re){this.context=$;var me=$.gl;this.buffer=me.createBuffer(),this.dynamicDraw=!!re,this.context.unbindVAO(),$.bindElementBuffer.set(this.buffer),me.bufferData(me.ELEMENT_ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?me.DYNAMIC_DRAW:me.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Se.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Se.prototype.updateData=function($){var ge=this.context.gl;this.context.unbindVAO(),this.bind(),ge.bufferSubData(ge.ELEMENT_ARRAY_BUFFER,0,$.arrayBuffer)},Se.prototype.destroy=function(){var $=this.context.gl;this.buffer&&($.deleteBuffer(this.buffer),delete this.buffer)};var Ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},De=function($,ge,re,me){this.length=ge.length,this.attributes=re,this.itemSize=ge.bytesPerElement,this.dynamicDraw=me,this.context=$;var Ne=$.gl;this.buffer=Ne.createBuffer(),$.bindVertexBuffer.set(this.buffer),Ne.bufferData(Ne.ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?Ne.DYNAMIC_DRAW:Ne.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};De.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},De.prototype.updateData=function($){var ge=this.context.gl;this.bind(),ge.bufferSubData(ge.ARRAY_BUFFER,0,$.arrayBuffer)},De.prototype.enableAttributes=function($,ge){for(var re=0;re<this.attributes.length;re++){var me=this.attributes[re],Ne=ge.attributes[me.name];Ne!==void 0&&$.enableVertexAttribArray(Ne)}},De.prototype.setVertexAttribPointers=function($,ge,re){for(var me=0;me<this.attributes.length;me++){var Ne=this.attributes[me],$e=ge.attributes[Ne.name];$e!==void 0&&$.vertexAttribPointer($e,Ne.components,$[Ae[Ne.type]],!1,this.itemSize,Ne.offset+this.itemSize*(re||0))}},De.prototype.destroy=function(){var $=this.context.gl;this.buffer&&($.deleteBuffer(this.buffer),delete this.buffer)};var we=function($){this.gl=$.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};we.prototype.get=function(){return this.current},we.prototype.set=function($){},we.prototype.getDefault=function(){return this.default},we.prototype.setDefault=function(){this.set(this.default)};var Ce=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return n.Color.transparent},$.prototype.set=function(re){var me=this.current;re.r===me.r&&re.g===me.g&&re.b===me.b&&re.a===me.a&&!this.dirty||(this.gl.clearColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},$}(we),be=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 1},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearDepth(re),this.current=re,this.dirty=!1)},$}(we),Pe=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 0},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearStencil(re),this.current=re,this.dirty=!1)},$}(we),Ve=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return[!0,!0,!0,!0]},$.prototype.set=function(re){var me=this.current;re[0]===me[0]&&re[1]===me[1]&&re[2]===me[2]&&re[3]===me[3]&&!this.dirty||(this.gl.colorMask(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},$}(we),Ge=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!0},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthMask(re),this.current=re,this.dirty=!1)},$}(we),Fe=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 255},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.stencilMask(re),this.current=re,this.dirty=!1)},$}(we),He=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},$.prototype.set=function(re){var me=this.current;re.func===me.func&&re.ref===me.ref&&re.mask===me.mask&&!this.dirty||(this.gl.stencilFunc(re.func,re.ref,re.mask),this.current=re,this.dirty=!1)},$}(we),ft=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var re=this.gl;return[re.KEEP,re.KEEP,re.KEEP]},$.prototype.set=function(re){var me=this.current;re[0]===me[0]&&re[1]===me[1]&&re[2]===me[2]&&!this.dirty||(this.gl.stencilOp(re[0],re[1],re[2]),this.current=re,this.dirty=!1)},$}(we),gt=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;re?me.enable(me.STENCIL_TEST):me.disable(me.STENCIL_TEST),this.current=re,this.dirty=!1}},$}(we),ct=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return[0,1]},$.prototype.set=function(re){var me=this.current;re[0]===me[0]&&re[1]===me[1]&&!this.dirty||(this.gl.depthRange(re[0],re[1]),this.current=re,this.dirty=!1)},$}(we),nt=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;re?me.enable(me.DEPTH_TEST):me.disable(me.DEPTH_TEST),this.current=re,this.dirty=!1}},$}(we),dt=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.LESS},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthFunc(re),this.current=re,this.dirty=!1)},$}(we),pt=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;re?me.enable(me.BLEND):me.disable(me.BLEND),this.current=re,this.dirty=!1}},$}(we),wt=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var re=this.gl;return[re.ONE,re.ZERO]},$.prototype.set=function(re){var me=this.current;re[0]===me[0]&&re[1]===me[1]&&!this.dirty||(this.gl.blendFunc(re[0],re[1]),this.current=re,this.dirty=!1)},$}(we),Tt=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return n.Color.transparent},$.prototype.set=function(re){var me=this.current;re.r===me.r&&re.g===me.g&&re.b===me.b&&re.a===me.a&&!this.dirty||(this.gl.blendColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},$}(we),Ct=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.FUNC_ADD},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.blendEquation(re),this.current=re,this.dirty=!1)},$}(we),at=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;re?me.enable(me.CULL_FACE):me.disable(me.CULL_FACE),this.current=re,this.dirty=!1}},$}(we),ze=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.BACK},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.cullFace(re),this.current=re,this.dirty=!1)},$}(we),je=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.CCW},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.frontFace(re),this.current=re,this.dirty=!1)},$}(we),Je=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.useProgram(re),this.current=re,this.dirty=!1)},$}(we),Xe=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.TEXTURE0},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.activeTexture(re),this.current=re,this.dirty=!1)},$}(we),Oe=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var re=this.gl;return[0,0,re.drawingBufferWidth,re.drawingBufferHeight]},$.prototype.set=function(re){var me=this.current;re[0]===me[0]&&re[1]===me[1]&&re[2]===me[2]&&re[3]===me[3]&&!this.dirty||(this.gl.viewport(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},$}(we),ke=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;me.bindFramebuffer(me.FRAMEBUFFER,re),this.current=re,this.dirty=!1}},$}(we),Ke=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;me.bindRenderbuffer(me.RENDERBUFFER,re),this.current=re,this.dirty=!1}},$}(we),Ie=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;me.bindTexture(me.TEXTURE_2D,re),this.current=re,this.dirty=!1}},$}(we),pe=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;me.bindBuffer(me.ARRAY_BUFFER,re),this.current=re,this.dirty=!1}},$}(we),Te=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){var me=this.gl;me.bindBuffer(me.ELEMENT_ARRAY_BUFFER,re),this.current=re,this.dirty=!1},$}(we),Ue=function(ve){function $(ge){ve.call(this,ge),this.vao=ge.extVertexArrayObject}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){!this.vao||re===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(re),this.current=re,this.dirty=!1)},$}(we),et=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 4},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;me.pixelStorei(me.UNPACK_ALIGNMENT,re),this.current=re,this.dirty=!1}},$}(we),st=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;me.pixelStorei(me.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re),this.current=re,this.dirty=!1}},$}(we),lt=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var me=this.gl;me.pixelStorei(me.UNPACK_FLIP_Y_WEBGL,re),this.current=re,this.dirty=!1}},$}(we),jt=function(ve){function $(ge,re){ve.call(this,ge),this.context=ge,this.parent=re}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$}(we),Jt=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.setDirty=function(){this.dirty=!0},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var me=this.gl;me.framebufferTexture2D(me.FRAMEBUFFER,me.COLOR_ATTACHMENT0,me.TEXTURE_2D,re,0),this.current=re,this.dirty=!1}},$}(jt),St=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var me=this.gl;me.framebufferRenderbuffer(me.FRAMEBUFFER,me.DEPTH_ATTACHMENT,me.RENDERBUFFER,re),this.current=re,this.dirty=!1}},$}(jt),Rt=function($,ge,re,me){this.context=$,this.width=ge,this.height=re;var Ne=$.gl,$e=this.framebuffer=Ne.createFramebuffer();this.colorAttachment=new Jt($,$e),me&&(this.depthAttachment=new St($,$e))};Rt.prototype.destroy=function(){var $=this.context.gl,ge=this.colorAttachment.get();if(ge&&$.deleteTexture(ge),this.depthAttachment){var re=this.depthAttachment.get();re&&$.deleteRenderbuffer(re)}$.deleteFramebuffer(this.framebuffer)};var $t=519,Pr=function($,ge,re){this.func=$,this.mask=ge,this.range=re};Pr.ReadOnly=!1,Pr.ReadWrite=!0,Pr.disabled=new Pr($t,Pr.ReadOnly,[0,1]);var xt=519,qt=7680,nr=function($,ge,re,me,Ne,$e){this.test=$,this.ref=ge,this.mask=re,this.fail=me,this.depthFail=Ne,this.pass=$e};nr.disabled=new nr({func:xt,mask:0},0,0,qt,qt,qt);var wr=0,dr=1,bt=771,ut=function($,ge,re){this.blendFunction=$,this.blendColor=ge,this.mask=re};ut.Replace=[dr,wr],ut.disabled=new ut(ut.Replace,n.Color.transparent,[!1,!1,!1,!1]),ut.unblended=new ut(ut.Replace,n.Color.transparent,[!0,!0,!0,!0]),ut.alphaBlended=new ut([dr,bt],n.Color.transparent,[!0,!0,!0,!0]);var Mt=1029,_t=2305,kt=function($,ge,re){this.enable=$,this.mode=ge,this.frontFace=re};kt.disabled=new kt(!1,Mt,_t),kt.backCCW=new kt(!0,Mt,_t);var Xt=function($){this.gl=$,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ce(this),this.clearDepth=new be(this),this.clearStencil=new Pe(this),this.colorMask=new Ve(this),this.depthMask=new Ge(this),this.stencilMask=new Fe(this),this.stencilFunc=new He(this),this.stencilOp=new ft(this),this.stencilTest=new gt(this),this.depthRange=new ct(this),this.depthTest=new nt(this),this.depthFunc=new dt(this),this.blend=new pt(this),this.blendFunc=new wt(this),this.blendColor=new Tt(this),this.blendEquation=new Ct(this),this.cullFace=new at(this),this.cullFaceSide=new ze(this),this.frontFace=new je(this),this.program=new Je(this),this.activeTexture=new Xe(this),this.viewport=new Oe(this),this.bindFramebuffer=new ke(this),this.bindRenderbuffer=new Ke(this),this.bindTexture=new Ie(this),this.bindVertexBuffer=new pe(this),this.bindElementBuffer=new Te(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ue(this),this.pixelStoreUnpack=new et(this),this.pixelStoreUnpackPremultiplyAlpha=new st(this),this.pixelStoreUnpackFlipY=new lt(this),this.extTextureFilterAnisotropic=$.getExtension("EXT_texture_filter_anisotropic")||$.getExtension("MOZ_EXT_texture_filter_anisotropic")||$.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=$.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=$.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&($.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=$.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=$.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=$.getParameter($.MAX_TEXTURE_SIZE)};Xt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Xt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Xt.prototype.createIndexBuffer=function($,ge){return new Se(this,$,ge)},Xt.prototype.createVertexBuffer=function($,ge,re){return new De(this,$,ge,re)},Xt.prototype.createRenderbuffer=function($,ge,re){var me=this.gl,Ne=me.createRenderbuffer();return this.bindRenderbuffer.set(Ne),me.renderbufferStorage(me.RENDERBUFFER,$,ge,re),this.bindRenderbuffer.set(null),Ne},Xt.prototype.createFramebuffer=function($,ge,re){return new Rt(this,$,ge,re)},Xt.prototype.clear=function($){var ge=$.color,re=$.depth,me=this.gl,Ne=0;ge&&(Ne|=me.COLOR_BUFFER_BIT,this.clearColor.set(ge),this.colorMask.set([!0,!0,!0,!0])),typeof re<"u"&&(Ne|=me.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(re),this.depthMask.set(!0)),me.clear(Ne)},Xt.prototype.setCullFace=function($){$.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set($.mode),this.frontFace.set($.frontFace))},Xt.prototype.setDepthMode=function($){$.func===this.gl.ALWAYS&&!$.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set($.func),this.depthMask.set($.mask),this.depthRange.set($.range))},Xt.prototype.setStencilMode=function($){$.test.func===this.gl.ALWAYS&&!$.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set($.mask),this.stencilOp.set([$.fail,$.depthFail,$.pass]),this.stencilFunc.set({func:$.test.func,ref:$.ref,mask:$.test.mask}))},Xt.prototype.setColorMode=function($){n.deepEqual($.blendFunction,ut.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set($.blendFunction),this.blendColor.set($.blendColor)),this.colorMask.set($.mask)},Xt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Wt=function(ve){function $(ge,re,me){var Ne=this;ve.call(this),this.id=ge,this.dispatcher=me,this.on("data",function($e){$e.dataType==="source"&&$e.sourceDataType==="metadata"&&(Ne._sourceLoaded=!0),Ne._sourceLoaded&&!Ne._paused&&$e.dataType==="source"&&$e.sourceDataType==="content"&&(Ne.reload(),Ne.transform&&Ne.update(Ne.transform))}),this.on("error",function(){Ne._sourceErrored=!0}),this._source=Z(ge,re,me,this),this._tiles={},this._cache=new xe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.onAdd=function(re){this.map=re,this._maxTileCacheSize=re?re._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(re)},$.prototype.onRemove=function(re){this._source&&this._source.onRemove&&this._source.onRemove(re)},$.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var re in this._tiles){var me=this._tiles[re];if(me.state!=="loaded"&&me.state!=="errored")return!1}return!0},$.prototype.getSource=function(){return this._source},$.prototype.pause=function(){this._paused=!0},$.prototype.resume=function(){if(this._paused){var re=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,re&&this.reload(),this.transform&&this.update(this.transform)}},$.prototype._loadTile=function(re,me){return this._source.loadTile(re,me)},$.prototype._unloadTile=function(re){if(this._source.unloadTile)return this._source.unloadTile(re,function(){})},$.prototype._abortTile=function(re){if(this._source.abortTile)return this._source.abortTile(re,function(){})},$.prototype.serialize=function(){return this._source.serialize()},$.prototype.prepare=function(re){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var me in this._tiles){var Ne=this._tiles[me];Ne.upload(re),Ne.prepare(this.map.style.imageManager)}},$.prototype.getIds=function(){return n.values(this._tiles).map(function(re){return re.tileID}).sort(Ht).map(function(re){return re.key})},$.prototype.getRenderableIds=function(re){var me=this,Ne=[];for(var $e in this._tiles)this._isIdRenderable($e,re)&&Ne.push(this._tiles[$e]);return re?Ne.sort(function(vt,Pt){var Gt=vt.tileID,er=Pt.tileID,vr=new n.Point(Gt.canonical.x,Gt.canonical.y)._rotate(me.transform.angle),hr=new n.Point(er.canonical.x,er.canonical.y)._rotate(me.transform.angle);return Gt.overscaledZ-er.overscaledZ||hr.y-vr.y||hr.x-vr.x}).map(function(vt){return vt.tileID.key}):Ne.map(function(vt){return vt.tileID}).sort(Ht).map(function(vt){return vt.key})},$.prototype.hasRenderableParent=function(re){var me=this.findLoadedParent(re,0);return me?this._isIdRenderable(me.tileID.key):!1},$.prototype._isIdRenderable=function(re,me){return this._tiles[re]&&this._tiles[re].hasData()&&!this._coveredTiles[re]&&(me||!this._tiles[re].holdingForFade())},$.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var re in this._tiles)this._tiles[re].state!=="errored"&&this._reloadTile(re,"reloading")},$.prototype._reloadTile=function(re,me){var Ne=this._tiles[re];Ne&&(Ne.state!=="loading"&&(Ne.state=me),this._loadTile(Ne,this._tileLoaded.bind(this,Ne,re,me)))},$.prototype._tileLoaded=function(re,me,Ne,$e){if($e){re.state="errored",$e.status!==404?this._source.fire(new n.ErrorEvent($e,{tile:re})):this.update(this.transform);return}re.timeAdded=n.browser.now(),Ne==="expired"&&(re.refreshedUponExpiration=!0),this._setTileReloadTimer(me,re),this.getSource().type==="raster-dem"&&re.dem&&this._backfillDEM(re),this._state.initializeTileState(re,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:re,coord:re.tileID}))},$.prototype._backfillDEM=function(re){for(var me=this.getRenderableIds(),Ne=0;Ne<me.length;Ne++){var $e=me[Ne];if(re.neighboringTiles&&re.neighboringTiles[$e]){var vt=this.getTileByID($e);Pt(re,vt),Pt(vt,re)}}function Pt(Gt,er){Gt.needsHillshadePrepare=!0;var vr=er.tileID.canonical.x-Gt.tileID.canonical.x,hr=er.tileID.canonical.y-Gt.tileID.canonical.y,Ur=Math.pow(2,Gt.tileID.canonical.z),rn=er.tileID.key;vr===0&&hr===0||Math.abs(hr)>1||(Math.abs(vr)>1&&(Math.abs(vr+Ur)===1?vr+=Ur:Math.abs(vr-Ur)===1&&(vr-=Ur)),!(!er.dem||!Gt.dem)&&(Gt.dem.backfillBorder(er.dem,vr,hr),Gt.neighboringTiles&&Gt.neighboringTiles[rn]&&(Gt.neighboringTiles[rn].backfilled=!0)))}},$.prototype.getTile=function(re){return this.getTileByID(re.key)},$.prototype.getTileByID=function(re){return this._tiles[re]},$.prototype._retainLoadedChildren=function(re,me,Ne,$e){for(var vt in this._tiles){var Pt=this._tiles[vt];if(!($e[vt]||!Pt.hasData()||Pt.tileID.overscaledZ<=me||Pt.tileID.overscaledZ>Ne)){for(var Gt=Pt.tileID;Pt&&Pt.tileID.overscaledZ>me+1;){var er=Pt.tileID.scaledTo(Pt.tileID.overscaledZ-1);Pt=this._tiles[er.key],Pt&&Pt.hasData()&&(Gt=er)}for(var vr=Gt;vr.overscaledZ>me;)if(vr=vr.scaledTo(vr.overscaledZ-1),re[vr.key]){$e[Gt.key]=Gt;break}}}},$.prototype.findLoadedParent=function(re,me){if(re.key in this._loadedParentTiles){var Ne=this._loadedParentTiles[re.key];return Ne&&Ne.tileID.overscaledZ>=me?Ne:null}for(var $e=re.overscaledZ-1;$e>=me;$e--){var vt=re.scaledTo($e),Pt=this._getLoadedTile(vt);if(Pt)return Pt}},$.prototype._getLoadedTile=function(re){var me=this._tiles[re.key];if(me&&me.hasData())return me;var Ne=this._cache.getByKey(re.wrapped().key);return Ne},$.prototype.updateCacheSize=function(re){var me=Math.ceil(re.width/this._source.tileSize)+1,Ne=Math.ceil(re.height/this._source.tileSize)+1,$e=me*Ne,vt=5,Pt=Math.floor($e*vt),Gt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Pt):Pt;this._cache.setMaxSize(Gt)},$.prototype.handleWrapJump=function(re){var me=this._prevLng===void 0?re:this._prevLng,Ne=re-me,$e=Ne/360,vt=Math.round($e);if(this._prevLng=re,vt){var Pt={};for(var Gt in this._tiles){var er=this._tiles[Gt];er.tileID=er.tileID.unwrapTo(er.tileID.wrap+vt),Pt[er.tileID.key]=er}this._tiles=Pt;for(var vr in this._timers)clearTimeout(this._timers[vr]),delete this._timers[vr];for(var hr in this._tiles){var Ur=this._tiles[hr];this._setTileReloadTimer(hr,Ur)}}},$.prototype.update=function(re){var me=this;if(this.transform=re,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(re),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Ne;this.used?this._source.tileID?Ne=re.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(wa){return new n.OverscaledTileID(wa.canonical.z,wa.wrap,wa.canonical.z,wa.canonical.x,wa.canonical.y)}):(Ne=re.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Ne=Ne.filter(function(wa){return me._source.hasTile(wa)}))):Ne=[];var $e=re.coveringZoomLevel(this._source),vt=Math.max($e-$.maxOverzooming,this._source.minzoom),Pt=Math.max($e+$.maxUnderzooming,this._source.minzoom),Gt=this._updateRetainedTiles(Ne,$e);if(tr(this._source.type)){for(var er={},vr={},hr=Object.keys(Gt),Ur=0,rn=hr;Ur<rn.length;Ur+=1){var en=rn[Ur],Qr=Gt[en],on=this._tiles[en];if(!(!on||on.fadeEndTime&&on.fadeEndTime<=n.browser.now())){var mn=this.findLoadedParent(Qr,vt);mn&&(this._addTile(mn.tileID),er[mn.tileID.key]=mn.tileID),vr[en]=Qr}}this._retainLoadedChildren(vr,$e,Pt,Gt);for(var Un in er)Gt[Un]||(this._coveredTiles[Un]=!0,Gt[Un]=er[Un])}for(var Yn in Gt)this._tiles[Yn].clearFadeHold();for(var ra=n.keysDifference(this._tiles,Gt),ia=0,ta=ra;ia<ta.length;ia+=1){var sa=ta[ia],pa=this._tiles[sa];pa.hasSymbolBuckets&&!pa.holdingForFade()?pa.setHoldDuration(this.map._fadeDuration):(!pa.hasSymbolBuckets||pa.symbolFadeFinished())&&this._removeTile(sa)}this._updateLoadedParentTileCache()}},$.prototype.releaseSymbolFadeTiles=function(){for(var re in this._tiles)this._tiles[re].holdingForFade()&&this._removeTile(re)},$.prototype._updateRetainedTiles=function(re,me){for(var Ne={},$e={},vt=Math.max(me-$.maxOverzooming,this._source.minzoom),Pt=Math.max(me+$.maxUnderzooming,this._source.minzoom),Gt={},er=0,vr=re;er<vr.length;er+=1){var hr=vr[er],Ur=this._addTile(hr);Ne[hr.key]=hr,!Ur.hasData()&&me<this._source.maxzoom&&(Gt[hr.key]=hr)}this._retainLoadedChildren(Gt,me,Pt,Ne);for(var rn=0,en=re;rn<en.length;rn+=1){var Qr=en[rn],on=this._tiles[Qr.key];if(!on.hasData()){if(me+1>this._source.maxzoom){var mn=Qr.children(this._source.maxzoom)[0],Un=this.getTile(mn);if(Un&&Un.hasData()){Ne[mn.key]=mn;continue}}else{var Yn=Qr.children(this._source.maxzoom);if(Ne[Yn[0].key]&&Ne[Yn[1].key]&&Ne[Yn[2].key]&&Ne[Yn[3].key])continue}for(var ra=on.wasRequested(),ia=Qr.overscaledZ-1;ia>=vt;--ia){var ta=Qr.scaledTo(ia);if($e[ta.key]||($e[ta.key]=!0,on=this.getTile(ta),!on&&ra&&(on=this._addTile(ta)),on&&(Ne[ta.key]=ta,ra=on.wasRequested(),on.hasData())))break}}}return Ne},$.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var re in this._tiles){for(var me=[],Ne=void 0,$e=this._tiles[re].tileID;$e.overscaledZ>0;){if($e.key in this._loadedParentTiles){Ne=this._loadedParentTiles[$e.key];break}me.push($e.key);var vt=$e.scaledTo($e.overscaledZ-1);if(Ne=this._getLoadedTile(vt),Ne)break;$e=vt}for(var Pt=0,Gt=me;Pt<Gt.length;Pt+=1){var er=Gt[Pt];this._loadedParentTiles[er]=Ne}}},$.prototype._addTile=function(re){var me=this._tiles[re.key];if(me)return me;me=this._cache.getAndRemove(re),me&&(this._setTileReloadTimer(re.key,me),me.tileID=re,this._state.initializeTileState(me,this.map?this.map.painter:null),this._cacheTimers[re.key]&&(clearTimeout(this._cacheTimers[re.key]),delete this._cacheTimers[re.key],this._setTileReloadTimer(re.key,me)));var Ne=!!me;return Ne||(me=new n.Tile(re,this._source.tileSize*re.overscaleFactor()),this._loadTile(me,this._tileLoaded.bind(this,me,re.key,me.state))),me?(me.uses++,this._tiles[re.key]=me,Ne||this._source.fire(new n.Event("dataloading",{tile:me,coord:me.tileID,dataType:"source"})),me):null},$.prototype._setTileReloadTimer=function(re,me){var Ne=this;re in this._timers&&(clearTimeout(this._timers[re]),delete this._timers[re]);var $e=me.getExpiryTimeout();$e&&(this._timers[re]=setTimeout(function(){Ne._reloadTile(re,"expired"),delete Ne._timers[re]},$e))},$.prototype._removeTile=function(re){var me=this._tiles[re];me&&(me.uses--,delete this._tiles[re],this._timers[re]&&(clearTimeout(this._timers[re]),delete this._timers[re]),!(me.uses>0)&&(me.hasData()&&me.state!=="reloading"?this._cache.add(me.tileID,me,me.getExpiryTimeout()):(me.aborted=!0,this._abortTile(me),this._unloadTile(me))))},$.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var re in this._tiles)this._removeTile(re);this._cache.reset()},$.prototype.tilesIn=function(re,me,Ne){var $e=this,vt=[],Pt=this.transform;if(!Pt)return vt;for(var Gt=Ne?Pt.getCameraQueryGeometry(re):re,er=re.map(function(ia){return Pt.pointCoordinate(ia)}),vr=Gt.map(function(ia){return Pt.pointCoordinate(ia)}),hr=this.getIds(),Ur=1/0,rn=1/0,en=-1/0,Qr=-1/0,on=0,mn=vr;on<mn.length;on+=1){var Un=mn[on];Ur=Math.min(Ur,Un.x),rn=Math.min(rn,Un.y),en=Math.max(en,Un.x),Qr=Math.max(Qr,Un.y)}for(var Yn=function(ia){var ta=$e._tiles[hr[ia]];if(!ta.holdingForFade()){var sa=ta.tileID,pa=Math.pow(2,Pt.zoom-ta.tileID.overscaledZ),wa=me*ta.queryPadding*n.EXTENT/ta.tileSize/pa,Oa=[sa.getTilePoint(new n.MercatorCoordinate(Ur,rn)),sa.getTilePoint(new n.MercatorCoordinate(en,Qr))];if(Oa[0].x-wa<n.EXTENT&&Oa[0].y-wa<n.EXTENT&&Oa[1].x+wa>=0&&Oa[1].y+wa>=0){var Pa=er.map(function(Ci){return sa.getTilePoint(Ci)}),ri=vr.map(function(Ci){return sa.getTilePoint(Ci)});vt.push({tile:ta,tileID:sa,queryGeometry:Pa,cameraQueryGeometry:ri,scale:pa})}}},ra=0;ra<hr.length;ra++)Yn(ra);return vt},$.prototype.getVisibleCoordinates=function(re){for(var me=this,Ne=this.getRenderableIds(re).map(function(Gt){return me._tiles[Gt].tileID}),$e=0,vt=Ne;$e<vt.length;$e+=1){var Pt=vt[$e];Pt.posMatrix=this.transform.calculatePosMatrix(Pt.toUnwrapped())}return Ne},$.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(tr(this._source.type))for(var re in this._tiles){var me=this._tiles[re];if(me.fadeEndTime!==void 0&&me.fadeEndTime>=n.browser.now())return!0}return!1},$.prototype.setFeatureState=function(re,me,Ne){re=re||"_geojsonTileLayer",this._state.updateState(re,me,Ne)},$.prototype.removeFeatureState=function(re,me,Ne){re=re||"_geojsonTileLayer",this._state.removeFeatureState(re,me,Ne)},$.prototype.getFeatureState=function(re,me){return re=re||"_geojsonTileLayer",this._state.getState(re,me)},$.prototype.setDependencies=function(re,me,Ne){var $e=this._tiles[re];$e&&$e.setDependencies(me,Ne)},$.prototype.reloadTilesForDependencies=function(re,me){for(var Ne in this._tiles){var $e=this._tiles[Ne];$e.hasDependency(re,me)&&this._reloadTile(Ne,"reloading")}this._cache.filter(function(vt){return!vt.hasDependency(re,me)})},$}(n.Evented);Wt.maxOverzooming=10,Wt.maxUnderzooming=3;function Ht(ve,$){var ge=Math.abs(ve.wrap*2)-+(ve.wrap<0),re=Math.abs($.wrap*2)-+($.wrap<0);return ve.overscaledZ-$.overscaledZ||re-ge||$.canonical.y-ve.canonical.y||$.canonical.x-ve.canonical.x}function tr(ve){return ve==="raster"||ve==="image"||ve==="video"}function gr(){return new n.window.Worker(Vo.workerUrl)}var Qt="mapboxgl_preloaded_worker_pool",mr=function(){this.active={}};mr.prototype.acquire=function($){if(!this.workers)for(this.workers=[];this.workers.length<mr.workerCount;)this.workers.push(new gr);return this.active[$]=!0,this.workers.slice()},mr.prototype.release=function($){delete this.active[$],this.numActive()===0&&(this.workers.forEach(function(ge){ge.terminate()}),this.workers=null)},mr.prototype.isPreloaded=function(){return!!this.active[Qt]},mr.prototype.numActive=function(){return Object.keys(this.active).length};var Ze=Math.floor(n.browser.hardwareConcurrency/2);mr.workerCount=Math.max(Math.min(Ze,6),1);var Ye;function Bt(){return Ye||(Ye=new mr),Ye}function Ft(){var ve=Bt();ve.acquire(Qt)}function rr(){var ve=Ye;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(Qt),Ye=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function sr(ve,$){var ge={};for(var re in ve)re!=="ref"&&(ge[re]=ve[re]);return n.refProperties.forEach(function(me){me in $&&(ge[me]=$[me])}),ge}function fr(ve){ve=ve.slice();for(var $=Object.create(null),ge=0;ge<ve.length;ge++)$[ve[ge].id]=ve[ge];for(var re=0;re<ve.length;re++)"ref"in ve[re]&&(ve[re]=sr(ve[re],$[ve[re].ref]));return ve}function ir(){var ve={},$=n.styleSpec.$version;for(var ge in n.styleSpec.$root){var re=n.styleSpec.$root[ge];if(re.required){var me=null;ge==="version"?me=$:re.type==="array"?me=[]:me={},me!=null&&(ve[ge]=me)}}return ve}var Vt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function yr(ve,$,ge){ge.push({command:Vt.addSource,args:[ve,$[ve]]})}function br(ve,$,ge){$.push({command:Vt.removeSource,args:[ve]}),ge[ve]=!0}function _r(ve,$,ge,re){br(ve,ge,re),yr(ve,$,ge)}function pr(ve,$,ge){var re;for(re in ve[ge])if(ve[ge].hasOwnProperty(re)&&re!=="data"&&!n.deepEqual(ve[ge][re],$[ge][re]))return!1;for(re in $[ge])if($[ge].hasOwnProperty(re)&&re!=="data"&&!n.deepEqual(ve[ge][re],$[ge][re]))return!1;return!0}function Yr(ve,$,ge,re){ve=ve||{},$=$||{};var me;for(me in ve)ve.hasOwnProperty(me)&&($.hasOwnProperty(me)||br(me,ge,re));for(me in $)$.hasOwnProperty(me)&&(ve.hasOwnProperty(me)?n.deepEqual(ve[me],$[me])||(ve[me].type==="geojson"&&$[me].type==="geojson"&&pr(ve,$,me)?ge.push({command:Vt.setGeoJSONSourceData,args:[me,$[me].data]}):_r(me,$,ge,re)):yr(me,$,ge))}function zr(ve,$,ge,re,me,Ne){ve=ve||{},$=$||{};var $e;for($e in ve)ve.hasOwnProperty($e)&&(n.deepEqual(ve[$e],$[$e])||ge.push({command:Ne,args:[re,$e,$[$e],me]}));for($e in $)!$.hasOwnProperty($e)||ve.hasOwnProperty($e)||n.deepEqual(ve[$e],$[$e])||ge.push({command:Ne,args:[re,$e,$[$e],me]})}function Nr(ve){return ve.id}function xn(ve,$){return ve[$.id]=$,ve}function tn(ve,$,ge){ve=ve||[],$=$||[];var re=ve.map(Nr),me=$.map(Nr),Ne=ve.reduce(xn,{}),$e=$.reduce(xn,{}),vt=re.slice(),Pt=Object.create(null),Gt,er,vr,hr,Ur,rn,en;for(Gt=0,er=0;Gt<re.length;Gt++)vr=re[Gt],$e.hasOwnProperty(vr)?er++:(ge.push({command:Vt.removeLayer,args:[vr]}),vt.splice(vt.indexOf(vr,er),1));for(Gt=0,er=0;Gt<me.length;Gt++)vr=me[me.length-1-Gt],vt[vt.length-1-Gt]!==vr&&(Ne.hasOwnProperty(vr)?(ge.push({command:Vt.removeLayer,args:[vr]}),vt.splice(vt.lastIndexOf(vr,vt.length-er),1)):er++,rn=vt[vt.length-Gt],ge.push({command:Vt.addLayer,args:[$e[vr],rn]}),vt.splice(vt.length-Gt,0,vr),Pt[vr]=!0);for(Gt=0;Gt<me.length;Gt++)if(vr=me[Gt],hr=Ne[vr],Ur=$e[vr],!(Pt[vr]||n.deepEqual(hr,Ur))){if(!n.deepEqual(hr.source,Ur.source)||!n.deepEqual(hr["source-layer"],Ur["source-layer"])||!n.deepEqual(hr.type,Ur.type)){ge.push({command:Vt.removeLayer,args:[vr]}),rn=vt[vt.lastIndexOf(vr)+1],ge.push({command:Vt.addLayer,args:[Ur,rn]});continue}zr(hr.layout,Ur.layout,ge,vr,null,Vt.setLayoutProperty),zr(hr.paint,Ur.paint,ge,vr,null,Vt.setPaintProperty),n.deepEqual(hr.filter,Ur.filter)||ge.push({command:Vt.setFilter,args:[vr,Ur.filter]}),(!n.deepEqual(hr.minzoom,Ur.minzoom)||!n.deepEqual(hr.maxzoom,Ur.maxzoom))&&ge.push({command:Vt.setLayerZoomRange,args:[vr,Ur.minzoom,Ur.maxzoom]});for(en in hr)hr.hasOwnProperty(en)&&(en==="layout"||en==="paint"||en==="filter"||en==="metadata"||en==="minzoom"||en==="maxzoom"||(en.indexOf("paint.")===0?zr(hr[en],Ur[en],ge,vr,en.slice(6),Vt.setPaintProperty):n.deepEqual(hr[en],Ur[en])||ge.push({command:Vt.setLayerProperty,args:[vr,en,Ur[en]]})));for(en in Ur)!Ur.hasOwnProperty(en)||hr.hasOwnProperty(en)||en==="layout"||en==="paint"||en==="filter"||en==="metadata"||en==="minzoom"||en==="maxzoom"||(en.indexOf("paint.")===0?zr(hr[en],Ur[en],ge,vr,en.slice(6),Vt.setPaintProperty):n.deepEqual(hr[en],Ur[en])||ge.push({command:Vt.setLayerProperty,args:[vr,en,Ur[en]]}))}}function On(ve,$){if(!ve)return[{command:Vt.setStyle,args:[$]}];var ge=[];try{if(!n.deepEqual(ve.version,$.version))return[{command:Vt.setStyle,args:[$]}];n.deepEqual(ve.center,$.center)||ge.push({command:Vt.setCenter,args:[$.center]}),n.deepEqual(ve.zoom,$.zoom)||ge.push({command:Vt.setZoom,args:[$.zoom]}),n.deepEqual(ve.bearing,$.bearing)||ge.push({command:Vt.setBearing,args:[$.bearing]}),n.deepEqual(ve.pitch,$.pitch)||ge.push({command:Vt.setPitch,args:[$.pitch]}),n.deepEqual(ve.sprite,$.sprite)||ge.push({command:Vt.setSprite,args:[$.sprite]}),n.deepEqual(ve.glyphs,$.glyphs)||ge.push({command:Vt.setGlyphs,args:[$.glyphs]}),n.deepEqual(ve.transition,$.transition)||ge.push({command:Vt.setTransition,args:[$.transition]}),n.deepEqual(ve.light,$.light)||ge.push({command:Vt.setLight,args:[$.light]});var re={},me=[];Yr(ve.sources,$.sources,me,re);var Ne=[];ve.layers&&ve.layers.forEach(function($e){re[$e.source]?ge.push({command:Vt.removeLayer,args:[$e.id]}):Ne.push($e)}),ge=ge.concat(me),tn(Ne,$.layers,ge)}catch($e){console.warn("Unable to compute style diff:",$e),ge=[{command:Vt.setStyle,args:[$]}]}return ge}var zn=function($,ge){this.reset($,ge)};zn.prototype.reset=function($,ge){this.points=$||[],this._distances=[0];for(var re=1;re<this.points.length;re++)this._distances[re]=this._distances[re-1]+this.points[re].dist(this.points[re-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ge||0,this.length*.5),this.paddedLength=this.length-this.padding*2},zn.prototype.lerp=function($){if(this.points.length===1)return this.points[0];$=n.clamp($,0,1);for(var ge=1,re=this._distances[ge],me=$*this.paddedLength+this.padding;re<me&&ge<this._distances.length;)re=this._distances[++ge];var Ne=ge-1,$e=this._distances[Ne],vt=re-$e,Pt=vt>0?(me-$e)/vt:0;return this.points[Ne].mult(1-Pt).add(this.points[ge].mult(Pt))};var Sr=function($,ge,re){var me=this.boxCells=[],Ne=this.circleCells=[];this.xCellCount=Math.ceil($/re),this.yCellCount=Math.ceil(ge/re);for(var $e=0;$e<this.xCellCount*this.yCellCount;$e++)me.push([]),Ne.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=$,this.height=ge,this.xScale=this.xCellCount/$,this.yScale=this.yCellCount/ge,this.boxUid=0,this.circleUid=0};Sr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Sr.prototype.insert=function($,ge,re,me,Ne){this._forEachCell(ge,re,me,Ne,this._insertBoxCell,this.boxUid++),this.boxKeys.push($),this.bboxes.push(ge),this.bboxes.push(re),this.bboxes.push(me),this.bboxes.push(Ne)},Sr.prototype.insertCircle=function($,ge,re,me){this._forEachCell(ge-me,re-me,ge+me,re+me,this._insertCircleCell,this.circleUid++),this.circleKeys.push($),this.circles.push(ge),this.circles.push(re),this.circles.push(me)},Sr.prototype._insertBoxCell=function($,ge,re,me,Ne,$e){this.boxCells[Ne].push($e)},Sr.prototype._insertCircleCell=function($,ge,re,me,Ne,$e){this.circleCells[Ne].push($e)},Sr.prototype._query=function($,ge,re,me,Ne,$e){if(re<0||$>this.width||me<0||ge>this.height)return Ne?!1:[];var vt=[];if($<=0&&ge<=0&&this.width<=re&&this.height<=me){if(Ne)return!0;for(var Pt=0;Pt<this.boxKeys.length;Pt++)vt.push({key:this.boxKeys[Pt],x1:this.bboxes[Pt*4],y1:this.bboxes[Pt*4+1],x2:this.bboxes[Pt*4+2],y2:this.bboxes[Pt*4+3]});for(var Gt=0;Gt<this.circleKeys.length;Gt++){var er=this.circles[Gt*3],vr=this.circles[Gt*3+1],hr=this.circles[Gt*3+2];vt.push({key:this.circleKeys[Gt],x1:er-hr,y1:vr-hr,x2:er+hr,y2:vr+hr})}return $e?vt.filter($e):vt}else{var Ur={hitTest:Ne,seenUids:{box:{},circle:{}}};return this._forEachCell($,ge,re,me,this._queryCell,vt,Ur,$e),Ne?vt.length>0:vt}},Sr.prototype._queryCircle=function($,ge,re,me,Ne){var $e=$-re,vt=$+re,Pt=ge-re,Gt=ge+re;if(vt<0||$e>this.width||Gt<0||Pt>this.height)return me?!1:[];var er=[],vr={hitTest:me,circle:{x:$,y:ge,radius:re},seenUids:{box:{},circle:{}}};return this._forEachCell($e,Pt,vt,Gt,this._queryCellCircle,er,vr,Ne),me?er.length>0:er},Sr.prototype.query=function($,ge,re,me,Ne){return this._query($,ge,re,me,!1,Ne)},Sr.prototype.hitTest=function($,ge,re,me,Ne){return this._query($,ge,re,me,!0,Ne)},Sr.prototype.hitTestCircle=function($,ge,re,me){return this._queryCircle($,ge,re,!0,me)},Sr.prototype._queryCell=function($,ge,re,me,Ne,$e,vt,Pt){var Gt=vt.seenUids,er=this.boxCells[Ne];if(er!==null)for(var vr=this.bboxes,hr=0,Ur=er;hr<Ur.length;hr+=1){var rn=Ur[hr];if(!Gt.box[rn]){Gt.box[rn]=!0;var en=rn*4;if($<=vr[en+2]&&ge<=vr[en+3]&&re>=vr[en+0]&&me>=vr[en+1]&&(!Pt||Pt(this.boxKeys[rn]))){if(vt.hitTest)return $e.push(!0),!0;$e.push({key:this.boxKeys[rn],x1:vr[en],y1:vr[en+1],x2:vr[en+2],y2:vr[en+3]})}}}var Qr=this.circleCells[Ne];if(Qr!==null)for(var on=this.circles,mn=0,Un=Qr;mn<Un.length;mn+=1){var Yn=Un[mn];if(!Gt.circle[Yn]){Gt.circle[Yn]=!0;var ra=Yn*3;if(this._circleAndRectCollide(on[ra],on[ra+1],on[ra+2],$,ge,re,me)&&(!Pt||Pt(this.circleKeys[Yn]))){if(vt.hitTest)return $e.push(!0),!0;var ia=on[ra],ta=on[ra+1],sa=on[ra+2];$e.push({key:this.circleKeys[Yn],x1:ia-sa,y1:ta-sa,x2:ia+sa,y2:ta+sa})}}}},Sr.prototype._queryCellCircle=function($,ge,re,me,Ne,$e,vt,Pt){var Gt=vt.circle,er=vt.seenUids,vr=this.boxCells[Ne];if(vr!==null)for(var hr=this.bboxes,Ur=0,rn=vr;Ur<rn.length;Ur+=1){var en=rn[Ur];if(!er.box[en]){er.box[en]=!0;var Qr=en*4;if(this._circleAndRectCollide(Gt.x,Gt.y,Gt.radius,hr[Qr+0],hr[Qr+1],hr[Qr+2],hr[Qr+3])&&(!Pt||Pt(this.boxKeys[en])))return $e.push(!0),!0}}var on=this.circleCells[Ne];if(on!==null)for(var mn=this.circles,Un=0,Yn=on;Un<Yn.length;Un+=1){var ra=Yn[Un];if(!er.circle[ra]){er.circle[ra]=!0;var ia=ra*3;if(this._circlesCollide(mn[ia],mn[ia+1],mn[ia+2],Gt.x,Gt.y,Gt.radius)&&(!Pt||Pt(this.circleKeys[ra])))return $e.push(!0),!0}}},Sr.prototype._forEachCell=function($,ge,re,me,Ne,$e,vt,Pt){for(var Gt=this._convertToXCellCoord($),er=this._convertToYCellCoord(ge),vr=this._convertToXCellCoord(re),hr=this._convertToYCellCoord(me),Ur=Gt;Ur<=vr;Ur++)for(var rn=er;rn<=hr;rn++){var en=this.xCellCount*rn+Ur;if(Ne.call(this,$,ge,re,me,en,$e,vt,Pt))return}},Sr.prototype._convertToXCellCoord=function($){return Math.max(0,Math.min(this.xCellCount-1,Math.floor($*this.xScale)))},Sr.prototype._convertToYCellCoord=function($){return Math.max(0,Math.min(this.yCellCount-1,Math.floor($*this.yScale)))},Sr.prototype._circlesCollide=function($,ge,re,me,Ne,$e){var vt=me-$,Pt=Ne-ge,Gt=re+$e;return Gt*Gt>vt*vt+Pt*Pt},Sr.prototype._circleAndRectCollide=function($,ge,re,me,Ne,$e,vt){var Pt=($e-me)/2,Gt=Math.abs($-(me+Pt));if(Gt>Pt+re)return!1;var er=(vt-Ne)/2,vr=Math.abs(ge-(Ne+er));if(vr>er+re)return!1;if(Gt<=Pt||vr<=er)return!0;var hr=Gt-Pt,Ur=vr-er;return hr*hr+Ur*Ur<=re*re};function Vr(ve,$,ge,re,me){var Ne=n.create();return $?(n.scale(Ne,Ne,[1/me,1/me,1]),ge||n.rotateZ(Ne,Ne,re.angle)):n.multiply(Ne,re.labelPlaneMatrix,ve),Ne}function qr(ve,$,ge,re,me){if($){var Ne=n.clone(ve);return n.scale(Ne,Ne,[me,me,1]),ge||n.rotateZ(Ne,Ne,-re.angle),Ne}else return re.glCoordMatrix}function Hr(ve,$){var ge=[ve.x,ve.y,0,1];Mr(ge,ge,$);var re=ge[3];return{point:new n.Point(ge[0]/re,ge[1]/re),signedDistanceFromCamera:re}}function Tn(ve,$){return .5+.5*(ve/$)}function bn(ve,$){var ge=ve[0]/ve[3],re=ve[1]/ve[3],me=ge>=-$[0]&&ge<=$[0]&&re>=-$[1]&&re<=$[1];return me}function Hn(ve,$,ge,re,me,Ne,$e,vt){var Pt=re?ve.textSizeData:ve.iconSizeData,Gt=n.evaluateSizeForZoom(Pt,ge.transform.zoom),er=[256/ge.width*2+1,256/ge.height*2+1],vr=re?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;vr.clear();for(var hr=ve.lineVertexArray,Ur=re?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,rn=ge.transform.width/ge.transform.height,en=!1,Qr=0;Qr<Ur.length;Qr++){var on=Ur.get(Qr);if(on.hidden||on.writingMode===n.WritingMode.vertical&&!en){Qn(on.numGlyphs,vr);continue}en=!1;var mn=[on.anchorX,on.anchorY,0,1];if(n.transformMat4(mn,mn,$),!bn(mn,er)){Qn(on.numGlyphs,vr);continue}var Un=mn[3],Yn=Tn(ge.transform.cameraToCenterDistance,Un),ra=n.evaluateSizeForFeature(Pt,Gt,on),ia=$e?ra/Yn:ra*Yn,ta=new n.Point(on.anchorX,on.anchorY),sa=Hr(ta,me).point,pa={},wa=ma(on,ia,!1,vt,$,me,Ne,ve.glyphOffsetArray,hr,vr,sa,ta,pa,rn);en=wa.useVertical,(wa.notEnoughRoom||en||wa.needsFlipping&&ma(on,ia,!0,vt,$,me,Ne,ve.glyphOffsetArray,hr,vr,sa,ta,pa,rn).notEnoughRoom)&&Qn(on.numGlyphs,vr)}re?ve.text.dynamicLayoutVertexBuffer.updateData(vr):ve.icon.dynamicLayoutVertexBuffer.updateData(vr)}function Gn(ve,$,ge,re,me,Ne,$e,vt,Pt,Gt,er){var vr=vt.glyphStartIndex+vt.numGlyphs,hr=vt.lineStartIndex,Ur=vt.lineStartIndex+vt.lineLength,rn=$.getoffsetX(vt.glyphStartIndex),en=$.getoffsetX(vr-1),Qr=Fa(ve*rn,ge,re,me,Ne,$e,vt.segment,hr,Ur,Pt,Gt,er);if(!Qr)return null;var on=Fa(ve*en,ge,re,me,Ne,$e,vt.segment,hr,Ur,Pt,Gt,er);return on?{first:Qr,last:on}:null}function ea(ve,$,ge,re){if(ve===n.WritingMode.horizontal){var me=Math.abs(ge.y-$.y),Ne=Math.abs(ge.x-$.x)*re;if(me>Ne)return{useVertical:!0}}return(ve===n.WritingMode.vertical?$.y<ge.y:$.x>ge.x)?{needsFlipping:!0}:null}function ma(ve,$,ge,re,me,Ne,$e,vt,Pt,Gt,er,vr,hr,Ur){var rn=$/24,en=ve.lineOffsetX*rn,Qr=ve.lineOffsetY*rn,on;if(ve.numGlyphs>1){var mn=ve.glyphStartIndex+ve.numGlyphs,Un=ve.lineStartIndex,Yn=ve.lineStartIndex+ve.lineLength,ra=Gn(rn,vt,en,Qr,ge,er,vr,ve,Pt,Ne,hr);if(!ra)return{notEnoughRoom:!0};var ia=Hr(ra.first.point,$e).point,ta=Hr(ra.last.point,$e).point;if(re&&!ge){var sa=ea(ve.writingMode,ia,ta,Ur);if(sa)return sa}on=[ra.first];for(var pa=ve.glyphStartIndex+1;pa<mn-1;pa++)on.push(Fa(rn*vt.getoffsetX(pa),en,Qr,ge,er,vr,ve.segment,Un,Yn,Pt,Ne,hr));on.push(ra.last)}else{if(re&&!ge){var wa=Hr(vr,me).point,Oa=ve.lineStartIndex+ve.segment+1,Pa=new n.Point(Pt.getx(Oa),Pt.gety(Oa)),ri=Hr(Pa,me),Ci=ri.signedDistanceFromCamera>0?ri.point:Da(vr,Pa,wa,1,me),gi=ea(ve.writingMode,wa,Ci,Ur);if(gi)return gi}var Ua=Fa(rn*vt.getoffsetX(ve.glyphStartIndex),en,Qr,ge,er,vr,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,Pt,Ne,hr);if(!Ua)return{notEnoughRoom:!0};on=[Ua]}for(var mi=0,si=on;mi<si.length;mi+=1){var Fi=si[mi];n.addDynamicAttributes(Gt,Fi.point,Fi.angle)}return{}}function Da(ve,$,ge,re,me){var Ne=Hr(ve.add(ve.sub($)._unit()),me).point,$e=ge.sub(Ne);return ge.add($e._mult(re/$e.mag()))}function Fa(ve,$,ge,re,me,Ne,$e,vt,Pt,Gt,er,vr){var hr=re?ve-$:ve+$,Ur=hr>0?1:-1,rn=0;re&&(Ur*=-1,rn=Math.PI),Ur<0&&(rn+=Math.PI);for(var en=Ur>0?vt+$e:vt+$e+1,Qr=me,on=me,mn=0,Un=0,Yn=Math.abs(hr),ra=[];mn+Un<=Yn;){if(en+=Ur,en<vt||en>=Pt)return null;if(on=Qr,ra.push(Qr),Qr=vr[en],Qr===void 0){var ia=new n.Point(Gt.getx(en),Gt.gety(en)),ta=Hr(ia,er);if(ta.signedDistanceFromCamera>0)Qr=vr[en]=ta.point;else{var sa=en-Ur,pa=mn===0?Ne:new n.Point(Gt.getx(sa),Gt.gety(sa));Qr=Da(pa,ia,on,Yn-mn+1,er)}}mn+=Un,Un=on.dist(Qr)}var wa=(Yn-mn)/Un,Oa=Qr.sub(on),Pa=Oa.mult(wa)._add(on);Pa._add(Oa._unit()._perp()._mult(ge*Ur));var ri=rn+Math.atan2(Qr.y-on.y,Qr.x-on.x);return ra.push(Pa),{point:Pa,angle:ri,path:ra}}var La=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Qn(ve,$){for(var ge=0;ge<ve;ge++){var re=$.length;$.resize(re+4),$.float32.set(La,re*3)}}function Mr(ve,$,ge){var re=$[0],me=$[1];return ve[0]=ge[0]*re+ge[4]*me+ge[12],ve[1]=ge[1]*re+ge[5]*me+ge[13],ve[3]=ge[3]*re+ge[7]*me+ge[15],ve}var Jr=100,Kr=function($,ge,re){ge===void 0&&(ge=new Sr($.width+2*Jr,$.height+2*Jr,25)),re===void 0&&(re=new Sr($.width+2*Jr,$.height+2*Jr,25)),this.transform=$,this.grid=ge,this.ignoredGrid=re,this.pitchfactor=Math.cos($._pitch)*$.cameraToCenterDistance,this.screenRightBoundary=$.width+Jr,this.screenBottomBoundary=$.height+Jr,this.gridRightBoundary=$.width+2*Jr,this.gridBottomBoundary=$.height+2*Jr};Kr.prototype.placeCollisionBox=function($,ge,re,me,Ne){var $e=this.projectAndGetPerspectiveRatio(me,$.anchorPointX,$.anchorPointY),vt=re*$e.perspectiveRatio,Pt=$.x1*vt+$e.point.x,Gt=$.y1*vt+$e.point.y,er=$.x2*vt+$e.point.x,vr=$.y2*vt+$e.point.y;return!this.isInsideGrid(Pt,Gt,er,vr)||!ge&&this.grid.hitTest(Pt,Gt,er,vr,Ne)?{box:[],offscreen:!1}:{box:[Pt,Gt,er,vr],offscreen:this.isOffscreen(Pt,Gt,er,vr)}},Kr.prototype.placeCollisionCircles=function($,ge,re,me,Ne,$e,vt,Pt,Gt,er,vr,hr,Ur){var rn=[],en=new n.Point(ge.anchorX,ge.anchorY),Qr=Hr(en,$e),on=Tn(this.transform.cameraToCenterDistance,Qr.signedDistanceFromCamera),mn=er?Ne/on:Ne*on,Un=mn/n.ONE_EM,Yn=Hr(en,vt).point,ra={},ia=ge.lineOffsetX*Un,ta=ge.lineOffsetY*Un,sa=Gn(Un,me,ia,ta,!1,Yn,en,ge,re,vt,ra),pa=!1,wa=!1,Oa=!0;if(sa){for(var Pa=hr*.5*on+Ur,ri=new n.Point(-Jr,-Jr),Ci=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),gi=new zn,Ua=sa.first,mi=sa.last,si=[],Fi=Ua.path.length-1;Fi>=1;Fi--)si.push(Ua.path[Fi]);for(var Li=1;Li<mi.path.length;Li++)si.push(mi.path[Li]);var oo=Pa*2.5;if(Pt){var xi=si.map(function(Ru){return Hr(Ru,Pt)});xi.some(function(Ru){return Ru.signedDistanceFromCamera<=0})?si=[]:si=xi.map(function(Ru){return Ru.point})}var Qi=[];if(si.length>0){for(var ui=si[0].clone(),_i=si[0].clone(),Co=1;Co<si.length;Co++)ui.x=Math.min(ui.x,si[Co].x),ui.y=Math.min(ui.y,si[Co].y),_i.x=Math.max(_i.x,si[Co].x),_i.y=Math.max(_i.y,si[Co].y);ui.x>=ri.x&&_i.x<=Ci.x&&ui.y>=ri.y&&_i.y<=Ci.y?Qi=[si]:_i.x<ri.x||ui.x>Ci.x||_i.y<ri.y||ui.y>Ci.y?Qi=[]:Qi=n.clipLine([si],ri.x,ri.y,Ci.x,Ci.y)}for(var rs=0,ns=Qi;rs<ns.length;rs+=1){var Ds=ns[rs];gi.reset(Ds,Pa*.25);var Lu=0;gi.length<=.5*Pa?Lu=1:Lu=Math.ceil(gi.paddedLength/oo)+1;for(var _u=0;_u<Lu;_u++){var Kc=_u/Math.max(Lu-1,1),df=gi.lerp(Kc),ll=df.x+Jr,pf=df.y+Jr;rn.push(ll,pf,Pa,0);var Sl=ll-Pa,ul=pf-Pa,Pu=ll+Pa,Xf=pf+Pa;if(Oa=Oa&&this.isOffscreen(Sl,ul,Pu,Xf),wa=wa||this.isInsideGrid(Sl,ul,Pu,Xf),!$&&this.grid.hitTestCircle(ll,pf,Pa,vr)&&(pa=!0,!Gt))return{circles:[],offscreen:!1,collisionDetected:pa}}}}return{circles:!Gt&&pa||!wa?[]:rn,offscreen:Oa,collisionDetected:pa}},Kr.prototype.queryRenderedSymbols=function($){if($.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ge=[],re=1/0,me=1/0,Ne=-1/0,$e=-1/0,vt=0,Pt=$;vt<Pt.length;vt+=1){var Gt=Pt[vt],er=new n.Point(Gt.x+Jr,Gt.y+Jr);re=Math.min(re,er.x),me=Math.min(me,er.y),Ne=Math.max(Ne,er.x),$e=Math.max($e,er.y),ge.push(er)}for(var vr=this.grid.query(re,me,Ne,$e).concat(this.ignoredGrid.query(re,me,Ne,$e)),hr={},Ur={},rn=0,en=vr;rn<en.length;rn+=1){var Qr=en[rn],on=Qr.key;if(hr[on.bucketInstanceId]===void 0&&(hr[on.bucketInstanceId]={}),!hr[on.bucketInstanceId][on.featureIndex]){var mn=[new n.Point(Qr.x1,Qr.y1),new n.Point(Qr.x2,Qr.y1),new n.Point(Qr.x2,Qr.y2),new n.Point(Qr.x1,Qr.y2)];n.polygonIntersectsPolygon(ge,mn)&&(hr[on.bucketInstanceId][on.featureIndex]=!0,Ur[on.bucketInstanceId]===void 0&&(Ur[on.bucketInstanceId]=[]),Ur[on.bucketInstanceId].push(on.featureIndex))}}return Ur},Kr.prototype.insertCollisionBox=function($,ge,re,me,Ne){var $e=ge?this.ignoredGrid:this.grid,vt={bucketInstanceId:re,featureIndex:me,collisionGroupID:Ne};$e.insert(vt,$[0],$[1],$[2],$[3])},Kr.prototype.insertCollisionCircles=function($,ge,re,me,Ne){for(var $e=ge?this.ignoredGrid:this.grid,vt={bucketInstanceId:re,featureIndex:me,collisionGroupID:Ne},Pt=0;Pt<$.length;Pt+=4)$e.insertCircle(vt,$[Pt],$[Pt+1],$[Pt+2])},Kr.prototype.projectAndGetPerspectiveRatio=function($,ge,re){var me=[ge,re,0,1];Mr(me,me,$);var Ne=new n.Point((me[0]/me[3]+1)/2*this.transform.width+Jr,(-me[1]/me[3]+1)/2*this.transform.height+Jr);return{point:Ne,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/me[3])}},Kr.prototype.isOffscreen=function($,ge,re,me){return re<Jr||$>=this.screenRightBoundary||me<Jr||ge>this.screenBottomBoundary},Kr.prototype.isInsideGrid=function($,ge,re,me){return re>=0&&$<this.gridRightBoundary&&me>=0&&ge<this.gridBottomBoundary},Kr.prototype.getViewportMatrix=function(){var $=n.identity([]);return n.translate($,$,[-Jr,-Jr,0]),$};function wn(ve,$,ge){return $*(n.EXTENT/(ve.tileSize*Math.pow(2,ge-ve.tileID.overscaledZ)))}var jn=function($,ge,re,me){$?this.opacity=Math.max(0,Math.min(1,$.opacity+($.placed?ge:-ge))):this.opacity=me&&re?1:0,this.placed=re};jn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Pn=function($,ge,re,me,Ne){this.text=new jn($?$.text:null,ge,re,Ne),this.icon=new jn($?$.icon:null,ge,me,Ne)};Pn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var kn=function($,ge,re){this.text=$,this.icon=ge,this.skipFade=re},Jn=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},ua=function($,ge,re,me,Ne){this.bucketInstanceId=$,this.featureIndex=ge,this.sourceLayerIndex=re,this.bucketIndex=me,this.tileID=Ne},Ca=function($){this.crossSourceCollisions=$,this.maxGroupID=0,this.collisionGroups={}};Ca.prototype.get=function($){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[$]){var ge=++this.maxGroupID;this.collisionGroups[$]={ID:ge,predicate:function(re){return re.collisionGroupID===ge}}}return this.collisionGroups[$]};function ei(ve,$,ge,re,me){var Ne=n.getAnchorAlignment(ve),$e=Ne.horizontalAlign,vt=Ne.verticalAlign,Pt=-($e-.5)*$,Gt=-(vt-.5)*ge,er=n.evaluateVariableOffset(ve,re);return new n.Point(Pt+er[0]*me,Gt+er[1]*me)}function Ar(ve,$,ge,re,me,Ne){var $e=ve.x1,vt=ve.x2,Pt=ve.y1,Gt=ve.y2,er=ve.anchorPointX,vr=ve.anchorPointY,hr=new n.Point($,ge);return re&&hr._rotate(me?Ne:-Ne),{x1:$e+hr.x,y1:Pt+hr.y,x2:vt+hr.x,y2:Gt+hr.y,anchorPointX:er,anchorPointY:vr}}var Gr=function($,ge,re,me){this.transform=$.clone(),this.collisionIndex=new Kr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ge,this.retainedQueryData={},this.collisionGroups=new Ca(re),this.collisionCircleArrays={},this.prevPlacement=me,me&&(me.prevPlacement=void 0),this.placedOrientations={}};Gr.prototype.getBucketParts=function($,ge,re,me){var Ne=re.getBucket(ge),$e=re.latestFeatureIndex;if(!(!Ne||!$e||ge.id!==Ne.layerIds[0])){var vt=re.collisionBoxArray,Pt=Ne.layers[0].layout,Gt=Math.pow(2,this.transform.zoom-re.tileID.overscaledZ),er=re.tileSize/n.EXTENT,vr=this.transform.calculatePosMatrix(re.tileID.toUnwrapped()),hr=Pt.get("text-pitch-alignment")==="map",Ur=Pt.get("text-rotation-alignment")==="map",rn=wn(re,1,this.transform.zoom),en=Vr(vr,hr,Ur,this.transform,rn),Qr=null;if(hr){var on=qr(vr,hr,Ur,this.transform,rn);Qr=n.multiply([],this.transform.labelPlaneMatrix,on)}this.retainedQueryData[Ne.bucketInstanceId]=new ua(Ne.bucketInstanceId,$e,Ne.sourceLayerIndex,Ne.index,re.tileID);var mn={bucket:Ne,layout:Pt,posMatrix:vr,textLabelPlaneMatrix:en,labelToScreenMatrix:Qr,scale:Gt,textPixelRatio:er,holdingForFade:re.holdingForFade(),collisionBoxArray:vt,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(Ne.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Ne.sourceID)};if(me)for(var Un=0,Yn=Ne.sortKeyRanges;Un<Yn.length;Un+=1){var ra=Yn[Un],ia=ra.sortKey,ta=ra.symbolInstanceStart,sa=ra.symbolInstanceEnd;$.push({sortKey:ia,symbolInstanceStart:ta,symbolInstanceEnd:sa,parameters:mn})}else $.push({symbolInstanceStart:0,symbolInstanceEnd:Ne.symbolInstances.length,parameters:mn})}},Gr.prototype.attemptAnchorPlacement=function($,ge,re,me,Ne,$e,vt,Pt,Gt,er,vr,hr,Ur,rn,en){var Qr=[hr.textOffset0,hr.textOffset1],on=ei($,re,me,Qr,Ne),mn=this.collisionIndex.placeCollisionBox(Ar(ge,on.x,on.y,$e,vt,this.transform.angle),vr,Pt,Gt,er.predicate);if(en){var Un=this.collisionIndex.placeCollisionBox(Ar(en,on.x,on.y,$e,vt,this.transform.angle),vr,Pt,Gt,er.predicate);if(Un.box.length===0)return}if(mn.box.length>0){var Yn;return this.prevPlacement&&this.prevPlacement.variableOffsets[hr.crossTileID]&&this.prevPlacement.placements[hr.crossTileID]&&this.prevPlacement.placements[hr.crossTileID].text&&(Yn=this.prevPlacement.variableOffsets[hr.crossTileID].anchor),this.variableOffsets[hr.crossTileID]={textOffset:Qr,width:re,height:me,anchor:$,textBoxScale:Ne,prevAnchor:Yn},this.markUsedJustification(Ur,$,hr,rn),Ur.allowVerticalPlacement&&(this.markUsedOrientation(Ur,rn,hr),this.placedOrientations[hr.crossTileID]=rn),{shift:on,placedGlyphBoxes:mn}}},Gr.prototype.placeLayerBucketPart=function($,ge,re){var me=this,Ne=$.parameters,$e=Ne.bucket,vt=Ne.layout,Pt=Ne.posMatrix,Gt=Ne.textLabelPlaneMatrix,er=Ne.labelToScreenMatrix,vr=Ne.textPixelRatio,hr=Ne.holdingForFade,Ur=Ne.collisionBoxArray,rn=Ne.partiallyEvaluatedTextSize,en=Ne.collisionGroup,Qr=vt.get("text-optional"),on=vt.get("icon-optional"),mn=vt.get("text-allow-overlap"),Un=vt.get("icon-allow-overlap"),Yn=vt.get("text-rotation-alignment")==="map",ra=vt.get("text-pitch-alignment")==="map",ia=vt.get("icon-text-fit")!=="none",ta=vt.get("symbol-z-order")==="viewport-y",sa=mn&&(Un||!$e.hasIconData()||on),pa=Un&&(mn||!$e.hasTextData()||Qr);!$e.collisionArrays&&Ur&&$e.deserializeCollisionBoxes(Ur);var wa=function(Ua,mi){if(!ge[Ua.crossTileID]){if(hr){me.placements[Ua.crossTileID]=new kn(!1,!1,!1);return}var si=!1,Fi=!1,Li=!0,oo=null,xi={box:null,offscreen:null},Qi={box:null,offscreen:null},ui=null,_i=null,Co=null,rs=0,ns=0,Ds=0;mi.textFeatureIndex?rs=mi.textFeatureIndex:Ua.useRuntimeCollisionCircles&&(rs=Ua.featureIndex),mi.verticalTextFeatureIndex&&(ns=mi.verticalTextFeatureIndex);var Lu=mi.textBox;if(Lu){var _u=function(Ho){var El=n.WritingMode.horizontal;if($e.allowVerticalPlacement&&!Ho&&me.prevPlacement){var Cl=me.prevPlacement.placedOrientations[Ua.crossTileID];Cl&&(me.placedOrientations[Ua.crossTileID]=Cl,El=Cl,me.markUsedOrientation($e,El,Ua))}return El},Kc=function(Ho,El){if($e.allowVerticalPlacement&&Ua.numVerticalGlyphVertices>0&&mi.verticalTextBox)for(var Cl=0,fl=$e.writingModes;Cl<fl.length;Cl+=1){var gd=fl[Cl];if(gd===n.WritingMode.vertical?(xi=El(),Qi=xi):xi=Ho(),xi&&xi.box&&xi.box.length)break}else xi=Ho()};if(vt.get("text-variable-anchor")){var Sl=vt.get("text-variable-anchor");if(me.prevPlacement&&me.prevPlacement.variableOffsets[Ua.crossTileID]){var ul=me.prevPlacement.variableOffsets[Ua.crossTileID];Sl.indexOf(ul.anchor)>0&&(Sl=Sl.filter(function(Ho){return Ho!==ul.anchor}),Sl.unshift(ul.anchor))}var Pu=function(Ho,El,Cl){for(var fl=Ho.x2-Ho.x1,gd=Ho.y2-Ho.y1,w0=Ua.textBoxScale,T0=ia&&!Un?El:null,Ch={box:[],offscreen:!1},A0=mn?Sl.length*2:Sl.length,bv=0;bv<A0;++bv){var M0=Sl[bv%Sl.length],S0=bv>=Sl.length,Xh=me.attemptAnchorPlacement(M0,Ho,fl,gd,w0,Yn,ra,vr,Pt,en,S0,Ua,$e,Cl,T0);if(Xh&&(Ch=Xh.placedGlyphBoxes,Ch&&Ch.box&&Ch.box.length)){si=!0,oo=Xh.shift;break}}return Ch},Xf=function(){return Pu(Lu,mi.iconBox,n.WritingMode.horizontal)},Ru=function(){var Ho=mi.verticalTextBox,El=xi&&xi.box&&xi.box.length;return $e.allowVerticalPlacement&&!El&&Ua.numVerticalGlyphVertices>0&&Ho?Pu(Ho,mi.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}};Kc(Xf,Ru),xi&&(si=xi.box,Li=xi.offscreen);var yv=_u(xi&&xi.box);if(!si&&me.prevPlacement){var Th=me.prevPlacement.variableOffsets[Ua.crossTileID];Th&&(me.variableOffsets[Ua.crossTileID]=Th,me.markUsedJustification($e,Th.anchor,Ua,yv))}}else{var df=function(Ho,El){var Cl=me.collisionIndex.placeCollisionBox(Ho,mn,vr,Pt,en.predicate);return Cl&&Cl.box&&Cl.box.length&&(me.markUsedOrientation($e,El,Ua),me.placedOrientations[Ua.crossTileID]=El),Cl},ll=function(){return df(Lu,n.WritingMode.horizontal)},pf=function(){var Ho=mi.verticalTextBox;return $e.allowVerticalPlacement&&Ua.numVerticalGlyphVertices>0&&Ho?df(Ho,n.WritingMode.vertical):{box:null,offscreen:null}};Kc(ll,pf),_u(xi&&xi.box&&xi.box.length)}}if(ui=xi,si=ui&&ui.box&&ui.box.length>0,Li=ui&&ui.offscreen,Ua.useRuntimeCollisionCircles){var ds=$e.text.placedSymbolArray.get(Ua.centerJustifiedTextSymbolIndex),Wh=n.evaluateSizeForFeature($e.textSizeData,rn,ds),Ah=vt.get("text-padding"),Qs=Ua.collisionCircleDiameter;_i=me.collisionIndex.placeCollisionCircles(mn,ds,$e.lineVertexArray,$e.glyphOffsetArray,Wh,Pt,Gt,er,re,ra,en.predicate,Qs,Ah),si=mn||_i.circles.length>0&&!_i.collisionDetected,Li=Li&&_i.offscreen}if(mi.iconFeatureIndex&&(Ds=mi.iconFeatureIndex),mi.iconBox){var Mh=function(Ho){var El=ia&&oo?Ar(Ho,oo.x,oo.y,Yn,ra,me.transform.angle):Ho;return me.collisionIndex.placeCollisionBox(El,Un,vr,Pt,en.predicate)};Qi&&Qi.box&&Qi.box.length&&mi.verticalIconBox?(Co=Mh(mi.verticalIconBox),Fi=Co.box.length>0):(Co=Mh(mi.iconBox),Fi=Co.box.length>0),Li=Li&&Co.offscreen}var mv=Qr||Ua.numHorizontalGlyphVertices===0&&Ua.numVerticalGlyphVertices===0,Yh=on||Ua.numIconVertices===0;if(!mv&&!Yh?Fi=si=Fi&&si:Yh?mv||(Fi=Fi&&si):si=Fi&&si,si&&ui&&ui.box&&(Qi&&Qi.box&&ns?me.collisionIndex.insertCollisionBox(ui.box,vt.get("text-ignore-placement"),$e.bucketInstanceId,ns,en.ID):me.collisionIndex.insertCollisionBox(ui.box,vt.get("text-ignore-placement"),$e.bucketInstanceId,rs,en.ID)),Fi&&Co&&me.collisionIndex.insertCollisionBox(Co.box,vt.get("icon-ignore-placement"),$e.bucketInstanceId,Ds,en.ID),_i&&(si&&me.collisionIndex.insertCollisionCircles(_i.circles,vt.get("text-ignore-placement"),$e.bucketInstanceId,rs,en.ID),re)){var xv=$e.bucketInstanceId,Sh=me.collisionCircleArrays[xv];Sh===void 0&&(Sh=me.collisionCircleArrays[xv]=new Jn);for(var Eh=0;Eh<_i.circles.length;Eh+=4)Sh.circles.push(_i.circles[Eh+0]),Sh.circles.push(_i.circles[Eh+1]),Sh.circles.push(_i.circles[Eh+2]),Sh.circles.push(_i.collisionDetected?1:0)}me.placements[Ua.crossTileID]=new kn(si||sa,Fi||pa,Li||$e.justReloaded),ge[Ua.crossTileID]=!0}};if(ta)for(var Oa=$e.getSortedSymbolIndexes(this.transform.angle),Pa=Oa.length-1;Pa>=0;--Pa){var ri=Oa[Pa];wa($e.symbolInstances.get(ri),$e.collisionArrays[ri])}else for(var Ci=$.symbolInstanceStart;Ci<$.symbolInstanceEnd;Ci++)wa($e.symbolInstances.get(Ci),$e.collisionArrays[Ci]);if(re&&$e.bucketInstanceId in this.collisionCircleArrays){var gi=this.collisionCircleArrays[$e.bucketInstanceId];n.invert(gi.invProjMatrix,Pt),gi.viewportMatrix=this.collisionIndex.getViewportMatrix()}$e.justReloaded=!1},Gr.prototype.markUsedJustification=function($,ge,re,me){var Ne={left:re.leftJustifiedTextSymbolIndex,center:re.centerJustifiedTextSymbolIndex,right:re.rightJustifiedTextSymbolIndex},$e;me===n.WritingMode.vertical?$e=re.verticalPlacedTextSymbolIndex:$e=Ne[n.getAnchorJustification(ge)];for(var vt=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex,re.verticalPlacedTextSymbolIndex],Pt=0,Gt=vt;Pt<Gt.length;Pt+=1){var er=Gt[Pt];er>=0&&($e>=0&&er!==$e?$.text.placedSymbolArray.get(er).crossTileID=0:$.text.placedSymbolArray.get(er).crossTileID=re.crossTileID)}},Gr.prototype.markUsedOrientation=function($,ge,re){for(var me=ge===n.WritingMode.horizontal||ge===n.WritingMode.horizontalOnly?ge:0,Ne=ge===n.WritingMode.vertical?ge:0,$e=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex],vt=0,Pt=$e;vt<Pt.length;vt+=1){var Gt=Pt[vt];$.text.placedSymbolArray.get(Gt).placedOrientation=me}re.verticalPlacedTextSymbolIndex&&($.text.placedSymbolArray.get(re.verticalPlacedTextSymbolIndex).placedOrientation=Ne)},Gr.prototype.commit=function($){this.commitTime=$,this.zoomAtLastRecencyCheck=this.transform.zoom;var ge=this.prevPlacement,re=!1;this.prevZoomAdjustment=ge?ge.zoomAdjustment(this.transform.zoom):0;var me=ge?ge.symbolFadeChange($):1,Ne=ge?ge.opacities:{},$e=ge?ge.variableOffsets:{},vt=ge?ge.placedOrientations:{};for(var Pt in this.placements){var Gt=this.placements[Pt],er=Ne[Pt];er?(this.opacities[Pt]=new Pn(er,me,Gt.text,Gt.icon),re=re||Gt.text!==er.text.placed||Gt.icon!==er.icon.placed):(this.opacities[Pt]=new Pn(null,me,Gt.text,Gt.icon,Gt.skipFade),re=re||Gt.text||Gt.icon)}for(var vr in Ne){var hr=Ne[vr];if(!this.opacities[vr]){var Ur=new Pn(hr,me,!1,!1);Ur.isHidden()||(this.opacities[vr]=Ur,re=re||hr.text.placed||hr.icon.placed)}}for(var rn in $e)!this.variableOffsets[rn]&&this.opacities[rn]&&!this.opacities[rn].isHidden()&&(this.variableOffsets[rn]=$e[rn]);for(var en in vt)!this.placedOrientations[en]&&this.opacities[en]&&!this.opacities[en].isHidden()&&(this.placedOrientations[en]=vt[en]);re?this.lastPlacementChangeTime=$:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ge?ge.lastPlacementChangeTime:$)},Gr.prototype.updateLayerOpacities=function($,ge){for(var re={},me=0,Ne=ge;me<Ne.length;me+=1){var $e=Ne[me],vt=$e.getBucket($);vt&&$e.latestFeatureIndex&&$.id===vt.layerIds[0]&&this.updateBucketOpacities(vt,re,$e.collisionBoxArray)}},Gr.prototype.updateBucketOpacities=function($,ge,re){var me=this;$.hasTextData()&&$.text.opacityVertexArray.clear(),$.hasIconData()&&$.icon.opacityVertexArray.clear(),$.hasIconCollisionBoxData()&&$.iconCollisionBox.collisionVertexArray.clear(),$.hasTextCollisionBoxData()&&$.textCollisionBox.collisionVertexArray.clear();var Ne=$.layers[0].layout,$e=new Pn(null,0,!1,!1,!0),vt=Ne.get("text-allow-overlap"),Pt=Ne.get("icon-allow-overlap"),Gt=Ne.get("text-variable-anchor"),er=Ne.get("text-rotation-alignment")==="map",vr=Ne.get("text-pitch-alignment")==="map",hr=Ne.get("icon-text-fit")!=="none",Ur=new Pn(null,0,vt&&(Pt||!$.hasIconData()||Ne.get("icon-optional")),Pt&&(vt||!$.hasTextData()||Ne.get("text-optional")),!0);!$.collisionArrays&&re&&($.hasIconCollisionBoxData()||$.hasTextCollisionBoxData())&&$.deserializeCollisionBoxes(re);for(var rn=function(mn,Un,Yn){for(var ra=0;ra<Un/4;ra++)mn.opacityVertexArray.emplaceBack(Yn)},en=function(mn){var Un=$.symbolInstances.get(mn),Yn=Un.numHorizontalGlyphVertices,ra=Un.numVerticalGlyphVertices,ia=Un.crossTileID,ta=ge[ia],sa=me.opacities[ia];ta?sa=$e:sa||(sa=Ur,me.opacities[ia]=sa),ge[ia]=!0;var pa=Yn>0||ra>0,wa=Un.numIconVertices>0,Oa=me.placedOrientations[Un.crossTileID],Pa=Oa===n.WritingMode.vertical,ri=Oa===n.WritingMode.horizontal||Oa===n.WritingMode.horizontalOnly;if(pa){var Ci=$r(sa.text),gi=Pa?ln:Ci;rn($.text,Yn,gi);var Ua=ri?ln:Ci;rn($.text,ra,Ua);var mi=sa.text.isHidden();[Un.rightJustifiedTextSymbolIndex,Un.centerJustifiedTextSymbolIndex,Un.leftJustifiedTextSymbolIndex].forEach(function(Ds){Ds>=0&&($.text.placedSymbolArray.get(Ds).hidden=mi||Pa?1:0)}),Un.verticalPlacedTextSymbolIndex>=0&&($.text.placedSymbolArray.get(Un.verticalPlacedTextSymbolIndex).hidden=mi||ri?1:0);var si=me.variableOffsets[Un.crossTileID];si&&me.markUsedJustification($,si.anchor,Un,Oa);var Fi=me.placedOrientations[Un.crossTileID];Fi&&(me.markUsedJustification($,"left",Un,Fi),me.markUsedOrientation($,Fi,Un))}if(wa){var Li=$r(sa.icon),oo=!(hr&&Un.verticalPlacedIconSymbolIndex&&Pa);if(Un.placedIconSymbolIndex>=0){var xi=oo?Li:ln;rn($.icon,Un.numIconVertices,xi),$.icon.placedSymbolArray.get(Un.placedIconSymbolIndex).hidden=sa.icon.isHidden()}if(Un.verticalPlacedIconSymbolIndex>=0){var Qi=oo?ln:Li;rn($.icon,Un.numVerticalIconVertices,Qi),$.icon.placedSymbolArray.get(Un.verticalPlacedIconSymbolIndex).hidden=sa.icon.isHidden()}}if($.hasIconCollisionBoxData()||$.hasTextCollisionBoxData()){var ui=$.collisionArrays[mn];if(ui){var _i=new n.Point(0,0);if(ui.textBox||ui.verticalTextBox){var Co=!0;if(Gt){var rs=me.variableOffsets[ia];rs?(_i=ei(rs.anchor,rs.width,rs.height,rs.textOffset,rs.textBoxScale),er&&_i._rotate(vr?me.transform.angle:-me.transform.angle)):Co=!1}ui.textBox&&Cr($.textCollisionBox.collisionVertexArray,sa.text.placed,!Co||Pa,_i.x,_i.y),ui.verticalTextBox&&Cr($.textCollisionBox.collisionVertexArray,sa.text.placed,!Co||ri,_i.x,_i.y)}var ns=!!(!ri&&ui.verticalIconBox);ui.iconBox&&Cr($.iconCollisionBox.collisionVertexArray,sa.icon.placed,ns,hr?_i.x:0,hr?_i.y:0),ui.verticalIconBox&&Cr($.iconCollisionBox.collisionVertexArray,sa.icon.placed,!ns,hr?_i.x:0,hr?_i.y:0)}}},Qr=0;Qr<$.symbolInstances.length;Qr++)en(Qr);if($.sortFeatures(this.transform.angle),this.retainedQueryData[$.bucketInstanceId]&&(this.retainedQueryData[$.bucketInstanceId].featureSortOrder=$.featureSortOrder),$.hasTextData()&&$.text.opacityVertexBuffer&&$.text.opacityVertexBuffer.updateData($.text.opacityVertexArray),$.hasIconData()&&$.icon.opacityVertexBuffer&&$.icon.opacityVertexBuffer.updateData($.icon.opacityVertexArray),$.hasIconCollisionBoxData()&&$.iconCollisionBox.collisionVertexBuffer&&$.iconCollisionBox.collisionVertexBuffer.updateData($.iconCollisionBox.collisionVertexArray),$.hasTextCollisionBoxData()&&$.textCollisionBox.collisionVertexBuffer&&$.textCollisionBox.collisionVertexBuffer.updateData($.textCollisionBox.collisionVertexArray),$.bucketInstanceId in this.collisionCircleArrays){var on=this.collisionCircleArrays[$.bucketInstanceId];$.placementInvProjMatrix=on.invProjMatrix,$.placementViewportMatrix=on.viewportMatrix,$.collisionCircleArray=on.circles,delete this.collisionCircleArrays[$.bucketInstanceId]}},Gr.prototype.symbolFadeChange=function($){return this.fadeDuration===0?1:($-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Gr.prototype.zoomAdjustment=function($){return Math.max(0,(this.transform.zoom-$)/1.5)},Gr.prototype.hasTransitions=function($){return this.stale||$-this.lastPlacementChangeTime<this.fadeDuration},Gr.prototype.stillRecent=function($,ge){var re=this.zoomAtLastRecencyCheck===ge?1-this.zoomAdjustment(ge):1;return this.zoomAtLastRecencyCheck=ge,this.commitTime+this.fadeDuration*re>$},Gr.prototype.setStale=function(){this.stale=!0};function Cr(ve,$,ge,re,me){ve.emplaceBack($?1:0,ge?1:0,re||0,me||0),ve.emplaceBack($?1:0,ge?1:0,re||0,me||0),ve.emplaceBack($?1:0,ge?1:0,re||0,me||0),ve.emplaceBack($?1:0,ge?1:0,re||0,me||0)}var Wr=Math.pow(2,25),Sn=Math.pow(2,24),Fn=Math.pow(2,17),An=Math.pow(2,16),dn=Math.pow(2,9),Dr=Math.pow(2,8),nn=Math.pow(2,1);function $r(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var $=ve.placed?1:0,ge=Math.floor(ve.opacity*127);return ge*Wr+$*Sn+ge*Fn+$*An+ge*dn+$*Dr+ge*nn+$}var ln=0,Ln=function($){this._sortAcrossTiles=$.layout.get("symbol-z-order")!=="viewport-y"&&$.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Ln.prototype.continuePlacement=function($,ge,re,me,Ne){for(var $e=this._bucketParts;this._currentTileIndex<$.length;){var vt=$[this._currentTileIndex];if(ge.getBucketParts($e,me,vt,this._sortAcrossTiles),this._currentTileIndex++,Ne())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,$e.sort(function(Gt,er){return Gt.sortKey-er.sortKey}));this._currentPartIndex<$e.length;){var Pt=$e[this._currentPartIndex];if(ge.placeLayerBucketPart(Pt,this._seenCrossTileIDs,re),this._currentPartIndex++,Ne())return!0}return!1};var Xn=function($,ge,re,me,Ne,$e,vt){this.placement=new Gr($,Ne,$e,vt),this._currentPlacementIndex=ge.length-1,this._forceFullPlacement=re,this._showCollisionBoxes=me,this._done=!1};Xn.prototype.isDone=function(){return this._done},Xn.prototype.continuePlacement=function($,ge,re){for(var me=this,Ne=n.browser.now(),$e=function(){var vr=n.browser.now()-Ne;return me._forceFullPlacement?!1:vr>2};this._currentPlacementIndex>=0;){var vt=$[this._currentPlacementIndex],Pt=ge[vt],Gt=this.placement.collisionIndex.transform.zoom;if(Pt.type==="symbol"&&(!Pt.minzoom||Pt.minzoom<=Gt)&&(!Pt.maxzoom||Pt.maxzoom>Gt)){this._inProgressLayer||(this._inProgressLayer=new Ln(Pt));var er=this._inProgressLayer.continuePlacement(re[Pt.source],this.placement,this._showCollisionBoxes,Pt,$e);if(er)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Xn.prototype.commit=function($){return this.placement.commit($),this.placement};var Rn=512/n.EXTENT/2,$n=function($,ge,re){this.tileID=$,this.indexedSymbolInstances={},this.bucketInstanceId=re;for(var me=0;me<ge.length;me++){var Ne=ge.get(me),$e=Ne.key;this.indexedSymbolInstances[$e]||(this.indexedSymbolInstances[$e]=[]),this.indexedSymbolInstances[$e].push({crossTileID:Ne.crossTileID,coord:this.getScaledCoordinates(Ne,$)})}};$n.prototype.getScaledCoordinates=function($,ge){var re=ge.canonical.z-this.tileID.canonical.z,me=Rn/Math.pow(2,re);return{x:Math.floor((ge.canonical.x*n.EXTENT+$.anchorX)*me),y:Math.floor((ge.canonical.y*n.EXTENT+$.anchorY)*me)}},$n.prototype.findMatches=function($,ge,re){for(var me=this.tileID.canonical.z<ge.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ge.canonical.z),Ne=0;Ne<$.length;Ne++){var $e=$.get(Ne);if(!$e.crossTileID){var vt=this.indexedSymbolInstances[$e.key];if(vt)for(var Pt=this.getScaledCoordinates($e,ge),Gt=0,er=vt;Gt<er.length;Gt+=1){var vr=er[Gt];if(Math.abs(vr.coord.x-Pt.x)<=me&&Math.abs(vr.coord.y-Pt.y)<=me&&!re[vr.crossTileID]){re[vr.crossTileID]=!0,$e.crossTileID=vr.crossTileID;break}}}}};var Kn=function(){this.maxCrossTileID=0};Kn.prototype.generate=function(){return++this.maxCrossTileID};var xa=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};xa.prototype.handleWrapJump=function($){var ge=Math.round(($-this.lng)/360);if(ge!==0)for(var re in this.indexes){var me=this.indexes[re],Ne={};for(var $e in me){var vt=me[$e];vt.tileID=vt.tileID.unwrapTo(vt.tileID.wrap+ge),Ne[vt.tileID.key]=vt}this.indexes[re]=Ne}this.lng=$},xa.prototype.addBucket=function($,ge,re){if(this.indexes[$.overscaledZ]&&this.indexes[$.overscaledZ][$.key]){if(this.indexes[$.overscaledZ][$.key].bucketInstanceId===ge.bucketInstanceId)return!1;this.removeBucketCrossTileIDs($.overscaledZ,this.indexes[$.overscaledZ][$.key])}for(var me=0;me<ge.symbolInstances.length;me++){var Ne=ge.symbolInstances.get(me);Ne.crossTileID=0}this.usedCrossTileIDs[$.overscaledZ]||(this.usedCrossTileIDs[$.overscaledZ]={});var $e=this.usedCrossTileIDs[$.overscaledZ];for(var vt in this.indexes){var Pt=this.indexes[vt];if(Number(vt)>$.overscaledZ)for(var Gt in Pt){var er=Pt[Gt];er.tileID.isChildOf($)&&er.findMatches(ge.symbolInstances,$,$e)}else{var vr=$.scaledTo(Number(vt)),hr=Pt[vr.key];hr&&hr.findMatches(ge.symbolInstances,$,$e)}}for(var Ur=0;Ur<ge.symbolInstances.length;Ur++){var rn=ge.symbolInstances.get(Ur);rn.crossTileID||(rn.crossTileID=re.generate(),$e[rn.crossTileID]=!0)}return this.indexes[$.overscaledZ]===void 0&&(this.indexes[$.overscaledZ]={}),this.indexes[$.overscaledZ][$.key]=new $n($,ge.symbolInstances,ge.bucketInstanceId),!0},xa.prototype.removeBucketCrossTileIDs=function($,ge){for(var re in ge.indexedSymbolInstances)for(var me=0,Ne=ge.indexedSymbolInstances[re];me<Ne.length;me+=1){var $e=Ne[me];delete this.usedCrossTileIDs[$][$e.crossTileID]}},xa.prototype.removeStaleBuckets=function($){var ge=!1;for(var re in this.indexes){var me=this.indexes[re];for(var Ne in me)$[me[Ne].bucketInstanceId]||(this.removeBucketCrossTileIDs(re,me[Ne]),delete me[Ne],ge=!0)}return ge};var ba=function(){this.layerIndexes={},this.crossTileIDs=new Kn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ba.prototype.addLayer=function($,ge,re){var me=this.layerIndexes[$.id];me===void 0&&(me=this.layerIndexes[$.id]=new xa);var Ne=!1,$e={};me.handleWrapJump(re);for(var vt=0,Pt=ge;vt<Pt.length;vt+=1){var Gt=Pt[vt],er=Gt.getBucket($);!er||$.id!==er.layerIds[0]||(er.bucketInstanceId||(er.bucketInstanceId=++this.maxBucketInstanceId),me.addBucket(Gt.tileID,er,this.crossTileIDs)&&(Ne=!0),$e[er.bucketInstanceId]=!0)}return me.removeStaleBuckets($e)&&(Ne=!0),Ne},ba.prototype.pruneUnusedLayers=function($){var ge={};$.forEach(function(me){ge[me]=!0});for(var re in this.layerIndexes)ge[re]||delete this.layerIndexes[re]};var _a=function(ve,$){return n.emitValidationErrors(ve,$&&$.filter(function(ge){return ge.identifier!=="source.canvas"}))},Ra=n.pick(Vt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Di=n.pick(Vt,["setCenter","setZoom","setBearing","setPitch"]),Pi=ir(),zs=function(ve){function $(ge,re){var me=this;re===void 0&&(re={}),ve.call(this),this.map=ge,this.dispatcher=new D(Bt(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new E(ge._requestManager,re.localIdeographFontFamily),this.lineAtlas=new I(256,512),this.crossTileSymbolIndex=new ba,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var Ne=this;this._rtlTextPluginCallback=$.registerForPluginStateChange(function($e){var vt={pluginStatus:$e.pluginStatus,pluginURL:$e.pluginURL};Ne.dispatcher.broadcast("syncRTLPluginState",vt,function(Pt,Gt){if(n.triggerPluginCompletionEvent(Pt),Gt){var er=Gt.every(function(hr){return hr});if(er)for(var vr in Ne.sourceCaches)Ne.sourceCaches[vr].reload()}})}),this.on("data",function($e){if(!($e.dataType!=="source"||$e.sourceDataType!=="metadata")){var vt=me.sourceCaches[$e.sourceId];if(vt){var Pt=vt.getSource();if(!(!Pt||!Pt.vectorLayerIds))for(var Gt in me._layers){var er=me._layers[Gt];er.source===Pt.id&&me._validateLayer(er)}}}})}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.loadURL=function(re,me){var Ne=this;me===void 0&&(me={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var $e=typeof me.validate=="boolean"?me.validate:!n.isMapboxURL(re);re=this.map._requestManager.normalizeStyleURL(re,me.accessToken);var vt=this.map._requestManager.transformRequest(re,n.ResourceType.Style);this._request=n.getJSON(vt,function(Pt,Gt){Ne._request=null,Pt?Ne.fire(new n.ErrorEvent(Pt)):Gt&&Ne._load(Gt,$e)})},$.prototype.loadJSON=function(re,me){var Ne=this;me===void 0&&(me={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){Ne._request=null,Ne._load(re,me.validate!==!1)})},$.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(Pi,!1)},$.prototype._load=function(re,me){if(!(me&&_a(this,n.validateStyle(re)))){this._loaded=!0,this.stylesheet=re;for(var Ne in re.sources)this.addSource(Ne,re.sources[Ne],{validate:!1});re.sprite?this._loadSprite(re.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(re.glyphs);var $e=fr(this.stylesheet.layers);this._order=$e.map(function(er){return er.id}),this._layers={},this._serializedLayers={};for(var vt=0,Pt=$e;vt<Pt.length;vt+=1){var Gt=Pt[vt];Gt=n.createStyleLayer(Gt),Gt.setEventedParent(this,{layer:{id:Gt.id}}),this._layers[Gt.id]=Gt,this._serializedLayers[Gt.id]=Gt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},$.prototype._loadSprite=function(re){var me=this;this._spriteRequest=l(re,this.map._requestManager,function(Ne,$e){if(me._spriteRequest=null,Ne)me.fire(new n.ErrorEvent(Ne));else if($e)for(var vt in $e)me.imageManager.addImage(vt,$e[vt]);me.imageManager.setLoaded(!0),me._availableImages=me.imageManager.listImages(),me.dispatcher.broadcast("setImages",me._availableImages),me.fire(new n.Event("data",{dataType:"style"}))})},$.prototype._validateLayer=function(re){var me=this.sourceCaches[re.source];if(me){var Ne=re.sourceLayer;if(Ne){var $e=me.getSource();($e.type==="geojson"||$e.vectorLayerIds&&$e.vectorLayerIds.indexOf(Ne)===-1)&&this.fire(new n.ErrorEvent(new Error('Source layer "'+Ne+'" does not exist on source "'+$e.id+'" as specified by style layer "'+re.id+'"')))}}},$.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var re in this.sourceCaches)if(!this.sourceCaches[re].loaded())return!1;return!!this.imageManager.isLoaded()},$.prototype._serializeLayers=function(re){for(var me=[],Ne=0,$e=re;Ne<$e.length;Ne+=1){var vt=$e[Ne],Pt=this._layers[vt];Pt.type!=="custom"&&me.push(Pt.serialize())}return me},$.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var re in this.sourceCaches)if(this.sourceCaches[re].hasTransition())return!0;for(var me in this._layers)if(this._layers[me].hasTransition())return!0;return!1},$.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},$.prototype.update=function(re){if(this._loaded){var me=this._changed;if(this._changed){var Ne=Object.keys(this._updatedLayers),$e=Object.keys(this._removedLayers);(Ne.length||$e.length)&&this._updateWorkerLayers(Ne,$e);for(var vt in this._updatedSources){var Pt=this._updatedSources[vt];Pt==="reload"?this._reloadSource(vt):Pt==="clear"&&this._clearSource(vt)}this._updateTilesForChangedImages();for(var Gt in this._updatedPaintProps)this._layers[Gt].updateTransitions(re);this.light.updateTransitions(re),this._resetUpdates()}var er={};for(var vr in this.sourceCaches){var hr=this.sourceCaches[vr];er[vr]=hr.used,hr.used=!1}for(var Ur=0,rn=this._order;Ur<rn.length;Ur+=1){var en=rn[Ur],Qr=this._layers[en];Qr.recalculate(re,this._availableImages),!Qr.isHidden(re.zoom)&&Qr.source&&(this.sourceCaches[Qr.source].used=!0)}for(var on in er){var mn=this.sourceCaches[on];er[on]!==mn.used&&mn.fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:on}))}this.light.recalculate(re),this.z=re.zoom,me&&this.fire(new n.Event("data",{dataType:"style"}))}},$.prototype._updateTilesForChangedImages=function(){var re=Object.keys(this._changedImages);if(re.length){for(var me in this.sourceCaches)this.sourceCaches[me].reloadTilesForDependencies(["icons","patterns"],re);this._changedImages={}}},$.prototype._updateWorkerLayers=function(re,me){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(re),removedIds:me})},$.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},$.prototype.setState=function(re){var me=this;if(this._checkLoaded(),_a(this,n.validateStyle(re)))return!1;re=n.clone$1(re),re.layers=fr(re.layers);var Ne=On(this.serialize(),re).filter(function(vt){return!(vt.command in Di)});if(Ne.length===0)return!1;var $e=Ne.filter(function(vt){return!(vt.command in Ra)});if($e.length>0)throw new Error("Unimplemented: "+$e.map(function(vt){return vt.command}).join(", ")+".");return Ne.forEach(function(vt){vt.command!=="setTransition"&&me[vt.command].apply(me,vt.args)}),this.stylesheet=re,!0},$.prototype.addImage=function(re,me){if(this.getImage(re))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(re,me),this._afterImageUpdated(re)},$.prototype.updateImage=function(re,me){this.imageManager.updateImage(re,me)},$.prototype.getImage=function(re){return this.imageManager.getImage(re)},$.prototype.removeImage=function(re){if(!this.getImage(re))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(re),this._afterImageUpdated(re)},$.prototype._afterImageUpdated=function(re){this._availableImages=this.imageManager.listImages(),this._changedImages[re]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))},$.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},$.prototype.addSource=function(re,me,Ne){var $e=this;if(Ne===void 0&&(Ne={}),this._checkLoaded(),this.sourceCaches[re]!==void 0)throw new Error("There is already a source with this ID");if(!me.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(me).join(", ")+".");var vt=["vector","raster","geojson","video","image"],Pt=vt.indexOf(me.type)>=0;if(!(Pt&&this._validate(n.validateStyle.source,"sources."+re,me,null,Ne))){this.map&&this.map._collectResourceTiming&&(me.collectResourceTiming=!0);var Gt=this.sourceCaches[re]=new Wt(re,me,this.dispatcher);Gt.style=this,Gt.setEventedParent(this,function(){return{isSourceLoaded:$e.loaded(),source:Gt.serialize(),sourceId:re}}),Gt.onAdd(this.map),this._changed=!0}},$.prototype.removeSource=function(re){if(this._checkLoaded(),this.sourceCaches[re]===void 0)throw new Error("There is no source with this ID");for(var me in this._layers)if(this._layers[me].source===re)return this.fire(new n.ErrorEvent(new Error('Source "'+re+'" cannot be removed while layer "'+me+'" is using it.')));var Ne=this.sourceCaches[re];delete this.sourceCaches[re],delete this._updatedSources[re],Ne.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:re})),Ne.setEventedParent(null),Ne.clearTiles(),Ne.onRemove&&Ne.onRemove(this.map),this._changed=!0},$.prototype.setGeoJSONSourceData=function(re,me){this._checkLoaded();var Ne=this.sourceCaches[re].getSource();Ne.setData(me),this._changed=!0},$.prototype.getSource=function(re){return this.sourceCaches[re]&&this.sourceCaches[re].getSource()},$.prototype.addLayer=function(re,me,Ne){Ne===void 0&&(Ne={}),this._checkLoaded();var $e=re.id;if(this.getLayer($e)){this.fire(new n.ErrorEvent(new Error('Layer with id "'+$e+'" already exists on this map')));return}var vt;if(re.type==="custom"){if(_a(this,n.validateCustomStyleLayer(re)))return;vt=n.createStyleLayer(re)}else{if(typeof re.source=="object"&&(this.addSource($e,re.source),re=n.clone$1(re),re=n.extend(re,{source:$e})),this._validate(n.validateStyle.layer,"layers."+$e,re,{arrayIndex:-1},Ne))return;vt=n.createStyleLayer(re),this._validateLayer(vt),vt.setEventedParent(this,{layer:{id:$e}}),this._serializedLayers[vt.id]=vt.serialize()}var Pt=me?this._order.indexOf(me):this._order.length;if(me&&Pt===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+me+'" does not exist on this map.')));return}if(this._order.splice(Pt,0,$e),this._layerOrderChanged=!0,this._layers[$e]=vt,this._removedLayers[$e]&&vt.source&&vt.type!=="custom"){var Gt=this._removedLayers[$e];delete this._removedLayers[$e],Gt.type!==vt.type?this._updatedSources[vt.source]="clear":(this._updatedSources[vt.source]="reload",this.sourceCaches[vt.source].pause())}this._updateLayer(vt),vt.onAdd&&vt.onAdd(this.map)},$.prototype.moveLayer=function(re,me){this._checkLoaded(),this._changed=!0;var Ne=this._layers[re];if(!Ne){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be moved.")));return}if(re!==me){var $e=this._order.indexOf(re);this._order.splice($e,1);var vt=me?this._order.indexOf(me):this._order.length;if(me&&vt===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+me+'" does not exist on this map.')));return}this._order.splice(vt,0,re),this._layerOrderChanged=!0}},$.prototype.removeLayer=function(re){this._checkLoaded();var me=this._layers[re];if(!me){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be removed.")));return}me.setEventedParent(null);var Ne=this._order.indexOf(re);this._order.splice(Ne,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[re]=me,delete this._layers[re],delete this._serializedLayers[re],delete this._updatedLayers[re],delete this._updatedPaintProps[re],me.onRemove&&me.onRemove(this.map)},$.prototype.getLayer=function(re){return this._layers[re]},$.prototype.hasLayer=function(re){return re in this._layers},$.prototype.setLayerZoomRange=function(re,me,Ne){this._checkLoaded();var $e=this.getLayer(re);if(!$e){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot have zoom extent.")));return}$e.minzoom===me&&$e.maxzoom===Ne||(me!=null&&($e.minzoom=me),Ne!=null&&($e.maxzoom=Ne),this._updateLayer($e))},$.prototype.setFilter=function(re,me,Ne){Ne===void 0&&(Ne={}),this._checkLoaded();var $e=this.getLayer(re);if(!$e){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be filtered.")));return}if(!n.deepEqual($e.filter,me)){if(me==null){$e.filter=void 0,this._updateLayer($e);return}this._validate(n.validateStyle.filter,"layers."+$e.id+".filter",me,null,Ne)||($e.filter=n.clone$1(me),this._updateLayer($e))}},$.prototype.getFilter=function(re){return n.clone$1(this.getLayer(re).filter)},$.prototype.setLayoutProperty=function(re,me,Ne,$e){$e===void 0&&($e={}),this._checkLoaded();var vt=this.getLayer(re);if(!vt){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}n.deepEqual(vt.getLayoutProperty(me),Ne)||(vt.setLayoutProperty(me,Ne,$e),this._updateLayer(vt))},$.prototype.getLayoutProperty=function(re,me){var Ne=this.getLayer(re);if(!Ne){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style.")));return}return Ne.getLayoutProperty(me)},$.prototype.setPaintProperty=function(re,me,Ne,$e){$e===void 0&&($e={}),this._checkLoaded();var vt=this.getLayer(re);if(!vt){this.fire(new n.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}if(!n.deepEqual(vt.getPaintProperty(me),Ne)){var Pt=vt.setPaintProperty(me,Ne,$e);Pt&&this._updateLayer(vt),this._changed=!0,this._updatedPaintProps[re]=!0}},$.prototype.getPaintProperty=function(re,me){return this.getLayer(re).getPaintProperty(me)},$.prototype.setFeatureState=function(re,me){this._checkLoaded();var Ne=re.source,$e=re.sourceLayer,vt=this.sourceCaches[Ne];if(vt===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+Ne+"' does not exist in the map's style.")));return}var Pt=vt.getSource().type;if(Pt==="geojson"&&$e){this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Pt==="vector"&&!$e){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}re.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),vt.setFeatureState($e,re.id,me)},$.prototype.removeFeatureState=function(re,me){this._checkLoaded();var Ne=re.source,$e=this.sourceCaches[Ne];if($e===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+Ne+"' does not exist in the map's style.")));return}var vt=$e.getSource().type,Pt=vt==="vector"?re.sourceLayer:void 0;if(vt==="vector"&&!Pt){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(me&&typeof re.id!="string"&&typeof re.id!="number"){this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}$e.removeFeatureState(Pt,re.id,me)},$.prototype.getFeatureState=function(re){this._checkLoaded();var me=re.source,Ne=re.sourceLayer,$e=this.sourceCaches[me];if($e===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+me+"' does not exist in the map's style.")));return}var vt=$e.getSource().type;if(vt==="vector"&&!Ne){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return re.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),$e.getFeatureState(Ne,re.id)},$.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},$.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(re){return re.serialize()}),layers:this._serializeLayers(this._order)},function(re){return re!==void 0})},$.prototype._updateLayer=function(re){this._updatedLayers[re.id]=!0,re.source&&!this._updatedSources[re.source]&&this.sourceCaches[re.source].getSource().type!=="raster"&&(this._updatedSources[re.source]="reload",this.sourceCaches[re.source].pause()),this._changed=!0},$.prototype._flattenAndSortRenderedFeatures=function(re){for(var me=this,Ne=function(ri){return me._layers[ri].type==="fill-extrusion"},$e={},vt=[],Pt=this._order.length-1;Pt>=0;Pt--){var Gt=this._order[Pt];if(Ne(Gt)){$e[Gt]=Pt;for(var er=0,vr=re;er<vr.length;er+=1){var hr=vr[er],Ur=hr[Gt];if(Ur)for(var rn=0,en=Ur;rn<en.length;rn+=1){var Qr=en[rn];vt.push(Qr)}}}}vt.sort(function(ri,Ci){return Ci.intersectionZ-ri.intersectionZ});for(var on=[],mn=this._order.length-1;mn>=0;mn--){var Un=this._order[mn];if(Ne(Un))for(var Yn=vt.length-1;Yn>=0;Yn--){var ra=vt[Yn].feature;if($e[ra.layer.id]<mn)break;on.push(ra),vt.pop()}else for(var ia=0,ta=re;ia<ta.length;ia+=1){var sa=ta[ia],pa=sa[Un];if(pa)for(var wa=0,Oa=pa;wa<Oa.length;wa+=1){var Pa=Oa[wa];on.push(Pa.feature)}}}return on},$.prototype.queryRenderedFeatures=function(re,me,Ne){me&&me.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",me.filter,null,me);var $e={};if(me&&me.layers){if(!Array.isArray(me.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var vt=0,Pt=me.layers;vt<Pt.length;vt+=1){var Gt=Pt[vt],er=this._layers[Gt];if(!er)return this.fire(new n.ErrorEvent(new Error("The layer '"+Gt+"' does not exist in the map's style and cannot be queried for features."))),[];$e[er.source]=!0}}var vr=[];me.availableImages=this._availableImages;for(var hr in this.sourceCaches)me.layers&&!$e[hr]||vr.push(j(this.sourceCaches[hr],this._layers,this._serializedLayers,re,me,Ne));return this.placement&&vr.push(K(this._layers,this._serializedLayers,this.sourceCaches,re,me,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(vr)},$.prototype.querySourceFeatures=function(re,me){me&&me.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",me.filter,null,me);var Ne=this.sourceCaches[re];return Ne?ue(Ne,me):[]},$.prototype.addSourceType=function(re,me,Ne){if($.getSourceType(re))return Ne(new Error('A source type called "'+re+'" already exists.'));if($.setSourceType(re,me),!me.workerSourceURL)return Ne(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:re,url:me.workerSourceURL},Ne)},$.prototype.getLight=function(){return this.light.getLight()},$.prototype.setLight=function(re,me){me===void 0&&(me={}),this._checkLoaded();var Ne=this.light.getLight(),$e=!1;for(var vt in re)if(!n.deepEqual(re[vt],Ne[vt])){$e=!0;break}if($e){var Pt={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(re,me),this.light.updateTransitions(Pt)}},$.prototype._validate=function(re,me,Ne,$e,vt){return vt===void 0&&(vt={}),vt&&vt.validate===!1?!1:_a(this,re.call(n.validateStyle,n.extend({key:me,style:this.serialize(),value:Ne,styleSpec:n.styleSpec},$e)))},$.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var re in this._layers){var me=this._layers[re];me.setEventedParent(null)}for(var Ne in this.sourceCaches)this.sourceCaches[Ne].clearTiles(),this.sourceCaches[Ne].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},$.prototype._clearSource=function(re){this.sourceCaches[re].clearTiles()},$.prototype._reloadSource=function(re){this.sourceCaches[re].resume(),this.sourceCaches[re].reload()},$.prototype._updateSources=function(re){for(var me in this.sourceCaches)this.sourceCaches[me].update(re)},$.prototype._generateCollisionBoxes=function(){for(var re in this.sourceCaches)this._reloadSource(re)},$.prototype._updatePlacement=function(re,me,Ne,$e,vt){vt===void 0&&(vt=!1);for(var Pt=!1,Gt=!1,er={},vr=0,hr=this._order;vr<hr.length;vr+=1){var Ur=hr[vr],rn=this._layers[Ur];if(rn.type==="symbol"){if(!er[rn.source]){var en=this.sourceCaches[rn.source];er[rn.source]=en.getRenderableIds(!0).map(function(ia){return en.getTileByID(ia)}).sort(function(ia,ta){return ta.tileID.overscaledZ-ia.tileID.overscaledZ||(ia.tileID.isLessThan(ta.tileID)?-1:1)})}var Qr=this.crossTileSymbolIndex.addLayer(rn,er[rn.source],re.center.lng);Pt=Pt||Qr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),vt=vt||this._layerOrderChanged||Ne===0,(vt||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),re.zoom))&&(this.pauseablePlacement=new Xn(re,this._order,vt,me,Ne,$e,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,er),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),Gt=!0),Pt&&this.pauseablePlacement.placement.setStale()),Gt||Pt)for(var on=0,mn=this._order;on<mn.length;on+=1){var Un=mn[on],Yn=this._layers[Un];Yn.type==="symbol"&&this.placement.updateLayerOpacities(Yn,er[Yn.source])}var ra=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now());return ra},$.prototype._releaseSymbolFadeTiles=function(){for(var re in this.sourceCaches)this.sourceCaches[re].releaseSymbolFadeTiles()},$.prototype.getImages=function(re,me,Ne){this.imageManager.getImages(me.icons,Ne),this._updateTilesForChangedImages();var $e=this.sourceCaches[me.source];$e&&$e.setDependencies(me.tileID.key,me.type,me.icons)},$.prototype.getGlyphs=function(re,me,Ne){this.glyphManager.getGlyphs(me.stacks,Ne)},$.prototype.getResource=function(re,me,Ne){return n.makeRequest(me,Ne)},$}(n.Evented);zs.getSourceType=te,zs.setSourceType=Y,zs.registerForPluginStateChange=n.registerForPluginStateChange;var cs=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),es=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Uu=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,Dc=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ic="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Mi=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yl="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",kc=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,No=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,hs="void main() {gl_FragColor=vec4(1.0);}",Kl="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Vu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ao=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Hu=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Mo="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Do="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Gu="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Wo="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",eo="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",gs="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Wu="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",ys=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fh=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,ml=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yo=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Oc=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Jl=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,xl=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$l=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,ch=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Uh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Yu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Ql=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ac="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",zc=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vh="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",Hh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vu=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Zs=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ql=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Xu=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Sf=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Ef=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vh=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Il=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zu="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",En=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,na=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,qn=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xa=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,li=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ii=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,co=Hi(es,Uu),$i=Hi(Dc,Ic),bl=Hi(Mi,yl),wl=Hi(kc,No),Ms=Hi(hs,Kl),kl=Hi(Vu,Ao),rl=Hi(Hu,Mo),no=Hi(Do,Gu),ju=Hi(Wo,eo),ic=Hi(gs,Wu),ji=Hi(ys,fh),Ku=Hi(ml,Yo),du=Hi(Oc,Jl),ts=Hi(xl,$l),oc=Hi(ch,Uh),Ju=Hi(Yu,hh),sc=Hi(Ql,ac),lc=Hi(zc,Vh),Ol=Hi(Hh,vu),$u=Hi(Zs,ql),uc=Hi(Xu,Sf),Qu=Hi(Ef,vh),pu=Hi(Il,Zu),Cf=Hi(En,na),eu=Hi(qn,Xa),Lf=Hi(li,Ii);function Hi(ve,$){var ge=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,re=$.match(/attribute ([\w]+) ([\w]+)/g),me=ve.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Ne=$.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),$e=Ne?Ne.concat(me):me,vt={};return ve=ve.replace(ge,function(Pt,Gt,er,vr,hr){return vt[hr]=!0,Gt==="define"?`
#ifndef HAS_UNIFORM_u_`+hr+`
varying `+er+" "+vr+" "+hr+`;
#else
uniform `+er+" "+vr+" u_"+hr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+hr+`
    `+er+" "+vr+" "+hr+" = u_"+hr+`;
#endif
`}),$=$.replace(ge,function(Pt,Gt,er,vr,hr){var Ur=vr==="float"?"vec2":"vec4",rn=hr.match(/color/)?"color":Ur;return vt[hr]?Gt==="define"?`
#ifndef HAS_UNIFORM_u_`+hr+`
uniform lowp float u_`+hr+`_t;
attribute `+er+" "+Ur+" a_"+hr+`;
varying `+er+" "+vr+" "+hr+`;
#else
uniform `+er+" "+vr+" u_"+hr+`;
#endif
`:rn==="vec4"?`
#ifndef HAS_UNIFORM_u_`+hr+`
    `+hr+" = a_"+hr+`;
#else
    `+er+" "+vr+" "+hr+" = u_"+hr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+hr+`
    `+hr+" = unpack_mix_"+rn+"(a_"+hr+", u_"+hr+`_t);
#else
    `+er+" "+vr+" "+hr+" = u_"+hr+`;
#endif
`:Gt==="define"?`
#ifndef HAS_UNIFORM_u_`+hr+`
uniform lowp float u_`+hr+`_t;
attribute `+er+" "+Ur+" a_"+hr+`;
#else
uniform `+er+" "+vr+" u_"+hr+`;
#endif
`:rn==="vec4"?`
#ifndef HAS_UNIFORM_u_`+hr+`
    `+er+" "+vr+" "+hr+" = a_"+hr+`;
#else
    `+er+" "+vr+" "+hr+" = u_"+hr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+hr+`
    `+er+" "+vr+" "+hr+" = unpack_mix_"+rn+"(a_"+hr+", u_"+hr+`_t);
#else
    `+er+" "+vr+" "+hr+" = u_"+hr+`;
#endif
`}),{fragmentSource:ve,vertexSource:$,staticAttributes:re,staticUniforms:$e}}var tu=Object.freeze({__proto__:null,prelude:co,background:$i,backgroundPattern:bl,circle:wl,clippingMask:Ms,heatmap:kl,heatmapTexture:rl,collisionBox:no,collisionCircle:ju,debug:ic,fill:ji,fillOutline:Ku,fillOutlinePattern:du,fillPattern:ts,fillExtrusion:oc,fillExtrusionPattern:Ju,hillshadePrepare:sc,hillshade:lc,line:Ol,lineGradient:$u,linePattern:uc,lineSDF:Qu,raster:pu,symbolIcon:Cf,symbolSDF:eu,symbolTextAndIcon:Lf}),Ss=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Ss.prototype.bind=function($,ge,re,me,Ne,$e,vt,Pt){this.context=$;for(var Gt=this.boundPaintVertexBuffers.length!==me.length,er=0;!Gt&&er<me.length;er++)this.boundPaintVertexBuffers[er]!==me[er]&&(Gt=!0);var vr=!this.vao||this.boundProgram!==ge||this.boundLayoutVertexBuffer!==re||Gt||this.boundIndexBuffer!==Ne||this.boundVertexOffset!==$e||this.boundDynamicVertexBuffer!==vt||this.boundDynamicVertexBuffer2!==Pt;!$.extVertexArrayObject||vr?this.freshBind(ge,re,me,Ne,$e,vt,Pt):($.bindVertexArrayOES.set(this.vao),vt&&vt.bind(),Ne&&Ne.dynamicDraw&&Ne.bind(),Pt&&Pt.bind())},Ss.prototype.freshBind=function($,ge,re,me,Ne,$e,vt){var Pt,Gt=$.numAttributes,er=this.context,vr=er.gl;if(er.extVertexArrayObject)this.vao&&this.destroy(),this.vao=er.extVertexArrayObject.createVertexArrayOES(),er.bindVertexArrayOES.set(this.vao),Pt=0,this.boundProgram=$,this.boundLayoutVertexBuffer=ge,this.boundPaintVertexBuffers=re,this.boundIndexBuffer=me,this.boundVertexOffset=Ne,this.boundDynamicVertexBuffer=$e,this.boundDynamicVertexBuffer2=vt;else{Pt=er.currentNumAttributes||0;for(var hr=Gt;hr<Pt;hr++)vr.disableVertexAttribArray(hr)}ge.enableAttributes(vr,$);for(var Ur=0,rn=re;Ur<rn.length;Ur+=1){var en=rn[Ur];en.enableAttributes(vr,$)}$e&&$e.enableAttributes(vr,$),vt&&vt.enableAttributes(vr,$),ge.bind(),ge.setVertexAttribPointers(vr,$,Ne);for(var Qr=0,on=re;Qr<on.length;Qr+=1){var mn=on[Qr];mn.bind(),mn.setVertexAttribPointers(vr,$,Ne)}$e&&($e.bind(),$e.setVertexAttribPointers(vr,$,Ne)),me&&me.bind(),vt&&(vt.bind(),vt.setVertexAttribPointers(vr,$,Ne)),er.currentNumAttributes=Gt},Ss.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function dh(ve){for(var $=[],ge=0;ge<ve.length;ge++)if(ve[ge]!==null){var re=ve[ge].split(" ");$.push(re.pop())}return $}var Fc=function($,ge,re,me,Ne,$e){var vt=$.gl;this.program=vt.createProgram();for(var Pt=dh(re.staticAttributes),Gt=me?me.getBinderAttributes():[],er=Pt.concat(Gt),vr=re.staticUniforms?dh(re.staticUniforms):[],hr=me?me.getBinderUniforms():[],Ur=vr.concat(hr),rn=[],en=0,Qr=Ur;en<Qr.length;en+=1){var on=Qr[en];rn.indexOf(on)<0&&rn.push(on)}var mn=me?me.defines():[];$e&&mn.push("#define OVERDRAW_INSPECTOR;");var Un=mn.concat(co.fragmentSource,re.fragmentSource).join(`
`),Yn=mn.concat(co.vertexSource,re.vertexSource).join(`
`),ra=vt.createShader(vt.FRAGMENT_SHADER);if(vt.isContextLost()){this.failedToCreate=!0;return}vt.shaderSource(ra,Un),vt.compileShader(ra),vt.attachShader(this.program,ra);var ia=vt.createShader(vt.VERTEX_SHADER);if(vt.isContextLost()){this.failedToCreate=!0;return}vt.shaderSource(ia,Yn),vt.compileShader(ia),vt.attachShader(this.program,ia),this.attributes={};var ta={};this.numAttributes=er.length;for(var sa=0;sa<this.numAttributes;sa++)er[sa]&&(vt.bindAttribLocation(this.program,sa,er[sa]),this.attributes[er[sa]]=sa);vt.linkProgram(this.program),vt.deleteShader(ia),vt.deleteShader(ra);for(var pa=0;pa<rn.length;pa++){var wa=rn[pa];if(wa&&!ta[wa]){var Oa=vt.getUniformLocation(this.program,wa);Oa&&(ta[wa]=Oa)}}this.fixedUniforms=Ne($,ta),this.binderUniforms=me?me.getUniforms($,ta):[]};Fc.prototype.draw=function($,ge,re,me,Ne,$e,vt,Pt,Gt,er,vr,hr,Ur,rn,en,Qr){var on,mn=$.gl;if(!this.failedToCreate){$.program.set(this.program),$.setDepthMode(re),$.setStencilMode(me),$.setColorMode(Ne),$.setCullFace($e);for(var Un in this.fixedUniforms)this.fixedUniforms[Un].set(vt[Un]);rn&&rn.setUniforms($,this.binderUniforms,hr,{zoom:Ur});for(var Yn=(on={},on[mn.LINES]=2,on[mn.TRIANGLES]=3,on[mn.LINE_STRIP]=1,on)[ge],ra=0,ia=vr.get();ra<ia.length;ra+=1){var ta=ia[ra],sa=ta.vaos||(ta.vaos={}),pa=sa[Pt]||(sa[Pt]=new Ss);pa.bind($,this,Gt,rn?rn.getPaintVertexBuffers():[],er,ta.vertexOffset,en,Qr),mn.drawElements(ge,ta.primitiveLength*Yn,mn.UNSIGNED_SHORT,ta.primitiveOffset*Yn*2)}}};function gu(ve,$,ge){var re=1/wn(ge,1,$.transform.tileZoom),me=Math.pow(2,ge.tileID.overscaledZ),Ne=ge.tileSize*Math.pow(2,$.transform.tileZoom)/me,$e=Ne*(ge.tileID.canonical.x+ge.tileID.wrap*me),vt=Ne*ge.tileID.canonical.y;return{u_image:0,u_texsize:ge.imageAtlasTexture.size,u_scale:[re,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[$e>>16,vt>>16],u_pixel_coord_lower:[$e&65535,vt&65535]}}function nl(ve,$,ge,re){var me=ge.imageManager.getPattern(ve.from.toString()),Ne=ge.imageManager.getPattern(ve.to.toString()),$e=ge.imageManager.getPixelSize(),vt=$e.width,Pt=$e.height,Gt=Math.pow(2,re.tileID.overscaledZ),er=re.tileSize*Math.pow(2,ge.transform.tileZoom)/Gt,vr=er*(re.tileID.canonical.x+re.tileID.wrap*Gt),hr=er*re.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:me.tl,u_pattern_br_a:me.br,u_pattern_tl_b:Ne.tl,u_pattern_br_b:Ne.br,u_texsize:[vt,Pt],u_mix:$.t,u_pattern_size_a:me.displaySize,u_pattern_size_b:Ne.displaySize,u_scale_a:$.fromScale,u_scale_b:$.toScale,u_tile_units_to_pixels:1/wn(re,1,ge.transform.tileZoom),u_pixel_coord_upper:[vr>>16,hr>>16],u_pixel_coord_lower:[vr&65535,hr&65535]}}var yu=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_lightpos:new n.Uniform3f(ve,$.u_lightpos),u_lightintensity:new n.Uniform1f(ve,$.u_lightintensity),u_lightcolor:new n.Uniform3f(ve,$.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ve,$.u_vertical_gradient),u_opacity:new n.Uniform1f(ve,$.u_opacity)}},bo=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_lightpos:new n.Uniform3f(ve,$.u_lightpos),u_lightintensity:new n.Uniform1f(ve,$.u_lightintensity),u_lightcolor:new n.Uniform3f(ve,$.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ve,$.u_vertical_gradient),u_height_factor:new n.Uniform1f(ve,$.u_height_factor),u_image:new n.Uniform1i(ve,$.u_image),u_texsize:new n.Uniform2f(ve,$.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,$.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,$.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,$.u_scale),u_fade:new n.Uniform1f(ve,$.u_fade),u_opacity:new n.Uniform1f(ve,$.u_opacity)}},_f=function(ve,$,ge,re){var me=$.style.light,Ne=me.properties.get("position"),$e=[Ne.x,Ne.y,Ne.z],vt=n.create$1();me.properties.get("anchor")==="viewport"&&n.fromRotation(vt,-$.transform.angle),n.transformMat3($e,$e,vt);var Pt=me.properties.get("color");return{u_matrix:ve,u_lightpos:$e,u_lightintensity:me.properties.get("intensity"),u_lightcolor:[Pt.r,Pt.g,Pt.b],u_vertical_gradient:+ge,u_opacity:re}},js=function(ve,$,ge,re,me,Ne,$e){return n.extend(_f(ve,$,ge,re),gu(Ne,$,$e),{u_height_factor:-Math.pow(2,me.overscaledZ)/$e.tileSize/8})},zl=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix)}},mu=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_image:new n.Uniform1i(ve,$.u_image),u_texsize:new n.Uniform2f(ve,$.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,$.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,$.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,$.u_scale),u_fade:new n.Uniform1f(ve,$.u_fade)}},lo=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_world:new n.Uniform2f(ve,$.u_world)}},uo=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_world:new n.Uniform2f(ve,$.u_world),u_image:new n.Uniform1i(ve,$.u_image),u_texsize:new n.Uniform2f(ve,$.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,$.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,$.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,$.u_scale),u_fade:new n.Uniform1f(ve,$.u_fade)}},Fl=function(ve){return{u_matrix:ve}},al=function(ve,$,ge,re){return n.extend(Fl(ve),gu(ge,$,re))},Fs=function(ve,$){return{u_matrix:ve,u_world:$}},Pf=function(ve,$,ge,re,me){return n.extend(al(ve,$,ge,re),{u_world:me})},Nc=function(ve,$){return{u_camera_to_center_distance:new n.Uniform1f(ve,$.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(ve,$.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(ve,$.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(ve,$.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(ve,$.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(ve,$.u_matrix)}},Rf=function(ve,$,ge,re){var me=ve.transform,Ne,$e;if(re.paint.get("circle-pitch-alignment")==="map"){var vt=wn(ge,1,me.zoom);Ne=!0,$e=[vt,vt]}else Ne=!1,$e=me.pixelsToGLUnits;return{u_camera_to_center_distance:me.cameraToCenterDistance,u_scale_with_map:+(re.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix($.posMatrix,ge,re.paint.get("circle-translate"),re.paint.get("circle-translate-anchor")),u_pitch_with_map:+Ne,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:$e}},Bc=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_camera_to_center_distance:new n.Uniform1f(ve,$.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(ve,$.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(ve,$.u_extrude_scale),u_overscale_factor:new n.Uniform1f(ve,$.u_overscale_factor)}},qu=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_inv_matrix:new n.UniformMatrix4f(ve,$.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(ve,$.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(ve,$.u_viewport_size)}},xu=function(ve,$,ge){var re=wn(ge,1,$.zoom),me=Math.pow(2,$.zoom-ge.tileID.overscaledZ),Ne=ge.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:$.cameraToCenterDistance,u_pixels_to_tile_units:re,u_extrude_scale:[$.pixelsToGLUnits[0]/(re*me),$.pixelsToGLUnits[1]/(re*me)],u_overscale_factor:Ne}},ef=function(ve,$,ge){return{u_matrix:ve,u_inv_matrix:$,u_camera_to_center_distance:ge.cameraToCenterDistance,u_viewport_size:[ge.width,ge.height]}},Nl=function(ve,$){return{u_color:new n.UniformColor(ve,$.u_color),u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_overlay:new n.Uniform1i(ve,$.u_overlay),u_overlay_scale:new n.Uniform1f(ve,$.u_overlay_scale)}},So=function(ve,$,ge){return ge===void 0&&(ge=1),{u_matrix:ve,u_color:$,u_overlay:0,u_overlay_scale:ge}},Ns=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix)}},tf=function(ve){return{u_matrix:ve}},ph=function(ve,$){return{u_extrude_scale:new n.Uniform1f(ve,$.u_extrude_scale),u_intensity:new n.Uniform1f(ve,$.u_intensity),u_matrix:new n.UniformMatrix4f(ve,$.u_matrix)}},Df=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_world:new n.Uniform2f(ve,$.u_world),u_image:new n.Uniform1i(ve,$.u_image),u_color_ramp:new n.Uniform1i(ve,$.u_color_ramp),u_opacity:new n.Uniform1f(ve,$.u_opacity)}},Bl=function(ve,$,ge,re){return{u_matrix:ve,u_extrude_scale:wn($,1,ge),u_intensity:re}},fc=function(ve,$,ge,re){var me=n.create();n.ortho(me,0,ve.width,ve.height,0,0,1);var Ne=ve.context.gl;return{u_matrix:me,u_world:[Ne.drawingBufferWidth,Ne.drawingBufferHeight],u_image:ge,u_color_ramp:re,u_opacity:$.paint.get("heatmap-opacity")}},rf=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_image:new n.Uniform1i(ve,$.u_image),u_latrange:new n.Uniform2f(ve,$.u_latrange),u_light:new n.Uniform2f(ve,$.u_light),u_shadow:new n.UniformColor(ve,$.u_shadow),u_highlight:new n.UniformColor(ve,$.u_highlight),u_accent:new n.UniformColor(ve,$.u_accent)}},Uc=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_image:new n.Uniform1i(ve,$.u_image),u_dimension:new n.Uniform2f(ve,$.u_dimension),u_zoom:new n.Uniform1f(ve,$.u_zoom),u_unpack:new n.Uniform4f(ve,$.u_unpack)}},Lr=function(ve,$,ge){var re=ge.paint.get("hillshade-shadow-color"),me=ge.paint.get("hillshade-highlight-color"),Ne=ge.paint.get("hillshade-accent-color"),$e=ge.paint.get("hillshade-illumination-direction")*(Math.PI/180);ge.paint.get("hillshade-illumination-anchor")==="viewport"&&($e-=ve.transform.angle);var vt=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix($.tileID.toUnwrapped(),vt),u_image:0,u_latrange:Xo(ve,$.tileID),u_light:[ge.paint.get("hillshade-exaggeration"),$e],u_shadow:re,u_highlight:me,u_accent:Ne}},bu=function(ve,$){var ge=$.stride,re=n.create();return n.ortho(re,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(re,re,[0,-n.EXTENT,0]),{u_matrix:re,u_image:1,u_dimension:[ge,ge],u_zoom:ve.overscaledZ,u_unpack:$.getUnpackVector()}};function Xo(ve,$){var ge=Math.pow(2,$.canonical.z),re=$.canonical.y;return[new n.MercatorCoordinate(0,re/ge).toLngLat().lat,new n.MercatorCoordinate(0,(re+1)/ge).toLngLat().lat]}var Po=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_ratio:new n.Uniform1f(ve,$.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,$.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,$.u_units_to_pixels)}},yi=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_ratio:new n.Uniform1f(ve,$.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,$.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,$.u_units_to_pixels),u_image:new n.Uniform1i(ve,$.u_image),u_image_height:new n.Uniform1f(ve,$.u_image_height)}},nf=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_texsize:new n.Uniform2f(ve,$.u_texsize),u_ratio:new n.Uniform1f(ve,$.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,$.u_device_pixel_ratio),u_image:new n.Uniform1i(ve,$.u_image),u_units_to_pixels:new n.Uniform2f(ve,$.u_units_to_pixels),u_scale:new n.Uniform3f(ve,$.u_scale),u_fade:new n.Uniform1f(ve,$.u_fade)}},cc=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_ratio:new n.Uniform1f(ve,$.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,$.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,$.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(ve,$.u_patternscale_a),u_patternscale_b:new n.Uniform2f(ve,$.u_patternscale_b),u_sdfgamma:new n.Uniform1f(ve,$.u_sdfgamma),u_image:new n.Uniform1i(ve,$.u_image),u_tex_y_a:new n.Uniform1f(ve,$.u_tex_y_a),u_tex_y_b:new n.Uniform1f(ve,$.u_tex_y_b),u_mix:new n.Uniform1f(ve,$.u_mix)}},wu=function(ve,$,ge){var re=ve.transform;return{u_matrix:ru(ve,$,ge),u_ratio:1/wn($,1,re.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/re.pixelsToGLUnits[0],1/re.pixelsToGLUnits[1]]}},Bs=function(ve,$,ge,re){return n.extend(wu(ve,$,ge),{u_image:0,u_image_height:re})},gh=function(ve,$,ge,re){var me=ve.transform,Ne=af($,me);return{u_matrix:ru(ve,$,ge),u_texsize:$.imageAtlasTexture.size,u_ratio:1/wn($,1,me.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[Ne,re.fromScale,re.toScale],u_fade:re.t,u_units_to_pixels:[1/me.pixelsToGLUnits[0],1/me.pixelsToGLUnits[1]]}},Ul=function(ve,$,ge,re,me){var Ne=ve.transform,$e=ve.lineAtlas,vt=af($,Ne),Pt=ge.layout.get("line-cap")==="round",Gt=$e.getDash(re.from,Pt),er=$e.getDash(re.to,Pt),vr=Gt.width*me.fromScale,hr=er.width*me.toScale;return n.extend(wu(ve,$,ge),{u_patternscale_a:[vt/vr,-Gt.height/2],u_patternscale_b:[vt/hr,-er.height/2],u_sdfgamma:$e.width/(Math.min(vr,hr)*256*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Gt.y,u_tex_y_b:er.y,u_mix:me.t})};function af(ve,$){return 1/wn(ve,1,$.tileZoom)}function ru(ve,$,ge){return ve.translatePosMatrix($.tileID.posMatrix,$,ge.paint.get("line-translate"),ge.paint.get("line-translate-anchor"))}var Vl=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_tl_parent:new n.Uniform2f(ve,$.u_tl_parent),u_scale_parent:new n.Uniform1f(ve,$.u_scale_parent),u_buffer_scale:new n.Uniform1f(ve,$.u_buffer_scale),u_fade_t:new n.Uniform1f(ve,$.u_fade_t),u_opacity:new n.Uniform1f(ve,$.u_opacity),u_image0:new n.Uniform1i(ve,$.u_image0),u_image1:new n.Uniform1i(ve,$.u_image1),u_brightness_low:new n.Uniform1f(ve,$.u_brightness_low),u_brightness_high:new n.Uniform1f(ve,$.u_brightness_high),u_saturation_factor:new n.Uniform1f(ve,$.u_saturation_factor),u_contrast_factor:new n.Uniform1f(ve,$.u_contrast_factor),u_spin_weights:new n.Uniform3f(ve,$.u_spin_weights)}},Us=function(ve,$,ge,re,me){return{u_matrix:ve,u_tl_parent:$,u_scale_parent:ge,u_buffer_scale:1,u_fade_t:re.mix,u_opacity:re.opacity*me.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:me.paint.get("raster-brightness-min"),u_brightness_high:me.paint.get("raster-brightness-max"),u_saturation_factor:sf(me.paint.get("raster-saturation")),u_contrast_factor:Ki(me.paint.get("raster-contrast")),u_spin_weights:of(me.paint.get("raster-hue-rotate"))}};function of(ve){ve*=Math.PI/180;var $=Math.sin(ve),ge=Math.cos(ve);return[(2*ge+1)/3,(-Math.sqrt(3)*$-ge+1)/3,(Math.sqrt(3)*$-ge+1)/3]}function Ki(ve){return ve>0?1/(1-ve):1+ve}function sf(ve){return ve>0?1-1/(1.001-ve):-ve}var hc=function(ve,$){return{u_is_size_zoom_constant:new n.Uniform1i(ve,$.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,$.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,$.u_size_t),u_size:new n.Uniform1f(ve,$.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,$.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,$.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,$.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,$.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,$.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,$.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,$.u_coord_matrix),u_is_text:new n.Uniform1i(ve,$.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,$.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,$.u_texsize),u_texture:new n.Uniform1i(ve,$.u_texture)}},yh=function(ve,$){return{u_is_size_zoom_constant:new n.Uniform1i(ve,$.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,$.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,$.u_size_t),u_size:new n.Uniform1f(ve,$.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,$.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,$.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,$.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,$.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,$.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,$.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,$.u_coord_matrix),u_is_text:new n.Uniform1i(ve,$.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,$.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,$.u_texsize),u_texture:new n.Uniform1i(ve,$.u_texture),u_gamma_scale:new n.Uniform1f(ve,$.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ve,$.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ve,$.u_is_halo)}},Es=function(ve,$){return{u_is_size_zoom_constant:new n.Uniform1i(ve,$.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,$.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,$.u_size_t),u_size:new n.Uniform1f(ve,$.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,$.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,$.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,$.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,$.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,$.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,$.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,$.u_coord_matrix),u_is_text:new n.Uniform1i(ve,$.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,$.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,$.u_texsize),u_texsize_icon:new n.Uniform2f(ve,$.u_texsize_icon),u_texture:new n.Uniform1i(ve,$.u_texture),u_texture_icon:new n.Uniform1i(ve,$.u_texture_icon),u_gamma_scale:new n.Uniform1f(ve,$.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ve,$.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ve,$.u_is_halo)}},If=function(ve,$,ge,re,me,Ne,$e,vt,Pt,Gt){var er=me.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:$?$.uSizeT:0,u_size:$?$.uSize:0,u_camera_to_center_distance:er.cameraToCenterDistance,u_pitch:er.pitch/360*2*Math.PI,u_rotate_symbol:+ge,u_aspect_ratio:er.width/er.height,u_fade_change:me.options.fadeDuration?me.symbolFadeChange:1,u_matrix:Ne,u_label_plane_matrix:$e,u_coord_matrix:vt,u_is_text:+Pt,u_pitch_with_map:+re,u_texsize:Gt,u_texture:0}},vc=function(ve,$,ge,re,me,Ne,$e,vt,Pt,Gt,er){var vr=me.transform;return n.extend(If(ve,$,ge,re,me,Ne,$e,vt,Pt,Gt),{u_gamma_scale:re?Math.cos(vr._pitch)*vr.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+er})},Vc=function(ve,$,ge,re,me,Ne,$e,vt,Pt,Gt){return n.extend(vc(ve,$,ge,re,me,Ne,$e,vt,!0,Pt,!0),{u_texsize_icon:Gt,u_texture_icon:1})},kf=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_opacity:new n.Uniform1f(ve,$.u_opacity),u_color:new n.UniformColor(ve,$.u_color)}},Of=function(ve,$){return{u_matrix:new n.UniformMatrix4f(ve,$.u_matrix),u_opacity:new n.Uniform1f(ve,$.u_opacity),u_image:new n.Uniform1i(ve,$.u_image),u_pattern_tl_a:new n.Uniform2f(ve,$.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(ve,$.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(ve,$.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(ve,$.u_pattern_br_b),u_texsize:new n.Uniform2f(ve,$.u_texsize),u_mix:new n.Uniform1f(ve,$.u_mix),u_pattern_size_a:new n.Uniform2f(ve,$.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(ve,$.u_pattern_size_b),u_scale_a:new n.Uniform1f(ve,$.u_scale_a),u_scale_b:new n.Uniform1f(ve,$.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(ve,$.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,$.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(ve,$.u_tile_units_to_pixels)}},Cs=function(ve,$,ge){return{u_matrix:ve,u_opacity:$,u_color:ge}},zf=function(ve,$,ge,re,me,Ne){return n.extend(nl(re,Ne,ge,me),{u_matrix:ve,u_opacity:$})},nu={fillExtrusion:yu,fillExtrusionPattern:bo,fill:zl,fillPattern:mu,fillOutline:lo,fillOutlinePattern:uo,circle:Nc,collisionBox:Bc,collisionCircle:qu,debug:Nl,clippingMask:Ns,heatmap:ph,heatmapTexture:Df,hillshade:rf,hillshadePrepare:Uc,line:Po,lineGradient:yi,linePattern:nf,lineSDF:cc,raster:Vl,symbolIcon:hc,symbolSDF:yh,symbolTextAndIcon:Es,background:kf,backgroundPattern:Of},to;function Tl(ve,$,ge,re,me,Ne,$e){for(var vt=ve.context,Pt=vt.gl,Gt=ve.useProgram("collisionBox"),er=[],vr=0,hr=0,Ur=0;Ur<re.length;Ur++){var rn=re[Ur],en=$.getTile(rn),Qr=en.getBucket(ge);if(Qr){var on=rn.posMatrix;(me[0]!==0||me[1]!==0)&&(on=ve.translatePosMatrix(rn.posMatrix,en,me,Ne));var mn=$e?Qr.textCollisionBox:Qr.iconCollisionBox,Un=Qr.collisionCircleArray;if(Un.length>0){var Yn=n.create(),ra=on;n.mul(Yn,Qr.placementInvProjMatrix,ve.transform.glCoordMatrix),n.mul(Yn,Yn,Qr.placementViewportMatrix),er.push({circleArray:Un,circleOffset:hr,transform:ra,invTransform:Yn}),vr+=Un.length/4,hr=vr}mn&&Gt.draw(vt,Pt.LINES,Pr.disabled,nr.disabled,ve.colorModeForRenderPass(),kt.disabled,xu(on,ve.transform,en),ge.id,mn.layoutVertexBuffer,mn.indexBuffer,mn.segments,null,ve.transform.zoom,null,null,mn.collisionVertexBuffer)}}if(!(!$e||!er.length)){var ia=ve.useProgram("collisionCircle"),ta=new n.StructArrayLayout2f1f2i16;ta.resize(vr*4),ta._trim();for(var sa=0,pa=0,wa=er;pa<wa.length;pa+=1)for(var Oa=wa[pa],Pa=0;Pa<Oa.circleArray.length/4;Pa++){var ri=Pa*4,Ci=Oa.circleArray[ri+0],gi=Oa.circleArray[ri+1],Ua=Oa.circleArray[ri+2],mi=Oa.circleArray[ri+3];ta.emplace(sa++,Ci,gi,Ua,mi,0),ta.emplace(sa++,Ci,gi,Ua,mi,1),ta.emplace(sa++,Ci,gi,Ua,mi,2),ta.emplace(sa++,Ci,gi,Ua,mi,3)}(!to||to.length<vr*2)&&(to=Hc(vr));for(var si=vt.createIndexBuffer(to,!0),Fi=vt.createVertexBuffer(ta,n.collisionCircleLayout.members,!0),Li=0,oo=er;Li<oo.length;Li+=1){var xi=oo[Li],Qi=ef(xi.transform,xi.invTransform,ve.transform);ia.draw(vt,Pt.TRIANGLES,Pr.disabled,nr.disabled,ve.colorModeForRenderPass(),kt.disabled,Qi,ge.id,Fi,si,n.SegmentVector.simpleSegment(0,xi.circleOffset*2,xi.circleArray.length,xi.circleArray.length/2),null,ve.transform.zoom,null,null,null)}Fi.destroy(),si.destroy()}}function Hc(ve){var $=ve*2,ge=new n.StructArrayLayout3ui6;ge.resize($),ge._trim();for(var re=0;re<$;re++){var me=re*6;ge.uint16[me+0]=re*4+0,ge.uint16[me+1]=re*4+1,ge.uint16[me+2]=re*4+2,ge.uint16[me+3]=re*4+2,ge.uint16[me+4]=re*4+3,ge.uint16[me+5]=re*4+0}return ge}var Tu=n.identity(new Float32Array(16));function dc(ve,$,ge,re,me){if(ve.renderPass==="translucent"){var Ne=nr.disabled,$e=ve.colorModeForRenderPass(),vt=ge.layout.get("text-variable-anchor");vt&&mh(re,ve,ge,$,ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),me),ge.paint.get("icon-opacity").constantOr(1)!==0&&Nf(ve,$,ge,re,!1,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),ge.layout.get("icon-rotation-alignment"),ge.layout.get("icon-pitch-alignment"),ge.layout.get("icon-keep-upright"),Ne,$e),ge.paint.get("text-opacity").constantOr(1)!==0&&Nf(ve,$,ge,re,!0,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ge.layout.get("text-keep-upright"),Ne,$e),$.map.showCollisionBoxes&&(Tl(ve,$,ge,re,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),!0),Tl(ve,$,ge,re,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),!1))}}function Ff(ve,$,ge,re,me,Ne){var $e=n.getAnchorAlignment(ve),vt=$e.horizontalAlign,Pt=$e.verticalAlign,Gt=-(vt-.5)*$,er=-(Pt-.5)*ge,vr=n.evaluateVariableOffset(ve,re);return new n.Point((Gt/me+vr[0])*Ne,(er/me+vr[1])*Ne)}function mh(ve,$,ge,re,me,Ne,$e){for(var vt=$.transform,Pt=me==="map",Gt=Ne==="map",er=0,vr=ve;er<vr.length;er+=1){var hr=vr[er],Ur=re.getTile(hr),rn=Ur.getBucket(ge);if(!(!rn||!rn.text||!rn.text.segments.get().length)){var en=rn.textSizeData,Qr=n.evaluateSizeForZoom(en,vt.zoom),on=wn(Ur,1,$.transform.zoom),mn=Vr(hr.posMatrix,Gt,Pt,$.transform,on),Un=ge.layout.get("icon-text-fit")!=="none"&&rn.hasIconData();if(Qr){var Yn=Math.pow(2,vt.zoom-Ur.tileID.overscaledZ);Gc(rn,Pt,Gt,$e,n.symbolSize,vt,mn,hr.posMatrix,Yn,Qr,Un)}}}}function Gc(ve,$,ge,re,me,Ne,$e,vt,Pt,Gt,er){var vr=ve.text.placedSymbolArray,hr=ve.text.dynamicLayoutVertexArray,Ur=ve.icon.dynamicLayoutVertexArray,rn={};hr.clear();for(var en=0;en<vr.length;en++){var Qr=vr.get(en),on=ve.allowVerticalPlacement&&!Qr.placedOrientation,mn=!Qr.hidden&&Qr.crossTileID&&!on?re[Qr.crossTileID]:null;if(!mn)Qn(Qr.numGlyphs,hr);else{var Un=new n.Point(Qr.anchorX,Qr.anchorY),Yn=Hr(Un,ge?vt:$e),ra=Tn(Ne.cameraToCenterDistance,Yn.signedDistanceFromCamera),ia=me.evaluateSizeForFeature(ve.textSizeData,Gt,Qr)*ra/n.ONE_EM;ge&&(ia*=ve.tilePixelRatio/Pt);for(var ta=mn.width,sa=mn.height,pa=mn.anchor,wa=mn.textOffset,Oa=mn.textBoxScale,Pa=Ff(pa,ta,sa,wa,Oa,ia),ri=ge?Hr(Un.add(Pa),$e).point:Yn.point.add($?Pa.rotate(-Ne.angle):Pa),Ci=ve.allowVerticalPlacement&&Qr.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,gi=0;gi<Qr.numGlyphs;gi++)n.addDynamicAttributes(hr,ri,Ci);er&&Qr.associatedIconIndex>=0&&(rn[Qr.associatedIconIndex]={shiftedAnchor:ri,angle:Ci})}}if(er){Ur.clear();for(var Ua=ve.icon.placedSymbolArray,mi=0;mi<Ua.length;mi++){var si=Ua.get(mi);if(si.hidden)Qn(si.numGlyphs,Ur);else{var Fi=rn[mi];if(!Fi)Qn(si.numGlyphs,Ur);else for(var Li=0;Li<si.numGlyphs;Li++)n.addDynamicAttributes(Ur,Fi.shiftedAnchor,Fi.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(Ur)}ve.text.dynamicLayoutVertexBuffer.updateData(hr)}function vs(ve,$,ge){return ge.iconsInText&&$?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Nf(ve,$,ge,re,me,Ne,$e,vt,Pt,Gt,er,vr){for(var hr=ve.context,Ur=hr.gl,rn=ve.transform,en=vt==="map",Qr=Pt==="map",on=en&&ge.layout.get("symbol-placement")!=="point",mn=en&&!Qr&&!on,Un=ge.layout.get("symbol-sort-key").constantOr(1)!==void 0,Yn=!1,ra=ve.depthModeForSublayer(0,Pr.ReadOnly),ia=ge.layout.get("text-variable-anchor"),ta=[],sa=0,pa=re;sa<pa.length;sa+=1){var wa=pa[sa],Oa=$.getTile(wa),Pa=Oa.getBucket(ge);if(Pa){var ri=me?Pa.text:Pa.icon;if(!(!ri||!ri.segments.get().length)){var Ci=ri.programConfigurations.get(ge.id),gi=me||Pa.sdfIcons,Ua=me?Pa.textSizeData:Pa.iconSizeData,mi=Qr||rn.pitch!==0,si=ve.useProgram(vs(gi,me,Pa),Ci),Fi=n.evaluateSizeForZoom(Ua,rn.zoom),Li=void 0,oo=[0,0],xi=void 0,Qi=void 0,ui=null,_i=void 0;if(me){if(xi=Oa.glyphAtlasTexture,Qi=Ur.LINEAR,Li=Oa.glyphAtlasTexture.size,Pa.iconsInText){oo=Oa.imageAtlasTexture.size,ui=Oa.imageAtlasTexture;var Co=Ua.kind==="composite"||Ua.kind==="camera";_i=mi||ve.options.rotating||ve.options.zooming||Co?Ur.LINEAR:Ur.NEAREST}}else{var rs=ge.layout.get("icon-size").constantOr(0)!==1||Pa.iconsNeedLinear;xi=Oa.imageAtlasTexture,Qi=gi||ve.options.rotating||ve.options.zooming||rs||mi?Ur.LINEAR:Ur.NEAREST,Li=Oa.imageAtlasTexture.size}var ns=wn(Oa,1,ve.transform.zoom),Ds=Vr(wa.posMatrix,Qr,en,ve.transform,ns),Lu=qr(wa.posMatrix,Qr,en,ve.transform,ns),_u=ia&&Pa.hasTextData(),Kc=ge.layout.get("icon-text-fit")!=="none"&&_u&&Pa.hasIconData();on&&Hn(Pa,wa.posMatrix,ve,me,Ds,Lu,Qr,Gt);var df=ve.translatePosMatrix(wa.posMatrix,Oa,Ne,$e),ll=on||me&&ia||Kc?Tu:Ds,pf=ve.translatePosMatrix(Lu,Oa,Ne,$e,!0),Sl=gi&&ge.paint.get(me?"text-halo-width":"icon-halo-width").constantOr(1)!==0,ul=void 0;gi?Pa.iconsInText?ul=Vc(Ua.kind,Fi,mn,Qr,ve,df,ll,pf,Li,oo):ul=vc(Ua.kind,Fi,mn,Qr,ve,df,ll,pf,me,Li,!0):ul=If(Ua.kind,Fi,mn,Qr,ve,df,ll,pf,me,Li);var Pu={program:si,buffers:ri,uniformValues:ul,atlasTexture:xi,atlasTextureIcon:ui,atlasInterpolation:Qi,atlasInterpolationIcon:_i,isSDF:gi,hasHalo:Sl};if(Un&&Pa.canOverlap){Yn=!0;for(var Xf=ri.segments.get(),Ru=0,yv=Xf;Ru<yv.length;Ru+=1){var Th=yv[Ru];ta.push({segments:new n.SegmentVector([Th]),sortKey:Th.sortKey,state:Pu})}}else ta.push({segments:ri.segments,sortKey:0,state:Pu})}}}Yn&&ta.sort(function(mv,Yh){return mv.sortKey-Yh.sortKey});for(var ds=0,Wh=ta;ds<Wh.length;ds+=1){var Ah=Wh[ds],Qs=Ah.state;if(hr.activeTexture.set(Ur.TEXTURE0),Qs.atlasTexture.bind(Qs.atlasInterpolation,Ur.CLAMP_TO_EDGE),Qs.atlasTextureIcon&&(hr.activeTexture.set(Ur.TEXTURE1),Qs.atlasTextureIcon&&Qs.atlasTextureIcon.bind(Qs.atlasInterpolationIcon,Ur.CLAMP_TO_EDGE)),Qs.isSDF){var Mh=Qs.uniformValues;Qs.hasHalo&&(Mh.u_is_halo=1,au(Qs.buffers,Ah.segments,ge,ve,Qs.program,ra,er,vr,Mh)),Mh.u_is_halo=0}au(Qs.buffers,Ah.segments,ge,ve,Qs.program,ra,er,vr,Qs.uniformValues)}}function au(ve,$,ge,re,me,Ne,$e,vt,Pt){var Gt=re.context,er=Gt.gl;me.draw(Gt,er.TRIANGLES,Ne,$e,vt,kt.disabled,Pt,ge.id,ve.layoutVertexBuffer,ve.indexBuffer,$,ge.paint,re.transform.zoom,ve.programConfigurations.get(ge.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function lf(ve,$,ge,re){if(ve.renderPass==="translucent"){var me=ge.paint.get("circle-opacity"),Ne=ge.paint.get("circle-stroke-width"),$e=ge.paint.get("circle-stroke-opacity"),vt=ge.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(me.constantOr(1)===0&&(Ne.constantOr(1)===0||$e.constantOr(1)===0))){for(var Pt=ve.context,Gt=Pt.gl,er=ve.depthModeForSublayer(0,Pr.ReadOnly),vr=nr.disabled,hr=ve.colorModeForRenderPass(),Ur=[],rn=0;rn<re.length;rn++){var en=re[rn],Qr=$.getTile(en),on=Qr.getBucket(ge);if(on){var mn=on.programConfigurations.get(ge.id),Un=ve.useProgram("circle",mn),Yn=on.layoutVertexBuffer,ra=on.indexBuffer,ia=Rf(ve,en,Qr,ge),ta={programConfiguration:mn,program:Un,layoutVertexBuffer:Yn,indexBuffer:ra,uniformValues:ia};if(vt)for(var sa=on.segments.get(),pa=0,wa=sa;pa<wa.length;pa+=1){var Oa=wa[pa];Ur.push({segments:new n.SegmentVector([Oa]),sortKey:Oa.sortKey,state:ta})}else Ur.push({segments:on.segments,sortKey:0,state:ta})}}vt&&Ur.sort(function(xi,Qi){return xi.sortKey-Qi.sortKey});for(var Pa=0,ri=Ur;Pa<ri.length;Pa+=1){var Ci=ri[Pa],gi=Ci.state,Ua=gi.programConfiguration,mi=gi.program,si=gi.layoutVertexBuffer,Fi=gi.indexBuffer,Li=gi.uniformValues,oo=Ci.segments;mi.draw(Pt,Gt.TRIANGLES,er,vr,hr,kt.disabled,Li,ge.id,si,Fi,oo,ge.paint,ve.transform.zoom,Ua)}}}}function il(ve,$,ge,re){if(ge.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var me=ve.context,Ne=me.gl,$e=nr.disabled,vt=new ut([Ne.ONE,Ne.ONE],n.Color.transparent,[!0,!0,!0,!0]);Gh(me,ve,ge),me.clear({color:n.Color.transparent});for(var Pt=0;Pt<re.length;Pt++){var Gt=re[Pt];if(!$.hasRenderableParent(Gt)){var er=$.getTile(Gt),vr=er.getBucket(ge);if(vr){var hr=vr.programConfigurations.get(ge.id),Ur=ve.useProgram("heatmap",hr),rn=ve.transform,en=rn.zoom;Ur.draw(me,Ne.TRIANGLES,Pr.disabled,$e,vt,kt.disabled,Bl(Gt.posMatrix,er,en,ge.paint.get("heatmap-intensity")),ge.id,vr.layoutVertexBuffer,vr.indexBuffer,vr.segments,ge.paint,ve.transform.zoom,hr)}}}me.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),Bf(ve,ge))}function Gh(ve,$,ge){var re=ve.gl;ve.activeTexture.set(re.TEXTURE1),ve.viewport.set([0,0,$.width/4,$.height/4]);var me=ge.heatmapFbo;if(me)re.bindTexture(re.TEXTURE_2D,me.colorAttachment.get()),ve.bindFramebuffer.set(me.framebuffer);else{var Ne=re.createTexture();re.bindTexture(re.TEXTURE_2D,Ne),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_S,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_T,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MIN_FILTER,re.LINEAR),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MAG_FILTER,re.LINEAR),me=ge.heatmapFbo=ve.createFramebuffer($.width/4,$.height/4,!1),ms(ve,$,Ne,me)}}function ms(ve,$,ge,re){var me=ve.gl,Ne=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:me.UNSIGNED_BYTE;me.texImage2D(me.TEXTURE_2D,0,me.RGBA,$.width/4,$.height/4,0,me.RGBA,Ne,null),re.colorAttachment.set(ge)}function Bf(ve,$){var ge=ve.context,re=ge.gl,me=$.heatmapFbo;if(me){ge.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,me.colorAttachment.get()),ge.activeTexture.set(re.TEXTURE1);var Ne=$.colorRampTexture;Ne||(Ne=$.colorRampTexture=new n.Texture(ge,$.colorRamp,re.RGBA)),Ne.bind(re.LINEAR,re.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(ge,re.TRIANGLES,Pr.disabled,nr.disabled,ve.colorModeForRenderPass(),kt.disabled,fc(ve,$,0,1),$.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,$.paint,ve.transform.zoom)}}function Ks(ve,$,ge,re){if(ve.renderPass==="translucent"){var me=ge.paint.get("line-opacity"),Ne=ge.paint.get("line-width");if(!(me.constantOr(1)===0||Ne.constantOr(1)===0))for(var $e=ve.depthModeForSublayer(0,Pr.ReadOnly),vt=ve.colorModeForRenderPass(),Pt=ge.paint.get("line-dasharray"),Gt=ge.paint.get("line-pattern"),er=Gt.constantOr(1),vr=ge.paint.get("line-gradient"),hr=ge.getCrossfadeParameters(),Ur=er?"linePattern":Pt?"lineSDF":vr?"lineGradient":"line",rn=ve.context,en=rn.gl,Qr=!0,on=0,mn=re;on<mn.length;on+=1){var Un=mn[on],Yn=$.getTile(Un);if(!(er&&!Yn.patternsLoaded())){var ra=Yn.getBucket(ge);if(ra){var ia=ra.programConfigurations.get(ge.id),ta=ve.context.program.get(),sa=ve.useProgram(Ur,ia),pa=Qr||sa.program!==ta,wa=Gt.constantOr(null);if(wa&&Yn.imageAtlas){var Oa=Yn.imageAtlas,Pa=Oa.patternPositions[wa.to.toString()],ri=Oa.patternPositions[wa.from.toString()];Pa&&ri&&ia.setConstantPatternPositions(Pa,ri)}var Ci=er?gh(ve,Yn,ge,hr):Pt?Ul(ve,Yn,ge,Pt,hr):vr?Bs(ve,Yn,ge,ra.lineClipsArray.length):wu(ve,Yn,ge);if(er)rn.activeTexture.set(en.TEXTURE0),Yn.imageAtlasTexture.bind(en.LINEAR,en.CLAMP_TO_EDGE),ia.updatePaintBuffers(hr);else if(Pt&&(pa||ve.lineAtlas.dirty))rn.activeTexture.set(en.TEXTURE0),ve.lineAtlas.bind(rn);else if(vr){var gi=ra.gradients[ge.id],Ua=gi.texture;if(ge.gradientVersion!==gi.version){var mi=256;if(ge.stepInterpolant){var si=$.getSource().maxzoom,Fi=Un.canonical.z===si?Math.ceil(1<<ve.transform.maxZoom-Un.canonical.z):1,Li=ra.maxLineLength/n.EXTENT,oo=1024,xi=Li*oo*Fi;mi=n.clamp(n.nextPowerOfTwo(xi),256,rn.maxTextureSize)}gi.gradient=n.renderColorRamp({expression:ge.gradientExpression(),evaluationKey:"lineProgress",resolution:mi,image:gi.gradient||void 0,clips:ra.lineClipsArray}),gi.texture?gi.texture.update(gi.gradient):gi.texture=new n.Texture(rn,gi.gradient,en.RGBA),gi.version=ge.gradientVersion,Ua=gi.texture}rn.activeTexture.set(en.TEXTURE0),Ua.bind(ge.stepInterpolant?en.NEAREST:en.LINEAR,en.CLAMP_TO_EDGE)}sa.draw(rn,en.TRIANGLES,$e,ve.stencilModeForClipping(Un),vt,kt.disabled,Ci,ge.id,ra.layoutVertexBuffer,ra.indexBuffer,ra.segments,ge.paint,ve.transform.zoom,ia,ra.layoutVertexBuffer2),Qr=!1}}}}}function ol(ve,$,ge,re){var me=ge.paint.get("fill-color"),Ne=ge.paint.get("fill-opacity");if(Ne.constantOr(1)!==0){var $e=ve.colorModeForRenderPass(),vt=ge.paint.get("fill-pattern"),Pt=ve.opaquePassEnabledForLayer()&&!vt.constantOr(1)&&me.constantOr(n.Color.transparent).a===1&&Ne.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===Pt){var Gt=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?Pr.ReadWrite:Pr.ReadOnly);Ls(ve,$,ge,re,Gt,$e,!1)}if(ve.renderPass==="translucent"&&ge.paint.get("fill-antialias")){var er=ve.depthModeForSublayer(ge.getPaintProperty("fill-outline-color")?2:0,Pr.ReadOnly);Ls(ve,$,ge,re,er,$e,!0)}}}function Ls(ve,$,ge,re,me,Ne,$e){var vt=ve.context.gl,Pt=ge.paint.get("fill-pattern"),Gt=Pt&&Pt.constantOr(1),er=ge.getCrossfadeParameters(),vr,hr,Ur,rn,en;$e?(hr=Gt&&!ge.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",vr=vt.LINES):(hr=Gt?"fillPattern":"fill",vr=vt.TRIANGLES);for(var Qr=0,on=re;Qr<on.length;Qr+=1){var mn=on[Qr],Un=$.getTile(mn);if(!(Gt&&!Un.patternsLoaded())){var Yn=Un.getBucket(ge);if(Yn){var ra=Yn.programConfigurations.get(ge.id),ia=ve.useProgram(hr,ra);Gt&&(ve.context.activeTexture.set(vt.TEXTURE0),Un.imageAtlasTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),ra.updatePaintBuffers(er));var ta=Pt.constantOr(null);if(ta&&Un.imageAtlas){var sa=Un.imageAtlas,pa=sa.patternPositions[ta.to.toString()],wa=sa.patternPositions[ta.from.toString()];pa&&wa&&ra.setConstantPatternPositions(pa,wa)}var Oa=ve.translatePosMatrix(mn.posMatrix,Un,ge.paint.get("fill-translate"),ge.paint.get("fill-translate-anchor"));if(!$e)rn=Yn.indexBuffer,en=Yn.segments,Ur=Gt?al(Oa,ve,er,Un):Fl(Oa);else{rn=Yn.indexBuffer2,en=Yn.segments2;var Pa=[vt.drawingBufferWidth,vt.drawingBufferHeight];Ur=hr==="fillOutlinePattern"&&Gt?Pf(Oa,ve,er,Un,Pa):Fs(Oa,Pa)}ia.draw(ve.context,vr,me,ve.stencilModeForClipping(mn),Ne,kt.disabled,Ur,ge.id,Yn.layoutVertexBuffer,rn,en,ge.paint,ve.transform.zoom,ra)}}}}function _s(ve,$,ge,re){var me=ge.paint.get("fill-extrusion-opacity");if(me!==0&&ve.renderPass==="translucent"){var Ne=new Pr(ve.context.gl.LEQUAL,Pr.ReadWrite,ve.depthRangeFor3D);if(me===1&&!ge.paint.get("fill-extrusion-pattern").constantOr(1)){var $e=ve.colorModeForRenderPass();Uf(ve,$,ge,re,Ne,nr.disabled,$e)}else Uf(ve,$,ge,re,Ne,nr.disabled,ut.disabled),Uf(ve,$,ge,re,Ne,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function Uf(ve,$,ge,re,me,Ne,$e){for(var vt=ve.context,Pt=vt.gl,Gt=ge.paint.get("fill-extrusion-pattern"),er=Gt.constantOr(1),vr=ge.getCrossfadeParameters(),hr=ge.paint.get("fill-extrusion-opacity"),Ur=0,rn=re;Ur<rn.length;Ur+=1){var en=rn[Ur],Qr=$.getTile(en),on=Qr.getBucket(ge);if(on){var mn=on.programConfigurations.get(ge.id),Un=ve.useProgram(er?"fillExtrusionPattern":"fillExtrusion",mn);er&&(ve.context.activeTexture.set(Pt.TEXTURE0),Qr.imageAtlasTexture.bind(Pt.LINEAR,Pt.CLAMP_TO_EDGE),mn.updatePaintBuffers(vr));var Yn=Gt.constantOr(null);if(Yn&&Qr.imageAtlas){var ra=Qr.imageAtlas,ia=ra.patternPositions[Yn.to.toString()],ta=ra.patternPositions[Yn.from.toString()];ia&&ta&&mn.setConstantPatternPositions(ia,ta)}var sa=ve.translatePosMatrix(en.posMatrix,Qr,ge.paint.get("fill-extrusion-translate"),ge.paint.get("fill-extrusion-translate-anchor")),pa=ge.paint.get("fill-extrusion-vertical-gradient"),wa=er?js(sa,ve,pa,hr,en,vr,Qr):_f(sa,ve,pa,hr);Un.draw(vt,vt.gl.TRIANGLES,me,Ne,$e,kt.backCCW,wa,ge.id,on.layoutVertexBuffer,on.indexBuffer,on.segments,ge.paint,ve.transform.zoom,mn)}}}function uf(ve,$,ge,re){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var me=ve.context,Ne=ve.depthModeForSublayer(0,Pr.ReadOnly),$e=ve.colorModeForRenderPass(),vt=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(re):[{},re],Pt=vt[0],Gt=vt[1],er=0,vr=Gt;er<vr.length;er+=1){var hr=vr[er],Ur=$.getTile(hr);Ur.needsHillshadePrepare&&ve.renderPass==="offscreen"?ff(ve,Ur,ge,Ne,nr.disabled,$e):ve.renderPass==="translucent"&&Vf(ve,Ur,ge,Ne,Pt[hr.overscaledZ],$e)}me.viewport.set([0,0,ve.width,ve.height])}}function Vf(ve,$,ge,re,me,Ne){var $e=ve.context,vt=$e.gl,Pt=$.fbo;if(Pt){var Gt=ve.useProgram("hillshade");$e.activeTexture.set(vt.TEXTURE0),vt.bindTexture(vt.TEXTURE_2D,Pt.colorAttachment.get());var er=Lr(ve,$,ge);Gt.draw($e,vt.TRIANGLES,re,me,Ne,kt.disabled,er,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function ff(ve,$,ge,re,me,Ne){var $e=ve.context,vt=$e.gl,Pt=$.dem;if(Pt&&Pt.data){var Gt=Pt.dim,er=Pt.stride,vr=Pt.getPixels();if($e.activeTexture.set(vt.TEXTURE1),$e.pixelStoreUnpackPremultiplyAlpha.set(!1),$.demTexture=$.demTexture||ve.getTileTexture(er),$.demTexture){var hr=$.demTexture;hr.update(vr,{premultiply:!1}),hr.bind(vt.NEAREST,vt.CLAMP_TO_EDGE)}else $.demTexture=new n.Texture($e,vr,vt.RGBA,{premultiply:!1}),$.demTexture.bind(vt.NEAREST,vt.CLAMP_TO_EDGE);$e.activeTexture.set(vt.TEXTURE0);var Ur=$.fbo;if(!Ur){var rn=new n.Texture($e,{width:Gt,height:Gt,data:null},vt.RGBA);rn.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),Ur=$.fbo=$e.createFramebuffer(Gt,Gt,!0),Ur.colorAttachment.set(rn.texture)}$e.bindFramebuffer.set(Ur.framebuffer),$e.viewport.set([0,0,Gt,Gt]),ve.useProgram("hillshadePrepare").draw($e,vt.TRIANGLES,re,me,Ne,kt.disabled,bu($.tileID,Pt),ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),$.needsHillshadePrepare=!1}}function Js(ve,$,ge,re){if(ve.renderPass==="translucent"&&ge.paint.get("raster-opacity")!==0&&re.length)for(var me=ve.context,Ne=me.gl,$e=$.getSource(),vt=ve.useProgram("raster"),Pt=ve.colorModeForRenderPass(),Gt=$e instanceof ee?[{},re]:ve.stencilConfigForOverlap(re),er=Gt[0],vr=Gt[1],hr=vr[vr.length-1].overscaledZ,Ur=!ve.options.moving,rn=0,en=vr;rn<en.length;rn+=1){var Qr=en[rn],on=ve.depthModeForSublayer(Qr.overscaledZ-hr,ge.paint.get("raster-opacity")===1?Pr.ReadWrite:Pr.ReadOnly,Ne.LESS),mn=$.getTile(Qr),Un=ve.transform.calculatePosMatrix(Qr.toUnwrapped(),Ur);mn.registerFadeDuration(ge.paint.get("raster-fade-duration"));var Yn=$.findLoadedParent(Qr,0),ra=pc(mn,Yn,$,ge,ve.transform),ia=void 0,ta=void 0,sa=ge.paint.get("raster-resampling")==="nearest"?Ne.NEAREST:Ne.LINEAR;me.activeTexture.set(Ne.TEXTURE0),mn.texture.bind(sa,Ne.CLAMP_TO_EDGE,Ne.LINEAR_MIPMAP_NEAREST),me.activeTexture.set(Ne.TEXTURE1),Yn?(Yn.texture.bind(sa,Ne.CLAMP_TO_EDGE,Ne.LINEAR_MIPMAP_NEAREST),ia=Math.pow(2,Yn.tileID.overscaledZ-mn.tileID.overscaledZ),ta=[mn.tileID.canonical.x*ia%1,mn.tileID.canonical.y*ia%1]):mn.texture.bind(sa,Ne.CLAMP_TO_EDGE,Ne.LINEAR_MIPMAP_NEAREST);var pa=Us(Un,ta||[0,0],ia||1,ra,ge);$e instanceof ee?vt.draw(me,Ne.TRIANGLES,on,nr.disabled,Pt,kt.disabled,pa,ge.id,$e.boundsBuffer,ve.quadTriangleIndexBuffer,$e.boundsSegments):vt.draw(me,Ne.TRIANGLES,on,er[Qr.overscaledZ],Pt,kt.disabled,pa,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function pc(ve,$,ge,re,me){var Ne=re.paint.get("raster-fade-duration");if(Ne>0){var $e=n.browser.now(),vt=($e-ve.timeAdded)/Ne,Pt=$?($e-$.timeAdded)/Ne:-1,Gt=ge.getSource(),er=me.coveringZoomLevel({tileSize:Gt.tileSize,roundZoom:Gt.roundZoom}),vr=!$||Math.abs($.tileID.overscaledZ-er)>Math.abs(ve.tileID.overscaledZ-er),hr=vr&&ve.refreshedUponExpiration?1:n.clamp(vr?vt:1-Pt,0,1);return ve.refreshedUponExpiration&&vt>=1&&(ve.refreshedUponExpiration=!1),$?{opacity:1,mix:1-hr}:{opacity:hr,mix:0}}else return{opacity:1,mix:0}}function Au(ve,$,ge){var re=ge.paint.get("background-color"),me=ge.paint.get("background-opacity");if(me!==0){var Ne=ve.context,$e=Ne.gl,vt=ve.transform,Pt=vt.tileSize,Gt=ge.paint.get("background-pattern");if(!ve.isPatternMissing(Gt)){var er=!Gt&&re.a===1&&me===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===er){var vr=nr.disabled,hr=ve.depthModeForSublayer(0,er==="opaque"?Pr.ReadWrite:Pr.ReadOnly),Ur=ve.colorModeForRenderPass(),rn=ve.useProgram(Gt?"backgroundPattern":"background"),en=vt.coveringTiles({tileSize:Pt});Gt&&(Ne.activeTexture.set($e.TEXTURE0),ve.imageManager.bind(ve.context));for(var Qr=ge.getCrossfadeParameters(),on=0,mn=en;on<mn.length;on+=1){var Un=mn[on],Yn=ve.transform.calculatePosMatrix(Un.toUnwrapped()),ra=Gt?zf(Yn,me,ve,Gt,{tileID:Un,tileSize:Pt},Qr):Cs(Yn,me,re);rn.draw(Ne,$e.TRIANGLES,hr,vr,Ur,kt.disabled,ra,ge.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var cf=new n.Color(1,0,0,1),Hf=new n.Color(0,1,0,1),Wc=new n.Color(0,0,1,1),Qe=new n.Color(1,0,1,1),ot=new n.Color(0,1,1,1);function mt(ve){var $=ve.transform.padding,ge=3;Nt(ve,ve.transform.height-($.top||0),ge,cf),Nt(ve,$.bottom||0,ge,Hf),Ot(ve,$.left||0,ge,Wc),Ot(ve,ve.transform.width-($.right||0),ge,Qe);var re=ve.transform.centerPoint;At(ve,re.x,ve.transform.height-re.y,ot)}function At(ve,$,ge,re){var me=20,Ne=2;Ut(ve,$-Ne/2,ge-me/2,Ne,me,re),Ut(ve,$-me/2,ge-Ne/2,me,Ne,re)}function Nt(ve,$,ge,re){Ut(ve,0,$+ge/2,ve.transform.width,ge,re)}function Ot(ve,$,ge,re){Ut(ve,$-ge/2,0,ge,ve.transform.height,re)}function Ut(ve,$,ge,re,me,Ne){var $e=ve.context,vt=$e.gl;vt.enable(vt.SCISSOR_TEST),vt.scissor($*n.browser.devicePixelRatio,ge*n.browser.devicePixelRatio,re*n.browser.devicePixelRatio,me*n.browser.devicePixelRatio),$e.clear({color:Ne}),vt.disable(vt.SCISSOR_TEST)}function xr(ve,$,ge){for(var re=0;re<ge.length;re++)Tr(ve,$,ge[re])}function Tr(ve,$,ge){var re=ve.context,me=re.gl,Ne=ge.posMatrix,$e=ve.useProgram("debug"),vt=Pr.disabled,Pt=nr.disabled,Gt=ve.colorModeForRenderPass(),er="$debug";re.activeTexture.set(me.TEXTURE0),ve.emptyTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE),$e.draw(re,me.LINE_STRIP,vt,Pt,Gt,kt.disabled,So(Ne,n.Color.red),er,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var vr=$.getTileByID(ge.key).latestRawTileData,hr=vr&&vr.byteLength||0,Ur=Math.floor(hr/1024),rn=$.getTile(ge).tileSize,en=512/Math.min(rn,512)*(ge.overscaledZ/ve.transform.zoom)*.5,Qr=ge.canonical.toString();ge.overscaledZ!==ge.canonical.z&&(Qr+=" => "+ge.overscaledZ);var on=Qr+" "+Ur+"kb";cr(ve,on),$e.draw(re,me.TRIANGLES,vt,Pt,ut.alphaBlended,kt.disabled,So(Ne,n.Color.transparent,en),er,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function cr(ve,$){ve.initDebugOverlayCanvas();var ge=ve.debugOverlayCanvas,re=ve.context.gl,me=ve.debugOverlayCanvas.getContext("2d");me.clearRect(0,0,ge.width,ge.height),me.shadowColor="white",me.shadowBlur=2,me.lineWidth=1.5,me.strokeStyle="white",me.textBaseline="top",me.font="bold 36px Open Sans, sans-serif",me.fillText($,5,5),me.strokeText($,5,5),ve.debugOverlayTexture.update(ge),ve.debugOverlayTexture.bind(re.LINEAR,re.CLAMP_TO_EDGE)}function Rr(ve,$,ge){var re=ve.context,me=ge.implementation;if(ve.renderPass==="offscreen"){var Ne=me.prerender;Ne&&(ve.setCustomLayerDefaults(),re.setColorMode(ve.colorModeForRenderPass()),Ne.call(me,re.gl,ve.transform.customLayerMatrix()),re.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),re.setColorMode(ve.colorModeForRenderPass()),re.setStencilMode(nr.disabled);var $e=me.renderingMode==="3d"?new Pr(ve.context.gl.LEQUAL,Pr.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,Pr.ReadOnly);re.setDepthMode($e),me.render(re.gl,ve.transform.customLayerMatrix()),re.setDirty(),ve.setBaseState(),re.bindFramebuffer.set(null)}}var Br={symbol:dc,circle:lf,heatmap:il,line:Ks,fill:ol,"fill-extrusion":_s,hillshade:uf,raster:Js,background:Au,debug:xr,custom:Rr},Zr=function($,ge){this.context=new Xt($),this.transform=ge,this._tileTextures={},this.setup(),this.numSublayers=Wt.maxUnderzooming+Wt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ba,this.gpuTimers={}};Zr.prototype.resize=function($,ge){if(this.width=$*n.browser.devicePixelRatio,this.height=ge*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var re=0,me=this.style._order;re<me.length;re+=1){var Ne=me[re];this.style._layers[Ne].resize()}},Zr.prototype.setup=function(){var $=this.context,ge=new n.StructArrayLayout2i4;ge.emplaceBack(0,0),ge.emplaceBack(n.EXTENT,0),ge.emplaceBack(0,n.EXTENT),ge.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=$.createVertexBuffer(ge,cs.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var re=new n.StructArrayLayout2i4;re.emplaceBack(0,0),re.emplaceBack(n.EXTENT,0),re.emplaceBack(0,n.EXTENT),re.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=$.createVertexBuffer(re,cs.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var me=new n.StructArrayLayout4i8;me.emplaceBack(0,0,0,0),me.emplaceBack(n.EXTENT,0,n.EXTENT,0),me.emplaceBack(0,n.EXTENT,0,n.EXTENT),me.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=$.createVertexBuffer(me,X.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var Ne=new n.StructArrayLayout2i4;Ne.emplaceBack(0,0),Ne.emplaceBack(1,0),Ne.emplaceBack(0,1),Ne.emplaceBack(1,1),this.viewportBuffer=$.createVertexBuffer(Ne,cs.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var $e=new n.StructArrayLayout1ui2;$e.emplaceBack(0),$e.emplaceBack(1),$e.emplaceBack(3),$e.emplaceBack(2),$e.emplaceBack(0),this.tileBorderIndexBuffer=$.createIndexBuffer($e);var vt=new n.StructArrayLayout3ui6;vt.emplaceBack(0,1,2),vt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=$.createIndexBuffer(vt),this.emptyTexture=new n.Texture($,{width:1,height:1,data:new Uint8Array([0,0,0,0])},$.gl.RGBA);var Pt=this.context.gl;this.stencilClearMode=new nr({func:Pt.ALWAYS,mask:0},0,255,Pt.ZERO,Pt.ZERO,Pt.ZERO)},Zr.prototype.clearStencil=function(){var $=this.context,ge=$.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var re=n.create();n.ortho(re,0,this.width,this.height,0,0,1),n.scale(re,re,[ge.drawingBufferWidth,ge.drawingBufferHeight,0]),this.useProgram("clippingMask").draw($,ge.TRIANGLES,Pr.disabled,this.stencilClearMode,ut.disabled,kt.disabled,tf(re),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Zr.prototype._renderTileClippingMasks=function($,ge){if(!(this.currentStencilSource===$.source||!$.isTileClipped()||!ge||!ge.length)){this.currentStencilSource=$.source;var re=this.context,me=re.gl;this.nextStencilID+ge.length>256&&this.clearStencil(),re.setColorMode(ut.disabled),re.setDepthMode(Pr.disabled);var Ne=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var $e=0,vt=ge;$e<vt.length;$e+=1){var Pt=vt[$e],Gt=this._tileClippingMaskIDs[Pt.key]=this.nextStencilID++;Ne.draw(re,me.TRIANGLES,Pr.disabled,new nr({func:me.ALWAYS,mask:0},Gt,255,me.KEEP,me.KEEP,me.REPLACE),ut.disabled,kt.disabled,tf(Pt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Zr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var $=this.nextStencilID++,ge=this.context.gl;return new nr({func:ge.NOTEQUAL,mask:255},$,255,ge.KEEP,ge.KEEP,ge.REPLACE)},Zr.prototype.stencilModeForClipping=function($){var ge=this.context.gl;return new nr({func:ge.EQUAL,mask:255},this._tileClippingMaskIDs[$.key],0,ge.KEEP,ge.KEEP,ge.REPLACE)},Zr.prototype.stencilConfigForOverlap=function($){var ge,re=this.context.gl,me=$.sort(function(Gt,er){return er.overscaledZ-Gt.overscaledZ}),Ne=me[me.length-1].overscaledZ,$e=me[0].overscaledZ-Ne+1;if($e>1){this.currentStencilSource=void 0,this.nextStencilID+$e>256&&this.clearStencil();for(var vt={},Pt=0;Pt<$e;Pt++)vt[Pt+Ne]=new nr({func:re.GEQUAL,mask:255},Pt+this.nextStencilID,255,re.KEEP,re.KEEP,re.REPLACE);return this.nextStencilID+=$e,[vt,me]}return[(ge={},ge[Ne]=nr.disabled,ge),me]},Zr.prototype.colorModeForRenderPass=function(){var $=this.context.gl;if(this._showOverdrawInspector){var ge=8,re=1/ge;return new ut([$.CONSTANT_COLOR,$.ONE],new n.Color(re,re,re,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ut.unblended:ut.alphaBlended},Zr.prototype.depthModeForSublayer=function($,ge,re){if(!this.opaquePassEnabledForLayer())return Pr.disabled;var me=1-((1+this.currentLayer)*this.numSublayers+$)*this.depthEpsilon;return new Pr(re||this.context.gl.LEQUAL,ge,[me,me])},Zr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Zr.prototype.render=function($,ge){var re=this;this.style=$,this.options=ge,this.lineAtlas=$.lineAtlas,this.imageManager=$.imageManager,this.glyphManager=$.glyphManager,this.symbolFadeChange=$.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var me=this.style._order,Ne=this.style.sourceCaches;for(var $e in Ne){var vt=Ne[$e];vt.used&&vt.prepare(this.context)}var Pt={},Gt={},er={};for(var vr in Ne){var hr=Ne[vr];Pt[vr]=hr.getVisibleCoordinates(),Gt[vr]=Pt[vr].slice().reverse(),er[vr]=hr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Ur=0;Ur<me.length;Ur++){var rn=me[Ur];if(this.style._layers[rn].is3D()){this.opaquePassCutoff=Ur;break}}this.renderPass="offscreen";for(var en=0,Qr=me;en<Qr.length;en+=1){var on=Qr[en],mn=this.style._layers[on];if(!(!mn.hasOffscreenPass()||mn.isHidden(this.transform.zoom))){var Un=Gt[mn.source];mn.type!=="custom"&&!Un.length||this.renderLayer(this,Ne[mn.source],mn,Un)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ge.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ge.showOverdrawInspector,this.depthRangeFor3D=[0,1-($._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=me.length-1;this.currentLayer>=0;this.currentLayer--){var Yn=this.style._layers[me[this.currentLayer]],ra=Ne[Yn.source],ia=Pt[Yn.source];this._renderTileClippingMasks(Yn,ia),this.renderLayer(this,ra,Yn,ia)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<me.length;this.currentLayer++){var ta=this.style._layers[me[this.currentLayer]],sa=Ne[ta.source],pa=(ta.type==="symbol"?er:Gt)[ta.source];this._renderTileClippingMasks(ta,Pt[ta.source]),this.renderLayer(this,sa,ta,pa)}if(this.options.showTileBoundaries){var wa,Oa,Pa=n.values(this.style._layers);Pa.forEach(function(ri){ri.source&&!ri.isHidden(re.transform.zoom)&&(ri.source!==(Oa&&Oa.id)&&(Oa=re.style.sourceCaches[ri.source]),(!wa||wa.getSource().maxzoom<Oa.getSource().maxzoom)&&(wa=Oa))}),wa&&Br.debug(this,wa,wa.getVisibleCoordinates())}this.options.showPadding&&mt(this),this.context.setDefault()},Zr.prototype.renderLayer=function($,ge,re,me){re.isHidden(this.transform.zoom)||re.type!=="background"&&re.type!=="custom"&&!me.length||(this.id=re.id,this.gpuTimingStart(re),Br[re.type]($,ge,re,me,this.style.placement.variableOffsets),this.gpuTimingEnd())},Zr.prototype.gpuTimingStart=function($){if(this.options.gpuTiming){var ge=this.context.extTimerQuery,re=this.gpuTimers[$.id];re||(re=this.gpuTimers[$.id]={calls:0,cpuTime:0,query:ge.createQueryEXT()}),re.calls++,ge.beginQueryEXT(ge.TIME_ELAPSED_EXT,re.query)}},Zr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var $=this.context.extTimerQuery;$.endQueryEXT($.TIME_ELAPSED_EXT)}},Zr.prototype.collectGpuTimers=function(){var $=this.gpuTimers;return this.gpuTimers={},$},Zr.prototype.queryGpuTimers=function($){var ge={};for(var re in $){var me=$[re],Ne=this.context.extTimerQuery,$e=Ne.getQueryObjectEXT(me.query,Ne.QUERY_RESULT_EXT)/(1e3*1e3);Ne.deleteQueryEXT(me.query),ge[re]=$e}return ge},Zr.prototype.translatePosMatrix=function($,ge,re,me,Ne){if(!re[0]&&!re[1])return $;var $e=Ne?me==="map"?this.transform.angle:0:me==="viewport"?-this.transform.angle:0;if($e){var vt=Math.sin($e),Pt=Math.cos($e);re=[re[0]*Pt-re[1]*vt,re[0]*vt+re[1]*Pt]}var Gt=[Ne?re[0]:wn(ge,re[0],this.transform.zoom),Ne?re[1]:wn(ge,re[1],this.transform.zoom),0],er=new Float32Array(16);return n.translate(er,$,Gt),er},Zr.prototype.saveTileTexture=function($){var ge=this._tileTextures[$.size[0]];ge?ge.push($):this._tileTextures[$.size[0]]=[$]},Zr.prototype.getTileTexture=function($){var ge=this._tileTextures[$];return ge&&ge.length>0?ge.pop():null},Zr.prototype.isPatternMissing=function($){if(!$)return!1;if(!$.from||!$.to)return!0;var ge=this.imageManager.getPattern($.from.toString()),re=this.imageManager.getPattern($.to.toString());return!ge||!re},Zr.prototype.useProgram=function($,ge){this.cache=this.cache||{};var re=""+$+(ge?ge.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[re]||(this.cache[re]=new Fc(this.context,$,tu[$],ge,nu[$],this._showOverdrawInspector)),this.cache[re]},Zr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Zr.prototype.setBaseState=function(){var $=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set($.FUNC_ADD)},Zr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var $=this.context.gl;this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,$.RGBA)}},Zr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var cn=function($,ge){this.points=$,this.planes=ge};cn.fromInvProjectionMatrix=function($,ge,re){var me=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Ne=Math.pow(2,re),$e=me.map(function(Gt){return n.transformMat4([],Gt,$)}).map(function(Gt){return n.scale$1([],Gt,1/Gt[3]/ge*Ne)}),vt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Pt=vt.map(function(Gt){var er=n.sub([],$e[Gt[0]],$e[Gt[1]]),vr=n.sub([],$e[Gt[2]],$e[Gt[1]]),hr=n.normalize([],n.cross([],er,vr)),Ur=-n.dot(hr,$e[Gt[1]]);return hr.concat(Ur)});return new cn($e,Pt)};var _n=function($,ge){this.min=$,this.max=ge,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};_n.prototype.quadrant=function($){for(var ge=[$%2===0,$<2],re=n.clone$2(this.min),me=n.clone$2(this.max),Ne=0;Ne<ge.length;Ne++)re[Ne]=ge[Ne]?this.min[Ne]:this.center[Ne],me[Ne]=ge[Ne]?this.center[Ne]:this.max[Ne];return me[2]=this.max[2],new _n(re,me)},_n.prototype.distanceX=function($){var ge=Math.max(Math.min(this.max[0],$[0]),this.min[0]);return ge-$[0]},_n.prototype.distanceY=function($){var ge=Math.max(Math.min(this.max[1],$[1]),this.min[1]);return ge-$[1]},_n.prototype.intersects=function($){for(var ge=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],re=!0,me=0;me<$.planes.length;me++){for(var Ne=$.planes[me],$e=0,vt=0;vt<ge.length;vt++)$e+=n.dot$1(Ne,ge[vt])>=0;if($e===0)return 0;$e!==ge.length&&(re=!1)}if(re)return 2;for(var Pt=0;Pt<3;Pt++){for(var Gt=Number.MAX_VALUE,er=-Number.MAX_VALUE,vr=0;vr<$.points.length;vr++){var hr=$.points[vr][Pt]-this.min[Pt];Gt=Math.min(Gt,hr),er=Math.max(er,hr)}if(er<0||Gt>this.max[Pt]-this.min[Pt])return 0}return 1};var Nn=function($,ge,re,me){if($===void 0&&($=0),ge===void 0&&(ge=0),re===void 0&&(re=0),me===void 0&&(me=0),isNaN($)||$<0||isNaN(ge)||ge<0||isNaN(re)||re<0||isNaN(me)||me<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=$,this.bottom=ge,this.left=re,this.right=me};Nn.prototype.interpolate=function($,ge,re){return ge.top!=null&&$.top!=null&&(this.top=n.number($.top,ge.top,re)),ge.bottom!=null&&$.bottom!=null&&(this.bottom=n.number($.bottom,ge.bottom,re)),ge.left!=null&&$.left!=null&&(this.left=n.number($.left,ge.left,re)),ge.right!=null&&$.right!=null&&(this.right=n.number($.right,ge.right,re)),this},Nn.prototype.getCenter=function($,ge){var re=n.clamp((this.left+$-this.right)/2,0,$),me=n.clamp((this.top+ge-this.bottom)/2,0,ge);return new n.Point(re,me)},Nn.prototype.equals=function($){return this.top===$.top&&this.bottom===$.bottom&&this.left===$.left&&this.right===$.right},Nn.prototype.clone=function(){return new Nn(this.top,this.bottom,this.left,this.right)},Nn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Wn=function($,ge,re,me,Ne){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Ne===void 0?!0:Ne,this._minZoom=$||0,this._maxZoom=ge||22,this._minPitch=re??0,this._maxPitch=me??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Nn,this._posMatrixCache={},this._alignedPosMatrixCache={}},oa={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Wn.prototype.clone=function(){var $=new Wn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return $.tileSize=this.tileSize,$.latRange=this.latRange,$.width=this.width,$.height=this.height,$._center=this._center,$.zoom=this.zoom,$.angle=this.angle,$._fov=this._fov,$._pitch=this._pitch,$._unmodified=this._unmodified,$._edgeInsets=this._edgeInsets.clone(),$._calcMatrices(),$},oa.minZoom.get=function(){return this._minZoom},oa.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},oa.maxZoom.get=function(){return this._maxZoom},oa.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},oa.minPitch.get=function(){return this._minPitch},oa.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},oa.maxPitch.get=function(){return this._maxPitch},oa.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},oa.renderWorldCopies.get=function(){return this._renderWorldCopies},oa.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},oa.worldSize.get=function(){return this.tileSize*this.scale},oa.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},oa.size.get=function(){return new n.Point(this.width,this.height)},oa.bearing.get=function(){return-this.angle/Math.PI*180},oa.bearing.set=function(ve){var $=-n.wrap(ve,-180,180)*Math.PI/180;this.angle!==$&&(this._unmodified=!1,this.angle=$,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},oa.pitch.get=function(){return this._pitch/Math.PI*180},oa.pitch.set=function(ve){var $=n.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==$&&(this._unmodified=!1,this._pitch=$,this._calcMatrices())},oa.fov.get=function(){return this._fov/Math.PI*180},oa.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},oa.zoom.get=function(){return this._zoom},oa.zoom.set=function(ve){var $=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==$&&(this._unmodified=!1,this._zoom=$,this.scale=this.zoomScale($),this.tileZoom=Math.floor($),this.zoomFraction=$-this.tileZoom,this._constrain(),this._calcMatrices())},oa.center.get=function(){return this._center},oa.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},oa.padding.get=function(){return this._edgeInsets.toJSON()},oa.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},oa.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Wn.prototype.isPaddingEqual=function($){return this._edgeInsets.equals($)},Wn.prototype.interpolatePadding=function($,ge,re){this._unmodified=!1,this._edgeInsets.interpolate($,ge,re),this._constrain(),this._calcMatrices()},Wn.prototype.coveringZoomLevel=function($){var ge=($.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/$.tileSize));return Math.max(0,ge)},Wn.prototype.getVisibleUnwrappedCoordinates=function($){var ge=[new n.UnwrappedTileID(0,$)];if(this._renderWorldCopies)for(var re=this.pointCoordinate(new n.Point(0,0)),me=this.pointCoordinate(new n.Point(this.width,0)),Ne=this.pointCoordinate(new n.Point(this.width,this.height)),$e=this.pointCoordinate(new n.Point(0,this.height)),vt=Math.floor(Math.min(re.x,me.x,Ne.x,$e.x)),Pt=Math.floor(Math.max(re.x,me.x,Ne.x,$e.x)),Gt=1,er=vt-Gt;er<=Pt+Gt;er++)er!==0&&ge.push(new n.UnwrappedTileID(er,$));return ge},Wn.prototype.coveringTiles=function($){var ge=this.coveringZoomLevel($),re=ge;if($.minzoom!==void 0&&ge<$.minzoom)return[];$.maxzoom!==void 0&&ge>$.maxzoom&&(ge=$.maxzoom);var me=n.MercatorCoordinate.fromLngLat(this.center),Ne=Math.pow(2,ge),$e=[Ne*me.x,Ne*me.y,0],vt=cn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ge),Pt=$.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Pt=ge);var Gt=3,er=function(Pa){return{aabb:new _n([Pa*Ne,0,0],[(Pa+1)*Ne,Ne,0]),zoom:0,x:0,y:0,wrap:Pa,fullyVisible:!1}},vr=[],hr=[],Ur=ge,rn=$.reparseOverscaled?re:ge;if(this._renderWorldCopies)for(var en=1;en<=3;en++)vr.push(er(-en)),vr.push(er(en));for(vr.push(er(0));vr.length>0;){var Qr=vr.pop(),on=Qr.x,mn=Qr.y,Un=Qr.fullyVisible;if(!Un){var Yn=Qr.aabb.intersects(vt);if(Yn===0)continue;Un=Yn===2}var ra=Qr.aabb.distanceX($e),ia=Qr.aabb.distanceY($e),ta=Math.max(Math.abs(ra),Math.abs(ia)),sa=Gt+(1<<Ur-Qr.zoom)-2;if(Qr.zoom===Ur||ta>sa&&Qr.zoom>=Pt){hr.push({tileID:new n.OverscaledTileID(Qr.zoom===Ur?rn:Qr.zoom,Qr.wrap,Qr.zoom,on,mn),distanceSq:n.sqrLen([$e[0]-.5-on,$e[1]-.5-mn])});continue}for(var pa=0;pa<4;pa++){var wa=(on<<1)+pa%2,Oa=(mn<<1)+(pa>>1);vr.push({aabb:Qr.aabb.quadrant(pa),zoom:Qr.zoom+1,x:wa,y:Oa,wrap:Qr.wrap,fullyVisible:Un})}}return hr.sort(function(Pa,ri){return Pa.distanceSq-ri.distanceSq}).map(function(Pa){return Pa.tileID})},Wn.prototype.resize=function($,ge){this.width=$,this.height=ge,this.pixelsToGLUnits=[2/$,-2/ge],this._constrain(),this._calcMatrices()},oa.unmodified.get=function(){return this._unmodified},Wn.prototype.zoomScale=function($){return Math.pow(2,$)},Wn.prototype.scaleZoom=function($){return Math.log($)/Math.LN2},Wn.prototype.project=function($){var ge=n.clamp($.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng($.lng)*this.worldSize,n.mercatorYfromLat(ge)*this.worldSize)},Wn.prototype.unproject=function($){return new n.MercatorCoordinate($.x/this.worldSize,$.y/this.worldSize).toLngLat()},oa.point.get=function(){return this.project(this.center)},Wn.prototype.setLocationAtPoint=function($,ge){var re=this.pointCoordinate(ge),me=this.pointCoordinate(this.centerPoint),Ne=this.locationCoordinate($),$e=new n.MercatorCoordinate(Ne.x-(re.x-me.x),Ne.y-(re.y-me.y));this.center=this.coordinateLocation($e),this._renderWorldCopies&&(this.center=this.center.wrap())},Wn.prototype.locationPoint=function($){return this.coordinatePoint(this.locationCoordinate($))},Wn.prototype.pointLocation=function($){return this.coordinateLocation(this.pointCoordinate($))},Wn.prototype.locationCoordinate=function($){return n.MercatorCoordinate.fromLngLat($)},Wn.prototype.coordinateLocation=function($){return $.toLngLat()},Wn.prototype.pointCoordinate=function($){var ge=0,re=[$.x,$.y,0,1],me=[$.x,$.y,1,1];n.transformMat4(re,re,this.pixelMatrixInverse),n.transformMat4(me,me,this.pixelMatrixInverse);var Ne=re[3],$e=me[3],vt=re[0]/Ne,Pt=me[0]/$e,Gt=re[1]/Ne,er=me[1]/$e,vr=re[2]/Ne,hr=me[2]/$e,Ur=vr===hr?0:(ge-vr)/(hr-vr);return new n.MercatorCoordinate(n.number(vt,Pt,Ur)/this.worldSize,n.number(Gt,er,Ur)/this.worldSize)},Wn.prototype.coordinatePoint=function($){var ge=[$.x*this.worldSize,$.y*this.worldSize,0,1];return n.transformMat4(ge,ge,this.pixelMatrix),new n.Point(ge[0]/ge[3],ge[1]/ge[3])},Wn.prototype.getBounds=function(){return new n.LngLatBounds().extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},Wn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Wn.prototype.setMaxBounds=function($){$?(this.lngRange=[$.getWest(),$.getEast()],this.latRange=[$.getSouth(),$.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Wn.prototype.calculatePosMatrix=function($,ge){ge===void 0&&(ge=!1);var re=$.key,me=ge?this._alignedPosMatrixCache:this._posMatrixCache;if(me[re])return me[re];var Ne=$.canonical,$e=this.worldSize/this.zoomScale(Ne.z),vt=Ne.x+Math.pow(2,Ne.z)*$.wrap,Pt=n.identity(new Float64Array(16));return n.translate(Pt,Pt,[vt*$e,Ne.y*$e,0]),n.scale(Pt,Pt,[$e/n.EXTENT,$e/n.EXTENT,1]),n.multiply(Pt,ge?this.alignedProjMatrix:this.projMatrix,Pt),me[re]=new Float32Array(Pt),me[re]},Wn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Wn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var $=-90,ge=90,re=-180,me=180,Ne,$e,vt,Pt,Gt=this.size,er=this._unmodified;if(this.latRange){var vr=this.latRange;$=n.mercatorYfromLat(vr[1])*this.worldSize,ge=n.mercatorYfromLat(vr[0])*this.worldSize,Ne=ge-$<Gt.y?Gt.y/(ge-$):0}if(this.lngRange){var hr=this.lngRange;re=n.mercatorXfromLng(hr[0])*this.worldSize,me=n.mercatorXfromLng(hr[1])*this.worldSize,$e=me-re<Gt.x?Gt.x/(me-re):0}var Ur=this.point,rn=Math.max($e||0,Ne||0);if(rn){this.center=this.unproject(new n.Point($e?(me+re)/2:Ur.x,Ne?(ge+$)/2:Ur.y)),this.zoom+=this.scaleZoom(rn),this._unmodified=er,this._constraining=!1;return}if(this.latRange){var en=Ur.y,Qr=Gt.y/2;en-Qr<$&&(Pt=$+Qr),en+Qr>ge&&(Pt=ge-Qr)}if(this.lngRange){var on=Ur.x,mn=Gt.x/2;on-mn<re&&(vt=re+mn),on+mn>me&&(vt=me-mn)}(vt!==void 0||Pt!==void 0)&&(this.center=this.unproject(new n.Point(vt!==void 0?vt:Ur.x,Pt!==void 0?Pt:Ur.y))),this._unmodified=er,this._constraining=!1}},Wn.prototype._calcMatrices=function(){if(this.height){var $=this._fov/2,ge=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan($)*this.height;var re=Math.PI/2+this._pitch,me=this._fov*(.5+ge.y/this.height),Ne=Math.sin(me)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-re-me,.01,Math.PI-.01)),$e=this.point,vt=$e.x,Pt=$e.y,Gt=Math.cos(Math.PI/2-this._pitch)*Ne+this.cameraToCenterDistance,er=Gt*1.01,vr=this.height/50,hr=new Float64Array(16);n.perspective(hr,this._fov,this.width/this.height,vr,er),hr[8]=-ge.x*2/this.width,hr[9]=ge.y*2/this.height,n.scale(hr,hr,[1,-1,1]),n.translate(hr,hr,[0,0,-this.cameraToCenterDistance]),n.rotateX(hr,hr,this._pitch),n.rotateZ(hr,hr,this.angle),n.translate(hr,hr,[-vt,-Pt,0]),this.mercatorMatrix=n.scale([],hr,[this.worldSize,this.worldSize,this.worldSize]),n.scale(hr,hr,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=hr,this.invProjMatrix=n.invert([],this.projMatrix);var Ur=this.width%2/2,rn=this.height%2/2,en=Math.cos(this.angle),Qr=Math.sin(this.angle),on=vt-Math.round(vt)+en*Ur+Qr*rn,mn=Pt-Math.round(Pt)+en*rn+Qr*Ur,Un=new Float64Array(hr);if(n.translate(Un,Un,[on>.5?on-1:on,mn>.5?mn-1:mn,0]),this.alignedProjMatrix=Un,hr=n.create(),n.scale(hr,hr,[this.width/2,-this.height/2,1]),n.translate(hr,hr,[1,-1,0]),this.labelPlaneMatrix=hr,hr=n.create(),n.scale(hr,hr,[1,-1,1]),n.translate(hr,hr,[-1,-1,0]),n.scale(hr,hr,[2/this.width,2/this.height,1]),this.glCoordMatrix=hr,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),hr=n.invert(new Float64Array(16),this.pixelMatrix),!hr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=hr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Wn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var $=this.pointCoordinate(new n.Point(0,0)),ge=[$.x*this.worldSize,$.y*this.worldSize,0,1],re=n.transformMat4(ge,ge,this.pixelMatrix);return re[3]/this.cameraToCenterDistance},Wn.prototype.getCameraPoint=function(){var $=this._pitch,ge=Math.tan($)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,ge))},Wn.prototype.getCameraQueryGeometry=function($){var ge=this.getCameraPoint();if($.length===1)return[$[0],ge];for(var re=ge.x,me=ge.y,Ne=ge.x,$e=ge.y,vt=0,Pt=$;vt<Pt.length;vt+=1){var Gt=Pt[vt];re=Math.min(re,Gt.x),me=Math.min(me,Gt.y),Ne=Math.max(Ne,Gt.x),$e=Math.max($e,Gt.y)}return[new n.Point(re,me),new n.Point(Ne,me),new n.Point(Ne,$e),new n.Point(re,$e),new n.Point(re,me)]},Object.defineProperties(Wn.prototype,oa);function Ja(ve,$){var ge=!1,re=null,me=function(){re=null,ge&&(ve(),re=setTimeout(me,$),ge=!1)};return function(){return ge=!0,re||me(),re}}var Za=function($){this._hashName=$&&encodeURIComponent($),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ja(this._updateHashUnthrottled.bind(this),30*1e3/100)};Za.prototype.addTo=function($){return this._map=$,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Za.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Za.prototype.getHashString=function($){var ge=this._map.getCenter(),re=Math.round(this._map.getZoom()*100)/100,me=Math.ceil((re*Math.LN2+Math.log(512/360/.5))/Math.LN10),Ne=Math.pow(10,me),$e=Math.round(ge.lng*Ne)/Ne,vt=Math.round(ge.lat*Ne)/Ne,Pt=this._map.getBearing(),Gt=this._map.getPitch(),er="";if($?er+="/"+$e+"/"+vt+"/"+re:er+=re+"/"+vt+"/"+$e,(Pt||Gt)&&(er+="/"+Math.round(Pt*10)/10),Gt&&(er+="/"+Math.round(Gt)),this._hashName){var vr=this._hashName,hr=!1,Ur=n.window.location.hash.slice(1).split("&").map(function(rn){var en=rn.split("=")[0];return en===vr?(hr=!0,en+"="+er):rn}).filter(function(rn){return rn});return hr||Ur.push(vr+"="+er),"#"+Ur.join("&")}return"#"+er},Za.prototype._getCurrentHash=function(){var $=this,ge=n.window.location.hash.replace("#","");if(this._hashName){var re;return ge.split("&").map(function(me){return me.split("=")}).forEach(function(me){me[0]===$._hashName&&(re=me)}),(re&&re[1]||"").split("/")}return ge.split("/")},Za.prototype._onHashChange=function(){var $=this._getCurrentHash();if($.length>=3&&!$.some(function(re){return isNaN(re)})){var ge=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+($[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+$[2],+$[1]],zoom:+$[0],bearing:ge,pitch:+($[4]||0)}),!0}return!1},Za.prototype._updateHashUnthrottled=function(){var $=n.window.location.href.replace(/(#.+)?$/,this.getHashString());try{n.window.history.replaceState(n.window.history.state,null,$)}catch{}};var Qa={linearity:.3,easing:n.bezier(0,0,.3,1)},ai=n.extend({deceleration:2500,maxSpeed:1400},Qa),bi=n.extend({deceleration:20,maxSpeed:1400},Qa),Gi=n.extend({deceleration:1e3,maxSpeed:360},Qa),Ro=n.extend({deceleration:1e3,maxSpeed:90},Qa),ce=function($){this._map=$,this.clear()};ce.prototype.clear=function(){this._inertiaBuffer=[]},ce.prototype.record=function($){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:$})},ce.prototype._drainInertiaBuffer=function(){for(var $=this._inertiaBuffer,ge=n.browser.now(),re=160;$.length>0&&ge-$[0].time>re;)$.shift()},ce.prototype._onMoveEnd=function($){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ge={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},re=0,me=this._inertiaBuffer;re<me.length;re+=1){var Ne=me[re],$e=Ne.settings;ge.zoom+=$e.zoomDelta||0,ge.bearing+=$e.bearingDelta||0,ge.pitch+=$e.pitchDelta||0,$e.panDelta&&ge.pan._add($e.panDelta),$e.around&&(ge.around=$e.around),$e.pinchAround&&(ge.pinchAround=$e.pinchAround)}var vt=this._inertiaBuffer[this._inertiaBuffer.length-1],Pt=vt.time-this._inertiaBuffer[0].time,Gt={};if(ge.pan.mag()){var er=Be(ge.pan.mag(),Pt,n.extend({},ai,$||{}));Gt.offset=ge.pan.mult(er.amount/ge.pan.mag()),Gt.center=this._map.transform.center,_e(Gt,er)}if(ge.zoom){var vr=Be(ge.zoom,Pt,bi);Gt.zoom=this._map.transform.zoom+vr.amount,_e(Gt,vr)}if(ge.bearing){var hr=Be(ge.bearing,Pt,Gi);Gt.bearing=this._map.transform.bearing+n.clamp(hr.amount,-179,179),_e(Gt,hr)}if(ge.pitch){var Ur=Be(ge.pitch,Pt,Ro);Gt.pitch=this._map.transform.pitch+Ur.amount,_e(Gt,Ur)}if(Gt.zoom||Gt.bearing){var rn=ge.pinchAround===void 0?ge.around:ge.pinchAround;Gt.around=rn?this._map.unproject(rn):this._map.getCenter()}return this.clear(),n.extend(Gt,{noMoveStart:!0})}};function _e(ve,$){(!ve.duration||ve.duration<$.duration)&&(ve.duration=$.duration,ve.easing=$.easing)}function Be(ve,$,ge){var re=ge.maxSpeed,me=ge.linearity,Ne=ge.deceleration,$e=n.clamp(ve*me/($/1e3),-re,re),vt=Math.abs($e)/(Ne*me);return{easing:ge.easing,duration:vt*1e3,amount:$e*(vt/2)}}var tt=function(ve){function $(re,me,Ne,$e){$e===void 0&&($e={});var vt=w.mousePos(me.getCanvasContainer(),Ne),Pt=me.unproject(vt);ve.call(this,re,n.extend({point:vt,lngLat:Pt,originalEvent:Ne},$e)),this._defaultPrevented=!1,this.target=me}ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$;var ge={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,ge),$}(n.Event),it=function(ve){function $(re,me,Ne){var $e=re==="touchend"?Ne.changedTouches:Ne.touches,vt=w.touchPos(me.getCanvasContainer(),$e),Pt=vt.map(function(vr){return me.unproject(vr)}),Gt=vt.reduce(function(vr,hr,Ur,rn){return vr.add(hr.div(rn.length))},new n.Point(0,0)),er=me.unproject(Gt);ve.call(this,re,{points:vt,point:Gt,lngLats:Pt,lngLat:er,originalEvent:Ne}),this._defaultPrevented=!1}ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$;var ge={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,ge),$}(n.Event),ht=function(ve){function $(re,me,Ne){ve.call(this,re,{originalEvent:Ne}),this._defaultPrevented=!1}ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$;var ge={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,ge),$}(n.Event),Dt=function($,ge){this._map=$,this._clickTolerance=ge.clickTolerance};Dt.prototype.reset=function(){delete this._mousedownPos},Dt.prototype.wheel=function($){return this._firePreventable(new ht($.type,this._map,$))},Dt.prototype.mousedown=function($,ge){return this._mousedownPos=ge,this._firePreventable(new tt($.type,this._map,$))},Dt.prototype.mouseup=function($){this._map.fire(new tt($.type,this._map,$))},Dt.prototype.click=function($,ge){this._mousedownPos&&this._mousedownPos.dist(ge)>=this._clickTolerance||this._map.fire(new tt($.type,this._map,$))},Dt.prototype.dblclick=function($){return this._firePreventable(new tt($.type,this._map,$))},Dt.prototype.mouseover=function($){this._map.fire(new tt($.type,this._map,$))},Dt.prototype.mouseout=function($){this._map.fire(new tt($.type,this._map,$))},Dt.prototype.touchstart=function($){return this._firePreventable(new it($.type,this._map,$))},Dt.prototype.touchmove=function($){this._map.fire(new it($.type,this._map,$))},Dt.prototype.touchend=function($){this._map.fire(new it($.type,this._map,$))},Dt.prototype.touchcancel=function($){this._map.fire(new it($.type,this._map,$))},Dt.prototype._firePreventable=function($){if(this._map.fire($),$.defaultPrevented)return{}},Dt.prototype.isEnabled=function(){return!0},Dt.prototype.isActive=function(){return!1},Dt.prototype.enable=function(){},Dt.prototype.disable=function(){};var Et=function($){this._map=$};Et.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Et.prototype.mousemove=function($){this._map.fire(new tt($.type,this._map,$))},Et.prototype.mousedown=function(){this._delayContextMenu=!0},Et.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new tt("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Et.prototype.contextmenu=function($){this._delayContextMenu?this._contextMenuEvent=$:this._map.fire(new tt($.type,this._map,$)),this._map.listens("contextmenu")&&$.preventDefault()},Et.prototype.isEnabled=function(){return!0},Et.prototype.isActive=function(){return!1},Et.prototype.enable=function(){},Et.prototype.disable=function(){};var Yt=function($,ge){this._map=$,this._el=$.getCanvasContainer(),this._container=$.getContainer(),this._clickTolerance=ge.clickTolerance||1};Yt.prototype.isEnabled=function(){return!!this._enabled},Yt.prototype.isActive=function(){return!!this._active},Yt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Yt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Yt.prototype.mousedown=function($,ge){this.isEnabled()&&$.shiftKey&&$.button===0&&(w.disableDrag(),this._startPos=this._lastPos=ge,this._active=!0)},Yt.prototype.mousemoveWindow=function($,ge){if(this._active){var re=ge;if(!(this._lastPos.equals(re)||!this._box&&re.dist(this._startPos)<this._clickTolerance)){var me=this._startPos;this._lastPos=re,this._box||(this._box=w.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",$));var Ne=Math.min(me.x,re.x),$e=Math.max(me.x,re.x),vt=Math.min(me.y,re.y),Pt=Math.max(me.y,re.y);w.setTransform(this._box,"translate("+Ne+"px,"+vt+"px)"),this._box.style.width=$e-Ne+"px",this._box.style.height=Pt-vt+"px"}}},Yt.prototype.mouseupWindow=function($,ge){var re=this;if(this._active&&$.button===0){var me=this._startPos,Ne=ge;if(this.reset(),w.suppressClick(),me.x===Ne.x&&me.y===Ne.y)this._fireEvent("boxzoomcancel",$);else return this._map.fire(new n.Event("boxzoomend",{originalEvent:$})),{cameraAnimation:function($e){return $e.fitScreenCoordinates(me,Ne,re._map.getBearing(),{linear:!0})}}}},Yt.prototype.keydown=function($){this._active&&$.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",$))},Yt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(w.remove(this._box),this._box=null),w.enableDrag(),delete this._startPos,delete this._lastPos},Yt.prototype._fireEvent=function($,ge){return this._map.fire(new n.Event($,{originalEvent:ge}))};function Zt(ve,$){for(var ge={},re=0;re<ve.length;re++)ge[ve[re].identifier]=$[re];return ge}function or(ve){for(var $=new n.Point(0,0),ge=0,re=ve;ge<re.length;ge+=1){var me=re[ge];$._add(me)}return $.div(ve.length)}var Ir=500,kr=500,sn=30,vn=function($){this.reset(),this.numTouches=$.numTouches};vn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},vn.prototype.touchstart=function($,ge,re){(this.centroid||re.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=$.timeStamp),re.length===this.numTouches&&(this.centroid=or(ge),this.touches=Zt(re,ge)))},vn.prototype.touchmove=function($,ge,re){if(!(this.aborted||!this.centroid)){var me=Zt(re,ge);for(var Ne in this.touches){var $e=this.touches[Ne],vt=me[Ne];(!vt||vt.dist($e)>sn)&&(this.aborted=!0)}}},vn.prototype.touchend=function($,ge,re){if((!this.centroid||$.timeStamp-this.startTime>kr)&&(this.aborted=!0),re.length===0){var me=!this.aborted&&this.centroid;if(this.reset(),me)return me}};var Fr=function($){this.singleTap=new vn($),this.numTaps=$.numTaps,this.reset()};Fr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Fr.prototype.touchstart=function($,ge,re){this.singleTap.touchstart($,ge,re)},Fr.prototype.touchmove=function($,ge,re){this.singleTap.touchmove($,ge,re)},Fr.prototype.touchend=function($,ge,re){var me=this.singleTap.touchend($,ge,re);if(me){var Ne=$.timeStamp-this.lastTime<Ir,$e=!this.lastTap||this.lastTap.dist(me)<sn;if((!Ne||!$e)&&this.reset(),this.count++,this.lastTime=$.timeStamp,this.lastTap=me,this.count===this.numTaps)return this.reset(),me}};var Xr=function(){this._zoomIn=new Fr({numTouches:1,numTaps:2}),this._zoomOut=new Fr({numTouches:2,numTaps:1}),this.reset()};Xr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Xr.prototype.touchstart=function($,ge,re){this._zoomIn.touchstart($,ge,re),this._zoomOut.touchstart($,ge,re)},Xr.prototype.touchmove=function($,ge,re){this._zoomIn.touchmove($,ge,re),this._zoomOut.touchmove($,ge,re)},Xr.prototype.touchend=function($,ge,re){var me=this,Ne=this._zoomIn.touchend($,ge,re),$e=this._zoomOut.touchend($,ge,re);if(Ne)return this._active=!0,$.preventDefault(),setTimeout(function(){return me.reset()},0),{cameraAnimation:function(vt){return vt.easeTo({duration:300,zoom:vt.getZoom()+1,around:vt.unproject(Ne)},{originalEvent:$})}};if($e)return this._active=!0,$.preventDefault(),setTimeout(function(){return me.reset()},0),{cameraAnimation:function(vt){return vt.easeTo({duration:300,zoom:vt.getZoom()-1,around:vt.unproject($e)},{originalEvent:$})}}},Xr.prototype.touchcancel=function(){this.reset()},Xr.prototype.enable=function(){this._enabled=!0},Xr.prototype.disable=function(){this._enabled=!1,this.reset()},Xr.prototype.isEnabled=function(){return this._enabled},Xr.prototype.isActive=function(){return this._active};var an=0,pn=2,Mn={};Mn[an]=1,Mn[pn]=2;function fn(ve,$){var ge=Mn[$];return ve.buttons===void 0||(ve.buttons&ge)!==ge}var Dn=function($){this.reset(),this._clickTolerance=$.clickTolerance||1};Dn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Dn.prototype._correctButton=function($,ge){return!1},Dn.prototype._move=function($,ge){return{}},Dn.prototype.mousedown=function($,ge){if(!this._lastPoint){var re=w.mouseButton($);this._correctButton($,re)&&(this._lastPoint=ge,this._eventButton=re)}},Dn.prototype.mousemoveWindow=function($,ge){var re=this._lastPoint;if(re){if($.preventDefault(),fn($,this._eventButton)){this.reset();return}if(!(!this._moved&&ge.dist(re)<this._clickTolerance))return this._moved=!0,this._lastPoint=ge,this._move(re,ge)}},Dn.prototype.mouseupWindow=function($){if(this._lastPoint){var ge=w.mouseButton($);ge===this._eventButton&&(this._moved&&w.suppressClick(),this.reset())}},Dn.prototype.enable=function(){this._enabled=!0},Dn.prototype.disable=function(){this._enabled=!1,this.reset()},Dn.prototype.isEnabled=function(){return this._enabled},Dn.prototype.isActive=function(){return this._active};var va=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.mousedown=function(re,me){ve.prototype.mousedown.call(this,re,me),this._lastPoint&&(this._active=!0)},$.prototype._correctButton=function(re,me){return me===an&&!re.ctrlKey},$.prototype._move=function(re,me){return{around:me,panDelta:me.sub(re)}},$}(Dn),Ma=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype._correctButton=function(re,me){return me===an&&re.ctrlKey||me===pn},$.prototype._move=function(re,me){var Ne=.8,$e=(me.x-re.x)*Ne;if($e)return this._active=!0,{bearingDelta:$e}},$.prototype.contextmenu=function(re){re.preventDefault()},$}(Dn),fa=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype._correctButton=function(re,me){return me===an&&re.ctrlKey||me===pn},$.prototype._move=function(re,me){var Ne=-.5,$e=(me.y-re.y)*Ne;if($e)return this._active=!0,{pitchDelta:$e}},$.prototype.contextmenu=function(re){re.preventDefault()},$}(Dn),Aa=function($){this._minTouches=1,this._clickTolerance=$.clickTolerance||1,this.reset()};Aa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},Aa.prototype.touchstart=function($,ge,re){return this._calculateTransform($,ge,re)},Aa.prototype.touchmove=function($,ge,re){if(!(!this._active||re.length<this._minTouches))return $.preventDefault(),this._calculateTransform($,ge,re)},Aa.prototype.touchend=function($,ge,re){this._calculateTransform($,ge,re),this._active&&re.length<this._minTouches&&this.reset()},Aa.prototype.touchcancel=function(){this.reset()},Aa.prototype._calculateTransform=function($,ge,re){re.length>0&&(this._active=!0);var me=Zt(re,ge),Ne=new n.Point(0,0),$e=new n.Point(0,0),vt=0;for(var Pt in me){var Gt=me[Pt],er=this._touches[Pt];er&&(Ne._add(Gt),$e._add(Gt.sub(er)),vt++,me[Pt]=Gt)}if(this._touches=me,!(vt<this._minTouches||!$e.mag())){var vr=$e.div(vt);if(this._sum._add(vr),!(this._sum.mag()<this._clickTolerance)){var hr=Ne.div(vt);return{around:hr,panDelta:vr}}}},Aa.prototype.enable=function(){this._enabled=!0},Aa.prototype.disable=function(){this._enabled=!1,this.reset()},Aa.prototype.isEnabled=function(){return this._enabled},Aa.prototype.isActive=function(){return this._active};var Sa=function(){this.reset()};Sa.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Sa.prototype._start=function($){},Sa.prototype._move=function($,ge,re){return{}},Sa.prototype.touchstart=function($,ge,re){this._firstTwoTouches||re.length<2||(this._firstTwoTouches=[re[0].identifier,re[1].identifier],this._start([ge[0],ge[1]]))},Sa.prototype.touchmove=function($,ge,re){if(this._firstTwoTouches){$.preventDefault();var me=this._firstTwoTouches,Ne=me[0],$e=me[1],vt=ii(re,ge,Ne),Pt=ii(re,ge,$e);if(!(!vt||!Pt)){var Gt=this._aroundCenter?null:vt.add(Pt).div(2);return this._move([vt,Pt],Gt,$)}}},Sa.prototype.touchend=function($,ge,re){if(this._firstTwoTouches){var me=this._firstTwoTouches,Ne=me[0],$e=me[1],vt=ii(re,ge,Ne),Pt=ii(re,ge,$e);vt&&Pt||(this._active&&w.suppressClick(),this.reset())}},Sa.prototype.touchcancel=function(){this.reset()},Sa.prototype.enable=function($){this._enabled=!0,this._aroundCenter=!!$&&$.around==="center"},Sa.prototype.disable=function(){this._enabled=!1,this.reset()},Sa.prototype.isEnabled=function(){return this._enabled},Sa.prototype.isActive=function(){return this._active};function ii(ve,$,ge){for(var re=0;re<ve.length;re++)if(ve[re].identifier===ge)return $[re]}var Ia=.1;function ti(ve,$){return Math.log(ve/$)/Math.LN2}var Si=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},$.prototype._start=function(re){this._startDistance=this._distance=re[0].dist(re[1])},$.prototype._move=function(re,me){var Ne=this._distance;if(this._distance=re[0].dist(re[1]),!(!this._active&&Math.abs(ti(this._distance,this._startDistance))<Ia))return this._active=!0,{zoomDelta:ti(this._distance,Ne),pinchAround:me}},$}(Sa),Eo=25;function Oi(ve,$){return ve.angleWith($)*180/Math.PI}var ca=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},$.prototype._start=function(re){this._startVector=this._vector=re[0].sub(re[1]),this._minDiameter=re[0].dist(re[1])},$.prototype._move=function(re,me){var Ne=this._vector;if(this._vector=re[0].sub(re[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Oi(this._vector,Ne),pinchAround:me}},$.prototype._isBelowThreshold=function(re){this._minDiameter=Math.min(this._minDiameter,re.mag());var me=Math.PI*this._minDiameter,Ne=Eo/me*360,$e=Oi(re,this._startVector);return Math.abs($e)<Ne},$}(Sa);function $a(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var za=100,wi=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},$.prototype._start=function(re){this._lastPoints=re,$a(re[0].sub(re[1]))&&(this._valid=!1)},$.prototype._move=function(re,me,Ne){var $e=re[0].sub(this._lastPoints[0]),vt=re[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically($e,vt,Ne.timeStamp),!!this._valid){this._lastPoints=re,this._active=!0;var Pt=($e.y+vt.y)/2,Gt=-.5;return{pitchDelta:Pt*Gt}}},$.prototype.gestureBeginsVertically=function(re,me,Ne){if(this._valid!==void 0)return this._valid;var $e=2,vt=re.mag()>=$e,Pt=me.mag()>=$e;if(!(!vt&&!Pt)){if(!vt||!Pt)return this._firstMove===void 0&&(this._firstMove=Ne),Ne-this._firstMove<za?void 0:!1;var Gt=re.y>0==me.y>0;return $a(re)&&$a(me)&&Gt}},$}(Sa),ao={panStep:100,bearingStep:15,pitchStep:10},Ei=function(){var $=ao;this._panStep=$.panStep,this._bearingStep=$.bearingStep,this._pitchStep=$.pitchStep,this._rotationDisabled=!1};Ei.prototype.reset=function(){this._active=!1},Ei.prototype.keydown=function($){var ge=this;if(!($.altKey||$.ctrlKey||$.metaKey)){var re=0,me=0,Ne=0,$e=0,vt=0;switch($.keyCode){case 61:case 107:case 171:case 187:re=1;break;case 189:case 109:case 173:re=-1;break;case 37:$.shiftKey?me=-1:($.preventDefault(),$e=-1);break;case 39:$.shiftKey?me=1:($.preventDefault(),$e=1);break;case 38:$.shiftKey?Ne=1:($.preventDefault(),vt=-1);break;case 40:$.shiftKey?Ne=-1:($.preventDefault(),vt=1);break;default:return}return this._rotationDisabled&&(me=0,Ne=0),{cameraAnimation:function(Pt){var Gt=Pt.getZoom();Pt.easeTo({duration:300,easeId:"keyboardHandler",easing:Bo,zoom:re?Math.round(Gt)+re*($.shiftKey?2:1):Gt,bearing:Pt.getBearing()+me*ge._bearingStep,pitch:Pt.getPitch()+Ne*ge._pitchStep,offset:[-$e*ge._panStep,-vt*ge._panStep],center:Pt.getCenter()},{originalEvent:$})}}}},Ei.prototype.enable=function(){this._enabled=!0},Ei.prototype.disable=function(){this._enabled=!1,this.reset()},Ei.prototype.isEnabled=function(){return this._enabled},Ei.prototype.isActive=function(){return this._active},Ei.prototype.disableRotation=function(){this._rotationDisabled=!0},Ei.prototype.enableRotation=function(){this._rotationDisabled=!1};function Bo(ve){return ve*(2-ve)}var Oo=4.000244140625,Zo=1/100,ro=1/450,jo=2,ya=function($,ge){this._map=$,this._el=$.getCanvasContainer(),this._handler=ge,this._delta=0,this._defaultZoomRate=Zo,this._wheelZoomRate=ro,n.bindAll(["_onTimeout"],this)};ya.prototype.setZoomRate=function($){this._defaultZoomRate=$},ya.prototype.setWheelZoomRate=function($){this._wheelZoomRate=$},ya.prototype.isEnabled=function(){return!!this._enabled},ya.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ya.prototype.isZooming=function(){return!!this._zooming},ya.prototype.enable=function($){this.isEnabled()||(this._enabled=!0,this._aroundCenter=$&&$.around==="center")},ya.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ya.prototype.wheel=function($){if(this.isEnabled()){var ge=$.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?$.deltaY*40:$.deltaY,re=n.browser.now(),me=re-(this._lastWheelEventTime||0);this._lastWheelEventTime=re,ge!==0&&ge%Oo===0?this._type="wheel":ge!==0&&Math.abs(ge)<4?this._type="trackpad":me>400?(this._type=null,this._lastValue=ge,this._timeout=setTimeout(this._onTimeout,40,$)):this._type||(this._type=Math.abs(me*ge)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ge+=this._lastValue)),$.shiftKey&&ge&&(ge=ge/4),this._type&&(this._lastWheelEvent=$,this._delta-=ge,this._active||this._start($)),$.preventDefault()}},ya.prototype._onTimeout=function($){this._type="wheel",this._delta-=this._lastValue,this._active||this._start($)},ya.prototype._start=function($){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ge=w.mousePos(this._el,$);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ge)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ya.prototype.renderFrame=function(){var $=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ge=this._map.transform;if(this._delta!==0){var re=this._type==="wheel"&&Math.abs(this._delta)>Oo?this._wheelZoomRate:this._defaultZoomRate,me=jo/(1+Math.exp(-Math.abs(this._delta*re)));this._delta<0&&me!==0&&(me=1/me);var Ne=typeof this._targetZoom=="number"?ge.zoomScale(this._targetZoom):ge.scale;this._targetZoom=Math.min(ge.maxZoom,Math.max(ge.minZoom,ge.scaleZoom(Ne*me))),this._type==="wheel"&&(this._startZoom=ge.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var $e=typeof this._targetZoom=="number"?this._targetZoom:ge.zoom,vt=this._startZoom,Pt=this._easing,Gt=!1,er;if(this._type==="wheel"&&vt&&Pt){var vr=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),hr=Pt(vr);er=n.number(vt,$e,hr),vr<1?this._frameId||(this._frameId=!0):Gt=!0}else er=$e,Gt=!0;return this._active=!0,Gt&&(this._active=!1,this._finishTimeout=setTimeout(function(){$._zooming=!1,$._handler._triggerRenderFrame(),delete $._targetZoom,delete $._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Gt,zoomDelta:er-ge.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ya.prototype._smoothOutEasing=function($){var ge=n.ease;if(this._prevEase){var re=this._prevEase,me=(n.browser.now()-re.start)/re.duration,Ne=re.easing(me+.01)-re.easing(me),$e=.27/Math.sqrt(Ne*Ne+1e-4)*.01,vt=Math.sqrt(.27*.27-$e*$e);ge=n.bezier($e,vt,.25,1)}return this._prevEase={start:n.browser.now(),duration:$,easing:ge},ge},ya.prototype.reset=function(){this._active=!1};var Ya=function($,ge){this._clickZoom=$,this._tapZoom=ge};Ya.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ya.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ya.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ya.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Io=function(){this.reset()};Io.prototype.reset=function(){this._active=!1},Io.prototype.dblclick=function($,ge){return $.preventDefault(),{cameraAnimation:function(re){re.easeTo({duration:300,zoom:re.getZoom()+($.shiftKey?-1:1),around:re.unproject(ge)},{originalEvent:$})}}},Io.prototype.enable=function(){this._enabled=!0},Io.prototype.disable=function(){this._enabled=!1,this.reset()},Io.prototype.isEnabled=function(){return this._enabled},Io.prototype.isActive=function(){return this._active};var Ps=function(){this._tap=new Fr({numTouches:1,numTaps:1}),this.reset()};Ps.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ps.prototype.touchstart=function($,ge,re){this._swipePoint||(this._tapTime&&$.timeStamp-this._tapTime>Ir&&this.reset(),this._tapTime?re.length>0&&(this._swipePoint=ge[0],this._swipeTouch=re[0].identifier):this._tap.touchstart($,ge,re))},Ps.prototype.touchmove=function($,ge,re){if(!this._tapTime)this._tap.touchmove($,ge,re);else if(this._swipePoint){if(re[0].identifier!==this._swipeTouch)return;var me=ge[0],Ne=me.y-this._swipePoint.y;return this._swipePoint=me,$.preventDefault(),this._active=!0,{zoomDelta:Ne/128}}},Ps.prototype.touchend=function($,ge,re){if(this._tapTime)this._swipePoint&&re.length===0&&this.reset();else{var me=this._tap.touchend($,ge,re);me&&(this._tapTime=$.timeStamp)}},Ps.prototype.touchcancel=function(){this.reset()},Ps.prototype.enable=function(){this._enabled=!0},Ps.prototype.disable=function(){this._enabled=!1,this.reset()},Ps.prototype.isEnabled=function(){return this._enabled},Ps.prototype.isActive=function(){return this._active};var Ko=function($,ge,re){this._el=$,this._mousePan=ge,this._touchPan=re};Ko.prototype.enable=function($){this._inertiaOptions=$||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Ko.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Ko.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Ko.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var zi=function($,ge,re){this._pitchWithRotate=$.pitchWithRotate,this._mouseRotate=ge,this._mousePitch=re};zi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},zi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},zi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},zi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Uo=function($,ge,re,me){this._el=$,this._touchZoom=ge,this._touchRotate=re,this._tapDragZoom=me,this._rotationDisabled=!1,this._enabled=!0};Uo.prototype.enable=function($){this._touchZoom.enable($),this._rotationDisabled||this._touchRotate.enable($),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Uo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Uo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Uo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Uo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Uo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var zo=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},Al=function(ve){function $(){ve.apply(this,arguments)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$}(n.Event);function Ml(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var ho=function($,ge){this._map=$,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ce($),this._bearingSnap=ge.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ge),n.bindAll(["handleEvent","handleWindowEvent"],this);var re=this._el;this._listeners=[[re,"touchstart",{passive:!0}],[re,"touchmove",{passive:!1}],[re,"touchend",void 0],[re,"touchcancel",void 0],[re,"mousedown",void 0],[re,"mousemove",void 0],[re,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[re,"mouseover",void 0],[re,"mouseout",void 0],[re,"dblclick",void 0],[re,"click",void 0],[re,"keydown",{capture:!1}],[re,"keyup",void 0],[re,"wheel",{passive:!1}],[re,"contextmenu",void 0],[n.window,"blur",void 0]];for(var me=0,Ne=this._listeners;me<Ne.length;me+=1){var $e=Ne[me],vt=$e[0],Pt=$e[1],Gt=$e[2];w.addEventListener(vt,Pt,vt===n.window.document?this.handleWindowEvent:this.handleEvent,Gt)}};ho.prototype.destroy=function(){for(var $=0,ge=this._listeners;$<ge.length;$+=1){var re=ge[$],me=re[0],Ne=re[1],$e=re[2];w.removeEventListener(me,Ne,me===n.window.document?this.handleWindowEvent:this.handleEvent,$e)}},ho.prototype._addDefaultHandlers=function($){var ge=this._map,re=ge.getCanvasContainer();this._add("mapEvent",new Dt(ge,$));var me=ge.boxZoom=new Yt(ge,$);this._add("boxZoom",me);var Ne=new Xr,$e=new Io;ge.doubleClickZoom=new Ya($e,Ne),this._add("tapZoom",Ne),this._add("clickZoom",$e);var vt=new Ps;this._add("tapDragZoom",vt);var Pt=ge.touchPitch=new wi;this._add("touchPitch",Pt);var Gt=new Ma($),er=new fa($);ge.dragRotate=new zi($,Gt,er),this._add("mouseRotate",Gt,["mousePitch"]),this._add("mousePitch",er,["mouseRotate"]);var vr=new va($),hr=new Aa($);ge.dragPan=new Ko(re,vr,hr),this._add("mousePan",vr),this._add("touchPan",hr,["touchZoom","touchRotate"]);var Ur=new ca,rn=new Si;ge.touchZoomRotate=new Uo(re,rn,Ur,vt),this._add("touchRotate",Ur,["touchPan","touchZoom"]),this._add("touchZoom",rn,["touchPan","touchRotate"]);var en=ge.scrollZoom=new ya(ge,this);this._add("scrollZoom",en,["mousePan"]);var Qr=ge.keyboard=new Ei;this._add("keyboard",Qr),this._add("blockableMapEvent",new Et(ge));for(var on=0,mn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];on<mn.length;on+=1){var Un=mn[on];$.interactive&&$[Un]&&ge[Un].enable($[Un])}},ho.prototype._add=function($,ge,re){this._handlers.push({handlerName:$,handler:ge,allowed:re}),this._handlersById[$]=ge},ho.prototype.stop=function($){if(!this._updatingCamera){for(var ge=0,re=this._handlers;ge<re.length;ge+=1){var me=re[ge],Ne=me.handler;Ne.reset()}this._inertia.clear(),this._fireEvents({},{},$),this._changes=[]}},ho.prototype.isActive=function(){for(var $=0,ge=this._handlers;$<ge.length;$+=1){var re=ge[$],me=re.handler;if(me.isActive())return!0}return!1},ho.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},ho.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},ho.prototype.isMoving=function(){return!!zo(this._eventsInProgress)||this.isZooming()},ho.prototype._blockedByActive=function($,ge,re){for(var me in $)if(me!==re&&(!ge||ge.indexOf(me)<0))return!0;return!1},ho.prototype.handleWindowEvent=function($){this.handleEvent($,$.type+"Window")},ho.prototype._getMapTouches=function($){for(var ge=[],re=0,me=$;re<me.length;re+=1){var Ne=me[re],$e=Ne.target;this._el.contains($e)&&ge.push(Ne)}return ge},ho.prototype.handleEvent=function($,ge){if($.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var re=$.type==="renderFrame"?void 0:$,me={needsRenderFrame:!1},Ne={},$e={},vt=$.touches?this._getMapTouches($.touches):void 0,Pt=vt?w.touchPos(this._el,vt):w.mousePos(this._el,$),Gt=0,er=this._handlers;Gt<er.length;Gt+=1){var vr=er[Gt],hr=vr.handlerName,Ur=vr.handler,rn=vr.allowed;if(Ur.isEnabled()){var en=void 0;this._blockedByActive($e,rn,hr)?Ur.reset():Ur[ge||$.type]&&(en=Ur[ge||$.type]($,Pt,vt),this.mergeHandlerResult(me,Ne,en,hr,re),en&&en.needsRenderFrame&&this._triggerRenderFrame()),(en||Ur.isActive())&&($e[hr]=Ur)}}var Qr={};for(var on in this._previousActiveHandlers)$e[on]||(Qr[on]=re);this._previousActiveHandlers=$e,(Object.keys(Qr).length||Ml(me))&&(this._changes.push([me,Ne,Qr]),this._triggerRenderFrame()),(Object.keys($e).length||Ml(me))&&this._map._stop(!0),this._updatingCamera=!1;var mn=me.cameraAnimation;mn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],mn(this._map))},ho.prototype.mergeHandlerResult=function($,ge,re,me,Ne){if(re){n.extend($,re);var $e={handlerName:me,originalEvent:re.originalEvent||Ne};re.zoomDelta!==void 0&&(ge.zoom=$e),re.panDelta!==void 0&&(ge.drag=$e),re.pitchDelta!==void 0&&(ge.pitch=$e),re.bearingDelta!==void 0&&(ge.rotate=$e)}},ho.prototype._applyChanges=function(){for(var $={},ge={},re={},me=0,Ne=this._changes;me<Ne.length;me+=1){var $e=Ne[me],vt=$e[0],Pt=$e[1],Gt=$e[2];vt.panDelta&&($.panDelta=($.panDelta||new n.Point(0,0))._add(vt.panDelta)),vt.zoomDelta&&($.zoomDelta=($.zoomDelta||0)+vt.zoomDelta),vt.bearingDelta&&($.bearingDelta=($.bearingDelta||0)+vt.bearingDelta),vt.pitchDelta&&($.pitchDelta=($.pitchDelta||0)+vt.pitchDelta),vt.around!==void 0&&($.around=vt.around),vt.pinchAround!==void 0&&($.pinchAround=vt.pinchAround),vt.noInertia&&($.noInertia=vt.noInertia),n.extend(ge,Pt),n.extend(re,Gt)}this._updateMapTransform($,ge,re),this._changes=[]},ho.prototype._updateMapTransform=function($,ge,re){var me=this._map,Ne=me.transform;if(!Ml($))return this._fireEvents(ge,re,!0);var $e=$.panDelta,vt=$.zoomDelta,Pt=$.bearingDelta,Gt=$.pitchDelta,er=$.around,vr=$.pinchAround;vr!==void 0&&(er=vr),me._stop(!0),er=er||me.transform.centerPoint;var hr=Ne.pointLocation($e?er.sub($e):er);Pt&&(Ne.bearing+=Pt),Gt&&(Ne.pitch+=Gt),vt&&(Ne.zoom+=vt),Ne.setLocationAtPoint(hr,er),this._map._update(),$.noInertia||this._inertia.record($),this._fireEvents(ge,re,!0)},ho.prototype._fireEvents=function($,ge,re){var me=this,Ne=zo(this._eventsInProgress),$e=zo($),vt={};for(var Pt in $){var Gt=$[Pt],er=Gt.originalEvent;this._eventsInProgress[Pt]||(vt[Pt+"start"]=er),this._eventsInProgress[Pt]=$[Pt]}!Ne&&$e&&this._fireEvent("movestart",$e.originalEvent);for(var vr in vt)this._fireEvent(vr,vt[vr]);$e&&this._fireEvent("move",$e.originalEvent);for(var hr in $){var Ur=$[hr],rn=Ur.originalEvent;this._fireEvent(hr,rn)}var en={},Qr;for(var on in this._eventsInProgress){var mn=this._eventsInProgress[on],Un=mn.handlerName,Yn=mn.originalEvent;this._handlersById[Un].isActive()||(delete this._eventsInProgress[on],Qr=ge[Un]||Yn,en[on+"end"]=Qr)}for(var ra in en)this._fireEvent(ra,en[ra]);var ia=zo(this._eventsInProgress);if(re&&(Ne||$e)&&!ia){this._updatingCamera=!0;var ta=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),sa=function(pa){return pa!==0&&-me._bearingSnap<pa&&pa<me._bearingSnap};ta?(sa(ta.bearing||this._map.getBearing())&&(ta.bearing=0),this._map.easeTo(ta,{originalEvent:Qr})):(this._map.fire(new n.Event("moveend",{originalEvent:Qr})),sa(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},ho.prototype._fireEvent=function($,ge){this._map.fire(new n.Event($,ge?{originalEvent:ge}:{}))},ho.prototype._requestFrame=function(){var $=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(ge){delete $._frameId,$.handleEvent(new Al("renderFrame",{timeStamp:ge})),$._applyChanges()})},ho.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var hf=function(ve){function $(ge,re){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=ge,this._bearingSnap=re.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},$.prototype.setCenter=function(re,me){return this.jumpTo({center:re},me)},$.prototype.panBy=function(re,me,Ne){return re=n.Point.convert(re).mult(-1),this.panTo(this.transform.center,n.extend({offset:re},me),Ne)},$.prototype.panTo=function(re,me,Ne){return this.easeTo(n.extend({center:re},me),Ne)},$.prototype.getZoom=function(){return this.transform.zoom},$.prototype.setZoom=function(re,me){return this.jumpTo({zoom:re},me),this},$.prototype.zoomTo=function(re,me,Ne){return this.easeTo(n.extend({zoom:re},me),Ne)},$.prototype.zoomIn=function(re,me){return this.zoomTo(this.getZoom()+1,re,me),this},$.prototype.zoomOut=function(re,me){return this.zoomTo(this.getZoom()-1,re,me),this},$.prototype.getBearing=function(){return this.transform.bearing},$.prototype.setBearing=function(re,me){return this.jumpTo({bearing:re},me),this},$.prototype.getPadding=function(){return this.transform.padding},$.prototype.setPadding=function(re,me){return this.jumpTo({padding:re},me),this},$.prototype.rotateTo=function(re,me,Ne){return this.easeTo(n.extend({bearing:re},me),Ne)},$.prototype.resetNorth=function(re,me){return this.rotateTo(0,n.extend({duration:1e3},re),me),this},$.prototype.resetNorthPitch=function(re,me){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},re),me),this},$.prototype.snapToNorth=function(re,me){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(re,me):this},$.prototype.getPitch=function(){return this.transform.pitch},$.prototype.setPitch=function(re,me){return this.jumpTo({pitch:re},me),this},$.prototype.cameraForBounds=function(re,me){re=n.LngLatBounds.convert(re);var Ne=me&&me.bearing||0;return this._cameraForBoxAndBearing(re.getNorthWest(),re.getSouthEast(),Ne,me)},$.prototype._cameraForBoxAndBearing=function(re,me,Ne,$e){var vt={top:0,bottom:0,right:0,left:0};if($e=n.extend({padding:vt,offset:[0,0],maxZoom:this.transform.maxZoom},$e),typeof $e.padding=="number"){var Pt=$e.padding;$e.padding={top:Pt,bottom:Pt,right:Pt,left:Pt}}$e.padding=n.extend(vt,$e.padding);var Gt=this.transform,er=Gt.padding,vr=Gt.project(n.LngLat.convert(re)),hr=Gt.project(n.LngLat.convert(me)),Ur=vr.rotate(-Ne*Math.PI/180),rn=hr.rotate(-Ne*Math.PI/180),en=new n.Point(Math.max(Ur.x,rn.x),Math.max(Ur.y,rn.y)),Qr=new n.Point(Math.min(Ur.x,rn.x),Math.min(Ur.y,rn.y)),on=en.sub(Qr),mn=(Gt.width-(er.left+er.right+$e.padding.left+$e.padding.right))/on.x,Un=(Gt.height-(er.top+er.bottom+$e.padding.top+$e.padding.bottom))/on.y;if(Un<0||mn<0){n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Yn=Math.min(Gt.scaleZoom(Gt.scale*Math.min(mn,Un)),$e.maxZoom),ra=typeof $e.offset.x=="number"?new n.Point($e.offset.x,$e.offset.y):n.Point.convert($e.offset),ia=($e.padding.left-$e.padding.right)/2,ta=($e.padding.top-$e.padding.bottom)/2,sa=new n.Point(ia,ta),pa=sa.rotate(Ne*Math.PI/180),wa=ra.add(pa),Oa=wa.mult(Gt.scale/Gt.zoomScale(Yn)),Pa=Gt.unproject(vr.add(hr).div(2).sub(Oa));return{center:Pa,zoom:Yn,bearing:Ne}},$.prototype.fitBounds=function(re,me,Ne){return this._fitInternal(this.cameraForBounds(re,me),me,Ne)},$.prototype.fitScreenCoordinates=function(re,me,Ne,$e,vt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(re)),this.transform.pointLocation(n.Point.convert(me)),Ne,$e),$e,vt)},$.prototype._fitInternal=function(re,me,Ne){return re?(me=n.extend(re,me),delete me.padding,me.linear?this.easeTo(me,Ne):this.flyTo(me,Ne)):this},$.prototype.jumpTo=function(re,me){this.stop();var Ne=this.transform,$e=!1,vt=!1,Pt=!1;return"zoom"in re&&Ne.zoom!==+re.zoom&&($e=!0,Ne.zoom=+re.zoom),re.center!==void 0&&(Ne.center=n.LngLat.convert(re.center)),"bearing"in re&&Ne.bearing!==+re.bearing&&(vt=!0,Ne.bearing=+re.bearing),"pitch"in re&&Ne.pitch!==+re.pitch&&(Pt=!0,Ne.pitch=+re.pitch),re.padding!=null&&!Ne.isPaddingEqual(re.padding)&&(Ne.padding=re.padding),this.fire(new n.Event("movestart",me)).fire(new n.Event("move",me)),$e&&this.fire(new n.Event("zoomstart",me)).fire(new n.Event("zoom",me)).fire(new n.Event("zoomend",me)),vt&&this.fire(new n.Event("rotatestart",me)).fire(new n.Event("rotate",me)).fire(new n.Event("rotateend",me)),Pt&&this.fire(new n.Event("pitchstart",me)).fire(new n.Event("pitch",me)).fire(new n.Event("pitchend",me)),this.fire(new n.Event("moveend",me))},$.prototype.easeTo=function(re,me){var Ne=this;this._stop(!1,re.easeId),re=n.extend({offset:[0,0],duration:500,easing:n.ease},re),(re.animate===!1||!re.essential&&n.browser.prefersReducedMotion)&&(re.duration=0);var $e=this.transform,vt=this.getZoom(),Pt=this.getBearing(),Gt=this.getPitch(),er=this.getPadding(),vr="zoom"in re?+re.zoom:vt,hr="bearing"in re?this._normalizeBearing(re.bearing,Pt):Pt,Ur="pitch"in re?+re.pitch:Gt,rn="padding"in re?re.padding:$e.padding,en=n.Point.convert(re.offset),Qr=$e.centerPoint.add(en),on=$e.pointLocation(Qr),mn=n.LngLat.convert(re.center||on);this._normalizeCenter(mn);var Un=$e.project(on),Yn=$e.project(mn).sub(Un),ra=$e.zoomScale(vr-vt),ia,ta;re.around&&(ia=n.LngLat.convert(re.around),ta=$e.locationPoint(ia));var sa={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||vr!==vt,this._rotating=this._rotating||Pt!==hr,this._pitching=this._pitching||Ur!==Gt,this._padding=!$e.isPaddingEqual(rn),this._easeId=re.easeId,this._prepareEase(me,re.noMoveStart,sa),this._ease(function(pa){if(Ne._zooming&&($e.zoom=n.number(vt,vr,pa)),Ne._rotating&&($e.bearing=n.number(Pt,hr,pa)),Ne._pitching&&($e.pitch=n.number(Gt,Ur,pa)),Ne._padding&&($e.interpolatePadding(er,rn,pa),Qr=$e.centerPoint.add(en)),ia)$e.setLocationAtPoint(ia,ta);else{var wa=$e.zoomScale($e.zoom-vt),Oa=vr>vt?Math.min(2,ra):Math.max(.5,ra),Pa=Math.pow(Oa,1-pa),ri=$e.unproject(Un.add(Yn.mult(pa*Pa)).mult(wa));$e.setLocationAtPoint($e.renderWorldCopies?ri.wrap():ri,Qr)}Ne._fireMoveEvents(me)},function(pa){Ne._afterEase(me,pa)},re),this},$.prototype._prepareEase=function(re,me,Ne){Ne===void 0&&(Ne={}),this._moving=!0,!me&&!Ne.moving&&this.fire(new n.Event("movestart",re)),this._zooming&&!Ne.zooming&&this.fire(new n.Event("zoomstart",re)),this._rotating&&!Ne.rotating&&this.fire(new n.Event("rotatestart",re)),this._pitching&&!Ne.pitching&&this.fire(new n.Event("pitchstart",re))},$.prototype._fireMoveEvents=function(re){this.fire(new n.Event("move",re)),this._zooming&&this.fire(new n.Event("zoom",re)),this._rotating&&this.fire(new n.Event("rotate",re)),this._pitching&&this.fire(new n.Event("pitch",re))},$.prototype._afterEase=function(re,me){if(!(this._easeId&&me&&this._easeId===me)){delete this._easeId;var Ne=this._zooming,$e=this._rotating,vt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Ne&&this.fire(new n.Event("zoomend",re)),$e&&this.fire(new n.Event("rotateend",re)),vt&&this.fire(new n.Event("pitchend",re)),this.fire(new n.Event("moveend",re))}},$.prototype.flyTo=function(re,me){var Ne=this;if(!re.essential&&n.browser.prefersReducedMotion){var $e=n.pick(re,["center","zoom","bearing","pitch","around"]);return this.jumpTo($e,me)}this.stop(),re=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},re);var vt=this.transform,Pt=this.getZoom(),Gt=this.getBearing(),er=this.getPitch(),vr=this.getPadding(),hr="zoom"in re?n.clamp(+re.zoom,vt.minZoom,vt.maxZoom):Pt,Ur="bearing"in re?this._normalizeBearing(re.bearing,Gt):Gt,rn="pitch"in re?+re.pitch:er,en="padding"in re?re.padding:vt.padding,Qr=vt.zoomScale(hr-Pt),on=n.Point.convert(re.offset),mn=vt.centerPoint.add(on),Un=vt.pointLocation(mn),Yn=n.LngLat.convert(re.center||Un);this._normalizeCenter(Yn);var ra=vt.project(Un),ia=vt.project(Yn).sub(ra),ta=re.curve,sa=Math.max(vt.width,vt.height),pa=sa/Qr,wa=ia.mag();if("minZoom"in re){var Oa=n.clamp(Math.min(re.minZoom,Pt,hr),vt.minZoom,vt.maxZoom),Pa=sa/vt.zoomScale(Oa-Pt);ta=Math.sqrt(Pa/wa*2)}var ri=ta*ta;function Ci(ui){var _i=(pa*pa-sa*sa+(ui?-1:1)*ri*ri*wa*wa)/(2*(ui?pa:sa)*ri*wa);return Math.log(Math.sqrt(_i*_i+1)-_i)}function gi(ui){return(Math.exp(ui)-Math.exp(-ui))/2}function Ua(ui){return(Math.exp(ui)+Math.exp(-ui))/2}function mi(ui){return gi(ui)/Ua(ui)}var si=Ci(0),Fi=function(ui){return Ua(si)/Ua(si+ta*ui)},Li=function(ui){return sa*((Ua(si)*mi(si+ta*ui)-gi(si))/ri)/wa},oo=(Ci(1)-si)/ta;if(Math.abs(wa)<1e-6||!isFinite(oo)){if(Math.abs(sa-pa)<1e-6)return this.easeTo(re,me);var xi=pa<sa?-1:1;oo=Math.abs(Math.log(pa/sa))/ta,Li=function(){return 0},Fi=function(ui){return Math.exp(xi*ta*ui)}}if("duration"in re)re.duration=+re.duration;else{var Qi="screenSpeed"in re?+re.screenSpeed/ta:+re.speed;re.duration=1e3*oo/Qi}return re.maxDuration&&re.duration>re.maxDuration&&(re.duration=0),this._zooming=!0,this._rotating=Gt!==Ur,this._pitching=rn!==er,this._padding=!vt.isPaddingEqual(en),this._prepareEase(me,!1),this._ease(function(ui){var _i=ui*oo,Co=1/Fi(_i);vt.zoom=ui===1?hr:Pt+vt.scaleZoom(Co),Ne._rotating&&(vt.bearing=n.number(Gt,Ur,ui)),Ne._pitching&&(vt.pitch=n.number(er,rn,ui)),Ne._padding&&(vt.interpolatePadding(vr,en,ui),mn=vt.centerPoint.add(on));var rs=ui===1?Yn:vt.unproject(ra.add(ia.mult(Li(_i))).mult(Co));vt.setLocationAtPoint(vt.renderWorldCopies?rs.wrap():rs,mn),Ne._fireMoveEvents(me)},function(){return Ne._afterEase(me)},re),this},$.prototype.isEasing=function(){return!!this._easeFrameId},$.prototype.stop=function(){return this._stop()},$.prototype._stop=function(re,me){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Ne=this._onEaseEnd;delete this._onEaseEnd,Ne.call(this,me)}if(!re){var $e=this.handlers;$e&&$e.stop(!1)}return this},$.prototype._ease=function(re,me,Ne){Ne.animate===!1||Ne.duration===0?(re(1),me()):(this._easeStart=n.browser.now(),this._easeOptions=Ne,this._onEaseFrame=re,this._onEaseEnd=me,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},$.prototype._renderFrameCallback=function(){var re=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(re)),re<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},$.prototype._normalizeBearing=function(re,me){re=n.wrap(re,-180,180);var Ne=Math.abs(re-me);return Math.abs(re-360-me)<Ne&&(re-=360),Math.abs(re+360-me)<Ne&&(re+=360),re},$.prototype._normalizeCenter=function(re){var me=this.transform;if(!(!me.renderWorldCopies||me.lngRange)){var Ne=re.lng-me.center.lng;re.lng+=Ne>180?-360:Ne<-180?360:0}},$}(n.Evented),Ti=function($){$===void 0&&($={}),this.options=$,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ti.prototype.getDefaultPosition=function(){return"bottom-right"},Ti.prototype.onAdd=function($){var ge=this.options&&this.options.compact;return this._map=$,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=w.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=w.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ge&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ge===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ti.prototype.onRemove=function(){w.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ti.prototype._setElementTitle=function($,ge){var re=this._map._getUIString("AttributionControl."+ge);$.title=re,$.setAttribute("aria-label",re)},Ti.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ti.prototype._updateEditLink=function(){var $=this._editLink;$||($=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ge=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if($){var re=ge.reduce(function(me,Ne,$e){return Ne.value&&(me+=Ne.key+"="+Ne.value+($e<ge.length-1?"&":"")),me},"?");$.href=n.config.FEEDBACK_URL+"/"+re+(this._map._hash?this._map._hash.getHashString(!0):""),$.rel="noopener nofollow",this._setElementTitle($,"MapFeedback")}},Ti.prototype._updateData=function($){$&&($.sourceDataType==="metadata"||$.sourceDataType==="visibility"||$.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Ti.prototype._updateAttributions=function(){if(this._map.style){var $=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?$=$.concat(this.options.customAttribution.map(function(Pt){return typeof Pt!="string"?"":Pt})):typeof this.options.customAttribution=="string"&&$.push(this.options.customAttribution)),this._map.style.stylesheet){var ge=this._map.style.stylesheet;this.styleOwner=ge.owner,this.styleId=ge.id}var re=this._map.style.sourceCaches;for(var me in re){var Ne=re[me];if(Ne.used){var $e=Ne.getSource();$e.attribution&&$.indexOf($e.attribution)<0&&$.push($e.attribution)}}$.sort(function(Pt,Gt){return Pt.length-Gt.length}),$=$.filter(function(Pt,Gt){for(var er=Gt+1;er<$.length;er++)if($[er].indexOf(Pt)>=0)return!1;return!0});var vt=$.join(" | ");vt!==this._attribHTML&&(this._attribHTML=vt,$.length?(this._innerContainer.innerHTML=vt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ti.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var vo=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};vo.prototype.onAdd=function($){this._map=$,this._container=w.create("div","mapboxgl-ctrl");var ge=w.create("a","mapboxgl-ctrl-logo");return ge.target="_blank",ge.rel="noopener nofollow",ge.href="https://www.mapbox.com/",ge.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ge.setAttribute("rel","noopener nofollow"),this._container.appendChild(ge),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},vo.prototype.onRemove=function(){w.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},vo.prototype.getDefaultPosition=function(){return"bottom-left"},vo.prototype._updateLogo=function($){(!$||$.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},vo.prototype._logoRequired=function(){if(this._map.style){var $=this._map.style.sourceCaches;for(var ge in $){var re=$[ge].getSource();if(re.mapbox_logo)return!0}return!1}},vo.prototype._updateCompact=function(){var $=this._container.children;if($.length){var ge=$[0];this._map.getCanvasContainer().offsetWidth<250?ge.classList.add("mapboxgl-compact"):ge.classList.remove("mapboxgl-compact")}};var Rs=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Rs.prototype.add=function($){var ge=++this._id,re=this._queue;return re.push({callback:$,id:ge,cancelled:!1}),ge},Rs.prototype.remove=function($){for(var ge=this._currentlyRunning,re=ge?this._queue.concat(ge):this._queue,me=0,Ne=re;me<Ne.length;me+=1){var $e=Ne[me];if($e.id===$){$e.cancelled=!0;return}}},Rs.prototype.run=function($){$===void 0&&($=0);var ge=this._currentlyRunning=this._queue;this._queue=[];for(var re=0,me=ge;re<me.length;re+=1){var Ne=me[re];if(!Ne.cancelled&&(Ne.callback($),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Rs.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Mu={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Yc=n.window.HTMLImageElement,vd=n.window.HTMLElement,Su=n.window.ImageBitmap,Eu=-2,Xc=22,$s=0,gc=60,vv={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Eu,maxZoom:Xc,minPitch:$s,maxPitch:gc,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},yc=function(ve){function $(re){var me=this;if(re=n.extend({},vv,re),re.minZoom!=null&&re.maxZoom!=null&&re.minZoom>re.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(re.minPitch!=null&&re.maxPitch!=null&&re.minPitch>re.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(re.minPitch!=null&&re.minPitch<$s)throw new Error("minPitch must be greater than or equal to "+$s);if(re.maxPitch!=null&&re.maxPitch>gc)throw new Error("maxPitch must be less than or equal to "+gc);var Ne=new Wn(re.minZoom,re.maxZoom,re.minPitch,re.maxPitch,re.renderWorldCopies);if(ve.call(this,Ne,re),this._interactive=re.interactive,this._maxTileCacheSize=re.maxTileCacheSize,this._failIfMajorPerformanceCaveat=re.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=re.preserveDrawingBuffer,this._antialias=re.antialias,this._trackResize=re.trackResize,this._bearingSnap=re.bearingSnap,this._refreshExpiredTiles=re.refreshExpiredTiles,this._fadeDuration=re.fadeDuration,this._crossSourceCollisions=re.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=re.collectResourceTiming,this._renderTaskQueue=new Rs,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},Mu,re.locale),this._clickTolerance=re.clickTolerance,this._requestManager=new n.RequestManager(re.transformRequest,re.accessToken),typeof re.container=="string"){if(this._container=n.window.document.getElementById(re.container),!this._container)throw new Error("Container '"+re.container+"' not found.")}else if(re.container instanceof vd)this._container=re.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(re.maxBounds&&this.setMaxBounds(re.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return me._update(!1)}),this.on("moveend",function(){return me._update(!1)}),this.on("zoom",function(){return me._update(!0)}),typeof n.window<"u"&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new ho(this,re);var $e=typeof re.hash=="string"&&re.hash||void 0;this._hash=re.hash&&new Za($e).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:re.center,zoom:re.zoom,bearing:re.bearing,pitch:re.pitch}),re.bounds&&(this.resize(),this.fitBounds(re.bounds,n.extend({},re.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=re.localIdeographFontFamily,re.style&&this.setStyle(re.style,{localIdeographFontFamily:re.localIdeographFontFamily}),re.attributionControl&&this.addControl(new Ti({customAttribution:re.customAttribution})),this.addControl(new vo,re.logoPosition),this.on("style.load",function(){me.transform.unmodified&&me.jumpTo(me.style.stylesheet)}),this.on("data",function(vt){me._update(vt.dataType==="style"),me.fire(new n.Event(vt.dataType+"data",vt))}),this.on("dataloading",function(vt){me.fire(new n.Event(vt.dataType+"dataloading",vt))})}ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$;var ge={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return $.prototype._getMapId=function(){return this._mapId},$.prototype.addControl=function(me,Ne){if(Ne===void 0&&(me.getDefaultPosition?Ne=me.getDefaultPosition():Ne="top-right"),!me||!me.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var $e=me.onAdd(this);this._controls.push(me);var vt=this._controlPositions[Ne];return Ne.indexOf("bottom")!==-1?vt.insertBefore($e,vt.firstChild):vt.appendChild($e),this},$.prototype.removeControl=function(me){if(!me||!me.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Ne=this._controls.indexOf(me);return Ne>-1&&this._controls.splice(Ne,1),me.onRemove(this),this},$.prototype.hasControl=function(me){return this._controls.indexOf(me)>-1},$.prototype.resize=function(me){var Ne=this._containerDimensions(),$e=Ne[0],vt=Ne[1];this._resizeCanvas($e,vt),this.transform.resize($e,vt),this.painter.resize($e,vt);var Pt=!this._moving;return Pt&&(this.stop(),this.fire(new n.Event("movestart",me)).fire(new n.Event("move",me))),this.fire(new n.Event("resize",me)),Pt&&this.fire(new n.Event("moveend",me)),this},$.prototype.getBounds=function(){return this.transform.getBounds()},$.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},$.prototype.setMaxBounds=function(me){return this.transform.setMaxBounds(n.LngLatBounds.convert(me)),this._update()},$.prototype.setMinZoom=function(me){if(me=me??Eu,me>=Eu&&me<=this.transform.maxZoom)return this.transform.minZoom=me,this._update(),this.getZoom()<me&&this.setZoom(me),this;throw new Error("minZoom must be between "+Eu+" and the current maxZoom, inclusive")},$.prototype.getMinZoom=function(){return this.transform.minZoom},$.prototype.setMaxZoom=function(me){if(me=me??Xc,me>=this.transform.minZoom)return this.transform.maxZoom=me,this._update(),this.getZoom()>me&&this.setZoom(me),this;throw new Error("maxZoom must be greater than the current minZoom")},$.prototype.getMaxZoom=function(){return this.transform.maxZoom},$.prototype.setMinPitch=function(me){if(me=me??$s,me<$s)throw new Error("minPitch must be greater than or equal to "+$s);if(me>=$s&&me<=this.transform.maxPitch)return this.transform.minPitch=me,this._update(),this.getPitch()<me&&this.setPitch(me),this;throw new Error("minPitch must be between "+$s+" and the current maxPitch, inclusive")},$.prototype.getMinPitch=function(){return this.transform.minPitch},$.prototype.setMaxPitch=function(me){if(me=me??gc,me>gc)throw new Error("maxPitch must be less than or equal to "+gc);if(me>=this.transform.minPitch)return this.transform.maxPitch=me,this._update(),this.getPitch()>me&&this.setPitch(me),this;throw new Error("maxPitch must be greater than the current minPitch")},$.prototype.getMaxPitch=function(){return this.transform.maxPitch},$.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},$.prototype.setRenderWorldCopies=function(me){return this.transform.renderWorldCopies=me,this._update()},$.prototype.project=function(me){return this.transform.locationPoint(n.LngLat.convert(me))},$.prototype.unproject=function(me){return this.transform.pointLocation(n.Point.convert(me))},$.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},$.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},$.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},$.prototype._createDelegatedListener=function(me,Ne,$e){var vt=this,Pt;if(me==="mouseenter"||me==="mouseover"){var Gt=!1,er=function(Qr){var on=vt.getLayer(Ne)?vt.queryRenderedFeatures(Qr.point,{layers:[Ne]}):[];on.length?Gt||(Gt=!0,$e.call(vt,new tt(me,vt,Qr.originalEvent,{features:on}))):Gt=!1},vr=function(){Gt=!1};return{layer:Ne,listener:$e,delegates:{mousemove:er,mouseout:vr}}}else if(me==="mouseleave"||me==="mouseout"){var hr=!1,Ur=function(Qr){var on=vt.getLayer(Ne)?vt.queryRenderedFeatures(Qr.point,{layers:[Ne]}):[];on.length?hr=!0:hr&&(hr=!1,$e.call(vt,new tt(me,vt,Qr.originalEvent)))},rn=function(Qr){hr&&(hr=!1,$e.call(vt,new tt(me,vt,Qr.originalEvent)))};return{layer:Ne,listener:$e,delegates:{mousemove:Ur,mouseout:rn}}}else{var en=function(Qr){var on=vt.getLayer(Ne)?vt.queryRenderedFeatures(Qr.point,{layers:[Ne]}):[];on.length&&(Qr.features=on,$e.call(vt,Qr),delete Qr.features)};return{layer:Ne,listener:$e,delegates:(Pt={},Pt[me]=en,Pt)}}},$.prototype.on=function(me,Ne,$e){if($e===void 0)return ve.prototype.on.call(this,me,Ne);var vt=this._createDelegatedListener(me,Ne,$e);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[me]=this._delegatedListeners[me]||[],this._delegatedListeners[me].push(vt);for(var Pt in vt.delegates)this.on(Pt,vt.delegates[Pt]);return this},$.prototype.once=function(me,Ne,$e){if($e===void 0)return ve.prototype.once.call(this,me,Ne);var vt=this._createDelegatedListener(me,Ne,$e);for(var Pt in vt.delegates)this.once(Pt,vt.delegates[Pt]);return this},$.prototype.off=function(me,Ne,$e){var vt=this;if($e===void 0)return ve.prototype.off.call(this,me,Ne);var Pt=function(Gt){for(var er=Gt[me],vr=0;vr<er.length;vr++){var hr=er[vr];if(hr.layer===Ne&&hr.listener===$e){for(var Ur in hr.delegates)vt.off(Ur,hr.delegates[Ur]);return er.splice(vr,1),vt}}};return this._delegatedListeners&&this._delegatedListeners[me]&&Pt(this._delegatedListeners),this},$.prototype.queryRenderedFeatures=function(me,Ne){if(!this.style)return[];Ne===void 0&&me!==void 0&&!(me instanceof n.Point)&&!Array.isArray(me)&&(Ne=me,me=void 0),Ne=Ne||{},me=me||[[0,0],[this.transform.width,this.transform.height]];var $e;if(me instanceof n.Point||typeof me[0]=="number")$e=[n.Point.convert(me)];else{var vt=n.Point.convert(me[0]),Pt=n.Point.convert(me[1]);$e=[vt,new n.Point(Pt.x,vt.y),Pt,new n.Point(vt.x,Pt.y),vt]}return this.style.queryRenderedFeatures($e,Ne,this.transform)},$.prototype.querySourceFeatures=function(me,Ne){return this.style.querySourceFeatures(me,Ne)},$.prototype.setStyle=function(me,Ne){return Ne=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Ne),Ne.diff!==!1&&Ne.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&me?(this._diffStyle(me,Ne),this):(this._localIdeographFontFamily=Ne.localIdeographFontFamily,this._updateStyle(me,Ne))},$.prototype._getUIString=function(me){var Ne=this._locale[me];if(Ne==null)throw new Error("Missing UI string '"+me+"'");return Ne},$.prototype._updateStyle=function(me,Ne){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),me)this.style=new zs(this,Ne||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof me=="string"?this.style.loadURL(me):this.style.loadJSON(me),this},$.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new zs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},$.prototype._diffStyle=function(me,Ne){var $e=this;if(typeof me=="string"){var vt=this._requestManager.normalizeStyleURL(me),Pt=this._requestManager.transformRequest(vt,n.ResourceType.Style);n.getJSON(Pt,function(Gt,er){Gt?$e.fire(new n.ErrorEvent(Gt)):er&&$e._updateDiff(er,Ne)})}else typeof me=="object"&&this._updateDiff(me,Ne)},$.prototype._updateDiff=function(me,Ne){try{this.style.setState(me)&&this._update(!0)}catch($e){n.warnOnce("Unable to perform style diff: "+($e.message||$e.error||$e)+".  Rebuilding the style from scratch."),this._updateStyle(me,Ne)}},$.prototype.getStyle=function(){if(this.style)return this.style.serialize()},$.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},$.prototype.addSource=function(me,Ne){return this._lazyInitEmptyStyle(),this.style.addSource(me,Ne),this._update(!0)},$.prototype.isSourceLoaded=function(me){var Ne=this.style&&this.style.sourceCaches[me];if(Ne===void 0){this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+me+"'")));return}return Ne.loaded()},$.prototype.areTilesLoaded=function(){var me=this.style&&this.style.sourceCaches;for(var Ne in me){var $e=me[Ne],vt=$e._tiles;for(var Pt in vt){var Gt=vt[Pt];if(!(Gt.state==="loaded"||Gt.state==="errored"))return!1}}return!0},$.prototype.addSourceType=function(me,Ne,$e){return this._lazyInitEmptyStyle(),this.style.addSourceType(me,Ne,$e)},$.prototype.removeSource=function(me){return this.style.removeSource(me),this._update(!0)},$.prototype.getSource=function(me){return this.style.getSource(me)},$.prototype.addImage=function(me,Ne,$e){$e===void 0&&($e={});var vt=$e.pixelRatio;vt===void 0&&(vt=1);var Pt=$e.sdf;Pt===void 0&&(Pt=!1);var Gt=$e.stretchX,er=$e.stretchY,vr=$e.content;this._lazyInitEmptyStyle();var hr=0;if(Ne instanceof Yc||Su&&Ne instanceof Su){var Ur=n.browser.getImageData(Ne),rn=Ur.width,en=Ur.height,Qr=Ur.data;this.style.addImage(me,{data:new n.RGBAImage({width:rn,height:en},Qr),pixelRatio:vt,stretchX:Gt,stretchY:er,content:vr,sdf:Pt,version:hr})}else{if(Ne.width===void 0||Ne.height===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var on=Ne.width,mn=Ne.height,Un=Ne.data,Yn=Ne;this.style.addImage(me,{data:new n.RGBAImage({width:on,height:mn},new Uint8Array(Un)),pixelRatio:vt,stretchX:Gt,stretchY:er,content:vr,sdf:Pt,version:hr,userImage:Yn}),Yn.onAdd&&Yn.onAdd(this,me)}},$.prototype.updateImage=function(me,Ne){var $e=this.style.getImage(me);if(!$e)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var vt=Ne instanceof Yc||Su&&Ne instanceof Su?n.browser.getImageData(Ne):Ne,Pt=vt.width,Gt=vt.height,er=vt.data;if(Pt===void 0||Gt===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Pt!==$e.data.width||Gt!==$e.data.height)return this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var vr=!(Ne instanceof Yc||Su&&Ne instanceof Su);$e.data.replace(er,vr),this.style.updateImage(me,$e)},$.prototype.hasImage=function(me){return me?!!this.style.getImage(me):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},$.prototype.removeImage=function(me){this.style.removeImage(me)},$.prototype.loadImage=function(me,Ne){n.getImage(this._requestManager.transformRequest(me,n.ResourceType.Image),Ne)},$.prototype.listImages=function(){return this.style.listImages()},$.prototype.addLayer=function(me,Ne){return this._lazyInitEmptyStyle(),this.style.addLayer(me,Ne),this._update(!0)},$.prototype.moveLayer=function(me,Ne){return this.style.moveLayer(me,Ne),this._update(!0)},$.prototype.removeLayer=function(me){return this.style.removeLayer(me),this._update(!0)},$.prototype.getLayer=function(me){return this.style.getLayer(me)},$.prototype.setLayerZoomRange=function(me,Ne,$e){return this.style.setLayerZoomRange(me,Ne,$e),this._update(!0)},$.prototype.setFilter=function(me,Ne,$e){return $e===void 0&&($e={}),this.style.setFilter(me,Ne,$e),this._update(!0)},$.prototype.getFilter=function(me){return this.style.getFilter(me)},$.prototype.setPaintProperty=function(me,Ne,$e,vt){return vt===void 0&&(vt={}),this.style.setPaintProperty(me,Ne,$e,vt),this._update(!0)},$.prototype.getPaintProperty=function(me,Ne){return this.style.getPaintProperty(me,Ne)},$.prototype.setLayoutProperty=function(me,Ne,$e,vt){return vt===void 0&&(vt={}),this.style.setLayoutProperty(me,Ne,$e,vt),this._update(!0)},$.prototype.getLayoutProperty=function(me,Ne){return this.style.getLayoutProperty(me,Ne)},$.prototype.setLight=function(me,Ne){return Ne===void 0&&(Ne={}),this._lazyInitEmptyStyle(),this.style.setLight(me,Ne),this._update(!0)},$.prototype.getLight=function(){return this.style.getLight()},$.prototype.setFeatureState=function(me,Ne){return this.style.setFeatureState(me,Ne),this._update()},$.prototype.removeFeatureState=function(me,Ne){return this.style.removeFeatureState(me,Ne),this._update()},$.prototype.getFeatureState=function(me){return this.style.getFeatureState(me)},$.prototype.getContainer=function(){return this._container},$.prototype.getCanvasContainer=function(){return this._canvasContainer},$.prototype.getCanvas=function(){return this._canvas},$.prototype._containerDimensions=function(){var me=0,Ne=0;return this._container&&(me=this._container.clientWidth||400,Ne=this._container.clientHeight||300),[me,Ne]},$.prototype._detectMissingCSS=function(){var me=n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");me!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},$.prototype._setupContainer=function(){var me=this._container;me.classList.add("mapboxgl-map");var Ne=this._missingCSSCanary=w.create("div","mapboxgl-canary",me);Ne.style.visibility="hidden",this._detectMissingCSS();var $e=this._canvasContainer=w.create("div","mapboxgl-canvas-container",me);this._interactive&&$e.classList.add("mapboxgl-interactive"),this._canvas=w.create("canvas","mapboxgl-canvas",$e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var vt=this._containerDimensions();this._resizeCanvas(vt[0],vt[1]);var Pt=this._controlContainer=w.create("div","mapboxgl-control-container",me),Gt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(er){Gt[er]=w.create("div","mapboxgl-ctrl-"+er,Pt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},$.prototype._resizeCanvas=function(me,Ne){var $e=n.browser.devicePixelRatio||1;this._canvas.width=$e*me,this._canvas.height=$e*Ne,this._canvas.style.width=me+"px",this._canvas.style.height=Ne+"px"},$.prototype._setupPainter=function(){var me=n.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Ne=this._canvas.getContext("webgl",me)||this._canvas.getContext("experimental-webgl",me);if(!Ne){this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Zr(Ne,this.transform),n.webpSupported.testSupport(Ne)},$.prototype._contextLost=function(me){me.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:me}))},$.prototype._contextRestored=function(me){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:me}))},$.prototype._onMapScroll=function(me){if(me.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},$.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},$.prototype._update=function(me){return this.style?(this._styleDirty=this._styleDirty||me,this._sourcesDirty=!0,this.triggerRepaint(),this):this},$.prototype._requestRenderFrame=function(me){return this._update(),this._renderTaskQueue.add(me)},$.prototype._cancelRenderFrame=function(me){this._renderTaskQueue.remove(me)},$.prototype._render=function(me){var Ne=this,$e,vt=0,Pt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&($e=Pt.createQueryEXT(),Pt.beginQueryEXT(Pt.TIME_ELAPSED_EXT,$e),vt=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(me),!this._removed){var Gt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var er=this.transform.zoom,vr=n.browser.now();this.style.zoomHistory.update(er,vr);var hr=new n.EvaluationParameters(er,{now:vr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ur=hr.crossFadingFactor();(Ur!==1||Ur!==this._crossFadingFactor)&&(Gt=!0,this._crossFadingFactor=Ur),this.style.update(hr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||Gt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var rn=n.browser.now()-vt;Pt.endQueryEXT(Pt.TIME_ELAPSED_EXT,$e),setTimeout(function(){var on=Pt.getQueryObjectEXT($e,Pt.QUERY_RESULT_EXT)/1e6;Pt.deleteQueryEXT($e),Ne.fire(new n.Event("gpu-timing-frame",{cpuTime:rn,gpuTime:on}))},50)}if(this.listens("gpu-timing-layer")){var en=this.painter.collectGpuTimers();setTimeout(function(){var on=Ne.painter.queryGpuTimers(en);Ne.fire(new n.Event("gpu-timing-layer",{layerTimes:on}))},50)}var Qr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Qr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new n.Event("idle")),this._loaded&&!this._fullyLoaded&&!Qr&&(this._fullyLoaded=!0),this}},$.prototype.remove=function(){this._hash&&this._hash.remove();for(var me=0,Ne=this._controls;me<Ne.length;me+=1){var $e=Ne[me];$e.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof n.window<"u"&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var vt=this.painter.context.gl.getExtension("WEBGL_lose_context");vt&&vt.loseContext&&vt.loseContext(),Gf(this._canvasContainer),Gf(this._controlContainer),Gf(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},$.prototype.triggerRepaint=function(){var me=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(Ne){me._frame=null,me._render(Ne)}))},$.prototype._onWindowOnline=function(){this._update()},$.prototype._onWindowResize=function(me){this._trackResize&&this.resize({originalEvent:me})._update()},ge.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ge.showTileBoundaries.set=function(re){this._showTileBoundaries!==re&&(this._showTileBoundaries=re,this._update())},ge.showPadding.get=function(){return!!this._showPadding},ge.showPadding.set=function(re){this._showPadding!==re&&(this._showPadding=re,this._update())},ge.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ge.showCollisionBoxes.set=function(re){this._showCollisionBoxes!==re&&(this._showCollisionBoxes=re,re?this.style._generateCollisionBoxes():this._update())},ge.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ge.showOverdrawInspector.set=function(re){this._showOverdrawInspector!==re&&(this._showOverdrawInspector=re,this._update())},ge.repaint.get=function(){return!!this._repaint},ge.repaint.set=function(re){this._repaint!==re&&(this._repaint=re,this.triggerRepaint())},ge.vertices.get=function(){return!!this._vertices},ge.vertices.set=function(re){this._vertices=re,this._update()},$.prototype._setCacheLimits=function(me,Ne){n.setCacheLimits(me,Ne)},ge.version.get=function(){return n.version},Object.defineProperties($.prototype,ge),$}(hf);function Gf(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var dv={showCompass:!0,showZoom:!0,visualizePitch:!1},vf=function($){var ge=this;this.options=n.extend({},dv,$),this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(re){return re.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(re){return ge._map.zoomIn({},{originalEvent:re})}),w.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(re){return ge._map.zoomOut({},{originalEvent:re})}),w.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(re){ge.options.visualizePitch?ge._map.resetNorthPitch({},{originalEvent:re}):ge._map.resetNorth({},{originalEvent:re})}),this._compassIcon=w.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};vf.prototype._updateZoomButtons=function(){var $=this._map.getZoom(),ge=$===this._map.getMaxZoom(),re=$===this._map.getMinZoom();this._zoomInButton.disabled=ge,this._zoomOutButton.disabled=re,this._zoomInButton.setAttribute("aria-disabled",ge.toString()),this._zoomOutButton.setAttribute("aria-disabled",re.toString())},vf.prototype._rotateCompassArrow=function(){var $=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=$},vf.prototype.onAdd=function($){return this._map=$,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new sl(this._map,this._compass,this.options.visualizePitch)),this._container},vf.prototype.onRemove=function(){w.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},vf.prototype._createButton=function($,ge){var re=w.create("button",$,this._container);return re.type="button",re.addEventListener("click",ge),re},vf.prototype._setButtonTitle=function($,ge){var re=this._map._getUIString("NavigationControl."+ge);$.title=re,$.setAttribute("aria-label",re)};var sl=function($,ge,re){re===void 0&&(re=!1),this._clickTolerance=10,this.element=ge,this.mouseRotate=new Ma({clickTolerance:$.dragRotate._mouseRotate._clickTolerance}),this.map=$,re&&(this.mousePitch=new fa({clickTolerance:$.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),w.addEventListener(ge,"mousedown",this.mousedown),w.addEventListener(ge,"touchstart",this.touchstart,{passive:!1}),w.addEventListener(ge,"touchmove",this.touchmove),w.addEventListener(ge,"touchend",this.touchend),w.addEventListener(ge,"touchcancel",this.reset)};sl.prototype.down=function($,ge){this.mouseRotate.mousedown($,ge),this.mousePitch&&this.mousePitch.mousedown($,ge),w.disableDrag()},sl.prototype.move=function($,ge){var re=this.map,me=this.mouseRotate.mousemoveWindow($,ge);if(me&&me.bearingDelta&&re.setBearing(re.getBearing()+me.bearingDelta),this.mousePitch){var Ne=this.mousePitch.mousemoveWindow($,ge);Ne&&Ne.pitchDelta&&re.setPitch(re.getPitch()+Ne.pitchDelta)}},sl.prototype.off=function(){var $=this.element;w.removeEventListener($,"mousedown",this.mousedown),w.removeEventListener($,"touchstart",this.touchstart,{passive:!1}),w.removeEventListener($,"touchmove",this.touchmove),w.removeEventListener($,"touchend",this.touchend),w.removeEventListener($,"touchcancel",this.reset),this.offTemp()},sl.prototype.offTemp=function(){w.enableDrag(),w.removeEventListener(n.window,"mousemove",this.mousemove),w.removeEventListener(n.window,"mouseup",this.mouseup)},sl.prototype.mousedown=function($){this.down(n.extend({},$,{ctrlKey:!0,preventDefault:function(){return $.preventDefault()}}),w.mousePos(this.element,$)),w.addEventListener(n.window,"mousemove",this.mousemove),w.addEventListener(n.window,"mouseup",this.mouseup)},sl.prototype.mousemove=function($){this.move($,w.mousePos(this.element,$))},sl.prototype.mouseup=function($){this.mouseRotate.mouseupWindow($),this.mousePitch&&this.mousePitch.mouseupWindow($),this.offTemp()},sl.prototype.touchstart=function($){$.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=w.touchPos(this.element,$.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return $.preventDefault()}},this._startPos))},sl.prototype.touchmove=function($){$.targetTouches.length!==1?this.reset():(this._lastPos=w.touchPos(this.element,$.targetTouches)[0],this.move({preventDefault:function(){return $.preventDefault()}},this._lastPos))},sl.prototype.touchend=function($){$.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},sl.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function iu(ve,$,ge){if(ve=new n.LngLat(ve.lng,ve.lat),$){var re=new n.LngLat(ve.lng-360,ve.lat),me=new n.LngLat(ve.lng+360,ve.lat),Ne=ge.locationPoint(ve).distSqr($);ge.locationPoint(re).distSqr($)<Ne?ve=re:ge.locationPoint(me).distSqr($)<Ne&&(ve=me)}for(;Math.abs(ve.lng-ge.center.lng)>180;){var $e=ge.locationPoint(ve);if($e.x>=0&&$e.y>=0&&$e.x<=ge.width&&$e.y<=ge.height)break;ve.lng>ge.center.lng?ve.lng-=360:ve.lng+=360}return ve}var xh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Zc(ve,$,ge){var re=ve.classList;for(var me in xh)re.remove("mapboxgl-"+ge+"-anchor-"+me);re.add("mapboxgl-"+ge+"-anchor-"+$)}var mc=function(ve){function $(ge,re){if(ve.call(this),(ge instanceof n.window.HTMLElement||re)&&(ge=n.extend({element:ge},re)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ge&&ge.anchor||"center",this._color=ge&&ge.color||"#3FB1CE",this._scale=ge&&ge.scale||1,this._draggable=ge&&ge.draggable||!1,this._clickTolerance=ge&&ge.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ge&&ge.rotation||0,this._rotationAlignment=ge&&ge.rotationAlignment||"auto",this._pitchAlignment=ge&&ge.pitchAlignment&&ge.pitchAlignment!=="auto"?ge.pitchAlignment:this._rotationAlignment,!ge||!ge.element){this._defaultMarker=!0,this._element=w.create("div"),this._element.setAttribute("aria-label","Map marker");var me=w.createNS("http://www.w3.org/2000/svg","svg"),Ne=41,$e=27;me.setAttributeNS(null,"display","block"),me.setAttributeNS(null,"height",Ne+"px"),me.setAttributeNS(null,"width",$e+"px"),me.setAttributeNS(null,"viewBox","0 0 "+$e+" "+Ne);var vt=w.createNS("http://www.w3.org/2000/svg","g");vt.setAttributeNS(null,"stroke","none"),vt.setAttributeNS(null,"stroke-width","1"),vt.setAttributeNS(null,"fill","none"),vt.setAttributeNS(null,"fill-rule","evenodd");var Pt=w.createNS("http://www.w3.org/2000/svg","g");Pt.setAttributeNS(null,"fill-rule","nonzero");var Gt=w.createNS("http://www.w3.org/2000/svg","g");Gt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Gt.setAttributeNS(null,"fill","#000000");for(var er=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],vr=0,hr=er;vr<hr.length;vr+=1){var Ur=hr[vr],rn=w.createNS("http://www.w3.org/2000/svg","ellipse");rn.setAttributeNS(null,"opacity","0.04"),rn.setAttributeNS(null,"cx","10.5"),rn.setAttributeNS(null,"cy","5.80029008"),rn.setAttributeNS(null,"rx",Ur.rx),rn.setAttributeNS(null,"ry",Ur.ry),Gt.appendChild(rn)}var en=w.createNS("http://www.w3.org/2000/svg","g");en.setAttributeNS(null,"fill",this._color);var Qr=w.createNS("http://www.w3.org/2000/svg","path");Qr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),en.appendChild(Qr);var on=w.createNS("http://www.w3.org/2000/svg","g");on.setAttributeNS(null,"opacity","0.25"),on.setAttributeNS(null,"fill","#000000");var mn=w.createNS("http://www.w3.org/2000/svg","path");mn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),on.appendChild(mn);var Un=w.createNS("http://www.w3.org/2000/svg","g");Un.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Un.setAttributeNS(null,"fill","#FFFFFF");var Yn=w.createNS("http://www.w3.org/2000/svg","g");Yn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var ra=w.createNS("http://www.w3.org/2000/svg","circle");ra.setAttributeNS(null,"fill","#000000"),ra.setAttributeNS(null,"opacity","0.25"),ra.setAttributeNS(null,"cx","5.5"),ra.setAttributeNS(null,"cy","5.5"),ra.setAttributeNS(null,"r","5.4999962");var ia=w.createNS("http://www.w3.org/2000/svg","circle");ia.setAttributeNS(null,"fill","#FFFFFF"),ia.setAttributeNS(null,"cx","5.5"),ia.setAttributeNS(null,"cy","5.5"),ia.setAttributeNS(null,"r","5.4999962"),Yn.appendChild(ra),Yn.appendChild(ia),Pt.appendChild(Gt),Pt.appendChild(en),Pt.appendChild(on),Pt.appendChild(Un),Pt.appendChild(Yn),me.appendChild(Pt),me.setAttributeNS(null,"height",Ne*this._scale+"px"),me.setAttributeNS(null,"width",$e*this._scale+"px"),this._element.appendChild(me),this._offset=n.Point.convert(ge&&ge.offset||[0,-14])}else this._element=ge.element,this._offset=n.Point.convert(ge&&ge.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(ta){ta.preventDefault()}),this._element.addEventListener("mousedown",function(ta){ta.preventDefault()}),Zc(this._element,this._anchor,"marker"),this._popup=null}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.addTo=function(re){return this.remove(),this._map=re,re.getCanvasContainer().appendChild(this._element),re.on("move",this._update),re.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},$.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),w.remove(this._element),this._popup&&this._popup.remove(),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(re){return this._lngLat=n.LngLat.convert(re),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},$.prototype.getElement=function(){return this._element},$.prototype.setPopup=function(re){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),re){if(!("offset"in re.options)){var me=38.1,Ne=13.5,$e=Math.sqrt(Math.pow(Ne,2)/2);re.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-me],"bottom-left":[$e,(me-Ne+$e)*-1],"bottom-right":[-$e,(me-Ne+$e)*-1],left:[Ne,(me-Ne)*-1],right:[-Ne,(me-Ne)*-1]}:this._offset}this._popup=re,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},$.prototype._onKeyPress=function(re){var me=re.code,Ne=re.charCode||re.keyCode;(me==="Space"||me==="Enter"||Ne===32||Ne===13)&&this.togglePopup()},$.prototype._onMapClick=function(re){var me=re.originalEvent.target,Ne=this._element;this._popup&&(me===Ne||Ne.contains(me))&&this.togglePopup()},$.prototype.getPopup=function(){return this._popup},$.prototype.togglePopup=function(){var re=this._popup;if(re)re.isOpen()?re.remove():re.addTo(this._map);else return this;return this},$.prototype._update=function(re){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=iu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var me="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?me="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(me="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Ne="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Ne="rotateX(0deg)":this._pitchAlignment==="map"&&(Ne="rotateX("+this._map.getPitch()+"deg)"),(!re||re.type==="moveend")&&(this._pos=this._pos.round()),w.setTransform(this._element,xh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Ne+" "+me)}},$.prototype.getOffset=function(){return this._offset},$.prototype.setOffset=function(re){return this._offset=n.Point.convert(re),this._update(),this},$.prototype._onMove=function(re){if(!this._isDragging){var me=this._clickTolerance||this._map._clickTolerance;this._isDragging=re.point.dist(this._pointerdownPos)>=me}this._isDragging&&(this._pos=re.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag")))},$.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"},$.prototype._addDragHandler=function(re){this._element.contains(re.originalEvent.target)&&(re.preventDefault(),this._positionDelta=re.point.sub(this._pos).add(this._offset),this._pointerdownPos=re.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},$.prototype.setDraggable=function(re){return this._draggable=!!re,this._map&&(re?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},$.prototype.isDraggable=function(){return this._draggable},$.prototype.setRotation=function(re){return this._rotation=re||0,this._update(),this},$.prototype.getRotation=function(){return this._rotation},$.prototype.setRotationAlignment=function(re){return this._rotationAlignment=re||"auto",this._update(),this},$.prototype.getRotationAlignment=function(){return this._rotationAlignment},$.prototype.setPitchAlignment=function(re){return this._pitchAlignment=re&&re!=="auto"?re:this._rotationAlignment,this._update(),this},$.prototype.getPitchAlignment=function(){return this._pitchAlignment},$}(n.Evented),bh={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},xc;function wh(ve){xc!==void 0?ve(xc):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(function($){xc=$.state!=="denied",ve(xc)}):(xc=!!n.window.navigator.geolocation,ve(xc))}var Wf=0,bc=!1,pv=function(ve){function $(ge){ve.call(this),this.options=n.extend({},bh,ge),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.onAdd=function(re){return this._map=re,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),wh(this._setupUI),this._container},$.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),w.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Wf=0,bc=!1},$.prototype._isOutOfMapMaxBounds=function(re){var me=this._map.getMaxBounds(),Ne=re.coords;return me&&(Ne.longitude<me.getWest()||Ne.longitude>me.getEast()||Ne.latitude<me.getSouth()||Ne.latitude>me.getNorth())},$.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},$.prototype._onSuccess=function(re){if(this._map){if(this._isOutOfMapMaxBounds(re)){this._setErrorState(),this.fire(new n.Event("outofmaxbounds",re)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=re,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(re),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(re),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",re)),this._finish()}},$.prototype._updateCamera=function(re){var me=new n.LngLat(re.coords.longitude,re.coords.latitude),Ne=re.coords.accuracy,$e=this._map.getBearing(),vt=n.extend({bearing:$e},this.options.fitBoundsOptions);this._map.fitBounds(me.toBounds(Ne),vt,{geolocateSource:!0})},$.prototype._updateMarker=function(re){if(re){var me=new n.LngLat(re.coords.longitude,re.coords.latitude);this._accuracyCircleMarker.setLngLat(me).addTo(this._map),this._userLocationDotMarker.setLngLat(me).addTo(this._map),this._accuracy=re.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},$.prototype._updateCircleRadius=function(){var re=this._map._container.clientHeight/2,me=this._map.unproject([0,re]),Ne=this._map.unproject([1,re]),$e=me.distanceTo(Ne),vt=Math.ceil(2*this._accuracy/$e);this._circleElement.style.width=vt+"px",this._circleElement.style.height=vt+"px"},$.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},$.prototype._onError=function(re){if(this._map){if(this.options.trackUserLocation)if(re.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var me=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=me,this._geolocateButton.setAttribute("aria-label",me),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(re.code===3&&bc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",re)),this._finish()}},$.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},$.prototype._setupUI=function(re){var me=this;if(this._container.addEventListener("contextmenu",function(vt){return vt.preventDefault()}),this._geolocateButton=w.create("button","mapboxgl-ctrl-geolocate",this._container),w.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",re===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Ne=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Ne,this._geolocateButton.setAttribute("aria-label",Ne)}else{var $e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=$e,this._geolocateButton.setAttribute("aria-label",$e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=w.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new mc(this._dotElement),this._circleElement=w.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new mc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(vt){var Pt=vt.originalEvent&&vt.originalEvent.type==="resize";!vt.geolocateSource&&me._watchState==="ACTIVE_LOCK"&&!Pt&&(me._watchState="BACKGROUND",me._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),me._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),me.fire(new n.Event("trackuserlocationend")))})},$.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Wf--,bc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Wf++;var re;Wf>1?(re={maximumAge:6e5,timeout:0},bc=!0):(re=this.options.positionOptions,bc=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,re)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},$.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},$}(n.Evented),dd={maxWidth:100,unit:"metric"},wc=function($){this.options=n.extend({},dd,$),n.bindAll(["_onMove","setUnit"],this)};wc.prototype.getDefaultPosition=function(){return"bottom-left"},wc.prototype._onMove=function(){Cu(this._map,this._container,this.options)},wc.prototype.onAdd=function($){return this._map=$,this._container=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",$.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},wc.prototype.onRemove=function(){w.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},wc.prototype.setUnit=function($){this.options.unit=$,Cu(this._map,this._container,this.options)};function Cu(ve,$,ge){var re=ge&&ge.maxWidth||100,me=ve._container.clientHeight/2,Ne=ve.unproject([0,me]),$e=ve.unproject([re,me]),vt=Ne.distanceTo($e);if(ge&&ge.unit==="imperial"){var Pt=3.2808*vt;if(Pt>5280){var Gt=Pt/5280;jc($,re,Gt,ve._getUIString("ScaleControl.Miles"))}else jc($,re,Pt,ve._getUIString("ScaleControl.Feet"))}else if(ge&&ge.unit==="nautical"){var er=vt/1852;jc($,re,er,ve._getUIString("ScaleControl.NauticalMiles"))}else vt>=1e3?jc($,re,vt/1e3,ve._getUIString("ScaleControl.Kilometers")):jc($,re,vt,ve._getUIString("ScaleControl.Meters"))}function jc(ve,$,ge,re){var me=ap(ge),Ne=me/ge;ve.style.width=$*Ne+"px",ve.innerHTML=me+"&nbsp;"+re}function pd(ve){var $=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*$)/$}function ap(ve){var $=Math.pow(10,(""+Math.floor(ve)).length-1),ge=ve/$;return ge=ge>=10?10:ge>=5?5:ge>=3?3:ge>=2?2:ge>=1?1:pd(ge),$*ge}var ou=function($){this._fullscreen=!1,$&&$.container&&($.container instanceof n.window.HTMLElement?this._container=$.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};ou.prototype.onAdd=function($){return this._map=$,this._container||(this._container=this._map.getContainer()),this._controlContainer=w.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ou.prototype.onRemove=function(){w.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ou.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},ou.prototype._setupUI=function(){var $=this._fullscreenButton=w.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);w.create("span","mapboxgl-ctrl-icon",$).setAttribute("aria-hidden",!0),$.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ou.prototype._updateTitle=function(){var $=this._getTitle();this._fullscreenButton.setAttribute("aria-label",$),this._fullscreenButton.title=$},ou.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ou.prototype._isFullscreen=function(){return this._fullscreen},ou.prototype._changeIcon=function(){var $=n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement;$===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ou.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var ip={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},op=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Yf=function(ve){function $(ge){ve.call(this),this.options=n.extend(Object.create(ip),ge),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&($.__proto__=ve),$.prototype=Object.create(ve&&ve.prototype),$.prototype.constructor=$,$.prototype.addTo=function(re){return this._map&&this.remove(),this._map=re,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},$.prototype.isOpen=function(){return!!this._map},$.prototype.remove=function(){return this._content&&w.remove(this._content),this._container&&(w.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(re){return this._lngLat=n.LngLat.convert(re),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},$.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},$.prototype.getElement=function(){return this._container},$.prototype.setText=function(re){return this.setDOMContent(n.window.document.createTextNode(re))},$.prototype.setHTML=function(re){var me=n.window.document.createDocumentFragment(),Ne=n.window.document.createElement("body"),$e;for(Ne.innerHTML=re;$e=Ne.firstChild,!!$e;)me.appendChild($e);return this.setDOMContent(me)},$.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},$.prototype.setMaxWidth=function(re){return this.options.maxWidth=re,this._update(),this},$.prototype.setDOMContent=function(re){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=w.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(re),this._createCloseButton(),this._update(),this._focusFirstElement(),this},$.prototype.addClassName=function(re){this._container&&this._container.classList.add(re)},$.prototype.removeClassName=function(re){this._container&&this._container.classList.remove(re)},$.prototype.setOffset=function(re){return this.options.offset=re,this._update(),this},$.prototype.toggleClassName=function(re){if(this._container)return this._container.classList.toggle(re)},$.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=w.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},$.prototype._onMouseUp=function(re){this._update(re.point)},$.prototype._onMouseMove=function(re){this._update(re.point)},$.prototype._onDrag=function(re){this._update(re.point)},$.prototype._update=function(re){var me=this,Ne=this._lngLat||this._trackPointer;if(!(!this._map||!Ne||!this._content)&&(this._container||(this._container=w.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=w.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ur){return me._container.classList.add(Ur)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=iu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!re))){var $e=this._pos=this._trackPointer&&re?re:this._map.project(this._lngLat),vt=this.options.anchor,Pt=gv(this.options.offset);if(!vt){var Gt=this._container.offsetWidth,er=this._container.offsetHeight,vr;$e.y+Pt.bottom.y<er?vr=["top"]:$e.y>this._map.transform.height-er?vr=["bottom"]:vr=[],$e.x<Gt/2?vr.push("left"):$e.x>this._map.transform.width-Gt/2&&vr.push("right"),vr.length===0?vt="bottom":vt=vr.join("-")}var hr=$e.add(Pt[vt]).round();w.setTransform(this._container,xh[vt]+" translate("+hr.x+"px,"+hr.y+"px)"),Zc(this._container,vt,"popup")}},$.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var re=this._container.querySelector(op);re&&re.focus()}},$.prototype._onClose=function(){this.remove()},$}(n.Evented);function gv(ve){if(ve)if(typeof ve=="number"){var $=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new n.Point(0,0),top:new n.Point(0,ve),"top-left":new n.Point($,$),"top-right":new n.Point(-$,$),bottom:new n.Point(0,-ve),"bottom-left":new n.Point($,-$),"bottom-right":new n.Point(-$,-$),left:new n.Point(ve,0),right:new n.Point(-ve,0)}}else if(ve instanceof n.Point||Array.isArray(ve)){var ge=n.Point.convert(ve);return{center:ge,top:ge,"top-left":ge,"top-right":ge,bottom:ge,"bottom-left":ge,"bottom-right":ge,left:ge,right:ge}}else return{center:n.Point.convert(ve.center||[0,0]),top:n.Point.convert(ve.top||[0,0]),"top-left":n.Point.convert(ve["top-left"]||[0,0]),"top-right":n.Point.convert(ve["top-right"]||[0,0]),bottom:n.Point.convert(ve.bottom||[0,0]),"bottom-left":n.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(ve["bottom-right"]||[0,0]),left:n.Point.convert(ve.left||[0,0]),right:n.Point.convert(ve.right||[0,0])};else return gv(new n.Point(0,0))}var Vo={version:n.version,supported:L,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:yc,NavigationControl:vf,GeolocateControl:pv,AttributionControl:Ti,ScaleControl:wc,FullscreenControl:ou,Popup:Yf,Marker:mc,Style:zs,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:Ft,clearPrewarmedResources:rr,get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(ve){n.config.ACCESS_TOKEN=ve},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(ve){n.config.API_URL=ve},get workerCount(){return mr.workerCount},set workerCount(ve){mr.workerCount=ve},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){n.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function($){n.clearTileCache($)},workerUrl:""};return Vo}),d})},3108:function(H,U,e){H.exports=e(26099)},26099:function(H,U,e){var d=e(64928),C=e(32420),n=e(51160),L=e(76752),w=e(55616),v=e(31264),g=e(47520),r=e(18400),t=e(72512),i=e(76244),a=1073741824;H.exports=function(l,m){m||(m={}),l=g(l,"float64"),m=w(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(m.maxDepth,255),T=v(m.bounds,L(l,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var c=u(l,T),o=l.length>>>1,p;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?p=new(t(m.dtype))(o):m.dtype&&(p=m.dtype,Array.isArray(p)&&(p.length=o));for(var x=0;x<o;++x)p[x]=x;var A=[],_=[],y=[],E=[];B(0,0,1,p,0,1);for(var M=0,s=0;s<A.length;s++){var S=A[s];if(p.set)p.set(S,M);else for(var b=0,I=S.length;b<I;b++)p[b+M]=S[b];var D=M+A[s].length;E[s]=[M,D],M=D}return p.range=k,p;function B(O,V,X,ee,ne,q){if(!ee.length)return null;var se=A[ne]||(A[ne]=[]),J=y[ne]||(y[ne]=[]),Z=_[ne]||(_[ne]=[]),te=se.length;if(ne++,ne>h||q>a){for(var Y=0;Y<ee.length;Y++)se.push(ee[Y]),J.push(q),Z.push(null,null,null,null);return te}if(se.push(ee[0]),J.push(q),ee.length<=1)return Z.push(null,null,null,null),te;for(var ie=X*.5,le=O+ie,j=V+ie,K=[],ue=[],ae=[],he=[],xe=1,Se=ee.length;xe<Se;xe++){var Ae=ee[xe],De=c[Ae*2],we=c[Ae*2+1];De<le?we<j?K.push(Ae):ue.push(Ae):we<j?ae.push(Ae):he.push(Ae)}return q<<=2,Z.push(B(O,V,ie,K,ne,q),B(O,j,ie,ue,ne,q+1),B(le,V,ie,ae,ne,q+2),B(le,j,ie,he,ne,q+3)),te}function k(){for(var O=[],V=arguments.length;V--;)O[V]=arguments[V];var X;if(r(O[O.length-1])){var ee=O.pop();!O.length&&(ee.x!=null||ee.l!=null||ee.left!=null)&&(O=[ee],X={}),X=w(ee,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else X={};O.length||(O=T);var ne=n.apply(void 0,O),q=[Math.min(ne.x,ne.x+ne.width),Math.min(ne.y,ne.y+ne.height),Math.max(ne.x,ne.x+ne.width),Math.max(ne.y,ne.y+ne.height)],se=q[0],J=q[1],Z=q[2],te=q[3],Y=u([se,J,Z,te],T),ie=Y[0],le=Y[1],j=Y[2],K=Y[3],ue=v(X.level,A.length);if(X.d!=null){var ae;typeof X.d=="number"?ae=[X.d,X.d]:X.d.length&&(ae=X.d),ue=Math.min(Math.max(Math.ceil(-i(Math.abs(ae[0])/(T[2]-T[0]))),Math.ceil(-i(Math.abs(ae[1])/(T[3]-T[1])))),ue)}if(ue=Math.min(ue,A.length),X.lod)return F(ie,le,j,K,ue);var he=[];xe(0,0,1,0,0,1);function xe(Ae,De,we,Ce,be,Pe){if(!(be===null||Pe===null)){var Ve=Ae+we,Ge=De+we;if(!(ie>Ve||le>Ge||j<Ae||K<De)&&!(Ce>=ue)&&be!==Pe){var Fe=A[Ce];Pe===void 0&&(Pe=Fe.length);for(var He=be;He<Pe;He++){var ft=Fe[He],gt=l[ft*2],ct=l[ft*2+1];gt>=se&&gt<=Z&&ct>=J&&ct<=te&&he.push(ft)}var nt=_[Ce],dt=nt[be*4+0],pt=nt[be*4+1],wt=nt[be*4+2],Tt=nt[be*4+3],Ct=Se(nt,be+1),at=we*.5,ze=Ce+1;xe(Ae,De,at,ze,dt,pt||wt||Tt||Ct),xe(Ae,De+at,at,ze,pt,wt||Tt||Ct),xe(Ae+at,De,at,ze,wt,Tt||Ct),xe(Ae+at,De+at,at,ze,Tt,Ct)}}}function Se(Ae,De){for(var we=null,Ce=0;we===null;)if(we=Ae[De*4+Ce],Ce++,Ce>Ae.length)return null;return we}return he}function F(O,V,X,ee,ne){for(var q=[],se=0;se<ne;se++){var J=y[se],Z=E[se][0],te=N(O,V,se),Y=N(X,ee,se),ie=d.ge(J,te),le=d.gt(J,Y,ie,J.length-1);q[se]=[ie+Z,le+Z]}return q}function N(O,V,X){for(var ee=1,ne=.5,q=.5,se=.5,J=0;J<X;J++)ee<<=2,ee+=O<ne?V<q?0:1:V<q?2:3,se*=.5,ne+=O<ne?-se:se,q+=V<q?-se:se;return ee}};function u(f,l){for(var m=l[0],h=l[1],T=l[2],c=l[3],o=1/(T-m),p=1/(c-h),x=new Array(f.length),A=0,_=f.length/2;A<_;A++)x[2*A]=C((f[2*A]-m)*o,0,1),x[2*A+1]=C((f[2*A+1]-h)*p,0,1);return x}},40440:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var d=e(3256),C=6378137;function n(r){return d.geomReduce(r,function(t,i){return t+L(i)},0)}U.default=n;function L(r){var t=0,i;switch(r.type){case"Polygon":return w(r.coordinates);case"MultiPolygon":for(i=0;i<r.coordinates.length;i++)t+=w(r.coordinates[i]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function w(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var i=1;i<r.length;i++)t-=Math.abs(v(r[i]))}return t}function v(r){var t,i,a,u,f,l,m,h=0,T=r.length;if(T>2){for(m=0;m<T;m++)m===T-2?(u=T-2,f=T-1,l=0):m===T-1?(u=T-1,f=0,l=1):(u=m,f=m+1,l=m+2),t=r[u],i=r[f],a=r[l],h+=(g(a[0])-g(t[0]))*Math.sin(g(i[1]));h=h*C*C/2}return h}function g(r){return r*Math.PI/180}},46284:function(H,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(M,s,S){S===void 0&&(S={});var b={type:"Feature"};return(S.id===0||S.id)&&(b.id=S.id),S.bbox&&(b.bbox=S.bbox),b.properties=s||{},b.geometry=M,b}U.feature=e;function d(M,s,S){switch(M){case"Point":return C(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return L(s).geometry;case"MultiPoint":return i(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return a(s).geometry;default:throw new Error(M+" is invalid")}}U.geometry=d;function C(M,s,S){if(S===void 0&&(S={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(M[0])||!A(M[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:M};return e(b,s,S)}U.point=C;function n(M,s,S){return S===void 0&&(S={}),r(M.map(function(b){return C(b,s)}),S)}U.points=n;function L(M,s,S){S===void 0&&(S={});for(var b=0,I=M;b<I.length;b++){var D=I[b];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<D[D.length-1].length;B++)if(D[D.length-1][B]!==D[0][B])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:M};return e(k,s,S)}U.polygon=L;function w(M,s,S){return S===void 0&&(S={}),r(M.map(function(b){return L(b,s)}),S)}U.polygons=w;function v(M,s,S){if(S===void 0&&(S={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:M};return e(b,s,S)}U.lineString=v;function g(M,s,S){return S===void 0&&(S={}),r(M.map(function(b){return v(b,s)}),S)}U.lineStrings=g;function r(M,s){s===void 0&&(s={});var S={type:"FeatureCollection"};return s.id&&(S.id=s.id),s.bbox&&(S.bbox=s.bbox),S.features=M,S}U.featureCollection=r;function t(M,s,S){S===void 0&&(S={});var b={type:"MultiLineString",coordinates:M};return e(b,s,S)}U.multiLineString=t;function i(M,s,S){S===void 0&&(S={});var b={type:"MultiPoint",coordinates:M};return e(b,s,S)}U.multiPoint=i;function a(M,s,S){S===void 0&&(S={});var b={type:"MultiPolygon",coordinates:M};return e(b,s,S)}U.multiPolygon=a;function u(M,s,S){S===void 0&&(S={});var b={type:"GeometryCollection",geometries:M};return e(b,s,S)}U.geometryCollection=u;function f(M,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var S=Math.pow(10,s||0);return Math.round(M*S)/S}U.round=f;function l(M,s){s===void 0&&(s="kilometers");var S=U.factors[s];if(!S)throw new Error(s+" units is invalid");return M*S}U.radiansToLength=l;function m(M,s){s===void 0&&(s="kilometers");var S=U.factors[s];if(!S)throw new Error(s+" units is invalid");return M/S}U.lengthToRadians=m;function h(M,s){return c(m(M,s))}U.lengthToDegrees=h;function T(M){var s=M%360;return s<0&&(s+=360),s}U.bearingToAzimuth=T;function c(M){var s=M%(2*Math.PI);return s*180/Math.PI}U.radiansToDegrees=c;function o(M){var s=M%360;return s*Math.PI/180}U.degreesToRadians=o;function p(M,s,S){if(s===void 0&&(s="kilometers"),S===void 0&&(S="kilometers"),!(M>=0))throw new Error("length must be a positive number");return l(m(M,s),S)}U.convertLength=p;function x(M,s,S){if(s===void 0&&(s="meters"),S===void 0&&(S="kilometers"),!(M>=0))throw new Error("area must be a positive number");var b=U.areaFactors[s];if(!b)throw new Error("invalid original units");var I=U.areaFactors[S];if(!I)throw new Error("invalid final units");return M/b*I}U.convertArea=x;function A(M){return!isNaN(M)&&M!==null&&!Array.isArray(M)}U.isNumber=A;function _(M){return!!M&&M.constructor===Object}U.isObject=_;function y(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(M.length!==4&&M.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(s){if(!A(s))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function E(M){if(!M)throw new Error("id is required");if(["string","number"].indexOf(typeof M)===-1)throw new Error("id must be a number or a string")}U.validateId=E},3256:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var d=e(46284);function C(o,p,x){if(o!==null)for(var A,_,y,E,M,s,S,b=0,I=0,D,B=o.type,k=B==="FeatureCollection",F=B==="Feature",N=k?o.features.length:1,O=0;O<N;O++){S=k?o.features[O].geometry:F?o.geometry:o,D=S?S.type==="GeometryCollection":!1,M=D?S.geometries.length:1;for(var V=0;V<M;V++){var X=0,ee=0;if(E=D?S.geometries[V]:S,E!==null){s=E.coordinates;var ne=E.type;switch(b=x&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(p(s,I,O,X,ee)===!1)return!1;I++,X++;break;case"LineString":case"MultiPoint":for(A=0;A<s.length;A++){if(p(s[A],I,O,X,ee)===!1)return!1;I++,ne==="MultiPoint"&&X++}ne==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(A=0;A<s.length;A++){for(_=0;_<s[A].length-b;_++){if(p(s[A][_],I,O,X,ee)===!1)return!1;I++}ne==="MultiLineString"&&X++,ne==="Polygon"&&ee++}ne==="Polygon"&&X++;break;case"MultiPolygon":for(A=0;A<s.length;A++){for(ee=0,_=0;_<s[A].length;_++){for(y=0;y<s[A][_].length-b;y++){if(p(s[A][_][y],I,O,X,ee)===!1)return!1;I++}ee++}X++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(C(E.geometries[A],p,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,p,x,A){var _=x;return C(o,function(y,E,M,s,S){E===0&&x===void 0?_=y:_=p(_,y,E,M,s,S)},A),_}function L(o,p){var x;switch(o.type){case"FeatureCollection":for(x=0;x<o.features.length&&p(o.features[x].properties,x)!==!1;x++);break;case"Feature":p(o.properties,0);break}}function w(o,p,x){var A=x;return L(o,function(_,y){y===0&&x===void 0?A=_:A=p(A,_,y)}),A}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var x=0;x<o.features.length&&p(o.features[x],x)!==!1;x++);}function g(o,p,x){var A=x;return v(o,function(_,y){y===0&&x===void 0?A=_:A=p(A,_,y)}),A}function r(o){var p=[];return C(o,function(x){p.push(x)}),p}function t(o,p){var x,A,_,y,E,M,s,S,b,I,D=0,B=o.type==="FeatureCollection",k=o.type==="Feature",F=B?o.features.length:1;for(x=0;x<F;x++){for(M=B?o.features[x].geometry:k?o.geometry:o,S=B?o.features[x].properties:k?o.properties:{},b=B?o.features[x].bbox:k?o.bbox:void 0,I=B?o.features[x].id:k?o.id:void 0,s=M?M.type==="GeometryCollection":!1,E=s?M.geometries.length:1,_=0;_<E;_++){if(y=s?M.geometries[_]:M,y===null){if(p(null,D,S,b,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(y,D,S,b,I)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<y.geometries.length;A++)if(p(y.geometries[A],D,S,b,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function i(o,p,x){var A=x;return t(o,function(_,y,E,M,s){y===0&&x===void 0?A=_:A=p(A,_,y,E,M,s)}),A}function a(o,p){t(o,function(x,A,_,y,E){var M=x===null?null:x.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return p(d.feature(x,_,{bbox:y,id:E}),A,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var S=0;S<x.coordinates.length;S++){var b=x.coordinates[S],I={type:s,coordinates:b};if(p(d.feature(I,_),A,S)===!1)return!1}})}function u(o,p,x){var A=x;return a(o,function(_,y,E){y===0&&E===0&&x===void 0?A=_:A=p(A,_,y,E)}),A}function f(o,p){a(o,function(x,A,_){var y=0;if(x.geometry){var E=x.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var M,s=0,S=0,b=0;if(C(x,function(I,D,B,k,F){if(M===void 0||A>s||k>S||F>b){M=I,s=A,S=k,b=F,y=0;return}var N=d.lineString([M,I],x.properties);if(p(N,A,_,F,y)===!1)return!1;y++,M=I})===!1)return!1}}})}function l(o,p,x){var A=x,_=!1;return f(o,function(y,E,M,s,S){_===!1&&x===void 0?A=y:A=p(A,y,E,M,s,S),_=!0}),A}function m(o,p){if(!o)throw new Error("geojson is required");a(o,function(x,A,_){if(x.geometry!==null){var y=x.geometry.type,E=x.geometry.coordinates;switch(y){case"LineString":if(p(x,A,_,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<E.length;M++)if(p(d.lineString(E[M],x.properties),A,_,M)===!1)return!1;break}}})}function h(o,p,x){var A=x;return m(o,function(_,y,E,M){y===0&&x===void 0?A=_:A=p(A,_,y,E,M)}),A}function T(o,p){if(p=p||{},!d.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,A=p.multiFeatureIndex||0,_=p.geometryIndex||0,y=p.segmentIndex||0,E=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),E=E||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=s.length+y-1),d.lineString([s[y],s[y+1]],E,p);case"Polygon":return _<0&&(_=s.length+_),y<0&&(y=s[_].length+y-1),d.lineString([s[_][y],s[_][y+1]],E,p);case"MultiLineString":return A<0&&(A=s.length+A),y<0&&(y=s[A].length+y-1),d.lineString([s[A][y],s[A][y+1]],E,p);case"MultiPolygon":return A<0&&(A=s.length+A),_<0&&(_=s[A].length+_),y<0&&(y=s[A][_].length-y-1),d.lineString([s[A][_][y],s[A][_][y+1]],E,p)}throw new Error("geojson is invalid")}function c(o,p){if(p=p||{},!d.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,A=p.multiFeatureIndex||0,_=p.geometryIndex||0,y=p.coordIndex||0,E=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),E=E||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return d.point(s,E,p);case"MultiPoint":return A<0&&(A=s.length+A),d.point(s[A],E,p);case"LineString":return y<0&&(y=s.length+y),d.point(s[y],E,p);case"Polygon":return _<0&&(_=s.length+_),y<0&&(y=s[_].length+y),d.point(s[_][y],E,p);case"MultiLineString":return A<0&&(A=s.length+A),y<0&&(y=s[A].length+y),d.point(s[A][y],E,p);case"MultiPolygon":return A<0&&(A=s.length+A),_<0&&(_=s[A].length+_),y<0&&(y=s[A][_].length-y),d.point(s[A][_][y],E,p)}throw new Error("geojson is invalid")}U.coordEach=C,U.coordReduce=n,U.propEach=L,U.propReduce=w,U.featureEach=v,U.featureReduce=g,U.coordAll=r,U.geomEach=t,U.geomReduce=i,U.flattenEach=a,U.flattenReduce=u,U.segmentEach=f,U.segmentReduce=l,U.lineEach=m,U.lineReduce=h,U.findSegment=T,U.findPoint=c},42428:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var d=e(84880);function C(n){var L=[1/0,1/0,-1/0,-1/0];return d.coordEach(n,function(w){L[0]>w[0]&&(L[0]=w[0]),L[1]>w[1]&&(L[1]=w[1]),L[2]<w[0]&&(L[2]=w[0]),L[3]<w[1]&&(L[3]=w[1])}),L}C.default=C,U.default=C},76796:function(H,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(M,s,S){S===void 0&&(S={});var b={type:"Feature"};return(S.id===0||S.id)&&(b.id=S.id),S.bbox&&(b.bbox=S.bbox),b.properties=s||{},b.geometry=M,b}U.feature=e;function d(M,s,S){switch(M){case"Point":return C(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return L(s).geometry;case"MultiPoint":return i(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return a(s).geometry;default:throw new Error(M+" is invalid")}}U.geometry=d;function C(M,s,S){if(S===void 0&&(S={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(M[0])||!A(M[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:M};return e(b,s,S)}U.point=C;function n(M,s,S){return S===void 0&&(S={}),r(M.map(function(b){return C(b,s)}),S)}U.points=n;function L(M,s,S){S===void 0&&(S={});for(var b=0,I=M;b<I.length;b++){var D=I[b];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<D[D.length-1].length;B++)if(D[D.length-1][B]!==D[0][B])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:M};return e(k,s,S)}U.polygon=L;function w(M,s,S){return S===void 0&&(S={}),r(M.map(function(b){return L(b,s)}),S)}U.polygons=w;function v(M,s,S){if(S===void 0&&(S={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:M};return e(b,s,S)}U.lineString=v;function g(M,s,S){return S===void 0&&(S={}),r(M.map(function(b){return v(b,s)}),S)}U.lineStrings=g;function r(M,s){s===void 0&&(s={});var S={type:"FeatureCollection"};return s.id&&(S.id=s.id),s.bbox&&(S.bbox=s.bbox),S.features=M,S}U.featureCollection=r;function t(M,s,S){S===void 0&&(S={});var b={type:"MultiLineString",coordinates:M};return e(b,s,S)}U.multiLineString=t;function i(M,s,S){S===void 0&&(S={});var b={type:"MultiPoint",coordinates:M};return e(b,s,S)}U.multiPoint=i;function a(M,s,S){S===void 0&&(S={});var b={type:"MultiPolygon",coordinates:M};return e(b,s,S)}U.multiPolygon=a;function u(M,s,S){S===void 0&&(S={});var b={type:"GeometryCollection",geometries:M};return e(b,s,S)}U.geometryCollection=u;function f(M,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var S=Math.pow(10,s||0);return Math.round(M*S)/S}U.round=f;function l(M,s){s===void 0&&(s="kilometers");var S=U.factors[s];if(!S)throw new Error(s+" units is invalid");return M*S}U.radiansToLength=l;function m(M,s){s===void 0&&(s="kilometers");var S=U.factors[s];if(!S)throw new Error(s+" units is invalid");return M/S}U.lengthToRadians=m;function h(M,s){return c(m(M,s))}U.lengthToDegrees=h;function T(M){var s=M%360;return s<0&&(s+=360),s}U.bearingToAzimuth=T;function c(M){var s=M%(2*Math.PI);return s*180/Math.PI}U.radiansToDegrees=c;function o(M){var s=M%360;return s*Math.PI/180}U.degreesToRadians=o;function p(M,s,S){if(s===void 0&&(s="kilometers"),S===void 0&&(S="kilometers"),!(M>=0))throw new Error("length must be a positive number");return l(m(M,s),S)}U.convertLength=p;function x(M,s,S){if(s===void 0&&(s="meters"),S===void 0&&(S="kilometers"),!(M>=0))throw new Error("area must be a positive number");var b=U.areaFactors[s];if(!b)throw new Error("invalid original units");var I=U.areaFactors[S];if(!I)throw new Error("invalid final units");return M/b*I}U.convertArea=x;function A(M){return!isNaN(M)&&M!==null&&!Array.isArray(M)}U.isNumber=A;function _(M){return!!M&&M.constructor===Object}U.isObject=_;function y(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(M.length!==4&&M.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(s){if(!A(s))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function E(M){if(!M)throw new Error("id is required");if(["string","number"].indexOf(typeof M)===-1)throw new Error("id must be a number or a string")}U.validateId=E},84880:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var d=e(76796);function C(o,p,x){if(o!==null)for(var A,_,y,E,M,s,S,b=0,I=0,D,B=o.type,k=B==="FeatureCollection",F=B==="Feature",N=k?o.features.length:1,O=0;O<N;O++){S=k?o.features[O].geometry:F?o.geometry:o,D=S?S.type==="GeometryCollection":!1,M=D?S.geometries.length:1;for(var V=0;V<M;V++){var X=0,ee=0;if(E=D?S.geometries[V]:S,E!==null){s=E.coordinates;var ne=E.type;switch(b=x&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(p(s,I,O,X,ee)===!1)return!1;I++,X++;break;case"LineString":case"MultiPoint":for(A=0;A<s.length;A++){if(p(s[A],I,O,X,ee)===!1)return!1;I++,ne==="MultiPoint"&&X++}ne==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(A=0;A<s.length;A++){for(_=0;_<s[A].length-b;_++){if(p(s[A][_],I,O,X,ee)===!1)return!1;I++}ne==="MultiLineString"&&X++,ne==="Polygon"&&ee++}ne==="Polygon"&&X++;break;case"MultiPolygon":for(A=0;A<s.length;A++){for(ee=0,_=0;_<s[A].length;_++){for(y=0;y<s[A][_].length-b;y++){if(p(s[A][_][y],I,O,X,ee)===!1)return!1;I++}ee++}X++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(C(E.geometries[A],p,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,p,x,A){var _=x;return C(o,function(y,E,M,s,S){E===0&&x===void 0?_=y:_=p(_,y,E,M,s,S)},A),_}function L(o,p){var x;switch(o.type){case"FeatureCollection":for(x=0;x<o.features.length&&p(o.features[x].properties,x)!==!1;x++);break;case"Feature":p(o.properties,0);break}}function w(o,p,x){var A=x;return L(o,function(_,y){y===0&&x===void 0?A=_:A=p(A,_,y)}),A}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var x=0;x<o.features.length&&p(o.features[x],x)!==!1;x++);}function g(o,p,x){var A=x;return v(o,function(_,y){y===0&&x===void 0?A=_:A=p(A,_,y)}),A}function r(o){var p=[];return C(o,function(x){p.push(x)}),p}function t(o,p){var x,A,_,y,E,M,s,S,b,I,D=0,B=o.type==="FeatureCollection",k=o.type==="Feature",F=B?o.features.length:1;for(x=0;x<F;x++){for(M=B?o.features[x].geometry:k?o.geometry:o,S=B?o.features[x].properties:k?o.properties:{},b=B?o.features[x].bbox:k?o.bbox:void 0,I=B?o.features[x].id:k?o.id:void 0,s=M?M.type==="GeometryCollection":!1,E=s?M.geometries.length:1,_=0;_<E;_++){if(y=s?M.geometries[_]:M,y===null){if(p(null,D,S,b,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(y,D,S,b,I)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<y.geometries.length;A++)if(p(y.geometries[A],D,S,b,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function i(o,p,x){var A=x;return t(o,function(_,y,E,M,s){y===0&&x===void 0?A=_:A=p(A,_,y,E,M,s)}),A}function a(o,p){t(o,function(x,A,_,y,E){var M=x===null?null:x.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return p(d.feature(x,_,{bbox:y,id:E}),A,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var S=0;S<x.coordinates.length;S++){var b=x.coordinates[S],I={type:s,coordinates:b};if(p(d.feature(I,_),A,S)===!1)return!1}})}function u(o,p,x){var A=x;return a(o,function(_,y,E){y===0&&E===0&&x===void 0?A=_:A=p(A,_,y,E)}),A}function f(o,p){a(o,function(x,A,_){var y=0;if(x.geometry){var E=x.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var M,s=0,S=0,b=0;if(C(x,function(I,D,B,k,F){if(M===void 0||A>s||k>S||F>b){M=I,s=A,S=k,b=F,y=0;return}var N=d.lineString([M,I],x.properties);if(p(N,A,_,F,y)===!1)return!1;y++,M=I})===!1)return!1}}})}function l(o,p,x){var A=x,_=!1;return f(o,function(y,E,M,s,S){_===!1&&x===void 0?A=y:A=p(A,y,E,M,s,S),_=!0}),A}function m(o,p){if(!o)throw new Error("geojson is required");a(o,function(x,A,_){if(x.geometry!==null){var y=x.geometry.type,E=x.geometry.coordinates;switch(y){case"LineString":if(p(x,A,_,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<E.length;M++)if(p(d.lineString(E[M],x.properties),A,_,M)===!1)return!1;break}}})}function h(o,p,x){var A=x;return m(o,function(_,y,E,M){y===0&&x===void 0?A=_:A=p(A,_,y,E,M)}),A}function T(o,p){if(p=p||{},!d.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,A=p.multiFeatureIndex||0,_=p.geometryIndex||0,y=p.segmentIndex||0,E=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),E=E||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=s.length+y-1),d.lineString([s[y],s[y+1]],E,p);case"Polygon":return _<0&&(_=s.length+_),y<0&&(y=s[_].length+y-1),d.lineString([s[_][y],s[_][y+1]],E,p);case"MultiLineString":return A<0&&(A=s.length+A),y<0&&(y=s[A].length+y-1),d.lineString([s[A][y],s[A][y+1]],E,p);case"MultiPolygon":return A<0&&(A=s.length+A),_<0&&(_=s[A].length+_),y<0&&(y=s[A][_].length-y-1),d.lineString([s[A][_][y],s[A][_][y+1]],E,p)}throw new Error("geojson is invalid")}function c(o,p){if(p=p||{},!d.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,A=p.multiFeatureIndex||0,_=p.geometryIndex||0,y=p.coordIndex||0,E=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),E=E||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return d.point(s,E,p);case"MultiPoint":return A<0&&(A=s.length+A),d.point(s[A],E,p);case"LineString":return y<0&&(y=s.length+y),d.point(s[y],E,p);case"Polygon":return _<0&&(_=s.length+_),y<0&&(y=s[_].length+y),d.point(s[_][y],E,p);case"MultiLineString":return A<0&&(A=s.length+A),y<0&&(y=s[A].length+y),d.point(s[A][y],E,p);case"MultiPolygon":return A<0&&(A=s.length+A),_<0&&(_=s[A].length+_),y<0&&(y=s[A][_].length-y),d.point(s[A][_][y],E,p)}throw new Error("geojson is invalid")}U.coordEach=C,U.coordReduce=n,U.propEach=L,U.propReduce=w,U.featureEach=v,U.featureReduce=g,U.coordAll=r,U.geomEach=t,U.geomReduce=i,U.flattenEach=a,U.flattenReduce=u,U.segmentEach=f,U.segmentReduce=l,U.lineEach=m,U.lineReduce=h,U.findSegment=T,U.findPoint=c},77844:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var d=e(43752),C=e(49840);function n(L,w){w===void 0&&(w={});var v=0,g=0,r=0;return d.coordEach(L,function(t){v+=t[0],g+=t[1],r++}),C.point([v/r,g/r],w.properties)}U.default=n},49840:function(H,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius/1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:.91441111923921},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(k,F,N){N===void 0&&(N={});var O={type:"Feature"};return(N.id===0||N.id)&&(O.id=N.id),N.bbox&&(O.bbox=N.bbox),O.properties=F||{},O.geometry=k,O}U.feature=e;function d(k,F,N){switch(k){case"Point":return C(F).geometry;case"LineString":return v(F).geometry;case"Polygon":return L(F).geometry;case"MultiPoint":return i(F).geometry;case"MultiLineString":return t(F).geometry;case"MultiPolygon":return a(F).geometry;default:throw new Error(k+" is invalid")}}U.geometry=d;function C(k,F,N){N===void 0&&(N={});var O={type:"Point",coordinates:k};return e(O,F,N)}U.point=C;function n(k,F,N){return N===void 0&&(N={}),r(k.map(function(O){return C(O,F)}),N)}U.points=n;function L(k,F,N){N===void 0&&(N={});for(var O=0,V=k;O<V.length;O++){var X=V[O];if(X.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ee=0;ee<X[X.length-1].length;ee++)if(X[X.length-1][ee]!==X[0][ee])throw new Error("First and last Position are not equivalent.")}var ne={type:"Polygon",coordinates:k};return e(ne,F,N)}U.polygon=L;function w(k,F,N){return N===void 0&&(N={}),r(k.map(function(O){return L(O,F)}),N)}U.polygons=w;function v(k,F,N){if(N===void 0&&(N={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");var O={type:"LineString",coordinates:k};return e(O,F,N)}U.lineString=v;function g(k,F,N){return N===void 0&&(N={}),r(k.map(function(O){return v(O,F)}),N)}U.lineStrings=g;function r(k,F){F===void 0&&(F={});var N={type:"FeatureCollection"};return F.id&&(N.id=F.id),F.bbox&&(N.bbox=F.bbox),N.features=k,N}U.featureCollection=r;function t(k,F,N){N===void 0&&(N={});var O={type:"MultiLineString",coordinates:k};return e(O,F,N)}U.multiLineString=t;function i(k,F,N){N===void 0&&(N={});var O={type:"MultiPoint",coordinates:k};return e(O,F,N)}U.multiPoint=i;function a(k,F,N){N===void 0&&(N={});var O={type:"MultiPolygon",coordinates:k};return e(O,F,N)}U.multiPolygon=a;function u(k,F,N){N===void 0&&(N={});var O={type:"GeometryCollection",geometries:k};return e(O,F,N)}U.geometryCollection=u;function f(k,F){if(F===void 0&&(F=0),F&&!(F>=0))throw new Error("precision must be a positive number");var N=Math.pow(10,F||0);return Math.round(k*N)/N}U.round=f;function l(k,F){F===void 0&&(F="kilometers");var N=U.factors[F];if(!N)throw new Error(F+" units is invalid");return k*N}U.radiansToLength=l;function m(k,F){F===void 0&&(F="kilometers");var N=U.factors[F];if(!N)throw new Error(F+" units is invalid");return k/N}U.lengthToRadians=m;function h(k,F){return c(m(k,F))}U.lengthToDegrees=h;function T(k){var F=k%360;return F<0&&(F+=360),F}U.bearingToAzimuth=T;function c(k){var F=k%(2*Math.PI);return F*180/Math.PI}U.radiansToDegrees=c;function o(k){var F=k%360;return F*Math.PI/180}U.degreesToRadians=o;function p(k,F,N){if(F===void 0&&(F="kilometers"),N===void 0&&(N="kilometers"),!(k>=0))throw new Error("length must be a positive number");return l(m(k,F),N)}U.convertLength=p;function x(k,F,N){if(F===void 0&&(F="meters"),N===void 0&&(N="kilometers"),!(k>=0))throw new Error("area must be a positive number");var O=U.areaFactors[F];if(!O)throw new Error("invalid original units");var V=U.areaFactors[N];if(!V)throw new Error("invalid final units");return k/O*V}U.convertArea=x;function A(k){return!isNaN(k)&&k!==null&&!Array.isArray(k)&&!/^\s*$/.test(k)}U.isNumber=A;function _(k){return!!k&&k.constructor===Object}U.isObject=_;function y(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(k.length!==4&&k.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(F){if(!A(F))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function E(k){if(!k)throw new Error("id is required");if(["string","number"].indexOf(typeof k)===-1)throw new Error("id must be a number or a string")}U.validateId=E;function M(){throw new Error("method has been renamed to `radiansToDegrees`")}U.radians2degrees=M;function s(){throw new Error("method has been renamed to `degreesToRadians`")}U.degrees2radians=s;function S(){throw new Error("method has been renamed to `lengthToDegrees`")}U.distanceToDegrees=S;function b(){throw new Error("method has been renamed to `lengthToRadians`")}U.distanceToRadians=b;function I(){throw new Error("method has been renamed to `radiansToLength`")}U.radiansToDistance=I;function D(){throw new Error("method has been renamed to `bearingToAzimuth`")}U.bearingToAngle=D;function B(){throw new Error("method has been renamed to `convertLength`")}U.convertDistance=B},43752:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var d=e(49840);function C(o,p,x){if(o!==null)for(var A,_,y,E,M,s,S,b=0,I=0,D,B=o.type,k=B==="FeatureCollection",F=B==="Feature",N=k?o.features.length:1,O=0;O<N;O++){S=k?o.features[O].geometry:F?o.geometry:o,D=S?S.type==="GeometryCollection":!1,M=D?S.geometries.length:1;for(var V=0;V<M;V++){var X=0,ee=0;if(E=D?S.geometries[V]:S,E!==null){s=E.coordinates;var ne=E.type;switch(b=x&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(p(s,I,O,X,ee)===!1)return!1;I++,X++;break;case"LineString":case"MultiPoint":for(A=0;A<s.length;A++){if(p(s[A],I,O,X,ee)===!1)return!1;I++,ne==="MultiPoint"&&X++}ne==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(A=0;A<s.length;A++){for(_=0;_<s[A].length-b;_++){if(p(s[A][_],I,O,X,ee)===!1)return!1;I++}ne==="MultiLineString"&&X++,ne==="Polygon"&&ee++}ne==="Polygon"&&X++;break;case"MultiPolygon":for(A=0;A<s.length;A++){for(ee=0,_=0;_<s[A].length;_++){for(y=0;y<s[A][_].length-b;y++){if(p(s[A][_][y],I,O,X,ee)===!1)return!1;I++}ee++}X++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(C(E.geometries[A],p,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,p,x,A){var _=x;return C(o,function(y,E,M,s,S){E===0&&x===void 0?_=y:_=p(_,y,E,M,s,S)},A),_}function L(o,p){var x;switch(o.type){case"FeatureCollection":for(x=0;x<o.features.length&&p(o.features[x].properties,x)!==!1;x++);break;case"Feature":p(o.properties,0);break}}function w(o,p,x){var A=x;return L(o,function(_,y){y===0&&x===void 0?A=_:A=p(A,_,y)}),A}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var x=0;x<o.features.length&&p(o.features[x],x)!==!1;x++);}function g(o,p,x){var A=x;return v(o,function(_,y){y===0&&x===void 0?A=_:A=p(A,_,y)}),A}function r(o){var p=[];return C(o,function(x){p.push(x)}),p}function t(o,p){var x,A,_,y,E,M,s,S,b,I,D=0,B=o.type==="FeatureCollection",k=o.type==="Feature",F=B?o.features.length:1;for(x=0;x<F;x++){for(M=B?o.features[x].geometry:k?o.geometry:o,S=B?o.features[x].properties:k?o.properties:{},b=B?o.features[x].bbox:k?o.bbox:void 0,I=B?o.features[x].id:k?o.id:void 0,s=M?M.type==="GeometryCollection":!1,E=s?M.geometries.length:1,_=0;_<E;_++){if(y=s?M.geometries[_]:M,y===null){if(p(null,D,S,b,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(y,D,S,b,I)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<y.geometries.length;A++)if(p(y.geometries[A],D,S,b,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function i(o,p,x){var A=x;return t(o,function(_,y,E,M,s){y===0&&x===void 0?A=_:A=p(A,_,y,E,M,s)}),A}function a(o,p){t(o,function(x,A,_,y,E){var M=x===null?null:x.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return p(d.feature(x,_,{bbox:y,id:E}),A,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var S=0;S<x.coordinates.length;S++){var b=x.coordinates[S],I={type:s,coordinates:b};if(p(d.feature(I,_),A,S)===!1)return!1}})}function u(o,p,x){var A=x;return a(o,function(_,y,E){y===0&&E===0&&x===void 0?A=_:A=p(A,_,y,E)}),A}function f(o,p){a(o,function(x,A,_){var y=0;if(x.geometry){var E=x.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var M,s=0,S=0,b=0;if(C(x,function(I,D,B,k,F){if(M===void 0||A>s||k>S||F>b){M=I,s=A,S=k,b=F,y=0;return}var N=d.lineString([M,I],x.properties);if(p(N,A,_,F,y)===!1)return!1;y++,M=I})===!1)return!1}}})}function l(o,p,x){var A=x,_=!1;return f(o,function(y,E,M,s,S){_===!1&&x===void 0?A=y:A=p(A,y,E,M,s,S),_=!0}),A}function m(o,p){if(!o)throw new Error("geojson is required");a(o,function(x,A,_){if(x.geometry!==null){var y=x.geometry.type,E=x.geometry.coordinates;switch(y){case"LineString":if(p(x,A,_,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<E.length;M++)if(p(d.lineString(E[M],x.properties),A,_,M)===!1)return!1;break}}})}function h(o,p,x){var A=x;return m(o,function(_,y,E,M){y===0&&x===void 0?A=_:A=p(A,_,y,E,M)}),A}function T(o,p){if(p=p||{},!d.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,A=p.multiFeatureIndex||0,_=p.geometryIndex||0,y=p.segmentIndex||0,E=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),E=E||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=s.length+y-1),d.lineString([s[y],s[y+1]],E,p);case"Polygon":return _<0&&(_=s.length+_),y<0&&(y=s[_].length+y-1),d.lineString([s[_][y],s[_][y+1]],E,p);case"MultiLineString":return A<0&&(A=s.length+A),y<0&&(y=s[A].length+y-1),d.lineString([s[A][y],s[A][y+1]],E,p);case"MultiPolygon":return A<0&&(A=s.length+A),_<0&&(_=s[A].length+_),y<0&&(y=s[A][_].length-y-1),d.lineString([s[A][_][y],s[A][_][y+1]],E,p)}throw new Error("geojson is invalid")}function c(o,p){if(p=p||{},!d.isObject(p))throw new Error("options is invalid");var x=p.featureIndex||0,A=p.multiFeatureIndex||0,_=p.geometryIndex||0,y=p.coordIndex||0,E=p.properties,M;switch(o.type){case"FeatureCollection":x<0&&(x=o.features.length+x),E=E||o.features[x].properties,M=o.features[x].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return d.point(s,E,p);case"MultiPoint":return A<0&&(A=s.length+A),d.point(s[A],E,p);case"LineString":return y<0&&(y=s.length+y),d.point(s[y],E,p);case"Polygon":return _<0&&(_=s.length+_),y<0&&(y=s[_].length+y),d.point(s[_][y],E,p);case"MultiLineString":return A<0&&(A=s.length+A),y<0&&(y=s[A].length+y),d.point(s[A][y],E,p);case"MultiPolygon":return A<0&&(A=s.length+A),_<0&&(_=s[A].length+_),y<0&&(y=s[A][_].length-y),d.point(s[A][_][y],E,p)}throw new Error("geojson is invalid")}U.coordEach=C,U.coordReduce=n,U.propEach=L,U.propReduce=w,U.featureEach=v,U.featureReduce=g,U.coordAll=r,U.geomEach=t,U.geomReduce=i,U.flattenEach=a,U.flattenReduce=u,U.segmentEach=f,U.segmentReduce=l,U.lineEach=m,U.lineReduce=h,U.findSegment=T,U.findPoint=c},49972:function(H){H.exports=U;function U(e){var d=0,C=0,n=0,L=0;return e.map(function(w){w=w.slice();var v=w[0],g=v.toUpperCase();if(v!=g)switch(w[0]=g,v){case"a":w[6]+=n,w[7]+=L;break;case"v":w[1]+=L;break;case"h":w[1]+=n;break;default:for(var r=1;r<w.length;)w[r++]+=n,w[r++]+=L}switch(g){case"Z":n=d,L=C;break;case"H":n=w[1];break;case"V":L=w[1];break;case"M":n=d=w[1],L=C=w[2];break;default:n=w[w.length-2],L=w[w.length-1]}return w})}},76752:function(H){H.exports=U;function U(e,d){if(!e||e.length==null)throw Error("Argument should be an array");d==null?d=1:d=Math.floor(d);for(var C=Array(d*2),n=0;n<d;n++){for(var L=-1/0,w=1/0,v=n,g=e.length;v<g;v+=d)e[v]>L&&(L=e[v]),e[v]<w&&(w=e[v]);C[n]=w,C[d+n]=L}return C}},10272:function(H){H.exports=function(U,e,d){if(typeof Array.prototype.findIndex=="function")return U.findIndex(e,d);if(typeof e!="function")throw new TypeError("predicate must be a function");var C=Object(U),n=C.length;if(n===0)return-1;for(var L=0;L<n;L++)if(e.call(d,C[L],L,C))return L;return-1}},71152:function(H,U,e){var d=e(76752);H.exports=C;function C(n,L,w){if(!n||n.length==null)throw Error("Argument should be an array");L==null&&(L=1),w==null&&(w=d(n,L));for(var v=0;v<L;v++){var g=w[L+v],r=w[v],t=v,i=n.length;if(g===1/0&&r===-1/0)for(t=v;t<i;t+=L)n[t]=n[t]===g?1:n[t]===r?0:.5;else if(g===1/0)for(t=v;t<i;t+=L)n[t]=n[t]===g?1:0;else if(r===-1/0)for(t=v;t<i;t+=L)n[t]=n[t]===r?0:1;else{var a=g-r;for(t=v;t<i;t+=L)isNaN(n[t])||(n[t]=a===0?.5:(n[t]-r)/a)}}return n}},67752:function(H){H.exports=function(e,d){var C=typeof e=="number",n=typeof d=="number";C&&!n?(d=e,e=0):!C&&!n&&(e=0,d=0),e=e|0,d=d|0;var L=d-e;if(L<0)throw new Error("array length must be positive");for(var w=new Array(L),v=0,g=e;v<L;v++,g++)w[v]=g;return w}},45408:function(H,U,e){var d=e(4168);function C(ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(q){return typeof q}:C=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},C(ee)}function n(ee,ne){if(!(ee instanceof ne))throw new TypeError("Cannot call a class as a function")}var L=e(86832),w=L.codes,v=w.ERR_AMBIGUOUS_ARGUMENT,g=w.ERR_INVALID_ARG_TYPE,r=w.ERR_INVALID_ARG_VALUE,t=w.ERR_INVALID_RETURN_VALUE,i=w.ERR_MISSING_ARGS,a=e(26144),u=e(35840),f=u.inspect,l=e(35840).types,m=l.isPromise,h=l.isRegExp,T=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),o,p;function x(){var ee=e(25116);o=ee.isDeepEqual,p=ee.isDeepStrictEqual}var A=!1,_=H.exports=S,y={};function E(ee){throw ee.message instanceof Error?ee.message:new a(ee)}function M(ee,ne,q,se,J){var Z=arguments.length,te;if(Z===0)te="Failed";else if(Z===1)q=ee,ee=void 0;else{if(A===!1){A=!0;var Y=d.emitWarning?d.emitWarning:console.warn.bind(console);Y("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(se="!=")}if(q instanceof Error)throw q;var ie={actual:ee,expected:ne,operator:se===void 0?"fail":se,stackStartFn:J||M};q!==void 0&&(ie.message=q);var le=new a(ie);throw te&&(le.message=te,le.generatedMessage=!0),le}_.fail=M,_.AssertionError=a;function s(ee,ne,q,se){if(!q){var J=!1;if(ne===0)J=!0,se="No value argument passed to `assert.ok()`";else if(se instanceof Error)throw se;var Z=new a({actual:q,expected:!0,message:se,operator:"==",stackStartFn:ee});throw Z.generatedMessage=J,Z}}function S(){for(var ee=arguments.length,ne=new Array(ee),q=0;q<ee;q++)ne[q]=arguments[q];s.apply(void 0,[S,ne.length].concat(ne))}_.ok=S,_.equal=function ee(ne,q,se){if(arguments.length<2)throw new i("actual","expected");ne!=q&&E({actual:ne,expected:q,message:se,operator:"==",stackStartFn:ee})},_.notEqual=function ee(ne,q,se){if(arguments.length<2)throw new i("actual","expected");ne==q&&E({actual:ne,expected:q,message:se,operator:"!=",stackStartFn:ee})},_.deepEqual=function ee(ne,q,se){if(arguments.length<2)throw new i("actual","expected");o===void 0&&x(),o(ne,q)||E({actual:ne,expected:q,message:se,operator:"deepEqual",stackStartFn:ee})},_.notDeepEqual=function ee(ne,q,se){if(arguments.length<2)throw new i("actual","expected");o===void 0&&x(),o(ne,q)&&E({actual:ne,expected:q,message:se,operator:"notDeepEqual",stackStartFn:ee})},_.deepStrictEqual=function ee(ne,q,se){if(arguments.length<2)throw new i("actual","expected");o===void 0&&x(),p(ne,q)||E({actual:ne,expected:q,message:se,operator:"deepStrictEqual",stackStartFn:ee})},_.notDeepStrictEqual=b;function b(ee,ne,q){if(arguments.length<2)throw new i("actual","expected");o===void 0&&x(),p(ee,ne)&&E({actual:ee,expected:ne,message:q,operator:"notDeepStrictEqual",stackStartFn:b})}_.strictEqual=function ee(ne,q,se){if(arguments.length<2)throw new i("actual","expected");c(ne,q)||E({actual:ne,expected:q,message:se,operator:"strictEqual",stackStartFn:ee})},_.notStrictEqual=function ee(ne,q,se){if(arguments.length<2)throw new i("actual","expected");c(ne,q)&&E({actual:ne,expected:q,message:se,operator:"notStrictEqual",stackStartFn:ee})};var I=function ee(ne,q,se){var J=this;n(this,ee),q.forEach(function(Z){Z in ne&&(se!==void 0&&typeof se[Z]=="string"&&h(ne[Z])&&ne[Z].test(se[Z])?J[Z]=se[Z]:J[Z]=ne[Z])})};function D(ee,ne,q,se,J,Z){if(!(q in ee)||!p(ee[q],ne[q])){if(!se){var te=new I(ee,J),Y=new I(ne,J,ee),ie=new a({actual:te,expected:Y,operator:"deepStrictEqual",stackStartFn:Z});throw ie.actual=ee,ie.expected=ne,ie.operator=Z.name,ie}E({actual:ee,expected:ne,message:se,operator:Z.name,stackStartFn:Z})}}function B(ee,ne,q,se){if(typeof ne!="function"){if(h(ne))return ne.test(ee);if(arguments.length===2)throw new g("expected",["Function","RegExp"],ne);if(C(ee)!=="object"||ee===null){var J=new a({actual:ee,expected:ne,message:q,operator:"deepStrictEqual",stackStartFn:se});throw J.operator=se.name,J}var Z=Object.keys(ne);if(ne instanceof Error)Z.push("name","message");else if(Z.length===0)throw new r("error",ne,"may not be an empty object");return o===void 0&&x(),Z.forEach(function(te){typeof ee[te]=="string"&&h(ne[te])&&ne[te].test(ee[te])||D(ee,ne,te,q,Z,se)}),!0}return ne.prototype!==void 0&&ee instanceof ne?!0:Error.isPrototypeOf(ne)?!1:ne.call({},ee)===!0}function k(ee){if(typeof ee!="function")throw new g("fn","Function",ee);try{ee()}catch(ne){return ne}return y}function F(ee){return m(ee)||ee!==null&&C(ee)==="object"&&typeof ee.then=="function"&&typeof ee.catch=="function"}function N(ee){return Promise.resolve().then(function(){var ne;if(typeof ee=="function"){if(ne=ee(),!F(ne))throw new t("instance of Promise","promiseFn",ne)}else if(F(ee))ne=ee;else throw new g("promiseFn",["Function","Promise"],ee);return Promise.resolve().then(function(){return ne}).then(function(){return y}).catch(function(q){return q})})}function O(ee,ne,q,se){if(typeof q=="string"){if(arguments.length===4)throw new g("error",["Object","Error","Function","RegExp"],q);if(C(ne)==="object"&&ne!==null){if(ne.message===q)throw new v("error/message",'The error message "'.concat(ne.message,'" is identical to the message.'))}else if(ne===q)throw new v("error/message",'The error "'.concat(ne,'" is identical to the message.'));se=q,q=void 0}else if(q!=null&&C(q)!=="object"&&typeof q!="function")throw new g("error",["Object","Error","Function","RegExp"],q);if(ne===y){var J="";q&&q.name&&(J+=" (".concat(q.name,")")),J+=se?": ".concat(se):".";var Z=ee.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:q,operator:ee.name,message:"Missing expected ".concat(Z).concat(J),stackStartFn:ee})}if(q&&!B(ne,q,se,ee))throw ne}function V(ee,ne,q,se){if(ne!==y){if(typeof q=="string"&&(se=q,q=void 0),!q||B(ne,q)){var J=se?": ".concat(se):".",Z=ee.name==="doesNotReject"?"rejection":"exception";E({actual:ne,expected:q,operator:ee.name,message:"Got unwanted ".concat(Z).concat(J,`
`)+'Actual message: "'.concat(ne&&ne.message,'"'),stackStartFn:ee})}throw ne}}_.throws=function ee(ne){for(var q=arguments.length,se=new Array(q>1?q-1:0),J=1;J<q;J++)se[J-1]=arguments[J];O.apply(void 0,[ee,k(ne)].concat(se))},_.rejects=function ee(ne){for(var q=arguments.length,se=new Array(q>1?q-1:0),J=1;J<q;J++)se[J-1]=arguments[J];return N(ne).then(function(Z){return O.apply(void 0,[ee,Z].concat(se))})},_.doesNotThrow=function ee(ne){for(var q=arguments.length,se=new Array(q>1?q-1:0),J=1;J<q;J++)se[J-1]=arguments[J];V.apply(void 0,[ee,k(ne)].concat(se))},_.doesNotReject=function ee(ne){for(var q=arguments.length,se=new Array(q>1?q-1:0),J=1;J<q;J++)se[J-1]=arguments[J];return N(ne).then(function(Z){return V.apply(void 0,[ee,Z].concat(se))})},_.ifError=function ee(ne){if(ne!=null){var q="ifError got unwanted exception: ";C(ne)==="object"&&typeof ne.message=="string"?ne.message.length===0&&ne.constructor?q+=ne.constructor.name:q+=ne.message:q+=f(ne);var se=new a({actual:ne,expected:null,operator:"ifError",message:q,stackStartFn:ee}),J=ne.stack;if(typeof J=="string"){var Z=J.split(`
`);Z.shift();for(var te=se.stack.split(`
`),Y=0;Y<Z.length;Y++){var ie=te.indexOf(Z[Y]);if(ie!==-1){te=te.slice(0,ie);break}}se.stack="".concat(te.join(`
`),`
`).concat(Z.join(`
`))}throw se}};function X(){for(var ee=arguments.length,ne=new Array(ee),q=0;q<ee;q++)ne[q]=arguments[q];s.apply(void 0,[X,ne.length].concat(ne))}_.strict=T(X,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},26144:function(H,U,e){var d=e(4168);function C(k){for(var F=1;F<arguments.length;F++){var N=arguments[F]!=null?arguments[F]:{},O=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(N).filter(function(V){return Object.getOwnPropertyDescriptor(N,V).enumerable}))),O.forEach(function(V){n(k,V,N[V])})}return k}function n(k,F,N){return F in k?Object.defineProperty(k,F,{value:N,enumerable:!0,configurable:!0,writable:!0}):k[F]=N,k}function L(k,F){if(!(k instanceof F))throw new TypeError("Cannot call a class as a function")}function w(k,F){for(var N=0;N<F.length;N++){var O=F[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}function v(k,F,N){return F&&w(k.prototype,F),N&&w(k,N),k}function g(k,F){return F&&(h(F)==="object"||typeof F=="function")?F:r(k)}function r(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function t(k,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(F&&F.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),F&&l(k,F)}function i(k){var F=typeof Map=="function"?new Map:void 0;return i=function(O){if(O===null||!f(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(typeof F<"u"){if(F.has(O))return F.get(O);F.set(O,V)}function V(){return u(O,arguments,m(this).constructor)}return V.prototype=Object.create(O.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),l(V,O)},i(k)}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function u(k,F,N){return a()?u=Reflect.construct:u=function(V,X,ee){var ne=[null];ne.push.apply(ne,X);var q=Function.bind.apply(V,ne),se=new q;return ee&&l(se,ee.prototype),se},u.apply(null,arguments)}function f(k){return Function.toString.call(k).indexOf("[native code]")!==-1}function l(k,F){return l=Object.setPrototypeOf||function(O,V){return O.__proto__=V,O},l(k,F)}function m(k){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},m(k)}function h(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(N){return typeof N}:h=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},h(k)}var T=e(35840),c=T.inspect,o=e(86832),p=o.codes.ERR_INVALID_ARG_TYPE;function x(k,F,N){return(N===void 0||N>k.length)&&(N=k.length),k.substring(N-F.length,N)===F}function A(k,F){if(F=Math.floor(F),k.length==0||F==0)return"";var N=k.length*F;for(F=Math.floor(Math.log(F)/Math.log(2));F;)k+=k,F--;return k+=k.substring(0,N-k.length),k}var _="",y="",E="",M="",s={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},S=10;function b(k){var F=Object.keys(k),N=Object.create(Object.getPrototypeOf(k));return F.forEach(function(O){N[O]=k[O]}),Object.defineProperty(N,"message",{value:k.message}),N}function I(k){return c(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function D(k,F,N){var O="",V="",X=0,ee="",ne=!1,q=I(k),se=q.split(`
`),J=I(F).split(`
`),Z=0,te="";if(N==="strictEqual"&&h(k)==="object"&&h(F)==="object"&&k!==null&&F!==null&&(N="strictEqualObject"),se.length===1&&J.length===1&&se[0]!==J[0]){var Y=se[0].length+J[0].length;if(Y<=S){if((h(k)!=="object"||k===null)&&(h(F)!=="object"||F===null)&&(k!==0||F!==0))return"".concat(s[N],`

`)+"".concat(se[0]," !== ").concat(J[0],`
`)}else if(N!=="strictEqualObject"){var ie=d.stderr&&d.stderr.isTTY?d.stderr.columns:80;if(Y<ie){for(;se[0][Z]===J[0][Z];)Z++;Z>2&&(te=`
  `.concat(A(" ",Z),"^"),Z=0)}}}for(var le=se[se.length-1],j=J[J.length-1];le===j&&(Z++<2?ee=`
  `.concat(le).concat(ee):O=le,se.pop(),J.pop(),!(se.length===0||J.length===0));)le=se[se.length-1],j=J[J.length-1];var K=Math.max(se.length,J.length);if(K===0){var ue=q.split(`
`);if(ue.length>30)for(ue[26]="".concat(_,"...").concat(M);ue.length>27;)ue.pop();return"".concat(s.notIdentical,`

`).concat(ue.join(`
`),`
`)}Z>3&&(ee=`
`.concat(_,"...").concat(M).concat(ee),ne=!0),O!==""&&(ee=`
  `.concat(O).concat(ee),O="");var ae=0,he=s[N]+`
`.concat(y,"+ actual").concat(M," ").concat(E,"- expected").concat(M),xe=" ".concat(_,"...").concat(M," Lines skipped");for(Z=0;Z<K;Z++){var Se=Z-X;if(se.length<Z+1)Se>1&&Z>2&&(Se>4?(V+=`
`.concat(_,"...").concat(M),ne=!0):Se>3&&(V+=`
  `.concat(J[Z-2]),ae++),V+=`
  `.concat(J[Z-1]),ae++),X=Z,O+=`
`.concat(E,"-").concat(M," ").concat(J[Z]),ae++;else if(J.length<Z+1)Se>1&&Z>2&&(Se>4?(V+=`
`.concat(_,"...").concat(M),ne=!0):Se>3&&(V+=`
  `.concat(se[Z-2]),ae++),V+=`
  `.concat(se[Z-1]),ae++),X=Z,V+=`
`.concat(y,"+").concat(M," ").concat(se[Z]),ae++;else{var Ae=J[Z],De=se[Z],we=De!==Ae&&(!x(De,",")||De.slice(0,-1)!==Ae);we&&x(Ae,",")&&Ae.slice(0,-1)===De&&(we=!1,De+=","),we?(Se>1&&Z>2&&(Se>4?(V+=`
`.concat(_,"...").concat(M),ne=!0):Se>3&&(V+=`
  `.concat(se[Z-2]),ae++),V+=`
  `.concat(se[Z-1]),ae++),X=Z,V+=`
`.concat(y,"+").concat(M," ").concat(De),O+=`
`.concat(E,"-").concat(M," ").concat(Ae),ae+=2):(V+=O,O="",(Se===1||Z===0)&&(V+=`
  `.concat(De),ae++))}if(ae>20&&Z<K-2)return"".concat(he).concat(xe,`
`).concat(V,`
`).concat(_,"...").concat(M).concat(O,`
`)+"".concat(_,"...").concat(M)}return"".concat(he).concat(ne?xe:"",`
`).concat(V).concat(O).concat(ee).concat(te)}var B=function(k){t(F,k);function F(N){var O;if(L(this,F),h(N)!=="object"||N===null)throw new p("options","Object",N);var V=N.message,X=N.operator,ee=N.stackStartFn,ne=N.actual,q=N.expected,se=Error.stackTraceLimit;if(Error.stackTraceLimit=0,V!=null)O=g(this,m(F).call(this,String(V)));else if(d.stderr&&d.stderr.isTTY&&(d.stderr&&d.stderr.getColorDepth&&d.stderr.getColorDepth()!==1?(_="\x1B[34m",y="\x1B[32m",M="\x1B[39m",E="\x1B[31m"):(_="",y="",M="",E="")),h(ne)==="object"&&ne!==null&&h(q)==="object"&&q!==null&&"stack"in ne&&ne instanceof Error&&"stack"in q&&q instanceof Error&&(ne=b(ne),q=b(q)),X==="deepStrictEqual"||X==="strictEqual")O=g(this,m(F).call(this,D(ne,q,X)));else if(X==="notDeepStrictEqual"||X==="notStrictEqual"){var J=s[X],Z=I(ne).split(`
`);if(X==="notStrictEqual"&&h(ne)==="object"&&ne!==null&&(J=s.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(_,"...").concat(M);Z.length>27;)Z.pop();Z.length===1?O=g(this,m(F).call(this,"".concat(J," ").concat(Z[0]))):O=g(this,m(F).call(this,"".concat(J,`

`).concat(Z.join(`
`),`
`)))}else{var te=I(ne),Y="",ie=s[X];X==="notDeepEqual"||X==="notEqual"?(te="".concat(s[X],`

`).concat(te),te.length>1024&&(te="".concat(te.slice(0,1021),"..."))):(Y="".concat(I(q)),te.length>512&&(te="".concat(te.slice(0,509),"...")),Y.length>512&&(Y="".concat(Y.slice(0,509),"...")),X==="deepEqual"||X==="equal"?te="".concat(ie,`

`).concat(te,`

should equal

`):Y=" ".concat(X," ").concat(Y)),O=g(this,m(F).call(this,"".concat(te).concat(Y)))}return Error.stackTraceLimit=se,O.generatedMessage=!V,Object.defineProperty(r(O),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),O.code="ERR_ASSERTION",O.actual=ne,O.expected=q,O.operator=X,Error.captureStackTrace&&Error.captureStackTrace(r(O),ee),O.stack,O.name="AssertionError",g(O)}return v(F,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(O,V){return c(this,C({},V,{customInspect:!1,depth:0}))}}]),F}(i(Error));H.exports=B},86832:function(H,U,e){function d(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(c){return typeof c}:d=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},d(h)}function C(h,T){if(!(h instanceof T))throw new TypeError("Cannot call a class as a function")}function n(h,T){return T&&(d(T)==="object"||typeof T=="function")?T:L(h)}function L(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function w(h){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},w(h)}function v(h,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(T&&T.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),T&&g(h,T)}function g(h,T){return g=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},g(h,T)}var r={},t,i;function a(h,T,c){c||(c=Error);function o(x,A,_){return typeof T=="string"?T:T(x,A,_)}var p=function(x){v(A,x);function A(_,y,E){var M;return C(this,A),M=n(this,w(A).call(this,o(_,y,E))),M.code=h,M}return A}(c);r[h]=p}function u(h,T){if(Array.isArray(h)){var c=h.length;return h=h.map(function(o){return String(o)}),c>2?"one of ".concat(T," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(T," ").concat(h[0]," or ").concat(h[1]):"of ".concat(T," ").concat(h[0])}else return"of ".concat(T," ").concat(String(h))}function f(h,T,c){return h.substr(!c||c<0?0:+c,T.length)===T}function l(h,T,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-T.length,c)===T}function m(h,T,c){return typeof c!="number"&&(c=0),c+T.length>h.length?!1:h.indexOf(T,c)!==-1}a("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),a("ERR_INVALID_ARG_TYPE",function(h,T,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var o;typeof T=="string"&&f(T,"not ")?(o="must not be",T=T.replace(/^not /,"")):o="must be";var p;if(l(h," argument"))p="The ".concat(h," ").concat(o," ").concat(u(T,"type"));else{var x=m(h,".")?"property":"argument";p='The "'.concat(h,'" ').concat(x," ").concat(o," ").concat(u(T,"type"))}return p+=". Received type ".concat(d(c)),p},TypeError),a("ERR_INVALID_ARG_VALUE",function(h,T){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";i===void 0&&(i=e(35840));var o=i.inspect(T);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(o)},TypeError),a("ERR_INVALID_RETURN_VALUE",function(h,T,c){var o;return c&&c.constructor&&c.constructor.name?o="instance of ".concat(c.constructor.name):o="type ".concat(d(c)),"Expected ".concat(h,' to be returned from the "').concat(T,'"')+" function but got ".concat(o,".")},TypeError),a("ERR_MISSING_ARGS",function(){for(var h=arguments.length,T=new Array(h),c=0;c<h;c++)T[c]=arguments[c];t===void 0&&(t=e(45408)),t(T.length>0,"At least one arg needs to be specified");var o="The ",p=T.length;switch(T=T.map(function(x){return'"'.concat(x,'"')}),p){case 1:o+="".concat(T[0]," argument");break;case 2:o+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:o+=T.slice(0,p-1).join(", "),o+=", and ".concat(T[p-1]," arguments");break}return"".concat(o," must be specified")},TypeError),H.exports.codes=r},25116:function(H,U,e){function d(Ce,be){return L(Ce)||n(Ce,be)||C()}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(Ce,be){var Pe=[],Ve=!0,Ge=!1,Fe=void 0;try{for(var He=Ce[Symbol.iterator](),ft;!(Ve=(ft=He.next()).done)&&(Pe.push(ft.value),!(be&&Pe.length===be));Ve=!0);}catch(gt){Ge=!0,Fe=gt}finally{try{!Ve&&He.return!=null&&He.return()}finally{if(Ge)throw Fe}}return Pe}function L(Ce){if(Array.isArray(Ce))return Ce}function w(Ce){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(Pe){return typeof Pe}:w=function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},w(Ce)}var v=/a/g.flags!==void 0,g=function(be){var Pe=[];return be.forEach(function(Ve){return Pe.push(Ve)}),Pe},r=function(be){var Pe=[];return be.forEach(function(Ve,Ge){return Pe.push([Ge,Ve])}),Pe},t=Object.is?Object.is:e(39896),i=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},a=Number.isNaN?Number.isNaN:e(1560);function u(Ce){return Ce.call.bind(Ce)}var f=u(Object.prototype.hasOwnProperty),l=u(Object.prototype.propertyIsEnumerable),m=u(Object.prototype.toString),h=e(35840).types,T=h.isAnyArrayBuffer,c=h.isArrayBufferView,o=h.isDate,p=h.isMap,x=h.isRegExp,A=h.isSet,_=h.isNativeError,y=h.isBoxedPrimitive,E=h.isNumberObject,M=h.isStringObject,s=h.isBooleanObject,S=h.isBigIntObject,b=h.isSymbolObject,I=h.isFloat32Array,D=h.isFloat64Array;function B(Ce){if(Ce.length===0||Ce.length>10)return!0;for(var be=0;be<Ce.length;be++){var Pe=Ce.charCodeAt(be);if(Pe<48||Pe>57)return!0}return Ce.length===10&&Ce>=Math.pow(2,32)}function k(Ce){return Object.keys(Ce).filter(B).concat(i(Ce).filter(Object.prototype.propertyIsEnumerable.bind(Ce)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function F(Ce,be){if(Ce===be)return 0;for(var Pe=Ce.length,Ve=be.length,Ge=0,Fe=Math.min(Pe,Ve);Ge<Fe;++Ge)if(Ce[Ge]!==be[Ge]){Pe=Ce[Ge],Ve=be[Ge];break}return Pe<Ve?-1:Ve<Pe?1:0}var N=!0,O=!1,V=0,X=1,ee=2,ne=3;function q(Ce,be){return v?Ce.source===be.source&&Ce.flags===be.flags:RegExp.prototype.toString.call(Ce)===RegExp.prototype.toString.call(be)}function se(Ce,be){if(Ce.byteLength!==be.byteLength)return!1;for(var Pe=0;Pe<Ce.byteLength;Pe++)if(Ce[Pe]!==be[Pe])return!1;return!0}function J(Ce,be){return Ce.byteLength!==be.byteLength?!1:F(new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength),new Uint8Array(be.buffer,be.byteOffset,be.byteLength))===0}function Z(Ce,be){return Ce.byteLength===be.byteLength&&F(new Uint8Array(Ce),new Uint8Array(be))===0}function te(Ce,be){return E(Ce)?E(be)&&t(Number.prototype.valueOf.call(Ce),Number.prototype.valueOf.call(be)):M(Ce)?M(be)&&String.prototype.valueOf.call(Ce)===String.prototype.valueOf.call(be):s(Ce)?s(be)&&Boolean.prototype.valueOf.call(Ce)===Boolean.prototype.valueOf.call(be):S(Ce)?S(be)&&BigInt.prototype.valueOf.call(Ce)===BigInt.prototype.valueOf.call(be):b(be)&&Symbol.prototype.valueOf.call(Ce)===Symbol.prototype.valueOf.call(be)}function Y(Ce,be,Pe,Ve){if(Ce===be)return Ce!==0?!0:Pe?t(Ce,be):!0;if(Pe){if(w(Ce)!=="object")return typeof Ce=="number"&&a(Ce)&&a(be);if(w(be)!=="object"||Ce===null||be===null||Object.getPrototypeOf(Ce)!==Object.getPrototypeOf(be))return!1}else{if(Ce===null||w(Ce)!=="object")return be===null||w(be)!=="object"?Ce==be:!1;if(be===null||w(be)!=="object")return!1}var Ge=m(Ce),Fe=m(be);if(Ge!==Fe)return!1;if(Array.isArray(Ce)){if(Ce.length!==be.length)return!1;var He=k(Ce),ft=k(be);return He.length!==ft.length?!1:le(Ce,be,Pe,Ve,X,He)}if(Ge==="[object Object]"&&(!p(Ce)&&p(be)||!A(Ce)&&A(be)))return!1;if(o(Ce)){if(!o(be)||Date.prototype.getTime.call(Ce)!==Date.prototype.getTime.call(be))return!1}else if(x(Ce)){if(!x(be)||!q(Ce,be))return!1}else if(_(Ce)||Ce instanceof Error){if(Ce.message!==be.message||Ce.name!==be.name)return!1}else if(c(Ce)){if(!Pe&&(I(Ce)||D(Ce))){if(!se(Ce,be))return!1}else if(!J(Ce,be))return!1;var gt=k(Ce),ct=k(be);return gt.length!==ct.length?!1:le(Ce,be,Pe,Ve,V,gt)}else{if(A(Ce))return!A(be)||Ce.size!==be.size?!1:le(Ce,be,Pe,Ve,ee);if(p(Ce))return!p(be)||Ce.size!==be.size?!1:le(Ce,be,Pe,Ve,ne);if(T(Ce)){if(!Z(Ce,be))return!1}else if(y(Ce)&&!te(Ce,be))return!1}return le(Ce,be,Pe,Ve,V)}function ie(Ce,be){return be.filter(function(Pe){return l(Ce,Pe)})}function le(Ce,be,Pe,Ve,Ge,Fe){if(arguments.length===5){Fe=Object.keys(Ce);var He=Object.keys(be);if(Fe.length!==He.length)return!1}for(var ft=0;ft<Fe.length;ft++)if(!f(be,Fe[ft]))return!1;if(Pe&&arguments.length===5){var gt=i(Ce);if(gt.length!==0){var ct=0;for(ft=0;ft<gt.length;ft++){var nt=gt[ft];if(l(Ce,nt)){if(!l(be,nt))return!1;Fe.push(nt),ct++}else if(l(be,nt))return!1}var dt=i(be);if(gt.length!==dt.length&&ie(be,dt).length!==ct)return!1}else{var pt=i(be);if(pt.length!==0&&ie(be,pt).length!==0)return!1}}if(Fe.length===0&&(Ge===V||Ge===X&&Ce.length===0||Ce.size===0))return!0;if(Ve===void 0)Ve={val1:new Map,val2:new Map,position:0};else{var wt=Ve.val1.get(Ce);if(wt!==void 0){var Tt=Ve.val2.get(be);if(Tt!==void 0)return wt===Tt}Ve.position++}Ve.val1.set(Ce,Ve.position),Ve.val2.set(be,Ve.position);var Ct=Ae(Ce,be,Pe,Fe,Ve,Ge);return Ve.val1.delete(Ce),Ve.val2.delete(be),Ct}function j(Ce,be,Pe,Ve){for(var Ge=g(Ce),Fe=0;Fe<Ge.length;Fe++){var He=Ge[Fe];if(Y(be,He,Pe,Ve))return Ce.delete(He),!0}return!1}function K(Ce){switch(w(Ce)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ce=+Ce;case"number":if(a(Ce))return!1}return!0}function ue(Ce,be,Pe){var Ve=K(Pe);return Ve??(be.has(Ve)&&!Ce.has(Ve))}function ae(Ce,be,Pe,Ve,Ge){var Fe=K(Pe);if(Fe!=null)return Fe;var He=be.get(Fe);return He===void 0&&!be.has(Fe)||!Y(Ve,He,!1,Ge)?!1:!Ce.has(Fe)&&Y(Ve,He,!1,Ge)}function he(Ce,be,Pe,Ve){for(var Ge=null,Fe=g(Ce),He=0;He<Fe.length;He++){var ft=Fe[He];if(w(ft)==="object"&&ft!==null)Ge===null&&(Ge=new Set),Ge.add(ft);else if(!be.has(ft)){if(Pe||!ue(Ce,be,ft))return!1;Ge===null&&(Ge=new Set),Ge.add(ft)}}if(Ge!==null){for(var gt=g(be),ct=0;ct<gt.length;ct++){var nt=gt[ct];if(w(nt)==="object"&&nt!==null){if(!j(Ge,nt,Pe,Ve))return!1}else if(!Pe&&!Ce.has(nt)&&!j(Ge,nt,Pe,Ve))return!1}return Ge.size===0}return!0}function xe(Ce,be,Pe,Ve,Ge,Fe){for(var He=g(Ce),ft=0;ft<He.length;ft++){var gt=He[ft];if(Y(Pe,gt,Ge,Fe)&&Y(Ve,be.get(gt),Ge,Fe))return Ce.delete(gt),!0}return!1}function Se(Ce,be,Pe,Ve){for(var Ge=null,Fe=r(Ce),He=0;He<Fe.length;He++){var ft=d(Fe[He],2),gt=ft[0],ct=ft[1];if(w(gt)==="object"&&gt!==null)Ge===null&&(Ge=new Set),Ge.add(gt);else{var nt=be.get(gt);if(nt===void 0&&!be.has(gt)||!Y(ct,nt,Pe,Ve)){if(Pe||!ae(Ce,be,gt,ct,Ve))return!1;Ge===null&&(Ge=new Set),Ge.add(gt)}}}if(Ge!==null){for(var dt=r(be),pt=0;pt<dt.length;pt++){var wt=d(dt[pt],2),gt=wt[0],Tt=wt[1];if(w(gt)==="object"&&gt!==null){if(!xe(Ge,Ce,gt,Tt,Pe,Ve))return!1}else if(!Pe&&(!Ce.has(gt)||!Y(Ce.get(gt),Tt,!1,Ve))&&!xe(Ge,Ce,gt,Tt,!1,Ve))return!1}return Ge.size===0}return!0}function Ae(Ce,be,Pe,Ve,Ge,Fe){var He=0;if(Fe===ee){if(!he(Ce,be,Pe,Ge))return!1}else if(Fe===ne){if(!Se(Ce,be,Pe,Ge))return!1}else if(Fe===X)for(;He<Ce.length;He++)if(f(Ce,He)){if(!f(be,He)||!Y(Ce[He],be[He],Pe,Ge))return!1}else{if(f(be,He))return!1;for(var ft=Object.keys(Ce);He<ft.length;He++){var gt=ft[He];if(!f(be,gt)||!Y(Ce[gt],be[gt],Pe,Ge))return!1}return ft.length===Object.keys(be).length}for(He=0;He<Ve.length;He++){var ct=Ve[He];if(!Y(Ce[ct],be[ct],Pe,Ge))return!1}return!0}function De(Ce,be){return Y(Ce,be,O)}function we(Ce,be){return Y(Ce,be,N)}H.exports={isDeepEqual:De,isDeepStrictEqual:we}},83160:function(H,U,e){e.r(U),e.d(U,{decode:function(){return w},encode:function(){return L}});for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=typeof Uint8Array>"u"?[]:new Uint8Array(256),n=0;n<d.length;n++)C[d.charCodeAt(n)]=n;var L=function(v){var g=new Uint8Array(v),r,t=g.length,i="";for(r=0;r<t;r+=3)i+=d[g[r]>>2],i+=d[(g[r]&3)<<4|g[r+1]>>4],i+=d[(g[r+1]&15)<<2|g[r+2]>>6],i+=d[g[r+2]&63];return t%3===2?i=i.substring(0,i.length-1)+"=":t%3===1&&(i=i.substring(0,i.length-2)+"=="),i},w=function(v){var g=v.length*.75,r=v.length,t,i=0,a,u,f,l;v[v.length-1]==="="&&(g--,v[v.length-2]==="="&&g--);var m=new ArrayBuffer(g),h=new Uint8Array(m);for(t=0;t<r;t+=4)a=C[v.charCodeAt(t)],u=C[v.charCodeAt(t+1)],f=C[v.charCodeAt(t+2)],l=C[v.charCodeAt(t+3)],h[i++]=a<<2|u>>4,h[i++]=(u&15)<<4|f>>2,h[i++]=(f&3)<<6|l&63;return m}},59968:function(H,U){U.byteLength=g,U.toByteArray=t,U.fromByteArray=u;for(var e=[],d=[],C=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,w=n.length;L<w;++L)e[L]=n[L],d[n.charCodeAt(L)]=L;d[45]=62,d[95]=63;function v(f){var l=f.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=f.indexOf("=");m===-1&&(m=l);var h=m===l?0:4-m%4;return[m,h]}function g(f){var l=v(f),m=l[0],h=l[1];return(m+h)*3/4-h}function r(f,l,m){return(l+m)*3/4-m}function t(f){var l,m=v(f),h=m[0],T=m[1],c=new C(r(f,h,T)),o=0,p=T>0?h-4:h,x;for(x=0;x<p;x+=4)l=d[f.charCodeAt(x)]<<18|d[f.charCodeAt(x+1)]<<12|d[f.charCodeAt(x+2)]<<6|d[f.charCodeAt(x+3)],c[o++]=l>>16&255,c[o++]=l>>8&255,c[o++]=l&255;return T===2&&(l=d[f.charCodeAt(x)]<<2|d[f.charCodeAt(x+1)]>>4,c[o++]=l&255),T===1&&(l=d[f.charCodeAt(x)]<<10|d[f.charCodeAt(x+1)]<<4|d[f.charCodeAt(x+2)]>>2,c[o++]=l>>8&255,c[o++]=l&255),c}function i(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function a(f,l,m){for(var h,T=[],c=l;c<m;c+=3)h=(f[c]<<16&16711680)+(f[c+1]<<8&65280)+(f[c+2]&255),T.push(i(h));return T.join("")}function u(f){for(var l,m=f.length,h=m%3,T=[],c=16383,o=0,p=m-h;o<p;o+=c)T.push(a(f,o,o+c>p?p:o+c));return h===1?(l=f[m-1],T.push(e[l>>2]+e[l<<4&63]+"==")):h===2&&(l=(f[m-2]<<8)+f[m-1],T.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),T.join("")}},64928:function(H){function U(w,v,g,r,t){for(var i=t+1;r<=t;){var a=r+t>>>1,u=w[a],f=g!==void 0?g(u,v):u-v;f>=0?(i=a,t=a-1):r=a+1}return i}function e(w,v,g,r,t){for(var i=t+1;r<=t;){var a=r+t>>>1,u=w[a],f=g!==void 0?g(u,v):u-v;f>0?(i=a,t=a-1):r=a+1}return i}function d(w,v,g,r,t){for(var i=r-1;r<=t;){var a=r+t>>>1,u=w[a],f=g!==void 0?g(u,v):u-v;f<0?(i=a,r=a+1):t=a-1}return i}function C(w,v,g,r,t){for(var i=r-1;r<=t;){var a=r+t>>>1,u=w[a],f=g!==void 0?g(u,v):u-v;f<=0?(i=a,r=a+1):t=a-1}return i}function n(w,v,g,r,t){for(;r<=t;){var i=r+t>>>1,a=w[i],u=g!==void 0?g(a,v):a-v;if(u===0)return i;u<=0?r=i+1:t=i-1}return-1}function L(w,v,g,r,t,i){return typeof g=="function"?i(w,v,g,r===void 0?0:r|0,t===void 0?w.length-1:t|0):i(w,v,void 0,g===void 0?0:g|0,r===void 0?w.length-1:r|0)}H.exports={ge:function(w,v,g,r,t){return L(w,v,g,r,t,U)},gt:function(w,v,g,r,t){return L(w,v,g,r,t,e)},lt:function(w,v,g,r,t){return L(w,v,g,r,t,d)},le:function(w,v,g,r,t){return L(w,v,g,r,t,C)},eq:function(w,v,g,r,t){return L(w,v,g,r,t,n)}}},308:function(H,U){"use restrict";var e=32;U.INT_BITS=e,U.INT_MAX=2147483647,U.INT_MIN=-1<<e-1,U.sign=function(n){return(n>0)-(n<0)},U.abs=function(n){var L=n>>e-1;return(n^L)-L},U.min=function(n,L){return L^(n^L)&-(n<L)},U.max=function(n,L){return n^(n^L)&-(n<L)},U.isPow2=function(n){return!(n&n-1)&&!!n},U.log2=function(n){var L,w;return L=(n>65535)<<4,n>>>=L,w=(n>255)<<3,n>>>=w,L|=w,w=(n>15)<<2,n>>>=w,L|=w,w=(n>3)<<1,n>>>=w,L|=w,L|n>>1},U.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},U.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function d(n){var L=32;return n&=-n,n&&L--,n&65535&&(L-=16),n&16711935&&(L-=8),n&252645135&&(L-=4),n&858993459&&(L-=2),n&1431655765&&(L-=1),L}U.countTrailingZeros=d,U.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},U.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},U.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var C=new Array(256);(function(n){for(var L=0;L<256;++L){var w=L,v=L,g=7;for(w>>>=1;w;w>>>=1)v<<=1,v|=w&1,--g;n[L]=v<<g&255}})(C),U.reverse=function(n){return C[n&255]<<24|C[n>>>8&255]<<16|C[n>>>16&255]<<8|C[n>>>24&255]},U.interleave2=function(n,L){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,n|L<<1},U.deinterleave2=function(n,L){return n=n>>>L&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},U.interleave3=function(n,L,w){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,n|=L<<1,w&=1023,w=(w|w<<16)&4278190335,w=(w|w<<8)&251719695,w=(w|w<<4)&3272356035,w=(w|w<<2)&1227133513,n|w<<2},U.deinterleave3=function(n,L){return n=n>>>L&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},U.nextCombination=function(n){var L=n|n-1;return L+1|(~L&-~L)-1>>>d(n)+1}},29620:function(H,U,e){var d=e(32420);H.exports=n;var C=1e20;function n(v,g){g||(g={});var r=g.cutoff==null?.25:g.cutoff,t=g.radius==null?8:g.radius,i=g.channel||0,a,u,f,l,m,h,T,c,o,p,x;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!g.width||!g.height)throw Error("For raw data width and height should be provided by options");a=g.width,u=g.height,l=v,g.stride?h=g.stride:h=Math.floor(v.length/a/u)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,T=c.getContext("2d"),a=c.width,u=c.height,o=T.getImageData(0,0,a,u),l=o.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,T=v,a=c.width,u=c.height,o=T.getImageData(0,0,a,u),l=o.data,h=4):window.ImageData&&v instanceof window.ImageData&&(o=v,a=v.width,u=v.height,l=o.data,h=4);if(f=Math.max(a,u),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(m=l,l=Array(a*u),p=0,x=m.length;p<x;p++)l[p]=m[p*h+i]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var A=Array(a*u),_=Array(a*u),y=Array(f),E=Array(f),M=Array(f+1),s=Array(f);for(p=0,x=a*u;p<x;p++){var S=l[p];A[p]=S===1?0:S===0?C:Math.pow(Math.max(0,.5-S),2),_[p]=S===1?C:S===0?0:Math.pow(Math.max(0,S-.5),2)}L(A,a,u,y,E,s,M),L(_,a,u,y,E,s,M);var b=window.Float32Array?new Float32Array(a*u):new Array(a*u);for(p=0,x=a*u;p<x;p++)b[p]=d(1-((A[p]-_[p])/t+r),0,1);return b}function L(v,g,r,t,i,a,u){for(var f=0;f<g;f++){for(var l=0;l<r;l++)t[l]=v[l*g+f];for(w(t,i,a,u,r),l=0;l<r;l++)v[l*g+f]=i[l]}for(l=0;l<r;l++){for(f=0;f<g;f++)t[f]=v[l*g+f];for(w(t,i,a,u,g),f=0;f<g;f++)v[l*g+f]=Math.sqrt(i[f])}}function w(v,g,r,t,i){r[0]=0,t[0]=-C,t[1]=+C;for(var a=1,u=0;a<i;a++){for(var f=(v[a]+a*a-(v[r[u]]+r[u]*r[u]))/(2*a-2*r[u]);f<=t[u];)u--,f=(v[a]+a*a-(v[r[u]]+r[u]*r[u]))/(2*a-2*r[u]);u++,r[u]=a,t[u]=f,t[u+1]=+C}for(a=0,u=0;a<i;a++){for(;t[u+1]<a;)u++;g[a]=(a-r[u])*(a-r[u])+v[r[u]]}}},99676:function(H,U,e){var d=e(53664),C=e(57916),n=C(d("String.prototype.indexOf"));H.exports=function(w,v){var g=d(w,!!v);return typeof g=="function"&&n(w,".prototype.")>-1?C(g):g}},57916:function(H,U,e){var d=e(8844),C=e(53664),n=e(14500),L=C("%TypeError%"),w=C("%Function.prototype.apply%"),v=C("%Function.prototype.call%"),g=C("%Reflect.apply%",!0)||d.call(v,w),r=C("%Object.defineProperty%",!0),t=C("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}H.exports=function(u){if(typeof u!="function")throw new L("a function is required");var f=g(d,v,arguments);return n(f,1+t(0,u.length-(arguments.length-1)),!0)};var i=function(){return g(d,w,arguments)};r?r(H.exports,"apply",{value:i}):H.exports.apply=i},32420:function(H){H.exports=U;function U(e,d,C){return d<C?e<d?d:e>C?C:e:e<C?C:e>d?d:e}},3808:function(H,U,e){var d=e(32420);H.exports=C,H.exports.to=C,H.exports.from=n;function C(L,w){w==null&&(w=!0);var v=L[0],g=L[1],r=L[2],t=L[3];t==null&&(t=w?1:255),w&&(v*=255,g*=255,r*=255,t*=255),v=d(v,0,255)&255,g=d(g,0,255)&255,r=d(r,0,255)&255,t=d(t,0,255)&255;var i=v*16777216+(g<<16)+(r<<8)+t;return i}function n(L,w){L=+L;var v=L>>>24,g=(L&16711680)>>>16,r=(L&65280)>>>8,t=L&255;return w===!1?[v,g,r,t]:[v/255,g/255,r/255,t/255]}},17592:function(H){H.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(H,U,e){var d=e(96824),C=e(32420),n=e(72512);H.exports=function(v,g){(g==="float"||!g)&&(g="array"),g==="uint"&&(g="uint8"),g==="uint_clamped"&&(g="uint8_clamped");var r=n(g),t=new r(4),i=g!=="uint8"&&g!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=d(v),v[0]/=255,v[1]/=255,v[2]/=255),L(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,i&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(i?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=C(Math.floor(v[0]*255),0,255),t[1]=C(Math.floor(v[1]*255),0,255),t[2]=C(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:C(Math.floor(v[3]*255),0,255)),t)};function L(w){return!!(w instanceof Uint8Array||w instanceof Uint8ClampedArray||Array.isArray(w)&&(w[0]>1||w[0]===0)&&(w[1]>1||w[1]===0)&&(w[2]>1||w[2]===0)&&(!w[3]||w[3]>1))}},96824:function(H,U,e){var d=e(95532),C=e(53576),n=e(32420);H.exports=function(w){var v,g=d(w);return g.space?(v=Array(3),v[0]=n(g.values[0],0,255),v[1]=n(g.values[1],0,255),v[2]=n(g.values[2],0,255),g.space[0]==="h"&&(v=C.rgb(v)),v.push(n(g.alpha,0,1)),v):[]}},95532:function(H,U,e){var d=e(17592);H.exports=n;var C={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function n(L){var w,v=[],g=1,r;if(typeof L=="string")if(L=L.toLowerCase(),d[L])v=d[L].slice(),r="rgb";else if(L==="transparent")g=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(L)){var t=L.slice(1),i=t.length,a=i<=4;g=1,a?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],i===4&&(g=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],i===8&&(g=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(w=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(L)){var u=w[1],f=u==="rgb",t=u.replace(/a$/,"");r=t;var i=t==="cmyk"?4:t==="gray"?1:3;v=w[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,T){if(/%$/.test(h))return T===i?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[T]==="h"){if(/deg$/.test(h))return parseFloat(h);if(C[h]!==void 0)return C[h]}return parseFloat(h)}),u===t&&v.push(1),g=f||v[i]===void 0?1:v[i],v=v.slice(0,i)}else L.length>10&&/[0-9](?:\s|\/)/.test(L)&&(v=L.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=L.match(/([a-z])/ig).join("").toLowerCase());else isNaN(L)?Array.isArray(L)||L.length?(v=[L[0],L[1],L[2]],r="rgb",g=L.length===4?L[3]:1):L instanceof Object&&(L.r!=null||L.red!=null||L.R!=null?(r="rgb",v=[L.r||L.red||L.R||0,L.g||L.green||L.G||0,L.b||L.blue||L.B||0]):(r="hsl",v=[L.h||L.hue||L.H||0,L.s||L.saturation||L.S||0,L.l||L.lightness||L.L||L.b||L.brightness]),g=L.a||L.alpha||L.opacity||1,L.opacity!=null&&(g/=100)):(r="rgb",v=[L>>>16,(L&65280)>>>8,L&255]);return{space:r,values:v,alpha:g}}},53576:function(H,U,e){var d=e(19336);H.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(C){var n=C[0]/360,L=C[1]/100,w=C[2]/100,v,g,r,t,i;if(L===0)return i=w*255,[i,i,i];w<.5?g=w*(1+L):g=w+L-w*L,v=2*w-g,t=[0,0,0];for(var a=0;a<3;a++)r=n+.3333333333333333*-(a-1),r<0?r++:r>1&&r--,6*r<1?i=v+(g-v)*6*r:2*r<1?i=g:3*r<2?i=v+(g-v)*(.6666666666666666-r)*6:i=v,t[a]=i*255;return t}},d.hsl=function(C){var n=C[0]/255,L=C[1]/255,w=C[2]/255,v=Math.min(n,L,w),g=Math.max(n,L,w),r=g-v,t,i,a;return g===v?t=0:n===g?t=(L-w)/r:L===g?t=2+(w-n)/r:w===g&&(t=4+(n-L)/r),t=Math.min(t*60,360),t<0&&(t+=360),a=(v+g)/2,g===v?i=0:a<=.5?i=r/(g+v):i=r/(2-g-v),[t,i*100,a*100]}},19336:function(H){H.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(H){H.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(H,U,e){H.exports={parse:e(46416),stringify:e(49395)}},8744:function(H,U,e){var d=e(30584);H.exports={isSize:function(n){return/^[\d\.]/.test(n)||n.indexOf("/")!==-1||d.indexOf(n)!==-1}}},46416:function(H,U,e){var d=e(92384),C=e(68194),n=e(3748),L=e(2904),w=e(47916),v=e(7294),g=e(39956),r=e(8744).isSize;H.exports=i;var t=i.cache={};function i(u){if(typeof u!="string")throw new Error("Font argument must be a string.");if(t[u])return t[u];if(u==="")throw new Error("Cannot parse an empty string.");if(n.indexOf(u)!==-1)return t[u]={system:u};for(var f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=g(u,/\s+/),m;m=l.shift();){if(C.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(T){f[T]=m}),t[u]=f;if(w.indexOf(m)!==-1){f.style=m;continue}if(m==="normal"||m==="small-caps"){f.variant=m;continue}if(v.indexOf(m)!==-1){f.stretch=m;continue}if(L.indexOf(m)!==-1){f.weight=m;continue}if(r(m)){var h=g(m,"/");if(f.size=h[0],h[1]!=null?f.lineHeight=a(h[1]):l[0]==="/"&&(l.shift(),f.lineHeight=a(l.shift())),!l.length)throw new Error("Missing required font-family.");return f.family=g(l.join(" "),/\s*,\s*/).map(d),t[u]=f}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function a(u){var f=parseFloat(u);return f.toString()===u?f:u}},49395:function(H,U,e){var d=e(55616),C=e(8744).isSize,n=u(e(68194)),L=u(e(3748)),w=u(e(2904)),v=u(e(47916)),g=u(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},i={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};H.exports=function(l){if(l=d(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&a(l.system,L),l.system;if(a(l.style,v),a(l.variant,r),a(l.weight,w),a(l.stretch,g),l.size==null&&(l.size=i.size),typeof l.size=="number"&&(l.size+="px"),!C)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=i.family),Array.isArray(l.family)&&(l.family.length||(l.family=[i.family]),l.family=l.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var m=[];return m.push(l.style),l.variant!==l.style&&m.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&m.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&m.push(l.stretch),m.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),m.push(l.family),m.filter(Boolean).join(" ")};function a(f,l){if(f&&!l[f]&&!n[f])throw Error("Unknown keyword `"+f+"`");return f}function u(f){for(var l={},m=0;m<f.length;m++)l[f[m]]=1;return l}},27940:function(H,U,e){var d=e(81680),C=e(18496),n=e(87396),L=e(95920),w=e(50868),v=e(84323),g=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,i;i=function(a,u,f){var l=C(u)&&n(u.value),m;return m=L(u),delete m.writable,delete m.value,m.get=function(){return!f.overwriteDefinition&&t.call(this,a)?l:(u.value=g.call(l,f.resolveContext?f.resolveContext(this):this),r(this,a,u),this[a])},m},H.exports=function(a){var u=w(arguments[1]);return d(u.resolveContext)&&n(u.resolveContext),v(a,function(f,l){return i(l,f,u)})}},21092:function(H,U,e){var d=e(81680),C=e(85488),n=e(38452),L=e(50868),w=e(71056),v=H.exports=function(g,r){var t,i,a,u,f;return arguments.length<2||typeof g!="string"?(u=r,r=g,g=null):u=arguments[2],d(g)?(t=w.call(g,"c"),i=w.call(g,"e"),a=w.call(g,"w")):(t=a=!0,i=!1),f={value:r,configurable:t,enumerable:i,writable:a},u?n(L(u),f):f};v.gs=function(g,r,t){var i,a,u,f;return typeof g!="string"?(u=t,t=r,r=g,g=null):u=arguments[3],d(r)?C(r)?d(t)?C(t)||(u=t,t=void 0):t=void 0:(u=r,r=t=void 0):r=void 0,d(g)?(i=w.call(g,"c"),a=w.call(g,"e")):(i=!0,a=!1),f={get:r,set:t,configurable:i,enumerable:a},u?n(L(u),f):f}},84706:function(H,U,e){e.d(U,{XE:function(){return d},kv:function(){return L},mo:function(){return v},Uf:function(){return g},SY:function(){return r},ik:function(){return t},oh:function(){return i}});function d(a,u){return a<u?-1:a>u?1:a>=u?0:NaN}function C(a){return a.length===1&&(a=n(a)),{left:function(u,f,l,m){for(l==null&&(l=0),m==null&&(m=u.length);l<m;){var h=l+m>>>1;a(u[h],f)<0?l=h+1:m=h}return l},right:function(u,f,l,m){for(l==null&&(l=0),m==null&&(m=u.length);l<m;){var h=l+m>>>1;a(u[h],f)>0?m=h:l=h+1}return l}}}function n(a){return function(u,f){return d(a(u),f)}}C(d);function L(a,u){var f=a.length,l=-1,m,h;if(u==null){for(;++l<f;)if((m=a[l])!=null&&m>=m)for(h=m;++l<f;)(m=a[l])!=null&&m>h&&(h=m)}else for(;++l<f;)if((m=u(a[l],l,a))!=null&&m>=m)for(h=m;++l<f;)(m=u(a[l],l,a))!=null&&m>h&&(h=m);return h}function w(a){return a===null?NaN:+a}function v(a,u){var f=a.length,l=f,m=-1,h,T=0;if(u==null)for(;++m<f;)isNaN(h=w(a[m]))?--l:T+=h;else for(;++m<f;)isNaN(h=w(u(a[m],m,a)))?--l:T+=h;if(l)return T/l}function g(a){for(var u=a.length,f,l=-1,m=0,h,T;++l<u;)m+=a[l].length;for(h=new Array(m);--u>=0;)for(T=a[u],f=T.length;--f>=0;)h[--m]=T[f];return h}function r(a,u){var f=a.length,l=-1,m,h;if(u==null){for(;++l<f;)if((m=a[l])!=null&&m>=m)for(h=m;++l<f;)(m=a[l])!=null&&h>m&&(h=m)}else for(;++l<f;)if((m=u(a[l],l,a))!=null&&m>=m)for(h=m;++l<f;)(m=u(a[l],l,a))!=null&&h>m&&(h=m);return h}function t(a,u,f){a=+a,u=+u,f=(m=arguments.length)<2?(u=a,a=0,1):m<3?1:+f;for(var l=-1,m=Math.max(0,Math.ceil((u-a)/f))|0,h=new Array(m);++l<m;)h[l]=a+l*f;return h}function i(a,u){var f=a.length,l=-1,m,h=0;if(u==null)for(;++l<f;)(m=+a[l])&&(h+=m);else for(;++l<f;)(m=+u(a[l],l,a))&&(h+=m);return h}},34712:function(H,U,e){e.d(U,{kH:function(){return L},UJ:function(){return w}});var d="$";function C(){}C.prototype=n.prototype={constructor:C,has:function(u){return d+u in this},get:function(u){return this[d+u]},set:function(u,f){return this[d+u]=f,this},remove:function(u){var f=d+u;return f in this&&delete this[f]},clear:function(){for(var u in this)u[0]===d&&delete this[u]},keys:function(){var u=[];for(var f in this)f[0]===d&&u.push(f.slice(1));return u},values:function(){var u=[];for(var f in this)f[0]===d&&u.push(this[f]);return u},entries:function(){var u=[];for(var f in this)f[0]===d&&u.push({key:f.slice(1),value:this[f]});return u},size:function(){var u=0;for(var f in this)f[0]===d&&++u;return u},empty:function(){for(var u in this)if(u[0]===d)return!1;return!0},each:function(u){for(var f in this)f[0]===d&&u(this[f],f.slice(1),this)}};function n(u,f){var l=new C;if(u instanceof C)u.each(function(o,p){l.set(p,o)});else if(Array.isArray(u)){var m=-1,h=u.length,T;if(f==null)for(;++m<h;)l.set(m,u[m]);else for(;++m<h;)l.set(f(T=u[m],m,u),T)}else if(u)for(var c in u)l.set(c,u[c]);return l}var L=n;function w(){var u=[],f=[],l,m,h;function T(o,p,x,A){if(p>=u.length)return l!=null&&o.sort(l),m!=null?m(o):o;for(var _=-1,y=o.length,E=u[p++],M,s,S=L(),b,I=x();++_<y;)(b=S.get(M=E(s=o[_])+""))?b.push(s):S.set(M,[s]);return S.each(function(D,B){A(I,B,T(D,p,x,A))}),I}function c(o,p){if(++p>u.length)return o;var x,A=f[p-1];return m!=null&&p>=u.length?x=o.entries():(x=[],o.each(function(_,y){x.push({key:y,values:c(_,p)})})),A!=null?x.sort(function(_,y){return A(_.key,y.key)}):x}return h={object:function(o){return T(o,0,v,g)},map:function(o){return T(o,0,r,t)},entries:function(o){return c(T(o,0,r,t),0)},key:function(o){return u.push(o),h},sortKeys:function(o){return f[u.length-1]=o,h},sortValues:function(o){return l=o,h},rollup:function(o){return m=o,h}}}function v(){return{}}function g(u,f,l){u[f]=l}function r(){return L()}function t(u,f,l){u.set(f,l)}function i(){}var a=L.prototype;i.prototype={constructor:i,has:a.has,add:function(u){return u+="",this[d+u]=u,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},49812:function(H,U,e){e.r(U),e.d(U,{forceCenter:function(){return d},forceCollide:function(){return S},forceLink:function(){return B},forceManyBody:function(){return He},forceRadial:function(){return ft},forceSimulation:function(){return Fe},forceX:function(){return gt},forceY:function(){return ct}});function d(nt,dt){var pt;nt==null&&(nt=0),dt==null&&(dt=0);function wt(){var Tt,Ct=pt.length,at,ze=0,je=0;for(Tt=0;Tt<Ct;++Tt)at=pt[Tt],ze+=at.x,je+=at.y;for(ze=ze/Ct-nt,je=je/Ct-dt,Tt=0;Tt<Ct;++Tt)at=pt[Tt],at.x-=ze,at.y-=je}return wt.initialize=function(Tt){pt=Tt},wt.x=function(Tt){return arguments.length?(nt=+Tt,wt):nt},wt.y=function(Tt){return arguments.length?(dt=+Tt,wt):dt},wt}function C(nt){return function(){return nt}}function n(){return(Math.random()-.5)*1e-6}function L(nt){var dt=+this._x.call(null,nt),pt=+this._y.call(null,nt);return w(this.cover(dt,pt),dt,pt,nt)}function w(nt,dt,pt,wt){if(isNaN(dt)||isNaN(pt))return nt;var Tt,Ct=nt._root,at={data:wt},ze=nt._x0,je=nt._y0,Je=nt._x1,Xe=nt._y1,Oe,ke,Ke,Ie,pe,Te,Ue,et;if(!Ct)return nt._root=at,nt;for(;Ct.length;)if((pe=dt>=(Oe=(ze+Je)/2))?ze=Oe:Je=Oe,(Te=pt>=(ke=(je+Xe)/2))?je=ke:Xe=ke,Tt=Ct,!(Ct=Ct[Ue=Te<<1|pe]))return Tt[Ue]=at,nt;if(Ke=+nt._x.call(null,Ct.data),Ie=+nt._y.call(null,Ct.data),dt===Ke&&pt===Ie)return at.next=Ct,Tt?Tt[Ue]=at:nt._root=at,nt;do Tt=Tt?Tt[Ue]=new Array(4):nt._root=new Array(4),(pe=dt>=(Oe=(ze+Je)/2))?ze=Oe:Je=Oe,(Te=pt>=(ke=(je+Xe)/2))?je=ke:Xe=ke;while((Ue=Te<<1|pe)===(et=(Ie>=ke)<<1|Ke>=Oe));return Tt[et]=Ct,Tt[Ue]=at,nt}function v(nt){var dt,pt,wt=nt.length,Tt,Ct,at=new Array(wt),ze=new Array(wt),je=1/0,Je=1/0,Xe=-1/0,Oe=-1/0;for(pt=0;pt<wt;++pt)isNaN(Tt=+this._x.call(null,dt=nt[pt]))||isNaN(Ct=+this._y.call(null,dt))||(at[pt]=Tt,ze[pt]=Ct,Tt<je&&(je=Tt),Tt>Xe&&(Xe=Tt),Ct<Je&&(Je=Ct),Ct>Oe&&(Oe=Ct));if(je>Xe||Je>Oe)return this;for(this.cover(je,Je).cover(Xe,Oe),pt=0;pt<wt;++pt)w(this,at[pt],ze[pt],nt[pt]);return this}function g(nt,dt){if(isNaN(nt=+nt)||isNaN(dt=+dt))return this;var pt=this._x0,wt=this._y0,Tt=this._x1,Ct=this._y1;if(isNaN(pt))Tt=(pt=Math.floor(nt))+1,Ct=(wt=Math.floor(dt))+1;else{for(var at=Tt-pt,ze=this._root,je,Je;pt>nt||nt>=Tt||wt>dt||dt>=Ct;)switch(Je=(dt<wt)<<1|nt<pt,je=new Array(4),je[Je]=ze,ze=je,at*=2,Je){case 0:Tt=pt+at,Ct=wt+at;break;case 1:pt=Tt-at,Ct=wt+at;break;case 2:Tt=pt+at,wt=Ct-at;break;case 3:pt=Tt-at,wt=Ct-at;break}this._root&&this._root.length&&(this._root=ze)}return this._x0=pt,this._y0=wt,this._x1=Tt,this._y1=Ct,this}function r(){var nt=[];return this.visit(function(dt){if(!dt.length)do nt.push(dt.data);while(dt=dt.next)}),nt}function t(nt){return arguments.length?this.cover(+nt[0][0],+nt[0][1]).cover(+nt[1][0],+nt[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function i(nt,dt,pt,wt,Tt){this.node=nt,this.x0=dt,this.y0=pt,this.x1=wt,this.y1=Tt}function a(nt,dt,pt){var wt,Tt=this._x0,Ct=this._y0,at,ze,je,Je,Xe=this._x1,Oe=this._y1,ke=[],Ke=this._root,Ie,pe;for(Ke&&ke.push(new i(Ke,Tt,Ct,Xe,Oe)),pt==null?pt=1/0:(Tt=nt-pt,Ct=dt-pt,Xe=nt+pt,Oe=dt+pt,pt*=pt);Ie=ke.pop();)if(!(!(Ke=Ie.node)||(at=Ie.x0)>Xe||(ze=Ie.y0)>Oe||(je=Ie.x1)<Tt||(Je=Ie.y1)<Ct))if(Ke.length){var Te=(at+je)/2,Ue=(ze+Je)/2;ke.push(new i(Ke[3],Te,Ue,je,Je),new i(Ke[2],at,Ue,Te,Je),new i(Ke[1],Te,ze,je,Ue),new i(Ke[0],at,ze,Te,Ue)),(pe=(dt>=Ue)<<1|nt>=Te)&&(Ie=ke[ke.length-1],ke[ke.length-1]=ke[ke.length-1-pe],ke[ke.length-1-pe]=Ie)}else{var et=nt-+this._x.call(null,Ke.data),st=dt-+this._y.call(null,Ke.data),lt=et*et+st*st;if(lt<pt){var jt=Math.sqrt(pt=lt);Tt=nt-jt,Ct=dt-jt,Xe=nt+jt,Oe=dt+jt,wt=Ke.data}}return wt}function u(nt){if(isNaN(Xe=+this._x.call(null,nt))||isNaN(Oe=+this._y.call(null,nt)))return this;var dt,pt=this._root,wt,Tt,Ct,at=this._x0,ze=this._y0,je=this._x1,Je=this._y1,Xe,Oe,ke,Ke,Ie,pe,Te,Ue;if(!pt)return this;if(pt.length)for(;;){if((Ie=Xe>=(ke=(at+je)/2))?at=ke:je=ke,(pe=Oe>=(Ke=(ze+Je)/2))?ze=Ke:Je=Ke,dt=pt,!(pt=pt[Te=pe<<1|Ie]))return this;if(!pt.length)break;(dt[Te+1&3]||dt[Te+2&3]||dt[Te+3&3])&&(wt=dt,Ue=Te)}for(;pt.data!==nt;)if(Tt=pt,!(pt=pt.next))return this;return(Ct=pt.next)&&delete pt.next,Tt?(Ct?Tt.next=Ct:delete Tt.next,this):dt?(Ct?dt[Te]=Ct:delete dt[Te],(pt=dt[0]||dt[1]||dt[2]||dt[3])&&pt===(dt[3]||dt[2]||dt[1]||dt[0])&&!pt.length&&(wt?wt[Ue]=pt:this._root=pt),this):(this._root=Ct,this)}function f(nt){for(var dt=0,pt=nt.length;dt<pt;++dt)this.remove(nt[dt]);return this}function l(){return this._root}function m(){var nt=0;return this.visit(function(dt){if(!dt.length)do++nt;while(dt=dt.next)}),nt}function h(nt){var dt=[],pt,wt=this._root,Tt,Ct,at,ze,je;for(wt&&dt.push(new i(wt,this._x0,this._y0,this._x1,this._y1));pt=dt.pop();)if(!nt(wt=pt.node,Ct=pt.x0,at=pt.y0,ze=pt.x1,je=pt.y1)&&wt.length){var Je=(Ct+ze)/2,Xe=(at+je)/2;(Tt=wt[3])&&dt.push(new i(Tt,Je,Xe,ze,je)),(Tt=wt[2])&&dt.push(new i(Tt,Ct,Xe,Je,je)),(Tt=wt[1])&&dt.push(new i(Tt,Je,at,ze,Xe)),(Tt=wt[0])&&dt.push(new i(Tt,Ct,at,Je,Xe))}return this}function T(nt){var dt=[],pt=[],wt;for(this._root&&dt.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));wt=dt.pop();){var Tt=wt.node;if(Tt.length){var Ct,at=wt.x0,ze=wt.y0,je=wt.x1,Je=wt.y1,Xe=(at+je)/2,Oe=(ze+Je)/2;(Ct=Tt[0])&&dt.push(new i(Ct,at,ze,Xe,Oe)),(Ct=Tt[1])&&dt.push(new i(Ct,Xe,ze,je,Oe)),(Ct=Tt[2])&&dt.push(new i(Ct,at,Oe,Xe,Je)),(Ct=Tt[3])&&dt.push(new i(Ct,Xe,Oe,je,Je))}pt.push(wt)}for(;wt=pt.pop();)nt(wt.node,wt.x0,wt.y0,wt.x1,wt.y1);return this}function c(nt){return nt[0]}function o(nt){return arguments.length?(this._x=nt,this):this._x}function p(nt){return nt[1]}function x(nt){return arguments.length?(this._y=nt,this):this._y}function A(nt,dt,pt){var wt=new _(dt??c,pt??p,NaN,NaN,NaN,NaN);return nt==null?wt:wt.addAll(nt)}function _(nt,dt,pt,wt,Tt,Ct){this._x=nt,this._y=dt,this._x0=pt,this._y0=wt,this._x1=Tt,this._y1=Ct,this._root=void 0}function y(nt){for(var dt={data:nt.data},pt=dt;nt=nt.next;)pt=pt.next={data:nt.data};return dt}var E=A.prototype=_.prototype;E.copy=function(){var nt=new _(this._x,this._y,this._x0,this._y0,this._x1,this._y1),dt=this._root,pt,wt;if(!dt)return nt;if(!dt.length)return nt._root=y(dt),nt;for(pt=[{source:dt,target:nt._root=new Array(4)}];dt=pt.pop();)for(var Tt=0;Tt<4;++Tt)(wt=dt.source[Tt])&&(wt.length?pt.push({source:wt,target:dt.target[Tt]=new Array(4)}):dt.target[Tt]=y(wt));return nt},E.add=L,E.addAll=v,E.cover=g,E.data=r,E.extent=t,E.find=a,E.remove=u,E.removeAll=f,E.root=l,E.size=m,E.visit=h,E.visitAfter=T,E.x=o,E.y=x;function M(nt){return nt.x+nt.vx}function s(nt){return nt.y+nt.vy}function S(nt){var dt,pt,wt=1,Tt=1;typeof nt!="function"&&(nt=C(nt==null?1:+nt));function Ct(){for(var je,Je=dt.length,Xe,Oe,ke,Ke,Ie,pe,Te=0;Te<Tt;++Te)for(Xe=A(dt,M,s).visitAfter(at),je=0;je<Je;++je)Oe=dt[je],Ie=pt[Oe.index],pe=Ie*Ie,ke=Oe.x+Oe.vx,Ke=Oe.y+Oe.vy,Xe.visit(Ue);function Ue(et,st,lt,jt,Jt){var St=et.data,Rt=et.r,$t=Ie+Rt;if(St){if(St.index>Oe.index){var Pr=ke-St.x-St.vx,xt=Ke-St.y-St.vy,qt=Pr*Pr+xt*xt;qt<$t*$t&&(Pr===0&&(Pr=n(),qt+=Pr*Pr),xt===0&&(xt=n(),qt+=xt*xt),qt=($t-(qt=Math.sqrt(qt)))/qt*wt,Oe.vx+=(Pr*=qt)*($t=(Rt*=Rt)/(pe+Rt)),Oe.vy+=(xt*=qt)*$t,St.vx-=Pr*($t=1-$t),St.vy-=xt*$t)}return}return st>ke+$t||jt<ke-$t||lt>Ke+$t||Jt<Ke-$t}}function at(je){if(je.data)return je.r=pt[je.data.index];for(var Je=je.r=0;Je<4;++Je)je[Je]&&je[Je].r>je.r&&(je.r=je[Je].r)}function ze(){if(dt){var je,Je=dt.length,Xe;for(pt=new Array(Je),je=0;je<Je;++je)Xe=dt[je],pt[Xe.index]=+nt(Xe,je,dt)}}return Ct.initialize=function(je){dt=je,ze()},Ct.iterations=function(je){return arguments.length?(Tt=+je,Ct):Tt},Ct.strength=function(je){return arguments.length?(wt=+je,Ct):wt},Ct.radius=function(je){return arguments.length?(nt=typeof je=="function"?je:C(+je),ze(),Ct):nt},Ct}var b=e(34712);function I(nt){return nt.index}function D(nt,dt){var pt=nt.get(dt);if(!pt)throw new Error("missing: "+dt);return pt}function B(nt){var dt=I,pt=Xe,wt,Tt=C(30),Ct,at,ze,je,Je=1;nt==null&&(nt=[]);function Xe(pe){return 1/Math.min(ze[pe.source.index],ze[pe.target.index])}function Oe(pe){for(var Te=0,Ue=nt.length;Te<Je;++Te)for(var et=0,st,lt,jt,Jt,St,Rt,$t;et<Ue;++et)st=nt[et],lt=st.source,jt=st.target,Jt=jt.x+jt.vx-lt.x-lt.vx||n(),St=jt.y+jt.vy-lt.y-lt.vy||n(),Rt=Math.sqrt(Jt*Jt+St*St),Rt=(Rt-Ct[et])/Rt*pe*wt[et],Jt*=Rt,St*=Rt,jt.vx-=Jt*($t=je[et]),jt.vy-=St*$t,lt.vx+=Jt*($t=1-$t),lt.vy+=St*$t}function ke(){if(at){var pe,Te=at.length,Ue=nt.length,et=(0,b.kH)(at,dt),st;for(pe=0,ze=new Array(Te);pe<Ue;++pe)st=nt[pe],st.index=pe,typeof st.source!="object"&&(st.source=D(et,st.source)),typeof st.target!="object"&&(st.target=D(et,st.target)),ze[st.source.index]=(ze[st.source.index]||0)+1,ze[st.target.index]=(ze[st.target.index]||0)+1;for(pe=0,je=new Array(Ue);pe<Ue;++pe)st=nt[pe],je[pe]=ze[st.source.index]/(ze[st.source.index]+ze[st.target.index]);wt=new Array(Ue),Ke(),Ct=new Array(Ue),Ie()}}function Ke(){if(at)for(var pe=0,Te=nt.length;pe<Te;++pe)wt[pe]=+pt(nt[pe],pe,nt)}function Ie(){if(at)for(var pe=0,Te=nt.length;pe<Te;++pe)Ct[pe]=+Tt(nt[pe],pe,nt)}return Oe.initialize=function(pe){at=pe,ke()},Oe.links=function(pe){return arguments.length?(nt=pe,ke(),Oe):nt},Oe.id=function(pe){return arguments.length?(dt=pe,Oe):dt},Oe.iterations=function(pe){return arguments.length?(Je=+pe,Oe):Je},Oe.strength=function(pe){return arguments.length?(pt=typeof pe=="function"?pe:C(+pe),Ke(),Oe):pt},Oe.distance=function(pe){return arguments.length?(Tt=typeof pe=="function"?pe:C(+pe),Ie(),Oe):Tt},Oe}var k={value:function(){}};function F(){for(var nt=0,dt=arguments.length,pt={},wt;nt<dt;++nt){if(!(wt=arguments[nt]+"")||wt in pt||/[\s.]/.test(wt))throw new Error("illegal type: "+wt);pt[wt]=[]}return new N(pt)}function N(nt){this._=nt}function O(nt,dt){return nt.trim().split(/^|\s+/).map(function(pt){var wt="",Tt=pt.indexOf(".");if(Tt>=0&&(wt=pt.slice(Tt+1),pt=pt.slice(0,Tt)),pt&&!dt.hasOwnProperty(pt))throw new Error("unknown type: "+pt);return{type:pt,name:wt}})}N.prototype=F.prototype={constructor:N,on:function(nt,dt){var pt=this._,wt=O(nt+"",pt),Tt,Ct=-1,at=wt.length;if(arguments.length<2){for(;++Ct<at;)if((Tt=(nt=wt[Ct]).type)&&(Tt=V(pt[Tt],nt.name)))return Tt;return}if(dt!=null&&typeof dt!="function")throw new Error("invalid callback: "+dt);for(;++Ct<at;)if(Tt=(nt=wt[Ct]).type)pt[Tt]=X(pt[Tt],nt.name,dt);else if(dt==null)for(Tt in pt)pt[Tt]=X(pt[Tt],nt.name,null);return this},copy:function(){var nt={},dt=this._;for(var pt in dt)nt[pt]=dt[pt].slice();return new N(nt)},call:function(nt,dt){if((Tt=arguments.length-2)>0)for(var pt=new Array(Tt),wt=0,Tt,Ct;wt<Tt;++wt)pt[wt]=arguments[wt+2];if(!this._.hasOwnProperty(nt))throw new Error("unknown type: "+nt);for(Ct=this._[nt],wt=0,Tt=Ct.length;wt<Tt;++wt)Ct[wt].value.apply(dt,pt)},apply:function(nt,dt,pt){if(!this._.hasOwnProperty(nt))throw new Error("unknown type: "+nt);for(var wt=this._[nt],Tt=0,Ct=wt.length;Tt<Ct;++Tt)wt[Tt].value.apply(dt,pt)}};function V(nt,dt){for(var pt=0,wt=nt.length,Tt;pt<wt;++pt)if((Tt=nt[pt]).name===dt)return Tt.value}function X(nt,dt,pt){for(var wt=0,Tt=nt.length;wt<Tt;++wt)if(nt[wt].name===dt){nt[wt]=k,nt=nt.slice(0,wt).concat(nt.slice(wt+1));break}return pt!=null&&nt.push({name:dt,value:pt}),nt}var ee=F,ne=0,q=0,se=0,J=1e3,Z,te,Y=0,ie=0,le=0,j=typeof performance=="object"&&performance.now?performance:Date,K=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(nt){setTimeout(nt,17)};function ue(){return ie||(K(ae),ie=j.now()+le)}function ae(){ie=0}function he(){this._call=this._time=this._next=null}he.prototype=xe.prototype={constructor:he,restart:function(nt,dt,pt){if(typeof nt!="function")throw new TypeError("callback is not a function");pt=(pt==null?ue():+pt)+(dt==null?0:+dt),!this._next&&te!==this&&(te?te._next=this:Z=this,te=this),this._call=nt,this._time=pt,Ce()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ce())}};function xe(nt,dt,pt){var wt=new he;return wt.restart(nt,dt,pt),wt}function Se(){ue(),++ne;for(var nt=Z,dt;nt;)(dt=ie-nt._time)>=0&&nt._call.call(null,dt),nt=nt._next;--ne}function Ae(){ie=(Y=j.now())+le,ne=q=0;try{Se()}finally{ne=0,we(),ie=0}}function De(){var nt=j.now(),dt=nt-Y;dt>J&&(le-=dt,Y=nt)}function we(){for(var nt,dt=Z,pt,wt=1/0;dt;)dt._call?(wt>dt._time&&(wt=dt._time),nt=dt,dt=dt._next):(pt=dt._next,dt._next=null,dt=nt?nt._next=pt:Z=pt);te=nt,Ce(wt)}function Ce(nt){if(!ne){q&&(q=clearTimeout(q));var dt=nt-ie;dt>24?(nt<1/0&&(q=setTimeout(Ae,nt-j.now()-le)),se&&(se=clearInterval(se))):(se||(Y=j.now(),se=setInterval(De,J)),ne=1,K(Ae))}}function be(nt){return nt.x}function Pe(nt){return nt.y}var Ve=10,Ge=Math.PI*(3-Math.sqrt(5));function Fe(nt){var dt,pt=1,wt=.001,Tt=1-Math.pow(wt,1/300),Ct=0,at=.6,ze=(0,b.kH)(),je=xe(Xe),Je=ee("tick","end");nt==null&&(nt=[]);function Xe(){Oe(),Je.call("tick",dt),pt<wt&&(je.stop(),Je.call("end",dt))}function Oe(Ie){var pe,Te=nt.length,Ue;Ie===void 0&&(Ie=1);for(var et=0;et<Ie;++et)for(pt+=(Ct-pt)*Tt,ze.each(function(st){st(pt)}),pe=0;pe<Te;++pe)Ue=nt[pe],Ue.fx==null?Ue.x+=Ue.vx*=at:(Ue.x=Ue.fx,Ue.vx=0),Ue.fy==null?Ue.y+=Ue.vy*=at:(Ue.y=Ue.fy,Ue.vy=0);return dt}function ke(){for(var Ie=0,pe=nt.length,Te;Ie<pe;++Ie){if(Te=nt[Ie],Te.index=Ie,Te.fx!=null&&(Te.x=Te.fx),Te.fy!=null&&(Te.y=Te.fy),isNaN(Te.x)||isNaN(Te.y)){var Ue=Ve*Math.sqrt(Ie),et=Ie*Ge;Te.x=Ue*Math.cos(et),Te.y=Ue*Math.sin(et)}(isNaN(Te.vx)||isNaN(Te.vy))&&(Te.vx=Te.vy=0)}}function Ke(Ie){return Ie.initialize&&Ie.initialize(nt),Ie}return ke(),dt={tick:Oe,restart:function(){return je.restart(Xe),dt},stop:function(){return je.stop(),dt},nodes:function(Ie){return arguments.length?(nt=Ie,ke(),ze.each(Ke),dt):nt},alpha:function(Ie){return arguments.length?(pt=+Ie,dt):pt},alphaMin:function(Ie){return arguments.length?(wt=+Ie,dt):wt},alphaDecay:function(Ie){return arguments.length?(Tt=+Ie,dt):+Tt},alphaTarget:function(Ie){return arguments.length?(Ct=+Ie,dt):Ct},velocityDecay:function(Ie){return arguments.length?(at=1-Ie,dt):1-at},force:function(Ie,pe){return arguments.length>1?(pe==null?ze.remove(Ie):ze.set(Ie,Ke(pe)),dt):ze.get(Ie)},find:function(Ie,pe,Te){var Ue=0,et=nt.length,st,lt,jt,Jt,St;for(Te==null?Te=1/0:Te*=Te,Ue=0;Ue<et;++Ue)Jt=nt[Ue],st=Ie-Jt.x,lt=pe-Jt.y,jt=st*st+lt*lt,jt<Te&&(St=Jt,Te=jt);return St},on:function(Ie,pe){return arguments.length>1?(Je.on(Ie,pe),dt):Je.on(Ie)}}}function He(){var nt,dt,pt,wt=C(-30),Tt,Ct=1,at=1/0,ze=.81;function je(ke){var Ke,Ie=nt.length,pe=A(nt,be,Pe).visitAfter(Xe);for(pt=ke,Ke=0;Ke<Ie;++Ke)dt=nt[Ke],pe.visit(Oe)}function Je(){if(nt){var ke,Ke=nt.length,Ie;for(Tt=new Array(Ke),ke=0;ke<Ke;++ke)Ie=nt[ke],Tt[Ie.index]=+wt(Ie,ke,nt)}}function Xe(ke){var Ke=0,Ie,pe,Te=0,Ue,et,st;if(ke.length){for(Ue=et=st=0;st<4;++st)(Ie=ke[st])&&(pe=Math.abs(Ie.value))&&(Ke+=Ie.value,Te+=pe,Ue+=pe*Ie.x,et+=pe*Ie.y);ke.x=Ue/Te,ke.y=et/Te}else{Ie=ke,Ie.x=Ie.data.x,Ie.y=Ie.data.y;do Ke+=Tt[Ie.data.index];while(Ie=Ie.next)}ke.value=Ke}function Oe(ke,Ke,Ie,pe){if(!ke.value)return!0;var Te=ke.x-dt.x,Ue=ke.y-dt.y,et=pe-Ke,st=Te*Te+Ue*Ue;if(et*et/ze<st)return st<at&&(Te===0&&(Te=n(),st+=Te*Te),Ue===0&&(Ue=n(),st+=Ue*Ue),st<Ct&&(st=Math.sqrt(Ct*st)),dt.vx+=Te*ke.value*pt/st,dt.vy+=Ue*ke.value*pt/st),!0;if(ke.length||st>=at)return;(ke.data!==dt||ke.next)&&(Te===0&&(Te=n(),st+=Te*Te),Ue===0&&(Ue=n(),st+=Ue*Ue),st<Ct&&(st=Math.sqrt(Ct*st)));do ke.data!==dt&&(et=Tt[ke.data.index]*pt/st,dt.vx+=Te*et,dt.vy+=Ue*et);while(ke=ke.next)}return je.initialize=function(ke){nt=ke,Je()},je.strength=function(ke){return arguments.length?(wt=typeof ke=="function"?ke:C(+ke),Je(),je):wt},je.distanceMin=function(ke){return arguments.length?(Ct=ke*ke,je):Math.sqrt(Ct)},je.distanceMax=function(ke){return arguments.length?(at=ke*ke,je):Math.sqrt(at)},je.theta=function(ke){return arguments.length?(ze=ke*ke,je):Math.sqrt(ze)},je}function ft(nt,dt,pt){var wt,Tt=C(.1),Ct,at;typeof nt!="function"&&(nt=C(+nt)),dt==null&&(dt=0),pt==null&&(pt=0);function ze(Je){for(var Xe=0,Oe=wt.length;Xe<Oe;++Xe){var ke=wt[Xe],Ke=ke.x-dt||1e-6,Ie=ke.y-pt||1e-6,pe=Math.sqrt(Ke*Ke+Ie*Ie),Te=(at[Xe]-pe)*Ct[Xe]*Je/pe;ke.vx+=Ke*Te,ke.vy+=Ie*Te}}function je(){if(wt){var Je,Xe=wt.length;for(Ct=new Array(Xe),at=new Array(Xe),Je=0;Je<Xe;++Je)at[Je]=+nt(wt[Je],Je,wt),Ct[Je]=isNaN(at[Je])?0:+Tt(wt[Je],Je,wt)}}return ze.initialize=function(Je){wt=Je,je()},ze.strength=function(Je){return arguments.length?(Tt=typeof Je=="function"?Je:C(+Je),je(),ze):Tt},ze.radius=function(Je){return arguments.length?(nt=typeof Je=="function"?Je:C(+Je),je(),ze):nt},ze.x=function(Je){return arguments.length?(dt=+Je,ze):dt},ze.y=function(Je){return arguments.length?(pt=+Je,ze):pt},ze}function gt(nt){var dt=C(.1),pt,wt,Tt;typeof nt!="function"&&(nt=C(nt==null?0:+nt));function Ct(ze){for(var je=0,Je=pt.length,Xe;je<Je;++je)Xe=pt[je],Xe.vx+=(Tt[je]-Xe.x)*wt[je]*ze}function at(){if(pt){var ze,je=pt.length;for(wt=new Array(je),Tt=new Array(je),ze=0;ze<je;++ze)wt[ze]=isNaN(Tt[ze]=+nt(pt[ze],ze,pt))?0:+dt(pt[ze],ze,pt)}}return Ct.initialize=function(ze){pt=ze,at()},Ct.strength=function(ze){return arguments.length?(dt=typeof ze=="function"?ze:C(+ze),at(),Ct):dt},Ct.x=function(ze){return arguments.length?(nt=typeof ze=="function"?ze:C(+ze),at(),Ct):nt},Ct}function ct(nt){var dt=C(.1),pt,wt,Tt;typeof nt!="function"&&(nt=C(nt==null?0:+nt));function Ct(ze){for(var je=0,Je=pt.length,Xe;je<Je;++je)Xe=pt[je],Xe.vy+=(Tt[je]-Xe.y)*wt[je]*ze}function at(){if(pt){var ze,je=pt.length;for(wt=new Array(je),Tt=new Array(je),ze=0;ze<je;++ze)wt[ze]=isNaN(Tt[ze]=+nt(pt[ze],ze,pt))?0:+dt(pt[ze],ze,pt)}}return Ct.initialize=function(ze){pt=ze,at()},Ct.strength=function(ze){return arguments.length?(dt=typeof ze=="function"?ze:C(+ze),at(),Ct):dt},Ct.y=function(ze){return arguments.length?(nt=typeof ze=="function"?ze:C(+ze),at(),Ct):nt},Ct}},57624:function(H,U,e){e.d(U,{E9:function(){return o},SO:function(){return T}});function d(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function C(x,A){if((_=(x=A?x.toExponential(A-1):x.toExponential()).indexOf("e"))<0)return null;var _,y=x.slice(0,_);return[y.length>1?y[0]+y.slice(2):y,+x.slice(_+1)]}function n(x){return x=C(Math.abs(x)),x?x[1]:NaN}function L(x,A){return function(_,y){for(var E=_.length,M=[],s=0,S=x[0],b=0;E>0&&S>0&&(b+S+1>y&&(S=Math.max(1,y-b)),M.push(_.substring(E-=S,E+S)),!((b+=S+1)>y));)S=x[s=(s+1)%x.length];return M.reverse().join(A)}}function w(x){return function(A){return A.replace(/[0-9]/g,function(_){return x[+_]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function g(x){if(!(A=v.exec(x)))throw new Error("invalid format: "+x);var A;return new r({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}g.prototype=r.prototype;function r(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(x){e:for(var A=x.length,_=1,y=-1,E;_<A;++_)switch(x[_]){case".":y=E=_;break;case"0":y===0&&(y=_),E=_;break;default:if(!+x[_])break e;y>0&&(y=0);break}return y>0?x.slice(0,y)+x.slice(E+1):x}var i;function a(x,A){var _=C(x,A);if(!_)return x+"";var y=_[0],E=_[1],M=E-(i=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,s=y.length;return M===s?y:M>s?y+new Array(M-s+1).join("0"):M>0?y.slice(0,M)+"."+y.slice(M):"0."+new Array(1-M).join("0")+C(x,Math.max(0,A+M-1))[0]}function u(x,A){var _=C(x,A);if(!_)return x+"";var y=_[0],E=_[1];return E<0?"0."+new Array(-E).join("0")+y:y.length>E+1?y.slice(0,E+1)+"."+y.slice(E+1):y+new Array(E-y.length+2).join("0")}var f={"%":function(x,A){return(x*100).toFixed(A)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d,e:function(x,A){return x.toExponential(A)},f:function(x,A){return x.toFixed(A)},g:function(x,A){return x.toPrecision(A)},o:function(x){return Math.round(x).toString(8)},p:function(x,A){return u(x*100,A)},r:u,s:a,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function l(x){return x}var m=Array.prototype.map,h=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T(x){var A=x.grouping===void 0||x.thousands===void 0?l:L(m.call(x.grouping,Number),x.thousands+""),_=x.currency===void 0?"":x.currency[0]+"",y=x.currency===void 0?"":x.currency[1]+"",E=x.decimal===void 0?".":x.decimal+"",M=x.numerals===void 0?l:w(m.call(x.numerals,String)),s=x.percent===void 0?"%":x.percent+"",S=x.minus===void 0?"-":x.minus+"",b=x.nan===void 0?"NaN":x.nan+"";function I(B){B=g(B);var k=B.fill,F=B.align,N=B.sign,O=B.symbol,V=B.zero,X=B.width,ee=B.comma,ne=B.precision,q=B.trim,se=B.type;se==="n"?(ee=!0,se="g"):f[se]||(ne===void 0&&(ne=12),q=!0,se="g"),(V||k==="0"&&F==="=")&&(V=!0,k="0",F="=");var J=O==="$"?_:O==="#"&&/[boxX]/.test(se)?"0"+se.toLowerCase():"",Z=O==="$"?y:/[%p]/.test(se)?s:"",te=f[se],Y=/[defgprs%]/.test(se);ne=ne===void 0?6:/[gprs]/.test(se)?Math.max(1,Math.min(21,ne)):Math.max(0,Math.min(20,ne));function ie(le){var j=J,K=Z,ue,ae,he;if(se==="c")K=te(le)+K,le="";else{le=+le;var xe=le<0||1/le<0;if(le=isNaN(le)?b:te(Math.abs(le),ne),q&&(le=t(le)),xe&&+le==0&&N!=="+"&&(xe=!1),j=(xe?N==="("?N:S:N==="-"||N==="("?"":N)+j,K=(se==="s"?h[8+i/3]:"")+K+(xe&&N==="("?")":""),Y){for(ue=-1,ae=le.length;++ue<ae;)if(he=le.charCodeAt(ue),48>he||he>57){K=(he===46?E+le.slice(ue+1):le.slice(ue))+K,le=le.slice(0,ue);break}}}ee&&!V&&(le=A(le,1/0));var Se=j.length+le.length+K.length,Ae=Se<X?new Array(X-Se+1).join(k):"";switch(ee&&V&&(le=A(Ae+le,Ae.length?X-K.length:1/0),Ae=""),F){case"<":le=j+le+K+Ae;break;case"=":le=j+Ae+le+K;break;case"^":le=Ae.slice(0,Se=Ae.length>>1)+j+le+K+Ae.slice(Se);break;default:le=Ae+j+le+K;break}return M(le)}return ie.toString=function(){return B+""},ie}function D(B,k){var F=I((B=g(B),B.type="f",B)),N=Math.max(-8,Math.min(8,Math.floor(n(k)/3)))*3,O=Math.pow(10,-N),V=h[8+N/3];return function(X){return F(O*X)+V}}return{format:I,formatPrefix:D}}var c,o;p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function p(x){return c=T(x),o=c.format,c.formatPrefix,c}},87108:function(H,U,e){e.r(U),e.d(U,{geoAiry:function(){return V},geoAiryRaw:function(){return O},geoAitoff:function(){return ee},geoAitoffRaw:function(){return X},geoArmadillo:function(){return q},geoArmadilloRaw:function(){return ne},geoAugust:function(){return J},geoAugustRaw:function(){return se},geoBaker:function(){return ie},geoBakerRaw:function(){return Y},geoBerghaus:function(){return K},geoBerghausRaw:function(){return j},geoBertin1953:function(){return we},geoBertin1953Raw:function(){return De},geoBoggs:function(){return ft},geoBoggsRaw:function(){return He},geoBonne:function(){return pt},geoBonneRaw:function(){return dt},geoBottomley:function(){return Tt},geoBottomleyRaw:function(){return wt},geoBromley:function(){return at},geoBromleyRaw:function(){return Ct},geoChamberlin:function(){return pe},geoChamberlinAfrica:function(){return Ie},geoChamberlinRaw:function(){return ke},geoCollignon:function(){return Ue},geoCollignonRaw:function(){return Te},geoCraig:function(){return st},geoCraigRaw:function(){return et},geoCraster:function(){return Jt},geoCrasterRaw:function(){return jt},geoCylindricalEqualArea:function(){return Rt},geoCylindricalEqualAreaRaw:function(){return St},geoCylindricalStereographic:function(){return Pr},geoCylindricalStereographicRaw:function(){return $t},geoEckert1:function(){return qt},geoEckert1Raw:function(){return xt},geoEckert2:function(){return wr},geoEckert2Raw:function(){return nr},geoEckert3:function(){return bt},geoEckert3Raw:function(){return dr},geoEckert4:function(){return Mt},geoEckert4Raw:function(){return ut},geoEckert5:function(){return kt},geoEckert5Raw:function(){return _t},geoEckert6:function(){return Wt},geoEckert6Raw:function(){return Xt},geoEisenlohr:function(){return gr},geoEisenlohrRaw:function(){return tr},geoFahey:function(){return Ze},geoFaheyRaw:function(){return mr},geoFoucaut:function(){return Bt},geoFoucautRaw:function(){return Ye},geoFoucautSinusoidal:function(){return rr},geoFoucautSinusoidalRaw:function(){return Ft},geoGilbert:function(){return yr},geoGingery:function(){return Yr},geoGingeryRaw:function(){return br},geoGinzburg4:function(){return xn},geoGinzburg4Raw:function(){return Nr},geoGinzburg5:function(){return On},geoGinzburg5Raw:function(){return tn},geoGinzburg6:function(){return Sr},geoGinzburg6Raw:function(){return zn},geoGinzburg8:function(){return qr},geoGinzburg8Raw:function(){return Vr},geoGinzburg9:function(){return Tn},geoGinzburg9Raw:function(){return Hr},geoGringorten:function(){return ma},geoGringortenQuincuncial:function(){return fc},geoGringortenRaw:function(){return Hn},geoGuyou:function(){return wn},geoGuyouRaw:function(){return Mr},geoHammer:function(){return xe},geoHammerRaw:function(){return ae},geoHammerRetroazimuthal:function(){return Jn},geoHammerRetroazimuthalRaw:function(){return Pn},geoHealpix:function(){return dn},geoHealpixRaw:function(){return Cr},geoHill:function(){return nn},geoHillRaw:function(){return Dr},geoHomolosine:function(){return $n},geoHomolosineRaw:function(){return Rn},geoHufnagel:function(){return xa},geoHufnagelRaw:function(){return Kn},geoHyperelliptical:function(){return Di},geoHyperellipticalRaw:function(){return Ra},geoInterrupt:function(){return es},geoInterruptedBoggs:function(){return Dc},geoInterruptedHomolosine:function(){return Mi},geoInterruptedMollweide:function(){return kc},geoInterruptedMollweideHemispheres:function(){return hs},geoInterruptedQuarticAuthalic:function(){return bl},geoInterruptedSinuMollweide:function(){return Vu},geoInterruptedSinusoidal:function(){return Hu},geoKavrayskiy7:function(){return Do},geoKavrayskiy7Raw:function(){return Mo},geoLagrange:function(){return Wo},geoLagrangeRaw:function(){return Gu},geoLarrivee:function(){return Wu},geoLarriveeRaw:function(){return gs},geoLaskowski:function(){return fh},geoLaskowskiRaw:function(){return ys},geoLittrow:function(){return Yo},geoLittrowRaw:function(){return ml},geoLoximuthal:function(){return Jl},geoLoximuthalRaw:function(){return Oc},geoMiller:function(){return $l},geoMillerRaw:function(){return xl},geoModifiedStereographic:function(){return ql},geoModifiedStereographicAlaska:function(){return zc},geoModifiedStereographicGs48:function(){return Vh},geoModifiedStereographicGs50:function(){return Hh},geoModifiedStereographicLee:function(){return Zs},geoModifiedStereographicMiller:function(){return vu},geoModifiedStereographicRaw:function(){return ch},geoMollweide:function(){return Ve},geoMollweideRaw:function(){return Pe},geoMtFlatPolarParabolic:function(){return vh},geoMtFlatPolarParabolicRaw:function(){return Ef},geoMtFlatPolarQuartic:function(){return Zu},geoMtFlatPolarQuarticRaw:function(){return Il},geoMtFlatPolarSinusoidal:function(){return na},geoMtFlatPolarSinusoidalRaw:function(){return En},geoNaturalEarth:function(){return qn.c},geoNaturalEarth2:function(){return li},geoNaturalEarth2Raw:function(){return Xa},geoNaturalEarthRaw:function(){return qn.g},geoNellHammer:function(){return co},geoNellHammerRaw:function(){return Ii},geoNicolosi:function(){return Ms},geoNicolosiRaw:function(){return wl},geoPatterson:function(){return Ju},geoPattersonRaw:function(){return oc},geoPeirceQuincuncial:function(){return rf},geoPierceQuincuncial:function(){return rf},geoPolyconic:function(){return lc},geoPolyconicRaw:function(){return sc},geoPolyhedral:function(){return Hi},geoPolyhedralButterfly:function(){return _f},geoPolyhedralCollignon:function(){return mu},geoPolyhedralWaterman:function(){return lo},geoProject:function(){return Bc},geoQuantize:function(){return Uc},geoQuincuncial:function(){return Bl},geoRectangularPolyconic:function(){return bu},geoRectangularPolyconicRaw:function(){return Lr},geoRobinson:function(){return yi},geoRobinsonRaw:function(){return Po},geoSatellite:function(){return wu},geoSatelliteRaw:function(){return cc},geoSinuMollweide:function(){return Xn},geoSinuMollweideRaw:function(){return Ln},geoSinusoidal:function(){return nt},geoSinusoidalRaw:function(){return ct},geoStitch:function(){return zf},geoTimes:function(){return to},geoTimesRaw:function(){return nu},geoTwoPointAzimuthal:function(){return dc},geoTwoPointAzimuthalRaw:function(){return Hc},geoTwoPointAzimuthalUsa:function(){return Tu},geoTwoPointEquidistant:function(){return Gc},geoTwoPointEquidistantRaw:function(){return Ff},geoTwoPointEquidistantUsa:function(){return mh},geoVanDerGrinten:function(){return Nf},geoVanDerGrinten2:function(){return lf},geoVanDerGrinten2Raw:function(){return au},geoVanDerGrinten3:function(){return Gh},geoVanDerGrinten3Raw:function(){return il},geoVanDerGrinten4:function(){return Bf},geoVanDerGrinten4Raw:function(){return ms},geoVanDerGrintenRaw:function(){return vs},geoWagner:function(){return Ls},geoWagner4:function(){return ff},geoWagner4Raw:function(){return Vf},geoWagner6:function(){return pc},geoWagner6Raw:function(){return Js},geoWagner7:function(){return _s},geoWagnerRaw:function(){return ol},geoWiechel:function(){return cf},geoWiechelRaw:function(){return Au},geoWinkel3:function(){return Wc},geoWinkel3Raw:function(){return Hf}});var d=e(87952),C=Math.abs,n=Math.atan,L=Math.atan2,w=Math.cos,v=Math.exp,g=Math.floor,r=Math.log,t=Math.max,i=Math.min,a=Math.pow,u=Math.round,f=Math.sign||function(Qe){return Qe>0?1:Qe<0?-1:0},l=Math.sin,m=Math.tan,h=1e-6,T=1e-12,c=Math.PI,o=c/2,p=c/4,x=Math.SQRT1_2,A=I(2),_=I(c),y=c*2,E=180/c,M=c/180;function s(Qe){return Qe?Qe/Math.sin(Qe):1}function S(Qe){return Qe>1?o:Qe<-1?-o:Math.asin(Qe)}function b(Qe){return Qe>1?0:Qe<-1?c:Math.acos(Qe)}function I(Qe){return Qe>0?Math.sqrt(Qe):0}function D(Qe){return Qe=v(2*Qe),(Qe-1)/(Qe+1)}function B(Qe){return(v(Qe)-v(-Qe))/2}function k(Qe){return(v(Qe)+v(-Qe))/2}function F(Qe){return r(Qe+I(Qe*Qe+1))}function N(Qe){return r(Qe+I(Qe*Qe-1))}function O(Qe){var ot=m(Qe/2),mt=2*r(w(Qe/2))/(ot*ot);function At(Nt,Ot){var Ut=w(Nt),xr=w(Ot),Tr=l(Ot),cr=xr*Ut,Rr=-((1-cr?r((1+cr)/2)/(1-cr):-.5)+mt/(1+cr));return[Rr*xr*l(Nt),Rr*Tr]}return At.invert=function(Nt,Ot){var Ut=I(Nt*Nt+Ot*Ot),xr=-Qe/2,Tr=50,cr;if(!Ut)return[0,0];do{var Rr=xr/2,Br=w(Rr),Zr=l(Rr),cn=Zr/Br,_n=-r(C(Br));xr-=cr=(2/cn*_n-mt*cn-Ut)/(-_n/(Zr*Zr)+1-mt/(2*Br*Br))*(Br<0?.7:1)}while(C(cr)>h&&--Tr>0);var Nn=l(xr);return[L(Nt*Nn,Ut*w(xr)),S(Ot*Nn/Ut)]},At}function V(){var Qe=o,ot=(0,d.U)(O),mt=ot(Qe);return mt.radius=function(At){return arguments.length?ot(Qe=At*M):Qe*E},mt.scale(179.976).clipAngle(147)}function X(Qe,ot){var mt=w(ot),At=s(b(mt*w(Qe/=2)));return[2*mt*l(Qe)*At,l(ot)*At]}X.invert=function(Qe,ot){if(!(Qe*Qe+4*ot*ot>c*c+h)){var mt=Qe,At=ot,Nt=25;do{var Ot=l(mt),Ut=l(mt/2),xr=w(mt/2),Tr=l(At),cr=w(At),Rr=l(2*At),Br=Tr*Tr,Zr=cr*cr,cn=Ut*Ut,_n=1-Zr*xr*xr,Nn=_n?b(cr*xr)*I(Wn=1/_n):Wn=0,Wn,oa=2*Nn*cr*Ut-Qe,Ja=Nn*Tr-ot,Za=Wn*(Zr*cn+Nn*cr*xr*Br),Qa=Wn*(.5*Ot*Rr-Nn*2*Tr*Ut),ai=Wn*.25*(Rr*Ut-Nn*Tr*Zr*Ot),bi=Wn*(Br*xr+Nn*cn*cr),Gi=Qa*ai-bi*Za;if(!Gi)break;var Ro=(Ja*Qa-oa*bi)/Gi,ce=(oa*ai-Ja*Za)/Gi;mt-=Ro,At-=ce}while((C(Ro)>h||C(ce)>h)&&--Nt>0);return[mt,At]}};function ee(){return(0,d.c)(X).scale(152.63)}function ne(Qe){var ot=l(Qe),mt=w(Qe),At=Qe>=0?1:-1,Nt=m(At*Qe),Ot=(1+ot-mt)/2;function Ut(xr,Tr){var cr=w(Tr),Rr=w(xr/=2);return[(1+cr)*l(xr),(At*Tr>-L(Rr,Nt)-.001?0:-At*10)+Ot+l(Tr)*mt-(1+cr)*ot*Rr]}return Ut.invert=function(xr,Tr){var cr=0,Rr=0,Br=50;do{var Zr=w(cr),cn=l(cr),_n=w(Rr),Nn=l(Rr),Wn=1+_n,oa=Wn*cn-xr,Ja=Ot+Nn*mt-Wn*ot*Zr-Tr,Za=Wn*Zr/2,Qa=-cn*Nn,ai=ot*Wn*cn/2,bi=mt*_n+ot*Zr*Nn,Gi=Qa*ai-bi*Za,Ro=(Ja*Qa-oa*bi)/Gi/2,ce=(oa*ai-Ja*Za)/Gi;C(ce)>2&&(ce/=2),cr-=Ro,Rr-=ce}while((C(Ro)>h||C(ce)>h)&&--Br>0);return At*Rr>-L(w(cr),Nt)-.001?[cr*2,Rr]:null},Ut}function q(){var Qe=20*M,ot=Qe>=0?1:-1,mt=m(ot*Qe),At=(0,d.U)(ne),Nt=At(Qe),Ot=Nt.stream;return Nt.parallel=function(Ut){return arguments.length?(mt=m((ot=(Qe=Ut*M)>=0?1:-1)*Qe),At(Qe)):Qe*E},Nt.stream=function(Ut){var xr=Nt.rotate(),Tr=Ot(Ut),cr=(Nt.rotate([0,0]),Ot(Ut)),Rr=Nt.precision();return Nt.rotate(xr),Tr.sphere=function(){cr.polygonStart(),cr.lineStart();for(var Br=ot*-180;ot*Br<180;Br+=ot*90)cr.point(Br,ot*90);if(Qe)for(;ot*(Br-=3*ot*Rr)>=-180;)cr.point(Br,ot*-L(w(Br*M/2),mt)*E);cr.lineEnd(),cr.polygonEnd()},Tr},Nt.scale(218.695).center([0,28.0974])}function se(Qe,ot){var mt=m(ot/2),At=I(1-mt*mt),Nt=1+At*w(Qe/=2),Ot=l(Qe)*At/Nt,Ut=mt/Nt,xr=Ot*Ot,Tr=Ut*Ut;return[1.3333333333333333*Ot*(3+xr-3*Tr),1.3333333333333333*Ut*(3+3*xr-Tr)]}se.invert=function(Qe,ot){if(Qe*=.375,ot*=.375,!Qe&&C(ot)>1)return null;var mt=Qe*Qe,At=ot*ot,Nt=1+mt+At,Ot=I((Nt-I(Nt*Nt-4*ot*ot))/2),Ut=S(Ot)/3,xr=Ot?N(C(ot/Ot))/3:F(C(Qe))/3,Tr=w(Ut),cr=k(xr),Rr=cr*cr-Tr*Tr;return[f(Qe)*2*L(B(xr)*Tr,.25-Rr),f(ot)*2*L(cr*l(Ut),.25+Rr)]};function J(){return(0,d.c)(se).scale(66.1603)}var Z=I(8),te=r(1+A);function Y(Qe,ot){var mt=C(ot);return mt<p?[Qe,r(m(p+ot/2))]:[Qe*w(mt)*(2*A-1/l(mt)),f(ot)*(2*A*(mt-p)-r(m(mt/2)))]}Y.invert=function(Qe,ot){if((Ot=C(ot))<te)return[Qe,2*n(v(ot))-o];var mt=p,At=25,Nt,Ot;do{var Ut=w(mt/2),xr=m(mt/2);mt-=Nt=(Z*(mt-p)-r(xr)-Ot)/(Z-Ut*Ut/(2*xr))}while(C(Nt)>T&&--At>0);return[Qe/(w(mt)*(Z-1/l(mt))),f(ot)*mt]};function ie(){return(0,d.c)(Y).scale(112.314)}var le=e(69020);function j(Qe){var ot=2*c/Qe;function mt(At,Nt){var Ot=(0,le.O)(At,Nt);if(C(At)>o){var Ut=L(Ot[1],Ot[0]),xr=I(Ot[0]*Ot[0]+Ot[1]*Ot[1]),Tr=ot*u((Ut-o)/ot)+o,cr=L(l(Ut-=Tr),2-w(Ut));Ut=Tr+S(c/xr*l(cr))-cr,Ot[0]=xr*w(Ut),Ot[1]=xr*l(Ut)}return Ot}return mt.invert=function(At,Nt){var Ot=I(At*At+Nt*Nt);if(Ot>o){var Ut=L(Nt,At),xr=ot*u((Ut-o)/ot)+o,Tr=Ut>xr?-1:1,cr=Ot*w(xr-Ut),Rr=1/m(Tr*b((cr-c)/I(c*(c-2*cr)+Ot*Ot)));Ut=xr+2*n((Rr+Tr*I(Rr*Rr-3))/3),At=Ot*w(Ut),Nt=Ot*l(Ut)}return le.O.invert(At,Nt)},mt}function K(){var Qe=5,ot=(0,d.U)(j),mt=ot(Qe),At=mt.stream,Nt=.01,Ot=-w(Nt*M),Ut=l(Nt*M);return mt.lobes=function(xr){return arguments.length?ot(Qe=+xr):Qe},mt.stream=function(xr){var Tr=mt.rotate(),cr=At(xr),Rr=(mt.rotate([0,0]),At(xr));return mt.rotate(Tr),cr.sphere=function(){Rr.polygonStart(),Rr.lineStart();for(var Br=0,Zr=360/Qe,cn=2*c/Qe,_n=90-180/Qe,Nn=o;Br<Qe;++Br,_n-=Zr,Nn-=cn)Rr.point(L(Ut*w(Nn),Ot)*E,S(Ut*l(Nn))*E),_n<-90?(Rr.point(-90,-180-_n-Nt),Rr.point(-90,-180-_n+Nt)):(Rr.point(90,_n+Nt),Rr.point(90,_n-Nt));Rr.lineEnd(),Rr.polygonEnd()},cr},mt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ue=e(54724);function ae(Qe,ot){if(arguments.length<2&&(ot=Qe),ot===1)return ue.y;if(ot===1/0)return he;function mt(At,Nt){var Ot=(0,ue.y)(At/ot,Nt);return Ot[0]*=Qe,Ot}return mt.invert=function(At,Nt){var Ot=ue.y.invert(At/Qe,Nt);return Ot[0]*=ot,Ot},mt}function he(Qe,ot){return[Qe*w(ot)/w(ot/=2),2*l(ot)]}he.invert=function(Qe,ot){var mt=2*S(ot/2);return[Qe*w(mt/2)/w(mt),mt]};function xe(){var Qe=2,ot=(0,d.U)(ae),mt=ot(Qe);return mt.coefficient=function(At){return arguments.length?ot(Qe=+At):Qe},mt.scale(169.529)}function Se(Qe,ot,mt){var At=100,Nt,Ot,Ut;mt=mt===void 0?0:+mt,ot=+ot;do Ot=Qe(mt),Ut=Qe(mt+h),Ot===Ut&&(Ut=Ot+h),mt-=Nt=-1*h*(Ot-ot)/(Ot-Ut);while(At-- >0&&C(Nt)>h);return At<0?NaN:mt}function Ae(Qe,ot,mt){return ot===void 0&&(ot=40),mt===void 0&&(mt=T),function(At,Nt,Ot,Ut){var xr,Tr,cr;Ot=Ot===void 0?0:+Ot,Ut=Ut===void 0?0:+Ut;for(var Rr=0;Rr<ot;Rr++){var Br=Qe(Ot,Ut),Zr=Br[0]-At,cn=Br[1]-Nt;if(C(Zr)<mt&&C(cn)<mt)break;var _n=Zr*Zr+cn*cn;if(_n>xr){Ot-=Tr/=2,Ut-=cr/=2;continue}xr=_n;var Nn=(Ot>0?-1:1)*mt,Wn=(Ut>0?-1:1)*mt,oa=Qe(Ot+Nn,Ut),Ja=Qe(Ot,Ut+Wn),Za=(oa[0]-Br[0])/Nn,Qa=(oa[1]-Br[1])/Nn,ai=(Ja[0]-Br[0])/Wn,bi=(Ja[1]-Br[1])/Wn,Gi=bi*Za-Qa*ai,Ro=(C(Gi)<.5?.5:1)/Gi;if(Tr=(cn*ai-Zr*bi)*Ro,cr=(Zr*Qa-cn*Za)*Ro,Ot+=Tr,Ut+=cr,C(Tr)<mt&&C(cr)<mt)break}return[Ot,Ut]}}function De(){var Qe=ae(1.68,2),ot=1.4,mt=12;function At(Nt,Ot){if(Nt+Ot<-ot){var Ut=(Nt-Ot+1.6)*(Nt+Ot+ot)/8;Nt+=Ut,Ot-=.8*Ut*l(Ot+c/2)}var xr=Qe(Nt,Ot),Tr=(1-w(Nt*Ot))/mt;return xr[1]<0&&(xr[0]*=1+Tr),xr[1]>0&&(xr[1]*=1+Tr/1.5*xr[0]*xr[0]),xr}return At.invert=Ae(At),At}function we(){return(0,d.c)(De()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ce(Qe,ot){var mt=Qe*l(ot),At=30,Nt;do ot-=Nt=(ot+l(ot)-mt)/(1+w(ot));while(C(Nt)>h&&--At>0);return ot/2}function be(Qe,ot,mt){function At(Nt,Ot){return[Qe*Nt*w(Ot=Ce(mt,Ot)),ot*l(Ot)]}return At.invert=function(Nt,Ot){return Ot=S(Ot/ot),[Nt/(Qe*w(Ot)),S((2*Ot+l(2*Ot))/mt)]},At}var Pe=be(A/o,A,c);function Ve(){return(0,d.c)(Pe).scale(169.529)}var Ge=2.00276,Fe=1.11072;function He(Qe,ot){var mt=Ce(c,ot);return[Ge*Qe/(1/w(ot)+Fe/w(mt)),(ot+A*l(mt))/Ge]}He.invert=function(Qe,ot){var mt=Ge*ot,At=ot<0?-p:p,Nt=25,Ot,Ut;do Ut=mt-A*l(At),At-=Ot=(l(2*At)+2*At-c*l(Ut))/(2*w(2*At)+2+c*w(Ut)*A*w(At));while(C(Ot)>h&&--Nt>0);return Ut=mt-A*l(At),[Qe*(1/w(Ut)+Fe/w(At))/Ge,Ut]};function ft(){return(0,d.c)(He).scale(160.857)}function gt(Qe){var ot=0,mt=(0,d.U)(Qe),At=mt(ot);return At.parallel=function(Nt){return arguments.length?mt(ot=Nt*M):ot*E},At}function ct(Qe,ot){return[Qe*w(ot),ot]}ct.invert=function(Qe,ot){return[Qe/w(ot),ot]};function nt(){return(0,d.c)(ct).scale(152.63)}function dt(Qe){if(!Qe)return ct;var ot=1/m(Qe);function mt(At,Nt){var Ot=ot+Qe-Nt,Ut=Ot&&At*w(Nt)/Ot;return[Ot*l(Ut),ot-Ot*w(Ut)]}return mt.invert=function(At,Nt){var Ot=I(At*At+(Nt=ot-Nt)*Nt),Ut=ot+Qe-Ot;return[Ot/w(Ut)*L(At,Nt),Ut]},mt}function pt(){return gt(dt).scale(123.082).center([0,26.1441]).parallel(45)}function wt(Qe){function ot(mt,At){var Nt=o-At,Ot=Nt&&mt*Qe*l(Nt)/Nt;return[Nt*l(Ot)/Qe,o-Nt*w(Ot)]}return ot.invert=function(mt,At){var Nt=mt*Qe,Ot=o-At,Ut=I(Nt*Nt+Ot*Ot),xr=L(Nt,Ot);return[(Ut?Ut/l(Ut):1)*xr/Qe,o-Ut]},ot}function Tt(){var Qe=.5,ot=(0,d.U)(wt),mt=ot(Qe);return mt.fraction=function(At){return arguments.length?ot(Qe=+At):Qe},mt.scale(158.837)}var Ct=be(1,4/c,c);function at(){return(0,d.c)(Ct).scale(152.63)}var ze=e(24052),je=e(92992);function Je(Qe,ot,mt,At,Nt,Ot){var Ut=w(Ot),xr;if(C(Qe)>1||C(Ot)>1)xr=b(mt*Nt+ot*At*Ut);else{var Tr=l(Qe/2),cr=l(Ot/2);xr=2*S(I(Tr*Tr+ot*At*cr*cr))}return C(xr)>h?[xr,L(At*l(Ot),ot*Nt-mt*At*Ut)]:[0,0]}function Xe(Qe,ot,mt){return b((Qe*Qe+ot*ot-mt*mt)/(2*Qe*ot))}function Oe(Qe){return Qe-2*c*g((Qe+c)/(2*c))}function ke(Qe,ot,mt){for(var At=[[Qe[0],Qe[1],l(Qe[1]),w(Qe[1])],[ot[0],ot[1],l(ot[1]),w(ot[1])],[mt[0],mt[1],l(mt[1]),w(mt[1])]],Nt=At[2],Ot,Ut=0;Ut<3;++Ut,Nt=Ot)Ot=At[Ut],Nt.v=Je(Ot[1]-Nt[1],Nt[3],Nt[2],Ot[3],Ot[2],Ot[0]-Nt[0]),Nt.point=[0,0];var xr=Xe(At[0].v[0],At[2].v[0],At[1].v[0]),Tr=Xe(At[0].v[0],At[1].v[0],At[2].v[0]),cr=c-xr;At[2].point[1]=0,At[0].point[0]=-(At[1].point[0]=At[0].v[0]/2);var Rr=[At[2].point[0]=At[0].point[0]+At[2].v[0]*w(xr),2*(At[0].point[1]=At[1].point[1]=At[2].v[0]*l(xr))];function Br(Zr,cn){var _n=l(cn),Nn=w(cn),Wn=new Array(3),oa;for(oa=0;oa<3;++oa){var Ja=At[oa];if(Wn[oa]=Je(cn-Ja[1],Ja[3],Ja[2],Nn,_n,Zr-Ja[0]),!Wn[oa][0])return Ja.point;Wn[oa][1]=Oe(Wn[oa][1]-Ja.v[1])}var Za=Rr.slice();for(oa=0;oa<3;++oa){var Qa=oa==2?0:oa+1,ai=Xe(At[oa].v[0],Wn[oa][0],Wn[Qa][0]);Wn[oa][1]<0&&(ai=-ai),oa?oa==1?(ai=Tr-ai,Za[0]-=Wn[oa][0]*w(ai),Za[1]-=Wn[oa][0]*l(ai)):(ai=cr-ai,Za[0]+=Wn[oa][0]*w(ai),Za[1]+=Wn[oa][0]*l(ai)):(Za[0]+=Wn[oa][0]*w(ai),Za[1]-=Wn[oa][0]*l(ai))}return Za[0]/=3,Za[1]/=3,Za}return Br}function Ke(Qe){return Qe[0]*=M,Qe[1]*=M,Qe}function Ie(){return pe([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function pe(Qe,ot,mt){var At=(0,ze.c)({type:"MultiPoint",coordinates:[Qe,ot,mt]}),Nt=[-At[0],-At[1]],Ot=(0,je.c)(Nt),Ut=ke(Ke(Ot(Qe)),Ke(Ot(ot)),Ke(Ot(mt)));Ut.invert=Ae(Ut);var xr=(0,d.c)(Ut).rotate(Nt),Tr=xr.center;return delete xr.rotate,xr.center=function(cr){return arguments.length?Tr(Ot(cr)):Ot.invert(Tr())},xr.clipAngle(90)}function Te(Qe,ot){var mt=I(1-l(ot));return[2/_*Qe*mt,_*(1-mt)]}Te.invert=function(Qe,ot){var mt=(mt=ot/_-1)*mt;return[mt>0?Qe*I(c/mt)/2:0,S(1-mt)]};function Ue(){return(0,d.c)(Te).scale(95.6464).center([0,30])}function et(Qe){var ot=m(Qe);function mt(At,Nt){return[At,(At?At/l(At):1)*(l(Nt)*w(At)-ot*w(Nt))]}return mt.invert=ot?function(At,Nt){At&&(Nt*=l(At)/At);var Ot=w(At);return[At,2*L(I(Ot*Ot+ot*ot-Nt*Nt)-Ot,ot-Nt)]}:function(At,Nt){return[At,S(At?Nt*m(At)/At:Nt)]},mt}function st(){return gt(et).scale(249.828).clipAngle(90)}var lt=I(3);function jt(Qe,ot){return[lt*Qe*(2*w(2*ot/3)-1)/_,lt*_*l(ot/3)]}jt.invert=function(Qe,ot){var mt=3*S(ot/(lt*_));return[_*Qe/(lt*(2*w(2*mt/3)-1)),mt]};function Jt(){return(0,d.c)(jt).scale(156.19)}function St(Qe){var ot=w(Qe);function mt(At,Nt){return[At*ot,l(Nt)/ot]}return mt.invert=function(At,Nt){return[At/ot,S(Nt*ot)]},mt}function Rt(){return gt(St).parallel(38.58).scale(195.044)}function $t(Qe){var ot=w(Qe);function mt(At,Nt){return[At*ot,(1+ot)*m(Nt/2)]}return mt.invert=function(At,Nt){return[At/ot,n(Nt/(1+ot))*2]},mt}function Pr(){return gt($t).scale(124.75)}function xt(Qe,ot){var mt=I(8/(3*c));return[mt*Qe*(1-C(ot)/c),mt*ot]}xt.invert=function(Qe,ot){var mt=I(8/(3*c)),At=ot/mt;return[Qe/(mt*(1-C(At)/c)),At]};function qt(){return(0,d.c)(xt).scale(165.664)}function nr(Qe,ot){var mt=I(4-3*l(C(ot)));return[2/I(6*c)*Qe*mt,f(ot)*I(2*c/3)*(2-mt)]}nr.invert=function(Qe,ot){var mt=2-C(ot)/I(2*c/3);return[Qe*I(6*c)/(2*mt),f(ot)*S((4-mt*mt)/3)]};function wr(){return(0,d.c)(nr).scale(165.664)}function dr(Qe,ot){var mt=I(c*(4+c));return[2/mt*Qe*(1+I(1-4*ot*ot/(c*c))),4/mt*ot]}dr.invert=function(Qe,ot){var mt=I(c*(4+c))/2;return[Qe*mt/(1+I(1-ot*ot*(4+c)/(4*c))),ot*mt/2]};function bt(){return(0,d.c)(dr).scale(180.739)}function ut(Qe,ot){var mt=(2+o)*l(ot);ot/=2;for(var At=0,Nt=1/0;At<10&&C(Nt)>h;At++){var Ot=w(ot);ot-=Nt=(ot+l(ot)*(Ot+2)-mt)/(2*Ot*(1+Ot))}return[2/I(c*(4+c))*Qe*(1+w(ot)),2*I(c/(4+c))*l(ot)]}ut.invert=function(Qe,ot){var mt=ot*I((4+c)/c)/2,At=S(mt),Nt=w(At);return[Qe/(2/I(c*(4+c))*(1+Nt)),S((At+mt*(Nt+2))/(2+o))]};function Mt(){return(0,d.c)(ut).scale(180.739)}function _t(Qe,ot){return[Qe*(1+w(ot))/I(2+c),2*ot/I(2+c)]}_t.invert=function(Qe,ot){var mt=I(2+c),At=ot*mt/2;return[mt*Qe/(1+w(At)),At]};function kt(){return(0,d.c)(_t).scale(173.044)}function Xt(Qe,ot){for(var mt=(1+o)*l(ot),At=0,Nt=1/0;At<10&&C(Nt)>h;At++)ot-=Nt=(ot+l(ot)-mt)/(1+w(ot));return mt=I(2+c),[Qe*(1+w(ot))/mt,2*ot/mt]}Xt.invert=function(Qe,ot){var mt=1+o,At=I(mt/2);return[Qe*2*At/(1+w(ot*=At)),S((ot+l(ot))/mt)]};function Wt(){return(0,d.c)(Xt).scale(173.044)}var Ht=3+2*A;function tr(Qe,ot){var mt=l(Qe/=2),At=w(Qe),Nt=I(w(ot)),Ot=w(ot/=2),Ut=l(ot)/(Ot+A*At*Nt),xr=I(2/(1+Ut*Ut)),Tr=I((A*Ot+(At+mt)*Nt)/(A*Ot+(At-mt)*Nt));return[Ht*(xr*(Tr-1/Tr)-2*r(Tr)),Ht*(xr*Ut*(Tr+1/Tr)-2*n(Ut))]}tr.invert=function(Qe,ot){if(!(Ot=se.invert(Qe/1.2,ot*1.065)))return null;var mt=Ot[0],At=Ot[1],Nt=20,Ot;Qe/=Ht,ot/=Ht;do{var Ut=mt/2,xr=At/2,Tr=l(Ut),cr=w(Ut),Rr=l(xr),Br=w(xr),Zr=w(At),cn=I(Zr),_n=Rr/(Br+A*cr*cn),Nn=_n*_n,Wn=I(2/(1+Nn)),oa=A*Br+(cr+Tr)*cn,Ja=A*Br+(cr-Tr)*cn,Za=oa/Ja,Qa=I(Za),ai=Qa-1/Qa,bi=Qa+1/Qa,Gi=Wn*ai-2*r(Qa)-Qe,Ro=Wn*_n*bi-2*n(_n)-ot,ce=Rr&&x*cn*Tr*Nn/Rr,_e=(A*cr*Br+cn)/(2*(Br+A*cr*cn)*(Br+A*cr*cn)*cn),Be=-.5*_n*Wn*Wn*Wn,tt=Be*ce,it=Be*_e,ht=(ht=2*Br+A*cn*(cr-Tr))*ht*Qa,Dt=(A*cr*Br*cn+Zr)/ht,Et=-(A*Tr*Rr)/(cn*ht),Yt=ai*tt-2*Dt/Qa+Wn*(Dt+Dt/Za),Zt=ai*it-2*Et/Qa+Wn*(Et+Et/Za),or=_n*bi*tt-2*ce/(1+Nn)+Wn*bi*ce+Wn*_n*(Dt-Dt/Za),Ir=_n*bi*it-2*_e/(1+Nn)+Wn*bi*_e+Wn*_n*(Et-Et/Za),kr=Zt*or-Ir*Yt;if(!kr)break;var sn=(Ro*Zt-Gi*Ir)/kr,vn=(Gi*or-Ro*Yt)/kr;mt-=sn,At=t(-o,i(o,At-vn))}while((C(sn)>h||C(vn)>h)&&--Nt>0);return C(C(At)-o)<h?[0,At]:Nt&&[mt,At]};function gr(){return(0,d.c)(tr).scale(62.5271)}var Qt=w(35*M);function mr(Qe,ot){var mt=m(ot/2);return[Qe*Qt*I(1-mt*mt),(1+Qt)*mt]}mr.invert=function(Qe,ot){var mt=ot/(1+Qt);return[Qe&&Qe/(Qt*I(1-mt*mt)),2*n(mt)]};function Ze(){return(0,d.c)(mr).scale(137.152)}function Ye(Qe,ot){var mt=ot/2,At=w(mt);return[2*Qe/_*w(ot)*At*At,_*m(mt)]}Ye.invert=function(Qe,ot){var mt=n(ot/_),At=w(mt),Nt=2*mt;return[Qe*_/2/(w(Nt)*At*At),Nt]};function Bt(){return(0,d.c)(Ye).scale(135.264)}function Ft(Qe){var ot=1-Qe,mt=Ot(c,0)[0]-Ot(-c,0)[0],At=Ot(0,o)[1]-Ot(0,-o)[1],Nt=I(2*At/mt);function Ot(Tr,cr){var Rr=w(cr),Br=l(cr);return[Rr/(ot+Qe*Rr)*Tr,ot*cr+Qe*Br]}function Ut(Tr,cr){var Rr=Ot(Tr,cr);return[Rr[0]*Nt,Rr[1]/Nt]}function xr(Tr){return Ut(0,Tr)[1]}return Ut.invert=function(Tr,cr){var Rr=Se(xr,cr),Br=Tr/Nt*(Qe+ot/w(Rr));return[Br,Rr]},Ut}function rr(){var Qe=.5,ot=(0,d.U)(Ft),mt=ot(Qe);return mt.alpha=function(At){return arguments.length?ot(Qe=+At):Qe},mt.scale(168.725)}var sr=e(4888),fr=e(69604);function ir(Qe){return[Qe[0]/2,S(m(Qe[1]/2*M))*E]}function Vt(Qe){return[Qe[0]*2,2*n(l(Qe[1]*M))*E]}function yr(Qe){Qe==null&&(Qe=sr.c);var ot=Qe(),mt=(0,fr.c)().scale(E).precision(0).clipAngle(null).translate([0,0]);function At(Ot){return ot(ir(Ot))}ot.invert&&(At.invert=function(Ot){return Vt(ot.invert(Ot))}),At.stream=function(Ot){var Ut=ot.stream(Ot),xr=mt.stream({point:function(Tr,cr){Ut.point(Tr/2,S(m(-cr/2*M))*E)},lineStart:function(){Ut.lineStart()},lineEnd:function(){Ut.lineEnd()},polygonStart:function(){Ut.polygonStart()},polygonEnd:function(){Ut.polygonEnd()}});return xr.sphere=Ut.sphere,xr};function Nt(Ot){At[Ot]=function(){return arguments.length?(ot[Ot].apply(ot,arguments),At):ot[Ot]()}}return At.rotate=function(Ot){return arguments.length?(mt.rotate(Ot),At):mt.rotate()},At.center=function(Ot){return arguments.length?(ot.center(ir(Ot)),At):Vt(ot.center())},Nt("angle"),Nt("clipAngle"),Nt("clipExtent"),Nt("fitExtent"),Nt("fitHeight"),Nt("fitSize"),Nt("fitWidth"),Nt("scale"),Nt("translate"),Nt("precision"),At.scale(249.5)}function br(Qe,ot){var mt=2*c/ot,At=Qe*Qe;function Nt(Ot,Ut){var xr=(0,le.O)(Ot,Ut),Tr=xr[0],cr=xr[1],Rr=Tr*Tr+cr*cr;if(Rr>At){var Br=I(Rr),Zr=L(cr,Tr),cn=mt*u(Zr/mt),_n=Zr-cn,Nn=Qe*w(_n),Wn=(Qe*l(_n)-_n*l(Nn))/(o-Nn),oa=_r(_n,Wn),Ja=(c-Qe)/pr(oa,Nn,c);Tr=Br;var Za=50,Qa;do Tr-=Qa=(Qe+pr(oa,Nn,Tr)*Ja-Br)/(oa(Tr)*Ja);while(C(Qa)>h&&--Za>0);cr=_n*l(Tr),Tr<o&&(cr-=Wn*(Tr-o));var ai=l(cn),bi=w(cn);xr[0]=Tr*bi-cr*ai,xr[1]=Tr*ai+cr*bi}return xr}return Nt.invert=function(Ot,Ut){var xr=Ot*Ot+Ut*Ut;if(xr>At){var Tr=I(xr),cr=L(Ut,Ot),Rr=mt*u(cr/mt),Br=cr-Rr;Ot=Tr*w(Br),Ut=Tr*l(Br);for(var Zr=Ot-o,cn=l(Ot),_n=Ut/cn,Nn=Ot<o?1/0:0,Wn=10;;){var oa=Qe*l(_n),Ja=Qe*w(_n),Za=l(Ja),Qa=o-Ja,ai=(oa-_n*Za)/Qa,bi=_r(_n,ai);if(C(Nn)<T||!--Wn)break;_n-=Nn=(_n*cn-ai*Zr-Ut)/(cn-Zr*2*(Qa*(Ja+_n*oa*w(Ja)-Za)-oa*(oa-_n*Za))/(Qa*Qa))}Tr=Qe+pr(bi,Ja,Ot)*(c-Qe)/pr(bi,Ja,c),cr=Rr+_n,Ot=Tr*w(cr),Ut=Tr*l(cr)}return le.O.invert(Ot,Ut)},Nt}function _r(Qe,ot){return function(mt){var At=Qe*w(mt);return mt<o&&(At-=ot),I(1+At*At)}}function pr(Qe,ot,mt){for(var At=50,Nt=(mt-ot)/At,Ot=Qe(ot)+Qe(mt),Ut=1,xr=ot;Ut<At;++Ut)Ot+=2*Qe(xr+=Nt);return Ot*.5*Nt}function Yr(){var Qe=6,ot=30*M,mt=w(ot),At=l(ot),Nt=(0,d.U)(br),Ot=Nt(ot,Qe),Ut=Ot.stream,xr=.01,Tr=-w(xr*M),cr=l(xr*M);return Ot.radius=function(Rr){return arguments.length?(mt=w(ot=Rr*M),At=l(ot),Nt(ot,Qe)):ot*E},Ot.lobes=function(Rr){return arguments.length?Nt(ot,Qe=+Rr):Qe},Ot.stream=function(Rr){var Br=Ot.rotate(),Zr=Ut(Rr),cn=(Ot.rotate([0,0]),Ut(Rr));return Ot.rotate(Br),Zr.sphere=function(){cn.polygonStart(),cn.lineStart();for(var _n=0,Nn=2*c/Qe,Wn=0;_n<Qe;++_n,Wn-=Nn)cn.point(L(cr*w(Wn),Tr)*E,S(cr*l(Wn))*E),cn.point(L(At*w(Wn-Nn/2),mt)*E,S(At*l(Wn-Nn/2))*E);cn.lineEnd(),cn.polygonEnd()},Zr},Ot.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function zr(Qe,ot,mt,At,Nt,Ot,Ut,xr){arguments.length<8&&(xr=0);function Tr(cr,Rr){if(!Rr)return[Qe*cr/c,0];var Br=Rr*Rr,Zr=Qe+Br*(ot+Br*(mt+Br*At)),cn=Rr*(Nt-1+Br*(Ot-xr+Br*Ut)),_n=(Zr*Zr+cn*cn)/(2*cn),Nn=cr*S(Zr/_n)/c;return[_n*l(Nn),Rr*(1+Br*xr)+_n*(1-w(Nn))]}return Tr.invert=function(cr,Rr){var Br=c*cr/Qe,Zr=Rr,cn,_n,Nn=50;do{var Wn=Zr*Zr,oa=Qe+Wn*(ot+Wn*(mt+Wn*At)),Ja=Zr*(Nt-1+Wn*(Ot-xr+Wn*Ut)),Za=oa*oa+Ja*Ja,Qa=2*Ja,ai=Za/Qa,bi=ai*ai,Gi=S(oa/ai)/c,Ro=Br*Gi,ce=oa*oa,_e=(2*ot+Wn*(4*mt+Wn*6*At))*Zr,Be=Nt+Wn*(3*Ot+Wn*5*Ut),tt=2*(oa*_e+Ja*(Be-1)),it=2*(Be-1),ht=(tt*Qa-Za*it)/(Qa*Qa),Dt=w(Ro),Et=l(Ro),Yt=ai*Dt,Zt=ai*Et,or=Br/c*(1/I(1-ce/bi))*(_e*ai-oa*ht)/bi,Ir=Zt-cr,kr=Zr*(1+Wn*xr)+ai-Yt-Rr,sn=ht*Et+Yt*or,vn=Yt*Gi,Fr=1+ht-(ht*Dt-Zt*or),Xr=Zt*Gi,an=sn*Xr-Fr*vn;if(!an)break;Br-=cn=(kr*sn-Ir*Fr)/an,Zr-=_n=(Ir*Xr-kr*vn)/an}while((C(cn)>h||C(_n)>h)&&--Nn>0);return[Br,Zr]},Tr}var Nr=zr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function xn(){return(0,d.c)(Nr).scale(149.995)}var tn=zr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function On(){return(0,d.c)(tn).scale(153.93)}var zn=zr(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Sr(){return(0,d.c)(zn).scale(130.945)}function Vr(Qe,ot){var mt=Qe*Qe,At=ot*ot;return[Qe*(1-.162388*At)*(.87-952426e-9*mt*mt),ot*(1+At/12)]}Vr.invert=function(Qe,ot){var mt=Qe,At=ot,Nt=50,Ot;do{var Ut=At*At;At-=Ot=(At*(1+Ut/12)-ot)/(1+Ut/4)}while(C(Ot)>h&&--Nt>0);Nt=50,Qe/=1-.162388*Ut;do{var xr=(xr=mt*mt)*xr;mt-=Ot=(mt*(.87-952426e-9*xr)-Qe)/(.87-.00476213*xr)}while(C(Ot)>h&&--Nt>0);return[mt,At]};function qr(){return(0,d.c)(Vr).scale(131.747)}var Hr=zr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Tn(){return(0,d.c)(Hr).scale(131.087)}function bn(Qe){var ot=Qe(o,0)[0]-Qe(-o,0)[0];function mt(At,Nt){var Ot=At>0?-.5:.5,Ut=Qe(At+Ot*c,Nt);return Ut[0]-=Ot*ot,Ut}return Qe.invert&&(mt.invert=function(At,Nt){var Ot=At>0?-.5:.5,Ut=Qe.invert(At+Ot*ot,Nt),xr=Ut[0]-Ot*c;return xr<-c?xr+=2*c:xr>c&&(xr-=2*c),Ut[0]=xr,Ut}),mt}function Hn(Qe,ot){var mt=f(Qe),At=f(ot),Nt=w(ot),Ot=w(Qe)*Nt,Ut=l(Qe)*Nt,xr=l(At*ot);Qe=C(L(Ut,xr)),ot=S(Ot),C(Qe-o)>h&&(Qe%=o);var Tr=Gn(Qe>c/4?o-Qe:Qe,ot);return Qe>c/4&&(xr=Tr[0],Tr[0]=-Tr[1],Tr[1]=-xr),Tr[0]*=mt,Tr[1]*=-At,Tr}Hn.invert=function(Qe,ot){C(Qe)>1&&(Qe=f(Qe)*2-Qe),C(ot)>1&&(ot=f(ot)*2-ot);var mt=f(Qe),At=f(ot),Nt=-mt*Qe,Ot=-At*ot,Ut=Ot/Nt<1,xr=ea(Ut?Ot:Nt,Ut?Nt:Ot),Tr=xr[0],cr=xr[1],Rr=w(cr);return Ut&&(Tr=-o-Tr),[mt*(L(l(Tr)*Rr,-l(cr))+c),At*S(w(Tr)*Rr)]};function Gn(Qe,ot){if(ot===o)return[0,0];var mt=l(ot),At=mt*mt,Nt=At*At,Ot=1+Nt,Ut=1+3*Nt,xr=1-Nt,Tr=S(1/I(Ot)),cr=xr+At*Ot*Tr,Rr=(1-mt)/cr,Br=I(Rr),Zr=Rr*Ot,cn=I(Zr),_n=Br*xr,Nn,Wn;if(Qe===0)return[0,-(_n+At*cn)];var oa=w(ot),Ja=1/oa,Za=2*mt*oa,Qa=(-3*At+Tr*Ut)*Za,ai=(-cr*oa-(1-mt)*Qa)/(cr*cr),bi=.5*ai/Br,Gi=xr*bi-2*At*Br*Za,Ro=At*Ot*ai+Rr*Ut*Za,ce=-Ja*Za,_e=-Ja*Ro,Be=-2*Ja*Gi,tt=4*Qe/c,it;if(Qe>.222*c||ot<c/4&&Qe>.175*c){if(Nn=(_n+At*I(Zr*(1+Nt)-_n*_n))/(1+Nt),Qe>c/4)return[Nn,Nn];var ht=Nn,Dt=.5*Nn;Nn=.5*(Dt+ht),Wn=50;do{var Et=I(Zr-Nn*Nn),Yt=Nn*(Be+ce*Et)+_e*S(Nn/cn)-tt;if(!Yt)break;Yt<0?Dt=Nn:ht=Nn,Nn=.5*(Dt+ht)}while(C(ht-Dt)>h&&--Wn>0)}else{Nn=h,Wn=25;do{var Zt=Nn*Nn,or=I(Zr-Zt),Ir=Be+ce*or,kr=Nn*Ir+_e*S(Nn/cn)-tt,sn=Ir+(_e-ce*Zt)/or;Nn-=it=or?kr/sn:0}while(C(it)>h&&--Wn>0)}return[Nn,-_n-At*I(Zr-Nn*Nn)]}function ea(Qe,ot){for(var mt=0,At=1,Nt=.5,Ot=50;;){var Ut=Nt*Nt,xr=I(Nt),Tr=S(1/I(1+Ut)),cr=1-Ut+Nt*(1+Ut)*Tr,Rr=(1-xr)/cr,Br=I(Rr),Zr=Rr*(1+Ut),cn=Br*(1-Ut),_n=Zr-Qe*Qe,Nn=I(_n),Wn=ot+cn+Nt*Nn;if(C(At-mt)<T||--Ot===0||Wn===0)break;Wn>0?mt=Nt:At=Nt,Nt=.5*(mt+At)}if(!Ot)return null;var oa=S(xr),Ja=w(oa),Za=1/Ja,Qa=2*xr*Ja,ai=(-3*Nt+Tr*(1+3*Ut))*Qa,bi=(-cr*Ja-(1-xr)*ai)/(cr*cr),Gi=.5*bi/Br,Ro=(1-Ut)*Gi-2*Nt*Br*Qa,ce=-2*Za*Ro,_e=-Za*Qa,Be=-Za*(Nt*(1+Ut)*bi+Rr*(1+3*Ut)*Qa);return[c/4*(Qe*(ce+_e*Nn)+Be*S(Qe/I(Zr))),oa]}function ma(){return(0,d.c)(bn(Hn)).scale(239.75)}function Da(Qe,ot,mt){var At,Nt,Ot;return Qe?(At=Fa(Qe,mt),ot?(Nt=Fa(ot,1-mt),Ot=Nt[1]*Nt[1]+mt*At[0]*At[0]*Nt[0]*Nt[0],[[At[0]*Nt[2]/Ot,At[1]*At[2]*Nt[0]*Nt[1]/Ot],[At[1]*Nt[1]/Ot,-At[0]*At[2]*Nt[0]*Nt[2]/Ot],[At[2]*Nt[1]*Nt[2]/Ot,-mt*At[0]*At[1]*Nt[0]/Ot]]):[[At[0],0],[At[1],0],[At[2],0]]):(Nt=Fa(ot,1-mt),[[0,Nt[0]/Nt[1]],[1/Nt[1],0],[Nt[2]/Nt[1],0]])}function Fa(Qe,ot){var mt,At,Nt,Ot,Ut;if(ot<h)return Ot=l(Qe),At=w(Qe),mt=ot*(Qe-Ot*At)/4,[Ot-mt*At,At+mt*Ot,1-ot*Ot*Ot/2,Qe-mt];if(ot>=1-h)return mt=(1-ot)/4,At=k(Qe),Ot=D(Qe),Nt=1/At,Ut=At*B(Qe),[Ot+mt*(Ut-Qe)/(At*At),Nt-mt*Ot*Nt*(Ut-Qe),Nt+mt*Ot*Nt*(Ut+Qe),2*n(v(Qe))-o+mt*(Ut-Qe)/At];var xr=[1,0,0,0,0,0,0,0,0],Tr=[I(ot),0,0,0,0,0,0,0,0],cr=0;for(At=I(1-ot),Ut=1;C(Tr[cr]/xr[cr])>h&&cr<8;)mt=xr[cr++],Tr[cr]=(mt-At)/2,xr[cr]=(mt+At)/2,At=I(mt*At),Ut*=2;Nt=Ut*xr[cr]*Qe;do Ot=Tr[cr]*l(At=Nt)/xr[cr],Nt=(S(Ot)+Nt)/2;while(--cr);return[l(Nt),Ot=w(Nt),Ot/w(Nt-At),Nt]}function La(Qe,ot,mt){var At=C(Qe),Nt=C(ot),Ot=B(Nt);if(At){var Ut=1/l(At),xr=1/(m(At)*m(At)),Tr=-(xr+mt*(Ot*Ot*Ut*Ut)-1+mt),cr=(mt-1)*xr,Rr=(-Tr+I(Tr*Tr-4*cr))/2;return[Qn(n(1/I(Rr)),mt)*f(Qe),Qn(n(I((Rr/xr-1)/mt)),1-mt)*f(ot)]}return[0,Qn(n(Ot),1-mt)*f(ot)]}function Qn(Qe,ot){if(!ot)return Qe;if(ot===1)return r(m(Qe/2+p));for(var mt=1,At=I(1-ot),Nt=I(ot),Ot=0;C(Nt)>h;Ot++){if(Qe%c){var Ut=n(At*m(Qe)/mt);Ut<0&&(Ut+=c),Qe+=Ut+~~(Qe/c)*c}else Qe+=Qe;Nt=(mt+At)/2,At=I(mt*At),Nt=((mt=Nt)-At)/2}return Qe/(a(2,Ot)*mt)}function Mr(Qe,ot){var mt=(A-1)/(A+1),At=I(1-mt*mt),Nt=Qn(o,At*At),Ot=-1,Ut=r(m(c/4+C(ot)/2)),xr=v(Ot*Ut)/I(mt),Tr=Jr(xr*w(Ot*Qe),xr*l(Ot*Qe)),cr=La(Tr[0],Tr[1],At*At);return[-cr[1],(ot>=0?1:-1)*(.5*Nt-cr[0])]}function Jr(Qe,ot){var mt=Qe*Qe,At=ot+1,Nt=1-mt-ot*ot;return[.5*((Qe>=0?o:-o)-L(Nt,2*Qe)),-.25*r(Nt*Nt+4*mt)+.5*r(At*At+mt)]}function Kr(Qe,ot){var mt=ot[0]*ot[0]+ot[1]*ot[1];return[(Qe[0]*ot[0]+Qe[1]*ot[1])/mt,(Qe[1]*ot[0]-Qe[0]*ot[1])/mt]}Mr.invert=function(Qe,ot){var mt=(A-1)/(A+1),At=I(1-mt*mt),Nt=Qn(o,At*At),Ot=-1,Ut=Da(.5*Nt-ot,-Qe,At*At),xr=Kr(Ut[0],Ut[1]),Tr=L(xr[1],xr[0])/Ot;return[Tr,2*n(v(.5/Ot*r(mt*xr[0]*xr[0]+mt*xr[1]*xr[1])))-o]};function wn(){return(0,d.c)(bn(Mr)).scale(151.496)}var jn=e(61780);function Pn(Qe){var ot=l(Qe),mt=w(Qe),At=kn(Qe);At.invert=kn(-Qe);function Nt(Ot,Ut){var xr=At(Ot,Ut);Ot=xr[0],Ut=xr[1];var Tr=l(Ut),cr=w(Ut),Rr=w(Ot),Br=b(ot*Tr+mt*cr*Rr),Zr=l(Br),cn=C(Zr)>h?Br/Zr:1;return[cn*mt*l(Ot),(C(Ot)>o?cn:-cn)*(ot*cr-mt*Tr*Rr)]}return Nt.invert=function(Ot,Ut){var xr=I(Ot*Ot+Ut*Ut),Tr=-l(xr),cr=w(xr),Rr=xr*cr,Br=-Ut*Tr,Zr=xr*ot,cn=I(Rr*Rr+Br*Br-Zr*Zr),_n=L(Rr*Zr+Br*cn,Br*Zr-Rr*cn),Nn=(xr>o?-1:1)*L(Ot*Tr,xr*w(_n)*cr+Ut*l(_n)*Tr);return At.invert(Nn,_n)},Nt}function kn(Qe){var ot=l(Qe),mt=w(Qe);return function(At,Nt){var Ot=w(Nt),Ut=w(At)*Ot,xr=l(At)*Ot,Tr=l(Nt);return[L(xr,Ut*mt-Tr*ot),S(Tr*mt+Ut*ot)]}}function Jn(){var Qe=0,ot=(0,d.U)(Pn),mt=ot(Qe),At=mt.rotate,Nt=mt.stream,Ot=(0,jn.c)();return mt.parallel=function(Ut){if(!arguments.length)return Qe*E;var xr=mt.rotate();return ot(Qe=Ut*M).rotate(xr)},mt.rotate=function(Ut){return arguments.length?(At.call(mt,[Ut[0],Ut[1]-Qe*E]),Ot.center([-Ut[0],-Ut[1]]),mt):(Ut=At.call(mt),Ut[1]+=Qe*E,Ut)},mt.stream=function(Ut){return Ut=Nt(Ut),Ut.sphere=function(){Ut.polygonStart();var xr=.01,Tr=Ot.radius(90-xr)().coordinates[0],cr=Tr.length-1,Rr=-1,Br;for(Ut.lineStart();++Rr<cr;)Ut.point((Br=Tr[Rr])[0],Br[1]);for(Ut.lineEnd(),Tr=Ot.radius(90+xr)().coordinates[0],cr=Tr.length-1,Ut.lineStart();--Rr>=0;)Ut.point((Br=Tr[Rr])[0],Br[1]);Ut.lineEnd(),Ut.polygonEnd()},Ut},mt.scale(79.4187).parallel(45).clipAngle(179.999)}var ua=e(84706),Ca=e(16016),ei=3,Ar=S(1-1/ei)*E,Gr=St(0);function Cr(Qe){var ot=Ar*M,mt=Te(c,ot)[0]-Te(-c,ot)[0],At=Gr(0,ot)[1],Nt=Te(0,ot)[1],Ot=_-Nt,Ut=y/Qe,xr=4/y,Tr=At+Ot*Ot*4/y;function cr(Rr,Br){var Zr,cn=C(Br);if(cn>ot){var _n=i(Qe-1,t(0,g((Rr+c)/Ut)));Rr+=c*(Qe-1)/Qe-_n*Ut,Zr=Te(Rr,cn),Zr[0]=Zr[0]*y/mt-y*(Qe-1)/(2*Qe)+_n*y/Qe,Zr[1]=At+(Zr[1]-Nt)*4*Ot/y,Br<0&&(Zr[1]=-Zr[1])}else Zr=Gr(Rr,Br);return Zr[0]*=xr,Zr[1]/=Tr,Zr}return cr.invert=function(Rr,Br){Rr/=xr,Br*=Tr;var Zr=C(Br);if(Zr>At){var cn=i(Qe-1,t(0,g((Rr+c)/Ut)));Rr=(Rr+c*(Qe-1)/Qe-cn*Ut)*mt/y;var _n=Te.invert(Rr,.25*(Zr-At)*y/Ot+Nt);return _n[0]-=c*(Qe-1)/Qe-cn*Ut,Br<0&&(_n[1]=-_n[1]),_n}return Gr.invert(Rr,Br)},cr}function Wr(Qe,ot){return[Qe,ot&1?90-h:Ar]}function Sn(Qe,ot){return[Qe,ot&1?-90+h:-Ar]}function Fn(Qe){return[Qe[0]*(1-h),Qe[1]]}function An(Qe){var ot=[].concat((0,ua.ik)(-180,180+Qe/2,Qe).map(Wr),(0,ua.ik)(180,-180-Qe/2,-Qe).map(Sn));return{type:"Polygon",coordinates:[Qe===180?ot.map(Fn):ot]}}function dn(){var Qe=4,ot=(0,d.U)(Cr),mt=ot(Qe),At=mt.stream;return mt.lobes=function(Nt){return arguments.length?ot(Qe=+Nt):Qe},mt.stream=function(Nt){var Ot=mt.rotate(),Ut=At(Nt),xr=(mt.rotate([0,0]),At(Nt));return mt.rotate(Ot),Ut.sphere=function(){(0,Ca.c)(An(180/Qe),xr)},Ut},mt.scale(239.75)}function Dr(Qe){var ot=1+Qe,mt=l(1/ot),At=S(mt),Nt=2*I(c/(Ot=c+4*At*ot)),Ot,Ut=.5*Nt*(ot+I(Qe*(2+Qe))),xr=Qe*Qe,Tr=ot*ot;function cr(Rr,Br){var Zr=1-l(Br),cn,_n;if(Zr&&Zr<2){var Nn=o-Br,Wn=25,oa;do{var Ja=l(Nn),Za=w(Nn),Qa=At+L(Ja,ot-Za),ai=1+Tr-2*ot*Za;Nn-=oa=(Nn-xr*At-ot*Ja+ai*Qa-.5*Zr*Ot)/(2*ot*Ja*Qa)}while(C(oa)>T&&--Wn>0);cn=Nt*I(ai),_n=Rr*Qa/c}else cn=Nt*(Qe+Zr),_n=Rr*At/c;return[cn*l(_n),Ut-cn*w(_n)]}return cr.invert=function(Rr,Br){var Zr=Rr*Rr+(Br-=Ut)*Br,cn=(1+Tr-Zr/(Nt*Nt))/(2*ot),_n=b(cn),Nn=l(_n),Wn=At+L(Nn,ot-cn);return[S(Rr/I(Zr))*c/Wn,S(1-2*(_n-xr*At-ot*Nn+(1+Tr-2*ot*cn)*Wn)/Ot)]},cr}function nn(){var Qe=1,ot=(0,d.U)(Dr),mt=ot(Qe);return mt.ratio=function(At){return arguments.length?ot(Qe=+At):Qe},mt.scale(167.774).center([0,18.67])}var $r=.7109889596207567,ln=.0528035274542;function Ln(Qe,ot){return ot>-$r?(Qe=Pe(Qe,ot),Qe[1]+=ln,Qe):ct(Qe,ot)}Ln.invert=function(Qe,ot){return ot>-$r?Pe.invert(Qe,ot-ln):ct.invert(Qe,ot)};function Xn(){return(0,d.c)(Ln).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Rn(Qe,ot){return C(ot)>$r?(Qe=Pe(Qe,ot),Qe[1]-=ot>0?ln:-ln,Qe):ct(Qe,ot)}Rn.invert=function(Qe,ot){return C(ot)>$r?Pe.invert(Qe,ot+(ot>0?ln:-ln)):ct.invert(Qe,ot)};function $n(){return(0,d.c)(Rn).scale(152.63)}function Kn(Qe,ot,mt,At){var Nt=I(4*c/(2*mt+(1+Qe-ot/2)*l(2*mt)+(Qe+ot)/2*l(4*mt)+ot/2*l(6*mt))),Ot=I(At*l(mt)*I((1+Qe*w(2*mt)+ot*w(4*mt))/(1+Qe+ot))),Ut=mt*Tr(1);function xr(Br){return I(1+Qe*w(2*Br)+ot*w(4*Br))}function Tr(Br){var Zr=Br*mt;return(2*Zr+(1+Qe-ot/2)*l(2*Zr)+(Qe+ot)/2*l(4*Zr)+ot/2*l(6*Zr))/mt}function cr(Br){return xr(Br)*l(Br)}var Rr=function(Br,Zr){var cn=mt*Se(Tr,Ut*l(Zr)/mt,Zr/c);isNaN(cn)&&(cn=mt*f(Zr));var _n=Nt*xr(cn);return[_n*Ot*Br/c*w(cn),_n/Ot*l(cn)]};return Rr.invert=function(Br,Zr){var cn=Se(cr,Zr*Ot/Nt);return[Br*c/(w(cn)*Nt*Ot*xr(cn)),S(mt*Tr(cn/mt)/Ut)]},mt===0&&(Nt=I(At/c),Rr=function(Br,Zr){return[Br*Nt,l(Zr)/Nt]},Rr.invert=function(Br,Zr){return[Br/Nt,S(Zr*Nt)]}),Rr}function xa(){var Qe=1,ot=0,mt=45*M,At=2,Nt=(0,d.U)(Kn),Ot=Nt(Qe,ot,mt,At);return Ot.a=function(Ut){return arguments.length?Nt(Qe=+Ut,ot,mt,At):Qe},Ot.b=function(Ut){return arguments.length?Nt(Qe,ot=+Ut,mt,At):ot},Ot.psiMax=function(Ut){return arguments.length?Nt(Qe,ot,mt=+Ut*M,At):mt*E},Ot.ratio=function(Ut){return arguments.length?Nt(Qe,ot,mt,At=+Ut):At},Ot.scale(180.739)}function ba(Qe,ot,mt,At,Nt,Ot,Ut,xr,Tr,cr,Rr){if(Rr.nanEncountered)return NaN;var Br,Zr,cn,_n,Nn,Wn,oa,Ja,Za,Qa;if(Br=mt-ot,Zr=Qe(ot+Br*.25),cn=Qe(mt-Br*.25),isNaN(Zr)){Rr.nanEncountered=!0;return}if(isNaN(cn)){Rr.nanEncountered=!0;return}return _n=Br*(At+4*Zr+Nt)/12,Nn=Br*(Nt+4*cn+Ot)/12,Wn=_n+Nn,Qa=(Wn-Ut)/15,cr>Tr?(Rr.maxDepthCount++,Wn+Qa):Math.abs(Qa)<xr?Wn+Qa:(oa=ot+Br*.5,Ja=ba(Qe,ot,oa,At,Zr,Nt,_n,xr*.5,Tr,cr+1,Rr),isNaN(Ja)?(Rr.nanEncountered=!0,NaN):(Za=ba(Qe,oa,mt,Nt,cn,Ot,Nn,xr*.5,Tr,cr+1,Rr),isNaN(Za)?(Rr.nanEncountered=!0,NaN):Ja+Za))}function _a(Qe,ot,mt,At,Nt){var Ot={maxDepthCount:0,nanEncountered:!1};At===void 0&&(At=1e-8),Nt===void 0&&(Nt=20);var Ut=Qe(ot),xr=Qe(.5*(ot+mt)),Tr=Qe(mt),cr=(Ut+4*xr+Tr)*(mt-ot)/6,Rr=ba(Qe,ot,mt,Ut,xr,Tr,cr,At,Nt,1,Ot);return Rr}function Ra(Qe,ot,mt){function At(cn){return Qe+(1-Qe)*a(1-a(cn,ot),1/ot)}function Nt(cn){return _a(At,0,cn,1e-4)}for(var Ot=1/Nt(1),Ut=1e3,xr=(1+1e-8)*Ot,Tr=[],cr=0;cr<=Ut;cr++)Tr.push(Nt(cr/Ut)*xr);function Rr(cn){var _n=0,Nn=Ut,Wn=Ut>>1;do Tr[Wn]>cn?Nn=Wn:_n=Wn,Wn=_n+Nn>>1;while(Wn>_n);var oa=Tr[Wn+1]-Tr[Wn];return oa&&(oa=(cn-Tr[Wn+1])/oa),(Wn+1+oa)/Ut}var Br=2*Rr(1)/c*Ot/mt,Zr=function(cn,_n){var Nn=Rr(C(l(_n))),Wn=At(Nn)*cn;return Nn/=Br,[Wn,_n>=0?Nn:-Nn]};return Zr.invert=function(cn,_n){var Nn;return _n*=Br,C(_n)<1&&(Nn=f(_n)*S(Nt(C(_n))*Ot)),[cn/At(C(_n)),Nn]},Zr}function Di(){var Qe=0,ot=2.5,mt=1.183136,At=(0,d.U)(Ra),Nt=At(Qe,ot,mt);return Nt.alpha=function(Ot){return arguments.length?At(Qe=+Ot,ot,mt):Qe},Nt.k=function(Ot){return arguments.length?At(Qe,ot=+Ot,mt):ot},Nt.gamma=function(Ot){return arguments.length?At(Qe,ot,mt=+Ot):mt},Nt.scale(152.63)}function Pi(Qe,ot){return C(Qe[0]-ot[0])<h&&C(Qe[1]-ot[1])<h}function zs(Qe,ot){for(var mt=-1,At=Qe.length,Nt=Qe[0],Ot,Ut,xr,Tr=[];++mt<At;){Ot=Qe[mt],Ut=(Ot[0]-Nt[0])/ot,xr=(Ot[1]-Nt[1])/ot;for(var cr=0;cr<ot;++cr)Tr.push([Nt[0]+cr*Ut,Nt[1]+cr*xr]);Nt=Ot}return Tr.push(Ot),Tr}function cs(Qe){var ot=[],mt,At,Nt,Ot,Ut,xr,Tr,cr=Qe[0].length;for(Tr=0;Tr<cr;++Tr)mt=Qe[0][Tr],At=mt[0][0],Nt=mt[0][1],Ot=mt[1][1],Ut=mt[2][0],xr=mt[2][1],ot.push(zs([[At+h,Nt+h],[At+h,Ot-h],[Ut-h,Ot-h],[Ut-h,xr+h]],30));for(Tr=Qe[1].length-1;Tr>=0;--Tr)mt=Qe[1][Tr],At=mt[0][0],Nt=mt[0][1],Ot=mt[1][1],Ut=mt[2][0],xr=mt[2][1],ot.push(zs([[Ut-h,xr-h],[Ut-h,Ot+h],[At+h,Ot+h],[At+h,Nt-h]],30));return{type:"Polygon",coordinates:[(0,ua.Uf)(ot)]}}function es(Qe,ot,mt){var At,Nt;function Ot(Tr,cr){for(var Rr=cr<0?-1:1,Br=ot[+(cr<0)],Zr=0,cn=Br.length-1;Zr<cn&&Tr>Br[Zr][2][0];++Zr);var _n=Qe(Tr-Br[Zr][1][0],cr);return _n[0]+=Qe(Br[Zr][1][0],Rr*cr>Rr*Br[Zr][0][1]?Br[Zr][0][1]:cr)[0],_n}mt?Ot.invert=mt(Ot):Qe.invert&&(Ot.invert=function(Tr,cr){for(var Rr=Nt[+(cr<0)],Br=ot[+(cr<0)],Zr=0,cn=Rr.length;Zr<cn;++Zr){var _n=Rr[Zr];if(_n[0][0]<=Tr&&Tr<_n[1][0]&&_n[0][1]<=cr&&cr<_n[1][1]){var Nn=Qe.invert(Tr-Qe(Br[Zr][1][0],0)[0],cr);return Nn[0]+=Br[Zr][1][0],Pi(Ot(Nn[0],Nn[1]),[Tr,cr])?Nn:null}}});var Ut=(0,d.c)(Ot),xr=Ut.stream;return Ut.stream=function(Tr){var cr=Ut.rotate(),Rr=xr(Tr),Br=(Ut.rotate([0,0]),xr(Tr));return Ut.rotate(cr),Rr.sphere=function(){(0,Ca.c)(At,Br)},Rr},Ut.lobes=function(Tr){return arguments.length?(At=cs(Tr),ot=Tr.map(function(cr){return cr.map(function(Rr){return[[Rr[0][0]*M,Rr[0][1]*M],[Rr[1][0]*M,Rr[1][1]*M],[Rr[2][0]*M,Rr[2][1]*M]]})}),Nt=ot.map(function(cr){return cr.map(function(Rr){var Br=Qe(Rr[0][0],Rr[0][1])[0],Zr=Qe(Rr[2][0],Rr[2][1])[0],cn=Qe(Rr[1][0],Rr[0][1])[1],_n=Qe(Rr[1][0],Rr[1][1])[1],Nn;return cn>_n&&(Nn=cn,cn=_n,_n=Nn),[[Br,cn],[Zr,_n]]})}),Ut):ot.map(function(cr){return cr.map(function(Rr){return[[Rr[0][0]*E,Rr[0][1]*E],[Rr[1][0]*E,Rr[1][1]*E],[Rr[2][0]*E,Rr[2][1]*E]]})})},ot!=null&&Ut.lobes(ot),Ut}var Uu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Dc(){return es(He,Uu).scale(160.857)}var Ic=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Mi(){return es(Rn,Ic).scale(152.63)}var yl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function kc(){return es(Pe,yl).scale(169.529)}var No=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function hs(){return es(Pe,No).scale(169.529).rotate([20,0])}var Kl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Vu(){return es(Ln,Kl,Ae).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Ao=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Hu(){return es(ct,Ao).scale(152.63).rotate([-20,0])}function Mo(Qe,ot){return[3/y*Qe*I(c*c/3-ot*ot),ot]}Mo.invert=function(Qe,ot){return[y/3*Qe/I(c*c/3-ot*ot),ot]};function Do(){return(0,d.c)(Mo).scale(158.837)}function Gu(Qe){function ot(mt,At){if(C(C(At)-o)<h)return[0,At<0?-2:2];var Nt=l(At),Ot=a((1+Nt)/(1-Nt),Qe/2),Ut=.5*(Ot+1/Ot)+w(mt*=Qe);return[2*l(mt)/Ut,(Ot-1/Ot)/Ut]}return ot.invert=function(mt,At){var Nt=C(At);if(C(Nt-2)<h)return mt?null:[0,f(At)*o];if(Nt>2)return null;mt/=2,At/=2;var Ot=mt*mt,Ut=At*At,xr=2*At/(1+Ot+Ut);return xr=a((1+xr)/(1-xr),1/Qe),[L(2*mt,1-Ot-Ut)/Qe,S((xr-1)/(xr+1))]},ot}function Wo(){var Qe=.5,ot=(0,d.U)(Gu),mt=ot(Qe);return mt.spacing=function(At){return arguments.length?ot(Qe=+At):Qe},mt.scale(124.75)}var eo=c/A;function gs(Qe,ot){return[Qe*(1+I(w(ot)))/2,ot/(w(ot/2)*w(Qe/6))]}gs.invert=function(Qe,ot){var mt=C(Qe),At=C(ot),Nt=h,Ot=o;At<eo?Ot*=At/eo:Nt+=6*b(eo/At);for(var Ut=0;Ut<25;Ut++){var xr=l(Ot),Tr=I(w(Ot)),cr=l(Ot/2),Rr=w(Ot/2),Br=l(Nt/6),Zr=w(Nt/6),cn=.5*Nt*(1+Tr)-mt,_n=Ot/(Rr*Zr)-At,Nn=Tr?-.25*Nt*xr/Tr:0,Wn=.5*(1+Tr),oa=(1+.5*Ot*cr/Rr)/(Rr*Zr),Ja=Ot/Rr*(Br/6)/(Zr*Zr),Za=Nn*Ja-oa*Wn,Qa=(cn*Ja-_n*Wn)/Za,ai=(_n*Nn-cn*oa)/Za;if(Ot-=Qa,Nt-=ai,C(Qa)<h&&C(ai)<h)break}return[Qe<0?-Nt:Nt,ot<0?-Ot:Ot]};function Wu(){return(0,d.c)(gs).scale(97.2672)}function ys(Qe,ot){var mt=Qe*Qe,At=ot*ot;return[Qe*(.975534+At*(-.119161+mt*-.0143059+At*-.0547009)),ot*(1.00384+mt*(.0802894+At*-.02855+mt*199025e-9)+At*(.0998909+At*-.0491032))]}ys.invert=function(Qe,ot){var mt=f(Qe)*c,At=ot/2,Nt=50;do{var Ot=mt*mt,Ut=At*At,xr=mt*At,Tr=mt*(.975534+Ut*(-.119161+Ot*-.0143059+Ut*-.0547009))-Qe,cr=At*(1.00384+Ot*(.0802894+Ut*-.02855+Ot*199025e-9)+Ut*(.0998909+Ut*-.0491032))-ot,Rr=.975534-Ut*(.119161+3*Ot*.0143059+Ut*.0547009),Br=-xr*(2*.119161+4*.0547009*Ut+2*.0143059*Ot),Zr=xr*(2*.0802894+4*199025e-9*Ot+2*-.02855*Ut),cn=1.00384+Ot*(.0802894+199025e-9*Ot)+Ut*(3*(.0998909-.02855*Ot)-5*.0491032*Ut),_n=Br*Zr-cn*Rr,Nn=(cr*Br-Tr*cn)/_n,Wn=(Tr*Zr-cr*Rr)/_n;mt-=Nn,At-=Wn}while((C(Nn)>h||C(Wn)>h)&&--Nt>0);return Nt&&[mt,At]};function fh(){return(0,d.c)(ys).scale(139.98)}function ml(Qe,ot){return[l(Qe)/w(ot),m(ot)*w(Qe)]}ml.invert=function(Qe,ot){var mt=Qe*Qe,At=ot*ot,Nt=At+1,Ot=mt+Nt,Ut=Qe?x*I((Ot-I(Ot*Ot-4*mt))/mt):1/I(Nt);return[S(Qe*Ut),f(ot)*b(Ut)]};function Yo(){return(0,d.c)(ml).scale(144.049).clipAngle(89.999)}function Oc(Qe){var ot=w(Qe),mt=m(p+Qe/2);function At(Nt,Ot){var Ut=Ot-Qe,xr=C(Ut)<h?Nt*ot:C(xr=p+Ot/2)<h||C(C(xr)-o)<h?0:Nt*Ut/r(m(xr)/mt);return[xr,Ut]}return At.invert=function(Nt,Ot){var Ut,xr=Ot+Qe;return[C(Ot)<h?Nt/ot:C(Ut=p+xr/2)<h||C(C(Ut)-o)<h?0:Nt*r(m(Ut)/mt)/Ot,xr]},At}function Jl(){return gt(Oc).parallel(40).scale(158.837)}function xl(Qe,ot){return[Qe,1.25*r(m(p+.4*ot))]}xl.invert=function(Qe,ot){return[Qe,2.5*n(v(.8*ot))-.625*c]};function $l(){return(0,d.c)(xl).scale(108.318)}function ch(Qe){var ot=Qe.length-1;function mt(At,Nt){for(var Ot=w(Nt),Ut=2/(1+Ot*w(At)),xr=Ut*Ot*l(At),Tr=Ut*l(Nt),cr=ot,Rr=Qe[cr],Br=Rr[0],Zr=Rr[1],cn;--cr>=0;)Rr=Qe[cr],Br=Rr[0]+xr*(cn=Br)-Tr*Zr,Zr=Rr[1]+xr*Zr+Tr*cn;return Br=xr*(cn=Br)-Tr*Zr,Zr=xr*Zr+Tr*cn,[Br,Zr]}return mt.invert=function(At,Nt){var Ot=20,Ut=At,xr=Nt;do{for(var Tr=ot,cr=Qe[Tr],Rr=cr[0],Br=cr[1],Zr=0,cn=0,_n;--Tr>=0;)cr=Qe[Tr],Zr=Rr+Ut*(_n=Zr)-xr*cn,cn=Br+Ut*cn+xr*_n,Rr=cr[0]+Ut*(_n=Rr)-xr*Br,Br=cr[1]+Ut*Br+xr*_n;Zr=Rr+Ut*(_n=Zr)-xr*cn,cn=Br+Ut*cn+xr*_n,Rr=Ut*(_n=Rr)-xr*Br-At,Br=Ut*Br+xr*_n-Nt;var Nn=Zr*Zr+cn*cn,Wn,oa;Ut-=Wn=(Rr*Zr+Br*cn)/Nn,xr-=oa=(Br*Zr-Rr*cn)/Nn}while(C(Wn)+C(oa)>h*h&&--Ot>0);if(Ot){var Ja=I(Ut*Ut+xr*xr),Za=2*n(Ja*.5),Qa=l(Za);return[L(Ut*Qa,Ja*w(Za)),Ja?S(xr*Qa/Ja):0]}},mt}var Uh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Yu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],hh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Ql=[[.9245,0],[0,0],[.01943,0]],ac=[[.721316,0],[0,0],[-.00881625,-.00617325]];function zc(){return ql(Uh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Vh(){return ql(Yu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Hh(){return ql(hh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function vu(){return ql(Ql,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Zs(){return ql(ac,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function ql(Qe,ot){var mt=(0,d.c)(ch(Qe)).rotate(ot).clipAngle(90),At=(0,je.c)(ot),Nt=mt.center;return delete mt.rotate,mt.center=function(Ot){return arguments.length?Nt(At(Ot)):At.invert(Nt())},mt}var Xu=I(6),Sf=I(7);function Ef(Qe,ot){var mt=S(7*l(ot)/(3*Xu));return[Xu*Qe*(2*w(2*mt/3)-1)/Sf,9*l(mt/3)/Sf]}Ef.invert=function(Qe,ot){var mt=3*S(ot*Sf/9);return[Qe*Sf/(Xu*(2*w(2*mt/3)-1)),S(l(mt)*3*Xu/7)]};function vh(){return(0,d.c)(Ef).scale(164.859)}function Il(Qe,ot){for(var mt=(1+x)*l(ot),At=ot,Nt=0,Ot;Nt<25&&(At-=Ot=(l(At/2)+l(At)-mt)/(.5*w(At/2)+w(At)),!(C(Ot)<h));Nt++);return[Qe*(1+2*w(At)/w(At/2))/(3*A),2*I(3)*l(At/2)/I(2+A)]}Il.invert=function(Qe,ot){var mt=ot*I(2+A)/(2*I(3)),At=2*S(mt);return[3*A*Qe/(1+2*w(At)/w(At/2)),S((mt+l(At))/(1+x))]};function Zu(){return(0,d.c)(Il).scale(188.209)}function En(Qe,ot){for(var mt=I(6/(4+c)),At=(1+c/4)*l(ot),Nt=ot/2,Ot=0,Ut;Ot<25&&(Nt-=Ut=(Nt/2+l(Nt)-At)/(.5+w(Nt)),!(C(Ut)<h));Ot++);return[mt*(.5+w(Nt))*Qe/1.5,mt*Nt]}En.invert=function(Qe,ot){var mt=I(6/(4+c)),At=ot/mt;return C(C(At)-o)<h&&(At=At<0?-o:o),[1.5*Qe/(mt*(.5+w(At))),S((At/2+l(At))/(1+c/4))]};function na(){return(0,d.c)(En).scale(166.518)}var qn=e(47984);function Xa(Qe,ot){var mt=ot*ot,At=mt*mt,Nt=mt*At;return[Qe*(.84719-.13063*mt+Nt*Nt*(-.04515+.05494*mt-.02326*At+.00331*Nt)),ot*(1.01183+At*At*(-.02625+.01926*mt-.00396*At))]}Xa.invert=function(Qe,ot){var mt=ot,At=25,Nt,Ot,Ut,xr;do Ot=mt*mt,Ut=Ot*Ot,mt-=Nt=(mt*(1.01183+Ut*Ut*(-.02625+.01926*Ot-.00396*Ut))-ot)/(1.01183+Ut*Ut*(-.23625+.21186*Ot+-.05148*Ut));while(C(Nt)>T&&--At>0);return Ot=mt*mt,Ut=Ot*Ot,xr=Ot*Ut,[Qe/(.84719-.13063*Ot+xr*xr*(-.04515+.05494*Ot-.02326*Ut+.00331*xr)),mt]};function li(){return(0,d.c)(Xa).scale(175.295)}function Ii(Qe,ot){return[Qe*(1+w(ot))/2,2*(ot-m(ot/2))]}Ii.invert=function(Qe,ot){for(var mt=ot/2,At=0,Nt=1/0;At<10&&C(Nt)>h;++At){var Ot=w(ot/2);ot-=Nt=(ot-m(ot/2)-mt)/(1-.5/(Ot*Ot))}return[2*Qe/(1+w(ot)),ot]};function co(){return(0,d.c)(Ii).scale(152.63)}var $i=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function bl(){return es(ae(1/0),$i).rotate([20,0]).scale(152.63)}function wl(Qe,ot){var mt=l(ot),At=w(ot),Nt=f(Qe);if(Qe===0||C(ot)===o)return[0,ot];if(ot===0)return[Qe,0];if(C(Qe)===o)return[Qe*At,o*mt];var Ot=c/(2*Qe)-2*Qe/c,Ut=2*ot/c,xr=(1-Ut*Ut)/(mt-Ut),Tr=Ot*Ot,cr=xr*xr,Rr=1+Tr/cr,Br=1+cr/Tr,Zr=(Ot*mt/xr-Ot/2)/Rr,cn=(cr*mt/Tr+xr/2)/Br,_n=Zr*Zr+At*At/Rr,Nn=cn*cn-(cr*mt*mt/Tr+xr*mt-1)/Br;return[o*(Zr+I(_n)*Nt),o*(cn+I(Nn<0?0:Nn)*f(-ot*Ot)*Nt)]}wl.invert=function(Qe,ot){Qe/=o,ot/=o;var mt=Qe*Qe,At=ot*ot,Nt=mt+At,Ot=c*c;return[Qe?(Nt-1+I((1-Nt)*(1-Nt)+4*mt))/(2*Qe)*o:0,Se(function(Ut){return Nt*(c*l(Ut)-2*Ut)*c+4*Ut*Ut*(ot-l(Ut))+2*c*Ut-Ot*ot},0)]};function Ms(){return(0,d.c)(wl).scale(127.267)}var kl=1.0148,rl=.23185,no=-.14499,ju=.02406,ic=kl,ji=5*rl,Ku=7*no,du=9*ju,ts=1.790857183;function oc(Qe,ot){var mt=ot*ot;return[Qe,ot*(kl+mt*mt*(rl+mt*(no+ju*mt)))]}oc.invert=function(Qe,ot){ot>ts?ot=ts:ot<-ts&&(ot=-ts);var mt=ot,At;do{var Nt=mt*mt;mt-=At=(mt*(kl+Nt*Nt*(rl+Nt*(no+ju*Nt)))-ot)/(ic+Nt*Nt*(ji+Nt*(Ku+du*Nt)))}while(C(At)>h);return[Qe,mt]};function Ju(){return(0,d.c)(oc).scale(139.319)}function sc(Qe,ot){if(C(ot)<h)return[Qe,0];var mt=m(ot),At=Qe*l(ot);return[l(At)/mt,ot+(1-w(At))/mt]}sc.invert=function(Qe,ot){if(C(ot)<h)return[Qe,0];var mt=Qe*Qe+ot*ot,At=ot*.5,Nt=10,Ot;do{var Ut=m(At),xr=1/w(At),Tr=mt-2*ot*At+At*At;At-=Ot=(Ut*Tr+2*(At-ot))/(2+Tr*xr*xr+2*(At-ot)*Ut)}while(C(Ot)>h&&--Nt>0);return Ut=m(At),[(C(ot)<C(At+1/Ut)?S(Qe*Ut):f(ot)*f(Qe)*(b(C(Qe*Ut))+o))/l(At),At]};function lc(){return(0,d.c)(sc).scale(103.74)}var Ol=e(13696),$u=e(27284);function uc(Qe,ot){var mt=Cf(Qe[1],Qe[0]),At=Cf(ot[1],ot[0]),Nt=Lf(mt,At),Ot=eu(mt)/eu(At);return pu([1,0,Qe[0][0],0,1,Qe[0][1]],pu([Ot,0,0,0,Ot,0],pu([w(Nt),l(Nt),0,-l(Nt),w(Nt),0],[1,0,-ot[0][0],0,1,-ot[0][1]])))}function Qu(Qe){var ot=1/(Qe[0]*Qe[4]-Qe[1]*Qe[3]);return[ot*Qe[4],-ot*Qe[1],ot*(Qe[1]*Qe[5]-Qe[2]*Qe[4]),-ot*Qe[3],ot*Qe[0],ot*(Qe[2]*Qe[3]-Qe[0]*Qe[5])]}function pu(Qe,ot){return[Qe[0]*ot[0]+Qe[1]*ot[3],Qe[0]*ot[1]+Qe[1]*ot[4],Qe[0]*ot[2]+Qe[1]*ot[5]+Qe[2],Qe[3]*ot[0]+Qe[4]*ot[3],Qe[3]*ot[1]+Qe[4]*ot[4],Qe[3]*ot[2]+Qe[4]*ot[5]+Qe[5]]}function Cf(Qe,ot){return[Qe[0]-ot[0],Qe[1]-ot[1]]}function eu(Qe){return I(Qe[0]*Qe[0]+Qe[1]*Qe[1])}function Lf(Qe,ot){return L(Qe[0]*ot[1]-Qe[1]*ot[0],Qe[0]*ot[0]+Qe[1]*ot[1])}function Hi(Qe,ot,mt){At(Qe,{transform:null});function At(cr,Rr){if(cr.edges=Fc(cr.face),Rr.face){var Br=cr.shared=dh(cr.face,Rr.face),Zr=uc(Br.map(Rr.project),Br.map(cr.project));cr.transform=Rr.transform?pu(Rr.transform,Zr):Zr;for(var cn=Rr.edges,_n=0,Nn=cn.length;_n<Nn;++_n)Ss(Br[0],cn[_n][1])&&Ss(Br[1],cn[_n][0])&&(cn[_n]=cr),Ss(Br[0],cn[_n][0])&&Ss(Br[1],cn[_n][1])&&(cn[_n]=cr);for(cn=cr.edges,_n=0,Nn=cn.length;_n<Nn;++_n)Ss(Br[0],cn[_n][0])&&Ss(Br[1],cn[_n][1])&&(cn[_n]=Rr),Ss(Br[0],cn[_n][1])&&Ss(Br[1],cn[_n][0])&&(cn[_n]=Rr)}else cr.transform=Rr.transform;return cr.children&&cr.children.forEach(function(Wn){At(Wn,cr)}),cr}function Nt(cr,Rr){var Br=ot(cr,Rr),Zr=Br.project([cr*E,Rr*E]),cn;return(cn=Br.transform)?[cn[0]*Zr[0]+cn[1]*Zr[1]+cn[2],-(cn[3]*Zr[0]+cn[4]*Zr[1]+cn[5])]:(Zr[1]=-Zr[1],Zr)}gu(Qe)&&(Nt.invert=function(cr,Rr){var Br=Ot(Qe,[cr,-Rr]);return Br&&(Br[0]*=M,Br[1]*=M,Br)});function Ot(cr,Rr){var Br=cr.project.invert,Zr=cr.transform,cn=Rr;if(Zr&&(Zr=Qu(Zr),cn=[Zr[0]*cn[0]+Zr[1]*cn[1]+Zr[2],Zr[3]*cn[0]+Zr[4]*cn[1]+Zr[5]]),Br&&cr===Ut(_n=Br(cn)))return _n;for(var _n,Nn=cr.children,Wn=0,oa=Nn&&Nn.length;Wn<oa;++Wn)if(_n=Ot(Nn[Wn],Rr))return _n}function Ut(cr){return ot(cr[0]*M,cr[1]*M)}var xr=(0,d.c)(Nt),Tr=xr.stream;return xr.stream=function(cr){var Rr=xr.rotate(),Br=Tr(cr),Zr=(xr.rotate([0,0]),Tr(cr));return xr.rotate(Rr),Br.sphere=function(){Zr.polygonStart(),Zr.lineStart(),tu(Zr,Qe),Zr.lineEnd(),Zr.polygonEnd()},Br},xr.angle(mt==null?-30:mt*E)}function tu(Qe,ot,mt){var At,Nt=ot.edges,Ot=Nt.length,Ut,xr={type:"MultiPoint",coordinates:ot.face},Tr=ot.face.filter(function(Nn){return C(Nn[1])!==90}),cr=(0,Ol.c)({type:"MultiPoint",coordinates:Tr}),Rr=!1,Br=-1,Zr=cr[1][0]-cr[0][0],cn=Zr===180||Zr===360?[(cr[0][0]+cr[1][0])/2,(cr[0][1]+cr[1][1])/2]:(0,ze.c)(xr);if(mt)for(;++Br<Ot&&Nt[Br]!==mt;);++Br;for(var _n=0;_n<Ot;++_n)Ut=Nt[(_n+Br)%Ot],Array.isArray(Ut)?(Rr||(Qe.point((At=(0,$u.c)(Ut[0],cn)(h))[0],At[1]),Rr=!0),Qe.point((At=(0,$u.c)(Ut[1],cn)(h))[0],At[1])):(Rr=!1,Ut!==mt&&tu(Qe,Ut,ot))}function Ss(Qe,ot){return Qe&&ot&&Qe[0]===ot[0]&&Qe[1]===ot[1]}function dh(Qe,ot){for(var mt,At,Nt=Qe.length,Ot=null,Ut=0;Ut<Nt;++Ut){mt=Qe[Ut];for(var xr=ot.length;--xr>=0;)if(At=ot[xr],mt[0]===At[0]&&mt[1]===At[1]){if(Ot)return[Ot,mt];Ot=mt}}}function Fc(Qe){for(var ot=Qe.length,mt=[],At=Qe[ot-1],Nt=0;Nt<ot;++Nt)mt.push([At,At=Qe[Nt]]);return mt}function gu(Qe){return Qe.project.invert||Qe.children&&Qe.children.some(gu)}var nl=e(53285),yu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],bo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Qe){return Qe.map(function(ot){return yu[ot]})});function _f(Qe){Qe=Qe||function(mt){var At=(0,ze.c)({type:"MultiPoint",coordinates:mt});return(0,nl.c)().scale(1).translate([0,0]).rotate([-At[0],-At[1]])};var ot=bo.map(function(mt){return{face:mt,project:Qe(mt)}});return[-1,0,0,1,0,1,4,5].forEach(function(mt,At){var Nt=ot[mt];Nt&&(Nt.children||(Nt.children=[])).push(ot[At])}),Hi(ot[0],function(mt,At){return ot[mt<-c/2?At<0?6:4:mt<0?At<0?2:0:mt<c/2?At<0?3:1:At<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var js=2/I(3);function zl(Qe,ot){var mt=Te(Qe,ot);return[mt[0]*js,mt[1]]}zl.invert=function(Qe,ot){return Te.invert(Qe/js,ot)};function mu(Qe){Qe=Qe||function(mt){var At=(0,ze.c)({type:"MultiPoint",coordinates:mt});return(0,d.c)(zl).translate([0,0]).scale(1).rotate(At[1]>0?[-At[0],0]:[180-At[0],180])};var ot=bo.map(function(mt){return{face:mt,project:Qe(mt)}});return[-1,0,0,1,0,1,4,5].forEach(function(mt,At){var Nt=ot[mt];Nt&&(Nt.children||(Nt.children=[])).push(ot[At])}),Hi(ot[0],function(mt,At){return ot[mt<-c/2?At<0?6:4:mt<0?At<0?2:0:mt<c/2?At<0?3:1:At<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function lo(Qe){Qe=Qe||function(Ut){var xr=Ut.length===6?(0,ze.c)({type:"MultiPoint",coordinates:Ut}):Ut[0];return(0,nl.c)().scale(1).translate([0,0]).rotate([-xr[0],-xr[1]])};var ot=bo.map(function(Ut){for(var xr=Ut.map(Fs),Tr=xr.length,cr=xr[Tr-1],Rr,Br=[],Zr=0;Zr<Tr;++Zr)Rr=xr[Zr],Br.push(al([cr[0]*.9486832980505138+Rr[0]*.31622776601683794,cr[1]*.9486832980505138+Rr[1]*.31622776601683794,cr[2]*.9486832980505138+Rr[2]*.31622776601683794]),al([Rr[0]*.9486832980505138+cr[0]*.31622776601683794,Rr[1]*.9486832980505138+cr[1]*.31622776601683794,Rr[2]*.9486832980505138+cr[2]*.31622776601683794])),cr=Rr;return Br}),mt=[],At=[-1,0,0,1,0,1,4,5];ot.forEach(function(Ut,xr){for(var Tr=bo[xr],cr=Tr.length,Rr=mt[xr]=[],Br=0;Br<cr;++Br)ot.push([Tr[Br],Ut[(Br*2+2)%(2*cr)],Ut[(Br*2+1)%(2*cr)]]),At.push(xr),Rr.push(Fl(Fs(Ut[(Br*2+2)%(2*cr)]),Fs(Ut[(Br*2+1)%(2*cr)])))});var Nt=ot.map(function(Ut){return{project:Qe(Ut),face:Ut}});At.forEach(function(Ut,xr){var Tr=Nt[Ut];Tr&&(Tr.children||(Tr.children=[])).push(Nt[xr])});function Ot(Ut,xr){var Tr=w(xr),cr=[Tr*w(Ut),Tr*l(Ut),l(xr)],Rr=Ut<-c/2?xr<0?6:4:Ut<0?xr<0?2:0:Ut<c/2?xr<0?3:1:xr<0?7:5,Br=mt[Rr];return Nt[uo(Br[0],cr)<0?8+3*Rr:uo(Br[1],cr)<0?8+3*Rr+1:uo(Br[2],cr)<0?8+3*Rr+2:Rr]}return Hi(Nt[0],Ot).angle(-30).scale(110.625).center([0,45])}function uo(Qe,ot){for(var mt=0,At=Qe.length,Nt=0;mt<At;++mt)Nt+=Qe[mt]*ot[mt];return Nt}function Fl(Qe,ot){return[Qe[1]*ot[2]-Qe[2]*ot[1],Qe[2]*ot[0]-Qe[0]*ot[2],Qe[0]*ot[1]-Qe[1]*ot[0]]}function al(Qe){return[L(Qe[1],Qe[0])*E,S(t(-1,i(1,Qe[2])))*E]}function Fs(Qe){var ot=Qe[0]*M,mt=Qe[1]*M,At=w(mt);return[At*w(ot),At*l(ot),l(mt)]}function Pf(){}function Nc(Qe){if((mt=Qe.length)<4)return!1;for(var ot=0,mt,At=Qe[mt-1][1]*Qe[0][0]-Qe[mt-1][0]*Qe[0][1];++ot<mt;)At+=Qe[ot-1][1]*Qe[ot][0]-Qe[ot-1][0]*Qe[ot][1];return At<=0}function Rf(Qe,ot){for(var mt=ot[0],At=ot[1],Nt=!1,Ot=0,Ut=Qe.length,xr=Ut-1;Ot<Ut;xr=Ot++){var Tr=Qe[Ot],cr=Tr[0],Rr=Tr[1],Br=Qe[xr],Zr=Br[0],cn=Br[1];Rr>At^cn>At&&mt<(Zr-cr)*(At-Rr)/(cn-Rr)+cr&&(Nt=!Nt)}return Nt}function Bc(Qe,ot){var mt=ot.stream,At;if(!mt)throw new Error("invalid projection");switch(Qe&&Qe.type){case"Feature":At=xu;break;case"FeatureCollection":At=qu;break;default:At=Nl;break}return At(Qe,mt)}function qu(Qe,ot){return{type:"FeatureCollection",features:Qe.features.map(function(mt){return xu(mt,ot)})}}function xu(Qe,ot){return{type:"Feature",id:Qe.id,properties:Qe.properties,geometry:Nl(Qe.geometry,ot)}}function ef(Qe,ot){return{type:"GeometryCollection",geometries:Qe.geometries.map(function(mt){return Nl(mt,ot)})}}function Nl(Qe,ot){if(!Qe)return null;if(Qe.type==="GeometryCollection")return ef(Qe,ot);var mt;switch(Qe.type){case"Point":mt=tf;break;case"MultiPoint":mt=tf;break;case"LineString":mt=ph;break;case"MultiLineString":mt=ph;break;case"Polygon":mt=Df;break;case"MultiPolygon":mt=Df;break;case"Sphere":mt=Df;break;default:return null}return(0,Ca.c)(Qe,ot(mt)),mt.result()}var So=[],Ns=[],tf={point:function(Qe,ot){So.push([Qe,ot])},result:function(){var Qe=So.length?So.length<2?{type:"Point",coordinates:So[0]}:{type:"MultiPoint",coordinates:So}:null;return So=[],Qe}},ph={lineStart:Pf,point:function(Qe,ot){So.push([Qe,ot])},lineEnd:function(){So.length&&(Ns.push(So),So=[])},result:function(){var Qe=Ns.length?Ns.length<2?{type:"LineString",coordinates:Ns[0]}:{type:"MultiLineString",coordinates:Ns}:null;return Ns=[],Qe}},Df={polygonStart:Pf,lineStart:Pf,point:function(Qe,ot){So.push([Qe,ot])},lineEnd:function(){var Qe=So.length;if(Qe){do So.push(So[0].slice());while(++Qe<4);Ns.push(So),So=[]}},polygonEnd:Pf,result:function(){if(!Ns.length)return null;var Qe=[],ot=[];return Ns.forEach(function(mt){Nc(mt)?Qe.push([mt]):ot.push(mt)}),ot.forEach(function(mt){var At=mt[0];Qe.some(function(Nt){if(Rf(Nt[0],At))return Nt.push(mt),!0})||Qe.push([mt])}),Ns=[],Qe.length?Qe.length>1?{type:"MultiPolygon",coordinates:Qe}:{type:"Polygon",coordinates:Qe[0]}:null}};function Bl(Qe){var ot=Qe(o,0)[0]-Qe(-o,0)[0];function mt(At,Nt){var Ot=C(At)<o,Ut=Qe(Ot?At:At>0?At-c:At+c,Nt),xr=(Ut[0]-Ut[1])*x,Tr=(Ut[0]+Ut[1])*x;if(Ot)return[xr,Tr];var cr=ot*x,Rr=xr>0^Tr>0?-1:1;return[Rr*xr-f(Tr)*cr,Rr*Tr-f(xr)*cr]}return Qe.invert&&(mt.invert=function(At,Nt){var Ot=(At+Nt)*x,Ut=(Nt-At)*x,xr=C(Ot)<.5*ot&&C(Ut)<.5*ot;if(!xr){var Tr=ot*x,cr=Ot>0^Ut>0?-1:1,Rr=-cr*At+(Ut>0?1:-1)*Tr,Br=-cr*Nt+(Ot>0?1:-1)*Tr;Ot=(-Rr-Br)*x,Ut=(Rr-Br)*x}var Zr=Qe.invert(Ot,Ut);return xr||(Zr[0]+=Ot>0?c:-c),Zr}),(0,d.c)(mt).rotate([-90,-90,45]).clipAngle(179.999)}function fc(){return Bl(Hn).scale(176.423)}function rf(){return Bl(Mr).scale(111.48)}function Uc(Qe,ot){if(!(0<=(ot=+ot)&&ot<=20))throw new Error("invalid digits");function mt(cr){var Rr=cr.length,Br=2,Zr=new Array(Rr);for(Zr[0]=+cr[0].toFixed(ot),Zr[1]=+cr[1].toFixed(ot);Br<Rr;)Zr[Br]=cr[Br],++Br;return Zr}function At(cr){return cr.map(mt)}function Nt(cr){for(var Rr=mt(cr[0]),Br=[Rr],Zr=1;Zr<cr.length;Zr++){var cn=mt(cr[Zr]);(cn.length>2||cn[0]!=Rr[0]||cn[1]!=Rr[1])&&(Br.push(cn),Rr=cn)}return Br.length===1&&cr.length>1&&Br.push(mt(cr[cr.length-1])),Br}function Ot(cr){return cr.map(Nt)}function Ut(cr){if(cr==null)return cr;var Rr;switch(cr.type){case"GeometryCollection":Rr={type:"GeometryCollection",geometries:cr.geometries.map(Ut)};break;case"Point":Rr={type:"Point",coordinates:mt(cr.coordinates)};break;case"MultiPoint":Rr={type:cr.type,coordinates:At(cr.coordinates)};break;case"LineString":Rr={type:cr.type,coordinates:Nt(cr.coordinates)};break;case"MultiLineString":case"Polygon":Rr={type:cr.type,coordinates:Ot(cr.coordinates)};break;case"MultiPolygon":Rr={type:"MultiPolygon",coordinates:cr.coordinates.map(Ot)};break;default:return cr}return cr.bbox!=null&&(Rr.bbox=cr.bbox),Rr}function xr(cr){var Rr={type:"Feature",properties:cr.properties,geometry:Ut(cr.geometry)};return cr.id!=null&&(Rr.id=cr.id),cr.bbox!=null&&(Rr.bbox=cr.bbox),Rr}if(Qe!=null)switch(Qe.type){case"Feature":return xr(Qe);case"FeatureCollection":{var Tr={type:"FeatureCollection",features:Qe.features.map(xr)};return Qe.bbox!=null&&(Tr.bbox=Qe.bbox),Tr}default:return Ut(Qe)}return Qe}function Lr(Qe){var ot=l(Qe);function mt(At,Nt){var Ot=ot?m(At*ot/2)/ot:At/2;if(!Nt)return[2*Ot,-Qe];var Ut=2*n(Ot*l(Nt)),xr=1/m(Nt);return[l(Ut)*xr,Nt+(1-w(Ut))*xr-Qe]}return mt.invert=function(At,Nt){if(C(Nt+=Qe)<h)return[ot?2*n(ot*At/2)/ot:At,0];var Ot=At*At+Nt*Nt,Ut=0,xr=10,Tr;do{var cr=m(Ut),Rr=1/w(Ut),Br=Ot-2*Nt*Ut+Ut*Ut;Ut-=Tr=(cr*Br+2*(Ut-Nt))/(2+Br*Rr*Rr+2*(Ut-Nt)*cr)}while(C(Tr)>h&&--xr>0);var Zr=At*(cr=m(Ut)),cn=m(C(Nt)<C(Ut+1/cr)?S(Zr)*.5:b(Zr)*.5+c/4)/l(Ut);return[ot?2*n(ot*cn)/ot:2*cn,Ut]},mt}function bu(){return gt(Lr).scale(131.215)}var Xo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Xo.forEach(function(Qe){Qe[1]*=1.0144});function Po(Qe,ot){var mt=i(18,C(ot)*36/c),At=g(mt),Nt=mt-At,Ot=(Br=Xo[At])[0],Ut=Br[1],xr=(Br=Xo[++At])[0],Tr=Br[1],cr=(Br=Xo[i(19,++At)])[0],Rr=Br[1],Br;return[Qe*(xr+Nt*(cr-Ot)/2+Nt*Nt*(cr-2*xr+Ot)/2),(ot>0?o:-o)*(Tr+Nt*(Rr-Ut)/2+Nt*Nt*(Rr-2*Tr+Ut)/2)]}Po.invert=function(Qe,ot){var mt=ot/o,At=mt*90,Nt=i(18,C(At/5)),Ot=t(0,g(Nt));do{var Ut=Xo[Ot][1],xr=Xo[Ot+1][1],Tr=Xo[i(19,Ot+2)][1],cr=Tr-Ut,Rr=Tr-2*xr+Ut,Br=2*(C(mt)-xr)/cr,Zr=Rr/cr,cn=Br*(1-Zr*Br*(1-2*Zr*Br));if(cn>=0||Ot===1){At=(ot>=0?5:-5)*(cn+Nt);var _n=50,Nn;do Nt=i(18,C(At)/5),Ot=g(Nt),cn=Nt-Ot,Ut=Xo[Ot][1],xr=Xo[Ot+1][1],Tr=Xo[i(19,Ot+2)][1],At-=(Nn=(ot>=0?o:-o)*(xr+cn*(Tr-Ut)/2+cn*cn*(Tr-2*xr+Ut)/2)-ot)*E;while(C(Nn)>T&&--_n>0);break}}while(--Ot>=0);var Wn=Xo[Ot][0],oa=Xo[Ot+1][0],Ja=Xo[i(19,Ot+2)][0];return[Qe/(oa+cn*(Ja-Wn)/2+cn*cn*(Ja-2*oa+Wn)/2),At*M]};function yi(){return(0,d.c)(Po).scale(152.63)}function nf(Qe){function ot(mt,At){var Nt=w(At),Ot=(Qe-1)/(Qe-Nt*w(mt));return[Ot*Nt*l(mt),Ot*l(At)]}return ot.invert=function(mt,At){var Nt=mt*mt+At*At,Ot=I(Nt),Ut=(Qe-I(1-Nt*(Qe+1)/(Qe-1)))/((Qe-1)/Ot+Ot/(Qe-1));return[L(mt*Ut,Ot*I(1-Ut*Ut)),Ot?S(At*Ut/Ot):0]},ot}function cc(Qe,ot){var mt=nf(Qe);if(!ot)return mt;var At=w(ot),Nt=l(ot);function Ot(Ut,xr){var Tr=mt(Ut,xr),cr=Tr[1],Rr=cr*Nt/(Qe-1)+At;return[Tr[0]*At/Rr,cr/Rr]}return Ot.invert=function(Ut,xr){var Tr=(Qe-1)/(Qe-1-xr*Nt);return mt.invert(Tr*Ut,Tr*xr*At)},Ot}function wu(){var Qe=2,ot=0,mt=(0,d.U)(cc),At=mt(Qe,ot);return At.distance=function(Nt){return arguments.length?mt(Qe=+Nt,ot):Qe},At.tilt=function(Nt){return arguments.length?mt(Qe,ot=Nt*M):ot*E},At.scale(432.147).clipAngle(b(1/Qe)*E-1e-6)}var Bs=1e-4,gh=1e4,Ul=-180,af=Ul+Bs,ru=180,Vl=ru-Bs,Us=-90,of=Us+Bs,Ki=90,sf=Ki-Bs;function hc(Qe){return Qe.length>0}function yh(Qe){return Math.floor(Qe*gh)/gh}function Es(Qe){return Qe===Us||Qe===Ki?[0,Qe]:[Ul,yh(Qe)]}function If(Qe){var ot=Qe[0],mt=Qe[1],At=!1;return ot<=af?(ot=Ul,At=!0):ot>=Vl&&(ot=ru,At=!0),mt<=of?(mt=Us,At=!0):mt>=sf&&(mt=Ki,At=!0),At?[ot,mt]:Qe}function vc(Qe){return Qe.map(If)}function Vc(Qe,ot,mt){for(var At=0,Nt=Qe.length;At<Nt;++At){var Ot=Qe[At].slice();mt.push({index:-1,polygon:ot,ring:Ot});for(var Ut=0,xr=Ot.length;Ut<xr;++Ut){var Tr=Ot[Ut],cr=Tr[0],Rr=Tr[1];if(cr<=af||cr>=Vl||Rr<=of||Rr>=sf){Ot[Ut]=If(Tr);for(var Br=Ut+1;Br<xr;++Br){var Zr=Ot[Br],cn=Zr[0],_n=Zr[1];if(cn>af&&cn<Vl&&_n>of&&_n<sf)break}if(Br===Ut+1)continue;if(Ut){var Nn={index:-1,polygon:ot,ring:Ot.slice(0,Ut+1)};Nn.ring[Nn.ring.length-1]=Es(Rr),mt[mt.length-1]=Nn}else mt.pop();if(Br>=xr)break;mt.push({index:-1,polygon:ot,ring:Ot=Ot.slice(Br-1)}),Ot[0]=Es(Ot[0][1]),Ut=-1,xr=Ot.length}}}}function kf(Qe){var ot,mt=Qe.length,At={},Nt={},Ot,Ut,xr,Tr,cr;for(ot=0;ot<mt;++ot){if(Ot=Qe[ot],Ut=Ot.ring[0],Tr=Ot.ring[Ot.ring.length-1],Ut[0]===Tr[0]&&Ut[1]===Tr[1]){Ot.polygon.push(Ot.ring),Qe[ot]=null;continue}Ot.index=ot,At[Ut]=Nt[Tr]=Ot}for(ot=0;ot<mt;++ot)if(Ot=Qe[ot],Ot){if(Ut=Ot.ring[0],Tr=Ot.ring[Ot.ring.length-1],xr=Nt[Ut],cr=At[Tr],delete At[Ut],delete Nt[Tr],Ut[0]===Tr[0]&&Ut[1]===Tr[1]){Ot.polygon.push(Ot.ring);continue}xr?(delete Nt[Ut],delete At[xr.ring[0]],xr.ring.pop(),Qe[xr.index]=null,Ot={index:-1,polygon:xr.polygon,ring:xr.ring.concat(Ot.ring)},xr===cr?Ot.polygon.push(Ot.ring):(Ot.index=mt++,Qe.push(At[Ot.ring[0]]=Nt[Ot.ring[Ot.ring.length-1]]=Ot))):cr?(delete At[Tr],delete Nt[cr.ring[cr.ring.length-1]],Ot.ring.pop(),Ot={index:mt++,polygon:cr.polygon,ring:Ot.ring.concat(cr.ring)},Qe[cr.index]=null,Qe.push(At[Ot.ring[0]]=Nt[Ot.ring[Ot.ring.length-1]]=Ot)):(Ot.ring.push(Ot.ring[0]),Ot.polygon.push(Ot.ring))}}function Of(Qe){var ot={type:"Feature",geometry:Cs(Qe.geometry)};return Qe.id!=null&&(ot.id=Qe.id),Qe.bbox!=null&&(ot.bbox=Qe.bbox),Qe.properties!=null&&(ot.properties=Qe.properties),ot}function Cs(Qe){if(Qe==null)return Qe;var ot,mt,At,Nt;switch(Qe.type){case"GeometryCollection":ot={type:"GeometryCollection",geometries:Qe.geometries.map(Cs)};break;case"Point":ot={type:"Point",coordinates:If(Qe.coordinates)};break;case"MultiPoint":case"LineString":ot={type:Qe.type,coordinates:vc(Qe.coordinates)};break;case"MultiLineString":ot={type:"MultiLineString",coordinates:Qe.coordinates.map(vc)};break;case"Polygon":{var Ot=[];Vc(Qe.coordinates,Ot,mt=[]),kf(mt),ot={type:"Polygon",coordinates:Ot};break}case"MultiPolygon":{mt=[],At=-1,Nt=Qe.coordinates.length;for(var Ut=new Array(Nt);++At<Nt;)Vc(Qe.coordinates[At],Ut[At]=[],mt);kf(mt),ot={type:"MultiPolygon",coordinates:Ut.filter(hc)};break}default:return Qe}return Qe.bbox!=null&&(ot.bbox=Qe.bbox),ot}function zf(Qe){if(Qe==null)return Qe;switch(Qe.type){case"Feature":return Of(Qe);case"FeatureCollection":{var ot={type:"FeatureCollection",features:Qe.features.map(Of)};return Qe.bbox!=null&&(ot.bbox=Qe.bbox),ot}default:return Cs(Qe)}}function nu(Qe,ot){var mt=m(ot/2),At=l(p*mt);return[Qe*(.74482-.34588*At*At),1.70711*mt]}nu.invert=function(Qe,ot){var mt=ot/1.70711,At=l(p*mt);return[Qe/(.74482-.34588*At*At),2*n(mt)]};function to(){return(0,d.c)(nu).scale(146.153)}function Tl(Qe,ot,mt){var At=(0,$u.c)(ot,mt),Nt=At(.5),Ot=(0,je.c)([-Nt[0],-Nt[1]])(ot),Ut=At.distance/2,xr=-S(l(Ot[1]*M)/l(Ut)),Tr=[-Nt[0],-Nt[1],-(Ot[0]>0?c-xr:xr)*E],cr=(0,d.c)(Qe(Ut)).rotate(Tr),Rr=(0,je.c)(Tr),Br=cr.center;return delete cr.rotate,cr.center=function(Zr){return arguments.length?Br(Rr(Zr)):Rr.invert(Br())},cr.clipAngle(90)}function Hc(Qe){var ot=w(Qe);function mt(At,Nt){var Ot=(0,nl.Y)(At,Nt);return Ot[0]*=ot,Ot}return mt.invert=function(At,Nt){return nl.Y.invert(At/ot,Nt)},mt}function Tu(){return dc([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function dc(Qe,ot){return Tl(Hc,Qe,ot)}function Ff(Qe){if(!(Qe*=2))return le.O;var ot=-Qe/2,mt=-ot,At=Qe*Qe,Nt=m(mt),Ot=.5/l(mt);function Ut(xr,Tr){var cr=b(w(Tr)*w(xr-ot)),Rr=b(w(Tr)*w(xr-mt)),Br=Tr<0?-1:1;return cr*=cr,Rr*=Rr,[(cr-Rr)/(2*Qe),Br*I(4*At*Rr-(At-cr+Rr)*(At-cr+Rr))/(2*Qe)]}return Ut.invert=function(xr,Tr){var cr=Tr*Tr,Rr=w(I(cr+(Zr=xr+ot)*Zr)),Br=w(I(cr+(Zr=xr+mt)*Zr)),Zr,cn;return[L(cn=Rr-Br,Zr=(Rr+Br)*Nt),(Tr<0?-1:1)*b(I(Zr*Zr+cn*cn)*Ot)]},Ut}function mh(){return Gc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Gc(Qe,ot){return Tl(Ff,Qe,ot)}function vs(Qe,ot){if(C(ot)<h)return[Qe,0];var mt=C(ot/o),At=S(mt);if(C(Qe)<h||C(C(ot)-o)<h)return[0,f(ot)*c*m(At/2)];var Nt=w(At),Ot=C(c/Qe-Qe/c)/2,Ut=Ot*Ot,xr=Nt/(mt+Nt-1),Tr=xr*(2/mt-1),cr=Tr*Tr,Rr=cr+Ut,Br=xr-cr,Zr=Ut+xr;return[f(Qe)*c*(Ot*Br+I(Ut*Br*Br-Rr*(xr*xr-cr)))/Rr,f(ot)*c*(Tr*Zr-Ot*I((Ut+1)*Rr-Zr*Zr))/Rr]}vs.invert=function(Qe,ot){if(C(ot)<h)return[Qe,0];if(C(Qe)<h)return[0,o*l(2*n(ot/c))];var mt=(Qe/=c)*Qe,At=(ot/=c)*ot,Nt=mt+At,Ot=Nt*Nt,Ut=-C(ot)*(1+Nt),xr=Ut-2*At+mt,Tr=-2*Ut+1+2*At+Ot,cr=At/Tr+(2*xr*xr*xr/(Tr*Tr*Tr)-9*Ut*xr/(Tr*Tr))/27,Rr=(Ut-xr*xr/(3*Tr))/Tr,Br=2*I(-Rr/3),Zr=b(3*cr/(Rr*Br))/3;return[c*(Nt-1+I(1+2*(mt-At)+Ot))/(2*Qe),f(ot)*c*(-Br*w(Zr+c/3)-xr/(3*Tr))]};function Nf(){return(0,d.c)(vs).scale(79.4183)}function au(Qe,ot){if(C(ot)<h)return[Qe,0];var mt=C(ot/o),At=S(mt);if(C(Qe)<h||C(C(ot)-o)<h)return[0,f(ot)*c*m(At/2)];var Nt=w(At),Ot=C(c/Qe-Qe/c)/2,Ut=Ot*Ot,xr=Nt*(I(1+Ut)-Ot*Nt)/(1+Ut*mt*mt);return[f(Qe)*c*xr,f(ot)*c*I(1-xr*(2*Ot+xr))]}au.invert=function(Qe,ot){if(!Qe)return[0,o*l(2*n(ot/c))];var mt=C(Qe/c),At=(1-mt*mt-(ot/=c)*ot)/(2*mt),Nt=At*At,Ot=I(Nt+1);return[f(Qe)*c*(Ot-At),f(ot)*o*l(2*L(I((1-2*At*mt)*(At+Ot)-mt),I(Ot+At+mt)))]};function lf(){return(0,d.c)(au).scale(79.4183)}function il(Qe,ot){if(C(ot)<h)return[Qe,0];var mt=ot/o,At=S(mt);if(C(Qe)<h||C(C(ot)-o)<h)return[0,c*m(At/2)];var Nt=(c/Qe-Qe/c)/2,Ot=mt/(1+w(At));return[c*(f(Qe)*I(Nt*Nt+1-Ot*Ot)-Nt),c*Ot]}il.invert=function(Qe,ot){if(!ot)return[Qe,0];var mt=ot/c,At=(c*c*(1-mt*mt)-Qe*Qe)/(2*c*Qe);return[Qe?c*(f(Qe)*I(At*At+1)-At):0,o*l(2*n(mt))]};function Gh(){return(0,d.c)(il).scale(79.4183)}function ms(Qe,ot){if(!ot)return[Qe,0];var mt=C(ot);if(!Qe||mt===o)return[0,ot];var At=mt/o,Nt=At*At,Ot=(8*At-Nt*(Nt+2)-5)/(2*Nt*(At-1)),Ut=Ot*Ot,xr=At*Ot,Tr=Nt+Ut+2*xr,cr=At+3*Ot,Rr=Qe/o,Br=Rr+1/Rr,Zr=f(C(Qe)-o)*I(Br*Br-4),cn=Zr*Zr,_n=Tr*(Nt+Ut*cn-1)+(1-Nt)*(Nt*(cr*cr+4*Ut)+12*xr*Ut+4*Ut*Ut),Nn=(Zr*(Tr+Ut-1)+2*I(_n))/(4*Tr+cn);return[f(Qe)*o*Nn,f(ot)*o*I(1+Zr*C(Nn)-Nn*Nn)]}ms.invert=function(Qe,ot){var mt;if(!Qe||!ot)return[Qe,ot];ot/=c;var At=f(Qe)*Qe/o,Nt=(At*At-1+4*ot*ot)/C(At),Ot=Nt*Nt,Ut=2*ot,xr=50;do{var Tr=Ut*Ut,cr=(8*Ut-Tr*(Tr+2)-5)/(2*Tr*(Ut-1)),Rr=(3*Ut-Tr*Ut-10)/(2*Tr*Ut),Br=cr*cr,Zr=Ut*cr,cn=Ut+cr,_n=cn*cn,Nn=Ut+3*cr,Wn=_n*(Tr+Br*Ot-1)+(1-Tr)*(Tr*(Nn*Nn+4*Br)+Br*(12*Zr+4*Br)),oa=-2*cn*(4*Zr*Br+(1-4*Tr+3*Tr*Tr)*(1+Rr)+Br*(-6+14*Tr-Ot+(-8+8*Tr-2*Ot)*Rr)+Zr*(-8+12*Tr+(-10+10*Tr-Ot)*Rr)),Ja=I(Wn),Za=Nt*(_n+Br-1)+2*Ja-At*(4*_n+Ot),Qa=Nt*(2*cr*Rr+2*cn*(1+Rr))+oa/Ja-8*cn*(Nt*(-1+Br+_n)+2*Ja)*(1+Rr)/(Ot+4*_n);Ut-=mt=Za/Qa}while(mt>h&&--xr>0);return[f(Qe)*(I(Nt*Nt+4)+Nt)*c/4,o*Ut]};function Bf(){return(0,d.c)(ms).scale(127.16)}function Ks(Qe,ot,mt,At,Nt){function Ot(Ut,xr){var Tr=mt*l(At*xr),cr=I(1-Tr*Tr),Rr=I(2/(1+cr*w(Ut*=Nt)));return[Qe*cr*Rr*l(Ut),ot*Tr*Rr]}return Ot.invert=function(Ut,xr){var Tr=Ut/Qe,cr=xr/ot,Rr=I(Tr*Tr+cr*cr),Br=2*S(Rr/2);return[L(Ut*m(Br),Qe*Rr)/Nt,Rr&&S(xr*l(Br)/(ot*mt*Rr))/At]},Ot}function ol(Qe,ot,mt,At){var Nt=c/3;Qe=t(Qe,h),ot=t(ot,h),Qe=i(Qe,o),ot=i(ot,c-h),mt=t(mt,0),mt=i(mt,100-h),At=t(At,h);var Ot=mt/100+1,Ut=At/100,xr=b(Ot*w(Nt))/Nt,Tr=l(Qe)/l(xr*o),cr=ot/c,Rr=I(Ut*l(Qe/2)/l(ot/2)),Br=Rr/I(cr*Tr*xr),Zr=1/(Rr*I(cr*Tr*xr));return Ks(Br,Zr,Tr,xr,cr)}function Ls(){var Qe=65*M,ot=60*M,mt=20,At=200,Nt=(0,d.U)(ol),Ot=Nt(Qe,ot,mt,At);return Ot.poleline=function(Ut){return arguments.length?Nt(Qe=+Ut*M,ot,mt,At):Qe*E},Ot.parallels=function(Ut){return arguments.length?Nt(Qe,ot=+Ut*M,mt,At):ot*E},Ot.inflation=function(Ut){return arguments.length?Nt(Qe,ot,mt=+Ut,At):mt},Ot.ratio=function(Ut){return arguments.length?Nt(Qe,ot,mt,At=+Ut):At},Ot.scale(163.775)}function _s(){return Ls().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Uf=4*c+3*I(3),uf=2*I(2*c*I(3)/Uf),Vf=be(uf*I(3)/c,uf,Uf/6);function ff(){return(0,d.c)(Vf).scale(176.84)}function Js(Qe,ot){return[Qe*I(1-3*ot*ot/(c*c)),ot]}Js.invert=function(Qe,ot){return[Qe/I(1-3*ot*ot/(c*c)),ot]};function pc(){return(0,d.c)(Js).scale(152.63)}function Au(Qe,ot){var mt=w(ot),At=w(Qe)*mt,Nt=1-At,Ot=w(Qe=L(l(Qe)*mt,-l(ot))),Ut=l(Qe);return mt=I(1-At*At),[Ut*mt-Ot*Nt,-Ot*mt-Ut*Nt]}Au.invert=function(Qe,ot){var mt=(Qe*Qe+ot*ot)/-2,At=I(-mt*(2+mt)),Nt=ot*mt+Qe*At,Ot=Qe*mt-ot*At,Ut=I(Ot*Ot+Nt*Nt);return[L(At*Nt,Ut*(1+mt)),Ut?-S(At*Ot/Ut):0]};function cf(){return(0,d.c)(Au).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Hf(Qe,ot){var mt=X(Qe,ot);return[(mt[0]+Qe/o)/2,(mt[1]+ot)/2]}Hf.invert=function(Qe,ot){var mt=Qe,At=ot,Nt=25;do{var Ot=w(At),Ut=l(At),xr=l(2*At),Tr=Ut*Ut,cr=Ot*Ot,Rr=l(mt),Br=w(mt/2),Zr=l(mt/2),cn=Zr*Zr,_n=1-cr*Br*Br,Nn=_n?b(Ot*Br)*I(Wn=1/_n):Wn=0,Wn,oa=.5*(2*Nn*Ot*Zr+mt/o)-Qe,Ja=.5*(Nn*Ut+At)-ot,Za=.5*Wn*(cr*cn+Nn*Ot*Br*Tr)+.5/o,Qa=Wn*(Rr*xr/4-Nn*Ut*Zr),ai=.125*Wn*(xr*Zr-Nn*Ut*cr*Rr),bi=.5*Wn*(Tr*Br+Nn*cn*Ot)+.5,Gi=Qa*ai-bi*Za,Ro=(Ja*Qa-oa*bi)/Gi,ce=(oa*ai-Ja*Za)/Gi;mt-=Ro,At-=ce}while((C(Ro)>h||C(ce)>h)&&--Nt>0);return[mt,At]};function Wc(){return(0,d.c)(Hf).scale(158.837)}},88728:function(H,U,e){e.d(U,{c:function(){return d}});function d(){return new C}function C(){this.reset()}C.prototype={constructor:C,reset:function(){this.s=this.t=0},add:function(w){L(n,w,this.t),L(this,n.s,this.s),this.s?this.t+=n.t:this.s=n.t},valueOf:function(){return this.s}};var n=new C;function L(w,v,g){var r=w.s=v+g,t=r-v,i=r-t;w.t=v-i+(g-t)}},95384:function(H,U,e){e.d(U,{cp:function(){return T},mQ:function(){return w},oB:function(){return u}});var d=e(88728),C=e(64528),n=e(70932),L=e(16016),w=(0,d.c)(),v=(0,d.c)(),g,r,t,i,a,u={point:n.c,lineStart:n.c,lineEnd:n.c,polygonStart:function(){w.reset(),u.lineStart=f,u.lineEnd=l},polygonEnd:function(){var c=+w;v.add(c<0?C.kD+c:c),this.lineStart=this.lineEnd=this.point=n.c},sphere:function(){v.add(C.kD)}};function f(){u.point=m}function l(){h(g,r)}function m(c,o){u.point=h,g=c,r=o,c*=C.qw,o*=C.qw,t=c,i=(0,C.W8)(o=o/2+C.wL),a=(0,C.g$)(o)}function h(c,o){c*=C.qw,o*=C.qw,o=o/2+C.wL;var p=c-t,x=p>=0?1:-1,A=x*p,_=(0,C.W8)(o),y=(0,C.g$)(o),E=a*y,M=i*_+E*(0,C.W8)(A),s=E*x*(0,C.g$)(A);w.add((0,C.WE)(s,M)),t=c,i=_,a=y}function T(c){return v.reset(),(0,L.c)(c,u),v*2}},13696:function(H,U,e){e.d(U,{c:function(){return S}});var d=e(88728),C=e(95384),n=e(84220),L=e(64528),w=e(16016),v,g,r,t,i,a,u,f,l=(0,d.c)(),m,h,T={point:c,lineStart:p,lineEnd:x,polygonStart:function(){T.point=A,T.lineStart=_,T.lineEnd=y,l.reset(),C.oB.polygonStart()},polygonEnd:function(){C.oB.polygonEnd(),T.point=c,T.lineStart=p,T.lineEnd=x,C.mQ<0?(v=-(r=180),g=-(t=90)):l>L.Gg?t=90:l<-L.Gg&&(g=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),g=-(t=90)}};function c(b,I){m.push(h=[v=b,r=b]),I<g&&(g=I),I>t&&(t=I)}function o(b,I){var D=(0,n.ux)([b*L.qw,I*L.qw]);if(f){var B=(0,n.CW)(f,D),k=[B[1],-B[0],0],F=(0,n.CW)(k,B);(0,n.cJ)(F),F=(0,n.G)(F);var N=b-i,O=N>0?1:-1,V=F[0]*L.oh*O,X,ee=(0,L.a2)(N)>180;ee^(O*i<V&&V<O*b)?(X=F[1]*L.oh,X>t&&(t=X)):(V=(V+360)%360-180,ee^(O*i<V&&V<O*b)?(X=-F[1]*L.oh,X<g&&(g=X)):(I<g&&(g=I),I>t&&(t=I))),ee?b<i?E(v,b)>E(v,r)&&(r=b):E(b,r)>E(v,r)&&(v=b):r>=v?(b<v&&(v=b),b>r&&(r=b)):b>i?E(v,b)>E(v,r)&&(r=b):E(b,r)>E(v,r)&&(v=b)}else m.push(h=[v=b,r=b]);I<g&&(g=I),I>t&&(t=I),f=D,i=b}function p(){T.point=o}function x(){h[0]=v,h[1]=r,T.point=c,f=null}function A(b,I){if(f){var D=b-i;l.add((0,L.a2)(D)>180?D+(D>0?360:-360):D)}else a=b,u=I;C.oB.point(b,I),o(b,I)}function _(){C.oB.lineStart()}function y(){A(a,u),C.oB.lineEnd(),(0,L.a2)(l)>L.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,f=null}function E(b,I){return(I-=b)<0?I+360:I}function M(b,I){return b[0]-I[0]}function s(b,I){return b[0]<=b[1]?b[0]<=I&&I<=b[1]:I<b[0]||b[1]<I}function S(b){var I,D,B,k,F,N,O;if(t=r=-(v=g=1/0),m=[],(0,w.c)(b,T),D=m.length){for(m.sort(M),I=1,B=m[0],F=[B];I<D;++I)k=m[I],s(B,k[0])||s(B,k[1])?(E(B[0],k[1])>E(B[0],B[1])&&(B[1]=k[1]),E(k[0],B[1])>E(B[0],B[1])&&(B[0]=k[0])):F.push(B=k);for(N=-1/0,D=F.length-1,I=0,B=F[D];I<=D;B=k,++I)k=F[I],(O=E(B[1],k[0]))>N&&(N=O,v=k[0],r=B[1])}return m=h=null,v===1/0||g===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,g],[r,t]]}},84220:function(H,U,e){e.d(U,{CW:function(){return w},Ez:function(){return L},G:function(){return C},cJ:function(){return r},mg:function(){return v},ux:function(){return n},wx:function(){return g}});var d=e(64528);function C(t){return[(0,d.WE)(t[1],t[0]),(0,d.qR)(t[2])]}function n(t){var i=t[0],a=t[1],u=(0,d.W8)(a);return[u*(0,d.W8)(i),u*(0,d.g$)(i),(0,d.g$)(a)]}function L(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function w(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function v(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function g(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function r(t){var i=(0,d._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}},24052:function(H,U,e){e.d(U,{c:function(){return D}});var d=e(64528),C=e(70932),n=e(16016),L,w,v,g,r,t,i,a,u,f,l,m,h,T,c,o,p={sphere:C.c,point:x,lineStart:_,lineEnd:M,polygonStart:function(){p.lineStart=s,p.lineEnd=S},polygonEnd:function(){p.lineStart=_,p.lineEnd=M}};function x(B,k){B*=d.qw,k*=d.qw;var F=(0,d.W8)(k);A(F*(0,d.W8)(B),F*(0,d.g$)(B),(0,d.g$)(k))}function A(B,k,F){++L,v+=(B-v)/L,g+=(k-g)/L,r+=(F-r)/L}function _(){p.point=y}function y(B,k){B*=d.qw,k*=d.qw;var F=(0,d.W8)(k);T=F*(0,d.W8)(B),c=F*(0,d.g$)(B),o=(0,d.g$)(k),p.point=E,A(T,c,o)}function E(B,k){B*=d.qw,k*=d.qw;var F=(0,d.W8)(k),N=F*(0,d.W8)(B),O=F*(0,d.g$)(B),V=(0,d.g$)(k),X=(0,d.WE)((0,d._I)((X=c*V-o*O)*X+(X=o*N-T*V)*X+(X=T*O-c*N)*X),T*N+c*O+o*V);w+=X,t+=X*(T+(T=N)),i+=X*(c+(c=O)),a+=X*(o+(o=V)),A(T,c,o)}function M(){p.point=x}function s(){p.point=b}function S(){I(m,h),p.point=x}function b(B,k){m=B,h=k,B*=d.qw,k*=d.qw,p.point=I;var F=(0,d.W8)(k);T=F*(0,d.W8)(B),c=F*(0,d.g$)(B),o=(0,d.g$)(k),A(T,c,o)}function I(B,k){B*=d.qw,k*=d.qw;var F=(0,d.W8)(k),N=F*(0,d.W8)(B),O=F*(0,d.g$)(B),V=(0,d.g$)(k),X=c*V-o*O,ee=o*N-T*V,ne=T*O-c*N,q=(0,d._I)(X*X+ee*ee+ne*ne),se=(0,d.qR)(q),J=q&&-se/q;u+=J*X,f+=J*ee,l+=J*ne,w+=se,t+=se*(T+(T=N)),i+=se*(c+(c=O)),a+=se*(o+(o=V)),A(T,c,o)}function D(B){L=w=v=g=r=t=i=a=u=f=l=0,(0,n.c)(B,p);var k=u,F=f,N=l,O=k*k+F*F+N*N;return O<d.a8&&(k=t,F=i,N=a,w<d.Gg&&(k=v,F=g,N=r),O=k*k+F*F+N*N,O<d.a8)?[NaN,NaN]:[(0,d.WE)(F,k)*d.oh,(0,d.qR)(N/(0,d._I)(O))*d.oh]}},61780:function(H,U,e){e.d(U,{Q:function(){return w},c:function(){return g}});var d=e(84220);function C(r){return function(){return r}}var n=e(64528),L=e(92992);function w(r,t,i,a,u,f){if(i){var l=(0,n.W8)(t),m=(0,n.g$)(t),h=a*i;u==null?(u=t+a*n.kD,f=t-h/2):(u=v(l,u),f=v(l,f),(a>0?u<f:u>f)&&(u+=a*n.kD));for(var T,c=u;a>0?c>f:c<f;c-=h)T=(0,d.G)([l,-m*(0,n.W8)(c),-m*(0,n.g$)(c)]),r.point(T[0],T[1])}}function v(r,t){t=(0,d.ux)(t),t[0]-=r,(0,d.cJ)(t);var i=(0,n.mE)(-t[1]);return((-t[2]<0?-i:i)+n.kD-n.Gg)%n.kD}function g(){var r=C([0,0]),t=C(90),i=C(6),a,u,f={point:l};function l(h,T){a.push(h=u(h,T)),h[0]*=n.oh,h[1]*=n.oh}function m(){var h=r.apply(this,arguments),T=t.apply(this,arguments)*n.qw,c=i.apply(this,arguments)*n.qw;return a=[],u=(0,L.O)(-h[0]*n.qw,-h[1]*n.qw,0).invert,w(f,T,c,1),h={type:"Polygon",coordinates:[a]},a=u=null,h}return m.center=function(h){return arguments.length?(r=typeof h=="function"?h:C([+h[0],+h[1]]),m):r},m.radius=function(h){return arguments.length?(t=typeof h=="function"?h:C(+h),m):t},m.precision=function(h){return arguments.length?(i=typeof h=="function"?h:C(+h),m):i},m}},78284:function(H,U,e){var d=e(14229),C=e(64528);U.c=(0,d.c)(function(){return!0},n,w,[-C.pi,-C.or]);function n(v){var g=NaN,r=NaN,t=NaN,i;return{lineStart:function(){v.lineStart(),i=1},point:function(a,u){var f=a>0?C.pi:-C.pi,l=(0,C.a2)(a-g);(0,C.a2)(l-C.pi)<C.Gg?(v.point(g,r=(r+u)/2>0?C.or:-C.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(f,r),v.point(a,r),i=0):t!==f&&l>=C.pi&&((0,C.a2)(g-t)<C.Gg&&(g-=t*C.Gg),(0,C.a2)(a-f)<C.Gg&&(a-=f*C.Gg),r=L(g,r,a,u),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(f,r),i=0),v.point(g=a,r=u),t=f},lineEnd:function(){v.lineEnd(),g=r=NaN},clean:function(){return 2-i}}}function L(v,g,r,t){var i,a,u=(0,C.g$)(v-r);return(0,C.a2)(u)>C.Gg?(0,C.MQ)(((0,C.g$)(g)*(a=(0,C.W8)(t))*(0,C.g$)(r)-(0,C.g$)(t)*(i=(0,C.W8)(g))*(0,C.g$)(v))/(i*a*u)):(g+t)/2}function w(v,g,r,t){var i;if(v==null)i=r*C.or,t.point(-C.pi,i),t.point(0,i),t.point(C.pi,i),t.point(C.pi,0),t.point(C.pi,-i),t.point(0,-i),t.point(-C.pi,-i),t.point(-C.pi,0),t.point(-C.pi,i);else if((0,C.a2)(v[0]-g[0])>C.Gg){var a=v[0]<g[0]?C.pi:-C.pi;i=r*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(g[0],g[1])}},97208:function(H,U,e){e.d(U,{c:function(){return C}});var d=e(70932);function C(){var n=[],L;return{point:function(w,v,g){L.push([w,v,g])},lineStart:function(){n.push(L=[])},lineEnd:d.c,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var w=n;return n=[],L=null,w}}}},2728:function(H,U,e){e.d(U,{c:function(){return v}});var d=e(84220),C=e(61780),n=e(64528),L=e(41860),w=e(14229);function v(g){var r=(0,n.W8)(g),t=6*n.qw,i=r>0,a=(0,n.a2)(r)>n.Gg;function u(T,c,o,p){(0,C.Q)(p,g,t,o,T,c)}function f(T,c){return(0,n.W8)(T)*(0,n.W8)(c)>r}function l(T){var c,o,p,x,A;return{lineStart:function(){x=p=!1,A=1},point:function(_,y){var E=[_,y],M,s=f(_,y),S=i?s?0:h(_,y):s?h(_+(_<0?n.pi:-n.pi),y):0;if(!c&&(x=p=s)&&T.lineStart(),s!==p&&(M=m(c,E),(!M||(0,L.c)(c,M)||(0,L.c)(E,M))&&(E[2]=1)),s!==p)A=0,s?(T.lineStart(),M=m(E,c),T.point(M[0],M[1])):(M=m(c,E),T.point(M[0],M[1],2),T.lineEnd()),c=M;else if(a&&c&&i^s){var b;!(S&o)&&(b=m(E,c,!0))&&(A=0,i?(T.lineStart(),T.point(b[0][0],b[0][1]),T.point(b[1][0],b[1][1]),T.lineEnd()):(T.point(b[1][0],b[1][1]),T.lineEnd(),T.lineStart(),T.point(b[0][0],b[0][1],3)))}s&&(!c||!(0,L.c)(c,E))&&T.point(E[0],E[1]),c=E,p=s,o=S},lineEnd:function(){p&&T.lineEnd(),c=null},clean:function(){return A|(x&&p)<<1}}}function m(T,c,o){var p=(0,d.ux)(T),x=(0,d.ux)(c),A=[1,0,0],_=(0,d.CW)(p,x),y=(0,d.Ez)(_,_),E=_[0],M=y-E*E;if(!M)return!o&&T;var s=r*y/M,S=-r*E/M,b=(0,d.CW)(A,_),I=(0,d.wx)(A,s),D=(0,d.wx)(_,S);(0,d.mg)(I,D);var B=b,k=(0,d.Ez)(I,B),F=(0,d.Ez)(B,B),N=k*k-F*((0,d.Ez)(I,I)-1);if(!(N<0)){var O=(0,n._I)(N),V=(0,d.wx)(B,(-k-O)/F);if((0,d.mg)(V,I),V=(0,d.G)(V),!o)return V;var X=T[0],ee=c[0],ne=T[1],q=c[1],se;ee<X&&(se=X,X=ee,ee=se);var J=ee-X,Z=(0,n.a2)(J-n.pi)<n.Gg,te=Z||J<n.Gg;if(!Z&&q<ne&&(se=ne,ne=q,q=se),te?Z?ne+q>0^V[1]<((0,n.a2)(V[0]-X)<n.Gg?ne:q):ne<=V[1]&&V[1]<=q:J>n.pi^(X<=V[0]&&V[0]<=ee)){var Y=(0,d.wx)(B,(-k+O)/F);return(0,d.mg)(Y,I),[V,(0,d.G)(Y)]}}}function h(T,c){var o=i?g:n.pi-g,p=0;return T<-o?p|=1:T>o&&(p|=2),c<-o?p|=4:c>o&&(p|=8),p}return(0,w.c)(f,l,u,i?[0,-g]:[-n.pi,g-n.pi])}},14229:function(H,U,e){e.d(U,{c:function(){return v}});var d=e(97208),C=e(32232),n=e(64528),L=e(58196),w=e(84706);function v(t,i,a,u){return function(f){var l=i(f),m=(0,d.c)(),h=i(m),T=!1,c,o,p,x={point:A,lineStart:y,lineEnd:E,polygonStart:function(){x.point=M,x.lineStart=s,x.lineEnd=S,o=[],c=[]},polygonEnd:function(){x.point=A,x.lineStart=y,x.lineEnd=E,o=(0,w.Uf)(o);var b=(0,L.c)(c,u);o.length?(T||(f.polygonStart(),T=!0),(0,C.c)(o,r,b,a,f)):b&&(T||(f.polygonStart(),T=!0),f.lineStart(),a(null,null,1,f),f.lineEnd()),T&&(f.polygonEnd(),T=!1),o=c=null},sphere:function(){f.polygonStart(),f.lineStart(),a(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function A(b,I){t(b,I)&&f.point(b,I)}function _(b,I){l.point(b,I)}function y(){x.point=_,l.lineStart()}function E(){x.point=A,l.lineEnd()}function M(b,I){p.push([b,I]),h.point(b,I)}function s(){h.lineStart(),p=[]}function S(){M(p[0][0],p[0][1]),h.lineEnd();var b=h.clean(),I=m.result(),D,B=I.length,k,F,N;if(p.pop(),c.push(p),p=null,!!B){if(b&1){if(F=I[0],(k=F.length-1)>0){for(T||(f.polygonStart(),T=!0),f.lineStart(),D=0;D<k;++D)f.point((N=F[D])[0],N[1]);f.lineEnd()}return}B>1&&b&2&&I.push(I.pop().concat(I.shift())),o.push(I.filter(g))}}return x}}function g(t){return t.length>1}function r(t,i){return((t=t.x)[0]<0?t[1]-n.or-n.Gg:n.or-t[1])-((i=i.x)[0]<0?i[1]-n.or-n.Gg:n.or-i[1])}},21676:function(H,U,e){e.d(U,{c:function(){return r}});var d=e(64528),C=e(97208);function n(t,i,a,u,f,l){var m=t[0],h=t[1],T=i[0],c=i[1],o=0,p=1,x=T-m,A=c-h,_;if(_=a-m,!(!x&&_>0)){if(_/=x,x<0){if(_<o)return;_<p&&(p=_)}else if(x>0){if(_>p)return;_>o&&(o=_)}if(_=f-m,!(!x&&_<0)){if(_/=x,x<0){if(_>p)return;_>o&&(o=_)}else if(x>0){if(_<o)return;_<p&&(p=_)}if(_=u-h,!(!A&&_>0)){if(_/=A,A<0){if(_<o)return;_<p&&(p=_)}else if(A>0){if(_>p)return;_>o&&(o=_)}if(_=l-h,!(!A&&_<0)){if(_/=A,A<0){if(_>p)return;_>o&&(o=_)}else if(A>0){if(_<o)return;_<p&&(p=_)}return o>0&&(t[0]=m+o*x,t[1]=h+o*A),p<1&&(i[0]=m+p*x,i[1]=h+p*A),!0}}}}}var L=e(32232),w=e(84706),v=1e9,g=-v;function r(t,i,a,u){function f(c,o){return t<=c&&c<=a&&i<=o&&o<=u}function l(c,o,p,x){var A=0,_=0;if(c==null||(A=m(c,p))!==(_=m(o,p))||T(c,o)<0^p>0)do x.point(A===0||A===3?t:a,A>1?u:i);while((A=(A+p+4)%4)!==_);else x.point(o[0],o[1])}function m(c,o){return(0,d.a2)(c[0]-t)<d.Gg?o>0?0:3:(0,d.a2)(c[0]-a)<d.Gg?o>0?2:1:(0,d.a2)(c[1]-i)<d.Gg?o>0?1:0:o>0?3:2}function h(c,o){return T(c.x,o.x)}function T(c,o){var p=m(c,1),x=m(o,1);return p!==x?p-x:p===0?o[1]-c[1]:p===1?c[0]-o[0]:p===2?c[1]-o[1]:o[0]-c[0]}return function(c){var o=c,p=(0,C.c)(),x,A,_,y,E,M,s,S,b,I,D,B={point:k,lineStart:V,lineEnd:X,polygonStart:N,polygonEnd:O};function k(ne,q){f(ne,q)&&o.point(ne,q)}function F(){for(var ne=0,q=0,se=A.length;q<se;++q)for(var J=A[q],Z=1,te=J.length,Y=J[0],ie,le,j=Y[0],K=Y[1];Z<te;++Z)ie=j,le=K,Y=J[Z],j=Y[0],K=Y[1],le<=u?K>u&&(j-ie)*(u-le)>(K-le)*(t-ie)&&++ne:K<=u&&(j-ie)*(u-le)<(K-le)*(t-ie)&&--ne;return ne}function N(){o=p,x=[],A=[],D=!0}function O(){var ne=F(),q=D&&ne,se=(x=(0,w.Uf)(x)).length;(q||se)&&(c.polygonStart(),q&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),se&&(0,L.c)(x,h,ne,l,c),c.polygonEnd()),o=c,x=A=_=null}function V(){B.point=ee,A&&A.push(_=[]),I=!0,b=!1,s=S=NaN}function X(){x&&(ee(y,E),M&&b&&p.rejoin(),x.push(p.result())),B.point=k,b&&o.lineEnd()}function ee(ne,q){var se=f(ne,q);if(A&&_.push([ne,q]),I)y=ne,E=q,M=se,I=!1,se&&(o.lineStart(),o.point(ne,q));else if(se&&b)o.point(ne,q);else{var J=[s=Math.max(g,Math.min(v,s)),S=Math.max(g,Math.min(v,S))],Z=[ne=Math.max(g,Math.min(v,ne)),q=Math.max(g,Math.min(v,q))];n(J,Z,t,i,a,u)?(b||(o.lineStart(),o.point(J[0],J[1])),o.point(Z[0],Z[1]),se||o.lineEnd(),D=!1):se&&(o.lineStart(),o.point(ne,q),D=!1)}s=ne,S=q,b=se}return B}}},32232:function(H,U,e){e.d(U,{c:function(){return L}});var d=e(41860),C=e(64528);function n(v,g,r,t){this.x=v,this.z=g,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function L(v,g,r,t,i){var a=[],u=[],f,l;if(v.forEach(function(p){if(!((x=p.length-1)<=0)){var x,A=p[0],_=p[x],y;if((0,d.c)(A,_)){if(!A[2]&&!_[2]){for(i.lineStart(),f=0;f<x;++f)i.point((A=p[f])[0],A[1]);i.lineEnd();return}_[0]+=2*C.Gg}a.push(y=new n(A,p,null,!0)),u.push(y.o=new n(A,null,y,!1)),a.push(y=new n(_,p,null,!1)),u.push(y.o=new n(_,null,y,!0))}}),!!a.length){for(u.sort(g),w(a),w(u),f=0,l=u.length;f<l;++f)u[f].e=r=!r;for(var m=a[0],h,T;;){for(var c=m,o=!0;c.v;)if((c=c.n)===m)return;h=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(o)for(f=0,l=h.length;f<l;++f)i.point((T=h[f])[0],T[1]);else t(c.x,c.n.x,1,i);c=c.n}else{if(o)for(h=c.p.z,f=h.length-1;f>=0;--f)i.point((T=h[f])[0],T[1]);else t(c.x,c.p.x,-1,i);c=c.p}c=c.o,h=c.z,o=!o}while(!c.v);i.lineEnd()}}}function w(v){if(g=v.length){for(var g,r=0,t=v[0],i;++r<g;)t.n=i=v[r],i.p=t,t=i;t.n=i=v[0],i.p=t}}},68120:function(H,U,e){e.d(U,{c:function(){return d}});function d(C,n){function L(w,v){return w=C(w,v),n(w[0],w[1])}return C.invert&&n.invert&&(L.invert=function(w,v){return w=n.invert(w,v),w&&C.invert(w[0],w[1])}),L}},7376:function(H,U,e){e.d(U,{c:function(){return d}});function d(C){return C}},83356:function(H,U,e){e.r(U),e.d(U,{geoAlbers:function(){return wr},geoAlbersUsa:function(){return ut},geoArea:function(){return d.cp},geoAzimuthalEqualArea:function(){return Mt.c},geoAzimuthalEqualAreaRaw:function(){return Mt.y},geoAzimuthalEquidistant:function(){return _t.c},geoAzimuthalEquidistantRaw:function(){return _t.O},geoBounds:function(){return C.c},geoCentroid:function(){return n.c},geoCircle:function(){return L.c},geoClipAntimeridian:function(){return w.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return g.c},geoConicConformal:function(){return Qt},geoConicConformalRaw:function(){return gr},geoConicEqualArea:function(){return nr},geoConicEqualAreaRaw:function(){return qt},geoConicEquidistant:function(){return Ye},geoConicEquidistantRaw:function(){return Ze},geoContains:function(){return N},geoDistance:function(){return M},geoEqualEarth:function(){return yr},geoEqualEarthRaw:function(){return Vt},geoEquirectangular:function(){return mr.c},geoEquirectangularRaw:function(){return mr.u},geoGnomonic:function(){return br.c},geoGnomonicRaw:function(){return br.Y},geoGraticule:function(){return ee},geoGraticule10:function(){return ne},geoIdentity:function(){return pr},geoInterpolate:function(){return q.c},geoLength:function(){return _},geoMercator:function(){return Wt},geoMercatorRaw:function(){return Xt},geoNaturalEarth1:function(){return Yr.c},geoNaturalEarth1Raw:function(){return Yr.g},geoOrthographic:function(){return zr.c},geoOrthographicRaw:function(){return zr.t},geoPath:function(){return Rt},geoProjection:function(){return $t.c},geoProjectionMutator:function(){return $t.U},geoRotation:function(){return kt.c},geoStereographic:function(){return tn},geoStereographicRaw:function(){return xn},geoStream:function(){return f.c},geoTransform:function(){return _r.c},geoTransverseMercator:function(){return zn},geoTransverseMercatorRaw:function(){return On}});var d=e(95384),C=e(13696),n=e(24052),L=e(61780),w=e(78284),v=e(2728),g=e(21676);function r(){var Sr=0,Vr=0,qr=960,Hr=500,Tn,bn,Hn;return Hn={stream:function(Gn){return Tn&&bn===Gn?Tn:Tn=(0,g.c)(Sr,Vr,qr,Hr)(bn=Gn)},extent:function(Gn){return arguments.length?(Sr=+Gn[0][0],Vr=+Gn[0][1],qr=+Gn[1][0],Hr=+Gn[1][1],Tn=bn=null,Hn):[[Sr,Vr],[qr,Hr]]}}}var t=e(58196),i=e(88728),a=e(64528),u=e(70932),f=e(16016),l=(0,i.c)(),m,h,T,c={sphere:u.c,point:u.c,lineStart:o,lineEnd:u.c,polygonStart:u.c,polygonEnd:u.c};function o(){c.point=x,c.lineEnd=p}function p(){c.point=c.lineEnd=u.c}function x(Sr,Vr){Sr*=a.qw,Vr*=a.qw,m=Sr,h=(0,a.g$)(Vr),T=(0,a.W8)(Vr),c.point=A}function A(Sr,Vr){Sr*=a.qw,Vr*=a.qw;var qr=(0,a.g$)(Vr),Hr=(0,a.W8)(Vr),Tn=(0,a.a2)(Sr-m),bn=(0,a.W8)(Tn),Hn=(0,a.g$)(Tn),Gn=Hr*Hn,ea=T*qr-h*Hr*bn,ma=h*qr+T*Hr*bn;l.add((0,a.WE)((0,a._I)(Gn*Gn+ea*ea),ma)),m=Sr,h=qr,T=Hr}function _(Sr){return l.reset(),(0,f.c)(Sr,c),+l}var y=[null,null],E={type:"LineString",coordinates:y};function M(Sr,Vr){return y[0]=Sr,y[1]=Vr,_(E)}var s={Feature:function(Sr,Vr){return b(Sr.geometry,Vr)},FeatureCollection:function(Sr,Vr){for(var qr=Sr.features,Hr=-1,Tn=qr.length;++Hr<Tn;)if(b(qr[Hr].geometry,Vr))return!0;return!1}},S={Sphere:function(){return!0},Point:function(Sr,Vr){return I(Sr.coordinates,Vr)},MultiPoint:function(Sr,Vr){for(var qr=Sr.coordinates,Hr=-1,Tn=qr.length;++Hr<Tn;)if(I(qr[Hr],Vr))return!0;return!1},LineString:function(Sr,Vr){return D(Sr.coordinates,Vr)},MultiLineString:function(Sr,Vr){for(var qr=Sr.coordinates,Hr=-1,Tn=qr.length;++Hr<Tn;)if(D(qr[Hr],Vr))return!0;return!1},Polygon:function(Sr,Vr){return B(Sr.coordinates,Vr)},MultiPolygon:function(Sr,Vr){for(var qr=Sr.coordinates,Hr=-1,Tn=qr.length;++Hr<Tn;)if(B(qr[Hr],Vr))return!0;return!1},GeometryCollection:function(Sr,Vr){for(var qr=Sr.geometries,Hr=-1,Tn=qr.length;++Hr<Tn;)if(b(qr[Hr],Vr))return!0;return!1}};function b(Sr,Vr){return Sr&&S.hasOwnProperty(Sr.type)?S[Sr.type](Sr,Vr):!1}function I(Sr,Vr){return M(Sr,Vr)===0}function D(Sr,Vr){for(var qr,Hr,Tn,bn=0,Hn=Sr.length;bn<Hn;bn++){if(Hr=M(Sr[bn],Vr),Hr===0||bn>0&&(Tn=M(Sr[bn],Sr[bn-1]),Tn>0&&qr<=Tn&&Hr<=Tn&&(qr+Hr-Tn)*(1-Math.pow((qr-Hr)/Tn,2))<a.a8*Tn))return!0;qr=Hr}return!1}function B(Sr,Vr){return!!(0,t.c)(Sr.map(k),F(Vr))}function k(Sr){return Sr=Sr.map(F),Sr.pop(),Sr}function F(Sr){return[Sr[0]*a.qw,Sr[1]*a.qw]}function N(Sr,Vr){return(Sr&&s.hasOwnProperty(Sr.type)?s[Sr.type]:b)(Sr,Vr)}var O=e(84706);function V(Sr,Vr,qr){var Hr=(0,O.ik)(Sr,Vr-a.Gg,qr).concat(Vr);return function(Tn){return Hr.map(function(bn){return[Tn,bn]})}}function X(Sr,Vr,qr){var Hr=(0,O.ik)(Sr,Vr-a.Gg,qr).concat(Vr);return function(Tn){return Hr.map(function(bn){return[bn,Tn]})}}function ee(){var Sr,Vr,qr,Hr,Tn,bn,Hn,Gn,ea=10,ma=ea,Da=90,Fa=360,La,Qn,Mr,Jr,Kr=2.5;function wn(){return{type:"MultiLineString",coordinates:jn()}}function jn(){return(0,O.ik)((0,a.Km)(Hr/Da)*Da,qr,Da).map(Mr).concat((0,O.ik)((0,a.Km)(Gn/Fa)*Fa,Hn,Fa).map(Jr)).concat((0,O.ik)((0,a.Km)(Vr/ea)*ea,Sr,ea).filter(function(Pn){return(0,a.a2)(Pn%Da)>a.Gg}).map(La)).concat((0,O.ik)((0,a.Km)(bn/ma)*ma,Tn,ma).filter(function(Pn){return(0,a.a2)(Pn%Fa)>a.Gg}).map(Qn))}return wn.lines=function(){return jn().map(function(Pn){return{type:"LineString",coordinates:Pn}})},wn.outline=function(){return{type:"Polygon",coordinates:[Mr(Hr).concat(Jr(Hn).slice(1),Mr(qr).reverse().slice(1),Jr(Gn).reverse().slice(1))]}},wn.extent=function(Pn){return arguments.length?wn.extentMajor(Pn).extentMinor(Pn):wn.extentMinor()},wn.extentMajor=function(Pn){return arguments.length?(Hr=+Pn[0][0],qr=+Pn[1][0],Gn=+Pn[0][1],Hn=+Pn[1][1],Hr>qr&&(Pn=Hr,Hr=qr,qr=Pn),Gn>Hn&&(Pn=Gn,Gn=Hn,Hn=Pn),wn.precision(Kr)):[[Hr,Gn],[qr,Hn]]},wn.extentMinor=function(Pn){return arguments.length?(Vr=+Pn[0][0],Sr=+Pn[1][0],bn=+Pn[0][1],Tn=+Pn[1][1],Vr>Sr&&(Pn=Vr,Vr=Sr,Sr=Pn),bn>Tn&&(Pn=bn,bn=Tn,Tn=Pn),wn.precision(Kr)):[[Vr,bn],[Sr,Tn]]},wn.step=function(Pn){return arguments.length?wn.stepMajor(Pn).stepMinor(Pn):wn.stepMinor()},wn.stepMajor=function(Pn){return arguments.length?(Da=+Pn[0],Fa=+Pn[1],wn):[Da,Fa]},wn.stepMinor=function(Pn){return arguments.length?(ea=+Pn[0],ma=+Pn[1],wn):[ea,ma]},wn.precision=function(Pn){return arguments.length?(Kr=+Pn,La=V(bn,Tn,90),Qn=X(Vr,Sr,Kr),Mr=V(Gn,Hn,90),Jr=X(Hr,qr,Kr),wn):Kr},wn.extentMajor([[-180,-90+a.Gg],[180,90-a.Gg]]).extentMinor([[-180,-80-a.Gg],[180,80+a.Gg]])}function ne(){return ee()()}var q=e(27284),se=e(7376),J=(0,i.c)(),Z=(0,i.c)(),te,Y,ie,le,j={point:u.c,lineStart:u.c,lineEnd:u.c,polygonStart:function(){j.lineStart=K,j.lineEnd=he},polygonEnd:function(){j.lineStart=j.lineEnd=j.point=u.c,J.add((0,a.a2)(Z)),Z.reset()},result:function(){var Sr=J/2;return J.reset(),Sr}};function K(){j.point=ue}function ue(Sr,Vr){j.point=ae,te=ie=Sr,Y=le=Vr}function ae(Sr,Vr){Z.add(le*Sr-ie*Vr),ie=Sr,le=Vr}function he(){ae(te,Y)}var xe=j,Se=e(73784),Ae=0,De=0,we=0,Ce=0,be=0,Pe=0,Ve=0,Ge=0,Fe=0,He,ft,gt,ct,nt={point:dt,lineStart:pt,lineEnd:Ct,polygonStart:function(){nt.lineStart=at,nt.lineEnd=ze},polygonEnd:function(){nt.point=dt,nt.lineStart=pt,nt.lineEnd=Ct},result:function(){var Sr=Fe?[Ve/Fe,Ge/Fe]:Pe?[Ce/Pe,be/Pe]:we?[Ae/we,De/we]:[NaN,NaN];return Ae=De=we=Ce=be=Pe=Ve=Ge=Fe=0,Sr}};function dt(Sr,Vr){Ae+=Sr,De+=Vr,++we}function pt(){nt.point=wt}function wt(Sr,Vr){nt.point=Tt,dt(gt=Sr,ct=Vr)}function Tt(Sr,Vr){var qr=Sr-gt,Hr=Vr-ct,Tn=(0,a._I)(qr*qr+Hr*Hr);Ce+=Tn*(gt+Sr)/2,be+=Tn*(ct+Vr)/2,Pe+=Tn,dt(gt=Sr,ct=Vr)}function Ct(){nt.point=dt}function at(){nt.point=je}function ze(){Je(He,ft)}function je(Sr,Vr){nt.point=Je,dt(He=gt=Sr,ft=ct=Vr)}function Je(Sr,Vr){var qr=Sr-gt,Hr=Vr-ct,Tn=(0,a._I)(qr*qr+Hr*Hr);Ce+=Tn*(gt+Sr)/2,be+=Tn*(ct+Vr)/2,Pe+=Tn,Tn=ct*Sr-gt*Vr,Ve+=Tn*(gt+Sr),Ge+=Tn*(ct+Vr),Fe+=Tn*3,dt(gt=Sr,ct=Vr)}var Xe=nt;function Oe(Sr){this._context=Sr}Oe.prototype={_radius:4.5,pointRadius:function(Sr){return this._radius=Sr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Sr,Vr){switch(this._point){case 0:{this._context.moveTo(Sr,Vr),this._point=1;break}case 1:{this._context.lineTo(Sr,Vr);break}default:{this._context.moveTo(Sr+this._radius,Vr),this._context.arc(Sr,Vr,this._radius,0,a.kD);break}}},result:u.c};var ke=(0,i.c)(),Ke,Ie,pe,Te,Ue,et={point:u.c,lineStart:function(){et.point=st},lineEnd:function(){Ke&&lt(Ie,pe),et.point=u.c},polygonStart:function(){Ke=!0},polygonEnd:function(){Ke=null},result:function(){var Sr=+ke;return ke.reset(),Sr}};function st(Sr,Vr){et.point=lt,Ie=Te=Sr,pe=Ue=Vr}function lt(Sr,Vr){Te-=Sr,Ue-=Vr,ke.add((0,a._I)(Te*Te+Ue*Ue)),Te=Sr,Ue=Vr}var jt=et;function Jt(){this._string=[]}Jt.prototype={_radius:4.5,_circle:St(4.5),pointRadius:function(Sr){return(Sr=+Sr)!==this._radius&&(this._radius=Sr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Sr,Vr){switch(this._point){case 0:{this._string.push("M",Sr,",",Vr),this._point=1;break}case 1:{this._string.push("L",Sr,",",Vr);break}default:{this._circle==null&&(this._circle=St(this._radius)),this._string.push("M",Sr,",",Vr,this._circle);break}}},result:function(){if(this._string.length){var Sr=this._string.join("");return this._string=[],Sr}else return null}};function St(Sr){return"m0,"+Sr+"a"+Sr+","+Sr+" 0 1,1 0,"+-2*Sr+"a"+Sr+","+Sr+" 0 1,1 0,"+2*Sr+"z"}function Rt(Sr,Vr){var qr=4.5,Hr,Tn;function bn(Hn){return Hn&&(typeof qr=="function"&&Tn.pointRadius(+qr.apply(this,arguments)),(0,f.c)(Hn,Hr(Tn))),Tn.result()}return bn.area=function(Hn){return(0,f.c)(Hn,Hr(xe)),xe.result()},bn.measure=function(Hn){return(0,f.c)(Hn,Hr(jt)),jt.result()},bn.bounds=function(Hn){return(0,f.c)(Hn,Hr(Se.c)),Se.c.result()},bn.centroid=function(Hn){return(0,f.c)(Hn,Hr(Xe)),Xe.result()},bn.projection=function(Hn){return arguments.length?(Hr=Hn==null?(Sr=null,se.c):(Sr=Hn).stream,bn):Sr},bn.context=function(Hn){return arguments.length?(Tn=Hn==null?(Vr=null,new Jt):new Oe(Vr=Hn),typeof qr!="function"&&Tn.pointRadius(qr),bn):Vr},bn.pointRadius=function(Hn){return arguments.length?(qr=typeof Hn=="function"?Hn:(Tn.pointRadius(+Hn),+Hn),bn):qr},bn.projection(Sr).context(Vr)}var $t=e(87952);function Pr(Sr){var Vr=0,qr=a.pi/3,Hr=(0,$t.U)(Sr),Tn=Hr(Vr,qr);return Tn.parallels=function(bn){return arguments.length?Hr(Vr=bn[0]*a.qw,qr=bn[1]*a.qw):[Vr*a.oh,qr*a.oh]},Tn}function xt(Sr){var Vr=(0,a.W8)(Sr);function qr(Hr,Tn){return[Hr*Vr,(0,a.g$)(Tn)/Vr]}return qr.invert=function(Hr,Tn){return[Hr/Vr,(0,a.qR)(Tn*Vr)]},qr}function qt(Sr,Vr){var qr=(0,a.g$)(Sr),Hr=(qr+(0,a.g$)(Vr))/2;if((0,a.a2)(Hr)<a.Gg)return xt(Sr);var Tn=1+qr*(2*Hr-qr),bn=(0,a._I)(Tn)/Hr;function Hn(Gn,ea){var ma=(0,a._I)(Tn-2*Hr*(0,a.g$)(ea))/Hr;return[ma*(0,a.g$)(Gn*=Hr),bn-ma*(0,a.W8)(Gn)]}return Hn.invert=function(Gn,ea){var ma=bn-ea,Da=(0,a.WE)(Gn,(0,a.a2)(ma))*(0,a.kq)(ma);return ma*Hr<0&&(Da-=a.pi*(0,a.kq)(Gn)*(0,a.kq)(ma)),[Da/Hr,(0,a.qR)((Tn-(Gn*Gn+ma*ma)*Hr*Hr)/(2*Hr))]},Hn}function nr(){return Pr(qt).scale(155.424).center([0,33.6442])}function wr(){return nr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var dr=e(86420);function bt(Sr){var Vr=Sr.length;return{point:function(qr,Hr){for(var Tn=-1;++Tn<Vr;)Sr[Tn].point(qr,Hr)},sphere:function(){for(var qr=-1;++qr<Vr;)Sr[qr].sphere()},lineStart:function(){for(var qr=-1;++qr<Vr;)Sr[qr].lineStart()},lineEnd:function(){for(var qr=-1;++qr<Vr;)Sr[qr].lineEnd()},polygonStart:function(){for(var qr=-1;++qr<Vr;)Sr[qr].polygonStart()},polygonEnd:function(){for(var qr=-1;++qr<Vr;)Sr[qr].polygonEnd()}}}function ut(){var Sr,Vr,qr=wr(),Hr,Tn=nr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),bn,Hn=nr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Gn,ea,ma={point:function(La,Qn){ea=[La,Qn]}};function Da(La){var Qn=La[0],Mr=La[1];return ea=null,Hr.point(Qn,Mr),ea||(bn.point(Qn,Mr),ea)||(Gn.point(Qn,Mr),ea)}Da.invert=function(La){var Qn=qr.scale(),Mr=qr.translate(),Jr=(La[0]-Mr[0])/Qn,Kr=(La[1]-Mr[1])/Qn;return(Kr>=.12&&Kr<.234&&Jr>=-.425&&Jr<-.214?Tn:Kr>=.166&&Kr<.234&&Jr>=-.214&&Jr<-.115?Hn:qr).invert(La)},Da.stream=function(La){return Sr&&Vr===La?Sr:Sr=bt([qr.stream(Vr=La),Tn.stream(La),Hn.stream(La)])},Da.precision=function(La){return arguments.length?(qr.precision(La),Tn.precision(La),Hn.precision(La),Fa()):qr.precision()},Da.scale=function(La){return arguments.length?(qr.scale(La),Tn.scale(La*.35),Hn.scale(La),Da.translate(qr.translate())):qr.scale()},Da.translate=function(La){if(!arguments.length)return qr.translate();var Qn=qr.scale(),Mr=+La[0],Jr=+La[1];return Hr=qr.translate(La).clipExtent([[Mr-.455*Qn,Jr-.238*Qn],[Mr+.455*Qn,Jr+.238*Qn]]).stream(ma),bn=Tn.translate([Mr-.307*Qn,Jr+.201*Qn]).clipExtent([[Mr-.425*Qn+a.Gg,Jr+.12*Qn+a.Gg],[Mr-.214*Qn-a.Gg,Jr+.234*Qn-a.Gg]]).stream(ma),Gn=Hn.translate([Mr-.205*Qn,Jr+.212*Qn]).clipExtent([[Mr-.214*Qn+a.Gg,Jr+.166*Qn+a.Gg],[Mr-.115*Qn-a.Gg,Jr+.234*Qn-a.Gg]]).stream(ma),Fa()},Da.fitExtent=function(La,Qn){return(0,dr.QX)(Da,La,Qn)},Da.fitSize=function(La,Qn){return(0,dr.UV)(Da,La,Qn)},Da.fitWidth=function(La,Qn){return(0,dr.Qx)(Da,La,Qn)},Da.fitHeight=function(La,Qn){return(0,dr.OW)(Da,La,Qn)};function Fa(){return Sr=Vr=null,Da}return Da.scale(1070)}var Mt=e(54724),_t=e(69020),kt=e(92992);function Xt(Sr,Vr){return[Sr,(0,a.Yz)((0,a.a6)((a.or+Vr)/2))]}Xt.invert=function(Sr,Vr){return[Sr,2*(0,a.MQ)((0,a.oN)(Vr))-a.or]};function Wt(){return Ht(Xt).scale(961/a.kD)}function Ht(Sr){var Vr=(0,$t.c)(Sr),qr=Vr.center,Hr=Vr.scale,Tn=Vr.translate,bn=Vr.clipExtent,Hn=null,Gn,ea,ma;Vr.scale=function(Fa){return arguments.length?(Hr(Fa),Da()):Hr()},Vr.translate=function(Fa){return arguments.length?(Tn(Fa),Da()):Tn()},Vr.center=function(Fa){return arguments.length?(qr(Fa),Da()):qr()},Vr.clipExtent=function(Fa){return arguments.length?(Fa==null?Hn=Gn=ea=ma=null:(Hn=+Fa[0][0],Gn=+Fa[0][1],ea=+Fa[1][0],ma=+Fa[1][1]),Da()):Hn==null?null:[[Hn,Gn],[ea,ma]]};function Da(){var Fa=a.pi*Hr(),La=Vr((0,kt.c)(Vr.rotate()).invert([0,0]));return bn(Hn==null?[[La[0]-Fa,La[1]-Fa],[La[0]+Fa,La[1]+Fa]]:Sr===Xt?[[Math.max(La[0]-Fa,Hn),Gn],[Math.min(La[0]+Fa,ea),ma]]:[[Hn,Math.max(La[1]-Fa,Gn)],[ea,Math.min(La[1]+Fa,ma)]])}return Da()}function tr(Sr){return(0,a.a6)((a.or+Sr)/2)}function gr(Sr,Vr){var qr=(0,a.W8)(Sr),Hr=Sr===Vr?(0,a.g$)(Sr):(0,a.Yz)(qr/(0,a.W8)(Vr))/(0,a.Yz)(tr(Vr)/tr(Sr)),Tn=qr*(0,a.g3)(tr(Sr),Hr)/Hr;if(!Hr)return Xt;function bn(Hn,Gn){Tn>0?Gn<-a.or+a.Gg&&(Gn=-a.or+a.Gg):Gn>a.or-a.Gg&&(Gn=a.or-a.Gg);var ea=Tn/(0,a.g3)(tr(Gn),Hr);return[ea*(0,a.g$)(Hr*Hn),Tn-ea*(0,a.W8)(Hr*Hn)]}return bn.invert=function(Hn,Gn){var ea=Tn-Gn,ma=(0,a.kq)(Hr)*(0,a._I)(Hn*Hn+ea*ea),Da=(0,a.WE)(Hn,(0,a.a2)(ea))*(0,a.kq)(ea);return ea*Hr<0&&(Da-=a.pi*(0,a.kq)(Hn)*(0,a.kq)(ea)),[Da/Hr,2*(0,a.MQ)((0,a.g3)(Tn/ma,1/Hr))-a.or]},bn}function Qt(){return Pr(gr).scale(109.5).parallels([30,30])}var mr=e(69604);function Ze(Sr,Vr){var qr=(0,a.W8)(Sr),Hr=Sr===Vr?(0,a.g$)(Sr):(qr-(0,a.W8)(Vr))/(Vr-Sr),Tn=qr/Hr+Sr;if((0,a.a2)(Hr)<a.Gg)return mr.u;function bn(Hn,Gn){var ea=Tn-Gn,ma=Hr*Hn;return[ea*(0,a.g$)(ma),Tn-ea*(0,a.W8)(ma)]}return bn.invert=function(Hn,Gn){var ea=Tn-Gn,ma=(0,a.WE)(Hn,(0,a.a2)(ea))*(0,a.kq)(ea);return ea*Hr<0&&(ma-=a.pi*(0,a.kq)(Hn)*(0,a.kq)(ea)),[ma/Hr,Tn-(0,a.kq)(Hr)*(0,a._I)(Hn*Hn+ea*ea)]},bn}function Ye(){return Pr(Ze).scale(131.154).center([0,13.9389])}var Bt=1.340264,Ft=-.081106,rr=893e-6,sr=.003796,fr=(0,a._I)(3)/2,ir=12;function Vt(Sr,Vr){var qr=(0,a.qR)(fr*(0,a.g$)(Vr)),Hr=qr*qr,Tn=Hr*Hr*Hr;return[Sr*(0,a.W8)(qr)/(fr*(Bt+3*Ft*Hr+Tn*(7*rr+9*sr*Hr))),qr*(Bt+Ft*Hr+Tn*(rr+sr*Hr))]}Vt.invert=function(Sr,Vr){for(var qr=Vr,Hr=qr*qr,Tn=Hr*Hr*Hr,bn=0,Hn,Gn,ea;bn<ir&&(Gn=qr*(Bt+Ft*Hr+Tn*(rr+sr*Hr))-Vr,ea=Bt+3*Ft*Hr+Tn*(7*rr+9*sr*Hr),qr-=Hn=Gn/ea,Hr=qr*qr,Tn=Hr*Hr*Hr,!((0,a.a2)(Hn)<a.a8));++bn);return[fr*Sr*(Bt+3*Ft*Hr+Tn*(7*rr+9*sr*Hr))/(0,a.W8)(qr),(0,a.qR)((0,a.g$)(qr)/fr)]};function yr(){return(0,$t.c)(Vt).scale(177.158)}var br=e(53285),_r=e(15196);function pr(){var Sr=1,Vr=0,qr=0,Hr=1,Tn=1,bn=0,Hn,Gn,ea=null,ma,Da,Fa,La=1,Qn=1,Mr=(0,_r.s)({point:function(kn,Jn){var ua=Pn([kn,Jn]);this.stream.point(ua[0],ua[1])}}),Jr=se.c,Kr,wn;function jn(){return La=Sr*Hr,Qn=Sr*Tn,Kr=wn=null,Pn}function Pn(kn){var Jn=kn[0]*La,ua=kn[1]*Qn;if(bn){var Ca=ua*Hn-Jn*Gn;Jn=Jn*Hn+ua*Gn,ua=Ca}return[Jn+Vr,ua+qr]}return Pn.invert=function(kn){var Jn=kn[0]-Vr,ua=kn[1]-qr;if(bn){var Ca=ua*Hn+Jn*Gn;Jn=Jn*Hn-ua*Gn,ua=Ca}return[Jn/La,ua/Qn]},Pn.stream=function(kn){return Kr&&wn===kn?Kr:Kr=Mr(Jr(wn=kn))},Pn.postclip=function(kn){return arguments.length?(Jr=kn,ea=ma=Da=Fa=null,jn()):Jr},Pn.clipExtent=function(kn){return arguments.length?(Jr=kn==null?(ea=ma=Da=Fa=null,se.c):(0,g.c)(ea=+kn[0][0],ma=+kn[0][1],Da=+kn[1][0],Fa=+kn[1][1]),jn()):ea==null?null:[[ea,ma],[Da,Fa]]},Pn.scale=function(kn){return arguments.length?(Sr=+kn,jn()):Sr},Pn.translate=function(kn){return arguments.length?(Vr=+kn[0],qr=+kn[1],jn()):[Vr,qr]},Pn.angle=function(kn){return arguments.length?(bn=kn%360*a.qw,Gn=(0,a.g$)(bn),Hn=(0,a.W8)(bn),jn()):bn*a.oh},Pn.reflectX=function(kn){return arguments.length?(Hr=kn?-1:1,jn()):Hr<0},Pn.reflectY=function(kn){return arguments.length?(Tn=kn?-1:1,jn()):Tn<0},Pn.fitExtent=function(kn,Jn){return(0,dr.QX)(Pn,kn,Jn)},Pn.fitSize=function(kn,Jn){return(0,dr.UV)(Pn,kn,Jn)},Pn.fitWidth=function(kn,Jn){return(0,dr.Qx)(Pn,kn,Jn)},Pn.fitHeight=function(kn,Jn){return(0,dr.OW)(Pn,kn,Jn)},Pn}var Yr=e(47984),zr=e(4888),Nr=e(62280);function xn(Sr,Vr){var qr=(0,a.W8)(Vr),Hr=1+(0,a.W8)(Sr)*qr;return[qr*(0,a.g$)(Sr)/Hr,(0,a.g$)(Vr)/Hr]}xn.invert=(0,Nr.g)(function(Sr){return 2*(0,a.MQ)(Sr)});function tn(){return(0,$t.c)(xn).scale(250).clipAngle(142)}function On(Sr,Vr){return[(0,a.Yz)((0,a.a6)((a.or+Vr)/2)),-Sr]}On.invert=function(Sr,Vr){return[-Vr,2*(0,a.MQ)((0,a.oN)(Sr))-a.or]};function zn(){var Sr=Ht(On),Vr=Sr.center,qr=Sr.rotate;return Sr.center=function(Hr){return arguments.length?Vr([-Hr[1],Hr[0]]):(Hr=Vr(),[Hr[1],-Hr[0]])},Sr.rotate=function(Hr){return arguments.length?qr([Hr[0],Hr[1],Hr.length>2?Hr[2]+90:90]):(Hr=qr(),[Hr[0],Hr[1],Hr[2]-90])},qr([0,0,90]).scale(159.155)}},27284:function(H,U,e){e.d(U,{c:function(){return C}});var d=e(64528);function C(n,L){var w=n[0]*d.qw,v=n[1]*d.qw,g=L[0]*d.qw,r=L[1]*d.qw,t=(0,d.W8)(v),i=(0,d.g$)(v),a=(0,d.W8)(r),u=(0,d.g$)(r),f=t*(0,d.W8)(w),l=t*(0,d.g$)(w),m=a*(0,d.W8)(g),h=a*(0,d.g$)(g),T=2*(0,d.qR)((0,d._I)((0,d.SD)(r-v)+t*a*(0,d.SD)(g-w))),c=(0,d.g$)(T),o=T?function(p){var x=(0,d.g$)(p*=T)/c,A=(0,d.g$)(T-p)/c,_=A*f+x*m,y=A*l+x*h,E=A*i+x*u;return[(0,d.WE)(y,_)*d.oh,(0,d.WE)(E,(0,d._I)(_*_+y*y))*d.oh]}:function(){return[w*d.oh,v*d.oh]};return o.distance=T,o}},64528:function(H,U,e){e.d(U,{Gg:function(){return d},Km:function(){return f},MQ:function(){return i},SD:function(){return _},W8:function(){return u},WE:function(){return a},Yz:function(){return m},_I:function(){return o},a2:function(){return t},a6:function(){return p},a8:function(){return C},g$:function(){return T},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return x},oN:function(){return l},oh:function(){return g},or:function(){return L},pi:function(){return n},qR:function(){return A},qw:function(){return r},wL:function(){return w}});var d=1e-6,C=1e-12,n=Math.PI,L=n/2,w=n/4,v=n*2,g=180/n,r=n/180,t=Math.abs,i=Math.atan,a=Math.atan2,u=Math.cos,f=Math.ceil,l=Math.exp,m=Math.log,h=Math.pow,T=Math.sin,c=Math.sign||function(y){return y>0?1:y<0?-1:0},o=Math.sqrt,p=Math.tan;function x(y){return y>1?0:y<-1?n:Math.acos(y)}function A(y){return y>1?L:y<-1?-L:Math.asin(y)}function _(y){return(y=T(y/2))*y}},70932:function(H,U,e){e.d(U,{c:function(){return d}});function d(){}},73784:function(H,U,e){var d=e(70932),C=1/0,n=C,L=-C,w=L,v={point:g,lineStart:d.c,lineEnd:d.c,polygonStart:d.c,polygonEnd:d.c,result:function(){var r=[[C,n],[L,w]];return L=w=-(n=C=1/0),r}};function g(r,t){r<C&&(C=r),r>L&&(L=r),t<n&&(n=t),t>w&&(w=t)}U.c=v},41860:function(H,U,e){e.d(U,{c:function(){return C}});var d=e(64528);function C(n,L){return(0,d.a2)(n[0]-L[0])<d.Gg&&(0,d.a2)(n[1]-L[1])<d.Gg}},58196:function(H,U,e){e.d(U,{c:function(){return v}});var d=e(88728),C=e(84220),n=e(64528),L=(0,d.c)();function w(g){return(0,n.a2)(g[0])<=n.pi?g[0]:(0,n.kq)(g[0])*(((0,n.a2)(g[0])+n.pi)%n.kD-n.pi)}function v(g,r){var t=w(r),i=r[1],a=(0,n.g$)(i),u=[(0,n.g$)(t),-(0,n.W8)(t),0],f=0,l=0;L.reset(),a===1?i=n.or+n.Gg:a===-1&&(i=-n.or-n.Gg);for(var m=0,h=g.length;m<h;++m)if(c=(T=g[m]).length)for(var T,c,o=T[c-1],p=w(o),x=o[1]/2+n.wL,A=(0,n.g$)(x),_=(0,n.W8)(x),y=0;y<c;++y,p=M,A=S,_=b,o=E){var E=T[y],M=w(E),s=E[1]/2+n.wL,S=(0,n.g$)(s),b=(0,n.W8)(s),I=M-p,D=I>=0?1:-1,B=D*I,k=B>n.pi,F=A*S;if(L.add((0,n.WE)(F*D*(0,n.g$)(B),_*b+F*(0,n.W8)(B))),f+=k?I+D*n.kD:I,k^p>=t^M>=t){var N=(0,C.CW)((0,C.ux)(o),(0,C.ux)(E));(0,C.cJ)(N);var O=(0,C.CW)(u,N);(0,C.cJ)(O);var V=(k^I>=0?-1:1)*(0,n.qR)(O[2]);(i>V||i===V&&(N[0]||N[1]))&&(l+=k^I>=0?1:-1)}}return(f<-n.Gg||f<n.Gg&&L<-n.Gg)^l&1}},62280:function(H,U,e){e.d(U,{a:function(){return C},g:function(){return n}});var d=e(64528);function C(L){return function(w,v){var g=(0,d.W8)(w),r=(0,d.W8)(v),t=L(g*r);return[t*r*(0,d.g$)(w),t*(0,d.g$)(v)]}}function n(L){return function(w,v){var g=(0,d._I)(w*w+v*v),r=L(g),t=(0,d.g$)(r),i=(0,d.W8)(r);return[(0,d.WE)(w*t,g*i),(0,d.qR)(g&&v*t/g)]}}},54724:function(H,U,e){e.d(U,{c:function(){return w},y:function(){return L}});var d=e(64528),C=e(62280),n=e(87952),L=(0,C.a)(function(v){return(0,d._I)(2/(1+v))});L.invert=(0,C.g)(function(v){return 2*(0,d.qR)(v/2)});function w(){return(0,n.c)(L).scale(124.75).clipAngle(179.999)}},69020:function(H,U,e){e.d(U,{O:function(){return L},c:function(){return w}});var d=e(64528),C=e(62280),n=e(87952),L=(0,C.a)(function(v){return(v=(0,d.mE)(v))&&v/(0,d.g$)(v)});L.invert=(0,C.g)(function(v){return v});function w(){return(0,n.c)(L).scale(79.4188).clipAngle(179.999)}},69604:function(H,U,e){e.d(U,{c:function(){return n},u:function(){return C}});var d=e(87952);function C(L,w){return[L,w]}C.invert=C;function n(){return(0,d.c)(C).scale(152.63)}},86420:function(H,U,e){e.d(U,{OW:function(){return g},QX:function(){return L},Qx:function(){return v},UV:function(){return w}});var d=e(16016),C=e(73784);function n(r,t,i){var a=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),a!=null&&r.clipExtent(null),(0,d.c)(i,r.stream(C.c)),t(C.c.result()),a!=null&&r.clipExtent(a),r}function L(r,t,i){return n(r,function(a){var u=t[1][0]-t[0][0],f=t[1][1]-t[0][1],l=Math.min(u/(a[1][0]-a[0][0]),f/(a[1][1]-a[0][1])),m=+t[0][0]+(u-l*(a[1][0]+a[0][0]))/2,h=+t[0][1]+(f-l*(a[1][1]+a[0][1]))/2;r.scale(150*l).translate([m,h])},i)}function w(r,t,i){return L(r,[[0,0],t],i)}function v(r,t,i){return n(r,function(a){var u=+t,f=u/(a[1][0]-a[0][0]),l=(u-f*(a[1][0]+a[0][0]))/2,m=-f*a[0][1];r.scale(150*f).translate([l,m])},i)}function g(r,t,i){return n(r,function(a){var u=+t,f=u/(a[1][1]-a[0][1]),l=-f*a[0][0],m=(u-f*(a[1][1]+a[0][1]))/2;r.scale(150*f).translate([l,m])},i)}},53285:function(H,U,e){e.d(U,{Y:function(){return L},c:function(){return w}});var d=e(64528),C=e(62280),n=e(87952);function L(v,g){var r=(0,d.W8)(g),t=(0,d.W8)(v)*r;return[r*(0,d.g$)(v)/t,(0,d.g$)(g)/t]}L.invert=(0,C.g)(d.MQ);function w(){return(0,n.c)(L).scale(144.049).clipAngle(60)}},87952:function(H,U,e){e.d(U,{c:function(){return p},U:function(){return x}});var d=e(78284),C=e(2728),n=e(21676),L=e(68120),w=e(7376),v=e(64528),g=e(92992),r=e(15196),t=e(86420),i=e(84220),a=16,u=(0,v.W8)(30*v.qw);function f(A,_){return+_?m(A,_):l(A)}function l(A){return(0,r.s)({point:function(_,y){_=A(_,y),this.stream.point(_[0],_[1])}})}function m(A,_){function y(E,M,s,S,b,I,D,B,k,F,N,O,V,X){var ee=D-E,ne=B-M,q=ee*ee+ne*ne;if(q>4*_&&V--){var se=S+F,J=b+N,Z=I+O,te=(0,v._I)(se*se+J*J+Z*Z),Y=(0,v.qR)(Z/=te),ie=(0,v.a2)((0,v.a2)(Z)-1)<v.Gg||(0,v.a2)(s-k)<v.Gg?(s+k)/2:(0,v.WE)(J,se),le=A(ie,Y),j=le[0],K=le[1],ue=j-E,ae=K-M,he=ne*ue-ee*ae;(he*he/q>_||(0,v.a2)((ee*ue+ne*ae)/q-.5)>.3||S*F+b*N+I*O<u)&&(y(E,M,s,S,b,I,j,K,ie,se/=te,J/=te,Z,V,X),X.point(j,K),y(j,K,ie,se,J,Z,D,B,k,F,N,O,V,X))}}return function(E){var M,s,S,b,I,D,B,k,F,N,O,V,X={point:ee,lineStart:ne,lineEnd:se,polygonStart:function(){E.polygonStart(),X.lineStart=J},polygonEnd:function(){E.polygonEnd(),X.lineStart=ne}};function ee(Y,ie){Y=A(Y,ie),E.point(Y[0],Y[1])}function ne(){k=NaN,X.point=q,E.lineStart()}function q(Y,ie){var le=(0,i.ux)([Y,ie]),j=A(Y,ie);y(k,F,B,N,O,V,k=j[0],F=j[1],B=Y,N=le[0],O=le[1],V=le[2],a,E),E.point(k,F)}function se(){X.point=ee,E.lineEnd()}function J(){ne(),X.point=Z,X.lineEnd=te}function Z(Y,ie){q(M=Y,ie),s=k,S=F,b=N,I=O,D=V,X.point=q}function te(){y(k,F,B,N,O,V,s,S,M,b,I,D,a,E),X.lineEnd=se,se()}return X}}var h=(0,r.s)({point:function(A,_){this.stream.point(A*v.qw,_*v.qw)}});function T(A){return(0,r.s)({point:function(_,y){var E=A(_,y);return this.stream.point(E[0],E[1])}})}function c(A,_,y,E,M){function s(S,b){return S*=E,b*=M,[_+A*S,y-A*b]}return s.invert=function(S,b){return[(S-_)/A*E,(y-b)/A*M]},s}function o(A,_,y,E,M,s){var S=(0,v.W8)(s),b=(0,v.g$)(s),I=S*A,D=b*A,B=S/A,k=b/A,F=(b*y-S*_)/A,N=(b*_+S*y)/A;function O(V,X){return V*=E,X*=M,[I*V-D*X+_,y-D*V-I*X]}return O.invert=function(V,X){return[E*(B*V-k*X+F),M*(N-k*V-B*X)]},O}function p(A){return x(function(){return A})()}function x(A){var _,y=150,E=480,M=250,s=0,S=0,b=0,I=0,D=0,B,k=0,F=1,N=1,O=null,V=d.c,X=null,ee,ne,q,se=w.c,J=.5,Z,te,Y,ie,le;function j(he){return Y(he[0]*v.qw,he[1]*v.qw)}function K(he){return he=Y.invert(he[0],he[1]),he&&[he[0]*v.oh,he[1]*v.oh]}j.stream=function(he){return ie&&le===he?ie:ie=h(T(B)(V(Z(se(le=he)))))},j.preclip=function(he){return arguments.length?(V=he,O=void 0,ae()):V},j.postclip=function(he){return arguments.length?(se=he,X=ee=ne=q=null,ae()):se},j.clipAngle=function(he){return arguments.length?(V=+he?(0,C.c)(O=he*v.qw):(O=null,d.c),ae()):O*v.oh},j.clipExtent=function(he){return arguments.length?(se=he==null?(X=ee=ne=q=null,w.c):(0,n.c)(X=+he[0][0],ee=+he[0][1],ne=+he[1][0],q=+he[1][1]),ae()):X==null?null:[[X,ee],[ne,q]]},j.scale=function(he){return arguments.length?(y=+he,ue()):y},j.translate=function(he){return arguments.length?(E=+he[0],M=+he[1],ue()):[E,M]},j.center=function(he){return arguments.length?(s=he[0]%360*v.qw,S=he[1]%360*v.qw,ue()):[s*v.oh,S*v.oh]},j.rotate=function(he){return arguments.length?(b=he[0]%360*v.qw,I=he[1]%360*v.qw,D=he.length>2?he[2]%360*v.qw:0,ue()):[b*v.oh,I*v.oh,D*v.oh]},j.angle=function(he){return arguments.length?(k=he%360*v.qw,ue()):k*v.oh},j.reflectX=function(he){return arguments.length?(F=he?-1:1,ue()):F<0},j.reflectY=function(he){return arguments.length?(N=he?-1:1,ue()):N<0},j.precision=function(he){return arguments.length?(Z=f(te,J=he*he),ae()):(0,v._I)(J)},j.fitExtent=function(he,xe){return(0,t.QX)(j,he,xe)},j.fitSize=function(he,xe){return(0,t.UV)(j,he,xe)},j.fitWidth=function(he,xe){return(0,t.Qx)(j,he,xe)},j.fitHeight=function(he,xe){return(0,t.OW)(j,he,xe)};function ue(){var he=o(y,0,0,F,N,k).apply(null,_(s,S)),xe=(k?o:c)(y,E-he[0],M-he[1],F,N,k);return B=(0,g.O)(b,I,D),te=(0,L.c)(_,xe),Y=(0,L.c)(B,te),Z=f(te,J),ae()}function ae(){return ie=le=null,j}return function(){return _=A.apply(this,arguments),j.invert=_.invert&&K,ue()}}},47984:function(H,U,e){e.d(U,{c:function(){return L},g:function(){return n}});var d=e(87952),C=e(64528);function n(w,v){var g=v*v,r=g*g;return[w*(.8707-.131979*g+r*(-.013791+r*(.003971*g-.001529*r))),v*(1.007226+g*(.015085+r*(-.044475+.028874*g-.005916*r)))]}n.invert=function(w,v){var g=v,r=25,t;do{var i=g*g,a=i*i;g-=t=(g*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-v)/(1.007226+i*(.045255+a*(-.311325+.259866*i-.06507600000000001*a)))}while((0,C.a2)(t)>C.Gg&&--r>0);return[w/(.8707+(i=g*g)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),g]};function L(){return(0,d.c)(n).scale(175.295)}},4888:function(H,U,e){e.d(U,{c:function(){return w},t:function(){return L}});var d=e(64528),C=e(62280),n=e(87952);function L(v,g){return[(0,d.W8)(g)*(0,d.g$)(v),(0,d.g$)(g)]}L.invert=(0,C.g)(d.qR);function w(){return(0,n.c)(L).scale(249.5).clipAngle(90+d.Gg)}},92992:function(H,U,e){e.d(U,{O:function(){return L},c:function(){return r}});var d=e(68120),C=e(64528);function n(t,i){return[(0,C.a2)(t)>C.pi?t+Math.round(-t/C.kD)*C.kD:t,i]}n.invert=n;function L(t,i,a){return(t%=C.kD)?i||a?(0,d.c)(v(t),g(i,a)):v(t):i||a?g(i,a):n}function w(t){return function(i,a){return i+=t,[i>C.pi?i-C.kD:i<-C.pi?i+C.kD:i,a]}}function v(t){var i=w(t);return i.invert=w(-t),i}function g(t,i){var a=(0,C.W8)(t),u=(0,C.g$)(t),f=(0,C.W8)(i),l=(0,C.g$)(i);function m(h,T){var c=(0,C.W8)(T),o=(0,C.W8)(h)*c,p=(0,C.g$)(h)*c,x=(0,C.g$)(T),A=x*a+o*u;return[(0,C.WE)(p*f-A*l,o*a-x*u),(0,C.qR)(A*f+p*l)]}return m.invert=function(h,T){var c=(0,C.W8)(T),o=(0,C.W8)(h)*c,p=(0,C.g$)(h)*c,x=(0,C.g$)(T),A=x*f-p*l;return[(0,C.WE)(p*f+x*l,o*a+A*u),(0,C.qR)(A*a-o*u)]},m}function r(t){t=L(t[0]*C.qw,t[1]*C.qw,t.length>2?t[2]*C.qw:0);function i(a){return a=t(a[0]*C.qw,a[1]*C.qw),a[0]*=C.oh,a[1]*=C.oh,a}return i.invert=function(a){return a=t.invert(a[0]*C.qw,a[1]*C.qw),a[0]*=C.oh,a[1]*=C.oh,a},i}},16016:function(H,U,e){e.d(U,{c:function(){return v}});function d(g,r){g&&n.hasOwnProperty(g.type)&&n[g.type](g,r)}var C={Feature:function(g,r){d(g.geometry,r)},FeatureCollection:function(g,r){for(var t=g.features,i=-1,a=t.length;++i<a;)d(t[i].geometry,r)}},n={Sphere:function(g,r){r.sphere()},Point:function(g,r){g=g.coordinates,r.point(g[0],g[1],g[2])},MultiPoint:function(g,r){for(var t=g.coordinates,i=-1,a=t.length;++i<a;)g=t[i],r.point(g[0],g[1],g[2])},LineString:function(g,r){L(g.coordinates,r,0)},MultiLineString:function(g,r){for(var t=g.coordinates,i=-1,a=t.length;++i<a;)L(t[i],r,0)},Polygon:function(g,r){w(g.coordinates,r)},MultiPolygon:function(g,r){for(var t=g.coordinates,i=-1,a=t.length;++i<a;)w(t[i],r)},GeometryCollection:function(g,r){for(var t=g.geometries,i=-1,a=t.length;++i<a;)d(t[i],r)}};function L(g,r,t){var i=-1,a=g.length-t,u;for(r.lineStart();++i<a;)u=g[i],r.point(u[0],u[1],u[2]);r.lineEnd()}function w(g,r){var t=-1,i=g.length;for(r.polygonStart();++t<i;)L(g[t],r,1);r.polygonEnd()}function v(g,r){g&&C.hasOwnProperty(g.type)?C[g.type](g,r):d(g,r)}},15196:function(H,U,e){e.d(U,{c:function(){return d},s:function(){return C}});function d(L){return{stream:C(L)}}function C(L){return function(w){var v=new n;for(var g in L)v[g]=L[g];return v.stream=w,v}}function n(){}n.prototype={constructor:n,point:function(L,w){this.stream.point(L,w)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(H,U,e){e.r(U),e.d(U,{cluster:function(){return r},hierarchy:function(){return A},pack:function(){return K},packEnclose:function(){return I},packSiblings:function(){return Z},partition:function(){return Ae},stratify:function(){return Ve},tree:function(){return pt},treemap:function(){return ze},treemapBinary:function(){return je},treemapDice:function(){return Se},treemapResquarify:function(){return Xe},treemapSlice:function(){return wt},treemapSliceDice:function(){return Je},treemapSquarify:function(){return at}});function d(Oe,ke){return Oe.parent===ke.parent?1:2}function C(Oe){return Oe.reduce(n,0)/Oe.length}function n(Oe,ke){return Oe+ke.x}function L(Oe){return 1+Oe.reduce(w,0)}function w(Oe,ke){return Math.max(Oe,ke.y)}function v(Oe){for(var ke;ke=Oe.children;)Oe=ke[0];return Oe}function g(Oe){for(var ke;ke=Oe.children;)Oe=ke[ke.length-1];return Oe}function r(){var Oe=d,ke=1,Ke=1,Ie=!1;function pe(Te){var Ue,et=0;Te.eachAfter(function(St){var Rt=St.children;Rt?(St.x=C(Rt),St.y=L(Rt)):(St.x=Ue?et+=Oe(St,Ue):0,St.y=0,Ue=St)});var st=v(Te),lt=g(Te),jt=st.x-Oe(st,lt)/2,Jt=lt.x+Oe(lt,st)/2;return Te.eachAfter(Ie?function(St){St.x=(St.x-Te.x)*ke,St.y=(Te.y-St.y)*Ke}:function(St){St.x=(St.x-jt)/(Jt-jt)*ke,St.y=(1-(Te.y?St.y/Te.y:1))*Ke})}return pe.separation=function(Te){return arguments.length?(Oe=Te,pe):Oe},pe.size=function(Te){return arguments.length?(Ie=!1,ke=+Te[0],Ke=+Te[1],pe):Ie?null:[ke,Ke]},pe.nodeSize=function(Te){return arguments.length?(Ie=!0,ke=+Te[0],Ke=+Te[1],pe):Ie?[ke,Ke]:null},pe}function t(Oe){var ke=0,Ke=Oe.children,Ie=Ke&&Ke.length;if(!Ie)ke=1;else for(;--Ie>=0;)ke+=Ke[Ie].value;Oe.value=ke}function i(){return this.eachAfter(t)}function a(Oe){var ke=this,Ke,Ie=[ke],pe,Te,Ue;do for(Ke=Ie.reverse(),Ie=[];ke=Ke.pop();)if(Oe(ke),pe=ke.children,pe)for(Te=0,Ue=pe.length;Te<Ue;++Te)Ie.push(pe[Te]);while(Ie.length);return this}function u(Oe){for(var ke=this,Ke=[ke],Ie,pe;ke=Ke.pop();)if(Oe(ke),Ie=ke.children,Ie)for(pe=Ie.length-1;pe>=0;--pe)Ke.push(Ie[pe]);return this}function f(Oe){for(var ke=this,Ke=[ke],Ie=[],pe,Te,Ue;ke=Ke.pop();)if(Ie.push(ke),pe=ke.children,pe)for(Te=0,Ue=pe.length;Te<Ue;++Te)Ke.push(pe[Te]);for(;ke=Ie.pop();)Oe(ke);return this}function l(Oe){return this.eachAfter(function(ke){for(var Ke=+Oe(ke.data)||0,Ie=ke.children,pe=Ie&&Ie.length;--pe>=0;)Ke+=Ie[pe].value;ke.value=Ke})}function m(Oe){return this.eachBefore(function(ke){ke.children&&ke.children.sort(Oe)})}function h(Oe){for(var ke=this,Ke=T(ke,Oe),Ie=[ke];ke!==Ke;)ke=ke.parent,Ie.push(ke);for(var pe=Ie.length;Oe!==Ke;)Ie.splice(pe,0,Oe),Oe=Oe.parent;return Ie}function T(Oe,ke){if(Oe===ke)return Oe;var Ke=Oe.ancestors(),Ie=ke.ancestors(),pe=null;for(Oe=Ke.pop(),ke=Ie.pop();Oe===ke;)pe=Oe,Oe=Ke.pop(),ke=Ie.pop();return pe}function c(){for(var Oe=this,ke=[Oe];Oe=Oe.parent;)ke.push(Oe);return ke}function o(){var Oe=[];return this.each(function(ke){Oe.push(ke)}),Oe}function p(){var Oe=[];return this.eachBefore(function(ke){ke.children||Oe.push(ke)}),Oe}function x(){var Oe=this,ke=[];return Oe.each(function(Ke){Ke!==Oe&&ke.push({source:Ke.parent,target:Ke})}),ke}function A(Oe,ke){var Ke=new s(Oe),Ie=+Oe.value&&(Ke.value=Oe.value),pe,Te=[Ke],Ue,et,st,lt;for(ke==null&&(ke=y);pe=Te.pop();)if(Ie&&(pe.value=+pe.data.value),(et=ke(pe.data))&&(lt=et.length))for(pe.children=new Array(lt),st=lt-1;st>=0;--st)Te.push(Ue=pe.children[st]=new s(et[st])),Ue.parent=pe,Ue.depth=pe.depth+1;return Ke.eachBefore(M)}function _(){return A(this).eachBefore(E)}function y(Oe){return Oe.children}function E(Oe){Oe.data=Oe.data.data}function M(Oe){var ke=0;do Oe.height=ke;while((Oe=Oe.parent)&&Oe.height<++ke)}function s(Oe){this.data=Oe,this.depth=this.height=0,this.parent=null}s.prototype=A.prototype={constructor:s,count:i,each:a,eachAfter:f,eachBefore:u,sum:l,sort:m,path:h,ancestors:c,descendants:o,leaves:p,links:x,copy:_};var S=Array.prototype.slice;function b(Oe){for(var ke=Oe.length,Ke,Ie;ke;)Ie=Math.random()*ke--|0,Ke=Oe[ke],Oe[ke]=Oe[Ie],Oe[Ie]=Ke;return Oe}function I(Oe){for(var ke=0,Ke=(Oe=b(S.call(Oe))).length,Ie=[],pe,Te;ke<Ke;)pe=Oe[ke],Te&&k(Te,pe)?++ke:(Te=N(Ie=D(Ie,pe)),ke=0);return Te}function D(Oe,ke){var Ke,Ie;if(F(ke,Oe))return[ke];for(Ke=0;Ke<Oe.length;++Ke)if(B(ke,Oe[Ke])&&F(V(Oe[Ke],ke),Oe))return[Oe[Ke],ke];for(Ke=0;Ke<Oe.length-1;++Ke)for(Ie=Ke+1;Ie<Oe.length;++Ie)if(B(V(Oe[Ke],Oe[Ie]),ke)&&B(V(Oe[Ke],ke),Oe[Ie])&&B(V(Oe[Ie],ke),Oe[Ke])&&F(X(Oe[Ke],Oe[Ie],ke),Oe))return[Oe[Ke],Oe[Ie],ke];throw new Error}function B(Oe,ke){var Ke=Oe.r-ke.r,Ie=ke.x-Oe.x,pe=ke.y-Oe.y;return Ke<0||Ke*Ke<Ie*Ie+pe*pe}function k(Oe,ke){var Ke=Oe.r-ke.r+1e-6,Ie=ke.x-Oe.x,pe=ke.y-Oe.y;return Ke>0&&Ke*Ke>Ie*Ie+pe*pe}function F(Oe,ke){for(var Ke=0;Ke<ke.length;++Ke)if(!k(Oe,ke[Ke]))return!1;return!0}function N(Oe){switch(Oe.length){case 1:return O(Oe[0]);case 2:return V(Oe[0],Oe[1]);case 3:return X(Oe[0],Oe[1],Oe[2])}}function O(Oe){return{x:Oe.x,y:Oe.y,r:Oe.r}}function V(Oe,ke){var Ke=Oe.x,Ie=Oe.y,pe=Oe.r,Te=ke.x,Ue=ke.y,et=ke.r,st=Te-Ke,lt=Ue-Ie,jt=et-pe,Jt=Math.sqrt(st*st+lt*lt);return{x:(Ke+Te+st/Jt*jt)/2,y:(Ie+Ue+lt/Jt*jt)/2,r:(Jt+pe+et)/2}}function X(Oe,ke,Ke){var Ie=Oe.x,pe=Oe.y,Te=Oe.r,Ue=ke.x,et=ke.y,st=ke.r,lt=Ke.x,jt=Ke.y,Jt=Ke.r,St=Ie-Ue,Rt=Ie-lt,$t=pe-et,Pr=pe-jt,xt=st-Te,qt=Jt-Te,nr=Ie*Ie+pe*pe-Te*Te,wr=nr-Ue*Ue-et*et+st*st,dr=nr-lt*lt-jt*jt+Jt*Jt,bt=Rt*$t-St*Pr,ut=($t*dr-Pr*wr)/(bt*2)-Ie,Mt=(Pr*xt-$t*qt)/bt,_t=(Rt*wr-St*dr)/(bt*2)-pe,kt=(St*qt-Rt*xt)/bt,Xt=Mt*Mt+kt*kt-1,Wt=2*(Te+ut*Mt+_t*kt),Ht=ut*ut+_t*_t-Te*Te,tr=-(Xt?(Wt+Math.sqrt(Wt*Wt-4*Xt*Ht))/(2*Xt):Ht/Wt);return{x:Ie+ut+Mt*tr,y:pe+_t+kt*tr,r:tr}}function ee(Oe,ke,Ke){var Ie=Oe.x-ke.x,pe,Te,Ue=Oe.y-ke.y,et,st,lt=Ie*Ie+Ue*Ue;lt?(Te=ke.r+Ke.r,Te*=Te,st=Oe.r+Ke.r,st*=st,Te>st?(pe=(lt+st-Te)/(2*lt),et=Math.sqrt(Math.max(0,st/lt-pe*pe)),Ke.x=Oe.x-pe*Ie-et*Ue,Ke.y=Oe.y-pe*Ue+et*Ie):(pe=(lt+Te-st)/(2*lt),et=Math.sqrt(Math.max(0,Te/lt-pe*pe)),Ke.x=ke.x+pe*Ie-et*Ue,Ke.y=ke.y+pe*Ue+et*Ie)):(Ke.x=ke.x+Ke.r,Ke.y=ke.y)}function ne(Oe,ke){var Ke=Oe.r+ke.r-1e-6,Ie=ke.x-Oe.x,pe=ke.y-Oe.y;return Ke>0&&Ke*Ke>Ie*Ie+pe*pe}function q(Oe){var ke=Oe._,Ke=Oe.next._,Ie=ke.r+Ke.r,pe=(ke.x*Ke.r+Ke.x*ke.r)/Ie,Te=(ke.y*Ke.r+Ke.y*ke.r)/Ie;return pe*pe+Te*Te}function se(Oe){this._=Oe,this.next=null,this.previous=null}function J(Oe){if(!(pe=Oe.length))return 0;var ke,Ke,Ie,pe,Te,Ue,et,st,lt,jt,Jt;if(ke=Oe[0],ke.x=0,ke.y=0,!(pe>1))return ke.r;if(Ke=Oe[1],ke.x=-Ke.r,Ke.x=ke.r,Ke.y=0,!(pe>2))return ke.r+Ke.r;ee(Ke,ke,Ie=Oe[2]),ke=new se(ke),Ke=new se(Ke),Ie=new se(Ie),ke.next=Ie.previous=Ke,Ke.next=ke.previous=Ie,Ie.next=Ke.previous=ke;e:for(et=3;et<pe;++et){ee(ke._,Ke._,Ie=Oe[et]),Ie=new se(Ie),st=Ke.next,lt=ke.previous,jt=Ke._.r,Jt=ke._.r;do if(jt<=Jt){if(ne(st._,Ie._)){Ke=st,ke.next=Ke,Ke.previous=ke,--et;continue e}jt+=st._.r,st=st.next}else{if(ne(lt._,Ie._)){ke=lt,ke.next=Ke,Ke.previous=ke,--et;continue e}Jt+=lt._.r,lt=lt.previous}while(st!==lt.next);for(Ie.previous=ke,Ie.next=Ke,ke.next=Ke.previous=Ke=Ie,Te=q(ke);(Ie=Ie.next)!==Ke;)(Ue=q(Ie))<Te&&(ke=Ie,Te=Ue);Ke=ke.next}for(ke=[Ke._],Ie=Ke;(Ie=Ie.next)!==Ke;)ke.push(Ie._);for(Ie=I(ke),et=0;et<pe;++et)ke=Oe[et],ke.x-=Ie.x,ke.y-=Ie.y;return Ie.r}function Z(Oe){return J(Oe),Oe}function te(Oe){return Oe==null?null:Y(Oe)}function Y(Oe){if(typeof Oe!="function")throw new Error;return Oe}function ie(){return 0}function le(Oe){return function(){return Oe}}function j(Oe){return Math.sqrt(Oe.value)}function K(){var Oe=null,ke=1,Ke=1,Ie=ie;function pe(Te){return Te.x=ke/2,Te.y=Ke/2,Oe?Te.eachBefore(ue(Oe)).eachAfter(ae(Ie,.5)).eachBefore(he(1)):Te.eachBefore(ue(j)).eachAfter(ae(ie,1)).eachAfter(ae(Ie,Te.r/Math.min(ke,Ke))).eachBefore(he(Math.min(ke,Ke)/(2*Te.r))),Te}return pe.radius=function(Te){return arguments.length?(Oe=te(Te),pe):Oe},pe.size=function(Te){return arguments.length?(ke=+Te[0],Ke=+Te[1],pe):[ke,Ke]},pe.padding=function(Te){return arguments.length?(Ie=typeof Te=="function"?Te:le(+Te),pe):Ie},pe}function ue(Oe){return function(ke){ke.children||(ke.r=Math.max(0,+Oe(ke)||0))}}function ae(Oe,ke){return function(Ke){if(Ie=Ke.children){var Ie,pe,Te=Ie.length,Ue=Oe(Ke)*ke||0,et;if(Ue)for(pe=0;pe<Te;++pe)Ie[pe].r+=Ue;if(et=J(Ie),Ue)for(pe=0;pe<Te;++pe)Ie[pe].r-=Ue;Ke.r=et+Ue}}}function he(Oe){return function(ke){var Ke=ke.parent;ke.r*=Oe,Ke&&(ke.x=Ke.x+Oe*ke.x,ke.y=Ke.y+Oe*ke.y)}}function xe(Oe){Oe.x0=Math.round(Oe.x0),Oe.y0=Math.round(Oe.y0),Oe.x1=Math.round(Oe.x1),Oe.y1=Math.round(Oe.y1)}function Se(Oe,ke,Ke,Ie,pe){for(var Te=Oe.children,Ue,et=-1,st=Te.length,lt=Oe.value&&(Ie-ke)/Oe.value;++et<st;)Ue=Te[et],Ue.y0=Ke,Ue.y1=pe,Ue.x0=ke,Ue.x1=ke+=Ue.value*lt}function Ae(){var Oe=1,ke=1,Ke=0,Ie=!1;function pe(Ue){var et=Ue.height+1;return Ue.x0=Ue.y0=Ke,Ue.x1=Oe,Ue.y1=ke/et,Ue.eachBefore(Te(ke,et)),Ie&&Ue.eachBefore(xe),Ue}function Te(Ue,et){return function(st){st.children&&Se(st,st.x0,Ue*(st.depth+1)/et,st.x1,Ue*(st.depth+2)/et);var lt=st.x0,jt=st.y0,Jt=st.x1-Ke,St=st.y1-Ke;Jt<lt&&(lt=Jt=(lt+Jt)/2),St<jt&&(jt=St=(jt+St)/2),st.x0=lt,st.y0=jt,st.x1=Jt,st.y1=St}}return pe.round=function(Ue){return arguments.length?(Ie=!!Ue,pe):Ie},pe.size=function(Ue){return arguments.length?(Oe=+Ue[0],ke=+Ue[1],pe):[Oe,ke]},pe.padding=function(Ue){return arguments.length?(Ke=+Ue,pe):Ke},pe}var De="$",we={depth:-1},Ce={};function be(Oe){return Oe.id}function Pe(Oe){return Oe.parentId}function Ve(){var Oe=be,ke=Pe;function Ke(Ie){var pe,Te,Ue=Ie.length,et,st,lt,jt=new Array(Ue),Jt,St,Rt={};for(Te=0;Te<Ue;++Te)pe=Ie[Te],lt=jt[Te]=new s(pe),(Jt=Oe(pe,Te,Ie))!=null&&(Jt+="")&&(St=De+(lt.id=Jt),Rt[St]=St in Rt?Ce:lt);for(Te=0;Te<Ue;++Te)if(lt=jt[Te],Jt=ke(Ie[Te],Te,Ie),Jt==null||!(Jt+="")){if(et)throw new Error("multiple roots");et=lt}else{if(st=Rt[De+Jt],!st)throw new Error("missing: "+Jt);if(st===Ce)throw new Error("ambiguous: "+Jt);st.children?st.children.push(lt):st.children=[lt],lt.parent=st}if(!et)throw new Error("no root");if(et.parent=we,et.eachBefore(function($t){$t.depth=$t.parent.depth+1,--Ue}).eachBefore(M),et.parent=null,Ue>0)throw new Error("cycle");return et}return Ke.id=function(Ie){return arguments.length?(Oe=Y(Ie),Ke):Oe},Ke.parentId=function(Ie){return arguments.length?(ke=Y(Ie),Ke):ke},Ke}function Ge(Oe,ke){return Oe.parent===ke.parent?1:2}function Fe(Oe){var ke=Oe.children;return ke?ke[0]:Oe.t}function He(Oe){var ke=Oe.children;return ke?ke[ke.length-1]:Oe.t}function ft(Oe,ke,Ke){var Ie=Ke/(ke.i-Oe.i);ke.c-=Ie,ke.s+=Ke,Oe.c+=Ie,ke.z+=Ke,ke.m+=Ke}function gt(Oe){for(var ke=0,Ke=0,Ie=Oe.children,pe=Ie.length,Te;--pe>=0;)Te=Ie[pe],Te.z+=ke,Te.m+=ke,ke+=Te.s+(Ke+=Te.c)}function ct(Oe,ke,Ke){return Oe.a.parent===ke.parent?Oe.a:Ke}function nt(Oe,ke){this._=Oe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=ke}nt.prototype=Object.create(s.prototype);function dt(Oe){for(var ke=new nt(Oe,0),Ke,Ie=[ke],pe,Te,Ue,et;Ke=Ie.pop();)if(Te=Ke._.children)for(Ke.children=new Array(et=Te.length),Ue=et-1;Ue>=0;--Ue)Ie.push(pe=Ke.children[Ue]=new nt(Te[Ue],Ue)),pe.parent=Ke;return(ke.parent=new nt(null,0)).children=[ke],ke}function pt(){var Oe=Ge,ke=1,Ke=1,Ie=null;function pe(lt){var jt=dt(lt);if(jt.eachAfter(Te),jt.parent.m=-jt.z,jt.eachBefore(Ue),Ie)lt.eachBefore(st);else{var Jt=lt,St=lt,Rt=lt;lt.eachBefore(function(nr){nr.x<Jt.x&&(Jt=nr),nr.x>St.x&&(St=nr),nr.depth>Rt.depth&&(Rt=nr)});var $t=Jt===St?1:Oe(Jt,St)/2,Pr=$t-Jt.x,xt=ke/(St.x+$t+Pr),qt=Ke/(Rt.depth||1);lt.eachBefore(function(nr){nr.x=(nr.x+Pr)*xt,nr.y=nr.depth*qt})}return lt}function Te(lt){var jt=lt.children,Jt=lt.parent.children,St=lt.i?Jt[lt.i-1]:null;if(jt){gt(lt);var Rt=(jt[0].z+jt[jt.length-1].z)/2;St?(lt.z=St.z+Oe(lt._,St._),lt.m=lt.z-Rt):lt.z=Rt}else St&&(lt.z=St.z+Oe(lt._,St._));lt.parent.A=et(lt,St,lt.parent.A||Jt[0])}function Ue(lt){lt._.x=lt.z+lt.parent.m,lt.m+=lt.parent.m}function et(lt,jt,Jt){if(jt){for(var St=lt,Rt=lt,$t=jt,Pr=St.parent.children[0],xt=St.m,qt=Rt.m,nr=$t.m,wr=Pr.m,dr;$t=He($t),St=Fe(St),$t&&St;)Pr=Fe(Pr),Rt=He(Rt),Rt.a=lt,dr=$t.z+nr-St.z-xt+Oe($t._,St._),dr>0&&(ft(ct($t,lt,Jt),lt,dr),xt+=dr,qt+=dr),nr+=$t.m,xt+=St.m,wr+=Pr.m,qt+=Rt.m;$t&&!He(Rt)&&(Rt.t=$t,Rt.m+=nr-qt),St&&!Fe(Pr)&&(Pr.t=St,Pr.m+=xt-wr,Jt=lt)}return Jt}function st(lt){lt.x*=ke,lt.y=lt.depth*Ke}return pe.separation=function(lt){return arguments.length?(Oe=lt,pe):Oe},pe.size=function(lt){return arguments.length?(Ie=!1,ke=+lt[0],Ke=+lt[1],pe):Ie?null:[ke,Ke]},pe.nodeSize=function(lt){return arguments.length?(Ie=!0,ke=+lt[0],Ke=+lt[1],pe):Ie?[ke,Ke]:null},pe}function wt(Oe,ke,Ke,Ie,pe){for(var Te=Oe.children,Ue,et=-1,st=Te.length,lt=Oe.value&&(pe-Ke)/Oe.value;++et<st;)Ue=Te[et],Ue.x0=ke,Ue.x1=Ie,Ue.y0=Ke,Ue.y1=Ke+=Ue.value*lt}var Tt=(1+Math.sqrt(5))/2;function Ct(Oe,ke,Ke,Ie,pe,Te){for(var Ue=[],et=ke.children,st,lt,jt=0,Jt=0,St=et.length,Rt,$t,Pr=ke.value,xt,qt,nr,wr,dr,bt,ut;jt<St;){Rt=pe-Ke,$t=Te-Ie;do xt=et[Jt++].value;while(!xt&&Jt<St);for(qt=nr=xt,bt=Math.max($t/Rt,Rt/$t)/(Pr*Oe),ut=xt*xt*bt,dr=Math.max(nr/ut,ut/qt);Jt<St;++Jt){if(xt+=lt=et[Jt].value,lt<qt&&(qt=lt),lt>nr&&(nr=lt),ut=xt*xt*bt,wr=Math.max(nr/ut,ut/qt),wr>dr){xt-=lt;break}dr=wr}Ue.push(st={value:xt,dice:Rt<$t,children:et.slice(jt,Jt)}),st.dice?Se(st,Ke,Ie,pe,Pr?Ie+=$t*xt/Pr:Te):wt(st,Ke,Ie,Pr?Ke+=Rt*xt/Pr:pe,Te),Pr-=xt,jt=Jt}return Ue}var at=function Oe(ke){function Ke(Ie,pe,Te,Ue,et){Ct(ke,Ie,pe,Te,Ue,et)}return Ke.ratio=function(Ie){return Oe((Ie=+Ie)>1?Ie:1)},Ke}(Tt);function ze(){var Oe=at,ke=!1,Ke=1,Ie=1,pe=[0],Te=ie,Ue=ie,et=ie,st=ie,lt=ie;function jt(St){return St.x0=St.y0=0,St.x1=Ke,St.y1=Ie,St.eachBefore(Jt),pe=[0],ke&&St.eachBefore(xe),St}function Jt(St){var Rt=pe[St.depth],$t=St.x0+Rt,Pr=St.y0+Rt,xt=St.x1-Rt,qt=St.y1-Rt;xt<$t&&($t=xt=($t+xt)/2),qt<Pr&&(Pr=qt=(Pr+qt)/2),St.x0=$t,St.y0=Pr,St.x1=xt,St.y1=qt,St.children&&(Rt=pe[St.depth+1]=Te(St)/2,$t+=lt(St)-Rt,Pr+=Ue(St)-Rt,xt-=et(St)-Rt,qt-=st(St)-Rt,xt<$t&&($t=xt=($t+xt)/2),qt<Pr&&(Pr=qt=(Pr+qt)/2),Oe(St,$t,Pr,xt,qt))}return jt.round=function(St){return arguments.length?(ke=!!St,jt):ke},jt.size=function(St){return arguments.length?(Ke=+St[0],Ie=+St[1],jt):[Ke,Ie]},jt.tile=function(St){return arguments.length?(Oe=Y(St),jt):Oe},jt.padding=function(St){return arguments.length?jt.paddingInner(St).paddingOuter(St):jt.paddingInner()},jt.paddingInner=function(St){return arguments.length?(Te=typeof St=="function"?St:le(+St),jt):Te},jt.paddingOuter=function(St){return arguments.length?jt.paddingTop(St).paddingRight(St).paddingBottom(St).paddingLeft(St):jt.paddingTop()},jt.paddingTop=function(St){return arguments.length?(Ue=typeof St=="function"?St:le(+St),jt):Ue},jt.paddingRight=function(St){return arguments.length?(et=typeof St=="function"?St:le(+St),jt):et},jt.paddingBottom=function(St){return arguments.length?(st=typeof St=="function"?St:le(+St),jt):st},jt.paddingLeft=function(St){return arguments.length?(lt=typeof St=="function"?St:le(+St),jt):lt},jt}function je(Oe,ke,Ke,Ie,pe){var Te=Oe.children,Ue,et=Te.length,st,lt=new Array(et+1);for(lt[0]=st=Ue=0;Ue<et;++Ue)lt[Ue+1]=st+=Te[Ue].value;jt(0,et,Oe.value,ke,Ke,Ie,pe);function jt(Jt,St,Rt,$t,Pr,xt,qt){if(Jt>=St-1){var nr=Te[Jt];nr.x0=$t,nr.y0=Pr,nr.x1=xt,nr.y1=qt;return}for(var wr=lt[Jt],dr=Rt/2+wr,bt=Jt+1,ut=St-1;bt<ut;){var Mt=bt+ut>>>1;lt[Mt]<dr?bt=Mt+1:ut=Mt}dr-lt[bt-1]<lt[bt]-dr&&Jt+1<bt&&--bt;var _t=lt[bt]-wr,kt=Rt-_t;if(xt-$t>qt-Pr){var Xt=($t*kt+xt*_t)/Rt;jt(Jt,bt,_t,$t,Pr,Xt,qt),jt(bt,St,kt,Xt,Pr,xt,qt)}else{var Wt=(Pr*kt+qt*_t)/Rt;jt(Jt,bt,_t,$t,Pr,xt,Wt),jt(bt,St,kt,$t,Wt,xt,qt)}}}function Je(Oe,ke,Ke,Ie,pe){(Oe.depth&1?wt:Se)(Oe,ke,Ke,Ie,pe)}var Xe=function Oe(ke){function Ke(Ie,pe,Te,Ue,et){if((st=Ie._squarify)&&st.ratio===ke)for(var st,lt,jt,Jt,St=-1,Rt,$t=st.length,Pr=Ie.value;++St<$t;){for(lt=st[St],jt=lt.children,Jt=lt.value=0,Rt=jt.length;Jt<Rt;++Jt)lt.value+=jt[Jt].value;lt.dice?Se(lt,pe,Te,Ue,Te+=(et-Te)*lt.value/Pr):wt(lt,pe,Te,pe+=(Ue-pe)*lt.value/Pr,et),Pr-=lt.value}else Ie._squarify=st=Ct(ke,Ie,pe,Te,Ue,et),st.ratio=ke}return Ke.ratio=function(Ie){return Oe((Ie=+Ie)>1?Ie:1)},Ke}(Tt)},10132:function(H,U,e){e.d(U,{ak:function(){return h}});var d=Math.PI,C=2*d,n=1e-6,L=C-n;function w(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new w}w.prototype=v.prototype={constructor:w,moveTo:function(T,c){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,c){this._+="L"+(this._x1=+T)+","+(this._y1=+c)},quadraticCurveTo:function(T,c,o,p){this._+="Q"+ +T+","+ +c+","+(this._x1=+o)+","+(this._y1=+p)},bezierCurveTo:function(T,c,o,p,x,A){this._+="C"+ +T+","+ +c+","+ +o+","+ +p+","+(this._x1=+x)+","+(this._y1=+A)},arcTo:function(T,c,o,p,x){T=+T,c=+c,o=+o,p=+p,x=+x;var A=this._x1,_=this._y1,y=o-T,E=p-c,M=A-T,s=_-c,S=M*M+s*s;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=c);else if(S>n)if(!(Math.abs(s*y-E*M)>n)||!x)this._+="L"+(this._x1=T)+","+(this._y1=c);else{var b=o-A,I=p-_,D=y*y+E*E,B=b*b+I*I,k=Math.sqrt(D),F=Math.sqrt(S),N=x*Math.tan((d-Math.acos((D+S-B)/(2*k*F)))/2),O=N/F,V=N/k;Math.abs(O-1)>n&&(this._+="L"+(T+O*M)+","+(c+O*s)),this._+="A"+x+","+x+",0,0,"+ +(s*b>M*I)+","+(this._x1=T+V*y)+","+(this._y1=c+V*E)}},arc:function(T,c,o,p,x,A){T=+T,c=+c,o=+o,A=!!A;var _=o*Math.cos(p),y=o*Math.sin(p),E=T+_,M=c+y,s=1^A,S=A?p-x:x-p;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+E+","+M:(Math.abs(this._x1-E)>n||Math.abs(this._y1-M)>n)&&(this._+="L"+E+","+M),o&&(S<0&&(S=S%C+C),S>L?this._+="A"+o+","+o+",0,1,"+s+","+(T-_)+","+(c-y)+"A"+o+","+o+",0,1,"+s+","+(this._x1=E)+","+(this._y1=M):S>n&&(this._+="A"+o+","+o+",0,"+ +(S>=d)+","+s+","+(this._x1=T+o*Math.cos(x))+","+(this._y1=c+o*Math.sin(x))))},rect:function(T,c,o,p){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)+"h"+ +o+"v"+ +p+"h"+-o+"Z"},toString:function(){return this._}};var g=v,r=Array.prototype.slice;function t(T){return function(){return T}}function i(T){return T[0]}function a(T){return T[1]}function u(T){return T.source}function f(T){return T.target}function l(T){var c=u,o=f,p=i,x=a,A=null;function _(){var y,E=r.call(arguments),M=c.apply(this,E),s=o.apply(this,E);if(A||(A=y=g()),T(A,+p.apply(this,(E[0]=M,E)),+x.apply(this,E),+p.apply(this,(E[0]=s,E)),+x.apply(this,E)),y)return A=null,y+""||null}return _.source=function(y){return arguments.length?(c=y,_):c},_.target=function(y){return arguments.length?(o=y,_):o},_.x=function(y){return arguments.length?(p=typeof y=="function"?y:t(+y),_):p},_.y=function(y){return arguments.length?(x=typeof y=="function"?y:t(+y),_):x},_.context=function(y){return arguments.length?(A=y??null,_):A},_}function m(T,c,o,p,x){T.moveTo(c,o),T.bezierCurveTo(c=(c+p)/2,o,c,x,p,x)}function h(){return l(m)}},94336:function(H,U,e){e.d(U,{Yn:function(){return je},m_:function(){return i},E9:function(){return Je}});var d=e(8208),C=e(58931),n=e(46192),L=e(68936),w=e(32171),v=e(53528);function g(Oe){if(0<=Oe.y&&Oe.y<100){var ke=new Date(-1,Oe.m,Oe.d,Oe.H,Oe.M,Oe.S,Oe.L);return ke.setFullYear(Oe.y),ke}return new Date(Oe.y,Oe.m,Oe.d,Oe.H,Oe.M,Oe.S,Oe.L)}function r(Oe){if(0<=Oe.y&&Oe.y<100){var ke=new Date(Date.UTC(-1,Oe.m,Oe.d,Oe.H,Oe.M,Oe.S,Oe.L));return ke.setUTCFullYear(Oe.y),ke}return new Date(Date.UTC(Oe.y,Oe.m,Oe.d,Oe.H,Oe.M,Oe.S,Oe.L))}function t(Oe,ke,Ke){return{y:Oe,m:ke,d:Ke,H:0,M:0,S:0,L:0}}function i(Oe){var ke=Oe.dateTime,Ke=Oe.date,Ie=Oe.time,pe=Oe.periods,Te=Oe.days,Ue=Oe.shortDays,et=Oe.months,st=Oe.shortMonths,lt=T(pe),jt=c(pe),Jt=T(Te),St=c(Te),Rt=T(Ue),$t=c(Ue),Pr=T(et),xt=c(et),qt=T(st),nr=c(st),wr={a:Ze,A:Ye,b:Bt,B:Ft,c:null,d:ee,e:ee,f:Z,H:ne,I:q,j:se,L:J,m:te,M:Y,p:rr,q:sr,Q:Ct,s:at,S:ie,u:le,U:j,V:K,w:ue,W:ae,x:null,X:null,y:he,Y:xe,Z:Se,"%":Tt},dr={a:fr,A:ir,b:Vt,B:yr,c:null,d:Ae,e:Ae,f:Pe,H:De,I:we,j:Ce,L:be,m:Ve,M:Ge,p:br,q:_r,Q:Ct,s:at,S:Fe,u:He,U:ft,V:gt,w:ct,W:nt,x:null,X:null,y:dt,Y:pt,Z:wt,"%":Tt},bt={a:Xt,A:Wt,b:Ht,B:tr,c:gr,d:b,e:b,f:N,H:D,I:D,j:I,L:F,m:S,M:B,p:kt,q:s,Q:V,s:X,S:k,u:p,U:x,V:A,w:o,W:_,x:Qt,X:mr,y:E,Y:y,Z:M,"%":O};wr.x=ut(Ke,wr),wr.X=ut(Ie,wr),wr.c=ut(ke,wr),dr.x=ut(Ke,dr),dr.X=ut(Ie,dr),dr.c=ut(ke,dr);function ut(pr,Yr){return function(zr){var Nr=[],xn=-1,tn=0,On=pr.length,zn,Sr,Vr;for(zr instanceof Date||(zr=new Date(+zr));++xn<On;)pr.charCodeAt(xn)===37&&(Nr.push(pr.slice(tn,xn)),(Sr=a[zn=pr.charAt(++xn)])!=null?zn=pr.charAt(++xn):Sr=zn==="e"?" ":"0",(Vr=Yr[zn])&&(zn=Vr(zr,Sr)),Nr.push(zn),tn=xn+1);return Nr.push(pr.slice(tn,xn)),Nr.join("")}}function Mt(pr,Yr){return function(zr){var Nr=t(1900,void 0,1),xn=_t(Nr,pr,zr+="",0),tn,On;if(xn!=zr.length)return null;if("Q"in Nr)return new Date(Nr.Q);if("s"in Nr)return new Date(Nr.s*1e3+("L"in Nr?Nr.L:0));if(Yr&&!("Z"in Nr)&&(Nr.Z=0),"p"in Nr&&(Nr.H=Nr.H%12+Nr.p*12),Nr.m===void 0&&(Nr.m="q"in Nr?Nr.q:0),"V"in Nr){if(Nr.V<1||Nr.V>53)return null;"w"in Nr||(Nr.w=1),"Z"in Nr?(tn=r(t(Nr.y,0,1)),On=tn.getUTCDay(),tn=On>4||On===0?d.ot.ceil(tn):(0,d.ot)(tn),tn=C.c.offset(tn,(Nr.V-1)*7),Nr.y=tn.getUTCFullYear(),Nr.m=tn.getUTCMonth(),Nr.d=tn.getUTCDate()+(Nr.w+6)%7):(tn=g(t(Nr.y,0,1)),On=tn.getDay(),tn=On>4||On===0?n.qT.ceil(tn):(0,n.qT)(tn),tn=L.c.offset(tn,(Nr.V-1)*7),Nr.y=tn.getFullYear(),Nr.m=tn.getMonth(),Nr.d=tn.getDate()+(Nr.w+6)%7)}else("W"in Nr||"U"in Nr)&&("w"in Nr||(Nr.w="u"in Nr?Nr.u%7:"W"in Nr?1:0),On="Z"in Nr?r(t(Nr.y,0,1)).getUTCDay():g(t(Nr.y,0,1)).getDay(),Nr.m=0,Nr.d="W"in Nr?(Nr.w+6)%7+Nr.W*7-(On+5)%7:Nr.w+Nr.U*7-(On+6)%7);return"Z"in Nr?(Nr.H+=Nr.Z/100|0,Nr.M+=Nr.Z%100,r(Nr)):g(Nr)}}function _t(pr,Yr,zr,Nr){for(var xn=0,tn=Yr.length,On=zr.length,zn,Sr;xn<tn;){if(Nr>=On)return-1;if(zn=Yr.charCodeAt(xn++),zn===37){if(zn=Yr.charAt(xn++),Sr=bt[zn in a?Yr.charAt(xn++):zn],!Sr||(Nr=Sr(pr,zr,Nr))<0)return-1}else if(zn!=zr.charCodeAt(Nr++))return-1}return Nr}function kt(pr,Yr,zr){var Nr=lt.exec(Yr.slice(zr));return Nr?(pr.p=jt[Nr[0].toLowerCase()],zr+Nr[0].length):-1}function Xt(pr,Yr,zr){var Nr=Rt.exec(Yr.slice(zr));return Nr?(pr.w=$t[Nr[0].toLowerCase()],zr+Nr[0].length):-1}function Wt(pr,Yr,zr){var Nr=Jt.exec(Yr.slice(zr));return Nr?(pr.w=St[Nr[0].toLowerCase()],zr+Nr[0].length):-1}function Ht(pr,Yr,zr){var Nr=qt.exec(Yr.slice(zr));return Nr?(pr.m=nr[Nr[0].toLowerCase()],zr+Nr[0].length):-1}function tr(pr,Yr,zr){var Nr=Pr.exec(Yr.slice(zr));return Nr?(pr.m=xt[Nr[0].toLowerCase()],zr+Nr[0].length):-1}function gr(pr,Yr,zr){return _t(pr,ke,Yr,zr)}function Qt(pr,Yr,zr){return _t(pr,Ke,Yr,zr)}function mr(pr,Yr,zr){return _t(pr,Ie,Yr,zr)}function Ze(pr){return Ue[pr.getDay()]}function Ye(pr){return Te[pr.getDay()]}function Bt(pr){return st[pr.getMonth()]}function Ft(pr){return et[pr.getMonth()]}function rr(pr){return pe[+(pr.getHours()>=12)]}function sr(pr){return 1+~~(pr.getMonth()/3)}function fr(pr){return Ue[pr.getUTCDay()]}function ir(pr){return Te[pr.getUTCDay()]}function Vt(pr){return st[pr.getUTCMonth()]}function yr(pr){return et[pr.getUTCMonth()]}function br(pr){return pe[+(pr.getUTCHours()>=12)]}function _r(pr){return 1+~~(pr.getUTCMonth()/3)}return{format:function(pr){var Yr=ut(pr+="",wr);return Yr.toString=function(){return pr},Yr},parse:function(pr){var Yr=Mt(pr+="",!1);return Yr.toString=function(){return pr},Yr},utcFormat:function(pr){var Yr=ut(pr+="",dr);return Yr.toString=function(){return pr},Yr},utcParse:function(pr){var Yr=Mt(pr+="",!0);return Yr.toString=function(){return pr},Yr}}}var a={"-":"",_:" ",0:"0"},u=/^\s*\d+/,f=/^%/,l=/[\\^$*+?|[\]().{}]/g;function m(Oe,ke,Ke){var Ie=Oe<0?"-":"",pe=(Ie?-Oe:Oe)+"",Te=pe.length;return Ie+(Te<Ke?new Array(Ke-Te+1).join(ke)+pe:pe)}function h(Oe){return Oe.replace(l,"\\$&")}function T(Oe){return new RegExp("^(?:"+Oe.map(h).join("|")+")","i")}function c(Oe){for(var ke={},Ke=-1,Ie=Oe.length;++Ke<Ie;)ke[Oe[Ke].toLowerCase()]=Ke;return ke}function o(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+1));return Ie?(Oe.w=+Ie[0],Ke+Ie[0].length):-1}function p(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+1));return Ie?(Oe.u=+Ie[0],Ke+Ie[0].length):-1}function x(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+2));return Ie?(Oe.U=+Ie[0],Ke+Ie[0].length):-1}function A(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+2));return Ie?(Oe.V=+Ie[0],Ke+Ie[0].length):-1}function _(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+2));return Ie?(Oe.W=+Ie[0],Ke+Ie[0].length):-1}function y(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+4));return Ie?(Oe.y=+Ie[0],Ke+Ie[0].length):-1}function E(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+2));return Ie?(Oe.y=+Ie[0]+(+Ie[0]>68?1900:2e3),Ke+Ie[0].length):-1}function M(Oe,ke,Ke){var Ie=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(ke.slice(Ke,Ke+6));return Ie?(Oe.Z=Ie[1]?0:-(Ie[2]+(Ie[3]||"00")),Ke+Ie[0].length):-1}function s(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+1));return Ie?(Oe.q=Ie[0]*3-3,Ke+Ie[0].length):-1}function S(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+2));return Ie?(Oe.m=Ie[0]-1,Ke+Ie[0].length):-1}function b(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+2));return Ie?(Oe.d=+Ie[0],Ke+Ie[0].length):-1}function I(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+3));return Ie?(Oe.m=0,Oe.d=+Ie[0],Ke+Ie[0].length):-1}function D(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+2));return Ie?(Oe.H=+Ie[0],Ke+Ie[0].length):-1}function B(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+2));return Ie?(Oe.M=+Ie[0],Ke+Ie[0].length):-1}function k(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+2));return Ie?(Oe.S=+Ie[0],Ke+Ie[0].length):-1}function F(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+3));return Ie?(Oe.L=+Ie[0],Ke+Ie[0].length):-1}function N(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke,Ke+6));return Ie?(Oe.L=Math.floor(Ie[0]/1e3),Ke+Ie[0].length):-1}function O(Oe,ke,Ke){var Ie=f.exec(ke.slice(Ke,Ke+1));return Ie?Ke+Ie[0].length:-1}function V(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke));return Ie?(Oe.Q=+Ie[0],Ke+Ie[0].length):-1}function X(Oe,ke,Ke){var Ie=u.exec(ke.slice(Ke));return Ie?(Oe.s=+Ie[0],Ke+Ie[0].length):-1}function ee(Oe,ke){return m(Oe.getDate(),ke,2)}function ne(Oe,ke){return m(Oe.getHours(),ke,2)}function q(Oe,ke){return m(Oe.getHours()%12||12,ke,2)}function se(Oe,ke){return m(1+L.c.count((0,w.c)(Oe),Oe),ke,3)}function J(Oe,ke){return m(Oe.getMilliseconds(),ke,3)}function Z(Oe,ke){return J(Oe,ke)+"000"}function te(Oe,ke){return m(Oe.getMonth()+1,ke,2)}function Y(Oe,ke){return m(Oe.getMinutes(),ke,2)}function ie(Oe,ke){return m(Oe.getSeconds(),ke,2)}function le(Oe){var ke=Oe.getDay();return ke===0?7:ke}function j(Oe,ke){return m(n.uU.count((0,w.c)(Oe)-1,Oe),ke,2)}function K(Oe,ke){var Ke=Oe.getDay();return Oe=Ke>=4||Ke===0?(0,n.kD)(Oe):n.kD.ceil(Oe),m(n.kD.count((0,w.c)(Oe),Oe)+((0,w.c)(Oe).getDay()===4),ke,2)}function ue(Oe){return Oe.getDay()}function ae(Oe,ke){return m(n.qT.count((0,w.c)(Oe)-1,Oe),ke,2)}function he(Oe,ke){return m(Oe.getFullYear()%100,ke,2)}function xe(Oe,ke){return m(Oe.getFullYear()%1e4,ke,4)}function Se(Oe){var ke=Oe.getTimezoneOffset();return(ke>0?"-":(ke*=-1,"+"))+m(ke/60|0,"0",2)+m(ke%60,"0",2)}function Ae(Oe,ke){return m(Oe.getUTCDate(),ke,2)}function De(Oe,ke){return m(Oe.getUTCHours(),ke,2)}function we(Oe,ke){return m(Oe.getUTCHours()%12||12,ke,2)}function Ce(Oe,ke){return m(1+C.c.count((0,v.c)(Oe),Oe),ke,3)}function be(Oe,ke){return m(Oe.getUTCMilliseconds(),ke,3)}function Pe(Oe,ke){return be(Oe,ke)+"000"}function Ve(Oe,ke){return m(Oe.getUTCMonth()+1,ke,2)}function Ge(Oe,ke){return m(Oe.getUTCMinutes(),ke,2)}function Fe(Oe,ke){return m(Oe.getUTCSeconds(),ke,2)}function He(Oe){var ke=Oe.getUTCDay();return ke===0?7:ke}function ft(Oe,ke){return m(d.EV.count((0,v.c)(Oe)-1,Oe),ke,2)}function gt(Oe,ke){var Ke=Oe.getUTCDay();return Oe=Ke>=4||Ke===0?(0,d.yA)(Oe):d.yA.ceil(Oe),m(d.yA.count((0,v.c)(Oe),Oe)+((0,v.c)(Oe).getUTCDay()===4),ke,2)}function ct(Oe){return Oe.getUTCDay()}function nt(Oe,ke){return m(d.ot.count((0,v.c)(Oe)-1,Oe),ke,2)}function dt(Oe,ke){return m(Oe.getUTCFullYear()%100,ke,2)}function pt(Oe,ke){return m(Oe.getUTCFullYear()%1e4,ke,4)}function wt(){return"+0000"}function Tt(){return"%"}function Ct(Oe){return+Oe}function at(Oe){return Math.floor(+Oe/1e3)}var ze,je,Je;Xe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xe(Oe){return ze=i(Oe),je=ze.format,ze.parse,Je=ze.utcFormat,ze.utcParse,ze}},68936:function(H,U,e){e.d(U,{m:function(){return L}});var d=e(81628),C=e(69792),n=(0,d.c)(function(w){w.setHours(0,0,0,0)},function(w,v){w.setDate(w.getDate()+v)},function(w,v){return(v-w-(v.getTimezoneOffset()-w.getTimezoneOffset())*C.iy)/C.SK},function(w){return w.getDate()-1});U.c=n;var L=n.range},69792:function(H,U,e){e.d(U,{KK:function(){return w},SK:function(){return L},cg:function(){return n},iy:function(){return C},yc:function(){return d}});var d=1e3,C=6e4,n=36e5,L=864e5,w=6048e5},73220:function(H,U,e){e.r(U),e.d(U,{timeDay:function(){return m.c},timeDays:function(){return m.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return f},timeHours:function(){return l},timeInterval:function(){return d.c},timeMillisecond:function(){return n},timeMilliseconds:function(){return L},timeMinute:function(){return i},timeMinutes:function(){return a},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return o},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return g},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return p.c},timeYears:function(){return p.Q},utcDay:function(){return s.c},utcDays:function(){return s.o},utcFriday:function(){return S.od},utcFridays:function(){return S.iG},utcHour:function(){return E},utcHours:function(){return M},utcMillisecond:function(){return n},utcMilliseconds:function(){return L},utcMinute:function(){return A},utcMinutes:function(){return _},utcMonday:function(){return S.ot},utcMondays:function(){return S.iO},utcMonth:function(){return I},utcMonths:function(){return D},utcSaturday:function(){return S.Ad},utcSaturdays:function(){return S.K8},utcSecond:function(){return g},utcSeconds:function(){return r},utcSunday:function(){return S.EV},utcSundays:function(){return S.Wq},utcThursday:function(){return S.yA},utcThursdays:function(){return S.ob},utcTuesday:function(){return S.sG},utcTuesdays:function(){return S.kl},utcWednesday:function(){return S._6},utcWednesdays:function(){return S.W_},utcWeek:function(){return S.EV},utcWeeks:function(){return S.Wq},utcYear:function(){return B.c},utcYears:function(){return B.i}});var d=e(81628),C=(0,d.c)(function(){},function(k,F){k.setTime(+k+F)},function(k,F){return F-k});C.every=function(k){return k=Math.floor(k),!isFinite(k)||!(k>0)?null:k>1?(0,d.c)(function(F){F.setTime(Math.floor(F/k)*k)},function(F,N){F.setTime(+F+N*k)},function(F,N){return(N-F)/k}):C};var n=C,L=C.range,w=e(69792),v=(0,d.c)(function(k){k.setTime(k-k.getMilliseconds())},function(k,F){k.setTime(+k+F*w.yc)},function(k,F){return(F-k)/w.yc},function(k){return k.getUTCSeconds()}),g=v,r=v.range,t=(0,d.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*w.yc)},function(k,F){k.setTime(+k+F*w.iy)},function(k,F){return(F-k)/w.iy},function(k){return k.getMinutes()}),i=t,a=t.range,u=(0,d.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*w.yc-k.getMinutes()*w.iy)},function(k,F){k.setTime(+k+F*w.cg)},function(k,F){return(F-k)/w.cg},function(k){return k.getHours()}),f=u,l=u.range,m=e(68936),h=e(46192),T=(0,d.c)(function(k){k.setDate(1),k.setHours(0,0,0,0)},function(k,F){k.setMonth(k.getMonth()+F)},function(k,F){return F.getMonth()-k.getMonth()+(F.getFullYear()-k.getFullYear())*12},function(k){return k.getMonth()}),c=T,o=T.range,p=e(32171),x=(0,d.c)(function(k){k.setUTCSeconds(0,0)},function(k,F){k.setTime(+k+F*w.iy)},function(k,F){return(F-k)/w.iy},function(k){return k.getUTCMinutes()}),A=x,_=x.range,y=(0,d.c)(function(k){k.setUTCMinutes(0,0,0)},function(k,F){k.setTime(+k+F*w.cg)},function(k,F){return(F-k)/w.cg},function(k){return k.getUTCHours()}),E=y,M=y.range,s=e(58931),S=e(8208),b=(0,d.c)(function(k){k.setUTCDate(1),k.setUTCHours(0,0,0,0)},function(k,F){k.setUTCMonth(k.getUTCMonth()+F)},function(k,F){return F.getUTCMonth()-k.getUTCMonth()+(F.getUTCFullYear()-k.getUTCFullYear())*12},function(k){return k.getUTCMonth()}),I=b,D=b.range,B=e(53528)},81628:function(H,U,e){e.d(U,{c:function(){return n}});var d=new Date,C=new Date;function n(L,w,v,g){function r(t){return L(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return L(t=new Date(+t)),t},r.ceil=function(t){return L(t=new Date(t-1)),w(t,1),L(t),t},r.round=function(t){var i=r(t),a=r.ceil(t);return t-i<a-t?i:a},r.offset=function(t,i){return w(t=new Date(+t),i==null?1:Math.floor(i)),t},r.range=function(t,i,a){var u=[],f;if(t=r.ceil(t),a=a==null?1:Math.floor(a),!(t<i)||!(a>0))return u;do u.push(f=new Date(+t)),w(t,a),L(t);while(f<t&&t<i);return u},r.filter=function(t){return n(function(i){if(i>=i)for(;L(i),!t(i);)i.setTime(i-1)},function(i,a){if(i>=i)if(a<0)for(;++a<=0;)for(;w(i,-1),!t(i););else for(;--a>=0;)for(;w(i,1),!t(i););})},v&&(r.count=function(t,i){return d.setTime(+t),C.setTime(+i),L(d),L(C),Math.floor(v(d,C))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(g?function(i){return g(i)%t===0}:function(i){return r.count(0,i)%t===0}):r}),r}},58931:function(H,U,e){e.d(U,{o:function(){return L}});var d=e(81628),C=e(69792),n=(0,d.c)(function(w){w.setUTCHours(0,0,0,0)},function(w,v){w.setUTCDate(w.getUTCDate()+v)},function(w,v){return(v-w)/C.SK},function(w){return w.getUTCDate()-1});U.c=n;var L=n.range},8208:function(H,U,e){e.d(U,{Ad:function(){return i},EV:function(){return L},K8:function(){return T},W_:function(){return l},Wq:function(){return a},_6:function(){return g},iG:function(){return h},iO:function(){return u},kl:function(){return f},ob:function(){return m},od:function(){return t},ot:function(){return w},sG:function(){return v},yA:function(){return r}});var d=e(81628),C=e(69792);function n(c){return(0,d.c)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-c)%7),o.setUTCHours(0,0,0,0)},function(o,p){o.setUTCDate(o.getUTCDate()+p*7)},function(o,p){return(p-o)/C.KK})}var L=n(0),w=n(1),v=n(2),g=n(3),r=n(4),t=n(5),i=n(6),a=L.range,u=w.range,f=v.range,l=g.range,m=r.range,h=t.range,T=i.range},53528:function(H,U,e){e.d(U,{i:function(){return n}});var d=e(81628),C=(0,d.c)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,w){L.setUTCFullYear(L.getUTCFullYear()+w)},function(L,w){return w.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});C.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,d.c)(function(w){w.setUTCFullYear(Math.floor(w.getUTCFullYear()/L)*L),w.setUTCMonth(0,1),w.setUTCHours(0,0,0,0)},function(w,v){w.setUTCFullYear(w.getUTCFullYear()+v*L)})},U.c=C;var n=C.range},46192:function(H,U,e){e.d(U,{Ab:function(){return a},Mf:function(){return v},Oc:function(){return f},QP:function(){return u},Wc:function(){return i},aI:function(){return T},eC:function(){return m},eg:function(){return g},iB:function(){return t},kD:function(){return r},qT:function(){return w},sJ:function(){return h},sn:function(){return l},uU:function(){return L}});var d=e(81628),C=e(69792);function n(c){return(0,d.c)(function(o){o.setDate(o.getDate()-(o.getDay()+7-c)%7),o.setHours(0,0,0,0)},function(o,p){o.setDate(o.getDate()+p*7)},function(o,p){return(p-o-(p.getTimezoneOffset()-o.getTimezoneOffset())*C.iy)/C.KK})}var L=n(0),w=n(1),v=n(2),g=n(3),r=n(4),t=n(5),i=n(6),a=L.range,u=w.range,f=v.range,l=g.range,m=r.range,h=t.range,T=i.range},32171:function(H,U,e){e.d(U,{Q:function(){return n}});var d=e(81628),C=(0,d.c)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,w){L.setFullYear(L.getFullYear()+w)},function(L,w){return w.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});C.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,d.c)(function(w){w.setFullYear(Math.floor(w.getFullYear()/L)*L),w.setMonth(0,1),w.setHours(0,0,0,0)},function(w,v){w.setFullYear(w.getFullYear()+v*L)})},U.c=C;var n=C.range},64348:function(H,U,e){var d=e(39640)(),C=e(53664),n=d&&C("%Object.defineProperty%",!0);if(n)try{n({},"a",{value:1})}catch{n=!1}var L=C("%SyntaxError%"),w=C("%TypeError%"),v=e(2304);H.exports=function(r,t,i){if(!r||typeof r!="object"&&typeof r!="function")throw new w("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new w("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new w("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new w("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new w("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new w("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,m=!!v&&v(r,t);if(n)n(r,t,{configurable:f===null&&m?m.configurable:!f,enumerable:a===null&&m?m.enumerable:!a,value:i,writable:u===null&&m?m.writable:!u});else if(l||!a&&!u&&!f)r[t]=i;else throw new L("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(H,U,e){var d=e(41820),C=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,L=Array.prototype.concat,w=Object.defineProperty,v=function(a){return typeof a=="function"&&n.call(a)==="[object Function]"},g=e(39640)(),r=w&&g,t=function(a,u,f,l){if(u in a){if(l===!0){if(a[u]===f)return}else if(!v(l)||!l())return}r?w(a,u,{configurable:!0,enumerable:!1,value:f,writable:!0}):a[u]=f},i=function(a,u){var f=arguments.length>2?arguments[2]:{},l=d(u);C&&(l=L.call(l,Object.getOwnPropertySymbols(u)));for(var m=0;m<l.length;m+=1)t(a,l[m],u[l[m]],f[l[m]])};i.supportsDescriptors=!!r,H.exports=i},31264:function(H){H.exports=function(){for(var U=0;U<arguments.length;U++)if(arguments[U]!==void 0)return arguments[U]}},63768:function(H){H.exports=C;var U=C.canvas=document.createElement("canvas"),e=U.getContext("2d"),d=n([32,126]);C.createPairs=n,C.ascii=d;function C(L,w){Array.isArray(L)&&(L=L.join(", "));var v={},g,r=16,t=.05;w&&(w.length===2&&typeof w[0]=="number"?g=n(w):Array.isArray(w)?g=w:(w.o?g=n(w.o):w.pairs&&(g=w.pairs),w.fontSize&&(r=w.fontSize),w.threshold!=null&&(t=w.threshold))),g||(g=d),e.font=r+"px "+L;for(var i=0;i<g.length;i++){var a=g[i],u=e.measureText(a[0]).width+e.measureText(a[1]).width,f=e.measureText(a).width;if(Math.abs(u-f)>r*t){var l=(f-u)/r;v[a]=l*1e3}}return v}function n(L){for(var w=[],v=L[0];v<=L[1];v++)for(var g=String.fromCharCode(v),r=L[0];r<L[1];r++){var t=String.fromCharCode(r),i=g+t;w.push(i)}return w}},22235:function(H,U,e){var d=e(49972),C=e(48816),n={M:"moveTo",C:"bezierCurveTo"};H.exports=function(L,w){L.beginPath(),C(d(w)).forEach(function(v){var g=v[0],r=v.slice(1);L[n[g]].apply(L,r)}),L.closePath()}},72512:function(H){H.exports=function(U){switch(U){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(H){function U(C,n,L){var w=C[L]|0;if(w<=0)return[];var v=new Array(w),g;if(L===C.length-1)for(g=0;g<w;++g)v[g]=n;else for(g=0;g<w;++g)v[g]=U(C,n,L+1);return v}function e(C,n){var L,w;for(L=new Array(C),w=0;w<C;++w)L[w]=n;return L}function d(C,n){switch(typeof n>"u"&&(n=0),typeof C){case"number":if(C>0)return e(C|0,n);break;case"object":if(typeof C.length=="number")return U(C,n,0);break}return[]}H.exports=d},28912:function(H){H.exports=U,H.exports.default=U;function U(D,B,k){k=k||2;var F=B&&B.length,N=F?B[0]*k:D.length,O=e(D,0,N,k,!0),V=[];if(!O||O.next===O.prev)return V;var X,ee,ne,q,se,J,Z;if(F&&(O=g(D,B,O,k)),D.length>80*k){X=ne=D[0],ee=q=D[1];for(var te=k;te<N;te+=k)se=D[te],J=D[te+1],se<X&&(X=se),J<ee&&(ee=J),se>ne&&(ne=se),J>q&&(q=J);Z=Math.max(ne-X,q-ee),Z=Z!==0?1/Z:0}return C(O,V,k,X,ee,Z),V}function e(D,B,k,F,N){var O,V;if(N===I(D,B,k,F)>0)for(O=B;O<k;O+=F)V=s(O,D[O],D[O+1],V);else for(O=k-F;O>=B;O-=F)V=s(O,D[O],D[O+1],V);return V&&o(V,V.next)&&(S(V),V=V.next),V}function d(D,B){if(!D)return D;B||(B=D);var k=D,F;do if(F=!1,!k.steiner&&(o(k,k.next)||c(k.prev,k,k.next)===0)){if(S(k),k=B=k.prev,k===k.next)break;F=!0}else k=k.next;while(F||k!==B);return B}function C(D,B,k,F,N,O,V){if(D){!V&&O&&u(D,F,N,O);for(var X=D,ee,ne;D.prev!==D.next;){if(ee=D.prev,ne=D.next,O?L(D,F,N,O):n(D)){B.push(ee.i/k),B.push(D.i/k),B.push(ne.i/k),S(D),D=ne.next,X=ne.next;continue}if(D=ne,D===X){V?V===1?(D=w(d(D),B,k),C(D,B,k,F,N,O,2)):V===2&&v(D,B,k,F,N,O):C(d(D),B,k,F,N,O,1);break}}}}function n(D){var B=D.prev,k=D,F=D.next;if(c(B,k,F)>=0)return!1;for(var N=D.next.next;N!==D.prev;){if(h(B.x,B.y,k.x,k.y,F.x,F.y,N.x,N.y)&&c(N.prev,N,N.next)>=0)return!1;N=N.next}return!0}function L(D,B,k,F){var N=D.prev,O=D,V=D.next;if(c(N,O,V)>=0)return!1;for(var X=N.x<O.x?N.x<V.x?N.x:V.x:O.x<V.x?O.x:V.x,ee=N.y<O.y?N.y<V.y?N.y:V.y:O.y<V.y?O.y:V.y,ne=N.x>O.x?N.x>V.x?N.x:V.x:O.x>V.x?O.x:V.x,q=N.y>O.y?N.y>V.y?N.y:V.y:O.y>V.y?O.y:V.y,se=l(X,ee,B,k,F),J=l(ne,q,B,k,F),Z=D.prevZ,te=D.nextZ;Z&&Z.z>=se&&te&&te.z<=J;){if(Z!==D.prev&&Z!==D.next&&h(N.x,N.y,O.x,O.y,V.x,V.y,Z.x,Z.y)&&c(Z.prev,Z,Z.next)>=0||(Z=Z.prevZ,te!==D.prev&&te!==D.next&&h(N.x,N.y,O.x,O.y,V.x,V.y,te.x,te.y)&&c(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;Z&&Z.z>=se;){if(Z!==D.prev&&Z!==D.next&&h(N.x,N.y,O.x,O.y,V.x,V.y,Z.x,Z.y)&&c(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;te&&te.z<=J;){if(te!==D.prev&&te!==D.next&&h(N.x,N.y,O.x,O.y,V.x,V.y,te.x,te.y)&&c(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function w(D,B,k){var F=D;do{var N=F.prev,O=F.next.next;!o(N,O)&&p(N,F,F.next,O)&&y(N,O)&&y(O,N)&&(B.push(N.i/k),B.push(F.i/k),B.push(O.i/k),S(F),S(F.next),F=D=O),F=F.next}while(F!==D);return d(F)}function v(D,B,k,F,N,O){var V=D;do{for(var X=V.next.next;X!==V.prev;){if(V.i!==X.i&&T(V,X)){var ee=M(V,X);V=d(V,V.next),ee=d(ee,ee.next),C(V,B,k,F,N,O),C(ee,B,k,F,N,O);return}X=X.next}V=V.next}while(V!==D)}function g(D,B,k,F){var N=[],O,V,X,ee,ne;for(O=0,V=B.length;O<V;O++)X=B[O]*F,ee=O<V-1?B[O+1]*F:D.length,ne=e(D,X,ee,F,!1),ne===ne.next&&(ne.steiner=!0),N.push(m(ne));for(N.sort(r),O=0;O<N.length;O++)t(N[O],k),k=d(k,k.next);return k}function r(D,B){return D.x-B.x}function t(D,B){if(B=i(D,B),B){var k=M(B,D);d(B,B.next),d(k,k.next)}}function i(D,B){var k=B,F=D.x,N=D.y,O=-1/0,V;do{if(N<=k.y&&N>=k.next.y&&k.next.y!==k.y){var X=k.x+(N-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(X<=F&&X>O){if(O=X,X===F){if(N===k.y)return k;if(N===k.next.y)return k.next}V=k.x<k.next.x?k:k.next}}k=k.next}while(k!==B);if(!V)return null;if(F===O)return V;var ee=V,ne=V.x,q=V.y,se=1/0,J;k=V;do F>=k.x&&k.x>=ne&&F!==k.x&&h(N<q?F:O,N,ne,q,N<q?O:F,N,k.x,k.y)&&(J=Math.abs(N-k.y)/(F-k.x),y(k,D)&&(J<se||J===se&&(k.x>V.x||k.x===V.x&&a(V,k)))&&(V=k,se=J)),k=k.next;while(k!==ee);return V}function a(D,B){return c(D.prev,D,B.prev)<0&&c(B.next,D,D.next)<0}function u(D,B,k,F){var N=D;do N.z===null&&(N.z=l(N.x,N.y,B,k,F)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==D);N.prevZ.nextZ=null,N.prevZ=null,f(N)}function f(D){var B,k,F,N,O,V,X,ee,ne=1;do{for(k=D,D=null,O=null,V=0;k;){for(V++,F=k,X=0,B=0;B<ne&&(X++,F=F.nextZ,!!F);B++);for(ee=ne;X>0||ee>0&&F;)X!==0&&(ee===0||!F||k.z<=F.z)?(N=k,k=k.nextZ,X--):(N=F,F=F.nextZ,ee--),O?O.nextZ=N:D=N,N.prevZ=O,O=N;k=F}O.nextZ=null,ne*=2}while(V>1);return D}function l(D,B,k,F,N){return D=32767*(D-k)*N,B=32767*(B-F)*N,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,D|B<<1}function m(D){var B=D,k=D;do(B.x<k.x||B.x===k.x&&B.y<k.y)&&(k=B),B=B.next;while(B!==D);return k}function h(D,B,k,F,N,O,V,X){return(N-V)*(B-X)-(D-V)*(O-X)>=0&&(D-V)*(F-X)-(k-V)*(B-X)>=0&&(k-V)*(O-X)-(N-V)*(F-X)>=0}function T(D,B){return D.next.i!==B.i&&D.prev.i!==B.i&&!_(D,B)&&(y(D,B)&&y(B,D)&&E(D,B)&&(c(D.prev,D,B.prev)||c(D,B.prev,B))||o(D,B)&&c(D.prev,D,D.next)>0&&c(B.prev,B,B.next)>0)}function c(D,B,k){return(B.y-D.y)*(k.x-B.x)-(B.x-D.x)*(k.y-B.y)}function o(D,B){return D.x===B.x&&D.y===B.y}function p(D,B,k,F){var N=A(c(D,B,k)),O=A(c(D,B,F)),V=A(c(k,F,D)),X=A(c(k,F,B));return!!(N!==O&&V!==X||N===0&&x(D,k,B)||O===0&&x(D,F,B)||V===0&&x(k,D,F)||X===0&&x(k,B,F))}function x(D,B,k){return B.x<=Math.max(D.x,k.x)&&B.x>=Math.min(D.x,k.x)&&B.y<=Math.max(D.y,k.y)&&B.y>=Math.min(D.y,k.y)}function A(D){return D>0?1:D<0?-1:0}function _(D,B){var k=D;do{if(k.i!==D.i&&k.next.i!==D.i&&k.i!==B.i&&k.next.i!==B.i&&p(k,k.next,D,B))return!0;k=k.next}while(k!==D);return!1}function y(D,B){return c(D.prev,D,D.next)<0?c(D,B,D.next)>=0&&c(D,D.prev,B)>=0:c(D,B,D.prev)<0||c(D,D.next,B)<0}function E(D,B){var k=D,F=!1,N=(D.x+B.x)/2,O=(D.y+B.y)/2;do k.y>O!=k.next.y>O&&k.next.y!==k.y&&N<(k.next.x-k.x)*(O-k.y)/(k.next.y-k.y)+k.x&&(F=!F),k=k.next;while(k!==D);return F}function M(D,B){var k=new b(D.i,D.x,D.y),F=new b(B.i,B.x,B.y),N=D.next,O=B.prev;return D.next=B,B.prev=D,k.next=N,N.prev=k,F.next=k,k.prev=F,O.next=F,F.prev=O,F}function s(D,B,k,F){var N=new b(D,B,k);return F?(N.next=F.next,N.prev=F,F.next.prev=N,F.next=N):(N.prev=N,N.next=N),N}function S(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function b(D,B,k){this.i=D,this.x=B,this.y=k,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}U.deviation=function(D,B,k,F){var N=B&&B.length,O=N?B[0]*k:D.length,V=Math.abs(I(D,0,O,k));if(N)for(var X=0,ee=B.length;X<ee;X++){var ne=B[X]*k,q=X<ee-1?B[X+1]*k:D.length;V-=Math.abs(I(D,ne,q,k))}var se=0;for(X=0;X<F.length;X+=3){var J=F[X]*k,Z=F[X+1]*k,te=F[X+2]*k;se+=Math.abs((D[J]-D[te])*(D[Z+1]-D[J+1])-(D[J]-D[Z])*(D[te+1]-D[J+1]))}return V===0&&se===0?0:Math.abs((se-V)/V)};function I(D,B,k,F){for(var N=0,O=B,V=k-F;O<k;O+=F)N+=(D[V]-D[O])*(D[O+1]+D[V+1]),V=O;return N}U.flatten=function(D){for(var B=D[0][0].length,k={vertices:[],holes:[],dimensions:B},F=0,N=0;N<D.length;N++){for(var O=0;O<D[N].length;O++)for(var V=0;V<B;V++)k.vertices.push(D[N][O][V]);N>0&&(F+=D[N-1].length,k.holes.push(F))}return k}},6688:function(H,U,e){var d=e(78484);H.exports=function(n,L){var w=[],v=[],g=[],r={},t=[],i;function a(x){g[x]=!1,r.hasOwnProperty(x)&&Object.keys(r[x]).forEach(function(A){delete r[x][A],g[A]&&a(A)})}function u(x){var A=!1;v.push(x),g[x]=!0;var _,y;for(_=0;_<t[x].length;_++)y=t[x][_],y===i?(f(i,v),A=!0):g[y]||(A=u(y));if(A)a(x);else for(_=0;_<t[x].length;_++){y=t[x][_];var E=r[y];E||(E={},r[y]=E),E[y]=!0}return v.pop(),A}function f(x,A){var _=[].concat(A).concat(x);L?L(u):w.push(_)}function l(x){for(var A=0;A<n.length;A++)A<x&&(n[A]=[]),n[A]=n[A].filter(function(_){return _>=x})}function m(x){l(x);for(var A=n,_=d(A),y=_.components.filter(function(D){return D.length>1}),E=1/0,M,s=0;s<y.length;s++)for(var S=0;S<y[s].length;S++)y[s][S]<E&&(E=y[s][S],M=s);var b=y[M];if(!b)return!1;var I=n.map(function(D,B){return b.indexOf(B)===-1?[]:D.filter(function(k){return b.indexOf(k)!==-1})});return{leastVertex:E,adjList:I}}i=0;for(var h=n.length;i<h;){var T=m(i);if(i=T.leastVertex,t=T.adjList,t){for(var c=0;c<t.length;c++)for(var o=0;o<t[c].length;o++){var p=t[c][o];g[+p]=!1,r[p]={}}u(i),i=i+1}else i=h}if(!L)return w}},41476:function(H,U,e){var d=e(9252);H.exports=function(){return d(this).length=0,this}},74772:function(H,U,e){H.exports=e(44716)()?Array.from:e(80816)},44716:function(H){H.exports=function(){var U=Array.from,e,d;return typeof U!="function"?!1:(e=["raz","dwa"],d=U(e),!!(d&&d!==e&&d[1]==="dwa"))}},80816:function(H,U,e){var d=e(92664).iterator,C=e(60948),n=e(17024),L=e(81304),w=e(34044),v=e(9252),g=e(42584),r=e(29768),t=Array.isArray,i=Function.prototype.call,a={configurable:!0,enumerable:!0,writable:!0,value:null},u=Object.defineProperty;H.exports=function(f){var l=arguments[1],m=arguments[2],h,T,c,o,p,x,A,_,y,E;if(f=Object(v(f)),g(l)&&w(l),!this||this===Array||!n(this)){if(!l){if(C(f))return p=f.length,p!==1?Array.apply(null,f):(o=new Array(1),o[0]=f[0],o);if(t(f)){for(o=new Array(p=f.length),T=0;T<p;++T)o[T]=f[T];return o}}o=[]}else h=this;if(!t(f)){if((y=f[d])!==void 0){for(A=w(y).call(f),h&&(o=new h),_=A.next(),T=0;!_.done;)E=l?i.call(l,m,_.value,T):_.value,h?(a.value=E,u(o,T,a)):o[T]=E,_=A.next(),++T;p=T}else if(r(f)){for(p=f.length,h&&(o=new h),T=0,c=0;T<p;++T)E=f[T],T+1<p&&(x=E.charCodeAt(0),x>=55296&&x<=56319&&(E+=f[++T])),E=l?i.call(l,m,E,c):E,h?(a.value=E,u(o,c,a)):o[c]=E,++c;p=c}}if(p===void 0)for(p=L(f.length),h&&(o=new h(p)),T=0;T<p;++T)E=l?i.call(l,m,f[T],T):f[T],h?(a.value=E,u(o,T,a)):o[T]=E;return h&&(a.value=null,o.length=p),o}},60948:function(H){var U=Object.prototype.toString,e=U.call(function(){return arguments}());H.exports=function(d){return U.call(d)===e}},17024:function(H){var U=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);H.exports=function(d){return typeof d=="function"&&e(U.call(d))}},33208:function(H){H.exports=function(){}},85608:function(H,U,e){H.exports=e(37328)()?Math.sign:e(92928)},37328:function(H){H.exports=function(){var U=Math.sign;return typeof U!="function"?!1:U(10)===1&&U(-20)===-1}},92928:function(H){H.exports=function(U){return U=Number(U),isNaN(U)||U===0?U:U>0?1:-1}},96936:function(H,U,e){var d=e(85608),C=Math.abs,n=Math.floor;H.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:d(L)*n(C(L)))}},81304:function(H,U,e){var d=e(96936),C=Math.max;H.exports=function(n){return C(0,d(n))}},14428:function(H,U,e){var d=e(34044),C=e(9252),n=Function.prototype.bind,L=Function.prototype.call,w=Object.keys,v=Object.prototype.propertyIsEnumerable;H.exports=function(g,r){return function(t,i){var a,u=arguments[2],f=arguments[3];return t=Object(C(t)),d(i),a=w(t),f&&a.sort(typeof f=="function"?n.call(f,t):void 0),typeof g!="function"&&(g=a[g]),L.call(g,a,function(l,m){return v.call(t,l)?L.call(i,u,t[l],l,t,m):r})}}},38452:function(H,U,e){H.exports=e(96276)()?Object.assign:e(81892)},96276:function(H){H.exports=function(){var U=Object.assign,e;return typeof U!="function"?!1:(e={foo:"raz"},U(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(H,U,e){var d=e(54768),C=e(9252),n=Math.max;H.exports=function(L,w){var v,g,r=n(arguments.length,2),t;for(L=Object(C(L)),t=function(i){try{L[i]=w[i]}catch(a){v||(v=a)}},g=1;g<r;++g)w=arguments[g],d(w).forEach(t);if(v!==void 0)throw v;return L}},95920:function(H,U,e){var d=e(74772),C=e(38452),n=e(9252);H.exports=function(L){var w=Object(n(L)),v=arguments[1],g=Object(arguments[2]);if(w!==L&&!v)return w;var r={};return v?d(v,function(t){(g.ensure||t in L)&&(r[t]=L[t])}):C(r,L),r}},14452:function(H,U,e){var d=Object.create,C;e(63092)()||(C=e(8672)),H.exports=function(){var n,L,w;return!C||C.level!==1?d:(n={},L={},w={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=w}),Object.defineProperties(n,L),Object.defineProperty(C,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:n}),function(v,g){return d(v===null?n:v,g)})}()},42748:function(H,U,e){H.exports=e(14428)("forEach")},69127:function(H,U,e){var d=e(42584),C={function:!0,object:!0};H.exports=function(n){return d(n)&&C[typeof n]||!1}},42584:function(H,U,e){var d=e(33208)();H.exports=function(C){return C!==d&&C!==null}},54768:function(H,U,e){H.exports=e(87888)()?Object.keys:e(89592)},87888:function(H){H.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(H,U,e){var d=e(42584),C=Object.keys;H.exports=function(n){return C(d(n)?Object(n):n)}},84323:function(H,U,e){var d=e(34044),C=e(42748),n=Function.prototype.call;H.exports=function(L,w){var v={},g=arguments[2];return d(w),C(L,function(r,t,i,a){v[t]=n.call(w,g,r,t,i,a)}),v}},50868:function(H,U,e){var d=e(42584),C=Array.prototype.forEach,n=Object.create,L=function(w,v){var g;for(g in w)v[g]=w[g]};H.exports=function(w){var v=n(null);return C.call(arguments,function(g){d(g)&&L(Object(g),v)}),v}},69932:function(H,U,e){H.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(H){var U=Object.create,e=Object.getPrototypeOf,d={};H.exports=function(){var C=Object.setPrototypeOf,n=arguments[0]||U;return typeof C!="function"?!1:e(C(n(null),d))===d}},8672:function(H,U,e){var d=e(69127),C=e(9252),n=Object.prototype.isPrototypeOf,L=Object.defineProperty,w={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(g,r){if(C(g),r===null||d(r))return g;throw new TypeError("Prototype must be null or an object")},H.exports=function(g){var r,t;return g?(g.level===2?g.set?(t=g.set,r=function(i,a){return t.call(v(i,a),a),i}):r=function(i,a){return v(i,a).__proto__=a,i}:r=function i(a,u){var f;return v(a,u),f=n.call(i.nullPolyfill,a),f&&delete i.nullPolyfill.__proto__,u===null&&(u=i.nullPolyfill),a.__proto__=u,f&&L(i.nullPolyfill,"__proto__",w),a},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:g.level})):null}(function(){var g=Object.create(null),r={},t,i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{t=i.set,t.call(g,r)}catch{}if(Object.getPrototypeOf(g)===r)return{set:t,level:2}}return g.__proto__=r,Object.getPrototypeOf(g)===r?{level:2}:(g={},g.__proto__=r,Object.getPrototypeOf(g)===r?{level:1}:!1)}()),e(14452)},34044:function(H){H.exports=function(U){if(typeof U!="function")throw new TypeError(U+" is not a function");return U}},92584:function(H,U,e){var d=e(69127);H.exports=function(C){if(!d(C))throw new TypeError(C+" is not an Object");return C}},9252:function(H,U,e){var d=e(42584);H.exports=function(C){if(!d(C))throw new TypeError("Cannot use null or undefined");return C}},71056:function(H,U,e){H.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(H){var U="razdwatrzy";H.exports=function(){return typeof U.contains!="function"?!1:U.contains("dwa")===!0&&U.contains("foo")===!1}},93040:function(H){var U=String.prototype.indexOf;H.exports=function(e){return U.call(this,e,arguments[1])>-1}},29768:function(H){var U=Object.prototype.toString,e=U.call("");H.exports=function(d){return typeof d=="string"||d&&typeof d=="object"&&(d instanceof String||U.call(d)===e)||!1}},82252:function(H){var U=Object.create(null),e=Math.random;H.exports=function(){var d;do d=e().toString(36).slice(2);while(U[d]);return d}},52104:function(H,U,e){var d=e(69932),C=e(71056),n=e(21092),L=e(92664),w=e(85512),v=Object.defineProperty,g;g=H.exports=function(r,t){if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");w.call(this,r),t?C.call(t,"key+value")?t="key+value":C.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",n("",t))},d&&d(g,w),delete g.prototype.constructor,g.prototype=Object.create(w.prototype,{_resolve:n(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(g.prototype,L.toStringTag,n("c","Array Iterator"))},76024:function(H,U,e){var d=e(60948),C=e(34044),n=e(29768),L=e(76252),w=Array.isArray,v=Function.prototype.call,g=Array.prototype.some;H.exports=function(r,t){var i,a=arguments[2],u,f,l,m,h,T,c;if(w(r)||d(r)?i="array":n(r)?i="string":r=L(r),C(t),f=function(){l=!0},i==="array"){g.call(r,function(o){return v.call(t,a,o,f),l});return}if(i==="string"){for(h=r.length,m=0;m<h&&(T=r[m],m+1<h&&(c=T.charCodeAt(0),c>=55296&&c<=56319&&(T+=r[++m])),v.call(t,a,T,f),!l);++m);return}for(u=r.next();!u.done;){if(v.call(t,a,u.value,f),l)return;u=r.next()}}},76252:function(H,U,e){var d=e(60948),C=e(29768),n=e(52104),L=e(80940),w=e(52891),v=e(92664).iterator;H.exports=function(g){return typeof w(g)[v]=="function"?g[v]():d(g)?new n(g):C(g)?new L(g):new n(g)}},85512:function(H,U,e){var d=e(41476),C=e(38452),n=e(34044),L=e(9252),w=e(21092),v=e(27940),g=e(92664),r=Object.defineProperty,t=Object.defineProperties,i;H.exports=i=function(a,u){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");t(this,{__list__:w("w",L(a)),__context__:w("w",u),__nextIndex__:w("w",0)}),u&&(n(u.on),u.on("_add",this._onAdd),u.on("_delete",this._onDelete),u.on("_clear",this._onClear))},delete i.prototype.constructor,t(i.prototype,C({_next:w(function(){var a;if(this.__list__){if(this.__redo__&&(a=this.__redo__.shift(),a!==void 0))return a;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:w(function(){return this._createResult(this._next())}),_createResult:w(function(a){return a===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(a)}}),_resolve:w(function(a){return this.__list__[a]}),_unBind:w(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:w(function(){return"[object "+(this[g.toStringTag]||"Object")+"]"})},v({_onAdd:w(function(a){if(!(a>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",w("c",[a]));return}this.__redo__.forEach(function(u,f){u>=a&&(this.__redo__[f]=++u)},this),this.__redo__.push(a)}}),_onDelete:w(function(a){var u;a>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(u=this.__redo__.indexOf(a),u!==-1&&this.__redo__.splice(u,1),this.__redo__.forEach(function(f,l){f>a&&(this.__redo__[l]=--f)},this)))}),_onClear:w(function(){this.__redo__&&d.call(this.__redo__),this.__nextIndex__=0})}))),r(i.prototype,g.iterator,w(function(){return this}))},76368:function(H,U,e){var d=e(60948),C=e(42584),n=e(29768),L=e(92664).iterator,w=Array.isArray;H.exports=function(v){return C(v)?w(v)||n(v)||d(v)?!0:typeof v[L]=="function":!1}},80940:function(H,U,e){var d=e(69932),C=e(21092),n=e(92664),L=e(85512),w=Object.defineProperty,v;v=H.exports=function(g){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");g=String(g),L.call(this,g),w(this,"__length__",C("",g.length))},d&&d(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:C(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:C(function(g){var r=this.__list__[g],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),w(v.prototype,n.toStringTag,C("c","String Iterator"))},52891:function(H,U,e){var d=e(76368);H.exports=function(C){if(!d(C))throw new TypeError(C+" is not iterable");return C}},60964:function(H){function U(d,C){if(d==null)throw new TypeError("Cannot convert first argument to object");for(var n=Object(d),L=1;L<arguments.length;L++){var w=arguments[L];if(w!=null)for(var v=Object.keys(Object(w)),g=0,r=v.length;g<r;g++){var t=v[g],i=Object.getOwnPropertyDescriptor(w,t);i!==void 0&&i.enumerable&&(n[t]=w[t])}}return n}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:U})}H.exports={assign:U,polyfill:e}},92664:function(H,U,e){H.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(H,U,e){var d=e(12296),C={object:!0,symbol:!0};H.exports=function(){var n=d.Symbol,L;if(typeof n!="function")return!1;L=n("test symbol");try{String(L)}catch{return!1}return!(!C[typeof n.iterator]||!C[typeof n.toPrimitive]||!C[typeof n.toStringTag])}},53908:function(H){H.exports=function(U){return U?typeof U=="symbol"?!0:!U.constructor||U.constructor.name!=="Symbol"?!1:U[U.constructor.toStringTag]==="Symbol":!1}},96863:function(H,U,e){var d=e(21092),C=Object.create,n=Object.defineProperty,L=Object.prototype,w=C(null);H.exports=function(v){for(var g=0,r,t;w[v+(g||"")];)++g;return v+=g||"",w[v]=!0,r="@@"+v,n(L,r,d.gs(null,function(i){t||(t=!0,n(this,r,d(i)),t=!1)})),r}},53540:function(H,U,e){var d=e(21092),C=e(12296).Symbol;H.exports=function(n){return Object.defineProperties(n,{hasInstance:d("",C&&C.hasInstance||n("hasInstance")),isConcatSpreadable:d("",C&&C.isConcatSpreadable||n("isConcatSpreadable")),iterator:d("",C&&C.iterator||n("iterator")),match:d("",C&&C.match||n("match")),replace:d("",C&&C.replace||n("replace")),search:d("",C&&C.search||n("search")),species:d("",C&&C.species||n("species")),split:d("",C&&C.split||n("split")),toPrimitive:d("",C&&C.toPrimitive||n("toPrimitive")),toStringTag:d("",C&&C.toStringTag||n("toStringTag")),unscopables:d("",C&&C.unscopables||n("unscopables"))})}},73852:function(H,U,e){var d=e(21092),C=e(63948),n=Object.create(null);H.exports=function(L){return Object.defineProperties(L,{for:d(function(w){return n[w]?n[w]:n[w]=L(String(w))}),keyFor:d(function(w){var v;C(w);for(v in n)if(n[v]===w)return v})})}},18376:function(H,U,e){var d=e(21092),C=e(63948),n=e(12296).Symbol,L=e(96863),w=e(53540),v=e(73852),g=Object.create,r=Object.defineProperties,t=Object.defineProperty,i,a,u;if(typeof n=="function")try{String(n()),u=!0}catch{}else n=null;a=function(l){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return i(l)},H.exports=i=function f(l){var m;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return u?n(l):(m=g(a.prototype),l=l===void 0?"":String(l),r(m,{__description__:d("",l),__name__:d("",L(l))}))},w(i),v(i),r(a.prototype,{constructor:d(i),toString:d("",function(){return this.__name__})}),r(i.prototype,{toString:d(function(){return"Symbol ("+C(this).__description__+")"}),valueOf:d(function(){return C(this)})}),t(i.prototype,i.toPrimitive,d("",function(){var f=C(this);return typeof f=="symbol"?f:f.toString()})),t(i.prototype,i.toStringTag,d("c","Symbol")),t(a.prototype,i.toStringTag,d("c",i.prototype[i.toStringTag])),t(a.prototype,i.toPrimitive,d("c",i.prototype[i.toPrimitive]))},63948:function(H,U,e){var d=e(53908);H.exports=function(C){if(!d(C))throw new TypeError(C+" is not a symbol");return C}},60463:function(H,U,e){H.exports=e(96979)()?WeakMap:e(64864)},96979:function(H){H.exports=function(){var U,e;if(typeof WeakMap!="function")return!1;try{U=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(U)!=="[object WeakMap]"||typeof U.set!="function"||U.set({},1)!==U||typeof U.delete!="function"||typeof U.has!="function"||U.get(e)!=="one")}},69876:function(H){H.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(H,U,e){var d=e(42584),C=e(69932),n=e(92584),L=e(9252),w=e(82252),v=e(21092),g=e(76252),r=e(76024),t=e(92664).toStringTag,i=e(69876),a=Array.isArray,u=Object.defineProperty,f=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,m;H.exports=m=function(){var h=arguments[0],T;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return T=i&&C&&WeakMap!==m?C(new WeakMap,l(this)):this,d(h)&&(a(h)||(h=g(h))),u(T,"__weakMapData__",v("c","$weakMap$"+w())),h&&r(h,function(c){L(c),T.set(c[0],c[1])}),T},i&&(C&&C(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:v(m)})),Object.defineProperties(m.prototype,{delete:v(function(h){return f.call(n(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(f.call(n(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return f.call(n(h),this.__weakMapData__)}),set:v(function(h,T){return u(n(h),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),u(m.prototype,t,v("c","WeakMap"))},61252:function(H){var U=typeof Reflect=="object"?Reflect:null,e=U&&typeof U.apply=="function"?U.apply:function(p,x,A){return Function.prototype.apply.call(p,x,A)},d;U&&typeof U.ownKeys=="function"?d=U.ownKeys:Object.getOwnPropertySymbols?d=function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:d=function(p){return Object.getOwnPropertyNames(p)};function C(o){console&&console.warn&&console.warn(o)}var n=Number.isNaN||function(p){return p!==p};function L(){L.init.call(this)}H.exports=L,H.exports.once=h,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var w=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(o){if(typeof o!="number"||o<0||n(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");w=o}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||n(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this};function g(o){return o._maxListeners===void 0?L.defaultMaxListeners:o._maxListeners}L.prototype.getMaxListeners=function(){return g(this)},L.prototype.emit=function(p){for(var x=[],A=1;A<arguments.length;A++)x.push(arguments[A]);var _=p==="error",y=this._events;if(y!==void 0)_=_&&y.error===void 0;else if(!_)return!1;if(_){var E;if(x.length>0&&(E=x[0]),E instanceof Error)throw E;var M=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw M.context=E,M}var s=y[p];if(s===void 0)return!1;if(typeof s=="function")e(s,this,x);else for(var S=s.length,b=f(s,S),A=0;A<S;++A)e(b[A],this,x);return!0};function r(o,p,x,A){var _,y,E;if(v(x),y=o._events,y===void 0?(y=o._events=Object.create(null),o._eventsCount=0):(y.newListener!==void 0&&(o.emit("newListener",p,x.listener?x.listener:x),y=o._events),E=y[p]),E===void 0)E=y[p]=x,++o._eventsCount;else if(typeof E=="function"?E=y[p]=A?[x,E]:[E,x]:A?E.unshift(x):E.push(x),_=g(o),_>0&&E.length>_&&!E.warned){E.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=o,M.type=p,M.count=E.length,C(M)}return o}L.prototype.addListener=function(p,x){return r(this,p,x,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(p,x){return r(this,p,x,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(o,p,x){var A={fired:!1,wrapFn:void 0,target:o,type:p,listener:x},_=t.bind(A);return _.listener=x,A.wrapFn=_,_}L.prototype.once=function(p,x){return v(x),this.on(p,i(this,p,x)),this},L.prototype.prependOnceListener=function(p,x){return v(x),this.prependListener(p,i(this,p,x)),this},L.prototype.removeListener=function(p,x){var A,_,y,E,M;if(v(x),_=this._events,_===void 0)return this;if(A=_[p],A===void 0)return this;if(A===x||A.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete _[p],_.removeListener&&this.emit("removeListener",p,A.listener||x));else if(typeof A!="function"){for(y=-1,E=A.length-1;E>=0;E--)if(A[E]===x||A[E].listener===x){M=A[E].listener,y=E;break}if(y<0)return this;y===0?A.shift():l(A,y),A.length===1&&(_[p]=A[0]),_.removeListener!==void 0&&this.emit("removeListener",p,M||x)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(p){var x,A,_;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[p]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[p]),this;if(arguments.length===0){var y=Object.keys(A),E;for(_=0;_<y.length;++_)E=y[_],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=A[p],typeof x=="function")this.removeListener(p,x);else if(x!==void 0)for(_=x.length-1;_>=0;_--)this.removeListener(p,x[_]);return this};function a(o,p,x){var A=o._events;if(A===void 0)return[];var _=A[p];return _===void 0?[]:typeof _=="function"?x?[_.listener||_]:[_]:x?m(_):f(_,_.length)}L.prototype.listeners=function(p){return a(this,p,!0)},L.prototype.rawListeners=function(p){return a(this,p,!1)},L.listenerCount=function(o,p){return typeof o.listenerCount=="function"?o.listenerCount(p):u.call(o,p)},L.prototype.listenerCount=u;function u(o){var p=this._events;if(p!==void 0){var x=p[o];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]};function f(o,p){for(var x=new Array(p),A=0;A<p;++A)x[A]=o[A];return x}function l(o,p){for(;p+1<o.length;p++)o[p]=o[p+1];o.pop()}function m(o){for(var p=new Array(o.length),x=0;x<p.length;++x)p[x]=o[x].listener||o[x];return p}function h(o,p){return new Promise(function(x,A){function _(E){o.removeListener(p,y),A(E)}function y(){typeof o.removeListener=="function"&&o.removeListener("error",_),x([].slice.call(arguments))}c(o,p,y,{once:!0}),p!=="error"&&T(o,_,{once:!0})})}function T(o,p,x){typeof o.on=="function"&&c(o,"error",p,x)}function c(o,p,x,A){if(typeof o.on=="function")A.once?o.once(p,x):o.on(p,x);else if(typeof o.addEventListener=="function")o.addEventListener(p,function _(y){A.once&&o.removeEventListener(p,_),x(y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},39072:function(H){var U=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};H.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return U()}try{return __global__||U()}finally{delete Object.prototype.__global__}}()},12296:function(H,U,e){H.exports=e(45072)()?globalThis:e(39072)},45072:function(H){H.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(H,U,e){var d=e(94576);H.exports=function(C){var n=typeof C;if(n==="string"){var L=C;if(C=+C,C===0&&d(L))return!1}else if(n!=="number")return!1;return C-C<1}},47520:function(H,U,e){var d=e(72512);H.exports=C;function C(n,L,w){if(!n)throw new TypeError("must specify data as first parameter");if(w=+(w||0)|0,Array.isArray(n)&&n[0]&&typeof n[0][0]=="number"){var v=n[0].length,g=n.length*v,r,t,i,a;(!L||typeof L=="string")&&(L=new(d(L||"float32"))(g+w));var u=L.length-w;if(g!==u)throw new Error("source length "+g+" ("+v+"x"+n.length+") does not match destination length "+u);for(r=0,i=w;r<n.length;r++)for(t=0;t<v;t++)L[i++]=n[r][t]===null?NaN:n[r][t]}else if(!L||typeof L=="string"){var f=d(L||"float32");if(Array.isArray(n)||L==="array")for(L=new f(n.length+w),r=0,i=w,a=L.length;i<a;i++,r++)L[i]=n[r]===null?NaN:n[r];else w===0?L=new f(n):(L=new f(n.length+w),L.set(n,w))}else L.set(n,w);return L}},33888:function(H,U,e){var d=e(49395),C=[32,126];H.exports=n;function n(L){L=L||{};var w=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),g=L.font,r=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],t=L.chars||C;if(g&&typeof g!="string"&&(g=d(g)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],a=t[0],u=0;a<=t[1];a++)i[u++]=String.fromCharCode(a);t=i}w=w.slice(),v.width=w[0],v.height=w[1];var f=v.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,v.width,v.height),f.font=g,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";for(var l=r[0]/2,m=r[1]/2,a=0;a<t.length;a++)f.fillText(t[a],l,m),(l+=r[0])>w[0]-r[0]/2&&(l=r[0]/2,m+=r[1]);return v}},71920:function(H){H.exports=U,U.canvas=document.createElement("canvas"),U.cache={};function U(t,L){L||(L={}),(typeof t=="string"||Array.isArray(t))&&(L.family=t);var w=Array.isArray(L.family)?L.family.join(", "):L.family;if(!w)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,g=L.weight||L.fontWeight||"",r=L.style||L.fontStyle||"",t=[r,g,v].join(" ")+"px "+w,i=L.origin||"top";if(U.cache[w]&&v<=U.cache[w].em)return e(U.cache[w],i);var a=L.canvas||U.canvas,u=a.getContext("2d"),f={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},l=Math.ceil(v*1.5);a.height=l,a.width=l*.5,u.font=t;var m="H",h={top:0};u.clearRect(0,0,l,l),u.textBaseline="top",u.fillStyle="black",u.fillText(m,0,0);var T=d(u.getImageData(0,0,l,l));u.clearRect(0,0,l,l),u.textBaseline="bottom",u.fillText(m,0,l);var c=d(u.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-c+T,u.clearRect(0,0,l,l),u.textBaseline="alphabetic",u.fillText(m,0,l);var o=d(u.getImageData(0,0,l,l)),p=l-o-1+T;h.baseline=h.alphabetic=p,u.clearRect(0,0,l,l),u.textBaseline="middle",u.fillText(m,0,l*.5);var x=d(u.getImageData(0,0,l,l));h.median=h.middle=l-x-1+T-l*.5,u.clearRect(0,0,l,l),u.textBaseline="hanging",u.fillText(m,0,l*.5);var A=d(u.getImageData(0,0,l,l));h.hanging=l-A-1+T-l*.5,u.clearRect(0,0,l,l),u.textBaseline="ideographic",u.fillText(m,0,l);var _=d(u.getImageData(0,0,l,l));if(h.ideographic=l-_-1+T,f.upper&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.upper,0,0),h.upper=d(u.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),f.lower&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.lower,0,0),h.lower=d(u.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),f.tittle&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.tittle,0,0),h.tittle=d(u.getImageData(0,0,l,l))),f.ascent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.ascent,0,0),h.ascent=d(u.getImageData(0,0,l,l))),f.descent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.descent,0,0),h.descent=C(u.getImageData(0,0,l,l))),f.overshoot){u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(f.overshoot,0,0);var y=C(u.getImageData(0,0,l,l));h.overshoot=y-p}for(var E in h)h[E]/=v;return h.em=v,U.cache[w]=h,e(h,i)}function e(n,L){var w={};typeof L=="string"&&(L=n[L]);for(var v in n)v!=="em"&&(w[v]=n[v]-L);return w}function d(n){for(var L=n.height,w=n.data,v=3;v<w.length;v+=4)if(w[v]!==0)return Math.floor((v-3)*.25/L)}function C(n){for(var L=n.height,w=n.data,v=w.length-1;v>0;v-=4)if(w[v]!==0)return Math.floor((v-3)*.25/L)}},46492:function(H,U,e){var d=e(90720),C=Object.prototype.toString,n=Object.prototype.hasOwnProperty,L=function(t,i,a){for(var u=0,f=t.length;u<f;u++)n.call(t,u)&&(a==null?i(t[u],u,t):i.call(a,t[u],u,t))},w=function(t,i,a){for(var u=0,f=t.length;u<f;u++)a==null?i(t.charAt(u),u,t):i.call(a,t.charAt(u),u,t)},v=function(t,i,a){for(var u in t)n.call(t,u)&&(a==null?i(t[u],u,t):i.call(a,t[u],u,t))},g=function(t,i,a){if(!d(i))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=a),C.call(t)==="[object Array]"?L(t,i,u):typeof t=="string"?w(t,i,u):v(t,i,u)};H.exports=g},74336:function(H){var U="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,d=Math.max,C="[object Function]",n=function(g,r){for(var t=[],i=0;i<g.length;i+=1)t[i]=g[i];for(var a=0;a<r.length;a+=1)t[a+g.length]=r[a];return t},L=function(g,r){for(var t=[],i=r||0,a=0;i<g.length;i+=1,a+=1)t[a]=g[i];return t},w=function(v,g){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=g);return r};H.exports=function(g){var r=this;if(typeof r!="function"||e.apply(r)!==C)throw new TypeError(U+r);for(var t=L(arguments,1),i,a=function(){if(this instanceof i){var h=r.apply(this,n(t,arguments));return Object(h)===h?h:this}return r.apply(g,n(t,arguments))},u=d(0,r.length-t.length),f=[],l=0;l<u;l++)f[l]="$"+l;if(i=Function("binder","return function ("+w(f,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}},8844:function(H,U,e){var d=e(74336);H.exports=Function.prototype.bind||d},13380:function(H){H.exports=U;function U(e,d){if(typeof e!="string")throw new TypeError("must specify type string");if(d=d||{},typeof document>"u"&&!d.canvas)return null;var C=d.canvas||document.createElement("canvas");typeof d.width=="number"&&(C.width=d.width),typeof d.height=="number"&&(C.height=d.height);var n=d,L;try{var w=[e];e.indexOf("webgl")===0&&w.push("experimental-"+e);for(var v=0;v<w.length;v++)if(L=C.getContext(w[v],n),L)return L}catch{L=null}return L||null}},53664:function(H,U,e){var d,C=SyntaxError,n=Function,L=TypeError,w=function(b){try{return n('"use strict"; return ('+b+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var g=function(){throw new L},r=v?function(){try{return arguments.callee,g}catch{try{return v(arguments,"callee").get}catch{return g}}}():g,t=e(71080)(),i=e(69572)(),a=Object.getPrototypeOf||(i?function(b){return b.__proto__}:null),u={},f=typeof Uint8Array>"u"||!a?d:a(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?d:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?d:ArrayBuffer,"%ArrayIteratorPrototype%":t&&a?a([][Symbol.iterator]()):d,"%AsyncFromSyncIteratorPrototype%":d,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?d:Atomics,"%BigInt%":typeof BigInt>"u"?d:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?d:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?d:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?d:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?d:Float32Array,"%Float64Array%":typeof Float64Array>"u"?d:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?d:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array>"u"?d:Int8Array,"%Int16Array%":typeof Int16Array>"u"?d:Int16Array,"%Int32Array%":typeof Int32Array>"u"?d:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&a?a(a([][Symbol.iterator]())):d,"%JSON%":typeof JSON=="object"?JSON:d,"%Map%":typeof Map>"u"?d:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!a?d:a(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?d:Promise,"%Proxy%":typeof Proxy>"u"?d:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?d:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?d:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!a?d:a(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?d:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&a?a(""[Symbol.iterator]()):d,"%Symbol%":t?Symbol:d,"%SyntaxError%":C,"%ThrowTypeError%":r,"%TypedArray%":f,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?d:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?d:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?d:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?d:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?d:WeakMap,"%WeakRef%":typeof WeakRef>"u"?d:WeakRef,"%WeakSet%":typeof WeakSet>"u"?d:WeakSet};if(a)try{null.error}catch(b){var m=a(a(b));l["%Error.prototype%"]=m}var h=function b(I){var D;if(I==="%AsyncFunction%")D=w("async function () {}");else if(I==="%GeneratorFunction%")D=w("function* () {}");else if(I==="%AsyncGeneratorFunction%")D=w("async function* () {}");else if(I==="%AsyncGenerator%"){var B=b("%AsyncGeneratorFunction%");B&&(D=B.prototype)}else if(I==="%AsyncIteratorPrototype%"){var k=b("%AsyncGenerator%");k&&a&&(D=a(k.prototype))}return l[I]=D,D},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),o=e(92064),p=c.call(Function.call,Array.prototype.concat),x=c.call(Function.apply,Array.prototype.splice),A=c.call(Function.call,String.prototype.replace),_=c.call(Function.call,String.prototype.slice),y=c.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,s=function(I){var D=_(I,0,1),B=_(I,-1);if(D==="%"&&B!=="%")throw new C("invalid intrinsic syntax, expected closing `%`");if(B==="%"&&D!=="%")throw new C("invalid intrinsic syntax, expected opening `%`");var k=[];return A(I,E,function(F,N,O,V){k[k.length]=O?A(V,M,"$1"):N||F}),k},S=function(I,D){var B=I,k;if(o(T,B)&&(k=T[B],B="%"+k[0]+"%"),o(l,B)){var F=l[B];if(F===u&&(F=h(B)),typeof F>"u"&&!D)throw new L("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:k,name:B,value:F}}throw new C("intrinsic "+I+" does not exist!")};H.exports=function(I,D){if(typeof I!="string"||I.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new L('"allowMissing" argument must be a boolean');if(y(/^%?[^%]*%?$/,I)===null)throw new C("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var B=s(I),k=B.length>0?B[0]:"",F=S("%"+k+"%",D),N=F.name,O=F.value,V=!1,X=F.alias;X&&(k=X[0],x(B,p([0,1],X)));for(var ee=1,ne=!0;ee<B.length;ee+=1){var q=B[ee],se=_(q,0,1),J=_(q,-1);if((se==='"'||se==="'"||se==="`"||J==='"'||J==="'"||J==="`")&&se!==J)throw new C("property names with quotes must have matching quotes");if((q==="constructor"||!ne)&&(V=!0),k+="."+q,N="%"+k+"%",o(l,N))O=l[N];else if(O!=null){if(!(q in O)){if(!D)throw new L("base intrinsic for "+I+" exists, but the property is not available.");return}if(v&&ee+1>=B.length){var Z=v(O,q);ne=!!Z,ne&&"get"in Z&&!("originalValue"in Z.get)?O=Z.get:O=O[q]}else ne=o(O,q),O=O[q];ne&&!V&&(l[N]=O)}}return O}},12408:function(H){H.exports=U;function U(e,d){var C=d[0],n=d[1],L=d[2],w=d[3],v=d[4],g=d[5],r=d[6],t=d[7],i=d[8],a=d[9],u=d[10],f=d[11],l=d[12],m=d[13],h=d[14],T=d[15];return e[0]=g*(u*T-f*h)-a*(r*T-t*h)+m*(r*f-t*u),e[1]=-(n*(u*T-f*h)-a*(L*T-w*h)+m*(L*f-w*u)),e[2]=n*(r*T-t*h)-g*(L*T-w*h)+m*(L*t-w*r),e[3]=-(n*(r*f-t*u)-g*(L*f-w*u)+a*(L*t-w*r)),e[4]=-(v*(u*T-f*h)-i*(r*T-t*h)+l*(r*f-t*u)),e[5]=C*(u*T-f*h)-i*(L*T-w*h)+l*(L*f-w*u),e[6]=-(C*(r*T-t*h)-v*(L*T-w*h)+l*(L*t-w*r)),e[7]=C*(r*f-t*u)-v*(L*f-w*u)+i*(L*t-w*r),e[8]=v*(a*T-f*m)-i*(g*T-t*m)+l*(g*f-t*a),e[9]=-(C*(a*T-f*m)-i*(n*T-w*m)+l*(n*f-w*a)),e[10]=C*(g*T-t*m)-v*(n*T-w*m)+l*(n*t-w*g),e[11]=-(C*(g*f-t*a)-v*(n*f-w*a)+i*(n*t-w*g)),e[12]=-(v*(a*h-u*m)-i*(g*h-r*m)+l*(g*u-r*a)),e[13]=C*(a*h-u*m)-i*(n*h-L*m)+l*(n*u-L*a),e[14]=-(C*(g*h-r*m)-v*(n*h-L*m)+l*(n*r-L*g)),e[15]=C*(g*u-r*a)-v*(n*u-L*a)+i*(n*r-L*g),e}},76860:function(H){H.exports=U;function U(e){var d=new Float32Array(16);return d[0]=e[0],d[1]=e[1],d[2]=e[2],d[3]=e[3],d[4]=e[4],d[5]=e[5],d[6]=e[6],d[7]=e[7],d[8]=e[8],d[9]=e[9],d[10]=e[10],d[11]=e[11],d[12]=e[12],d[13]=e[13],d[14]=e[14],d[15]=e[15],d}},64492:function(H){H.exports=U;function U(e,d){return e[0]=d[0],e[1]=d[1],e[2]=d[2],e[3]=d[3],e[4]=d[4],e[5]=d[5],e[6]=d[6],e[7]=d[7],e[8]=d[8],e[9]=d[9],e[10]=d[10],e[11]=d[11],e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15],e}},54212:function(H){H.exports=U;function U(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(H){H.exports=U;function U(e){var d=e[0],C=e[1],n=e[2],L=e[3],w=e[4],v=e[5],g=e[6],r=e[7],t=e[8],i=e[9],a=e[10],u=e[11],f=e[12],l=e[13],m=e[14],h=e[15],T=d*v-C*w,c=d*g-n*w,o=d*r-L*w,p=C*g-n*v,x=C*r-L*v,A=n*r-L*g,_=t*l-i*f,y=t*m-a*f,E=t*h-u*f,M=i*m-a*l,s=i*h-u*l,S=a*h-u*m;return T*S-c*s+o*M+p*E-x*y+A*_}},61784:function(H){H.exports=U;function U(e,d){var C=d[0],n=d[1],L=d[2],w=d[3],v=C+C,g=n+n,r=L+L,t=C*v,i=n*v,a=n*g,u=L*v,f=L*g,l=L*r,m=w*v,h=w*g,T=w*r;return e[0]=1-a-l,e[1]=i+T,e[2]=u-h,e[3]=0,e[4]=i-T,e[5]=1-t-l,e[6]=f+m,e[7]=0,e[8]=u+h,e[9]=f-m,e[10]=1-t-a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(H){H.exports=U;function U(e,d,C){var n,L,w,v=C[0],g=C[1],r=C[2],t=Math.sqrt(v*v+g*g+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,g*=t,r*=t,n=Math.sin(d),L=Math.cos(d),w=1-L,e[0]=v*v*w+L,e[1]=g*v*w+r*n,e[2]=r*v*w-g*n,e[3]=0,e[4]=v*g*w-r*n,e[5]=g*g*w+L,e[6]=r*g*w+v*n,e[7]=0,e[8]=v*r*w+g*n,e[9]=g*r*w-v*n,e[10]=r*r*w+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(H){H.exports=U;function U(e,d,C){var n=d[0],L=d[1],w=d[2],v=d[3],g=n+n,r=L+L,t=w+w,i=n*g,a=n*r,u=n*t,f=L*r,l=L*t,m=w*t,h=v*g,T=v*r,c=v*t;return e[0]=1-(f+m),e[1]=a+c,e[2]=u-T,e[3]=0,e[4]=a-c,e[5]=1-(i+m),e[6]=l+h,e[7]=0,e[8]=u+T,e[9]=l-h,e[10]=1-(i+f),e[11]=0,e[12]=C[0],e[13]=C[1],e[14]=C[2],e[15]=1,e}},69444:function(H){H.exports=U;function U(e,d){return e[0]=d[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=d[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(H){H.exports=U;function U(e,d){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=d[0],e[13]=d[1],e[14]=d[2],e[15]=1,e}},21856:function(H){H.exports=U;function U(e,d){var C=Math.sin(d),n=Math.cos(d);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=C,e[7]=0,e[8]=0,e[9]=-C,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(H){H.exports=U;function U(e,d){var C=Math.sin(d),n=Math.cos(d);return e[0]=n,e[1]=0,e[2]=-C,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=C,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(H){H.exports=U;function U(e,d){var C=Math.sin(d),n=Math.cos(d);return e[0]=n,e[1]=C,e[2]=0,e[3]=0,e[4]=-C,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(H){H.exports=U;function U(e,d,C,n,L,w,v){var g=1/(C-d),r=1/(L-n),t=1/(w-v);return e[0]=w*2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=w*2*r,e[6]=0,e[7]=0,e[8]=(C+d)*g,e[9]=(L+n)*r,e[10]=(v+w)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*w*2*t,e[15]=0,e}},36635:function(H){H.exports=U;function U(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(H,U,e){H.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(H){H.exports=U;function U(e,d){var C=d[0],n=d[1],L=d[2],w=d[3],v=d[4],g=d[5],r=d[6],t=d[7],i=d[8],a=d[9],u=d[10],f=d[11],l=d[12],m=d[13],h=d[14],T=d[15],c=C*g-n*v,o=C*r-L*v,p=C*t-w*v,x=n*r-L*g,A=n*t-w*g,_=L*t-w*r,y=i*m-a*l,E=i*h-u*l,M=i*T-f*l,s=a*h-u*m,S=a*T-f*m,b=u*T-f*h,I=c*b-o*S+p*s+x*M-A*E+_*y;return I?(I=1/I,e[0]=(g*b-r*S+t*s)*I,e[1]=(L*S-n*b-w*s)*I,e[2]=(m*_-h*A+T*x)*I,e[3]=(u*A-a*_-f*x)*I,e[4]=(r*M-v*b-t*E)*I,e[5]=(C*b-L*M+w*E)*I,e[6]=(h*p-l*_-T*o)*I,e[7]=(i*_-u*p+f*o)*I,e[8]=(v*S-g*M+t*y)*I,e[9]=(n*M-C*S-w*y)*I,e[10]=(l*A-m*p+T*c)*I,e[11]=(a*p-i*A-f*c)*I,e[12]=(g*E-v*s-r*y)*I,e[13]=(C*s-n*E+L*y)*I,e[14]=(m*o-l*x-h*c)*I,e[15]=(i*x-a*o+u*c)*I,e):null}},56508:function(H,U,e){var d=e(36635);H.exports=C;function C(n,L,w,v){var g,r,t,i,a,u,f,l,m,h,T=L[0],c=L[1],o=L[2],p=v[0],x=v[1],A=v[2],_=w[0],y=w[1],E=w[2];return Math.abs(T-_)<1e-6&&Math.abs(c-y)<1e-6&&Math.abs(o-E)<1e-6?d(n):(f=T-_,l=c-y,m=o-E,h=1/Math.sqrt(f*f+l*l+m*m),f*=h,l*=h,m*=h,g=x*m-A*l,r=A*f-p*m,t=p*l-x*f,h=Math.sqrt(g*g+r*r+t*t),h?(h=1/h,g*=h,r*=h,t*=h):(g=0,r=0,t=0),i=l*t-m*r,a=m*g-f*t,u=f*r-l*g,h=Math.sqrt(i*i+a*a+u*u),h?(h=1/h,i*=h,a*=h,u*=h):(i=0,a=0,u=0),n[0]=g,n[1]=i,n[2]=f,n[3]=0,n[4]=r,n[5]=a,n[6]=l,n[7]=0,n[8]=t,n[9]=u,n[10]=m,n[11]=0,n[12]=-(g*T+r*c+t*o),n[13]=-(i*T+a*c+u*o),n[14]=-(f*T+l*c+m*o),n[15]=1,n)}},80944:function(H){H.exports=U;function U(e,d,C){var n=d[0],L=d[1],w=d[2],v=d[3],g=d[4],r=d[5],t=d[6],i=d[7],a=d[8],u=d[9],f=d[10],l=d[11],m=d[12],h=d[13],T=d[14],c=d[15],o=C[0],p=C[1],x=C[2],A=C[3];return e[0]=o*n+p*g+x*a+A*m,e[1]=o*L+p*r+x*u+A*h,e[2]=o*w+p*t+x*f+A*T,e[3]=o*v+p*i+x*l+A*c,o=C[4],p=C[5],x=C[6],A=C[7],e[4]=o*n+p*g+x*a+A*m,e[5]=o*L+p*r+x*u+A*h,e[6]=o*w+p*t+x*f+A*T,e[7]=o*v+p*i+x*l+A*c,o=C[8],p=C[9],x=C[10],A=C[11],e[8]=o*n+p*g+x*a+A*m,e[9]=o*L+p*r+x*u+A*h,e[10]=o*w+p*t+x*f+A*T,e[11]=o*v+p*i+x*l+A*c,o=C[12],p=C[13],x=C[14],A=C[15],e[12]=o*n+p*g+x*a+A*m,e[13]=o*L+p*r+x*u+A*h,e[14]=o*w+p*t+x*f+A*T,e[15]=o*v+p*i+x*l+A*c,e}},97688:function(H){H.exports=U;function U(e,d,C,n,L,w,v){var g=1/(d-C),r=1/(n-L),t=1/(w-v);return e[0]=-2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(d+C)*g,e[13]=(L+n)*r,e[14]=(v+w)*t,e[15]=1,e}},51296:function(H){H.exports=U;function U(e,d,C,n,L){var w=1/Math.tan(d/2),v=1/(n-L);return e[0]=w/C,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=w,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+n)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*n*v,e[15]=0,e}},63688:function(H){H.exports=U;function U(e,d,C,n){var L=Math.tan(d.upDegrees*Math.PI/180),w=Math.tan(d.downDegrees*Math.PI/180),v=Math.tan(d.leftDegrees*Math.PI/180),g=Math.tan(d.rightDegrees*Math.PI/180),r=2/(v+g),t=2/(L+w);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-g)*r*.5),e[9]=(L-w)*t*.5,e[10]=n/(C-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*C/(C-n),e[15]=0,e}},30016:function(H){H.exports=U;function U(e,d,C,n){var L=n[0],w=n[1],v=n[2],g=Math.sqrt(L*L+w*w+v*v),r,t,i,a,u,f,l,m,h,T,c,o,p,x,A,_,y,E,M,s,S,b,I,D;return Math.abs(g)<1e-6?null:(g=1/g,L*=g,w*=g,v*=g,r=Math.sin(C),t=Math.cos(C),i=1-t,a=d[0],u=d[1],f=d[2],l=d[3],m=d[4],h=d[5],T=d[6],c=d[7],o=d[8],p=d[9],x=d[10],A=d[11],_=L*L*i+t,y=w*L*i+v*r,E=v*L*i-w*r,M=L*w*i-v*r,s=w*w*i+t,S=v*w*i+L*r,b=L*v*i+w*r,I=w*v*i-L*r,D=v*v*i+t,e[0]=a*_+m*y+o*E,e[1]=u*_+h*y+p*E,e[2]=f*_+T*y+x*E,e[3]=l*_+c*y+A*E,e[4]=a*M+m*s+o*S,e[5]=u*M+h*s+p*S,e[6]=f*M+T*s+x*S,e[7]=l*M+c*s+A*S,e[8]=a*b+m*I+o*D,e[9]=u*b+h*I+p*D,e[10]=f*b+T*I+x*D,e[11]=l*b+c*I+A*D,d!==e&&(e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15]),e)}},15456:function(H){H.exports=U;function U(e,d,C){var n=Math.sin(C),L=Math.cos(C),w=d[4],v=d[5],g=d[6],r=d[7],t=d[8],i=d[9],a=d[10],u=d[11];return d!==e&&(e[0]=d[0],e[1]=d[1],e[2]=d[2],e[3]=d[3],e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15]),e[4]=w*L+t*n,e[5]=v*L+i*n,e[6]=g*L+a*n,e[7]=r*L+u*n,e[8]=t*L-w*n,e[9]=i*L-v*n,e[10]=a*L-g*n,e[11]=u*L-r*n,e}},64840:function(H){H.exports=U;function U(e,d,C){var n=Math.sin(C),L=Math.cos(C),w=d[0],v=d[1],g=d[2],r=d[3],t=d[8],i=d[9],a=d[10],u=d[11];return d!==e&&(e[4]=d[4],e[5]=d[5],e[6]=d[6],e[7]=d[7],e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15]),e[0]=w*L-t*n,e[1]=v*L-i*n,e[2]=g*L-a*n,e[3]=r*L-u*n,e[8]=w*n+t*L,e[9]=v*n+i*L,e[10]=g*n+a*L,e[11]=r*n+u*L,e}},4192:function(H){H.exports=U;function U(e,d,C){var n=Math.sin(C),L=Math.cos(C),w=d[0],v=d[1],g=d[2],r=d[3],t=d[4],i=d[5],a=d[6],u=d[7];return d!==e&&(e[8]=d[8],e[9]=d[9],e[10]=d[10],e[11]=d[11],e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15]),e[0]=w*L+t*n,e[1]=v*L+i*n,e[2]=g*L+a*n,e[3]=r*L+u*n,e[4]=t*L-w*n,e[5]=i*L-v*n,e[6]=a*L-g*n,e[7]=u*L-r*n,e}},68152:function(H){H.exports=U;function U(e,d,C){var n=C[0],L=C[1],w=C[2];return e[0]=d[0]*n,e[1]=d[1]*n,e[2]=d[2]*n,e[3]=d[3]*n,e[4]=d[4]*L,e[5]=d[5]*L,e[6]=d[6]*L,e[7]=d[7]*L,e[8]=d[8]*w,e[9]=d[9]*w,e[10]=d[10]*w,e[11]=d[11]*w,e[12]=d[12],e[13]=d[13],e[14]=d[14],e[15]=d[15],e}},89412:function(H){H.exports=U;function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(H){H.exports=U;function U(e,d,C){var n=C[0],L=C[1],w=C[2],v,g,r,t,i,a,u,f,l,m,h,T;return d===e?(e[12]=d[0]*n+d[4]*L+d[8]*w+d[12],e[13]=d[1]*n+d[5]*L+d[9]*w+d[13],e[14]=d[2]*n+d[6]*L+d[10]*w+d[14],e[15]=d[3]*n+d[7]*L+d[11]*w+d[15]):(v=d[0],g=d[1],r=d[2],t=d[3],i=d[4],a=d[5],u=d[6],f=d[7],l=d[8],m=d[9],h=d[10],T=d[11],e[0]=v,e[1]=g,e[2]=r,e[3]=t,e[4]=i,e[5]=a,e[6]=u,e[7]=f,e[8]=l,e[9]=m,e[10]=h,e[11]=T,e[12]=v*n+i*L+l*w+d[12],e[13]=g*n+a*L+m*w+d[13],e[14]=r*n+u*L+h*w+d[14],e[15]=t*n+f*L+T*w+d[15]),e}},86520:function(H){H.exports=U;function U(e,d){if(e===d){var C=d[1],n=d[2],L=d[3],w=d[6],v=d[7],g=d[11];e[1]=d[4],e[2]=d[8],e[3]=d[12],e[4]=C,e[6]=d[9],e[7]=d[13],e[8]=n,e[9]=w,e[11]=d[14],e[12]=L,e[13]=v,e[14]=g}else e[0]=d[0],e[1]=d[4],e[2]=d[8],e[3]=d[12],e[4]=d[1],e[5]=d[5],e[6]=d[9],e[7]=d[13],e[8]=d[2],e[9]=d[6],e[10]=d[10],e[11]=d[14],e[12]=d[3],e[13]=d[7],e[14]=d[11],e[15]=d[15];return e}},23352:function(H,U,e){var d=e(42771),C=e(55616),n=e(28624),L=e(55212),w=e(60463),v=e(72160),g=e(33888),r=e(14144),t=e(51160),i=e(58908),a=e(65819),u=e(23464),f=e(63768),l=e(50896),m=e(71920),h=e(47520),T=e(308),c=T.nextPow2,o=new w,p=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(p=!0),document.body.removeChild(x)}var A=function(E){_(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=L(E),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||n({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(i(E)?E:{})};A.prototype.createShader=function(){var E=this.regl,M=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(S,b){return[b.atlas.width,b.atlas.height]},atlasDim:function(S,b){return[b.atlas.cols,b.atlas.rows]},atlas:function(S,b){return b.atlas.texture},charStep:function(S,b){return b.atlas.step},em:function(S,b){return b.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),s={};return{regl:E,draw:M,atlas:s}},A.prototype.update=function(E){var M=this;if(typeof E=="string")E={text:E};else if(!E)return;E=C(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(Fe){return parseFloat(Fe)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=t(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=h(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=A.baseFontSize+"px sans-serif");var s=!1,S=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(Fe,He){if(typeof Fe=="string")try{Fe=d.parse(Fe)}catch{Fe=d.parse(A.baseFontSize+"px "+Fe)}else{var ft=Fe.style,gt=Fe.weight,ct=Fe.stretch,nt=Fe.variant;Fe=d.parse(d.stringify(Fe)),ft&&(Fe.style=ft),gt&&(Fe.weight=gt),ct&&(Fe.stretch=ct),nt&&(Fe.variant=nt)}var dt=d.stringify({size:A.baseFontSize,family:Fe.family,stretch:p?Fe.stretch:void 0,variant:Fe.variant,weight:Fe.weight,style:Fe.style}),pt=a(Fe.size),wt=Math.round(pt[0]*u(pt[1]));if(wt!==M.fontSize[He]&&(S=!0,M.fontSize[He]=wt),(!M.font[He]||dt!=M.font[He].baseString)&&(s=!0,M.font[He]=A.fonts[dt],!M.font[He])){var Tt=Fe.family.join(", "),Ct=[Fe.style];Fe.style!=Fe.variant&&Ct.push(Fe.variant),Fe.variant!=Fe.weight&&Ct.push(Fe.weight),p&&Fe.weight!=Fe.stretch&&Ct.push(Fe.stretch),M.font[He]={baseString:dt,family:Tt,weight:Fe.weight,stretch:Fe.stretch,style:Fe.style,variant:Fe.variant,width:{},kerning:{},metrics:m(Tt,{origin:"top",fontSize:A.baseFontSize,fontStyle:Ct.join(" ")})},A.fonts[dt]=M.font[He]}}),(s||S)&&this.font.forEach(function(Fe,He){var ft=d.stringify({size:M.fontSize[He],family:Fe.family,stretch:p?Fe.stretch:void 0,variant:Fe.variant,weight:Fe.weight,style:Fe.style});if(M.fontAtlas[He]=M.shader.atlas[ft],!M.fontAtlas[He]){var gt=Fe.metrics;M.shader.atlas[ft]=M.fontAtlas[He]={fontString:ft,step:Math.ceil(M.fontSize[He]*gt.bottom*.5)*2,em:M.fontSize[He],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:M.regl.texture()}}E.text==null&&(E.text=M.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var b=Array(E.position.length*.5),I=0;I<b.length;I++)b[I]=E.text;E.text=b}var D;if(E.text!=null||s){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var B=1;B<E.text.length;B++)this.textOffsets[B]=this.textOffsets[B-1]+E.text[B-1].length,this.count+=E.text[B].length,this.counts.push(E.text[B].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];D=[],this.font.forEach(function(Fe,He){A.atlasContext.font=Fe.baseString;for(var ft=M.fontAtlas[He],gt=0;gt<M.text.length;gt++){var ct=M.text.charAt(gt);if(ft.ids[ct]==null&&(ft.ids[ct]=ft.chars.length,ft.chars.push(ct),D.push(ct)),Fe.width[ct]==null&&(Fe.width[ct]=A.atlasContext.measureText(ct).width/A.baseFontSize,M.kerning)){var nt=[];for(var dt in Fe.width)nt.push(dt+ct,ct+dt);l(Fe.kerning,f(Fe.family,{pairs:nt}))}}})}if(E.position)if(E.position.length>2){for(var k=!E.position[0].length,F=r.mallocFloat(this.count*2),N=0,O=0;N<this.counts.length;N++){var V=this.counts[N];if(k)for(var X=0;X<V;X++)F[O++]=E.position[N*2],F[O++]=E.position[N*2+1];else for(var ee=0;ee<V;ee++)F[O++]=E.position[N][0],F[O++]=E.position[N][1]}this.position.call?this.position({type:"float",data:F}):this.position=this.regl.buffer({type:"float",data:F}),r.freeFloat(F)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||s){var ne=r.mallocUint8(this.count),q=r.mallocFloat(this.count*2);this.textWidth=[];for(var se=0,J=0;se<this.counts.length;se++){for(var Z=this.counts[se],te=this.font[se]||this.font[0],Y=this.fontAtlas[se]||this.fontAtlas[0],ie=0;ie<Z;ie++){var le=this.text.charAt(J),j=this.text.charAt(J-1);if(ne[J]=Y.ids[le],q[J*2]=te.width[le],ie){var K=q[J*2-2],ue=q[J*2],ae=q[J*2-1],he=ae+K*.5+ue*.5;if(this.kerning){var xe=te.kerning[j+le];xe&&(he+=xe*.001)}q[J*2+1]=he}else q[J*2+1]=q[J*2]*.5;J++}this.textWidth.push(q.length?q[J*2-2]*.5+q[J*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:ne,type:"uint8",usage:"stream"}),this.sizeBuffer({data:q,type:"float",usage:"stream"}),r.freeUint8(ne),r.freeFloat(q),D.length&&this.font.forEach(function(Fe,He){var ft=M.fontAtlas[He],gt=ft.step,ct=Math.floor(A.maxAtlasSize/gt),nt=Math.min(ct,ft.chars.length),dt=Math.ceil(ft.chars.length/nt),pt=c(nt*gt),wt=c(dt*gt);ft.width=pt,ft.height=wt,ft.rows=dt,ft.cols=nt,ft.em&&ft.texture({data:g({canvas:A.atlasCanvas,font:ft.fontString,chars:ft.chars,shape:[pt,wt],step:[gt,gt]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(Fe,He){var ft=Array.isArray(M.align)?M.align.length>1?M.align[He]:M.align[0]:M.align;if(typeof ft=="number")return ft;switch(ft){case"right":case"end":return-Fe;case"center":case"centre":case"middle":return-Fe*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Fe,He){var ft=(M.font[He]||M.font[0]).metrics,gt=0;return gt+=ft.bottom*.5,typeof Fe=="number"?gt+=Fe-ft.baseline:gt+=-ft[Fe],gt*=-1,gt})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=v(E.color,"uint8");else{var Se;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var Ae=E.color.length;Se=r.mallocUint8(Ae);for(var De=(E.color.subarray||E.color.slice).bind(E.color),we=0;we<Ae;we+=4)Se.set(v(De(we,we+4),"uint8"),we)}else{var Ce=E.color.length;Se=r.mallocUint8(Ce*4);for(var be=0;be<Ce;be++)Se.set(v(E.color[be]||0,"uint8"),be*4)}this.color=Se}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Pe=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Pe){var Ve=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ve);for(var Ge=0;Ge<this.batch.length;Ge++)this.batch[Ge]={count:this.counts.length>1?this.counts[Ge]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ge]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ge*4,Ge*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ge]:this.opacity,baseline:this.baselineOffset[Ge]!=null?this.baselineOffset[Ge]:this.baselineOffset[0],align:this.align?this.alignOffset[Ge]!=null?this.alignOffset[Ge]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ge]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ge*2,Ge*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={};function _(y){return typeof y=="function"&&y._gl&&y.prop&&y.texture&&y.buffer}H.exports=A},55212:function(H,U,e){var d=e(55616);H.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},n(r)?r={container:r}:L(r)?r={container:r}:w(r)?r={gl:r}:r=d(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}n(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),C(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),C(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{r.gl=r.canvas.getContext(i,r.attrs)}catch{}return r.gl}),r.gl};function C(g){if(g.container)if(g.container==document.body)document.body.style.width||(g.canvas.width=g.width||g.pixelRatio*e.g.innerWidth),document.body.style.height||(g.canvas.height=g.height||g.pixelRatio*e.g.innerHeight);else{var r=g.container.getBoundingClientRect();g.canvas.width=g.width||r.right-r.left,g.canvas.height=g.height||r.bottom-r.top}}function n(g){return typeof g.getContext=="function"&&"width"in g&&"height"in g}function L(g){return typeof g.nodeName=="string"&&typeof g.appendChild=="function"&&typeof g.getBoundingClientRect=="function"}function w(g){return typeof g.drawArrays=="function"||typeof g.drawElements=="function"}function v(){var g=document.createElement("canvas");return g.style.position="absolute",g.style.top=0,g.style.left=0,g}},26444:function(H){H.exports=function(U){typeof U=="string"&&(U=[U]);for(var e=[].slice.call(arguments,1),d=[],C=0;C<U.length-1;C++)d.push(U[C],e[C]||"");return d.push(U[C]),d.join("")}},2304:function(H,U,e){var d=e(53664),C=d("%Object.getOwnPropertyDescriptor%",!0);if(C)try{C([],"length")}catch{C=null}H.exports=C},52264:function(H,U,e){var d=e(24200),C;typeof e.g.matchMedia=="function"?C=!e.g.matchMedia("(hover: none)").matches:C=d,H.exports=C},89184:function(H,U,e){var d=e(24200);function C(){var n=!1;try{var L=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{n=!1}return n}H.exports=d&&C()},39640:function(H,U,e){var d=e(53664),C=d("%Object.defineProperty%",!0),n=function(){if(C)try{return C({},"a",{value:1}),!0}catch{return!1}return!1};n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return C([],"length",{value:1}).length!==1}catch{return!0}},H.exports=n},69572:function(H){var U={foo:{}},e=Object;H.exports=function(){return{__proto__:U}.foo===U.foo&&!({__proto__:null}instanceof e)}},71080:function(H,U,e){var d=typeof Symbol<"u"&&Symbol,C=e(89320);H.exports=function(){return typeof d!="function"||typeof Symbol!="function"||typeof d("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:C()}},89320:function(H){H.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},d=Symbol("test"),C=Object(d);if(typeof d=="string"||Object.prototype.toString.call(d)!=="[object Symbol]"||Object.prototype.toString.call(C)!=="[object Symbol]")return!1;var n=42;e[d]=n;for(d in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==d||!Object.prototype.propertyIsEnumerable.call(e,d))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var w=Object.getOwnPropertyDescriptor(e,d);if(w.value!==n||w.enumerable!==!0)return!1}return!0}},46672:function(H,U,e){var d=e(89320);H.exports=function(){return d()&&!!Symbol.toStringTag}},92064:function(H,U,e){var d=Function.prototype.call,C=Object.prototype.hasOwnProperty,n=e(8844);H.exports=n.call(d,C)},35984:function(H,U){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */U.read=function(e,d,C,n,L){var w,v,g=L*8-n-1,r=(1<<g)-1,t=r>>1,i=-7,a=C?L-1:0,u=C?-1:1,f=e[d+a];for(a+=u,w=f&(1<<-i)-1,f>>=-i,i+=g;i>0;w=w*256+e[d+a],a+=u,i-=8);for(v=w&(1<<-i)-1,w>>=-i,i+=n;i>0;v=v*256+e[d+a],a+=u,i-=8);if(w===0)w=1-t;else{if(w===r)return v?NaN:(f?-1:1)*(1/0);v=v+Math.pow(2,n),w=w-t}return(f?-1:1)*v*Math.pow(2,w-n)},U.write=function(e,d,C,n,L,w){var v,g,r,t=w*8-L-1,i=(1<<t)-1,a=i>>1,u=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:w-1,l=n?1:-1,m=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(g=isNaN(d)?1:0,v=i):(v=Math.floor(Math.log(d)/Math.LN2),d*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+a>=1?d+=u/r:d+=u*Math.pow(2,1-a),d*r>=2&&(v++,r/=2),v+a>=i?(g=0,v=i):v+a>=1?(g=(d*r-1)*Math.pow(2,L),v=v+a):(g=d*Math.pow(2,a-1)*Math.pow(2,L),v=0));L>=8;e[C+f]=g&255,f+=l,g/=256,L-=8);for(v=v<<L|g,t+=L;t>0;e[C+f]=v&255,f+=l,v/=256,t-=8);e[C+f-l]|=m*128}},6768:function(H){typeof Object.create=="function"?H.exports=function(e,d){d&&(e.super_=d,e.prototype=Object.create(d.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:H.exports=function(e,d){if(d){e.super_=d;var C=function(){};C.prototype=d.prototype,e.prototype=new C,e.prototype.constructor=e}}},91148:function(H,U,e){var d=e(46672)(),C=e(99676),n=C("Object.prototype.toString"),L=function(r){return d&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:n(r)==="[object Arguments]"},w=function(r){return L(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&n(r)!=="[object Array]"&&n(r.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=w,H.exports=v?L:w},24200:function(H){H.exports=!0},90720:function(H){var U=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,d,C;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{d=Object.defineProperty({},"length",{get:function(){throw C}}),C={},e(function(){throw 42},null,d)}catch(T){T!==C&&(e=null)}else e=null;var n=/^\s*class\b/,L=function(c){try{var o=U.call(c);return n.test(o)}catch{return!1}},w=function(c){try{return L(c)?!1:(U.call(c),!0)}catch{return!1}},v=Object.prototype.toString,g="[object Object]",r="[object Function]",t="[object GeneratorFunction]",i="[object HTMLAllCollection]",a="[object HTML document.all class]",u="[object HTMLCollection]",f=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(m=function(c){if((l||!c)&&(typeof c>"u"||typeof c=="object"))try{var o=v.call(c);return(o===i||o===a||o===u||o===g)&&c("")==null}catch{}return!1})}H.exports=e?function(c){if(m(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,d)}catch(o){if(o!==C)return!1}return!L(c)&&w(c)}:function(c){if(m(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(f)return w(c);if(L(c))return!1;var o=v.call(c);return o!==r&&o!==t&&!/^\[object HTML/.test(o)?!1:w(c)}},84420:function(H,U,e){var d=Object.prototype.toString,C=Function.prototype.toString,n=/^\s*(?:function)?\*/,L=e(46672)(),w=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},g;H.exports=function(t){if(typeof t!="function")return!1;if(n.test(C.call(t)))return!0;if(!L){var i=d.call(t);return i==="[object GeneratorFunction]"}if(!w)return!1;if(typeof g>"u"){var a=v();g=a?w(a):!1}return w(t)===g}},96604:function(H){H.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(H){H.exports=function(e){return e!==e}},1560:function(H,U,e){var d=e(57916),C=e(81288),n=e(85992),L=e(57740),w=e(59736),v=d(L(),Number);C(v,{getPolyfill:L,implementation:n,shim:w}),H.exports=v},57740:function(H,U,e){var d=e(85992);H.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:d}},59736:function(H,U,e){var d=e(81288),C=e(57740);H.exports=function(){var L=C();return d(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},18400:function(H){H.exports=function(U){var e=typeof U;return U!==null&&(e==="object"||e==="function")}},58908:function(H){var U=Object.prototype.toString;H.exports=function(e){var d;return U.call(e)==="[object Object]"&&(d=Object.getPrototypeOf(e),d===null||d===Object.getPrototypeOf({}))}},94576:function(H){H.exports=function(U){for(var e=U.length,d,C=0;C<e;C++)if(d=U.charCodeAt(C),(d<9||d>13)&&d!==32&&d!==133&&d!==160&&d!==5760&&d!==6158&&(d<8192||d>8205)&&d!==8232&&d!==8233&&d!==8239&&d!==8287&&d!==8288&&d!==12288&&d!==65279)return!1;return!0}},53520:function(H){H.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(H,U,e){var d=e(46492),C=e(63436),n=e(99676),L=n("Object.prototype.toString"),w=e(46672)(),v=e(2304),g=typeof globalThis>"u"?e.g:globalThis,r=C(),t=n("Array.prototype.indexOf",!0)||function(m,h){for(var T=0;T<m.length;T+=1)if(m[T]===h)return T;return-1},i=n("String.prototype.slice"),a={},u=Object.getPrototypeOf;w&&v&&u&&d(r,function(l){var m=new g[l];if(Symbol.toStringTag in m){var h=u(m),T=v(h,Symbol.toStringTag);if(!T){var c=u(h);T=v(c,Symbol.toStringTag)}a[l]=T.get}});var f=function(m){var h=!1;return d(a,function(T,c){if(!h)try{h=T.call(m)===c}catch{}}),h};H.exports=function(m){if(!m||typeof m!="object")return!1;if(!w||!(Symbol.toStringTag in m)){var h=i(L(m),8,-1);return t(r,h)>-1}return v?f(m):!1}},76244:function(H){H.exports=Math.log2||function(U){return Math.log(U)*Math.LOG2E}},62644:function(H,U,e){H.exports=C;var d=e(93784);function C(n,L){L||(L=n,n=window);var w=0,v=0,g=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(x){var A=!1;return"altKey"in x&&(A=A||x.altKey!==r.alt,r.alt=!!x.altKey),"shiftKey"in x&&(A=A||x.shiftKey!==r.shift,r.shift=!!x.shiftKey),"ctrlKey"in x&&(A=A||x.ctrlKey!==r.control,r.control=!!x.ctrlKey),"metaKey"in x&&(A=A||x.metaKey!==r.meta,r.meta=!!x.metaKey),A}function a(x,A){var _=d.x(A),y=d.y(A);"buttons"in A&&(x=A.buttons|0),(x!==w||_!==v||y!==g||i(A))&&(w=x|0,v=_||0,g=y||0,L&&L(w,v,g,r))}function u(x){a(0,x)}function f(){(w||v||g||r.shift||r.alt||r.meta||r.control)&&(v=g=0,w=0,r.shift=r.alt=r.control=r.meta=!1,L&&L(0,0,0,r))}function l(x){i(x)&&L&&L(w,v,g,r)}function m(x){d.buttons(x)===0?a(0,x):a(w,x)}function h(x){a(w|d.buttons(x),x)}function T(x){a(w&~d.buttons(x),x)}function c(){t||(t=!0,n.addEventListener("mousemove",m),n.addEventListener("mousedown",h),n.addEventListener("mouseup",T),n.addEventListener("mouseleave",u),n.addEventListener("mouseenter",u),n.addEventListener("mouseout",u),n.addEventListener("mouseover",u),n.addEventListener("blur",f),n.addEventListener("keyup",l),n.addEventListener("keydown",l),n.addEventListener("keypress",l),n!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function o(){t&&(t=!1,n.removeEventListener("mousemove",m),n.removeEventListener("mousedown",h),n.removeEventListener("mouseup",T),n.removeEventListener("mouseleave",u),n.removeEventListener("mouseenter",u),n.removeEventListener("mouseout",u),n.removeEventListener("mouseover",u),n.removeEventListener("blur",f),n.removeEventListener("keyup",l),n.removeEventListener("keydown",l),n.removeEventListener("keypress",l),n!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}c();var p={element:n};return Object.defineProperties(p,{enabled:{get:function(){return t},set:function(x){x?c():o()},enumerable:!0},buttons:{get:function(){return w},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),p}},29128:function(H){var U={left:0,top:0};H.exports=e;function e(C,n,L){n=n||C.currentTarget||C.srcElement,Array.isArray(L)||(L=[0,0]);var w=C.clientX||0,v=C.clientY||0,g=d(n);return L[0]=w-g.left,L[1]=v-g.top,L}function d(C){return C===window||C===document||C===document.body?U:C.getBoundingClientRect()}},93784:function(H,U){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var w=L.which;if(w===2)return 4;if(w===3)return 2;if(w>0)return 1<<w-1}else if("button"in L){var w=L.button;if(w===1)return 4;if(w===2)return 2;if(w>=0)return 1<<w}}return 0}U.buttons=e;function d(L){return L.target||L.srcElement||window}U.element=d;function C(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var w=d(L),v=w.getBoundingClientRect();return L.clientX-v.left}return 0}U.x=C;function n(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var w=d(L),v=w.getBoundingClientRect();return L.clientY-v.top}return 0}U.y=n},97264:function(H,U,e){var d=e(23464);H.exports=C;function C(n,L,w){typeof n=="function"&&(w=!!L,L=n,n=window);var v=d("ex",n),g=function(r){w&&r.preventDefault();var t=r.deltaX||0,i=r.deltaY||0,a=r.deltaZ||0,u=r.deltaMode,f=1;switch(u){case 1:f=v;break;case 2:f=window.innerHeight;break}if(t*=f,i*=f,a*=f,t||i||a)return L(t,i,a,r)};return n.addEventListener("wheel",g),g}},88324:function(H,U,e){var d;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(n,L,w){L[n]=L[n]||w(),H.exports?H.exports=L[n]:(d=(function(){return L[n]}).call(U,e,U,H),d!==void 0&&(H.exports=d))})("Promise",typeof e.g<"u"?e.g:this,function(){var n,L,w,v=Object.prototype.toString,g=typeof setImmediate<"u"?function(p){return setImmediate(p)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(p,x,A,_){return Object.defineProperty(p,x,{value:A,writable:!0,configurable:_!==!1})}}catch{n=function(x,A,_){return x[A]=_,x}}w=function(){var p,x,A;function _(y,E){this.fn=y,this.self=E,this.next=void 0}return{add:function(E,M){A=new _(E,M),x?x.next=A:p=A,x=A,A=void 0},drain:function(){var E=p;for(p=x=L=void 0;E;)E.fn.call(E.self),E=E.next}}}();function r(o,p){w.add(o,p),L||(L=g(w.drain))}function t(o){var p,x=typeof o;return o!=null&&(x=="object"||x=="function")&&(p=o.then),typeof p=="function"?p:!1}function i(){for(var o=0;o<this.chain.length;o++)a(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function a(o,p,x){var A,_;try{p===!1?x.reject(o.msg):(p===!0?A=o.msg:A=p.call(void 0,o.msg),A===x.promise?x.reject(TypeError("Promise-chain cycle")):(_=t(A))?_.call(A,x.resolve,x.reject):x.resolve(A))}catch(y){x.reject(y)}}function u(o){var p,x=this;if(!x.triggered){x.triggered=!0,x.def&&(x=x.def);try{(p=t(o))?r(function(){var A=new m(x);try{p.call(o,function(){u.apply(A,arguments)},function(){f.apply(A,arguments)})}catch(_){f.call(A,_)}}):(x.msg=o,x.state=1,x.chain.length>0&&r(i,x))}catch(A){f.call(new m(x),A)}}}function f(o){var p=this;p.triggered||(p.triggered=!0,p.def&&(p=p.def),p.msg=o,p.state=2,p.chain.length>0&&r(i,p))}function l(o,p,x,A){for(var _=0;_<p.length;_++)(function(E){o.resolve(p[E]).then(function(s){x(E,s)},A)})(_)}function m(o){this.def=o,this.triggered=!1}function h(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var p=new h(this);this.then=function(A,_){var y={success:typeof A=="function"?A:!0,failure:typeof _=="function"?_:!1};return y.promise=new this.constructor(function(M,s){if(typeof M!="function"||typeof s!="function")throw TypeError("Not a function");y.resolve=M,y.reject=s}),p.chain.push(y),p.state!==0&&r(i,p),y.promise},this.catch=function(A){return this.then(void 0,A)};try{o.call(void 0,function(A){u.call(p,A)},function(A){f.call(p,A)})}catch(x){f.call(p,x)}}var c=n({},"constructor",T,!1);return T.prototype=c,n(c,"__NPO__",0,!1),n(T,"resolve",function(p){var x=this;return p&&typeof p=="object"&&p.__NPO__===1?p:new x(function(_,y){if(typeof _!="function"||typeof y!="function")throw TypeError("Not a function");_(p)})}),n(T,"reject",function(p){return new this(function(A,_){if(typeof A!="function"||typeof _!="function")throw TypeError("Not a function");_(p)})}),n(T,"all",function(p){var x=this;return v.call(p)!="[object Array]"?x.reject(TypeError("Not an array")):p.length===0?x.resolve([]):new x(function(_,y){if(typeof _!="function"||typeof y!="function")throw TypeError("Not a function");var E=p.length,M=Array(E),s=0;l(x,p,function(b,I){M[b]=I,++s===E&&_(M)},y)})}),n(T,"race",function(p){var x=this;return v.call(p)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(_,y){if(typeof _!="function"||typeof y!="function")throw TypeError("Not a function");l(x,p,function(M,s){_(s)},y)})}),T})},48816:function(H){var U=Math.PI,e=v(120);H.exports=d;function d(g){for(var r,t=[],i=0,a=0,u=0,f=0,l=null,m=null,h=0,T=0,c=0,o=g.length;c<o;c++){var p=g[c],x=p[0];switch(x){case"M":u=p[1],f=p[2];break;case"A":p=L(h,T,p[1],p[2],v(p[3]),p[4],p[5],p[6],p[7]),p.unshift("C"),p.length>7&&(t.push(p.splice(0,7)),p.unshift("C"));break;case"S":var A=h,_=T;(r=="C"||r=="S")&&(A+=A-i,_+=_-a),p=["C",A,_,p[1],p[2],p[3],p[4]];break;case"T":r=="Q"||r=="T"?(l=h*2-l,m=T*2-m):(l=h,m=T),p=n(h,T,l,m,p[1],p[2]);break;case"Q":l=p[1],m=p[2],p=n(h,T,p[1],p[2],p[3],p[4]);break;case"L":p=C(h,T,p[1],p[2]);break;case"H":p=C(h,T,p[1],T);break;case"V":p=C(h,T,h,p[1]);break;case"Z":p=C(h,T,u,f);break}r=x,h=p[p.length-2],T=p[p.length-1],p.length>4?(i=p[p.length-4],a=p[p.length-3]):(i=h,a=T),t.push(p)}return t}function C(g,r,t,i){return["C",g,r,t,i,t,i]}function n(g,r,t,i,a,u){return["C",g/3+.6666666666666666*t,r/3+.6666666666666666*i,a/3+.6666666666666666*t,u/3+.6666666666666666*i,a,u]}function L(g,r,t,i,a,u,f,l,m,h){if(h)M=h[0],s=h[1],y=h[2],E=h[3];else{var T=w(g,r,-a);g=T.x,r=T.y,T=w(l,m,-a),l=T.x,m=T.y;var c=(g-l)/2,o=(r-m)/2,p=c*c/(t*t)+o*o/(i*i);p>1&&(p=Math.sqrt(p),t=p*t,i=p*i);var x=t*t,A=i*i,_=(u==f?-1:1)*Math.sqrt(Math.abs((x*A-x*o*o-A*c*c)/(x*o*o+A*c*c)));_==1/0&&(_=1);var y=_*t*o/i+(g+l)/2,E=_*-i*c/t+(r+m)/2,M=Math.asin(((r-E)/i).toFixed(9)),s=Math.asin(((m-E)/i).toFixed(9));M=g<y?U-M:M,s=l<y?U-s:s,M<0&&(M=U*2+M),s<0&&(s=U*2+s),f&&M>s&&(M=M-U*2),!f&&s>M&&(s=s-U*2)}if(Math.abs(s-M)>e){var S=s,b=l,I=m;s=M+e*(f&&s>M?1:-1),l=y+t*Math.cos(s),m=E+i*Math.sin(s);var D=L(l,m,t,i,a,0,f,b,I,[s,S,y,E])}var B=Math.tan((s-M)/4),k=4/3*t*B,F=4/3*i*B,N=[2*g-(g+k*Math.sin(M)),2*r-(r-F*Math.cos(M)),l+k*Math.sin(s),m-F*Math.cos(s),l,m];if(h)return N;D&&(N=N.concat(D));for(var O=0;O<N.length;){var V=w(N[O],N[O+1],a);N[O++]=V.x,N[O++]=V.y}return N}function w(g,r,t){return{x:g*Math.cos(t)-r*Math.sin(t),y:g*Math.sin(t)+r*Math.cos(t)}}function v(g){return g*(U/180)}},50896:function(H){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var U=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function C(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function n(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var w={},v=0;v<10;v++)w["_"+String.fromCharCode(v)]=v;var g=Object.getOwnPropertyNames(w).map(function(t){return w[t]});if(g.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}H.exports=n()?Object.assign:function(L,w){for(var v,g=C(L),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var i in v)e.call(v,i)&&(g[i]=v[i]);if(U){r=U(v);for(var a=0;a<r.length;a++)d.call(v,r[a])&&(g[r[a]]=v[r[a]])}}return g}},76835:function(H){var U=function(e){return e!==e};H.exports=function(d,C){return d===0&&C===0?1/d===1/C:!!(d===C||U(d)&&U(C))}},39896:function(H,U,e){var d=e(81288),C=e(57916),n=e(76835),L=e(66148),w=e(16408),v=C(L(),Object);d(v,{getPolyfill:L,implementation:n,shim:w}),H.exports=v},66148:function(H,U,e){var d=e(76835);H.exports=function(){return typeof Object.is=="function"?Object.is:d}},16408:function(H,U,e){var d=e(66148),C=e(81288);H.exports=function(){var L=d();return C(Object,{is:L},{is:function(){return Object.is!==L}}),L}},32764:function(H,U,e){var d;if(!Object.keys){var C=Object.prototype.hasOwnProperty,n=Object.prototype.toString,L=e(97344),w=Object.prototype.propertyIsEnumerable,v=!w.call({toString:null},"toString"),g=w.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(f){var l=f.constructor;return l&&l.prototype===f},i={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!i["$"+f]&&C.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{t(window[f])}catch{return!0}}catch{return!0}return!1}(),u=function(f){if(typeof window>"u"||!a)return t(f);try{return t(f)}catch{return!1}};d=function(l){var m=l!==null&&typeof l=="object",h=n.call(l)==="[object Function]",T=L(l),c=m&&n.call(l)==="[object String]",o=[];if(!m&&!h&&!T)throw new TypeError("Object.keys called on a non-object");var p=g&&h;if(c&&l.length>0&&!C.call(l,0))for(var x=0;x<l.length;++x)o.push(String(x));if(T&&l.length>0)for(var A=0;A<l.length;++A)o.push(String(A));else for(var _ in l)!(p&&_==="prototype")&&C.call(l,_)&&o.push(String(_));if(v)for(var y=u(l),E=0;E<r.length;++E)!(y&&r[E]==="constructor")&&C.call(l,r[E])&&o.push(r[E]);return o}}H.exports=d},41820:function(H,U,e){var d=Array.prototype.slice,C=e(97344),n=Object.keys,L=n?function(g){return n(g)}:e(32764),w=Object.keys;L.shim=function(){if(Object.keys){var g=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);g||(Object.keys=function(t){return C(t)?w(d.call(t)):w(t)})}else Object.keys=L;return Object.keys||L},H.exports=L},97344:function(H){var U=Object.prototype.toString;H.exports=function(d){var C=U.call(d),n=C==="[object Arguments]";return n||(n=C!=="[object Array]"&&d!==null&&typeof d=="object"&&typeof d.length=="number"&&d.length>=0&&U.call(d.callee)==="[object Function]"),n}},32868:function(H){function U(C,n){if(typeof C!="string")return[C];var L=[C];typeof n=="string"||Array.isArray(n)?n={brackets:n}:n||(n={});var w=n.brackets?Array.isArray(n.brackets)?n.brackets:[n.brackets]:["{}","[]","()"],v=n.escape||"___",g=!!n.flat;w.forEach(function(i){var a=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),u=[];function f(l,m,h){var T=L.push(l.slice(i[0].length,-i[1].length))-1;return u.push(T),v+T+v}L.forEach(function(l,m){for(var h,T=0;l!=h;)if(h=l,l=l.replace(a,f),T++>1e4)throw Error("References have circular dependency. Please, check them.");L[m]=l}),u=u.reverse(),L=L.map(function(l){return u.forEach(function(m){l=l.replace(new RegExp("(\\"+v+m+"\\"+v+")","g"),i[0]+"$1"+i[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(i,a,u){for(var f=[],l,m=0;l=r.exec(i);){if(m++>1e4)throw Error("Circular references in parenthesis");f.push(i.slice(0,l.index)),f.push(t(a[l[1]],a)),i=i.slice(l.index+l[0].length)}return f.push(i),f}return g?L:t(L[0],L)}function e(C,n){if(n&&n.flat){var L=n&&n.escape||"___",w=C[0],v;if(!w)return"";for(var g=new RegExp("\\"+L+"([0-9]+)\\"+L),r=0;w!=v;){if(r++>1e4)throw Error("Circular references in "+C);v=w,w=w.replace(g,t)}return w}return C.reduce(function i(a,u){return Array.isArray(u)&&(u=u.reduce(i,"")),a+u},"");function t(i,a){if(C[a]==null)throw Error("Reference "+a+"is undefined");return C[a]}}function d(C,n){return Array.isArray(C)?e(C,n):U(C,n)}d.parse=U,d.stringify=e,H.exports=d},51160:function(H,U,e){var d=e(55616);H.exports=C;function C(n){var L;return arguments.length>1&&(n=arguments),typeof n=="string"?n=n.split(/\s/).map(parseFloat):typeof n=="number"&&(n=[n]),n.length&&typeof n[0]=="number"?n.length===1?L={width:n[0],height:n[0],x:0,y:0}:n.length===2?L={width:n[0],height:n[1],x:0,y:0}:L={x:n[0],y:n[1],width:n[2]-n[0]||0,height:n[3]-n[1]||0}:n&&(n=d(n,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:n.left||0,y:n.top||0},n.width==null?n.right?L.width=n.right-L.x:L.width=0:L.width=n.width,n.height==null?n.bottom?L.height=n.bottom-L.y:L.height=0:L.height=n.height),L}},21984:function(H){H.exports=d;var U={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function d(L){var w=[];return L.replace(e,function(v,g,r){var t=g.toLowerCase();for(r=n(r),t=="m"&&r.length>2&&(w.push([g].concat(r.splice(0,2))),t="l",g=g=="m"?"l":"L");;){if(r.length==U[t])return r.unshift(g),w.push(r);if(r.length<U[t])throw new Error("malformed path data");w.push([g].concat(r.splice(0,U[t])))}}),w}var C=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function n(L){var w=L.match(C);return w?w.map(Number):[]}},65819:function(H){H.exports=function(e,d){d||(d=[0,""]),e=String(e);var C=parseFloat(e,10);return d[0]=C,d[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",d}},41984:function(H,U,e){var d=e(4168);(function(){var C,n,L,w,v,g;typeof performance<"u"&&performance!==null&&performance.now?H.exports=function(){return performance.now()}:typeof d<"u"&&d!==null&&d.hrtime?(H.exports=function(){return(C()-v)/1e6},n=d.hrtime,C=function(){var r;return r=n(),r[0]*1e9+r[1]},w=C(),g=d.uptime()*1e9,v=w-g):Date.now?(H.exports=function(){return Date.now()-L},L=Date.now()):(H.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},55616:function(H){H.exports=function(C,n,L){var w={},v,g;if(typeof n=="string"&&(n=e(n)),Array.isArray(n)){var r={};for(g=0;g<n.length;g++)r[n[g]]=!0;n=r}for(v in n)n[v]=e(n[v]);var t={};for(v in n){var i=n[v];if(Array.isArray(i))for(g=0;g<i.length;g++){var a=i[g];if(L&&(t[a]=!0),a in C){if(w[v]=C[a],L)for(var u=g;u<i.length;u++)t[i[u]]=!0;break}}else v in C&&(n[v]&&(w[v]=C[v]),L&&(t[v]=!0))}if(L)for(v in C)t[v]||(w[v]=C[v]);return w};var U={};function e(d){return U[d]?U[d]:(typeof d=="string"&&(d=U[d]=d.split(/\s*,\s*|\s+/)),d)}},61456:function(H){H.exports=function(e,d,C,n){var L=e[0],w=e[1],v=!1;C===void 0&&(C=0),n===void 0&&(n=d.length);for(var g=n-C,r=0,t=g-1;r<g;t=r++){var i=d[r+C][0],a=d[r+C][1],u=d[t+C][0],f=d[t+C][1],l=a>w!=f>w&&L<(u-i)*(w-a)/(f-a)+i;l&&(v=!v)}return v}},14756:function(H,U,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var d=e(7688),C=e(28648),n=e(72200),L=e(11403),w=e(82368),v=e(17792),g=!1,r=C(),t;t={buildLog:function(a){return a===!0?g=d():a===!1&&(g=!1),g===!1?!1:g.list},epsilon:function(a){return r.epsilon(a)},segments:function(a){var u=n(!0,r,g);return a.regions.forEach(u.addRegion),{segments:u.calculate(a.inverted),inverted:a.inverted}},combine:function(a,u){var f=n(!1,r,g);return{combined:f.calculate(a.segments,a.inverted,u.segments,u.inverted),inverted1:a.inverted,inverted2:u.inverted}},selectUnion:function(a){return{segments:w.union(a.combined,g),inverted:a.inverted1||a.inverted2}},selectIntersect:function(a){return{segments:w.intersect(a.combined,g),inverted:a.inverted1&&a.inverted2}},selectDifference:function(a){return{segments:w.difference(a.combined,g),inverted:a.inverted1&&!a.inverted2}},selectDifferenceRev:function(a){return{segments:w.differenceRev(a.combined,g),inverted:!a.inverted1&&a.inverted2}},selectXor:function(a){return{segments:w.xor(a.combined,g),inverted:a.inverted1!==a.inverted2}},polygon:function(a){return{regions:L(a.segments,r,g),inverted:a.inverted}},polygonFromGeoJSON:function(a){return v.toPolygon(t,a)},polygonToGeoJSON:function(a){return v.fromPolygon(t,r,a)},union:function(a,u){return i(a,u,t.selectUnion)},intersect:function(a,u){return i(a,u,t.selectIntersect)},difference:function(a,u){return i(a,u,t.selectDifference)},differenceRev:function(a,u){return i(a,u,t.selectDifferenceRev)},xor:function(a,u){return i(a,u,t.selectXor)}};function i(a,u,f){var l=t.segments(a),m=t.segments(u),h=t.combine(l,m),T=f(h);return t.polygon(T)}typeof window=="object"&&(window.PolyBool=t),H.exports=t},7688:function(H){function U(){var e,d=0,C=!1;function n(L,w){return e.list.push({type:L,data:w?JSON.parse(JSON.stringify(w)):void 0}),e}return e={list:[],segmentId:function(){return d++},checkIntersection:function(L,w){return n("check",{seg1:L,seg2:w})},segmentChop:function(L,w){return n("div_seg",{seg:L,pt:w}),n("chop",{seg:L,pt:w})},statusRemove:function(L){return n("pop_seg",{seg:L})},segmentUpdate:function(L){return n("seg_update",{seg:L})},segmentNew:function(L,w){return n("new_seg",{seg:L,primary:w})},segmentRemove:function(L){return n("rem_seg",{seg:L})},tempStatus:function(L,w,v){return n("temp_status",{seg:L,above:w,below:v})},rewind:function(L){return n("rewind",{seg:L})},status:function(L,w,v){return n("status",{seg:L,above:w,below:v})},vert:function(L){return L===C?e:(C=L,n("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),n("log",{txt:L})},reset:function(){return n("reset")},selected:function(L){return n("selected",{segs:L})},chainStart:function(L){return n("chain_start",{seg:L})},chainRemoveHead:function(L,w){return n("chain_rem_head",{index:L,pt:w})},chainRemoveTail:function(L,w){return n("chain_rem_tail",{index:L,pt:w})},chainNew:function(L,w){return n("chain_new",{pt1:L,pt2:w})},chainMatch:function(L){return n("chain_match",{index:L})},chainClose:function(L){return n("chain_close",{index:L})},chainAddHead:function(L,w){return n("chain_add_head",{index:L,pt:w})},chainAddTail:function(L,w){return n("chain_add_tail",{index:L,pt:w})},chainConnect:function(L,w){return n("chain_con",{index1:L,index2:w})},chainReverse:function(L){return n("chain_rev",{index:L})},chainJoin:function(L,w){return n("chain_join",{index1:L,index2:w})},done:function(){return n("done")}},e}H.exports=U},28648:function(H){function U(e){typeof e!="number"&&(e=1e-10);var d={epsilon:function(C){return typeof C=="number"&&(e=C),e},pointAboveOrOnLine:function(C,n,L){var w=n[0],v=n[1],g=L[0],r=L[1],t=C[0],i=C[1];return(g-w)*(i-v)-(r-v)*(t-w)>=-e},pointBetween:function(C,n,L){var w=C[1]-n[1],v=L[0]-n[0],g=C[0]-n[0],r=L[1]-n[1],t=g*v+w*r;if(t<e)return!1;var i=v*v+r*r;return!(t-i>-e)},pointsSameX:function(C,n){return Math.abs(C[0]-n[0])<e},pointsSameY:function(C,n){return Math.abs(C[1]-n[1])<e},pointsSame:function(C,n){return d.pointsSameX(C,n)&&d.pointsSameY(C,n)},pointsCompare:function(C,n){return d.pointsSameX(C,n)?d.pointsSameY(C,n)?0:C[1]<n[1]?-1:1:C[0]<n[0]?-1:1},pointsCollinear:function(C,n,L){var w=C[0]-n[0],v=C[1]-n[1],g=n[0]-L[0],r=n[1]-L[1];return Math.abs(w*r-g*v)<e},linesIntersect:function(C,n,L,w){var v=n[0]-C[0],g=n[1]-C[1],r=w[0]-L[0],t=w[1]-L[1],i=v*t-g*r;if(Math.abs(i)<e)return!1;var a=C[0]-L[0],u=C[1]-L[1],f=(r*u-t*a)/i,l=(v*u-g*a)/i,m={alongA:0,alongB:0,pt:[C[0]+f*v,C[1]+f*g]};return f<=-e?m.alongA=-2:f<e?m.alongA=-1:f-1<=-e?m.alongA=0:f-1<e?m.alongA=1:m.alongA=2,l<=-e?m.alongB=-2:l<e?m.alongB=-1:l-1<=-e?m.alongB=0:l-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(C,n){for(var L=C[0],w=C[1],v=n[n.length-1][0],g=n[n.length-1][1],r=!1,t=0;t<n.length;t++){var i=n[t][0],a=n[t][1];a-w>e!=g-w>e&&(v-i)*(w-a)/(g-a)+i-L>e&&(r=!r),v=i,g=a}return r}};return d}H.exports=U},17792:function(H){var U={toPolygon:function(e,d){function C(w){if(w.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var i=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[i]})}for(var g=v(w[0]),r=1;r<w.length;r++)g=e.selectDifference(e.combine(g,v(w[r])));return g}if(d.type==="Polygon")return e.polygon(C(d.coordinates));if(d.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),L=0;L<d.coordinates.length;L++)n=e.selectUnion(e.combine(n,C(d.coordinates[L])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,d,C){C=e.polygon(e.segments(C));function n(f,l){return d.pointInsideRegion([(f[0][0]+f[1][0])*.5,(f[0][1]+f[1][1])*.5],l)}function L(f){return{region:f,children:[]}}var w=L(null);function v(f,l){for(var m=0;m<f.children.length;m++){var h=f.children[m];if(n(l,h.region)){v(h,l);return}}for(var T=L(l),m=0;m<f.children.length;m++){var h=f.children[m];n(h.region,l)&&(T.children.push(h),f.children.splice(m,1),m--)}f.children.push(T)}for(var g=0;g<C.regions.length;g++){var r=C.regions[g];r.length<3||v(w,r)}function t(f,l){for(var m=0,h=f[f.length-1][0],T=f[f.length-1][1],c=[],o=0;o<f.length;o++){var p=f[o][0],x=f[o][1];c.push([p,x]),m+=x*h-p*T,h=p,T=x}var A=m<0;return A!==l&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var i=[];function a(f){var l=[t(f.region,!1)];i.push(l);for(var m=0;m<f.children.length;m++)l.push(u(f.children[m]))}function u(f){for(var l=0;l<f.children.length;l++)a(f.children[l]);return t(f.region,!0)}for(var g=0;g<w.children.length;g++)a(w.children[g]);return i.length<=0?{type:"Polygon",coordinates:[]}:i.length==1?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}}};H.exports=U},72200:function(H,U,e){var d=e(48088);function C(n,L,w){function v(T,c){return{id:w?w.segmentId():-1,start:T,end:c,myFill:{above:null,below:null},otherFill:null}}function g(T,c,o){return{id:w?w.segmentId():-1,start:T,end:c,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var r=d.create();function t(T,c,o,p,x,A){var _=L.pointsCompare(c,x);return _!==0?_:L.pointsSame(o,A)?0:T!==p?T?1:-1:L.pointAboveOrOnLine(o,p?x:A,p?A:x)?1:-1}function i(T,c){r.insertBefore(T,function(o){var p=t(T.isStart,T.pt,c,o.isStart,o.pt,o.other.pt);return p<0})}function a(T,c){var o=d.node({isStart:!0,pt:T.start,seg:T,primary:c,other:null,status:null});return i(o,T.end),o}function u(T,c,o){var p=d.node({isStart:!1,pt:c.end,seg:c,primary:o,other:T,status:null});T.other=p,i(p,T.pt)}function f(T,c){var o=a(T,c);return u(o,T,c),o}function l(T,c){w&&w.segmentChop(T.seg,c),T.other.remove(),T.seg.end=c,T.other.pt=c,i(T.other,T.pt)}function m(T,c){var o=g(c,T.seg.end,T.seg);return l(T,c),f(o,T.primary)}function h(T,c){var o=d.create();function p(k,F){var N=k.seg.start,O=k.seg.end,V=F.seg.start,X=F.seg.end;return L.pointsCollinear(N,V,X)?L.pointsCollinear(O,V,X)||L.pointAboveOrOnLine(O,V,X)?1:-1:L.pointAboveOrOnLine(N,V,X)?1:-1}function x(k){return o.findTransition(function(F){var N=p(k,F.ev);return N>0})}function A(k,F){var N=k.seg,O=F.seg,V=N.start,X=N.end,ee=O.start,ne=O.end;w&&w.checkIntersection(N,O);var q=L.linesIntersect(V,X,ee,ne);if(q===!1){if(!L.pointsCollinear(V,X,ee)||L.pointsSame(V,ne)||L.pointsSame(X,ee))return!1;var se=L.pointsSame(V,ee),J=L.pointsSame(X,ne);if(se&&J)return F;var Z=!se&&L.pointBetween(V,ee,ne),te=!J&&L.pointBetween(X,ee,ne);if(se)return te?m(F,X):m(k,ne),F;Z&&(J||(te?m(F,X):m(k,ne)),m(F,V))}else q.alongA===0&&(q.alongB===-1?m(k,ee):q.alongB===0?m(k,q.pt):q.alongB===1&&m(k,ne)),q.alongB===0&&(q.alongA===-1?m(F,V):q.alongA===0?m(F,q.pt):q.alongA===1&&m(F,X));return!1}for(var _=[];!r.isEmpty();){var y=r.getHead();if(w&&w.vert(y.pt[0]),y.isStart){let k=function(){if(M){var F=A(y,M);if(F)return F}return s?A(y,s):!1};w&&w.segmentNew(y.seg,y.primary);var E=x(y),M=E.before?E.before.ev:null,s=E.after?E.after.ev:null;w&&w.tempStatus(y.seg,M?M.seg:!1,s?s.seg:!1);var S=k();if(S){if(n){var b;y.seg.myFill.below===null?b=!0:b=y.seg.myFill.above!==y.seg.myFill.below,b&&(S.seg.myFill.above=!S.seg.myFill.above)}else S.seg.otherFill=y.seg.myFill;w&&w.segmentUpdate(S.seg),y.other.remove(),y.remove()}if(r.getHead()!==y){w&&w.rewind(y.seg);continue}if(n){var b;y.seg.myFill.below===null?b=!0:b=y.seg.myFill.above!==y.seg.myFill.below,s?y.seg.myFill.below=s.seg.myFill.above:y.seg.myFill.below=T,b?y.seg.myFill.above=!y.seg.myFill.below:y.seg.myFill.above=y.seg.myFill.below}else if(y.seg.otherFill===null){var I;s?y.primary===s.primary?I=s.seg.otherFill.above:I=s.seg.myFill.above:I=y.primary?c:T,y.seg.otherFill={above:I,below:I}}w&&w.status(y.seg,M?M.seg:!1,s?s.seg:!1),y.other.status=E.insert(d.node({ev:y}))}else{var D=y.status;if(D===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(D.prev)&&o.exists(D.next)&&A(D.prev.ev,D.next.ev),w&&w.statusRemove(D.ev.seg),D.remove(),!y.primary){var B=y.seg.myFill;y.seg.myFill=y.seg.otherFill,y.seg.otherFill=B}_.push(y.seg)}r.getHead().remove()}return w&&w.done(),_}return n?{addRegion:function(T){for(var c,o=T[T.length-1],p=0;p<T.length;p++){c=o,o=T[p];var x=L.pointsCompare(c,o);x!==0&&f(v(x<0?c:o,x<0?o:c),!0)}},calculate:function(T){return h(T,!1)}}:{calculate:function(T,c,o,p){return T.forEach(function(x){f(g(x.start,x.end,x),!0)}),o.forEach(function(x){f(g(x.start,x.end,x),!1)}),h(c,p)}}}H.exports=C},48088:function(H){var U={create:function(){var e={root:{root:!0,next:null},exists:function(d){return!(d===null||d===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(d,C){for(var n=e.root,L=e.root.next;L!==null;){if(C(L)){d.prev=L.prev,d.next=L,L.prev.next=d,L.prev=d;return}n=L,L=L.next}n.next=d,d.prev=n,d.next=null},findTransition:function(d){for(var C=e.root,n=e.root.next;n!==null&&!d(n);)C=n,n=n.next;return{before:C===e.root?null:C,after:n,insert:function(L){return L.prev=C,L.next=n,C.next=L,n!==null&&(n.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};H.exports=U},11403:function(H){function U(e,d,C){var n=[],L=[];return e.forEach(function(w){var v=w.start,g=w.end;if(d.pointsSame(v,g)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}C&&C.chainStart(w);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=r;function a(S,b,I){return i.index=S,i.matches_head=b,i.matches_pt1=I,i===r?(i=t,!1):(i=null,!0)}for(var u=0;u<n.length;u++){var f=n[u],l=f[0];f[1];var m=f[f.length-1];if(f[f.length-2],d.pointsSame(l,v)){if(a(u,!0,!0))break}else if(d.pointsSame(l,g)){if(a(u,!0,!1))break}else if(d.pointsSame(m,v)){if(a(u,!1,!0))break}else if(d.pointsSame(m,g)&&a(u,!1,!1))break}if(i===r){n.push([v,g]),C&&C.chainNew(v,g);return}if(i===t){C&&C.chainMatch(r.index);var h=r.index,T=r.matches_pt1?g:v,c=r.matches_head,f=n[h],o=c?f[0]:f[f.length-1],p=c?f[1]:f[f.length-2],x=c?f[f.length-1]:f[0],A=c?f[f.length-2]:f[1];if(d.pointsCollinear(p,o,T)&&(c?(C&&C.chainRemoveHead(r.index,T),f.shift()):(C&&C.chainRemoveTail(r.index,T),f.pop()),o=p),d.pointsSame(x,T)){n.splice(h,1),d.pointsCollinear(A,x,o)&&(c?(C&&C.chainRemoveTail(r.index,o),f.pop()):(C&&C.chainRemoveHead(r.index,o),f.shift())),C&&C.chainClose(r.index),L.push(f);return}c?(C&&C.chainAddHead(r.index,T),f.unshift(T)):(C&&C.chainAddTail(r.index,T),f.push(T));return}function _(S){C&&C.chainReverse(S),n[S].reverse()}function y(S,b){var I=n[S],D=n[b],B=I[I.length-1],k=I[I.length-2],F=D[0],N=D[1];d.pointsCollinear(k,B,F)&&(C&&C.chainRemoveTail(S,B),I.pop(),B=k),d.pointsCollinear(B,F,N)&&(C&&C.chainRemoveHead(b,F),D.shift()),C&&C.chainJoin(S,b),n[S]=I.concat(D),n.splice(b,1)}var E=r.index,M=t.index;C&&C.chainConnect(E,M);var s=n[E].length<n[M].length;r.matches_head?t.matches_head?s?(_(E),y(E,M)):(_(M),y(M,E)):y(M,E):t.matches_head?y(E,M):s?(_(E),y(M,E)):(_(M),y(E,M))}),L}H.exports=U},82368:function(H){function U(d,C,n){var L=[];return d.forEach(function(w){var v=(w.myFill.above?8:0)+(w.myFill.below?4:0)+(w.otherFill&&w.otherFill.above?2:0)+(w.otherFill&&w.otherFill.below?1:0);C[v]!==0&&L.push({id:n?n.segmentId():-1,start:w.start,end:w.end,myFill:{above:C[v]===1,below:C[v]===2},otherFill:null})}),n&&n.selected(L),L}var e={union:function(d,C){return U(d,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],C)},intersect:function(d,C){return U(d,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],C)},difference:function(d,C){return U(d,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],C)},differenceRev:function(d,C){return U(d,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],C)},xor:function(d,C){return U(d,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],C)}};H.exports=e},9696:function(H,U,e){var d=e(29936).Transform,C=e(55619);function n(){d.call(this,{readableObjectMode:!0})}n.prototype=Object.create(d.prototype),n.prototype.constructor=n,C(n.prototype),U.gS=function(w,v,g){for(var r=v,t=0;t<g.length;)if(w[r++]!==g[t++])return!1;return!0},U.wR=function(w,v){var g=[],r=0;if(v&&v==="hex")for(;r<w.length;)g.push(parseInt(w.slice(r,r+2),16)),r+=2;else for(;r<w.length;r++)g.push(w.charCodeAt(r)&255);return g},U.Bz=function(w,v){return w[v]|w[v+1]<<8},U.eW=function(w,v){return w[v+1]|w[v]<<8},U.st=function(w,v){return w[v]|w[v+1]<<8|w[v+2]<<16|w[v+3]*16777216},U.eI=function(w,v){return w[v+3]|w[v+2]<<8|w[v+1]<<16|w[v]*16777216};function L(w,v,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=w,v&&(this.code=v),g&&(this.statusCode=g)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},11688:function(H){function U(C,n){var L=new Error(C);return L.code=n,L}function e(C){try{return decodeURIComponent(escape(C))}catch{return C}}function d(C,n,L){this.input=C.subarray(n,L),this.start=n;var w=String.fromCharCode.apply(null,this.input.subarray(0,4));if(w!=="II*\0"&&w!=="MM\0*")throw U("invalid TIFF signature","EBADDATA");this.big_endian=w[0]==="M"}d.prototype.each=function(C){this.aborted=!1;var n=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:n}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,C)}},d.prototype.read_uint16=function(C){var n=this.input;if(C+2>n.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?n[C]*256+n[C+1]:n[C]+n[C+1]*256},d.prototype.read_uint32=function(C){var n=this.input;if(C+4>n.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?n[C]*16777216+n[C+1]*65536+n[C+2]*256+n[C+3]:n[C]+n[C+1]*256+n[C+2]*65536+n[C+3]*16777216},d.prototype.is_subifd_link=function(C,n){return C===0&&n===34665||C===0&&n===34853||C===34665&&n===40965},d.prototype.exif_format_length=function(C){switch(C){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},d.prototype.exif_format_read=function(C,n){var L;switch(C){case 1:case 2:return L=this.input[n],L;case 6:return L=this.input[n],L|(L&128)*33554430;case 3:return L=this.read_uint16(n),L;case 8:return L=this.read_uint16(n),L|(L&32768)*131070;case 4:return L=this.read_uint32(n),L;case 9:return L=this.read_uint32(n),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},d.prototype.scan_ifd=function(C,n,L){var w=this.read_uint16(n);n+=2;for(var v=0;v<w;v++){var g=this.read_uint16(n),r=this.read_uint16(n+2),t=this.read_uint32(n+4),i=this.exif_format_length(r),a=t*i,u=a<=4?n+8:this.read_uint32(n+8),f=!1;if(u+a>this.input.length)throw U("unexpected EOF","EBADDATA");for(var l=[],m=u,h=0;h<t;h++,m+=i){var T=this.exif_format_read(r,m);if(T===null){l=null;break}l.push(T)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(C,g)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:g,offset:l[0]}),f=!0);var c={is_big_endian:this.big_endian,ifd:C,tag:g,format:r,count:t,entry_offset:n+this.start,data_length:a,data_offset:u+this.start,value:l,is_subifd_link:f};if(L(c)===!1){this.aborted=!0;return}n+=12}C===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(n)})},H.exports.ExifParser=d,H.exports.get_orientation=function(C){var n=0;try{return new d(C,0,C.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return n=L.value[0],!1}),n}catch{return-1}}},44600:function(H,U,e){var d=e(9696).eW,C=e(9696).eI;function n(a,u){if(a.length<4+u)return null;var f=C(a,u);return a.length<f+u||f<8?null:{boxtype:String.fromCharCode.apply(null,a.slice(u+4,u+8)),data:a.slice(u+8,u+f),end:u+f}}H.exports.unbox=n;function L(a,u){for(var f=0;;){var l=n(a,f);if(!l)break;switch(l.boxtype){case"ispe":u.sizes.push({width:C(l.data,4),height:C(l.data,8)});break;case"irot":u.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":u.transforms.push({type:"imir",value:l.data[0]&1});break}f=l.end}}function w(a,u,f){for(var l=0,m=0;m<f;m++)l=l*256+(a[u+m]||0);return l}function v(a,u){for(var f=a[4]>>4&15,l=a[4]&15,m=a[5]>>4&15,h=d(a,6),T=8,c=0;c<h;c++){var o=d(a,T);T+=2;var p=d(a,T);T+=2;var x=w(a,T,m);T+=m;var A=d(a,T);if(T+=2,p===0&&A===1){var _=w(a,T,f),y=w(a,T+f,l);u.item_loc[o]={length:y,offset:_+x}}T+=A*(f+l)}}function g(a,u){for(var f=d(a,4),l=6,m=0;m<f;m++){var h=n(a,l);if(!h)break;if(h.boxtype==="infe"){for(var T=d(h.data,4),c="",o=8;o<h.data.length&&h.data[o];o++)c+=String.fromCharCode(h.data[o]);u.item_inf[c]=T}l=h.end}}function r(a,u){for(var f=0;;){var l=n(a,f);if(!l)break;l.boxtype==="ipco"&&L(l.data,u),f=l.end}}function t(a,u){for(var f=4;;){var l=n(a,f);if(!l)break;l.boxtype==="iprp"&&r(l.data,u),l.boxtype==="iloc"&&v(l.data,u),l.boxtype==="iinf"&&g(l.data,u),f=l.end}}function i(a){var u=a.reduce(function(m,h){return m.width>h.width||m.width===h.width&&m.height>h.height?m:h}),f=a.reduce(function(m,h){return m.height>h.height||m.height===h.height&&m.width>h.width?m:h}),l;return u.width>f.height||u.width===f.height&&u.height>f.width?l=u:l=f,l}H.exports.readSizeFromMeta=function(a){var u={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(a,u),!!u.sizes.length){var f=i(u.sizes),l=1;u.transforms.forEach(function(h){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?l=c[l]:(l=c[l],l=T[l],l=T[l])),h.type==="irot")for(var o=0;o<h.value;o++)l=T[l]});var m=null;return u.item_inf.Exif&&(m=u.item_loc[u.item_inf.Exif]),{width:f.width,height:f.height,orientation:u.transforms.length?l:null,variants:u.sizes,exif_location:m}}},H.exports.getMimeType=function(a){var u=String.fromCharCode.apply(null,a.slice(0,4)),f={};f[u]=!0;for(var l=8;l<a.length;l+=4)f[String.fromCharCode.apply(null,a.slice(l,l+4))]=!0;if(!(!f.mif1&&!f.msf1&&!f.miaf))return u==="avif"||u==="avis"||u==="avio"?{type:"avif",mime:"image/avif"}:u==="heic"||u==="heix"?{type:"heic",mime:"image/heic"}:u==="hevc"||u==="hevx"?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(H,U,e){var d=e(9696).wR,C=e(9696).gS,n=e(9696).eI,L=e(44600),w=e(11688),v=d("ftyp");H.exports=function(g){if(C(g,4,v)){var r=L.unbox(g,0);if(r){var t=L.getMimeType(r.data);if(t){for(var i,a=r.end;;){var u=L.unbox(g,a);if(!u)break;if(a=u.end,u.boxtype==="mdat")return;if(u.boxtype==="meta"){i=u.data;break}}if(i){var f=L.readSizeFromMeta(i);if(f){var l={width:f.width,height:f.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(l.variants=f.variants),f.orientation&&(l.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=g.length){var m=n(g,f.exif_location.offset),h=g.slice(f.exif_location.offset+m+4,f.exif_location.offset+f.exif_location.length),T=w.get_orientation(h);T>0&&(l.orientation=T)}return l}}}}}}},38728:function(H,U,e){var d=e(9696).wR,C=e(9696).gS,n=e(9696).Bz,L=d("BM");H.exports=function(w){if(!(w.length<26)&&C(w,0,L))return{width:n(w,18),height:n(w,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(H,U,e){var d=e(9696).wR,C=e(9696).gS,n=e(9696).Bz,L=d("GIF87a"),w=d("GIF89a");H.exports=function(v){if(!(v.length<10)&&!(!C(v,0,L)&&!C(v,0,w)))return{width:n(v,6),height:n(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(H,U,e){var d=e(9696).Bz,C=0,n=1,L=16;H.exports=function(w){var v=d(w,0),g=d(w,2),r=d(w,4);if(!(v!==C||g!==n||!r)){for(var t=[],i={width:0,height:0},a=0;a<r;a++){var u=w[6+L*a]||256,f=w[6+L*a+1]||256,l={width:u,height:f};t.push(l),(u>i.width||f>i.height)&&(i=l)}return{width:i.width,height:i.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(H,U,e){var d=e(9696).eW,C=e(9696).wR,n=e(9696).gS,L=e(11688),w=C("Exif\0\0");H.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var g=2;;){for(;;){if(v.length-g<2)return;if(v[g++]===255)break}for(var r=v[g++],t;r===255;)r=v[g++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-g<2)return;t=d(v,g)-2,g+=2}else return;if(r===217||r===218)return;var i;if(r===225&&t>=10&&n(v,g,w)&&(i=L.get_orientation(v.slice(g+6,g+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-g<t)return;var a={width:d(v,g+3),height:d(v,g+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(a.orientation=i),a}g+=t}}},37276:function(H,U,e){var d=e(9696).wR,C=e(9696).gS,n=e(9696).eI,L=d(`PNG\r

`),w=d("IHDR");H.exports=function(v){if(!(v.length<24)&&C(v,0,L)&&C(v,12,w))return{width:n(v,16),height:n(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(H,U,e){var d=e(9696).wR,C=e(9696).gS,n=e(9696).eI,L=d("8BPS\0");H.exports=function(w){if(!(w.length<22)&&C(w,0,L))return{width:n(w,18),height:n(w,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(H){function U(i){return i===32||i===9||i===13||i===10}function e(i){return typeof i=="number"&&isFinite(i)&&i>0}function d(i){var a=0,u=i.length;for(i[0]===239&&i[1]===187&&i[2]===191&&(a=3);a<u&&U(i[a]);)a++;return a===u?!1:i[a]===60}var C=/<[-_.:a-zA-Z0-9][^>]*>/,n=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,w=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,g=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(i){var a=i.match(L),u=i.match(w),f=i.match(v);return{width:a&&(a[1]||a[2]),height:u&&(u[1]||u[2]),viewbox:f&&(f[1]||f[2])}}function t(i){return g.test(i)?i.match(g)[0]:"px"}H.exports=function(i){if(d(i)){for(var a="",u=0;u<i.length;u++)a+=String.fromCharCode(i[u]);var f=(a.match(C)||[""])[0];if(n.test(f)){var l=r(f),m=parseFloat(l.width),h=parseFloat(l.height);if(l.width&&l.height)return!e(m)||!e(h)?void 0:{width:m,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var T=(l.viewbox||"").split(" "),c={width:T[2],height:T[3]},o=parseFloat(c.width),p=parseFloat(c.height);if(!(!e(o)||!e(p))&&t(c.width)===t(c.height)){var x=o/p;return l.width?e(m)?{width:m,height:m/x,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(h)?{width:h*x,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:o,height:p,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(H,U,e){var d=e(9696).wR,C=e(9696).gS,n=e(9696).Bz,L=e(9696).eW,w=e(9696).st,v=e(9696).eI,g=d("II*\0"),r=d("MM\0*");function t(u,f,l){return l?L(u,f):n(u,f)}function i(u,f,l){return l?v(u,f):w(u,f)}function a(u,f,l){var m=t(u,f+2,l),h=i(u,f+4,l);return h!==1||m!==3&&m!==4?null:m===3?t(u,f+8,l):i(u,f+8,l)}H.exports=function(u){if(!(u.length<8)&&!(!C(u,0,g)&&!C(u,0,r))){var f=u[0]===77,l=i(u,4,f)-8;if(!(l<0)){var m=l+8;if(!(u.length-m<2)){var h=t(u,m+0,f)*12;if(!(h<=0)&&(m+=2,!(u.length-m<h))){var T,c,o,p;for(T=0;T<h;T+=12)p=t(u,m+T,f),p===256?c=a(u,m+T,f):p===257&&(o=a(u,m+T,f));if(c&&o)return{width:c,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(H,U,e){var d=e(9696).wR,C=e(9696).gS,n=e(9696).Bz,L=e(9696).st,w=e(11688),v=d("RIFF"),g=d("WEBP");function r(a,u){if(!(a[u+3]!==157||a[u+4]!==1||a[u+5]!==42))return{width:n(a,u+6)&16383,height:n(a,u+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(a,u){if(a[u]===47){var f=L(a,u+1);return{width:(f&16383)+1,height:(f>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function i(a,u){return{width:(a[u+6]<<16|a[u+5]<<8|a[u+4])+1,height:(a[u+9]<<u|a[u+8]<<8|a[u+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}H.exports=function(a){if(!(a.length<16)&&!(!C(a,0,v)&&!C(a,8,g))){var u=12,f=null,l=0,m=L(a,4)+8;if(!(m>a.length)){for(;u+8<m;){if(a[u]===0){u++;continue}var h=String.fromCharCode.apply(null,a.slice(u,u+4)),T=L(a,u+4);h==="VP8 "&&T>=10?f=f||r(a,u+8):h==="VP8L"&&T>=9?f=f||t(a,u+8):h==="VP8X"&&T>=10?f=f||i(a,u+8):h==="EXIF"&&(l=w.get_orientation(a.slice(u+8,u+8+T)),u=1/0),u+=8+T}if(f)return l>0&&(f.orientation=l),f}}}},87480:function(H,U,e){H.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(H,U,e){var d=e(87480);function C(n){for(var L=Object.keys(d),w=0;w<L.length;w++){var v=d[L[w]](n);if(v)return v}return null}H.exports=function(L){return C(L)},H.exports.parsers=d},4168:function(H){var U=H.exports={},e,d;function C(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=C}catch{e=C}try{typeof clearTimeout=="function"?d=clearTimeout:d=n}catch{d=n}})();function L(l){if(e===setTimeout)return setTimeout(l,0);if((e===C||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function w(l){if(d===clearTimeout)return clearTimeout(l);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(l);try{return d(l)}catch{try{return d.call(null,l)}catch{return d.call(this,l)}}}var v=[],g=!1,r,t=-1;function i(){!g||!r||(g=!1,r.length?v=r.concat(v):t=-1,v.length&&a())}function a(){if(!g){var l=L(i);g=!0;for(var m=v.length;m;){for(r=v,v=[];++t<m;)r&&r[t].run();t=-1,m=v.length}r=null,g=!1,w(l)}}U.nextTick=function(l){var m=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)m[h-1]=arguments[h];v.push(new u(l,m)),v.length===1&&!g&&L(a)};function u(l,m){this.fun=l,this.array=m}u.prototype.run=function(){this.fun.apply(null,this.array)},U.title="browser",U.browser=!0,U.env={},U.argv=[],U.version="",U.versions={};function f(){}U.on=f,U.addListener=f,U.once=f,U.off=f,U.removeListener=f,U.removeAllListeners=f,U.emit=f,U.prependListener=f,U.prependOnceListener=f,U.listeners=function(l){return[]},U.binding=function(l){throw new Error("process.binding is not supported")},U.cwd=function(){return"/"},U.chdir=function(l){throw new Error("process.chdir is not supported")},U.umask=function(){return 0}},3951:function(H,U,e){for(var d=e(41984),C=typeof window>"u"?e.g:window,n=["moz","webkit"],L="AnimationFrame",w=C["request"+L],v=C["cancel"+L]||C["cancelRequest"+L],g=0;!w&&g<n.length;g++)w=C[n[g]+"Request"+L],v=C[n[g]+"Cancel"+L]||C[n[g]+"CancelRequest"+L];if(!w||!v){var r=0,t=0,i=[],a=1e3/60;w=function(u){if(i.length===0){var f=d(),l=Math.max(0,a-(f-r));r=l+f,setTimeout(function(){var m=i.slice(0);i.length=0;for(var h=0;h<m.length;h++)if(!m[h].cancelled)try{m[h].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(l))}return i.push({handle:++t,callback:u,cancelled:!1}),t},v=function(u){for(var f=0;f<i.length;f++)i[f].handle===u&&(i[f].cancelled=!0)}}H.exports=function(u){return w.call(C,u)},H.exports.cancel=function(){v.apply(C,arguments)},H.exports.polyfill=function(u){u||(u=C),u.requestAnimationFrame=w,u.cancelAnimationFrame=v}},24544:function(H,U,e){var d=e(76752),C=e(72160),n=e(45223),L=e(55616),w=e(50896),v=e(47520),g=e(37816),r=g.float32,t=g.fract32;H.exports=a;var i=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function a(u,f){if(typeof u=="function"?(f||(f={}),f.regl=u):f=u,f.length&&(f.positions=f),u=f.regl,!u.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=u._gl,m,h,T,c,o,p,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},A=[];return c=u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=u.buffer({usage:"static",type:"float",data:i}),M(f),m=u({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:u.prop("range"),lineWidth:u.prop("lineWidth"),capSize:u.prop("capSize"),opacity:u.prop("opacity"),scale:u.prop("scale"),translate:u.prop("translate"),scaleFract:u.prop("scaleFract"),translateFract:u.prop("translateFract"),viewport:function(S,b){return[b.viewport.x,b.viewport.y,S.viewportWidth,S.viewportHeight]}},attributes:{color:{buffer:c,offset:function(S,b){return b.offset*4},divisor:1},position:{buffer:h,offset:function(S,b){return b.offset*8},divisor:1},positionFract:{buffer:T,offset:function(S,b){return b.offset*8},divisor:1},error:{buffer:o,offset:function(S,b){return b.offset*16},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:u.prop("viewport")},viewport:u.prop("viewport"),stencil:!1,instances:u.prop("count"),count:i.length}),w(_,{update:M,draw:y,destroy:s,regl:u,gl:l,canvas:l.canvas,groups:A}),_;function _(S){S?M(S):S===null&&s(),y()}function y(S){if(typeof S=="number")return E(S);S&&!Array.isArray(S)&&(S=[S]),u._refresh(),A.forEach(function(b,I){if(b){if(S&&(S[I]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}E(I)}})}function E(S){typeof S=="number"&&(S=A[S]),S!=null&&S&&S.count&&S.color&&S.opacity&&S.positions&&S.positions.length>1&&(S.scaleRatio=[S.scale[0]*S.viewport.width,S.scale[1]*S.viewport.height],m(S),S.after&&S.after(S))}function M(S){if(S){S.length!=null?typeof S[0]=="number"&&(S=[{positions:S}]):Array.isArray(S)||(S=[S]);var b=0,I=0;if(_.groups=A=S.map(function(V,X){var ee=A[X];if(V)typeof V=="function"?V={after:V}:typeof V[0]=="number"&&(V={positions:V});else return ee;return V=L(V,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),ee||(A[X]=ee={id:X,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},V=w({},x,V)),n(ee,V,[{lineWidth:function(ne){return+ne*.5},capSize:function(ne){return+ne*.5},opacity:parseFloat,errors:function(ne){return ne=v(ne),I+=ne.length,ne},positions:function(ne,q){return ne=v(ne,"float64"),q.count=Math.floor(ne.length/2),q.bounds=d(ne,2),q.offset=b,b+=q.count,ne}},{color:function(ne,q){var se=q.count;if(ne||(ne="transparent"),!Array.isArray(ne)||typeof ne[0]=="number"){var J=ne;ne=Array(se);for(var Z=0;Z<se;Z++)ne[Z]=J}if(ne.length<se)throw Error("Not enough colors");for(var te=new Uint8Array(se*4),Y=0;Y<se;Y++){var ie=C(ne[Y],"uint8");te.set(ie,Y*4)}return te},range:function(ne,q,se){var J=q.bounds;return ne||(ne=J),q.scale=[1/(ne[2]-ne[0]),1/(ne[3]-ne[1])],q.translate=[-ne[0],-ne[1]],q.scaleFract=t(q.scale),q.translateFract=t(q.translate),ne},viewport:function(ne){var q;return Array.isArray(ne)?q={x:ne[0],y:ne[1],width:ne[2]-ne[0],height:ne[3]-ne[1]}:ne?(q={x:ne.x||ne.left||0,y:ne.y||ne.top||0},ne.right?q.width=ne.right-q.x:q.width=ne.w||ne.width||0,ne.bottom?q.height=ne.bottom-q.y:q.height=ne.h||ne.height||0):q={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},q}}]),ee}),b||I){var D=A.reduce(function(V,X,ee){return V+(X?X.count:0)},0),B=new Float64Array(D*2),k=new Uint8Array(D*4),F=new Float32Array(D*4);A.forEach(function(V,X){if(V){var ee=V.positions,ne=V.count,q=V.offset,se=V.color,J=V.errors;ne&&(k.set(se,q*4),F.set(J,q*4),B.set(ee,q*2))}});var N=r(B);h(N);var O=t(B,N);T(O),c(k),o(F)}}}function s(){h.destroy(),T.destroy(),c.destroy(),o.destroy(),p.destroy()}}},13472:function(H,U,e){var d=e(72160),C=e(76752),n=e(50896),L=e(55616),w=e(47520),v=e(28912),g=e(71152),r=e(37816),t=r.float32,i=r.fract32,a=e(60463),u=e(51160),f=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,m=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,T=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,o=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;H.exports=p;function p(x,A){if(!(this instanceof p))return new p(x,A);if(typeof x=="function"?(A||(A={}),A.regl=x):A=x,A.length&&(A.positions=A),x=A.regl,!x.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=x._gl,this.regl=x,this.passes=[],this.shaders=p.shaders.has(x)?p.shaders.get(x):p.shaders.set(x,p.createShaders(x)).get(x),this.update(A)}p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new a,p.createShaders=function(x){var A=x.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),_={primitive:"triangle strip",instances:x.prop("count"),count:4,offset:0,uniforms:{miterMode:function(s,S){return S.join==="round"?2:1},miterLimit:x.prop("miterLimit"),scale:x.prop("scale"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),thickness:x.prop("thickness"),dashTexture:x.prop("dashTexture"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),dashLength:x.prop("dashLength"),viewport:function(s,S){return[S.viewport.x,S.viewport.y,s.viewportWidth,s.viewportHeight]},depth:x.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(s,S){return!S.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:x.prop("viewport")},viewport:x.prop("viewport")},y=x(n({vert:l,frag:m,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},_)),E;try{E=x(n({cull:{enable:!0,face:"back"},vert:c,frag:o,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aColor:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:x.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},_))}catch{E=y}var M=x({primitive:"triangle",elements:function(s,S){return S.triangles},offset:0,vert:h,frag:T,uniforms:{scale:x.prop("scale"),color:x.prop("fill"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),viewport:function(s,S){return[S.viewport.x,S.viewport.y,s.viewportWidth,s.viewportHeight]}},attributes:{position:{buffer:x.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8}},blend:_.blend,depth:{enable:!1},scissor:_.scissor,stencil:_.stencil,viewport:_.viewport});return{fill:M,rect:y,miter:E}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var x,A=[],_=arguments.length;_--;)A[_]=arguments[_];A.length&&(x=this).update.apply(x,A),this.draw()},p.prototype.draw=function(){for(var x=this,A=[],_=arguments.length;_--;)A[_]=arguments[_];return(A.length?A:this.passes).forEach(function(y,E){var M;if(y&&Array.isArray(y))return(M=x).draw.apply(M,y);typeof y=="number"&&(y=x.passes[y]),y&&y.count>1&&y.opacity&&(x.regl._refresh(),y.fill&&y.triangles&&y.triangles.length>2&&x.shaders.fill(y),y.thickness&&(y.scale[0]*y.viewport.width>p.precisionThreshold||y.scale[1]*y.viewport.height>p.precisionThreshold||y.join==="rect"||!y.join&&(y.thickness<=2||y.count>=p.maxPoints)?x.shaders.rect(y):x.shaders.miter(y)))}),this},p.prototype.update=function(x){var A=this;if(x){x.length!=null?typeof x[0]=="number"&&(x=[{positions:x}]):Array.isArray(x)||(x=[x]);var _=this,y=_.regl,E=_.gl;if(x.forEach(function(I,D){var B=A.passes[D];if(I!==void 0){if(I===null){A.passes[D]=null;return}if(typeof I[0]=="number"&&(I={positions:I}),I=L(I,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),B||(A.passes[D]=B={id:D,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:y.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:y.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},I=n({},p.defaults,I)),I.thickness!=null&&(B.thickness=parseFloat(I.thickness)),I.opacity!=null&&(B.opacity=parseFloat(I.opacity)),I.miterLimit!=null&&(B.miterLimit=parseFloat(I.miterLimit)),I.overlay!=null&&(B.overlay=!!I.overlay,D<p.maxLines&&(B.depth=2*(p.maxLines-1-D%p.maxLines)/p.maxLines-1)),I.join!=null&&(B.join=I.join),I.hole!=null&&(B.hole=I.hole),I.fill!=null&&(B.fill=I.fill?d(I.fill,"uint8"):null),I.viewport!=null&&(B.viewport=u(I.viewport)),B.viewport||(B.viewport=u([E.drawingBufferWidth,E.drawingBufferHeight])),I.close!=null&&(B.close=I.close),I.positions===null&&(I.positions=[]),I.positions){var k,F;if(I.positions.x&&I.positions.y){var N=I.positions.x,O=I.positions.y;F=B.count=Math.max(N.length,O.length),k=new Float64Array(F*2);for(var V=0;V<F;V++)k[V*2]=N[V],k[V*2+1]=O[V]}else k=w(I.positions,"float64"),F=B.count=Math.floor(k.length/2);var X=B.bounds=C(k,2);if(B.fill){for(var ee=[],ne={},q=0,se=0,J=0,Z=B.count;se<Z;se++){var te=k[se*2],Y=k[se*2+1];isNaN(te)||isNaN(Y)||te==null||Y==null?(te=k[q*2],Y=k[q*2+1],ne[se]=q):q=se,ee[J++]=te,ee[J++]=Y}if(I.splitNull){B.count-1 in ne||(ne[B.count]=B.count-1);var ie=Object.keys(ne).map(Number).sort(function(pe,Te){return pe-Te}),le=[],j=0,K=B.hole!=null?B.hole[0]:null;if(K!=null){var ue=f(ie,function(pe){return pe>=K});ie=ie.slice(0,ue),ie.push(K)}for(var ae=function(pe){var Te=ee.slice(j*2,ie[pe]*2).concat(K?ee.slice(K*2):[]),Ue=(B.hole||[]).map(function(st){return st-K+(ie[pe]-j)}),et=v(Te,Ue);et=et.map(function(st){return st+j+(st+j<ie[pe]?0:K-ie[pe])}),le.push.apply(le,et),j=ie[pe]+1},he=0;he<ie.length;he++)ae(he);for(var xe=0,Se=le.length;xe<Se;xe++)ne[le[xe]]!=null&&(le[xe]=ne[le[xe]]);B.triangles=le}else{for(var Ae=v(ee,B.hole||[]),De=0,we=Ae.length;De<we;De++)ne[Ae[De]]!=null&&(Ae[De]=ne[Ae[De]]);B.triangles=Ae}}var Ce=new Float64Array(k);g(Ce,2,X);var be=new Float64Array(F*2+6);B.close?k[0]===k[F*2-2]&&k[1]===k[F*2-1]?(be[0]=Ce[F*2-4],be[1]=Ce[F*2-3]):(be[0]=Ce[F*2-2],be[1]=Ce[F*2-1]):(be[0]=Ce[0],be[1]=Ce[1]),be.set(Ce,2),B.close?k[0]===k[F*2-2]&&k[1]===k[F*2-1]?(be[F*2+2]=Ce[2],be[F*2+3]=Ce[3],B.count-=1):(be[F*2+2]=Ce[0],be[F*2+3]=Ce[1],be[F*2+4]=Ce[2],be[F*2+5]=Ce[3]):(be[F*2+2]=Ce[F*2-2],be[F*2+3]=Ce[F*2-1],be[F*2+4]=Ce[F*2-2],be[F*2+5]=Ce[F*2-1]);var Pe=t(be);B.positionBuffer(Pe);var Ve=i(be,Pe);B.positionFractBuffer(Ve)}if(I.range?B.range=I.range:B.range||(B.range=B.bounds),(I.range||I.positions)&&B.count){var Ge=B.bounds,Fe=Ge[2]-Ge[0],He=Ge[3]-Ge[1],ft=B.range[2]-B.range[0],gt=B.range[3]-B.range[1];B.scale=[Fe/ft,He/gt],B.translate=[-B.range[0]/ft+Ge[0]/ft||0,-B.range[1]/gt+Ge[1]/gt||0],B.scaleFract=i(B.scale),B.translateFract=i(B.translate)}if(I.dashes){var ct=0,nt;if(!I.dashes||I.dashes.length<2)ct=1,nt=new Uint8Array([255,255,255,255,255,255,255,255]);else{ct=0;for(var dt=0;dt<I.dashes.length;++dt)ct+=I.dashes[dt];nt=new Uint8Array(ct*p.dashMult);for(var pt=0,wt=255,Tt=0;Tt<2;Tt++)for(var Ct=0;Ct<I.dashes.length;++Ct){for(var at=0,ze=I.dashes[Ct]*p.dashMult*.5;at<ze;++at)nt[pt++]=wt;wt^=255}}B.dashLength=ct,B.dashTexture({channels:1,data:nt,width:nt.length,height:1,mag:"linear",min:"linear"},0,0)}if(I.color){var je=B.count,Je=I.color;Je||(Je="transparent");var Xe=new Uint8Array(je*4+4);if(!Array.isArray(Je)||typeof Je[0]=="number")for(var Oe=d(Je,"uint8"),ke=0;ke<je+1;ke++)Xe.set(Oe,ke*4);else{for(var Ke=0;Ke<je;Ke++){var Ie=d(Je[Ke],"uint8");Xe.set(Ie,Ke*4)}Xe.set(d(Je[0],"uint8"),je*4)}B.colorBuffer({usage:"dynamic",type:"uint8",data:Xe})}}}),x.length<this.passes.length){for(var M=x.length;M<this.passes.length;M++){var s=this.passes[M];s&&(s.colorBuffer.destroy(),s.positionBuffer.destroy(),s.dashTexture.destroy())}this.passes.length=x.length}for(var S=[],b=0;b<this.passes.length;b++)this.passes[b]!==null&&S.push(this.passes[b]);return this.passes=S,this}},p.prototype.destroy=function(){return this.passes.forEach(function(x){x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(H,U,e){function d(s,S){var b=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(b!=null){var I,D,B,k,F=[],N=!0,O=!1;try{if(B=(b=b.call(s)).next,S===0){if(Object(b)!==b)return;N=!1}else for(;!(N=(I=B.call(b)).done)&&(F.push(I.value),F.length!==S);N=!0);}catch(V){O=!0,D=V}finally{try{if(!N&&b.return!=null&&(k=b.return(),Object(k)!==k))return}finally{if(O)throw D}}return F}}function C(s,S){return w(s)||d(s,S)||g(s,S)||i()}function n(s){return L(s)||v(s)||g(s)||t()}function L(s){if(Array.isArray(s))return r(s)}function w(s){if(Array.isArray(s))return s}function v(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function g(s,S){if(s){if(typeof s=="string")return r(s,S);var b=Object.prototype.toString.call(s).slice(8,-1);if(b==="Object"&&s.constructor&&(b=s.constructor.name),b==="Map"||b==="Set")return Array.from(s);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(s,S)}}function r(s,S){(S==null||S>s.length)&&(S=s.length);for(var b=0,I=new Array(S);b<S;b++)I[b]=s[b];return I}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=e(72160),u=e(76752),f=e(3808),l=e(3108),m=e(50896),h=e(26444),T=e(55616),c=e(45223),o=e(47520),p=e(96604),x=e(37816),A=e(51160),_=y;function y(s,S){var b=this;if(!(this instanceof y))return new y(s,S);typeof s=="function"?(S||(S={}),S.regl=s):(S=s,s=null),S&&S.length&&(S.positions=S),s=S.regl;var I=s._gl,D,B=[],k={},F=[],N=[null],O=[null],V=255,X=100;this.tooManyColors=p,D=s.texture({data:new Uint8Array(V*4),width:V,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:s,gl:I,groups:F,markerCache:O,markerTextures:N,palette:B,paletteIds:k,paletteTexture:D,maxColors:V,maxSize:X,canvas:I.canvas}),this.update(S);var ee={uniforms:{constPointSize:!!S.constPointSize,opacity:s.prop("opacity"),paletteSize:function(J,Z){return[b.tooManyColors?0:V,D.height]},pixelRatio:s.context("pixelRatio"),scale:s.prop("scale"),scaleFract:s.prop("scaleFract"),translate:s.prop("translate"),translateFract:s.prop("translateFract"),markerTexture:s.prop("markerTexture"),paletteTexture:D},attributes:{x:function(J,Z){return Z.xAttr||{buffer:Z.positionBuffer,stride:8,offset:0}},y:function(J,Z){return Z.yAttr||{buffer:Z.positionBuffer,stride:8,offset:4}},xFract:function(J,Z){return Z.xAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:0}},yFract:function(J,Z){return Z.yAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:4}},size:function(J,Z){return Z.size.length?{buffer:Z.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Z.size*255/b.maxSize)]}},borderSize:function(J,Z){return Z.borderSize.length?{buffer:Z.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Z.borderSize*255/b.maxSize)]}},colorId:function(J,Z){return Z.color.length?{buffer:Z.colorBuffer,stride:b.tooManyColors?8:4,offset:0}:{constant:b.tooManyColors?B.slice(Z.color*4,Z.color*4+4):[Z.color]}},borderColorId:function(J,Z){return Z.borderColor.length?{buffer:Z.colorBuffer,stride:b.tooManyColors?8:4,offset:b.tooManyColors?4:2}:{constant:b.tooManyColors?B.slice(Z.borderColor*4,Z.borderColor*4+4):[Z.borderColor]}},isActive:function(J,Z){return Z.activation===!0?{constant:[1]}:Z.activation?Z.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:s.prop("elements"),count:s.prop("count"),offset:s.prop("offset"),primitive:"points"},ne=m({},ee);ne.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ne.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=s(ne);var q=m({},ee);q.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),q.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),p&&(q.frag=q.frag.replace("smoothstep","smoothStep"),ne.frag=ne.frag.replace("smoothstep","smoothStep")),this.drawCircle=s(q)}y.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},y.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},y.prototype.draw=function(){for(var s=this,S=arguments.length,b=new Array(S),I=0;I<S;I++)b[I]=arguments[I];var D=this.groups;if(b.length===1&&Array.isArray(b[0])&&(b[0][0]===null||Array.isArray(b[0][0]))&&(b=b[0]),this.regl._refresh(),b.length)for(var B=0;B<b.length;B++)this.drawItem(B,b[B]);else D.forEach(function(k,F){s.drawItem(F)});return this},y.prototype.drawItem=function(s,S){var b=this.groups,I=b[s];if(typeof S=="number"&&(s=S,I=b[S],S=null),!!(I&&I.count&&I.opacity)){I.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,I,S));for(var D=[],B=1;B<I.activation.length;B++)!I.activation[B]||I.activation[B]!==!0&&!I.activation[B].data.length||D.push.apply(D,n(this.getMarkerDrawOptions(B,I,S)));D.length&&this.drawMarker(D)}},y.prototype.getMarkerDrawOptions=function(s,S,b){var I=S.range,D=S.tree,B=S.viewport,k=S.activation,F=S.selectionBuffer,N=S.count;if(this.regl,!D)return b?[m({},S,{markerTexture:this.markerTextures[s],activation:k[s],count:b.length,elements:b,offset:0})]:[m({},S,{markerTexture:this.markerTextures[s],activation:k[s],offset:0})];var O=[],V=D.range(I,{lod:!0,px:[(I[2]-I[0])/B.width,(I[3]-I[1])/B.height]});if(b){for(var X=k[s],ee=X.data,ne=new Uint8Array(N),q=0;q<b.length;q++){var se=b[q];ne[se]=ee?ee[se]:1}F.subdata(ne)}for(var J=V.length;J--;){var Z=C(V[J],2),te=Z[0],Y=Z[1];O.push(m({},S,{markerTexture:this.markerTextures[s],activation:b?F:k[s],offset:te,count:Y-te}))}return O},y.prototype.update=function(){for(var s=this,S=arguments.length,b=new Array(S),I=0;I<S;I++)b[I]=arguments[I];if(b.length){b.length===1&&Array.isArray(b[0])&&(b=b[0]);var D=this.groups,B=this.gl,k=this.regl,F=this.maxSize,N=this.maxColors,O=this.palette;this.groups=D=b.map(function(V,X){var ee=D[X];if(V===void 0)return ee;V===null?V={positions:null}:typeof V=="function"?V={ondraw:V}:typeof V[0]=="number"&&(V={positions:V}),V=T(V,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),V.positions===null&&(V.positions=[]),V.tooManyColors!=null&&(s.tooManyColors=V.tooManyColors),ee||(D[X]=ee={id:X,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:k.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},V=m({},y.defaults,V)),V.positions&&!("marker"in V)&&(V.marker=ee.marker,delete ee.marker),V.marker&&!("positions"in V)&&(V.positions=ee.positions,delete ee.positions);var ne=0,q=0;if(c(ee,V,[{snap:!0,size:function(be,Pe){return be==null&&(be=y.defaults.size),ne+=be&&be.length?1:0,be},borderSize:function(be,Pe){return be==null&&(be=y.defaults.borderSize),ne+=be&&be.length?1:0,be},opacity:parseFloat,color:function(be,Pe){return be==null&&(be=y.defaults.color),be=s.updateColor(be),q++,be},borderColor:function(be,Pe){return be==null&&(be=y.defaults.borderColor),be=s.updateColor(be),q++,be},bounds:function(be,Pe,Ve){return"range"in Ve||(Ve.range=null),be},positions:function(be,Pe,Ve){var Ge=Pe.snap,Fe=Pe.positionBuffer,He=Pe.positionFractBuffer,ft=Pe.selectionBuffer;if(be.x||be.y)return be.x.length?Pe.xAttr={buffer:k.buffer(be.x),offset:0,stride:4,count:be.x.length}:Pe.xAttr={buffer:be.x.buffer,offset:be.x.offset*4||0,stride:(be.x.stride||1)*4,count:be.x.count},be.y.length?Pe.yAttr={buffer:k.buffer(be.y),offset:0,stride:4,count:be.y.length}:Pe.yAttr={buffer:be.y.buffer,offset:be.y.offset*4||0,stride:(be.y.stride||1)*4,count:be.y.count},Pe.count=Math.max(Pe.xAttr.count,Pe.yAttr.count),be;be=o(be,"float64");var gt=Pe.count=Math.floor(be.length/2),ct=Pe.bounds=gt?u(be,2):null;if(!Ve.range&&!Pe.range&&(delete Pe.range,Ve.range=ct),!Ve.marker&&!Pe.marker&&(delete Pe.marker,Ve.marker=null),Ge&&(Ge===!0||gt>Ge)?Pe.tree=l(be,{bounds:ct}):Ge&&Ge.length&&(Pe.tree=Ge),Pe.tree){var nt={primitive:"points",usage:"static",data:Pe.tree,type:"uint32"};Pe.elements?Pe.elements(nt):Pe.elements=k.elements(nt)}var dt=x.float32(be);Fe({data:dt,usage:"dynamic"});var pt=x.fract32(be,dt);return He({data:pt,usage:"dynamic"}),ft({data:new Uint8Array(gt),type:"uint8",usage:"stream"}),be}},{marker:function(be,Pe,Ve){var Ge=Pe.activation;if(Ge.forEach(function(pt){return pt&&pt.destroy&&pt.destroy()}),Ge.length=0,!be||typeof be[0]=="number"){var Fe=s.addMarker(be);Ge[Fe]=!0}else{for(var He=[],ft=0,gt=Math.min(be.length,Pe.count);ft<gt;ft++){var ct=s.addMarker(be[ft]);He[ct]||(He[ct]=new Uint8Array(Pe.count)),He[ct][ft]=1}for(var nt=0;nt<He.length;nt++)if(He[nt]){var dt={data:He[nt],type:"uint8",usage:"static"};Ge[nt]?Ge[nt](dt):Ge[nt]=k.buffer(dt),Ge[nt].data=He[nt]}}return be},range:function(be,Pe,Ve){var Ge=Pe.bounds;if(Ge)return be||(be=Ge),Pe.scale=[1/(be[2]-be[0]),1/(be[3]-be[1])],Pe.translate=[-be[0],-be[1]],Pe.scaleFract=x.fract(Pe.scale),Pe.translateFract=x.fract(Pe.translate),be},viewport:function(be){var Pe=A(be||[B.drawingBufferWidth,B.drawingBufferHeight]);return Pe}}]),ne){var se=ee,J=se.count,Z=se.size,te=se.borderSize,Y=se.sizeBuffer,ie=new Uint8Array(J*2);if(Z.length||te.length)for(var le=0;le<J;le++)ie[le*2]=Math.round((Z[le]==null?Z:Z[le])*255/F),ie[le*2+1]=Math.round((te[le]==null?te:te[le])*255/F);Y({data:ie,usage:"dynamic"})}if(q){var j=ee,K=j.count,ue=j.color,ae=j.borderColor,he=j.colorBuffer,xe;if(s.tooManyColors){if(ue.length||ae.length){xe=new Uint8Array(K*8);for(var Se=0;Se<K;Se++){var Ae=ue[Se];xe[Se*8]=O[Ae*4],xe[Se*8+1]=O[Ae*4+1],xe[Se*8+2]=O[Ae*4+2],xe[Se*8+3]=O[Ae*4+3];var De=ae[Se];xe[Se*8+4]=O[De*4],xe[Se*8+5]=O[De*4+1],xe[Se*8+6]=O[De*4+2],xe[Se*8+7]=O[De*4+3]}}}else if(ue.length||ae.length){xe=new Uint8Array(K*4+2);for(var we=0;we<K;we++)ue[we]!=null&&(xe[we*4]=ue[we]%N,xe[we*4+1]=Math.floor(ue[we]/N)),ae[we]!=null&&(xe[we*4+2]=ae[we]%N,xe[we*4+3]=Math.floor(ae[we]/N))}he({data:xe||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return ee})}},y.prototype.addMarker=function(s){var S=this.markerTextures,b=this.regl,I=this.markerCache,D=s==null?0:I.indexOf(s);if(D>=0)return D;var B;if(s instanceof Uint8Array||s instanceof Uint8ClampedArray)B=s;else{B=new Uint8Array(s.length);for(var k=0,F=s.length;k<F;k++)B[k]=s[k]*255}var N=Math.floor(Math.sqrt(B.length));return D=S.length,I.push(s),S.push(b.texture({channels:1,data:B,radius:N,mag:"linear",min:"linear"})),D},y.prototype.updateColor=function(s){var S=this.paletteIds,b=this.palette,I=this.maxColors;Array.isArray(s)||(s=[s]);var D=[];if(typeof s[0]=="number"){var B=[];if(Array.isArray(s))for(var k=0;k<s.length;k+=4)B.push(s.slice(k,k+4));else for(var F=0;F<s.length;F+=4)B.push(s.subarray(F,F+4));s=B}for(var N=0;N<s.length;N++){var O=s[N];O=a(O,"uint8");var V=f(O,!1);if(S[V]==null){var X=b.length;S[V]=Math.floor(X/4),b[X]=O[0],b[X+1]=O[1],b[X+2]=O[2],b[X+3]=O[3]}D[N]=S[V]}return!this.tooManyColors&&b.length>I*4&&(this.tooManyColors=!0),this.updatePalette(b),D.length===1?D[0]:D},y.prototype.updatePalette=function(s){if(!this.tooManyColors){var S=this.maxColors,b=this.paletteTexture,I=Math.ceil(s.length*.25/S);if(I>1){s=s.slice();for(var D=s.length*.25%S;D<I*S;D++)s.push(0,0,0,0)}b.height<I&&b.resize(S,I),b.subimage({width:Math.min(s.length*.25,S),height:I,data:s},0,0)}},y.prototype.destroy=function(){return this.groups.forEach(function(s){s.sizeBuffer.destroy(),s.positionBuffer.destroy(),s.positionFractBuffer.destroy(),s.colorBuffer.destroy(),s.activation.forEach(function(S){return S&&S.destroy&&S.destroy()}),s.selectionBuffer.destroy(),s.elements&&s.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(s){return s&&s.destroy&&s.destroy()}),this};var E=e(50896),M=function(S,b){var I=new _(S,b),D=I.render.bind(I);return E(D,{render:D,update:I.update.bind(I),draw:I.draw.bind(I),destroy:I.destroy.bind(I),regl:I.regl,gl:I.gl,canvas:I.gl.canvas,groups:I.groups,markers:I.markerCache,palette:I.palette}),D};H.exports=M},55795:function(H,U,e){var d=e(38540),C=e(55616),n=e(76752),L=e(3951),w=e(67752),v=e(51160),g=e(47520);H.exports=r;function r(u,f){if(!(this instanceof r))return new r(u);this.traces=[],this.passes={},this.regl=u,this.scatter=d(u),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var u=this,f,l=[],m=arguments.length;m--;)l[m]=arguments[m];return l.length&&(f=this).update.apply(f,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,L(function(){u.dirty=!1})),this)},r.prototype.update=function(){for(var u,f=[],l=arguments.length;l--;)f[l]=arguments[l];if(f.length){for(var m=0;m<f.length;m++)this.updateItem(m,f[m]);this.traces=this.traces.filter(Boolean);for(var h=[],T=0,c=0;c<this.traces.length;c++){for(var o=this.traces[c],p=this.traces[c].passes,x=0;x<p.length;x++)h.push(this.passes[p[x]]);o.passOffset=T,T+=o.passes.length}return(u=this.scatter).update.apply(u,h),this}},r.prototype.updateItem=function(u,f){var l=this,m=l.regl;if(f===null)return this.traces[u]=null,this;if(!f)return this;var h=C(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[u]||(this.traces[u]={id:u,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(T.color=h.color),h.size!=null&&(T.size=h.size),h.marker!=null&&(T.marker=h.marker),h.borderColor!=null&&(T.borderColor=h.borderColor),h.borderSize!=null&&(T.borderSize=h.borderSize),h.opacity!=null&&(T.opacity=h.opacity),h.viewport&&(T.viewport=v(h.viewport)),h.diagonal!=null&&(T.diagonal=h.diagonal),h.upper!=null&&(T.upper=h.upper),h.lower!=null&&(T.lower=h.lower),h.data){T.buffer(g(h.data)),T.columns=h.data.length,T.count=h.data[0].length,T.bounds=[];for(var c=0;c<T.columns;c++)T.bounds[c]=n(h.data[c],1)}var o;h.range&&(T.range=h.range,o=T.range&&typeof T.range[0]!="number"),h.domain&&(T.domain=h.domain);var p=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===T.columns&&typeof h.padding[h.padding.length-1]=="number"?(T.padding=h.padding.map(a),p=!0):T.padding=a(h.padding));var x=T.columns,A=T.count,_=T.viewport.width,y=T.viewport.height,E=T.viewport.x,M=T.viewport.y,s=_/x,S=y/x;T.passes=[];for(var b=0;b<x;b++)for(var I=0;I<x;I++)if(!(!T.diagonal&&I===b)&&!(!T.upper&&b>I)&&!(!T.lower&&b<I)){var D=t(T.id,b,I),B=this.passes[D]||(this.passes[D]={});if(h.data&&(h.transpose?B.positions={x:{buffer:T.buffer,offset:I,count:A,stride:x},y:{buffer:T.buffer,offset:b,count:A,stride:x}}:B.positions={x:{buffer:T.buffer,offset:I*A,count:A},y:{buffer:T.buffer,offset:b*A,count:A}},B.bounds=i(T.bounds,b,I)),h.domain||h.viewport||h.data){var k=p?i(T.padding,b,I):T.padding;if(T.domain){var F=i(T.domain,b,I),N=F[0],O=F[1],V=F[2],X=F[3];B.viewport=[E+N*_+k[0],M+O*y+k[1],E+V*_-k[2],M+X*y-k[3]]}else B.viewport=[E+I*s+s*k[0],M+b*S+S*k[1],E+(I+1)*s-s*k[2],M+(b+1)*S-S*k[3]]}h.color&&(B.color=T.color),h.size&&(B.size=T.size),h.marker&&(B.marker=T.marker),h.borderSize&&(B.borderSize=T.borderSize),h.borderColor&&(B.borderColor=T.borderColor),h.opacity&&(B.opacity=T.opacity),h.range&&(B.range=o?i(T.range,b,I):T.range||B.bounds),T.passes.push(D)}return this},r.prototype.draw=function(){for(var u,f=[],l=arguments.length;l--;)f[l]=arguments[l];if(!f.length)this.scatter.draw();else{for(var m=[],h=0;h<f.length;h++)if(typeof f[h]=="number"){var T=this.traces[f[h]],c=T.passes,o=T.passOffset;m.push.apply(m,w(o,o+c.length))}else if(f[h].length){var p=f[h],x=this.traces[h],A=x.passes,_=x.passOffset;A=A.map(function(y,E){m[_+E]=p})}(u=this.scatter).draw.apply(u,m)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(u){u.buffer&&u.buffer.destroy&&u.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(u,f,l){var m=u.id!=null?u.id:u,h=f,T=l,c=m<<16|(h&255)<<8|T&255;return c}function i(u,f,l){var m,h,T,c,o=u[f],p=u[l];return o.length>2?(o[0],o[2],m=o[1],h=o[3]):o.length?(m=o[0],h=o[1]):(o.x,m=o.y,o.x+o.width,h=o.y+o.height),p.length>2?(T=p[0],c=p[2],p[1],p[3]):p.length?(T=p[0],c=p[1]):(T=p.x,p.y,c=p.x+p.width,p.y+p.height),[T,m,c,h]}function a(u){if(typeof u=="number")return[u,u,u,u];if(u.length===2)return[u[0],u[1],u[0],u[1]];var f=v(u);return[f.x,f.y,f.x+f.width,f.y+f.height]}},28624:function(H){(function(U,e){H.exports=e()})(this,function(){function U(xt,qt){this.id=he++,this.type=xt,this.data=qt}function e(xt){if(xt.length===0)return[];var qt=xt.charAt(0),nr=xt.charAt(xt.length-1);if(1<xt.length&&qt===nr&&(qt==='"'||qt==="'"))return['"'+xt.substr(1,xt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(qt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(xt))return e(xt.substr(0,qt.index)).concat(e(qt[1])).concat(e(xt.substr(qt.index+qt[0].length)));if(qt=xt.split("."),qt.length===1)return['"'+xt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(xt=[],nr=0;nr<qt.length;++nr)xt=xt.concat(e(qt[nr]));return xt}function d(xt){return"["+e(xt).join("][")+"]"}function C(xt,qt){if(typeof xt=="function")return new U(0,xt);if(typeof xt=="number"||typeof xt=="boolean")return new U(5,xt);if(Array.isArray(xt))return new U(6,xt.map(function(nr,wr){return C(nr)}));if(xt instanceof U)return xt}function n(){var xt={"":0},qt=[""];return{id:function(nr){var wr=xt[nr];return wr||(wr=xt[nr]=qt.length,qt.push(nr),wr)},str:function(nr){return qt[nr]}}}function L(xt,qt,nr){function wr(){var ut=window.innerWidth,Mt=window.innerHeight;xt!==document.body&&(Mt=dr.getBoundingClientRect(),ut=Mt.right-Mt.left,Mt=Mt.bottom-Mt.top),dr.width=nr*ut,dr.height=nr*Mt}var dr=document.createElement("canvas");ae(dr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),xt.appendChild(dr),xt===document.body&&(dr.style.position="absolute",ae(xt.style,{margin:0,padding:0}));var bt;return xt!==document.body&&typeof ResizeObserver=="function"?(bt=new ResizeObserver(function(){setTimeout(wr)}),bt.observe(xt)):window.addEventListener("resize",wr,!1),wr(),{canvas:dr,onDestroy:function(){bt?bt.disconnect():window.removeEventListener("resize",wr),xt.removeChild(dr)}}}function w(xt,qt){function nr(wr){try{return xt.getContext(wr,qt)}catch{return null}}return nr("webgl")||nr("experimental-webgl")||nr("webgl-experimental")}function v(xt){return typeof xt=="string"?xt.split():xt}function g(xt){return typeof xt=="string"?document.querySelector(xt):xt}function r(xt){var qt=xt||{},nr,wr,dr,bt;xt={};var ut=[],Mt=[],_t=typeof window>"u"?1:window.devicePixelRatio,kt=!1,Xt={},Wt=function(tr){},Ht=function(){};if(typeof qt=="string"?nr=document.querySelector(qt):typeof qt=="object"&&(typeof qt.nodeName=="string"&&typeof qt.appendChild=="function"&&typeof qt.getBoundingClientRect=="function"?nr=qt:typeof qt.drawArrays=="function"||typeof qt.drawElements=="function"?(bt=qt,dr=bt.canvas):("gl"in qt?bt=qt.gl:"canvas"in qt?dr=g(qt.canvas):"container"in qt&&(wr=g(qt.container)),"attributes"in qt&&(xt=qt.attributes),"extensions"in qt&&(ut=v(qt.extensions)),"optionalExtensions"in qt&&(Mt=v(qt.optionalExtensions)),"onDone"in qt&&(Wt=qt.onDone),"profile"in qt&&(kt=!!qt.profile),"pixelRatio"in qt&&(_t=+qt.pixelRatio),"cachedCode"in qt&&(Xt=qt.cachedCode))),nr&&(nr.nodeName.toLowerCase()==="canvas"?dr=nr:wr=nr),!bt){if(!dr){if(nr=L(wr||document.body,Wt,_t),!nr)return null;dr=nr.canvas,Ht=nr.onDestroy}xt.premultipliedAlpha===void 0&&(xt.premultipliedAlpha=!0),bt=w(dr,xt)}return bt?{gl:bt,canvas:dr,container:wr,extensions:ut,optionalExtensions:Mt,pixelRatio:_t,profile:kt,cachedCode:Xt,onDone:Wt,onDestroy:Ht}:(Ht(),Wt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(xt,qt){function nr(ut){ut=ut.toLowerCase();var Mt;try{Mt=wr[ut]=xt.getExtension(ut)}catch{}return!!Mt}for(var wr={},dr=0;dr<qt.extensions.length;++dr){var bt=qt.extensions[dr];if(!nr(bt))return qt.onDestroy(),qt.onDone('"'+bt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return qt.optionalExtensions.forEach(nr),{extensions:wr,restore:function(){Object.keys(wr).forEach(function(ut){if(wr[ut]&&!nr(ut))throw Error("(regl): error restoring extension "+ut)})}}}function i(xt,qt){for(var nr=Array(xt),wr=0;wr<xt;++wr)nr[wr]=qt(wr);return nr}function a(xt){var qt,nr;return qt=(65535<xt)<<4,xt>>>=qt,nr=(255<xt)<<3,xt>>>=nr,qt|=nr,nr=(15<xt)<<2,xt>>>=nr,qt|=nr,nr=(3<xt)<<1,qt|nr|xt>>>nr>>1}function u(){function xt(wr){e:{for(var dr=16;268435456>=dr;dr*=16)if(wr<=dr){wr=dr;break e}wr=0}return dr=nr[a(wr)>>2],0<dr.length?dr.pop():new ArrayBuffer(wr)}function qt(wr){nr[a(wr.byteLength)>>2].push(wr)}var nr=i(8,function(){return[]});return{alloc:xt,free:qt,allocType:function(wr,dr){var bt=null;switch(wr){case 5120:bt=new Int8Array(xt(dr),0,dr);break;case 5121:bt=new Uint8Array(xt(dr),0,dr);break;case 5122:bt=new Int16Array(xt(2*dr),0,dr);break;case 5123:bt=new Uint16Array(xt(2*dr),0,dr);break;case 5124:bt=new Int32Array(xt(4*dr),0,dr);break;case 5125:bt=new Uint32Array(xt(4*dr),0,dr);break;case 5126:bt=new Float32Array(xt(4*dr),0,dr);break;default:return null}return bt.length!==dr?bt.subarray(0,dr):bt},freeType:function(wr){qt(wr.buffer)}}}function f(xt){return!!xt&&typeof xt=="object"&&Array.isArray(xt.shape)&&Array.isArray(xt.stride)&&typeof xt.offset=="number"&&xt.shape.length===xt.stride.length&&(Array.isArray(xt.data)||Ce(xt.data))}function l(xt,qt,nr,wr,dr,bt){for(var ut=0;ut<qt;++ut)for(var Mt=xt[ut],_t=0;_t<nr;++_t)for(var kt=Mt[_t],Xt=0;Xt<wr;++Xt)dr[bt++]=kt[Xt]}function m(xt,qt,nr,wr,dr){for(var bt=1,ut=nr+1;ut<qt.length;++ut)bt*=qt[ut];var Mt=qt[nr];if(qt.length-nr===4){var _t=qt[nr+1],kt=qt[nr+2];for(qt=qt[nr+3],ut=0;ut<Mt;++ut)l(xt[ut],_t,kt,qt,wr,dr),dr+=bt}else for(ut=0;ut<Mt;++ut)m(xt[ut],qt,nr+1,wr,dr),dr+=bt}function h(xt){return Ve[Object.prototype.toString.call(xt)]|0}function T(xt,qt){for(var nr=0;nr<qt.length;++nr)xt[nr]=qt[nr]}function c(xt,qt,nr,wr,dr,bt,ut){for(var Mt=0,_t=0;_t<nr;++_t)for(var kt=0;kt<wr;++kt)xt[Mt++]=qt[dr*_t+bt*kt+ut]}function o(xt,qt,nr,wr){function dr(Wt){this.id=_t++,this.buffer=xt.createBuffer(),this.type=Wt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,nr.profile&&(this.stats={size:0})}function bt(Wt,Ht,tr){Wt.byteLength=Ht.byteLength,xt.bufferData(Wt.type,Ht,tr)}function ut(Wt,Ht,tr,gr,Qt,mr){if(Wt.usage=tr,Array.isArray(Ht)){if(Wt.dtype=gr||5126,0<Ht.length)if(Array.isArray(Ht[0])){Qt=ft(Ht);for(var Ze=gr=1;Ze<Qt.length;++Ze)gr*=Qt[Ze];Wt.dimension=gr,Ht=He(Ht,Qt,Wt.dtype),bt(Wt,Ht,tr),mr?Wt.persistentData=Ht:De.freeType(Ht)}else typeof Ht[0]=="number"?(Wt.dimension=Qt,Qt=De.allocType(Wt.dtype,Ht.length),T(Qt,Ht),bt(Wt,Qt,tr),mr?Wt.persistentData=Qt:De.freeType(Qt)):Ce(Ht[0])&&(Wt.dimension=Ht[0].length,Wt.dtype=gr||h(Ht[0])||5126,Ht=He(Ht,[Ht.length,Ht[0].length],Wt.dtype),bt(Wt,Ht,tr),mr?Wt.persistentData=Ht:De.freeType(Ht))}else if(Ce(Ht))Wt.dtype=gr||h(Ht),Wt.dimension=Qt,bt(Wt,Ht,tr),mr&&(Wt.persistentData=new Uint8Array(new Uint8Array(Ht.buffer)));else if(f(Ht)){Qt=Ht.shape;var Ye=Ht.stride,Ze=Ht.offset,Bt=0,Ft=0,rr=0,sr=0;Qt.length===1?(Bt=Qt[0],Ft=1,rr=Ye[0],sr=0):Qt.length===2&&(Bt=Qt[0],Ft=Qt[1],rr=Ye[0],sr=Ye[1]),Wt.dtype=gr||h(Ht.data)||5126,Wt.dimension=Ft,Qt=De.allocType(Wt.dtype,Bt*Ft),c(Qt,Ht.data,Bt,Ft,rr,sr,Ze),bt(Wt,Qt,tr),mr?Wt.persistentData=Qt:De.freeType(Qt)}else Ht instanceof ArrayBuffer&&(Wt.dtype=5121,Wt.dimension=Qt,bt(Wt,Ht,tr),mr&&(Wt.persistentData=new Uint8Array(new Uint8Array(Ht))))}function Mt(Wt){qt.bufferCount--,wr(Wt),xt.deleteBuffer(Wt.buffer),Wt.buffer=null,delete kt[Wt.id]}var _t=0,kt={};dr.prototype.bind=function(){xt.bindBuffer(this.type,this.buffer)},dr.prototype.destroy=function(){Mt(this)};var Xt=[];return nr.profile&&(qt.getTotalBufferSize=function(){var Wt=0;return Object.keys(kt).forEach(function(Ht){Wt+=kt[Ht].stats.size}),Wt}),{create:function(Wt,Ht,tr,gr){function Qt(Ze){var Ye=35044,Bt=null,Ft=0,rr=0,sr=1;return Array.isArray(Ze)||Ce(Ze)||f(Ze)||Ze instanceof ArrayBuffer?Bt=Ze:typeof Ze=="number"?Ft=Ze|0:Ze&&("data"in Ze&&(Bt=Ze.data),"usage"in Ze&&(Ye=Fe[Ze.usage]),"type"in Ze&&(rr=Ge[Ze.type]),"dimension"in Ze&&(sr=Ze.dimension|0),"length"in Ze&&(Ft=Ze.length|0)),mr.bind(),Bt?ut(mr,Bt,Ye,rr,sr,gr):(Ft&&xt.bufferData(mr.type,Ft,Ye),mr.dtype=rr||5121,mr.usage=Ye,mr.dimension=sr,mr.byteLength=Ft),nr.profile&&(mr.stats.size=mr.byteLength*gt[mr.dtype]),Qt}qt.bufferCount++;var mr=new dr(Ht);return kt[mr.id]=mr,tr||Qt(Wt),Qt._reglType="buffer",Qt._buffer=mr,Qt.subdata=function(Ze,Ye){var Bt=(Ye||0)|0,Ft;if(mr.bind(),Ce(Ze)||Ze instanceof ArrayBuffer)xt.bufferSubData(mr.type,Bt,Ze);else if(Array.isArray(Ze)){if(0<Ze.length)if(typeof Ze[0]=="number"){var rr=De.allocType(mr.dtype,Ze.length);T(rr,Ze),xt.bufferSubData(mr.type,Bt,rr),De.freeType(rr)}else(Array.isArray(Ze[0])||Ce(Ze[0]))&&(Ft=ft(Ze),rr=He(Ze,Ft,mr.dtype),xt.bufferSubData(mr.type,Bt,rr),De.freeType(rr))}else if(f(Ze)){Ft=Ze.shape;var sr=Ze.stride,fr=rr=0,ir=0,Vt=0;Ft.length===1?(rr=Ft[0],fr=1,ir=sr[0],Vt=0):Ft.length===2&&(rr=Ft[0],fr=Ft[1],ir=sr[0],Vt=sr[1]),Ft=Array.isArray(Ze.data)?mr.dtype:h(Ze.data),Ft=De.allocType(Ft,rr*fr),c(Ft,Ze.data,rr,fr,ir,Vt,Ze.offset),xt.bufferSubData(mr.type,Bt,Ft),De.freeType(Ft)}return Qt},nr.profile&&(Qt.stats=mr.stats),Qt.destroy=function(){Mt(mr)},Qt},createStream:function(Wt,Ht){var tr=Xt.pop();return tr||(tr=new dr(Wt)),tr.bind(),ut(tr,Ht,35040,0,1,!1),tr},destroyStream:function(Wt){Xt.push(Wt)},clear:function(){be(kt).forEach(Mt),Xt.forEach(Mt)},getBuffer:function(Wt){return Wt&&Wt._buffer instanceof dr?Wt._buffer:null},restore:function(){be(kt).forEach(function(Wt){Wt.buffer=xt.createBuffer(),xt.bindBuffer(Wt.type,Wt.buffer),xt.bufferData(Wt.type,Wt.persistentData||Wt.byteLength,Wt.usage)})},_initBuffer:ut}}function p(xt,qt,nr,wr){function dr(Wt){this.id=_t++,Mt[this.id]=this,this.buffer=Wt,this.primType=4,this.type=this.vertCount=0}function bt(Wt,Ht,tr,gr,Qt,mr,Ze){Wt.buffer.bind();var Ye;if(Ht?((Ye=Ze)||Ce(Ht)&&(!f(Ht)||Ce(Ht.data))||(Ye=qt.oes_element_index_uint?5125:5123),nr._initBuffer(Wt.buffer,Ht,tr,Ye,3)):(xt.bufferData(34963,mr,tr),Wt.buffer.dtype=Ye||5121,Wt.buffer.usage=tr,Wt.buffer.dimension=3,Wt.buffer.byteLength=mr),Ye=Ze,!Ze){switch(Wt.buffer.dtype){case 5121:case 5120:Ye=5121;break;case 5123:case 5122:Ye=5123;break;case 5125:case 5124:Ye=5125}Wt.buffer.dtype=Ye}Wt.type=Ye,Ht=Qt,0>Ht&&(Ht=Wt.buffer.byteLength,Ye===5123?Ht>>=1:Ye===5125&&(Ht>>=2)),Wt.vertCount=Ht,Ht=gr,0>gr&&(Ht=4,gr=Wt.buffer.dimension,gr===1&&(Ht=0),gr===2&&(Ht=1),gr===3&&(Ht=4)),Wt.primType=Ht}function ut(Wt){wr.elementsCount--,delete Mt[Wt.id],Wt.buffer.destroy(),Wt.buffer=null}var Mt={},_t=0,kt={uint8:5121,uint16:5123};qt.oes_element_index_uint&&(kt.uint32=5125),dr.prototype.bind=function(){this.buffer.bind()};var Xt=[];return{create:function(Wt,Ht){function tr(mr){if(mr)if(typeof mr=="number")gr(mr),Qt.primType=4,Qt.vertCount=mr|0,Qt.type=5121;else{var Ze=null,Ye=35044,Bt=-1,Ft=-1,rr=0,sr=0;Array.isArray(mr)||Ce(mr)||f(mr)?Ze=mr:("data"in mr&&(Ze=mr.data),"usage"in mr&&(Ye=Fe[mr.usage]),"primitive"in mr&&(Bt=ct[mr.primitive]),"count"in mr&&(Ft=mr.count|0),"type"in mr&&(sr=kt[mr.type]),"length"in mr?rr=mr.length|0:(rr=Ft,sr===5123||sr===5122?rr*=2:(sr===5125||sr===5124)&&(rr*=4))),bt(Qt,Ze,Ye,Bt,Ft,rr,sr)}else gr(),Qt.primType=4,Qt.vertCount=0,Qt.type=5121;return tr}var gr=nr.create(null,34963,!0),Qt=new dr(gr._buffer);return wr.elementsCount++,tr(Wt),tr._reglType="elements",tr._elements=Qt,tr.subdata=function(mr,Ze){return gr.subdata(mr,Ze),tr},tr.destroy=function(){ut(Qt)},tr},createStream:function(Wt){var Ht=Xt.pop();return Ht||(Ht=new dr(nr.create(null,34963,!0,!1)._buffer)),bt(Ht,Wt,35040,-1,-1,0,0),Ht},destroyStream:function(Wt){Xt.push(Wt)},getElements:function(Wt){return typeof Wt=="function"&&Wt._elements instanceof dr?Wt._elements:null},clear:function(){be(Mt).forEach(ut)}}}function x(xt){for(var qt=De.allocType(5123,xt.length),nr=0;nr<xt.length;++nr)if(isNaN(xt[nr]))qt[nr]=65535;else if(xt[nr]===1/0)qt[nr]=31744;else if(xt[nr]===-1/0)qt[nr]=64512;else{nt[0]=xt[nr];var bt=dt[0],wr=bt>>>31<<15,dr=(bt<<1>>>24)-127,bt=bt>>13&1023;qt[nr]=-24>dr?wr:-14>dr?wr+(bt+1024>>-14-dr):15<dr?wr+31744:wr+(dr+15<<10)+bt}return qt}function A(xt){return Array.isArray(xt)||Ce(xt)}function _(xt){return"[object "+xt+"]"}function y(xt){return Array.isArray(xt)&&(xt.length===0||typeof xt[0]=="number")}function E(xt){return!!(Array.isArray(xt)&&xt.length!==0&&A(xt[0]))}function M(xt){return Object.prototype.toString.call(xt)}function s(xt){if(!xt)return!1;var qt=M(xt);return 0<=Oe.indexOf(qt)?!0:y(xt)||E(xt)||f(xt)}function S(xt,qt){xt.type===36193?(xt.data=x(qt),De.freeType(qt)):xt.data=qt}function b(xt,qt,nr,wr,dr,bt){if(xt=typeof Ke[xt]<"u"?Ke[xt]:Tt[xt]*ke[qt],bt&&(xt*=6),dr){for(wr=0;1<=nr;)wr+=xt*nr*nr,nr/=2;return wr}return xt*nr*wr}function I(xt,qt,nr,wr,dr,bt,ut){function Mt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function _t(Mr,Jr){Mr.internalformat=Jr.internalformat,Mr.format=Jr.format,Mr.type=Jr.type,Mr.compressed=Jr.compressed,Mr.premultiplyAlpha=Jr.premultiplyAlpha,Mr.flipY=Jr.flipY,Mr.unpackAlignment=Jr.unpackAlignment,Mr.colorSpace=Jr.colorSpace,Mr.width=Jr.width,Mr.height=Jr.height,Mr.channels=Jr.channels}function kt(Mr,Jr){if(typeof Jr=="object"&&Jr){"premultiplyAlpha"in Jr&&(Mr.premultiplyAlpha=Jr.premultiplyAlpha),"flipY"in Jr&&(Mr.flipY=Jr.flipY),"alignment"in Jr&&(Mr.unpackAlignment=Jr.alignment),"colorSpace"in Jr&&(Mr.colorSpace=xn[Jr.colorSpace]),"type"in Jr&&(Mr.type=tn[Jr.type]);var Kr=Mr.width,wn=Mr.height,jn=Mr.channels,Pn=!1;"shape"in Jr?(Kr=Jr.shape[0],wn=Jr.shape[1],Jr.shape.length===3&&(jn=Jr.shape[2],Pn=!0)):("radius"in Jr&&(Kr=wn=Jr.radius),"width"in Jr&&(Kr=Jr.width),"height"in Jr&&(wn=Jr.height),"channels"in Jr&&(jn=Jr.channels,Pn=!0)),Mr.width=Kr|0,Mr.height=wn|0,Mr.channels=jn|0,Kr=!1,"format"in Jr&&(Kr=Jr.format,wn=Mr.internalformat=On[Kr],Mr.format=Gn[wn],Kr in tn&&!("type"in Jr)&&(Mr.type=tn[Kr]),Kr in zn&&(Mr.compressed=!0),Kr=!0),!Pn&&Kr?Mr.channels=Tt[Mr.format]:Pn&&!Kr&&Mr.channels!==wt[Mr.format]&&(Mr.format=Mr.internalformat=wt[Mr.channels])}}function Xt(Mr){xt.pixelStorei(37440,Mr.flipY),xt.pixelStorei(37441,Mr.premultiplyAlpha),xt.pixelStorei(37443,Mr.colorSpace),xt.pixelStorei(3317,Mr.unpackAlignment)}function Wt(){Mt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ht(Mr,Jr){var Kr=null;if(s(Jr)?Kr=Jr:Jr&&(kt(Mr,Jr),"x"in Jr&&(Mr.xOffset=Jr.x|0),"y"in Jr&&(Mr.yOffset=Jr.y|0),s(Jr.data)&&(Kr=Jr.data)),Jr.copy){var wn=dr.viewportWidth,jn=dr.viewportHeight;Mr.width=Mr.width||wn-Mr.xOffset,Mr.height=Mr.height||jn-Mr.yOffset,Mr.needsCopy=!0}else if(!Kr)Mr.width=Mr.width||1,Mr.height=Mr.height||1,Mr.channels=Mr.channels||4;else if(Ce(Kr))Mr.channels=Mr.channels||4,Mr.data=Kr,"type"in Jr||Mr.type!==5121||(Mr.type=Ve[Object.prototype.toString.call(Kr)]|0);else if(y(Kr)){switch(Mr.channels=Mr.channels||4,wn=Kr,jn=wn.length,Mr.type){case 5121:case 5123:case 5125:case 5126:jn=De.allocType(Mr.type,jn),jn.set(wn),Mr.data=jn;break;case 36193:Mr.data=x(wn)}Mr.alignment=1,Mr.needsFree=!0}else if(f(Kr)){wn=Kr.data,Array.isArray(wn)||Mr.type!==5121||(Mr.type=Ve[Object.prototype.toString.call(wn)]|0);var jn=Kr.shape,Pn=Kr.stride,kn,Jn,ua,Ca;jn.length===3?(ua=jn[2],Ca=Pn[2]):Ca=ua=1,kn=jn[0],Jn=jn[1],jn=Pn[0],Pn=Pn[1],Mr.alignment=1,Mr.width=kn,Mr.height=Jn,Mr.channels=ua,Mr.format=Mr.internalformat=wt[ua],Mr.needsFree=!0,kn=Ca,Kr=Kr.offset,ua=Mr.width,Ca=Mr.height,Jn=Mr.channels;for(var ei=De.allocType(Mr.type===36193?5126:Mr.type,ua*Ca*Jn),Ar=0,Gr=0;Gr<Ca;++Gr)for(var Cr=0;Cr<ua;++Cr)for(var Wr=0;Wr<Jn;++Wr)ei[Ar++]=wn[jn*Cr+Pn*Gr+kn*Wr+Kr];S(Mr,ei)}else if(M(Kr)===Ct||M(Kr)===at||M(Kr)===ze)M(Kr)===Ct||M(Kr)===at?Mr.element=Kr:Mr.element=Kr.canvas,Mr.width=Mr.element.width,Mr.height=Mr.element.height,Mr.channels=4;else if(M(Kr)===je)Mr.element=Kr,Mr.width=Kr.width,Mr.height=Kr.height,Mr.channels=4;else if(M(Kr)===Je)Mr.element=Kr,Mr.width=Kr.naturalWidth,Mr.height=Kr.naturalHeight,Mr.channels=4;else if(M(Kr)===Xe)Mr.element=Kr,Mr.width=Kr.videoWidth,Mr.height=Kr.videoHeight,Mr.channels=4;else if(E(Kr)){for(wn=Mr.width||Kr[0].length,jn=Mr.height||Kr.length,Pn=Mr.channels,Pn=A(Kr[0][0])?Pn||Kr[0][0].length:Pn||1,kn=Pe.shape(Kr),ua=1,Ca=0;Ca<kn.length;++Ca)ua*=kn[Ca];ua=De.allocType(Mr.type===36193?5126:Mr.type,ua),Pe.flatten(Kr,kn,"",ua),S(Mr,ua),Mr.alignment=1,Mr.width=wn,Mr.height=jn,Mr.channels=Pn,Mr.format=Mr.internalformat=wt[Pn],Mr.needsFree=!0}}function tr(Mr,Jr,Kr,wn,jn){var Pn=Mr.element,kn=Mr.data,Jn=Mr.internalformat,ua=Mr.format,Ca=Mr.type,ei=Mr.width,Ar=Mr.height;Xt(Mr),Pn?xt.texSubImage2D(Jr,jn,Kr,wn,ua,Ca,Pn):Mr.compressed?xt.compressedTexSubImage2D(Jr,jn,Kr,wn,Jn,ei,Ar,kn):Mr.needsCopy?(wr(),xt.copyTexSubImage2D(Jr,jn,Kr,wn,Mr.xOffset,Mr.yOffset,ei,Ar)):xt.texSubImage2D(Jr,jn,Kr,wn,ei,Ar,ua,Ca,kn)}function gr(){return ea.pop()||new Wt}function Qt(Mr){Mr.needsFree&&De.freeType(Mr.data),Wt.call(Mr),ea.push(Mr)}function mr(){Mt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ze(Mr,Jr,Kr){var wn=Mr.images[0]=gr();Mr.mipmask=1,wn.width=Mr.width=Jr,wn.height=Mr.height=Kr,wn.channels=Mr.channels=4}function Ye(Mr,Jr){var Kr=null;if(s(Jr))Kr=Mr.images[0]=gr(),_t(Kr,Mr),Ht(Kr,Jr),Mr.mipmask=1;else if(kt(Mr,Jr),Array.isArray(Jr.mipmap))for(var wn=Jr.mipmap,jn=0;jn<wn.length;++jn)Kr=Mr.images[jn]=gr(),_t(Kr,Mr),Kr.width>>=jn,Kr.height>>=jn,Ht(Kr,wn[jn]),Mr.mipmask|=1<<jn;else Kr=Mr.images[0]=gr(),_t(Kr,Mr),Ht(Kr,Jr),Mr.mipmask=1;_t(Mr,Mr.images[0])}function Bt(Mr,Jr){for(var Kr=Mr.images,wn=0;wn<Kr.length&&Kr[wn];++wn){var jn=Kr[wn],Pn=Jr,kn=wn,Jn=jn.element,ua=jn.data,Ca=jn.internalformat,ei=jn.format,Ar=jn.type,Gr=jn.width,Cr=jn.height;Xt(jn),Jn?xt.texImage2D(Pn,kn,ei,ei,Ar,Jn):jn.compressed?xt.compressedTexImage2D(Pn,kn,Ca,Gr,Cr,0,ua):jn.needsCopy?(wr(),xt.copyTexImage2D(Pn,kn,ei,jn.xOffset,jn.yOffset,Gr,Cr,0)):xt.texImage2D(Pn,kn,ei,Gr,Cr,0,ei,Ar,ua||null)}}function Ft(){var Mr=ma.pop()||new mr;Mt.call(Mr);for(var Jr=Mr.mipmask=0;16>Jr;++Jr)Mr.images[Jr]=null;return Mr}function rr(Mr){for(var Jr=Mr.images,Kr=0;Kr<Jr.length;++Kr)Jr[Kr]&&Qt(Jr[Kr]),Jr[Kr]=null;ma.push(Mr)}function sr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function fr(Mr,Jr){"min"in Jr&&(Mr.minFilter=Nr[Jr.min],0<=pt.indexOf(Mr.minFilter)&&!("faces"in Jr)&&(Mr.genMipmaps=!0)),"mag"in Jr&&(Mr.magFilter=zr[Jr.mag]);var Kr=Mr.wrapS,wn=Mr.wrapT;if("wrap"in Jr){var jn=Jr.wrap;typeof jn=="string"?Kr=wn=Yr[jn]:Array.isArray(jn)&&(Kr=Yr[jn[0]],wn=Yr[jn[1]])}else"wrapS"in Jr&&(Kr=Yr[Jr.wrapS]),"wrapT"in Jr&&(wn=Yr[Jr.wrapT]);if(Mr.wrapS=Kr,Mr.wrapT=wn,"anisotropic"in Jr&&(Mr.anisotropic=Jr.anisotropic),"mipmap"in Jr){switch(Kr=!1,typeof Jr.mipmap){case"string":Mr.mipmapHint=pr[Jr.mipmap],Kr=Mr.genMipmaps=!0;break;case"boolean":Kr=Mr.genMipmaps=Jr.mipmap;break;case"object":Mr.genMipmaps=!1,Kr=!0}!Kr||"min"in Jr||(Mr.minFilter=9984)}}function ir(Mr,Jr){xt.texParameteri(Jr,10241,Mr.minFilter),xt.texParameteri(Jr,10240,Mr.magFilter),xt.texParameteri(Jr,10242,Mr.wrapS),xt.texParameteri(Jr,10243,Mr.wrapT),qt.ext_texture_filter_anisotropic&&xt.texParameteri(Jr,34046,Mr.anisotropic),Mr.genMipmaps&&(xt.hint(33170,Mr.mipmapHint),xt.generateMipmap(Jr))}function Vt(Mr){Mt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Da++,this.refCount=1,this.target=Mr,this.texture=xt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new sr,ut.profile&&(this.stats={size:0})}function yr(Mr){xt.activeTexture(33984),xt.bindTexture(Mr.target,Mr.texture)}function br(){var Mr=Qn[0];Mr?xt.bindTexture(Mr.target,Mr.texture):xt.bindTexture(3553,null)}function _r(Mr){var Jr=Mr.texture,Kr=Mr.unit,wn=Mr.target;0<=Kr&&(xt.activeTexture(33984+Kr),xt.bindTexture(wn,null),Qn[Kr]=null),xt.deleteTexture(Jr),Mr.texture=null,Mr.params=null,Mr.pixels=null,Mr.refCount=0,delete Fa[Mr.id],bt.textureCount--}var pr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Yr={repeat:10497,clamp:33071,mirror:33648},zr={nearest:9728,linear:9729},Nr=ae({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},zr),xn={none:0,browser:37444},tn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},On={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},zn={};qt.ext_srgb&&(On.srgb=35904,On.srgba=35906),qt.oes_texture_float&&(tn.float32=tn.float=5126),qt.oes_texture_half_float&&(tn.float16=tn["half float"]=36193),qt.webgl_depth_texture&&(ae(On,{depth:6402,"depth stencil":34041}),ae(tn,{uint16:5123,uint32:5125,"depth stencil":34042})),qt.webgl_compressed_texture_s3tc&&ae(zn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),qt.webgl_compressed_texture_atc&&ae(zn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),qt.webgl_compressed_texture_pvrtc&&ae(zn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),qt.webgl_compressed_texture_etc1&&(zn["rgb etc1"]=36196);var Sr=Array.prototype.slice.call(xt.getParameter(34467));Object.keys(zn).forEach(function(Mr){var Jr=zn[Mr];0<=Sr.indexOf(Jr)&&(On[Mr]=Jr)});var Vr=Object.keys(On);nr.textureFormats=Vr;var qr=[];Object.keys(On).forEach(function(Mr){qr[On[Mr]]=Mr});var Hr=[];Object.keys(tn).forEach(function(Mr){Hr[tn[Mr]]=Mr});var Tn=[];Object.keys(zr).forEach(function(Mr){Tn[zr[Mr]]=Mr});var bn=[];Object.keys(Nr).forEach(function(Mr){bn[Nr[Mr]]=Mr});var Hn=[];Object.keys(Yr).forEach(function(Mr){Hn[Yr[Mr]]=Mr});var Gn=Vr.reduce(function(Mr,Jr){var Kr=On[Jr];return Kr===6409||Kr===6406||Kr===6409||Kr===6410||Kr===6402||Kr===34041||qt.ext_srgb&&(Kr===35904||Kr===35906)?Mr[Kr]=Kr:Kr===32855||0<=Jr.indexOf("rgba")?Mr[Kr]=6408:Mr[Kr]=6407,Mr},{}),ea=[],ma=[],Da=0,Fa={},La=nr.maxTextureUnits,Qn=Array(La).map(function(){return null});return ae(Vt.prototype,{bind:function(){this.bindCount+=1;var Mr=this.unit;if(0>Mr){for(var Jr=0;Jr<La;++Jr){var Kr=Qn[Jr];if(Kr){if(0<Kr.bindCount)continue;Kr.unit=-1}Qn[Jr]=this,Mr=Jr;break}ut.profile&&bt.maxTextureUnits<Mr+1&&(bt.maxTextureUnits=Mr+1),this.unit=Mr,xt.activeTexture(33984+Mr),xt.bindTexture(this.target,this.texture)}return Mr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&_r(this)}}),ut.profile&&(bt.getTotalTextureSize=function(){var Mr=0;return Object.keys(Fa).forEach(function(Jr){Mr+=Fa[Jr].stats.size}),Mr}),{create2D:function(Mr,Jr){function Kr(jn,Pn){var kn=wn.texInfo;sr.call(kn);var Jn=Ft();return typeof jn=="number"?typeof Pn=="number"?Ze(Jn,jn|0,Pn|0):Ze(Jn,jn|0,jn|0):jn?(fr(kn,jn),Ye(Jn,jn)):Ze(Jn,1,1),kn.genMipmaps&&(Jn.mipmask=(Jn.width<<1)-1),wn.mipmask=Jn.mipmask,_t(wn,Jn),wn.internalformat=Jn.internalformat,Kr.width=Jn.width,Kr.height=Jn.height,yr(wn),Bt(Jn,3553),ir(kn,3553),br(),rr(Jn),ut.profile&&(wn.stats.size=b(wn.internalformat,wn.type,Jn.width,Jn.height,kn.genMipmaps,!1)),Kr.format=qr[wn.internalformat],Kr.type=Hr[wn.type],Kr.mag=Tn[kn.magFilter],Kr.min=bn[kn.minFilter],Kr.wrapS=Hn[kn.wrapS],Kr.wrapT=Hn[kn.wrapT],Kr}var wn=new Vt(3553);return Fa[wn.id]=wn,bt.textureCount++,Kr(Mr,Jr),Kr.subimage=function(jn,Pn,kn,Jn){Pn|=0,kn|=0,Jn|=0;var ua=gr();return _t(ua,wn),ua.width=0,ua.height=0,Ht(ua,jn),ua.width=ua.width||(wn.width>>Jn)-Pn,ua.height=ua.height||(wn.height>>Jn)-kn,yr(wn),tr(ua,3553,Pn,kn,Jn),br(),Qt(ua),Kr},Kr.resize=function(jn,Pn){var kn=jn|0,Jn=Pn|0||kn;if(kn===wn.width&&Jn===wn.height)return Kr;Kr.width=wn.width=kn,Kr.height=wn.height=Jn,yr(wn);for(var ua=0;wn.mipmask>>ua;++ua){var Ca=kn>>ua,ei=Jn>>ua;if(!Ca||!ei)break;xt.texImage2D(3553,ua,wn.format,Ca,ei,0,wn.format,wn.type,null)}return br(),ut.profile&&(wn.stats.size=b(wn.internalformat,wn.type,kn,Jn,!1,!1)),Kr},Kr._reglType="texture2d",Kr._texture=wn,ut.profile&&(Kr.stats=wn.stats),Kr.destroy=function(){wn.decRef()},Kr},createCube:function(Mr,Jr,Kr,wn,jn,Pn){function kn(Ca,ei,Ar,Gr,Cr,Wr){var Sn,Fn=Jn.texInfo;for(sr.call(Fn),Sn=0;6>Sn;++Sn)ua[Sn]=Ft();if(typeof Ca=="number"||!Ca)for(Ca=Ca|0||1,Sn=0;6>Sn;++Sn)Ze(ua[Sn],Ca,Ca);else if(typeof Ca=="object")if(ei)Ye(ua[0],Ca),Ye(ua[1],ei),Ye(ua[2],Ar),Ye(ua[3],Gr),Ye(ua[4],Cr),Ye(ua[5],Wr);else if(fr(Fn,Ca),kt(Jn,Ca),"faces"in Ca)for(Ca=Ca.faces,Sn=0;6>Sn;++Sn)_t(ua[Sn],Jn),Ye(ua[Sn],Ca[Sn]);else for(Sn=0;6>Sn;++Sn)Ye(ua[Sn],Ca);for(_t(Jn,ua[0]),Jn.mipmask=Fn.genMipmaps?(ua[0].width<<1)-1:ua[0].mipmask,Jn.internalformat=ua[0].internalformat,kn.width=ua[0].width,kn.height=ua[0].height,yr(Jn),Sn=0;6>Sn;++Sn)Bt(ua[Sn],34069+Sn);for(ir(Fn,34067),br(),ut.profile&&(Jn.stats.size=b(Jn.internalformat,Jn.type,kn.width,kn.height,Fn.genMipmaps,!0)),kn.format=qr[Jn.internalformat],kn.type=Hr[Jn.type],kn.mag=Tn[Fn.magFilter],kn.min=bn[Fn.minFilter],kn.wrapS=Hn[Fn.wrapS],kn.wrapT=Hn[Fn.wrapT],Sn=0;6>Sn;++Sn)rr(ua[Sn]);return kn}var Jn=new Vt(34067);Fa[Jn.id]=Jn,bt.cubeCount++;var ua=Array(6);return kn(Mr,Jr,Kr,wn,jn,Pn),kn.subimage=function(Ca,ei,Ar,Gr,Cr){Ar|=0,Gr|=0,Cr|=0;var Wr=gr();return _t(Wr,Jn),Wr.width=0,Wr.height=0,Ht(Wr,ei),Wr.width=Wr.width||(Jn.width>>Cr)-Ar,Wr.height=Wr.height||(Jn.height>>Cr)-Gr,yr(Jn),tr(Wr,34069+Ca,Ar,Gr,Cr),br(),Qt(Wr),kn},kn.resize=function(Ca){if(Ca|=0,Ca!==Jn.width){kn.width=Jn.width=Ca,kn.height=Jn.height=Ca,yr(Jn);for(var ei=0;6>ei;++ei)for(var Ar=0;Jn.mipmask>>Ar;++Ar)xt.texImage2D(34069+ei,Ar,Jn.format,Ca>>Ar,Ca>>Ar,0,Jn.format,Jn.type,null);return br(),ut.profile&&(Jn.stats.size=b(Jn.internalformat,Jn.type,kn.width,kn.height,!1,!0)),kn}},kn._reglType="textureCube",kn._texture=Jn,ut.profile&&(kn.stats=Jn.stats),kn.destroy=function(){Jn.decRef()},kn},clear:function(){for(var Mr=0;Mr<La;++Mr)xt.activeTexture(33984+Mr),xt.bindTexture(3553,null),Qn[Mr]=null;be(Fa).forEach(_r),bt.cubeCount=0,bt.textureCount=0},getTexture:function(Mr){return null},restore:function(){for(var Mr=0;Mr<La;++Mr){var Jr=Qn[Mr];Jr&&(Jr.bindCount=0,Jr.unit=-1,Qn[Mr]=null)}be(Fa).forEach(function(Kr){Kr.texture=xt.createTexture(),xt.bindTexture(Kr.target,Kr.texture);for(var wn=0;32>wn;++wn)if(Kr.mipmask&1<<wn)if(Kr.target===3553)xt.texImage2D(3553,wn,Kr.internalformat,Kr.width>>wn,Kr.height>>wn,0,Kr.internalformat,Kr.type,null);else for(var jn=0;6>jn;++jn)xt.texImage2D(34069+jn,wn,Kr.internalformat,Kr.width>>wn,Kr.height>>wn,0,Kr.internalformat,Kr.type,null);ir(Kr.texInfo,Kr.target)})},refresh:function(){for(var Mr=0;Mr<La;++Mr){var Jr=Qn[Mr];Jr&&(Jr.bindCount=0,Jr.unit=-1,Qn[Mr]=null),xt.activeTexture(33984+Mr),xt.bindTexture(3553,null),xt.bindTexture(34067,null)}}}}function D(xt,qt,nr,wr,dr,bt){function ut(Vt,yr,br){this.target=Vt,this.texture=yr,this.renderbuffer=br;var _r=Vt=0;yr?(Vt=yr.width,_r=yr.height):br&&(Vt=br.width,_r=br.height),this.width=Vt,this.height=_r}function Mt(Vt){Vt&&(Vt.texture&&Vt.texture._texture.decRef(),Vt.renderbuffer&&Vt.renderbuffer._renderbuffer.decRef())}function _t(Vt,yr,br){Vt&&(Vt.texture?Vt.texture._texture.refCount+=1:Vt.renderbuffer._renderbuffer.refCount+=1)}function kt(Vt,yr){yr&&(yr.texture?xt.framebufferTexture2D(36160,Vt,yr.target,yr.texture._texture.texture,0):xt.framebufferRenderbuffer(36160,Vt,36161,yr.renderbuffer._renderbuffer.renderbuffer))}function Xt(Vt){var yr=3553,br=null,_r=null,pr=Vt;return typeof Vt=="object"&&(pr=Vt.data,"target"in Vt&&(yr=Vt.target|0)),Vt=pr._reglType,Vt==="texture2d"||Vt==="textureCube"?br=pr:Vt==="renderbuffer"&&(_r=pr,yr=36161),new ut(yr,br,_r)}function Wt(Vt,yr,br,_r,pr){return br?(Vt=wr.create2D({width:Vt,height:yr,format:_r,type:pr}),Vt._texture.refCount=0,new ut(3553,Vt,null)):(Vt=dr.create({width:Vt,height:yr,format:_r}),Vt._renderbuffer.refCount=0,new ut(36161,null,Vt))}function Ht(Vt){return Vt&&(Vt.texture||Vt.renderbuffer)}function tr(Vt,yr,br){Vt&&(Vt.texture?Vt.texture.resize(yr,br):Vt.renderbuffer&&Vt.renderbuffer.resize(yr,br),Vt.width=yr,Vt.height=br)}function gr(){this.id=fr++,ir[this.id]=this,this.framebuffer=xt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Qt(Vt){Vt.colorAttachments.forEach(Mt),Mt(Vt.depthAttachment),Mt(Vt.stencilAttachment),Mt(Vt.depthStencilAttachment)}function mr(Vt){xt.deleteFramebuffer(Vt.framebuffer),Vt.framebuffer=null,bt.framebufferCount--,delete ir[Vt.id]}function Ze(Vt){var yr;xt.bindFramebuffer(36160,Vt.framebuffer);var br=Vt.colorAttachments;for(yr=0;yr<br.length;++yr)kt(36064+yr,br[yr]);for(yr=br.length;yr<nr.maxColorAttachments;++yr)xt.framebufferTexture2D(36160,36064+yr,3553,null,0);xt.framebufferTexture2D(36160,33306,3553,null,0),xt.framebufferTexture2D(36160,36096,3553,null,0),xt.framebufferTexture2D(36160,36128,3553,null,0),kt(36096,Vt.depthAttachment),kt(36128,Vt.stencilAttachment),kt(33306,Vt.depthStencilAttachment),xt.checkFramebufferStatus(36160),xt.isContextLost(),xt.bindFramebuffer(36160,Bt.next?Bt.next.framebuffer:null),Bt.cur=Bt.next,xt.getError()}function Ye(Vt,yr){function br(pr,Yr){var zr,Nr=0,xn=0,tn=!0,On=!0;zr=null;var zn=!0,Sr="rgba",Vr="uint8",qr=1,Hr=null,Tn=null,bn=null,Hn=!1;typeof pr=="number"?(Nr=pr|0,xn=Yr|0||Nr):pr?("shape"in pr?(xn=pr.shape,Nr=xn[0],xn=xn[1]):("radius"in pr&&(Nr=xn=pr.radius),"width"in pr&&(Nr=pr.width),"height"in pr&&(xn=pr.height)),("color"in pr||"colors"in pr)&&(zr=pr.color||pr.colors),zr||("colorCount"in pr&&(qr=pr.colorCount|0),"colorTexture"in pr&&(zn=!!pr.colorTexture,Sr="rgba4"),"colorType"in pr&&(Vr=pr.colorType,!zn)&&(Vr==="half float"||Vr==="float16"?Sr="rgba16f":(Vr==="float"||Vr==="float32")&&(Sr="rgba32f")),"colorFormat"in pr&&(Sr=pr.colorFormat,0<=Ft.indexOf(Sr)?zn=!0:0<=rr.indexOf(Sr)&&(zn=!1))),("depthTexture"in pr||"depthStencilTexture"in pr)&&(Hn=!(!pr.depthTexture&&!pr.depthStencilTexture)),"depth"in pr&&(typeof pr.depth=="boolean"?tn=pr.depth:(Hr=pr.depth,On=!1)),"stencil"in pr&&(typeof pr.stencil=="boolean"?On=pr.stencil:(Tn=pr.stencil,tn=!1)),"depthStencil"in pr&&(typeof pr.depthStencil=="boolean"?tn=On=pr.depthStencil:(bn=pr.depthStencil,On=tn=!1))):Nr=xn=1;var Gn=null,ea=null,ma=null,Da=null;if(Array.isArray(zr))Gn=zr.map(Xt);else if(zr)Gn=[Xt(zr)];else for(Gn=Array(qr),zr=0;zr<qr;++zr)Gn[zr]=Wt(Nr,xn,zn,Sr,Vr);for(Nr=Nr||Gn[0].width,xn=xn||Gn[0].height,Hr?ea=Xt(Hr):tn&&!On&&(ea=Wt(Nr,xn,Hn,"depth","uint32")),Tn?ma=Xt(Tn):On&&!tn&&(ma=Wt(Nr,xn,!1,"stencil","uint8")),bn?Da=Xt(bn):!Hr&&!Tn&&On&&tn&&(Da=Wt(Nr,xn,Hn,"depth stencil","depth stencil")),tn=null,zr=0;zr<Gn.length;++zr)_t(Gn[zr]),Gn[zr]&&Gn[zr].texture&&(On=Te[Gn[zr].texture._texture.format]*Ue[Gn[zr].texture._texture.type],tn===null&&(tn=On));return _t(ea),_t(ma),_t(Da),Qt(_r),_r.width=Nr,_r.height=xn,_r.colorAttachments=Gn,_r.depthAttachment=ea,_r.stencilAttachment=ma,_r.depthStencilAttachment=Da,br.color=Gn.map(Ht),br.depth=Ht(ea),br.stencil=Ht(ma),br.depthStencil=Ht(Da),br.width=_r.width,br.height=_r.height,Ze(_r),br}var _r=new gr;return bt.framebufferCount++,br(Vt,yr),ae(br,{resize:function(pr,Yr){var zr=Math.max(pr|0,1),Nr=Math.max(Yr|0||zr,1);if(zr===_r.width&&Nr===_r.height)return br;for(var xn=_r.colorAttachments,tn=0;tn<xn.length;++tn)tr(xn[tn],zr,Nr);return tr(_r.depthAttachment,zr,Nr),tr(_r.stencilAttachment,zr,Nr),tr(_r.depthStencilAttachment,zr,Nr),_r.width=br.width=zr,_r.height=br.height=Nr,Ze(_r),br},_reglType:"framebuffer",_framebuffer:_r,destroy:function(){mr(_r),Qt(_r)},use:function(pr){Bt.setFBO({framebuffer:br},pr)}})}var Bt={cur:null,next:null,dirty:!1,setFBO:null},Ft=["rgba"],rr=["rgba4","rgb565","rgb5 a1"];qt.ext_srgb&&rr.push("srgba"),qt.ext_color_buffer_half_float&&rr.push("rgba16f","rgb16f"),qt.webgl_color_buffer_float&&rr.push("rgba32f");var sr=["uint8"];qt.oes_texture_half_float&&sr.push("half float","float16"),qt.oes_texture_float&&sr.push("float","float32");var fr=0,ir={};return ae(Bt,{getFramebuffer:function(Vt){return typeof Vt=="function"&&Vt._reglType==="framebuffer"&&(Vt=Vt._framebuffer,Vt instanceof gr)?Vt:null},create:Ye,createCube:function(Vt){function yr(_r){var pr,Yr={color:null},zr=0,Nr=null;pr="rgba";var xn="uint8",tn=1;if(typeof _r=="number"?zr=_r|0:_r?("shape"in _r?zr=_r.shape[0]:("radius"in _r&&(zr=_r.radius|0),"width"in _r?zr=_r.width|0:"height"in _r&&(zr=_r.height|0)),("color"in _r||"colors"in _r)&&(Nr=_r.color||_r.colors),Nr||("colorCount"in _r&&(tn=_r.colorCount|0),"colorType"in _r&&(xn=_r.colorType),"colorFormat"in _r&&(pr=_r.colorFormat)),"depth"in _r&&(Yr.depth=_r.depth),"stencil"in _r&&(Yr.stencil=_r.stencil),"depthStencil"in _r&&(Yr.depthStencil=_r.depthStencil)):zr=1,Nr)if(Array.isArray(Nr))for(_r=[],pr=0;pr<Nr.length;++pr)_r[pr]=Nr[pr];else _r=[Nr];else for(_r=Array(tn),Nr={radius:zr,format:pr,type:xn},pr=0;pr<tn;++pr)_r[pr]=wr.createCube(Nr);for(Yr.color=Array(_r.length),pr=0;pr<_r.length;++pr)tn=_r[pr],zr=zr||tn.width,Yr.color[pr]={target:34069,data:_r[pr]};for(pr=0;6>pr;++pr){for(tn=0;tn<_r.length;++tn)Yr.color[tn].target=34069+pr;0<pr&&(Yr.depth=br[0].depth,Yr.stencil=br[0].stencil,Yr.depthStencil=br[0].depthStencil),br[pr]?br[pr](Yr):br[pr]=Ye(Yr)}return ae(yr,{width:zr,height:zr,color:_r})}var br=Array(6);return yr(Vt),ae(yr,{faces:br,resize:function(_r){var pr=_r|0;if(pr===yr.width)return yr;var Yr=yr.color;for(_r=0;_r<Yr.length;++_r)Yr[_r].resize(pr);for(_r=0;6>_r;++_r)br[_r].resize(pr);return yr.width=yr.height=pr,yr},_reglType:"framebufferCube",destroy:function(){br.forEach(function(_r){_r.destroy()})}})},clear:function(){be(ir).forEach(mr)},restore:function(){Bt.cur=null,Bt.next=null,Bt.dirty=!0,be(ir).forEach(function(Vt){Vt.framebuffer=xt.createFramebuffer(),Ze(Vt)})}})}function B(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function k(xt,qt,nr,wr,dr,bt,ut){function Mt(Ze){if(Ze!==mr.currentVAO){var Ye=qt.oes_vertex_array_object;Ze?Ye.bindVertexArrayOES(Ze.vao):Ye.bindVertexArrayOES(null),mr.currentVAO=Ze}}function _t(Ze){if(Ze!==mr.currentVAO){if(Ze)Ze.bindAttrs();else{for(var Ye=qt.angle_instanced_arrays,Bt=0;Bt<tr.length;++Bt){var Ft=tr[Bt];Ft.buffer?(xt.enableVertexAttribArray(Bt),Ft.buffer.bind(),xt.vertexAttribPointer(Bt,Ft.size,Ft.type,Ft.normalized,Ft.stride,Ft.offfset),Ye&&Ft.divisor&&Ye.vertexAttribDivisorANGLE(Bt,Ft.divisor)):(xt.disableVertexAttribArray(Bt),xt.vertexAttrib4f(Bt,Ft.x,Ft.y,Ft.z,Ft.w))}ut.elements?xt.bindBuffer(34963,ut.elements.buffer.buffer):xt.bindBuffer(34963,null)}mr.currentVAO=Ze}}function kt(){be(Qt).forEach(function(Ze){Ze.destroy()})}function Xt(){this.id=++gr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ze=qt.oes_vertex_array_object;this.vao=Ze?Ze.createVertexArrayOES():null,Qt[this.id]=this,this.buffers=[]}function Wt(){qt.oes_vertex_array_object&&be(Qt).forEach(function(Ze){Ze.refresh()})}var Ht=nr.maxAttributes,tr=Array(Ht);for(nr=0;nr<Ht;++nr)tr[nr]=new B;var gr=0,Qt={},mr={Record:B,scope:{},state:tr,currentVAO:null,targetVAO:null,restore:qt.oes_vertex_array_object?Wt:function(){},createVAO:function(Ze){function Ye(Ft){var rr;Array.isArray(Ft)?(rr=Ft,Bt.elements&&Bt.ownsElements&&Bt.elements.destroy(),Bt.elements=null,Bt.ownsElements=!1,Bt.offset=0,Bt.count=0,Bt.instances=-1,Bt.primitive=4):(Ft.elements?(rr=Ft.elements,Bt.ownsElements?(typeof rr=="function"&&rr._reglType==="elements"?Bt.elements.destroy():Bt.elements(rr),Bt.ownsElements=!1):bt.getElements(Ft.elements)?(Bt.elements=Ft.elements,Bt.ownsElements=!1):(Bt.elements=bt.create(Ft.elements),Bt.ownsElements=!0)):(Bt.elements=null,Bt.ownsElements=!1),rr=Ft.attributes,Bt.offset=0,Bt.count=-1,Bt.instances=-1,Bt.primitive=4,Bt.elements&&(Bt.count=Bt.elements._elements.vertCount,Bt.primitive=Bt.elements._elements.primType),"offset"in Ft&&(Bt.offset=Ft.offset|0),"count"in Ft&&(Bt.count=Ft.count|0),"instances"in Ft&&(Bt.instances=Ft.instances|0),"primitive"in Ft&&(Bt.primitive=ct[Ft.primitive])),Ft={};var sr=Bt.attributes;sr.length=rr.length;for(var fr=0;fr<rr.length;++fr){var ir=rr[fr],Vt=sr[fr]=new B,yr=ir.data||ir;if(Array.isArray(yr)||Ce(yr)||f(yr)){var br;Bt.buffers[fr]&&(br=Bt.buffers[fr],Ce(yr)&&br._buffer.byteLength>=yr.byteLength?br.subdata(yr):(br.destroy(),Bt.buffers[fr]=null)),Bt.buffers[fr]||(br=Bt.buffers[fr]=dr.create(ir,34962,!1,!0)),Vt.buffer=dr.getBuffer(br),Vt.size=Vt.buffer.dimension|0,Vt.normalized=!1,Vt.type=Vt.buffer.dtype,Vt.offset=0,Vt.stride=0,Vt.divisor=0,Vt.state=1,Ft[fr]=1}else dr.getBuffer(ir)?(Vt.buffer=dr.getBuffer(ir),Vt.size=Vt.buffer.dimension|0,Vt.normalized=!1,Vt.type=Vt.buffer.dtype,Vt.offset=0,Vt.stride=0,Vt.divisor=0,Vt.state=1):dr.getBuffer(ir.buffer)?(Vt.buffer=dr.getBuffer(ir.buffer),Vt.size=(+ir.size||Vt.buffer.dimension)|0,Vt.normalized=!!ir.normalized||!1,Vt.type="type"in ir?Ge[ir.type]:Vt.buffer.dtype,Vt.offset=(ir.offset||0)|0,Vt.stride=(ir.stride||0)|0,Vt.divisor=(ir.divisor||0)|0,Vt.state=1):"x"in ir&&(Vt.x=+ir.x||0,Vt.y=+ir.y||0,Vt.z=+ir.z||0,Vt.w=+ir.w||0,Vt.state=2)}for(br=0;br<Bt.buffers.length;++br)!Ft[br]&&Bt.buffers[br]&&(Bt.buffers[br].destroy(),Bt.buffers[br]=null);return Bt.refresh(),Ye}var Bt=new Xt;return wr.vaoCount+=1,Ye.destroy=function(){for(var Ft=0;Ft<Bt.buffers.length;++Ft)Bt.buffers[Ft]&&Bt.buffers[Ft].destroy();Bt.buffers.length=0,Bt.ownsElements&&(Bt.elements.destroy(),Bt.elements=null,Bt.ownsElements=!1),Bt.destroy()},Ye._vao=Bt,Ye._reglType="vao",Ye(Ze)},getVAO:function(Ze){return typeof Ze=="function"&&Ze._vao?Ze._vao:null},destroyBuffer:function(Ze){for(var Ye=0;Ye<tr.length;++Ye){var Bt=tr[Ye];Bt.buffer===Ze&&(xt.disableVertexAttribArray(Ye),Bt.buffer=null)}},setVAO:qt.oes_vertex_array_object?Mt:_t,clear:qt.oes_vertex_array_object?kt:function(){}};return Xt.prototype.bindAttrs=function(){for(var Ze=qt.angle_instanced_arrays,Ye=this.attributes,Bt=0;Bt<Ye.length;++Bt){var Ft=Ye[Bt];Ft.buffer?(xt.enableVertexAttribArray(Bt),xt.bindBuffer(34962,Ft.buffer.buffer),xt.vertexAttribPointer(Bt,Ft.size,Ft.type,Ft.normalized,Ft.stride,Ft.offset),Ze&&Ft.divisor&&Ze.vertexAttribDivisorANGLE(Bt,Ft.divisor)):(xt.disableVertexAttribArray(Bt),xt.vertexAttrib4f(Bt,Ft.x,Ft.y,Ft.z,Ft.w))}for(Ze=Ye.length;Ze<Ht;++Ze)xt.disableVertexAttribArray(Ze);(Ze=bt.getElements(this.elements))?xt.bindBuffer(34963,Ze.buffer.buffer):xt.bindBuffer(34963,null)},Xt.prototype.refresh=function(){var Ze=qt.oes_vertex_array_object;Ze&&(Ze.bindVertexArrayOES(this.vao),this.bindAttrs(),mr.currentVAO=null,Ze.bindVertexArrayOES(null))},Xt.prototype.destroy=function(){if(this.vao){var Ze=qt.oes_vertex_array_object;this===mr.currentVAO&&(mr.currentVAO=null,Ze.bindVertexArrayOES(null)),Ze.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Qt[this.id]&&(delete Qt[this.id],--wr.vaoCount)},mr}function F(xt,qt,nr,wr){function dr(gr,Qt,mr,Ze){this.name=gr,this.id=Qt,this.location=mr,this.info=Ze}function bt(gr,Qt){for(var mr=0;mr<gr.length;++mr)if(gr[mr].id===Qt.id){gr[mr].location=Qt.location;return}gr.push(Qt)}function ut(gr,Qt,mr){mr=gr===35632?kt:Xt;var Ze=mr[Qt];if(!Ze){var Ye=qt.str(Qt),Ze=xt.createShader(gr);xt.shaderSource(Ze,Ye),xt.compileShader(Ze),mr[Qt]=Ze}return Ze}function Mt(gr,Qt){this.id=tr++,this.fragId=gr,this.vertId=Qt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,wr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function _t(gr,Qt,mr){var Ze;Ze=ut(35632,gr.fragId);var Ye=ut(35633,gr.vertId);if(Qt=gr.program=xt.createProgram(),xt.attachShader(Qt,Ze),xt.attachShader(Qt,Ye),mr)for(Ze=0;Ze<mr.length;++Ze)Ye=mr[Ze],xt.bindAttribLocation(Qt,Ye[0],Ye[1]);xt.linkProgram(Qt),Ye=xt.getProgramParameter(Qt,35718),wr.profile&&(gr.stats.uniformsCount=Ye);var Bt=gr.uniforms;for(Ze=0;Ze<Ye;++Ze)if(mr=xt.getActiveUniform(Qt,Ze))if(1<mr.size)for(var Ft=0;Ft<mr.size;++Ft){var rr=mr.name.replace("[0]","["+Ft+"]");bt(Bt,new dr(rr,qt.id(rr),xt.getUniformLocation(Qt,rr),mr))}else bt(Bt,new dr(mr.name,qt.id(mr.name),xt.getUniformLocation(Qt,mr.name),mr));for(Ye=xt.getProgramParameter(Qt,35721),wr.profile&&(gr.stats.attributesCount=Ye),gr=gr.attributes,Ze=0;Ze<Ye;++Ze)(mr=xt.getActiveAttrib(Qt,Ze))&&bt(gr,new dr(mr.name,qt.id(mr.name),xt.getAttribLocation(Qt,mr.name),mr))}var kt={},Xt={},Wt={},Ht=[],tr=0;return wr.profile&&(nr.getMaxUniformsCount=function(){var gr=0;return Ht.forEach(function(Qt){Qt.stats.uniformsCount>gr&&(gr=Qt.stats.uniformsCount)}),gr},nr.getMaxAttributesCount=function(){var gr=0;return Ht.forEach(function(Qt){Qt.stats.attributesCount>gr&&(gr=Qt.stats.attributesCount)}),gr}),{clear:function(){var gr=xt.deleteShader.bind(xt);be(kt).forEach(gr),kt={},be(Xt).forEach(gr),Xt={},Ht.forEach(function(Qt){xt.deleteProgram(Qt.program)}),Ht.length=0,Wt={},nr.shaderCount=0},program:function(gr,Qt,mr,Ze){var Ye=Wt[Qt];Ye||(Ye=Wt[Qt]={});var Bt=Ye[gr];if(Bt&&(Bt.refCount++,!Ze))return Bt;var Ft=new Mt(Qt,gr);return nr.shaderCount++,_t(Ft,mr,Ze),Bt||(Ye[gr]=Ft),Ht.push(Ft),ae(Ft,{destroy:function(){if(Ft.refCount--,0>=Ft.refCount){xt.deleteProgram(Ft.program);var rr=Ht.indexOf(Ft);Ht.splice(rr,1),nr.shaderCount--}0>=Ye[Ft.vertId].refCount&&(xt.deleteShader(Xt[Ft.vertId]),delete Xt[Ft.vertId],delete Wt[Ft.fragId][Ft.vertId]),Object.keys(Wt[Ft.fragId]).length||(xt.deleteShader(kt[Ft.fragId]),delete kt[Ft.fragId],delete Wt[Ft.fragId])}})},restore:function(){kt={},Xt={};for(var gr=0;gr<Ht.length;++gr)_t(Ht[gr],null,Ht[gr].attributes.map(function(Qt){return[Qt.location,Qt.name]}))},shader:ut,frag:-1,vert:-1}}function N(xt,qt,nr,wr,dr,bt,ut){function Mt(kt){var Xt;Xt=qt.next===null?5121:qt.next.colorAttachments[0].texture._texture.type;var Wt=0,Ht=0,tr=wr.framebufferWidth,gr=wr.framebufferHeight,Qt=null;return Ce(kt)?Qt=kt:kt&&(Wt=kt.x|0,Ht=kt.y|0,tr=(kt.width||wr.framebufferWidth-Wt)|0,gr=(kt.height||wr.framebufferHeight-Ht)|0,Qt=kt.data||null),nr(),kt=tr*gr*4,Qt||(Xt===5121?Qt=new Uint8Array(kt):Xt===5126&&(Qt=Qt||new Float32Array(kt))),xt.pixelStorei(3333,4),xt.readPixels(Wt,Ht,tr,gr,6408,Xt,Qt),Qt}function _t(kt){var Xt;return qt.setFBO({framebuffer:kt.framebuffer},function(){Xt=Mt(kt)}),Xt}return function(kt){return kt&&"framebuffer"in kt?_t(kt):Mt(kt)}}function O(xt){for(var qt=Array(xt.length>>2),wr=0;wr<qt.length;wr++)qt[wr]=0;for(wr=0;wr<8*xt.length;wr+=8)qt[wr>>5]|=(xt.charCodeAt(wr/8)&255)<<24-wr%32;var nr=8*xt.length;xt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var wr=Array(64),dr,bt,ut,Mt,_t,kt,Xt,Wt,Ht,tr,gr;for(qt[nr>>5]|=128<<24-nr%32,qt[(nr+64>>9<<4)+15]=nr,Wt=0;Wt<qt.length;Wt+=16){for(nr=xt[0],dr=xt[1],bt=xt[2],ut=xt[3],Mt=xt[4],_t=xt[5],kt=xt[6],Xt=xt[7],Ht=0;64>Ht;Ht++){if(16>Ht)wr[Ht]=qt[Ht+Wt];else{tr=Ht,gr=wr[Ht-2],gr=ee(gr,17)^ee(gr,19)^gr>>>10,gr=ne(gr,wr[Ht-7]);var Qt;Qt=wr[Ht-15],Qt=ee(Qt,7)^ee(Qt,18)^Qt>>>3,wr[tr]=ne(ne(gr,Qt),wr[Ht-16])}tr=Mt,tr=ee(tr,6)^ee(tr,11)^ee(tr,25),tr=ne(ne(ne(ne(Xt,tr),Mt&_t^~Mt&kt),et[Ht]),wr[Ht]),Xt=nr,Xt=ee(Xt,2)^ee(Xt,13)^ee(Xt,22),gr=ne(Xt,nr&dr^nr&bt^dr&bt),Xt=kt,kt=_t,_t=Mt,Mt=ne(ut,tr),ut=bt,bt=dr,dr=nr,nr=ne(tr,gr)}xt[0]=ne(nr,xt[0]),xt[1]=ne(dr,xt[1]),xt[2]=ne(bt,xt[2]),xt[3]=ne(ut,xt[3]),xt[4]=ne(Mt,xt[4]),xt[5]=ne(_t,xt[5]),xt[6]=ne(kt,xt[6]),xt[7]=ne(Xt,xt[7])}for(qt="",wr=0;wr<32*xt.length;wr+=8)qt+=String.fromCharCode(xt[wr>>5]>>>24-wr%32&255);return qt}function V(xt){for(var qt="",nr,wr=0;wr<xt.length;wr++)nr=xt.charCodeAt(wr),qt+="0123456789abcdef".charAt(nr>>>4&15)+"0123456789abcdef".charAt(nr&15);return qt}function X(xt){for(var qt="",nr=-1,wr,dr;++nr<xt.length;)wr=xt.charCodeAt(nr),dr=nr+1<xt.length?xt.charCodeAt(nr+1):0,55296<=wr&&56319>=wr&&56320<=dr&&57343>=dr&&(wr=65536+((wr&1023)<<10)+(dr&1023),nr++),127>=wr?qt+=String.fromCharCode(wr):2047>=wr?qt+=String.fromCharCode(192|wr>>>6&31,128|wr&63):65535>=wr?qt+=String.fromCharCode(224|wr>>>12&15,128|wr>>>6&63,128|wr&63):2097151>=wr&&(qt+=String.fromCharCode(240|wr>>>18&7,128|wr>>>12&63,128|wr>>>6&63,128|wr&63));return qt}function ee(xt,qt){return xt>>>qt|xt<<32-qt}function ne(xt,qt){var nr=(xt&65535)+(qt&65535);return(xt>>16)+(qt>>16)+(nr>>16)<<16|nr&65535}function q(xt){return Array.prototype.slice.call(xt)}function se(xt){return q(xt).join("")}function J(xt){function qt(){var Xt=[],Wt=[];return ae(function(){Xt.push.apply(Xt,q(arguments))},{def:function(){var Ht="v"+dr++;return Wt.push(Ht),0<arguments.length&&(Xt.push(Ht,"="),Xt.push.apply(Xt,q(arguments)),Xt.push(";")),Ht},toString:function(){return se([0<Wt.length?"var "+Wt.join(",")+";":"",se(Xt)])}})}function nr(){function Xt(Qt,mr){Ht(Qt,mr,"=",Wt.def(Qt,mr),";")}var Wt=qt(),Ht=qt(),tr=Wt.toString,gr=Ht.toString;return ae(function(){Wt.apply(Wt,q(arguments))},{def:Wt.def,entry:Wt,exit:Ht,save:Xt,set:function(Qt,mr,Ze){Xt(Qt,mr),Wt(Qt,mr,"=",Ze,";")},toString:function(){return tr()+gr()}})}var wr=xt&&xt.cache,dr=0,bt=[],ut=[],Mt=[],_t=qt(),kt={};return{global:_t,link:function(Xt,Wt){var Ht=Wt&&Wt.stable;if(!Ht){for(var tr=0;tr<ut.length;++tr)if(ut[tr]===Xt&&!Mt[tr])return bt[tr]}return tr="g"+dr++,bt.push(tr),ut.push(Xt),Mt.push(Ht),tr},block:qt,proc:function(Xt,Wt){function Ht(){var mr="a"+tr.length;return tr.push(mr),mr}var tr=[];Wt=Wt||0;for(var gr=0;gr<Wt;++gr)Ht();var gr=nr(),Qt=gr.toString;return kt[Xt]=ae(gr,{arg:Ht,toString:function(){return se(["function(",tr.join(),"){",Qt(),"}"])}})},scope:nr,cond:function(){var Xt=se(arguments),Wt=nr(),Ht=nr(),tr=Wt.toString,gr=Ht.toString;return ae(Wt,{then:function(){return Wt.apply(Wt,q(arguments)),this},else:function(){return Ht.apply(Ht,q(arguments)),this},toString:function(){var Qt=gr();return Qt&&(Qt="else{"+Qt+"}"),se(["if(",Xt,"){",tr(),"}",Qt])}})},compile:function(){var Xt=['"use strict";',_t,"return {"];Object.keys(kt).forEach(function(tr){Xt.push('"',tr,'":',kt[tr].toString(),",")}),Xt.push("}");var Wt=se(Xt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ht;return wr&&(Ht=V(O(X(Wt))),wr[Ht])?wr[Ht].apply(null,ut):(Wt=Function.apply(null,bt.concat(Wt)),wr&&(wr[Ht]=Wt),Wt.apply(null,ut))}}}function Z(xt){return Array.isArray(xt)||Ce(xt)||f(xt)}function te(xt){return xt.sort(function(qt,nr){return qt==="viewport"?-1:nr==="viewport"?1:qt<nr?-1:1})}function Y(xt,qt,nr,wr){this.thisDep=xt,this.contextDep=qt,this.propDep=nr,this.append=wr}function ie(xt){return xt&&!(xt.thisDep||xt.contextDep||xt.propDep)}function le(xt){return new Y(!1,!1,!1,xt)}function j(xt,qt){var nr=xt.type;if(nr===0)return nr=xt.data.length,new Y(!0,1<=nr,2<=nr,qt);if(nr===4)return nr=xt.data,new Y(nr.thisDep,nr.contextDep,nr.propDep,qt);if(nr===5)return new Y(!1,!1,!1,qt);if(nr===6){for(var wr=nr=!1,dr=!1,bt=0;bt<xt.data.length;++bt){var ut=xt.data[bt];ut.type===1?dr=!0:ut.type===2?wr=!0:ut.type===3?nr=!0:ut.type===0?(nr=!0,ut=ut.data,1<=ut&&(wr=!0),2<=ut&&(dr=!0)):ut.type===4&&(nr=nr||ut.data.thisDep,wr=wr||ut.data.contextDep,dr=dr||ut.data.propDep)}return new Y(nr,wr,dr,qt)}return new Y(nr===3,nr===2,nr===1,qt)}function K(xt,qt,nr,wr,dr,bt,ut,Mt,_t,kt,Xt,Wt,Ht,tr,gr,Qt){function mr(Ar){return Ar.replace(".","_")}function Ze(Ar,Gr,Cr){var Wr=mr(Ar);Pn.push(Ar),jn[Wr]=wn[Wr]=!!Cr,kn[Wr]=Gr}function Ye(Ar,Gr,Cr){var Wr=mr(Ar);Pn.push(Ar),Array.isArray(Cr)?(wn[Wr]=Cr.slice(),jn[Wr]=Cr.slice()):wn[Wr]=jn[Wr]=Cr,Jn[Wr]=Gr}function Bt(){var Ar=J({cache:gr}),Gr=Ar.link,Cr=Ar.global;Ar.id=ei++,Ar.batchId="0";var Wr=Gr(ua),Sn=Ar.shared={props:"a0"};Object.keys(ua).forEach(function(nn){Sn[nn]=Cr.def(Wr,".",nn)});var Fn=Ar.next={},An=Ar.current={};Object.keys(Jn).forEach(function(nn){Array.isArray(wn[nn])&&(Fn[nn]=Cr.def(Sn.next,".",nn),An[nn]=Cr.def(Sn.current,".",nn))});var dn=Ar.constants={};Object.keys(Ca).forEach(function(nn){dn[nn]=Cr.def(JSON.stringify(Ca[nn]))}),Ar.invoke=function(nn,$r){switch($r.type){case 0:var ln=["this",Sn.context,Sn.props,Ar.batchId];return nn.def(Gr($r.data),".call(",ln.slice(0,Math.max($r.data.length+1,4)),")");case 1:return nn.def(Sn.props,$r.data);case 2:return nn.def(Sn.context,$r.data);case 3:return nn.def("this",$r.data);case 4:return $r.data.append(Ar,nn),$r.data.ref;case 5:return $r.data.toString();case 6:return $r.data.map(function(Ln){return Ar.invoke(nn,Ln)})}},Ar.attribCache={};var Dr={};return Ar.scopeAttrib=function(nn){if(nn=qt.id(nn),nn in Dr)return Dr[nn];var $r=kt.scope[nn];return $r||($r=kt.scope[nn]=new La),Dr[nn]=Gr($r)},Ar}function Ft(Ar){var Gr=Ar.static;Ar=Ar.dynamic;var Cr;if("profile"in Gr){var Wr=!!Gr.profile;Cr=le(function(Fn,An){return Wr}),Cr.enable=Wr}else if("profile"in Ar){var Sn=Ar.profile;Cr=j(Sn,function(Fn,An){return Fn.invoke(An,Sn)})}return Cr}function rr(Ar,Gr){var Cr=Ar.static,Wr=Ar.dynamic;if("framebuffer"in Cr){var Sn=Cr.framebuffer;return Sn?(Sn=Mt.getFramebuffer(Sn),le(function(An,dn){var Dr=An.link(Sn),nn=An.shared;return dn.set(nn.framebuffer,".next",Dr),nn=nn.context,dn.set(nn,".framebufferWidth",Dr+".width"),dn.set(nn,".framebufferHeight",Dr+".height"),Dr})):le(function(An,dn){var Dr=An.shared;return dn.set(Dr.framebuffer,".next","null"),Dr=Dr.context,dn.set(Dr,".framebufferWidth",Dr+".drawingBufferWidth"),dn.set(Dr,".framebufferHeight",Dr+".drawingBufferHeight"),"null"})}if("framebuffer"in Wr){var Fn=Wr.framebuffer;return j(Fn,function(An,dn){var $r=An.invoke(dn,Fn),Dr=An.shared,nn=Dr.framebuffer,$r=dn.def(nn,".getFramebuffer(",$r,")");return dn.set(nn,".next",$r),Dr=Dr.context,dn.set(Dr,".framebufferWidth",$r+"?"+$r+".width:"+Dr+".drawingBufferWidth"),dn.set(Dr,".framebufferHeight",$r+"?"+$r+".height:"+Dr+".drawingBufferHeight"),$r})}return null}function sr(Ar,Gr,Cr){function Wr(dn){if(dn in Sn){var Dr=Sn[dn];dn=!0;var nn=Dr.x|0,$r=Dr.y|0,ln,Ln;return"width"in Dr?ln=Dr.width|0:dn=!1,"height"in Dr?Ln=Dr.height|0:dn=!1,new Y(!dn&&Gr&&Gr.thisDep,!dn&&Gr&&Gr.contextDep,!dn&&Gr&&Gr.propDep,function(Rn,$n){var Kn=Rn.shared.context,xa=ln;"width"in Dr||(xa=$n.def(Kn,".","framebufferWidth","-",nn));var ba=Ln;return"height"in Dr||(ba=$n.def(Kn,".","framebufferHeight","-",$r)),[nn,$r,xa,ba]})}if(dn in Fn){var Xn=Fn[dn];return dn=j(Xn,function(Rn,$n){var Ra=Rn.invoke($n,Xn),Kn=Rn.shared.context,xa=$n.def(Ra,".x|0"),ba=$n.def(Ra,".y|0"),_a=$n.def('"width" in ',Ra,"?",Ra,".width|0:","(",Kn,".","framebufferWidth","-",xa,")"),Ra=$n.def('"height" in ',Ra,"?",Ra,".height|0:","(",Kn,".","framebufferHeight","-",ba,")");return[xa,ba,_a,Ra]}),Gr&&(dn.thisDep=dn.thisDep||Gr.thisDep,dn.contextDep=dn.contextDep||Gr.contextDep,dn.propDep=dn.propDep||Gr.propDep),dn}return Gr?new Y(Gr.thisDep,Gr.contextDep,Gr.propDep,function(Rn,$n){var Kn=Rn.shared.context;return[0,0,$n.def(Kn,".","framebufferWidth"),$n.def(Kn,".","framebufferHeight")]}):null}var Sn=Ar.static,Fn=Ar.dynamic;if(Ar=Wr("viewport")){var An=Ar;Ar=new Y(Ar.thisDep,Ar.contextDep,Ar.propDep,function(dn,Dr){var nn=An.append(dn,Dr),$r=dn.shared.context;return Dr.set($r,".viewportWidth",nn[2]),Dr.set($r,".viewportHeight",nn[3]),nn})}return{viewport:Ar,scissor_box:Wr("scissor.box")}}function fr(Ar,Gr){var Cr=Ar.static;if(typeof Cr.frag=="string"&&typeof Cr.vert=="string"){if(0<Object.keys(Gr.dynamic).length)return null;var Cr=Gr.static,Wr=Object.keys(Cr);if(0<Wr.length&&typeof Cr[Wr[0]]=="number"){for(var Sn=[],Fn=0;Fn<Wr.length;++Fn)Sn.push([Cr[Wr[Fn]]|0,Wr[Fn]]);return Sn}}return null}function ir(Ar,Gr,Cr){function Wr(nn){if(nn in Sn){var $r=qt.id(Sn[nn]);return nn=le(function(){return $r}),nn.id=$r,nn}if(nn in Fn){var ln=Fn[nn];return j(ln,function(Ln,Xn){var Rn=Ln.invoke(Xn,ln);return Xn.def(Ln.shared.strings,".id(",Rn,")")})}return null}var Sn=Ar.static,Fn=Ar.dynamic,An=Wr("frag"),dn=Wr("vert"),Dr=null;return ie(An)&&ie(dn)?(Dr=Xt.program(dn.id,An.id,null,Cr),Ar=le(function(nn,$r){return nn.link(Dr)})):Ar=new Y(An&&An.thisDep||dn&&dn.thisDep,An&&An.contextDep||dn&&dn.contextDep,An&&An.propDep||dn&&dn.propDep,function(nn,$r){var ln=nn.shared.shader,Ln;Ln=An?An.append(nn,$r):$r.def(ln,".","frag");var Xn;return Xn=dn?dn.append(nn,$r):$r.def(ln,".","vert"),$r.def(ln+".program("+Xn+","+Ln+")")}),{frag:An,vert:dn,progVar:Ar,program:Dr}}function Vt(Ar,Gr){function Cr(Rn,$n){if(Rn in Wr){var Kn=Wr[Rn]|0;return $n?Fn.offset=Kn:Fn.instances=Kn,le(function(ba,_a){return $n&&(ba.OFFSET=Kn),Kn})}if(Rn in Sn){var xa=Sn[Rn];return j(xa,function(ba,_a){var Ra=ba.invoke(_a,xa);return $n&&(ba.OFFSET=Ra),Ra})}if($n){if(Dr)return le(function(ba,_a){return ba.OFFSET=0});if(An)return new Y(dn.thisDep,dn.contextDep,dn.propDep,function(ba,_a){return _a.def(ba.shared.vao+".currentVAO?"+ba.shared.vao+".currentVAO.offset:0")})}else if(An)return new Y(dn.thisDep,dn.contextDep,dn.propDep,function(ba,_a){return _a.def(ba.shared.vao+".currentVAO?"+ba.shared.vao+".currentVAO.instances:-1")});return null}var Wr=Ar.static,Sn=Ar.dynamic,Fn={},An=!1,dn=function(){if("vao"in Wr){var Rn=Wr.vao;return Rn!==null&&kt.getVAO(Rn)===null&&(Rn=kt.createVAO(Rn)),An=!0,Fn.vao=Rn,le(function(Kn){var xa=kt.getVAO(Rn);return xa?Kn.link(xa):"null"})}if("vao"in Sn){An=!0;var $n=Sn.vao;return j($n,function(Kn,xa){var ba=Kn.invoke(xa,$n);return xa.def(Kn.shared.vao+".getVAO("+ba+")")})}return null}(),Dr=!1,nn=function(){if("elements"in Wr){var Rn=Wr.elements;if(Fn.elements=Rn,Z(Rn)){var $n=Fn.elements=bt.create(Rn,!0),Rn=bt.getElements($n);Dr=!0}else Rn&&(Rn=bt.getElements(Rn),Dr=!0);return $n=le(function(xa,ba){if(Rn){var _a=xa.link(Rn);return xa.ELEMENTS=_a}return xa.ELEMENTS=null}),$n.value=Rn,$n}if("elements"in Sn){Dr=!0;var Kn=Sn.elements;return j(Kn,function(xa,ba){var _a=xa.shared,Di=_a.isBufferArgs,_a=_a.elements,Pi=xa.invoke(ba,Kn),Ra=ba.def("null"),Di=ba.def(Di,"(",Pi,")"),Pi=xa.cond(Di).then(Ra,"=",_a,".createStream(",Pi,");").else(Ra,"=",_a,".getElements(",Pi,");");return ba.entry(Pi),ba.exit(xa.cond(Di).then(_a,".destroyStream(",Ra,");")),xa.ELEMENTS=Ra})}return An?new Y(dn.thisDep,dn.contextDep,dn.propDep,function(xa,ba){return ba.def(xa.shared.vao+".currentVAO?"+xa.shared.elements+".getElements("+xa.shared.vao+".currentVAO.elements):null")}):null}(),$r=Cr("offset",!0),ln=function(){if("primitive"in Wr){var Rn=Wr.primitive;return Fn.primitive=Rn,le(function(Kn,xa){return ct[Rn]})}if("primitive"in Sn){var $n=Sn.primitive;return j($n,function(Kn,xa){var ba=Kn.constants.primTypes,_a=Kn.invoke(xa,$n);return xa.def(ba,"[",_a,"]")})}return Dr?ie(nn)?nn.value?le(function(Kn,xa){return xa.def(Kn.ELEMENTS,".primType")}):le(function(){return 4}):new Y(nn.thisDep,nn.contextDep,nn.propDep,function(Kn,xa){var ba=Kn.ELEMENTS;return xa.def(ba,"?",ba,".primType:",4)}):An?new Y(dn.thisDep,dn.contextDep,dn.propDep,function(Kn,xa){return xa.def(Kn.shared.vao+".currentVAO?"+Kn.shared.vao+".currentVAO.primitive:4")}):null}(),Ln=function(){if("count"in Wr){var Rn=Wr.count|0;return Fn.count=Rn,le(function(){return Rn})}if("count"in Sn){var $n=Sn.count;return j($n,function(Kn,xa){return Kn.invoke(xa,$n)})}return Dr?ie(nn)?nn?$r?new Y($r.thisDep,$r.contextDep,$r.propDep,function(Kn,xa){return xa.def(Kn.ELEMENTS,".vertCount-",Kn.OFFSET)}):le(function(Kn,xa){return xa.def(Kn.ELEMENTS,".vertCount")}):le(function(){return-1}):new Y(nn.thisDep||$r.thisDep,nn.contextDep||$r.contextDep,nn.propDep||$r.propDep,function(Kn,xa){var ba=Kn.ELEMENTS;return Kn.OFFSET?xa.def(ba,"?",ba,".vertCount-",Kn.OFFSET,":-1"):xa.def(ba,"?",ba,".vertCount:-1")}):An?new Y(dn.thisDep,dn.contextDep,dn.propDep,function(Kn,xa){return xa.def(Kn.shared.vao,".currentVAO?",Kn.shared.vao,".currentVAO.count:-1")}):null}(),Xn=Cr("instances",!1);return{elements:nn,primitive:ln,count:Ln,instances:Xn,offset:$r,vao:dn,vaoActive:An,elementsActive:Dr,static:Fn}}function yr(Ar,Gr){var Cr=Ar.static,Wr=Ar.dynamic,Sn={};return Pn.forEach(function(Fn){function An(Dr,nn){if(Fn in Cr){var $r=Dr(Cr[Fn]);Sn[dn]=le(function(){return $r})}else if(Fn in Wr){var ln=Wr[Fn];Sn[dn]=j(ln,function(Ln,Xn){return nn(Ln,Xn,Ln.invoke(Xn,ln))})}}var dn=mr(Fn);switch(Fn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return An(function(Dr){return Dr},function(Dr,nn,$r){return $r});case"depth.func":return An(function(Dr){return Jt[Dr]},function(Dr,nn,$r){return nn.def(Dr.constants.compareFuncs,"[",$r,"]")});case"depth.range":return An(function(Dr){return Dr},function(Dr,nn,$r){return Dr=nn.def("+",$r,"[0]"),nn=nn.def("+",$r,"[1]"),[Dr,nn]});case"blend.func":return An(function(Dr){return[jt["srcRGB"in Dr?Dr.srcRGB:Dr.src],jt["dstRGB"in Dr?Dr.dstRGB:Dr.dst],jt["srcAlpha"in Dr?Dr.srcAlpha:Dr.src],jt["dstAlpha"in Dr?Dr.dstAlpha:Dr.dst]]},function(Dr,nn,$r){function ln($n,Kn){return nn.def('"',$n,Kn,'" in ',$r,"?",$r,".",$n,Kn,":",$r,".",$n)}Dr=Dr.constants.blendFuncs;var Ln=ln("src","RGB"),Rn=ln("dst","RGB"),Ln=nn.def(Dr,"[",Ln,"]"),Xn=nn.def(Dr,"[",ln("src","Alpha"),"]"),Rn=nn.def(Dr,"[",Rn,"]");return Dr=nn.def(Dr,"[",ln("dst","Alpha"),"]"),[Ln,Rn,Xn,Dr]});case"blend.equation":return An(function(Dr){if(typeof Dr=="string")return[Qn[Dr],Qn[Dr]];if(typeof Dr=="object")return[Qn[Dr.rgb],Qn[Dr.alpha]]},function(Dr,nn,$r){var ln=Dr.constants.blendEquations,Ln=nn.def(),Xn=nn.def();return Dr=Dr.cond("typeof ",$r,'==="string"'),Dr.then(Ln,"=",Xn,"=",ln,"[",$r,"];"),Dr.else(Ln,"=",ln,"[",$r,".rgb];",Xn,"=",ln,"[",$r,".alpha];"),nn(Dr),[Ln,Xn]});case"blend.color":return An(function(Dr){return i(4,function(nn){return+Dr[nn]})},function(Dr,nn,$r){return i(4,function(ln){return nn.def("+",$r,"[",ln,"]")})});case"stencil.mask":return An(function(Dr){return Dr|0},function(Dr,nn,$r){return nn.def($r,"|0")});case"stencil.func":return An(function(Dr){return[Jt[Dr.cmp||"keep"],Dr.ref||0,"mask"in Dr?Dr.mask:-1]},function(Dr,nn,$r){Dr=nn.def('"cmp" in ',$r,"?",Dr.constants.compareFuncs,"[",$r,".cmp]",":",7680);var ln=nn.def($r,".ref|0");return nn=nn.def('"mask" in ',$r,"?",$r,".mask|0:-1"),[Dr,ln,nn]});case"stencil.opFront":case"stencil.opBack":return An(function(Dr){return[Fn==="stencil.opBack"?1029:1028,St[Dr.fail||"keep"],St[Dr.zfail||"keep"],St[Dr.zpass||"keep"]]},function(Dr,nn,$r){function ln(Xn){return nn.def('"',Xn,'" in ',$r,"?",Ln,"[",$r,".",Xn,"]:",7680)}var Ln=Dr.constants.stencilOps;return[Fn==="stencil.opBack"?1029:1028,ln("fail"),ln("zfail"),ln("zpass")]});case"polygonOffset.offset":return An(function(Dr){return[Dr.factor|0,Dr.units|0]},function(Dr,nn,$r){return Dr=nn.def($r,".factor|0"),nn=nn.def($r,".units|0"),[Dr,nn]});case"cull.face":return An(function(Dr){var nn=0;return Dr==="front"?nn=1028:Dr==="back"&&(nn=1029),nn},function(Dr,nn,$r){return nn.def($r,'==="front"?',1028,":",1029)});case"lineWidth":return An(function(Dr){return Dr},function(Dr,nn,$r){return $r});case"frontFace":return An(function(Dr){return Rt[Dr]},function(Dr,nn,$r){return nn.def($r+'==="cw"?2304:2305')});case"colorMask":return An(function(Dr){return Dr.map(function(nn){return!!nn})},function(Dr,nn,$r){return i(4,function(ln){return"!!"+$r+"["+ln+"]"})});case"sample.coverage":return An(function(Dr){return["value"in Dr?Dr.value:1,!!Dr.invert]},function(Dr,nn,$r){return Dr=nn.def('"value" in ',$r,"?+",$r,".value:1"),nn=nn.def("!!",$r,".invert"),[Dr,nn]})}}),Sn}function br(Ar,Gr){var Cr=Ar.static,Wr=Ar.dynamic,Sn={};return Object.keys(Cr).forEach(function(Fn){var An=Cr[Fn],dn;if(typeof An=="number"||typeof An=="boolean")dn=le(function(){return An});else if(typeof An=="function"){var Dr=An._reglType;Dr==="texture2d"||Dr==="textureCube"?dn=le(function(nn){return nn.link(An)}):(Dr==="framebuffer"||Dr==="framebufferCube")&&(dn=le(function(nn){return nn.link(An.color[0])}))}else A(An)&&(dn=le(function(nn){return nn.global.def("[",i(An.length,function($r){return An[$r]}),"]")}));dn.value=An,Sn[Fn]=dn}),Object.keys(Wr).forEach(function(Fn){var An=Wr[Fn];Sn[Fn]=j(An,function(dn,Dr){return dn.invoke(Dr,An)})}),Sn}function _r(Ar,Gr){var Cr=Ar.static,Wr=Ar.dynamic,Sn={};return Object.keys(Cr).forEach(function(Fn){var An=Cr[Fn],dn=qt.id(Fn),Dr=new La;if(Z(An))Dr.state=1,Dr.buffer=dr.getBuffer(dr.create(An,34962,!1,!0)),Dr.type=0;else{var nn=dr.getBuffer(An);if(nn)Dr.state=1,Dr.buffer=nn,Dr.type=0;else if("constant"in An){var $r=An.constant;Dr.buffer="null",Dr.state=2,typeof $r=="number"?Dr.x=$r:st.forEach(function(Kn,xa){xa<$r.length&&(Dr[Kn]=$r[xa])})}else{var nn=Z(An.buffer)?dr.getBuffer(dr.create(An.buffer,34962,!1,!0)):dr.getBuffer(An.buffer),ln=An.offset|0,Ln=An.stride|0,Xn=An.size|0,Rn=!!An.normalized,$n=0;"type"in An&&($n=Ge[An.type]),An=An.divisor|0,Dr.buffer=nn,Dr.state=1,Dr.size=Xn,Dr.normalized=Rn,Dr.type=$n||nn.dtype,Dr.offset=ln,Dr.stride=Ln,Dr.divisor=An}}Sn[Fn]=le(function(Kn,xa){var ba=Kn.attribCache;if(dn in ba)return ba[dn];var _a={isStream:!1};return Object.keys(Dr).forEach(function(Ra){_a[Ra]=Dr[Ra]}),Dr.buffer&&(_a.buffer=Kn.link(Dr.buffer),_a.type=_a.type||_a.buffer+".dtype"),ba[dn]=_a})}),Object.keys(Wr).forEach(function(Fn){var An=Wr[Fn];Sn[Fn]=j(An,function(dn,Dr){function nn(ba){Dr(Rn[ba],"=",$r,".",ba,"|0;")}var $r=dn.invoke(Dr,An),Xn=dn.shared,ln=dn.constants,Ln=Xn.isBufferArgs,Xn=Xn.buffer,Rn={isStream:Dr.def(!1)},$n=new La;$n.state=1,Object.keys($n).forEach(function(ba){Rn[ba]=Dr.def(""+$n[ba])});var Kn=Rn.buffer,xa=Rn.type;return Dr("if(",Ln,"(",$r,")){",Rn.isStream,"=true;",Kn,"=",Xn,".createStream(",34962,",",$r,");",xa,"=",Kn,".dtype;","}else{",Kn,"=",Xn,".getBuffer(",$r,");","if(",Kn,"){",xa,"=",Kn,".dtype;",'}else if("constant" in ',$r,"){",Rn.state,"=",2,";","if(typeof "+$r+'.constant === "number"){',Rn[st[0]],"=",$r,".constant;",st.slice(1).map(function(ba){return Rn[ba]}).join("="),"=0;","}else{",st.map(function(ba,_a){return Rn[ba]+"="+$r+".constant.length>"+_a+"?"+$r+".constant["+_a+"]:0;"}).join(""),"}}else{","if(",Ln,"(",$r,".buffer)){",Kn,"=",Xn,".createStream(",34962,",",$r,".buffer);","}else{",Kn,"=",Xn,".getBuffer(",$r,".buffer);","}",xa,'="type" in ',$r,"?",ln.glTypes,"[",$r,".type]:",Kn,".dtype;",Rn.normalized,"=!!",$r,".normalized;"),nn("size"),nn("offset"),nn("stride"),nn("divisor"),Dr("}}"),Dr.exit("if(",Rn.isStream,"){",Xn,".destroyStream(",Kn,");","}"),Rn})}),Sn}function pr(Ar){var Gr=Ar.static,Cr=Ar.dynamic,Wr={};return Object.keys(Gr).forEach(function(Sn){var Fn=Gr[Sn];Wr[Sn]=le(function(An,dn){return typeof Fn=="number"||typeof Fn=="boolean"?""+Fn:An.link(Fn)})}),Object.keys(Cr).forEach(function(Sn){var Fn=Cr[Sn];Wr[Sn]=j(Fn,function(An,dn){return An.invoke(dn,Fn)})}),Wr}function Yr(Ar,Gr,Cr,Wr,Sn){function Fn($n){var Kn=dn[$n];Kn&&(nn[$n]=Kn)}var An=fr(Ar,Gr),Ln=rr(Ar),dn=sr(Ar,Ln),Dr=Vt(Ar),nn=yr(Ar),$r=ir(Ar,Sn,An);Fn("viewport"),Fn(mr("scissor.box"));var ln=0<Object.keys(nn).length,Ln={framebuffer:Ln,draw:Dr,shader:$r,state:nn,dirty:ln,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Ln.profile=Ft(Ar),Ln.uniforms=br(Cr),Ln.drawVAO=Ln.scopeVAO=Dr.vao,!Ln.drawVAO&&$r.program&&!An&&nr.angle_instanced_arrays&&Dr.static.elements){var Xn=!0;if(Ar=$r.program.attributes.map(function($n){return $n=Gr.static[$n],Xn=Xn&&!!$n,$n}),Xn&&0<Ar.length){var Rn=kt.getVAO(kt.createVAO({attributes:Ar,elements:Dr.static.elements}));Ln.drawVAO=new Y(null,null,null,function($n,Kn){return $n.link(Rn)}),Ln.useVAO=!0}}return An?Ln.useVAO=!0:Ln.attributes=_r(Gr),Ln.context=pr(Wr),Ln}function zr(Ar,Gr,Cr){var Wr=Ar.shared.context,Sn=Ar.scope();Object.keys(Cr).forEach(function(Fn){Gr.save(Wr,"."+Fn);var An=Cr[Fn].append(Ar,Gr);Array.isArray(An)?Sn(Wr,".",Fn,"=[",An.join(),"];"):Sn(Wr,".",Fn,"=",An,";")}),Gr(Sn)}function Nr(Ar,Gr,Cr,Wr){var dn=Ar.shared,Sn=dn.gl,Fn=dn.framebuffer,An;Jr&&(An=Gr.def(dn.extensions,".webgl_draw_buffers"));var Dr=Ar.constants,dn=Dr.drawBuffer,Dr=Dr.backBuffer;Ar=Cr?Cr.append(Ar,Gr):Gr.def(Fn,".next"),Wr||Gr("if(",Ar,"!==",Fn,".cur){"),Gr("if(",Ar,"){",Sn,".bindFramebuffer(",36160,",",Ar,".framebuffer);"),Jr&&Gr(An,".drawBuffersWEBGL(",dn,"[",Ar,".colorAttachments.length]);"),Gr("}else{",Sn,".bindFramebuffer(",36160,",null);"),Jr&&Gr(An,".drawBuffersWEBGL(",Dr,");"),Gr("}",Fn,".cur=",Ar,";"),Wr||Gr("}")}function xn(Ar,Gr,Cr){var Wr=Ar.shared,Sn=Wr.gl,Fn=Ar.current,An=Ar.next,dn=Wr.current,Dr=Wr.next,nn=Ar.cond(dn,".dirty");Pn.forEach(function($r){if($r=mr($r),!($r in Cr.state)){var ln,Ln;if($r in An){ln=An[$r],Ln=Fn[$r];var Xn=i(wn[$r].length,function(Rn){return nn.def(ln,"[",Rn,"]")});nn(Ar.cond(Xn.map(function(Rn,$n){return Rn+"!=="+Ln+"["+$n+"]"}).join("||")).then(Sn,".",Jn[$r],"(",Xn,");",Xn.map(function(Rn,$n){return Ln+"["+$n+"]="+Rn}).join(";"),";"))}else ln=nn.def(Dr,".",$r),Xn=Ar.cond(ln,"!==",dn,".",$r),nn(Xn),$r in kn?Xn(Ar.cond(ln).then(Sn,".enable(",kn[$r],");").else(Sn,".disable(",kn[$r],");"),dn,".",$r,"=",ln,";"):Xn(Sn,".",Jn[$r],"(",ln,");",dn,".",$r,"=",ln,";")}}),Object.keys(Cr.state).length===0&&nn(dn,".dirty=false;"),Gr(nn)}function tn(Ar,Gr,Cr,Wr){var Sn=Ar.shared,Fn=Ar.current,An=Sn.current,dn=Sn.gl,Dr;te(Object.keys(Cr)).forEach(function(nn){var $r=Cr[nn];if(!Wr||Wr($r)){var ln=$r.append(Ar,Gr);if(kn[nn]){var Ln=kn[nn];ie($r)?(Dr=Ar.link(ln,{stable:!0}),Gr(Ar.cond(Dr).then(dn,".enable(",Ln,");").else(dn,".disable(",Ln,");")),Gr(An,".",nn,"=",Dr,";")):(Gr(Ar.cond(ln).then(dn,".enable(",Ln,");").else(dn,".disable(",Ln,");")),Gr(An,".",nn,"=",ln,";"))}else if(A(ln)){var Xn=Fn[nn];Gr(dn,".",Jn[nn],"(",ln,");",ln.map(function(Rn,$n){return Xn+"["+$n+"]="+Rn}).join(";"),";")}else ie($r)?(Dr=Ar.link(ln,{stable:!0}),Gr(dn,".",Jn[nn],"(",Dr,");",An,".",nn,"=",Dr,";")):Gr(dn,".",Jn[nn],"(",ln,");",An,".",nn,"=",ln,";")}})}function On(Ar,Gr){Mr&&(Ar.instancing=Gr.def(Ar.shared.extensions,".angle_instanced_arrays"))}function zn(Ar,Gr,Cr,Wr,Sn){function Fn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function An($n){Xn=Gr.def(),$n(Xn,"=",Fn(),";"),typeof Sn=="string"?$n($r,".count+=",Sn,";"):$n($r,".count++;"),tr&&(Wr?(Rn=Gr.def(),$n(Rn,"=",Ln,".getNumPendingQueries();")):$n(Ln,".beginQuery(",$r,");"))}function dn($n){$n($r,".cpuTime+=",Fn(),"-",Xn,";"),tr&&(Wr?$n(Ln,".pushScopeStats(",Rn,",",Ln,".getNumPendingQueries(),",$r,");"):$n(Ln,".endQuery();"))}function Dr($n){var Kn=Gr.def(ln,".profile");Gr(ln,".profile=",$n,";"),Gr.exit(ln,".profile=",Kn,";")}var nn=Ar.shared,$r=Ar.stats,ln=nn.current,Ln=nn.timer;Cr=Cr.profile;var Xn,Rn;if(Cr){if(ie(Cr)){Cr.enable?(An(Gr),dn(Gr.exit),Dr("true")):Dr("false");return}Cr=Cr.append(Ar,Gr),Dr(Cr)}else Cr=Gr.def(ln,".profile");nn=Ar.block(),An(nn),Gr("if(",Cr,"){",nn,"}"),Ar=Ar.block(),dn(Ar),Gr.exit("if(",Cr,"){",Ar,"}")}function Sr(Ar,Gr,Cr,Wr,Sn){function Fn(Dr){switch(Dr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function An(Dr,nn,$r){function ln(){Gr("if(!",$n,".buffer){",Xn,".enableVertexAttribArray(",Rn,");}");var _a=$r.type,Ra;Ra=$r.size?Gr.def($r.size,"||",nn):nn,Gr("if(",$n,".type!==",_a,"||",$n,".size!==",Ra,"||",ba.map(function(Di){return $n+"."+Di+"!=="+$r[Di]}).join("||"),"){",Xn,".bindBuffer(",34962,",",Kn,".buffer);",Xn,".vertexAttribPointer(",[Rn,Ra,_a,$r.normalized,$r.stride,$r.offset],");",$n,".type=",_a,";",$n,".size=",Ra,";",ba.map(function(Di){return $n+"."+Di+"="+$r[Di]+";"}).join(""),"}"),Mr&&(_a=$r.divisor,Gr("if(",$n,".divisor!==",_a,"){",Ar.instancing,".vertexAttribDivisorANGLE(",[Rn,_a],");",$n,".divisor=",_a,";}"))}function Ln(){Gr("if(",$n,".buffer){",Xn,".disableVertexAttribArray(",Rn,");",$n,".buffer=null;","}if(",st.map(function(_a,Ra){return $n+"."+_a+"!=="+xa[Ra]}).join("||"),"){",Xn,".vertexAttrib4f(",Rn,",",xa,");",st.map(function(_a,Ra){return $n+"."+_a+"="+xa[Ra]+";"}).join(""),"}")}var Xn=dn.gl,Rn=Gr.def(Dr,".location"),$n=Gr.def(dn.attributes,"[",Rn,"]");Dr=$r.state;var Kn=$r.buffer,xa=[$r.x,$r.y,$r.z,$r.w],ba=["buffer","normalized","offset","stride"];Dr===1?ln():Dr===2?Ln():(Gr("if(",Dr,"===",1,"){"),ln(),Gr("}else{"),Ln(),Gr("}"))}var dn=Ar.shared;Wr.forEach(function(Dr){var nn=Dr.name,$r=Cr.attributes[nn],ln;if($r){if(!Sn($r))return;ln=$r.append(Ar,Gr)}else{if(!Sn($t))return;var Ln=Ar.scopeAttrib(nn);ln={},Object.keys(new La).forEach(function(Xn){ln[Xn]=Gr.def(Ln,".",Xn)})}An(Ar.link(Dr),Fn(Dr.info.type),ln)})}function Vr(Ar,Gr,Cr,Wr,Sn,Fn){for(var An=Ar.shared,dn=An.gl,Dr,nn=0;nn<Wr.length;++nn){var Xn=Wr[nn],$r=Xn.name,ln=Xn.info.type,Ln=Cr.uniforms[$r],Xn=Ar.link(Xn)+".location",Rn;if(Ln){if(!Sn(Ln))continue;if(ie(Ln)){if($r=Ln.value,ln===35678||ln===35680)ln=Ar.link($r._texture||$r.color[0]._texture),Gr(dn,".uniform1i(",Xn,",",ln+".bind());"),Gr.exit(ln,".unbind();");else if(ln===35674||ln===35675||ln===35676)$r=Ar.global.def("new Float32Array(["+Array.prototype.slice.call($r)+"])"),Ln=2,ln===35675?Ln=3:ln===35676&&(Ln=4),Gr(dn,".uniformMatrix",Ln,"fv(",Xn,",false,",$r,");");else{switch(ln){case 5126:Dr="1f";break;case 35664:Dr="2f";break;case 35665:Dr="3f";break;case 35666:Dr="4f";break;case 35670:Dr="1i";break;case 5124:Dr="1i";break;case 35671:Dr="2i";break;case 35667:Dr="2i";break;case 35672:Dr="3i";break;case 35668:Dr="3i";break;case 35673:Dr="4i";break;case 35669:Dr="4i"}Gr(dn,".uniform",Dr,"(",Xn,",",A($r)?Array.prototype.slice.call($r):$r,");")}continue}else Rn=Ln.append(Ar,Gr)}else{if(!Sn($t))continue;Rn=Gr.def(An.uniforms,"[",qt.id($r),"]")}switch(ln===35678?Gr("if(",Rn,"&&",Rn,'._reglType==="framebuffer"){',Rn,"=",Rn,".color[0];","}"):ln===35680&&Gr("if(",Rn,"&&",Rn,'._reglType==="framebufferCube"){',Rn,"=",Rn,".color[0];","}"),$r=1,ln){case 35678:case 35680:ln=Gr.def(Rn,"._texture"),Gr(dn,".uniform1i(",Xn,",",ln,".bind());"),Gr.exit(ln,".unbind();");continue;case 5124:case 35670:Dr="1i";break;case 35667:case 35671:Dr="2i",$r=2;break;case 35668:case 35672:Dr="3i",$r=3;break;case 35669:case 35673:Dr="4i",$r=4;break;case 5126:Dr="1f";break;case 35664:Dr="2f",$r=2;break;case 35665:Dr="3f",$r=3;break;case 35666:Dr="4f",$r=4;break;case 35674:Dr="Matrix2fv";break;case 35675:Dr="Matrix3fv";break;case 35676:Dr="Matrix4fv"}if(Dr.charAt(0)==="M"){Gr(dn,".uniform",Dr,"(",Xn,",");var Xn=Math.pow(ln-35674+2,2),$n=Ar.global.def("new Float32Array(",Xn,")");Array.isArray(Rn)?Gr("false,(",i(Xn,function(ba){return $n+"["+ba+"]="+Rn[ba]}),",",$n,")"):Gr("false,(Array.isArray(",Rn,")||",Rn," instanceof Float32Array)?",Rn,":(",i(Xn,function(ba){return $n+"["+ba+"]="+Rn+"["+ba+"]"}),",",$n,")"),Gr(");")}else{if(1<$r){for(var ln=[],Kn=[],Ln=0;Ln<$r;++Ln)Array.isArray(Rn)?Kn.push(Rn[Ln]):Kn.push(Gr.def(Rn+"["+Ln+"]")),Fn&&ln.push(Gr.def());Fn&&Gr("if(!",Ar.batchId,"||",ln.map(function(xa,ba){return xa+"!=="+Kn[ba]}).join("||"),"){",ln.map(function(xa,ba){return xa+"="+Kn[ba]+";"}).join("")),Gr(dn,".uniform",Dr,"(",Xn,",",Kn.join(","),");")}else Fn&&(ln=Gr.def(),Gr("if(!",Ar.batchId,"||",ln,"!==",Rn,"){",ln,"=",Rn,";")),Gr(dn,".uniform",Dr,"(",Xn,",",Rn,");");Fn&&Gr("}")}}}function qr(Ar,Gr,Cr,Wr){function Sn(_a){var Ra=$r[_a];return Ra?Ra.contextDep&&Wr.contextDynamic||Ra.propDep?Ra.append(Ar,Cr):Ra.append(Ar,Gr):Gr.def(nn,".",_a)}function Fn(){function _a(){Cr(Kn,".drawElementsInstancedANGLE(",[Ln,Rn,xa,Xn+"<<(("+xa+"-5121)>>1)",$n],");")}function Ra(){Cr(Kn,".drawArraysInstancedANGLE(",[Ln,Xn,Rn,$n],");")}ln&&ln!=="null"?ba?_a():(Cr("if(",ln,"){"),_a(),Cr("}else{"),Ra(),Cr("}")):Ra()}function An(){function _a(){Cr(Dr+".drawElements("+[Ln,Rn,xa,Xn+"<<(("+xa+"-5121)>>1)"]+");")}function Ra(){Cr(Dr+".drawArrays("+[Ln,Xn,Rn]+");")}ln&&ln!=="null"?ba?_a():(Cr("if(",ln,"){"),_a(),Cr("}else{"),Ra(),Cr("}")):Ra()}var dn=Ar.shared,Dr=dn.gl,nn=dn.draw,$r=Wr.draw,ln=function(){var _a=$r.elements,Ra=Gr;return _a?((_a.contextDep&&Wr.contextDynamic||_a.propDep)&&(Ra=Cr),_a=_a.append(Ar,Ra),$r.elementsActive&&Ra("if("+_a+")"+Dr+".bindBuffer(34963,"+_a+".buffer.buffer);")):(_a=Ra.def(),Ra(_a,"=",nn,".","elements",";","if(",_a,"){",Dr,".bindBuffer(",34963,",",_a,".buffer.buffer);}","else if(",dn.vao,".currentVAO){",_a,"=",Ar.shared.elements+".getElements("+dn.vao,".currentVAO.elements);",Kr?"":"if("+_a+")"+Dr+".bindBuffer(34963,"+_a+".buffer.buffer);","}")),_a}(),Ln=Sn("primitive"),Xn=Sn("offset"),Rn=function(){var _a=$r.count,Ra=Gr;return _a?((_a.contextDep&&Wr.contextDynamic||_a.propDep)&&(Ra=Cr),_a=_a.append(Ar,Ra)):_a=Ra.def(nn,".","count"),_a}();if(typeof Rn=="number"){if(Rn===0)return}else Cr("if(",Rn,"){"),Cr.exit("}");var $n,Kn;Mr&&($n=Sn("instances"),Kn=Ar.instancing);var xa=ln+".type",ba=$r.elements&&ie($r.elements)&&!$r.vaoActive;Mr&&(typeof $n!="number"||0<=$n)?typeof $n=="string"?(Cr("if(",$n,">0){"),Fn(),Cr("}else if(",$n,"<0){"),An(),Cr("}")):Fn():An()}function Hr(Ar,Gr,Cr,Wr,Sn){return Gr=Bt(),Sn=Gr.proc("body",Sn),Mr&&(Gr.instancing=Sn.def(Gr.shared.extensions,".angle_instanced_arrays")),Ar(Gr,Sn,Cr,Wr),Gr.compile().body}function Tn(Ar,Gr,Cr,Wr){On(Ar,Gr),Cr.useVAO?Cr.drawVAO?Gr(Ar.shared.vao,".setVAO(",Cr.drawVAO.append(Ar,Gr),");"):Gr(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(Gr(Ar.shared.vao,".setVAO(null);"),Sr(Ar,Gr,Cr,Wr.attributes,function(){return!0})),Vr(Ar,Gr,Cr,Wr.uniforms,function(){return!0},!1),qr(Ar,Gr,Gr,Cr)}function bn(Ar,Gr){var Cr=Ar.proc("draw",1);On(Ar,Cr),zr(Ar,Cr,Gr.context),Nr(Ar,Cr,Gr.framebuffer),xn(Ar,Cr,Gr),tn(Ar,Cr,Gr.state),zn(Ar,Cr,Gr,!1,!0);var Wr=Gr.shader.progVar.append(Ar,Cr);if(Cr(Ar.shared.gl,".useProgram(",Wr,".program);"),Gr.shader.program)Tn(Ar,Cr,Gr,Gr.shader.program);else{Cr(Ar.shared.vao,".setVAO(null);");var Sn=Ar.global.def("{}"),Fn=Cr.def(Wr,".id"),An=Cr.def(Sn,"[",Fn,"]");Cr(Ar.cond(An).then(An,".call(this,a0);").else(An,"=",Sn,"[",Fn,"]=",Ar.link(function(dn){return Hr(Tn,Ar,Gr,dn,1)}),"(",Wr,");",An,".call(this,a0);"))}0<Object.keys(Gr.state).length&&Cr(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Cr(Ar.shared.vao,".setVAO(null);")}function Hn(Ar,Gr,Cr,Wr){function Sn(){return!0}Ar.batchId="a1",On(Ar,Gr),Sr(Ar,Gr,Cr,Wr.attributes,Sn),Vr(Ar,Gr,Cr,Wr.uniforms,Sn,!1),qr(Ar,Gr,Gr,Cr)}function Gn(Ar,Gr,Cr,Wr){function Sn(ln){return ln.contextDep&&An||ln.propDep}function Fn(ln){return!Sn(ln)}On(Ar,Gr);var An=Cr.contextDep,dn=Gr.def(),Dr=Gr.def();Ar.shared.props=Dr,Ar.batchId=dn;var nn=Ar.scope(),$r=Ar.scope();Gr(nn.entry,"for(",dn,"=0;",dn,"<","a1",";++",dn,"){",Dr,"=","a0","[",dn,"];",$r,"}",nn.exit),Cr.needsContext&&zr(Ar,$r,Cr.context),Cr.needsFramebuffer&&Nr(Ar,$r,Cr.framebuffer),tn(Ar,$r,Cr.state,Sn),Cr.profile&&Sn(Cr.profile)&&zn(Ar,$r,Cr,!1,!0),Wr?(Cr.useVAO?Cr.drawVAO?Sn(Cr.drawVAO)?$r(Ar.shared.vao,".setVAO(",Cr.drawVAO.append(Ar,$r),");"):nn(Ar.shared.vao,".setVAO(",Cr.drawVAO.append(Ar,nn),");"):nn(Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"):(nn(Ar.shared.vao,".setVAO(null);"),Sr(Ar,nn,Cr,Wr.attributes,Fn),Sr(Ar,$r,Cr,Wr.attributes,Sn)),Vr(Ar,nn,Cr,Wr.uniforms,Fn,!1),Vr(Ar,$r,Cr,Wr.uniforms,Sn,!0),qr(Ar,nn,$r,Cr)):(Gr=Ar.global.def("{}"),Wr=Cr.shader.progVar.append(Ar,$r),Dr=$r.def(Wr,".id"),nn=$r.def(Gr,"[",Dr,"]"),$r(Ar.shared.gl,".useProgram(",Wr,".program);","if(!",nn,"){",nn,"=",Gr,"[",Dr,"]=",Ar.link(function(ln){return Hr(Hn,Ar,Cr,ln,2)}),"(",Wr,");}",nn,".call(this,a0[",dn,"],",dn,");"))}function ea(Ar,Gr){function Cr(nn){return nn.contextDep&&Sn||nn.propDep}var Wr=Ar.proc("batch",2);Ar.batchId="0",On(Ar,Wr);var Sn=!1,Fn=!0;Object.keys(Gr.context).forEach(function(nn){Sn=Sn||Gr.context[nn].propDep}),Sn||(zr(Ar,Wr,Gr.context),Fn=!1);var An=Gr.framebuffer,dn=!1;if(An?(An.propDep?Sn=dn=!0:An.contextDep&&Sn&&(dn=!0),dn||Nr(Ar,Wr,An)):Nr(Ar,Wr,null),Gr.state.viewport&&Gr.state.viewport.propDep&&(Sn=!0),xn(Ar,Wr,Gr),tn(Ar,Wr,Gr.state,function(nn){return!Cr(nn)}),Gr.profile&&Cr(Gr.profile)||zn(Ar,Wr,Gr,!1,"a1"),Gr.contextDep=Sn,Gr.needsContext=Fn,Gr.needsFramebuffer=dn,Fn=Gr.shader.progVar,Fn.contextDep&&Sn||Fn.propDep)Gn(Ar,Wr,Gr,null);else if(Fn=Fn.append(Ar,Wr),Wr(Ar.shared.gl,".useProgram(",Fn,".program);"),Gr.shader.program)Gn(Ar,Wr,Gr,Gr.shader.program);else{Wr(Ar.shared.vao,".setVAO(null);");var An=Ar.global.def("{}"),dn=Wr.def(Fn,".id"),Dr=Wr.def(An,"[",dn,"]");Wr(Ar.cond(Dr).then(Dr,".call(this,a0,a1);").else(Dr,"=",An,"[",dn,"]=",Ar.link(function(ln){return Hr(Gn,Ar,Gr,ln,2)}),"(",Fn,");",Dr,".call(this,a0,a1);"))}0<Object.keys(Gr.state).length&&Wr(Ar.shared.current,".dirty=true;"),Ar.shared.vao&&Wr(Ar.shared.vao,".setVAO(null);")}function ma(Ar,Gr){function Cr(dn){var Dr=Gr.shader[dn];Dr&&(Dr=Dr.append(Ar,Wr),isNaN(Dr)?Wr.set(Sn.shader,"."+dn,Dr):Wr.set(Sn.shader,"."+dn,Ar.link(Dr,{stable:!0})))}var Wr=Ar.proc("scope",3);Ar.batchId="a2";var Sn=Ar.shared,Fn=Sn.current;if(zr(Ar,Wr,Gr.context),Gr.framebuffer&&Gr.framebuffer.append(Ar,Wr),te(Object.keys(Gr.state)).forEach(function(dn){var Dr=Gr.state[dn],nn=Dr.append(Ar,Wr);A(nn)?nn.forEach(function($r,ln){isNaN($r)?Wr.set(Ar.next[dn],"["+ln+"]",$r):Wr.set(Ar.next[dn],"["+ln+"]",Ar.link($r,{stable:!0}))}):ie(Dr)?Wr.set(Sn.next,"."+dn,Ar.link(nn,{stable:!0})):Wr.set(Sn.next,"."+dn,nn)}),zn(Ar,Wr,Gr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(dn){var Dr=Gr.draw[dn];Dr&&(Dr=Dr.append(Ar,Wr),isNaN(Dr)?Wr.set(Sn.draw,"."+dn,Dr):Wr.set(Sn.draw,"."+dn,Ar.link(Dr),{stable:!0}))}),Object.keys(Gr.uniforms).forEach(function(dn){var Dr=Gr.uniforms[dn].append(Ar,Wr);Array.isArray(Dr)&&(Dr="["+Dr.map(function(nn){return isNaN(nn)?nn:Ar.link(nn,{stable:!0})})+"]"),Wr.set(Sn.uniforms,"["+Ar.link(qt.id(dn),{stable:!0})+"]",Dr)}),Object.keys(Gr.attributes).forEach(function(dn){var Dr=Gr.attributes[dn].append(Ar,Wr),nn=Ar.scopeAttrib(dn);Object.keys(new La).forEach(function($r){Wr.set(nn,"."+$r,Dr[$r])})}),Gr.scopeVAO){var An=Gr.scopeVAO.append(Ar,Wr);isNaN(An)?Wr.set(Sn.vao,".targetVAO",An):Wr.set(Sn.vao,".targetVAO",Ar.link(An,{stable:!0}))}Cr("vert"),Cr("frag"),0<Object.keys(Gr.state).length&&(Wr(Fn,".dirty=true;"),Wr.exit(Fn,".dirty=true;")),Wr("a1(",Ar.shared.context,",a0,",Ar.batchId,");")}function Da(Ar){if(typeof Ar=="object"&&!A(Ar)){for(var Gr=Object.keys(Ar),Cr=0;Cr<Gr.length;++Cr)if(xe.isDynamic(Ar[Gr[Cr]]))return!0;return!1}}function Fa(Ar,Gr,Cr){function Wr(ln,Ln){An.forEach(function(Xn){var Rn=Sn[Xn];xe.isDynamic(Rn)&&(Rn=ln.invoke(Ln,Rn),Ln($r,".",Xn,"=",Rn,";"))})}var Sn=Gr.static[Cr];if(Sn&&Da(Sn)){var Fn=Ar.global,An=Object.keys(Sn),dn=!1,Dr=!1,nn=!1,$r=Ar.global.def("{}");An.forEach(function(ln){var Ln=Sn[ln];if(xe.isDynamic(Ln))typeof Ln=="function"&&(Ln=Sn[ln]=xe.unbox(Ln)),ln=j(Ln,null),dn=dn||ln.thisDep,nn=nn||ln.propDep,Dr=Dr||ln.contextDep;else{switch(Fn($r,".",ln,"="),typeof Ln){case"number":Fn(Ln);break;case"string":Fn('"',Ln,'"');break;case"object":Array.isArray(Ln)&&Fn("[",Ln.join(),"]");break;default:Fn(Ar.link(Ln))}Fn(";")}}),Gr.dynamic[Cr]=new xe.DynamicVariable(4,{thisDep:dn,contextDep:Dr,propDep:nn,ref:$r,append:Wr}),delete Gr.static[Cr]}}var La=kt.Record,Qn={add:32774,subtract:32778,"reverse subtract":32779};nr.ext_blend_minmax&&(Qn.min=32775,Qn.max=32776);var Mr=nr.angle_instanced_arrays,Jr=nr.webgl_draw_buffers,Kr=nr.oes_vertex_array_object,wn={dirty:!0,profile:Qt.profile},jn={},Pn=[],kn={},Jn={};Ze("dither",3024),Ze("blend.enable",3042),Ye("blend.color","blendColor",[0,0,0,0]),Ye("blend.equation","blendEquationSeparate",[32774,32774]),Ye("blend.func","blendFuncSeparate",[1,0,1,0]),Ze("depth.enable",2929,!0),Ye("depth.func","depthFunc",513),Ye("depth.range","depthRange",[0,1]),Ye("depth.mask","depthMask",!0),Ye("colorMask","colorMask",[!0,!0,!0,!0]),Ze("cull.enable",2884),Ye("cull.face","cullFace",1029),Ye("frontFace","frontFace",2305),Ye("lineWidth","lineWidth",1),Ze("polygonOffset.enable",32823),Ye("polygonOffset.offset","polygonOffset",[0,0]),Ze("sample.alpha",32926),Ze("sample.enable",32928),Ye("sample.coverage","sampleCoverage",[1,!1]),Ze("stencil.enable",2960),Ye("stencil.mask","stencilMask",-1),Ye("stencil.func","stencilFunc",[519,0,-1]),Ye("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ye("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ze("scissor.enable",3089),Ye("scissor.box","scissor",[0,0,xt.drawingBufferWidth,xt.drawingBufferHeight]),Ye("viewport","viewport",[0,0,xt.drawingBufferWidth,xt.drawingBufferHeight]);var ua={gl:xt,context:Ht,strings:qt,next:jn,current:wn,draw:Wt,elements:bt,buffer:dr,shader:Xt,attributes:kt.state,vao:kt,uniforms:_t,framebuffer:Mt,extensions:nr,timer:tr,isBufferArgs:Z},Ca={primTypes:ct,compareFuncs:Jt,blendFuncs:jt,blendEquations:Qn,stencilOps:St,glTypes:Ge,orientationType:Rt};Jr&&(Ca.backBuffer=[1029],Ca.drawBuffer=i(wr.maxDrawbuffers,function(Ar){return Ar===0?[0]:i(Ar,function(Gr){return 36064+Gr})}));var ei=0;return{next:jn,current:wn,procs:function(){var Ar=Bt(),Gr=Ar.proc("poll"),Cr=Ar.proc("refresh"),Wr=Ar.block();Gr(Wr),Cr(Wr);var Dr=Ar.shared,Sn=Dr.gl,Fn=Dr.next,An=Dr.current;Wr(An,".dirty=false;"),Nr(Ar,Gr),Nr(Ar,Cr,null,!0);var dn;Mr&&(dn=Ar.link(Mr)),nr.oes_vertex_array_object&&Cr(Ar.link(nr.oes_vertex_array_object),".bindVertexArrayOES(null);");var Dr=Cr.def(Dr.attributes),nn=Cr.def(0),$r=Ar.cond(nn,".buffer");$r.then(Sn,".enableVertexAttribArray(i);",Sn,".bindBuffer(",34962,",",nn,".buffer.buffer);",Sn,".vertexAttribPointer(i,",nn,".size,",nn,".type,",nn,".normalized,",nn,".stride,",nn,".offset);").else(Sn,".disableVertexAttribArray(i);",Sn,".vertexAttrib4f(i,",nn,".x,",nn,".y,",nn,".z,",nn,".w);",nn,".buffer=null;");var ln=Ar.link(wr.maxAttributes,{stable:!0});return Cr("for(var i=0;i<",ln,";++i){",nn,"=",Dr,"[i];",$r,"}"),Mr&&Cr("for(var i=0;i<",ln,";++i){",dn,".vertexAttribDivisorANGLE(i,",Dr,"[i].divisor);","}"),Cr(Ar.shared.vao,".currentVAO=null;",Ar.shared.vao,".setVAO(",Ar.shared.vao,".targetVAO);"),Object.keys(kn).forEach(function(Ln){var Xn=kn[Ln],Rn=Wr.def(Fn,".",Ln),$n=Ar.block();$n("if(",Rn,"){",Sn,".enable(",Xn,")}else{",Sn,".disable(",Xn,")}",An,".",Ln,"=",Rn,";"),Cr($n),Gr("if(",Rn,"!==",An,".",Ln,"){",$n,"}")}),Object.keys(Jn).forEach(function(Ln){var Xn=Jn[Ln],Rn=wn[Ln],$n,Kn,xa=Ar.block();xa(Sn,".",Xn,"("),A(Rn)?(Xn=Rn.length,$n=Ar.global.def(Fn,".",Ln),Kn=Ar.global.def(An,".",Ln),xa(i(Xn,function(ba){return $n+"["+ba+"]"}),");",i(Xn,function(ba){return Kn+"["+ba+"]="+$n+"["+ba+"];"}).join("")),Gr("if(",i(Xn,function(ba){return $n+"["+ba+"]!=="+Kn+"["+ba+"]"}).join("||"),"){",xa,"}")):($n=Wr.def(Fn,".",Ln),Kn=Wr.def(An,".",Ln),xa($n,");",An,".",Ln,"=",$n,";"),Gr("if(",$n,"!==",Kn,"){",xa,"}")),Cr(xa)}),Ar.compile()}(),compile:function(Ar,Gr,Cr,Wr,Sn){var Fn=Bt();Fn.stats=Fn.link(Sn),Object.keys(Gr.static).forEach(function(dn){Fa(Fn,Gr,dn)}),lt.forEach(function(dn){Fa(Fn,Ar,dn)});var An=Yr(Ar,Gr,Cr,Wr,Fn);return An.shader.program&&(An.shader.program.attributes.sort(function(dn,Dr){return dn.name<Dr.name?-1:1}),An.shader.program.uniforms.sort(function(dn,Dr){return dn.name<Dr.name?-1:1})),bn(Fn,An),ma(Fn,An),ea(Fn,An),ae(Fn.compile(),{destroy:function(){An.shader.program.destroy()}})}}}function ue(xt,qt){for(var nr=0;nr<xt.length;++nr)if(xt[nr]===qt)return nr;return-1}var ae=function(xt,qt){for(var nr=Object.keys(qt),wr=0;wr<nr.length;++wr)xt[nr[wr]]=qt[nr[wr]];return xt},he=0,xe={DynamicVariable:U,define:function(xt,qt){return new U(xt,d(qt+""))},isDynamic:function(xt){return typeof xt=="function"&&!xt._reglType||xt instanceof U},unbox:C,accessor:d},Se={next:typeof requestAnimationFrame=="function"?function(xt){return requestAnimationFrame(xt)}:function(xt){return setTimeout(xt,16)},cancel:typeof cancelAnimationFrame=="function"?function(xt){return cancelAnimationFrame(xt)}:clearTimeout},Ae=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},De=u();De.zero=u();var we=function(xt,qt){var nr=1;qt.ext_texture_filter_anisotropic&&(nr=xt.getParameter(34047));var wr=1,dr=1;qt.webgl_draw_buffers&&(wr=xt.getParameter(34852),dr=xt.getParameter(36063));var bt=!!qt.oes_texture_float;if(bt){bt=xt.createTexture(),xt.bindTexture(3553,bt),xt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ut=xt.createFramebuffer();if(xt.bindFramebuffer(36160,ut),xt.framebufferTexture2D(36160,36064,3553,bt,0),xt.bindTexture(3553,null),xt.checkFramebufferStatus(36160)!==36053)bt=!1;else{xt.viewport(0,0,1,1),xt.clearColor(1,0,0,1),xt.clear(16384);var Mt=De.allocType(5126,4);xt.readPixels(0,0,1,1,6408,5126,Mt),xt.getError()?bt=!1:(xt.deleteFramebuffer(ut),xt.deleteTexture(bt),bt=Mt[0]===1),De.freeType(Mt)}}return Mt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Mt=xt.createTexture(),ut=De.allocType(5121,36),xt.activeTexture(33984),xt.bindTexture(34067,Mt),xt.texImage2D(34069,0,6408,3,3,0,6408,5121,ut),De.freeType(ut),xt.bindTexture(34067,null),xt.deleteTexture(Mt),Mt=!xt.getError()),{colorBits:[xt.getParameter(3410),xt.getParameter(3411),xt.getParameter(3412),xt.getParameter(3413)],depthBits:xt.getParameter(3414),stencilBits:xt.getParameter(3415),subpixelBits:xt.getParameter(3408),extensions:Object.keys(qt).filter(function(_t){return!!qt[_t]}),maxAnisotropic:nr,maxDrawbuffers:wr,maxColorAttachments:dr,pointSizeDims:xt.getParameter(33901),lineWidthDims:xt.getParameter(33902),maxViewportDims:xt.getParameter(3386),maxCombinedTextureUnits:xt.getParameter(35661),maxCubeMapSize:xt.getParameter(34076),maxRenderbufferSize:xt.getParameter(34024),maxTextureUnits:xt.getParameter(34930),maxTextureSize:xt.getParameter(3379),maxAttributes:xt.getParameter(34921),maxVertexUniforms:xt.getParameter(36347),maxVertexTextureUnits:xt.getParameter(35660),maxVaryingVectors:xt.getParameter(36348),maxFragmentUniforms:xt.getParameter(36349),glsl:xt.getParameter(35724),renderer:xt.getParameter(7937),vendor:xt.getParameter(7936),version:xt.getParameter(7938),readFloat:bt,npotTextureCube:Mt}},Ce=function(xt){return xt instanceof Uint8Array||xt instanceof Uint16Array||xt instanceof Uint32Array||xt instanceof Int8Array||xt instanceof Int16Array||xt instanceof Int32Array||xt instanceof Float32Array||xt instanceof Float64Array||xt instanceof Uint8ClampedArray},be=function(xt){return Object.keys(xt).map(function(qt){return xt[qt]})},Pe={shape:function(xt){for(var qt=[];xt.length;xt=xt[0])qt.push(xt.length);return qt},flatten:function(xt,qt,nr,wr){var dr=1;if(qt.length)for(var bt=0;bt<qt.length;++bt)dr*=qt[bt];else dr=0;switch(nr=wr||De.allocType(nr,dr),qt.length){case 0:break;case 1:for(wr=qt[0],qt=0;qt<wr;++qt)nr[qt]=xt[qt];break;case 2:for(wr=qt[0],qt=qt[1],bt=dr=0;bt<wr;++bt)for(var ut=xt[bt],Mt=0;Mt<qt;++Mt)nr[dr++]=ut[Mt];break;case 3:l(xt,qt[0],qt[1],qt[2],nr,0);break;default:m(xt,qt,0,nr,0)}return nr}},Ve={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ge={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Fe={dynamic:35048,stream:35040,static:35044},He=Pe.flatten,ft=Pe.shape,gt=[];gt[5120]=1,gt[5122]=2,gt[5124]=4,gt[5121]=1,gt[5123]=2,gt[5125]=4,gt[5126]=4;var ct={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},nt=new Float32Array(1),dt=new Uint32Array(nt.buffer),pt=[9984,9986,9985,9987],wt=[0,6409,6410,6407,6408],Tt={};Tt[6409]=Tt[6406]=Tt[6402]=1,Tt[34041]=Tt[6410]=2,Tt[6407]=Tt[35904]=3,Tt[6408]=Tt[35906]=4;var Ct=_("HTMLCanvasElement"),at=_("OffscreenCanvas"),ze=_("CanvasRenderingContext2D"),je=_("ImageBitmap"),Je=_("HTMLImageElement"),Xe=_("HTMLVideoElement"),Oe=Object.keys(Ve).concat([Ct,at,ze,je,Je,Xe]),ke=[];ke[5121]=1,ke[5126]=4,ke[36193]=2,ke[5123]=2,ke[5125]=4;var Ke=[];Ke[32854]=2,Ke[32855]=2,Ke[36194]=2,Ke[34041]=4,Ke[33776]=.5,Ke[33777]=.5,Ke[33778]=1,Ke[33779]=1,Ke[35986]=.5,Ke[35987]=1,Ke[34798]=1,Ke[35840]=.5,Ke[35841]=.25,Ke[35842]=.5,Ke[35843]=.25,Ke[36196]=.5;var Ie=[];Ie[32854]=2,Ie[32855]=2,Ie[36194]=2,Ie[33189]=2,Ie[36168]=1,Ie[34041]=4,Ie[35907]=4,Ie[34836]=16,Ie[34842]=8,Ie[34843]=6;var pe=function(xt,qt,nr,wr,dr){function bt(Wt){this.id=kt++,this.refCount=1,this.renderbuffer=Wt,this.format=32854,this.height=this.width=0,dr.profile&&(this.stats={size:0})}function ut(Wt){var Ht=Wt.renderbuffer;xt.bindRenderbuffer(36161,null),xt.deleteRenderbuffer(Ht),Wt.renderbuffer=null,Wt.refCount=0,delete Xt[Wt.id],wr.renderbufferCount--}var Mt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};qt.ext_srgb&&(Mt.srgba=35907),qt.ext_color_buffer_half_float&&(Mt.rgba16f=34842,Mt.rgb16f=34843),qt.webgl_color_buffer_float&&(Mt.rgba32f=34836);var _t=[];Object.keys(Mt).forEach(function(Wt){_t[Mt[Wt]]=Wt});var kt=0,Xt={};return bt.prototype.decRef=function(){0>=--this.refCount&&ut(this)},dr.profile&&(wr.getTotalRenderbufferSize=function(){var Wt=0;return Object.keys(Xt).forEach(function(Ht){Wt+=Xt[Ht].stats.size}),Wt}),{create:function(Wt,Ht){function tr(Qt,mr){var Ze=0,Ye=0,Bt=32854;if(typeof Qt=="object"&&Qt?("shape"in Qt?(Ye=Qt.shape,Ze=Ye[0]|0,Ye=Ye[1]|0):("radius"in Qt&&(Ze=Ye=Qt.radius|0),"width"in Qt&&(Ze=Qt.width|0),"height"in Qt&&(Ye=Qt.height|0)),"format"in Qt&&(Bt=Mt[Qt.format])):typeof Qt=="number"?(Ze=Qt|0,Ye=typeof mr=="number"?mr|0:Ze):Qt||(Ze=Ye=1),Ze!==gr.width||Ye!==gr.height||Bt!==gr.format)return tr.width=gr.width=Ze,tr.height=gr.height=Ye,gr.format=Bt,xt.bindRenderbuffer(36161,gr.renderbuffer),xt.renderbufferStorage(36161,Bt,Ze,Ye),dr.profile&&(gr.stats.size=Ie[gr.format]*gr.width*gr.height),tr.format=_t[gr.format],tr}var gr=new bt(xt.createRenderbuffer());return Xt[gr.id]=gr,wr.renderbufferCount++,tr(Wt,Ht),tr.resize=function(Qt,mr){var Ze=Qt|0,Ye=mr|0||Ze;return Ze===gr.width&&Ye===gr.height||(tr.width=gr.width=Ze,tr.height=gr.height=Ye,xt.bindRenderbuffer(36161,gr.renderbuffer),xt.renderbufferStorage(36161,gr.format,Ze,Ye),dr.profile&&(gr.stats.size=Ie[gr.format]*gr.width*gr.height)),tr},tr._reglType="renderbuffer",tr._renderbuffer=gr,dr.profile&&(tr.stats=gr.stats),tr.destroy=function(){gr.decRef()},tr},clear:function(){be(Xt).forEach(ut)},restore:function(){be(Xt).forEach(function(Wt){Wt.renderbuffer=xt.createRenderbuffer(),xt.bindRenderbuffer(36161,Wt.renderbuffer),xt.renderbufferStorage(36161,Wt.format,Wt.width,Wt.height)}),xt.bindRenderbuffer(36161,null)}}},Te=[];Te[6408]=4,Te[6407]=3;var Ue=[];Ue[5121]=1,Ue[5126]=4,Ue[36193]=2;var et=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],st=["x","y","z","w"],lt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),jt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Jt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},St={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Rt={cw:2304,ccw:2305},$t=new Y(!1,!1,!1,function(){}),Pr=function(xt,qt){function nr(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function wr(Xt,Wt,Ht){var tr=ut.pop()||new nr;tr.startQueryIndex=Xt,tr.endQueryIndex=Wt,tr.sum=0,tr.stats=Ht,Mt.push(tr)}if(!qt.ext_disjoint_timer_query)return null;var dr=[],bt=[],ut=[],Mt=[],_t=[],kt=[];return{beginQuery:function(Xt){var Wt=dr.pop()||qt.ext_disjoint_timer_query.createQueryEXT();qt.ext_disjoint_timer_query.beginQueryEXT(35007,Wt),bt.push(Wt),wr(bt.length-1,bt.length,Xt)},endQuery:function(){qt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:wr,update:function(){var Xt,Wt;if(Xt=bt.length,Xt!==0){kt.length=Math.max(kt.length,Xt+1),_t.length=Math.max(_t.length,Xt+1),_t[0]=0;var Ht=kt[0]=0;for(Wt=Xt=0;Wt<bt.length;++Wt){var tr=bt[Wt];qt.ext_disjoint_timer_query.getQueryObjectEXT(tr,34919)?(Ht+=qt.ext_disjoint_timer_query.getQueryObjectEXT(tr,34918),dr.push(tr)):bt[Xt++]=tr,_t[Wt+1]=Ht,kt[Wt+1]=Xt}for(bt.length=Xt,Wt=Xt=0;Wt<Mt.length;++Wt){var Ht=Mt[Wt],gr=Ht.startQueryIndex,tr=Ht.endQueryIndex;Ht.sum+=_t[tr]-_t[gr],gr=kt[gr],tr=kt[tr],tr===gr?(Ht.stats.gpuTime+=Ht.sum/1e6,ut.push(Ht)):(Ht.startQueryIndex=gr,Ht.endQueryIndex=tr,Mt[Xt++]=Ht)}Mt.length=Xt}},getNumPendingQueries:function(){return bt.length},clear:function(){dr.push.apply(dr,bt);for(var Xt=0;Xt<dr.length;Xt++)qt.ext_disjoint_timer_query.deleteQueryEXT(dr[Xt]);bt.length=0,dr.length=0},restore:function(){bt.length=0,dr.length=0}}};return function(xt){function qt(){if(zn.length===0)Bt&&Bt.update(),Hr=null;else{Hr=Se.next(qt),Xt();for(var bn=zn.length-1;0<=bn;--bn){var Hn=zn[bn];Hn&&Hn(sr,null,0)}tr.flush(),Bt&&Bt.update()}}function nr(){!Hr&&0<zn.length&&(Hr=Se.next(qt))}function wr(){Hr&&(Se.cancel(qt),Hr=null)}function dr(bn){bn.preventDefault(),wr(),Sr.forEach(function(Hn){Hn()})}function bt(bn){tr.getError(),Qt.restore(),_r.restore(),Vt.restore(),pr.restore(),Yr.restore(),zr.restore(),br.restore(),Bt&&Bt.restore(),Nr.procs.refresh(),nr(),Vr.forEach(function(Hn){Hn()})}function ut(bn){function Hn(wn,jn){var Pn={},kn={};return Object.keys(wn).forEach(function(Jn){var ua=wn[Jn];if(xe.isDynamic(ua))kn[Jn]=xe.unbox(ua,Jn);else{if(jn&&Array.isArray(ua)){for(var Ca=0;Ca<ua.length;++Ca)if(xe.isDynamic(ua[Ca])){kn[Jn]=xe.unbox(ua,Jn);return}}Pn[Jn]=ua}}),{dynamic:kn,static:Pn}}function Gn(wn){for(;Kr.length<wn;)Kr.push(null);return Kr}var ea=Hn(bn.context||{},!0),ma=Hn(bn.uniforms||{},!0),Da=Hn(bn.attributes||{},!1);bn=Hn(function(wn){function jn(kn){if(kn in Pn){var Jn=Pn[kn];delete Pn[kn],Object.keys(Jn).forEach(function(ua){Pn[kn+"."+ua]=Jn[ua]})}}var Pn=ae({},wn);return delete Pn.uniforms,delete Pn.attributes,delete Pn.context,delete Pn.vao,"stencil"in Pn&&Pn.stencil.op&&(Pn.stencil.opBack=Pn.stencil.opFront=Pn.stencil.op,delete Pn.stencil.op),jn("blend"),jn("depth"),jn("cull"),jn("stencil"),jn("polygonOffset"),jn("scissor"),jn("sample"),"vao"in wn&&(Pn.vao=wn.vao),Pn}(bn),!1);var Fa={gpuTime:0,cpuTime:0,count:0},La=Nr.compile(bn,Da,ma,ea,Fa),Qn=La.draw,Mr=La.batch,Jr=La.scope,Kr=[];return ae(function(wn,jn){var Pn;if(typeof wn=="function")return Jr.call(this,null,wn,0);if(typeof jn=="function")if(typeof wn=="number")for(Pn=0;Pn<wn;++Pn)Jr.call(this,null,jn,Pn);else if(Array.isArray(wn))for(Pn=0;Pn<wn.length;++Pn)Jr.call(this,wn[Pn],jn,Pn);else return Jr.call(this,wn,jn,0);else if(typeof wn=="number"){if(0<wn)return Mr.call(this,Gn(wn|0),wn|0)}else if(Array.isArray(wn)){if(wn.length)return Mr.call(this,wn,wn.length)}else return Qn.call(this,wn)},{stats:Fa,destroy:function(){La.destroy()}})}function Mt(bn,Hn){var Gn=0;Nr.procs.poll();var ea=Hn.color;ea&&(tr.clearColor(+ea[0]||0,+ea[1]||0,+ea[2]||0,+ea[3]||0),Gn|=16384),"depth"in Hn&&(tr.clearDepth(+Hn.depth),Gn|=256),"stencil"in Hn&&(tr.clearStencil(Hn.stencil|0),Gn|=1024),tr.clear(Gn)}function _t(bn){return zn.push(bn),nr(),{cancel:function(){function Hn(){var ea=ue(zn,Hn);zn[ea]=zn[zn.length-1],--zn.length,0>=zn.length&&wr()}var Gn=ue(zn,bn);zn[Gn]=Hn}}}function kt(){var bn=tn.viewport,Hn=tn.scissor_box;bn[0]=bn[1]=Hn[0]=Hn[1]=0,sr.viewportWidth=sr.framebufferWidth=sr.drawingBufferWidth=bn[2]=Hn[2]=tr.drawingBufferWidth,sr.viewportHeight=sr.framebufferHeight=sr.drawingBufferHeight=bn[3]=Hn[3]=tr.drawingBufferHeight}function Xt(){sr.tick+=1,sr.time=Ht(),kt(),Nr.procs.poll()}function Wt(){pr.refresh(),kt(),Nr.procs.refresh(),Bt&&Bt.update()}function Ht(){return(Ae()-Ft)/1e3}if(xt=r(xt),!xt)return null;var tr=xt.gl,gr=tr.getContextAttributes();tr.isContextLost();var Qt=t(tr,xt);if(!Qt)return null;var xn=n(),mr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ze=xt.cachedCode||{},Ye=Qt.extensions,Bt=Pr(tr,Ye),Ft=Ae(),fr=tr.drawingBufferWidth,rr=tr.drawingBufferHeight,sr={tick:0,time:0,viewportWidth:fr,viewportHeight:rr,framebufferWidth:fr,framebufferHeight:rr,drawingBufferWidth:fr,drawingBufferHeight:rr,pixelRatio:xt.pixelRatio},fr={elements:null,primitive:4,count:-1,offset:0,instances:-1},ir=we(tr,Ye),Vt=o(tr,mr,xt,function(bn){return br.destroyBuffer(bn)}),yr=p(tr,Ye,Vt,mr),br=k(tr,Ye,ir,mr,Vt,yr,fr),_r=F(tr,xn,mr,xt),pr=I(tr,Ye,ir,function(){Nr.procs.poll()},sr,mr,xt),Yr=pe(tr,Ye,ir,mr,xt),zr=D(tr,Ye,ir,pr,Yr,mr),Nr=K(tr,xn,Ye,ir,Vt,yr,pr,zr,{},br,_r,fr,sr,Bt,Ze,xt),xn=N(tr,zr,Nr.procs.poll,sr),tn=Nr.next,On=tr.canvas,zn=[],Sr=[],Vr=[],qr=[xt.onDestroy],Hr=null;On&&(On.addEventListener("webglcontextlost",dr,!1),On.addEventListener("webglcontextrestored",bt,!1));var Tn=zr.setFBO=ut({framebuffer:xe.define.call(null,1,"framebuffer")});return Wt(),gr=ae(ut,{clear:function(bn){if("framebuffer"in bn)if(bn.framebuffer&&bn.framebuffer_reglType==="framebufferCube")for(var Hn=0;6>Hn;++Hn)Tn(ae({framebuffer:bn.framebuffer.faces[Hn]},bn),Mt);else Tn(bn,Mt);else Mt(null,bn)},prop:xe.define.bind(null,1),context:xe.define.bind(null,2),this:xe.define.bind(null,3),draw:ut({}),buffer:function(bn){return Vt.create(bn,34962,!1,!1)},elements:function(bn){return yr.create(bn,!1)},texture:pr.create2D,cube:pr.createCube,renderbuffer:Yr.create,framebuffer:zr.create,framebufferCube:zr.createCube,vao:br.createVAO,attributes:gr,frame:_t,on:function(bn,Hn){var Gn;switch(bn){case"frame":return _t(Hn);case"lost":Gn=Sr;break;case"restore":Gn=Vr;break;case"destroy":Gn=qr}return Gn.push(Hn),{cancel:function(){for(var ea=0;ea<Gn.length;++ea)if(Gn[ea]===Hn){Gn[ea]=Gn[Gn.length-1],Gn.pop();break}}}},limits:ir,hasExtension:function(bn){return 0<=ir.extensions.indexOf(bn.toLowerCase())},read:xn,destroy:function(){zn.length=0,wr(),On&&(On.removeEventListener("webglcontextlost",dr),On.removeEventListener("webglcontextrestored",bt)),_r.clear(),zr.clear(),Yr.clear(),br.clear(),pr.clear(),yr.clear(),Vt.clear(),Bt&&Bt.clear(),qr.forEach(function(bn){bn()})},_gl:tr,_refresh:Wt,poll:function(){Xt(),Bt&&Bt.update()},now:Ht,stats:mr,getCachedCode:function(){return Ze},preloadCachedCode:function(bn){Object.entries(bn).forEach(function(Hn){Ze[Hn[0]]=Hn[1]})}}),xt.onDone(null,gr),gr}})},30456:function(H,U,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var d=e(33576),C=d.Buffer;function n(w,v){for(var g in w)v[g]=w[g]}C.from&&C.alloc&&C.allocUnsafe&&C.allocUnsafeSlow?H.exports=d:(n(d,U),U.Buffer=L);function L(w,v,g){return C(w,v,g)}L.prototype=Object.create(C.prototype),n(C,L),L.from=function(w,v,g){if(typeof w=="number")throw new TypeError("Argument must not be a number");return C(w,v,g)},L.alloc=function(w,v,g){if(typeof w!="number")throw new TypeError("Argument must be a number");var r=C(w);return v!==void 0?typeof g=="string"?r.fill(v,g):r.fill(v):r.fill(0),r},L.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return C(w)},L.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(w)}},14500:function(H,U,e){var d=e(53664),C=e(64348),n=e(39640)(),L=e(2304),w=d("%TypeError%"),v=d("%Math.floor%");H.exports=function(r,t){if(typeof r!="function")throw new w("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new w("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],a=!0,u=!0;if("length"in r&&L){var f=L(r,"length");f&&!f.configurable&&(a=!1),f&&!f.writable&&(u=!1)}return(a||u||!i)&&(n?C(r,"length",t,!0,!0):C(r,"length",t)),r}},29936:function(H,U,e){H.exports=n;var d=e(61252).EventEmitter,C=e(6768);C(n,d),n.Readable=e(12348),n.Writable=e(11288),n.Duplex=e(15316),n.Transform=e(22477),n.PassThrough=e(27136),n.finished=e(15932),n.pipeline=e(38180),n.Stream=n;function n(){d.call(this)}n.prototype.pipe=function(L,w){var v=this;function g(l){L.writable&&L.write(l)===!1&&v.pause&&v.pause()}v.on("data",g);function r(){v.readable&&v.resume&&v.resume()}L.on("drain",r),!L._isStdio&&(!w||w.end!==!1)&&(v.on("end",i),v.on("close",a));var t=!1;function i(){t||(t=!0,L.end())}function a(){t||(t=!0,typeof L.destroy=="function"&&L.destroy())}function u(l){if(f(),d.listenerCount(this,"error")===0)throw l}v.on("error",u),L.on("error",u);function f(){v.removeListener("data",g),L.removeListener("drain",r),v.removeListener("end",i),v.removeListener("close",a),v.removeListener("error",u),L.removeListener("error",u),v.removeListener("end",f),v.removeListener("close",f),L.removeListener("close",f)}return v.on("end",f),v.on("close",f),L.on("close",f),L.emit("pipe",v),L}},92784:function(H){function U(v,g){v.prototype=Object.create(g.prototype),v.prototype.constructor=v,v.__proto__=g}var e={};function d(v,g,r){r||(r=Error);function t(a,u,f){return typeof g=="string"?g:g(a,u,f)}var i=function(a){U(u,a);function u(f,l,m){return a.call(this,t(f,l,m))||this}return u}(r);i.prototype.name=r.name,i.prototype.code=v,e[v]=i}function C(v,g){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(g," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(g," ").concat(v[0]," or ").concat(v[1]):"of ".concat(g," ").concat(v[0])}else return"of ".concat(g," ").concat(String(v))}function n(v,g,r){return v.substr(!r||r<0?0:+r,g.length)===g}function L(v,g,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-g.length,r)===g}function w(v,g,r){return typeof r!="number"&&(r=0),r+g.length>v.length?!1:v.indexOf(g,r)!==-1}d("ERR_INVALID_OPT_VALUE",function(v,g){return'The value "'+g+'" is invalid for option "'+v+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(v,g,r){var t;typeof g=="string"&&n(g,"not ")?(t="must not be",g=g.replace(/^not /,"")):t="must be";var i;if(L(v," argument"))i="The ".concat(v," ").concat(t," ").concat(C(g,"type"));else{var a=w(v,".")?"property":"argument";i='The "'.concat(v,'" ').concat(a," ").concat(t," ").concat(C(g,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),H.exports.i=e},15316:function(H,U,e){var d=e(4168),C=Object.keys||function(a){var u=[];for(var f in a)u.push(f);return u};H.exports=r;var n=e(12348),L=e(11288);e(6768)(r,n);for(var w=C(L.prototype),v=0;v<w.length;v++){var g=w[v];r.prototype[g]||(r.prototype[g]=L.prototype[g])}function r(a){if(!(this instanceof r))return new r(a);n.call(this,a),L.call(this,a),this.allowHalfOpen=!0,a&&(a.readable===!1&&(this.readable=!1),a.writable===!1&&(this.writable=!1),a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||d.nextTick(i,this)}function i(a){a.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}})},27136:function(H,U,e){H.exports=C;var d=e(22477);e(6768)(C,d);function C(n){if(!(this instanceof C))return new C(n);d.call(this,n)}C.prototype._transform=function(n,L,w){w(null,n)}},12348:function(H,U,e){var d=e(4168);H.exports=s;var C;s.ReadableState=M,e(61252).EventEmitter;var n=function(K,ue){return K.listeners(ue).length},L=e(4776),w=e(33576).Buffer,v=e.g.Uint8Array||function(){};function g(j){return w.from(j)}function r(j){return w.isBuffer(j)||j instanceof v}var t=e(19768),i;t&&t.debuglog?i=t.debuglog("stream"):i=function(){};var a=e(47264),u=e(55324),f=e(24888),l=f.getHighWaterMark,m=e(92784).i,h=m.ERR_INVALID_ARG_TYPE,T=m.ERR_STREAM_PUSH_AFTER_EOF,c=m.ERR_METHOD_NOT_IMPLEMENTED,o=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,x,A;e(6768)(s,L);var _=u.errorOrDestroy,y=["error","close","destroy","pause","resume"];function E(j,K,ue){if(typeof j.prependListener=="function")return j.prependListener(K,ue);!j._events||!j._events[K]?j.on(K,ue):Array.isArray(j._events[K])?j._events[K].unshift(ue):j._events[K]=[ue,j._events[K]]}function M(j,K,ue){C=C||e(15316),j=j||{},typeof ue!="boolean"&&(ue=K instanceof C),this.objectMode=!!j.objectMode,ue&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=l(this,j,"readableHighWaterMark",ue),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(p||(p=e(86032).o),this.decoder=new p(j.encoding),this.encoding=j.encoding)}function s(j){if(C=C||e(15316),!(this instanceof s))return new s(j);var K=this instanceof C;this._readableState=new M(j,this,K),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),L.call(this)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),s.prototype.destroy=u.destroy,s.prototype._undestroy=u.undestroy,s.prototype._destroy=function(j,K){K(j)},s.prototype.push=function(j,K){var ue=this._readableState,ae;return ue.objectMode?ae=!0:typeof j=="string"&&(K=K||ue.defaultEncoding,K!==ue.encoding&&(j=w.from(j,K),K=""),ae=!0),S(this,j,K,!1,ae)},s.prototype.unshift=function(j){return S(this,j,null,!0,!1)};function S(j,K,ue,ae,he){i("readableAddChunk",K);var xe=j._readableState;if(K===null)xe.reading=!1,F(j,xe);else{var Se;if(he||(Se=I(xe,K)),Se)_(j,Se);else if(xe.objectMode||K&&K.length>0)if(typeof K!="string"&&!xe.objectMode&&Object.getPrototypeOf(K)!==w.prototype&&(K=g(K)),ae)xe.endEmitted?_(j,new o):b(j,xe,K,!0);else if(xe.ended)_(j,new T);else{if(xe.destroyed)return!1;xe.reading=!1,xe.decoder&&!ue?(K=xe.decoder.write(K),xe.objectMode||K.length!==0?b(j,xe,K,!1):V(j,xe)):b(j,xe,K,!1)}else ae||(xe.reading=!1,V(j,xe))}return!xe.ended&&(xe.length<xe.highWaterMark||xe.length===0)}function b(j,K,ue,ae){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,j.emit("data",ue)):(K.length+=K.objectMode?1:ue.length,ae?K.buffer.unshift(ue):K.buffer.push(ue),K.needReadable&&N(j)),V(j,K)}function I(j,K){var ue;return!r(K)&&typeof K!="string"&&K!==void 0&&!j.objectMode&&(ue=new h("chunk",["string","Buffer","Uint8Array"],K)),ue}s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(j){p||(p=e(86032).o);var K=new p(j);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var ue=this._readableState.buffer.head,ae="";ue!==null;)ae+=K.write(ue.data),ue=ue.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};var D=1073741824;function B(j){return j>=D?j=D:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function k(j,K){return j<=0||K.length===0&&K.ended?0:K.objectMode?1:j!==j?K.flowing&&K.length?K.buffer.head.data.length:K.length:(j>K.highWaterMark&&(K.highWaterMark=B(j)),j<=K.length?j:K.ended?K.length:(K.needReadable=!0,0))}s.prototype.read=function(j){i("read",j),j=parseInt(j,10);var K=this._readableState,ue=j;if(j!==0&&(K.emittedReadable=!1),j===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return i("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?Y(this):N(this),null;if(j=k(j,K),j===0&&K.ended)return K.length===0&&Y(this),null;var ae=K.needReadable;i("need readable",ae),(K.length===0||K.length-j<K.highWaterMark)&&(ae=!0,i("length less than watermark",ae)),K.ended||K.reading?(ae=!1,i("reading or ended",ae)):ae&&(i("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(j=k(ue,K)));var he;return j>0?he=te(j,K):he=null,he===null?(K.needReadable=K.length<=K.highWaterMark,j=0):(K.length-=j,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),ue!==j&&K.ended&&Y(this)),he!==null&&this.emit("data",he),he};function F(j,K){if(i("onEofChunk"),!K.ended){if(K.decoder){var ue=K.decoder.end();ue&&ue.length&&(K.buffer.push(ue),K.length+=K.objectMode?1:ue.length)}K.ended=!0,K.sync?N(j):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,O(j)))}}function N(j){var K=j._readableState;i("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(i("emitReadable",K.flowing),K.emittedReadable=!0,d.nextTick(O,j))}function O(j){var K=j._readableState;i("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(j.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,Z(j)}function V(j,K){K.readingMore||(K.readingMore=!0,d.nextTick(X,j,K))}function X(j,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var ue=K.length;if(i("maybeReadMore read 0"),j.read(0),ue===K.length)break}K.readingMore=!1}s.prototype._read=function(j){_(this,new c("_read()"))},s.prototype.pipe=function(j,K){var ue=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=j;break;case 1:ae.pipes=[ae.pipes,j];break;default:ae.pipes.push(j);break}ae.pipesCount+=1,i("pipe count=%d opts=%j",ae.pipesCount,K);var he=(!K||K.end!==!1)&&j!==d.stdout&&j!==d.stderr,xe=he?Ae:Fe;ae.endEmitted?d.nextTick(xe):ue.once("end",xe),j.on("unpipe",Se);function Se(He,ft){i("onunpipe"),He===ue&&ft&&ft.hasUnpiped===!1&&(ft.hasUnpiped=!0,Ce())}function Ae(){i("onend"),j.end()}var De=ee(ue);j.on("drain",De);var we=!1;function Ce(){i("cleanup"),j.removeListener("close",Ve),j.removeListener("finish",Ge),j.removeListener("drain",De),j.removeListener("error",Pe),j.removeListener("unpipe",Se),ue.removeListener("end",Ae),ue.removeListener("end",Fe),ue.removeListener("data",be),we=!0,ae.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&De()}ue.on("data",be);function be(He){i("ondata");var ft=j.write(He);i("dest.write",ft),ft===!1&&((ae.pipesCount===1&&ae.pipes===j||ae.pipesCount>1&&le(ae.pipes,j)!==-1)&&!we&&(i("false write response, pause",ae.awaitDrain),ae.awaitDrain++),ue.pause())}function Pe(He){i("onerror",He),Fe(),j.removeListener("error",Pe),n(j,"error")===0&&_(j,He)}E(j,"error",Pe);function Ve(){j.removeListener("finish",Ge),Fe()}j.once("close",Ve);function Ge(){i("onfinish"),j.removeListener("close",Ve),Fe()}j.once("finish",Ge);function Fe(){i("unpipe"),ue.unpipe(j)}return j.emit("pipe",ue),ae.flowing||(i("pipe resume"),ue.resume()),j};function ee(j){return function(){var ue=j._readableState;i("pipeOnDrain",ue.awaitDrain),ue.awaitDrain&&ue.awaitDrain--,ue.awaitDrain===0&&n(j,"data")&&(ue.flowing=!0,Z(j))}}s.prototype.unpipe=function(j){var K=this._readableState,ue={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return j&&j!==K.pipes?this:(j||(j=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,j&&j.emit("unpipe",this,ue),this);if(!j){var ae=K.pipes,he=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var xe=0;xe<he;xe++)ae[xe].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=le(K.pipes,j);return Se===-1?this:(K.pipes.splice(Se,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),j.emit("unpipe",this,ue),this)},s.prototype.on=function(j,K){var ue=L.prototype.on.call(this,j,K),ae=this._readableState;return j==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):j==="readable"&&!ae.endEmitted&&!ae.readableListening&&(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,i("on readable",ae.length,ae.reading),ae.length?N(this):ae.reading||d.nextTick(q,this)),ue},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(j,K){var ue=L.prototype.removeListener.call(this,j,K);return j==="readable"&&d.nextTick(ne,this),ue},s.prototype.removeAllListeners=function(j){var K=L.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&d.nextTick(ne,this),K};function ne(j){var K=j._readableState;K.readableListening=j.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:j.listenerCount("data")>0&&j.resume()}function q(j){i("readable nexttick read 0"),j.read(0)}s.prototype.resume=function(){var j=this._readableState;return j.flowing||(i("resume"),j.flowing=!j.readableListening,se(this,j)),j.paused=!1,this};function se(j,K){K.resumeScheduled||(K.resumeScheduled=!0,d.nextTick(J,j,K))}function J(j,K){i("resume",K.reading),K.reading||j.read(0),K.resumeScheduled=!1,j.emit("resume"),Z(j),K.flowing&&!K.reading&&j.read(0)}s.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(j){var K=j._readableState;for(i("flow",K.flowing);K.flowing&&j.read()!==null;);}s.prototype.wrap=function(j){var K=this,ue=this._readableState,ae=!1;j.on("end",function(){if(i("wrapped end"),ue.decoder&&!ue.ended){var Se=ue.decoder.end();Se&&Se.length&&K.push(Se)}K.push(null)}),j.on("data",function(Se){if(i("wrapped data"),ue.decoder&&(Se=ue.decoder.write(Se)),!(ue.objectMode&&Se==null)&&!(!ue.objectMode&&(!Se||!Se.length))){var Ae=K.push(Se);Ae||(ae=!0,j.pause())}});for(var he in j)this[he]===void 0&&typeof j[he]=="function"&&(this[he]=function(Ae){return function(){return j[Ae].apply(j,arguments)}}(he));for(var xe=0;xe<y.length;xe++)j.on(y[xe],this.emit.bind(this,y[xe]));return this._read=function(Se){i("wrapped _read",Se),ae&&(ae=!1,j.resume())},this},typeof Symbol=="function"&&(s.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e(60328)),x(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),s._fromList=te,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(j,K){if(K.length===0)return null;var ue;return K.objectMode?ue=K.buffer.shift():!j||j>=K.length?(K.decoder?ue=K.buffer.join(""):K.buffer.length===1?ue=K.buffer.first():ue=K.buffer.concat(K.length),K.buffer.clear()):ue=K.buffer.consume(j,K.decoder),ue}function Y(j){var K=j._readableState;i("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,d.nextTick(ie,K,j))}function ie(j,K){if(i("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,K.readable=!1,K.emit("end"),j.autoDestroy)){var ue=K._writableState;(!ue||ue.autoDestroy&&ue.finished)&&K.destroy()}}typeof Symbol=="function"&&(s.from=function(j,K){return A===void 0&&(A=e(90555)),A(s,j,K)});function le(j,K){for(var ue=0,ae=j.length;ue<ae;ue++)if(j[ue]===K)return ue;return-1}},22477:function(H,U,e){H.exports=r;var d=e(92784).i,C=d.ERR_METHOD_NOT_IMPLEMENTED,n=d.ERR_MULTIPLE_CALLBACK,L=d.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=d.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function g(a,u){var f=this._transformState;f.transforming=!1;var l=f.writecb;if(l===null)return this.emit("error",new n);f.writechunk=null,f.writecb=null,u!=null&&this.push(u),l(a);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function r(a){if(!(this instanceof r))return new r(a);v.call(this,a),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",t)}function t(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(u,f){i(a,u,f)}):i(this,null,null)}r.prototype.push=function(a,u){return this._transformState.needTransform=!1,v.prototype.push.call(this,a,u)},r.prototype._transform=function(a,u,f){f(new C("_transform()"))},r.prototype._write=function(a,u,f){var l=this._transformState;if(l.writecb=f,l.writechunk=a,l.writeencoding=u,!l.transforming){var m=this._readableState;(l.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},r.prototype._read=function(a){var u=this._transformState;u.writechunk!==null&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},r.prototype._destroy=function(a,u){v.prototype._destroy.call(this,a,function(f){u(f)})};function i(a,u,f){if(u)return a.emit("error",u);if(f!=null&&a.push(f),a._writableState.length)throw new w;if(a._transformState.transforming)throw new L;return a.push(null)}},11288:function(H,U,e){var d=e(4168);H.exports=M;function C(Z){var te=this;this.next=null,this.entry=null,this.finish=function(){J(te,Z)}}var n;M.WritableState=y;var L={deprecate:e(96656)},w=e(4776),v=e(33576).Buffer,g=e.g.Uint8Array||function(){};function r(Z){return v.from(Z)}function t(Z){return v.isBuffer(Z)||Z instanceof g}var i=e(55324),a=e(24888),u=a.getHighWaterMark,f=e(92784).i,l=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,h=f.ERR_MULTIPLE_CALLBACK,T=f.ERR_STREAM_CANNOT_PIPE,c=f.ERR_STREAM_DESTROYED,o=f.ERR_STREAM_NULL_VALUES,p=f.ERR_STREAM_WRITE_AFTER_END,x=f.ERR_UNKNOWN_ENCODING,A=i.errorOrDestroy;e(6768)(M,w);function _(){}function y(Z,te,Y){n=n||e(15316),Z=Z||{},typeof Y!="boolean"&&(Y=te instanceof n),this.objectMode=!!Z.objectMode,Y&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=u(this,Z,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=Z.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){F(te,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new C(this)}y.prototype.getBuffer=function(){for(var te=this.bufferedRequest,Y=[];te;)Y.push(te),te=te.next;return Y},function(){try{Object.defineProperty(y.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(te){return E.call(this,te)?!0:this!==M?!1:te&&te._writableState instanceof y}})):E=function(te){return te instanceof this};function M(Z){n=n||e(15316);var te=this instanceof n;if(!te&&!E.call(M,this))return new M(Z);this._writableState=new y(Z,this,te),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),w.call(this)}M.prototype.pipe=function(){A(this,new T)};function s(Z,te){var Y=new p;A(Z,Y),d.nextTick(te,Y)}function S(Z,te,Y,ie){var le;return Y===null?le=new o:typeof Y!="string"&&!te.objectMode&&(le=new l("chunk",["string","Buffer"],Y)),le?(A(Z,le),d.nextTick(ie,le),!1):!0}M.prototype.write=function(Z,te,Y){var ie=this._writableState,le=!1,j=!ie.objectMode&&t(Z);return j&&!v.isBuffer(Z)&&(Z=r(Z)),typeof te=="function"&&(Y=te,te=null),j?te="buffer":te||(te=ie.defaultEncoding),typeof Y!="function"&&(Y=_),ie.ending?s(this,Y):(j||S(this,ie,Z,Y))&&(ie.pendingcb++,le=I(this,ie,j,Z,te,Y)),le},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&V(this,Z))},M.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new x(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(Z,te,Y){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof te=="string"&&(te=v.from(te,Y)),te}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(Z,te,Y,ie,le,j){if(!Y){var K=b(te,ie,le);ie!==K&&(Y=!0,le="buffer",ie=K)}var ue=te.objectMode?1:ie.length;te.length+=ue;var ae=te.length<te.highWaterMark;if(ae||(te.needDrain=!0),te.writing||te.corked){var he=te.lastBufferedRequest;te.lastBufferedRequest={chunk:ie,encoding:le,isBuf:Y,callback:j,next:null},he?he.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else D(Z,te,!1,ue,ie,le,j);return ae}function D(Z,te,Y,ie,le,j,K){te.writelen=ie,te.writecb=K,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new c("write")):Y?Z._writev(le,te.onwrite):Z._write(le,j,te.onwrite),te.sync=!1}function B(Z,te,Y,ie,le){--te.pendingcb,Y?(d.nextTick(le,ie),d.nextTick(q,Z,te),Z._writableState.errorEmitted=!0,A(Z,ie)):(le(ie),Z._writableState.errorEmitted=!0,A(Z,ie),q(Z,te))}function k(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function F(Z,te){var Y=Z._writableState,ie=Y.sync,le=Y.writecb;if(typeof le!="function")throw new h;if(k(Y),te)B(Z,Y,ie,te,le);else{var j=X(Y)||Z.destroyed;!j&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&V(Z,Y),ie?d.nextTick(N,Z,Y,j,le):N(Z,Y,j,le)}}function N(Z,te,Y,ie){Y||O(Z,te),te.pendingcb--,ie(),q(Z,te)}function O(Z,te){te.length===0&&te.needDrain&&(te.needDrain=!1,Z.emit("drain"))}function V(Z,te){te.bufferProcessing=!0;var Y=te.bufferedRequest;if(Z._writev&&Y&&Y.next){var ie=te.bufferedRequestCount,le=new Array(ie),j=te.corkedRequestsFree;j.entry=Y;for(var K=0,ue=!0;Y;)le[K]=Y,Y.isBuf||(ue=!1),Y=Y.next,K+=1;le.allBuffers=ue,D(Z,te,!0,te.length,le,"",j.finish),te.pendingcb++,te.lastBufferedRequest=null,j.next?(te.corkedRequestsFree=j.next,j.next=null):te.corkedRequestsFree=new C(te),te.bufferedRequestCount=0}else{for(;Y;){var ae=Y.chunk,he=Y.encoding,xe=Y.callback,Se=te.objectMode?1:ae.length;if(D(Z,te,!1,Se,ae,he,xe),Y=Y.next,te.bufferedRequestCount--,te.writing)break}Y===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=Y,te.bufferProcessing=!1}M.prototype._write=function(Z,te,Y){Y(new m("_write()"))},M.prototype._writev=null,M.prototype.end=function(Z,te,Y){var ie=this._writableState;return typeof Z=="function"?(Y=Z,Z=null,te=null):typeof te=="function"&&(Y=te,te=null),Z!=null&&this.write(Z,te),ie.corked&&(ie.corked=1,this.uncork()),ie.ending||se(this,ie,Y),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function X(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function ee(Z,te){Z._final(function(Y){te.pendingcb--,Y&&A(Z,Y),te.prefinished=!0,Z.emit("prefinish"),q(Z,te)})}function ne(Z,te){!te.prefinished&&!te.finalCalled&&(typeof Z._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,d.nextTick(ee,Z,te)):(te.prefinished=!0,Z.emit("prefinish")))}function q(Z,te){var Y=X(te);if(Y&&(ne(Z,te),te.pendingcb===0&&(te.finished=!0,Z.emit("finish"),te.autoDestroy))){var ie=Z._readableState;(!ie||ie.autoDestroy&&ie.endEmitted)&&Z.destroy()}return Y}function se(Z,te,Y){te.ending=!0,q(Z,te),Y&&(te.finished?d.nextTick(Y):Z.once("finish",Y)),te.ended=!0,Z.writable=!1}function J(Z,te,Y){var ie=Z.entry;for(Z.entry=null;ie;){var le=ie.callback;te.pendingcb--,le(Y),ie=ie.next}te.corkedRequestsFree.next=Z}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),M.prototype.destroy=i.destroy,M.prototype._undestroy=i.undestroy,M.prototype._destroy=function(Z,te){te(Z)}},60328:function(H,U,e){var d=e(4168),C;function n(o,p,x){return p in o?Object.defineProperty(o,p,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[p]=x,o}var L=e(15932),w=Symbol("lastResolve"),v=Symbol("lastReject"),g=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),i=Symbol("handlePromise"),a=Symbol("stream");function u(o,p){return{value:o,done:p}}function f(o){var p=o[w];if(p!==null){var x=o[a].read();x!==null&&(o[t]=null,o[w]=null,o[v]=null,p(u(x,!1)))}}function l(o){d.nextTick(f,o)}function m(o,p){return function(x,A){o.then(function(){if(p[r]){x(u(void 0,!0));return}p[i](x,A)},A)}}var h=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((C={get stream(){return this[a]},next:function(){var p=this,x=this[g];if(x!==null)return Promise.reject(x);if(this[r])return Promise.resolve(u(void 0,!0));if(this[a].destroyed)return new Promise(function(E,M){d.nextTick(function(){p[g]?M(p[g]):E(u(void 0,!0))})});var A=this[t],_;if(A)_=new Promise(m(A,this));else{var y=this[a].read();if(y!==null)return Promise.resolve(u(y,!1));_=new Promise(this[i])}return this[t]=_,_}},n(C,Symbol.asyncIterator,function(){return this}),n(C,"return",function(){var p=this;return new Promise(function(x,A){p[a].destroy(null,function(_){if(_){A(_);return}x(u(void 0,!0))})})}),C),h),c=function(p){var x,A=Object.create(T,(x={},n(x,a,{value:p,writable:!0}),n(x,w,{value:null,writable:!0}),n(x,v,{value:null,writable:!0}),n(x,g,{value:null,writable:!0}),n(x,r,{value:p._readableState.endEmitted,writable:!0}),n(x,i,{value:function(y,E){var M=A[a].read();M?(A[t]=null,A[w]=null,A[v]=null,y(u(M,!1))):(A[w]=y,A[v]=E)},writable:!0}),x));return A[t]=null,L(p,function(_){if(_&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=A[v];y!==null&&(A[t]=null,A[w]=null,A[v]=null,y(_)),A[g]=_;return}var E=A[w];E!==null&&(A[t]=null,A[w]=null,A[v]=null,E(u(void 0,!0))),A[r]=!0}),p.on("readable",l.bind(null,A)),A};H.exports=c},47264:function(H,U,e){function d(f,l){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(f);l&&(h=h.filter(function(T){return Object.getOwnPropertyDescriptor(f,T).enumerable})),m.push.apply(m,h)}return m}function C(f){for(var l=1;l<arguments.length;l++){var m=arguments[l]!=null?arguments[l]:{};l%2?d(Object(m),!0).forEach(function(h){n(f,h,m[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):d(Object(m)).forEach(function(h){Object.defineProperty(f,h,Object.getOwnPropertyDescriptor(m,h))})}return f}function n(f,l,m){return l in f?Object.defineProperty(f,l,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[l]=m,f}function L(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function w(f,l){for(var m=0;m<l.length;m++){var h=l[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}function v(f,l,m){return l&&w(f.prototype,l),m&&w(f,m),f}var g=e(33576),r=g.Buffer,t=e(21576),i=t.inspect,a=i&&i.custom||"inspect";function u(f,l,m){r.prototype.copy.call(f,l,m)}H.exports=function(){function f(){L(this,f),this.head=null,this.tail=null,this.length=0}return v(f,[{key:"push",value:function(m){var h={data:m,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(m){var h={data:m,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var h=this.head,T=""+h.data;h=h.next;)T+=m+h.data;return T}},{key:"concat",value:function(m){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(m>>>0),T=this.head,c=0;T;)u(T.data,h,c),c+=T.data.length,T=T.next;return h}},{key:"consume",value:function(m,h){var T;return m<this.head.data.length?(T=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?T=this.shift():T=h?this._getString(m):this._getBuffer(m),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var h=this.head,T=1,c=h.data;for(m-=c.length;h=h.next;){var o=h.data,p=m>o.length?o.length:m;if(p===o.length?c+=o:c+=o.slice(0,m),m-=p,m===0){p===o.length?(++T,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=o.slice(p));break}++T}return this.length-=T,c}},{key:"_getBuffer",value:function(m){var h=r.allocUnsafe(m),T=this.head,c=1;for(T.data.copy(h),m-=T.data.length;T=T.next;){var o=T.data,p=m>o.length?o.length:m;if(o.copy(h,h.length-m,0,p),m-=p,m===0){p===o.length?(++c,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=o.slice(p));break}++c}return this.length-=c,h}},{key:a,value:function(m,h){return i(this,C({},h,{depth:0,customInspect:!1}))}}]),f}()},55324:function(H,U,e){var d=e(4168);function C(r,t){var i=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,d.nextTick(v,this,r)):d.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(f){!t&&f?i._writableState?i._writableState.errorEmitted?d.nextTick(L,i):(i._writableState.errorEmitted=!0,d.nextTick(n,i,f)):d.nextTick(n,i,f):t?(d.nextTick(L,i),t(f)):d.nextTick(L,i)}),this)}function n(r,t){v(r,t),L(r)}function L(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function g(r,t){var i=r._readableState,a=r._writableState;i&&i.autoDestroy||a&&a.autoDestroy?r.destroy(t):r.emit("error",t)}H.exports={destroy:C,undestroy:w,errorOrDestroy:g}},15932:function(H,U,e){var d=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function C(v){var g=!1;return function(){if(!g){g=!0;for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];v.apply(this,t)}}}function n(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function w(v,g,r){if(typeof g=="function")return w(v,null,g);g||(g={}),r=C(r||n);var t=g.readable||g.readable!==!1&&v.readable,i=g.writable||g.writable!==!1&&v.writable,a=function(){v.writable||f()},u=v._writableState&&v._writableState.finished,f=function(){i=!1,u=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,m=function(){t=!1,l=!0,i||r.call(v)},h=function(p){r.call(v,p)},T=function(){var p;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(p=new d),r.call(v,p);if(i&&!u)return(!v._writableState||!v._writableState.ended)&&(p=new d),r.call(v,p)},c=function(){v.req.on("finish",f)};return L(v)?(v.on("complete",f),v.on("abort",T),v.req?c():v.on("request",c)):i&&!v._writableState&&(v.on("end",a),v.on("close",a)),v.on("end",m),v.on("finish",f),g.error!==!1&&v.on("error",h),v.on("close",T),function(){v.removeListener("complete",f),v.removeListener("abort",T),v.removeListener("request",c),v.req&&v.req.removeListener("finish",f),v.removeListener("end",a),v.removeListener("close",a),v.removeListener("finish",f),v.removeListener("end",m),v.removeListener("error",h),v.removeListener("close",T)}}H.exports=w},90555:function(H){H.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(H,U,e){var d;function C(f){var l=!1;return function(){l||(l=!0,f.apply(void 0,arguments))}}var n=e(92784).i,L=n.ERR_MISSING_ARGS,w=n.ERR_STREAM_DESTROYED;function v(f){if(f)throw f}function g(f){return f.setHeader&&typeof f.abort=="function"}function r(f,l,m,h){h=C(h);var T=!1;f.on("close",function(){T=!0}),d===void 0&&(d=e(15932)),d(f,{readable:l,writable:m},function(o){if(o)return h(o);T=!0,h()});var c=!1;return function(o){if(!T&&!c){if(c=!0,g(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();h(o||new w("pipe"))}}}function t(f){f()}function i(f,l){return f.pipe(l)}function a(f){return!f.length||typeof f[f.length-1]!="function"?v:f.pop()}function u(){for(var f=arguments.length,l=new Array(f),m=0;m<f;m++)l[m]=arguments[m];var h=a(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new L("streams");var T,c=l.map(function(o,p){var x=p<l.length-1,A=p>0;return r(o,x,A,function(_){T||(T=_),_&&c.forEach(t),!x&&(c.forEach(t),h(T))})});return l.reduce(i)}H.exports=u},24888:function(H,U,e){var d=e(92784).i.ERR_INVALID_OPT_VALUE;function C(L,w,v){return L.highWaterMark!=null?L.highWaterMark:w?L[v]:null}function n(L,w,v,g){var r=C(w,g,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=g?v:"highWaterMark";throw new d(t,r)}return Math.floor(r)}return L.objectMode?16:16384}H.exports={getHighWaterMark:n}},4776:function(H,U,e){H.exports=e(61252).EventEmitter},86032:function(H,U,e){var d=e(30456).Buffer,C=d.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(c){if(!c)return"utf8";for(var o;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(o)return;c=(""+c).toLowerCase(),o=!0}}function L(c){var o=n(c);if(typeof o!="string"&&(d.isEncoding===C||!C(c)))throw new Error("Unknown encoding: "+c);return o||c}U.o=w;function w(c){this.encoding=L(c);var o;switch(this.encoding){case"utf16le":this.text=u,this.end=f,o=4;break;case"utf8":this.fillLast=t,o=4;break;case"base64":this.text=l,this.end=m,o=3;break;default:this.write=h,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(o)}w.prototype.write=function(c){if(c.length===0)return"";var o,p;if(this.lastNeed){if(o=this.fillLast(c),o===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<c.length?o?o+this.text(c,p):this.text(c,p):o||""},w.prototype.end=a,w.prototype.text=i,w.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function g(c,o,p){var x=o.length-1;if(x<p)return 0;var A=v(o[x]);return A>=0?(A>0&&(c.lastNeed=A-1),A):--x<p||A===-2?0:(A=v(o[x]),A>=0?(A>0&&(c.lastNeed=A-2),A):--x<p||A===-2?0:(A=v(o[x]),A>=0?(A>0&&(A===2?A=0:c.lastNeed=A-3),A):0))}function r(c,o,p){if((o[0]&192)!==128)return c.lastNeed=0,"";if(c.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return c.lastNeed=1,"";if(c.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return c.lastNeed=2,""}}function t(c){var o=this.lastTotal-this.lastNeed,p=r(this,c);if(p!==void 0)return p;if(this.lastNeed<=c.length)return c.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,o,0,c.length),this.lastNeed-=c.length}function i(c,o){var p=g(this,c,o);if(!this.lastNeed)return c.toString("utf8",o);this.lastTotal=p;var x=c.length-(p-this.lastNeed);return c.copy(this.lastChar,0,x),c.toString("utf8",o,x)}function a(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+"":o}function u(c,o){if((c.length-o)%2===0){var p=c.toString("utf16le",o);if(p){var x=p.charCodeAt(p.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",o,c.length-1)}function f(c){var o=c&&c.length?this.write(c):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,p)}return o}function l(c,o){var p=(c.length-o)%3;return p===0?c.toString("base64",o):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",o,c.length-p))}function m(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function h(c){return c.toString(this.encoding)}function T(c){return c&&c.length?this.write(c):""}},55619:function(H,U,e){var d=e(45408),C=e(86844)("stream-parser");H.exports=g;var n=-1,L=0,w=1,v=2;function g(c){var o=c&&typeof c._transform=="function",p=c&&typeof c._write=="function";if(!o&&!p)throw new Error("must pass a Writable or Transform stream in");C("extending Parser into stream"),c._bytes=t,c._skipBytes=i,o&&(c._passthrough=a),o?c._transform=f:c._write=u}function r(c){C("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=n,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,o){d(!this._parserCallback,'there is already a "callback" set!'),d(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),C("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=L}function i(c,o){d(!this._parserCallback,'there is already a "callback" set!'),d(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),C("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=w}function a(c,o){d(!this._parserCallback,'There is already a "callback" set!'),d(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),C("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=v}function u(c,o,p){this._parserInit||r(this),C("write(%o bytes)",c.length),typeof o=="function"&&(p=o),h(this,c,null,p)}function f(c,o,p){this._parserInit||r(this),C("transform(%o bytes)",c.length),typeof o!="function"&&(o=this._parserOutput),h(this,c,o,p)}function l(c,o,p,x){return c._parserBytesLeft<=0?x(new Error("got data but not currently parsing anything")):o.length<=c._parserBytesLeft?function(){return m(c,o,p,x)}:function(){var A=o.slice(0,c._parserBytesLeft);return m(c,A,p,function(_){if(_)return x(_);if(o.length>A.length)return function(){return l(c,o.slice(A.length),p,x)}})}}function m(c,o,p,x){if(c._parserBytesLeft-=o.length,C("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===L?(c._parserBuffers.push(o),c._parserBuffered+=o.length):c._parserState===v&&p(o),c._parserBytesLeft===0){var A=c._parserCallback;if(A&&c._parserState===L&&c._parserBuffers.length>1&&(o=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==L&&(o=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=n,c._parserBuffers.splice(0),A){var _=[];o&&_.push(o),p&&_.push(p);var y=A.length>_.length;y&&_.push(T(x));var E=A.apply(c,_);if(!y||x===E)return x}}else return x}var h=T(l);function T(c){return function(){for(var o=c.apply(this,arguments);typeof o=="function";)o=o();return o}}},86844:function(H,U,e){var d=e(4168);U=H.exports=e(89416),U.log=L,U.formatArgs=n,U.save=w,U.load=v,U.useColors=C,U.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),U.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function C(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}U.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function n(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+U.humanize(this.diff),!!t){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var a=0,u=0;r[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(a++,f==="%c"&&(u=a))}),r.splice(u,0,i)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function w(r){try{r==null?U.storage.removeItem("debug"):U.storage.debug=r}catch{}}function v(){var r;try{r=U.storage.debug}catch{}return!r&&typeof d<"u"&&"env"in d&&(r=d.env.DEBUG),r}U.enable(v());function g(){try{return window.localStorage}catch{}}},89416:function(H,U,e){U=H.exports=n.debug=n.default=n,U.coerce=g,U.disable=w,U.enable=L,U.enabled=v,U.humanize=e(93744),U.names=[],U.skips=[],U.formatters={};var d;function C(r){var t=0,i;for(i in r)t=(t<<5)-t+r.charCodeAt(i),t|=0;return U.colors[Math.abs(t)%U.colors.length]}function n(r){function t(){if(t.enabled){var i=t,a=+new Date,u=a-(d||a);i.diff=u,i.prev=d,i.curr=a,d=a;for(var f=new Array(arguments.length),l=0;l<f.length;l++)f[l]=arguments[l];f[0]=U.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var m=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(T,c){if(T==="%%")return T;m++;var o=U.formatters[c];if(typeof o=="function"){var p=f[m];T=o.call(i,p),f.splice(m,1),m--}return T}),U.formatArgs.call(i,f);var h=t.log||U.log||console.log.bind(console);h.apply(i,f)}}return t.namespace=r,t.enabled=U.enabled(r),t.useColors=U.useColors(),t.color=C(r),typeof U.init=="function"&&U.init(t),t}function L(r){U.save(r),U.names=[],U.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),i=t.length,a=0;a<i;a++)t[a]&&(r=t[a].replace(/\*/g,".*?"),r[0]==="-"?U.skips.push(new RegExp("^"+r.substr(1)+"$")):U.names.push(new RegExp("^"+r+"$")))}function w(){U.enable("")}function v(r){var t,i;for(t=0,i=U.skips.length;t<i;t++)if(U.skips[t].test(r))return!1;for(t=0,i=U.names.length;t<i;t++)if(U.names[t].test(r))return!0;return!1}function g(r){return r instanceof Error?r.stack||r.message:r}},93744:function(H){var U=1e3,e=U*60,d=e*60,C=d*24,n=C*365.25;H.exports=function(r,t){t=t||{};var i=typeof r;if(i==="string"&&r.length>0)return L(r);if(i==="number"&&isNaN(r)===!1)return t.long?v(r):w(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function L(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var i=parseFloat(t[1]),a=(t[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return i*n;case"days":case"day":case"d":return i*C;case"hours":case"hour":case"hrs":case"hr":case"h":return i*d;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*U;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function w(r){return r>=C?Math.round(r/C)+"d":r>=d?Math.round(r/d)+"h":r>=e?Math.round(r/e)+"m":r>=U?Math.round(r/U)+"s":r+"ms"}function v(r){return g(r,C,"day")||g(r,d,"hour")||g(r,e,"minute")||g(r,U,"second")||r+" ms"}function g(r,t,i){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+i:Math.ceil(r/t)+" "+i+"s"}},39956:function(H,U,e){var d=e(32868);H.exports=function(n,L,w){if(n==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");w?(typeof w=="string"||Array.isArray(w))&&(w={ignore:w}):w={},w.escape==null&&(w.escape=!0),w.ignore==null?w.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof w.ignore=="string"&&(w.ignore=[w.ignore]),w.ignore=w.ignore.map(function(f){return f.length===1&&(f=f+f),f}));var v=d.parse(n,{flat:!0,brackets:w.ignore}),g=v[0],r=g.split(L);if(w.escape){for(var t=[],i=0;i<r.length;i++){var a=r[i],u=r[i+1];a[a.length-1]==="\\"&&a[a.length-2]!=="\\"?(t.push(a+L+u),i++):t.push(a)}r=t}for(var i=0;i<r.length;i++)v[0]=r[i],r[i]=d.stringify(v,{flat:!0});return r}},78484:function(H){H.exports=U;function U(e){for(var d=e.length,C=new Array(d),n=new Array(d),L=new Array(d),w=new Array(d),v=new Array(d),g=new Array(d),r=0;r<d;++r)C[r]=-1,n[r]=0,L[r]=!1,w[r]=0,v[r]=-1,g[r]=[];var t=0,i=[],a=[];function u(h){var T=[h],c=[h];for(C[h]=n[h]=t,L[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var o=e[h];if(w[h]<o.length){for(var p=w[h];p<o.length;++p){var x=o[p];if(C[x]<0){C[x]=n[x]=t,L[x]=!0,t+=1,T.push(x),c.push(x);break}else L[x]&&(n[h]=Math.min(n[h],n[x])|0);v[x]>=0&&g[h].push(v[x])}w[h]=p}else{if(n[h]===C[h]){for(var A=[],_=[],y=0,p=T.length-1;p>=0;--p){var E=T[p];if(L[E]=!1,A.push(E),_.push(g[E]),y+=g[E].length,v[E]=i.length,E===h){T.length=p;break}}i.push(A);for(var M=new Array(y),p=0;p<_.length;p++)for(var s=0;s<_[p].length;s++)M[--y]=_[p][s];a.push(M)}c.pop()}}}for(var r=0;r<d;++r)C[r]<0&&u(r);for(var f,r=0;r<a.length;r++){var l=a[r];if(l.length!==0){l.sort(function(T,c){return T-c}),f=[l[0]];for(var m=1;m<l.length;m++)l[m]!==l[m-1]&&f.push(l[m]);a[r]=f}}return{components:i,adjacencyList:a}}},92848:function(H,U,e){e.r(U);var d=function(){function r(t,i){var a=[],u=!0,f=!1,l=void 0;try{for(var m=t[Symbol.iterator](),h;!(u=(h=m.next()).done)&&(a.push(h.value),!(i&&a.length===i));u=!0);}catch(T){f=!0,l=T}finally{try{!u&&m.return&&m.return()}finally{if(f)throw l}}return a}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=Math.PI*2,n=function(t,i,a,u,f,l,m){var h=t.x,T=t.y;h*=i,T*=a;var c=u*h-f*T,o=f*h+u*T;return{x:c+l,y:o+m}},L=function(t,i){var a=i===1.5707963267948966?.551915024494:i===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(i/4),u=Math.cos(t),f=Math.sin(t),l=Math.cos(t+i),m=Math.sin(t+i);return[{x:u-f*a,y:f+u*a},{x:l+m*a,y:m-l*a},{x:l,y:m}]},w=function(t,i,a,u){var f=t*u-i*a<0?-1:1,l=t*a+i*u;return l>1&&(l=1),l<-1&&(l=-1),f*Math.acos(l)},v=function(t,i,a,u,f,l,m,h,T,c,o,p){var x=Math.pow(f,2),A=Math.pow(l,2),_=Math.pow(o,2),y=Math.pow(p,2),E=x*A-x*y-A*_;E<0&&(E=0),E/=x*y+A*_,E=Math.sqrt(E)*(m===h?-1:1);var M=E*f/l*p,s=E*-l/f*o,S=c*M-T*s+(t+a)/2,b=T*M+c*s+(i+u)/2,I=(o-M)/f,D=(p-s)/l,B=(-o-M)/f,k=(-p-s)/l,F=w(1,0,I,D),N=w(I,D,B,k);return h===0&&N>0&&(N-=C),h===1&&N<0&&(N+=C),[S,b,F,N]},g=function(t){var i=t.px,a=t.py,u=t.cx,f=t.cy,l=t.rx,m=t.ry,h=t.xAxisRotation,T=h===void 0?0:h,c=t.largeArcFlag,o=c===void 0?0:c,p=t.sweepFlag,x=p===void 0?0:p,A=[];if(l===0||m===0)return[];var _=Math.sin(T*C/360),y=Math.cos(T*C/360),E=y*(i-u)/2+_*(a-f)/2,M=-_*(i-u)/2+y*(a-f)/2;if(E===0&&M===0)return[];l=Math.abs(l),m=Math.abs(m);var s=Math.pow(E,2)/Math.pow(l,2)+Math.pow(M,2)/Math.pow(m,2);s>1&&(l*=Math.sqrt(s),m*=Math.sqrt(s));var S=v(i,a,u,f,l,m,o,x,_,y,E,M),b=d(S,4),I=b[0],D=b[1],B=b[2],k=b[3],F=Math.abs(k)/(C/4);Math.abs(1-F)<1e-7&&(F=1);var N=Math.max(Math.ceil(F),1);k/=N;for(var O=0;O<N;O++)A.push(L(B,k)),B+=k;return A.map(function(V){var X=n(V[0],l,m,y,_,I,D),ee=X.x,ne=X.y,q=n(V[1],l,m,y,_,I,D),se=q.x,J=q.y,Z=n(V[2],l,m,y,_,I,D),te=Z.x,Y=Z.y;return{x1:ee,y1:ne,x2:se,y2:J,x:te,y:Y}})};U.default=g},74840:function(H,U,e){var d=e(21984),C=e(49972),n=e(41976),L=e(53520),w=e(45408);H.exports=v;function v(g){if(Array.isArray(g)&&g.length===1&&typeof g[0]=="string"&&(g=g[0]),typeof g=="string"&&(w(L(g),"String is not an SVG path."),g=d(g)),w(Array.isArray(g),"Argument should be a string or an array of path segments."),g=C(g),g=n(g),!g.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,i=g.length;t<i;t++)for(var a=g[t].slice(1),u=0;u<a.length;u+=2)a[u+0]<r[0]&&(r[0]=a[u+0]),a[u+1]<r[1]&&(r[1]=a[u+1]),a[u+0]>r[2]&&(r[2]=a[u+0]),a[u+1]>r[3]&&(r[3]=a[u+1]);return r}},41976:function(H,U,e){H.exports=C;var d=e(92848);function C(w){for(var v,g=[],r=0,t=0,i=0,a=0,u=null,f=null,l=0,m=0,h=0,T=w.length;h<T;h++){var c=w[h],o=c[0];switch(o){case"M":i=c[1],a=c[2];break;case"A":var p=d({px:l,py:m,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!p.length)continue;for(var x=0,A;x<p.length;x++)A=p[x],c=["C",A.x1,A.y1,A.x2,A.y2,A.x,A.y],x<p.length-1&&g.push(c);break;case"S":var _=l,y=m;(v=="C"||v=="S")&&(_+=_-r,y+=y-t),c=["C",_,y,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(u=l*2-u,f=m*2-f):(u=l,f=m),c=L(l,m,u,f,c[1],c[2]);break;case"Q":u=c[1],f=c[2],c=L(l,m,c[1],c[2],c[3],c[4]);break;case"L":c=n(l,m,c[1],c[2]);break;case"H":c=n(l,m,c[1],m);break;case"V":c=n(l,m,l,c[1]);break;case"Z":c=n(l,m,i,a);break}v=o,l=c[c.length-2],m=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=l,t=m),g.push(c)}return g}function n(w,v,g,r){return["C",w,v,g,r,g,r]}function L(w,v,g,r,t,i){return["C",w/3+.6666666666666666*g,v/3+.6666666666666666*r,t/3+.6666666666666666*g,i/3+.6666666666666666*r,t,i]}},20472:function(H,U,e){var d=e(74840),C=e(21984),n=e(22235),L=e(53520),w=e(29620),v=document.createElement("canvas"),g=v.getContext("2d");H.exports=r;function r(a,u){if(!L(a))throw Error("Argument should be valid svg path string");u||(u={});var f,l;u.shape?(f=u.shape[0],l=u.shape[1]):(f=v.width=u.w||u.width||200,l=v.height=u.h||u.height||200);var m=Math.min(f,l),h=u.stroke||0,T=u.viewbox||u.viewBox||d(a),c=[f/(T[2]-T[0]),l/(T[3]-T[1])],o=Math.min(c[0]||0,c[1]||0)/2;if(g.fillStyle="black",g.fillRect(0,0,f,l),g.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?g.strokeStyle="white":g.strokeStyle="black",g.lineWidth=Math.abs(h)),g.translate(f*.5,l*.5),g.scale(o,o),i()){var p=new Path2D(a);g.fill(p),h&&g.stroke(p)}else{var x=C(a);n(g,x),g.fill(),h&&g.stroke()}g.setTransform(1,0,0,1,0,0);var A=w(g,{cutoff:u.cutoff!=null?u.cutoff:.5,radius:u.radius!=null?u.radius:m*.5});return A}var t;function i(){if(t!=null)return t;var a=document.createElement("canvas").getContext("2d");if(a.canvas.width=a.canvas.height=1,!window.Path2D)return t=!1;var u=new Path2D("M0,0h1v1h-1v-1Z");a.fillStyle="black",a.fill(u);var f=a.getImageData(0,0,1,1);return t=f&&f.data&&f.data[3]===255}},49760:function(H,U,e){var d;(function(C){var n=/^\s+/,L=/\s+$/,w=0,v=C.round,g=C.min,r=C.max,t=C.random;function i(K,ue){if(K=K||"",ue=ue||{},K instanceof i)return K;if(!(this instanceof i))return new i(K,ue);var ae=a(K);this._originalInput=K,this._r=ae.r,this._g=ae.g,this._b=ae.b,this._a=ae.a,this._roundA=v(100*this._a)/100,this._format=ue.format||ae.format,this._gradientType=ue.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ae.ok,this._tc_id=w++}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var K=this.toRgb();return(K.r*299+K.g*587+K.b*114)/1e3},getLuminance:function(){var K=this.toRgb(),ue,ae,he,xe,Se,Ae;return ue=K.r/255,ae=K.g/255,he=K.b/255,ue<=.03928?xe=ue/12.92:xe=C.pow((ue+.055)/1.055,2.4),ae<=.03928?Se=ae/12.92:Se=C.pow((ae+.055)/1.055,2.4),he<=.03928?Ae=he/12.92:Ae=C.pow((he+.055)/1.055,2.4),.2126*xe+.7152*Se+.0722*Ae},setAlpha:function(K){return this._a=O(K),this._roundA=v(100*this._a)/100,this},toHsv:function(){var K=m(this._r,this._g,this._b);return{h:K.h*360,s:K.s,v:K.v,a:this._a}},toHsvString:function(){var K=m(this._r,this._g,this._b),ue=v(K.h*360),ae=v(K.s*100),he=v(K.v*100);return this._a==1?"hsv("+ue+", "+ae+"%, "+he+"%)":"hsva("+ue+", "+ae+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var K=f(this._r,this._g,this._b);return{h:K.h*360,s:K.s,l:K.l,a:this._a}},toHslString:function(){var K=f(this._r,this._g,this._b),ue=v(K.h*360),ae=v(K.s*100),he=v(K.l*100);return this._a==1?"hsl("+ue+", "+ae+"%, "+he+"%)":"hsla("+ue+", "+ae+"%, "+he+"%, "+this._roundA+")"},toHex:function(K){return T(this._r,this._g,this._b,K)},toHexString:function(K){return"#"+this.toHex(K)},toHex8:function(K){return c(this._r,this._g,this._b,this._a,K)},toHex8String:function(K){return"#"+this.toHex8(K)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(V(this._r,255)*100)+"%",g:v(V(this._g,255)*100)+"%",b:v(V(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%)":"rgba("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(K){var ue="#"+o(this._r,this._g,this._b,this._a),ae=ue,he=this._gradientType?"GradientType = 1, ":"";if(K){var xe=i(K);ae="#"+o(xe._r,xe._g,xe._b,xe._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+ue+",endColorstr="+ae+")"},toString:function(K){var ue=!!K;K=K||this._format;var ae=!1,he=this._a<1&&this._a>=0,xe=!ue&&he&&(K==="hex"||K==="hex6"||K==="hex3"||K==="hex4"||K==="hex8"||K==="name");return xe?K==="name"&&this._a===0?this.toName():this.toRgbString():(K==="rgb"&&(ae=this.toRgbString()),K==="prgb"&&(ae=this.toPercentageRgbString()),(K==="hex"||K==="hex6")&&(ae=this.toHexString()),K==="hex3"&&(ae=this.toHexString(!0)),K==="hex4"&&(ae=this.toHex8String(!0)),K==="hex8"&&(ae=this.toHex8String()),K==="name"&&(ae=this.toName()),K==="hsl"&&(ae=this.toHslString()),K==="hsv"&&(ae=this.toHsvString()),ae||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(K,ue){var ae=K.apply(null,[this].concat([].slice.call(ue)));return this._r=ae._r,this._g=ae._g,this._b=ae._b,this.setAlpha(ae._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function(K,ue){return K.apply(null,[this].concat([].slice.call(ue)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},i.fromRatio=function(K,ue){if(typeof K=="object"){var ae={};for(var he in K)K.hasOwnProperty(he)&&(he==="a"?ae[he]=K[he]:ae[he]=J(K[he]));K=ae}return i(K,ue)};function a(K){var ue={r:0,g:0,b:0},ae=1,he=null,xe=null,Se=null,Ae=!1,De=!1;return typeof K=="string"&&(K=le(K)),typeof K=="object"&&(ie(K.r)&&ie(K.g)&&ie(K.b)?(ue=u(K.r,K.g,K.b),Ae=!0,De=String(K.r).substr(-1)==="%"?"prgb":"rgb"):ie(K.h)&&ie(K.s)&&ie(K.v)?(he=J(K.s),xe=J(K.v),ue=h(K.h,he,xe),Ae=!0,De="hsv"):ie(K.h)&&ie(K.s)&&ie(K.l)&&(he=J(K.s),Se=J(K.l),ue=l(K.h,he,Se),Ae=!0,De="hsl"),K.hasOwnProperty("a")&&(ae=K.a)),ae=O(ae),{ok:Ae,format:K.format||De,r:g(255,r(ue.r,0)),g:g(255,r(ue.g,0)),b:g(255,r(ue.b,0)),a:ae}}function u(K,ue,ae){return{r:V(K,255)*255,g:V(ue,255)*255,b:V(ae,255)*255}}function f(K,ue,ae){K=V(K,255),ue=V(ue,255),ae=V(ae,255);var he=r(K,ue,ae),xe=g(K,ue,ae),Se,Ae,De=(he+xe)/2;if(he==xe)Se=Ae=0;else{var we=he-xe;switch(Ae=De>.5?we/(2-he-xe):we/(he+xe),he){case K:Se=(ue-ae)/we+(ue<ae?6:0);break;case ue:Se=(ae-K)/we+2;break;case ae:Se=(K-ue)/we+4;break}Se/=6}return{h:Se,s:Ae,l:De}}function l(K,ue,ae){var he,xe,Se;K=V(K,360),ue=V(ue,100),ae=V(ae,100);function Ae(Ce,be,Pe){return Pe<0&&(Pe+=1),Pe>1&&(Pe-=1),Pe<.16666666666666666?Ce+(be-Ce)*6*Pe:Pe<.5?be:Pe<.6666666666666666?Ce+(be-Ce)*(.6666666666666666-Pe)*6:Ce}if(ue===0)he=xe=Se=ae;else{var De=ae<.5?ae*(1+ue):ae+ue-ae*ue,we=2*ae-De;he=Ae(we,De,K+.3333333333333333),xe=Ae(we,De,K),Se=Ae(we,De,K-.3333333333333333)}return{r:he*255,g:xe*255,b:Se*255}}function m(K,ue,ae){K=V(K,255),ue=V(ue,255),ae=V(ae,255);var he=r(K,ue,ae),xe=g(K,ue,ae),Se,Ae,De=he,we=he-xe;if(Ae=he===0?0:we/he,he==xe)Se=0;else{switch(he){case K:Se=(ue-ae)/we+(ue<ae?6:0);break;case ue:Se=(ae-K)/we+2;break;case ae:Se=(K-ue)/we+4;break}Se/=6}return{h:Se,s:Ae,v:De}}function h(K,ue,ae){K=V(K,360)*6,ue=V(ue,100),ae=V(ae,100);var he=C.floor(K),xe=K-he,Se=ae*(1-ue),Ae=ae*(1-xe*ue),De=ae*(1-(1-xe)*ue),we=he%6,Ce=[ae,Ae,Se,Se,De,ae][we],be=[De,ae,ae,Ae,Se,Se][we],Pe=[Se,Se,De,ae,ae,Ae][we];return{r:Ce*255,g:be*255,b:Pe*255}}function T(K,ue,ae,he){var xe=[se(v(K).toString(16)),se(v(ue).toString(16)),se(v(ae).toString(16))];return he&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0):xe.join("")}function c(K,ue,ae,he,xe){var Se=[se(v(K).toString(16)),se(v(ue).toString(16)),se(v(ae).toString(16)),se(Z(he))];return xe&&Se[0].charAt(0)==Se[0].charAt(1)&&Se[1].charAt(0)==Se[1].charAt(1)&&Se[2].charAt(0)==Se[2].charAt(1)&&Se[3].charAt(0)==Se[3].charAt(1)?Se[0].charAt(0)+Se[1].charAt(0)+Se[2].charAt(0)+Se[3].charAt(0):Se.join("")}function o(K,ue,ae,he){var xe=[se(Z(he)),se(v(K).toString(16)),se(v(ue).toString(16)),se(v(ae).toString(16))];return xe.join("")}i.equals=function(K,ue){return!K||!ue?!1:i(K).toRgbString()==i(ue).toRgbString()},i.random=function(){return i.fromRatio({r:t(),g:t(),b:t()})};function p(K,ue){ue=ue===0?0:ue||10;var ae=i(K).toHsl();return ae.s-=ue/100,ae.s=X(ae.s),i(ae)}function x(K,ue){ue=ue===0?0:ue||10;var ae=i(K).toHsl();return ae.s+=ue/100,ae.s=X(ae.s),i(ae)}function A(K){return i(K).desaturate(100)}function _(K,ue){ue=ue===0?0:ue||10;var ae=i(K).toHsl();return ae.l+=ue/100,ae.l=X(ae.l),i(ae)}function y(K,ue){ue=ue===0?0:ue||10;var ae=i(K).toRgb();return ae.r=r(0,g(255,ae.r-v(255*-(ue/100)))),ae.g=r(0,g(255,ae.g-v(255*-(ue/100)))),ae.b=r(0,g(255,ae.b-v(255*-(ue/100)))),i(ae)}function E(K,ue){ue=ue===0?0:ue||10;var ae=i(K).toHsl();return ae.l-=ue/100,ae.l=X(ae.l),i(ae)}function M(K,ue){var ae=i(K).toHsl(),he=(ae.h+ue)%360;return ae.h=he<0?360+he:he,i(ae)}function s(K){var ue=i(K).toHsl();return ue.h=(ue.h+180)%360,i(ue)}function S(K){var ue=i(K).toHsl(),ae=ue.h;return[i(K),i({h:(ae+120)%360,s:ue.s,l:ue.l}),i({h:(ae+240)%360,s:ue.s,l:ue.l})]}function b(K){var ue=i(K).toHsl(),ae=ue.h;return[i(K),i({h:(ae+90)%360,s:ue.s,l:ue.l}),i({h:(ae+180)%360,s:ue.s,l:ue.l}),i({h:(ae+270)%360,s:ue.s,l:ue.l})]}function I(K){var ue=i(K).toHsl(),ae=ue.h;return[i(K),i({h:(ae+72)%360,s:ue.s,l:ue.l}),i({h:(ae+216)%360,s:ue.s,l:ue.l})]}function D(K,ue,ae){ue=ue||6,ae=ae||30;var he=i(K).toHsl(),xe=360/ae,Se=[i(K)];for(he.h=(he.h-(xe*ue>>1)+720)%360;--ue;)he.h=(he.h+xe)%360,Se.push(i(he));return Se}function B(K,ue){ue=ue||6;for(var ae=i(K).toHsv(),he=ae.h,xe=ae.s,Se=ae.v,Ae=[],De=1/ue;ue--;)Ae.push(i({h:he,s:xe,v:Se})),Se=(Se+De)%1;return Ae}i.mix=function(K,ue,ae){ae=ae===0?0:ae||50;var he=i(K).toRgb(),xe=i(ue).toRgb(),Se=ae/100,Ae={r:(xe.r-he.r)*Se+he.r,g:(xe.g-he.g)*Se+he.g,b:(xe.b-he.b)*Se+he.b,a:(xe.a-he.a)*Se+he.a};return i(Ae)},i.readability=function(K,ue){var ae=i(K),he=i(ue);return(C.max(ae.getLuminance(),he.getLuminance())+.05)/(C.min(ae.getLuminance(),he.getLuminance())+.05)},i.isReadable=function(K,ue,ae){var he=i.readability(K,ue),xe,Se;switch(Se=!1,xe=j(ae),xe.level+xe.size){case"AAsmall":case"AAAlarge":Se=he>=4.5;break;case"AAlarge":Se=he>=3;break;case"AAAsmall":Se=he>=7;break}return Se},i.mostReadable=function(K,ue,ae){var he=null,xe=0,Se,Ae,De,we;ae=ae||{},Ae=ae.includeFallbackColors,De=ae.level,we=ae.size;for(var Ce=0;Ce<ue.length;Ce++)Se=i.readability(K,ue[Ce]),Se>xe&&(xe=Se,he=i(ue[Ce]));return i.isReadable(K,he,{level:De,size:we})||!Ae?he:(ae.includeFallbackColors=!1,i.mostReadable(K,["#fff","#000"],ae))};var k=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=i.hexNames=N(k);function N(K){var ue={};for(var ae in K)K.hasOwnProperty(ae)&&(ue[K[ae]]=ae);return ue}function O(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function V(K,ue){ne(K)&&(K="100%");var ae=q(K);return K=g(ue,r(0,parseFloat(K))),ae&&(K=parseInt(K*ue,10)/100),C.abs(K-ue)<1e-6?1:K%ue/parseFloat(ue)}function X(K){return g(1,r(0,K))}function ee(K){return parseInt(K,16)}function ne(K){return typeof K=="string"&&K.indexOf(".")!=-1&&parseFloat(K)===1}function q(K){return typeof K=="string"&&K.indexOf("%")!=-1}function se(K){return K.length==1?"0"+K:""+K}function J(K){return K<=1&&(K=K*100+"%"),K}function Z(K){return C.round(parseFloat(K)*255).toString(16)}function te(K){return ee(K)/255}var Y=function(){var K="[-\\+]?\\d+%?",ue="[-\\+]?\\d*\\.\\d+%?",ae="(?:"+ue+")|(?:"+K+")",he="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?",xe="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?";return{CSS_UNIT:new RegExp(ae),rgb:new RegExp("rgb"+he),rgba:new RegExp("rgba"+xe),hsl:new RegExp("hsl"+he),hsla:new RegExp("hsla"+xe),hsv:new RegExp("hsv"+he),hsva:new RegExp("hsva"+xe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ie(K){return!!Y.CSS_UNIT.exec(K)}function le(K){K=K.replace(n,"").replace(L,"").toLowerCase();var ue=!1;if(k[K])K=k[K],ue=!0;else if(K=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ae;return(ae=Y.rgb.exec(K))?{r:ae[1],g:ae[2],b:ae[3]}:(ae=Y.rgba.exec(K))?{r:ae[1],g:ae[2],b:ae[3],a:ae[4]}:(ae=Y.hsl.exec(K))?{h:ae[1],s:ae[2],l:ae[3]}:(ae=Y.hsla.exec(K))?{h:ae[1],s:ae[2],l:ae[3],a:ae[4]}:(ae=Y.hsv.exec(K))?{h:ae[1],s:ae[2],v:ae[3]}:(ae=Y.hsva.exec(K))?{h:ae[1],s:ae[2],v:ae[3],a:ae[4]}:(ae=Y.hex8.exec(K))?{r:ee(ae[1]),g:ee(ae[2]),b:ee(ae[3]),a:te(ae[4]),format:ue?"name":"hex8"}:(ae=Y.hex6.exec(K))?{r:ee(ae[1]),g:ee(ae[2]),b:ee(ae[3]),format:ue?"name":"hex"}:(ae=Y.hex4.exec(K))?{r:ee(ae[1]+""+ae[1]),g:ee(ae[2]+""+ae[2]),b:ee(ae[3]+""+ae[3]),a:te(ae[4]+""+ae[4]),format:ue?"name":"hex8"}:(ae=Y.hex3.exec(K))?{r:ee(ae[1]+""+ae[1]),g:ee(ae[2]+""+ae[2]),b:ee(ae[3]+""+ae[3]),format:ue?"name":"hex"}:!1}function j(K){var ue,ae;return K=K||{level:"AA",size:"small"},ue=(K.level||"AA").toUpperCase(),ae=(K.size||"small").toLowerCase(),ue!=="AA"&&ue!=="AAA"&&(ue="AA"),ae!=="small"&&ae!=="large"&&(ae="small"),{level:ue,size:ae}}H.exports?H.exports=i:(d=(function(){return i}).call(U,e,U,H),d!==void 0&&(H.exports=d))})(Math)},37816:function(H){H.exports=d,H.exports.float32=H.exports.float=d,H.exports.fract32=H.exports.fract=e;var U=new Float32Array(1);function e(C,n){if(C.length){if(C instanceof Float32Array)return new Float32Array(C.length);n instanceof Float32Array||(n=d(C));for(var L=0,w=n.length;L<w;L++)n[L]=C[L]-n[L];return n}return d(C-d(C))}function d(C){return C.length?C instanceof Float32Array?C:new Float32Array(C):(U[0]=C,U[0])}},23464:function(H,U,e){var d=e(65819);H.exports=w;var C=96;function n(v,g){var r=d(getComputedStyle(v).getPropertyValue(g));return r[0]*w(r[1],v)}function L(v,g){var r=document.createElement("div");r.style["font-size"]="128"+v,g.appendChild(r);var t=n(r,"font-size")/128;return g.removeChild(r),t}function w(v,g){switch(g=g||document.body,v=(v||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),v){case"%":return g.clientHeight/100;case"ch":case"ex":return L(v,g);case"em":return n(g,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return C;case"cm":return C/2.54;case"mm":return C/25.4;case"pt":return C/72;case"pc":return C/6}return 1}},55712:function(H,U,e){e.d(U,{NO:function(){return L}});function d(g,r){for(var t,i=g.length,a=i-r;a<--i;)t=g[a],g[a++]=g[i],g[i]=t}function C(g){return g}function n(g){if(g==null)return C;var r,t,i=g.scale[0],a=g.scale[1],u=g.translate[0],f=g.translate[1];return function(l,m){m||(r=t=0);var h=2,T=l.length,c=new Array(T);for(c[0]=(r+=l[0])*i+u,c[1]=(t+=l[1])*a+f;h<T;)c[h]=l[h],++h;return c}}function L(g,r){return typeof r=="string"&&(r=g.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return w(g,t)})}:w(g,r)}function w(g,r){var t=r.id,i=r.bbox,a=r.properties==null?{}:r.properties,u=v(g,r);return t==null&&i==null?{type:"Feature",properties:a,geometry:u}:i==null?{type:"Feature",id:t,properties:a,geometry:u}:{type:"Feature",id:t,bbox:i,properties:a,geometry:u}}function v(g,r){var t=n(g.transform),i=g.arcs;function a(T,c){c.length&&c.pop();for(var o=i[T<0?~T:T],p=0,x=o.length;p<x;++p)c.push(t(o[p],p));T<0&&d(c,x)}function u(T){return t(T)}function f(T){for(var c=[],o=0,p=T.length;o<p;++o)a(T[o],c);return c.length<2&&c.push(c[0]),c}function l(T){for(var c=f(T);c.length<4;)c.push(c[0]);return c}function m(T){return T.map(l)}function h(T){var c=T.type,o;switch(c){case"GeometryCollection":return{type:c,geometries:T.geometries.map(h)};case"Point":o=u(T.coordinates);break;case"MultiPoint":o=T.coordinates.map(u);break;case"LineString":o=f(T.arcs);break;case"MultiLineString":o=T.arcs.map(f);break;case"Polygon":o=m(T.arcs);break;case"MultiPolygon":o=T.arcs.map(m);break;default:return null}return{type:c,coordinates:o}}return h(r)}},73384:function(H,U,e){var d=e(54612);H.exports=function(C){if(typeof C!="function"||!hasOwnProperty.call(C,"length"))return!1;try{if(typeof C.length!="number"||typeof C.call!="function"||typeof C.apply!="function")return!1}catch{return!1}return!d(C)}},57980:function(H,U,e){var d=e(81680),C=e(7328),n=e(33940),L=e(18856),w=function(v,g){return v.replace("%v",L(g))};H.exports=function(v,g,r){if(!C(r))throw new TypeError(w(g,v));if(!d(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=n(r.errorMessage);throw d(t)||(t=g),new TypeError(w(t,v))}},32336:function(H){H.exports=function(U){try{return U.toString()}catch{try{return String(U)}catch{return null}}}},18856:function(H,U,e){var d=e(32336),C=/[\n\r\u2028\u2029]/g;H.exports=function(n){var L=d(n);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+""),L=L.replace(C,function(w){switch(w){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},7328:function(H,U,e){var d=e(81680),C={object:!0,function:!0,undefined:!0};H.exports=function(n){return d(n)?hasOwnProperty.call(C,typeof n):!1}},87396:function(H,U,e){var d=e(57980),C=e(85488);H.exports=function(n){return C(n)?n:d(n,"%v is not a plain function",arguments[1])}},85488:function(H,U,e){var d=e(73384),C=/^\s*class[\s{/}]/,n=Function.prototype.toString;H.exports=function(L){return!(!d(L)||C.test(n.call(L)))}},54612:function(H,U,e){var d=e(7328);H.exports=function(C){if(!d(C))return!1;try{return C.constructor?C.constructor.prototype===C:!1}catch{return!1}}},33940:function(H,U,e){var d=e(81680),C=e(7328),n=Object.prototype.toString;H.exports=function(L){if(!d(L))return null;if(C(L)){var w=L.toString;if(typeof w!="function"||w===n)return null}try{return""+L}catch{return null}}},18496:function(H,U,e){var d=e(57980),C=e(81680);H.exports=function(n){return C(n)?n:d(n,"Cannot use %v",arguments[1])}},81680:function(H){var U=void 0;H.exports=function(e){return e!==U&&e!==null}},14144:function(H,U,e){var d=e(308),C=e(10352),n=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:C([32,0]),UINT16:C([32,0]),UINT32:C([32,0]),BIGUINT64:C([32,0]),INT8:C([32,0]),INT16:C([32,0]),INT32:C([32,0]),BIGINT64:C([32,0]),FLOAT:C([32,0]),DOUBLE:C([32,0]),DATA:C([32,0]),UINT8C:C([32,0]),BUFFER:C([32,0])});var L=typeof Uint8ClampedArray<"u",w=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",g=e.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=C([32,0])),g.BIGUINT64||(g.BIGUINT64=C([32,0])),g.BIGINT64||(g.BIGINT64=C([32,0])),g.BUFFER||(g.BUFFER=C([32,0]));var r=g.DATA,t=g.BUFFER;U.free=function(s){if(n.isBuffer(s))t[d.log2(s.length)].push(s);else{if(Object.prototype.toString.call(s)!=="[object ArrayBuffer]"&&(s=s.buffer),!s)return;var S=s.length||s.byteLength,b=d.log2(S)|0;r[b].push(s)}};function i(M){if(M){var s=M.length||M.byteLength,S=d.log2(s);r[S].push(M)}}function a(M){i(M.buffer)}U.freeUint8=U.freeUint16=U.freeUint32=U.freeBigUint64=U.freeInt8=U.freeInt16=U.freeInt32=U.freeBigInt64=U.freeFloat32=U.freeFloat=U.freeFloat64=U.freeDouble=U.freeUint8Clamped=U.freeDataView=a,U.freeArrayBuffer=i,U.freeBuffer=function(s){t[d.log2(s.length)].push(s)},U.malloc=function(s,S){if(S===void 0||S==="arraybuffer")return u(s);switch(S){case"uint8":return f(s);case"uint16":return l(s);case"uint32":return m(s);case"int8":return h(s);case"int16":return T(s);case"int32":return c(s);case"float":case"float32":return o(s);case"double":case"float64":return p(s);case"uint8_clamped":return x(s);case"bigint64":return _(s);case"biguint64":return A(s);case"buffer":return E(s);case"data":case"dataview":return y(s);default:return null}return null};function u(s){var s=d.nextPow2(s),S=d.log2(s),b=r[S];return b.length>0?b.pop():new ArrayBuffer(s)}U.mallocArrayBuffer=u;function f(M){return new Uint8Array(u(M),0,M)}U.mallocUint8=f;function l(M){return new Uint16Array(u(2*M),0,M)}U.mallocUint16=l;function m(M){return new Uint32Array(u(4*M),0,M)}U.mallocUint32=m;function h(M){return new Int8Array(u(M),0,M)}U.mallocInt8=h;function T(M){return new Int16Array(u(2*M),0,M)}U.mallocInt16=T;function c(M){return new Int32Array(u(4*M),0,M)}U.mallocInt32=c;function o(M){return new Float32Array(u(4*M),0,M)}U.mallocFloat32=U.mallocFloat=o;function p(M){return new Float64Array(u(8*M),0,M)}U.mallocFloat64=U.mallocDouble=p;function x(M){return L?new Uint8ClampedArray(u(M),0,M):f(M)}U.mallocUint8Clamped=x;function A(M){return w?new BigUint64Array(u(8*M),0,M):null}U.mallocBigUint64=A;function _(M){return v?new BigInt64Array(u(8*M),0,M):null}U.mallocBigInt64=_;function y(M){return new DataView(u(M),0,M)}U.mallocDataView=y;function E(M){M=d.nextPow2(M);var s=d.log2(M),S=t[s];return S.length>0?S.pop():new n(M)}U.mallocBuffer=E,U.clearCache=function(){for(var s=0;s<32;++s)g.UINT8[s].length=0,g.UINT16[s].length=0,g.UINT32[s].length=0,g.INT8[s].length=0,g.INT16[s].length=0,g.INT32[s].length=0,g.FLOAT[s].length=0,g.DOUBLE[s].length=0,g.BIGUINT64[s].length=0,g.BIGINT64[s].length=0,g.UINT8C[s].length=0,r[s].length=0,t[s].length=0}},92384:function(H){var U=/[\'\"]/;H.exports=function(d){return d?(U.test(d.charAt(0))&&(d=d.substr(1)),U.test(d.charAt(d.length-1))&&(d=d.substr(0,d.length-1)),d):""}},45223:function(H){H.exports=function(e,d,C){Array.isArray(C)||(C=[].slice.call(arguments,2));for(var n=0,L=C.length;n<L;n++){var w=C[n];for(var v in w)if(!(d[v]!==void 0&&!Array.isArray(d[v])&&e[v]===d[v])&&v in d){var g;if(w[v]===!0)g=d[v];else{if(w[v]===!1)continue;if(typeof w[v]=="function"&&(g=w[v](d[v],e,d),g===void 0))continue}e[v]=g}}return e}},96656:function(H,U,e){H.exports=d;function d(n,L){if(C("noDeprecation"))return n;var w=!1;function v(){if(!w){if(C("throwDeprecation"))throw new Error(L);C("traceDeprecation")?console.trace(L):console.warn(L),w=!0}return n.apply(this,arguments)}return v}function C(n){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[n];return L==null?!1:String(L).toLowerCase()==="true"}},75272:function(H){H.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(H,U,e){var d=e(91148),C=e(84420),n=e(96632),L=e(7728);function w(Se){return Se.call.bind(Se)}var v=typeof BigInt<"u",g=typeof Symbol<"u",r=w(Object.prototype.toString),t=w(Number.prototype.valueOf),i=w(String.prototype.valueOf),a=w(Boolean.prototype.valueOf);if(v)var u=w(BigInt.prototype.valueOf);if(g)var f=w(Symbol.prototype.valueOf);function l(Se,Ae){if(typeof Se!="object")return!1;try{return Ae(Se),!0}catch{return!1}}U.isArgumentsObject=d,U.isGeneratorFunction=C,U.isTypedArray=L;function m(Se){return typeof Promise<"u"&&Se instanceof Promise||Se!==null&&typeof Se=="object"&&typeof Se.then=="function"&&typeof Se.catch=="function"}U.isPromise=m;function h(Se){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Se):L(Se)||ee(Se)}U.isArrayBufferView=h;function T(Se){return n(Se)==="Uint8Array"}U.isUint8Array=T;function c(Se){return n(Se)==="Uint8ClampedArray"}U.isUint8ClampedArray=c;function o(Se){return n(Se)==="Uint16Array"}U.isUint16Array=o;function p(Se){return n(Se)==="Uint32Array"}U.isUint32Array=p;function x(Se){return n(Se)==="Int8Array"}U.isInt8Array=x;function A(Se){return n(Se)==="Int16Array"}U.isInt16Array=A;function _(Se){return n(Se)==="Int32Array"}U.isInt32Array=_;function y(Se){return n(Se)==="Float32Array"}U.isFloat32Array=y;function E(Se){return n(Se)==="Float64Array"}U.isFloat64Array=E;function M(Se){return n(Se)==="BigInt64Array"}U.isBigInt64Array=M;function s(Se){return n(Se)==="BigUint64Array"}U.isBigUint64Array=s;function S(Se){return r(Se)==="[object Map]"}S.working=typeof Map<"u"&&S(new Map);function b(Se){return typeof Map>"u"?!1:S.working?S(Se):Se instanceof Map}U.isMap=b;function I(Se){return r(Se)==="[object Set]"}I.working=typeof Set<"u"&&I(new Set);function D(Se){return typeof Set>"u"?!1:I.working?I(Se):Se instanceof Set}U.isSet=D;function B(Se){return r(Se)==="[object WeakMap]"}B.working=typeof WeakMap<"u"&&B(new WeakMap);function k(Se){return typeof WeakMap>"u"?!1:B.working?B(Se):Se instanceof WeakMap}U.isWeakMap=k;function F(Se){return r(Se)==="[object WeakSet]"}F.working=typeof WeakSet<"u"&&F(new WeakSet);function N(Se){return F(Se)}U.isWeakSet=N;function O(Se){return r(Se)==="[object ArrayBuffer]"}O.working=typeof ArrayBuffer<"u"&&O(new ArrayBuffer);function V(Se){return typeof ArrayBuffer>"u"?!1:O.working?O(Se):Se instanceof ArrayBuffer}U.isArrayBuffer=V;function X(Se){return r(Se)==="[object DataView]"}X.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&X(new DataView(new ArrayBuffer(1),0,1));function ee(Se){return typeof DataView>"u"?!1:X.working?X(Se):Se instanceof DataView}U.isDataView=ee;var ne=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function q(Se){return r(Se)==="[object SharedArrayBuffer]"}function se(Se){return typeof ne>"u"?!1:(typeof q.working>"u"&&(q.working=q(new ne)),q.working?q(Se):Se instanceof ne)}U.isSharedArrayBuffer=se;function J(Se){return r(Se)==="[object AsyncFunction]"}U.isAsyncFunction=J;function Z(Se){return r(Se)==="[object Map Iterator]"}U.isMapIterator=Z;function te(Se){return r(Se)==="[object Set Iterator]"}U.isSetIterator=te;function Y(Se){return r(Se)==="[object Generator]"}U.isGeneratorObject=Y;function ie(Se){return r(Se)==="[object WebAssembly.Module]"}U.isWebAssemblyCompiledModule=ie;function le(Se){return l(Se,t)}U.isNumberObject=le;function j(Se){return l(Se,i)}U.isStringObject=j;function K(Se){return l(Se,a)}U.isBooleanObject=K;function ue(Se){return v&&l(Se,u)}U.isBigIntObject=ue;function ae(Se){return g&&l(Se,f)}U.isSymbolObject=ae;function he(Se){return le(Se)||j(Se)||K(Se)||ue(Se)||ae(Se)}U.isBoxedPrimitive=he;function xe(Se){return typeof Uint8Array<"u"&&(V(Se)||se(Se))}U.isAnyArrayBuffer=xe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Se){Object.defineProperty(U,Se,{enumerable:!1,value:function(){throw new Error(Se+" is not supported in userland")}})})},35840:function(H,U,e){var d=e(4168),C=Object.getOwnPropertyDescriptors||function(ne){for(var q=Object.keys(ne),se={},J=0;J<q.length;J++)se[q[J]]=Object.getOwnPropertyDescriptor(ne,q[J]);return se},n=/%[sdj%]/g;U.format=function(ee){if(!A(ee)){for(var ne=[],q=0;q<arguments.length;q++)ne.push(g(arguments[q]));return ne.join(" ")}for(var q=1,se=arguments,J=se.length,Z=String(ee).replace(n,function(Y){if(Y==="%%")return"%";if(q>=J)return Y;switch(Y){case"%s":return String(se[q++]);case"%d":return Number(se[q++]);case"%j":try{return JSON.stringify(se[q++])}catch{return"[Circular]"}default:return Y}}),te=se[q];q<J;te=se[++q])o(te)||!M(te)?Z+=" "+te:Z+=" "+g(te);return Z},U.deprecate=function(ee,ne){if(typeof d<"u"&&d.noDeprecation===!0)return ee;if(typeof d>"u")return function(){return U.deprecate(ee,ne).apply(this,arguments)};var q=!1;function se(){if(!q){if(d.throwDeprecation)throw new Error(ne);d.traceDeprecation?console.trace(ne):console.error(ne),q=!0}return ee.apply(this,arguments)}return se};var L={},w=/^$/;if(d.env.NODE_DEBUG){var v=d.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),w=new RegExp("^"+v+"$","i")}U.debuglog=function(ee){if(ee=ee.toUpperCase(),!L[ee])if(w.test(ee)){var ne=d.pid;L[ee]=function(){var q=U.format.apply(U,arguments);console.error("%s %d: %s",ee,ne,q)}}else L[ee]=function(){};return L[ee]};function g(ee,ne){var q={seen:[],stylize:t};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),c(ne)?q.showHidden=ne:ne&&U._extend(q,ne),y(q.showHidden)&&(q.showHidden=!1),y(q.depth)&&(q.depth=2),y(q.colors)&&(q.colors=!1),y(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=r),a(q,ee,q.depth)}U.inspect=g,g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(ee,ne){var q=g.styles[ne];return q?"\x1B["+g.colors[q][0]+"m"+ee+"\x1B["+g.colors[q][1]+"m":ee}function t(ee,ne){return ee}function i(ee){var ne={};return ee.forEach(function(q,se){ne[q]=!0}),ne}function a(ee,ne,q){if(ee.customInspect&&ne&&b(ne.inspect)&&ne.inspect!==U.inspect&&!(ne.constructor&&ne.constructor.prototype===ne)){var se=ne.inspect(q,ee);return A(se)||(se=a(ee,se,q)),se}var J=u(ee,ne);if(J)return J;var Z=Object.keys(ne),te=i(Z);if(ee.showHidden&&(Z=Object.getOwnPropertyNames(ne)),S(ne)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return f(ne);if(Z.length===0){if(b(ne)){var Y=ne.name?": "+ne.name:"";return ee.stylize("[Function"+Y+"]","special")}if(E(ne))return ee.stylize(RegExp.prototype.toString.call(ne),"regexp");if(s(ne))return ee.stylize(Date.prototype.toString.call(ne),"date");if(S(ne))return f(ne)}var ie="",le=!1,j=["{","}"];if(T(ne)&&(le=!0,j=["[","]"]),b(ne)){var K=ne.name?": "+ne.name:"";ie=" [Function"+K+"]"}if(E(ne)&&(ie=" "+RegExp.prototype.toString.call(ne)),s(ne)&&(ie=" "+Date.prototype.toUTCString.call(ne)),S(ne)&&(ie=" "+f(ne)),Z.length===0&&(!le||ne.length==0))return j[0]+ie+j[1];if(q<0)return E(ne)?ee.stylize(RegExp.prototype.toString.call(ne),"regexp"):ee.stylize("[Object]","special");ee.seen.push(ne);var ue;return le?ue=l(ee,ne,q,te,Z):ue=Z.map(function(ae){return m(ee,ne,q,te,ae,le)}),ee.seen.pop(),h(ue,ie,j)}function u(ee,ne){if(y(ne))return ee.stylize("undefined","undefined");if(A(ne)){var q="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ee.stylize(q,"string")}if(x(ne))return ee.stylize(""+ne,"number");if(c(ne))return ee.stylize(""+ne,"boolean");if(o(ne))return ee.stylize("null","null")}function f(ee){return"["+Error.prototype.toString.call(ee)+"]"}function l(ee,ne,q,se,J){for(var Z=[],te=0,Y=ne.length;te<Y;++te)N(ne,String(te))?Z.push(m(ee,ne,q,se,String(te),!0)):Z.push("");return J.forEach(function(ie){ie.match(/^\d+$/)||Z.push(m(ee,ne,q,se,ie,!0))}),Z}function m(ee,ne,q,se,J,Z){var te,Y,ie;if(ie=Object.getOwnPropertyDescriptor(ne,J)||{value:ne[J]},ie.get?ie.set?Y=ee.stylize("[Getter/Setter]","special"):Y=ee.stylize("[Getter]","special"):ie.set&&(Y=ee.stylize("[Setter]","special")),N(se,J)||(te="["+J+"]"),Y||(ee.seen.indexOf(ie.value)<0?(o(q)?Y=a(ee,ie.value,null):Y=a(ee,ie.value,q-1),Y.indexOf(`
`)>-1&&(Z?Y=Y.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):Y=`
`+Y.split(`
`).map(function(le){return"   "+le}).join(`
`))):Y=ee.stylize("[Circular]","special")),y(te)){if(Z&&J.match(/^\d+$/))return Y;te=JSON.stringify(""+J),te.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(te=te.slice(1,-1),te=ee.stylize(te,"name")):(te=te.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),te=ee.stylize(te,"string"))}return te+": "+Y}function h(ee,ne,q){var se=ee.reduce(function(J,Z){return Z.indexOf(`
`)>=0,J+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return se>60?q[0]+(ne===""?"":ne+`
 `)+" "+ee.join(`,
  `)+" "+q[1]:q[0]+ne+" "+ee.join(", ")+" "+q[1]}U.types=e(41088);function T(ee){return Array.isArray(ee)}U.isArray=T;function c(ee){return typeof ee=="boolean"}U.isBoolean=c;function o(ee){return ee===null}U.isNull=o;function p(ee){return ee==null}U.isNullOrUndefined=p;function x(ee){return typeof ee=="number"}U.isNumber=x;function A(ee){return typeof ee=="string"}U.isString=A;function _(ee){return typeof ee=="symbol"}U.isSymbol=_;function y(ee){return ee===void 0}U.isUndefined=y;function E(ee){return M(ee)&&D(ee)==="[object RegExp]"}U.isRegExp=E,U.types.isRegExp=E;function M(ee){return typeof ee=="object"&&ee!==null}U.isObject=M;function s(ee){return M(ee)&&D(ee)==="[object Date]"}U.isDate=s,U.types.isDate=s;function S(ee){return M(ee)&&(D(ee)==="[object Error]"||ee instanceof Error)}U.isError=S,U.types.isNativeError=S;function b(ee){return typeof ee=="function"}U.isFunction=b;function I(ee){return ee===null||typeof ee=="boolean"||typeof ee=="number"||typeof ee=="string"||typeof ee=="symbol"||typeof ee>"u"}U.isPrimitive=I,U.isBuffer=e(75272);function D(ee){return Object.prototype.toString.call(ee)}function B(ee){return ee<10?"0"+ee.toString(10):ee.toString(10)}var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var ee=new Date,ne=[B(ee.getHours()),B(ee.getMinutes()),B(ee.getSeconds())].join(":");return[ee.getDate(),k[ee.getMonth()],ne].join(" ")}U.log=function(){console.log("%s - %s",F(),U.format.apply(U,arguments))},U.inherits=e(6768),U._extend=function(ee,ne){if(!ne||!M(ne))return ee;for(var q=Object.keys(ne),se=q.length;se--;)ee[q[se]]=ne[q[se]];return ee};function N(ee,ne){return Object.prototype.hasOwnProperty.call(ee,ne)}var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;U.promisify=function(ne){if(typeof ne!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&ne[O]){var q=ne[O];if(typeof q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(q,O,{value:q,enumerable:!1,writable:!1,configurable:!0}),q}function q(){for(var se,J,Z=new Promise(function(ie,le){se=ie,J=le}),te=[],Y=0;Y<arguments.length;Y++)te.push(arguments[Y]);te.push(function(ie,le){ie?J(ie):se(le)});try{ne.apply(this,te)}catch(ie){J(ie)}return Z}return Object.setPrototypeOf(q,Object.getPrototypeOf(ne)),O&&Object.defineProperty(q,O,{value:q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(q,C(ne))},U.promisify.custom=O;function V(ee,ne){if(!ee){var q=new Error("Promise was rejected with a falsy value");q.reason=ee,ee=q}return ne(ee)}function X(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');function ne(){for(var q=[],se=0;se<arguments.length;se++)q.push(arguments[se]);var J=q.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var Z=this,te=function(){return J.apply(Z,arguments)};ee.apply(this,q).then(function(Y){d.nextTick(te.bind(null,null,Y))},function(Y){d.nextTick(V.bind(null,Y,te))})}return Object.setPrototypeOf(ne,Object.getPrototypeOf(ee)),Object.defineProperties(ne,C(ee)),ne}U.callbackify=X},5408:function(H,U,e){var d=e(13380);H.exports=function(n){return d("webgl",n)}},96632:function(H,U,e){var d=e(46492),C=e(63436),n=e(57916),L=e(99676),w=e(2304),v=L("Object.prototype.toString"),g=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=C(),i=L("String.prototype.slice"),a=Object.getPrototypeOf,u=L("Array.prototype.indexOf",!0)||function(T,c){for(var o=0;o<T.length;o+=1)if(T[o]===c)return o;return-1},f={__proto__:null};g&&w&&a?d(t,function(h){var T=new r[h];if(Symbol.toStringTag in T){var c=a(T),o=w(c,Symbol.toStringTag);if(!o){var p=a(c);o=w(p,Symbol.toStringTag)}f["$"+h]=n(o.get)}}):d(t,function(h){var T=new r[h],c=T.slice||T.set;c&&(f["$"+h]=n(c))});var l=function(T){var c=!1;return d(f,function(o,p){if(!c)try{"$"+o(T)===p&&(c=i(p,1))}catch{}}),c},m=function(T){var c=!1;return d(f,function(o,p){if(!c)try{o(T),c=i(p,1)}catch{}}),c};H.exports=function(T){if(!T||typeof T!="object")return!1;if(!g){var c=i(v(T),8,-1);return u(t,c)>-1?c:c!=="Object"?!1:m(T)}return w?l(T):null}},67020:function(H,U,e){var d=e(38700),C=e(50896),n=d.instance();function L(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}L.prototype=new d.baseCalendar,C(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,l){if(typeof f=="string"){var m=f.match(v);return m?m[0]:""}var h=this._validateYear(f),T=f.month(),c=""+this.toChineseMonth(h,T);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,T)&&(c+="i"),c},monthNames:function(f){if(typeof f=="string"){var l=f.match(g);return l?l[0]:""}var m=this._validateYear(f),h=f.month(),T=this.toChineseMonth(m,h),c=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(m,h)&&(c=""+c),c},monthNamesShort:function(f){if(typeof f=="string"){var l=f.match(r);return l?l[0]:""}var m=this._validateYear(f),h=f.month(),T=this.toChineseMonth(m,h),c=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(m,h)&&(c=""+c),c},parseMonth:function(f,l){f=this._validateYear(f);var m=parseInt(l),h;if(isNaN(m))l[0]===""&&(h=!0,l=l.substring(1)),l[l.length-1]===""&&(l=l.substring(0,l.length-1)),m=1+["","","","","","","","","","","",""].indexOf(l);else{var T=l[l.length-1];h=T==="i"||T==="I"}var c=this.toMonthIndex(f,m,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,l){if(f.year&&(f=f.year()),typeof f!="number"||f<1888||f>2111)throw l.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,l,m){var h=this.intercalaryMonth(f),T=m&&l!==h;if(T||l<1||l>12)throw d.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!m&&l<=h?c=l-1:c=l:c=l-1,c},toChineseMonth:function(f,l){f.year&&(f=f.year(),l=f.month());var m=this.intercalaryMonth(f),h=m?12:11;if(l<0||l>h)throw d.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return m?l<m?T=l+1:T=l:T=l+1,T},intercalaryMonth:function(f){f=this._validateYear(f);var l=t[f-t[0]],m=l>>13;return m},isIntercalaryMonth:function(f,l){f.year&&(f=f.year(),l=f.month());var m=this.intercalaryMonth(f);return!!m&&m===l},leapYear:function(f){return this.intercalaryMonth(f)!==0},weekOfYear:function(f,l,m){var h=this._validateYear(f,d.local.invalidyear),T=i[h-i[0]],c=T>>9&4095,o=T>>5&15,p=T&31,x;x=n.newDate(c,o,p),x.add(4-(x.dayOfWeek()||7),"d");var A=this.toJD(f,l,m)-x.toJD();return 1+Math.floor(A/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,l){f.year&&(l=f.month(),f=f.year()),f=this._validateYear(f);var m=t[f-t[0]],h=m>>13,T=h?12:11;if(l>T)throw d.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=m&1<<12-l?30:29;return c},weekDay:function(f,l,m){return(this.dayOfWeek(f,l,m)||7)<6},toJD:function(f,l,m){var h=this._validate(f,c,m,d.local.invalidDate);f=this._validateYear(h.year()),l=h.month(),m=h.day();var T=this.isIntercalaryMonth(f,l),c=this.toChineseMonth(f,l),o=u(f,c,m,T);return n.toJD(o.year,o.month,o.day)},fromJD:function(f){var l=n.fromJD(f),m=a(l.year(),l.month(),l.day()),h=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,h,m.day)},fromString:function(f){var l=f.match(w),m=this._validateYear(+l[1]),h=+l[2],T=!!l[3],c=this.toMonthIndex(m,h,T),o=+l[4];return this.newDate(m,c,o)},add:function(f,l,m){var h=f.year(),T=f.month(),c=this.isIntercalaryMonth(h,T),o=this.toChineseMonth(h,T),p=Object.getPrototypeOf(L.prototype).add.call(this,f,l,m);if(m==="y"){var x=p.year(),A=p.month(),_=this.isIntercalaryMonth(x,o),y=c&&_?this.toMonthIndex(x,o,!0):this.toMonthIndex(x,o,!1);y!==A&&p.month(y)}return p}});var w=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,g=/^??[]?/m,r=/^??[]?/m;d.calendars.chinese=L;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],i=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function a(f,l,m,h){var T,c;if(typeof f=="object")T=f,c=l||{};else{var o=typeof f=="number"&&f>=1888&&f<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var p=typeof l=="number"&&l>=1&&l<=12;if(!p)throw new Error("Solar month outside range 1 - 12");var x=typeof m=="number"&&m>=1&&m<=31;if(!x)throw new Error("Solar day outside range 1 - 31");T={year:f,month:l,day:m},c=h||{}}var A=i[T.year-i[0]],_=T.year<<9|T.month<<5|T.day;c.year=_>=A?T.year:T.year-1,A=i[c.year-i[0]];var y=A>>9&4095,E=A>>5&15,M=A&31,s,S=new Date(y,E-1,M),b=new Date(T.year,T.month-1,T.day);s=Math.round((b-S)/864e5);var I=t[c.year-t[0]],D;for(D=0;D<13;D++){var B=I&1<<12-D?30:29;if(s<B)break;s-=B}var k=I>>13;return!k||D<k?(c.isIntercalary=!1,c.month=1+D):D===k?(c.isIntercalary=!0,c.month=D):(c.isIntercalary=!1,c.month=D),c.day=1+s,c}function u(f,l,m,h,T){var c,o;if(typeof f=="object")o=f,c=l||{};else{var p=typeof f=="number"&&f>=1888&&f<=2111;if(!p)throw new Error("Lunar year outside range 1888-2111");var x=typeof l=="number"&&l>=1&&l<=12;if(!x)throw new Error("Lunar month outside range 1 - 12");var A=typeof m=="number"&&m>=1&&m<=30;if(!A)throw new Error("Lunar day outside range 1 - 30");var _;typeof h=="object"?(_=!1,c=h):(_=!!h,c=T||{}),o={year:f,month:l,day:m,isIntercalary:_}}var y;y=o.day-1;var E=t[o.year-t[0]],M=E>>13,s;M&&(o.month>M||o.isIntercalary)?s=o.month:s=o.month-1;for(var S=0;S<s;S++){var b=E&1<<12-S?30:29;y+=b}var I=i[o.year-i[0]],D=I>>9&4095,B=I>>5&15,k=I&31,F=new Date(D,B-1,k+y);return c.year=F.getFullYear(),c.month=1+F.getMonth(),c.day=F.getDate(),c}},89792:function(H,U,e){var d=e(38700),C=e(50896);function n(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,C(n.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var w=this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),v=w.year()+(w.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),13},weekOfYear:function(L,w,v){var g=this.newDate(L,w,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(L,w){var v=this._validate(L,w,this.minDay,d.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,w,v){return(this.dayOfWeek(L,w,v)||7)<6},toJD:function(L,w,v){var g=this._validate(L,w,v,d.local.invalidDate);return L=g.year(),L<0&&L++,g.day()+(g.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var w=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((w-Math.floor((w+366)/1461))/365)+1;v<=0&&v--,w=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var g=Math.floor(w/30)+1,r=w-(g-1)*30+1;return this.newDate(v,g,r)}}),d.calendars.coptic=n},55668:function(H,U,e){var d=e(38700),C=e(50896);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,C(n.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(w){return this._validate(w,this.minMonth,this.minDay,d.local.invalidYear),!1},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,d.local.invalidYear),13},daysInYear:function(w){return this._validate(w,this.minMonth,this.minDay,d.local.invalidYear),400},weekOfYear:function(w,v,g){var r=this.newDate(w,v,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(w,v){var g=this._validate(w,v,this.minDay,d.local.invalidMonth);return this.daysPerMonth[g.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(w,v,g){var r=this._validate(w,v,g,d.local.invalidDate);return(r.day()+1)%8},weekDay:function(w,v,g){var r=this.dayOfWeek(w,v,g);return r>=2&&r<=6},extraInfo:function(w,v,g){var r=this._validate(w,v,g,d.local.invalidDate);return{century:L[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(w,v,g){var r=this._validate(w,v,g,d.local.invalidDate);return w=r.year()+(r.year()<0?1:0),v=r.month(),g=r.day(),g+(v>1?16:0)+(v>2?(v-2)*32:0)+(w-1)*400+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(w/400)+1;w-=(v-1)*400,w+=w>15?16:0;var g=Math.floor(w/32)+1,r=w-(g-1)*32+1;return this.newDate(v<=0?v-1:v,g,r)}});var L={20:"Fruitbat",21:"Anchovy"};d.calendars.discworld=n},65168:function(H,U,e){var d=e(38700),C=e(50896);function n(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,C(n.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var w=this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),v=w.year()+(w.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),13},weekOfYear:function(L,w,v){var g=this.newDate(L,w,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(L,w){var v=this._validate(L,w,this.minDay,d.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,w,v){return(this.dayOfWeek(L,w,v)||7)<6},toJD:function(L,w,v){var g=this._validate(L,w,v,d.local.invalidDate);return L=g.year(),L<0&&L++,g.day()+(g.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var w=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((w-Math.floor((w+366)/1461))/365)+1;v<=0&&v--,w=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var g=Math.floor(w/30)+1,r=w-(g-1)*30+1;return this.newDate(v,g,r)}}),d.calendars.ethiopian=n},2084:function(H,U,e){var d=e(38700),C=e(50896);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,C(n.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,d.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(w){return w=w<0?w+1:w,L(w*7+1,19)<7},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,d.local.invalidYear),this._leapYear(w.year?w.year():w)?13:12},weekOfYear:function(w,v,g){var r=this.newDate(w,v,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,d.local.invalidYear);return w=v.year(),this.toJD(w===-1?1:w+1,7,1)-this.toJD(w,7,1)},daysInMonth:function(w,v){return w.year&&(v=w.month(),w=w.year()),this._validate(w,v,this.minDay,d.local.invalidMonth),v===12&&this.leapYear(w)||v===8&&L(this.daysInYear(w),10)===5?30:v===9&&L(this.daysInYear(w),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(w,v,g){return this.dayOfWeek(w,v,g)!==6},extraInfo:function(w,v,g){var r=this._validate(w,v,g,d.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(w,v,g){var r=this._validate(w,v,g,d.local.invalidDate);w=r.year(),v=r.month(),g=r.day();var t=w<=0?w+1:w,i=this.jdEpoch+this._delay1(t)+this._delay2(t)+g+1;if(v<7){for(var a=7;a<=this.monthsInYear(w);a++)i+=this.daysInMonth(w,a);for(var a=1;a<v;a++)i+=this.daysInMonth(w,a)}else for(var a=7;a<v;a++)i+=this.daysInMonth(w,a);return i},_delay1:function(w){var v=Math.floor((235*w-234)/19),g=12084+13753*v,r=v*29+Math.floor(g/25920);return L(3*(r+1),7)<3&&r++,r},_delay2:function(w){var v=this._delay1(w-1),g=this._delay1(w),r=this._delay1(w+1);return r-g===356?2:g-v===382?1:0},fromJD:function(w){w=Math.floor(w)+.5;for(var v=Math.floor((w-this.jdEpoch)*98496/35975351)-1;w>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var g=w<this.toJD(v,1,1)?7:1;w>this.toJD(v,g,this.daysInMonth(v,g));)g++;var r=w-this.toJD(v,g,1)+1;return this.newDate(v,g,r)}});function L(w,v){return w-v*Math.floor(w/v)}d.calendars.hebrew=n},26368:function(H,U,e){var d=e(38700),C=e(50896);function n(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,C(n.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var w=this._validate(L,this.minMonth,this.minDay,d.local.invalidYear);return(w.year()*11+14)%30<11},weekOfYear:function(L,w,v){var g=this.newDate(L,w,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,w){var v=this._validate(L,w,this.minDay,d.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,w,v){return this.dayOfWeek(L,w,v)!==5},toJD:function(L,w,v){var g=this._validate(L,w,v,d.local.invalidDate);return L=g.year(),w=g.month(),v=g.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(w-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var w=Math.floor((30*(L-this.jdEpoch)+10646)/10631);w=w<=0?w-1:w;var v=Math.min(12,Math.ceil((L-29-this.toJD(w,1,1))/29.5)+1),g=L-this.toJD(w,v,1)+1;return this.newDate(w,v,g)}}),d.calendars.islamic=n},24747:function(H,U,e){var d=e(38700),C=e(50896);function n(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,C(n.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var w=this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),v=w.year()<0?w.year()+1:w.year();return v%4===0},weekOfYear:function(L,w,v){var g=this.newDate(L,w,v);return g.add(4-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(L,w){var v=this._validate(L,w,this.minDay,d.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,w,v){return(this.dayOfWeek(L,w,v)||7)<6},toJD:function(L,w,v){var g=this._validate(L,w,v,d.local.invalidDate);return L=g.year(),w=g.month(),v=g.day(),L<0&&L++,w<=2&&(L--,w+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(w+1))+v-1524.5},fromJD:function(L){var w=Math.floor(L+.5),v=w+1524,g=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*g),t=Math.floor((v-r)/30.6001),i=t-Math.floor(t<14?1:13),a=g-Math.floor(i>2?4716:4715),u=v-r-Math.floor(30.6001*t);return a<=0&&a--,this.newDate(a,i,u)}}),d.calendars.julian=n},65616:function(H,U,e){var d=e(38700),C=e(50896);function n(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,C(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),!1},formatYear:function(v){var g=this._validate(v,this.minMonth,this.minDay,d.local.invalidYear);v=g.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var g=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";g=g*20+t}return g},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),18},weekOfYear:function(v,g,r){return this._validate(v,g,r,d.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,d.local.invalidYear),360},daysInMonth:function(v,g){return this._validate(v,g,this.minDay,d.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,g,r){var t=this._validate(v,g,r,d.local.invalidDate);return t.day()},weekDay:function(v,g,r){return this._validate(v,g,r,d.local.invalidDate),!0},extraInfo:function(v,g,r){var t=this._validate(v,g,r,d.local.invalidDate),i=t.toJD(),a=this._toHaab(i),u=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[u[0]-1],tzolkinDay:u[0],tzolkinTrecena:u[1]}},_toHaab:function(v){v-=this.jdEpoch;var g=L(v+8+17*20,365);return[Math.floor(g/20)+1,L(g,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[w(v+20,20),w(v+4,13)]},toJD:function(v,g,r){var t=this._validate(v,g,r,d.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var g=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(g,r,t)}});function L(v,g){return v-g*Math.floor(v/g)}function w(v,g){return L(v-1,g)+1}d.calendars.mayan=n},30632:function(H,U,e){var d=e(38700),C=e(50896);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar;var L=d.instance("gregorian");C(n.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(w,v,g){var r=this.newDate(w,v,g);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(w,v){var g=this._validate(w,v,this.minDay,d.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(w,v,g){return(this.dayOfWeek(w,v,g)||7)<6},toJD:function(t,v,g){var r=this._validate(t,v,g,d.local.invalidMonth),t=r.year();t<0&&t++;for(var i=r.day(),a=1;a<r.month();a++)i+=this.daysPerMonth[a-1];return i+L.toJD(t+1468,3,13)},fromJD:function(w){w=Math.floor(w+.5);for(var v=Math.floor((w-(this.jdEpoch-1))/366);w>=this.toJD(v+1,1,1);)v++;for(var g=w-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;g>this.daysInMonth(v,r);)g-=this.daysInMonth(v,r),r++;return this.newDate(v,r,g)}}),d.calendars.nanakshahi=n},73040:function(H,U,e){var d=e(38700),C=e(50896);function n(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,C(n.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,w,v){var g=this.newDate(L,w,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(L){var w=this._validate(L,this.minMonth,this.minDay,d.local.invalidYear);if(L=w.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,g=this.minMonth;g<=12;g++)v+=this.NEPALI_CALENDAR_DATA[L][g];return v},daysInMonth:function(L,w){return L.year&&(w=L.month(),L=L.year()),this._validate(L,w,this.minDay,d.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[w-1]:this.NEPALI_CALENDAR_DATA[L][w]},weekDay:function(L,w,v){return this.dayOfWeek(L,w,v)!==6},toJD:function(L,w,v){var g=this._validate(L,w,v,d.local.invalidDate);L=g.year(),w=g.month(),v=g.day();var r=d.instance(),t=0,i=w,a=L;this._createMissingCalendarData(L);var u=L-(i>9||i===9&&v>=this.NEPALI_CALENDAR_DATA[a][0]?56:57);for(w!==9&&(t=v,i--);i!==9;)i<=0&&(i=12,a--),t+=this.NEPALI_CALENDAR_DATA[a][i],i--;return w===9?(t+=v-this.NEPALI_CALENDAR_DATA[a][0],t<0&&(t+=r.daysInYear(u))):t+=this.NEPALI_CALENDAR_DATA[a][9]-this.NEPALI_CALENDAR_DATA[a][0],r.newDate(u,1,1).add(t,"d").toJD()},fromJD:function(L){var w=d.instance(),v=w.fromJD(L),g=v.year(),r=v.dayOfYear(),t=g+56;this._createMissingCalendarData(t);for(var i=9,a=this.NEPALI_CALENDAR_DATA[t][0],u=this.NEPALI_CALENDAR_DATA[t][i]-a+1;r>u;)i++,i>12&&(i=1,t++),u+=this.NEPALI_CALENDAR_DATA[t][i];var f=this.NEPALI_CALENDAR_DATA[t][i]-(u-r);return this.newDate(t,i,f)},_createMissingCalendarData:function(L){var w=this.daysPerMonth.slice(0);w.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=w)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),d.calendars.nepali=n},1104:function(H,U,e){var d=e(38700),C=e(50896);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,C(n.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,d.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(w,v,g){var r=this.newDate(w,v,g);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(w,v){var g=this._validate(w,v,this.minDay,d.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(w,v,g){return this.dayOfWeek(w,v,g)!==5},toJD:function(w,v,g){var r=this._validate(w,v,g,d.local.invalidDate);w=r.year(),v=r.month(),g=r.day();var t=w-(w>=0?474:473),i=474+L(t,2820);return g+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((i*682-110)/2816)+(i-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w)+.5;var v=w-this.toJD(475,1,1),g=Math.floor(v/1029983),r=L(v,1029983),t=2820;if(r!==1029982){var i=Math.floor(r/366),a=L(r,366);t=Math.floor((2134*i+2816*a+2815)/1028522)+i+1}var u=t+2820*g+474;u=u<=0?u-1:u;var f=w-this.toJD(u,1,1)+1,l=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),m=w-this.toJD(u,l,1)+1;return this.newDate(u,l,m)}});function L(w,v){return w-v*Math.floor(w/v)}d.calendars.persian=n,d.calendars.jalali=n},51456:function(H,U,e){var d=e(38700),C=e(50896),n=d.instance();function L(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}L.prototype=new d.baseCalendar,C(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(g){var v=this._validate(g,this.minMonth,this.minDay,d.local.invalidYear),g=this._t2gYear(v.year());return n.leapYear(g)},weekOfYear:function(t,v,g){var r=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear),t=this._t2gYear(r.year());return n.weekOfYear(t,r.month(),r.day())},daysInMonth:function(w,v){var g=this._validate(w,v,this.minDay,d.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(w,v,g){return(this.dayOfWeek(w,v,g)||7)<6},toJD:function(t,v,g){var r=this._validate(t,v,g,d.local.invalidDate),t=this._t2gYear(r.year());return n.toJD(t,r.month(),r.day())},fromJD:function(w){var v=n.fromJD(w),g=this._g2tYear(v.year());return this.newDate(g,v.month(),v.day())},_t2gYear:function(w){return w+this.yearsOffset+(w>=-this.yearsOffset&&w<=-1?1:0)},_g2tYear:function(w){return w-this.yearsOffset-(w>=1&&w<=this.yearsOffset?1:0)}}),d.calendars.taiwan=L},4592:function(H,U,e){var d=e(38700),C=e(50896),n=d.instance();function L(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}L.prototype=new d.baseCalendar,C(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var v=this._validate(g,this.minMonth,this.minDay,d.local.invalidYear),g=this._t2gYear(v.year());return n.leapYear(g)},weekOfYear:function(t,v,g){var r=this._validate(t,this.minMonth,this.minDay,d.local.invalidYear),t=this._t2gYear(r.year());return n.weekOfYear(t,r.month(),r.day())},daysInMonth:function(w,v){var g=this._validate(w,v,this.minDay,d.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(w,v,g){return(this.dayOfWeek(w,v,g)||7)<6},toJD:function(t,v,g){var r=this._validate(t,v,g,d.local.invalidDate),t=this._t2gYear(r.year());return n.toJD(t,r.month(),r.day())},fromJD:function(w){var v=n.fromJD(w),g=this._g2tYear(v.year());return this.newDate(g,v.month(),v.day())},_t2gYear:function(w){return w-this.yearsOffset-(w>=1&&w<=this.yearsOffset?1:0)},_g2tYear:function(w){return w+this.yearsOffset+(w>=-this.yearsOffset&&w<=-1?1:0)}}),d.calendars.thai=L},45348:function(H,U,e){var d=e(38700),C=e(50896);function n(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}n.prototype=new d.baseCalendar,C(n.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,d.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(w,v,g){var r=this.newDate(w,v,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(w){for(var v=0,g=1;g<=12;g++)v+=this.daysInMonth(w,g);return v},daysInMonth:function(w,v){for(var g=this._validate(w,v,this.minDay,d.local.invalidMonth),r=g.toJD()-24e5+.5,t=0,i=0;i<L.length;i++){if(L[i]>r)return L[t]-L[t-1];t++}return 30},weekDay:function(w,v,g){return this.dayOfWeek(w,v,g)!==5},toJD:function(w,v,g){var r=this._validate(w,v,g,d.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,i=r.day()+L[t-1]-1;return i+24e5-.5},fromJD:function(w){for(var v=w-24e5+.5,g=0,r=0;r<L.length&&!(L[r]>v);r++)g++;var t=g+15292,i=Math.floor((t-1)/12),a=i+1,u=t-12*i,f=v-L[g-1]+1;return this.newDate(a,u,f)},isValid:function(w,v,g){var r=d.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(w=w.year!=null?w.year:w,r=w>=1276&&w<=1500),r},_validate:function(w,v,g,r){var t=d.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),d.calendars.ummalqura=n;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(H,U,e){var d=e(50896);function C(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}d(C.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var i=this._localCals[r+"-"+t];if(!i&&this.calendars[r]&&(i=new this.calendars[r](t),this._localCals[r+"-"+t]=i),!i)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return i},newDate:function(r,t,i,a,u){return a=(r!=null&&r.year?r.calendar():typeof a=="string"?this.instance(a,u):a)||this.instance(),a.newDate(r,t,i)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(i){return r[i]})}},substituteChineseDigits:function(r,t){return function(i){for(var a="",u=0;i>0;){var f=i%10;a=(f===0?"":r[f]+t[u])+a,u++,i=Math.floor(i/10)}return a.indexOf(r[1]+t[1])===0&&(a=a.substr(1)),a||r[0]}}});function n(r,t,i,a){if(this._calendar=r,this._year=t,this._month=i,this._day=a,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}d(n.prototype,{newDate:function(r,t,i){return this._calendar.newDate(r??this,t,i)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,i){if(!this._calendar.isValid(r,t,i))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=i,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function w(){this.shortYearCutoff="+10"}d(w.prototype,{_validateLevel:0,newDate:function(r,t,i){return r==null?this.today():(r.year&&(this._validate(r,t,i,g.local.invalidDate||g.regionalOptions[""].invalidDate),i=r.day(),t=r.month(),r=r.year()),new n(this,r,t,i))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+L(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var i=this._validate(r,t,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return(i.month()+this.monthsInYear(i)-this.firstMonth)%this.monthsInYear(i)+this.minMonth},fromMonthOfYear:function(r,t){var i=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,i,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth),i},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,i){var a=this._validate(r,t,i,g.local.invalidDate||g.regionalOptions[""].invalidDate);return a.toJD()-this.newDate(a.year(),this.fromMonthOfYear(a.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,i){var a=this._validate(r,t,i,g.local.invalidDate||g.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(a))+2)%this.daysInWeek()},extraInfo:function(r,t,i){return this._validate(r,t,i,g.local.invalidDate||g.regionalOptions[""].invalidDate),{}},add:function(r,t,i){return this._validate(r,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,i),t,i)},_add:function(r,t,i){if(this._validateLevel++,i==="d"||i==="w"){var a=r.toJD()+t*(i==="w"?this.daysInWeek():1),u=r.calendar().fromJD(a);return this._validateLevel--,[u.year(),u.month(),u.day()]}try{var f=r.year()+(i==="y"?t:0),l=r.monthOfYear()+(i==="m"?t:0),u=r.day(),m=function(c){for(;l<c.minMonth;)f--,l+=c.monthsInYear(f);for(var o=c.monthsInYear(f);l>o-1+c.minMonth;)f++,l-=o,o=c.monthsInYear(f)};i==="y"?(r.month()!==this.fromMonthOfYear(f,l)&&(l=this.newDate(f,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(f)),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,l)))):i==="m"&&(m(this),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,l))));var h=[f,this.fromMonthOfYear(f,l),u];return this._validateLevel--,h}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,t,i,a){if(!this.hasYearZero&&(a==="y"||a==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var u={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[a],f=i<0?-1:1;t=this._add(r,i*u[0]+f*u[1],u[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,i){this._validate(r,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate);var a=i==="y"?t:r.year(),u=i==="m"?t:r.month(),f=i==="d"?t:r.day();return(i==="y"||i==="m")&&(f=Math.min(f,this.daysInMonth(a,u))),r.date(a,u,f)},isValid:function(r,t,i){this._validateLevel++;var a=this.hasYearZero||r!==0;if(a){var u=this.newDate(r,t,this.minDay);a=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(u)&&i>=this.minDay&&i-this.minDay<this.daysInMonth(u)}return this._validateLevel--,a},toJSDate:function(r,t,i){var a=this._validate(r,t,i,g.local.invalidDate||g.regionalOptions[""].invalidDate);return g.instance().fromJD(this.toJD(a)).toJSDate()},fromJSDate:function(r){return this.fromJD(g.instance().fromJSDate(r).toJD())},_validate:function(r,t,i,a){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,i))throw a.replace(/\{0\}/,this.local.name);var u=this.newDate(r,t,i);return this._validateLevel--,u}catch(f){throw this._validateLevel--,f}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new w,d(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var t=this._validate(i,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),i=t.year()+(t.year()<0?1:0);return i%4===0&&(i%100!==0||i%400===0)},weekOfYear:function(r,t,i){var a=this.newDate(r,t,i);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var i=this._validate(r,t,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(r,t,i){return(this.dayOfWeek(r,t,i)||7)<6},toJD:function(r,t,i){var a=this._validate(r,t,i,g.local.invalidDate||g.regionalOptions[""].invalidDate);r=a.year(),t=a.month(),i=a.day(),r<0&&r++,t<3&&(t+=12,r--);var u=Math.floor(r/100),f=2-u+Math.floor(u/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+i+f-1524.5},fromJD:function(r){var t=Math.floor(r+.5),i=Math.floor((t-186721625e-2)/36524.25);i=t+1+i-Math.floor(i/4);var a=i+1524,u=Math.floor((a-122.1)/365.25),f=Math.floor(365.25*u),l=Math.floor((a-f)/30.6001),m=a-f-Math.floor(l*30.6001),h=l-(l>13.5?13:1),T=u-(h>2.5?4716:4715);return T<=0&&T--,this.newDate(T,h,m)},toJSDate:function(r,t,i){var a=this._validate(r,t,i,g.local.invalidDate||g.regionalOptions[""].invalidDate),u=new Date(a.year(),a.month()-1,a.day());return u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0),u.setHours(u.getHours()>12?u.getHours()+2:0),u},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var g=H.exports=new C;g.cdate=n,g.baseCalendar=w,g.calendars.gregorian=v},15168:function(H,U,e){var d=e(50896),C=e(38700);d(C.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),C.local=C.regionalOptions[""],d(C.cdate.prototype,{formatDate:function(n,L){return typeof n!="string"&&(L=n,n=""),this._calendar.formatDate(n||"",this,L)}}),d(C.baseCalendar.prototype,{UNIX_EPOCH:C.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:C.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(n,L,w){if(typeof n!="string"&&(w=L,L=n,n=""),!L)return"";if(L.calendar()!==this)throw C.local.invalidFormat||C.regionalOptions[""].invalidFormat;n=n||this.local.dateFormat,w=w||{};var v=w.dayNamesShort||this.local.dayNamesShort,g=w.dayNames||this.local.dayNames,r=w.monthNumbers||this.local.monthNumbers,t=w.monthNamesShort||this.local.monthNamesShort,i=w.monthNames||this.local.monthNames;w.calculateWeek||this.local.calculateWeek;for(var a=function(A,_){for(var y=1;x+y<n.length&&n.charAt(x+y)===A;)y++;return x+=y-1,Math.floor(y/(_||1))>1},u=function(A,_,y,E){var M=""+_;if(a(A,E))for(;M.length<y;)M="0"+M;return M},f=function(A,_,y,E){return a(A)?E[_]:y[_]},l=this,m=function(A){return typeof r=="function"?r.call(l,A,a("m")):c(u("m",A.month(),2))},h=function(A,_){return _?typeof i=="function"?i.call(l,A):i[A.month()-l.minMonth]:typeof t=="function"?t.call(l,A):t[A.month()-l.minMonth]},T=this.local.digits,c=function(A){return w.localNumbers&&T?T(A):A},o="",p=!1,x=0;x<n.length;x++)if(p)n.charAt(x)==="'"&&!a("'")?p=!1:o+=n.charAt(x);else switch(n.charAt(x)){case"d":o+=c(u("d",L.day(),2));break;case"D":o+=f("D",L.dayOfWeek(),v,g);break;case"o":o+=u("o",L.dayOfYear(),3);break;case"w":o+=u("w",L.weekOfYear(),2);break;case"m":o+=m(L);break;case"M":o+=h(L,a("M"));break;case"y":o+=a("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":a("Y",2),o+=L.formatYear();break;case"J":o+=L.toJD();break;case"@":o+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":a("'")?o+="'":p=!0;break;default:o+=n.charAt(x)}return o},parseDate:function(n,L,w){if(L==null)throw C.local.invalidArguments||C.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;n=n||this.local.dateFormat,w=w||{};var v=w.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var g=w.dayNamesShort||this.local.dayNamesShort,r=w.dayNames||this.local.dayNames,t=w.parseMonth||this.local.parseMonth,i=w.monthNumbers||this.local.monthNumbers,a=w.monthNamesShort||this.local.monthNamesShort,u=w.monthNames||this.local.monthNames,f=-1,l=-1,m=-1,h=-1,T=-1,c=!1,o=!1,p=function(D,B){for(var k=1;S+k<n.length&&n.charAt(S+k)===D;)k++;return S+=k-1,Math.floor(k/(B||1))>1},x=function(D,B){var k=p(D,B),F=[2,3,k?4:2,k?4:2,10,11,20]["oyYJ@!".indexOf(D)+1],N=new RegExp("^-?\\d{1,"+F+"}"),O=L.substring(s).match(N);if(!O)throw(C.local.missingNumberAt||C.regionalOptions[""].missingNumberAt).replace(/\{0\}/,s);return s+=O[0].length,parseInt(O[0],10)},A=this,_=function(){if(typeof i=="function"){p("m");var D=i.call(A,L.substring(s));return s+=D.length,D}return x("m")},y=function(D,B,k,F){for(var N=p(D,F)?k:B,O=0;O<N.length;O++)if(L.substr(s,N[O].length).toLowerCase()===N[O].toLowerCase())return s+=N[O].length,O+A.minMonth;throw(C.local.unknownNameAt||C.regionalOptions[""].unknownNameAt).replace(/\{0\}/,s)},E=function(){if(typeof u=="function"){var D=p("M")?u.call(A,L.substring(s)):a.call(A,L.substring(s));return s+=D.length,D}return y("M",a,u)},M=function(){if(L.charAt(s)!==n.charAt(S))throw(C.local.unexpectedLiteralAt||C.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,s);s++},s=0,S=0;S<n.length;S++)if(o)n.charAt(S)==="'"&&!p("'")?o=!1:M();else switch(n.charAt(S)){case"d":h=x("d");break;case"D":y("D",g,r);break;case"o":T=x("o");break;case"w":x("w");break;case"m":m=_();break;case"M":m=E();break;case"y":var b=S;c=!p("y",2),S=b,l=x("y",2);break;case"Y":l=x("Y",2);break;case"J":f=x("J")+.5,L.charAt(s)==="."&&(s++,x("J"));break;case"@":f=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":s=L.length;break;case"'":p("'")?M():o=!0;break;default:M()}if(s<L.length)throw C.local.unexpectedText||C.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&c&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof m=="string"&&(m=t.call(this,l,m)),T>-1){m=1,h=T;for(var I=this.daysInMonth(l,m);h>I;I=this.daysInMonth(l,m))m++,h-=I}return f>-1?this.fromJD(f):this.newDate(l,m,h)},determineDate:function(n,L,w,v,g){w&&typeof w!="object"&&(g=v,v=w,w=null),typeof v!="string"&&(g=v,v="");var r=this,t=function(i){try{return r.parseDate(v,i,g)}catch{}i=i.toLowerCase();for(var a=(i.match(/^c/)&&w?w.newDate():null)||r.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=u.exec(i);f;)a.add(parseInt(f[1],10),f[2]||"d"),f=u.exec(i);return a};return L=L?L.newDate():null,n=n==null?L:typeof n=="string"?t(n):typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?L:r.today().add(n,"d"):r.newDate(n),n}})},21576:function(){},19768:function(){},63436:function(H,U,e){var d=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?e.g:globalThis;H.exports=function(){for(var L=[],w=0;w<d.length;w++)typeof C[d[w]]=="function"&&(L[L.length]=d[w]);return L}},67756:function(H,U,e){e.d(U,{qy:function(){return Ce},Gz:function(){return le}});function d(be,Pe,Ve){be.prototype=Pe.prototype=Ve,Ve.constructor=be}function C(be,Pe){var Ve=Object.create(be.prototype);for(var Ge in Pe)Ve[Ge]=Pe[Ge];return Ve}function n(){}var L=.7,w=1/L,v="\\s*([+-]?\\d+)\\s*",g="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,i=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),a=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),u=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(g,"\\)$")),f=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(g,"\\)$")),l=new RegExp("^hsl\\(".concat(g,",").concat(r,",").concat(r,"\\)$")),m=new RegExp("^hsla\\(".concat(g,",").concat(r,",").concat(r,",").concat(g,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d(n,x,{copy:function(Pe){return Object.assign(new this.constructor,this,Pe)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:c,formatHsl:o,formatRgb:p,toString:p});function T(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function o(){return F(this).formatHsl()}function p(){return this.rgb().formatRgb()}function x(be){var Pe,Ve;return be=(be+"").trim().toLowerCase(),(Pe=t.exec(be))?(Ve=Pe[1].length,Pe=parseInt(Pe[1],16),Ve===6?A(Pe):Ve===3?new M(Pe>>8&15|Pe>>4&240,Pe>>4&15|Pe&240,(Pe&15)<<4|Pe&15,1):Ve===8?_(Pe>>24&255,Pe>>16&255,Pe>>8&255,(Pe&255)/255):Ve===4?_(Pe>>12&15|Pe>>8&240,Pe>>8&15|Pe>>4&240,Pe>>4&15|Pe&240,((Pe&15)<<4|Pe&15)/255):null):(Pe=i.exec(be))?new M(Pe[1],Pe[2],Pe[3],1):(Pe=a.exec(be))?new M(Pe[1]*255/100,Pe[2]*255/100,Pe[3]*255/100,1):(Pe=u.exec(be))?_(Pe[1],Pe[2],Pe[3],Pe[4]):(Pe=f.exec(be))?_(Pe[1]*255/100,Pe[2]*255/100,Pe[3]*255/100,Pe[4]):(Pe=l.exec(be))?k(Pe[1],Pe[2]/100,Pe[3]/100,1):(Pe=m.exec(be))?k(Pe[1],Pe[2]/100,Pe[3]/100,Pe[4]):h.hasOwnProperty(be)?A(h[be]):be==="transparent"?new M(NaN,NaN,NaN,0):null}function A(be){return new M(be>>16&255,be>>8&255,be&255,1)}function _(be,Pe,Ve,Ge){return Ge<=0&&(be=Pe=Ve=NaN),new M(be,Pe,Ve,Ge)}function y(be){return be instanceof n||(be=x(be)),be?(be=be.rgb(),new M(be.r,be.g,be.b,be.opacity)):new M}function E(be,Pe,Ve,Ge){return arguments.length===1?y(be):new M(be,Pe,Ve,Ge??1)}function M(be,Pe,Ve,Ge){this.r=+be,this.g=+Pe,this.b=+Ve,this.opacity=+Ge}d(M,E,C(n,{brighter:function(Pe){return Pe=Pe==null?w:Math.pow(w,Pe),new M(this.r*Pe,this.g*Pe,this.b*Pe,this.opacity)},darker:function(Pe){return Pe=Pe==null?L:Math.pow(L,Pe),new M(this.r*Pe,this.g*Pe,this.b*Pe,this.opacity)},rgb:function(){return this},clamp:function(){return new M(D(this.r),D(this.g),D(this.b),I(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s,formatHex:s,formatHex8:S,formatRgb:b,toString:b}));function s(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b))}function S(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b)).concat(B((isNaN(this.opacity)?1:this.opacity)*255))}function b(){var be=I(this.opacity);return"".concat(be===1?"rgb(":"rgba(").concat(D(this.r),", ").concat(D(this.g),", ").concat(D(this.b)).concat(be===1?")":", ".concat(be,")"))}function I(be){return isNaN(be)?1:Math.max(0,Math.min(1,be))}function D(be){return Math.max(0,Math.min(255,Math.round(be)||0))}function B(be){return be=D(be),(be<16?"0":"")+be.toString(16)}function k(be,Pe,Ve,Ge){return Ge<=0?be=Pe=Ve=NaN:Ve<=0||Ve>=1?be=Pe=NaN:Pe<=0&&(be=NaN),new O(be,Pe,Ve,Ge)}function F(be){if(be instanceof O)return new O(be.h,be.s,be.l,be.opacity);if(be instanceof n||(be=x(be)),!be)return new O;if(be instanceof O)return be;be=be.rgb();var Pe=be.r/255,Ve=be.g/255,Ge=be.b/255,Fe=Math.min(Pe,Ve,Ge),He=Math.max(Pe,Ve,Ge),ft=NaN,gt=He-Fe,ct=(He+Fe)/2;return gt?(Pe===He?ft=(Ve-Ge)/gt+(Ve<Ge)*6:Ve===He?ft=(Ge-Pe)/gt+2:ft=(Pe-Ve)/gt+4,gt/=ct<.5?He+Fe:2-He-Fe,ft*=60):gt=ct>0&&ct<1?0:ft,new O(ft,gt,ct,be.opacity)}function N(be,Pe,Ve,Ge){return arguments.length===1?F(be):new O(be,Pe,Ve,Ge??1)}function O(be,Pe,Ve,Ge){this.h=+be,this.s=+Pe,this.l=+Ve,this.opacity=+Ge}d(O,N,C(n,{brighter:function(Pe){return Pe=Pe==null?w:Math.pow(w,Pe),new O(this.h,this.s,this.l*Pe,this.opacity)},darker:function(Pe){return Pe=Pe==null?L:Math.pow(L,Pe),new O(this.h,this.s,this.l*Pe,this.opacity)},rgb:function(){var Pe=this.h%360+(this.h<0)*360,Ve=isNaN(Pe)||isNaN(this.s)?0:this.s,Ge=this.l,Fe=Ge+(Ge<.5?Ge:1-Ge)*Ve,He=2*Ge-Fe;return new M(ee(Pe>=240?Pe-240:Pe+120,He,Fe),ee(Pe,He,Fe),ee(Pe<120?Pe+240:Pe-120,He,Fe),this.opacity)},clamp:function(){return new O(V(this.h),X(this.s),X(this.l),I(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Pe=I(this.opacity);return"".concat(Pe===1?"hsl(":"hsla(").concat(V(this.h),", ").concat(X(this.s)*100,"%, ").concat(X(this.l)*100,"%").concat(Pe===1?")":", ".concat(Pe,")"))}}));function V(be){return be=(be||0)%360,be<0?be+360:be}function X(be){return Math.max(0,Math.min(1,be||0))}function ee(be,Pe,Ve){return(be<60?Pe+(Ve-Pe)*be/60:be<180?Ve:be<240?Pe+(Ve-Pe)*(240-be)/60:Pe)*255}var ne=function(be){return function(){return be}};function q(be,Pe){return function(Ve){return be+Ve*Pe}}function se(be,Pe,Ve){return be=Math.pow(be,Ve),Pe=Math.pow(Pe,Ve)-be,Ve=1/Ve,function(Ge){return Math.pow(be+Ge*Pe,Ve)}}function J(be){return(be=+be)==1?Z:function(Pe,Ve){return Ve-Pe?se(Pe,Ve,be):ne(isNaN(Pe)?Ve:Pe)}}function Z(be,Pe){var Ve=Pe-be;return Ve?q(be,Ve):ne(isNaN(be)?Pe:be)}var te=function be(Pe){var Ve=J(Pe);function Ge(Fe,He){var ft=Ve((Fe=E(Fe)).r,(He=E(He)).r),gt=Ve(Fe.g,He.g),ct=Ve(Fe.b,He.b),nt=Z(Fe.opacity,He.opacity);return function(dt){return Fe.r=ft(dt),Fe.g=gt(dt),Fe.b=ct(dt),Fe.opacity=nt(dt),Fe+""}}return Ge.gamma=be,Ge}(1);function Y(be,Pe){var Ve=Pe?Pe.length:0,Ge=be?Math.min(Ve,be.length):0,Fe=new Array(Ge),He=new Array(Ve),ft;for(ft=0;ft<Ge;++ft)Fe[ft]=Ce(be[ft],Pe[ft]);for(;ft<Ve;++ft)He[ft]=Pe[ft];return function(gt){for(ft=0;ft<Ge;++ft)He[ft]=Fe[ft](gt);return He}}function ie(be,Pe){var Ve=new Date;return be=+be,Pe=+Pe,function(Ge){return Ve.setTime(be*(1-Ge)+Pe*Ge),Ve}}function le(be,Pe){return be=+be,Pe=+Pe,function(Ve){return be*(1-Ve)+Pe*Ve}}function j(be){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},j(be)}function K(be,Pe){var Ve={},Ge={},Fe;(be===null||j(be)!=="object")&&(be={}),(Pe===null||j(Pe)!=="object")&&(Pe={});for(Fe in Pe)Fe in be?Ve[Fe]=Ce(be[Fe],Pe[Fe]):Ge[Fe]=Pe[Fe];return function(He){for(Fe in Ve)Ge[Fe]=Ve[Fe](He);return Ge}}var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ae=new RegExp(ue.source,"g");function he(be){return function(){return be}}function xe(be){return function(Pe){return be(Pe)+""}}function Se(be,Pe){var Ve=ue.lastIndex=ae.lastIndex=0,Ge,Fe,He,ft=-1,gt=[],ct=[];for(be=be+"",Pe=Pe+"";(Ge=ue.exec(be))&&(Fe=ae.exec(Pe));)(He=Fe.index)>Ve&&(He=Pe.slice(Ve,He),gt[ft]?gt[ft]+=He:gt[++ft]=He),(Ge=Ge[0])===(Fe=Fe[0])?gt[ft]?gt[ft]+=Fe:gt[++ft]=Fe:(gt[++ft]=null,ct.push({i:ft,x:le(Ge,Fe)})),Ve=ae.lastIndex;return Ve<Pe.length&&(He=Pe.slice(Ve),gt[ft]?gt[ft]+=He:gt[++ft]=He),gt.length<2?ct[0]?xe(ct[0].x):he(Pe):(Pe=ct.length,function(nt){for(var dt=0,pt;dt<Pe;++dt)gt[(pt=ct[dt]).i]=pt.x(nt);return gt.join("")})}function Ae(be,Pe){Pe||(Pe=[]);var Ve=be?Math.min(Pe.length,be.length):0,Ge=Pe.slice(),Fe;return function(He){for(Fe=0;Fe<Ve;++Fe)Ge[Fe]=be[Fe]*(1-He)+Pe[Fe]*He;return Ge}}function De(be){return ArrayBuffer.isView(be)&&!(be instanceof DataView)}function we(be){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},we(be)}function Ce(be,Pe){var Ve=we(Pe),Ge;return Pe==null||Ve==="boolean"?ne(Pe):(Ve==="number"?le:Ve==="string"?(Ge=x(Pe))?(Pe=Ge,te):Se:Pe instanceof x?te:Pe instanceof Date?ie:De(Pe)?Ae:Array.isArray(Pe)?Y:typeof Pe.valueOf!="function"&&typeof Pe.toString!="function"||isNaN(Pe)?K:le)(be,Pe)}},30584:function(H){H.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(H){H.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(H){H.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(H){H.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(H){H.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(H){H.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},de={};function Le(H){var U=de[H];if(U!==void 0)return U.exports;var e=de[H]={exports:{}};return Q[H].call(e.exports,e,e.exports,Le),e.exports}(function(){Le.n=function(H){var U=H&&H.__esModule?function(){return H.default}:function(){return H};return Le.d(U,{a:U}),U}})(),function(){Le.d=function(H,U){for(var e in U)Le.o(U,e)&&!Le.o(H,e)&&Object.defineProperty(H,e,{enumerable:!0,get:U[e]})}}(),function(){Le.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Le.o=function(H,U){return Object.prototype.hasOwnProperty.call(H,U)}}(),function(){Le.r=function(H){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})}}();var We=Le(13792);return We}()})})(mS);var PO=mS.exports;const sg=mM(PO),SA=["plotly_click","plotly_hover","plotly_unhover","plotly_selecting","plotly_selected","plotly_restyle","plotly_relayout","plotly_autosize","plotly_deselect","plotly_doubleclick","plotly_redraw","plotly_animated","plotly_afterplot"],RO=["downloadImage","restyle","relayout","update","addTraces","deleteTraces","moveTraces","extendTraces","prependTraces","purge"],DO=["id"],IO={__name:"VuePlotly",props:["data","layout","config"],emits:SA,setup(G,{expose:z,emit:Q}){const de=G,Le=Q,We=Qo(el.uniqueId("plotly-")),H=Qo(null),U=new ResizeObserver(el.debounce(C,50)),e=el.mapValues(RO,n=>{const L=sg[n];return(...w)=>L(H.value,...w)});let d=!1;function C(){sg.Plots.resize(H.value)}return PP(async()=>{if(d)sg.react(We.value,de.data,de.layout,de.config);else if(H.value){const n=await sg.newPlot(We.value,de.data,de.layout,de.config);U.observe(n),SA.forEach(L=>{n.on(L,(...w)=>Le(L,...w))}),d=!0}}),f6(()=>{U.disconnect(),sg.purge(H.value)}),z({plotlyId:We,...e}),(n,L)=>(mo(),To("div",{ref_key:"divRef",ref:H,id:We.value},null,8,DO))}},kO={__name:"CategoryPlot",setup(G){const z=hd(),Q=Qo([]),de={margin:{l:50,r:50,b:50,t:50,pad:4},height:320,title:""};function Le(We){const H=We.points[0];z.clickTransaction={time:H.x,category:H.data.name.split(" ")[0]}}return oh(()=>[z.updateCount,z.categories,z.filterCategory],async()=>{let We=z.categories;z.filterCategory&&(We=el.filter(We,U=>U.key===z.filterCategory));let H=[];for(let U of We){if(U.key==="X")continue;let e={x:[],y:[],type:"scatter",name:U.key+" - "+U.desc},d=0;for(let C of z.rows)C[4]===U.key&&(e.x.push(C[1]),d+=C[3],e.y.push(d));H.push(e)}Q.value=H}),(We,H)=>(mo(),l7(IO,{onPlotly_click:Le,data:Q.value,layout:de},null,8,["data"]))}},OO=Ba("div",{class:"d-inline"},[Ba("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#autofill-panel","aria-controls":"autofill-panel"}," Autofill ")],-1),zO={class:"offcanvas offcanvas-start",tabindex:"-1",id:"autofill-panel","aria-labelledby":"autofill-title"},FO={class:"offcanvas-header"},NO=Ba("h5",{class:"offcanvas-title",id:"autofill-title"},"Autofill panel",-1),BO=Ba("div",{class:"px-2"},null,-1),UO=Ba("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),VO={class:"offcanvas-body"},HO={class:"d-flex flex-row mb-3"},GO=["for"],WO=["onUpdate:modelValue","id"],YO={__name:"AutofillPanel",setup(G){const z=hd();return(Q,de)=>(mo(),To(Os,null,[OO,Ba("div",zO,[Ba("div",FO,[NO,BO,Ba("button",{class:"btn btn-outline-secondary",onClick:de[0]||(de[0]=(...Le)=>Zi(z).autofill&&Zi(z).autofill(...Le))},"Recalculate"),UO]),Ba("div",VO,[(mo(!0),To(Os,null,tv(Zi(z).categories,Le=>(mo(),To("div",{key:Le},[Ba("div",HO,[Ba("label",{class:"mt-2",for:Le+"Form"},fu(Le.key),9,GO),i0(Ba("textarea",{"onUpdate:modelValue":We=>Le.filter=We,class:"ms-2 form-control",id:Le+"Form",onBlur:de[1]||(de[1]=We=>Zi(z).keyLock=!1),onFocus:de[2]||(de[2]=We=>Zi(z).keyLock=!0),rows:"3"},null,40,WO),[[Pg,Le.filter]])])]))),128))])])],64))}},XO=Ba("div",{class:"d-inline"},[Ba("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#summary-panel","aria-controls":"summary-panel"}," Summary ")],-1),ZO={class:"offcanvas offcanvas-start",tabindex:"-1",id:"summary-panel","aria-labelledby":"summary-title"},jO=Ba("div",{class:"offcanvas-header"},[Ba("h5",{class:"offcanvas-title",id:"summary-title"},"Summary"),Ba("div",{class:"px-2"}),Ba("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),KO={class:"offcanvas-body"},JO={class:"d-flex flex-row gap-2 align-items-center"},$O=Ba("label",{for:"store.offsetDays"},"Skip Days =",-1),QO={class:"table"},qO=Ba("thead",null,[Ba("tr",null,[Ba("th",null,"#"),Ba("th",{class:"text-end"},"Total"),Ba("th",{class:"text-end"},"Day"),Ba("th",{class:"text-end"},"Week"),Ba("th",{class:"text-end"},"Month"),Ba("th",{class:"text-end"},"Year")])],-1),ez={class:"text-end"},tz={class:"text-end"},rz={class:"text-end"},nz={class:"text-end"},az={class:"text-end"},iz={__name:"SummaryPanel",setup(G){const z=hd(),Q=Qo([]),de=Qo(null),Le=Qo(null),We=Qo(null);return oh(()=>[z.offsetDays],()=>{z.updateOffsetDays()}),oh(()=>[z.updateCount,z.offsetDays,z.categories],()=>{if(!z.categories)return;let H=el.filter(el.map(z.rows,C=>C[1]));if(!H.length)return;H=el.map(H,Bi.fromISO),H.sort((C,n)=>n-C);let U=As.fromDateTimes(el.last(H),el.head(H));de.value=U.length("days")-z.offsetDays,Le.value=(de.value/7).toFixed(2),We.value=(de.value/30).toFixed(2),Q.value=[];for(let C of z.categories){let n={sum:0,key:C.key,desc:C.key+": "+C.desc};for(let L of z.rows)L[4]===C.key&&(n.sum=n.sum+L[3]);Q.value.push(n)}let e=0;for(let C of z.rows)C[4]||(e+=C[3]);let d=Q.value.length-1;Q.value[d].sum+=e;for(let C of Q.value)C.sumDay=(C.sum/de.value).toFixed(0),C.sumWeek=(C.sum/Le.value).toFixed(0),C.sumMonth=(C.sum/We.value).toFixed(0),C.sum=C.sum.toFixed(0),C.sumYear=C.sumMonth*12}),(H,U)=>(mo(),To(Os,null,[XO,Ba("div",ZO,[jO,Ba("div",KO,[Ba("p",null,[_g(" Day = "+fu(de.value)+"  Week = "+fu(Le.value)+"  Month = "+fu(We.value)+" ",1),Ba("div",JO,[$O,i0(Ba("input",{class:"form-control",id:"offsetDay","onUpdate:modelValue":U[0]||(U[0]=e=>Zi(z).offsetDays=e),style:{width:"4.5em"},type:"number",required:""},null,512),[[Pg,Zi(z).offsetDays]])])]),Ba("table",QO,[qO,Ba("tbody",null,[(mo(!0),To(Os,null,tv(Q.value,(e,d)=>(mo(),To("tr",{key:d},[Ba("td",null,fu(e.key),1),Ba("td",ez,fu(e.sum),1),Ba("td",tz,fu(e.sumDay),1),Ba("td",rz,fu(e.sumWeek),1),Ba("td",nz,fu(e.sumMonth),1),Ba("td",az,fu(e.sumYear),1)]))),128))])])])])],64))}},oz={class:"d-flex flex-row align-items-center py-2 gap-2"},EA="font-size: 1.2em; font-weight: 500",sz={__name:"EditBox",props:["text","handleText"],setup(G){const z=hd(),Q=G,de=Qo(""),Le=Qo(null),We=Qo(!1);function H(){de.value=Q.text,We.value=!0,Xg(()=>{document.addEventListener("keydown",e),z.keyLock=!0,Le.value.focus()})}function U(){We.value=!1,z.keyLock=!1,document.removeEventListener("keydown",e)}function e(d){d.key==="Escape"?U():d.key==="Enter"&&(Q.handleText(de.value),U())}return(d,C)=>(mo(),To("div",oz,[We.value?i0((mo(),To("input",{key:0,type:"text",style:EA,ref_key:"input",ref:Le,"onUpdate:modelValue":C[0]||(C[0]=n=>de.value=n),onBlur:U,class:"form-control"},null,544)),[[Pg,de.value]]):(mo(),To(Os,{key:1},[Ba("div",{style:EA,class:"form-control",onClick:H},fu(Q.text),1),Go(Zi(n1),{class:"text-black-50",icon:Zi(xI)},null,8,["icon"])],64))]))}},lz=Ba("div",{class:"d-inline"},[Ba("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#category-panel","aria-controls":"category-panel"}," Categories ")],-1),uz={class:"offcanvas offcanvas-start",tabindex:"-1",id:"category-panel","aria-labelledby":"category-title"},fz={class:"offcanvas-header"},cz=Ba("h5",{class:"offcanvas-title",id:"category-title"},"Categories",-1),hz=Ba("div",{class:"px-2"},null,-1),vz=Ba("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),dz={class:"offcanvas-body"},pz={class:"d-flex flex-row mb-3 gap-2"},gz=["onUpdate:modelValue"],yz=["onUpdate:modelValue","id"],mz=["onClick"],xz={__name:"CategoriesPanel",setup(G){const z=hd();function Q(Le){const We=el.cloneDeep(z.categories);We.splice(Le,1),z.categories=We}function de(){z.categories=el.concat(z.categories,{key:"",desc:"Edit category description",filter:""})}return(Le,We)=>(mo(),To(Os,null,[lz,Ba("div",uz,[Ba("div",fz,[cz,hz,Ba("button",{class:"btn btn-outline-secondary",onClick:We[0]||(We[0]=(...H)=>Zi(z).updateCategories&&Zi(z).updateCategories(...H))},"Save"),vz]),Ba("div",dz,[(mo(!0),To(Os,null,tv(Zi(z).categories.entries(),([H,U])=>(mo(),To("div",{key:H},[Ba("div",pz,[i0(Ba("input",{class:"form-control",maxlength:"1",style:{width:"3em"},"onUpdate:modelValue":e=>U.key=e,onBlur:We[1]||(We[1]=e=>Zi(z).keyLock=!1),onFocus:We[2]||(We[2]=e=>Zi(z).keyLock=!0)},null,40,gz),[[Pg,U.key]]),i0(Ba("input",{"onUpdate:modelValue":e=>U.desc=e,class:"form-control",id:U+"Form",onBlur:We[3]||(We[3]=e=>Zi(z).keyLock=!1),onFocus:We[4]||(We[4]=e=>Zi(z).keyLock=!0)},null,40,yz),[[Pg,U.desc]]),Ba("button",{class:"btn btn-outline-secondary",onClick:e=>Q(H)},[Go(Zi(n1),{icon:Zi(yM)},null,8,["icon"])],8,mz)])]))),128)),Ba("button",{class:"btn btn-outline-secondary",onClick:de},[Go(Zi(n1),{icon:Zi(bI)},null,8,["icon"])])])])],64))}},bz={class:"p-3 d-flex flex-column",style:{height:"calc(100vh - 56px)"}},wz={class:"d-flex flex-row justify-content-between align-items-center"},Tz={class:"d-flex flex-row justify-content-between"},Az={class:"d-flex flex-row gap-2 my-2"},Mz=Ba("option",{selected:"",value:null},"-- all --",-1),Sz=["value","selected"],Ez={class:"flex-grow-1 overflow-auto card px-2"},Cz={__name:"TableView",setup(G){const z=hd(),Q=oR(),de=iR();async function Le(){await z.deleteReport(),await de.push("/")}async function We(U){await z.updateReportName(U),await de.replace(`/table/${U}`)}function H(){z.loadReport(Q.params.table)}return _1(H),oh(()=>Q.params.table,H),(U,e)=>(mo(),To("div",bz,[Ba("div",wz,[Go(sz,{text:Zi(z).table,"handle-text":We},null,8,["text"]),Ba("button",{class:"btn btn-outline-secondary",onClick:e[0]||(e[0]=d=>Le(U.table))},[Go(Zi(n1),{icon:Zi(yM)},null,8,["icon"])])]),Go(kO),Ba("div",Tz,[Ba("div",Az,[Go(YO),Go(xz),Go(iz),Ba("button",{class:"btn btn-outline-secondary",onClick:e[1]||(e[1]=(...d)=>Zi(z).downloadReportCsv&&Zi(z).downloadReportCsv(...d))},"CSV"),Ba("div",null,[i0(Ba("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":e[2]||(e[2]=d=>Zi(z).filterCategory=d)},[Mz,(mo(!0),To(Os,null,tv(Zi(z).categories,d=>(mo(),To("option",{key:d.key,value:d.key,selected:d.key===Zi(z).filterCategory}," only "+fu(d.key),9,Sz))),128))],512),[[G7,Zi(z).filterCategory]])])])]),Ba("div",Ez,[Go(_O)])]))}},Lz={class:"d-flex flex-column p-3"},_z=Ba("h1",null,"Tables",-1),Pz={class:"mt-3"},Rz={class:"list-group"},Dz={class:"py-3"},Iz=Ba("label",null,"Upload CSV",-1),kz={class:"d-flex flex-row gap-2"},Oz={__name:"HomeView",setup(G){const z=Qo([]),Q=Qo(null),de=Qo(null),Le=hd();async function We(){z.value=await Le.getReportNames()}async function H(){const U=Q.value.files[0];await CR(U,"upload_csv"),Q.value.value=null,await We()}return _1(We),(U,e)=>{const d=o6("RouterLink");return mo(),To("div",Lz,[_z,Ba("div",Pz,[Ba("ul",Rz,[(mo(!0),To(Os,null,tv(z.value,(C,n)=>(mo(),To("li",{key:n,class:"d-flex flex-row"},[Go(d,{style:{width:"20em"},class:"list-group-item list-group-item-action",to:"./table/"+C},{default:jm(()=>[_g(fu(C),1)]),_:2},1032,["to"])]))),128))])]),Ba("div",Dz,[Ba("form",{ref_key:"uploadForm",ref:de,class:"form-group"},[Iz,Ba("div",kz,[Ba("input",{class:"form-control",style:{width:"20em"},type:"file",ref_key:"uploadInput",ref:Q},null,512),Ba("button",{class:"btn btn-outline-secondary",onClick:H},"Upload")])],512)])])}}},zz=nR({history:I9("/"),routes:[{path:"/",name:"home",component:Oz},{path:"/table/:table",name:"table",component:Cz},{path:"/about",name:"about",component:()=>TR(()=>import("./AboutView-Col4HsAc.js"),__vite__mapDeps([]))}]}),O2=X7(xR);O2.use(J7());O2.use(zz);O2.mount("#app");export{U6 as _,Ba as a,To as c,mo as o};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
