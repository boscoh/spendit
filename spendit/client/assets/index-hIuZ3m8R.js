(function(){const V=document.createElement("link").relList;if(V&&V.supports&&V.supports("modulepreload"))return;for(const Ue of document.querySelectorAll('link[rel="modulepreload"]'))we(Ue);new MutationObserver(Ue=>{for(const it of Ue)if(it.type==="childList")for(const H of it.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&we(H)}).observe(document,{childList:!0,subtree:!0});function oe(Ue){const it={};return Ue.integrity&&(it.integrity=Ue.integrity),Ue.referrerPolicy&&(it.referrerPolicy=Ue.referrerPolicy),Ue.crossOrigin==="use-credentials"?it.credentials="include":Ue.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function we(Ue){if(Ue.ep)return;Ue.ep=!0;const it=oe(Ue);fetch(Ue.href,it)}})();var Du="top",jf="bottom",Kf="right",Iu="left",lm="auto",Fp=[Du,jf,Kf,Iu],Ld="start",Sp="end",xT="clippingParents",s3="viewport",hp="popper",bT="reference",Rb=Fp.reduce(function(K,V){return K.concat([V+"-"+Ld,V+"-"+Sp])},[]),l3=[].concat(Fp,[lm]).reduce(function(K,V){return K.concat([V,V+"-"+Ld,V+"-"+Sp])},[]),wT="beforeRead",TT="read",AT="afterRead",MT="beforeMain",ST="main",ET="afterMain",CT="beforeWrite",LT="write",_T="afterWrite",PT=[wT,TT,AT,MT,ST,ET,CT,LT,_T];function Ch(K){return K?(K.nodeName||"").toLowerCase():null}function Jf(K){if(K==null)return window;if(K.toString()!=="[object Window]"){var V=K.ownerDocument;return V&&V.defaultView||window}return K}function _d(K){var V=Jf(K).Element;return K instanceof V||K instanceof Element}function bc(K){var V=Jf(K).HTMLElement;return K instanceof V||K instanceof HTMLElement}function u3(K){if(typeof ShadowRoot>"u")return!1;var V=Jf(K).ShadowRoot;return K instanceof V||K instanceof ShadowRoot}function V5(K){var V=K.state;Object.keys(V.elements).forEach(function(oe){var we=V.styles[oe]||{},Ue=V.attributes[oe]||{},it=V.elements[oe];!bc(it)||!Ch(it)||(Object.assign(it.style,we),Object.keys(Ue).forEach(function(H){var U=Ue[H];U===!1?it.removeAttribute(H):it.setAttribute(H,U===!0?"":U)}))})}function H5(K){var V=K.state,oe={popper:{position:V.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(V.elements.popper.style,oe.popper),V.styles=oe,V.elements.arrow&&Object.assign(V.elements.arrow.style,oe.arrow),function(){Object.keys(V.elements).forEach(function(we){var Ue=V.elements[we],it=V.attributes[we]||{},H=Object.keys(V.styles.hasOwnProperty(we)?V.styles[we]:oe[we]),U=H.reduce(function(e,p){return e[p]="",e},{});!bc(Ue)||!Ch(Ue)||(Object.assign(Ue.style,U),Object.keys(it).forEach(function(e){Ue.removeAttribute(e)}))})}}const f3={name:"applyStyles",enabled:!0,phase:"write",fn:V5,effect:H5,requires:["computeStyles"]};function Sh(K){return K.split("-")[0]}var Md=Math.max,Wy=Math.min,Ep=Math.round;function Db(){var K=navigator.userAgentData;return K!=null&&K.brands&&Array.isArray(K.brands)?K.brands.map(function(V){return V.brand+"/"+V.version}).join(" "):navigator.userAgent}function RT(){return!/^((?!chrome|android).)*safari/i.test(Db())}function Cp(K,V,oe){V===void 0&&(V=!1),oe===void 0&&(oe=!1);var we=K.getBoundingClientRect(),Ue=1,it=1;V&&bc(K)&&(Ue=K.offsetWidth>0&&Ep(we.width)/K.offsetWidth||1,it=K.offsetHeight>0&&Ep(we.height)/K.offsetHeight||1);var H=_d(K)?Jf(K):window,U=H.visualViewport,e=!RT()&&oe,p=(we.left+(e&&U?U.offsetLeft:0))/Ue,L=(we.top+(e&&U?U.offsetTop:0))/it,n=we.width/Ue,C=we.height/it;return{width:n,height:C,top:L,right:p+n,bottom:L+C,left:p,x:p,y:L}}function c3(K){var V=Cp(K),oe=K.offsetWidth,we=K.offsetHeight;return Math.abs(V.width-oe)<=1&&(oe=V.width),Math.abs(V.height-we)<=1&&(we=V.height),{x:K.offsetLeft,y:K.offsetTop,width:oe,height:we}}function DT(K,V){var oe=V.getRootNode&&V.getRootNode();if(K.contains(V))return!0;if(oe&&u3(oe)){var we=V;do{if(we&&K.isSameNode(we))return!0;we=we.parentNode||we.host}while(we)}return!1}function jh(K){return Jf(K).getComputedStyle(K)}function G5(K){return["table","td","th"].indexOf(Ch(K))>=0}function Yv(K){return((_d(K)?K.ownerDocument:K.document)||window.document).documentElement}function um(K){return Ch(K)==="html"?K:K.assignedSlot||K.parentNode||(u3(K)?K.host:null)||Yv(K)}function sw(K){return!bc(K)||jh(K).position==="fixed"?null:K.offsetParent}function W5(K){var V=/firefox/i.test(Db()),oe=/Trident/i.test(Db());if(oe&&bc(K)){var we=jh(K);if(we.position==="fixed")return null}var Ue=um(K);for(u3(Ue)&&(Ue=Ue.host);bc(Ue)&&["html","body"].indexOf(Ch(Ue))<0;){var it=jh(Ue);if(it.transform!=="none"||it.perspective!=="none"||it.contain==="paint"||["transform","perspective"].indexOf(it.willChange)!==-1||V&&it.willChange==="filter"||V&&it.filter&&it.filter!=="none")return Ue;Ue=Ue.parentNode}return null}function tg(K){for(var V=Jf(K),oe=sw(K);oe&&G5(oe)&&jh(oe).position==="static";)oe=sw(oe);return oe&&(Ch(oe)==="html"||Ch(oe)==="body"&&jh(oe).position==="static")?V:oe||W5(K)||V}function h3(K){return["top","bottom"].indexOf(K)>=0?"x":"y"}function O0(K,V,oe){return Md(K,Wy(V,oe))}function Y5(K,V,oe){var we=O0(K,V,oe);return we>oe?oe:we}function IT(){return{top:0,right:0,bottom:0,left:0}}function kT(K){return Object.assign({},IT(),K)}function OT(K,V){return V.reduce(function(oe,we){return oe[we]=K,oe},{})}var X5=function(V,oe){return V=typeof V=="function"?V(Object.assign({},oe.rects,{placement:oe.placement})):V,kT(typeof V!="number"?V:OT(V,Fp))};function Z5(K){var V,oe=K.state,we=K.name,Ue=K.options,it=oe.elements.arrow,H=oe.modifiersData.popperOffsets,U=Sh(oe.placement),e=h3(U),p=[Iu,Kf].indexOf(U)>=0,L=p?"height":"width";if(!(!it||!H)){var n=X5(Ue.padding,oe),C=c3(it),T=e==="y"?Du:Iu,v=e==="y"?jf:Kf,g=oe.rects.reference[L]+oe.rects.reference[e]-H[e]-oe.rects.popper[L],r=H[e]-oe.rects.reference[e],t=tg(it),s=t?e==="y"?t.clientHeight||0:t.clientWidth||0:0,a=g/2-r/2,f=n[T],u=s-C[L]-n[v],l=s/2-C[L]/2+a,m=O0(f,l,u),h=e;oe.modifiersData[we]=(V={},V[h]=m,V.centerOffset=m-l,V)}}function j5(K){var V=K.state,oe=K.options,we=oe.element,Ue=we===void 0?"[data-popper-arrow]":we;Ue!=null&&(typeof Ue=="string"&&(Ue=V.elements.popper.querySelector(Ue),!Ue)||DT(V.elements.popper,Ue)&&(V.elements.arrow=Ue))}const zT={name:"arrow",enabled:!0,phase:"main",fn:Z5,effect:j5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lp(K){return K.split("-")[1]}var K5={top:"auto",right:"auto",bottom:"auto",left:"auto"};function J5(K,V){var oe=K.x,we=K.y,Ue=V.devicePixelRatio||1;return{x:Ep(oe*Ue)/Ue||0,y:Ep(we*Ue)/Ue||0}}function lw(K){var V,oe=K.popper,we=K.popperRect,Ue=K.placement,it=K.variation,H=K.offsets,U=K.position,e=K.gpuAcceleration,p=K.adaptive,L=K.roundOffsets,n=K.isFixed,C=H.x,T=C===void 0?0:C,v=H.y,g=v===void 0?0:v,r=typeof L=="function"?L({x:T,y:g}):{x:T,y:g};T=r.x,g=r.y;var t=H.hasOwnProperty("x"),s=H.hasOwnProperty("y"),a=Iu,f=Du,u=window;if(p){var l=tg(oe),m="clientHeight",h="clientWidth";if(l===Jf(oe)&&(l=Yv(oe),jh(l).position!=="static"&&U==="absolute"&&(m="scrollHeight",h="scrollWidth")),l=l,Ue===Du||(Ue===Iu||Ue===Kf)&&it===Sp){f=jf;var M=n&&l===u&&u.visualViewport?u.visualViewport.height:l[m];g-=M-we.height,g*=e?1:-1}if(Ue===Iu||(Ue===Du||Ue===jf)&&it===Sp){a=Kf;var c=n&&l===u&&u.visualViewport?u.visualViewport.width:l[h];T-=c-we.width,T*=e?1:-1}}var i=Object.assign({position:U},p&&K5),d=L===!0?J5({x:T,y:g},Jf(oe)):{x:T,y:g};if(T=d.x,g=d.y,e){var x;return Object.assign({},i,(x={},x[f]=s?"0":"",x[a]=t?"0":"",x.transform=(u.devicePixelRatio||1)<=1?"translate("+T+"px, "+g+"px)":"translate3d("+T+"px, "+g+"px, 0)",x))}return Object.assign({},i,(V={},V[f]=s?g+"px":"",V[a]=t?T+"px":"",V.transform="",V))}function $5(K){var V=K.state,oe=K.options,we=oe.gpuAcceleration,Ue=we===void 0?!0:we,it=oe.adaptive,H=it===void 0?!0:it,U=oe.roundOffsets,e=U===void 0?!0:U,p={placement:Sh(V.placement),variation:Lp(V.placement),popper:V.elements.popper,popperRect:V.rects.popper,gpuAcceleration:Ue,isFixed:V.options.strategy==="fixed"};V.modifiersData.popperOffsets!=null&&(V.styles.popper=Object.assign({},V.styles.popper,lw(Object.assign({},p,{offsets:V.modifiersData.popperOffsets,position:V.options.strategy,adaptive:H,roundOffsets:e})))),V.modifiersData.arrow!=null&&(V.styles.arrow=Object.assign({},V.styles.arrow,lw(Object.assign({},p,{offsets:V.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:e})))),V.attributes.popper=Object.assign({},V.attributes.popper,{"data-popper-placement":V.placement})}const v3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$5,data:{}};var hy={passive:!0};function Q5(K){var V=K.state,oe=K.instance,we=K.options,Ue=we.scroll,it=Ue===void 0?!0:Ue,H=we.resize,U=H===void 0?!0:H,e=Jf(V.elements.popper),p=[].concat(V.scrollParents.reference,V.scrollParents.popper);return it&&p.forEach(function(L){L.addEventListener("scroll",oe.update,hy)}),U&&e.addEventListener("resize",oe.update,hy),function(){it&&p.forEach(function(L){L.removeEventListener("scroll",oe.update,hy)}),U&&e.removeEventListener("resize",oe.update,hy)}}const d3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Q5,data:{}};var q5={left:"right",right:"left",bottom:"top",top:"bottom"};function ky(K){return K.replace(/left|right|bottom|top/g,function(V){return q5[V]})}var e6={start:"end",end:"start"};function uw(K){return K.replace(/start|end/g,function(V){return e6[V]})}function p3(K){var V=Jf(K),oe=V.pageXOffset,we=V.pageYOffset;return{scrollLeft:oe,scrollTop:we}}function g3(K){return Cp(Yv(K)).left+p3(K).scrollLeft}function t6(K,V){var oe=Jf(K),we=Yv(K),Ue=oe.visualViewport,it=we.clientWidth,H=we.clientHeight,U=0,e=0;if(Ue){it=Ue.width,H=Ue.height;var p=RT();(p||!p&&V==="fixed")&&(U=Ue.offsetLeft,e=Ue.offsetTop)}return{width:it,height:H,x:U+g3(K),y:e}}function r6(K){var V,oe=Yv(K),we=p3(K),Ue=(V=K.ownerDocument)==null?void 0:V.body,it=Md(oe.scrollWidth,oe.clientWidth,Ue?Ue.scrollWidth:0,Ue?Ue.clientWidth:0),H=Md(oe.scrollHeight,oe.clientHeight,Ue?Ue.scrollHeight:0,Ue?Ue.clientHeight:0),U=-we.scrollLeft+g3(K),e=-we.scrollTop;return jh(Ue||oe).direction==="rtl"&&(U+=Md(oe.clientWidth,Ue?Ue.clientWidth:0)-it),{width:it,height:H,x:U,y:e}}function y3(K){var V=jh(K),oe=V.overflow,we=V.overflowX,Ue=V.overflowY;return/auto|scroll|overlay|hidden/.test(oe+Ue+we)}function FT(K){return["html","body","#document"].indexOf(Ch(K))>=0?K.ownerDocument.body:bc(K)&&y3(K)?K:FT(um(K))}function z0(K,V){var oe;V===void 0&&(V=[]);var we=FT(K),Ue=we===((oe=K.ownerDocument)==null?void 0:oe.body),it=Jf(we),H=Ue?[it].concat(it.visualViewport||[],y3(we)?we:[]):we,U=V.concat(H);return Ue?U:U.concat(z0(um(H)))}function Ib(K){return Object.assign({},K,{left:K.x,top:K.y,right:K.x+K.width,bottom:K.y+K.height})}function n6(K,V){var oe=Cp(K,!1,V==="fixed");return oe.top=oe.top+K.clientTop,oe.left=oe.left+K.clientLeft,oe.bottom=oe.top+K.clientHeight,oe.right=oe.left+K.clientWidth,oe.width=K.clientWidth,oe.height=K.clientHeight,oe.x=oe.left,oe.y=oe.top,oe}function fw(K,V,oe){return V===s3?Ib(t6(K,oe)):_d(V)?n6(V,oe):Ib(r6(Yv(K)))}function a6(K){var V=z0(um(K)),oe=["absolute","fixed"].indexOf(jh(K).position)>=0,we=oe&&bc(K)?tg(K):K;return _d(we)?V.filter(function(Ue){return _d(Ue)&&DT(Ue,we)&&Ch(Ue)!=="body"}):[]}function i6(K,V,oe,we){var Ue=V==="clippingParents"?a6(K):[].concat(V),it=[].concat(Ue,[oe]),H=it[0],U=it.reduce(function(e,p){var L=fw(K,p,we);return e.top=Md(L.top,e.top),e.right=Wy(L.right,e.right),e.bottom=Wy(L.bottom,e.bottom),e.left=Md(L.left,e.left),e},fw(K,H,we));return U.width=U.right-U.left,U.height=U.bottom-U.top,U.x=U.left,U.y=U.top,U}function NT(K){var V=K.reference,oe=K.element,we=K.placement,Ue=we?Sh(we):null,it=we?Lp(we):null,H=V.x+V.width/2-oe.width/2,U=V.y+V.height/2-oe.height/2,e;switch(Ue){case Du:e={x:H,y:V.y-oe.height};break;case jf:e={x:H,y:V.y+V.height};break;case Kf:e={x:V.x+V.width,y:U};break;case Iu:e={x:V.x-oe.width,y:U};break;default:e={x:V.x,y:V.y}}var p=Ue?h3(Ue):null;if(p!=null){var L=p==="y"?"height":"width";switch(it){case Ld:e[p]=e[p]-(V[L]/2-oe[L]/2);break;case Sp:e[p]=e[p]+(V[L]/2-oe[L]/2);break}}return e}function _p(K,V){V===void 0&&(V={});var oe=V,we=oe.placement,Ue=we===void 0?K.placement:we,it=oe.strategy,H=it===void 0?K.strategy:it,U=oe.boundary,e=U===void 0?xT:U,p=oe.rootBoundary,L=p===void 0?s3:p,n=oe.elementContext,C=n===void 0?hp:n,T=oe.altBoundary,v=T===void 0?!1:T,g=oe.padding,r=g===void 0?0:g,t=kT(typeof r!="number"?r:OT(r,Fp)),s=C===hp?bT:hp,a=K.rects.popper,f=K.elements[v?s:C],u=i6(_d(f)?f:f.contextElement||Yv(K.elements.popper),e,L,H),l=Cp(K.elements.reference),m=NT({reference:l,element:a,strategy:"absolute",placement:Ue}),h=Ib(Object.assign({},a,m)),M=C===hp?h:l,c={top:u.top-M.top+t.top,bottom:M.bottom-u.bottom+t.bottom,left:u.left-M.left+t.left,right:M.right-u.right+t.right},i=K.modifiersData.offset;if(C===hp&&i){var d=i[Ue];Object.keys(c).forEach(function(x){var A=[Kf,jf].indexOf(x)>=0?1:-1,E=[Du,jf].indexOf(x)>=0?"y":"x";c[x]+=d[E]*A})}return c}function o6(K,V){V===void 0&&(V={});var oe=V,we=oe.placement,Ue=oe.boundary,it=oe.rootBoundary,H=oe.padding,U=oe.flipVariations,e=oe.allowedAutoPlacements,p=e===void 0?l3:e,L=Lp(we),n=L?U?Rb:Rb.filter(function(v){return Lp(v)===L}):Fp,C=n.filter(function(v){return p.indexOf(v)>=0});C.length===0&&(C=n);var T=C.reduce(function(v,g){return v[g]=_p(K,{placement:g,boundary:Ue,rootBoundary:it,padding:H})[Sh(g)],v},{});return Object.keys(T).sort(function(v,g){return T[v]-T[g]})}function s6(K){if(Sh(K)===lm)return[];var V=ky(K);return[uw(K),V,uw(V)]}function l6(K){var V=K.state,oe=K.options,we=K.name;if(!V.modifiersData[we]._skip){for(var Ue=oe.mainAxis,it=Ue===void 0?!0:Ue,H=oe.altAxis,U=H===void 0?!0:H,e=oe.fallbackPlacements,p=oe.padding,L=oe.boundary,n=oe.rootBoundary,C=oe.altBoundary,T=oe.flipVariations,v=T===void 0?!0:T,g=oe.allowedAutoPlacements,r=V.options.placement,t=Sh(r),s=t===r,a=e||(s||!v?[ky(r)]:s6(r)),f=[r].concat(a).reduce(function(N,k){return N.concat(Sh(k)===lm?o6(V,{placement:k,boundary:L,rootBoundary:n,padding:p,flipVariations:v,allowedAutoPlacements:g}):k)},[]),u=V.rects.reference,l=V.rects.popper,m=new Map,h=!0,M=f[0],c=0;c<f.length;c++){var i=f[c],d=Sh(i),x=Lp(i)===Ld,A=[Du,jf].indexOf(d)>=0,E=A?"width":"height",y=_p(V,{placement:i,boundary:L,rootBoundary:n,altBoundary:C,padding:p}),S=A?x?Kf:Iu:x?jf:Du;u[E]>l[E]&&(S=ky(S));var w=ky(S),o=[];if(it&&o.push(y[d]<=0),U&&o.push(y[S]<=0,y[w]<=0),o.every(function(N){return N})){M=i,h=!1;break}m.set(i,o)}if(h)for(var _=v?3:1,b=function(k){var z=f.find(function(F){var O=m.get(F);if(O)return O.slice(0,k).every(function(B){return B})});if(z)return M=z,"break"},I=_;I>0;I--){var D=b(I);if(D==="break")break}V.placement!==M&&(V.modifiersData[we]._skip=!0,V.placement=M,V.reset=!0)}}const BT={name:"flip",enabled:!0,phase:"main",fn:l6,requiresIfExists:["offset"],data:{_skip:!1}};function cw(K,V,oe){return oe===void 0&&(oe={x:0,y:0}),{top:K.top-V.height-oe.y,right:K.right-V.width+oe.x,bottom:K.bottom-V.height+oe.y,left:K.left-V.width-oe.x}}function hw(K){return[Du,Kf,jf,Iu].some(function(V){return K[V]>=0})}function u6(K){var V=K.state,oe=K.name,we=V.rects.reference,Ue=V.rects.popper,it=V.modifiersData.preventOverflow,H=_p(V,{elementContext:"reference"}),U=_p(V,{altBoundary:!0}),e=cw(H,we),p=cw(U,Ue,it),L=hw(e),n=hw(p);V.modifiersData[oe]={referenceClippingOffsets:e,popperEscapeOffsets:p,isReferenceHidden:L,hasPopperEscaped:n},V.attributes.popper=Object.assign({},V.attributes.popper,{"data-popper-reference-hidden":L,"data-popper-escaped":n})}const UT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:u6};function f6(K,V,oe){var we=Sh(K),Ue=[Iu,Du].indexOf(we)>=0?-1:1,it=typeof oe=="function"?oe(Object.assign({},V,{placement:K})):oe,H=it[0],U=it[1];return H=H||0,U=(U||0)*Ue,[Iu,Kf].indexOf(we)>=0?{x:U,y:H}:{x:H,y:U}}function c6(K){var V=K.state,oe=K.options,we=K.name,Ue=oe.offset,it=Ue===void 0?[0,0]:Ue,H=l3.reduce(function(L,n){return L[n]=f6(n,V.rects,it),L},{}),U=H[V.placement],e=U.x,p=U.y;V.modifiersData.popperOffsets!=null&&(V.modifiersData.popperOffsets.x+=e,V.modifiersData.popperOffsets.y+=p),V.modifiersData[we]=H}const VT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:c6};function h6(K){var V=K.state,oe=K.name;V.modifiersData[oe]=NT({reference:V.rects.reference,element:V.rects.popper,strategy:"absolute",placement:V.placement})}const m3={name:"popperOffsets",enabled:!0,phase:"read",fn:h6,data:{}};function v6(K){return K==="x"?"y":"x"}function d6(K){var V=K.state,oe=K.options,we=K.name,Ue=oe.mainAxis,it=Ue===void 0?!0:Ue,H=oe.altAxis,U=H===void 0?!1:H,e=oe.boundary,p=oe.rootBoundary,L=oe.altBoundary,n=oe.padding,C=oe.tether,T=C===void 0?!0:C,v=oe.tetherOffset,g=v===void 0?0:v,r=_p(V,{boundary:e,rootBoundary:p,padding:n,altBoundary:L}),t=Sh(V.placement),s=Lp(V.placement),a=!s,f=h3(t),u=v6(f),l=V.modifiersData.popperOffsets,m=V.rects.reference,h=V.rects.popper,M=typeof g=="function"?g(Object.assign({},V.rects,{placement:V.placement})):g,c=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),i=V.modifiersData.offset?V.modifiersData.offset[V.placement]:null,d={x:0,y:0};if(l){if(it){var x,A=f==="y"?Du:Iu,E=f==="y"?jf:Kf,y=f==="y"?"height":"width",S=l[f],w=S+r[A],o=S-r[E],_=T?-h[y]/2:0,b=s===Ld?m[y]:h[y],I=s===Ld?-h[y]:-m[y],D=V.elements.arrow,N=T&&D?c3(D):{width:0,height:0},k=V.modifiersData["arrow#persistent"]?V.modifiersData["arrow#persistent"].padding:IT(),z=k[A],F=k[E],O=O0(0,m[y],N[y]),B=a?m[y]/2-_-O-z-c.mainAxis:b-O-z-c.mainAxis,W=a?-m[y]/2+_+O+F+c.mainAxis:I+O+F+c.mainAxis,ee=V.elements.arrow&&tg(V.elements.arrow),ne=ee?f==="y"?ee.clientTop||0:ee.clientLeft||0:0,Q=(x=i==null?void 0:i[f])!=null?x:0,le=S+B-Q-ne,Z=S+W-Q,Y=O0(T?Wy(w,le):w,S,T?Md(o,Z):o);l[f]=Y,d[f]=Y-S}if(U){var re,X=f==="x"?Du:Iu,q=f==="x"?jf:Kf,se=l[u],$=u==="y"?"height":"width",j=se+r[X],ue=se-r[q],ae=[Du,Iu].indexOf(t)!==-1,ce=(re=i==null?void 0:i[u])!=null?re:0,ye=ae?j:se-m[$]-h[$]-ce+c.altAxis,Ce=ae?se+m[$]+h[$]-ce-c.altAxis:ue,Ae=T&&ae?Y5(ye,se,Ce):O0(T?ye:j,se,T?Ce:ue);l[u]=Ae,d[u]=Ae-se}V.modifiersData[we]=d}}const HT={name:"preventOverflow",enabled:!0,phase:"main",fn:d6,requiresIfExists:["offset"]};function p6(K){return{scrollLeft:K.scrollLeft,scrollTop:K.scrollTop}}function g6(K){return K===Jf(K)||!bc(K)?p3(K):p6(K)}function y6(K){var V=K.getBoundingClientRect(),oe=Ep(V.width)/K.offsetWidth||1,we=Ep(V.height)/K.offsetHeight||1;return oe!==1||we!==1}function m6(K,V,oe){oe===void 0&&(oe=!1);var we=bc(V),Ue=bc(V)&&y6(V),it=Yv(V),H=Cp(K,Ue,oe),U={scrollLeft:0,scrollTop:0},e={x:0,y:0};return(we||!we&&!oe)&&((Ch(V)!=="body"||y3(it))&&(U=g6(V)),bc(V)?(e=Cp(V,!0),e.x+=V.clientLeft,e.y+=V.clientTop):it&&(e.x=g3(it))),{x:H.left+U.scrollLeft-e.x,y:H.top+U.scrollTop-e.y,width:H.width,height:H.height}}function x6(K){var V=new Map,oe=new Set,we=[];K.forEach(function(it){V.set(it.name,it)});function Ue(it){oe.add(it.name);var H=[].concat(it.requires||[],it.requiresIfExists||[]);H.forEach(function(U){if(!oe.has(U)){var e=V.get(U);e&&Ue(e)}}),we.push(it)}return K.forEach(function(it){oe.has(it.name)||Ue(it)}),we}function b6(K){var V=x6(K);return PT.reduce(function(oe,we){return oe.concat(V.filter(function(Ue){return Ue.phase===we}))},[])}function w6(K){var V;return function(){return V||(V=new Promise(function(oe){Promise.resolve().then(function(){V=void 0,oe(K())})})),V}}function T6(K){var V=K.reduce(function(oe,we){var Ue=oe[we.name];return oe[we.name]=Ue?Object.assign({},Ue,we,{options:Object.assign({},Ue.options,we.options),data:Object.assign({},Ue.data,we.data)}):we,oe},{});return Object.keys(V).map(function(oe){return V[oe]})}var vw={placement:"bottom",modifiers:[],strategy:"absolute"};function dw(){for(var K=arguments.length,V=new Array(K),oe=0;oe<K;oe++)V[oe]=arguments[oe];return!V.some(function(we){return!(we&&typeof we.getBoundingClientRect=="function")})}function fm(K){K===void 0&&(K={});var V=K,oe=V.defaultModifiers,we=oe===void 0?[]:oe,Ue=V.defaultOptions,it=Ue===void 0?vw:Ue;return function(U,e,p){p===void 0&&(p=it);var L={placement:"bottom",orderedModifiers:[],options:Object.assign({},vw,it),modifiersData:{},elements:{reference:U,popper:e},attributes:{},styles:{}},n=[],C=!1,T={state:L,setOptions:function(t){var s=typeof t=="function"?t(L.options):t;g(),L.options=Object.assign({},it,L.options,s),L.scrollParents={reference:_d(U)?z0(U):U.contextElement?z0(U.contextElement):[],popper:z0(e)};var a=b6(T6([].concat(we,L.options.modifiers)));return L.orderedModifiers=a.filter(function(f){return f.enabled}),v(),T.update()},forceUpdate:function(){if(!C){var t=L.elements,s=t.reference,a=t.popper;if(dw(s,a)){L.rects={reference:m6(s,tg(a),L.options.strategy==="fixed"),popper:c3(a)},L.reset=!1,L.placement=L.options.placement,L.orderedModifiers.forEach(function(c){return L.modifiersData[c.name]=Object.assign({},c.data)});for(var f=0;f<L.orderedModifiers.length;f++){if(L.reset===!0){L.reset=!1,f=-1;continue}var u=L.orderedModifiers[f],l=u.fn,m=u.options,h=m===void 0?{}:m,M=u.name;typeof l=="function"&&(L=l({state:L,options:h,name:M,instance:T})||L)}}}},update:w6(function(){return new Promise(function(r){T.forceUpdate(),r(L)})}),destroy:function(){g(),C=!0}};if(!dw(U,e))return T;T.setOptions(p).then(function(r){!C&&p.onFirstUpdate&&p.onFirstUpdate(r)});function v(){L.orderedModifiers.forEach(function(r){var t=r.name,s=r.options,a=s===void 0?{}:s,f=r.effect;if(typeof f=="function"){var u=f({state:L,name:t,instance:T,options:a}),l=function(){};n.push(u||l)}})}function g(){n.forEach(function(r){return r()}),n=[]}return T}}var A6=fm(),M6=[d3,m3,v3,f3],S6=fm({defaultModifiers:M6}),E6=[d3,m3,v3,f3,VT,BT,HT,zT,UT],x3=fm({defaultModifiers:E6});const GT=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ET,afterRead:AT,afterWrite:_T,applyStyles:f3,arrow:zT,auto:lm,basePlacements:Fp,beforeMain:MT,beforeRead:wT,beforeWrite:CT,bottom:jf,clippingParents:xT,computeStyles:v3,createPopper:x3,createPopperBase:A6,createPopperLite:S6,detectOverflow:_p,end:Sp,eventListeners:d3,flip:BT,hide:UT,left:Iu,main:ST,modifierPhases:PT,offset:VT,placements:l3,popper:hp,popperGenerator:fm,popperOffsets:m3,preventOverflow:HT,read:TT,reference:bT,right:Kf,start:Ld,top:Du,variationPlacements:Rb,viewport:s3,write:LT},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Mv=new Map,Kx={set(K,V,oe){Mv.has(K)||Mv.set(K,new Map);const we=Mv.get(K);if(!we.has(V)&&we.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(we.keys())[0]}.`);return}we.set(V,oe)},get(K,V){return Mv.has(K)&&Mv.get(K).get(V)||null},remove(K,V){if(!Mv.has(K))return;const oe=Mv.get(K);oe.delete(V),oe.size===0&&Mv.delete(K)}},C6=1e6,L6=1e3,kb="transitionend",WT=K=>(K&&window.CSS&&window.CSS.escape&&(K=K.replace(/#([^\s"#']+)/g,(V,oe)=>`#${CSS.escape(oe)}`)),K),_6=K=>K==null?`${K}`:Object.prototype.toString.call(K).match(/\s([a-z]+)/i)[1].toLowerCase(),P6=K=>{do K+=Math.floor(Math.random()*C6);while(document.getElementById(K));return K},R6=K=>{if(!K)return 0;let{transitionDuration:V,transitionDelay:oe}=window.getComputedStyle(K);const we=Number.parseFloat(V),Ue=Number.parseFloat(oe);return!we&&!Ue?0:(V=V.split(",")[0],oe=oe.split(",")[0],(Number.parseFloat(V)+Number.parseFloat(oe))*L6)},YT=K=>{K.dispatchEvent(new Event(kb))},Wh=K=>!K||typeof K!="object"?!1:(typeof K.jquery<"u"&&(K=K[0]),typeof K.nodeType<"u"),Uv=K=>Wh(K)?K.jquery?K[0]:K:typeof K=="string"&&K.length>0?document.querySelector(WT(K)):null,Np=K=>{if(!Wh(K)||K.getClientRects().length===0)return!1;const V=getComputedStyle(K).getPropertyValue("visibility")==="visible",oe=K.closest("details:not([open])");if(!oe)return V;if(oe!==K){const we=K.closest("summary");if(we&&we.parentNode!==oe||we===null)return!1}return V},Vv=K=>!K||K.nodeType!==Node.ELEMENT_NODE||K.classList.contains("disabled")?!0:typeof K.disabled<"u"?K.disabled:K.hasAttribute("disabled")&&K.getAttribute("disabled")!=="false",XT=K=>{if(!document.documentElement.attachShadow)return null;if(typeof K.getRootNode=="function"){const V=K.getRootNode();return V instanceof ShadowRoot?V:null}return K instanceof ShadowRoot?K:K.parentNode?XT(K.parentNode):null},Yy=()=>{},rg=K=>{K.offsetHeight},ZT=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Jx=[],D6=K=>{document.readyState==="loading"?(Jx.length||document.addEventListener("DOMContentLoaded",()=>{for(const V of Jx)V()}),Jx.push(K)):K()},Tc=()=>document.documentElement.dir==="rtl",Mc=K=>{D6(()=>{const V=ZT();if(V){const oe=K.NAME,we=V.fn[oe];V.fn[oe]=K.jQueryInterface,V.fn[oe].Constructor=K,V.fn[oe].noConflict=()=>(V.fn[oe]=we,K.jQueryInterface)}})},gf=(K,V=[],oe=K)=>typeof K=="function"?K(...V):oe,jT=(K,V,oe=!0)=>{if(!oe){gf(K);return}const Ue=R6(V)+5;let it=!1;const H=({target:U})=>{U===V&&(it=!0,V.removeEventListener(kb,H),gf(K))};V.addEventListener(kb,H),setTimeout(()=>{it||YT(V)},Ue)},b3=(K,V,oe,we)=>{const Ue=K.length;let it=K.indexOf(V);return it===-1?!oe&&we?K[Ue-1]:K[0]:(it+=oe?1:-1,we&&(it=(it+Ue)%Ue),K[Math.max(0,Math.min(it,Ue-1))])},I6=/[^.]*(?=\..*)\.|.*/,k6=/\..*/,O6=/::\d+$/,$x={};let pw=1;const KT={mouseenter:"mouseover",mouseleave:"mouseout"},z6=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function JT(K,V){return V&&`${V}::${pw++}`||K.uidEvent||pw++}function $T(K){const V=JT(K);return K.uidEvent=V,$x[V]=$x[V]||{},$x[V]}function F6(K,V){return function oe(we){return w3(we,{delegateTarget:K}),oe.oneOff&&Ca.off(K,we.type,V),V.apply(K,[we])}}function N6(K,V,oe){return function we(Ue){const it=K.querySelectorAll(V);for(let{target:H}=Ue;H&&H!==this;H=H.parentNode)for(const U of it)if(U===H)return w3(Ue,{delegateTarget:H}),we.oneOff&&Ca.off(K,Ue.type,V,oe),oe.apply(H,[Ue])}}function QT(K,V,oe=null){return Object.values(K).find(we=>we.callable===V&&we.delegationSelector===oe)}function qT(K,V,oe){const we=typeof V=="string",Ue=we?oe:V||oe;let it=e4(K);return z6.has(it)||(it=K),[we,Ue,it]}function gw(K,V,oe,we,Ue){if(typeof V!="string"||!K)return;let[it,H,U]=qT(V,oe,we);V in KT&&(H=(v=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return v.call(this,g)})(H));const e=$T(K),p=e[U]||(e[U]={}),L=QT(p,H,it?oe:null);if(L){L.oneOff=L.oneOff&&Ue;return}const n=JT(H,V.replace(I6,"")),C=it?N6(K,oe,H):F6(K,H);C.delegationSelector=it?oe:null,C.callable=H,C.oneOff=Ue,C.uidEvent=n,p[n]=C,K.addEventListener(U,C,it)}function Ob(K,V,oe,we,Ue){const it=QT(V[oe],we,Ue);it&&(K.removeEventListener(oe,it,!!Ue),delete V[oe][it.uidEvent])}function B6(K,V,oe,we){const Ue=V[oe]||{};for(const[it,H]of Object.entries(Ue))it.includes(we)&&Ob(K,V,oe,H.callable,H.delegationSelector)}function e4(K){return K=K.replace(k6,""),KT[K]||K}const Ca={on(K,V,oe,we){gw(K,V,oe,we,!1)},one(K,V,oe,we){gw(K,V,oe,we,!0)},off(K,V,oe,we){if(typeof V!="string"||!K)return;const[Ue,it,H]=qT(V,oe,we),U=H!==V,e=$T(K),p=e[H]||{},L=V.startsWith(".");if(typeof it<"u"){if(!Object.keys(p).length)return;Ob(K,e,H,it,Ue?oe:null);return}if(L)for(const n of Object.keys(e))B6(K,e,n,V.slice(1));for(const[n,C]of Object.entries(p)){const T=n.replace(O6,"");(!U||V.includes(T))&&Ob(K,e,H,C.callable,C.delegationSelector)}},trigger(K,V,oe){if(typeof V!="string"||!K)return null;const we=ZT(),Ue=e4(V),it=V!==Ue;let H=null,U=!0,e=!0,p=!1;it&&we&&(H=we.Event(V,oe),we(K).trigger(H),U=!H.isPropagationStopped(),e=!H.isImmediatePropagationStopped(),p=H.isDefaultPrevented());const L=w3(new Event(V,{bubbles:U,cancelable:!0}),oe);return p&&L.preventDefault(),e&&K.dispatchEvent(L),L.defaultPrevented&&H&&H.preventDefault(),L}};function w3(K,V={}){for(const[oe,we]of Object.entries(V))try{K[oe]=we}catch{Object.defineProperty(K,oe,{configurable:!0,get(){return we}})}return K}function yw(K){if(K==="true")return!0;if(K==="false")return!1;if(K===Number(K).toString())return Number(K);if(K===""||K==="null")return null;if(typeof K!="string")return K;try{return JSON.parse(decodeURIComponent(K))}catch{return K}}function Qx(K){return K.replace(/[A-Z]/g,V=>`-${V.toLowerCase()}`)}const Yh={setDataAttribute(K,V,oe){K.setAttribute(`data-bs-${Qx(V)}`,oe)},removeDataAttribute(K,V){K.removeAttribute(`data-bs-${Qx(V)}`)},getDataAttributes(K){if(!K)return{};const V={},oe=Object.keys(K.dataset).filter(we=>we.startsWith("bs")&&!we.startsWith("bsConfig"));for(const we of oe){let Ue=we.replace(/^bs/,"");Ue=Ue.charAt(0).toLowerCase()+Ue.slice(1,Ue.length),V[Ue]=yw(K.dataset[we])}return V},getDataAttribute(K,V){return yw(K.getAttribute(`data-bs-${Qx(V)}`))}};class ng{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(V){return V=this._mergeConfigObj(V),V=this._configAfterMerge(V),this._typeCheckConfig(V),V}_configAfterMerge(V){return V}_mergeConfigObj(V,oe){const we=Wh(oe)?Yh.getDataAttribute(oe,"config"):{};return{...this.constructor.Default,...typeof we=="object"?we:{},...Wh(oe)?Yh.getDataAttributes(oe):{},...typeof V=="object"?V:{}}}_typeCheckConfig(V,oe=this.constructor.DefaultType){for(const[we,Ue]of Object.entries(oe)){const it=V[we],H=Wh(it)?"element":_6(it);if(!new RegExp(Ue).test(H))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${we}" provided type "${H}" but expected type "${Ue}".`)}}}const U6="5.3.3";class eh extends ng{constructor(V,oe){super(),V=Uv(V),V&&(this._element=V,this._config=this._getConfig(oe),Kx.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Kx.remove(this._element,this.constructor.DATA_KEY),Ca.off(this._element,this.constructor.EVENT_KEY);for(const V of Object.getOwnPropertyNames(this))this[V]=null}_queueCallback(V,oe,we=!0){jT(V,oe,we)}_getConfig(V){return V=this._mergeConfigObj(V,this._element),V=this._configAfterMerge(V),this._typeCheckConfig(V),V}static getInstance(V){return Kx.get(Uv(V),this.DATA_KEY)}static getOrCreateInstance(V,oe={}){return this.getInstance(V)||new this(V,typeof oe=="object"?oe:null)}static get VERSION(){return U6}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(V){return`${V}${this.EVENT_KEY}`}}const qx=K=>{let V=K.getAttribute("data-bs-target");if(!V||V==="#"){let oe=K.getAttribute("href");if(!oe||!oe.includes("#")&&!oe.startsWith("."))return null;oe.includes("#")&&!oe.startsWith("#")&&(oe=`#${oe.split("#")[1]}`),V=oe&&oe!=="#"?oe.trim():null}return V?V.split(",").map(oe=>WT(oe)).join(","):null},vi={find(K,V=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(V,K))},findOne(K,V=document.documentElement){return Element.prototype.querySelector.call(V,K)},children(K,V){return[].concat(...K.children).filter(oe=>oe.matches(V))},parents(K,V){const oe=[];let we=K.parentNode.closest(V);for(;we;)oe.push(we),we=we.parentNode.closest(V);return oe},prev(K,V){let oe=K.previousElementSibling;for(;oe;){if(oe.matches(V))return[oe];oe=oe.previousElementSibling}return[]},next(K,V){let oe=K.nextElementSibling;for(;oe;){if(oe.matches(V))return[oe];oe=oe.nextElementSibling}return[]},focusableChildren(K){const V=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(oe=>`${oe}:not([tabindex^="-"])`).join(",");return this.find(V,K).filter(oe=>!Vv(oe)&&Np(oe))},getSelectorFromElement(K){const V=qx(K);return V&&vi.findOne(V)?V:null},getElementFromSelector(K){const V=qx(K);return V?vi.findOne(V):null},getMultipleElementsFromSelector(K){const V=qx(K);return V?vi.find(V):[]}},cm=(K,V="hide")=>{const oe=`click.dismiss${K.EVENT_KEY}`,we=K.NAME;Ca.on(document,oe,`[data-bs-dismiss="${we}"]`,function(Ue){if(["A","AREA"].includes(this.tagName)&&Ue.preventDefault(),Vv(this))return;const it=vi.getElementFromSelector(this)||this.closest(`.${we}`);K.getOrCreateInstance(it)[V]()})},V6="alert",H6="bs.alert",t4=`.${H6}`,G6=`close${t4}`,W6=`closed${t4}`,Y6="fade",X6="show";class hm extends eh{static get NAME(){return V6}close(){if(Ca.trigger(this._element,G6).defaultPrevented)return;this._element.classList.remove(X6);const oe=this._element.classList.contains(Y6);this._queueCallback(()=>this._destroyElement(),this._element,oe)}_destroyElement(){this._element.remove(),Ca.trigger(this._element,W6),this.dispose()}static jQueryInterface(V){return this.each(function(){const oe=hm.getOrCreateInstance(this);if(typeof V=="string"){if(oe[V]===void 0||V.startsWith("_")||V==="constructor")throw new TypeError(`No method named "${V}"`);oe[V](this)}})}}cm(hm,"close");Mc(hm);const Z6="button",j6="bs.button",K6=`.${j6}`,J6=".data-api",$6="active",mw='[data-bs-toggle="button"]',Q6=`click${K6}${J6}`;class vm extends eh{static get NAME(){return Z6}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle($6))}static jQueryInterface(V){return this.each(function(){const oe=vm.getOrCreateInstance(this);V==="toggle"&&oe[V]()})}}Ca.on(document,Q6,mw,K=>{K.preventDefault();const V=K.target.closest(mw);vm.getOrCreateInstance(V).toggle()});Mc(vm);const q6="swipe",Bp=".bs.swipe",eM=`touchstart${Bp}`,tM=`touchmove${Bp}`,rM=`touchend${Bp}`,nM=`pointerdown${Bp}`,aM=`pointerup${Bp}`,iM="touch",oM="pen",sM="pointer-event",lM=40,uM={endCallback:null,leftCallback:null,rightCallback:null},fM={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Xy extends ng{constructor(V,oe){super(),this._element=V,!(!V||!Xy.isSupported())&&(this._config=this._getConfig(oe),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return uM}static get DefaultType(){return fM}static get NAME(){return q6}dispose(){Ca.off(this._element,Bp)}_start(V){if(!this._supportPointerEvents){this._deltaX=V.touches[0].clientX;return}this._eventIsPointerPenTouch(V)&&(this._deltaX=V.clientX)}_end(V){this._eventIsPointerPenTouch(V)&&(this._deltaX=V.clientX-this._deltaX),this._handleSwipe(),gf(this._config.endCallback)}_move(V){this._deltaX=V.touches&&V.touches.length>1?0:V.touches[0].clientX-this._deltaX}_handleSwipe(){const V=Math.abs(this._deltaX);if(V<=lM)return;const oe=V/this._deltaX;this._deltaX=0,oe&&gf(oe>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ca.on(this._element,nM,V=>this._start(V)),Ca.on(this._element,aM,V=>this._end(V)),this._element.classList.add(sM)):(Ca.on(this._element,eM,V=>this._start(V)),Ca.on(this._element,tM,V=>this._move(V)),Ca.on(this._element,rM,V=>this._end(V)))}_eventIsPointerPenTouch(V){return this._supportPointerEvents&&(V.pointerType===oM||V.pointerType===iM)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const cM="carousel",hM="bs.carousel",Xv=`.${hM}`,r4=".data-api",vM="ArrowLeft",dM="ArrowRight",pM=500,E0="next",sp="prev",vp="left",Oy="right",gM=`slide${Xv}`,eb=`slid${Xv}`,yM=`keydown${Xv}`,mM=`mouseenter${Xv}`,xM=`mouseleave${Xv}`,bM=`dragstart${Xv}`,wM=`load${Xv}${r4}`,TM=`click${Xv}${r4}`,n4="carousel",vy="active",AM="slide",MM="carousel-item-end",SM="carousel-item-start",EM="carousel-item-next",CM="carousel-item-prev",a4=".active",i4=".carousel-item",LM=a4+i4,_M=".carousel-item img",PM=".carousel-indicators",RM="[data-bs-slide], [data-bs-slide-to]",DM='[data-bs-ride="carousel"]',IM={[vM]:Oy,[dM]:vp},kM={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},OM={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ag extends eh{constructor(V,oe){super(V,oe),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=vi.findOne(PM,this._element),this._addEventListeners(),this._config.ride===n4&&this.cycle()}static get Default(){return kM}static get DefaultType(){return OM}static get NAME(){return cM}next(){this._slide(E0)}nextWhenVisible(){!document.hidden&&Np(this._element)&&this.next()}prev(){this._slide(sp)}pause(){this._isSliding&&YT(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Ca.one(this._element,eb,()=>this.cycle());return}this.cycle()}}to(V){const oe=this._getItems();if(V>oe.length-1||V<0)return;if(this._isSliding){Ca.one(this._element,eb,()=>this.to(V));return}const we=this._getItemIndex(this._getActive());if(we===V)return;const Ue=V>we?E0:sp;this._slide(Ue,oe[V])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(V){return V.defaultInterval=V.interval,V}_addEventListeners(){this._config.keyboard&&Ca.on(this._element,yM,V=>this._keydown(V)),this._config.pause==="hover"&&(Ca.on(this._element,mM,()=>this.pause()),Ca.on(this._element,xM,()=>this._maybeEnableCycle())),this._config.touch&&Xy.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const we of vi.find(_M,this._element))Ca.on(we,bM,Ue=>Ue.preventDefault());const oe={leftCallback:()=>this._slide(this._directionToOrder(vp)),rightCallback:()=>this._slide(this._directionToOrder(Oy)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),pM+this._config.interval))}};this._swipeHelper=new Xy(this._element,oe)}_keydown(V){if(/input|textarea/i.test(V.target.tagName))return;const oe=IM[V.key];oe&&(V.preventDefault(),this._slide(this._directionToOrder(oe)))}_getItemIndex(V){return this._getItems().indexOf(V)}_setActiveIndicatorElement(V){if(!this._indicatorsElement)return;const oe=vi.findOne(a4,this._indicatorsElement);oe.classList.remove(vy),oe.removeAttribute("aria-current");const we=vi.findOne(`[data-bs-slide-to="${V}"]`,this._indicatorsElement);we&&(we.classList.add(vy),we.setAttribute("aria-current","true"))}_updateInterval(){const V=this._activeElement||this._getActive();if(!V)return;const oe=Number.parseInt(V.getAttribute("data-bs-interval"),10);this._config.interval=oe||this._config.defaultInterval}_slide(V,oe=null){if(this._isSliding)return;const we=this._getActive(),Ue=V===E0,it=oe||b3(this._getItems(),we,Ue,this._config.wrap);if(it===we)return;const H=this._getItemIndex(it),U=T=>Ca.trigger(this._element,T,{relatedTarget:it,direction:this._orderToDirection(V),from:this._getItemIndex(we),to:H});if(U(gM).defaultPrevented||!we||!it)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(H),this._activeElement=it;const L=Ue?SM:MM,n=Ue?EM:CM;it.classList.add(n),rg(it),we.classList.add(L),it.classList.add(L);const C=()=>{it.classList.remove(L,n),it.classList.add(vy),we.classList.remove(vy,n,L),this._isSliding=!1,U(eb)};this._queueCallback(C,we,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(AM)}_getActive(){return vi.findOne(LM,this._element)}_getItems(){return vi.find(i4,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(V){return Tc()?V===vp?sp:E0:V===vp?E0:sp}_orderToDirection(V){return Tc()?V===sp?vp:Oy:V===sp?Oy:vp}static jQueryInterface(V){return this.each(function(){const oe=ag.getOrCreateInstance(this,V);if(typeof V=="number"){oe.to(V);return}if(typeof V=="string"){if(oe[V]===void 0||V.startsWith("_")||V==="constructor")throw new TypeError(`No method named "${V}"`);oe[V]()}})}}Ca.on(document,TM,RM,function(K){const V=vi.getElementFromSelector(this);if(!V||!V.classList.contains(n4))return;K.preventDefault();const oe=ag.getOrCreateInstance(V),we=this.getAttribute("data-bs-slide-to");if(we){oe.to(we),oe._maybeEnableCycle();return}if(Yh.getDataAttribute(this,"slide")==="next"){oe.next(),oe._maybeEnableCycle();return}oe.prev(),oe._maybeEnableCycle()});Ca.on(window,wM,()=>{const K=vi.find(DM);for(const V of K)ag.getOrCreateInstance(V)});Mc(ag);const zM="collapse",FM="bs.collapse",ig=`.${FM}`,NM=".data-api",BM=`show${ig}`,UM=`shown${ig}`,VM=`hide${ig}`,HM=`hidden${ig}`,GM=`click${ig}${NM}`,tb="show",gp="collapse",dy="collapsing",WM="collapsed",YM=`:scope .${gp} .${gp}`,XM="collapse-horizontal",ZM="width",jM="height",KM=".collapse.show, .collapse.collapsing",zb='[data-bs-toggle="collapse"]',JM={parent:null,toggle:!0},$M={parent:"(null|element)",toggle:"boolean"};class W0 extends eh{constructor(V,oe){super(V,oe),this._isTransitioning=!1,this._triggerArray=[];const we=vi.find(zb);for(const Ue of we){const it=vi.getSelectorFromElement(Ue),H=vi.find(it).filter(U=>U===this._element);it!==null&&H.length&&this._triggerArray.push(Ue)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return JM}static get DefaultType(){return $M}static get NAME(){return zM}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let V=[];if(this._config.parent&&(V=this._getFirstLevelChildren(KM).filter(U=>U!==this._element).map(U=>W0.getOrCreateInstance(U,{toggle:!1}))),V.length&&V[0]._isTransitioning||Ca.trigger(this._element,BM).defaultPrevented)return;for(const U of V)U.hide();const we=this._getDimension();this._element.classList.remove(gp),this._element.classList.add(dy),this._element.style[we]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Ue=()=>{this._isTransitioning=!1,this._element.classList.remove(dy),this._element.classList.add(gp,tb),this._element.style[we]="",Ca.trigger(this._element,UM)},H=`scroll${we[0].toUpperCase()+we.slice(1)}`;this._queueCallback(Ue,this._element,!0),this._element.style[we]=`${this._element[H]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ca.trigger(this._element,VM).defaultPrevented)return;const oe=this._getDimension();this._element.style[oe]=`${this._element.getBoundingClientRect()[oe]}px`,rg(this._element),this._element.classList.add(dy),this._element.classList.remove(gp,tb);for(const Ue of this._triggerArray){const it=vi.getElementFromSelector(Ue);it&&!this._isShown(it)&&this._addAriaAndCollapsedClass([Ue],!1)}this._isTransitioning=!0;const we=()=>{this._isTransitioning=!1,this._element.classList.remove(dy),this._element.classList.add(gp),Ca.trigger(this._element,HM)};this._element.style[oe]="",this._queueCallback(we,this._element,!0)}_isShown(V=this._element){return V.classList.contains(tb)}_configAfterMerge(V){return V.toggle=!!V.toggle,V.parent=Uv(V.parent),V}_getDimension(){return this._element.classList.contains(XM)?ZM:jM}_initializeChildren(){if(!this._config.parent)return;const V=this._getFirstLevelChildren(zb);for(const oe of V){const we=vi.getElementFromSelector(oe);we&&this._addAriaAndCollapsedClass([oe],this._isShown(we))}}_getFirstLevelChildren(V){const oe=vi.find(YM,this._config.parent);return vi.find(V,this._config.parent).filter(we=>!oe.includes(we))}_addAriaAndCollapsedClass(V,oe){if(V.length)for(const we of V)we.classList.toggle(WM,!oe),we.setAttribute("aria-expanded",oe)}static jQueryInterface(V){const oe={};return typeof V=="string"&&/show|hide/.test(V)&&(oe.toggle=!1),this.each(function(){const we=W0.getOrCreateInstance(this,oe);if(typeof V=="string"){if(typeof we[V]>"u")throw new TypeError(`No method named "${V}"`);we[V]()}})}}Ca.on(document,GM,zb,function(K){(K.target.tagName==="A"||K.delegateTarget&&K.delegateTarget.tagName==="A")&&K.preventDefault();for(const V of vi.getMultipleElementsFromSelector(this))W0.getOrCreateInstance(V,{toggle:!1}).toggle()});Mc(W0);const xw="dropdown",QM="bs.dropdown",Pd=`.${QM}`,T3=".data-api",qM="Escape",bw="Tab",eS="ArrowUp",ww="ArrowDown",tS=2,rS=`hide${Pd}`,nS=`hidden${Pd}`,aS=`show${Pd}`,iS=`shown${Pd}`,o4=`click${Pd}${T3}`,s4=`keydown${Pd}${T3}`,oS=`keyup${Pd}${T3}`,dp="show",sS="dropup",lS="dropend",uS="dropstart",fS="dropup-center",cS="dropdown-center",bd='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',hS=`${bd}.${dp}`,zy=".dropdown-menu",vS=".navbar",dS=".navbar-nav",pS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",gS=Tc()?"top-end":"top-start",yS=Tc()?"top-start":"top-end",mS=Tc()?"bottom-end":"bottom-start",xS=Tc()?"bottom-start":"bottom-end",bS=Tc()?"left-start":"right-start",wS=Tc()?"right-start":"left-start",TS="top",AS="bottom",MS={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},SS={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Eh extends eh{constructor(V,oe){super(V,oe),this._popper=null,this._parent=this._element.parentNode,this._menu=vi.next(this._element,zy)[0]||vi.prev(this._element,zy)[0]||vi.findOne(zy,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return MS}static get DefaultType(){return SS}static get NAME(){return xw}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Vv(this._element)||this._isShown())return;const V={relatedTarget:this._element};if(!Ca.trigger(this._element,aS,V).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(dS))for(const we of[].concat(...document.body.children))Ca.on(we,"mouseover",Yy);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(dp),this._element.classList.add(dp),Ca.trigger(this._element,iS,V)}}hide(){if(Vv(this._element)||!this._isShown())return;const V={relatedTarget:this._element};this._completeHide(V)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(V){if(!Ca.trigger(this._element,rS,V).defaultPrevented){if("ontouchstart"in document.documentElement)for(const we of[].concat(...document.body.children))Ca.off(we,"mouseover",Yy);this._popper&&this._popper.destroy(),this._menu.classList.remove(dp),this._element.classList.remove(dp),this._element.setAttribute("aria-expanded","false"),Yh.removeDataAttribute(this._menu,"popper"),Ca.trigger(this._element,nS,V)}}_getConfig(V){if(V=super._getConfig(V),typeof V.reference=="object"&&!Wh(V.reference)&&typeof V.reference.getBoundingClientRect!="function")throw new TypeError(`${xw.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return V}_createPopper(){if(typeof GT>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let V=this._element;this._config.reference==="parent"?V=this._parent:Wh(this._config.reference)?V=Uv(this._config.reference):typeof this._config.reference=="object"&&(V=this._config.reference);const oe=this._getPopperConfig();this._popper=x3(V,this._menu,oe)}_isShown(){return this._menu.classList.contains(dp)}_getPlacement(){const V=this._parent;if(V.classList.contains(lS))return bS;if(V.classList.contains(uS))return wS;if(V.classList.contains(fS))return TS;if(V.classList.contains(cS))return AS;const oe=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return V.classList.contains(sS)?oe?yS:gS:oe?xS:mS}_detectNavbar(){return this._element.closest(vS)!==null}_getOffset(){const{offset:V}=this._config;return typeof V=="string"?V.split(",").map(oe=>Number.parseInt(oe,10)):typeof V=="function"?oe=>V(oe,this._element):V}_getPopperConfig(){const V={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Yh.setDataAttribute(this._menu,"popper","static"),V.modifiers=[{name:"applyStyles",enabled:!1}]),{...V,...gf(this._config.popperConfig,[V])}}_selectMenuItem({key:V,target:oe}){const we=vi.find(pS,this._menu).filter(Ue=>Np(Ue));we.length&&b3(we,oe,V===ww,!we.includes(oe)).focus()}static jQueryInterface(V){return this.each(function(){const oe=Eh.getOrCreateInstance(this,V);if(typeof V=="string"){if(typeof oe[V]>"u")throw new TypeError(`No method named "${V}"`);oe[V]()}})}static clearMenus(V){if(V.button===tS||V.type==="keyup"&&V.key!==bw)return;const oe=vi.find(hS);for(const we of oe){const Ue=Eh.getInstance(we);if(!Ue||Ue._config.autoClose===!1)continue;const it=V.composedPath(),H=it.includes(Ue._menu);if(it.includes(Ue._element)||Ue._config.autoClose==="inside"&&!H||Ue._config.autoClose==="outside"&&H||Ue._menu.contains(V.target)&&(V.type==="keyup"&&V.key===bw||/input|select|option|textarea|form/i.test(V.target.tagName)))continue;const U={relatedTarget:Ue._element};V.type==="click"&&(U.clickEvent=V),Ue._completeHide(U)}}static dataApiKeydownHandler(V){const oe=/input|textarea/i.test(V.target.tagName),we=V.key===qM,Ue=[eS,ww].includes(V.key);if(!Ue&&!we||oe&&!we)return;V.preventDefault();const it=this.matches(bd)?this:vi.prev(this,bd)[0]||vi.next(this,bd)[0]||vi.findOne(bd,V.delegateTarget.parentNode),H=Eh.getOrCreateInstance(it);if(Ue){V.stopPropagation(),H.show(),H._selectMenuItem(V);return}H._isShown()&&(V.stopPropagation(),H.hide(),it.focus())}}Ca.on(document,s4,bd,Eh.dataApiKeydownHandler);Ca.on(document,s4,zy,Eh.dataApiKeydownHandler);Ca.on(document,o4,Eh.clearMenus);Ca.on(document,oS,Eh.clearMenus);Ca.on(document,o4,bd,function(K){K.preventDefault(),Eh.getOrCreateInstance(this).toggle()});Mc(Eh);const l4="backdrop",ES="fade",Tw="show",Aw=`mousedown.bs.${l4}`,CS={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},LS={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class u4 extends ng{constructor(V){super(),this._config=this._getConfig(V),this._isAppended=!1,this._element=null}static get Default(){return CS}static get DefaultType(){return LS}static get NAME(){return l4}show(V){if(!this._config.isVisible){gf(V);return}this._append();const oe=this._getElement();this._config.isAnimated&&rg(oe),oe.classList.add(Tw),this._emulateAnimation(()=>{gf(V)})}hide(V){if(!this._config.isVisible){gf(V);return}this._getElement().classList.remove(Tw),this._emulateAnimation(()=>{this.dispose(),gf(V)})}dispose(){this._isAppended&&(Ca.off(this._element,Aw),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const V=document.createElement("div");V.className=this._config.className,this._config.isAnimated&&V.classList.add(ES),this._element=V}return this._element}_configAfterMerge(V){return V.rootElement=Uv(V.rootElement),V}_append(){if(this._isAppended)return;const V=this._getElement();this._config.rootElement.append(V),Ca.on(V,Aw,()=>{gf(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(V){jT(V,this._getElement(),this._config.isAnimated)}}const _S="focustrap",PS="bs.focustrap",Zy=`.${PS}`,RS=`focusin${Zy}`,DS=`keydown.tab${Zy}`,IS="Tab",kS="forward",Mw="backward",OS={autofocus:!0,trapElement:null},zS={autofocus:"boolean",trapElement:"element"};class f4 extends ng{constructor(V){super(),this._config=this._getConfig(V),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return OS}static get DefaultType(){return zS}static get NAME(){return _S}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ca.off(document,Zy),Ca.on(document,RS,V=>this._handleFocusin(V)),Ca.on(document,DS,V=>this._handleKeydown(V)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ca.off(document,Zy))}_handleFocusin(V){const{trapElement:oe}=this._config;if(V.target===document||V.target===oe||oe.contains(V.target))return;const we=vi.focusableChildren(oe);we.length===0?oe.focus():this._lastTabNavDirection===Mw?we[we.length-1].focus():we[0].focus()}_handleKeydown(V){V.key===IS&&(this._lastTabNavDirection=V.shiftKey?Mw:kS)}}const Sw=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ew=".sticky-top",py="padding-right",Cw="margin-right";class Fb{constructor(){this._element=document.body}getWidth(){const V=document.documentElement.clientWidth;return Math.abs(window.innerWidth-V)}hide(){const V=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,py,oe=>oe+V),this._setElementAttributes(Sw,py,oe=>oe+V),this._setElementAttributes(Ew,Cw,oe=>oe-V)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,py),this._resetElementAttributes(Sw,py),this._resetElementAttributes(Ew,Cw)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(V,oe,we){const Ue=this.getWidth(),it=H=>{if(H!==this._element&&window.innerWidth>H.clientWidth+Ue)return;this._saveInitialAttribute(H,oe);const U=window.getComputedStyle(H).getPropertyValue(oe);H.style.setProperty(oe,`${we(Number.parseFloat(U))}px`)};this._applyManipulationCallback(V,it)}_saveInitialAttribute(V,oe){const we=V.style.getPropertyValue(oe);we&&Yh.setDataAttribute(V,oe,we)}_resetElementAttributes(V,oe){const we=Ue=>{const it=Yh.getDataAttribute(Ue,oe);if(it===null){Ue.style.removeProperty(oe);return}Yh.removeDataAttribute(Ue,oe),Ue.style.setProperty(oe,it)};this._applyManipulationCallback(V,we)}_applyManipulationCallback(V,oe){if(Wh(V)){oe(V);return}for(const we of vi.find(V,this._element))oe(we)}}const FS="modal",NS="bs.modal",Ac=`.${NS}`,BS=".data-api",US="Escape",VS=`hide${Ac}`,HS=`hidePrevented${Ac}`,c4=`hidden${Ac}`,h4=`show${Ac}`,GS=`shown${Ac}`,WS=`resize${Ac}`,YS=`click.dismiss${Ac}`,XS=`mousedown.dismiss${Ac}`,ZS=`keydown.dismiss${Ac}`,jS=`click${Ac}${BS}`,Lw="modal-open",KS="fade",_w="show",rb="modal-static",JS=".modal.show",$S=".modal-dialog",QS=".modal-body",qS='[data-bs-toggle="modal"]',eE={backdrop:!0,focus:!0,keyboard:!0},tE={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Pp extends eh{constructor(V,oe){super(V,oe),this._dialog=vi.findOne($S,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Fb,this._addEventListeners()}static get Default(){return eE}static get DefaultType(){return tE}static get NAME(){return FS}toggle(V){return this._isShown?this.hide():this.show(V)}show(V){this._isShown||this._isTransitioning||Ca.trigger(this._element,h4,{relatedTarget:V}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Lw),this._adjustDialog(),this._backdrop.show(()=>this._showElement(V)))}hide(){!this._isShown||this._isTransitioning||Ca.trigger(this._element,VS).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(_w),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Ca.off(window,Ac),Ca.off(this._dialog,Ac),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new u4({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new f4({trapElement:this._element})}_showElement(V){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const oe=vi.findOne(QS,this._dialog);oe&&(oe.scrollTop=0),rg(this._element),this._element.classList.add(_w);const we=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ca.trigger(this._element,GS,{relatedTarget:V})};this._queueCallback(we,this._dialog,this._isAnimated())}_addEventListeners(){Ca.on(this._element,ZS,V=>{if(V.key===US){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Ca.on(window,WS,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ca.on(this._element,XS,V=>{Ca.one(this._element,YS,oe=>{if(!(this._element!==V.target||this._element!==oe.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Lw),this._resetAdjustments(),this._scrollBar.reset(),Ca.trigger(this._element,c4)})}_isAnimated(){return this._element.classList.contains(KS)}_triggerBackdropTransition(){if(Ca.trigger(this._element,HS).defaultPrevented)return;const oe=this._element.scrollHeight>document.documentElement.clientHeight,we=this._element.style.overflowY;we==="hidden"||this._element.classList.contains(rb)||(oe||(this._element.style.overflowY="hidden"),this._element.classList.add(rb),this._queueCallback(()=>{this._element.classList.remove(rb),this._queueCallback(()=>{this._element.style.overflowY=we},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const V=this._element.scrollHeight>document.documentElement.clientHeight,oe=this._scrollBar.getWidth(),we=oe>0;if(we&&!V){const Ue=Tc()?"paddingLeft":"paddingRight";this._element.style[Ue]=`${oe}px`}if(!we&&V){const Ue=Tc()?"paddingRight":"paddingLeft";this._element.style[Ue]=`${oe}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(V,oe){return this.each(function(){const we=Pp.getOrCreateInstance(this,V);if(typeof V=="string"){if(typeof we[V]>"u")throw new TypeError(`No method named "${V}"`);we[V](oe)}})}}Ca.on(document,jS,qS,function(K){const V=vi.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&K.preventDefault(),Ca.one(V,h4,Ue=>{Ue.defaultPrevented||Ca.one(V,c4,()=>{Np(this)&&this.focus()})});const oe=vi.findOne(JS);oe&&Pp.getInstance(oe).hide(),Pp.getOrCreateInstance(V).toggle(this)});cm(Pp);Mc(Pp);const rE="offcanvas",nE="bs.offcanvas",Jh=`.${nE}`,v4=".data-api",aE=`load${Jh}${v4}`,iE="Escape",Pw="show",Rw="showing",Dw="hiding",oE="offcanvas-backdrop",d4=".offcanvas.show",sE=`show${Jh}`,lE=`shown${Jh}`,uE=`hide${Jh}`,Iw=`hidePrevented${Jh}`,p4=`hidden${Jh}`,fE=`resize${Jh}`,cE=`click${Jh}${v4}`,hE=`keydown.dismiss${Jh}`,vE='[data-bs-toggle="offcanvas"]',dE={backdrop:!0,keyboard:!0,scroll:!1},pE={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Hv extends eh{constructor(V,oe){super(V,oe),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return dE}static get DefaultType(){return pE}static get NAME(){return rE}toggle(V){return this._isShown?this.hide():this.show(V)}show(V){if(this._isShown||Ca.trigger(this._element,sE,{relatedTarget:V}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Fb().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Rw);const we=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Pw),this._element.classList.remove(Rw),Ca.trigger(this._element,lE,{relatedTarget:V})};this._queueCallback(we,this._element,!0)}hide(){if(!this._isShown||Ca.trigger(this._element,uE).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Dw),this._backdrop.hide();const oe=()=>{this._element.classList.remove(Pw,Dw),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Fb().reset(),Ca.trigger(this._element,p4)};this._queueCallback(oe,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const V=()=>{if(this._config.backdrop==="static"){Ca.trigger(this._element,Iw);return}this.hide()},oe=!!this._config.backdrop;return new u4({className:oE,isVisible:oe,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:oe?V:null})}_initializeFocusTrap(){return new f4({trapElement:this._element})}_addEventListeners(){Ca.on(this._element,hE,V=>{if(V.key===iE){if(this._config.keyboard){this.hide();return}Ca.trigger(this._element,Iw)}})}static jQueryInterface(V){return this.each(function(){const oe=Hv.getOrCreateInstance(this,V);if(typeof V=="string"){if(oe[V]===void 0||V.startsWith("_")||V==="constructor")throw new TypeError(`No method named "${V}"`);oe[V](this)}})}}Ca.on(document,cE,vE,function(K){const V=vi.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&K.preventDefault(),Vv(this))return;Ca.one(V,p4,()=>{Np(this)&&this.focus()});const oe=vi.findOne(d4);oe&&oe!==V&&Hv.getInstance(oe).hide(),Hv.getOrCreateInstance(V).toggle(this)});Ca.on(window,aE,()=>{for(const K of vi.find(d4))Hv.getOrCreateInstance(K).show()});Ca.on(window,fE,()=>{for(const K of vi.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(K).position!=="fixed"&&Hv.getOrCreateInstance(K).hide()});cm(Hv);Mc(Hv);const gE=/^aria-[\w-]*$/i,g4={"*":["class","dir","id","lang","role",gE],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},yE=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),mE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,xE=(K,V)=>{const oe=K.nodeName.toLowerCase();return V.includes(oe)?yE.has(oe)?!!mE.test(K.nodeValue):!0:V.filter(we=>we instanceof RegExp).some(we=>we.test(oe))};function bE(K,V,oe){if(!K.length)return K;if(oe&&typeof oe=="function")return oe(K);const Ue=new window.DOMParser().parseFromString(K,"text/html"),it=[].concat(...Ue.body.querySelectorAll("*"));for(const H of it){const U=H.nodeName.toLowerCase();if(!Object.keys(V).includes(U)){H.remove();continue}const e=[].concat(...H.attributes),p=[].concat(V["*"]||[],V[U]||[]);for(const L of e)xE(L,p)||H.removeAttribute(L.nodeName)}return Ue.body.innerHTML}const wE="TemplateFactory",TE={allowList:g4,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},AE={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ME={entry:"(string|element|function|null)",selector:"(string|element)"};class SE extends ng{constructor(V){super(),this._config=this._getConfig(V)}static get Default(){return TE}static get DefaultType(){return AE}static get NAME(){return wE}getContent(){return Object.values(this._config.content).map(V=>this._resolvePossibleFunction(V)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(V){return this._checkContent(V),this._config.content={...this._config.content,...V},this}toHtml(){const V=document.createElement("div");V.innerHTML=this._maybeSanitize(this._config.template);for(const[Ue,it]of Object.entries(this._config.content))this._setContent(V,it,Ue);const oe=V.children[0],we=this._resolvePossibleFunction(this._config.extraClass);return we&&oe.classList.add(...we.split(" ")),oe}_typeCheckConfig(V){super._typeCheckConfig(V),this._checkContent(V.content)}_checkContent(V){for(const[oe,we]of Object.entries(V))super._typeCheckConfig({selector:oe,entry:we},ME)}_setContent(V,oe,we){const Ue=vi.findOne(we,V);if(Ue){if(oe=this._resolvePossibleFunction(oe),!oe){Ue.remove();return}if(Wh(oe)){this._putElementInTemplate(Uv(oe),Ue);return}if(this._config.html){Ue.innerHTML=this._maybeSanitize(oe);return}Ue.textContent=oe}}_maybeSanitize(V){return this._config.sanitize?bE(V,this._config.allowList,this._config.sanitizeFn):V}_resolvePossibleFunction(V){return gf(V,[this])}_putElementInTemplate(V,oe){if(this._config.html){oe.innerHTML="",oe.append(V);return}oe.textContent=V.textContent}}const EE="tooltip",CE=new Set(["sanitize","allowList","sanitizeFn"]),nb="fade",LE="modal",gy="show",_E=".tooltip-inner",kw=`.${LE}`,Ow="hide.bs.modal",C0="hover",ab="focus",PE="click",RE="manual",DE="hide",IE="hidden",kE="show",OE="shown",zE="inserted",FE="click",NE="focusin",BE="focusout",UE="mouseenter",VE="mouseleave",HE={AUTO:"auto",TOP:"top",RIGHT:Tc()?"left":"right",BOTTOM:"bottom",LEFT:Tc()?"right":"left"},GE={allowList:g4,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},WE={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Up extends eh{constructor(V,oe){if(typeof GT>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(V,oe),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return GE}static get DefaultType(){return WE}static get NAME(){return EE}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Ca.off(this._element.closest(kw),Ow,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const V=Ca.trigger(this._element,this.constructor.eventName(kE)),we=(XT(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(V.defaultPrevented||!we)return;this._disposePopper();const Ue=this._getTipElement();this._element.setAttribute("aria-describedby",Ue.getAttribute("id"));const{container:it}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(it.append(Ue),Ca.trigger(this._element,this.constructor.eventName(zE))),this._popper=this._createPopper(Ue),Ue.classList.add(gy),"ontouchstart"in document.documentElement)for(const U of[].concat(...document.body.children))Ca.on(U,"mouseover",Yy);const H=()=>{Ca.trigger(this._element,this.constructor.eventName(OE)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(H,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Ca.trigger(this._element,this.constructor.eventName(DE)).defaultPrevented)return;if(this._getTipElement().classList.remove(gy),"ontouchstart"in document.documentElement)for(const Ue of[].concat(...document.body.children))Ca.off(Ue,"mouseover",Yy);this._activeTrigger[PE]=!1,this._activeTrigger[ab]=!1,this._activeTrigger[C0]=!1,this._isHovered=null;const we=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ca.trigger(this._element,this.constructor.eventName(IE)))};this._queueCallback(we,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(V){const oe=this._getTemplateFactory(V).toHtml();if(!oe)return null;oe.classList.remove(nb,gy),oe.classList.add(`bs-${this.constructor.NAME}-auto`);const we=P6(this.constructor.NAME).toString();return oe.setAttribute("id",we),this._isAnimated()&&oe.classList.add(nb),oe}setContent(V){this._newContent=V,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(V){return this._templateFactory?this._templateFactory.changeContent(V):this._templateFactory=new SE({...this._config,content:V,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[_E]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(V){return this.constructor.getOrCreateInstance(V.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nb)}_isShown(){return this.tip&&this.tip.classList.contains(gy)}_createPopper(V){const oe=gf(this._config.placement,[this,V,this._element]),we=HE[oe.toUpperCase()];return x3(this._element,V,this._getPopperConfig(we))}_getOffset(){const{offset:V}=this._config;return typeof V=="string"?V.split(",").map(oe=>Number.parseInt(oe,10)):typeof V=="function"?oe=>V(oe,this._element):V}_resolvePossibleFunction(V){return gf(V,[this._element])}_getPopperConfig(V){const oe={placement:V,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:we=>{this._getTipElement().setAttribute("data-popper-placement",we.state.placement)}}]};return{...oe,...gf(this._config.popperConfig,[oe])}}_setListeners(){const V=this._config.trigger.split(" ");for(const oe of V)if(oe==="click")Ca.on(this._element,this.constructor.eventName(FE),this._config.selector,we=>{this._initializeOnDelegatedTarget(we).toggle()});else if(oe!==RE){const we=oe===C0?this.constructor.eventName(UE):this.constructor.eventName(NE),Ue=oe===C0?this.constructor.eventName(VE):this.constructor.eventName(BE);Ca.on(this._element,we,this._config.selector,it=>{const H=this._initializeOnDelegatedTarget(it);H._activeTrigger[it.type==="focusin"?ab:C0]=!0,H._enter()}),Ca.on(this._element,Ue,this._config.selector,it=>{const H=this._initializeOnDelegatedTarget(it);H._activeTrigger[it.type==="focusout"?ab:C0]=H._element.contains(it.relatedTarget),H._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ca.on(this._element.closest(kw),Ow,this._hideModalHandler)}_fixTitle(){const V=this._element.getAttribute("title");V&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",V),this._element.setAttribute("data-bs-original-title",V),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(V,oe){clearTimeout(this._timeout),this._timeout=setTimeout(V,oe)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(V){const oe=Yh.getDataAttributes(this._element);for(const we of Object.keys(oe))CE.has(we)&&delete oe[we];return V={...oe,...typeof V=="object"&&V?V:{}},V=this._mergeConfigObj(V),V=this._configAfterMerge(V),this._typeCheckConfig(V),V}_configAfterMerge(V){return V.container=V.container===!1?document.body:Uv(V.container),typeof V.delay=="number"&&(V.delay={show:V.delay,hide:V.delay}),typeof V.title=="number"&&(V.title=V.title.toString()),typeof V.content=="number"&&(V.content=V.content.toString()),V}_getDelegateConfig(){const V={};for(const[oe,we]of Object.entries(this._config))this.constructor.Default[oe]!==we&&(V[oe]=we);return V.selector=!1,V.trigger="manual",V}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(V){return this.each(function(){const oe=Up.getOrCreateInstance(this,V);if(typeof V=="string"){if(typeof oe[V]>"u")throw new TypeError(`No method named "${V}"`);oe[V]()}})}}Mc(Up);const YE="popover",XE=".popover-header",ZE=".popover-body",jE={...Up.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},KE={...Up.DefaultType,content:"(null|string|element|function)"};class A3 extends Up{static get Default(){return jE}static get DefaultType(){return KE}static get NAME(){return YE}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[XE]:this._getTitle(),[ZE]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(V){return this.each(function(){const oe=A3.getOrCreateInstance(this,V);if(typeof V=="string"){if(typeof oe[V]>"u")throw new TypeError(`No method named "${V}"`);oe[V]()}})}}Mc(A3);const JE="scrollspy",$E="bs.scrollspy",M3=`.${$E}`,QE=".data-api",qE=`activate${M3}`,zw=`click${M3}`,e8=`load${M3}${QE}`,t8="dropdown-item",lp="active",r8='[data-bs-spy="scroll"]',ib="[href]",n8=".nav, .list-group",Fw=".nav-link",a8=".nav-item",i8=".list-group-item",o8=`${Fw}, ${a8} > ${Fw}, ${i8}`,s8=".dropdown",l8=".dropdown-toggle",u8={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},f8={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class dm extends eh{constructor(V,oe){super(V,oe),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return u8}static get DefaultType(){return f8}static get NAME(){return JE}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const V of this._observableSections.values())this._observer.observe(V)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(V){return V.target=Uv(V.target)||document.body,V.rootMargin=V.offset?`${V.offset}px 0px -30%`:V.rootMargin,typeof V.threshold=="string"&&(V.threshold=V.threshold.split(",").map(oe=>Number.parseFloat(oe))),V}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ca.off(this._config.target,zw),Ca.on(this._config.target,zw,ib,V=>{const oe=this._observableSections.get(V.target.hash);if(oe){V.preventDefault();const we=this._rootElement||window,Ue=oe.offsetTop-this._element.offsetTop;if(we.scrollTo){we.scrollTo({top:Ue,behavior:"smooth"});return}we.scrollTop=Ue}}))}_getNewObserver(){const V={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(oe=>this._observerCallback(oe),V)}_observerCallback(V){const oe=H=>this._targetLinks.get(`#${H.target.id}`),we=H=>{this._previousScrollData.visibleEntryTop=H.target.offsetTop,this._process(oe(H))},Ue=(this._rootElement||document.documentElement).scrollTop,it=Ue>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ue;for(const H of V){if(!H.isIntersecting){this._activeTarget=null,this._clearActiveClass(oe(H));continue}const U=H.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(it&&U){if(we(H),!Ue)return;continue}!it&&!U&&we(H)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const V=vi.find(ib,this._config.target);for(const oe of V){if(!oe.hash||Vv(oe))continue;const we=vi.findOne(decodeURI(oe.hash),this._element);Np(we)&&(this._targetLinks.set(decodeURI(oe.hash),oe),this._observableSections.set(oe.hash,we))}}_process(V){this._activeTarget!==V&&(this._clearActiveClass(this._config.target),this._activeTarget=V,V.classList.add(lp),this._activateParents(V),Ca.trigger(this._element,qE,{relatedTarget:V}))}_activateParents(V){if(V.classList.contains(t8)){vi.findOne(l8,V.closest(s8)).classList.add(lp);return}for(const oe of vi.parents(V,n8))for(const we of vi.prev(oe,o8))we.classList.add(lp)}_clearActiveClass(V){V.classList.remove(lp);const oe=vi.find(`${ib}.${lp}`,V);for(const we of oe)we.classList.remove(lp)}static jQueryInterface(V){return this.each(function(){const oe=dm.getOrCreateInstance(this,V);if(typeof V=="string"){if(oe[V]===void 0||V.startsWith("_")||V==="constructor")throw new TypeError(`No method named "${V}"`);oe[V]()}})}}Ca.on(window,e8,()=>{for(const K of vi.find(r8))dm.getOrCreateInstance(K)});Mc(dm);const c8="tab",h8="bs.tab",Rd=`.${h8}`,v8=`hide${Rd}`,d8=`hidden${Rd}`,p8=`show${Rd}`,g8=`shown${Rd}`,y8=`click${Rd}`,m8=`keydown${Rd}`,x8=`load${Rd}`,b8="ArrowLeft",Nw="ArrowRight",w8="ArrowUp",Bw="ArrowDown",ob="Home",Uw="End",wd="active",Vw="fade",sb="show",T8="dropdown",y4=".dropdown-toggle",A8=".dropdown-menu",lb=`:not(${y4})`,M8='.list-group, .nav, [role="tablist"]',S8=".nav-item, .list-group-item",E8=`.nav-link${lb}, .list-group-item${lb}, [role="tab"]${lb}`,m4='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ub=`${E8}, ${m4}`,C8=`.${wd}[data-bs-toggle="tab"], .${wd}[data-bs-toggle="pill"], .${wd}[data-bs-toggle="list"]`;class Rp extends eh{constructor(V){super(V),this._parent=this._element.closest(M8),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ca.on(this._element,m8,oe=>this._keydown(oe)))}static get NAME(){return c8}show(){const V=this._element;if(this._elemIsActive(V))return;const oe=this._getActiveElem(),we=oe?Ca.trigger(oe,v8,{relatedTarget:V}):null;Ca.trigger(V,p8,{relatedTarget:oe}).defaultPrevented||we&&we.defaultPrevented||(this._deactivate(oe,V),this._activate(V,oe))}_activate(V,oe){if(!V)return;V.classList.add(wd),this._activate(vi.getElementFromSelector(V));const we=()=>{if(V.getAttribute("role")!=="tab"){V.classList.add(sb);return}V.removeAttribute("tabindex"),V.setAttribute("aria-selected",!0),this._toggleDropDown(V,!0),Ca.trigger(V,g8,{relatedTarget:oe})};this._queueCallback(we,V,V.classList.contains(Vw))}_deactivate(V,oe){if(!V)return;V.classList.remove(wd),V.blur(),this._deactivate(vi.getElementFromSelector(V));const we=()=>{if(V.getAttribute("role")!=="tab"){V.classList.remove(sb);return}V.setAttribute("aria-selected",!1),V.setAttribute("tabindex","-1"),this._toggleDropDown(V,!1),Ca.trigger(V,d8,{relatedTarget:oe})};this._queueCallback(we,V,V.classList.contains(Vw))}_keydown(V){if(![b8,Nw,w8,Bw,ob,Uw].includes(V.key))return;V.stopPropagation(),V.preventDefault();const oe=this._getChildren().filter(Ue=>!Vv(Ue));let we;if([ob,Uw].includes(V.key))we=oe[V.key===ob?0:oe.length-1];else{const Ue=[Nw,Bw].includes(V.key);we=b3(oe,V.target,Ue,!0)}we&&(we.focus({preventScroll:!0}),Rp.getOrCreateInstance(we).show())}_getChildren(){return vi.find(ub,this._parent)}_getActiveElem(){return this._getChildren().find(V=>this._elemIsActive(V))||null}_setInitialAttributes(V,oe){this._setAttributeIfNotExists(V,"role","tablist");for(const we of oe)this._setInitialAttributesOnChild(we)}_setInitialAttributesOnChild(V){V=this._getInnerElement(V);const oe=this._elemIsActive(V),we=this._getOuterElement(V);V.setAttribute("aria-selected",oe),we!==V&&this._setAttributeIfNotExists(we,"role","presentation"),oe||V.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(V,"role","tab"),this._setInitialAttributesOnTargetPanel(V)}_setInitialAttributesOnTargetPanel(V){const oe=vi.getElementFromSelector(V);oe&&(this._setAttributeIfNotExists(oe,"role","tabpanel"),V.id&&this._setAttributeIfNotExists(oe,"aria-labelledby",`${V.id}`))}_toggleDropDown(V,oe){const we=this._getOuterElement(V);if(!we.classList.contains(T8))return;const Ue=(it,H)=>{const U=vi.findOne(it,we);U&&U.classList.toggle(H,oe)};Ue(y4,wd),Ue(A8,sb),we.setAttribute("aria-expanded",oe)}_setAttributeIfNotExists(V,oe,we){V.hasAttribute(oe)||V.setAttribute(oe,we)}_elemIsActive(V){return V.classList.contains(wd)}_getInnerElement(V){return V.matches(ub)?V:vi.findOne(ub,V)}_getOuterElement(V){return V.closest(S8)||V}static jQueryInterface(V){return this.each(function(){const oe=Rp.getOrCreateInstance(this);if(typeof V=="string"){if(oe[V]===void 0||V.startsWith("_")||V==="constructor")throw new TypeError(`No method named "${V}"`);oe[V]()}})}}Ca.on(document,y8,m4,function(K){["A","AREA"].includes(this.tagName)&&K.preventDefault(),!Vv(this)&&Rp.getOrCreateInstance(this).show()});Ca.on(window,x8,()=>{for(const K of vi.find(C8))Rp.getOrCreateInstance(K)});Mc(Rp);const L8="toast",_8="bs.toast",Zv=`.${_8}`,P8=`mouseover${Zv}`,R8=`mouseout${Zv}`,D8=`focusin${Zv}`,I8=`focusout${Zv}`,k8=`hide${Zv}`,O8=`hidden${Zv}`,z8=`show${Zv}`,F8=`shown${Zv}`,N8="fade",Hw="hide",yy="show",my="showing",B8={animation:"boolean",autohide:"boolean",delay:"number"},U8={animation:!0,autohide:!0,delay:5e3};class pm extends eh{constructor(V,oe){super(V,oe),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return U8}static get DefaultType(){return B8}static get NAME(){return L8}show(){if(Ca.trigger(this._element,z8).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(N8);const oe=()=>{this._element.classList.remove(my),Ca.trigger(this._element,F8),this._maybeScheduleHide()};this._element.classList.remove(Hw),rg(this._element),this._element.classList.add(yy,my),this._queueCallback(oe,this._element,this._config.animation)}hide(){if(!this.isShown()||Ca.trigger(this._element,k8).defaultPrevented)return;const oe=()=>{this._element.classList.add(Hw),this._element.classList.remove(my,yy),Ca.trigger(this._element,O8)};this._element.classList.add(my),this._queueCallback(oe,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(yy),super.dispose()}isShown(){return this._element.classList.contains(yy)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(V,oe){switch(V.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=oe;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=oe;break}}if(oe){this._clearTimeout();return}const we=V.relatedTarget;this._element===we||this._element.contains(we)||this._maybeScheduleHide()}_setListeners(){Ca.on(this._element,P8,V=>this._onInteraction(V,!0)),Ca.on(this._element,R8,V=>this._onInteraction(V,!1)),Ca.on(this._element,D8,V=>this._onInteraction(V,!0)),Ca.on(this._element,I8,V=>this._onInteraction(V,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(V){return this.each(function(){const oe=pm.getOrCreateInstance(this,V);if(typeof V=="string"){if(typeof oe[V]>"u")throw new TypeError(`No method named "${V}"`);oe[V](this)}})}}cm(pm);Mc(pm);/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function S3(K,V){const oe=new Set(K.split(","));return V?we=>oe.has(we.toLowerCase()):we=>oe.has(we)}const as={},mp=[],yc=()=>{},V8=()=>!1,gm=K=>K.charCodeAt(0)===111&&K.charCodeAt(1)===110&&(K.charCodeAt(2)>122||K.charCodeAt(2)<97),E3=K=>K.startsWith("onUpdate:"),Vl=Object.assign,C3=(K,V)=>{const oe=K.indexOf(V);oe>-1&&K.splice(oe,1)},H8=Object.prototype.hasOwnProperty,vo=(K,V)=>H8.call(K,V),wi=Array.isArray,xp=K=>og(K)==="[object Map]",ym=K=>og(K)==="[object Set]",Gw=K=>og(K)==="[object Date]",Bi=K=>typeof K=="function",sl=K=>typeof K=="string",Gv=K=>typeof K=="symbol",Ko=K=>K!==null&&typeof K=="object",x4=K=>(Ko(K)||Bi(K))&&Bi(K.then)&&Bi(K.catch),b4=Object.prototype.toString,og=K=>b4.call(K),G8=K=>og(K).slice(8,-1),w4=K=>og(K)==="[object Object]",L3=K=>sl(K)&&K!=="NaN"&&K[0]!=="-"&&""+parseInt(K,10)===K,F0=S3(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mm=K=>{const V=Object.create(null);return oe=>V[oe]||(V[oe]=K(oe))},W8=/-(\w)/g,Lh=mm(K=>K.replace(W8,(V,oe)=>oe?oe.toUpperCase():"")),Y8=/\B([A-Z])/g,Vp=mm(K=>K.replace(Y8,"-$1").toLowerCase()),xm=mm(K=>K.charAt(0).toUpperCase()+K.slice(1)),fb=mm(K=>K?`on${xm(K)}`:""),Wv=(K,V)=>!Object.is(K,V),Fy=(K,V)=>{for(let oe=0;oe<K.length;oe++)K[oe](V)},jy=(K,V,oe)=>{Object.defineProperty(K,V,{configurable:!0,enumerable:!1,value:oe})},Y0=K=>{const V=parseFloat(K);return isNaN(V)?K:V};let Ww;const T4=()=>Ww||(Ww=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _3(K){if(wi(K)){const V={};for(let oe=0;oe<K.length;oe++){const we=K[oe],Ue=sl(we)?K8(we):_3(we);if(Ue)for(const it in Ue)V[it]=Ue[it]}return V}else if(sl(K)||Ko(K))return K}const X8=/;(?![^(]*\))/g,Z8=/:([^]+)/,j8=/\/\*[^]*?\*\//g;function K8(K){const V={};return K.replace(j8,"").split(X8).forEach(oe=>{if(oe){const we=oe.split(Z8);we.length>1&&(V[we[0].trim()]=we[1].trim())}}),V}function bm(K){let V="";if(sl(K))V=K;else if(wi(K))for(let oe=0;oe<K.length;oe++){const we=bm(K[oe]);we&&(V+=we+" ")}else if(Ko(K))for(const oe in K)K[oe]&&(V+=oe+" ");return V.trim()}const J8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$8=S3(J8);function A4(K){return!!K||K===""}function Q8(K,V){if(K.length!==V.length)return!1;let oe=!0;for(let we=0;oe&&we<K.length;we++)oe=wm(K[we],V[we]);return oe}function wm(K,V){if(K===V)return!0;let oe=Gw(K),we=Gw(V);if(oe||we)return oe&&we?K.getTime()===V.getTime():!1;if(oe=Gv(K),we=Gv(V),oe||we)return K===V;if(oe=wi(K),we=wi(V),oe||we)return oe&&we?Q8(K,V):!1;if(oe=Ko(K),we=Ko(V),oe||we){if(!oe||!we)return!1;const Ue=Object.keys(K).length,it=Object.keys(V).length;if(Ue!==it)return!1;for(const H in K){const U=K.hasOwnProperty(H),e=V.hasOwnProperty(H);if(U&&!e||!U&&e||!wm(K[H],V[H]))return!1}}return String(K)===String(V)}function q8(K,V){return K.findIndex(oe=>wm(oe,V))}const nu=K=>sl(K)?K:K==null?"":wi(K)||Ko(K)&&(K.toString===b4||!Bi(K.toString))?JSON.stringify(K,M4,2):String(K),M4=(K,V)=>V&&V.__v_isRef?M4(K,V.value):xp(V)?{[`Map(${V.size})`]:[...V.entries()].reduce((oe,[we,Ue],it)=>(oe[cb(we,it)+" =>"]=Ue,oe),{})}:ym(V)?{[`Set(${V.size})`]:[...V.values()].map(oe=>cb(oe))}:Gv(V)?cb(V):Ko(V)&&!wi(V)&&!w4(V)?String(V):V,cb=(K,V="")=>{var oe;return Gv(K)?`Symbol(${(oe=K.description)!=null?oe:V})`:K};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yf;class S4{constructor(V=!1){this.detached=V,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yf,!V&&Yf&&(this.index=(Yf.scopes||(Yf.scopes=[])).push(this)-1)}get active(){return this._active}run(V){if(this._active){const oe=Yf;try{return Yf=this,V()}finally{Yf=oe}}}on(){Yf=this}off(){Yf=this.parent}stop(V){if(this._active){let oe,we;for(oe=0,we=this.effects.length;oe<we;oe++)this.effects[oe].stop();for(oe=0,we=this.cleanups.length;oe<we;oe++)this.cleanups[oe]();if(this.scopes)for(oe=0,we=this.scopes.length;oe<we;oe++)this.scopes[oe].stop(!0);if(!this.detached&&this.parent&&!V){const Ue=this.parent.scopes.pop();Ue&&Ue!==this&&(this.parent.scopes[this.index]=Ue,Ue.index=this.index)}this.parent=void 0,this._active=!1}}}function E4(K){return new S4(K)}function eC(K,V=Yf){V&&V.active&&V.effects.push(K)}function C4(){return Yf}function tC(K){Yf&&Yf.cleanups.push(K)}let Sd;class P3{constructor(V,oe,we,Ue){this.fn=V,this.trigger=oe,this.scheduler=we,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,eC(this,Ue)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Dd();for(let V=0;V<this._depsLength;V++){const oe=this.deps[V];if(oe.computed&&(rC(oe.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Id()}return this._dirtyLevel>=4}set dirty(V){this._dirtyLevel=V?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let V=Fv,oe=Sd;try{return Fv=!0,Sd=this,this._runnings++,Yw(this),this.fn()}finally{Xw(this),this._runnings--,Sd=oe,Fv=V}}stop(){var V;this.active&&(Yw(this),Xw(this),(V=this.onStop)==null||V.call(this),this.active=!1)}}function rC(K){return K.value}function Yw(K){K._trackId++,K._depsLength=0}function Xw(K){if(K.deps.length>K._depsLength){for(let V=K._depsLength;V<K.deps.length;V++)L4(K.deps[V],K);K.deps.length=K._depsLength}}function L4(K,V){const oe=K.get(V);oe!==void 0&&V._trackId!==oe&&(K.delete(V),K.size===0&&K.cleanup())}let Fv=!0,Nb=0;const _4=[];function Dd(){_4.push(Fv),Fv=!1}function Id(){const K=_4.pop();Fv=K===void 0?!0:K}function R3(){Nb++}function D3(){for(Nb--;!Nb&&Bb.length;)Bb.shift()()}function P4(K,V,oe){if(V.get(K)!==K._trackId){V.set(K,K._trackId);const we=K.deps[K._depsLength];we!==V?(we&&L4(we,K),K.deps[K._depsLength++]=V):K._depsLength++}}const Bb=[];function R4(K,V,oe){R3();for(const we of K.keys()){let Ue;we._dirtyLevel<V&&(Ue??(Ue=K.get(we)===we._trackId))&&(we._shouldSchedule||(we._shouldSchedule=we._dirtyLevel===0),we._dirtyLevel=V),we._shouldSchedule&&(Ue??(Ue=K.get(we)===we._trackId))&&(we.trigger(),(!we._runnings||we.allowRecurse)&&we._dirtyLevel!==2&&(we._shouldSchedule=!1,we.scheduler&&Bb.push(we.scheduler)))}D3()}const D4=(K,V)=>{const oe=new Map;return oe.cleanup=K,oe.computed=V,oe},Ky=new WeakMap,Ed=Symbol(""),Ub=Symbol("");function yf(K,V,oe){if(Fv&&Sd){let we=Ky.get(K);we||Ky.set(K,we=new Map);let Ue=we.get(oe);Ue||we.set(oe,Ue=D4(()=>we.delete(oe))),P4(Sd,Ue)}}function Xh(K,V,oe,we,Ue,it){const H=Ky.get(K);if(!H)return;let U=[];if(V==="clear")U=[...H.values()];else if(oe==="length"&&wi(K)){const e=Number(we);H.forEach((p,L)=>{(L==="length"||!Gv(L)&&L>=e)&&U.push(p)})}else switch(oe!==void 0&&U.push(H.get(oe)),V){case"add":wi(K)?L3(oe)&&U.push(H.get("length")):(U.push(H.get(Ed)),xp(K)&&U.push(H.get(Ub)));break;case"delete":wi(K)||(U.push(H.get(Ed)),xp(K)&&U.push(H.get(Ub)));break;case"set":xp(K)&&U.push(H.get(Ed));break}R3();for(const e of U)e&&R4(e,4);D3()}function nC(K,V){var oe;return(oe=Ky.get(K))==null?void 0:oe.get(V)}const aC=S3("__proto__,__v_isRef,__isVue"),I4=new Set(Object.getOwnPropertyNames(Symbol).filter(K=>K!=="arguments"&&K!=="caller").map(K=>Symbol[K]).filter(Gv)),Zw=iC();function iC(){const K={};return["includes","indexOf","lastIndexOf"].forEach(V=>{K[V]=function(...oe){const we=po(this);for(let it=0,H=this.length;it<H;it++)yf(we,"get",it+"");const Ue=we[V](...oe);return Ue===-1||Ue===!1?we[V](...oe.map(po)):Ue}}),["push","pop","shift","unshift","splice"].forEach(V=>{K[V]=function(...oe){Dd(),R3();const we=po(this)[V].apply(this,oe);return D3(),Id(),we}}),K}function oC(K){const V=po(this);return yf(V,"has",K),V.hasOwnProperty(K)}class k4{constructor(V=!1,oe=!1){this._isReadonly=V,this._shallow=oe}get(V,oe,we){const Ue=this._isReadonly,it=this._shallow;if(oe==="__v_isReactive")return!Ue;if(oe==="__v_isReadonly")return Ue;if(oe==="__v_isShallow")return it;if(oe==="__v_raw")return we===(Ue?it?xC:N4:it?F4:z4).get(V)||Object.getPrototypeOf(V)===Object.getPrototypeOf(we)?V:void 0;const H=wi(V);if(!Ue){if(H&&vo(Zw,oe))return Reflect.get(Zw,oe,we);if(oe==="hasOwnProperty")return oC}const U=Reflect.get(V,oe,we);return(Gv(oe)?I4.has(oe):aC(oe))||(Ue||yf(V,"get",oe),it)?U:Us(U)?H&&L3(oe)?U:U.value:Ko(U)?Ue?U4(U):sg(U):U}}class O4 extends k4{constructor(V=!1){super(!1,V)}set(V,oe,we,Ue){let it=V[oe];if(!this._shallow){const e=Dp(it);if(!Jy(we)&&!Dp(we)&&(it=po(it),we=po(we)),!wi(V)&&Us(it)&&!Us(we))return e?!1:(it.value=we,!0)}const H=wi(V)&&L3(oe)?Number(oe)<V.length:vo(V,oe),U=Reflect.set(V,oe,we,Ue);return V===po(Ue)&&(H?Wv(we,it)&&Xh(V,"set",oe,we):Xh(V,"add",oe,we)),U}deleteProperty(V,oe){const we=vo(V,oe);V[oe];const Ue=Reflect.deleteProperty(V,oe);return Ue&&we&&Xh(V,"delete",oe,void 0),Ue}has(V,oe){const we=Reflect.has(V,oe);return(!Gv(oe)||!I4.has(oe))&&yf(V,"has",oe),we}ownKeys(V){return yf(V,"iterate",wi(V)?"length":Ed),Reflect.ownKeys(V)}}class sC extends k4{constructor(V=!1){super(!0,V)}set(V,oe){return!0}deleteProperty(V,oe){return!0}}const lC=new O4,uC=new sC,fC=new O4(!0),I3=K=>K,Tm=K=>Reflect.getPrototypeOf(K);function xy(K,V,oe=!1,we=!1){K=K.__v_raw;const Ue=po(K),it=po(V);oe||(Wv(V,it)&&yf(Ue,"get",V),yf(Ue,"get",it));const{has:H}=Tm(Ue),U=we?I3:oe?z3:X0;if(H.call(Ue,V))return U(K.get(V));if(H.call(Ue,it))return U(K.get(it));K!==Ue&&K.get(V)}function by(K,V=!1){const oe=this.__v_raw,we=po(oe),Ue=po(K);return V||(Wv(K,Ue)&&yf(we,"has",K),yf(we,"has",Ue)),K===Ue?oe.has(K):oe.has(K)||oe.has(Ue)}function wy(K,V=!1){return K=K.__v_raw,!V&&yf(po(K),"iterate",Ed),Reflect.get(K,"size",K)}function jw(K){K=po(K);const V=po(this);return Tm(V).has.call(V,K)||(V.add(K),Xh(V,"add",K,K)),this}function Kw(K,V){V=po(V);const oe=po(this),{has:we,get:Ue}=Tm(oe);let it=we.call(oe,K);it||(K=po(K),it=we.call(oe,K));const H=Ue.call(oe,K);return oe.set(K,V),it?Wv(V,H)&&Xh(oe,"set",K,V):Xh(oe,"add",K,V),this}function Jw(K){const V=po(this),{has:oe,get:we}=Tm(V);let Ue=oe.call(V,K);Ue||(K=po(K),Ue=oe.call(V,K)),we&&we.call(V,K);const it=V.delete(K);return Ue&&Xh(V,"delete",K,void 0),it}function $w(){const K=po(this),V=K.size!==0,oe=K.clear();return V&&Xh(K,"clear",void 0,void 0),oe}function Ty(K,V){return function(we,Ue){const it=this,H=it.__v_raw,U=po(H),e=V?I3:K?z3:X0;return!K&&yf(U,"iterate",Ed),H.forEach((p,L)=>we.call(Ue,e(p),e(L),it))}}function Ay(K,V,oe){return function(...we){const Ue=this.__v_raw,it=po(Ue),H=xp(it),U=K==="entries"||K===Symbol.iterator&&H,e=K==="keys"&&H,p=Ue[K](...we),L=oe?I3:V?z3:X0;return!V&&yf(it,"iterate",e?Ub:Ed),{next(){const{value:n,done:C}=p.next();return C?{value:n,done:C}:{value:U?[L(n[0]),L(n[1])]:L(n),done:C}},[Symbol.iterator](){return this}}}}function Sv(K){return function(...V){return K==="delete"?!1:K==="clear"?void 0:this}}function cC(){const K={get(it){return xy(this,it)},get size(){return wy(this)},has:by,add:jw,set:Kw,delete:Jw,clear:$w,forEach:Ty(!1,!1)},V={get(it){return xy(this,it,!1,!0)},get size(){return wy(this)},has:by,add:jw,set:Kw,delete:Jw,clear:$w,forEach:Ty(!1,!0)},oe={get(it){return xy(this,it,!0)},get size(){return wy(this,!0)},has(it){return by.call(this,it,!0)},add:Sv("add"),set:Sv("set"),delete:Sv("delete"),clear:Sv("clear"),forEach:Ty(!0,!1)},we={get(it){return xy(this,it,!0,!0)},get size(){return wy(this,!0)},has(it){return by.call(this,it,!0)},add:Sv("add"),set:Sv("set"),delete:Sv("delete"),clear:Sv("clear"),forEach:Ty(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(it=>{K[it]=Ay(it,!1,!1),oe[it]=Ay(it,!0,!1),V[it]=Ay(it,!1,!0),we[it]=Ay(it,!0,!0)}),[K,oe,V,we]}const[hC,vC,dC,pC]=cC();function k3(K,V){const oe=V?K?pC:dC:K?vC:hC;return(we,Ue,it)=>Ue==="__v_isReactive"?!K:Ue==="__v_isReadonly"?K:Ue==="__v_raw"?we:Reflect.get(vo(oe,Ue)&&Ue in we?oe:we,Ue,it)}const gC={get:k3(!1,!1)},yC={get:k3(!1,!0)},mC={get:k3(!0,!1)},z4=new WeakMap,F4=new WeakMap,N4=new WeakMap,xC=new WeakMap;function bC(K){switch(K){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wC(K){return K.__v_skip||!Object.isExtensible(K)?0:bC(G8(K))}function sg(K){return Dp(K)?K:O3(K,!1,lC,gC,z4)}function B4(K){return O3(K,!1,fC,yC,F4)}function U4(K){return O3(K,!0,uC,mC,N4)}function O3(K,V,oe,we,Ue){if(!Ko(K)||K.__v_raw&&!(V&&K.__v_isReactive))return K;const it=Ue.get(K);if(it)return it;const H=wC(K);if(H===0)return K;const U=new Proxy(K,H===2?we:oe);return Ue.set(K,U),U}function Nv(K){return Dp(K)?Nv(K.__v_raw):!!(K&&K.__v_isReactive)}function Dp(K){return!!(K&&K.__v_isReadonly)}function Jy(K){return!!(K&&K.__v_isShallow)}function V4(K){return Nv(K)||Dp(K)}function po(K){const V=K&&K.__v_raw;return V?po(V):K}function Am(K){return Object.isExtensible(K)&&jy(K,"__v_skip",!0),K}const X0=K=>Ko(K)?sg(K):K,z3=K=>Ko(K)?U4(K):K;class H4{constructor(V,oe,we,Ue){this._setter=oe,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new P3(()=>V(this._value),()=>Ny(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!Ue,this.__v_isReadonly=we}get value(){const V=po(this);return(!V._cacheable||V.effect.dirty)&&Wv(V._value,V._value=V.effect.run())&&Ny(V,4),G4(V),V.effect._dirtyLevel>=2&&Ny(V,2),V._value}set value(V){this._setter(V)}get _dirty(){return this.effect.dirty}set _dirty(V){this.effect.dirty=V}}function TC(K,V,oe=!1){let we,Ue;const it=Bi(K);return it?(we=K,Ue=yc):(we=K.get,Ue=K.set),new H4(we,Ue,it||!Ue,oe)}function G4(K){var V;Fv&&Sd&&(K=po(K),P4(Sd,(V=K.dep)!=null?V:K.dep=D4(()=>K.dep=void 0,K instanceof H4?K:void 0)))}function Ny(K,V=4,oe){K=po(K);const we=K.dep;we&&R4(we,V)}function Us(K){return!!(K&&K.__v_isRef===!0)}function jo(K){return W4(K,!1)}function AC(K){return W4(K,!0)}function W4(K,V){return Us(K)?K:new MC(K,V)}class MC{constructor(V,oe){this.__v_isShallow=oe,this.dep=void 0,this.__v_isRef=!0,this._rawValue=oe?V:po(V),this._value=oe?V:X0(V)}get value(){return G4(this),this._value}set value(V){const oe=this.__v_isShallow||Jy(V)||Dp(V);V=oe?V:po(V),Wv(V,this._rawValue)&&(this._rawValue=V,this._value=oe?V:X0(V),Ny(this,4))}}function ms(K){return Us(K)?K.value:K}const SC={get:(K,V,oe)=>ms(Reflect.get(K,V,oe)),set:(K,V,oe,we)=>{const Ue=K[V];return Us(Ue)&&!Us(oe)?(Ue.value=oe,!0):Reflect.set(K,V,oe,we)}};function Y4(K){return Nv(K)?K:new Proxy(K,SC)}function EC(K){const V=wi(K)?new Array(K.length):{};for(const oe in K)V[oe]=LC(K,oe);return V}class CC{constructor(V,oe,we){this._object=V,this._key=oe,this._defaultValue=we,this.__v_isRef=!0}get value(){const V=this._object[this._key];return V===void 0?this._defaultValue:V}set value(V){this._object[this._key]=V}get dep(){return nC(po(this._object),this._key)}}function LC(K,V,oe){const we=K[V];return Us(we)?we:new CC(K,V,oe)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bv(K,V,oe,we){try{return we?K(...we):K()}catch(Ue){Mm(Ue,V,oe)}}function $c(K,V,oe,we){if(Bi(K)){const it=Bv(K,V,oe,we);return it&&x4(it)&&it.catch(H=>{Mm(H,V,oe)}),it}const Ue=[];for(let it=0;it<K.length;it++)Ue.push($c(K[it],V,oe,we));return Ue}function Mm(K,V,oe,we=!0){const Ue=V?V.vnode:null;if(V){let it=V.parent;const H=V.proxy,U=`https://vuejs.org/error-reference/#runtime-${oe}`;for(;it;){const p=it.ec;if(p){for(let L=0;L<p.length;L++)if(p[L](K,H,U)===!1)return}it=it.parent}const e=V.appContext.config.errorHandler;if(e){Bv(e,null,10,[K,H,U]);return}}_C(K,oe,Ue,we)}function _C(K,V,oe,we=!0){console.error(K)}let Z0=!1,Vb=!1;const au=[];let Mh=0;const bp=[];let Pv=null,md=0;const X4=Promise.resolve();let F3=null;function lg(K){const V=F3||X4;return K?V.then(this?K.bind(this):K):V}function PC(K){let V=Mh+1,oe=au.length;for(;V<oe;){const we=V+oe>>>1,Ue=au[we],it=j0(Ue);it<K||it===K&&Ue.pre?V=we+1:oe=we}return V}function N3(K){(!au.length||!au.includes(K,Z0&&K.allowRecurse?Mh+1:Mh))&&(K.id==null?au.push(K):au.splice(PC(K.id),0,K),Z4())}function Z4(){!Z0&&!Vb&&(Vb=!0,F3=X4.then(K4))}function RC(K){const V=au.indexOf(K);V>Mh&&au.splice(V,1)}function DC(K){wi(K)?bp.push(...K):(!Pv||!Pv.includes(K,K.allowRecurse?md+1:md))&&bp.push(K),Z4()}function Qw(K,V,oe=Z0?Mh+1:0){for(;oe<au.length;oe++){const we=au[oe];if(we&&we.pre){if(K&&we.id!==K.uid)continue;au.splice(oe,1),oe--,we()}}}function j4(K){if(bp.length){const V=[...new Set(bp)].sort((oe,we)=>j0(oe)-j0(we));if(bp.length=0,Pv){Pv.push(...V);return}for(Pv=V,md=0;md<Pv.length;md++)Pv[md]();Pv=null,md=0}}const j0=K=>K.id==null?1/0:K.id,IC=(K,V)=>{const oe=j0(K)-j0(V);if(oe===0){if(K.pre&&!V.pre)return-1;if(V.pre&&!K.pre)return 1}return oe};function K4(K){Vb=!1,Z0=!0,au.sort(IC);try{for(Mh=0;Mh<au.length;Mh++){const V=au[Mh];V&&V.active!==!1&&Bv(V,null,14)}}finally{Mh=0,au.length=0,j4(),Z0=!1,F3=null,(au.length||bp.length)&&K4()}}function kC(K,V,...oe){if(K.isUnmounted)return;const we=K.vnode.props||as;let Ue=oe;const it=V.startsWith("update:"),H=it&&V.slice(7);if(H&&H in we){const L=`${H==="modelValue"?"model":H}Modifiers`,{number:n,trim:C}=we[L]||as;C&&(Ue=oe.map(T=>sl(T)?T.trim():T)),n&&(Ue=oe.map(Y0))}let U,e=we[U=fb(V)]||we[U=fb(Lh(V))];!e&&it&&(e=we[U=fb(Vp(V))]),e&&$c(e,K,6,Ue);const p=we[U+"Once"];if(p){if(!K.emitted)K.emitted={};else if(K.emitted[U])return;K.emitted[U]=!0,$c(p,K,6,Ue)}}function J4(K,V,oe=!1){const we=V.emitsCache,Ue=we.get(K);if(Ue!==void 0)return Ue;const it=K.emits;let H={},U=!1;if(!Bi(K)){const e=p=>{const L=J4(p,V,!0);L&&(U=!0,Vl(H,L))};!oe&&V.mixins.length&&V.mixins.forEach(e),K.extends&&e(K.extends),K.mixins&&K.mixins.forEach(e)}return!it&&!U?(Ko(K)&&we.set(K,null),null):(wi(it)?it.forEach(e=>H[e]=null):Vl(H,it),Ko(K)&&we.set(K,H),H)}function Sm(K,V){return!K||!gm(V)?!1:(V=V.slice(2).replace(/Once$/,""),vo(K,V[0].toLowerCase()+V.slice(1))||vo(K,Vp(V))||vo(K,V))}let Pu=null,Em=null;function $y(K){const V=Pu;return Pu=K,Em=K&&K.type.__scopeId||null,V}function OC(K){Em=K}function zC(){Em=null}function Qy(K,V=Pu,oe){if(!V||K._n)return K;const we=(...Ue)=>{we._d&&u2(-1);const it=$y(V);let H;try{H=K(...Ue)}finally{$y(it),we._d&&u2(1)}return H};return we._n=!0,we._c=!0,we._d=!0,we}function hb(K){const{type:V,vnode:oe,proxy:we,withProxy:Ue,props:it,propsOptions:[H],slots:U,attrs:e,emit:p,render:L,renderCache:n,data:C,setupState:T,ctx:v,inheritAttrs:g}=K;let r,t;const s=$y(K);try{if(oe.shapeFlag&4){const f=Ue||we,u=f;r=Ah(L.call(u,f,n,it,T,C,v)),t=e}else{const f=V;r=Ah(f.length>1?f(it,{attrs:e,slots:U,emit:p}):f(it,null)),t=V.props?e:FC(e)}}catch(f){B0.length=0,Mm(f,K,1),r=_s(K0)}let a=r;if(t&&g!==!1){const f=Object.keys(t),{shapeFlag:u}=a;f.length&&u&7&&(H&&f.some(E3)&&(t=NC(t,H)),a=Ip(a,t))}return oe.dirs&&(a=Ip(a),a.dirs=a.dirs?a.dirs.concat(oe.dirs):oe.dirs),oe.transition&&(a.transition=oe.transition),r=a,$y(s),r}const FC=K=>{let V;for(const oe in K)(oe==="class"||oe==="style"||gm(oe))&&((V||(V={}))[oe]=K[oe]);return V},NC=(K,V)=>{const oe={};for(const we in K)(!E3(we)||!(we.slice(9)in V))&&(oe[we]=K[we]);return oe};function BC(K,V,oe){const{props:we,children:Ue,component:it}=K,{props:H,children:U,patchFlag:e}=V,p=it.emitsOptions;if(V.dirs||V.transition)return!0;if(oe&&e>=0){if(e&1024)return!0;if(e&16)return we?qw(we,H,p):!!H;if(e&8){const L=V.dynamicProps;for(let n=0;n<L.length;n++){const C=L[n];if(H[C]!==we[C]&&!Sm(p,C))return!0}}}else return(Ue||U)&&(!U||!U.$stable)?!0:we===H?!1:we?H?qw(we,H,p):!0:!!H;return!1}function qw(K,V,oe){const we=Object.keys(V);if(we.length!==Object.keys(K).length)return!0;for(let Ue=0;Ue<we.length;Ue++){const it=we[Ue];if(V[it]!==K[it]&&!Sm(oe,it))return!0}return!1}function UC({vnode:K,parent:V},oe){for(;V;){const we=V.subTree;if(we.suspense&&we.suspense.activeBranch===K&&(we.el=K.el),we===K)(K=V.vnode).el=oe,V=V.parent;else break}}const $4="components";function Q4(K,V){return HC($4,K,!0,V)||K}const VC=Symbol.for("v-ndc");function HC(K,V,oe=!0,we=!1){const Ue=Pu||Ul;if(Ue){const it=Ue.type;if(K===$4){const U=zL(it,!1);if(U&&(U===V||U===Lh(V)||U===xm(Lh(V))))return it}const H=e2(Ue[K]||it[K],V)||e2(Ue.appContext[K],V);return!H&&we?it:H}}function e2(K,V){return K&&(K[V]||K[Lh(V)]||K[xm(Lh(V))])}const GC=K=>K.__isSuspense;function WC(K,V){V&&V.pendingBranch?wi(K)?V.effects.push(...K):V.effects.push(K):DC(K)}const YC=Symbol.for("v-scx"),XC=()=>wc(YC);function ZC(K,V){return B3(K,null,V)}const My={};function Zh(K,V,oe){return B3(K,V,oe)}function B3(K,V,{immediate:oe,deep:we,flush:Ue,once:it,onTrack:H,onTrigger:U}=as){if(V&&it){const l=V;V=(...m)=>{l(...m),u()}}const e=Ul,p=l=>we===!0?l:Td(l,we===!1?1:void 0);let L,n=!1,C=!1;if(Us(K)?(L=()=>K.value,n=Jy(K)):Nv(K)?(L=()=>p(K),n=!0):wi(K)?(C=!0,n=K.some(l=>Nv(l)||Jy(l)),L=()=>K.map(l=>{if(Us(l))return l.value;if(Nv(l))return p(l);if(Bi(l))return Bv(l,e,2)})):Bi(K)?V?L=()=>Bv(K,e,2):L=()=>(T&&T(),$c(K,e,3,[v])):L=yc,V&&we){const l=L;L=()=>Td(l())}let T,v=l=>{T=a.onStop=()=>{Bv(l,e,4),T=a.onStop=void 0}},g;if(Dm)if(v=yc,V?oe&&$c(V,e,3,[L(),C?[]:void 0,v]):L(),Ue==="sync"){const l=XC();g=l.__watcherHandles||(l.__watcherHandles=[])}else return yc;let r=C?new Array(K.length).fill(My):My;const t=()=>{if(!(!a.active||!a.dirty))if(V){const l=a.run();(we||n||(C?l.some((m,h)=>Wv(m,r[h])):Wv(l,r)))&&(T&&T(),$c(V,e,3,[l,r===My?void 0:C&&r[0]===My?[]:r,v]),r=l)}else a.run()};t.allowRecurse=!!V;let s;Ue==="sync"?s=t:Ue==="post"?s=()=>df(t,e&&e.suspense):(t.pre=!0,e&&(t.id=e.uid),s=()=>N3(t));const a=new P3(L,yc,s),f=C4(),u=()=>{a.stop(),f&&C3(f.effects,a)};return V?oe?t():r=a.run():Ue==="post"?df(a.run.bind(a),e&&e.suspense):a.run(),g&&g.push(u),u}function jC(K,V,oe){const we=this.proxy,Ue=sl(K)?K.includes(".")?q4(we,K):()=>we[K]:K.bind(we,we);let it;Bi(V)?it=V:(it=V.handler,oe=V);const H=ug(this),U=B3(Ue,it.bind(we),oe);return H(),U}function q4(K,V){const oe=V.split(".");return()=>{let we=K;for(let Ue=0;Ue<oe.length&&we;Ue++)we=we[oe[Ue]];return we}}function Td(K,V,oe=0,we){if(!Ko(K)||K.__v_skip)return K;if(V&&V>0){if(oe>=V)return K;oe++}if(we=we||new Set,we.has(K))return K;if(we.add(K),Us(K))Td(K.value,V,oe,we);else if(wi(K))for(let Ue=0;Ue<K.length;Ue++)Td(K[Ue],V,oe,we);else if(ym(K)||xp(K))K.forEach(Ue=>{Td(Ue,V,oe,we)});else if(w4(K))for(const Ue in K)Td(K[Ue],V,oe,we);return K}function Cm(K,V){if(Pu===null)return K;const oe=Im(Pu)||Pu.proxy,we=K.dirs||(K.dirs=[]);for(let Ue=0;Ue<V.length;Ue++){let[it,H,U,e=as]=V[Ue];it&&(Bi(it)&&(it={mounted:it,updated:it}),it.deep&&Td(H),we.push({dir:it,instance:oe,value:H,oldValue:void 0,arg:U,modifiers:e}))}return K}function dd(K,V,oe,we){const Ue=K.dirs,it=V&&V.dirs;for(let H=0;H<Ue.length;H++){const U=Ue[H];it&&(U.oldValue=it[H].value);let e=U.dir[we];e&&(Dd(),$c(e,oe,8,[K.el,U,K,V]),Id())}}/*! #__NO_SIDE_EFFECTS__ */function eA(K,V){return Bi(K)?Vl({name:K.name},V,{setup:K}):K}const By=K=>!!K.type.__asyncLoader,tA=K=>K.type.__isKeepAlive;function KC(K,V){rA(K,"a",V)}function JC(K,V){rA(K,"da",V)}function rA(K,V,oe=Ul){const we=K.__wdc||(K.__wdc=()=>{let Ue=oe;for(;Ue;){if(Ue.isDeactivated)return;Ue=Ue.parent}return K()});if(Lm(V,we,oe),oe){let Ue=oe.parent;for(;Ue&&Ue.parent;)tA(Ue.parent.vnode)&&$C(we,V,oe,Ue),Ue=Ue.parent}}function $C(K,V,oe,we){const Ue=Lm(V,K,we,!0);aA(()=>{C3(we[V],Ue)},oe)}function Lm(K,V,oe=Ul,we=!1){if(oe){const Ue=oe[K]||(oe[K]=[]),it=V.__weh||(V.__weh=(...H)=>{if(oe.isUnmounted)return;Dd();const U=ug(oe),e=$c(V,oe,K,H);return U(),Id(),e});return we?Ue.unshift(it):Ue.push(it),it}}const $h=K=>(V,oe=Ul)=>(!Dm||K==="sp")&&Lm(K,(...we)=>V(...we),oe),QC=$h("bm"),_m=$h("m"),qC=$h("bu"),eL=$h("u"),nA=$h("bum"),aA=$h("um"),tL=$h("sp"),rL=$h("rtg"),nL=$h("rtc");function aL(K,V=Ul){Lm("ec",K,V)}function zv(K,V,oe,we){let Ue;const it=oe&&oe[we];if(wi(K)||sl(K)){Ue=new Array(K.length);for(let H=0,U=K.length;H<U;H++)Ue[H]=V(K[H],H,void 0,it&&it[H])}else if(typeof K=="number"){Ue=new Array(K);for(let H=0;H<K;H++)Ue[H]=V(H+1,H,void 0,it&&it[H])}else if(Ko(K))if(K[Symbol.iterator])Ue=Array.from(K,(H,U)=>V(H,U,void 0,it&&it[U]));else{const H=Object.keys(K);Ue=new Array(H.length);for(let U=0,e=H.length;U<e;U++){const p=H[U];Ue[U]=V(K[p],p,U,it&&it[U])}}else Ue=[];return oe&&(oe[we]=Ue),Ue}const Hb=K=>K?gA(K)?Im(K)||K.proxy:Hb(K.parent):null,N0=Vl(Object.create(null),{$:K=>K,$el:K=>K.vnode.el,$data:K=>K.data,$props:K=>K.props,$attrs:K=>K.attrs,$slots:K=>K.slots,$refs:K=>K.refs,$parent:K=>Hb(K.parent),$root:K=>Hb(K.root),$emit:K=>K.emit,$options:K=>U3(K),$forceUpdate:K=>K.f||(K.f=()=>{K.effect.dirty=!0,N3(K.update)}),$nextTick:K=>K.n||(K.n=lg.bind(K.proxy)),$watch:K=>jC.bind(K)}),vb=(K,V)=>K!==as&&!K.__isScriptSetup&&vo(K,V),iL={get({_:K},V){const{ctx:oe,setupState:we,data:Ue,props:it,accessCache:H,type:U,appContext:e}=K;let p;if(V[0]!=="$"){const T=H[V];if(T!==void 0)switch(T){case 1:return we[V];case 2:return Ue[V];case 4:return oe[V];case 3:return it[V]}else{if(vb(we,V))return H[V]=1,we[V];if(Ue!==as&&vo(Ue,V))return H[V]=2,Ue[V];if((p=K.propsOptions[0])&&vo(p,V))return H[V]=3,it[V];if(oe!==as&&vo(oe,V))return H[V]=4,oe[V];Gb&&(H[V]=0)}}const L=N0[V];let n,C;if(L)return V==="$attrs"&&yf(K,"get",V),L(K);if((n=U.__cssModules)&&(n=n[V]))return n;if(oe!==as&&vo(oe,V))return H[V]=4,oe[V];if(C=e.config.globalProperties,vo(C,V))return C[V]},set({_:K},V,oe){const{data:we,setupState:Ue,ctx:it}=K;return vb(Ue,V)?(Ue[V]=oe,!0):we!==as&&vo(we,V)?(we[V]=oe,!0):vo(K.props,V)||V[0]==="$"&&V.slice(1)in K?!1:(it[V]=oe,!0)},has({_:{data:K,setupState:V,accessCache:oe,ctx:we,appContext:Ue,propsOptions:it}},H){let U;return!!oe[H]||K!==as&&vo(K,H)||vb(V,H)||(U=it[0])&&vo(U,H)||vo(we,H)||vo(N0,H)||vo(Ue.config.globalProperties,H)},defineProperty(K,V,oe){return oe.get!=null?K._.accessCache[V]=0:vo(oe,"value")&&this.set(K,V,oe.value,null),Reflect.defineProperty(K,V,oe)}};function t2(K){return wi(K)?K.reduce((V,oe)=>(V[oe]=null,V),{}):K}let Gb=!0;function oL(K){const V=U3(K),oe=K.proxy,we=K.ctx;Gb=!1,V.beforeCreate&&r2(V.beforeCreate,K,"bc");const{data:Ue,computed:it,methods:H,watch:U,provide:e,inject:p,created:L,beforeMount:n,mounted:C,beforeUpdate:T,updated:v,activated:g,deactivated:r,beforeDestroy:t,beforeUnmount:s,destroyed:a,unmounted:f,render:u,renderTracked:l,renderTriggered:m,errorCaptured:h,serverPrefetch:M,expose:c,inheritAttrs:i,components:d,directives:x,filters:A}=V;if(p&&sL(p,we,null),H)for(const S in H){const w=H[S];Bi(w)&&(we[S]=w.bind(oe))}if(Ue){const S=Ue.call(oe,oe);Ko(S)&&(K.data=sg(S))}if(Gb=!0,it)for(const S in it){const w=it[S],o=Bi(w)?w.bind(oe,oe):Bi(w.get)?w.get.bind(oe,oe):yc,_=!Bi(w)&&Bi(w.set)?w.set.bind(oe):yc,b=Xf({get:o,set:_});Object.defineProperty(we,S,{enumerable:!0,configurable:!0,get:()=>b.value,set:I=>b.value=I})}if(U)for(const S in U)iA(U[S],we,oe,S);if(e){const S=Bi(e)?e.call(oe):e;Reflect.ownKeys(S).forEach(w=>{Uy(w,S[w])})}L&&r2(L,K,"c");function y(S,w){wi(w)?w.forEach(o=>S(o.bind(oe))):w&&S(w.bind(oe))}if(y(QC,n),y(_m,C),y(qC,T),y(eL,v),y(KC,g),y(JC,r),y(aL,h),y(nL,l),y(rL,m),y(nA,s),y(aA,f),y(tL,M),wi(c))if(c.length){const S=K.exposed||(K.exposed={});c.forEach(w=>{Object.defineProperty(S,w,{get:()=>oe[w],set:o=>oe[w]=o})})}else K.exposed||(K.exposed={});u&&K.render===yc&&(K.render=u),i!=null&&(K.inheritAttrs=i),d&&(K.components=d),x&&(K.directives=x)}function sL(K,V,oe=yc){wi(K)&&(K=Wb(K));for(const we in K){const Ue=K[we];let it;Ko(Ue)?"default"in Ue?it=wc(Ue.from||we,Ue.default,!0):it=wc(Ue.from||we):it=wc(Ue),Us(it)?Object.defineProperty(V,we,{enumerable:!0,configurable:!0,get:()=>it.value,set:H=>it.value=H}):V[we]=it}}function r2(K,V,oe){$c(wi(K)?K.map(we=>we.bind(V.proxy)):K.bind(V.proxy),V,oe)}function iA(K,V,oe,we){const Ue=we.includes(".")?q4(oe,we):()=>oe[we];if(sl(K)){const it=V[K];Bi(it)&&Zh(Ue,it)}else if(Bi(K))Zh(Ue,K.bind(oe));else if(Ko(K))if(wi(K))K.forEach(it=>iA(it,V,oe,we));else{const it=Bi(K.handler)?K.handler.bind(oe):V[K.handler];Bi(it)&&Zh(Ue,it,K)}}function U3(K){const V=K.type,{mixins:oe,extends:we}=V,{mixins:Ue,optionsCache:it,config:{optionMergeStrategies:H}}=K.appContext,U=it.get(V);let e;return U?e=U:!Ue.length&&!oe&&!we?e=V:(e={},Ue.length&&Ue.forEach(p=>qy(e,p,H,!0)),qy(e,V,H)),Ko(V)&&it.set(V,e),e}function qy(K,V,oe,we=!1){const{mixins:Ue,extends:it}=V;it&&qy(K,it,oe,!0),Ue&&Ue.forEach(H=>qy(K,H,oe,!0));for(const H in V)if(!(we&&H==="expose")){const U=lL[H]||oe&&oe[H];K[H]=U?U(K[H],V[H]):V[H]}return K}const lL={data:n2,props:a2,emits:a2,methods:I0,computed:I0,beforeCreate:Lu,created:Lu,beforeMount:Lu,mounted:Lu,beforeUpdate:Lu,updated:Lu,beforeDestroy:Lu,beforeUnmount:Lu,destroyed:Lu,unmounted:Lu,activated:Lu,deactivated:Lu,errorCaptured:Lu,serverPrefetch:Lu,components:I0,directives:I0,watch:fL,provide:n2,inject:uL};function n2(K,V){return V?K?function(){return Vl(Bi(K)?K.call(this,this):K,Bi(V)?V.call(this,this):V)}:V:K}function uL(K,V){return I0(Wb(K),Wb(V))}function Wb(K){if(wi(K)){const V={};for(let oe=0;oe<K.length;oe++)V[K[oe]]=K[oe];return V}return K}function Lu(K,V){return K?[...new Set([].concat(K,V))]:V}function I0(K,V){return K?Vl(Object.create(null),K,V):V}function a2(K,V){return K?wi(K)&&wi(V)?[...new Set([...K,...V])]:Vl(Object.create(null),t2(K),t2(V??{})):V}function fL(K,V){if(!K)return V;if(!V)return K;const oe=Vl(Object.create(null),K);for(const we in V)oe[we]=Lu(K[we],V[we]);return oe}function oA(){return{app:null,config:{isNativeTag:V8,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cL=0;function hL(K,V){return function(we,Ue=null){Bi(we)||(we=Vl({},we)),Ue!=null&&!Ko(Ue)&&(Ue=null);const it=oA(),H=new WeakSet;let U=!1;const e=it.app={_uid:cL++,_component:we,_props:Ue,_container:null,_context:it,_instance:null,version:NL,get config(){return it.config},set config(p){},use(p,...L){return H.has(p)||(p&&Bi(p.install)?(H.add(p),p.install(e,...L)):Bi(p)&&(H.add(p),p(e,...L))),e},mixin(p){return it.mixins.includes(p)||it.mixins.push(p),e},component(p,L){return L?(it.components[p]=L,e):it.components[p]},directive(p,L){return L?(it.directives[p]=L,e):it.directives[p]},mount(p,L,n){if(!U){const C=_s(we,Ue);return C.appContext=it,n===!0?n="svg":n===!1&&(n=void 0),L&&V?V(C,p):K(C,p,n),U=!0,e._container=p,p.__vue_app__=e,Im(C.component)||C.component.proxy}},unmount(){U&&(K(null,e._container),delete e._container.__vue_app__)},provide(p,L){return it.provides[p]=L,e},runWithContext(p){const L=wp;wp=e;try{return p()}finally{wp=L}}};return e}}let wp=null;function Uy(K,V){if(Ul){let oe=Ul.provides;const we=Ul.parent&&Ul.parent.provides;we===oe&&(oe=Ul.provides=Object.create(we)),oe[K]=V}}function wc(K,V,oe=!1){const we=Ul||Pu;if(we||wp){const Ue=we?we.parent==null?we.vnode.appContext&&we.vnode.appContext.provides:we.parent.provides:wp._context.provides;if(Ue&&K in Ue)return Ue[K];if(arguments.length>1)return oe&&Bi(V)?V.call(we&&we.proxy):V}}function vL(){return!!(Ul||Pu||wp)}function dL(K,V,oe,we=!1){const Ue={},it={};jy(it,Rm,1),K.propsDefaults=Object.create(null),sA(K,V,Ue,it);for(const H in K.propsOptions[0])H in Ue||(Ue[H]=void 0);oe?K.props=we?Ue:B4(Ue):K.type.props?K.props=Ue:K.props=it,K.attrs=it}function pL(K,V,oe,we){const{props:Ue,attrs:it,vnode:{patchFlag:H}}=K,U=po(Ue),[e]=K.propsOptions;let p=!1;if((we||H>0)&&!(H&16)){if(H&8){const L=K.vnode.dynamicProps;for(let n=0;n<L.length;n++){let C=L[n];if(Sm(K.emitsOptions,C))continue;const T=V[C];if(e)if(vo(it,C))T!==it[C]&&(it[C]=T,p=!0);else{const v=Lh(C);Ue[v]=Yb(e,U,v,T,K,!1)}else T!==it[C]&&(it[C]=T,p=!0)}}}else{sA(K,V,Ue,it)&&(p=!0);let L;for(const n in U)(!V||!vo(V,n)&&((L=Vp(n))===n||!vo(V,L)))&&(e?oe&&(oe[n]!==void 0||oe[L]!==void 0)&&(Ue[n]=Yb(e,U,n,void 0,K,!0)):delete Ue[n]);if(it!==U)for(const n in it)(!V||!vo(V,n))&&(delete it[n],p=!0)}p&&Xh(K,"set","$attrs")}function sA(K,V,oe,we){const[Ue,it]=K.propsOptions;let H=!1,U;if(V)for(let e in V){if(F0(e))continue;const p=V[e];let L;Ue&&vo(Ue,L=Lh(e))?!it||!it.includes(L)?oe[L]=p:(U||(U={}))[L]=p:Sm(K.emitsOptions,e)||(!(e in we)||p!==we[e])&&(we[e]=p,H=!0)}if(it){const e=po(oe),p=U||as;for(let L=0;L<it.length;L++){const n=it[L];oe[n]=Yb(Ue,e,n,p[n],K,!vo(p,n))}}return H}function Yb(K,V,oe,we,Ue,it){const H=K[oe];if(H!=null){const U=vo(H,"default");if(U&&we===void 0){const e=H.default;if(H.type!==Function&&!H.skipFactory&&Bi(e)){const{propsDefaults:p}=Ue;if(oe in p)we=p[oe];else{const L=ug(Ue);we=p[oe]=e.call(null,V),L()}}else we=e}H[0]&&(it&&!U?we=!1:H[1]&&(we===""||we===Vp(oe))&&(we=!0))}return we}function lA(K,V,oe=!1){const we=V.propsCache,Ue=we.get(K);if(Ue)return Ue;const it=K.props,H={},U=[];let e=!1;if(!Bi(K)){const L=n=>{e=!0;const[C,T]=lA(n,V,!0);Vl(H,C),T&&U.push(...T)};!oe&&V.mixins.length&&V.mixins.forEach(L),K.extends&&L(K.extends),K.mixins&&K.mixins.forEach(L)}if(!it&&!e)return Ko(K)&&we.set(K,mp),mp;if(wi(it))for(let L=0;L<it.length;L++){const n=Lh(it[L]);i2(n)&&(H[n]=as)}else if(it)for(const L in it){const n=Lh(L);if(i2(n)){const C=it[L],T=H[n]=wi(C)||Bi(C)?{type:C}:Vl({},C);if(T){const v=l2(Boolean,T.type),g=l2(String,T.type);T[0]=v>-1,T[1]=g<0||v<g,(v>-1||vo(T,"default"))&&U.push(n)}}}const p=[H,U];return Ko(K)&&we.set(K,p),p}function i2(K){return K[0]!=="$"&&!F0(K)}function o2(K){return K===null?"null":typeof K=="function"?K.name||"":typeof K=="object"&&K.constructor&&K.constructor.name||""}function s2(K,V){return o2(K)===o2(V)}function l2(K,V){return wi(V)?V.findIndex(oe=>s2(oe,K)):Bi(V)&&s2(V,K)?0:-1}const uA=K=>K[0]==="_"||K==="$stable",V3=K=>wi(K)?K.map(Ah):[Ah(K)],gL=(K,V,oe)=>{if(V._n)return V;const we=Qy((...Ue)=>V3(V(...Ue)),oe);return we._c=!1,we},fA=(K,V,oe)=>{const we=K._ctx;for(const Ue in K){if(uA(Ue))continue;const it=K[Ue];if(Bi(it))V[Ue]=gL(Ue,it,we);else if(it!=null){const H=V3(it);V[Ue]=()=>H}}},cA=(K,V)=>{const oe=V3(V);K.slots.default=()=>oe},yL=(K,V)=>{if(K.vnode.shapeFlag&32){const oe=V._;oe?(K.slots=po(V),jy(V,"_",oe)):fA(V,K.slots={})}else K.slots={},V&&cA(K,V);jy(K.slots,Rm,1)},mL=(K,V,oe)=>{const{vnode:we,slots:Ue}=K;let it=!0,H=as;if(we.shapeFlag&32){const U=V._;U?oe&&U===1?it=!1:(Vl(Ue,V),!oe&&U===1&&delete Ue._):(it=!V.$stable,fA(V,Ue)),H=V}else V&&(cA(K,V),H={default:1});if(it)for(const U in Ue)!uA(U)&&H[U]==null&&delete Ue[U]};function Xb(K,V,oe,we,Ue=!1){if(wi(K)){K.forEach((C,T)=>Xb(C,V&&(wi(V)?V[T]:V),oe,we,Ue));return}if(By(we)&&!Ue)return;const it=we.shapeFlag&4?Im(we.component)||we.component.proxy:we.el,H=Ue?null:it,{i:U,r:e}=K,p=V&&V.r,L=U.refs===as?U.refs={}:U.refs,n=U.setupState;if(p!=null&&p!==e&&(sl(p)?(L[p]=null,vo(n,p)&&(n[p]=null)):Us(p)&&(p.value=null)),Bi(e))Bv(e,U,12,[H,L]);else{const C=sl(e),T=Us(e);if(C||T){const v=()=>{if(K.f){const g=C?vo(n,e)?n[e]:L[e]:e.value;Ue?wi(g)&&C3(g,it):wi(g)?g.includes(it)||g.push(it):C?(L[e]=[it],vo(n,e)&&(n[e]=L[e])):(e.value=[it],K.k&&(L[K.k]=e.value))}else C?(L[e]=H,vo(n,e)&&(n[e]=H)):T&&(e.value=H,K.k&&(L[K.k]=H))};H?(v.id=-1,df(v,oe)):v()}}}const df=WC;function xL(K){return bL(K)}function bL(K,V){const oe=T4();oe.__VUE__=!0;const{insert:we,remove:Ue,patchProp:it,createElement:H,createText:U,createComment:e,setText:p,setElementText:L,parentNode:n,nextSibling:C,setScopeId:T=yc,insertStaticContent:v}=K,g=(Q,le,Z,Y=null,re=null,X=null,q=void 0,se=null,$=!!le.dynamicChildren)=>{if(Q===le)return;Q&&!L0(Q,le)&&(Y=F(Q),I(Q,re,X,!0),Q=null),le.patchFlag===-2&&($=!1,le.dynamicChildren=null);const{type:j,ref:ue,shapeFlag:ae}=le;switch(j){case Pm:r(Q,le,Z,Y);break;case K0:t(Q,le,Z,Y);break;case pb:Q==null&&s(le,Z,Y,q);break;case Ks:d(Q,le,Z,Y,re,X,q,se,$);break;default:ae&1?u(Q,le,Z,Y,re,X,q,se,$):ae&6?x(Q,le,Z,Y,re,X,q,se,$):(ae&64||ae&128)&&j.process(Q,le,Z,Y,re,X,q,se,$,W)}ue!=null&&re&&Xb(ue,Q&&Q.ref,X,le||Q,!le)},r=(Q,le,Z,Y)=>{if(Q==null)we(le.el=U(le.children),Z,Y);else{const re=le.el=Q.el;le.children!==Q.children&&p(re,le.children)}},t=(Q,le,Z,Y)=>{Q==null?we(le.el=e(le.children||""),Z,Y):le.el=Q.el},s=(Q,le,Z,Y)=>{[Q.el,Q.anchor]=v(Q.children,le,Z,Y,Q.el,Q.anchor)},a=({el:Q,anchor:le},Z,Y)=>{let re;for(;Q&&Q!==le;)re=C(Q),we(Q,Z,Y),Q=re;we(le,Z,Y)},f=({el:Q,anchor:le})=>{let Z;for(;Q&&Q!==le;)Z=C(Q),Ue(Q),Q=Z;Ue(le)},u=(Q,le,Z,Y,re,X,q,se,$)=>{le.type==="svg"?q="svg":le.type==="math"&&(q="mathml"),Q==null?l(le,Z,Y,re,X,q,se,$):M(Q,le,re,X,q,se,$)},l=(Q,le,Z,Y,re,X,q,se)=>{let $,j;const{props:ue,shapeFlag:ae,transition:ce,dirs:ye}=Q;if($=Q.el=H(Q.type,X,ue&&ue.is,ue),ae&8?L($,Q.children):ae&16&&h(Q.children,$,null,Y,re,db(Q,X),q,se),ye&&dd(Q,null,Y,"created"),m($,Q,Q.scopeId,q,Y),ue){for(const Ae in ue)Ae!=="value"&&!F0(Ae)&&it($,Ae,null,ue[Ae],X,Q.children,Y,re,z);"value"in ue&&it($,"value",null,ue.value,X),(j=ue.onVnodeBeforeMount)&&Th(j,Y,Q)}ye&&dd(Q,null,Y,"beforeMount");const Ce=wL(re,ce);Ce&&ce.beforeEnter($),we($,le,Z),((j=ue&&ue.onVnodeMounted)||Ce||ye)&&df(()=>{j&&Th(j,Y,Q),Ce&&ce.enter($),ye&&dd(Q,null,Y,"mounted")},re)},m=(Q,le,Z,Y,re)=>{if(Z&&T(Q,Z),Y)for(let X=0;X<Y.length;X++)T(Q,Y[X]);if(re){let X=re.subTree;if(le===X){const q=re.vnode;m(Q,q,q.scopeId,q.slotScopeIds,re.parent)}}},h=(Q,le,Z,Y,re,X,q,se,$=0)=>{for(let j=$;j<Q.length;j++){const ue=Q[j]=se?Rv(Q[j]):Ah(Q[j]);g(null,ue,le,Z,Y,re,X,q,se)}},M=(Q,le,Z,Y,re,X,q)=>{const se=le.el=Q.el;let{patchFlag:$,dynamicChildren:j,dirs:ue}=le;$|=Q.patchFlag&16;const ae=Q.props||as,ce=le.props||as;let ye;if(Z&&pd(Z,!1),(ye=ce.onVnodeBeforeUpdate)&&Th(ye,Z,le,Q),ue&&dd(le,Q,Z,"beforeUpdate"),Z&&pd(Z,!0),j?c(Q.dynamicChildren,j,se,Z,Y,db(le,re),X):q||w(Q,le,se,null,Z,Y,db(le,re),X,!1),$>0){if($&16)i(se,le,ae,ce,Z,Y,re);else if($&2&&ae.class!==ce.class&&it(se,"class",null,ce.class,re),$&4&&it(se,"style",ae.style,ce.style,re),$&8){const Ce=le.dynamicProps;for(let Ae=0;Ae<Ce.length;Ae++){const Ie=Ce[Ae],Te=ae[Ie],Le=ce[Ie];(Le!==Te||Ie==="value")&&it(se,Ie,Te,Le,re,Q.children,Z,Y,z)}}$&1&&Q.children!==le.children&&L(se,le.children)}else!q&&j==null&&i(se,le,ae,ce,Z,Y,re);((ye=ce.onVnodeUpdated)||ue)&&df(()=>{ye&&Th(ye,Z,le,Q),ue&&dd(le,Q,Z,"updated")},Y)},c=(Q,le,Z,Y,re,X,q)=>{for(let se=0;se<le.length;se++){const $=Q[se],j=le[se],ue=$.el&&($.type===Ks||!L0($,j)||$.shapeFlag&70)?n($.el):Z;g($,j,ue,null,Y,re,X,q,!0)}},i=(Q,le,Z,Y,re,X,q)=>{if(Z!==Y){if(Z!==as)for(const se in Z)!F0(se)&&!(se in Y)&&it(Q,se,Z[se],null,q,le.children,re,X,z);for(const se in Y){if(F0(se))continue;const $=Y[se],j=Z[se];$!==j&&se!=="value"&&it(Q,se,j,$,q,le.children,re,X,z)}"value"in Y&&it(Q,"value",Z.value,Y.value,q)}},d=(Q,le,Z,Y,re,X,q,se,$)=>{const j=le.el=Q?Q.el:U(""),ue=le.anchor=Q?Q.anchor:U("");let{patchFlag:ae,dynamicChildren:ce,slotScopeIds:ye}=le;ye&&(se=se?se.concat(ye):ye),Q==null?(we(j,Z,Y),we(ue,Z,Y),h(le.children||[],Z,ue,re,X,q,se,$)):ae>0&&ae&64&&ce&&Q.dynamicChildren?(c(Q.dynamicChildren,ce,Z,re,X,q,se),(le.key!=null||re&&le===re.subTree)&&hA(Q,le,!0)):w(Q,le,Z,ue,re,X,q,se,$)},x=(Q,le,Z,Y,re,X,q,se,$)=>{le.slotScopeIds=se,Q==null?le.shapeFlag&512?re.ctx.activate(le,Z,Y,q,$):A(le,Z,Y,re,X,q,$):E(Q,le,$)},A=(Q,le,Z,Y,re,X,q)=>{const se=Q.component=RL(Q,Y,re);if(tA(Q)&&(se.ctx.renderer=W),DL(se),se.asyncDep){if(re&&re.registerDep(se,y),!Q.el){const $=se.subTree=_s(K0);t(null,$,le,Z)}}else y(se,Q,le,Z,re,X,q)},E=(Q,le,Z)=>{const Y=le.component=Q.component;if(BC(Q,le,Z))if(Y.asyncDep&&!Y.asyncResolved){S(Y,le,Z);return}else Y.next=le,RC(Y.update),Y.effect.dirty=!0,Y.update();else le.el=Q.el,Y.vnode=le},y=(Q,le,Z,Y,re,X,q)=>{const se=()=>{if(Q.isMounted){let{next:ue,bu:ae,u:ce,parent:ye,vnode:Ce}=Q;{const xe=vA(Q);if(xe){ue&&(ue.el=Ce.el,S(Q,ue,q)),xe.asyncDep.then(()=>{Q.isUnmounted||se()});return}}let Ae=ue,Ie;pd(Q,!1),ue?(ue.el=Ce.el,S(Q,ue,q)):ue=Ce,ae&&Fy(ae),(Ie=ue.props&&ue.props.onVnodeBeforeUpdate)&&Th(Ie,ye,ue,Ce),pd(Q,!0);const Te=hb(Q),Le=Q.subTree;Q.subTree=Te,g(Le,Te,n(Le.el),F(Le),Q,re,X),ue.el=Te.el,Ae===null&&UC(Q,Te.el),ce&&df(ce,re),(Ie=ue.props&&ue.props.onVnodeUpdated)&&df(()=>Th(Ie,ye,ue,Ce),re)}else{let ue;const{el:ae,props:ce}=le,{bm:ye,m:Ce,parent:Ae}=Q,Ie=By(le);if(pd(Q,!1),ye&&Fy(ye),!Ie&&(ue=ce&&ce.onVnodeBeforeMount)&&Th(ue,Ae,le),pd(Q,!0),ae&&ne){const Te=()=>{Q.subTree=hb(Q),ne(ae,Q.subTree,Q,re,null)};Ie?le.type.__asyncLoader().then(()=>!Q.isUnmounted&&Te()):Te()}else{const Te=Q.subTree=hb(Q);g(null,Te,Z,Y,Q,re,X),le.el=Te.el}if(Ce&&df(Ce,re),!Ie&&(ue=ce&&ce.onVnodeMounted)){const Te=le;df(()=>Th(ue,Ae,Te),re)}(le.shapeFlag&256||Ae&&By(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&Q.a&&df(Q.a,re),Q.isMounted=!0,le=Z=Y=null}},$=Q.effect=new P3(se,yc,()=>N3(j),Q.scope),j=Q.update=()=>{$.dirty&&$.run()};j.id=Q.uid,pd(Q,!0),j()},S=(Q,le,Z)=>{le.component=Q;const Y=Q.vnode.props;Q.vnode=le,Q.next=null,pL(Q,le.props,Y,Z),mL(Q,le.children,Z),Dd(),Qw(Q),Id()},w=(Q,le,Z,Y,re,X,q,se,$=!1)=>{const j=Q&&Q.children,ue=Q?Q.shapeFlag:0,ae=le.children,{patchFlag:ce,shapeFlag:ye}=le;if(ce>0){if(ce&128){_(j,ae,Z,Y,re,X,q,se,$);return}else if(ce&256){o(j,ae,Z,Y,re,X,q,se,$);return}}ye&8?(ue&16&&z(j,re,X),ae!==j&&L(Z,ae)):ue&16?ye&16?_(j,ae,Z,Y,re,X,q,se,$):z(j,re,X,!0):(ue&8&&L(Z,""),ye&16&&h(ae,Z,Y,re,X,q,se,$))},o=(Q,le,Z,Y,re,X,q,se,$)=>{Q=Q||mp,le=le||mp;const j=Q.length,ue=le.length,ae=Math.min(j,ue);let ce;for(ce=0;ce<ae;ce++){const ye=le[ce]=$?Rv(le[ce]):Ah(le[ce]);g(Q[ce],ye,Z,null,re,X,q,se,$)}j>ue?z(Q,re,X,!0,!1,ae):h(le,Z,Y,re,X,q,se,$,ae)},_=(Q,le,Z,Y,re,X,q,se,$)=>{let j=0;const ue=le.length;let ae=Q.length-1,ce=ue-1;for(;j<=ae&&j<=ce;){const ye=Q[j],Ce=le[j]=$?Rv(le[j]):Ah(le[j]);if(L0(ye,Ce))g(ye,Ce,Z,null,re,X,q,se,$);else break;j++}for(;j<=ae&&j<=ce;){const ye=Q[ae],Ce=le[ce]=$?Rv(le[ce]):Ah(le[ce]);if(L0(ye,Ce))g(ye,Ce,Z,null,re,X,q,se,$);else break;ae--,ce--}if(j>ae){if(j<=ce){const ye=ce+1,Ce=ye<ue?le[ye].el:Y;for(;j<=ce;)g(null,le[j]=$?Rv(le[j]):Ah(le[j]),Z,Ce,re,X,q,se,$),j++}}else if(j>ce)for(;j<=ae;)I(Q[j],re,X,!0),j++;else{const ye=j,Ce=j,Ae=new Map;for(j=Ce;j<=ce;j++){const Fe=le[j]=$?Rv(le[j]):Ah(le[j]);Fe.key!=null&&Ae.set(Fe.key,j)}let Ie,Te=0;const Le=ce-Ce+1;let xe=!1,Re=0;const He=new Array(Le);for(j=0;j<Le;j++)He[j]=0;for(j=ye;j<=ae;j++){const Fe=Q[j];if(Te>=Le){I(Fe,re,X,!0);continue}let We;if(Fe.key!=null)We=Ae.get(Fe.key);else for(Ie=Ce;Ie<=ce;Ie++)if(He[Ie-Ce]===0&&L0(Fe,le[Ie])){We=Ie;break}We===void 0?I(Fe,re,X,!0):(He[We-Ce]=j+1,We>=Re?Re=We:xe=!0,g(Fe,le[We],Z,null,re,X,q,se,$),Te++)}const Ve=xe?TL(He):mp;for(Ie=Ve.length-1,j=Le-1;j>=0;j--){const Fe=Ce+j,We=le[Fe],ut=Fe+1<ue?le[Fe+1].el:Y;He[j]===0?g(null,We,Z,ut,re,X,q,se,$):xe&&(Ie<0||j!==Ve[Ie]?b(We,Z,ut,2):Ie--)}}},b=(Q,le,Z,Y,re=null)=>{const{el:X,type:q,transition:se,children:$,shapeFlag:j}=Q;if(j&6){b(Q.component.subTree,le,Z,Y);return}if(j&128){Q.suspense.move(le,Z,Y);return}if(j&64){q.move(Q,le,Z,W);return}if(q===Ks){we(X,le,Z);for(let ae=0;ae<$.length;ae++)b($[ae],le,Z,Y);we(Q.anchor,le,Z);return}if(q===pb){a(Q,le,Z);return}if(Y!==2&&j&1&&se)if(Y===0)se.beforeEnter(X),we(X,le,Z),df(()=>se.enter(X),re);else{const{leave:ae,delayLeave:ce,afterLeave:ye}=se,Ce=()=>we(X,le,Z),Ae=()=>{ae(X,()=>{Ce(),ye&&ye()})};ce?ce(X,Ce,Ae):Ae()}else we(X,le,Z)},I=(Q,le,Z,Y=!1,re=!1)=>{const{type:X,props:q,ref:se,children:$,dynamicChildren:j,shapeFlag:ue,patchFlag:ae,dirs:ce}=Q;if(se!=null&&Xb(se,null,Z,Q,!0),ue&256){le.ctx.deactivate(Q);return}const ye=ue&1&&ce,Ce=!By(Q);let Ae;if(Ce&&(Ae=q&&q.onVnodeBeforeUnmount)&&Th(Ae,le,Q),ue&6)k(Q.component,Z,Y);else{if(ue&128){Q.suspense.unmount(Z,Y);return}ye&&dd(Q,null,le,"beforeUnmount"),ue&64?Q.type.remove(Q,le,Z,re,W,Y):j&&(X!==Ks||ae>0&&ae&64)?z(j,le,Z,!1,!0):(X===Ks&&ae&384||!re&&ue&16)&&z($,le,Z),Y&&D(Q)}(Ce&&(Ae=q&&q.onVnodeUnmounted)||ye)&&df(()=>{Ae&&Th(Ae,le,Q),ye&&dd(Q,null,le,"unmounted")},Z)},D=Q=>{const{type:le,el:Z,anchor:Y,transition:re}=Q;if(le===Ks){N(Z,Y);return}if(le===pb){f(Q);return}const X=()=>{Ue(Z),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(Q.shapeFlag&1&&re&&!re.persisted){const{leave:q,delayLeave:se}=re,$=()=>q(Z,X);se?se(Q.el,X,$):$()}else X()},N=(Q,le)=>{let Z;for(;Q!==le;)Z=C(Q),Ue(Q),Q=Z;Ue(le)},k=(Q,le,Z)=>{const{bum:Y,scope:re,update:X,subTree:q,um:se}=Q;Y&&Fy(Y),re.stop(),X&&(X.active=!1,I(q,Q,le,Z)),se&&df(se,le),df(()=>{Q.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&Q.asyncDep&&!Q.asyncResolved&&Q.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},z=(Q,le,Z,Y=!1,re=!1,X=0)=>{for(let q=X;q<Q.length;q++)I(Q[q],le,Z,Y,re)},F=Q=>Q.shapeFlag&6?F(Q.component.subTree):Q.shapeFlag&128?Q.suspense.next():C(Q.anchor||Q.el);let O=!1;const B=(Q,le,Z)=>{Q==null?le._vnode&&I(le._vnode,null,null,!0):g(le._vnode||null,Q,le,null,null,null,Z),O||(O=!0,Qw(),j4(),O=!1),le._vnode=Q},W={p:g,um:I,m:b,r:D,mt:A,mc:h,pc:w,pbc:c,n:F,o:K};let ee,ne;return V&&([ee,ne]=V(W)),{render:B,hydrate:ee,createApp:hL(B,ee)}}function db({type:K,props:V},oe){return oe==="svg"&&K==="foreignObject"||oe==="mathml"&&K==="annotation-xml"&&V&&V.encoding&&V.encoding.includes("html")?void 0:oe}function pd({effect:K,update:V},oe){K.allowRecurse=V.allowRecurse=oe}function wL(K,V){return(!K||K&&!K.pendingBranch)&&V&&!V.persisted}function hA(K,V,oe=!1){const we=K.children,Ue=V.children;if(wi(we)&&wi(Ue))for(let it=0;it<we.length;it++){const H=we[it];let U=Ue[it];U.shapeFlag&1&&!U.dynamicChildren&&((U.patchFlag<=0||U.patchFlag===32)&&(U=Ue[it]=Rv(Ue[it]),U.el=H.el),oe||hA(H,U)),U.type===Pm&&(U.el=H.el)}}function TL(K){const V=K.slice(),oe=[0];let we,Ue,it,H,U;const e=K.length;for(we=0;we<e;we++){const p=K[we];if(p!==0){if(Ue=oe[oe.length-1],K[Ue]<p){V[we]=Ue,oe.push(we);continue}for(it=0,H=oe.length-1;it<H;)U=it+H>>1,K[oe[U]]<p?it=U+1:H=U;p<K[oe[it]]&&(it>0&&(V[we]=oe[it-1]),oe[it]=we)}}for(it=oe.length,H=oe[it-1];it-- >0;)oe[it]=H,H=V[H];return oe}function vA(K){const V=K.subTree.component;if(V)return V.asyncDep&&!V.asyncResolved?V:vA(V)}const AL=K=>K.__isTeleport,Ks=Symbol.for("v-fgt"),Pm=Symbol.for("v-txt"),K0=Symbol.for("v-cmt"),pb=Symbol.for("v-stc"),B0=[];let Kc=null;function Co(K=!1){B0.push(Kc=K?null:[])}function ML(){B0.pop(),Kc=B0[B0.length-1]||null}let J0=1;function u2(K){J0+=K}function dA(K){return K.dynamicChildren=J0>0?Kc||mp:null,ML(),J0>0&&Kc&&Kc.push(K),K}function Ro(K,V,oe,we,Ue,it){return dA($a(K,V,oe,we,Ue,it,!0))}function SL(K,V,oe,we,Ue){return dA(_s(K,V,oe,we,Ue,!0))}function Zb(K){return K?K.__v_isVNode===!0:!1}function L0(K,V){return K.type===V.type&&K.key===V.key}const Rm="__vInternal",pA=({key:K})=>K??null,Vy=({ref:K,ref_key:V,ref_for:oe})=>(typeof K=="number"&&(K=""+K),K!=null?sl(K)||Us(K)||Bi(K)?{i:Pu,r:K,k:V,f:!!oe}:K:null);function $a(K,V=null,oe=null,we=0,Ue=null,it=K===Ks?0:1,H=!1,U=!1){const e={__v_isVNode:!0,__v_skip:!0,type:K,props:V,key:V&&pA(V),ref:V&&Vy(V),scopeId:Em,slotScopeIds:null,children:oe,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:it,patchFlag:we,dynamicProps:Ue,dynamicChildren:null,appContext:null,ctx:Pu};return U?(H3(e,oe),it&128&&K.normalize(e)):oe&&(e.shapeFlag|=sl(oe)?8:16),J0>0&&!H&&Kc&&(e.patchFlag>0||it&6)&&e.patchFlag!==32&&Kc.push(e),e}const _s=EL;function EL(K,V=null,oe=null,we=0,Ue=null,it=!1){if((!K||K===VC)&&(K=K0),Zb(K)){const U=Ip(K,V,!0);return oe&&H3(U,oe),J0>0&&!it&&Kc&&(U.shapeFlag&6?Kc[Kc.indexOf(K)]=U:Kc.push(U)),U.patchFlag|=-2,U}if(FL(K)&&(K=K.__vccOpts),V){V=CL(V);let{class:U,style:e}=V;U&&!sl(U)&&(V.class=bm(U)),Ko(e)&&(V4(e)&&!wi(e)&&(e=Vl({},e)),V.style=_3(e))}const H=sl(K)?1:GC(K)?128:AL(K)?64:Ko(K)?4:Bi(K)?2:0;return $a(K,V,oe,we,Ue,H,it,!0)}function CL(K){return K?V4(K)||Rm in K?Vl({},K):K:null}function Ip(K,V,oe=!1){const{props:we,ref:Ue,patchFlag:it,children:H}=K,U=V?LL(we||{},V):we;return{__v_isVNode:!0,__v_skip:!0,type:K.type,props:U,key:U&&pA(U),ref:V&&V.ref?oe&&Ue?wi(Ue)?Ue.concat(Vy(V)):[Ue,Vy(V)]:Vy(V):Ue,scopeId:K.scopeId,slotScopeIds:K.slotScopeIds,children:H,target:K.target,targetAnchor:K.targetAnchor,staticCount:K.staticCount,shapeFlag:K.shapeFlag,patchFlag:V&&K.type!==Ks?it===-1?16:it|16:it,dynamicProps:K.dynamicProps,dynamicChildren:K.dynamicChildren,appContext:K.appContext,dirs:K.dirs,transition:K.transition,component:K.component,suspense:K.suspense,ssContent:K.ssContent&&Ip(K.ssContent),ssFallback:K.ssFallback&&Ip(K.ssFallback),el:K.el,anchor:K.anchor,ctx:K.ctx,ce:K.ce}}function $0(K=" ",V=0){return _s(Pm,null,K,V)}function Ah(K){return K==null||typeof K=="boolean"?_s(K0):wi(K)?_s(Ks,null,K.slice()):typeof K=="object"?Rv(K):_s(Pm,null,String(K))}function Rv(K){return K.el===null&&K.patchFlag!==-1||K.memo?K:Ip(K)}function H3(K,V){let oe=0;const{shapeFlag:we}=K;if(V==null)V=null;else if(wi(V))oe=16;else if(typeof V=="object")if(we&65){const Ue=V.default;Ue&&(Ue._c&&(Ue._d=!1),H3(K,Ue()),Ue._c&&(Ue._d=!0));return}else{oe=32;const Ue=V._;!Ue&&!(Rm in V)?V._ctx=Pu:Ue===3&&Pu&&(Pu.slots._===1?V._=1:(V._=2,K.patchFlag|=1024))}else Bi(V)?(V={default:V,_ctx:Pu},oe=32):(V=String(V),we&64?(oe=16,V=[$0(V)]):oe=8);K.children=V,K.shapeFlag|=oe}function LL(...K){const V={};for(let oe=0;oe<K.length;oe++){const we=K[oe];for(const Ue in we)if(Ue==="class")V.class!==we.class&&(V.class=bm([V.class,we.class]));else if(Ue==="style")V.style=_3([V.style,we.style]);else if(gm(Ue)){const it=V[Ue],H=we[Ue];H&&it!==H&&!(wi(it)&&it.includes(H))&&(V[Ue]=it?[].concat(it,H):H)}else Ue!==""&&(V[Ue]=we[Ue])}return V}function Th(K,V,oe,we=null){$c(K,V,7,[oe,we])}const _L=oA();let PL=0;function RL(K,V,oe){const we=K.type,Ue=(V?V.appContext:K.appContext)||_L,it={uid:PL++,vnode:K,type:we,parent:V,appContext:Ue,root:null,next:null,subTree:null,effect:null,update:null,scope:new S4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:V?V.provides:Object.create(Ue.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lA(we,Ue),emitsOptions:J4(we,Ue),emit:null,emitted:null,propsDefaults:as,inheritAttrs:we.inheritAttrs,ctx:as,data:as,props:as,attrs:as,slots:as,refs:as,setupState:as,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:oe,suspenseId:oe?oe.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return it.ctx={_:it},it.root=V?V.root:it,it.emit=kC.bind(null,it),K.ce&&K.ce(it),it}let Ul=null,em,jb;{const K=T4(),V=(oe,we)=>{let Ue;return(Ue=K[oe])||(Ue=K[oe]=[]),Ue.push(we),it=>{Ue.length>1?Ue.forEach(H=>H(it)):Ue[0](it)}};em=V("__VUE_INSTANCE_SETTERS__",oe=>Ul=oe),jb=V("__VUE_SSR_SETTERS__",oe=>Dm=oe)}const ug=K=>{const V=Ul;return em(K),K.scope.on(),()=>{K.scope.off(),em(V)}},f2=()=>{Ul&&Ul.scope.off(),em(null)};function gA(K){return K.vnode.shapeFlag&4}let Dm=!1;function DL(K,V=!1){V&&jb(V);const{props:oe,children:we}=K.vnode,Ue=gA(K);dL(K,oe,Ue,V),yL(K,we);const it=Ue?IL(K,V):void 0;return V&&jb(!1),it}function IL(K,V){const oe=K.type;K.accessCache=Object.create(null),K.proxy=Am(new Proxy(K.ctx,iL));const{setup:we}=oe;if(we){const Ue=K.setupContext=we.length>1?OL(K):null,it=ug(K);Dd();const H=Bv(we,K,0,[K.props,Ue]);if(Id(),it(),x4(H)){if(H.then(f2,f2),V)return H.then(U=>{c2(K,U,V)}).catch(U=>{Mm(U,K,0)});K.asyncDep=H}else c2(K,H,V)}else yA(K,V)}function c2(K,V,oe){Bi(V)?K.type.__ssrInlineRender?K.ssrRender=V:K.render=V:Ko(V)&&(K.setupState=Y4(V)),yA(K,oe)}let h2;function yA(K,V,oe){const we=K.type;if(!K.render){if(!V&&h2&&!we.render){const Ue=we.template||U3(K).template;if(Ue){const{isCustomElement:it,compilerOptions:H}=K.appContext.config,{delimiters:U,compilerOptions:e}=we,p=Vl(Vl({isCustomElement:it,delimiters:U},H),e);we.render=h2(Ue,p)}}K.render=we.render||yc}{const Ue=ug(K);Dd();try{oL(K)}finally{Id(),Ue()}}}function kL(K){return K.attrsProxy||(K.attrsProxy=new Proxy(K.attrs,{get(V,oe){return yf(K,"get","$attrs"),V[oe]}}))}function OL(K){const V=oe=>{K.exposed=oe||{}};return{get attrs(){return kL(K)},slots:K.slots,emit:K.emit,expose:V}}function Im(K){if(K.exposed)return K.exposeProxy||(K.exposeProxy=new Proxy(Y4(Am(K.exposed)),{get(V,oe){if(oe in V)return V[oe];if(oe in N0)return N0[oe](K)},has(V,oe){return oe in V||oe in N0}}))}function zL(K,V=!0){return Bi(K)?K.displayName||K.name:K.name||V&&K.__name}function FL(K){return Bi(K)&&"__vccOpts"in K}const Xf=(K,V)=>TC(K,V,Dm);function mA(K,V,oe){const we=arguments.length;return we===2?Ko(V)&&!wi(V)?Zb(V)?_s(K,null,[V]):_s(K,V):_s(K,null,V):(we>3?oe=Array.prototype.slice.call(arguments,2):we===3&&Zb(oe)&&(oe=[oe]),_s(K,V,oe))}const NL="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const BL="http://www.w3.org/2000/svg",UL="http://www.w3.org/1998/Math/MathML",Dv=typeof document<"u"?document:null,v2=Dv&&Dv.createElement("template"),VL={insert:(K,V,oe)=>{V.insertBefore(K,oe||null)},remove:K=>{const V=K.parentNode;V&&V.removeChild(K)},createElement:(K,V,oe,we)=>{const Ue=V==="svg"?Dv.createElementNS(BL,K):V==="mathml"?Dv.createElementNS(UL,K):Dv.createElement(K,oe?{is:oe}:void 0);return K==="select"&&we&&we.multiple!=null&&Ue.setAttribute("multiple",we.multiple),Ue},createText:K=>Dv.createTextNode(K),createComment:K=>Dv.createComment(K),setText:(K,V)=>{K.nodeValue=V},setElementText:(K,V)=>{K.textContent=V},parentNode:K=>K.parentNode,nextSibling:K=>K.nextSibling,querySelector:K=>Dv.querySelector(K),setScopeId(K,V){K.setAttribute(V,"")},insertStaticContent(K,V,oe,we,Ue,it){const H=oe?oe.previousSibling:V.lastChild;if(Ue&&(Ue===it||Ue.nextSibling))for(;V.insertBefore(Ue.cloneNode(!0),oe),!(Ue===it||!(Ue=Ue.nextSibling)););else{v2.innerHTML=we==="svg"?`<svg>${K}</svg>`:we==="mathml"?`<math>${K}</math>`:K;const U=v2.content;if(we==="svg"||we==="mathml"){const e=U.firstChild;for(;e.firstChild;)U.appendChild(e.firstChild);U.removeChild(e)}V.insertBefore(U,oe)}return[H?H.nextSibling:V.firstChild,oe?oe.previousSibling:V.lastChild]}},HL=Symbol("_vtc");function GL(K,V,oe){const we=K[HL];we&&(V=(V?[V,...we]:[...we]).join(" ")),V==null?K.removeAttribute("class"):oe?K.setAttribute("class",V):K.className=V}const d2=Symbol("_vod"),WL=Symbol(""),YL=/(^|;)\s*display\s*:/;function XL(K,V,oe){const we=K.style,Ue=sl(oe),it=we.display;let H=!1;if(oe&&!Ue){if(V&&!sl(V))for(const U in V)oe[U]==null&&Kb(we,U,"");for(const U in oe)U==="display"&&(H=!0),Kb(we,U,oe[U])}else if(Ue){if(V!==oe){const U=we[WL];U&&(oe+=";"+U),we.cssText=oe,H=YL.test(oe)}}else V&&K.removeAttribute("style");d2 in K&&(K[d2]=H?we.display:"",we.display=it)}const p2=/\s*!important$/;function Kb(K,V,oe){if(wi(oe))oe.forEach(we=>Kb(K,V,we));else if(oe==null&&(oe=""),V.startsWith("--"))K.setProperty(V,oe);else{const we=ZL(K,V);p2.test(oe)?K.setProperty(Vp(we),oe.replace(p2,""),"important"):K[we]=oe}}const g2=["Webkit","Moz","ms"],gb={};function ZL(K,V){const oe=gb[V];if(oe)return oe;let we=Lh(V);if(we!=="filter"&&we in K)return gb[V]=we;we=xm(we);for(let Ue=0;Ue<g2.length;Ue++){const it=g2[Ue]+we;if(it in K)return gb[V]=it}return V}const y2="http://www.w3.org/1999/xlink";function jL(K,V,oe,we,Ue){if(we&&V.startsWith("xlink:"))oe==null?K.removeAttributeNS(y2,V.slice(6,V.length)):K.setAttributeNS(y2,V,oe);else{const it=$8(V);oe==null||it&&!A4(oe)?K.removeAttribute(V):K.setAttribute(V,it?"":oe)}}function KL(K,V,oe,we,Ue,it,H){if(V==="innerHTML"||V==="textContent"){we&&H(we,Ue,it),K[V]=oe??"";return}const U=K.tagName;if(V==="value"&&U!=="PROGRESS"&&!U.includes("-")){K._value=oe;const p=U==="OPTION"?K.getAttribute("value"):K.value,L=oe??"";p!==L&&(K.value=L),oe==null&&K.removeAttribute(V);return}let e=!1;if(oe===""||oe==null){const p=typeof K[V];p==="boolean"?oe=A4(oe):oe==null&&p==="string"?(oe="",e=!0):p==="number"&&(oe=0,e=!0)}try{K[V]=oe}catch{}e&&K.removeAttribute(V)}function xd(K,V,oe,we){K.addEventListener(V,oe,we)}function JL(K,V,oe,we){K.removeEventListener(V,oe,we)}const m2=Symbol("_vei");function $L(K,V,oe,we,Ue=null){const it=K[m2]||(K[m2]={}),H=it[V];if(we&&H)H.value=we;else{const[U,e]=QL(V);if(we){const p=it[V]=t_(we,Ue);xd(K,U,p,e)}else H&&(JL(K,U,H,e),it[V]=void 0)}}const x2=/(?:Once|Passive|Capture)$/;function QL(K){let V;if(x2.test(K)){V={};let we;for(;we=K.match(x2);)K=K.slice(0,K.length-we[0].length),V[we[0].toLowerCase()]=!0}return[K[2]===":"?K.slice(3):Vp(K.slice(2)),V]}let yb=0;const qL=Promise.resolve(),e_=()=>yb||(qL.then(()=>yb=0),yb=Date.now());function t_(K,V){const oe=we=>{if(!we._vts)we._vts=Date.now();else if(we._vts<=oe.attached)return;$c(r_(we,oe.value),V,5,[we])};return oe.value=K,oe.attached=e_(),oe}function r_(K,V){if(wi(V)){const oe=K.stopImmediatePropagation;return K.stopImmediatePropagation=()=>{oe.call(K),K._stopped=!0},V.map(we=>Ue=>!Ue._stopped&&we&&we(Ue))}else return V}const b2=K=>K.charCodeAt(0)===111&&K.charCodeAt(1)===110&&K.charCodeAt(2)>96&&K.charCodeAt(2)<123,n_=(K,V,oe,we,Ue,it,H,U,e)=>{const p=Ue==="svg";V==="class"?GL(K,we,p):V==="style"?XL(K,oe,we):gm(V)?E3(V)||$L(K,V,oe,we,H):(V[0]==="."?(V=V.slice(1),!0):V[0]==="^"?(V=V.slice(1),!1):a_(K,V,we,p))?KL(K,V,we,it,H,U,e):(V==="true-value"?K._trueValue=we:V==="false-value"&&(K._falseValue=we),jL(K,V,we,p))};function a_(K,V,oe,we){if(we)return!!(V==="innerHTML"||V==="textContent"||V in K&&b2(V)&&Bi(oe));if(V==="spellcheck"||V==="draggable"||V==="translate"||V==="form"||V==="list"&&K.tagName==="INPUT"||V==="type"&&K.tagName==="TEXTAREA")return!1;if(V==="width"||V==="height"){const Ue=K.tagName;if(Ue==="IMG"||Ue==="VIDEO"||Ue==="CANVAS"||Ue==="SOURCE")return!1}return b2(V)&&sl(oe)?!1:V in K}const tm=K=>{const V=K.props["onUpdate:modelValue"]||!1;return wi(V)?oe=>Fy(V,oe):V};function i_(K){K.target.composing=!0}function w2(K){const V=K.target;V.composing&&(V.composing=!1,V.dispatchEvent(new Event("input")))}const Tp=Symbol("_assign"),G3={created(K,{modifiers:{lazy:V,trim:oe,number:we}},Ue){K[Tp]=tm(Ue);const it=we||Ue.props&&Ue.props.type==="number";xd(K,V?"change":"input",H=>{if(H.target.composing)return;let U=K.value;oe&&(U=U.trim()),it&&(U=Y0(U)),K[Tp](U)}),oe&&xd(K,"change",()=>{K.value=K.value.trim()}),V||(xd(K,"compositionstart",i_),xd(K,"compositionend",w2),xd(K,"change",w2))},mounted(K,{value:V}){K.value=V??""},beforeUpdate(K,{value:V,modifiers:{lazy:oe,trim:we,number:Ue}},it){if(K[Tp]=tm(it),K.composing)return;const H=Ue||K.type==="number"?Y0(K.value):K.value,U=V??"";H!==U&&(document.activeElement===K&&K.type!=="range"&&(oe||we&&K.value.trim()===U)||(K.value=U))}},o_={deep:!0,created(K,{value:V,modifiers:{number:oe}},we){const Ue=ym(V);xd(K,"change",()=>{const it=Array.prototype.filter.call(K.options,H=>H.selected).map(H=>oe?Y0(rm(H)):rm(H));K[Tp](K.multiple?Ue?new Set(it):it:it[0]),K._assigning=!0,lg(()=>{K._assigning=!1})}),K[Tp]=tm(we)},mounted(K,{value:V,oldValue:oe,modifiers:{number:we}}){T2(K,V,oe,we)},beforeUpdate(K,V,oe){K[Tp]=tm(oe)},updated(K,{value:V,oldValue:oe,modifiers:{number:we}}){K._assigning||T2(K,V,oe,we)}};function T2(K,V,oe,we){const Ue=K.multiple,it=wi(V);if(!(Ue&&!it&&!ym(V))){for(let H=0,U=K.options.length;H<U;H++){const e=K.options[H],p=rm(e);if(Ue)if(it){const L=typeof p;L==="string"||L==="number"?e.selected=V.includes(we?Y0(p):p):e.selected=q8(V,p)>-1}else e.selected=V.has(p);else if(wm(rm(e),V)){K.selectedIndex!==H&&(K.selectedIndex=H);return}}!Ue&&K.selectedIndex!==-1&&(K.selectedIndex=-1)}}function rm(K){return"_value"in K?K._value:K.value}const s_=Vl({patchProp:n_},VL);let A2;function l_(){return A2||(A2=xL(s_))}const u_=(...K)=>{const V=l_().createApp(...K),{mount:oe}=V;return V.mount=we=>{const Ue=c_(we);if(!Ue)return;const it=V._component;!Bi(it)&&!it.render&&!it.template&&(it.template=Ue.innerHTML),Ue.innerHTML="";const H=oe(Ue,!1,f_(Ue));return Ue instanceof Element&&(Ue.removeAttribute("v-cloak"),Ue.setAttribute("data-v-app","")),H},V};function f_(K){if(K instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&K instanceof MathMLElement)return"mathml"}function c_(K){return sl(K)?document.querySelector(K):K}var h_=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let xA;const km=K=>xA=K,bA=Symbol();function Jb(K){return K&&typeof K=="object"&&Object.prototype.toString.call(K)==="[object Object]"&&typeof K.toJSON!="function"}var U0;(function(K){K.direct="direct",K.patchObject="patch object",K.patchFunction="patch function"})(U0||(U0={}));function v_(){const K=E4(!0),V=K.run(()=>jo({}));let oe=[],we=[];const Ue=Am({install(it){km(Ue),Ue._a=it,it.provide(bA,Ue),it.config.globalProperties.$pinia=Ue,we.forEach(H=>oe.push(H)),we=[]},use(it){return!this._a&&!h_?we.push(it):oe.push(it),this},_p:oe,_a:null,_e:K,_s:new Map,state:V});return Ue}const wA=()=>{};function M2(K,V,oe,we=wA){K.push(V);const Ue=()=>{const it=K.indexOf(V);it>-1&&(K.splice(it,1),we())};return!oe&&C4()&&tC(Ue),Ue}function up(K,...V){K.slice().forEach(oe=>{oe(...V)})}const d_=K=>K();function $b(K,V){K instanceof Map&&V instanceof Map&&V.forEach((oe,we)=>K.set(we,oe)),K instanceof Set&&V instanceof Set&&V.forEach(K.add,K);for(const oe in V){if(!V.hasOwnProperty(oe))continue;const we=V[oe],Ue=K[oe];Jb(Ue)&&Jb(we)&&K.hasOwnProperty(oe)&&!Us(we)&&!Nv(we)?K[oe]=$b(Ue,we):K[oe]=we}return K}const p_=Symbol();function g_(K){return!Jb(K)||!K.hasOwnProperty(p_)}const{assign:_v}=Object;function y_(K){return!!(Us(K)&&K.effect)}function m_(K,V,oe,we){const{state:Ue,actions:it,getters:H}=V,U=oe.state.value[K];let e;function p(){U||(oe.state.value[K]=Ue?Ue():{});const L=EC(oe.state.value[K]);return _v(L,it,Object.keys(H||{}).reduce((n,C)=>(n[C]=Am(Xf(()=>{km(oe);const T=oe._s.get(K);return H[C].call(T,T)})),n),{}))}return e=TA(K,p,V,oe,we,!0),e}function TA(K,V,oe={},we,Ue,it){let H;const U=_v({actions:{}},oe),e={deep:!0};let p,L,n=[],C=[],T;const v=we.state.value[K];!it&&!v&&(we.state.value[K]={}),jo({});let g;function r(h){let M;p=L=!1,typeof h=="function"?(h(we.state.value[K]),M={type:U0.patchFunction,storeId:K,events:T}):($b(we.state.value[K],h),M={type:U0.patchObject,payload:h,storeId:K,events:T});const c=g=Symbol();lg().then(()=>{g===c&&(p=!0)}),L=!0,up(n,M,we.state.value[K])}const t=it?function(){const{state:M}=oe,c=M?M():{};this.$patch(i=>{_v(i,c)})}:wA;function s(){H.stop(),n=[],C=[],we._s.delete(K)}function a(h,M){return function(){km(we);const c=Array.from(arguments),i=[],d=[];function x(y){i.push(y)}function A(y){d.push(y)}up(C,{args:c,name:h,store:u,after:x,onError:A});let E;try{E=M.apply(this&&this.$id===K?this:u,c)}catch(y){throw up(d,y),y}return E instanceof Promise?E.then(y=>(up(i,y),y)).catch(y=>(up(d,y),Promise.reject(y))):(up(i,E),E)}}const f={_p:we,$id:K,$onAction:M2.bind(null,C),$patch:r,$reset:t,$subscribe(h,M={}){const c=M2(n,h,M.detached,()=>i()),i=H.run(()=>Zh(()=>we.state.value[K],d=>{(M.flush==="sync"?L:p)&&h({storeId:K,type:U0.direct,events:T},d)},_v({},e,M)));return c},$dispose:s},u=sg(f);we._s.set(K,u);const m=(we._a&&we._a.runWithContext||d_)(()=>we._e.run(()=>(H=E4()).run(V)));for(const h in m){const M=m[h];if(Us(M)&&!y_(M)||Nv(M))it||(v&&g_(M)&&(Us(M)?M.value=v[h]:$b(M,v[h])),we.state.value[K][h]=M);else if(typeof M=="function"){const c=a(h,M);m[h]=c,U.actions[h]=M}}return _v(u,m),_v(po(u),m),Object.defineProperty(u,"$state",{get:()=>we.state.value[K],set:h=>{r(M=>{_v(M,h)})}}),we._p.forEach(h=>{_v(u,H.run(()=>h({store:u,app:we._a,pinia:we,options:U})))}),v&&it&&oe.hydrate&&oe.hydrate(u.$state,v),p=!0,L=!0,u}function x_(K,V,oe){let we,Ue;const it=typeof V=="function";typeof K=="string"?(we=K,Ue=it?oe:V):(Ue=K,we=K.id);function H(U,e){const p=vL();return U=U||(p?wc(bA,null):null),U&&km(U),U=xA,U._s.has(we)||(it?TA(we,V,Ue,U):m_(we,Ue,U)),U._s.get(we)}return H.$id=we,H}/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const pp=typeof document<"u";function b_(K){return K.__esModule||K[Symbol.toStringTag]==="Module"}const Po=Object.assign;function mb(K,V){const oe={};for(const we in V){const Ue=V[we];oe[we]=Qc(Ue)?Ue.map(K):K(Ue)}return oe}const V0=()=>{},Qc=Array.isArray,AA=/#/g,w_=/&/g,T_=/\//g,A_=/=/g,M_=/\?/g,MA=/\+/g,S_=/%5B/g,E_=/%5D/g,SA=/%5E/g,C_=/%60/g,EA=/%7B/g,L_=/%7C/g,CA=/%7D/g,__=/%20/g;function W3(K){return encodeURI(""+K).replace(L_,"|").replace(S_,"[").replace(E_,"]")}function P_(K){return W3(K).replace(EA,"{").replace(CA,"}").replace(SA,"^")}function Qb(K){return W3(K).replace(MA,"%2B").replace(__,"+").replace(AA,"%23").replace(w_,"%26").replace(C_,"`").replace(EA,"{").replace(CA,"}").replace(SA,"^")}function R_(K){return Qb(K).replace(A_,"%3D")}function D_(K){return W3(K).replace(AA,"%23").replace(M_,"%3F")}function I_(K){return K==null?"":D_(K).replace(T_,"%2F")}function Q0(K){try{return decodeURIComponent(""+K)}catch{}return""+K}const k_=/\/$/,O_=K=>K.replace(k_,"");function xb(K,V,oe="/"){let we,Ue={},it="",H="";const U=V.indexOf("#");let e=V.indexOf("?");return U<e&&U>=0&&(e=-1),e>-1&&(we=V.slice(0,e),it=V.slice(e+1,U>-1?U:V.length),Ue=K(it)),U>-1&&(we=we||V.slice(0,U),H=V.slice(U,V.length)),we=B_(we??V,oe),{fullPath:we+(it&&"?")+it+H,path:we,query:Ue,hash:Q0(H)}}function z_(K,V){const oe=V.query?K(V.query):"";return V.path+(oe&&"?")+oe+(V.hash||"")}function S2(K,V){return!V||!K.toLowerCase().startsWith(V.toLowerCase())?K:K.slice(V.length)||"/"}function F_(K,V,oe){const we=V.matched.length-1,Ue=oe.matched.length-1;return we>-1&&we===Ue&&kp(V.matched[we],oe.matched[Ue])&&LA(V.params,oe.params)&&K(V.query)===K(oe.query)&&V.hash===oe.hash}function kp(K,V){return(K.aliasOf||K)===(V.aliasOf||V)}function LA(K,V){if(Object.keys(K).length!==Object.keys(V).length)return!1;for(const oe in K)if(!N_(K[oe],V[oe]))return!1;return!0}function N_(K,V){return Qc(K)?E2(K,V):Qc(V)?E2(V,K):K===V}function E2(K,V){return Qc(V)?K.length===V.length&&K.every((oe,we)=>oe===V[we]):K.length===1&&K[0]===V}function B_(K,V){if(K.startsWith("/"))return K;if(!K)return V;const oe=V.split("/"),we=K.split("/"),Ue=we[we.length-1];(Ue===".."||Ue===".")&&we.push("");let it=oe.length-1,H,U;for(H=0;H<we.length;H++)if(U=we[H],U!==".")if(U==="..")it>1&&it--;else break;return oe.slice(0,it).join("/")+"/"+we.slice(H).join("/")}var q0;(function(K){K.pop="pop",K.push="push"})(q0||(q0={}));var H0;(function(K){K.back="back",K.forward="forward",K.unknown=""})(H0||(H0={}));function U_(K){if(!K)if(pp){const V=document.querySelector("base");K=V&&V.getAttribute("href")||"/",K=K.replace(/^\w+:\/\/[^\/]+/,"")}else K="/";return K[0]!=="/"&&K[0]!=="#"&&(K="/"+K),O_(K)}const V_=/^[^#]+#/;function H_(K,V){return K.replace(V_,"#")+V}function G_(K,V){const oe=document.documentElement.getBoundingClientRect(),we=K.getBoundingClientRect();return{behavior:V.behavior,left:we.left-oe.left-(V.left||0),top:we.top-oe.top-(V.top||0)}}const Om=()=>({left:window.scrollX,top:window.scrollY});function W_(K){let V;if("el"in K){const oe=K.el,we=typeof oe=="string"&&oe.startsWith("#"),Ue=typeof oe=="string"?we?document.getElementById(oe.slice(1)):document.querySelector(oe):oe;if(!Ue)return;V=G_(Ue,K)}else V=K;"scrollBehavior"in document.documentElement.style?window.scrollTo(V):window.scrollTo(V.left!=null?V.left:window.scrollX,V.top!=null?V.top:window.scrollY)}function C2(K,V){return(history.state?history.state.position-V:-1)+K}const qb=new Map;function Y_(K,V){qb.set(K,V)}function X_(K){const V=qb.get(K);return qb.delete(K),V}let Z_=()=>location.protocol+"//"+location.host;function _A(K,V){const{pathname:oe,search:we,hash:Ue}=V,it=K.indexOf("#");if(it>-1){let U=Ue.includes(K.slice(it))?K.slice(it).length:1,e=Ue.slice(U);return e[0]!=="/"&&(e="/"+e),S2(e,"")}return S2(oe,K)+we+Ue}function j_(K,V,oe,we){let Ue=[],it=[],H=null;const U=({state:C})=>{const T=_A(K,location),v=oe.value,g=V.value;let r=0;if(C){if(oe.value=T,V.value=C,H&&H===v){H=null;return}r=g?C.position-g.position:0}else we(T);Ue.forEach(t=>{t(oe.value,v,{delta:r,type:q0.pop,direction:r?r>0?H0.forward:H0.back:H0.unknown})})};function e(){H=oe.value}function p(C){Ue.push(C);const T=()=>{const v=Ue.indexOf(C);v>-1&&Ue.splice(v,1)};return it.push(T),T}function L(){const{history:C}=window;C.state&&C.replaceState(Po({},C.state,{scroll:Om()}),"")}function n(){for(const C of it)C();it=[],window.removeEventListener("popstate",U),window.removeEventListener("beforeunload",L)}return window.addEventListener("popstate",U),window.addEventListener("beforeunload",L,{passive:!0}),{pauseListeners:e,listen:p,destroy:n}}function L2(K,V,oe,we=!1,Ue=!1){return{back:K,current:V,forward:oe,replaced:we,position:window.history.length,scroll:Ue?Om():null}}function K_(K){const{history:V,location:oe}=window,we={value:_A(K,oe)},Ue={value:V.state};Ue.value||it(we.value,{back:null,current:we.value,forward:null,position:V.length-1,replaced:!0,scroll:null},!0);function it(e,p,L){const n=K.indexOf("#"),C=n>-1?(oe.host&&document.querySelector("base")?K:K.slice(n))+e:Z_()+K+e;try{V[L?"replaceState":"pushState"](p,"",C),Ue.value=p}catch(T){console.error(T),oe[L?"replace":"assign"](C)}}function H(e,p){const L=Po({},V.state,L2(Ue.value.back,e,Ue.value.forward,!0),p,{position:Ue.value.position});it(e,L,!0),we.value=e}function U(e,p){const L=Po({},Ue.value,V.state,{forward:e,scroll:Om()});it(L.current,L,!0);const n=Po({},L2(we.value,e,null),{position:L.position+1},p);it(e,n,!1),we.value=e}return{location:we,state:Ue,push:U,replace:H}}function J_(K){K=U_(K);const V=K_(K),oe=j_(K,V.state,V.location,V.replace);function we(it,H=!0){H||oe.pauseListeners(),history.go(it)}const Ue=Po({location:"",base:K,go:we,createHref:H_.bind(null,K)},V,oe);return Object.defineProperty(Ue,"location",{enumerable:!0,get:()=>V.location.value}),Object.defineProperty(Ue,"state",{enumerable:!0,get:()=>V.state.value}),Ue}function $_(K){return typeof K=="string"||K&&typeof K=="object"}function PA(K){return typeof K=="string"||typeof K=="symbol"}const Ev={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},RA=Symbol("");var _2;(function(K){K[K.aborted=4]="aborted",K[K.cancelled=8]="cancelled",K[K.duplicated=16]="duplicated"})(_2||(_2={}));function Op(K,V){return Po(new Error,{type:K,[RA]:!0},V)}function Hh(K,V){return K instanceof Error&&RA in K&&(V==null||!!(K.type&V))}const P2="[^/]+?",Q_={sensitive:!1,strict:!1,start:!0,end:!0},q_=/[.+*?^${}()[\]/\\]/g;function e7(K,V){const oe=Po({},Q_,V),we=[];let Ue=oe.start?"^":"";const it=[];for(const p of K){const L=p.length?[]:[90];oe.strict&&!p.length&&(Ue+="/");for(let n=0;n<p.length;n++){const C=p[n];let T=40+(oe.sensitive?.25:0);if(C.type===0)n||(Ue+="/"),Ue+=C.value.replace(q_,"\\$&"),T+=40;else if(C.type===1){const{value:v,repeatable:g,optional:r,regexp:t}=C;it.push({name:v,repeatable:g,optional:r});const s=t||P2;if(s!==P2){T+=10;try{new RegExp(`(${s})`)}catch(f){throw new Error(`Invalid custom RegExp for param "${v}" (${s}): `+f.message)}}let a=g?`((?:${s})(?:/(?:${s}))*)`:`(${s})`;n||(a=r&&p.length<2?`(?:/${a})`:"/"+a),r&&(a+="?"),Ue+=a,T+=20,r&&(T+=-8),g&&(T+=-20),s===".*"&&(T+=-50)}L.push(T)}we.push(L)}if(oe.strict&&oe.end){const p=we.length-1;we[p][we[p].length-1]+=.7000000000000001}oe.strict||(Ue+="/?"),oe.end?Ue+="$":oe.strict&&(Ue+="(?:/|$)");const H=new RegExp(Ue,oe.sensitive?"":"i");function U(p){const L=p.match(H),n={};if(!L)return null;for(let C=1;C<L.length;C++){const T=L[C]||"",v=it[C-1];n[v.name]=T&&v.repeatable?T.split("/"):T}return n}function e(p){let L="",n=!1;for(const C of K){(!n||!L.endsWith("/"))&&(L+="/"),n=!1;for(const T of C)if(T.type===0)L+=T.value;else if(T.type===1){const{value:v,repeatable:g,optional:r}=T,t=v in p?p[v]:"";if(Qc(t)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const s=Qc(t)?t.join("/"):t;if(!s)if(r)C.length<2&&(L.endsWith("/")?L=L.slice(0,-1):n=!0);else throw new Error(`Missing required param "${v}"`);L+=s}}return L||"/"}return{re:H,score:we,keys:it,parse:U,stringify:e}}function t7(K,V){let oe=0;for(;oe<K.length&&oe<V.length;){const we=V[oe]-K[oe];if(we)return we;oe++}return K.length<V.length?K.length===1&&K[0]===80?-1:1:K.length>V.length?V.length===1&&V[0]===80?1:-1:0}function r7(K,V){let oe=0;const we=K.score,Ue=V.score;for(;oe<we.length&&oe<Ue.length;){const it=t7(we[oe],Ue[oe]);if(it)return it;oe++}if(Math.abs(Ue.length-we.length)===1){if(R2(we))return 1;if(R2(Ue))return-1}return Ue.length-we.length}function R2(K){const V=K[K.length-1];return K.length>0&&V[V.length-1]<0}const n7={type:0,value:""},a7=/[a-zA-Z0-9_]/;function i7(K){if(!K)return[[]];if(K==="/")return[[n7]];if(!K.startsWith("/"))throw new Error(`Invalid path "${K}"`);function V(T){throw new Error(`ERR (${oe})/"${p}": ${T}`)}let oe=0,we=oe;const Ue=[];let it;function H(){it&&Ue.push(it),it=[]}let U=0,e,p="",L="";function n(){p&&(oe===0?it.push({type:0,value:p}):oe===1||oe===2||oe===3?(it.length>1&&(e==="*"||e==="+")&&V(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),it.push({type:1,value:p,regexp:L,repeatable:e==="*"||e==="+",optional:e==="*"||e==="?"})):V("Invalid state to consume buffer"),p="")}function C(){p+=e}for(;U<K.length;){if(e=K[U++],e==="\\"&&oe!==2){we=oe,oe=4;continue}switch(oe){case 0:e==="/"?(p&&n(),H()):e===":"?(n(),oe=1):C();break;case 4:C(),oe=we;break;case 1:e==="("?oe=2:a7.test(e)?C():(n(),oe=0,e!=="*"&&e!=="?"&&e!=="+"&&U--);break;case 2:e===")"?L[L.length-1]=="\\"?L=L.slice(0,-1)+e:oe=3:L+=e;break;case 3:n(),oe=0,e!=="*"&&e!=="?"&&e!=="+"&&U--,L="";break;default:V("Unknown state");break}}return oe===2&&V(`Unfinished custom RegExp for param "${p}"`),n(),H(),Ue}function o7(K,V,oe){const we=e7(i7(K.path),oe),Ue=Po(we,{record:K,parent:V,children:[],alias:[]});return V&&!Ue.record.aliasOf==!V.record.aliasOf&&V.children.push(Ue),Ue}function s7(K,V){const oe=[],we=new Map;V=k2({strict:!1,end:!0,sensitive:!1},V);function Ue(L){return we.get(L)}function it(L,n,C){const T=!C,v=l7(L);v.aliasOf=C&&C.record;const g=k2(V,L),r=[v];if("alias"in L){const a=typeof L.alias=="string"?[L.alias]:L.alias;for(const f of a)r.push(Po({},v,{components:C?C.record.components:v.components,path:f,aliasOf:C?C.record:v}))}let t,s;for(const a of r){const{path:f}=a;if(n&&f[0]!=="/"){const u=n.record.path,l=u[u.length-1]==="/"?"":"/";a.path=n.record.path+(f&&l+f)}if(t=o7(a,n,g),C?C.alias.push(t):(s=s||t,s!==t&&s.alias.push(t),T&&L.name&&!I2(t)&&H(L.name)),v.children){const u=v.children;for(let l=0;l<u.length;l++)it(u[l],t,C&&C.children[l])}C=C||t,(t.record.components&&Object.keys(t.record.components).length||t.record.name||t.record.redirect)&&e(t)}return s?()=>{H(s)}:V0}function H(L){if(PA(L)){const n=we.get(L);n&&(we.delete(L),oe.splice(oe.indexOf(n),1),n.children.forEach(H),n.alias.forEach(H))}else{const n=oe.indexOf(L);n>-1&&(oe.splice(n,1),L.record.name&&we.delete(L.record.name),L.children.forEach(H),L.alias.forEach(H))}}function U(){return oe}function e(L){let n=0;for(;n<oe.length&&r7(L,oe[n])>=0&&(L.record.path!==oe[n].record.path||!DA(L,oe[n]));)n++;oe.splice(n,0,L),L.record.name&&!I2(L)&&we.set(L.record.name,L)}function p(L,n){let C,T={},v,g;if("name"in L&&L.name){if(C=we.get(L.name),!C)throw Op(1,{location:L});g=C.record.name,T=Po(D2(n.params,C.keys.filter(s=>!s.optional).concat(C.parent?C.parent.keys.filter(s=>s.optional):[]).map(s=>s.name)),L.params&&D2(L.params,C.keys.map(s=>s.name))),v=C.stringify(T)}else if(L.path!=null)v=L.path,C=oe.find(s=>s.re.test(v)),C&&(T=C.parse(v),g=C.record.name);else{if(C=n.name?we.get(n.name):oe.find(s=>s.re.test(n.path)),!C)throw Op(1,{location:L,currentLocation:n});g=C.record.name,T=Po({},n.params,L.params),v=C.stringify(T)}const r=[];let t=C;for(;t;)r.unshift(t.record),t=t.parent;return{name:g,path:v,params:T,matched:r,meta:f7(r)}}return K.forEach(L=>it(L)),{addRoute:it,resolve:p,removeRoute:H,getRoutes:U,getRecordMatcher:Ue}}function D2(K,V){const oe={};for(const we of V)we in K&&(oe[we]=K[we]);return oe}function l7(K){return{path:K.path,redirect:K.redirect,name:K.name,meta:K.meta||{},aliasOf:void 0,beforeEnter:K.beforeEnter,props:u7(K),children:K.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in K?K.components||null:K.component&&{default:K.component}}}function u7(K){const V={},oe=K.props||!1;if("component"in K)V.default=oe;else for(const we in K.components)V[we]=typeof oe=="object"?oe[we]:oe;return V}function I2(K){for(;K;){if(K.record.aliasOf)return!0;K=K.parent}return!1}function f7(K){return K.reduce((V,oe)=>Po(V,oe.meta),{})}function k2(K,V){const oe={};for(const we in K)oe[we]=we in V?V[we]:K[we];return oe}function DA(K,V){return V.children.some(oe=>oe===K||DA(K,oe))}function c7(K){const V={};if(K===""||K==="?")return V;const we=(K[0]==="?"?K.slice(1):K).split("&");for(let Ue=0;Ue<we.length;++Ue){const it=we[Ue].replace(MA," "),H=it.indexOf("="),U=Q0(H<0?it:it.slice(0,H)),e=H<0?null:Q0(it.slice(H+1));if(U in V){let p=V[U];Qc(p)||(p=V[U]=[p]),p.push(e)}else V[U]=e}return V}function O2(K){let V="";for(let oe in K){const we=K[oe];if(oe=R_(oe),we==null){we!==void 0&&(V+=(V.length?"&":"")+oe);continue}(Qc(we)?we.map(it=>it&&Qb(it)):[we&&Qb(we)]).forEach(it=>{it!==void 0&&(V+=(V.length?"&":"")+oe,it!=null&&(V+="="+it))})}return V}function h7(K){const V={};for(const oe in K){const we=K[oe];we!==void 0&&(V[oe]=Qc(we)?we.map(Ue=>Ue==null?null:""+Ue):we==null?we:""+we)}return V}const v7=Symbol(""),z2=Symbol(""),zm=Symbol(""),Y3=Symbol(""),e3=Symbol("");function _0(){let K=[];function V(we){return K.push(we),()=>{const Ue=K.indexOf(we);Ue>-1&&K.splice(Ue,1)}}function oe(){K=[]}return{add:V,list:()=>K.slice(),reset:oe}}function Iv(K,V,oe,we,Ue,it=H=>H()){const H=we&&(we.enterCallbacks[Ue]=we.enterCallbacks[Ue]||[]);return()=>new Promise((U,e)=>{const p=C=>{C===!1?e(Op(4,{from:oe,to:V})):C instanceof Error?e(C):$_(C)?e(Op(2,{from:V,to:C})):(H&&we.enterCallbacks[Ue]===H&&typeof C=="function"&&H.push(C),U())},L=it(()=>K.call(we&&we.instances[Ue],V,oe,p));let n=Promise.resolve(L);K.length<3&&(n=n.then(p)),n.catch(C=>e(C))})}function bb(K,V,oe,we,Ue=it=>it()){const it=[];for(const H of K)for(const U in H.components){let e=H.components[U];if(!(V!=="beforeRouteEnter"&&!H.instances[U]))if(d7(e)){const L=(e.__vccOpts||e)[V];L&&it.push(Iv(L,oe,we,H,U,Ue))}else{let p=e();it.push(()=>p.then(L=>{if(!L)return Promise.reject(new Error(`Couldn't resolve component "${U}" at "${H.path}"`));const n=b_(L)?L.default:L;H.components[U]=n;const T=(n.__vccOpts||n)[V];return T&&Iv(T,oe,we,H,U,Ue)()}))}}return it}function d7(K){return typeof K=="object"||"displayName"in K||"props"in K||"__vccOpts"in K}function F2(K){const V=wc(zm),oe=wc(Y3),we=Xf(()=>V.resolve(ms(K.to))),Ue=Xf(()=>{const{matched:e}=we.value,{length:p}=e,L=e[p-1],n=oe.matched;if(!L||!n.length)return-1;const C=n.findIndex(kp.bind(null,L));if(C>-1)return C;const T=N2(e[p-2]);return p>1&&N2(L)===T&&n[n.length-1].path!==T?n.findIndex(kp.bind(null,e[p-2])):C}),it=Xf(()=>Ue.value>-1&&m7(oe.params,we.value.params)),H=Xf(()=>Ue.value>-1&&Ue.value===oe.matched.length-1&&LA(oe.params,we.value.params));function U(e={}){return y7(e)?V[ms(K.replace)?"replace":"push"](ms(K.to)).catch(V0):Promise.resolve()}return{route:we,href:Xf(()=>we.value.href),isActive:it,isExactActive:H,navigate:U}}const p7=eA({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:F2,setup(K,{slots:V}){const oe=sg(F2(K)),{options:we}=wc(zm),Ue=Xf(()=>({[B2(K.activeClass,we.linkActiveClass,"router-link-active")]:oe.isActive,[B2(K.exactActiveClass,we.linkExactActiveClass,"router-link-exact-active")]:oe.isExactActive}));return()=>{const it=V.default&&V.default(oe);return K.custom?it:mA("a",{"aria-current":oe.isExactActive?K.ariaCurrentValue:null,href:oe.href,onClick:oe.navigate,class:Ue.value},it)}}}),g7=p7;function y7(K){if(!(K.metaKey||K.altKey||K.ctrlKey||K.shiftKey)&&!K.defaultPrevented&&!(K.button!==void 0&&K.button!==0)){if(K.currentTarget&&K.currentTarget.getAttribute){const V=K.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(V))return}return K.preventDefault&&K.preventDefault(),!0}}function m7(K,V){for(const oe in V){const we=V[oe],Ue=K[oe];if(typeof we=="string"){if(we!==Ue)return!1}else if(!Qc(Ue)||Ue.length!==we.length||we.some((it,H)=>it!==Ue[H]))return!1}return!0}function N2(K){return K?K.aliasOf?K.aliasOf.path:K.path:""}const B2=(K,V,oe)=>K??V??oe,x7=eA({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(K,{attrs:V,slots:oe}){const we=wc(e3),Ue=Xf(()=>K.route||we.value),it=wc(z2,0),H=Xf(()=>{let p=ms(it);const{matched:L}=Ue.value;let n;for(;(n=L[p])&&!n.components;)p++;return p}),U=Xf(()=>Ue.value.matched[H.value]);Uy(z2,Xf(()=>H.value+1)),Uy(v7,U),Uy(e3,Ue);const e=jo();return Zh(()=>[e.value,U.value,K.name],([p,L,n],[C,T,v])=>{L&&(L.instances[n]=p,T&&T!==L&&p&&p===C&&(L.leaveGuards.size||(L.leaveGuards=T.leaveGuards),L.updateGuards.size||(L.updateGuards=T.updateGuards))),p&&L&&(!T||!kp(L,T)||!C)&&(L.enterCallbacks[n]||[]).forEach(g=>g(p))},{flush:"post"}),()=>{const p=Ue.value,L=K.name,n=U.value,C=n&&n.components[L];if(!C)return U2(oe.default,{Component:C,route:p});const T=n.props[L],v=T?T===!0?p.params:typeof T=="function"?T(p):T:null,r=mA(C,Po({},v,V,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(n.instances[L]=null)},ref:e}));return U2(oe.default,{Component:r,route:p})||r}}});function U2(K,V){if(!K)return null;const oe=K(V);return oe.length===1?oe[0]:oe}const IA=x7;function b7(K){const V=s7(K.routes,K),oe=K.parseQuery||c7,we=K.stringifyQuery||O2,Ue=K.history,it=_0(),H=_0(),U=_0(),e=AC(Ev);let p=Ev;pp&&K.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const L=mb.bind(null,F=>""+F),n=mb.bind(null,I_),C=mb.bind(null,Q0);function T(F,O){let B,W;return PA(F)?(B=V.getRecordMatcher(F),W=O):W=F,V.addRoute(W,B)}function v(F){const O=V.getRecordMatcher(F);O&&V.removeRoute(O)}function g(){return V.getRoutes().map(F=>F.record)}function r(F){return!!V.getRecordMatcher(F)}function t(F,O){if(O=Po({},O||e.value),typeof F=="string"){const le=xb(oe,F,O.path),Z=V.resolve({path:le.path},O),Y=Ue.createHref(le.fullPath);return Po(le,Z,{params:C(Z.params),hash:Q0(le.hash),redirectedFrom:void 0,href:Y})}let B;if(F.path!=null)B=Po({},F,{path:xb(oe,F.path,O.path).path});else{const le=Po({},F.params);for(const Z in le)le[Z]==null&&delete le[Z];B=Po({},F,{params:n(le)}),O.params=n(O.params)}const W=V.resolve(B,O),ee=F.hash||"";W.params=L(C(W.params));const ne=z_(we,Po({},F,{hash:P_(ee),path:W.path})),Q=Ue.createHref(ne);return Po({fullPath:ne,hash:ee,query:we===O2?h7(F.query):F.query||{}},W,{redirectedFrom:void 0,href:Q})}function s(F){return typeof F=="string"?xb(oe,F,e.value.path):Po({},F)}function a(F,O){if(p!==F)return Op(8,{from:O,to:F})}function f(F){return m(F)}function u(F){return f(Po(s(F),{replace:!0}))}function l(F){const O=F.matched[F.matched.length-1];if(O&&O.redirect){const{redirect:B}=O;let W=typeof B=="function"?B(F):B;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=s(W):{path:W},W.params={}),Po({query:F.query,hash:F.hash,params:W.path!=null?{}:F.params},W)}}function m(F,O){const B=p=t(F),W=e.value,ee=F.state,ne=F.force,Q=F.replace===!0,le=l(B);if(le)return m(Po(s(le),{state:typeof le=="object"?Po({},ee,le.state):ee,force:ne,replace:Q}),O||B);const Z=B;Z.redirectedFrom=O;let Y;return!ne&&F_(we,W,B)&&(Y=Op(16,{to:Z,from:W}),b(W,W,!0,!1)),(Y?Promise.resolve(Y):c(Z,W)).catch(re=>Hh(re)?Hh(re,2)?re:_(re):w(re,Z,W)).then(re=>{if(re){if(Hh(re,2))return m(Po({replace:Q},s(re.to),{state:typeof re.to=="object"?Po({},ee,re.to.state):ee,force:ne}),O||Z)}else re=d(Z,W,!0,Q,ee);return i(Z,W,re),re})}function h(F,O){const B=a(F,O);return B?Promise.reject(B):Promise.resolve()}function M(F){const O=N.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(F):F()}function c(F,O){let B;const[W,ee,ne]=w7(F,O);B=bb(W.reverse(),"beforeRouteLeave",F,O);for(const le of W)le.leaveGuards.forEach(Z=>{B.push(Iv(Z,F,O))});const Q=h.bind(null,F,O);return B.push(Q),z(B).then(()=>{B=[];for(const le of it.list())B.push(Iv(le,F,O));return B.push(Q),z(B)}).then(()=>{B=bb(ee,"beforeRouteUpdate",F,O);for(const le of ee)le.updateGuards.forEach(Z=>{B.push(Iv(Z,F,O))});return B.push(Q),z(B)}).then(()=>{B=[];for(const le of ne)if(le.beforeEnter)if(Qc(le.beforeEnter))for(const Z of le.beforeEnter)B.push(Iv(Z,F,O));else B.push(Iv(le.beforeEnter,F,O));return B.push(Q),z(B)}).then(()=>(F.matched.forEach(le=>le.enterCallbacks={}),B=bb(ne,"beforeRouteEnter",F,O,M),B.push(Q),z(B))).then(()=>{B=[];for(const le of H.list())B.push(Iv(le,F,O));return B.push(Q),z(B)}).catch(le=>Hh(le,8)?le:Promise.reject(le))}function i(F,O,B){U.list().forEach(W=>M(()=>W(F,O,B)))}function d(F,O,B,W,ee){const ne=a(F,O);if(ne)return ne;const Q=O===Ev,le=pp?history.state:{};B&&(W||Q?Ue.replace(F.fullPath,Po({scroll:Q&&le&&le.scroll},ee)):Ue.push(F.fullPath,ee)),e.value=F,b(F,O,B,Q),_()}let x;function A(){x||(x=Ue.listen((F,O,B)=>{if(!k.listening)return;const W=t(F),ee=l(W);if(ee){m(Po(ee,{replace:!0}),W).catch(V0);return}p=W;const ne=e.value;pp&&Y_(C2(ne.fullPath,B.delta),Om()),c(W,ne).catch(Q=>Hh(Q,12)?Q:Hh(Q,2)?(m(Q.to,W).then(le=>{Hh(le,20)&&!B.delta&&B.type===q0.pop&&Ue.go(-1,!1)}).catch(V0),Promise.reject()):(B.delta&&Ue.go(-B.delta,!1),w(Q,W,ne))).then(Q=>{Q=Q||d(W,ne,!1),Q&&(B.delta&&!Hh(Q,8)?Ue.go(-B.delta,!1):B.type===q0.pop&&Hh(Q,20)&&Ue.go(-1,!1)),i(W,ne,Q)}).catch(V0)}))}let E=_0(),y=_0(),S;function w(F,O,B){_(F);const W=y.list();return W.length?W.forEach(ee=>ee(F,O,B)):console.error(F),Promise.reject(F)}function o(){return S&&e.value!==Ev?Promise.resolve():new Promise((F,O)=>{E.add([F,O])})}function _(F){return S||(S=!F,A(),E.list().forEach(([O,B])=>F?B(F):O()),E.reset()),F}function b(F,O,B,W){const{scrollBehavior:ee}=K;if(!pp||!ee)return Promise.resolve();const ne=!B&&X_(C2(F.fullPath,0))||(W||!B)&&history.state&&history.state.scroll||null;return lg().then(()=>ee(F,O,ne)).then(Q=>Q&&W_(Q)).catch(Q=>w(Q,F,O))}const I=F=>Ue.go(F);let D;const N=new Set,k={currentRoute:e,listening:!0,addRoute:T,removeRoute:v,hasRoute:r,getRoutes:g,resolve:t,options:K,push:f,replace:u,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:it.add,beforeResolve:H.add,afterEach:U.add,onError:y.add,isReady:o,install(F){const O=this;F.component("RouterLink",g7),F.component("RouterView",IA),F.config.globalProperties.$router=O,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>ms(e)}),pp&&!D&&e.value===Ev&&(D=!0,f(Ue.location).catch(ee=>{}));const B={};for(const ee in Ev)Object.defineProperty(B,ee,{get:()=>e.value[ee],enumerable:!0});F.provide(zm,O),F.provide(Y3,B4(B)),F.provide(e3,e);const W=F.unmount;N.add(F),F.unmount=function(){N.delete(F),N.size<1&&(p=Ev,x&&x(),x=null,e.value=Ev,D=!1,S=!1),W()}}};function z(F){return F.reduce((O,B)=>O.then(()=>M(B)),Promise.resolve())}return k}function w7(K,V){const oe=[],we=[],Ue=[],it=Math.max(V.matched.length,K.matched.length);for(let H=0;H<it;H++){const U=V.matched[H];U&&(K.matched.find(p=>kp(p,U))?we.push(U):oe.push(U));const e=K.matched[H];e&&(V.matched.find(p=>kp(p,e))||Ue.push(e))}return[oe,we,Ue]}function T7(){return wc(zm)}function A7(){return wc(Y3)}const kA=(K,V)=>{const oe=K.__vccOpts||K;for(const[we,Ue]of V)oe[we]=Ue;return oe},M7={},S7={class:"navbar navbar-expand-lg navbar-light bg-light"},E7={class:"container-fluid"},C7=$a("span",{class:"navbar-brand"},"Spendit[vue3]",-1),L7=$a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[$a("span",{class:"navbar-toggler-icon"})],-1),_7={class:"collapse navbar-collapse",id:"navbarSupportedContent"},P7={class:"navbar-nav me-auto mb-2 mb-lg-0"},R7={class:"nav-item",style:{cursor:"pointer"}},D7={class:"nav-item",style:{cursor:"pointer"}};function I7(K,V){const oe=Q4("RouterLink");return Co(),Ro("nav",S7,[$a("div",E7,[C7,L7,$a("div",_7,[$a("ul",P7,[$a("li",R7,[_s(oe,{to:"/",class:"nav-link"},{default:Qy(()=>[$0("Tables")]),_:1})]),$a("li",D7,[_s(oe,{to:"/about",class:"nav-link"},{default:Qy(()=>[$0("About")]),_:1})])])])])])}const k7=kA(M7,[["render",I7]]),O7={class:"d-flex flex-column"},z7={__name:"App",setup(K){return(V,oe)=>(Co(),Ro("div",O7,[_s(k7),_s(ms(IA))]))}},F7="modulepreload",N7=function(K){return"/"+K},V2={},B7=function(V,oe,we){let Ue=Promise.resolve();if(oe&&oe.length>0){const it=document.getElementsByTagName("link");Ue=Promise.all(oe.map(H=>{if(H=N7(H),H in V2)return;V2[H]=!0;const U=H.endsWith(".css"),e=U?'[rel="stylesheet"]':"";if(!!we)for(let n=it.length-1;n>=0;n--){const C=it[n];if(C.href===H&&(!U||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${H}"]${e}`))return;const L=document.createElement("link");if(L.rel=U?"stylesheet":F7,U||(L.as="script",L.crossOrigin=""),L.href=H,document.head.appendChild(L),U)return new Promise((n,C)=>{L.addEventListener("load",n),L.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${H}`)))})}))}return Ue.then(()=>V()).catch(it=>{const H=new Event("vite:preloadError",{cancelable:!0});if(H.payload=it,window.dispatchEvent(H),!H.defaultPrevented)throw it})},U7="/rpc-run",V7={apiUrl:U7},X3=V7.apiUrl;console.log(`remoteUrl=${X3}`);function wb(K){return JSON.parse(JSON.stringify(K))}async function H7(K,...V){let oe=new Date;const we=Math.random().toString(36).slice(-6);let Ue=`remote.${K}.start(`,it=V.length;for(let U=0;U<it;U+=1)Ue+=JSON.stringify(wb(V[U])),U<it-1&&(Ue+=", ");Ue+=")",console.log(Ue);let H;try{H=await(await fetch(X3,{method:"post",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:K,params:V,jsonrpc:"2.0",id:we})})).json();let p=new Date-oe;if("result"in H)console.log(`remote.${K}.result[${p}ms]: `),console.groupCollapsed(),console.log(wb(H.result)),console.groupEnd();else{console.log(`remote.${K}.error[${p}ms]:`,wb(H.error));for(let L of H.error.message)console.log(`!! ${L}`)}}catch(U){let e=new Date-oe;console.log(`remote.${K}.fail[${e}ms]: ${U}`),H={error:{message:`${U}`,code:-32e3},jsonrpc:"2.0",id:we}}return H}class G7{constructor(){return new Proxy(this,{get(V,oe){return async function(...we){return await H7(oe,...we)}}})}}async function W7(K,V,...oe){const we=new FormData;we.append("file",K,K.name),we.append("method",V),we.append("paramsJson",JSON.stringify(oe));let Ue={body:we,method:"post"};console.log("payload",Ue);let it=new Date;console.log("rpc.start.upload",Ue);let H=await fetch(X3.replace("rpc-run","upload/"),Ue),U=new Date-it;const e=await H.json();return"result"in e&&(console.log(`rpc.result.upload[${U}ms]: `),console.groupCollapsed(),console.log(e.result),console.groupEnd()),e}function Y7(K,V){let oe=document.createElement("a");oe.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(K)),oe.setAttribute("download",V),oe.style.display="none",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)}const Gh=new G7,Hp=x_("transactions",()=>{const K=jo(""),V=jo([]),oe=jo([]),we=jo(0),Ue=jo(!1),it=jo(null),H=jo([]),U=jo(null);async function e(){let C=await Gh.get_categories();H.value=C.result}async function p(C){K.value=C;let T=await Gh.get_transactions(C);V.value=T.result.columns,oe.value=T.result.data,we.value=we.value+1}async function L(C,T){for(let v of oe.value)v[0]===C&&(v[v.length-1]=T);await Gh.update_transactions(K.value,C,{category:T}),we.value=we.value+1}async function n(){await Gh.set_categories(H.value),await Gh.autofill(K.value),p(K.value)}return{headers:V,rows:oe,filterCategory:it,table:K,clickTransaction:U,keyLock:Ue,categories:H,updateCount:we,loadTransactions:p,loadCategories:e,updateCategory:L,autofill:n}});var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function OA(K){return K&&K.__esModule&&Object.prototype.hasOwnProperty.call(K,"default")?K.default:K}var nm={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */nm.exports;(function(K,V){(function(){var oe,we="4.17.21",Ue=200,it="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",H="Expected a function",U="Invalid `variable` option passed into `_.template`",e="__lodash_hash_undefined__",p=500,L="__lodash_placeholder__",n=1,C=2,T=4,v=1,g=2,r=1,t=2,s=4,a=8,f=16,u=32,l=64,m=128,h=256,M=512,c=30,i="...",d=800,x=16,A=1,E=2,y=3,S=1/0,w=9007199254740991,o=17976931348623157e292,_=NaN,b=4294967295,I=b-1,D=b>>>1,N=[["ary",m],["bind",r],["bindKey",t],["curry",a],["curryRight",f],["flip",M],["partial",u],["partialRight",l],["rearg",h]],k="[object Arguments]",z="[object Array]",F="[object AsyncFunction]",O="[object Boolean]",B="[object Date]",W="[object DOMException]",ee="[object Error]",ne="[object Function]",Q="[object GeneratorFunction]",le="[object Map]",Z="[object Number]",Y="[object Null]",re="[object Object]",X="[object Promise]",q="[object Proxy]",se="[object RegExp]",$="[object Set]",j="[object String]",ue="[object Symbol]",ae="[object Undefined]",ce="[object WeakMap]",ye="[object WeakSet]",Ce="[object ArrayBuffer]",Ae="[object DataView]",Ie="[object Float32Array]",Te="[object Float64Array]",Le="[object Int8Array]",xe="[object Int16Array]",Re="[object Int32Array]",He="[object Uint8Array]",Ve="[object Uint8ClampedArray]",Fe="[object Uint16Array]",We="[object Uint32Array]",ut=/\b__p \+= '';/g,ht=/\b(__p \+=) '' \+/g,rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,tt=/&(?:amp|lt|gt|quot|#39);/g,vt=/[&<>"']/g,pt=RegExp(tt.source),mt=RegExp(vt.source),wt=/<%-([\s\S]+?)%>/g,Lt=/<%([\s\S]+?)%>/g,at=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ze=/^\w*$/,Je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ye=/[\\^$.*+?()[\]{}|]/g,ke=RegExp(Ye.source),be=/^\s+/,me=/\s/,_e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ee=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nt=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,xt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kt=/\w*$/,Jt=/^[-+]0x[0-9a-f]+$/i,St=/^0b[01]+$/i,Ft=/^\[object .+?Constructor\]$/,rr=/^0o[0-7]+$/i,_r=/^(?:0|[1-9]\d*)$/,Tt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$t=/($^)/,tr=/['\n\r\u2028\u2029\\]/g,Tr="\\ud800-\\udfff",cr="\\u0300-\\u036f",bt="\\ufe20-\\ufe2f",lt="\\u20d0-\\u20ff",Mt=cr+bt+lt,_t="\\u2700-\\u27bf",Ot="a-z\\xdf-\\xf6\\xf8-\\xff",It="\\xac\\xb1\\xd7\\xf7",Wt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gt="\\u2000-\\u206f",er=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dr="A-Z\\xc0-\\xd6\\xd8-\\xde",pr="\\ufe0e\\ufe0f",mr=It+Wt+Gt+er,Xe="[']",Ge="["+Tr+"]",Ut="["+mr+"]",Nt="["+Mt+"]",Qt="\\d+",ar="["+_t+"]",hr="["+Ot+"]",or="[^"+Tr+mr+Qt+_t+Ot+dr+"]",Vt="\\ud83c[\\udffb-\\udfff]",yr="(?:"+Nt+"|"+Vt+")",wr="[^"+Tr+"]",Ar="(?:\\ud83c[\\udde6-\\uddff]){2}",gr="[\\ud800-\\udbff][\\udc00-\\udfff]",jr="["+dr+"]",Fr="\\u200d",Nr="(?:"+hr+"|"+or+")",wn="(?:"+jr+"|"+or+")",hn="(?:"+Xe+"(?:d|ll|m|re|s|t|ve))?",Un="(?:"+Xe+"(?:D|LL|M|RE|S|T|VE))?",Fn=yr+"?",Pr="["+pr+"]?",Or="(?:"+Fr+"(?:"+[wr,Ar,gr].join("|")+")"+Pr+Fn+")*",Qr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vn=Pr+Fn+Or,Mn="(?:"+[ar,Ar,gr].join("|")+")"+vn,Sn="(?:"+[wr+Nt+"?",Nt,Ar,gr,Ge].join("|")+")",Vn=RegExp(Xe,"g"),jn=RegExp(Nt,"g"),ya=RegExp(Vt+"(?="+Vt+")|"+Sn+vn,"g"),Pa=RegExp([jr+"?"+hr+"+"+hn+"(?="+[Ut,jr,"$"].join("|")+")",wn+"+"+Un+"(?="+[Ut,jr+Nr,"$"].join("|")+")",jr+"?"+Nr+"+"+hn,jr+"+"+Un,Zr,Qr,Qt,Mn].join("|"),"g"),Da=RegExp("["+Fr+Tr+Mt+pr+"]"),Ma=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ma=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Er=-1,tn={};tn[Ie]=tn[Te]=tn[Le]=tn[xe]=tn[Re]=tn[He]=tn[Ve]=tn[Fe]=tn[We]=!0,tn[k]=tn[z]=tn[Ce]=tn[O]=tn[Ae]=tn[B]=tn[ee]=tn[ne]=tn[le]=tn[Z]=tn[re]=tn[se]=tn[$]=tn[j]=tn[ce]=!1;var $r={};$r[k]=$r[z]=$r[Ce]=$r[Ae]=$r[O]=$r[B]=$r[Ie]=$r[Te]=$r[Le]=$r[xe]=$r[Re]=$r[le]=$r[Z]=$r[re]=$r[se]=$r[$]=$r[j]=$r[ue]=$r[He]=$r[Ve]=$r[Fe]=$r[We]=!0,$r[ee]=$r[ne]=$r[ce]=!1;var An={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},On={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$n=parseFloat,ca=parseInt,Ia=typeof P0=="object"&&P0&&P0.Object===Object&&P0,ei=typeof self=="object"&&self&&self.Object===Object&&self,Sr=Ia||ei||Function("return this")(),Hr=V&&!V.nodeType&&V,Lr=Hr&&!0&&K&&!K.nodeType&&K,Gr=Lr&&Lr.exports===Hr,Ln=Gr&&Ia.process,zn=function(){try{var En=Lr&&Lr.require&&Lr.require("util").types;return En||Ln&&Ln.binding&&Ln.binding("util")}catch{}}(),bn=zn&&zn.isArrayBuffer,pn=zn&&zn.isDate,Dr=zn&&zn.isMap,rn=zn&&zn.isRegExp,Kr=zn&&zn.isSet,on=zn&&zn.isTypedArray;function _n(En,ra,Jn){switch(Jn.length){case 0:return En.call(ra);case 1:return En.call(ra,Jn[0]);case 2:return En.call(ra,Jn[0],Jn[1]);case 3:return En.call(ra,Jn[0],Jn[1],Jn[2])}return En.apply(ra,Jn)}function Wn(En,ra,Jn,Ya){for(var si=-1,Ri=En==null?0:En.length;++si<Ri;){var lo=En[si];ra(Ya,lo,Jn(lo),En)}return Ya}function In(En,ra){for(var Jn=-1,Ya=En==null?0:En.length;++Jn<Ya&&ra(En[Jn],Jn,En)!==!1;);return En}function Qn(En,ra){for(var Jn=En==null?0:En.length;Jn--&&ra(En[Jn],Jn,En)!==!1;);return En}function Kn(En,ra){for(var Jn=-1,Ya=En==null?0:En.length;++Jn<Ya;)if(!ra(En[Jn],Jn,En))return!1;return!0}function Aa(En,ra){for(var Jn=-1,Ya=En==null?0:En.length,si=0,Ri=[];++Jn<Ya;){var lo=En[Jn];ra(lo,Jn,En)&&(Ri[si++]=lo)}return Ri}function xa(En,ra){var Jn=En==null?0:En.length;return!!Jn&&ll(En,ra,0)>-1}function La(En,ra,Jn){for(var Ya=-1,si=En==null?0:En.length;++Ya<si;)if(Jn(ra,En[Ya]))return!0;return!1}function Ra(En,ra){for(var Jn=-1,Ya=En==null?0:En.length,si=Array(Ya);++Jn<Ya;)si[Jn]=ra(En[Jn],Jn,En);return si}function Pi(En,ra){for(var Jn=-1,Ya=ra.length,si=En.length;++Jn<Ya;)En[si+Jn]=ra[Jn];return En}function Li(En,ra,Jn,Ya){var si=-1,Ri=En==null?0:En.length;for(Ya&&Ri&&(Jn=En[++si]);++si<Ri;)Jn=ra(Jn,En[si],si,En);return Jn}function Ps(En,ra,Jn,Ya){var si=En==null?0:En.length;for(Ya&&si&&(Jn=En[--si]);si--;)Jn=ra(Jn,En[si],si,En);return Jn}function is(En,ra){for(var Jn=-1,Ya=En==null?0:En.length;++Jn<Ya;)if(ra(En[Jn],Jn,En))return!0;return!1}var Jo=Hl("length");function ku(En){return En.split("")}function Sc(En){return En.match(je)||[]}function Ec(En,ra,Jn){var Ya;return Jn(En,function(si,Ri,lo){if(ra(si,Ri,lo))return Ya=Ri,!1}),Ya}function Ti(En,ra,Jn,Ya){for(var si=En.length,Ri=Jn+(Ya?1:-1);Ya?Ri--:++Ri<si;)if(ra(En[Ri],Ri,En))return Ri;return-1}function ll(En,ra,Jn){return ra===ra?Ph(En,ra,Jn):Ti(En,Oo,Jn)}function Cc(En,ra,Jn,Ya){for(var si=Jn-1,Ri=En.length;++si<Ri;)if(Ya(En[si],ra))return si;return-1}function Oo(En){return En!==En}function os(En,ra){var Jn=En==null?0:En.length;return Jn?xo(En,ra)/Jn:_}function Hl(En){return function(ra){return ra==null?oe:ra[En]}}function Ou(En){return function(ra){return En==null?oe:En[ra]}}function mo(En,ra,Jn,Ya,si){return si(En,function(Ri,lo,ji){Jn=Ya?(Ya=!1,Ri):ra(Jn,Ri,lo,ji)}),Jn}function zu(En,ra){var Jn=En.length;for(En.sort(ra);Jn--;)En[Jn]=En[Jn].value;return En}function xo(En,ra){for(var Jn,Ya=-1,si=En.length;++Ya<si;){var Ri=ra(En[Ya]);Ri!==oe&&(Jn=Jn===oe?Ri:Jn+Ri)}return Jn}function Lo(En,ra){for(var Jn=-1,Ya=Array(En);++Jn<En;)Ya[Jn]=ra(Jn);return Ya}function Fu(En,ra){return Ra(ra,function(Jn){return[Jn,En[Jn]]})}function Uo(En){return En&&En.slice(0,Xl(En)+1).replace(be,"")}function $i(En){return function(ra){return En(ra)}}function fs(En,ra){return Ra(ra,function(Jn){return En[Jn]})}function Nu(En,ra){return En.has(ra)}function cs(En,ra){for(var Jn=-1,Ya=En.length;++Jn<Ya&&ll(ra,En[Jn],0)>-1;);return Jn}function th(En,ra){for(var Jn=En.length;Jn--&&ll(ra,En[Jn],0)>-1;);return Jn}function ul(En,ra){for(var Jn=En.length,Ya=0;Jn--;)En[Jn]===ra&&++Ya;return Ya}var Vo=Ou(An),Lc=Ou(qn);function Gl(En){return"\\"+On[En]}function fl(En,ra){return En==null?oe:En[ra]}function Wl(En){return Da.test(En)}function rh(En){return Ma.test(En)}function _h(En){for(var ra,Jn=[];!(ra=En.next()).done;)Jn.push(ra.value);return Jn}function Bu(En){var ra=-1,Jn=Array(En.size);return En.forEach(function(Ya,si){Jn[++ra]=[si,Ya]}),Jn}function nh(En,ra){return function(Jn){return En(ra(Jn))}}function Yl(En,ra){for(var Jn=-1,Ya=En.length,si=0,Ri=[];++Jn<Ya;){var lo=En[Jn];(lo===ra||lo===L)&&(En[Jn]=L,Ri[si++]=Jn)}return Ri}function $f(En){var ra=-1,Jn=Array(En.size);return En.forEach(function(Ya){Jn[++ra]=Ya}),Jn}function _c(En){var ra=-1,Jn=Array(En.size);return En.forEach(function(Ya){Jn[++ra]=[Ya,Ya]}),Jn}function Ph(En,ra,Jn){for(var Ya=Jn-1,si=En.length;++Ya<si;)if(En[Ya]===ra)return Ya;return-1}function Rh(En,ra,Jn){for(var Ya=Jn+1;Ya--;)if(En[Ya]===ra)return Ya;return Ya}function ou(En){return Wl(En)?mf(En):Jo(En)}function Vs(En){return Wl(En)?xf(En):ku(En)}function Xl(En){for(var ra=En.length;ra--&&me.test(En.charAt(ra)););return ra}var Uu=Ou(kn);function mf(En){for(var ra=ya.lastIndex=0;ya.test(En);)++ra;return ra}function xf(En){return En.match(ya)||[]}function ah(En){return En.match(Pa)||[]}var Sl=function En(ra){ra=ra==null?Sr:Vu.defaults(Sr.Object(),ra,Vu.pick(Sr,ma));var Jn=ra.Array,Ya=ra.Date,si=ra.Error,Ri=ra.Function,lo=ra.Math,ji=ra.Object,cl=ra.RegExp,hl=ra.String,xs=ra.TypeError,El=Jn.prototype,Js=Ri.prototype,eo=ji.prototype,Hu=ra["__core-js_shared__"],Qf=Js.toString,Yi=eo.hasOwnProperty,Gu=0,su=function(){var fe=/[^.]+$/.exec(Hu&&Hu.keys&&Hu.keys.IE_PROTO||"");return fe?"Symbol(src)_1."+fe:""}(),$o=eo.toString,qf=Qf.call(ji),Wu=Sr._,ec=cl("^"+Qf.call(Yi).replace(Ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tc=Gr?ra.Buffer:oe,Cl=ra.Symbol,Yu=ra.Uint8Array,rc=tc?tc.allocUnsafe:oe,Xu=nh(ji.getPrototypeOf,ji),lu=ji.create,bf=eo.propertyIsEnumerable,Zl=El.splice,wf=Cl?Cl.isConcatSpreadable:oe,Ui=Cl?Cl.iterator:oe,jl=Cl?Cl.toStringTag:oe,bs=function(){try{var fe=Ke(ji,"defineProperty");return fe({},"",{}),fe}catch{}}(),ih=ra.clearTimeout!==Sr.clearTimeout&&ra.clearTimeout,Pc=Ya&&Ya.now!==Sr.Date.now&&Ya.now,uu=ra.setTimeout!==Sr.setTimeout&&ra.setTimeout,$s=lo.ceil,fu=lo.floor,go=ji.getOwnPropertySymbols,Tf=tc?tc.isBuffer:oe,Hs=ra.isFinite,Ll=El.join,cu=nh(ji.keys,ji),io=lo.max,oo=lo.min,_l=Ya.now,Qs=ra.parseInt,Rs=lo.random,Af=El.reverse,Rc=Ke(ra,"DataView"),Mf=Ke(ra,"Map"),Dc=Ke(ra,"Promise"),Zu=Ke(ra,"Set"),hu=Ke(ra,"WeakMap"),ju=Ke(ji,"create"),Pl=hu&&new hu,bo={},Ds=Cs(Rc),Ku=Cs(Mf),oh=Cs(Dc),Sf=Cs(Zu),Rl=Cs(hu),nc=Cl?Cl.prototype:oe,Ju=nc?nc.valueOf:oe,Ic=nc?nc.toString:oe;function Cr(fe){if(us(fe)&&!_i(fe)&&!(fe instanceof pi)){if(fe instanceof So)return fe;if(Yi.call(fe,"__wrapped__"))return Tu(fe)}return new So(fe)}var vu=function(){function fe(){}return function(Me){if(!es(Me))return{};if(lu)return lu(Me);fe.prototype=Me;var et=new fe;return fe.prototype=oe,et}}();function Ho(){}function So(fe,Me){this.__wrapped__=fe,this.__actions__=[],this.__chain__=!!Me,this.__index__=0,this.__values__=oe}Cr.templateSettings={escape:wt,evaluate:Lt,interpolate:at,variable:"",imports:{_:Cr}},Cr.prototype=Ho.prototype,Cr.prototype.constructor=Cr,So.prototype=vu(Ho.prototype),So.prototype.constructor=So;function pi(fe){this.__wrapped__=fe,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=b,this.__views__=[]}function $u(){var fe=new pi(this.__wrapped__);return fe.__actions__=Es(this.__actions__),fe.__dir__=this.__dir__,fe.__filtered__=this.__filtered__,fe.__iteratees__=Es(this.__iteratees__),fe.__takeCount__=this.__takeCount__,fe.__views__=Es(this.__views__),fe}function ac(){if(this.__filtered__){var fe=new pi(this);fe.__dir__=-1,fe.__filtered__=!0}else fe=this.clone(),fe.__dir__*=-1;return fe}function du(){var fe=this.__wrapped__.value(),Me=this.__dir__,et=_i(fe),zt=Me<0,sr=et?fe.length:0,zr=vr(0,sr,this.__views__),ln=zr.start,yn=zr.end,Dn=yn-ln,fa=zt?yn:ln-1,sa=this.__iteratees__,wa=sa.length,Za=0,Ha=oo(Dn,this.__takeCount__);if(!et||!zt&&sr==Dn&&Ha==Dn)return zo(fe,this.__actions__);var fi=[];e:for(;Dn--&&Za<Ha;){fa+=Me;for(var qa=-1,ci=fe[fa];++qa<wa;){var Zi=sa[qa],Ji=Zi.iteratee,ru=Zi.type,Tl=Ji(ci);if(ru==E)ci=Tl;else if(!Tl){if(ru==A)continue e;break e}}fi[Za++]=ci}return fi}pi.prototype=vu(Ho.prototype),pi.prototype.constructor=pi;function Is(fe){var Me=-1,et=fe==null?0:fe.length;for(this.clear();++Me<et;){var zt=fe[Me];this.set(zt[0],zt[1])}}function sh(){this.__data__=ju?ju(null):{},this.size=0}function Dl(fe){var Me=this.has(fe)&&delete this.__data__[fe];return this.size-=Me?1:0,Me}function Qu(fe){var Me=this.__data__;if(ju){var et=Me[fe];return et===e?oe:et}return Yi.call(Me,fe)?Me[fe]:oe}function Kl(fe){var Me=this.__data__;return ju?Me[fe]!==oe:Yi.call(Me,fe)}function Il(fe,Me){var et=this.__data__;return this.size+=this.has(fe)?0:1,et[fe]=ju&&Me===oe?e:Me,this}Is.prototype.clear=sh,Is.prototype.delete=Dl,Is.prototype.get=Qu,Is.prototype.has=Kl,Is.prototype.set=Il;function ks(fe){var Me=-1,et=fe==null?0:fe.length;for(this.clear();++Me<et;){var zt=fe[Me];this.set(zt[0],zt[1])}}function qu(){this.__data__=[],this.size=0}function Xi(fe){var Me=this.__data__,et=qs(Me,fe);if(et<0)return!1;var zt=Me.length-1;return et==zt?Me.pop():Zl.call(Me,et,1),--this.size,!0}function ef(fe){var Me=this.__data__,et=qs(Me,fe);return et<0?oe:Me[et][1]}function ic(fe){return qs(this.__data__,fe)>-1}function lh(fe,Me){var et=this.__data__,zt=qs(et,fe);return zt<0?(++this.size,et.push([fe,Me])):et[zt][1]=Me,this}ks.prototype.clear=qu,ks.prototype.delete=Xi,ks.prototype.get=ef,ks.prototype.has=ic,ks.prototype.set=lh;function ws(fe){var Me=-1,et=fe==null?0:fe.length;for(this.clear();++Me<et;){var zt=fe[Me];this.set(zt[0],zt[1])}}function Ef(){this.size=0,this.__data__={hash:new Is,map:new(Mf||ks),string:new Is}}function oc(fe){var Me=ge(this,fe).delete(fe);return this.size-=Me?1:0,Me}function kc(fe){return ge(this,fe).get(fe)}function Cf(fe){return ge(this,fe).has(fe)}function Lf(fe,Me){var et=ge(this,fe),zt=et.size;return et.set(fe,Me),this.size+=et.size==zt?0:1,this}ws.prototype.clear=Ef,ws.prototype.delete=oc,ws.prototype.get=kc,ws.prototype.has=Cf,ws.prototype.set=Lf;function Ts(fe){var Me=-1,et=fe==null?0:fe.length;for(this.__data__=new ws;++Me<et;)this.add(fe[Me])}function _f(fe){return this.__data__.set(fe,e),this}function Jl(fe){return this.__data__.has(fe)}Ts.prototype.add=Ts.prototype.push=_f,Ts.prototype.has=Jl;function Qi(fe){var Me=this.__data__=new ks(fe);this.size=Me.size}function vl(){this.__data__=new ks,this.size=0}function Oc(fe){var Me=this.__data__,et=Me.delete(fe);return this.size=Me.size,et}function pu(fe){return this.__data__.get(fe)}function sc(fe){return this.__data__.has(fe)}function Pf(fe,Me){var et=this.__data__;if(et instanceof ks){var zt=et.__data__;if(!Mf||zt.length<Ue-1)return zt.push([fe,Me]),this.size=++et.size,this;et=this.__data__=new ws(zt)}return et.set(fe,Me),this.size=et.size,this}Qi.prototype.clear=vl,Qi.prototype.delete=Oc,Qi.prototype.get=pu,Qi.prototype.has=sc,Qi.prototype.set=Pf;function uh(fe,Me){var et=_i(fe),zt=!et&&il(fe),sr=!et&&!zt&&cf(fe),zr=!et&&!zt&&!sr&&uv(fe),ln=et||zt||sr||zr,yn=ln?Lo(fe.length,hl):[],Dn=yn.length;for(var fa in fe)(Me||Yi.call(fe,fa))&&!(ln&&(fa=="length"||sr&&(fa=="offset"||fa=="parent")||zr&&(fa=="buffer"||fa=="byteLength"||fa=="byteOffset")||Hn(fa,Dn)))&&yn.push(fa);return yn}function zc(fe){var Me=fe.length;return Me?fe[gn(0,Me-1)]:oe}function ss(fe,Me){return To(Es(fe),As(Me,0,fe.length))}function Rf(fe){return To(Es(fe))}function $l(fe,Me,et){(et!==oe&&!Uf(fe[Me],et)||et===oe&&!(Me in fe))&&Gs(fe,Me,et)}function tf(fe,Me,et){var zt=fe[Me];(!(Yi.call(fe,Me)&&Uf(zt,et))||et===oe&&!(Me in fe))&&Gs(fe,Me,et)}function qs(fe,Me){for(var et=fe.length;et--;)if(Uf(fe[et][0],Me))return et;return-1}function Dh(fe,Me,et,zt){return Ws(fe,function(sr,zr,ln){Me(zt,sr,et(sr),ln)}),zt}function hs(fe,Me){return fe&&yu(Me,ts(Me),fe)}function Df(fe,Me){return fe&&yu(Me,kl(Me),fe)}function Gs(fe,Me,et){Me=="__proto__"&&bs?bs(fe,Me,{configurable:!0,enumerable:!0,value:et,writable:!0}):fe[Me]=et}function el(fe,Me){for(var et=-1,zt=Me.length,sr=Jn(zt),zr=fe==null;++et<zt;)sr[et]=zr?oe:c0(fe,Me[et]);return sr}function As(fe,Me,et){return fe===fe&&(et!==oe&&(fe=fe<=et?fe:et),Me!==oe&&(fe=fe>=Me?fe:Me)),fe}function Ms(fe,Me,et,zt,sr,zr){var ln,yn=Me&n,Dn=Me&C,fa=Me&T;if(et&&(ln=sr?et(fe,zt,sr,zr):et(fe)),ln!==oe)return ln;if(!es(fe))return fe;var sa=_i(fe);if(sa){if(ln=en(fe),!yn)return Es(fe,ln)}else{var wa=qt(fe),Za=wa==ne||wa==Q;if(cf(fe))return Yo(fe,yn);if(wa==re||wa==k||Za&&!sr){if(ln=Dn||Za?{}:qr(fe),!yn)return Dn?jv(fe,Df(ln,fe)):Nc(fe,hs(ln,fe))}else{if(!$r[wa])return sr?fe:{};ln=Jr(fe,wa,yn)}}zr||(zr=new Qi);var Ha=zr.get(fe);if(Ha)return Ha;zr.set(fe,ln),f0(fe)?fe.forEach(function(ci){ln.add(Ms(ci,Me,et,ci,fe,zr))}):Ig(fe)&&fe.forEach(function(ci,Zi){ln.set(Zi,Ms(ci,Me,et,Zi,fe,zr))});var fi=fa?Dn?No:tv:Dn?kl:ts,qa=sa?oe:fi(fe);return In(qa||fe,function(ci,Zi){qa&&(Zi=ci,ci=fe[Zi]),tf(ln,Zi,Ms(ci,Me,et,Zi,fe,zr))}),ln}function If(fe){var Me=ts(fe);return function(et){return rf(et,fe,Me)}}function rf(fe,Me,et){var zt=et.length;if(fe==null)return!zt;for(fe=ji(fe);zt--;){var sr=et[zt],zr=Me[sr],ln=fe[sr];if(ln===oe&&!(sr in fe)||!zr(ln))return!1}return!0}function kf(fe,Me,et){if(typeof fe!="function")throw new xs(H);return yi(function(){fe.apply(oe,et)},Me)}function nf(fe,Me,et,zt){var sr=-1,zr=xa,ln=!0,yn=fe.length,Dn=[],fa=Me.length;if(!yn)return Dn;et&&(Me=Ra(Me,$i(et))),zt?(zr=La,ln=!1):Me.length>=Ue&&(zr=Nu,ln=!1,Me=new Ts(Me));e:for(;++sr<yn;){var sa=fe[sr],wa=et==null?sa:et(sa);if(sa=zt||sa!==0?sa:0,ln&&wa===wa){for(var Za=fa;Za--;)if(Me[Za]===wa)continue e;Dn.push(sa)}else zr(Me,wa,zt)||Dn.push(sa)}return Dn}var Ws=Bc(At),lc=Bc(Bt,!0);function gu(fe,Me){var et=!0;return Ws(fe,function(zt,sr,zr){return et=!!Me(zt,sr,zr),et}),et}function af(fe,Me,et){for(var zt=-1,sr=fe.length;++zt<sr;){var zr=fe[zt],ln=Me(zr);if(ln!=null&&(yn===oe?ln===ln&&!Su(ln):et(ln,yn)))var yn=ln,Dn=zr}return Dn}function Of(fe,Me,et,zt){var sr=fe.length;for(et=zi(et),et<0&&(et=-et>sr?0:sr+et),zt=zt===oe||zt>sr?sr:zi(zt),zt<0&&(zt+=sr),zt=et>zt?0:ds(zt);et<zt;)fe[et++]=Me;return fe}function Fc(fe,Me){var et=[];return Ws(fe,function(zt,sr,zr){Me(zt,sr,zr)&&et.push(zt)}),et}function $e(fe,Me,et,zt,sr){var zr=-1,ln=fe.length;for(et||(et=xn),sr||(sr=[]);++zr<ln;){var yn=fe[zr];Me>0&&et(yn)?Me>1?$e(yn,Me-1,et,zt,sr):Pi(sr,yn):zt||(sr[sr.length]=yn)}return sr}var st=Ys(),yt=Ys(!0);function At(fe,Me){return fe&&st(fe,Me,ts)}function Bt(fe,Me){return fe&&yt(fe,Me,ts)}function kt(fe,Me){return Aa(Me,function(et){return Wc(fe[et])})}function Ht(fe,Me){Me=ga(Me,fe);for(var et=0,zt=Me.length;fe!=null&&et<zt;)fe=fe[qo(Me[et++])];return et&&et==zt?fe:oe}function xr(fe,Me,et){var zt=Me(fe);return _i(fe)?zt:Pi(zt,et(fe))}function br(fe){return fe==null?fe===oe?ae:Y:jl&&jl in ji(fe)?ct(fe):Ba(fe)}function ur(fe,Me){return fe>Me}function Rr(fe,Me){return fe!=null&&Yi.call(fe,Me)}function Ur(fe,Me){return fe!=null&&Me in ji(fe)}function Yr(fe,Me,et){return fe>=oo(Me,et)&&fe<io(Me,et)}function fn(fe,Me,et){for(var zt=et?La:xa,sr=fe[0].length,zr=fe.length,ln=zr,yn=Jn(zr),Dn=1/0,fa=[];ln--;){var sa=fe[ln];ln&&Me&&(sa=Ra(sa,$i(Me))),Dn=oo(sa.length,Dn),yn[ln]=!et&&(Me||sr>=120&&sa.length>=120)?new Ts(ln&&sa):oe}sa=fe[0];var wa=-1,Za=yn[0];e:for(;++wa<sr&&fa.length<Dn;){var Ha=sa[wa],fi=Me?Me(Ha):Ha;if(Ha=et||Ha!==0?Ha:0,!(Za?Nu(Za,fi):zt(fa,fi,et))){for(ln=zr;--ln;){var qa=yn[ln];if(!(qa?Nu(qa,fi):zt(fe[ln],fi,et)))continue e}Za&&Za.push(fi),fa.push(Ha)}}return fa}function Pn(fe,Me,et,zt){return At(fe,function(sr,zr,ln){Me(zt,et(sr),zr,ln)}),zt}function Nn(fe,Me,et){Me=ga(Me,fe),fe=oi(fe,Me);var zt=fe==null?fe:fe[qo(al(Me))];return zt==null?oe:_n(zt,fe,et)}function Yn(fe){return us(fe)&&br(fe)==k}function ia(fe){return us(fe)&&br(fe)==Ce}function Ka(fe){return us(fe)&&br(fe)==B}function Xa(fe,Me,et,zt,sr){return fe===Me?!0:fe==null||Me==null||!us(fe)&&!us(Me)?fe!==fe&&Me!==Me:Qa(fe,Me,et,zt,Xa,sr)}function Qa(fe,Me,et,zt,sr,zr){var ln=_i(fe),yn=_i(Me),Dn=ln?z:qt(fe),fa=yn?z:qt(Me);Dn=Dn==k?re:Dn,fa=fa==k?re:fa;var sa=Dn==re,wa=fa==re,Za=Dn==fa;if(Za&&cf(fe)){if(!cf(Me))return!1;ln=!0,sa=!1}if(Za&&!sa)return zr||(zr=new Qi),ln||uv(fe)?ql(fe,Me,et,zt,sr,zr):zd(fe,Me,Dn,et,zt,sr,zr);if(!(et&v)){var Ha=sa&&Yi.call(fe,"__wrapped__"),fi=wa&&Yi.call(Me,"__wrapped__");if(Ha||fi){var qa=Ha?fe.value():fe,ci=fi?Me.value():Me;return zr||(zr=new Qi),sr(qa,ci,et,zt,zr)}}return Za?(zr||(zr=new Qi),Fd(fe,Me,et,zt,sr,zr)):!1}function ni(fe){return us(fe)&&qt(fe)==le}function mi(fe,Me,et,zt){var sr=et.length,zr=sr,ln=!zt;if(fe==null)return!zr;for(fe=ji(fe);sr--;){var yn=et[sr];if(ln&&yn[2]?yn[1]!==fe[yn[0]]:!(yn[0]in fe))return!1}for(;++sr<zr;){yn=et[sr];var Dn=yn[0],fa=fe[Dn],sa=yn[1];if(ln&&yn[2]){if(fa===oe&&!(Dn in fe))return!1}else{var wa=new Qi;if(zt)var Za=zt(fa,sa,Dn,fe,Me,wa);if(!(Za===oe?Xa(sa,fa,v|g,zt,wa):Za))return!1}}return!0}function Vi(fe){if(!es(fe)||oa(fe))return!1;var Me=Wc(fe)?ec:Ft;return Me.test(Cs(fe))}function Eo(fe){return us(fe)&&br(fe)==se}function he(fe){return us(fe)&&qt(fe)==$}function Pe(fe){return us(fe)&&id(fe.length)&&!!tn[br(fe)]}function Ne(fe){return typeof fe=="function"?fe:fe==null?Os:typeof fe=="object"?_i(fe)?Xt(fe[0],fe[1]):Et(fe):yv(fe)}function qe(fe){if(!ba(fe))return cu(fe);var Me=[];for(var et in ji(fe))Yi.call(fe,et)&&et!="constructor"&&Me.push(et);return Me}function ot(fe){if(!es(fe))return di(fe);var Me=ba(fe),et=[];for(var zt in fe)zt=="constructor"&&(Me||!Yi.call(fe,zt))||et.push(zt);return et}function ft(fe,Me){return fe<Me}function Rt(fe,Me){var et=-1,zt=eu(fe)?Jn(fe.length):[];return Ws(fe,function(sr,zr,ln){zt[++et]=Me(sr,zr,ln)}),zt}function Et(fe){var Me=ze(fe);return Me.length==1&&Me[0][2]?_a(Me[0][0],Me[0][1]):function(et){return et===fe||mi(et,fe,Me)}}function Xt(fe,Me){return ta(fe)&&za(Me)?_a(qo(fe),Me):function(et){var zt=c0(et,fe);return zt===oe&&zt===Me?h0(et,fe):Xa(Me,zt,v|g)}}function Zt(fe,Me,et,zt,sr){fe!==Me&&st(Me,function(zr,ln){if(sr||(sr=new Qi),es(zr))ir(fe,Me,ln,et,Zt,zt,sr);else{var yn=zt?zt(Ei(fe,ln),zr,ln+"",fe,Me,sr):oe;yn===oe&&(yn=zr),$l(fe,ln,yn)}},kl)}function ir(fe,Me,et,zt,sr,zr,ln){var yn=Ei(fe,et),Dn=Ei(Me,et),fa=ln.get(Dn);if(fa){$l(fe,et,fa);return}var sa=zr?zr(yn,Dn,et+"",fe,Me,ln):oe,wa=sa===oe;if(wa){var Za=_i(Dn),Ha=!Za&&cf(Dn),fi=!Za&&!Ha&&uv(Dn);sa=Dn,Za||Ha||fi?_i(yn)?sa=yn:vs(yn)?sa=Es(yn):Ha?(wa=!1,sa=Yo(Dn,!0)):fi?(wa=!1,sa=pl(Dn,!0)):sa=[]:od(Dn)||il(Dn)?(sa=yn,il(yn)?sa=Ng(yn):(!es(yn)||Wc(yn))&&(sa=qr(Dn))):wa=!1}wa&&(ln.set(Dn,sa),sr(sa,Dn,zt,zr,ln),ln.delete(Dn)),$l(fe,et,sa)}function Ir(fe,Me){var et=fe.length;if(et)return Me+=Me<0?et:0,Hn(Me,et)?fe[Me]:oe}function kr(fe,Me,et){Me.length?Me=Ra(Me,function(zr){return _i(zr)?function(ln){return Ht(ln,zr.length===1?zr[0]:zr)}:zr}):Me=[Os];var zt=-1;Me=Ra(Me,$i(te()));var sr=Rt(fe,function(zr,ln,yn){var Dn=Ra(Me,function(fa){return fa(zr)});return{criteria:Dn,index:++zt,value:zr}});return zu(sr,function(zr,ln){return of(zr,ln,et)})}function sn(fe,Me){return dn(fe,Me,function(et,zt){return h0(fe,zt)})}function dn(fe,Me,et){for(var zt=-1,sr=Me.length,zr={};++zt<sr;){var ln=Me[zt],yn=Ht(fe,ln);et(yn,ln)&&la(zr,ga(ln,fe),yn)}return zr}function Br(fe){return function(Me){return Ht(Me,fe)}}function Wr(fe,Me,et,zt){var sr=zt?Cc:ll,zr=-1,ln=Me.length,yn=fe;for(fe===Me&&(Me=Es(Me)),et&&(yn=Ra(fe,$i(et)));++zr<ln;)for(var Dn=0,fa=Me[zr],sa=et?et(fa):fa;(Dn=sr(yn,sa,Dn,zt))>-1;)yn!==fe&&Zl.call(yn,Dn,1),Zl.call(fe,Dn,1);return fe}function nn(fe,Me){for(var et=fe?Me.length:0,zt=et-1;et--;){var sr=Me[et];if(et==zt||sr!==zr){var zr=sr;Hn(sr)?Zl.call(fe,sr,1):xi(fe,sr)}}return fe}function gn(fe,Me){return fe+fu(Rs()*(Me-fe+1))}function Tn(fe,Me,et,zt){for(var sr=-1,zr=io($s((Me-fe)/(et||1)),0),ln=Jn(zr);zr--;)ln[zt?zr:++sr]=fe,fe+=et;return ln}function un(fe,Me){var et="";if(!fe||Me<1||Me>w)return et;do Me%2&&(et+=fe),Me=fu(Me/2),Me&&(fe+=fe);while(Me);return et}function Rn(fe,Me){return Ki(gi(fe,Me,Os),fe+"")}function ha(fe){return zc(Fh(fe))}function Sa(fe,Me){var et=Fh(fe);return To(et,As(Me,0,et.length))}function la(fe,Me,et,zt){if(!es(fe))return fe;Me=ga(Me,fe);for(var sr=-1,zr=Me.length,ln=zr-1,yn=fe;yn!=null&&++sr<zr;){var Dn=qo(Me[sr]),fa=et;if(Dn==="__proto__"||Dn==="constructor"||Dn==="prototype")return fe;if(sr!=ln){var sa=yn[Dn];fa=zt?zt(sa,Dn,yn):oe,fa===oe&&(fa=es(sa)?sa:Hn(Me[sr+1])?[]:{})}tf(yn,Dn,fa),yn=yn[Dn]}return fe}var Ta=Pl?function(fe,Me){return Pl.set(fe,Me),fe}:Os,Ea=bs?function(fe,Me){return bs(fe,"toString",{configurable:!0,enumerable:!1,value:dv(Me),writable:!0})}:Os;function ai(fe){return To(Fh(fe))}function ka(fe,Me,et){var zt=-1,sr=fe.length;Me<0&&(Me=-Me>sr?0:sr+Me),et=et>sr?sr:et,et<0&&(et+=sr),sr=Me>et?0:et-Me>>>0,Me>>>=0;for(var zr=Jn(sr);++zt<sr;)zr[zt]=fe[zt+Me];return zr}function ti(fe,Me){var et;return Ws(fe,function(zt,sr,zr){return et=Me(zt,sr,zr),!et}),!!et}function Ai(fe,Me,et){var zt=0,sr=fe==null?zt:fe.length;if(typeof Me=="number"&&Me===Me&&sr<=D){for(;zt<sr;){var zr=zt+sr>>>1,ln=fe[zr];ln!==null&&!Su(ln)&&(et?ln<=Me:ln<Me)?zt=zr+1:sr=zr}return sr}return wo(fe,Me,Os,et)}function wo(fe,Me,et,zt){var sr=0,zr=fe==null?0:fe.length;if(zr===0)return 0;Me=et(Me);for(var ln=Me!==Me,yn=Me===null,Dn=Su(Me),fa=Me===oe;sr<zr;){var sa=fu((sr+zr)/2),wa=et(fe[sa]),Za=wa!==oe,Ha=wa===null,fi=wa===wa,qa=Su(wa);if(ln)var ci=zt||fi;else fa?ci=fi&&(zt||Za):yn?ci=fi&&Za&&(zt||!Ha):Dn?ci=fi&&Za&&!Ha&&(zt||!qa):Ha||qa?ci=!1:ci=zt?wa<=Me:wa<Me;ci?sr=sa+1:zr=sa}return oo(zr,I)}function Ii(fe,Me){for(var et=-1,zt=fe.length,sr=0,zr=[];++et<zt;){var ln=fe[et],yn=Me?Me(ln):ln;if(!et||!Uf(yn,Dn)){var Dn=yn;zr[sr++]=ln===0?0:ln}}return zr}function ua(fe){return typeof fe=="number"?fe:Su(fe)?_:+fe}function Ja(fe){if(typeof fe=="string")return fe;if(_i(fe))return Ra(fe,Ja)+"";if(Su(fe))return Ic?Ic.call(fe):"";var Me=fe+"";return Me=="0"&&1/fe==-S?"-0":Me}function Fa(fe,Me,et){var zt=-1,sr=xa,zr=fe.length,ln=!0,yn=[],Dn=yn;if(et)ln=!1,sr=La;else if(zr>=Ue){var fa=Me?null:Kv(fe);if(fa)return $f(fa);ln=!1,sr=Nu,Dn=new Ts}else Dn=Me?[]:yn;e:for(;++zt<zr;){var sa=fe[zt],wa=Me?Me(sa):sa;if(sa=et||sa!==0?sa:0,ln&&wa===wa){for(var Za=Dn.length;Za--;)if(Dn[Za]===wa)continue e;Me&&Dn.push(wa),yn.push(sa)}else sr(Dn,wa,et)||(Dn!==yn&&Dn.push(wa),yn.push(sa))}return yn}function xi(fe,Me){return Me=ga(Me,fe),fe=oi(fe,Me),fe==null||delete fe[qo(al(Me))]}function to(fe,Me,et,zt){return la(fe,Me,et(Ht(fe,Me)),zt)}function Mi(fe,Me,et,zt){for(var sr=fe.length,zr=zt?sr:-1;(zt?zr--:++zr<sr)&&Me(fe[zr],zr,fe););return et?ka(fe,zt?0:zr,zt?zr+1:sr):ka(fe,zt?zr+1:0,zt?sr:zr)}function zo(fe,Me){var et=fe;return et instanceof pi&&(et=et.value()),Li(Me,function(zt,sr){return sr.func.apply(sr.thisArg,Pi([zt],sr.args))},et)}function Do(fe,Me,et){var zt=fe.length;if(zt<2)return zt?Fa(fe[0]):[];for(var sr=-1,zr=Jn(zt);++sr<zt;)for(var ln=fe[sr],yn=-1;++yn<zt;)yn!=sr&&(zr[sr]=nf(zr[sr]||ln,fe[yn],Me,et));return Fa($e(zr,1),Me,et)}function Go(fe,Me,et){for(var zt=-1,sr=fe.length,zr=Me.length,ln={};++zt<sr;){var yn=zt<zr?Me[zt]:oe;et(ln,fe[zt],yn)}return ln}function qi(fe){return vs(fe)?fe:[]}function Wo(fe){return typeof fe=="function"?fe:Os}function ga(fe,Me){return _i(fe)?fe:ta(fe,Me)?[fe]:Qo(ao(fe))}var Wa=Rn;function _o(fe,Me,et){var zt=fe.length;return et=et===oe?zt:et,!Me&&et>=zt?fe:ka(fe,Me,et)}var Ss=ih||function(fe){return Sr.clearTimeout(fe)};function Yo(fe,Me){if(Me)return fe.slice();var et=fe.length,zt=rc?rc(et):new fe.constructor(et);return fe.copy(zt),zt}function ki(fe){var Me=new fe.constructor(fe.byteLength);return new Yu(Me).set(new Yu(fe)),Me}function Fo(fe,Me){var et=Me?ki(fe.buffer):fe.buffer;return new fe.constructor(et,fe.byteOffset,fe.byteLength)}function Io(fe){var Me=new fe.constructor(fe.source,Kt.exec(fe));return Me.lastIndex=fe.lastIndex,Me}function dl(fe){return Ju?ji(Ju.call(fe)):{}}function pl(fe,Me){var et=Me?ki(fe.buffer):fe.buffer;return new fe.constructor(et,fe.byteOffset,fe.length)}function uo(fe,Me){if(fe!==Me){var et=fe!==oe,zt=fe===null,sr=fe===fe,zr=Su(fe),ln=Me!==oe,yn=Me===null,Dn=Me===Me,fa=Su(Me);if(!yn&&!fa&&!zr&&fe>Me||zr&&ln&&Dn&&!yn&&!fa||zt&&ln&&Dn||!et&&Dn||!sr)return 1;if(!zt&&!zr&&!fa&&fe<Me||fa&&et&&sr&&!zt&&!zr||yn&&et&&sr||!ln&&sr||!Dn)return-1}return 0}function of(fe,Me,et){for(var zt=-1,sr=fe.criteria,zr=Me.criteria,ln=sr.length,yn=et.length;++zt<ln;){var Dn=uo(sr[zt],zr[zt]);if(Dn){if(zt>=yn)return Dn;var fa=et[zt];return Dn*(fa=="desc"?-1:1)}}return fe.index-Me.index}function bi(fe,Me,et,zt){for(var sr=-1,zr=fe.length,ln=et.length,yn=-1,Dn=Me.length,fa=io(zr-ln,0),sa=Jn(Dn+fa),wa=!zt;++yn<Dn;)sa[yn]=Me[yn];for(;++sr<ln;)(wa||sr<zr)&&(sa[et[sr]]=fe[sr]);for(;fa--;)sa[yn++]=fe[sr++];return sa}function fo(fe,Me,et,zt){for(var sr=-1,zr=fe.length,ln=-1,yn=et.length,Dn=-1,fa=Me.length,sa=io(zr-yn,0),wa=Jn(sa+fa),Za=!zt;++sr<sa;)wa[sr]=fe[sr];for(var Ha=sr;++Dn<fa;)wa[Ha+Dn]=Me[Dn];for(;++ln<yn;)(Za||sr<zr)&&(wa[Ha+et[ln]]=fe[sr++]);return wa}function Es(fe,Me){var et=-1,zt=fe.length;for(Me||(Me=Jn(zt));++et<zt;)Me[et]=fe[et];return Me}function yu(fe,Me,et,zt){var sr=!et;et||(et={});for(var zr=-1,ln=Me.length;++zr<ln;){var yn=Me[zr],Dn=zt?zt(et[yn],fe[yn],yn,et,fe):oe;Dn===oe&&(Dn=fe[yn]),sr?Gs(et,yn,Dn):tf(et,yn,Dn)}return et}function Nc(fe,Me){return yu(fe,Pt(fe),Me)}function jv(fe,Me){return yu(fe,Yt(fe),Me)}function mu(fe,Me){return function(et,zt){var sr=_i(et)?Wn:Dh,zr=Me?Me():{};return sr(et,fe,te(zt,2),zr)}}function xu(fe){return Rn(function(Me,et){var zt=-1,sr=et.length,zr=sr>1?et[sr-1]:oe,ln=sr>2?et[2]:oe;for(zr=fe.length>3&&typeof zr=="function"?(sr--,zr):oe,ln&&Xn(et[0],et[1],ln)&&(zr=sr<3?oe:zr,sr=1),Me=ji(Me);++zt<sr;){var yn=et[zt];yn&&fe(Me,yn,zt,zr)}return Me})}function Bc(fe,Me){return function(et,zt){if(et==null)return et;if(!eu(et))return fe(et,zt);for(var sr=et.length,zr=Me?sr:-1,ln=ji(et);(Me?zr--:++zr<sr)&&zt(ln[zr],zr,ln)!==!1;);return et}}function Ys(fe){return function(Me,et,zt){for(var sr=-1,zr=ji(Me),ln=zt(Me),yn=ln.length;yn--;){var Dn=ln[fe?yn:++sr];if(et(zr[Dn],Dn,zr)===!1)break}return Me}}function uc(fe,Me,et){var zt=Me&r,sr=zf(fe);function zr(){var ln=this&&this!==Sr&&this instanceof zr?sr:fe;return ln.apply(zt?et:this,arguments)}return zr}function Qh(fe){return function(Me){Me=ao(Me);var et=Wl(Me)?Vs(Me):oe,zt=et?et[0]:Me.charAt(0),sr=et?_o(et,1).join(""):Me.slice(1);return zt[fe]()+sr}}function fc(fe){return function(Me){return Li(g0(wl(Me).replace(Vn,"")),fe,"")}}function zf(fe){return function(){var Me=arguments;switch(Me.length){case 0:return new fe;case 1:return new fe(Me[0]);case 2:return new fe(Me[0],Me[1]);case 3:return new fe(Me[0],Me[1],Me[2]);case 4:return new fe(Me[0],Me[1],Me[2],Me[3]);case 5:return new fe(Me[0],Me[1],Me[2],Me[3],Me[4]);case 6:return new fe(Me[0],Me[1],Me[2],Me[3],Me[4],Me[5]);case 7:return new fe(Me[0],Me[1],Me[2],Me[3],Me[4],Me[5],Me[6])}var et=vu(fe.prototype),zt=fe.apply(et,Me);return es(zt)?zt:et}}function qh(fe,Me,et){var zt=zf(fe);function sr(){for(var zr=arguments.length,ln=Jn(zr),yn=zr,Dn=de(sr);yn--;)ln[yn]=arguments[yn];var fa=zr<3&&ln[0]!==Dn&&ln[zr-1]!==Dn?[]:Yl(ln,Dn);if(zr-=fa.length,zr<et)return vc(fe,Me,Ql,sr.placeholder,oe,ln,fa,oe,oe,et-zr);var sa=this&&this!==Sr&&this instanceof sr?zt:fe;return _n(sa,this,ln)}return sr}function sf(fe){return function(Me,et,zt){var sr=ji(Me);if(!eu(Me)){var zr=te(et,3);Me=ts(Me),et=function(yn){return zr(sr[yn],yn,sr)}}var ln=fe(Me,et,zt);return ln>-1?sr[zr?Me[ln]:ln]:oe}}function tl(fe){return Nf(function(Me){var et=Me.length,zt=et,sr=So.prototype.thru;for(fe&&Me.reverse();zt--;){var zr=Me[zt];if(typeof zr!="function")throw new xs(H);if(sr&&!ln&&J(zr)=="wrapper")var ln=new So([],!0)}for(zt=ln?zt:et;++zt<et;){zr=Me[zt];var yn=J(zr),Dn=yn=="wrapper"?ve(zr):oe;Dn&&ea(Dn[0])&&Dn[1]==(m|a|u|h)&&!Dn[4].length&&Dn[9]==1?ln=ln[J(Dn[0])].apply(ln,Dn[3]):ln=zr.length==1&&ea(zr)?ln[yn]():ln.thru(zr)}return function(){var fa=arguments,sa=fa[0];if(ln&&fa.length==1&&_i(sa))return ln.plant(sa).value();for(var wa=0,Za=et?Me[wa].apply(this,fa):sa;++wa<et;)Za=Me[wa].call(this,Za);return Za}})}function Ql(fe,Me,et,zt,sr,zr,ln,yn,Dn,fa){var sa=Me&m,wa=Me&r,Za=Me&t,Ha=Me&(a|f),fi=Me&M,qa=Za?oe:zf(fe);function ci(){for(var Zi=arguments.length,Ji=Jn(Zi),ru=Zi;ru--;)Ji[ru]=arguments[ru];if(Ha)var Tl=de(ci),Cu=ul(Ji,Tl);if(zt&&(Ji=bi(Ji,zt,sr,Ha)),zr&&(Ji=fo(Ji,zr,ln,Ha)),Zi-=Cu,Ha&&Zi<fa){var rs=Yl(Ji,Tl);return vc(fe,Me,Ql,ci.placeholder,et,Ji,rs,yn,Dn,fa-Zi)}var Gf=wa?et:this,Xc=Za?Gf[fe]:fe;return Zi=Ji.length,yn?Ji=Oi(Ji,yn):fi&&Zi>1&&Ji.reverse(),sa&&Dn<Zi&&(Ji.length=Dn),this&&this!==Sr&&this instanceof ci&&(Xc=qa||zf(Xc)),Xc.apply(Gf,Ji)}return ci}function fh(fe,Me){return function(et,zt){return Pn(et,fe,Me(zt),{})}}function Uc(fe,Me){return function(et,zt){var sr;if(et===oe&&zt===oe)return Me;if(et!==oe&&(sr=et),zt!==oe){if(sr===oe)return zt;typeof et=="string"||typeof zt=="string"?(et=Ja(et),zt=Ja(zt)):(et=ua(et),zt=ua(zt)),sr=fe(et,zt)}return sr}}function cc(fe){return Nf(function(Me){return Me=Ra(Me,$i(te())),Rn(function(et){var zt=this;return fe(Me,function(sr){return _n(sr,zt,et)})})})}function ch(fe,Me){Me=Me===oe?" ":Ja(Me);var et=Me.length;if(et<2)return et?un(Me,fe):Me;var zt=un(Me,$s(fe/ou(Me)));return Wl(Me)?_o(Vs(zt),0,fe).join(""):zt.slice(0,fe)}function hc(fe,Me,et,zt){var sr=Me&r,zr=zf(fe);function ln(){for(var yn=-1,Dn=arguments.length,fa=-1,sa=zt.length,wa=Jn(sa+Dn),Za=this&&this!==Sr&&this instanceof ln?zr:fe;++fa<sa;)wa[fa]=zt[fa];for(;Dn--;)wa[fa++]=arguments[++yn];return _n(Za,sr?et:this,wa)}return ln}function hh(fe){return function(Me,et,zt){return zt&&typeof zt!="number"&&Xn(Me,et,zt)&&(et=zt=oe),Me=Eu(Me),et===oe?(et=Me,Me=0):et=Eu(et),zt=zt===oe?Me<et?1:-1:Eu(zt),Tn(Me,et,zt,fe)}}function Ff(fe){return function(Me,et){return typeof Me=="string"&&typeof et=="string"||(Me=hf(Me),et=hf(et)),fe(Me,et)}}function vc(fe,Me,et,zt,sr,zr,ln,yn,Dn,fa){var sa=Me&a,wa=sa?ln:oe,Za=sa?oe:ln,Ha=sa?zr:oe,fi=sa?oe:zr;Me|=sa?u:l,Me&=~(sa?l:u),Me&s||(Me&=~(r|t));var qa=[fe,Me,sr,Ha,wa,fi,Za,yn,Dn,fa],ci=et.apply(oe,qa);return ea(fe)&&no(ci,qa),ci.placeholder=zt,li(ci,fe,Me)}function ev(fe){var Me=lo[fe];return function(et,zt){if(et=hf(et),zt=zt==null?0:oo(zi(zt),292),zt&&Hs(et)){var sr=(ao(et)+"e").split("e"),zr=Me(sr[0]+"e"+(+sr[1]+zt));return sr=(ao(zr)+"e").split("e"),+(sr[0]+"e"+(+sr[1]-zt))}return Me(et)}}var Kv=Zu&&1/$f(new Zu([,-0]))[1]==S?function(fe){return new Zu(fe)}:cd;function dc(fe){return function(Me){var et=qt(Me);return et==le?Bu(Me):et==$?_c(Me):Fu(Me,fe(Me))}}function bu(fe,Me,et,zt,sr,zr,ln,yn){var Dn=Me&t;if(!Dn&&typeof fe!="function")throw new xs(H);var fa=zt?zt.length:0;if(fa||(Me&=~(u|l),zt=sr=oe),ln=ln===oe?ln:io(zi(ln),0),yn=yn===oe?yn:zi(yn),fa-=sr?sr.length:0,Me&l){var sa=zt,wa=sr;zt=sr=oe}var Za=Dn?oe:ve(fe),Ha=[fe,Me,et,zt,sr,sa,wa,zr,ln,yn];if(Za&&Si(Ha,Za),fe=Ha[0],Me=Ha[1],et=Ha[2],zt=Ha[3],sr=Ha[4],yn=Ha[9]=Ha[9]===oe?Dn?0:fe.length:io(Ha[9]-fa,0),!yn&&Me&(a|f)&&(Me&=~(a|f)),!Me||Me==r)var fi=uc(fe,Me,et);else Me==a||Me==f?fi=qh(fe,Me,yn):(Me==u||Me==(r|u))&&!sr.length?fi=hc(fe,Me,et,zt):fi=Ql.apply(oe,Ha);var qa=Za?Ta:no;return li(qa(fi,Ha),fe,Me)}function Vc(fe,Me,et,zt){return fe===oe||Uf(fe,eo[et])&&!Yi.call(zt,et)?Me:fe}function Jv(fe,Me,et,zt,sr,zr){return es(fe)&&es(Me)&&(zr.set(Me,fe),Zt(fe,Me,oe,Jv,zr),zr.delete(Me)),fe}function Od(fe){return od(fe)?oe:fe}function ql(fe,Me,et,zt,sr,zr){var ln=et&v,yn=fe.length,Dn=Me.length;if(yn!=Dn&&!(ln&&Dn>yn))return!1;var fa=zr.get(fe),sa=zr.get(Me);if(fa&&sa)return fa==Me&&sa==fe;var wa=-1,Za=!0,Ha=et&g?new Ts:oe;for(zr.set(fe,Me),zr.set(Me,fe);++wa<yn;){var fi=fe[wa],qa=Me[wa];if(zt)var ci=ln?zt(qa,fi,wa,Me,fe,zr):zt(fi,qa,wa,fe,Me,zr);if(ci!==oe){if(ci)continue;Za=!1;break}if(Ha){if(!is(Me,function(Zi,Ji){if(!Nu(Ha,Ji)&&(fi===Zi||sr(fi,Zi,et,zt,zr)))return Ha.push(Ji)})){Za=!1;break}}else if(!(fi===qa||sr(fi,qa,et,zt,zr))){Za=!1;break}}return zr.delete(fe),zr.delete(Me),Za}function zd(fe,Me,et,zt,sr,zr,ln){switch(et){case Ae:if(fe.byteLength!=Me.byteLength||fe.byteOffset!=Me.byteOffset)return!1;fe=fe.buffer,Me=Me.buffer;case Ce:return!(fe.byteLength!=Me.byteLength||!zr(new Yu(fe),new Yu(Me)));case O:case B:case Z:return Uf(+fe,+Me);case ee:return fe.name==Me.name&&fe.message==Me.message;case se:case j:return fe==Me+"";case le:var yn=Bu;case $:var Dn=zt&v;if(yn||(yn=$f),fe.size!=Me.size&&!Dn)return!1;var fa=ln.get(fe);if(fa)return fa==Me;zt|=g,ln.set(fe,Me);var sa=ql(yn(fe),yn(Me),zt,sr,zr,ln);return ln.delete(fe),sa;case ue:if(Ju)return Ju.call(fe)==Ju.call(Me)}return!1}function Fd(fe,Me,et,zt,sr,zr){var ln=et&v,yn=tv(fe),Dn=yn.length,fa=tv(Me),sa=fa.length;if(Dn!=sa&&!ln)return!1;for(var wa=Dn;wa--;){var Za=yn[wa];if(!(ln?Za in Me:Yi.call(Me,Za)))return!1}var Ha=zr.get(fe),fi=zr.get(Me);if(Ha&&fi)return Ha==Me&&fi==fe;var qa=!0;zr.set(fe,Me),zr.set(Me,fe);for(var ci=ln;++wa<Dn;){Za=yn[wa];var Zi=fe[Za],Ji=Me[Za];if(zt)var ru=ln?zt(Ji,Zi,Za,Me,fe,zr):zt(Zi,Ji,Za,fe,Me,zr);if(!(ru===oe?Zi===Ji||sr(Zi,Ji,et,zt,zr):ru)){qa=!1;break}ci||(ci=Za=="constructor")}if(qa&&!ci){var Tl=fe.constructor,Cu=Me.constructor;Tl!=Cu&&"constructor"in fe&&"constructor"in Me&&!(typeof Tl=="function"&&Tl instanceof Tl&&typeof Cu=="function"&&Cu instanceof Cu)&&(qa=!1)}return zr.delete(fe),zr.delete(Me),qa}function Nf(fe){return Ki(gi(fe,oe,dh),fe+"")}function tv(fe){return xr(fe,ts,Pt)}function No(fe){return xr(fe,kl,Yt)}var ve=Pl?function(fe){return Pl.get(fe)}:cd;function J(fe){for(var Me=fe.name+"",et=bo[Me],zt=Yi.call(bo,Me)?et.length:0;zt--;){var sr=et[zt],zr=sr.func;if(zr==null||zr==fe)return sr.name}return Me}function de(fe){var Me=Yi.call(Cr,"placeholder")?Cr:fe;return Me.placeholder}function te(){var fe=Cr.iteratee||y0;return fe=fe===y0?Ne:fe,arguments.length?fe(arguments[0],arguments[1]):fe}function ge(fe,Me){var et=fe.__data__;return aa(Me)?et[typeof Me=="string"?"string":"hash"]:et.map}function ze(fe){for(var Me=ts(fe),et=Me.length;et--;){var zt=Me[et],sr=fe[zt];Me[et]=[zt,sr,za(sr)]}return Me}function Ke(fe,Me){var et=fl(fe,Me);return Vi(et)?et:oe}function ct(fe){var Me=Yi.call(fe,jl),et=fe[jl];try{fe[jl]=oe;var zt=!0}catch{}var sr=$o.call(fe);return zt&&(Me?fe[jl]=et:delete fe[jl]),sr}var Pt=go?function(fe){return fe==null?[]:(fe=ji(fe),Aa(go(fe),function(Me){return bf.call(fe,Me)}))}:b0,Yt=go?function(fe){for(var Me=[];fe;)Pi(Me,Pt(fe)),fe=Xu(fe);return Me}:b0,qt=br;(Rc&&qt(new Rc(new ArrayBuffer(1)))!=Ae||Mf&&qt(new Mf)!=le||Dc&&qt(Dc.resolve())!=X||Zu&&qt(new Zu)!=$||hu&&qt(new hu)!=ce)&&(qt=function(fe){var Me=br(fe),et=Me==re?fe.constructor:oe,zt=et?Cs(et):"";if(zt)switch(zt){case Ds:return Ae;case Ku:return le;case oh:return X;case Sf:return $;case Rl:return ce}return Me});function vr(fe,Me,et){for(var zt=-1,sr=et.length;++zt<sr;){var zr=et[zt],ln=zr.size;switch(zr.type){case"drop":fe+=ln;break;case"dropRight":Me-=ln;break;case"take":Me=oo(Me,fe+ln);break;case"takeRight":fe=io(fe,Me-ln);break}}return{start:fe,end:Me}}function fr(fe){var Me=fe.match(Ee);return Me?Me[1].split(Be):[]}function Vr(fe,Me,et){Me=ga(Me,fe);for(var zt=-1,sr=Me.length,zr=!1;++zt<sr;){var ln=qo(Me[zt]);if(!(zr=fe!=null&&et(fe,ln)))break;fe=fe[ln]}return zr||++zt!=sr?zr:(sr=fe==null?0:fe.length,!!sr&&id(sr)&&Hn(ln,sr)&&(_i(fe)||il(fe)))}function en(fe){var Me=fe.length,et=new fe.constructor(Me);return Me&&typeof fe[0]=="string"&&Yi.call(fe,"index")&&(et.index=fe.index,et.input=fe.input),et}function qr(fe){return typeof fe.constructor=="function"&&!ba(fe)?vu(Xu(fe)):{}}function Jr(fe,Me,et){var zt=fe.constructor;switch(Me){case Ce:return ki(fe);case O:case B:return new zt(+fe);case Ae:return Fo(fe,et);case Ie:case Te:case Le:case xe:case Re:case He:case Ve:case Fe:case We:return pl(fe,et);case le:return new zt;case Z:case j:return new zt(fe);case se:return Io(fe);case $:return new zt;case ue:return dl(fe)}}function an(fe,Me){var et=Me.length;if(!et)return fe;var zt=et-1;return Me[zt]=(et>1?"& ":"")+Me[zt],Me=Me.join(et>2?", ":" "),fe.replace(_e,`{
/* [wrapped with `+Me+`] */
`)}function xn(fe){return _i(fe)||il(fe)||!!(wf&&fe&&fe[wf])}function Hn(fe,Me){var et=typeof fe;return Me=Me??w,!!Me&&(et=="number"||et!="symbol"&&_r.test(fe))&&fe>-1&&fe%1==0&&fe<Me}function Xn(fe,Me,et){if(!es(et))return!1;var zt=typeof Me;return(zt=="number"?eu(et)&&Hn(Me,et.length):zt=="string"&&Me in et)?Uf(et[Me],fe):!1}function ta(fe,Me){if(_i(fe))return!1;var et=typeof fe;return et=="number"||et=="symbol"||et=="boolean"||fe==null||Su(fe)?!0:Ze.test(fe)||!Oe.test(fe)||Me!=null&&fe in ji(Me)}function aa(fe){var Me=typeof fe;return Me=="string"||Me=="number"||Me=="symbol"||Me=="boolean"?fe!=="__proto__":fe===null}function ea(fe){var Me=J(fe),et=Cr[Me];if(typeof et!="function"||!(Me in pi.prototype))return!1;if(fe===et)return!0;var zt=ve(et);return!!zt&&fe===zt[0]}function oa(fe){return!!su&&su in fe}var da=Hu?Wc:w0;function ba(fe){var Me=fe&&fe.constructor,et=typeof Me=="function"&&Me.prototype||eo;return fe===et}function za(fe){return fe===fe&&!es(fe)}function _a(fe,Me){return function(et){return et==null?!1:et[fe]===Me&&(Me!==oe||fe in ji(et))}}function ri(fe){var Me=nd(fe,function(zt){return et.size===p&&et.clear(),zt}),et=Me.cache;return Me}function Si(fe,Me){var et=fe[1],zt=Me[1],sr=et|zt,zr=sr<(r|t|m),ln=zt==m&&et==a||zt==m&&et==h&&fe[7].length<=Me[8]||zt==(m|h)&&Me[7].length<=Me[8]&&et==a;if(!(zr||ln))return fe;zt&r&&(fe[2]=Me[2],sr|=et&r?0:s);var yn=Me[3];if(yn){var Dn=fe[3];fe[3]=Dn?bi(Dn,yn,Me[4]):yn,fe[4]=Dn?Yl(fe[3],L):Me[4]}return yn=Me[5],yn&&(Dn=fe[5],fe[5]=Dn?fo(Dn,yn,Me[6]):yn,fe[6]=Dn?Yl(fe[5],L):Me[6]),yn=Me[7],yn&&(fe[7]=yn),zt&m&&(fe[8]=fe[8]==null?Me[8]:oo(fe[8],Me[8])),fe[9]==null&&(fe[9]=Me[9]),fe[0]=Me[0],fe[1]=sr,fe}function di(fe){var Me=[];if(fe!=null)for(var et in ji(fe))Me.push(et);return Me}function Ba(fe){return $o.call(fe)}function gi(fe,Me,et){return Me=io(Me===oe?fe.length-1:Me,0),function(){for(var zt=arguments,sr=-1,zr=io(zt.length-Me,0),ln=Jn(zr);++sr<zr;)ln[sr]=zt[Me+sr];sr=-1;for(var yn=Jn(Me+1);++sr<Me;)yn[sr]=zt[sr];return yn[Me]=et(ln),_n(fe,this,yn)}}function oi(fe,Me){return Me.length<2?fe:Ht(fe,ka(Me,0,-1))}function Oi(fe,Me){for(var et=fe.length,zt=oo(Me.length,et),sr=Es(fe);zt--;){var zr=Me[zt];fe[zt]=Hn(zr,et)?sr[zr]:oe}return fe}function Ei(fe,Me){if(!(Me==="constructor"&&typeof fe[Me]=="function")&&Me!="__proto__")return fe[Me]}var no=Ci(Ta),yi=uu||function(fe,Me){return Sr.setTimeout(fe,Me)},Ki=Ci(Ea);function li(fe,Me,et){var zt=Me+"";return Ki(fe,an(zt,wu(fr(zt),et)))}function Ci(fe){var Me=0,et=0;return function(){var zt=_l(),sr=x-(zt-et);if(et=zt,sr>0){if(++Me>=d)return arguments[0]}else Me=0;return fe.apply(oe,arguments)}}function To(fe,Me){var et=-1,zt=fe.length,sr=zt-1;for(Me=Me===oe?zt:Me;++et<Me;){var zr=gn(et,sr),ln=fe[zr];fe[zr]=fe[et],fe[et]=ln}return fe.length=Me,fe}var Qo=ri(function(fe){var Me=[];return fe.charCodeAt(0)===46&&Me.push(""),fe.replace(Je,function(et,zt,sr,zr){Me.push(sr?zr.replace(dt,"$1"):zt||et)}),Me});function qo(fe){if(typeof fe=="string"||Su(fe))return fe;var Me=fe+"";return Me=="0"&&1/fe==-S?"-0":Me}function Cs(fe){if(fe!=null){try{return Qf.call(fe)}catch{}try{return fe+""}catch{}}return""}function wu(fe,Me){return In(N,function(et){var zt="_."+et[0];Me&et[1]&&!xa(fe,zt)&&fe.push(zt)}),fe.sort()}function Tu(fe){if(fe instanceof pi)return fe.clone();var Me=new So(fe.__wrapped__,fe.__chain__);return Me.__actions__=Es(fe.__actions__),Me.__index__=fe.__index__,Me.__values__=fe.__values__,Me}function Hc(fe,Me,et){(et?Xn(fe,Me,et):Me===oe)?Me=1:Me=io(zi(Me),0);var zt=fe==null?0:fe.length;if(!zt||Me<1)return[];for(var sr=0,zr=0,ln=Jn($s(zt/Me));sr<zt;)ln[zr++]=ka(fe,sr,sr+=Me);return ln}function lf(fe){for(var Me=-1,et=fe==null?0:fe.length,zt=0,sr=[];++Me<et;){var zr=fe[Me];zr&&(sr[zt++]=zr)}return sr}function rl(){var fe=arguments.length;if(!fe)return[];for(var Me=Jn(fe-1),et=arguments[0],zt=fe;zt--;)Me[zt-1]=arguments[zt];return Pi(_i(et)?Es(et):[et],$e(Me,1))}var uf=Rn(function(fe,Me){return vs(fe)?nf(fe,$e(Me,1,vs,!0)):[]}),yl=Rn(function(fe,Me){var et=al(Me);return vs(et)&&(et=oe),vs(fe)?nf(fe,$e(Me,1,vs,!0),te(et,2)):[]}),nl=Rn(function(fe,Me){var et=al(Me);return vs(et)&&(et=oe),vs(fe)?nf(fe,$e(Me,1,vs,!0),oe,et):[]});function Au(fe,Me,et){var zt=fe==null?0:fe.length;return zt?(Me=et||Me===oe?1:zi(Me),ka(fe,Me<0?0:Me,zt)):[]}function Bf(fe,Me,et){var zt=fe==null?0:fe.length;return zt?(Me=et||Me===oe?1:zi(Me),Me=zt-Me,ka(fe,0,Me<0?0:Me)):[]}function Mu(fe,Me){return fe&&fe.length?Mi(fe,te(Me,3),!0,!0):[]}function rv(fe,Me){return fe&&fe.length?Mi(fe,te(Me,3),!0):[]}function vh(fe,Me,et,zt){var sr=fe==null?0:fe.length;return sr?(et&&typeof et!="number"&&Xn(fe,Me,et)&&(et=0,zt=sr),Of(fe,Me,et,zt)):[]}function ls(fe,Me,et){var zt=fe==null?0:fe.length;if(!zt)return-1;var sr=et==null?0:zi(et);return sr<0&&(sr=io(zt+sr,0)),Ti(fe,te(Me,3),sr)}function Ih(fe,Me,et){var zt=fe==null?0:fe.length;if(!zt)return-1;var sr=zt-1;return et!==oe&&(sr=zi(et),sr=et<0?io(zt+sr,0):oo(sr,zt-1)),Ti(fe,te(Me,3),sr,!0)}function dh(fe){var Me=fe==null?0:fe.length;return Me?$e(fe,1):[]}function Xs(fe){var Me=fe==null?0:fe.length;return Me?$e(fe,S):[]}function ph(fe,Me){var et=fe==null?0:fe.length;return et?(Me=Me===oe?1:zi(Me),$e(fe,Me)):[]}function nv(fe){for(var Me=-1,et=fe==null?0:fe.length,zt={};++Me<et;){var sr=fe[Me];zt[sr[0]]=sr[1]}return zt}function kh(fe){return fe&&fe.length?fe[0]:oe}function av(fe,Me,et){var zt=fe==null?0:fe.length;if(!zt)return-1;var sr=et==null?0:zi(et);return sr<0&&(sr=io(zt+sr,0)),ll(fe,Me,sr)}function gh(fe){var Me=fe==null?0:fe.length;return Me?ka(fe,0,-1):[]}var yh=Rn(function(fe){var Me=Ra(fe,qi);return Me.length&&Me[0]===fe[0]?fn(Me):[]}),Bo=Rn(function(fe){var Me=al(fe),et=Ra(fe,qi);return Me===al(et)?Me=oe:et.pop(),et.length&&et[0]===fe[0]?fn(et,te(Me,2)):[]}),ml=Rn(function(fe){var Me=al(fe),et=Ra(fe,qi);return Me=typeof Me=="function"?Me:oe,Me&&et.pop(),et.length&&et[0]===fe[0]?fn(et,oe,Me):[]});function xl(fe,Me){return fe==null?"":Ll.call(fe,Me)}function al(fe){var Me=fe==null?0:fe.length;return Me?fe[Me-1]:oe}function $v(fe,Me,et){var zt=fe==null?0:fe.length;if(!zt)return-1;var sr=zt;return et!==oe&&(sr=zi(et),sr=sr<0?io(zt+sr,0):oo(sr,zt-1)),Me===Me?Rh(fe,Me,sr):Ti(fe,Oo,sr,!0)}function Zp(fe,Me){return fe&&fe.length?Ir(fe,zi(Me)):oe}var jp=Rn(mh);function mh(fe,Me){return fe&&fe.length&&Me&&Me.length?Wr(fe,Me):fe}function Kp(fe,Me,et){return fe&&fe.length&&Me&&Me.length?Wr(fe,Me,te(et,2)):fe}function iv(fe,Me,et){return fe&&fe.length&&Me&&Me.length?Wr(fe,Me,oe,et):fe}var Jp=Nf(function(fe,Me){var et=fe==null?0:fe.length,zt=el(fe,Me);return nn(fe,Ra(Me,function(sr){return Hn(sr,et)?+sr:sr}).sort(uo)),zt});function $p(fe,Me){var et=[];if(!(fe&&fe.length))return et;var zt=-1,sr=[],zr=fe.length;for(Me=te(Me,3);++zt<zr;){var ln=fe[zt];Me(ln,zt,fe)&&(et.push(ln),sr.push(zt))}return nn(fe,sr),et}function Oh(fe){return fe==null?fe:Af.call(fe)}function Hm(fe,Me,et){var zt=fe==null?0:fe.length;return zt?(et&&typeof et!="number"&&Xn(fe,Me,et)?(Me=0,et=zt):(Me=Me==null?0:zi(Me),et=et===oe?zt:zi(et)),ka(fe,Me,et)):[]}function Gm(fe,Me){return Ai(fe,Me)}function Wm(fe,Me,et){return wo(fe,Me,te(et,2))}function Ym(fe,Me){var et=fe==null?0:fe.length;if(et){var zt=Ai(fe,Me);if(zt<et&&Uf(fe[zt],Me))return zt}return-1}function Xm(fe,Me){return Ai(fe,Me,!0)}function Zm(fe,Me,et){return wo(fe,Me,te(et,2),!0)}function jm(fe,Me){var et=fe==null?0:fe.length;if(et){var zt=Ai(fe,Me,!0)-1;if(Uf(fe[zt],Me))return zt}return-1}function Nd(fe){return fe&&fe.length?Ii(fe):[]}function Km(fe,Me){return fe&&fe.length?Ii(fe,te(Me,2)):[]}function Jm(fe){var Me=fe==null?0:fe.length;return Me?ka(fe,1,Me):[]}function $m(fe,Me,et){return fe&&fe.length?(Me=et||Me===oe?1:zi(Me),ka(fe,0,Me<0?0:Me)):[]}function Qm(fe,Me,et){var zt=fe==null?0:fe.length;return zt?(Me=et||Me===oe?1:zi(Me),Me=zt-Me,ka(fe,Me<0?0:Me,zt)):[]}function dg(fe,Me){return fe&&fe.length?Mi(fe,te(Me,3),!1,!0):[]}function qm(fe,Me){return fe&&fe.length?Mi(fe,te(Me,3)):[]}var pg=Rn(function(fe){return Fa($e(fe,1,vs,!0))}),Qp=Rn(function(fe){var Me=al(fe);return vs(Me)&&(Me=oe),Fa($e(fe,1,vs,!0),te(Me,2))}),gg=Rn(function(fe){var Me=al(fe);return Me=typeof Me=="function"?Me:oe,Fa($e(fe,1,vs,!0),oe,Me)});function qp(fe){return fe&&fe.length?Fa(fe):[]}function zh(fe,Me){return fe&&fe.length?Fa(fe,te(Me,2)):[]}function bl(fe,Me){return Me=typeof Me=="function"?Me:oe,fe&&fe.length?Fa(fe,oe,Me):[]}function e0(fe){if(!(fe&&fe.length))return[];var Me=0;return fe=Aa(fe,function(et){if(vs(et))return Me=io(et.length,Me),!0}),Lo(Me,function(et){return Ra(fe,Hl(et))})}function yg(fe,Me){if(!(fe&&fe.length))return[];var et=e0(fe);return Me==null?et:Ra(et,function(zt){return _n(Me,oe,zt)})}var mg=Rn(function(fe,Me){return vs(fe)?nf(fe,Me):[]}),e1=Rn(function(fe){return Do(Aa(fe,vs))}),t1=Rn(function(fe){var Me=al(fe);return vs(Me)&&(Me=oe),Do(Aa(fe,vs),te(Me,2))}),r1=Rn(function(fe){var Me=al(fe);return Me=typeof Me=="function"?Me:oe,Do(Aa(fe,vs),oe,Me)}),n1=Rn(e0);function a1(fe,Me){return Go(fe||[],Me||[],tf)}function i1(fe,Me){return Go(fe||[],Me||[],la)}var t0=Rn(function(fe){var Me=fe.length,et=Me>1?fe[Me-1]:oe;return et=typeof et=="function"?(fe.pop(),et):oe,yg(fe,et)});function xg(fe){var Me=Cr(fe);return Me.__chain__=!0,Me}function Bd(fe,Me){return Me(fe),fe}function Qv(fe,Me){return Me(fe)}var xh=Nf(function(fe){var Me=fe.length,et=Me?fe[0]:0,zt=this.__wrapped__,sr=function(zr){return el(zr,fe)};return Me>1||this.__actions__.length||!(zt instanceof pi)||!Hn(et)?this.thru(sr):(zt=zt.slice(et,+et+(Me?1:0)),zt.__actions__.push({func:Qv,args:[sr],thisArg:oe}),new So(zt,this.__chain__).thru(function(zr){return Me&&!zr.length&&zr.push(oe),zr}))});function qv(){return xg(this)}function o1(){return new So(this.value(),this.__chain__)}function s1(){this.__values__===oe&&(this.__values__=Fg(this.value()));var fe=this.__index__>=this.__values__.length,Me=fe?oe:this.__values__[this.__index__++];return{done:fe,value:Me}}function l1(){return this}function u1(fe){for(var Me,et=this;et instanceof Ho;){var zt=Tu(et);zt.__index__=0,zt.__values__=oe,Me?sr.__wrapped__=zt:Me=zt;var sr=zt;et=et.__wrapped__}return sr.__wrapped__=fe,Me}function f1(){var fe=this.__wrapped__;if(fe instanceof pi){var Me=fe;return this.__actions__.length&&(Me=new pi(this)),Me=Me.reverse(),Me.__actions__.push({func:Qv,args:[Oh],thisArg:oe}),new So(Me,this.__chain__)}return this.thru(Oh)}function c1(){return zo(this.__wrapped__,this.__actions__)}var h1=mu(function(fe,Me,et){Yi.call(fe,et)?++fe[et]:Gs(fe,et,1)});function v1(fe,Me,et){var zt=_i(fe)?Kn:gu;return et&&Xn(fe,Me,et)&&(Me=oe),zt(fe,te(Me,3))}function d1(fe,Me){var et=_i(fe)?Aa:Fc;return et(fe,te(Me,3))}var p1=sf(ls),g1=sf(Ih);function r0(fe,Me){return $e(Gd(fe,Me),1)}function y1(fe,Me){return $e(Gd(fe,Me),S)}function ov(fe,Me,et){return et=et===oe?1:zi(et),$e(Gd(fe,Me),et)}function bg(fe,Me){var et=_i(fe)?In:Ws;return et(fe,te(Me,3))}function Xo(fe,Me){var et=_i(fe)?Qn:lc;return et(fe,te(Me,3))}var Ud=mu(function(fe,Me,et){Yi.call(fe,et)?fe[et].push(Me):Gs(fe,et,[Me])});function wg(fe,Me,et,zt){fe=eu(fe)?fe:Fh(fe),et=et&&!zt?zi(et):0;var sr=fe.length;return et<0&&(et=io(sr+et,0)),Zd(fe)?et<=sr&&fe.indexOf(Me,et)>-1:!!sr&&ll(fe,Me,et)>-1}var Vd=Rn(function(fe,Me,et){var zt=-1,sr=typeof Me=="function",zr=eu(fe)?Jn(fe.length):[];return Ws(fe,function(ln){zr[++zt]=sr?_n(Me,ln,et):Nn(ln,Me,et)}),zr}),Hd=mu(function(fe,Me,et){Gs(fe,et,Me)});function Gd(fe,Me){var et=_i(fe)?Ra:Rt;return et(fe,te(Me,3))}function ed(fe,Me,et,zt){return fe==null?[]:(_i(Me)||(Me=Me==null?[]:[Me]),et=zt?oe:et,_i(et)||(et=et==null?[]:[et]),kr(fe,Me,et))}var m1=mu(function(fe,Me,et){fe[et?0:1].push(Me)},function(){return[[],[]]});function Tg(fe,Me,et){var zt=_i(fe)?Li:mo,sr=arguments.length<3;return zt(fe,te(Me,4),et,sr,Ws)}function Ag(fe,Me,et){var zt=_i(fe)?Ps:mo,sr=arguments.length<3;return zt(fe,te(Me,4),et,sr,lc)}function td(fe,Me){var et=_i(fe)?Aa:Fc;return et(fe,Gc(te(Me,3)))}function n0(fe){var Me=_i(fe)?zc:ha;return Me(fe)}function a0(fe,Me,et){(et?Xn(fe,Me,et):Me===oe)?Me=1:Me=zi(Me);var zt=_i(fe)?ss:Sa;return zt(fe,Me)}function x1(fe){var Me=_i(fe)?Rf:ai;return Me(fe)}function Mg(fe){if(fe==null)return 0;if(eu(fe))return Zd(fe)?ou(fe):fe.length;var Me=qt(fe);return Me==le||Me==$?fe.size:qe(fe).length}function rd(fe,Me,et){var zt=_i(fe)?is:ti;return et&&Xn(fe,Me,et)&&(Me=oe),zt(fe,te(Me,3))}var b1=Rn(function(fe,Me){if(fe==null)return[];var et=Me.length;return et>1&&Xn(fe,Me[0],Me[1])?Me=[]:et>2&&Xn(Me[0],Me[1],Me[2])&&(Me=[Me[0]]),kr(fe,$e(Me,1),[])}),sv=Pc||function(){return Sr.Date.now()};function w1(fe,Me){if(typeof Me!="function")throw new xs(H);return fe=zi(fe),function(){if(--fe<1)return Me.apply(this,arguments)}}function Wd(fe,Me,et){return Me=et?oe:Me,Me=fe&&Me==null?fe.length:Me,bu(fe,m,oe,oe,oe,oe,Me)}function Yd(fe,Me){var et;if(typeof Me!="function")throw new xs(H);return fe=zi(fe),function(){return--fe>0&&(et=Me.apply(this,arguments)),fe<=1&&(Me=oe),et}}var i0=Rn(function(fe,Me,et){var zt=r;if(et.length){var sr=Yl(et,de(i0));zt|=u}return bu(fe,zt,Me,et,sr)}),ff=Rn(function(fe,Me,et){var zt=r|t;if(et.length){var sr=Yl(et,de(ff));zt|=u}return bu(Me,zt,fe,et,sr)});function Sg(fe,Me,et){Me=et?oe:Me;var zt=bu(fe,a,oe,oe,oe,oe,oe,Me);return zt.placeholder=Sg.placeholder,zt}function Eg(fe,Me,et){Me=et?oe:Me;var zt=bu(fe,f,oe,oe,oe,oe,oe,Me);return zt.placeholder=Eg.placeholder,zt}function Cg(fe,Me,et){var zt,sr,zr,ln,yn,Dn,fa=0,sa=!1,wa=!1,Za=!0;if(typeof fe!="function")throw new xs(H);Me=hf(Me)||0,es(et)&&(sa=!!et.leading,wa="maxWait"in et,zr=wa?io(hf(et.maxWait)||0,Me):zr,Za="trailing"in et?!!et.trailing:Za);function Ha(rs){var Gf=zt,Xc=sr;return zt=sr=oe,fa=rs,ln=fe.apply(Xc,Gf),ln}function fi(rs){return fa=rs,yn=yi(Zi,Me),sa?Ha(rs):ln}function qa(rs){var Gf=rs-Dn,Xc=rs-fa,wh=Me-Gf;return wa?oo(wh,zr-Xc):wh}function ci(rs){var Gf=rs-Dn,Xc=rs-fa;return Dn===oe||Gf>=Me||Gf<0||wa&&Xc>=zr}function Zi(){var rs=sv();if(ci(rs))return Ji(rs);yn=yi(Zi,qa(rs))}function Ji(rs){return yn=oe,Za&&zt?Ha(rs):(zt=sr=oe,ln)}function ru(){yn!==oe&&Ss(yn),fa=0,zt=Dn=sr=yn=oe}function Tl(){return yn===oe?ln:Ji(sv())}function Cu(){var rs=sv(),Gf=ci(rs);if(zt=arguments,sr=this,Dn=rs,Gf){if(yn===oe)return fi(Dn);if(wa)return Ss(yn),yn=yi(Zi,Me),Ha(Dn)}return yn===oe&&(yn=yi(Zi,Me)),ln}return Cu.cancel=ru,Cu.flush=Tl,Cu}var T1=Rn(function(fe,Me){return kf(fe,1,Me)}),A1=Rn(function(fe,Me,et){return kf(fe,hf(Me)||0,et)});function M1(fe){return bu(fe,M)}function nd(fe,Me){if(typeof fe!="function"||Me!=null&&typeof Me!="function")throw new xs(H);var et=function(){var zt=arguments,sr=Me?Me.apply(this,zt):zt[0],zr=et.cache;if(zr.has(sr))return zr.get(sr);var ln=fe.apply(this,zt);return et.cache=zr.set(sr,ln)||zr,ln};return et.cache=new(nd.Cache||ws),et}nd.Cache=ws;function Gc(fe){if(typeof fe!="function")throw new xs(H);return function(){var Me=arguments;switch(Me.length){case 0:return!fe.call(this);case 1:return!fe.call(this,Me[0]);case 2:return!fe.call(this,Me[0],Me[1]);case 3:return!fe.call(this,Me[0],Me[1],Me[2])}return!fe.apply(this,Me)}}function S1(fe){return Yd(2,fe)}var E1=Wa(function(fe,Me){Me=Me.length==1&&_i(Me[0])?Ra(Me[0],$i(te())):Ra($e(Me,1),$i(te()));var et=Me.length;return Rn(function(zt){for(var sr=-1,zr=oo(zt.length,et);++sr<zr;)zt[sr]=Me[sr].call(this,zt[sr]);return _n(fe,this,zt)})}),o0=Rn(function(fe,Me){var et=Yl(Me,de(o0));return bu(fe,u,oe,Me,et)}),Lg=Rn(function(fe,Me){var et=Yl(Me,de(Lg));return bu(fe,l,oe,Me,et)}),_g=Nf(function(fe,Me){return bu(fe,h,oe,oe,oe,Me)});function Pg(fe,Me){if(typeof fe!="function")throw new xs(H);return Me=Me===oe?Me:zi(Me),Rn(fe,Me)}function C1(fe,Me){if(typeof fe!="function")throw new xs(H);return Me=Me==null?0:io(zi(Me),0),Rn(function(et){var zt=et[Me],sr=_o(et,0,Me);return zt&&Pi(sr,zt),_n(fe,this,sr)})}function L1(fe,Me,et){var zt=!0,sr=!0;if(typeof fe!="function")throw new xs(H);return es(et)&&(zt="leading"in et?!!et.leading:zt,sr="trailing"in et?!!et.trailing:sr),Cg(fe,Me,{leading:zt,maxWait:Me,trailing:sr})}function _1(fe){return Wd(fe,1)}function P1(fe,Me){return o0(Wo(Me),fe)}function R1(){if(!arguments.length)return[];var fe=arguments[0];return _i(fe)?fe:[fe]}function D1(fe){return Ms(fe,T)}function I1(fe,Me){return Me=typeof Me=="function"?Me:oe,Ms(fe,T,Me)}function k1(fe){return Ms(fe,n|T)}function lv(fe,Me){return Me=typeof Me=="function"?Me:oe,Ms(fe,n|T,Me)}function O1(fe,Me){return Me==null||rf(fe,Me,ts(Me))}function Uf(fe,Me){return fe===Me||fe!==fe&&Me!==Me}var s0=Ff(ur),ad=Ff(function(fe,Me){return fe>=Me}),il=Yn(function(){return arguments}())?Yn:function(fe){return us(fe)&&Yi.call(fe,"callee")&&!bf.call(fe,"callee")},_i=Jn.isArray,z1=bn?$i(bn):ia;function eu(fe){return fe!=null&&id(fe.length)&&!Wc(fe)}function vs(fe){return us(fe)&&eu(fe)}function F1(fe){return fe===!0||fe===!1||us(fe)&&br(fe)==O}var cf=Tf||w0,Rg=pn?$i(pn):Ka;function N1(fe){return us(fe)&&fe.nodeType===1&&!od(fe)}function B1(fe){if(fe==null)return!0;if(eu(fe)&&(_i(fe)||typeof fe=="string"||typeof fe.splice=="function"||cf(fe)||uv(fe)||il(fe)))return!fe.length;var Me=qt(fe);if(Me==le||Me==$)return!fe.size;if(ba(fe))return!qe(fe).length;for(var et in fe)if(Yi.call(fe,et))return!1;return!0}function U1(fe,Me){return Xa(fe,Me)}function V1(fe,Me,et){et=typeof et=="function"?et:oe;var zt=et?et(fe,Me):oe;return zt===oe?Xa(fe,Me,oe,et):!!zt}function l0(fe){if(!us(fe))return!1;var Me=br(fe);return Me==ee||Me==W||typeof fe.message=="string"&&typeof fe.name=="string"&&!od(fe)}function H1(fe){return typeof fe=="number"&&Hs(fe)}function Wc(fe){if(!es(fe))return!1;var Me=br(fe);return Me==ne||Me==Q||Me==F||Me==q}function Dg(fe){return typeof fe=="number"&&fe==zi(fe)}function id(fe){return typeof fe=="number"&&fe>-1&&fe%1==0&&fe<=w}function es(fe){var Me=typeof fe;return fe!=null&&(Me=="object"||Me=="function")}function us(fe){return fe!=null&&typeof fe=="object"}var Ig=Dr?$i(Dr):ni;function G1(fe,Me){return fe===Me||mi(fe,Me,ze(Me))}function kg(fe,Me,et){return et=typeof et=="function"?et:oe,mi(fe,Me,ze(Me),et)}function Og(fe){return u0(fe)&&fe!=+fe}function ol(fe){if(da(fe))throw new si(it);return Vi(fe)}function W1(fe){return fe===null}function Y1(fe){return fe==null}function u0(fe){return typeof fe=="number"||us(fe)&&br(fe)==Z}function od(fe){if(!us(fe)||br(fe)!=re)return!1;var Me=Xu(fe);if(Me===null)return!0;var et=Yi.call(Me,"constructor")&&Me.constructor;return typeof et=="function"&&et instanceof et&&Qf.call(et)==qf}var Xd=rn?$i(rn):Eo;function X1(fe){return Dg(fe)&&fe>=-w&&fe<=w}var f0=Kr?$i(Kr):he;function Zd(fe){return typeof fe=="string"||!_i(fe)&&us(fe)&&br(fe)==j}function Su(fe){return typeof fe=="symbol"||us(fe)&&br(fe)==ue}var uv=on?$i(on):Pe;function Z1(fe){return fe===oe}function zg(fe){return us(fe)&&qt(fe)==ce}function j1(fe){return us(fe)&&br(fe)==ye}var K1=Ff(ft),J1=Ff(function(fe,Me){return fe<=Me});function Fg(fe){if(!fe)return[];if(eu(fe))return Zd(fe)?Vs(fe):Es(fe);if(Ui&&fe[Ui])return _h(fe[Ui]());var Me=qt(fe),et=Me==le?Bu:Me==$?$f:Fh;return et(fe)}function Eu(fe){if(!fe)return fe===0?fe:0;if(fe=hf(fe),fe===S||fe===-S){var Me=fe<0?-1:1;return Me*o}return fe===fe?fe:0}function zi(fe){var Me=Eu(fe),et=Me%1;return Me===Me?et?Me-et:Me:0}function ds(fe){return fe?As(zi(fe),0,b):0}function hf(fe){if(typeof fe=="number")return fe;if(Su(fe))return _;if(es(fe)){var Me=typeof fe.valueOf=="function"?fe.valueOf():fe;fe=es(Me)?Me+"":Me}if(typeof fe!="string")return fe===0?fe:+fe;fe=Uo(fe);var et=St.test(fe);return et||rr.test(fe)?ca(fe.slice(2),et?2:8):Jt.test(fe)?_:+fe}function Ng(fe){return yu(fe,kl(fe))}function jd(fe){return fe?As(zi(fe),-w,w):fe===0?fe:0}function ao(fe){return fe==null?"":Ja(fe)}var co=xu(function(fe,Me){if(ba(Me)||eu(Me)){yu(Me,ts(Me),fe);return}for(var et in Me)Yi.call(Me,et)&&tf(fe,et,Me[et])}),Kd=xu(function(fe,Me){yu(Me,kl(Me),fe)}),sd=xu(function(fe,Me,et,zt){yu(Me,kl(Me),fe,zt)}),$1=xu(function(fe,Me,et,zt){yu(Me,ts(Me),fe,zt)}),Bg=Nf(el);function Q1(fe,Me){var et=vu(fe);return Me==null?et:hs(et,Me)}var Yc=Rn(function(fe,Me){fe=ji(fe);var et=-1,zt=Me.length,sr=zt>2?Me[2]:oe;for(sr&&Xn(Me[0],Me[1],sr)&&(zt=1);++et<zt;)for(var zr=Me[et],ln=kl(zr),yn=-1,Dn=ln.length;++yn<Dn;){var fa=ln[yn],sa=fe[fa];(sa===oe||Uf(sa,eo[fa])&&!Yi.call(fe,fa))&&(fe[fa]=zr[fa])}return fe}),fv=Rn(function(fe){return fe.push(oe,Jv),_n($d,oe,fe)});function q1(fe,Me){return Ec(fe,te(Me,3),At)}function ex(fe,Me){return Ec(fe,te(Me,3),Bt)}function tx(fe,Me){return fe==null?fe:st(fe,te(Me,3),kl)}function Ug(fe,Me){return fe==null?fe:yt(fe,te(Me,3),kl)}function rx(fe,Me){return fe&&At(fe,te(Me,3))}function nx(fe,Me){return fe&&Bt(fe,te(Me,3))}function ax(fe){return fe==null?[]:kt(fe,ts(fe))}function ix(fe){return fe==null?[]:kt(fe,kl(fe))}function c0(fe,Me,et){var zt=fe==null?oe:Ht(fe,Me);return zt===oe?et:zt}function ox(fe,Me){return fe!=null&&Vr(fe,Me,Rr)}function h0(fe,Me){return fe!=null&&Vr(fe,Me,Ur)}var sx=fh(function(fe,Me,et){Me!=null&&typeof Me.toString!="function"&&(Me=$o.call(Me)),fe[Me]=et},dv(Os)),lx=fh(function(fe,Me,et){Me!=null&&typeof Me.toString!="function"&&(Me=$o.call(Me)),Yi.call(fe,Me)?fe[Me].push(et):fe[Me]=[et]},te),Jd=Rn(Nn);function ts(fe){return eu(fe)?uh(fe):qe(fe)}function kl(fe){return eu(fe)?uh(fe,!0):ot(fe)}function ux(fe,Me){var et={};return Me=te(Me,3),At(fe,function(zt,sr,zr){Gs(et,Me(zt,sr,zr),zt)}),et}function fx(fe,Me){var et={};return Me=te(Me,3),At(fe,function(zt,sr,zr){Gs(et,sr,Me(zt,sr,zr))}),et}var cx=xu(function(fe,Me,et){Zt(fe,Me,et)}),$d=xu(function(fe,Me,et,zt){Zt(fe,Me,et,zt)}),hx=Nf(function(fe,Me){var et={};if(fe==null)return et;var zt=!1;Me=Ra(Me,function(zr){return zr=ga(zr,fe),zt||(zt=zr.length>1),zr}),yu(fe,No(fe),et),zt&&(et=Ms(et,n|C|T,Od));for(var sr=Me.length;sr--;)xi(et,Me[sr]);return et});function vx(fe,Me){return Vg(fe,Gc(te(Me)))}var dx=Nf(function(fe,Me){return fe==null?{}:sn(fe,Me)});function Vg(fe,Me){if(fe==null)return{};var et=Ra(No(fe),function(zt){return[zt]});return Me=te(Me),dn(fe,et,function(zt,sr){return Me(zt,sr[0])})}function Hg(fe,Me,et){Me=ga(Me,fe);var zt=-1,sr=Me.length;for(sr||(sr=1,fe=oe);++zt<sr;){var zr=fe==null?oe:fe[qo(Me[zt])];zr===oe&&(zt=sr,zr=et),fe=Wc(zr)?zr.call(fe):zr}return fe}function Gg(fe,Me,et){return fe==null?fe:la(fe,Me,et)}function Ol(fe,Me,et,zt){return zt=typeof zt=="function"?zt:oe,fe==null?fe:la(fe,Me,et,zt)}var ld=dc(ts),cv=dc(kl);function ud(fe,Me,et){var zt=_i(fe),sr=zt||cf(fe)||uv(fe);if(Me=te(Me,4),et==null){var zr=fe&&fe.constructor;sr?et=zt?new zr:[]:es(fe)?et=Wc(zr)?vu(Xu(fe)):{}:et={}}return(sr?In:At)(fe,function(ln,yn,Dn){return Me(et,ln,yn,Dn)}),et}function tu(fe,Me){return fe==null?!0:xi(fe,Me)}function fd(fe,Me,et){return fe==null?fe:to(fe,Me,Wo(et))}function px(fe,Me,et,zt){return zt=typeof zt=="function"?zt:oe,fe==null?fe:to(fe,Me,Wo(et),zt)}function Fh(fe){return fe==null?[]:fs(fe,ts(fe))}function Wg(fe){return fe==null?[]:fs(fe,kl(fe))}function hv(fe,Me,et){return et===oe&&(et=Me,Me=oe),et!==oe&&(et=hf(et),et=et===et?et:0),Me!==oe&&(Me=hf(Me),Me=Me===Me?Me:0),As(hf(fe),Me,et)}function Zs(fe,Me,et){return Me=Eu(Me),et===oe?(et=Me,Me=0):et=Eu(et),fe=hf(fe),Yr(fe,Me,et)}function gx(fe,Me,et){if(et&&typeof et!="boolean"&&Xn(fe,Me,et)&&(Me=et=oe),et===oe&&(typeof Me=="boolean"?(et=Me,Me=oe):typeof fe=="boolean"&&(et=fe,fe=oe)),fe===oe&&Me===oe?(fe=0,Me=1):(fe=Eu(fe),Me===oe?(Me=fe,fe=0):Me=Eu(Me)),fe>Me){var zt=fe;fe=Me,Me=zt}if(et||fe%1||Me%1){var sr=Rs();return oo(fe+sr*(Me-fe+$n("1e-"+((sr+"").length-1))),Me)}return gn(fe,Me)}var Qd=fc(function(fe,Me,et){return Me=Me.toLowerCase(),fe+(et?Vf(Me):Me)});function Vf(fe){return qd(ao(fe).toLowerCase())}function wl(fe){return fe=ao(fe),fe&&fe.replace(Tt,Vo).replace(jn,"")}function Yg(fe,Me,et){fe=ao(fe),Me=Ja(Me);var zt=fe.length;et=et===oe?zt:As(zi(et),0,zt);var sr=et;return et-=Me.length,et>=0&&fe.slice(et,sr)==Me}function yx(fe){return fe=ao(fe),fe&&mt.test(fe)?fe.replace(vt,Lc):fe}function Xg(fe){return fe=ao(fe),fe&&ke.test(fe)?fe.replace(Ye,"\\$&"):fe}var mx=fc(function(fe,Me,et){return fe+(et?"-":"")+Me.toLowerCase()}),Zg=fc(function(fe,Me,et){return fe+(et?" ":"")+Me.toLowerCase()}),jg=Qh("toLowerCase");function v0(fe,Me,et){fe=ao(fe),Me=zi(Me);var zt=Me?ou(fe):0;if(!Me||zt>=Me)return fe;var sr=(Me-zt)/2;return ch(fu(sr),et)+fe+ch($s(sr),et)}function d0(fe,Me,et){fe=ao(fe),Me=zi(Me);var zt=Me?ou(fe):0;return Me&&zt<Me?fe+ch(Me-zt,et):fe}function xx(fe,Me,et){fe=ao(fe),Me=zi(Me);var zt=Me?ou(fe):0;return Me&&zt<Me?ch(Me-zt,et)+fe:fe}function bx(fe,Me,et){return et||Me==null?Me=0:Me&&(Me=+Me),Qs(ao(fe).replace(be,""),Me||0)}function wx(fe,Me,et){return(et?Xn(fe,Me,et):Me===oe)?Me=1:Me=zi(Me),un(ao(fe),Me)}function Tx(){var fe=arguments,Me=ao(fe[0]);return fe.length<3?Me:Me.replace(fe[1],fe[2])}var Kg=fc(function(fe,Me,et){return fe+(et?"_":"")+Me.toLowerCase()});function vv(fe,Me,et){return et&&typeof et!="number"&&Xn(fe,Me,et)&&(Me=et=oe),et=et===oe?b:et>>>0,et?(fe=ao(fe),fe&&(typeof Me=="string"||Me!=null&&!Xd(Me))&&(Me=Ja(Me),!Me&&Wl(fe))?_o(Vs(fe),0,et):fe.split(Me,et)):[]}var Hf=fc(function(fe,Me,et){return fe+(et?" ":"")+qd(Me)});function p0(fe,Me,et){return fe=ao(fe),et=et==null?0:As(zi(et),0,fe.length),Me=Ja(Me),fe.slice(et,et+Me.length)==Me}function Jg(fe,Me,et){var zt=Cr.templateSettings;et&&Xn(fe,Me,et)&&(Me=oe),fe=ao(fe),Me=sd({},Me,zt,Vc);var sr=sd({},Me.imports,zt.imports,Vc),zr=ts(sr),ln=fs(sr,zr),yn,Dn,fa=0,sa=Me.interpolate||$t,wa="__p += '",Za=cl((Me.escape||$t).source+"|"+sa.source+"|"+(sa===at?xt:$t).source+"|"+(Me.evaluate||$t).source+"|$","g"),Ha="//# sourceURL="+(Yi.call(Me,"sourceURL")?(Me.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Er+"]")+`
`;fe.replace(Za,function(ci,Zi,Ji,ru,Tl,Cu){return Ji||(Ji=ru),wa+=fe.slice(fa,Cu).replace(tr,Gl),Zi&&(yn=!0,wa+=`' +
__e(`+Zi+`) +
'`),Tl&&(Dn=!0,wa+=`';
`+Tl+`;
__p += '`),Ji&&(wa+=`' +
((__t = (`+Ji+`)) == null ? '' : __t) +
'`),fa=Cu+ci.length,ci}),wa+=`';
`;var fi=Yi.call(Me,"variable")&&Me.variable;if(!fi)wa=`with (obj) {
`+wa+`
}
`;else if(nt.test(fi))throw new si(U);wa=(Dn?wa.replace(ut,""):wa).replace(ht,"$1").replace(rt,"$1;"),wa="function("+(fi||"obj")+`) {
`+(fi?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(yn?", __e = _.escape":"")+(Dn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+wa+`return __p
}`;var qa=Nh(function(){return Ri(zr,Ha+"return "+wa).apply(oe,ln)});if(qa.source=wa,l0(qa))throw qa;return qa}function $g(fe){return ao(fe).toLowerCase()}function Ax(fe){return ao(fe).toUpperCase()}function Qg(fe,Me,et){if(fe=ao(fe),fe&&(et||Me===oe))return Uo(fe);if(!fe||!(Me=Ja(Me)))return fe;var zt=Vs(fe),sr=Vs(Me),zr=cs(zt,sr),ln=th(zt,sr)+1;return _o(zt,zr,ln).join("")}function qg(fe,Me,et){if(fe=ao(fe),fe&&(et||Me===oe))return fe.slice(0,Xl(fe)+1);if(!fe||!(Me=Ja(Me)))return fe;var zt=Vs(fe),sr=th(zt,Vs(Me))+1;return _o(zt,0,sr).join("")}function ey(fe,Me,et){if(fe=ao(fe),fe&&(et||Me===oe))return fe.replace(be,"");if(!fe||!(Me=Ja(Me)))return fe;var zt=Vs(fe),sr=cs(zt,Vs(Me));return _o(zt,sr).join("")}function ty(fe,Me){var et=c,zt=i;if(es(Me)){var sr="separator"in Me?Me.separator:sr;et="length"in Me?zi(Me.length):et,zt="omission"in Me?Ja(Me.omission):zt}fe=ao(fe);var zr=fe.length;if(Wl(fe)){var ln=Vs(fe);zr=ln.length}if(et>=zr)return fe;var yn=et-ou(zt);if(yn<1)return zt;var Dn=ln?_o(ln,0,yn).join(""):fe.slice(0,yn);if(sr===oe)return Dn+zt;if(ln&&(yn+=Dn.length-yn),Xd(sr)){if(fe.slice(yn).search(sr)){var fa,sa=Dn;for(sr.global||(sr=cl(sr.source,ao(Kt.exec(sr))+"g")),sr.lastIndex=0;fa=sr.exec(sa);)var wa=fa.index;Dn=Dn.slice(0,wa===oe?yn:wa)}}else if(fe.indexOf(Ja(sr),yn)!=yn){var Za=Dn.lastIndexOf(sr);Za>-1&&(Dn=Dn.slice(0,Za))}return Dn+zt}function Mx(fe){return fe=ao(fe),fe&&pt.test(fe)?fe.replace(tt,Uu):fe}var Sx=fc(function(fe,Me,et){return fe+(et?" ":"")+Me.toUpperCase()}),qd=Qh("toUpperCase");function g0(fe,Me,et){return fe=ao(fe),Me=et?oe:Me,Me===oe?rh(fe)?ah(fe):Sc(fe):fe.match(Me)||[]}var Nh=Rn(function(fe,Me){try{return _n(fe,oe,Me)}catch(et){return l0(et)?et:new si(et)}}),ry=Nf(function(fe,Me){return In(Me,function(et){et=qo(et),Gs(fe,et,i0(fe[et],fe))}),fe});function ep(fe){var Me=fe==null?0:fe.length,et=te();return fe=Me?Ra(fe,function(zt){if(typeof zt[1]!="function")throw new xs(H);return[et(zt[0]),zt[1]]}):[],Rn(function(zt){for(var sr=-1;++sr<Me;){var zr=fe[sr];if(_n(zr[0],this,zt))return _n(zr[1],this,zt)}})}function ny(fe){return If(Ms(fe,n))}function dv(fe){return function(){return fe}}function tp(fe,Me){return fe==null||fe!==fe?Me:fe}var Ex=tl(),rp=tl(!0);function Os(fe){return fe}function y0(fe){return Ne(typeof fe=="function"?fe:Ms(fe,n))}function Cx(fe){return Et(Ms(fe,n))}function Lx(fe,Me){return Xt(fe,Ms(Me,n))}var pv=Rn(function(fe,Me){return function(et){return Nn(et,fe,Me)}}),_x=Rn(function(fe,Me){return function(et){return Nn(fe,et,Me)}});function m0(fe,Me,et){var zt=ts(Me),sr=kt(Me,zt);et==null&&!(es(Me)&&(sr.length||!zt.length))&&(et=Me,Me=fe,fe=this,sr=kt(Me,ts(Me)));var zr=!(es(et)&&"chain"in et)||!!et.chain,ln=Wc(fe);return In(sr,function(yn){var Dn=Me[yn];fe[yn]=Dn,ln&&(fe.prototype[yn]=function(){var fa=this.__chain__;if(zr||fa){var sa=fe(this.__wrapped__),wa=sa.__actions__=Es(this.__actions__);return wa.push({func:Dn,args:arguments,thisArg:fe}),sa.__chain__=fa,sa}return Dn.apply(fe,Pi([this.value()],arguments))})}),fe}function gv(){return Sr._===this&&(Sr._=Wu),this}function cd(){}function ay(fe){return fe=zi(fe),Rn(function(Me){return Ir(Me,fe)})}var Px=cc(Ra),x0=cc(Kn),Rx=cc(is);function yv(fe){return ta(fe)?Hl(qo(fe)):Br(fe)}function bh(fe){return function(Me){return fe==null?oe:Ht(fe,Me)}}var iy=hh(),oy=hh(!0);function b0(){return[]}function w0(){return!1}function Dx(){return{}}function Ix(){return""}function np(){return!0}function T0(fe,Me){if(fe=zi(fe),fe<1||fe>w)return[];var et=b,zt=oo(fe,b);Me=te(Me),fe-=b;for(var sr=Lo(zt,Me);++et<fe;)Me(et);return sr}function kx(fe){return _i(fe)?Ra(fe,qo):Su(fe)?[fe]:Es(Qo(ao(fe)))}function mv(fe){var Me=++Gu;return ao(fe)+Me}var hd=Uc(function(fe,Me){return fe+Me},0),ro=ev("ceil"),Ox=Uc(function(fe,Me){return fe/Me},1),zx=ev("floor");function Fx(fe){return fe&&fe.length?af(fe,Os,ur):oe}function A0(fe,Me){return fe&&fe.length?af(fe,te(Me,2),ur):oe}function xv(fe){return os(fe,Os)}function Nx(fe,Me){return os(fe,te(Me,2))}function Bx(fe){return fe&&fe.length?af(fe,Os,ft):oe}function Ux(fe,Me){return fe&&fe.length?af(fe,te(Me,2),ft):oe}var Vx=Uc(function(fe,Me){return fe*Me},1),Hx=ev("round"),Gx=Uc(function(fe,Me){return fe-Me},0);function Wx(fe){return fe&&fe.length?xo(fe,Os):0}function Yx(fe,Me){return fe&&fe.length?xo(fe,te(Me,2)):0}return Cr.after=w1,Cr.ary=Wd,Cr.assign=co,Cr.assignIn=Kd,Cr.assignInWith=sd,Cr.assignWith=$1,Cr.at=Bg,Cr.before=Yd,Cr.bind=i0,Cr.bindAll=ry,Cr.bindKey=ff,Cr.castArray=R1,Cr.chain=xg,Cr.chunk=Hc,Cr.compact=lf,Cr.concat=rl,Cr.cond=ep,Cr.conforms=ny,Cr.constant=dv,Cr.countBy=h1,Cr.create=Q1,Cr.curry=Sg,Cr.curryRight=Eg,Cr.debounce=Cg,Cr.defaults=Yc,Cr.defaultsDeep=fv,Cr.defer=T1,Cr.delay=A1,Cr.difference=uf,Cr.differenceBy=yl,Cr.differenceWith=nl,Cr.drop=Au,Cr.dropRight=Bf,Cr.dropRightWhile=Mu,Cr.dropWhile=rv,Cr.fill=vh,Cr.filter=d1,Cr.flatMap=r0,Cr.flatMapDeep=y1,Cr.flatMapDepth=ov,Cr.flatten=dh,Cr.flattenDeep=Xs,Cr.flattenDepth=ph,Cr.flip=M1,Cr.flow=Ex,Cr.flowRight=rp,Cr.fromPairs=nv,Cr.functions=ax,Cr.functionsIn=ix,Cr.groupBy=Ud,Cr.initial=gh,Cr.intersection=yh,Cr.intersectionBy=Bo,Cr.intersectionWith=ml,Cr.invert=sx,Cr.invertBy=lx,Cr.invokeMap=Vd,Cr.iteratee=y0,Cr.keyBy=Hd,Cr.keys=ts,Cr.keysIn=kl,Cr.map=Gd,Cr.mapKeys=ux,Cr.mapValues=fx,Cr.matches=Cx,Cr.matchesProperty=Lx,Cr.memoize=nd,Cr.merge=cx,Cr.mergeWith=$d,Cr.method=pv,Cr.methodOf=_x,Cr.mixin=m0,Cr.negate=Gc,Cr.nthArg=ay,Cr.omit=hx,Cr.omitBy=vx,Cr.once=S1,Cr.orderBy=ed,Cr.over=Px,Cr.overArgs=E1,Cr.overEvery=x0,Cr.overSome=Rx,Cr.partial=o0,Cr.partialRight=Lg,Cr.partition=m1,Cr.pick=dx,Cr.pickBy=Vg,Cr.property=yv,Cr.propertyOf=bh,Cr.pull=jp,Cr.pullAll=mh,Cr.pullAllBy=Kp,Cr.pullAllWith=iv,Cr.pullAt=Jp,Cr.range=iy,Cr.rangeRight=oy,Cr.rearg=_g,Cr.reject=td,Cr.remove=$p,Cr.rest=Pg,Cr.reverse=Oh,Cr.sampleSize=a0,Cr.set=Gg,Cr.setWith=Ol,Cr.shuffle=x1,Cr.slice=Hm,Cr.sortBy=b1,Cr.sortedUniq=Nd,Cr.sortedUniqBy=Km,Cr.split=vv,Cr.spread=C1,Cr.tail=Jm,Cr.take=$m,Cr.takeRight=Qm,Cr.takeRightWhile=dg,Cr.takeWhile=qm,Cr.tap=Bd,Cr.throttle=L1,Cr.thru=Qv,Cr.toArray=Fg,Cr.toPairs=ld,Cr.toPairsIn=cv,Cr.toPath=kx,Cr.toPlainObject=Ng,Cr.transform=ud,Cr.unary=_1,Cr.union=pg,Cr.unionBy=Qp,Cr.unionWith=gg,Cr.uniq=qp,Cr.uniqBy=zh,Cr.uniqWith=bl,Cr.unset=tu,Cr.unzip=e0,Cr.unzipWith=yg,Cr.update=fd,Cr.updateWith=px,Cr.values=Fh,Cr.valuesIn=Wg,Cr.without=mg,Cr.words=g0,Cr.wrap=P1,Cr.xor=e1,Cr.xorBy=t1,Cr.xorWith=r1,Cr.zip=n1,Cr.zipObject=a1,Cr.zipObjectDeep=i1,Cr.zipWith=t0,Cr.entries=ld,Cr.entriesIn=cv,Cr.extend=Kd,Cr.extendWith=sd,m0(Cr,Cr),Cr.add=hd,Cr.attempt=Nh,Cr.camelCase=Qd,Cr.capitalize=Vf,Cr.ceil=ro,Cr.clamp=hv,Cr.clone=D1,Cr.cloneDeep=k1,Cr.cloneDeepWith=lv,Cr.cloneWith=I1,Cr.conformsTo=O1,Cr.deburr=wl,Cr.defaultTo=tp,Cr.divide=Ox,Cr.endsWith=Yg,Cr.eq=Uf,Cr.escape=yx,Cr.escapeRegExp=Xg,Cr.every=v1,Cr.find=p1,Cr.findIndex=ls,Cr.findKey=q1,Cr.findLast=g1,Cr.findLastIndex=Ih,Cr.findLastKey=ex,Cr.floor=zx,Cr.forEach=bg,Cr.forEachRight=Xo,Cr.forIn=tx,Cr.forInRight=Ug,Cr.forOwn=rx,Cr.forOwnRight=nx,Cr.get=c0,Cr.gt=s0,Cr.gte=ad,Cr.has=ox,Cr.hasIn=h0,Cr.head=kh,Cr.identity=Os,Cr.includes=wg,Cr.indexOf=av,Cr.inRange=Zs,Cr.invoke=Jd,Cr.isArguments=il,Cr.isArray=_i,Cr.isArrayBuffer=z1,Cr.isArrayLike=eu,Cr.isArrayLikeObject=vs,Cr.isBoolean=F1,Cr.isBuffer=cf,Cr.isDate=Rg,Cr.isElement=N1,Cr.isEmpty=B1,Cr.isEqual=U1,Cr.isEqualWith=V1,Cr.isError=l0,Cr.isFinite=H1,Cr.isFunction=Wc,Cr.isInteger=Dg,Cr.isLength=id,Cr.isMap=Ig,Cr.isMatch=G1,Cr.isMatchWith=kg,Cr.isNaN=Og,Cr.isNative=ol,Cr.isNil=Y1,Cr.isNull=W1,Cr.isNumber=u0,Cr.isObject=es,Cr.isObjectLike=us,Cr.isPlainObject=od,Cr.isRegExp=Xd,Cr.isSafeInteger=X1,Cr.isSet=f0,Cr.isString=Zd,Cr.isSymbol=Su,Cr.isTypedArray=uv,Cr.isUndefined=Z1,Cr.isWeakMap=zg,Cr.isWeakSet=j1,Cr.join=xl,Cr.kebabCase=mx,Cr.last=al,Cr.lastIndexOf=$v,Cr.lowerCase=Zg,Cr.lowerFirst=jg,Cr.lt=K1,Cr.lte=J1,Cr.max=Fx,Cr.maxBy=A0,Cr.mean=xv,Cr.meanBy=Nx,Cr.min=Bx,Cr.minBy=Ux,Cr.stubArray=b0,Cr.stubFalse=w0,Cr.stubObject=Dx,Cr.stubString=Ix,Cr.stubTrue=np,Cr.multiply=Vx,Cr.nth=Zp,Cr.noConflict=gv,Cr.noop=cd,Cr.now=sv,Cr.pad=v0,Cr.padEnd=d0,Cr.padStart=xx,Cr.parseInt=bx,Cr.random=gx,Cr.reduce=Tg,Cr.reduceRight=Ag,Cr.repeat=wx,Cr.replace=Tx,Cr.result=Hg,Cr.round=Hx,Cr.runInContext=En,Cr.sample=n0,Cr.size=Mg,Cr.snakeCase=Kg,Cr.some=rd,Cr.sortedIndex=Gm,Cr.sortedIndexBy=Wm,Cr.sortedIndexOf=Ym,Cr.sortedLastIndex=Xm,Cr.sortedLastIndexBy=Zm,Cr.sortedLastIndexOf=jm,Cr.startCase=Hf,Cr.startsWith=p0,Cr.subtract=Gx,Cr.sum=Wx,Cr.sumBy=Yx,Cr.template=Jg,Cr.times=T0,Cr.toFinite=Eu,Cr.toInteger=zi,Cr.toLength=ds,Cr.toLower=$g,Cr.toNumber=hf,Cr.toSafeInteger=jd,Cr.toString=ao,Cr.toUpper=Ax,Cr.trim=Qg,Cr.trimEnd=qg,Cr.trimStart=ey,Cr.truncate=ty,Cr.unescape=Mx,Cr.uniqueId=mv,Cr.upperCase=Sx,Cr.upperFirst=qd,Cr.each=bg,Cr.eachRight=Xo,Cr.first=kh,m0(Cr,function(){var fe={};return At(Cr,function(Me,et){Yi.call(Cr.prototype,et)||(fe[et]=Me)}),fe}(),{chain:!1}),Cr.VERSION=we,In(["bind","bindKey","curry","curryRight","partial","partialRight"],function(fe){Cr[fe].placeholder=Cr}),In(["drop","take"],function(fe,Me){pi.prototype[fe]=function(et){et=et===oe?1:io(zi(et),0);var zt=this.__filtered__&&!Me?new pi(this):this.clone();return zt.__filtered__?zt.__takeCount__=oo(et,zt.__takeCount__):zt.__views__.push({size:oo(et,b),type:fe+(zt.__dir__<0?"Right":"")}),zt},pi.prototype[fe+"Right"]=function(et){return this.reverse()[fe](et).reverse()}}),In(["filter","map","takeWhile"],function(fe,Me){var et=Me+1,zt=et==A||et==y;pi.prototype[fe]=function(sr){var zr=this.clone();return zr.__iteratees__.push({iteratee:te(sr,3),type:et}),zr.__filtered__=zr.__filtered__||zt,zr}}),In(["head","last"],function(fe,Me){var et="take"+(Me?"Right":"");pi.prototype[fe]=function(){return this[et](1).value()[0]}}),In(["initial","tail"],function(fe,Me){var et="drop"+(Me?"":"Right");pi.prototype[fe]=function(){return this.__filtered__?new pi(this):this[et](1)}}),pi.prototype.compact=function(){return this.filter(Os)},pi.prototype.find=function(fe){return this.filter(fe).head()},pi.prototype.findLast=function(fe){return this.reverse().find(fe)},pi.prototype.invokeMap=Rn(function(fe,Me){return typeof fe=="function"?new pi(this):this.map(function(et){return Nn(et,fe,Me)})}),pi.prototype.reject=function(fe){return this.filter(Gc(te(fe)))},pi.prototype.slice=function(fe,Me){fe=zi(fe);var et=this;return et.__filtered__&&(fe>0||Me<0)?new pi(et):(fe<0?et=et.takeRight(-fe):fe&&(et=et.drop(fe)),Me!==oe&&(Me=zi(Me),et=Me<0?et.dropRight(-Me):et.take(Me-fe)),et)},pi.prototype.takeRightWhile=function(fe){return this.reverse().takeWhile(fe).reverse()},pi.prototype.toArray=function(){return this.take(b)},At(pi.prototype,function(fe,Me){var et=/^(?:filter|find|map|reject)|While$/.test(Me),zt=/^(?:head|last)$/.test(Me),sr=Cr[zt?"take"+(Me=="last"?"Right":""):Me],zr=zt||/^find/.test(Me);sr&&(Cr.prototype[Me]=function(){var ln=this.__wrapped__,yn=zt?[1]:arguments,Dn=ln instanceof pi,fa=yn[0],sa=Dn||_i(ln),wa=function(Zi){var Ji=sr.apply(Cr,Pi([Zi],yn));return zt&&Za?Ji[0]:Ji};sa&&et&&typeof fa=="function"&&fa.length!=1&&(Dn=sa=!1);var Za=this.__chain__,Ha=!!this.__actions__.length,fi=zr&&!Za,qa=Dn&&!Ha;if(!zr&&sa){ln=qa?ln:new pi(this);var ci=fe.apply(ln,yn);return ci.__actions__.push({func:Qv,args:[wa],thisArg:oe}),new So(ci,Za)}return fi&&qa?fe.apply(this,yn):(ci=this.thru(wa),fi?zt?ci.value()[0]:ci.value():ci)})}),In(["pop","push","shift","sort","splice","unshift"],function(fe){var Me=El[fe],et=/^(?:push|sort|unshift)$/.test(fe)?"tap":"thru",zt=/^(?:pop|shift)$/.test(fe);Cr.prototype[fe]=function(){var sr=arguments;if(zt&&!this.__chain__){var zr=this.value();return Me.apply(_i(zr)?zr:[],sr)}return this[et](function(ln){return Me.apply(_i(ln)?ln:[],sr)})}}),At(pi.prototype,function(fe,Me){var et=Cr[Me];if(et){var zt=et.name+"";Yi.call(bo,zt)||(bo[zt]=[]),bo[zt].push({name:Me,func:et})}}),bo[Ql(oe,t).name]=[{name:"wrapper",func:oe}],pi.prototype.clone=$u,pi.prototype.reverse=ac,pi.prototype.value=du,Cr.prototype.at=xh,Cr.prototype.chain=qv,Cr.prototype.commit=o1,Cr.prototype.next=s1,Cr.prototype.plant=u1,Cr.prototype.reverse=f1,Cr.prototype.toJSON=Cr.prototype.valueOf=Cr.prototype.value=c1,Cr.prototype.first=Cr.prototype.head,Ui&&(Cr.prototype[Ui]=l1),Cr},Vu=Sl();Lr?((Lr.exports=Vu)._=Vu,Hr._=Vu):Sr._=Vu}).call(P0)})(nm,nm.exports);var X7=nm.exports;const _u=OA(X7);class kd extends Error{}class Z7 extends kd{constructor(V){super(`Invalid DateTime: ${V.toMessage()}`)}}class j7 extends kd{constructor(V){super(`Invalid Interval: ${V.toMessage()}`)}}class K7 extends kd{constructor(V){super(`Invalid Duration: ${V.toMessage()}`)}}class yp extends kd{}class zA extends kd{constructor(V){super(`Invalid unit ${V}`)}}class pf extends kd{}class Cv extends kd{constructor(){super("Zone is an abstract class")}}const ja="numeric",qc="short",Zf="long",am={year:ja,month:ja,day:ja},FA={year:ja,month:qc,day:ja},J7={year:ja,month:qc,day:ja,weekday:qc},NA={year:ja,month:Zf,day:ja},BA={year:ja,month:Zf,day:ja,weekday:Zf},UA={hour:ja,minute:ja},VA={hour:ja,minute:ja,second:ja},HA={hour:ja,minute:ja,second:ja,timeZoneName:qc},GA={hour:ja,minute:ja,second:ja,timeZoneName:Zf},WA={hour:ja,minute:ja,hourCycle:"h23"},YA={hour:ja,minute:ja,second:ja,hourCycle:"h23"},XA={hour:ja,minute:ja,second:ja,hourCycle:"h23",timeZoneName:qc},ZA={hour:ja,minute:ja,second:ja,hourCycle:"h23",timeZoneName:Zf},jA={year:ja,month:ja,day:ja,hour:ja,minute:ja},KA={year:ja,month:ja,day:ja,hour:ja,minute:ja,second:ja},JA={year:ja,month:qc,day:ja,hour:ja,minute:ja},$A={year:ja,month:qc,day:ja,hour:ja,minute:ja,second:ja},$7={year:ja,month:qc,day:ja,weekday:qc,hour:ja,minute:ja},QA={year:ja,month:Zf,day:ja,hour:ja,minute:ja,timeZoneName:qc},qA={year:ja,month:Zf,day:ja,hour:ja,minute:ja,second:ja,timeZoneName:qc},e5={year:ja,month:Zf,day:ja,weekday:Zf,hour:ja,minute:ja,timeZoneName:Zf},t5={year:ja,month:Zf,day:ja,weekday:Zf,hour:ja,minute:ja,second:ja,timeZoneName:Zf};class fg{get type(){throw new Cv}get name(){throw new Cv}get ianaName(){return this.name}get isUniversal(){throw new Cv}offsetName(V,oe){throw new Cv}formatOffset(V,oe){throw new Cv}offset(V){throw new Cv}equals(V){throw new Cv}get isValid(){throw new Cv}}let Tb=null;class Fm extends fg{static get instance(){return Tb===null&&(Tb=new Fm),Tb}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(V,{format:oe,locale:we}){return f5(V,oe,we)}formatOffset(V,oe){return G0(this.offset(V),oe)}offset(V){return-new Date(V).getTimezoneOffset()}equals(V){return V.type==="system"}get isValid(){return!0}}let Hy={};function Q7(K){return Hy[K]||(Hy[K]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:K,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Hy[K]}const q7={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function eP(K,V){const oe=K.format(V).replace(/\u200E/g,""),we=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(oe),[,Ue,it,H,U,e,p,L]=we;return[H,Ue,it,U,e,p,L]}function tP(K,V){const oe=K.formatToParts(V),we=[];for(let Ue=0;Ue<oe.length;Ue++){const{type:it,value:H}=oe[Ue],U=q7[it];it==="era"?we[U]=H:Di(U)||(we[U]=parseInt(H,10))}return we}let Sy={};class Kh extends fg{static create(V){return Sy[V]||(Sy[V]=new Kh(V)),Sy[V]}static resetCache(){Sy={},Hy={}}static isValidSpecifier(V){return this.isValidZone(V)}static isValidZone(V){if(!V)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:V}).format(),!0}catch{return!1}}constructor(V){super(),this.zoneName=V,this.valid=Kh.isValidZone(V)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(V,{format:oe,locale:we}){return f5(V,oe,we,this.name)}formatOffset(V,oe){return G0(this.offset(V),oe)}offset(V){const oe=new Date(V);if(isNaN(oe))return NaN;const we=Q7(this.name);let[Ue,it,H,U,e,p,L]=we.formatToParts?tP(we,oe):eP(we,oe);U==="BC"&&(Ue=-Math.abs(Ue)+1);const C=Bm({year:Ue,month:it,day:H,hour:e===24?0:e,minute:p,second:L,millisecond:0});let T=+oe;const v=T%1e3;return T-=v>=0?v:1e3+v,(C-T)/(60*1e3)}equals(V){return V.type==="iana"&&V.name===this.name}get isValid(){return this.valid}}let H2={};function rP(K,V={}){const oe=JSON.stringify([K,V]);let we=H2[oe];return we||(we=new Intl.ListFormat(K,V),H2[oe]=we),we}let t3={};function r3(K,V={}){const oe=JSON.stringify([K,V]);let we=t3[oe];return we||(we=new Intl.DateTimeFormat(K,V),t3[oe]=we),we}let n3={};function nP(K,V={}){const oe=JSON.stringify([K,V]);let we=n3[oe];return we||(we=new Intl.NumberFormat(K,V),n3[oe]=we),we}let a3={};function aP(K,V={}){const{base:oe,...we}=V,Ue=JSON.stringify([K,we]);let it=a3[Ue];return it||(it=new Intl.RelativeTimeFormat(K,V),a3[Ue]=it),it}let k0=null;function iP(){return k0||(k0=new Intl.DateTimeFormat().resolvedOptions().locale,k0)}let G2={};function oP(K){let V=G2[K];if(!V){const oe=new Intl.Locale(K);V="getWeekInfo"in oe?oe.getWeekInfo():oe.weekInfo,G2[K]=V}return V}function sP(K){const V=K.indexOf("-x-");V!==-1&&(K=K.substring(0,V));const oe=K.indexOf("-u-");if(oe===-1)return[K];{let we,Ue;try{we=r3(K).resolvedOptions(),Ue=K}catch{const e=K.substring(0,oe);we=r3(e).resolvedOptions(),Ue=e}const{numberingSystem:it,calendar:H}=we;return[Ue,it,H]}}function lP(K,V,oe){return(oe||V)&&(K.includes("-u-")||(K+="-u"),oe&&(K+=`-ca-${oe}`),V&&(K+=`-nu-${V}`)),K}function uP(K){const V=[];for(let oe=1;oe<=12;oe++){const we=Fi.utc(2009,oe,1);V.push(K(we))}return V}function fP(K){const V=[];for(let oe=1;oe<=7;oe++){const we=Fi.utc(2016,11,13+oe);V.push(K(we))}return V}function Ey(K,V,oe,we){const Ue=K.listingMode();return Ue==="error"?null:Ue==="en"?oe(V):we(V)}function cP(K){return K.numberingSystem&&K.numberingSystem!=="latn"?!1:K.numberingSystem==="latn"||!K.locale||K.locale.startsWith("en")||new Intl.DateTimeFormat(K.intl).resolvedOptions().numberingSystem==="latn"}class hP{constructor(V,oe,we){this.padTo=we.padTo||0,this.floor=we.floor||!1;const{padTo:Ue,floor:it,...H}=we;if(!oe||Object.keys(H).length>0){const U={useGrouping:!1,...we};we.padTo>0&&(U.minimumIntegerDigits=we.padTo),this.inf=nP(V,U)}}format(V){if(this.inf){const oe=this.floor?Math.floor(V):V;return this.inf.format(oe)}else{const oe=this.floor?Math.floor(V):J3(V,3);return js(oe,this.padTo)}}}class vP{constructor(V,oe,we){this.opts=we,this.originalZone=void 0;let Ue;if(this.opts.timeZone)this.dt=V;else if(V.zone.type==="fixed"){const H=-1*(V.offset/60),U=H>=0?`Etc/GMT+${H}`:`Etc/GMT${H}`;V.offset!==0&&Kh.create(U).valid?(Ue=U,this.dt=V):(Ue="UTC",this.dt=V.offset===0?V:V.setZone("UTC").plus({minutes:V.offset}),this.originalZone=V.zone)}else V.zone.type==="system"?this.dt=V:V.zone.type==="iana"?(this.dt=V,Ue=V.zone.name):(Ue="UTC",this.dt=V.setZone("UTC").plus({minutes:V.offset}),this.originalZone=V.zone);const it={...this.opts};it.timeZone=it.timeZone||Ue,this.dtf=r3(oe,it)}format(){return this.originalZone?this.formatToParts().map(({value:V})=>V).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const V=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?V.map(oe=>{if(oe.type==="timeZoneName"){const we=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...oe,value:we}}else return oe}):V}resolvedOptions(){return this.dtf.resolvedOptions()}}class dP{constructor(V,oe,we){this.opts={style:"long",...we},!oe&&l5()&&(this.rtf=aP(V,we))}format(V,oe){return this.rtf?this.rtf.format(V,oe):kP(oe,V,this.opts.numeric,this.opts.style!=="long")}formatToParts(V,oe){return this.rtf?this.rtf.formatToParts(V,oe):[]}}const pP={firstDay:1,minimalDays:4,weekend:[6,7]};class ko{static fromOpts(V){return ko.create(V.locale,V.numberingSystem,V.outputCalendar,V.weekSettings,V.defaultToEN)}static create(V,oe,we,Ue,it=!1){const H=V||Bs.defaultLocale,U=H||(it?"en-US":iP()),e=oe||Bs.defaultNumberingSystem,p=we||Bs.defaultOutputCalendar,L=i3(Ue)||Bs.defaultWeekSettings;return new ko(U,e,p,L,H)}static resetCache(){k0=null,t3={},n3={},a3={}}static fromObject({locale:V,numberingSystem:oe,outputCalendar:we,weekSettings:Ue}={}){return ko.create(V,oe,we,Ue)}constructor(V,oe,we,Ue,it){const[H,U,e]=sP(V);this.locale=H,this.numberingSystem=oe||U||null,this.outputCalendar=we||e||null,this.weekSettings=Ue,this.intl=lP(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=it,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=cP(this)),this.fastNumbersCached}listingMode(){const V=this.isEnglish(),oe=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return V&&oe?"en":"intl"}clone(V){return!V||Object.getOwnPropertyNames(V).length===0?this:ko.create(V.locale||this.specifiedLocale,V.numberingSystem||this.numberingSystem,V.outputCalendar||this.outputCalendar,i3(V.weekSettings)||this.weekSettings,V.defaultToEN||!1)}redefaultToEN(V={}){return this.clone({...V,defaultToEN:!0})}redefaultToSystem(V={}){return this.clone({...V,defaultToEN:!1})}months(V,oe=!1){return Ey(this,V,v5,()=>{const we=oe?{month:V,day:"numeric"}:{month:V},Ue=oe?"format":"standalone";return this.monthsCache[Ue][V]||(this.monthsCache[Ue][V]=uP(it=>this.extract(it,we,"month"))),this.monthsCache[Ue][V]})}weekdays(V,oe=!1){return Ey(this,V,g5,()=>{const we=oe?{weekday:V,year:"numeric",month:"long",day:"numeric"}:{weekday:V},Ue=oe?"format":"standalone";return this.weekdaysCache[Ue][V]||(this.weekdaysCache[Ue][V]=fP(it=>this.extract(it,we,"weekday"))),this.weekdaysCache[Ue][V]})}meridiems(){return Ey(this,void 0,()=>y5,()=>{if(!this.meridiemCache){const V={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Fi.utc(2016,11,13,9),Fi.utc(2016,11,13,19)].map(oe=>this.extract(oe,V,"dayperiod"))}return this.meridiemCache})}eras(V){return Ey(this,V,m5,()=>{const oe={era:V};return this.eraCache[V]||(this.eraCache[V]=[Fi.utc(-40,1,1),Fi.utc(2017,1,1)].map(we=>this.extract(we,oe,"era"))),this.eraCache[V]})}extract(V,oe,we){const Ue=this.dtFormatter(V,oe),it=Ue.formatToParts(),H=it.find(U=>U.type.toLowerCase()===we);return H?H.value:null}numberFormatter(V={}){return new hP(this.intl,V.forceSimple||this.fastNumbers,V)}dtFormatter(V,oe={}){return new vP(V,this.intl,oe)}relFormatter(V={}){return new dP(this.intl,this.isEnglish(),V)}listFormatter(V={}){return rP(this.intl,V)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:u5()?oP(this.locale):pP}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(V){return this.locale===V.locale&&this.numberingSystem===V.numberingSystem&&this.outputCalendar===V.outputCalendar}}let Ab=null;class Ru extends fg{static get utcInstance(){return Ab===null&&(Ab=new Ru(0)),Ab}static instance(V){return V===0?Ru.utcInstance:new Ru(V)}static parseSpecifier(V){if(V){const oe=V.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(oe)return new Ru(Um(oe[1],oe[2]))}return null}constructor(V){super(),this.fixed=V}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${G0(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${G0(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(V,oe){return G0(this.fixed,oe)}get isUniversal(){return!0}offset(){return this.fixed}equals(V){return V.type==="fixed"&&V.fixed===this.fixed}get isValid(){return!0}}class gP extends fg{constructor(V){super(),this.zoneName=V}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ov(K,V){if(Di(K)||K===null)return V;if(K instanceof fg)return K;if(xP(K)){const oe=K.toLowerCase();return oe==="default"?V:oe==="local"||oe==="system"?Fm.instance:oe==="utc"||oe==="gmt"?Ru.utcInstance:Ru.parseSpecifier(oe)||Kh.create(K)}else return Cd(K)?Ru.instance(K):typeof K=="object"&&"offset"in K&&typeof K.offset=="function"?K:new gP(K)}let W2=()=>Date.now(),Y2="system",X2=null,Z2=null,j2=null,K2=60,J2,$2=null;class Bs{static get now(){return W2}static set now(V){W2=V}static set defaultZone(V){Y2=V}static get defaultZone(){return Ov(Y2,Fm.instance)}static get defaultLocale(){return X2}static set defaultLocale(V){X2=V}static get defaultNumberingSystem(){return Z2}static set defaultNumberingSystem(V){Z2=V}static get defaultOutputCalendar(){return j2}static set defaultOutputCalendar(V){j2=V}static get defaultWeekSettings(){return $2}static set defaultWeekSettings(V){$2=i3(V)}static get twoDigitCutoffYear(){return K2}static set twoDigitCutoffYear(V){K2=V%100}static get throwOnInvalid(){return J2}static set throwOnInvalid(V){J2=V}static resetCaches(){ko.resetCache(),Kh.resetCache()}}class Jc{constructor(V,oe){this.reason=V,this.explanation=oe}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const r5=[0,31,59,90,120,151,181,212,243,273,304,334],n5=[0,31,60,91,121,152,182,213,244,274,305,335];function mc(K,V){return new Jc("unit out of range",`you specified ${V} (of type ${typeof V}) as a ${K}, which is invalid`)}function Z3(K,V,oe){const we=new Date(Date.UTC(K,V-1,oe));K<100&&K>=0&&we.setUTCFullYear(we.getUTCFullYear()-1900);const Ue=we.getUTCDay();return Ue===0?7:Ue}function a5(K,V,oe){return oe+(cg(K)?n5:r5)[V-1]}function i5(K,V){const oe=cg(K)?n5:r5,we=oe.findIndex(it=>it<V),Ue=V-oe[we];return{month:we+1,day:Ue}}function j3(K,V){return(K-V+7)%7+1}function im(K,V=4,oe=1){const{year:we,month:Ue,day:it}=K,H=a5(we,Ue,it),U=j3(Z3(we,Ue,it),oe);let e=Math.floor((H-U+14-V)/7),p;return e<1?(p=we-1,e=eg(p,V,oe)):e>eg(we,V,oe)?(p=we+1,e=1):p=we,{weekYear:p,weekNumber:e,weekday:U,...Vm(K)}}function Q2(K,V=4,oe=1){const{weekYear:we,weekNumber:Ue,weekday:it}=K,H=j3(Z3(we,1,V),oe),U=Ap(we);let e=Ue*7+it-H-7+V,p;e<1?(p=we-1,e+=Ap(p)):e>U?(p=we+1,e-=Ap(we)):p=we;const{month:L,day:n}=i5(p,e);return{year:p,month:L,day:n,...Vm(K)}}function Mb(K){const{year:V,month:oe,day:we}=K,Ue=a5(V,oe,we);return{year:V,ordinal:Ue,...Vm(K)}}function q2(K){const{year:V,ordinal:oe}=K,{month:we,day:Ue}=i5(V,oe);return{year:V,month:we,day:Ue,...Vm(K)}}function eT(K,V){if(!Di(K.localWeekday)||!Di(K.localWeekNumber)||!Di(K.localWeekYear)){if(!Di(K.weekday)||!Di(K.weekNumber)||!Di(K.weekYear))throw new yp("Cannot mix locale-based week fields with ISO-based week fields");return Di(K.localWeekday)||(K.weekday=K.localWeekday),Di(K.localWeekNumber)||(K.weekNumber=K.localWeekNumber),Di(K.localWeekYear)||(K.weekYear=K.localWeekYear),delete K.localWeekday,delete K.localWeekNumber,delete K.localWeekYear,{minDaysInFirstWeek:V.getMinDaysInFirstWeek(),startOfWeek:V.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function yP(K,V=4,oe=1){const we=Nm(K.weekYear),Ue=xc(K.weekNumber,1,eg(K.weekYear,V,oe)),it=xc(K.weekday,1,7);return we?Ue?it?!1:mc("weekday",K.weekday):mc("week",K.weekNumber):mc("weekYear",K.weekYear)}function mP(K){const V=Nm(K.year),oe=xc(K.ordinal,1,Ap(K.year));return V?oe?!1:mc("ordinal",K.ordinal):mc("year",K.year)}function o5(K){const V=Nm(K.year),oe=xc(K.month,1,12),we=xc(K.day,1,om(K.year,K.month));return V?oe?we?!1:mc("day",K.day):mc("month",K.month):mc("year",K.year)}function s5(K){const{hour:V,minute:oe,second:we,millisecond:Ue}=K,it=xc(V,0,23)||V===24&&oe===0&&we===0&&Ue===0,H=xc(oe,0,59),U=xc(we,0,59),e=xc(Ue,0,999);return it?H?U?e?!1:mc("millisecond",Ue):mc("second",we):mc("minute",oe):mc("hour",V)}function Di(K){return typeof K>"u"}function Cd(K){return typeof K=="number"}function Nm(K){return typeof K=="number"&&K%1===0}function xP(K){return typeof K=="string"}function bP(K){return Object.prototype.toString.call(K)==="[object Date]"}function l5(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function u5(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function wP(K){return Array.isArray(K)?K:[K]}function tT(K,V,oe){if(K.length!==0)return K.reduce((we,Ue)=>{const it=[V(Ue),Ue];return we&&oe(we[0],it[0])===we[0]?we:it},null)[1]}function TP(K,V){return V.reduce((oe,we)=>(oe[we]=K[we],oe),{})}function zp(K,V){return Object.prototype.hasOwnProperty.call(K,V)}function i3(K){if(K==null)return null;if(typeof K!="object")throw new pf("Week settings must be an object");if(!xc(K.firstDay,1,7)||!xc(K.minimalDays,1,7)||!Array.isArray(K.weekend)||K.weekend.some(V=>!xc(V,1,7)))throw new pf("Invalid week settings");return{firstDay:K.firstDay,minimalDays:K.minimalDays,weekend:Array.from(K.weekend)}}function xc(K,V,oe){return Nm(K)&&K>=V&&K<=oe}function AP(K,V){return K-V*Math.floor(K/V)}function js(K,V=2){const oe=K<0;let we;return oe?we="-"+(""+-K).padStart(V,"0"):we=(""+K).padStart(V,"0"),we}function kv(K){if(!(Di(K)||K===null||K===""))return parseInt(K,10)}function gd(K){if(!(Di(K)||K===null||K===""))return parseFloat(K)}function K3(K){if(!(Di(K)||K===null||K==="")){const V=parseFloat("0."+K)*1e3;return Math.floor(V)}}function J3(K,V,oe=!1){const we=10**V;return(oe?Math.trunc:Math.round)(K*we)/we}function cg(K){return K%4===0&&(K%100!==0||K%400===0)}function Ap(K){return cg(K)?366:365}function om(K,V){const oe=AP(V-1,12)+1,we=K+(V-oe)/12;return oe===2?cg(we)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][oe-1]}function Bm(K){let V=Date.UTC(K.year,K.month-1,K.day,K.hour,K.minute,K.second,K.millisecond);return K.year<100&&K.year>=0&&(V=new Date(V),V.setUTCFullYear(K.year,K.month-1,K.day)),+V}function rT(K,V,oe){return-j3(Z3(K,1,V),oe)+V-1}function eg(K,V=4,oe=1){const we=rT(K,V,oe),Ue=rT(K+1,V,oe);return(Ap(K)-we+Ue)/7}function o3(K){return K>99?K:K>Bs.twoDigitCutoffYear?1900+K:2e3+K}function f5(K,V,oe,we=null){const Ue=new Date(K),it={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};we&&(it.timeZone=we);const H={timeZoneName:V,...it},U=new Intl.DateTimeFormat(oe,H).formatToParts(Ue).find(e=>e.type.toLowerCase()==="timezonename");return U?U.value:null}function Um(K,V){let oe=parseInt(K,10);Number.isNaN(oe)&&(oe=0);const we=parseInt(V,10)||0,Ue=oe<0||Object.is(oe,-0)?-we:we;return oe*60+Ue}function c5(K){const V=Number(K);if(typeof K=="boolean"||K===""||Number.isNaN(V))throw new pf(`Invalid unit value ${K}`);return V}function sm(K,V){const oe={};for(const we in K)if(zp(K,we)){const Ue=K[we];if(Ue==null)continue;oe[V(we)]=c5(Ue)}return oe}function G0(K,V){const oe=Math.trunc(Math.abs(K/60)),we=Math.trunc(Math.abs(K%60)),Ue=K>=0?"+":"-";switch(V){case"short":return`${Ue}${js(oe,2)}:${js(we,2)}`;case"narrow":return`${Ue}${oe}${we>0?`:${we}`:""}`;case"techie":return`${Ue}${js(oe,2)}${js(we,2)}`;default:throw new RangeError(`Value format ${V} is out of range for property format`)}}function Vm(K){return TP(K,["hour","minute","second","millisecond"])}const MP=["January","February","March","April","May","June","July","August","September","October","November","December"],h5=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],SP=["J","F","M","A","M","J","J","A","S","O","N","D"];function v5(K){switch(K){case"narrow":return[...SP];case"short":return[...h5];case"long":return[...MP];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const d5=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p5=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],EP=["M","T","W","T","F","S","S"];function g5(K){switch(K){case"narrow":return[...EP];case"short":return[...p5];case"long":return[...d5];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const y5=["AM","PM"],CP=["Before Christ","Anno Domini"],LP=["BC","AD"],_P=["B","A"];function m5(K){switch(K){case"narrow":return[..._P];case"short":return[...LP];case"long":return[...CP];default:return null}}function PP(K){return y5[K.hour<12?0:1]}function RP(K,V){return g5(V)[K.weekday-1]}function DP(K,V){return v5(V)[K.month-1]}function IP(K,V){return m5(V)[K.year<0?0:1]}function kP(K,V,oe="always",we=!1){const Ue={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},it=["hours","minutes","seconds"].indexOf(K)===-1;if(oe==="auto"&&it){const n=K==="days";switch(V){case 1:return n?"tomorrow":`next ${Ue[K][0]}`;case-1:return n?"yesterday":`last ${Ue[K][0]}`;case 0:return n?"today":`this ${Ue[K][0]}`}}const H=Object.is(V,-0)||V<0,U=Math.abs(V),e=U===1,p=Ue[K],L=we?e?p[1]:p[2]||p[1]:e?Ue[K][0]:K;return H?`${U} ${L} ago`:`in ${U} ${L}`}function nT(K,V){let oe="";for(const we of K)we.literal?oe+=we.val:oe+=V(we.val);return oe}const OP={D:am,DD:FA,DDD:NA,DDDD:BA,t:UA,tt:VA,ttt:HA,tttt:GA,T:WA,TT:YA,TTT:XA,TTTT:ZA,f:jA,ff:JA,fff:QA,ffff:e5,F:KA,FF:$A,FFF:qA,FFFF:t5};class iu{static create(V,oe={}){return new iu(V,oe)}static parseFormat(V){let oe=null,we="",Ue=!1;const it=[];for(let H=0;H<V.length;H++){const U=V.charAt(H);U==="'"?(we.length>0&&it.push({literal:Ue||/^\s+$/.test(we),val:we}),oe=null,we="",Ue=!Ue):Ue||U===oe?we+=U:(we.length>0&&it.push({literal:/^\s+$/.test(we),val:we}),we=U,oe=U)}return we.length>0&&it.push({literal:Ue||/^\s+$/.test(we),val:we}),it}static macroTokenToFormatOpts(V){return OP[V]}constructor(V,oe){this.opts=oe,this.loc=V,this.systemLoc=null}formatWithSystemDefault(V,oe){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(V,{...this.opts,...oe}).format()}dtFormatter(V,oe={}){return this.loc.dtFormatter(V,{...this.opts,...oe})}formatDateTime(V,oe){return this.dtFormatter(V,oe).format()}formatDateTimeParts(V,oe){return this.dtFormatter(V,oe).formatToParts()}formatInterval(V,oe){return this.dtFormatter(V.start,oe).dtf.formatRange(V.start.toJSDate(),V.end.toJSDate())}resolvedOptions(V,oe){return this.dtFormatter(V,oe).resolvedOptions()}num(V,oe=0){if(this.opts.forceSimple)return js(V,oe);const we={...this.opts};return oe>0&&(we.padTo=oe),this.loc.numberFormatter(we).format(V)}formatDateTimeFromString(V,oe){const we=this.loc.listingMode()==="en",Ue=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",it=(T,v)=>this.loc.extract(V,T,v),H=T=>V.isOffsetFixed&&V.offset===0&&T.allowZ?"Z":V.isValid?V.zone.formatOffset(V.ts,T.format):"",U=()=>we?PP(V):it({hour:"numeric",hourCycle:"h12"},"dayperiod"),e=(T,v)=>we?DP(V,T):it(v?{month:T}:{month:T,day:"numeric"},"month"),p=(T,v)=>we?RP(V,T):it(v?{weekday:T}:{weekday:T,month:"long",day:"numeric"},"weekday"),L=T=>{const v=iu.macroTokenToFormatOpts(T);return v?this.formatWithSystemDefault(V,v):T},n=T=>we?IP(V,T):it({era:T},"era"),C=T=>{switch(T){case"S":return this.num(V.millisecond);case"u":case"SSS":return this.num(V.millisecond,3);case"s":return this.num(V.second);case"ss":return this.num(V.second,2);case"uu":return this.num(Math.floor(V.millisecond/10),2);case"uuu":return this.num(Math.floor(V.millisecond/100));case"m":return this.num(V.minute);case"mm":return this.num(V.minute,2);case"h":return this.num(V.hour%12===0?12:V.hour%12);case"hh":return this.num(V.hour%12===0?12:V.hour%12,2);case"H":return this.num(V.hour);case"HH":return this.num(V.hour,2);case"Z":return H({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return H({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return H({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return V.zone.offsetName(V.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return V.zone.offsetName(V.ts,{format:"long",locale:this.loc.locale});case"z":return V.zoneName;case"a":return U();case"d":return Ue?it({day:"numeric"},"day"):this.num(V.day);case"dd":return Ue?it({day:"2-digit"},"day"):this.num(V.day,2);case"c":return this.num(V.weekday);case"ccc":return p("short",!0);case"cccc":return p("long",!0);case"ccccc":return p("narrow",!0);case"E":return this.num(V.weekday);case"EEE":return p("short",!1);case"EEEE":return p("long",!1);case"EEEEE":return p("narrow",!1);case"L":return Ue?it({month:"numeric",day:"numeric"},"month"):this.num(V.month);case"LL":return Ue?it({month:"2-digit",day:"numeric"},"month"):this.num(V.month,2);case"LLL":return e("short",!0);case"LLLL":return e("long",!0);case"LLLLL":return e("narrow",!0);case"M":return Ue?it({month:"numeric"},"month"):this.num(V.month);case"MM":return Ue?it({month:"2-digit"},"month"):this.num(V.month,2);case"MMM":return e("short",!1);case"MMMM":return e("long",!1);case"MMMMM":return e("narrow",!1);case"y":return Ue?it({year:"numeric"},"year"):this.num(V.year);case"yy":return Ue?it({year:"2-digit"},"year"):this.num(V.year.toString().slice(-2),2);case"yyyy":return Ue?it({year:"numeric"},"year"):this.num(V.year,4);case"yyyyyy":return Ue?it({year:"numeric"},"year"):this.num(V.year,6);case"G":return n("short");case"GG":return n("long");case"GGGGG":return n("narrow");case"kk":return this.num(V.weekYear.toString().slice(-2),2);case"kkkk":return this.num(V.weekYear,4);case"W":return this.num(V.weekNumber);case"WW":return this.num(V.weekNumber,2);case"n":return this.num(V.localWeekNumber);case"nn":return this.num(V.localWeekNumber,2);case"ii":return this.num(V.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(V.localWeekYear,4);case"o":return this.num(V.ordinal);case"ooo":return this.num(V.ordinal,3);case"q":return this.num(V.quarter);case"qq":return this.num(V.quarter,2);case"X":return this.num(Math.floor(V.ts/1e3));case"x":return this.num(V.ts);default:return L(T)}};return nT(iu.parseFormat(oe),C)}formatDurationFromString(V,oe){const we=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Ue=e=>p=>{const L=we(p);return L?this.num(e.get(L),p.length):p},it=iu.parseFormat(oe),H=it.reduce((e,{literal:p,val:L})=>p?e:e.concat(L),[]),U=V.shiftTo(...H.map(we).filter(e=>e));return nT(it,Ue(U))}}const x5=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Gp(...K){const V=K.reduce((oe,we)=>oe+we.source,"");return RegExp(`^${V}$`)}function Wp(...K){return V=>K.reduce(([oe,we,Ue],it)=>{const[H,U,e]=it(V,Ue);return[{...oe,...H},U||we,e]},[{},null,1]).slice(0,2)}function Yp(K,...V){if(K==null)return[null,null];for(const[oe,we]of V){const Ue=oe.exec(K);if(Ue)return we(Ue)}return[null,null]}function b5(...K){return(V,oe)=>{const we={};let Ue;for(Ue=0;Ue<K.length;Ue++)we[K[Ue]]=kv(V[oe+Ue]);return[we,null,oe+Ue]}}const w5=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,zP=`(?:${w5.source}?(?:\\[(${x5.source})\\])?)?`,$3=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,T5=RegExp(`${$3.source}${zP}`),Q3=RegExp(`(?:T${T5.source})?`),FP=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,NP=/(\d{4})-?W(\d\d)(?:-?(\d))?/,BP=/(\d{4})-?(\d{3})/,UP=b5("weekYear","weekNumber","weekDay"),VP=b5("year","ordinal"),HP=/(\d{4})-(\d\d)-(\d\d)/,A5=RegExp(`${$3.source} ?(?:${w5.source}|(${x5.source}))?`),GP=RegExp(`(?: ${A5.source})?`);function Mp(K,V,oe){const we=K[V];return Di(we)?oe:kv(we)}function WP(K,V){return[{year:Mp(K,V),month:Mp(K,V+1,1),day:Mp(K,V+2,1)},null,V+3]}function Xp(K,V){return[{hours:Mp(K,V,0),minutes:Mp(K,V+1,0),seconds:Mp(K,V+2,0),milliseconds:K3(K[V+3])},null,V+4]}function hg(K,V){const oe=!K[V]&&!K[V+1],we=Um(K[V+1],K[V+2]),Ue=oe?null:Ru.instance(we);return[{},Ue,V+3]}function vg(K,V){const oe=K[V]?Kh.create(K[V]):null;return[{},oe,V+1]}const YP=RegExp(`^T?${$3.source}$`),XP=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ZP(K){const[V,oe,we,Ue,it,H,U,e,p]=K,L=V[0]==="-",n=e&&e[0]==="-",C=(T,v=!1)=>T!==void 0&&(v||T&&L)?-T:T;return[{years:C(gd(oe)),months:C(gd(we)),weeks:C(gd(Ue)),days:C(gd(it)),hours:C(gd(H)),minutes:C(gd(U)),seconds:C(gd(e),e==="-0"),milliseconds:C(K3(p),n)}]}const jP={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function q3(K,V,oe,we,Ue,it,H){const U={year:V.length===2?o3(kv(V)):kv(V),month:h5.indexOf(oe)+1,day:kv(we),hour:kv(Ue),minute:kv(it)};return H&&(U.second=kv(H)),K&&(U.weekday=K.length>3?d5.indexOf(K)+1:p5.indexOf(K)+1),U}const KP=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function JP(K){const[,V,oe,we,Ue,it,H,U,e,p,L,n]=K,C=q3(V,Ue,we,oe,it,H,U);let T;return e?T=jP[e]:p?T=0:T=Um(L,n),[C,new Ru(T)]}function $P(K){return K.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const QP=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,qP=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,e9=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function aT(K){const[,V,oe,we,Ue,it,H,U]=K;return[q3(V,Ue,we,oe,it,H,U),Ru.utcInstance]}function t9(K){const[,V,oe,we,Ue,it,H,U]=K;return[q3(V,U,oe,we,Ue,it,H),Ru.utcInstance]}const r9=Gp(FP,Q3),n9=Gp(NP,Q3),a9=Gp(BP,Q3),i9=Gp(T5),M5=Wp(WP,Xp,hg,vg),o9=Wp(UP,Xp,hg,vg),s9=Wp(VP,Xp,hg,vg),l9=Wp(Xp,hg,vg);function u9(K){return Yp(K,[r9,M5],[n9,o9],[a9,s9],[i9,l9])}function f9(K){return Yp($P(K),[KP,JP])}function c9(K){return Yp(K,[QP,aT],[qP,aT],[e9,t9])}function h9(K){return Yp(K,[XP,ZP])}const v9=Wp(Xp);function d9(K){return Yp(K,[YP,v9])}const p9=Gp(HP,GP),g9=Gp(A5),y9=Wp(Xp,hg,vg);function m9(K){return Yp(K,[p9,M5],[g9,y9])}const iT="Invalid Duration",S5={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},x9={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...S5},gc=146097/400,fp=146097/4800,b9={years:{quarters:4,months:12,weeks:gc/7,days:gc,hours:gc*24,minutes:gc*24*60,seconds:gc*24*60*60,milliseconds:gc*24*60*60*1e3},quarters:{months:3,weeks:gc/28,days:gc/4,hours:gc*24/4,minutes:gc*24*60/4,seconds:gc*24*60*60/4,milliseconds:gc*24*60*60*1e3/4},months:{weeks:fp/7,days:fp,hours:fp*24,minutes:fp*24*60,seconds:fp*24*60*60,milliseconds:fp*24*60*60*1e3},...S5},Ad=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],w9=Ad.slice(0).reverse();function Lv(K,V,oe=!1){const we={values:oe?V.values:{...K.values,...V.values||{}},loc:K.loc.clone(V.loc),conversionAccuracy:V.conversionAccuracy||K.conversionAccuracy,matrix:V.matrix||K.matrix};return new ho(we)}function E5(K,V){let oe=V.milliseconds??0;for(const we of w9.slice(1))V[we]&&(oe+=V[we]*K[we].milliseconds);return oe}function oT(K,V){const oe=E5(K,V)<0?-1:1;Ad.reduceRight((we,Ue)=>{if(Di(V[Ue]))return we;if(we){const it=V[we]*oe,H=K[Ue][we],U=Math.floor(it/H);V[Ue]+=U*oe,V[we]-=U*H*oe}return Ue},null),Ad.reduce((we,Ue)=>{if(Di(V[Ue]))return we;if(we){const it=V[we]%1;V[we]-=it,V[Ue]+=it*K[we][Ue]}return Ue},null)}function T9(K){const V={};for(const[oe,we]of Object.entries(K))we!==0&&(V[oe]=we);return V}class ho{constructor(V){const oe=V.conversionAccuracy==="longterm"||!1;let we=oe?b9:x9;V.matrix&&(we=V.matrix),this.values=V.values,this.loc=V.loc||ko.create(),this.conversionAccuracy=oe?"longterm":"casual",this.invalid=V.invalid||null,this.matrix=we,this.isLuxonDuration=!0}static fromMillis(V,oe){return ho.fromObject({milliseconds:V},oe)}static fromObject(V,oe={}){if(V==null||typeof V!="object")throw new pf(`Duration.fromObject: argument expected to be an object, got ${V===null?"null":typeof V}`);return new ho({values:sm(V,ho.normalizeUnit),loc:ko.fromObject(oe),conversionAccuracy:oe.conversionAccuracy,matrix:oe.matrix})}static fromDurationLike(V){if(Cd(V))return ho.fromMillis(V);if(ho.isDuration(V))return V;if(typeof V=="object")return ho.fromObject(V);throw new pf(`Unknown duration argument ${V} of type ${typeof V}`)}static fromISO(V,oe){const[we]=h9(V);return we?ho.fromObject(we,oe):ho.invalid("unparsable",`the input "${V}" can't be parsed as ISO 8601`)}static fromISOTime(V,oe){const[we]=d9(V);return we?ho.fromObject(we,oe):ho.invalid("unparsable",`the input "${V}" can't be parsed as ISO 8601`)}static invalid(V,oe=null){if(!V)throw new pf("need to specify a reason the Duration is invalid");const we=V instanceof Jc?V:new Jc(V,oe);if(Bs.throwOnInvalid)throw new K7(we);return new ho({invalid:we})}static normalizeUnit(V){const oe={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[V&&V.toLowerCase()];if(!oe)throw new zA(V);return oe}static isDuration(V){return V&&V.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(V,oe={}){const we={...oe,floor:oe.round!==!1&&oe.floor!==!1};return this.isValid?iu.create(this.loc,we).formatDurationFromString(this,V):iT}toHuman(V={}){if(!this.isValid)return iT;const oe=Ad.map(we=>{const Ue=this.values[we];return Di(Ue)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...V,unit:we.slice(0,-1)}).format(Ue)}).filter(we=>we);return this.loc.listFormatter({type:"conjunction",style:V.listStyle||"narrow",...V}).format(oe)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let V="P";return this.years!==0&&(V+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(V+=this.months+this.quarters*3+"M"),this.weeks!==0&&(V+=this.weeks+"W"),this.days!==0&&(V+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(V+="T"),this.hours!==0&&(V+=this.hours+"H"),this.minutes!==0&&(V+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(V+=J3(this.seconds+this.milliseconds/1e3,3)+"S"),V==="P"&&(V+="T0S"),V}toISOTime(V={}){if(!this.isValid)return null;const oe=this.toMillis();return oe<0||oe>=864e5?null:(V={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...V,includeOffset:!1},Fi.fromMillis(oe,{zone:"UTC"}).toISOTime(V))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?E5(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(V){if(!this.isValid)return this;const oe=ho.fromDurationLike(V),we={};for(const Ue of Ad)(zp(oe.values,Ue)||zp(this.values,Ue))&&(we[Ue]=oe.get(Ue)+this.get(Ue));return Lv(this,{values:we},!0)}minus(V){if(!this.isValid)return this;const oe=ho.fromDurationLike(V);return this.plus(oe.negate())}mapUnits(V){if(!this.isValid)return this;const oe={};for(const we of Object.keys(this.values))oe[we]=c5(V(this.values[we],we));return Lv(this,{values:oe},!0)}get(V){return this[ho.normalizeUnit(V)]}set(V){if(!this.isValid)return this;const oe={...this.values,...sm(V,ho.normalizeUnit)};return Lv(this,{values:oe})}reconfigure({locale:V,numberingSystem:oe,conversionAccuracy:we,matrix:Ue}={}){const H={loc:this.loc.clone({locale:V,numberingSystem:oe}),matrix:Ue,conversionAccuracy:we};return Lv(this,H)}as(V){return this.isValid?this.shiftTo(V).get(V):NaN}normalize(){if(!this.isValid)return this;const V=this.toObject();return oT(this.matrix,V),Lv(this,{values:V},!0)}rescale(){if(!this.isValid)return this;const V=T9(this.normalize().shiftToAll().toObject());return Lv(this,{values:V},!0)}shiftTo(...V){if(!this.isValid)return this;if(V.length===0)return this;V=V.map(H=>ho.normalizeUnit(H));const oe={},we={},Ue=this.toObject();let it;for(const H of Ad)if(V.indexOf(H)>=0){it=H;let U=0;for(const p in we)U+=this.matrix[p][H]*we[p],we[p]=0;Cd(Ue[H])&&(U+=Ue[H]);const e=Math.trunc(U);oe[H]=e,we[H]=(U*1e3-e*1e3)/1e3}else Cd(Ue[H])&&(we[H]=Ue[H]);for(const H in we)we[H]!==0&&(oe[it]+=H===it?we[H]:we[H]/this.matrix[it][H]);return oT(this.matrix,oe),Lv(this,{values:oe},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const V={};for(const oe of Object.keys(this.values))V[oe]=this.values[oe]===0?0:-this.values[oe];return Lv(this,{values:V},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(V){if(!this.isValid||!V.isValid||!this.loc.equals(V.loc))return!1;function oe(we,Ue){return we===void 0||we===0?Ue===void 0||Ue===0:we===Ue}for(const we of Ad)if(!oe(this.values[we],V.values[we]))return!1;return!0}}const cp="Invalid Interval";function A9(K,V){return!K||!K.isValid?ys.invalid("missing or invalid start"):!V||!V.isValid?ys.invalid("missing or invalid end"):V<K?ys.invalid("end before start",`The end of an interval must be after its start, but you had start=${K.toISO()} and end=${V.toISO()}`):null}class ys{constructor(V){this.s=V.start,this.e=V.end,this.invalid=V.invalid||null,this.isLuxonInterval=!0}static invalid(V,oe=null){if(!V)throw new pf("need to specify a reason the Interval is invalid");const we=V instanceof Jc?V:new Jc(V,oe);if(Bs.throwOnInvalid)throw new j7(we);return new ys({invalid:we})}static fromDateTimes(V,oe){const we=D0(V),Ue=D0(oe),it=A9(we,Ue);return it??new ys({start:we,end:Ue})}static after(V,oe){const we=ho.fromDurationLike(oe),Ue=D0(V);return ys.fromDateTimes(Ue,Ue.plus(we))}static before(V,oe){const we=ho.fromDurationLike(oe),Ue=D0(V);return ys.fromDateTimes(Ue.minus(we),Ue)}static fromISO(V,oe){const[we,Ue]=(V||"").split("/",2);if(we&&Ue){let it,H;try{it=Fi.fromISO(we,oe),H=it.isValid}catch{H=!1}let U,e;try{U=Fi.fromISO(Ue,oe),e=U.isValid}catch{e=!1}if(H&&e)return ys.fromDateTimes(it,U);if(H){const p=ho.fromISO(Ue,oe);if(p.isValid)return ys.after(it,p)}else if(e){const p=ho.fromISO(we,oe);if(p.isValid)return ys.before(U,p)}}return ys.invalid("unparsable",`the input "${V}" can't be parsed as ISO 8601`)}static isInterval(V){return V&&V.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(V="milliseconds"){return this.isValid?this.toDuration(V).get(V):NaN}count(V="milliseconds",oe){if(!this.isValid)return NaN;const we=this.start.startOf(V,oe);let Ue;return oe!=null&&oe.useLocaleWeeks?Ue=this.end.reconfigure({locale:we.locale}):Ue=this.end,Ue=Ue.startOf(V,oe),Math.floor(Ue.diff(we,V).get(V))+(Ue.valueOf()!==this.end.valueOf())}hasSame(V){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,V):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(V){return this.isValid?this.s>V:!1}isBefore(V){return this.isValid?this.e<=V:!1}contains(V){return this.isValid?this.s<=V&&this.e>V:!1}set({start:V,end:oe}={}){return this.isValid?ys.fromDateTimes(V||this.s,oe||this.e):this}splitAt(...V){if(!this.isValid)return[];const oe=V.map(D0).filter(H=>this.contains(H)).sort((H,U)=>H.toMillis()-U.toMillis()),we=[];let{s:Ue}=this,it=0;for(;Ue<this.e;){const H=oe[it]||this.e,U=+H>+this.e?this.e:H;we.push(ys.fromDateTimes(Ue,U)),Ue=U,it+=1}return we}splitBy(V){const oe=ho.fromDurationLike(V);if(!this.isValid||!oe.isValid||oe.as("milliseconds")===0)return[];let{s:we}=this,Ue=1,it;const H=[];for(;we<this.e;){const U=this.start.plus(oe.mapUnits(e=>e*Ue));it=+U>+this.e?this.e:U,H.push(ys.fromDateTimes(we,it)),we=it,Ue+=1}return H}divideEqually(V){return this.isValid?this.splitBy(this.length()/V).slice(0,V):[]}overlaps(V){return this.e>V.s&&this.s<V.e}abutsStart(V){return this.isValid?+this.e==+V.s:!1}abutsEnd(V){return this.isValid?+V.e==+this.s:!1}engulfs(V){return this.isValid?this.s<=V.s&&this.e>=V.e:!1}equals(V){return!this.isValid||!V.isValid?!1:this.s.equals(V.s)&&this.e.equals(V.e)}intersection(V){if(!this.isValid)return this;const oe=this.s>V.s?this.s:V.s,we=this.e<V.e?this.e:V.e;return oe>=we?null:ys.fromDateTimes(oe,we)}union(V){if(!this.isValid)return this;const oe=this.s<V.s?this.s:V.s,we=this.e>V.e?this.e:V.e;return ys.fromDateTimes(oe,we)}static merge(V){const[oe,we]=V.sort((Ue,it)=>Ue.s-it.s).reduce(([Ue,it],H)=>it?it.overlaps(H)||it.abutsStart(H)?[Ue,it.union(H)]:[Ue.concat([it]),H]:[Ue,H],[[],null]);return we&&oe.push(we),oe}static xor(V){let oe=null,we=0;const Ue=[],it=V.map(e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}]),H=Array.prototype.concat(...it),U=H.sort((e,p)=>e.time-p.time);for(const e of U)we+=e.type==="s"?1:-1,we===1?oe=e.time:(oe&&+oe!=+e.time&&Ue.push(ys.fromDateTimes(oe,e.time)),oe=null);return ys.merge(Ue)}difference(...V){return ys.xor([this].concat(V)).map(oe=>this.intersection(oe)).filter(oe=>oe&&!oe.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:cp}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(V=am,oe={}){return this.isValid?iu.create(this.s.loc.clone(oe),V).formatInterval(this):cp}toISO(V){return this.isValid?`${this.s.toISO(V)}/${this.e.toISO(V)}`:cp}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:cp}toISOTime(V){return this.isValid?`${this.s.toISOTime(V)}/${this.e.toISOTime(V)}`:cp}toFormat(V,{separator:oe="  "}={}){return this.isValid?`${this.s.toFormat(V)}${oe}${this.e.toFormat(V)}`:cp}toDuration(V,oe){return this.isValid?this.e.diff(this.s,V,oe):ho.invalid(this.invalidReason)}mapEndpoints(V){return ys.fromDateTimes(V(this.s),V(this.e))}}class Cy{static hasDST(V=Bs.defaultZone){const oe=Fi.now().setZone(V).set({month:12});return!V.isUniversal&&oe.offset!==oe.set({month:6}).offset}static isValidIANAZone(V){return Kh.isValidZone(V)}static normalizeZone(V){return Ov(V,Bs.defaultZone)}static getStartOfWeek({locale:V=null,locObj:oe=null}={}){return(oe||ko.create(V)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:V=null,locObj:oe=null}={}){return(oe||ko.create(V)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:V=null,locObj:oe=null}={}){return(oe||ko.create(V)).getWeekendDays().slice()}static months(V="long",{locale:oe=null,numberingSystem:we=null,locObj:Ue=null,outputCalendar:it="gregory"}={}){return(Ue||ko.create(oe,we,it)).months(V)}static monthsFormat(V="long",{locale:oe=null,numberingSystem:we=null,locObj:Ue=null,outputCalendar:it="gregory"}={}){return(Ue||ko.create(oe,we,it)).months(V,!0)}static weekdays(V="long",{locale:oe=null,numberingSystem:we=null,locObj:Ue=null}={}){return(Ue||ko.create(oe,we,null)).weekdays(V)}static weekdaysFormat(V="long",{locale:oe=null,numberingSystem:we=null,locObj:Ue=null}={}){return(Ue||ko.create(oe,we,null)).weekdays(V,!0)}static meridiems({locale:V=null}={}){return ko.create(V).meridiems()}static eras(V="short",{locale:oe=null}={}){return ko.create(oe,null,"gregory").eras(V)}static features(){return{relative:l5(),localeWeek:u5()}}}function sT(K,V){const oe=Ue=>Ue.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),we=oe(V)-oe(K);return Math.floor(ho.fromMillis(we).as("days"))}function M9(K,V,oe){const we=[["years",(e,p)=>p.year-e.year],["quarters",(e,p)=>p.quarter-e.quarter+(p.year-e.year)*4],["months",(e,p)=>p.month-e.month+(p.year-e.year)*12],["weeks",(e,p)=>{const L=sT(e,p);return(L-L%7)/7}],["days",sT]],Ue={},it=K;let H,U;for(const[e,p]of we)oe.indexOf(e)>=0&&(H=e,Ue[e]=p(K,V),U=it.plus(Ue),U>V?(Ue[e]--,K=it.plus(Ue),K>V&&(U=K,Ue[e]--,K=it.plus(Ue))):K=U);return[K,Ue,U,H]}function S9(K,V,oe,we){let[Ue,it,H,U]=M9(K,V,oe);const e=V-Ue,p=oe.filter(n=>["hours","minutes","seconds","milliseconds"].indexOf(n)>=0);p.length===0&&(H<V&&(H=Ue.plus({[U]:1})),H!==Ue&&(it[U]=(it[U]||0)+e/(H-Ue)));const L=ho.fromObject(it,we);return p.length>0?ho.fromMillis(e,we).shiftTo(...p).plus(L):L}const ew={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},lT={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},E9=ew.hanidec.replace(/[\[|\]]/g,"").split("");function C9(K){let V=parseInt(K,10);if(isNaN(V)){V="";for(let oe=0;oe<K.length;oe++){const we=K.charCodeAt(oe);if(K[oe].search(ew.hanidec)!==-1)V+=E9.indexOf(K[oe]);else for(const Ue in lT){const[it,H]=lT[Ue];we>=it&&we<=H&&(V+=we-it)}}return parseInt(V,10)}else return V}function Zc({numberingSystem:K},V=""){return new RegExp(`${ew[K||"latn"]}${V}`)}const L9="missing Intl.DateTimeFormat.formatToParts support";function Mo(K,V=oe=>oe){return{regex:K,deser:([oe])=>V(C9(oe))}}const _9="",C5=`[ ${_9}]`,L5=new RegExp(C5,"g");function P9(K){return K.replace(/\./g,"\\.?").replace(L5,C5)}function uT(K){return K.replace(/\./g,"").replace(L5," ").toLowerCase()}function jc(K,V){return K===null?null:{regex:RegExp(K.map(P9).join("|")),deser:([oe])=>K.findIndex(we=>uT(oe)===uT(we))+V}}function fT(K,V){return{regex:K,deser:([,oe,we])=>Um(oe,we),groups:V}}function Ly(K){return{regex:K,deser:([V])=>V}}function R9(K){return K.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function D9(K,V){const oe=Zc(V),we=Zc(V,"{2}"),Ue=Zc(V,"{3}"),it=Zc(V,"{4}"),H=Zc(V,"{6}"),U=Zc(V,"{1,2}"),e=Zc(V,"{1,3}"),p=Zc(V,"{1,6}"),L=Zc(V,"{1,9}"),n=Zc(V,"{2,4}"),C=Zc(V,"{4,6}"),T=r=>({regex:RegExp(R9(r.val)),deser:([t])=>t,literal:!0}),g=(r=>{if(K.literal)return T(r);switch(r.val){case"G":return jc(V.eras("short"),0);case"GG":return jc(V.eras("long"),0);case"y":return Mo(p);case"yy":return Mo(n,o3);case"yyyy":return Mo(it);case"yyyyy":return Mo(C);case"yyyyyy":return Mo(H);case"M":return Mo(U);case"MM":return Mo(we);case"MMM":return jc(V.months("short",!0),1);case"MMMM":return jc(V.months("long",!0),1);case"L":return Mo(U);case"LL":return Mo(we);case"LLL":return jc(V.months("short",!1),1);case"LLLL":return jc(V.months("long",!1),1);case"d":return Mo(U);case"dd":return Mo(we);case"o":return Mo(e);case"ooo":return Mo(Ue);case"HH":return Mo(we);case"H":return Mo(U);case"hh":return Mo(we);case"h":return Mo(U);case"mm":return Mo(we);case"m":return Mo(U);case"q":return Mo(U);case"qq":return Mo(we);case"s":return Mo(U);case"ss":return Mo(we);case"S":return Mo(e);case"SSS":return Mo(Ue);case"u":return Ly(L);case"uu":return Ly(U);case"uuu":return Mo(oe);case"a":return jc(V.meridiems(),0);case"kkkk":return Mo(it);case"kk":return Mo(n,o3);case"W":return Mo(U);case"WW":return Mo(we);case"E":case"c":return Mo(oe);case"EEE":return jc(V.weekdays("short",!1),1);case"EEEE":return jc(V.weekdays("long",!1),1);case"ccc":return jc(V.weekdays("short",!0),1);case"cccc":return jc(V.weekdays("long",!0),1);case"Z":case"ZZ":return fT(new RegExp(`([+-]${U.source})(?::(${we.source}))?`),2);case"ZZZ":return fT(new RegExp(`([+-]${U.source})(${we.source})?`),2);case"z":return Ly(/[a-z_+-/]{1,256}?/i);case" ":return Ly(/[^\S\n\r]/);default:return T(r)}})(K)||{invalidReason:L9};return g.token=K,g}const I9={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function k9(K,V,oe){const{type:we,value:Ue}=K;if(we==="literal"){const e=/^\s+$/.test(Ue);return{literal:!e,val:e?" ":Ue}}const it=V[we];let H=we;we==="hour"&&(V.hour12!=null?H=V.hour12?"hour12":"hour24":V.hourCycle!=null?V.hourCycle==="h11"||V.hourCycle==="h12"?H="hour12":H="hour24":H=oe.hour12?"hour12":"hour24");let U=I9[H];if(typeof U=="object"&&(U=U[it]),U)return{literal:!1,val:U}}function O9(K){return[`^${K.map(oe=>oe.regex).reduce((oe,we)=>`${oe}(${we.source})`,"")}$`,K]}function z9(K,V,oe){const we=K.match(V);if(we){const Ue={};let it=1;for(const H in oe)if(zp(oe,H)){const U=oe[H],e=U.groups?U.groups+1:1;!U.literal&&U.token&&(Ue[U.token.val[0]]=U.deser(we.slice(it,it+e))),it+=e}return[we,Ue]}else return[we,{}]}function F9(K){const V=it=>{switch(it){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let oe=null,we;return Di(K.z)||(oe=Kh.create(K.z)),Di(K.Z)||(oe||(oe=new Ru(K.Z)),we=K.Z),Di(K.q)||(K.M=(K.q-1)*3+1),Di(K.h)||(K.h<12&&K.a===1?K.h+=12:K.h===12&&K.a===0&&(K.h=0)),K.G===0&&K.y&&(K.y=-K.y),Di(K.u)||(K.S=K3(K.u)),[Object.keys(K).reduce((it,H)=>{const U=V(H);return U&&(it[U]=K[H]),it},{}),oe,we]}let Sb=null;function N9(){return Sb||(Sb=Fi.fromMillis(1555555555555)),Sb}function B9(K,V){if(K.literal)return K;const oe=iu.macroTokenToFormatOpts(K.val),we=R5(oe,V);return we==null||we.includes(void 0)?K:we}function _5(K,V){return Array.prototype.concat(...K.map(oe=>B9(oe,V)))}function P5(K,V,oe){const we=_5(iu.parseFormat(oe),K),Ue=we.map(H=>D9(H,K)),it=Ue.find(H=>H.invalidReason);if(it)return{input:V,tokens:we,invalidReason:it.invalidReason};{const[H,U]=O9(Ue),e=RegExp(H,"i"),[p,L]=z9(V,e,U),[n,C,T]=L?F9(L):[null,null,void 0];if(zp(L,"a")&&zp(L,"H"))throw new yp("Can't include meridiem when specifying 24-hour format");return{input:V,tokens:we,regex:e,rawMatches:p,matches:L,result:n,zone:C,specificOffset:T}}}function U9(K,V,oe){const{result:we,zone:Ue,specificOffset:it,invalidReason:H}=P5(K,V,oe);return[we,Ue,it,H]}function R5(K,V){if(!K)return null;const we=iu.create(V,K).dtFormatter(N9()),Ue=we.formatToParts(),it=we.resolvedOptions();return Ue.map(H=>k9(H,K,it))}const Eb="Invalid DateTime",cT=864e13;function _y(K){return new Jc("unsupported zone",`the zone "${K.name}" is not supported`)}function Cb(K){return K.weekData===null&&(K.weekData=im(K.c)),K.weekData}function Lb(K){return K.localWeekData===null&&(K.localWeekData=im(K.c,K.loc.getMinDaysInFirstWeek(),K.loc.getStartOfWeek())),K.localWeekData}function yd(K,V){const oe={ts:K.ts,zone:K.zone,c:K.c,o:K.o,loc:K.loc,invalid:K.invalid};return new Fi({...oe,...V,old:oe})}function D5(K,V,oe){let we=K-V*60*1e3;const Ue=oe.offset(we);if(V===Ue)return[we,V];we-=(Ue-V)*60*1e3;const it=oe.offset(we);return Ue===it?[we,Ue]:[K-Math.min(Ue,it)*60*1e3,Math.max(Ue,it)]}function Py(K,V){K+=V*60*1e3;const oe=new Date(K);return{year:oe.getUTCFullYear(),month:oe.getUTCMonth()+1,day:oe.getUTCDate(),hour:oe.getUTCHours(),minute:oe.getUTCMinutes(),second:oe.getUTCSeconds(),millisecond:oe.getUTCMilliseconds()}}function Gy(K,V,oe){return D5(Bm(K),V,oe)}function hT(K,V){const oe=K.o,we=K.c.year+Math.trunc(V.years),Ue=K.c.month+Math.trunc(V.months)+Math.trunc(V.quarters)*3,it={...K.c,year:we,month:Ue,day:Math.min(K.c.day,om(we,Ue))+Math.trunc(V.days)+Math.trunc(V.weeks)*7},H=ho.fromObject({years:V.years-Math.trunc(V.years),quarters:V.quarters-Math.trunc(V.quarters),months:V.months-Math.trunc(V.months),weeks:V.weeks-Math.trunc(V.weeks),days:V.days-Math.trunc(V.days),hours:V.hours,minutes:V.minutes,seconds:V.seconds,milliseconds:V.milliseconds}).as("milliseconds"),U=Bm(it);let[e,p]=D5(U,oe,K.zone);return H!==0&&(e+=H,p=K.zone.offset(e)),{ts:e,o:p}}function R0(K,V,oe,we,Ue,it){const{setZone:H,zone:U}=oe;if(K&&Object.keys(K).length!==0||V){const e=V||U,p=Fi.fromObject(K,{...oe,zone:e,specificOffset:it});return H?p:p.setZone(U)}else return Fi.invalid(new Jc("unparsable",`the input "${Ue}" can't be parsed as ${we}`))}function Ry(K,V,oe=!0){return K.isValid?iu.create(ko.create("en-US"),{allowZ:oe,forceSimple:!0}).formatDateTimeFromString(K,V):null}function _b(K,V){const oe=K.c.year>9999||K.c.year<0;let we="";return oe&&K.c.year>=0&&(we+="+"),we+=js(K.c.year,oe?6:4),V?(we+="-",we+=js(K.c.month),we+="-",we+=js(K.c.day)):(we+=js(K.c.month),we+=js(K.c.day)),we}function vT(K,V,oe,we,Ue,it){let H=js(K.c.hour);return V?(H+=":",H+=js(K.c.minute),(K.c.millisecond!==0||K.c.second!==0||!oe)&&(H+=":")):H+=js(K.c.minute),(K.c.millisecond!==0||K.c.second!==0||!oe)&&(H+=js(K.c.second),(K.c.millisecond!==0||!we)&&(H+=".",H+=js(K.c.millisecond,3))),Ue&&(K.isOffsetFixed&&K.offset===0&&!it?H+="Z":K.o<0?(H+="-",H+=js(Math.trunc(-K.o/60)),H+=":",H+=js(Math.trunc(-K.o%60))):(H+="+",H+=js(Math.trunc(K.o/60)),H+=":",H+=js(Math.trunc(K.o%60)))),it&&(H+="["+K.zone.ianaName+"]"),H}const I5={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},V9={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},H9={ordinal:1,hour:0,minute:0,second:0,millisecond:0},k5=["year","month","day","hour","minute","second","millisecond"],G9=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],W9=["year","ordinal","hour","minute","second","millisecond"];function Y9(K){const V={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[K.toLowerCase()];if(!V)throw new zA(K);return V}function dT(K){switch(K.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Y9(K)}}function pT(K,V){const oe=Ov(V.zone,Bs.defaultZone),we=ko.fromObject(V),Ue=Bs.now();let it,H;if(Di(K.year))it=Ue;else{for(const p of k5)Di(K[p])&&(K[p]=I5[p]);const U=o5(K)||s5(K);if(U)return Fi.invalid(U);const e=oe.offset(Ue);[it,H]=Gy(K,e,oe)}return new Fi({ts:it,zone:oe,loc:we,o:H})}function gT(K,V,oe){const we=Di(oe.round)?!0:oe.round,Ue=(H,U)=>(H=J3(H,we||oe.calendary?0:2,!0),V.loc.clone(oe).relFormatter(oe).format(H,U)),it=H=>oe.calendary?V.hasSame(K,H)?0:V.startOf(H).diff(K.startOf(H),H).get(H):V.diff(K,H).get(H);if(oe.unit)return Ue(it(oe.unit),oe.unit);for(const H of oe.units){const U=it(H);if(Math.abs(U)>=1)return Ue(U,H)}return Ue(K>V?-0:0,oe.units[oe.units.length-1])}function yT(K){let V={},oe;return K.length>0&&typeof K[K.length-1]=="object"?(V=K[K.length-1],oe=Array.from(K).slice(0,K.length-1)):oe=Array.from(K),[V,oe]}class Fi{constructor(V){const oe=V.zone||Bs.defaultZone;let we=V.invalid||(Number.isNaN(V.ts)?new Jc("invalid input"):null)||(oe.isValid?null:_y(oe));this.ts=Di(V.ts)?Bs.now():V.ts;let Ue=null,it=null;if(!we)if(V.old&&V.old.ts===this.ts&&V.old.zone.equals(oe))[Ue,it]=[V.old.c,V.old.o];else{const U=oe.offset(this.ts);Ue=Py(this.ts,U),we=Number.isNaN(Ue.year)?new Jc("invalid input"):null,Ue=we?null:Ue,it=we?null:U}this._zone=oe,this.loc=V.loc||ko.create(),this.invalid=we,this.weekData=null,this.localWeekData=null,this.c=Ue,this.o=it,this.isLuxonDateTime=!0}static now(){return new Fi({})}static local(){const[V,oe]=yT(arguments),[we,Ue,it,H,U,e,p]=oe;return pT({year:we,month:Ue,day:it,hour:H,minute:U,second:e,millisecond:p},V)}static utc(){const[V,oe]=yT(arguments),[we,Ue,it,H,U,e,p]=oe;return V.zone=Ru.utcInstance,pT({year:we,month:Ue,day:it,hour:H,minute:U,second:e,millisecond:p},V)}static fromJSDate(V,oe={}){const we=bP(V)?V.valueOf():NaN;if(Number.isNaN(we))return Fi.invalid("invalid input");const Ue=Ov(oe.zone,Bs.defaultZone);return Ue.isValid?new Fi({ts:we,zone:Ue,loc:ko.fromObject(oe)}):Fi.invalid(_y(Ue))}static fromMillis(V,oe={}){if(Cd(V))return V<-cT||V>cT?Fi.invalid("Timestamp out of range"):new Fi({ts:V,zone:Ov(oe.zone,Bs.defaultZone),loc:ko.fromObject(oe)});throw new pf(`fromMillis requires a numerical input, but received a ${typeof V} with value ${V}`)}static fromSeconds(V,oe={}){if(Cd(V))return new Fi({ts:V*1e3,zone:Ov(oe.zone,Bs.defaultZone),loc:ko.fromObject(oe)});throw new pf("fromSeconds requires a numerical input")}static fromObject(V,oe={}){V=V||{};const we=Ov(oe.zone,Bs.defaultZone);if(!we.isValid)return Fi.invalid(_y(we));const Ue=ko.fromObject(oe),it=sm(V,dT),{minDaysInFirstWeek:H,startOfWeek:U}=eT(it,Ue),e=Bs.now(),p=Di(oe.specificOffset)?we.offset(e):oe.specificOffset,L=!Di(it.ordinal),n=!Di(it.year),C=!Di(it.month)||!Di(it.day),T=n||C,v=it.weekYear||it.weekNumber;if((T||L)&&v)throw new yp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(C&&L)throw new yp("Can't mix ordinal dates with month/day");const g=v||it.weekday&&!T;let r,t,s=Py(e,p);g?(r=G9,t=V9,s=im(s,H,U)):L?(r=W9,t=H9,s=Mb(s)):(r=k5,t=I5);let a=!1;for(const c of r){const i=it[c];Di(i)?a?it[c]=t[c]:it[c]=s[c]:a=!0}const f=g?yP(it,H,U):L?mP(it):o5(it),u=f||s5(it);if(u)return Fi.invalid(u);const l=g?Q2(it,H,U):L?q2(it):it,[m,h]=Gy(l,p,we),M=new Fi({ts:m,zone:we,o:h,loc:Ue});return it.weekday&&T&&V.weekday!==M.weekday?Fi.invalid("mismatched weekday",`you can't specify both a weekday of ${it.weekday} and a date of ${M.toISO()}`):M}static fromISO(V,oe={}){const[we,Ue]=u9(V);return R0(we,Ue,oe,"ISO 8601",V)}static fromRFC2822(V,oe={}){const[we,Ue]=f9(V);return R0(we,Ue,oe,"RFC 2822",V)}static fromHTTP(V,oe={}){const[we,Ue]=c9(V);return R0(we,Ue,oe,"HTTP",oe)}static fromFormat(V,oe,we={}){if(Di(V)||Di(oe))throw new pf("fromFormat requires an input string and a format");const{locale:Ue=null,numberingSystem:it=null}=we,H=ko.fromOpts({locale:Ue,numberingSystem:it,defaultToEN:!0}),[U,e,p,L]=U9(H,V,oe);return L?Fi.invalid(L):R0(U,e,we,`format ${oe}`,V,p)}static fromString(V,oe,we={}){return Fi.fromFormat(V,oe,we)}static fromSQL(V,oe={}){const[we,Ue]=m9(V);return R0(we,Ue,oe,"SQL",V)}static invalid(V,oe=null){if(!V)throw new pf("need to specify a reason the DateTime is invalid");const we=V instanceof Jc?V:new Jc(V,oe);if(Bs.throwOnInvalid)throw new Z7(we);return new Fi({invalid:we})}static isDateTime(V){return V&&V.isLuxonDateTime||!1}static parseFormatForOpts(V,oe={}){const we=R5(V,ko.fromObject(oe));return we?we.map(Ue=>Ue?Ue.val:null).join(""):null}static expandFormat(V,oe={}){return _5(iu.parseFormat(V),ko.fromObject(oe)).map(Ue=>Ue.val).join("")}get(V){return this[V]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Cb(this).weekYear:NaN}get weekNumber(){return this.isValid?Cb(this).weekNumber:NaN}get weekday(){return this.isValid?Cb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Lb(this).weekday:NaN}get localWeekNumber(){return this.isValid?Lb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Lb(this).weekYear:NaN}get ordinal(){return this.isValid?Mb(this.c).ordinal:NaN}get monthShort(){return this.isValid?Cy.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Cy.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Cy.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Cy.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const V=864e5,oe=6e4,we=Bm(this.c),Ue=this.zone.offset(we-V),it=this.zone.offset(we+V),H=this.zone.offset(we-Ue*oe),U=this.zone.offset(we-it*oe);if(H===U)return[this];const e=we-H*oe,p=we-U*oe,L=Py(e,H),n=Py(p,U);return L.hour===n.hour&&L.minute===n.minute&&L.second===n.second&&L.millisecond===n.millisecond?[yd(this,{ts:e}),yd(this,{ts:p})]:[this]}get isInLeapYear(){return cg(this.year)}get daysInMonth(){return om(this.year,this.month)}get daysInYear(){return this.isValid?Ap(this.year):NaN}get weeksInWeekYear(){return this.isValid?eg(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?eg(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(V={}){const{locale:oe,numberingSystem:we,calendar:Ue}=iu.create(this.loc.clone(V),V).resolvedOptions(this);return{locale:oe,numberingSystem:we,outputCalendar:Ue}}toUTC(V=0,oe={}){return this.setZone(Ru.instance(V),oe)}toLocal(){return this.setZone(Bs.defaultZone)}setZone(V,{keepLocalTime:oe=!1,keepCalendarTime:we=!1}={}){if(V=Ov(V,Bs.defaultZone),V.equals(this.zone))return this;if(V.isValid){let Ue=this.ts;if(oe||we){const it=V.offset(this.ts),H=this.toObject();[Ue]=Gy(H,it,V)}return yd(this,{ts:Ue,zone:V})}else return Fi.invalid(_y(V))}reconfigure({locale:V,numberingSystem:oe,outputCalendar:we}={}){const Ue=this.loc.clone({locale:V,numberingSystem:oe,outputCalendar:we});return yd(this,{loc:Ue})}setLocale(V){return this.reconfigure({locale:V})}set(V){if(!this.isValid)return this;const oe=sm(V,dT),{minDaysInFirstWeek:we,startOfWeek:Ue}=eT(oe,this.loc),it=!Di(oe.weekYear)||!Di(oe.weekNumber)||!Di(oe.weekday),H=!Di(oe.ordinal),U=!Di(oe.year),e=!Di(oe.month)||!Di(oe.day),p=U||e,L=oe.weekYear||oe.weekNumber;if((p||H)&&L)throw new yp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(e&&H)throw new yp("Can't mix ordinal dates with month/day");let n;it?n=Q2({...im(this.c,we,Ue),...oe},we,Ue):Di(oe.ordinal)?(n={...this.toObject(),...oe},Di(oe.day)&&(n.day=Math.min(om(n.year,n.month),n.day))):n=q2({...Mb(this.c),...oe});const[C,T]=Gy(n,this.o,this.zone);return yd(this,{ts:C,o:T})}plus(V){if(!this.isValid)return this;const oe=ho.fromDurationLike(V);return yd(this,hT(this,oe))}minus(V){if(!this.isValid)return this;const oe=ho.fromDurationLike(V).negate();return yd(this,hT(this,oe))}startOf(V,{useLocaleWeeks:oe=!1}={}){if(!this.isValid)return this;const we={},Ue=ho.normalizeUnit(V);switch(Ue){case"years":we.month=1;case"quarters":case"months":we.day=1;case"weeks":case"days":we.hour=0;case"hours":we.minute=0;case"minutes":we.second=0;case"seconds":we.millisecond=0;break}if(Ue==="weeks")if(oe){const it=this.loc.getStartOfWeek(),{weekday:H}=this;H<it&&(we.weekNumber=this.weekNumber-1),we.weekday=it}else we.weekday=1;if(Ue==="quarters"){const it=Math.ceil(this.month/3);we.month=(it-1)*3+1}return this.set(we)}endOf(V,oe){return this.isValid?this.plus({[V]:1}).startOf(V,oe).minus(1):this}toFormat(V,oe={}){return this.isValid?iu.create(this.loc.redefaultToEN(oe)).formatDateTimeFromString(this,V):Eb}toLocaleString(V=am,oe={}){return this.isValid?iu.create(this.loc.clone(oe),V).formatDateTime(this):Eb}toLocaleParts(V={}){return this.isValid?iu.create(this.loc.clone(V),V).formatDateTimeParts(this):[]}toISO({format:V="extended",suppressSeconds:oe=!1,suppressMilliseconds:we=!1,includeOffset:Ue=!0,extendedZone:it=!1}={}){if(!this.isValid)return null;const H=V==="extended";let U=_b(this,H);return U+="T",U+=vT(this,H,oe,we,Ue,it),U}toISODate({format:V="extended"}={}){return this.isValid?_b(this,V==="extended"):null}toISOWeekDate(){return Ry(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:V=!1,suppressSeconds:oe=!1,includeOffset:we=!0,includePrefix:Ue=!1,extendedZone:it=!1,format:H="extended"}={}){return this.isValid?(Ue?"T":"")+vT(this,H==="extended",oe,V,we,it):null}toRFC2822(){return Ry(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ry(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?_b(this,!0):null}toSQLTime({includeOffset:V=!0,includeZone:oe=!1,includeOffsetSpace:we=!0}={}){let Ue="HH:mm:ss.SSS";return(oe||V)&&(we&&(Ue+=" "),oe?Ue+="z":V&&(Ue+="ZZ")),Ry(this,Ue,!0)}toSQL(V={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(V)}`:null}toString(){return this.isValid?this.toISO():Eb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(V={}){if(!this.isValid)return{};const oe={...this.c};return V.includeConfig&&(oe.outputCalendar=this.outputCalendar,oe.numberingSystem=this.loc.numberingSystem,oe.locale=this.loc.locale),oe}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(V,oe="milliseconds",we={}){if(!this.isValid||!V.isValid)return ho.invalid("created by diffing an invalid DateTime");const Ue={locale:this.locale,numberingSystem:this.numberingSystem,...we},it=wP(oe).map(ho.normalizeUnit),H=V.valueOf()>this.valueOf(),U=H?this:V,e=H?V:this,p=S9(U,e,it,Ue);return H?p.negate():p}diffNow(V="milliseconds",oe={}){return this.diff(Fi.now(),V,oe)}until(V){return this.isValid?ys.fromDateTimes(this,V):this}hasSame(V,oe,we){if(!this.isValid)return!1;const Ue=V.valueOf(),it=this.setZone(V.zone,{keepLocalTime:!0});return it.startOf(oe,we)<=Ue&&Ue<=it.endOf(oe,we)}equals(V){return this.isValid&&V.isValid&&this.valueOf()===V.valueOf()&&this.zone.equals(V.zone)&&this.loc.equals(V.loc)}toRelative(V={}){if(!this.isValid)return null;const oe=V.base||Fi.fromObject({},{zone:this.zone}),we=V.padding?this<oe?-V.padding:V.padding:0;let Ue=["years","months","days","hours","minutes","seconds"],it=V.unit;return Array.isArray(V.unit)&&(Ue=V.unit,it=void 0),gT(oe,this.plus(we),{...V,numeric:"always",units:Ue,unit:it})}toRelativeCalendar(V={}){return this.isValid?gT(V.base||Fi.fromObject({},{zone:this.zone}),this,{...V,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...V){if(!V.every(Fi.isDateTime))throw new pf("min requires all arguments be DateTimes");return tT(V,oe=>oe.valueOf(),Math.min)}static max(...V){if(!V.every(Fi.isDateTime))throw new pf("max requires all arguments be DateTimes");return tT(V,oe=>oe.valueOf(),Math.max)}static fromFormatExplain(V,oe,we={}){const{locale:Ue=null,numberingSystem:it=null}=we,H=ko.fromOpts({locale:Ue,numberingSystem:it,defaultToEN:!0});return P5(H,V,oe)}static fromStringExplain(V,oe,we={}){return Fi.fromFormatExplain(V,oe,we)}static get DATE_SHORT(){return am}static get DATE_MED(){return FA}static get DATE_MED_WITH_WEEKDAY(){return J7}static get DATE_FULL(){return NA}static get DATE_HUGE(){return BA}static get TIME_SIMPLE(){return UA}static get TIME_WITH_SECONDS(){return VA}static get TIME_WITH_SHORT_OFFSET(){return HA}static get TIME_WITH_LONG_OFFSET(){return GA}static get TIME_24_SIMPLE(){return WA}static get TIME_24_WITH_SECONDS(){return YA}static get TIME_24_WITH_SHORT_OFFSET(){return XA}static get TIME_24_WITH_LONG_OFFSET(){return ZA}static get DATETIME_SHORT(){return jA}static get DATETIME_SHORT_WITH_SECONDS(){return KA}static get DATETIME_MED(){return JA}static get DATETIME_MED_WITH_SECONDS(){return $A}static get DATETIME_MED_WITH_WEEKDAY(){return $7}static get DATETIME_FULL(){return QA}static get DATETIME_FULL_WITH_SECONDS(){return qA}static get DATETIME_HUGE(){return e5}static get DATETIME_HUGE_WITH_SECONDS(){return t5}}function D0(K){if(Fi.isDateTime(K))return K;if(K&&K.valueOf&&Cd(K.valueOf()))return Fi.fromJSDate(K);if(K&&typeof K=="object")return Fi.fromObject(K);throw new pf(`Unknown datetime argument: ${K}, of type ${typeof K}`)}const X9=K=>(OC("data-v-8889593b"),K=K(),zC(),K),Z9={class:"table"},j9=["id","onClick"],K9={key:0},J9=["onChange","onFocus"],$9=X9(()=>$a("option",{selected:"",value:null},"-- select an option --",-1)),Q9=["value","selected"],q9={__name:"TransactionTable",setup(K){const V=Hp();let oe=jo(0);const we=Xf(()=>{if(!V.filterCategory)return V.rows;let H=_u.filter(V.rows,U=>_u.last(U)===V.filterCategory);if(V.filterCategory==="X"){const U=_u.filter(V.rows,e=>!_u.last(e));H=_u.concat(H,U)}return H});_m(async()=>{document.addEventListener("keydown",Ue)}),Zh(()=>V.clickTransaction,()=>{const H=V.clickTransaction.time,U=V.clickTransaction.category,e=we.value;for(let p=0;p<e.length;p+=1){const L=e[p];if(H===L[1]&&U===_u.last(L)){const n=L[0];document.getElementById(n).scrollIntoView(),oe.value=p}}});async function Ue(H){if(!V.keyLock)if(H.key==="ArrowDown")oe.value+=1,oe.value===V.rows.length&&(oe.value=0);else if(H.key==="ArrowUp")oe.value-=1,oe.value<0&&(oe.value=V.rows.length-1);else{let U=H.key.toUpperCase();if(_u.find(V.categories,e=>e.key===U)){const e=we.value[oe.value][0];await V.updateCategory(e,U)}}}function it(H){let U=_u.cloneDeep(H);for(let e=0;e<H.length;e+=1){const p=V.headers[e];p&&p.indexOf("date")>=0&&(U[e]=Fi.fromISO(U[e]).toFormat("ddLLLyy"))}return U}return(H,U)=>(Co(),Ro("table",Z9,[$a("thead",null,[$a("tr",null,[(Co(!0),Ro(Ks,null,zv(ms(V).headers,e=>(Co(),Ro("th",{scope:"col",key:e},nu(e),1))),128))])]),$a("tbody",null,[(Co(!0),Ro(Ks,null,zv(we.value,(e,p)=>(Co(),Ro("tr",{key:e[0],id:e[0],onClick:L=>Us(oe)?oe.value=p:oe=p},[(Co(!0),Ro(Ks,null,zv(it(e),(L,n)=>(Co(),Ro("td",{class:bm(p===ms(oe)?"active":""),key:n},[n<e.length-1?(Co(),Ro("div",K9,nu(L),1)):(Co(),Ro("select",{key:1,class:"form-select","aria-label":"Default select example",onChange:C=>ms(V).updateCategory(e[0],C.target.value),onFocus:C=>Us(oe)?oe.value=p:oe=p},[$9,(Co(!0),Ro(Ks,null,zv(ms(V).categories,C=>(Co(),Ro("option",{key:C.key,value:C.key,selected:C.key===ms(_u).last(e)},nu(C.key+" - "+C.desc),9,Q9))),128))],40,J9))],2))),128))],8,j9))),128))])]))}},eR=kA(q9,[["__scopeId","data-v-8889593b"]]);var Dy,tR=new Uint8Array(16);function rR(){if(!Dy&&(Dy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Dy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dy(tR)}const nR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function aR(K){return typeof K=="string"&&nR.test(K)}var Bl=[];for(var Pb=0;Pb<256;++Pb)Bl.push((Pb+256).toString(16).substr(1));function iR(K){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,oe=(Bl[K[V+0]]+Bl[K[V+1]]+Bl[K[V+2]]+Bl[K[V+3]]+"-"+Bl[K[V+4]]+Bl[K[V+5]]+"-"+Bl[K[V+6]]+Bl[K[V+7]]+"-"+Bl[K[V+8]]+Bl[K[V+9]]+"-"+Bl[K[V+10]]+Bl[K[V+11]]+Bl[K[V+12]]+Bl[K[V+13]]+Bl[K[V+14]]+Bl[K[V+15]]).toLowerCase();if(!aR(oe))throw TypeError("Stringified UUID is invalid");return oe}function oR(K,V,oe){K=K||{};var we=K.random||(K.rng||rR)();if(we[6]=we[6]&15|64,we[8]=we[8]&63|128,V){oe=oe||0;for(var Ue=0;Ue<16;++Ue)V[oe+Ue]=we[Ue];return V}return iR(we)}var O5={exports:{}};(function(K,V){(function(we,Ue){K.exports=Ue()})(self,function(){return function(){var oe={79288:function(H,U,e){var p=e(3400),L={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var n in L){var C=n.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(C,L[n])}},86712:function(H,U,e){H.exports=e(84224)},37240:function(H,U,e){H.exports=e(51132)},29744:function(H,U,e){H.exports=e(94456)},29352:function(H,U,e){H.exports=e(67244)},96144:function(H,U,e){H.exports=e(97776)},53219:function(H,U,e){H.exports=e(61712)},4624:function(H,U,e){H.exports=e(95856)},54543:function(H,U,e){H.exports=e(54272)},45e3:function(H,U,e){H.exports=e(85404)},62300:function(H,U,e){H.exports=e(26048)},6920:function(H,U,e){H.exports=e(66240)},10264:function(H,U,e){H.exports=e(40448)},32016:function(H,U,e){H.exports=e(64884)},27528:function(H,U,e){H.exports=e(15088)},75556:function(H,U,e){H.exports=e(76744)},39204:function(H,U,e){H.exports=e(94704)},73996:function(H,U,e){H.exports=e(62396)},16489:function(H,U,e){H.exports=e(32028)},5e3:function(H,U,e){H.exports=e(81932)},77280:function(H,U,e){H.exports=e(45536)},33992:function(H,U,e){H.exports=e(42600)},17600:function(H,U,e){H.exports=e(21536)},49116:function(H,U,e){H.exports=e(65664)},46808:function(H,U,e){H.exports=e(29044)},36168:function(H,U,e){H.exports=e(48928)},13792:function(H,U,e){var p=e(32016);p.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),H.exports=p},3920:function(H,U,e){H.exports=e(43480)},25120:function(H,U,e){H.exports=e(6296)},4340:function(H,U,e){H.exports=e(7404)},86152:function(H,U,e){H.exports=e(65456)},56816:function(H,U,e){H.exports=e(22020)},89296:function(H,U,e){H.exports=e(29928)},20260:function(H,U,e){H.exports=e(75792)},32140:function(H,U,e){H.exports=e(156)},84764:function(H,U,e){H.exports=e(45499)},48824:function(H,U,e){H.exports=e(3296)},69967:function(H,U,e){H.exports=e(4184)},8363:function(H,U,e){H.exports=e(36952)},86636:function(H,U,e){H.exports=e(38983)},70192:function(H,U,e){H.exports=e(11572)},81604:function(H,U,e){H.exports=e(76924)},63796:function(H,U,e){H.exports=e(62944)},89336:function(H,U,e){H.exports=e(95443)},67484:function(H,U,e){H.exports=e(34864)},97312:function(H,U,e){H.exports=e(76272)},42192:function(H,U,e){H.exports=e(97924)},29800:function(H,U,e){H.exports=e(15436)},63560:function(H,U,e){H.exports=e(5621)},89904:function(H,U,e){H.exports=e(91304)},50248:function(H,U,e){H.exports=e(41724)},65832:function(H,U,e){H.exports=e(31991)},79440:function(H,U,e){H.exports=e(22869)},13752:function(H,U,e){H.exports=e(67776)},83096:function(H,U,e){H.exports=e(95952)},72196:function(H){H.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(H,U,e){var p=e(72196),L=e(25376),n=e(33816),C=e(31780).templatedArray;e(36208),H.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:L({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(H,U,e){var p=e(3400),L=e(54460),n=e(23816).draw;H.exports=function(g){var r=g._fullLayout,t=p.filterVisible(r.annotations);if(t.length&&g._fullData.length)return p.syncOrAsync([n,C],g)};function C(v){var g=v._fullLayout;p.filterVisible(g.annotations).forEach(function(r){var t=L.getFromId(v,r.xref),s=L.getFromId(v,r.yref),a=L.getRefType(r.xref),f=L.getRefType(r.yref);r._extremes={},a==="range"&&T(r,t),f==="range"&&T(r,s)})}function T(v,g){var r=g._id,t=r.charAt(0),s=v[t],a=v["a"+t],f=v[t+"ref"],u=v["a"+t+"ref"],l=v["_"+t+"padplus"],m=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],M=3*v.arrowsize*v.arrowwidth||0,c=M+h,i=M-h,d=3*v.startarrowsize*v.arrowwidth||0,x=d+h,A=d-h,E;if(u===f){var y=L.findExtremes(g,[g.r2c(s)],{ppadplus:c,ppadminus:i}),S=L.findExtremes(g,[g.r2c(a)],{ppadplus:Math.max(l,x),ppadminus:Math.max(m,A)});E={min:[y.min[0],S.min[0]],max:[y.max[0],S.max[0]]}}else x=a?x+a:x,A=a?A-a:A,E=L.findExtremes(g,[g.r2c(s)],{ppadplus:Math.max(l,c,x),ppadminus:Math.max(m,i,A)});v._extremes[r]=E}},42300:function(H,U,e){var p=e(3400),L=e(24040),n=e(31780).arrayEditor;H.exports={hasClickToShow:C,onClick:T};function C(r,t){var s=v(r,t);return s.on.length>0||s.explicitOff.length>0}function T(r,t){var s=v(r,t),a=s.on,f=s.off.concat(s.explicitOff),u={},l=r._fullLayout.annotations,m,h;if(a.length||f.length){for(m=0;m<a.length;m++)h=n(r.layout,"annotations",l[a[m]]),h.modifyItem("visible",!0),p.extendFlat(u,h.getUpdateObj());for(m=0;m<f.length;m++)h=n(r.layout,"annotations",l[f[m]]),h.modifyItem("visible",!1),p.extendFlat(u,h.getUpdateObj());return L.call("update",r,{},u)}}function v(r,t){var s=r._fullLayout.annotations,a=[],f=[],u=[],l=(t||[]).length,m,h,M,c,i,d,x,A;for(m=0;m<s.length;m++)if(M=s[m],c=M.clicktoshow,c){for(h=0;h<l;h++)if(i=t[h],d=i.xaxis,x=i.yaxis,d._id===M.xref&&x._id===M.yref&&d.d2r(i.x)===g(M._xclick,d)&&x.d2r(i.y)===g(M._yclick,x)){M.visible?c==="onout"?A=f:A=u:A=a,A.push(m);break}h===l&&M.visible&&c==="onout"&&f.push(m)}return{on:a,off:f,explicitOff:u}}function g(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(H,U,e){var p=e(3400),L=e(76308);H.exports=function(C,T,v,g){g("opacity");var r=g("bgcolor"),t=g("bordercolor"),s=L.opacity(t);g("borderpad");var a=g("borderwidth"),f=g("showarrow");g("text",f?" ":v._dfltTitle.annotation),g("textangle"),p.coerceFont(g,"font",v.font),g("width"),g("align");var u=g("height");if(u&&g("valign"),f){var l=g("arrowside"),m,h;l.indexOf("end")!==-1&&(m=g("arrowhead"),h=g("arrowsize")),l.indexOf("start")!==-1&&(g("startarrowhead",m),g("startarrowsize",h)),g("arrowcolor",s?T.bordercolor:L.defaultLine),g("arrowwidth",(s&&a||1)*2),g("standoff"),g("startstandoff")}var M=g("hovertext"),c=v.hoverlabel||{};if(M){var i=g("hoverlabel.bgcolor",c.bgcolor||(L.opacity(r)?L.rgb(r):L.defaultLine)),d=g("hoverlabel.bordercolor",c.bordercolor||L.contrast(i));p.coerceFont(g,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||d})}g("captureevents",!!M)}},26828:function(H,U,e){var p=e(38248),L=e(36896);H.exports=function(C,T,v,g){T=T||{};var r=v==="log"&&T.type==="linear",t=v==="linear"&&T.type==="log";if(!(r||t))return;var s=C._fullLayout.annotations,a=T._id.charAt(0),f,u;function l(h){var M=f[h],c=null;r?c=L(M,T.range):c=Math.pow(10,M),p(c)||(c=null),g(u+h,c)}for(var m=0;m<s.length;m++)f=s[m],u="annotations["+m+"].",f[a+"ref"]===T._id&&l(a),f["a"+a+"ref"]===T._id&&l("a"+a)}},45216:function(H,U,e){var p=e(3400),L=e(54460),n=e(51272),C=e(87192),T=e(13916);H.exports=function(r,t){n(r,t,{name:"annotations",handleItemDefaults:v})};function v(g,r,t){function s(w,o){return p.coerce(g,r,T,w,o)}var a=s("visible"),f=s("clicktoshow");if(a||f){C(g,r,t,s);for(var u=r.showarrow,l=["x","y"],m=[-10,-30],h={_fullLayout:t},M=0;M<2;M++){var c=l[M],i=L.coerceRef(g,r,h,c,"","paper");if(i!=="paper"){var d=L.getFromId(h,i);d._annIndices.push(r._index)}if(L.coercePosition(r,h,s,i,c,.5),u){var x="a"+c,A=L.coerceRef(g,r,h,x,"pixel",["pixel","paper"]);A!=="pixel"&&A!==i&&(A=r[x]="pixel");var E=A==="pixel"?m[M]:.4;L.coercePosition(r,h,s,A,x,E)}s(c+"anchor"),s(c+"shift")}if(p.noneOrAll(g,r,["x","y"]),u&&p.noneOrAll(g,r,["ax","ay"]),f){var y=s("xclick"),S=s("yclick");r._xclick=y===void 0?r.x:L.cleanPosition(y,h,r.xref),r._yclick=S===void 0?r.y:L.cleanPosition(S,h,r.yref)}}}},23816:function(H,U,e){var p=e(33428),L=e(24040),n=e(7316),C=e(3400),T=C.strTranslate,v=e(54460),g=e(76308),r=e(43616),t=e(93024),s=e(72736),a=e(93972),f=e(86476),u=e(31780).arrayEditor,l=e(33652);H.exports={draw:m,drawOne:h,drawRaw:c};function m(i){var d=i._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var x=0;x<d.annotations.length;x++)d.annotations[x].visible&&h(i,x);return n.previousPromises(i)}function h(i,d){var x=i._fullLayout,A=x.annotations[d]||{},E=v.getFromId(i,A.xref),y=v.getFromId(i,A.yref);E&&E.setScale(),y&&y.setScale(),c(i,A,d,!1,E,y)}function M(i,d,x,A,E){var y=E[x],S=E[x+"ref"],w=x.indexOf("y")!==-1,o=v.getRefType(S)==="domain",_=w?A.h:A.w;return i?o?y+(w?-d:d)/i._length:i.p2r(i.r2p(y)+d):y+(w?-d:d)/_}function c(i,d,x,A,E,y){var S=i._fullLayout,w=i._fullLayout._size,o=i._context.edits,_,b;A?(_="annotation-"+A,b=A+".annotations"):(_="annotation",b="annotations");var I=u(i.layout,b,d),D=I.modifyBase,N=I.modifyItem,k=I.getUpdateObj;S._infolayer.selectAll("."+_+'[data-index="'+x+'"]').remove();var z="clip"+S._uid+"_ann"+x;if(!d._input||d.visible===!1){p.selectAll("#"+z).remove();return}var F={x:{},y:{}},O=+d.textangle||0,B=S._infolayer.append("g").classed(_,!0).attr("data-index",String(x)).style("opacity",d.opacity),W=B.append("g").classed("annotation-text-g",!0),ee=o[d.showarrow?"annotationTail":"annotationPosition"],ne=d.captureevents||o.annotationText||ee;function Q(ye){var Ce={index:x,annotation:d._input,fullAnnotation:d,event:ye};return A&&(Ce.subplotId=A),Ce}var le=W.append("g").style("pointer-events",ne?"all":null).call(a,"pointer").on("click",function(){i._dragging=!1,i.emit("plotly_clickannotation",Q(p.event))});d.hovertext&&le.on("mouseover",function(){var ye=d.hoverlabel,Ce=ye.font,Ae=this.getBoundingClientRect(),Ie=i.getBoundingClientRect();t.loneHover({x0:Ae.left-Ie.left,x1:Ae.right-Ie.left,y:(Ae.top+Ae.bottom)/2-Ie.top,text:d.hovertext,color:ye.bgcolor,borderColor:ye.bordercolor,fontFamily:Ce.family,fontSize:Ce.size,fontColor:Ce.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:i})}).on("mouseout",function(){t.loneUnhover(S._hoverlayer.node())});var Z=d.borderwidth,Y=d.borderpad,re=Z+Y,X=le.append("rect").attr("class","bg").style("stroke-width",Z+"px").call(g.stroke,d.bordercolor).call(g.fill,d.bgcolor),q=d.width||d.height,se=S._topclips.selectAll("#"+z).data(q?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),se.exit().remove();var $=d.font,j=S._meta?C.templateString(d.text,S._meta):d.text,ue=le.append("text").classed("annotation-text",!0).text(j);function ae(ye){return ye.call(r.font,$).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),s.convertToTspans(ye,i,ce),ye}function ce(){var ye=ue.selectAll("a");if(ye.size()===1&&ye.text()===ue.text()){var Ce=le.insert("a",":first-child").attr({"xlink:xlink:href":ye.attr("xlink:href"),"xlink:xlink:show":ye.attr("xlink:show")}).style({cursor:"pointer"});Ce.node().appendChild(X.node())}var Ae=le.select(".annotation-text-math-group"),Ie=!Ae.empty(),Te=r.bBox((Ie?Ae:ue).node()),Le=Te.width,xe=Te.height,Re=d.width||Le,He=d.height||xe,Ve=Math.round(Re+2*re),Fe=Math.round(He+2*re);function We(Tr,cr){return cr==="auto"&&(Tr<.3333333333333333?cr="left":Tr>.6666666666666666?cr="right":cr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[cr]}for(var ut=!1,ht=["x","y"],rt=0;rt<ht.length;rt++){var tt=ht[rt],vt=d[tt+"ref"]||tt,pt=d["a"+tt+"ref"],mt={x:E,y}[tt],wt=(O+(tt==="x"?0:-90))*Math.PI/180,Lt=Ve*Math.cos(wt),at=Fe*Math.sin(wt),Oe=Math.abs(Lt)+Math.abs(at),Ze=d[tt+"anchor"],Je=d[tt+"shift"]*(tt==="x"?1:-1),Ye=F[tt],ke,be,me,_e,Ee,Be=v.getRefType(vt);if(mt&&Be!=="domain"){var je=mt.r2fraction(d[tt]);(je<0||je>1)&&(pt===vt?(je=mt.r2fraction(d["a"+tt]),(je<0||je>1)&&(ut=!0)):ut=!0),ke=mt._offset+mt.r2p(d[tt]),_e=.5}else{var nt=Be==="domain";tt==="x"?(me=d[tt],ke=nt?mt._offset+mt._length*me:ke=w.l+w.w*me):(me=1-d[tt],ke=nt?mt._offset+mt._length*me:ke=w.t+w.h*me),_e=d.showarrow?.5:me}if(d.showarrow){Ye.head=ke;var dt=d["a"+tt];if(Ee=Lt*We(.5,d.xanchor)-at*We(.5,d.yanchor),pt===vt){var xt=v.getRefType(pt);xt==="domain"?(tt==="y"&&(dt=1-dt),Ye.tail=mt._offset+mt._length*dt):xt==="paper"?tt==="y"?(dt=1-dt,Ye.tail=w.t+w.h*dt):Ye.tail=w.l+w.w*dt:Ye.tail=mt._offset+mt.r2p(dt),be=Ee}else Ye.tail=ke+dt,be=Ee+dt;Ye.text=Ye.tail+Ee;var Kt=S[tt==="x"?"width":"height"];if(vt==="paper"&&(Ye.head=C.constrain(Ye.head,1,Kt-1)),pt==="pixel"){var Jt=-Math.max(Ye.tail-3,Ye.text),St=Math.min(Ye.tail+3,Ye.text)-Kt;Jt>0?(Ye.tail+=Jt,Ye.text+=Jt):St>0&&(Ye.tail-=St,Ye.text-=St)}Ye.tail+=Je,Ye.head+=Je}else Ee=Oe*We(_e,Ze),be=Ee,Ye.text=ke+Ee;Ye.text+=Je,Ee+=Je,be+=Je,d["_"+tt+"padplus"]=Oe/2+be,d["_"+tt+"padminus"]=Oe/2-be,d["_"+tt+"size"]=Oe,d["_"+tt+"shift"]=Ee}if(ut){le.remove();return}var Ft=0,rr=0;if(d.align!=="left"&&(Ft=(Re-Le)*(d.align==="center"?.5:1)),d.valign!=="top"&&(rr=(He-xe)*(d.valign==="middle"?.5:1)),Ie)Ae.select("svg").attr({x:re+Ft-1,y:re+rr}).call(r.setClipUrl,q?z:null,i);else{var _r=re+rr-Te.top,Tt=re+Ft-Te.left;ue.call(s.positionText,Tt,_r).call(r.setClipUrl,q?z:null,i)}se.select("rect").call(r.setRect,re,re,Re,He),X.call(r.setRect,Z/2,Z/2,Ve-Z,Fe-Z),le.call(r.setTranslate,Math.round(F.x.text-Ve/2),Math.round(F.y.text-Fe/2)),W.attr({transform:"rotate("+O+","+F.x.text+","+F.y.text+")"});var $t=function(Tr,cr){B.selectAll(".annotation-arrow-g").remove();var bt=F.x.head,lt=F.y.head,Mt=F.x.tail+Tr,_t=F.y.tail+cr,Ot=F.x.text+Tr,It=F.y.text+cr,Wt=C.rotationXYMatrix(O,Ot,It),Gt=C.apply2DTransform(Wt),er=C.apply2DTransform2(Wt),dr=+X.attr("width"),pr=+X.attr("height"),mr=Ot-.5*dr,Xe=mr+dr,Ge=It-.5*pr,Ut=Ge+pr,Nt=[[mr,Ge,mr,Ut],[mr,Ut,Xe,Ut],[Xe,Ut,Xe,Ge],[Xe,Ge,mr,Ge]].map(er);if(!Nt.reduce(function(Nr,wn){return Nr^!!C.segmentsIntersect(bt,lt,bt+1e6,lt+1e6,wn[0],wn[1],wn[2],wn[3])},!1)){Nt.forEach(function(Nr){var wn=C.segmentsIntersect(Mt,_t,bt,lt,Nr[0],Nr[1],Nr[2],Nr[3]);wn&&(Mt=wn.x,_t=wn.y)});var Qt=d.arrowwidth,ar=d.arrowcolor,hr=d.arrowside,or=B.append("g").style({opacity:g.opacity(ar)}).classed("annotation-arrow-g",!0),Vt=or.append("path").attr("d","M"+Mt+","+_t+"L"+bt+","+lt).style("stroke-width",Qt+"px").call(g.stroke,g.rgb(ar));if(l(Vt,hr,d),o.annotationPosition&&Vt.node().parentNode&&!A){var yr=bt,wr=lt;if(d.standoff){var Ar=Math.sqrt(Math.pow(bt-Mt,2)+Math.pow(lt-_t,2));yr+=d.standoff*(Mt-bt)/Ar,wr+=d.standoff*(_t-lt)/Ar}var gr=or.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Mt-yr)+","+(_t-wr),transform:T(yr,wr)}).style("stroke-width",Qt+6+"px").call(g.stroke,"rgba(0,0,0,0)").call(g.fill,"rgba(0,0,0,0)"),jr,Fr;f.init({element:gr.node(),gd:i,prepFn:function(){var Nr=r.getTranslate(le);jr=Nr.x,Fr=Nr.y,E&&E.autorange&&D(E._name+".autorange",!0),y&&y.autorange&&D(y._name+".autorange",!0)},moveFn:function(Nr,wn){var hn=Gt(jr,Fr),Un=hn[0]+Nr,Fn=hn[1]+wn;le.call(r.setTranslate,Un,Fn),N("x",M(E,Nr,"x",w,d)),N("y",M(y,wn,"y",w,d)),d.axref===d.xref&&N("ax",M(E,Nr,"ax",w,d)),d.ayref===d.yref&&N("ay",M(y,wn,"ay",w,d)),or.attr("transform",T(Nr,wn)),W.attr({transform:"rotate("+O+","+Un+","+Fn+")"})},doneFn:function(){L.call("_guiRelayout",i,k());var Nr=document.querySelector(".js-notes-box-panel");Nr&&Nr.redraw(Nr.selectedObj)}})}}};if(d.showarrow&&$t(0,0),ee){var tr;f.init({element:le.node(),gd:i,prepFn:function(){tr=W.attr("transform")},moveFn:function(Tr,cr){var bt="pointer";if(d.showarrow)d.axref===d.xref?N("ax",M(E,Tr,"ax",w,d)):N("ax",d.ax+Tr),d.ayref===d.yref?N("ay",M(y,cr,"ay",w.w,d)):N("ay",d.ay+cr),$t(Tr,cr);else{if(A)return;var lt,Mt;if(E)lt=M(E,Tr,"x",w,d);else{var _t=d._xsize/w.w,Ot=d.x+(d._xshift-d.xshift)/w.w-_t/2;lt=f.align(Ot+Tr/w.w,_t,0,1,d.xanchor)}if(y)Mt=M(y,cr,"y",w,d);else{var It=d._ysize/w.h,Wt=d.y-(d._yshift+d.yshift)/w.h-It/2;Mt=f.align(Wt-cr/w.h,It,0,1,d.yanchor)}N("x",lt),N("y",Mt),(!E||!y)&&(bt=f.getCursor(E?.5:lt,y?.5:Mt,d.xanchor,d.yanchor))}W.attr({transform:T(Tr,cr)+tr}),a(le,bt)},clickFn:function(Tr,cr){d.captureevents&&i.emit("plotly_clickannotation",Q(cr))},doneFn:function(){a(le),L.call("_guiRelayout",i,k());var Tr=document.querySelector(".js-notes-box-panel");Tr&&Tr.redraw(Tr.selectedObj)}})}}o.annotationText?ue.call(s.makeEditable,{delegate:le,gd:i}).call(ae).on("edit",function(ye){d.text=ye,this.call(ae),N("text",ye),E&&E.autorange&&D(E._name+".autorange",!0),y&&y.autorange&&D(y._name+".autorange",!0),L.call("_guiRelayout",i,k())}):ue.call(ae)}},33652:function(H,U,e){var p=e(33428),L=e(76308),n=e(72196),C=e(3400),T=C.strScale,v=C.strRotate,g=C.strTranslate;H.exports=function(t,s,a){var f=t.node(),u=n[a.arrowhead||0],l=n[a.startarrowhead||0],m=(a.arrowwidth||1)*(a.arrowsize||1),h=(a.arrowwidth||1)*(a.startarrowsize||1),M=s.indexOf("start")>=0,c=s.indexOf("end")>=0,i=u.backoff*m+a.standoff,d=l.backoff*h+a.startstandoff,x,A,E,y;if(f.nodeName==="line"){x={x:+t.attr("x1"),y:+t.attr("y1")},A={x:+t.attr("x2"),y:+t.attr("y2")};var S=x.x-A.x,w=x.y-A.y;if(E=Math.atan2(w,S),y=E+Math.PI,i&&d&&i+d>Math.sqrt(S*S+w*w)){W();return}if(i){if(i*i>S*S+w*w){W();return}var o=i*Math.cos(E),_=i*Math.sin(E);A.x+=o,A.y+=_,t.attr({x2:A.x,y2:A.y})}if(d){if(d*d>S*S+w*w){W();return}var b=d*Math.cos(E),I=d*Math.sin(E);x.x-=b,x.y-=I,t.attr({x1:x.x,y1:x.y})}}else if(f.nodeName==="path"){var D=f.getTotalLength(),N="";if(D<i+d){W();return}var k=f.getPointAtLength(0),z=f.getPointAtLength(.1);E=Math.atan2(k.y-z.y,k.x-z.x),x=f.getPointAtLength(Math.min(d,D)),N="0px,"+d+"px,";var F=f.getPointAtLength(D),O=f.getPointAtLength(D-.1);y=Math.atan2(F.y-O.y,F.x-O.x),A=f.getPointAtLength(Math.max(0,D-i));var B=N?d+i:i;N+=D-B+"px,"+D+"px",t.style("stroke-dasharray",N)}function W(){t.style("stroke-dasharray","0px,100px")}function ee(ne,Q,le,Z){ne.path&&(ne.noRotate&&(le=0),p.select(f.parentNode).append("path").attr({class:t.attr("class"),d:ne.path,transform:g(Q.x,Q.y)+v(le*180/Math.PI)+T(Z)}).style({fill:L.rgb(a.arrowcolor),"stroke-width":0}))}M&&ee(l,x,E,h),c&&ee(u,A,y,m)}},79180:function(H,U,e){var p=e(23816),L=e(42300);H.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:L.hasClickToShow,onClick:L.onClick,convertCoords:e(26828)}},45899:function(H,U,e){var p=e(13916),L=e(67824).overrideAll,n=e(31780).templatedArray;H.exports=L(n("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},42456:function(H,U,e){var p=e(3400),L=e(54460);H.exports=function(T){for(var v=T.fullSceneLayout,g=v.annotations,r=0;r<g.length;r++)n(g[r],T);T.fullLayout._infolayer.selectAll(".annotation-"+T.id).remove()};function n(C,T){var v=T.fullSceneLayout,g=v.domain,r=T.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},p.extendFlat(C._xa,t),L.setConvert(C._xa),C._xa._offset=r.l+g.x[0]*r.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*r.w*(g.x[1]-g.x[0])},C._ya={},p.extendFlat(C._ya,t),L.setConvert(C._ya),C._ya._offset=r.t+(1-g.y[1])*r.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*r.h*(g.y[1]-g.y[0])}}},52808:function(H,U,e){var p=e(3400),L=e(54460),n=e(51272),C=e(87192),T=e(45899);H.exports=function(r,t,s){n(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:s.fullLayout})};function v(g,r,t,s){function a(l,m){return p.coerce(g,r,T,l,m)}function f(l){var m=l+"axis",h={_fullLayout:{}};return h._fullLayout[m]=t[m],L.coercePosition(r,h,a,l,l,.5)}var u=a("visible");u&&(C(g,r,s.fullLayout,a),f("x"),f("y"),f("z"),p.noneOrAll(g,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),p.noneOrAll(g,r,["ax","ay"])))}},71836:function(H,U,e){var p=e(23816).drawRaw,L=e(94424),n=["x","y","z"];H.exports=function(T){for(var v=T.fullSceneLayout,g=T.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var s=r[t],a=!1,f=0;f<3;f++){var u=n[f],l=s[u],m=v[u+"axis"],h=m.r2fraction(l);if(h<0||h>1){a=!0;break}}a?T.fullLayout._infolayer.select(".annotation-"+T.id+'[data-index="'+t+'"]').remove():(s._pdata=L(T.glplot.cameraParams,[v.xaxis.r2l(s.x)*g[0],v.yaxis.r2l(s.y)*g[1],v.zaxis.r2l(s.z)*g[2]]),p(T.graphDiv,s,t,T.id,s._xa,s._ya))}}},56864:function(H,U,e){var p=e(24040),L=e(3400);H.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:n,convert:e(42456),draw:e(71836)};function n(C,T){var v=p.subplotsRegistry.gl3d;if(v)for(var g=v.attrRegex,r=Object.keys(C),t=0;t<r.length;t++){var s=r[t];g.test(s)&&(C[s].annotations||[]).length&&(L.pushUnique(T._basePlotModules,v),L.pushUnique(T._subplots.gl3d,s))}}},54976:function(H,U,e){H.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(H,U,e){var p=e(54976),L=e(3400),n=e(39032),C=n.EPOCHJD,T=n.ONEDAY,v={valType:"enumerated",values:L.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},g=function(E,y,S,w){var o={};return o[S]=v,L.coerce(E,y,o,S,w)},r=function(E,y,S,w){for(var o=0;o<S.length;o++)g(E,y,S[o]+"calendar",w.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},s={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},a={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},f="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:f,w:f,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(E,y,S){for(var w=Math.floor((y+.05)/T)+C,o=h(S).fromJD(w),_=0,b,I,D,N,k;(_=E.indexOf("%",_))!==-1;)b=E.charAt(_+1),b==="0"||b==="-"||b==="_"?(D=3,I=E.charAt(_+2),b==="_"&&(b="-")):(I=b,b="0",D=2),N=u[I],N?(N===f?k=f:k=o.formatDate(N[b]),E=E.substr(0,_)+k+E.substr(_+D),_+=k.length):_+=D;return E}var m={};function h(E){var y=m[E];return y||(y=m[E]=p.instance(E),y)}function M(E){return L.extendFlat({},v,{description:E})}function c(E){return"Sets the calendar system to use with `"+E+"` date data."}var i={xcalendar:M(c("x"))},d=L.extendFlat({},i,{ycalendar:M(c("y"))}),x=L.extendFlat({},d,{zcalendar:M(c("z"))}),A=M(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));H.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:x,surface:x,mesh3d:x,scattergl:d,ohlc:i,candlestick:i},layout:{calendar:M(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:A},yaxis:{calendar:A},scene:{xaxis:{calendar:A},yaxis:{calendar:A},zaxis:{calendar:A}},polar:{radialaxis:{calendar:A}}},transforms:{filter:{valuecalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:g,handleTraceDefaults:r,CANONICAL_SUNDAY:s,CANONICAL_TICK:t,DFLTRANGE:a,getCal:h,worldCalFmt:l}},22548:function(H,U){U.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],U.defaultLine="#444",U.lightLine="#eee",U.background="#fff",U.borderLine="#BEC8D9",U.lightFraction=90.9090909090909},76308:function(H,U,e){var p=e(49760),L=e(38248),n=e(38116).isTypedArray,C=H.exports={},T=e(22548);C.defaults=T.defaults;var v=C.defaultLine=T.defaultLine;C.lightLine=T.lightLine;var g=C.background=T.background;C.tinyRGB=function(t){var s=t.toRgb();return"rgb("+Math.round(s.r)+", "+Math.round(s.g)+", "+Math.round(s.b)+")"},C.rgb=function(t){return C.tinyRGB(p(t))},C.opacity=function(t){return t?p(t).getAlpha():0},C.addOpacity=function(t,s){var a=p(t).toRgb();return"rgba("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+", "+s+")"},C.combine=function(t,s){var a=p(t).toRgb();if(a.a===1)return p(t).toRgbString();var f=p(s||g).toRgb(),u=f.a===1?f:{r:255*(1-f.a)+f.r*f.a,g:255*(1-f.a)+f.g*f.a,b:255*(1-f.a)+f.b*f.a},l={r:u.r*(1-a.a)+a.r*a.a,g:u.g*(1-a.a)+a.g*a.a,b:u.b*(1-a.a)+a.b*a.a};return p(l).toRgbString()},C.interpolate=function(t,s,a){var f=p(t).toRgb(),u=p(s).toRgb(),l={r:a*f.r+(1-a)*u.r,g:a*f.g+(1-a)*u.g,b:a*f.b+(1-a)*u.b};return p(l).toRgbString()},C.contrast=function(t,s,a){var f=p(t);f.getAlpha()!==1&&(f=p(C.combine(t,g)));var u=f.isDark()?s?f.lighten(s):g:a?f.darken(a):v;return u.toString()},C.stroke=function(t,s){var a=p(s);t.style({stroke:C.tinyRGB(a),"stroke-opacity":a.getAlpha()})},C.fill=function(t,s){var a=p(s);t.style({fill:C.tinyRGB(a),"fill-opacity":a.getAlpha()})},C.clean=function(t){if(!(!t||typeof t!="object")){var s=Object.keys(t),a,f,u,l;for(a=0;a<s.length;a++)if(u=s[a],l=t[u],u.substr(u.length-5)==="color")if(Array.isArray(l))for(f=0;f<l.length;f++)l[f]=r(l[f]);else t[u]=r(l);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(l))for(f=0;f<l.length;f++)Array.isArray(l[f])&&(l[f][1]=r(l[f][1]));else if(Array.isArray(l)){var m=l[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(f=0;f<l.length;f++)C.clean(l[f])}else l&&typeof l=="object"&&!n(l)&&C.clean(l)}};function r(t){if(L(t)||typeof t!="string")return t;var s=t.trim();if(s.substr(0,3)!=="rgb")return t;var a=s.match(/^rgba?\s*\(([^()]*)\)$/);if(!a)return t;var f=a[1].trim().split(/\s*[\s,]\s*/),u=s.charAt(3)==="a"&&f.length===4;if(!u&&f.length!==3)return t;for(var l=0;l<f.length;l++){if(!f[l].length||(f[l]=Number(f[l]),!(f[l]>=0)))return t;if(l===3)f[l]>1&&(f[l]=1);else if(f[l]>=1)return t}var m=Math.round(f[0]*255)+", "+Math.round(f[1]*255)+", "+Math.round(f[2]*255);return u?"rgba("+m+", "+f[3]+")":"rgb("+m+")"}},42996:function(H,U,e){var p=e(94724),L=e(25376),n=e(92880).extendFlat,C=e(67824).overrideAll;H.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:n({},p.ticks,{dflt:""}),ticklabeloverflow:n({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:L({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:L({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(H){H.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(H,U,e){var p=e(3400),L=e(31780),n=e(26332),C=e(25404),T=e(95936),v=e(42568),g=e(42996);H.exports=function(t,s,a){var f=L.newContainer(s,"colorbar"),u=t.colorbar||{};function l(F,O){return p.coerce(u,f,g,F,O)}var m=a.margin||{t:0,b:0,l:0,r:0},h=a.width-m.l-m.r,M=a.height-m.t-m.b,c=l("orientation"),i=c==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(i?h:M):30);var x=l("lenmode");l("len",x==="fraction"?1:i?M:h);var A=l("yref"),E=l("xref"),y=A==="paper",S=E==="paper",w,o,_,b="left";i?(_="middle",b=S?"left":"right",w=S?1.02:1,o=.5):(_=y?"bottom":"top",b="center",w=.5,o=y?1.02:1),p.coerce(u,f,{x:{valType:"number",min:S?-2:0,max:S?3:1,dflt:w}},"x"),p.coerce(u,f,{y:{valType:"number",min:y?-2:0,max:y?3:1,dflt:o}},"y"),l("xanchor",b),l("xpad"),l("yanchor",_),l("ypad"),p.noneOrAll(u,f,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var I=p.coerce(u,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:i?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",I.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(u,f,l,"linear");var D=a.font,N={noAutotickangles:!0,outerTicks:!1,font:D};I.indexOf("inside")!==-1&&(N.bgColor="black"),v(u,f,l,"linear",N),T(u,f,l,"linear",N),C(u,f,l,"linear",N),l("title.text",a._dfltTitle.colorbar);var k=f.showticklabels?f.tickfont:D,z=p.extendFlat({},k,{color:D.color,size:p.bigFont(k.size)});p.coerceFont(l,"title.font",z),l("title.side",i?"top":"right")}},37848:function(H,U,e){var p=e(33428),L=e(49760),n=e(7316),C=e(24040),T=e(54460),v=e(86476),g=e(3400),r=g.strTranslate,t=e(92880).extendFlat,s=e(93972),a=e(43616),f=e(76308),u=e(81668),l=e(72736),m=e(94288).flipScale,h=e(28336),M=e(37668),c=e(94724),i=e(84284),d=i.LINE_SPACING,x=i.FROM_TL,A=i.FROM_BR,E=e(63964).cn;function y(I){var D=I._fullLayout,N=D._infolayer.selectAll("g."+E.colorbar).data(S(I),function(k){return k._id});N.enter().append("g").attr("class",function(k){return k._id}).classed(E.colorbar,!0),N.each(function(k){var z=p.select(this);g.ensureSingle(z,"rect",E.cbbg),g.ensureSingle(z,"g",E.cbfills),g.ensureSingle(z,"g",E.cblines),g.ensureSingle(z,"g",E.cbaxis,function(O){O.classed(E.crisp,!0)}),g.ensureSingle(z,"g",E.cbtitleunshift,function(O){O.append("g").classed(E.cbtitle,!0)}),g.ensureSingle(z,"rect",E.cboutline);var F=w(z,k,I);F&&F.then&&(I._promises||[]).push(F),I._context.edits.colorbarPosition&&o(z,k,I)}),N.exit().each(function(k){n.autoMargin(I,k._id)}).remove(),N.order()}function S(I){var D=I._fullLayout,N=I.calcdata,k=[],z,F,O,B;function W($){return t($,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ee(){typeof B.calc=="function"?B.calc(I,O,z):(z._fillgradient=F.reversescale?m(F.colorscale):F.colorscale,z._zrange=[F[B.min],F[B.max]])}for(var ne=0;ne<N.length;ne++){var Q=N[ne];if(O=Q[0].trace,!!O._module){var le=O._module.colorbar;if(O.visible===!0&&le)for(var Z=Array.isArray(le),Y=Z?le:[le],re=0;re<Y.length;re++){B=Y[re];var X=B.container;F=X?O[X]:O,F&&F.showscale&&(z=W(F.colorbar),z._id="cb"+O.uid+(Z&&X?"-"+X:""),z._traceIndex=O.index,z._propPrefix=(X?X+".":"")+"colorbar.",z._meta=O._meta,ee(),k.push(z))}}}for(var q in D._colorAxes)if(F=D[q],F.showscale){var se=D._colorAxes[q];z=W(F.colorbar),z._id="cb"+q,z._propPrefix=q+".colorbar.",z._meta=D._meta,B={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(O=se[1],B.calc=O._module.colorbar.calc),ee(),k.push(z)}return k}function w(I,D,N){var k=D.orientation==="v",z=D.len,F=D.lenmode,O=D.thickness,B=D.thicknessmode,W=D.outlinewidth,ee=D.borderwidth,ne=D.bgcolor,Q=D.xanchor,le=D.yanchor,Z=D.xpad,Y=D.ypad,re=D.x,X=k?D.y:1-D.y,q=D.yref==="paper",se=D.xref==="paper",$=N._fullLayout,j=$._size,ue=D._fillcolor,ae=D._line,ce=D.title,ye=ce.side,Ce=D._zrange||p.extent((typeof ue=="function"?ue:ae.color).domain()),Ae=typeof ae.color=="function"?ae.color:function(){return ae.color},Ie=typeof ue=="function"?ue:function(){return ue},Te=D._levels,Le=_(N,D,Ce),xe=Le.fill,Re=Le.line,He=Math.round(O*(B==="fraction"?k?j.w:j.h:1)),Ve=He/(k?j.w:j.h),Fe=Math.round(z*(F==="fraction"?k?j.h:j.w:1)),We=Fe/(k?j.h:j.w),ut=se?j.w:N._fullLayout.width,ht=q?j.h:N._fullLayout.height,rt=Math.round(k?re*ut+Z:X*ht+Y),tt={center:.5,right:1}[Q]||0,vt={top:1,middle:.5}[le]||0,pt=k?re-tt*Ve:X-vt*Ve,mt=k?X-vt*We:re-tt*We,wt=Math.round(k?ht*(1-mt):ut*mt);D._lenFrac=We,D._thickFrac=Ve,D._uFrac=pt,D._vFrac=mt;var Lt=D._axis=b(N,D,Ce);Lt.position=Ve+(k?re+Z/j.w:X+Y/j.h);var at=["top","bottom"].indexOf(ye)!==-1;if(k&&at&&(Lt.title.side=ye,Lt.titlex=re+Z/j.w,Lt.titley=mt+(ce.side==="top"?We-Y/j.h:Y/j.h)),!k&&!at&&(Lt.title.side=ye,Lt.titley=X+Y/j.h,Lt.titlex=mt+Z/j.w),ae.color&&D.tickmode==="auto"){Lt.tickmode="linear",Lt.tick0=Te.start;var Oe=Te.size,Ze=g.constrain(Fe/50,4,15)+1,Je=(Ce[1]-Ce[0])/((D.nticks||Ze)*Oe);if(Je>1){var Ye=Math.pow(10,Math.floor(Math.log(Je)/Math.LN10));Oe*=Ye*g.roundUp(Je/Ye,[2,5,10]),(Math.abs(Te.start)/Te.size+1e-6)%1<2e-6&&(Lt.tick0=0)}Lt.dtick=Oe}Lt.domain=k?[mt+Y/j.h,mt+We-Y/j.h]:[mt+Z/j.w,mt+We-Z/j.w],Lt.setScale(),I.attr("transform",r(Math.round(j.l),Math.round(j.t)));var ke=I.select("."+E.cbtitleunshift).attr("transform",r(-Math.round(j.l),-Math.round(j.t))),be=Lt.ticklabelposition,me=Lt.title.font.size,_e=I.select("."+E.cbaxis),Ee,Be=0,je=0;function nt(St,Ft){var rr={propContainer:Lt,propName:D._propPrefix+"title",traceIndex:D._traceIndex,_meta:D._meta,placeholder:$._dfltTitle.colorbar,containerGroup:I.select("."+E.cbtitle)},_r=St.charAt(0)==="h"?St.substr(1):"h"+St;I.selectAll("."+_r+",."+_r+"-math-group").remove(),u.draw(N,St,t(rr,Ft||{}))}function dt(){if(k&&at||!k&&!at){var St,Ft;ye==="top"&&(St=Z+j.l+ut*re,Ft=Y+j.t+ht*(1-mt-We)+3+me*.75),ye==="bottom"&&(St=Z+j.l+ut*re,Ft=Y+j.t+ht*(1-mt)-3-me*.25),ye==="right"&&(Ft=Y+j.t+ht*X+3+me*.75,St=Z+j.l+ut*mt),nt(Lt._id+"title",{attributes:{x:St,y:Ft,"text-anchor":k?"start":"middle"}})}}function xt(){if(k&&!at||!k&&at){var St=Lt.position||0,Ft=Lt._offset+Lt._length/2,rr,_r;if(ye==="right")_r=Ft,rr=j.l+ut*St+10+me*(Lt.showticklabels?1:.5);else if(rr=Ft,ye==="bottom"&&(_r=j.t+ht*St+10+(be.indexOf("inside")===-1?Lt.tickfont.size:0)+(Lt.ticks!=="intside"&&D.ticklen||0)),ye==="top"){var Tt=ce.text.split("<br>").length;_r=j.t+ht*St+10-He-d*me*Tt}nt((k?"h":"v")+Lt._id+"title",{avoid:{selection:p.select(N).selectAll("g."+Lt._id+"tick"),side:ye,offsetTop:k?0:j.t,offsetLeft:k?j.l:0,maxShift:k?$.width:$.height},attributes:{x:rr,y:_r,"text-anchor":"middle"},transform:{rotate:k?-90:0,offset:0}})}}function Kt(){if(!k&&!at||k&&at){var St=I.select("."+E.cbtitle),Ft=St.select("text"),rr=[-W/2,W/2],_r=St.select(".h"+Lt._id+"title-math-group").node(),Tt=15.6;Ft.node()&&(Tt=parseInt(Ft.node().style.fontSize,10)*d);var $t;if(_r?($t=a.bBox(_r),je=$t.width,Be=$t.height,Be>Tt&&(rr[1]-=(Be-Tt)/2)):Ft.node()&&!Ft.classed(E.jsPlaceholder)&&($t=a.bBox(Ft.node()),je=$t.width,Be=$t.height),k){if(Be){if(Be+=5,ye==="top")Lt.domain[1]-=Be/j.h,rr[1]*=-1;else{Lt.domain[0]+=Be/j.h;var tr=l.lineCount(Ft);rr[1]+=(1-tr)*Tt}St.attr("transform",r(rr[0],rr[1])),Lt.setScale()}}else je&&(ye==="right"&&(Lt.domain[0]+=(je+me/2)/j.w),St.attr("transform",r(rr[0],rr[1])),Lt.setScale())}I.selectAll("."+E.cbfills+",."+E.cblines).attr("transform",k?r(0,Math.round(j.h*(1-Lt.domain[1]))):r(Math.round(j.w*Lt.domain[0]),0)),_e.attr("transform",k?r(0,Math.round(-j.t)):r(Math.round(-j.l),0));var Tr=I.select("."+E.cbfills).selectAll("rect."+E.cbfill).attr("style","").data(xe);Tr.enter().append("rect").classed(E.cbfill,!0).attr("style",""),Tr.exit().remove();var cr=Ce.map(Lt.c2p).map(Math.round).sort(function(Ot,It){return Ot-It});Tr.each(function(Ot,It){var Wt=[It===0?Ce[0]:(xe[It]+xe[It-1])/2,It===xe.length-1?Ce[1]:(xe[It]+xe[It+1])/2].map(Lt.c2p).map(Math.round);k&&(Wt[1]=g.constrain(Wt[1]+(Wt[1]>Wt[0])?1:-1,cr[0],cr[1]));var Gt=p.select(this).attr(k?"x":"y",rt).attr(k?"y":"x",p.min(Wt)).attr(k?"width":"height",Math.max(He,2)).attr(k?"height":"width",Math.max(p.max(Wt)-p.min(Wt),2));if(D._fillgradient)a.gradient(Gt,N,D._id,k?"vertical":"horizontalreversed",D._fillgradient,"fill");else{var er=Ie(Ot).replace("e-","");Gt.attr("fill",L(er).toHexString())}});var bt=I.select("."+E.cblines).selectAll("path."+E.cbline).data(ae.color&&ae.width?Re:[]);bt.enter().append("path").classed(E.cbline,!0),bt.exit().remove(),bt.each(function(Ot){var It=rt,Wt=Math.round(Lt.c2p(Ot))+ae.width/2%1;p.select(this).attr("d","M"+(k?It+","+Wt:Wt+","+It)+(k?"h":"v")+He).call(a.lineGroupStyle,ae.width,Ae(Ot),ae.dash)}),_e.selectAll("g."+Lt._id+"tick,path").remove();var lt=rt+He+(W||0)/2-(D.ticks==="outside"?1:0),Mt=T.calcTicks(Lt),_t=T.getTickSigns(Lt)[2];return T.drawTicks(N,Lt,{vals:Lt.ticks==="inside"?T.clipEnds(Lt,Mt):Mt,layer:_e,path:T.makeTickPath(Lt,lt,_t),transFn:T.makeTransTickFn(Lt)}),T.drawLabels(N,Lt,{vals:Mt,layer:_e,transFn:T.makeTransTickLabelFn(Lt),labelFns:T.makeLabelFns(Lt,lt)})}function Jt(){var St,Ft=He+W/2;be.indexOf("inside")===-1&&(St=a.bBox(_e.node()),Ft+=k?St.width:St.height),Ee=ke.select("text");var rr=0,_r=k&&ye==="top",Tt=!k&&ye==="right",$t=0;if(Ee.node()&&!Ee.classed(E.jsPlaceholder)){var tr,Tr=ke.select(".h"+Lt._id+"title-math-group").node();Tr&&(k&&at||!k&&!at)?(St=a.bBox(Tr),rr=St.width,tr=St.height):(St=a.bBox(ke.node()),rr=St.right-j.l-(k?rt:wt),tr=St.bottom-j.t-(k?wt:rt),!k&&ye==="top"&&(Ft+=St.height,$t=St.height)),Tt&&(Ee.attr("transform",r(rr/2+me/2,0)),rr*=2),Ft=Math.max(Ft,k?rr:tr)}var cr=(k?Z:Y)*2+Ft+ee+W/2,bt=0;!k&&ce.text&&le==="bottom"&&X<=0&&(bt=cr/2,cr+=bt,$t+=bt),$._hColorbarMoveTitle=bt,$._hColorbarMoveCBTitle=$t;var lt=ee+W,Mt=(k?rt:wt)-lt/2-(k?Z:0),_t=(k?wt:rt)-(k?Fe:Y+$t-bt);I.select("."+E.cbbg).attr("x",Mt).attr("y",_t).attr(k?"width":"height",Math.max(cr-bt,2)).attr(k?"height":"width",Math.max(Fe+lt,2)).call(f.fill,ne).call(f.stroke,D.bordercolor).style("stroke-width",ee);var Ot=Tt?Math.max(rr-10,0):0;I.selectAll("."+E.cboutline).attr("x",(k?rt:wt+Z)+Ot).attr("y",(k?wt+Y-Fe:rt)+(_r?Be:0)).attr(k?"width":"height",Math.max(He,2)).attr(k?"height":"width",Math.max(Fe-(k?2*Y+Be:2*Z+Ot),2)).call(f.stroke,D.outlinecolor).style({fill:"none","stroke-width":W});var It=k?tt*cr:0,Wt=k?0:(1-vt)*cr-$t;if(It=se?j.l-It:-It,Wt=q?j.t-Wt:-Wt,I.attr("transform",r(It,Wt)),!k&&(ee||L(ne).getAlpha()&&!L.equals($.paper_bgcolor,ne))){var Gt=_e.selectAll("text"),er=Gt[0].length,dr=I.select("."+E.cbbg).node(),pr=a.bBox(dr),mr=a.getTranslate(I),Xe=2;Gt.each(function(wr,Ar){var gr=0,jr=er-1;if(Ar===gr||Ar===jr){var Fr=a.bBox(this),Nr=a.getTranslate(this),wn;if(Ar===jr){var hn=Fr.right+Nr.x,Un=pr.right+mr.x+wt-ee-Xe+re;wn=Un-hn,wn>0&&(wn=0)}else if(Ar===gr){var Fn=Fr.left+Nr.x,Pr=pr.left+mr.x+wt+ee+Xe;wn=Pr-Fn,wn<0&&(wn=0)}wn&&(er<3?this.setAttribute("transform","translate("+wn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ge={},Ut=x[Q],Nt=A[Q],Qt=x[le],ar=A[le],hr=cr-He;k?(F==="pixels"?(Ge.y=X,Ge.t=Fe*Qt,Ge.b=Fe*ar):(Ge.t=Ge.b=0,Ge.yt=X+z*Qt,Ge.yb=X-z*ar),B==="pixels"?(Ge.x=re,Ge.l=cr*Ut,Ge.r=cr*Nt):(Ge.l=hr*Ut,Ge.r=hr*Nt,Ge.xl=re-O*Ut,Ge.xr=re+O*Nt)):(F==="pixels"?(Ge.x=re,Ge.l=Fe*Ut,Ge.r=Fe*Nt):(Ge.l=Ge.r=0,Ge.xl=re+z*Ut,Ge.xr=re-z*Nt),B==="pixels"?(Ge.y=1-X,Ge.t=cr*Qt,Ge.b=cr*ar):(Ge.t=hr*Qt,Ge.b=hr*ar,Ge.yt=X-O*Qt,Ge.yb=X+O*ar));var or=D.y<.5?"b":"t",Vt=D.x<.5?"l":"r";N._fullLayout._reservedMargin[D._id]={};var yr={r:$.width-Mt-It,l:Mt+Ge.r,b:$.height-_t-Wt,t:_t+Ge.b};se&&q?n.autoMargin(N,D._id,Ge):se?N._fullLayout._reservedMargin[D._id][or]=yr[or]:q||k?N._fullLayout._reservedMargin[D._id][Vt]=yr[Vt]:N._fullLayout._reservedMargin[D._id][or]=yr[or]}return g.syncOrAsync([n.previousPromises,dt,Kt,xt,n.previousPromises,Jt],N)}function o(I,D,N){var k=D.orientation==="v",z=N._fullLayout,F=z._size,O,B,W;v.init({element:I.node(),gd:N,prepFn:function(){O=I.attr("transform"),s(I)},moveFn:function(ee,ne){I.attr("transform",O+r(ee,ne)),B=v.align((k?D._uFrac:D._vFrac)+ee/F.w,k?D._thickFrac:D._lenFrac,0,1,D.xanchor),W=v.align((k?D._vFrac:1-D._uFrac)-ne/F.h,k?D._lenFrac:D._thickFrac,0,1,D.yanchor);var Q=v.getCursor(B,W,D.xanchor,D.yanchor);s(I,Q)},doneFn:function(){if(s(I),B!==void 0&&W!==void 0){var ee={};ee[D._propPrefix+"x"]=B,ee[D._propPrefix+"y"]=W,D._traceIndex!==void 0?C.call("_guiRestyle",N,ee,D._traceIndex):C.call("_guiRelayout",N,ee)}}})}function _(I,D,N){var k=D._levels,z=[],F=[],O,B,W=k.end+k.size/100,ee=k.size,ne=1.001*N[0]-.001*N[1],Q=1.001*N[1]-.001*N[0];for(B=0;B<1e5&&(O=k.start+B*ee,!(ee>0?O>=W:O<=W));B++)O>ne&&O<Q&&z.push(O);if(D._fillgradient)F=[0];else if(typeof D._fillcolor=="function"){var le=D._filllevels;if(le)for(W=le.end+le.size/100,ee=le.size,B=0;B<1e5&&(O=le.start+B*ee,!(ee>0?O>=W:O<=W));B++)O>N[0]&&O<N[1]&&F.push(O);else F=z.map(function(Z){return Z-k.size/2}),F.push(F[F.length-1]+k.size)}else D._fillcolor&&typeof D._fillcolor=="string"&&(F=[0]);return k.size<0&&(z.reverse(),F.reverse()),{line:z,fill:F}}function b(I,D,N){var k=I._fullLayout,z=D.orientation==="v",F={type:"linear",range:N,tickmode:D.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,ticklabelposition:D.ticklabelposition,ticklabeloverflow:D.ticklabeloverflow,ticklabelstep:D.ticklabelstep,tickfont:D.tickfont,tickangle:D.tickangle,tickformat:D.tickformat,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,showexponent:D.showexponent,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,title:D.title,showline:!0,anchor:"free",side:z?"right":"bottom",position:1},O=z?"y":"x",B={type:"linear",_id:O+D._id},W={letter:O,font:k.font,noAutotickangles:O==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:k.calendar};function ee(ne,Q){return g.coerce(F,B,c,ne,Q)}return h(F,B,ee,W,k),M(F,B,ee,W),B}H.exports={draw:y}},90553:function(H,U,e){var p=e(3400);H.exports=function(n){return p.isPlainObject(n.colorbar)}},55080:function(H,U,e){H.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(H,U,e){var p=e(42996),L=e(53756).counter,n=e(95376),C=e(88304).scales;n(C),H.exports=function(v,g){v=v||"",g=g||{};var r=g.cLetter||"c";"onlyIfNumerical"in g&&g.onlyIfNumerical;var t="noScale"in g?g.noScale:v==="marker.line",s="showScaleDflt"in g?g.showScaleDflt:r==="z",a=typeof g.colorscaleDflt=="string"?C[g.colorscaleDflt]:null,f=g.editTypeOverride||"",u;"colorAttr"in g?(u=g.colorAttr,g.colorAttr):u={z:"z",c:"color"}[r];var l=r+"auto",m=r+"min",h=r+"max",M=r+"mid",c={};c[m]=c[h]=void 0;var i={};i[l]=!1;var d={};return u==="color"&&(d.color={valType:"color",arrayOk:!0,editType:f||"style"},g.anim&&(d.color.anim=!0)),d[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},d[m]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:i},d[h]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:i},d[M]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},d.colorscale={valType:"colorscale",editType:"calc",dflt:a,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:g.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:s,editType:"calc"},d.colorbar=p),g.noColorAxis||(d.coloraxis={valType:"subplotid",regex:L("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(H,U,e){var p=e(38248),L=e(3400),n=e(94288).extractOpts;H.exports=function(T,v,g){var r=T._fullLayout,t=g.vals,s=g.containerStr,a=s?L.nestedProperty(v,s).get():v,f=n(a),u=f.auto!==!1,l=f.min,m=f.max,h=f.mid,M=function(){return L.aggNums(Math.min,null,t)},c=function(){return L.aggNums(Math.max,null,t)};if(l===void 0?l=M():u&&(a._colorAx&&p(l)?l=Math.min(l,M()):l=M()),m===void 0?m=c():u&&(a._colorAx&&p(m)?m=Math.max(m,c()):m=c()),u&&h!==void 0&&(m-h>h-l?l=h-(m-h):m-h<h-l&&(m=h+(h-l))),l===m&&(l-=.5,m+=.5),f._sync("min",l),f._sync("max",m),f.autocolorscale){var i;l*m<0?i=r.colorscale.diverging:l>=0?i=r.colorscale.sequential:i=r.colorscale.sequentialminus,f._sync("colorscale",i)}}},95504:function(H,U,e){var p=e(3400),L=e(94288).hasColorscale,n=e(94288).extractOpts;H.exports=function(T,v){function g(l,m){var h=l["_"+m];h!==void 0&&(l[m]=h)}function r(l,m){var h=m.container?p.nestedProperty(l,m.container).get():l;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var M=n(h),c=M.auto;(c||M.min===void 0)&&g(h,m.min),(c||M.max===void 0)&&g(h,m.max),M.autocolorscale&&g(h,"colorscale")}}for(var t=0;t<T.length;t++){var s=T[t],a=s._module.colorbar;if(a)if(Array.isArray(a))for(var f=0;f<a.length;f++)r(s,a[f]);else r(s,a);L(s,"marker.line")&&r(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},27260:function(H,U,e){var p=e(38248),L=e(3400),n=e(90553),C=e(64013),T=e(88304).isValid,v=e(24040).traceIs;function g(r,t){var s=t.slice(0,t.length-1);return t?L.nestedProperty(r,s).get()||{}:r}H.exports=function r(t,s,a,f,u){var l=u.prefix,m=u.cLetter,h="_module"in s,M=g(t,l),c=g(s,l),i=g(s._template||{},l)||{},d=function(){return delete t.coloraxis,delete s.coloraxis,r(t,s,a,f,u)};if(h){var x=a._colorAxes||{},A=f(l+"coloraxis");if(A){var E=v(s,"contour")&&L.nestedProperty(s,"contours.coloring").get()||"heatmap",y=x[A];y?(y[2].push(d),y[0]!==E&&(y[0]=!1,L.warn(["Ignoring coloraxis:",A,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[A]=[E,s,[d]];return}}var S=M[m+"min"],w=M[m+"max"],o=p(S)&&p(w)&&S<w,_=f(l+m+"auto",!o);_?f(l+m+"mid"):(f(l+m+"min"),f(l+m+"max"));var b=M.colorscale,I=i.colorscale,D;if(b!==void 0&&(D=!T(b)),I!==void 0&&(D=!T(I)),f(l+"autocolorscale",D),f(l+"colorscale"),f(l+"reversescale"),l!=="marker.line."){var N;l&&h&&(N=n(M));var k=f(l+"showscale",N);k&&(l&&i&&(c._template=i),C(M,c,a))}}},94288:function(H,U,e){var p=e(33428),L=e(49760),n=e(38248),C=e(3400),T=e(76308),v=e(88304).isValid;function g(h,M,c){var i=M?C.nestedProperty(h,M).get()||{}:h,d=i[c||"color"];d&&d._inputArray&&(d=d._inputArray);var x=!1;if(C.isArrayOrTypedArray(d)){for(var A=0;A<d.length;A++)if(n(d[A])){x=!0;break}}return C.isPlainObject(i)&&(x||i.showscale===!0||n(i.cmin)&&n(i.cmax)||v(i.colorscale)||C.isPlainObject(i.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function s(h){var M=h._colorAx,c=M||h,i={},d,x,A;for(x=0;x<r.length;x++)A=r[x],i[A]=c[A];if(M)for(d="c",x=0;x<t.length;x++)A=t[x],i[A]=c["c"+A];else{var E;for(x=0;x<t.length;x++){if(A=t[x],E="c"+A,E in c){i[A]=c[E];continue}E="z"+A,E in c&&(i[A]=c[E])}d=E.charAt(0)}return i._sync=function(y,S){var w=t.indexOf(y)!==-1?d+y:y;c[w]=c["_"+w]=S},i}function a(h){for(var M=s(h),c=M.min,i=M.max,d=M.reversescale?f(M.colorscale):M.colorscale,x=d.length,A=new Array(x),E=new Array(x),y=0;y<x;y++){var S=d[y];A[y]=c+S[0]*(i-c),E[y]=S[1]}return{domain:A,range:E}}function f(h){for(var M=h.length,c=new Array(M),i=M-1,d=0;i>=0;i--,d++){var x=h[i];c[d]=[1-x[0],x[1]]}return c}function u(h,M){M=M||{};for(var c=h.domain,i=h.range,d=i.length,x=new Array(d),A=0;A<d;A++){var E=L(i[A]).toRgb();x[A]=[E.r,E.g,E.b,E.a]}var y=p.scale.linear().domain(c).range(x).clamp(!0),S=M.noNumericCheck,w=M.returnArray,o;return S&&w?o=y:S?o=function(_){return m(y(_))}:w?o=function(_){return n(_)?y(_):L(_).isValid()?_:T.defaultLine}:o=function(_){return n(_)?m(y(_)):L(_).isValid()?_:T.defaultLine},o.domain=y.domain,o.range=function(){return i},o}function l(h,M){return u(a(h),M)}function m(h){var M={r:h[0],g:h[1],b:h[2],a:h[3]};return L(M).toRgbString()}H.exports={hasColorscale:g,extractOpts:s,extractScale:a,flipScale:f,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:l}},8932:function(H,U,e){var p=e(88304),L=e(94288);H.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:L.hasColorscale,extractOpts:L.extractOpts,extractScale:L.extractScale,flipScale:L.flipScale,makeColorScaleFunc:L.makeColorScaleFunc,makeColorScaleFuncFromTrace:L.makeColorScaleFuncFromTrace}},92332:function(H,U,e){var p=e(92880).extendFlat,L=e(49084),n=e(88304).scales;H.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},L("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(H,U,e){var p=e(3400),L=e(31780),n=e(92332),C=e(27260);H.exports=function(v,g){function r(h,M){return p.coerce(v,g,n,h,M)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=g._colorAxes,s,a;function f(h,M){return p.coerce(s,a,n.coloraxis,h,M)}for(var u in t){var l=t[u];if(l[0])s=v[u]||{},a=L.newContainer(g,u,"coloraxis"),a._name=u,C(s,a,g,f,{prefix:"",cLetter:"c"});else{for(var m=0;m<l[2].length;m++)l[2][m]();delete g._colorAxes[u]}}}},88304:function(H,U,e){var p=e(49760),L={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=L.RdBu;function C(g,r){if(r||(r=n),!g)return r;function t(){try{g=L[g]||JSON.parse(g)}catch{g=r}}return typeof g=="string"&&(t(),typeof g=="string"&&t()),T(g)?g:r}function T(g){var r=0;if(!Array.isArray(g)||g.length<2||!g[0]||!g[g.length-1]||+g[0][0]!=0||+g[g.length-1][0]!=1)return!1;for(var t=0;t<g.length;t++){var s=g[t];if(s.length!==2||+s[0]<r||!p(s[1]).isValid())return!1;r=+s[0]}return!0}function v(g){return L[g]!==void 0?!0:T(g)}H.exports={scales:L,defaultScale:n,get:C,isValid:v}},78316:function(H){H.exports=function(e,p,L,n,C){var T=(e-L)/(n-L),v=T+p/(n-L),g=(T+v)/2;return C==="left"||C==="bottom"?T:C==="center"||C==="middle"?g:C==="right"||C==="top"?v:T<.6666666666666666-g?T:v>1.3333333333333333-g?v:g}},67416:function(H,U,e){var p=e(3400),L=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];H.exports=function(C,T,v,g){return v==="left"?C=0:v==="center"?C=1:v==="right"?C=2:C=p.constrain(Math.floor(C*3),0,2),g==="bottom"?T=0:g==="middle"?T=1:g==="top"?T=2:T=p.constrain(Math.floor(T*3),0,2),L[T][C]}},72760:function(H,U){U.selectMode=function(e){return e==="lasso"||e==="select"},U.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.openMode=function(e){return e==="drawline"||e==="drawopenpath"},U.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},U.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},U.selectingOrDrawing=function(e){return U.freeMode(e)||U.rectMode(e)}},86476:function(H,U,e){var p=e(29128),L=e(52264),n=e(89184),C=e(3400).removeElement,T=e(33816),v=H.exports={};v.align=e(78316),v.getCursor=e(67416);var g=e(2616);v.unhover=g.wrapped,v.unhoverRaw=g.raw,v.init=function(a){var f=a.gd,u=1,l=f._context.doubleClickDelay,m=a.element,h,M,c,i,d,x,A,E;f._mouseDownTime||(f._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=w,n?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=w,m.addEventListener("touchstart",w,{passive:!1})):m.ontouchstart=w;function y(b,I,D){return Math.abs(b)<D&&(b=0),Math.abs(I)<D&&(I=0),[b,I]}var S=a.clampFn||y;function w(b){f._dragged=!1,f._dragging=!0;var I=t(b);h=I[0],M=I[1],A=b.target,x=b,E=b.buttons===2||b.ctrlKey,typeof b.clientX>"u"&&typeof b.clientY>"u"&&(b.clientX=h,b.clientY=M),c=new Date().getTime(),c-f._mouseDownTime<l?u+=1:(u=1,f._mouseDownTime=c),a.prepFn&&a.prepFn(b,h,M),L&&!E?(d=r(),d.style.cursor=window.getComputedStyle(m).cursor):L||(d=document,i=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",_),document.addEventListener("touchend",_),a.dragmode!==!1&&(b.preventDefault(),document.addEventListener("mousemove",o),document.addEventListener("touchmove",o,{passive:!1}))}function o(b){b.preventDefault();var I=t(b),D=a.minDrag||T.MINDRAG,N=S(I[0]-h,I[1]-M,D),k=N[0],z=N[1];(k||z)&&(f._dragged=!0,v.unhover(f,b)),f._dragged&&a.moveFn&&!E&&(f._dragdata={element:m,dx:k,dy:z},a.moveFn(k,z))}function _(b){if(delete f._dragdata,a.dragmode!==!1&&(b.preventDefault(),document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o)),document.removeEventListener("mouseup",_),document.removeEventListener("touchend",_),L?C(d):i&&(d.documentElement.style.cursor=i,i=null),!f._dragging){f._dragged=!1;return}if(f._dragging=!1,new Date().getTime()-f._mouseDownTime>l&&(u=Math.max(u-1,1)),f._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(u,x),!E){var I;try{I=new MouseEvent("click",b)}catch{var D=t(b);I=document.createEvent("MouseEvents"),I.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,D[0],D[1],b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}A.dispatchEvent(I)}f._dragging=!1,f._dragged=!1}};function r(){var s=document.createElement("div");s.className="dragcover";var a=s.style;return a.position="fixed",a.left=0,a.right=0,a.top=0,a.bottom=0,a.zIndex=999999999,a.background="none",document.body.appendChild(s),s}v.coverSlip=r;function t(s){return p(s.changedTouches?s.changedTouches[0]:s,document.body)}},2616:function(H,U,e){var p=e(95924),L=e(91200),n=e(52200).getGraphDiv,C=e(92456),T=H.exports={};T.wrapped=function(v,g,r){v=n(v),v._fullLayout&&L.clear(v._fullLayout._uid+C.HOVERID),T.raw(v,g,r)},T.raw=function(g,r){var t=g._fullLayout,s=g._hoverdata;r||(r={}),!(r.target&&!g._dragged&&p.triggerHandler(g,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),g._hoverdata=void 0,r.target&&s&&g.emit("plotly_unhover",{event:r,points:s}))}},98192:function(H,U){U.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},U.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(H,U,e){var p=e(33428),L=e(3400),n=L.numberFormat,C=e(38248),T=e(49760),v=e(24040),g=e(76308),r=e(8932),t=L.strTranslate,s=e(72736),a=e(9616),f=e(84284),u=f.LINE_SPACING,l=e(13448).DESELECTDIM,m=e(43028),h=e(7152),M=e(10624).appendArrayPointValue,c=H.exports={};c.font=function(Te,Le,xe,Re){L.isPlainObject(Le)&&(Re=Le.color,xe=Le.size,Le=Le.family),Le&&Te.style("font-family",Le),xe+1&&Te.style("font-size",xe+"px"),Re&&Te.call(g.fill,Re)},c.setPosition=function(Te,Le,xe){Te.attr("x",Le).attr("y",xe)},c.setSize=function(Te,Le,xe){Te.attr("width",Le).attr("height",xe)},c.setRect=function(Te,Le,xe,Re,He){Te.call(c.setPosition,Le,xe).call(c.setSize,Re,He)},c.translatePoint=function(Te,Le,xe,Re){var He=xe.c2p(Te.x),Ve=Re.c2p(Te.y);if(C(He)&&C(Ve)&&Le.node())Le.node().nodeName==="text"?Le.attr("x",He).attr("y",Ve):Le.attr("transform",t(He,Ve));else return!1;return!0},c.translatePoints=function(Te,Le,xe){Te.each(function(Re){var He=p.select(this);c.translatePoint(Re,He,Le,xe)})},c.hideOutsideRangePoint=function(Te,Le,xe,Re,He,Ve){Le.attr("display",xe.isPtWithinRange(Te,He)&&Re.isPtWithinRange(Te,Ve)?null:"none")},c.hideOutsideRangePoints=function(Te,Le){if(Le._hasClipOnAxisFalse){var xe=Le.xaxis,Re=Le.yaxis;Te.each(function(He){var Ve=He[0].trace,Fe=Ve.xcalendar,We=Ve.ycalendar,ut=v.traceIs(Ve,"bar-like")?".bartext":".point,.textpoint";Te.selectAll(ut).each(function(ht){c.hideOutsideRangePoint(ht,p.select(this),xe,Re,Fe,We)})})}},c.crispRound=function(Te,Le,xe){return!Le||!C(Le)?xe||0:Te._context.staticPlot?Le:Le<1?1:Math.round(Le)},c.singleLineStyle=function(Te,Le,xe,Re,He){Le.style("fill","none");var Ve=(((Te||[])[0]||{}).trace||{}).line||{},Fe=xe||Ve.width||0,We=He||Ve.dash||"";g.stroke(Le,Re||Ve.color),c.dashLine(Le,We,Fe)},c.lineGroupStyle=function(Te,Le,xe,Re){Te.style("fill","none").each(function(He){var Ve=(((He||[])[0]||{}).trace||{}).line||{},Fe=Le||Ve.width||0,We=Re||Ve.dash||"";p.select(this).call(g.stroke,xe||Ve.color).call(c.dashLine,We,Fe)})},c.dashLine=function(Te,Le,xe){xe=+xe||0,Le=c.dashStyle(Le,xe),Te.style({"stroke-dasharray":Le,"stroke-width":xe+"px"})},c.dashStyle=function(Te,Le){Le=+Le||1;var xe=Math.max(Le,3);return Te==="solid"?Te="":Te==="dot"?Te=xe+"px,"+xe+"px":Te==="dash"?Te=3*xe+"px,"+3*xe+"px":Te==="longdash"?Te=5*xe+"px,"+5*xe+"px":Te==="dashdot"?Te=3*xe+"px,"+xe+"px,"+xe+"px,"+xe+"px":Te==="longdashdot"&&(Te=5*xe+"px,"+2*xe+"px,"+xe+"px,"+2*xe+"px"),Te};function i(Te,Le,xe,Re){var He=Le.fillpattern,Ve=Le.fillgradient,Fe=He&&c.getPatternAttr(He.shape,0,"");if(Fe){var We=c.getPatternAttr(He.bgcolor,0,null),ut=c.getPatternAttr(He.fgcolor,0,null),ht=He.fgopacity,rt=c.getPatternAttr(He.size,0,8),tt=c.getPatternAttr(He.solidity,0,.3),vt=Le.uid;c.pattern(Te,"point",xe,vt,Fe,rt,tt,void 0,He.fillmode,We,ut,ht)}else if(Ve&&Ve.type!=="none"){var pt=Ve.type,mt="scatterfill-"+Le.uid;if(Re&&(mt="legendfill-"+Le.uid),!Re&&(Ve.start!==void 0||Ve.stop!==void 0)){var wt,Lt;pt==="horizontal"?(wt={x:Ve.start,y:0},Lt={x:Ve.stop,y:0}):pt==="vertical"&&(wt={x:0,y:Ve.start},Lt={x:0,y:Ve.stop}),wt.x=Le._xA.c2p(wt.x===void 0?Le._extremes.x.min[0].val:wt.x,!0),wt.y=Le._yA.c2p(wt.y===void 0?Le._extremes.y.min[0].val:wt.y,!0),Lt.x=Le._xA.c2p(Lt.x===void 0?Le._extremes.x.max[0].val:Lt.x,!0),Lt.y=Le._yA.c2p(Lt.y===void 0?Le._extremes.y.max[0].val:Lt.y,!0),Te.call(w,xe,mt,"linear",Ve.colorscale,"fill",wt,Lt,!0,!1)}else pt==="horizontal"&&(pt=pt+"reversed"),Te.call(c.gradient,xe,mt,pt,Ve.colorscale,"fill")}else Le.fillcolor&&Te.call(g.fill,Le.fillcolor)}c.singleFillStyle=function(Te,Le){var xe=p.select(Te.node()),Re=xe.data(),He=((Re[0]||[])[0]||{}).trace||{};i(Te,He,Le,!1)},c.fillGroupStyle=function(Te,Le,xe){Te.style("stroke-width",0).each(function(Re){var He=p.select(this);Re[0].trace&&i(He,Re[0].trace,Le,xe)})};var d=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(d).forEach(function(Te){var Le=d[Te],xe=Le.n;c.symbolList.push(xe,String(xe),Te,xe+100,String(xe+100),Te+"-open"),c.symbolNames[xe]=Te,c.symbolFuncs[xe]=Le.f,c.symbolBackOffs[xe]=Le.backoff||0,Le.needLine&&(c.symbolNeedLines[xe]=!0),Le.noDot?c.symbolNoDot[xe]=!0:c.symbolList.push(xe+200,String(xe+200),Te+"-dot",xe+300,String(xe+300),Te+"-open-dot"),Le.noFill&&(c.symbolNoFill[xe]=!0)});var x=c.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(Te){if(C(Te))Te=+Te;else if(typeof Te=="string"){var Le=0;Te.indexOf("-open")>0&&(Le=100,Te=Te.replace("-open","")),Te.indexOf("-dot")>0&&(Le+=200,Te=Te.replace("-dot","")),Te=c.symbolNames.indexOf(Te),Te>=0&&(Te+=Le)}return Te%100>=x||Te>=400?0:Math.floor(Math.max(Te,0))};function E(Te,Le,xe,Re){var He=Te%100;return c.symbolFuncs[He](Le,xe,Re)+(Te>=200?A:"")}var y=n("~f"),S={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(Te,Le,xe,Re,He,Ve){var Fe=S[Re];return w(Te,Le,xe,Fe.type,He,Ve,Fe.start,Fe.stop,!1,Fe.reversed)};function w(Te,Le,xe,Re,He,Ve,Fe,We,ut,ht){var rt=He.length,tt;Re==="linear"?tt={node:"linearGradient",attrs:{x1:Fe.x,y1:Fe.y,x2:We.x,y2:We.y,gradientUnits:ut?"userSpaceOnUse":"objectBoundingBox"},reversed:ht}:Re==="radial"&&(tt={node:"radialGradient",reversed:ht});for(var vt=new Array(rt),pt=0;pt<rt;pt++)tt.reversed?vt[rt-1-pt]=[y((1-He[pt][0])*100),He[pt][1]]:vt[pt]=[y(He[pt][0]*100),He[pt][1]];var mt=Le._fullLayout,wt="g"+mt._uid+"-"+xe,Lt=mt._defs.select(".gradients").selectAll("#"+wt).data([Re+vt.join(";")],L.identity);Lt.exit().remove(),Lt.enter().append(tt.node).each(function(){var at=p.select(this);tt.attrs&&at.attr(tt.attrs),at.attr("id",wt);var Oe=at.selectAll("stop").data(vt);Oe.exit().remove(),Oe.enter().append("stop"),Oe.each(function(Ze){var Je=T(Ze[1]);p.select(this).attr({offset:Ze[0]+"%","stop-color":g.tinyRGB(Je),"stop-opacity":Je.getAlpha()})})}),Te.style(Ve,Z(wt,Le)).style(Ve+"-opacity",null),Te.classed("gradient_filled",!0)}c.pattern=function(Te,Le,xe,Re,He,Ve,Fe,We,ut,ht,rt,tt){var vt=Le==="legend";We&&(ut==="overlay"?(ht=We,rt=g.contrast(ht)):(ht=void 0,rt=We));var pt=xe._fullLayout,mt="p"+pt._uid+"-"+Re,wt,Lt,at=function(nt,dt,xt,Kt,Jt){return Kt+(Jt-Kt)*(nt-dt)/(xt-dt)},Oe,Ze,Je,Ye,ke={},be=T(rt),me=g.tinyRGB(be),_e=be.getAlpha(),Ee=tt*_e;switch(He){case"/":wt=Ve*Math.sqrt(2),Lt=Ve*Math.sqrt(2),Oe="M-"+wt/4+","+Lt/4+"l"+wt/2+",-"+Lt/2+"M0,"+Lt+"L"+wt+",0M"+wt/4*3+","+Lt/4*5+"l"+wt/2+",-"+Lt/2,Ze=Fe*Ve,Ye="path",ke={d:Oe,opacity:Ee,stroke:me,"stroke-width":Ze+"px"};break;case"\\":wt=Ve*Math.sqrt(2),Lt=Ve*Math.sqrt(2),Oe="M"+wt/4*3+",-"+Lt/4+"l"+wt/2+","+Lt/2+"M0,0L"+wt+","+Lt+"M-"+wt/4+","+Lt/4*3+"l"+wt/2+","+Lt/2,Ze=Fe*Ve,Ye="path",ke={d:Oe,opacity:Ee,stroke:me,"stroke-width":Ze+"px"};break;case"x":wt=Ve*Math.sqrt(2),Lt=Ve*Math.sqrt(2),Oe="M-"+wt/4+","+Lt/4+"l"+wt/2+",-"+Lt/2+"M0,"+Lt+"L"+wt+",0M"+wt/4*3+","+Lt/4*5+"l"+wt/2+",-"+Lt/2+"M"+wt/4*3+",-"+Lt/4+"l"+wt/2+","+Lt/2+"M0,0L"+wt+","+Lt+"M-"+wt/4+","+Lt/4*3+"l"+wt/2+","+Lt/2,Ze=Ve-Ve*Math.sqrt(1-Fe),Ye="path",ke={d:Oe,opacity:Ee,stroke:me,"stroke-width":Ze+"px"};break;case"|":wt=Ve,Lt=Ve,Ye="path",Oe="M"+wt/2+",0L"+wt/2+","+Lt,Ze=Fe*Ve,Ye="path",ke={d:Oe,opacity:Ee,stroke:me,"stroke-width":Ze+"px"};break;case"-":wt=Ve,Lt=Ve,Ye="path",Oe="M0,"+Lt/2+"L"+wt+","+Lt/2,Ze=Fe*Ve,Ye="path",ke={d:Oe,opacity:Ee,stroke:me,"stroke-width":Ze+"px"};break;case"+":wt=Ve,Lt=Ve,Ye="path",Oe="M"+wt/2+",0L"+wt/2+","+Lt+"M0,"+Lt/2+"L"+wt+","+Lt/2,Ze=Ve-Ve*Math.sqrt(1-Fe),Ye="path",ke={d:Oe,opacity:Ee,stroke:me,"stroke-width":Ze+"px"};break;case".":wt=Ve,Lt=Ve,Fe<Math.PI/4?Je=Math.sqrt(Fe*Ve*Ve/Math.PI):Je=at(Fe,Math.PI/4,1,Ve/2,Ve/Math.sqrt(2)),Ye="circle",ke={cx:wt/2,cy:Lt/2,r:Je,opacity:Ee,fill:me};break}var Be=[He||"noSh",ht||"noBg",rt||"noFg",Ve,Fe].join(";"),je=pt._defs.select(".patterns").selectAll("#"+mt).data([Be],L.identity);je.exit().remove(),je.enter().append("pattern").each(function(){var nt=p.select(this);if(nt.attr({id:mt,width:wt+"px",height:Lt+"px",patternUnits:"userSpaceOnUse",patternTransform:vt?"scale(0.8)":""}),ht){var dt=T(ht),xt=g.tinyRGB(dt),Kt=dt.getAlpha(),Jt=nt.selectAll("rect").data([0]);Jt.exit().remove(),Jt.enter().append("rect").attr({width:wt+"px",height:Lt+"px",fill:xt,"fill-opacity":Kt})}var St=nt.selectAll(Ye).data([0]);St.exit().remove(),St.enter().append(Ye).attr(ke)}),Te.style("fill",Z(mt,xe)).style("fill-opacity",null),Te.classed("pattern_filled",!0)},c.initGradients=function(Te){var Le=Te._fullLayout,xe=L.ensureSingle(Le._defs,"g","gradients");xe.selectAll("linearGradient,radialGradient").remove(),p.select(Te).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(Te){var Le=Te._fullLayout,xe=L.ensureSingle(Le._defs,"g","patterns");xe.selectAll("pattern").remove(),p.select(Te).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(Te,Le,xe){return Te&&L.isArrayOrTypedArray(Te)?Le<Te.length?Te[Le]:xe:Te},c.pointStyle=function(Te,Le,xe,Re){if(Te.size()){var He=c.makePointStyleFns(Le);Te.each(function(Ve){c.singlePointStyle(Ve,p.select(this),Le,He,xe,Re)})}},c.singlePointStyle=function(Te,Le,xe,Re,He,Ve){var Fe=xe.marker,We=Fe.line;if(Ve&&Ve.i>=0&&Te.i===void 0&&(Te.i=Ve.i),Le.style("opacity",Re.selectedOpacityFn?Re.selectedOpacityFn(Te):Te.mo===void 0?Fe.opacity:Te.mo),Re.ms2mrc){var ut;Te.ms==="various"||Fe.size==="various"?ut=3:ut=Re.ms2mrc(Te.ms),Te.mrc=ut,Re.selectedSizeFn&&(ut=Te.mrc=Re.selectedSizeFn(Te));var ht=c.symbolNumber(Te.mx||Fe.symbol)||0;Te.om=ht%200>=100;var rt=Ie(Te,xe),tt=X(Te,xe);Le.attr("d",E(ht,ut,rt,tt))}var vt=!1,pt,mt,wt;if(Te.so)wt=We.outlierwidth,mt=We.outliercolor,pt=Fe.outliercolor;else{var Lt=(We||{}).width;wt=(Te.mlw+1||Lt+1||(Te.trace?(Te.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Te?mt=Te.mlcc=Re.lineScale(Te.mlc):L.isArrayOrTypedArray(We.color)?mt=g.defaultLine:mt=We.color,L.isArrayOrTypedArray(Fe.color)&&(pt=g.defaultLine,vt=!0),"mc"in Te?pt=Te.mcc=Re.markerScale(Te.mc):pt=Fe.color||Fe.colors||"rgba(0,0,0,0)",Re.selectedColorFn&&(pt=Re.selectedColorFn(Te))}if(Te.om)Le.call(g.stroke,pt).style({"stroke-width":(wt||1)+"px",fill:"none"});else{Le.style("stroke-width",(Te.isBlank?0:wt)+"px");var at=Fe.gradient,Oe=Te.mgt;Oe?vt=!0:Oe=at&&at.type,L.isArrayOrTypedArray(Oe)&&(Oe=Oe[0],S[Oe]||(Oe=0));var Ze=Fe.pattern,Je=Ze&&c.getPatternAttr(Ze.shape,Te.i,"");if(Oe&&Oe!=="none"){var Ye=Te.mgc;Ye?vt=!0:Ye=at.color;var ke=xe.uid;vt&&(ke+="-"+Te.i),c.gradient(Le,He,ke,Oe,[[0,Ye],[1,pt]],"fill")}else if(Je){var be=!1,me=Ze.fgcolor;!me&&Ve&&Ve.color&&(me=Ve.color,be=!0);var _e=c.getPatternAttr(me,Te.i,Ve&&Ve.color||null),Ee=c.getPatternAttr(Ze.bgcolor,Te.i,null),Be=Ze.fgopacity,je=c.getPatternAttr(Ze.size,Te.i,8),nt=c.getPatternAttr(Ze.solidity,Te.i,.3);be=be||Te.mcc||L.isArrayOrTypedArray(Ze.shape)||L.isArrayOrTypedArray(Ze.bgcolor)||L.isArrayOrTypedArray(Ze.fgcolor)||L.isArrayOrTypedArray(Ze.size)||L.isArrayOrTypedArray(Ze.solidity);var dt=xe.uid;be&&(dt+="-"+Te.i),c.pattern(Le,"point",He,dt,Je,je,nt,Te.mcc,Ze.fillmode,Ee,_e,Be)}else L.isArrayOrTypedArray(pt)?g.fill(Le,pt[Te.i]):g.fill(Le,pt);wt&&g.stroke(Le,mt)}},c.makePointStyleFns=function(Te){var Le={},xe=Te.marker;return Le.markerScale=c.tryColorscale(xe,""),Le.lineScale=c.tryColorscale(xe,"line"),v.traceIs(Te,"symbols")&&(Le.ms2mrc=m.isBubble(Te)?h(Te):function(){return(xe.size||6)/2}),Te.selectedpoints&&L.extendFlat(Le,c.makeSelectedPointStyleFns(Te)),Le},c.makeSelectedPointStyleFns=function(Te){var Le={},xe=Te.selected||{},Re=Te.unselected||{},He=Te.marker||{},Ve=xe.marker||{},Fe=Re.marker||{},We=He.opacity,ut=Ve.opacity,ht=Fe.opacity,rt=ut!==void 0,tt=ht!==void 0;(L.isArrayOrTypedArray(We)||rt||tt)&&(Le.selectedOpacityFn=function(Je){var Ye=Je.mo===void 0?He.opacity:Je.mo;return Je.selected?rt?ut:Ye:tt?ht:l*Ye});var vt=He.color,pt=Ve.color,mt=Fe.color;(pt||mt)&&(Le.selectedColorFn=function(Je){var Ye=Je.mcc||vt;return Je.selected?pt||Ye:mt||Ye});var wt=He.size,Lt=Ve.size,at=Fe.size,Oe=Lt!==void 0,Ze=at!==void 0;return v.traceIs(Te,"symbols")&&(Oe||Ze)&&(Le.selectedSizeFn=function(Je){var Ye=Je.mrc||wt/2;return Je.selected?Oe?Lt/2:Ye:Ze?at/2:Ye}),Le},c.makeSelectedTextStyleFns=function(Te){var Le={},xe=Te.selected||{},Re=Te.unselected||{},He=Te.textfont||{},Ve=xe.textfont||{},Fe=Re.textfont||{},We=He.color,ut=Ve.color,ht=Fe.color;return Le.selectedTextColorFn=function(rt){var tt=rt.tc||We;return rt.selected?ut||tt:ht||(ut?tt:g.addOpacity(tt,l))},Le},c.selectedPointStyle=function(Te,Le){if(!(!Te.size()||!Le.selectedpoints)){var xe=c.makeSelectedPointStyleFns(Le),Re=Le.marker||{},He=[];xe.selectedOpacityFn&&He.push(function(Ve,Fe){Ve.style("opacity",xe.selectedOpacityFn(Fe))}),xe.selectedColorFn&&He.push(function(Ve,Fe){g.fill(Ve,xe.selectedColorFn(Fe))}),xe.selectedSizeFn&&He.push(function(Ve,Fe){var We=Fe.mx||Re.symbol||0,ut=xe.selectedSizeFn(Fe);Ve.attr("d",E(c.symbolNumber(We),ut,Ie(Fe,Le),X(Fe,Le))),Fe.mrc2=ut}),He.length&&Te.each(function(Ve){for(var Fe=p.select(this),We=0;We<He.length;We++)He[We](Fe,Ve)})}},c.tryColorscale=function(Te,Le){var xe=Le?L.nestedProperty(Te,Le).get():Te;if(xe){var Re=xe.color;if((xe.colorscale||xe._colorAx)&&L.isArrayOrTypedArray(Re))return r.makeColorScaleFuncFromTrace(xe)}return L.identity};var o={start:1,end:-1,middle:0,bottom:1,top:-1};function _(Te,Le,xe,Re,He){var Ve=p.select(Te.node().parentNode),Fe=Le.indexOf("top")!==-1?"top":Le.indexOf("bottom")!==-1?"bottom":"middle",We=Le.indexOf("left")!==-1?"end":Le.indexOf("right")!==-1?"start":"middle",ut=Re?Re/.8+1:0,ht=(s.lineCount(Te)-1)*u+1,rt=o[We]*ut,tt=xe*.75+o[Fe]*ut+(o[Fe]-1)*ht*xe/2;Te.attr("text-anchor",We),He||Ve.attr("transform",t(rt,tt))}function b(Te,Le){var xe=Te.ts||Le.textfont.size;return C(xe)&&xe>0?xe:0}c.textPointStyle=function(Te,Le,xe){if(Te.size()){var Re;if(Le.selectedpoints){var He=c.makeSelectedTextStyleFns(Le);Re=He.selectedTextColorFn}var Ve=Le.texttemplate,Fe=xe._fullLayout;Te.each(function(We){var ut=p.select(this),ht=Ve?L.extractOption(We,Le,"txt","texttemplate"):L.extractOption(We,Le,"tx","text");if(!ht&&ht!==0){ut.remove();return}if(Ve){var rt=Le._module.formatLabels,tt=rt?rt(We,Le,Fe):{},vt={};M(vt,Le,We.i);var pt=Le._meta||{};ht=L.texttemplateString(ht,tt,Fe._d3locale,vt,We,pt)}var mt=We.tp||Le.textposition,wt=b(We,Le),Lt=Re?Re(We):We.tc||Le.textfont.color;ut.call(c.font,We.tf||Le.textfont.family,wt,Lt).text(ht).call(s.convertToTspans,xe).call(_,mt,wt,We.mrc)})}},c.selectedTextStyle=function(Te,Le){if(!(!Te.size()||!Le.selectedpoints)){var xe=c.makeSelectedTextStyleFns(Le);Te.each(function(Re){var He=p.select(this),Ve=xe.selectedTextColorFn(Re),Fe=Re.tp||Le.textposition,We=b(Re,Le);g.fill(He,Ve);var ut=v.traceIs(Le,"bar-like");_(He,Fe,We,Re.mrc2||Re.mrc,ut)})}};var I=.5;c.smoothopen=function(Te,Le){if(Te.length<3)return"M"+Te.join("L");var xe="M"+Te[0],Re=[],He;for(He=1;He<Te.length-1;He++)Re.push(O(Te[He-1],Te[He],Te[He+1],Le));for(xe+="Q"+Re[0][0]+" "+Te[1],He=2;He<Te.length-1;He++)xe+="C"+Re[He-2][1]+" "+Re[He-1][0]+" "+Te[He];return xe+="Q"+Re[Te.length-3][1]+" "+Te[Te.length-1],xe},c.smoothclosed=function(Te,Le){if(Te.length<3)return"M"+Te.join("L")+"Z";var xe="M"+Te[0],Re=Te.length-1,He=[O(Te[Re],Te[0],Te[1],Le)],Ve;for(Ve=1;Ve<Re;Ve++)He.push(O(Te[Ve-1],Te[Ve],Te[Ve+1],Le));for(He.push(O(Te[Re-1],Te[Re],Te[0],Le)),Ve=1;Ve<=Re;Ve++)xe+="C"+He[Ve-1][1]+" "+He[Ve][0]+" "+Te[Ve];return xe+="C"+He[Re][1]+" "+He[0][0]+" "+Te[0]+"Z",xe};var D,N;function k(Te,Le,xe){return xe&&(Te=ee(Te)),Le?F(Te[1]):z(Te[0])}function z(Te){var Le=p.round(Te,2);return D=Le,Le}function F(Te){var Le=p.round(Te,2);return N=Le,Le}function O(Te,Le,xe,Re){var He=Te[0]-Le[0],Ve=Te[1]-Le[1],Fe=xe[0]-Le[0],We=xe[1]-Le[1],ut=Math.pow(He*He+Ve*Ve,I/2),ht=Math.pow(Fe*Fe+We*We,I/2),rt=(ht*ht*He-ut*ut*Fe)*Re,tt=(ht*ht*Ve-ut*ut*We)*Re,vt=3*ht*(ut+ht),pt=3*ut*(ut+ht);return[[z(Le[0]+(vt&&rt/vt)),F(Le[1]+(vt&&tt/vt))],[z(Le[0]-(pt&&rt/pt)),F(Le[1]-(pt&&tt/pt))]]}var B={hv:function(Te,Le,xe){return"H"+z(Le[0])+"V"+k(Le,1,xe)},vh:function(Te,Le,xe){return"V"+F(Le[1])+"H"+k(Le,0,xe)},hvh:function(Te,Le,xe){return"H"+z((Te[0]+Le[0])/2)+"V"+F(Le[1])+"H"+k(Le,0,xe)},vhv:function(Te,Le,xe){return"V"+F((Te[1]+Le[1])/2)+"H"+z(Le[0])+"V"+k(Le,1,xe)}},W=function(Te,Le,xe){return"L"+k(Le,0,xe)+","+k(Le,1,xe)};c.steps=function(Te){var Le=B[Te]||W;return function(xe){for(var Re="M"+z(xe[0][0])+","+F(xe[0][1]),He=xe.length,Ve=1;Ve<He;Ve++)Re+=Le(xe[Ve-1],xe[Ve],Ve===He-1);return Re}};function ee(Te,Le){var xe=Te.backoff,Re=Te.trace,He=Te.d,Ve=Te.i;if(xe&&Re&&Re.marker&&Re.marker.angle%360===0&&Re.line&&Re.line.shape!=="spline"){var Fe=L.isArrayOrTypedArray(xe),We=Te,ut=Le?Le[0]:D||0,ht=Le?Le[1]:N||0,rt=We[0],tt=We[1],vt=rt-ut,pt=tt-ht,mt=Math.atan2(pt,vt),wt=Fe?xe[Ve]:xe;if(wt==="auto"){var Lt=We.i;Re.type==="scatter"&&Lt--;var at=We.marker,Oe=at.symbol;L.isArrayOrTypedArray(Oe)&&(Oe=Oe[Lt]);var Ze=at.size;L.isArrayOrTypedArray(Ze)&&(Ze=Ze[Lt]),wt=at?c.symbolBackOffs[c.symbolNumber(Oe)]*Ze:0,wt+=c.getMarkerStandoff(He[Lt],Re)||0}var Je=rt-wt*Math.cos(mt),Ye=tt-wt*Math.sin(mt);(Je<=rt&&Je>=ut||Je>=rt&&Je<=ut)&&(Ye<=tt&&Ye>=ht||Ye>=tt&&Ye<=ht)&&(Te=[Je,Ye])}return Te}c.applyBackoff=ee,c.makeTester=function(){var Te=L.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(xe){xe.attr(a.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Le=L.ensureSingle(Te,"path","js-reference-point",function(xe){xe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=Te,c.testref=Le},c.savedBBoxes={};var ne=0,Q=1e4;c.bBox=function(Te,Le,xe){xe||(xe=le(Te));var Re;if(xe){if(Re=c.savedBBoxes[xe],Re)return L.extendFlat({},Re)}else if(Te.childNodes.length===1){var He=Te.childNodes[0];if(xe=le(He),xe){var Ve=+He.getAttribute("x")||0,Fe=+He.getAttribute("y")||0,We=He.getAttribute("transform");if(!We){var ut=c.bBox(He,!1,xe);return Ve&&(ut.left+=Ve,ut.right+=Ve),Fe&&(ut.top+=Fe,ut.bottom+=Fe),ut}if(xe+="~"+Ve+"~"+Fe+"~"+We,Re=c.savedBBoxes[xe],Re)return L.extendFlat({},Re)}}var ht,rt;Le?ht=Te:(rt=c.tester.node(),ht=Te.cloneNode(!0),rt.appendChild(ht)),p.select(ht).attr("transform",null).call(s.positionText,0,0);var tt=ht.getBoundingClientRect(),vt=c.testref.node().getBoundingClientRect();Le||rt.removeChild(ht);var pt={height:tt.height,width:tt.width,left:tt.left-vt.left,top:tt.top-vt.top,right:tt.right-vt.left,bottom:tt.bottom-vt.top};return ne>=Q&&(c.savedBBoxes={},ne=0),xe&&(c.savedBBoxes[xe]=pt),ne++,L.extendFlat({},pt)};function le(Te){var Le=Te.getAttribute("data-unformatted");if(Le!==null)return Le+Te.getAttribute("data-math")+Te.getAttribute("text-anchor")+Te.getAttribute("style")}c.setClipUrl=function(Te,Le,xe){Te.attr("clip-path",Z(Le,xe))};function Z(Te,Le){if(!Te)return null;var xe=Le._context,Re=xe._exportedPlot?"":xe._baseUrl||"";return Re?"url('"+Re+"#"+Te+"')":"url(#"+Te+")"}c.getTranslate=function(Te){var Le=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,xe=Te.attr?"attr":"getAttribute",Re=Te[xe]("transform")||"",He=Re.replace(Le,function(Ve,Fe,We){return[Fe,We].join(" ")}).split(" ");return{x:+He[0]||0,y:+He[1]||0}},c.setTranslate=function(Te,Le,xe){var Re=/(\btranslate\(.*?\);?)/,He=Te.attr?"attr":"getAttribute",Ve=Te.attr?"attr":"setAttribute",Fe=Te[He]("transform")||"";return Le=Le||0,xe=xe||0,Fe=Fe.replace(Re,"").trim(),Fe+=t(Le,xe),Fe=Fe.trim(),Te[Ve]("transform",Fe),Fe},c.getScale=function(Te){var Le=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,xe=Te.attr?"attr":"getAttribute",Re=Te[xe]("transform")||"",He=Re.replace(Le,function(Ve,Fe,We){return[Fe,We].join(" ")}).split(" ");return{x:+He[0]||1,y:+He[1]||1}},c.setScale=function(Te,Le,xe){var Re=/(\bscale\(.*?\);?)/,He=Te.attr?"attr":"getAttribute",Ve=Te.attr?"attr":"setAttribute",Fe=Te[He]("transform")||"";return Le=Le||1,xe=xe||1,Fe=Fe.replace(Re,"").trim(),Fe+="scale("+Le+","+xe+")",Fe=Fe.trim(),Te[Ve]("transform",Fe),Fe};var Y=/\s*sc.*/;c.setPointGroupScale=function(Te,Le,xe){if(Le=Le||1,xe=xe||1,!!Te){var Re=Le===1&&xe===1?"":"scale("+Le+","+xe+")";Te.each(function(){var He=(this.getAttribute("transform")||"").replace(Y,"");He+=Re,He=He.trim(),this.setAttribute("transform",He)})}};var re=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(Te,Le,xe){Te&&Te.each(function(){var Re,He=p.select(this),Ve=He.select("text");if(Ve.node()){var Fe=parseFloat(Ve.attr("x")||0),We=parseFloat(Ve.attr("y")||0),ut=(He.attr("transform")||"").match(re);Le===1&&xe===1?Re=[]:Re=[t(Fe,We),"scale("+Le+","+xe+")",t(-Fe,-We)],ut&&Re.push(ut),He.attr("transform",Re.join(""))}})};function X(Te,Le){var xe;return Te&&(xe=Te.mf),xe===void 0&&(xe=Le.marker&&Le.marker.standoff||0),!Le._geo&&!Le._xA?-xe:xe}c.getMarkerStandoff=X;var q=Math.atan2,se=Math.cos,$=Math.sin;function j(Te,Le){var xe=Le[0],Re=Le[1];return[xe*se(Te)-Re*$(Te),xe*$(Te)+Re*se(Te)]}var ue,ae,ce,ye,Ce,Ae;function Ie(Te,Le){var xe=Te.ma;xe===void 0&&(xe=Le.marker.angle,(!xe||L.isArrayOrTypedArray(xe))&&(xe=0));var Re,He,Ve=Le.marker.angleref;if(Ve==="previous"||Ve==="north"){if(Le._geo){var Fe=Le._geo.project(Te.lonlat);Re=Fe[0],He=Fe[1]}else{var We=Le._xA,ut=Le._yA;if(We&&ut)Re=We.c2p(Te.x),He=ut.c2p(Te.y);else return 90}if(Le._geo){var ht=Te.lonlat[0],rt=Te.lonlat[1],tt=Le._geo.project([ht,rt+1e-5]),vt=Le._geo.project([ht+1e-5,rt]),pt=q(vt[1]-He,vt[0]-Re),mt=q(tt[1]-He,tt[0]-Re),wt;if(Ve==="north")wt=xe/180*Math.PI;else if(Ve==="previous"){var Lt=ht/180*Math.PI,at=rt/180*Math.PI,Oe=ue/180*Math.PI,Ze=ae/180*Math.PI,Je=Oe-Lt,Ye=se(Ze)*$(Je),ke=$(Ze)*se(at)-se(Ze)*$(at)*se(Je);wt=-q(Ye,ke)-Math.PI,ue=ht,ae=rt}var be=j(pt,[se(wt),0]),me=j(mt,[$(wt),0]);xe=q(be[1]+me[1],be[0]+me[0])/Math.PI*180,Ve==="previous"&&!(Ae===Le.uid&&Te.i===Ce+1)&&(xe=null)}if(Ve==="previous"&&!Le._geo)if(Ae===Le.uid&&Te.i===Ce+1&&C(Re)&&C(He)){var _e=Re-ce,Ee=He-ye,Be=Le.line&&Le.line.shape||"",je=Be.slice(Be.length-1);je==="h"&&(Ee=0),je==="v"&&(_e=0),xe+=q(Ee,_e)/Math.PI*180+90}else xe=null}return ce=Re,ye=He,Ce=Te.i,Ae=Le.uid,xe}c.getMarkerAngle=Ie},71984:function(H,U,e){var p=e(21984),L=e(33428).round,n="M0,0Z",C=Math.sqrt(2),T=Math.sqrt(3),v=Math.PI,g=Math.cos,r=Math.sin;H.exports={circle:{n:0,f:function(m,h,M){if(t(h))return n;var c=L(m,2),i="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return M?l(h,M,i):i}},square:{n:1,f:function(m,h,M){if(t(h))return n;var c=L(m,2);return l(h,M,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(m,h,M){if(t(h))return n;var c=L(m*1.3,2);return l(h,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(m,h,M){if(t(h))return n;var c=L(m*.4,2),i=L(m*1.2,2);return l(h,M,"M"+i+","+c+"H"+c+"V"+i+"H-"+c+"V"+c+"H-"+i+"V-"+c+"H-"+c+"V-"+i+"H"+c+"V-"+c+"H"+i+"Z")}},x:{n:4,f:function(m,h,M){if(t(h))return n;var c=L(m*.8/C,2),i="l"+c+","+c,d="l"+c+",-"+c,x="l-"+c+",-"+c,A="l-"+c+","+c;return l(h,M,"M0,"+c+i+d+x+d+x+A+x+A+i+A+i+"Z")}},"triangle-up":{n:5,f:function(m,h,M){if(t(h))return n;var c=L(m*2/T,2),i=L(m/2,2),d=L(m,2);return l(h,M,"M-"+c+","+i+"H"+c+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(m,h,M){if(t(h))return n;var c=L(m*2/T,2),i=L(m/2,2),d=L(m,2);return l(h,M,"M-"+c+",-"+i+"H"+c+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(m,h,M){if(t(h))return n;var c=L(m*2/T,2),i=L(m/2,2),d=L(m,2);return l(h,M,"M"+i+",-"+c+"V"+c+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(m,h,M){if(t(h))return n;var c=L(m*2/T,2),i=L(m/2,2),d=L(m,2);return l(h,M,"M-"+i+",-"+c+"V"+c+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(m,h,M){if(t(h))return n;var c=L(m*.6,2),i=L(m*1.2,2);return l(h,M,"M-"+i+",-"+c+"H"+c+"V"+i+"Z")}},"triangle-se":{n:10,f:function(m,h,M){if(t(h))return n;var c=L(m*.6,2),i=L(m*1.2,2);return l(h,M,"M"+c+",-"+i+"V"+c+"H-"+i+"Z")}},"triangle-sw":{n:11,f:function(m,h,M){if(t(h))return n;var c=L(m*.6,2),i=L(m*1.2,2);return l(h,M,"M"+i+","+c+"H-"+c+"V-"+i+"Z")}},"triangle-nw":{n:12,f:function(m,h,M){if(t(h))return n;var c=L(m*.6,2),i=L(m*1.2,2);return l(h,M,"M-"+c+","+i+"V-"+c+"H"+i+"Z")}},pentagon:{n:13,f:function(m,h,M){if(t(h))return n;var c=L(m*.951,2),i=L(m*.588,2),d=L(-m,2),x=L(m*-.309,2),A=L(m*.809,2);return l(h,M,"M"+c+","+x+"L"+i+","+A+"H-"+i+"L-"+c+","+x+"L0,"+d+"Z")}},hexagon:{n:14,f:function(m,h,M){if(t(h))return n;var c=L(m,2),i=L(m/2,2),d=L(m*T/2,2);return l(h,M,"M"+d+",-"+i+"V"+i+"L0,"+c+"L-"+d+","+i+"V-"+i+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(m,h,M){if(t(h))return n;var c=L(m,2),i=L(m/2,2),d=L(m*T/2,2);return l(h,M,"M-"+i+","+d+"H"+i+"L"+c+",0L"+i+",-"+d+"H-"+i+"L-"+c+",0Z")}},octagon:{n:16,f:function(m,h,M){if(t(h))return n;var c=L(m*.924,2),i=L(m*.383,2);return l(h,M,"M-"+i+",-"+c+"H"+i+"L"+c+",-"+i+"V"+i+"L"+i+","+c+"H-"+i+"L-"+c+","+i+"V-"+i+"Z")}},star:{n:17,f:function(m,h,M){if(t(h))return n;var c=m*1.4,i=L(c*.225,2),d=L(c*.951,2),x=L(c*.363,2),A=L(c*.588,2),E=L(-c,2),y=L(c*-.309,2),S=L(c*.118,2),w=L(c*.809,2),o=L(c*.382,2);return l(h,M,"M"+i+","+y+"H"+d+"L"+x+","+S+"L"+A+","+w+"L0,"+o+"L-"+A+","+w+"L-"+x+","+S+"L-"+d+","+y+"H-"+i+"L0,"+E+"Z")}},hexagram:{n:18,f:function(m,h,M){if(t(h))return n;var c=L(m*.66,2),i=L(m*.38,2),d=L(m*.76,2);return l(h,M,"M-"+d+",0l-"+i+",-"+c+"h"+d+"l"+i+",-"+c+"l"+i+","+c+"h"+d+"l-"+i+","+c+"l"+i+","+c+"h-"+d+"l-"+i+","+c+"l-"+i+",-"+c+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(m,h,M){if(t(h))return n;var c=L(m*T*.8,2),i=L(m*.8,2),d=L(m*1.6,2),x=L(m*4,2),A="A "+x+","+x+" 0 0 1 ";return l(h,M,"M-"+c+","+i+A+c+","+i+A+"0,-"+d+A+"-"+c+","+i+"Z")}},"star-triangle-down":{n:20,f:function(m,h,M){if(t(h))return n;var c=L(m*T*.8,2),i=L(m*.8,2),d=L(m*1.6,2),x=L(m*4,2),A="A "+x+","+x+" 0 0 1 ";return l(h,M,"M"+c+",-"+i+A+"-"+c+",-"+i+A+"0,"+d+A+c+",-"+i+"Z")}},"star-square":{n:21,f:function(m,h,M){if(t(h))return n;var c=L(m*1.1,2),i=L(m*2,2),d="A "+i+","+i+" 0 0 1 ";return l(h,M,"M-"+c+",-"+c+d+"-"+c+","+c+d+c+","+c+d+c+",-"+c+d+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(m,h,M){if(t(h))return n;var c=L(m*1.4,2),i=L(m*1.9,2),d="A "+i+","+i+" 0 0 1 ";return l(h,M,"M-"+c+",0"+d+"0,"+c+d+c+",0"+d+"0,-"+c+d+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(m,h,M){if(t(h))return n;var c=L(m*.7,2),i=L(m*1.4,2);return l(h,M,"M0,"+i+"L"+c+",0L0,-"+i+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(m,h,M){if(t(h))return n;var c=L(m*1.4,2),i=L(m*.7,2);return l(h,M,"M0,"+i+"L"+c+",0L0,-"+i+"L-"+c+",0Z")}},hourglass:{n:25,f:function(m,h,M){if(t(h))return n;var c=L(m,2);return l(h,M,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(m,h,M){if(t(h))return n;var c=L(m,2);return l(h,M,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,h,M){if(t(h))return n;var c=L(m,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,h,M){if(t(h))return n;var c=L(m,2),i=L(m/C,2);return l(h,M,"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,h,M){if(t(h))return n;var c=L(m,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,h,M){if(t(h))return n;var c=L(m,2);return l(h,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,h,M){if(t(h))return n;var c=L(m*1.3,2);return l(h,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,h,M){if(t(h))return n;var c=L(m*1.3,2),i=L(m*.65,2);return l(h,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,h,M){if(t(h))return n;var c=L(m*1.4,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,h,M){if(t(h))return n;var c=L(m,2);return l(h,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,h,M){if(t(h))return n;var c=L(m*1.2,2),i=L(m*.85,2);return l(h,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,h,M){if(t(h))return n;var c=L(m/2,2),i=L(m,2);return l(h,M,"M"+c+","+i+"V-"+i+"M"+(c-i)+",-"+i+"V"+i+"M"+i+","+c+"H-"+i+"M-"+i+","+(c-i)+"H"+i)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,h,M){if(t(h))return n;var c=L(m*1.2,2),i=L(m*1.6,2),d=L(m*.8,2);return l(h,M,"M-"+c+","+d+"L0,0M"+c+","+d+"L0,0M0,-"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,h,M){if(t(h))return n;var c=L(m*1.2,2),i=L(m*1.6,2),d=L(m*.8,2);return l(h,M,"M-"+c+",-"+d+"L0,0M"+c+",-"+d+"L0,0M0,"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,h,M){if(t(h))return n;var c=L(m*1.2,2),i=L(m*1.6,2),d=L(m*.8,2);return l(h,M,"M"+d+","+c+"L0,0M"+d+",-"+c+"L0,0M-"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,h,M){if(t(h))return n;var c=L(m*1.2,2),i=L(m*1.6,2),d=L(m*.8,2);return l(h,M,"M-"+d+","+c+"L0,0M-"+d+",-"+c+"L0,0M"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,h,M){if(t(h))return n;var c=L(m*1.4,2);return l(h,M,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,h,M){if(t(h))return n;var c=L(m*1.4,2);return l(h,M,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,h,M){if(t(h))return n;var c=L(m,2);return l(h,M,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,h,M){if(t(h))return n;var c=L(m,2);return l(h,M,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,h,M){if(t(h))return n;var c=L(m,2),i=L(m*2,2);return l(h,M,"M0,0L-"+c+","+i+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,h,M){if(t(h))return n;var c=L(m,2),i=L(m*2,2);return l(h,M,"M0,0L-"+c+",-"+i+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,h,M){if(t(h))return n;var c=L(m*2,2),i=L(m,2);return l(h,M,"M0,0L"+c+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,h,M){if(t(h))return n;var c=L(m*2,2),i=L(m,2);return l(h,M,"M0,0L-"+c+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,h,M){if(t(h))return n;var c=L(m,2),i=L(m*2,2);return l(h,M,"M-"+c+",0H"+c+"M0,0L-"+c+","+i+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,h,M){if(t(h))return n;var c=L(m,2),i=L(m*2,2);return l(h,M,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+i+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,h,M){if(t(h))return n;var c=L(m*2,2),i=L(m,2);return l(h,M,"M0,-"+i+"V"+i+"M0,0L"+c+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,h,M){if(t(h))return n;var c=L(m*2,2),i=L(m,2);return l(h,M,"M0,-"+i+"V"+i+"M0,0L-"+c+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,h,M){if(t(h))return n;var c=v/2.5,i=2*m*g(c),d=2*m*r(c);return l(h,M,"M0,0L"+-i+","+d+"L"+i+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,h,M){if(t(h))return n;var c=v/4,i=2*m*g(c),d=2*m*r(c);return l(h,M,"M0,0L"+-i+","+d+"A "+2*m+","+2*m+" 0 0 1 "+i+","+d+"Z")},backoff:.4,noDot:!0}};function t(m){return m===null}var s,a,f,u;function l(m,h,M){if((!m||m%360===0)&&!h)return M;if(f===m&&u===h&&s===M)return a;f=m,u=h,s=M;function c(D,N){var k=g(D),z=r(D),F=N[0],O=N[1]+(h||0);return[F*k-O*z,F*z+O*k]}for(var i=m/180*v,d=0,x=0,A=p(M),E="",y=0;y<A.length;y++){var S=A[y],w=S[0],o=d,_=x;if(w==="M"||w==="L")d=+S[1],x=+S[2];else if(w==="m"||w==="l")d+=+S[1],x+=+S[2];else if(w==="H")d=+S[1];else if(w==="h")d+=+S[1];else if(w==="V")x=+S[1];else if(w==="v")x+=+S[1];else if(w==="A"){d=+S[1],x=+S[2];var b=c(i,[+S[6],+S[7]]);S[6]=b[0],S[7]=b[1],S[3]=+S[3]+m}(w==="H"||w==="V")&&(w="L"),(w==="h"||w==="v")&&(w="l"),(w==="m"||w==="l")&&(d-=o,x-=_);var I=c(i,[d,x]);(w==="H"||w==="V")&&(w="L"),(w==="M"||w==="L"||w==="m"||w==="l")&&(S[1]=I[0],S[2]=I[1]),S[0]=w,E+=S[0]+S.slice(1).join(",")}return a=E,E}},97644:function(H){H.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(H,U,e){var p=e(38248),L=e(24040),n=e(54460),C=e(3400),T=e(93792);H.exports=function(r){for(var t=r.calcdata,s=0;s<t.length;s++){var a=t[s],f=a[0].trace;if(f.visible===!0&&L.traceIs(f,"errorBarsOK")){var u=n.getFromId(r,f.xaxis),l=n.getFromId(r,f.yaxis);v(a,f,u,"x"),v(a,f,l,"y")}}};function v(g,r,t,s){var a=r["error_"+s]||{},f=a.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(f){for(var l=T(a),m=0;m<g.length;m++){var h=g[m],M=h.i;if(M===void 0)M=m;else if(M===null)continue;var c=h[s];if(p(t.c2l(c))){var i=l(c,M);if(p(i[0])&&p(i[1])){var d=h[s+"s"]=c-i[0],x=h[s+"h"]=c+i[1];u.push(d,x)}}}var A=t._id,E=r._extremes[A],y=n.findExtremes(t,u,C.extendFlat({tozero:E.opts.tozero},{padded:!0}));E.min=E.min.concat(y.min),E.max=E.max.concat(y.max)}}},93792:function(H){H.exports=function(p){var L=p.type,n=p.symmetric;if(L==="data"){var C=p.array||[];if(n)return function(t,s){var a=+C[s];return[a,a]};var T=p.arrayminus||[];return function(t,s){var a=+C[s],f=+T[s];return!isNaN(a)||!isNaN(f)?[f||0,a||0]:[NaN,NaN]}}else{var v=U(L,p.value),g=U(L,p.valueminus);return n||p.valueminus===void 0?function(t){var s=v(t);return[s,s]}:function(t){return[g(t),v(t)]}}};function U(e,p){if(e==="percent")return function(L){return Math.abs(L*p/100)};if(e==="constant")return function(){return Math.abs(p)};if(e==="sqrt")return function(L){return Math.sqrt(Math.abs(L))}}},65200:function(H,U,e){var p=e(38248),L=e(24040),n=e(3400),C=e(31780),T=e(97644);H.exports=function(v,g,r,t){var s="error_"+t.axis,a=C.newContainer(g,s),f=v[s]||{};function u(d,x){return n.coerce(f,a,T,d,x)}var l=f.array!==void 0||f.value!==void 0||f.type==="sqrt",m=u("visible",l);if(m!==!1){var h=u("type","array"in f?"data":"percent"),M=!0;h!=="sqrt"&&(M=u("symmetric",!((h==="data"?"arrayminus":"valueminus")in f))),h==="data"?(u("array"),u("traceref"),M||(u("arrayminus"),u("tracerefminus"))):(h==="percent"||h==="constant")&&(u("value"),M||u("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var i=g["error_"+t.inherit];(i||{}).visible&&u(c,!(f.color||p(f.thickness)||p(f.width)))}(!t.inherit||!a[c])&&(u("color",r),u("thickness"),u("width",L.traceIs(g,"gl3d")?0:4))}}},64968:function(H,U,e){var p=e(3400),L=e(67824).overrideAll,n=e(97644),C={error_x:p.extendFlat({},n),error_y:p.extendFlat({},n)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var T={error_x:p.extendFlat({},n),error_y:p.extendFlat({},n),error_z:p.extendFlat({},n)};delete T.error_x.copy_ystyle,delete T.error_y.copy_ystyle,delete T.error_z.copy_ystyle,delete T.error_z.copy_zstyle,H.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:L(T,"calc","nested"),scattergl:L(C,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(g,r,t){(r.error_y||{}).visible&&(t.yerr=g.yh-g.y,r.error_y.symmetric||(t.yerrneg=g.y-g.ys)),(r.error_x||{}).visible&&(t.xerr=g.xh-g.x,r.error_x.symmetric||(t.xerrneg=g.x-g.xs))}},78512:function(H,U,e){var p=e(33428),L=e(38248),n=e(43616),C=e(43028);H.exports=function(g,r,t,s){var a,f=t.xaxis,u=t.yaxis,l=s&&s.duration>0,m=g._context.staticPlot;r.each(function(h){var M=h[0].trace,c=M.error_x||{},i=M.error_y||{},d;M.ids&&(d=function(y){return y.id});var x=C.hasMarkers(M)&&M.marker.maxdisplayed>0;!i.visible&&!c.visible&&(h=[]);var A=p.select(this).selectAll("g.errorbar").data(h,d);if(A.exit().remove(),!!h.length){c.visible||A.selectAll("path.xerror").remove(),i.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var E=A.enter().append("g").classed("errorbar",!0);l&&E.style("opacity",0).transition().duration(s.duration).style("opacity",1),n.setClipUrl(A,t.layerClipId,g),A.each(function(y){var S=p.select(this),w=T(y,f,u);if(!(x&&!y.vis)){var o,_=S.select("path.yerror");if(i.visible&&L(w.x)&&L(w.yh)&&L(w.ys)){var b=i.width;o="M"+(w.x-b)+","+w.yh+"h"+2*b+"m-"+b+",0V"+w.ys,w.noYS||(o+="m-"+b+",0h"+2*b),a=!_.size(),a?_=S.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):l&&(_=_.transition().duration(s.duration).ease(s.easing)),_.attr("d",o)}else _.remove();var I=S.select("path.xerror");if(c.visible&&L(w.y)&&L(w.xh)&&L(w.xs)){var D=(c.copy_ystyle?i:c).width;o="M"+w.xh+","+(w.y-D)+"v"+2*D+"m0,-"+D+"H"+w.xs,w.noXS||(o+="m0,-"+D+"v"+2*D),a=!I.size(),a?I=S.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):l&&(I=I.transition().duration(s.duration).ease(s.easing)),I.attr("d",o)}else I.remove()}})}})};function T(v,g,r){var t={x:g.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),L(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=g.c2p(v.xh),t.xs=g.c2p(v.xs),L(t.xs)||(t.noXS=!0,t.xs=g.c2p(v.xs,!0))),t}},92036:function(H,U,e){var p=e(33428),L=e(76308);H.exports=function(C){C.each(function(T){var v=T[0].trace,g=v.error_y||{},r=v.error_x||{},t=p.select(this);t.selectAll("path.yerror").style("stroke-width",g.thickness+"px").call(L.stroke,g.color),r.copy_ystyle&&(r=g),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(L.stroke,r.color)})}},55756:function(H,U,e){var p=e(25376),L=e(65460).hoverlabel,n=e(92880).extendFlat;H.exports={hoverlabel:{bgcolor:n({},L.bgcolor,{arrayOk:!0}),bordercolor:n({},L.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:n({},L.align,{arrayOk:!0}),namelength:n({},L.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(H,U,e){var p=e(3400),L=e(24040);H.exports=function(T){var v=T.calcdata,g=T._fullLayout;function r(u){return function(l){return p.coerceHoverinfo({hoverinfo:l},{_module:u._module},g)}}for(var t=0;t<v.length;t++){var s=v[t],a=s[0].trace;if(!L.traceIs(a,"pie-like")){var f=L.traceIs(a,"2dMap")?n:p.fillArray;f(a.hoverinfo,s,"hi",r(a)),a.hovertemplate&&f(a.hovertemplate,s,"ht"),a.hoverlabel&&(f(a.hoverlabel.bgcolor,s,"hbg"),f(a.hoverlabel.bordercolor,s,"hbc"),f(a.hoverlabel.font.size,s,"hts"),f(a.hoverlabel.font.color,s,"htc"),f(a.hoverlabel.font.family,s,"htf"),f(a.hoverlabel.namelength,s,"hnl"),f(a.hoverlabel.align,s,"hta"))}}};function n(C,T,v,g){g=g||p.identity,Array.isArray(C)&&(T[0][v]=g(C))}},62376:function(H,U,e){var p=e(24040),L=e(83292).hover;H.exports=function(C,T,v){var g=p.getComponentMethod("annotations","onClick")(C,C._hoverdata);v!==void 0&&L(C,T,v,!0);function r(){C.emit("plotly_click",{points:C._hoverdata,event:T})}C._hoverdata&&T&&T.target&&(g&&g.then?g.then(r):r(),T.stopImmediatePropagation&&T.stopImmediatePropagation())}},92456:function(H){H.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(H,U,e){var p=e(3400),L=e(55756),n=e(16132);H.exports=function(T,v,g,r){function t(a,f){return p.coerce(T,v,L,a,f)}var s=p.extendFlat({},r.hoverlabel);v.hovertemplate&&(s.namelength=-1),n(T,v,t,s)}},10624:function(H,U,e){var p=e(3400);U.getSubplot=function(g){return g.subplot||g.xaxis+g.yaxis||g.geo},U.isTraceInSubplots=function(g,r){if(g.type==="splom"){for(var t=g.xaxes||[],s=g.yaxes||[],a=0;a<t.length;a++)for(var f=0;f<s.length;f++)if(r.indexOf(t[a]+s[f])!==-1)return!0;return!1}return r.indexOf(U.getSubplot(g))!==-1},U.flat=function(g,r){for(var t=new Array(g.length),s=0;s<g.length;s++)t[s]=r;return t},U.p2c=function(g,r){for(var t=new Array(g.length),s=0;s<g.length;s++)t[s]=g[s].p2c(r);return t},U.getDistanceFunction=function(g,r,t,s){return g==="closest"?s||U.quadrature(r,t):g.charAt(0)==="x"?r:t},U.getClosest=function(g,r,t){if(t.index!==!1)t.index>=0&&t.index<g.length?t.distance=0:t.index=!1;else for(var s=0;s<g.length;s++){var a=r(g[s]);a<=t.distance&&(t.index=s,t.distance=a)}return t},U.inbox=function(g,r,t){return g*r<0||g===0?t:1/0},U.quadrature=function(g,r){return function(t){var s=g(t),a=r(t);return Math.sqrt(s*s+a*a)}},U.makeEventData=function(g,r,t){var s="index"in g?g.index:g.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:s};if(r._indexToPoints){var f=r._indexToPoints[s];f.length===1?a.pointIndex=f[0]:a.pointIndices=f}else a.pointIndex=s;return r._module.eventData?a=r._module.eventData(a,g,r,t,s):("xVal"in g?a.x=g.xVal:"x"in g&&(a.x=g.x),"yVal"in g?a.y=g.yVal:"y"in g&&(a.y=g.y),g.xa&&(a.xaxis=g.xa),g.ya&&(a.yaxis=g.ya),g.zLabelVal!==void 0&&(a.z=g.zLabelVal)),U.appendArrayPointValue(a,r,s),a},U.appendArrayPointValue=function(g,r,t){var s=r._arrayAttrs;if(s)for(var a=0;a<s.length;a++){var f=s[a],u=n(f);if(g[u]===void 0){var l=p.nestedProperty(r,f).get(),m=C(l,t);m!==void 0&&(g[u]=m)}}},U.appendArrayMultiPointValues=function(g,r,t){var s=r._arrayAttrs;if(s)for(var a=0;a<s.length;a++){var f=s[a],u=n(f);if(g[u]===void 0){for(var l=p.nestedProperty(r,f).get(),m=new Array(t.length),h=0;h<t.length;h++)m[h]=C(l,t[h]);g[u]=m}}};var L={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function n(g){return L[g]||g}function C(g,r){if(Array.isArray(r)){if(Array.isArray(g)&&Array.isArray(g[r[0]]))return g[r[0]][r[1]]}else return g[r]}var T={x:!0,y:!0},v={"x unified":!0,"y unified":!0};U.isUnifiedHover=function(g){return typeof g!="string"?!1:!!v[g]},U.isXYhover=function(g){return typeof g!="string"?!1:!!T[g]}},83292:function(H,U,e){var p=e(33428),L=e(38248),n=e(49760),C=e(3400),T=C.strTranslate,v=C.strRotate,g=e(95924),r=e(72736),t=e(72213),s=e(43616),a=e(76308),f=e(86476),u=e(54460),l=e(24040),m=e(10624),h=e(92456),M=e(77864),c=e(31140),i=h.YANGLE,d=Math.PI*i/180,x=1/Math.sin(d),A=Math.cos(d),E=Math.sin(d),y=h.HOVERARROWSIZE,S=h.HOVERTEXTPAD,w={box:!0,ohlc:!0,violin:!0,candlestick:!0},o={scatter:!0,scattergl:!0,splom:!0};U.hover=function(se,$,j,ue){se=C.getGraphDiv(se);var ae=$.target;C.throttle(se._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){_(se,$,j,ue,ae)})},U.loneHover=function(se,$){var j=!0;Array.isArray(se)||(j=!1,se=[se]);var ue=$.gd,ae=Y(ue),ce=re(ue),ye=se.map(function(Ve){var Fe=Ve._x0||Ve.x0||Ve.x||0,We=Ve._x1||Ve.x1||Ve.x||0,ut=Ve._y0||Ve.y0||Ve.y||0,ht=Ve._y1||Ve.y1||Ve.y||0,rt=Ve.eventData;if(rt){var tt=Math.min(Fe,We),vt=Math.max(Fe,We),pt=Math.min(ut,ht),mt=Math.max(ut,ht),wt=Ve.trace;if(l.traceIs(wt,"gl3d")){var Lt=ue._fullLayout[wt.scene]._scene.container,at=Lt.offsetLeft,Oe=Lt.offsetTop;tt+=at,vt+=at,pt+=Oe,mt+=Oe}rt.bbox={x0:tt+ce,x1:vt+ce,y0:pt+ae,y1:mt+ae},$.inOut_bbox&&$.inOut_bbox.push(rt.bbox)}else rt=!1;return{color:Ve.color||a.defaultLine,x0:Ve.x0||Ve.x||0,x1:Ve.x1||Ve.x||0,y0:Ve.y0||Ve.y||0,y1:Ve.y1||Ve.y||0,xLabel:Ve.xLabel,yLabel:Ve.yLabel,zLabel:Ve.zLabel,text:Ve.text,name:Ve.name,idealAlign:Ve.idealAlign,borderColor:Ve.borderColor,fontFamily:Ve.fontFamily,fontSize:Ve.fontSize,fontColor:Ve.fontColor,nameLength:Ve.nameLength,textAlign:Ve.textAlign,trace:Ve.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ve.hovertemplate||!1,hovertemplateLabels:Ve.hovertemplateLabels||!1,eventData:rt}}),Ce=!1,Ae=D(ye,{gd:ue,hovermode:"closest",rotateLabels:Ce,bgColor:$.bgColor||a.background,container:p.select($.container),outerContainer:$.outerContainer||$.container}),Ie=Ae.hoverLabels,Te=5,Le=0,xe=0;Ie.sort(function(Ve,Fe){return Ve.y0-Fe.y0}).each(function(Ve,Fe){var We=Ve.y0-Ve.by/2;We-Te<Le?Ve.offset=Le-We+Te:Ve.offset=0,Le=We+Ve.by+Ve.offset,Fe===$.anchorIndex&&(xe=Ve.offset)}).each(function(Ve){Ve.offset-=xe});var Re=ue._fullLayout._invScaleX,He=ue._fullLayout._invScaleY;return O(Ie,Ce,Re,He),j?Ie:Ie.node()};function _(q,se,$,j,ue){$||($="xy");var ae=Array.isArray($)?$:[$],ce=q._fullLayout,ye=ce._plots||[],Ce=ye[$],Ae=ce._has("cartesian");if(Ce){var Ie=Ce.overlays.map(function(Or){return Or.id});ae=ae.concat(Ie)}for(var Te=ae.length,Le=new Array(Te),xe=new Array(Te),Re=!1,He=0;He<Te;He++){var Ve=ae[He];if(ye[Ve])Re=!0,Le[He]=ye[Ve].xaxis,xe[He]=ye[Ve].yaxis;else if(ce[Ve]&&ce[Ve]._subplot){var Fe=ce[Ve]._subplot;Le[He]=Fe.xaxis,xe[He]=Fe.yaxis}else{C.warn("Unrecognized subplot: "+Ve);return}}var We=se.hovermode||ce.hovermode;if(We&&!Re&&(We="closest"),["x","y","closest","x unified","y unified"].indexOf(We)===-1||!q.calcdata||q.querySelector(".zoombox")||q._dragging)return f.unhoverRaw(q,se);var ut=ce.hoverdistance;ut===-1&&(ut=1/0);var ht=ce.spikedistance;ht===-1&&(ht=1/0);var rt=[],tt=[],vt,pt,mt,wt,Lt,at,Oe,Ze,Je,Ye,ke,be,me,_e={hLinePoint:null,vLinePoint:null},Ee=!1;if(Array.isArray(se))for(We="array",mt=0;mt<se.length;mt++)Lt=q.calcdata[se[mt].curveNumber||0],Lt&&(at=Lt[0].trace,Lt[0].trace.hoverinfo!=="skip"&&(tt.push(Lt),at.orientation==="h"&&(Ee=!0)));else{for(wt=0;wt<q.calcdata.length;wt++)Lt=q.calcdata[wt],at=Lt[0].trace,at.hoverinfo!=="skip"&&m.isTraceInSubplots(at,ae)&&(tt.push(Lt),at.orientation==="h"&&(Ee=!0));var Be=!ue,je,nt;if(Be)"xpx"in se?je=se.xpx:je=Le[0]._length/2,"ypx"in se?nt=se.ypx:nt=xe[0]._length/2;else{if(g.triggerHandler(q,"plotly_beforehover",se)===!1)return;var dt=ue.getBoundingClientRect();je=se.clientX-dt.left,nt=se.clientY-dt.top,ce._calcInverseTransform(q);var xt=C.apply3DTransform(ce._invTransform)(je,nt);if(je=xt[0],nt=xt[1],je<0||je>Le[0]._length||nt<0||nt>xe[0]._length)return f.unhoverRaw(q,se)}if(se.pointerX=je+Le[0]._offset,se.pointerY=nt+xe[0]._offset,"xval"in se?vt=m.flat(ae,se.xval):vt=m.p2c(Le,je),"yval"in se?pt=m.flat(ae,se.yval):pt=m.p2c(xe,nt),!L(vt[0])||!L(pt[0]))return C.warn("Fx.hover failed",se,q),f.unhoverRaw(q,se)}var Kt=1/0;function Jt(Or,Qr){for(wt=0;wt<tt.length;wt++)if(Lt=tt[wt],!(!Lt||!Lt[0]||!Lt[0].trace)&&(at=Lt[0].trace,!(at.visible!==!0||at._length===0)&&["carpet","contourcarpet"].indexOf(at._module.name)===-1)){if(at.type==="splom"?(Ze=0,Oe=ae[Ze]):(Oe=m.getSubplot(at),Ze=ae.indexOf(Oe)),Je=We,m.isUnifiedHover(Je)&&(Je=Je.charAt(0)),be={cd:Lt,trace:at,xa:Le[Ze],ya:xe[Ze],maxHoverDistance:ut,maxSpikeDistance:ht,index:!1,distance:Math.min(Kt,ut),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:a.defaultLine,name:at.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ce[Oe]&&(be.subplot=ce[Oe]._subplot),ce._splomScenes&&ce._splomScenes[at.uid]&&(be.scene=ce._splomScenes[at.uid]),me=rt.length,Je==="array"){var Zr=se[wt];"pointNumber"in Zr?(be.index=Zr.pointNumber,Je="closest"):(Je="","xval"in Zr&&(Ye=Zr.xval,Je="x"),"yval"in Zr&&(ke=Zr.yval,Je=Je?"closest":"y"))}else Or!==void 0&&Qr!==void 0?(Ye=Or,ke=Qr):(Ye=vt[Ze],ke=pt[Ze]);if(ut!==0)if(at._module&&at._module.hoverPoints){var vn=at._module.hoverPoints(be,Ye,ke,Je,{finiteRange:!0,hoverLayer:ce._hoverlayer});if(vn)for(var Mn,Sn=0;Sn<vn.length;Sn++)Mn=vn[Sn],L(Mn.x0)&&L(Mn.y0)&&rt.push(B(Mn,We))}else C.log("Unrecognized trace type in hover:",at);if(We==="closest"&&rt.length>me&&(rt.splice(0,me),Kt=rt[0].distance),Ae&&ht!==0&&rt.length===0){be.distance=ht,be.index=!1;var Vn=at._module.hoverPoints(be,Ye,ke,"closest",{hoverLayer:ce._hoverlayer});if(Vn&&(Vn=Vn.filter(function(ma){return ma.spikeDistance<=ht})),Vn&&Vn.length){var jn,ya=Vn.filter(function(ma){return ma.xa.showspikes&&ma.xa.spikesnap!=="hovered data"});if(ya.length){var Pa=ya[0];L(Pa.x0)&&L(Pa.y0)&&(jn=Ft(Pa),(!_e.vLinePoint||_e.vLinePoint.spikeDistance>jn.spikeDistance)&&(_e.vLinePoint=jn))}var Da=Vn.filter(function(ma){return ma.ya.showspikes&&ma.ya.spikesnap!=="hovered data"});if(Da.length){var Ma=Da[0];L(Ma.x0)&&L(Ma.y0)&&(jn=Ft(Ma),(!_e.hLinePoint||_e.hLinePoint.spikeDistance>jn.spikeDistance)&&(_e.hLinePoint=jn))}}}}}Jt();function St(Or,Qr,Zr){for(var vn=null,Mn=1/0,Sn,Vn=0;Vn<Or.length;Vn++)Sn=Or[Vn].spikeDistance,Zr&&Vn===0&&(Sn=-1/0),Sn<=Mn&&Sn<=Qr&&(vn=Or[Vn],Mn=Sn);return vn}function Ft(Or){return Or?{xa:Or.xa,ya:Or.ya,x:Or.xSpike!==void 0?Or.xSpike:(Or.x0+Or.x1)/2,y:Or.ySpike!==void 0?Or.ySpike:(Or.y0+Or.y1)/2,distance:Or.distance,spikeDistance:Or.spikeDistance,curveNumber:Or.trace.index,color:Or.color,pointNumber:Or.index}:null}var rr={fullLayout:ce,container:ce._hoverlayer,event:se},_r=q._spikepoints,Tt={vLinePoint:_e.vLinePoint,hLinePoint:_e.hLinePoint};q._spikepoints=Tt;var $t=function(){rt.sort(function(Or,Qr){return Or.distance-Qr.distance}),rt=le(rt,We)};$t();var tr=We.charAt(0),Tr=(tr==="x"||tr==="y")&&rt[0]&&o[rt[0].trace.type];if(Ae&&ht!==0&&rt.length!==0){var cr=rt.filter(function(Or){return Or.ya.showspikes}),bt=St(cr,ht,Tr);_e.hLinePoint=Ft(bt);var lt=rt.filter(function(Or){return Or.xa.showspikes}),Mt=St(lt,ht,Tr);_e.vLinePoint=Ft(Mt)}if(rt.length===0){var _t=f.unhoverRaw(q,se);return Ae&&(_e.hLinePoint!==null||_e.vLinePoint!==null)&&ne(_r)&&W(q,_e,rr),_t}if(Ae&&ne(_r)&&W(q,_e,rr),m.isXYhover(Je)&&rt[0].length!==0&&rt[0].trace.type!=="splom"){var Ot=rt[0];w[Ot.trace.type]?rt=rt.filter(function(Or){return Or.trace.index===Ot.trace.index}):rt=[Ot];var It=rt.length,Wt=Z("x",Ot,ce),Gt=Z("y",Ot,ce);Jt(Wt,Gt);var er=[],dr={},pr=0,mr=function(Or){var Qr=w[Or.trace.type]?b(Or):Or.trace.index;if(!dr[Qr])pr++,dr[Qr]=pr,er.push(Or);else{var Zr=dr[Qr]-1,vn=er[Zr];Zr>0&&Math.abs(Or.distance)<Math.abs(vn.distance)&&(er[Zr]=Or)}},Xe;for(Xe=0;Xe<It;Xe++)mr(rt[Xe]);for(Xe=rt.length-1;Xe>It-1;Xe--)mr(rt[Xe]);rt=er,$t()}var Ge=q._hoverdata,Ut=[],Nt=Y(q),Qt=re(q);for(mt=0;mt<rt.length;mt++){var ar=rt[mt],hr=m.makeEventData(ar,ar.trace,ar.cd);if(ar.hovertemplate!==!1){var or=!1;ar.cd[ar.index]&&ar.cd[ar.index].ht&&(or=ar.cd[ar.index].ht),ar.hovertemplate=or||ar.trace.hovertemplate||!1}if(ar.xa&&ar.ya){var Vt=ar.x0+ar.xa._offset,yr=ar.x1+ar.xa._offset,wr=ar.y0+ar.ya._offset,Ar=ar.y1+ar.ya._offset,gr=Math.min(Vt,yr),jr=Math.max(Vt,yr),Fr=Math.min(wr,Ar),Nr=Math.max(wr,Ar);hr.bbox={x0:gr+Qt,x1:jr+Qt,y0:Fr+Nt,y1:Nr+Nt}}ar.eventData=[hr],Ut.push(hr)}q._hoverdata=Ut;var wn=We==="y"&&(tt.length>1||rt.length>1)||We==="closest"&&Ee&&rt.length>1,hn=a.combine(ce.plot_bgcolor||a.background,ce.paper_bgcolor),Un=D(rt,{gd:q,hovermode:We,rotateLabels:wn,bgColor:hn,container:ce._hoverlayer,outerContainer:ce._paper.node(),commonLabelOpts:ce.hoverlabel,hoverdistance:ce.hoverdistance}),Fn=Un.hoverLabels;if(m.isUnifiedHover(We)||(k(Fn,wn,ce,Un.commonLabelBoundingBox),O(Fn,wn,ce._invScaleX,ce._invScaleY)),ue&&ue.tagName){var Pr=l.getComponentMethod("annotations","hasClickToShow")(q,Ut);t(p.select(ue),Pr?"pointer":"")}!ue||j||!ee(q,se,Ge)||(Ge&&q.emit("plotly_unhover",{event:se,points:Ge}),q.emit("plotly_hover",{event:se,points:q._hoverdata,xaxes:Le,yaxes:xe,xvals:vt,yvals:pt}))}function b(q){return[q.trace.index,q.index,q.x0,q.y0,q.name,q.attr,q.xa?q.xa._id:"",q.ya?q.ya._id:""].join(",")}var I=/<extra>([\s\S]*)<\/extra>/;function D(q,se){var $=se.gd,j=$._fullLayout,ue=se.hovermode,ae=se.rotateLabels,ce=se.bgColor,ye=se.container,Ce=se.outerContainer,Ae=se.commonLabelOpts||{};if(q.length===0)return[[]];var Ie=se.fontFamily||h.HOVERFONT,Te=se.fontSize||h.HOVERFONTSIZE,Le=q[0],xe=Le.xa,Re=Le.ya,He=ue.charAt(0),Ve=He+"Label",Fe=Le[Ve];if(Fe===void 0&&xe.type==="multicategory")for(var We=0;We<q.length&&(Fe=q[We][Ve],Fe===void 0);We++);var ut=X($,Ce),ht=ut.top,rt=ut.width,tt=ut.height,vt=Fe!==void 0&&Le.distance<=se.hoverdistance&&(ue==="x"||ue==="y");if(vt){var pt=!0,mt,wt;for(mt=0;mt<q.length;mt++)if(pt&&q[mt].zLabel===void 0&&(pt=!1),wt=q[mt].hoverinfo||q[mt].trace.hoverinfo,wt){var Lt=Array.isArray(wt)?wt:wt.split("+");if(Lt.indexOf("all")===-1&&Lt.indexOf(ue)===-1){vt=!1;break}}pt&&(vt=!1)}var at=ye.selectAll("g.axistext").data(vt?[0]:[]);at.enter().append("g").classed("axistext",!0),at.exit().remove();var Oe={minX:0,maxX:0,minY:0,maxY:0};if(at.each(function(){var It=p.select(this),Wt=C.ensureSingle(It,"path","",function(Nr){Nr.style({"stroke-width":"1px"})}),Gt=C.ensureSingle(It,"text","",function(Nr){Nr.attr("data-notex",1)}),er=Ae.bgcolor||a.defaultLine,dr=Ae.bordercolor||a.contrast(er),pr=a.contrast(er),mr={family:Ae.font.family||Ie,size:Ae.font.size||Te,color:Ae.font.color||pr};Wt.style({fill:er,stroke:dr}),Gt.text(Fe).call(s.font,mr).call(r.positionText,0,0).call(r.convertToTspans,$),It.attr("transform","");var Xe=X($,Gt.node()),Ge,Ut;if(ue==="x"){var Nt=xe.side==="top"?"-":"";Gt.attr("text-anchor","middle").call(r.positionText,0,xe.side==="top"?ht-Xe.bottom-y-S:ht-Xe.top+y+S),Ge=xe._offset+(Le.x0+Le.x1)/2,Ut=Re._offset+(xe.side==="top"?0:Re._length);var Qt=Xe.width/2+S,ar=Ge;Ge<Qt?ar=Qt:Ge>j.width-Qt&&(ar=j.width-Qt),Wt.attr("d","M"+(Ge-ar)+",0L"+(Ge-ar+y)+","+Nt+y+"H"+Qt+"v"+Nt+(S*2+Xe.height)+"H"+-Qt+"V"+Nt+y+"H"+(Ge-ar-y)+"Z"),Ge=ar,Oe.minX=Ge-Qt,Oe.maxX=Ge+Qt,xe.side==="top"?(Oe.minY=Ut-(S*2+Xe.height),Oe.maxY=Ut-S):(Oe.minY=Ut+S,Oe.maxY=Ut+(S*2+Xe.height))}else{var hr,or,Vt;Re.side==="right"?(hr="start",or=1,Vt="",Ge=xe._offset+xe._length):(hr="end",or=-1,Vt="-",Ge=xe._offset),Ut=Re._offset+(Le.y0+Le.y1)/2,Gt.attr("text-anchor",hr),Wt.attr("d","M0,0L"+Vt+y+","+y+"V"+(S+Xe.height/2)+"h"+Vt+(S*2+Xe.width)+"V-"+(S+Xe.height/2)+"H"+Vt+y+"V-"+y+"Z"),Oe.minY=Ut-(S+Xe.height/2),Oe.maxY=Ut+(S+Xe.height/2),Re.side==="right"?(Oe.minX=Ge+y,Oe.maxX=Ge+y+(S*2+Xe.width)):(Oe.minX=Ge-y-(S*2+Xe.width),Oe.maxX=Ge-y);var yr=Xe.height/2,wr=ht-Xe.top-yr,Ar="clip"+j._uid+"commonlabel"+Re._id,gr;if(Ge<Xe.width+2*S+y){gr="M-"+(y+S)+"-"+yr+"h-"+(Xe.width-S)+"V"+yr+"h"+(Xe.width-S)+"Z";var jr=Xe.width-Ge+S;r.positionText(Gt,jr,wr),hr==="end"&&Gt.selectAll("tspan").each(function(){var Nr=p.select(this),wn=s.tester.append("text").text(Nr.text()).call(s.font,mr),hn=X($,wn.node());Math.round(hn.width)<Math.round(Xe.width)&&Nr.attr("x",jr-hn.width),wn.remove()})}else r.positionText(Gt,or*(S+y),wr),gr=null;var Fr=j._topclips.selectAll("#"+Ar).data(gr?[0]:[]);Fr.enter().append("clipPath").attr("id",Ar).append("path"),Fr.exit().remove(),Fr.select("path").attr("d",gr),s.setClipUrl(Gt,gr?Ar:null,$)}It.attr("transform",T(Ge,Ut))}),m.isUnifiedHover(ue)){ye.selectAll("g.hovertext").remove();var Ze=q.filter(function(It){return It.hoverinfo!=="none"});if(Ze.length===0)return[];var Je=j.hoverlabel,Ye=Je.font,ke={showlegend:!0,legend:{title:{text:Fe,font:Ye},font:Ye,bgcolor:Je.bgcolor,bordercolor:Je.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:j.legend?j.legend.traceorder:void 0,orientation:"v"}},be={font:Ye};M(ke,be,$._fullData);var me=be.legend;me.entries=[];for(var _e=0;_e<Ze.length;_e++){var Ee=Ze[_e];if(Ee.hoverinfo!=="none"){var Be=N(Ee,!0,ue,j,Fe),je=Be[0],nt=Be[1];Ee.name=nt,nt!==""?Ee.text=nt+" : "+je:Ee.text=je;var dt=Ee.cd[Ee.index];dt&&(dt.mc&&(Ee.mc=dt.mc),dt.mcc&&(Ee.mc=dt.mcc),dt.mlc&&(Ee.mlc=dt.mlc),dt.mlcc&&(Ee.mlc=dt.mlcc),dt.mlw&&(Ee.mlw=dt.mlw),dt.mrc&&(Ee.mrc=dt.mrc),dt.dir&&(Ee.dir=dt.dir)),Ee._distinct=!0,me.entries.push([Ee])}}me.entries.sort(function(It,Wt){return It[0].trace.index-Wt[0].trace.index}),me.layer=ye,me._inHover=!0,me._groupTitleFont=Je.grouptitlefont,c($,me);var xt=ye.select("g.legend"),Kt=X($,xt.node()),Jt=Kt.width+2*S,St=Kt.height+2*S,Ft=Ze[0],rr=(Ft.x0+Ft.x1)/2,_r=(Ft.y0+Ft.y1)/2,Tt=!(l.traceIs(Ft.trace,"bar-like")||l.traceIs(Ft.trace,"box-violin")),$t,tr;He==="y"?Tt?(tr=_r-S,$t=_r+S):(tr=Math.min.apply(null,Ze.map(function(It){return Math.min(It.y0,It.y1)})),$t=Math.max.apply(null,Ze.map(function(It){return Math.max(It.y0,It.y1)}))):tr=$t=C.mean(Ze.map(function(It){return(It.y0+It.y1)/2}))-St/2;var Tr,cr;He==="x"?Tt?(Tr=rr+S,cr=rr-S):(Tr=Math.max.apply(null,Ze.map(function(It){return Math.max(It.x0,It.x1)})),cr=Math.min.apply(null,Ze.map(function(It){return Math.min(It.x0,It.x1)}))):Tr=cr=C.mean(Ze.map(function(It){return(It.x0+It.x1)/2}))-Jt/2;var bt=xe._offset,lt=Re._offset;$t+=lt,Tr+=bt,cr+=bt-Jt,tr+=lt-St;var Mt,_t;return Tr+Jt<rt&&Tr>=0?Mt=Tr:cr+Jt<rt&&cr>=0?Mt=cr:bt+Jt<rt?Mt=bt:Tr-rr<rr-cr+Jt?Mt=rt-Jt:Mt=0,Mt+=S,$t+St<tt&&$t>=0?_t=$t:tr+St<tt&&tr>=0?_t=tr:lt+St<tt?_t=lt:$t-_r<_r-tr+St?_t=tt-St:_t=0,_t+=S,xt.attr("transform",T(Mt-1,_t-1)),xt}var Ot=ye.selectAll("g.hovertext").data(q,function(It){return b(It)});return Ot.enter().append("g").classed("hovertext",!0).each(function(){var It=p.select(this);It.append("rect").call(a.fill,a.addOpacity(ce,.8)),It.append("text").classed("name",!0),It.append("path").style("stroke-width","1px"),It.append("text").classed("nums",!0).call(s.font,Ie,Te)}),Ot.exit().remove(),Ot.each(function(It){var Wt=p.select(this).attr("transform",""),Gt=It.color;Array.isArray(Gt)&&(Gt=Gt[It.eventData[0].pointNumber]);var er=It.bgcolor||Gt,dr=a.combine(a.opacity(er)?er:a.defaultLine,ce),pr=a.combine(a.opacity(Gt)?Gt:a.defaultLine,ce),mr=It.borderColor||a.contrast(dr),Xe=N(It,vt,ue,j,Fe,Wt),Ge=Xe[0],Ut=Xe[1],Nt=Wt.select("text.nums").call(s.font,It.fontFamily||Ie,It.fontSize||Te,It.fontColor||mr).text(Ge).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,$),Qt=Wt.select("text.name"),ar=0,hr=0;if(Ut&&Ut!==Ge){Qt.call(s.font,It.fontFamily||Ie,It.fontSize||Te,pr).text(Ut).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,$);var or=X($,Qt.node());ar=or.width+2*S,hr=or.height+2*S}else Qt.remove(),Wt.select("rect").remove();Wt.select("path").style({fill:dr,stroke:mr});var Vt=It.xa._offset+(It.x0+It.x1)/2,yr=It.ya._offset+(It.y0+It.y1)/2,wr=Math.abs(It.x1-It.x0),Ar=Math.abs(It.y1-It.y0),gr=X($,Nt.node()),jr=gr.width/j._invScaleX,Fr=gr.height/j._invScaleY;It.ty0=(ht-gr.top)/j._invScaleY,It.bx=jr+2*S,It.by=Math.max(Fr+2*S,hr),It.anchor="start",It.txwidth=jr,It.tx2width=ar,It.offset=0;var Nr=(jr+y+S+ar)*j._invScaleX,wn,hn;if(ae)It.pos=Vt,wn=yr+Ar/2+Nr<=tt,hn=yr-Ar/2-Nr>=0,(It.idealAlign==="top"||!wn)&&hn?(yr-=Ar/2,It.anchor="end"):wn?(yr+=Ar/2,It.anchor="start"):It.anchor="middle",It.crossPos=yr;else{if(It.pos=yr,wn=Vt+wr/2+Nr<=rt,hn=Vt-wr/2-Nr>=0,(It.idealAlign==="left"||!wn)&&hn)Vt-=wr/2,It.anchor="end";else if(wn)Vt+=wr/2,It.anchor="start";else{It.anchor="middle";var Un=Nr/2,Fn=Vt+Un-rt,Pr=Vt-Un;Fn>0&&(Vt-=Fn),Pr<0&&(Vt+=-Pr)}It.crossPos=Vt}Nt.attr("text-anchor",It.anchor),ar&&Qt.attr("text-anchor",It.anchor),Wt.attr("transform",T(Vt,yr)+(ae?v(i):""))}),{hoverLabels:Ot,commonLabelBoundingBox:Oe}}function N(q,se,$,j,ue,ae){var ce="",ye="";q.nameOverride!==void 0&&(q.name=q.nameOverride),q.name&&(q.trace._meta&&(q.name=C.templateString(q.name,q.trace._meta)),ce=Q(q.name,q.nameLength));var Ce=$.charAt(0),Ae=Ce==="x"?"y":"x";q.zLabel!==void 0?(q.xLabel!==void 0&&(ye+="x: "+q.xLabel+"<br>"),q.yLabel!==void 0&&(ye+="y: "+q.yLabel+"<br>"),q.trace.type!=="choropleth"&&q.trace.type!=="choroplethmapbox"&&(ye+=(ye?"z: ":"")+q.zLabel)):se&&q[Ce+"Label"]===ue?ye=q[Ae+"Label"]||"":q.xLabel===void 0?q.yLabel!==void 0&&q.trace.type!=="scattercarpet"&&(ye=q.yLabel):q.yLabel===void 0?ye=q.xLabel:ye="("+q.xLabel+", "+q.yLabel+")",(q.text||q.text===0)&&!Array.isArray(q.text)&&(ye+=(ye?"<br>":"")+q.text),q.extraText!==void 0&&(ye+=(ye?"<br>":"")+q.extraText),ae&&ye===""&&!q.hovertemplate&&(ce===""&&ae.remove(),ye=ce);var Ie=q.hovertemplate||!1;if(Ie){var Te=q.hovertemplateLabels||q;q[Ce+"Label"]!==ue&&(Te[Ce+"other"]=Te[Ce+"Val"],Te[Ce+"otherLabel"]=Te[Ce+"Label"]),ye=C.hovertemplateString(Ie,Te,j._d3locale,q.eventData[0]||{},q.trace._meta),ye=ye.replace(I,function(Le,xe){return ce=Q(xe,q.nameLength),""})}return[ye,ce]}function k(q,se,$,j){var ue=se?"xa":"ya",ae=se?"ya":"xa",ce=0,ye=1,Ce=q.size(),Ae=new Array(Ce),Ie=0,Te=j.minX,Le=j.maxX,xe=j.minY,Re=j.maxY,He=function(Ye){return Ye*$._invScaleX},Ve=function(Ye){return Ye*$._invScaleY};q.each(function(Ye){var ke=Ye[ue],be=Ye[ae],me=ke._id.charAt(0)==="x",_e=ke.range;Ie===0&&_e&&_e[0]>_e[1]!==me&&(ye=-1);var Ee=0,Be=me?$.width:$.height;if($.hovermode==="x"||$.hovermode==="y"){var je=z(Ye,se),nt=Ye.anchor,dt=nt==="end"?-1:1,xt,Kt;if(nt==="middle")xt=Ye.crossPos+(me?Ve(je.y-Ye.by/2):He(Ye.bx/2+Ye.tx2width/2)),Kt=xt+(me?Ve(Ye.by):He(Ye.bx));else if(me)xt=Ye.crossPos+Ve(y+je.y)-Ve(Ye.by/2-y),Kt=xt+Ve(Ye.by);else{var Jt=He(dt*y+je.x),St=Jt+He(dt*Ye.bx);xt=Ye.crossPos+Math.min(Jt,St),Kt=Ye.crossPos+Math.max(Jt,St)}me?xe!==void 0&&Re!==void 0&&Math.min(Kt,Re)-Math.max(xt,xe)>1&&(be.side==="left"?(Ee=be._mainLinePosition,Be=$.width):Be=be._mainLinePosition):Te!==void 0&&Le!==void 0&&Math.min(Kt,Le)-Math.max(xt,Te)>1&&(be.side==="top"?(Ee=be._mainLinePosition,Be=$.height):Be=be._mainLinePosition)}Ae[Ie++]=[{datum:Ye,traceIndex:Ye.trace.index,dp:0,pos:Ye.pos,posref:Ye.posref,size:Ye.by*(me?x:1)/2,pmin:Ee,pmax:Be}]}),Ae.sort(function(Ye,ke){return Ye[0].posref-ke[0].posref||ye*(ke[0].traceIndex-Ye[0].traceIndex)});var Fe,We,ut,ht,rt,tt,vt;function pt(Ye){var ke=Ye[0],be=Ye[Ye.length-1];if(We=ke.pmin-ke.pos-ke.dp+ke.size,ut=be.pos+be.dp+be.size-ke.pmax,We>.01){for(rt=Ye.length-1;rt>=0;rt--)Ye[rt].dp+=We;Fe=!1}if(!(ut<.01)){if(We<-.01){for(rt=Ye.length-1;rt>=0;rt--)Ye[rt].dp-=ut;Fe=!1}if(Fe){var me=0;for(ht=0;ht<Ye.length;ht++)tt=Ye[ht],tt.pos+tt.dp+tt.size>ke.pmax&&me++;for(ht=Ye.length-1;ht>=0&&!(me<=0);ht--)tt=Ye[ht],tt.pos>ke.pmax-1&&(tt.del=!0,me--);for(ht=0;ht<Ye.length&&!(me<=0);ht++)if(tt=Ye[ht],tt.pos<ke.pmin+1)for(tt.del=!0,me--,ut=tt.size*2,rt=Ye.length-1;rt>=0;rt--)Ye[rt].dp-=ut;for(ht=Ye.length-1;ht>=0&&!(me<=0);ht--)tt=Ye[ht],tt.pos+tt.dp+tt.size>ke.pmax&&(tt.del=!0,me--)}}}for(;!Fe&&ce<=Ce;){for(ce++,Fe=!0,ht=0;ht<Ae.length-1;){var mt=Ae[ht],wt=Ae[ht+1],Lt=mt[mt.length-1],at=wt[0];if(We=Lt.pos+Lt.dp+Lt.size-at.pos-at.dp+at.size,We>.01&&Lt.pmin===at.pmin&&Lt.pmax===at.pmax){for(rt=wt.length-1;rt>=0;rt--)wt[rt].dp+=We;for(mt.push.apply(mt,wt),Ae.splice(ht+1,1),vt=0,rt=mt.length-1;rt>=0;rt--)vt+=mt[rt].dp;for(ut=vt/mt.length,rt=mt.length-1;rt>=0;rt--)mt[rt].dp-=ut;Fe=!1}else ht++}Ae.forEach(pt)}for(ht=Ae.length-1;ht>=0;ht--){var Oe=Ae[ht];for(rt=Oe.length-1;rt>=0;rt--){var Ze=Oe[rt],Je=Ze.datum;Je.offset=Ze.dp,Je.del=Ze.del}}}function z(q,se){var $=0,j=q.offset;return se&&(j*=-E,$=q.offset*A),{x:$,y:j}}function F(q){var se={start:1,end:-1,middle:0}[q.anchor],$=se*(y+S),j=$+se*(q.txwidth+S),ue=q.anchor==="middle";return ue&&($-=q.tx2width/2,j+=q.txwidth/2+S),{alignShift:se,textShiftX:$,text2ShiftX:j}}function O(q,se,$,j){var ue=function(ce){return ce*$},ae=function(ce){return ce*j};q.each(function(ce){var ye=p.select(this);if(ce.del)return ye.remove();var Ce=ye.select("text.nums"),Ae=ce.anchor,Ie=Ae==="end"?-1:1,Te=F(ce),Le=z(ce,se),xe=Le.x,Re=Le.y,He=Ae==="middle";ye.select("path").attr("d",He?"M-"+ue(ce.bx/2+ce.tx2width/2)+","+ae(Re-ce.by/2)+"h"+ue(ce.bx)+"v"+ae(ce.by)+"h-"+ue(ce.bx)+"Z":"M0,0L"+ue(Ie*y+xe)+","+ae(y+Re)+"v"+ae(ce.by/2-y)+"h"+ue(Ie*ce.bx)+"v-"+ae(ce.by)+"H"+ue(Ie*y+xe)+"V"+ae(Re-y)+"Z");var Ve=xe+Te.textShiftX,Fe=Re+ce.ty0-ce.by/2+S,We=ce.textAlign||"auto";We!=="auto"&&(We==="left"&&Ae!=="start"?(Ce.attr("text-anchor","start"),Ve=He?-ce.bx/2-ce.tx2width/2+S:-ce.bx-S):We==="right"&&Ae!=="end"&&(Ce.attr("text-anchor","end"),Ve=He?ce.bx/2-ce.tx2width/2-S:ce.bx+S)),Ce.call(r.positionText,ue(Ve),ae(Fe)),ce.tx2width&&(ye.select("text.name").call(r.positionText,ue(Te.text2ShiftX+Te.alignShift*S+xe),ae(Re+ce.ty0-ce.by/2+S)),ye.select("rect").call(s.setRect,ue(Te.text2ShiftX+(Te.alignShift-1)*ce.tx2width/2+xe),ae(Re-ce.by/2-1),ue(ce.tx2width),ae(ce.by+2)))})}function B(q,se){var $=q.index,j=q.trace||{},ue=q.cd[0],ae=q.cd[$]||{};function ce(Le){return Le||L(Le)&&Le===0}var ye=Array.isArray($)?function(Le,xe){var Re=C.castOption(ue,$,Le);return ce(Re)?Re:C.extractOption({},j,"",xe)}:function(Le,xe){return C.extractOption(ae,j,Le,xe)};function Ce(Le,xe,Re){var He=ye(xe,Re);ce(He)&&(q[Le]=He)}if(Ce("hoverinfo","hi","hoverinfo"),Ce("bgcolor","hbg","hoverlabel.bgcolor"),Ce("borderColor","hbc","hoverlabel.bordercolor"),Ce("fontFamily","htf","hoverlabel.font.family"),Ce("fontSize","hts","hoverlabel.font.size"),Ce("fontColor","htc","hoverlabel.font.color"),Ce("nameLength","hnl","hoverlabel.namelength"),Ce("textAlign","hta","hoverlabel.align"),q.posref=se==="y"||se==="closest"&&j.orientation==="h"?q.xa._offset+(q.x0+q.x1)/2:q.ya._offset+(q.y0+q.y1)/2,q.x0=C.constrain(q.x0,0,q.xa._length),q.x1=C.constrain(q.x1,0,q.xa._length),q.y0=C.constrain(q.y0,0,q.ya._length),q.y1=C.constrain(q.y1,0,q.ya._length),q.xLabelVal!==void 0&&(q.xLabel="xLabel"in q?q.xLabel:u.hoverLabelText(q.xa,q.xLabelVal,j.xhoverformat),q.xVal=q.xa.c2d(q.xLabelVal)),q.yLabelVal!==void 0&&(q.yLabel="yLabel"in q?q.yLabel:u.hoverLabelText(q.ya,q.yLabelVal,j.yhoverformat),q.yVal=q.ya.c2d(q.yLabelVal)),q.zLabelVal!==void 0&&q.zLabel===void 0&&(q.zLabel=String(q.zLabelVal)),!isNaN(q.xerr)&&!(q.xa.type==="log"&&q.xerr<=0)){var Ae=u.tickText(q.xa,q.xa.c2l(q.xerr),"hover").text;q.xerrneg!==void 0?q.xLabel+=" +"+Ae+" / -"+u.tickText(q.xa,q.xa.c2l(q.xerrneg),"hover").text:q.xLabel+="  "+Ae,se==="x"&&(q.distance+=1)}if(!isNaN(q.yerr)&&!(q.ya.type==="log"&&q.yerr<=0)){var Ie=u.tickText(q.ya,q.ya.c2l(q.yerr),"hover").text;q.yerrneg!==void 0?q.yLabel+=" +"+Ie+" / -"+u.tickText(q.ya,q.ya.c2l(q.yerrneg),"hover").text:q.yLabel+="  "+Ie,se==="y"&&(q.distance+=1)}var Te=q.hoverinfo||q.trace.hoverinfo;return Te&&Te!=="all"&&(Te=Array.isArray(Te)?Te:Te.split("+"),Te.indexOf("x")===-1&&(q.xLabel=void 0),Te.indexOf("y")===-1&&(q.yLabel=void 0),Te.indexOf("z")===-1&&(q.zLabel=void 0),Te.indexOf("text")===-1&&(q.text=void 0),Te.indexOf("name")===-1&&(q.name=void 0)),q}function W(q,se,$){var j=$.container,ue=$.fullLayout,ae=ue._size,ce=$.event,ye=!!se.hLinePoint,Ce=!!se.vLinePoint,Ae,Ie;if(j.selectAll(".spikeline").remove(),!!(Ce||ye)){var Te=a.combine(ue.plot_bgcolor,ue.paper_bgcolor);if(ye){var Le=se.hLinePoint,xe,Re;Ae=Le&&Le.xa,Ie=Le&&Le.ya;var He=Ie.spikesnap;He==="cursor"?(xe=ce.pointerX,Re=ce.pointerY):(xe=Ae._offset+Le.x,Re=Ie._offset+Le.y);var Ve=n.readability(Le.color,Te)<1.5?a.contrast(Te):Le.color,Fe=Ie.spikemode,We=Ie.spikethickness,ut=Ie.spikecolor||Ve,ht=u.getPxPosition(q,Ie),rt,tt;if(Fe.indexOf("toaxis")!==-1||Fe.indexOf("across")!==-1){if(Fe.indexOf("toaxis")!==-1&&(rt=ht,tt=xe),Fe.indexOf("across")!==-1){var vt=Ie._counterDomainMin,pt=Ie._counterDomainMax;Ie.anchor==="free"&&(vt=Math.min(vt,Ie.position),pt=Math.max(pt,Ie.position)),rt=ae.l+vt*ae.w,tt=ae.l+pt*ae.w}j.insert("line",":first-child").attr({x1:rt,x2:tt,y1:Re,y2:Re,"stroke-width":We,stroke:ut,"stroke-dasharray":s.dashStyle(Ie.spikedash,We)}).classed("spikeline",!0).classed("crisp",!0),j.insert("line",":first-child").attr({x1:rt,x2:tt,y1:Re,y2:Re,"stroke-width":We+2,stroke:Te}).classed("spikeline",!0).classed("crisp",!0)}Fe.indexOf("marker")!==-1&&j.insert("circle",":first-child").attr({cx:ht+(Ie.side!=="right"?We:-We),cy:Re,r:We,fill:ut}).classed("spikeline",!0)}if(Ce){var mt=se.vLinePoint,wt,Lt;Ae=mt&&mt.xa,Ie=mt&&mt.ya;var at=Ae.spikesnap;at==="cursor"?(wt=ce.pointerX,Lt=ce.pointerY):(wt=Ae._offset+mt.x,Lt=Ie._offset+mt.y);var Oe=n.readability(mt.color,Te)<1.5?a.contrast(Te):mt.color,Ze=Ae.spikemode,Je=Ae.spikethickness,Ye=Ae.spikecolor||Oe,ke=u.getPxPosition(q,Ae),be,me;if(Ze.indexOf("toaxis")!==-1||Ze.indexOf("across")!==-1){if(Ze.indexOf("toaxis")!==-1&&(be=ke,me=Lt),Ze.indexOf("across")!==-1){var _e=Ae._counterDomainMin,Ee=Ae._counterDomainMax;Ae.anchor==="free"&&(_e=Math.min(_e,Ae.position),Ee=Math.max(Ee,Ae.position)),be=ae.t+(1-Ee)*ae.h,me=ae.t+(1-_e)*ae.h}j.insert("line",":first-child").attr({x1:wt,x2:wt,y1:be,y2:me,"stroke-width":Je,stroke:Ye,"stroke-dasharray":s.dashStyle(Ae.spikedash,Je)}).classed("spikeline",!0).classed("crisp",!0),j.insert("line",":first-child").attr({x1:wt,x2:wt,y1:be,y2:me,"stroke-width":Je+2,stroke:Te}).classed("spikeline",!0).classed("crisp",!0)}Ze.indexOf("marker")!==-1&&j.insert("circle",":first-child").attr({cx:wt,cy:ke-(Ae.side!=="top"?Je:-Je),r:Je,fill:Ye}).classed("spikeline",!0)}}}function ee(q,se,$){if(!$||$.length!==q._hoverdata.length)return!0;for(var j=$.length-1;j>=0;j--){var ue=$[j],ae=q._hoverdata[j];if(ue.curveNumber!==ae.curveNumber||String(ue.pointNumber)!==String(ae.pointNumber)||String(ue.pointNumbers)!==String(ae.pointNumbers))return!0}return!1}function ne(q,se){return!se||se.vLinePoint!==q._spikepoints.vLinePoint||se.hLinePoint!==q._spikepoints.hLinePoint}function Q(q,se){return r.plainText(q||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function le(q,se){for(var $=se.charAt(0),j=[],ue=[],ae=[],ce=0;ce<q.length;ce++){var ye=q[ce];l.traceIs(ye.trace,"bar-like")||l.traceIs(ye.trace,"box-violin")?ae.push(ye):ye.trace[$+"period"]?ue.push(ye):j.push(ye)}return j.concat(ue).concat(ae)}function Z(q,se,$){var j=se[q+"a"],ue=se[q+"Val"],ae=se.cd[0];if(j.type==="category"||j.type==="multicategory")ue=j._categoriesMap[ue];else if(j.type==="date"){var ce=se.trace[q+"periodalignment"];if(ce){var ye=se.cd[se.index],Ce=ye[q+"Start"];Ce===void 0&&(Ce=ye[q]);var Ae=ye[q+"End"];Ae===void 0&&(Ae=ye[q]);var Ie=Ae-Ce;ce==="end"?ue+=Ie:ce==="middle"&&(ue+=Ie/2)}ue=j.d2c(ue)}return ae&&ae.t&&ae.t.posLetter===j._id&&($.boxmode==="group"||$.violinmode==="group")&&(ue+=ae.t.dPos),ue}function Y(q){return q.offsetTop+q.clientTop}function re(q){return q.offsetLeft+q.clientLeft}function X(q,se){var $=q._fullLayout,j=se.getBoundingClientRect(),ue=j.left,ae=j.top,ce=ue+j.width,ye=ae+j.height,Ce=C.apply3DTransform($._invTransform)(ue,ae),Ae=C.apply3DTransform($._invTransform)(ce,ye),Ie=Ce[0],Te=Ce[1],Le=Ae[0],xe=Ae[1];return{x:Ie,y:Te,width:Le-Ie,height:xe-Te,top:Math.min(Te,xe),left:Math.min(Ie,Le),right:Math.max(Ie,Le),bottom:Math.max(Te,xe)}}},16132:function(H,U,e){var p=e(3400),L=e(76308),n=e(10624).isUnifiedHover;H.exports=function(T,v,g,r){r=r||{};var t=v.legend;function s(a){r.font[a]||(r.font[a]=t?v.legend.font[a]:v.font[a])}v&&n(v.hovermode)&&(r.font||(r.font={}),s("size"),s("family"),s("color"),t?(r.bgcolor||(r.bgcolor=L.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),g("hoverlabel.bgcolor",r.bgcolor),g("hoverlabel.bordercolor",r.bordercolor),g("hoverlabel.namelength",r.namelength),p.coerceFont(g,"hoverlabel.font",r.font),g("hoverlabel.align",r.align)}},41008:function(H,U,e){var p=e(3400),L=e(65460);H.exports=function(C,T){function v(g,r){return T[g]!==void 0?T[g]:p.coerce(C,T,L,g,r)}return v("clickmode"),v("hovermode")}},93024:function(H,U,e){var p=e(33428),L=e(3400),n=e(86476),C=e(10624),T=e(65460),v=e(83292);H.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:T},attributes:e(55756),layoutAttributes:T,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:n.unhover,loneHover:v.loneHover,loneUnhover:g,click:e(62376)};function g(s){var a=L.isD3Selection(s)?s:p.select(s);a.selectAll("g.hovertext").remove(),a.selectAll(".spikeline").remove()}function r(s,a,f){return L.castOption(s,a,"hoverlabel."+f)}function t(s,a,f){function u(l){return L.coerceHoverinfo({hoverinfo:l},{_module:s._module},a)}return L.castOption(s,f,"hoverinfo",u)}},65460:function(H,U,e){var p=e(92456),L=e(25376),n=L({editType:"none"});n.family.dflt=p.HOVERFONT,n.size.dflt=p.HOVERFONTSIZE,H.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:L({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(H,U,e){var p=e(3400),L=e(65460),n=e(41008),C=e(16132);H.exports=function(v,g){function r(l,m){return p.coerce(v,g,L,l,m)}var t=n(v,g);t&&(r("hoverdistance"),r("spikedistance"));var s=r("dragmode");s==="select"&&r("selectdirection");var a=g._has("mapbox"),f=g._has("geo"),u=g._basePlotModules.length;g.dragmode==="zoom"&&((a||f)&&u===1||a&&f&&u===2)&&(g.dragmode="pan"),C(v,g,r),p.coerceFont(r,"hoverlabel.grouptitlefont",g.hoverlabel.font)}},81976:function(H,U,e){var p=e(3400),L=e(16132),n=e(65460);H.exports=function(T,v){function g(r,t){return p.coerce(T,v,n,r,t)}L(T,v,g)}},12704:function(H,U,e){var p=e(3400),L=e(53756).counter,n=e(86968).u,C=e(33816).idRegex,T=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[L("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function g(f,u,l){var m=u[l+"axes"],h=Object.keys((f._splomAxes||{})[l]||{});if(Array.isArray(m))return m;if(h.length)return h}function r(f,u){var l=f.grid||{},m=g(u,l,"x"),h=g(u,l,"y");if(!f.grid&&!m&&!h)return;var M=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),c=Array.isArray(m),i=Array.isArray(h),d=c&&m!==l.xaxes&&i&&h!==l.yaxes,x,A;M?(x=l.subplots.length,A=l.subplots[0].length):(i&&(x=h.length),c&&(A=m.length));var E=T.newContainer(u,"grid");function y(z,F){return p.coerce(l,E,v,z,F)}var S=y("rows",x),w=y("columns",A);if(!(S*w>1)){delete u.grid;return}if(!M&&!c&&!i){var o=y("pattern")==="independent";o&&(M=!0)}E._hasSubplotGrid=M;var _=y("roworder"),b=_==="top to bottom",I=M?.2:.1,D=M?.3:.1,N,k;d&&u._splomGridDflt&&(N=u._splomGridDflt.xside,k=u._splomGridDflt.yside),E._domains={x:t("x",y,I,N,w),y:t("y",y,D,k,S,b)}}function t(f,u,l,m,h,M){var c=u(f+"gap",l),i=u("domain."+f);u(f+"side",m);for(var d=new Array(h),x=i[0],A=(i[1]-x)/(h-c),E=A*(1-c),y=0;y<h;y++){var S=x+A*y;d[M?h-1-y:y]=[S,S+E]}return d}function s(f,u){var l=u.grid;if(!(!l||!l._domains)){var m=f.grid||{},h=u._subplots,M=l._hasSubplotGrid,c=l.rows,i=l.columns,d=l.pattern==="independent",x,A,E,y,S,w,o,_=l._axisMap={};if(M){var b=m.subplots||[];w=l.subplots=new Array(c);var I=1;for(x=0;x<c;x++){var D=w[x]=new Array(i),N=b[x]||[];for(A=0;A<i;A++)if(d?(S=I===1?"xy":"x"+I+"y"+I,I++):S=N[A],D[A]="",h.cartesian.indexOf(S)!==-1){if(o=S.indexOf("y"),E=S.slice(0,o),y=S.slice(o),_[E]!==void 0&&_[E]!==A||_[y]!==void 0&&_[y]!==x)continue;D[A]=S,_[E]=A,_[y]=x}}}else{var k=g(u,m,"x"),z=g(u,m,"y");l.xaxes=a(k,h.xaxis,i,_,"x"),l.yaxes=a(z,h.yaxis,c,_,"y")}var F=l._anchors={},O=l.roworder==="top to bottom";for(var B in _){var W=B.charAt(0),ee=l[W+"side"],ne,Q,le;if(ee.length<8)F[B]="free";else if(W==="x"){if(ee.charAt(0)==="t"===O?(ne=0,Q=1,le=c):(ne=c-1,Q=-1,le=-1),M){var Z=_[B];for(x=ne;x!==le;x+=Q)if(S=w[x][Z],!!S&&(o=S.indexOf("y"),S.slice(0,o)===B)){F[B]=S.slice(o);break}}else for(x=ne;x!==le;x+=Q)if(y=l.yaxes[x],h.cartesian.indexOf(B+y)!==-1){F[B]=y;break}}else if(ee.charAt(0)==="l"?(ne=0,Q=1,le=i):(ne=i-1,Q=-1,le=-1),M){var Y=_[B];for(x=ne;x!==le;x+=Q)if(S=w[Y][x],!!S&&(o=S.indexOf("y"),S.slice(o)===B)){F[B]=S.slice(0,o);break}}else for(x=ne;x!==le;x+=Q)if(E=l.xaxes[x],h.cartesian.indexOf(E+B)!==-1){F[B]=E;break}}}}function a(f,u,l,m,h){var M=new Array(l),c;function i(d,x){u.indexOf(x)!==-1&&m[x]===void 0?(M[d]=x,m[x]=d):M[d]=""}if(Array.isArray(f))for(c=0;c<l;c++)i(c,f[c]);else for(i(0,h),c=1;c<l;c++)i(c,h+(c+1));return M}H.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:s}},65760:function(H,U,e){var p=e(33816),L=e(31780).templatedArray;e(36208),H.exports=L("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(H,U,e){var p=e(38248),L=e(36896);H.exports=function(C,T,v,g){T=T||{};var r=v==="log"&&T.type==="linear",t=v==="linear"&&T.type==="log";if(r||t){for(var s=C._fullLayout.images,a=T._id.charAt(0),f,u,l=0;l<s.length;l++)if(f=s[l],u="images["+l+"].",f[a+"ref"]===T._id){var m=f[a],h=f["size"+a],M=null,c=null;if(r){M=L(m,T.range);var i=h/Math.pow(10,M)/2;c=2*Math.log(i+Math.sqrt(1+i*i))/Math.LN10}else M=Math.pow(10,m),c=M*(Math.pow(10,h/2)-Math.pow(10,-h/2));p(M)?p(c)||(c=null):(M=null,c=null),g(u+a,M),g(u+"size"+a,c)}}}},25024:function(H,U,e){var p=e(3400),L=e(54460),n=e(51272),C=e(65760),T="images";H.exports=function(r,t){var s={name:T,handleItemDefaults:v};n(r,t,s)};function v(g,r,t){function s(i,d){return p.coerce(g,r,C,i,d)}var a=s("source"),f=s("visible",!!a);if(!f)return r;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var u={_fullLayout:t},l=["x","y"],m=0;m<2;m++){var h=l[m],M=L.coerceRef(g,r,u,h,"paper",void 0);if(M!=="paper"){var c=L.getFromId(u,M);c._imgIndices.push(r._index)}L.coercePosition(r,u,s,M,h,0)}return r}},60963:function(H,U,e){var p=e(33428),L=e(43616),n=e(54460),C=e(79811),T=e(9616);H.exports=function(g){var r=g._fullLayout,t=[],s={},a=[],f,u;for(u=0;u<r.images.length;u++){var l=r.images[u];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){f=C.ref2id(l.xref)+C.ref2id(l.yref);var m=r._plots[f];if(!m){a.push(l);continue}m.mainplot&&(f=m.mainplot.id),s[f]||(s[f]=[]),s[f].push(l)}else l.layer==="above"?t.push(l):a.push(l)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function M(y){var S=p.select(this);if(this._imgSrc!==y.source)if(S.attr("xmlns",T.svg),y.source&&y.source.slice(0,5)==="data:")S.attr("xlink:href",y.source),this._imgSrc=y.source;else{var w=new Promise((function(o){var _=new Image;this.img=_,_.setAttribute("crossOrigin","anonymous"),_.onerror=b,_.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height;var D=I.getContext("2d",{willReadFrequently:!0});D.drawImage(this,0,0);var N=I.toDataURL("image/png");S.attr("xlink:href",N),o()},S.on("error",b),_.src=y.source,this._imgSrc=y.source;function b(){S.remove(),o()}}).bind(this));g._promises.push(w)}}function c(y){var S=p.select(this),w=n.getFromId(g,y.xref),o=n.getFromId(g,y.yref),_=n.getRefType(y.xref)==="domain",b=n.getRefType(y.yref)==="domain",I=r._size,D,N;w!==void 0?D=typeof y.xref=="string"&&_?w._length*y.sizex:Math.abs(w.l2p(y.sizex)-w.l2p(0)):D=y.sizex*I.w,o!==void 0?N=typeof y.yref=="string"&&b?o._length*y.sizey:Math.abs(o.l2p(y.sizey)-o.l2p(0)):N=y.sizey*I.h;var k=D*h.x[y.xanchor].offset,z=N*h.y[y.yanchor].offset,F=h.x[y.xanchor].sizing+h.y[y.yanchor].sizing,O,B;switch(w!==void 0?O=typeof y.xref=="string"&&_?w._length*y.x+w._offset:w.r2p(y.x)+w._offset:O=y.x*I.w+I.l,O+=k,o!==void 0?B=typeof y.yref=="string"&&b?o._length*(1-y.y)+o._offset:o.r2p(y.y)+o._offset:B=I.h-y.y*I.h+I.t,B+=z,y.sizing){case"fill":F+=" slice";break;case"stretch":F="none";break}S.attr({x:O,y:B,width:D,height:N,preserveAspectRatio:F,opacity:y.opacity});var W=w&&n.getRefType(y.xref)!=="domain"?w._id:"",ee=o&&n.getRefType(y.yref)!=="domain"?o._id:"",ne=W+ee;L.setClipUrl(S,ne?"clip"+r._uid+ne:null,g)}var i=r._imageLowerLayer.selectAll("image").data(a),d=r._imageUpperLayer.selectAll("image").data(t);i.enter().append("image"),d.enter().append("image"),i.exit().remove(),d.exit().remove(),i.each(function(y){M.bind(this)(y),c.bind(this)(y)}),d.each(function(y){M.bind(this)(y),c.bind(this)(y)});var x=Object.keys(r._plots);for(u=0;u<x.length;u++){f=x[u];var A=r._plots[f];if(A.imagelayer){var E=A.imagelayer.selectAll("image").data(s[f]||[]);E.enter().append("image"),E.exit().remove(),E.each(function(y){M.bind(this)(y),c.bind(this)(y)})}}}},7402:function(H,U,e){H.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(H,U,e){var p=e(25376),L=e(22548);H.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(H){H.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(H,U,e){var p=e(24040),L=e(3400),n=e(31780),C=e(45464),T=e(3800),v=e(64859),g=e(42451);function r(t,s,a,f){var u=s[t]||{},l=n.newContainer(a,t);function m(le,Z){return L.coerce(u,l,T,le,Z)}var h=L.coerceFont(m,"font",a.font);m("bgcolor",a.paper_bgcolor),m("bordercolor");var M=m("visible");if(M){for(var c,i=function(le,Z){var Y=c._input,re=c;return L.coerce(Y,re,C,le,Z)},d=a.font||{},x=L.coerceFont(m,"grouptitlefont",L.extendFlat({},d,{size:Math.round(d.size*1.1)})),A=0,E=!1,y="normal",S=(a.shapes||[]).filter(function(le){return le.showlegend}),w=f.concat(S).filter(function(le){return t===(le.legend||"legend")}),o=0;o<w.length;o++)if(c=w[o],!!c.visible){var _=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(A++,c.showlegend&&(E=!0,(!_&&p.traceIs(c,"pie-like")||c._input.showlegend===!0)&&A++),L.coerceFont(i,"legendgrouptitle.font",x)),(!_&&p.traceIs(c,"bar")&&a.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(y=g.isGrouped({traceorder:y})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(y=g.isReversed({traceorder:y})?"reversed+grouped":"grouped")}var b=L.coerce(s,a,v,"showlegend",E&&A>(t==="legend"?1:0));if(b===!1&&(a[t]=void 0),!(b===!1&&!u.uirevision)&&(m("uirevision",a.uirevision),b!==!1)){m("borderwidth");var I=m("orientation"),D=m("yref"),N=m("xref"),k=I==="h",z=D==="paper",F=N==="paper",O,B,W,ee="left";k?(O=0,p.getComponentMethod("rangeslider","isVisible")(s.xaxis)?z?(B=1.1,W="bottom"):(B=1,W="top"):z?(B=-.1,W="top"):(B=0,W="bottom")):(B=1,W="auto",F?O=1.02:(O=1,ee="right")),L.coerce(u,l,{x:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:O}},"x"),L.coerce(u,l,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:B}},"y"),m("traceorder",y),g.isGrouped(a[t])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("indentation"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",ee),m("yanchor",W),m("valign"),L.noneOrAll(u,l,["x","y"]);var ne=m("title.text");if(ne){m("title.side",k?"left":"top");var Q=L.extendFlat({},h,{size:L.bigFont(h.size)});L.coerceFont(m,"title.font",Q)}}}}H.exports=function(s,a,f){var u,l=f.slice(),m=a.shapes;if(m)for(u=0;u<m.length;u++){var h=m[u];if(h.showlegend){var M={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(M)}}var c=["legend"];for(u=0;u<l.length;u++)L.pushUnique(c,l[u].legend);for(a._legends=[],u=0;u<c.length;u++){var i=c[u];r(i,s,a,l),a[i]&&a[i].visible&&(a[i]._id=i),a._legends.push(i)}}},31140:function(H,U,e){var p=e(33428),L=e(3400),n=e(7316),C=e(24040),T=e(95924),v=e(86476),g=e(43616),r=e(76308),t=e(72736),s=e(33048),a=e(65196),f=e(84284),u=f.LINE_SPACING,l=f.FROM_TL,m=f.FROM_BR,h=e(35456),M=e(2012),c=e(42451),i=1,d=/^legend[0-9]*$/;H.exports=function(B,W){if(W)A(B,W);else{var ee=B._fullLayout,ne=ee._legends,Q=ee._infolayer.selectAll('[class^="legend"]');Q.each(function(){var re=p.select(this),X=re.attr("class"),q=X.split(" ")[0];q.match(d)&&ne.indexOf(q)===-1&&re.remove()});for(var le=0;le<ne.length;le++){var Z=ne[le],Y=B._fullLayout[Z];A(B,Y)}}};function x(O,B,W){if(!(B.title.side!=="top center"&&B.title.side!=="top right")){var ee=B.title.font,ne=ee.size*u,Q=0,le=O.node(),Z=g.bBox(le).width;B.title.side==="top center"?Q=.5*(B._width-2*W-2*a.titlePad-Z):B.title.side==="top right"&&(Q=B._width-2*W-2*a.titlePad-Z),t.positionText(O,W+a.titlePad+Q,W+ne)}}function A(O,B){var W=B||{},ee=O._fullLayout,ne=F(W),Q,le,Z=W._inHover;if(Z?(le=W.layer,Q="hover"):(le=ee._infolayer,Q=ne),!!le){Q+=ee._uid,O._legendMouseDownTime||(O._legendMouseDownTime=0);var Y;if(Z){if(!W.entries)return;Y=h(W.entries,W)}else{for(var re=(O.calcdata||[]).slice(),X=ee.shapes,q=0;q<X.length;q++){var se=X[q];if(se.showlegend){var $={_isShape:!0,_fullInput:se,index:se._index,name:se.name||se.label.text||"shape "+se._index,legend:se.legend,legendgroup:se.legendgroup,legendgrouptitle:se.legendgrouptitle,legendrank:se.legendrank,legendwidth:se.legendwidth,showlegend:se.showlegend,visible:se.visible,opacity:se.opacity,mode:se.type==="line"?"lines":"markers",line:se.line,marker:{line:se.line,color:se.fillcolor,size:12,symbol:se.type==="rect"?"square":se.type==="circle"?"circle":"hexagon2"}};re.push([{trace:$}])}}Y=ee.showlegend&&h(re,W,ee._legends.length>1)}var j=ee.hiddenlabels||[];if(!Z&&(!ee.showlegend||!Y.length))return le.selectAll("."+ne).remove(),ee._topdefs.select("#"+Q).remove(),n.autoMargin(O,ne);var ue=L.ensureSingle(le,"g",ne,function(xe){Z||xe.attr("pointer-events","all")}),ae=L.ensureSingleById(ee._topdefs,"clipPath",Q,function(xe){xe.append("rect")}),ce=L.ensureSingle(ue,"rect","bg",function(xe){xe.attr("shape-rendering","crispEdges")});ce.call(r.stroke,W.bordercolor).call(r.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var ye=L.ensureSingle(ue,"g","scrollbox"),Ce=W.title;W._titleWidth=0,W._titleHeight=0;var Ae;Ce.text?(Ae=L.ensureSingle(ye,"text",ne+"titletext"),Ae.attr("text-anchor","start").call(g.font,Ce.font).text(Ce.text),_(Ae,ye,O,W,i)):ye.selectAll("."+ne+"titletext").remove();var Ie=L.ensureSingle(ue,"rect","scrollbar",function(xe){xe.attr(a.scrollBarEnterAttrs).call(r.fill,a.scrollBarColor)}),Te=ye.selectAll("g.groups").data(Y);Te.enter().append("g").attr("class","groups"),Te.exit().remove();var Le=Te.selectAll("g.traces").data(L.identity);Le.enter().append("g").attr("class","traces"),Le.exit().remove(),Le.style("opacity",function(xe){var Re=xe[0].trace;return C.traceIs(Re,"pie-like")?j.indexOf(xe[0].label)!==-1?.5:1:Re.visible==="legendonly"?.5:1}).each(function(){p.select(this).call(S,O,W)}).call(M,O,W).each(function(){Z||p.select(this).call(o,O,ne)}),L.syncOrAsync([n.previousPromises,function(){return D(O,Te,Le,W)},function(){var xe=ee._size,Re=W.borderwidth,He=W.xref==="paper",Ve=W.yref==="paper";if(Ce.text&&x(Ae,W,Re),!Z){var Fe,We;He?Fe=xe.l+xe.w*W.x-l[k(W)]*W._width:Fe=ee.width*W.x-l[k(W)]*W._width,Ve?We=xe.t+xe.h*(1-W.y)-l[z(W)]*W._effHeight:We=ee.height*(1-W.y)-l[z(W)]*W._effHeight;var ut=N(O,ne,Fe,We);if(ut)return;if(ee.margin.autoexpand){var ht=Fe,rt=We;Fe=He?L.constrain(Fe,0,ee.width-W._width):ht,We=Ve?L.constrain(We,0,ee.height-W._effHeight):rt,Fe!==ht&&L.log("Constrain "+ne+".x to make legend fit inside graph"),We!==rt&&L.log("Constrain "+ne+".y to make legend fit inside graph")}g.setTranslate(ue,Fe,We)}if(Ie.on(".drag",null),ue.on("wheel",null),Z||W._height<=W._maxHeight||O._context.staticPlot){var tt=W._effHeight;Z&&(tt=W._height),ce.attr({width:W._width-Re,height:tt-Re,x:Re/2,y:Re/2}),g.setTranslate(ye,0,0),ae.select("rect").attr({width:W._width-2*Re,height:tt-2*Re,x:Re,y:Re}),g.setClipUrl(ye,Q,O),g.setRect(Ie,0,0,0,0),delete W._scrollY}else{var vt=Math.max(a.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),pt=W._effHeight-vt-2*a.scrollBarMargin,mt=W._height-W._effHeight,wt=pt/mt,Lt=Math.min(W._scrollY||0,mt);ce.attr({width:W._width-2*Re+a.scrollBarWidth+a.scrollBarMargin,height:W._effHeight-Re,x:Re/2,y:Re/2}),ae.select("rect").attr({width:W._width-2*Re+a.scrollBarWidth+a.scrollBarMargin,height:W._effHeight-2*Re,x:Re,y:Re+Lt}),g.setClipUrl(ye,Q,O),me(Lt,vt,wt),ue.on("wheel",function(){Lt=L.constrain(W._scrollY+p.event.deltaY/pt*mt,0,mt),me(Lt,vt,wt),Lt!==0&&Lt!==mt&&p.event.preventDefault()});var at,Oe,Ze,Je=function(nt,dt,xt){var Kt=(xt-dt)/wt+nt;return L.constrain(Kt,0,mt)},Ye=function(nt,dt,xt){var Kt=(dt-xt)/wt+nt;return L.constrain(Kt,0,mt)},ke=p.behavior.drag().on("dragstart",function(){var nt=p.event.sourceEvent;nt.type==="touchstart"?at=nt.changedTouches[0].clientY:at=nt.clientY,Ze=Lt}).on("drag",function(){var nt=p.event.sourceEvent;nt.buttons===2||nt.ctrlKey||(nt.type==="touchmove"?Oe=nt.changedTouches[0].clientY:Oe=nt.clientY,Lt=Je(Ze,at,Oe),me(Lt,vt,wt))});Ie.call(ke);var be=p.behavior.drag().on("dragstart",function(){var nt=p.event.sourceEvent;nt.type==="touchstart"&&(at=nt.changedTouches[0].clientY,Ze=Lt)}).on("drag",function(){var nt=p.event.sourceEvent;nt.type==="touchmove"&&(Oe=nt.changedTouches[0].clientY,Lt=Ye(Ze,at,Oe),me(Lt,vt,wt))});ye.call(be)}function me(nt,dt,xt){W._scrollY=O._fullLayout[ne]._scrollY=nt,g.setTranslate(ye,0,-nt),g.setRect(Ie,W._width,a.scrollBarMargin+nt*xt,a.scrollBarWidth,dt),ae.select("rect").attr("y",Re+nt)}if(O._context.edits.legendPosition){var _e,Ee,Be,je;ue.classed("cursor-move",!0),v.init({element:ue.node(),gd:O,prepFn:function(){var nt=g.getTranslate(ue);Be=nt.x,je=nt.y},moveFn:function(nt,dt){var xt=Be+nt,Kt=je+dt;g.setTranslate(ue,xt,Kt),_e=v.align(xt,W._width,xe.l,xe.l+xe.w,W.xanchor),Ee=v.align(Kt+W._height,-W._height,xe.t+xe.h,xe.t,W.yanchor)},doneFn:function(){if(_e!==void 0&&Ee!==void 0){var nt={};nt[ne+".x"]=_e,nt[ne+".y"]=Ee,C.call("_guiRelayout",O,nt)}},clickFn:function(nt,dt){var xt=le.selectAll("g.traces").filter(function(){var Kt=this.getBoundingClientRect();return dt.clientX>=Kt.left&&dt.clientX<=Kt.right&&dt.clientY>=Kt.top&&dt.clientY<=Kt.bottom});xt.size()>0&&y(O,ue,xt,nt,dt)}})}}],O)}}function E(O,B,W){var ee=O[0],ne=ee.width,Q=B.entrywidthmode,le=ee.trace.legendwidth||B.entrywidth;return Q==="fraction"?B._maxWidth*le:W+(le||ne)}function y(O,B,W,ee,ne){var Q=W.data()[0][0].trace,le={event:ne,node:W.node(),curveNumber:Q.index,expandedIndex:Q._expandedIndex,data:O.data,layout:O.layout,frames:O._transitionData._frames,config:O._context,fullData:O._fullData,fullLayout:O._fullLayout};Q._group&&(le.group=Q._group),C.traceIs(Q,"pie-like")&&(le.label=W.datum()[0].label);var Z=T.triggerHandler(O,"plotly_legendclick",le);if(ee===1){if(Z===!1)return;B._clickTimeout=setTimeout(function(){O._fullLayout&&s(W,O,ee)},O._context.doubleClickDelay)}else if(ee===2){B._clickTimeout&&clearTimeout(B._clickTimeout),O._legendMouseDownTime=0;var Y=T.triggerHandler(O,"plotly_legenddoubleclick",le);Y!==!1&&Z!==!1&&s(W,O,ee)}}function S(O,B,W){var ee=F(W),ne=O.data()[0][0],Q=ne.trace,le=C.traceIs(Q,"pie-like"),Z=!W._inHover&&B._context.edits.legendText&&!le,Y=W._maxNameLength,re,X;ne.groupTitle?(re=ne.groupTitle.text,X=ne.groupTitle.font):(X=W.font,W.entries?re=ne.text:(re=le?ne.label:Q.name,Q._meta&&(re=L.templateString(re,Q._meta))));var q=L.ensureSingle(O,"text",ee+"text");q.attr("text-anchor","start").call(g.font,X).text(Z?w(re,Y):re);var se=W.indentation+W.itemwidth+a.itemGap*2;t.positionText(q,se,0),Z?q.call(t.makeEditable,{gd:B,text:re}).call(_,O,B,W).on("edit",function($){this.text(w($,Y)).call(_,O,B,W);var j=ne.trace._fullInput||{},ue={};if(C.hasTransform(j,"groupby")){var ae=C.getTransformIndices(j,"groupby"),ce=ae[ae.length-1],ye=L.keyedContainer(j,"transforms["+ce+"].styles","target","value.name");ye.set(ne.trace._group,$),ue=ye.constructUpdate()}else ue.name=$;return j._isShape?C.call("_guiRelayout",B,"shapes["+Q.index+"].name",ue.name):C.call("_guiRestyle",B,ue,Q.index)}):_(q,O,B,W)}function w(O,B){var W=Math.max(4,B);if(O&&O.trim().length>=W/2)return O;O=O||"";for(var ee=W-O.length;ee>0;ee--)O+=" ";return O}function o(O,B,W){var ee=B._context.doubleClickDelay,ne,Q=1,le=L.ensureSingle(O,"rect",W+"toggle",function(Z){B._context.staticPlot||Z.style("cursor","pointer").attr("pointer-events","all"),Z.call(r.fill,"rgba(0,0,0,0)")});B._context.staticPlot||(le.on("mousedown",function(){ne=new Date().getTime(),ne-B._legendMouseDownTime<ee?Q+=1:(Q=1,B._legendMouseDownTime=ne)}),le.on("mouseup",function(){if(!(B._dragged||B._editing)){var Z=B._fullLayout[W];new Date().getTime()-B._legendMouseDownTime>ee&&(Q=Math.max(Q-1,1)),y(B,Z,O,Q,p.event)}}))}function _(O,B,W,ee,ne){ee._inHover&&O.attr("data-notex",!0),t.convertToTspans(O,W,function(){b(B,W,ee,ne)})}function b(O,B,W,ee){var ne=O.data()[0][0];if(!W._inHover&&ne&&!ne.trace.showlegend){O.remove();return}var Q=O.select("g[class*=math-group]"),le=Q.node(),Z=F(W);W||(W=B._fullLayout[Z]);var Y=W.borderwidth,re;ee===i?re=W.title.font:ne.groupTitle?re=ne.groupTitle.font:re=W.font;var X=re.size*u,q,se;if(le){var $=g.bBox(le);q=$.height,se=$.width,ee===i?g.setTranslate(Q,Y,Y+q*.75):g.setTranslate(Q,0,q*.25)}else{var j="."+Z+(ee===i?"title":"")+"text",ue=O.select(j),ae=t.lineCount(ue),ce=ue.node();if(q=X*ae,se=ce?g.bBox(ce).width:0,ee===i)W.title.side==="left"&&(se+=a.itemGap*2),t.positionText(ue,Y+a.titlePad,Y+X);else{var ye=a.itemGap*2+W.indentation+W.itemwidth;ne.groupTitle&&(ye=a.itemGap,se-=W.indentation+W.itemwidth),t.positionText(ue,ye,-X*((ae-1)/2-.3))}}ee===i?(W._titleWidth=se,W._titleHeight=q):(ne.lineHeight=X,ne.height=Math.max(q,16)+3,ne.width=se)}function I(O){var B=0,W=0,ee=O.title.side;return ee&&(ee.indexOf("left")!==-1&&(B=O._titleWidth),ee.indexOf("top")!==-1&&(W=O._titleHeight)),[B,W]}function D(O,B,W,ee){var ne=O._fullLayout,Q=F(ee);ee||(ee=ne[Q]);var le=ne._size,Z=c.isVertical(ee),Y=c.isGrouped(ee),re=ee.entrywidthmode==="fraction",X=ee.borderwidth,q=2*X,se=a.itemGap,$=ee.indentation+ee.itemwidth+se*2,j=2*(X+se),ue=z(ee),ae=ee.y<0||ee.y===0&&ue==="top",ce=ee.y>1||ee.y===1&&ue==="bottom",ye=ee.tracegroupgap,Ce={};ee._maxHeight=Math.max(ae||ce?ne.height/2:le.h,30);var Ae=0;ee._width=0,ee._height=0;var Ie=I(ee);if(Z)W.each(function(Ze){var Je=Ze[0].height;g.setTranslate(this,X+Ie[0],X+Ie[1]+ee._height+Je/2+se),ee._height+=Je,ee._width=Math.max(ee._width,Ze[0].width)}),Ae=$+ee._width,ee._width+=se+$+q,ee._height+=j,Y&&(B.each(function(Ze,Je){g.setTranslate(this,0,Je*ee.tracegroupgap)}),ee._height+=(ee._lgroupsLength-1)*ee.tracegroupgap);else{var Te=k(ee),Le=ee.x<0||ee.x===0&&Te==="right",xe=ee.x>1||ee.x===1&&Te==="left",Re=ce||ae,He=ne.width/2;ee._maxWidth=Math.max(Le?Re&&Te==="left"?le.l+le.w:He:xe?Re&&Te==="right"?le.r+le.w:He:le.w,2*$);var Ve=0,Fe=0;W.each(function(Ze){var Je=E(Ze,ee,$);Ve=Math.max(Ve,Je),Fe+=Je}),Ae=null;var We=0;if(Y){var ut=0,ht=0,rt=0;B.each(function(){var Ze=0,Je=0;p.select(this).selectAll("g.traces").each(function(ke){var be=E(ke,ee,$),me=ke[0].height;g.setTranslate(this,Ie[0],Ie[1]+X+se+me/2+Je),Je+=me,Ze=Math.max(Ze,be),Ce[ke[0].trace.legendgroup]=Ze});var Ye=Ze+se;ht>0&&Ye+X+ht>ee._maxWidth?(We=Math.max(We,ht),ht=0,rt+=ut+ye,ut=Je):ut=Math.max(ut,Je),g.setTranslate(this,ht,rt),ht+=Ye}),ee._width=Math.max(We,ht)+X,ee._height=rt+ut+j}else{var tt=W.size(),vt=Fe+q+(tt-1)*se<ee._maxWidth,pt=0,mt=0,wt=0,Lt=0;W.each(function(Ze){var Je=Ze[0].height,Ye=E(Ze,ee,$),ke=vt?Ye:Ve;re||(ke+=se),ke+X+mt-se>=ee._maxWidth&&(We=Math.max(We,Lt),mt=0,wt+=pt,ee._height+=pt,pt=0),g.setTranslate(this,Ie[0]+X+mt,Ie[1]+X+wt+Je/2+se),Lt=mt+Ye+se,mt+=ke,pt=Math.max(pt,Je)}),vt?(ee._width=mt+q,ee._height=pt+j):(ee._width=Math.max(We,Lt)+q,ee._height+=pt+j)}}ee._width=Math.ceil(Math.max(ee._width+Ie[0],ee._titleWidth+2*(X+a.titlePad))),ee._height=Math.ceil(Math.max(ee._height+Ie[1],ee._titleHeight+2*(X+a.itemGap))),ee._effHeight=Math.min(ee._height,ee._maxHeight);var at=O._context.edits,Oe=at.legendText||at.legendPosition;W.each(function(Ze){var Je=p.select(this).select("."+Q+"toggle"),Ye=Ze[0].height,ke=Ze[0].trace.legendgroup,be=E(Ze,ee,$);Y&&ke!==""&&(be=Ce[ke]);var me=Oe?$:Ae||be;!Z&&!re&&(me+=se/2),g.setRect(Je,0,-Ye/2,me,Ye)})}function N(O,B,W,ee){var ne=O._fullLayout,Q=ne[B],le=k(Q),Z=z(Q),Y=Q.xref==="paper",re=Q.yref==="paper";O._fullLayout._reservedMargin[B]={};var X=Q.y<.5?"b":"t",q=Q.x<.5?"l":"r",se={r:ne.width-W,l:W+Q._width,b:ne.height-ee,t:ee+Q._effHeight};if(Y&&re)return n.autoMargin(O,B,{x:Q.x,y:Q.y,l:Q._width*l[le],r:Q._width*m[le],b:Q._effHeight*m[Z],t:Q._effHeight*l[Z]});Y?O._fullLayout._reservedMargin[B][X]=se[X]:re||Q.orientation==="v"?O._fullLayout._reservedMargin[B][q]=se[q]:O._fullLayout._reservedMargin[B][X]=se[X]}function k(O){return L.isRightAnchor(O)?"right":L.isCenterAnchor(O)?"center":"left"}function z(O){return L.isBottomAnchor(O)?"bottom":L.isMiddleAnchor(O)?"middle":"top"}function F(O){return O._id||"legend"}},35456:function(H,U,e){var p=e(24040),L=e(42451);H.exports=function(C,T,v){var g=T._inHover,r=L.isGrouped(T),t=L.isReversed(T),s={},a=[],f=!1,u={},l=0,m=0,h,M;function c(O,B,W){if(T.visible!==!1&&!(v&&O!==T._id))if(B===""||!L.isGrouped(T)){var ee="~~i"+l;a.push(ee),s[ee]=[W],l++}else a.indexOf(B)===-1?(a.push(B),f=!0,s[B]=[W]):s[B].push(W)}for(h=0;h<C.length;h++){var i=C[h],d=i[0],x=d.trace,A=x.legend,E=x.legendgroup;if(!(!g&&(!x.visible||!x.showlegend)))if(p.traceIs(x,"pie-like"))for(u[E]||(u[E]={}),M=0;M<i.length;M++){var y=i[M].label;u[E][y]||(c(A,E,{label:y,color:i[M].color,i:i[M].i,trace:x,pts:i[M].pts}),u[E][y]=!0,m=Math.max(m,(y||"").length))}else c(A,E,d),m=Math.max(m,(x.name||"").length)}if(!a.length)return[];var S=!f||!r,w=[];for(h=0;h<a.length;h++){var o=s[a[h]];S?w.push(o[0]):w.push(o)}for(S&&(w=[w]),h=0;h<w.length;h++){var _=1/0;for(M=0;M<w[h].length;M++){var b=w[h][M].trace.legendrank;_>b&&(_=b)}w[h][0]._groupMinRank=_,w[h][0]._preGroupSort=h}var I=function(O,B){return O[0]._groupMinRank-B[0]._groupMinRank||O[0]._preGroupSort-B[0]._preGroupSort},D=function(O,B){return O.trace.legendrank-B.trace.legendrank||O._preSort-B._preSort};for(w.forEach(function(O,B){O[0]._preGroupSort=B}),w.sort(I),h=0;h<w.length;h++){w[h].forEach(function(O,B){O._preSort=B}),w[h].sort(D);var N=w[h][0].trace,k=null;for(M=0;M<w[h].length;M++){var z=w[h][M].trace.legendgrouptitle;if(z&&z.text){k=z,g&&(z.font=T._groupTitleFont);break}}if(t&&w[h].reverse(),k){var F=!1;for(M=0;M<w[h].length;M++)if(p.traceIs(w[h][M].trace,"pie-like")){F=!0;break}w[h].unshift({i:-1,groupTitle:k,noClick:F,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:T.groupclick==="toggleitem"?!0:N.visible}})}for(M=0;M<w[h].length;M++)w[h][M]=[w[h][M]]}return T._lgroupsLength=w.length,T._maxNameLength=m,w}},33048:function(H,U,e){var p=e(24040),L=e(3400),n=L.pushUnique,C=!0;H.exports=function(v,g,r){var t=g._fullLayout;if(g._dragged||g._editing)return;var s=t.legend.itemclick,a=t.legend.itemdoubleclick,f=t.legend.groupclick;r===1&&s==="toggle"&&a==="toggleothers"&&C&&g.data&&g._context.showTips&&L.notifier(L._(g,"Double-click on legend to isolate one trace"),"long"),C=!1;var u;if(r===1?u=s:r===2&&(u=a),!u)return;var l=f==="togglegroup",m=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var M=g._fullData,c=(t.shapes||[]).filter(function(He){return He.showlegend}),i=M.concat(c),d=h.trace;d._isShape&&(d=d._fullInput);var x=d.legendgroup,A,E,y,S,w,o,_={},b=[],I=[],D=[];function N(He,Ve){var Fe=b.indexOf(He),We=_.visible;return We||(We=_.visible=[]),b.indexOf(He)===-1&&(b.push(He),Fe=b.length-1),We[Fe]=Ve,Fe}var k=(t.shapes||[]).map(function(He){return He._input}),z=!1;function F(He,Ve){k[He].visible=Ve,z=!0}function O(He,Ve){if(!(h.groupTitle&&!l)){var Fe=He._fullInput||He,We=Fe._isShape,ut=Fe.index;if(ut===void 0&&(ut=Fe._index),p.hasTransform(Fe,"groupby")){var ht=I[ut];if(!ht){var rt=p.getTransformIndices(Fe,"groupby"),tt=rt[rt.length-1];ht=L.keyedContainer(Fe,"transforms["+tt+"].styles","target","value.visible"),I[ut]=ht}var vt=ht.get(He._group);vt===void 0&&(vt=!0),vt!==!1&&ht.set(He._group,Ve),D[ut]=N(ut,Fe.visible!==!1)}else{var pt=Fe.visible===!1?!1:Ve;We?F(ut,pt):N(ut,pt)}}}var B=d.legend,W=d._fullInput,ee=W&&W._isShape;if(!ee&&p.traceIs(d,"pie-like")){var ne=h.label,Q=m.indexOf(ne);if(u==="toggle")Q===-1?m.push(ne):m.splice(Q,1);else if(u==="toggleothers"){var le=Q!==-1,Z=[];for(A=0;A<g.calcdata.length;A++){var Y=g.calcdata[A];for(E=0;E<Y.length;E++){var re=Y[E],X=re.label;B===Y[0].trace.legend&&ne!==X&&(m.indexOf(X)===-1&&(le=!0),n(m,X),Z.push(X))}}if(!le)for(var q=0;q<Z.length;q++){var se=m.indexOf(Z[q]);se!==-1&&m.splice(se,1)}}p.call("_guiRelayout",g,"hiddenlabels",m)}else{var $=x&&x.length,j=[],ue;if($)for(A=0;A<i.length;A++)ue=i[A],ue.visible&&ue.legendgroup===x&&j.push(A);if(u==="toggle"){var ae;switch(d.visible){case!0:ae="legendonly";break;case!1:ae=!1;break;case"legendonly":ae=!0;break}if($)if(l)for(A=0;A<i.length;A++){var ce=i[A];ce.visible!==!1&&ce.legendgroup===x&&O(ce,ae)}else O(d,ae);else O(d,ae)}else if(u==="toggleothers"){var ye,Ce,Ae,Ie,Te,Le=!0;for(A=0;A<i.length;A++)if(Te=i[A],ye=Te===d,Ae=Te.showlegend!==!0,!(ye||Ae)&&(Ce=$&&Te.legendgroup===x,!Ce&&Te.legend===B&&Te.visible===!0&&!p.traceIs(Te,"notLegendIsolatable"))){Le=!1;break}for(A=0;A<i.length;A++)if(Te=i[A],!(Te.visible===!1||Te.legend!==B)&&!p.traceIs(Te,"notLegendIsolatable"))switch(d.visible){case"legendonly":O(Te,!0);break;case!0:Ie=Le?!0:"legendonly",ye=Te===d,Ae=Te.showlegend!==!0&&!Te.legendgroup,Ce=ye||$&&Te.legendgroup===x,O(Te,Ce||Ae?!0:Ie);break}}for(A=0;A<I.length;A++)if(y=I[A],!!y){var xe=y.constructUpdate(),Re=Object.keys(xe);for(E=0;E<Re.length;E++)S=Re[E],o=_[S]=_[S]||[],o[D[A]]=xe[S]}for(w=Object.keys(_),A=0;A<w.length;A++)for(S=w[A],E=0;E<b.length;E++)_[S].hasOwnProperty(E)||(_[S][E]=void 0);z?p.call("_guiUpdate",g,_,{shapes:k},b):p.call("_guiRestyle",g,_,b)}}},42451:function(H,U){U.isGrouped=function(p){return(p.traceorder||"").indexOf("grouped")!==-1},U.isVertical=function(p){return p.orientation!=="h"},U.isReversed=function(p){return(p.traceorder||"").indexOf("reversed")!==-1}},2780:function(H,U,e){H.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(H,U,e){var p=e(33428),L=e(24040),n=e(3400),C=n.strTranslate,T=e(43616),v=e(76308),g=e(94288).extractOpts,r=e(43028),t=e(10528),s=e(69656).castOption,a=e(65196),f=12,u=5,l=2,m=10,h=5;H.exports=function(x,A,E){var y=A._fullLayout;E||(E=y.legend);var S=E.itemsizing==="constant",w=E.itemwidth,o=(w+a.itemGap*2)/2,_=C(o,0),b=function(Z,Y,re,X){var q;if(Z+1)q=Z;else if(Y&&Y.width>0)q=Y.width;else return 0;return S?X:Math.min(q,re)};x.each(function(Z){var Y=p.select(this),re=n.ensureSingle(Y,"g","layers");re.style("opacity",Z[0].trace.opacity);var X=E.indentation,q=E.valign,se=Z[0].lineHeight,$=Z[0].height;if(q==="middle"&&X===0||!se||!$)re.attr("transform",null);else{var j={top:1,bottom:-1}[q],ue=j*(.5*(se-$+3))||0,ae=E.indentation;re.attr("transform",C(ae,ue))}var ce=re.selectAll("g.legendfill").data([Z]);ce.enter().append("g").classed("legendfill",!0);var ye=re.selectAll("g.legendlines").data([Z]);ye.enter().append("g").classed("legendlines",!0);var Ce=re.selectAll("g.legendsymbols").data([Z]);Ce.enter().append("g").classed("legendsymbols",!0),Ce.selectAll("g.legendpoints").data([Z]).enter().append("g").classed("legendpoints",!0)}).each(le).each(N).each(z).each(k).each(O).each(ne).each(ee).each(I).each(D).each(B).each(W);function I(Z){var Y=c(Z),re=Y.showFill,X=Y.showLine,q=Y.showGradientLine,se=Y.showGradientFill,$=Y.anyFill,j=Y.anyLine,ue=Z[0],ae=ue.trace,ce,ye,Ce=g(ae),Ae=Ce.colorscale,Ie=Ce.reversescale,Te=function(We){if(We.size())if(re)T.fillGroupStyle(We,A,!0);else{var ut="legendfill-"+ae.uid;T.gradient(We,A,ut,M(Ie),Ae,"fill")}},Le=function(We){if(We.size()){var ut="legendline-"+ae.uid;T.lineGroupStyle(We),T.gradient(We,A,ut,M(Ie),Ae,"stroke")}},xe=r.hasMarkers(ae)||!$?"M5,0":j?"M5,-2":"M5,-3",Re=p.select(this),He=Re.select(".legendfill").selectAll("path").data(re||se?[Z]:[]);if(He.enter().append("path").classed("js-fill",!0),He.exit().remove(),He.attr("d",xe+"h"+w+"v6h-"+w+"z").call(Te),X||q){var Ve=b(void 0,ae.line,m,u);ye=n.minExtend(ae,{line:{width:Ve}}),ce=[n.minExtend(ue,{trace:ye})]}var Fe=Re.select(".legendlines").selectAll("path").data(X||q?[ce]:[]);Fe.enter().append("path").classed("js-line",!0),Fe.exit().remove(),Fe.attr("d",xe+(q?"l"+w+",0.0001":"h"+w)).call(X?T.lineGroupStyle:Le)}function D(Z){var Y=c(Z),re=Y.anyFill,X=Y.anyLine,q=Y.showLine,se=Y.showMarker,$=Z[0],j=$.trace,ue=!se&&!X&&!re&&r.hasText(j),ae,ce;function ye(He,Ve,Fe,We){var ut=n.nestedProperty(j,He).get(),ht=n.isArrayOrTypedArray(ut)&&Ve?Ve(ut):ut;if(S&&ht&&We!==void 0&&(ht=We),Fe){if(ht<Fe[0])return Fe[0];if(ht>Fe[1])return Fe[1]}return ht}function Ce(He){return $._distinct&&$.index&&He[$.index]?He[$.index]:He[0]}if(se||ue||q){var Ae={},Ie={};if(se){Ae.mc=ye("marker.color",Ce),Ae.mx=ye("marker.symbol",Ce),Ae.mo=ye("marker.opacity",n.mean,[.2,1]),Ae.mlc=ye("marker.line.color",Ce),Ae.mlw=ye("marker.line.width",n.mean,[0,5],l),Ie.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Te=ye("marker.size",n.mean,[2,16],f);Ae.ms=Te,Ie.marker.size=Te}q&&(Ie.line={width:ye("line.width",Ce,[0,10],u)}),ue&&(Ae.tx="Aa",Ae.tp=ye("textposition",Ce),Ae.ts=10,Ae.tc=ye("textfont.color",Ce),Ae.tf=ye("textfont.family",Ce)),ae=[n.minExtend($,Ae)],ce=n.minExtend(j,Ie),ce.selectedpoints=null,ce.texttemplate=null}var Le=p.select(this).select("g.legendpoints"),xe=Le.selectAll("path.scatterpts").data(se?ae:[]);xe.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",_),xe.exit().remove(),xe.call(T.pointStyle,ce,A),se&&(ae[0].mrc=3);var Re=Le.selectAll("g.pointtext").data(ue?ae:[]);Re.enter().append("g").classed("pointtext",!0).append("text").attr("transform",_),Re.exit().remove(),Re.selectAll("text").call(T.textPointStyle,ce,A)}function N(Z){var Y=Z[0].trace,re=Y.type==="waterfall";if(Z[0]._distinct&&re){var X=Z[0].trace[Z[0].dir].marker;return Z[0].mc=X.color,Z[0].mlw=X.line.width,Z[0].mlc=X.line.color,F(Z,this,"waterfall")}var q=[];Y.visible&&re&&(q=Z[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(q);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",_).style("stroke-miterlimit",1),se.exit().remove(),se.each(function($){var j=p.select(this),ue=Y[$[0]].marker,ae=b(void 0,ue.line,h,l);j.attr("d",$[1]).style("stroke-width",ae+"px").call(v.fill,ue.color),ae&&j.call(v.stroke,ue.line.color)})}function k(Z){F(Z,this)}function z(Z){F(Z,this,"funnel")}function F(Z,Y,re){var X=Z[0].trace,q=X.marker||{},se=q.line||{},$=q.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",j=re?X.visible&&X.type===re:L.traceIs(X,"bar"),ue=p.select(Y).select("g.legendpoints").selectAll("path.legend"+re).data(j?[Z]:[]);ue.enter().append("path").classed("legend"+re,!0).attr("d",$).attr("transform",_),ue.exit().remove(),ue.each(function(ae){var ce=p.select(this),ye=ae[0],Ce=b(ye.mlw,q.line,h,l);ce.style("stroke-width",Ce+"px");var Ae=ye.mcc;if(!E._inHover&&"mc"in ye){var Ie=g(q),Te=Ie.mid;Te===void 0&&(Te=(Ie.max+Ie.min)/2),Ae=T.tryColorscale(q,"")(Te)}var Le=Ae||ye.mc||q.color,xe=q.pattern,Re=xe&&T.getPatternAttr(xe.shape,0,"");if(Re){var He=T.getPatternAttr(xe.bgcolor,0,null),Ve=T.getPatternAttr(xe.fgcolor,0,null),Fe=xe.fgopacity,We=i(xe.size,8,10),ut=i(xe.solidity,.5,1),ht="legend-"+X.uid;ce.call(T.pattern,"legend",A,ht,Re,We,ut,Ae,xe.fillmode,He,Ve,Fe)}else ce.call(v.fill,Le);Ce&&v.stroke(ce,ye.mlc||se.color)})}function O(Z){var Y=Z[0].trace,re=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Y.visible&&L.traceIs(Y,"box-violin")?[Z]:[]);re.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",_),re.exit().remove(),re.each(function(){var X=p.select(this);if((Y.boxpoints==="all"||Y.points==="all")&&v.opacity(Y.fillcolor)===0&&v.opacity((Y.line||{}).color)===0){var q=n.minExtend(Y,{marker:{size:S?f:n.constrain(Y.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});re.call(T.pointStyle,q,A)}else{var se=b(void 0,Y.line,h,l);X.style("stroke-width",se+"px").call(v.fill,Y.fillcolor),se&&v.stroke(X,Y.line.color)}})}function B(Z){var Y=Z[0].trace,re=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Y.visible&&Y.type==="candlestick"?[Z,Z]:[]);re.enter().append("path").classed("legendcandle",!0).attr("d",function(X,q){return q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",_).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(X,q){var se=p.select(this),$=Y[q?"increasing":"decreasing"],j=b(void 0,$.line,h,l);se.style("stroke-width",j+"px").call(v.fill,$.fillcolor),j&&v.stroke(se,$.line.color)})}function W(Z){var Y=Z[0].trace,re=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Y.visible&&Y.type==="ohlc"?[Z,Z]:[]);re.enter().append("path").classed("legendohlc",!0).attr("d",function(X,q){return q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",_).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(X,q){var se=p.select(this),$=Y[q?"increasing":"decreasing"],j=b(void 0,$.line,h,l);se.style("fill","none").call(T.dashLine,$.line.dash,j),j&&v.stroke(se,$.line.color)})}function ee(Z){Q(Z,this,"pie")}function ne(Z){Q(Z,this,"funnelarea")}function Q(Z,Y,re){var X=Z[0],q=X.trace,se=re?q.visible&&q.type===re:L.traceIs(q,re),$=p.select(Y).select("g.legendpoints").selectAll("path.legend"+re).data(se?[Z]:[]);if($.enter().append("path").classed("legend"+re,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",_),$.exit().remove(),$.size()){var j=q.marker||{},ue=b(s(j.line.width,X.pts),j.line,h,l),ae="pieLike",ce=n.minExtend(q,{marker:{line:{width:ue}}},ae),ye=n.minExtend(X,{trace:ce},ae);t($,ye,ce,A)}}function le(Z){var Y=Z[0].trace,re,X=[];if(Y.visible)switch(Y.type){case"histogram2d":case"heatmap":X=[["M-15,-2V4H15V-2Z"]],re=!0;break;case"choropleth":case"choroplethmapbox":X=[["M-6,-6V6H6V-6Z"]],re=!0;break;case"densitymapbox":X=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],re="radial";break;case"cone":X=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],re=!1;break;case"streamtube":X=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],re=!1;break;case"surface":X=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],re=!0;break;case"mesh3d":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],re=!1;break;case"volume":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],re=!0;break;case"isosurface":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],re=!1;break}var q=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(X);q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",_).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(se,$){var j=p.select(this),ue=g(Y),ae=ue.colorscale,ce=ue.reversescale,ye=function(Te){if(Te.size()){var Le="legendfill-"+Y.uid;T.gradient(Te,A,Le,M(ce,re==="radial"),ae,"fill")}},Ce;if(ae){if(!re){var Ie=ae.length;Ce=$===0?ae[ce?Ie-1:0][1]:$===1?ae[ce?0:Ie-1][1]:ae[Math.floor((Ie-1)/2)][1]}}else{var Ae=Y.vertexcolor||Y.facecolor||Y.color;Ce=n.isArrayOrTypedArray(Ae)?Ae[$]||Ae[0]:Ae}j.attr("d",se[0]),Ce?j.call(v.fill,Ce):j.call(ye)})}};function M(d,x){var A=x?"radial":"horizontal";return A+(d?"":"reversed")}function c(d){var x=d[0].trace,A=x.contours,E=r.hasLines(x),y=r.hasMarkers(x),S=x.visible&&x.fill&&x.fill!=="none",w=!1,o=!1;if(A){var _=A.coloring;_==="lines"?w=!0:E=_==="none"||_==="heatmap"||A.showlines,A.type==="constraint"?S=A._operation!=="=":(_==="fill"||_==="heatmap")&&(o=!0)}return{showMarker:y,showLine:E,showFill:S,showGradientLine:w,showGradientFill:o,anyLine:E||w,anyFill:S||o}}function i(d,x,A){return d&&n.isArrayOrTypedArray(d)?x:d>A?A:d}},66540:function(H,U,e){e(76052),H.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(H,U,e){var p=e(24040),L=e(7316),n=e(79811),C=e(9224),T=e(4016).eraseActiveShape,v=e(3400),g=v._,r=H.exports={};r.toImage={name:"toImage",title:function(d){var x=d._context.toImageButtonOptions||{},A=x.format||"png";return A==="png"?g(d,"Download plot as a png"):g(d,"Download plot")},icon:C.camera,click:function(d){var x=d._context.toImageButtonOptions,A={format:x.format||"png"};v.notifier(g(d,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&v.isIE()&&(v.notifier(g(d,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(E){E in x&&(A[E]=x[E])}),p.call("downloadImage",d,A).then(function(E){v.notifier(g(d,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){v.notifier(g(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return g(d,"Edit in Chart Studio")},icon:C.disk,click:function(d){L.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return g(d,"Edit in Chart Studio")},icon:C.pencil,click:function(d){L.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return g(d,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return g(d,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return g(d,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return g(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return g(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return g(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return g(d,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return g(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return g(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return g(d,"Erase active shape")},icon:C.eraseshape,click:T},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return g(d,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return g(d,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return g(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return g(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:t};function t(d,x){var A=x.currentTarget,E=A.getAttribute("data-attr"),y=A.getAttribute("data-val")||!0,S=d._fullLayout,w={},o=n.list(d,null,!0),_=S._cartesianSpikesEnabled,b,I;if(E==="zoom"){var D=y==="in"?.5:2,N=(1+D)/2,k=(1-D)/2,z;for(I=0;I<o.length;I++)if(b=o[I],!b.fixedrange)if(z=b._name,y==="auto")w[z+".autorange"]=!0;else if(y==="reset")b._rangeInitial0===void 0&&b._rangeInitial1===void 0?w[z+".autorange"]=!0:b._rangeInitial0===void 0?(w[z+".autorange"]=b._autorangeInitial,w[z+".range"]=[null,b._rangeInitial1]):b._rangeInitial1===void 0?(w[z+".range"]=[b._rangeInitial0,null],w[z+".autorange"]=b._autorangeInitial):w[z+".range"]=[b._rangeInitial0,b._rangeInitial1],b._showSpikeInitial!==void 0&&(w[z+".showspikes"]=b._showSpikeInitial,_==="on"&&!b._showSpikeInitial&&(_="off"));else{var F=[b.r2l(b.range[0]),b.r2l(b.range[1])],O=[N*F[0]+k*F[1],N*F[1]+k*F[0]];w[z+".range[0]"]=b.l2r(O[0]),w[z+".range[1]"]=b.l2r(O[1])}}else E==="hovermode"&&(y==="x"||y==="y")&&(y=S._isHoriz?"y":"x",A.setAttribute("data-val",y)),w[E]=y;S._cartesianSpikesEnabled=_,p.call("_guiRelayout",d,w)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return g(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:s},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return g(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:s},r.orbitRotation={name:"orbitRotation",title:function(d){return g(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:s},r.tableRotation={name:"tableRotation",title:function(d){return g(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:s};function s(d,x){for(var A=x.currentTarget,E=A.getAttribute("data-attr"),y=A.getAttribute("data-val")||!0,S=d._fullLayout._subplots.gl3d||[],w={},o=E.split("."),_=0;_<S.length;_++)w[S[_]+"."+o[1]]=y;var b=y==="pan"?y:"zoom";w.dragmode=b,p.call("_guiRelayout",d,w)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return g(d,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:a},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return g(d,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:a};function a(d,x){for(var A=x.currentTarget,E=A.getAttribute("data-attr"),y=E==="resetLastSave",S=E==="resetDefault",w=d._fullLayout,o=w._subplots.gl3d||[],_={},b=0;b<o.length;b++){var I=o[b],D=I+".camera",N=I+".aspectratio",k=I+".aspectmode",z=w[I]._scene,F;y?(_[D+".up"]=z.viewInitial.up,_[D+".eye"]=z.viewInitial.eye,_[D+".center"]=z.viewInitial.center,F=!0):S&&(_[D+".up"]=null,_[D+".eye"]=null,_[D+".center"]=null,F=!0),F&&(_[N+".x"]=z.viewInitial.aspectratio.x,_[N+".y"]=z.viewInitial.aspectratio.y,_[N+".z"]=z.viewInitial.aspectratio.z,_[k]=z.viewInitial.aspectmode)}p.call("_guiRelayout",d,_)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:u};function f(d,x){var A=x.currentTarget,E=A._previousVal,y=d._fullLayout,S=y._subplots.gl3d||[],w=["xaxis","yaxis","zaxis"],o={},_={};if(E)_=E,A._previousVal=null;else{for(var b=0;b<S.length;b++){var I=S[b],D=y[I],N=I+".hovermode";o[N]=D.hovermode,_[N]=!1;for(var k=0;k<3;k++){var z=w[k],F=I+"."+z+".showspikes";_[F]=!1,o[F]=D[z].showspikes}}A._previousVal=o}return _}function u(d,x){var A=f(d,x);p.call("_guiRelayout",d,A)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return g(d,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:h};function l(d,x){for(var A=x.currentTarget,E=A.getAttribute("data-attr"),y=A.getAttribute("data-val")||!0,S=d._fullLayout,w=S._subplots.geo||[],o=0;o<w.length;o++){var _=w[o],b=S[_];if(E==="zoom"){var I=b.projection.scale,D=y==="in"?2*I:.5*I;p.call("_guiRelayout",d,_+".projection.scale",D)}}E==="reset"&&i(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:h};function m(d){var x=d._fullLayout;return x.hovermode?!1:x._has("cartesian")?x._isHoriz?"y":"x":"closest"}function h(d){var x=m(d);p.call("_guiRelayout",d,"hovermode",x)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return g(d,"Reset view")},icon:C.home,click:function(d){for(var x={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<d._fullData.length;A++){var E=d._fullData[A]._viewInitial;x["node.groups"].push(E.node.groups.slice()),x["node.x"].push(E.node.x.slice()),x["node.y"].push(E.node.y.slice())}p.call("restyle",d,x)}},r.toggleHover={name:"toggleHover",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(d,x){var A=f(d,x);A.hovermode=m(d),p.call("_guiRelayout",d,A)}},r.resetViews={name:"resetViews",title:function(d){return g(d,"Reset views")},icon:C.home,click:function(d,x){var A=x.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),t(d,x),A.setAttribute("data-attr","resetLastSave"),a(d,x),i(d,"geo"),i(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return g(d,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var x=d._fullLayout,A=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=A==="on"?"off":"on",p.call("_guiRelayout",d,M(d))}};function M(d){for(var x=d._fullLayout,A=x._cartesianSpikesEnabled==="on",E=n.list(d,null,!0),y={},S=0;S<E.length;S++){var w=E[S];y[w._name+".showspikes"]=A?!0:w._showSpikeInitial}return y}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return g(d,"Reset view")},attr:"reset",icon:C.home,click:function(d){i(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:c};function c(d,x){for(var A=x.currentTarget,E=A.getAttribute("data-val"),y=d._fullLayout,S=y._subplots.mapbox||[],w=1.05,o={},_=0;_<S.length;_++){var b=S[_],I=y[b].zoom,D=E==="in"?w*I:I/w;o[b+".zoom"]=D}p.call("_guiRelayout",d,o)}function i(d,x){for(var A=d._fullLayout,E=A._subplots[x]||[],y={},S=0;S<E.length;S++)for(var w=E[S],o=A[w]._subplot,_=o.viewInitial,b=Object.keys(_),I=0;I<b.length;I++){var D=b[I];y[w+"."+D]=_[D]}p.call("_guiRelayout",d,y)}},76052:function(H,U,e){var p=e(44248),L=Object.keys(p),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),T=[],v=function(g){if(C.indexOf(g._cat||g.name)===-1){var r=g.name,t=(g._cat||g.name).toLowerCase();T.indexOf(r)===-1&&T.push(r),T.indexOf(t)===-1&&T.push(t)}};L.forEach(function(g){v(p[g])}),T.sort(),H.exports={DRAW_MODES:n,backButtons:C,foreButtons:T}},90824:function(H,U,e){var p=e(3400),L=e(76308),n=e(31780),C=e(66540);H.exports=function(v,g){var r=v.modebar||{},t=n.newContainer(g,"modebar");function s(f,u){return p.coerce(r,t,C,f,u)}s("orientation"),s("bgcolor",L.addOpacity(g.paper_bgcolor,.5));var a=L.contrast(L.rgb(g.modebar.bgcolor));s("color",L.addOpacity(a,.3)),s("activecolor",L.addOpacity(a,.7)),s("uirevision",g.uirevision),s("add"),s("remove")}},45460:function(H,U,e){H.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(H,U,e){var p=e(79811),L=e(43028),n=e(24040),C=e(10624).isUnifiedHover,T=e(66400),v=e(44248),g=e(76052).DRAW_MODES,r=e(3400).extendDeep;H.exports=function(h){var M=h._fullLayout,c=h._context,i=M._modeBar;if(!c.displayModeBar&&!c.watermark){i&&(i.destroy(),delete M._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=c.modeBarButtons,x;Array.isArray(d)&&d.length?x=l(d):!c.displayModeBar&&c.watermark?x=[]:x=t(h),i?i.update(h,x):M._modeBar=T(h,x)};function t(m){var h=m._fullLayout,M=m._fullData,c=m._context;function i($,j){if(typeof j=="string"){if(j.toLowerCase()===$.toLowerCase())return!0}else{var ue=j.name,ae=j._cat||j.name;if(ue===$||ae===$.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var x=h.modebar.remove;typeof x=="string"&&(x=[x]);var A=c.modeBarButtonsToAdd.concat(d.filter(function($){for(var j=0;j<c.modeBarButtonsToRemove.length;j++)if(i($,c.modeBarButtonsToRemove[j]))return!1;return!0})),E=c.modeBarButtonsToRemove.concat(x.filter(function($){for(var j=0;j<c.modeBarButtonsToAdd.length;j++)if(i($,c.modeBarButtonsToAdd[j]))return!1;return!0})),y=h._has("cartesian"),S=h._has("gl3d"),w=h._has("geo"),o=h._has("pie"),_=h._has("funnelarea"),b=h._has("gl2d"),I=h._has("ternary"),D=h._has("mapbox"),N=h._has("polar"),k=h._has("smith"),z=h._has("sankey"),F=s(h),O=C(h.hovermode),B=[];function W($){if($.length){for(var j=[],ue=0;ue<$.length;ue++){for(var ae=$[ue],ce=v[ae],ye=ce.name.toLowerCase(),Ce=(ce._cat||ce.name).toLowerCase(),Ae=!1,Ie=0;Ie<E.length;Ie++){var Te=E[Ie].toLowerCase();if(Te===ye||Te===Ce){Ae=!0;break}}Ae||j.push(v[ae])}B.push(j)}}var ee=["toImage"];c.showEditInChartStudio?ee.push("editInChartStudio"):c.showSendToCloud&&ee.push("sendDataToCloud"),W(ee);var ne=[],Q=[],le=[],Z=[];(y||b||o||_||I)+w+S+D+N+k>1?(Q=["toggleHover"],le=["resetViews"]):w?(ne=["zoomInGeo","zoomOutGeo"],Q=["hoverClosestGeo"],le=["resetGeo"]):S?(Q=["hoverClosest3d"],le=["resetCameraDefault3d","resetCameraLastSave3d"]):D?(ne=["zoomInMapbox","zoomOutMapbox"],Q=["toggleHover"],le=["resetViewMapbox"]):b?Q=["hoverClosestGl2d"]:o?Q=["hoverClosestPie"]:z?(Q=["hoverClosestCartesian","hoverCompareCartesian"],le=["resetViewSankey"]):Q=["toggleHover"],y&&(Q=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(f(M)||O)&&(Q=[]),(y||b)&&!F&&(ne=["zoomIn2d","zoomOut2d","autoScale2d"],le[0]!=="resetViews"&&(le=["resetScale2d"])),S?Z=["zoom3d","pan3d","orbitRotation","tableRotation"]:(y||b)&&!F||I?Z=["zoom2d","pan2d"]:D||w?Z=["pan2d"]:N&&(Z=["zoom2d"]),a(M)&&Z.push("select2d","lasso2d");var Y=[],re=function($){Y.indexOf($)===-1&&Q.indexOf($)!==-1&&Y.push($)};if(Array.isArray(A)){for(var X=[],q=0;q<A.length;q++){var se=A[q];typeof se=="string"?(se=se.toLowerCase(),g.indexOf(se)!==-1?(h._has("mapbox")||h._has("cartesian"))&&Z.push(se):se==="togglespikelines"?re("toggleSpikelines"):se==="togglehover"?re("toggleHover"):se==="hovercompare"?re("hoverCompareCartesian"):se==="hoverclosest"?(re("hoverClosestCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie")):se==="v1hovermode"&&(re("toggleHover"),re("hoverClosestCartesian"),re("hoverCompareCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie"))):X.push(se)}A=X}return W(Z),W(ne.concat(le)),W(Y),u(B,A)}function s(m){for(var h=p.list({_fullLayout:m},null,!0),M=0;M<h.length;M++)if(!h[M].fixedrange)return!1;return!0}function a(m){for(var h=!1,M=0;M<m.length&&!h;M++){var c=m[M];!c._module||!c._module.selectPoints||(n.traceIs(c,"scatter-like")?(L.hasMarkers(c)||L.hasText(c))&&(h=!0):n.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function f(m){for(var h=0;h<m.length;h++)if(!n.traceIs(m[h],"noHover"))return!1;return!0}function u(m,h){if(h.length)if(Array.isArray(h[0]))for(var M=0;M<h.length;M++)m.push(h[M]);else m.push(h);return m}function l(m){for(var h=r([],m),M=0;M<h.length;M++)for(var c=h[M],i=0;i<c.length;i++){var d=c[i];if(typeof d=="string")if(v[d]!==void 0)h[M][i]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(H,U,e){var p=e(33428),L=e(38248),n=e(3400),C=e(9224),T=e(25788).version,v=new DOMParser;function g(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}var r=g.prototype;r.update=function(a,f){this.graphInfo=a;var u=this.graphInfo._context,l=this.graphInfo._fullLayout,m="modebar-"+l._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",f=f.reverse());var h=l.modebar,M=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";n.deleteRelatedStyleRule(m),n.addRelatedStyleRule(m,M+"#"+m+" .modebar-group","background-color: "+h.bgcolor),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+h.color),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+h.activecolor),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(f),i=this.hasLogo!==u.displaylogo,d=this.locale!==u.locale;if(this.locale=u.locale,(c||i||d)&&(this.removeAllButtons(),this.updateButtons(f),u.watermark||u.displaylogo)){var x=this.getLogo();u.watermark&&(x.className=x.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(a){var f=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var l=f.createGroup();u.forEach(function(m){var h=m.name;if(!h)throw new Error("must provide button 'name' in button config");if(f.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");f.buttonsNames.push(h);var M=f.createButton(m);f.buttonElements.push(M),l.appendChild(M)}),f.element.appendChild(l)})},r.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},r.createButton=function(a){var f=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var l=a.title;l===void 0?l=a.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&u.setAttribute("data-title",l),a.attr!==void 0&&u.setAttribute("data-attr",a.attr);var m=a.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),u.setAttribute("data-val",m));var h=a.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(c){a.click(f.graphInfo,c),f.updateActiveButton(c.currentTarget)}),u.setAttribute("data-toggle",a.toggle||!1),a.toggle&&p.select(u).classed("active",!0);var M=a.icon;return typeof M=="function"?u.appendChild(M()):u.appendChild(this.createIcon(M||C.question)),u.setAttribute("data-gravity",a.gravity||"n"),u},r.createIcon=function(a){var f=L(a.height)?Number(a.height):a.ascent-a.descent,u="http://www.w3.org/2000/svg",l;if(a.path){l=document.createElementNS(u,"svg"),l.setAttribute("viewBox",[0,0,a.width,f].join(" ")),l.setAttribute("class","icon");var m=document.createElementNS(u,"path");m.setAttribute("d",a.path),a.transform?m.setAttribute("transform",a.transform):a.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),l.appendChild(m)}if(a.svg){var h=v.parseFromString(a.svg,"application/xml");l=h.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(a){var f=this.graphInfo._fullLayout,u=a!==void 0?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var m=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),M=l.getAttribute("data-toggle")==="true",c=p.select(l);if(M)h===u&&c.classed("active",!c.classed("active"));else{var i=h===null?h:n.nestedProperty(f,h).get();c.classed("active",i===m)}})},r.hasButtons=function(a){var f=this.buttons;if(!f||a.length!==f.length)return!1;for(var u=0;u<a.length;++u){if(a[u].length!==f[u].length)return!1;for(var l=0;l<a[u].length;l++)if(a[u][l].name!==f[u][l].name)return!1}return!0};function t(a){return a+" (v"+T+")"}r.getLogo=function(){var a=this.createGroup(),f=document.createElement("a");return f.href="https://plotly.com/",f.target="_blank",f.setAttribute("data-title",t(n._(this.graphInfo,"Produced with Plotly.js"))),f.className="modebar-btn plotlyjsicon modebar-btn--logo",f.appendChild(this.createIcon(C.newplotlylogo)),a.appendChild(f),a},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){n.removeElement(this.container.querySelector(".modebar")),n.deleteRelatedStyleRule(this._uid)};function s(a,f){var u=a._fullLayout,l=new g({graphInfo:a,container:u._modebardiv.node(),buttons:f});return u._privateplot&&p.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}H.exports=s},26680:function(H,U,e){var p=e(25376),L=e(22548),n=e(31780).templatedArray,C=n("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});H.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:L.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(H){H.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(H,U,e){var p=e(3400),L=e(76308),n=e(31780),C=e(51272),T=e(26680),v=e(85984);H.exports=function(s,a,f,u,l){var m=s.rangeselector||{},h=n.newContainer(a,"rangeselector");function M(A,E){return p.coerce(m,h,T,A,E)}var c=C(m,h,{name:"buttons",handleItemDefaults:g,calendar:l}),i=M("visible",c.length>0);if(i){var d=r(a,f,u);M("x",d[0]),M("y",d[1]),p.noneOrAll(s,a,["x","y"]),M("xanchor"),M("yanchor"),p.coerceFont(M,"font",f.font);var x=M("bgcolor");M("activecolor",L.contrast(x,v.lightAmount,v.darkAmount)),M("bordercolor"),M("borderwidth")}};function g(t,s,a,f){var u=f.calendar;function l(M,c){return p.coerce(t,s,T.buttons,M,c)}var m=l("visible");if(m){var h=l("step");h!=="all"&&(u&&u!=="gregorian"&&(h==="month"||h==="year")?s.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,s,a){for(var f=a.filter(function(h){return s[h].anchor===t._id}),u=0,l=0;l<f.length;l++){var m=s[f[l]].domain;m&&(u=Math.max(m[1],u))}return[t.domain[0],u+v.yPad]}},50216:function(H,U,e){var p=e(33428),L=e(24040),n=e(7316),C=e(76308),T=e(43616),v=e(3400),g=v.strTranslate,r=e(72736),t=e(79811),s=e(84284),a=s.LINE_SPACING,f=s.FROM_TL,u=s.FROM_BR,l=e(85984),m=e(48040);H.exports=function(S){var w=S._fullLayout,o=w._infolayer.selectAll(".rangeselector").data(h(S),M);o.enter().append("g").classed("rangeselector",!0),o.exit().remove(),o.style({cursor:"pointer","pointer-events":"all"}),o.each(function(_){var b=p.select(this),I=_,D=I.rangeselector,N=b.selectAll("g.button").data(v.filterVisible(D.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(k){var z=p.select(this),F=m(I,k);k._isActive=c(I,k,F),z.call(i,D,k),z.call(x,D,k,S),z.on("click",function(){S._dragged||L.call("_guiRelayout",S,F)}),z.on("mouseover",function(){k._isHovered=!0,z.call(i,D,k)}),z.on("mouseout",function(){k._isHovered=!1,z.call(i,D,k)})}),E(S,N,D,I._name,b)})};function h(y){for(var S=t.list(y,"x",!0),w=[],o=0;o<S.length;o++){var _=S[o];_.rangeselector&&_.rangeselector.visible&&w.push(_)}return w}function M(y){return y._id}function c(y,S,w){if(S.step==="all")return y.autorange===!0;var o=Object.keys(w);return y.range[0]===w[o[0]]&&y.range[1]===w[o[1]]}function i(y,S,w){var o=v.ensureSingle(y,"rect","selector-rect",function(_){_.attr("shape-rendering","crispEdges")});o.attr({rx:l.rx,ry:l.ry}),o.call(C.stroke,S.bordercolor).call(C.fill,d(S,w)).style("stroke-width",S.borderwidth+"px")}function d(y,S){return S._isActive||S._isHovered?y.activecolor:y.bgcolor}function x(y,S,w,o){function _(I){r.convertToTspans(I,o)}var b=v.ensureSingle(y,"text","selector-text",function(I){I.attr("text-anchor","middle")});b.call(T.font,S.font).text(A(w,o._fullLayout._meta)).call(_)}function A(y,S){return y.label?S?v.templateString(y.label,S):y.label:y.step==="all"?"all":y.count+y.step.charAt(0)}function E(y,S,w,o,_){var b=0,I=0,D=w.borderwidth;S.each(function(){var B=p.select(this),W=B.select(".selector-text"),ee=w.font.size*a,ne=Math.max(ee*r.lineCount(W),16)+3;I=Math.max(I,ne)}),S.each(function(){var B=p.select(this),W=B.select(".selector-rect"),ee=B.select(".selector-text"),ne=ee.node()&&T.bBox(ee.node()).width,Q=w.font.size*a,le=r.lineCount(ee),Z=Math.max(ne+10,l.minButtonWidth);B.attr("transform",g(D+b,D)),W.attr({x:0,y:0,width:Z,height:I}),r.positionText(ee,Z/2,I/2-(le-1)*Q/2+3),b+=Z+5});var N=y._fullLayout._size,k=N.l+N.w*w.x,z=N.t+N.h*(1-w.y),F="left";v.isRightAnchor(w)&&(k-=b,F="right"),v.isCenterAnchor(w)&&(k-=b/2,F="center");var O="top";v.isBottomAnchor(w)&&(z-=I,O="bottom"),v.isMiddleAnchor(w)&&(z-=I/2,O="middle"),b=Math.ceil(b),I=Math.ceil(I),k=Math.round(k),z=Math.round(z),n.autoMargin(y,o+"-range-selector",{x:w.x,y:w.y,l:b*f[F],r:b*u[F],b:I*u[O],t:I*f[O]}),_.attr("transform",g(k,z))}},48040:function(H,U,e){var p=e(73220),L=e(3400).titleCase;H.exports=function(T,v){var g=T._name,r={};if(v.step==="all")r[g+".autorange"]=!0;else{var t=n(T,v);r[g+".range[0]"]=t[0],r[g+".range[1]"]=t[1]}return r};function n(C,T){var v=C.range,g=new Date(C.r2l(v[1])),r=T.step,t=p["utc"+L(r)],s=T.count,a;switch(T.stepmode){case"backward":a=C.l2r(+t.offset(g,-s));break;case"todate":var f=t.offset(g,-s);a=C.l2r(+t.ceil(f));break}var u=v[1];return[a,u]}},41152:function(H,U,e){H.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(H,U,e){var p=e(22548);H.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(H,U,e){var p=e(79811).list,L=e(19280).getAutoRange,n=e(74636);H.exports=function(T){for(var v=p(T,"x",!0),g=0;g<v.length;g++){var r=v[g],t=r[n.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=L(T,r))}}},74636:function(H){H.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(H,U,e){var p=e(3400),L=e(31780),n=e(79811),C=e(11200),T=e(10936);H.exports=function(g,r,t){var s=g[t],a=r[t];if(!(s.rangeslider||r._requestRangeslider[a._id]))return;p.isPlainObject(s.rangeslider)||(s.rangeslider={});var f=s.rangeslider,u=L.newContainer(a,"rangeslider");function l(o,_){return p.coerce(f,u,C,o,_)}var m,h;function M(o,_){return p.coerce(m,h,T,o,_)}var c=l("visible");if(c){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!a.isValidRange(f.range)),l("range");var i=r._subplots;if(i)for(var d=i.cartesian.filter(function(o){return o.substr(0,o.indexOf("y"))===n.name2id(t)}).map(function(o){return o.substr(o.indexOf("y"),o.length)}),x=p.simpleMap(d,n.id2name),A=0;A<x.length;A++){var E=x[A];m=f[E]||{},h=L.newContainer(u,E,"yaxis");var y=r[E],S;m.range&&y.isValidRange(m.range)&&(S="fixed");var w=M("rangemode",S);w!=="match"&&M("range",y.range.slice())}u._input=f}}},20060:function(H,U,e){var p=e(33428),L=e(24040),n=e(7316),C=e(3400),T=C.strTranslate,v=e(43616),g=e(76308),r=e(81668),t=e(57952),s=e(79811),a=e(86476),f=e(93972),u=e(74636);H.exports=function(S){for(var w=S._fullLayout,o=w._rangeSliderData,_=0;_<o.length;_++){var b=o[_][u.name];b._clipId=b._id+"-"+w._uid}function I(N){return N._name}var D=w._infolayer.selectAll("g."+u.containerClassName).data(o,I);D.exit().each(function(N){var k=N[u.name];w._topdefs.select("#"+k._clipId).remove()}).remove(),o.length!==0&&(D.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),D.each(function(N){var k=p.select(this),z=N[u.name],F=w[s.id2name(N.anchor)],O=z[s.id2name(N.anchor)];if(z.range){var B=C.simpleMap(z.range,N.r2l),W=C.simpleMap(N.range,N.r2l),ee;W[0]<W[1]?ee=[Math.min(B[0],W[0]),Math.max(B[1],W[1])]:ee=[Math.max(B[0],W[0]),Math.min(B[1],W[1])],z.range=z._input.range=C.simpleMap(ee,N.l2r)}N.cleanRange("rangeslider.range");var ne=w._size,Q=N.domain;z._width=ne.w*(Q[1]-Q[0]);var le=Math.round(ne.l+ne.w*Q[0]),Z=Math.round(ne.t+ne.h*(1-N._counterDomainMin)+(N.side==="bottom"?N._depth:0)+z._offsetShift+u.extraPad);k.attr("transform",T(le,Z)),z._rl=C.simpleMap(z.range,N.r2l);var Y=z._rl[0],re=z._rl[1],X=re-Y;if(z.p2d=function(Ae){return Ae/z._width*X+Y},z.d2p=function(Ae){return(Ae-Y)/X*z._width},N.rangebreaks){var q=N.locateBreaks(Y,re);if(q.length){var se,$,j=0;for(se=0;se<q.length;se++)$=q[se],j+=$.max-$.min;var ue=z._width/(re-Y-j),ae=[-ue*Y];for(se=0;se<q.length;se++)$=q[se],ae.push(ae[ae.length-1]-ue*($.max-$.min));for(z.d2p=function(Ae){for(var Ie=ae[0],Te=0;Te<q.length;Te++){var Le=q[Te];if(Ae>=Le.max)Ie=ae[Te+1];else if(Ae<Le.min)break}return Ie+ue*Ae},se=0;se<q.length;se++)$=q[se],$.pmin=z.d2p($.min),$.pmax=z.d2p($.max);z.p2d=function(Ae){for(var Ie=ae[0],Te=0;Te<q.length;Te++){var Le=q[Te];if(Ae>=Le.pmax)Ie=ae[Te+1];else if(Ae<Le.pmin)break}return(Ae-Ie)/ue}}}if(O.rangemode!=="match"){var ce=F.r2l(O.range[0]),ye=F.r2l(O.range[1]),Ce=ye-ce;z.d2pOppAxis=function(Ae){return(Ae-ce)/Ce*z._height}}k.call(c,S,N,z).call(i,S,N,z).call(d,S,N,z).call(A,S,N,z,O).call(E,S,N,z).call(y,S,N,z),m(k,S,N,z),M(k,S,N,z,F,O),N.side==="bottom"&&r.draw(S,N._id+"title",{propContainer:N,propName:N._name+".title",placeholder:w._dfltTitle.x,attributes:{x:N._offset+N._length/2,y:Z+z._height+z._offsetShift+10+1.5*N.title.font.size,"text-anchor":"middle"}})}))};function l(S){return typeof S.clientX=="number"?S.clientX:S.touches&&S.touches.length>0?S.touches[0].clientX:0}function m(S,w,o,_){if(w._context.staticPlot)return;var b=S.select("rect."+u.slideBoxClassName).node(),I=S.select("rect."+u.grabAreaMinClassName).node(),D=S.select("rect."+u.grabAreaMaxClassName).node();function N(){var k=p.event,z=k.target,F=l(k),O=F-S.node().getBoundingClientRect().left,B=_.d2p(o._rl[0]),W=_.d2p(o._rl[1]),ee=a.coverSlip();this.addEventListener("touchmove",ne),this.addEventListener("touchend",Q),ee.addEventListener("mousemove",ne),ee.addEventListener("mouseup",Q);function ne(le){var Z=l(le),Y=+Z-F,re,X,q;switch(z){case b:if(q="ew-resize",B+Y>o._length||W+Y<0)return;re=B+Y,X=W+Y;break;case I:if(q="col-resize",B+Y>o._length)return;re=B+Y,X=W;break;case D:if(q="col-resize",W+Y<0)return;re=B,X=W+Y;break;default:q="ew-resize",re=O,X=O+Y;break}if(X<re){var se=X;X=re,re=se}_._pixelMin=re,_._pixelMax=X,f(p.select(ee),q),h(S,w,o,_)}function Q(){ee.removeEventListener("mousemove",ne),ee.removeEventListener("mouseup",Q),this.removeEventListener("touchmove",ne),this.removeEventListener("touchend",Q),C.removeElement(ee)}}S.on("mousedown",N),S.on("touchstart",N)}function h(S,w,o,_){function b(N){return o.l2r(C.constrain(N,_._rl[0],_._rl[1]))}var I=b(_.p2d(_._pixelMin)),D=b(_.p2d(_._pixelMax));window.requestAnimationFrame(function(){L.call("_guiRelayout",w,o._name+".range",[I,D])})}function M(S,w,o,_,b,I){var D=u.handleWidth/2;function N(le){return C.constrain(le,0,_._width)}function k(le){return C.constrain(le,0,_._height)}function z(le){return C.constrain(le,-D,_._width+D)}var F=N(_.d2p(o._rl[0])),O=N(_.d2p(o._rl[1]));if(S.select("rect."+u.slideBoxClassName).attr("x",F).attr("width",O-F),S.select("rect."+u.maskMinClassName).attr("width",F),S.select("rect."+u.maskMaxClassName).attr("x",O).attr("width",_._width-O),I.rangemode!=="match"){var B=_._height-k(_.d2pOppAxis(b._rl[1])),W=_._height-k(_.d2pOppAxis(b._rl[0]));S.select("rect."+u.maskMinOppAxisClassName).attr("x",F).attr("height",B).attr("width",O-F),S.select("rect."+u.maskMaxOppAxisClassName).attr("x",F).attr("y",W).attr("height",_._height-W).attr("width",O-F),S.select("rect."+u.slideBoxClassName).attr("y",B).attr("height",W-B)}var ee=.5,ne=Math.round(z(F-D))-ee,Q=Math.round(z(O-D))+ee;S.select("g."+u.grabberMinClassName).attr("transform",T(ne,ee)),S.select("g."+u.grabberMaxClassName).attr("transform",T(Q,ee))}function c(S,w,o,_){var b=C.ensureSingle(S,"rect",u.bgClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),I=_.borderwidth%2===0?_.borderwidth:_.borderwidth-1,D=-_._offsetShift,N=v.crispRound(w,_.borderwidth);b.attr({width:_._width+I,height:_._height+I,transform:T(D,D),"stroke-width":N}).call(g.stroke,_.bordercolor).call(g.fill,_.bgcolor)}function i(S,w,o,_){var b=w._fullLayout,I=C.ensureSingleById(b._topdefs,"clipPath",_._clipId,function(D){D.append("rect").attr({x:0,y:0})});I.select("rect").attr({width:_._width,height:_._height})}function d(S,w,o,_){var b=w.calcdata,I=S.selectAll("g."+u.rangePlotClassName).data(o._subplotsWith,C.identity);I.enter().append("g").attr("class",function(N){return u.rangePlotClassName+" "+N}).call(v.setClipUrl,_._clipId,w),I.order(),I.exit().remove();var D;I.each(function(N,k){var z=p.select(this),F=k===0,O=s.getFromId(w,N,"y"),B=O._name,W=_[B],ee={data:[],layout:{xaxis:{type:o.type,domain:[0,1],range:_.range.slice(),calendar:o.calendar},width:_._width,height:_._height,margin:{t:0,b:0,l:0,r:0}},_context:w._context};o.rangebreaks&&(ee.layout.xaxis.rangebreaks=o.rangebreaks),ee.layout[B]={type:O.type,domain:[0,1],range:W.rangemode!=="match"?W.range.slice():O.range.slice(),calendar:O.calendar},O.rangebreaks&&(ee.layout[B].rangebreaks=O.rangebreaks),n.supplyDefaults(ee);var ne=ee._fullLayout.xaxis,Q=ee._fullLayout[B];ne.clearCalc(),ne.setScale(),Q.clearCalc(),Q.setScale();var le={id:N,plotgroup:z,xaxis:ne,yaxis:Q,isRangePlot:!0};F?D=le:(le.mainplot="xy",le.mainplotinfo=D),t.rangePlot(w,le,x(b,N))})}function x(S,w){for(var o=[],_=0;_<S.length;_++){var b=S[_],I=b[0].trace;I.xaxis+I.yaxis===w&&o.push(b)}return o}function A(S,w,o,_,b){var I=C.ensureSingle(S,"rect",u.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})});I.attr("height",_._height).call(g.fill,u.maskColor);var D=C.ensureSingle(S,"rect",u.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});if(D.attr("height",_._height).call(g.fill,u.maskColor),b.rangemode!=="match"){var N=C.ensureSingle(S,"rect",u.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",_._width).call(g.fill,u.maskOppAxisColor);var k=C.ensureSingle(S,"rect",u.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});k.attr("width",_._width).style("border-top",u.maskOppBorder).call(g.fill,u.maskOppAxisColor)}}function E(S,w,o,_){if(!w._context.staticPlot){var b=C.ensureSingle(S,"rect",u.slideBoxClassName,function(I){I.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});b.attr({height:_._height,fill:u.slideBoxFill})}}function y(S,w,o,_){var b=C.ensureSingle(S,"g",u.grabberMinClassName),I=C.ensureSingle(S,"g",u.grabberMaxClassName),D={x:0,width:u.handleWidth,rx:u.handleRadius,fill:g.background,stroke:g.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},N={y:Math.round(_._height/4),height:Math.round(_._height/2)},k=C.ensureSingle(b,"rect",u.handleMinClassName,function(W){W.attr(D)});k.attr(N);var z=C.ensureSingle(I,"rect",u.handleMaxClassName,function(W){W.attr(D)});z.attr(N);var F={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:w._context.staticPlot?void 0:u.grabAreaCursor},O=C.ensureSingle(b,"rect",u.grabAreaMinClassName,function(W){W.attr(F)});O.attr("height",_._height);var B=C.ensureSingle(I,"rect",u.grabAreaMaxClassName,function(W){W.attr(F)});B.attr("height",_._height)}},97944:function(H,U,e){var p=e(79811),L=e(72736),n=e(74636),C=e(84284).LINE_SPACING,T=n.name;function v(g){var r=g&&g[T];return r&&r.visible}U.isVisible=v,U.makeData=function(g){var r=p.list({_fullLayout:g},"x",!0),t=g.margin,s=[];if(!g._has("gl2d"))for(var a=0;a<r.length;a++){var f=r[a];if(v(f)){s.push(f);var u=f[T];u._id=T+f._id,u._height=(g.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}g._rangeSliderData=s},U.autoMarginOpts=function(g,r){var t=g._fullLayout,s=r[T],a=r._id.charAt(0),f=0,u=0;if(r.side==="bottom"&&(f=r._depth,r.title.text!==t._dfltTitle[a])){u=1.5*r.title.font.size+10+s._offsetShift;var l=(r.title.text.match(L.BR_TAG_ALL)||[]).length;u+=l*r.title.font.size*C}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:s._height+f+Math.max(t.margin.b,u),pad:n.extraPad+s._offsetShift*2}}},49692:function(H,U,e){var p=e(3400),L=e(11200),n=e(10936),C=e(97944);H.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},L,{yaxis:n})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},10936:function(H){H.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(H,U,e){var p=e(13916),L=e(52904).line,n=e(98192).u,C=e(92880).extendFlat,T=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),H.exports=T(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},p.xref,{}),yref:C({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:L.color,width:C({},L.width,{min:1,dflt:1}),dash:C({},n,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(H){H.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(H,U,e){var p=e(3400),L=e(54460),n=e(51272),C=e(93956),T=e(65152);H.exports=function(r,t){n(r,t,{name:"selections",handleItemDefaults:v});for(var s=t.selections,a=0;a<s.length;a++){var f=s[a];f&&f.path===void 0&&(f.x0===void 0||f.x1===void 0||f.y0===void 0||f.y1===void 0)&&(t.selections[a]=null)}};function v(g,r,t){function s(b,I){return p.coerce(g,r,C,b,I)}var a=s("path"),f=a?"path":"rect",u=s("type",f),l=u!=="path";l&&delete r.path,s("opacity"),s("line.color"),s("line.width"),s("line.dash");for(var m=["x","y"],h=0;h<2;h++){var M=m[h],c={_fullLayout:t},i,d,x,A=L.coerceRef(g,r,c,M);if(i=L.getFromId(c,A),i._selectionIndices.push(r._index),x=T.rangeToShapePosition(i),d=T.shapePositionToRange(i),l){var E=M+"0",y=M+"1",S=g[E],w=g[y];g[E]=d(g[E],!0),g[y]=d(g[y],!0),L.coercePosition(r,c,s,A,E),L.coercePosition(r,c,s,A,y);var o=r[E],_=r[y];o!==void 0&&_!==void 0&&(r[E]=x(o),r[y]=x(_),g[E]=S,g[y]=w)}}l&&p.noneOrAll(g,r,["x0","x1","y0","y1"])}},23640:function(H,U,e){var p=e(9856).readPaths,L=e(55496),n=e(1936).clearOutlineControllers,C=e(76308),T=e(43616),v=e(31780).arrayEditor,g=e(65152),r=g.getPathString;H.exports={draw:t,drawOne:a,activateLastSelection:l};function t(h){var M=h._fullLayout;n(h),M._selectionLayer.selectAll("path").remove();for(var c in M._plots){var i=M._plots[c].selectionLayer;i&&i.selectAll("path").remove()}for(var d=0;d<M.selections.length;d++)a(h,d)}function s(h){return h._context.editSelection}function a(h,M){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+M+'"]').remove();var c=g.makeSelectionsOptionsAndPlotinfo(h,M),i=c.options,d=c.plotinfo;if(!i._input)return;x(h._fullLayout._selectionLayer);function x(A){var E=r(h,i),y={"data-index":M,"fill-rule":"evenodd",d:E},S=i.opacity,w="rgba(0,0,0,0)",o=i.line.color||C.contrast(h._fullLayout.plot_bgcolor),_=i.line.width,b=i.line.dash;_||(_=5,b="solid");var I=s(h)&&h._fullLayout._activeSelectionIndex===M;I&&(w=h._fullLayout.activeselection.fillcolor,S=h._fullLayout.activeselection.opacity);for(var D=[],N=1;N>=0;N--){var k=A.append("path").attr(y).style("opacity",N?.1:S).call(C.stroke,o).call(C.fill,w).call(T.dashLine,N?"solid":b,N?4+_:_);if(f(k,h,i),I){var z=v(h.layout,"selections",i);k.style({cursor:"move"});var F={element:k.node(),plotinfo:d,gd:h,editHelpers:z,isActiveSelection:!0},O=p(E,h);L(O,k,F)}else k.style("pointer-events",N?"all":"none");D[N]=k}var B=D[0],W=D[1];W.node().addEventListener("click",function(){return u(h,B)})}}function f(h,M,c){var i=c.xref+c.yref;T.setClipUrl(h,"clip"+M._fullLayout._uid+i,M)}function u(h,M){if(s(h)){var c=M.node(),i=+c.getAttribute("data-index");if(i>=0){if(i===h._fullLayout._activeSelectionIndex){m(h);return}h._fullLayout._activeSelectionIndex=i,h._fullLayout._deactivateSelection=m,t(h)}}}function l(h){if(s(h)){var M=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=M,h._fullLayout._deactivateSelection=m,t(h)}}function m(h){if(s(h)){var M=h._fullLayout._activeSelectionIndex;M>=0&&(n(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(H,U,e){var p=e(98192).u,L=e(92880).extendFlat;H.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:L({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(H){H.exports=function(e,p,L){L("newselection.mode");var n=L("newselection.line.width");n&&(L("newselection.line.color"),L("newselection.line.dash")),L("activeselection.fillcolor"),L("activeselection.opacity")}},5968:function(H,U,e){var p=e(72760),L=p.selectMode,n=e(1936),C=n.clearOutline,T=e(9856),v=T.readPaths,g=T.writePaths,r=T.fixDatesForPaths;H.exports=function(s,a){if(s.length){var f=s[0][0];if(f){var u=f.getAttribute("d"),l=a.gd,m=l._fullLayout.newselection,h=a.plotinfo,M=h.xaxis,c=h.yaxis,i=a.isActiveSelection,d=a.dragmode,x=(l.layout||{}).selections||[];if(!L(d)&&i!==void 0){var A=l._fullLayout._activeSelectionIndex;if(A<x.length)switch(l._fullLayout.selections[A].type){case"rect":d="select";break;case"path":d="lasso";break}}var E=v(u,l,h,i),y={xref:M._id,yref:c._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},S;E.length===1&&(S=E[0]),S&&S.length===5&&d==="select"?(y.type="rect",y.x0=S[0][1],y.y0=S[0][2],y.x1=S[2][1],y.y1=S[2][2]):(y.type="path",M&&c&&r(E,M,c),y.path=g(E),S=null),C(l);for(var w=a.editHelpers,o=(w||{}).modifyItem,_=[],b=0;b<x.length;b++){var I=l._fullLayout.selections[b];if(!I){_[b]=I;continue}if(_[b]=I._input,i!==void 0&&b===l._fullLayout._activeSelectionIndex){var D=y;switch(I.type){case"rect":o("x0",D.x0),o("x1",D.x1),o("y0",D.y0),o("y1",D.y1);break;case"path":o("path",D.path);break}}}return i===void 0?(_.push(y),_):w?w.getUpdateObj():{}}}}},5840:function(H,U,e){var p=e(3400).strTranslate;function L(v,g){switch(v.type){case"log":return v.p2d(g);case"date":return v.p2r(g,0,v.calendar);default:return v.p2r(g)}}function n(v,g){switch(v.type){case"log":return v.d2p(g);case"date":return v.r2p(g,0,v.calendar);default:return v.r2p(g)}}function C(v){var g=v._id.charAt(0)==="y"?1:0;return function(r){return L(v,r[g])}}function T(v){return p(v.xaxis._offset,v.yaxis._offset)}H.exports={p2r:L,r2p:n,axValue:C,getTransform:T}},22676:function(H,U,e){var p=e(23640),L=e(43156);H.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:L.reselect,prepSelect:L.prepSelect,clearOutline:L.clearOutline,clearSelectionsCache:L.clearSelectionsCache,selectOnClick:L.selectOnClick}},43156:function(H,U,e){var p=e(14756),L=e(61456),n=e(24040),C=e(43616).dashStyle,T=e(76308),v=e(93024),g=e(10624).makeEventData,r=e(72760),t=r.freeMode,s=r.rectMode,a=r.drawMode,f=r.openMode,u=r.selectMode,l=e(65152),m=e(85448),h=e(55496),M=e(1936).clearOutline,c=e(9856),i=c.handleEllipse,d=c.readPaths,x=e(93940).newShapes,A=e(5968),E=e(23640).activateLastSelection,y=e(3400),S=y.sorterAsc,w=e(92065),o=e(91200),_=e(79811).getFromId,b=e(73696),I=e(39172).redrawReglTraces,D=e(83280),N=D.MINSELECT,k=w.filter,z=w.tester,F=e(5840),O=F.p2r,B=F.axValue,W=F.getTransform;function ee(Ye){return Ye.subplot!==void 0}function ne(Ye,ke,be,me,_e){var Ee=!ee(me),Be=t(_e),je=s(_e),nt=f(_e),dt=a(_e),xt=u(_e),Kt=_e==="drawline",Jt=_e==="drawcircle",St=Kt||Jt,Ft=me.gd,rr=Ft._fullLayout,_r=xt&&rr.newselection.mode==="immediate"&&Ee,Tt=rr._zoomlayer,$t=me.element.getBoundingClientRect(),tr=me.plotinfo,Tr=W(tr),cr=ke-$t.left,bt=be-$t.top;rr._calcInverseTransform(Ft);var lt=y.apply3DTransform(rr._invTransform)(cr,bt);cr=lt[0],bt=lt[1];var Mt=rr._invScaleX,_t=rr._invScaleY,Ot=cr,It=bt,Wt="M"+cr+","+bt,Gt=me.xaxes[0],er=me.yaxes[0],dr=Gt._length,pr=er._length,mr=Ye.altKey&&!(a(_e)&&nt),Xe,Ge,Ut,Nt,Qt,ar,hr;X(Ye,Ft,me),Be&&(Xe=k([[cr,bt]],D.BENDPX));var or=Tt.selectAll("path.select-outline-"+tr.id).data([1]),Vt=dt?rr.newshape:rr.newselection;dt&&(me.hasText=Vt.label.text||Vt.label.texttemplate);var yr=dt&&!nt?Vt.fillcolor:"rgba(0,0,0,0)",wr=Vt.line.color||(Ee?T.contrast(Ft._fullLayout.plot_bgcolor):"#7f7f7f");or.enter().append("path").attr("class","select-outline select-outline-"+tr.id).style({opacity:dt?Vt.opacity/2:1,"stroke-dasharray":C(Vt.line.dash,Vt.line.width),"stroke-width":Vt.line.width+"px","shape-rendering":"crispEdges"}).call(T.stroke,wr).call(T.fill,yr).attr("fill-rule","evenodd").classed("cursor-move",!!dt).attr("transform",Tr).attr("d",Wt+"Z");var Ar=Tt.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1}).attr("transform",Tr).attr("d","M0,0Z");if(dt&&me.hasText){var gr=Tt.select(".label-temp");gr.empty()&&(gr=Tt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var jr=rr._uid+D.SELECTID,Fr=[],Nr=ue(Ft,me.xaxes,me.yaxes,me.subplot);_r&&!Ye.shiftKey&&(me._clearSubplotSelections=function(){if(Ee){var hn=Gt._id,Un=er._id;ht(Ft,hn,Un,Nr);for(var Fn=(Ft.layout||{}).selections||[],Pr=[],Or=!1,Qr=0;Qr<Fn.length;Qr++){var Zr=rr.selections[Qr];Zr.xref!==hn||Zr.yref!==Un?Pr.push(Fn[Qr]):Or=!0}Or&&(Ft._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Ft,{selections:Pr}))}});var wn=at(me);me.moveFn=function(hn,Un){me._clearSubplotSelections&&(me._clearSubplotSelections(),me._clearSubplotSelections=void 0),Ot=Math.max(0,Math.min(dr,Mt*hn+cr)),It=Math.max(0,Math.min(pr,_t*Un+bt));var Fn=Math.abs(Ot-cr),Pr=Math.abs(It-bt);if(je){var Or,Qr,Zr;if(xt){var vn=rr.selectdirection;switch(vn==="any"?Pr<Math.min(Fn*.6,N)?Or="h":Fn<Math.min(Pr*.6,N)?Or="v":Or="d":Or=vn,Or){case"h":Qr=Jt?pr/2:0,Zr=pr;break;case"v":Qr=Jt?dr/2:0,Zr=dr;break}}if(dt)switch(rr.newshape.drawdirection){case"vertical":Or="h",Qr=Jt?pr/2:0,Zr=pr;break;case"horizontal":Or="v",Qr=Jt?dr/2:0,Zr=dr;break;case"ortho":Fn<Pr?(Or="h",Qr=bt,Zr=It):(Or="v",Qr=cr,Zr=Ot);break;default:Or="d"}Or==="h"?(Nt=St?i(Jt,[Ot,Qr],[Ot,Zr]):[[cr,Qr],[cr,Zr],[Ot,Zr],[Ot,Qr]],Nt.xmin=St?Ot:Math.min(cr,Ot),Nt.xmax=St?Ot:Math.max(cr,Ot),Nt.ymin=Math.min(Qr,Zr),Nt.ymax=Math.max(Qr,Zr),Ar.attr("d","M"+Nt.xmin+","+(bt-N)+"h-4v"+2*N+"h4ZM"+(Nt.xmax-1)+","+(bt-N)+"h4v"+2*N+"h-4Z")):Or==="v"?(Nt=St?i(Jt,[Qr,It],[Zr,It]):[[Qr,bt],[Qr,It],[Zr,It],[Zr,bt]],Nt.xmin=Math.min(Qr,Zr),Nt.xmax=Math.max(Qr,Zr),Nt.ymin=St?It:Math.min(bt,It),Nt.ymax=St?It:Math.max(bt,It),Ar.attr("d","M"+(cr-N)+","+Nt.ymin+"v-4h"+2*N+"v4ZM"+(cr-N)+","+(Nt.ymax-1)+"v4h"+2*N+"v-4Z")):Or==="d"&&(Nt=St?i(Jt,[cr,bt],[Ot,It]):[[cr,bt],[cr,It],[Ot,It],[Ot,bt]],Nt.xmin=Math.min(cr,Ot),Nt.xmax=Math.max(cr,Ot),Nt.ymin=Math.min(bt,It),Nt.ymax=Math.max(bt,It),Ar.attr("d","M0,0Z"))}else Be&&(Xe.addPt([Ot,It]),Nt=Xe.filtered);if(me.selectionDefs&&me.selectionDefs.length?(Ut=xe(me.mergedPolygons,Nt,mr),Nt.subtract=mr,Ge=re(me.selectionDefs.concat([Nt]))):(Ut=[Nt],Ge=z(Nt)),h(He(Ut,nt),or,me),xt){var Mn=Fe(Ft,!1),Sn=Mn.eventData?Mn.eventData.points.slice():[];Mn=Fe(Ft,!1,Ge,Nr,me),Ge=Mn.selectionTesters,hr=Mn.eventData;var Vn;Xe?Vn=Xe.filtered:Vn=mt(Ut),o.throttle(jr,D.SELECTDELAY,function(){Fr=Ve(Ge,Nr);for(var jn=Fr.slice(),ya=0;ya<Sn.length;ya++){for(var Pa=Sn[ya],Da=!1,Ma=0;Ma<jn.length;Ma++)if(jn[Ma].curveNumber===Pa.curveNumber&&jn[Ma].pointNumber===Pa.pointNumber){Da=!0;break}Da||jn.push(Pa)}jn.length&&(hr||(hr={}),hr.points=jn),wn(hr,Vn),Oe(Ft,hr)})}},me.clickFn=function(hn,Un){if(Ar.remove(),Ft._fullLayout._activeShapeIndex>=0){Ft._fullLayout._deactivateShape(Ft);return}if(!dt){var Fn=rr.clickmode;o.done(jr).then(function(){if(o.clear(jr),hn===2){for(or.remove(),Qt=0;Qt<Nr.length;Qt++)ar=Nr[Qt],ar._module.selectPoints(ar,!1);if(Te(Ft,Nr),$(me),Je(Ft),Nr.length){var Pr=Nr[0].xaxis,Or=Nr[0].yaxis;if(Pr&&Or){for(var Qr=[],Zr=Ft._fullLayout.selections,vn=0;vn<Zr.length;vn++){var Mn=Zr[vn];Mn&&(Mn.xref!==Pr._id||Mn.yref!==Or._id)&&Qr.push(Mn)}Qr.length<Zr.length&&(Ft._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Ft,{selections:Qr}))}}}else Fn.indexOf("select")>-1&&Q(Un,Ft,me.xaxes,me.yaxes,me.subplot,me,or),Fn==="event"&&Ze(Ft,void 0);v.click(Ft,Un,tr.id)}).catch(y.error)}},me.doneFn=function(){Ar.remove(),o.done(jr).then(function(){o.clear(jr),!_r&&Nt&&me.selectionDefs&&(Nt.subtract=mr,me.selectionDefs.push(Nt),me.mergedPolygons.length=0,[].push.apply(me.mergedPolygons,Ut)),(_r||dt)&&$(me,_r),me.doneFnCompleted&&me.doneFnCompleted(Fr),xt&&Ze(Ft,hr)}).catch(y.error)}}function Q(Ye,ke,be,me,_e,Ee,Be){var je=ke._hoverdata,nt=ke._fullLayout,dt=nt.clickmode,xt=dt.indexOf("event")>-1,Kt=[],Jt,St,Ft,rr,_r,Tt,$t,tr,Tr,cr;if(ce(je)){X(Ye,ke,Ee),Jt=ue(ke,be,me,_e);var bt=ye(je,Jt),lt=bt.pointNumbers.length>0;if(lt?Ae(Jt,bt):Ie(Jt)&&($t=Ce(bt))){for(Be&&Be.remove(),cr=0;cr<Jt.length;cr++)St=Jt[cr],St._module.selectPoints(St,!1);Te(ke,Jt),$(Ee),xt&&Je(ke)}else{tr=Ye.shiftKey&&($t!==void 0?$t:Ce(bt)),Ft=le(bt.pointNumber,bt.searchInfo,tr);var Mt=Ee.selectionDefs.concat([Ft]);for(rr=re(Mt),cr=0;cr<Jt.length;cr++)if(_r=Jt[cr]._module.selectPoints(Jt[cr],rr),Tt=Re(_r,Jt[cr]),Kt.length)for(var _t=0;_t<Tt.length;_t++)Kt.push(Tt[_t]);else Kt=Tt;if(Tr={points:Kt},Te(ke,Jt,Tr),Ft&&Ee&&Ee.selectionDefs.push(Ft),Be){var Ot=Ee.mergedPolygons,It=f(Ee.dragmode);h(He(Ot,It),Be,Ee)}xt&&Ze(ke,Tr)}}}function le(Ye,ke,be){return{pointNumber:Ye,searchInfo:ke,subtract:!!be}}function Z(Ye){return"pointNumber"in Ye&&"searchInfo"in Ye}function Y(Ye){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ke,be,me,_e){var Ee=Ye.searchInfo.cd[0].trace._expandedIndex,Be=_e.cd[0].trace._expandedIndex;return Be===Ee&&me===Ye.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ye.subtract}}function re(Ye){if(!Ye.length)return;for(var ke=[],be=Z(Ye[0])?0:Ye[0][0][0],me=be,_e=Z(Ye[0])?0:Ye[0][0][1],Ee=_e,Be=0;Be<Ye.length;Be++)if(Z(Ye[Be]))ke.push(Y(Ye[Be]));else{var je=z(Ye[Be]);je.subtract=!!Ye[Be].subtract,ke.push(je),be=Math.min(be,je.xmin),me=Math.max(me,je.xmax),_e=Math.min(_e,je.ymin),Ee=Math.max(Ee,je.ymax)}function nt(dt,xt,Kt,Jt){for(var St=!1,Ft=0;Ft<ke.length;Ft++)ke[Ft].contains(dt,xt,Kt,Jt)&&(St=!ke[Ft].subtract);return St}return{xmin:be,xmax:me,ymin:_e,ymax:Ee,pts:[],contains:nt,isRect:!1,degenerate:!1}}function X(Ye,ke,be){var me=ke._fullLayout,_e=be.plotinfo,Ee=be.dragmode,Be=me._lastSelectedSubplot&&me._lastSelectedSubplot===_e.id,je=(Ye.shiftKey||Ye.altKey)&&!(a(Ee)&&f(Ee));Be&&je&&_e.selection&&_e.selection.selectionDefs&&!be.selectionDefs?(be.selectionDefs=_e.selection.selectionDefs,be.mergedPolygons=_e.selection.mergedPolygons):(!je||!_e.selection)&&$(be),Be||(M(ke),me._lastSelectedSubplot=_e.id)}function q(Ye){return Ye._fullLayout._activeShapeIndex>=0}function se(Ye){return Ye._fullLayout._activeSelectionIndex>=0}function $(Ye,ke){var be=Ye.dragmode,me=Ye.plotinfo,_e=Ye.gd;q(_e)&&_e._fullLayout._deactivateShape(_e),se(_e)&&_e._fullLayout._deactivateSelection(_e);var Ee=_e._fullLayout,Be=Ee._zoomlayer,je=a(be),nt=u(be);if(je||nt){var dt=Be.selectAll(".select-outline-"+me.id);if(dt&&_e._fullLayout._outlining){var xt;je&&(xt=x(dt,Ye)),xt&&n.call("_guiRelayout",_e,{shapes:xt});var Kt;nt&&!ee(Ye)&&(Kt=A(dt,Ye)),Kt&&(_e._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",_e,{selections:Kt}).then(function(){ke&&E(_e)})),_e._fullLayout._outlining=!1}}me.selection={},me.selection.selectionDefs=Ye.selectionDefs=[],me.selection.mergedPolygons=Ye.mergedPolygons=[]}function j(Ye){return Ye._id}function ue(Ye,ke,be,me){if(!Ye.calcdata)return[];var _e=[],Ee=ke.map(j),Be=be.map(j),je,nt,dt;for(dt=0;dt<Ye.calcdata.length;dt++)if(je=Ye.calcdata[dt],nt=je[0].trace,!(nt.visible!==!0||!nt._module||!nt._module.selectPoints))if(ee({subplot:me})&&(nt.subplot===me||nt.geo===me))_e.push(ae(nt._module,je,ke[0],be[0]));else if(nt.type==="splom"){if(nt._xaxes[Ee[0]]&&nt._yaxes[Be[0]]){var xt=ae(nt._module,je,ke[0],be[0]);xt.scene=Ye._fullLayout._splomScenes[nt.uid],_e.push(xt)}}else if(nt.type==="sankey"){var Kt=ae(nt._module,je,ke[0],be[0]);_e.push(Kt)}else{if(Ee.indexOf(nt.xaxis)===-1&&(!nt._xA||!nt._xA.overlaying)||Be.indexOf(nt.yaxis)===-1&&(!nt._yA||!nt._yA.overlaying))continue;_e.push(ae(nt._module,je,_(Ye,nt.xaxis),_(Ye,nt.yaxis)))}return _e}function ae(Ye,ke,be,me){return{_module:Ye,cd:ke,xaxis:be,yaxis:me}}function ce(Ye){return Ye&&Array.isArray(Ye)&&Ye[0].hoverOnBox!==!0}function ye(Ye,ke){var be=Ye[0],me=-1,_e=[],Ee,Be;for(Be=0;Be<ke.length;Be++)if(Ee=ke[Be],be.fullData._expandedIndex===Ee.cd[0].trace._expandedIndex){if(be.hoverOnBox===!0)break;be.pointNumber!==void 0?me=be.pointNumber:be.binNumber!==void 0&&(me=be.binNumber,_e=be.pointNumbers);break}return{pointNumber:me,pointNumbers:_e,searchInfo:Ee}}function Ce(Ye){var ke=Ye.searchInfo.cd[0].trace,be=Ye.pointNumber,me=Ye.pointNumbers,_e=me.length>0,Ee=_e?me[0]:be;return ke.selectedpoints?ke.selectedpoints.indexOf(Ee)>-1:!1}function Ae(Ye,ke){var be=[],me,_e,Ee,Be;for(Be=0;Be<Ye.length;Be++)me=Ye[Be],me.cd[0].trace.selectedpoints&&me.cd[0].trace.selectedpoints.length>0&&be.push(me);if(be.length===1&&(Ee=be[0]===ke.searchInfo,Ee&&(_e=ke.searchInfo.cd[0].trace,_e.selectedpoints.length===ke.pointNumbers.length))){for(Be=0;Be<ke.pointNumbers.length;Be++)if(_e.selectedpoints.indexOf(ke.pointNumbers[Be])<0)return!1;return!0}return!1}function Ie(Ye){var ke=0,be,me,_e;for(_e=0;_e<Ye.length;_e++)if(be=Ye[_e],me=be.cd[0].trace,me.selectedpoints&&(me.selectedpoints.length>1||(ke+=me.selectedpoints.length,ke>1)))return!1;return ke===1}function Te(Ye,ke,be){var me;for(me=0;me<ke.length;me++){var _e=ke[me].cd[0].trace._fullInput,Ee=Ye._fullLayout._tracePreGUI[_e.uid]||{};Ee.selectedpoints===void 0&&(Ee.selectedpoints=_e._input.selectedpoints||null)}var Be;if(be){var je=be.points||[];for(me=0;me<ke.length;me++)Be=ke[me].cd[0].trace,Be._input.selectedpoints=Be._fullInput.selectedpoints=[],Be._fullInput!==Be&&(Be.selectedpoints=[]);for(var nt=0;nt<je.length;nt++){var dt=je[nt],xt=dt.data,Kt=dt.fullData,Jt=dt.pointIndex,St=dt.pointIndices;St?([].push.apply(xt.selectedpoints,St),Be._fullInput!==Be&&[].push.apply(Kt.selectedpoints,St)):(xt.selectedpoints.push(Jt),Be._fullInput!==Be&&Kt.selectedpoints.push(Jt))}}else for(me=0;me<ke.length;me++)Be=ke[me].cd[0].trace,delete Be.selectedpoints,delete Be._input.selectedpoints,Be._fullInput!==Be&&delete Be._fullInput.selectedpoints;Le(Ye,ke)}function Le(Ye,ke){for(var be=!1,me=0;me<ke.length;me++){var _e=ke[me],Ee=_e.cd;n.traceIs(Ee[0].trace,"regl")&&(be=!0);var Be=_e._module,je=Be.styleOnSelect||Be.style;je&&(je(Ye,Ee,Ee[0].node3),Ee[0].nodeRangePlot3&&je(Ye,Ee,Ee[0].nodeRangePlot3))}be&&(b(Ye),I(Ye))}function xe(Ye,ke,be){for(var me=be?p.difference:p.union,_e=me({regions:Ye},{regions:[ke]}),Ee=_e.regions.reverse(),Be=0;Be<Ee.length;Be++){var je=Ee[Be];je.subtract=vt(je,Ee.slice(0,Be))}return Ee}function Re(Ye,ke){if(Array.isArray(Ye))for(var be=ke.cd,me=ke.cd[0].trace,_e=0;_e<Ye.length;_e++)Ye[_e]=g(Ye[_e],me,be);return Ye}function He(Ye,ke){for(var be=[],me=0;me<Ye.length;me++){be[me]=[];for(var _e=0;_e<Ye[me].length;_e++){be[me][_e]=[],be[me][_e][0]=_e?"L":"M";for(var Ee=0;Ee<Ye[me][_e].length;Ee++)be[me][_e].push(Ye[me][_e][Ee])}ke||be[me].push(["Z",be[me][0][1],be[me][0][2]])}return be}function Ve(Ye,ke){for(var be=[],me,_e,Ee=0;Ee<ke.length;Ee++){var Be=ke[Ee];_e=Be._module.selectPoints(Be,Ye),me=Re(_e,Be),be=be.concat(me)}return be}function Fe(Ye,ke,be,me,_e){var Ee=!!me,Be,je,nt;_e&&(Be=_e.plotinfo,je=_e.xaxes[0]._id,nt=_e.yaxes[0]._id);var dt=[],xt=[],Kt=tt(Ye),Jt=Ye._fullLayout;if(Be){var St=Jt._zoomlayer,Ft=Jt.dragmode,rr=a(Ft),_r=u(Ft);if(rr||_r){var Tt=_(Ye,je,"x"),$t=_(Ye,nt,"y");if(Tt&&$t){var tr=St.selectAll(".select-outline-"+Be.id);if(tr&&Ye._fullLayout._outlining&&tr.length){for(var Tr=tr[0][0],cr=Tr.getAttribute("d"),bt=d(cr,Ye,Be),lt=[],Mt=0;Mt<bt.length;Mt++){for(var _t=bt[Mt],Ot=[],It=0;It<_t.length;It++)Ot.push([pt(Tt,_t[It][1]),pt($t,_t[It][2])]);Ot.xref=je,Ot.yref=nt,Ot.subtract=vt(Ot,lt),lt.push(Ot)}Kt=Kt.concat(lt)}}}}var Wt=je&&nt?[je+nt]:Jt._subplots.cartesian;We(Ye);for(var Gt={},er=0;er<Wt.length;er++){var dr=Wt[er],pr=dr.indexOf("y"),mr=dr.slice(0,pr),Xe=dr.slice(pr),Ge=je&&nt?be:void 0;if(Ge=rt(Kt,mr,Xe,Ge),Ge){var Ut=me;if(!Ee){var Nt=_(Ye,mr,"x"),Qt=_(Ye,Xe,"y");Ut=ue(Ye,[Nt],[Qt],dr);for(var ar=0;ar<Ut.length;ar++){var hr=Ut[ar],or=hr.cd[0],Vt=or.trace;if(hr._module.name==="scattergl"&&!or.t.xpx){var yr=Vt.x,wr=Vt.y,Ar=Vt._length;or.t.xpx=[],or.t.ypx=[];for(var gr=0;gr<Ar;gr++)or.t.xpx[gr]=Nt.c2p(yr[gr]),or.t.ypx[gr]=Qt.c2p(wr[gr])}hr._module.name==="splom"&&(Gt[Vt.uid]||(Gt[Vt.uid]=!0))}}var jr=Ve(Ge,Ut);dt=dt.concat(jr),xt=xt.concat(Ut)}}var Fr={points:dt};Te(Ye,xt,Fr);var Nr=Jt.clickmode,wn=Nr.indexOf("event")>-1&&ke;if(!Be&&ke){var hn=tt(Ye,!0);if(hn.length){var Un=hn[0].xref,Fn=hn[0].yref;if(Un&&Fn){var Pr=mt(hn),Or=Lt([_(Ye,Un,"x"),_(Ye,Fn,"y")]);Or(Fr,Pr)}}Ye._fullLayout._noEmitSelectedAtStart?Ye._fullLayout._noEmitSelectedAtStart=!1:wn&&Ze(Ye,Fr),Jt._reselect=!1}if(!Be&&Jt._deselect){var Qr=Jt._deselect;je=Qr.xref,nt=Qr.yref,ut(je,nt,xt)||ht(Ye,je,nt,me),wn&&(Fr.points.length?Ze(Ye,Fr):Je(Ye)),Jt._deselect=!1}return{eventData:Fr,selectionTesters:be}}function We(Ye){var ke=Ye.calcdata;if(ke)for(var be=0;be<ke.length;be++){var me=ke[be][0],_e=me.trace,Ee=Ye._fullLayout._splomScenes;if(Ee){var Be=Ee[_e.uid];Be&&(Be.selectBatch=[])}}}function ut(Ye,ke,be){for(var me=0;me<be.length;me++){var _e=be[me];if(_e.xaxis&&_e.xaxis._id===Ye&&_e.yaxis&&_e.yaxis._id===ke)return!0}return!1}function ht(Ye,ke,be,me){me=ue(Ye,[_(Ye,ke,"x")],[_(Ye,be,"y")],ke+be);for(var _e=0;_e<me.length;_e++){var Ee=me[_e];Ee._module.selectPoints(Ee,!1)}Te(Ye,me)}function rt(Ye,ke,be,me){for(var _e,Ee=0;Ee<Ye.length;Ee++){var Be=Ye[Ee];if(!(ke!==Be.xref||be!==Be.yref))if(_e){var je=!!Be.subtract;_e=xe(_e,Be,je),me=re(_e)}else _e=[Be],me=z(Be)}return me}function tt(Ye,ke){for(var be=[],me=Ye._fullLayout,_e=me.selections,Ee=_e.length,Be=0;Be<Ee;Be++)if(!(ke&&Be!==me._activeSelectionIndex)){var je=_e[Be];if(je){var nt=je.xref,dt=je.yref,xt=_(Ye,nt,"x"),Kt=_(Ye,dt,"y"),Jt,St,Ft,rr,_r;if(je.type==="rect"){_r=[];var Tt=pt(xt,je.x0),$t=pt(xt,je.x1),tr=pt(Kt,je.y0),Tr=pt(Kt,je.y1);_r=[[Tt,tr],[Tt,Tr],[$t,Tr],[$t,tr]],Jt=Math.min(Tt,$t),St=Math.max(Tt,$t),Ft=Math.min(tr,Tr),rr=Math.max(tr,Tr),_r.xmin=Jt,_r.xmax=St,_r.ymin=Ft,_r.ymax=rr,_r.xref=nt,_r.yref=dt,_r.subtract=!1,_r.isRect=!0,be.push(_r)}else if(je.type==="path")for(var cr=je.path.split("Z"),bt=[],lt=0;lt<cr.length;lt++){var Mt=cr[lt];if(Mt){Mt+="Z";var _t=l.extractPathCoords(Mt,m.paramIsX,"raw"),Ot=l.extractPathCoords(Mt,m.paramIsY,"raw");Jt=1/0,St=-1/0,Ft=1/0,rr=-1/0,_r=[];for(var It=0;It<_t.length;It++){var Wt=pt(xt,_t[It]),Gt=pt(Kt,Ot[It]);_r.push([Wt,Gt]),Jt=Math.min(Wt,Jt),St=Math.max(Wt,St),Ft=Math.min(Gt,Ft),rr=Math.max(Gt,rr)}_r.xmin=Jt,_r.xmax=St,_r.ymin=Ft,_r.ymax=rr,_r.xref=nt,_r.yref=dt,_r.subtract=vt(_r,bt),bt.push(_r),be.push(_r)}}}}return be}function vt(Ye,ke){for(var be=!1,me=0;me<ke.length;me++)for(var _e=ke[me],Ee=0;Ee<Ye.length;Ee++)if(L(Ye[Ee],_e)){be=!be;break}return be}function pt(Ye,ke){return Ye.type==="date"&&(ke=ke.replace("_"," ")),Ye.type==="log"?Ye.c2p(ke):Ye.r2p(ke,null,Ye.calendar)}function mt(Ye){for(var ke=Ye.length,be=[],me=0;me<ke;me++){var _e=Ye[me];be=be.concat(_e),be=be.concat([_e[0]])}return wt(be)}function wt(Ye){return Ye.isRect=Ye.length===5&&Ye[0][0]===Ye[4][0]&&Ye[0][1]===Ye[4][1]&&Ye[0][0]===Ye[1][0]&&Ye[2][0]===Ye[3][0]&&Ye[0][1]===Ye[3][1]&&Ye[1][1]===Ye[2][1]||Ye[0][1]===Ye[1][1]&&Ye[2][1]===Ye[3][1]&&Ye[0][0]===Ye[3][0]&&Ye[1][0]===Ye[2][0],Ye.isRect&&(Ye.xmin=Math.min(Ye[0][0],Ye[2][0]),Ye.xmax=Math.max(Ye[0][0],Ye[2][0]),Ye.ymin=Math.min(Ye[0][1],Ye[2][1]),Ye.ymax=Math.max(Ye[0][1],Ye[2][1])),Ye}function Lt(Ye){return function(ke,be){for(var me,_e,Ee=0;Ee<Ye.length;Ee++){var Be=Ye[Ee],je=Be._id,nt=je.charAt(0);if(be.isRect){me||(me={});var dt=be[nt+"min"],xt=be[nt+"max"];dt!==void 0&&xt!==void 0&&(me[je]=[O(Be,dt),O(Be,xt)].sort(S))}else _e||(_e={}),_e[je]=be.map(B(Be))}me&&(ke.range=me),_e&&(ke.lassoPoints=_e)}}function at(Ye){var ke=Ye.plotinfo;return ke.fillRangeItems||Lt(Ye.xaxes.concat(Ye.yaxes))}function Oe(Ye,ke){Ye.emit("plotly_selecting",ke)}function Ze(Ye,ke){ke&&(ke.selections=(Ye.layout||{}).selections||[]),Ye.emit("plotly_selected",ke)}function Je(Ye){Ye.emit("plotly_deselect",null)}H.exports={reselect:Fe,prepSelect:ne,clearOutline:M,clearSelectionsCache:$,selectOnClick:Q}},46056:function(H,U,e){var p=e(13916),L=e(25376),n=e(52904).line,C=e(98192).u,T=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var g=e(45464),r=e(21776).ye,t=e(97728);H.exports=v("shape",{visible:T({},g.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:T({},g.legend,{editType:"calc+arraydraw"}),legendgroup:T({},g.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:T({},g.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:L({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:T({},g.legendrank,{editType:"calc+arraydraw"}),legendwidth:T({},g.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:T({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:T({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:T({},n.color,{editType:"arraydraw"}),width:T({},n.width,{editType:"calc+arraydraw"}),dash:T({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(H,U,e){var p=e(3400),L=e(54460),n=e(85448),C=e(65152);H.exports=function(s){var a=s._fullLayout,f=p.filterVisible(a.shapes);if(!(!f.length||!s._fullData.length))for(var u=0;u<f.length;u++){var l=f[u];l._extremes={};var m,h,M=L.getRefType(l.xref),c=L.getRefType(l.yref);if(l.xref!=="paper"&&M!=="domain"){var i=l.xsizemode==="pixel"?l.xanchor:l.x0,d=l.xsizemode==="pixel"?l.xanchor:l.x1;m=L.getFromId(s,l.xref),h=r(m,i,d,l.path,n.paramIsX),h&&(l._extremes[m._id]=L.findExtremes(m,h,T(l)))}if(l.yref!=="paper"&&c!=="domain"){var x=l.ysizemode==="pixel"?l.yanchor:l.y0,A=l.ysizemode==="pixel"?l.yanchor:l.y1;m=L.getFromId(s,l.yref),h=r(m,x,A,l.path,n.paramIsY),h&&(l._extremes[m._id]=L.findExtremes(m,h,v(l)))}}};function T(t){return g(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return g(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function g(t,s,a,f,u,l){var m=t/2,h=l;if(s==="pixel"){var M=u?C.extractPathCoords(u,l?n.paramIsY:n.paramIsX):[a,f],c=p.aggNums(Math.max,null,M),i=p.aggNums(Math.min,null,M),d=i<0?Math.abs(i)+m:m,x=c>0?c+m:m;return{ppad:m,ppadplus:h?d:x,ppadminus:h?x:d}}else return{ppad:m}}function r(t,s,a,f,u){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(s!==void 0)return[l(s),l(a)];if(f){var m=1/0,h=-1/0,M=f.match(n.segmentRE),c,i,d,x,A;for(t.type==="date"&&(l=C.decodeDate(l)),c=0;c<M.length;c++)i=M[c],d=u[i.charAt(0)].drawn,d!==void 0&&(x=M[c].substr(1).match(n.paramRE),!(!x||x.length<d)&&(A=l(x[d]),A<m&&(m=A),A>h&&(h=A)));if(h>=m)return[m,h]}}},85448:function(H){H.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(H,U,e){var p=e(3400),L=e(54460),n=e(51272),C=e(46056),T=e(65152);H.exports=function(t,s){n(t,s,{name:"shapes",handleItemDefaults:g})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function g(r,t,s){function a(Z,Y){return p.coerce(r,t,C,Z,Y)}t._isShape=!0;var f=a("visible");if(f){var u=a("showlegend");u&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),p.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var l=a("path"),m=l?"path":"rect",h=a("type",m),M=h!=="path";M&&delete t.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule");var c=a("line.width");c&&(a("line.color"),a("line.dash"));for(var i=a("xsizemode"),d=a("ysizemode"),x=["x","y"],A=0;A<2;A++){var E=x[A],y=E+"anchor",S=E==="x"?i:d,w={_fullLayout:s},o,_,b,I=L.coerceRef(r,t,w,E,void 0,"paper"),D=L.getRefType(I);if(D==="range"?(o=L.getFromId(w,I),o._shapeIndices.push(t._index),b=T.rangeToShapePosition(o),_=T.shapePositionToRange(o)):_=b=p.identity,M){var N=.25,k=.75,z=E+"0",F=E+"1",O=r[z],B=r[F];r[z]=_(r[z],!0),r[F]=_(r[F],!0),S==="pixel"?(a(z,0),a(F,10)):(L.coercePosition(t,w,a,I,z,N),L.coercePosition(t,w,a,I,F,k)),t[z]=b(t[z]),t[F]=b(t[F]),r[z]=O,r[F]=B}if(S==="pixel"){var W=r[y];r[y]=_(r[y],!0),L.coercePosition(t,w,a,I,y,.25),t[y]=b(t[y]),r[y]=W}}M&&p.noneOrAll(r,t,["x0","x1","y0","y1"]);var ee=h==="line",ne,Q;if(M&&(ne=a("label.texttemplate")),ne||(Q=a("label.text")),Q||ne){a("label.textangle");var le=a("label.textposition",ee?"middle":"middle center");a("label.xanchor"),a("label.yanchor",v(ee,le)),a("label.padding"),p.coerceFont(a,"label.font",s.font)}}}},60728:function(H,U,e){var p=e(3400),L=e(54460),n=e(72736),C=e(43616),T=e(9856).readPaths,v=e(65152),g=v.getPathString,r=e(97728),t=e(84284).FROM_TL;H.exports=function(u,l,m,h){if(h.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var M;if(m.label.texttemplate){var c={};if(m.type!=="path"){var i=L.getFromId(u,m.xref),d=L.getFromId(u,m.yref);for(var x in r){var A=r[x](m,i,d);A!==void 0&&(c[x]=A)}}M=p.texttemplateStringForShapes(m.label.texttemplate,{},u._fullLayout._d3locale,c)}else M=m.label.text;var E={"data-index":l},y=m.label.font,S={"data-notex":1},w=h.append("g").attr(E).classed("shape-label",!0),o=w.append("text").attr(S).classed("shape-label-text",!0).text(M),_,b,I,D;if(m.path){var N=g(u,m),k=T(N,u);_=1/0,I=1/0,b=-1/0,D=-1/0;for(var z=0;z<k.length;z++)for(var F=0;F<k[z].length;F++)for(var O=k[z][F],B=1;B<O.length;B+=2){var W=O[B],ee=O[B+1];_=Math.min(_,W),b=Math.max(b,W),I=Math.min(I,ee),D=Math.max(D,ee)}}else{var ne=L.getFromId(u,m.xref),Q=L.getRefType(m.xref),le=L.getFromId(u,m.yref),Z=L.getRefType(m.yref),Y=v.getDataToPixel(u,ne,!1,Q),re=v.getDataToPixel(u,le,!0,Z);_=Y(m.x0),b=Y(m.x1),I=re(m.y0),D=re(m.y1)}var X=m.label.textangle;X==="auto"&&(m.type==="line"?X=s(_,I,b,D):X=0),o.call(function(ae){return ae.call(C.font,y).attr({}),n.convertToTspans(ae,u),ae});var q=C.bBox(o.node()),se=a(_,I,b,D,m,X,q),$=se.textx,j=se.texty,ue=se.xanchor;o.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ue],y:j,x:$,transform:"rotate("+X+","+$+","+j+")"}).call(n.positionText,$,j)}};function s(f,u,l,m){var h,M;return M=Math.abs(l-f),l>=f?h=u-m:h=m-u,-180/Math.PI*Math.atan2(h,M)}function a(f,u,l,m,h,M,c){var i=h.label.textposition,d=h.label.textangle,x=h.label.padding,A=h.type,E=Math.PI/180*M,y=Math.sin(E),S=Math.cos(E),w=h.label.xanchor,o=h.label.yanchor,_,b,I,D;if(A==="line"){i==="start"?(_=f,b=u):i==="end"?(_=l,b=m):(_=(f+l)/2,b=(u+m)/2),w==="auto"&&(i==="start"?d==="auto"?l>f?w="left":l<f?w="right":w="center":l>f?w="right":l<f?w="left":w="center":i==="end"?d==="auto"?l>f?w="right":l<f?w="left":w="center":l>f?w="left":l<f?w="right":w="center":w="center");var N={left:1,center:0,right:-1},k={bottom:-1,middle:0,top:1};if(d==="auto"){var z=k[o];I=-x*y*z,D=x*S*z}else{var F=N[w],O=k[o];I=x*F,D=x*O}_=_+I,b=b+D}else I=x+3,i.indexOf("right")!==-1?(_=Math.max(f,l)-I,w==="auto"&&(w="right")):i.indexOf("left")!==-1?(_=Math.min(f,l)+I,w==="auto"&&(w="left")):(_=(f+l)/2,w==="auto"&&(w="center")),i.indexOf("top")!==-1?b=Math.min(u,m):i.indexOf("bottom")!==-1?b=Math.max(u,m):b=(u+m)/2,D=x,o==="bottom"?b=b-D:o==="top"&&(b=b+D);var B=t[o],W=h.label.font.size,ee=c.height,ne=(ee*B-W)*y,Q=-(ee*B-W)*S;return{textx:_+ne,texty:b+Q,xanchor:w}}},55496:function(H,U,e){var p=e(3400),L=p.strTranslate,n=e(86476),C=e(72760),T=C.drawMode,v=C.selectMode,g=e(24040),r=e(76308),t=e(7e3),s=t.i000,a=t.i090,f=t.i180,u=t.i270,l=e(1936),m=l.clearOutlineControllers,h=e(9856),M=h.pointsOnRectangle,c=h.pointsOnEllipse,i=h.writePaths,d=e(93940).newShapes,x=e(93940).createShapeObj,A=e(5968),E=e(60728);H.exports=function o(_,b,I,D){D||(D=0);var N=I.gd;function k(){o(_,b,I,D++),(c(_[0])||I.hasText)&&z({redrawing:!0})}function z(xe){var Re={};I.isActiveShape!==void 0&&(I.isActiveShape=!1,Re=d(b,I)),I.isActiveSelection!==void 0&&(I.isActiveSelection=!1,Re=A(b,I),N._fullLayout._reselect=!0),Object.keys(Re).length&&g.call((xe||{}).redrawing?"relayout":"_guiRelayout",N,Re)}var F=N._fullLayout,O=F._zoomlayer,B=I.dragmode,W=T(B),ee=v(B);(W||ee)&&(N._fullLayout._outlining=!0),m(N),b.attr("d",i(_));var ne,Q,le,Z,Y;if(!D&&(I.isActiveShape||I.isActiveSelection)){Y=y([],_);var re=O.append("g").attr("class","outline-controllers");ce(re),Le()}if(W&&I.hasText){var X=O.select(".label-temp"),q=x(b,I,I.dragmode);E(N,"label-temp",q,X)}function se(xe){le=+xe.srcElement.getAttribute("data-i"),Z=+xe.srcElement.getAttribute("data-j"),ne[le][Z].moveFn=$}function $(xe,Re){if(_.length){var He=Y[le][Z][1],Ve=Y[le][Z][2],Fe=_[le],We=Fe.length;if(M(Fe)){var ut=xe,ht=Re;if(I.isActiveSelection){var rt=S(Fe,Z);rt[1]===Fe[Z][1]?ht=0:ut=0}for(var tt=0;tt<We;tt++)if(tt!==Z){var vt=Fe[tt];vt[1]===Fe[Z][1]&&(vt[1]=He+ut),vt[2]===Fe[Z][2]&&(vt[2]=Ve+ht)}if(Fe[Z][1]=He+ut,Fe[Z][2]=Ve+ht,!M(Fe))for(var pt=0;pt<We;pt++)for(var mt=0;mt<Fe[pt].length;mt++)Fe[pt][mt]=Y[le][pt][mt]}else Fe[Z][1]=He+xe,Fe[Z][2]=Ve+Re;k()}}function j(){z()}function ue(){if(_.length&&_[le]&&_[le].length){for(var xe=[],Re=0;Re<_[le].length;Re++)Re!==Z&&xe.push(_[le][Re]);xe.length>1&&!(xe.length===2&&xe[1][0]==="Z")&&(Z===0&&(xe[0][0]="M"),_[le]=xe,k(),z())}}function ae(xe,Re){if(xe===2){le=+Re.srcElement.getAttribute("data-i"),Z=+Re.srcElement.getAttribute("data-j");var He=_[le];!M(He)&&!c(He)&&ue()}}function ce(xe){ne=[];for(var Re=0;Re<_.length;Re++){var He=_[Re],Ve=M(He),Fe=!Ve&&c(He);ne[Re]=[];for(var We=He.length,ut=0;ut<We;ut++)if(He[ut][0]!=="Z"&&!(Fe&&ut!==s&&ut!==a&&ut!==f&&ut!==u)){var ht=Ve&&I.isActiveSelection,rt;ht&&(rt=S(He,ut));var tt=He[ut][1],vt=He[ut][2],pt=xe.append(ht?"rect":"circle").attr("data-i",Re).attr("data-j",ut).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ht){var mt=rt[1]-tt,wt=rt[2]-vt,Lt=wt?5:Math.max(Math.min(25,Math.abs(mt)-5),5),at=mt?5:Math.max(Math.min(25,Math.abs(wt)-5),5);pt.classed(wt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Lt).attr("height",at).attr("x",tt-Lt/2).attr("y",vt-at/2).attr("transform",L(mt/2,wt/2))}else pt.classed("cursor-grab",!0).attr("r",5).attr("cx",tt).attr("cy",vt);ne[Re][ut]={element:pt.node(),gd:N,prepFn:se,doneFn:j,clickFn:ae},n.init(ne[Re][ut])}}}function ye(xe,Re){if(_.length)for(var He=0;He<_.length;He++)for(var Ve=0;Ve<_[He].length;Ve++)for(var Fe=0;Fe+2<_[He][Ve].length;Fe+=2)_[He][Ve][Fe+1]=Y[He][Ve][Fe+1]+xe,_[He][Ve][Fe+2]=Y[He][Ve][Fe+2]+Re}function Ce(xe,Re){ye(xe,Re),k()}function Ae(xe){le=+xe.srcElement.getAttribute("data-i"),le||(le=0),Q[le].moveFn=Ce}function Ie(){z()}function Te(xe){xe===2&&w(N)}function Le(){if(Q=[],!!_.length){var xe=0;Q[xe]={element:b[0][0],gd:N,prepFn:Ae,doneFn:Ie,clickFn:Te},n.init(Q[xe])}}};function y(o,_){for(var b=0;b<_.length;b++){var I=_[b];o[b]=[];for(var D=0;D<I.length;D++){o[b][D]=[];for(var N=0;N<I[D].length;N++)o[b][D][N]=I[D][N]}}return o}function S(o,_){var b=o[_][1],I=o[_][2],D=o.length,N,k,z;return N=(_+1)%D,k=o[N][1],z=o[N][2],k===b&&z===I&&(N=(_+2)%D,k=o[N][1],z=o[N][2]),[N,k,z]}function w(o){if(v(o._fullLayout.dragmode)){m(o);var _=o._fullLayout._activeSelectionIndex,b=(o.layout||{}).selections||[];if(_<b.length){for(var I=[],D=0;D<b.length;D++)D!==_&&I.push(b[D]);delete o._fullLayout._activeSelectionIndex;var N=o._fullLayout.selections[_];o._fullLayout._deselect={xref:N.xref,yref:N.yref},g.call("_guiRelayout",o,{selections:I})}}}},4016:function(H,U,e){var p=e(33428),L=e(24040),n=e(3400),C=e(54460),T=e(9856).readPaths,v=e(55496),g=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),s=e(43616),a=e(31780).arrayEditor,f=e(86476),u=e(93972),l=e(85448),m=e(65152),h=m.getPathString;H.exports={draw:M,drawOne:d,eraseActiveShape:w,drawLabel:g};function M(o){var _=o._fullLayout;_._shapeUpperLayer.selectAll("path").remove(),_._shapeLowerLayer.selectAll("path").remove(),_._shapeUpperLayer.selectAll("text").remove(),_._shapeLowerLayer.selectAll("text").remove();for(var b in _._plots){var I=_._plots[b].shapelayer;I&&(I.selectAll("path").remove(),I.selectAll("text").remove())}for(var D=0;D<_.shapes.length;D++)_.shapes[D].visible===!0&&d(o,D)}function c(o){return!!o._fullLayout._outlining}function i(o){return!o._context.edits.shapePosition}function d(o,_){o._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+_+'"]').remove();var b=m.makeShapesOptionsAndPlotinfo(o,_),I=b.options,D=b.plotinfo;if(!I._input||I.visible!==!0)return;if(I.layer!=="below")k(o._fullLayout._shapeUpperLayer);else if(I.xref==="paper"||I.yref==="paper")k(o._fullLayout._shapeLowerLayer);else if(D._hadPlotinfo){var N=D.mainplotinfo||D;k(N.shapelayer)}else k(o._fullLayout._shapeLowerLayer);function k(z){var F=h(o,I),O={"data-index":_,"fill-rule":I.fillrule,d:F},B=I.opacity,W=I.fillcolor,ee=I.line.width?I.line.color:"rgba(0,0,0,0)",ne=I.line.width,Q=I.line.dash;!ne&&I.editable===!0&&(ne=5,Q="solid");var le=F[F.length-1]!=="Z",Z=i(o)&&I.editable&&o._fullLayout._activeShapeIndex===_;Z&&(W=le?"rgba(0,0,0,0)":o._fullLayout.activeshape.fillcolor,B=o._fullLayout.activeshape.opacity);var Y=z.append("g").classed("shape-group",!0).attr({"data-index":_}),re=Y.append("path").attr(O).style("opacity",B).call(t.stroke,ee).call(t.fill,W).call(s.dashLine,Q,ne);x(Y,o,I),g(o,_,I,Y);var X;if((Z||o._context.edits.shapePosition)&&(X=a(o.layout,"shapes",I)),Z){re.style({cursor:"move"});var q={element:re.node(),plotinfo:D,gd:o,editHelpers:X,hasText:I.label.text||I.label.texttemplate,isActiveShape:!0},se=T(F,o);v(se,re,q)}else o._context.edits.shapePosition?A(o,re,I,_,z,X):I.editable===!0&&re.style("pointer-events",le||t.opacity(W)*B<=.5?"stroke":"all");re.node().addEventListener("click",function(){return y(o,re)})}}function x(o,_,b){var I=(b.xref+b.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(o,I?"clip"+_._fullLayout._uid+I:null,_)}function A(o,_,b,I,D,N){var k=10,z=10,F=b.xsizemode==="pixel",O=b.ysizemode==="pixel",B=b.type==="line",W=b.type==="path",ee=N.modifyItem,ne,Q,le,Z,Y,re,X,q,se,$,j,ue,ae,ce,ye,Ce=p.select(_.node().parentNode),Ae=C.getFromId(o,b.xref),Ie=C.getRefType(b.xref),Te=C.getFromId(o,b.yref),Le=C.getRefType(b.yref),xe=m.getDataToPixel(o,Ae,!1,Ie),Re=m.getDataToPixel(o,Te,!0,Le),He=m.getPixelToData(o,Ae,!1,Ie),Ve=m.getPixelToData(o,Te,!0,Le),Fe=ht(),We={element:Fe.node(),gd:o,prepFn:vt,doneFn:pt,clickFn:mt},ut;f.init(We),Fe.node().onmousemove=tt;function ht(){return B?rt():_}function rt(){var Je=10,Ye=Math.max(b.line.width,Je),ke=D.append("g").attr("data-index",I).attr("drag-helper",!0);ke.append("path").attr("d",_.attr("d")).style({cursor:"move","stroke-width":Ye,"stroke-opacity":"0"});var be={"fill-opacity":"0"},me=Math.max(Ye/2,Je);return ke.append("circle").attr({"data-line-point":"start-point",cx:F?xe(b.xanchor)+b.x0:xe(b.x0),cy:O?Re(b.yanchor)-b.y0:Re(b.y0),r:me}).style(be).classed("cursor-grab",!0),ke.append("circle").attr({"data-line-point":"end-point",cx:F?xe(b.xanchor)+b.x1:xe(b.x1),cy:O?Re(b.yanchor)-b.y1:Re(b.y1),r:me}).style(be).classed("cursor-grab",!0),ke}function tt(Je){if(c(o)){ut=null;return}if(B)Je.target.tagName==="path"?ut="move":ut=Je.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ye=We.element.getBoundingClientRect(),ke=Ye.right-Ye.left,be=Ye.bottom-Ye.top,me=Je.clientX-Ye.left,_e=Je.clientY-Ye.top,Ee=!W&&ke>k&&be>z&&!Je.shiftKey?f.getCursor(me/ke,1-_e/be):"move";u(_,Ee),ut=Ee.split("-")[0]}}function vt(Je){c(o)||(F&&(Y=xe(b.xanchor)),O&&(re=Re(b.yanchor)),b.type==="path"?ye=b.path:(ne=F?b.x0:xe(b.x0),Q=O?b.y0:Re(b.y0),le=F?b.x1:xe(b.x1),Z=O?b.y1:Re(b.y1)),ne<le?(se=ne,ae="x0",$=le,ce="x1"):(se=le,ae="x1",$=ne,ce="x0"),!O&&Q<Z||O&&Q>Z?(X=Q,j="y0",q=Z,ue="y1"):(X=Z,j="y1",q=Q,ue="y0"),tt(Je),at(D,b),Ze(_,b,o),We.moveFn=ut==="move"?wt:Lt,We.altKey=Je.altKey)}function pt(){c(o)||(u(_),Oe(D),x(_,o,b),L.call("_guiRelayout",o,N.getUpdateObj()))}function mt(){c(o)||Oe(D)}function wt(Je,Ye){if(b.type==="path"){var ke=function(_e){return _e},be=ke,me=ke;F?ee("xanchor",b.xanchor=He(Y+Je)):(be=function(Ee){return He(xe(Ee)+Je)},Ae&&Ae.type==="date"&&(be=m.encodeDate(be))),O?ee("yanchor",b.yanchor=Ve(re+Ye)):(me=function(Ee){return Ve(Re(Ee)+Ye)},Te&&Te.type==="date"&&(me=m.encodeDate(me))),ee("path",b.path=E(ye,be,me))}else F?ee("xanchor",b.xanchor=He(Y+Je)):(ee("x0",b.x0=He(ne+Je)),ee("x1",b.x1=He(le+Je))),O?ee("yanchor",b.yanchor=Ve(re+Ye)):(ee("y0",b.y0=Ve(Q+Ye)),ee("y1",b.y1=Ve(Z+Ye)));_.attr("d",h(o,b)),at(D,b),g(o,I,b,Ce)}function Lt(Je,Ye){if(W){var ke=function(Tt){return Tt},be=ke,me=ke;F?ee("xanchor",b.xanchor=He(Y+Je)):(be=function($t){return He(xe($t)+Je)},Ae&&Ae.type==="date"&&(be=m.encodeDate(be))),O?ee("yanchor",b.yanchor=Ve(re+Ye)):(me=function($t){return Ve(Re($t)+Ye)},Te&&Te.type==="date"&&(me=m.encodeDate(me))),ee("path",b.path=E(ye,be,me))}else if(B){if(ut==="resize-over-start-point"){var _e=ne+Je,Ee=O?Q-Ye:Q+Ye;ee("x0",b.x0=F?_e:He(_e)),ee("y0",b.y0=O?Ee:Ve(Ee))}else if(ut==="resize-over-end-point"){var Be=le+Je,je=O?Z-Ye:Z+Ye;ee("x1",b.x1=F?Be:He(Be)),ee("y1",b.y1=O?je:Ve(je))}}else{var nt=function(Tt){return ut.indexOf(Tt)!==-1},dt=nt("n"),xt=nt("s"),Kt=nt("w"),Jt=nt("e"),St=dt?X+Ye:X,Ft=xt?q+Ye:q,rr=Kt?se+Je:se,_r=Jt?$+Je:$;O&&(dt&&(St=X-Ye),xt&&(Ft=q-Ye)),(!O&&Ft-St>z||O&&St-Ft>z)&&(ee(j,b[j]=O?St:Ve(St)),ee(ue,b[ue]=O?Ft:Ve(Ft))),_r-rr>k&&(ee(ae,b[ae]=F?rr:He(rr)),ee(ce,b[ce]=F?_r:He(_r)))}_.attr("d",h(o,b)),at(D,b),g(o,I,b,Ce)}function at(Je,Ye){(F||O)&&ke();function ke(){var be=Ye.type!=="path",me=Je.selectAll(".visual-cue").data([0]),_e=1;me.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":_e}).classed("visual-cue",!0);var Ee=xe(F?Ye.xanchor:n.midRange(be?[Ye.x0,Ye.x1]:m.extractPathCoords(Ye.path,l.paramIsX))),Be=Re(O?Ye.yanchor:n.midRange(be?[Ye.y0,Ye.y1]:m.extractPathCoords(Ye.path,l.paramIsY)));if(Ee=m.roundPositionForSharpStrokeRendering(Ee,_e),Be=m.roundPositionForSharpStrokeRendering(Be,_e),F&&O){var je="M"+(Ee-1-_e)+","+(Be-1-_e)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";me.attr("d",je)}else if(F){var nt="M"+(Ee-1-_e)+","+(Be-9-_e)+"v18 h2 v-18 Z";me.attr("d",nt)}else{var dt="M"+(Ee-9-_e)+","+(Be-1-_e)+"h18 v2 h-18 Z";me.attr("d",dt)}}}function Oe(Je){Je.selectAll(".visual-cue").remove()}function Ze(Je,Ye,ke){var be=Ye.xref,me=Ye.yref,_e=C.getFromId(ke,be),Ee=C.getFromId(ke,me),Be="";be!=="paper"&&!_e.autorange&&(Be+=be),me!=="paper"&&!Ee.autorange&&(Be+=me),s.setClipUrl(Je,Be?"clip"+ke._fullLayout._uid+Be:null,ke)}}function E(o,_,b){return o.replace(l.segmentRE,function(I){var D=0,N=I.charAt(0),k=l.paramIsX[N],z=l.paramIsY[N],F=l.numParams[N],O=I.substr(1).replace(l.paramRE,function(B){return D>=F||(k[D]?B=_(B):z[D]&&(B=b(B)),D++),B});return N+O})}function y(o,_){if(i(o)){var b=_.node(),I=+b.getAttribute("data-index");if(I>=0){if(I===o._fullLayout._activeShapeIndex){S(o);return}o._fullLayout._activeShapeIndex=I,o._fullLayout._deactivateShape=S,M(o)}}}function S(o){if(i(o)){var _=o._fullLayout._activeShapeIndex;_>=0&&(r(o),delete o._fullLayout._activeShapeIndex,M(o))}}function w(o){if(i(o)){r(o);var _=o._fullLayout._activeShapeIndex,b=(o.layout||{}).shapes||[];if(_<b.length){for(var I=[],D=0;D<b.length;D++)D!==_&&I.push(b[D]);return delete o._fullLayout._activeShapeIndex,L.call("_guiRelayout",o,{shapes:I})}}}},92872:function(H,U,e){var p=e(67824).overrideAll,L=e(45464),n=e(25376),C=e(98192).u,T=e(92880).extendFlat,v=e(21776).ye,g=e(97728);H.exports=p({newshape:{visible:T({},L.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:T({},L.legend,{}),legendgroup:T({},L.legendgroup,{}),legendgrouptitle:{text:T({},L.legendgrouptitle.text,{}),font:n({})},legendrank:T({},L.legendrank,{}),legendwidth:T({},L.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:T({},C,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:T({},L.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(g)}),font:n({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(H){var U=32;H.exports={CIRCLE_SIDES:U,i000:0,i090:U/4,i180:U/2,i270:U/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(H,U,e){var p=e(76308),L=e(3400);function n(C,T){return C?"bottom":T.indexOf("top")!==-1?"top":T.indexOf("bottom")!==-1?"bottom":"middle"}H.exports=function(T,v,g){g("newshape.visible"),g("newshape.name"),g("newshape.showlegend"),g("newshape.legend"),g("newshape.legendwidth"),g("newshape.legendgroup"),g("newshape.legendgrouptitle.text"),L.coerceFont(g,"newshape.legendgrouptitle.font"),g("newshape.legendrank"),g("newshape.drawdirection"),g("newshape.layer"),g("newshape.fillcolor"),g("newshape.fillrule"),g("newshape.opacity");var r=g("newshape.line.width");if(r){var t=(T||{}).plot_bgcolor||"#FFF";g("newshape.line.color",p.contrast(t)),g("newshape.line.dash")}var s=T.dragmode==="drawline",a=g("newshape.label.text"),f=g("newshape.label.texttemplate");if(a||f){g("newshape.label.textangle");var u=g("newshape.label.textposition",s?"middle":"middle center");g("newshape.label.xanchor"),g("newshape.label.yanchor",n(s,u)),g("newshape.label.padding"),L.coerceFont(g,"newshape.label.font",v.font)}g("activeshape.fillcolor"),g("activeshape.opacity")}},9856:function(H,U,e){var p=e(21984),L=e(7e3),n=L.CIRCLE_SIDES,C=L.SQRT2,T=e(5840),v=T.p2r,g=T.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];U.writePaths=function(f){var u=f.length;if(!u)return"M0,0Z";for(var l="",m=0;m<u;m++)for(var h=f[m].length,M=0;M<h;M++){var c=f[m][M][0];if(c==="Z")l+="Z";else for(var i=f[m][M].length,d=0;d<i;d++){var x=d;c==="Q"||c==="S"?x=t[d]:c==="C"&&(x=r[d]),l+=f[m][M][x],d>0&&d<i-1&&(l+=",")}}return l},U.readPaths=function(f,u,l,m){var h=p(f),M=[],c=-1,i=function(){c++,M[c]=[]},d,x=0,A=0,E,y,S=function(){E=x,y=A};S();for(var w=0;w<h.length;w++){var o=[],_,b,I,D,N=h[w][0],k=N;switch(N){case"M":i(),x=+h[w][1],A=+h[w][2],o.push([k,x,A]),S();break;case"Q":case"S":_=+h[w][1],I=+h[w][2],x=+h[w][3],A=+h[w][4],o.push([k,x,A,_,I]);break;case"C":_=+h[w][1],I=+h[w][2],b=+h[w][3],D=+h[w][4],x=+h[w][5],A=+h[w][6],o.push([k,x,A,_,I,b,D]);break;case"T":case"L":x=+h[w][1],A=+h[w][2],o.push([k,x,A]);break;case"H":k="L",x=+h[w][1],o.push([k,x,A]);break;case"V":k="L",A=+h[w][1],o.push([k,x,A]);break;case"A":k="L";var z=+h[w][1],F=+h[w][2];+h[w][4]||(z=-z,F=-F);var O=x-z,B=A;for(d=1;d<=n/2;d++){var W=2*Math.PI*d/n;o.push([k,O+z*Math.cos(W),B+F*Math.sin(W)])}break;case"Z":(x!==E||A!==y)&&(x=E,A=y,o.push([k,x,A]));break}for(var ee=(l||{}).domain,ne=u._fullLayout._size,Q=l&&l.xsizemode==="pixel",le=l&&l.ysizemode==="pixel",Z=m===!1,Y=0;Y<o.length;Y++){for(d=0;d+2<7;d+=2){var re=o[Y][d+1],X=o[Y][d+2];re===void 0||X===void 0||(x=re,A=X,l&&(l.xaxis&&l.xaxis.p2r?(Z&&(re-=l.xaxis._offset),Q?re=g(l.xaxis,l.xanchor)+re:re=v(l.xaxis,re)):(Z&&(re-=ne.l),ee?re=ee.x[0]+re/ne.w:re=re/ne.w),l.yaxis&&l.yaxis.p2r?(Z&&(X-=l.yaxis._offset),le?X=g(l.yaxis,l.yanchor)-X:X=v(l.yaxis,X)):(Z&&(X-=ne.t),ee?X=ee.y[1]-X/ne.h:X=1-X/ne.h)),o[Y][d+1]=re,o[Y][d+2]=X)}M[c].push(o[Y].slice())}}return M};function s(f,u){return Math.abs(f-u)<=1e-6}function a(f,u){var l=u[1]-f[1],m=u[2]-f[2];return Math.sqrt(l*l+m*m)}U.pointsOnRectangle=function(f){var u=f.length;if(u!==5)return!1;for(var l=1;l<3;l++){var m=f[0][l]-f[1][l],h=f[3][l]-f[2][l];if(!s(m,h))return!1;var M=f[0][l]-f[3][l],c=f[1][l]-f[2][l];if(!s(M,c))return!1}return!s(f[0][1],f[1][1])&&!s(f[0][1],f[3][1])?!1:!!(a(f[0],f[1])*a(f[0],f[3]))},U.pointsOnEllipse=function(f){var u=f.length;if(u!==n+1)return!1;u=n;for(var l=0;l<u;l++){var m=(u*2-l)%u,h=(u/2+m)%u,M=(u/2+l)%u;if(!s(a(f[l],f[M]),a(f[m],f[h])))return!1}return!0},U.handleEllipse=function(f,u,l){if(!f)return[u,l];var m=U.ellipseOver({x0:u[0],y0:u[1],x1:l[0],y1:l[1]}),h=(m.x1+m.x0)/2,M=(m.y1+m.y0)/2,c=(m.x1-m.x0)/2,i=(m.y1-m.y0)/2;c||(c=i=i/C),i||(i=c=c/C);for(var d=[],x=0;x<n;x++){var A=x*2*Math.PI/n;d.push([h+c*Math.cos(A),M+i*Math.sin(A)])}return d},U.ellipseOver=function(f){var u=f.x0,l=f.y0,m=f.x1,h=f.y1,M=m-u,c=h-l;u-=M,l-=c;var i=(u+m)/2,d=(l+h)/2,x=C;return M*=x,c*=x,{x0:i-M,y0:d-c,x1:i+M,y1:d+c}},U.fixDatesForPaths=function(f,u,l){var m=u.type==="date",h=l.type==="date";if(!m&&!h)return f;for(var M=0;M<f.length;M++)for(var c=0;c<f[M].length;c++)for(var i=0;i+2<f[M][c].length;i+=2)m&&(f[M][c][i+1]=f[M][c][i+1].replace(" ","_")),h&&(f[M][c][i+2]=f[M][c][i+2].replace(" ","_"));return f}},93940:function(H,U,e){var p=e(72760),L=p.drawMode,n=p.openMode,C=e(7e3),T=C.i000,v=C.i090,g=C.i180,r=C.i270,t=C.cos45,s=C.sin45,a=e(5840),f=a.p2r,u=a.r2p,l=e(1936),m=l.clearOutline,h=e(9856),M=h.readPaths,c=h.writePaths,i=h.ellipseOver,d=h.fixDatesForPaths;function x(E,y){if(E.length){var S=E[0][0];if(S){var w=y.gd,o=y.isActiveShape,_=y.dragmode,b=(w.layout||{}).shapes||[];if(!L(_)&&o!==void 0){var I=w._fullLayout._activeShapeIndex;if(I<b.length)switch(w._fullLayout.shapes[I].type){case"rect":_="drawrect";break;case"circle":_="drawcircle";break;case"line":_="drawline";break;case"path":var D=b[I].path||"";D[D.length-1]==="Z"?_="drawclosedpath":_="drawopenpath";break}}var N=A(E,y,_);m(w);for(var k=y.editHelpers,z=(k||{}).modifyItem,F=[],O=0;O<b.length;O++){var B=w._fullLayout.shapes[O];if(F[O]=B._input,o!==void 0&&O===w._fullLayout._activeShapeIndex){var W=N;switch(B.type){case"line":case"rect":case"circle":z("x0",W.x0),z("x1",W.x1),z("y0",W.y0),z("y1",W.y1);break;case"path":z("path",W.path);break}}}return o===void 0?(F.push(N),F):k?k.getUpdateObj():{}}}}function A(E,y,S){var w=E[0][0],o=y.gd,_=w.getAttribute("d"),b=o._fullLayout.newshape,I=y.plotinfo,D=y.isActiveShape,N=I.xaxis,k=I.yaxis,z=!!I.domain||!I.xaxis,F=!!I.domain||!I.yaxis,O=n(S),B=M(_,o,I,D),W={editable:!0,visible:b.visible,name:b.name,showlegend:b.showlegend,legend:b.legend,legendwidth:b.legendwidth,legendgroup:b.legendgroup,legendgrouptitle:{text:b.legendgrouptitle.text,font:b.legendgrouptitle.font},legendrank:b.legendrank,label:b.label,xref:z?"paper":N._id,yref:F?"paper":k._id,layer:b.layer,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};O||(W.fillcolor=b.fillcolor,W.fillrule=b.fillrule);var ee;if(B.length===1&&(ee=B[0]),ee&&ee.length===5&&S==="drawrect")W.type="rect",W.x0=ee[0][1],W.y0=ee[0][2],W.x1=ee[2][1],W.y1=ee[2][2];else if(ee&&S==="drawline")W.type="line",W.x0=ee[0][1],W.y0=ee[0][2],W.x1=ee[1][1],W.y1=ee[1][2];else if(ee&&S==="drawcircle"){W.type="circle";var ne=ee[T][1],Q=ee[v][1],le=ee[g][1],Z=ee[r][1],Y=ee[T][2],re=ee[v][2],X=ee[g][2],q=ee[r][2],se=I.xaxis&&(I.xaxis.type==="date"||I.xaxis.type==="log"),$=I.yaxis&&(I.yaxis.type==="date"||I.yaxis.type==="log");se&&(ne=u(I.xaxis,ne),Q=u(I.xaxis,Q),le=u(I.xaxis,le),Z=u(I.xaxis,Z)),$&&(Y=u(I.yaxis,Y),re=u(I.yaxis,re),X=u(I.yaxis,X),q=u(I.yaxis,q));var j=(Q+Z)/2,ue=(Y+X)/2,ae=(Z-Q+le-ne)/2,ce=(q-re+X-Y)/2,ye=i({x0:j,y0:ue,x1:j+ae*t,y1:ue+ce*s});se&&(ye.x0=f(I.xaxis,ye.x0),ye.x1=f(I.xaxis,ye.x1)),$&&(ye.y0=f(I.yaxis,ye.y0),ye.y1=f(I.yaxis,ye.y1)),W.x0=ye.x0,W.y0=ye.y0,W.x1=ye.x1,W.y1=ye.y1}else W.type="path",N&&k&&d(B,N,k),W.path=c(B),ee=null;return W}H.exports={newShapes:x,createShapeObj:A}},1936:function(H){function U(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".outline-controllers").remove()}function e(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".select-outline").remove(),p._fullLayout._outlining=!1}H.exports={clearOutlineControllers:U,clearOutline:e}},65152:function(H,U,e){var p=e(85448),L=e(3400),n=e(54460);U.rangeToShapePosition=function(T){return T.type==="log"?T.r2d:function(v){return v}},U.shapePositionToRange=function(T){return T.type==="log"?T.d2r:function(v){return v}},U.decodeDate=function(T){return function(v){return v.replace&&(v=v.replace("_"," ")),T(v)}},U.encodeDate=function(T){return function(v){return T(v).replace(" ","_")}},U.extractPathCoords=function(T,v,g){var r=[],t=T.match(p.segmentRE);return t.forEach(function(s){var a=v[s.charAt(0)].drawn;if(a!==void 0){var f=s.substr(1).match(p.paramRE);if(!(!f||f.length<a)){var u=f[a],l=g?u:L.cleanNumber(u);r.push(l)}}}),r},U.getDataToPixel=function(T,v,g,r){var t=T._fullLayout._size,s;if(v)if(r==="domain")s=function(f){return v._length*(g?1-f:f)+v._offset};else{var a=U.shapePositionToRange(v);s=function(f){return v._offset+v.r2p(a(f,!0))},v.type==="date"&&(s=U.decodeDate(s))}else g?s=function(f){return t.t+t.h*(1-f)}:s=function(f){return t.l+t.w*f};return s},U.getPixelToData=function(T,v,g,r){var t=T._fullLayout._size,s;if(v)if(r==="domain")s=function(f){var u=(f-v._offset)/v._length;return g?1-u:u};else{var a=U.rangeToShapePosition(v);s=function(f){return a(v.p2r(f-v._offset))}}else g?s=function(f){return 1-(f-t.t)/t.h}:s=function(f){return(f-t.l)/t.w};return s},U.roundPositionForSharpStrokeRendering=function(T,v){var g=Math.round(v%2)===1,r=Math.round(T);return g?r+.5:r},U.makeShapesOptionsAndPlotinfo=function(T,v){var g=T._fullLayout.shapes[v]||{},r=T._fullLayout._plots[g.xref+g.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},g.xref&&g.xref!=="paper"&&(r.xaxis=T._fullLayout[g.xref+"axis"]),g.yref&&g.yref!=="paper"&&(r.yaxis=T._fullLayout[g.yref+"axis"])),r.xsizemode=g.xsizemode,r.ysizemode=g.ysizemode,r.xanchor=g.xanchor,r.yanchor=g.yanchor,{options:g,plotinfo:r}},U.makeSelectionsOptionsAndPlotinfo=function(T,v){var g=T._fullLayout.selections[v]||{},r=T._fullLayout._plots[g.xref+g.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},g.xref&&(r.xaxis=T._fullLayout[g.xref+"axis"]),g.yref&&(r.yaxis=T._fullLayout[g.yref+"axis"])),{options:g,plotinfo:r}},U.getPathString=function(T,v){var g=v.type,r=n.getRefType(v.xref),t=n.getRefType(v.yref),s=n.getFromId(T,v.xref),a=n.getFromId(T,v.yref),f=T._fullLayout._size,u,l,m,h,M,c,i,d;if(s?r==="domain"?l=function(I){return s._offset+s._length*I}:(u=U.shapePositionToRange(s),l=function(I){return s._offset+s.r2p(u(I,!0))}):l=function(I){return f.l+f.w*I},a?t==="domain"?h=function(I){return a._offset+a._length*(1-I)}:(m=U.shapePositionToRange(a),h=function(I){return a._offset+a.r2p(m(I,!0))}):h=function(I){return f.t+f.h*(1-I)},g==="path")return s&&s.type==="date"&&(l=U.decodeDate(l)),a&&a.type==="date"&&(h=U.decodeDate(h)),C(v,l,h);if(v.xsizemode==="pixel"){var x=l(v.xanchor);M=x+v.x0,c=x+v.x1}else M=l(v.x0),c=l(v.x1);if(v.ysizemode==="pixel"){var A=h(v.yanchor);i=A-v.y0,d=A-v.y1}else i=h(v.y0),d=h(v.y1);if(g==="line")return"M"+M+","+i+"L"+c+","+d;if(g==="rect")return"M"+M+","+i+"H"+c+"V"+d+"H"+M+"Z";var E=(M+c)/2,y=(i+d)/2,S=Math.abs(E-M),w=Math.abs(y-i),o="A"+S+","+w,_=E+S+","+y,b=E+","+(y-w);return"M"+_+o+" 0 1,1 "+b+o+" 0 0,1 "+_+"Z"};function C(T,v,g){var r=T.path,t=T.xsizemode,s=T.ysizemode,a=T.xanchor,f=T.yanchor;return r.replace(p.segmentRE,function(u){var l=0,m=u.charAt(0),h=p.paramIsX[m],M=p.paramIsY[m],c=p.numParams[m],i=u.substr(1).replace(p.paramRE,function(d){return h[l]?t==="pixel"?d=v(a)+Number(d):d=v(d):M[l]&&(s==="pixel"?d=g(f)-Number(d):d=g(d)),l++,l>c&&(d="X"),d});return l>c&&(i=i.replace(/[\s,]*X.*/,""),L.log("Ignoring extra params in segment "+u)),m+i})}},41592:function(H,U,e){var p=e(4016);H.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:p.draw,drawOne:p.drawOne}},97728:function(H){function U(u,l){return l?l.d2l(u):u}function e(u,l){return l?l.l2d(u):u}function p(u){return u.x0}function L(u){return u.x1}function n(u){return u.y0}function C(u){return u.y1}function T(u,l){return U(u.x1,l)-U(u.x0,l)}function v(u,l,m){return U(u.y1,m)-U(u.y0,m)}function g(u,l){return Math.abs(T(u,l))}function r(u,l,m){return Math.abs(v(u,l,m))}function t(u,l,m){return u.type!=="line"?void 0:Math.sqrt(Math.pow(T(u,l),2)+Math.pow(v(u,l,m),2))}function s(u,l){return e((U(u.x1,l)+U(u.x0,l))/2,l)}function a(u,l,m){return e((U(u.y1,m)+U(u.y0,m))/2,m)}function f(u,l,m){return u.type!=="line"?void 0:v(u,l,m)/T(u,l)}H.exports={x0:p,x1:L,y0:n,y1:C,slope:f,dx:T,dy:v,width:g,height:r,length:t,xcenter:s,ycenter:a}},89861:function(H,U,e){var p=e(25376),L=e(66741),n=e(92880).extendDeepAll,C=e(67824).overrideAll,T=e(85656),v=e(31780).templatedArray,g=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});H.exports=C(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(L({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:T.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:g.gripBgActiveColor},bgcolor:{valType:"color",dflt:g.railBgColor},bordercolor:{valType:"color",dflt:g.railBorderColor},borderwidth:{valType:"number",min:0,dflt:g.railBorderWidth},ticklen:{valType:"number",min:0,dflt:g.tickLength},tickcolor:{valType:"color",dflt:g.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:g.minorTickLength}}),"arraydraw","from-root")},60876:function(H){H.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(H,U,e){var p=e(3400),L=e(51272),n=e(89861),C=e(60876),T=C.name,v=n.steps;H.exports=function(s,a){L(s,a,{name:T,handleItemDefaults:g})};function g(t,s,a){function f(d,x){return p.coerce(t,s,n,d,x)}for(var u=L(t,s,{name:"steps",handleItemDefaults:r}),l=0,m=0;m<u.length;m++)u[m].visible&&l++;var h;if(l<2?h=s.visible=!1:h=f("visible"),!!h){s._stepCount=l;var M=s._visibleSteps=p.filterVisible(u),c=f("active");(u[c]||{}).visible||(s.active=M[0]._index),f("x"),f("y"),p.noneOrAll(t,s,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),p.coerceFont(f,"font",a.font);var i=f("currentvalue.visible");i&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),p.coerceFont(f,"currentvalue.font",s.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function r(t,s){function a(l,m){return p.coerce(t,s,v,l,m)}var f;if(t.method!=="skip"&&!Array.isArray(t.args)?f=s.visible=!1:f=a("visible"),f){a("method"),a("args");var u=a("label","step-"+s._index);a("value",u),a("execute")}}},79664:function(H,U,e){var p=e(33428),L=e(7316),n=e(76308),C=e(43616),T=e(3400),v=T.strTranslate,g=e(72736),r=e(31780).arrayEditor,t=e(60876),s=e(84284),a=s.LINE_SPACING,f=s.FROM_TL,u=s.FROM_BR;H.exports=function(z){var F=z._context.staticPlot,O=z._fullLayout,B=m(O,z),W=O._infolayer.selectAll("g."+t.containerClassName).data(B.length>0?[0]:[]);W.enter().append("g").classed(t.containerClassName,!0).style("cursor",F?null:"ew-resize");function ee(Z){Z._commandObserver&&(Z._commandObserver.remove(),delete Z._commandObserver),L.autoMargin(z,l(Z))}if(W.exit().each(function(){p.select(this).selectAll("g."+t.groupClassName).each(ee)}).remove(),B.length!==0){var ne=W.selectAll("g."+t.groupClassName).data(B,h);ne.enter().append("g").classed(t.groupClassName,!0),ne.exit().each(ee).remove();for(var Q=0;Q<B.length;Q++){var le=B[Q];M(z,le)}ne.each(function(Z){var Y=p.select(this);o(Z),L.manageCommandObserver(z,Z,Z._visibleSteps,function(re){var X=Y.data()[0];X.active!==re.index&&(X._dragging||y(z,Y,X,re.index,!1,!0))}),c(z,p.select(this),Z)})}};function l(k){return t.autoMarginIdRoot+k._index}function m(k,z){for(var F=k[t.name],O=[],B=0;B<F.length;B++){var W=F[B];W.visible&&(W._gd=z,O.push(W))}return O}function h(k){return k._index}function M(k,z){var F=C.tester.selectAll("g."+t.labelGroupClass).data(z._visibleSteps);F.enter().append("g").classed(t.labelGroupClass,!0);var O=0,B=0;F.each(function(q){var se=p.select(this),$=x(se,{step:q},z),j=$.node();if(j){var ue=C.bBox(j);B=Math.max(B,ue.height),O=Math.max(O,ue.width)}}),F.remove();var W=z._dims={};W.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var ee=k._fullLayout._size;W.lx=ee.l+ee.w*z.x,W.ly=ee.t+ee.h*(1-z.y),z.lenmode==="fraction"?W.outerLength=Math.round(ee.w*z.len):W.outerLength=z.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-z.pad.l-z.pad.r);var ne=W.inputAreaLength-2*t.stepInset,Q=ne/(z._stepCount-1),le=O+t.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(le/Q)),W.labelHeight=B,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,z.currentvalue.visible){var Z=C.tester.append("g");F.each(function(q){var se=i(Z,z,q.label),$=se.node()&&C.bBox(se.node())||{width:0,height:0},j=g.lineCount(se);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil($.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil($.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,j)}),W.currentValueTotalHeight=W.currentValueHeight+z.currentvalue.offset,Z.remove()}W.height=W.currentValueTotalHeight+t.tickOffset+z.ticklen+t.labelOffset+W.labelHeight+z.pad.t+z.pad.b;var Y="left";T.isRightAnchor(z)&&(W.lx-=W.outerLength,Y="right"),T.isCenterAnchor(z)&&(W.lx-=W.outerLength/2,Y="center");var re="top";T.isBottomAnchor(z)&&(W.ly-=W.height,re="bottom"),T.isMiddleAnchor(z)&&(W.ly-=W.height/2,re="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var X={y:z.y,b:W.height*u[re],t:W.height*f[re]};z.lenmode==="fraction"?(X.l=0,X.xl=z.x-z.len*f[Y],X.r=0,X.xr=z.x+z.len*u[Y]):(X.x=z.x,X.l=W.outerLength*f[Y],X.r=W.outerLength*u[Y]),L.autoMargin(k,l(z),X)}function c(k,z,F){(F.steps[F.active]||{}).visible||(F.active=F._visibleSteps[0]._index),z.call(i,F).call(N,F).call(A,F).call(w,F).call(D,k,F).call(d,k,F);var O=F._dims;C.setTranslate(z,O.lx+F.pad.l,O.ly+F.pad.t),z.call(_,F,!1),z.call(i,F)}function i(k,z,F){if(z.currentvalue.visible){var O=z._dims,B,W;switch(z.currentvalue.xanchor){case"right":B=O.inputAreaLength-t.currentValueInset-O.currentValueMaxWidth,W="left";break;case"center":B=O.inputAreaLength*.5,W="middle";break;default:B=t.currentValueInset,W="left"}var ee=T.ensureSingle(k,"text",t.labelClass,function(re){re.attr({"text-anchor":W,"data-notex":1})}),ne=z.currentvalue.prefix?z.currentvalue.prefix:"";if(typeof F=="string")ne+=F;else{var Q=z.steps[z.active].label,le=z._gd._fullLayout._meta;le&&(Q=T.templateString(Q,le)),ne+=Q}z.currentvalue.suffix&&(ne+=z.currentvalue.suffix),ee.call(C.font,z.currentvalue.font).text(ne).call(g.convertToTspans,z._gd);var Z=g.lineCount(ee),Y=(O.currentValueMaxLines+1-Z)*z.currentvalue.font.size*a;return g.positionText(ee,B,Y),ee}}function d(k,z,F){var O=T.ensureSingle(k,"rect",t.gripRectClass,function(B){B.call(S,z,k,F).style("pointer-events","all")});O.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(n.stroke,F.bordercolor).call(n.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function x(k,z,F){var O=T.ensureSingle(k,"text",t.labelClass,function(ee){ee.attr({"text-anchor":"middle","data-notex":1})}),B=z.step.label,W=F._gd._fullLayout._meta;return W&&(B=T.templateString(B,W)),O.call(C.font,F.font).text(B).call(g.convertToTspans,F._gd),O}function A(k,z){var F=T.ensureSingle(k,"g",t.labelsClass),O=z._dims,B=F.selectAll("g."+t.labelGroupClass).data(O.labelSteps);B.enter().append("g").classed(t.labelGroupClass,!0),B.exit().remove(),B.each(function(W){var ee=p.select(this);ee.call(x,W,z),C.setTranslate(ee,b(z,W.fraction),t.tickOffset+z.ticklen+z.font.size*a+t.labelOffset+O.currentValueTotalHeight)})}function E(k,z,F,O,B){var W=Math.round(O*(F._stepCount-1)),ee=F._visibleSteps[W]._index;ee!==F.active&&y(k,z,F,ee,!0,B)}function y(k,z,F,O,B,W){var ee=F.active;F.active=O,r(k.layout,t.name,F).applyUpdate("active",O);var ne=F.steps[F.active];z.call(_,F,W),z.call(i,F),k.emit("plotly_sliderchange",{slider:F,step:F.steps[F.active],interaction:B,previousActive:ee}),ne&&ne.method&&B&&(z._nextMethod?(z._nextMethod.step=ne,z._nextMethod.doCallback=B,z._nextMethod.doTransition=W):(z._nextMethod={step:ne,doCallback:B,doTransition:W},z._nextMethodRaf=window.requestAnimationFrame(function(){var Q=z._nextMethod.step;Q.method&&(Q.execute&&L.executeAPICommand(k,Q.method,Q.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function S(k,z,F){if(z._context.staticPlot)return;var O=F.node(),B=p.select(z);function W(){return F.data()[0]}function ee(){var ne=W();z.emit("plotly_sliderstart",{slider:ne});var Q=F.select("."+t.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),Q.call(n.fill,ne.activebgcolor);var le=I(ne,p.mouse(O)[0]);E(z,F,ne,le,!0),ne._dragging=!0;function Z(){var re=W(),X=I(re,p.mouse(O)[0]);E(z,F,re,X,!1)}B.on("mousemove",Z),B.on("touchmove",Z);function Y(){var re=W();re._dragging=!1,Q.call(n.fill,re.bgcolor),B.on("mouseup",null),B.on("mousemove",null),B.on("touchend",null),B.on("touchmove",null),z.emit("plotly_sliderend",{slider:re,step:re.steps[re.active]})}B.on("mouseup",Y),B.on("touchend",Y)}k.on("mousedown",ee),k.on("touchstart",ee)}function w(k,z){var F=k.selectAll("rect."+t.tickRectClass).data(z._visibleSteps),O=z._dims;F.enter().append("rect").classed(t.tickRectClass,!0),F.exit().remove(),F.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),F.each(function(B,W){var ee=W%O.labelStride===0,ne=p.select(this);ne.attr({height:ee?z.ticklen:z.minorticklen}).call(n.fill,z.tickcolor),C.setTranslate(ne,b(z,W/(z._stepCount-1))-.5*z.tickwidth,(ee?t.tickOffset:t.minorTickOffset)+O.currentValueTotalHeight)})}function o(k){var z=k._dims;z.labelSteps=[];for(var F=k._stepCount,O=0;O<F;O+=z.labelStride)z.labelSteps.push({fraction:O/(F-1),step:k._visibleSteps[O]})}function _(k,z,F){for(var O=k.select("rect."+t.gripRectClass),B=0,W=0;W<z._stepCount;W++)if(z._visibleSteps[W]._index===z.active){B=W;break}var ee=b(z,B/(z._stepCount-1));if(!z._invokingCommand){var ne=O;F&&z.transition.duration>0&&(ne=ne.transition().duration(z.transition.duration).ease(z.transition.easing)),ne.attr("transform",v(ee-t.gripWidth*.5,z._dims.currentValueTotalHeight))}}function b(k,z){var F=k._dims;return F.inputAreaStart+t.stepInset+(F.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,z))}function I(k,z){var F=k._dims;return Math.min(1,Math.max(0,(z-t.stepInset-F.inputAreaStart)/(F.inputAreaLength-2*t.stepInset-2*F.inputAreaStart)))}function D(k,z,F){var O=F._dims,B=T.ensureSingle(k,"rect",t.railTouchRectClass,function(W){W.call(S,z,k,F).style("pointer-events","all")});B.attr({width:O.inputAreaLength,height:Math.max(O.inputAreaWidth,t.tickOffset+F.ticklen+O.labelHeight)}).call(n.fill,F.bgcolor).attr("opacity",0),C.setTranslate(B,0,O.currentValueTotalHeight)}function N(k,z){var F=z._dims,O=F.inputAreaLength-t.railInset*2,B=T.ensureSingle(k,"rect",t.railRectClass);B.attr({width:O,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,z.bordercolor).call(n.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),C.setTranslate(B,t.railInset,(F.inputAreaWidth-t.railWidth)*.5+F.currentValueTotalHeight)}},97544:function(H,U,e){var p=e(60876);H.exports={moduleType:"component",name:p.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(H,U,e){var p=e(33428),L=e(38248),n=e(7316),C=e(24040),T=e(3400),v=T.strTranslate,g=e(43616),r=e(76308),t=e(72736),s=e(13448),a=e(84284).OPPOSITE_SIDE,f=/ [XY][0-9]* /;function u(l,m,h){var M=h.propContainer,c=h.propName,i=h.placeholder,d=h.traceIndex,x=h.avoid||{},A=h.attributes,E=h.transform,y=h.containerGroup,S=l._fullLayout,w=1,o=!1,_=M.title,b=(_&&_.text?_.text:"").trim(),I=_&&_.font?_.font:{},D=I.family,N=I.size,k=I.color,z;c==="title.text"?z="titleText":c.indexOf("axis")!==-1?z="axisTitleText":c.indexOf("colorbar"!==-1)&&(z="colorbarTitleText");var F=l._context.edits[z];b===""?w=0:b.replace(f," % ")===i.replace(f," % ")&&(w=.2,o=!0,F||(b="")),h._meta?b=T.templateString(b,h._meta):S._meta&&(b=T.templateString(b,S._meta));var O=b||F,B;y||(y=T.ensureSingle(S._infolayer,"g","g-"+m),B=S._hColorbarMoveTitle);var W=y.selectAll("text").data(O?[0]:[]);if(W.enter().append("text"),W.text(b).attr("class",m),W.exit().remove(),!O)return y;function ee(Z){T.syncOrAsync([ne,Q],Z)}function ne(Z){var Y;return!E&&B&&(E={}),E?(Y="",E.rotate&&(Y+="rotate("+[E.rotate,A.x,A.y]+")"),(E.offset||B)&&(Y+=v(0,(E.offset||0)-(B||0)))):Y=null,Z.attr("transform",Y),Z.style({"font-family":D,"font-size":p.round(N,2)+"px",fill:r.rgb(k),opacity:w*r.opacity(k),"font-weight":n.fontWeight}).attr(A).call(t.convertToTspans,l),n.previousPromises(l)}function Q(Z){var Y=p.select(Z.node().parentNode);if(x&&x.selection&&x.side&&b){Y.attr("transform",null);var re=a[x.side],X=x.side==="left"||x.side==="top"?-1:1,q=L(x.pad)?x.pad:2,se=g.bBox(Y.node()),$={t:0,b:0,l:0,r:0},j=l._fullLayout._reservedMargin;for(var ue in j)for(var ae in j[ue]){var ce=j[ue][ae];$[ae]=Math.max($[ae],ce)}var ye={left:$.l,top:$.t,right:S.width-$.r,bottom:S.height-$.b},Ce=x.maxShift||X*(ye[x.side]-se[x.side]),Ae=0;if(Ce<0)Ae=Ce;else{var Ie=x.offsetLeft||0,Te=x.offsetTop||0;se.left-=Ie,se.right-=Ie,se.top-=Te,se.bottom-=Te,x.selection.each(function(){var xe=g.bBox(this);T.bBoxIntersect(se,xe,q)&&(Ae=Math.max(Ae,X*(xe[x.side]-se[re])+q))}),Ae=Math.min(Ce,Ae),M._titleScoot=Math.abs(Ae)}if(Ae>0||Ce<0){var Le={left:[-Ae,0],right:[Ae,0],top:[0,-Ae],bottom:[0,Ae]}[x.side];Y.attr("transform",v(Le[0],Le[1]))}}}W.call(ee);function le(){w=0,o=!0,W.text(i).on("mouseover.opacity",function(){p.select(this).transition().duration(s.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(s.HIDE_PLACEHOLDER).style("opacity",0)})}return F&&(b?W.on(".opacity",null):le(),W.call(t.makeEditable,{gd:l}).on("edit",function(Z){d!==void 0?C.call("_guiRestyle",l,c,Z,d):C.call("_guiRelayout",l,c,Z)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ee)}).on("input",function(Z){this.text(Z||" ").call(t.positionText,A.x,A.y)})),W.classed("js-placeholder",o),y}H.exports={draw:u}},88444:function(H,U,e){var p=e(25376),L=e(22548),n=e(92880).extendFlat,C=e(67824).overrideAll,T=e(66741),v=e(31780).templatedArray,g=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});H.exports=C(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:g,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(T({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:L.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(H){H.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(H,U,e){var p=e(3400),L=e(51272),n=e(88444),C=e(73712),T=C.name,v=n.buttons;H.exports=function(s,a){var f={name:T,handleItemDefaults:g};L(s,a,f)};function g(t,s,a){function f(m,h){return p.coerce(t,s,n,m,h)}var u=L(t,s,{name:"buttons",handleItemDefaults:r}),l=f("visible",u.length>0);l&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),p.noneOrAll(t,s,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),p.coerceFont(f,"font",a.font),f("bgcolor",a.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function r(t,s){function a(u,l){return p.coerce(t,s,v,u,l)}var f=a("visible",t.method==="skip"||Array.isArray(t.args));f&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}},14420:function(H,U,e){var p=e(33428),L=e(7316),n=e(76308),C=e(43616),T=e(3400),v=e(72736),g=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),s=e(37400);H.exports=function(I){var D=I._fullLayout,N=T.filterVisible(D[t.name]);function k(Q){L.autoMargin(I,w(Q))}var z=D._menulayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);if(z.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),z.exit().each(function(){p.select(this).selectAll("g."+t.headerGroupClassName).each(k)}).remove(),N.length!==0){var F=z.selectAll("g."+t.headerGroupClassName).data(N,a);F.enter().append("g").classed(t.headerGroupClassName,!0);for(var O=T.ensureSingle(z,"g",t.dropdownButtonGroupClassName,function(Q){Q.style("pointer-events","all")}),B=0;B<N.length;B++){var W=N[B];S(I,W)}var ee="updatemenus"+D._uid,ne=new s(I,O,ee);F.enter().size()&&(O.node().parentNode.appendChild(O.node()),O.call(_)),F.exit().each(function(Q){O.call(_),k(Q)}).remove(),F.each(function(Q){var le=p.select(this),Z=Q.type==="dropdown"?O:null;L.manageCommandObserver(I,Q,Q.buttons,function(Y){l(I,Q,Q.buttons[Y.index],le,Z,ne,Y.index,!0)}),Q.type==="dropdown"?(m(I,le,O,ne,Q),u(O,Q)&&h(I,le,O,ne,Q)):h(I,le,null,null,Q)})}};function a(b){return b._index}function f(b){return+b.attr(t.menuIndexAttrName)==-1}function u(b,I){return+b.attr(t.menuIndexAttrName)===I._index}function l(b,I,D,N,k,z,F,O){I.active=F,g(b.layout,t.name,I).applyUpdate("active",F),I.type==="buttons"?h(b,N,null,null,I):I.type==="dropdown"&&(k.attr(t.menuIndexAttrName,"-1"),m(b,N,k,z,I),O||h(b,N,k,z,I))}function m(b,I,D,N,k){var z=T.ensureSingle(I,"g",t.headerClassName,function(Q){Q.style("pointer-events","all")}),F=k._dims,O=k.active,B=k.buttons[O]||t.blankHeaderOpts,W={y:k.pad.t,yPad:0,x:k.pad.l,xPad:0,index:0},ee={width:F.headerWidth,height:F.headerHeight};z.call(i,k,B,b).call(o,k,W,ee);var ne=T.ensureSingle(I,"text",t.headerArrowClassName,function(Q){Q.attr("text-anchor","end").call(C.font,k.font).text(t.arrowSymbol[k.direction])});ne.attr({x:F.headerWidth-t.arrowOffsetX+k.pad.l,y:F.headerHeight/2+t.textOffsetY+k.pad.t}),z.on("click",function(){D.call(_,String(u(D,k)?-1:k._index)),h(b,I,D,N,k)}),z.on("mouseover",function(){z.call(E)}),z.on("mouseout",function(){z.call(y,k)}),C.setTranslate(I,F.lx,F.ly)}function h(b,I,D,N,k){D||(D=I,D.attr("pointer-events","all"));var z=!f(D)||k.type==="buttons"?k.buttons:[],F=k.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,O=D.selectAll("g."+F).data(T.filterVisible(z)),B=O.enter().append("g").classed(F,!0),W=O.exit();k.type==="dropdown"?(B.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var ee=0,ne=0,Q=k._dims,le=["up","down"].indexOf(k.direction)!==-1;k.type==="dropdown"&&(le?ne=Q.headerHeight+t.gapButtonHeader:ee=Q.headerWidth+t.gapButtonHeader),k.type==="dropdown"&&k.direction==="up"&&(ne=-t.gapButtonHeader+t.gapButton-Q.openHeight),k.type==="dropdown"&&k.direction==="left"&&(ee=-t.gapButtonHeader+t.gapButton-Q.openWidth);var Z={x:Q.lx+ee+k.pad.l,y:Q.ly+ne+k.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Y={l:Z.x+k.borderwidth,t:Z.y+k.borderwidth};O.each(function(re,X){var q=p.select(this);q.call(i,k,re,b).call(o,k,Z),q.on("click",function(){p.event.defaultPrevented||(re.execute&&(re.args2&&k.active===X?(l(b,k,re,I,D,N,-1),L.executeAPICommand(b,re.method,re.args2)):(l(b,k,re,I,D,N,X),L.executeAPICommand(b,re.method,re.args))),b.emit("plotly_buttonclicked",{menu:k,button:re,active:k.active}))}),q.on("mouseover",function(){q.call(E)}),q.on("mouseout",function(){q.call(y,k),O.call(A,k)})}),O.call(A,k),le?(Y.w=Math.max(Q.openWidth,Q.headerWidth),Y.h=Z.y-Y.t):(Y.w=Z.x-Y.l,Y.h=Math.max(Q.openHeight,Q.headerHeight)),Y.direction=k.direction,N&&(O.size()?M(b,I,D,N,k,Y):c(N))}function M(b,I,D,N,k,z){var F=k.direction,O=F==="up"||F==="down",B=k._dims,W=k.active,ee,ne,Q;if(O)for(ne=0,Q=0;Q<W;Q++)ne+=B.heights[Q]+t.gapButton;else for(ee=0,Q=0;Q<W;Q++)ee+=B.widths[Q]+t.gapButton;N.enable(z,ee,ne),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(b){var I=!!b.hbar,D=!!b.vbar;I&&b.hbar.transition().attr("opacity","0").each("end",function(){I=!1,D||b.disable()}),D&&b.vbar.transition().attr("opacity","0").each("end",function(){D=!1,I||b.disable()})}function i(b,I,D,N){b.call(d,I).call(x,I,D,N)}function d(b,I){var D=T.ensureSingle(b,"rect",t.itemRectClassName,function(N){N.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});D.call(n.stroke,I.bordercolor).call(n.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function x(b,I,D,N){var k=T.ensureSingle(b,"text",t.itemTextClassName,function(O){O.attr({"text-anchor":"start","data-notex":1})}),z=D.label,F=N._fullLayout._meta;F&&(z=T.templateString(z,F)),k.call(C.font,I.font).text(z).call(v.convertToTspans,N)}function A(b,I){var D=I.active;b.each(function(N,k){var z=p.select(this);k===D&&I.showactive&&z.select("rect."+t.itemRectClassName).call(n.fill,t.activeColor)})}function E(b){b.select("rect."+t.itemRectClassName).call(n.fill,t.hoverColor)}function y(b,I){b.select("rect."+t.itemRectClassName).call(n.fill,I.bgcolor)}function S(b,I){var D=I._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=C.tester.selectAll("g."+t.dropdownButtonClassName).data(T.filterVisible(I.buttons));N.enter().append("g").classed(t.dropdownButtonClassName,!0);var k=["up","down"].indexOf(I.direction)!==-1;N.each(function(ee,ne){var Q=p.select(this);Q.call(i,I,ee,b);var le=Q.select("."+t.itemTextClassName),Z=le.node()&&C.bBox(le.node()).width,Y=Math.max(Z+t.textPadX,t.minWidth),re=I.font.size*r,X=v.lineCount(le),q=Math.max(re*X,t.minHeight)+t.textOffsetY;q=Math.ceil(q),Y=Math.ceil(Y),D.widths[ne]=Y,D.heights[ne]=q,D.height1=Math.max(D.height1,q),D.width1=Math.max(D.width1,Y),k?(D.totalWidth=Math.max(D.totalWidth,Y),D.openWidth=D.totalWidth,D.totalHeight+=q+t.gapButton,D.openHeight+=q+t.gapButton):(D.totalWidth+=Y+t.gapButton,D.openWidth+=Y+t.gapButton,D.totalHeight=Math.max(D.totalHeight,q),D.openHeight=D.totalHeight)}),k?D.totalHeight-=t.gapButton:D.totalWidth-=t.gapButton,D.headerWidth=D.width1+t.arrowPadX,D.headerHeight=D.height1,I.type==="dropdown"&&(k?(D.width1+=t.arrowPadX,D.totalHeight=D.height1):D.totalWidth=D.width1,D.totalWidth+=t.arrowPadX),N.remove();var z=D.totalWidth+I.pad.l+I.pad.r,F=D.totalHeight+I.pad.t+I.pad.b,O=b._fullLayout._size;D.lx=O.l+O.w*I.x,D.ly=O.t+O.h*(1-I.y);var B="left";T.isRightAnchor(I)&&(D.lx-=z,B="right"),T.isCenterAnchor(I)&&(D.lx-=z/2,B="center");var W="top";T.isBottomAnchor(I)&&(D.ly-=F,W="bottom"),T.isMiddleAnchor(I)&&(D.ly-=F/2,W="middle"),D.totalWidth=Math.ceil(D.totalWidth),D.totalHeight=Math.ceil(D.totalHeight),D.lx=Math.round(D.lx),D.ly=Math.round(D.ly),L.autoMargin(b,w(I),{x:I.x,y:I.y,l:z*({right:1,center:.5}[B]||0),r:z*({left:1,center:.5}[B]||0),b:F*({top:1,middle:.5}[W]||0),t:F*({bottom:1,middle:.5}[W]||0)})}function w(b){return t.autoMarginIdRoot+b._index}function o(b,I,D,N){N=N||{};var k=b.select("."+t.itemRectClassName),z=b.select("."+t.itemTextClassName),F=I.borderwidth,O=D.index,B=I._dims;C.setTranslate(b,F+D.x,F+D.y);var W=["up","down"].indexOf(I.direction)!==-1,ee=N.height||(W?B.heights[O]:B.height1);k.attr({x:0,y:0,width:N.width||(W?B.width1:B.widths[O]),height:ee});var ne=I.font.size*r,Q=v.lineCount(z),le=(Q-1)*ne/2;v.positionText(z,t.textOffsetX,ee/2-le+t.textOffsetY),W?D.y+=B.heights[O]+D.yPad:D.x+=B.widths[O]+D.xPad,D.index++}function _(b,I){b.attr(t.menuIndexAttrName,I||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(H,U,e){var p=e(73712);H.exports={moduleType:"component",name:p.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(H,U,e){H.exports=T;var p=e(33428),L=e(76308),n=e(43616),C=e(3400);function T(v,g,r){this.gd=v,this.container=g,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}T.barWidth=2,T.barLength=20,T.barRadius=2,T.barPad=1,T.barColor="#808BA4",T.prototype.enable=function(g,r,t){var s=this.gd._fullLayout,a=s.width,f=s.height;this.position=g;var u=this.position.l,l=this.position.w,m=this.position.t,h=this.position.h,M=this.position.direction,c=M==="down",i=M==="left",d=M==="right",x=M==="up",A=l,E=h,y,S,w,o;!c&&!i&&!d&&!x&&(this.position.direction="down",c=!0);var _=c||x;_?(y=u,S=y+A,c?(w=m,o=Math.min(w+E,f),E=o-w):(o=m+E,w=Math.max(o-E,0),E=o-w)):(w=m,o=w+E,i?(S=u+A,y=Math.max(S-A,0),A=S-y):(y=u,S=Math.min(y+A,a),A=S-y)),this._box={l:y,t:w,w:A,h:E};var b=l>A,I=T.barLength+2*T.barPad,D=T.barWidth+2*T.barPad,N=u,k=m+h;k+D>f&&(k=f-D);var z=this.container.selectAll("rect.scrollbar-horizontal").data(b?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(L.fill,T.barColor),b?(this.hbar=z.attr({rx:T.barRadius,ry:T.barRadius,x:N,y:k,width:I,height:D}),this._hbarXMin=N+I/2,this._hbarTranslateMax=A-I):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var F=h>E,O=T.barWidth+2*T.barPad,B=T.barLength+2*T.barPad,W=u+l,ee=m;W+O>a&&(W=a-O);var ne=this.container.selectAll("rect.scrollbar-vertical").data(F?[0]:[]);ne.exit().on(".drag",null).remove(),ne.enter().append("rect").classed("scrollbar-vertical",!0).call(L.fill,T.barColor),F?(this.vbar=ne.attr({rx:T.barRadius,ry:T.barRadius,x:W,y:ee,width:O,height:B}),this._vbarYMin=ee+B/2,this._vbarTranslateMax=E-B):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Q=this.id,le=y-.5,Z=F?S+O+.5:S+.5,Y=w-.5,re=b?o+D+.5:o+.5,X=s._topdefs.selectAll("#"+Q).data(b||F?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",Q).append("rect"),b||F?(this._clipRect=X.select("rect").attr({x:Math.floor(le),y:Math.floor(Y),width:Math.ceil(Z)-Math.floor(le),height:Math.ceil(re)-Math.floor(Y)}),this.container.call(n.setClipUrl,Q,this.gd),this.bg.attr({x:u,y:m,width:l,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),b||F){var q=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var se=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));b&&this.hbar.on(".drag",null).call(se),F&&this.vbar.on(".drag",null).call(se)}this.setTranslate(r,t)},T.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},T.prototype._onBoxDrag=function(){var g=this.translateX,r=this.translateY;this.hbar&&(g-=p.event.dx),this.vbar&&(r-=p.event.dy),this.setTranslate(g,r)},T.prototype._onBoxWheel=function(){var g=this.translateX,r=this.translateY;this.hbar&&(g+=p.event.deltaY),this.vbar&&(r+=p.event.deltaY),this.setTranslate(g,r)},T.prototype._onBarDrag=function(){var g=this.translateX,r=this.translateY;if(this.hbar){var t=g+this._hbarXMin,s=t+this._hbarTranslateMax,a=C.constrain(p.event.x,t,s),f=(a-t)/(s-t),u=this.position.w-this._box.w;g=f*u}if(this.vbar){var l=r+this._vbarYMin,m=l+this._vbarTranslateMax,h=C.constrain(p.event.y,l,m),M=(h-l)/(m-l),c=this.position.h-this._box.h;r=M*c}this.setTranslate(g,r)},T.prototype.setTranslate=function(g,r){var t=this.position.w-this._box.w,s=this.position.h-this._box.h;if(g=C.constrain(g||0,0,t),r=C.constrain(r||0,0,s),this.translateX=g,this.translateY=r,this.container.call(n.setTranslate,this._box.l-this.position.l-g,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+g-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var a=g/t;this.hbar.call(n.setTranslate,g+a*this._hbarTranslateMax,r)}if(this.vbar){var f=r/s;this.vbar.call(n.setTranslate,g,r+f*this._vbarTranslateMax)}}},84284:function(H){H.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(H){H.exports={axisRefDescription:function(U,e,p){return["If set to a",U,"axis id (e.g. *"+U+"* or","*"+U+"2*), the `"+U+"` position refers to a",U,"coordinate. If set to *paper*, the `"+U+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+p+"). If set to a",U,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+U+"2 domain* refers to the domain of the second",U," axis and a",U,"position of 0.5 refers to the","point between the",e,"and the",p,"of the domain of the","second",U,"axis."].join(" ")}}},48164:function(H){H.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(H){H.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(H){H.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(H){H.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(H){H.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(H){H.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(H){H.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(H,U){U.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],U.STYLE=U.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(H,U){U.xmlns="http://www.w3.org/2000/xmlns/",U.svg="http://www.w3.org/2000/svg",U.xlink="http://www.w3.org/1999/xlink",U.svgAttrs={xmlns:U.svg,"xmlns:xlink":U.xlink}},64884:function(H,U,e){U.version=e(25788).version,e(88324),e(79288);for(var p=e(24040),L=U.register=p.register,n=e(22448),C=Object.keys(n),T=0;T<C.length;T++){var v=C[T];v.charAt(0)!=="_"&&(U[v]=n[v]),L({moduleType:"apiMethod",name:v,fn:n[v]})}L(e(65875)),L([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),L([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(L(window.PlotlyLocales),delete window.PlotlyLocales),U.Icons=e(9224);var g=e(93024),r=e(7316);U.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},U.Fx={hover:g.hover,unhover:g.unhover,loneHover:g.loneHover,loneUnhover:g.loneUnhover},U.Snapshot=e(78904),U.PlotSchema=e(73060)},9224:function(H){H.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(H,U){U.isLeftAnchor=function(p){return p.xanchor==="left"||p.xanchor==="auto"&&p.x<=.3333333333333333},U.isCenterAnchor=function(p){return p.xanchor==="center"||p.xanchor==="auto"&&p.x>.3333333333333333&&p.x<.6666666666666666},U.isRightAnchor=function(p){return p.xanchor==="right"||p.xanchor==="auto"&&p.x>=.6666666666666666},U.isTopAnchor=function(p){return p.yanchor==="top"||p.yanchor==="auto"&&p.y>=.6666666666666666},U.isMiddleAnchor=function(p){return p.yanchor==="middle"||p.yanchor==="auto"&&p.y>.3333333333333333&&p.y<.6666666666666666},U.isBottomAnchor=function(p){return p.yanchor==="bottom"||p.yanchor==="auto"&&p.y<=.3333333333333333}},11864:function(H,U,e){var p=e(20435),L=p.mod,n=p.modHalf,C=Math.PI,T=2*C;function v(M){return M/180*C}function g(M){return M/C*180}function r(M){return Math.abs(M[1]-M[0])>T-1e-14}function t(M,c){return n(c-M,T)}function s(M,c){return Math.abs(t(M,c))}function a(M,c){if(r(c))return!0;var i,d;c[0]<c[1]?(i=c[0],d=c[1]):(i=c[1],d=c[0]),i=L(i,T),d=L(d,T),i>d&&(d+=T);var x=L(M,T),A=x+T;return x>=i&&x<=d||A>=i&&A<=d}function f(M,c,i,d){if(!a(c,d))return!1;var x,A;return i[0]<i[1]?(x=i[0],A=i[1]):(x=i[1],A=i[0]),M>=x&&M<=A}function u(M,c,i,d,x,A,E){x=x||0,A=A||0;var y=r([i,d]),S,w,o,_,b;y?(S=0,w=C,o=T):i<d?(S=i,o=d):(S=d,o=i),M<c?(_=M,b=c):(_=c,b=M);function I(z,F){return[z*Math.cos(F)+x,A-z*Math.sin(F)]}var D=Math.abs(o-S)<=C?0:1;function N(z,F,O){return"A"+[z,z]+" "+[0,D,O]+" "+I(z,F)}var k;return y?_===null?k="M"+I(b,S)+N(b,w,0)+N(b,o,0)+"Z":k="M"+I(_,S)+N(_,w,0)+N(_,o,0)+"ZM"+I(b,S)+N(b,w,1)+N(b,o,1)+"Z":_===null?(k="M"+I(b,S)+N(b,o,0),E&&(k+="L0,0Z")):k="M"+I(_,S)+"L"+I(b,S)+N(b,o,0)+"L"+I(_,o)+N(_,S,1)+"Z",k}function l(M,c,i,d,x){return u(null,M,c,i,d,x,0)}function m(M,c,i,d,x){return u(null,M,c,i,d,x,1)}function h(M,c,i,d,x,A){return u(M,c,i,d,x,A,1)}H.exports={deg2rad:v,rad2deg:g,angleDelta:t,angleDist:s,isFullCircle:r,isAngleInsideSector:a,isPtInsideSector:f,pathArc:l,pathSector:m,pathAnnulus:h}},38116:function(H,U,e){var p=e(83160).decode,L=e(63620),n=Array.isArray,C=ArrayBuffer,T=DataView;function v(u){return C.isView(u)&&!(u instanceof T)}U.isTypedArray=v;function g(u){return n(u)||v(u)}U.isArrayOrTypedArray=g;function r(u){return!g(u[0])}U.isArray1D=r,U.ensureArray=function(u,l){return n(u)||(u=[]),u.length=l,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function s(u){return u.constructor===ArrayBuffer}U.isArrayBuffer=s,U.decodeTypedArraySpec=function(u){var l=[],m=a(u),h=m.dtype,M=t[h];if(!M)throw new Error('Error in dtype: "'+h+'"');var c=M.BYTES_PER_ELEMENT,i=m.bdata;s(i)||(i=p(i));var d=m.shape===void 0?[i.byteLength/c]:(""+m.shape).split(",");d.reverse();var x=d.length,A,E,y=+d[0],S=c*y,w=0;if(x===1)l=new M(i);else if(x===2)for(A=+d[1],E=0;E<A;E++)l[E]=new M(i,w,y),w+=S;else if(x===3){A=+d[1];for(var o=+d[2],_=0;_<o;_++)for(l[_]=[],E=0;E<A;E++)l[_][E]=new M(i,w,y),w+=S}else throw new Error("ndim: "+x+'is not supported with the shape:"'+m.shape+'"');return l.bdata=m.bdata,l.dtype=m.dtype,l.shape=d.reverse().join(","),u._inputArray=l,l},U.isTypedArraySpec=function(u){return L(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||s(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function a(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}U.concat=function(){var u=[],l=!0,m=0,h,M,c,i,d,x,A,E;for(c=0;c<arguments.length;c++)i=arguments[c],x=i.length,x&&(M?u.push(i):(M=i,d=x),n(i)?h=!1:(l=!1,m?h!==i.constructor&&(h=!1):h=i.constructor),m+=x);if(!m)return[];if(!u.length)return M;if(l)return M.concat.apply(M,u);if(h){for(A=new h(m),A.set(M),c=0;c<u.length;c++)i=u[c],A.set(i,d),d+=i.length;return A}for(A=new Array(m),E=0;E<M.length;E++)A[E]=M[E];for(c=0;c<u.length;c++){for(i=u[c],E=0;E<i.length;E++)A[d+E]=i[E];d+=E}return A},U.maxRowLength=function(u){return f(u,Math.max,0)},U.minRowLength=function(u){return f(u,Math.min,1/0)};function f(u,l,m){if(g(u))if(g(u[0])){for(var h=m,M=0;M<u.length;M++)h=l(h,u[M].length);return h}else return u.length;return 0}},54037:function(H,U,e){var p=e(38248),L=e(39032).BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;H.exports=function(T){return typeof T=="string"&&(T=T.replace(n,"")),p(T)?Number(T):L}},73696:function(H){H.exports=function(e){var p=e._fullLayout;p._glcanvas&&p._glcanvas.size()&&p._glcanvas.each(function(L){L.regl&&L.regl.clear({color:!0,depth:!0})})}},75352:function(H){H.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(H,U,e){var p=e(38248),L=e(49760),n=e(45464),C=e(88304),T=e(76308),v=e(13448).DESELECTDIM,g=e(22296),r=e(53756).counter,t=e(20435).modHalf,s=e(38116).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,f=e(38116).decodeTypedArraySpec;U.valObjectMeta={data_array:{coerceFunction:function(l,m,h){m.set(s(l)?l:a(l)?f(l):h)}},enumerated:{coerceFunction:function(l,m,h,M){M.coerceNumber&&(l=+l),M.values.indexOf(l)===-1?m.set(h):m.set(l)},validateFunction:function(l,m){m.coerceNumber&&(l=+l);for(var h=m.values,M=0;M<h.length;M++){var c=String(h[M]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var i=new RegExp(c.substr(1,c.length-2));if(i.test(l))return!0}else if(l===h[M])return!0}return!1}},boolean:{coerceFunction:function(l,m,h){l===!0||l===!1?m.set(l):m.set(h)}},number:{coerceFunction:function(l,m,h,M){!p(l)||M.min!==void 0&&l<M.min||M.max!==void 0&&l>M.max?m.set(h):m.set(+l)}},integer:{coerceFunction:function(l,m,h,M){l%1||!p(l)||M.min!==void 0&&l<M.min||M.max!==void 0&&l>M.max?m.set(h):m.set(+l)}},string:{coerceFunction:function(l,m,h,M){if(typeof l!="string"){var c=typeof l=="number";M.strict===!0||!c?m.set(h):m.set(String(l))}else M.noBlank&&!l?m.set(h):m.set(l)}},color:{coerceFunction:function(l,m,h){L(l).isValid()?m.set(l):m.set(h)}},colorlist:{coerceFunction:function(l,m,h){function M(c){return L(c).isValid()}!Array.isArray(l)||!l.length?m.set(h):l.every(M)?m.set(l):m.set(h)}},colorscale:{coerceFunction:function(l,m,h){m.set(C.get(l,h))}},angle:{coerceFunction:function(l,m,h){l==="auto"?m.set("auto"):p(l)?m.set(t(+l,360)):m.set(h)}},subplotid:{coerceFunction:function(l,m,h,M){var c=M.regex||r(h);if(typeof l=="string"&&c.test(l)){m.set(l);return}m.set(h)},validateFunction:function(l,m){var h=m.dflt;return l===h?!0:typeof l!="string"?!1:!!r(h).test(l)}},flaglist:{coerceFunction:function(l,m,h,M){if((M.extras||[]).indexOf(l)!==-1){m.set(l);return}if(typeof l!="string"){m.set(h);return}for(var c=l.split("+"),i=0;i<c.length;){var d=c[i];M.flags.indexOf(d)===-1||c.indexOf(d)<i?c.splice(i,1):i++}c.length?m.set(c.join("+")):m.set(h)}},any:{coerceFunction:function(l,m,h){l===void 0?m.set(h):m.set(a(l)?f(l):l)}},info_array:{coerceFunction:function(l,m,h,M){function c(N,k,z){var F,O={set:function(B){F=B}};return z===void 0&&(z=k.dflt),U.valObjectMeta[k.valType].coerceFunction(N,O,z,k),F}if(a(l)&&(l=f(l)),!s(l)){m.set(h);return}var i=M.dimensions===2||M.dimensions==="1-2"&&Array.isArray(l)&&s(l[0]),d=M.items,x=[],A=Array.isArray(d),E=A&&i&&s(d[0]),y=i&&A&&!E,S=A&&!y?d.length:l.length,w,o,_,b,I,D;if(h=Array.isArray(h)?h:[],i)for(w=0;w<S;w++)for(x[w]=[],_=s(l[w])?l[w]:[],y?I=d.length:A?I=d[w].length:I=_.length,o=0;o<I;o++)y?b=d[o]:A?b=d[w][o]:b=d,D=c(_[o],b,(h[w]||[])[o]),D!==void 0&&(x[w][o]=D);else for(w=0;w<S;w++)D=c(l[w],A?d[w]:d,h[w]),D!==void 0&&(x[w]=D);m.set(x)},validateFunction:function(l,m){if(!s(l))return!1;var h=m.items,M=Array.isArray(h),c=m.dimensions===2;if(!m.freeLength&&l.length!==h.length)return!1;for(var i=0;i<l.length;i++)if(c){if(!s(l[i])||!m.freeLength&&l[i].length!==h[i].length)return!1;for(var d=0;d<l[i].length;d++)if(!u(l[i][d],M?h[i][d]:h))return!1}else if(!u(l[i],M?h[i]:h))return!1;return!0}}},U.coerce=function(l,m,h,M,c){var i=g(h,M).get(),d=g(l,M),x=g(m,M),A=d.get(),E=m._template;if(A===void 0&&E&&(A=g(E,M).get(),E=0),c===void 0&&(c=i.dflt),i.arrayOk){if(s(A))return x.set(A),A;if(a(A))return A=f(A),x.set(A),A}var y=U.valObjectMeta[i.valType].coerceFunction;y(A,x,c,i);var S=x.get();return E&&S===c&&!u(A,i)&&(A=g(E,M).get(),y(A,x,c,i),S=x.get()),S},U.coerce2=function(l,m,h,M,c){var i=g(l,M),d=U.coerce(l,m,h,M,c),x=i.get();return x!=null?d:!1},U.coerceFont=function(l,m,h){var M={};return h=h||{},M.family=l(m+".family",h.family),M.size=l(m+".size",h.size),M.color=l(m+".color",h.color),M},U.coercePattern=function(l,m,h,M){var c=l(m+".shape");if(c){l(m+".solidity"),l(m+".size");var i=l(m+".fillmode"),d=i==="overlay";if(!M){var x=l(m+".bgcolor",d?h:void 0);l(m+".fgcolor",d?T.contrast(x):h)}l(m+".fgopacity",d?.5:1)}},U.coerceHoverinfo=function(l,m,h){var M=m._module.attributes,c=M.hoverinfo?M:n,i=c.hoverinfo,d;if(h._dataLength===1){var x=i.dflt==="all"?i.flags.slice():i.dflt.split("+");x.splice(x.indexOf("name"),1),d=x.join("+")}return U.coerce(l,m,c,"hoverinfo",d)},U.coerceSelectionMarkerOpacity=function(l,m){if(l.marker){var h=l.marker.opacity;if(h!==void 0){var M,c;!s(h)&&!l.selected&&!l.unselected&&(M=h,c=v*h),m("selected.marker.opacity",M),m("unselected.marker.opacity",c)}}};function u(l,m){var h=U.valObjectMeta[m.valType];if(m.arrayOk&&s(l))return!0;if(h.validateFunction)return h.validateFunction(l,m);var M={},c=M,i={set:function(d){c=d}};return h.coerceFunction(l,i,M,m),c!==M}U.validate=u},67555:function(H,U,e){var p=e(94336).Yn,L=e(38248),n=e(24248),C=e(20435).mod,T=e(39032),v=T.BADNUM,g=T.ONEDAY,r=T.ONEHOUR,t=T.ONEMIN,s=T.ONESEC,a=T.EPOCHJD,f=e(24040),u=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function M(k){return k&&f.componentsRegistry.calendars&&typeof k=="string"&&k!=="gregorian"}U.dateTick0=function(k,z){var F=c(k,!!z);if(z<2)return F;var O=U.dateTime2ms(F,k);return O+=g*(z-1),U.ms2DateTime(O,0,k)};function c(k,z){return M(k)?z?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[k]:f.getComponentMethod("calendars","CANONICAL_TICK")[k]:z?"2000-01-02":"2000-01-01"}U.dfltRange=function(k){return M(k)?f.getComponentMethod("calendars","DFLTRANGE")[k]:["2000-01-01","2001-01-01"]},U.isJSDate=function(k){return typeof k=="object"&&k!==null&&typeof k.getTime=="function"};var i,d;U.dateTime2ms=function(k,z){if(U.isJSDate(k)){var F=k.getTimezoneOffset()*t,O=(k.getUTCMinutes()-k.getMinutes())*t+(k.getUTCSeconds()-k.getSeconds())*s+(k.getUTCMilliseconds()-k.getMilliseconds());if(O){var B=3*t;F=F-B/2+C(O-F+B/2,B)}return k=Number(k)-F,k>=i&&k<=d?k:v}if(typeof k!="string"&&typeof k!="number")return v;k=String(k);var W=M(z),ee=k.charAt(0);W&&(ee==="G"||ee==="g")&&(k=k.substr(1),z="");var ne=W&&z.substr(0,7)==="chinese",Q=k.match(ne?m:l);if(!Q)return v;var le=Q[1],Z=Q[3]||"1",Y=Number(Q[5]||1),re=Number(Q[7]||0),X=Number(Q[9]||0),q=Number(Q[11]||0);if(W){if(le.length===2)return v;le=Number(le);var se;try{var $=f.getComponentMethod("calendars","getCal")(z);if(ne){var j=Z.charAt(Z.length-1)==="i";Z=parseInt(Z,10),se=$.newDate(le,$.toMonthIndex(le,Z,j),Y)}else se=$.newDate(le,Number(Z),Y)}catch{return v}return se?(se.toJD()-a)*g+re*r+X*t+q*s:v}le.length===2?le=(Number(le)+2e3-h)%100+h:le=Number(le),Z-=1;var ue=new Date(Date.UTC(2e3,Z,Y,re,X));return ue.setUTCFullYear(le),ue.getUTCMonth()!==Z||ue.getUTCDate()!==Y?v:ue.getTime()+q*s},i=U.MIN_MS=U.dateTime2ms("-9999"),d=U.MAX_MS=U.dateTime2ms("9999-12-31 23:59:59.9999"),U.isDateTime=function(k,z){return U.dateTime2ms(k,z)!==v};function x(k,z){return String(k+Math.pow(10,z)).substr(1)}var A=90*g,E=3*r,y=5*t;U.ms2DateTime=function(k,z,F){if(typeof k!="number"||!(k>=i&&k<=d))return v;z||(z=0);var O=Math.floor(C(k+.05,1)*10),B=Math.round(k-O/10),W,ee,ne,Q,le,Z;if(M(F)){var Y=Math.floor(B/g)+a,re=Math.floor(C(k,g));try{W=f.getComponentMethod("calendars","getCal")(F).fromJD(Y).formatDate("yyyy-mm-dd")}catch{W=u("G%Y-%m-%d")(new Date(B))}if(W.charAt(0)==="-")for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;ee=z<A?Math.floor(re/r):0,ne=z<A?Math.floor(re%r/t):0,Q=z<E?Math.floor(re%t/s):0,le=z<y?re%s*10+O:0}else Z=new Date(B),W=u("%Y-%m-%d")(Z),ee=z<A?Z.getUTCHours():0,ne=z<A?Z.getUTCMinutes():0,Q=z<E?Z.getUTCSeconds():0,le=z<y?Z.getUTCMilliseconds()*10+O:0;return S(W,ee,ne,Q,le)},U.ms2DateTimeLocal=function(k){if(!(k>=i+g&&k<=d-g))return v;var z=Math.floor(C(k+.05,1)*10),F=new Date(Math.round(k-z/10)),O=p("%Y-%m-%d")(F),B=F.getHours(),W=F.getMinutes(),ee=F.getSeconds(),ne=F.getUTCMilliseconds()*10+z;return S(O,B,W,ee,ne)};function S(k,z,F,O,B){if((z||F||O||B)&&(k+=" "+x(z,2)+":"+x(F,2),(O||B)&&(k+=":"+x(O,2),B))){for(var W=4;B%10===0;)W-=1,B/=10;k+="."+x(B,W)}return k}U.cleanDate=function(k,z,F){if(k===v)return z;if(U.isJSDate(k)||typeof k=="number"&&isFinite(k)){if(M(F))return n.error("JS Dates and milliseconds are incompatible with world calendars",k),z;if(k=U.ms2DateTimeLocal(+k),!k&&z!==void 0)return z}else if(!U.isDateTime(k,F))return n.error("unrecognized date",k),z;return k};var w=/%\d?f/g,o=/%h/g,_={1:"1",2:"1",3:"2",4:"2"};function b(k,z,F,O){k=k.replace(w,function(W){var ee=Math.min(+W.charAt(1)||6,6),ne=(z/1e3%1+2).toFixed(ee).substr(2).replace(/0+$/,"")||"0";return ne});var B=new Date(Math.floor(z+.05));if(k=k.replace(o,function(){return _[F("%q")(B)]}),M(O))try{k=f.getComponentMethod("calendars","worldCalFmt")(k,z,O)}catch{return"Invalid"}return F(k)(B)}var I=[59,59.9,59.99,59.999,59.9999];function D(k,z){var F=C(k+.05,g),O=x(Math.floor(F/r),2)+":"+x(C(Math.floor(F/t),60),2);if(z!=="M"){L(z)||(z=0);var B=Math.min(C(k/s,60),I[z]),W=(100+B).toFixed(z).substr(1);z>0&&(W=W.replace(/0+$/,"").replace(/[\.]$/,"")),O+=":"+W}return O}U.formatDate=function(k,z,F,O,B,W){if(B=M(B)&&B,!z)if(F==="y")z=W.year;else if(F==="m")z=W.month;else if(F==="d")z=W.dayMonth+`
`+W.year;else return D(k,F)+`
`+b(W.dayMonthYear,k,O,B);return b(z,k,O,B)};var N=3*g;U.incrementMonth=function(k,z,F){F=M(F)&&F;var O=C(k,g);if(k=Math.round(k-O),F)try{var B=Math.round(k/g)+a,W=f.getComponentMethod("calendars","getCal")(F),ee=W.fromJD(B);return z%12?W.add(ee,z,"m"):W.add(ee,z/12,"y"),(ee.toJD()-a)*g+O}catch{n.error("invalid ms "+k+" in calendar "+F)}var ne=new Date(k+N);return ne.setUTCMonth(ne.getUTCMonth()+z)+O-N},U.findExactDates=function(k,z){for(var F=0,O=0,B=0,W=0,ee,ne,Q=M(z)&&f.getComponentMethod("calendars","getCal")(z),le=0;le<k.length;le++){if(ne=k[le],!L(ne)){W++;continue}if(!(ne%g))if(Q)try{ee=Q.fromJD(ne/g+a),ee.day()===1?ee.month()===1?F++:O++:B++}catch{}else ee=new Date(ne),ee.getUTCDate()===1?ee.getUTCMonth()===0?F++:O++:B++}O+=F,B+=O;var Z=k.length-W;return{exactYears:F/Z,exactMonths:O/Z,exactDays:B/Z}}},52200:function(H,U,e){var p=e(33428),L=e(24248),n=e(52248),C=e(36524);function T(h){var M;if(typeof h=="string"){if(M=document.getElementById(h),M===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return M}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var M=p.select(h);return M.node()instanceof HTMLElement&&M.size()&&M.classed("js-plotly-plot")}function g(h){var M=h&&h.parentNode;M&&M.removeChild(h)}function r(h,M){t("global",h,M)}function t(h,M,c){var i="plotly.js-style-"+h,d=document.getElementById(i);d||(d=document.createElement("style"),d.setAttribute("id",i),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var x=d.sheet;x.insertRule?x.insertRule(M+"{"+c+"}",0):x.addRule?x.addRule(M,c,0):L.warn("addStyleRule failed")}function s(h){var M="plotly.js-style-"+h,c=document.getElementById(M);c&&g(c)}function a(h){var M=u(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return M.forEach(function(i){var d=f(i);if(d){var x=n.convertCssMatrix(d);c=C.multiply(c,c,x)}}),c}function f(h){var M=window.getComputedStyle(h,null),c=M.getPropertyValue("-webkit-transform")||M.getPropertyValue("-moz-transform")||M.getPropertyValue("-ms-transform")||M.getPropertyValue("-o-transform")||M.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(i){return+i})}function u(h){for(var M=[];l(h);)M.push(h),h=h.parentNode;return M}function l(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function m(h,M){return h&&M&&h.top===M.top&&h.left===M.left&&h.right===M.right&&h.bottom===M.bottom}H.exports={getGraphDiv:T,isPlotDiv:v,removeElement:g,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:s,getFullTransformMatrix:a,getElementTransformMatrix:f,getElementAndAncestors:u,equalDomRects:m}},95924:function(H,U,e){var p=e(61252).EventEmitter,L={init:function(n){if(n._ev instanceof p)return n;var C=new p,T=new p;return n._ev=C,n._internalEv=T,n.on=C.on.bind(C),n.once=C.once.bind(C),n.removeListener=C.removeListener.bind(C),n.removeAllListeners=C.removeAllListeners.bind(C),n._internalOn=T.on.bind(T),n._internalOnce=T.once.bind(T),n._removeInternalListener=T.removeListener.bind(T),n._removeAllInternalListeners=T.removeAllListeners.bind(T),n.emit=function(v,g){typeof jQuery<"u"&&jQuery(n).trigger(v,g),C.emit(v,g),T.emit(v,g)},n},triggerHandler:function(n,C,T){var v,g;typeof jQuery<"u"&&(v=jQuery(n).triggerHandler(C,T));var r=n._ev;if(!r)return v;var t=r._events[C];if(!t)return v;function s(f){if(f.listener){if(r.removeListener(C,f.listener),!f.fired)return f.fired=!0,f.listener.apply(r,[T])}else return f.apply(r,[T])}t=Array.isArray(t)?t:[t];var a;for(a=0;a<t.length-1;a++)s(t[a]);return g=s(t[a]),v!==void 0?v:g},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};H.exports=L},92880:function(H,U,e){var p=e(63620),L=Array.isArray;function n(T,v){var g,r;for(g=0;g<T.length;g++){if(r=T[g],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[g]=r)}return!0}U.extendFlat=function(){return C(arguments,!1,!1,!1)},U.extendDeep=function(){return C(arguments,!0,!1,!1)},U.extendDeepAll=function(){return C(arguments,!0,!0,!1)},U.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(T,v,g,r){var t=T[0],s=T.length,a,f,u,l,m,h,M;if(s===2&&L(t)&&L(T[1])&&t.length===0){if(M=n(T[1],t),M)return t;t.splice(0,t.length)}for(var c=1;c<s;c++){a=T[c];for(f in a)u=t[f],l=a[f],r&&L(l)?t[f]=l:v&&l&&(p(l)||(m=L(l)))?(m?(m=!1,h=u&&L(u)?u:[]):h=u&&p(u)?u:{},t[f]=C([h,l],v,g,r)):(typeof l<"u"||g)&&(t[f]=l)}return t}},68944:function(H){H.exports=function(e){for(var p={},L=[],n=0,C=0;C<e.length;C++){var T=e[C];p[T]!==1&&(p[T]=1,L[n++]=T)}return L}},43880:function(H){H.exports=function(n){for(var C=p(n)?e:U,T=[],v=0;v<n.length;v++){var g=n[v];C(g)&&T.push(g)}return T};function U(L){return L.visible===!0}function e(L){var n=L[0].trace;return n.visible===!0&&n._length!==0}function p(L){return Array.isArray(L)&&Array.isArray(L[0])&&L[0][0]&&L[0][0].trace}},27144:function(H,U,e){var p=e(33428),L=e(36116),n=e(40440),C=e(77844),T=e(42428),v=e(35536),g=e(24248),r=e(63620),t=e(22296),s=e(92065),a=Object.keys(L),f={"ISO-3":v,"USA-states":v,"country names":u};function u(x){for(var A=0;A<a.length;A++){var E=a[A],y=new RegExp(L[E]);if(y.test(x.trim().toLowerCase()))return E}return g.log("Unrecognized country name: "+x+"."),!1}function l(x,A,E){if(!A||typeof A!="string")return!1;var y=f[x](A),S,w,o;if(y){if(x==="USA-states")for(S=[],o=0;o<E.length;o++)w=E[o],w.properties&&w.properties.gu&&w.properties.gu==="USA"&&S.push(w);else S=E;for(o=0;o<S.length;o++)if(w=S[o],w.id===y)return w;g.log(["Location with id",y,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(x){var A=x.geometry,E=A.coordinates,y=x.id,S=[],w,o,_,b;function I(D){for(var N=0;N<D.length-1;N++)if(D[N][0]>0&&D[N+1][0]<0)return N;return null}switch(y==="RUS"||y==="FJI"?w=function(D){var N;if(I(D)===null)N=D;else for(N=new Array(D.length),b=0;b<D.length;b++)N[b]=[D[b][0]<0?D[b][0]+360:D[b][0],D[b][1]];S.push(s.tester(N))}:y==="ATA"?w=function(D){var N=I(D);if(N===null)return S.push(s.tester(D));var k=new Array(D.length+1),z=0;for(b=0;b<D.length;b++)b>N?k[z++]=[D[b][0]+360,D[b][1]]:b===N?(k[z++]=D[b],k[z++]=[D[b][0],-90]):k[z++]=D[b];var F=s.tester(k);F.pts.pop(),S.push(F)}:w=function(D){S.push(s.tester(D))},A.type){case"MultiPolygon":for(o=0;o<E.length;o++)for(_=0;_<E[o].length;_++)w(E[o][_]);break;case"Polygon":for(o=0;o<E.length;o++)w(E[o]);break}return S}function h(x){var A=x.geojson,E=window.PlotlyGeoAssets||{},y=typeof A=="string"?E[A]:A;return r(y)?y:(g.error("Oops ... something went wrong when fetching "+A),!1)}function M(x){var A=x[0].trace,E=h(A);if(!E)return!1;var y={},S=[],w;for(w=0;w<A._length;w++){var o=x[w];(o.loc||o.loc===0)&&(y[o.loc]=o)}function _(D){var N=t(D,A.featureidkey||"id").get(),k=y[N];if(k){var z=D.geometry;if(z.type==="Polygon"||z.type==="MultiPolygon"){var F={type:"Feature",id:N,geometry:z,properties:{}};F.properties.ct=c(F),k.fIn=D,k.fOut=F,S.push(F)}else g.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete y[N]}switch(E.type){case"FeatureCollection":var b=E.features;for(w=0;w<b.length;w++)_(b[w]);break;case"Feature":_(E);break;default:return g.warn(["Invalid GeoJSON type",(E.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var I in y)g.log(["Location *"+I+"*","does not have a matching feature with id-key","*"+A.featureidkey+"*."].join(" "));return S}function c(x){var A=x.geometry,E;if(A.type==="MultiPolygon")for(var y=A.coordinates,S=0,w=0;w<y.length;w++){var o={type:"Polygon",coordinates:y[w]},_=n.default(o);_>S&&(S=_,E=o)}else E=A;return C.default(E).geometry.coordinates}function i(x){var A=window.PlotlyGeoAssets||{},E=[];function y(b){return new Promise(function(I,D){p.json(b,function(N,k){if(N){delete A[b];var z=N.status===404?'GeoJSON at URL "'+b+'" does not exist.':"Unexpected error while fetching from "+b;return D(new Error(z))}return A[b]=k,I(k)})})}function S(b){return new Promise(function(I,D){var N=0,k=setInterval(function(){if(A[b]&&A[b]!=="pending")return clearInterval(k),I(A[b]);if(N>100)return clearInterval(k),D("Unexpected error while fetching from "+b);N++},50)})}for(var w=0;w<x.length;w++){var o=x[w][0].trace,_=o.geojson;typeof _=="string"&&(A[_]?A[_]==="pending"&&E.push(S(_)):(A[_]="pending",E.push(y(_))))}return E}function d(x){return T.default(x)}H.exports={locationToFeature:l,feature2polygons:m,getTraceGeojson:h,extractTraceFeature:M,fetchTraceGeoData:i,computeBbox:d}},44808:function(H,U,e){var p=e(39032).BADNUM;U.calcTraceToLineCoords=function(L){for(var n=L[0].trace,C=n.connectgaps,T=[],v=[],g=0;g<L.length;g++){var r=L[g],t=r.lonlat;t[0]!==p?v.push(t):!C&&v.length>0&&(T.push(v),v=[])}return v.length>0&&T.push(v),T},U.makeLine=function(L){return L.length===1?{type:"LineString",coordinates:L[0]}:{type:"MultiLineString",coordinates:L}},U.makePolygon=function(L){if(L.length===1)return{type:"Polygon",coordinates:L};for(var n=new Array(L.length),C=0;C<L.length;C++)n[C]=[L[C]];return{type:"MultiPolygon",coordinates:n}},U.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(H,U,e){var p=e(20435).mod;U.segmentsIntersect=L;function L(g,r,t,s,a,f,u,l){var m=t-g,h=a-g,M=u-a,c=s-r,i=f-r,d=l-f,x=m*d-M*c;if(x===0)return null;var A=(h*d-M*i)/x,E=(h*c-m*i)/x;return E<0||E>1||A<0||A>1?null:{x:g+m*A,y:r+c*A}}U.segmentDistance=function(r,t,s,a,f,u,l,m){if(L(r,t,s,a,f,u,l,m))return 0;var h=s-r,M=a-t,c=l-f,i=m-u,d=h*h+M*M,x=c*c+i*i,A=Math.min(n(h,M,d,f-r,u-t),n(h,M,d,l-r,m-t),n(c,i,x,r-f,t-u),n(c,i,x,s-f,a-u));return Math.sqrt(A)};function n(g,r,t,s,a){var f=s*g+a*r;if(f<0)return s*s+a*a;if(f>t){var u=s-g,l=a-r;return u*u+l*l}else{var m=s*r-a*g;return m*m/t}}var C,T,v;U.getTextLocation=function(r,t,s,a){if((r!==T||a!==v)&&(C={},T=r,v=a),C[s])return C[s];var f=r.getPointAtLength(p(s-a/2,t)),u=r.getPointAtLength(p(s+a/2,t)),l=Math.atan((u.y-f.y)/(u.x-f.x)),m=r.getPointAtLength(p(s,t)),h=(m.x*4+f.x+u.x)/6,M=(m.y*4+f.y+u.y)/6,c={x:h,y:M,theta:l};return C[s]=c,c},U.clearLocationCache=function(){T=null},U.getVisibleSegment=function(r,t,s){var a=t.left,f=t.right,u=t.top,l=t.bottom,m=0,h=r.getTotalLength(),M=h,c,i;function d(A){var E=r.getPointAtLength(A);A===0?c=E:A===h&&(i=E);var y=E.x<a?a-E.x:E.x>f?E.x-f:0,S=E.y<u?u-E.y:E.y>l?E.y-l:0;return Math.sqrt(y*y+S*S)}for(var x=d(m);x;){if(m+=x+s,m>M)return;x=d(m)}for(x=d(M);x;){if(M-=x+s,m>M)return;x=d(M)}return{min:m,max:M,len:M-m,total:h,isClosed:m===0&&M===h&&Math.abs(c.x-i.x)<.1&&Math.abs(c.y-i.y)<.1}},U.findPointOnPath=function(r,t,s,a){a=a||{};for(var f=a.pathLength||r.getTotalLength(),u=a.tolerance||.001,l=a.iterationLimit||30,m=r.getPointAtLength(0)[s]>r.getPointAtLength(f)[s]?-1:1,h=0,M=0,c=f,i,d,x;h<l;){if(i=(M+c)/2,d=r.getPointAtLength(i),x=d[s]-t,Math.abs(x)<u)return d;m*x>0?c=i:M=i,h++}return d}},33040:function(H,U,e){var p=e(38248),L=e(49760),n=e(72160),C=e(8932),T=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,g=n(T),r=1;function t(l,m){var h=l;return h[3]*=m,h}function s(l){if(p(l))return g;var m=n(l);return m.length?m:g}function a(l){return p(l)?l:r}function f(l,m,h){var M=l.color;M&&M._inputArray&&(M=M._inputArray);var c=v(M),i=v(m),d=C.extractOpts(l),x=[],A,E,y,S,w;if(d.colorscale!==void 0?A=C.makeColorScaleFuncFromTrace(l):A=s,c?E=function(_,b){return _[b]===void 0?g:n(A(_[b]))}:E=s,i?y=function(_,b){return _[b]===void 0?r:a(_[b])}:y=a,c||i)for(var o=0;o<h;o++)S=E(M,o),w=y(m,o),x[o]=t(S,w);else x=t(n(M),m);return x}function u(l){var m=C.extractOpts(l),h=m.colorscale;return m.reversescale&&(h=C.flipScale(m.colorscale)),h.map(function(M){var c=M[0],i=L(M[1]),d=i.toRgb();return{index:c,rgb:[d.r,d.g,d.b,d.a]}})}H.exports={formatColor:f,parseColorScale:u}},71688:function(H,U,e){var p=e(35536);function L(n){return[n]}H.exports={keyFun:function(n){return n.key},repeat:L,descend:p,wrap:L,unwrap:function(n){return n[0]}}},35536:function(H){H.exports=function(e){return e}},1396:function(H){H.exports=function(e,p){if(!p)return e;var L=1/Math.abs(p),n=L>1?(L*e+L*p)/L:e+p,C=String(n).length;if(C>16){var T=String(p).length,v=String(e).length;if(C>=v+T){var g=parseFloat(n).toPrecision(12);g.indexOf("e+")===-1&&(n=+g)}}return n}},3400:function(H,U,e){var p=e(33428),L=e(94336).E9,n=e(57624).E9,C=e(38248),T=e(39032),v=T.FP_SAFE,g=-v,r=T.BADNUM,t=H.exports={};t.adjustFormat=function(se){return!se||/^\d[.]\df/.test(se)||/[.]\d%/.test(se)?se:se==="0.f"?"~f":/^\d%/.test(se)?"~%":/^\ds/.test(se)?"~s":!/^[~,.0$]/.test(se)&&/[&fps]/.test(se)?"~"+se:se};var s={};t.warnBadFormat=function(q){var se=String(q);s[se]||(s[se]=1,t.warn('encountered bad format: "'+se+'"'))},t.noFormat=function(q){return String(q)},t.numberFormat=function(q){var se;try{se=n(t.adjustFormat(q))}catch{return t.warnBadFormat(q),t.noFormat}return se},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var a=e(38116);t.isArrayBuffer=a.isArrayBuffer,t.isTypedArray=a.isTypedArray,t.isArrayOrTypedArray=a.isArrayOrTypedArray,t.isArray1D=a.isArray1D,t.ensureArray=a.ensureArray,t.concat=a.concat,t.maxRowLength=a.maxRowLength,t.minRowLength=a.minRowLength;var f=e(20435);t.mod=f.mod,t.modHalf=f.modHalf;var u=e(63064);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var m=e(14952);t.findBin=m.findBin,t.sorterAsc=m.sorterAsc,t.sorterDes=m.sorterDes,t.distinctVals=m.distinctVals,t.roundUp=m.roundUp,t.sort=m.sort,t.findIndexOfMin=m.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var M=e(52248);t.init2dArray=M.init2dArray,t.transposeRagged=M.transposeRagged,t.dot=M.dot,t.translationMatrix=M.translationMatrix,t.rotationMatrix=M.rotationMatrix,t.rotationXYMatrix=M.rotationXYMatrix,t.apply3DTransform=M.apply3DTransform,t.apply2DTransform=M.apply2DTransform,t.apply2DTransform2=M.apply2DTransform2,t.convertCssMatrix=M.convertCssMatrix,t.inverseTransformMatrix=M.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var i=e(98308);t.isLeftAnchor=i.isLeftAnchor,t.isCenterAnchor=i.isCenterAnchor,t.isRightAnchor=i.isRightAnchor,t.isTopAnchor=i.isTopAnchor,t.isMiddleAnchor=i.isMiddleAnchor,t.isBottomAnchor=i.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var x=e(92880);t.extendFlat=x.extendFlat,t.extendDeep=x.extendDeep,t.extendDeepAll=x.extendDeepAll,t.extendDeepNoArrays=x.extendDeepNoArrays;var A=e(24248);t.log=A.log,t.warn=A.warn,t.error=A.error;var E=e(53756);t.counterRegex=E.counter;var y=e(91200);t.throttle=y.throttle,t.throttleDone=y.done,t.clearThrottle=y.clear;var S=e(52200);t.getGraphDiv=S.getGraphDiv,t.isPlotDiv=S.isPlotDiv,t.removeElement=S.removeElement,t.addStyleRule=S.addStyleRule,t.addRelatedStyleRule=S.addRelatedStyleRule,t.deleteRelatedStyleRule=S.deleteRelatedStyleRule,t.getFullTransformMatrix=S.getFullTransformMatrix,t.getElementTransformMatrix=S.getElementTransformMatrix,t.getElementAndAncestors=S.getElementAndAncestors,t.equalDomRects=S.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(se){return C(se)?(se=Number(se),se>v||se<g?r:se):r},t.isIndex=function(q,se){return se!==void 0&&q>=se?!1:C(q)&&q>=0&&q%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(q,se){for(var $=new Array(se),j=0;j<se;j++)$[j]=q;return $},t.swapAttrs=function(q,se,$,j){$||($="x"),j||(j="y");for(var ue=0;ue<se.length;ue++){var ae=se[ue],ce=t.nestedProperty(q,ae.replace("?",$)),ye=t.nestedProperty(q,ae.replace("?",j)),Ce=ce.get();ce.set(ye.get()),ye.set(Ce)}},t.raiseToTop=function(se){se.parentNode.appendChild(se)},t.cancelTransition=function(q){return q.transition().duration(0)},t.constrain=function(q,se,$){return se>$?Math.max($,Math.min(se,q)):Math.max(se,Math.min($,q))},t.bBoxIntersect=function(q,se,$){return $=$||0,q.left<=se.right+$&&se.left<=q.right+$&&q.top<=se.bottom+$&&se.top<=q.bottom+$},t.simpleMap=function(q,se,$,j,ue){for(var ae=q.length,ce=new Array(ae),ye=0;ye<ae;ye++)ce[ye]=se(q[ye],$,j,ue);return ce},t.randstr=function q(se,$,j,ue){if(j||(j=16),$===void 0&&($=24),$<=0)return"0";var ae=Math.log(Math.pow(2,$))/Math.log(j),ce="",ye,Ce,Ae;for(ye=2;ae===1/0;ye*=2)ae=Math.log(Math.pow(2,$/ye))/Math.log(j)*ye;var Ie=ae-Math.floor(ae);for(ye=0;ye<Math.floor(ae);ye++)Ae=Math.floor(Math.random()*j).toString(j),ce=Ae+ce;Ie&&(Ce=Math.pow(j,Ie),Ae=Math.floor(Math.random()*Ce).toString(j),ce=Ae+ce);var Te=parseInt(ce,j);return se&&se[ce]||Te!==1/0&&Te>=Math.pow(2,$)?ue>10?(t.warn("randstr failed uniqueness"),ce):q(se,$,j,(ue||0)+1):ce},t.OptionControl=function(q,se){q||(q={}),se||(se="opt");var $={};return $.optionList=[],$._newoption=function(j){j[se]=q,$[j.name]=j,$.optionList.push(j)},$["_"+se]=q,$},t.smooth=function(q,se){if(se=Math.round(se)||0,se<2)return q;var $=q.length,j=2*$,ue=2*se-1,ae=new Array(ue),ce=new Array($),ye,Ce,Ae,Ie;for(ye=0;ye<ue;ye++)ae[ye]=(1-Math.cos(Math.PI*(ye+1)/se))/(2*se);for(ye=0;ye<$;ye++){for(Ie=0,Ce=0;Ce<ue;Ce++)Ae=ye+Ce+1-se,Ae<-$?Ae-=j*Math.round(Ae/j):Ae>=j&&(Ae-=j*Math.floor(Ae/j)),Ae<0?Ae=-1-Ae:Ae>=$&&(Ae=j-1-Ae),Ie+=q[Ae]*ae[Ce];ce[ye]=Ie}return ce},t.syncOrAsync=function(q,se,$){var j,ue;function ae(){return t.syncOrAsync(q,se,$)}for(;q.length;)if(ue=q.splice(0,1)[0],j=ue(se),j&&j.then)return j.then(ae);return $&&$(se)},t.stripTrailingSlash=function(q){return q.substr(-1)==="/"?q.substr(0,q.length-1):q},t.noneOrAll=function(q,se,$){if(q){var j=!1,ue=!0,ae,ce;for(ae=0;ae<$.length;ae++)ce=q[$[ae]],ce!=null?j=!0:ue=!1;if(j&&!ue)for(ae=0;ae<$.length;ae++)q[$[ae]]=se[$[ae]]}},t.mergeArray=function(q,se,$,j){var ue=typeof j=="function";if(t.isArrayOrTypedArray(q))for(var ae=Math.min(q.length,se.length),ce=0;ce<ae;ce++){var ye=q[ce];se[ce][$]=ue?j(ye):ye}},t.mergeArrayCastPositive=function(q,se,$){return t.mergeArray(q,se,$,function(j){var ue=+j;return isFinite(ue)&&ue>0?ue:0})},t.fillArray=function(q,se,$,j){if(j=j||t.identity,t.isArrayOrTypedArray(q))for(var ue=0;ue<se.length;ue++)se[ue][$]=j(q[ue])},t.castOption=function(q,se,$,j){j=j||t.identity;var ue=t.nestedProperty(q,$).get();return t.isArrayOrTypedArray(ue)?Array.isArray(se)&&t.isArrayOrTypedArray(ue[se[0]])?j(ue[se[0]][se[1]]):j(ue[se]):ue},t.extractOption=function(q,se,$,j){if($ in q)return q[$];var ue=t.nestedProperty(se,j).get();if(!Array.isArray(ue))return ue};function w(q){var se={};for(var $ in q)for(var j=q[$],ue=0;ue<j.length;ue++)se[j[ue]]=+$;return se}t.tagSelected=function(q,se,$){var j=se.selectedpoints,ue=se._indexToPoints,ae;ue&&(ae=w(ue));function ce(Te){return Te!==void 0&&Te<q.length}for(var ye=0;ye<j.length;ye++){var Ce=j[ye];if(t.isIndex(Ce)||t.isArrayOrTypedArray(Ce)&&t.isIndex(Ce[0])&&t.isIndex(Ce[1])){var Ae=ae?ae[Ce]:Ce,Ie=$?$[Ae]:Ae;ce(Ie)&&(q[Ie].selected=1)}}},t.selIndices2selPoints=function(q){var se=q.selectedpoints,$=q._indexToPoints;if($){for(var j=w($),ue=[],ae=0;ae<se.length;ae++){var ce=se[ae];if(t.isIndex(ce)){var ye=j[ce];t.isIndex(ye)&&ue.push(ye)}}return ue}else return se},t.getTargetArray=function(q,se){var $=se.target;if(typeof $=="string"&&$){var j=t.nestedProperty(q,$).get();return t.isArrayOrTypedArray(j)?j:!1}else if(t.isArrayOrTypedArray($))return $;return!1};function o(q,se,$){var j={};typeof se!="object"&&(se={});var ue=$==="pieLike"?-1:3,ae=Object.keys(q),ce,ye,Ce;for(ce=0;ce<ae.length;ce++)ye=ae[ce],Ce=q[ye],!(ye.charAt(0)==="_"||typeof Ce=="function")&&(ye==="module"?j[ye]=Ce:Array.isArray(Ce)?ye==="colorscale"||ue===-1?j[ye]=Ce.slice():j[ye]=Ce.slice(0,ue):t.isTypedArray(Ce)?ue===-1?j[ye]=Ce.subarray():j[ye]=Ce.subarray(0,ue):Ce&&typeof Ce=="object"?j[ye]=o(q[ye],se[ye],$):j[ye]=Ce);for(ae=Object.keys(se),ce=0;ce<ae.length;ce++)ye=ae[ce],Ce=se[ye],(typeof Ce!="object"||!(ye in j)||typeof j[ye]!="object")&&(j[ye]=Ce);return j}t.minExtend=o,t.titleCase=function(q){return q.charAt(0).toUpperCase()+q.substr(1)},t.containsAny=function(q,se){for(var $=0;$<se.length;$++)if(q.indexOf(se[$])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var _=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return _.test(window.navigator.userAgent)};var b=/iPad|iPhone|iPod/;t.isIOS=function(){return b.test(window.navigator.userAgent)};var I=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var q=I.exec(window.navigator.userAgent);if(q&&q.length===2){var se=parseInt(q[1]);if(!isNaN(se))return se}return null},t.isD3Selection=function(q){return q instanceof p.selection},t.ensureSingle=function(q,se,$,j){var ue=q.select(se+($?"."+$:""));if(ue.size())return ue;var ae=q.append(se);return $&&ae.classed($,!0),j&&ae.call(j),ae},t.ensureSingleById=function(q,se,$,j){var ue=q.select(se+"#"+$);if(ue.size())return ue;var ae=q.append(se).attr("id",$);return j&&ae.call(j),ae},t.objectFromPath=function(q,se){for(var $=q.split("."),j,ue=j={},ae=0;ae<$.length;ae++){var ce=$[ae],ye=null,Ce=$[ae].match(/(.*)\[([0-9]+)\]/);Ce?(ce=Ce[1],ye=Ce[2],j=j[ce]=[],ae===$.length-1?j[ye]=se:j[ye]={},j=j[ye]):(ae===$.length-1?j[ce]=se:j[ce]={},j=j[ce])}return ue};var D=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function k(q){return q.slice(0,2)==="__"}t.expandObjectPaths=function(q){var se,$,j,ue,ae,ce,ye;if(typeof q=="object"&&!Array.isArray(q)){for($ in q)if(q.hasOwnProperty($))if(se=$.match(D)){if(ue=q[$],j=se[1],k(j))continue;delete q[$],q[j]=t.extendDeepNoArrays(q[j]||{},t.objectFromPath($,t.expandObjectPaths(ue))[j])}else if(se=$.match(N)){if(ue=q[$],j=se[1],k(j))continue;if(ae=parseInt(se[2]),delete q[$],q[j]=q[j]||[],se[3]===".")ye=se[4],ce=q[j][ae]=q[j][ae]||{},t.extendDeepNoArrays(ce,t.objectFromPath(ye,t.expandObjectPaths(ue)));else{if(k(j))continue;q[j][ae]=t.expandObjectPaths(ue)}}else{if(k($))continue;q[$]=t.expandObjectPaths(q[$])}}return q},t.numSeparate=function(q,se,$){if($||($=!1),typeof se!="string"||se.length===0)throw new Error("Separator string required for formatting!");typeof q=="number"&&(q=String(q));var j=/(\d+)(\d{3})/,ue=se.charAt(0),ae=se.charAt(1),ce=q.split("."),ye=ce[0],Ce=ce.length>1?ue+ce[1]:"";if(ae&&(ce.length>1||ye.length>4||$))for(;j.test(ye);)ye=ye.replace(j,"$1"+ae+"$2");return ye+Ce},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;t.templateString=function(q,se){var $={};return q.replace(t.TEMPLATE_STRING_REGEX,function(j,ue){var ae;return z.test(ue)?ae=se[ue]:($[ue]=$[ue]||t.nestedProperty(se,ue).get,ae=$[ue]()),t.isValidTextValue(ae)?ae:""})};var F={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return Q.apply(F,arguments)};var O={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return Q.apply(O,arguments)};var B=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function W(q){var se=q.match(B);return se?{key:se[1],op:se[2],number:Number(se[3])}:{key:q,op:null,number:null}}var ee={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return Q.apply(ee,arguments)};var ne=/^[:|\|]/;function Q(q,se,$){var j=this,ue=arguments;se||(se={});var ae={};return q.replace(t.TEMPLATE_STRING_REGEX,function(ce,ye,Ce){var Ae=ye==="xother"||ye==="yother",Ie=ye==="_xother"||ye==="_yother",Te=ye==="_xother_"||ye==="_yother_",Le=ye==="xother_"||ye==="yother_",xe=Ae||Ie||Le||Te,Re=ye;(Ie||Te)&&(Re=Re.substring(1)),(Le||Te)&&(Re=Re.substring(0,Re.length-1));var He=null,Ve=null;if(j.parseMultDiv){var Fe=W(Re);Re=Fe.key,He=Fe.op,Ve=Fe.number}var We;if(xe){if(We=se[Re],We===void 0)return""}else{var ut,ht;for(ht=3;ht<ue.length;ht++)if(ut=ue[ht],!!ut){if(ut.hasOwnProperty(Re)){We=ut[Re];break}if(z.test(Re)||(We=t.nestedProperty(ut,Re).get(),We=ae[Re]||t.nestedProperty(ut,Re).get(),We&&(ae[Re]=We)),We!==void 0)break}}if(We!==void 0&&(He==="*"&&(We*=Ve),He==="/"&&(We/=Ve)),We===void 0&&j)return j.count<j.max&&(t.warn("Variable '"+Re+"' in "+j.name+" could not be found!"),We=ce),j.count===j.max&&t.warn("Too many "+j.name+" warnings - additional warnings will be suppressed"),j.count++,ce;if(Ce){var rt;if(Ce[0]===":"&&(rt=$?$.numberFormat:t.numberFormat,We!==""&&(We=rt(Ce.replace(ne,""))(We))),Ce[0]==="|"){rt=$?$.timeFormat:L;var tt=t.dateTime2ms(We);We=t.formatDate(tt,Ce.replace(ne,""),!1,rt)}}else{var vt=Re+"Label";se.hasOwnProperty(vt)&&(We=se[vt])}return xe&&(We="("+We+")",(Ie||Te)&&(We=" "+We),(Le||Te)&&(We=We+" ")),We})}var le=48,Z=57;t.subplotSort=function(q,se){for(var $=Math.min(q.length,se.length)+1,j=0,ue=0,ae=0;ae<$;ae++){var ce=q.charCodeAt(ae)||0,ye=se.charCodeAt(ae)||0,Ce=ce>=le&&ce<=Z,Ae=ye>=le&&ye<=Z;if(Ce&&(j=10*j+ce-le),Ae&&(ue=10*ue+ye-le),!Ce||!Ae){if(j!==ue)return j-ue;if(ce!==ye)return ce-ye}}return ue-j};var Y=2e9;t.seedPseudoRandom=function(){Y=2e9},t.pseudoRandom=function(){var q=Y;return Y=(69069*Y+1)%4294967296,Math.abs(Y-q)<429496729?t.pseudoRandom():Y/4294967296},t.fillText=function(q,se,$){var j=Array.isArray($)?function(ce){$.push(ce)}:function(ce){$.text=ce},ue=t.extractOption(q,se,"htx","hovertext");if(t.isValidTextValue(ue))return j(ue);var ae=t.extractOption(q,se,"tx","text");if(t.isValidTextValue(ae))return j(ae)},t.isValidTextValue=function(q){return q||q===0},t.formatPercent=function(q,se){se=se||0;for(var $=(Math.round(100*q*Math.pow(10,se))*Math.pow(.1,se)).toFixed(se)+"%",j=0;j<se;j++)$.indexOf(".")!==-1&&($=$.replace("0%","%"),$=$.replace(".%","%"));return $},t.isHidden=function(q){var se=window.getComputedStyle(q).display;return!se||se==="none"},t.strTranslate=function(q,se){return q||se?"translate("+q+","+se+")":""},t.strRotate=function(q){return q?"rotate("+q+")":""},t.strScale=function(q){return q!==1?"scale("+q+")":""},t.getTextTransform=function(q){var se=q.noCenter,$=q.textX,j=q.textY,ue=q.targetX,ae=q.targetY,ce=q.anchorX||0,ye=q.anchorY||0,Ce=q.rotate,Ae=q.scale;return Ae?Ae>1&&(Ae=1):Ae=0,t.strTranslate(ue-Ae*($+ce),ae-Ae*(j+ye))+t.strScale(Ae)+(Ce?"rotate("+Ce+(se?"":" "+$+" "+j)+")":"")},t.setTransormAndDisplay=function(q,se){q.attr("transform",t.getTextTransform(se)),q.style("display",se.scale?null:"none")},t.ensureUniformFontSize=function(q,se){var $=t.extendFlat({},se);return $.size=Math.max(se.size,q._fullLayout.uniformtext.minsize||0),$},t.join2=function(q,se,$){var j=q.length;return j>1?q.slice(0,-1).join(se)+$+q[j-1]:q.join(se)},t.bigFont=function(q){return Math.round(1.2*q)};var re=t.getFirefoxVersion(),X=re!==null&&re<86;t.getPositionFromD3Event=function(){return X?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},63620:function(H){H.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(H,U,e){var p=e(22296),L=/^\w*$/,n=0,C=1,T=2,v=3,g=4;H.exports=function(t,s,a,f){a=a||"name",f=f||"value";var u,l,m,h={};s&&s.length?(m=p(t,s),l=m.get()):l=t,s=s||"";var M={};if(l)for(u=0;u<l.length;u++)M[l[u][a]]=u;var c=L.test(f),i={set:function(d,x){var A=x===null?g:n;if(!l){if(!m||A===g)return;l=[],m.set(l)}var E=M[d];if(E===void 0){if(A===g)return;A=A|v,E=l.length,M[d]=E}else x!==(c?l[E][f]:p(l[E],f).get())&&(A=A|T);var y=l[E]=l[E]||{};return y[a]=d,c?y[f]=x:p(y,f).set(x),x!==null&&(A=A&~g),h[E]=h[E]|A,i},get:function(d){if(l){var x=M[d];if(x!==void 0)return c?l[x][f]:p(l[x],f).get()}},rename:function(d,x){var A=M[d];return A===void 0||(h[A]=h[A]|C,M[x]=A,delete M[d],l[A][a]=x),i},remove:function(d){var x=M[d];if(x===void 0)return i;var A=l[x];if(Object.keys(A).length>2)return h[x]=h[x]|T,i.set(d,null);if(c){for(u=x;u<l.length;u++)h[u]=h[u]|v;for(u=x;u<l.length;u++)M[l[u][a]]--;l.splice(x,1),delete M[d]}else p(A,f).set(null),h[x]=h[x]|T|g;return i},constructUpdate:function(){for(var d,x,A={},E=Object.keys(h),y=0;y<E.length;y++)x=E[y],d=s+"["+x+"]",l[x]?(h[x]&C&&(A[d+"."+a]=l[x][a]),h[x]&T&&(c?A[d+"."+f]=h[x]&g?null:l[x][f]:A[d+"."+f]=h[x]&g?null:p(l[x],f).get())):A[d]=null;return A}};return i}},98356:function(H,U,e){var p=e(24040);H.exports=function(n,C){for(var T=n._context.locale,v=0;v<2;v++){for(var g=n._context.locales,r=0;r<2;r++){var t=(g[T]||{}).dictionary;if(t){var s=t[C];if(s)return s}g=p.localeRegistry}var a=T.split("-")[0];if(a===T)break;T=a}return C}},24248:function(H,U,e){var p=e(20556).dfltConfig,L=e(41792),n=H.exports={};n.log=function(){var C;if(p.logging>1){var T=["LOG:"];for(C=0;C<arguments.length;C++)T.push(arguments[C]);console.trace.apply(console,T)}if(p.notifyOnLogging>1){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"long")}},n.warn=function(){var C;if(p.logging>0){var T=["WARN:"];for(C=0;C<arguments.length;C++)T.push(arguments[C]);console.trace.apply(console,T)}if(p.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"stick")}},n.error=function(){var C;if(p.logging>0){var T=["ERROR:"];for(C=0;C<arguments.length;C++)T.push(arguments[C]);console.error.apply(console,T)}if(p.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"stick")}}},30988:function(H,U,e){var p=e(33428);H.exports=function(n,C,T){var v=n.selectAll("g."+T.replace(/\s/g,".")).data(C,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",T),v.order();var g=n.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][g]=p.select(this)}),v}},52248:function(H,U,e){var p=e(36524);U.init2dArray=function(L,n){for(var C=new Array(L),T=0;T<L;T++)C[T]=new Array(n);return C},U.transposeRagged=function(L){var n=0,C=L.length,T,v;for(T=0;T<C;T++)n=Math.max(n,L[T].length);var g=new Array(n);for(T=0;T<n;T++)for(g[T]=new Array(C),v=0;v<C;v++)g[T][v]=L[v][T];return g},U.dot=function(L,n){if(!(L.length&&n.length)||L.length!==n.length)return null;var C=L.length,T,v;if(L[0].length)for(T=new Array(C),v=0;v<C;v++)T[v]=U.dot(L[v],n);else if(n[0].length){var g=U.transposeRagged(n);for(T=new Array(g.length),v=0;v<g.length;v++)T[v]=U.dot(L,g[v])}else for(T=0,v=0;v<C;v++)T+=L[v]*n[v];return T},U.translationMatrix=function(L,n){return[[1,0,L],[0,1,n],[0,0,1]]},U.rotationMatrix=function(L){var n=L*Math.PI/180;return[[Math.cos(n),-Math.sin(n),0],[Math.sin(n),Math.cos(n),0],[0,0,1]]},U.rotationXYMatrix=function(L,n,C){return U.dot(U.dot(U.translationMatrix(n,C),U.rotationMatrix(L)),U.translationMatrix(-n,-C))},U.apply3DTransform=function(L){return function(){var n=arguments,C=arguments.length===1?n[0]:[n[0],n[1],n[2]||0];return U.dot(L,[C[0],C[1],C[2],1]).slice(0,3)}},U.apply2DTransform=function(L){return function(){var n=arguments;n.length===3&&(n=n[0]);var C=arguments.length===1?n[0]:[n[0],n[1]];return U.dot(L,[C[0],C[1],1]).slice(0,2)}},U.apply2DTransform2=function(L){var n=U.apply2DTransform(L);return function(C){return n(C.slice(0,2)).concat(n(C.slice(2,4)))}},U.convertCssMatrix=function(L){if(L){var n=L.length;if(n===16)return L;if(n===6)return[L[0],L[1],0,0,L[2],L[3],0,0,0,0,1,0,L[4],L[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},U.inverseTransformMatrix=function(L){var n=[];return p.invert(n,L),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}},20435:function(H){function U(p,L){var n=p%L;return n<0?n+L:n}function e(p,L){return Math.abs(p)>L/2?p-Math.round(p/L)*L:p}H.exports={mod:U,modHalf:e}},22296:function(H,U,e){var p=e(38248),L=e(38116).isArrayOrTypedArray;H.exports=function(f,u){if(p(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var l=u.split("."),m,h,M,c;for(c=0;c<l.length;c++)if(String(l[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<l.length;){if(m=String(l[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])l[c]=m[1];else if(c===0)l.splice(0,1);else throw"bad property string";for(h=m[2].substr(1,m[2].length-2).split("]["),M=0;M<h.length;M++)c++,l.splice(c,0,Number(h[M]))}c++}return typeof f!="object"?s(f,u,l):{set:v(f,l,u),get:n(f,l),astr:u,parts:l,obj:f}};function n(a,f){return function(){var u=a,l,m,h,M,c;for(M=0;M<f.length-1;M++){if(l=f[M],l===-1){for(m=!0,h=[],c=0;c<u.length;c++)h[c]=n(u[c],f.slice(M+1))(),h[c]!==h[0]&&(m=!1);return m?h[0]:h}if(typeof l=="number"&&!L(u)||(u=u[l],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(h=u[f[M]],h!==null))return h}}var C=/(^|\.)args\[/;function T(a,f){return a===void 0||a===null&&!f.match(C)}function v(a,f,u){return function(l){var m=a,h="",M=T(l,u),c,i;for(i=0;i<f.length-1;i++){if(c=f[i],typeof c=="number"&&!L(m))throw"array index but container is not an array";if(c===-1){if(M=!r(m,f.slice(i+1),l,u),M)break;return}if(!t(m,c,f[i+1],M))break;if(m=m[c],typeof m!="object"||m===null)throw"container is not an object";h=g(h,c)}if(M){if(i===f.length-1&&(delete m[f[i]],Array.isArray(m)&&+f[i]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[f[i]]=l}}function g(a,f){var u=f;return p(f)?u="["+f+"]":a&&(u="."+f),a+u}function r(a,f,u,l){var m=L(u),h=!0,M=u,c=l.replace("-1",0),i=m?!1:T(u,c),d=f[0],x;for(x=0;x<a.length;x++)c=l.replace("-1",x),m&&(M=u[x%u.length],i=T(M,c)),i&&(h=!1),t(a,x,d,i)&&v(a[x],f,l.replace("-1",x))(M);return h}function t(a,f,u,l){if(a[f]===void 0){if(l)return!1;typeof u=="number"?a[f]=[]:a[f]={}}return!0}function s(a,f,u){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:u,obj:a}}},16628:function(H){H.exports=function(){}},41792:function(H,U,e){var p=e(33428),L=e(38248),n=[];H.exports=function(C,T){if(n.indexOf(C)!==-1)return;n.push(C);var v=1e3;L(T)?v=T:T==="long"&&(v=3e3);var g=p.select("body").selectAll(".plotly-notifier").data([0]);g.enter().append("div").classed("plotly-notifier",!0);var r=g.selectAll(".notifier-note").data(n);function t(s){s.duration(700).style("opacity",0).each("end",function(a){var f=n.indexOf(a);f!==-1&&n.splice(f,1),p.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var a=p.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(t)});for(var f=a.append("p"),u=s.split(/<br\s*\/?>/g),l=0;l<u.length;l++)l&&f.append("br"),f.append("span").text(u[l]);T==="stick"?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(H,U,e){var p=e(93972),L="data-savedcursor",n="!!";H.exports=function(T,v){var g=T.attr(L);if(v){if(!g){for(var r=(T.attr("class")||"").split(" "),t=0;t<r.length;t++){var s=r[t];s.indexOf("cursor-")===0&&T.attr(L,s.substr(7)).classed(s,!1)}T.attr(L)||T.attr(L,n)}p(T,v)}else g&&(T.attr(L,null),g===n?p(T):p(T,g))}},92065:function(H,U,e){var p=e(52248).dot,L=e(39032).BADNUM,n=H.exports={};n.tester=function(T){var v=T.slice(),g=v[0][0],r=g,t=v[0][1],s=t,a;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),a=1;a<v.length;a++)g=Math.min(g,v[a][0]),r=Math.max(r,v[a][0]),t=Math.min(t,v[a][1]),s=Math.max(s,v[a][1]);var f=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(f=!0,u=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(f=!0,u=function(c){return c[1]===v[0][1]}));function l(c,i){var d=c[0],x=c[1];return!(d===L||d<g||d>r||x===L||x<t||x>s||i&&u(c))}function m(c,i){var d=c[0],x=c[1];if(d===L||d<g||d>r||x===L||x<t||x>s)return!1;var A=v.length,E=v[0][0],y=v[0][1],S=0,w,o,_,b,I;for(w=1;w<A;w++)if(o=E,_=y,E=v[w][0],y=v[w][1],b=Math.min(o,E),!(d<b||d>Math.max(o,E)||x>Math.max(_,y)))if(x<Math.min(_,y))d!==b&&S++;else{if(E===o?I=x:I=_+(d-o)*(y-_)/(E-o),x===I)return!(w===1&&i);x<=I&&d!==b&&S++}return S%2===1}var h=!0,M=v[0];for(a=1;a<v.length;a++)if(M[0]!==v[a][0]||M[1]!==v[a][1]){h=!1;break}return{xmin:g,xmax:r,ymin:t,ymax:s,pts:v,contains:f?l:m,isRect:f,degenerate:h}},n.isSegmentBent=function(T,v,g,r){var t=T[v],s=[T[g][0]-t[0],T[g][1]-t[1]],a=p(s,s),f=Math.sqrt(a),u=[-s[1]/f,s[0]/f],l,m,h;for(l=v+1;l<g;l++)if(m=[T[l][0]-t[0],T[l][1]-t[1]],h=p(m,s),h<0||h>a||Math.abs(p(m,u))>r)return!0;return!1},n.filter=function(T,v){var g=[T[0]],r=0,t=0;function s(f){T.push(f);var u=g.length,l=r;g.splice(t+1);for(var m=l+1;m<T.length;m++)(m===T.length-1||n.isSegmentBent(T,l,m+1,v))&&(g.push(T[m]),g.length<u-2&&(r=m,t=g.length-1),l=m)}if(T.length>1){var a=T.pop();s(a)}return{addPt:s,raw:T,filtered:g}}},5048:function(H,U,e){var p=e(16576),L=e(28624);H.exports=function(C,T,v){var g=C._fullLayout,r=!0;return g._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!g._has("parcoords"))){try{t.regl=L({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:T||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(s){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:s,layer:t.key})},!1)}}),r||p({container:g._glcontainer.node()}),r}},34296:function(H,U,e){var p=e(38248),L=e(25928);H.exports=function(T){var v;if(T&&T.hasOwnProperty("userAgent")?v=T.userAgent:v=n(),typeof v!="string")return!0;var g=L({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!g)for(var r=v.split(" "),t=1;t<r.length;t++){var s=r[t];if(s.indexOf("Safari")!==-1)for(var a=t-1;a>-1;a--){var f=r[a];if(f.substr(0,8)==="Version/"){var u=f.substr(8).split(".")[0];if(p(u)&&(u=+u),u>=13)return!0}}}return g};function n(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},52416:function(H){H.exports=function(e,p){if(p instanceof RegExp){for(var L=p.toString(),n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===L)return e;e.push(p)}else(p||p===0)&&e.indexOf(p)===-1&&e.push(p);return e}},94552:function(H,U,e){var p=e(3400),L=e(20556).dfltConfig;function n(T,v){for(var g=[],r,t=0;t<v.length;t++)r=v[t],r===T?g[t]=r:typeof r=="object"?g[t]=Array.isArray(r)?p.extendDeep([],r):p.extendDeepAll({},r):g[t]=r;return g}var C={};C.add=function(T,v,g,r,t){var s,a;if(T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},a=T.undoQueue.index,T.autoplay){T.undoQueue.inSequence||(T.autoplay=!1);return}!T.undoQueue.sequence||T.undoQueue.beginSequence?(s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},T.undoQueue.queue.splice(a,T.undoQueue.queue.length-a,s),T.undoQueue.index+=1):s=T.undoQueue.queue[a-1],T.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(v),s.undo.args.unshift(g),s.redo.calls.push(r),s.redo.args.push(t)),T.undoQueue.queue.length>L.queueLength&&(T.undoQueue.queue.shift(),T.undoQueue.index--)},C.startSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!0,T.undoQueue.beginSequence=!0},C.stopSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!1,T.undoQueue.beginSequence=!1},C.undo=function(v){var g,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,g=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<g.undo.calls.length;r++)C.plotDo(v,g.undo.calls[r],g.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},C.redo=function(v){var g,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(g=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<g.redo.calls.length;r++)C.plotDo(v,g.redo.calls[r],g.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},C.plotDo=function(T,v,g){T.autoplay=!0,g=n(T,g),v.apply(null,g)},H.exports=C},53756:function(H,U){U.counter=function(e,p,L,n){var C=(p||"")+(L?"":"$"),T=n===!1?"":"^";return e==="xy"?new RegExp(T+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(T+e+"([2-9]|[1-9][0-9]+)?"+C)}},23193:function(H){var U=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;H.exports=function(p,L){for(;L;){var n=p.match(U);if(n)p=n[1];else if(p.match(e))p="";else throw new Error("bad relativeAttr call:"+[p,L]);if(L.charAt(0)==="^")L=L.slice(1);else break}return p&&L.charAt(0)!=="["?p+"."+L:p+L}},51528:function(H,U,e){var p=e(38116).isArrayOrTypedArray,L=e(63620);H.exports=function n(C,T){for(var v in T){var g=T[v],r=C[v];if(r!==g)if(v.charAt(0)==="_"||typeof g=="function"){if(v in C)continue;C[v]=g}else if(p(g)&&p(r)&&L(g[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(g.length,r.length),s=0;s<t;s++)r[s]!==g[s]&&L(g[s])&&L(r[s])&&n(r[s],g[s])}else L(g)&&L(r)&&(n(r,g),Object.keys(r).length||delete C[v])}}},14952:function(H,U,e){var p=e(38248),L=e(24248),n=e(35536),C=e(39032).BADNUM,T=1e-9;U.findBin=function(s,a,f){if(p(a.start))return f?Math.ceil((s-a.start)/a.size-T)-1:Math.floor((s-a.start)/a.size+T);var u=0,l=a.length,m=0,h=l>1?(a[l-1]-a[0])/(l-1):1,M,c;for(h>=0?c=f?v:g:c=f?t:r,s+=h*T*(f?-1:1)*(h>=0?1:-1);u<l&&m++<100;)M=Math.floor((u+l)/2),c(a[M],s)?u=M+1:l=M;return m>90&&L.log("Long binary search..."),u-1};function v(s,a){return s<a}function g(s,a){return s<=a}function r(s,a){return s>a}function t(s,a){return s>=a}U.sorterAsc=function(s,a){return s-a},U.sorterDes=function(s,a){return a-s},U.distinctVals=function(s){var a=s.slice();a.sort(U.sorterAsc);var f;for(f=a.length-1;f>-1&&a[f]===C;f--);for(var u=a[f]-a[0]||1,l=u/(f||1)/1e4,m=[],h,M=0;M<=f;M++){var c=a[M],i=c-h;h===void 0?(m.push(c),h=c):i>l&&(u=Math.min(u,i),m.push(c),h=c)}return{vals:m,minDiff:u}},U.roundUp=function(s,a,f){for(var u=0,l=a.length-1,m,h=0,M=f?0:1,c=f?1:0,i=f?Math.ceil:Math.floor;u<l&&h++<100;)m=i((u+l)/2),a[m]<=s?u=m+M:l=m-c;return a[u]},U.sort=function(s,a){for(var f=0,u=0,l=1;l<s.length;l++){var m=a(s[l],s[l-1]);if(m<0?f=1:m>0&&(u=1),f&&u)return s.sort(a)}return u?s:s.reverse()},U.findIndexOfMin=function(s,a){a=a||n;for(var f=1/0,u,l=0;l<s.length;l++){var m=a(s[l]);m<f&&(f=m,u=l)}return u}},93972:function(H){H.exports=function(e,p){(e.attr("class")||"").split(" ").forEach(function(L){L.indexOf("cursor-")===0&&e.classed(L,!1)}),p&&e.classed("cursor-"+p,!0)}},16576:function(H,U,e){var p=e(76308),L=function(){};H.exports=function(C){for(var T in C)typeof C[T]=="function"&&(C[T]=L);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=p.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=p.lightLine,v.style["z-index"]=30;var g=document.createElement("p");return g.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",g.style.position="relative",g.style.top="50%",g.style.left="50%",g.style.height="30%",g.style.width="50%",g.style.margin="-15% 0 0 -25%",v.appendChild(g),C.container.appendChild(v),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(H){H.exports=function(e){return Object.keys(e).sort()}},63084:function(H,U,e){var p=e(38248),L=e(38116).isArrayOrTypedArray;U.aggNums=function(n,C,T,v){var g,r;if((!v||v>T.length)&&(v=T.length),p(C)||(C=!1),L(T[0])){for(r=new Array(v),g=0;g<v;g++)r[g]=U.aggNums(n,C,T[g]);T=r}for(g=0;g<v;g++)p(C)?p(T[g])&&(C=n(+C,+T[g])):C=T[g];return C},U.len=function(n){return U.aggNums(function(C){return C+1},0,n)},U.mean=function(n,C){return C||(C=U.len(n)),U.aggNums(function(T,v){return T+v},0,n)/C},U.midRange=function(n){if(!(n===void 0||n.length===0))return(U.aggNums(Math.max,null,n)+U.aggNums(Math.min,null,n))/2},U.variance=function(n,C,T){return C||(C=U.len(n)),p(T)||(T=U.mean(n,C)),U.aggNums(function(v,g){return v+Math.pow(g-T,2)},0,n)/C},U.stdev=function(n,C,T){return Math.sqrt(U.variance(n,C,T))},U.median=function(n){var C=n.slice().sort();return U.interp(C,.5)},U.interp=function(n,C){if(!p(C))throw"n should be a finite number";if(C=C*n.length-.5,C<0)return n[0];if(C>n.length-1)return n[n.length-1];var T=C%1;return T*n[Math.ceil(C)]+(1-T)*n[Math.floor(C)]}},43080:function(H,U,e){var p=e(72160);function L(n){return n?p(n):[0,0,0,1]}H.exports=L},9188:function(H,U,e){var p=e(2264),L=e(43616),n=e(3400),C=null;function T(){if(C!==null)return C;C=!1;var v=n.isIE()||n.isSafari()||n.isIOS();if(window.navigator.userAgent&&!v){var g=Array.from(p.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")C=g.some(function(f){return r.apply(null,f)});else{var t=L.tester.append("image").attr("style",p.STYLE),s=window.getComputedStyle(t.node()),a=s.imageRendering;C=g.some(function(f){var u=f[1];return a===u||a===u.toLowerCase()}),t.remove()}}return C}H.exports=T},72736:function(H,U,e){var p=e(33428),L=e(3400),n=L.strTranslate,C=e(9616),T=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;U.convertToTspans=function(F,O,B){var W=F.text(),ee=!F.attr("data-notex")&&O&&O._context.typesetMath&&typeof MathJax<"u"&&W.match(v),ne=p.select(F.node().parentNode);if(ne.empty())return;var Q=F.attr("class")?F.attr("class").split(" ")[0]:"text";Q+="-math",ne.selectAll("svg."+Q).remove(),ne.selectAll("g."+Q+"-group").remove(),F.style("display",null).attr({"data-unformatted":W,"data-math":"N"});function le(){ne.empty()||(Q=F.attr("class")+"-math",ne.select("svg."+Q).remove()),F.text("").style("white-space","pre");var Z=D(F.node(),W);Z&&F.style("pointer-events","all"),U.positionText(F),B&&B.call(F)}return ee?(O&&O._promises||[]).push(new Promise(function(Z){F.style("display","none");var Y=parseInt(F.node().style.fontSize,10),re={fontSize:Y};a(ee[2],re,function(X,q,se){ne.selectAll("svg."+Q).remove(),ne.selectAll("g."+Q+"-group").remove();var $=X&&X.select("svg");if(!$||!$.node()){le(),Z();return}var j=ne.append("g").classed(Q+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});j.node().appendChild($.node()),q&&q.node()&&$.node().insertBefore(q.node().cloneNode(!0),$.node().firstChild);var ue=se.width,ae=se.height;$.attr({class:Q,height:ae,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ce=F.node().style.fill||"black",ye=$.select("g");ye.attr({fill:ce,stroke:ce});var Ce=ye.node().getBoundingClientRect(),Ae=Ce.width,Ie=Ce.height;(Ae>ue||Ie>ae)&&($.style("overflow","hidden"),Ce=$.node().getBoundingClientRect(),Ae=Ce.width,Ie=Ce.height);var Te=+F.attr("x"),Le=+F.attr("y"),xe=Y||F.node().getBoundingClientRect().height,Re=-xe/4;if(Q[0]==="y")j.attr({transform:"rotate("+[-90,Te,Le]+")"+n(-Ae/2,Re-Ie/2)});else if(Q[0]==="l")Le=Re-Ie/2;else if(Q[0]==="a"&&Q.indexOf("atitle")!==0)Te=0,Le=Re;else{var He=F.attr("text-anchor");Te=Te-Ae*(He==="middle"?.5:He==="end"?1:0),Le=Le+Re-Ie/2}$.attr({x:Te,y:Le}),B&&B.call(F,j),Z(j)})})):le(),F};var g=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(F){return F.replace(g,"\\lt ").replace(r,"\\gt ")}var s=[["$","$"],["\\(","\\)"]];function a(F,O,B){var W=parseInt((MathJax.version||"").split(".")[0]);if(W!==2&&W!==3){L.warn("No MathJax version:",MathJax.version);return}var ee,ne,Q,le,Z=function(){return ne=L.extendDeepAll({},MathJax.Hub.config),Q=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},Y=function(){ne=L.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s},re=function(){if(ee=MathJax.Hub.config.menuSettings.renderer,ee!=="SVG")return MathJax.Hub.setRenderer("SVG")},X=function(){ee=MathJax.config.startup.output,ee!=="svg"&&(MathJax.config.startup.output="svg")},q=function(){var ce="math-output-"+L.randstr({},64);le=p.select("body").append("div").attr({id:ce}).style({visibility:"hidden",position:"absolute","font-size":O.fontSize+"px"}).text(t(F));var ye=le.node();return W===2?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},se=function(){var ce=le.select(W===2?".MathJax_SVG":".MathJax"),ye=!ce.empty()&&le.select("svg").node();if(!ye)L.log("There was an error in the tex syntax.",F),B();else{var Ce=ye.getBoundingClientRect(),Ae;W===2?Ae=p.select("body").select("#MathJax_SVG_glyphs"):Ae=ce.select("defs"),B(ce,Ae,Ce)}le.remove()},$=function(){if(ee!=="SVG")return MathJax.Hub.setRenderer(ee)},j=function(){ee!=="svg"&&(MathJax.config.startup.output=ee)},ue=function(){return Q!==void 0&&(MathJax.Hub.processSectionDelay=Q),MathJax.Hub.Config(ne)},ae=function(){MathJax.config=ne};W===2?MathJax.Hub.Queue(Z,re,q,se,$,ue):W===3&&(Y(),X(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){q(),se(),j(),ae()}))}var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},m="",h=["http:","https:","mailto:","",void 0,":"],M=U.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,i=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;U.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,E=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,y=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(F,O){if(!F)return null;var B=F.match(O),W=B&&(B[3]||B[4]);return W&&b(W)}var w=/(^|;)\s*color:/;U.plainText=function(F,O){O=O||{};for(var B=O.len!==void 0&&O.len!==-1?O.len:1/0,W=O.allowedTags!==void 0?O.allowedTags:["br"],ee="...",ne=ee.length,Q=F.split(c),le=[],Z="",Y=0,re=0;re<Q.length;re++){var X=Q[re],q=X.match(i),se=q&&q[2].toLowerCase();if(se)W.indexOf(se)!==-1&&(le.push(X),Z=se);else{var $=X.length;if(Y+$<B)le.push(X),Y+=$;else if(Y<B){var j=B-Y;Z&&(Z!=="br"||j<=ne||$<=ne)&&le.pop(),B>ne?le.push(X.substr(0,j-ne)+ee):le.push(X.substr(0,j));break}Z=""}}return le.join("")};var o={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},_=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function b(F){return F.replace(_,function(O,B){var W;return B.charAt(0)==="#"?W=I(B.charAt(1)==="x"?parseInt(B.substr(2),16):parseInt(B.substr(1),10)):W=o[B],W||O})}U.convertEntities=b;function I(F){if(!(F>1114111)){var O=String.fromCodePoint;if(O)return O(F);var B=String.fromCharCode;return F<=65535?B(F):B((F>>10)+55232,F%1024+56320)}}function D(F,O){O=O.replace(M," ");var B=!1,W=[],ee,ne=-1;function Q(){ne++;var Ie=document.createElementNS(C.svg,"tspan");p.select(Ie).attr({class:"line",dy:ne*T+"em"}),F.appendChild(Ie),ee=Ie;var Te=W;if(W=[{node:Ie}],Te.length>1)for(var Le=1;Le<Te.length;Le++)le(Te[Le])}function le(Ie){var Te=Ie.type,Le={},xe;if(Te==="a"){xe="a";var Re=Ie.target,He=Ie.href,Ve=Ie.popup;He&&(Le={"xlink:xlink:show":Re==="_blank"||Re.charAt(0)!=="_"?"new":"replace",target:Re,"xlink:xlink:href":He},Ve&&(Le.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ve+'");return false;'))}else xe="tspan";Ie.style&&(Le.style=Ie.style);var Fe=document.createElementNS(C.svg,xe);if(Te==="sup"||Te==="sub"){Z(ee,m),ee.appendChild(Fe);var We=document.createElementNS(C.svg,"tspan");Z(We,m),p.select(We).attr("dy",l[Te]),Le.dy=u[Te],ee.appendChild(Fe),ee.appendChild(We)}else ee.appendChild(Fe);p.select(Fe).attr(Le),ee=Ie.node=Fe,W.push(Ie)}function Z(Ie,Te){Ie.appendChild(document.createTextNode(Te))}function Y(Ie){if(W.length===1){L.log("Ignoring unexpected end tag </"+Ie+">.",O);return}var Te=W.pop();Ie!==Te.type&&L.log("Start tag <"+Te.type+"> doesnt match end tag <"+Ie+">. Pretending it did match.",O),ee=W[W.length-1].node}var re=d.test(O);re?Q():(ee=F,W=[{node:F}]);for(var X=O.split(c),q=0;q<X.length;q++){var se=X[q],$=se.match(i),j=$&&$[2].toLowerCase(),ue=f[j];if(j==="br")Q();else if(ue===void 0)Z(ee,b(se));else if($[1])Y(j);else{var ae=$[4],ce={type:j},ye=S(ae,x);if(ye?(ye=ye.replace(w,"$1 fill:"),ue&&(ye+=";"+ue)):ue&&(ye=ue),ye&&(ce.style=ye),j==="a"){B=!0;var Ce=S(ae,A);if(Ce){var Ae=N(Ce);Ae&&(ce.href=Ae,ce.target=S(ae,E)||"_blank",ce.popup=S(ae,y))}}le(ce)}}return B}function N(F){var O=encodeURI(decodeURI(F)),B=document.createElement("a"),W=document.createElement("a");B.href=F,W.href=O;var ee=B.protocol,ne=W.protocol;return h.indexOf(ee)!==-1&&h.indexOf(ne)!==-1?O:""}U.sanitizeHTML=function(O){O=O.replace(M," ");for(var B=document.createElement("p"),W=B,ee=[],ne=O.split(c),Q=0;Q<ne.length;Q++){var le=ne[Q],Z=le.match(i),Y=Z&&Z[2].toLowerCase();if(Y in f)if(Z[1])ee.length&&(W=ee.pop());else{var re=Z[4],X=S(re,x),q=X?{style:X}:{};if(Y==="a"){var se=S(re,A);if(se){var $=N(se);if($){q.href=$;var j=S(re,E);j&&(q.target=j)}}}var ue=document.createElement(Y);W.appendChild(ue),p.select(ue).attr(q),W=ue,ee.push(ue)}else W.appendChild(document.createTextNode(b(le)))}var ae="innerHTML";return B[ae]},U.lineCount=function(O){return O.selectAll("tspan.line").size()||1},U.positionText=function(O,B,W){return O.each(function(){var ee=p.select(this);function ne(Z,Y){return Y===void 0?(Y=ee.attr(Z),Y===null&&(ee.attr(Z,0),Y=0)):ee.attr(Z,Y),Y}var Q=ne("x",B),le=ne("y",W);this.nodeName==="text"&&ee.selectAll("tspan.line").attr({x:Q,y:le})})};function k(F,O,B){var W=B.horizontalAlign,ee=B.verticalAlign||"top",ne=F.node().getBoundingClientRect(),Q=O.node().getBoundingClientRect(),le,Z,Y;return ee==="bottom"?Z=function(){return ne.bottom-le.height}:ee==="middle"?Z=function(){return ne.top+(ne.height-le.height)/2}:Z=function(){return ne.top},W==="right"?Y=function(){return ne.right-le.width}:W==="center"?Y=function(){return ne.left+(ne.width-le.width)/2}:Y=function(){return ne.left},function(){le=this.node().getBoundingClientRect();var re=Y()-Q.left,X=Z()-Q.top,q=B.gd||{};if(B.gd){q._fullLayout._calcInverseTransform(q);var se=L.apply3DTransform(q._fullLayout._invTransform)(re,X);re=se[0],X=se[1]}return this.style({top:X+"px",left:re+"px","z-index":1e3}),this}}var z="1px ";U.makeTextShadow=function(F){var O=z,B=z,W=z;return O+B+W+F+", -"+O+"-"+B+W+F+", "+O+"-"+B+W+F+", -"+O+B+W+F},U.makeEditable=function(F,O){var B=O.gd,W=O.delegate,ee=p.dispatch("edit","input","cancel"),ne=W||F;if(F.style({"pointer-events":W?"none":"all"}),F.size()!==1)throw new Error("boo");function Q(){Z(),F.style({opacity:0});var Y=ne.attr("class"),re;Y?re="."+Y.split(" ")[0]+"-math-group":re="[class*=-math-group]",re&&p.select(F.node().parentNode).select(re).style({opacity:0})}function le(Y){var re=Y.node(),X=document.createRange();X.selectNodeContents(re);var q=window.getSelection();q.removeAllRanges(),q.addRange(X),re.focus()}function Z(){var Y=p.select(B),re=Y.select(".svg-container"),X=re.append("div"),q=F.node().style,se=parseFloat(q.fontSize||12),$=O.text;$===void 0&&($=F.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":q.fontFamily||"Arial","font-size":se,color:O.fill||q.fill||"black",opacity:1,"background-color":O.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text($).call(k(F,re,O)).on("blur",function(){B._editing=!1,F.text(this.textContent).style({opacity:1});var j=p.select(this).attr("class"),ue;j?ue="."+j.split(" ")[0]+"-math-group":ue="[class*=-math-group]",ue&&p.select(F.node().parentNode).select(ue).style({opacity:0});var ae=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),ee.edit.call(F,ae)}).on("focus",function(){var j=this;B._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===j)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){p.event.which===27?(B._editing=!1,F.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ee.cancel.call(F,this.textContent)):(ee.input.call(F,this.textContent),p.select(this).call(k(F,re,O)))}).on("keydown",function(){p.event.which===13&&this.blur()}).call(le)}return O.immediate?Q():ne.on("click",Q),p.rebind(F,ee,"on")}},91200:function(H,U){var e={};U.throttle=function(n,C,T){var v=e[n],g=Date.now();if(!v){for(var r in e)e[r].ts<g-6e4&&delete e[r];v=e[n]={ts:0,timer:null}}p(v);function t(){T(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(g>v.ts+C){t();return}v.timer=setTimeout(function(){t(),v.timer=null},C)},U.done=function(L){var n=e[L];return!n||!n.timer?Promise.resolve():new Promise(function(C){var T=n.onDone;n.onDone=function(){T&&T(),C(),n.onDone=null}})},U.clear=function(L){if(L)p(e[L]),delete e[L];else for(var n in e)U.clear(n)};function p(L){L&&L.timer!==null&&(clearTimeout(L.timer),L.timer=null)}},36896:function(H,U,e){var p=e(38248);H.exports=function(n,C){if(n>0)return Math.log(n)/Math.LN10;var T=Math.log(Math.min(C[0],C[1]))/Math.LN10;return p(T)||(T=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),T}},59972:function(H,U,e){var p=H.exports={},L=e(79552).locationmodeToLayer,n=e(55712).NO;p.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},p.getTopojsonPath=function(C,T){return C+T+".json"},p.getTopojsonFeatures=function(C,T){var v=L[C.locationmode],g=T.objects[v];return n(T,g).features}},11680:function(H){H.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(H){H.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(H,U,e){var p=e(24040);H.exports=function(n){for(var C=p.layoutArrayContainers,T=p.layoutArrayRegexes,v=n.split("[")[0],g,r,t=0;t<T.length;t++)if(r=n.match(T[t]),r&&r.index===0){g=r[0];break}if(g||(g=C[C.indexOf(v)]),!g)return!1;var s=n.substr(g.length);return s?(r=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:g,index:Number(r[1]),property:r[3]||""}:!1):{array:g,index:"",property:""}}},67824:function(H,U,e){var p=e(92880).extendFlat,L=e(63620),n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},C={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},T=n.flags.slice().concat(["fullReplot"]),v=C.flags.slice().concat("layoutReplot");H.exports={traces:n,layout:C,traceFlags:function(){return g(T)},layoutFlags:function(){return g(v)},update:function(s,a){var f=a.editType;if(f&&f!=="none")for(var u=f.split("+"),l=0;l<u.length;l++)s[u[l]]=!0},overrideAll:r};function g(s){for(var a={},f=0;f<s.length;f++)a[s[f]]=!1;return a}function r(s,a,f){var u=p({},s);for(var l in u){var m=u[l];L(m)&&(u[l]=t(m,a,f,l))}return f==="from-root"&&(u.editType=a),u}function t(s,a,f,u){if(s.valType){var l=p({},s);if(l.editType=a,Array.isArray(s.items)){l.items=new Array(s.items.length);for(var m=0;m<s.items.length;m++)l.items[m]=t(s.items[m],a)}return l}else return r(s,a,u.charAt(0)==="_"?"nested":"from-root")}},93404:function(H,U,e){var p=e(38248),L=e(61784),n=e(24040),C=e(3400),T=e(7316),v=e(79811),g=e(76308),r=v.cleanId,t=v.getFromTrace,s=n.traceIs;U.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&C.log("Clearing previous rejected promises from queue."),d._promises=[]},U.cleanLayout=function(d){var x,A;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var E=(T.subplotsRegistry.cartesian||{}).attrRegex,y=(T.subplotsRegistry.polar||{}).attrRegex,S=(T.subplotsRegistry.ternary||{}).attrRegex,w=(T.subplotsRegistry.gl3d||{}).attrRegex,o=Object.keys(d);for(x=0;x<o.length;x++){var _=o[x];if(E&&E.test(_)){var b=d[_];b.anchor&&b.anchor!=="free"&&(b.anchor=r(b.anchor)),b.overlaying&&(b.overlaying=r(b.overlaying)),b.type||(b.isdate?b.type="date":b.islog?b.type="log":b.isdate===!1&&b.islog===!1&&(b.type="linear")),(b.autorange==="withzero"||b.autorange==="tozero")&&(b.autorange=!0,b.rangemode="tozero"),b.insiderange&&delete b.range,delete b.islog,delete b.isdate,delete b.categories,h(b,"domain")&&delete b.domain,b.autotick!==void 0&&(b.tickmode===void 0&&(b.tickmode=b.autotick?"auto":"linear"),delete b.autotick),f(b)}else if(y&&y.test(_)){var I=d[_];f(I.radialaxis)}else if(S&&S.test(_)){var D=d[_];f(D.aaxis),f(D.baxis),f(D.caxis)}else if(w&&w.test(_)){var N=d[_],k=N.cameraposition;if(Array.isArray(k)&&k[0].length===4){var z=k[0],F=k[1],O=k[2],B=L([],z),W=[];for(A=0;A<3;++A)W[A]=F[A]+O*B[2+4*A];N.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:F[0],y:F[1],z:F[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}f(N.xaxis),f(N.yaxis),f(N.zaxis)}}var ee=Array.isArray(d.annotations)?d.annotations.length:0;for(x=0;x<ee;x++){var ne=d.annotations[x];C.isPlainObject(ne)&&(ne.ref&&(ne.ref==="paper"?(ne.xref="paper",ne.yref="paper"):ne.ref==="data"&&(ne.xref="x",ne.yref="y"),delete ne.ref),a(ne,"xref"),a(ne,"yref"))}var Q=Array.isArray(d.shapes)?d.shapes.length:0;for(x=0;x<Q;x++){var le=d.shapes[x];C.isPlainObject(le)&&(a(le,"xref"),a(le,"yref"))}var Z=Array.isArray(d.images)?d.images.length:0;for(x=0;x<Z;x++){var Y=d.images[x];C.isPlainObject(Y)&&(a(Y,"xref"),a(Y,"yref"))}var re=d.legend;return re&&(re.x>3?(re.x=1.02,re.xanchor="left"):re.x<-2&&(re.x=-.02,re.xanchor="right"),re.y>3?(re.y=1.02,re.yanchor="bottom"):re.y<-2&&(re.y=-.02,re.yanchor="top")),f(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),g.clean(d),d.template&&d.template.layout&&U.cleanLayout(d.template.layout),d};function a(d,x){var A=d[x],E=x.charAt(0);A&&A!=="paper"&&(d[x]=r(A,E,!0))}function f(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"));function x(A,E){var y=d[A],S=d.title&&d.title[E];y&&!S&&(d.title||(d.title={}),d.title[E]=d[A],delete d[A])}}U.cleanData=function(d){for(var x=0;x<d.length;x++){var A=d[x],E;if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var y=g.defaults,S=A.error_y.color||(s(A,"bar")?g.defaultLine:y[x%y.length]);A.error_y.color=g.addOpacity(g.rgb(S),g.opacity(S)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir==="h"&&(s(A,"bar")||A.type.substr(0,9)==="histogram")&&(A.orientation="h",U.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&U.swapXYData(A),(A.type==="histogramx"||A.type==="histogramy")&&(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=r(A.xaxis,"x")),A.yaxis&&(A.yaxis=r(A.yaxis,"y")),s(A,"gl3d")&&A.scene&&(A.scene=T.subplotsRegistry.gl3d.cleanId(A.scene)),!s(A,"pie-like")&&!s(A,"bar-like"))if(Array.isArray(A.textposition))for(E=0;E<A.textposition.length;E++)A.textposition[E]=m(A.textposition[E]);else A.textposition&&(A.textposition=m(A.textposition));var w=n.getModule(A);if(w&&w.colorbar){var o=w.colorbar.container,_=o?A[o]:A;_&&_.colorscale&&(_.colorscale==="YIGnBu"&&(_.colorscale="YlGnBu"),_.colorscale==="YIOrRd"&&(_.colorscale="YlOrRd"))}if(A.type==="surface"&&C.isPlainObject(A.contours)){var b=["x","y","z"];for(E=0;E<b.length;E++){var I=A.contours[b[E]];C.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var D=(A.increasing||{}).showlegend!==!1,N=(A.decreasing||{}).showlegend!==!1,k=u(A.increasing),z=u(A.decreasing);if(k!==!1&&z!==!1){var F=l(k,z,D,N);F&&(A.name=F)}else(k||z)&&!A.name&&(A.name=k||z)}if(Array.isArray(A.transforms)){var O=A.transforms;for(E=0;E<O.length;E++){var B=O[E];if(C.isPlainObject(B))switch(B.type){case"filter":B.filtersrc&&(B.target=B.filtersrc,delete B.filtersrc),B.calendar&&(B.valuecalendar||(B.valuecalendar=B.calendar),delete B.calendar);break;case"groupby":if(B.styles=B.styles||B.style,B.styles&&!Array.isArray(B.styles)){var W=B.styles,ee=Object.keys(W);B.styles=[];for(var ne=0;ne<ee.length;ne++)B.styles.push({target:ee[ne],value:W[ee[ne]]})}break}}}h(A,"line")&&delete A.line,"marker"in A&&(h(A.marker,"line")&&delete A.marker.line,h(A,"marker")&&delete A.marker),g.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),f(A),A.colorbar&&f(A.colorbar),A.marker&&A.marker.colorbar&&f(A.marker.colorbar),A.line&&A.line.colorbar&&f(A.line.colorbar),A.aaxis&&f(A.aaxis),A.baxis&&f(A.baxis)}};function u(d){if(!C.isPlainObject(d))return!1;var x=d.name;return delete d.name,delete d.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function l(d,x,A,E){if(A&&!E)return d;if(E&&!A||!d.trim())return x;if(!x.trim())return d;var y=Math.min(d.length,x.length),S;for(S=0;S<y&&d.charAt(S)===x.charAt(S);S++);var w=d.substr(0,S);return w.trim()}function m(d){var x="middle",A="center";return typeof d=="string"&&(d.indexOf("top")!==-1?x="top":d.indexOf("bottom")!==-1&&(x="bottom"),d.indexOf("left")!==-1?A="left":d.indexOf("right")!==-1&&(A="right")),x+" "+A}function h(d,x){return x in d&&typeof d[x]=="object"&&Object.keys(d[x]).length===0}U.swapXYData=function(d){var x;if(C.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var A=d.error_y,E="copy_ystyle"in A?A.copy_ystyle:!(A.color||A.thickness||A.width);C.swapAttrs(d,["error_?.copy_ystyle"]),E&&C.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var y=d.hoverinfo.split("+");for(x=0;x<y.length;x++)y[x]==="x"?y[x]="y":y[x]==="y"&&(y[x]="x");d.hoverinfo=y.join("+")}},U.coerceTraceIndices=function(d,x){if(p(x))return[x];if(!Array.isArray(x)||!x.length)return d.data.map(function(y,S){return S});if(Array.isArray(x)){for(var A=[],E=0;E<x.length;E++)C.isIndex(x[E],d.data.length)?A.push(x[E]):C.warn("trace index (",x[E],") is not a number or is out of bounds");return A}return x},U.manageArrayContainers=function(d,x,A){var E=d.obj,y=d.parts,S=y.length,w=y[S-1],o=p(w);if(o&&x===null){var _=y.slice(0,S-1).join("."),b=C.nestedProperty(E,_).get();b.splice(w,1)}else o&&d.get()===void 0&&d.get()===void 0&&(A[d.astr]=null),d.set(x)};var M=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(d){var x=d.search(M);if(x>0)return d.substr(0,x)}U.hasParent=function(d,x){for(var A=c(x);A;){if(A in d)return!0;A=c(A)}return!1};var i=["x","y","z"];U.clearAxisTypes=function(d,x,A){for(var E=0;E<x.length;E++)for(var y=d._fullData[E],S=0;S<3;S++){var w=t(d,y,i[S]);if(w&&w.type!=="log"){var o=w._name,_=w._id.substr(1);if(_.substr(0,5)==="scene"){if(A[_]!==void 0)continue;o=_+"."+o}var b=o+".type";A[o]===void 0&&A[b]===void 0&&C.nestedProperty(d.layout,b).set(null)}}}},22448:function(H,U,e){var p=e(36424);U._doPlot=p._doPlot,U.newPlot=p.newPlot,U.restyle=p.restyle,U.relayout=p.relayout,U.redraw=p.redraw,U.update=p.update,U._guiRestyle=p._guiRestyle,U._guiRelayout=p._guiRelayout,U._guiUpdate=p._guiUpdate,U._storeDirectGUIEdit=p._storeDirectGUIEdit,U.react=p.react,U.extendTraces=p.extendTraces,U.prependTraces=p.prependTraces,U.addTraces=p.addTraces,U.deleteTraces=p.deleteTraces,U.moveTraces=p.moveTraces,U.purge=p.purge,U.addFrames=p.addFrames,U.deleteFrames=p.deleteFrames,U.animate=p.animate,U.setPlotConfig=p.setPlotConfig;var L=e(52200).getGraphDiv,n=e(4016).eraseActiveShape;U.deleteActiveShape=function(T){return n(L(T))},U.toImage=e(67024),U.validate=e(21480),U.downloadImage=e(39792);var C=e(94828);U.makeTemplate=C.makeTemplate,U.validateTemplate=C.validateTemplate},17680:function(H,U,e){var p=e(63620),L=e(16628),n=e(24248),C=e(14952).sorterAsc,T=e(24040);U.containerArrayMatch=e(69820);var v=U.isAddVal=function(t){return t==="add"||p(t)},g=U.isRemoveVal=function(t){return t===null||t==="remove"};U.applyContainerArrayChanges=function(t,s,a,f,u){var l=s.astr,m=T.getComponentMethod(l,"supplyLayoutDefaults"),h=T.getComponentMethod(l,"draw"),M=T.getComponentMethod(l,"drawOne"),c=f.replot||f.recalc||m===L||h===L,i=t.layout,d=t._fullLayout;if(a[""]){Object.keys(a).length>1&&n.warn("Full array edits are incompatible with other edits",l);var x=a[""][""];if(g(x))s.set(null);else if(Array.isArray(x))s.set(x);else return n.warn("Unrecognized full array edit value",l,x),!0;return c?!1:(m(i,d),h(t),!0)}var A=Object.keys(a).map(Number).sort(C),E=s.get(),y=E||[],S=u(d,l).get(),w=[],o=-1,_=y.length,b,I,D,N,k,z,F,O;for(b=0;b<A.length;b++){if(D=A[b],N=a[D],k=Object.keys(N),z=N[""],F=v(z),D<0||D>y.length-(F?0:1)){n.warn("index out of range",l,D);continue}if(z!==void 0)k.length>1&&n.warn("Insertion & removal are incompatible with edits to the same index.",l,D),g(z)?w.push(D):F?(z==="add"&&(z={}),y.splice(D,0,z),S&&S.splice(D,0,{})):n.warn("Unrecognized full object edit value",l,D,z),o===-1&&(o=D);else for(I=0;I<k.length;I++)O=l+"["+D+"].",u(y[D],k[I],O).set(N[k[I]])}for(b=w.length-1;b>=0;b--)y.splice(w[b],1),S&&S.splice(w[b],1);if(y.length?E||s.set(y):s.set(null),c)return!1;if(m(i,d),M!==L){var B;if(o===-1)B=A;else{for(_=Math.max(y.length,_),B=[],b=0;b<A.length&&(D=A[b],!(D>=o));b++)B.push(D);for(b=o;b<_;b++)B.push(b)}for(b=0;b<B.length;b++)M(t,B[b])}else h(t);return!0}},36424:function(H,U,e){var p=e(33428),L=e(38248),n=e(52264),C=e(3400),T=C.nestedProperty,v=e(95924),g=e(94552),r=e(24040),t=e(73060),s=e(7316),a=e(54460),f=e(96312),u=e(94724),l=e(43616),m=e(76308),h=e(42464).initInteractions,M=e(9616),c=e(22676).clearOutline,i=e(20556).dfltConfig,d=e(17680),x=e(93404),A=e(39172),E=e(67824),y=e(33816).AX_NAME_PATTERN,S=0,w=5;function o(Ee,Be,je,nt){var dt;if(Ee=C.getGraphDiv(Ee),v.init(Ee),C.isPlainObject(Be)){var xt=Be;Be=xt.data,je=xt.layout,nt=xt.config,dt=xt.frames}var Kt=v.triggerHandler(Ee,"plotly_beforeplot",[Be,je,nt]);if(Kt===!1)return Promise.reject();!Be&&!je&&!C.isPlotDiv(Ee)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Ee);function Jt(){if(dt)return U.addFrames(Ee,dt)}N(Ee,nt),je||(je={}),p.select(Ee).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(Ee._promises)||(Ee._promises=[]);var St=(Ee.data||[]).length===0&&Array.isArray(Be);Array.isArray(Be)&&(x.cleanData(Be),St?Ee.data=Be:Ee.data.push.apply(Ee.data,Be),Ee.empty=!1),(!Ee.layout||St)&&(Ee.layout=x.cleanLayout(je)),s.supplyDefaults(Ee);var Ft=Ee._fullLayout,rr=Ft._has("cartesian");Ft._replotting=!0,(St||Ft._shouldCreateBgLayer)&&(_e(Ee),Ft._shouldCreateBgLayer&&delete Ft._shouldCreateBgLayer),l.initGradients(Ee),l.initPatterns(Ee),St&&a.saveShowSpikeInitial(Ee);var _r=!Ee.calcdata||Ee.calcdata.length!==(Ee._fullData||[]).length;_r&&s.doCalcdata(Ee);for(var Tt=0;Tt<Ee.calcdata.length;Tt++)Ee.calcdata[Tt][0].trace=Ee._fullData[Tt];Ee._context.responsive?Ee._responsiveChartHandler||(Ee._responsiveChartHandler=function(){C.isHidden(Ee)||s.resize(Ee)},window.addEventListener("resize",Ee._responsiveChartHandler)):C.clearResponsive(Ee);var $t=C.extendFlat({},Ft._size),tr=0;function Tr(){for(var Wt=Ft._basePlotModules,Gt=0;Gt<Wt.length;Gt++)Wt[Gt].drawFramework&&Wt[Gt].drawFramework(Ee);!Ft._glcanvas&&Ft._has("gl")&&(Ft._glcanvas=Ft._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(mr){return mr.key}),Ft._glcanvas.enter().append("canvas").attr("class",function(mr){return"gl-canvas gl-canvas-"+mr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var er=Ee._context.plotGlPixelRatio;if(Ft._glcanvas){Ft._glcanvas.attr("width",Ft.width*er).attr("height",Ft.height*er).style("width",Ft.width+"px").style("height",Ft.height+"px");var dr=Ft._glcanvas.data()[0].regl;if(dr&&(Math.floor(Ft.width*er)!==dr._gl.drawingBufferWidth||Math.floor(Ft.height*er)!==dr._gl.drawingBufferHeight)){var pr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(tr)C.error(pr);else return C.log(pr+" Clearing graph and plotting again."),s.cleanPlot([],{},Ee._fullData,Ft),s.supplyDefaults(Ee),Ft=Ee._fullLayout,s.doCalcdata(Ee),tr++,Tr()}}return Ft.modebar.orientation==="h"?Ft._modebardiv.style("height",null).style("width","100%"):Ft._modebardiv.style("width",null).style("height",Ft.height+"px"),s.previousPromises(Ee)}function cr(){if(s.clearAutoMarginIds(Ee),A.drawMarginPushers(Ee),a.allowAutoMargin(Ee),Ee._fullLayout.title.text&&Ee._fullLayout.title.automargin&&s.allowAutoMargin(Ee,"title.automargin"),Ft._has("pie"))for(var Wt=Ee._fullData,Gt=0;Gt<Wt.length;Gt++){var er=Wt[Gt];er.type==="pie"&&er.automargin&&s.allowAutoMargin(Ee,"pie."+er.uid+".automargin")}return s.doAutoMargin(Ee),s.previousPromises(Ee)}function bt(){if(s.didMarginChange($t,Ft._size))return C.syncOrAsync([cr,A.layoutStyles],Ee)}function lt(){if(!_r){Mt();return}return C.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),Mt],Ee)}function Mt(){Ee._transitioning||(A.doAutoRangeAndConstraints(Ee),St&&a.saveRangeInitial(Ee),r.getComponentMethod("rangeslider","calcAutorange")(Ee))}function _t(){return a.draw(Ee,St?"":"redraw")}var Ot=[s.previousPromises,Jt,Tr,cr,bt];rr&&Ot.push(lt),Ot.push(A.layoutStyles),rr&&Ot.push(_t,function(Gt){var er=Gt._fullLayout._insideTickLabelsUpdaterange;if(er)return Gt._fullLayout._insideTickLabelsUpdaterange=void 0,Ce(Gt,er).then(function(){a.saveRangeInitial(Gt,!0)})}),Ot.push(A.drawData,A.finalDraw,h,s.addLinks,s.rehover,s.redrag,s.reselect,s.doAutoMargin,s.previousPromises);var It=C.syncOrAsync(Ot,Ee);return(!It||!It.then)&&(It=Promise.resolve()),It.then(function(){return _(Ee),Ee})}function _(Ee){var Be=Ee._fullLayout;Be._redrawFromAutoMarginCount?Be._redrawFromAutoMarginCount--:Ee.emit("plotly_afterplot")}function b(Ee){return C.extendFlat(i,Ee)}function I(Ee,Be){try{Ee._fullLayout._paper.style("background",Be)}catch(je){C.error(je)}}function D(Ee,Be){var je=m.combine(Be,"white");I(Ee,je)}function N(Ee,Be){if(!Ee._context){Ee._context=C.extendDeep({},i);var je=p.select("base");Ee._context._baseUrl=je.size()&&je.attr("href")?window.location.href.split("#")[0]:""}var nt=Ee._context,dt,xt,Kt;if(Be){for(xt=Object.keys(Be),dt=0;dt<xt.length;dt++)Kt=xt[dt],!(Kt==="editable"||Kt==="edits")&&Kt in nt&&(Kt==="setBackground"&&Be[Kt]==="opaque"?nt[Kt]=D:nt[Kt]=Be[Kt]);Be.plot3dPixelRatio&&!nt.plotGlPixelRatio&&(nt.plotGlPixelRatio=nt.plot3dPixelRatio);var Jt=Be.editable;if(Jt!==void 0)for(nt.editable=Jt,xt=Object.keys(nt.edits),dt=0;dt<xt.length;dt++)nt.edits[xt[dt]]=Jt;if(Be.edits)for(xt=Object.keys(Be.edits),dt=0;dt<xt.length;dt++)Kt=xt[dt],Kt in nt.edits&&(nt.edits[Kt]=Be.edits[Kt]);nt._exportedPlot=Be._exportedPlot}nt.staticPlot&&(nt.editable=!1,nt.edits={},nt.autosizable=!1,nt.scrollZoom=!1,nt.doubleClick=!1,nt.showTips=!1,nt.showLink=!1,nt.displayModeBar=!1),nt.displayModeBar==="hover"&&!n&&(nt.displayModeBar=!0),(nt.setBackground==="transparent"||typeof nt.setBackground!="function")&&(nt.setBackground=I),nt._hasZeroHeight=nt._hasZeroHeight||Ee.clientHeight===0,nt._hasZeroWidth=nt._hasZeroWidth||Ee.clientWidth===0;var St=nt.scrollZoom,Ft=nt._scrollZoom={};if(St===!0)Ft.cartesian=1,Ft.gl3d=1,Ft.geo=1,Ft.mapbox=1;else if(typeof St=="string"){var rr=St.split("+");for(dt=0;dt<rr.length;dt++)Ft[rr[dt]]=1}else St!==!1&&(Ft.gl3d=1,Ft.geo=1,Ft.mapbox=1)}function k(Ee){if(Ee=C.getGraphDiv(Ee),!C.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee);return x.cleanData(Ee.data),x.cleanLayout(Ee.layout),Ee.calcdata=void 0,U._doPlot(Ee).then(function(){return Ee.emit("plotly_redraw"),Ee})}function z(Ee,Be,je,nt){return Ee=C.getGraphDiv(Ee),s.cleanPlot([],{},Ee._fullData||[],Ee._fullLayout||{}),s.purge(Ee),U._doPlot(Ee,Be,je,nt)}function F(Ee,Be){var je=Be+1,nt=[],dt,xt;for(dt=0;dt<Ee.length;dt++)xt=Ee[dt],xt<0?nt.push(je+xt):nt.push(xt);return nt}function O(Ee,Be,je){var nt,dt;for(nt=0;nt<Be.length;nt++){if(dt=Be[nt],dt!==parseInt(dt,10))throw new Error("all values in "+je+" must be integers");if(dt>=Ee.data.length||dt<-Ee.data.length)throw new Error(je+" must be valid indices for gd.data.");if(Be.indexOf(dt,nt+1)>-1||dt>=0&&Be.indexOf(-Ee.data.length+dt)>-1||dt<0&&Be.indexOf(Ee.data.length+dt)>-1)throw new Error("each index in "+je+" must be unique.")}}function B(Ee,Be,je){if(!Array.isArray(Ee.data))throw new Error("gd.data must be an array.");if(typeof Be>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Be)||(Be=[Be]),O(Ee,Be,"currentIndices"),typeof je<"u"&&!Array.isArray(je)&&(je=[je]),typeof je<"u"&&O(Ee,je,"newIndices"),typeof je<"u"&&Be.length!==je.length)throw new Error("current and new indices must be of equal length.")}function W(Ee,Be,je){var nt,dt;if(!Array.isArray(Ee.data))throw new Error("gd.data must be an array.");if(typeof Be>"u")throw new Error("traces must be defined.");for(Array.isArray(Be)||(Be=[Be]),nt=0;nt<Be.length;nt++)if(dt=Be[nt],typeof dt!="object"||Array.isArray(dt)||dt===null)throw new Error("all values in traces array must be non-array objects");if(typeof je<"u"&&!Array.isArray(je)&&(je=[je]),typeof je<"u"&&je.length!==Be.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function ee(Ee,Be,je,nt){var dt=C.isPlainObject(nt);if(!Array.isArray(Ee.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(Be))throw new Error("update must be a key:value object");if(typeof je>"u")throw new Error("indices must be an integer or array of integers");O(Ee,je,"indices");for(var xt in Be){if(!Array.isArray(Be[xt])||Be[xt].length!==je.length)throw new Error("attribute "+xt+" must be an array of length equal to indices array length");if(dt&&(!(xt in nt)||!Array.isArray(nt[xt])||nt[xt].length!==Be[xt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ne(Ee,Be,je,nt){var dt=C.isPlainObject(nt),xt=[],Kt,Jt,St,Ft,rr;Array.isArray(je)||(je=[je]),je=F(je,Ee.data.length-1);for(var _r in Be)for(var Tt=0;Tt<je.length;Tt++){if(Kt=Ee.data[je[Tt]],St=T(Kt,_r),Jt=St.get(),Ft=Be[_r][Tt],!C.isArrayOrTypedArray(Ft))throw new Error("attribute: "+_r+" index: "+Tt+" must be an array");if(!C.isArrayOrTypedArray(Jt))throw new Error("cannot extend missing or non-array attribute: "+_r);if(Jt.constructor!==Ft.constructor)throw new Error("cannot extend array with an array of a different type: "+_r);rr=dt?nt[_r][Tt]:nt,L(rr)||(rr=-1),xt.push({prop:St,target:Jt,insert:Ft,maxp:Math.floor(rr)})}return xt}function Q(Ee,Be,je,nt,dt){ee(Ee,Be,je,nt);for(var xt=ne(Ee,Be,je,nt),Kt={},Jt={},St=0;St<xt.length;St++){var Ft=xt[St].prop,rr=xt[St].maxp,_r=dt(xt[St].target,xt[St].insert,rr);Ft.set(_r[0]),Array.isArray(Kt[Ft.astr])||(Kt[Ft.astr]=[]),Kt[Ft.astr].push(_r[1]),Array.isArray(Jt[Ft.astr])||(Jt[Ft.astr]=[]),Jt[Ft.astr].push(xt[St].target.length)}return{update:Kt,maxPoints:Jt}}function le(Ee,Be){var je=new Ee.constructor(Ee.length+Be.length);return je.set(Ee),je.set(Be,Ee.length),je}function Z(Ee,Be,je,nt){Ee=C.getGraphDiv(Ee);function dt(St,Ft,rr){var _r,Tt;if(C.isTypedArray(St))if(rr<0){var $t=new St.constructor(0),tr=le(St,Ft);rr<0?(_r=tr,Tt=$t):(_r=$t,Tt=tr)}else if(_r=new St.constructor(rr),Tt=new St.constructor(St.length+Ft.length-rr),rr===Ft.length)_r.set(Ft),Tt.set(St);else if(rr<Ft.length){var Tr=Ft.length-rr;_r.set(Ft.subarray(Tr)),Tt.set(St),Tt.set(Ft.subarray(0,Tr),St.length)}else{var cr=rr-Ft.length,bt=St.length-cr;_r.set(St.subarray(bt)),_r.set(Ft,cr),Tt.set(St.subarray(0,bt))}else _r=St.concat(Ft),Tt=rr>=0&&rr<_r.length?_r.splice(0,_r.length-rr):[];return[_r,Tt]}var xt=Q(Ee,Be,je,nt,dt),Kt=U.redraw(Ee),Jt=[Ee,xt.update,je,xt.maxPoints];return g.add(Ee,U.prependTraces,Jt,Z,arguments),Kt}function Y(Ee,Be,je,nt){Ee=C.getGraphDiv(Ee);function dt(St,Ft,rr){var _r,Tt;if(C.isTypedArray(St))if(rr<=0){var $t=new St.constructor(0),tr=le(Ft,St);rr<0?(_r=tr,Tt=$t):(_r=$t,Tt=tr)}else if(_r=new St.constructor(rr),Tt=new St.constructor(St.length+Ft.length-rr),rr===Ft.length)_r.set(Ft),Tt.set(St);else if(rr<Ft.length){var Tr=Ft.length-rr;_r.set(Ft.subarray(0,Tr)),Tt.set(Ft.subarray(Tr)),Tt.set(St,Tr)}else{var cr=rr-Ft.length;_r.set(Ft),_r.set(St.subarray(0,cr),Ft.length),Tt.set(St.subarray(cr))}else _r=Ft.concat(St),Tt=rr>=0&&rr<_r.length?_r.splice(rr,_r.length):[];return[_r,Tt]}var xt=Q(Ee,Be,je,nt,dt),Kt=U.redraw(Ee),Jt=[Ee,xt.update,je,xt.maxPoints];return g.add(Ee,U.extendTraces,Jt,Y,arguments),Kt}function re(Ee,Be,je){Ee=C.getGraphDiv(Ee);var nt=[],dt=U.deleteTraces,xt=re,Kt=[Ee,nt],Jt=[Ee,Be],St,Ft;for(W(Ee,Be,je),Array.isArray(Be)||(Be=[Be]),Be=Be.map(function(rr){return C.extendFlat({},rr)}),x.cleanData(Be),St=0;St<Be.length;St++)Ee.data.push(Be[St]);for(St=0;St<Be.length;St++)nt.push(-Be.length+St);if(typeof je>"u")return Ft=U.redraw(Ee),g.add(Ee,dt,Kt,xt,Jt),Ft;Array.isArray(je)||(je=[je]);try{B(Ee,nt,je)}catch(rr){throw Ee.data.splice(Ee.data.length-Be.length,Be.length),rr}return g.startSequence(Ee),g.add(Ee,dt,Kt,xt,Jt),Ft=U.moveTraces(Ee,nt,je),g.stopSequence(Ee),Ft}function X(Ee,Be){Ee=C.getGraphDiv(Ee);var je=[],nt=U.addTraces,dt=X,xt=[Ee,je,Be],Kt=[Ee,Be],Jt,St;if(typeof Be>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Be)||(Be=[Be]),O(Ee,Be,"indices"),Be=F(Be,Ee.data.length-1),Be.sort(C.sorterDes),Jt=0;Jt<Be.length;Jt+=1)St=Ee.data.splice(Be[Jt],1)[0],je.push(St);var Ft=U.redraw(Ee);return g.add(Ee,nt,xt,dt,Kt),Ft}function q(Ee,Be,je){Ee=C.getGraphDiv(Ee);var nt=[],dt=[],xt=q,Kt=q,Jt=[Ee,je,Be],St=[Ee,Be,je],Ft;if(B(Ee,Be,je),Be=Array.isArray(Be)?Be:[Be],typeof je>"u")for(je=[],Ft=0;Ft<Be.length;Ft++)je.push(-Be.length+Ft);for(je=Array.isArray(je)?je:[je],Be=F(Be,Ee.data.length-1),je=F(je,Ee.data.length-1),Ft=0;Ft<Ee.data.length;Ft++)Be.indexOf(Ft)===-1&&nt.push(Ee.data[Ft]);for(Ft=0;Ft<Be.length;Ft++)dt.push({newIndex:je[Ft],trace:Ee.data[Be[Ft]]});for(dt.sort(function(_r,Tt){return _r.newIndex-Tt.newIndex}),Ft=0;Ft<dt.length;Ft+=1)nt.splice(dt[Ft].newIndex,0,dt[Ft].trace);Ee.data=nt;var rr=U.redraw(Ee);return g.add(Ee,xt,Jt,Kt,St),rr}function se(Ee,Be,je,nt){Ee=C.getGraphDiv(Ee),x.clearPromiseQueue(Ee);var dt={};if(typeof Be=="string")dt[Be]=je;else if(C.isPlainObject(Be))dt=C.extendFlat({},Be),nt===void 0&&(nt=je);else return C.warn("Restyle fail.",Be,je,nt),Promise.reject();Object.keys(dt).length&&(Ee.changed=!0);var xt=x.coerceTraceIndices(Ee,nt),Kt=ce(Ee,dt,xt),Jt=Kt.flags;Jt.calc&&(Ee.calcdata=void 0),Jt.clearAxisTypes&&x.clearAxisTypes(Ee,xt,{});var St=[];Jt.fullReplot?St.push(U._doPlot):(St.push(s.previousPromises),s.supplyDefaults(Ee),Jt.markerSize&&(s.doCalcdata(Ee),Ie(St)),Jt.style&&St.push(A.doTraceStyle),Jt.colorbars&&St.push(A.doColorBars),St.push(_)),St.push(s.rehover,s.redrag,s.reselect),g.add(Ee,se,[Ee,Kt.undoit,Kt.traces],se,[Ee,Kt.redoit,Kt.traces]);var Ft=C.syncOrAsync(St,Ee);return(!Ft||!Ft.then)&&(Ft=Promise.resolve()),Ft.then(function(){return Ee.emit("plotly_restyle",Kt.eventData),Ee})}function $(Ee){return Ee===void 0?null:Ee}function j(Ee,Be){return Be?function(je,nt,dt){var xt=T(je,nt),Kt=xt.set;return xt.set=function(Jt){var St=(dt||"")+nt;ue(St,xt.get(),Jt,Ee),Kt(Jt)},xt}:T}function ue(Ee,Be,je,nt){if(Array.isArray(Be)||Array.isArray(je))for(var dt=Array.isArray(Be)?Be:[],xt=Array.isArray(je)?je:[],Kt=Math.max(dt.length,xt.length),Jt=0;Jt<Kt;Jt++)ue(Ee+"["+Jt+"]",dt[Jt],xt[Jt],nt);else if(C.isPlainObject(Be)||C.isPlainObject(je)){var St=C.isPlainObject(Be)?Be:{},Ft=C.isPlainObject(je)?je:{},rr=C.extendFlat({},St,Ft);for(var _r in rr)ue(Ee+"."+_r,St[_r],Ft[_r],nt)}else nt[Ee]===void 0&&(nt[Ee]=$(Be))}function ae(Ee,Be,je){for(var nt in je){var dt=T(Ee,nt);ue(nt,dt.get(),je[nt],Be)}}function ce(Ee,Be,je){var nt=Ee._fullLayout,dt=Ee._fullData,xt=Ee.data,Kt=nt._guiEditing,Jt=j(nt._preGUI,Kt),St=C.extendDeepAll({},Be),Ft;ye(Be);var rr=E.traceFlags(),_r={},Tt={},$t;function tr(){return je.map(function(){})}function Tr(Fn){var Pr=a.id2name(Fn);$t.indexOf(Pr)===-1&&$t.push(Pr)}function cr(Fn){return"LAYOUT"+Fn+".autorange"}function bt(Fn){return"LAYOUT"+Fn+".range"}function lt(Fn){for(var Pr=Fn;Pr<dt.length;Pr++)if(dt[Pr]._input===xt[Fn])return dt[Pr]}function Mt(Fn,Pr,Or){if(Array.isArray(Fn)){Fn.forEach(function(Mn){Mt(Mn,Pr,Or)});return}if(!(Fn in Be||x.hasParent(Be,Fn))){var Qr;if(Fn.substr(0,6)==="LAYOUT")Qr=Jt(Ee.layout,Fn.replace("LAYOUT",""));else{var Zr=je[Or],vn=nt._tracePreGUI[lt(Zr)._fullInput.uid];Qr=j(vn,Kt)(xt[Zr],Fn)}Fn in Tt||(Tt[Fn]=tr()),Tt[Fn][Or]===void 0&&(Tt[Fn][Or]=$(Qr.get())),Pr!==void 0&&Qr.set(Pr)}}function _t(Fn){return function(Pr){return dt[Pr][Fn]}}function Ot(Fn){return function(Pr,Or){return Pr===!1?dt[je[Or]][Fn]:null}}for(var It in Be){if(x.hasParent(Be,It))throw new Error("cannot set "+It+" and a parent attribute simultaneously");var Wt=Be[It],Gt,er,dr,pr,mr,Xe;if((It==="autobinx"||It==="autobiny")&&(It=It.charAt(It.length-1)+"bins",Array.isArray(Wt)?Wt=Wt.map(Ot(It)):Wt===!1?Wt=je.map(_t(It)):Wt=null),_r[It]=Wt,It.substr(0,6)==="LAYOUT"){dr=Jt(Ee.layout,It.replace("LAYOUT","")),Tt[It]=[$(dr.get())],dr.set(Array.isArray(Wt)?Wt[0]:Wt),rr.calc=!0;continue}for(Tt[It]=tr(),Ft=0;Ft<je.length;Ft++){Gt=xt[je[Ft]],er=lt(je[Ft]);var Ge=nt._tracePreGUI[er._fullInput.uid];if(dr=j(Ge,Kt)(Gt,It),pr=dr.get(),mr=Array.isArray(Wt)?Wt[Ft%Wt.length]:Wt,mr!==void 0){var Ut=dr.parts[dr.parts.length-1],Nt=It.substr(0,It.length-Ut.length-1),Qt=Nt?Nt+".":"",ar=Nt?T(er,Nt).get():er;if(Xe=t.getTraceValObject(er,dr.parts),Xe&&Xe.impliedEdits&&mr!==null)for(var hr in Xe.impliedEdits)Mt(C.relativeAttr(It,hr),Xe.impliedEdits[hr],Ft);else if((Ut==="thicknessmode"||Ut==="lenmode")&&pr!==mr&&(mr==="fraction"||mr==="pixels")&&ar){var or=nt._size,Vt=ar.orient,yr=Vt==="top"||Vt==="bottom";if(Ut==="thicknessmode"){var wr=yr?or.h:or.w;Mt(Qt+"thickness",ar.thickness*(mr==="fraction"?1/wr:wr),Ft)}else{var Ar=yr?or.w:or.h;Mt(Qt+"len",ar.len*(mr==="fraction"?1/Ar:Ar),Ft)}}else if(It==="type"&&(mr==="pie"!=(pr==="pie")||mr==="funnelarea"!=(pr==="funnelarea"))){var gr="x",jr="y";(mr==="bar"||pr==="bar")&&Gt.orientation==="h"&&(gr="y",jr="x"),C.swapAttrs(Gt,["?","?src"],"labels",gr),C.swapAttrs(Gt,["d?","?0"],"label",gr),C.swapAttrs(Gt,["?","?src"],"values",jr),pr==="pie"||pr==="funnelarea"?(T(Gt,"marker.color").set(T(Gt,"marker.colors").get()),nt._pielayer.selectAll("g.trace").remove()):r.traceIs(Gt,"cartesian")&&T(Gt,"marker.colors").set(T(Gt,"marker.color").get())}Tt[It][Ft]=$(pr);var Fr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Fr.indexOf(It)!==-1){if(It==="orientation"){dr.set(mr);var Nr=Gt.x&&!Gt.y?"h":"v";if((dr.get()||Nr)===er.orientation)continue}else It==="orientationaxes"&&(Gt.orientation={v:"h",h:"v"}[er.orientation]);x.swapXYData(Gt),rr.calc=rr.clearAxisTypes=!0}else s.dataArrayContainers.indexOf(dr.parts[0])!==-1?(x.manageArrayContainers(dr,mr,Tt),rr.calc=!0):(Xe?Xe.arrayOk&&!r.traceIs(er,"regl")&&(C.isArrayOrTypedArray(mr)||C.isArrayOrTypedArray(pr))?rr.calc=!0:E.update(rr,Xe):rr.calc=!0,dr.set(mr))}}if(["swapxyaxes","orientationaxes"].indexOf(It)!==-1&&a.swap(Ee,je),It==="orientationaxes"){var wn=T(Ee.layout,"hovermode"),hn=wn.get();hn==="x"?wn.set("y"):hn==="y"?wn.set("x"):hn==="x unified"?wn.set("y unified"):hn==="y unified"&&wn.set("x unified")}if(["orientation","type"].indexOf(It)!==-1){for($t=[],Ft=0;Ft<je.length;Ft++){var Un=xt[je[Ft]];r.traceIs(Un,"cartesian")&&(Tr(Un.xaxis||"x"),Tr(Un.yaxis||"y"))}Mt($t.map(cr),!0,0),Mt($t.map(bt),[0,1],0)}}return(rr.calc||rr.plot)&&(rr.fullReplot=!0),{flags:rr,undoit:Tt,redoit:_r,traces:je,eventData:C.extendDeepNoArrays([],[St,je])}}function ye(Ee){var Be=C.counterRegex("axis",".title",!1,!1),je=/colorbar\.title$/,nt=Object.keys(Ee),dt,xt,Kt;for(dt=0;dt<nt.length;dt++)xt=nt[dt],Kt=Ee[xt],(xt==="title"||Be.test(xt)||je.test(xt))&&(typeof Kt=="string"||typeof Kt=="number")?Jt(xt,xt.replace("title","title.text")):xt.indexOf("titlefont")>-1&&xt.indexOf("grouptitlefont")===-1?Jt(xt,xt.replace("titlefont","title.font")):xt.indexOf("titleposition")>-1?Jt(xt,xt.replace("titleposition","title.position")):xt.indexOf("titleside")>-1?Jt(xt,xt.replace("titleside","title.side")):xt.indexOf("titleoffset")>-1&&Jt(xt,xt.replace("titleoffset","title.offset"));function Jt(St,Ft){Ee[Ft]=Ee[St],delete Ee[St]}}function Ce(Ee,Be,je){Ee=C.getGraphDiv(Ee),x.clearPromiseQueue(Ee);var nt={};if(typeof Be=="string")nt[Be]=je;else if(C.isPlainObject(Be))nt=C.extendFlat({},Be);else return C.warn("Relayout fail.",Be,je),Promise.reject();Object.keys(nt).length&&(Ee.changed=!0);var dt=Re(Ee,nt),xt=dt.flags;xt.calc&&(Ee.calcdata=void 0);var Kt=[s.previousPromises];xt.layoutReplot?Kt.push(A.layoutReplot):Object.keys(nt).length&&(Ae(Ee,xt,dt)||s.supplyDefaults(Ee),xt.legend&&Kt.push(A.doLegend),xt.layoutstyle&&Kt.push(A.layoutStyles),xt.axrange&&Ie(Kt,dt.rangesAltered),xt.ticks&&Kt.push(A.doTicksRelayout),xt.modebar&&Kt.push(A.doModeBar),xt.camera&&Kt.push(A.doCamera),xt.colorbars&&Kt.push(A.doColorBars),Kt.push(_)),Kt.push(s.rehover,s.redrag,s.reselect),g.add(Ee,Ce,[Ee,dt.undoit],Ce,[Ee,dt.redoit]);var Jt=C.syncOrAsync(Kt,Ee);return(!Jt||!Jt.then)&&(Jt=Promise.resolve(Ee)),Jt.then(function(){return Ee.emit("plotly_relayout",dt.eventData),Ee})}function Ae(Ee,Be,je){var nt=Ee._fullLayout;if(!Be.axrange)return!1;for(var dt in Be)if(dt!=="axrange"&&Be[dt])return!1;var xt,Kt,Jt=function($t,tr){return C.coerce(xt,Kt,u,$t,tr)},St={};for(var Ft in je.rangesAltered){var rr=a.id2name(Ft);if(xt=Ee.layout[rr],Kt=nt[rr],f(xt,Kt,Jt,St),Kt._matchGroup){for(var _r in Kt._matchGroup)if(_r!==Ft){var Tt=nt[a.id2name(_r)];Tt.autorange=Kt.autorange,Tt.range=Kt.range.slice(),Tt._input.range=Kt.range.slice()}}}return!0}function Ie(Ee,Be){var je=Be?function(nt){var dt=[],xt=!0;for(var Kt in Be){var Jt=a.getFromId(nt,Kt);if(dt.push(Kt),(Jt.ticklabelposition||"").indexOf("inside")!==-1&&Jt._anchorAxis&&dt.push(Jt._anchorAxis._id),Jt._matchGroup)for(var St in Jt._matchGroup)Be[St]||dt.push(St)}return a.draw(nt,dt,{skipTitle:xt})}:function(nt){return a.draw(nt,"redraw")};Ee.push(c,A.doAutoRangeAndConstraints,je,A.drawData,A.finalDraw)}var Te=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Le=/^[xyz]axis[0-9]*\.autorange$/,xe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Re(Ee,Be){var je=Ee.layout,nt=Ee._fullLayout,dt=nt._guiEditing,xt=j(nt._preGUI,dt),Kt=Object.keys(Be),Jt=a.list(Ee),St=C.extendDeepAll({},Be),Ft={},rr,_r,Tt;for(ye(Be),Kt=Object.keys(Be),_r=0;_r<Kt.length;_r++)if(Kt[_r].indexOf("allaxes")===0){for(Tt=0;Tt<Jt.length;Tt++){var $t=Jt[Tt]._id.substr(1),tr=$t.indexOf("scene")!==-1?$t+".":"",Tr=Kt[_r].replace("allaxes",tr+Jt[Tt]._name);Be[Tr]||(Be[Tr]=Be[Kt[_r]])}delete Be[Kt[_r]]}var cr=E.layoutFlags(),bt={},lt={};function Mt(vn,Mn){if(Array.isArray(vn)){vn.forEach(function(Vn){Mt(Vn,Mn)});return}if(!(vn in Be||x.hasParent(Be,vn))){var Sn=xt(je,vn);vn in lt||(lt[vn]=$(Sn.get())),Mn!==void 0&&Sn.set(Mn)}}var _t={},Ot;function It(vn){var Mn=a.name2id(vn.split(".")[0]);return _t[Mn]=1,Mn}for(var Wt in Be){if(x.hasParent(Be,Wt))throw new Error("cannot set "+Wt+" and a parent attribute simultaneously");for(var Gt=xt(je,Wt),er=Be[Wt],dr=Gt.parts.length,pr=dr-1;pr>0&&typeof Gt.parts[pr]!="string";)pr--;var mr=Gt.parts[pr],Xe=Gt.parts[pr-1]+"."+mr,Ge=Gt.parts.slice(0,pr).join("."),Ut=T(Ee.layout,Ge).get(),Nt=T(nt,Ge).get(),Qt=Gt.get();if(er!==void 0){bt[Wt]=er,lt[Wt]=mr==="reverse"?er:$(Qt);var ar=t.getLayoutValObject(nt,Gt.parts);if(ar&&ar.impliedEdits&&er!==null)for(var hr in ar.impliedEdits)Mt(C.relativeAttr(Wt,hr),ar.impliedEdits[hr]);if(["width","height"].indexOf(Wt)!==-1)if(er){Mt("autosize",null);var or=Wt==="height"?"width":"height";Mt(or,nt[or])}else nt[Wt]=Ee._initialAutoSize[Wt];else if(Wt==="autosize")Mt("width",er?null:nt.width),Mt("height",er?null:nt.height);else if(Xe.match(Te))It(Xe),T(nt,Ge+"._inputRange").set(null);else if(Xe.match(Le)){It(Xe),T(nt,Ge+"._inputRange").set(null);var Vt=T(nt,Ge).get();Vt._inputDomain&&(Vt._input.domain=Vt._inputDomain.slice())}else Xe.match(xe)&&T(nt,Ge+"._inputDomain").set(null);if(mr==="type"){Ot=Ut;var yr=Nt.type==="linear"&&er==="log",wr=Nt.type==="log"&&er==="linear";if(yr||wr){if(!Ot||!Ot.range)Mt(Ge+".autorange",!0);else if(Nt.autorange)yr&&(Ot.range=Ot.range[1]>Ot.range[0]?[1,2]:[2,1]);else{var Ar=Ot.range[0],gr=Ot.range[1];yr?(Ar<=0&&gr<=0&&Mt(Ge+".autorange",!0),Ar<=0?Ar=gr/1e6:gr<=0&&(gr=Ar/1e6),Mt(Ge+".range[0]",Math.log(Ar)/Math.LN10),Mt(Ge+".range[1]",Math.log(gr)/Math.LN10)):(Mt(Ge+".range[0]",Math.pow(10,Ar)),Mt(Ge+".range[1]",Math.pow(10,gr)))}Array.isArray(nt._subplots.polar)&&nt._subplots.polar.length&&nt[Gt.parts[0]]&&Gt.parts[1]==="radialaxis"&&delete nt[Gt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(Ee,Nt,er,Mt),r.getComponentMethod("images","convertCoords")(Ee,Nt,er,Mt)}else Mt(Ge+".autorange",!0),Mt(Ge+".range",null);T(nt,Ge+"._inputRange").set(null)}else if(mr.match(y)){var jr=T(nt,Wt).get(),Fr=(er||{}).type;(!Fr||Fr==="-")&&(Fr="linear"),r.getComponentMethod("annotations","convertCoords")(Ee,jr,Fr,Mt),r.getComponentMethod("images","convertCoords")(Ee,jr,Fr,Mt)}var Nr=d.containerArrayMatch(Wt);if(Nr){rr=Nr.array,_r=Nr.index;var wn=Nr.property,hn=ar||{editType:"calc"};_r!==""&&wn===""&&(d.isAddVal(er)?lt[Wt]=null:d.isRemoveVal(er)?lt[Wt]=(T(je,rr).get()||[])[_r]:C.warn("unrecognized full object value",Be)),E.update(cr,hn),Ft[rr]||(Ft[rr]={});var Un=Ft[rr][_r];Un||(Un=Ft[rr][_r]={}),Un[wn]=er,delete Be[Wt]}else mr==="reverse"?(Ut.range?Ut.range.reverse():(Mt(Ge+".autorange",!0),Ut.range=[1,0]),Nt.autorange?cr.calc=!0:cr.plot=!0):(Wt==="dragmode"&&(er===!1&&Qt!==!1||er!==!1&&Qt===!1)||nt._has("scatter-like")&&nt._has("regl")&&Wt==="dragmode"&&(er==="lasso"||er==="select")&&!(Qt==="lasso"||Qt==="select")||nt._has("gl2d")?cr.plot=!0:ar?E.update(cr,ar):cr.calc=!0,Gt.set(er))}}for(rr in Ft){var Fn=d.applyContainerArrayChanges(Ee,xt(je,rr),Ft[rr],cr,xt);Fn||(cr.plot=!0)}for(var Pr in _t){Ot=a.getFromId(Ee,Pr);var Or=Ot&&Ot._constraintGroup;if(Or){cr.calc=!0;for(var Qr in Or)_t[Qr]||(a.getFromId(Ee,Qr)._constraintShrinkable=!0)}}(He(Ee)||Be.height||Be.width)&&(cr.plot=!0);var Zr=nt.shapes;for(_r=0;_r<Zr.length;_r++)if(Zr[_r].showlegend){cr.calc=!0;break}return(cr.plot||cr.calc)&&(cr.layoutReplot=!0),{flags:cr,rangesAltered:_t,undoit:lt,redoit:bt,eventData:St}}function He(Ee){var Be=Ee._fullLayout,je=Be.width,nt=Be.height;return Ee.layout.autosize&&s.plotAutoSize(Ee,Ee.layout,Be),Be.width!==je||Be.height!==nt}function Ve(Ee,Be,je,nt){Ee=C.getGraphDiv(Ee),x.clearPromiseQueue(Ee),C.isPlainObject(Be)||(Be={}),C.isPlainObject(je)||(je={}),Object.keys(Be).length&&(Ee.changed=!0),Object.keys(je).length&&(Ee.changed=!0);var dt=x.coerceTraceIndices(Ee,nt),xt=ce(Ee,C.extendFlat({},Be),dt),Kt=xt.flags,Jt=Re(Ee,C.extendFlat({},je)),St=Jt.flags;(Kt.calc||St.calc)&&(Ee.calcdata=void 0),Kt.clearAxisTypes&&x.clearAxisTypes(Ee,dt,je);var Ft=[];St.layoutReplot?Ft.push(A.layoutReplot):Kt.fullReplot?Ft.push(U._doPlot):(Ft.push(s.previousPromises),Ae(Ee,St,Jt)||s.supplyDefaults(Ee),Kt.style&&Ft.push(A.doTraceStyle),(Kt.colorbars||St.colorbars)&&Ft.push(A.doColorBars),St.legend&&Ft.push(A.doLegend),St.layoutstyle&&Ft.push(A.layoutStyles),St.axrange&&Ie(Ft,Jt.rangesAltered),St.ticks&&Ft.push(A.doTicksRelayout),St.modebar&&Ft.push(A.doModeBar),St.camera&&Ft.push(A.doCamera),Ft.push(_)),Ft.push(s.rehover,s.redrag,s.reselect),g.add(Ee,Ve,[Ee,xt.undoit,Jt.undoit,xt.traces],Ve,[Ee,xt.redoit,Jt.redoit,xt.traces]);var rr=C.syncOrAsync(Ft,Ee);return(!rr||!rr.then)&&(rr=Promise.resolve(Ee)),rr.then(function(){return Ee.emit("plotly_update",{data:xt.eventData,layout:Jt.eventData}),Ee})}function Fe(Ee){return function(je){je._fullLayout._guiEditing=!0;var nt=Ee.apply(null,arguments);return je._fullLayout._guiEditing=!1,nt}}var We=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ut=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ht(Ee,Be){for(var je=0;je<Be.length;je++){var nt=Be[je],dt=Ee.match(nt.pattern);if(dt){var xt=dt[1]||"";return{head:xt,tail:Ee.substr(xt.length+1),attr:nt.attr}}}}function rt(Ee,Be){var je=T(Be,Ee).get();if(je!==void 0)return je;var nt=Ee.split(".");for(nt.pop();nt.length>1;)if(nt.pop(),je=T(Be,nt.join(".")+".uirevision").get(),je!==void 0)return je;return Be.uirevision}function tt(Ee,Be){for(var je=0;je<Be.length;je++)if(Be[je]._fullInput.uid===Ee)return je;return-1}function vt(Ee,Be,je){for(var nt=0;nt<Be.length;nt++)if(Be[nt].uid===Ee)return nt;return!Be[je]||Be[je].uid?-1:je}function pt(Ee,Be){var je=C.isPlainObject(Ee),nt=Array.isArray(Ee);return je||nt?(je&&C.isPlainObject(Be)||nt&&Array.isArray(Be))&&JSON.stringify(Ee)===JSON.stringify(Be):Ee===Be}function mt(Ee,Be,je,nt){var dt=nt._preGUI,xt,Kt,Jt,St,Ft,rr,_r,Tt,$t,tr,Tr=[],cr={},bt={};for(xt in dt){if(Ft=ht(xt,We),Ft){if($t=Ft.head,tr=Ft.tail,Kt=Ft.attr||$t+".uirevision",Jt=T(nt,Kt).get(),St=Jt&&rt(Kt,Be),St&&St===Jt){if(rr=dt[xt],rr===null&&(rr=void 0),_r=T(Be,xt),Tt=_r.get(),pt(Tt,rr)){Tt===void 0&&tr==="autorange"&&Tr.push($t),_r.set($(T(nt,xt).get()));continue}else if(tr==="autorange"||tr.substr(0,6)==="range["){var lt=dt[$t+".range[0]"],Mt=dt[$t+".range[1]"],_t=dt[$t+".autorange"];if(_t||_t===null&&lt===null&&Mt===null){if(!($t in cr)){var Ot=T(Be,$t).get();cr[$t]=Ot&&(Ot.autorange||Ot.autorange!==!1&&(!Ot.range||Ot.range.length!==2))}if(cr[$t]){_r.set($(T(nt,xt).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+xt);delete dt[xt],Ft&&Ft.tail.substr(0,6)==="range["&&(bt[Ft.head]=1)}for(var It=0;It<Tr.length;It++){var Wt=Tr[It];if(bt[Wt]){var Gt=T(Be,Wt).get();Gt&&delete Gt.autorange}}var er=nt._tracePreGUI;for(var dr in er){var pr=er[dr],mr=null,Xe;for(xt in pr){if(!mr){var Ge=tt(dr,je);if(Ge<0){delete er[dr];break}var Ut=je[Ge];Xe=Ut._fullInput;var Nt=vt(dr,Ee,Xe.index);if(Nt<0){delete er[dr];break}mr=Ee[Nt]}if(Ft=ht(xt,ut),Ft){if(Ft.attr?(Jt=T(nt,Ft.attr).get(),St=Jt&&rt(Ft.attr,Be)):(Jt=Xe.uirevision,St=mr.uirevision,St===void 0&&(St=Be.uirevision)),St&&St===Jt&&(rr=pr[xt],rr===null&&(rr=void 0),_r=T(mr,xt),Tt=_r.get(),pt(Tt,rr))){_r.set($(T(Xe,xt).get()));continue}}else C.warn("unrecognized GUI edit: "+xt+" in trace uid "+dr);delete pr[xt]}}}function wt(Ee,Be,je,nt){var dt,xt;function Kt(){return U.addFrames(Ee,dt)}Ee=C.getGraphDiv(Ee),x.clearPromiseQueue(Ee);var Jt=Ee._fullData,St=Ee._fullLayout;if(!C.isPlotDiv(Ee)||!Jt||!St)xt=U.newPlot(Ee,Be,je,nt);else{if(C.isPlainObject(Be)){var Ft=Be;Be=Ft.data,je=Ft.layout,nt=Ft.config,dt=Ft.frames}var rr=!1;if(nt){var _r=C.extendDeep({},Ee._context);Ee._context=void 0,N(Ee,nt),rr=Ze(_r,Ee._context)}Ee.data=Be||[],x.cleanData(Ee.data),Ee.layout=je||{},x.cleanLayout(Ee.layout),mt(Ee.data,Ee.layout,Jt,St),s.supplyDefaults(Ee,{skipUpdateCalc:!0});var Tt=Ee._fullData,$t=Ee._fullLayout,tr=$t.datarevision===void 0,Tr=$t.transition,cr=at(Ee,St,$t,tr,Tr),bt=cr.newDataRevision,lt=Lt(Ee,Jt,Tt,tr,Tr,bt);if(He(Ee)&&(cr.layoutReplot=!0),lt.calc||cr.calc){Ee.calcdata=void 0;for(var Mt=Object.getOwnPropertyNames($t),_t=0;_t<Mt.length;_t++){var Ot=Mt[_t],It=Ot.substring(0,5);if(It==="xaxis"||It==="yaxis"){var Wt=$t[Ot]._emptyCategories;Wt&&Wt()}}}else s.supplyDefaultsUpdateCalc(Ee.calcdata,Tt);var Gt=[];if(dt&&(Ee._transitionData={},s.createTransitionData(Ee),Gt.push(Kt)),$t.transition&&!rr&&(lt.anim||cr.anim))cr.ticks&&Gt.push(A.doTicksRelayout),s.doCalcdata(Ee),A.doAutoRangeAndConstraints(Ee),Gt.push(function(){return s.transitionFromReact(Ee,lt,cr,St)});else if(lt.fullReplot||cr.layoutReplot||rr)Ee._fullLayout._skipDefaults=!0,Gt.push(U._doPlot);else{for(var er in cr.arrays){var dr=cr.arrays[er];if(dr.length){var pr=r.getComponentMethod(er,"drawOne");if(pr!==C.noop)for(var mr=0;mr<dr.length;mr++)pr(Ee,dr[mr]);else{var Xe=r.getComponentMethod(er,"draw");if(Xe===C.noop)throw new Error("cannot draw components: "+er);Xe(Ee)}}}Gt.push(s.previousPromises),lt.style&&Gt.push(A.doTraceStyle),(lt.colorbars||cr.colorbars)&&Gt.push(A.doColorBars),cr.legend&&Gt.push(A.doLegend),cr.layoutstyle&&Gt.push(A.layoutStyles),cr.axrange&&Ie(Gt),cr.ticks&&Gt.push(A.doTicksRelayout),cr.modebar&&Gt.push(A.doModeBar),cr.camera&&Gt.push(A.doCamera),Gt.push(_)}Gt.push(s.rehover,s.redrag,s.reselect),xt=C.syncOrAsync(Gt,Ee),(!xt||!xt.then)&&(xt=Promise.resolve(Ee))}return xt.then(function(){return Ee.emit("plotly_react",{data:Be,layout:je}),Ee})}function Lt(Ee,Be,je,nt,dt,xt){var Kt=Be.length===je.length;if(!dt&&!Kt)return{fullReplot:!0,calc:!0};var Jt=E.traceFlags();Jt.arrays={},Jt.nChanges=0,Jt.nChangesAnim=0;var St,Ft;function rr($t){var tr=t.getTraceValObject(Ft,$t);return!Ft._module.animatable&&tr.anim&&(tr.anim=!1),tr}var _r={getValObject:rr,flags:Jt,immutable:nt,transition:dt,newDataRevision:xt,gd:Ee},Tt={};for(St=0;St<Be.length;St++)if(je[St]){if(Ft=je[St]._fullInput,s.hasMakesDataTransform(Ft)&&(Ft=je[St]),Tt[Ft.uid])continue;Tt[Ft.uid]=1,Oe(Be[St]._fullInput,Ft,[],_r)}return(Jt.calc||Jt.plot)&&(Jt.fullReplot=!0),dt&&Jt.nChanges&&Jt.nChangesAnim&&(Jt.anim=Jt.nChanges===Jt.nChangesAnim&&Kt?"all":"some"),Jt}function at(Ee,Be,je,nt,dt){var xt=E.layoutFlags();xt.arrays={},xt.rangesAltered={},xt.nChanges=0,xt.nChangesAnim=0;function Kt(St){return t.getLayoutValObject(je,St)}var Jt={getValObject:Kt,flags:xt,immutable:nt,transition:dt,gd:Ee};return Oe(Be,je,[],Jt),(xt.plot||xt.calc)&&(xt.layoutReplot=!0),dt&&xt.nChanges&&xt.nChangesAnim&&(xt.anim=xt.nChanges===xt.nChangesAnim?"all":"some"),xt}function Oe(Ee,Be,je,nt){var dt,xt,Kt,Jt=nt.getValObject,St=nt.flags,Ft=nt.immutable,rr=nt.inArray,_r=nt.arrayIndex;function Tt(){var Ge=dt.editType;if(rr&&Ge.indexOf("arraydraw")!==-1){C.pushUnique(St.arrays[rr],_r);return}E.update(St,dt),Ge!=="none"&&St.nChanges++,nt.transition&&dt.anim&&St.nChangesAnim++,(Te.test(Kt)||Le.test(Kt))&&(St.rangesAltered[je[0]]=1),xe.test(Kt)&&T(Be,"_inputDomain").set(null),xt==="datarevision"&&(St.newDataRevision=1)}function $t(Ge){return Ge.valType==="data_array"||Ge.arrayOk}for(xt in Ee){if(St.calc&&!nt.transition)return;var tr=Ee[xt],Tr=Be[xt],cr=je.concat(xt);if(Kt=cr.join("."),!(xt.charAt(0)==="_"||typeof tr=="function"||tr===Tr)){if((xt==="tick0"||xt==="dtick")&&je[0]!=="geo"){var bt=Be.tickmode;if(bt==="auto"||bt==="array"||!bt)continue}if(!(xt==="range"&&Be.autorange)&&!((xt==="zmin"||xt==="zmax")&&Be.type==="contourcarpet")&&(dt=Jt(cr),!!dt&&!(dt._compareAsJSON&&JSON.stringify(tr)===JSON.stringify(Tr)))){var lt=dt.valType,Mt,_t=$t(dt),Ot=Array.isArray(tr),It=Array.isArray(Tr);if(Ot&&It){var Wt="_input_"+xt,Gt=Ee[Wt],er=Be[Wt];if(Array.isArray(Gt)&&Gt===er)continue}if(Tr===void 0)_t&&Ot?St.calc=!0:Tt();else if(dt._isLinkedToArray){var dr=[],pr=!1;rr||(St.arrays[xt]=dr);var mr=Math.min(tr.length,Tr.length),Xe=Math.max(tr.length,Tr.length);if(mr!==Xe)if(dt.editType==="arraydraw")pr=!0;else{Tt();continue}for(Mt=0;Mt<mr;Mt++)Oe(tr[Mt],Tr[Mt],cr.concat(Mt),C.extendFlat({inArray:xt,arrayIndex:Mt},nt));if(pr)for(Mt=mr;Mt<Xe;Mt++)dr.push(Mt)}else!lt&&C.isPlainObject(tr)?Oe(tr,Tr,cr,nt):_t?Ot&&It?(Ft&&(St.calc=!0),(Ft||nt.newDataRevision)&&Tt()):Ot!==It?St.calc=!0:Tt():Ot&&It?(tr.length!==Tr.length||String(tr)!==String(Tr))&&Tt():Tt()}}}for(xt in Be)if(!(xt in Ee||xt.charAt(0)==="_"||typeof Be[xt]=="function"))if(dt=Jt(je.concat(xt)),$t(dt)&&Array.isArray(Be[xt])){St.calc=!0;return}else Tt()}function Ze(Ee,Be){var je;for(je in Ee)if(je.charAt(0)!=="_"){var nt=Ee[je],dt=Be[je];if(nt!==dt)if(C.isPlainObject(nt)&&C.isPlainObject(dt)){if(Ze(nt,dt))return!0}else if(Array.isArray(nt)&&Array.isArray(dt)){if(nt.length!==dt.length)return!0;for(var xt=0;xt<nt.length;xt++)if(nt[xt]!==dt[xt])if(C.isPlainObject(nt[xt])&&C.isPlainObject(dt[xt])){if(Ze(nt[xt],dt[xt]))return!0}else return!0}else return!0}}function Je(Ee,Be,je){if(Ee=C.getGraphDiv(Ee),!C.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var nt=Ee._transitionData;nt._frameQueue||(nt._frameQueue=[]),je=s.supplyAnimationDefaults(je);var dt=je.transition,xt=je.frame;nt._frameWaitingCnt===void 0&&(nt._frameWaitingCnt=0);function Kt(Ft){return Array.isArray(dt)?Ft>=dt.length?dt[0]:dt[Ft]:dt}function Jt(Ft){return Array.isArray(xt)?Ft>=xt.length?xt[0]:xt[Ft]:xt}function St(Ft,rr){var _r=0;return function(){if(Ft&&++_r===rr)return Ft()}}return new Promise(function(Ft,rr){function _r(){if(nt._frameQueue.length!==0){for(;nt._frameQueue.length;){var mr=nt._frameQueue.pop();mr.onInterrupt&&mr.onInterrupt()}Ee.emit("plotly_animationinterrupted",[])}}function Tt(mr){if(mr.length!==0){for(var Xe=0;Xe<mr.length;Xe++){var Ge;mr[Xe].type==="byname"?Ge=s.computeFrame(Ee,mr[Xe].name):Ge=mr[Xe].data;var Ut=Jt(Xe),Nt=Kt(Xe);Nt.duration=Math.min(Nt.duration,Ut.duration);var Qt={frame:Ge,name:mr[Xe].name,frameOpts:Ut,transitionOpts:Nt};Xe===mr.length-1&&(Qt.onComplete=St(Ft,2),Qt.onInterrupt=rr),nt._frameQueue.push(Qt)}je.mode==="immediate"&&(nt._lastFrameAt=-1/0),nt._animationRaf||Tr()}}function $t(){Ee.emit("plotly_animated"),window.cancelAnimationFrame(nt._animationRaf),nt._animationRaf=null}function tr(){nt._currentFrame&&nt._currentFrame.onComplete&&nt._currentFrame.onComplete();var mr=nt._currentFrame=nt._frameQueue.shift();if(mr){var Xe=mr.name?mr.name.toString():null;Ee._fullLayout._currentFrame=Xe,nt._lastFrameAt=Date.now(),nt._timeToNext=mr.frameOpts.duration,s.transition(Ee,mr.frame.data,mr.frame.layout,x.coerceTraceIndices(Ee,mr.frame.traces),mr.frameOpts,mr.transitionOpts).then(function(){mr.onComplete&&mr.onComplete()}),Ee.emit("plotly_animatingframe",{name:Xe,frame:mr.frame,animation:{frame:mr.frameOpts,transition:mr.transitionOpts}})}else $t()}function Tr(){Ee.emit("plotly_animating"),nt._lastFrameAt=-1/0,nt._timeToNext=0,nt._runningTransitions=0,nt._currentFrame=null;var mr=function(){nt._animationRaf=window.requestAnimationFrame(mr),Date.now()-nt._lastFrameAt>nt._timeToNext&&tr()};mr()}var cr=0;function bt(mr){return Array.isArray(dt)?cr>=dt.length?mr.transitionOpts=dt[cr]:mr.transitionOpts=dt[0]:mr.transitionOpts=dt,cr++,mr}var lt,Mt,_t=[],Ot=Be==null,It=Array.isArray(Be),Wt=!Ot&&!It&&C.isPlainObject(Be);if(Wt)_t.push({type:"object",data:bt(C.extendFlat({},Be))});else if(Ot||["string","number"].indexOf(typeof Be)!==-1)for(lt=0;lt<nt._frames.length;lt++)Mt=nt._frames[lt],Mt&&(Ot||String(Mt.group)===String(Be))&&_t.push({type:"byname",name:String(Mt.name),data:bt({name:Mt.name})});else if(It)for(lt=0;lt<Be.length;lt++){var Gt=Be[lt];["number","string"].indexOf(typeof Gt)!==-1?(Gt=String(Gt),_t.push({type:"byname",name:Gt,data:bt({name:Gt})})):C.isPlainObject(Gt)&&_t.push({type:"object",data:bt(C.extendFlat({},Gt))})}for(lt=0;lt<_t.length;lt++)if(Mt=_t[lt],Mt.type==="byname"&&!nt._frameHash[Mt.data.name]){C.warn('animate failure: frame not found: "'+Mt.data.name+'"'),rr();return}["next","immediate"].indexOf(je.mode)!==-1&&_r(),je.direction==="reverse"&&_t.reverse();var er=Ee._fullLayout._currentFrame;if(er&&je.fromcurrent){var dr=-1;for(lt=0;lt<_t.length;lt++)if(Mt=_t[lt],Mt.type==="byname"&&Mt.name===er){dr=lt;break}if(dr>0&&dr<_t.length-1){var pr=[];for(lt=0;lt<_t.length;lt++)Mt=_t[lt],(_t[lt].type!=="byname"||lt>dr)&&pr.push(Mt);_t=pr}}_t.length>0?Tt(_t):(Ee.emit("plotly_animated"),Ft())})}function Ye(Ee,Be,je){if(Ee=C.getGraphDiv(Ee),Be==null)return Promise.resolve();if(!C.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var nt,dt,xt,Kt,Jt=Ee._transitionData._frames,St=Ee._transitionData._frameHash;if(!Array.isArray(Be))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Be);var Ft=Jt.length+Be.length*2,rr=[],_r={};for(nt=Be.length-1;nt>=0;nt--)if(C.isPlainObject(Be[nt])){var Tt=Be[nt].name,$t=(St[Tt]||_r[Tt]||{}).name,tr=Be[nt].name,Tr=St[$t]||_r[$t];$t&&tr&&typeof tr=="number"&&Tr&&S<w&&(S++,C.warn('addFrames: overwriting frame "'+(St[$t]||_r[$t]).name+'" with a frame whose name of type "number" also equates to "'+$t+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===w&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),_r[Tt]={name:Tt},rr.push({frame:s.supplyFrameDefaults(Be[nt]),index:je&&je[nt]!==void 0&&je[nt]!==null?je[nt]:Ft+nt})}rr.sort(function(Wt,Gt){return Wt.index>Gt.index?-1:Wt.index<Gt.index?1:0});var cr=[],bt=[],lt=Jt.length;for(nt=rr.length-1;nt>=0;nt--){if(dt=rr[nt].frame,typeof dt.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!dt.name)for(;St[dt.name="frame "+Ee._transitionData._counter++];);if(St[dt.name]){for(xt=0;xt<Jt.length&&(Jt[xt]||{}).name!==dt.name;xt++);cr.push({type:"replace",index:xt,value:dt}),bt.unshift({type:"replace",index:xt,value:Jt[xt]})}else Kt=Math.max(0,Math.min(rr[nt].index,lt)),cr.push({type:"insert",index:Kt,value:dt}),bt.unshift({type:"delete",index:Kt}),lt++}var Mt=s.modifyFrames,_t=s.modifyFrames,Ot=[Ee,bt],It=[Ee,cr];return g&&g.add(Ee,Mt,Ot,_t,It),s.modifyFrames(Ee,cr)}function ke(Ee,Be){if(Ee=C.getGraphDiv(Ee),!C.isPlotDiv(Ee))throw new Error("This element is not a Plotly plot: "+Ee);var je,nt,dt=Ee._transitionData._frames,xt=[],Kt=[];if(!Be)for(Be=[],je=0;je<dt.length;je++)Be.push(je);for(Be=Be.slice(),Be.sort(),je=Be.length-1;je>=0;je--)nt=Be[je],xt.push({type:"delete",index:nt}),Kt.unshift({type:"insert",index:nt,value:dt[nt]});var Jt=s.modifyFrames,St=s.modifyFrames,Ft=[Ee,Kt],rr=[Ee,xt];return g&&g.add(Ee,Jt,Ft,St,rr),s.modifyFrames(Ee,xt)}function be(Ee){Ee=C.getGraphDiv(Ee);var Be=Ee._fullLayout||{},je=Ee._fullData||[];return s.cleanPlot([],{},je,Be),s.purge(Ee),v.purge(Ee),Be._container&&Be._container.remove(),delete Ee._context,Ee}function me(Ee){var Be=Ee._fullLayout,je=Ee.getBoundingClientRect();if(!C.equalDomRects(je,Be._lastBBox)){var nt=Be._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(Ee));Be._invScaleX=Math.sqrt(nt[0][0]*nt[0][0]+nt[0][1]*nt[0][1]+nt[0][2]*nt[0][2]),Be._invScaleY=Math.sqrt(nt[1][0]*nt[1][0]+nt[1][1]*nt[1][1]+nt[1][2]*nt[1][2]),Be._lastBBox=je}}function _e(Ee){var Be=p.select(Ee),je=Ee._fullLayout;if(je._calcInverseTransform=me,je._calcInverseTransform(Ee),je._container=Be.selectAll(".plot-container").data([0]),je._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),je._paperdiv=je._container.selectAll(".svg-container").data([0]),je._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),je._glcontainer=je._paperdiv.selectAll(".gl-container").data([{}]),je._glcontainer.enter().append("div").classed("gl-container",!0),je._paperdiv.selectAll(".main-svg").remove(),je._paperdiv.select(".modebar-container").remove(),je._paper=je._paperdiv.insert("svg",":first-child").classed("main-svg",!0),je._toppaper=je._paperdiv.append("svg").classed("main-svg",!0),je._modebardiv=je._paperdiv.append("div"),delete je._modeBar,je._hoverpaper=je._paperdiv.append("svg").classed("main-svg",!0),!je._uid){var nt={};p.selectAll("defs").each(function(){this.id&&(nt[this.id.split("-")[1]]=1)}),je._uid=C.randstr(nt)}je._paperdiv.selectAll(".main-svg").attr(M.svgAttrs),je._defs=je._paper.append("defs").attr("id","defs-"+je._uid),je._clips=je._defs.append("g").classed("clips",!0),je._topdefs=je._toppaper.append("defs").attr("id","topdefs-"+je._uid),je._topclips=je._topdefs.append("g").classed("clips",!0),je._bgLayer=je._paper.append("g").classed("bglayer",!0),je._draggers=je._paper.append("g").classed("draglayer",!0);var dt=je._paper.append("g").classed("layer-below",!0);je._imageLowerLayer=dt.append("g").classed("imagelayer",!0),je._shapeLowerLayer=dt.append("g").classed("shapelayer",!0),je._cartesianlayer=je._paper.append("g").classed("cartesianlayer",!0),je._polarlayer=je._paper.append("g").classed("polarlayer",!0),je._smithlayer=je._paper.append("g").classed("smithlayer",!0),je._ternarylayer=je._paper.append("g").classed("ternarylayer",!0),je._geolayer=je._paper.append("g").classed("geolayer",!0),je._funnelarealayer=je._paper.append("g").classed("funnelarealayer",!0),je._pielayer=je._paper.append("g").classed("pielayer",!0),je._iciclelayer=je._paper.append("g").classed("iciclelayer",!0),je._treemaplayer=je._paper.append("g").classed("treemaplayer",!0),je._sunburstlayer=je._paper.append("g").classed("sunburstlayer",!0),je._indicatorlayer=je._toppaper.append("g").classed("indicatorlayer",!0),je._glimages=je._paper.append("g").classed("glimages",!0);var xt=je._toppaper.append("g").classed("layer-above",!0);je._imageUpperLayer=xt.append("g").classed("imagelayer",!0),je._shapeUpperLayer=xt.append("g").classed("shapelayer",!0),je._selectionLayer=je._toppaper.append("g").classed("selectionlayer",!0),je._infolayer=je._toppaper.append("g").classed("infolayer",!0),je._menulayer=je._toppaper.append("g").classed("menulayer",!0),je._zoomlayer=je._toppaper.append("g").classed("zoomlayer",!0),je._hoverlayer=je._hoverpaper.append("g").classed("hoverlayer",!0),je._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Ee.emit("plotly_framework")}U.animate=Je,U.addFrames=Ye,U.deleteFrames=ke,U.addTraces=re,U.deleteTraces=X,U.extendTraces=Z,U.moveTraces=q,U.prependTraces=Y,U.newPlot=z,U._doPlot=o,U.purge=be,U.react=wt,U.redraw=k,U.relayout=Ce,U.restyle=se,U.setPlotConfig=b,U.update=Ve,U._guiRelayout=Fe(Ce),U._guiRestyle=Fe(se),U._guiUpdate=Fe(Ve),U._storeDirectGUIEdit=ae},20556:function(H){var U={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function p(L,n){for(var C in L){var T=L[C];T.valType?n[C]=T.dflt:(n[C]||(n[C]={}),p(T,n[C]))}}p(U,e),H.exports={configAttributes:U,dfltConfig:e}},73060:function(H,U,e){var p=e(24040),L=e(3400),n=e(45464),C=e(64859),T=e(16672),v=e(85656),g=e(20556).configAttributes,r=e(67824),t=L.extendDeepAll,s=L.isPlainObject,a=L.isArrayOrTypedArray,f=L.nestedProperty,u=L.valObjectMeta,l="_isSubplotObj",m="_isLinkedToArray",h="_arrayAttrRegexps",M="_deprecated",c=[l,m,h,M];U.IS_SUBPLOT_OBJ=l,U.IS_LINKED_TO_ARRAY=m,U.DEPRECATED=M,U.UNDERSCORE_ATTRS=c,U.get=function(){var N={};p.allTypes.forEach(function(z){N[z]=A(z)});var k={};return Object.keys(p.transformsRegistry).forEach(function(z){k[z]=y(z)}),{defs:{valObjects:u,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:N,layout:E(),transforms:k,frames:S(),animation:w(v),config:w(g)}},U.crawl=function(N,k,z,F){var O=z||0;F=F||"",Object.keys(N).forEach(function(B){var W=N[B];if(c.indexOf(B)===-1){var ee=(F?F+".":"")+B;k(W,B,N,O,ee),!U.isValObject(W)&&s(W)&&B!=="impliedEdits"&&U.crawl(W,k,O+1,ee)}})},U.isValObject=function(N){return N&&N.valType!==void 0},U.findArrayAttributes=function(N){var k=[],z=[],F=[],O,B;function W(Y,re,X,q){z=z.slice(0,q).concat([re]),F=F.slice(0,q).concat([Y&&Y._isLinkedToArray]);var se=Y&&(Y.valType==="data_array"||Y.arrayOk===!0)&&!(z[q-1]==="colorbar"&&(re==="ticktext"||re==="tickvals"));se&&ee(O,0,"")}function ee(Y,re,X){var q=Y[z[re]],se=X+z[re];if(re===z.length-1)a(q)&&k.push(B+se);else if(F[re]){if(Array.isArray(q))for(var $=0;$<q.length;$++)s(q[$])&&ee(q[$],re+1,se+"["+$+"].")}else s(q)&&ee(q,re+1,se+".")}O=N,B="",U.crawl(n,W),N._module&&N._module.attributes&&U.crawl(N._module.attributes,W);var ne=N.transforms;if(ne)for(var Q=0;Q<ne.length;Q++){var le=ne[Q],Z=le._module;Z&&(B="transforms["+Q+"].",O=le,U.crawl(Z.attributes,W))}return k},U.getTraceValObject=function(N,k){var z=k[0],F=1,O,B;if(z==="transforms"){if(k.length===1)return n.transforms;var W=N.transforms;if(!Array.isArray(W)||!W.length)return!1;var ee=k[1];if(!x(ee)||ee>=W.length)return!1;O=(p.transformsRegistry[W[ee].type]||{}).attributes,B=O&&O[k[2]],F=3}else{var ne=N._module;if(ne||(ne=(p.modules[N.type||n.type.dflt]||{})._module),!ne)return!1;if(O=ne.attributes,B=O&&O[z],!B){var Q=ne.basePlotModule;Q&&Q.attributes&&(B=Q.attributes[z])}B||(B=n[z])}return d(B,k,F)},U.getLayoutValObject=function(N,k){var z=i(N,k[0]);return d(z,k,1)};function i(N,k){var z,F,O,B,W=N._basePlotModules;if(W){var ee;for(z=0;z<W.length;z++){if(O=W[z],O.attrRegex&&O.attrRegex.test(k)){if(O.layoutAttrOverrides)return O.layoutAttrOverrides;!ee&&O.layoutAttributes&&(ee=O.layoutAttributes)}var ne=O.baseLayoutAttrOverrides;if(ne&&k in ne)return ne[k]}if(ee)return ee}var Q=N._modules;if(Q){for(z=0;z<Q.length;z++)if(B=Q[z].layoutAttributes,B&&k in B)return B[k]}for(F in p.componentsRegistry){if(O=p.componentsRegistry[F],O.name==="colorscale"&&k.indexOf("coloraxis")===0)return O.layoutAttributes[k];if(!O.schema&&k===O.name)return O.layoutAttributes}return k in C?C[k]:!1}function d(N,k,z){if(!N)return!1;if(N._isLinkedToArray){if(x(k[z]))z++;else if(z<k.length)return!1}for(;z<k.length;z++){var F=N[k[z]];if(s(F))N=F;else break;if(z===k.length-1)break;if(N._isLinkedToArray){if(z++,!x(k[z]))return!1}else if(N.valType==="info_array"){z++;var O=k[z];if(!x(O))return!1;var B=N.items;if(Array.isArray(B)){if(O>=B.length)return!1;if(N.dimensions===2){if(z++,k.length===z)return N;var W=k[z];if(!x(W))return!1;N=B[O][W]}else N=B[O]}else N=B}}return N}function x(N){return N===Math.round(N)&&N>=0}function A(N){var k,z;k=p.modules[N]._module,z=k.basePlotModule;var F={};F.type=null;var O=t({},n),B=t({},k.attributes);U.crawl(B,function(ne,Q,le,Z,Y){f(O,Y).set(void 0),ne===void 0&&f(B,Y).set(void 0)}),t(F,O),p.traceIs(N,"noOpacity")&&delete F.opacity,p.traceIs(N,"showLegend")||(delete F.showlegend,delete F.legendgroup),p.traceIs(N,"noHover")&&(delete F.hoverinfo,delete F.hoverlabel),k.selectPoints||delete F.selectedpoints,t(F,B),z.attributes&&t(F,z.attributes),F.type=N;var W={meta:k.meta||{},categories:k.categories||{},animatable:!!k.animatable,type:N,attributes:w(F)};if(k.layoutAttributes){var ee={};t(ee,k.layoutAttributes),W.layoutAttributes=w(ee)}return k.animatable||U.crawl(W,function(ne){U.isValObject(ne)&&"anim"in ne&&delete ne.anim}),W}function E(){var N={},k,z;t(N,C);for(k in p.subplotsRegistry)if(z=p.subplotsRegistry[k],!!z.layoutAttributes)if(Array.isArray(z.attr))for(var F=0;F<z.attr.length;F++)I(N,z,z.attr[F]);else{var O=z.attr==="subplot"?z.name:z.attr;I(N,z,O)}for(k in p.componentsRegistry){z=p.componentsRegistry[k];var B=z.schema;if(B&&(B.subplots||B.layout)){var W=B.subplots;if(W&&W.xaxis&&!W.yaxis)for(var ee in W.xaxis)delete N.yaxis[ee];delete N.xaxis.shift,delete N.xaxis.autoshift}else z.name==="colorscale"?t(N,z.layoutAttributes):z.layoutAttributes&&D(N,z.layoutAttributes,z.name)}return{layoutAttributes:w(N)}}function y(N){var k=p.transformsRegistry[N],z=t({},k.attributes);return Object.keys(p.componentsRegistry).forEach(function(F){var O=p.componentsRegistry[F];O.schema&&O.schema.transforms&&O.schema.transforms[N]&&Object.keys(O.schema.transforms[N]).forEach(function(B){D(z,O.schema.transforms[N][B],B)})}),{attributes:w(z)}}function S(){var N={frames:t({},T)};return w(N),N.frames}function w(N){return o(N),_(N),b(N),N}function o(N){function k(F){return{valType:"string",editType:"none"}}function z(F,O,B){U.isValObject(F)?(F.arrayOk===!0||F.valType==="data_array")&&(B[O+"src"]=k()):s(F)&&(F.role="object")}U.crawl(N,z)}function _(N){function k(z,F,O){if(z){var B=z[m];B&&(delete z[m],O[F]={items:{}},O[F].items[B]=z,O[F].role="object")}}U.crawl(N,k)}function b(N){function k(z){for(var F in z)if(s(z[F]))k(z[F]);else if(Array.isArray(z[F]))for(var O=0;O<z[F].length;O++)k(z[F][O]);else z[F]instanceof RegExp&&(z[F]=z[F].toString())}k(N)}function I(N,k,z){var F=f(N,z),O=t({},k.layoutAttributes);O[l]=!0,F.set(O)}function D(N,k,z){var F=f(N,z);F.set(t(F.get()||{},k))}},31780:function(H,U,e){var p=e(3400),L=e(45464),n="templateitemname",C={name:{valType:"string",editType:"none"}};C[n]={valType:"string",editType:"calc"},U.templatedArray=function(g,r){return r._isLinkedToArray=g,r.name=C.name,r[n]=C[n],r},U.traceTemplater=function(g){var r={},t,s;for(t in g)s=g[t],Array.isArray(s)&&s.length&&(r[t]=0);function a(f){t=p.coerce(f,{},L,"type");var u={type:t,_template:null};if(t in r){s=g[t];var l=r[t]%s.length;r[t]++,u._template=s[l]}return u}return{newTrace:a}},U.newContainer=function(g,r,t){var s=g._template,a=s&&(s[r]||t&&s[t]);p.isPlainObject(a)||(a=null);var f=g[r]={_template:a};return f},U.arrayTemplater=function(g,r,t){var s=g._template,a=s&&s[v(r)],f=s&&s[r];(!Array.isArray(f)||!f.length)&&(f=[]);var u={};function l(h){var M={name:h.name,_input:h},c=M[n]=h[n];if(!T(c))return M._template=a,M;for(var i=0;i<f.length;i++){var d=f[i];if(d.name===c)return u[c]=1,M._template=d,M}return M[t]=h[t]||!1,M._template=!1,M}function m(){for(var h=[],M=0;M<f.length;M++){var c=f[M],i=c.name;if(T(i)&&!u[i]){var d={_template:c,name:i,_input:{_templateitemname:i}};d[n]=c[n],h.push(d),u[i]=1}}return h}return{newItem:l,defaultItems:m}};function T(g){return g&&typeof g=="string"}function v(g){var r=g.length-1;return g.charAt(r)!=="s"&&p.warn("bad argument to arrayDefaultKey: "+g),g.substr(0,g.length-1)+"defaults"}U.arrayDefaultKey=v,U.arrayEditor=function(g,r,t){var s=(p.nestedProperty(g,r).get()||[]).length,a=t._index,f=a>=s&&(t._input||{})._templateitemname;f&&(a=s);var u=r+"["+a+"]",l;function m(){l={},f&&(l[u]={},l[u][n]=f)}m();function h(d,x){l[d]=x}function M(d,x){f?p.nestedProperty(l[u],d).set(x):l[u+"."+d]=x}function c(){var d=l;return m(),d}function i(d,x){d&&M(d,x);var A=c();for(var E in A)p.nestedProperty(g,E).set(A[E])}return{modifyBase:h,modifyItem:M,getUpdateObj:c,applyUpdate:i}}},39172:function(H,U,e){var p=e(33428),L=e(24040),n=e(7316),C=e(3400),T=e(72736),v=e(73696),g=e(76308),r=e(43616),t=e(81668),s=e(45460),a=e(54460),f=e(84284),u=e(71888),l=u.enforce,m=u.clean,h=e(19280).doAutoRange,M="start",c="middle",i="end";U.layoutStyles=function(z){return C.syncOrAsync([n.doAutoMargin,x],z)};function d(z,F,O){for(var B=0;B<O.length;B++){var W=O[B][0],ee=O[B][1];if(!(W[0]>=z[1]||W[1]<=z[0])&&ee[0]<F[1]&&ee[1]>F[0])return!0}return!1}function x(z){var F=z._fullLayout,O=F._size,B=O.p,W=a.list(z,"",!0),ee,ne,Q,le,Z,Y;if(F._paperdiv.style({width:z._context.responsive&&F.autosize&&!z._context._hasZeroWidth&&!z.layout.width?"100%":F.width+"px",height:z._context.responsive&&F.autosize&&!z._context._hasZeroHeight&&!z.layout.height?"100%":F.height+"px"}).selectAll(".main-svg").call(r.setSize,F.width,F.height),z._context.setBackground(z,F.paper_bgcolor),U.drawMainTitle(z),s.manage(z),!F._has("cartesian"))return n.previousPromises(z);function re(be,me,_e){var Ee=be._lw/2;if(be._id.charAt(0)==="x"){if(me){if(_e==="top")return me._offset-B-Ee}else return O.t+O.h*(1-(be.position||0))+Ee%1;return me._offset+me._length+B+Ee}if(me){if(_e==="right")return me._offset+me._length+B+Ee}else return O.l+O.w*(be.position||0)+Ee%1;return me._offset-B-Ee}for(ee=0;ee<W.length;ee++){le=W[ee];var X=le._anchorAxis;le._linepositions={},le._lw=r.crispRound(z,le.linewidth,1),le._mainLinePosition=re(le,X,le.side),le._mainMirrorPosition=le.mirror&&X?re(le,X,f.OPPOSITE_SIDE[le.side]):null}var q=[],se=[],$=[],j=g.opacity(F.paper_bgcolor)===1&&g.opacity(F.plot_bgcolor)===1&&F.paper_bgcolor===F.plot_bgcolor;for(ne in F._plots)if(Q=F._plots[ne],Q.mainplot)Q.bg&&Q.bg.remove(),Q.bg=void 0;else{var ue=Q.xaxis.domain,ae=Q.yaxis.domain,ce=Q.plotgroup;if(d(ue,ae,$)){var ye=ce.node(),Ce=Q.bg=C.ensureSingle(ce,"rect","bg");ye.insertBefore(Ce.node(),ye.childNodes[0]),se.push(ne)}else ce.select("rect.bg").remove(),$.push([ue,ae]),j||(q.push(ne),se.push(ne))}var Ae=F._bgLayer.selectAll(".bg").data(q);for(Ae.enter().append("rect").classed("bg",!0),Ae.exit().remove(),Ae.each(function(be){F._plots[be].bg=p.select(this)}),ee=0;ee<se.length;ee++)Q=F._plots[se[ee]],Z=Q.xaxis,Y=Q.yaxis,Q.bg&&Z._offset!==void 0&&Y._offset!==void 0&&Q.bg.call(r.setRect,Z._offset-B,Y._offset-B,Z._length+2*B,Y._length+2*B).call(g.fill,F.plot_bgcolor).style("stroke-width",0);if(!F._hasOnlyLargeSploms)for(ne in F._plots){Q=F._plots[ne],Z=Q.xaxis,Y=Q.yaxis;var Ie=Q.clipId="clip"+F._uid+ne+"plot",Te=C.ensureSingleById(F._clips,"clipPath",Ie,function(be){be.classed("plotclip",!0).append("rect")});Q.clipRect=Te.select("rect").attr({width:Z._length,height:Y._length}),r.setTranslate(Q.plot,Z._offset,Y._offset);var Le,xe;Q._hasClipOnAxisFalse?(Le=null,xe=Ie):(Le=Ie,xe=null),r.setClipUrl(Q.plot,Le,z),Q.layerClipId=xe}var Re,He,Ve,Fe,We,ut,ht,rt,tt,vt,pt,mt,wt;function Lt(be){return"M"+Re+","+be+"H"+He}function at(be){return"M"+Z._offset+","+be+"h"+Z._length}function Oe(be){return"M"+be+","+rt+"V"+ht}function Ze(be){return Y._shift!==void 0&&(be+=Y._shift),"M"+be+","+Y._offset+"v"+Y._length}function Je(be,me,_e){if(!be.showline||ne!==be._mainSubplot)return"";if(!be._anchorAxis)return _e(be._mainLinePosition);var Ee=me(be._mainLinePosition);return be.mirror&&(Ee+=me(be._mainMirrorPosition)),Ee}for(ne in F._plots){Q=F._plots[ne],Z=Q.xaxis,Y=Q.yaxis;var Ye="M0,0";A(Z,ne)&&(We=y(Z,"left",Y,W),Re=Z._offset-(We?B+We:0),ut=y(Z,"right",Y,W),He=Z._offset+Z._length+(ut?B+ut:0),Ve=re(Z,Y,"bottom"),Fe=re(Z,Y,"top"),wt=!Z._anchorAxis||ne!==Z._mainSubplot,wt&&(Z.mirror==="allticks"||Z.mirror==="all")&&(Z._linepositions[ne]=[Ve,Fe]),Ye=Je(Z,Lt,at),wt&&Z.showline&&(Z.mirror==="all"||Z.mirror==="allticks")&&(Ye+=Lt(Ve)+Lt(Fe)),Q.xlines.style("stroke-width",Z._lw+"px").call(g.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),Q.xlines.attr("d",Ye);var ke="M0,0";A(Y,ne)&&(pt=y(Y,"bottom",Z,W),ht=Y._offset+Y._length+(pt?B:0),mt=y(Y,"top",Z,W),rt=Y._offset-(mt?B:0),tt=re(Y,Z,"left"),vt=re(Y,Z,"right"),wt=!Y._anchorAxis||ne!==Y._mainSubplot,wt&&(Y.mirror==="allticks"||Y.mirror==="all")&&(Y._linepositions[ne]=[tt,vt]),ke=Je(Y,Oe,Ze),wt&&Y.showline&&(Y.mirror==="all"||Y.mirror==="allticks")&&(ke+=Oe(tt)+Oe(vt)),Q.ylines.style("stroke-width",Y._lw+"px").call(g.stroke,Y.showline?Y.linecolor:"rgba(0,0,0,0)")),Q.ylines.attr("d",ke)}return a.makeClipPaths(z),n.previousPromises(z)}function A(z,F){return(z.ticks||z.showline)&&(F===z._mainSubplot||z.mirror==="all"||z.mirror==="allticks")}function E(z,F,O){if(!O.showline||!O._lw)return!1;if(O.mirror==="all"||O.mirror==="allticks")return!0;var B=O._anchorAxis;if(!B)return!1;var W=f.FROM_BL[F];return O.side===F?B.domain[W]===z.domain[W]:O.mirror&&B.domain[1-W]===z.domain[1-W]}function y(z,F,O,B){if(E(z,F,O))return O._lw;for(var W=0;W<B.length;W++){var ee=B[W];if(ee._mainAxis===O._mainAxis&&E(z,F,ee))return ee._lw}return 0}U.drawMainTitle=function(z){var F=z._fullLayout.title,O=z._fullLayout,B=N(O),W=k(O),ee=I(O,W),ne=b(O,B);if(t.draw(z,"gtitle",{propContainer:O,propName:"title.text",placeholder:O._dfltTitle.plot,attributes:{x:ne,y:ee,"text-anchor":B,dy:W}}),F.text&&F.automargin){var Q=p.selectAll(".gtitle"),le=r.bBox(Q.node()).height,Z=o(z,F,le);if(Z>0){_(z,ee,Z,le),Q.attr({x:ne,y:ee,"text-anchor":B,dy:D(F.yanchor)}).call(T.positionText,ne,ee);var Y=(F.text.match(T.BR_TAG_ALL)||[]).length;if(Y){var re=f.LINE_SPACING*Y+f.MID_SHIFT;F.y===0&&(re=-re),Q.selectAll(".line").each(function(){var X=+this.getAttribute("dy").slice(0,-2)-re+"em";this.setAttribute("dy",X)})}}}};function S(z,F,O,B,W){var ee=F.yref==="paper"?z._fullLayout._size.h:z._fullLayout.height,ne=C.isTopAnchor(F)?B:B-W,Q=O==="b"?ee-ne:ne;return C.isTopAnchor(F)&&O==="t"||C.isBottomAnchor(F)&&O==="b"?!1:Q<W}function w(z,F,O,B,W){var ee=0;return O==="middle"&&(ee+=W/2),z==="t"?(O==="top"&&(ee+=W),ee+=B-F*B):(O==="bottom"&&(ee+=W),ee+=F*B),ee}function o(z,F,O){var B=F.y,W=F.yanchor,ee=B>.5?"t":"b",ne=z._fullLayout.margin[ee],Q=0;return F.yref==="paper"?Q=O+F.pad.t+F.pad.b:F.yref==="container"&&(Q=w(ee,B,W,z._fullLayout.height,O)+F.pad.t+F.pad.b),Q>ne?Q:0}function _(z,F,O,B){var W="title.automargin",ee=z._fullLayout.title,ne=ee.y>.5?"t":"b",Q={x:ee.x,y:ee.y,t:0,b:0},le={};ee.yref==="paper"&&S(z,ee,ne,F,B)?Q[ne]=O:ee.yref==="container"&&(le[ne]=O,z._fullLayout._reservedMargin[W]=le),n.allowAutoMargin(z,W),n.autoMargin(z,W,Q)}function b(z,F){var O=z.title,B=z._size,W=0;switch(F===M?W=O.pad.l:F===i&&(W=-O.pad.r),O.xref){case"paper":return B.l+B.w*O.x+W;case"container":default:return z.width*O.x+W}}function I(z,F){var O=z.title,B=z._size,W=0;if(F==="0em"||!F?W=-O.pad.b:F===f.CAP_SHIFT+"em"&&(W=O.pad.t),O.y==="auto")return B.t/2;switch(O.yref){case"paper":return B.t+B.h-B.h*O.y+W;case"container":default:return z.height-z.height*O.y+W}}function D(z){return z==="top"?f.CAP_SHIFT+.3+"em":z==="bottom"?"-0.3em":f.MID_SHIFT+"em"}function N(z){var F=z.title,O=c;return C.isRightAnchor(F)?O=i:C.isLeftAnchor(F)&&(O=M),O}function k(z){var F=z.title,O="0em";return C.isTopAnchor(F)?O=f.CAP_SHIFT+"em":C.isMiddleAnchor(F)&&(O=f.MID_SHIFT+"em"),O}U.doTraceStyle=function(z){var F=z.calcdata,O=[],B;for(B=0;B<F.length;B++){var W=F[B],ee=W[0]||{},ne=ee.trace||{},Q=ne._module||{},le=Q.arraysToCalcdata;le&&le(W,ne);var Z=Q.editStyle;Z&&O.push({fn:Z,cd0:ee})}if(O.length){for(B=0;B<O.length;B++){var Y=O[B];Y.fn(z,Y.cd0)}v(z),U.redrawReglTraces(z)}return n.style(z),L.getComponentMethod("legend","draw")(z),n.previousPromises(z)},U.doColorBars=function(z){return L.getComponentMethod("colorbar","draw")(z),n.previousPromises(z)},U.layoutReplot=function(z){var F=z.layout;return z.layout=void 0,L.call("_doPlot",z,"",F)},U.doLegend=function(z){return L.getComponentMethod("legend","draw")(z),n.previousPromises(z)},U.doTicksRelayout=function(z){return a.draw(z,"redraw"),z._fullLayout._hasOnlyLargeSploms&&(L.subplotsRegistry.splom.updateGrid(z),v(z),U.redrawReglTraces(z)),U.drawMainTitle(z),n.previousPromises(z)},U.doModeBar=function(z){var F=z._fullLayout;s.manage(z);for(var O=0;O<F._basePlotModules.length;O++){var B=F._basePlotModules[O].updateFx;B&&B(z)}return n.previousPromises(z)},U.doCamera=function(z){for(var F=z._fullLayout,O=F._subplots.gl3d,B=0;B<O.length;B++){var W=F[O[B]],ee=W._scene;ee.setViewport(W)}},U.drawData=function(z){var F=z._fullLayout;v(z);for(var O=F._basePlotModules,B=0;B<O.length;B++)O[B].plot(z);return U.redrawReglTraces(z),n.style(z),L.getComponentMethod("selections","draw")(z),L.getComponentMethod("shapes","draw")(z),L.getComponentMethod("annotations","draw")(z),L.getComponentMethod("images","draw")(z),F._replotting=!1,n.previousPromises(z)},U.redrawReglTraces=function(z){var F=z._fullLayout;if(F._has("regl")){var O=z._fullData,B=[],W=[],ee,ne;for(F._hasOnlyLargeSploms&&F._splomGrid.draw(),ee=0;ee<O.length;ee++){var Q=O[ee];Q.visible===!0&&Q._length!==0&&(Q.type==="splom"?F._splomScenes[Q.uid].draw():Q.type==="scattergl"?C.pushUnique(B,Q.xaxis+Q.yaxis):Q.type==="scatterpolargl"&&C.pushUnique(W,Q.subplot))}for(ee=0;ee<B.length;ee++)ne=F._plots[B[ee]],ne._scene&&ne._scene.draw();for(ee=0;ee<W.length;ee++)ne=F[W[ee]]._subplot,ne._scene&&ne._scene.draw()}},U.doAutoRangeAndConstraints=function(z){for(var F=a.list(z,"",!0),O,B={},W=0;W<F.length;W++)if(O=F[W],!B[O._id]){B[O._id]=1,m(z,O),h(z,O);var ee=O._matchGroup;if(ee)for(var ne in ee){var Q=a.getFromId(z,ne);h(z,Q,O.range),B[ne]=1}}l(z)},U.finalDraw=function(z){L.getComponentMethod("rangeslider","draw")(z),L.getComponentMethod("rangeselector","draw")(z)},U.drawMarginPushers=function(z){L.getComponentMethod("legend","draw")(z),L.getComponentMethod("rangeselector","draw")(z),L.getComponentMethod("sliders","draw")(z),L.getComponentMethod("updatemenus","draw")(z),L.getComponentMethod("colorbar","draw")(z)}},94828:function(H,U,e){var p=e(3400),L=p.isPlainObject,n=e(73060),C=e(7316),T=e(45464),v=e(31780),g=e(20556).dfltConfig;U.makeTemplate=function(h){h=p.isPlainObject(h)?h:p.getGraphDiv(h),h=p.extendDeep({_context:g},{data:h.data,layout:h.layout}),C.supplyDefaults(h);var M=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var i={data:{},layout:{}};M.forEach(function(b){var I={};s(b,I,f.bind(null,b));var D=p.coerce(b,{},T,"type"),N=i.data[D];N||(N=i.data[D]=[]),N.push(I)}),s(c,i.layout,a.bind(null,c)),delete i.layout.template;var d=c.template;if(L(d)){var x=d.layout,A,E,y,S,w,o;L(x)&&r(x,i.layout);var _=d.data;if(L(_)){for(E in i.data)if(y=_[E],Array.isArray(y)){for(w=i.data[E],o=w.length,S=y.length,A=0;A<o;A++)r(y[A%S],w[A]);for(A=o;A<S;A++)w.push(p.extendDeep({},y[A]))}for(E in _)E in i.data||(i.data[E]=p.extendDeep([],_[E]))}}return i};function r(h,M){h=p.extendDeep({},h);var c=Object.keys(h).sort(),i,d;function x(w,o,_){if(L(o)&&L(w))r(w,o);else if(Array.isArray(o)&&Array.isArray(w)){var b=v.arrayTemplater({_template:h},_);for(d=0;d<o.length;d++){var I=o[d],D=b.newItem(I)._template;D&&r(D,I)}var N=b.defaultItems();for(d=0;d<N.length;d++)o.push(N[d]._template);for(d=0;d<o.length;d++)delete o[d].templateitemname}}for(i=0;i<c.length;i++){var A=c[i],E=h[A];if(A in M?x(E,M[A],A):M[A]=E,t(A)===A)for(var y in M){var S=t(y);y!==S&&S===A&&!(y in h)&&x(E,M[y],A)}}}function t(h){return h.replace(/[0-9]+$/,"")}function s(h,M,c,i,d){var x=d&&c(d);for(var A in h){var E=h[A],y=u(h,A,i),S=u(h,A,d),w=c(S);if(!w){var o=t(A);o!==A&&(S=u(h,o,d),w=c(S))}if(!(x&&x===w)&&!(!w||w._noTemplating||w.valType==="data_array"||w.arrayOk&&Array.isArray(E)))if(!w.valType&&L(E))s(E,M,c,y,S);else if(w._isLinkedToArray&&Array.isArray(E))for(var _=!1,b=0,I={},D=0;D<E.length;D++){var N=E[D];if(L(N)){var k=N.name;if(k)I[k]||(s(N,M,c,u(E,b,y),u(E,b,S)),b++,I[k]=1);else if(!_){var z=v.arrayDefaultKey(A),F=u(h,z,i),O=u(E,b,y);s(N,M,c,O,u(E,b,S));var B=p.nestedProperty(M,O),W=p.nestedProperty(M,F);W.set(B.get()),B.set(null),_=!0}}}else{var ee=p.nestedProperty(M,y);ee.set(E)}}}function a(h,M){return n.getLayoutValObject(h,p.nestedProperty({},M).parts)}function f(h,M){return n.getTraceValObject(h,p.nestedProperty({},M).parts)}function u(h,M,c){var i;return c?Array.isArray(h)?i=c+"["+M+"]":i=c+"."+M:i=M,i}U.validateTemplate=function(h,M){var c=p.extendDeep({},{_context:g,data:h.data,layout:h.layout}),i=c.layout||{};L(M)||(M=i.template||{});var d=M.layout,x=M.data,A=[];c.layout=i,c.layout.template=M,C.supplyDefaults(c);var E=c._fullLayout,y=c._fullData,S={};function w(F,O){for(var B in F)if(B.charAt(0)!=="_"&&L(F[B])){var W=t(B),ee=[],ne;for(ne=0;ne<O.length;ne++)ee.push(u(F,B,O[ne])),W!==B&&ee.push(u(F,W,O[ne]));for(ne=0;ne<ee.length;ne++)S[ee[ne]]=1;w(F[B],ee)}}function o(F,O){for(var B in F)if(B.indexOf("defaults")===-1&&L(F[B])){var W=u(F,B,O);S[W]?o(F[B],W):A.push({code:"unused",path:W})}}if(L(d)?(w(E,["layout"]),o(d,"layout")):A.push({code:"layout"}),!L(x))A.push({code:"data"});else{for(var _={},b,I=0;I<y.length;I++){var D=y[I];b=D.type,_[b]=(_[b]||0)+1,D._fullInput._template||A.push({code:"missing",index:D._fullInput.index,traceType:b})}for(b in x){var N=x[b].length,k=_[b]||0;N>k?A.push({code:"unused",traceType:b,templateCount:N,dataCount:k}):k>N&&A.push({code:"reused",traceType:b,templateCount:N,dataCount:k})}}function z(F,O){for(var B in F)if(B.charAt(0)!=="_"){var W=F[B],ee=u(F,B,O);L(W)?(Array.isArray(F)&&W._template===!1&&W.templateitemname&&A.push({code:"missing",path:ee,templateitemname:W.templateitemname}),z(W,ee)):Array.isArray(W)&&l(W)&&z(W,ee)}}if(z({data:y,layout:E},""),A.length)return A.map(m)};function l(h){for(var M=0;M<h.length;M++)if(L(h[M]))return!0}function m(h){var M;switch(h.code){case"data":M="The template has no key data.";break;case"layout":M="The template has no key layout.";break;case"missing":h.path?M="There are no templates for item "+h.path+" with name "+h.templateitemname:M="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?M="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?M="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":M="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":M="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=M,h}},67024:function(H,U,e){var p=e(38248),L=e(36424),n=e(7316),C=e(3400),T=e(81792),v=e(37164),g=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function s(a,f){f=f||{};var u,l,m,h;C.isPlainObject(a)?(u=a.data||[],l=a.layout||{},m=a.config||{},h={}):(a=C.getGraphDiv(a),u=C.extendDeep([],a.data),l=C.extendDeep({},a.layout),m=a._context,h=a._fullLayout||{});function M(k){return!(k in f)||C.validate(f[k],t[k])}if(!M("width")&&f.width!==null||!M("height")&&f.height!==null)throw new Error("Height and width should be pixel values.");if(!M("format"))throw new Error("Export format is not "+C.join2(t.format.values,", "," or ")+".");var c={};function i(k,z){return C.coerce(f,c,t,k,z)}var d=i("format"),x=i("width"),A=i("height"),E=i("scale"),y=i("setBackground"),S=i("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var o=C.extendFlat({},l);x?o.width=x:f.width===null&&p(h.width)&&(o.width=h.width),A?o.height=A:f.height===null&&p(h.height)&&(o.height=h.height);var _=C.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:y}),b=T.getRedrawFunc(w);function I(){return new Promise(function(k){setTimeout(k,T.getDelay(w._fullLayout))})}function D(){return new Promise(function(k,z){var F=v(w,d,E),O=w._fullLayout.width,B=w._fullLayout.height;function W(){L.purge(w),document.body.removeChild(w)}if(d==="full-json"){var ee=n.graphJson(w,!1,"keepdata","object",!0,!0);return ee.version=r,ee=JSON.stringify(ee),W(),k(S?ee:T.encodeJSON(ee))}if(W(),d==="svg")return k(S?F:T.encodeSVG(F));var ne=document.createElement("canvas");ne.id=C.randstr(),g({format:d,width:O,height:B,scale:E,canvas:ne,svg:F,promise:!0}).then(k).catch(z)})}function N(k){return S?k.replace(T.IMAGE_URL_PREFIX,""):k}return new Promise(function(k,z){L.newPlot(w,u,o,_).then(b).then(I).then(D).then(function(F){k(N(F))}).catch(function(F){z(F)})})}H.exports=s},21480:function(H,U,e){var p=e(3400),L=e(7316),n=e(73060),C=e(20556).dfltConfig,T=p.isPlainObject,v=Array.isArray,g=p.isArrayOrTypedArray;H.exports=function(i,d){i===void 0&&(i=[]),d===void 0&&(d={});var x=n.get(),A=[],E={_context:p.extendFlat({},C)},y,S;v(i)?(E.data=p.extendDeep([],i),y=i):(E.data=[],y=[],A.push(f("array","data"))),T(d)?(E.layout=p.extendDeep({},d),S=d):(E.layout={},S={},arguments.length>1&&A.push(f("object","layout"))),L.supplyDefaults(E);for(var w=E._fullData,o=y.length,_=0;_<o;_++){var b=y[_],I=["data",_];if(!T(b)){A.push(f("object",I));continue}var D=w[_],N=D.type,k=x.traces[N].attributes;k.type={valType:"enumerated",values:[N]},D.visible===!1&&b.visible!==!1&&A.push(f("invisible",I)),r(b,D,k,A,I);var z=b.transforms,F=D.transforms;if(z){v(z)||A.push(f("array",I,["transforms"])),I.push("transforms");for(var O=0;O<z.length;O++){var B=["transforms",O],W=z[O].type;if(!T(z[O])){A.push(f("object",I,B));continue}var ee=x.transforms[W]?x.transforms[W].attributes:{};ee.type={valType:"enumerated",values:Object.keys(x.transforms)},r(z[O],F[O],ee,A,I,B)}}}var ne=E._fullLayout,Q=t(x,w);return r(S,ne,Q,A,"layout"),A.length===0?void 0:A};function r(c,i,d,x,A,E){E=E||[];for(var y=Object.keys(c),S=0;S<y.length;S++){var w=y[S];if(w!=="transforms"){var o=E.slice();o.push(w);var _=c[w],b=i[w],I=l(d,w),D=(I||{}).valType,N=D==="info_array",k=D==="colorscale",z=(I||{}).items;if(!u(d,w))x.push(f("schema",A,o));else if(T(_)&&T(b)&&D!=="any")r(_,b,I,x,A,o);else if(N&&v(_)){_.length>b.length&&x.push(f("unused",A,o.concat(b.length)));var F=b.length,O=Array.isArray(z);O&&(F=Math.min(F,z.length));var B,W,ee,ne,Q;if(I.dimensions===2)for(W=0;W<F;W++)if(v(_[W])){_[W].length>b[W].length&&x.push(f("unused",A,o.concat(W,b[W].length)));var le=b[W].length;for(B=0;B<(O?Math.min(le,z[W].length):le);B++)ee=O?z[W][B]:z,ne=_[W][B],Q=b[W][B],p.validate(ne,ee)?Q!==ne&&Q!==+ne&&x.push(f("dynamic",A,o.concat(W,B),ne,Q)):x.push(f("value",A,o.concat(W,B),ne))}else x.push(f("array",A,o.concat(W),_[W]));else for(W=0;W<F;W++)ee=O?z[W]:z,ne=_[W],Q=b[W],p.validate(ne,ee)?Q!==ne&&Q!==+ne&&x.push(f("dynamic",A,o.concat(W),ne,Q)):x.push(f("value",A,o.concat(W),ne))}else if(I.items&&!N&&v(_)){var Z=z[Object.keys(z)[0]],Y=[],re,X;for(re=0;re<b.length;re++){var q=b[re]._index||re;if(X=o.slice(),X.push(q),T(_[q])&&T(b[re])){Y.push(q);var se=_[q],$=b[re];T(se)&&se.visible!==!1&&$.visible===!1?x.push(f("invisible",A,X)):r(se,$,Z,x,A,X)}}for(re=0;re<_.length;re++)X=o.slice(),X.push(re),T(_[re])?Y.indexOf(re)===-1&&x.push(f("unused",A,X)):x.push(f("object",A,X,_[re]))}else!T(_)&&T(b)?x.push(f("object",A,o,_)):!g(_)&&g(b)&&!N&&!k?x.push(f("array",A,o,_)):w in i?p.validate(_,I)?I.valType==="enumerated"&&(I.coerceNumber&&_!==+b||_!==b)&&x.push(f("dynamic",A,o,_,b)):x.push(f("value",A,o,_)):x.push(f("unused",A,o,_))}}return x}function t(c,i){for(var d=c.layout.layoutAttributes,x=0;x<i.length;x++){var A=i[x],E=c.traces[A.type],y=E.layoutAttributes;y&&(A.subplot?p.extendFlat(d[E.attributes.subplot.dflt],y):p.extendFlat(d,y))}return d}var s={object:function(c,i){var d;return c==="layout"&&i===""?d="The layout argument":c[0]==="data"&&i===""?d="Trace "+c[1]+" in the data argument":d=a(c)+"key "+i,d+" must be linked to an object container"},array:function(c,i){var d;return c==="data"?d="The data argument":d=a(c)+"key "+i,d+" must be linked to an array container"},schema:function(c,i){return a(c)+"key "+i+" is not part of the schema"},unused:function(c,i,d){var x=T(d)?"container":"key";return a(c)+x+" "+i+" did not get coerced"},dynamic:function(c,i,d,x){return[a(c)+"key",i,"(set to '"+d+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(c,i){return(i?a(c)+"item "+i:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,i,d){return[a(c)+"key "+i,"is set to an invalid value ("+d+")"].join(" ")}};function a(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function f(c,i,d,x,A){d=d||"";var E,y;v(i)?(E=i[0],y=i[1]):(E=i,y=null);var S=M(d),w=s[c](i,S,x,A);return p.log(w),{code:c,container:E,trace:y,path:d,astr:S,msg:w}}function u(c,i){var d=h(i),x=d.keyMinusId,A=d.id;return x in c&&c[x]._isSubplotObj&&A?!0:i in c}function l(c,i){if(i in c)return c[i];var d=h(i);return c[d.keyMinusId]}var m=p.counterRegex("([a-z]+)");function h(c){var i=c.match(m);return{keyMinusId:i&&i[1],id:i&&i[2]}}function M(c){if(!v(c))return String(c);for(var i="",d=0;d<c.length;d++){var x=c[d];typeof x=="number"?i=i.substr(0,i.length-1)+"["+x+"]":i+=x,d<c.length-1&&(i+=".")}return i}},85656:function(H){H.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(H,U,e){var p=e(3400),L=e(31780);H.exports=function(C,T,v){var g=v.name,r=v.inclusionAttr||"visible",t=T[g],s=p.isArrayOrTypedArray(C[g])?C[g]:[],a=T[g]=[],f=L.arrayTemplater(T,g,r),u,l;for(u=0;u<s.length;u++){var m=s[u];p.isPlainObject(m)?l=f.newItem(m):(l=f.newItem({}),l[r]=!1),l._index=u,l[r]!==!1&&v.handleItemDefaults(m,l,T,v),a.push(l)}var h=f.defaultItems();for(u=0;u<h.length;u++)l=h[u],l._index=a.length,v.handleItemDefaults({},l,T,v,{}),a.push(l);if(p.isArrayOrTypedArray(t)){var M=Math.min(t.length,a.length);for(u=0;u<M;u++)p.relinkPrivateKeys(a[u],t[u])}return a}},45464:function(H,U,e){var p=e(25376),L=e(55756);H.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:L.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(H,U,e){var p=e(38248),L=e(3400),n=L.dateTime2ms,C=L.incrementMonth,T=e(39032),v=T.ONEAVGMONTH;H.exports=function(r,t,s,a){if(t.type!=="date")return{vals:a};var f=r[s+"periodalignment"];if(!f)return{vals:a};var u=r[s+"period"],l;if(p(u)){if(u=+u,u<=0)return{vals:a}}else if(typeof u=="string"&&u.charAt(0)==="M"){var m=+u.substring(1);if(m>0&&Math.round(m)===m)l=m;else return{vals:a}}for(var h=t.calendar,M=f==="start",c=f==="end",i=r[s+"period0"],d=n(i,h)||0,x=[],A=[],E=[],y=a.length,S=0;S<y;S++){var w=a[S],o,_,b;if(l){for(o=Math.round((w-d)/(l*v)),b=C(d,l*o,h);b>w;)b=C(b,-l,h);for(;b<=w;)b=C(b,l,h);_=C(b,-l,h)}else{for(o=Math.round((w-d)/u),b=d+o*u;b>w;)b-=u;for(;b<=w;)b+=u;_=b-u}x[S]=M?_:c?b:(_+b)/2,A[S]=_,E[S]=b}return{vals:x,starts:A,ends:E}}},26720:function(H){H.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(H,U,e){var p=e(33428),L=e(38248),n=e(3400),C=e(39032).FP_SAFE,T=e(24040),v=e(43616),g=e(79811),r=g.getFromId,t=g.isLinked;H.exports={applyAutorangeOptions:o,getAutoRange:s,makePadFn:f,doAutoRange:h,findExtremes:M,concatExtremes:m};function s(_,b){var I,D,N=[],k=_._fullLayout,z=f(k,b,0),F=f(k,b,1),O=m(_,b),B=O.min,W=O.max;if(B.length===0||W.length===0)return n.simpleMap(b.range,b.r2l);var ee=B[0].val,ne=W[0].val;for(I=1;I<B.length&&ee===ne;I++)ee=Math.min(ee,B[I].val);for(I=1;I<W.length&&ee===ne;I++)ne=Math.max(ne,W[I].val);var Q=b.autorange,le=Q==="reversed"||Q==="min reversed"||Q==="max reversed";if(!le&&b.range){var Z=n.simpleMap(b.range,b.r2l);le=Z[1]<Z[0]}b.autorange==="reversed"&&(b.autorange=!0);var Y=b.rangemode,re=Y==="tozero",X=Y==="nonnegative",q=b._length,se=q/10,$=0,j,ue,ae,ce,ye,Ce;for(I=0;I<B.length;I++)for(j=B[I],D=0;D<W.length;D++)ue=W[D],Ce=ue.val-j.val-a(b,j.val,ue.val),Ce>0&&(ye=q-z(j)-F(ue),ye>se?Ce/ye>$&&(ae=j,ce=ue,$=Ce/ye):Ce/q>$&&(ae={val:j.val,nopad:1},ce={val:ue.val,nopad:1},$=Ce/q));function Ae(Re,He){return Math.max(Re,F(He))}if(ee===ne){var Ie=ee-1,Te=ee+1;if(re)if(ee===0)N=[0,1];else{var Le=(ee>0?W:B).reduce(Ae,0),xe=ee/(1-Math.min(.5,Le/q));N=ee>0?[0,xe]:[xe,0]}else X?N=[Math.max(0,Ie),Math.max(1,Te)]:N=[Ie,Te]}else re?(ae.val>=0&&(ae={val:0,nopad:1}),ce.val<=0&&(ce={val:0,nopad:1})):X&&(ae.val-$*z(ae)<0&&(ae={val:0,nopad:1}),ce.val<=0&&(ce={val:1,nopad:1})),$=(ce.val-ae.val-a(b,j.val,ue.val))/(q-z(ae)-F(ce)),N=[ae.val-$*z(ae),ce.val+$*F(ce)];return N=o(N,b),b.limitRange&&b.limitRange(),le&&N.reverse(),n.simpleMap(N,b.l2r||Number)}function a(_,b,I){var D=0;if(_.rangebreaks)for(var N=_.locateBreaks(b,I),k=0;k<N.length;k++){var z=N[k];D+=z.max-z.min}return D}function f(_,b,I){var D=.05*b._length,N=b._anchorAxis||{};if((b.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var k=b.isReversed();if(!k){var z=n.simpleMap(b.range,b.r2l);k=z[1]<z[0]}k&&(I=!I)}var F=0;return t(_,b._id)||(F=l(_,b,I)),D=Math.max(F,D),b.constrain==="domain"&&b._inputDomain&&(D*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(B){return B.nopad?0:B.pad+(B.extrapad?D:F)}}var u=3;function l(_,b,I){var D=0,N=b._id.charAt(0)==="x";for(var k in _._plots){var z=_._plots[k];if(!(b._id!==z.xaxis._id&&b._id!==z.yaxis._id)){var F=(N?z.yaxis:z.xaxis)||{};if((F.ticklabelposition||"").indexOf("inside")!==-1&&(!I&&(F.side==="left"||F.side==="bottom")||I&&(F.side==="top"||F.side==="right"))){if(F._vals){var O=n.deg2rad(F._tickAngles[F._id+"tick"]||0),B=Math.abs(Math.cos(O)),W=Math.abs(Math.sin(O));if(!F._vals[0].bb){var ee=F._id+"tick",ne=F._selections[ee];ne.each(function(X){var q=p.select(this),se=q.select(".text-math-group");se.empty()&&(X.bb=v.bBox(q.node()))})}for(var Q=0;Q<F._vals.length;Q++){var le=F._vals[Q],Z=le.bb;if(Z){var Y=2*u+Z.width,re=2*u+Z.height;D=Math.max(D,N?Math.max(Y*B,re*W):Math.max(re*B,Y*W))}}}F.ticks==="inside"&&F.ticklabelposition==="inside"&&(D+=F.ticklen||0)}}}return D}function m(_,b,I){var D=b._id,N=_._fullData,k=_._fullLayout,z=[],F=[],O,B,W;function ee(Y,re){for(O=0;O<re.length;O++){var X=Y[re[O]],q=(X._extremes||{})[D];if(X.visible===!0&&q){for(B=0;B<q.min.length;B++)W=q.min[B],c(z,W.val,W.pad,{extrapad:W.extrapad});for(B=0;B<q.max.length;B++)W=q.max[B],i(F,W.val,W.pad,{extrapad:W.extrapad})}}}if(ee(N,b._traceIndices),ee(k.annotations||[],b._annIndices||[]),ee(k.shapes||[],b._shapeIndices||[]),b._matchGroup&&!I){for(var ne in b._matchGroup)if(ne!==b._id){var Q=r(_,ne),le=m(_,Q,!0),Z=b._length/Q._length;for(B=0;B<le.min.length;B++)W=le.min[B],c(z,W.val,W.pad*Z,{extrapad:W.extrapad});for(B=0;B<le.max.length;B++)W=le.max[B],i(F,W.val,W.pad*Z,{extrapad:W.extrapad})}}return{min:z,max:F}}function h(_,b,I){if(b.setScale(),b.autorange){b.range=I?I.slice():s(_,b),b._r=b.range.slice(),b._rl=n.simpleMap(b._r,b.r2l);var D=b._input,N={};N[b._attr+".range"]=b.range,N[b._attr+".autorange"]=b.autorange,T.call("_storeDirectGUIEdit",_.layout,_._fullLayout._preGUI,N),D.range=b.range.slice(),D.autorange=b.autorange}var k=b._anchorAxis;if(k&&k.rangeslider){var z=k.rangeslider[b._name];z&&z.rangemode==="auto"&&(z.range=s(_,b)),k._input.rangeslider[b._name]=n.extendFlat({},z)}}function M(_,b,I){I||(I={}),_._m||_.setScale();var D=[],N=[],k=b.length,z=I.padded||!1,F=I.tozero&&(_.type==="linear"||_.type==="-"),O=_.type==="log",B=!1,W=I.vpadLinearized||!1,ee,ne,Q,le,Z,Y,re,X,q;function se(Ae){if(Array.isArray(Ae))return B=!0,function(Te){return Math.max(Number(Ae[Te]||0),0)};var Ie=Math.max(Number(Ae||0),0);return function(){return Ie}}var $=se((_._m>0?I.ppadplus:I.ppadminus)||I.ppad||0),j=se((_._m>0?I.ppadminus:I.ppadplus)||I.ppad||0),ue=se(I.vpadplus||I.vpad),ae=se(I.vpadminus||I.vpad);if(!B){if(X=1/0,q=-1/0,O)for(ee=0;ee<k;ee++)ne=b[ee],ne<X&&ne>0&&(X=ne),ne>q&&ne<C&&(q=ne);else for(ee=0;ee<k;ee++)ne=b[ee],ne<X&&ne>-C&&(X=ne),ne>q&&ne<C&&(q=ne);b=[X,q],k=2}var ce={tozero:F,extrapad:z};function ye(Ae){Q=b[Ae],L(Q)&&(Y=$(Ae),re=j(Ae),W?(le=_.c2l(Q)-ae(Ae),Z=_.c2l(Q)+ue(Ae)):(X=Q-ae(Ae),q=Q+ue(Ae),O&&X<q/10&&(X=q/10),le=_.c2l(X),Z=_.c2l(q)),F&&(le=Math.min(0,le),Z=Math.max(0,Z)),x(le)&&c(D,le,re,ce),x(Z)&&i(N,Z,Y,ce))}var Ce=Math.min(6,k);for(ee=0;ee<Ce;ee++)ye(ee);for(ee=k-1;ee>=Ce;ee--)ye(ee);return{min:D,max:N,opts:I}}function c(_,b,I,D){d(_,b,I,D,A)}function i(_,b,I,D){d(_,b,I,D,E)}function d(_,b,I,D,N){for(var k=D.tozero,z=D.extrapad,F=!0,O=0;O<_.length&&F;O++){var B=_[O];if(N(B.val,b)&&B.pad>=I&&(B.extrapad||!z)){F=!1;break}else N(b,B.val)&&B.pad<=I&&(z||!B.extrapad)&&(_.splice(O,1),O--)}if(F){var W=k&&b===0;_.push({val:b,pad:W?0:I,extrapad:W?!1:z})}}function x(_){return L(_)&&Math.abs(_)<C}function A(_,b){return _<=b}function E(_,b){return _>=b}function y(_,b){var I=b.autorangeoptions;return I&&I.minallowed!==void 0&&w(b,I.minallowed,I.maxallowed)?I.minallowed:I&&I.clipmin!==void 0&&w(b,I.clipmin,I.clipmax)?Math.max(_,b.d2l(I.clipmin)):_}function S(_,b){var I=b.autorangeoptions;return I&&I.maxallowed!==void 0&&w(b,I.minallowed,I.maxallowed)?I.maxallowed:I&&I.clipmax!==void 0&&w(b,I.clipmin,I.clipmax)?Math.min(_,b.d2l(I.clipmax)):_}function w(_,b,I){return b!==void 0&&I!==void 0?(b=_.d2l(b),I=_.d2l(I),b<I):!0}function o(_,b){if(!b||!b.autorangeoptions)return _;var I=_[0],D=_[1],N=b.autorangeoptions.include;if(N!==void 0){var k=b.d2l(I),z=b.d2l(D);n.isArrayOrTypedArray(N)||(N=[N]);for(var F=0;F<N.length;F++){var O=b.d2l(N[F]);k>=O&&(k=O,I=O),z<=O&&(z=O,D=O)}}return I=y(I,b),D=S(D,b),[I,D]}},76808:function(H){H.exports=function(e,p,L){var n,C;if(L){var T=p==="reversed"||p==="min reversed"||p==="max reversed";n=L[T?1:0],C=L[T?0:1]}var v=e("autorangeoptions.minallowed",C===null?n:void 0),g=e("autorangeoptions.maxallowed",n===null?C:void 0);v===void 0&&e("autorangeoptions.clipmin"),g===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(H,U,e){var p=e(33428),L=e(38248),n=e(7316),C=e(24040),T=e(3400),v=T.strTranslate,g=e(72736),r=e(81668),t=e(76308),s=e(43616),a=e(94724),f=e(98728),u=e(39032),l=u.ONEMAXYEAR,m=u.ONEAVGYEAR,h=u.ONEMINYEAR,M=u.ONEMAXQUARTER,c=u.ONEAVGQUARTER,i=u.ONEMINQUARTER,d=u.ONEMAXMONTH,x=u.ONEAVGMONTH,A=u.ONEMINMONTH,E=u.ONEWEEK,y=u.ONEDAY,S=y/2,w=u.ONEHOUR,o=u.ONEMIN,_=u.ONESEC,b=u.MINUS_SIGN,I=u.BADNUM,D={K:"zeroline"},N={K:"gridline",L:"path"},k={K:"minor-gridline",L:"path"},z={K:"tick",L:"path"},F={K:"tick",L:"text"},O={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},B=e(84284),W=B.MID_SHIFT,ee=B.CAP_SHIFT,ne=B.LINE_SPACING,Q=B.OPPOSITE_SIDE,le=3,Z=H.exports={};Z.setConvert=e(78344);var Y=e(52976),re=e(79811),X=re.idSort,q=re.isLinked;Z.id2name=re.id2name,Z.name2id=re.name2id,Z.cleanId=re.cleanId,Z.list=re.list,Z.listIds=re.listIds,Z.getFromId=re.getFromId,Z.getFromTrace=re.getFromTrace;var se=e(19280);Z.getAutoRange=se.getAutoRange,Z.findExtremes=se.findExtremes;var $=1e-4;function j(Xe){var Ge=(Xe[1]-Xe[0])*$;return[Xe[0]-Ge,Xe[1]+Ge]}Z.coerceRef=function(Xe,Ge,Ut,Nt,Qt,ar){var hr=Nt.charAt(Nt.length-1),or=Ut._fullLayout._subplots[hr+"axis"],Vt=Nt+"ref",yr={};return Qt||(Qt=or[0]||(typeof ar=="string"?ar:ar[0])),ar||(ar=Qt),or=or.concat(or.map(function(wr){return wr+" domain"})),yr[Vt]={valType:"enumerated",values:or.concat(ar?typeof ar=="string"?[ar]:ar:[]),dflt:Qt},T.coerce(Xe,Ge,yr,Vt)},Z.getRefType=function(Xe){return Xe===void 0?Xe:Xe==="paper"?"paper":Xe==="pixel"?"pixel":/( domain)$/.test(Xe)?"domain":"range"},Z.coercePosition=function(Xe,Ge,Ut,Nt,Qt,ar){var hr,or,Vt=Z.getRefType(Nt);if(Vt!=="range")hr=T.ensureNumber,or=Ut(Qt,ar);else{var yr=Z.getFromId(Ge,Nt);ar=yr.fraction2r(ar),or=Ut(Qt,ar),hr=yr.cleanPos}Xe[Qt]=hr(or)},Z.cleanPosition=function(Xe,Ge,Ut){var Nt=Ut==="paper"||Ut==="pixel"?T.ensureNumber:Z.getFromId(Ge,Ut).cleanPos;return Nt(Xe)},Z.redrawComponents=function(Xe,Ge){Ge=Ge||Z.listIds(Xe);var Ut=Xe._fullLayout;function Nt(Qt,ar,hr,or){for(var Vt=C.getComponentMethod(Qt,ar),yr={},wr=0;wr<Ge.length;wr++)for(var Ar=Ut[Z.id2name(Ge[wr])],gr=Ar[hr],jr=0;jr<gr.length;jr++){var Fr=gr[jr];if(!yr[Fr]&&(Vt(Xe,Fr),yr[Fr]=1,or))return}}Nt("annotations","drawOne","_annIndices"),Nt("shapes","drawOne","_shapeIndices"),Nt("images","draw","_imgIndices",!0),Nt("selections","drawOne","_selectionIndices")};var ue=Z.getDataConversions=function(Xe,Ge,Ut,Nt){var Qt,ar=Ut==="x"||Ut==="y"||Ut==="z"?Ut:Nt;if(T.isArrayOrTypedArray(ar)){if(Qt={type:Y(Nt,void 0,{autotypenumbers:Xe._fullLayout.autotypenumbers}),_categories:[]},Z.setConvert(Qt),Qt.type==="category")for(var hr=0;hr<Nt.length;hr++)Qt.d2c(Nt[hr])}else Qt=Z.getFromTrace(Xe,Ge,ar);return Qt?{d2c:Qt.d2c,c2d:Qt.c2d}:ar==="ids"?{d2c:ce,c2d:ce}:{d2c:ae,c2d:ae}};function ae(Xe){return+Xe}function ce(Xe){return String(Xe)}Z.getDataToCoordFunc=function(Xe,Ge,Ut,Nt){return ue(Xe,Ge,Ut,Nt).d2c},Z.counterLetter=function(Xe){var Ge=Xe.charAt(0);if(Ge==="x")return"y";if(Ge==="y")return"x"},Z.minDtick=function(Xe,Ge,Ut,Nt){["log","category","multicategory"].indexOf(Xe.type)!==-1||!Nt?Xe._minDtick=0:Xe._minDtick===void 0?(Xe._minDtick=Ge,Xe._forceTick0=Ut):Xe._minDtick&&((Xe._minDtick/Ge+1e-6)%1<2e-6&&((Ut-Xe._forceTick0)/Ge%1+1.000001)%1<2e-6?(Xe._minDtick=Ge,Xe._forceTick0=Ut):((Ge/Xe._minDtick+1e-6)%1>2e-6||((Ut-Xe._forceTick0)/Xe._minDtick%1+1.000001)%1>2e-6)&&(Xe._minDtick=0))},Z.saveRangeInitial=function(Xe,Ge){for(var Ut=Z.list(Xe,"",!0),Nt=!1,Qt=0;Qt<Ut.length;Qt++){var ar=Ut[Qt],hr=ar._rangeInitial0===void 0&&ar._rangeInitial1===void 0,or=hr||ar.range[0]!==ar._rangeInitial0||ar.range[1]!==ar._rangeInitial1,Vt=ar.autorange;(hr&&Vt!==!0||Ge&&or)&&(ar._rangeInitial0=Vt==="min"||Vt==="max reversed"?void 0:ar.range[0],ar._rangeInitial1=Vt==="max"||Vt==="min reversed"?void 0:ar.range[1],ar._autorangeInitial=Vt,Nt=!0)}return Nt},Z.saveShowSpikeInitial=function(Xe,Ge){for(var Ut=Z.list(Xe,"",!0),Nt=!1,Qt="on",ar=0;ar<Ut.length;ar++){var hr=Ut[ar],or=hr._showSpikeInitial===void 0,Vt=or||hr.showspikes!==hr._showspikes;(or||Ge&&Vt)&&(hr._showSpikeInitial=hr.showspikes,Nt=!0),Qt==="on"&&!hr.showspikes&&(Qt="off")}return Xe._fullLayout._cartesianSpikesEnabled=Qt,Nt},Z.autoBin=function(Xe,Ge,Ut,Nt,Qt,ar){var hr=T.aggNums(Math.min,null,Xe),or=T.aggNums(Math.max,null,Xe);if(Ge.type==="category"||Ge.type==="multicategory")return{start:hr-.5,end:or+.5,size:Math.max(1,Math.round(ar)||1),_dataSpan:or-hr};Qt||(Qt=Ge.calendar);var Vt;if(Ge.type==="log"?Vt={type:"linear",range:[hr,or]}:Vt={type:Ge.type,range:T.simpleMap([hr,or],Ge.c2r,0,Qt),calendar:Qt},Z.setConvert(Vt),ar=ar&&f.dtick(ar,Vt.type),ar)Vt.dtick=ar,Vt.tick0=f.tick0(void 0,Vt.type,Qt);else{var yr;if(Ut)yr=(or-hr)/Ut;else{var wr=T.distinctVals(Xe),Ar=Math.pow(10,Math.floor(Math.log(wr.minDiff)/Math.LN10)),gr=Ar*T.roundUp(wr.minDiff/Ar,[.9,1.9,4.9,9.9],!0);yr=Math.max(gr,2*T.stdev(Xe)/Math.pow(Xe.length,Nt?.25:.4)),L(yr)||(yr=1)}Z.autoTicks(Vt,yr)}var jr=Vt.dtick,Fr=Z.tickIncrement(Z.tickFirst(Vt),jr,"reverse",Qt),Nr,wn;if(typeof jr=="number")Fr=ye(Fr,Xe,Vt,hr,or),wn=1+Math.floor((or-Fr)/jr),Nr=Fr+wn*jr;else for(Vt.dtick.charAt(0)==="M"&&(Fr=Ce(Fr,Xe,jr,hr,Qt)),Nr=Fr,wn=0;Nr<=or;)Nr=Z.tickIncrement(Nr,jr,!1,Qt),wn++;return{start:Ge.c2r(Fr,0,Qt),end:Ge.c2r(Nr,0,Qt),size:jr,_dataSpan:or-hr}};function ye(Xe,Ge,Ut,Nt,Qt){var ar=0,hr=0,or=0,Vt=0;function yr(jr){return(1+(jr-Xe)*100/Ut.dtick)%100<2}for(var wr=0;wr<Ge.length;wr++)Ge[wr]%1===0?or++:L(Ge[wr])||Vt++,yr(Ge[wr])&&ar++,yr(Ge[wr]+Ut.dtick/2)&&hr++;var Ar=Ge.length-Vt;if(or===Ar&&Ut.type!=="date")Ut.dtick<1?Xe=Nt-.5*Ut.dtick:(Xe-=.5,Xe+Ut.dtick<Nt&&(Xe+=Ut.dtick));else if(hr<Ar*.1&&(ar>Ar*.3||yr(Nt)||yr(Qt))){var gr=Ut.dtick/2;Xe+=Xe+gr<Nt?gr:-gr}return Xe}function Ce(Xe,Ge,Ut,Nt,Qt){var ar=T.findExactDates(Ge,Qt),hr=.8;if(ar.exactDays>hr){var or=Number(Ut.substr(1));ar.exactYears>hr&&or%12===0?Xe=Z.tickIncrement(Xe,"M6","reverse")+y*1.5:ar.exactMonths>hr?Xe=Z.tickIncrement(Xe,"M1","reverse")+y*15.5:Xe-=S;var Vt=Z.tickIncrement(Xe,Ut);if(Vt<=Nt)return Vt}return Xe}Z.prepMinorTicks=function(Xe,Ge,Ut){if(!Ge.minor.dtick){delete Xe.dtick;var Nt=Ge.dtick&&L(Ge._tmin),Qt;if(Nt){var ar=Z.tickIncrement(Ge._tmin,Ge.dtick,!0);Qt=[Ge._tmin,ar*.99+Ge._tmin*.01]}else{var hr=T.simpleMap(Ge.range,Ge.r2l);Qt=[hr[0],.8*hr[0]+.2*hr[1]]}if(Xe.range=T.simpleMap(Qt,Ge.l2r),Xe._isMinor=!0,Z.prepTicks(Xe,Ut),Nt){var or=L(Ge.dtick),Vt=L(Xe.dtick),yr=or?Ge.dtick:+Ge.dtick.substring(1),wr=Vt?Xe.dtick:+Xe.dtick.substring(1);or&&Vt?Ae(yr,wr)?yr===2*E&&wr===2*y&&(Xe.dtick=E):yr===2*E&&wr===3*y?Xe.dtick=E:yr===E&&!(Ge._input.minor||{}).nticks?Xe.dtick=y:Ie(yr/wr,2.5)?Xe.dtick=yr/2:Xe.dtick=yr:String(Ge.dtick).charAt(0)==="M"?Vt?Xe.dtick="M1":Ae(yr,wr)?yr>=12&&wr===2&&(Xe.dtick="M3"):Xe.dtick=Ge.dtick:String(Xe.dtick).charAt(0)==="L"?String(Ge.dtick).charAt(0)==="L"?Ae(yr,wr)||(Xe.dtick=Ie(yr/wr,2.5)?Ge.dtick/2:Ge.dtick):Xe.dtick="D1":Xe.dtick==="D2"&&+Ge.dtick>1&&(Xe.dtick=1)}Xe.range=Ge.range}Ge.minor._tick0Init===void 0&&(Xe.tick0=Ge.tick0)};function Ae(Xe,Ge){return Math.abs((Xe/Ge+.5)%1-.5)<.001}function Ie(Xe,Ge){return Math.abs(Xe/Ge-1)<.001}Z.prepTicks=function(Xe,Ge){var Ut=T.simpleMap(Xe.range,Xe.r2l,void 0,void 0,Ge);if(Xe.tickmode==="auto"||!Xe.dtick){var Nt=Xe.nticks,Qt;Nt||(Xe.type==="category"||Xe.type==="multicategory"?(Qt=Xe.tickfont?T.bigFont(Xe.tickfont.size||12):15,Nt=Xe._length/Qt):(Qt=Xe._id.charAt(0)==="y"?40:80,Nt=T.constrain(Xe._length/Qt,4,9)+1),Xe._name==="radialaxis"&&(Nt*=2)),Xe.minor&&Xe.minor.tickmode!=="array"||Xe.tickmode==="array"&&(Nt*=100),Xe._roughDTick=Math.abs(Ut[1]-Ut[0])/Nt,Z.autoTicks(Xe,Xe._roughDTick),Xe._minDtick>0&&Xe.dtick<Xe._minDtick*2&&(Xe.dtick=Xe._minDtick,Xe.tick0=Xe.l2r(Xe._forceTick0))}Xe.ticklabelmode==="period"&&Le(Xe),Xe.tick0||(Xe.tick0=Xe.type==="date"?"2000-01-01":0),Xe.type==="date"&&Xe.dtick<.1&&(Xe.dtick=.1),mt(Xe)};function Te(Xe){return+Xe.substring(1)}function Le(Xe){var Ge;function Ut(){return!(L(Xe.dtick)||Xe.dtick.charAt(0)!=="M")}var Nt=Ut(),Qt=Z.getTickFormat(Xe);if(Qt){var ar=Xe._dtickInit!==Xe.dtick;/%[fLQsSMX]/.test(Qt)||(/%[HI]/.test(Qt)?(Ge=w,ar&&!Nt&&Xe.dtick<w&&(Xe.dtick=w)):/%p/.test(Qt)?(Ge=S,ar&&!Nt&&Xe.dtick<S&&(Xe.dtick=S)):/%[Aadejuwx]/.test(Qt)?(Ge=y,ar&&!Nt&&Xe.dtick<y&&(Xe.dtick=y)):/%[UVW]/.test(Qt)?(Ge=E,ar&&!Nt&&Xe.dtick<E&&(Xe.dtick=E)):/%[Bbm]/.test(Qt)?(Ge=x,ar&&(Nt?Te(Xe.dtick)<1:Xe.dtick<A)&&(Xe.dtick="M1")):/%[q]/.test(Qt)?(Ge=c,ar&&(Nt?Te(Xe.dtick)<3:Xe.dtick<i)&&(Xe.dtick="M3")):/%[Yy]/.test(Qt)&&(Ge=m,ar&&(Nt?Te(Xe.dtick)<12:Xe.dtick<h)&&(Xe.dtick="M12")))}Nt=Ut(),Nt&&Xe.tick0===Xe._dowTick0&&(Xe.tick0=Xe._rawTick0),Xe._definedDelta=Ge}function xe(Xe,Ge,Ut){for(var Nt=0;Nt<Xe.length;Nt++){var Qt=Xe[Nt].value,ar=Nt,hr=Nt+1;Nt<Xe.length-1?(ar=Nt,hr=Nt+1):Nt>0?(ar=Nt-1,hr=Nt):(ar=Nt,hr=Nt);var or=Xe[ar].value,Vt=Xe[hr].value,yr=Math.abs(Vt-or),wr=Ut||yr,Ar=0;wr>=h?yr>=h&&yr<=l?Ar=yr:Ar=m:Ut===c&&wr>=i?yr>=i&&yr<=M?Ar=yr:Ar=c:wr>=A?yr>=A&&yr<=d?Ar=yr:Ar=x:Ut===E&&wr>=E?Ar=E:wr>=y?Ar=y:Ut===S&&wr>=S?Ar=S:Ut===w&&wr>=w&&(Ar=w);var gr;Ar>=yr&&(Ar=yr,gr=!0);var jr=Qt+Ar;if(Ge.rangebreaks&&Ar>0){for(var Fr=84,Nr=0,wn=0;wn<Fr;wn++){var hn=(wn+.5)/Fr;Ge.maskBreaks(Qt*(1-hn)+hn*jr)!==I&&Nr++}Ar*=Nr/Fr,Ar||(Xe[Nt].drop=!0),gr&&yr>E&&(Ar=yr)}(Ar>0||Nt===0)&&(Xe[Nt].periodX=Qt+Ar/2)}}Z.calcTicks=function(Ge,Ut){for(var Nt=Ge.type,Qt=Ge.calendar,ar=Ge.ticklabelstep,hr=Ge.ticklabelmode==="period",or=T.simpleMap(Ge.range,Ge.r2l,void 0,void 0,Ut),Vt=or[1]<or[0],yr=Math.min(or[0],or[1]),wr=Math.max(or[0],or[1]),Ar=Math.max(1e3,Ge._length||0),gr=[],jr=[],Fr=[],Nr=[],wn=Ge.minor&&(Ge.minor.ticks||Ge.minor.showgrid),hn=1;hn>=(wn?0:1);hn--){var Un=!hn;hn?(Ge._dtickInit=Ge.dtick,Ge._tick0Init=Ge.tick0):(Ge.minor._dtickInit=Ge.minor.dtick,Ge.minor._tick0Init=Ge.minor.tick0);var Fn=hn?Ge:T.extendFlat({},Ge,Ge.minor);if(Un?Z.prepMinorTicks(Fn,Ge,Ut):Z.prepTicks(Fn,Ut),Fn.tickmode==="array"){hn?(Fr=[],gr=Ve(Ge,!Un)):(Nr=[],jr=Ve(Ge,!Un));continue}if(Fn.tickmode==="sync"){Fr=[],gr=He(Ge);continue}var Pr=j(or),Or=Pr[0],Qr=Pr[1],Zr=L(Fn.dtick),vn=Nt==="log"&&!(Zr||Fn.dtick.charAt(0)==="L"),Mn=Z.tickFirst(Fn,Ut);if(hn){if(Ge._tmin=Mn,Mn<Or!==Vt)break;(Nt==="category"||Nt==="multicategory")&&(Qr=Vt?Math.max(-.5,Qr):Math.min(Ge._categories.length-.5,Qr))}var Sn=null,Vn=Mn,jn;if(hn){var ya;Zr?ya=Ge.dtick:Nt==="date"?typeof Ge.dtick=="string"&&Ge.dtick.charAt(0)==="M"&&(ya=x*Ge.dtick.substring(1)):ya=Ge._roughDTick,jn=Math.round((Ge.r2l(Vn)-Ge.r2l(Ge.tick0))/ya)-1}var Pa=Fn.dtick;for(Fn.rangebreaks&&Fn._tick0Init!==Fn.tick0&&(Vn=Gt(Vn,Ge),Vt||(Vn=Z.tickIncrement(Vn,Pa,!Vt,Qt))),hn&&hr&&(Vn=Z.tickIncrement(Vn,Pa,!Vt,Qt),jn--);Vt?Vn>=Qr:Vn<=Qr;Vn=Z.tickIncrement(Vn,Pa,Vt,Qt)){if(hn&&jn++,Fn.rangebreaks&&!Vt){if(Vn<Or)continue;if(Fn.maskBreaks(Vn)===I&&Gt(Vn,Fn)>=wr)break}if(Fr.length>Ar||Vn===Sn)break;Sn=Vn;var Da={value:Vn};hn?(vn&&Vn!==(Vn|0)&&(Da.simpleLabel=!0),ar>1&&jn%ar&&(Da.skipLabel=!0),Fr.push(Da)):(Da.minor=!0,Nr.push(Da))}}if(wn){var Ma=Ge.minor.ticks==="inside"&&Ge.ticks==="outside"||Ge.minor.ticks==="outside"&&Ge.ticks==="inside";if(!Ma){for(var ma=Fr.map(function(bn){return bn.value}),Er=[],tn=0;tn<Nr.length;tn++){var $r=Nr[tn],An=$r.value;if(ma.indexOf(An)===-1){for(var qn=!1,kn=0;!qn&&kn<Fr.length;kn++)1e7+Fr[kn].value===1e7+An&&(qn=!0);qn||Er.push($r)}}Nr=Er}}hr&&xe(Fr,Ge,Ge._definedDelta);var On;if(Ge.rangebreaks){var $n=Ge._id.charAt(0)==="y",ca=1;Ge.tickmode==="auto"&&(ca=Ge.tickfont?Ge.tickfont.size:12);var Ia=NaN;for(On=Fr.length-1;On>-1;On--){if(Fr[On].drop){Fr.splice(On,1);continue}Fr[On].value=Gt(Fr[On].value,Ge);var ei=Ge.c2p(Fr[On].value);($n?Ia>ei-ca:Ia<ei+ca)?Fr.splice(Vt?On+1:On,1):Ia=ei}}Wt(Ge)&&Math.abs(or[1]-or[0])===360&&Fr.pop(),Ge._tmax=(Fr[Fr.length-1]||{}).value,Ge._prevDateHead="",Ge._inCalcTicks=!0;var Sr,Hr=function(bn){bn.text="",Ge._prevDateHead=Sr};Fr=Fr.concat(Nr);var Lr,Gr;for(On=0;On<Fr.length;On++){var Ln=Fr[On].minor,zn=Fr[On].value;Ln?jr.push({x:zn,minor:!0}):(Sr=Ge._prevDateHead,Lr=Z.tickText(Ge,zn,!1,Fr[On].simpleLabel),Gr=Fr[On].periodX,Gr!==void 0&&(Lr.periodX=Gr,(Gr>wr||Gr<yr)&&(Gr>wr&&(Lr.periodX=wr),Gr<yr&&(Lr.periodX=yr),Hr(Lr))),Fr[On].skipLabel&&Hr(Lr),gr.push(Lr))}return gr=gr.concat(jr),Ge._inCalcTicks=!1,hr&&gr.length&&(gr[0].noTick=!0),gr};function Re(Xe,Ge){return Xe.rangebreaks&&(Ge=Ge.filter(function(Ut){return Xe.maskBreaks(Ut.x)!==I})),Ge}function He(Xe){var Ge=Xe._mainAxis,Ut=[];if(Ge._vals){for(var Nt=0;Nt<Ge._vals.length;Nt++)if(!Ge._vals[Nt].noTick){var Qt=Ge.l2p(Ge._vals[Nt].x),ar=Xe.p2l(Qt),hr=Z.tickText(Xe,ar);Ge._vals[Nt].minor&&(hr.minor=!0,hr.text=""),Ut.push(hr)}}return Ut=Re(Xe,Ut),Ut}function Ve(Xe,Ge){var Ut=T.simpleMap(Xe.range,Xe.r2l),Nt=j(Ut),Qt=Math.min(Nt[0],Nt[1]),ar=Math.max(Nt[0],Nt[1]),hr=Xe.type==="category"?Xe.d2l_noadd:Xe.d2l;Xe.type==="log"&&String(Xe.dtick).charAt(0)!=="L"&&(Xe.dtick="L"+Math.pow(10,Math.floor(Math.min(Xe.range[0],Xe.range[1]))-1));for(var or=[],Vt=0;Vt<=1;Vt++)if(!(Ge!==void 0&&(Ge&&Vt||Ge===!1&&!Vt))&&!(Vt&&!Xe.minor)){var yr=Vt?Xe.minor.tickvals:Xe.tickvals,wr=Vt?[]:Xe.ticktext;if(yr){T.isArrayOrTypedArray(wr)||(wr=[]);for(var Ar=0;Ar<yr.length;Ar++){var gr=hr(yr[Ar]);if(gr>Qt&&gr<ar){var jr=Z.tickText(Xe,gr,!1,String(wr[Ar]));Vt&&(jr.minor=!0,jr.text=""),or.push(jr)}}}}return or=Re(Xe,or),or}var Fe=[2,5,10],We=[1,2,3,6,12],ut=[1,2,5,10,15,30],ht=[1,2,3,7,14],rt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],tt=[-.301,0,.301,.699,1],vt=[15,30,45,90,180];function pt(Xe,Ge,Ut){return Ge*T.roundUp(Xe/Ge,Ut)}Z.autoTicks=function(Xe,Ge,Ut){var Nt;function Qt(Ar){return Math.pow(Ar,Math.floor(Math.log(Ge)/Math.LN10))}if(Xe.type==="date"){Xe.tick0=T.dateTick0(Xe.calendar,0);var ar=2*Ge;if(ar>m)Ge/=m,Nt=Qt(10),Xe.dtick="M"+12*pt(Ge,Nt,Fe);else if(ar>x)Ge/=x,Xe.dtick="M"+pt(Ge,1,We);else if(ar>y){if(Xe.dtick=pt(Ge,y,Xe._hasDayOfWeekBreaks?[1,2,7,14]:ht),!Ut){var hr=Z.getTickFormat(Xe),or=Xe.ticklabelmode==="period";or&&(Xe._rawTick0=Xe.tick0),/%[uVW]/.test(hr)?Xe.tick0=T.dateTick0(Xe.calendar,2):Xe.tick0=T.dateTick0(Xe.calendar,1),or&&(Xe._dowTick0=Xe.tick0)}}else ar>w?Xe.dtick=pt(Ge,w,We):ar>o?Xe.dtick=pt(Ge,o,ut):ar>_?Xe.dtick=pt(Ge,_,ut):(Nt=Qt(10),Xe.dtick=pt(Ge,Nt,Fe))}else if(Xe.type==="log"){Xe.tick0=0;var Vt=T.simpleMap(Xe.range,Xe.r2l);if(Xe._isMinor&&(Ge*=1.5),Ge>.7)Xe.dtick=Math.ceil(Ge);else if(Math.abs(Vt[1]-Vt[0])<1){var yr=1.5*Math.abs((Vt[1]-Vt[0])/Ge);Ge=Math.abs(Math.pow(10,Vt[1])-Math.pow(10,Vt[0]))/yr,Nt=Qt(10),Xe.dtick="L"+pt(Ge,Nt,Fe)}else Xe.dtick=Ge>.3?"D2":"D1"}else Xe.type==="category"||Xe.type==="multicategory"?(Xe.tick0=0,Xe.dtick=Math.ceil(Math.max(Ge,1))):Wt(Xe)?(Xe.tick0=0,Nt=1,Xe.dtick=pt(Ge,Nt,vt)):(Xe.tick0=0,Nt=Qt(10),Xe.dtick=pt(Ge,Nt,Fe));if(Xe.dtick===0&&(Xe.dtick=1),!L(Xe.dtick)&&typeof Xe.dtick!="string"){var wr=Xe.dtick;throw Xe.dtick=1,"ax.dtick error: "+String(wr)}};function mt(Xe){var Ge=Xe.dtick;if(Xe._tickexponent=0,!L(Ge)&&typeof Ge!="string"&&(Ge=1),(Xe.type==="category"||Xe.type==="multicategory")&&(Xe._tickround=null),Xe.type==="date"){var Ut=Xe.r2l(Xe.tick0),Nt=Xe.l2r(Ut).replace(/(^-|i)/g,""),Qt=Nt.length;if(String(Ge).charAt(0)==="M")Qt>10||Nt.substr(5)!=="01-01"?Xe._tickround="d":Xe._tickround=+Ge.substr(1)%12===0?"y":"m";else if(Ge>=y&&Qt<=10||Ge>=y*15)Xe._tickround="d";else if(Ge>=o&&Qt<=16||Ge>=w)Xe._tickround="M";else if(Ge>=_&&Qt<=19||Ge>=o)Xe._tickround="S";else{var ar=Xe.l2r(Ut+Ge).replace(/^-/,"").length;Xe._tickround=Math.max(Qt,ar)-20,Xe._tickround<0&&(Xe._tickround=4)}}else if(L(Ge)||Ge.charAt(0)==="L"){var hr=Xe.range.map(Xe.r2d||Number);L(Ge)||(Ge=Number(Ge.substr(1))),Xe._tickround=2-Math.floor(Math.log(Ge)/Math.LN10+.01);var or=Math.max(Math.abs(hr[0]),Math.abs(hr[1])),Vt=Math.floor(Math.log(or)/Math.LN10+.01),yr=Xe.minexponent===void 0?3:Xe.minexponent;Math.abs(Vt)>yr&&(me(Xe.exponentformat)&&!_e(Vt)?Xe._tickexponent=3*Math.round((Vt-1)/3):Xe._tickexponent=Vt)}else Xe._tickround=null}Z.tickIncrement=function(Xe,Ge,Ut,Nt){var Qt=Ut?-1:1;if(L(Ge))return T.increment(Xe,Qt*Ge);var ar=Ge.charAt(0),hr=Qt*Number(Ge.substr(1));if(ar==="M")return T.incrementMonth(Xe,hr,Nt);if(ar==="L")return Math.log(Math.pow(10,Xe)+hr)/Math.LN10;if(ar==="D"){var or=Ge==="D2"?tt:rt,Vt=Xe+Qt*.01,yr=T.roundUp(T.mod(Vt,1),or,Ut);return Math.floor(Vt)+Math.log(p.round(Math.pow(10,yr),1))/Math.LN10}throw"unrecognized dtick "+String(Ge)},Z.tickFirst=function(Xe,Ge){var Ut=Xe.r2l||Number,Nt=T.simpleMap(Xe.range,Ut,void 0,void 0,Ge),Qt=Nt[1]<Nt[0],ar=Qt?Math.floor:Math.ceil,hr=j(Nt)[0],or=Xe.dtick,Vt=Ut(Xe.tick0);if(L(or)){var yr=ar((hr-Vt)/or)*or+Vt;return(Xe.type==="category"||Xe.type==="multicategory")&&(yr=T.constrain(yr,0,Xe._categories.length-1)),yr}var wr=or.charAt(0),Ar=Number(or.substr(1));if(wr==="M"){for(var gr=0,jr=Vt,Fr,Nr,wn;gr<10;){if(Fr=Z.tickIncrement(jr,or,Qt,Xe.calendar),(Fr-hr)*(jr-hr)<=0)return Qt?Math.min(jr,Fr):Math.max(jr,Fr);Nr=(hr-(jr+Fr)/2)/(Fr-jr),wn=wr+(Math.abs(Math.round(Nr))||1)*Ar,jr=Z.tickIncrement(jr,wn,Nr<0?!Qt:Qt,Xe.calendar),gr++}return T.error("tickFirst did not converge",Xe),jr}else{if(wr==="L")return Math.log(ar((Math.pow(10,hr)-Vt)/Ar)*Ar+Vt)/Math.LN10;if(wr==="D"){var hn=or==="D2"?tt:rt,Un=T.roundUp(T.mod(hr,1),hn,Qt);return Math.floor(hr)+Math.log(p.round(Math.pow(10,Un),1))/Math.LN10}else throw"unrecognized dtick "+String(or)}},Z.tickText=function(Xe,Ge,Ut,Nt){var Qt=wt(Xe,Ge),ar=Xe.tickmode==="array",hr=Ut||ar,or=Xe.type,Vt=or==="category"?Xe.d2l_noadd:Xe.d2l,yr,wr=function(wn){var hn=Xe.l2p(wn);return hn>=0&&hn<=Xe._length?wn:null};if(ar&&T.isArrayOrTypedArray(Xe.ticktext)){var Ar=T.simpleMap(Xe.range,Xe.r2l),gr=(Math.abs(Ar[1]-Ar[0])-(Xe._lBreaks||0))/1e4;for(yr=0;yr<Xe.ticktext.length&&!(Math.abs(Ge-Vt(Xe.tickvals[yr]))<gr);yr++);if(yr<Xe.ticktext.length)return Qt.text=String(Xe.ticktext[yr]),Qt.xbnd=[wr(Qt.x-.5),wr(Qt.x+Xe.dtick-.5)],Qt}function jr(wn){if(wn===void 0)return!0;if(Ut)return wn==="none";var hn={first:Xe._tmin,last:Xe._tmax}[wn];return wn!=="all"&&Ge!==hn}var Fr=Ut?"never":Xe.exponentformat!=="none"&&jr(Xe.showexponent)?"hide":"";if(or==="date"?Lt(Xe,Qt,Ut,hr):or==="log"?at(Xe,Qt,Ut,hr,Fr):or==="category"?Oe(Xe,Qt):or==="multicategory"?Ze(Xe,Qt,Ut):Wt(Xe)?Ye(Xe,Qt,Ut,hr,Fr):Je(Xe,Qt,Ut,hr,Fr),Nt||(Xe.tickprefix&&!jr(Xe.showtickprefix)&&(Qt.text=Xe.tickprefix+Qt.text),Xe.ticksuffix&&!jr(Xe.showticksuffix)&&(Qt.text+=Xe.ticksuffix)),Xe.labelalias&&Xe.labelalias.hasOwnProperty(Qt.text)){var Nr=Xe.labelalias[Qt.text];typeof Nr=="string"&&(Qt.text=Nr)}return(Xe.tickson==="boundaries"||Xe.showdividers)&&(Qt.xbnd=[wr(Qt.x-.5),wr(Qt.x+Xe.dtick-.5)]),Qt},Z.hoverLabelText=function(Xe,Ge,Ut){Ut&&(Xe=T.extendFlat({},Xe,{hoverformat:Ut}));var Nt=T.isArrayOrTypedArray(Ge)?Ge[0]:Ge,Qt=T.isArrayOrTypedArray(Ge)?Ge[1]:void 0;if(Qt!==void 0&&Qt!==Nt)return Z.hoverLabelText(Xe,Nt,Ut)+" - "+Z.hoverLabelText(Xe,Qt,Ut);var ar=Xe.type==="log"&&Nt<=0,hr=Z.tickText(Xe,Xe.c2l(ar?-Nt:Nt),"hover").text;return ar?Nt===0?"0":b+hr:hr};function wt(Xe,Ge,Ut){var Nt=Xe.tickfont||{};return{x:Ge,dx:0,dy:0,text:Ut||"",fontSize:Nt.size,font:Nt.family,fontColor:Nt.color}}function Lt(Xe,Ge,Ut,Nt){var Qt=Xe._tickround,ar=Ut&&Xe.hoverformat||Z.getTickFormat(Xe);Nt=!ar&&Nt,Nt&&(L(Qt)?Qt=4:Qt={y:"m",m:"d",d:"M",M:"S",S:4}[Qt]);var hr=T.formatDate(Ge.x,ar,Qt,Xe._dateFormat,Xe.calendar,Xe._extraFormat),or,Vt=hr.indexOf(`
`);if(Vt!==-1&&(or=hr.substr(Vt+1),hr=hr.substr(0,Vt)),Nt&&(or!==void 0&&(hr==="00:00:00"||hr==="00:00")?(hr=or,or=""):hr.length===8&&(hr=hr.replace(/:00$/,""))),or)if(Ut)Qt==="d"?hr+=", "+or:hr=or+(hr?", "+hr:"");else if(!Xe._inCalcTicks||Xe._prevDateHead!==or)Xe._prevDateHead=or,hr+="<br>"+or;else{var yr=er(Xe),wr=Xe._trueSide||Xe.side;(!yr&&wr==="top"||yr&&wr==="bottom")&&(hr+="<br> ")}Ge.text=hr}function at(Xe,Ge,Ut,Nt,Qt){var ar=Xe.dtick,hr=Ge.x,or=Xe.tickformat,Vt=typeof ar=="string"&&ar.charAt(0);if(Qt==="never"&&(Qt=""),Nt&&Vt!=="L"&&(ar="L3",Vt="L"),or||Vt==="L")Ge.text=Ee(Math.pow(10,hr),Xe,Qt,Nt);else if(L(ar)||Vt==="D"&&T.mod(hr+.01,1)<.1){var yr=Math.round(hr),wr=Math.abs(yr),Ar=Xe.exponentformat;Ar==="power"||me(Ar)&&_e(yr)?(yr===0?Ge.text=1:yr===1?Ge.text="10":Ge.text="10<sup>"+(yr>1?"":b)+wr+"</sup>",Ge.fontSize*=1.25):(Ar==="e"||Ar==="E")&&wr>2?Ge.text="1"+Ar+(yr>0?"+":b)+wr:(Ge.text=Ee(Math.pow(10,hr),Xe,"","fakehover"),ar==="D1"&&Xe._id.charAt(0)==="y"&&(Ge.dy-=Ge.fontSize/6))}else if(Vt==="D")Ge.text=String(Math.round(Math.pow(10,T.mod(hr,1)))),Ge.fontSize*=.75;else throw"unrecognized dtick "+String(ar);if(Xe.dtick==="D1"){var gr=String(Ge.text).charAt(0);(gr==="0"||gr==="1")&&(Xe._id.charAt(0)==="y"?Ge.dx-=Ge.fontSize/4:(Ge.dy+=Ge.fontSize/2,Ge.dx+=(Xe.range[1]>Xe.range[0]?1:-1)*Ge.fontSize*(hr<0?.5:.25)))}}function Oe(Xe,Ge){var Ut=Xe._categories[Math.round(Ge.x)];Ut===void 0&&(Ut=""),Ge.text=String(Ut)}function Ze(Xe,Ge,Ut){var Nt=Math.round(Ge.x),Qt=Xe._categories[Nt]||[],ar=Qt[1]===void 0?"":String(Qt[1]),hr=Qt[0]===void 0?"":String(Qt[0]);Ut?Ge.text=hr+" - "+ar:(Ge.text=ar,Ge.text2=hr)}function Je(Xe,Ge,Ut,Nt,Qt){Qt==="never"?Qt="":Xe.showexponent==="all"&&Math.abs(Ge.x/Xe.dtick)<1e-6&&(Qt="hide"),Ge.text=Ee(Ge.x,Xe,Qt,Nt)}function Ye(Xe,Ge,Ut,Nt,Qt){if(Xe.thetaunit==="radians"&&!Ut){var ar=Ge.x/180;if(ar===0)Ge.text="0";else{var hr=ke(ar);if(hr[1]>=100)Ge.text=Ee(T.deg2rad(Ge.x),Xe,Qt,Nt);else{var or=Ge.x<0;hr[1]===1?hr[0]===1?Ge.text="":Ge.text=hr[0]+"":Ge.text=["<sup>",hr[0],"</sup>","","<sub>",hr[1],"</sub>",""].join(""),or&&(Ge.text=b+Ge.text)}}}else Ge.text=Ee(Ge.x,Xe,Qt,Nt)}function ke(Xe){function Ge(or,Vt){return Math.abs(or-Vt)<=1e-6}function Ut(or,Vt){return Ge(Vt,0)?or:Ut(Vt,or%Vt)}function Nt(or){for(var Vt=1;!Ge(Math.round(or*Vt)/Vt,or);)Vt*=10;return Vt}var Qt=Nt(Xe),ar=Xe*Qt,hr=Math.abs(Ut(ar,Qt));return[Math.round(ar/hr),Math.round(Qt/hr)]}var be=["f","p","n","","m","","k","M","G","T"];function me(Xe){return Xe==="SI"||Xe==="B"}function _e(Xe){return Xe>14||Xe<-15}function Ee(Xe,Ge,Ut,Nt){var Qt=Xe<0,ar=Ge._tickround,hr=Ut||Ge.exponentformat||"B",or=Ge._tickexponent,Vt=Z.getTickFormat(Ge),yr=Ge.separatethousands;if(Nt){var wr={exponentformat:hr,minexponent:Ge.minexponent,dtick:Ge.showexponent==="none"?Ge.dtick:L(Xe)&&Math.abs(Xe)||1,range:Ge.showexponent==="none"?Ge.range.map(Ge.r2d):[0,Xe||1]};mt(wr),ar=(Number(wr._tickround)||0)+4,or=wr._tickexponent,Ge.hoverformat&&(Vt=Ge.hoverformat)}if(Vt)return Ge._numFormat(Vt)(Xe).replace(/-/g,b);var Ar=Math.pow(10,-ar)/2;if(hr==="none"&&(or=0),Xe=Math.abs(Xe),Xe<Ar)Xe="0",Qt=!1;else{if(Xe+=Ar,or&&(Xe*=Math.pow(10,-or),ar+=or),ar===0)Xe=String(Math.floor(Xe));else if(ar<0){Xe=String(Math.round(Xe)),Xe=Xe.substr(0,Xe.length+ar);for(var gr=ar;gr<0;gr++)Xe+="0"}else{Xe=String(Xe);var jr=Xe.indexOf(".")+1;jr&&(Xe=Xe.substr(0,jr+ar).replace(/\.?0+$/,""))}Xe=T.numSeparate(Xe,Ge._separators,yr)}if(or&&hr!=="hide"){me(hr)&&_e(or)&&(hr="power");var Fr;or<0?Fr=b+-or:hr!=="power"?Fr="+"+or:Fr=String(or),hr==="e"||hr==="E"?Xe+=hr+Fr:hr==="power"?Xe+="10<sup>"+Fr+"</sup>":hr==="B"&&or===9?Xe+="B":me(hr)&&(Xe+=be[or/3+5])}return Qt?b+Xe:Xe}Z.getTickFormat=function(Xe){var Ge;function Ut(Vt){return typeof Vt!="string"?Vt:Number(Vt.replace("M",""))*x}function Nt(Vt,yr){var wr=["L","D"];if(typeof Vt==typeof yr){if(typeof Vt=="number")return Vt-yr;var Ar=wr.indexOf(Vt.charAt(0)),gr=wr.indexOf(yr.charAt(0));return Ar===gr?Number(Vt.replace(/(L|D)/g,""))-Number(yr.replace(/(L|D)/g,"")):Ar-gr}else return typeof Vt=="number"?1:-1}function Qt(Vt,yr,wr){var Ar=wr||function(Fr){return Fr},gr=yr[0],jr=yr[1];return(!gr&&typeof gr!="number"||Ar(gr)<=Ar(Vt))&&(!jr&&typeof jr!="number"||Ar(jr)>=Ar(Vt))}function ar(Vt,yr){var wr=yr[0]===null,Ar=yr[1]===null,gr=Nt(Vt,yr[0])>=0,jr=Nt(Vt,yr[1])<=0;return(wr||gr)&&(Ar||jr)}var hr,or;if(Xe.tickformatstops&&Xe.tickformatstops.length>0)switch(Xe.type){case"date":case"linear":{for(Ge=0;Ge<Xe.tickformatstops.length;Ge++)if(or=Xe.tickformatstops[Ge],or.enabled&&Qt(Xe.dtick,or.dtickrange,Ut)){hr=or;break}break}case"log":{for(Ge=0;Ge<Xe.tickformatstops.length;Ge++)if(or=Xe.tickformatstops[Ge],or.enabled&&ar(Xe.dtick,or.dtickrange)){hr=or;break}break}}return hr?hr.value:Xe.tickformat},Z.getSubplots=function(Xe,Ge){var Ut=Xe._fullLayout._subplots,Nt=Ut.cartesian.concat(Ut.gl2d||[]),Qt=Ge?Z.findSubplotsWithAxis(Nt,Ge):Nt;return Qt.sort(function(ar,hr){var or=ar.substr(1).split("y"),Vt=hr.substr(1).split("y");return or[0]===Vt[0]?+or[1]-+Vt[1]:+or[0]-+Vt[0]}),Qt},Z.findSubplotsWithAxis=function(Xe,Ge){for(var Ut=new RegExp(Ge._id.charAt(0)==="x"?"^"+Ge._id+"y":Ge._id+"$"),Nt=[],Qt=0;Qt<Xe.length;Qt++){var ar=Xe[Qt];Ut.test(ar)&&Nt.push(ar)}return Nt},Z.makeClipPaths=function(Xe){var Ge=Xe._fullLayout;if(!Ge._hasOnlyLargeSploms){var Ut={_offset:0,_length:Ge.width,_id:""},Nt={_offset:0,_length:Ge.height,_id:""},Qt=Z.list(Xe,"x",!0),ar=Z.list(Xe,"y",!0),hr=[],or,Vt;for(or=0;or<Qt.length;or++)for(hr.push({x:Qt[or],y:Nt}),Vt=0;Vt<ar.length;Vt++)or===0&&hr.push({x:Ut,y:ar[Vt]}),hr.push({x:Qt[or],y:ar[Vt]});var yr=Ge._clips.selectAll(".axesclip").data(hr,function(wr){return wr.x._id+wr.y._id});yr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(wr){return"clip"+Ge._uid+wr.x._id+wr.y._id}).append("rect"),yr.exit().remove(),yr.each(function(wr){p.select(this).select("rect").attr({x:wr.x._offset||0,y:wr.y._offset||0,width:wr.x._length||1,height:wr.y._length||1})})}},Z.draw=function(Xe,Ge,Ut){var Nt=Xe._fullLayout;Ge==="redraw"&&Nt._paper.selectAll("g.subplot").each(function(Vt){var yr=Vt[0],wr=Nt._plots[yr];if(wr){var Ar=wr.xaxis,gr=wr.yaxis;wr.xaxislayer.selectAll("."+Ar._id+"tick").remove(),wr.yaxislayer.selectAll("."+gr._id+"tick").remove(),wr.xaxislayer.selectAll("."+Ar._id+"tick2").remove(),wr.yaxislayer.selectAll("."+gr._id+"tick2").remove(),wr.xaxislayer.selectAll("."+Ar._id+"divider").remove(),wr.yaxislayer.selectAll("."+gr._id+"divider").remove(),wr.minorGridlayer&&wr.minorGridlayer.selectAll("path").remove(),wr.gridlayer&&wr.gridlayer.selectAll("path").remove(),wr.zerolinelayer&&wr.zerolinelayer.selectAll("path").remove(),Nt._infolayer.select(".g-"+Ar._id+"title").remove(),Nt._infolayer.select(".g-"+gr._id+"title").remove()}});var Qt=!Ge||Ge==="redraw"?Z.listIds(Xe):Ge,ar=Z.list(Xe),hr=ar.filter(function(Vt){return Vt.autoshift}).map(function(Vt){return Vt.overlaying});Qt.map(function(Vt){var yr=Z.getFromId(Xe,Vt);if(yr.tickmode==="sync"&&yr.overlaying){var wr=Qt.findIndex(function(Ar){return Ar===yr.overlaying});wr>=0&&Qt.unshift(Qt.splice(wr,1).shift())}});var or={false:{left:0,right:0}};return T.syncOrAsync(Qt.map(function(Vt){return function(){if(Vt){var yr=Z.getFromId(Xe,Vt);Ut||(Ut={}),Ut.axShifts=or,Ut.overlayingShiftedAx=hr;var wr=Z.drawOne(Xe,yr,Ut);return yr._shiftPusher&&pr(yr,yr._fullDepth||0,or,!0),yr._r=yr.range.slice(),yr._rl=T.simpleMap(yr._r,yr.r2l),wr}}}))},Z.drawOne=function(Xe,Ge,Ut){Ut=Ut||{};var Nt=Ut.axShifts||{},Qt=Ut.overlayingShiftedAx||[],ar,hr,or;Ge.setScale();var Vt=Xe._fullLayout,yr=Ge._id,wr=yr.charAt(0),Ar=Z.counterLetter(yr),gr=Vt._plots[Ge._mainSubplot];if(!gr)return;if(Ge._shiftPusher=Ge.autoshift||Qt.indexOf(Ge._id)!==-1||Qt.indexOf(Ge.overlaying)!==-1,Ge._shiftPusher&Ge.anchor==="free"){var jr=Ge.linewidth/2||0;Ge.ticks==="inside"&&(jr+=Ge.ticklen),pr(Ge,jr,Nt,!0),pr(Ge,Ge.shift||0,Nt,!1)}(Ut.skipTitle!==!0||Ge._shift===void 0)&&(Ge._shift=mr(Ge,Nt));var Fr=gr[wr+"axislayer"],Nr=Ge._mainLinePosition,wn=Nr+=Ge._shift,hn=Ge._mainMirrorPosition,Un=Ge._vals=Z.calcTicks(Ge),Fn=[Ge.mirror,wn,hn].join("_");for(ar=0;ar<Un.length;ar++)Un[ar].axInfo=Fn;Ge._selections={},Ge._tickAngles&&(Ge._prevTickAngles=Ge._tickAngles),Ge._tickAngles={},Ge._depth=null;var Pr={};function Or(Kr){var on=yr+(Kr||"tick");return Pr[on]||(Pr[on]=xt(Ge,on,wn)),Pr[on]}if(Ge.visible){var Qr=Z.makeTransTickFn(Ge),Zr=Z.makeTransTickLabelFn(Ge),vn,Mn,Sn=Ge.ticks==="inside",Vn=Ge.ticks==="outside";if(Ge.tickson==="boundaries"){var jn=je(Ge,Un);Mn=Z.clipEnds(Ge,jn),vn=Sn?Mn:jn}else Mn=Z.clipEnds(Ge,Un),vn=Sn&&Ge.ticklabelmode!=="period"?Mn:Un;var ya=Ge._gridVals=Mn,Pa=dt(Ge,Un);if(!Vt._hasOnlyLargeSploms){var Da=Ge._subplotsWith,Ma={};for(ar=0;ar<Da.length;ar++){hr=Da[ar],or=Vt._plots[hr];var ma=or[Ar+"axis"],Er=ma._mainAxis._id;if(!Ma[Er]){Ma[Er]=1;var tn=wr==="x"?"M0,"+ma._offset+"v"+ma._length:"M"+ma._offset+",0h"+ma._length;Z.drawGrid(Xe,Ge,{vals:ya,counterAxis:ma,layer:or.gridlayer.select("."+yr),minorLayer:or.minorGridlayer.select("."+yr),path:tn,transFn:Qr}),Z.drawZeroLine(Xe,Ge,{counterAxis:ma,layer:or.zerolinelayer,path:tn,transFn:Qr})}}}var $r,An=Z.getTickSigns(Ge),qn=Z.getTickSigns(Ge,"minor");if(Ge.ticks||Ge.minor&&Ge.minor.ticks){var kn=Z.makeTickPath(Ge,wn,An[2]),On=Z.makeTickPath(Ge,wn,qn[2],{minor:!0}),$n,ca,Ia,ei;if(Ge._anchorAxis&&Ge.mirror&&Ge.mirror!==!0?($n=Z.makeTickPath(Ge,hn,An[3]),ca=Z.makeTickPath(Ge,hn,qn[3],{minor:!0}),Ia=kn+$n,ei=On+ca):($n="",ca="",Ia=kn,ei=On),Ge.showdividers&&Vn&&Ge.tickson==="boundaries"){var Sr={};for(ar=0;ar<Pa.length;ar++)Sr[Pa[ar].x]=1;$r=function(Kr){return Sr[Kr.x]?$n:Ia}}else $r=function(Kr){return Kr.minor?ei:Ia}}if(Z.drawTicks(Xe,Ge,{vals:vn,layer:Fr,path:$r,transFn:Qr}),Ge.mirror==="allticks"){var Hr=Object.keys(Ge._linepositions||{});for(ar=0;ar<Hr.length;ar++){hr=Hr[ar],or=Vt._plots[hr];var Lr=Ge._linepositions[hr]||[],Gr=Lr[0],Ln=Lr[1],zn=Lr[2],bn=Z.makeTickPath(Ge,Gr,zn?An[0]:qn[0],{minor:zn})+Z.makeTickPath(Ge,Ln,zn?An[1]:qn[1],{minor:zn});Z.drawTicks(Xe,Ge,{vals:vn,layer:or[wr+"axislayer"],path:bn,transFn:Qr})}}var pn=[];if(pn.push(function(){return Z.drawLabels(Xe,Ge,{vals:Un,layer:Fr,plotinfo:or,transFn:Zr,labelFns:Z.makeLabelFns(Ge,wn)})}),Ge.type==="multicategory"){var Dr={x:2,y:10}[wr];pn.push(function(){var Kr={x:"height",y:"width"}[wr],on=Or()[Kr]+Dr+(Ge._tickAngles[yr+"tick"]?Ge.tickfont.size*ne:0);return Z.drawLabels(Xe,Ge,{vals:nt(Ge,Un),layer:Fr,cls:yr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Qr,labelFns:Z.makeLabelFns(Ge,wn+on*An[4])})}),pn.push(function(){return Ge._depth=An[4]*(Or("tick2")[Ge.side]-wn),Ft(Xe,Ge,{vals:Pa,layer:Fr,path:Z.makeTickPath(Ge,wn,An[4],{len:Ge._depth}),transFn:Qr})})}else Ge.title.hasOwnProperty("standoff")&&pn.push(function(){Ge._depth=An[4]*(Or()[Ge.side]-wn)});var rn=C.getComponentMethod("rangeslider","isVisible")(Ge);return!Ut.skipTitle&&!(rn&&Ge.side==="bottom")&&pn.push(function(){return _r(Xe,Ge)}),pn.push(function(){var Kr=Ge.side.charAt(0),on=Q[Ge.side].charAt(0),_n=Z.getPxPosition(Xe,Ge),Wn=Vn?Ge.ticklen:0,In,Qn,Kn,Aa;(Ge.automargin||rn||Ge._shiftPusher)&&(Ge.type==="multicategory"?In=Or("tick2"):(In=Or(),wr==="x"&&Kr==="b"&&(Ge._depth=Math.max(In.width>0?In.bottom-_n:0,Wn))));var xa=0,La=0;if(Ge._shiftPusher&&(xa=Math.max(Wn,In.height>0?Kr==="l"?_n-In.left:In.right-_n:0),Ge.title.text!==Vt._dfltTitle[wr]&&(La=(Ge._titleStandoff||0)+(Ge._titleScoot||0),Kr==="l"&&(La+=rr(Ge))),Ge._fullDepth=Math.max(xa,La)),Ge.automargin){Qn={x:0,y:0,r:0,l:0,t:0,b:0};var Ra=[0,1],Pi=typeof Ge._shift=="number"?Ge._shift:0;if(wr==="x"){if(Kr==="b"?Qn[Kr]=Ge._depth:(Qn[Kr]=Ge._depth=Math.max(In.width>0?_n-In.top:0,Wn),Ra.reverse()),In.width>0){var Li=In.right-(Ge._offset+Ge._length);Li>0&&(Qn.xr=1,Qn.r=Li);var Ps=Ge._offset-In.left;Ps>0&&(Qn.xl=0,Qn.l=Ps)}}else if(Kr==="l"?(Ge._depth=Math.max(In.height>0?_n-In.left:0,Wn),Qn[Kr]=Ge._depth-Pi):(Ge._depth=Math.max(In.height>0?In.right-_n:0,Wn),Qn[Kr]=Ge._depth+Pi,Ra.reverse()),In.height>0){var is=In.bottom-(Ge._offset+Ge._length);is>0&&(Qn.yb=0,Qn.b=is);var Jo=Ge._offset-In.top;Jo>0&&(Qn.yt=1,Qn.t=Jo)}Qn[Ar]=Ge.anchor==="free"?Ge.position:Ge._anchorAxis.domain[Ra[0]],Ge.title.text!==Vt._dfltTitle[wr]&&(Qn[Kr]+=rr(Ge)+(Ge.title.standoff||0)),Ge.mirror&&Ge.anchor!=="free"&&(Kn={x:0,y:0,r:0,l:0,t:0,b:0},Kn[on]=Ge.linewidth,Ge.mirror&&Ge.mirror!==!0&&(Kn[on]+=Wn),Ge.mirror===!0||Ge.mirror==="ticks"?Kn[Ar]=Ge._anchorAxis.domain[Ra[1]]:(Ge.mirror==="all"||Ge.mirror==="allticks")&&(Kn[Ar]=[Ge._counterDomainMin,Ge._counterDomainMax][Ra[1]]))}rn&&(Aa=C.getComponentMethod("rangeslider","autoMarginOpts")(Xe,Ge)),typeof Ge.automargin=="string"&&(Be(Qn,Ge.automargin),Be(Kn,Ge.automargin)),n.autoMargin(Xe,cr(Ge),Qn),n.autoMargin(Xe,bt(Ge),Kn),n.autoMargin(Xe,lt(Ge),Aa)}),T.syncOrAsync(pn)}};function Be(Xe,Ge){if(Xe){var Ut=Object.keys(O).reduce(function(Nt,Qt){return Ge.indexOf(Qt)!==-1&&O[Qt].forEach(function(ar){Nt[ar]=1}),Nt},{});Object.keys(Xe).forEach(function(Nt){Ut[Nt]||(Nt.length===1?Xe[Nt]=0:delete Xe[Nt])})}}function je(Xe,Ge){var Ut=[],Nt,Qt=function(ar,hr){var or=ar.xbnd[hr];or!==null&&Ut.push(T.extendFlat({},ar,{x:or}))};if(Ge.length){for(Nt=0;Nt<Ge.length;Nt++)Qt(Ge[Nt],0);Qt(Ge[Nt-1],1)}return Ut}function nt(Xe,Ge){for(var Ut=[],Nt={},Qt=0;Qt<Ge.length;Qt++){var ar=Ge[Qt];Nt[ar.text2]?Nt[ar.text2].push(ar.x):Nt[ar.text2]=[ar.x]}for(var hr in Nt)Ut.push(wt(Xe,T.interp(Nt[hr],.5),hr));return Ut}function dt(Xe,Ge){var Ut=[],Nt,Qt,ar=Ge.length&&Ge[Ge.length-1].x<Ge[0].x,hr=function(Vt,yr){var wr=Vt.xbnd[yr];wr!==null&&Ut.push(T.extendFlat({},Vt,{x:wr}))};if(Xe.showdividers&&Ge.length){for(Nt=0;Nt<Ge.length;Nt++){var or=Ge[Nt];or.text2!==Qt&&hr(or,ar?1:0),Qt=or.text2}hr(Ge[Nt-1],ar?0:1)}return Ut}function xt(Xe,Ge,Ut){var Nt,Qt,ar,hr;if(Xe._selections[Ge].size())Nt=1/0,Qt=-1/0,ar=1/0,hr=-1/0,Xe._selections[Ge].each(function(){var Vt=Tr(this),yr=s.bBox(Vt.node().parentNode);Nt=Math.min(Nt,yr.top),Qt=Math.max(Qt,yr.bottom),ar=Math.min(ar,yr.left),hr=Math.max(hr,yr.right)});else{var or=Z.makeLabelFns(Xe,Ut);Nt=Qt=or.yFn({dx:0,dy:0,fontSize:0}),ar=hr=or.xFn({dx:0,dy:0,fontSize:0})}return{top:Nt,bottom:Qt,left:ar,right:hr,height:Qt-Nt,width:hr-ar}}Z.getTickSigns=function(Xe,Ge){var Ut=Xe._id.charAt(0),Nt={x:"top",y:"right"}[Ut],Qt=Xe.side===Nt?1:-1,ar=[-1,1,Qt,-Qt],hr=Ge?(Xe.minor||{}).ticks:Xe.ticks;return hr!=="inside"==(Ut==="x")&&(ar=ar.map(function(or){return-or})),Xe.side&&ar.push({l:-1,t:-1,r:1,b:1}[Xe.side.charAt(0)]),ar},Z.makeTransTickFn=function(Xe){return Xe._id.charAt(0)==="x"?function(Ge){return v(Xe._offset+Xe.l2p(Ge.x),0)}:function(Ge){return v(0,Xe._offset+Xe.l2p(Ge.x))}},Z.makeTransTickLabelFn=function(Xe){var Ge=Jt(Xe),Ut=Ge[0],Nt=Ge[1];return Xe._id.charAt(0)==="x"?function(Qt){return v(Ut+Xe._offset+Xe.l2p(Kt(Qt)),Nt)}:function(Qt){return v(Nt,Ut+Xe._offset+Xe.l2p(Kt(Qt)))}};function Kt(Xe){return Xe.periodX!==void 0?Xe.periodX:Xe.x}function Jt(Xe){var Ge=Xe.ticklabelposition||"",Ut=function(jr){return Ge.indexOf(jr)!==-1},Nt=Ut("top"),Qt=Ut("left"),ar=Ut("right"),hr=Ut("bottom"),or=Ut("inside"),Vt=hr||Qt||Nt||ar;if(!Vt&&!or)return[0,0];var yr=Xe.side,wr=Vt?(Xe.tickwidth||0)/2:0,Ar=le,gr=Xe.tickfont?Xe.tickfont.size:12;return(hr||Nt)&&(wr+=gr*ee,Ar+=(Xe.linewidth||0)/2),(Qt||ar)&&(wr+=(Xe.linewidth||0)/2,Ar+=le),or&&yr==="top"&&(Ar-=gr*(1-ee)),(Qt||Nt)&&(wr=-wr),(yr==="bottom"||yr==="right")&&(Ar=-Ar),[Vt?wr:0,or?Ar:0]}Z.makeTickPath=function(Xe,Ge,Ut,Nt){Nt||(Nt={});var Qt=Nt.minor;if(Qt&&!Xe.minor)return"";var ar=Nt.len!==void 0?Nt.len:Qt?Xe.minor.ticklen:Xe.ticklen,hr=Xe._id.charAt(0),or=(Xe.linewidth||1)/2;return hr==="x"?"M0,"+(Ge+or*Ut)+"v"+ar*Ut:"M"+(Ge+or*Ut)+",0h"+ar*Ut},Z.makeLabelFns=function(Xe,Ge,Ut){var Nt=Xe.ticklabelposition||"",Qt=function(jn){return Nt.indexOf(jn)!==-1},ar=Qt("top"),hr=Qt("left"),or=Qt("right"),Vt=Qt("bottom"),yr=Vt||hr||ar||or,wr=Qt("inside"),Ar=Nt==="inside"&&Xe.ticks==="inside"||!wr&&Xe.ticks==="outside"&&Xe.tickson!=="boundaries",gr=0,jr=0,Fr=Ar?Xe.ticklen:0;if(wr?Fr*=-1:yr&&(Fr=0),Ar&&(gr+=Fr,Ut)){var Nr=T.deg2rad(Ut);gr=Fr*Math.cos(Nr)+1,jr=Fr*Math.sin(Nr)}Xe.showticklabels&&(Ar||Xe.showline)&&(gr+=.2*Xe.tickfont.size),gr+=(Xe.linewidth||1)/2*(wr?-1:1);var wn={labelStandoff:gr,labelShift:jr},hn,Un,Fn,Pr,Or=0,Qr=Xe.side,Zr=Xe._id.charAt(0),vn=Xe.tickangle,Mn;if(Zr==="x")Mn=!wr&&Qr==="bottom"||wr&&Qr==="top",Pr=Mn?1:-1,wr&&(Pr*=-1),hn=jr*Pr,Un=Ge+gr*Pr,Fn=Mn?1:-.2,Math.abs(vn)===90&&(wr?Fn+=W:vn===-90&&Qr==="bottom"?Fn=ee:vn===90&&Qr==="top"?Fn=W:Fn=.5,Or=W/2*(vn/90)),wn.xFn=function(jn){return jn.dx+hn+Or*jn.fontSize},wn.yFn=function(jn){return jn.dy+Un+jn.fontSize*Fn},wn.anchorFn=function(jn,ya){if(yr){if(hr)return"end";if(or)return"start"}return!L(ya)||ya===0||ya===180?"middle":ya*Pr<0!==wr?"end":"start"},wn.heightFn=function(jn,ya,Pa){return ya<-60||ya>60?-.5*Pa:Xe.side==="top"!==wr?-Pa:0};else if(Zr==="y"){if(Mn=!wr&&Qr==="left"||wr&&Qr==="right",Pr=Mn?1:-1,wr&&(Pr*=-1),hn=gr,Un=jr*Pr,Fn=0,!wr&&Math.abs(vn)===90&&(vn===-90&&Qr==="left"||vn===90&&Qr==="right"?Fn=ee:Fn=.5),wr){var Sn=L(vn)?+vn:0;if(Sn!==0){var Vn=T.deg2rad(Sn);Or=Math.abs(Math.sin(Vn))*ee*Pr,Fn=0}}wn.xFn=function(jn){return jn.dx+Ge-(hn+jn.fontSize*Fn)*Pr+Or*jn.fontSize},wn.yFn=function(jn){return jn.dy+Un+jn.fontSize*W},wn.anchorFn=function(jn,ya){return L(ya)&&Math.abs(ya)===90?"middle":Mn?"end":"start"},wn.heightFn=function(jn,ya,Pa){return Xe.side==="right"&&(ya*=-1),ya<-30?-Pa:ya<30?-.5*Pa:0}}return wn};function St(Xe){return[Xe.text,Xe.x,Xe.axInfo,Xe.font,Xe.fontSize,Xe.fontColor].join("_")}Z.drawTicks=function(Xe,Ge,Ut){Ut=Ut||{};var Nt=Ge._id+"tick",Qt=[].concat(Ge.minor&&Ge.minor.ticks?Ut.vals.filter(function(hr){return hr.minor&&!hr.noTick}):[]).concat(Ge.ticks?Ut.vals.filter(function(hr){return!hr.minor&&!hr.noTick}):[]),ar=Ut.layer.selectAll("path."+Nt).data(Qt,St);ar.exit().remove(),ar.enter().append("path").classed(Nt,1).classed("ticks",1).classed("crisp",Ut.crisp!==!1).each(function(hr){return t.stroke(p.select(this),hr.minor?Ge.minor.tickcolor:Ge.tickcolor)}).style("stroke-width",function(hr){return s.crispRound(Xe,hr.minor?Ge.minor.tickwidth:Ge.tickwidth,1)+"px"}).attr("d",Ut.path).style("display",null),dr(Ge,[z]),ar.attr("transform",Ut.transFn)},Z.drawGrid=function(Xe,Ge,Ut){if(Ut=Ut||{},Ge.tickmode!=="sync"){var Nt=Ge._id+"grid",Qt=Ge.minor&&Ge.minor.showgrid,ar=Qt?Ut.vals.filter(function(hn){return hn.minor}):[],hr=Ge.showgrid?Ut.vals.filter(function(hn){return!hn.minor}):[],or=Ut.counterAxis;if(or&&Z.shouldShowZeroLine(Xe,Ge,or))for(var Vt=Ge.tickmode==="array",yr=0;yr<hr.length;yr++){var wr=hr[yr].x;if(Vt?!wr:Math.abs(wr)<Ge.dtick/100)if(hr=hr.slice(0,yr).concat(hr.slice(yr+1)),Vt)yr--;else break}Ge._gw=s.crispRound(Xe,Ge.gridwidth,1);for(var Ar=Qt?s.crispRound(Xe,Ge.minor.gridwidth,1):0,gr=Ut.layer,jr=Ut.minorLayer,Fr=1;Fr>=0;Fr--){var Nr=Fr?gr:jr;if(Nr){var wn=Nr.selectAll("path."+Nt).data(Fr?hr:ar,St);wn.exit().remove(),wn.enter().append("path").classed(Nt,1).classed("crisp",Ut.crisp!==!1),wn.attr("transform",Ut.transFn).attr("d",Ut.path).each(function(hn){return t.stroke(p.select(this),hn.minor?Ge.minor.gridcolor:Ge.gridcolor||"#ddd")}).style("stroke-dasharray",function(hn){return s.dashStyle(hn.minor?Ge.minor.griddash:Ge.griddash,hn.minor?Ge.minor.gridwidth:Ge.gridwidth)}).style("stroke-width",function(hn){return(hn.minor?Ar:Ge._gw)+"px"}).style("display",null),typeof Ut.path=="function"&&wn.attr("d",Ut.path)}}dr(Ge,[N,k])}},Z.drawZeroLine=function(Xe,Ge,Ut){Ut=Ut||Ut;var Nt=Ge._id+"zl",Qt=Z.shouldShowZeroLine(Xe,Ge,Ut.counterAxis),ar=Ut.layer.selectAll("path."+Nt).data(Qt?[{x:0,id:Ge._id}]:[]);ar.exit().remove(),ar.enter().append("path").classed(Nt,1).classed("zl",1).classed("crisp",Ut.crisp!==!1).each(function(){Ut.layer.selectAll("path").sort(function(hr,or){return X(hr.id,or.id)})}),ar.attr("transform",Ut.transFn).attr("d",Ut.path).call(t.stroke,Ge.zerolinecolor||t.defaultLine).style("stroke-width",s.crispRound(Xe,Ge.zerolinewidth,Ge._gw||1)+"px").style("display",null),dr(Ge,[D])},Z.drawLabels=function(Xe,Ge,Ut){Ut=Ut||{};var Nt=Xe._fullLayout,Qt=Ge._id,ar=Ut.cls||Qt+"tick",hr=Ut.vals.filter(function(Er){return Er.text}),or=Ut.labelFns,Vt=Ut.secondary?0:Ge.tickangle,yr=(Ge._prevTickAngles||{})[ar],wr=Ut.layer.selectAll("g."+ar).data(Ge.showticklabels?hr:[],St),Ar=[];wr.enter().append("g").classed(ar,1).append("text").attr("text-anchor","middle").each(function(Er){var tn=p.select(this),$r=Xe._promises.length;tn.call(g.positionText,or.xFn(Er),or.yFn(Er)).call(s.font,Er.font,Er.fontSize,Er.fontColor).text(Er.text).call(g.convertToTspans,Xe),Xe._promises[$r]?Ar.push(Xe._promises.pop().then(function(){gr(tn,Vt)})):gr(tn,Vt)}),dr(Ge,[F]),wr.exit().remove(),Ut.repositionOnUpdate&&wr.each(function(Er){p.select(this).select("text").call(g.positionText,or.xFn(Er),or.yFn(Er))});function gr(Er,tn){Er.each(function($r){var An=p.select(this),qn=An.select(".text-math-group"),kn=or.anchorFn($r,tn),On=Ut.transFn.call(An.node(),$r)+(L(tn)&&+tn!=0?" rotate("+tn+","+or.xFn($r)+","+(or.yFn($r)-$r.fontSize/2)+")":""),$n=g.lineCount(An),ca=ne*$r.fontSize,Ia=or.heightFn($r,L(tn)?+tn:0,($n-1)*ca);if(Ia&&(On+=v(0,Ia)),qn.empty()){var ei=An.select("text");ei.attr({transform:On,"text-anchor":kn}),ei.style("opacity",1),Ge._adjustTickLabelsOverflow&&Ge._adjustTickLabelsOverflow()}else{var Sr=s.bBox(qn.node()).width,Hr=Sr*{end:-.5,start:.5}[kn];qn.attr("transform",On+v(Hr,0))}})}Ge._adjustTickLabelsOverflow=function(){var Er=Ge.ticklabeloverflow;if(!(!Er||Er==="allow")){var tn=Er.indexOf("hide")!==-1,$r=Ge._id.charAt(0)==="x",An=0,qn=$r?Xe._fullLayout.width:Xe._fullLayout.height;if(Er.indexOf("domain")!==-1){var kn=T.simpleMap(Ge.range,Ge.r2l);An=Ge.l2p(kn[0])+Ge._offset,qn=Ge.l2p(kn[1])+Ge._offset}var On=Math.min(An,qn),$n=Math.max(An,qn),ca=Ge.side,Ia=1/0,ei=-1/0;wr.each(function(Gr){var Ln=p.select(this),zn=Ln.select(".text-math-group");if(zn.empty()){var bn=s.bBox(Ln.node()),pn=0;$r?(bn.right>$n||bn.left<On)&&(pn=1):(bn.bottom>$n||bn.top+(Ge.tickangle?0:Gr.fontSize/4)<On)&&(pn=1);var Dr=Ln.select("text");pn?tn&&Dr.style("opacity",0):(Dr.style("opacity",1),ca==="bottom"||ca==="right"?Ia=Math.min(Ia,$r?bn.top:bn.left):Ia=-1/0,ca==="top"||ca==="left"?ei=Math.max(ei,$r?bn.bottom:bn.right):ei=1/0)}});for(var Sr in Nt._plots){var Hr=Nt._plots[Sr];if(!(Ge._id!==Hr.xaxis._id&&Ge._id!==Hr.yaxis._id)){var Lr=$r?Hr.yaxis:Hr.xaxis;Lr&&(Lr["_visibleLabelMin_"+Ge._id]=Ia,Lr["_visibleLabelMax_"+Ge._id]=ei)}}}},Ge._hideCounterAxisInsideTickLabels=function(Er){var tn=Ge._id.charAt(0)==="x",$r=[];for(var An in Nt._plots){var qn=Nt._plots[An];Ge._id!==qn.xaxis._id&&Ge._id!==qn.yaxis._id||$r.push(tn?qn.yaxis:qn.xaxis)}$r.forEach(function(kn,On){kn&&er(kn)&&(Er||[D,k,N,z,F]).forEach(function($n){var ca=$n.K==="tick"&&$n.L==="text"&&Ge.ticklabelmode==="period",Ia=Nt._plots[Ge._mainSubplot],ei;$n.K===D.K?ei=Ia.zerolinelayer.selectAll("."+Ge._id+"zl"):$n.K===k.K?ei=Ia.minorGridlayer.selectAll("."+Ge._id):$n.K===N.K?ei=Ia.gridlayer.selectAll("."+Ge._id):ei=Ia[Ge._id.charAt(0)+"axislayer"],ei.each(function(){var Sr=p.select(this);$n.L&&(Sr=Sr.selectAll($n.L)),Sr.each(function(Hr){var Lr=Ge.l2p(ca?Kt(Hr):Hr.x)+Ge._offset,Gr=p.select(this);Lr<Ge["_visibleLabelMax_"+kn._id]&&Lr>Ge["_visibleLabelMin_"+kn._id]?Gr.style("display","none"):$n.K==="tick"&&!On&&Gr.style("display",null)})})})})},gr(wr,yr+1?yr:Vt);function jr(){return Ar.length&&Promise.all(Ar)}var Fr=null;function Nr(){if(gr(wr,Vt),hr.length&&Ge.autotickangles&&(Ge.type!=="log"||String(Ge.dtick).charAt(0)!=="D")){Fr=Ge.autotickangles[0];var Er=0,tn=[],$r,An=1;if(wr.each(function(Wn){Er=Math.max(Er,Wn.fontSize);var In=Ge.l2p(Wn.x),Qn=Tr(this),Kn=s.bBox(Qn.node());An=Math.max(An,g.lineCount(Qn)),tn.push({top:0,bottom:10,height:10,left:In-Kn.width/2,right:In+Kn.width/2+2,width:Kn.width+2})}),(Ge.tickson==="boundaries"||Ge.showdividers)&&!Ut.secondary){var qn=2;for(Ge.ticks&&(qn+=Ge.tickwidth/2),$r=0;$r<tn.length;$r++){var kn=hr[$r].xbnd,On=tn[$r];if(kn[0]!==null&&On.left-Ge.l2p(kn[0])<qn||kn[1]!==null&&Ge.l2p(kn[1])-On.right<qn){Fr=90;break}}}else{var $n=hr.length,ca=Math.abs((hr[$n-1].x-hr[0].x)*Ge._m)/($n-1),Ia=Ge.ticklabelposition||"",ei=function(Wn){return Ia.indexOf(Wn)!==-1},Sr=ei("top"),Hr=ei("left"),Lr=ei("right"),Gr=ei("bottom"),Ln=Gr||Hr||Sr||Lr,zn=Ln?(Ge.tickwidth||0)+2*le:0,bn=ca,pn=Er*1.25*An,Dr=Math.sqrt(Math.pow(bn,2)+Math.pow(pn,2)),rn=bn/Dr,Kr=Ge.autotickangles.map(function(Wn){return Wn*Math.PI/180}),on=Kr.find(function(Wn){return Math.abs(Math.cos(Wn))<=rn});on===void 0&&(on=Kr.reduce(function(Wn,In){return Math.abs(Math.cos(Wn))<Math.abs(Math.cos(In))?Wn:In},Kr[0]));var _n=on*(180/Math.PI);for($r=0;$r<tn.length-1;$r++)if(T.bBoxIntersect(tn[$r],tn[$r+1],zn)){Fr=_n;break}}Fr&&gr(wr,Fr)}}Ge._selections&&(Ge._selections[ar]=wr);var wn=[jr];Ge.automargin&&Nt._redrawFromAutoMarginCount&&yr===90?(Fr=yr,wn.push(function(){gr(wr,yr)})):wn.push(Nr),Ge._tickAngles&&wn.push(function(){Ge._tickAngles[ar]=Fr===null?L(Vt)?Vt:0:Fr});var hn=function(){var Er=0,tn=0;return wr.each(function($r,An){var qn=Tr(this),kn=qn.select(".text-math-group");if(kn.empty()){var On;Ge._vals[An]&&(On=Ge._vals[An].bb||s.bBox(qn.node()),Ge._vals[An].bb=On),Er=Math.max(Er,On.width),tn=Math.max(tn,On.height)}}),{labelsMaxW:Er,labelsMaxH:tn}},Un=Ge._anchorAxis;if(Un&&(Un.autorange||Un.insiderange)&&er(Ge)&&!q(Nt,Ge._id)&&(Nt._insideTickLabelsUpdaterange||(Nt._insideTickLabelsUpdaterange={}),Un.autorange&&(Nt._insideTickLabelsUpdaterange[Un._name+".autorange"]=Un.autorange,wn.push(hn)),Un.insiderange)){var Fn=hn(),Pr=Ge._id.charAt(0)==="y"?Fn.labelsMaxW:Fn.labelsMaxH;Pr+=2*le,Ge.ticklabelposition==="inside"&&(Pr+=Ge.ticklen||0);var Or=Ge.side==="right"||Ge.side==="top"?1:-1,Qr=Or===1?1:0,Zr=Or===1?0:1,vn=[];vn[Zr]=Un.range[Zr];var Mn=Un.range,Sn=Un.r2p(Mn[Qr]),Vn=Un.r2p(Mn[Zr]),jn=Nt._insideTickLabelsUpdaterange[Un._name+".range"];if(jn){var ya=Un.r2p(jn[Qr]),Pa=Un.r2p(jn[Zr]),Da=Or*(Ge._id.charAt(0)==="y"?1:-1);Da*Sn<Da*ya&&(Sn=ya,vn[Qr]=Mn[Qr]=jn[Qr]),Da*Vn>Da*Pa&&(Vn=Pa,vn[Zr]=Mn[Zr]=jn[Zr])}var Ma=Math.abs(Vn-Sn);Ma-Pr>0?(Ma-=Pr,Pr*=1+Pr/Ma):Pr=0,Ge._id.charAt(0)!=="y"&&(Pr=-Pr),vn[Qr]=Un.p2r(Un.r2p(Mn[Qr])+Or*Pr),Un.autorange==="min"||Un.autorange==="max reversed"?(vn[0]=null,Un._rangeInitial0=void 0,Un._rangeInitial1=void 0):(Un.autorange==="max"||Un.autorange==="min reversed")&&(vn[1]=null,Un._rangeInitial0=void 0,Un._rangeInitial1=void 0),Nt._insideTickLabelsUpdaterange[Un._name+".range"]=vn}var ma=T.syncOrAsync(wn);return ma&&ma.then&&Xe._promises.push(ma),ma};function Ft(Xe,Ge,Ut){var Nt=Ge._id+"divider",Qt=Ut.vals,ar=Ut.layer.selectAll("path."+Nt).data(Qt,St);ar.exit().remove(),ar.enter().insert("path",":first-child").classed(Nt,1).classed("crisp",1).call(t.stroke,Ge.dividercolor).style("stroke-width",s.crispRound(Xe,Ge.dividerwidth,1)+"px"),ar.attr("transform",Ut.transFn).attr("d",Ut.path)}Z.getPxPosition=function(Xe,Ge){var Ut=Xe._fullLayout._size,Nt=Ge._id.charAt(0),Qt=Ge.side,ar;if(Ge.anchor!=="free"?ar=Ge._anchorAxis:Nt==="x"?ar={_offset:Ut.t+(1-(Ge.position||0))*Ut.h,_length:0}:Nt==="y"&&(ar={_offset:Ut.l+(Ge.position||0)*Ut.w+Ge._shift,_length:0}),Qt==="top"||Qt==="left")return ar._offset;if(Qt==="bottom"||Qt==="right")return ar._offset+ar._length};function rr(Xe){var Ge=Xe.title.font.size,Ut=(Xe.title.text.match(g.BR_TAG_ALL)||[]).length;return Xe.title.hasOwnProperty("standoff")?Ut?Ge*(ee+Ut*ne):Ge*ee:Ut?Ge*(Ut+1)*ne:Ge}function _r(Xe,Ge){var Ut=Xe._fullLayout,Nt=Ge._id,Qt=Nt.charAt(0),ar=Ge.title.font.size,hr;if(Ge.title.hasOwnProperty("standoff"))hr=Ge._depth+Ge.title.standoff+rr(Ge);else{var or=er(Ge);if(Ge.type==="multicategory")hr=Ge._depth;else{var Vt=1.5*ar;or&&(Vt=.5*ar,Ge.ticks==="outside"&&(Vt+=Ge.ticklen)),hr=10+Vt+(Ge.linewidth?Ge.linewidth-1:0)}or||(Qt==="x"?hr+=Ge.side==="top"?ar*(Ge.showticklabels?1:0):ar*(Ge.showticklabels?1.5:.5):hr+=Ge.side==="right"?ar*(Ge.showticklabels?1:.5):ar*(Ge.showticklabels?.5:0))}var yr=Z.getPxPosition(Xe,Ge),wr,Ar,gr;Qt==="x"?(Ar=Ge._offset+Ge._length/2,gr=Ge.side==="top"?yr-hr:yr+hr):(gr=Ge._offset+Ge._length/2,Ar=Ge.side==="right"?yr+hr:yr-hr,wr={rotate:"-90",offset:0});var jr;if(Ge.type!=="multicategory"){var Fr=Ge._selections[Ge._id+"tick"];if(jr={selection:Fr,side:Ge.side},Fr&&Fr.node()&&Fr.node().parentNode){var Nr=s.getTranslate(Fr.node().parentNode);jr.offsetLeft=Nr.x,jr.offsetTop=Nr.y}Ge.title.hasOwnProperty("standoff")&&(jr.pad=0)}return Ge._titleStandoff=hr,r.draw(Xe,Nt+"title",{propContainer:Ge,propName:Ge._name+".title.text",placeholder:Ut._dfltTitle[Qt],avoid:jr,transform:wr,attributes:{x:Ar,y:gr,"text-anchor":"middle"}})}Z.shouldShowZeroLine=function(Xe,Ge,Ut){var Nt=T.simpleMap(Ge.range,Ge.r2l);return Nt[0]*Nt[1]<=0&&Ge.zeroline&&(Ge.type==="linear"||Ge.type==="-")&&!(Ge.rangebreaks&&Ge.maskBreaks(0)===I)&&(Tt(Ge,0)||!$t(Xe,Ge,Ut,Nt)||tr(Xe,Ge))},Z.clipEnds=function(Xe,Ge){return Ge.filter(function(Ut){return Tt(Xe,Ut.x)})};function Tt(Xe,Ge){var Ut=Xe.l2p(Ge);return Ut>1&&Ut<Xe._length-1}function $t(Xe,Ge,Ut,Nt){var Qt=Ut._mainAxis;if(!Qt)return;var ar=Xe._fullLayout,hr=Ge._id.charAt(0),or=Z.counterLetter(Ge._id),Vt=Ge._offset+(Math.abs(Nt[0])<Math.abs(Nt[1])==(hr==="x")?0:Ge._length);function yr(Fr){if(!Fr.showline||!Fr.linewidth)return!1;var Nr=Math.max((Fr.linewidth+Ge.zerolinewidth)/2,1);function wn(Fn){return typeof Fn=="number"&&Math.abs(Fn-Vt)<Nr}if(wn(Fr._mainLinePosition)||wn(Fr._mainMirrorPosition))return!0;var hn=Fr._linepositions||{};for(var Un in hn)if(wn(hn[Un][0])||wn(hn[Un][1]))return!0}var wr=ar._plots[Ut._mainSubplot];if(!(wr.mainplotinfo||wr).overlays.length)return yr(Ut);for(var Ar=Z.list(Xe,or),gr=0;gr<Ar.length;gr++){var jr=Ar[gr];if(jr._mainAxis===Qt&&yr(jr))return!0}}function tr(Xe,Ge){for(var Ut=Xe._fullData,Nt=Ge._mainSubplot,Qt=Ge._id.charAt(0),ar=0;ar<Ut.length;ar++){var hr=Ut[ar];if(hr.visible===!0&&hr.xaxis+hr.yaxis===Nt&&(C.traceIs(hr,"bar-like")&&hr.orientation==={x:"h",y:"v"}[Qt]||hr.fill&&hr.fill.charAt(hr.fill.length-1)===Qt))return!0}return!1}function Tr(Xe){var Ge=p.select(Xe),Ut=Ge.select(".text-math-group");return Ut.empty()?Ge.select("text"):Ut}Z.allowAutoMargin=function(Xe){for(var Ge=Z.list(Xe,"",!0),Ut=0;Ut<Ge.length;Ut++){var Nt=Ge[Ut];Nt.automargin&&(n.allowAutoMargin(Xe,cr(Nt)),Nt.mirror&&n.allowAutoMargin(Xe,bt(Nt))),C.getComponentMethod("rangeslider","isVisible")(Nt)&&n.allowAutoMargin(Xe,lt(Nt))}};function cr(Xe){return Xe._id+".automargin"}function bt(Xe){return cr(Xe)+".mirror"}function lt(Xe){return Xe._id+".rangeslider"}Z.swap=function(Xe,Ge){for(var Ut=Mt(Xe,Ge),Nt=0;Nt<Ut.length;Nt++)Ot(Xe,Ut[Nt].x,Ut[Nt].y)};function Mt(Xe,Ge){var Ut=[],Nt,Qt;for(Nt=0;Nt<Ge.length;Nt++){var ar=[],hr=Xe._fullData[Ge[Nt]].xaxis,or=Xe._fullData[Ge[Nt]].yaxis;if(!(!hr||!or)){for(Qt=0;Qt<Ut.length;Qt++)(Ut[Qt].x.indexOf(hr)!==-1||Ut[Qt].y.indexOf(or)!==-1)&&ar.push(Qt);if(!ar.length){Ut.push({x:[hr],y:[or]});continue}var Vt=Ut[ar[0]],yr;if(ar.length>1)for(Qt=1;Qt<ar.length;Qt++)yr=Ut[ar[Qt]],_t(Vt.x,yr.x),_t(Vt.y,yr.y);_t(Vt.x,[hr]),_t(Vt.y,[or])}}return Ut}function _t(Xe,Ge){for(var Ut=0;Ut<Ge.length;Ut++)Xe.indexOf(Ge[Ut])===-1&&Xe.push(Ge[Ut])}function Ot(Xe,Ge,Ut){var Nt=[],Qt=[],ar=Xe.layout,hr,or;for(hr=0;hr<Ge.length;hr++)Nt.push(Z.getFromId(Xe,Ge[hr]));for(hr=0;hr<Ut.length;hr++)Qt.push(Z.getFromId(Xe,Ut[hr]));var Vt=Object.keys(a),yr=["anchor","domain","overlaying","position","side","tickangle","editType"],wr=["linear","log"];for(hr=0;hr<Vt.length;hr++){var Ar=Vt[hr],gr=Nt[0][Ar],jr=Qt[0][Ar],Fr=!0,Nr=!1,wn=!1;if(!(Ar.charAt(0)==="_"||typeof gr=="function"||yr.indexOf(Ar)!==-1)){for(or=1;or<Nt.length&&Fr;or++){var hn=Nt[or][Ar];Ar==="type"&&wr.indexOf(gr)!==-1&&wr.indexOf(hn)!==-1&&gr!==hn?Nr=!0:hn!==gr&&(Fr=!1)}for(or=1;or<Qt.length&&Fr;or++){var Un=Qt[or][Ar];Ar==="type"&&wr.indexOf(jr)!==-1&&wr.indexOf(Un)!==-1&&jr!==Un?wn=!0:Qt[or][Ar]!==jr&&(Fr=!1)}Fr&&(Nr&&(ar[Nt[0]._name].type="linear"),wn&&(ar[Qt[0]._name].type="linear"),It(ar,Ar,Nt,Qt,Xe._fullLayout._dfltTitle))}}for(hr=0;hr<Xe._fullLayout.annotations.length;hr++){var Fn=Xe._fullLayout.annotations[hr];Ge.indexOf(Fn.xref)!==-1&&Ut.indexOf(Fn.yref)!==-1&&T.swapAttrs(ar.annotations[hr],["?"])}}function It(Xe,Ge,Ut,Nt,Qt){var ar=T.nestedProperty,hr=ar(Xe[Ut[0]._name],Ge).get(),or=ar(Xe[Nt[0]._name],Ge).get(),Vt;for(Ge==="title"&&(hr&&hr.text===Qt.x&&(hr.text=Qt.y),or&&or.text===Qt.y&&(or.text=Qt.x)),Vt=0;Vt<Ut.length;Vt++)ar(Xe,Ut[Vt]._name+"."+Ge).set(or);for(Vt=0;Vt<Nt.length;Vt++)ar(Xe,Nt[Vt]._name+"."+Ge).set(hr)}function Wt(Xe){return Xe._id==="angularaxis"}function Gt(Xe,Ge){for(var Ut=Ge._rangebreaks.length,Nt=0;Nt<Ut;Nt++){var Qt=Ge._rangebreaks[Nt];if(Xe>=Qt.min&&Xe<Qt.max)return Qt.max}return Xe}function er(Xe){return(Xe.ticklabelposition||"").indexOf("inside")!==-1}function dr(Xe,Ge){er(Xe._anchorAxis||{})&&Xe._hideCounterAxisInsideTickLabels&&Xe._hideCounterAxisInsideTickLabels(Ge)}function pr(Xe,Ge,Ut,Nt){var Qt=Xe.anchor!=="free"&&(Xe.overlaying===void 0||Xe.overlaying===!1)?Xe._id:Xe.overlaying,ar;Nt?ar=Xe.side==="right"?Ge:-Ge:ar=Ge,Qt in Ut||(Ut[Qt]={}),Xe.side in Ut[Qt]||(Ut[Qt][Xe.side]=0),Ut[Qt][Xe.side]+=ar}function mr(Xe,Ge){return Xe.autoshift?Ge[Xe.overlaying][Xe.side]:Xe.shift||0}},52976:function(H,U,e){var p=e(38248),L=e(3400),n=e(39032).BADNUM,C=L.isArrayOrTypedArray,T=L.isDateTime,v=L.cleanNumber,g=Math.round;H.exports=function(m,h,M){var c=m,i=M.noMultiCategory;if(C(c)&&!c.length)return"-";if(!i&&u(c))return"multicategory";if(i&&Array.isArray(c[0])){for(var d=[],x=0;x<c.length;x++)if(C(c[x]))for(var A=0;A<c[x].length;A++)d.push(c[x][A]);c=d}if(s(c,h))return"date";var E=M.autotypenumbers!=="strict";return f(c,E)?"category":t(c,E)?"linear":"-"};function r(l,m){return m?p(l):typeof l=="number"}function t(l,m){for(var h=l.length,M=0;M<h;M++)if(r(l[M],m))return!0;return!1}function s(l,m){for(var h=l.length,M=a(h),c=0,i=0,d={},x=0;x<h;x+=M){var A=g(x),E=l[A],y=String(E);d[y]||(d[y]=1,T(E,m)&&c++,p(E)&&i++)}return c>i*2}function a(l){return Math.max(1,(l-1)/1e3)}function f(l,m){for(var h=l.length,M=a(h),c=0,i=0,d={},x=0;x<h;x+=M){var A=g(x),E=l[A],y=String(E);if(!d[y]){d[y]=1;var S=typeof E;S==="boolean"?i++:(m?v(E)!==n:S==="number")?c++:S==="string"&&i++}}return i>c*2}function u(l){return C(l[0])&&C(l[1])}},28336:function(H,U,e){var p=e(38248),L=e(24040),n=e(3400),C=e(31780),T=e(51272),v=e(94724),g=e(26332),r=e(25404),t=e(95936),s=e(42568),a=e(22416),f=e(42136),u=e(96312),l=e(78344),m=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;H.exports=function(x,A,E,y,S){var w=y.letter,o=y.font||{},_=y.splomStash||{},b=E("visible",!y.visibleDflt),I=A._template||{},D=A.type||I.type||"-",N;if(D==="date"){var k=L.getComponentMethod("calendars","handleDefaults");k(x,A,"calendar",y.calendar),y.noTicklabelmode||(N=E("ticklabelmode"))}var z="";(!y.noTicklabelposition||D==="multicategory")&&(z=n.coerce(x,A,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:N==="period"?["outside","inside"]:w==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),y.noTicklabeloverflow||E("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":D==="category"||D==="multicategory"?"allow":"hide past div"),l(A,S),u(x,A,E,y),a(x,A,E,y),D!=="category"&&!y.noHover&&E("hoverformat");var F=E("color"),O=F!==v.color.dflt?F:o.color,B=_.label||S._dfltTitle[w];if(s(x,A,E,D,y),!b)return A;E("title.text",B),n.coerceFont(E,"title.font",{family:o.family,size:n.bigFont(o.size),color:O}),g(x,A,E,D);var W=y.hasMinor;if(W&&(C.newContainer(A,"minor"),g(x,A,E,D,{isMinor:!0})),t(x,A,E,D,y),r(x,A,E,y),W){var ee=y.isMinor;y.isMinor=!0,r(x,A,E,y),y.isMinor=ee}f(x,A,E,{dfltColor:F,bgColor:y.bgColor,showGrid:y.showGrid,hasMinor:W,attributes:v}),W&&!A.minor.ticks&&!A.minor.showgrid&&delete A.minor,(A.showline||A.ticks)&&E("mirror");var ne=D==="multicategory";if(!y.noTickson&&(D==="category"||ne)&&(A.ticks||A.showgrid)){var Q;ne&&(Q="boundaries");var le=E("tickson",Q);le==="boundaries"&&delete A.ticklabelposition}if(ne){var Z=E("showdividers");Z&&(E("dividercolor"),E("dividerwidth"))}if(D==="date")if(T(x,A,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:M}),!A.rangebreaks.length)delete A.rangebreaks;else{for(var Y=0;Y<A.rangebreaks.length;Y++)if(A.rangebreaks[Y].pattern===m){A._hasDayOfWeekBreaks=!0;break}if(l(A,S),S._has("scattergl")||S._has("splom"))for(var re=0;re<y.data.length;re++){var X=y.data[re];(X.type==="scattergl"||X.type==="splom")&&(X.visible=!1,n.warn(X.type+" traces do not work on axes with rangebreaks. Setting trace "+X.index+" to `visible: false`."))}}return A};function M(d,x,A){function E(N,k){return n.coerce(d,x,v.rangebreaks,N,k)}var y=E("enabled");if(y){var S=E("bounds");if(S&&S.length>=2){var w="",o,_;if(S.length===2){for(o=0;o<2;o++)if(_=i(S[o]),_){w=m;break}}var b=E("pattern",w);if(b===m)for(o=0;o<2;o++)_=i(S[o]),_&&(x.bounds[o]=S[o]=_-1);if(b)for(o=0;o<2;o++)switch(_=S[o],b){case m:if(!p(_)){x.enabled=!1;return}if(_=+_,_!==Math.floor(_)||_<0||_>=7){x.enabled=!1;return}x.bounds[o]=S[o]=_;break;case h:if(!p(_)){x.enabled=!1;return}if(_=+_,_<0||_>24){x.enabled=!1;return}x.bounds[o]=S[o]=_;break}if(A.autorange===!1){var I=A.range;if(I[0]<I[1]){if(S[0]<I[0]&&S[1]>I[1]){x.enabled=!1;return}}else if(S[0]>I[0]&&S[1]<I[1]){x.enabled=!1;return}}}else{var D=E("values");if(D&&D.length)E("dvalue");else{x.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function i(d){if(typeof d=="string")return c[d.substr(0,3).toLowerCase()]}},29736:function(H,U,e){var p=e(26880),L=p.FORMAT_LINK,n=p.DATE_FORMAT_LINK;function C(g,r){return{valType:"string",dflt:"",editType:"none",description:(r?T:v)("hover text",g)+["By default the values are formatted using "+(r?"generic number format":"`"+g+"axis.hoverformat`")+"."].join(" ")}}function T(g,r){return["Sets the "+g+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+L+"."].join(" ")}function v(g,r){return T(g,r)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}H.exports={axisHoverFormat:C,descriptionOnlyNumbers:T,descriptionWithDates:v}},79811:function(H,U,e){var p=e(24040),L=e(33816);U.id2name=function(T){if(!(typeof T!="string"||!T.match(L.AX_ID_PATTERN))){var v=T.split(" ")[0].substr(1);return v==="1"&&(v=""),T.charAt(0)+"axis"+v}},U.name2id=function(T){if(T.match(L.AX_NAME_PATTERN)){var v=T.substr(5);return v==="1"&&(v=""),T.charAt(0)+v}},U.cleanId=function(T,v,g){var r=/( domain)$/.test(T);if(!(typeof T!="string"||!T.match(L.AX_ID_PATTERN))&&!(v&&T.charAt(0)!==v)&&!(r&&!g)){var t=T.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),T.charAt(0)+t+(r&&g?" domain":"")}},U.list=function(C,T,v){var g=C._fullLayout;if(!g)return[];var r=U.listIds(C,T),t=new Array(r.length),s;for(s=0;s<r.length;s++){var a=r[s];t[s]=g[a.charAt(0)+"axis"+a.substr(1)]}if(!v){var f=g._subplots.gl3d||[];for(s=0;s<f.length;s++){var u=g[f[s]];T?t.push(u[T+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},U.listIds=function(C,T){var v=C._fullLayout;if(!v)return[];var g=v._subplots;return T?g[T+"axis"]:g.xaxis.concat(g.yaxis)},U.getFromId=function(C,T,v){var g=C._fullLayout;return T=T===void 0||typeof T!="string"?T:T.replace(" domain",""),v==="x"?T=T.replace(/y[0-9]*/,""):v==="y"&&(T=T.replace(/x[0-9]*/,"")),g[U.id2name(T)]},U.getFromTrace=function(C,T,v){var g=C._fullLayout,r=null;if(p.traceIs(T,"gl3d")){var t=T.scene;t.substr(0,5)==="scene"&&(r=g[t][v+"axis"])}else r=U.getFromId(C,T[v+"axis"]||v);return r},U.idSort=function(C,T){var v=C.charAt(0),g=T.charAt(0);return v!==g?v>g?1:-1:+(C.substr(1)||1)-+(T.substr(1)||1)},U.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function n(C,T){if(T&&T.length){for(var v=0;v<T.length;v++)if(T[v][C])return!0}return!1}U.isLinked=function(C,T){return n(T,C._axisMatchGroups)||n(T,C._axisConstraintGroups)}},22416:function(H,U,e){var p=e(38116).isTypedArraySpec;function L(n,C){var T=C.dataAttr||n._id.charAt(0),v={},g,r,t;if(C.axData)g=C.axData;else for(g=[],r=0;r<C.data.length;r++){var s=C.data[r];s[T+"axis"]===n._id&&g.push(s)}for(r=0;r<g.length;r++){var a=g[r][T];for(t=0;t<a.length;t++){var f=a[t];f!=null&&(v[f]=1)}}return Object.keys(v)}H.exports=function(C,T,v,g){if(T.type==="category"){var r=C.categoryarray,t=Array.isArray(r)&&r.length>0||p(r),s;t&&(s="array");var a=v("categoryorder",s),f;a==="array"&&(f=v("categoryarray")),!t&&a==="array"&&(a=T.categoryorder="trace"),a==="trace"?T._initialCategories=[]:a==="array"?T._initialCategories=f.slice():(f=L(T,g).sort(),a==="category ascending"?T._initialCategories=f:a==="category descending"&&(T._initialCategories=f.reverse()))}}},98728:function(H,U,e){var p=e(38248),L=e(3400),n=e(39032),C=n.ONEDAY,T=n.ONEWEEK;U.dtick=function(v,g){var r=g==="log",t=g==="date",s=g==="category",a=t?C:1;if(!v)return a;if(p(v))return v=Number(v),v<=0?a:s?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return a;var f=v.charAt(0),u=v.substr(1);return u=p(u)?Number(u):0,u<=0||!(t&&f==="M"&&u===Math.round(u)||r&&f==="L"||r&&f==="D"&&(u===1||u===2))?a:v},U.tick0=function(v,g,r,t){if(g==="date")return L.cleanDate(v,L.dateTick0(r,t%T===0?1:0));if(!(t==="D1"||t==="D2"))return p(v)?Number(v):0}},33816:function(H,U,e){var p=e(53756).counter;H.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(H,U,e){var p=e(3400),L=e(19280),n=e(79811).id2name,C=e(94724),T=e(21160),v=e(78344),g=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;U.handleDefaults=function(h,M,c){var i=c.axIds,d=c.axHasImage,x=M._axisConstraintGroups=[],A=M._axisMatchGroups=[],E,y,S,w,o,_,b,I;for(E=0;E<i.length;E++)w=n(i[E]),o=h[w],_=M[w],t(o,_,{axIds:i,layoutOut:M,hasImage:d[w]});function D(ne,Q){for(E=0;E<ne.length;E++){y=ne[E];for(S in y)M[n(S)][Q]=y}}for(D(A,"_matchGroup"),E=0;E<x.length;E++){y=x[E];for(S in y)if(_=M[n(S)],_.fixedrange){for(var N in y){var k=n(N);(h[k]||{}).fixedrange===!1&&p.warn("fixedrange was specified as false for axis "+k+" but was overridden because another axis in its constraint group has fixedrange true"),M[k].fixedrange=!0}break}}for(E=0;E<x.length;){y=x[E];for(S in y){_=M[n(S)],_._matchGroup&&Object.keys(_._matchGroup).length===Object.keys(y).length&&(x.splice(E,1),E--);break}E++}D(x,"_constraintGroup");var z=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],F=!1,O=!1;function B(){I=_[b],b==="rangebreaks"&&(O=_._hasDayOfWeekBreaks)}for(E=0;E<A.length;E++){y=A[E];for(var W=0;W<z.length;W++){b=z[W],I=null;var ee;for(S in y)if(w=n(S),o=h[w],_=M[w],b in _){if(!_.matches&&(ee=_,b in o)){B();break}I===null&&b in o&&B()}if(b==="range"&&I&&o.range&&o.range.length===2&&o.range[0]!==null&&o.range[1]!==null&&(F=!0),b==="autorange"&&I===null&&F&&(I=!1),I===null&&b in ee&&(I=ee[b]),I!==null)for(S in y)_=M[n(S)],_[b]=b==="range"?I.slice():I,b==="rangebreaks"&&(_._hasDayOfWeekBreaks=O,v(_,M))}}};function t(h,M,c){var i=c.axIds,d=c.layoutOut,x=c.hasImage,A=d._axisConstraintGroups,E=d._axisMatchGroups,y=M._id,S=y.charAt(0),w=((d._splomAxes||{})[S]||{})[y]||{},o=M._id,_=o.charAt(0)==="x";M._matchGroup=null,M._constraintGroup=null;function b(Y,re){return p.coerce(h,M,C,Y,re)}b("constrain",x?"domain":"range"),p.coerce(h,M,{constraintoward:{valType:"enumerated",values:_?["left","center","right"]:["bottom","middle","top"],dflt:_?"center":"middle"}},"constraintoward");var I=M.type,D,N,k=[];for(D=0;D<i.length;D++)if(N=i[D],N!==o){var z=d[n(N)];z.type===I&&k.push(N)}var F=a(A,o);if(F){var O=[];for(D=0;D<k.length;D++)N=k[D],F[N]||O.push(N);k=O}var B=k.length,W,ee;B&&(h.matches||w.matches)&&(W=p.coerce(h,M,{matches:{valType:"enumerated",values:k,dflt:k.indexOf(w.matches)!==-1?w.matches:void 0}},"matches"));var ne=x&&!_?M.anchor:void 0;if(B&&!W&&(h.scaleanchor||ne)&&(ee=p.coerce(h,M,{scaleanchor:{valType:"enumerated",values:k.concat([!1])}},"scaleanchor",ne)),W){M._matchGroup=f(E,o,W,1);var Q=d[n(W)],le=s(d,M)/s(d,Q);_!==(W.charAt(0)==="x")&&(le=(_?"x":"y")+le),f(A,o,W,le)}else h.matches&&i.indexOf(h.matches)!==-1&&p.warn("ignored "+M._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(ee){var Z=b("scaleratio");Z||(Z=M.scaleratio=1),f(A,o,ee,Z)}else h.scaleanchor&&i.indexOf(h.scaleanchor)!==-1&&p.warn("ignored "+M._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function s(h,M){var c=M.domain;return c||(c=h[n(M.overlaying)].domain),c[1]-c[0]}function a(h,M){for(var c=0;c<h.length;c++)if(h[c][M])return h[c];return null}function f(h,M,c,i){var d,x,A,E,y,S=a(h,M);S===null?(S={},S[M]=1,y=h.length,h.push(S)):y=h.indexOf(S);var w=Object.keys(S);for(d=0;d<h.length;d++)if(A=h[d],d!==y&&A[c]){var o=A[c];for(x=0;x<w.length;x++)E=w[x],A[E]=u(o,u(i,S[E]));h.splice(y,1);return}if(i!==1)for(x=0;x<w.length;x++){var _=w[x];S[_]=u(i,S[_])}S[c]=1}function u(h,M){var c="",i="",d,x;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],d=c.length,h=+h.substr(d)),typeof M=="string"&&(i=M.match(/^[xy]*/)[0],x=i.length,M=+M.substr(x));var A=h*M;return!d&&!x?A:!d||!x||c.charAt(0)===i.charAt(0)?c+i+h*M:d===x?A:(d>x?c.substr(x):i.substr(d))+A}function l(h,M){for(var c=M._size,i=c.h/c.w,d={},x=Object.keys(h),A=0;A<x.length;A++){var E=x[A],y=h[E];if(typeof y=="string"){var S=y.match(/^[xy]*/)[0],w=S.length;y=+y.substr(w);for(var o=S.charAt(0)==="y"?i:1/i,_=0;_<w;_++)y*=o}d[E]=y}return d}U.enforce=function(M){var c=M._fullLayout,i=c._axisConstraintGroups||[],d,x,A,E,y,S,w,o;for(d=0;d<i.length;d++){A=l(i[d],c);var _=Object.keys(A),b=1/0,I=0,D=1/0,N={},k={},z=!1;for(x=0;x<_.length;x++)E=_[x],k[E]=y=c[n(E)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),N[E]=S=Math.abs(y._m)/A[E],b=Math.min(b,S),(y.constrain==="domain"||!y._constraintShrinkable)&&(D=Math.min(D,S)),delete y._constraintShrinkable,I=Math.max(I,S),y.constrain==="domain"&&(z=!0);if(!(b>g*I&&!z)){for(x=0;x<_.length;x++)if(E=_[x],S=N[E],y=k[E],w=y.constrain,S!==D||w==="domain")if(o=S/D,w==="range")T(y,o);else{var F=y._inputDomain,O=(y.domain[1]-y.domain[0])/(F[1]-F[0]),B=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if(o/=O,o*B<1){y.domain=y._input.domain=F.slice(),T(y,o);continue}if(B<1&&(y.range=y._input.range=y._inputRange.slice(),o*=B),y.autorange){var W=y.r2l(y.range[0]),ee=y.r2l(y.range[1]),ne=(W+ee)/2,Q=ne,le=ne,Z=Math.abs(ee-ne),Y=ne-Z*o*1.0001,re=ne+Z*o*1.0001,X=L.makePadFn(c,y,0),q=L.makePadFn(c,y,1);m(y,o);var se=Math.abs(y._m),$=L.concatExtremes(M,y),j=$.min,ue=$.max,ae,ce;for(ce=0;ce<j.length;ce++)ae=j[ce].val-X(j[ce])/se,ae>Y&&ae<Q&&(Q=ae);for(ce=0;ce<ue.length;ce++)ae=ue[ce].val+q(ue[ce])/se,ae<re&&ae>le&&(le=ae);var ye=(le-Q)/(2*Z);o/=ye,Q=y.l2r(Q),le=y.l2r(le),y.range=y._input.range=W<ee?[Q,le]:[le,Q]}m(y,o)}}}},U.getAxisGroup=function(M,c){for(var i=M._axisMatchGroups,d=0;d<i.length;d++){var x=i[d];if(x[c])return"g"+d}return c},U.clean=function(M,c){if(c._inputDomain){for(var i=!1,d=c._id,x=M._fullLayout._axisConstraintGroups,A=0;A<x.length;A++)if(x[A][d]){i=!0;break}(!i||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function m(h,M){var c=h._inputDomain,i=r[h.constraintoward],d=c[0]+(c[1]-c[0])*i;h.domain=h._input.domain=[d+(c[0]-d)/M,d+(c[1]-d)/M],h.setScale()}},51184:function(H,U,e){var p=e(33428),L=e(3400),n=L.numberFormat,C=e(49760),T=e(89184),v=e(24040),g=L.strTranslate,r=e(72736),t=e(76308),s=e(43616),a=e(93024),f=e(54460),u=e(93972),l=e(86476),m=e(72760),h=m.selectingOrDrawing,M=m.freeMode,c=e(84284).FROM_TL,i=e(73696),d=e(39172).redrawReglTraces,x=e(7316),A=e(79811).getFromId,E=e(22676).prepSelect,y=e(22676).clearOutline,S=e(22676).selectOnClick,w=e(21160),o=e(33816),_=o.MINDRAG,b=o.MINZOOM,I=!0;function D(ae,ce,ye,Ce,Ae,Ie,Te,Le){var xe=ae._fullLayout._zoomlayer,Re=Te+Le==="nsew",He=(Te+Le).length===1,Ve,Fe,We,ut,ht,rt,tt,vt,pt,mt,wt,Lt,at,Oe,Ze,Je,Ye,ke,be,me,_e,Ee,Be;ye+=ce.yaxis._shift;function je(){if(Ve=ce.xaxis,Fe=ce.yaxis,pt=Ve._length,mt=Fe._length,tt=Ve._offset,vt=Fe._offset,We={},We[Ve._id]=Ve,ut={},ut[Fe._id]=Fe,Te&&Le)for(var or=ce.overlays,Vt=0;Vt<or.length;Vt++){var yr=or[Vt].xaxis;We[yr._id]=yr;var wr=or[Vt].yaxis;ut[wr._id]=wr}ht=ue(We),rt=ue(ut),at=z(ht,Le),Oe=z(rt,Te),Ze=!Oe&&!at,Lt=$(ae,ae._fullLayout._axisMatchGroups,We,ut),wt=$(ae,ae._fullLayout._axisConstraintGroups,We,ut,Lt);var Ar=wt.isSubplotConstrained||Lt.isSubplotConstrained;Je=Le||Ar,Ye=Te||Ar;var gr=ae._fullLayout;ke=gr._has("scattergl"),be=gr._has("splom"),me=gr._has("svg")}je();var nt=ee(Oe+at,ae._fullLayout.dragmode,Re),dt=k(ce,Te+Le+"drag",nt,ye,Ce,Ae,Ie);if(Ze&&!Re)return dt.onmousedown=null,dt.style.pointerEvents="none",dt;var xt={element:dt,gd:ae,plotinfo:ce};xt.prepFn=function(or,Vt,yr){var wr=xt.dragmode,Ar=ae._fullLayout.dragmode;Ar!==wr&&(xt.dragmode=Ar),je(),Ee=ae._fullLayout._invScaleX,Be=ae._fullLayout._invScaleY,Ze||(Re?or.shiftKey?Ar==="pan"?Ar="zoom":h(Ar)||(Ar="pan"):or.ctrlKey&&(Ar="pan"):Ar="pan"),M(Ar)?xt.minDrag=1:xt.minDrag=void 0,h(Ar)?(xt.xaxes=ht,xt.yaxes=rt,E(or,Vt,yr,xt,Ar)):(xt.clickFn=Jt,h(wr)&&Kt(),Ze||(Ar==="zoom"?(xt.moveFn=Mt,xt.doneFn=Ot,xt.minDrag=1,lt(or,Vt,yr)):Ar==="pan"&&(xt.moveFn=pr,xt.doneFn=Ut))),ae._fullLayout._redrag=function(){var gr=ae._dragdata;if(gr&&gr.element===dt){var jr=ae._fullLayout.dragmode;h(jr)||(je(),Nt([0,0,pt,mt]),xt.moveFn(gr.dx,gr.dy))}}};function Kt(){xt.plotinfo.selection=!1,y(ae)}function Jt(or,Vt){var yr=xt.gd;if(yr._fullLayout._activeShapeIndex>=0){yr._fullLayout._deactivateShape(yr);return}var wr=yr._fullLayout.clickmode;if(Y(yr),or===2&&!He&&Ge(),Re)wr.indexOf("select")>-1&&S(Vt,yr,ht,rt,ce.id,xt),wr.indexOf("event")>-1&&a.click(yr,Vt,ce.id);else if(or===1&&He){var Ar=Te?Fe:Ve,gr=Te==="s"||Le==="w"?0:1,jr=Ar._name+".range["+gr+"]",Fr=F(Ar,gr),Nr="left",wn="middle";if(Ar.fixedrange)return;Te?(wn=Te==="n"?"top":"bottom",Ar.side==="right"&&(Nr="right")):Le==="e"&&(Nr="right"),yr._context.showAxisRangeEntryBoxes&&p.select(dt).call(r.makeEditable,{gd:yr,immediate:!0,background:yr._fullLayout.paper_bgcolor,text:String(Fr),fill:Ar.tickfont?Ar.tickfont.color:"#444",horizontalAlign:Nr,verticalAlign:wn}).on("edit",function(hn){var Un=Ar.d2r(hn);Un!==void 0&&v.call("_guiRelayout",yr,jr,Un)})}}l.init(xt);var St,Ft,rr,_r,Tt,$t,tr,Tr,cr,bt;function lt(or,Vt,yr){var wr=dt.getBoundingClientRect();St=Vt-wr.left,Ft=yr-wr.top,ae._fullLayout._calcInverseTransform(ae);var Ar=L.apply3DTransform(ae._fullLayout._invTransform)(St,Ft);St=Ar[0],Ft=Ar[1],rr={l:St,r:St,w:0,t:Ft,b:Ft,h:0},_r=ae._hmpixcount?ae._hmlumcount/ae._hmpixcount:C(ae._fullLayout.plot_bgcolor).getLuminance(),Tt="M0,0H"+pt+"V"+mt+"H0V0",$t=!1,tr="xy",bt=!1,Tr=ne(xe,_r,tt,vt,Tt),cr=Q(xe,tt,vt)}function Mt(or,Vt){if(ae._transitioningWithDuration)return!1;var yr=Math.max(0,Math.min(pt,Ee*or+St)),wr=Math.max(0,Math.min(mt,Be*Vt+Ft)),Ar=Math.abs(yr-St),gr=Math.abs(wr-Ft);rr.l=Math.min(St,yr),rr.r=Math.max(St,yr),rr.t=Math.min(Ft,wr),rr.b=Math.max(Ft,wr);function jr(){tr="",rr.r=rr.l,rr.t=rr.b,cr.attr("d","M0,0Z")}if(wt.isSubplotConstrained)Ar>b||gr>b?(tr="xy",Ar/pt>gr/mt?(gr=Ar*mt/pt,Ft>wr?rr.t=Ft-gr:rr.b=Ft+gr):(Ar=gr*pt/mt,St>yr?rr.l=St-Ar:rr.r=St+Ar),cr.attr("d",se(rr))):jr();else if(Lt.isSubplotConstrained)if(Ar>b||gr>b){tr="xy";var Fr=Math.min(rr.l/pt,(mt-rr.b)/mt),Nr=Math.max(rr.r/pt,(mt-rr.t)/mt);rr.l=Fr*pt,rr.r=Nr*pt,rr.b=(1-Fr)*mt,rr.t=(1-Nr)*mt,cr.attr("d",se(rr))}else jr();else!Oe||gr<Math.min(Math.max(Ar*.6,_),b)?Ar<_||!at?jr():(rr.t=0,rr.b=mt,tr="x",cr.attr("d",X(rr,Ft))):!at||Ar<Math.min(gr*.6,b)?(rr.l=0,rr.r=pt,tr="y",cr.attr("d",q(rr,St))):(tr="xy",cr.attr("d",se(rr)));rr.w=rr.r-rr.l,rr.h=rr.b-rr.t,tr&&(bt=!0),ae._dragged=bt,le(Tr,cr,rr,Tt,$t,_r),_t(),ae.emit("plotly_relayouting",_e),$t=!0}function _t(){_e={},(tr==="xy"||tr==="x")&&(O(ht,rr.l/pt,rr.r/pt,_e,wt.xaxes),mr("x",_e)),(tr==="xy"||tr==="y")&&(O(rt,(mt-rr.b)/mt,(mt-rr.t)/mt,_e,wt.yaxes),mr("y",_e))}function Ot(){_t(),Y(ae),Ut(),re(ae)}var It=[0,0,pt,mt],Wt=null,Gt=o.REDRAWDELAY,er=ce.mainplot?ae._fullLayout._plots[ce.mainplot]:ce;function dr(or){if(!ae._context._scrollZoom.cartesian&&!ae._fullLayout._enablescrollzoom)return;if(Kt(),ae._transitioningWithDuration){or.preventDefault(),or.stopPropagation();return}je(),clearTimeout(Wt);var Vt=-or.deltaY;if(isFinite(Vt)||(Vt=or.wheelDelta/10),!isFinite(Vt)){L.log("Did not find wheel motion attributes: ",or);return}var yr=Math.exp(-Math.min(Math.max(Vt,-20),20)/200),wr=er.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Ar=(or.clientX-wr.left)/wr.width,gr=(wr.bottom-or.clientY)/wr.height,jr;function Fr(Nr,wn,hn){if(Nr.fixedrange)return;var Un=L.simpleMap(Nr.range,Nr.r2l),Fn=Un[0]+(Un[1]-Un[0])*wn;function Pr(Or){return Nr.l2r(Fn+(Or-Fn)*hn)}Nr.range=Un.map(Pr)}if(Je){for(Le||(Ar=.5),jr=0;jr<ht.length;jr++)Fr(ht[jr],Ar,yr);mr("x"),It[2]*=yr,It[0]+=It[2]*Ar*(1/yr-1)}if(Ye){for(Te||(gr=.5),jr=0;jr<rt.length;jr++)Fr(rt[jr],gr,yr);mr("y"),It[3]*=yr,It[1]+=It[3]*(1-gr)*(1/yr-1)}Nt(It),Xe(),ae.emit("plotly_relayouting",_e),Wt=setTimeout(function(){ae._fullLayout&&(It=[0,0,pt,mt],Ut())},Gt),or.preventDefault()}Te.length*Le.length!==1&&j(dt,dr);function pr(or,Vt){if(or=or*Ee,Vt=Vt*Be,ae._transitioningWithDuration)return;if(ae._fullLayout._replotting=!0,at==="ew"||Oe==="ns"){var yr=at?-or:0,wr=Oe?-Vt:0;if(Lt.isSubplotConstrained){if(at&&Oe){var Ar=(or/pt-Vt/mt)/2;or=Ar*pt,Vt=-Ar*mt,yr=-or,wr=-Vt}Oe?yr=-wr*pt/mt:wr=-yr*mt/pt}at&&(B(ht,or),mr("x")),Oe&&(B(rt,Vt),mr("y")),Nt([yr,wr,pt,mt]),Xe(),ae.emit("plotly_relayouting",_e);return}function gr(Pr,Or,Qr){for(var Zr=1-Or,vn,Mn,Sn=0;Sn<Pr.length;Sn++){var Vn=Pr[Sn];if(!Vn.fixedrange){vn=Vn,Mn=Vn._rl[Zr]+(Vn._rl[Or]-Vn._rl[Zr])/W(Qr/Vn._length);var jn=Vn.l2r(Mn);jn!==!1&&jn!==void 0&&(Vn.range[Or]=jn)}}return vn._length*(vn._rl[Or]-Mn)/(vn._rl[Or]-vn._rl[Zr])}var jr=at==="w"==(Oe==="n")?1:-1;if(at&&Oe&&(wt.isSubplotConstrained||Lt.isSubplotConstrained)){var Fr=(or/pt+jr*Vt/mt)/2;or=Fr*pt,Vt=jr*Fr*mt}var Nr,wn;if(at==="w"?or=gr(ht,0,or):at==="e"?or=gr(ht,1,-or):at||(or=0),Oe==="n"?Vt=gr(rt,1,Vt):Oe==="s"?Vt=gr(rt,0,-Vt):Oe||(Vt=0),Nr=at==="w"?or:0,wn=Oe==="n"?Vt:0,wt.isSubplotConstrained&&!Lt.isSubplotConstrained||Lt.isSubplotConstrained&&at&&Oe&&jr>0){var hn;if(Lt.isSubplotConstrained||!at&&Oe.length===1){for(hn=0;hn<ht.length;hn++)ht[hn].range=ht[hn]._r.slice(),w(ht[hn],1-Vt/mt);or=Vt*pt/mt,Nr=or/2}if(Lt.isSubplotConstrained||!Oe&&at.length===1){for(hn=0;hn<rt.length;hn++)rt[hn].range=rt[hn]._r.slice(),w(rt[hn],1-or/pt);Vt=or*mt/pt,wn=Vt/2}}(!Lt.isSubplotConstrained||!Oe)&&mr("x"),(!Lt.isSubplotConstrained||!at)&&mr("y");var Un=pt-or,Fn=mt-Vt;Lt.isSubplotConstrained&&!(at&&Oe)&&(at?(wn=Nr?0:or*mt/pt,Fn=Un*mt/pt):(Nr=wn?0:Vt*pt/mt,Un=Fn*pt/mt)),Nt([Nr,wn,Un,Fn]),Xe(),ae.emit("plotly_relayouting",_e)}function mr(or,Vt){for(var yr=Lt.isSubplotConstrained?{x:rt,y:ht}[or]:Lt[or+"axes"],wr=Lt.isSubplotConstrained?{x:ht,y:rt}[or]:[],Ar=0;Ar<yr.length;Ar++){var gr=yr[Ar],jr=gr._id,Fr=Lt.xLinks[jr]||Lt.yLinks[jr],Nr=wr[0]||We[Fr]||ut[Fr];Nr&&(Vt?(Vt[gr._name+".range[0]"]=Vt[Nr._name+".range[0]"],Vt[gr._name+".range[1]"]=Vt[Nr._name+".range[1]"]):gr.range=Nr.range.slice())}}function Xe(){var or=[],Vt;function yr(jr){for(Vt=0;Vt<jr.length;Vt++)jr[Vt].fixedrange||or.push(jr[Vt]._id)}function wr(jr,Fr){for(Vt=0;Vt<jr.length;Vt++){var Nr=jr[Vt],wn=Nr[Fr];!Nr.fixedrange&&wn.tickmode==="sync"&&or.push(wn._id)}}for(Je&&(yr(ht),yr(wt.xaxes),yr(Lt.xaxes),wr(ce.overlays,"xaxis")),Ye&&(yr(rt),yr(wt.yaxes),yr(Lt.yaxes),wr(ce.overlays,"yaxis")),_e={},Vt=0;Vt<or.length;Vt++){var Ar=or[Vt],gr=A(ae,Ar);f.drawOne(ae,gr,{skipTitle:!0}),_e[gr._name+".range[0]"]=gr.range[0],_e[gr._name+".range[1]"]=gr.range[1]}f.redrawComponents(ae,or)}function Ge(){if(!ae._transitioningWithDuration){var or=ae._context.doubleClick,Vt=[];at&&(Vt=Vt.concat(ht)),Oe&&(Vt=Vt.concat(rt)),Lt.xaxes&&(Vt=Vt.concat(Lt.xaxes)),Lt.yaxes&&(Vt=Vt.concat(Lt.yaxes));var yr={},wr,Ar;if(or==="reset+autosize")for(or="autosize",Ar=0;Ar<Vt.length;Ar++){wr=Vt[Ar];var gr=wr._rangeInitial0,jr=wr._rangeInitial1,Fr=gr!==void 0||jr!==void 0;if(Fr&&(gr!==void 0&&gr!==wr.range[0]||jr!==void 0&&jr!==wr.range[1])||!Fr&&wr.autorange!==!0){or="reset";break}}if(or==="autosize")for(Ar=0;Ar<Vt.length;Ar++)wr=Vt[Ar],wr.fixedrange||(yr[wr._name+".autorange"]=!0);else if(or==="reset"){for((at||wt.isSubplotConstrained)&&(Vt=Vt.concat(wt.xaxes)),Oe&&!wt.isSubplotConstrained&&(Vt=Vt.concat(wt.yaxes)),wt.isSubplotConstrained&&(at?Oe||(Vt=Vt.concat(rt)):Vt=Vt.concat(ht)),Ar=0;Ar<Vt.length;Ar++)if(wr=Vt[Ar],!wr.fixedrange){var Nr=wr._name,wn=wr._autorangeInitial;wr._rangeInitial0===void 0&&wr._rangeInitial1===void 0?yr[Nr+".autorange"]=!0:wr._rangeInitial0===void 0?(yr[Nr+".autorange"]=wn,yr[Nr+".range"]=[null,wr._rangeInitial1]):wr._rangeInitial1===void 0?(yr[Nr+".range"]=[wr._rangeInitial0,null],yr[Nr+".autorange"]=wn):yr[Nr+".range"]=[wr._rangeInitial0,wr._rangeInitial1]}}ae.emit("plotly_doubleclick",null),v.call("_guiRelayout",ae,yr)}}function Ut(){Nt([0,0,pt,mt]),L.syncOrAsync([x.previousPromises,function(){ae._fullLayout._replotting=!1,v.call("_guiRelayout",ae,_e)}],ae)}function Nt(or){var Vt=ae._fullLayout,yr=Vt._plots,wr=Vt._subplots.cartesian,Ar,gr,jr,Fr;if(be&&v.subplotsRegistry.splom.drag(ae),ke){for(Ar=0;Ar<wr.length;Ar++)if(gr=yr[wr[Ar]],jr=gr.xaxis,Fr=gr.yaxis,gr._scene){var Nr=L.simpleMap(jr.range,jr.r2l),wn=L.simpleMap(Fr.range,Fr.r2l);jr.limitRange&&jr.limitRange(),Fr.limitRange&&Fr.limitRange(),Nr=jr.range,wn=Fr.range,gr._scene.update({range:[Nr[0],wn[0],Nr[1],wn[1]]})}}if((be||ke)&&(i(ae),d(ae)),me){var hn=or[2]/Ve._length,Un=or[3]/Fe._length;for(Ar=0;Ar<wr.length;Ar++){gr=yr[wr[Ar]],jr=gr.xaxis,Fr=gr.yaxis;var Fn=(Je||Lt.isSubplotConstrained)&&!jr.fixedrange&&We[jr._id],Pr=(Ye||Lt.isSubplotConstrained)&&!Fr.fixedrange&&ut[Fr._id],Or,Qr,Zr,vn;if(Fn?(Or=hn,Zr=Le||Lt.isSubplotConstrained?or[0]:hr(jr,Or)):Lt.xaHash[jr._id]?(Or=hn,Zr=or[0]*jr._length/Ve._length):Lt.yaHash[jr._id]?(Or=Un,Zr=Oe==="ns"?-or[1]*jr._length/Fe._length:hr(jr,Or,{n:"top",s:"bottom"}[Oe])):(Or=Qt(jr,hn,Un),Zr=ar(jr,Or)),Or>1&&(jr.maxallowed!==void 0&&Je===(jr.range[0]<jr.range[1]?"e":"w")||jr.minallowed!==void 0&&Je===(jr.range[0]<jr.range[1]?"w":"e"))&&(Or=1,Zr=0),Pr?(Qr=Un,vn=Te||Lt.isSubplotConstrained?or[1]:hr(Fr,Qr)):Lt.yaHash[Fr._id]?(Qr=Un,vn=or[1]*Fr._length/Fe._length):Lt.xaHash[Fr._id]?(Qr=hn,vn=at==="ew"?-or[0]*Fr._length/Ve._length:hr(Fr,Qr,{e:"right",w:"left"}[at])):(Qr=Qt(Fr,hn,Un),vn=ar(Fr,Qr)),Qr>1&&(Fr.maxallowed!==void 0&&Ye===(Fr.range[0]<Fr.range[1]?"n":"s")||Fr.minallowed!==void 0&&Ye===(Fr.range[0]<Fr.range[1]?"s":"n"))&&(Qr=1,vn=0),!(!Or&&!Qr)){Or||(Or=1),Qr||(Qr=1);var Mn=jr._offset-Zr/Or,Sn=Fr._offset-vn/Qr;gr.clipRect.call(s.setTranslate,Zr,vn).call(s.setScale,Or,Qr),gr.plot.call(s.setTranslate,Mn,Sn).call(s.setScale,1/Or,1/Qr),(Or!==gr.xScaleFactor||Qr!==gr.yScaleFactor)&&(s.setPointGroupScale(gr.zoomScalePts,Or,Qr),s.setTextPointsScale(gr.zoomScaleTxt,Or,Qr)),s.hideOutsideRangePoints(gr.clipOnAxisFalseTraces,gr),gr.xScaleFactor=Or,gr.yScaleFactor=Qr}}}}function Qt(or,Vt,yr){return or.fixedrange?0:Je&&wt.xaHash[or._id]?Vt:Ye&&(wt.isSubplotConstrained?wt.xaHash:wt.yaHash)[or._id]?yr:0}function ar(or,Vt){return Vt?(or.range=or._r.slice(),w(or,Vt),hr(or,Vt)):0}function hr(or,Vt,yr){return or._length*(1-Vt)*c[yr||or.constraintoward||"middle"]}return dt}function N(ae,ce,ye,Ce){var Ae=L.ensureSingle(ae.draglayer,ce,ye,function(Ie){Ie.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ae.id)});return Ae.call(u,Ce),Ae.node()}function k(ae,ce,ye,Ce,Ae,Ie,Te){var Le=N(ae,"rect",ce,ye);return p.select(Le).call(s.setRect,Ce,Ae,Ie,Te),Le}function z(ae,ce){for(var ye=0;ye<ae.length;ye++)if(!ae[ye].fixedrange)return ce;return""}function F(ae,ce){var ye=ae.range[ce],Ce=Math.abs(ye-ae.range[1-ce]),Ae;return ae.type==="date"?ye:ae.type==="log"?(Ae=Math.ceil(Math.max(0,-Math.log(Ce)/Math.LN10))+3,n("."+Ae+"g")(Math.pow(10,ye))):(Ae=Math.floor(Math.log(Math.abs(ye))/Math.LN10)-Math.floor(Math.log(Ce)/Math.LN10)+4,n("."+String(Ae)+"g")(ye))}function O(ae,ce,ye,Ce,Ae){for(var Ie=0;Ie<ae.length;Ie++){var Te=ae[Ie];if(!Te.fixedrange)if(Te.rangebreaks){var Le=Te._id.charAt(0)==="y",xe=Le?1-ce:ce,Re=Le?1-ye:ye;Ce[Te._name+".range[0]"]=Te.l2r(Te.p2l(xe*Te._length)),Ce[Te._name+".range[1]"]=Te.l2r(Te.p2l(Re*Te._length))}else{var He=Te._rl[0],Ve=Te._rl[1]-He;Ce[Te._name+".range[0]"]=Te.l2r(He+Ve*ce),Ce[Te._name+".range[1]"]=Te.l2r(He+Ve*ye)}}if(Ae&&Ae.length){var Fe=(ce+(1-ye))/2;O(Ae,Fe,1-Fe,Ce,[])}}function B(ae,ce){for(var ye=0;ye<ae.length;ye++){var Ce=ae[ye];if(!Ce.fixedrange){if(Ce.rangebreaks){var Ae=0,Ie=Ce._length,Te=Ce.p2l(Ae+ce)-Ce.p2l(Ae),Le=Ce.p2l(Ie+ce)-Ce.p2l(Ie),xe=(Te+Le)/2;Ce.range=[Ce.l2r(Ce._rl[0]-xe),Ce.l2r(Ce._rl[1]-xe)]}else Ce.range=[Ce.l2r(Ce._rl[0]-ce/Ce._m),Ce.l2r(Ce._rl[1]-ce/Ce._m)];Ce.limitRange&&Ce.limitRange()}}}function W(ae){return 1-(ae>=0?Math.min(ae,.9):1/(1/Math.max(ae,-.3)+3.222))}function ee(ae,ce,ye){return ae?ae==="nsew"?ye?"":ce==="pan"?"move":"crosshair":ae.toLowerCase()+"-resize":"pointer"}function ne(ae,ce,ye,Ce,Ae){return ae.append("path").attr("class","zoombox").style({fill:ce>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",g(ye,Ce)).attr("d",Ae+"Z")}function Q(ae,ce,ye){return ae.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",g(ce,ye)).attr("d","M0,0Z")}function le(ae,ce,ye,Ce,Ae,Ie){ae.attr("d",Ce+"M"+ye.l+","+ye.t+"v"+ye.h+"h"+ye.w+"v-"+ye.h+"h-"+ye.w+"Z"),Z(ae,ce,Ae,Ie)}function Z(ae,ce,ye,Ce){ye||(ae.transition().style("fill",Ce>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ce.transition().style("opacity",1).duration(200))}function Y(ae){p.select(ae).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function re(ae){I&&ae.data&&ae._context.showTips&&(L.notifier(L._(ae,"Double-click to zoom back out"),"long"),I=!1)}function X(ae,ce){return"M"+(ae.l-.5)+","+(ce-b-.5)+"h-3v"+(2*b+1)+"h3ZM"+(ae.r+.5)+","+(ce-b-.5)+"h3v"+(2*b+1)+"h-3Z"}function q(ae,ce){return"M"+(ce-b-.5)+","+(ae.t-.5)+"v-3h"+(2*b+1)+"v3ZM"+(ce-b-.5)+","+(ae.b+.5)+"v3h"+(2*b+1)+"v-3Z"}function se(ae){var ce=Math.floor(Math.min(ae.b-ae.t,ae.r-ae.l,b)/2);return"M"+(ae.l-3.5)+","+(ae.t-.5+ce)+"h3v"+-ce+"h"+ce+"v-3h-"+(ce+3)+"ZM"+(ae.r+3.5)+","+(ae.t-.5+ce)+"h-3v"+-ce+"h"+-ce+"v-3h"+(ce+3)+"ZM"+(ae.r+3.5)+","+(ae.b+.5-ce)+"h-3v"+ce+"h"+-ce+"v3h"+(ce+3)+"ZM"+(ae.l-3.5)+","+(ae.b+.5-ce)+"h3v"+ce+"h"+ce+"v3h-"+(ce+3)+"Z"}function $(ae,ce,ye,Ce,Ae){for(var Ie=!1,Te={},Le={},xe,Re,He,Ve,Fe=(Ae||{}).xaHash,We=(Ae||{}).yaHash,ut=0;ut<ce.length;ut++){var ht=ce[ut];for(xe in ye)if(ht[xe]){for(He in ht)!(Ae&&(Fe[He]||We[He]))&&!(He.charAt(0)==="x"?ye:Ce)[He]&&(Te[He]=xe);for(Re in Ce)!(Ae&&(Fe[Re]||We[Re]))&&ht[Re]&&(Ie=!0)}for(Re in Ce)if(ht[Re])for(Ve in ht)!(Ae&&(Fe[Ve]||We[Ve]))&&!(Ve.charAt(0)==="x"?ye:Ce)[Ve]&&(Le[Ve]=Re)}Ie&&(L.extendFlat(Te,Le),Le={});var rt={},tt=[];for(He in Te){var vt=A(ae,He);tt.push(vt),rt[vt._id]=vt}var pt={},mt=[];for(Ve in Le){var wt=A(ae,Ve);mt.push(wt),pt[wt._id]=wt}return{xaHash:rt,yaHash:pt,xaxes:tt,yaxes:mt,xLinks:Te,yLinks:Le,isSubplotConstrained:Ie}}function j(ae,ce){if(!T)ae.onwheel!==void 0?ae.onwheel=ce:ae.onmousewheel!==void 0?ae.onmousewheel=ce:ae.isAddedWheelEvent||(ae.isAddedWheelEvent=!0,ae.addEventListener("wheel",ce,{passive:!1}));else{var ye=ae.onwheel!==void 0?"wheel":"mousewheel";ae._onwheel&&ae.removeEventListener(ye,ae._onwheel),ae._onwheel=ce,ae.addEventListener(ye,ce,{passive:!1})}}function ue(ae){var ce=[];for(var ye in ae)ce.push(ae[ye]);return ce}H.exports={makeDragBox:D,makeDragger:N,makeRectDragger:k,makeZoombox:ne,makeCorners:Q,updateZoombox:le,xyCorners:se,transitionZoombox:Z,removeZoombox:Y,showDoubleClickNotifier:re,attachWheelEventHandler:j}},42464:function(H,U,e){var p=e(33428),L=e(93024),n=e(86476),C=e(93972),T=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;U.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){p.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var s=Object.keys(t._plots||{}).sort(function(f,u){if((t._plots[f].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var l=f.split("y"),m=u.split("y");return l[0]===m[0]?Number(l[1]||1)-Number(m[1]||1):Number(l[0]||1)-Number(m[0]||1)}return t._plots[f].mainplot?1:-1});s.forEach(function(f){var u=t._plots[f],l=u.xaxis,m=u.yaxis;if(!u.mainplot){var h=T(r,u,l._offset,m._offset,l._length,m._length,"ns","ew");h.onmousemove=function(i){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===f&&r._fullLayout._plots[f]&&L.hover(r,i,f)},L.hover(r,i,f),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=f},h.onmouseout=function(i){r._dragging||(r._fullLayout._hoversubplot=null,n.unhover(r,i))},r._context.showAxisDragHandles&&(T(r,u,l._offset-v,m._offset-v,v,v,"n","w"),T(r,u,l._offset+l._length,m._offset-v,v,v,"n","e"),T(r,u,l._offset-v,m._offset+m._length,v,v,"s","w"),T(r,u,l._offset+l._length,m._offset+m._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(f===l._mainSubplot){var M=l._mainLinePosition;l.side==="top"&&(M-=v),T(r,u,l._offset+l._length*.1,M,l._length*.8,v,"","ew"),T(r,u,l._offset,M,l._length*.1,v,"","w"),T(r,u,l._offset+l._length*.9,M,l._length*.1,v,"","e")}if(f===m._mainSubplot){var c=m._mainLinePosition;m.side!=="right"&&(c-=v),T(r,u,c,m._offset+m._length*.1,v,m._length*.8,"ns",""),T(r,u,c,m._offset+m._length*.9,v,m._length*.1,"s",""),T(r,u,c,m._offset,v,m._length*.1,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(f){f.target=r._fullLayout._lasthover,L.hover(r,f,t._hoversubplot)},a.onclick=function(f){f.target=r._fullLayout._lasthover,L.click(r,f)},a.onmousedown=function(f){r._fullLayout._lasthover.onmousedown(f)},U.updateFx(r)}},U.updateFx=function(g){var r=g._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";C(r._draggers,t)}},36632:function(H,U,e){var p=e(24040),L=e(3400),n=e(79811);H.exports=function(T){return function(g,r){var t=g[T];if(Array.isArray(t))for(var s=p.subplotsRegistry.cartesian,a=s.idRegex,f=r._subplots,u=f.xaxis,l=f.yaxis,m=f.cartesian,h=r._has("cartesian")||r._has("gl2d"),M=0;M<t.length;M++){var c=t[M];if(L.isPlainObject(c)){var i=n.cleanId(c.xref,"x",!1),d=n.cleanId(c.yref,"y",!1),x=a.x.test(i),A=a.y.test(d);if(x||A){h||L.pushUnique(r._basePlotModules,s);var E=!1;x&&u.indexOf(i)===-1&&(u.push(i),E=!0),A&&l.indexOf(d)===-1&&(l.push(d),E=!0),E&&x&&A&&m.push(i+d)}}}}}},57952:function(H,U,e){var p=e(33428),L=e(24040),n=e(3400),C=e(7316),T=e(43616),v=e(84888)._M,g=e(79811),r=e(33816),t=e(9616),s=n.ensureSingle;function a(M,c,i){return n.ensureSingle(M,c,i,function(d){d.datum(i)})}U.name="cartesian",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=r.idRegex,U.attrRegex=r.attrRegex,U.attributes=e(26720),U.layoutAttributes=e(94724),U.supplyLayoutDefaults=e(67352),U.transitionAxes=e(73736),U.finalizeSubplots=function(M,c){var i=c._subplots,d=i.xaxis,x=i.yaxis,A=i.cartesian,E=A.concat(i.gl2d||[]),y={},S={},w,o,_;for(w=0;w<E.length;w++){var b=E[w].split("y");y[b[0]]=1,S["y"+b[1]]=1}for(w=0;w<d.length;w++)o=d[w],y[o]||(_=(M[g.id2name(o)]||{}).anchor,r.idRegex.y.test(_)||(_="y"),A.push(o+_),E.push(o+_),S[_]||(S[_]=1,n.pushUnique(x,_)));for(w=0;w<x.length;w++)_=x[w],S[_]||(o=(M[g.id2name(_)]||{}).anchor,r.idRegex.x.test(o)||(o="x"),A.push(o+_),E.push(o+_),y[o]||(y[o]=1,n.pushUnique(d,o)));if(!E.length){o="",_="";for(var I in M)if(r.attrRegex.test(I)){var D=I.charAt(0);D==="x"?(!o||+I.substr(5)<+o.substr(5))&&(o=I):(!_||+I.substr(5)<+_.substr(5))&&(_=I)}o=o?g.name2id(o):"x",_=_?g.name2id(_):"y",d.push(o),x.push(_),A.push(o+_)}},U.plot=function(M,c,i,d){var x=M._fullLayout,A=x._subplots.cartesian,E=M.calcdata,y;if(!Array.isArray(c))for(c=[],y=0;y<E.length;y++)c.push(y);for(y=0;y<A.length;y++){for(var S=A[y],w=x._plots[S],o=[],_,b=0;b<E.length;b++){var I=E[b],D=I[0].trace;D.xaxis+D.yaxis===S&&((c.indexOf(D.index)!==-1||D.carpet)&&(_&&_[0].trace.xaxis+_[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(D.fill)!==-1&&o.indexOf(_)===-1&&o.push(_),o.push(I)),_=I)}f(M,w,o,i,d)}};function f(M,c,i,d,x){for(var A=r.traceLayerClasses,E=M._fullLayout,y=E._modules,S,w,o,_=[],b=[],I=0;I<y.length;I++){S=y[I];var D=S.name,N=L.modules[D].categories;if(N.svg){var k=S.layerName||D+"layer",z=S.plot;w=v(i,z),o=w[0],i=w[1],o.length&&_.push({i:A.indexOf(k),className:k,plotMethod:z,cdModule:o}),N.zoomScale&&b.push("."+k)}}_.sort(function(B,W){return B.i-W.i});var F=c.plot.selectAll("g.mlayer").data(_,function(B){return B.className});if(F.enter().append("g").attr("class",function(B){return B.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),F.exit().remove(),F.order(),F.each(function(B){var W=p.select(this),ee=B.className;B.plotMethod(M,c,B.cdModule,W,d,x),r.clipOnAxisFalseQuery.indexOf("."+ee)===-1&&T.setClipUrl(W,c.layerClipId,M)}),E._has("scattergl")&&(S=L.getModule("scattergl"),o=v(i,S)[0],S.plot(M,c,o)),!M._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),b.length)){var O=c.plot.selectAll(b.join(",")).selectAll(".trace");c.zoomScalePts=O.selectAll("path.point"),c.zoomScaleTxt=O.selectAll(".textpoint")}}U.clean=function(M,c,i,d){var x=d._plots||{},A=c._plots||{},E=d._subplots||{},y,S,w;if(d._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(w in x)y=x[w],y.plotgroup&&y.plotgroup.remove();var o=d._has&&d._has("gl"),_=c._has&&c._has("gl");if(o&&!_)for(w in x)y=x[w],y._scene&&y._scene.destroy();if(E.xaxis&&E.yaxis){var b=g.listIds({_fullLayout:d});for(S=0;S<b.length;S++){var I=b[S];c[g.id2name(I)]||d._infolayer.selectAll(".g-"+I+"title").remove()}}var D=d._has&&d._has("cartesian"),N=c._has&&c._has("cartesian");if(D&&!N)m(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(E.cartesian)for(S=0;S<E.cartesian.length;S++){var k=E.cartesian[S];if(!A[k]){var z="."+k+",."+k+"-x,."+k+"-y";d._cartesianlayer.selectAll(z).remove(),h(k,d)}}},U.drawFramework=function(M){var c=M._fullLayout,i=u(M),d=c._cartesianlayer.selectAll(".subplot").data(i,String);d.enter().append("g").attr("class",function(x){return"subplot "+x[0]}),d.order(),d.exit().call(m,c),d.each(function(x){var A=x[0],E=c._plots[A];E.plotgroup=p.select(this),l(M,E),E.draglayer=s(c._draggers,"g",A)})},U.rangePlot=function(M,c,i){l(M,c),f(M,c,i),C.style(M)};function u(M){var c=M._fullLayout,i=c._subplots.cartesian,d=i.length,x,A,E,y,S,w,o=[],_=[];for(x=0;x<d;x++){E=i[x],y=c._plots[E],S=y.xaxis,w=y.yaxis;var b=S._mainAxis,I=w._mainAxis,D=b._id+I._id,N=c._plots[D];y.overlays=[],D!==E&&N?(y.mainplot=D,y.mainplotinfo=N,_.push(E)):(y.mainplot=void 0,y.mainplotinfo=void 0,o.push(E))}for(x=0;x<_.length;x++)E=_[x],y=c._plots[E],y.mainplotinfo.overlays.push(y);var k=o.concat(_),z=new Array(d);for(x=0;x<d;x++){E=k[x],y=c._plots[E],S=y.xaxis,w=y.yaxis;var F=[E,S.layer,w.layer,S.overlaying||"",w.overlaying||""];for(A=0;A<y.overlays.length;A++)F.push(y.overlays[A].id);z[x]=F}return z}function l(M,c){var i=c.plotgroup,d=c.id,x=r.layerValue2layerClass[c.xaxis.layer],A=r.layerValue2layerClass[c.yaxis.layer],E=M._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var S=c.mainplotinfo,w=S.plotgroup,o=d+"-x",_=d+"-y";c.minorGridlayer=S.minorGridlayer,c.gridlayer=S.gridlayer,c.zerolinelayer=S.zerolinelayer,s(S.overlinesBelow,"path",o),s(S.overlinesBelow,"path",_),s(S.overaxesBelow,"g",o),s(S.overaxesBelow,"g",_),c.plot=s(S.overplot,"g",d),s(S.overlinesAbove,"path",o),s(S.overlinesAbove,"path",_),s(S.overaxesAbove,"g",o),s(S.overaxesAbove,"g",_),c.xlines=w.select(".overlines-"+x).select("."+o),c.ylines=w.select(".overlines-"+A).select("."+_),c.xaxislayer=w.select(".overaxes-"+x).select("."+o),c.yaxislayer=w.select(".overaxes-"+A).select("."+_)}else if(E)c.xlines=s(i,"path","xlines-above"),c.ylines=s(i,"path","ylines-above"),c.xaxislayer=s(i,"g","xaxislayer-above"),c.yaxislayer=s(i,"g","yaxislayer-above");else{var y=s(i,"g","layer-subplot");c.shapelayer=s(y,"g","shapelayer"),c.imagelayer=s(y,"g","imagelayer"),c.minorGridlayer=s(i,"g","minor-gridlayer"),c.gridlayer=s(i,"g","gridlayer"),c.zerolinelayer=s(i,"g","zerolinelayer"),s(i,"path","xlines-below"),s(i,"path","ylines-below"),c.overlinesBelow=s(i,"g","overlines-below"),s(i,"g","xaxislayer-below"),s(i,"g","yaxislayer-below"),c.overaxesBelow=s(i,"g","overaxes-below"),c.plot=s(i,"g","plot"),c.overplot=s(i,"g","overplot"),c.xlines=s(i,"path","xlines-above"),c.ylines=s(i,"path","ylines-above"),c.overlinesAbove=s(i,"g","overlines-above"),s(i,"g","xaxislayer-above"),s(i,"g","yaxislayer-above"),c.overaxesAbove=s(i,"g","overaxes-above"),c.xlines=i.select(".xlines-"+x),c.ylines=i.select(".ylines-"+A),c.xaxislayer=i.select(".xaxislayer-"+x),c.yaxislayer=i.select(".yaxislayer-"+A)}E||(a(c.minorGridlayer,"g",c.xaxis._id),a(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(b){return b[0]}).sort(g.idSort),a(c.gridlayer,"g",c.xaxis._id),a(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(b){return b[0]}).sort(g.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function m(M,c){if(M){var i={};M.each(function(S){var w=S[0],o=p.select(this);o.remove(),h(w,c),i[w]=!0});for(var d in c._plots)for(var x=c._plots[d],A=x.overlays||[],E=0;E<A.length;E++){var y=A[E];i[y.id]&&y.plot.selectAll(".trace").remove()}}}function h(M,c){c._draggers.selectAll("g."+M).remove(),c._defs.select("#clip"+c._uid+M+"plot").remove()}U.toSVG=function(M){var c=M._fullLayout._glimages,i=p.select(M).selectAll(".svg-container"),d=i.filter(function(A,E){return E===i.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function x(){var A=this,E=A.toDataURL("image/png"),y=c.append("svg:image");y.attr({xmlns:t.svg,"xlink:href":E,preserveAspectRatio:"none",x:0,y:0,width:A.style.width,height:A.style.height})}d.each(x)},U.updateFx=e(42464).updateFx},94724:function(H,U,e){var p=e(25376),L=e(22548),n=e(98192).u,C=e(92880).extendFlat,T=e(31780).templatedArray,v=e(29736).descriptionWithDates,g=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,s=r.WEEKDAY_PATTERN,a={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=C({},a,{values:a.values.slice().concat(["sync"])});function u(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},M={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=5),w}function i(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=1),w}var d={valType:"color",dflt:L.defaultLine,editType:"ticks"},x={valType:"color",dflt:L.lightLine,editType:"ticks"};function A(S){var w={valType:"number",min:0,editType:"ticks"};return S||(w.dflt=1),w}var E=C({},n,{editType:"ticks"}),y={valType:"boolean",editType:"ticks"};H.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:L.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:T("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[s,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:g},editType:"calc"}),tickmode:f,nticks:u(),tick0:l,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:M,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:i(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:T("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:y,gridcolor:x,gridwidth:A(),griddash:E,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:a,nticks:u("minor"),tick0:l,dtick:m,tickvals:h,ticks:M,ticklen:c("minor"),tickwidth:i("minor"),tickcolor:d,gridcolor:x,gridwidth:A("minor"),griddash:E,showgrid:y,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},67352:function(H,U,e){var p=e(3400),L=e(76308),n=e(10624).isUnifiedHover,C=e(41008),T=e(31780),v=e(64859),g=e(94724),r=e(14944),t=e(28336),s=e(71888),a=e(37668),f=e(79811),u=f.id2name,l=f.name2id,m=e(33816).AX_ID_PATTERN,h=e(24040),M=h.traceIs,c=h.getComponentMethod;function i(d,x,A){Array.isArray(d[x])?d[x].push(A):d[x]=[A]}H.exports=function(x,A,E){var y=A.autotypenumbers,S={},w={},o={},_={},b={},I={},D={},N={},k={},z={},F,O;for(F=0;F<E.length;F++){var B=E[F];if(!(!M(B,"cartesian")&&!M(B,"gl2d"))){var W;if(B.xaxis)W=u(B.xaxis),i(S,W,B);else if(B.xaxes)for(O=0;O<B.xaxes.length;O++)i(S,u(B.xaxes[O]),B);var ee;if(B.yaxis)ee=u(B.yaxis),i(S,ee,B);else if(B.yaxes)for(O=0;O<B.yaxes.length;O++)i(S,u(B.yaxes[O]),B);if(B.type==="funnel"?B.orientation==="h"?(W&&(w[W]=!0),ee&&(D[ee]=!0)):ee&&(o[ee]=!0):B.type==="image"?(ee&&(N[ee]=!0),W&&(N[W]=!0)):(ee&&(b[ee]=!0,I[ee]=!0),(!M(B,"carpet")||B.type==="carpet"&&!B._cheater)&&W&&(_[W]=!0)),B.type==="carpet"&&B._cheater&&W&&(w[W]=!0),M(B,"2dMap")&&(k[W]=!0,k[ee]=!0),M(B,"oriented")){var ne=B.orientation==="h"?ee:W;z[ne]=!0}}}var Q=A._subplots,le=Q.xaxis,Z=Q.yaxis,Y=p.simpleMap(le,u),re=p.simpleMap(Z,u),X=Y.concat(re),q=L.background;le.length&&Z.length&&(q=p.coerce(x,A,v,"plot_bgcolor"));var se=L.combine(q,A.paper_bgcolor),$,j,ue,ae,ce;function ye(){var Ee=S[$]||[];ce._traceIndices=Ee.map(function(Be){return Be._expandedIndex}),ce._annIndices=[],ce._shapeIndices=[],ce._selectionIndices=[],ce._imgIndices=[],ce._subplotsWith=[],ce._counterAxes=[],ce._name=ce._attr=$,ce._id=j}function Ce(Ee,Be){return p.coerce(ae,ce,g,Ee,Be)}function Ae(Ee,Be){return p.coerce2(ae,ce,g,Ee,Be)}function Ie(Ee){return Ee==="x"?Z:le}function Te(Ee,Be){for(var je=Ee==="x"?Y:re,nt=[],dt=0;dt<je.length;dt++){var xt=je[dt];xt!==Be&&!(x[xt]||{}).overlaying&&nt.push(l(xt))}return nt}var Le={x:Ie("x"),y:Ie("y")},xe=Le.x.concat(Le.y),Re={},He=[];function Ve(){var Ee=ae.matches;m.test(Ee)&&xe.indexOf(Ee)===-1&&(Re[Ee]=ae.type,He=Object.keys(Re))}var Fe=C(x,A),We=n(Fe);for(F=0;F<X.length;F++){$=X[F],j=l($),ue=$.charAt(0),p.isPlainObject(x[$])||(x[$]={}),ae=x[$],ce=T.newContainer(A,$,ue+"axis"),ye();var ut=ue==="x"&&!_[$]&&w[$]||ue==="y"&&!b[$]&&o[$],ht=ue==="y"&&(!I[$]&&D[$]||N[$]),rt={hasMinor:!0,letter:ue,font:A.font,outerTicks:k[$],showGrid:!z[$],data:S[$]||[],bgColor:se,calendar:A.calendar,automargin:!0,visibleDflt:ut,reverseDflt:ht,autotypenumbersDflt:y,splomStash:((A._splomAxes||{})[ue]||{})[j],noAutotickangles:ue==="y"};Ce("uirevision",A.uirevision),r(ae,ce,Ce,rt),t(ae,ce,Ce,rt,A);var tt=We&&ue===Fe.charAt(0),vt=Ae("spikecolor",We?ce.color:void 0),pt=Ae("spikethickness",We?1.5:void 0),mt=Ae("spikedash",We?"dot":void 0),wt=Ae("spikemode",We?"across":void 0),Lt=Ae("spikesnap"),at=Ce("showspikes",!!tt||!!vt||!!pt||!!mt||!!wt||!!Lt);at||(delete ce.spikecolor,delete ce.spikethickness,delete ce.spikedash,delete ce.spikemode,delete ce.spikesnap);var Oe=u(ae.overlaying),Ze=[0,1];if(A[Oe]!==void 0){var Je=u(A[Oe].anchor);A[Je]!==void 0&&(Ze=A[Je].domain)}a(ae,ce,Ce,{letter:ue,counterAxes:Le[ue],overlayableAxes:Te(ue,$),grid:A.grid,overlayingDomain:Ze}),Ce("title.standoff"),Ve(),ce._input=ae}for(F=0;F<He.length;){j=He[F++],$=u(j),ue=$.charAt(0),p.isPlainObject(x[$])||(x[$]={}),ae=x[$],ce=T.newContainer(A,$,ue+"axis"),ye();var Ye={letter:ue,font:A.font,outerTicks:k[$],showGrid:!z[$],data:[],bgColor:se,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:y,splomStash:((A._splomAxes||{})[ue]||{})[j]};Ce("uirevision",A.uirevision),ce.type=Re[j]||"linear",t(ae,ce,Ce,Ye,A),a(ae,ce,Ce,{letter:ue,counterAxes:Le[ue],overlayableAxes:Te(ue,$),grid:A.grid}),Ce("fixedrange"),Ve(),ce._input=ae}var ke=c("rangeslider","handleDefaults"),be=c("rangeselector","handleDefaults");for(F=0;F<Y.length;F++)$=Y[F],ae=x[$],ce=A[$],ke(x,A,$),ce.type==="date"&&be(ae,ce,A,re,ce.calendar),Ce("fixedrange");for(F=0;F<re.length;F++){$=re[F],ae=x[$],ce=A[$];var me=A[u(ce.anchor)],_e=c("rangeslider","isVisible")(me);Ce("fixedrange",_e)}s.handleDefaults(x,A,{axIds:xe.concat(He).sort(f.idSort),axHasImage:N})}},42136:function(H,U,e){var p=e(49760).mix,L=e(22548),n=e(3400);H.exports=function(T,v,g,r){r=r||{};var t=r.dfltColor;function s(o,_){return n.coerce2(T,v,r.attributes,o,_)}var a=s("linecolor",t),f=s("linewidth"),u=g("showline",r.showLine||!!a||!!f);u||(delete v.linecolor,delete v.linewidth);var l=p(t,r.bgColor,r.blend||L.lightFraction).toRgbString(),m=s("gridcolor",l),h=s("gridwidth"),M=s("griddash"),c=g("showgrid",r.showGrid||!!m||!!h||!!M);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var i=p(v.gridcolor,r.bgColor,67).toRgbString(),d=s("minor.gridcolor",i),x=s("minor.gridwidth",v.gridwidth||1),A=s("minor.griddash",v.griddash||"solid"),E=g("minor.showgrid",!!d||!!x||!!A);E||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var y=s("zerolinecolor",t),S=s("zerolinewidth"),w=g("zeroline",r.showGrid||!!y||!!S);w||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(H,U,e){var p=e(38248),L=e(3400);H.exports=function(C,T,v,g){var r=g.counterAxes||[],t=g.overlayableAxes||[],s=g.letter,a=g.grid,f=g.overlayingDomain,u,l,m,h,M,c;a&&(l=a._domains[s][a._axisMap[T._id]],u=a._anchors[T._id],l&&(m=a[s+"side"].split(" ")[0],h=a.domain[s][m==="right"||m==="top"?1:0])),l=l||[0,1],u=u||(p(C.position)?"free":r[0]||"free"),m=m||(s==="x"?"bottom":"left"),h=h||0,M=0,c=!1;var i=L.coerce(C,T,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),d=L.coerce(C,T,{side:{valType:"enumerated",values:s==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(i==="free"){if(s==="y"){var x=v("autoshift");x&&(h=d==="left"?f[0]:f[1],c=T.automargin?T.automargin:!0,M=d==="left"?-3:3),v("shift",M)}v("position",h)}v("automargin",c);var A=!1;if(t.length&&(A=L.coerce(C,T,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!A){var E=v("domain",l);E[0]>E[1]-.000244140625&&(T.domain=l),L.noneOrAll(C.domain,T.domain,l),T.tickmode==="sync"&&(T.tickmode="auto")}return v("layer"),T}},42568:function(H,U,e){var p=e(85024);H.exports=function(n,C,T,v,g){g||(g={});var r=g.tickSuffixDflt,t=p(n),s=T("tickprefix");s&&T("showtickprefix",t);var a=T("ticksuffix",r);a&&T("showticksuffix",t)}},96312:function(H,U,e){var p=e(76808);H.exports=function(n,C,T,v){var g=C._template||{},r=C.type||g.type||"-";T("minallowed"),T("maxallowed");var t=T("range");if(!t){var s;!v.noInsiderange&&r!=="log"&&(s=T("insiderange"),s&&(s[0]===null||s[1]===null)&&(C.insiderange=!1,s=void 0),s&&(t=T("range",s)))}var a=C.getAutorangeDflt(t,v),f=T("autorange",a),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(f==="reversed"||f===!0)||t[0]!==null&&(f==="min"||f==="max reversed")||t[1]!==null&&(f==="max"||f==="min reversed"))&&(t=void 0,delete C.range,C.autorange=!0,u=!0),u||(a=C.getAutorangeDflt(t,v),f=T("autorange",a)),f&&(p(T,f,t),(r==="linear"||r==="-")&&T("rangemode")),C.cleanRange()}},21160:function(H,U,e){var p=e(84284).FROM_BL;H.exports=function(n,C,T){T===void 0&&(T=p[n.constraintoward||"center"]);var v=[n.r2l(n.range[0]),n.r2l(n.range[1])],g=v[0]+(v[1]-v[0])*T;n.range=n._input.range=[n.l2r(g+(v[0]-g)*C),n.l2r(g+(v[1]-g)*C)],n.setScale()}},78344:function(H,U,e){var p=e(33428),L=e(94336).E9,n=e(3400),C=n.numberFormat,T=e(38248),v=n.cleanNumber,g=n.ms2DateTime,r=n.dateTime2ms,t=n.ensureNumber,s=n.isArrayOrTypedArray,a=e(39032),f=a.FP_SAFE,u=a.BADNUM,l=a.LOG_CLIP,m=a.ONEWEEK,h=a.ONEDAY,M=a.ONEHOUR,c=a.ONEMIN,i=a.ONESEC,d=e(79811),x=e(33816),A=x.HOUR_PATTERN,E=x.WEEKDAY_PATTERN;function y(w){return Math.pow(10,w)}function S(w){return w!=null}H.exports=function(o,_){_=_||{};var b=o._id||"x",I=b.charAt(0);function D(X,q){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&q&&o.range&&o.range.length===2){var se=o.range[0],$=o.range[1];return .5*(se+$-2*l*Math.abs(se-$))}else return u}function N(X,q,se,$){if(($||{}).msUTC&&T(X))return+X;var j=r(X,se||o.calendar);if(j===u)if(T(X)){X=+X;var ue=Math.floor(n.mod(X+.05,1)*10),ae=Math.round(X-ue/10);j=r(new Date(ae))+ue/10}else return u;return j}function k(X,q,se){return g(X,q,se||o.calendar)}function z(X){return o._categories[Math.round(X)]}function F(X){if(S(X)){if(o._categoriesMap===void 0&&(o._categoriesMap={}),o._categoriesMap[X]!==void 0)return o._categoriesMap[X];o._categories.push(typeof X=="number"?String(X):X);var q=o._categories.length-1;return o._categoriesMap[X]=q,q}return u}function O(X,q){for(var se=new Array(q),$=0;$<q;$++){var j=(X[0]||[])[$],ue=(X[1]||[])[$];se[$]=B([j,ue])}return se}function B(X){if(o._categoriesMap)return o._categoriesMap[X]}function W(X){var q=B(X);if(q!==void 0)return q;if(T(X))return+X}function ee(X){return T(X)?+X:B(X)}function ne(X,q,se){return p.round(se+q*X,2)}function Q(X,q,se){return(X-se)/q}var le=function(q){return T(q)?ne(q,o._m,o._b):u},Z=function(X){return Q(X,o._m,o._b)};if(o.rangebreaks){var Y=I==="y";le=function(X){if(!T(X))return u;var q=o._rangebreaks.length;if(!q)return ne(X,o._m,o._b);var se=Y;o.range[0]>o.range[1]&&(se=!se);for(var $=se?-1:1,j=$*X,ue=0,ae=0;ae<q;ae++){var ce=$*o._rangebreaks[ae].min,ye=$*o._rangebreaks[ae].max;if(j<ce)break;if(j>ye)ue=ae+1;else{ue=j<(ce+ye)/2?ae:ae+1;break}}var Ce=o._B[ue]||0;return isFinite(Ce)?ne(X,o._m2,Ce):0},Z=function(X){var q=o._rangebreaks.length;if(!q)return Q(X,o._m,o._b);for(var se=0,$=0;$<q&&!(X<o._rangebreaks[$].pmin);$++)X>o._rangebreaks[$].pmax&&(se=$+1);return Q(X,o._m2,o._B[se])}}o.c2l=o.type==="log"?D:t,o.l2c=o.type==="log"?y:t,o.l2p=le,o.p2l=Z,o.c2p=o.type==="log"?function(X,q){return le(D(X,q))}:le,o.p2c=o.type==="log"?function(X){return y(Z(X))}:Z,["linear","-"].indexOf(o.type)!==-1?(o.d2r=o.r2d=o.d2c=o.r2c=o.d2l=o.r2l=v,o.c2d=o.c2r=o.l2d=o.l2r=t,o.d2p=o.r2p=function(X){return o.l2p(v(X))},o.p2d=o.p2r=Z,o.cleanPos=t):o.type==="log"?(o.d2r=o.d2l=function(X,q){return D(v(X),q)},o.r2d=o.r2c=function(X){return y(v(X))},o.d2c=o.r2l=v,o.c2d=o.l2r=t,o.c2r=D,o.l2d=y,o.d2p=function(X,q){return o.l2p(o.d2r(X,q))},o.p2d=function(X){return y(Z(X))},o.r2p=function(X){return o.l2p(v(X))},o.p2r=Z,o.cleanPos=t):o.type==="date"?(o.d2r=o.r2d=n.identity,o.d2c=o.r2c=o.d2l=o.r2l=N,o.c2d=o.c2r=o.l2d=o.l2r=k,o.d2p=o.r2p=function(X,q,se){return o.l2p(N(X,0,se))},o.p2d=o.p2r=function(X,q,se){return k(Z(X),q,se)},o.cleanPos=function(X){return n.cleanDate(X,u,o.calendar)}):o.type==="category"?(o.d2c=o.d2l=F,o.r2d=o.c2d=o.l2d=z,o.d2r=o.d2l_noadd=W,o.r2c=function(X){var q=ee(X);return q!==void 0?q:o.fraction2r(.5)},o.l2r=o.c2r=t,o.r2l=ee,o.d2p=function(X){return o.l2p(o.r2c(X))},o.p2d=function(X){return z(Z(X))},o.r2p=o.d2p,o.p2r=Z,o.cleanPos=function(X){return typeof X=="string"&&X!==""?X:t(X)}):o.type==="multicategory"&&(o.r2d=o.c2d=o.l2d=z,o.d2r=o.d2l_noadd=W,o.r2c=function(X){var q=W(X);return q!==void 0?q:o.fraction2r(.5)},o.r2c_just_indices=B,o.l2r=o.c2r=t,o.r2l=W,o.d2p=function(X){return o.l2p(o.r2c(X))},o.p2d=function(X){return z(Z(X))},o.r2p=o.d2p,o.p2r=Z,o.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:t(X)},o.setupMultiCategory=function(X){var q=o._traceIndices,se,$,j=o._matchGroup;if(j&&o._categories.length===0){for(var ue in j)if(ue!==b){var ae=_[d.id2name(ue)];q=q.concat(ae._traceIndices)}}var ce=[[0,{}],[0,{}]],ye=[];for(se=0;se<q.length;se++){var Ce=X[q[se]];if(I in Ce){var Ae=Ce[I],Ie=Ce._length||n.minRowLength(Ae);if(s(Ae[0])&&s(Ae[1]))for($=0;$<Ie;$++){var Te=Ae[0][$],Le=Ae[1][$];S(Te)&&S(Le)&&(ye.push([Te,Le]),Te in ce[0][1]||(ce[0][1][Te]=ce[0][0]++),Le in ce[1][1]||(ce[1][1][Le]=ce[1][0]++))}}}for(ye.sort(function(xe,Re){var He=ce[0][1],Ve=He[xe[0]]-He[Re[0]];if(Ve)return Ve;var Fe=ce[1][1];return Fe[xe[1]]-Fe[Re[1]]}),se=0;se<ye.length;se++)F(ye[se])}),o.fraction2r=function(X){var q=o.r2l(o.range[0]),se=o.r2l(o.range[1]);return o.l2r(q+X*(se-q))},o.r2fraction=function(X){var q=o.r2l(o.range[0]),se=o.r2l(o.range[1]);return(o.r2l(X)-q)/(se-q)},o.limitRange=function(X){var q=o.minallowed,se=o.maxallowed;if(!(q===void 0&&se===void 0)){X||(X="range");var $=n.nestedProperty(o,X).get(),j=n.simpleMap($,o.r2l),ue=j[1]<j[0];ue&&j.reverse();var ae=n.simpleMap([q,se],o.r2l);if(q!==void 0&&j[0]<ae[0]&&($[ue?1:0]=q),se!==void 0&&j[1]>ae[1]&&($[ue?0:1]=se),$[0]===$[1]){var ce=o.l2r(q),ye=o.l2r(se);if(q!==void 0){var Ce=ce+1;se!==void 0&&(Ce=Math.min(Ce,ye)),$[ue?1:0]=Ce}if(se!==void 0){var Ae=ye+1;q!==void 0&&(Ae=Math.max(Ae,ce)),$[ue?0:1]=Ae}}}},o.cleanRange=function(X,q){o._cleanRange(X,q),o.limitRange(X)},o._cleanRange=function(X,q){q||(q={}),X||(X="range");var se=n.nestedProperty(o,X).get(),$,j;if(o.type==="date"?j=n.dfltRange(o.calendar):I==="y"?j=x.DFLTRANGEY:o._name==="realaxis"?j=[0,1]:j=q.dfltRange||x.DFLTRANGEX,j=j.slice(),(o.rangemode==="tozero"||o.rangemode==="nonnegative")&&(j[0]=0),!se||se.length!==2){n.nestedProperty(o,X).set(j);return}var ue=se[0]===null,ae=se[1]===null;for(o.type==="date"&&!o.autorange&&(se[0]=n.cleanDate(se[0],u,o.calendar),se[1]=n.cleanDate(se[1],u,o.calendar)),$=0;$<2;$++)if(o.type==="date"){if(!n.isDateTime(se[$],o.calendar)){o[X]=j;break}if(o.r2l(se[0])===o.r2l(se[1])){var ce=n.constrain(o.r2l(se[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);se[0]=o.l2r(ce-1e3),se[1]=o.l2r(ce+1e3);break}}else{if(!T(se[$]))if(!(ue||ae)&&T(se[1-$]))se[$]=se[1-$]*($?10:.1);else{o[X]=j;break}if(se[$]<-f?se[$]=-f:se[$]>f&&(se[$]=f),se[0]===se[1]){var ye=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=ye,se[1]+=ye}}},o.setScale=function(X){var q=_._size;if(o.overlaying){var se=d.getFromId({_fullLayout:_},o.overlaying);o.domain=se.domain}var $=X&&o._r?"_r":"range",j=o.calendar;o.cleanRange($);var ue=o.r2l(o[$][0],j),ae=o.r2l(o[$][1],j),ce=I==="y";if(ce?(o._offset=q.t+(1-o.domain[1])*q.h,o._length=q.h*(o.domain[1]-o.domain[0]),o._m=o._length/(ue-ae),o._b=-o._m*ae):(o._offset=q.l+o.domain[0]*q.w,o._length=q.w*(o.domain[1]-o.domain[0]),o._m=o._length/(ae-ue),o._b=-o._m*ue),o._rangebreaks=[],o._lBreaks=0,o._m2=0,o._B=[],o.rangebreaks){var ye,Ce;if(o._rangebreaks=o.locateBreaks(Math.min(ue,ae),Math.max(ue,ae)),o._rangebreaks.length){for(ye=0;ye<o._rangebreaks.length;ye++)Ce=o._rangebreaks[ye],o._lBreaks+=Math.abs(Ce.max-Ce.min);var Ae=ce;ue>ae&&(Ae=!Ae),Ae&&o._rangebreaks.reverse();var Ie=Ae?-1:1;for(o._m2=Ie*o._length/(Math.abs(ae-ue)-o._lBreaks),o._B.push(-o._m2*(ce?ae:ue)),ye=0;ye<o._rangebreaks.length;ye++)Ce=o._rangebreaks[ye],o._B.push(o._B[o._B.length-1]-Ie*o._m2*(Ce.max-Ce.min));for(ye=0;ye<o._rangebreaks.length;ye++)Ce=o._rangebreaks[ye],Ce.pmin=le(Ce.min),Ce.pmax=le(Ce.max)}}if(!isFinite(o._m)||!isFinite(o._b)||o._length<0)throw _._replotting=!1,new Error("Something went wrong with axis scaling")},o.maskBreaks=function(X){var q=o.rangebreaks||[],se,$,j,ue,ae;q._cachedPatterns||(q._cachedPatterns=q.map(function(He){return He.enabled&&He.bounds?n.simpleMap(He.bounds,He.pattern?v:o.d2c):null})),q._cachedValues||(q._cachedValues=q.map(function(He){return He.enabled&&He.values?n.simpleMap(He.values,o.d2c).sort(n.sorterAsc):null}));for(var ce=0;ce<q.length;ce++){var ye=q[ce];if(ye.enabled){if(ye.bounds){var Ce=ye.pattern;switch(se=q._cachedPatterns[ce],$=se[0],j=se[1],Ce){case E:ae=new Date(X),ue=ae.getUTCDay(),$>j&&(j+=7,ue<$&&(ue+=7));break;case A:ae=new Date(X);var Ae=ae.getUTCHours(),Ie=ae.getUTCMinutes(),Te=ae.getUTCSeconds(),Le=ae.getUTCMilliseconds();ue=Ae+(Ie/60+Te/3600+Le/36e5),$>j&&(j+=24,ue<$&&(ue+=24));break;case"":ue=X;break}if(ue>=$&&ue<j)return u}else for(var xe=q._cachedValues[ce],Re=0;Re<xe.length;Re++)if($=xe[Re],j=$+ye.dvalue,X>=$&&X<j)return u}}return X},o.locateBreaks=function(X,q){var se,$,j,ue,ae=[];if(!o.rangebreaks)return ae;var ce=o.rangebreaks.slice().sort(function(Fe,We){return Fe.pattern===E&&We.pattern===A?-1:We.pattern===E&&Fe.pattern===A?1:0}),ye=function(Fe,We){if(Fe=n.constrain(Fe,X,q),We=n.constrain(We,X,q),Fe!==We){for(var ut=!0,ht=0;ht<ae.length;ht++){var rt=ae[ht];Fe<rt.max&&We>=rt.min&&(Fe<rt.min&&(rt.min=Fe),We>rt.max&&(rt.max=We),ut=!1)}ut&&ae.push({min:Fe,max:We})}};for(se=0;se<ce.length;se++){var Ce=ce[se];if(Ce.enabled)if(Ce.bounds){var Ae=X,Ie=q;Ce.pattern&&(Ae=Math.floor(Ae)),$=n.simpleMap(Ce.bounds,Ce.pattern?v:o.r2l),j=$[0],ue=$[1];var Te=new Date(Ae),Le,xe;switch(Ce.pattern){case E:xe=m,Le=((ue<j?7:0)+(ue-j))*h,Ae+=j*h-(Te.getUTCDay()*h+Te.getUTCHours()*M+Te.getUTCMinutes()*c+Te.getUTCSeconds()*i+Te.getUTCMilliseconds());break;case A:xe=h,Le=((ue<j?24:0)+(ue-j))*M,Ae+=j*M-(Te.getUTCHours()*M+Te.getUTCMinutes()*c+Te.getUTCSeconds()*i+Te.getUTCMilliseconds());break;default:Ae=Math.min($[0],$[1]),Ie=Math.max($[0],$[1]),xe=Ie-Ae,Le=xe}for(var Re=Ae;Re<Ie;Re+=xe)ye(Re,Re+Le)}else for(var He=n.simpleMap(Ce.values,o.d2c),Ve=0;Ve<He.length;Ve++)j=He[Ve],ue=j+Ce.dvalue,ye(j,ue)}return ae.sort(function(Fe,We){return Fe.min-We.min}),ae},o.makeCalcdata=function(X,q,se){var $,j,ue,ae,ce=o.type,ye=ce==="date"&&X[q+"calendar"];if(q in X){if($=X[q],ae=X._length||n.minRowLength($),n.isTypedArray($)&&(ce==="linear"||ce==="log")){if(ae===$.length)return $;if($.subarray)return $.subarray(0,ae)}if(ce==="multicategory")return O($,ae);for(j=new Array(ae),ue=0;ue<ae;ue++)j[ue]=o.d2c($[ue],0,ye,se)}else{var Ce=q+"0"in X?o.d2c(X[q+"0"],0,ye):0,Ae=X["d"+q]?Number(X["d"+q]):1;for($=X[{x:"y",y:"x"}[q]],ae=X._length||$.length,j=new Array(ae),ue=0;ue<ae;ue++)j[ue]=Ce+ue*Ae}if(o.rangebreaks)for(ue=0;ue<ae;ue++)j[ue]=o.maskBreaks(j[ue]);return j},o.isValidRange=function(X,q){return Array.isArray(X)&&X.length===2&&(q&&X[0]===null||T(o.r2l(X[0])))&&(q&&X[1]===null||T(o.r2l(X[1])))},o.getAutorangeDflt=function(X,q){var se=!o.isValidRange(X,"nullOk");return se&&q&&q.reverseDflt?se="reversed":X&&(X[0]===null&&X[1]===null?se=!0:X[0]===null&&X[1]!==null?se="min":X[0]!==null&&X[1]===null&&(se="max")),se},o.isReversed=function(){var X=o.autorange;return X==="reversed"||X==="min reversed"||X==="max reversed"},o.isPtWithinRange=function(X,q){var se=o.c2l(X[I],null,q),$=o.r2l(o.range[0]),j=o.r2l(o.range[1]);return $<j?$<=se&&se<=j:j<=se&&se<=$},o._emptyCategories=function(){o._categories=[],o._categoriesMap={}},o.clearCalc=function(){var X=o._matchGroup;if(X){var q=null,se=null;for(var $ in X){var j=_[d.id2name($)];if(j._categories){q=j._categories,se=j._categoriesMap;break}}q&&se?(o._categories=q,o._categoriesMap=se):o._emptyCategories()}else o._emptyCategories();if(o._initialCategories)for(var ue=0;ue<o._initialCategories.length;ue++)F(o._initialCategories[ue])},o.sortByInitialCategories=function(){var X=[];if(o._emptyCategories(),o._initialCategories)for(var q=0;q<o._initialCategories.length;q++)F(o._initialCategories[q]);X=X.concat(o._traceIndices);var se=o._matchGroup;for(var $ in se)if(b!==$){var j=_[d.id2name($)];j._categories=o._categories,j._categoriesMap=o._categoriesMap,X=X.concat(j._traceIndices)}return X};var re=_._d3locale;o.type==="date"&&(o._dateFormat=re?re.timeFormat:L,o._extraFormat=_._extraFormat),o._separators=_.separators,o._numFormat=re?re.numberFormat:C,delete o._minDtick,delete o._forceTick0}},85024:function(H){H.exports=function(e){var p=["showexponent","showtickprefix","showticksuffix"],L=p.filter(function(C){return e[C]!==void 0}),n=function(C){return e[C]===e[L[0]]};if(L.every(n)||L.length===1)return e[L[0]]}},95936:function(H,U,e){var p=e(3400),L=e(76308).contrast,n=e(94724),C=e(85024),T=e(51272);H.exports=function(r,t,s,a,f){f||(f={});var u=s("labelalias");p.isPlainObject(u)||delete t.labelalias;var l=C(r),m=s("showticklabels");if(m){var h=f.font||{},M=t.color,c=t.ticklabelposition||"",i=c.indexOf("inside")!==-1?L(f.bgColor):M&&M!==n.color.dflt?M:h.color;if(p.coerceFont(s,"tickfont",{family:h.family,size:h.size,color:i}),!f.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&s("ticklabelstep"),!f.noAng){var d=s("tickangle");!f.noAutotickangles&&d==="auto"&&s("autotickangles")}if(a!=="category"){var x=s("tickformat");T(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!f.noExp&&!x&&a!=="date"&&(s("showexponent",l),s("exponentformat"),s("minexponent"),s("separatethousands"))}}};function v(g,r){function t(a,f){return p.coerce(g,r,n.tickformatstops,a,f)}var s=t("enabled");s&&(t("dtickrange"),t("value"))}},25404:function(H,U,e){var p=e(3400),L=e(94724);H.exports=function(C,T,v,g){var r=g.isMinor,t=r?C.minor||{}:C,s=r?T.minor:T,a=r?L.minor:L,f=r?"minor.":"",u=p.coerce2(t,s,a,"ticklen",r?(T.ticklen||5)*.6:void 0),l=p.coerce2(t,s,a,"tickwidth",r?T.tickwidth||1:void 0),m=p.coerce2(t,s,a,"tickcolor",(r?T.tickcolor:void 0)||s.color),h=v(f+"ticks",!r&&g.outerTicks||u||l||m?"outside":"");h||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26332:function(H,U,e){var p=e(98728),L=e(3400).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,C=e(38116).decodeTypedArraySpec;H.exports=function(v,g,r,t,s){s||(s={});var a=s.isMinor,f=a?v.minor||{}:v,u=a?g.minor:g,l=a?"minor.":"";function m(E){var y=f[E];return n(y)&&(y=C(y)),y!==void 0?y:(u._template||{})[E]}var h=m("tick0"),M=m("dtick"),c=m("tickvals"),i=L(c)?"array":M?"linear":"auto",d=r(l+"tickmode",i);if(d==="auto"||d==="sync")r(l+"nticks");else if(d==="linear"){var x=u.dtick=p.dtick(M,t);u.tick0=p.tick0(h,t,g.calendar,x)}else if(t!=="multicategory"){var A=r(l+"tickvals");A===void 0?u.tickmode="auto":a||r("ticktext")}}},73736:function(H,U,e){var p=e(33428),L=e(24040),n=e(3400),C=e(43616),T=e(54460);H.exports=function(g,r,t,s){var a=g._fullLayout;if(r.length===0){T.redrawComponents(g);return}function f(A){var E=A.xaxis,y=A.yaxis;a._defs.select("#"+A.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),A.plot.call(C.setTranslate,E._offset,y._offset).call(C.setScale,1,1);var S=A.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(C.setPointGroupScale,1,1),S.selectAll(".textpoint").call(C.setTextPointsScale,1,1),S.call(C.hideOutsideRangePoints,A)}function u(A,E){var y=A.plotinfo,S=y.xaxis,w=y.yaxis,o=S._length,_=w._length,b=!!A.xr1,I=!!A.yr1,D=[];if(b){var N=n.simpleMap(A.xr0,S.r2l),k=n.simpleMap(A.xr1,S.r2l),z=N[1]-N[0],F=k[1]-k[0];D[0]=(N[0]*(1-E)+E*k[0]-N[0])/(N[1]-N[0])*o,D[2]=o*(1-E+E*F/z),S.range[0]=S.l2r(N[0]*(1-E)+E*k[0]),S.range[1]=S.l2r(N[1]*(1-E)+E*k[1])}else D[0]=0,D[2]=o;if(I){var O=n.simpleMap(A.yr0,w.r2l),B=n.simpleMap(A.yr1,w.r2l),W=O[1]-O[0],ee=B[1]-B[0];D[1]=(O[1]*(1-E)+E*B[1]-O[1])/(O[0]-O[1])*_,D[3]=_*(1-E+E*ee/W),w.range[0]=S.l2r(O[0]*(1-E)+E*B[0]),w.range[1]=w.l2r(O[1]*(1-E)+E*B[1])}else D[1]=0,D[3]=_;T.drawOne(g,S,{skipTitle:!0}),T.drawOne(g,w,{skipTitle:!0}),T.redrawComponents(g,[S._id,w._id]);var ne=b?o/D[2]:1,Q=I?_/D[3]:1,le=b?D[0]:0,Z=I?D[1]:0,Y=b?D[0]/D[2]*o:0,re=I?D[1]/D[3]*_:0,X=S._offset-Y,q=w._offset-re;y.clipRect.call(C.setTranslate,le,Z).call(C.setScale,1/ne,1/Q),y.plot.call(C.setTranslate,X,q).call(C.setScale,ne,Q),C.setPointGroupScale(y.zoomScalePts,1/ne,1/Q),C.setTextPointsScale(y.zoomScaleTxt,1/ne,1/Q)}var l;s&&(l=s());function m(){for(var A={},E=0;E<r.length;E++){var y=r[E],S=y.plotinfo.xaxis,w=y.plotinfo.yaxis;y.xr1&&(A[S._name+".range"]=y.xr1.slice()),y.yr1&&(A[w._name+".range"]=y.yr1.slice())}return l&&l(),L.call("relayout",g,A).then(function(){for(var o=0;o<r.length;o++)f(r[o].plotinfo)})}function h(){for(var A={},E=0;E<r.length;E++){var y=r[E],S=y.plotinfo.xaxis,w=y.plotinfo.yaxis;y.xr0&&(A[S._name+".range"]=y.xr0.slice()),y.yr0&&(A[w._name+".range"]=y.yr0.slice())}return L.call("relayout",g,A).then(function(){for(var o=0;o<r.length;o++)f(r[o].plotinfo)})}var M,c,i,d=p.ease(t.easing);g._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(i),i=null,h()});function x(){c=Date.now();for(var A=Math.min(1,(c-M)/t.duration),E=d(A),y=0;y<r.length;y++)u(r[y],E);c-M>t.duration?(m(),i=window.cancelAnimationFrame(x)):i=window.requestAnimationFrame(x)}return M=Date.now(),i=window.requestAnimationFrame(x),Promise.resolve()}},14944:function(H,U,e){var p=e(24040).traceIs,L=e(52976);H.exports=function(r,t,s,a){s("autotypenumbers",a.autotypenumbersDflt);var f=s("type",(a.splomStash||{}).type);f==="-"&&(n(t,a.data),t.type==="-"?t.type="linear":r.type=t.type)};function n(g,r){if(g.type==="-"){var t=g._id,s=t.charAt(0),a;t.indexOf("scene")!==-1&&(t=s);var f=C(r,t,s);if(f){if(f.type==="histogram"&&s==={v:"y",h:"x"}[f.orientation||"v"]){g.type="linear";return}var u=s+"calendar",l=f[u],m={noMultiCategory:!p(f,"cartesian")||p(f,"noMultiCategory")};if(f.type==="box"&&f._hasPreCompStats&&s==={h:"x",v:"y"}[f.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=g.autotypenumbers,v(f,s)){var h=T(f),M=[];for(a=0;a<r.length;a++){var c=r[a];!p(c,"box-violin")||(c[s+"axis"]||s)!==t||(c[h]!==void 0?M.push(c[h][0]):c.name!==void 0?M.push(c.name):M.push("text"),c[u]!==l&&(l=void 0))}g.type=L(M,l,m)}else if(f.type==="splom"){var i=f.dimensions,d=i[f._axesDim[t]];d.visible&&(g.type=L(d.values,l,m))}else g.type=L(f[s]||[f[s+"0"]],l,m)}}}function C(g,r,t){for(var s=0;s<g.length;s++){var a=g[s];if(a.type==="splom"&&a._length>0&&(a["_"+t+"axes"]||{})[r])return a;if((a[t+"axis"]||t)===r){if(v(a,t))return a;if((a[t]||[]).length||a[t+"0"])return a}}}function T(g){return{v:"x",h:"y"}[g.orientation||"v"]}function v(g,r){var t=T(g),s=p(g,"box-violin"),a=p(g._fullInput||{},"candlestick");return s&&!a&&r===t&&g[t]===void 0&&g[t+"0"]===void 0}},62460:function(H,U,e){var p=e(24040),L=e(3400);U.manageCommandObserver=function(r,t,s,a){var f={},u=!0;t&&t._commandObserver&&(f=t._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var l=U.hasSimpleAPICommandBindings(r,s,f.lookupTable);if(t&&t._commandObserver){if(l)return f;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,f}if(l){n(r,l,f.cache),f.check=function(){if(u){var c=n(r,l,f.cache);return c.changed&&a&&f.lookupTable[c.value]!==void 0&&(f.disable(),Promise.resolve(a({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:f.lookupTable[c.value]})).then(f.enable,f.enable)),c.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<m.length;h++)r._internalOn(m[h],f.check);f.remove=function(){for(var M=0;M<m.length;M++)r._removeInternalListener(m[M],f.check)}}else L.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){u=!1},f.enable=function(){u=!0},t&&(t._commandObserver=f),f},U.hasSimpleAPICommandBindings=function(r,t,s){var a,f=t.length,u;for(a=0;a<f;a++){var l,m=t[a],h=m.method,M=m.args;if(Array.isArray(M)||(M=[]),!h)return!1;var c=U.computeAPICommandBindings(r,h,M);if(c.length!==1)return!1;if(!u)u=c[0],Array.isArray(u.traces)&&u.traces.sort();else{if(l=c[0],l.type!==u.type||l.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var i=0;i<u.traces.length;i++)if(u.traces[i]!==l.traces[i])return!1}else return!1;else if(l.prop!==u.prop)return!1}l=c[0];var d=l.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;s&&(s[d]=a)}return u};function n(r,t,s){var a,f,u,l=!1;if(t.type==="data")a=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")a=r._fullLayout;else return!1;return f=L.nestedProperty(a,t.prop).get(),u=s[t.type]=s[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==f&&(l=!0),u[t.prop]=f,{changed:l,value:f}}U.executeAPICommand=function(r,t,s){if(t==="skip")return Promise.resolve();var a=p.apiMethodRegistry[t],f=[r];Array.isArray(s)||(s=[]);for(var u=0;u<s.length;u++)f.push(s[u]);return a.apply(null,f).catch(function(l){return L.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},U.computeAPICommandBindings=function(r,t,s){var a;switch(Array.isArray(s)||(s=[]),t){case"restyle":a=v(r,s);break;case"relayout":a=T(r,s);break;case"update":a=v(r,[s[0],s[2]]).concat(T(r,[s[1]]));break;case"animate":a=C(r,s);break;default:a=[]}return a};function C(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function T(r,t){var s=[],a=t[0],f={};if(typeof a=="string")f[a]=t[1];else if(L.isPlainObject(a))f=a;else return s;return g(f,function(u,l,m){s.push({type:"layout",prop:u,value:m})},"",0),s}function v(r,t){var s,a,f,u,l=[];if(a=t[0],f=t[1],s=t[2],u={},typeof a=="string")u[a]=f;else if(L.isPlainObject(a))u=a,s===void 0&&(s=f);else return l;return s===void 0&&(s=null),g(u,function(m,h,M){var c,i;if(Array.isArray(M)){i=M.slice();var d=Math.min(i.length,r.data.length);s&&(d=Math.min(d,s.length)),c=[];for(var x=0;x<d;x++)c[x]=s?s[x]:x}else i=M,c=s?s.slice():null;if(c===null)Array.isArray(i)&&(i=i[0]);else if(Array.isArray(c)){if(!Array.isArray(i)){var A=i;i=[];for(var E=0;E<c.length;E++)i[E]=A}i.length=Math.min(c.length,i.length)}l.push({type:"data",prop:m,traces:c,value:i})},"",0),l}function g(r,t,s,a){Object.keys(r).forEach(function(f){var u=r[f];if(f[0]!=="_"){var l=s+(a>0?".":"")+f;L.isPlainObject(u)?g(u,t,l,a+1):t(l,f,u)}})}},86968:function(H,U,e){var p=e(92880).extendFlat;U.u=function(L,n){L=L||{},n=n||{};var C={valType:"info_array",editType:L.editType,items:[{valType:"number",min:0,max:1,editType:L.editType},{valType:"number",min:0,max:1,editType:L.editType}],dflt:[0,1]};L.name&&L.name+"",L.trace,n.description&&""+n.description;var T={x:p({},C,{}),y:p({},C,{}),editType:L.editType};return L.noGridCell||(T.row={valType:"integer",min:0,dflt:0,editType:L.editType},T.column={valType:"integer",min:0,dflt:0,editType:L.editType}),T},U.Q=function(L,n,C,T){var v=T&&T.x||[0,1],g=T&&T.y||[0,1],r=n.grid;if(r){var t=C("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete L.domain.column);var s=C("domain.row");s!==void 0&&(s<r.rows?g=r._domains.y[s]:delete L.domain.row)}var a=C("domain.x",v),f=C("domain.y",g);a[0]<a[1]||(L.domain.x=v.slice()),f[0]<f[1]||(L.domain.y=g.slice())}},25376:function(H){H.exports=function(U){var e=U.editType,p=U.colorEditType;p===void 0&&(p=e);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:p},editType:e};return U.autoSize&&(L.size.dflt="auto"),U.autoColor&&(L.color.dflt="auto"),U.arrayOk&&(L.family.arrayOk=!0,L.size.arrayOk=!0,L.color.arrayOk=!0),L}},16672:function(H){H.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(H,U){U.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},U.axesNames=["lonaxis","lataxis"],U.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},U.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},U.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},U.clipPad=.001,U.precision=.1,U.landColor="#F0DC82",U.waterColor="#3399FF",U.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},U.sphereSVG={type:"Sphere"},U.fillLayers={ocean:1,land:1,lakes:1},U.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},U.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],U.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],U.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(H,U,e){var p=e(33428),L=e(83356),n=L.geoPath,C=L.geoDistance,T=e(87108),v=e(24040),g=e(3400),r=g.strTranslate,t=e(76308),s=e(43616),a=e(93024),f=e(7316),u=e(54460),l=e(19280).getAutoRange,m=e(86476),h=e(22676).prepSelect,M=e(22676).clearOutline,c=e(22676).selectOnClick,i=e(79248),d=e(79552),x=e(27144),A=e(59972),E=e(55712).NO;function y(b){this.id=b.id,this.graphDiv=b.graphDiv,this.container=b.container,this.topojsonURL=b.topojsonURL,this.isStatic=b.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=y.prototype;H.exports=function(I){return new y(I)},S.plot=function(b,I,D,N){var k=this;if(N)return k.update(b,I,!0);k._geoCalcData=b,k._fullLayout=I;var z=I[this.id],F=[],O=!1;for(var B in d.layerNameToAdjective)if(B!=="frame"&&z["show"+B]){O=!0;break}for(var W=!1,ee=0;ee<b.length;ee++){var ne=b[0][0].trace;ne._geo=k,ne.locationmode&&(O=!0);var Q=ne.marker;if(Q){var le=Q.angle,Z=Q.angleref;(le||Z==="north"||Z==="previous")&&(W=!0)}}if(this._hasMarkerAngles=W,O){var Y=A.getTopojsonName(z);(k.topojson===null||Y!==k.topojsonName)&&(k.topojsonName=Y,PlotlyGeoAssets.topojson[k.topojsonName]===void 0&&F.push(k.fetchTopojson()))}F=F.concat(x.fetchTraceGeoData(b)),D.push(new Promise(function(re,X){Promise.all(F).then(function(){k.topojson=PlotlyGeoAssets.topojson[k.topojsonName],k.update(b,I),re()}).catch(X)}))},S.fetchTopojson=function(){var b=this,I=A.getTopojsonPath(b.topojsonURL,b.topojsonName);return new Promise(function(D,N){p.json(I,function(k,z){if(k)return k.status===404?N(new Error(["plotly.js could not find topojson file at",I+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",I].join(" ")));PlotlyGeoAssets.topojson[b.topojsonName]=z,D()})})},S.update=function(b,I,D){var N=I[this.id];this.hasChoropleth=!1;for(var k=0;k<b.length;k++){var z=b[k],F=z[0].trace;F.type==="choropleth"&&(this.hasChoropleth=!0),F.visible===!0&&F._length>0&&F._module.calcGeoJSON(z,I)}if(!D){var O=this.updateProjection(b,I);if(O)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(I,N),this.updateDims(I,N),this.updateFx(I,N),f.generalUpdatePerTraceModule(this.graphDiv,this,b,N);var B=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=B.selectAll(".point"),this.dataPoints.text=B.selectAll("text"),this.dataPaths.line=B.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},S.updateProjection=function(b,I){var D=this.graphDiv,N=I[this.id],k=I._size,z=N.domain,F=N.projection,O=N.lonaxis,B=N.lataxis,W=O._ax,ee=B._ax,ne=this.projection=w(N),Q=[[k.l+k.w*z.x[0],k.t+k.h*(1-z.y[1])],[k.l+k.w*z.x[1],k.t+k.h*(1-z.y[0])]],le=N.center||{},Z=F.rotation||{},Y=O.range||[],re=B.range||[];if(N.fitbounds){W._length=Q[1][0]-Q[0][0],ee._length=Q[1][1]-Q[0][1],W.range=l(D,W),ee.range=l(D,ee);var X=(W.range[0]+W.range[1])/2,q=(ee.range[0]+ee.range[1])/2;if(N._isScoped)le={lon:X,lat:q};else if(N._isClipped){le={lon:X,lat:q},Z={lon:X,lat:q,roll:Z.roll};var se=F.type,$=d.lonaxisSpan[se]/2||180,j=d.lataxisSpan[se]/2||90;Y=[X-$,X+$],re=[q-j,q+j]}else le={lon:X,lat:q},Z={lon:X,lat:Z.lat,roll:Z.roll}}ne.center([le.lon-Z.lon,le.lat-Z.lat]).rotate([-Z.lon,-Z.lat,Z.roll]).parallels(F.parallels);var ue=_(Y,re);ne.fitExtent(Q,ue);var ae=this.bounds=ne.getBounds(ue),ce=this.fitScale=ne.scale(),ye=ne.translate();if(N.fitbounds){var Ce=ne.getBounds(_(W.range,ee.range)),Ae=Math.min((ae[1][0]-ae[0][0])/(Ce[1][0]-Ce[0][0]),(ae[1][1]-ae[0][1])/(Ce[1][1]-Ce[0][1]));isFinite(Ae)?ne.scale(Ae*ce):g.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ne.scale(F.scale*ce);var Ie=this.midPt=[(ae[0][0]+ae[1][0])/2,(ae[0][1]+ae[1][1])/2];if(ne.translate([ye[0]+(Ie[0]-ye[0]),ye[1]+(Ie[1]-ye[1])]).clipExtent(ae),N._isAlbersUsa){var Te=ne([le.lon,le.lat]),Le=ne.translate();ne.translate([Le[0]-(Te[0]-Le[0]),Le[1]-(Te[1]-Le[1])])}},S.updateBaseLayers=function(b,I){var D=this,N=D.topojson,k=D.layers,z=D.basePaths;function F(Q){return Q==="lonaxis"||Q==="lataxis"}function O(Q){return!!d.lineLayers[Q]}function B(Q){return!!d.fillLayers[Q]}var W=this.hasChoropleth?d.layersForChoropleth:d.layers,ee=W.filter(function(Q){return O(Q)||B(Q)?I["show"+Q]:F(Q)?I[Q].showgrid:!0}),ne=D.framework.selectAll(".layer").data(ee,String);ne.exit().each(function(Q){delete k[Q],delete z[Q],p.select(this).remove()}),ne.enter().append("g").attr("class",function(Q){return"layer "+Q}).each(function(Q){var le=k[Q]=p.select(this);Q==="bg"?D.bgRect=le.append("rect").style("pointer-events","all"):F(Q)?z[Q]=le.append("path").style("fill","none"):Q==="backplot"?le.append("g").classed("choroplethlayer",!0):Q==="frontplot"?le.append("g").classed("scatterlayer",!0):O(Q)?z[Q]=le.append("path").style("fill","none").style("stroke-miterlimit",2):B(Q)&&(z[Q]=le.append("path").style("stroke","none"))}),ne.order(),ne.each(function(Q){var le=z[Q],Z=d.layerNameToAdjective[Q];Q==="frame"?le.datum(d.sphereSVG):O(Q)||B(Q)?le.datum(E(N,N.objects[Q])):F(Q)&&le.datum(o(Q,I,b)).call(t.stroke,I[Q].gridcolor).call(s.dashLine,I[Q].griddash,I[Q].gridwidth),O(Q)?le.call(t.stroke,I[Z+"color"]).call(s.dashLine,"",I[Z+"width"]):B(Q)&&le.call(t.fill,I[Z+"color"])})},S.updateDims=function(b,I){var D=this.bounds,N=(I.framewidth||0)/2,k=D[0][0]-N,z=D[0][1]-N,F=D[1][0]-k+N,O=D[1][1]-z+N;s.setRect(this.clipRect,k,z,F,O),this.bgRect.call(s.setRect,k,z,F,O).call(t.fill,I.bgcolor),this.xaxis._offset=k,this.xaxis._length=F,this.yaxis._offset=z,this.yaxis._length=O},S.updateFx=function(b,I){var D=this,N=D.graphDiv,k=D.bgRect,z=b.dragmode,F=b.clickmode;if(D.isStatic)return;function O(){var ne=D.viewInitial,Q={};for(var le in ne)Q[D.id+"."+le]=ne[le];v.call("_guiRelayout",N,Q),N.emit("plotly_doubleclick",null)}function B(ne){return D.projection.invert([ne[0]+D.xaxis._offset,ne[1]+D.yaxis._offset])}var W=function(ne,Q){if(Q.isRect){var le=ne.range={};le[D.id]=[B([Q.xmin,Q.ymin]),B([Q.xmax,Q.ymax])]}else{var Z=ne.lassoPoints={};Z[D.id]=Q.map(B)}},ee={element:D.bgRect.node(),gd:N,plotinfo:{id:D.id,xaxis:D.xaxis,yaxis:D.yaxis,fillRangeItems:W},xaxes:[D.xaxis],yaxes:[D.yaxis],subplot:D.id,clickFn:function(ne){ne===2&&M(N)}};z==="pan"?(k.node().onmousedown=null,k.call(i(D,I)),k.on("dblclick.zoom",O),N._context._scrollZoom.geo||k.on("wheel.zoom",null)):(z==="select"||z==="lasso")&&(k.on(".zoom",null),ee.prepFn=function(ne,Q,le){h(ne,Q,le,ee,z)},m.init(ee)),k.on("mousemove",function(){var ne=D.projection.invert(g.getPositionFromD3Event());if(!ne)return m.unhover(N,p.event);D.xaxis.p2c=function(){return ne[0]},D.yaxis.p2c=function(){return ne[1]},a.hover(N,p.event,D.id)}),k.on("mouseout",function(){N._dragging||m.unhover(N,p.event)}),k.on("click",function(){z!=="select"&&z!=="lasso"&&(F.indexOf("select")>-1&&c(p.event,N,[D.xaxis],[D.yaxis],D.id,ee),F.indexOf("event")>-1&&a.click(N,p.event))})},S.makeFramework=function(){var b=this,I=b.graphDiv,D=I._fullLayout,N="clip"+D._uid+b.id;b.clipDef=D._clips.append("clipPath").attr("id",N),b.clipRect=b.clipDef.append("rect"),b.framework=p.select(b.container).append("g").attr("class","geo "+b.id).call(s.setClipUrl,N,I),b.project=function(k){var z=b.projection(k);return z?[z[0]-b.xaxis._offset,z[1]-b.yaxis._offset]:[null,null]},b.xaxis={_id:"x",c2p:function(k){return b.project(k)[0]}},b.yaxis={_id:"y",c2p:function(k){return b.project(k)[1]}},b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(b.mockAxis,D)},S.saveViewInitial=function(b){var I=b.center||{},D=b.projection,N=D.rotation||{};this.viewInitial={fitbounds:b.fitbounds,"projection.scale":D.scale};var k;b._isScoped?k={"center.lon":I.lon,"center.lat":I.lat}:b._isClipped?k={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:k={"center.lon":I.lon,"center.lat":I.lat,"projection.rotation.lon":N.lon},g.extendFlat(this.viewInitial,k)},S.render=function(b){this._hasMarkerAngles&&b?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var b=this.projection,I=b.getPath(),D;function N(z){var F=b(z.lonlat);return F?r(F[0],F[1]):null}function k(z){return b.isLonLatOverEdges(z.lonlat)?"none":null}for(D in this.basePaths)this.basePaths[D].attr("d",I);for(D in this.dataPaths)this.dataPaths[D].attr("d",function(z){return I(z.geojson)});for(D in this.dataPoints)this.dataPoints[D].attr("display",k).attr("transform",N)};function w(b){var I=b.projection,D=I.type,N=d.projNames[D];N="geo"+g.titleCase(N);for(var k=L[N]||T[N],z=k(),F=b._isSatellite?Math.acos(1/I.distance)*180/Math.PI:b._isClipped?d.lonaxisSpan[D]/2:null,O=["center","rotate","parallels","clipExtent"],B=function(ne){return ne?z:[]},W=0;W<O.length;W++){var ee=O[W];typeof z[ee]!="function"&&(z[ee]=B)}return z.isLonLatOverEdges=function(ne){if(z(ne)===null)return!0;if(F){var Q=z.rotate(),le=C(ne,[-Q[0],-Q[1]]),Z=F*Math.PI/180;return le>Z}else return!1},z.getPath=function(){return n().projection(z)},z.getBounds=function(ne){return z.getPath().bounds(ne)},z.precision(d.precision),b._isSatellite&&z.tilt(I.tilt).distance(I.distance),F&&z.clipAngle(F-d.clipPad),z}function o(b,I,D){var N=1e-6,k=2.5,z=I[b],F=d.scopeDefaults[I.scope],O,B,W;b==="lonaxis"?(O=F.lonaxisRange,B=F.lataxisRange,W=function(q,se){return[q,se]}):b==="lataxis"&&(O=F.lataxisRange,B=F.lonaxisRange,W=function(q,se){return[se,q]});var ee={type:"linear",range:[O[0],O[1]-N],tick0:z.tick0,dtick:z.dtick};u.setConvert(ee,D);var ne=u.calcTicks(ee);!I.isScoped&&b==="lonaxis"&&ne.pop();for(var Q=ne.length,le=new Array(Q),Z=0;Z<Q;Z++)for(var Y=ne[Z].x,re=le[Z]=[],X=B[0];X<B[1]+k;X+=k)re.push(W(Y,X));return{type:"MultiLineString",coordinates:le}}function _(b,I){var D=d.clipPad,N=b[0]+D,k=b[1]-D,z=I[0]+D,F=I[1]-D;N>0&&k<0&&(k+=360);var O=(k-N)/4;return{type:"Polygon",coordinates:[[[N,z],[N,F],[N+O,F],[N+2*O,F],[N+3*O,F],[k,F],[k,z],[k-O,z],[k-2*O,z],[k-3*O,z],[N,z]]]}}},10816:function(H,U,e){var p=e(84888).KY,L=e(3400).counterRegex,n=e(43520),C="geo",T=L(C),v={};v[C]={valType:"subplotid",dflt:C,editType:"calc"};function g(s){for(var a=s._fullLayout,f=s.calcdata,u=a._subplots[C],l=0;l<u.length;l++){var m=u[l],h=p(f,C,m),M=a[m],c=M._subplot;c||(c=n({id:m,graphDiv:s,container:a._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),a[m]._subplot=c),c.plot(h,a,s._promises)}}function r(s,a,f,u){for(var l=u._subplots[C]||[],m=0;m<l.length;m++){var h=l[m],M=u[h]._subplot;!a[h]&&M&&(M.framework.remove(),M.clipDef.remove())}}function t(s){for(var a=s._fullLayout,f=a._subplots[C],u=0;u<f.length;u++){var l=a[f[u]],m=l._subplot;m.updateFx(a,l)}}H.exports={attr:C,name:C,idRoot:C,idRegex:T,attrRegex:T,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:g,updateFx:t,clean:r}},40384:function(H,U,e){var p=e(22548),L=e(86968).u,n=e(98192).u,C=e(79552),T=e(67824).overrideAll,v=e(95376),g={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:p.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:n},r=H.exports=T({domain:L({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:p.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:p.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:p.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:p.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:p.background},lonaxis:g,lataxis:g},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(H,U,e){var p=e(3400),L=e(168),n=e(84888).op,C=e(79552),T=e(40384),v=C.axesNames;H.exports=function(t,s,a){L(t,s,a,{type:"geo",attributes:T,handleDefaults:g,fullData:a,partition:"y"})};function g(r,t,s,a){var f=n(a.fullData,"geo",a.id),u=f.map(function(re){return re._expandedIndex}),l=s("resolution"),m=s("scope"),h=C.scopeDefaults[m],M=s("projection.type",h.projType),c=t._isAlbersUsa=M==="albers usa";c&&(m=t.scope="usa");var i=t._isScoped=m!=="world",d=t._isSatellite=M==="satellite",x=t._isConic=M.indexOf("conic")!==-1||M==="albers",A=t._isClipped=!!C.lonaxisSpan[M];if(r.visible===!1){var E=p.extendDeep({},t._template);E.showcoastlines=!1,E.showcountries=!1,E.showframe=!1,E.showlakes=!1,E.showland=!1,E.showocean=!1,E.showrivers=!1,E.showsubunits=!1,E.lonaxis&&(E.lonaxis.showgrid=!1),E.lataxis&&(E.lataxis.showgrid=!1),t._template=E}for(var y=s("visible"),S,w=0;w<v.length;w++){var o=v[w],_=[30,10][w],b;if(i)b=h[o+"Range"];else{var I=C[o+"Span"],D=(I[M]||I["*"])/2,N=s("projection.rotation."+o.substr(0,3),h.projRotate[w]);b=[N-D,N+D]}var k=s(o+".range",b);s(o+".tick0"),s(o+".dtick",_),S=s(o+".showgrid",y?void 0:!1),S&&(s(o+".gridcolor"),s(o+".gridwidth"),s(o+".griddash")),t[o]._ax={type:"linear",_id:o.slice(0,3),_traceIndices:u,setScale:p.identity,c2l:p.identity,r2l:p.identity,autorange:!0,range:k.slice(),_m:1,_input:{}}}var z=t.lonaxis.range,F=t.lataxis.range,O=z[0],B=z[1];O>0&&B<0&&(B+=360);var W=(O+B)/2,ee;if(!c){var ne=i?h.projRotate:[W,0,0];ee=s("projection.rotation.lon",ne[0]),s("projection.rotation.lat",ne[1]),s("projection.rotation.roll",ne[2]),S=s("showcoastlines",!i&&y),S&&(s("coastlinecolor"),s("coastlinewidth")),S=s("showocean",y?void 0:!1),S&&s("oceancolor")}var Q,le;if(c?(Q=-96.6,le=38.7):(Q=i?W:ee,le=(F[0]+F[1])/2),s("center.lon",Q),s("center.lat",le),d&&(s("projection.tilt"),s("projection.distance")),x){var Z=h.projParallels||[0,60];s("projection.parallels",Z)}s("projection.scale"),S=s("showland",y?void 0:!1),S&&s("landcolor"),S=s("showlakes",y?void 0:!1),S&&s("lakecolor"),S=s("showrivers",y?void 0:!1),S&&(s("rivercolor"),s("riverwidth")),S=s("showcountries",i&&m!=="usa"&&y),S&&(s("countrycolor"),s("countrywidth")),(m==="usa"||m==="north america"&&l===50)&&(s("showsubunits",y),s("subunitcolor"),s("subunitwidth")),i||(S=s("showframe",y),S&&(s("framecolor"),s("framewidth"))),s("bgcolor");var Y=s("fitbounds");Y&&(delete t.projection.scale,i?(delete t.center.lon,delete t.center.lat):A?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(H,U,e){var p=e(33428),L=e(3400),n=e(24040),C=Math.PI/180,T=180/Math.PI,v={cursor:"pointer"},g={cursor:"auto"};function r(o,_){var b=o.projection,I;return _._isScoped?I=a:_._isClipped?I=u:I=f,I(o,b)}H.exports=r;function t(o,_){return p.behavior.zoom().translate(_.translate()).scale(_.scale())}function s(o,_,b){var I=o.id,D=o.graphDiv,N=D.layout,k=N[I],z=D._fullLayout,F=z[I],O={},B={};function W(ee,ne){O[I+"."+ee]=L.nestedProperty(k,ee).get(),n.call("_storeDirectGUIEdit",N,z._preGUI,O);var Q=L.nestedProperty(F,ee);Q.get()!==ne&&(Q.set(ne),L.nestedProperty(k,ee).set(ne),B[I+"."+ee]=ne)}b(W),W("projection.scale",_.scale()/o.fitScale),W("fitbounds",!1),D.emit("plotly_relayout",B)}function a(o,_){var b=t(o,_);function I(){p.select(this).style(v)}function D(){_.scale(p.event.scale).translate(p.event.translate),o.render(!0);var z=_.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":_.scale()/o.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1]})}function N(z){var F=_.invert(o.midPt);z("center.lon",F[0]),z("center.lat",F[1])}function k(){p.select(this).style(g),s(o,_,N)}return b.on("zoomstart",I).on("zoom",D).on("zoomend",k),b}function f(o,_){var b=t(o,_),I=2,D,N,k,z,F,O,B,W,ee;function ne(X){return _.invert(X)}function Q(X){var q=ne(X);if(!q)return!0;var se=_(q);return Math.abs(se[0]-X[0])>I||Math.abs(se[1]-X[1])>I}function le(){p.select(this).style(v),D=p.mouse(this),N=_.rotate(),k=_.translate(),z=N,F=ne(D)}function Z(){if(O=p.mouse(this),Q(D)){b.scale(_.scale()),b.translate(_.translate());return}_.scale(p.event.scale),_.translate([k[0],p.event.translate[1]]),F?ne(O)&&(W=ne(O),B=[z[0]+(W[0]-F[0]),N[1],N[2]],_.rotate(B),z=B):(D=O,F=ne(D)),ee=!0,o.render(!0);var X=_.rotate(),q=_.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":_.scale()/o.fitScale,"geo.center.lon":q[0],"geo.center.lat":q[1],"geo.projection.rotation.lon":-X[0]})}function Y(){p.select(this).style(g),ee&&s(o,_,re)}function re(X){var q=_.rotate(),se=_.invert(o.midPt);X("projection.rotation.lon",-q[0]),X("center.lon",se[0]),X("center.lat",se[1])}return b.on("zoomstart",le).on("zoom",Z).on("zoomend",Y),b}function u(o,_){_.rotate(),_.scale();var b=t(o,_),I=w(b,"zoomstart","zoom","zoomend"),D=0,N=b.on,k;b.on("zoomstart",function(){p.select(this).style(v);var W=p.mouse(this),ee=_.rotate(),ne=ee,Q=_.translate(),le=m(ee);k=l(_,W),N.call(b,"zoom",function(){var Z=p.mouse(this);if(_.scale(p.event.scale),!k)W=Z,k=l(_,W);else if(l(_,Z)){_.rotate(ee).translate(Q);var Y=l(_,Z),re=M(k,Y),X=A(h(le,re)),q=c(X,k,ne);(!isFinite(q[0])||!isFinite(q[1])||!isFinite(q[2]))&&(q=ne),_.rotate(q),ne=q}F(I.of(this,arguments))}),z(I.of(this,arguments))}).on("zoomend",function(){p.select(this).style(g),N.call(b,"zoom",null),O(I.of(this,arguments)),s(o,_,B)}).on("zoom.redraw",function(){o.render(!0);var W=_.rotate();o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":_.scale()/o.fitScale,"geo.projection.rotation.lon":-W[0],"geo.projection.rotation.lat":-W[1]})});function z(W){D++||W({type:"zoomstart"})}function F(W){W({type:"zoom"})}function O(W){--D||W({type:"zoomend"})}function B(W){var ee=_.rotate();W("projection.rotation.lon",-ee[0]),W("projection.rotation.lat",-ee[1])}return p.rebind(b,I,"on")}function l(o,_){var b=o.invert(_);return b&&isFinite(b[0])&&isFinite(b[1])&&E(b)}function m(o){var _=.5*o[0]*C,b=.5*o[1]*C,I=.5*o[2]*C,D=Math.sin(_),N=Math.cos(_),k=Math.sin(b),z=Math.cos(b),F=Math.sin(I),O=Math.cos(I);return[N*z*O+D*k*F,D*z*O-N*k*F,N*k*O+D*z*F,N*z*F-D*k*O]}function h(o,_){var b=o[0],I=o[1],D=o[2],N=o[3],k=_[0],z=_[1],F=_[2],O=_[3];return[b*k-I*z-D*F-N*O,b*z+I*k+D*O-N*F,b*F-I*O+D*k+N*z,b*O+I*F-D*z+N*k]}function M(o,_){if(!(!o||!_)){var b=S(o,_),I=Math.sqrt(y(b,b)),D=.5*Math.acos(Math.max(-1,Math.min(1,y(o,_)))),N=Math.sin(D)/I;return I&&[Math.cos(D),b[2]*N,-b[1]*N,b[0]*N]}}function c(o,_,b){var I=x(_,2,o[0]);I=x(I,1,o[1]),I=x(I,0,o[2]-b[2]);var D=_[0],N=_[1],k=_[2],z=I[0],F=I[1],O=I[2],B=Math.atan2(N,D)*T,W=Math.sqrt(D*D+N*N),ee,ne;Math.abs(F)>W?(ne=(F>0?90:-90)-B,ee=0):(ne=Math.asin(F/W)*T-B,ee=Math.sqrt(W*W-F*F));var Q=180-ne-2*B,le=(Math.atan2(O,z)-Math.atan2(k,ee))*T,Z=(Math.atan2(O,z)-Math.atan2(k,-ee))*T,Y=i(b[0],b[1],ne,le),re=i(b[0],b[1],Q,Z);return Y<=re?[ne,le,b[2]]:[Q,Z,b[2]]}function i(o,_,b,I){var D=d(b-o),N=d(I-_);return Math.sqrt(D*D+N*N)}function d(o){return(o%360+540)%360-180}function x(o,_,b){var I=b*C,D=o.slice(),N=_===0?1:0,k=_===2?1:2,z=Math.cos(I),F=Math.sin(I);return D[N]=o[N]*z-o[k]*F,D[k]=o[k]*z+o[N]*F,D}function A(o){return[Math.atan2(2*(o[0]*o[1]+o[2]*o[3]),1-2*(o[1]*o[1]+o[2]*o[2]))*T,Math.asin(Math.max(-1,Math.min(1,2*(o[0]*o[2]-o[3]*o[1]))))*T,Math.atan2(2*(o[0]*o[3]+o[1]*o[2]),1-2*(o[2]*o[2]+o[3]*o[3]))*T]}function E(o){var _=o[0]*C,b=o[1]*C,I=Math.cos(b);return[I*Math.cos(_),I*Math.sin(_),Math.sin(b)]}function y(o,_){for(var b=0,I=0,D=o.length;I<D;++I)b+=o[I]*_[I];return b}function S(o,_){return[o[1]*_[2]-o[2]*_[1],o[2]*_[0]-o[0]*_[2],o[0]*_[1]-o[1]*_[0]]}function w(o){for(var _=0,b=arguments.length,I=[];++_<b;)I.push(arguments[_]);var D=p.dispatch.apply(null,I);return D.of=function(N,k){return function(z){var F;try{F=z.sourceEvent=p.event,z.target=o,p.event=z,D[z.type].apply(N,k)}finally{p.event=F}}},D}},84888:function(H,U,e){var p=e(24040),L=e(33816).SUBPLOT_PATTERN;U.KY=function(n,C,T){var v=p.subplotsRegistry[C];if(!v)return[];for(var g=v.attr,r=[],t=0;t<n.length;t++){var s=n[t],a=s[0].trace;a[g]===T&&r.push(s)}return r},U._M=function(n,C){var T=[],v=[],g;if(typeof C=="string"?g=p.getModule(C).plot:typeof C=="function"?g=C:g=C.plot,!g)return[T,n];for(var r=0;r<n.length;r++){var t=n[r],s=t[0].trace;s.visible!==!0||s._length===0||(s._module&&s._module.plot===g?T.push(t):v.push(t))}return[T,v]},U.op=function(C,T,v){if(!p.subplotsRegistry[T])return[];var g=p.subplotsRegistry[T].attr,r=[],t,s,a;if(T==="gl2d"){var f=v.match(L);s="x"+f[1],a="y"+f[2]}for(var u=0;u<C.length;u++)t=C[u],T==="gl2d"&&p.traceIs(t,"gl2d")?t[g[0]]===s&&t[g[1]]===a&&r.push(t):t[g]===v&&r.push(t);return r}},2428:function(H,U,e){var p=e(62644),L=e(97264),n=e(29128),C=e(33816),T=e(89184);H.exports=g;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function g(r){var t=r.mouseContainer,s=r.glplot,a=new v(t,s);function f(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var m=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,M=r.yaxis._id,c=0;c<m.length;c++)if(m[c][h]!==-1){if(m[c][M]!==-1)return!0;break}return!1}a.mouseListener=p(t,l),t.addEventListener("touchstart",function(m){var h=n(m.changedTouches[0],t);l(0,h[0],h[1]),l(1,h[0],h[1]),m.preventDefault()},T?{passive:!1}:!1),t.addEventListener("touchmove",function(m){m.preventDefault();var h=n(m.changedTouches[0],t);l(1,h[0],h[1]),m.preventDefault()},T?{passive:!1}:!1),t.addEventListener("touchend",function(m){l(0,a.lastPos[0],a.lastPos[1]),m.preventDefault()},T?{passive:!1}:!1);function l(m,h,M){var c=r.calcDataBox(),i=s.viewBox,d=a.lastPos[0],x=a.lastPos[1],A=C.MINDRAG*s.pixelRatio,E=C.MINZOOM*s.pixelRatio,y,S;h*=s.pixelRatio,M*=s.pixelRatio,M=i[3]-i[1]-M;function w(N,k,z){var F=Math.min(k,z),O=Math.max(k,z);F!==O?(c[N]=F,c[N+2]=O,a.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(m){var o=h/(i[2]-i[0])*(c[2]-c[0])+c[0],_=M/(i[3]-i[1])*(c[3]-c[1])+c[1];a.boxInited||(a.boxStart[0]=o,a.boxStart[1]=_,a.dragStart[0]=h,a.dragStart[1]=M),a.boxEnd[0]=o,a.boxEnd[1]=_,a.boxInited=!0,!a.boxEnabled&&(a.boxStart[0]!==a.boxEnd[0]||a.boxStart[1]!==a.boxEnd[1])&&(a.boxEnabled=!0);var b=Math.abs(a.dragStart[0]-h)<E,I=Math.abs(a.dragStart[1]-M)<E;if(u()&&!(b&&I)){y=a.boxEnd[0]-a.boxStart[0],S=a.boxEnd[1]-a.boxStart[1];var D=(c[3]-c[1])/(c[2]-c[0]);Math.abs(y*D)>Math.abs(S)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(y)*D*(S>=0?1:-1),a.boxEnd[1]<c[1]?(a.boxEnd[1]=c[1],a.boxEnd[0]=a.boxStart[0]+(c[1]-a.boxStart[1])/Math.abs(D)):a.boxEnd[1]>c[3]&&(a.boxEnd[1]=c[3],a.boxEnd[0]=a.boxStart[0]+(c[3]-a.boxStart[1])/Math.abs(D))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(S)/D*(y>=0?1:-1),a.boxEnd[0]<c[0]?(a.boxEnd[0]=c[0],a.boxEnd[1]=a.boxStart[1]+(c[0]-a.boxStart[0])*Math.abs(D)):a.boxEnd[0]>c[2]&&(a.boxEnd[0]=c[2],a.boxEnd[1]=a.boxStart[1]+(c[2]-a.boxStart[0])*Math.abs(D)))}else b&&(a.boxEnd[0]=a.boxStart[0]),I&&(a.boxEnd[1]=a.boxStart[1])}else a.boxEnabled?(y=a.boxStart[0]!==a.boxEnd[0],S=a.boxStart[1]!==a.boxEnd[1],y||S?(y&&(w(0,a.boxStart[0],a.boxEnd[0]),r.xaxis.autorange=!1),S&&(w(1,a.boxStart[1],a.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,m?(a.panning||(a.dragStart[0]=h,a.dragStart[1]=M),Math.abs(a.dragStart[0]-h)<A&&(h=a.dragStart[0]),Math.abs(a.dragStart[1]-M)<A&&(M=a.dragStart[1]),y=(d-h)*(c[2]-c[0])/(s.viewBox[2]-s.viewBox[0]),S=(x-M)*(c[3]-c[1])/(s.viewBox[3]-s.viewBox[1]),c[0]+=y,c[2]+=y,c[1]+=S,c[3]+=S,r.setRanges(c),a.panning=!0,a.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations()):a.panning&&(a.panning=!1,r.relayoutCallback());break}a.lastPos[0]=h,a.lastPos[1]=M}return a.wheelListener=L(t,function(m,h){if(!r.scrollZoom)return!1;var M=r.calcDataBox(),c=s.viewBox,i=a.lastPos[0],d=a.lastPos[1],x=Math.exp(5*h/(c[3]-c[1])),A=i/(c[2]-c[0])*(M[2]-M[0])+M[0],E=d/(c[3]-c[1])*(M[3]-M[1])+M[1];return M[0]=(M[0]-A)*x+A,M[2]=(M[2]-A)*x+A,M[1]=(M[1]-E)*x+E,M[3]=(M[3]-E)*x+E,r.setRanges(M),a.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),a}},92568:function(H,U,e){var p=e(54460),L=e(43080);function n(g){this.scene=g,this.gl=g.gl,this.pixelRatio=g.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=n.prototype,T=["xaxis","yaxis"];C.merge=function(g){this.titleEnable=!1,this.backgroundColor=L(g.plot_bgcolor);var r,t,s,a,f,u,l,m,h,M,c;for(M=0;M<2;++M){r=T[M];var i=r.charAt(0);for(t=g[this.scene[r]._name],s=t.title.text===this.scene.fullLayout._dfltTitle[i]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[M+c]=!1,this.labels[M+c]=s,this.labelColor[M+c]=L(t.title.font.color),this.labelFont[M+c]=t.title.font.family,this.labelSize[M+c]=t.title.font.size,this.labelPad[M+c]=this.getLabelPad(r,t),this.tickEnable[M+c]=!1,this.tickColor[M+c]=L((t.tickfont||{}).color),this.tickAngle[M+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[M+c]=this.getTickPad(t),this.tickMarkLength[M+c]=0,this.tickMarkWidth[M+c]=t.tickwidth||0,this.tickMarkColor[M+c]=L(t.tickcolor),this.borderLineEnable[M+c]=!1,this.borderLineColor[M+c]=L(t.linecolor),this.borderLineWidth[M+c]=t.linewidth||0;l=this.hasSharedAxis(t),f=this.hasAxisInDfltPos(r,t)&&!l,u=this.hasAxisInAltrPos(r,t)&&!l,a=t.mirror||!1,m=l?String(a).indexOf("all")!==-1:!!a,h=l?a==="allticks":String(a).indexOf("ticks")!==-1,f?this.labelEnable[M]=!0:u&&(this.labelEnable[M+2]=!0),f?this.tickEnable[M]=t.showticklabels:u&&(this.tickEnable[M+2]=t.showticklabels),(f||m)&&(this.borderLineEnable[M]=t.showline),(u||m)&&(this.borderLineEnable[M+2]=t.showline),(f||h)&&(this.tickMarkLength[M]=this.getTickMarkLength(t)),(u||h)&&(this.tickMarkLength[M+2]=this.getTickMarkLength(t)),this.gridLineEnable[M]=t.showgrid,this.gridLineColor[M]=L(t.gridcolor),this.gridLineWidth[M]=t.gridwidth,this.zeroLineEnable[M]=t.zeroline,this.zeroLineColor[M]=L(t.zerolinecolor),this.zeroLineWidth[M]=t.zerolinewidth}},C.hasSharedAxis=function(g){var r=this.scene,t=r.fullLayout._subplots.gl2d,s=p.findSubplotsWithAxis(t,g);return s.indexOf(r.id)!==0},C.hasAxisInDfltPos=function(g,r){var t=r.side;if(g==="xaxis")return t==="bottom";if(g==="yaxis")return t==="left"},C.hasAxisInAltrPos=function(g,r){var t=r.side;if(g==="xaxis")return t==="top";if(g==="yaxis")return t==="right"},C.getLabelPad=function(g,r){var t=1.5,s=r.title.font.size,a=r.showticklabels;if(g==="xaxis")return r.side==="top"?-10+s*(t+(a?1:0)):-10+s*(t+(a?.5:0));if(g==="yaxis")return r.side==="right"?10+s*(t+(a?1:.5)):10+s*(t+(a?.5:0))},C.getTickPad=function(g){return g.ticks==="outside"?10+g.ticklen:15},C.getTickMarkLength=function(g){if(!g.ticks)return 0;var r=g.ticklen;return g.ticks==="inside"?-r:r};function v(g){return new n(g)}H.exports=v},39952:function(H,U,e){var p=e(67824).overrideAll,L=e(17188),n=e(64859),C=e(9616),T=e(33816),v=e(57952),g=e(65460),r=e(84888).op;U.name="gl2d",U.attr=["xaxis","yaxis"],U.idRoot=["x","y"],U.idRegex=T.idRegex,U.attrRegex=T.attrRegex,U.attributes=e(26720),U.supplyLayoutDefaults=function(t,s,a){s._has("cartesian")||v.supplyLayoutDefaults(t,s,a)},U.layoutAttrOverrides=p(v.layoutAttributes,"plot","from-root"),U.baseLayoutAttrOverrides=p({plot_bgcolor:n.plot_bgcolor,hoverlabel:g.hoverlabel},"plot","nested"),U.plot=function(s){for(var a=s._fullLayout,f=s._fullData,u=a._subplots.gl2d,l=0;l<u.length;l++){var m=u[l],h=a._plots[m],M=r(f,"gl2d",m),c=h._scene2d;c===void 0&&(c=new L({id:m,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},a),h._scene2d=c),c.plot(M,s.calcdata,a,s.layout)}},U.clean=function(t,s,a,f){for(var u=f._subplots.gl2d||[],l=0;l<u.length;l++){var m=u[l],h=f._plots[m];if(h._scene2d){var M=r(t,"gl2d",m);M.length===0&&(h._scene2d.destroy(),delete f._plots[m])}}v.clean.apply(this,arguments)},U.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},U.toSVG=function(t){for(var s=t._fullLayout,a=s._subplots.gl2d,f=0;f<a.length;f++){var u=s._plots[a[f]],l=u._scene2d,m=l.toImage("png"),h=s._glimages.append("svg:image");h.attr({xmlns:C.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},U.updateFx=function(t){for(var s=t._fullLayout,a=s._subplots.gl2d,f=0;f<a.length;f++){var u=s._plots[a[f]]._scene2d;u.updateFx(s.dragmode)}}},17188:function(H,U,e){var p=e(24040),L=e(54460),n=e(93024),C=e(67792).gl_plot2d,T=e(67792).gl_spikes2d,v=e(67792).gl_select_box,g=e(5408),r=e(92568),t=e(2428),s=e(16576),a=e(71888),f=a.enforce,u=a.clean,l=e(19280).doAutoRange,m=e(72760),h=m.drawMode,M=m.selectMode,c=["xaxis","yaxis"],i,d,x=e(33816).SUBPLOT_PATTERN;function A(S,w){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(w),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(w),this.glplot=C(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=T(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}H.exports=A;var E=A.prototype;E.makeFramework=function(){if(this.staticPlot){if(!d&&(i=document.createElement("canvas"),d=g({canvas:i,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=i,this.gl=d}else{var S=this.container.querySelector(".gl-canvas-focus"),w=g({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!w){s(this),this.stopped=!0;return}this.canvas=S,this.gl=w}var o=this.canvas;o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style["pointer-events"]="none",this.updateSize(o);var _=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");_.style.position="absolute",_.style.top=_.style.left="0px",_.style.width=_.style.height="100%",_.style["z-index"]=20,_.style["pointer-events"]="none";var b=this.mouseContainer=document.createElement("div");b.style.position="absolute",b.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var I=this.container;I.appendChild(_),I.appendChild(b);var D=this;b.addEventListener("mouseout",function(){D.isMouseOver=!1,D.unhover()}),b.addEventListener("mouseover",function(){D.isMouseOver=!0})},E.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(i),this.updateSize(this.canvas);var w=this.glplot.gl,o=w.drawingBufferWidth,_=w.drawingBufferHeight;w.clearColor(1,1,1,0),w.clear(w.COLOR_BUFFER_BIT|w.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),w.bindFramebuffer(w.FRAMEBUFFER,null);var b=new Uint8Array(o*_*4);w.readPixels(0,0,o,_,w.RGBA,w.UNSIGNED_BYTE,b);for(var I=0,D=_-1;I<D;++I,--D)for(var N=0;N<o;++N)for(var k=0;k<4;++k){var z=b[4*(o*I+N)+k];b[4*(o*I+N)+k]=b[4*(o*D+N)+k],b[4*(o*D+N)+k]=z}var F=document.createElement("canvas");F.width=o,F.height=_;var O=F.getContext("2d",{willReadFrequently:!0}),B=O.createImageData(o,_);B.data.set(b),O.putImageData(B,0,0);var W;switch(S){case"jpeg":W=F.toDataURL("image/jpeg");break;case"webp":W=F.toDataURL("image/webp");break;default:W=F.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(i),W},E.updateSize=function(S){S||(S=this.canvas);var w=this.pixelRatio,o=this.fullLayout,_=o.width,b=o.height,I=Math.ceil(w*_)|0,D=Math.ceil(w*b)|0;return(S.width!==I||S.height!==D)&&(S.width=I,S.height=D),S},E.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[L.calcTicks(this.xaxis),L.calcTicks(this.yaxis)],w=0;w<2;++w)for(var o=0;o<S[w].length;++o)S[w][o].text=S[w][o].text+"";return S};function y(S,w){for(var o=0;o<2;++o){var _=S[o],b=w[o];if(_.length!==b.length)return!0;for(var I=0;I<_.length;++I)if(_[I].x!==b[I].x)return!0}return!1}E.updateRefs=function(S){this.fullLayout=S;var w=this.id.match(x),o="xaxis"+w[1],_="yaxis"+w[2];this.xaxis=this.fullLayout[o],this.yaxis=this.fullLayout[_]},E.relayoutCallback=function(){var S=this.graphDiv,w=this.xaxis,o=this.yaxis,_=S.layout,b={},I=b[w._name+".range"]=w.range.slice(),D=b[o._name+".range"]=o.range.slice();b[w._name+".autorange"]=w.autorange,b[o._name+".autorange"]=o.autorange,p.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,b);var N=_[w._name];N.range=I,N.autorange=w.autorange;var k=_[o._name];k.range=D,k.autorange=o.autorange,b.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",b)},E.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var w=this.computeTickMarks(),o=this.glplotOptions.ticks;y(w,o)&&(this.glplotOptions.ticks=w,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},E.handleAnnotations=function(){for(var S=this.graphDiv,w=this.fullLayout.annotations,o=0;o<w.length;o++){var _=w[o];_.xref===this.xaxis._id&&_.yref===this.yaxis._id&&p.getComponentMethod("annotations","drawOne")(S,o)}},E.destroy=function(){if(this.glplot){var S=this.traces;S&&Object.keys(S).map(function(w){S[w].dispose(),delete S[w]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},E.plot=function(S,w,o){var _=this.glplot;this.updateRefs(o),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,w),this.updateFx(o.dragmode);var b=o.width,I=o.height;this.updateSize(this.canvas);var D=this.glplotOptions;D.merge(o),D.screenBox=[0,0,b,I];var N={_fullLayout:{_axisConstraintGroups:o._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:o._size}};u(N,this.xaxis),u(N,this.yaxis);var k=o._size,z=this.xaxis.domain,F=this.yaxis.domain;D.viewBox=[k.l+z[0]*k.w,k.b+F[0]*k.h,b-k.r-(1-z[1])*k.w,I-k.t-(1-F[1])*k.h],this.mouseContainer.style.width=k.w*(z[1]-z[0])+"px",this.mouseContainer.style.height=k.h*(F[1]-F[0])+"px",this.mouseContainer.height=k.h*(F[1]-F[0]),this.mouseContainer.style.left=k.l+z[0]*k.w+"px",this.mouseContainer.style.top=k.t+(1-F[1])*k.h+"px";var O,B;for(B=0;B<2;++B)O=this[c[B]],O._length=D.viewBox[B+2]-D.viewBox[B],l(this.graphDiv,O),O.setScale();f(N),D.ticks=this.computeTickMarks(),D.dataBox=this.calcDataBox(),D.merge(o),_.update(D),this.glplot.draw()},E.calcDataBox=function(){var S=this.xaxis,w=this.yaxis,o=S.range,_=w.range,b=S.r2l,I=w.r2l;return[b(o[0]),I(_[0]),b(o[1]),I(_[1])]},E.setRanges=function(S){var w=this.xaxis,o=this.yaxis,_=w.l2r,b=o.l2r;w.range=[_(S[0]),_(S[2])],o.range=[b(S[1]),b(S[3])]},E.updateTraces=function(S,w){var o=Object.keys(this.traces),_,b,I;this.fullData=S;e:for(_=0;_<o.length;_++){var D=o[_],N=this.traces[D];for(b=0;b<S.length;b++)if(I=S[b],I.uid===D&&I.type===N.type)continue e;N.dispose(),delete this.traces[D]}for(_=0;_<S.length;_++){I=S[_];var k=w[_],z=this.traces[I.uid];z?z.update(I,k):(z=I._module.plot(this,I,k),this.traces[I.uid]=z)}this.glplot.objects.sort(function(F,O){return F._trace.index-O._trace.index})},E.updateFx=function(S){M(S)||h(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),S==="pan"?this.mouseContainer.style.cursor="move":S==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},E.emitPointAction=function(S,w){for(var o=S.trace.uid,_=S.pointIndex,b,I=0;I<this.fullData.length;I++)this.fullData[I].uid===o&&(b=this.fullData[I]);var D={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:b.index,pointNumber:_,data:b._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};n.appendArrayPointValue(D,b,_),this.graphDiv.emit(w,{points:[D]})},E.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,w=this.camera,o=w.mouseListener,_=this.lastButtonState===1&&o.buttons===0,b=this.fullLayout;this.lastButtonState=o.buttons,this.cameraChanged();var I=o.x*S.pixelRatio,D=this.canvas.height-S.pixelRatio*o.y,N;if(w.boxEnabled&&b.dragmode==="zoom"){this.selectBox.enabled=!0;for(var k=this.selectBox.selectBox=[Math.min(w.boxStart[0],w.boxEnd[0]),Math.min(w.boxStart[1],w.boxEnd[1]),Math.max(w.boxStart[0],w.boxEnd[0]),Math.max(w.boxStart[1],w.boxEnd[1])],z=0;z<2;z++)w.boxStart[z]===w.boxEnd[z]&&(k[z]=S.dataBox[z],k[z+2]=S.dataBox[z+2]);S.setDirty()}else if(!w.panning&&this.isMouseOver){this.selectBox.enabled=!1;var F=b._size,O=this.xaxis.domain,B=this.yaxis.domain;N=S.pick(I/S.pixelRatio+F.l+O[0]*F.w,D/S.pixelRatio-(F.t+(1-B[1])*F.h));var W=N&&N.object._trace.handlePick(N);if(W&&_&&this.emitPointAction(W,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&b.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var ee=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),ee.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(N.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(N.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(W,"plotly_hover");var ne=this.fullData[ee.trace.index]||{},Q=ee.pointIndex,le=n.castHoverinfo(ne,b,Q);if(le&&le!=="all"){var Z=le.split("+");Z.indexOf("x")===-1&&(ee.traceCoord[0]=void 0),Z.indexOf("y")===-1&&(ee.traceCoord[1]=void 0),Z.indexOf("z")===-1&&(ee.traceCoord[2]=void 0),Z.indexOf("text")===-1&&(ee.textLabel=void 0),Z.indexOf("name")===-1&&(ee.name=void 0)}n.loneHover({x:ee.screenCoord[0],y:ee.screenCoord[1],xLabel:this.hoverFormatter("xaxis",ee.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",ee.traceCoord[1]),zLabel:ee.traceCoord[2],text:ee.textLabel,name:ee.name,color:n.castHoverOption(ne,Q,"bgcolor")||ee.color,borderColor:n.castHoverOption(ne,Q,"bordercolor"),fontFamily:n.castHoverOption(ne,Q,"font.family"),fontSize:n.castHoverOption(ne,Q,"font.size"),fontColor:n.castHoverOption(ne,Q,"font.color"),nameLength:n.castHoverOption(ne,Q,"namelength"),textAlign:n.castHoverOption(ne,Q,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),S.draw()}},E.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),n.loneUnhover(this.svgContainer))},E.hoverFormatter=function(S,w){if(w!==void 0){var o=this[S];return L.tickText(o,o.c2l(w),"hover").text}}},12536:function(H,U,e){var p=e(67824).overrideAll,L=e(65460),n=e(98432),C=e(84888).op,T=e(3400),v=e(9616),g="gl3d",r="scene";U.name=g,U.attr=r,U.idRoot=r,U.idRegex=U.attrRegex=T.counterRegex("scene"),U.attributes=e(6636),U.layoutAttributes=e(346),U.baseLayoutAttrOverrides=p({hoverlabel:L.hoverlabel},"plot","nested"),U.supplyLayoutDefaults=e(5208),U.plot=function(s){for(var a=s._fullLayout,f=s._fullData,u=a._subplots[g],l=0;l<u.length;l++){var m=u[l],h=C(f,g,m),M=a[m],c=M.camera,i=M._scene;i||(i=new n({id:m,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:c},a),M._scene=i),i.viewInitial||(i.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),i.plot(h,a,s.layout)}},U.clean=function(t,s,a,f){for(var u=f._subplots[g]||[],l=0;l<u.length;l++){var m=u[l];!s[m]&&f[m]._scene&&(f[m]._scene.destroy(),f._infolayer&&f._infolayer.selectAll(".annotation-"+m).remove())}},U.toSVG=function(t){for(var s=t._fullLayout,a=s._subplots[g],f=s._size,u=0;u<a.length;u++){var l=s[a[u]],m=l.domain,h=l._scene,M=h.toImage("png"),c=s._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":M,x:f.l+f.w*m.x[0],y:f.t+f.h*(1-m.y[1]),width:f.w*(m.x[1]-m.x[0]),height:f.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),h.destroy()}},U.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var a=s.substr(5);return a==="1"&&(a=""),r+a}},U.updateFx=function(t){for(var s=t._fullLayout,a=s._subplots[g],f=0;f<a.length;f++){var u=s[a[f]]._scene;u.updateFx(s.dragmode,s.hovermode)}}},6636:function(H){H.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(H,U,e){var p=e(76308),L=e(94724),n=e(92880).extendFlat,C=e(67824).overrideAll;H.exports=C({visible:L.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:p.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:L.color,categoryorder:L.categoryorder,categoryarray:L.categoryarray,title:{text:L.title.text,font:L.title.font},type:n({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:L.autorange,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},rangemode:L.rangemode,minallowed:L.minallowed,maxallowed:L.maxallowed,range:n({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,mirror:L.mirror,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,tickfont:L.tickfont,tickangle:L.tickangle,tickprefix:L.tickprefix,showtickprefix:L.showtickprefix,ticksuffix:L.ticksuffix,showticksuffix:L.showticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickformat:L.tickformat,tickformatstops:L.tickformatstops,hoverformat:L.hoverformat,showline:L.showline,linecolor:L.linecolor,linewidth:L.linewidth,showgrid:L.showgrid,gridcolor:n({},L.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:L.gridwidth,zeroline:L.zeroline,zerolinecolor:L.zerolinecolor,zerolinewidth:L.zerolinewidth,_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}},"plot","from-root")},64380:function(H,U,e){var p=e(49760).mix,L=e(3400),n=e(31780),C=e(86140),T=e(14944),v=e(28336),g=["xaxis","yaxis","zaxis"],r=100*136/187;H.exports=function(s,a,f){var u,l;function m(c,i){return L.coerce(u,l,C,c,i)}for(var h=0;h<g.length;h++){var M=g[h];u=s[M]||{},l=n.newContainer(a,M),l._id=M[0]+f.scene,l._name=M,T(u,l,m,f),v(u,l,m,{font:f.font,letter:M[0],data:f.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout),m("gridcolor",p(l.color,f.bgColor,r).toRgbString()),m("title.text",M[0]),l.setScale=L.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",l.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},44728:function(H,U,e){var p=e(43080),L=e(3400),n=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var T=C.prototype;T.merge=function(g,r){for(var t=this,s=0;s<3;++s){var a=r[n[s]];if(!a.visible){t.tickEnable[s]=!1,t.labelEnable[s]=!1,t.lineEnable[s]=!1,t.lineTickEnable[s]=!1,t.gridEnable[s]=!1,t.zeroEnable[s]=!1,t.backgroundEnable[s]=!1;continue}t.labels[s]=g._meta?L.templateString(a.title.text,g._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(t.labelColor[s]=p(a.title.font.color)),a.title.font.family&&(t.labelFont[s]=a.title.font.family),a.title.font.size&&(t.labelSize[s]=a.title.font.size)),"showline"in a&&(t.lineEnable[s]=a.showline),"linecolor"in a&&(t.lineColor[s]=p(a.linecolor)),"linewidth"in a&&(t.lineWidth[s]=a.linewidth),"showgrid"in a&&(t.gridEnable[s]=a.showgrid),"gridcolor"in a&&(t.gridColor[s]=p(a.gridcolor)),"gridwidth"in a&&(t.gridWidth[s]=a.gridwidth),a.type==="log"?t.zeroEnable[s]=!1:"zeroline"in a&&(t.zeroEnable[s]=a.zeroline),"zerolinecolor"in a&&(t.zeroLineColor[s]=p(a.zerolinecolor)),"zerolinewidth"in a&&(t.zeroLineWidth[s]=a.zerolinewidth),"ticks"in a&&a.ticks?t.lineTickEnable[s]=!0:t.lineTickEnable[s]=!1,"ticklen"in a&&(t.lineTickLength[s]=t._defaultLineTickLength[s]=a.ticklen),"tickcolor"in a&&(t.lineTickColor[s]=p(a.tickcolor)),"tickwidth"in a&&(t.lineTickWidth[s]=a.tickwidth),"tickangle"in a&&(t.tickAngle[s]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(t.tickEnable[s]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(t.tickColor[s]=p(a.tickfont.color)),a.tickfont.family&&(t.tickFont[s]=a.tickfont.family),a.tickfont.size&&(t.tickSize[s]=a.tickfont.size)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(t.lineTickMirror[s]=!0,t.lineMirror[s]=!0):a.mirror===!0?(t.lineTickMirror[s]=!1,t.lineMirror[s]=!0):(t.lineTickMirror[s]=!1,t.lineMirror[s]=!1):t.lineMirror[s]=!1,"showbackground"in a&&a.showbackground!==!1?(t.backgroundEnable[s]=!0,t.backgroundColor[s]=p(a.backgroundcolor)):t.backgroundEnable[s]=!1}};function v(g,r){var t=new C;return t.merge(g,r),t}H.exports=v},5208:function(H,U,e){var p=e(3400),L=e(76308),n=e(24040),C=e(168),T=e(64380),v=e(346),g=e(84888).op,r="gl3d";H.exports=function(a,f,u){var l=f._basePlotModules.length>1;function m(h){if(!l){var M=p.validate(a[h],v[h]);if(M)return a[h]}}C(a,f,u,{type:r,attributes:v,handleDefaults:t,fullLayout:f,font:f.font,fullData:u,getDfltFromLayout:m,autotypenumbersDflt:f.autotypenumbers,paper_bgcolor:f.paper_bgcolor,calendar:f.calendar})};function t(s,a,f,u){for(var l=f("bgcolor"),m=L.combine(l,u.paper_bgcolor),h=["up","center","eye"],M=0;M<h.length;M++)f("camera."+h[M]+".x"),f("camera."+h[M]+".y"),f("camera."+h[M]+".z");f("camera.projection.type");var c=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z"),i=c?"manual":"auto",d=f("aspectmode",i);c||(s.aspectratio=a.aspectratio={x:1,y:1,z:1},d==="manual"&&(a.aspectmode="auto"),s.aspectmode=a.aspectmode);var x=g(u.fullData,r,u.id);T(s,a,{font:u.font,scene:u.id,data:x,bgColor:m,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),n.getComponentMethod("annotations3d","handleDefaults")(s,a,u);var A=u.getDfltFromLayout("dragmode");if(A!==!1&&!A)if(A="orbit",s.camera&&s.camera.up){var E=s.camera.up.x,y=s.camera.up.y,S=s.camera.up.z;S!==0&&(!E||!y||!S||S/Math.sqrt(E*E+y*y+S*S)>.999)&&(A="turntable")}else A="turntable";f("dragmode",A),f("hovermode",u.getDfltFromLayout("hovermode"))}},346:function(H,U,e){var p=e(86140),L=e(86968).u,n=e(92880).extendFlat,C=e(3400).counterRegex;function T(v,g,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:g,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}H.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:n(T(0,0,1),{}),center:n(T(0,0,0),{}),eye:n(T(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:L({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:p,yaxis:p,zaxis:p,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(H,U,e){var p=e(43080),L=["xaxis","yaxis","zaxis"];function n(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=n.prototype;C.merge=function(v){for(var g=0;g<3;++g){var r=v[L[g]];if(!r.visible){this.enabled[g]=!1,this.drawSides[g]=!1;continue}this.enabled[g]=r.showspikes,this.colors[g]=p(r.spikecolor),this.drawSides[g]=r.spikesides,this.lineWidth[g]=r.spikethickness}};function T(v){var g=new n;return g.merge(v),g}H.exports=T},87152:function(H,U,e){H.exports=T;var p=e(54460),L=e(3400),n=["xaxis","yaxis","zaxis"];function C(v){for(var g=new Array(3),r=0;r<3;++r){for(var t=v[r],s=new Array(t.length),a=0;a<t.length;++a)s[a]=t[a].x;g[r]=s}return g}function T(v){for(var g=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,s=[[],[],[]],a=0;a<3;++a){var f=t[n[a]];if(f._length=(r[a].hi-r[a].lo)*r[a].pixelsPerDataUnit/v.dataScale[a],Math.abs(f._length)===1/0||isNaN(f._length))s[a]=[];else{f._input_range=f.range.slice(),f.range[0]=r[a].lo/v.dataScale[a],f.range[1]=r[a].hi/v.dataScale[a],f._m=1/(v.dataScale[a]*r[a].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var u=f.tickmode;if(f.tickmode==="auto"){f.tickmode="linear";var l=f.nticks||L.constrain(f._length/40,4,9);p.autoTicks(f,Math.abs(f.range[1]-f.range[0])/l)}for(var m=p.calcTicks(f,{msUTC:!0}),h=0;h<m.length;++h)m[h].x=m[h].x*v.dataScale[a],f.type==="date"&&(m[h].text=m[h].text.replace(/\<br\>/g," "));s[a]=m,f.tickmode=u}}g.ticks=s;for(var a=0;a<3;++a){.5*(v.glplot.bounds[0][a]+v.glplot.bounds[1][a]);for(var h=0;h<2;++h)g.bounds[h][a]=v.glplot.bounds[h][a]}v.contourLevels=C(s)}},94424:function(H){function U(p,L){var n=[0,0,0,0],C,T;for(C=0;C<4;++C)for(T=0;T<4;++T)n[T]+=p[4*C+T]*L[C];return n}function e(p,L){var n=U(p.projection,U(p.view,U(p.model,[L[0],L[1],L[2],1])));return n}H.exports=e},98432:function(H,U,e){var p=e(67792).gl_plot3d,L=p.createCamera,n=p.createScene,C=e(5408),T=e(89184),v=e(24040),g=e(3400),r=g.preserveDrawingBuffer(),t=e(54460),s=e(93024),a=e(43080),f=e(16576),u=e(94424),l=e(44728),m=e(9020),h=e(87152),M=e(19280).applyAutorangeOptions,c,i,d=!1;function x(D,N){var k=document.createElement("div"),z=D.container;this.graphDiv=D.graphDiv;var F=document.createElementNS("http://www.w3.org/2000/svg","svg");F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",F.style["z-index"]=20,F.style["pointer-events"]="none",k.appendChild(F),this.svgContainer=F,k.id=D.id,k.style.position="absolute",k.style.top=k.style.left="0px",k.style.width=k.style.height="100%",z.appendChild(k),this.fullLayout=N,this.id=D.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(N,N[this.id]),this.spikeOptions=m(N[this.id]),this.container=k,this.staticMode=!!D.staticPlot,this.pixelRatio=this.pixelRatio||D.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var A=x.prototype;A.prepareOptions=function(){var D=this,N={canvas:D.canvas,gl:D.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:D.container,axes:D.axesOptions,spikes:D.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:D.camera,pixelRatio:D.pixelRatio};if(D.staticMode){if(!i&&(c=document.createElement("canvas"),i=C({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!i))throw new Error("error creating static canvas/context for image server");N.gl=i,N.canvas=c}return N};var E=!0;A.tryCreatePlot=function(){var D=this,N=D.prepareOptions(),k=!0;try{D.glplot=n(N)}catch{if(D.staticMode||!E||r)k=!1;else{g.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=N.glOptions.preserveDrawingBuffer=!0,D.glplot=n(N)}catch{r=N.glOptions.preserveDrawingBuffer=!1,k=!1}}}return E=!1,k},A.initializeGLCamera=function(){var D=this,N=D.fullSceneLayout.camera,k=N.projection.type==="orthographic";D.camera=L(D.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:k,zoomMin:.01,zoomMax:100,mode:"orbit"})},A.initializeGLPlot=function(){var D=this;D.initializeGLCamera();var N=D.tryCreatePlot();if(!N)return f(D);D.traces={},D.make4thDimension();var k=D.graphDiv,z=k.layout,F=function(){var B={};return D.isCameraChanged(z)&&(B[D.id+".camera"]=D.getCamera()),D.isAspectChanged(z)&&(B[D.id+".aspectratio"]=D.glplot.getAspectratio(),z[D.id].aspectmode!=="manual"&&(D.fullSceneLayout.aspectmode=z[D.id].aspectmode=B[D.id+".aspectmode"]="manual")),B},O=function(B){if(B.fullSceneLayout.dragmode!==!1){var W=F();B.saveLayout(z),B.graphDiv.emit("plotly_relayout",W)}};return D.glplot.canvas&&(D.glplot.canvas.addEventListener("mouseup",function(){O(D)}),D.glplot.canvas.addEventListener("touchstart",function(){d=!0}),D.glplot.canvas.addEventListener("wheel",function(B){if(k._context._scrollZoom.gl3d){if(D.camera._ortho){var W=B.deltaX>B.deltaY?1.1:.9090909090909091,ee=D.glplot.getAspectratio();D.glplot.setAspectratio({x:W*ee.x,y:W*ee.y,z:W*ee.z})}O(D)}},T?{passive:!1}:!1),D.glplot.canvas.addEventListener("mousemove",function(){if(D.fullSceneLayout.dragmode!==!1&&D.camera.mouseListener.buttons!==0){var B=F();D.graphDiv.emit("plotly_relayouting",B)}}),D.staticMode||D.glplot.canvas.addEventListener("webglcontextlost",function(B){k&&k.emit&&k.emit("plotly_webglcontextlost",{event:B,layer:D.id})},!1)),D.glplot.oncontextloss=function(){D.recoverContext()},D.glplot.onrender=function(){D.render()},!0},A.render=function(){var D=this,N=D.graphDiv,k,z=D.svgContainer,F=D.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var O=N._fullLayout._invScaleX,B=N._fullLayout._invScaleY,W=F.width*O,ee=F.height*B;z.setAttributeNS(null,"viewBox","0 0 "+W+" "+ee),z.setAttributeNS(null,"width",W),z.setAttributeNS(null,"height",ee),h(D),D.glplot.axes.update(D.axesOptions);for(var ne=Object.keys(D.traces),Q=null,le=D.glplot.selection,Z=0;Z<ne.length;++Z)k=D.traces[ne[Z]],k.data.hoverinfo!=="skip"&&k.handlePick(le)&&(Q=k),k.setContourLevels&&k.setContourLevels();function Y(Ie,Te,Le){var xe=D.fullSceneLayout[Ie+"axis"];return xe.type!=="log"&&(Te=xe.d2l(Te)),t.hoverLabelText(xe,Te,Le)}if(Q!==null){var re=u(D.glplot.cameraParams,le.dataCoordinate);k=Q.data;var X=N._fullData[k.index],q=le.index,se={xLabel:Y("x",le.traceCoordinate[0],k.xhoverformat),yLabel:Y("y",le.traceCoordinate[1],k.yhoverformat),zLabel:Y("z",le.traceCoordinate[2],k.zhoverformat)},$=s.castHoverinfo(X,D.fullLayout,q),j=($||"").split("+"),ue=$&&$==="all";!X.hovertemplate&&!ue&&(j.indexOf("x")===-1&&(se.xLabel=void 0),j.indexOf("y")===-1&&(se.yLabel=void 0),j.indexOf("z")===-1&&(se.zLabel=void 0),j.indexOf("text")===-1&&(le.textLabel=void 0),j.indexOf("name")===-1&&(Q.name=void 0));var ae,ce=[];k.type==="cone"||k.type==="streamtube"?(se.uLabel=Y("x",le.traceCoordinate[3],k.uhoverformat),(ue||j.indexOf("u")!==-1)&&ce.push("u: "+se.uLabel),se.vLabel=Y("y",le.traceCoordinate[4],k.vhoverformat),(ue||j.indexOf("v")!==-1)&&ce.push("v: "+se.vLabel),se.wLabel=Y("z",le.traceCoordinate[5],k.whoverformat),(ue||j.indexOf("w")!==-1)&&ce.push("w: "+se.wLabel),se.normLabel=le.traceCoordinate[6].toPrecision(3),(ue||j.indexOf("norm")!==-1)&&ce.push("norm: "+se.normLabel),k.type==="streamtube"&&(se.divergenceLabel=le.traceCoordinate[7].toPrecision(3),(ue||j.indexOf("divergence")!==-1)&&ce.push("divergence: "+se.divergenceLabel)),le.textLabel&&ce.push(le.textLabel),ae=ce.join("<br>")):k.type==="isosurface"||k.type==="volume"?(se.valueLabel=t.hoverLabelText(D._mockAxis,D._mockAxis.d2l(le.traceCoordinate[3]),k.valuehoverformat),ce.push("value: "+se.valueLabel),le.textLabel&&ce.push(le.textLabel),ae=ce.join("<br>")):ae=le.textLabel;var ye={x:le.traceCoordinate[0],y:le.traceCoordinate[1],z:le.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:q};s.appendArrayPointValue(ye,X,q),k._module.eventData&&(ye=X._module.eventData(ye,le,X,{},q));var Ce={points:[ye]};if(D.fullSceneLayout.hovermode){var Ae=[];s.loneHover({trace:X,x:(.5+.5*re[0]/re[3])*W,y:(.5-.5*re[1]/re[3])*ee,xLabel:se.xLabel,yLabel:se.yLabel,zLabel:se.zLabel,text:ae,name:Q.name,color:s.castHoverOption(X,q,"bgcolor")||Q.color,borderColor:s.castHoverOption(X,q,"bordercolor"),fontFamily:s.castHoverOption(X,q,"font.family"),fontSize:s.castHoverOption(X,q,"font.size"),fontColor:s.castHoverOption(X,q,"font.color"),nameLength:s.castHoverOption(X,q,"namelength"),textAlign:s.castHoverOption(X,q,"align"),hovertemplate:g.castOption(X,q,"hovertemplate"),hovertemplateLabels:g.extendFlat({},ye,se),eventData:[ye]},{container:z,gd:N,inOut_bbox:Ae}),ye.bbox=Ae[0]}le.distance<5&&(le.buttons||d)?N.emit("plotly_click",Ce):N.emit("plotly_hover",Ce),this.oldEventData=Ce}else s.loneUnhover(z),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;D.drawAnnotations(D)},A.recoverContext=function(){var D=this;D.glplot.dispose();var N=function(){if(D.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!D.initializeGLPlot()){g.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}D.plot.apply(D,D.plotArgs)};requestAnimationFrame(N)};var y=["xaxis","yaxis","zaxis"];function S(D,N,k){for(var z=D.fullSceneLayout,F=0;F<3;F++){var O=y[F],B=O.charAt(0),W=z[O],ee=N[B],ne=N[B+"calendar"],Q=N["_"+B+"length"];if(!g.isArrayOrTypedArray(ee))k[0][F]=Math.min(k[0][F],0),k[1][F]=Math.max(k[1][F],Q-1);else for(var le,Z=0;Z<(Q||ee.length);Z++)if(g.isArrayOrTypedArray(ee[Z]))for(var Y=0;Y<ee[Z].length;++Y)le=W.d2l(ee[Z][Y],0,ne),!isNaN(le)&&isFinite(le)&&(k[0][F]=Math.min(k[0][F],le),k[1][F]=Math.max(k[1][F],le));else le=W.d2l(ee[Z],0,ne),!isNaN(le)&&isFinite(le)&&(k[0][F]=Math.min(k[0][F],le),k[1][F]=Math.max(k[1][F],le))}}function w(D,N){for(var k=D.fullSceneLayout,z=k.annotations||[],F=0;F<3;F++)for(var O=y[F],B=O.charAt(0),W=k[O],ee=0;ee<z.length;ee++){var ne=z[ee];if(ne.visible){var Q=W.r2l(ne[B]);!isNaN(Q)&&isFinite(Q)&&(N[0][F]=Math.min(N[0][F],Q),N[1][F]=Math.max(N[1][F],Q))}}}A.plot=function(D,N,k){var z=this;if(z.plotArgs=[D,N,k],!z.glplot.contextLost){var F,O,B,W,ee,ne,Q=N[z.id],le=k[z.id];z.fullLayout=N,z.fullSceneLayout=Q,z.axesOptions.merge(N,Q),z.spikeOptions.merge(Q),z.setViewport(Q),z.updateFx(Q.dragmode,Q.hovermode),z.camera.enableWheel=z.graphDiv._context._scrollZoom.gl3d,z.glplot.setClearColor(a(Q.bgcolor)),z.setConvert(ee),D?Array.isArray(D)||(D=[D]):D=[];var Z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(B=0;B<D.length;++B)F=D[B],!(F.visible!==!0||F._length===0)&&S(this,F,Z);w(this,Z);var Y=[1,1,1];for(W=0;W<3;++W)Z[1][W]===Z[0][W]?Y[W]=1:Y[W]=1/(Z[1][W]-Z[0][W]);for(z.dataScale=Y,z.convertAnnotations(this),B=0;B<D.length;++B)F=D[B],!(F.visible!==!0||F._length===0)&&(O=z.traces[F.uid],O?O.data.type===F.type?O.update(F):(O.dispose(),O=F._module.plot(this,F),z.traces[F.uid]=O):(O=F._module.plot(this,F),z.traces[F.uid]=O),O.name=F.name);var re=Object.keys(z.traces);e:for(B=0;B<re.length;++B){for(W=0;W<D.length;++W)if(D[W].uid===re[B]&&D[W].visible===!0&&D[W]._length!==0)continue e;O=z.traces[re[B]],O.dispose(),delete z.traces[re[B]]}z.glplot.objects.sort(function(ht,rt){return ht._trace.data.index-rt._trace.data.index});var X=[[0,0,0],[0,0,0]],q={};for(B=0;B<3;++B){ee=Q[y[B]],ne=ee.type,ne in q?(q[ne].acc*=Y[B],q[ne].count+=1):q[ne]={acc:Y[B],count:1};var se;if(ee.autorange){X[0][B]=1/0,X[1][B]=-1/0;var $=z.glplot.objects,j=z.fullSceneLayout.annotations||[],ue=ee._name.charAt(0);for(W=0;W<$.length;W++){var ae=$[W],ce=ae.bounds,ye=ae._trace.data._pad||0;ae.constructor.name==="ErrorBars"&&ee._lowerLogErrorBound?X[0][B]=Math.min(X[0][B],ee._lowerLogErrorBound):X[0][B]=Math.min(X[0][B],ce[0][B]/Y[B]-ye),X[1][B]=Math.max(X[1][B],ce[1][B]/Y[B]+ye)}for(W=0;W<j.length;W++){var Ce=j[W];if(Ce.visible){var Ae=ee.r2l(Ce[ue]);X[0][B]=Math.min(X[0][B],Ae),X[1][B]=Math.max(X[1][B],Ae)}}if("rangemode"in ee&&ee.rangemode==="tozero"&&(X[0][B]=Math.min(X[0][B],0),X[1][B]=Math.max(X[1][B],0)),X[0][B]>X[1][B])X[0][B]=-1,X[1][B]=1;else{var Ie=X[1][B]-X[0][B];X[0][B]-=Ie/32,X[1][B]+=Ie/32}if(se=[X[0][B],X[1][B]],se=M(se,ee),X[0][B]=se[0],X[1][B]=se[1],ee.isReversed()){var Te=X[0][B];X[0][B]=X[1][B],X[1][B]=Te}}else se=ee.range,X[0][B]=ee.r2l(se[0]),X[1][B]=ee.r2l(se[1]);X[0][B]===X[1][B]&&(X[0][B]-=1,X[1][B]+=1),ee.range=[X[0][B],X[1][B]],ee.limitRange(),z.glplot.setBounds(B,{min:ee.range[0]*Y[B],max:ee.range[1]*Y[B]})}var Le,xe=Q.aspectmode;if(xe==="cube")Le=[1,1,1];else if(xe==="manual"){var Re=Q.aspectratio;Le=[Re.x,Re.y,Re.z]}else if(xe==="auto"||xe==="data"){var He=[1,1,1];for(B=0;B<3;++B){ee=Q[y[B]],ne=ee.type;var Ve=q[ne];He[B]=Math.pow(Ve.acc,1/Ve.count)/Y[B]}xe==="data"||Math.max.apply(null,He)/Math.min.apply(null,He)<=4?Le=He:Le=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");Q.aspectratio.x=le.aspectratio.x=Le[0],Q.aspectratio.y=le.aspectratio.y=Le[1],Q.aspectratio.z=le.aspectratio.z=Le[2],z.glplot.setAspectratio(Q.aspectratio),z.viewInitial.aspectratio||(z.viewInitial.aspectratio={x:Q.aspectratio.x,y:Q.aspectratio.y,z:Q.aspectratio.z}),z.viewInitial.aspectmode||(z.viewInitial.aspectmode=Q.aspectmode);var Fe=Q.domain||null,We=N._size||null;if(Fe&&We){var ut=z.container.style;ut.position="absolute",ut.left=We.l+Fe.x[0]*We.w+"px",ut.top=We.t+(1-Fe.y[1])*We.h+"px",ut.width=We.w*(Fe.x[1]-Fe.x[0])+"px",ut.height=We.h*(Fe.y[1]-Fe.y[0])+"px"}z.glplot.redraw()}},A.destroy=function(){var D=this;D.glplot&&(D.camera.mouseListener.enabled=!1,D.container.removeEventListener("wheel",D.camera.wheelListener),D.camera=null,D.glplot.dispose(),D.container.parentNode.removeChild(D.container),D.glplot=null)};function o(D){return[[D.eye.x,D.eye.y,D.eye.z],[D.center.x,D.center.y,D.center.z],[D.up.x,D.up.y,D.up.z]]}function _(D){return{up:{x:D.up[0],y:D.up[1],z:D.up[2]},center:{x:D.center[0],y:D.center[1],z:D.center[2]},eye:{x:D.eye[0],y:D.eye[1],z:D.eye[2]},projection:{type:D._ortho===!0?"orthographic":"perspective"}}}A.getCamera=function(){var D=this;return D.camera.view.recalcMatrix(D.camera.view.lastT()),_(D.camera)},A.setViewport=function(D){var N=this,k=D.camera;N.camera.lookAt.apply(this,o(k)),N.glplot.setAspectratio(D.aspectratio);var z=k.projection.type==="orthographic",F=N.camera._ortho;z!==F&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},A.isCameraChanged=function(D){var N=this,k=N.getCamera(),z=g.nestedProperty(D,N.id+".camera"),F=z.get();function O(ne,Q,le,Z){var Y=["up","center","eye"],re=["x","y","z"];return Q[Y[le]]&&ne[Y[le]][re[Z]]===Q[Y[le]][re[Z]]}var B=!1;if(F===void 0)B=!0;else{for(var W=0;W<3;W++)for(var ee=0;ee<3;ee++)if(!O(k,F,W,ee)){B=!0;break}(!F.projection||k.projection&&k.projection.type!==F.projection.type)&&(B=!0)}return B},A.isAspectChanged=function(D){var N=this,k=N.glplot.getAspectratio(),z=g.nestedProperty(D,N.id+".aspectratio"),F=z.get();return F===void 0||F.x!==k.x||F.y!==k.y||F.z!==k.z},A.saveLayout=function(D){var N=this,k=N.fullLayout,z,F,O,B,W,ee,ne=N.isCameraChanged(D),Q=N.isAspectChanged(D),le=ne||Q;if(le){var Z={};if(ne&&(z=N.getCamera(),F=g.nestedProperty(D,N.id+".camera"),O=F.get(),Z[N.id+".camera"]=O),Q&&(B=N.glplot.getAspectratio(),W=g.nestedProperty(D,N.id+".aspectratio"),ee=W.get(),Z[N.id+".aspectratio"]=ee),v.call("_storeDirectGUIEdit",D,k._preGUI,Z),ne){F.set(z);var Y=g.nestedProperty(k,N.id+".camera");Y.set(z)}if(Q){W.set(B);var re=g.nestedProperty(k,N.id+".aspectratio");re.set(B),N.glplot.redraw()}}return le},A.updateFx=function(D,N){var k=this,z=k.camera;if(z)if(D==="orbit")z.mode="orbit",z.keyBindingMode="rotate";else if(D==="turntable"){z.up=[0,0,1],z.mode="turntable",z.keyBindingMode="rotate";var F=k.graphDiv,O=F._fullLayout,B=k.fullSceneLayout.camera,W=B.up.x,ee=B.up.y,ne=B.up.z;if(ne/Math.sqrt(W*W+ee*ee+ne*ne)<.999){var Q=k.id+".camera.up",le={x:0,y:0,z:1},Z={};Z[Q]=le;var Y=F.layout;v.call("_storeDirectGUIEdit",Y,O._preGUI,Z),B.up=le,g.nestedProperty(Y,Q).set(le)}}else z.keyBindingMode=D;k.fullSceneLayout.hovermode=N};function b(D,N,k){for(var z=0,F=k-1;z<F;++z,--F)for(var O=0;O<N;++O)for(var B=0;B<4;++B){var W=4*(N*z+O)+B,ee=4*(N*F+O)+B,ne=D[W];D[W]=D[ee],D[ee]=ne}}function I(D,N,k){for(var z=0;z<k;++z)for(var F=0;F<N;++F){var O=4*(N*z+F),B=D[O+3];if(B>0)for(var W=255/B,ee=0;ee<3;++ee)D[O+ee]=Math.min(W*D[O+ee],255)}}A.toImage=function(D){var N=this;D||(D="png"),N.staticMode&&N.container.appendChild(c),N.glplot.redraw();var k=N.glplot.gl,z=k.drawingBufferWidth,F=k.drawingBufferHeight;k.bindFramebuffer(k.FRAMEBUFFER,null);var O=new Uint8Array(z*F*4);k.readPixels(0,0,z,F,k.RGBA,k.UNSIGNED_BYTE,O),b(O,z,F),I(O,z,F);var B=document.createElement("canvas");B.width=z,B.height=F;var W=B.getContext("2d",{willReadFrequently:!0}),ee=W.createImageData(z,F);ee.data.set(O),W.putImageData(ee,0,0);var ne;switch(D){case"jpeg":ne=B.toDataURL("image/jpeg");break;case"webp":ne=B.toDataURL("image/webp");break;default:ne=B.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(c),ne},A.setConvert=function(){for(var D=this,N=0;N<3;N++){var k=D.fullSceneLayout[y[N]];t.setConvert(k,D.fullLayout),k.setScale=g.noop}},A.make4thDimension=function(){var D=this,N=D.graphDiv,k=N._fullLayout;D._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(D._mockAxis,k)},H.exports=x},52094:function(H){H.exports=function(e,p,L,n){n=n||e.length;for(var C=new Array(n),T=0;T<n;T++)C[T]=[e[T],p[T],L[T]];return C}},64859:function(H,U,e){var p=e(25376),L=e(85656),n=e(22548),C=e(92872),T=e(34200),v=e(66741),g=e(92880).extendFlat,r=p({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=n.defaultLine,H.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:g(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:T.newselection,activeselection:T.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:g({},L.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},47552:function(H,U,e){var p=e(95376),L="1.13.4",n=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=[' <a target="_blank" href="https://carto.com/">Carto</a>',n].join(" "),T=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),g={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:n,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:T,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:T,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=p(g);H.exports={requiredVersion:L,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:g,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+L+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(H,U,e){var p=e(3400);H.exports=function(n,C){var T=n.split(" "),v=T[0],g=T[1],r=p.isArrayOrTypedArray(C)?p.mean(C):C,t=.5+r/100,s=1.5+r/100,a=["",""],f=[0,0];switch(v){case"top":a[0]="top",f[1]=-s;break;case"bottom":a[0]="bottom",f[1]=s;break}switch(g){case"left":a[1]="right",f[0]=-t;break;case"right":a[1]="left",f[0]=t;break}var u;return a[0]&&a[1]?u=a.join("-"):a[0]?u=a[0]:a[1]?u=a[1]:u="center",{anchor:u,offset:f}}},33688:function(H,U,e){var p=e(3480),L=e(3400),n=L.strTranslate,C=L.strScale,T=e(84888).KY,v=e(9616),g=e(33428),r=e(43616),t=e(72736),s=e(14440),a="mapbox",f=U.constants=e(47552);U.name=a,U.attr="subplot",U.idRoot=a,U.idRegex=U.attrRegex=L.counterRegex(a),U.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},U.layoutAttributes=e(5232),U.supplyLayoutDefaults=e(5976),U.plot=function(h){var M=h._fullLayout,c=h.calcdata,i=M._subplots[a];if(p.version!==f.requiredVersion)throw new Error(f.wrongVersionErrorMsg);var d=u(h,i);p.accessToken=d;for(var x=0;x<i.length;x++){var A=i[x],E=T(c,a,A),y=M[A],S=y._subplot;S||(S=new s(h,A),M[A]._subplot=S),S.viewInitial||(S.viewInitial={center:L.extendFlat({},y.center),zoom:y.zoom,bearing:y.bearing,pitch:y.pitch}),S.plot(E,M,h._promises)}},U.clean=function(m,h,M,c){for(var i=c._subplots[a]||[],d=0;d<i.length;d++){var x=i[d];!h[x]&&c[x]._subplot&&c[x]._subplot.destroy()}},U.toSVG=function(m){for(var h=m._fullLayout,M=h._subplots[a],c=h._size,i=0;i<M.length;i++){var d=h[M[i]],x=d.domain,A=d._subplot,E=A.toImage("png"),y=h._glimages.append("svg:image");y.attr({xmlns:v.svg,"xlink:href":E,x:c.l+c.w*x.x[0],y:c.t+c.h*(1-x.y[1]),width:c.w*(x.x[1]-x.x[0]),height:c.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var S=g.select(d._subplot.div),w=S.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!w){var o=h._glimages.append("g");o.attr("transform",n(c.l+c.w*x.x[0]+10,c.t+c.h*(1-x.y[0])-31)),o.append("path").attr("d",f.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),o.append("path").attr("d",f.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),o.append("path").attr("d",f.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),o.append("polygon").attr("points",f.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var _=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),b=h._glimages.append("g"),I=b.append("text");I.text(_).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":_});var D=r.bBox(I.node()),N=c.w*(x.x[1]-x.x[0]);if(D.width>N/2){var k=_.split("|").join("<br>");I.text(k).attr("data-unformatted",k).call(t.convertToTspans,m),D=r.bBox(I.node())}I.attr("transform",n(-3,-D.height+8)),b.insert("rect",".static-attribution").attr({x:-D.width-6,y:-D.height-3,width:D.width+6,height:D.height+3,fill:"rgba(255, 255, 255, 0.75)"});var z=1;D.width+6>N&&(z=N/(D.width+6));var F=[c.l+c.w*x.x[1],c.t+c.h*(1-x.y[0])];b.attr("transform",n(F[0],F[1])+C(z))}};function u(m,h){var M=m._fullLayout,c=m._context;if(c.mapboxAccessToken==="")return"";for(var i=[],d=[],x=!1,A=!1,E=0;E<h.length;E++){var y=M[h[E]],S=y.accesstoken;l(y.style)&&(S?L.pushUnique(i,S):(l(y._input.style)&&(L.error("Uses Mapbox map style, but did not set an access token."),x=!0),A=!0)),S&&L.pushUnique(d,S)}if(A){var w=x?f.noAccessTokenErrorMsg:f.missingStyleErrorMsg;throw L.error(w),new Error(w)}return i.length?(i.length>1&&L.warn(f.multipleTokensErrorMsg),i[0]):(d.length&&L.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(m){return typeof m=="string"&&(f.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0||m.indexOf("stamen")===0)}U.updateFx=function(m){for(var h=m._fullLayout,M=h._subplots[a],c=0;c<M.length;c++){var i=h[M[c]]._subplot;i.updateFx(h)}}},22360:function(H,U,e){var p=e(3400),L=e(72736).sanitizeHTML,n=e(89032),C=e(47552);function T(s,a){this.subplot=s,this.uid=s.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=T.prototype;v.update=function(a){this.visible?this.needsNewImage(a)?this.updateImage(a):this.needsNewSource(a)?(this.removeLayer(),this.updateSource(a),this.updateLayer(a)):this.needsNewLayer(a)?this.updateLayer(a):this.updateStyle(a):(this.updateSource(a),this.updateLayer(a)),this.visible=g(a)},v.needsNewImage=function(s){var a=this.subplot.map;return a.getSource(this.idSource)&&this.sourceType==="image"&&s.sourcetype==="image"&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},v.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},v.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(s){var a=this.subplot.map;a.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var f=this.findFollowingMapboxLayerId(this.lookupBelow());f!==null&&this.subplot.map.moveLayer(this.idLayer,f)},v.updateSource=function(s){var a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,!!g(s)){var f=t(s);a.addSource(this.idSource,f)}},v.findFollowingMapboxLayerId=function(s){if(s==="traces")for(var a=this.subplot.getMapLayers(),f=0;f<a.length;f++){var u=a[f].id;if(typeof u=="string"&&u.indexOf(C.traceLayerPrefix)===0){s=u;break}}return s},v.updateLayer=function(s){var a=this.subplot,f=r(s),u=this.lookupBelow(),l=this.findFollowingMapboxLayerId(u);this.removeLayer(),g(s)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:f.layout,paint:f.paint},l),this.layerType=s.type,this.below=u},v.updateStyle=function(s){if(g(s)){var a=r(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},v.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},v.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)};function g(s){if(!s.visible)return!1;var a=s.source;if(Array.isArray(a)&&a.length>0){for(var f=0;f<a.length;f++)if(typeof a[f]!="string"||a[f].length===0)return!1;return!0}return p.isPlainObject(a)||typeof a=="string"&&a.length>0}function r(s){var a={},f={};switch(s.type){case"circle":p.extendFlat(f,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":p.extendFlat(f,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":p.extendFlat(f,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var u=s.symbol,l=n(u.textposition,u.iconsize);p.extendFlat(a,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":u.placement}),p.extendFlat(f,{"icon-color":s.color,"text-color":u.textfont.color,"text-opacity":s.opacity});break;case"raster":p.extendFlat(f,{"raster-fade-duration":0,"raster-opacity":s.opacity});break}return{layout:a,paint:f}}function t(s){var a=s.sourcetype,f=s.source,u={type:a},l;return a==="geojson"?l="data":a==="vector"?l=typeof f=="string"?"url":"tiles":a==="raster"?(l="tiles",u.tileSize=256):a==="image"&&(l="url",u.coordinates=s.coordinates),u[l]=f,s.sourceattribution&&(u.attribution=L(s.sourceattribution)),u}H.exports=function(a,f,u){var l=new T(a,f);return l.update(u),l}},5232:function(H,U,e){var p=e(3400),L=e(76308).defaultLine,n=e(86968).u,C=e(25376),T=e(52904).textposition,v=e(67824).overrideAll,g=e(31780).templatedArray,r=e(47552),t=C({});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var s=H.exports=v({_arrayAttrRegexps:[p.counterRegex("mapbox",".layers",!0)],domain:n({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:g("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:L},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:L}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:p.extendFlat({},T,{arrayOk:!1})}})},"plot","from-root");s.uirevision={valType:"any",editType:"none"}},5976:function(H,U,e){var p=e(3400),L=e(168),n=e(51272),C=e(5232);H.exports=function(r,t,s){L(r,t,s,{type:"mapbox",attributes:C,handleDefaults:T,partition:"y",accessToken:t._mapboxAccessToken})};function T(g,r,t,s){t("accesstoken",s.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var a=t("bounds.west"),f=t("bounds.east"),u=t("bounds.south"),l=t("bounds.north");(a===void 0||f===void 0||u===void 0||l===void 0)&&delete r.bounds,n(g,r,{name:"layers",handleItemDefaults:v}),r._input=g}function v(g,r){function t(m,h){return p.coerce(g,r,C.layers,m,h)}var s=t("visible");if(s){var a=t("sourcetype"),f=a==="raster"||a==="image";t("source"),t("sourceattribution"),a==="vector"&&t("sourcelayer"),a==="image"&&t("coordinates");var u;f&&(u="raster");var l=t("type",u);f&&l!=="raster"&&(l=r.type="raster",p.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),p.coerceFont(t,"symbol.textfont"),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(H,U,e){var p=e(3480),L=e(3400),n=e(27144),C=e(24040),T=e(54460),v=e(86476),g=e(93024),r=e(72760),t=r.drawMode,s=r.selectMode,a=e(22676).prepSelect,f=e(22676).clearOutline,u=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,m=e(47552),h=e(22360);function M(E,y){this.id=y,this.gd=E;var S=E._fullLayout,w=E._context;this.container=S._glcontainer.node(),this.isStatic=w.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=M.prototype;c.plot=function(E,y,S){var w=this,o=y[w.id];w.map&&o.accesstoken!==w.accessToken&&(w.map.remove(),w.map=null,w.styleObj=null,w.traceHash={},w.layerList=[]);var _;w.map?_=new Promise(function(b,I){w.updateMap(E,y,b,I)}):_=new Promise(function(b,I){w.createMap(E,y,b,I)}),S.push(_)},c.createMap=function(E,y,S,w){var o=this,_=y[o.id],b=o.styleObj=d(_.style,y);o.accessToken=_.accesstoken;var I=_.bounds,D=I?[[I.west,I.south],[I.east,I.north]]:null,N=o.map=new p.Map({container:o.div,style:b.style,center:A(_.center),zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,maxBounds:D,interactive:!o.isStatic,preserveDrawingBuffer:o.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new p.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",o.rejectOnError(w),o.isStatic||o.initFx(E,y);var k=[];k.push(new Promise(function(z){N.once("load",z)})),k=k.concat(n.fetchTraceGeoData(E)),Promise.all(k).then(function(){o.fillBelowLookup(E,y),o.updateData(E),o.updateLayout(y),o.resolveOnRender(S)}).catch(w)},c.updateMap=function(E,y,S,w){var o=this,_=o.map,b=y[this.id];o.rejectOnError(w);var I=[],D=d(b.style,y);JSON.stringify(o.styleObj)!==JSON.stringify(D)&&(o.styleObj=D,_.setStyle(D.style),o.traceHash={},I.push(new Promise(function(N){_.once("styledata",N)}))),I=I.concat(n.fetchTraceGeoData(E)),Promise.all(I).then(function(){o.fillBelowLookup(E,y),o.updateData(E),o.updateLayout(y),o.resolveOnRender(S)}).catch(w)},c.fillBelowLookup=function(E,y){var S=y[this.id],w=S.layers,o,_,b=this.belowLookup={},I=!1;for(o=0;o<E.length;o++){var D=E[o][0].trace,N=D._module;typeof D.below=="string"?_=D.below:N.getBelow&&(_=N.getBelow(D,this)),_===""&&(I=!0),b["trace-"+D.uid]=_||""}for(o=0;o<w.length;o++){var k=w[o];typeof k.below=="string"?_=k.below:I?_="traces":_="",b["layout-"+o]=_}var z={},F,O;for(F in b)_=b[F],z[_]?z[_].push(F):z[_]=[F];for(_ in z){var B=z[_];if(B.length>1)for(o=0;o<B.length;o++)F=B[o],F.indexOf("trace-")===0?(O=F.split("trace-")[1],this.traceHash[O]&&(this.traceHash[O].below=null)):F.indexOf("layout-")===0&&(O=F.split("layout-")[1],this.layerList[O]&&(this.layerList[O].below=null))}};var i={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(E){var y=this.traceHash,S,w,o,_,b=E.slice().sort(function(z,F){return i[z[0].trace.type]-i[F[0].trace.type]});for(o=0;o<b.length;o++){var I=b[o];w=I[0].trace,S=y[w.uid];var D=!1;S&&(S.type===w.type?(S.update(I),D=!0):S.dispose()),!D&&w._module&&(y[w.uid]=w._module.plot(this,I))}var N=Object.keys(y);e:for(o=0;o<N.length;o++){var k=N[o];for(_=0;_<E.length;_++)if(w=E[_][0].trace,k===w.uid)continue e;S=y[k],S.dispose(),delete y[k]}},c.updateLayout=function(E){var y=this.map,S=E[this.id];!this.dragging&&!this.wheeling&&(y.setCenter(A(S.center)),y.setZoom(S.zoom),y.setBearing(S.bearing),y.setPitch(S.pitch)),this.updateLayers(E),this.updateFramework(E),this.updateFx(E),this.map.resize(),this.gd._context._scrollZoom.mapbox?y.scrollZoom.enable():y.scrollZoom.disable()},c.resolveOnRender=function(E){var y=this.map;y.on("render",function S(){y.loaded()&&(y.off("render",S),setTimeout(E,10))})},c.rejectOnError=function(E){var y=this.map;function S(){E(new Error(m.mapOnErrorMsg))}y.once("error",S),y.once("style.error",S),y.once("source.error",S),y.once("tile.error",S),y.once("layer.error",S)},c.createFramework=function(E){var y=this,S=y.div=document.createElement("div");S.id=y.uid,S.style.position="absolute",y.container.appendChild(S),y.xaxis={_id:"x",c2p:function(w){return y.project(w).x}},y.yaxis={_id:"y",c2p:function(w){return y.project(w).y}},y.updateFramework(E),y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},T.setConvert(y.mockAxis,E)},c.initFx=function(E,y){var S=this,w=S.gd,o=S.map;o.on("moveend",function(I){if(S.map){var D=w._fullLayout;if(I.originalEvent||S.wheeling){var N=D[S.id];C.call("_storeDirectGUIEdit",w.layout,D._preGUI,S.getViewEdits(N));var k=S.getView();N._input.center=N.center=k.center,N._input.zoom=N.zoom=k.zoom,N._input.bearing=N.bearing=k.bearing,N._input.pitch=N.pitch=k.pitch,w.emit("plotly_relayout",S.getViewEditsWithDerived(k))}I.originalEvent&&I.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),D._rehover&&D._rehover()}}),o.on("wheel",function(){S.wheeling=!0}),o.on("mousemove",function(I){var D=S.div.getBoundingClientRect(),N=[I.originalEvent.offsetX,I.originalEvent.offsetY];I.target.getBoundingClientRect=function(){return D},S.xaxis.p2c=function(){return o.unproject(N).lng},S.yaxis.p2c=function(){return o.unproject(N).lat},w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===S.id&&w._fullLayout[S.id]&&g.hover(w,I,S.id)},g.hover(w,I,S.id),w._fullLayout._hoversubplot=S.id});function _(){g.loneUnhover(y._hoverlayer)}o.on("dragstart",function(){S.dragging=!0,_()}),o.on("zoomstart",_),o.on("mouseout",function(){w._fullLayout._hoversubplot=null});function b(){var I=S.getView();w.emit("plotly_relayouting",S.getViewEditsWithDerived(I))}o.on("drag",b),o.on("zoom",b),o.on("dblclick",function(){var I=w._fullLayout[S.id];C.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,S.getViewEdits(I));var D=S.viewInitial;o.setCenter(A(D.center)),o.setZoom(D.zoom),o.setBearing(D.bearing),o.setPitch(D.pitch);var N=S.getView();I._input.center=I.center=N.center,I._input.zoom=I.zoom=N.zoom,I._input.bearing=I.bearing=N.bearing,I._input.pitch=I.pitch=N.pitch,w.emit("plotly_doubleclick",null),w.emit("plotly_relayout",S.getViewEditsWithDerived(N))}),S.clearOutline=function(){u(S.dragOptions),f(S.dragOptions.gd)},S.onClickInPanFn=function(I){return function(D){var N=w._fullLayout.clickmode;N.indexOf("select")>-1&&l(D.originalEvent,w,[S.xaxis],[S.yaxis],S.id,I),N.indexOf("event")>-1&&g.click(w,D.originalEvent)}}},c.updateFx=function(E){var y=this,S=y.map,w=y.gd;if(y.isStatic)return;function o(D){var N=y.map.unproject(D);return[N.lng,N.lat]}var _=E.dragmode,b;b=function(D,N){if(N.isRect){var k=D.range={};k[y.id]=[o([N.xmin,N.ymin]),o([N.xmax,N.ymax])]}else{var z=D.lassoPoints={};z[y.id]=N.map(o)}};var I=y.dragOptions;y.dragOptions=L.extendDeep(I||{},{dragmode:E.dragmode,element:y.div,gd:w,plotinfo:{id:y.id,domain:E[y.id].domain,xaxis:y.xaxis,yaxis:y.yaxis,fillRangeItems:b},xaxes:[y.xaxis],yaxes:[y.yaxis],subplot:y.id}),S.off("click",y.onClickInPanHandler),s(_)||t(_)?(S.dragPan.disable(),S.on("zoomstart",y.clearOutline),y.dragOptions.prepFn=function(D,N,k){a(D,N,k,y.dragOptions,_)},v.init(y.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",y.clearOutline),y.div.onmousedown=null,y.div.ontouchstart=null,y.div.removeEventListener("touchstart",y.div._ontouchstart),y.onClickInPanHandler=y.onClickInPanFn(y.dragOptions),S.on("click",y.onClickInPanHandler))},c.updateFramework=function(E){var y=E[this.id].domain,S=E._size,w=this.div.style;w.width=S.w*(y.x[1]-y.x[0])+"px",w.height=S.h*(y.y[1]-y.y[0])+"px",w.left=S.l+y.x[0]*S.w+"px",w.top=S.t+(1-y.y[1])*S.h+"px",this.xaxis._offset=S.l+y.x[0]*S.w,this.xaxis._length=S.w*(y.x[1]-y.x[0]),this.yaxis._offset=S.t+(1-y.y[1])*S.h,this.yaxis._length=S.h*(y.y[1]-y.y[0])},c.updateLayers=function(E){var y=E[this.id],S=y.layers,w=this.layerList,o;if(S.length!==w.length){for(o=0;o<w.length;o++)w[o].dispose();for(w=this.layerList=[],o=0;o<S.length;o++)w.push(h(this,o,S[o]))}else for(o=0;o<S.length;o++)w[o].update(S[o])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(E,y,S){for(var w in S)this.map[y](E,w,S[w])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(E,y){var S=this.map;if(typeof y=="string"){if(y===""){S.addLayer(E,y);return}for(var w=this.getMapLayers(),o=0;o<w.length;o++)if(y===w[o].id){S.addLayer(E,y);return}L.warn(["Trying to add layer with *below* value",y,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(E)},c.project=function(E){return this.map.project(new p.LngLat(E[0],E[1]))},c.getView=function(){var E=this.map,y=E.getCenter(),S=y.lng,w=y.lat,o={lon:S,lat:w},_=E.getCanvas(),b=parseInt(_.style.width),I=parseInt(_.style.height);return{center:o,zoom:E.getZoom(),bearing:E.getBearing(),pitch:E.getPitch(),_derived:{coordinates:[E.unproject([0,0]).toArray(),E.unproject([b,0]).toArray(),E.unproject([b,I]).toArray(),E.unproject([0,I]).toArray()]}}},c.getViewEdits=function(E){for(var y=this.id,S=["center","zoom","bearing","pitch"],w={},o=0;o<S.length;o++){var _=S[o];w[y+"."+_]=E[_]}return w},c.getViewEditsWithDerived=function(E){var y=this.id,S=this.getViewEdits(E);return S[y+"._derived"]=E._derived,S};function d(E,y){var S={};if(L.isPlainObject(E))S.id=E.id,S.style=E;else if(typeof E=="string")if(S.id=E,m.styleValuesMapbox.indexOf(E)!==-1)S.style=x(E);else if(m.stylesNonMapbox[E]){S.style=m.stylesNonMapbox[E];var w=S.style.sources["plotly-"+E],o=w?w.tiles:void 0;o&&o[0]&&o[0].slice(-9)==="?api_key="&&(o[0]+=y._mapboxAccessToken)}else S.style=E;else S.id=m.styleValueDflt,S.style=x(m.styleValueDflt);return S.transition={duration:0,delay:0},S}function x(E){return m.styleUrlPrefix+E+"-"+m.styleUrlSuffix}function A(E){return[E.lon,E.lat]}H.exports=M},66741:function(H){H.exports=function(U){var e=U.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(H,U,e){var p=e(33428),L=e(94336).m_,n=e(57624).SO,C=e(38248),T=e(83160),v=e(24040),g=e(73060),r=e(31780),t=e(3400),s=e(76308),a=e(39032).BADNUM,f=e(79811),u=e(1936).clearOutline,l=e(55308),m=e(85656),h=e(16672),M=e(84888)._M,c=t.relinkPrivateKeys,i=t._,d=H.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859),d.fontWeight="normal";var x=d.transformsRegistry,A=e(62460);d.executeAPICommand=A.executeAPICommand,d.computeAPICommandBindings=A.computeAPICommandBindings,d.manageCommandObserver=A.manageCommandObserver,d.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,d.redrawText=function(X){return X=t.getGraphDiv(X),new Promise(function(q){setTimeout(function(){X._fullLayout&&(v.getComponentMethod("annotations","draw")(X),v.getComponentMethod("legend","draw")(X),v.getComponentMethod("colorbar","draw")(X),q(d.previousPromises(X)))},300)})},d.resize=function(X){X=t.getGraphDiv(X);var q,se=new Promise(function($,j){(!X||t.isHidden(X))&&j(new Error("Resize must be passed a displayed plot div element.")),X._redrawTimer&&clearTimeout(X._redrawTimer),X._resolveResize&&(q=X._resolveResize),X._resolveResize=$,X._redrawTimer=setTimeout(function(){if(!X.layout||X.layout.width&&X.layout.height||t.isHidden(X)){$(X);return}delete X.layout.width,delete X.layout.height;var ue=X.changed;X.autoplay=!0,v.call("relayout",X,{autosize:!0}).then(function(){X.changed=ue,X._resolveResize===$&&(delete X._resolveResize,$(X))})},100)});return q&&q(se),se},d.previousPromises=function(X){if((X._promises||[]).length)return Promise.all(X._promises).then(function(){X._promises=[]})},d.addLinks=function(X){if(!(!X._context.showLink&&!X._context.showSources)){var q=X._fullLayout,se=t.ensureSingle(q._paper,"text","js-plot-link-container",function(ye){ye.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var Ce=p.select(this);Ce.append("tspan").classed("js-link-to-tool",!0),Ce.append("tspan").classed("js-link-spacer",!0),Ce.append("tspan").classed("js-sourcelinks",!0)})}),$=se.node(),j={y:q._paper.attr("height")-9};document.body.contains($)&&$.getComputedTextLength()>=q.width-20?(j["text-anchor"]="start",j.x=5):(j["text-anchor"]="end",j.x=q._paper.attr("width")-7),se.attr(j);var ue=se.select(".js-link-to-tool"),ae=se.select(".js-link-spacer"),ce=se.select(".js-sourcelinks");X._context.showSources&&X._context.showSources(X),X._context.showLink&&E(X,ue),ae.text(ue.text()&&ce.text()?" - ":"")}};function E(X,q){q.text("");var se=q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(X._context.linkText+" ");if(X._context.sendData)se.on("click",function(){d.sendDataToCloud(X)});else{var $=window.location.pathname.split("/"),j=window.location.search;se.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+$[2].split(".")[0]+"/"+$[1]+j})}}d.sendDataToCloud=function(X){var q=(window.PLOTLYENV||{}).BASE_URL||X._context.plotlyServerURL;if(q){X.emit("plotly_beforeexport");var se=p.select(X).append("div").attr("id","hiddenform").style("display","none"),$=se.append("form").attr({action:q+"/external",method:"post",target:"_blank"}),j=$.append("input").attr({type:"text",name:"data"});return j.node().value=d.graphJson(X,!1,"keepdata"),$.node().submit(),se.remove(),X.emit("plotly_afterexport"),!1}};var y=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],S=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(X,q){var se=q&&q.skipUpdateCalc,$=X._fullLayout||{};if($._skipDefaults){delete $._skipDefaults;return}var j=X._fullLayout={},ue=X.layout||{},ae=X._fullData||[],ce=X._fullData=[],ye=X.data||[],Ce=X.calcdata||[],Ae=X._context||{},Ie;X._transitionData||d.createTransitionData(X),j._dfltTitle={plot:i(X,"Click to enter Plot title"),x:i(X,"Click to enter X axis title"),y:i(X,"Click to enter Y axis title"),colorbar:i(X,"Click to enter Colorscale title"),annotation:i(X,"new text")},j._traceWord=i(X,"trace");var Te=_(X,y);if(j._mapboxAccessToken=Ae.mapboxAccessToken,$._initialAutoSizeIsDone){var Le=$.width,xe=$.height;d.supplyLayoutGlobalDefaults(ue,j,Te),ue.width||(j.width=Le),ue.height||(j.height=xe),d.sanitizeMargins(j)}else{d.supplyLayoutGlobalDefaults(ue,j,Te);var Re=!ue.width||!ue.height,He=j.autosize,Ve=Ae.autosizable,Fe=Re&&(He||Ve);Fe?d.plotAutoSize(X,ue,j):Re&&d.sanitizeMargins(j),!He&&Re&&(ue.width=j.width,ue.height=j.height)}j._d3locale=b(Te,j.separators),j._extraFormat=_(X,S),j._initialAutoSizeIsDone=!0,j._dataLength=ye.length,j._modules=[],j._visibleModules=[],j._basePlotModules=[];var We=j._subplots=o(),ut=j._splomAxes={x:{},y:{}},ht=j._splomSubplots={};j._splomGridDflt={},j._scatterStackOpts={},j._firstScatter={},j._alignmentOpts={},j._colorAxes={},j._requestRangeslider={},j._traceUids=w(ae,ye),j._globalTransforms=(X._context||{}).globalTransforms,d.supplyDataDefaults(ye,ce,ue,j);var rt=Object.keys(ut.x),tt=Object.keys(ut.y);if(rt.length>1&&tt.length>1){for(v.getComponentMethod("grid","sizeDefaults")(ue,j),Ie=0;Ie<rt.length;Ie++)t.pushUnique(We.xaxis,rt[Ie]);for(Ie=0;Ie<tt.length;Ie++)t.pushUnique(We.yaxis,tt[Ie]);for(var vt in ht)t.pushUnique(We.cartesian,vt)}if(j._has=d._hasPlotType.bind(j),ae.length===ce.length)for(Ie=0;Ie<ce.length;Ie++)c(ce[Ie],ae[Ie]);d.supplyLayoutModuleDefaults(ue,j,ce,X._transitionData);var pt=j._visibleModules,mt=[];for(Ie=0;Ie<pt.length;Ie++){var wt=pt[Ie].crossTraceDefaults;wt&&t.pushUnique(mt,wt)}for(Ie=0;Ie<mt.length;Ie++)mt[Ie](ce,j);j._hasOnlyLargeSploms=j._basePlotModules.length===1&&j._basePlotModules[0].name==="splom"&&rt.length>15&&tt.length>15&&j.shapes.length===0&&j.images.length===0,d.linkSubplots(ce,j,ae,$),d.cleanPlot(ce,j,ae,$);var Lt=!!($._has&&$._has("gl2d")),at=!!(j._has&&j._has("gl2d")),Oe=!!($._has&&$._has("cartesian")),Ze=!!(j._has&&j._has("cartesian")),Je=Oe||Lt,Ye=Ze||at;Je&&!Ye?$._bgLayer.remove():Ye&&!Je&&(j._shouldCreateBgLayer=!0),$._zoomlayer&&!X._dragging&&u({_fullLayout:$}),I(ce,j),c(j,$),v.getComponentMethod("colorscale","crossTraceDefaults")(ce,j),j._preGUI||(j._preGUI={}),j._tracePreGUI||(j._tracePreGUI={});var ke=j._tracePreGUI,be={},me;for(me in ke)be[me]="old";for(Ie=0;Ie<ce.length;Ie++)me=ce[Ie]._fullInput.uid,be[me]||(ke[me]={}),be[me]="new";for(me in be)be[me]==="old"&&delete ke[me];F(j),v.getComponentMethod("rangeslider","makeData")(j),!se&&Ce.length===ce.length&&d.supplyDefaultsUpdateCalc(Ce,ce)},d.supplyDefaultsUpdateCalc=function(X,q){for(var se=0;se<q.length;se++){var $=q[se],j=(X[se]||[])[0];if(j&&j.trace){var ue=j.trace;if(ue._hasCalcTransform){var ae=ue._arrayAttrs,ce,ye,Ce;for(ce=0;ce<ae.length;ce++)ye=ae[ce],Ce=t.nestedProperty(ue,ye).get().slice(),t.nestedProperty($,ye).set(Ce)}j.trace=$}}};function w(X,q){var se=q.length,$=[],j,ue;for(j=0;j<X.length;j++){var ae=X[j]._fullInput;ae!==ue&&$.push(ae),ue=ae}var ce=$.length,ye=new Array(se),Ce={};function Ae(Le,xe){ye[xe]=Le,Ce[Le]=1}function Ie(Le,xe){if(Le&&typeof Le=="string"&&!Ce[Le])return Ae(Le,xe),!0}for(j=0;j<se;j++){var Te=q[j].uid;typeof Te=="number"&&(Te=String(Te)),!Ie(Te,j)&&(j<ce&&Ie($[j].uid,j)||Ae(t.randstr(Ce),j))}return ye}function o(){var X=v.collectableSubplotTypes,q={},se,$;if(!X){X=[];var j=v.subplotsRegistry;for(var ue in j){var ae=j[ue],ce=ae.attr;if(ce&&(X.push(ue),Array.isArray(ce)))for($=0;$<ce.length;$++)t.pushUnique(X,ce[$])}}for(se=0;se<X.length;se++)q[X[se]]=[];return q}function _(X,q){var se=X._context.locale;se||(se="en-US");var $=!1,j={};function ue(Ie){for(var Te=!0,Le=0;Le<q.length;Le++){var xe=q[Le];j[xe]||(Ie[xe]?j[xe]=Ie[xe]:Te=!1)}Te&&($=!0)}for(var ae=0;ae<2;ae++){for(var ce=X._context.locales,ye=0;ye<2;ye++){var Ce=(ce[se]||{}).format;if(Ce&&(ue(Ce),$))break;ce=v.localeRegistry}var Ae=se.split("-")[0];if($||Ae===se)break;se=Ae}return $||ue(v.localeRegistry.en.format),j}function b(X,q){return X.decimal=q.charAt(0),X.thousands=q.charAt(1),{numberFormat:function(se){try{se=n(X).format(t.adjustFormat(se))}catch{return t.warnBadFormat(se),t.noFormat}return se},timeFormat:L(X).utcFormat}}function I(X,q){var se,$=[];q.meta&&(se=q._meta={meta:q.meta,layout:{meta:q.meta}});for(var j=0;j<X.length;j++){var ue=X[j];ue.meta?$[ue.index]=ue._meta={meta:ue.meta}:q.meta&&(ue._meta={meta:q.meta}),q.meta&&(ue._meta.layout={meta:q.meta})}$.length&&(se||(se=q._meta={}),se.data=$)}d.createTransitionData=function(X){X._transitionData||(X._transitionData={}),X._transitionData._frames||(X._transitionData._frames=[]),X._transitionData._frameHash||(X._transitionData._frameHash={}),X._transitionData._counter||(X._transitionData._counter=0),X._transitionData._interruptCallbacks||(X._transitionData._interruptCallbacks=[])},d._hasPlotType=function(X){var q,se=this._basePlotModules||[];for(q=0;q<se.length;q++)if(se[q].name===X)return!0;var $=this._modules||[];for(q=0;q<$.length;q++){var j=$[q].name;if(j===X)return!0;var ue=v.modules[j];if(ue&&ue.categories[X])return!0}return!1},d.cleanPlot=function(X,q,se,$){var j,ue,ae=$._basePlotModules||[];for(j=0;j<ae.length;j++){var ce=ae[j];ce.clean&&ce.clean(X,q,se,$)}var ye=$._has&&$._has("gl"),Ce=q._has&&q._has("gl");ye&&!Ce&&$._glcontainer!==void 0&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.selectAll(".no-webgl").remove(),$._glcanvas=null);var Ae=!!$._infolayer;e:for(j=0;j<se.length;j++){var Ie=se[j],Te=Ie.uid;for(ue=0;ue<X.length;ue++){var Le=X[ue];if(Te===Le.uid)continue e}Ae&&$._infolayer.select(".cb"+Te).remove()}},d.linkSubplots=function(X,q,se,$){var j,ue,ae=$._plots||{},ce=q._plots={},ye=q._subplots,Ce={_fullData:X,_fullLayout:q},Ae=ye.cartesian.concat(ye.gl2d||[]);for(j=0;j<Ae.length;j++){var Ie=Ae[j],Te=ae[Ie],Le=f.getFromId(Ce,Ie,"x"),xe=f.getFromId(Ce,Ie,"y"),Re;for(Te?Re=ce[Ie]=Te:(Re=ce[Ie]={},Re.id=Ie),Le._counterAxes.push(xe._id),xe._counterAxes.push(Le._id),Le._subplotsWith.push(Ie),xe._subplotsWith.push(Ie),Re.xaxis=Le,Re.yaxis=xe,Re._hasClipOnAxisFalse=!1,ue=0;ue<X.length;ue++){var He=X[ue];if(He.xaxis===Re.xaxis._id&&He.yaxis===Re.yaxis._id&&He.cliponaxis===!1){Re._hasClipOnAxisFalse=!0;break}}}var Ve=f.list(Ce,null,!0),Fe;for(j=0;j<Ve.length;j++){Fe=Ve[j];var We=null;Fe.overlaying&&(We=f.getFromId(Ce,Fe.overlaying),We&&We.overlaying&&(Fe.overlaying=!1,We=null)),Fe._mainAxis=We||Fe,We&&(Fe.domain=We.domain.slice()),Fe._anchorAxis=Fe.anchor==="free"?null:f.getFromId(Ce,Fe.anchor)}for(j=0;j<Ve.length;j++)if(Fe=Ve[j],Fe._counterAxes.sort(f.idSort),Fe._subplotsWith.sort(t.subplotSort),Fe._mainSubplot=D(Fe,q),Fe._counterAxes.length&&(Fe.spikemode&&Fe.spikemode.indexOf("across")!==-1||Fe.automargin&&Fe.mirror&&Fe.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Fe))){var ut=1,ht=0;for(ue=0;ue<Fe._counterAxes.length;ue++){var rt=f.getFromId(Ce,Fe._counterAxes[ue]);ut=Math.min(ut,rt.domain[0]),ht=Math.max(ht,rt.domain[1])}ut<ht&&(Fe._counterDomainMin=ut,Fe._counterDomainMax=ht)}};function D(X,q){var se={_fullLayout:q},$=X._id.charAt(0)==="x",j=X._mainAxis._anchorAxis,ue="",ae="",ce="";if(j&&(ce=j._mainAxis._id,ue=$?X._id+ce:ce+X._id),!ue||!q._plots[ue]){ue="";for(var ye=X._counterAxes,Ce=0;Ce<ye.length;Ce++){var Ae=ye[Ce],Ie=$?X._id+Ae:Ae+X._id;ae||(ae=Ie);var Te=f.getFromId(se,Ae);if(ce&&Te.overlaying===ce){ue=Ie;break}}}return ue||ae}d.clearExpandedTraceDefaultColors=function(X){var q,se,$;function j(ae,ce,ye,Ce){se[Ce]=ce,se.length=Ce+1,ae.valType==="color"&&ae.dflt===void 0&&q.push(se.join("."))}for(se=[],q=X._module._colorAttrs,q||(X._module._colorAttrs=q=[],g.crawl(X._module.attributes,j)),$=0;$<q.length;$++){var ue=t.nestedProperty(X,"_input."+q[$]);ue.get()||t.nestedProperty(X,q[$]).set(null)}},d.supplyDataDefaults=function(X,q,se,$){var j=$._modules,ue=$._visibleModules,ae=$._basePlotModules,ce=0,ye=0,Ce,Ae,Ie;$._transformModules=[];function Te(tt){q.push(tt);var vt=tt._module;vt&&(t.pushUnique(j,vt),tt.visible===!0&&t.pushUnique(ue,vt),t.pushUnique(ae,tt._module.basePlotModule),ce++,tt._input.visible!==!1&&ye++)}var Le={},xe=[],Re=(se.template||{}).data||{},He=r.traceTemplater(Re);for(Ce=0;Ce<X.length;Ce++){if(Ie=X[Ce],Ae=He.newTrace(Ie),Ae.uid=$._traceUids[Ce],d.supplyTraceDefaults(Ie,Ae,ye,$,Ce),Ae.index=Ce,Ae._input=Ie,Ae._expandedIndex=ce,Ae.transforms&&Ae.transforms.length)for(var Ve=Ie.visible!==!1&&Ae.visible===!1,Fe=k(Ae,q,se,$),We=0;We<Fe.length;We++){var ut=Fe[We],ht={_template:Ae._template,type:Ae.type,uid:Ae.uid+We};Ve&&ut.visible===!1&&delete ut.visible,d.supplyTraceDefaults(ut,ht,ce,$,Ce),c(ht,ut),ht.index=Ce,ht._input=Ie,ht._fullInput=Ae,ht._expandedIndex=ce,ht._expandedInput=ut,Te(ht)}else Ae._fullInput=Ae,Ae._expandedInput=Ae,Te(Ae);v.traceIs(Ae,"carpetAxis")&&(Le[Ae.carpet]=Ae),v.traceIs(Ae,"carpetDependent")&&xe.push(Ce)}for(Ce=0;Ce<xe.length;Ce++)if(Ae=q[xe[Ce]],!!Ae.visible){var rt=Le[Ae.carpet];if(Ae._carpet=rt,!rt||!rt.visible){Ae.visible=!1;continue}Ae.xaxis=rt.xaxis,Ae.yaxis=rt.yaxis}},d.supplyAnimationDefaults=function(X){X=X||{};var q,se={};function $(j,ue){return t.coerce(X||{},se,m,j,ue)}if($("mode"),$("direction"),$("fromcurrent"),Array.isArray(X.frame))for(se.frame=[],q=0;q<X.frame.length;q++)se.frame[q]=d.supplyAnimationFrameDefaults(X.frame[q]||{});else se.frame=d.supplyAnimationFrameDefaults(X.frame||{});if(Array.isArray(X.transition))for(se.transition=[],q=0;q<X.transition.length;q++)se.transition[q]=d.supplyAnimationTransitionDefaults(X.transition[q]||{});else se.transition=d.supplyAnimationTransitionDefaults(X.transition||{});return se},d.supplyAnimationFrameDefaults=function(X){var q={};function se($,j){return t.coerce(X||{},q,m.frame,$,j)}return se("duration"),se("redraw"),q},d.supplyAnimationTransitionDefaults=function(X){var q={};function se($,j){return t.coerce(X||{},q,m.transition,$,j)}return se("duration"),se("easing"),q},d.supplyFrameDefaults=function(X){var q={};function se($,j){return t.coerce(X,q,h,$,j)}return se("group"),se("name"),se("traces"),se("baseframe"),se("data"),se("layout"),q},d.supplyTraceDefaults=function(X,q,se,$,j){var ue=$.colorway||s.defaults,ae=ue[se%ue.length],ce;function ye(We,ut){return t.coerce(X,q,d.attributes,We,ut)}var Ce=ye("visible");ye("type"),ye("name",$._traceWord+" "+j),ye("uirevision",$.uirevision);var Ae=d.getModule(q);if(q._module=Ae,Ae){var Ie=Ae.basePlotModule,Te=Ie.attr,Le=Ie.attributes;if(Te&&Le){var xe=$._subplots,Re="";if(Ce||Ie.name!=="gl2d"){if(Array.isArray(Te))for(ce=0;ce<Te.length;ce++){var He=Te[ce],Ve=t.coerce(X,q,Le,He);xe[He]&&t.pushUnique(xe[He],Ve),Re+=Ve}else Re=t.coerce(X,q,Le,Te);xe[Ie.name]&&t.pushUnique(xe[Ie.name],Re)}}}if(Ce){if(ye("customdata"),ye("ids"),ye("meta"),v.traceIs(q,"showLegend")?(t.coerce(X,q,Ae.attributes.showlegend?Ae.attributes:d.attributes,"showlegend"),ye("legend"),ye("legendwidth"),ye("legendgroup"),ye("legendgrouptitle.text"),ye("legendrank"),q._dfltShowLegend=!0):q._dfltShowLegend=!1,Ae&&Ae.supplyDefaults(X,q,ae,$),v.traceIs(q,"noOpacity")||ye("opacity"),v.traceIs(q,"notLegendIsolatable")&&(q.visible=!!q.visible),v.traceIs(q,"noHover")||(q.hovertemplate||t.coerceHoverinfo(X,q,$),q.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(X,q,ae,$)),Ae&&Ae.selectPoints){var Fe=ye("selectedpoints");t.isTypedArray(Fe)&&(q.selectedpoints=Array.from(Fe))}d.supplyTransformDefaults(X,q,$)}return q};function N(X){var q=X.transforms;if(Array.isArray(q)&&q.length)for(var se=0;se<q.length;se++){var $=q[se],j=$._module||x[$.type];if(j&&j.makesData)return!0}return!1}d.hasMakesDataTransform=N,d.supplyTransformDefaults=function(X,q,se){if(q._length||N(X)){var $=se._globalTransforms||[],j=se._transformModules||[];if(!(!Array.isArray(X.transforms)&&$.length===0))for(var ue=X.transforms||[],ae=$.concat(ue),ce=q.transforms=[],ye=0;ye<ae.length;ye++){var Ce=ae[ye],Ae=Ce.type,Ie=x[Ae],Te,Le=!(Ce._module&&Ce._module===Ie),xe=Ie&&typeof Ie.transform=="function";Ie||t.warn("Unrecognized transform type "+Ae+"."),Ie&&Ie.supplyDefaults&&(Le||xe)?(Te=Ie.supplyDefaults(Ce,q,se,X),Te.type=Ae,Te._module=Ie,t.pushUnique(j,Ie)):Te=t.extendFlat({},Ce),ce.push(Te)}}};function k(X,q,se,$){for(var j=X.transforms,ue=[X],ae=0;ae<j.length;ae++){var ce=j[ae],ye=x[ce.type];ye&&ye.transform&&(ue=ye.transform(ue,{transform:ce,fullTrace:X,fullData:q,layout:se,fullLayout:$,transformIndex:ae}))}return ue}d.supplyLayoutGlobalDefaults=function(X,q,se){function $(Ie,Te){return t.coerce(X,q,d.layoutAttributes,Ie,Te)}var j=X.template;t.isPlainObject(j)&&(q.template=j,q._template=j.layout,q._dataTemplate=j.data),$("autotypenumbers");var ue=t.coerceFont($,"font"),ae=ue.size;t.coerceFont($,"title.font",t.extendFlat({},ue,{size:Math.round(ae*1.4)})),$("title.text",q._dfltTitle.plot),$("title.xref");var ce=$("title.yref");$("title.pad.t"),$("title.pad.r"),$("title.pad.b"),$("title.pad.l");var ye=$("title.automargin");$("title.x"),$("title.xanchor"),$("title.y"),$("title.yanchor"),ye&&(ce==="paper"&&(q.title.y!==0&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y===0?"top":"bottom")),ce==="container"&&(q.title.y==="auto"&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y<.5?"bottom":"top")));var Ce=$("uniformtext.mode");Ce&&$("uniformtext.minsize"),$("autosize",!(X.width&&X.height)),$("width"),$("height"),$("minreducedwidth"),$("minreducedheight"),$("margin.l"),$("margin.r"),$("margin.t"),$("margin.b"),$("margin.pad"),$("margin.autoexpand"),X.width&&X.height&&d.sanitizeMargins(q),v.getComponentMethod("grid","sizeDefaults")(X,q),$("paper_bgcolor"),$("separators",se.decimal+se.thousands),$("hidesources"),$("colorway"),$("datarevision");var Ae=$("uirevision");$("editrevision",Ae),$("selectionrevision",Ae),v.getComponentMethod("modebar","supplyLayoutDefaults")(X,q),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(X,q,$),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(X,q,$),$("meta"),t.isPlainObject(X.transition)&&($("transition.duration"),$("transition.easing"),$("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(X,q,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(X,q,$),t.coerce(X,q,l,"scattermode")};function z(X){return typeof X=="string"&&X.substr(X.length-2)==="px"&&parseFloat(X)}d.plotAutoSize=function(q,se,$){var j=q._context||{},ue=j.frameMargins,ae,ce,ye=t.isPlotDiv(q);if(ye&&q.emit("plotly_autosize"),j.fillFrame)ae=window.innerWidth,ce=window.innerHeight,document.body.style.overflow="hidden";else{var Ce=ye?window.getComputedStyle(q):{};if(ae=z(Ce.width)||z(Ce.maxWidth)||$.width,ce=z(Ce.height)||z(Ce.maxHeight)||$.height,C(ue)&&ue>0){var Ae=1-2*ue;ae=Math.round(Ae*ae),ce=Math.round(Ae*ce)}}var Ie=d.layoutAttributes.width.min,Te=d.layoutAttributes.height.min;ae<Ie&&(ae=Ie),ce<Te&&(ce=Te);var Le=!se.width&&Math.abs($.width-ae)>1,xe=!se.height&&Math.abs($.height-ce)>1;(xe||Le)&&(Le&&($.width=ae),xe&&($.height=ce)),q._initialAutoSize||(q._initialAutoSize={width:ae,height:ce}),d.sanitizeMargins($)},d.supplyLayoutModuleDefaults=function(X,q,se,$){var j=v.componentsRegistry,ue=q._basePlotModules,ae,ce,ye,Ce=v.subplotsRegistry.cartesian;for(ae in j)ye=j[ae],ye.includeBasePlot&&ye.includeBasePlot(X,q);ue.length||ue.push(Ce),q._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(X,q),Ce.finalizeSubplots(X,q));for(var Ae in q._subplots)q._subplots[Ae].sort(t.subplotSort);for(ce=0;ce<ue.length;ce++)ye=ue[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(X,q,se);var Ie=q._modules;for(ce=0;ce<Ie.length;ce++)ye=Ie[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(X,q,se);var Te=q._transformModules;for(ce=0;ce<Te.length;ce++)ye=Te[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(X,q,se,$);for(ae in j)ye=j[ae],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(X,q,se)},d.purge=function(X){var q=X._fullLayout||{};q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.remove(),q._glcanvas=null),q._modeBar&&q._modeBar.destroy(),X._transitionData&&(X._transitionData._interruptCallbacks&&(X._transitionData._interruptCallbacks.length=0),X._transitionData._animationRaf&&window.cancelAnimationFrame(X._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(X),delete X.data,delete X.layout,delete X._fullData,delete X._fullLayout,delete X.calcdata,delete X.empty,delete X.fid,delete X.undoqueue,delete X.undonum,delete X.autoplay,delete X.changed,delete X._promises,delete X._redrawTimer,delete X._hmlumcount,delete X._hmpixcount,delete X._transitionData,delete X._transitioning,delete X._initialAutoSize,delete X._transitioningWithDuration,delete X._dragging,delete X._dragged,delete X._dragdata,delete X._hoverdata,delete X._snapshotInProgress,delete X._editing,delete X._mouseDownTime,delete X._legendMouseDownTime,X.removeAllListeners&&X.removeAllListeners()},d.style=function(X){var q=X._fullLayout._visibleModules,se=[],$;for($=0;$<q.length;$++){var j=q[$];j.style&&t.pushUnique(se,j.style)}for($=0;$<se.length;$++)se[$](X)},d.sanitizeMargins=function(X){if(!(!X||!X.margin)){var q=X.width,se=X.height,$=X.margin,j=q-($.l+$.r),ue=se-($.t+$.b),ae;j<0&&(ae=(q-1)/($.l+$.r),$.l=Math.floor(ae*$.l),$.r=Math.floor(ae*$.r)),ue<0&&(ae=(se-1)/($.t+$.b),$.t=Math.floor(ae*$.t),$.b=Math.floor(ae*$.b))}},d.clearAutoMarginIds=function(X){X._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(X,q){X._fullLayout._pushmarginIds[q]=1};function F(X){var q=X.margin;if(!X._size){var se=X._size={l:Math.round(q.l),r:Math.round(q.r),t:Math.round(q.t),b:Math.round(q.b),p:Math.round(q.pad)};se.w=Math.round(X.width)-se.l-se.r,se.h=Math.round(X.height)-se.t-se.b}X._pushmargin||(X._pushmargin={}),X._pushmarginIds||(X._pushmarginIds={}),X._reservedMargin||(X._reservedMargin={})}var O=2,B=2;d.autoMargin=function(X,q,se){var $=X._fullLayout,j=$.width,ue=$.height,ae=$.margin,ce=$.minreducedwidth,ye=$.minreducedheight,Ce=t.constrain(j-ae.l-ae.r,O,ce),Ae=t.constrain(ue-ae.t-ae.b,B,ye),Ie=Math.max(0,j-Ce),Te=Math.max(0,ue-Ae),Le=$._pushmargin,xe=$._pushmarginIds;if(ae.autoexpand!==!1){if(!se)delete Le[q],delete xe[q];else{var Re=se.pad;if(Re===void 0&&(Re=Math.min(12,ae.l,ae.r,ae.t,ae.b)),Ie){var He=(se.l+se.r)/Ie;He>1&&(se.l/=He,se.r/=He)}if(Te){var Ve=(se.t+se.b)/Te;Ve>1&&(se.t/=Ve,se.b/=Ve)}var Fe=se.xl!==void 0?se.xl:se.x,We=se.xr!==void 0?se.xr:se.x,ut=se.yt!==void 0?se.yt:se.y,ht=se.yb!==void 0?se.yb:se.y;Le[q]={l:{val:Fe,size:se.l+Re},r:{val:We,size:se.r+Re},b:{val:ht,size:se.b+Re},t:{val:ut,size:se.t+Re}},xe[q]=1}if(!$._replotting)return d.doAutoMargin(X)}};function W(X){if("_redrawFromAutoMarginCount"in X._fullLayout)return!1;var q=f.list(X,"",!0);for(var se in q)if(q[se].autoshift||q[se].shift)return!0;return!1}d.doAutoMargin=function(X){var q=X._fullLayout,se=q.width,$=q.height;q._size||(q._size={}),F(q);var j=q._size,ue=q.margin,ae={t:0,b:0,l:0,r:0},ce=t.extendFlat({},j),ye=ue.l,Ce=ue.r,Ae=ue.t,Ie=ue.b,Te=q._pushmargin,Le=q._pushmarginIds,xe=q.minreducedwidth,Re=q.minreducedheight;if(ue.autoexpand!==!1){for(var He in Te)Le[He]||delete Te[He];var Ve=X._fullLayout._reservedMargin;for(var Fe in Ve)for(var We in Ve[Fe]){var ut=Ve[Fe][We];ae[We]=Math.max(ae[We],ut)}Te.base={l:{val:0,size:ye},r:{val:1,size:Ce},t:{val:1,size:Ae},b:{val:0,size:Ie}};for(var ht in ae){var rt=0;for(var tt in Te)tt!=="base"&&C(Te[tt][ht].size)&&(rt=Te[tt][ht].size>rt?Te[tt][ht].size:rt);var vt=Math.max(0,ue[ht]-rt);ae[ht]=Math.max(0,ae[ht]-vt)}for(var pt in Te){var mt=Te[pt].l||{},wt=Te[pt].b||{},Lt=mt.val,at=mt.size,Oe=wt.val,Ze=wt.size,Je=se-ae.r-ae.l,Ye=$-ae.t-ae.b;for(var ke in Te){if(C(at)&&Te[ke].r){var be=Te[ke].r.val,me=Te[ke].r.size;if(be>Lt){var _e=(at*be+(me-Je)*Lt)/(be-Lt),Ee=(me*(1-Lt)+(at-Je)*(1-be))/(be-Lt);_e+Ee>ye+Ce&&(ye=_e,Ce=Ee)}}if(C(Ze)&&Te[ke].t){var Be=Te[ke].t.val,je=Te[ke].t.size;if(Be>Oe){var nt=(Ze*Be+(je-Ye)*Oe)/(Be-Oe),dt=(je*(1-Oe)+(Ze-Ye)*(1-Be))/(Be-Oe);nt+dt>Ie+Ae&&(Ie=nt,Ae=dt)}}}}}var xt=t.constrain(se-ue.l-ue.r,O,xe),Kt=t.constrain($-ue.t-ue.b,B,Re),Jt=Math.max(0,se-xt),St=Math.max(0,$-Kt);if(Jt){var Ft=(ye+Ce)/Jt;Ft>1&&(ye/=Ft,Ce/=Ft)}if(St){var rr=(Ie+Ae)/St;rr>1&&(Ie/=rr,Ae/=rr)}if(j.l=Math.round(ye)+ae.l,j.r=Math.round(Ce)+ae.r,j.t=Math.round(Ae)+ae.t,j.b=Math.round(Ie)+ae.b,j.p=Math.round(ue.pad),j.w=Math.round(se)-j.l-j.r,j.h=Math.round($)-j.t-j.b,!q._replotting&&(d.didMarginChange(ce,j)||W(X))){"_redrawFromAutoMarginCount"in q?q._redrawFromAutoMarginCount++:q._redrawFromAutoMarginCount=1;var _r=3*(1+Object.keys(Le).length);if(q._redrawFromAutoMarginCount<_r)return v.call("_doPlot",X);q._size=ce,t.warn("Too many auto-margin redraws.")}ee(X)};function ee(X){var q=f.list(X,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(se){for(var $=0;$<q.length;$++){var j=q[$][se];j&&j()}})}var ne=["l","r","t","b","p","w","h"];d.didMarginChange=function(X,q){for(var se=0;se<ne.length;se++){var $=ne[se],j=X[$],ue=q[$];if(!C(j)||Math.abs(ue-j)>1)return!0}return!1},d.graphJson=function(X,q,se,$,j,ue){(j&&q&&!X._fullData||j&&!q&&!X._fullLayout)&&d.supplyDefaults(X);var ae=j?X._fullData:X.data,ce=j?X._fullLayout:X.layout,ye=(X._transitionData||{})._frames;function Ce(Te,Le){if(typeof Te=="function")return Le?"_function_":null;if(t.isPlainObject(Te)){var xe={},Re;return Object.keys(Te).sort().forEach(function(We){if(["_","["].indexOf(We.charAt(0))===-1){if(typeof Te[We]=="function"){Le&&(xe[We]="_function");return}if(se==="keepdata"){if(We.substr(We.length-3)==="src")return}else if(se==="keepstream"){if(Re=Te[We+"src"],typeof Re=="string"&&Re.indexOf(":")>0&&!t.isPlainObject(Te.stream))return}else if(se!=="keepall"&&(Re=Te[We+"src"],typeof Re=="string"&&Re.indexOf(":")>0))return;xe[We]=Ce(Te[We],Le)}}),xe}var He=Array.isArray(Te),Ve=t.isTypedArray(Te);if((He||Ve)&&Te.dtype&&Te.shape){var Fe=Te.bdata;return Ce({dtype:Te.dtype,shape:Te.shape,bdata:t.isArrayBuffer(Fe)?T.encode(Fe):Fe},Le)}return He?Te.map(function(We){return Ce(We,Le)}):Ve?t.simpleMap(Te,t.identity):t.isJSDate(Te)?t.ms2DateTimeLocal(+Te):Te}var Ae={data:(ae||[]).map(function(Te){var Le=Ce(Te);return q&&delete Le.fit,Le})};if(!q&&(Ae.layout=Ce(ce),j)){var Ie=ce._size;Ae.layout.computed={margin:{b:Ie.b,l:Ie.l,r:Ie.r,t:Ie.t}}}return ye&&(Ae.frames=Ce(ye)),ue&&(Ae.config=Ce(X._context,!0)),$==="object"?Ae:JSON.stringify(Ae)},d.modifyFrames=function(X,q){var se,$,j,ue=X._transitionData._frames,ae=X._transitionData._frameHash;for(se=0;se<q.length;se++)switch($=q[se],$.type){case"replace":j=$.value;var ce=(ue[$.index]||{}).name,ye=j.name;ue[$.index]=ae[ye]=j,ye!==ce&&(delete ae[ce],ae[ye]=j);break;case"insert":j=$.value,ae[j.name]=j,ue.splice($.index,0,j);break;case"delete":j=ue[$.index],delete ae[j.name],ue.splice($.index,1);break}return Promise.resolve()},d.computeFrame=function(X,q){var se=X._transitionData._frameHash,$,j,ue,ae;if(!q)throw new Error("computeFrame must be given a string frame name");var ce=se[q.toString()];if(!ce)return!1;for(var ye=[ce],Ce=[ce.name];ce.baseframe&&(ce=se[ce.baseframe.toString()])&&Ce.indexOf(ce.name)===-1;)ye.push(ce),Ce.push(ce.name);for(var Ae={};ce=ye.pop();)if(ce.layout&&(Ae.layout=d.extendLayout(Ae.layout,ce.layout)),ce.data){if(Ae.data||(Ae.data=[]),j=ce.traces,!j)for(j=[],$=0;$<ce.data.length;$++)j[$]=$;for(Ae.traces||(Ae.traces=[]),$=0;$<ce.data.length;$++)ue=j[$],ue!=null&&(ae=Ae.traces.indexOf(ue),ae===-1&&(ae=Ae.data.length,Ae.traces[ae]=ue),Ae.data[ae]=d.extendTrace(Ae.data[ae],ce.data[$]))}return Ae},d.recomputeFrameHash=function(X){for(var q=X._transitionData._frameHash={},se=X._transitionData._frames,$=0;$<se.length;$++){var j=se[$];j&&j.name&&(q[j.name]=j)}},d.extendObjectWithContainers=function(X,q,se){var $,j,ue,ae,ce,ye,Ce,Ae,Ie=t.extendDeepNoArrays({},q||{}),Te=t.expandObjectPaths(Ie),Le={};if(se&&se.length)for(ue=0;ue<se.length;ue++)$=t.nestedProperty(Te,se[ue]),j=$.get(),j===void 0?t.nestedProperty(Le,se[ue]).set(null):($.set(null),t.nestedProperty(Le,se[ue]).set(j));if(X=t.extendDeepNoArrays(X||{},Te),se&&se.length){for(ue=0;ue<se.length;ue++)if(ce=t.nestedProperty(Le,se[ue]),Ce=ce.get(),!!Ce){for(ye=t.nestedProperty(X,se[ue]),Ae=ye.get(),Array.isArray(Ae)||(Ae=[],ye.set(Ae)),ae=0;ae<Ce.length;ae++){var xe=Ce[ae];xe===null?Ae[ae]=null:Ae[ae]=d.extendObjectWithContainers(Ae[ae],xe)}ye.set(Ae)}}return X},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(X,q){return d.extendObjectWithContainers(X,q,d.dataArrayContainers)},d.extendLayout=function(X,q){return d.extendObjectWithContainers(X,q,d.layoutArrayContainers)},d.transition=function(X,q,se,$,j,ue){var ae={redraw:j.redraw},ce={},ye=[];return ae.prepareFn=function(){for(var Ce=Array.isArray(q)?q.length:0,Ae=$.slice(0,Ce),Ie=0;Ie<Ae.length;Ie++){var Te=Ae[Ie],Le=X._fullData[Te],xe=Le._module;if(xe){if(xe.animatable){var Re=xe.basePlotModule.name;ce[Re]||(ce[Re]=[]),ce[Re].push(Te)}X.data[Ae[Ie]]=d.extendTrace(X.data[Ae[Ie]],q[Ie])}}var He=t.expandObjectPaths(t.extendDeepNoArrays({},se)),Ve=/^[xy]axis[0-9]*$/;for(var Fe in He)Ve.test(Fe)&&delete He[Fe].range;d.extendLayout(X.layout,He),delete X.calcdata,d.supplyDefaults(X),d.doCalcdata(X);var We=t.expandObjectPaths(se);if(We){var ut=X._fullLayout._plots;for(var ht in ut){var rt=ut[ht],tt=rt.xaxis,vt=rt.yaxis,pt=tt.range.slice(),mt=vt.range.slice(),wt=null,Lt=null,at=null,Oe=null;Array.isArray(We[tt._name+".range"])?wt=We[tt._name+".range"].slice():Array.isArray((We[tt._name]||{}).range)&&(wt=We[tt._name].range.slice()),Array.isArray(We[vt._name+".range"])?Lt=We[vt._name+".range"].slice():Array.isArray((We[vt._name]||{}).range)&&(Lt=We[vt._name].range.slice()),pt&&wt&&(tt.r2l(pt[0])!==tt.r2l(wt[0])||tt.r2l(pt[1])!==tt.r2l(wt[1]))&&(at={xr0:pt,xr1:wt}),mt&&Lt&&(vt.r2l(mt[0])!==vt.r2l(Lt[0])||vt.r2l(mt[1])!==vt.r2l(Lt[1]))&&(Oe={yr0:mt,yr1:Lt}),(at||Oe)&&ye.push(t.extendFlat({plotinfo:rt},at,Oe))}}return Promise.resolve()},ae.runFn=function(Ce){var Ae,Ie=X._fullLayout._basePlotModules,Te=ye.length,Le;if(se)for(Le=0;Le<Ie.length;Le++)Ie[Le].transitionAxes&&Ie[Le].transitionAxes(X,ye,ue,Ce);Te?(Ae=t.extendFlat({},ue),Ae.duration=0,delete ce.cartesian):Ae=ue;for(var xe in ce){var Re=ce[xe],He=X._fullData[Re[0]]._module;He.basePlotModule.plot(X,Re,Ae,Ce)}},Q(X,ue,ae)},d.transitionFromReact=function(X,q,se,$){var j=X._fullLayout,ue=j.transition,ae={},ce=[];return ae.prepareFn=function(){var ye=j._plots;ae.redraw=!1,q.anim==="some"&&(ae.redraw=!0),se.anim==="some"&&(ae.redraw=!0);for(var Ce in ye){var Ae=ye[Ce],Ie=Ae.xaxis,Te=Ae.yaxis,Le=$[Ie._name].range.slice(),xe=$[Te._name].range.slice(),Re=Ie.range.slice(),He=Te.range.slice();Ie.setScale(),Te.setScale();var Ve=null,Fe=null;(Ie.r2l(Le[0])!==Ie.r2l(Re[0])||Ie.r2l(Le[1])!==Ie.r2l(Re[1]))&&(Ve={xr0:Le,xr1:Re}),(Te.r2l(xe[0])!==Te.r2l(He[0])||Te.r2l(xe[1])!==Te.r2l(He[1]))&&(Fe={yr0:xe,yr1:He}),(Ve||Fe)&&ce.push(t.extendFlat({plotinfo:Ae},Ve,Fe))}return Promise.resolve()},ae.runFn=function(ye){for(var Ce=X._fullData,Ae=X._fullLayout,Ie=Ae._basePlotModules,Te,Le,xe,Re=[],He=0;He<Ce.length;He++)Re.push(He);function Ve(){if(X._fullLayout)for(var We=0;We<Ie.length;We++)Ie[We].transitionAxes&&Ie[We].transitionAxes(X,ce,Te,ye)}function Fe(){if(X._fullLayout)for(var We=0;We<Ie.length;We++)Ie[We].plot(X,xe,Le,ye)}ce.length&&q.anim?ue.ordering==="traces first"?(Te=t.extendFlat({},ue,{duration:0}),xe=Re,Le=ue,setTimeout(Ve,ue.duration),Fe()):(Te=ue,xe=null,Le=t.extendFlat({},ue,{duration:0}),setTimeout(Fe,Te.duration),Ve()):ce.length?(Te=ue,Ve()):q.anim&&(xe=Re,Le=ue,Fe())},Q(X,ue,ae)};function Q(X,q,se){var $=!1;function j(Ie){var Te=Promise.resolve();if(!Ie)return Te;for(;Ie.length;)Te=Te.then(Ie.shift());return Te}function ue(Ie){if(Ie)for(;Ie.length;)Ie.shift()}function ae(){return X.emit("plotly_transitioning",[]),new Promise(function(Ie){X._transitioning=!0,q.duration>0&&(X._transitioningWithDuration=!0),X._transitionData._interruptCallbacks.push(function(){$=!0}),se.redraw&&X._transitionData._interruptCallbacks.push(function(){return v.call("redraw",X)}),X._transitionData._interruptCallbacks.push(function(){X.emit("plotly_transitioninterrupted",[])});var Te=0,Le=0;function xe(){return Te++,function(){Le++,!$&&Le===Te&&ce(Ie)}}se.runFn(xe),setTimeout(xe())})}function ce(Ie){if(X._transitionData)return ue(X._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(se.redraw)return v.call("redraw",X)}).then(function(){X._transitioning=!1,X._transitioningWithDuration=!1,X.emit("plotly_transitioned",[])}).then(Ie)}function ye(){if(X._transitionData)return X._transitioning=!1,j(X._transitionData._interruptCallbacks)}var Ce=[d.previousPromises,ye,se.prepareFn,d.rehover,d.reselect,ae],Ae=t.syncOrAsync(Ce,X);return(!Ae||!Ae.then)&&(Ae=Promise.resolve()),Ae.then(function(){return X})}d.doCalcdata=function(X,q){var se=f.list(X),$=X._fullData,j=X._fullLayout,ue,ae,ce,ye,Ce=new Array($.length),Ae=(X.calcdata||[]).slice();for(X.calcdata=Ce,j._numBoxes=0,j._numViolins=0,j._violinScaleGroupStats={},X._hmpixcount=0,X._hmlumcount=0,j._piecolormap={},j._sunburstcolormap={},j._treemapcolormap={},j._iciclecolormap={},j._funnelareacolormap={},ce=0;ce<$.length;ce++)if(Array.isArray(q)&&q.indexOf(ce)===-1){Ce[ce]=Ae[ce];continue}for(ce=0;ce<$.length;ce++)ue=$[ce],ue._arrayAttrs=g.findArrayAttributes(ue),ue._extremes={};var Ie=j._subplots.polar||[];for(ce=0;ce<Ie.length;ce++)se.push(j[Ie[ce]].radialaxis,j[Ie[ce]].angularaxis);for(var Te in j._colorAxes){var Le=j[Te];Le.cauto!==!1&&(delete Le.cmin,delete Le.cmax)}var xe=!1;function Re(Fe){if(ue=$[Fe],ae=ue._module,ue.visible===!0&&ue.transforms){if(ae&&ae.calc){var We=ae.calc(X,ue);We[0]&&We[0].t&&We[0].t._scene&&delete We[0].t._scene.dirty}for(ye=0;ye<ue.transforms.length;ye++){var ut=ue.transforms[ye];ae=x[ut.type],ae&&ae.calcTransform&&(ue._hasCalcTransform=!0,xe=!0,ae.calcTransform(X,ue,ut))}}}function He(Fe,We){if(ue=$[Fe],ae=ue._module,!!ae.isContainer===We){var ut=[];if(ue.visible===!0&&ue._length!==0){delete ue._indexToPoints;var ht=ue.transforms||[];for(ye=ht.length-1;ye>=0;ye--)if(ht[ye].enabled){ue._indexToPoints=ht[ye]._indexToPoints;break}ae&&ae.calc&&(ut=ae.calc(X,ue))}(!Array.isArray(ut)||!ut[0])&&(ut=[{x:a,y:a}]),ut[0].t||(ut[0].t={}),ut[0].trace=ue,Ce[Fe]=ut}}for(Y(se,$,j),ce=0;ce<$.length;ce++)He(ce,!0);for(ce=0;ce<$.length;ce++)Re(ce);for(xe&&Y(se,$,j),ce=0;ce<$.length;ce++)He(ce,!0);for(ce=0;ce<$.length;ce++)He(ce,!1);re(X);var Ve=Z(se,X);if(Ve.length){for(j._numBoxes=0,j._numViolins=0,ce=0;ce<Ve.length;ce++)He(Ve[ce],!0);for(ce=0;ce<Ve.length;ce++)He(Ve[ce],!1);re(X)}v.getComponentMethod("fx","calc")(X),v.getComponentMethod("errorbars","calc")(X)};var le=/(total|sum|min|max|mean|median) (ascending|descending)/;function Z(X,q){var se=[],$,j,ue,ae,ce;function ye(ke,be,me){var _e=be._id.charAt(0);if(ke==="histogram2dcontour"){var Ee=be._counterAxes[0],Be=f.getFromId(q,Ee),je=_e==="x"||Ee==="x"&&Be.type==="category",nt=_e==="y"||Ee==="y"&&Be.type==="category";return function(dt,xt){return dt===0||xt===0||je&&dt===me[xt].length-1||nt&&xt===me.length-1?-1:(_e==="y"?xt:dt)-1}}else return function(dt,xt){return _e==="y"?xt:dt}}var Ce={min:function(ke){return t.aggNums(Math.min,null,ke)},max:function(ke){return t.aggNums(Math.max,null,ke)},sum:function(ke){return t.aggNums(function(be,me){return be+me},null,ke)},total:function(ke){return t.aggNums(function(be,me){return be+me},null,ke)},mean:function(ke){return t.mean(ke)},median:function(ke){return t.median(ke)}};function Ae(ke,be){return ke[1]-be[1]}function Ie(ke,be){return be[1]-ke[1]}for($=0;$<X.length;$++){var Te=X[$];if(Te.type==="category"){var Le=Te.categoryorder.match(le);if(Le){var xe=Le[1],Re=Le[2],He=Te._id.charAt(0),Ve=He==="x",Fe=[];for(j=0;j<Te._categories.length;j++)Fe.push([Te._categories[j],[]]);for(j=0;j<Te._traceIndices.length;j++){var We=Te._traceIndices[j],ut=q._fullData[We];if(ut.visible===!0){var ht=ut.type;v.traceIs(ut,"histogram")&&(delete ut._xautoBinFinished,delete ut._yautoBinFinished);var rt=ht==="splom",tt=ht==="scattergl",vt=q.calcdata[We];for(ue=0;ue<vt.length;ue++){var pt=vt[ue],mt,wt;if(rt){var Lt=ut._axesDim[Te._id];if(!Ve){var at=ut._diag[Lt][0];at&&(Te=q._fullLayout[f.id2name(at)])}var Oe=pt.trace.dimensions[Lt].values;for(ae=0;ae<Oe.length;ae++)for(mt=Te._categoriesMap[Oe[ae]],ce=0;ce<pt.trace.dimensions.length;ce++)if(ce!==Lt){var Ze=pt.trace.dimensions[ce];Fe[mt][1].push(Ze.values[ae])}}else if(tt){for(ae=0;ae<pt.t.x.length;ae++)Ve?(mt=pt.t.x[ae],wt=pt.t.y[ae]):(mt=pt.t.y[ae],wt=pt.t.x[ae]),Fe[mt][1].push(wt);pt.t&&pt.t._scene&&delete pt.t._scene.dirty}else if(pt.hasOwnProperty("z")){wt=pt.z;var Je=ye(ut.type,Te,wt);for(ae=0;ae<wt.length;ae++)for(ce=0;ce<wt[ae].length;ce++)mt=Je(ce,ae),mt+1&&Fe[mt][1].push(wt[ae][ce])}else for(mt=pt.p,mt===void 0&&(mt=pt[He]),wt=pt.s,wt===void 0&&(wt=pt.v),wt===void 0&&(wt=Ve?pt.y:pt.x),Array.isArray(wt)||(wt===void 0?wt=[]:wt=[wt]),ae=0;ae<wt.length;ae++)Fe[mt][1].push(wt[ae])}}}Te._categoriesValue=Fe;var Ye=[];for(j=0;j<Fe.length;j++)Ye.push([Fe[j][0],Ce[xe](Fe[j][1])]);Ye.sort(Re==="descending"?Ie:Ae),Te._categoriesAggregatedValue=Ye,Te._initialCategories=Ye.map(function(ke){return ke[0]}),se=se.concat(Te.sortByInitialCategories())}}}return se}function Y(X,q,se){var $={};function j(ye){ye.clearCalc(),ye.type==="multicategory"&&ye.setupMultiCategory(q),$[ye._id]=1}t.simpleMap(X,j);for(var ue=se._axisMatchGroups||[],ae=0;ae<ue.length;ae++)for(var ce in ue[ae])$[ce]||j(se[f.id2name(ce)])}function re(X){var q=X._fullLayout,se=q._visibleModules,$={},j,ue,ae;for(ue=0;ue<se.length;ue++){var ce=se[ue],ye=ce.crossTraceCalc;if(ye){var Ce=ce.basePlotModule.name;$[Ce]?t.pushUnique($[Ce],ye):$[Ce]=[ye]}}for(ae in $){var Ae=$[ae],Ie=q._subplots[ae];if(Array.isArray(Ie))for(j=0;j<Ie.length;j++){var Te=Ie[j],Le=ae==="cartesian"?q._plots[Te]:q[Te];for(ue=0;ue<Ae.length;ue++)Ae[ue](X,Le,Te)}else for(ue=0;ue<Ae.length;ue++)Ae[ue](X)}}d.rehover=function(X){X._fullLayout._rehover&&X._fullLayout._rehover()},d.redrag=function(X){X._fullLayout._redrag&&X._fullLayout._redrag()},d.reselect=function(X){var q=X._fullLayout,se=(X.layout||{}).selections,$=q._previousSelections;q._previousSelections=se;var j=q._reselect||JSON.stringify(se)!==JSON.stringify($);v.getComponentMethod("selections","reselect")(X,j)},d.generalUpdatePerTraceModule=function(X,q,se,$){var j=q.traceHash,ue={},ae;for(ae=0;ae<se.length;ae++){var ce=se[ae],ye=ce[0].trace;ye.visible&&(ue[ye.type]=ue[ye.type]||[],ue[ye.type].push(ce))}for(var Ce in j)if(!ue[Ce]){var Ae=j[Ce][0],Ie=Ae[0].trace;Ie.visible=!1,ue[Ce]=[Ae]}for(var Te in ue){var Le=ue[Te],xe=Le[0][0].trace._module;xe.plot(X,q,t.filterVisible(Le),$)}q.traceHash=ue},d.plotBasePlot=function(X,q,se,$,j){var ue=v.getModule(X),ae=M(q.calcdata,ue)[0];ue.plot(q,ae,$,j)},d.cleanBasePlot=function(X,q,se,$,j){var ue=j._has&&j._has(X),ae=se._has&&se._has(X);ue&&!ae&&j["_"+X+"layer"].selectAll("g.trace").remove()}},39360:function(H){H.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(H,U,e){var p=e(3400),L=e(92065).tester,n=p.findIndexOfMin,C=p.isAngleInsideSector,T=p.angleDelta,v=p.angleDist;function g(i,d,x,A,E){if(!C(d,A))return!1;var y,S;x[0]<x[1]?(y=x[0],S=x[1]):(y=x[1],S=x[0]);var w=L(f(y,A[0],A[1],E)),o=L(f(S,A[0],A[1],E)),_=[i*Math.cos(d),i*Math.sin(d)];return o.contains(_)&&!w.contains(_)}function r(i,d,x,A){var E,y,S=A[0],w=A[1],o=m(Math.sin(d)-Math.sin(i)),_=m(Math.cos(d)-Math.cos(i)),b=Math.tan(x),I=m(1/b),D=o/_,N=w-D*S;return I?o&&_?(E=N/(b-D),y=b*E):_?(E=w*I,y=w):(E=S,y=S*b):o&&_?(E=0,y=N):_?(E=0,y=w):E=y=NaN,[E,y]}function t(i,d,x,A){var E=-d*x,y=d*d+1,S=2*(d*E-x),w=E*E+x*x-i*i,o=Math.sqrt(S*S-4*y*w),_=(-S+o)/(2*y),b=(-S-o)/(2*y);return[[_,d*_+E+A],[b,d*b+E+A]]}function s(i,d){var x=d.length,A=new Array(x+1),E;for(E=0;E<x;E++){var y=d[E];A[E]=[i*Math.cos(y),i*Math.sin(y)]}return A[E]=A[0].slice(),A}function a(i,d,x,A){var E=A.length,y=[],S,w;function o(O){return[i*Math.cos(O),i*Math.sin(O)]}function _(O,B,W){return r(O,B,W,o(O))}function b(O){return p.mod(O,E)}function I(O){return C(O,[d,x])}var D=n(A,function(O){return I(O)?v(O,d):1/0}),N=_(A[D],A[b(D-1)],d);for(y.push(N),S=D,w=0;w<E;S++,w++){var k=A[b(S)];if(!I(k))break;y.push(o(k))}var z=n(A,function(O){return I(O)?v(O,x):1/0}),F=_(A[z],A[b(z+1)],x);return y.push(F),y.push([0,0]),y.push(y[0].slice()),y}function f(i,d,x,A){return p.isFullCircle([d,x])?s(i,A):a(i,d,x,A)}function u(i,d,x,A){for(var E=1/0,y=1/0,S=f(i,d,x,A),w=0;w<S.length;w++){var o=S[w];E=Math.min(E,o[0]),y=Math.min(y,-o[1])}return[E,y]}function l(i,d){var x=function(y){var S=T(y,i);return S>0?S:1/0},A=n(d,x),E=p.mod(A+1,d.length);return[d[A],d[E]]}function m(i){return Math.abs(i)>1e-10?i:0}function h(i,d,x){d=d||0,x=x||0;for(var A=i.length,E=new Array(A),y=0;y<A;y++){var S=i[y];E[y]=[d+S[0],x-S[1]]}return E}function M(i,d,x,A,E,y){var S=f(i,d,x,A);return"M"+h(S,E,y).join("L")}function c(i,d,x,A,E,y,S){var w,o;i<d?(w=i,o=d):(w=d,o=i);var _=h(f(w,x,A,E),y,S),b=h(f(o,x,A,E),y,S);return"M"+b.reverse().join("L")+"M"+_.join("L")}H.exports={isPtInsidePolygon:g,findPolygonOffset:u,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:m,pathPolygon:M,pathPolygonAnnulus:c}},40872:function(H,U,e){var p=e(84888).KY,L=e(3400).counterRegex,n=e(62400),C=e(39360),T=C.attr,v=C.name,g=L(v),r={};r[T]={valType:"subplotid",dflt:v,editType:"calc"};function t(a){for(var f=a._fullLayout,u=a.calcdata,l=f._subplots[v],m=0;m<l.length;m++){var h=l[m],M=p(u,v,h),c=f[h]._subplot;c||(c=n(a,h),f[h]._subplot=c),c.plot(M,f,a._promises)}}function s(a,f,u,l){for(var m=l._subplots[v]||[],h=l._has&&l._has("gl"),M=f._has&&f._has("gl"),c=h&&!M,i=0;i<m.length;i++){var d=m[i],x=l[d]._subplot;if(!f[d]&&x){x.framework.remove(),x.layers["radial-axis-title"].remove();for(var A in x.clipPaths)x.clipPaths[A].remove()}c&&x._scene&&(x._scene.destroy(),x._scene=null)}}H.exports={attr:T,name:v,idRoot:v,idRegex:g,attrRegex:g,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:s,toSVG:e(57952).toSVG}},95300:function(H,U,e){var p=e(22548),L=e(94724),n=e(86968).u,C=e(3400).extendFlat,T=e(67824).overrideAll,v=T({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),g=T({tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,ticklabelstep:L.ticklabelstep,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickfont:L.tickfont,tickangle:L.tickangle,tickformat:L.tickformat,tickformatstops:L.tickformatstops,layer:L.layer},"plot","from-root"),r={visible:C({},L.visible,{dflt:!0}),type:C({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},autorange:C({},L.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:C({},L.minallowed,{editType:"plot"}),maxallowed:C({},L.maxallowed,{editType:"plot"}),range:C({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:L.categoryorder,categoryarray:L.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:L.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},L.title.text,{editType:"plot",dflt:""}),font:C({},L.title.font,{editType:"plot"}),editType:"plot"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}};C(r,v,g);var t={visible:C({},L.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:L.autotypenumbers,categoryorder:L.categoryorder,categoryarray:L.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(t,v,g),H.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:p.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(H,U,e){var p=e(3400),L=e(76308),n=e(31780),C=e(168),T=e(84888).op,v=e(26332),g=e(25404),r=e(95936),t=e(42568),s=e(22416),a=e(42136),f=e(76808),u=e(52976),l=e(95300),m=e(57696),h=e(39360),M=h.axisNames;function c(d,x,A,E){var y=A("bgcolor");E.bgColor=L.combine(y,E.paper_bgcolor);var S=A("sector");A("hole");var w=T(E.fullData,h.name,E.id),o=E.layoutOut,_;function b(q,se){return A(_+"."+q,se)}for(var I=0;I<M.length;I++){_=M[I],p.isPlainObject(d[_])||(d[_]={});var D=d[_],N=n.newContainer(x,_);N._id=N._name=_,N._attr=E.id+"."+_,N._traceIndices=w.map(function(q){return q._expandedIndex});var k=h.axisName2dataArray[_],z=i(D,N,b,w,k,E);s(D,N,b,{axData:w,dataAttr:k});var F=b("visible");switch(m(N,x,o),b("uirevision",x.uirevision),N._m=1,_){case"radialaxis":b("minallowed"),b("maxallowed");var O=b("range"),B=N.getAutorangeDflt(O),W=b("autorange",B),ee;O&&(O[0]===null&&O[1]===null||(O[0]===null||O[1]===null)&&(W==="reversed"||W===!0)||O[0]!==null&&(W==="min"||W==="max reversed")||O[1]!==null&&(W==="max"||W==="min reversed"))&&(O=void 0,delete N.range,N.autorange=!0,ee=!0),ee||(B=N.getAutorangeDflt(O),W=b("autorange",B)),D.autorange=W,W&&(f(b,W,O),(z==="linear"||z==="-")&&b("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(z==="date"){p.log("Polar plots do not support date angular axes yet.");for(var ne=0;ne<w.length;ne++)w[ne].visible=!1;z=D.type=N.type="linear"}b(z==="linear"?"thetaunit":"period");var Q=b("direction");b("rotation",{counterclockwise:0,clockwise:90}[Q]);break}if(t(D,N,b,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"":void 0}),F){var le,Z,Y,re,X=E.font||{};le=b("color"),Z=le===D.color?le:X.color,Y=X.size,re=X.family,v(D,N,b,N.type),r(D,N,b,N.type,{font:{color:Z,size:Y,family:re},noAutotickangles:_==="angularaxis"}),g(D,N,b,{outerTicks:!0}),a(D,N,b,{dfltColor:le,bgColor:E.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[_]}),b("layer"),_==="radialaxis"&&(b("side"),b("angle",S[0]),b("title.text"),p.coerceFont(b,"title.font",{color:Z,size:p.bigFont(Y),family:re}))}z!=="category"&&b("hoverformat"),N._input=D}x.angularaxis.type==="category"&&A("gridshape")}function i(d,x,A,E,y,S){var w=A("autotypenumbers",S.autotypenumbersDflt),o=A("type");if(o==="-"){for(var _,b=0;b<E.length;b++)if(E[b].visible){_=E[b];break}_&&_[y]&&(x.type=u(_[y],"gregorian",{noMultiCategory:!0,autotypenumbers:w})),x.type==="-"?x.type="linear":d.type=x.type}return x.type}H.exports=function(x,A,E){C(x,A,E,{type:h.name,attributes:l,handleDefaults:c,font:A.font,autotypenumbersDflt:A.autotypenumbers,paper_bgcolor:A.paper_bgcolor,fullData:E,layoutOut:A})}},62400:function(H,U,e){var p=e(33428),L=e(49760),n=e(24040),C=e(3400),T=C.strRotate,v=C.strTranslate,g=e(76308),r=e(43616),t=e(7316),s=e(54460),a=e(78344),f=e(57696),u=e(19280).doAutoRange,l=e(51184),m=e(86476),h=e(93024),M=e(81668),c=e(22676).prepSelect,i=e(22676).selectOnClick,d=e(22676).clearOutline,x=e(93972),A=e(73696),E=e(39172).redrawReglTraces,y=e(84284).MID_SHIFT,S=e(39360),w=e(57384),o=e(36416),_=o.smith,b=o.reactanceArc,I=o.resistanceArc,D=o.smithTransform,N=C._,k=C.mod,z=C.deg2rad,F=C.rad2deg;function O(le,Z,Y){this.isSmith=Y||!1,this.id=Z,this.gd=le,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var re=le._fullLayout,X="clip"+re._uid+Z;this.clipIds.forTraces=X+"-for-traces",this.clipPaths.forTraces=re._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=re["_"+(Y?"smith":"polar")+"layer"].append("g").attr("class",Z),this.getHole=function(q){return this.isSmith?0:q.hole},this.getSector=function(q){return this.isSmith?[0,360]:q.sector},this.getRadial=function(q){return this.isSmith?q.realaxis:q.radialaxis},this.getAngular=function(q){return this.isSmith?q.imaginaryaxis:q.angularaxis},Y||(this.radialTickLayout=null,this.angularTickLayout=null)}var B=O.prototype;H.exports=function(Z,Y,re){return new O(Z,Y,re)},B.plot=function(le,Z){for(var Y=this,re=Z[Y.id],X=!1,q=0;q<le.length;q++){var se=le[q][0].trace;if(se.cliponaxis===!1){X=!0;break}}Y._hasClipOnAxisFalse=X,Y.updateLayers(Z,re),Y.updateLayout(Z,re),t.generalUpdatePerTraceModule(Y.gd,Y,le,re),Y.updateFx(Z,re),Y.isSmith&&(delete re.realaxis.range,delete re.imaginaryaxis.range)},B.updateLayers=function(le,Z){var Y=this,re=Y.isSmith,X=Y.layers,q=Y.getRadial(Z),se=Y.getAngular(Z),$=S.layerNames,j=$.indexOf("frontplot"),ue=$.slice(0,j),ae=se.layer==="below traces",ce=q.layer==="below traces";ae&&ue.push("angular-line"),ce&&ue.push("radial-line"),ae&&ue.push("angular-axis"),ce&&ue.push("radial-axis"),ue.push("frontplot"),ae||ue.push("angular-line"),ce||ue.push("radial-line"),ae||ue.push("angular-axis"),ce||ue.push("radial-axis");var ye=(re?"smith":"polar")+"sublayer",Ce=Y.framework.selectAll("."+ye).data(ue,String);Ce.enter().append("g").attr("class",function(Ae){return ye+" "+Ae}).each(function(Ae){var Ie=X[Ae]=p.select(this);switch(Ae){case"frontplot":re||Ie.append("g").classed("barlayer",!0),Ie.append("g").classed("scatterlayer",!0);break;case"backplot":Ie.append("g").classed("maplayer",!0);break;case"plotbg":X.bg=Ie.append("path");break;case"radial-grid":Ie.style("fill","none");break;case"angular-grid":Ie.style("fill","none");break;case"radial-line":Ie.append("line").style("fill","none");break;case"angular-line":Ie.append("path").style("fill","none");break}}),Ce.order()},B.updateLayout=function(le,Z){var Y=this,re=Y.layers,X=le._size,q=Y.getRadial(Z),se=Y.getAngular(Z),$=Z.domain.x,j=Z.domain.y;Y.xOffset=X.l+X.w*$[0],Y.yOffset=X.t+X.h*(1-j[1]);var ue=Y.xLength=X.w*($[1]-$[0]),ae=Y.yLength=X.h*(j[1]-j[0]),ce=Y.getSector(Z);Y.sectorInRad=ce.map(z);var ye=Y.sectorBBox=ee(ce),Ce=ye[2]-ye[0],Ae=ye[3]-ye[1],Ie=ae/ue,Te=Math.abs(Ae/Ce),Le,xe,Re,He,Ve;Ie>Te?(Le=ue,xe=ue*Te,Ve=(ae-xe)/X.h/2,Re=[$[0],$[1]],He=[j[0]+Ve,j[1]-Ve]):(Le=ae/Te,xe=ae,Ve=(ue-Le)/X.w/2,Re=[$[0]+Ve,$[1]-Ve],He=[j[0],j[1]]),Y.xLength2=Le,Y.yLength2=xe,Y.xDomain2=Re,Y.yDomain2=He;var Fe=Y.xOffset2=X.l+X.w*Re[0],We=Y.yOffset2=X.t+X.h*(1-He[1]),ut=Y.radius=Le/Ce,ht=Y.innerRadius=Y.getHole(Z)*ut,rt=Y.cx=Fe-ut*ye[0],tt=Y.cy=We+ut*ye[3],vt=Y.cxx=rt-Fe,pt=Y.cyy=tt-We,mt=q.side,wt;mt==="counterclockwise"?(wt=mt,mt="top"):mt==="clockwise"&&(wt=mt,mt="bottom"),Y.radialAxis=Y.mockAxis(le,Z,q,{_id:"x",side:mt,_trueSide:wt,domain:[ht/X.w,ut/X.w]}),Y.angularAxis=Y.mockAxis(le,Z,se,{side:"right",domain:[0,Math.PI],autorange:!1}),Y.doAutoRange(le,Z),Y.updateAngularAxis(le,Z),Y.updateRadialAxis(le,Z),Y.updateRadialAxisTitle(le,Z),Y.xaxis=Y.mockCartesianAxis(le,Z,{_id:"x",domain:Re}),Y.yaxis=Y.mockCartesianAxis(le,Z,{_id:"y",domain:He});var Lt=Y.pathSubplot();Y.clipPaths.forTraces.select("path").attr("d",Lt).attr("transform",v(vt,pt)),re.frontplot.attr("transform",v(Fe,We)).call(r.setClipUrl,Y._hasClipOnAxisFalse?null:Y.clipIds.forTraces,Y.gd),re.bg.attr("d",Lt).attr("transform",v(rt,tt)).call(g.fill,Z.bgcolor)},B.mockAxis=function(le,Z,Y,re){var X=C.extendFlat({},Y,re);return f(X,Z,le),X},B.mockCartesianAxis=function(le,Z,Y){var re=this,X=re.isSmith,q=Y._id,se=C.extendFlat({type:"linear"},Y);a(se,le);var $={x:[0,2],y:[1,3]};return se.setRange=function(){var j=re.sectorBBox,ue=$[q],ae=re.radialAxis._rl,ce=(ae[1]-ae[0])/(1-re.getHole(Z));se.range=[j[ue[0]]*ce,j[ue[1]]*ce]},se.isPtWithinRange=q==="x"&&!X?function(j){return re.isPtInside(j)}:function(){return!0},se.setRange(),se.setScale(),se},B.doAutoRange=function(le,Z){var Y=this,re=Y.gd,X=Y.radialAxis,q=Y.getRadial(Z);u(re,X);var se=X.range;if(q.range=se.slice(),q._input.range=se.slice(),X._rl=[X.r2l(se[0],null,"gregorian"),X.r2l(se[1],null,"gregorian")],X.minallowed!==void 0){var $=X.r2l(X.minallowed);X._rl[0]>X._rl[1]?X._rl[1]=Math.max(X._rl[1],$):X._rl[0]=Math.max(X._rl[0],$)}if(X.maxallowed!==void 0){var j=X.r2l(X.maxallowed);X._rl[0]<X._rl[1]?X._rl[1]=Math.min(X._rl[1],j):X._rl[0]=Math.min(X._rl[0],j)}},B.updateRadialAxis=function(le,Z){var Y=this,re=Y.gd,X=Y.layers,q=Y.radius,se=Y.innerRadius,$=Y.cx,j=Y.cy,ue=Y.getRadial(Z),ae=k(Y.getSector(Z)[0],360),ce=Y.radialAxis,ye=se<q,Ce=Y.isSmith;Ce||(Y.fillViewInitialKey("radialaxis.angle",ue.angle),Y.fillViewInitialKey("radialaxis.range",ce.range.slice()),ce.setGeometry()),ce.tickangle==="auto"&&ae>90&&ae<=270&&(ce.tickangle=180);var Ae=Ce?function(ut){var ht=D(Y,_([ut.x,0]));return v(ht[0]-$,ht[1]-j)}:function(ut){return v(ce.l2p(ut.x)+se,0)},Ie=Ce?function(ut){return I(Y,ut.x,-1/0,1/0)}:function(ut){return Y.pathArc(ce.r2p(ut.x)+se)},Te=W(ue);if(Y.radialTickLayout!==Te&&(X["radial-axis"].selectAll(".xtick").remove(),Y.radialTickLayout=Te),ye){ce.setScale();var Le=0,xe=Ce?(ce.tickvals||[]).filter(function(ut){return ut>=0}).map(function(ut){return s.tickText(ce,ut,!0,!1)}):s.calcTicks(ce),Re=Ce?xe:s.clipEnds(ce,xe),He=s.getTickSigns(ce)[2];Ce&&((ce.ticks==="top"&&ce.side==="bottom"||ce.ticks==="bottom"&&ce.side==="top")&&(He=-He),ce.ticks==="top"&&ce.side==="top"&&(Le=-ce.ticklen),ce.ticks==="bottom"&&ce.side==="bottom"&&(Le=ce.ticklen)),s.drawTicks(re,ce,{vals:xe,layer:X["radial-axis"],path:s.makeTickPath(ce,0,He),transFn:Ae,crisp:!1}),s.drawGrid(re,ce,{vals:Re,layer:X["radial-grid"],path:Ie,transFn:C.noop,crisp:!1}),s.drawLabels(re,ce,{vals:xe,layer:X["radial-axis"],transFn:Ae,labelFns:s.makeLabelFns(ce,Le)})}var Ve=Y.radialAxisAngle=Y.vangles?F(ne(z(ue.angle),Y.vangles)):ue.angle,Fe=v($,j),We=Fe+T(-Ve);Q(X["radial-axis"],ye&&(ue.showticklabels||ue.ticks),{transform:We}),Q(X["radial-grid"],ye&&ue.showgrid,{transform:Ce?"":Fe}),Q(X["radial-line"].select("line"),ye&&ue.showline,{x1:Ce?-q:se,y1:0,x2:q,y2:0,transform:We}).attr("stroke-width",ue.linewidth).call(g.stroke,ue.linecolor)},B.updateRadialAxisTitle=function(le,Z,Y){if(!this.isSmith){var re=this,X=re.gd,q=re.radius,se=re.cx,$=re.cy,j=re.getRadial(Z),ue=re.id+"title",ae=0;if(j.title){var ce=r.bBox(re.layers["radial-axis"].node()).height,ye=j.title.font.size,Ce=j.side;ae=Ce==="top"?ye:Ce==="counterclockwise"?-(ce+ye*.4):ce+ye*.8}var Ae=Y!==void 0?Y:re.radialAxisAngle,Ie=z(Ae),Te=Math.cos(Ie),Le=Math.sin(Ie),xe=se+q/2*Te+ae*Le,Re=$-q/2*Le+ae*Te;re.layers["radial-axis-title"]=M.draw(X,ue,{propContainer:j,propName:re.id+".radialaxis.title",placeholder:N(X,"Click to enter radial axis title"),attributes:{x:xe,y:Re,"text-anchor":"middle"},transform:{rotate:-Ae}})}},B.updateAngularAxis=function(le,Z){var Y=this,re=Y.gd,X=Y.layers,q=Y.radius,se=Y.innerRadius,$=Y.cx,j=Y.cy,ue=Y.getAngular(Z),ae=Y.angularAxis,ce=Y.isSmith;ce||(Y.fillViewInitialKey("angularaxis.rotation",ue.rotation),ae.setGeometry(),ae.setScale());var ye=ce?function(ht){var rt=D(Y,_([0,ht.x]));return Math.atan2(rt[0]-$,rt[1]-j)-Math.PI/2}:function(ht){return ae.t2g(ht.x)};ae.type==="linear"&&ae.thetaunit==="radians"&&(ae.tick0=F(ae.tick0),ae.dtick=F(ae.dtick));var Ce=function(ht){return v($+q*Math.cos(ht),j-q*Math.sin(ht))},Ae=ce?function(ht){var rt=D(Y,_([0,ht.x]));return v(rt[0],rt[1])}:function(ht){return Ce(ye(ht))},Ie=ce?function(ht){var rt=D(Y,_([0,ht.x])),tt=Math.atan2(rt[0]-$,rt[1]-j)-Math.PI/2;return v(rt[0],rt[1])+T(-F(tt))}:function(ht){var rt=ye(ht);return Ce(rt)+T(-F(rt))},Te=ce?function(ht){return b(Y,ht.x,0,1/0)}:function(ht){var rt=ye(ht),tt=Math.cos(rt),vt=Math.sin(rt);return"M"+[$+se*tt,j-se*vt]+"L"+[$+q*tt,j-q*vt]},Le=s.makeLabelFns(ae,0),xe=Le.labelStandoff,Re={};Re.xFn=function(ht){var rt=ye(ht);return Math.cos(rt)*xe},Re.yFn=function(ht){var rt=ye(ht),tt=Math.sin(rt)>0?.2:1;return-Math.sin(rt)*(xe+ht.fontSize*tt)+Math.abs(Math.cos(rt))*(ht.fontSize*y)},Re.anchorFn=function(ht){var rt=ye(ht),tt=Math.cos(rt);return Math.abs(tt)<.1?"middle":tt>0?"start":"end"},Re.heightFn=function(ht,rt,tt){var vt=ye(ht);return-.5*(1+Math.sin(vt))*tt};var He=W(ue);Y.angularTickLayout!==He&&(X["angular-axis"].selectAll("."+ae._id+"tick").remove(),Y.angularTickLayout=He);var Ve=ce?[1/0].concat(ae.tickvals||[]).map(function(ht){return s.tickText(ae,ht,!0,!1)}):s.calcTicks(ae);ce&&(Ve[0].text="",Ve[0].fontSize*=1.75);var Fe;if(Z.gridshape==="linear"?(Fe=Ve.map(ye),C.angleDelta(Fe[0],Fe[1])<0&&(Fe=Fe.slice().reverse())):Fe=null,Y.vangles=Fe,ae.type==="category"&&(Ve=Ve.filter(function(ht){return C.isAngleInsideSector(ye(ht),Y.sectorInRad)})),ae.visible){var We=ae.ticks==="inside"?-1:1,ut=(ae.linewidth||1)/2;s.drawTicks(re,ae,{vals:Ve,layer:X["angular-axis"],path:"M"+We*ut+",0h"+We*ae.ticklen,transFn:Ie,crisp:!1}),s.drawGrid(re,ae,{vals:Ve,layer:X["angular-grid"],path:Te,transFn:C.noop,crisp:!1}),s.drawLabels(re,ae,{vals:Ve,layer:X["angular-axis"],repositionOnUpdate:!0,transFn:Ae,labelFns:Re})}Q(X["angular-line"].select("path"),ue.showline,{d:Y.pathSubplot(),transform:v($,j)}).attr("stroke-width",ue.linewidth).call(g.stroke,ue.linecolor)},B.updateFx=function(le,Z){if(!this.gd._context.staticPlot){var Y=!this.isSmith;Y&&(this.updateAngularDrag(le),this.updateRadialDrag(le,Z,0),this.updateRadialDrag(le,Z,1)),this.updateHoverAndMainDrag(le)}},B.updateHoverAndMainDrag=function(le){var Z=this,Y=Z.isSmith,re=Z.gd,X=Z.layers,q=le._zoomlayer,se=S.MINZOOM,$=S.OFFEDGE,j=Z.radius,ue=Z.innerRadius,ae=Z.cx,ce=Z.cy,ye=Z.cxx,Ce=Z.cyy,Ae=Z.sectorInRad,Ie=Z.vangles,Te=Z.radialAxis,Le=w.clampTiny,xe=w.findXYatLength,Re=w.findEnclosingVertexAngles,He=S.cornerHalfWidth,Ve=S.cornerLen/2,Fe,We,ut=l.makeDragger(X,"path","maindrag",le.dragmode===!1?"none":"crosshair");p.select(ut).attr("d",Z.pathSubplot()).attr("transform",v(ae,ce)),ut.onmousemove=function(St){h.hover(re,St,Z.id),re._fullLayout._lasthover=ut,re._fullLayout._hoversubplot=Z.id},ut.onmouseout=function(St){re._dragging||m.unhover(re,St)};var ht={element:ut,gd:re,subplot:Z.id,plotinfo:{id:Z.id,xaxis:Z.xaxis,yaxis:Z.yaxis},xaxes:[Z.xaxis],yaxes:[Z.yaxis]},rt,tt,vt,pt,mt,wt,Lt,at,Oe;function Ze(St,Ft){return Math.sqrt(St*St+Ft*Ft)}function Je(St,Ft){return Ze(St-ye,Ft-Ce)}function Ye(St,Ft){return Math.atan2(Ce-Ft,St-ye)}function ke(St,Ft){return[St*Math.cos(Ft),St*Math.sin(-Ft)]}function be(St,Ft){if(St===0)return Z.pathSector(2*He);var rr=Ve/St,_r=Ft-rr,Tt=Ft+rr,$t=Math.max(0,Math.min(St,j)),tr=$t-He,Tr=$t+He;return"M"+ke(tr,_r)+"A"+[tr,tr]+" 0,0,0 "+ke(tr,Tt)+"L"+ke(Tr,Tt)+"A"+[Tr,Tr]+" 0,0,1 "+ke(Tr,_r)+"Z"}function me(St,Ft,rr){if(St===0)return Z.pathSector(2*He);var _r=ke(St,Ft),Tt=ke(St,rr),$t=Le((_r[0]+Tt[0])/2),tr=Le((_r[1]+Tt[1])/2),Tr,cr;if($t&&tr){var bt=tr/$t,lt=-1/bt,Mt=xe(He,bt,$t,tr);Tr=xe(Ve,lt,Mt[0][0],Mt[0][1]),cr=xe(Ve,lt,Mt[1][0],Mt[1][1])}else{var _t,Ot;tr?(_t=Ve,Ot=He):(_t=He,Ot=Ve),Tr=[[$t-_t,tr-Ot],[$t+_t,tr-Ot]],cr=[[$t-_t,tr+Ot],[$t+_t,tr+Ot]]}return"M"+Tr.join("L")+"L"+cr.reverse().join("L")+"Z"}function _e(){vt=null,pt=null,mt=Z.pathSubplot(),wt=!1;var St=re._fullLayout[Z.id];Lt=L(St.bgcolor).getLuminance(),at=l.makeZoombox(q,Lt,ae,ce,mt),at.attr("fill-rule","evenodd"),Oe=l.makeCorners(q,ae,ce),d(re)}function Ee(St,Ft){return Ft=Math.max(Math.min(Ft,j),ue),St<$?St=0:j-St<$?St=j:Ft<$?Ft=0:j-Ft<$&&(Ft=j),Math.abs(Ft-St)>se?(St<Ft?(vt=St,pt=Ft):(vt=Ft,pt=St),!0):(vt=null,pt=null,!1)}function Be(St,Ft){St=St||mt,Ft=Ft||"M0,0Z",at.attr("d",St),Oe.attr("d",Ft),l.transitionZoombox(at,Oe,wt,Lt),wt=!0;var rr={};Kt(rr),re.emit("plotly_relayouting",rr)}function je(St,Ft){St=St*Fe,Ft=Ft*We;var rr=rt+St,_r=tt+Ft,Tt=Je(rt,tt),$t=Math.min(Je(rr,_r),j),tr=Ye(rt,tt),Tr,cr;Ee(Tt,$t)&&(Tr=mt+Z.pathSector(pt),vt&&(Tr+=Z.pathSector(vt)),cr=be(vt,tr)+be(pt,tr)),Be(Tr,cr)}function nt(St,Ft,rr,_r){var Tt=w.findIntersectionXY(rr,_r,rr,[St-ye,Ce-Ft]);return Ze(Tt[0],Tt[1])}function dt(St,Ft){var rr=rt+St,_r=tt+Ft,Tt=Ye(rt,tt),$t=Ye(rr,_r),tr=Re(Tt,Ie),Tr=Re($t,Ie),cr=nt(rt,tt,tr[0],tr[1]),bt=Math.min(nt(rr,_r,Tr[0],Tr[1]),j),lt,Mt;Ee(cr,bt)&&(lt=mt+Z.pathSector(pt),vt&&(lt+=Z.pathSector(vt)),Mt=[me(vt,tr[0],tr[1]),me(pt,tr[0],tr[1])].join(" ")),Be(lt,Mt)}function xt(){if(l.removeZoombox(re),!(vt===null||pt===null)){var St={};Kt(St),l.showDoubleClickNotifier(re),n.call("_guiRelayout",re,St)}}function Kt(St){var Ft=Te._rl,rr=(Ft[1]-Ft[0])/(1-ue/j)/j,_r=[Ft[0]+(vt-ue)*rr,Ft[0]+(pt-ue)*rr];St[Z.id+".radialaxis.range"]=_r}function Jt(St,Ft){var rr=re._fullLayout.clickmode;if(l.removeZoombox(re),St===2){var _r={};for(var Tt in Z.viewInitial)_r[Z.id+"."+Tt]=Z.viewInitial[Tt];re.emit("plotly_doubleclick",null),n.call("_guiRelayout",re,_r)}rr.indexOf("select")>-1&&St===1&&i(Ft,re,[Z.xaxis],[Z.yaxis],Z.id,ht),rr.indexOf("event")>-1&&h.click(re,Ft,Z.id)}ht.prepFn=function(St,Ft,rr){var _r=re._fullLayout.dragmode,Tt=ut.getBoundingClientRect();re._fullLayout._calcInverseTransform(re);var $t=re._fullLayout._invTransform;Fe=re._fullLayout._invScaleX,We=re._fullLayout._invScaleY;var tr=C.apply3DTransform($t)(Ft-Tt.left,rr-Tt.top);if(rt=tr[0],tt=tr[1],Ie){var Tr=w.findPolygonOffset(j,Ae[0],Ae[1],Ie);rt+=ye+Tr[0],tt+=Ce+Tr[1]}switch(_r){case"zoom":ht.clickFn=Jt,Y||(Ie?ht.moveFn=dt:ht.moveFn=je,ht.doneFn=xt,_e());break;case"select":case"lasso":c(St,Ft,rr,ht,_r);break}},m.init(ht)},B.updateRadialDrag=function(le,Z,Y){var re=this,X=re.gd,q=re.layers,se=re.radius,$=re.innerRadius,j=re.cx,ue=re.cy,ae=re.radialAxis,ce=S.radialDragBoxSize,ye=ce/2;if(!ae.visible)return;var Ce=z(re.radialAxisAngle),Ae=ae._rl,Ie=Ae[0],Te=Ae[1],Le=Ae[Y],xe=.75*(Ae[1]-Ae[0])/(1-re.getHole(Z))/se,Re,He,Ve;Y?(Re=j+(se+ye)*Math.cos(Ce),He=ue-(se+ye)*Math.sin(Ce),Ve="radialdrag"):(Re=j+($-ye)*Math.cos(Ce),He=ue-($-ye)*Math.sin(Ce),Ve="radialdrag-inner");var Fe=l.makeRectDragger(q,Ve,"crosshair",-ye,-ye,ce,ce),We={element:Fe,gd:X};le.dragmode===!1&&(We.dragmode=!1),Q(p.select(Fe),ae.visible&&$<se,{transform:v(Re,He)});var ut,ht,rt;function tt(Lt,at){if(ut)ut(Lt,at);else{var Oe=[Lt,-at],Ze=[Math.cos(Ce),Math.sin(Ce)],Je=Math.abs(C.dot(Oe,Ze)/Math.sqrt(C.dot(Oe,Oe)));isNaN(Je)||(ut=Je<.5?mt:wt)}var Ye={};vt(Ye),X.emit("plotly_relayouting",Ye)}function vt(Lt){ht!==null?Lt[re.id+".radialaxis.angle"]=ht:rt!==null&&(Lt[re.id+".radialaxis.range["+Y+"]"]=rt)}function pt(){ht!==null?n.call("_guiRelayout",X,re.id+".radialaxis.angle",ht):rt!==null&&n.call("_guiRelayout",X,re.id+".radialaxis.range["+Y+"]",rt)}function mt(Lt,at){if(Y!==0){var Oe=Re+Lt,Ze=He+at;ht=Math.atan2(ue-Ze,Oe-j),re.vangles&&(ht=ne(ht,re.vangles)),ht=F(ht);var Je=v(j,ue)+T(-ht);q["radial-axis"].attr("transform",Je),q["radial-line"].select("line").attr("transform",Je);var Ye=re.gd._fullLayout,ke=Ye[re.id];re.updateRadialAxisTitle(Ye,ke,ht)}}function wt(Lt,at){var Oe=C.dot([Lt,-at],[Math.cos(Ce),Math.sin(Ce)]);if(rt=Le-xe*Oe,xe>0!=(Y?rt>Ie:rt<Te)){rt=null;return}var Ze=X._fullLayout,Je=Ze[re.id];ae.range[Y]=rt,ae._rl[Y]=rt,re.updateRadialAxis(Ze,Je),re.xaxis.setRange(),re.xaxis.setScale(),re.yaxis.setRange(),re.yaxis.setScale();var Ye=!1;for(var ke in re.traceHash){var be=re.traceHash[ke],me=C.filterVisible(be),_e=be[0][0].trace._module;_e.plot(X,re,me,Je),n.traceIs(ke,"gl")&&me.length&&(Ye=!0)}Ye&&(A(X),E(X))}We.prepFn=function(){ut=null,ht=null,rt=null,We.moveFn=tt,We.doneFn=pt,d(X)},We.clampFn=function(Lt,at){return Math.sqrt(Lt*Lt+at*at)<S.MINDRAG&&(Lt=0,at=0),[Lt,at]},m.init(We)},B.updateAngularDrag=function(le){var Z=this,Y=Z.gd,re=Z.layers,X=Z.radius,q=Z.angularAxis,se=Z.cx,$=Z.cy,j=Z.cxx,ue=Z.cyy,ae=S.angularDragBoxSize,ce=l.makeDragger(re,"path","angulardrag",le.dragmode===!1?"none":"move"),ye={element:ce,gd:Y};le.dragmode===!1?ye.dragmode=!1:p.select(ce).attr("d",Z.pathAnnulus(X,X+ae)).attr("transform",v(se,$)).call(x,"move");function Ce(rt,tt){return Math.atan2(ue+ae-tt,rt-j-ae)}var Ae=re.frontplot.select(".scatterlayer").selectAll(".trace"),Ie=Ae.selectAll(".point"),Te=Ae.selectAll(".textpoint"),Le,xe,Re,He,Ve,Fe;function We(rt,tt){var vt=Z.gd._fullLayout,pt=vt[Z.id],mt=Le+rt*le._invScaleX,wt=xe+tt*le._invScaleY,Lt=Ce(mt,wt),at=F(Lt-Fe);if(He=Re+at,re.frontplot.attr("transform",v(Z.xOffset2,Z.yOffset2)+T([-at,j,ue])),Z.vangles){Ve=Z.radialAxisAngle+at;var Oe=v(se,$)+T(-at),Ze=v(se,$)+T(-Ve);re.bg.attr("transform",Oe),re["radial-grid"].attr("transform",Oe),re["radial-axis"].attr("transform",Ze),re["radial-line"].select("line").attr("transform",Ze),Z.updateRadialAxisTitle(vt,pt,Ve)}else Z.clipPaths.forTraces.select("path").attr("transform",v(j,ue)+T(at));Ie.each(function(){var Ee=p.select(this),Be=r.getTranslate(Ee);Ee.attr("transform",v(Be.x,Be.y)+T([at]))}),Te.each(function(){var Ee=p.select(this),Be=Ee.select("text"),je=r.getTranslate(Ee);Ee.attr("transform",T([at,Be.attr("x"),Be.attr("y")])+v(je.x,je.y))}),q.rotation=C.modHalf(He,360),Z.updateAngularAxis(vt,pt),Z._hasClipOnAxisFalse&&!C.isFullCircle(Z.sectorInRad)&&Ae.call(r.hideOutsideRangePoints,Z);var Je=!1;for(var Ye in Z.traceHash)if(n.traceIs(Ye,"gl")){var ke=Z.traceHash[Ye],be=C.filterVisible(ke),me=ke[0][0].trace._module;me.plot(Y,Z,be,pt),be.length&&(Je=!0)}Je&&(A(Y),E(Y));var _e={};ut(_e),Y.emit("plotly_relayouting",_e)}function ut(rt){rt[Z.id+".angularaxis.rotation"]=He,Z.vangles&&(rt[Z.id+".radialaxis.angle"]=Ve)}function ht(){Te.select("text").attr("transform",null);var rt={};ut(rt),n.call("_guiRelayout",Y,rt)}ye.prepFn=function(rt,tt,vt){var pt=le[Z.id];Re=pt.angularaxis.rotation;var mt=ce.getBoundingClientRect();Le=tt-mt.left,xe=vt-mt.top,Y._fullLayout._calcInverseTransform(Y);var wt=C.apply3DTransform(le._invTransform)(Le,xe);Le=wt[0],xe=wt[1],Fe=Ce(Le,xe),ye.moveFn=We,ye.doneFn=ht,d(Y)},Z.vangles&&!C.isFullCircle(Z.sectorInRad)&&(ye.prepFn=C.noop,x(p.select(ce),null)),m.init(ye)},B.isPtInside=function(le){if(this.isSmith)return!0;var Z=this.sectorInRad,Y=this.vangles,re=this.angularAxis.c2g(le.theta),X=this.radialAxis,q=X.c2l(le.r),se=X._rl,$=Y?w.isPtInsidePolygon:C.isPtInsideSector;return $(q,re,se,Z,Y)},B.pathArc=function(le){var Z=this.sectorInRad,Y=this.vangles,re=Y?w.pathPolygon:C.pathArc;return re(le,Z[0],Z[1],Y)},B.pathSector=function(le){var Z=this.sectorInRad,Y=this.vangles,re=Y?w.pathPolygon:C.pathSector;return re(le,Z[0],Z[1],Y)},B.pathAnnulus=function(le,Z){var Y=this.sectorInRad,re=this.vangles,X=re?w.pathPolygonAnnulus:C.pathAnnulus;return X(le,Z,Y[0],Y[1],re)},B.pathSubplot=function(){var le=this.innerRadius,Z=this.radius;return le?this.pathAnnulus(le,Z):this.pathSector(Z)},B.fillViewInitialKey=function(le,Z){le in this.viewInitial||(this.viewInitial[le]=Z)};function W(le){var Z=le.ticks+String(le.ticklen)+String(le.showticklabels);return"side"in le&&(Z+=le.side),Z}function ee(le){var Z=le[0],Y=le[1],re=Y-Z,X=k(Z,360),q=X+re,se=Math.cos(z(X)),$=Math.sin(z(X)),j=Math.cos(z(q)),ue=Math.sin(z(q)),ae,ce,ye,Ce;return X<=90&&q>=90||X>90&&q>=450?Ce=1:$<=0&&ue<=0?Ce=0:Ce=Math.max($,ue),X<=180&&q>=180||X>180&&q>=540?ae=-1:se>=0&&j>=0?ae=0:ae=Math.min(se,j),X<=270&&q>=270||X>270&&q>=630?ce=-1:$>=0&&ue>=0?ce=0:ce=Math.min($,ue),q>=360?ye=1:se<=0&&j<=0?ye=0:ye=Math.max(se,j),[ae,ce,ye,Ce]}function ne(le,Z){var Y=function(X){return C.angleDist(le,X)},re=C.findIndexOfMin(Z,Y);return Z[re]}function Q(le,Z,Y){return Z?(le.attr("display",null),le.attr(Y)):le&&le.attr("display","none"),le}},57696:function(H,U,e){var p=e(3400),L=e(78344),n=p.deg2rad,C=p.rad2deg;H.exports=function(s,a,f){switch(L(s,f),s._id){case"x":case"radialaxis":T(s,a);break;case"angularaxis":r(s,a);break}};function T(t,s){var a=s._subplot;t.setGeometry=function(){var f=t._rl[0],u=t._rl[1],l=a.innerRadius,m=(a.radius-l)/(u-f),h=l/m,M=f>u?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var i=t.c2l(c)-f;return(M(i)?i:0)+h},t.g2c=function(c){return t.l2c(c+f-h)},t.g2p=function(c){return c*m},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,s){return s==="degrees"?n(t):t}function g(t,s){return s==="degrees"?C(t):t}function r(t,s){var a=t.type;if(a==="linear"){var f=t.d2c,u=t.c2d;t.d2c=function(l,m){return v(f(l),m)},t.c2d=function(l,m){return u(g(l,m))}}t.makeCalcdata=function(l,m){var h=l[m],M=l._length,c,i,d=function(S){return t.d2c(S,l.thetaunit)};if(h)for(c=new Array(M),i=0;i<M;i++)c[i]=d(h[i]);else{var x=m+"0",A="d"+m,E=x in l?d(l[x]):0,y=l[A]?d(l[A]):(t.period||2*Math.PI)/M;for(c=new Array(M),i=0;i<M;i++)c[i]=E+i*y}return c},t.setGeometry=function(){var l=s.sector,m=l.map(n),h={clockwise:-1,counterclockwise:1}[t.direction],M=n(t.rotation),c=function(w){return h*w+M},i=function(w){return(w-M)/h},d,x,A,E;switch(a){case"linear":x=d=p.identity,E=n,A=C,t.range=p.isFullCircle(m)?[l[0],l[0]+360]:m.map(i).map(C);break;case"category":var y=t._categories.length,S=t.period?Math.max(t.period,y):y;S===0&&(S=1),x=E=function(w){return w*2*Math.PI/S},d=A=function(w){return w*S/Math.PI/2},t.range=[0,S];break}t.c2g=function(w){return c(x(w))},t.g2c=function(w){return d(i(w))},t.t2g=function(w){return c(E(w))},t.g2t=function(w){return A(i(w))}}}},55012:function(H){H.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(H){function U(T){return T<0?-1:T>0?1:0}function e(T){var v=T[0],g=T[1];if(!isFinite(v)||!isFinite(g))return[1,0];var r=(v+1)*(v+1)+g*g;return[(v*v+g*g-1)/r,2*g/r]}function p(T,v){var g=v[0],r=v[1];return[g*T.radius+T.cx,-r*T.radius+T.cy]}function L(T,v){return v*T.radius}function n(T,v,g,r){var t=p(T,e([g,v])),s=t[0],a=t[1],f=p(T,e([r,v])),u=f[0],l=f[1];if(v===0)return["M"+s+","+a,"L"+u+","+l].join(" ");var m=L(T,1/Math.abs(v));return["M"+s+","+a,"A"+m+","+m+" 0 0,"+(v<0?1:0)+" "+u+","+l].join(" ")}function C(T,v,g,r){var t=L(T,1/(v+1)),s=p(T,e([v,g])),a=s[0],f=s[1],u=p(T,e([v,r])),l=u[0],m=u[1];if(U(g)!==U(r)){var h=p(T,e([v,0])),M=h[0],c=h[1];return["M"+a+","+f,"A"+t+","+t+" 0 0,"+(0<g?0:1)+" "+M+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+m].join(" ")}return["M"+a+","+f,"A"+t+","+t+" 0 0,"+(r<g?0:1)+" "+l+","+m].join(" ")}H.exports={smith:e,reactanceArc:n,resistanceArc:C,smithTransform:p}},47788:function(H,U,e){var p=e(84888).KY,L=e(3400).counterRegex,n=e(62400),C=e(55012),T=C.attr,v=C.name,g=L(v),r={};r[T]={valType:"subplotid",dflt:v,editType:"calc"};function t(a){for(var f=a._fullLayout,u=a.calcdata,l=f._subplots[v],m=0;m<l.length;m++){var h=l[m],M=p(u,v,h),c=f[h]._subplot;c||(c=n(a,h,!0),f[h]._subplot=c),c.plot(M,f,a._promises)}}function s(a,f,u,l){for(var m=l._subplots[v]||[],h=0;h<m.length;h++){var M=m[h],c=l[M]._subplot;if(!f[M]&&c){c.framework.remove();for(var i in c.clipPaths)c.clipPaths[i].remove()}}}H.exports={attr:T,name:v,idRoot:v,idRegex:g,attrRegex:g,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:s,toSVG:e(57952).toSVG}},6183:function(H,U,e){var p=e(22548),L=e(94724),n=e(86968).u,C=e(3400).extendFlat,T=e(67824).overrideAll,v=T({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),g=T({ticklen:L.ticklen,tickwidth:C({},L.tickwidth,{dflt:2}),tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,tickfont:L.tickfont,tickformat:L.tickformat,hoverformat:L.hoverformat,layer:L.layer},"plot","from-root"),r=C({visible:C({},L.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},L.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,g),t=C({visible:C({},L.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:L.ticks,editType:"calc"},v,g);H.exports={domain:n({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:p.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(H,U,e){var p=e(3400),L=e(76308),n=e(31780),C=e(168),T=e(84888).op,v=e(42568),g=e(95936),r=e(42136),t=e(78344),s=e(6183),a=e(55012),f=a.axisNames,u=m(function(h){return p.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(M){return-M}).concat([0]).concat(h)},String);function l(h,M,c,i){var d=c("bgcolor");i.bgColor=L.combine(d,i.paper_bgcolor);var x=T(i.fullData,a.name,i.id),A=i.layoutOut,E;function y(B,W){return c(E+"."+B,W)}for(var S=0;S<f.length;S++){E=f[S],p.isPlainObject(h[E])||(h[E]={});var w=h[E],o=n.newContainer(M,E);o._id=o._name=E,o._attr=i.id+"."+E,o._traceIndices=x.map(function(B){return B._expandedIndex});var _=y("visible");if(o.type="linear",t(o,A),v(w,o,y,o.type),_){var b=E==="realaxis";if(b&&y("side"),b)y("tickvals");else{var I=u(M.realaxis.tickvals||s.realaxis.tickvals.dflt);y("tickvals",I)}p.isTypedArray(o.tickvals)&&(o.tickvals=Array.from(o.tickvals));var D,N,k,z,F=i.font||{};_&&(D=y("color"),N=D===w.color?D:F.color,k=F.size,z=F.family),g(w,o,y,o.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!b,noExp:!0,font:{color:N,size:k,family:z}}),p.coerce2(h,M,s,E+".ticklen"),p.coerce2(h,M,s,E+".tickwidth"),p.coerce2(h,M,s,E+".tickcolor",M.color);var O=y("ticks");O||(delete M[E].ticklen,delete M[E].tickwidth,delete M[E].tickcolor),r(w,o,y,{dfltColor:D,bgColor:i.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[E]}),y("layer")}y("hoverformat"),delete o.type,o._input=w}}H.exports=function(M,c,i){C(M,c,i,{noUirevision:!0,type:a.name,attributes:s,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:i,layoutOut:c})};function m(h,M){var c={};return function(i){var d=M?M(i):i;if(d in c)return c[d];var x=h(i);return c[d]=x,x}}},168:function(H,U,e){var p=e(3400),L=e(31780),n=e(86968).Q;H.exports=function(T,v,g,r){var t=r.type,s=r.attributes,a=r.handleDefaults,f=r.partition||"x",u=v._subplots[t],l=u.length,m=l&&u[0].replace(/\d+$/,""),h,M;function c(A,E){return p.coerce(h,M,s,A,E)}for(var i=0;i<l;i++){var d=u[i];T[d]?h=T[d]:h=T[d]={},M=L.newContainer(v,d,m),r.noUirevision||c("uirevision",v.uirevision);var x={};x[f]=[i/l,(i+1)/l],n(M,v,c,x),r.id=d,a(h,M,c,r)}}},21776:function(H,U,e){var p=e(26880);p.FORMAT_LINK,p.DATE_FORMAT_LINK;function L(n){var C=n.description?" "+n.description:"",T=n.keys||[];if(T.length>0){for(var v=[],g=0;g<T.length;g++)v[g]="`"+T[g]+"`";C=C+"Finally, the template string has access to ",T.length===1?C=C+"variable "+v[0]:C=C+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return C}U.Ks=function(n,C){n=n||{},C=C||{},L(C);var T={valType:"string",dflt:"",editType:n.editType||"none"};return n.arrayOk!==!1&&(T.arrayOk=!0),T},U.Gw=function(n,C){n=n||{},C=C||{},L(C);var T={valType:"string",dflt:"",editType:n.editType||"calc"};return n.arrayOk!==!1&&(T.arrayOk=!0),T},U.ye=function(n,C){n=n||{},C=C||{},n.newshape,L(C);var T={valType:"string",dflt:"",editType:n.editType||"arraydraw"};return T}},19352:function(H,U,e){var p=e(24696),L=e(84888).KY,n=e(3400).counterRegex,C="ternary";U.name=C;var T=U.attr="subplot";U.idRoot=C,U.idRegex=U.attrRegex=n(C);var v=U.attributes={};v[T]={valType:"subplotid",dflt:"ternary",editType:"calc"},U.layoutAttributes=e(86379),U.supplyLayoutDefaults=e(38536),U.plot=function(r){for(var t=r._fullLayout,s=r.calcdata,a=t._subplots[C],f=0;f<a.length;f++){var u=a[f],l=L(s,C,u),m=t[u]._subplot;m||(m=new p({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=m),m.plot(l,t,r._promises)}},U.clean=function(g,r,t,s){for(var a=s._subplots[C]||[],f=0;f<a.length;f++){var u=a[f],l=s[u]._subplot;!r[u]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(H,U,e){var p=e(22548),L=e(86968).u,n=e(94724),C=e(67824).overrideAll,T=e(92880).extendFlat,v={title:{text:n.title.text,font:n.title.font},color:n.color,tickmode:n.minor.tickmode,nticks:T({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,labelalias:n.labelalias,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,minexponent:n.minexponent,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:T({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:T({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,griddash:n.griddash,layer:n.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:n._deprecated.title,titlefont:n._deprecated.titlefont}},g=H.exports=C({domain:L({name:"ternary"}),bgcolor:{valType:"color",dflt:p.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");g.uirevision={valType:"any",editType:"none"},g.aaxis.uirevision=g.baxis.uirevision=g.caxis.uirevision={valType:"any",editType:"none"}},38536:function(H,U,e){var p=e(76308),L=e(31780),n=e(3400),C=e(168),T=e(95936),v=e(42568),g=e(25404),r=e(26332),t=e(42136),s=e(86379),a=["aaxis","baxis","caxis"];H.exports=function(m,h,M){C(m,h,M,{type:"ternary",attributes:s,handleDefaults:f,font:h.font,paper_bgcolor:h.paper_bgcolor})};function f(l,m,h,M){var c=h("bgcolor"),i=h("sum");M.bgColor=p.combine(c,M.paper_bgcolor);for(var d,x,A,E=0;E<a.length;E++)d=a[E],x=l[d]||{},A=L.newContainer(m,d),A._name=d,u(x,A,M,m);var y=m.aaxis,S=m.baxis,w=m.caxis;y.min+S.min+w.min>=i&&(y.min=0,S.min=0,w.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function u(l,m,h,M){var c=s[m._name];function i(o,_){return n.coerce(l,m,c,o,_)}i("uirevision",M.uirevision),m.type="linear";var d=i("color"),x=d!==c.color.dflt?d:h.font.color,A=m._name,E=A.charAt(0).toUpperCase(),y="Component "+E,S=i("title.text",y);m._hovertitle=S===y?S:E,n.coerceFont(i,"title.font",{family:h.font.family,size:n.bigFont(h.font.size),color:x}),i("min"),r(l,m,i,"linear"),v(l,m,i,"linear"),T(l,m,i,"linear",{noAutotickangles:!0}),g(l,m,i,{outerTicks:!0});var w=i("showticklabels");w&&(n.coerceFont(i,"tickfont",{family:h.font.family,size:h.font.size,color:x}),i("tickangle"),i("tickformat")),t(l,m,i,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),i("hoverformat"),i("layer")}},24696:function(H,U,e){var p=e(33428),L=e(49760),n=e(24040),C=e(3400),T=C.strTranslate,v=C._,g=e(76308),r=e(43616),t=e(78344),s=e(92880).extendFlat,a=e(7316),f=e(54460),u=e(86476),l=e(93024),m=e(72760),h=m.freeMode,M=m.rectMode,c=e(81668),i=e(22676).prepSelect,d=e(22676).selectOnClick,x=e(22676).clearOutline,A=e(22676).clearSelectionsCache,E=e(33816);function y(F,O){this.id=F.id,this.graphDiv=F.graphDiv,this.init(O),this.makeFramework(O),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}H.exports=y;var S=y.prototype;S.init=function(F){this.container=F._ternarylayer,this.defs=F._defs,this.layoutId=F._uid,this.traceHash={},this.layers={}},S.plot=function(F,O){var B=this,W=O[B.id],ee=O._size;B._hasClipOnAxisFalse=!1;for(var ne=0;ne<F.length;ne++){var Q=F[ne][0].trace;if(Q.cliponaxis===!1){B._hasClipOnAxisFalse=!0;break}}B.updateLayers(W),B.adjustLayout(W,ee),a.generalUpdatePerTraceModule(B.graphDiv,B,F,W),B.layers.plotbg.select("path").call(g.fill,W.bgcolor)},S.makeFramework=function(F){var O=this,B=O.graphDiv,W=F[O.id],ee=O.clipId="clip"+O.layoutId+O.id,ne=O.clipIdRelative="clip-relative"+O.layoutId+O.id;O.clipDef=C.ensureSingleById(F._clips,"clipPath",ee,function(Q){Q.append("path").attr("d","M0,0Z")}),O.clipDefRelative=C.ensureSingleById(F._clips,"clipPath",ne,function(Q){Q.append("path").attr("d","M0,0Z")}),O.plotContainer=C.ensureSingle(O.container,"g",O.id),O.updateLayers(W),r.setClipUrl(O.layers.backplot,ee,B),r.setClipUrl(O.layers.grids,ee,B)},S.updateLayers=function(F){var O=this,B=O.layers,W=["draglayer","plotbg","backplot","grids"];F.aaxis.layer==="below traces"&&W.push("aaxis","aline"),F.baxis.layer==="below traces"&&W.push("baxis","bline"),F.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),F.aaxis.layer==="above traces"&&W.push("aaxis","aline"),F.baxis.layer==="above traces"&&W.push("baxis","bline"),F.caxis.layer==="above traces"&&W.push("caxis","cline");var ee=O.plotContainer.selectAll("g.toplevel").data(W,String),ne=["agrid","bgrid","cgrid"];ee.enter().append("g").attr("class",function(Q){return"toplevel "+Q}).each(function(Q){var le=p.select(this);B[Q]=le,Q==="frontplot"?le.append("g").classed("scatterlayer",!0):Q==="backplot"?le.append("g").classed("maplayer",!0):Q==="plotbg"?le.append("path").attr("d","M0,0Z"):Q==="aline"||Q==="bline"||Q==="cline"?le.append("path"):Q==="grids"&&ne.forEach(function(Z){B[Z]=le.append("g").classed("grid "+Z,!0)})}),ee.order()};var w=Math.sqrt(4/3);S.adjustLayout=function(F,O){var B=this,W=F.domain,ee=(W.x[0]+W.x[1])/2,ne=(W.y[0]+W.y[1])/2,Q=W.x[1]-W.x[0],le=W.y[1]-W.y[0],Z=Q*O.w,Y=le*O.h,re=F.sum,X=F.aaxis.min,q=F.baxis.min,se=F.caxis.min,$,j,ue,ae,ce,ye;Z>w*Y?(ae=Y,ue=ae*w):(ue=Z,ae=ue/w),ce=Q*ue/Z,ye=le*ae/Y,$=O.l+O.w*ee-ue/2,j=O.t+O.h*(1-ne)-ae/2,B.x0=$,B.y0=j,B.w=ue,B.h=ae,B.sum=re,B.xaxis={type:"linear",range:[X+2*se-re,re-X-2*q],domain:[ee-ce/2,ee+ce/2],_id:"x"},t(B.xaxis,B.graphDiv._fullLayout),B.xaxis.setScale(),B.xaxis.isPtWithinRange=function(We){return We.a>=B.aaxis.range[0]&&We.a<=B.aaxis.range[1]&&We.b>=B.baxis.range[1]&&We.b<=B.baxis.range[0]&&We.c>=B.caxis.range[1]&&We.c<=B.caxis.range[0]},B.yaxis={type:"linear",range:[X,re-q-se],domain:[ne-ye/2,ne+ye/2],_id:"y"},t(B.yaxis,B.graphDiv._fullLayout),B.yaxis.setScale(),B.yaxis.isPtWithinRange=function(){return!0};var Ce=B.yaxis.domain[0],Ae=B.aaxis=s({},F.aaxis,{range:[X,re-q-se],side:"left",tickangle:(+F.aaxis.tickangle||0)-30,domain:[Ce,Ce+ye*w],anchor:"free",position:0,_id:"y",_length:ue});t(Ae,B.graphDiv._fullLayout),Ae.setScale();var Ie=B.baxis=s({},F.baxis,{range:[re-X-se,q],side:"bottom",domain:B.xaxis.domain,anchor:"free",position:0,_id:"x",_length:ue});t(Ie,B.graphDiv._fullLayout),Ie.setScale();var Te=B.caxis=s({},F.caxis,{range:[re-X-q,se],side:"right",tickangle:(+F.caxis.tickangle||0)+30,domain:[Ce,Ce+ye*w],anchor:"free",position:0,_id:"y",_length:ue});t(Te,B.graphDiv._fullLayout),Te.setScale();var Le="M"+$+","+(j+ae)+"h"+ue+"l-"+ue/2+",-"+ae+"Z";B.clipDef.select("path").attr("d",Le),B.layers.plotbg.select("path").attr("d",Le);var xe="M0,"+ae+"h"+ue+"l-"+ue/2+",-"+ae+"Z";B.clipDefRelative.select("path").attr("d",xe);var Re=T($,j);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Re),B.clipDefRelative.select("path").attr("transform",null);var He=T($-Ie._offset,j+ae);B.layers.baxis.attr("transform",He),B.layers.bgrid.attr("transform",He);var Ve=T($+ue/2,j)+"rotate(30)"+T(0,-Ae._offset);B.layers.aaxis.attr("transform",Ve),B.layers.agrid.attr("transform",Ve);var Fe=T($+ue/2,j)+"rotate(-30)"+T(0,-Te._offset);B.layers.caxis.attr("transform",Fe),B.layers.cgrid.attr("transform",Fe),B.drawAxes(!0),B.layers.aline.select("path").attr("d",Ae.showline?"M"+$+","+(j+ae)+"l"+ue/2+",-"+ae:"M0,0").call(g.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),B.layers.bline.select("path").attr("d",Ie.showline?"M"+$+","+(j+ae)+"h"+ue:"M0,0").call(g.stroke,Ie.linecolor||"#000").style("stroke-width",(Ie.linewidth||0)+"px"),B.layers.cline.select("path").attr("d",Te.showline?"M"+($+ue/2)+","+j+"l"+ue/2+","+ae:"M0,0").call(g.stroke,Te.linecolor||"#000").style("stroke-width",(Te.linewidth||0)+"px"),B.graphDiv._context.staticPlot||B.initInteractions(),r.setClipUrl(B.layers.frontplot,B._hasClipOnAxisFalse?null:B.clipId,B.graphDiv)},S.drawAxes=function(F){var O=this,B=O.graphDiv,W=O.id.substr(7)+"title",ee=O.layers,ne=O.aaxis,Q=O.baxis,le=O.caxis;if(O.drawAx(ne),O.drawAx(Q),O.drawAx(le),F){var Z=Math.max(ne.showticklabels?ne.tickfont.size/2:0,(le.showticklabels?le.tickfont.size*.75:0)+(le.ticks==="outside"?le.ticklen*.87:0)),Y=(Q.showticklabels?Q.tickfont.size:0)+(Q.ticks==="outside"?Q.ticklen:0)+3;ee["a-title"]=c.draw(B,"a"+W,{propContainer:ne,propName:O.id+".aaxis.title",placeholder:v(B,"Click to enter Component A title"),attributes:{x:O.x0+O.w/2,y:O.y0-ne.title.font.size/3-Z,"text-anchor":"middle"}}),ee["b-title"]=c.draw(B,"b"+W,{propContainer:Q,propName:O.id+".baxis.title",placeholder:v(B,"Click to enter Component B title"),attributes:{x:O.x0-Y,y:O.y0+O.h+Q.title.font.size*.83+Y,"text-anchor":"middle"}}),ee["c-title"]=c.draw(B,"c"+W,{propContainer:le,propName:O.id+".caxis.title",placeholder:v(B,"Click to enter Component C title"),attributes:{x:O.x0+O.w+Y,y:O.y0+O.h+le.title.font.size*.83+Y,"text-anchor":"middle"}})}},S.drawAx=function(F){var O=this,B=O.graphDiv,W=F._name,ee=W.charAt(0),ne=F._id,Q=O.layers[W],le=30,Z=ee+"tickLayout",Y=o(F);O[Z]!==Y&&(Q.selectAll("."+ne+"tick").remove(),O[Z]=Y),F.setScale();var re=f.calcTicks(F),X=f.clipEnds(F,re),q=f.makeTransTickFn(F),se=f.getTickSigns(F)[2],$=C.deg2rad(le),j=se*(F.linewidth||1)/2,ue=se*F.ticklen,ae=O.w,ce=O.h,ye=ee==="b"?"M0,"+j+"l"+Math.sin($)*ue+","+Math.cos($)*ue:"M"+j+",0l"+Math.cos($)*ue+","+-Math.sin($)*ue,Ce={a:"M0,0l"+ce+",-"+ae/2,b:"M0,0l-"+ae/2+",-"+ce,c:"M0,0l-"+ce+","+ae/2}[ee];f.drawTicks(B,F,{vals:F.ticks==="inside"?X:re,layer:Q,path:ye,transFn:q,crisp:!1}),f.drawGrid(B,F,{vals:X,layer:O.layers[ee+"grid"],path:Ce,transFn:q,crisp:!1}),f.drawLabels(B,F,{vals:re,layer:Q,transFn:q,labelFns:f.makeLabelFns(F,0,le)})};function o(F){return F.ticks+String(F.ticklen)+String(F.showticklabels)}var _=E.MINZOOM/2+.87,b="m-0.87,.5h"+_+"v3h-"+(_+5.2)+"l"+(_/2+2.6)+",-"+(_*.87+4.5)+"l2.6,1.5l-"+_/2+","+_*.87+"Z",I="m0.87,.5h-"+_+"v3h"+(_+5.2)+"l-"+(_/2+2.6)+",-"+(_*.87+4.5)+"l-2.6,1.5l"+_/2+","+_*.87+"Z",D="m0,1l"+_/2+","+_*.87+"l2.6,-1.5l-"+(_/2+2.6)+",-"+(_*.87+4.5)+"l-"+(_/2+2.6)+","+(_*.87+4.5)+"l2.6,1.5l"+_/2+",-"+_*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",k=!0;S.clearOutline=function(){A(this.dragOptions),x(this.dragOptions.gd)},S.initInteractions=function(){var F=this,O=F.layers.plotbg.select("path").node(),B=F.graphDiv,W=B._fullLayout._zoomlayer,ee,ne;this.dragOptions={element:O,gd:B,plotinfo:{id:F.id,domain:B._fullLayout[F.id].domain,xaxis:F.xaxis,yaxis:F.yaxis},subplot:F.id,prepFn:function(He,Ve,Fe){F.dragOptions.xaxes=[F.xaxis],F.dragOptions.yaxes=[F.yaxis],ee=B._fullLayout._invScaleX,ne=B._fullLayout._invScaleY;var We=F.dragOptions.dragmode=B._fullLayout.dragmode;h(We)?F.dragOptions.minDrag=1:F.dragOptions.minDrag=void 0,We==="zoom"?(F.dragOptions.moveFn=Ie,F.dragOptions.clickFn=ae,F.dragOptions.doneFn=Te,ce(He,Ve,Fe)):We==="pan"?(F.dragOptions.moveFn=xe,F.dragOptions.clickFn=ae,F.dragOptions.doneFn=Re,Le(),F.clearOutline(B)):(M(We)||h(We))&&i(He,Ve,Fe,F.dragOptions,We)}};var Q,le,Z,Y,re,X,q,se,$,j;function ue(He){var Ve={};return Ve[F.id+".aaxis.min"]=He.a,Ve[F.id+".baxis.min"]=He.b,Ve[F.id+".caxis.min"]=He.c,Ve}function ae(He,Ve){var Fe=B._fullLayout.clickmode;z(B),He===2&&(B.emit("plotly_doubleclick",null),n.call("_guiRelayout",B,ue({a:0,b:0,c:0}))),Fe.indexOf("select")>-1&&He===1&&d(Ve,B,[F.xaxis],[F.yaxis],F.id,F.dragOptions),Fe.indexOf("event")>-1&&l.click(B,Ve,F.id)}function ce(He,Ve,Fe){var We=O.getBoundingClientRect();Q=Ve-We.left,le=Fe-We.top,B._fullLayout._calcInverseTransform(B);var ut=B._fullLayout._invTransform,ht=C.apply3DTransform(ut)(Q,le);Q=ht[0],le=ht[1],Z={a:F.aaxis.range[0],b:F.baxis.range[1],c:F.caxis.range[1]},re=Z,Y=F.aaxis.range[1]-Z.a,X=L(F.graphDiv._fullLayout[F.id].bgcolor).getLuminance(),q="M0,"+F.h+"L"+F.w/2+", 0L"+F.w+","+F.h+"Z",se=!1,$=W.append("path").attr("class","zoombox").attr("transform",T(F.x0,F.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",q),j=W.append("path").attr("class","zoombox-corners").attr("transform",T(F.x0,F.y0)).style({fill:g.background,stroke:g.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),F.clearOutline(B)}function ye(He,Ve){return 1-Ve/F.h}function Ce(He,Ve){return 1-(He+(F.h-Ve)/Math.sqrt(3))/F.w}function Ae(He,Ve){return(He-(F.h-Ve)/Math.sqrt(3))/F.w}function Ie(He,Ve){var Fe=Q+He*ee,We=le+Ve*ne,ut=Math.max(0,Math.min(1,ye(Q,le),ye(Fe,We))),ht=Math.max(0,Math.min(1,Ce(Q,le),Ce(Fe,We))),rt=Math.max(0,Math.min(1,Ae(Q,le),Ae(Fe,We))),tt=(ut/2+rt)*F.w,vt=(1-ut/2-ht)*F.w,pt=(tt+vt)/2,mt=vt-tt,wt=(1-ut)*F.h,Lt=wt-mt/w;mt<E.MINZOOM?(re=Z,$.attr("d",q),j.attr("d","M0,0Z")):(re={a:Z.a+ut*Y,b:Z.b+ht*Y,c:Z.c+rt*Y},$.attr("d",q+"M"+tt+","+wt+"H"+vt+"L"+pt+","+Lt+"L"+tt+","+wt+"Z"),j.attr("d","M"+Q+","+le+N+"M"+tt+","+wt+b+"M"+vt+","+wt+I+"M"+pt+","+Lt+D)),se||($.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200),se=!0),B.emit("plotly_relayouting",ue(re))}function Te(){z(B),re!==Z&&(n.call("_guiRelayout",B,ue(re)),k&&B.data&&B._context.showTips&&(C.notifier(v(B,"Double-click to zoom back out"),"long"),k=!1))}function Le(){Z={a:F.aaxis.range[0],b:F.baxis.range[1],c:F.caxis.range[1]},re=Z}function xe(He,Ve){var Fe=He/F.xaxis._m,We=Ve/F.yaxis._m;re={a:Z.a-We,b:Z.b+(Fe+We)/2,c:Z.c-(Fe-We)/2};var ut=[re.a,re.b,re.c].sort(C.sorterAsc),ht={a:ut.indexOf(re.a),b:ut.indexOf(re.b),c:ut.indexOf(re.c)};ut[0]<0&&(ut[1]+ut[0]/2<0?(ut[2]+=ut[0]+ut[1],ut[0]=ut[1]=0):(ut[2]+=ut[0]/2,ut[1]+=ut[0]/2,ut[0]=0),re={a:ut[ht.a],b:ut[ht.b],c:ut[ht.c]},Ve=(Z.a-re.a)*F.yaxis._m,He=(Z.c-re.c-Z.b+re.b)*F.xaxis._m);var rt=T(F.x0+He,F.y0+Ve);F.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",rt);var tt=T(-He,-Ve);F.clipDefRelative.select("path").attr("transform",tt),F.aaxis.range=[re.a,F.sum-re.b-re.c],F.baxis.range=[F.sum-re.a-re.c,re.b],F.caxis.range=[F.sum-re.a-re.b,re.c],F.drawAxes(!1),F._hasClipOnAxisFalse&&F.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,F),B.emit("plotly_relayouting",ue(re))}function Re(){n.call("_guiRelayout",B,ue(re))}O.onmousemove=function(He){l.hover(B,He,F.id),B._fullLayout._lasthover=O,B._fullLayout._hoversubplot=F.id},O.onmouseout=function(He){B._dragging||u.unhover(B,He)},u.init(this.dragOptions)};function z(F){p.select(F).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(H,U,e){var p=e(24248),L=e(16628),n=e(52416),C=e(63620),T=e(52200).addStyleRule,v=e(92880),g=e(45464),r=e(64859),t=v.extendFlat,s=v.extendDeepAll;U.modules={},U.allCategories={},U.allTypes=[],U.subplotsRegistry={},U.transformsRegistry={},U.componentsRegistry={},U.layoutArrayContainers=[],U.layoutArrayRegexes=[],U.traceLayoutAttributes={},U.localeRegistry={},U.apiMethodRegistry={},U.collectableSubplotTypes=null,U.register=function(A){if(U.collectableSubplotTypes=null,A)A&&!Array.isArray(A)&&(A=[A]);else throw new Error("No argument passed to Plotly.register.");for(var E=0;E<A.length;E++){var y=A[E];if(!y)throw new Error("Invalid module was attempted to be registered!");switch(y.moduleType){case"trace":a(y);break;case"transform":l(y);break;case"component":u(y);break;case"locale":m(y);break;case"apiMethod":var S=y.name;U.apiMethodRegistry[S]=y.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},U.getModule=function(x){var A=U.modules[d(x)];return A?A._module:!1},U.traceIs=function(x,A){if(x=d(x),x==="various")return!1;var E=U.modules[x];return E||(x&&p.log("Unrecognized trace type "+x+"."),E=U.modules[g.type.dflt]),!!E.categories[A]},U.getTransformIndices=function(x,A){for(var E=[],y=x.transforms||[],S=0;S<y.length;S++)y[S].type===A&&E.push(S);return E},U.hasTransform=function(x,A){for(var E=x.transforms||[],y=0;y<E.length;y++)if(E[y].type===A)return!0;return!1},U.getComponentMethod=function(x,A){var E=U.componentsRegistry[x];return E&&E[A]||L},U.call=function(){var x=arguments[0],A=[].slice.call(arguments,1);return U.apiMethodRegistry[x].apply(null,A)};function a(x){var A=x.name,E=x.categories,y=x.meta;if(U.modules[A]){p.log("Type "+A+" already registered");return}U.subplotsRegistry[x.basePlotModule.name]||f(x.basePlotModule);for(var S={},w=0;w<E.length;w++)S[E[w]]=!0,U.allCategories[E[w]]=!0;U.modules[A]={_module:x,categories:S},y&&Object.keys(y).length&&(U.modules[A].meta=y),U.allTypes.push(A);for(var o in U.componentsRegistry)M(o,A);x.layoutAttributes&&t(U.traceLayoutAttributes,x.layoutAttributes);var _=x.basePlotModule,b=_.name;if(b==="mapbox"){var I=_.constants.styleRules;for(var D in I)T(".js-plotly-plot .plotly .mapboxgl-"+D,I[D])}(b==="geo"||b==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function f(x){var A=x.name;if(U.subplotsRegistry[A]){p.log("Plot type "+A+" already registered.");return}h(x),U.subplotsRegistry[A]=x;for(var E in U.componentsRegistry)i(E,x.name)}function u(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var A=x.name;U.componentsRegistry[A]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&n(U.layoutArrayContainers,A),h(x));for(var E in U.modules)M(A,E);for(var y in U.subplotsRegistry)i(A,y);for(var S in U.transformsRegistry)c(A,S);x.schema&&x.schema.layout&&s(r,x.schema.layout)}function l(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+x.name,E=typeof x.transform=="function",y=typeof x.calcTransform=="function";if(!E&&!y)throw new Error(A+" is missing a *transform* or *calcTransform* method.");E&&y&&p.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(x.attributes)||p.log(A+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&p.log(A+" registered without a *supplyDefaults* method."),U.transformsRegistry[x.name]=x;for(var S in U.componentsRegistry)c(S,x.name)}function m(x){var A=x.name,E=A.split("-")[0],y=x.dictionary,S=x.format,w=y&&Object.keys(y).length,o=S&&Object.keys(S).length,_=U.localeRegistry,b=_[A];if(b||(_[A]=b={}),E!==A){var I=_[E];I||(_[E]=I={}),w&&I.dictionary===b.dictionary&&(I.dictionary=y),o&&I.format===b.format&&(I.format=S)}w&&(b.dictionary=y),o&&(b.format=S)}function h(x){if(x.layoutAttributes){var A=x.layoutAttributes._arrayAttrRegexps;if(A)for(var E=0;E<A.length;E++)n(U.layoutArrayRegexes,A[E])}}function M(x,A){var E=U.componentsRegistry[x].schema;if(!(!E||!E.traces)){var y=E.traces[A];y&&s(U.modules[A]._module.attributes,y)}}function c(x,A){var E=U.componentsRegistry[x].schema;if(!(!E||!E.transforms)){var y=E.transforms[A];y&&s(U.transformsRegistry[A].attributes,y)}}function i(x,A){var E=U.componentsRegistry[x].schema;if(!(!E||!E.subplots)){var y=U.subplotsRegistry[A],S=y.layoutAttributes,w=y.attr==="subplot"?y.name:y.attr;Array.isArray(w)&&(w=w[0]);var o=E.subplots[w];S&&o&&s(S,o)}}function d(x){return typeof x=="object"&&(x=x.type),x}},91536:function(H,U,e){var p=e(24040),L=e(3400),n=L.extendFlat,C=L.extendDeep;function T(g){var r;switch(g){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(g){var r=["xaxis","yaxis","zaxis"];return r.indexOf(g.slice(0,5))>-1}H.exports=function(r,t){var s,a=r.data,f=r.layout,u=C([],a),l=C({},f,T(t.tileClass)),m=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(s=0;s<h.length;s++)v(h[s])&&(l[h[s]].title={text:""});for(s=0;s<u.length;s++){var M=u[s];M.showscale=!1,M.marker&&(M.marker.showscale=!1),p.traceIs(M,"pie-like")&&(M.textposition="none")}}if(Array.isArray(t.annotations))for(s=0;s<t.annotations.length;s++)l.annotations.push(t.annotations[s]);var c=Object.keys(l).filter(function(E){return E.match(/^scene\d*$/)});if(c.length){var i={};for(t.tileClass==="thumbnail"&&(i={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),s=0;s<c.length;s++){var d=l[c[s]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),n(d.xaxis,i),n(d.yaxis,i),n(d.zaxis,i),d._scene=null}}var x=document.createElement("div");t.tileClass&&(x.className=t.tileClass);var A={gd:x,td:x,layout:l,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return t.setBackground!=="transparent"&&(A.config.setBackground=t.setBackground||"opaque"),A.gd.defaultLayout=T(t.tileClass),A}},39792:function(H,U,e){var p=e(3400),L=e(67024),n=e(48616),C=e(81792);function T(v,g){var r;return p.isPlainObject(v)||(r=p.getGraphDiv(v)),g=g||{},g.format=g.format||"png",g.width=g.width||null,g.height=g.height||null,g.imageDataOnly=!0,new Promise(function(t,s){r&&r._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),p.isIE()&&g.format!=="svg"&&s(new Error(C.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var a=L(v,g),f=g.filename||v.fn||"newplot";f+="."+g.format.replace("-","."),a.then(function(u){return r&&(r._snapshotInProgress=!1),n(u,f,g.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),s(u)})})}H.exports=T},48616:function(H,U,e){var p=e(3400),L=e(81792);function n(C,T,v){var g=document.createElement("a"),r="download"in g,t=new Promise(function(s,a){var f,u;if(p.isIE())return f=L.createBlob(C,"svg"),window.navigator.msSaveBlob(f,T),f=null,s(T);if(r)return f=L.createBlob(C,v),u=L.createObjectURL(f),g.href=u,g.download=T,document.body.appendChild(g),g.click(),document.body.removeChild(g),L.revokeObjectURL(u),f=null,s(T);if(p.isSafari()){var l=v==="svg"?",":";base64,";return L.octetStream(l+encodeURIComponent(C)),s(T)}a(new Error("download error"))});return t}H.exports=n},81792:function(H,U,e){var p=e(24040);U.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},U.getRedrawFunc=function(C){return function(){p.getComponentMethod("colorbar","draw")(C)}},U.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},U.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var L=window.URL||window.webkitURL;U.createObjectURL=function(C){return L.createObjectURL(C)},U.revokeObjectURL=function(C){return L.revokeObjectURL(C)},U.createBlob=function(C,T){if(T==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(T==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var v=n(window.atob(C));return new window.Blob([v],{type:"image/"+T})},U.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function n(C){for(var T=C.length,v=new ArrayBuffer(T),g=new Uint8Array(v),r=0;r<T;r++)g[r]=C.charCodeAt(r);return v}U.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,U.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(H,U,e){var p=e(81792),L={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};H.exports=L},63268:function(H,U,e){var p=e(3400),L=e(61252).EventEmitter,n=e(81792);function C(T){var v=T.emitter||new L,g=new Promise(function(r,t){var s=window.Image,a=T.svg,f=T.format||"png";if(p.isIE()&&f!=="svg"){var u=new Error(n.MSG_IE_BAD_FORMAT);return t(u),T.promise?g:v.emit("error",u)}var l=T.canvas,m=T.scale||1,h=T.width||300,M=T.height||150,c=m*h,i=m*M,d=l.getContext("2d",{willReadFrequently:!0}),x=new s,A,E;f==="svg"||p.isSafari()?E=n.encodeSVG(a):(A=n.createBlob(a,"svg"),E=n.createObjectURL(A)),l.width=c,l.height=i,x.onload=function(){var y;switch(A=null,n.revokeObjectURL(E),f!=="svg"&&d.drawImage(x,0,0,c,i),f){case"jpeg":y=l.toDataURL("image/jpeg");break;case"png":y=l.toDataURL("image/png");break;case"webp":y=l.toDataURL("image/webp");break;case"svg":y=E;break;default:var S="Image format is not jpeg, png, svg or webp.";if(t(new Error(S)),!T.promise)return v.emit("error",S)}r(y),T.promise||v.emit("success",y)},x.onerror=function(y){if(A=null,n.revokeObjectURL(E),t(y),!T.promise)return v.emit("error",y)},x.src=E});return T.promise?g:v}H.exports=C},61808:function(H,U,e){var p=e(61252).EventEmitter,L=e(24040),n=e(3400),C=e(81792),T=e(91536),v=e(37164),g=e(63268);function r(t,s){var a=new p,f=T(t,{format:"png"}),u=f.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function l(){var h=C.getDelay(u._fullLayout);setTimeout(function(){var M=v(u),c=document.createElement("canvas");c.id=n.randstr(),a=g({format:s.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:c,emitter:a,svg:M}),a.clean=function(){u&&document.body.removeChild(u)}},h)}var m=C.getRedrawFunc(u);return L.call("_doPlot",u,f.data,f.layout,f.config).then(m).then(l).catch(function(h){a.emit("error",h)}),a}H.exports=r},37164:function(H,U,e){var p=e(33428),L=e(3400),n=e(43616),C=e(76308),T=e(9616),v=/"/g,g="TOBESTRIPPED",r=new RegExp('("'+g+")|("+g+'")',"g");function t(a){var f=p.select("body").append("div").style({display:"none"}).html(""),u=a.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":f.html(l).text()});return f.remove(),u}function s(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}H.exports=function(f,u,l){var m=f._fullLayout,h=m._paper,M=m._toppaper,c=m.width,i=m.height,d;h.insert("rect",":first-child").call(n.setRect,0,0,c,i).call(C.fill,m.paper_bgcolor);var x=m._basePlotModules||[];for(d=0;d<x.length;d++){var A=x[d];A.toSVG&&A.toSVG(f)}if(M){var E=M.node().childNodes,y=Array.prototype.slice.call(E);for(d=0;d<y.length;d++){var S=y[d];S.childNodes.length&&h.node().appendChild(S)}}m._draggers&&m._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var o=p.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){o.remove();return}else o.style({visibility:null,display:null});var _=this.style.fontFamily;_&&_.indexOf('"')!==-1&&o.style("font-family",_.replace(v,g))}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var o=p.select(this),_=this.style.fill;_&&_.indexOf("url(")!==-1&&o.style("fill",_.replace(v,g));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&o.style("stroke",b.replace(v,g))}),(u==="pdf"||u==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(T.xmlns,"xmlns",T.svg),h.node().setAttributeNS(T.xmlns,"xmlns:xlink",T.xlink),u==="svg"&&l&&(h.attr("width",l*c),h.attr("height",l*i),h.attr("viewBox","0 0 "+c+" "+i));var w=new window.XMLSerializer().serializeToString(h.node());return w=t(w),w=s(w),w=w.replace(r,"'"),L.isIE()&&(w=w.replace(/"/gi,"'"),w=w.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),w=w.replace(/(\\')/gi,'"')),w}},84664:function(H,U,e){var p=e(3400);H.exports=function(n,C){for(var T=0;T<n.length;T++)n[T].i=T;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.hovertext,n,"htx");var v=C.marker;if(v){p.mergeArray(v.opacity,n,"mo",!0),p.mergeArray(v.color,n,"mc");var g=v.line;g&&(p.mergeArray(g.color,n,"mlc"),p.mergeArrayCastPositive(g.width,n,"mlw"))}}},20832:function(H,U,e){var p=e(52904),L=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(21776).Gw,T=e(49084),v=e(25376),g=e(78048),r=e(98192).c,t=e(92880).extendFlat,s=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),a=p.marker,f=a.line,u=t({},f.width,{dflt:0}),l=t({width:u,editType:"calc"},T("marker.line")),m=t({line:l,editType:"calc"},T("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});H.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),text:p.text,texttemplate:C({editType:"plot"},{keys:g.eventDataKeys}),hovertext:p.hovertext,hovertemplate:n({},{keys:g.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},s,{}),insidetextfont:t({},s,{}),outsidetextfont:t({},s,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(H,U,e){var p=e(54460),L=e(1220),n=e(94288).hasColorscale,C=e(47128),T=e(84664),v=e(4500);H.exports=function(r,t){var s=p.getFromId(r,t.xaxis||"x"),a=p.getFromId(r,t.yaxis||"y"),f,u,l,m,h,M,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(f=s.makeCalcdata(t,"x",c),l=a.makeCalcdata(t,"y"),m=L(t,a,"y",l),h=!!t.yperiodalignment,M="y"):(f=a.makeCalcdata(t,"y",c),l=s.makeCalcdata(t,"x"),m=L(t,s,"x",l),h=!!t.xperiodalignment,M="x"),u=m.vals;for(var i=Math.min(u.length,f.length),d=new Array(i),x=0;x<i;x++)d[x]={p:u[x],s:f[x]},h&&(d[x].orig_p=l[x],d[x][M+"End"]=m.ends[x],d[x][M+"Start"]=m.starts[x]),t.ids&&(d[x].id=String(t.ids[x]));return n(t,"marker")&&C(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),n(t,"marker.line")&&C(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),T(d,t),v(d,t),d}},78048:function(H){H.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(H,U,e){var p=e(38248),L=e(3400).isArrayOrTypedArray,n=e(39032).BADNUM,C=e(24040),T=e(54460),v=e(71888).getAxisGroup,g=e(72592);function r(b,I){for(var D=I.xaxis,N=I.yaxis,k=b._fullLayout,z=b._fullData,F=b.calcdata,O=[],B=[],W=0;W<z.length;W++){var ee=z[W];if(ee.visible===!0&&C.traceIs(ee,"bar")&&ee.xaxis===D._id&&ee.yaxis===N._id&&(ee.orientation==="h"?O.push(F[W]):B.push(F[W]),ee._computePh))for(var ne=b.calcdata[W],Q=0;Q<ne.length;Q++)typeof ne[Q].ph0=="function"&&(ne[Q].ph0=ne[Q].ph0()),typeof ne[Q].ph1=="function"&&(ne[Q].ph1=ne[Q].ph1())}var le={xCat:D.type==="category"||D.type==="multicategory",yCat:N.type==="category"||N.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};t(b,D,N,B,le),t(b,N,D,O,le)}function t(b,I,D,N,k){if(N.length){var z,F,O,B,W;switch(f(D,N),k.mode){case"overlay":u(I,D,N,k);break;case"group":for(z=[],F=[],O=0;O<N.length;O++)B=N[O],W=B[0].trace,W.offset===void 0?F.push(B):z.push(B);F.length&&l(b,I,D,F,k),z.length&&u(I,D,z,k);break;case"stack":case"relative":for(z=[],F=[],O=0;O<N.length;O++)B=N[O],W=B[0].trace,W.base===void 0?F.push(B):z.push(B);a(F),F.length&&m(b,I,D,F,k),z.length&&u(I,D,z,k);break}s(N),o(N,I)}}function s(b){var I,D,N,k,z,F,O;for(I=0;I<b.length;I++)D=b[I],N=D[0].trace,k=D[0].t,k.cornerradiusvalue===void 0&&(z=N.marker?N.marker.cornerradius:void 0,z!==void 0&&(F=p(z)?+z:+z.slice(0,-1),O=p(z)?"px":"%",k.cornerradiusvalue=F,k.cornerradiusform=O))}function a(b){if(!(b.length<2)){var I,D,N,k,z,F,O;for(I=0;I<b.length&&(D=b[I],N=D[0].trace,z=N.marker?N.marker.cornerradius:void 0,z===void 0);I++);if(z!==void 0)for(F=p(z)?+z:+z.slice(0,-1),O=p(z)?"px":"%",I=0;I<b.length;I++)D=b[I],k=D[0].t,k.cornerradiusvalue=F,k.cornerradiusform=O}}function f(b,I){var D,N;for(D=0;D<I.length;D++){var k=I[D],z=k[0].trace,F=z.type==="funnel"?z._base:z.base,O,B=z.orientation==="h"?z.xcalendar:z.ycalendar,W=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(L(F)){for(N=0;N<Math.min(F.length,k.length);N++)O=W(F[N],0,B),p(O)?(k[N].b=+O,k[N].hasB=1):k[N].b=0;for(;N<k.length;N++)k[N].b=0}else{O=W(F,0,B);var ee=p(O);for(O=ee?O:0,N=0;N<k.length;N++)k[N].b=O,ee&&(k[N].hasB=1)}}}function u(b,I,D,N){for(var k=0;k<D.length;k++){var z=D[k],F=new g([z],{posAxis:b,sepNegVal:!1,overlapNoMerge:!N.norm});h(b,F,N),N.norm?(E(F),S(I,F,N)):x(I,F)}}function l(b,I,D,N,k){var z=new g(N,{posAxis:I,sepNegVal:!1,overlapNoMerge:!k.norm});M(b,I,z,k),y(z,I),k.norm?(E(z),S(D,z,k)):x(D,z)}function m(b,I,D,N,k){var z=new g(N,{posAxis:I,sepNegVal:k.mode==="relative",overlapNoMerge:!(k.norm||k.mode==="stack"||k.mode==="relative")});h(I,z,k),A(D,z,k);for(var F=0;F<N.length;F++)for(var O=N[F],B=0;B<O.length;B++){var W=O[B];if(W.s!==n){var ee=W.b+W.s===z.get(W.p,W.s);ee&&(W._outmost=!0)}}k.norm&&S(D,z,k)}function h(b,I,D){for(var N=I.minDiff,k=I.traces,z=N*(1-D.gap),F=z,O=F*(1-(D.groupgap||0)),B=-O/2,W=0;W<k.length;W++){var ee=k[W],ne=ee[0].t;ne.barwidth=O,ne.poffset=B,ne.bargroupwidth=z,ne.bardelta=N}I.binWidth=k[0][0].t.barwidth/100,c(I),i(b,I),d(b,I)}function M(b,I,D,N){for(var k=b._fullLayout,z=D.positions,F=D.distinctPositions,O=D.minDiff,B=D.traces,W=B.length,ee=z.length!==F.length,ne=O*(1-N.gap),Q=v(k,I._id)+B[0][0].trace.orientation,le=k._alignmentOpts[Q]||{},Z=0;Z<W;Z++){var Y=B[Z],re=Y[0].trace,X=le[re.alignmentgroup]||{},q=Object.keys(X.offsetGroups||{}).length,se;q?se=ne/q:se=ee?ne/W:ne;var $=se*(1-(N.groupgap||0)),j;q?j=((2*re._offsetIndex+1-q)*se-$)/2:j=ee?((2*Z+1-W)*se-$)/2:-$/2;var ue=Y[0].t;ue.barwidth=$,ue.poffset=j,ue.bargroupwidth=ne,ue.bardelta=O}D.binWidth=B[0][0].t.barwidth/100,c(D),i(I,D),d(I,D,ee)}function c(b){var I=b.traces,D,N;for(D=0;D<I.length;D++){var k=I[D],z=k[0],F=z.trace,O=z.t,B=F._offset||F.offset,W=O.poffset,ee;if(L(B)){for(ee=Array.prototype.slice.call(B,0,k.length),N=0;N<ee.length;N++)p(ee[N])||(ee[N]=W);for(N=ee.length;N<k.length;N++)ee.push(W);O.poffset=ee}else B!==void 0&&(O.poffset=B);var ne=F._width||F.width,Q=O.barwidth;if(L(ne)){var le=Array.prototype.slice.call(ne,0,k.length);for(N=0;N<le.length;N++)p(le[N])||(le[N]=Q);for(N=le.length;N<k.length;N++)le.push(Q);if(O.barwidth=le,B===void 0){for(ee=[],N=0;N<k.length;N++)ee.push(W+(Q-le[N])/2);O.poffset=ee}}else ne!==void 0&&(O.barwidth=ne,B===void 0&&(O.poffset=W+(Q-ne)/2))}}function i(b,I){for(var D=I.traces,N=_(b),k=0;k<D.length;k++)for(var z=D[k],F=z[0].t,O=F.poffset,B=L(O),W=F.barwidth,ee=L(W),ne=0;ne<z.length;ne++){var Q=z[ne],le=Q.w=ee?W[ne]:W;Q.p===void 0&&(Q.p=Q[N],Q["orig_"+N]=Q[N]);var Z=(B?O[ne]:O)+le/2;Q[N]=Q.p+Z}}function d(b,I,D){var N=I.traces,k=I.minDiff,z=k/2;T.minDtick(b,I.minDiff,I.distinctPositions[0],D);for(var F=0;F<N.length;F++){var O=N[F],B=O[0],W=B.trace,ee=[],ne,Q,le,Z;for(Z=0;Z<O.length;Z++)ne=O[Z],Q=ne.p-z,le=ne.p+z,ee.push(Q,le);if(W.width||W.offset){var Y=B.t,re=Y.poffset,X=Y.barwidth,q=L(re),se=L(X);for(Z=0;Z<O.length;Z++){ne=O[Z];var $=q?re[Z]:re,j=se?X[Z]:X;Q=ne.p+$,le=Q+j,ee.push(Q,le)}}W._extremes[b._id]=T.findExtremes(b,ee,{padded:!1})}}function x(b,I){for(var D=I.traces,N=_(b),k=0;k<D.length;k++){for(var z=D[k],F=z[0].trace,O=F.type==="scatter",B=F.orientation==="v",W=[],ee=!1,ne=0;ne<z.length;ne++){var Q=z[ne],le=O?0:Q.b,Z=O?B?Q.y:Q.x:le+Q.s;Q[N]=Z,W.push(Z),Q.hasB&&W.push(le),(!Q.hasB||!Q.b)&&(ee=!0)}F._extremes[b._id]=T.findExtremes(b,W,{tozero:ee,padded:!0})}}function A(b,I,D){var N=_(b),k=I.traces,z,F,O,B,W,ee;for(B=0;B<k.length;B++)if(z=k[B],F=z[0].trace,F.type==="funnel")for(W=0;W<z.length;W++)ee=z[W],ee.s!==n&&I.put(ee.p,-.5*ee.s);for(B=0;B<k.length;B++){z=k[B],F=z[0].trace,O=F.type==="funnel";var ne=[];for(W=0;W<z.length;W++)if(ee=z[W],ee.s!==n){var Q;O?Q=ee.s:Q=ee.s+ee.b;var le=I.put(ee.p,Q),Z=le+Q;ee.b=le,ee[N]=Z,D.norm||(ne.push(Z),ee.hasB&&ne.push(le))}D.norm||(F._extremes[b._id]=T.findExtremes(b,ne,{tozero:!0,padded:!0}))}}function E(b){for(var I=b.traces,D=0;D<I.length;D++)for(var N=I[D],k=0;k<N.length;k++){var z=N[k];z.s!==n&&b.put(z.p,z.b+z.s)}}function y(b,I){for(var D=b.traces,N=0;N<D.length;N++){var k=D[N],z=k[0].trace;if(z.base===void 0)for(var F=new g([k],{posAxis:I,sepNegVal:!0,overlapNoMerge:!0}),O=0;O<k.length;O++){var B=k[O];if(B.p!==n){var W=F.put(B.p,B.b+B.s);W&&(B.b=W)}}}}function S(b,I,D){var N=I.traces,k=_(b),z=D.norm==="fraction"?1:100,F=z/1e9,O=b.l2c(b.c2l(0)),B=D.mode==="stack"?z:O;function W(j){return p(b.c2l(j))&&(j<O-F||j>B+F||!p(O))}for(var ee=0;ee<N.length;ee++){for(var ne=N[ee],Q=ne[0].trace,le=[],Z=!1,Y=!1,re=0;re<ne.length;re++){var X=ne[re];if(X.s!==n){var q=Math.abs(z/I.get(X.p,X.s));X.b*=q,X.s*=q;var se=X.b,$=se+X.s;X[k]=$,le.push($),Y=Y||W($),X.hasB&&(le.push(se),Y=Y||W(se)),(!X.hasB||!X.b)&&(Z=!0)}}Q._extremes[b._id]=T.findExtremes(b,le,{tozero:Z,padded:Y})}}function w(b,I,D,N){for(var k=_(N),z=0;z<b.length;z++)for(var F=b[z],O=0;O<F.length;O++){var B=F[O],W=B[k];B._sMin=I[W],B._sMax=D[W]}}function o(b,I){var D=_(I),N={},k,z,F,O=1/0,B=-1/0;for(k=0;k<b.length;k++)for(F=b[k],z=0;z<F.length;z++){var W=F[z].p;p(W)&&(O=Math.min(O,W),B=Math.max(B,W))}var ee=1e4/(B-O),ne=N.round=function(ce){return String(Math.round(ee*(ce-O)))},Q={},le={},Z=b.some(function(ce){var ye=ce[0].trace;return"marker"in ye&&ye.marker.cornerradius});for(k=0;k<b.length;k++){F=b[k],F[0].t.extents=N;var Y=F[0].t.poffset,re=L(Y);for(z=0;z<F.length;z++){var X=F[z],q=X[D]-X.w/2;if(p(q)){var se=X[D]+X.w/2,$=ne(X.p);N[$]?N[$]=[Math.min(q,N[$][0]),Math.max(se,N[$][1])]:N[$]=[q,se]}if(X.p0=X.p+(re?Y[z]:Y),X.p1=X.p0+X.w,X.s0=X.b,X.s1=X.s0+X.s,Z){var j=Math.min(X.s0,X.s1)||0,ue=Math.max(X.s0,X.s1)||0,ae=X[D];Q[ae]=ae in Q?Math.min(Q[ae],j):j,le[ae]=ae in le?Math.max(le[ae],ue):ue}}}Z&&w(b,Q,le,I)}function _(b){return b._id.charAt(0)}H.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(H,U,e){var p=e(38248),L=e(3400),n=e(76308),C=e(24040),T=e(43980),v=e(31147),g=e(55592),r=e(20011),t=e(20832),s=L.coerceFont;function a(m,h,M,c){function i(y,S){return L.coerce(m,h,t,y,S)}var d=T(m,h,c,i);if(!d){h.visible=!1;return}v(m,h,c,i),i("xhoverformat"),i("yhoverformat"),i("orientation",h.x&&!h.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var x=i("textposition");l(m,h,c,i,x,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),g(m,h,i,M,c);var A=(h.marker.line||{}).color,E=C.getComponentMethod("errorbars","supplyDefaults");E(m,h,A||n.defaultLine,{axis:"y"}),E(m,h,A||n.defaultLine,{axis:"x",inherit:"y"}),L.coerceSelectionMarkerOpacity(h,i)}function f(m,h){var M,c;function i(A,E){return L.coerce(c._input,c,t,A,E)}for(var d=0;d<m.length;d++)if(c=m[d],c.type==="bar"){M=c._input;var x=i("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=u(x)),h.barmode==="group"&&r(M,c,h,i)}}function u(m){if(p(m)){if(m=+m,m>=0)return m}else if(typeof m=="string"&&(m=m.trim(),m.slice(-1)==="%"&&p(m.slice(0,-1))&&(m=+m.slice(0,-1),m>=0)))return m+"%"}function l(m,h,M,c,i,d){d=d||{};var x=d.moduleHasSelected!==!1,A=d.moduleHasUnselected!==!1,E=d.moduleHasConstrain!==!1,y=d.moduleHasCliponaxis!==!1,S=d.moduleHasTextangle!==!1,w=d.moduleHasInsideanchor!==!1,o=!!d.hasPathbar,_=Array.isArray(i)||i==="auto",b=_||i==="inside",I=_||i==="outside";if(b||I){var D=s(c,"textfont",M.font),N=L.extendFlat({},D),k=m.textfont&&m.textfont.color,z=!k;if(z&&delete N.color,s(c,"insidetextfont",N),o){var F=L.extendFlat({},D);z&&delete F.color,s(c,"pathbar.textfont",F)}I&&s(c,"outsidetextfont",D),x&&c("selected.textfont.color"),A&&c("unselected.textfont.color"),E&&c("constraintext"),y&&c("cliponaxis"),S&&c("textangle"),c("texttemplate")}b&&w&&c("insidetextanchor")}H.exports={supplyDefaults:a,crossTraceDefaults:f,handleText:l,validateCornerradius:u}},52160:function(H){H.exports=function(e,p,L){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),L.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(H,U,e){var p=e(38248),L=e(49760),n=e(3400).isArrayOrTypedArray;U.coerceString=function(C,T,v){if(typeof T=="string"){if(T||!C.noBlank)return T}else if((typeof T=="number"||T===!0)&&!C.strict)return String(T);return v!==void 0?v:C.dflt},U.coerceNumber=function(C,T,v){if(p(T)){T=+T;var g=C.min,r=C.max,t=g!==void 0&&T<g||r!==void 0&&T>r;if(!t)return T}return v!==void 0?v:C.dflt},U.coerceColor=function(C,T,v){return L(T).isValid()?T:v!==void 0?v:C.dflt},U.coerceEnumerated=function(C,T,v){return C.coerceNumber&&(T=+T),C.values.indexOf(T)!==-1?T:v!==void 0?v:C.dflt},U.getValue=function(C,T){var v;return n(C)?T<C.length&&(v=C[T]):v=C,v},U.getLineWidth=function(C,T){var v=0<T.mlw?T.mlw:n(C.marker.line.width)?0:C.marker.line.width;return v}},63400:function(H,U,e){var p=e(93024),L=e(24040),n=e(76308),C=e(3400).fillText,T=e(60444).getLineWidth,v=e(54460).hoverLabelText,g=e(39032).BADNUM;function r(a,f,u,l,m){var h=t(a,f,u,l,m);if(h){var M=h.cd,c=M[0].trace,i=M[h.index];return h.color=s(c,i),L.getComponentMethod("errorbars","hoverInfo")(i,c,h),[h]}}function t(a,f,u,l,m){var h=a.cd,M=h[0].trace,c=h[0].t,i=l==="closest",d=M.type==="waterfall",x=a.maxHoverDistance,A=a.maxSpikeDistance,E,y,S,w,o,_,b;M.orientation==="h"?(E=u,y=f,S="y",w="x",o=le,_=ee):(E=f,y=u,S="x",w="y",_=le,o=ee);var I=M[S+"period"],D=i||I;function N(ce){return z(ce,-1)}function k(ce){return z(ce,1)}function z(ce,ye){var Ce=ce.w;return ce[S]+ye*Ce/2}function F(ce){return ce[S+"End"]-ce[S+"Start"]}var O=i?N:I?function(ce){return ce.p-F(ce)/2}:function(ce){return Math.min(N(ce),ce.p-c.bardelta/2)},B=i?k:I?function(ce){return ce.p+F(ce)/2}:function(ce){return Math.max(k(ce),ce.p+c.bardelta/2)};function W(ce,ye,Ce){return m.finiteRange&&(Ce=0),p.inbox(ce-E,ye-E,Ce+Math.min(1,Math.abs(ye-ce)/b)-1)}function ee(ce){return W(O(ce),B(ce),x)}function ne(ce){return W(N(ce),k(ce),A)}function Q(ce){var ye=ce[w];if(d){var Ce=Math.abs(ce.rawS)||0;y>0?ye+=Ce:y<0&&(ye-=Ce)}return ye}function le(ce){var ye=y,Ce=ce.b,Ae=Q(ce);return p.inbox(Ce-ye,Ae-ye,x+(Ae-ye)/(Ae-Ce)-1)}function Z(ce){var ye=y,Ce=ce.b,Ae=Q(ce);return p.inbox(Ce-ye,Ae-ye,A+(Ae-ye)/(Ae-Ce)-1)}var Y=a[S+"a"],re=a[w+"a"];b=Math.abs(Y.r2c(Y.range[1])-Y.r2c(Y.range[0]));function X(ce){return(o(ce)+_(ce))/2}var q=p.getDistanceFunction(l,o,_,X);if(p.getClosest(h,q,a),a.index!==!1&&h[a.index].p!==g){D||(O=function(ce){return Math.min(N(ce),ce.p-c.bargroupwidth/2)},B=function(ce){return Math.max(k(ce),ce.p+c.bargroupwidth/2)});var se=a.index,$=h[se],j=M.base?$.b+$.s:$.s;a[w+"0"]=a[w+"1"]=re.c2p($[w],!0),a[w+"LabelVal"]=j;var ue=c.extents[c.extents.round($.p)];a[S+"0"]=Y.c2p(i?O($):ue[0],!0),a[S+"1"]=Y.c2p(i?B($):ue[1],!0);var ae=$.orig_p!==void 0;return a[S+"LabelVal"]=ae?$.orig_p:$.p,a.labelLabel=v(Y,a[S+"LabelVal"],M[S+"hoverformat"]),a.valueLabel=v(re,a[w+"LabelVal"],M[w+"hoverformat"]),a.baseLabel=v(re,$.b,M[w+"hoverformat"]),a.spikeDistance=(Z($)+ne($))/2,a[S+"Spike"]=Y.c2p($.p,!0),C($,M,a),a.hovertemplate=M.hovertemplate,a}}function s(a,f){var u=f.mcc||a.marker.color,l=f.mlcc||a.marker.line.color,m=T(a,f);if(n.opacity(u))return u;if(n.opacity(l)&&m)return l}H.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:s}},51132:function(H,U,e){H.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(H){H.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(H,U,e){var p=e(24040),L=e(54460),n=e(3400),C=e(39324),T=e(31508).validateCornerradius;H.exports=function(v,g,r){function t(d,x){return n.coerce(v,g,C,d,x)}for(var s=!1,a=!1,f=!1,u={},l=t("barmode"),m=0;m<r.length;m++){var h=r[m];if(p.traceIs(h,"bar")&&h.visible)s=!0;else continue;if(l==="group"){var M=h.xaxis+h.yaxis;u[M]&&(f=!0),u[M]=!0}if(h.visible&&h.type==="histogram"){var c=L.getFromId({_fullLayout:g},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(a=!0)}}if(!s){delete g.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",a&&!f?0:.2),t("bargroupgap");var i=t("barcornerradius");g.barcornerradius=T(i)}},98184:function(H,U,e){var p=e(33428),L=e(38248),n=e(3400),C=e(72736),T=e(76308),v=e(43616),g=e(24040),r=e(54460).tickText,t=e(82744),s=t.recordMinTextSize,a=t.clearMinTextSize,f=e(60100),u=e(60444),l=e(78048),m=e(20832),h=m.text,M=m.textposition,c=e(10624).appendArrayPointValue,i=l.TEXTPAD;function d(ee){return ee.id}function x(ee){if(ee.ids)return d}function A(ee){return(ee>0)-(ee<0)}function E(ee,ne){return ee<ne?1:-1}function y(ee,ne,Q,le){var Z=[],Y=[],re=le?ne:Q,X=le?Q:ne;return Z[0]=re.c2p(ee.s0,!0),Y[0]=X.c2p(ee.p0,!0),Z[1]=re.c2p(ee.s1,!0),Y[1]=X.c2p(ee.p1,!0),le?[Z,Y]:[Y,Z]}function S(ee,ne,Q,le){if(!ne.uniformtext.mode&&w(Q)){var Z;return le&&(Z=le()),ee.transition().duration(Q.duration).ease(Q.easing).each("end",function(){Z&&Z()}).each("interrupt",function(){Z&&Z()})}else return ee}function w(ee){return ee&&ee.duration>0}function o(ee,ne,Q,le,Z,Y){var re=ne.xaxis,X=ne.yaxis,q=ee._fullLayout,se=ee._context.staticPlot;Z||(Z={mode:q.barmode,norm:q.barmode,gap:q.bargap,groupgap:q.bargroupgap},a("bar",q));var $=n.makeTraceGroups(le,Q,"trace bars").each(function(j){var ue=p.select(this),ae=j[0].trace,ce=j[0].t,ye=ae.type==="waterfall",Ce=ae.type==="funnel",Ae=ae.type==="histogram",Ie=ae.type==="bar",Te=Ie||Ce,Le=0;ye&&ae.connector.visible&&ae.connector.mode==="between"&&(Le=ae.connector.line.width/2);var xe=ae.orientation==="h",Re=w(Z),He=n.ensureSingle(ue,"g","points"),Ve=x(ae),Fe=He.selectAll("g.point").data(n.identity,Ve);Fe.enter().append("g").classed("point",!0),Fe.exit().remove(),Fe.each(function(ut,ht){var rt=p.select(this),tt=y(ut,re,X,xe),vt=tt[0][0],pt=tt[0][1],mt=tt[1][0],wt=tt[1][1],Lt=(xe?pt-vt:wt-mt)===0;Lt&&Te&&u.getLineWidth(ae,ut)&&(Lt=!1),Lt||(Lt=!L(vt)||!L(pt)||!L(mt)||!L(wt)),ut.isBlank=Lt,Lt&&(xe?pt=vt:wt=mt),Le&&!Lt&&(xe?(vt-=E(vt,pt)*Le,pt+=E(vt,pt)*Le):(mt-=E(mt,wt)*Le,wt+=E(mt,wt)*Le));var at,Oe;if(ae.type==="waterfall"){if(!Lt){var Ze=ae[ut.dir].marker;at=Ze.line.width,Oe=Ze.color}}else at=u.getLineWidth(ae,ut),Oe=ut.mc||ae.marker.color;function Je(lt){var Mt=p.round(at/2%1,2);return Z.gap===0&&Z.groupgap===0?p.round(Math.round(lt)-Mt,2):lt}function Ye(lt,Mt,_t){return _t&&lt===Mt?lt:Math.abs(lt-Mt)>=2?Je(lt):lt>Mt?Math.ceil(lt):Math.floor(lt)}var ke=T.opacity(Oe),be=ke<1||at>.01?Je:Ye;ee._context.staticPlot||(vt=be(vt,pt,xe),pt=be(pt,vt,xe),mt=be(mt,wt,!xe),wt=be(wt,mt,!xe));var me=xe?re.c2p:X.c2p,_e;ut.s0>0?_e=ut._sMax:ut.s0<0?_e=ut._sMin:_e=ut.s1>0?ut._sMax:ut._sMin;function Ee(lt,Mt){if(!lt)return 0;var _t=Math.abs(xe?wt-mt:pt-vt),Ot=Math.abs(xe?pt-vt:wt-mt),It=be(Math.abs(me(_e,!0)-me(0,!0))),Wt=ut.hasB?Math.min(_t/2,Ot/2):Math.min(_t/2,It),Gt;if(Mt==="%"){var er=Math.min(50,lt);Gt=_t*(er/100)}else Gt=lt;return be(Math.max(Math.min(Gt,Wt),0))}var Be=Ie||Ae?Ee(ce.cornerradiusvalue,ce.cornerradiusform):0,je,nt,dt="M"+vt+","+mt+"V"+wt+"H"+pt+"V"+mt+"Z",xt=0;if(Be&&ut.s){var Kt=A(ut.s0)===0||A(ut.s)===A(ut.s0)?ut.s1:ut.s0;if(xt=be(ut.hasB?0:Math.abs(me(_e,!0)-me(Kt,!0))),xt<Be){var Jt=E(vt,pt),St=E(mt,wt),Ft=Jt===-St?1:0;if(xe)if(ut.hasB)je="M"+(vt+Be*Jt)+","+mt+"A "+Be+","+Be+" 0 0 "+Ft+" "+vt+","+(mt+Be*St)+"V"+(wt-Be*St)+"A "+Be+","+Be+" 0 0 "+Ft+" "+(vt+Be*Jt)+","+wt+"H"+(pt-Be*Jt)+"A "+Be+","+Be+" 0 0 "+Ft+" "+pt+","+(wt-Be*St)+"V"+(mt+Be*St)+"A "+Be+","+Be+" 0 0 "+Ft+" "+(pt-Be*Jt)+","+mt+"Z";else{nt=Math.abs(pt-vt)+xt;var rr=nt<Be?Be-Math.sqrt(nt*(2*Be-nt)):0,_r=xt>0?Math.sqrt(xt*(2*Be-xt)):0,Tt=Jt>0?Math.max:Math.min;je="M"+vt+","+mt+"V"+(wt-rr*St)+"H"+Tt(pt-(Be-xt)*Jt,vt)+"A "+Be+","+Be+" 0 0 "+Ft+" "+pt+","+(wt-Be*St-_r)+"V"+(mt+Be*St+_r)+"A "+Be+","+Be+" 0 0 "+Ft+" "+Tt(pt-(Be-xt)*Jt,vt)+","+(mt+rr*St)+"Z"}else if(ut.hasB)je="M"+(vt+Be*Jt)+","+mt+"A "+Be+","+Be+" 0 0 "+Ft+" "+vt+","+(mt+Be*St)+"V"+(wt-Be*St)+"A "+Be+","+Be+" 0 0 "+Ft+" "+(vt+Be*Jt)+","+wt+"H"+(pt-Be*Jt)+"A "+Be+","+Be+" 0 0 "+Ft+" "+pt+","+(wt-Be*St)+"V"+(mt+Be*St)+"A "+Be+","+Be+" 0 0 "+Ft+" "+(pt-Be*Jt)+","+mt+"Z";else{nt=Math.abs(wt-mt)+xt;var $t=nt<Be?Be-Math.sqrt(nt*(2*Be-nt)):0,tr=xt>0?Math.sqrt(xt*(2*Be-xt)):0,Tr=St>0?Math.max:Math.min;je="M"+(vt+$t*Jt)+","+mt+"V"+Tr(wt-(Be-xt)*St,mt)+"A "+Be+","+Be+" 0 0 "+Ft+" "+(vt+Be*Jt-tr)+","+wt+"H"+(pt-Be*Jt+tr)+"A "+Be+","+Be+" 0 0 "+Ft+" "+(pt-$t*Jt)+","+Tr(wt-(Be-xt)*St,mt)+"V"+mt+"Z"}}else je=dt}else je=dt;var cr=S(n.ensureSingle(rt,"path"),q,Z,Y);if(cr.style("vector-effect",se?"none":"non-scaling-stroke").attr("d",isNaN((pt-vt)*(wt-mt))||Lt&&ee._context.staticPlot?"M0,0Z":je).call(v.setClipUrl,ne.layerClipId,ee),!q.uniformtext.mode&&Re){var bt=v.makePointStyleFns(ae);v.singlePointStyle(ut,cr,ae,bt,ee)}_(ee,ne,rt,j,ht,vt,pt,mt,wt,Be,xt,Z,Y),ne.layerClipId&&v.hideOutsideRangePoint(ut,rt.select("text"),re,X,ae.xcalendar,ae.ycalendar)});var We=ae.cliponaxis===!1;v.setClipUrl(ue,We?null:ne.layerClipId,ee)});g.getComponentMethod("errorbars","plot")(ee,$,ne,Z)}function _(ee,ne,Q,le,Z,Y,re,X,q,se,$,j,ue){var ae=ne.xaxis,ce=ne.yaxis,ye=ee._fullLayout,Ce;function Ae(nt,dt,xt){var Kt=n.ensureSingle(nt,"text").text(dt).attr({class:"bartext bartext-"+Ce,"text-anchor":"middle","data-notex":1}).call(v.font,xt).call(C.convertToTspans,ee);return Kt}var Ie=le[0].trace,Te=Ie.orientation==="h",Le=F(ye,le,Z,ae,ce);Ce=O(Ie,Z);var xe=j.mode==="stack"||j.mode==="relative",Re=le[Z],He=!xe||Re._outmost,Ve=Re.hasB,Fe=se&&se-$>i;if(!Le||Ce==="none"||(Re.isBlank||Y===re||X===q)&&(Ce==="auto"||Ce==="inside")){Q.select("text").remove();return}var We=ye.font,ut=f.getBarColor(le[Z],Ie),ht=f.getInsideTextFont(Ie,Z,We,ut),rt=f.getOutsideTextFont(Ie,Z,We),tt=Ie.insidetextanchor||"end",vt=Q.datum();Te?ae.type==="log"&&vt.s0<=0&&(ae.range[0]<ae.range[1]?Y=0:Y=ae._length):ce.type==="log"&&vt.s0<=0&&(ce.range[0]<ce.range[1]?X=ce._length:X=0);var pt=Math.abs(re-Y),mt=Math.abs(q-X),wt=pt-2*i,Lt=mt-2*i,at,Oe,Ze,Je,Ye;if(Ce==="outside"&&!He&&!Re.hasB&&(Ce="inside"),Ce==="auto")if(He){Ce="inside",Ye=n.ensureUniformFontSize(ee,ht),at=Ae(Q,Le,Ye),Oe=v.bBox(at.node()),Ze=Oe.width,Je=Oe.height;var ke=Ze>0&&Je>0,be;Fe?Ve?be=b(wt-2*se,Lt,Ze,Je,Te)||b(wt,Lt-2*se,Ze,Je,Te):Te?be=b(wt-(se-$),Lt,Ze,Je,Te)||b(wt,Lt-2*(se-$),Ze,Je,Te):be=b(wt,Lt-(se-$),Ze,Je,Te)||b(wt-2*(se-$),Lt,Ze,Je,Te):be=b(wt,Lt,Ze,Je,Te),ke&&be?Ce="inside":(Ce="outside",at.remove(),at=null)}else Ce="inside";if(!at){Ye=n.ensureUniformFontSize(ee,Ce==="outside"?rt:ht),at=Ae(Q,Le,Ye);var me=at.attr("transform");if(at.attr("transform",""),Oe=v.bBox(at.node()),Ze=Oe.width,Je=Oe.height,at.attr("transform",me),Ze<=0||Je<=0){at.remove();return}}var _e=Ie.textangle,Ee,Be;Ce==="outside"?(Be=Ie.constraintext==="both"||Ie.constraintext==="outside",Ee=z(Y,re,X,q,Oe,{isHorizontal:Te,constrained:Be,angle:_e})):(Be=Ie.constraintext==="both"||Ie.constraintext==="inside",Ee=N(Y,re,X,q,Oe,{isHorizontal:Te,constrained:Be,angle:_e,anchor:tt,hasB:Ve,r:se,overhead:$})),Ee.fontSize=Ye.size,s(Ie.type==="histogram"?"bar":Ie.type,Ee,ye),Re.transform=Ee;var je=S(at,ye,j,ue);n.setTransormAndDisplay(je,Ee)}function b(ee,ne,Q,le,Z){if(ee<0||ne<0)return!1;var Y=Q<=ee&&le<=ne,re=Q<=ne&&le<=ee,X=Z?ee>=Q*(ne/le):ne>=le*(ee/Q);return Y||re||X}function I(ee){return ee==="auto"?0:ee}function D(ee,ne){var Q=Math.PI/180*ne,le=Math.abs(Math.sin(Q)),Z=Math.abs(Math.cos(Q));return{x:ee.width*Z+ee.height*le,y:ee.width*le+ee.height*Z}}function N(ee,ne,Q,le,Z,Y){var re=!!Y.isHorizontal,X=!!Y.constrained,q=Y.angle||0,se=Y.anchor,$=se==="end",j=se==="start",ue=Y.leftToRight||0,ae=(ue+1)/2,ce=1-ae,ye=Y.hasB,Ce=Y.r,Ae=Y.overhead,Ie=Z.width,Te=Z.height,Le=Math.abs(ne-ee),xe=Math.abs(le-Q),Re=Le>2*i&&xe>2*i?i:0;Le-=2*Re,xe-=2*Re;var He=I(q);q==="auto"&&!(Ie<=Le&&Te<=xe)&&(Ie>Le||Te>xe)&&(!(Ie>xe||Te>Le)||Ie<Te!=Le<xe)&&(He+=90);var Ve=D(Z,He),Fe,We;if(Ce&&Ce-Ae>i){var ut=k(ee,ne,Q,le,Ve,Ce,Ae,re,ye);Fe=ut.scale,We=ut.pad}else Fe=1,X&&(Fe=Math.min(1,Le/Ve.x,xe/Ve.y)),We=0;var ht=Z.left*ce+Z.right*ae,rt=(Z.top+Z.bottom)/2,tt=(ee+i)*ce+(ne-i)*ae,vt=(Q+le)/2,pt=0,mt=0;if(j||$){var wt=(re?Ve.x:Ve.y)/2;Ce&&($||ye)&&(Re+=We);var Lt=re?E(ee,ne):E(Q,le);re?j?(tt=ee+Lt*Re,pt=-Lt*wt):(tt=ne-Lt*Re,pt=Lt*wt):j?(vt=Q+Lt*Re,mt=-Lt*wt):(vt=le-Lt*Re,mt=Lt*wt)}return{textX:ht,textY:rt,targetX:tt,targetY:vt,anchorX:pt,anchorY:mt,scale:Fe,rotate:He}}function k(ee,ne,Q,le,Z,Y,re,X,q){var se=Math.max(0,Math.abs(ne-ee)-2*i),$=Math.max(0,Math.abs(le-Q)-2*i),j=Y-i,ue=re?j-Math.sqrt(j*j-(j-re)*(j-re)):j,ae=q?j*2:X?j-re:2*ue,ce=q?j*2:X?2*ue:j-re,ye,Ce,Ae,Ie,Te;return Z.y/Z.x>=$/(se-ae)?Ie=$/Z.y:Z.y/Z.x<=($-ce)/se?Ie=se/Z.x:!q&&X?(ye=Z.x*Z.x+Z.y*Z.y/4,Ce=-2*Z.x*(se-j)-Z.y*($/2-j),Ae=(se-j)*(se-j)+($/2-j)*($/2-j)-j*j,Ie=(-Ce+Math.sqrt(Ce*Ce-4*ye*Ae))/(2*ye)):q?(ye=(Z.x*Z.x+Z.y*Z.y)/4,Ce=-Z.x*(se/2-j)-Z.y*($/2-j),Ae=(se/2-j)*(se/2-j)+($/2-j)*($/2-j)-j*j,Ie=(-Ce+Math.sqrt(Ce*Ce-4*ye*Ae))/(2*ye)):(ye=Z.x*Z.x/4+Z.y*Z.y,Ce=-Z.x*(se/2-j)-2*Z.y*($-j),Ae=(se/2-j)*(se/2-j)+($-j)*($-j)-j*j,Ie=(-Ce+Math.sqrt(Ce*Ce-4*ye*Ae))/(2*ye)),Ie=Math.min(1,Ie),X?Te=Math.max(0,j-Math.sqrt(Math.max(0,j*j-(j-($-Z.y*Ie)/2)*(j-($-Z.y*Ie)/2)))-re):Te=Math.max(0,j-Math.sqrt(Math.max(0,j*j-(j-(se-Z.x*Ie)/2)*(j-(se-Z.x*Ie)/2)))-re),{scale:Ie,pad:Te}}function z(ee,ne,Q,le,Z,Y){var re=!!Y.isHorizontal,X=!!Y.constrained,q=Y.angle||0,se=Z.width,$=Z.height,j=Math.abs(ne-ee),ue=Math.abs(le-Q),ae;re?ae=ue>2*i?i:0:ae=j>2*i?i:0;var ce=1;X&&(ce=re?Math.min(1,ue/$):Math.min(1,j/se));var ye=I(q),Ce=D(Z,ye),Ae=(re?Ce.x:Ce.y)/2,Ie=(Z.left+Z.right)/2,Te=(Z.top+Z.bottom)/2,Le=(ee+ne)/2,xe=(Q+le)/2,Re=0,He=0,Ve=re?E(ne,ee):E(Q,le);return re?(Le=ne-Ve*ae,Re=Ve*Ae):(xe=le+Ve*ae,He=-Ve*Ae),{textX:Ie,textY:Te,targetX:Le,targetY:xe,anchorX:Re,anchorY:He,scale:ce,rotate:ye}}function F(ee,ne,Q,le,Z){var Y=ne[0].trace,re=Y.texttemplate,X;return re?X=B(ee,ne,Q,le,Z):Y.textinfo?X=W(ne,Q,le,Z):X=u.getValue(Y.text,Q),u.coerceString(h,X)}function O(ee,ne){var Q=u.getValue(ee.textposition,ne);return u.coerceEnumerated(M,Q)}function B(ee,ne,Q,le,Z){var Y=ne[0].trace,re=n.castOption(Y,Q,"texttemplate");if(!re)return"";var X=Y.type==="histogram",q=Y.type==="waterfall",se=Y.type==="funnel",$=Y.orientation==="h",j,ue,ae,ce;$?(j="y",ue=Z,ae="x",ce=le):(j="x",ue=le,ae="y",ce=Z);function ye(Re){return r(ue,ue.c2l(Re),!0).text}function Ce(Re){return r(ce,ce.c2l(Re),!0).text}var Ae=ne[Q],Ie={};Ie.label=Ae.p,Ie.labelLabel=Ie[j+"Label"]=ye(Ae.p);var Te=n.castOption(Y,Ae.i,"text");(Te===0||Te)&&(Ie.text=Te),Ie.value=Ae.s,Ie.valueLabel=Ie[ae+"Label"]=Ce(Ae.s);var Le={};c(Le,Y,Ae.i),(X||Le.x===void 0)&&(Le.x=$?Ie.value:Ie.label),(X||Le.y===void 0)&&(Le.y=$?Ie.label:Ie.value),(X||Le.xLabel===void 0)&&(Le.xLabel=$?Ie.valueLabel:Ie.labelLabel),(X||Le.yLabel===void 0)&&(Le.yLabel=$?Ie.labelLabel:Ie.valueLabel),q&&(Ie.delta=+Ae.rawS||Ae.s,Ie.deltaLabel=Ce(Ie.delta),Ie.final=Ae.v,Ie.finalLabel=Ce(Ie.final),Ie.initial=Ie.final-Ie.delta,Ie.initialLabel=Ce(Ie.initial)),se&&(Ie.value=Ae.s,Ie.valueLabel=Ce(Ie.value),Ie.percentInitial=Ae.begR,Ie.percentInitialLabel=n.formatPercent(Ae.begR),Ie.percentPrevious=Ae.difR,Ie.percentPreviousLabel=n.formatPercent(Ae.difR),Ie.percentTotal=Ae.sumR,Ie.percenTotalLabel=n.formatPercent(Ae.sumR));var xe=n.castOption(Y,Ae.i,"customdata");return xe&&(Ie.customdata=xe),n.texttemplateString(re,Ie,ee._d3locale,Le,Ie,Y._meta||{})}function W(ee,ne,Q,le){var Z=ee[0].trace,Y=Z.orientation==="h",re=Z.type==="waterfall",X=Z.type==="funnel";function q(xe){var Re=Y?le:Q;return r(Re,xe,!0).text}function se(xe){var Re=Y?Q:le;return r(Re,+xe,!0).text}var $=Z.textinfo,j=ee[ne],ue=$.split("+"),ae=[],ce,ye=function(xe){return ue.indexOf(xe)!==-1};if(ye("label")&&ae.push(q(ee[ne].p)),ye("text")&&(ce=n.castOption(Z,j.i,"text"),(ce===0||ce)&&ae.push(ce)),re){var Ce=+j.rawS||j.s,Ae=j.v,Ie=Ae-Ce;ye("initial")&&ae.push(se(Ie)),ye("delta")&&ae.push(se(Ce)),ye("final")&&ae.push(se(Ae))}if(X){ye("value")&&ae.push(se(j.s));var Te=0;ye("percent initial")&&Te++,ye("percent previous")&&Te++,ye("percent total")&&Te++;var Le=Te>1;ye("percent initial")&&(ce=n.formatPercent(j.begR),Le&&(ce+=" of initial"),ae.push(ce)),ye("percent previous")&&(ce=n.formatPercent(j.difR),Le&&(ce+=" of previous"),ae.push(ce)),ye("percent total")&&(ce=n.formatPercent(j.sumR),Le&&(ce+=" of total"),ae.push(ce))}return ae.join("<br>")}H.exports={plot:o,toMoveInsideBar:N}},45784:function(H){H.exports=function(p,L){var n=p.cd,C=p.xaxis,T=p.yaxis,v=n[0].trace,g=v.type==="funnel",r=v.orientation==="h",t=[],s;if(L===!1)for(s=0;s<n.length;s++)n[s].selected=0;else for(s=0;s<n.length;s++){var a=n[s],f="ct"in a?a.ct:U(a,C,T,r,g);L.contains(f,!1,s,p)?(t.push({pointNumber:s,x:C.c2d(a.x),y:T.c2d(a.y)}),a.selected=1):a.selected=0}return t};function U(e,p,L,n,C){var T=p.c2p(n?e.s0:e.p0,!0),v=p.c2p(n?e.s1:e.p1,!0),g=L.c2p(n?e.p0:e.s0,!0),r=L.c2p(n?e.p1:e.s1,!0);return C?[(T+v)/2,(g+r)/2]:n?[v,(g+r)/2]:[(T+v)/2,r]}},72592:function(H,U,e){H.exports=L;var p=e(3400).distinctVals;function L(n,C){this.traces=n,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var T=1/0,v=C.posAxis._id.charAt(0),g=[],r=0;r<n.length;r++){for(var t=n[r],s=0;s<t.length;s++){var a=t[s],f=a.p;f===void 0&&(f=a[v]),f!==void 0&&g.push(f)}t[0]&&t[0].width1&&(T=Math.min(t[0].width1,T))}this.positions=g;var u=p(g);this.distinctPositions=u.vals,u.vals.length===1&&T!==1/0?this.minDiff=T:this.minDiff=Math.min(u.minDiff,T);var l=(C.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}L.prototype.put=function(C,T){var v=this.getLabel(C,T),g=this.bins[v]||0;return this.bins[v]=g+T,g},L.prototype.get=function(C,T){var v=this.getLabel(C,T);return this.bins[v]||0},L.prototype.getLabel=function(C,T){var v=T<0&&this.sepNegVal?"v":"^",g=this.overlapNoMerge?C:Math.round(C/this.binWidth);return v+g}},60100:function(H,U,e){var p=e(33428),L=e(76308),n=e(43616),C=e(3400),T=e(24040),v=e(82744).resizeText,g=e(20832),r=g.textfont,t=g.insidetextfont,s=g.outsidetextfont,a=e(60444);function f(y){var S=p.select(y).selectAll("g.barlayer").selectAll("g.trace");v(y,S,"bar");var w=S.size(),o=y._fullLayout;S.style("opacity",function(_){return _[0].trace.opacity}).each(function(_){(o.barmode==="stack"&&w>1||o.bargap===0&&o.bargroupgap===0&&!_[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(_){var b=p.select(this),I=_[0].trace;u(b,I,y)}),T.getComponentMethod("errorbars","style")(S)}function u(y,S,w){n.pointStyle(y.selectAll("path"),S,w),l(y,S,w)}function l(y,S,w){y.selectAll("text").each(function(o){var _=p.select(this),b=C.ensureUniformFontSize(w,c(_,o,S,w));n.font(_,b)})}function m(y,S,w){var o=S[0].trace;o.selectedpoints?h(w,o,y):(u(w,o,y),T.getComponentMethod("errorbars","style")(w))}function h(y,S,w){n.selectedPointStyle(y.selectAll("path"),S),M(y.selectAll("text"),S,w)}function M(y,S,w){y.each(function(o){var _=p.select(this),b;if(o.selected){b=C.ensureUniformFontSize(w,c(_,o,S,w));var I=S.selected.textfont&&S.selected.textfont.color;I&&(b.color=I),n.font(_,b)}else n.selectedTextStyle(_,S)})}function c(y,S,w,o){var _=o._fullLayout.font,b=w.textfont;if(y.classed("bartext-inside")){var I=E(S,w);b=d(w,S.i,_,I)}else y.classed("bartext-outside")&&(b=x(w,S.i,_));return b}function i(y,S,w){return A(r,y.textfont,S,w)}function d(y,S,w,o){var _=i(y,S,w),b=y._input.textfont===void 0||y._input.textfont.color===void 0||Array.isArray(y.textfont.color)&&y.textfont.color[S]===void 0;return b&&(_={color:L.contrast(o),family:_.family,size:_.size}),A(t,y.insidetextfont,S,_)}function x(y,S,w){var o=i(y,S,w);return A(s,y.outsidetextfont,S,o)}function A(y,S,w,o){S=S||{};var _=a.getValue(S.family,w),b=a.getValue(S.size,w),I=a.getValue(S.color,w);return{family:a.coerceString(y.family,_,o.family),size:a.coerceNumber(y.size,b,o.size),color:a.coerceColor(y.color,I,o.color)}}function E(y,S){return S.type==="waterfall"?S[y.dir].marker.color:y.mcc||y.mc||S.marker.color}H.exports={style:f,styleTextPoints:l,styleOnSelect:m,getInsideTextFont:d,getOutsideTextFont:x,getBarColor:E,resizeText:v}},55592:function(H,U,e){var p=e(76308),L=e(94288).hasColorscale,n=e(27260),C=e(3400).coercePattern;H.exports=function(v,g,r,t,s){var a=r("marker.color",t),f=L(v,"marker");f&&n(v,g,s,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",p.defaultLine),L(v,"marker.line")&&n(v,g,s,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),C(r,"marker.pattern",a,f),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(H,U,e){var p=e(33428),L=e(3400);function n(g,r,t){var s=g._fullLayout,a=s["_"+t+"Text_minsize"];if(a){var f=s.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(l){var m=l.transform;if(m){m.scale=f&&m.hide?0:a/m.fontSize;var h=p.select(this).select("text");L.setTransormAndDisplay(h,m)}})}}function C(g,r,t){if(t.uniformtext.mode){var s=v(g),a=t.uniformtext.minsize,f=r.scale*r.fontSize;r.hide=f<a,t[s]=t[s]||1/0,r.hide||(t[s]=Math.min(t[s],Math.max(f,a)))}}function T(g,r){var t=v(g);r[t]=void 0}function v(g){return"_"+g+"Text_minsize"}H.exports={recordMinTextSize:C,clearMinTextSize:T,resizeText:n}},78100:function(H,U,e){var p=e(21776).Ks,L=e(92880).extendFlat,n=e(8319),C=e(20832);H.exports={r:n.r,theta:n.theta,r0:n.r0,dr:n.dr,theta0:n.theta0,dtheta:n.dtheta,thetaunit:n.thetaunit,base:L({},C.base,{}),offset:L({},C.offset,{}),width:L({},C.width,{}),text:L({},C.text,{}),hovertext:L({},C.hovertext,{}),marker:T(),hoverinfo:n.hoverinfo,hovertemplate:p(),selected:C.selected,unselected:C.unselected};function T(){var v=L({},C.marker);return delete v.cornerradius,v}},47056:function(H,U,e){var p=e(94288).hasColorscale,L=e(47128),n=e(3400).isArrayOrTypedArray,C=e(84664),T=e(96376).setGroupPositions,v=e(4500),g=e(24040).traceIs,r=e(3400).extendFlat;function t(a,f){for(var u=a._fullLayout,l=f.subplot,m=u[l].radialaxis,h=u[l].angularaxis,M=m.makeCalcdata(f,"r"),c=h.makeCalcdata(f,"theta"),i=f._length,d=new Array(i),x=M,A=c,E=0;E<i;E++)d[E]={p:A[E],s:x[E]};function y(S){var w=f[S];w!==void 0&&(f["_"+S]=n(w)?h.makeCalcdata(f,S):h.d2c(w,f.thetaunit))}return h.type==="linear"&&(y("width"),y("offset")),p(f,"marker")&&L(a,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),p(f,"marker.line")&&L(a,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),C(d,f),v(d,f),d}function s(a,f,u){for(var l=a.calcdata,m=[],h=0;h<l.length;h++){var M=l[h],c=M[0].trace;c.visible===!0&&g(c,"bar")&&c.subplot===u&&m.push(M)}var i=r({},f.radialaxis,{_id:"x"}),d=f.angularaxis;T(a,d,i,m,{mode:f.barmode,norm:f.barnorm,gap:f.bargap,groupgap:f.bargroupgap})}H.exports={calc:t,crossTraceCalc:s}},70384:function(H,U,e){var p=e(3400),L=e(85968).handleRThetaDefaults,n=e(55592),C=e(78100);H.exports=function(v,g,r,t){function s(f,u){return p.coerce(v,g,C,f,u)}var a=L(v,g,t,s);if(!a){g.visible=!1;return}s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),n(v,g,s,r,t),p.coerceSelectionMarkerOpacity(g,s)}},68896:function(H,U,e){var p=e(93024),L=e(3400),n=e(63400).getTraceColor,C=L.fillText,T=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;H.exports=function(r,t,s){var a=r.cd,f=a[0].trace,u=r.subplot,l=u.radialAxis,m=u.angularAxis,h=u.vangles,M=h?v:L.isPtInsideSector,c=r.maxHoverDistance,i=m._period||2*Math.PI,d=Math.abs(l.g2p(Math.sqrt(t*t+s*s))),x=Math.atan2(s,t);l.range[0]>l.range[1]&&(x+=Math.PI);var A=function(w){return M(d,x,[w.rp0,w.rp1],[w.thetag0,w.thetag1],h)?c+Math.min(1,Math.abs(w.thetag1-w.thetag0)/i)-1+(w.rp1-d)/(w.rp1-w.rp0)-1:1/0};if(p.getClosest(a,A,r),r.index!==!1){var E=r.index,y=a[E];r.x0=r.x1=y.ct[0],r.y0=r.y1=y.ct[1];var S=L.extendFlat({},y,{r:y.s,theta:y.p});return C(y,f,r),T(S,f,u,r),r.hovertemplate=f.hovertemplate,r.color=n(f,y),r.xLabelVal=r.yLabelVal=void 0,y.s<0&&(r.idealAlign="left"),[r]}}},94456:function(H,U,e){H.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(H){H.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(H,U,e){var p=e(3400),L=e(9320);H.exports=function(n,C,T){var v={},g;function r(a,f){return p.coerce(n[g]||{},C[g],L,a,f)}for(var t=0;t<T.length;t++){var s=T[t];s.type==="barpolar"&&s.visible===!0&&(g=s.subplot,v[g]||(r("barmode"),r("bargap"),v[g]=1))}}},42040:function(H,U,e){var p=e(33428),L=e(38248),n=e(3400),C=e(43616),T=e(57384);H.exports=function(r,t,s){var a=r._context.staticPlot,f=t.xaxis,u=t.yaxis,l=t.radialAxis,m=t.angularAxis,h=v(t),M=t.layers.frontplot.select("g.barlayer");n.makeTraceGroups(M,s,"trace bars").each(function(){var c=p.select(this),i=n.ensureSingle(c,"g","points"),d=i.selectAll("g.point").data(n.identity);d.enter().append("g").style("vector-effect",a?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(x){var A=p.select(this),E=x.rp0=l.c2p(x.s0),y=x.rp1=l.c2p(x.s1),S=x.thetag0=m.c2g(x.p0),w=x.thetag1=m.c2g(x.p1),o;if(!L(E)||!L(y)||!L(S)||!L(w)||E===y||S===w)o="M0,0Z";else{var _=l.c2g(x.s1),b=(S+w)/2;x.ct=[f.c2p(_*Math.cos(b)),u.c2p(_*Math.sin(b))],o=h(E,y,S,w)}n.ensureSingle(A,"path").attr("d",o)}),C.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(g){var r=g.cxx,t=g.cyy;return g.vangles?function(s,a,f,u){var l,m;n.angleDelta(f,u)>0?(l=f,m=u):(l=u,m=f);var h=T.findEnclosingVertexAngles(l,g.vangles)[0],M=T.findEnclosingVertexAngles(m,g.vangles)[1],c=[h,(l+m)/2,M];return T.pathPolygonAnnulus(s,a,l,m,c,r,t)}:function(s,a,f,u){return n.pathAnnulus(s,a,f,u,r,t)}}},63188:function(H,U,e){var p=e(98304),L=e(52904),n=e(20832),C=e(22548),T=e(29736).axisHoverFormat,v=e(21776).Ks,g=e(92880).extendFlat,r=L.marker,t=r.line;H.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:g({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:g({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:g({},r.angle,{arrayOk:!1,editType:"calc"}),size:g({},r.size,{arrayOk:!1,editType:"calc"}),color:g({},r.color,{arrayOk:!1,editType:"style"}),line:{color:g({},t.color,{arrayOk:!1,dflt:C.defaultLine,editType:"style"}),width:g({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:n.offsetgroup,alignmentgroup:n.alignmentgroup,selected:{marker:L.selected.marker,editType:"style"},unselected:{marker:L.unselected.marker,editType:"style"},text:g({},L.text,{}),hovertext:g({},L.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},62555:function(H,U,e){var p=e(38248),L=e(54460),n=e(1220),C=e(3400),T=e(39032).BADNUM,v=C._;H.exports=function(x,A){var E=x._fullLayout,y=L.getFromId(x,A.xaxis||"x"),S=L.getFromId(x,A.yaxis||"y"),w=[],o=A.type==="violin"?"_numViolins":"_numBoxes",_,b,I,D,N,k,z;A.orientation==="h"?(I=y,D="x",N=S,k="y",z=!!A.yperiodalignment):(I=S,D="y",N=y,k="x",z=!!A.xperiodalignment);var F=g(A,k,N,E[o]),O=F[0],B=F[1],W=C.distinctVals(O,N),ee=W.vals,ne=W.minDiff/2,Q,le,Z,Y,re,X,q=(A.boxpoints||A.points)==="all"?C.identity:function(Lt){return Lt.v<Q.lf||Lt.v>Q.uf};if(A._hasPreCompStats){var se=A[D],$=function(Lt){return I.d2c((A[Lt]||[])[_])},j=1/0,ue=-1/0;for(_=0;_<A._length;_++){var ae=O[_];if(p(ae)){if(Q={},Q.pos=Q[k]=ae,z&&B&&(Q.orig_p=B[_]),Q.q1=$("q1"),Q.med=$("median"),Q.q3=$("q3"),le=[],se&&C.isArrayOrTypedArray(se[_]))for(b=0;b<se[_].length;b++)X=I.d2c(se[_][b]),X!==T&&(re={v:X,i:[_,b]},a(re,A,[_,b]),le.push(re));if(Q.pts=le.sort(u),Z=Q[D]=le.map(l),Y=Z.length,Q.med!==T&&Q.q1!==T&&Q.q3!==T&&Q.med>=Q.q1&&Q.q3>=Q.med){var ce=$("lowerfence");Q.lf=ce!==T&&ce<=Q.q1?ce:m(Q,Z,Y);var ye=$("upperfence");Q.uf=ye!==T&&ye>=Q.q3?ye:h(Q,Z,Y);var Ce=$("mean");Q.mean=Ce!==T?Ce:Y?C.mean(Z,Y):(Q.q1+Q.q3)/2;var Ae=$("sd");Q.sd=Ce!==T&&Ae>=0?Ae:Y?C.stdev(Z,Y,Q.mean):Q.q3-Q.q1,Q.lo=M(Q),Q.uo=c(Q);var Ie=$("notchspan");Ie=Ie!==T&&Ie>0?Ie:i(Q,Y),Q.ln=Q.med-Ie,Q.un=Q.med+Ie;var Te=Q.lf,Le=Q.uf;A.boxpoints&&Z.length&&(Te=Math.min(Te,Z[0]),Le=Math.max(Le,Z[Y-1])),A.notched&&(Te=Math.min(Te,Q.ln),Le=Math.max(Le,Q.un)),Q.min=Te,Q.max=Le}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+Q.q1,"median = "+Q.med,"q3 = "+Q.q3].join(`
`));var xe;Q.med!==T?xe=Q.med:Q.q1!==T?Q.q3!==T?xe=(Q.q1+Q.q3)/2:xe=Q.q1:Q.q3!==T?xe=Q.q3:xe=0,Q.med=xe,Q.q1=Q.q3=xe,Q.lf=Q.uf=xe,Q.mean=Q.sd=xe,Q.ln=Q.un=xe,Q.min=Q.max=xe}j=Math.min(j,Q.min),ue=Math.max(ue,Q.max),Q.pts2=le.filter(q),w.push(Q)}}A._extremes[I._id]=L.findExtremes(I,[j,ue],{padded:!0})}else{var Re=I.makeCalcdata(A,D),He=r(ee,ne),Ve=ee.length,Fe=t(Ve);for(_=0;_<A._length;_++)if(X=Re[_],!!p(X)){var We=C.findBin(O[_],He);We>=0&&We<Ve&&(re={v:X,i:_},a(re,A,_),Fe[We].push(re))}var ut=1/0,ht=-1/0,rt=A.quartilemethod,tt=rt==="exclusive",vt=rt==="inclusive";for(_=0;_<Ve;_++)if(Fe[_].length>0){if(Q={},Q.pos=Q[k]=ee[_],le=Q.pts=Fe[_].sort(u),Z=Q[D]=le.map(l),Y=Z.length,Q.min=Z[0],Q.max=Z[Y-1],Q.mean=C.mean(Z,Y),Q.sd=C.stdev(Z,Y,Q.mean)*A.sdmultiple,Q.med=C.interp(Z,.5),Y%2&&(tt||vt)){var pt,mt;tt?(pt=Z.slice(0,Y/2),mt=Z.slice(Y/2+1)):vt&&(pt=Z.slice(0,Y/2+1),mt=Z.slice(Y/2)),Q.q1=C.interp(pt,.5),Q.q3=C.interp(mt,.5)}else Q.q1=C.interp(Z,.25),Q.q3=C.interp(Z,.75);Q.lf=m(Q,Z,Y),Q.uf=h(Q,Z,Y),Q.lo=M(Q),Q.uo=c(Q);var wt=i(Q,Y);Q.ln=Q.med-wt,Q.un=Q.med+wt,ut=Math.min(ut,Q.ln),ht=Math.max(ht,Q.un),Q.pts2=le.filter(q),w.push(Q)}A.notched&&C.isTypedArray(Re)&&(Re=Array.from(Re)),A._extremes[I._id]=L.findExtremes(I,A.notched?Re.concat([ut,ht]):Re,{padded:!0})}return f(w,A),w.length>0?(w[0].t={num:E[o],dPos:ne,posLetter:k,valLetter:D,labels:{med:v(x,"median:"),min:v(x,"min:"),q1:v(x,"q1:"),q3:v(x,"q3:"),max:v(x,"max:"),mean:A.boxmean==="sd"||A.sizemode==="sd"?v(x,"mean  :").replace("",A.sdmultiple===1?"":A.sdmultiple+""):v(x,"mean:"),lf:v(x,"lower fence:"),uf:v(x,"upper fence:")}},E[o]++,w):[{t:{empty:!0}}]};function g(d,x,A,E){var y=x in d,S=x+"0"in d,w="d"+x in d;if(y||S&&w){var o=A.makeCalcdata(d,x),_=n(d,A,x,o).vals;return[_,o]}var b;S?b=d[x+"0"]:"name"in d&&(A.type==="category"||p(d.name)&&["linear","log"].indexOf(A.type)!==-1||C.isDateTime(d.name)&&A.type==="date")?b=d.name:b=E;for(var I=A.type==="multicategory"?A.r2c_just_indices(b):A.d2c(b,0,d[x+"calendar"]),D=d._length,N=new Array(D),k=0;k<D;k++)N[k]=I;return[N]}function r(d,x){for(var A=d.length,E=new Array(A+1),y=0;y<A;y++)E[y]=d[y]-x;return E[A]=d[A-1]+x,E}function t(d){for(var x=new Array(d),A=0;A<d;A++)x[A]=[];return x}var s={text:"tx",hovertext:"htx"};function a(d,x,A){for(var E in s)C.isArrayOrTypedArray(x[E])&&(Array.isArray(A)?C.isArrayOrTypedArray(x[E][A[0]])&&(d[s[E]]=x[E][A[0]][A[1]]):d[s[E]]=x[E][A])}function f(d,x){if(C.isArrayOrTypedArray(x.selectedpoints))for(var A=0;A<d.length;A++){for(var E=d[A].pts||[],y={},S=0;S<E.length;S++)y[E[S].i]=S;C.tagSelected(E,x,y)}}function u(d,x){return d.v-x.v}function l(d){return d.v}function m(d,x,A){return A===0?d.q1:Math.min(d.q1,x[Math.min(C.findBin(2.5*d.q1-1.5*d.q3,x,!0)+1,A-1)])}function h(d,x,A){return A===0?d.q3:Math.max(d.q3,x[Math.max(C.findBin(2.5*d.q3-1.5*d.q1,x),0)])}function M(d){return 4*d.q1-3*d.q3}function c(d){return 4*d.q3-3*d.q1}function i(d,x){return x===0?0:1.57*(d.q3-d.q1)/Math.sqrt(x)}},96404:function(H,U,e){var p=e(54460),L=e(3400),n=e(71888).getAxisGroup,C=["v","h"];function T(g,r){for(var t=g.calcdata,s=r.xaxis,a=r.yaxis,f=0;f<C.length;f++){for(var u=C[f],l=u==="h"?a:s,m=[],h=0;h<t.length;h++){var M=t[h],c=M[0].t,i=M[0].trace;i.visible===!0&&(i.type==="box"||i.type==="candlestick")&&!c.empty&&(i.orientation||"v")===u&&i.xaxis===s._id&&i.yaxis===a._id&&m.push(h)}v("box",g,m,l)}}function v(g,r,t,s){var a=r.calcdata,f=r._fullLayout,u=s._id,l=u.charAt(0),m,h,M,c=[],i=0;for(m=0;m<t.length;m++)for(M=a[t[m]],h=0;h<M.length;h++)c.push(s.c2l(M[h].pos,!0)),i+=(M[h].pts2||[]).length;if(c.length){var d=L.distinctVals(c);(s.type==="category"||s.type==="multicategory")&&(d.minDiff=1);var x=d.minDiff/2;p.minDtick(s,d.minDiff,d.vals[0],!0);var A=g==="violin"?"_numViolins":"_numBoxes",E=f[A],y=f[g+"mode"]==="group"&&E>1,S=1-f[g+"gap"],w=1-f[g+"groupgap"];for(m=0;m<t.length;m++){M=a[t[m]];var o=M[0].trace,_=M[0].t,b=o.width,I=o.side,D,N,k,z;if(b)D=N=z=b/2,k=0;else if(D=x,y){var F=n(f,s._id)+o.orientation,O=f._alignmentOpts[F]||{},B=O[o.alignmentgroup]||{},W=Object.keys(B.offsetGroups||{}).length,ee=W||E,ne=W?o._offsetIndex:_.num;N=D*S*w/ee,k=2*D*(-.5+(ne+.5)/ee)*S,z=D*S/ee}else N=D*S*w,k=0,z=D;_.dPos=D,_.bPos=k,_.bdPos=N,_.wHover=z;var Q,le,Z=k+N,Y,re,X,q,se,$,j=!!b,ue=(o.boxpoints||o.points)&&i>0;if(I==="positive"?(Q=D*(b?1:.5),Y=Z,le=Y=k):I==="negative"?(Q=Y=k,le=D*(b?1:.5),re=Z):(Q=le=D,Y=re=Z),ue){var ae=o.pointpos,ce=o.jitter,ye=o.marker.size/2,Ce=0;ae+ce>=0&&(Ce=Z*(ae+ce),Ce>Q?(j=!0,se=ye,X=Ce):Ce>Y&&(se=ye,X=Q)),Ce<=Q&&(X=Q);var Ae=0;ae-ce<=0&&(Ae=-Z*(ae-ce),Ae>le?(j=!0,$=ye,q=Ae):Ae>re&&($=ye,q=le)),Ae<=le&&(q=le)}else X=Q,q=le;var Ie=new Array(M.length);for(h=0;h<M.length;h++)Ie[h]=M[h].pos;o._extremes[u]=p.findExtremes(s,Ie,{padded:j,vpadminus:q,vpadplus:X,vpadLinearized:!0,ppadminus:{x:$,y:se}[l],ppadplus:{x:se,y:$}[l]})}}}H.exports={crossTraceCalc:T,setPositionOffset:v}},90624:function(H,U,e){var p=e(3400),L=e(24040),n=e(76308),C=e(31147),T=e(20011),v=e(52976),g=e(63188);function r(f,u,l,m){function h(w,o){return p.coerce(f,u,g,w,o)}if(t(f,u,h,m),u.visible!==!1){C(f,u,m,h),h("xhoverformat"),h("yhoverformat");var M=u._hasPreCompStats;M&&(h("lowerfence"),h("upperfence")),h("line.color",(f.marker||{}).color||l),h("line.width"),h("fillcolor",n.addOpacity(u.line.color,.5));var c=!1;if(M){var i=h("mean"),d=h("sd");i&&i.length&&(c=!0,d&&d.length&&(c="sd"))}h("whiskerwidth");var x=h("sizemode"),A;x==="quartiles"&&(A=h("boxmean",c)),h("showwhiskers",x==="quartiles"),(x==="sd"||A==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var E=!1;if(M){var y=h("notchspan");y&&y.length&&(E=!0)}else p.validate(f.notchwidth,g.notchwidth)&&(E=!0);var S=h("notched",E);S&&h("notchwidth"),s(f,u,h,{prefix:"box"})}}function t(f,u,l,m){function h(W){var ee=0;return W&&W.length&&(ee+=1,p.isArrayOrTypedArray(W[0])&&W[0].length&&(ee+=1)),ee}function M(W){return p.validate(f[W],g[W])}var c=l("y"),i=l("x"),d;if(u.type==="box"){var x=l("q1"),A=l("median"),E=l("q3");u._hasPreCompStats=x&&x.length&&A&&A.length&&E&&E.length,d=Math.min(p.minRowLength(x),p.minRowLength(A),p.minRowLength(E))}var y=h(c),S=h(i),w=y&&p.minRowLength(c),o=S&&p.minRowLength(i),_=m.calendar,b={autotypenumbers:m.autotypenumbers},I,D;if(u._hasPreCompStats)switch(String(S)+String(y)){case"00":var N=M("x0")||M("dx"),k=M("y0")||M("dy");k&&!N?I="h":I="v",D=d;break;case"10":I="v",D=Math.min(d,o);break;case"20":I="h",D=Math.min(d,i.length);break;case"01":I="h",D=Math.min(d,w);break;case"02":I="v",D=Math.min(d,c.length);break;case"12":I="v",D=Math.min(d,o,c.length);break;case"21":I="h",D=Math.min(d,i.length,w);break;case"11":D=0;break;case"22":var z=!1,F;for(F=0;F<i.length;F++)if(v(i[F],_,b)==="category"){z=!0;break}if(z)I="v",D=Math.min(d,o,c.length);else{for(F=0;F<c.length;F++)if(v(c[F],_,b)==="category"){z=!0;break}z?(I="h",D=Math.min(d,i.length,w)):(I="v",D=Math.min(d,o,c.length))}break}else y>0?(I="v",S>0?D=Math.min(o,w):D=Math.min(w)):S>0?(I="h",D=Math.min(o)):D=0;if(!D){u.visible=!1;return}u._length=D;var O=l("orientation",I);u._hasPreCompStats?O==="v"&&S===0?(l("x0",0),l("dx",1)):O==="h"&&y===0&&(l("y0",0),l("dy",1)):O==="v"&&S===0?l("x0"):O==="h"&&y===0&&l("y0");var B=L.getComponentMethod("calendars","handleTraceDefaults");B(f,u,["x","y"],m)}function s(f,u,l,m){var h=m.prefix,M=p.coerce2(f,u,g,"marker.outliercolor"),c=l("marker.line.outliercolor"),i="outliers";u._hasPreCompStats?i="all":(M||c)&&(i="suspectedoutliers");var d=l(h+"points",i);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",u.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",u.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete u.marker;var x=l("hoveron");(x==="all"||x.indexOf("points")!==-1)&&l("hovertemplate"),p.coerceSelectionMarkerOpacity(u,l)}function a(f,u){var l,m;function h(i){return p.coerce(m._input,m,g,i)}for(var M=0;M<f.length;M++){m=f[M];var c=m.type;(c==="box"||c==="violin")&&(l=m._input,u[c+"mode"]==="group"&&T(l,m,u,h))}}H.exports={supplyDefaults:r,crossTraceDefaults:a,handleSampleDefaults:t,handlePointsDefaults:s}},10392:function(H){H.exports=function(e,p){return p.hoverOnBox&&(e.hoverOnBox=p.hoverOnBox),"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},27576:function(H,U,e){var p=e(54460),L=e(3400),n=e(93024),C=e(76308),T=L.fillText;function v(t,s,a,f){var u=t.cd,l=u[0].trace,m=l.hoveron,h=[],M;return m.indexOf("boxes")!==-1&&(h=h.concat(g(t,s,a,f))),m.indexOf("points")!==-1&&(M=r(t,s,a)),f==="closest"?M?[M]:h:(M&&h.push(M),h)}function g(t,s,a,f){var u=t.cd,l=t.xa,m=t.ya,h=u[0].trace,M=u[0].t,c=h.type==="violin",i,d,x,A,E,y,S,w,o,_,b,I=M.bdPos,D,N,k=M.wHover,z=function(Ae){return x.c2l(Ae.pos)+M.bPos-x.c2l(y)};c&&h.side!=="both"?(h.side==="positive"&&(o=function(Ae){var Ie=z(Ae);return n.inbox(Ie,Ie+k,_)},D=I,N=0),h.side==="negative"&&(o=function(Ae){var Ie=z(Ae);return n.inbox(Ie-k,Ie,_)},D=0,N=I)):(o=function(Ae){var Ie=z(Ae);return n.inbox(Ie-k,Ie+k,_)},D=N=I);var F;c?F=function(Ae){return n.inbox(Ae.span[0]-E,Ae.span[1]-E,_)}:F=function(Ae){return n.inbox(Ae.min-E,Ae.max-E,_)},h.orientation==="h"?(E=s,y=a,S=F,w=o,i="y",x=m,d="x",A=l):(E=a,y=s,S=o,w=F,i="x",x=l,d="y",A=m);var O=Math.min(1,I/Math.abs(x.r2c(x.range[1])-x.r2c(x.range[0])));_=t.maxHoverDistance-O,b=t.maxSpikeDistance-O;function B(Ae){return(S(Ae)+w(Ae))/2}var W=n.getDistanceFunction(f,S,w,B);if(n.getClosest(u,W,t),t.index===!1)return[];var ee=u[t.index],ne=h.line.color,Q=(h.marker||{}).color;C.opacity(ne)&&h.line.width?t.color=ne:C.opacity(Q)&&h.boxpoints?t.color=Q:t.color=h.fillcolor,t[i+"0"]=x.c2p(ee.pos+M.bPos-N,!0),t[i+"1"]=x.c2p(ee.pos+M.bPos+D,!0),t[i+"LabelVal"]=ee.orig_p!==void 0?ee.orig_p:ee.pos;var le=i+"Spike";t.spikeDistance=B(ee)*b/_,t[le]=x.c2p(ee.pos,!0);var Z=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,Y=h.boxpoints||h.points,re=Y&&Z?["max","uf","q3","med","mean","q1","lf","min"]:Y&&!Z?["max","uf","q3","med","q1","lf","min"]:!Y&&Z?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],X=A.range[1]<A.range[0];h.orientation===(X?"v":"h")&&re.reverse();for(var q=t.spikeDistance,se=t[le],$=[],j=0;j<re.length;j++){var ue=re[j];if(ue in ee){var ae=ee[ue],ce=A.c2p(ae,!0),ye=L.extendFlat({},t);ye.attr=ue,ye[d+"0"]=ye[d+"1"]=ce,ye[d+"LabelVal"]=ae,ye[d+"Label"]=(M.labels?M.labels[ue]+" ":"")+p.hoverLabelText(A,ae,h[d+"hoverformat"]),ye.hoverOnBox=!0,ue==="mean"&&"sd"in ee&&(h.boxmean==="sd"||h.sizemode==="sd")&&(ye[d+"err"]=ee.sd),ye.hovertemplate=!1,$.push(ye)}}t.name="",t.spikeDistance=void 0,t[le]=void 0;for(var Ce=0;Ce<$.length;Ce++)$[Ce].attr!=="med"?($[Ce].name="",$[Ce].spikeDistance=void 0,$[Ce][le]=void 0):($[Ce].spikeDistance=q,$[Ce][le]=se);return $}function r(t,s,a){for(var f=t.cd,u=t.xa,l=t.ya,m=f[0].trace,h=u.c2p(s),M=l.c2p(a),c,i=function(F){var O=Math.max(3,F.mrc||0);return Math.max(Math.abs(u.c2p(F.x)-h)-O,1-3/O)},d=function(F){var O=Math.max(3,F.mrc||0);return Math.max(Math.abs(l.c2p(F.y)-M)-O,1-3/O)},x=n.quadrature(i,d),A=!1,E,y,S=0;S<f.length;S++){E=f[S];for(var w=0;w<(E.pts||[]).length;w++){y=E.pts[w];var o=x(y);o<=t.distance&&(t.distance=o,A=[S,w])}}if(!A)return!1;E=f[A[0]],y=E.pts[A[1]];var _=u.c2p(y.x,!0),b=l.c2p(y.y,!0),I=y.mrc||1;c=L.extendFlat({},t,{index:y.i,color:(m.marker||{}).color,name:m.name,x0:_-I,x1:_+I,y0:b-I,y1:b+I,spikeDistance:t.distance,hovertemplate:m.hovertemplate});var D=E.orig_p,N=D!==void 0?D:E.pos,k;m.orientation==="h"?(k=l,c.xLabelVal=y.x,c.yLabelVal=N):(k=u,c.xLabelVal=N,c.yLabelVal=y.y);var z=k._id.charAt(0);return c[z+"Spike"]=k.c2p(E.pos,!0),T(y,m,c),c}H.exports={hoverPoints:v,hoverOnBoxes:g,hoverOnPoints:r}},67244:function(H,U,e){H.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(H){H.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(H,U,e){var p=e(24040),L=e(3400),n=e(16560);function C(v,g,r,t,s){for(var a=s+"Layout",f=!1,u=0;u<r.length;u++){var l=r[u];if(p.traceIs(l,a)){f=!0;break}}f&&(t(s+"mode"),t(s+"gap"),t(s+"groupgap"))}function T(v,g,r){function t(s,a){return L.coerce(v,g,n,s,a)}C(v,g,r,t,"box")}H.exports={supplyLayoutDefaults:T,_supply:C}},18728:function(H,U,e){var p=e(33428),L=e(3400),n=e(43616),C=5,T=.01;function v(s,a,f,u){var l=s._context.staticPlot,m=a.xaxis,h=a.yaxis;L.makeTraceGroups(u,f,"trace boxes").each(function(M){var c=p.select(this),i=M[0],d=i.t,x=i.trace;if(d.wdPos=d.bdPos*x.whiskerwidth,x.visible!==!0||d.empty){c.remove();return}var A,E;x.orientation==="h"?(A=h,E=m):(A=m,E=h),g(c,{pos:A,val:E},x,d,l),r(c,{x:m,y:h},x,d),t(c,{pos:A,val:E},x,d)})}function g(s,a,f,u,l){var m=f.orientation==="h",h=a.val,M=a.pos,c=!!M.rangebreaks,i=u.bPos,d=u.wdPos||0,x=u.bPosPxOffset||0,A=f.whiskerwidth||0,E=f.showwhiskers!==!1,y=f.notched||!1,S=y?1-2*f.notchwidth:1,w,o;Array.isArray(u.bdPos)?(w=u.bdPos[0],o=u.bdPos[1]):(w=u.bdPos,o=u.bdPos);var _=s.selectAll("path.box").data(f.type!=="violin"||f.box.visible?L.identity:[]);_.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),_.exit().remove(),_.each(function(b){if(b.empty)return p.select(this).attr("d","M0,0Z");var I=M.c2l(b.pos+i,!0),D=M.l2p(I-w)+x,N=M.l2p(I+o)+x,k=c?(D+N)/2:M.l2p(I)+x,z=f.whiskerwidth,F=c?D*z+(1-z)*k:M.l2p(I-d)+x,O=c?N*z+(1-z)*k:M.l2p(I+d)+x,B=M.l2p(I-w*S)+x,W=M.l2p(I+o*S)+x,ee=f.sizemode==="sd",ne=h.c2p(ee?b.mean-b.sd:b.q1,!0),Q=ee?h.c2p(b.mean+b.sd,!0):h.c2p(b.q3,!0),le=L.constrain(ee?h.c2p(b.mean,!0):h.c2p(b.med,!0),Math.min(ne,Q)+1,Math.max(ne,Q)-1),Z=b.lf===void 0||f.boxpoints===!1||ee,Y=h.c2p(Z?b.min:b.lf,!0),re=h.c2p(Z?b.max:b.uf,!0),X=h.c2p(b.ln,!0),q=h.c2p(b.un,!0);m?p.select(this).attr("d","M"+le+","+B+"V"+W+"M"+ne+","+D+"V"+N+(y?"H"+X+"L"+le+","+W+"L"+q+","+N:"")+"H"+Q+"V"+D+(y?"H"+q+"L"+le+","+B+"L"+X+","+D:"")+"Z"+(E?"M"+ne+","+k+"H"+Y+"M"+Q+","+k+"H"+re+(A===0?"":"M"+Y+","+F+"V"+O+"M"+re+","+F+"V"+O):"")):p.select(this).attr("d","M"+B+","+le+"H"+W+"M"+D+","+ne+"H"+N+(y?"V"+X+"L"+W+","+le+"L"+N+","+q:"")+"V"+Q+"H"+D+(y?"V"+q+"L"+B+","+le+"L"+D+","+X:"")+"Z"+(E?"M"+k+","+ne+"V"+Y+"M"+k+","+Q+"V"+re+(A===0?"":"M"+F+","+Y+"H"+O+"M"+F+","+re+"H"+O):""))})}function r(s,a,f,u){var l=a.x,m=a.y,h=u.bdPos,M=u.bPos,c=f.boxpoints||f.points;L.seedPseudoRandom();var i=function(A){return A.forEach(function(E){E.t=u,E.trace=f}),A},d=s.selectAll("g.points").data(c?i:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var x=d.selectAll("path").data(function(A){var E,y=A.pts2,S=Math.max((A.max-A.min)/10,A.q3-A.q1),w=S*1e-9,o=S*T,_=[],b=0,I;if(f.jitter){if(S===0)for(b=1,_=new Array(y.length),E=0;E<y.length;E++)_[E]=1;else for(E=0;E<y.length;E++){var D=Math.max(0,E-C),N=y[D].v,k=Math.min(y.length-1,E+C),z=y[k].v;c!=="all"&&(y[E].v<A.lf?z=Math.min(z,A.lf):N=Math.max(N,A.uf));var F=Math.sqrt(o*(k-D)/(z-N+w))||0;F=L.constrain(Math.abs(F),0,1),_.push(F),b=Math.max(F,b)}I=f.jitter*2/(b||1)}for(E=0;E<y.length;E++){var O=y[E],B=O.v,W=f.jitter?I*_[E]*(L.pseudoRandom()-.5):0,ee=A.pos+M+h*(f.pointpos+W);f.orientation==="h"?(O.y=ee,O.x=B):(O.x=ee,O.y=B),c==="suspectedoutliers"&&B<A.uo&&B>A.lo&&(O.so=!0)}return y});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(n.translatePoints,l,m)}function t(s,a,f,u){var l=a.val,m=a.pos,h=!!m.rangebreaks,M=u.bPos,c=u.bPosPxOffset||0,i=f.boxmean||(f.meanline||{}).visible,d,x;Array.isArray(u.bdPos)?(d=u.bdPos[0],x=u.bdPos[1]):(d=u.bdPos,x=u.bdPos);var A=s.selectAll("path.mean").data(f.type==="box"&&f.boxmean||f.type==="violin"&&f.box.visible&&f.meanline.visible?L.identity:[]);A.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),A.exit().remove(),A.each(function(E){var y=m.c2l(E.pos+M,!0),S=m.l2p(y-d)+c,w=m.l2p(y+x)+c,o=h?(S+w)/2:m.l2p(y)+c,_=l.c2p(E.mean,!0),b=l.c2p(E.mean-E.sd,!0),I=l.c2p(E.mean+E.sd,!0);f.orientation==="h"?p.select(this).attr("d","M"+_+","+S+"V"+w+(i==="sd"?"m0,0L"+b+","+o+"L"+_+","+S+"L"+I+","+o+"Z":"")):p.select(this).attr("d","M"+S+","+_+"H"+w+(i==="sd"?"m0,0L"+o+","+b+"L"+S+","+_+"L"+o+","+I+"Z":""))})}H.exports={plot:v,plotBoxAndWhiskers:g,plotPoints:r,plotBoxMean:t}},8264:function(H){H.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,T=[],v,g;if(p===!1)for(v=0;v<L.length;v++)for(g=0;g<(L[v].pts||[]).length;g++)L[v].pts[g].selected=0;else for(v=0;v<L.length;v++)for(g=0;g<(L[v].pts||[]).length;g++){var r=L[v].pts[g],t=n.c2p(r.x),s=C.c2p(r.y);p.contains([t,s],null,r.i,e)?(T.push({pointNumber:r.i,x:n.c2d(r.x),y:C.c2d(r.y)}),r.selected=1):r.selected=0}return T}},25776:function(H,U,e){var p=e(33428),L=e(76308),n=e(43616);function C(v,g,r){var t=r||p.select(v).selectAll("g.trace.boxes");t.style("opacity",function(s){return s[0].trace.opacity}),t.each(function(s){var a=p.select(this),f=s[0].trace,u=f.line.width;function l(M,c,i,d){M.style("stroke-width",c+"px").call(L.stroke,i).call(L.fill,d)}var m=a.selectAll("path.box");if(f.type==="candlestick")m.each(function(M){if(!M.empty){var c=p.select(this),i=f[M.dir];l(c,i.line.width,i.line.color,i.fillcolor),c.style("opacity",f.selectedpoints&&!M.selected?.3:1)}});else{l(m,u,f.line.color,f.fillcolor),a.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(L.stroke,f.line.color);var h=a.selectAll("path.point");n.pointStyle(h,f,v)}})}function T(v,g,r){var t=g[0].trace,s=r.selectAll("path.point");t.selectedpoints?n.selectedPointStyle(s,t):n.pointStyle(s,t,v)}H.exports={style:C,styleOnSelect:T}},64216:function(H,U,e){var p=e(3400).extendFlat,L=e(29736).axisHoverFormat,n=e(20279),C=e(63188);function T(v){return{line:{color:p({},C.line.color,{dflt:v}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}H.exports={xperiod:n.xperiod,xperiod0:n.xperiod0,xperiodalignment:n.xperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),x:n.x,open:n.open,high:n.high,low:n.low,close:n.close,line:{width:p({},C.line.width,{}),editType:"style"},increasing:T(n.increasing.line.color.dflt),decreasing:T(n.decreasing.line.color.dflt),text:n.text,hovertext:n.hovertext,whiskerwidth:p({},C.whiskerwidth,{dflt:0}),hoverlabel:n.hoverlabel}},46283:function(H,U,e){var p=e(3400),L=e(54460),n=e(1220),C=e(42812).calcCommon;H.exports=function(v,g){var r=v._fullLayout,t=L.getFromId(v,g.xaxis),s=L.getFromId(v,g.yaxis),a=t.makeCalcdata(g,"x"),f=n(g,t,"x",a).vals,u=C(v,g,a,f,s,T);return u.length?(p.extendFlat(u[0].t,{num:r._numBoxes,dPos:p.distinctVals(f).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function T(v,g,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:g}}},64588:function(H,U,e){var p=e(3400),L=e(76308),n=e(52744),C=e(31147),T=e(64216);H.exports=function(r,t,s,a){function f(l,m){return p.coerce(r,t,T,l,m)}var u=n(r,t,f,a);if(!u){t.visible=!1;return}C(r,t,a,f,{x:!0}),f("xhoverformat"),f("yhoverformat"),f("line.width"),v(r,t,f,"increasing"),v(r,t,f,"decreasing"),f("text"),f("hovertext"),f("whiskerwidth"),a._requestRangeslider[t.xaxis]=!0};function v(g,r,t,s){var a=t(s+".line.color");t(s+".line.width",r.line.width),t(s+".fillcolor",L.addOpacity(a,.5))}},61712:function(H,U,e){H.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(H,U,e){var p=e(63856),L=e(31780);H.exports=function(T,v,g,r,t){var s=r("a");s||(r("da"),r("a0"));var a=r("b");a||(r("db"),r("b0")),n(T,v,g,t)};function n(C,T,v,g){var r=["aaxis","baxis"];r.forEach(function(t){var s=t.charAt(0),a=C[t]||{},f=L.newContainer(T,t),u={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:T.font,name:t,data:C[s],calendar:T.calendar,dfltColor:g,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};p(a,f,u),f._categories=f._categories||[],!C[t]&&a.type!=="-"&&(C[t]={type:a.type})})}},51676:function(H,U,e){var p=e(3400).isArrayOrTypedArray;H.exports=function(n){return L(n,0)};function L(n,C){if(!p(n)||C>=10)return null;for(var T=1/0,v=-1/0,g=n.length,r=0;r<g;r++){var t=n[r];if(p(t)){var s=L(t,C+1);s&&(T=Math.min(s[0],T),v=Math.max(s[1],v))}else T=Math.min(t,T),v=Math.max(t,v)}return[T,v]}},85720:function(H,U,e){var p=e(25376),L=e(98692),n=e(22548),C=p({editType:"calc"});C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=n.defaultLine,H.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:L,baxis:L,font:C,color:{valType:"color",dflt:n.defaultLine,editType:"plot"},transforms:void 0}},77712:function(H,U,e){var p=e(3400).isArrayOrTypedArray;H.exports=function(L,n,C,T){var v,g,r,t,s,a,f,u,l,m,h,M,c,i=p(C)?"a":"b",d=i==="a"?L.aaxis:L.baxis,x=d.smoothing,A=i==="a"?L.a2i:L.b2j,E=i==="a"?C:T,y=i==="a"?T:C,S=i==="a"?n.a.length:n.b.length,w=i==="a"?n.b.length:n.a.length,o=Math.floor(i==="a"?L.b2j(y):L.a2i(y)),_=i==="a"?function(ne){return L.evalxy([],ne,o)}:function(ne){return L.evalxy([],o,ne)};x&&(r=Math.max(0,Math.min(w-2,o)),t=o-r,g=i==="a"?function(ne,Q){return L.dxydi([],ne,r,Q,t)}:function(ne,Q){return L.dxydj([],r,ne,t,Q)});var b=A(E[0]),I=A(E[1]),D=b<I?1:-1,N=(I-b)*1e-8,k=D>0?Math.floor:Math.ceil,z=D>0?Math.ceil:Math.floor,F=D>0?Math.min:Math.max,O=D>0?Math.max:Math.min,B=k(b+N),W=z(I-N);f=_(b);var ee=[[f]];for(v=B;v*D<W*D;v+=D)s=[],h=O(b,v),M=F(I,v+D),c=M-h,a=Math.max(0,Math.min(S-2,Math.floor(.5*(h+M)))),u=_(M),x&&(l=g(a,h-a),m=g(a,M-a),s.push([f[0]+l[0]/3*c,f[1]+l[1]/3*c]),s.push([u[0]-m[0]/3*c,u[1]-m[1]/3*c])),s.push(u),ee.push(s),f=u;return ee}},98692:function(H,U,e){var p=e(25376),L=e(22548),n=e(94724),C=e(29736).descriptionWithDates,T=e(67824).overrideAll,v=e(98192).u,g=e(92880).extendFlat;H.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:p({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:n.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:g({},n.labelalias,{editType:"calc"}),tickfont:p({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:T(n.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:g({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:g({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:L.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:p({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(H,U,e){var p=e(85720),L=e(76308).addOpacity,n=e(24040),C=e(3400),T=e(26332),v=e(95936),g=e(42568),r=e(22416),t=e(78344),s=e(52976);H.exports=function(u,l,m){var h=m.letter,M=m.font||{},c=p[h+"axis"];function i(B,W){return C.coerce(u,l,c,B,W)}function d(B,W){return C.coerce2(u,l,c,B,W)}m.name&&(l._name=m.name,l._id=m.name),i("autotypenumbers",m.autotypenumbersDflt);var x=i("type");if(x==="-"&&(m.data&&a(l,m.data),l.type==="-"?l.type="linear":x=u.type=l.type),i("smoothing"),i("cheatertype"),i("showticklabels"),i("labelprefix",h+" = "),i("labelsuffix"),i("showtickprefix"),i("showticksuffix"),i("separatethousands"),i("tickformat"),i("exponentformat"),i("minexponent"),i("showexponent"),i("categoryorder"),i("tickmode"),i("tickvals"),i("ticktext"),i("tick0"),i("dtick"),l.tickmode==="array"&&(i("arraytick0"),i("arraydtick")),i("labelpadding"),l._hovertitle=h,x==="date"){var A=n.getComponentMethod("calendars","handleDefaults");A(u,l,"calendar",m.calendar)}t(l,m.fullLayout),l.c2p=C.identity;var E=i("color",m.dfltColor),y=E===u.color?E:M.color,S=i("title.text");S&&(C.coerceFont(i,"title.font",{family:M.family,size:C.bigFont(M.size),color:y}),i("title.offset")),i("tickangle");var w=i("autorange",!l.isValidRange(u.range));w&&i("rangemode"),i("range"),l.cleanRange(),i("fixedrange"),T(u,l,i,x),g(u,l,i,x,m),v(u,l,i,x,m),r(u,l,i,{data:m.data,dataAttr:h});var o=d("gridcolor",L(E,.3)),_=d("gridwidth"),b=d("griddash"),I=i("showgrid");I||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var D=d("startlinecolor",E),N=d("startlinewidth",_),k=i("startline",l.showgrid||!!D||!!N);k||(delete l.startlinecolor,delete l.startlinewidth);var z=d("endlinecolor",E),F=d("endlinewidth",_),O=i("endline",l.showgrid||!!z||!!F);return O||(delete l.endlinecolor,delete l.endlinewidth),I?(i("minorgridcount"),i("minorgridwidth",_),i("minorgriddash",b),i("minorgridcolor",L(o,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,i("tickmode"),l};function a(f,u){if(f.type==="-"){var l=f._id,m=l.charAt(0),h=m+"calendar",M=f[h];f.type=s(u,M,{autotypenumbers:f.autotypenumbers})}}},58744:function(H,U,e){var p=e(54460),L=e(3400).isArray1D,n=e(60776),C=e(51676),T=e(19216),v=e(14724),g=e(24944),r=e(26136),t=e(51512),s=e(2872),a=e(81e3);H.exports=function(u,l){var m=p.getFromId(u,l.xaxis),h=p.getFromId(u,l.yaxis),M=l.aaxis,c=l.baxis,i=l.x,d=l.y,x=[];i&&L(i)&&x.push("x"),d&&L(d)&&x.push("y"),x.length&&s(l,M,c,"a","b",x);var A=l._a=l._a||l.a,E=l._b=l._b||l.b;i=l._x||l.x,d=l._y||l.y;var y={};if(l._cheater){var S=M.cheatertype==="index"?A.length:A,w=c.cheatertype==="index"?E.length:E;i=n(S,w,l.cheaterslope)}l._x=i=r(i),l._y=d=r(d),t(i,A,E),t(d,A,E),a(l),l.setScale();var o=C(i),_=C(d),b=.5*(o[1]-o[0]),I=.5*(o[1]+o[0]),D=.5*(_[1]-_[0]),N=.5*(_[1]+_[0]),k=1.3;return o=[I-b*k,I+b*k],_=[N-D*k,N+D*k],l._extremes[m._id]=p.findExtremes(m,o,{padded:!0}),l._extremes[h._id]=p.findExtremes(h,_,{padded:!0}),T(l,"a","b"),T(l,"b","a"),v(l,M),v(l,c),y.clipsegments=g(l._xctrl,l._yctrl,M,c),y.x=i,y.y=d,y.a=A,y.b=E,[y]}},24944:function(H){H.exports=function(e,p,L,n){var C,T,v,g=[],r=!!L.smoothing,t=!!n.smoothing,s=e[0].length-1,a=e.length-1;for(C=0,T=[],v=[];C<=s;C++)T[C]=e[0][C],v[C]=p[0][C];for(g.push({x:T,y:v,bicubic:r}),C=0,T=[],v=[];C<=a;C++)T[C]=e[C][s],v[C]=p[C][s];for(g.push({x:T,y:v,bicubic:t}),C=s,T=[],v=[];C>=0;C--)T[s-C]=e[a][C],v[s-C]=p[a][C];for(g.push({x:T,y:v,bicubic:r}),C=a,T=[],v=[];C>=0;C--)T[a-C]=e[C][0],v[a-C]=p[C][0];return g.push({x:T,y:v,bicubic:t}),g}},19216:function(H,U,e){var p=e(54460),L=e(92880).extendFlat;H.exports=function(C,T,v){var g,r,t,s,a,f,u,l,m,h,M,c,i,d,x=C["_"+T],A=C[T+"axis"],E=A._gridlines=[],y=A._minorgridlines=[],S=A._boundarylines=[],w=C["_"+v],o=C[v+"axis"];A.tickmode==="array"&&(A.tickvals=x.slice());var _=C._xctrl,b=C._yctrl,I=_[0].length,D=_.length,N=C._a.length,k=C._b.length;p.prepTicks(A),A.tickmode==="array"&&delete A.tickvals;var z=A.smoothing?3:1;function F(B){var W,ee,ne,Q,le,Z,Y,re,X,q,se,$,j=[],ue=[],ae={};if(T==="b")for(ee=C.b2j(B),ne=Math.floor(Math.max(0,Math.min(k-2,ee))),Q=ee-ne,ae.length=k,ae.crossLength=N,ae.xy=function(ce){return C.evalxy([],ce,ee)},ae.dxy=function(ce,ye){return C.dxydi([],ce,ne,ye,Q)},W=0;W<N;W++)Z=Math.min(N-2,W),Y=W-Z,re=C.evalxy([],W,ee),o.smoothing&&W>0&&(X=C.dxydi([],W-1,ne,0,Q),j.push(le[0]+X[0]/3),ue.push(le[1]+X[1]/3),q=C.dxydi([],W-1,ne,1,Q),j.push(re[0]-q[0]/3),ue.push(re[1]-q[1]/3)),j.push(re[0]),ue.push(re[1]),le=re;else for(W=C.a2i(B),Z=Math.floor(Math.max(0,Math.min(N-2,W))),Y=W-Z,ae.length=N,ae.crossLength=k,ae.xy=function(ce){return C.evalxy([],W,ce)},ae.dxy=function(ce,ye){return C.dxydj([],Z,ce,Y,ye)},ee=0;ee<k;ee++)ne=Math.min(k-2,ee),Q=ee-ne,re=C.evalxy([],W,ee),o.smoothing&&ee>0&&(se=C.dxydj([],Z,ee-1,Y,0),j.push(le[0]+se[0]/3),ue.push(le[1]+se[1]/3),$=C.dxydj([],Z,ee-1,Y,1),j.push(re[0]-$[0]/3),ue.push(re[1]-$[1]/3)),j.push(re[0]),ue.push(re[1]),le=re;return ae.axisLetter=T,ae.axis=A,ae.crossAxis=o,ae.value=B,ae.constvar=v,ae.index=l,ae.x=j,ae.y=ue,ae.smoothing=o.smoothing,ae}function O(B){var W,ee,ne,Q,le,Z=[],Y=[],re={};if(re.length=x.length,re.crossLength=w.length,T==="b")for(ne=Math.max(0,Math.min(k-2,B)),le=Math.min(1,Math.max(0,B-ne)),re.xy=function(X){return C.evalxy([],X,B)},re.dxy=function(X,q){return C.dxydi([],X,ne,q,le)},W=0;W<I;W++)Z[W]=_[B*z][W],Y[W]=b[B*z][W];else for(ee=Math.max(0,Math.min(N-2,B)),Q=Math.min(1,Math.max(0,B-ee)),re.xy=function(X){return C.evalxy([],B,X)},re.dxy=function(X,q){return C.dxydj([],ee,X,Q,q)},W=0;W<D;W++)Z[W]=_[W][B*z],Y[W]=b[W][B*z];return re.axisLetter=T,re.axis=A,re.crossAxis=o,re.value=x[B],re.constvar=v,re.index=B,re.x=Z,re.y=Y,re.smoothing=o.smoothing,re}if(A.tickmode==="array"){for(s=5e-15,a=[Math.floor((x.length-1-A.arraytick0)/A.arraydtick*(1+s)),Math.ceil(-A.arraytick0/A.arraydtick/(1+s))].sort(function(B,W){return B-W}),f=a[0]-1,u=a[1]+1,l=f;l<u;l++)r=A.arraytick0+A.arraydtick*l,!(r<0||r>x.length-1)&&E.push(L(O(r),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=f;l<u;l++)if(t=A.arraytick0+A.arraydtick*l,M=Math.min(t+A.arraydtick,x.length-1),!(t<0||t>x.length-1)&&!(M<0||M>x.length-1))for(c=x[t],i=x[M],g=0;g<A.minorgridcount;g++)d=M-t,!(d<=0)&&(h=c+(i-c)*(g+1)/(A.minorgridcount+1)*(A.arraydtick/d),!(h<x[0]||h>x[x.length-1])&&y.push(L(F(h),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash})));A.startline&&S.push(L(O(0),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&S.push(L(O(x.length-1),{color:A.endlinecolor,width:A.endlinewidth}))}else{for(s=5e-15,a=[Math.floor((x[x.length-1]-A.tick0)/A.dtick*(1+s)),Math.ceil((x[0]-A.tick0)/A.dtick/(1+s))].sort(function(B,W){return B-W}),f=a[0],u=a[1],l=f;l<=u;l++)m=A.tick0+A.dtick*l,E.push(L(F(m),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=f-1;l<u+1;l++)for(m=A.tick0+A.dtick*l,g=0;g<A.minorgridcount;g++)h=m+A.dtick*(g+1)/(A.minorgridcount+1),!(h<x[0]||h>x[x.length-1])&&y.push(L(F(h),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash}));A.startline&&S.push(L(F(x[0]),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&S.push(L(F(x[x.length-1]),{color:A.endlinecolor,width:A.endlinewidth}))}}},14724:function(H,U,e){var p=e(54460),L=e(92880).extendFlat;H.exports=function(C,T){var v,g,r,t,s,a=T._labels=[],f=T._gridlines;for(v=0;v<f.length;v++)s=f[v],["start","both"].indexOf(T.showticklabels)!==-1&&(g=p.tickText(T,s.value),L(g,{prefix:r,suffix:t,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),a.push(g)),["end","both"].indexOf(T.showticklabels)!==-1&&(g=p.tickText(T,s.value),L(g,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),a.push(g))}},62284:function(H){var U=.5;H.exports=function(p,L,n,C){var T=p[0]-L[0],v=p[1]-L[1],g=n[0]-L[0],r=n[1]-L[1],t=Math.pow(T*T+v*v,U/2),s=Math.pow(g*g+r*r,U/2),a=(s*s*T-t*t*g)*C,f=(s*s*v-t*t*r)*C,u=s*(t+s)*3,l=t*(t+s)*3;return[[L[0]+(u&&a/u),L[1]+(u&&f/u)],[L[0]-(l&&a/l),L[1]-(l&&f/l)]]}},60776:function(H,U,e){var p=e(3400).isArrayOrTypedArray;H.exports=function(L,n,C){var T,v,g,r,t,s,a=[],f=p(L)?L.length:L,u=p(n)?n.length:n,l=p(L)?L:null,m=p(n)?n:null;l&&(g=(l.length-1)/(l[l.length-1]-l[0])/(f-1)),m&&(r=(m.length-1)/(m[m.length-1]-m[0])/(u-1));var h,M=1/0,c=-1/0;for(v=0;v<u;v++)for(a[v]=[],s=m?(m[v]-m[0])*r:v/(u-1),T=0;T<f;T++)t=l?(l[T]-l[0])*g:T/(f-1),h=t-s*C,M=Math.min(h,M),c=Math.max(h,c),a[v][T]=h;var i=1/(c-M),d=-M*i;for(v=0;v<u;v++)for(T=0;T<f;T++)a[v][T]=i*a[v][T]+d;return a}},30180:function(H,U,e){var p=e(62284),L=e(3400).ensureArray;function n(C,T,v){var g=-.5*v[0]+1.5*T[0],r=-.5*v[1]+1.5*T[1];return[(2*g+C[0])/3,(2*r+C[1])/3]}H.exports=function(T,v,g,r,t,s){var a,f,u,l,m,h,M,c,i,d,x=g[0].length,A=g.length,E=t?3*x-2:x,y=s?3*A-2:A;for(T=L(T,y),v=L(v,y),u=0;u<y;u++)T[u]=L(T[u],E),v[u]=L(v[u],E);for(f=0,l=0;f<A;f++,l+=s?3:1)for(m=T[l],h=v[l],M=g[f],c=r[f],a=0,u=0;a<x;a++,u+=t?3:1)m[u]=M[a],h[u]=c[a];if(t)for(f=0,l=0;f<A;f++,l+=s?3:1){for(a=1,u=3;a<x-1;a++,u+=3)i=p([g[f][a-1],r[f][a-1]],[g[f][a],r[f][a]],[g[f][a+1],r[f][a+1]],t),T[l][u-1]=i[0][0],v[l][u-1]=i[0][1],T[l][u+1]=i[1][0],v[l][u+1]=i[1][1];d=n([T[l][0],v[l][0]],[T[l][2],v[l][2]],[T[l][3],v[l][3]]),T[l][1]=d[0],v[l][1]=d[1],d=n([T[l][E-1],v[l][E-1]],[T[l][E-3],v[l][E-3]],[T[l][E-4],v[l][E-4]]),T[l][E-2]=d[0],v[l][E-2]=d[1]}if(s)for(u=0;u<E;u++){for(l=3;l<y-3;l+=3)i=p([T[l-3][u],v[l-3][u]],[T[l][u],v[l][u]],[T[l+3][u],v[l+3][u]],s),T[l-1][u]=i[0][0],v[l-1][u]=i[0][1],T[l+1][u]=i[1][0],v[l+1][u]=i[1][1];d=n([T[0][u],v[0][u]],[T[2][u],v[2][u]],[T[3][u],v[3][u]]),T[1][u]=d[0],v[1][u]=d[1],d=n([T[y-1][u],v[y-1][u]],[T[y-3][u],v[y-3][u]],[T[y-4][u],v[y-4][u]]),T[y-2][u]=d[0],v[y-2][u]=d[1]}if(t&&s)for(l=1;l<y;l+=(l+1)%3===0?2:1){for(u=3;u<E-3;u+=3)i=p([T[l][u-3],v[l][u-3]],[T[l][u],v[l][u]],[T[l][u+3],v[l][u+3]],t),T[l][u-1]=.5*(T[l][u-1]+i[0][0]),v[l][u-1]=.5*(v[l][u-1]+i[0][1]),T[l][u+1]=.5*(T[l][u+1]+i[1][0]),v[l][u+1]=.5*(v[l][u+1]+i[1][1]);d=n([T[l][0],v[l][0]],[T[l][2],v[l][2]],[T[l][3],v[l][3]]),T[l][1]=.5*(T[l][1]+d[0]),v[l][1]=.5*(v[l][1]+d[1]),d=n([T[l][E-1],v[l][E-1]],[T[l][E-3],v[l][E-3]],[T[l][E-4],v[l][E-4]]),T[l][E-2]=.5*(T[l][E-2]+d[0]),v[l][E-2]=.5*(v[l][E-2]+d[1])}return[T,v]}},24588:function(H){H.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(H){H.exports=function(U,e,p){return e&&p?function(L,n,C,T,v){L||(L=[]);var g,r,t,s,a,f;n*=3,C*=3;var u=T*T,l=1-T,m=l*l,h=l*T*2,M=-3*m,c=3*(m-h),i=3*(h-u),d=3*u,x=v*v,A=x*v,E=1-v,y=E*E,S=y*E;for(f=0;f<U.length;f++)a=U[f],g=M*a[C][n]+c*a[C][n+1]+i*a[C][n+2]+d*a[C][n+3],r=M*a[C+1][n]+c*a[C+1][n+1]+i*a[C+1][n+2]+d*a[C+1][n+3],t=M*a[C+2][n]+c*a[C+2][n+1]+i*a[C+2][n+2]+d*a[C+2][n+3],s=M*a[C+3][n]+c*a[C+3][n+1]+i*a[C+3][n+2]+d*a[C+3][n+3],L[f]=S*g+3*(y*v*r+E*x*t)+A*s;return L}:e?function(L,n,C,T,v){L||(L=[]);var g,r,t,s;n*=3;var a=T*T,f=1-T,u=f*f,l=f*T*2,m=-3*u,h=3*(u-l),M=3*(l-a),c=3*a,i=1-v;for(t=0;t<U.length;t++)s=U[t],g=m*s[C][n]+h*s[C][n+1]+M*s[C][n+2]+c*s[C][n+3],r=m*s[C+1][n]+h*s[C+1][n+1]+M*s[C+1][n+2]+c*s[C+1][n+3],L[t]=i*g+v*r;return L}:p?function(L,n,C,T,v){L||(L=[]);var g,r,t,s,a,f;C*=3;var u=v*v,l=u*v,m=1-v,h=m*m,M=h*m;for(a=0;a<U.length;a++)f=U[a],g=f[C][n+1]-f[C][n],r=f[C+1][n+1]-f[C+1][n],t=f[C+2][n+1]-f[C+2][n],s=f[C+3][n+1]-f[C+3][n],L[a]=M*g+3*(h*v*r+m*u*t)+l*s;return L}:function(L,n,C,T,v){L||(L=[]);var g,r,t,s,a=1-v;for(t=0;t<U.length;t++)s=U[t],g=s[C][n+1]-s[C][n],r=s[C+1][n+1]-s[C+1][n],L[t]=a*g+v*r;return L}}},24464:function(H){H.exports=function(U,e,p){return e&&p?function(L,n,C,T,v){L||(L=[]);var g,r,t,s,a,f;n*=3,C*=3;var u=T*T,l=u*T,m=1-T,h=m*m,M=h*m,c=v*v,i=1-v,d=i*i,x=i*v*2,A=-3*d,E=3*(d-x),y=3*(x-c),S=3*c;for(f=0;f<U.length;f++)a=U[f],g=A*a[C][n]+E*a[C+1][n]+y*a[C+2][n]+S*a[C+3][n],r=A*a[C][n+1]+E*a[C+1][n+1]+y*a[C+2][n+1]+S*a[C+3][n+1],t=A*a[C][n+2]+E*a[C+1][n+2]+y*a[C+2][n+2]+S*a[C+3][n+2],s=A*a[C][n+3]+E*a[C+1][n+3]+y*a[C+2][n+3]+S*a[C+3][n+3],L[f]=M*g+3*(h*T*r+m*u*t)+l*s;return L}:e?function(L,n,C,T,v){L||(L=[]);var g,r,t,s,a,f;n*=3;var u=v*v,l=u*v,m=1-v,h=m*m,M=h*m;for(a=0;a<U.length;a++)f=U[a],g=f[C+1][n]-f[C][n],r=f[C+1][n+1]-f[C][n+1],t=f[C+1][n+2]-f[C][n+2],s=f[C+1][n+3]-f[C][n+3],L[a]=M*g+3*(h*v*r+m*u*t)+l*s;return L}:p?function(L,n,C,T,v){L||(L=[]);var g,r,t,s;C*=3;var a=1-T,f=v*v,u=1-v,l=u*u,m=u*v*2,h=-3*l,M=3*(l-m),c=3*(m-f),i=3*f;for(t=0;t<U.length;t++)s=U[t],g=h*s[C][n]+M*s[C+1][n]+c*s[C+2][n]+i*s[C+3][n],r=h*s[C][n+1]+M*s[C+1][n+1]+c*s[C+2][n+1]+i*s[C+3][n+1],L[t]=a*g+T*r;return L}:function(L,n,C,T,v){L||(L=[]);var g,r,t,s,a=1-T;for(t=0;t<U.length;t++)s=U[t],g=s[C+1][n]-s[C][n],r=s[C+1][n+1]-s[C][n+1],L[t]=a*g+T*r;return L}}},29056:function(H){H.exports=function(U,e,p,L,n){var C=e-2,T=p-2;return L&&n?function(v,g,r){v||(v=[]);var t,s,a,f,u,l,m=Math.max(0,Math.min(Math.floor(g),C)),h=Math.max(0,Math.min(Math.floor(r),T)),M=Math.max(0,Math.min(1,g-m)),c=Math.max(0,Math.min(1,r-h));m*=3,h*=3;var i=M*M,d=i*M,x=1-M,A=x*x,E=A*x,y=c*c,S=y*c,w=1-c,o=w*w,_=o*w;for(l=0;l<U.length;l++)u=U[l],t=E*u[h][m]+3*(A*M*u[h][m+1]+x*i*u[h][m+2])+d*u[h][m+3],s=E*u[h+1][m]+3*(A*M*u[h+1][m+1]+x*i*u[h+1][m+2])+d*u[h+1][m+3],a=E*u[h+2][m]+3*(A*M*u[h+2][m+1]+x*i*u[h+2][m+2])+d*u[h+2][m+3],f=E*u[h+3][m]+3*(A*M*u[h+3][m+1]+x*i*u[h+3][m+2])+d*u[h+3][m+3],v[l]=_*t+3*(o*c*s+w*y*a)+S*f;return v}:L?function(v,g,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(g),C)),s=Math.max(0,Math.min(Math.floor(r),T)),a=Math.max(0,Math.min(1,g-t)),f=Math.max(0,Math.min(1,r-s)),u,l,m,h,M,c;t*=3;var i=a*a,d=i*a,x=1-a,A=x*x,E=A*x,y=1-f;for(M=0;M<U.length;M++)c=U[M],u=y*c[s][t]+f*c[s+1][t],l=y*c[s][t+1]+f*c[s+1][t+1],m=y*c[s][t+2]+f*c[s+1][t+1],h=y*c[s][t+3]+f*c[s+1][t+1],v[M]=E*u+3*(A*a*l+x*i*m)+d*h;return v}:n?function(v,g,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(g),C)),s=Math.max(0,Math.min(Math.floor(r),T)),a=Math.max(0,Math.min(1,g-t)),f=Math.max(0,Math.min(1,r-s)),u,l,m,h,M,c;s*=3;var i=f*f,d=i*f,x=1-f,A=x*x,E=A*x,y=1-a;for(M=0;M<U.length;M++)c=U[M],u=y*c[s][t]+a*c[s][t+1],l=y*c[s+1][t]+a*c[s+1][t+1],m=y*c[s+2][t]+a*c[s+2][t+1],h=y*c[s+3][t]+a*c[s+3][t+1],v[M]=E*u+3*(A*f*l+x*i*m)+d*h;return v}:function(v,g,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(g),C)),s=Math.max(0,Math.min(Math.floor(r),T)),a=Math.max(0,Math.min(1,g-t)),f=Math.max(0,Math.min(1,r-s)),u,l,m,h,M=1-f,c=1-a;for(m=0;m<U.length;m++)h=U[m],u=c*h[s][t]+a*h[s][t+1],l=c*h[s+1][t]+a*h[s+1][t+1],v[m]=M*u+f*l;return v}}},38356:function(H,U,e){var p=e(3400),L=e(86411),n=e(93504),C=e(85720),T=e(22548);H.exports=function(g,r,t,s){function a(l,m){return p.coerce(g,r,C,l,m)}r._clipPathId="clip"+r.uid+"carpet";var f=a("color",T.defaultLine);if(p.coerceFont(a,"font"),a("carpet"),n(g,r,s,a,f),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=L(g,r,a);u||(r.visible=!1),r._cheater&&a("cheaterslope")}},95856:function(H,U,e){H.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(H){H.exports=function(U,e){for(var p=U._fullData.length,L,n=0;n<p;n++){var C=U._fullData[n];if(C.index!==e.index&&C.type==="carpet"&&(L||(L=C),C.carpet===e.carpet))return C}return L}},53416:function(H){H.exports=function(e,p,L){if(e.length===0)return"";var n,C=[],T=L?3:1;for(n=0;n<e.length;n+=T)C.push(e[n]+","+p[n]),L&&n<e.length-T&&(C.push("C"),C.push([e[n+1]+","+p[n+1],e[n+2]+","+p[n+2]+" "].join(" ")));return C.join(L?"":"L")}},87072:function(H,U,e){var p=e(3400).isArrayOrTypedArray;H.exports=function(n,C,T){var v;for(p(n)?n.length>C.length&&(n=n.slice(0,C.length)):n=[],v=0;v<C.length;v++)n[v]=T(C[v]);return n}},15584:function(H){H.exports=function(e,p,L,n,C,T){var v=C[0]*e.dpdx(p),g=C[1]*e.dpdy(L),r=1,t=1;if(T){var s=Math.sqrt(C[0]*C[0]+C[1]*C[1]),a=Math.sqrt(T[0]*T[0]+T[1]*T[1]),f=(C[0]*T[0]+C[1]*T[1])/s/a;t=Math.max(0,f)}var u=Math.atan2(g,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(n,p,L),offsetMultplier:t}}},164:function(H,U,e){var p=e(33428),L=e(43616),n=e(87072),C=e(53416),T=e(15584),v=e(72736),g=e(3400),r=g.strRotate,t=g.strTranslate,s=e(84284);H.exports=function(i,d,x,A){var E=i._context.staticPlot,y=d.xaxis,S=d.yaxis,w=i._fullLayout,o=w._clips;g.makeTraceGroups(A,x,"trace").each(function(_){var b=p.select(this),I=_[0],D=I.trace,N=D.aaxis,k=D.baxis,z=g.ensureSingle(b,"g","minorlayer"),F=g.ensureSingle(b,"g","majorlayer"),O=g.ensureSingle(b,"g","boundarylayer"),B=g.ensureSingle(b,"g","labellayer");b.style("opacity",D.opacity),f(y,S,F,N,"a",N._gridlines,!0),f(y,S,F,k,"b",k._gridlines,!0),f(y,S,z,N,"a",N._minorgridlines,!0),f(y,S,z,k,"b",k._minorgridlines,!0),f(y,S,O,N,"a-boundary",N._boundarylines,E),f(y,S,O,k,"b-boundary",k._boundarylines,E);var W=u(i,y,S,D,I,B,N._labels,"a-label"),ee=u(i,y,S,D,I,B,k._labels,"b-label");l(i,B,D,I,y,S,W,ee),a(D,I,o,y,S)})};function a(c,i,d,x,A){var E,y,S,w,o=d.select("#"+c._clipPathId);o.size()||(o=d.append("clipPath").classed("carpetclip",!0));var _=g.ensureSingle(o,"path","carpetboundary"),b=i.clipsegments,I=[];for(w=0;w<b.length;w++)E=b[w],y=n([],E.x,x.c2p),S=n([],E.y,A.c2p),I.push(C(y,S,E.bicubic));var D="M"+I.join("L")+"Z";o.attr("id",c._clipPathId),_.attr("d",D)}function f(c,i,d,x,A,E,y){var S="const-"+A+"-lines",w=d.selectAll("."+S).data(E);w.enter().append("path").classed(S,!0).style("vector-effect",y?"none":"non-scaling-stroke"),w.each(function(o){var _=o,b=_.x,I=_.y,D=n([],b,c.c2p),N=n([],I,i.c2p),k="M"+C(D,N,_.smoothing),z=p.select(this);z.attr("d",k).style("stroke-width",_.width).style("stroke",_.color).style("stroke-dasharray",L.dashStyle(_.dash,_.width)).style("fill","none")}),w.exit().remove()}function u(c,i,d,x,A,E,y,S){var w=E.selectAll("text."+S).data(y);w.enter().append("text").classed(S,!0);var o=0,_={};return w.each(function(b,I){var D;if(b.axis.tickangle==="auto")D=T(x,i,d,b.xy,b.dxy);else{var N=(b.axis.tickangle+180)*Math.PI/180;D=T(x,i,d,b.xy,[Math.cos(N),Math.sin(N)])}I||(_={angle:D.angle,flip:D.flip});var k=(b.endAnchor?-1:1)*D.flip,z=p.select(this).attr({"text-anchor":k>0?"start":"end","data-notex":1}).call(L.font,b.font).text(b.text).call(v.convertToTspans,c),F=L.bBox(this);z.attr("transform",t(D.p[0],D.p[1])+r(D.angle)+t(b.axis.labelpadding*k,F.height*.3)),o=Math.max(o,F.width+b.axis.labelpadding)}),w.exit().remove(),_.maxExtent=o,_}function l(c,i,d,x,A,E,y,S){var w,o,_,b,I=g.aggNums(Math.min,null,d.a),D=g.aggNums(Math.max,null,d.a),N=g.aggNums(Math.min,null,d.b),k=g.aggNums(Math.max,null,d.b);w=.5*(I+D),o=N,_=d.ab2xy(w,o,!0),b=d.dxyda_rough(w,o),y.angle===void 0&&g.extendFlat(y,T(d,A,E,_,d.dxydb_rough(w,o))),M(c,i,d,x,_,b,d.aaxis,A,E,y,"a-title"),w=I,o=.5*(N+k),_=d.ab2xy(w,o,!0),b=d.dxydb_rough(w,o),S.angle===void 0&&g.extendFlat(S,T(d,A,E,_,d.dxyda_rough(w,o))),M(c,i,d,x,_,b,d.baxis,A,E,S,"b-title")}var m=s.LINE_SPACING,h=(1-s.MID_SHIFT)/m+1;function M(c,i,d,x,A,E,y,S,w,o,_){var b=[];y.title.text&&b.push(y.title.text);var I=i.selectAll("text."+_).data(b),D=o.maxExtent;I.enter().append("text").classed(_,!0),I.each(function(){var N=T(d,S,w,A,E);["start","both"].indexOf(y.showticklabels)===-1&&(D=0);var k=y.title.font.size;D+=k+y.title.offset;var z=o.angle+(o.flip<0?180:0),F=(z-N.angle+450)%360,O=F>90&&F<270,B=p.select(this);B.text(y.title.text).call(v.convertToTspans,c),O&&(D=(-v.lineCount(B)+h)*m*k-D),B.attr("transform",t(N.p[0],N.p[1])+r(N.angle)+t(0,D)).attr("text-anchor","middle").call(L.font,y.title.font)}),I.exit().remove()}},81e3:function(H,U,e){var p=e(24588),L=e(14952).findBin,n=e(30180),C=e(29056),T=e(26435),v=e(24464);H.exports=function(r){var t=r._a,s=r._b,a=t.length,f=s.length,u=r.aaxis,l=r.baxis,m=t[0],h=t[a-1],M=s[0],c=s[f-1],i=t[t.length-1]-t[0],d=s[s.length-1]-s[0],x=i*p.RELATIVE_CULL_TOLERANCE,A=d*p.RELATIVE_CULL_TOLERANCE;m-=x,h+=x,M-=A,c+=A,r.isVisible=function(E,y){return E>m&&E<h&&y>M&&y<c},r.isOccluded=function(E,y){return E<m||E>h||y<M||y>c},r.setScale=function(){var E=r._x,y=r._y,S=n(r._xctrl,r._yctrl,E,y,u.smoothing,l.smoothing);r._xctrl=S[0],r._yctrl=S[1],r.evalxy=C([r._xctrl,r._yctrl],a,f,u.smoothing,l.smoothing),r.dxydi=T([r._xctrl,r._yctrl],u.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,l.smoothing)},r.i2a=function(E){var y=Math.max(0,Math.floor(E[0]),a-2),S=E[0]-y;return(1-S)*t[y]+S*t[y+1]},r.j2b=function(E){var y=Math.max(0,Math.floor(E[1]),a-2),S=E[1]-y;return(1-S)*s[y]+S*s[y+1]},r.ij2ab=function(E){return[r.i2a(E[0]),r.j2b(E[1])]},r.a2i=function(E){var y=Math.max(0,Math.min(L(E,t),a-2)),S=t[y],w=t[y+1];return Math.max(0,Math.min(a-1,y+(E-S)/(w-S)))},r.b2j=function(E){var y=Math.max(0,Math.min(L(E,s),f-2)),S=s[y],w=s[y+1];return Math.max(0,Math.min(f-1,y+(E-S)/(w-S)))},r.ab2ij=function(E){return[r.a2i(E[0]),r.b2j(E[1])]},r.i2c=function(E,y){return r.evalxy([],E,y)},r.ab2xy=function(E,y,S){if(!S&&(E<t[0]||E>t[a-1]|y<s[0]||y>s[f-1]))return[!1,!1];var w=r.a2i(E),o=r.b2j(y),_=r.evalxy([],w,o);if(S){var b=0,I=0,D=[],N,k,z,F;E<t[0]?(N=0,k=0,b=(E-t[0])/(t[1]-t[0])):E>t[a-1]?(N=a-2,k=1,b=(E-t[a-1])/(t[a-1]-t[a-2])):(N=Math.max(0,Math.min(a-2,Math.floor(w))),k=w-N),y<s[0]?(z=0,F=0,I=(y-s[0])/(s[1]-s[0])):y>s[f-1]?(z=f-2,F=1,I=(y-s[f-1])/(s[f-1]-s[f-2])):(z=Math.max(0,Math.min(f-2,Math.floor(o))),F=o-z),b&&(r.dxydi(D,N,z,k,F),_[0]+=D[0]*b,_[1]+=D[1]*b),I&&(r.dxydj(D,N,z,k,F),_[0]+=D[0]*I,_[1]+=D[1]*I)}return _},r.c2p=function(E,y,S){return[y.c2p(E[0]),S.c2p(E[1])]},r.p2x=function(E,y,S){return[y.p2c(E[0]),S.p2c(E[1])]},r.dadi=function(E){var y=Math.max(0,Math.min(t.length-2,E));return t[y+1]-t[y]},r.dbdj=function(E){var y=Math.max(0,Math.min(s.length-2,E));return s[y+1]-s[y]},r.dxyda=function(E,y,S,w){var o=r.dxydi(null,E,y,S,w),_=r.dadi(E,S);return[o[0]/_,o[1]/_]},r.dxydb=function(E,y,S,w){var o=r.dxydj(null,E,y,S,w),_=r.dbdj(y,w);return[o[0]/_,o[1]/_]},r.dxyda_rough=function(E,y,S){var w=i*(S||.1),o=r.ab2xy(E+w,y,!0),_=r.ab2xy(E-w,y,!0);return[(o[0]-_[0])*.5/w,(o[1]-_[1])*.5/w]},r.dxydb_rough=function(E,y,S){var w=d*(S||.1),o=r.ab2xy(E,y+w,!0),_=r.ab2xy(E,y-w,!0);return[(o[0]-_[0])*.5/w,(o[1]-_[1])*.5/w]},r.dpdx=function(E){return E._m},r.dpdy=function(E){return E._m}}},51512:function(H,U,e){var p=e(3400);H.exports=function(n,C,T){var v,g,r,t=[],s=[],a=n[0].length,f=n.length;function u(ee,ne){var Q=0,le,Z=0;return ee>0&&(le=n[ne][ee-1])!==void 0&&(Z++,Q+=le),ee<a-1&&(le=n[ne][ee+1])!==void 0&&(Z++,Q+=le),ne>0&&(le=n[ne-1][ee])!==void 0&&(Z++,Q+=le),ne<f-1&&(le=n[ne+1][ee])!==void 0&&(Z++,Q+=le),Q/Math.max(1,Z)}var l=0;for(v=0;v<a;v++)for(g=0;g<f;g++)n[g][v]===void 0&&(t.push(v),s.push(g),n[g][v]=u(v,g)),l=Math.max(l,Math.abs(n[g][v]));if(!t.length)return n;var m,h,M,c,i,d,x,A,E,y,S,w=1e-5,o=0,_=100,b=0,I=t.length;do{for(o=0,r=0;r<I;r++){v=t[r],g=s[r];var D=0,N=0,k,z,F,O,B,W;v===0?(B=Math.min(a-1,2),F=C[B],O=C[1],k=n[g][B],z=n[g][1],N+=z+(z-k)*(C[0]-O)/(O-F),D++):v===a-1&&(B=Math.max(0,a-3),F=C[B],O=C[a-2],k=n[g][B],z=n[g][a-2],N+=z+(z-k)*(C[a-1]-O)/(O-F),D++),(v===0||v===a-1)&&g>0&&g<f-1&&(m=T[g+1]-T[g],h=T[g]-T[g-1],N+=(h*n[g+1][v]+m*n[g-1][v])/(h+m),D++),g===0?(W=Math.min(f-1,2),F=T[W],O=T[1],k=n[W][v],z=n[1][v],N+=z+(z-k)*(T[0]-O)/(O-F),D++):g===f-1&&(W=Math.max(0,f-3),F=T[W],O=T[f-2],k=n[W][v],z=n[f-2][v],N+=z+(z-k)*(T[f-1]-O)/(O-F),D++),(g===0||g===f-1)&&v>0&&v<a-1&&(m=C[v+1]-C[v],h=C[v]-C[v-1],N+=(h*n[g][v+1]+m*n[g][v-1])/(h+m),D++),D?N/=D:(M=C[v+1]-C[v],c=C[v]-C[v-1],i=T[g+1]-T[g],d=T[g]-T[g-1],x=M*c*(M+c),A=i*d*(i+d),N=(x*(d*n[g+1][v]+i*n[g-1][v])+A*(c*n[g][v+1]+M*n[g][v-1]))/(A*(c+M)+x*(d+i))),E=N-n[g][v],y=E/l,o+=y*y,S=D?0:.85,n[g][v]+=E*(1+S)}o=Math.sqrt(o)}while(b++<_&&o>w);return p.log("Smoother converged to",o,"after",b,"iterations"),n}},86411:function(H,U,e){var p=e(3400).isArray1D;H.exports=function(n,C,T){var v=T("x"),g=v&&v.length,r=T("y"),t=r&&r.length;if(!g&&!t)return!1;if(C._cheater=!v,(!g||p(v))&&(!t||p(r))){var s=g?v.length:1/0;t&&(s=Math.min(s,r.length)),C.a&&C.a.length&&(s=Math.min(s,C.a.length)),C.b&&C.b.length&&(s=Math.min(s,C.b.length)),C._length=s}else C._length=null;return!0}},83372:function(H,U,e){var p=e(21776).Ks,L=e(6096),n=e(49084),C=e(45464),T=e(22548).defaultLine,v=e(92880).extendFlat,g=L.marker.line;H.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:L.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},L.geojson,{}),featureidkey:L.featureidkey,text:v({},L.text,{}),hovertext:v({},L.hovertext,{}),marker:{line:{color:v({},g.color,{dflt:T}),width:v({},g.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:L.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:L.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:p(),showlegend:v({},C.showlegend,{dflt:!1})},n("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(H,U,e){var p=e(38248),L=e(39032).BADNUM,n=e(47128),C=e(20148),T=e(4500);function v(g){return g&&typeof g=="string"}H.exports=function(r,t){var s=t._length,a=new Array(s),f;t.geojson?f=function(M){return v(M)||p(M)}:f=v;for(var u=0;u<s;u++){var l=a[u]={},m=t.locations[u],h=t.z[u];f(m)&&p(h)?(l.loc=m,l.z=h):(l.loc=null,l.z=L),l.index=u}return C(a,t),n(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),T(a,t),a}},30972:function(H,U,e){var p=e(3400),L=e(27260),n=e(83372);H.exports=function(T,v,g,r){function t(h,M){return p.coerce(T,v,n,h,M)}var s=t("locations"),a=t("z");if(!(s&&s.length&&p.isArrayOrTypedArray(a)&&a.length)){v.visible=!1;return}v._length=Math.min(s.length,a.length);var f=t("geojson"),u;(typeof f=="string"&&f!==""||p.isPlainObject(f))&&(u="geojson-id");var l=t("locationmode",u);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var m=t("marker.line.width");m&&t("marker.line.color"),t("marker.opacity"),L(T,v,r,t,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(v,t)}},52428:function(H){H.exports=function(e,p,L,n,C){e.location=p.location,e.z=p.z;var T=n[C];return T.fIn&&T.fIn.properties&&(e.properties=T.fIn.properties),e.ct=T.ct,e}},69224:function(H,U,e){var p=e(54460),L=e(83372),n=e(3400).fillText;H.exports=function(v,g,r){var t=v.cd,s=t[0].trace,a=v.subplot,f,u,l,m,h=[g,r],M=[g+360,r];for(u=0;u<t.length;u++)if(f=t[u],m=!1,f._polygons){for(l=0;l<f._polygons.length;l++)f._polygons[l].contains(h)&&(m=!m),f._polygons[l].contains(M)&&(m=!m);if(m)break}if(!(!m||!f))return v.x0=v.x1=v.xa.c2p(f.ct),v.y0=v.y1=v.ya.c2p(f.ct),v.index=f.index,v.location=f.loc,v.z=f.z,v.zLabel=p.tickText(a.mockAxis,a.mockAxis.c2l(f.z),"hover").text,v.hovertemplate=f.hovertemplate,C(v,s,f),[v]};function C(T,v,g){if(!v.hovertemplate){var r=g.hi||v.hoverinfo,t=String(g.loc),s=r==="all"?L.hoverinfo.flags:r.split("+"),a=s.indexOf("name")!==-1,f=s.indexOf("location")!==-1,u=s.indexOf("z")!==-1,l=s.indexOf("text")!==-1,m=!a&&f,h=[];m?T.nameOverride=t:(a&&(T.nameOverride=v.name),f&&h.push(t)),u&&h.push(T.zLabel),l&&n(g,v,h),T.extraText=h.join("<br>")}}},54272:function(H,U,e){H.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(H,U,e){var p=e(33428),L=e(3400),n=e(27144),C=e(59972).getTopojsonFeatures,T=e(19280).findExtremes,v=e(7947).style;function g(t,s,a){var f=s.layers.backplot.select(".choroplethlayer");L.makeTraceGroups(f,a,"trace choropleth").each(function(u){var l=p.select(this),m=l.selectAll("path.choroplethlocation").data(L.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),v(t,u)})}function r(t,s){for(var a=t[0].trace,f=s[a.geo],u=f._subplot,l=a.locationmode,m=a._length,h=l==="geojson-id"?n.extractTraceFeature(t):C(a,u.topojson),M=[],c=[],i=0;i<m;i++){var d=t[i],x=l==="geojson-id"?d.fOut:n.locationToFeature(l,d.loc,h);if(x){d.geojson=x,d.ct=x.properties.ct,d._polygons=n.feature2polygons(x);var A=n.computeBbox(x);M.push(A[0],A[2]),c.push(A[1],A[3])}else d.geojson=null}if(f.fitbounds==="geojson"&&l==="geojson-id"){var E=n.computeBbox(n.getTraceGeojson(a));M=[E[0],E[2]],c=[E[1],E[3]]}var y={padded:!0};a._extremes.lon=T(f.lonaxis._ax,M,y),a._extremes.lat=T(f.lataxis._ax,c,y)}H.exports={calcGeoJSON:r,plot:g}},17328:function(H){H.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,T=[],v,g,r,t,s;if(p===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++)g=L[v],r=g.ct,r&&(t=n.c2p(r),s=C.c2p(r),p.contains([t,s],null,v,e)?(T.push({pointNumber:v,lon:r[0],lat:r[1]}),g.selected=1):g.selected=0);return T}},7947:function(H,U,e){var p=e(33428),L=e(76308),n=e(43616),C=e(8932);function T(r,t){t&&v(r,t)}function v(r,t){var s=t[0].trace,a=t[0].node3,f=a.selectAll(".choroplethlocation"),u=s.marker||{},l=u.line||{},m=C.makeColorScaleFuncFromTrace(s);f.each(function(h){p.select(this).attr("fill",m(h.z)).call(L.stroke,h.mlc||l.color).call(n.dashLine,"",h.mlw||l.width||0).style("opacity",u.opacity)}),n.selectedPointStyle(f,s)}function g(r,t){var s=t[0].node3,a=t[0].trace;a.selectedpoints?n.selectedPointStyle(s.selectAll(".choroplethlocation"),a):v(r,t)}H.exports={style:T,styleOnSelect:g}},45608:function(H,U,e){var p=e(83372),L=e(49084),n=e(21776).Ks,C=e(45464),T=e(92880).extendFlat;H.exports=T({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:T({},p.featureidkey,{}),below:{valType:"string",editType:"plot"},text:p.text,hovertext:p.hovertext,marker:{line:{color:T({},p.marker.line.color,{editType:"plot"}),width:T({},p.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:T({},p.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:T({},p.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:T({},p.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:p.hoverinfo,hovertemplate:n({},{keys:["properties"]}),showlegend:T({},C.showlegend,{dflt:!1})},L("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(H,U,e){var p=e(38248),L=e(3400),n=e(8932),C=e(43616),T=e(44808).makeBlank,v=e(27144);function g(t){var s=t[0].trace,a=s.visible===!0&&s._length!==0,f={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},l=s._opts={fill:f,line:u,geojson:T()};if(!a)return l;var m=v.extractTraceFeature(t);if(!m)return l;var h=n.makeColorScaleFuncFromTrace(s),M=s.marker,c=M.line||{},i;L.isArrayOrTypedArray(M.opacity)&&(i=function(o){var _=o.mo;return p(_)?+L.constrain(_,0,1):0});var d;L.isArrayOrTypedArray(c.color)&&(d=function(o){return o.mlc});var x;L.isArrayOrTypedArray(c.width)&&(x=function(o){return o.mlw});for(var A=0;A<t.length;A++){var E=t[A],y=E.fOut;if(y){var S=y.properties;S.fc=h(E.z),i&&(S.mo=i(E)),d&&(S.mlc=d(E)),x&&(S.mlw=x(E)),E.ct=S.ct,E._polygons=v.feature2polygons(y)}}var w=i?{type:"identity",property:"mo"}:M.opacity;return L.extendFlat(f.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":w}),L.extendFlat(u.paint,{"line-color":d?{type:"identity",property:"mlc"}:c.color,"line-width":x?{type:"identity",property:"mlw"}:c.width,"line-opacity":w}),f.layout.visibility="visible",u.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:m},r(t),l}function r(t){var s=t[0].trace,a=s._opts,f;if(s.selectedpoints){for(var u=C.makeSelectedPointStyleFns(s),l=0;l<t.length;l++){var m=t[l];m.fOut&&(m.fOut.properties.mo2=u.selectedOpacityFn(m))}f={type:"identity",property:"mo2"}}else f=L.isArrayOrTypedArray(s.marker.opacity)?{type:"identity",property:"mo"}:s.marker.opacity;return L.extendFlat(a.fill.paint,{"fill-opacity":f}),L.extendFlat(a.line.paint,{"line-opacity":f}),a}H.exports={convert:g,convertOnSelect:r}},9352:function(H,U,e){var p=e(3400),L=e(27260),n=e(45608);H.exports=function(T,v,g,r){function t(l,m){return p.coerce(T,v,n,l,m)}var s=t("locations"),a=t("z"),f=t("geojson");if(!p.isArrayOrTypedArray(s)||!s.length||!p.isArrayOrTypedArray(a)||!a.length||!(typeof f=="string"&&f!==""||p.isPlainObject(f))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(s.length,a.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),L(T,v,r,t,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(v,t)}},85404:function(H,U,e){H.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(p,L){if(L){var n=L[0].trace;n._glTrace.updateOnSelect(L)}},getBelow:function(p,L){for(var n=L.getMapLayers(),C=n.length-2;C>=0;C--){var T=n[C].id;if(typeof T=="string"&&T.indexOf("water")===0){for(var v=C+1;v<n.length;v++)if(T=n[v].id,typeof T=="string"&&T.indexOf("plotly-")===-1)return T}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(H,U,e){var p=e(13504).convert,L=e(13504).convertOnSelect,n=e(47552).traceLayerPrefix;function C(v,g){this.type="choroplethmapbox",this.subplot=v,this.uid=g,this.sourceId="source-"+g,this.layerList=[["fill",n+g+"-fill"],["line",n+g+"-line"]],this.below=null}var T=C.prototype;T.update=function(v){this._update(p(v)),v[0].trace._glTrace=this},T.updateOnSelect=function(v){this._update(L(v))},T._update=function(v){var g=this.subplot,r=this.layerList,t=g.belowLookup["trace-"+this.uid];g.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var s=0;s<r.length;s++){var a=r[s],f=a[0],u=a[1],l=v[f];g.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&g.setOptions(u,"setPaintProperty",l.paint)}},T._addLayers=function(v,g){for(var r=this.subplot,t=this.layerList,s=this.sourceId,a=0;a<t.length;a++){var f=t[a],u=f[0],l=v[u];r.addLayer({type:u,id:f[1],source:s,layout:l.layout,paint:l.paint},g)}},T._removeLayers=function(){for(var v=this.subplot.map,g=this.layerList,r=g.length-1;r>=0;r--)v.removeLayer(g[r][1])},T.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},H.exports=function(g,r){var t=r[0].trace,s=new C(g,t.uid),a=s.sourceId,f=p(r),u=s.below=g.belowLookup["trace-"+t.uid];return g.map.addSource(a,{type:"geojson",data:f.geojson}),s._addLayers(f,u),r[0].trace._glTrace=s,s}},86040:function(H,U,e){var p=e(49084),L=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(52948),T=e(45464),v=e(92880).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["norm"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},T.showlegend,{dflt:!1})};v(g,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){g[t]=C[t]}),g.hoverinfo=v({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,H.exports=g},83344:function(H,U,e){var p=e(47128);H.exports=function(n,C){for(var T=C.u,v=C.v,g=C.w,r=Math.min(C.x.length,C.y.length,C.z.length,T.length,v.length,g.length),t=-1/0,s=1/0,a=0;a<r;a++){var f=T[a],u=v[a],l=g[a],m=Math.sqrt(f*f+u*u+l*l);t=Math.max(t,m),s=Math.min(s,m)}C._len=r,C._normMax=t,p(n,C,{vals:[s,t],containerStr:"",cLetter:"c"})}},6648:function(H,U,e){var p=e(67792).gl_cone3d,L=e(67792).gl_cone3d.createConeMesh,n=e(3400).simpleMap,C=e(33040).parseColorScale,T=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,g=e(52094);function r(m,h){this.scene=m,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(m){if(m.object===this.mesh){var h=m.index=m.data.index,M=this.data.x[h],c=this.data.y[h],i=this.data.z[h],d=this.data.u[h],x=this.data.v[h],A=this.data.w[h];m.traceCoordinate=[M,c,i,d,x,A,Math.sqrt(d*d+x*x+A*A)];var E=this.data.hovertext||this.data.text;return v(E)&&E[h]!==void 0?m.textLabel=E[h]:E&&(m.textLabel=E),!0}};var s={xaxis:0,yaxis:1,zaxis:2},a={tip:1,tail:0,cm:.25,center:.5},f={tip:1,tail:1,cm:.75,center:.5};function u(m,h){var M=m.fullSceneLayout,c=m.dataScale,i={};function d(y,S){var w=M[S],o=c[s[S]];return n(y,function(_){return w.d2l(_)*o})}i.vectors=g(d(h.u,"xaxis"),d(h.v,"yaxis"),d(h.w,"zaxis"),h._len),i.positions=g(d(h.x,"xaxis"),d(h.y,"yaxis"),d(h.z,"zaxis"),h._len);var x=T(h);i.colormap=C(h),i.vertexIntensityBounds=[x.min/h._normMax,x.max/h._normMax],i.coneOffset=a[h.anchor],h.sizemode==="scaled"?i.coneSize=h.sizeref||.5:i.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5;var A=p(i),E=h.lightposition;return A.lightPosition=[E.x,E.y,E.z],A.ambient=h.lighting.ambient,A.diffuse=h.lighting.diffuse,A.specular=h.lighting.specular,A.roughness=h.lighting.roughness,A.fresnel=h.lighting.fresnel,A.opacity=h.opacity,h._pad=f[h.anchor]*A.vectorScale*A.coneScale*h._normMax,A}t.update=function(m){this.data=m;var h=u(this.scene,m);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(m,h){var M=m.glplot.gl,c=u(m,h),i=L(M,c),d=new r(m,h.uid);return d.mesh=i,d.data=h,i._trace=d,m.glplot.add(i),d}H.exports=l},86096:function(H,U,e){var p=e(3400),L=e(27260),n=e(86040);H.exports=function(T,v,g,r){function t(h,M){return p.coerce(T,v,n,h,M)}var s=t("u"),a=t("v"),f=t("w"),u=t("x"),l=t("y"),m=t("z");if(!s||!s.length||!a||!a.length||!f||!f.length||!u||!u.length||!l||!l.length||!m||!m.length){v.visible=!1;return}t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),L(T,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(H,U,e){H.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(p,L){return p.norm=L.traceCoordinate[6],p},meta:{}}},67104:function(H,U,e){var p=e(83328),L=e(52904),n=e(29736),C=n.axisHoverFormat,T=n.descriptionOnlyNumbers,v=e(49084),g=e(98192).u,r=e(25376),t=e(92880).extendFlat,s=e(69104),a=s.COMPARISON_OPS2,f=s.INTERVAL_OPS,u=L.line;H.exports=t({z:p.z,x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,text:p.text,hovertext:p.hovertext,transpose:p.transpose,xtype:p.xtype,ytype:p.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:t({},p.texttemplate,{}),textfont:t({},p.textfont,{}),hoverongaps:p.hoverongaps,connectgaps:t({},p.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:T("contour label")},operation:{valType:"enumerated",values:[].concat(a).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:g,smoothing:t({},u.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(H,U,e){var p=e(8932),L=e(19512),n=e(54444),C=e(46960);H.exports=function(v,g){var r=L(v,g),t=r[0].z;n(g,t);var s=g.contours,a=p.extractOpts(g),f;if(s.coloring==="heatmap"&&a.auto&&g.autocontour===!1){var u=s.start,l=C(s),m=s.size||1,h=Math.floor((l-u)/m)+1;isFinite(m)||(m=1,h=1);var M=u-m/2,c=M+h*m;f=[M,c]}else f=t;return p.calc(v,g,{vals:f,cLetter:"z"}),r}},56008:function(H){H.exports=function(U,e){var p=U[0],L=p.z,n;switch(e.type){case"levels":var C=Math.min(L[0][0],L[0][1]);for(n=0;n<U.length;n++){var T=U[n];T.prefixBoundary=!T.edgepaths.length&&(C>T.level||T.starts.length&&C===T.level)}break;case"constraint":if(p.prefixBoundary=!1,p.edgepaths.length)return;var v=p.x.length,g=p.y.length,r=-1/0,t=1/0;for(n=0;n<g;n++)t=Math.min(t,L[n][0]),t=Math.min(t,L[n][v-1]),r=Math.max(r,L[n][0]),r=Math.max(r,L[n][v-1]);for(n=1;n<v-1;n++)t=Math.min(t,L[0][n]),t=Math.min(t,L[g-1][n]),r=Math.max(r,L[0][n]),r=Math.max(r,L[g-1][n]);var s=e.value,a,f;switch(e._operation){case">":s>r&&(p.prefixBoundary=!0);break;case"<":(s<t||p.starts.length&&s===t)&&(p.prefixBoundary=!0);break;case"[]":a=Math.min(s[0],s[1]),f=Math.max(s[0],s[1]),(f<t||a>r||p.starts.length&&f===t)&&(p.prefixBoundary=!0);break;case"][":a=Math.min(s[0],s[1]),f=Math.max(s[0],s[1]),a<t&&f>r&&(p.prefixBoundary=!0);break}break}}},55296:function(H,U,e){var p=e(8932),L=e(41076),n=e(46960);function C(T,v,g){var r=v.contours,t=v.line,s=r.size||1,a=r.coloring,f=L(v,{isColorbar:!0});if(a==="heatmap"){var u=p.extractOpts(v);g._fillgradient=u.reversescale?p.flipScale(u.colorscale):u.colorscale,g._zrange=[u.min,u.max]}else a==="fill"&&(g._fillcolor=f);g._line={color:a==="lines"?f:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},g._levels={start:r.start,end:n(r),size:s}}H.exports={min:"zmin",max:"zmax",calc:C}},93252:function(H){H.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(H,U,e){var p=e(38248),L=e(17428),n=e(76308),C=n.addOpacity,T=n.opacity,v=e(69104),g=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;H.exports=function(f,u,l,m,h,M){var c=u.contours,i,d,x,A=l("contours.operation");if(c._operation=r[A],s(l,c),A==="="?i=c.showlines=!0:(i=l("contours.showlines"),x=l("fillcolor",C((f.line||{}).color||h,.5))),i){var E=x&&T(x)?C(u.fillcolor,1):h;d=l("line.color",E),l("line.width",2),l("line.dash")}l("line.smoothing"),L(l,m,d,M)};function s(a,f){var u;t.indexOf(f.operation)===-1?(a("contours.value",[0,1]),g(f.value)?f.value.length>2?f.value=f.value.slice(2):f.length===0?f.value=[0,1]:f.length<2?(u=parseFloat(f.value[0]),f.value=[u,u+1]):f.value=[parseFloat(f.value[0]),parseFloat(f.value[1])]:p(f.value)&&(u=parseFloat(f.value),f.value=[u,u+1])):(a("contours.value",0),p(f.value)||(g(f.value)?f.value=parseFloat(f.value[0]):f.value=0))}},3212:function(H,U,e){var p=e(69104),L=e(38248);H.exports={"[]":C("[]"),"][":C("]["),">":T(">"),"<":T("<"),"=":T("=")};function n(v,g){var r=Array.isArray(g),t;function s(a){return L(a)?+a:null}return p.COMPARISON_OPS2.indexOf(v)!==-1?t=s(r?g[0]:g):p.INTERVAL_OPS.indexOf(v)!==-1?t=r?[s(g[0]),s(g[1])]:[s(g),s(g)]:p.SET_OPS.indexOf(v)!==-1&&(t=r?g.map(s):[s(g)]),t}function C(v){return function(g){g=n(v,g);var r=Math.min(g[0],g[1]),t=Math.max(g[0],g[1]);return{start:r,end:t,size:t-r}}}function T(v){return function(g){return g=n(v,g),{start:g,end:1/0,size:1/0}}}},84952:function(H){H.exports=function(e,p,L,n){var C=n("contours.start"),T=n("contours.end"),v=C===!1||T===!1,g=L("contours.size"),r;v?r=p.autocontour=!0:r=L("autocontour",!1),(r||!g)&&L("ncontours")}},82172:function(H,U,e){var p=e(3400);H.exports=function(n,C){var T,v,g,r=function(a){return a.reverse()},t=function(a){return a};switch(C){case"=":case"<":return n;case">":for(n.length!==1&&p.warn("Contour data invalid for the specified inequality operation."),v=n[0],T=0;T<v.edgepaths.length;T++)v.edgepaths[T]=r(v.edgepaths[T]);for(T=0;T<v.paths.length;T++)v.paths[T]=r(v.paths[T]);for(T=0;T<v.starts.length;T++)v.starts[T]=r(v.starts[T]);return n;case"][":var s=r;r=t,t=s;case"[]":for(n.length!==2&&p.warn("Contour data invalid for the specified inequality range operation."),v=L(n[0]),g=L(n[1]),T=0;T<v.edgepaths.length;T++)v.edgepaths[T]=r(v.edgepaths[T]);for(T=0;T<v.paths.length;T++)v.paths[T]=r(v.paths[T]);for(T=0;T<v.starts.length;T++)v.starts[T]=r(v.starts[T]);for(;g.edgepaths.length;)v.edgepaths.push(t(g.edgepaths.shift()));for(;g.paths.length;)v.paths.push(t(g.paths.shift()));for(;g.starts.length;)v.starts.push(t(g.starts.shift()));return[v]}};function L(n){return p.extendFlat({},n,{edgepaths:p.extendDeep([],n.edgepaths),paths:p.extendDeep([],n.paths),starts:p.extendDeep([],n.starts)})}},57004:function(H,U,e){var p=e(3400),L=e(51264),n=e(31147),C=e(95536),T=e(84952),v=e(97680),g=e(39096),r=e(67104);H.exports=function(s,a,f,u){function l(c,i){return p.coerce(s,a,r,c,i)}function m(c){return p.coerce2(s,a,r,c)}var h=L(s,a,l,u);if(!h){a.visible=!1;return}n(s,a,u,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var M=l("contours.type")==="constraint";l("connectgaps",p.isArray1D(a.z)),M?C(s,a,l,u,f):(T(s,a,l,m),v(s,a,l,u)),a.contours&&a.contours.coloring==="heatmap"&&g(l,u)}},61512:function(H,U,e){var p=e(3400),L=e(3212),n=e(46960);H.exports=function(T,v,g){for(var r=T.type==="constraint"?L[T._operation](T.value):T,t=r.size,s=[],a=n(r),f=g.trace._carpetTrace,u=f?{xaxis:f.aaxis,yaxis:f.baxis,x:g.a,y:g.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:g.x,y:g.y},l=r.start;l<a;l+=t)if(s.push(p.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:g.z,smoothing:g.trace.line.smoothing},u)),s.length>1e3){p.warn("Too many contours, clipping at 1000",T);break}return s}},46960:function(H){H.exports=function(e){return e.end+e.size/1e6}},88748:function(H,U,e){var p=e(3400),L=e(93252);H.exports=function(t,s,a){var f,u,l,m,h;for(s=s||.01,a=a||.01,l=0;l<t.length;l++){for(m=t[l],h=0;h<m.starts.length;h++)u=m.starts[h],T(m,u,"edge",s,a);for(f=0;Object.keys(m.crossings).length&&f<1e4;)f++,u=Object.keys(m.crossings)[0].split(",").map(Number),T(m,u,void 0,s,a);f===1e4&&p.log("Infinite loop in contour?")}};function n(r,t,s,a){return Math.abs(r[0]-t[0])<s&&Math.abs(r[1]-t[1])<a}function C(r,t){var s=r[2]-t[2],a=r[3]-t[3];return Math.sqrt(s*s+a*a)}function T(r,t,s,a,f){var u=t.join(","),l=r.crossings[u],m=v(l,s,t),h=[g(r,t,[-m[0],-m[1]])],M=r.z.length,c=r.z[0].length,i=t.slice(),d=m.slice(),x;for(x=0;x<1e4;x++){if(l>20?(l=L.CHOOSESADDLE[l][(m[0]||m[1])<0?0:1],r.crossings[u]=L.SADDLEREMAINDER[l]):delete r.crossings[u],m=L.NEWDELTA[l],!m){p.log("Found bad marching index:",l,t,r.level);break}h.push(g(r,t,m)),t[0]+=m[0],t[1]+=m[1],u=t.join(","),n(h[h.length-1],h[h.length-2],a,f)&&h.pop();var A=m[0]&&(t[0]<0||t[0]>c-2)||m[1]&&(t[1]<0||t[1]>M-2),E=t[0]===i[0]&&t[1]===i[1]&&m[0]===d[0]&&m[1]===d[1];if(E||s&&A)break;l=r.crossings[u]}x===1e4&&p.log("Infinite loop in contour?");var y=n(h[0],h[h.length-1],a,f),S=0,w=.2*r.smoothing,o=[],_=0,b,I,D,N,k,z,F,O,B,W,ee;for(x=1;x<h.length;x++)F=C(h[x],h[x-1]),S+=F,o.push(F);var ne=S/o.length*w;function Q(Y){return h[Y%h.length]}for(x=h.length-2;x>=_;x--)if(b=o[x],b<ne){for(D=0,I=x-1;I>=_&&b+o[I]<ne;I--)b+=o[I];if(y&&x===h.length-2)for(D=0;D<I&&b+o[D]<ne;D++)b+=o[D];k=x-I+D+1,z=Math.floor((x+I+D+2)/2),!y&&x===h.length-2?N=h[h.length-1]:!y&&I===-1?N=h[0]:k%2?N=Q(z):N=[(Q(z)[0]+Q(z+1)[0])/2,(Q(z)[1]+Q(z+1)[1])/2],h.splice(I+1,x-I+1,N),x=I+1,D&&(_=D),y&&(x===h.length-2?h[D]=h[h.length-1]:x===0&&(h[h.length-1]=h[0]))}for(h.splice(0,_),x=0;x<h.length;x++)h[x].length=2;if(!(h.length<2))if(y)h.pop(),r.paths.push(h);else{s||p.log("Unclosed interior contour?",r.level,i.join(","),h.join("L"));var le=!1;for(O=0;O<r.edgepaths.length;O++)if(W=r.edgepaths[O],!le&&n(W[0],h[h.length-1],a,f)){h.pop(),le=!0;var Z=!1;for(B=0;B<r.edgepaths.length;B++)if(ee=r.edgepaths[B],n(ee[ee.length-1],h[0],a,f)){Z=!0,h.shift(),r.edgepaths.splice(O,1),B===O?r.paths.push(h.concat(ee)):(B>O&&B--,r.edgepaths[B]=ee.concat(h,W));break}Z||(r.edgepaths[O]=h.concat(W))}for(O=0;O<r.edgepaths.length&&!le;O++)W=r.edgepaths[O],n(W[W.length-1],h[0],a,f)&&(h.shift(),r.edgepaths[O]=W.concat(h),le=!0);le||r.edgepaths.push(h)}}function v(r,t,s){var a=0,f=0;return r>20&&t?r===208||r===1114?a=s[0]===0?1:-1:f=s[1]===0?1:-1:L.BOTTOMSTART.indexOf(r)!==-1?f=1:L.LEFTSTART.indexOf(r)!==-1?a=1:L.TOPSTART.indexOf(r)!==-1?f=-1:a=-1,[a,f]}function g(r,t,s){var a=t[0]+Math.max(s[0],0),f=t[1]+Math.max(s[1],0),u=r.z[f][a],l=r.xaxis,m=r.yaxis;if(s[1]){var h=(r.level-u)/(r.z[f][a+1]-u),M=(h!==1?(1-h)*l.c2l(r.x[a]):0)+(h!==0?h*l.c2l(r.x[a+1]):0);return[l.c2p(l.l2c(M),!0),m.c2p(r.y[f],!0),a+h,f]}else{var c=(r.level-u)/(r.z[f+1][a]-u),i=(c!==1?(1-c)*m.c2l(r.y[f]):0)+(c!==0?c*m.c2l(r.y[f+1]):0);return[l.c2p(r.x[a],!0),m.c2p(m.l2c(i),!0),a,f+c]}}},38200:function(H,U,e){var p=e(76308),L=e(55512);H.exports=function(C,T,v,g,r){r||(r={}),r.isContour=!0;var t=L(C,T,v,g,r);return t&&t.forEach(function(s){var a=s.trace;a.contours.type==="constraint"&&(a.fillcolor&&p.opacity(a.fillcolor)?s.color=p.addOpacity(a.fillcolor,1):a.contours.showlines&&p.opacity(a.line.color)&&(s.color=p.addOpacity(a.line.color,1)))}),t}},66240:function(H,U,e){H.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(H,U,e){var p=e(3400);H.exports=function(n,C,T,v){v||(v={});var g=n("contours.showlabels");if(g){var r=C.font;p.coerceFont(n,"contours.labelfont",{family:r.family,size:r.size,color:T}),n("contours.labelformat")}v.hasHover!==!1&&n("zhoverformat")}},41076:function(H,U,e){var p=e(33428),L=e(8932),n=e(46960);H.exports=function(T){var v=T.contours,g=v.start,r=n(v),t=v.size||1,s=Math.floor((r-g)/t)+1,a=v.coloring==="lines"?0:1,f=L.extractOpts(T);isFinite(t)||(t=1,s=1);var u=f.reversescale?L.flipScale(f.colorscale):f.colorscale,l=u.length,m=new Array(l),h=new Array(l),M,c,i=f.min,d=f.max;if(v.coloring==="heatmap"){for(c=0;c<l;c++)M=u[c],m[c]=M[0]*(d-i)+i,h[c]=M[1];var x=p.extent([i,d,v.start,v.start+t*(s-1)]),A=x[i<d?0:1],E=x[i<d?1:0];A!==i&&(m.splice(0,0,A),h.splice(0,0,h[0])),E!==d&&(m.push(E),h.push(h[h.length-1]))}else{var y=T._input&&typeof T._input.zmin=="number"&&typeof T._input.zmax=="number";for(y&&(g<=i||r>=d)&&(g<=i&&(g=i),r>=d&&(r=d),s=Math.floor((r-g)/t)+1,a=0),c=0;c<l;c++)M=u[c],m[c]=(M[0]*(s+a-1)-a/2)*t+g,h[c]=M[1];(y||T.autocontour)&&(m[0]>i&&(m.unshift(i),h.unshift(h[0])),m[m.length-1]<d&&(m.push(d),h.push(h[h.length-1])))}return L.makeColorScaleFunc({domain:m,range:h},{noNumericCheck:!0})}},72424:function(H,U,e){var p=e(93252);H.exports=function(C){var T=C[0].z,v=T.length,g=T[0].length,r=v===2||g===2,t,s,a,f,u,l,m,h,M;for(s=0;s<v-1;s++)for(f=[],s===0&&(f=f.concat(p.BOTTOMSTART)),s===v-2&&(f=f.concat(p.TOPSTART)),t=0;t<g-1;t++)for(a=f.slice(),t===0&&(a=a.concat(p.LEFTSTART)),t===g-2&&(a=a.concat(p.RIGHTSTART)),u=t+","+s,l=[[T[s][t],T[s][t+1]],[T[s+1][t],T[s+1][t+1]]],M=0;M<C.length;M++)h=C[M],m=L(h.level,l),m&&(h.crossings[u]=m,a.indexOf(m)!==-1&&(h.starts.push([t,s]),r&&a.indexOf(m,a.indexOf(m)+1)!==-1&&h.starts.push([t,s])))};function L(n,C){var T=(C[0][0]>n?0:1)+(C[0][1]>n?0:2)+(C[1][1]>n?0:4)+(C[1][0]>n?0:8);if(T===5||T===10){var v=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return n>v?T===5?713:1114:T===5?104:208}return T===15?0:T}},23676:function(H,U,e){var p=e(33428),L=e(3400),n=e(43616),C=e(8932),T=e(72736),v=e(54460),g=e(78344),r=e(41420),t=e(72424),s=e(88748),a=e(61512),f=e(82172),u=e(56008),l=e(93252),m=l.LABELOPTIMIZER;U.plot=function(y,S,w,o){var _=S.xaxis,b=S.yaxis;L.makeTraceGroups(o,w,"contour").each(function(I){var D=p.select(this),N=I[0],k=N.trace,z=N.x,F=N.y,O=k.contours,B=a(O,S,N),W=L.ensureSingle(D,"g","heatmapcoloring"),ee=[];O.coloring==="heatmap"&&(ee=[I]),r(y,S,ee,W),t(B),s(B);var ne=_.c2p(z[0],!0),Q=_.c2p(z[z.length-1],!0),le=b.c2p(F[0],!0),Z=b.c2p(F[F.length-1],!0),Y=[[ne,Z],[Q,Z],[Q,le],[ne,le]],re=B;O.type==="constraint"&&(re=f(B,O._operation)),h(D,Y,O),M(D,re,Y,O),i(D,B,y,N,O),x(D,S,y,N,Y)})};function h(E,y,S){var w=L.ensureSingle(E,"g","contourbg"),o=w.selectAll("path").data(S.coloring==="fill"?[0]:[]);o.enter().append("path"),o.exit().remove(),o.attr("d","M"+y.join("L")+"Z").style("stroke","none")}function M(E,y,S,w){var o=w.coloring==="fill"||w.type==="constraint"&&w._operation!=="=",_="M"+S.join("L")+"Z";o&&u(y,w);var b=L.ensureSingle(E,"g","contourfill"),I=b.selectAll("path").data(o?y:[]);I.enter().append("path"),I.exit().remove(),I.each(function(D){var N=(D.prefixBoundary?_:"")+c(D,S);N?p.select(this).attr("d",N).style("stroke","none"):p.select(this).remove()})}function c(E,y){var S="",w=0,o=E.edgepaths.map(function(ne,Q){return Q}),_=!0,b,I,D,N,k,z;function F(ne){return Math.abs(ne[1]-y[0][1])<.01}function O(ne){return Math.abs(ne[1]-y[2][1])<.01}function B(ne){return Math.abs(ne[0]-y[0][0])<.01}function W(ne){return Math.abs(ne[0]-y[2][0])<.01}for(;o.length;){for(z=n.smoothopen(E.edgepaths[w],E.smoothing),S+=_?z:z.replace(/^M/,"L"),o.splice(o.indexOf(w),1),b=E.edgepaths[w][E.edgepaths[w].length-1],N=-1,D=0;D<4;D++){if(!b){L.log("Missing end?",w,E);break}for(F(b)&&!W(b)?I=y[1]:B(b)?I=y[0]:O(b)?I=y[3]:W(b)&&(I=y[2]),k=0;k<E.edgepaths.length;k++){var ee=E.edgepaths[k][0];Math.abs(b[0]-I[0])<.01?Math.abs(b[0]-ee[0])<.01&&(ee[1]-b[1])*(I[1]-ee[1])>=0&&(I=ee,N=k):Math.abs(b[1]-I[1])<.01?Math.abs(b[1]-ee[1])<.01&&(ee[0]-b[0])*(I[0]-ee[0])>=0&&(I=ee,N=k):L.log("endpt to newendpt is not vert. or horz.",b,I,ee)}if(b=I,N>=0)break;S+="L"+I}if(N===E.edgepaths.length){L.log("unclosed perimeter path");break}w=N,_=o.indexOf(w)===-1,_&&(w=o[0],S+="Z")}for(w=0;w<E.paths.length;w++)S+=n.smoothclosed(E.paths[w],E.smoothing);return S}function i(E,y,S,w,o){var _=S._context.staticPlot,b=L.ensureSingle(E,"g","contourlines"),I=o.showlines!==!1,D=o.showlabels,N=I&&D,k=U.createLines(b,I||D,y,_),z=U.createLineClip(b,N,S,w.trace.uid),F=E.selectAll("g.contourlabels").data(D?[0]:[]);if(F.exit().remove(),F.enter().append("g").classed("contourlabels",!0),D){var O=[],B=[];L.clearLocationCache();var W=U.labelFormatter(S,w),ee=n.tester.append("text").attr("data-notex",1).call(n.font,o.labelfont),ne=y[0].xaxis,Q=y[0].yaxis,le=ne._length,Z=Q._length,Y=ne.range,re=Q.range,X=L.aggNums(Math.min,null,w.x),q=L.aggNums(Math.max,null,w.x),se=L.aggNums(Math.min,null,w.y),$=L.aggNums(Math.max,null,w.y),j=Math.max(ne.c2p(X,!0),0),ue=Math.min(ne.c2p(q,!0),le),ae=Math.max(Q.c2p($,!0),0),ce=Math.min(Q.c2p(se,!0),Z),ye={};Y[0]<Y[1]?(ye.left=j,ye.right=ue):(ye.left=ue,ye.right=j),re[0]<re[1]?(ye.top=ae,ye.bottom=ce):(ye.top=ce,ye.bottom=ae),ye.middle=(ye.top+ye.bottom)/2,ye.center=(ye.left+ye.right)/2,O.push([[ye.left,ye.top],[ye.right,ye.top],[ye.right,ye.bottom],[ye.left,ye.bottom]]);var Ce=Math.sqrt(le*le+Z*Z),Ae=l.LABELDISTANCE*Ce/Math.max(1,y.length/l.LABELINCREASE);k.each(function(Ie){var Te=U.calcTextOpts(Ie.level,W,ee,S);p.select(this).selectAll("path").each(function(){var Le=this,xe=L.getVisibleSegment(Le,ye,Te.height/2);if(xe&&!(xe.len<(Te.width+Te.height)*l.LABELMIN))for(var Re=Math.min(Math.ceil(xe.len/Ae),l.LABELMAX),He=0;He<Re;He++){var Ve=U.findBestTextLocation(Le,xe,Te,B,ye);if(!Ve)break;U.addLabelData(Ve,Te,B,O)}})}),ee.remove(),U.drawLabels(F,B,S,z,N?O:null)}D&&!I&&k.remove()}U.createLines=function(E,y,S,w){var o=S[0].smoothing,_=E.selectAll("g.contourlevel").data(y?S:[]);if(_.exit().remove(),_.enter().append("g").classed("contourlevel",!0),y){var b=_.selectAll("path.openline").data(function(D){return D.pedgepaths||D.edgepaths});b.exit().remove(),b.enter().append("path").classed("openline",!0),b.attr("d",function(D){return n.smoothopen(D,o)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke");var I=_.selectAll("path.closedline").data(function(D){return D.ppaths||D.paths});I.exit().remove(),I.enter().append("path").classed("closedline",!0),I.attr("d",function(D){return n.smoothclosed(D,o)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke")}return _},U.createLineClip=function(E,y,S,w){var o=S._fullLayout._clips,_=y?"clipline"+w:null,b=o.selectAll("#"+_).data(y?[0]:[]);return b.exit().remove(),b.enter().append("clipPath").classed("contourlineclip",!0).attr("id",_),n.setClipUrl(E,_,S),b},U.labelFormatter=function(E,y){var S=E._fullLayout,w=y.trace,o=w.contours,_={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(o.labelformat)_.tickformat=o.labelformat,g(_,S);else{var b=C.extractOpts(w);if(b&&b.colorbar&&b.colorbar._axis)_=b.colorbar._axis;else{if(o.type==="constraint"){var I=o.value;L.isArrayOrTypedArray(I)?_.range=[I[0],I[I.length-1]]:_.range=[I,I]}else _.range=[o.start,o.end],_.nticks=(o.end-o.start)/o.size;_.range[0]===_.range[1]&&(_.range[1]+=_.range[0]||1),_.nticks||(_.nticks=1e3),g(_,S),v.prepTicks(_),_._tmin=null,_._tmax=null}}return function(D){return v.tickText(_,D).text}},U.calcTextOpts=function(E,y,S,w){var o=y(E);S.text(o).call(T.convertToTspans,w);var _=S.node(),b=n.bBox(_,!0);return{text:o,width:b.width,height:b.height,fontSize:+_.style["font-size"].replace("px",""),level:E,dy:(b.top+b.bottom)/2}},U.findBestTextLocation=function(E,y,S,w,o){var _=S.width,b,I,D,N,k;y.isClosed?(I=y.len/m.INITIALSEARCHPOINTS,b=y.min+I/2,D=y.max):(I=(y.len-_)/(m.INITIALSEARCHPOINTS+1),b=y.min+I+_/2,D=y.max-(I+_)/2);for(var z=1/0,F=0;F<m.ITERATIONS;F++){for(var O=b;O<D;O+=I){var B=L.getTextLocation(E,y.total,O,_),W=d(B,S,w,o);W<z&&(z=W,k=B,N=O)}if(z>m.MAXCOST*2)break;F&&(I/=2),b=N-I/2,D=b+I*1.5}if(z<=m.MAXCOST)return k};function d(E,y,S,w){var o=y.width/2,_=y.height/2,b=E.x,I=E.y,D=E.theta,N=Math.cos(D)*o,k=Math.sin(D)*o,z=(b>w.center?w.right-b:b-w.left)/(N+Math.abs(Math.sin(D)*_)),F=(I>w.middle?w.bottom-I:I-w.top)/(Math.abs(k)+Math.cos(D)*_);if(z<1||F<1)return 1/0;var O=m.EDGECOST*(1/(z-1)+1/(F-1));O+=m.ANGLECOST*D*D;for(var B=b-N,W=I-k,ee=b+N,ne=I+k,Q=0;Q<S.length;Q++){var le=S[Q],Z=Math.cos(le.theta)*le.width/2,Y=Math.sin(le.theta)*le.width/2,re=L.segmentDistance(B,W,ee,ne,le.x-Z,le.y-Y,le.x+Z,le.y+Y)*2/(y.height+le.height),X=le.level===y.level,q=X?m.SAMELEVELDISTANCE:1;if(re<=q)return 1/0;var se=m.NEIGHBORCOST*(X?m.SAMELEVELFACTOR:1);O+=se/(re-q)}return O}U.addLabelData=function(E,y,S,w){var o=y.fontSize,_=y.width+o/3,b=Math.max(0,y.height-o/3),I=E.x,D=E.y,N=E.theta,k=Math.sin(N),z=Math.cos(N),F=function(B,W){return[I+B*z-W*k,D+B*k+W*z]},O=[F(-_/2,-b/2),F(-_/2,b/2),F(_/2,b/2),F(_/2,-b/2)];S.push({text:y.text,x:I,y:D,dy:y.dy,theta:N,level:y.level,width:_,height:b}),w.push(O)},U.drawLabels=function(E,y,S,w,o){var _=E.selectAll("text").data(y,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(_.exit().remove(),_.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var k=N.x+Math.sin(N.theta)*N.dy,z=N.y-Math.cos(N.theta)*N.dy;p.select(this).text(N.text).attr({x:k,y:z,transform:"rotate("+180*N.theta/Math.PI+" "+k+" "+z+")"}).call(T.convertToTspans,S)}),o){for(var b="",I=0;I<o.length;I++)b+="M"+o[I].join("L")+"Z";var D=L.ensureSingle(w,"path","");D.attr("d",b)}};function x(E,y,S,w,o){var _=w.trace,b=S._fullLayout._clips,I="clip"+_.uid,D=b.selectAll("#"+I).data(_.connectgaps?[]:[0]);if(D.enter().append("clipPath").classed("contourclip",!0).attr("id",I),D.exit().remove(),_.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:y.xaxis,yaxis:y.yaxis,x:w.x,y:w.y,z:A(w),smoothing:0};t([N]),s([N]),u([N],{type:"levels"});var k=L.ensureSingle(D,"path","");k.attr("d",(N.prefixBoundary?"M"+o.join("L")+"Z":"")+c(N,o))}else I=null;n.setClipUrl(E,I,S)}function A(E){var y=E.trace._emptypoints,S=[],w=E.z.length,o=E.z[0].length,_,b=[],I;for(_=0;_<o;_++)b.push(1);for(_=0;_<w;_++)S.push(b.slice());for(_=0;_<y.length;_++)I=y[_],S[I[0]][I[1]]=0;return E.zmask=S,S}},54444:function(H,U,e){var p=e(54460),L=e(3400);H.exports=function(T,v){var g=T.contours;if(T.autocontour){var r=T.zmin,t=T.zmax;(T.zauto||r===void 0)&&(r=L.aggNums(Math.min,null,v)),(T.zauto||t===void 0)&&(t=L.aggNums(Math.max,null,v));var s=n(r,t,T.ncontours);g.size=s.dtick,g.start=p.tickFirst(s),s.range.reverse(),g.end=p.tickFirst(s),g.start===r&&(g.start+=g.size),g.end===t&&(g.end-=g.size),g.start>g.end&&(g.start=g.end=(g.start+g.end)/2),T._input.contours||(T._input.contours={}),L.extendFlat(T._input.contours,{start:g.start,end:g.end,size:g.size}),T._input.autocontour=!0}else if(g.type!=="constraint"){var a=g.start,f=g.end,u=T._input.contours;if(a>f&&(g.start=u.start=f,f=g.end=u.end=a,a=g.start),!(g.size>0)){var l;a===f?l=1:l=n(a,f,T.ncontours).dtick,u.size=g.size=l}}};function n(C,T,v){var g={type:"linear",range:[C,T]};return p.autoTicks(g,(T-C)/(v||15)),g}},52440:function(H,U,e){var p=e(33428),L=e(43616),n=e(41648),C=e(41076);H.exports=function(v){var g=p.select(v).selectAll("g.contour");g.style("opacity",function(r){return r[0].trace.opacity}),g.each(function(r){var t=p.select(this),s=r[0].trace,a=s.contours,f=s.line,u=a.size||1,l=a.start,m=a.type==="constraint",h=!m&&a.coloring==="lines",M=!m&&a.coloring==="fill",c=h||M?C(s):null;t.selectAll("g.contourlevel").each(function(x){p.select(this).selectAll("path").call(L.lineGroupStyle,f.width,h?c(x.level):f.color,f.dash)});var i=a.labelfont;if(t.selectAll("g.contourlabels text").each(function(x){L.font(p.select(this),{family:i.family,size:i.size,color:i.color||(h?c(x.level):f.color)})}),m)t.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(M){var d;t.selectAll("g.contourfill path").style("fill",function(x){return d===void 0&&(d=x.level),c(x.level+.5*u)}),d===void 0&&(d=l),t.selectAll("g.contourbg path").style("fill",c(d-.5*u))}}),n(v)}},97680:function(H,U,e){var p=e(27260),L=e(17428);H.exports=function(C,T,v,g,r){var t=v("contours.coloring"),s,a="";t==="fill"&&(s=v("contours.showlines")),s!==!1&&(t!=="lines"&&(a=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(C.showlegend!==!0&&(T.showlegend=!1),T._dfltShowLegend=!1,p(C,T,g,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),L(v,g,a,r)}},37960:function(H,U,e){var p=e(83328),L=e(67104),n=e(49084),C=e(92880).extendFlat,T=L.contours;H.exports=C({carpet:{valType:"string",editType:"calc"},z:p.z,a:p.x,a0:p.x0,da:p.dx,b:p.y,b0:p.y0,db:p.dy,text:p.text,hovertext:p.hovertext,transpose:p.transpose,atype:p.xtype,btype:p.ytype,fillcolor:L.fillcolor,autocontour:L.autocontour,ncontours:L.ncontours,contours:{type:T.type,start:T.start,end:T.end,size:T.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:T.showlines,showlabels:T.showlabels,labelfont:T.labelfont,labelformat:T.labelformat,operation:T.operation,value:T.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:L.line.color,width:L.line.width,dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},transforms:void 0},n("",{cLetter:"z",autoColorDflt:!1}))},30572:function(H,U,e){var p=e(47128),L=e(3400),n=e(2872),C=e(26136),T=e(70448),v=e(11240),g=e(35744),r=e(3252),t=e(50948),s=e(54444);H.exports=function(u,l){var m=l._carpetTrace=t(u,l);if(!(!m||!m.visible||m.visible==="legendonly")){if(!l.a||!l.b){var h=u.data[m.index],M=u.data[l.index];M.a||(M.a=h.a),M.b||(M.b=h.b),r(M,l,l._defaultColor,u._fullLayout)}var c=a(u,l);return s(l,l._z),c}};function a(f,u){var l=u._carpetTrace,m=l.aaxis,h=l.baxis,M,c,i,d,x,A,E;m._minDtick=0,h._minDtick=0,L.isArray1D(u.z)&&n(u,m,h,"a","b",["z"]),M=u._a=u._a||u.a,d=u._b=u._b||u.b,M=M?m.makeCalcdata(u,"_a"):[],d=d?h.makeCalcdata(u,"_b"):[],c=u.a0||0,i=u.da||1,x=u.b0||0,A=u.db||1,E=u._z=C(u._z||u.z,u.transpose),u._emptypoints=v(E),T(E,u._emptypoints);var y=L.maxRowLength(E),S=u.xtype==="scaled"?"":M,w=g(u,S,c,i,y,m),o=u.ytype==="scaled"?"":d,_=g(u,o,x,A,E.length,h),b={a:w,b:_,z:E};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&p(f,u,{vals:E,containerStr:"",cLetter:"z"}),[b]}},3252:function(H,U,e){var p=e(3400),L=e(51264),n=e(37960),C=e(95536),T=e(84952),v=e(97680);H.exports=function(r,t,s,a){function f(h,M){return p.coerce(r,t,n,h,M)}function u(h){return p.coerce2(r,t,n,h)}if(f("carpet"),r.a&&r.b){var l=L(r,t,f,a,"a","b");if(!l){t.visible=!1;return}f("text");var m=f("contours.type")==="constraint";m?C(r,t,f,a,s,{hasHover:!1}):(T(r,t,f,u),v(r,t,f,a,{hasHover:!1}))}else t._defaultColor=s,t._length=null}},40448:function(H,U,e){H.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(H,U,e){var p=e(33428),L=e(87072),n=e(53416),C=e(43616),T=e(3400),v=e(72424),g=e(88748),r=e(23676),t=e(93252),s=e(82172),a=e(61512),f=e(56008),u=e(50948),l=e(77712);H.exports=function(S,w,o,_){var b=w.xaxis,I=w.yaxis;T.makeTraceGroups(_,o,"contour").each(function(D){var N=p.select(this),k=D[0],z=k.trace,F=z._carpetTrace=u(S,z),O=S.calcdata[F.index][0];if(!F.visible||F.visible==="legendonly")return;var B=k.a,W=k.b,ee=z.contours,ne=a(ee,w,k),Q=ee.type==="constraint",le=ee._operation,Z=Q?le==="="?"lines":"fill":ee.coloring;function Y(Ce){var Ae=F.ab2xy(Ce[0],Ce[1],!0);return[b.c2p(Ae[0]),I.c2p(Ae[1])]}var re=[[B[0],W[W.length-1]],[B[B.length-1],W[W.length-1]],[B[B.length-1],W[0]],[B[0],W[0]]];v(ne);var X=(B[B.length-1]-B[0])*1e-8,q=(W[W.length-1]-W[0])*1e-8;g(ne,X,q);var se=ne;ee.type==="constraint"&&(se=s(ne,le)),m(ne,Y);var $,j,ue,ae,ce=[];for(ae=O.clipsegments.length-1;ae>=0;ae--)$=O.clipsegments[ae],j=L([],$.x,b.c2p),ue=L([],$.y,I.c2p),j.reverse(),ue.reverse(),ce.push(n(j,ue,$.bicubic));var ye="M"+ce.join("L")+"Z";x(N,O.clipsegments,b,I,Q,Z),A(z,N,b,I,se,re,Y,F,O,Z,ye),h(N,ne,S,k,ee,w,F),C.setClipUrl(N,F._clipPathId,S)})};function m(y,S){var w,o,_,b,I,D,N,k,z;for(w=0;w<y.length;w++){for(b=y[w],I=b.pedgepaths=[],D=b.ppaths=[],o=0;o<b.edgepaths.length;o++){for(z=b.edgepaths[o],N=[],_=0;_<z.length;_++)N[_]=S(z[_]);I.push(N)}for(o=0;o<b.paths.length;o++){for(z=b.paths[o],k=[],_=0;_<z.length;_++)k[_]=S(z[_]);D.push(k)}}}function h(y,S,w,o,_,b,I){var D=w._context.staticPlot,N=T.ensureSingle(y,"g","contourlines"),k=_.showlines!==!1,z=_.showlabels,F=k&&z,O=r.createLines(N,k||z,S,D),B=r.createLineClip(N,F,w,o.trace.uid),W=y.selectAll("g.contourlabels").data(z?[0]:[]);if(W.exit().remove(),W.enter().append("g").classed("contourlabels",!0),z){var ee=b.xaxis,ne=b.yaxis,Q=ee._length,le=ne._length,Z=[[[0,0],[Q,0],[Q,le],[0,le]]],Y=[];T.clearLocationCache();var re=r.labelFormatter(w,o),X=C.tester.append("text").attr("data-notex",1).call(C.font,_.labelfont),q={left:0,right:Q,center:Q/2,top:0,bottom:le,middle:le/2},se=Math.sqrt(Q*Q+le*le),$=t.LABELDISTANCE*se/Math.max(1,S.length/t.LABELINCREASE);O.each(function(j){var ue=r.calcTextOpts(j.level,re,X,w);p.select(this).selectAll("path").each(function(ae){var ce=this,ye=T.getVisibleSegment(ce,q,ue.height/2);if(ye&&(M(ce,ae,j,ye,I,ue.height),!(ye.len<(ue.width+ue.height)*t.LABELMIN)))for(var Ce=Math.min(Math.ceil(ye.len/$),t.LABELMAX),Ae=0;Ae<Ce;Ae++){var Ie=r.findBestTextLocation(ce,ye,ue,Y,q);if(!Ie)break;r.addLabelData(Ie,ue,Y,Z)}})}),X.remove(),r.drawLabels(W,Y,w,B,F?Z:null)}z&&!k&&O.remove()}function M(y,S,w,o,_,b){for(var I,D=0;D<w.pedgepaths.length;D++)S===w.pedgepaths[D]&&(I=w.edgepaths[D]);if(!I)return;var N=_.a[0],k=_.a[_.a.length-1],z=_.b[0],F=_.b[_.b.length-1];function O(Q,le){var Z=0,Y,re=.1;return(Math.abs(Q[0]-N)<re||Math.abs(Q[0]-k)<re)&&(Y=i(_.dxydb_rough(Q[0],Q[1],re)),Z=Math.max(Z,b*d(le,Y)/2)),(Math.abs(Q[1]-z)<re||Math.abs(Q[1]-F)<re)&&(Y=i(_.dxyda_rough(Q[0],Q[1],re)),Z=Math.max(Z,b*d(le,Y)/2)),Z}var B=c(y,0,1),W=c(y,o.total,o.total-1),ee=O(I[0],B),ne=o.total-O(I[I.length-1],W);o.min<ee&&(o.min=ee),o.max>ne&&(o.max=ne),o.len=o.max-o.min}function c(y,S,w){var o=y.getPointAtLength(S),_=y.getPointAtLength(w),b=_.x-o.x,I=_.y-o.y,D=Math.sqrt(b*b+I*I);return[b/D,I/D]}function i(y){var S=Math.sqrt(y[0]*y[0]+y[1]*y[1]);return[y[0]/S,y[1]/S]}function d(y,S){var w=Math.abs(y[0]*S[0]+y[1]*S[1]),o=Math.sqrt(1-w*w);return o/w}function x(y,S,w,o,_,b){var I,D,N,k,z=T.ensureSingle(y,"g","contourbg"),F=z.selectAll("path").data(b==="fill"&&!_?[0]:[]);F.enter().append("path"),F.exit().remove();var O=[];for(k=0;k<S.length;k++)I=S[k],D=L([],I.x,w.c2p),N=L([],I.y,o.c2p),O.push(n(D,N,I.bicubic));F.attr("d","M"+O.join("L")+"Z").style("stroke","none")}function A(y,S,w,o,_,b,I,D,N,k,z){var F=k==="fill";F&&f(_,y.contours);var O=T.ensureSingle(S,"g","contourfill"),B=O.selectAll("path").data(F?_:[]);B.enter().append("path"),B.exit().remove(),B.each(function(W){var ee=(W.prefixBoundary?z:"")+E(y,W,b,I,D,N,w,o);ee?p.select(this).attr("d",ee).style("stroke","none"):p.select(this).remove()})}function E(y,S,w,o,_,b,I,D){var N,k="",z=S.edgepaths.map(function(ue,ae){return ae}),F=!0,O,B,W,ee,ne,Q,le=Math.abs(w[0][0]-w[2][0])*1e-4,Z=Math.abs(w[0][1]-w[2][1])*1e-4;function Y(ue){return Math.abs(ue[1]-w[0][1])<Z}function re(ue){return Math.abs(ue[1]-w[2][1])<Z}function X(ue){return Math.abs(ue[0]-w[0][0])<le}function q(ue){return Math.abs(ue[0]-w[2][0])<le}function se(ue,ae){var ce,ye,Ce,Ae,Ie="";for(Y(ue)&&!q(ue)||re(ue)&&!X(ue)?(Ae=_.aaxis,Ce=l(_,b,[ue[0],ae[0]],.5*(ue[1]+ae[1]))):(Ae=_.baxis,Ce=l(_,b,.5*(ue[0]+ae[0]),[ue[1],ae[1]])),ce=1;ce<Ce.length;ce++)for(Ie+=Ae.smoothing?"C":"L",ye=0;ye<Ce[ce].length;ye++){var Te=Ce[ce][ye];Ie+=[I.c2p(Te[0]),D.c2p(Te[1])]+" "}return Ie}for(N=0,O=null;z.length;){var $=S.edgepaths[N][0];for(O&&(k+=se(O,$)),Q=C.smoothopen(S.edgepaths[N].map(o),S.smoothing),k+=F?Q:Q.replace(/^M/,"L"),z.splice(z.indexOf(N),1),O=S.edgepaths[N][S.edgepaths[N].length-1],ee=-1,W=0;W<4;W++){if(!O){T.log("Missing end?",N,S);break}for(Y(O)&&!q(O)?B=w[1]:X(O)?B=w[0]:re(O)?B=w[3]:q(O)&&(B=w[2]),ne=0;ne<S.edgepaths.length;ne++){var j=S.edgepaths[ne][0];Math.abs(O[0]-B[0])<le?Math.abs(O[0]-j[0])<le&&(j[1]-O[1])*(B[1]-j[1])>=0&&(B=j,ee=ne):Math.abs(O[1]-B[1])<Z?Math.abs(O[1]-j[1])<Z&&(j[0]-O[0])*(B[0]-j[0])>=0&&(B=j,ee=ne):T.log("endpt to newendpt is not vert. or horz.",O,B,j)}if(ee>=0)break;k+=se(O,B),O=B}if(ee===S.edgepaths.length){T.log("unclosed perimeter path");break}N=ee,F=z.indexOf(N)===-1,F&&(N=z[0],k+=se(O,B)+"Z",O=null)}for(N=0;N<S.paths.length;N++)k+=C.smoothclosed(S.paths[N].map(o),S.smoothing);return k}},33928:function(H,U,e){var p=e(49084),L=e(21776).Ks,n=e(45464),C=e(31512),T=e(92880).extendFlat;H.exports=T({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:T({},n.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:L(),showlegend:T({},n.showlegend,{dflt:!1})},p("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(H,U,e){var p=e(38248),L=e(3400).isArrayOrTypedArray,n=e(39032).BADNUM,C=e(47128),T=e(3400)._;H.exports=function(g,r){for(var t=r._length,s=new Array(t),a=r.z,f=L(a)&&a.length,u=0;u<t;u++){var l=s[u]={},m=r.lon[u],h=r.lat[u];if(l.lonlat=p(m)&&p(h)?[+m,+h]:[n,n],f){var M=a[u];l.z=p(M)?M:n}}return C(g,r,{vals:f?a:[0,1],containerStr:"",cLetter:"z"}),t&&(s[0].t={labels:{lat:T(g,"lat:")+" ",lon:T(g,"lon:")+" "}}),s}},4629:function(H,U,e){var p=e(38248),L=e(3400),n=e(76308),C=e(8932),T=e(39032).BADNUM,v=e(44808).makeBlank;H.exports=function(r){var t=r[0].trace,s=t.visible===!0&&t._length!==0,a={layout:{visibility:"none"},paint:{}},f=t._opts={heatmap:a,geojson:v()};if(!s)return f;var u=[],l,m=t.z,h=t.radius,M=L.isArrayOrTypedArray(m)&&m.length,c=L.isArrayOrTypedArray(h);for(l=0;l<r.length;l++){var i=r[l],d=i.lonlat;if(d[0]!==T){var x={};if(M){var A=i.z;x.z=A!==T?A:0}c&&(x.r=p(h[l])&&h[l]>0?+h[l]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:x})}}var E=C.extractOpts(t),y=E.reversescale?C.flipScale(E.colorscale):E.colorscale,S=y[0][1],w=n.opacity(S)<1?S:n.addOpacity(S,0),o=["interpolate",["linear"],["heatmap-density"],0,w];for(l=1;l<y.length;l++)o.push(y[l][0],y[l][1]);var _=["interpolate",["linear"],["get","z"],E.min,0,E.max,1];return L.extendFlat(f.heatmap.paint,{"heatmap-weight":M?_:1/(E.max-E.min),"heatmap-color":o,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),f.geojson={type:"FeatureCollection",features:u},f.heatmap.layout.visibility="visible",f}},97664:function(H,U,e){var p=e(3400),L=e(27260),n=e(33928);H.exports=function(T,v,g,r){function t(u,l){return p.coerce(T,v,n,u,l)}var s=t("lon")||[],a=t("lat")||[],f=Math.min(s.length,a.length);if(!f){v.visible=!1;return}v._length=f,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),L(T,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(H){H.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e.z=p.z,e}},25336:function(H,U,e){var p=e(54460),L=e(63312).hoverPoints,n=e(63312).getExtraText;H.exports=function(T,v,g){var r=L(T,v,g);if(r){var t=r[0],s=t.cd,a=s[0].trace,f=s[t.index];if(delete t.color,"z"in f){var u=t.subplot.mockAxis;t.z=f.z,t.zLabel=p.tickText(u,u.c2l(f.z),"hover").text}return t.extraText=n(a,f,s[0].t.labels),[t]}}},15088:function(H,U,e){H.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(p,L){for(var n=L.getMapLayers(),C=0;C<n.length;C++){var T=n[C],v=T.id;if(T.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(H,U,e){var p=e(4629),L=e(47552).traceLayerPrefix;function n(T,v){this.type="densitymapbox",this.subplot=T,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",L+v+"-heatmap"]],this.below=null}var C=n.prototype;C.update=function(T){var v=this.subplot,g=this.layerList,r=p(T),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var s=0;s<g.length;s++){var a=g[s],f=a[0],u=a[1],l=r[f];v.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",l.paint)}},C._addLayers=function(T,v){for(var g=this.subplot,r=this.layerList,t=this.sourceId,s=0;s<r.length;s++){var a=r[s],f=a[0],u=T[f];g.addLayer({type:f,id:a[1],source:t,layout:u.layout,paint:u.paint},v)}},C._removeLayers=function(){for(var T=this.subplot.map,v=this.layerList,g=v.length-1;g>=0;g--)T.removeLayer(v[g][1])},C.dispose=function(){var T=this.subplot.map;this._removeLayers(),T.removeSource(this.sourceId)},H.exports=function(v,g){var r=g[0].trace,t=new n(v,r.uid),s=t.sourceId,a=p(g),f=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(s,{type:"geojson",data:a.geojson}),t._addLayers(a,f),t}},74248:function(H,U,e){var p=e(3400);H.exports=function(n,C){for(var T=0;T<n.length;T++)n[T].i=T;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.hovertext,n,"htx");var v=C.marker;if(v){p.mergeArray(v.opacity,n,"mo"),p.mergeArray(v.color,n,"mc");var g=v.line;g&&(p.mergeArray(g.color,n,"mlc"),p.mergeArrayCastPositive(g.width,n,"mlw"))}}},20088:function(H,U,e){var p=e(20832),L=e(52904).line,n=e(45464),C=e(29736).axisHoverFormat,T=e(21776).Ks,v=e(21776).Gw,g=e(74732),r=e(92880).extendFlat,t=e(76308);H.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:T({},{keys:g.eventDataKeys}),hoverinfo:r({},n.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),text:p.text,textposition:p.textposition,insidetextanchor:r({},p.insidetextanchor,{dflt:"middle"}),textangle:r({},p.textangle,{dflt:0}),textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:r({},p.orientation,{}),offset:r({},p.offset,{arrayOk:!1}),width:r({},p.width,{arrayOk:!1}),marker:s(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},L.color,{dflt:t.defaultLine}),width:r({},L.width,{dflt:0,editType:"plot"}),dash:L.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup};function s(){var a=r({},p.marker);return delete a.pattern,delete a.cornerradius,a}},23096:function(H,U,e){var p=e(54460),L=e(1220),n=e(74248),C=e(4500),T=e(39032).BADNUM;H.exports=function(r,t){var s=p.getFromId(r,t.xaxis||"x"),a=p.getFromId(r,t.yaxis||"y"),f,u,l,m,h,M,c,i;t.orientation==="h"?(f=s.makeCalcdata(t,"x"),l=a.makeCalcdata(t,"y"),m=L(t,a,"y",l),h=!!t.yperiodalignment,M="y"):(f=a.makeCalcdata(t,"y"),l=s.makeCalcdata(t,"x"),m=L(t,s,"x",l),h=!!t.xperiodalignment,M="x"),u=m.vals;var d=Math.min(u.length,f.length),x=new Array(d);for(t._base=[],c=0;c<d;c++){f[c]<0&&(f[c]=T);var A=!1;f[c]!==T&&c+1<d&&f[c+1]!==T&&(A=!0),i=x[c]={p:u[c],s:f[c],cNext:A},t._base[c]=-.5*i.s,h&&(x[c].orig_p=l[c],x[c][M+"End"]=m.ends[c],x[c][M+"Start"]=m.starts[c]),t.ids&&(i.id=String(t.ids[c])),c===0&&(x[0].vTotal=0),x[0].vTotal+=v(i.s),i.begR=v(i.s)/v(x[0].s)}var E;for(c=0;c<d;c++)i=x[c],i.s!==T&&(i.sumR=i.s/x[0].vTotal,i.difR=E!==void 0?i.s/E:1,E=i.s);return n(x,t),C(x,t),x};function v(g){return g===T?0:g}},74732:function(H){H.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(H,U,e){var p=e(96376).setGroupPositions;H.exports=function(n,C){var T=n._fullLayout,v=n._fullData,g=n.calcdata,r=C.xaxis,t=C.yaxis,s=[],a=[],f=[],u,l;for(l=0;l<v.length;l++){var m=v[l],h=m.orientation==="h";m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="funnel"&&(u=g[l],h?f.push(u):a.push(u),s.push(u))}var M={mode:T.funnelmode,norm:T.funnelnorm,gap:T.funnelgap,groupgap:T.funnelgroupgap};for(p(n,r,t,a,M),p(n,t,r,f,M),l=0;l<s.length;l++){u=s[l];for(var c=0;c<u.length;c++)c+1<u.length&&(u[c].nextP0=u[c+1].p0,u[c].nextS0=u[c+1].s0,u[c].nextP1=u[c+1].p1,u[c].nextS1=u[c+1].s1)}}},45432:function(H,U,e){var p=e(3400),L=e(20011),n=e(31508).handleText,C=e(43980),T=e(31147),v=e(20088),g=e(76308);function r(a,f,u,l){function m(A,E){return p.coerce(a,f,v,A,E)}var h=C(a,f,l,m);if(!h){f.visible=!1;return}T(a,f,l,m),m("xhoverformat"),m("yhoverformat"),m("orientation",f.y&&!f.x?"v":"h"),m("offset"),m("width");var M=m("text");m("hovertext"),m("hovertemplate");var c=m("textposition");n(a,f,l,m,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&!f.texttemplate&&m("textinfo",p.isArrayOrTypedArray(M)?"text+value":"value");var i=m("marker.color",u);m("marker.line.color",g.defaultLine),m("marker.line.width");var d=m("connector.visible");if(d){m("connector.fillcolor",t(i));var x=m("connector.line.width");x&&(m("connector.line.color"),m("connector.line.dash"))}}function t(a){var f=p.isArrayOrTypedArray(a)?"#000":a;return g.addOpacity(f,.5*g.opacity(f))}function s(a,f){var u,l;function m(M){return p.coerce(l._input,l,v,M)}if(f.funnelmode==="group")for(var h=0;h<a.length;h++)l=a[h],u=l._input,L(u,l,f,m)}H.exports={supplyDefaults:r,crossTraceDefaults:s}},34580:function(H){H.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"percentInitial"in p&&(e.percentInitial=p.percentInitial),"percentPrevious"in p&&(e.percentPrevious=p.percentPrevious),"percentTotal"in p&&(e.percentTotal=p.percentTotal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},31488:function(H,U,e){var p=e(76308).opacity,L=e(63400).hoverOnBars,n=e(3400).formatPercent;H.exports=function(v,g,r,t,s){var a=L(v,g,r,t,s);if(a){var f=a.cd,u=f[0].trace,l=u.orientation==="h",m=a.index,h=f[m],M=l?"x":"y";a[M+"LabelVal"]=h.s,a.percentInitial=h.begR,a.percentInitialLabel=n(h.begR,1),a.percentPrevious=h.difR,a.percentPreviousLabel=n(h.difR,1),a.percentTotal=h.sumR,a.percentTotalLabel=n(h.sumR,1);var c=h.hi||u.hoverinfo,i=[];if(c&&c!=="none"&&c!=="skip"){var d=c==="all",x=c.split("+"),A=function(E){return d||x.indexOf(E)!==-1};A("percent initial")&&i.push(a.percentInitialLabel+" of initial"),A("percent previous")&&i.push(a.percentPreviousLabel+" of previous"),A("percent total")&&i.push(a.percentTotalLabel+" of total")}return a.extraText=i.join("<br>"),a.color=C(u,h),[a]}};function C(T,v){var g=T.marker,r=v.mc||g.color,t=v.mlc||g.line.color,s=v.mlw||g.line.width;if(p(r))return r;if(p(t)&&s)return t}},94704:function(H,U,e){H.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(H){H.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(H,U,e){var p=e(3400),L=e(7076);H.exports=function(n,C,T){var v=!1;function g(s,a){return p.coerce(n,C,L,s,a)}for(var r=0;r<T.length;r++){var t=T[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(g("funnelmode"),g("funnelgap",.2),g("funnelgroupgap"))}},42200:function(H,U,e){var p=e(33428),L=e(3400),n=e(43616),C=e(39032).BADNUM,T=e(98184),v=e(82744).clearMinTextSize;H.exports=function(a,f,u,l){var m=a._fullLayout;v("funnel",m),g(a,f,u,l),r(a,f,u,l),T.plot(a,f,u,l,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function g(s,a,f,u){var l=a.xaxis,m=a.yaxis;L.makeTraceGroups(u,f,"trace bars").each(function(h){var M=p.select(this),c=h[0].trace,i=L.ensureSingle(M,"g","regions");if(!c.connector||!c.connector.visible){i.remove();return}var d=c.orientation==="h",x=i.selectAll("g.region").data(L.identity);x.enter().append("g").classed("region",!0),x.exit().remove();var A=x.size();x.each(function(E,y){if(!(y!==A-1&&!E.cNext)){var S=t(E,l,m,d),w=S[0],o=S[1],_="";w[0]!==C&&o[0]!==C&&w[1]!==C&&o[1]!==C&&w[2]!==C&&o[2]!==C&&w[3]!==C&&o[3]!==C&&(d?_+="M"+w[0]+","+o[1]+"L"+w[2]+","+o[2]+"H"+w[3]+"L"+w[1]+","+o[1]+"Z":_+="M"+w[1]+","+o[1]+"L"+w[2]+","+o[3]+"V"+o[2]+"L"+w[1]+","+o[0]+"Z"),_===""&&(_="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",_).call(n.setClipUrl,a.layerClipId,s)}})})}function r(s,a,f,u){var l=a.xaxis,m=a.yaxis;L.makeTraceGroups(u,f,"trace bars").each(function(h){var M=p.select(this),c=h[0].trace,i=L.ensureSingle(M,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){i.remove();return}var d=c.orientation==="h",x=i.selectAll("g.line").data(L.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var A=x.size();x.each(function(E,y){if(!(y!==A-1&&!E.cNext)){var S=t(E,l,m,d),w=S[0],o=S[1],_="";w[3]!==void 0&&o[3]!==void 0&&(d?(_+="M"+w[0]+","+o[1]+"L"+w[2]+","+o[2],_+="M"+w[1]+","+o[1]+"L"+w[3]+","+o[2]):(_+="M"+w[1]+","+o[1]+"L"+w[2]+","+o[3],_+="M"+w[1]+","+o[0]+"L"+w[2]+","+o[2])),_===""&&(_="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",_).call(n.setClipUrl,a.layerClipId,s)}})})}function t(s,a,f,u){var l=[],m=[],h=u?a:f,M=u?f:a;return l[0]=h.c2p(s.s0,!0),m[0]=M.c2p(s.p0,!0),l[1]=h.c2p(s.s1,!0),m[1]=M.c2p(s.p1,!0),l[2]=h.c2p(s.nextS0,!0),m[2]=M.c2p(s.nextP0,!0),l[3]=h.c2p(s.nextS1,!0),m[3]=M.c2p(s.nextP1,!0),u?[l,m]:[m,l]}},44544:function(H,U,e){var p=e(33428),L=e(43616),n=e(76308),C=e(13448).DESELECTDIM,T=e(60100),v=e(82744).resizeText,g=T.styleTextPoints;function r(t,s,a){var f=a||p.select(t).selectAll("g.funnellayer").selectAll("g.trace");v(t,f,"funnel"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=p.select(this),m=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var M=m.marker;p.select(this).call(n.fill,h.mc||M.color).call(n.stroke,h.mlc||M.line.color).call(L.dashLine,M.line.dash,h.mlw||M.line.width).style("opacity",m.selectedpoints&&!h.selected?C:1)}}),g(l,m,t),l.selectAll(".regions").each(function(){p.select(this).selectAll("path").style("stroke-width",0).call(n.fill,m.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=m.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),h.width,h.color,h.dash)})})}H.exports={style:r}},22332:function(H,U,e){var p=e(74996),L=e(45464),n=e(86968).u,C=e(21776).Ks,T=e(21776).Gw,v=e(92880).extendFlat;H.exports={labels:p.labels,label0:p.label0,dlabel:p.dlabel,values:p.values,marker:{colors:p.marker.colors,line:{color:v({},p.marker.line.color,{dflt:null}),width:v({},p.marker.line.width,{dflt:1}),editType:"calc"},pattern:p.marker.pattern,editType:"calc"},text:p.text,hovertext:p.hovertext,scalegroup:v({},p.scalegroup,{}),textinfo:v({},p.textinfo,{flags:["label","text","value","percent"]}),texttemplate:T({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},L.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:v({},p.textposition,{values:["inside","none"],dflt:"inside"}),textfont:p.textfont,insidetextfont:p.insidetextfont,title:{text:p.title.text,font:p.title.font,position:v({},p.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:n({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(H,U,e){var p=e(7316);U.name="funnelarea",U.plot=function(L,n,C,T){p.plotBasePlot(U.name,L,n,C,T)},U.clean=function(L,n,C,T){p.cleanBasePlot(U.name,L,n,C,T)}},54e3:function(H,U,e){var p=e(45768);function L(C,T){return p.calc(C,T)}function n(C){p.crossTraceCalc(C,{type:"funnelarea"})}H.exports={calc:L,crossTraceCalc:n}},92688:function(H,U,e){var p=e(3400),L=e(22332),n=e(86968).Q,C=e(31508).handleText,T=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;H.exports=function(r,t,s,a){function f(A,E){return p.coerce(r,t,L,A,E)}var u=f("labels"),l=f("values"),m=T(u,l),h=m.len;if(t._hasLabels=m.hasLabels,t._hasValues=m.hasValues,!t._hasLabels&&t._hasValues&&(f("label0"),f("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,a,f),f("scalegroup");var M=f("text"),c=f("texttemplate"),i;if(c||(i=f("textinfo",Array.isArray(M)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),c||i&&i!=="none"){var d=f("textposition");C(r,t,a,f,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else i==="none"&&f("textposition","none");n(t,a,f);var x=f("title.text");x&&(f("title.position"),p.coerceFont(f,"title.font",a.font)),f("aspectratio"),f("baseratio")}},62396:function(H,U,e){H.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(H,U,e){var p=e(85204).hiddenlabels;H.exports={hiddenlabels:p,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(H,U,e){var p=e(3400),L=e(61280);H.exports=function(C,T){function v(g,r){return p.coerce(C,T,L,g,r)}v("hiddenlabels"),v("funnelareacolorway",T.colorway),v("extendfunnelareacolors")}},39472:function(H,U,e){var p=e(33428),L=e(43616),n=e(3400),C=n.strScale,T=n.strTranslate,v=e(72736),g=e(98184),r=g.toMoveInsideBar,t=e(82744),s=t.recordMinTextSize,a=t.clearMinTextSize,f=e(69656),u=e(37820),l=u.attachFxHandlers,m=u.determineInsideTextFont,h=u.layoutAreas,M=u.prerenderTitles,c=u.positionTitleOutside,i=u.formatSliceLabel;H.exports=function(y,S){var w=y._context.staticPlot,o=y._fullLayout;a("funnelarea",o),M(S,y),h(S,o._size),n.makeTraceGroups(o._funnelarealayer,S,"trace").each(function(_){var b=p.select(this),I=_[0],D=I.trace;A(_),b.each(function(){var N=p.select(this).selectAll("g.slice").data(_);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(z,F){if(z.hidden){p.select(this).selectAll("path,g").remove();return}z.pointNumber=z.i,z.curveNumber=D.index;var O=I.cx,B=I.cy,W=p.select(this),ee=W.selectAll("path.surface").data([z]);ee.enter().append("path").classed("surface",!0).style({"pointer-events":w?"none":"all"}),W.call(l,y,_);var ne="M"+(O+z.TR[0])+","+(B+z.TR[1])+d(z.TR,z.BR)+d(z.BR,z.BL)+d(z.BL,z.TL)+"Z";ee.attr("d",ne),i(y,z,I);var Q=f.castOption(D.textposition,z.pts),le=W.selectAll("g.slicetext").data(z.text&&Q!=="none"?[0]:[]);le.enter().append("g").classed("slicetext",!0),le.exit().remove(),le.each(function(){var Z=n.ensureSingle(p.select(this),"text","",function(ue){ue.attr("data-notex",1)}),Y=n.ensureUniformFontSize(y,m(D,z,o.font));Z.text(z.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(L.font,Y).call(v.convertToTspans,y);var re=L.bBox(Z.node()),X,q,se,$=Math.min(z.BL[1],z.BR[1])+B,j=Math.max(z.TL[1],z.TR[1])+B;q=Math.max(z.TL[0],z.BL[0])+O,se=Math.min(z.TR[0],z.BR[0])+O,X=r(q,se,$,j,re,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),X.fontSize=Y.size,s(D.type,X,o),_[F].transform=X,n.setTransormAndDisplay(Z,X)})});var k=p.select(this).selectAll("g.titletext").data(D.title.text?[0]:[]);k.enter().append("g").classed("titletext",!0),k.exit().remove(),k.each(function(){var z=n.ensureSingle(p.select(this),"text","",function(B){B.attr("data-notex",1)}),F=D.title.text;D._meta&&(F=n.templateString(F,D._meta)),z.text(F).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(L.font,D.title.font).call(v.convertToTspans,y);var O=c(I,o._size);z.attr("transform",T(O.x,O.y)+C(Math.min(1,O.scale))+T(O.tx,O.ty))})})})};function d(E,y){var S=y[0]-E[0],w=y[1]-E[1];return"l"+S+","+w}function x(E,y){return[.5*(E[0]+y[0]),.5*(E[1]+y[1])]}function A(E){if(!E.length)return;var y=E[0],S=y.trace,w=S.aspectratio,o=S.baseratio;o>.999&&(o=.999);var _=Math.pow(o,2),b=y.vTotal,I=b*_/(1-_),D=b,N=I/b;function k(){var ae=Math.sqrt(N);return{x:ae,y:-ae}}function z(){var ae=k();return[ae.x,ae.y]}var F,O=[];O.push(z());var B,W;for(B=E.length-1;B>-1;B--)if(W=E[B],!W.hidden){var ee=W.v/D;N+=ee,O.push(z())}var ne=1/0,Q=-1/0;for(B=0;B<O.length;B++)F=O[B],ne=Math.min(ne,F[1]),Q=Math.max(Q,F[1]);for(B=0;B<O.length;B++)O[B][1]-=(Q+ne)/2;var le=O[O.length-1][0],Z=y.r,Y=(Q-ne)/2,re=Z/le,X=Z/Y*w;for(y.r=X*Y,B=0;B<O.length;B++)O[B][0]*=re,O[B][1]*=X;F=O[0];var q=[-F[0],F[1]],se=[F[0],F[1]],$=0;for(B=E.length-1;B>-1;B--)if(W=E[B],!W.hidden){$+=1;var j=O[$][0],ue=O[$][1];W.TL=[-j,ue],W.TR=[j,ue],W.BL=q,W.BR=se,W.pxmid=x(W.TR,W.BR),q=W.TL,se=W.TR}}},62096:function(H,U,e){var p=e(33428),L=e(10528),n=e(82744).resizeText;H.exports=function(T){var v=T._fullLayout._funnelarealayer.selectAll(".trace");n(T,v,"funnelarea"),v.each(function(g){var r=g[0],t=r.trace,s=p.select(this);s.style({opacity:t.opacity}),s.selectAll("path.surface").each(function(a){p.select(this).call(L,a,t,T)})})}},83328:function(H,U,e){var p=e(52904),L=e(45464),n=e(25376),C=e(29736).axisHoverFormat,T=e(21776).Ks,v=e(21776).Gw,g=e(49084),r=e(92880).extendFlat;H.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},p.x,{impliedEdits:{xtype:"array"}}),x0:r({},p.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},p.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},p.y,{impliedEdits:{ytype:"array"}}),y0:r({},p.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},p.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},p.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},p.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},p.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},p.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},p.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},p.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:T(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:n({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},L.showlegend,{dflt:!1})},{transforms:void 0},g("",{cLetter:"z",autoColorDflt:!1}))},19512:function(H,U,e){var p=e(24040),L=e(3400),n=e(54460),C=e(1220),T=e(55480),v=e(47128),g=e(2872),r=e(26136),t=e(70448),s=e(11240),a=e(35744),f=e(39032).BADNUM;H.exports=function(h,M){var c=n.getFromId(h,M.xaxis||"x"),i=n.getFromId(h,M.yaxis||"y"),d=p.traceIs(M,"contour"),x=p.traceIs(M,"histogram"),A=p.traceIs(M,"gl2d"),E=d?"best":M.zsmooth,y,S,w,o,_,b,I,D,N,k,z;if(c._minDtick=0,i._minDtick=0,x)z=T(h,M),o=z.orig_x,y=z.x,S=z.x0,w=z.dx,D=z.orig_y,_=z.y,b=z.y0,I=z.dy,N=z.z;else{var F=M.z;L.isArray1D(F)?(g(M,c,i,"x","y",["z"]),y=M._x,_=M._y,F=M._z):(o=M.x?c.makeCalcdata(M,"x"):[],D=M.y?i.makeCalcdata(M,"y"):[],y=C(M,c,"x",o).vals,_=C(M,i,"y",D).vals,M._x=y,M._y=_),S=M.x0,w=M.dx,b=M.y0,I=M.dy,N=r(F,M,c,i)}(c.rangebreaks||i.rangebreaks)&&(N=l(y,_,N),x||(y=u(y),_=u(_),M._x=y,M._y=_)),!x&&(d||M.connectgaps)&&(M._emptypoints=s(N),t(N,M._emptypoints));function O(re){E=M._input.zsmooth=M.zsmooth=!1,L.warn('cannot use zsmooth: "fast": '+re)}function B(re){if(re.length>1){var X=(re[re.length-1]-re[0])/(re.length-1),q=Math.abs(X/100);for(k=0;k<re.length-1;k++)if(Math.abs(re[k+1]-re[k]-X)>q)return!1}return!0}M._islinear=!1,c.type==="log"||i.type==="log"?E==="fast"&&O("log axis found"):B(y)?B(_)?M._islinear=!0:E==="fast"&&O("y scale is not linear"):E==="fast"&&O("x scale is not linear");var W=L.maxRowLength(N),ee=M.xtype==="scaled"?"":y,ne=a(M,ee,S,w,W,c),Q=M.ytype==="scaled"?"":_,le=a(M,Q,b,I,N.length,i);A||(M._extremes[c._id]=n.findExtremes(c,ne),M._extremes[i._id]=n.findExtremes(i,le));var Z={x:ne,y:le,z:N,text:M._text||M.text,hovertext:M._hovertext||M.hovertext};if(M.xperiodalignment&&o&&(Z.orig_x=o),M.yperiodalignment&&D&&(Z.orig_y=D),ee&&ee.length===ne.length-1&&(Z.xCenter=ee),Q&&Q.length===le.length-1&&(Z.yCenter=Q),x&&(Z.xRanges=z.xRanges,Z.yRanges=z.yRanges,Z.pts=z.pts),d||v(h,M,{vals:N,cLetter:"z"}),d&&M.contours&&M.contours.coloring==="heatmap"){var Y={type:M.type==="contour"?"heatmap":"histogram2d",xcalendar:M.xcalendar,ycalendar:M.ycalendar};Z.xfill=a(Y,ee,S,w,W,c),Z.yfill=a(Y,Q,b,I,N.length,i)}return[Z]};function u(m){for(var h=[],M=m.length,c=0;c<M;c++){var i=m[c];i!==f&&h.push(i)}return h}function l(m,h,M){for(var c=[],i=-1,d=0;d<M.length;d++)if(h[d]!==f){i++,c[i]=[];for(var x=0;x<M[d].length;x++)m[x]!==f&&c[i].push(M[d][x])}return c}},26136:function(H,U,e){var p=e(38248),L=e(3400),n=e(39032).BADNUM;H.exports=function(T,v,g,r){var t,s,a,f,u,l;function m(x){if(p(x))return+x}if(v&&v.transpose){for(t=0,u=0;u<T.length;u++)t=Math.max(t,T[u].length);if(t===0)return!1;a=function(x){return x.length},f=function(x,A,E){return(x[E]||[])[A]}}else t=T.length,a=function(x,A){return x[A].length},f=function(x,A,E){return(x[A]||[])[E]};var h=function(x,A,E){return A===n||E===n?n:f(x,A,E)};function M(x){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&x&&x.type==="category"&&v["_"+x._id.charAt(0)].length){var A=x._id.charAt(0),E={},y=v["_"+A+"CategoryMap"]||v[A];for(u=0;u<y.length;u++)E[y[u]]=u;return function(S){var w=E[x._categories[S]];return w+1?w:n}}else return L.identity}var c=M(g),i=M(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(u=0;u<t;u++)for(g&&g.type==="category"?s=g._categories.length:s=a(T,u),d[u]=new Array(s),l=0;l<s;l++)d[u][l]=m(h(T,i(u),c(l)));return d}},96288:function(H){H.exports={min:"zmin",max:"zmax"}},2872:function(H,U,e){var p=e(3400),L=e(39032).BADNUM,n=e(1220);H.exports=function(T,v,g,r,t,s){var a=T._length,f=v.makeCalcdata(T,r),u=g.makeCalcdata(T,t);f=n(T,v,r,f).vals,u=n(T,g,t,u).vals;var l=T.text,m=l!==void 0&&p.isArray1D(l),h=T.hovertext,M=h!==void 0&&p.isArray1D(h),c,i,d=p.distinctVals(f),x=d.vals,A=p.distinctVals(u),E=A.vals,y=[],S,w,o=E.length,_=x.length;for(c=0;c<s.length;c++)y[c]=p.init2dArray(o,_);m&&(S=p.init2dArray(o,_)),M&&(w=p.init2dArray(o,_));var b=p.init2dArray(o,_);for(c=0;c<a;c++)if(f[c]!==L&&u[c]!==L){var I=p.findBin(f[c]+d.minDiff/2,x),D=p.findBin(u[c]+A.minDiff/2,E);for(i=0;i<s.length;i++){var N=s[i],k=T[N],z=y[i];z[D][I]=k[c],b[D][I]=c}m&&(S[D][I]=l[c]),M&&(w[D][I]=h[c])}for(T["_"+r]=x,T["_"+t]=E,i=0;i<s.length;i++)T["_"+s[i]]=y[i];m&&(T._text=S),M&&(T._hovertext=w),v&&v.type==="category"&&(T["_"+r+"CategoryMap"]=x.map(function(F){return v._categories[F]})),g&&g.type==="category"&&(T["_"+t+"CategoryMap"]=E.map(function(F){return g._categories[F]})),T._after2before=b}},24480:function(H,U,e){var p=e(3400),L=e(51264),n=e(39096),C=e(31147),T=e(82748),v=e(27260),g=e(83328);H.exports=function(t,s,a,f){function u(m,h){return p.coerce(t,s,g,m,h)}var l=L(t,s,u,f);if(!l){s.visible=!1;return}C(t,s,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),n(u,f),T(t,s,u,f),u("hoverongaps"),u("connectgaps",p.isArray1D(s.z)&&s.zsmooth!==!1),v(t,s,f,u,{prefix:"",cLetter:"z"})}},11240:function(H,U,e){var p=e(3400).maxRowLength;H.exports=function(n){var C=[],T={},v=[],g=n[0],r=[],t=[0,0,0],s=p(n),a,f,u,l,m,h,M,c;for(f=0;f<n.length;f++)for(a=r,r=g,g=n[f+1]||[],u=0;u<s;u++)r[u]===void 0&&(h=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(a[u]!==void 0?1:0)+(g[u]!==void 0?1:0),h?(f===0&&h++,u===0&&h++,f===n.length-1&&h++,u===r.length-1&&h++,h<4&&(T[[f,u]]=[f,u,h]),C.push([f,u,h])):v.push([f,u]));for(;v.length;){for(M={},c=!1,m=v.length-1;m>=0;m--)l=v[m],f=l[0],u=l[1],h=((T[[f-1,u]]||t)[2]+(T[[f+1,u]]||t)[2]+(T[[f,u-1]]||t)[2]+(T[[f,u+1]]||t)[2])/20,h&&(M[l]=[f,u,h],v.splice(m,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(l in M)T[l]=M[l],C.push(M[l])}return C.sort(function(i,d){return d[2]-i[2]})}},55512:function(H,U,e){var p=e(93024),L=e(3400),n=L.isArrayOrTypedArray,C=e(54460),T=e(8932).extractOpts;H.exports=function(g,r,t,s,a){a||(a={});var f=a.isContour,u=g.cd[0],l=u.trace,m=g.xa,h=g.ya,M=u.x,c=u.y,i=u.z,d=u.xCenter,x=u.yCenter,A=u.zmask,E=l.zhoverformat,y=M,S=c,w,o,_,b;if(g.index!==!1){try{_=Math.round(g.index[1]),b=Math.round(g.index[0])}catch{L.error("Error hovering on heatmap, pointNumber must be [row,col], found:",g.index);return}if(_<0||_>=i[0].length||b<0||b>i.length)return}else{if(p.inbox(r-M[0],r-M[M.length-1],0)>0||p.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(f){var I;for(y=[2*M[0]-M[1]],I=1;I<M.length;I++)y.push((M[I]+M[I-1])/2);for(y.push([2*M[M.length-1]-M[M.length-2]]),S=[2*c[0]-c[1]],I=1;I<c.length;I++)S.push((c[I]+c[I-1])/2);S.push([2*c[c.length-1]-c[c.length-2]])}_=Math.max(0,Math.min(y.length-2,L.findBin(r,y))),b=Math.max(0,Math.min(S.length-2,L.findBin(t,S)))}var D=m.c2p(M[_]),N=m.c2p(M[_+1]),k=h.c2p(c[b]),z=h.c2p(c[b+1]),F,O;f?(F=u.orig_x||M,O=u.orig_y||c,N=D,w=F[_],z=k,o=O[b]):(F=u.orig_x||d||M,O=u.orig_y||x||c,w=d?F[_]:(F[_]+F[_+1])/2,o=x?O[b]:(O[b]+O[b+1])/2,m&&m.type==="category"&&(w=M[_]),h&&h.type==="category"&&(o=c[b]),l.zsmooth&&(D=N=m.c2p(w),k=z=h.c2p(o)));var B=i[b][_];if(A&&!A[b][_]&&(B=void 0),!(B===void 0&&!l.hoverongaps)){var W;n(u.hovertext)&&n(u.hovertext[b])?W=u.hovertext[b][_]:n(u.text)&&n(u.text[b])&&(W=u.text[b][_]);var ee=T(l),ne={type:"linear",range:[ee.min,ee.max],hoverformat:E,_separators:m._separators,_numFormat:m._numFormat},Q=C.tickText(ne,B,"hover").text;return[L.extendFlat(g,{index:l._after2before?l._after2before[b][_]:[b,_],distance:g.maxHoverDistance,spikeDistance:g.maxSpikeDistance,x0:D,x1:N,y0:k,y1:z,xLabelVal:w,yLabelVal:o,zLabelVal:B,zLabel:Q,text:W})]}}},81932:function(H,U,e){H.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(H,U,e){var p=e(3400),L=.01,n=[[-1,0],[1,0],[0,-1],[0,1]];function C(v){return .5-.25*Math.min(1,v*.5)}H.exports=function(g,r){var t=1,s;for(T(g,r),s=0;s<r.length&&!(r[s][2]<4);s++);for(r=r.slice(s),s=0;s<100&&t>L;s++)t=T(g,r,C(t));return t>L&&p.log("interp2d didn't converge quickly",t),g};function T(v,g,r){var t=0,s,a,f,u,l,m,h,M,c,i,d,x,A;for(u=0;u<g.length;u++){for(s=g[u],a=s[0],f=s[1],d=v[a][f],i=0,c=0,l=0;l<4;l++)m=n[l],h=v[a+m[0]],h&&(M=h[f+m[1]],M!==void 0&&(i===0?x=A=M:(x=Math.min(x,M),A=Math.max(A,M)),c++,i+=M));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[a][f]=i/c,d===void 0?c<4&&(t=1):(v[a][f]=(1+r)*v[a][f]-r*d,A>x&&(t=Math.max(t,Math.abs(v[a][f]-d)/(A-x))))}return t}},39096:function(H,U,e){var p=e(3400);H.exports=function(n,C){n("texttemplate");var T=p.extendFlat({},C.font,{color:"auto",size:"auto"});p.coerceFont(n,"textfont",T)}},35744:function(H,U,e){var p=e(24040),L=e(3400).isArrayOrTypedArray;H.exports=function(C,T,v,g,r,t){var s=[],a=p.traceIs(C,"contour"),f=p.traceIs(C,"histogram"),u=p.traceIs(C,"gl2d"),l,m,h,M=L(T)&&T.length>1;if(M&&!f&&t.type!=="category"){var c=T.length;if(c<=r){if(a||u)s=Array.from(T).slice(0,r);else if(r===1)t.type==="log"?s=[.5*T[0],2*T[0]]:s=[T[0]-.5,T[0]+.5];else if(t.type==="log"){for(s=[Math.pow(T[0],1.5)/Math.pow(T[1],.5)],h=1;h<c;h++)s.push(Math.sqrt(T[h-1]*T[h]));s.push(Math.pow(T[c-1],1.5)/Math.pow(T[c-2],.5))}else{for(s=[1.5*T[0]-.5*T[1]],h=1;h<c;h++)s.push((T[h-1]+T[h])*.5);s.push(1.5*T[c-1]-.5*T[c-2])}if(c<r){var i=s[s.length-1],d;if(t.type==="log")for(d=i/s[s.length-2],h=c;h<r;h++)i*=d,s.push(i);else for(d=i-s[s.length-2],h=c;h<r;h++)i+=d,s.push(i)}}else return a?T.slice(0,r):T.slice(0,r+1)}else{var x=C[t._id.charAt(0)+"calendar"];if(f)l=t.r2c(v,0,x);else if(L(T)&&T.length===1)l=T[0];else if(v===void 0)l=0;else{var A=t.type==="log"?t.d2c:t.r2c;l=A(v,0,x)}for(m=g||1,h=a||u?0:-.5;h<r;h++)s.push(l+m*h)}return s}},41420:function(H,U,e){var p=e(33428),L=e(49760),n=e(24040),C=e(43616),T=e(54460),v=e(3400),g=e(72736),r=e(76688),t=e(76308),s=e(8932).extractOpts,a=e(8932).makeColorScaleFuncFromTrace,f=e(9616),u=e(84284),l=u.LINE_SPACING,m=e(9188),h=e(2264).STYLE,M="heatmap-label";function c(E){return E.selectAll("g."+M)}function i(E){c(E).remove()}H.exports=function(E,y,S,w){var o=y.xaxis,_=y.yaxis;v.makeTraceGroups(w,S,"hm").each(function(b){var I=p.select(this),D=b[0],N=D.trace,k=N.xgap||0,z=N.ygap||0,F=D.z,O=D.x,B=D.y,W=D.xCenter,ee=D.yCenter,ne=n.traceIs(N,"contour"),Q=ne?"best":N.zsmooth,le=F.length,Z=v.maxRowLength(F),Y=!1,re=!1,X,q,se,$,j,ue,ae,ce;for(ue=0;X===void 0&&ue<O.length-1;)X=o.c2p(O[ue]),ue++;for(ue=O.length-1;q===void 0&&ue>0;)q=o.c2p(O[ue]),ue--;for(q<X&&(se=q,q=X,X=se,Y=!0),ue=0;$===void 0&&ue<B.length-1;)$=_.c2p(B[ue]),ue++;for(ue=B.length-1;j===void 0&&ue>0;)j=_.c2p(B[ue]),ue--;j<$&&(se=$,$=j,j=se,re=!0),ne&&(W=O,ee=B,O=D.xfill,B=D.yfill);var ye="default";if(Q?ye=Q==="best"?"smooth":"fast":N._islinear&&k===0&&z===0&&m()&&(ye="fast"),ye!=="fast"){var Ce=Q==="best"?0:.5;X=Math.max(-Ce*o._length,X),q=Math.min((1+Ce)*o._length,q),$=Math.max(-Ce*_._length,$),j=Math.min((1+Ce)*_._length,j)}var Ae=Math.round(q-X),Ie=Math.round(j-$),Te=X>=o._length||q<=0||$>=_._length||j<=0;if(Te){var Le=I.selectAll("image").data([]);Le.exit().remove(),i(I);return}var xe,Re;ye==="fast"?(xe=Z,Re=le):(xe=Ae,Re=Ie);var He=document.createElement("canvas");He.width=xe,He.height=Re;var Ve=He.getContext("2d",{willReadFrequently:!0}),Fe=a(N,{noNumericCheck:!0,returnArray:!0}),We,ut;ye==="fast"?(We=Y?function(vn){return Z-1-vn}:v.identity,ut=re?function(vn){return le-1-vn}:v.identity):(We=function(vn){return v.constrain(Math.round(o.c2p(O[vn])-X),0,Ae)},ut=function(vn){return v.constrain(Math.round(_.c2p(B[vn])-$),0,Ie)});var ht=ut(0),rt=[ht,ht],tt=Y?0:1,vt=re?0:1,pt=0,mt=0,wt=0,Lt=0,at,Oe,Ze,Je,Ye;function ke(vn,Mn){if(vn!==void 0){var Sn=Fe(vn);return Sn[0]=Math.round(Sn[0]),Sn[1]=Math.round(Sn[1]),Sn[2]=Math.round(Sn[2]),pt+=Mn,mt+=Sn[0]*Mn,wt+=Sn[1]*Mn,Lt+=Sn[2]*Mn,Sn}return[0,0,0,0]}function be(vn,Mn,Sn,Vn){var jn=vn[Sn.bin0];if(jn===void 0)return ke(void 0,1);var ya=vn[Sn.bin1],Pa=Mn[Sn.bin0],Da=Mn[Sn.bin1],Ma=ya-jn||0,ma=Pa-jn||0,Er;return ya===void 0?Da===void 0?Er=0:Pa===void 0?Er=2*(Da-jn):Er=(2*Da-Pa-jn)*2/3:Da===void 0?Pa===void 0?Er=0:Er=(2*jn-ya-Pa)*2/3:Pa===void 0?Er=(2*Da-ya-jn)*2/3:Er=Da+jn-ya-Pa,ke(jn+Sn.frac*Ma+Vn.frac*(ma+Sn.frac*Er))}if(ye!=="default"){var me=0,_e;try{_e=new Uint8Array(xe*Re*4)}catch{_e=new Array(xe*Re*4)}if(ye==="smooth"){var Ee=W||O,Be=ee||B,je=new Array(Ee.length),nt=new Array(Be.length),dt=new Array(Ae),xt=W?x:d,Kt=ee?x:d,Jt,St,Ft;for(ue=0;ue<Ee.length;ue++)je[ue]=Math.round(o.c2p(Ee[ue])-X);for(ue=0;ue<Be.length;ue++)nt[ue]=Math.round(_.c2p(Be[ue])-$);for(ue=0;ue<Ae;ue++)dt[ue]=xt(ue,je);for(ae=0;ae<Ie;ae++)for(Jt=Kt(ae,nt),St=F[Jt.bin0],Ft=F[Jt.bin1],ue=0;ue<Ae;ue++,me+=4)Ye=be(St,Ft,dt[ue],Jt),A(_e,me,Ye)}else for(ae=0;ae<le;ae++)for(Je=F[ae],rt=ut(ae),ue=0;ue<Z;ue++)Ye=ke(Je[ue],1),me=(rt*Z+We(ue))*4,A(_e,me,Ye);var rr=Ve.createImageData(xe,Re);try{rr.data.set(_e)}catch{var _r=rr.data,Tt=_r.length;for(ae=0;ae<Tt;ae++)_r[ae]=_e[ae]}Ve.putImageData(rr,0,0)}else{var $t=Math.floor(k/2),tr=Math.floor(z/2);for(ae=0;ae<le;ae++)if(Je=F[ae],rt.reverse(),rt[vt]=ut(ae+1),!(rt[0]===rt[1]||rt[0]===void 0||rt[1]===void 0))for(Oe=We(0),at=[Oe,Oe],ue=0;ue<Z;ue++)at.reverse(),at[tt]=We(ue+1),!(at[0]===at[1]||at[0]===void 0||at[1]===void 0)&&(Ze=Je[ue],Ye=ke(Ze,(at[1]-at[0])*(rt[1]-rt[0])),Ve.fillStyle="rgba("+Ye.join(",")+")",Ve.fillRect(at[0]+$t,rt[0]+tr,at[1]-at[0]-k,rt[1]-rt[0]-z))}mt=Math.round(mt/pt),wt=Math.round(wt/pt),Lt=Math.round(Lt/pt);var Tr=L("rgb("+mt+","+wt+","+Lt+")");E._hmpixcount=(E._hmpixcount||0)+pt,E._hmlumcount=(E._hmlumcount||0)+pt*Tr.getLuminance();var cr=I.selectAll("image").data(b);cr.enter().append("svg:image").attr({xmlns:f.svg,preserveAspectRatio:"none"}),cr.attr({height:Ie,width:Ae,x:X,y:$,"xlink:href":He.toDataURL("image/png")}),ye==="fast"&&!Q&&cr.attr("style",h),i(I);var bt=N.texttemplate;if(bt){var lt=s(N),Mt={type:"linear",range:[lt.min,lt.max],_separators:o._separators,_numFormat:o._numFormat},_t=N.type==="histogram2dcontour",Ot=N.type==="contour",It=Ot?1:0,Wt=Ot?le-1:le,Gt=Ot?1:0,er=Ot?Z-1:Z,dr=[];for(ue=It;ue<Wt;ue++){var pr;if(Ot)pr=D.y[ue];else if(_t){if(ue===0||ue===le-1)continue;pr=D.y[ue]}else if(D.yCenter)pr=D.yCenter[ue];else{if(ue+1===le&&D.y[ue+1]===void 0)continue;pr=(D.y[ue]+D.y[ue+1])/2}var mr=Math.round(_.c2p(pr));if(!(0>mr||mr>_._length))for(ae=Gt;ae<er;ae++){var Xe;if(Ot)Xe=D.x[ae];else if(_t){if(ae===0||ae===Z-1)continue;Xe=D.x[ae]}else if(D.xCenter)Xe=D.xCenter[ae];else{if(ae+1===Z&&D.x[ae+1]===void 0)continue;Xe=(D.x[ae]+D.x[ae+1])/2}var Ge=Math.round(o.c2p(Xe));if(!(0>Ge||Ge>o._length)){var Ut=r({x:Xe,y:pr},N,E._fullLayout);Ut.x=Xe,Ut.y=pr;var Nt=D.z[ue][ae];Nt===void 0?(Ut.z="",Ut.zLabel=""):(Ut.z=Nt,Ut.zLabel=T.tickText(Mt,Nt,"hover").text);var Qt=D.text&&D.text[ue]&&D.text[ue][ae];(Qt===void 0||Qt===!1)&&(Qt=""),Ut.text=Qt;var ar=v.texttemplateString(bt,Ut,E._fullLayout._d3locale,Ut,N._meta||{});if(ar){var hr=ar.split("<br>"),or=hr.length,Vt=0;for(ce=0;ce<or;ce++)Vt=Math.max(Vt,hr[ce].length);dr.push({l:or,c:Vt,t:ar,x:Ge,y:mr,z:Nt})}}}}var yr=N.textfont,wr=yr.family,Ar=yr.size,gr=E._fullLayout.font.size;if(!Ar||Ar==="auto"){var jr=1/0,Fr=1/0,Nr=0,wn=0;for(ce=0;ce<dr.length;ce++){var hn=dr[ce];if(Nr=Math.max(Nr,hn.l),wn=Math.max(wn,hn.c),ce<dr.length-1){var Un=dr[ce+1],Fn=Math.abs(Un.x-hn.x),Pr=Math.abs(Un.y-hn.y);Fn&&(jr=Math.min(jr,Fn)),Pr&&(Fr=Math.min(Fr,Pr))}}!isFinite(jr)||!isFinite(Fr)?Ar=gr:(jr-=k,Fr-=z,jr/=wn,Fr/=Nr,jr/=l/2,Fr/=l,Ar=Math.min(Math.floor(jr),Math.floor(Fr),gr))}if(Ar<=0||!isFinite(Ar))return;var Or=function(vn){return vn.x},Qr=function(vn){return vn.y-Ar*(vn.l*l/2-1)},Zr=c(I).data(dr);Zr.enter().append("g").classed(M,1).append("text").attr("text-anchor","middle").each(function(vn){var Mn=p.select(this),Sn=yr.color;(!Sn||Sn==="auto")&&(Sn=t.contrast(vn.z===void 0?E._fullLayout.plot_bgcolor:"rgba("+Fe(vn.z).join()+")")),Mn.attr("data-notex",1).call(g.positionText,Or(vn),Qr(vn)).call(C.font,wr,Ar,Sn).text(vn.t).call(g.convertToTspans,E)})}})};function d(E,y){var S=y.length-2,w=v.constrain(v.findBin(E,y),0,S),o=y[w],_=y[w+1],b=v.constrain(w+(E-o)/(_-o)-.5,0,S),I=Math.round(b),D=Math.abs(b-I);return!b||b===S||!D?{bin0:I,bin1:I,frac:0}:{bin0:I,frac:D,bin1:Math.round(I+D/(b-I))}}function x(E,y){var S=y.length-1,w=v.constrain(v.findBin(E,y),0,S),o=y[w],_=y[w+1],b=(E-o)/(_-o)||0;return b<=0?{bin0:w,bin1:w,frac:0}:b<.5?{bin0:w,bin1:w+1,frac:b}:{bin0:w+1,bin1:w,frac:1-b}}function A(E,y,S){E[y]=S[0],E[y+1]=S[1],E[y+2]=S[2],E[y+3]=Math.round(S[3]*255)}},41648:function(H,U,e){var p=e(33428);H.exports=function(n){p.select(n).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},82748:function(H){H.exports=function(e,p,L){var n=L("zsmooth");n===!1&&(L("xgap"),L("ygap")),L("zhoverformat")}},51264:function(H,U,e){var p=e(38248),L=e(3400),n=e(24040);H.exports=function(g,r,t,s,a,f){var u=t("z");a=a||"x",f=f||"y";var l,m;if(u===void 0||!u.length)return 0;if(L.isArray1D(u)){l=t(a),m=t(f);var h=L.minRowLength(l),M=L.minRowLength(m);if(h===0||M===0)return 0;r._length=Math.min(h,M,u.length)}else{if(l=C(a,t),m=C(f,t),!T(u))return 0;t("transpose"),r._length=null}if(g.type==="heatmapgl")return!0;var c=n.getComponentMethod("calendars","handleTraceDefaults");return c(g,r,[a,f],s),!0};function C(v,g){var r=g(v),t=r?g(v+"type","array"):"scaled";return t==="scaled"&&(g(v+"0"),g("d"+v)),r}function T(v){for(var g=!0,r=!1,t=!1,s,a=0;a<v.length;a++){if(s=v[a],!L.isArrayOrTypedArray(s)){g=!1;break}s.length>0&&(r=!0);for(var f=0;f<s.length;f++)if(p(s[f])){t=!0;break}}return g&&r&&t}},74512:function(H,U,e){for(var p=e(83328),L=e(49084),n=e(92880).extendFlat,C=e(67824).overrideAll,T=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},g=0;g<T.length;g++){var r=T[g];v[r]=p[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},n(v,L("",{cLetter:"z",autoColorDflt:!1})),H.exports=C(v,"calc","nested")},84656:function(H,U,e){var p=e(67792).gl_heatmap2d,L=e(54460),n=e(43080);function C(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=p(r.glplot,this.options),this.heatmap._trace=this}var T=C.prototype;T.handlePick=function(r){var t=this.options,s=t.shape,a=r.pointId,f=a%s[0],u=Math.floor(a/s[0]),l=a;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[f],t.y[u],t.z[l]],textLabel:this.textLabels[a],name:this.name,pointIndex:[u,f],hoverinfo:this.hoverinfo}},T.update=function(r,t){var s=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var a=s.z;this.options.z=[].concat.apply([],a);var f=a[0].length,u=a.length;this.options.shape=[f,u],this.options.x=s.x,this.options.y=s.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var m=this.scene.xaxis,h=this.scene.yaxis,M,c;r.zsmooth===!1&&(M={ppad:s.x[1]-s.x[0]},c={ppad:s.y[1]-s.y[0]}),r._extremes[m._id]=L.findExtremes(m,s.x,M),r._extremes[h._id]=L.findExtremes(h,s.y,c)},T.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,s=r.zmin,a=r.zmax,f=t.length,u=new Array(f),l=new Array(4*f),m=0;m<f;m++){var h=t[m],M=n(h[1]);u[m]=s+h[0]*(a-s);for(var c=0;c<4;c++)l[4*m+c]=M[c]}return{colorLevels:u,colorValues:l}}function g(r,t,s){var a=new C(r,t.uid);return a.update(t,s),a}H.exports=g},86464:function(H,U,e){var p=e(3400),L=e(51264),n=e(27260),C=e(74512);H.exports=function(v,g,r,t){function s(f,u){return p.coerce(v,g,C,f,u)}var a=L(v,g,s,t);if(!a){g.visible=!1;return}s("text"),s("zsmooth"),n(v,g,t,s,{prefix:"",cLetter:"z"})}},45536:function(H,U,e){H.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(H,U,e){var p=e(20832),L=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(21776).Gw,T=e(25376),v=e(11120),g=e(73316),r=e(92880).extendFlat;H.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:L("x"),yhoverformat:L("y"),text:r({},p.text,{}),hovertext:r({},p.hovertext,{}),orientation:p.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({},{keys:g.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},p.textposition,{arrayOk:!1}),textfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:p.insidetextanchor,textangle:p.textangle,cliponaxis:p.cliponaxis,constraintext:p.constraintext,marker:p.marker,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,_deprecated:{bardir:p._deprecated.bardir}}},2e3:function(H){H.exports=function(e,p){for(var L=e.length,n=0,C=0;C<L;C++)p[C]?(e[C]/=p[C],n+=e[C]):e[C]=null;return n}},11120:function(H){H.exports=function(e,p){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(H,U,e){var p=e(38248);H.exports={count:function(L,n,C){return C[L]++,1},sum:function(L,n,C,T){var v=T[n];return p(v)?(v=Number(v),C[L]+=v,v):0},avg:function(L,n,C,T,v){var g=T[n];return p(g)&&(g=Number(g),C[L]+=g,v[L]++),0},min:function(L,n,C,T){var v=T[n];if(p(v))if(v=Number(v),p(C[L])){if(C[L]>v){var g=v-C[L];return C[L]=v,g}}else return C[L]=v,v;return 0},max:function(L,n,C,T){var v=T[n];if(p(v))if(v=Number(v),p(C[L])){if(C[L]<v){var g=v-C[L];return C[L]=v,g}}else return C[L]=v,v;return 0}}},67712:function(H,U,e){var p=e(39032),L=p.ONEAVGYEAR,n=p.ONEAVGMONTH,C=p.ONEDAY,T=p.ONEHOUR,v=p.ONEMIN,g=p.ONESEC,r=e(54460).tickIncrement;H.exports=function(l,m,h,M,c){var i=-1.1*m,d=-.1*m,x=l-d,A=h[0],E=h[1],y=Math.min(t(A+d,A+x,M,c),t(E+d,E+x,M,c)),S=Math.min(t(A+i,A+d,M,c),t(E+i,E+d,M,c)),w,o;if(y>S&&S<Math.abs(E-A)/4e3?(w=y,o=!1):(w=Math.min(y,S),o=!0),M.type==="date"&&w>C){var _=w===L?1:6,b=w===L?"M12":"M1";return function(I,D){var N=M.c2d(I,L,c),k=N.indexOf("-",_);k>0&&(N=N.substr(0,k));var z=M.d2c(N,0,c);if(z<I){var F=r(z,b,!1,c);(z+F)/2<I+l&&(z=F)}return D&&o?r(z,b,!0,c):z}}return function(I,D){var N=w*Math.round(I/w);return N+w/10<I&&N+w*.9<I+l&&(N+=w),D&&o&&(N-=w),N}};function t(u,l,m,h){if(u*l<=0)return 1/0;for(var M=Math.abs(l-u),c=m.type==="date",i=s(M,c),d=0;d<10;d++){var x=s(i*80,c);if(i===x)break;if(a(x,u,l,c,m,h))i=x;else break}return i}function s(u,l){return l&&u>g?u>C?u>L*1.1?L:u>n*1.1?n:C:u>T?T:u>v?v:g:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function a(u,l,m,h,M,c){if(h&&u>C){var i=f(l,M,c),d=f(m,M,c),x=u===L?0:1;return i[x]!==d[x]}return Math.floor(m/u)-Math.floor(l/u)>.1}function f(u,l,m){var h=l.c2d(u,L,m).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(H,U,e){var p=e(38248),L=e(3400),n=e(24040),C=e(54460),T=e(84664),v=e(16964),g=e(10648),r=e(2e3),t=e(67712);function s(m,h){var M=[],c=[],i=h.orientation==="h",d=C.getFromId(m,i?h.yaxis:h.xaxis),x=i?"y":"x",A={x:"y",y:"x"}[x],E=h[x+"calendar"],y=h.cumulative,S,w=a(m,h,d,x),o=w[0],_=w[1],b=typeof o.size=="string",I=[],D=b?I:o,N=[],k=[],z=[],F=0,O=h.histnorm,B=h.histfunc,W=O.indexOf("density")!==-1,ee,ne,Q;y.enabled&&W&&(O=O.replace(/ ?density$/,""),W=!1);var le=B==="max"||B==="min",Z=le?null:0,Y=v.count,re=g[O],X=!1,q=function(Ve){return d.r2c(Ve,0,E)},se;for(L.isArrayOrTypedArray(h[A])&&B!=="count"&&(se=h[A],X=B==="avg",Y=v[B]),S=q(o.start),ne=q(o.end)+(S-C.tickIncrement(S,o.size,!1,E))/1e6;S<ne&&M.length<1e6&&(ee=C.tickIncrement(S,o.size,!1,E),M.push((S+ee)/2),c.push(Z),z.push([]),I.push(S),W&&N.push(1/(ee-S)),X&&k.push(0),!(ee<=S));)S=ee;I.push(S),!b&&d.type==="date"&&(D={start:q(D.start),end:q(D.end),size:D.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var $=h["_"+x+"bingroup"],j={leftGap:1/0,rightGap:1/0};$&&(m._fullLayout._roundFnOpts[$]||(m._fullLayout._roundFnOpts[$]=j),j=m._fullLayout._roundFnOpts[$]);var ue=c.length,ae=!0,ce=j.leftGap,ye=j.rightGap,Ce={};for(S=0;S<_.length;S++){var Ae=_[S];Q=L.findBin(Ae,D),Q>=0&&Q<ue&&(F+=Y(Q,S,c,se,k),ae&&z[Q].length&&Ae!==_[z[Q][0]]&&(ae=!1),z[Q].push(S),Ce[S]=Q,ce=Math.min(ce,Ae-I[Q]),ye=Math.min(ye,I[Q+1]-Ae))}j.leftGap=ce,j.rightGap=ye;var Ie;ae||(Ie=function(Ve,Fe){return function(){var We=m._fullLayout._roundFnOpts[$];return t(We.leftGap,We.rightGap,I,d,E)(Ve,Fe)}}),X&&(F=r(c,k)),re&&re(c,F,N),y.enabled&&l(c,y.direction,y.currentbin);var Te=Math.min(M.length,c.length),Le=[],xe=0,Re=Te-1;for(S=0;S<Te;S++)if(c[S]){xe=S;break}for(S=Te-1;S>=xe;S--)if(c[S]){Re=S;break}for(S=xe;S<=Re;S++)if(p(M[S])&&p(c[S])){var He={p:M[S],s:c[S],b:0};y.enabled||(He.pts=z[S],ae?He.ph0=He.ph1=z[S].length?_[z[S][0]]:M[S]:(h._computePh=!0,He.ph0=Ie(I[S]),He.ph1=Ie(I[S+1],!0))),Le.push(He)}return Le.length===1&&(Le[0].width1=C.tickIncrement(Le[0].p,o.size,!1,E)-Le[0].p),T(Le,h),L.isArrayOrTypedArray(h.selectedpoints)&&L.tagSelected(Le,h,Ce),Le}function a(m,h,M,c,i){var d=c+"bins",x=m._fullLayout,A=h["_"+c+"bingroup"],E=x._histogramBinOpts[A],y=x.barmode==="overlay",S,w,o,_,b,I,D,N=function(Ae){return M.r2c(Ae,0,_)},k=function(Ae){return M.c2r(Ae,0,_)},z=M.type==="date"?function(Ae){return Ae||Ae===0?L.cleanDate(Ae,null,_):null}:function(Ae){return p(Ae)?Number(Ae):null};function F(Ae,Ie,Te){Ie[Ae+"Found"]?(Ie[Ae]=z(Ie[Ae]),Ie[Ae]===null&&(Ie[Ae]=Te[Ae])):(I[Ae]=Ie[Ae]=Te[Ae],L.nestedProperty(w[0],d+"."+Ae).set(Te[Ae]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{w=E.traces;var O=[],B=!0,W=!1,ee=!1;for(S=0;S<w.length;S++)if(o=w[S],o.visible){var ne=E.dirs[S];b=o["_"+ne+"pos0"]=M.makeCalcdata(o,ne),O=L.concat(O,b),delete o["_"+c+"autoBinFinished"],h.visible===!0&&(B?B=!1:(delete o._autoBin,o["_"+c+"autoBinFinished"]=1),n.traceIs(o,"2dMap")&&(W=!0),o.type==="histogram2dcontour"&&(ee=!0))}_=w[0][c+"calendar"];var Q=C.autoBin(O,M,E.nbins,W,_,E.sizeFound&&E.size),le=w[0]._autoBin={};if(I=le[E.dirs[0]]={},ee&&(E.size||(Q.start=k(C.tickIncrement(N(Q.start),Q.size,!0,_))),E.end===void 0&&(Q.end=k(C.tickIncrement(N(Q.end),Q.size,!1,_)))),y&&!n.traceIs(h,"2dMap")&&Q._dataSpan===0&&M.type!=="category"&&M.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(i)return[Q,b,!0];Q=f(m,h,M,c,d)}D=o.cumulative||{},D.enabled&&D.currentbin!=="include"&&(D.direction==="decreasing"?Q.start=k(C.tickIncrement(N(Q.start),Q.size,!0,_)):Q.end=k(C.tickIncrement(N(Q.end),Q.size,!1,_))),E.size=Q.size,E.sizeFound||(I.size=Q.size,L.nestedProperty(w[0],d+".size").set(Q.size)),F("start",E,Q),F("end",E,Q)}b=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var Z=h._input[d]||{},Y=L.extendFlat({},E),re=E.start,X=M.r2l(Z.start),q=X!==void 0;if((E.startFound||q)&&X!==M.r2l(re)){var se=q?X:L.aggNums(Math.min,null,b),$={type:M.type==="category"||M.type==="multicategory"?"linear":M.type,r2l:M.r2l,dtick:E.size,tick0:re,calendar:_,range:[se,C.tickIncrement(se,E.size,!1,_)].map(M.l2r)},j=C.tickFirst($);j>M.r2l(se)&&(j=C.tickIncrement(j,E.size,!0,_)),Y.start=M.l2r(j),q||L.nestedProperty(h,d+".start").set(Y.start)}var ue=E.end,ae=M.r2l(Z.end),ce=ae!==void 0;if((E.endFound||ce)&&ae!==M.r2l(ue)){var ye=ce?ae:L.aggNums(Math.max,null,b);Y.end=M.l2r(ye),ce||L.nestedProperty(h,d+".start").set(Y.end)}var Ce="autobin"+c;return h._input[Ce]===!1&&(h._input[d]=L.extendFlat({},h[d]||{}),delete h._input[Ce],delete h[Ce]),[Y,b]}function f(m,h,M,c,i){var d=m._fullLayout,x=u(m,h),A=!1,E=1/0,y=[h],S,w,o;for(S=0;S<x.length;S++)if(w=x[S],w===h)A=!0;else if(!A)o=d._histogramBinOpts[w["_"+c+"bingroup"]],E=Math.min(E,o.size||w[i].size);else{var _=a(m,w,M,c,!0),b=_[0],I=_[2];w["_"+c+"autoBinFinished"]=1,w["_"+c+"pos0"]=_[1],I?y.push(w):E=Math.min(E,b.size)}var D=new Array(y.length);for(S=0;S<y.length;S++)for(var N=y[S]["_"+c+"pos0"],k=0;k<N.length;k++)if(N[k]!==void 0){D[S]=N[k];break}for(isFinite(E)||(E=L.distinctVals(D).minDiff),S=0;S<y.length;S++){w=y[S];var z=w[c+"calendar"],F={start:M.c2r(D[S]-E/2,0,z),end:M.c2r(D[S]+E/2,0,z),size:E};w._input[i]=w[i]=F,o=d._histogramBinOpts[w["_"+c+"bingroup"]],o&&L.extendFlat(o,F)}return h[i]}function u(m,h){for(var M=h.xaxis,c=h.yaxis,i=h.orientation,d=[],x=m._fullData,A=0;A<x.length;A++){var E=x[A];E.type==="histogram"&&E.visible===!0&&E.orientation===i&&E.xaxis===M&&E.yaxis===c&&d.push(E)}return d}function l(m,h,M){var c,i,d;function x(E){d=m[E],m[E]/=2}function A(E){i=m[E],m[E]=d+i/2,d+=i}if(M==="half")if(h==="increasing")for(x(0),c=1;c<m.length;c++)A(c);else for(x(m.length-1),c=m.length-2;c>=0;c--)A(c);else if(h==="increasing"){for(c=1;c<m.length;c++)m[c]+=m[c-1];M==="exclude"&&(m.unshift(0),m.pop())}else{for(c=m.length-2;c>=0;c--)m[c]+=m[c+1];M==="exclude"&&(m.push(0),m.shift())}}H.exports={calc:s,calcAllAutoBins:a}},73316:function(H){H.exports={eventDataKeys:["binNumber"]}},80536:function(H,U,e){var p=e(3400),L=e(79811),n=e(24040).traceIs,C=e(20011),T=e(31508).validateCornerradius,v=p.nestedProperty,g=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];H.exports=function(a,f){var u=f._histogramBinOpts={},l=[],m={},h=[],M,c,i,d,x,A,E;function y(Q,le){return p.coerce(M._input,M,M._module.attributes,Q,le)}function S(Q){return Q.orientation==="v"?"x":"y"}function w(Q,le){var Z=L.getFromTrace({_fullLayout:f},Q,le);return Z.type}function o(Q,le,Z){var Y=Q.uid+"__"+Z;le||(le=Y);var re=w(Q,Z),X=Q[Z+"calendar"]||"",q=u[le],se=!0;q&&(re===q.axType&&X===q.calendar?(se=!1,q.traces.push(Q),q.dirs.push(Z)):(le=Y,re!==q.axType&&p.warn(["Attempted to group the bins of trace",Q.index,"set on a","type:"+re,"axis","with bins on","type:"+q.axType,"axis."].join(" ")),X!==q.calendar&&p.warn(["Attempted to group the bins of trace",Q.index,"set with a",X,"calendar","with bins",q.calendar?"on a "+q.calendar+" calendar":"w/o a set calendar"].join(" ")))),se&&(u[le]={traces:[Q],dirs:[Z],axType:re,calendar:Q[Z+"calendar"]||""}),Q["_"+Z+"bingroup"]=le}for(x=0;x<a.length;x++)if(M=a[x],n(M,"histogram")){if(l.push(M),delete M._xautoBinFinished,delete M._yautoBinFinished,M.type==="histogram"){var _=y("marker.cornerradius",f.barcornerradius);M.marker&&(M.marker.cornerradius=T(_))}n(M,"2dMap")||C(M._input,M,f,y)}var b=f._alignmentOpts||{};for(x=0;x<l.length;x++){if(M=l[x],i="",!n(M,"2dMap")){if(d=S(M),f.barmode==="group"&&M.alignmentgroup){var I=M[d+"axis"],D=g(f,I)+M.orientation;(b[D]||{})[M.alignmentgroup]&&(i=D)}!i&&f.barmode!=="overlay"&&(i=g(f,M.xaxis)+g(f,M.yaxis)+S(M))}i?(m[i]||(m[i]=[]),m[i].push(M)):h.push(M)}for(i in m){if(c=m[i],c.length===1){h.push(c[0]);continue}var N=!1;for(c.length&&(M=c[0],N=y("bingroup")),i=N||i,x=0;x<c.length;x++){M=c[x];var k=M._input.bingroup;k&&k!==i&&p.warn(["Trace",M.index,"must match","within bingroup",i+".","Ignoring its bingroup:",k,"setting."].join(" ")),M.bingroup=i,o(M,i,S(M))}}for(x=0;x<h.length;x++){M=h[x];var z=y("bingroup");if(n(M,"2dMap"))for(E=0;E<2;E++){d=t[E];var F=y(d+"bingroup",z?z+"__"+d:null);o(M,F,d)}else o(M,z,S(M))}for(i in u){var O=u[i];for(c=O.traces,A=0;A<r.length;A++){var B=r[A],W=B.name,ee,ne;if(!(W==="nbins"&&O.sizeFound)){for(x=0;x<c.length;x++){if(M=c[x],d=O.dirs[x],ee=B.aStr[d],v(M._input,ee).get()!==void 0){O[W]=y(ee),O[W+"Found"]=!0;break}ne=(M._autoBin||{})[d]||{},ne[W]&&v(M,ee).set(ne[W])}if(W==="start"||W==="end")for(;x<c.length;x++)M=c[x],M["_"+d+"bingroup"]&&(ne=(M._autoBin||{})[d]||{},y(ee,ne[W]));W==="nbins"&&!O.sizeFound&&!O.nbinsFound&&(M=c[0],O[W]=y(ee))}}}}},6616:function(H,U,e){var p=e(24040),L=e(3400),n=e(76308),C=e(31508).handleText,T=e(55592),v=e(40196);H.exports=function(r,t,s,a){function f(S,w){return L.coerce(r,t,v,S,w)}var u=f("x"),l=f("y"),m=f("cumulative.enabled");m&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var h=f("textposition");C(r,t,a,f,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat");var M=f("orientation",l&&!u?"h":"v"),c=M==="v"?"x":"y",i=M==="v"?"y":"x",d=u&&l?Math.min(L.minRowLength(u)&&L.minRowLength(l)):L.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var x=p.getComponentMethod("calendars","handleTraceDefaults");x(r,t,["x","y"],a);var A=t[i];A&&f("histfunc"),f("histnorm"),f("autobin"+c),T(r,t,f,s,a),L.coerceSelectionMarkerOpacity(t,f);var E=(t.marker.line||{}).color,y=p.getComponentMethod("errorbars","supplyDefaults");y(r,t,E||n.defaultLine,{axis:"y"}),y(r,t,E||n.defaultLine,{axis:"x",inherit:"y"})}},84980:function(H){H.exports=function(e,p,L,n,C){if(e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"zLabelVal"in p&&(e.z=p.zLabelVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),!(L.cumulative||{}).enabled){var T=Array.isArray(C)?n[0].pts[C[0]][C[1]]:n[C].pts;e.pointNumbers=T,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(L._indexToPoints){v=[];for(var g=0;g<T.length;g++)v=v.concat(L._indexToPoints[T[g]])}else v=T;e.pointIndices=v}return e}},43339:function(H,U,e){var p=e(63400).hoverPoints,L=e(54460).hoverLabelText;H.exports=function(C,T,v,g,r){var t=p(C,T,v,g,r);if(t){C=t[0];var s=C.cd[C.index],a=C.cd[0].trace;if(!a.cumulative.enabled){var f=a.orientation==="h"?"y":"x";C[f+"Label"]=L(C[f+"a"],[s.ph0,s.ph1],a[f+"hoverformat"])}return t}}},42600:function(H,U,e){H.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(H){H.exports={percent:function(U,e){for(var p=U.length,L=100/e,n=0;n<p;n++)U[n]*=L},probability:function(U,e){for(var p=U.length,L=0;L<p;L++)U[L]/=e},density:function(U,e,p,L){var n=U.length;L=L||1;for(var C=0;C<n;C++)U[C]*=p[C]*L},"probability density":function(U,e,p,L){var n=U.length;L&&(e/=L);for(var C=0;C<n;C++)U[C]*=p[C]/e}}},37008:function(H,U,e){var p=e(40196),L=e(11120),n=e(83328),C=e(45464),T=e(29736).axisHoverFormat,v=e(21776).Ks,g=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;H.exports=t({x:p.x,y:p.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:L("x"),nbinsy:p.nbinsy,ybins:L("y"),autobinx:p.autobinx,autobiny:p.autobiny,bingroup:t({},p.bingroup,{}),xbingroup:t({},p.bingroup,{}),ybingroup:t({},p.bingroup,{}),xgap:n.xgap,ygap:n.ygap,zsmooth:n.zsmooth,xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:g({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:n.textfont,showlegend:t({},C.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(H,U,e){var p=e(3400),L=e(54460),n=e(16964),C=e(10648),T=e(2e3),v=e(67712),g=e(35852).calcAllAutoBins;H.exports=function(f,u){var l=L.getFromId(f,u.xaxis),m=L.getFromId(f,u.yaxis),h=u.xcalendar,M=u.ycalendar,c=function(Ye){return l.r2c(Ye,0,h)},i=function(Ye){return m.r2c(Ye,0,M)},d=function(Ye){return l.c2r(Ye,0,h)},x=function(Ye){return m.c2r(Ye,0,M)},A,E,y,S,w=g(f,u,l,"x"),o=w[0],_=w[1],b=g(f,u,m,"y"),I=b[0],D=b[1],N=u._length;_.length>N&&_.splice(N,_.length-N),D.length>N&&D.splice(N,D.length-N);var k=[],z=[],F=[],O=typeof o.size=="string",B=typeof I.size=="string",W=[],ee=[],ne=O?W:o,Q=B?ee:I,le=0,Z=[],Y=[],re=u.histnorm,X=u.histfunc,q=re.indexOf("density")!==-1,se=X==="max"||X==="min",$=se?null:0,j=n.count,ue=C[re],ae=!1,ce=[],ye=[],Ce="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";Ce&&X!=="count"&&(ae=X==="avg",j=n[X]);var Ae=o.size,Ie=c(o.start),Te=c(o.end)+(Ie-L.tickIncrement(Ie,Ae,!1,h))/1e6;for(A=Ie;A<Te;A=L.tickIncrement(A,Ae,!1,h))z.push($),W.push(A),ae&&F.push(0);W.push(A);var Le=z.length,xe=(A-Ie)/Le,Re=d(Ie+xe/2),He=I.size,Ve=i(I.start),Fe=i(I.end)+(Ve-L.tickIncrement(Ve,He,!1,M))/1e6;for(A=Ve;A<Fe;A=L.tickIncrement(A,He,!1,M)){k.push(z.slice()),ee.push(A);var We=new Array(Le);for(E=0;E<Le;E++)We[E]=[];Y.push(We),ae&&Z.push(F.slice())}ee.push(A);var ut=k.length,ht=(A-Ve)/ut,rt=x(Ve+ht/2);q&&(ce=r(z.length,ne,xe,O),ye=r(k.length,Q,ht,B)),!O&&l.type==="date"&&(ne=t(c,ne)),!B&&m.type==="date"&&(Q=t(i,Q));var tt=!0,vt=!0,pt=new Array(Le),mt=new Array(ut),wt=1/0,Lt=1/0,at=1/0,Oe=1/0;for(A=0;A<N;A++){var Ze=_[A],Je=D[A];y=p.findBin(Ze,ne),S=p.findBin(Je,Q),y>=0&&y<Le&&S>=0&&S<ut&&(le+=j(y,A,k[S],Ce,Z[S]),Y[S][y].push(A),tt&&(pt[y]===void 0?pt[y]=Ze:pt[y]!==Ze&&(tt=!1)),vt&&(mt[S]===void 0?mt[S]=Je:mt[S]!==Je&&(vt=!1)),wt=Math.min(wt,Ze-W[y]),Lt=Math.min(Lt,W[y+1]-Ze),at=Math.min(at,Je-ee[S]),Oe=Math.min(Oe,ee[S+1]-Je))}if(ae)for(S=0;S<ut;S++)le+=T(k[S],Z[S]);if(ue)for(S=0;S<ut;S++)ue(k[S],le,ce,ye[S]);return{x:_,xRanges:s(W,tt&&pt,wt,Lt,l,h),x0:Re,dx:xe,y:D,yRanges:s(ee,vt&&mt,at,Oe,m,M),y0:rt,dy:ht,z:k,pts:Y}};function r(a,f,u,l){var m=new Array(a),h;if(l)for(h=0;h<a;h++)m[h]=1/(f[h+1]-f[h]);else{var M=1/u;for(h=0;h<a;h++)m[h]=M}return m}function t(a,f){return{start:a(f.start),end:a(f.end),size:f.size}}function s(a,f,u,l,m,h){var M,c=a.length-1,i=new Array(c),d=v(u,l,a,m,h);for(M=0;M<c;M++){var x=(f||[])[M];i[M]=x===void 0?[d(a[M]),d(a[M+1],!0)]:[x,x]}return i}},99784:function(H,U,e){var p=e(3400),L=e(56408),n=e(82748),C=e(27260),T=e(39096),v=e(37008);H.exports=function(r,t,s,a){function f(u,l){return p.coerce(r,t,v,u,l)}L(r,t,f,a),t.visible!==!1&&(n(r,t,f,a),C(r,t,a,f,{prefix:"",cLetter:"z"}),f("hovertemplate"),T(f,a),f("xhoverformat"),f("yhoverformat"))}},59576:function(H,U,e){var p=e(55512),L=e(54460).hoverLabelText;H.exports=function(C,T,v,g,r){var t=p(C,T,v,g,r);if(t){C=t[0];var s=C.index,a=s[0],f=s[1],u=C.cd[0],l=u.trace,m=u.xRanges[f],h=u.yRanges[a];return C.xLabel=L(C.xa,[m[0],m[1]],l.xhoverformat),C.yLabel=L(C.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(H,U,e){H.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(H,U,e){var p=e(24040),L=e(3400);H.exports=function(C,T,v,g){var r=v("x"),t=v("y"),s=L.minRowLength(r),a=L.minRowLength(t);if(!s||!a){T.visible=!1;return}T._length=Math.min(s,a);var f=p.getComponentMethod("calendars","handleTraceDefaults");f(C,T,["x","y"],g);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(H,U,e){var p=e(37008),L=e(67104),n=e(49084),C=e(29736).axisHoverFormat,T=e(92880).extendFlat;H.exports=T({x:p.x,y:p.y,z:p.z,marker:p.marker,histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:p.xbins,nbinsy:p.nbinsy,ybins:p.ybins,autobinx:p.autobinx,autobiny:p.autobiny,bingroup:p.bingroup,xbingroup:p.xbingroup,ybingroup:p.ybingroup,autocontour:L.autocontour,ncontours:L.ncontours,contours:L.contours,line:{color:L.line.color,width:T({},L.line.width,{dflt:.5}),dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:L.texttemplate,textfont:L.textfont},n("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(H,U,e){var p=e(3400),L=e(56408),n=e(84952),C=e(97680),T=e(39096),v=e(81220);H.exports=function(r,t,s,a){function f(l,m){return p.coerce(r,t,v,l,m)}function u(l){return p.coerce2(r,t,v,l)}L(r,t,f,a),t.visible!==!1&&(n(r,t,f,u),C(r,t,f,a),f("xhoverformat"),f("yhoverformat"),f("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&T(f,a))}},65664:function(H,U,e){H.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(H,U,e){var p=e(21776).Ks,L=e(21776).Gw,n=e(49084),C=e(86968).u,T=e(74996),v=e(424),g=e(40516),r=e(32984),t=e(92880).extendFlat,s=e(98192).c;H.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:g.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:s,editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:g.pathbar,text:T.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:v.hoverinfo,hovertemplate:p({},{keys:r.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:g.outsidetextfont,textposition:g.textposition,sort:T.sort,root:v.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},59564:function(H,U,e){var p=e(7316);U.name="icicle",U.plot=function(L,n,C,T){p.plotBasePlot(U.name,L,n,C,T)},U.clean=function(L,n,C,T){p.cleanBasePlot(U.name,L,n,C,T)}},73876:function(H,U,e){var p=e(3776);U.r=function(L,n){return p.calc(L,n)},U.q=function(L){return p._runCrossTraceCalc("icicle",L)}},7045:function(H,U,e){var p=e(3400),L=e(97376),n=e(76308),C=e(86968).Q,T=e(31508).handleText,v=e(78048).TEXTPAD,g=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,s=r.handleDefaults;H.exports=function(f,u,l,m){function h(y,S){return p.coerce(f,u,L,y,S)}var M=h("labels"),c=h("parents");if(!M||!M.length||!c||!c.length){u.visible=!1;return}var i=h("values");i&&i.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),u.texttemplate||h("textinfo",p.isArrayOrTypedArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var x=h("pathbar.visible"),A="auto";T(f,u,m,h,A,{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),g(f,u,m,h);var E=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;E&&s(f,u,m,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",E?1:.7),u._hovered={marker:{line:{width:2,color:n.contrast(m.paper_bgcolor)}}},x&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),C(u,m,h),u._length=null}},67880:function(H,U,e){var p=e(33428),L=e(3400),n=e(43616),C=e(72736),T=e(25132),v=e(47192).styleOne,g=e(32984),r=e(78176),t=e(45716),s=e(96488).formatSliceLabel,a=!1;H.exports=function(u,l,m,h,M){var c=M.width,i=M.height,d=M.viewX,x=M.viewY,A=M.pathSlice,E=M.toMoveInsideSlice,y=M.strTransform,S=M.hasTransition,w=M.handleSlicesExit,o=M.makeUpdateSliceInterpolator,_=M.makeUpdateTextInterpolator,b=M.prevEntry,I={},D=u._context.staticPlot,N=u._fullLayout,k=l[0],z=k.trace,F=z.textposition.indexOf("left")!==-1,O=z.textposition.indexOf("right")!==-1,B=z.textposition.indexOf("bottom")!==-1,W=T(m,[c,i],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}),ee=W.descendants(),ne=1/0,Q=-1/0;ee.forEach(function(X){var q=X.depth;q>=z._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(ne=Math.min(ne,q),Q=Math.max(Q,q))}),h=h.data(ee,r.getPtId),z._maxVisibleLayers=isFinite(Q)?Q-ne+1:0,h.enter().append("g").classed("slice",!0),w(h,a,I,[c,i],A),h.order();var le=null;if(S&&b){var Z=r.getPtId(b);h.each(function(X){le===null&&r.getPtId(X)===Z&&(le={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var Y=function(){return le||{x0:0,x1:c,y0:0,y1:i}},re=h;return S&&(re=re.transition().each("end",function(){var X=p.select(this);r.setSliceCursor(X,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),re.each(function(X){X._x0=d(X.x0),X._x1=d(X.x1),X._y0=x(X.y0),X._y1=x(X.y1),X._hoverX=d(X.x1-z.tiling.pad),X._hoverY=x(B?X.y1-z.tiling.pad/2:X.y0+z.tiling.pad/2);var q=p.select(this),se=L.ensureSingle(q,"path","surface",function(ae){ae.style("pointer-events",D?"none":"all")});S?se.transition().attrTween("d",function(ae){var ce=o(ae,a,Y(),[c,i],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(ye){return A(ce(ye))}}):se.attr("d",A),q.call(t,m,u,l,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),se.call(v,X,z,u,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=s(X,m,z,l,N)||"";var $=L.ensureSingle(q,"g","slicetext"),j=L.ensureSingle($,"text","",function(ae){ae.attr("data-notex",1)}),ue=L.ensureUniformFontSize(u,r.determineTextFont(z,X,N.font));j.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":F?"start":"middle").call(n.font,ue).call(C.convertToTspans,u),X.textBB=n.bBox(j.node()),X.transform=E(X,{fontSize:ue.size}),X.transform.fontSize=ue.size,S?j.transition().attrTween("transform",function(ae){var ce=_(ae,a,Y(),[c,i]);return function(ye){return y(ce(ye))}}):j.attr("transform",y(X))}),le}},29044:function(H,U,e){H.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(H){H.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(H,U,e){var p=e(3400),L=e(90676);H.exports=function(C,T){function v(g,r){return p.coerce(C,T,L,g,r)}v("iciclecolorway",T.colorway),v("extendiciclecolors")}},25132:function(H,U,e){var p=e(74148),L=e(83024);H.exports=function(C,T,v){var g=v.flipX,r=v.flipY,t=v.orientation==="h",s=v.maxDepth,a=T[0],f=T[1];s&&(a=(C.height+1)*T[0]/Math.min(C.height+1,s),f=(C.height+1)*T[1]/Math.min(C.height+1,s));var u=p.partition().padding(v.pad.inner).size(t?[T[1],a]:[T[0],f])(C);return(t||g||r)&&L(u,T,{swapXY:t,flipX:g,flipY:r}),u}},38364:function(H,U,e){var p=e(95808),L=e(67880);H.exports=function(C,T,v,g){return p(C,T,v,g,{type:"icicle",drawDescendants:L})}},47192:function(H,U,e){var p=e(33428),L=e(76308),n=e(3400),C=e(82744).resizeText,T=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");C(r,t,"icicle"),t.each(function(s){var a=p.select(this),f=s[0],u=f.trace;a.style("opacity",u.opacity),a.selectAll("path.surface").each(function(l){p.select(this).call(g,l,u,r)})})}function g(r,t,s,a){var f=t.data.data,u=!t.children,l=f.i,m=n.castOption(s,l,"marker.line.color")||L.defaultLine,h=n.castOption(s,l,"marker.line.width")||0;r.call(T,t,s,a).style("stroke-width",h).call(L.stroke,m).style("opacity",u?s.leaf.opacity:null)}H.exports={style:v,styleOne:g}},95188:function(H,U,e){for(var p=e(45464),L=e(21776).Ks,n=e(92880).extendFlat,C=e(47797).colormodel,T=["rgb","rgba","rgba256","hsl","hsla"],v=[],g=[],r=0;r<T.length;r++){var t=C[T[r]];v.push("For the `"+T[r]+"` colormodel, it is ["+(t.zminDflt||t.min).join(", ")+"]."),g.push("For the `"+T[r]+"` colormodel, it is ["+(t.zmaxDflt||t.max).join(", ")+"].")}H.exports=n({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:T,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:n({},p.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:L({},{keys:["z","color","colormodel"]}),transforms:void 0})},93336:function(H,U,e){var p=e(3400),L=e(47797),n=e(38248),C=e(54460),T=e(3400).maxRowLength,v=e(18712).i;H.exports=function(a,f){var u,l;if(f._hasZ)u=f.z.length,l=T(f.z);else if(f._hasSource){var m=v(f.source);u=m.height,l=m.width}var h=C.getFromId(a,f.xaxis||"x"),M=C.getFromId(a,f.yaxis||"y"),c=h.d2c(f.x0)-f.dx/2,i=M.d2c(f.y0)-f.dy/2,d,x=[c,c+l*f.dx],A=[i,i+u*f.dy];if(h&&h.type==="log")for(d=0;d<l;d++)x.push(c+d*f.dx);if(M&&M.type==="log")for(d=0;d<u;d++)A.push(i+d*f.dy);f._extremes[h._id]=C.findExtremes(h,x),f._extremes[M._id]=C.findExtremes(M,A),f._scaler=t(f);var E={x0:c,y0:i,z:f.z,w:l,h:u};return[E]};function g(s,a,f,u){return function(l){return p.constrain((l-s)*a,f,u)}}function r(s,a){return function(f){return p.constrain(f,s,a)}}function t(s){var a=L.colormodel[s.colormodel],f=a.colormodel||s.colormodel,u=f.length;s._sArray=[];for(var l=0;l<u;l++)a.min[l]!==s.zmin[l]||a.max[l]!==s.zmax[l]?s._sArray.push(g(s.zmin[l],(a.max[l]-a.min[l])/(s.zmax[l]-s.zmin[l]),a.min[l],a.max[l])):s._sArray.push(r(a.min[l],a.max[l]));return function(m){for(var h=m.slice(0,u),M=0;M<u;M++){var c=h[M];if(!n(c))return!1;h[M]=s._sArray[M](c)}return h}}},47797:function(H){H.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(U){return U.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(U){return U.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(U){var e=U.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(U){var e=U.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13188:function(H,U,e){var p=e(3400),L=e(95188),n=e(47797),C=e(81792).IMAGE_URL_PREFIX;H.exports=function(v,g){function r(a,f){return p.coerce(v,g,L,a,f)}r("source"),g.source&&!g.source.match(C)&&delete g.source,g._hasSource=!!g.source;var t=r("z");if(g._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!g._hasZ&&!g._hasSource){g.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var s;g._hasZ?(r("colormodel","rgb"),s=n.colormodel[g.colormodel],r("zmin",s.zminDflt||s.min),r("zmax",s.zmaxDflt||s.max)):g._hasSource&&(g.colormodel="rgba256",s=n.colormodel[g.colormodel],g.zmin=s.zminDflt,g.zmax=s.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),g._length=null}},79972:function(H){H.exports=function(e,p){return"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e.color=p.color,e.colormodel=p.trace.colormodel,e.z||(e.z=p.color),e}},18712:function(H,U,e){var p=e(19480),L=e(81792).IMAGE_URL_PREFIX,n=e(33576).Buffer;U.i=function(C){var T=C.replace(L,""),v=new n(T,"base64");return p(v)}},24892:function(H,U,e){var p=e(93024),L=e(3400),n=L.isArrayOrTypedArray,C=e(47797);H.exports=function(v,g,r){var t=v.cd[0],s=t.trace,a=v.xa,f=v.ya;if(!(p.inbox(g-t.x0,g-(t.x0+t.w*s.dx),0)>0||p.inbox(r-t.y0,r-(t.y0+t.h*s.dy),0)>0)){var u=Math.floor((g-t.x0)/s.dx),l=Math.floor(Math.abs(r-t.y0)/s.dy),m;if(s._hasZ?m=t.z[l][u]:s._hasSource&&(m=s._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,l,1,1).data),!!m){var h=t.hi||s.hoverinfo,M;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(M=!0)}var i=C.colormodel[s.colormodel],d=i.colormodel||s.colormodel,x=d.length,A=s._scaler(m),E=i.suffix,y=[];(s.hovertemplate||M)&&(y.push("["+[A[0]+E[0],A[1]+E[1],A[2]+E[2]].join(", ")),x===4&&y.push(", "+A[3]+E[3]),y.push("]"),y=y.join(""),v.extraText=d.toUpperCase()+": "+y);var S;n(s.hovertext)&&n(s.hovertext[l])?S=s.hovertext[l][u]:n(s.text)&&n(s.text[l])&&(S=s.text[l][u]);var w=f.c2p(t.y0+(l+.5)*s.dy),o=t.x0+(u+.5)*s.dx,_=t.y0+(l+.5)*s.dy,b="["+m.slice(0,s.colormodel.length).join(", ")+"]";return[L.extendFlat(v,{index:[l,u],x0:a.c2p(t.x0+u*s.dx),x1:a.c2p(t.x0+(u+1)*s.dx),y0:w,y1:w,color:A,xVal:o,xLabelVal:o,yVal:_,yLabelVal:_,zLabelVal:b,text:S,hovertemplateLabels:{zLabel:b,colorLabel:y,"color[0]Label":A[0]+E[0],"color[1]Label":A[1]+E[1],"color[2]Label":A[2]+E[2],"color[3]Label":A[3]+E[3]}})]}}}},48928:function(H,U,e){H.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(H,U,e){var p=e(33428),L=e(3400),n=L.strTranslate,C=e(9616),T=e(47797),v=e(9188),g=e(2264).STYLE;H.exports=function(t,s,a,f){var u=s.xaxis,l=s.yaxis,m=!t._context._exportedPlot&&v();L.makeTraceGroups(f,a,"im").each(function(h){var M=p.select(this),c=h[0],i=c.trace,d=(i.zsmooth==="fast"||i.zsmooth===!1&&m)&&!i._hasZ&&i._hasSource&&u.type==="linear"&&l.type==="linear";i._realImage=d;var x=c.z,A=c.x0,E=c.y0,y=c.w,S=c.h,w=i.dx,o=i.dy,_,b,I,D,N,k;for(k=0;_===void 0&&k<y;)_=u.c2p(A+k*w),k++;for(k=y;b===void 0&&k>0;)b=u.c2p(A+k*w),k--;for(k=0;D===void 0&&k<S;)D=l.c2p(E+k*o),k++;for(k=S;N===void 0&&k>0;)N=l.c2p(E+k*o),k--;if(b<_&&(I=b,b=_,_=I),N<D&&(I=D,D=N,N=I),!d){var z=.5;_=Math.max(-z*u._length,_),b=Math.min((1+z)*u._length,b),D=Math.max(-z*l._length,D),N=Math.min((1+z)*l._length,N)}var F=Math.round(b-_),O=Math.round(N-D),B=F<=0||O<=0;if(B){var W=M.selectAll("image").data([]);W.exit().remove();return}function ee($){var j=document.createElement("canvas");j.width=F,j.height=O;var ue=j.getContext("2d",{willReadFrequently:!0}),ae=function(Ve){return L.constrain(Math.round(u.c2p(A+Ve*w)-_),0,F)},ce=function(Ve){return L.constrain(Math.round(l.c2p(E+Ve*o)-D),0,O)},ye=T.colormodel[i.colormodel],Ce=ye.colormodel||i.colormodel,Ae=ye.fmt,Ie;for(k=0;k<c.w;k++){var Te=ae(k),Le=ae(k+1);if(!(Le===Te||isNaN(Le)||isNaN(Te)))for(var xe=0;xe<c.h;xe++){var Re=ce(xe),He=ce(xe+1);He===Re||isNaN(He)||isNaN(Re)||!$(k,xe)||(Ie=i._scaler($(k,xe)),Ie?ue.fillStyle=Ce+"("+Ae(Ie).join(",")+")":ue.fillStyle="rgba(0,0,0,0)",ue.fillRect(Te,Re,Le-Te,He-Re))}}return j}var ne=M.selectAll("image").data([h]);ne.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),ne.exit().remove();var Q=i.zsmooth===!1?g:"";if(d){var le=L.simpleMap(u.range,u.r2l),Z=L.simpleMap(l.range,l.r2l),Y=le[1]<le[0],re=Z[1]>Z[0];if(Y||re){var X=_+F/2,q=D+O/2;Q+="transform:"+n(X+"px",q+"px")+"scale("+(Y?-1:1)+","+(re?-1:1)+")"+n(-X+"px",-q+"px")+";"}}ne.attr("style",Q);var se=new Promise(function($){if(i._hasZ)$();else if(i._hasSource)if(i._canvas&&i._canvas.el.width===y&&i._canvas.el.height===S&&i._canvas.source===i.source)$();else{var j=document.createElement("canvas");j.width=y,j.height=S;var ue=j.getContext("2d",{willReadFrequently:!0});i._image=i._image||new Image;var ae=i._image;ae.onload=function(){ue.drawImage(ae,0,0),i._canvas={el:j,source:i.source},$()},ae.setAttribute("src",i.source)}}).then(function(){var $,j;if(i._hasZ)j=ee(function(ce,ye){var Ce=x[ye][ce];return L.isTypedArray(Ce)&&(Ce=Array.from(Ce)),Ce}),$=j.toDataURL("image/png");else if(i._hasSource)if(d)$=i.source;else{var ue=i._canvas.el.getContext("2d",{willReadFrequently:!0}),ae=ue.getImageData(0,0,y,S).data;j=ee(function(ce,ye){var Ce=4*(ye*y+ce);return[ae[Ce],ae[Ce+1],ae[Ce+2],ae[Ce+3]]}),$=j.toDataURL("image/png")}ne.attr({"xlink:href":$,height:O,width:F,x:_,y:D})});t._promises.push(se)})}},28576:function(H,U,e){var p=e(33428);H.exports=function(n){p.select(n).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},89864:function(H,U,e){var p=e(92880).extendFlat,L=e(92880).extendDeep,n=e(67824).overrideAll,C=e(25376),T=e(22548),v=e(86968).u,g=e(94724),r=e(31780).templatedArray,t=e(48164),s=e(29736).descriptionOnlyNumbers,a=C({editType:"plot",colorEditType:"plot"}),f={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:T.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",L({},f,{range:u}));H.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:p({},a,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:s("value")},font:p({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:s("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:p({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:L({},f,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:n({range:u,visible:p({},g.visible,{dflt:!0}),tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:p({},g.ticks,{dflt:"outside"}),ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:C({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:p({},f.line.color,{}),width:p({},f.line.width,{dflt:1}),editType:"plot"},thickness:p({},f.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(H,U,e){var p=e(7316);U.name="indicator",U.plot=function(L,n,C,T){p.plotBasePlot(U.name,L,n,C,T)},U.clean=function(L,n,C,T){p.cleanBasePlot(U.name,L,n,C,T)}},79136:function(H){function U(e,p){var L=[],n=p.value;typeof p._lastValue!="number"&&(p._lastValue=p.value);var C=p._lastValue,T=C;return p._hasDelta&&typeof p.delta.reference=="number"&&(T=p.delta.reference),L[0]={y:n,lastY:C,delta:n-T,relativeDelta:(n-T)/T},L}H.exports={calc:U}},12096:function(H){H.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(H,U,e){var p=e(3400),L=e(89864),n=e(86968).Q,C=e(31780),T=e(51272),v=e(12096),g=e(26332),r=e(25404),t=e(95936),s=e(42568);function a(u,l,m,h){function M(N,k){return p.coerce(u,l,L,N,k)}n(l,h,M),M("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var c=M("value");l._range=[0,typeof c=="number"?1.5*c:1];var i=new Array(2),d;l._hasNumber&&(M("number.valueformat"),M("number.font.color",h.font.color),M("number.font.family",h.font.family),M("number.font.size"),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,i[0]=!0),M("number.prefix"),M("number.suffix"),d=l.number.font.size);var x;l._hasDelta&&(M("delta.font.color",h.font.color),M("delta.font.family",h.font.family),M("delta.font.size"),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||v.defaultNumberFontSize),i[1]=!0),M("delta.reference",l.value),M("delta.relative"),M("delta.valueformat",l.delta.relative?"2%":""),M("delta.increasing.symbol"),M("delta.increasing.color"),M("delta.decreasing.symbol"),M("delta.decreasing.color"),M("delta.position"),M("delta.prefix"),M("delta.suffix"),x=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||i[0])&&(!l._hasDelta||i[1])||!1,M("title.font.color",h.font.color),M("title.font.family",h.font.family),M("title.font.size",.25*(d||x||v.defaultNumberFontSize)),M("title.text");var A,E,y,S;function w(N,k){return p.coerce(A,E,L.gauge,N,k)}function o(N,k){return p.coerce(y,S,L.gauge.axis,N,k)}if(l._hasGauge){A=u.gauge,A||(A={}),E=C.newContainer(l,"gauge"),w("shape");var _=l._isBullet=l.gauge.shape==="bullet";_||M("title.align","center");var b=l._isAngular=l.gauge.shape==="angular";b||M("align","center"),w("bgcolor",h.paper_bgcolor),w("borderwidth"),w("bordercolor"),w("bar.color"),w("bar.line.color"),w("bar.line.width");var I=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);w("bar.thickness",I),T(A,E,{name:"steps",handleItemDefaults:f}),w("threshold.value"),w("threshold.thickness"),w("threshold.line.width"),w("threshold.line.color"),y={},A&&(y=A.axis||{}),S=C.newContainer(E,"axis"),o("visible"),l._range=o("range",l._range);var D={noAutotickangles:!0,outerTicks:!0};g(y,S,o,"linear"),s(y,S,o,"linear",D),t(y,S,o,"linear",D),r(y,S,o,D)}else M("title.align","center"),M("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function f(u,l){function m(h,M){return p.coerce(u,l,L.gauge.steps,h,M)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}H.exports={supplyDefaults:a}},43480:function(H,U,e){H.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(H,U,e){var p=e(33428),L=e(67756).qy,n=e(67756).Gz,C=e(3400),T=C.strScale,v=C.strTranslate,g=C.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),s=e(12096),a=e(72736),f=e(54460),u=e(28336),l=e(37668),m=e(94724),h=e(76308),M={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},i=/[yzafpnmkMGTPEZY]/;function d(D){return D&&D.duration>0}H.exports=function(N,k,z,F){var O=N._fullLayout,B;d(z)&&F&&(B=F()),C.makeTraceGroups(O._indicatorlayer,k,"trace").each(function(W){var ee=W[0],ne=ee.trace,Q=p.select(this),le=ne._hasGauge,Z=ne._isAngular,Y=ne._isBullet,re=ne.domain,X={w:O._size.w*(re.x[1]-re.x[0]),h:O._size.h*(re.y[1]-re.y[0]),l:O._size.l+O._size.w*re.x[0],r:O._size.r+O._size.w*(1-re.x[1]),t:O._size.t+O._size.h*(1-re.y[1]),b:O._size.b+O._size.h*re.y[0]},q=X.l+X.w/2,se=X.t+X.h/2,$=Math.min(X.w/2,X.h),j=s.innerRadius*$,ue,ae,ce,ye=ne.align||"center";if(ae=se,!le)ue=X.l+c[ye]*X.w,ce=function(Fe){return o(Fe,X.w,X.h)};else if(Z&&(ue=q,ae=se+$/2,ce=function(Fe){return _(Fe,.9*j)}),Y){var Ce=s.bulletPadding,Ae=1-s.bulletNumberDomainSize+Ce;ue=X.l+(Ae+(1-Ae)*c[ye])*X.w,ce=function(Fe){return o(Fe,(s.bulletNumberDomainSize-Ce)*X.w,X.h)}}E(N,Q,W,{numbersX:ue,numbersY:ae,numbersScaler:ce,transitionOpts:z,onComplete:B});var Ie,Te;le&&(Ie={range:ne.gauge.axis.range,color:ne.gauge.bgcolor,line:{color:ne.gauge.bordercolor,width:0},thickness:1},Te={range:ne.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ne.gauge.bordercolor,width:ne.gauge.borderwidth},thickness:1});var Le=Q.selectAll("g.angular").data(Z?W:[]);Le.exit().remove();var xe=Q.selectAll("g.angularaxis").data(Z?W:[]);xe.exit().remove(),Z&&A(N,Q,W,{radius:$,innerRadius:j,gauge:Le,layer:xe,size:X,gaugeBg:Ie,gaugeOutline:Te,transitionOpts:z,onComplete:B});var Re=Q.selectAll("g.bullet").data(Y?W:[]);Re.exit().remove();var He=Q.selectAll("g.bulletaxis").data(Y?W:[]);He.exit().remove(),Y&&x(N,Q,W,{gauge:Re,layer:He,size:X,gaugeBg:Ie,gaugeOutline:Te,transitionOpts:z,onComplete:B});var Ve=Q.selectAll("text.title").data(W);Ve.exit().remove(),Ve.enter().append("text").classed("title",!0),Ve.attr("text-anchor",function(){return Y?M.right:M[ne.title.align]}).text(ne.title.text).call(t.font,ne.title.font).call(a.convertToTspans,N),Ve.attr("transform",function(){var Fe=X.l+X.w*c[ne.title.align],We,ut=s.titlePadding,ht=t.bBox(Ve.node());if(le){if(Z)if(ne.gauge.axis.visible){var rt=t.bBox(xe.node());We=rt.top-ut-ht.bottom}else We=X.t+X.h/2-$/2-ht.bottom-ut;Y&&(We=ae-(ht.top+ht.bottom)/2,Fe=X.l-s.bulletPadding*X.w)}else We=ne._numbersTop-ut-ht.bottom;return v(Fe,We)})})};function x(D,N,k,z){var F=k[0].trace,O=z.gauge,B=z.layer,W=z.gaugeBg,ee=z.gaugeOutline,ne=z.size,Q=F.domain,le=z.transitionOpts,Z=z.onComplete,Y,re,X,q,se;O.enter().append("g").classed("bullet",!0),O.attr("transform",v(ne.l,ne.t)),B.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),B.selectAll("g.xbulletaxistick,path,text").remove();var $=ne.h,j=F.gauge.bar.thickness*$,ue=Q.x[0],ae=Q.x[0]+(Q.x[1]-Q.x[0])*(F._hasNumber||F._hasDelta?1-s.bulletNumberDomainSize:1);Y=w(D,F.gauge.axis),Y._id="xbulletaxis",Y.domain=[ue,ae],Y.setScale(),re=f.calcTicks(Y),X=f.makeTransTickFn(Y),q=f.getTickSigns(Y)[2],se=ne.t+ne.h,Y.visible&&(f.drawTicks(D,Y,{vals:Y.ticks==="inside"?f.clipEnds(Y,re):re,layer:B,path:f.makeTickPath(Y,se,q),transFn:X}),f.drawLabels(D,Y,{vals:re,layer:B,transFn:X,labelFns:f.makeLabelFns(Y,se)}));function ce(xe){xe.attr("width",function(Re){return Math.max(0,Y.c2p(Re.range[1])-Y.c2p(Re.range[0]))}).attr("x",function(Re){return Y.c2p(Re.range[0])}).attr("y",function(Re){return .5*(1-Re.thickness)*$}).attr("height",function(Re){return Re.thickness*$})}var ye=[W].concat(F.gauge.steps),Ce=O.selectAll("g.bg-bullet").data(ye);Ce.enter().append("g").classed("bg-bullet",!0).append("rect"),Ce.select("rect").call(ce).call(y),Ce.exit().remove();var Ae=O.selectAll("g.value-bullet").data([F.gauge.bar]);Ae.enter().append("g").classed("value-bullet",!0).append("rect"),Ae.select("rect").attr("height",j).attr("y",($-j)/2).call(y),d(le)?Ae.select("rect").transition().duration(le.duration).ease(le.easing).each("end",function(){Z&&Z()}).each("interrupt",function(){Z&&Z()}).attr("width",Math.max(0,Y.c2p(Math.min(F.gauge.axis.range[1],k[0].y)))):Ae.select("rect").attr("width",typeof k[0].y=="number"?Math.max(0,Y.c2p(Math.min(F.gauge.axis.range[1],k[0].y))):0),Ae.exit().remove();var Ie=k.filter(function(){return F.gauge.threshold.value||F.gauge.threshold.value===0}),Te=O.selectAll("g.threshold-bullet").data(Ie);Te.enter().append("g").classed("threshold-bullet",!0).append("line"),Te.select("line").attr("x1",Y.c2p(F.gauge.threshold.value)).attr("x2",Y.c2p(F.gauge.threshold.value)).attr("y1",(1-F.gauge.threshold.thickness)/2*$).attr("y2",(1-(1-F.gauge.threshold.thickness)/2)*$).call(h.stroke,F.gauge.threshold.line.color).style("stroke-width",F.gauge.threshold.line.width),Te.exit().remove();var Le=O.selectAll("g.gauge-outline").data([ee]);Le.enter().append("g").classed("gauge-outline",!0).append("rect"),Le.select("rect").call(ce).call(y),Le.exit().remove()}function A(D,N,k,z){var F=k[0].trace,O=z.size,B=z.radius,W=z.innerRadius,ee=z.gaugeBg,ne=z.gaugeOutline,Q=[O.l+O.w/2,O.t+O.h/2+B/2],le=z.gauge,Z=z.layer,Y=z.transitionOpts,re=z.onComplete,X=Math.PI/2;function q(tt){var vt=F.gauge.axis.range[0],pt=F.gauge.axis.range[1],mt=(tt-vt)/(pt-vt)*Math.PI-X;return mt<-X?-X:mt>X?X:mt}function se(tt){return p.svg.arc().innerRadius((W+B)/2-tt/2*(B-W)).outerRadius((W+B)/2+tt/2*(B-W)).startAngle(-X)}function $(tt){tt.attr("d",function(vt){return se(vt.thickness).startAngle(q(vt.range[0])).endAngle(q(vt.range[1]))()})}var j,ue,ae,ce;le.enter().append("g").classed("angular",!0),le.attr("transform",v(Q[0],Q[1])),Z.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Z.selectAll("g.xangularaxistick,path,text").remove(),j=w(D,F.gauge.axis),j.type="linear",j.range=F.gauge.axis.range,j._id="xangularaxis",j.ticklabeloverflow="allow",j.setScale();var ye=function(tt){return(j.range[0]-tt.x)/(j.range[1]-j.range[0])*Math.PI+Math.PI},Ce={},Ae=f.makeLabelFns(j,0),Ie=Ae.labelStandoff;Ce.xFn=function(tt){var vt=ye(tt);return Math.cos(vt)*Ie},Ce.yFn=function(tt){var vt=ye(tt),pt=Math.sin(vt)>0?.2:1;return-Math.sin(vt)*(Ie+tt.fontSize*pt)+Math.abs(Math.cos(vt))*(tt.fontSize*r)},Ce.anchorFn=function(tt){var vt=ye(tt),pt=Math.cos(vt);return Math.abs(pt)<.1?"middle":pt>0?"start":"end"},Ce.heightFn=function(tt,vt,pt){var mt=ye(tt);return-.5*(1+Math.sin(mt))*pt};var Te=function(tt){return v(Q[0]+B*Math.cos(tt),Q[1]-B*Math.sin(tt))};ae=function(tt){return Te(ye(tt))};var Le=function(tt){var vt=ye(tt);return Te(vt)+"rotate("+-g(vt)+")"};if(ue=f.calcTicks(j),ce=f.getTickSigns(j)[2],j.visible){ce=j.ticks==="inside"?-1:1;var xe=(j.linewidth||1)/2;f.drawTicks(D,j,{vals:ue,layer:Z,path:"M"+ce*xe+",0h"+ce*j.ticklen,transFn:Le}),f.drawLabels(D,j,{vals:ue,layer:Z,transFn:ae,labelFns:Ce})}var Re=[ee].concat(F.gauge.steps),He=le.selectAll("g.bg-arc").data(Re);He.enter().append("g").classed("bg-arc",!0).append("path"),He.select("path").call($).call(y),He.exit().remove();var Ve=se(F.gauge.bar.thickness),Fe=le.selectAll("g.value-arc").data([F.gauge.bar]);Fe.enter().append("g").classed("value-arc",!0).append("path");var We=Fe.select("path");d(Y)?(We.transition().duration(Y.duration).ease(Y.easing).each("end",function(){re&&re()}).each("interrupt",function(){re&&re()}).attrTween("d",S(Ve,q(k[0].lastY),q(k[0].y))),F._lastValue=k[0].y):We.attr("d",typeof k[0].y=="number"?Ve.endAngle(q(k[0].y)):"M0,0Z"),We.call(y),Fe.exit().remove(),Re=[];var ut=F.gauge.threshold.value;(ut||ut===0)&&Re.push({range:[ut,ut],color:F.gauge.threshold.color,line:{color:F.gauge.threshold.line.color,width:F.gauge.threshold.line.width},thickness:F.gauge.threshold.thickness});var ht=le.selectAll("g.threshold-arc").data(Re);ht.enter().append("g").classed("threshold-arc",!0).append("path"),ht.select("path").call($).call(y),ht.exit().remove();var rt=le.selectAll("g.gauge-outline").data([ne]);rt.enter().append("g").classed("gauge-outline",!0).append("path"),rt.select("path").call($).call(y),rt.exit().remove()}function E(D,N,k,z){var F=k[0].trace,O=z.numbersX,B=z.numbersY,W=F.align||"center",ee=M[W],ne=z.transitionOpts,Q=z.onComplete,le=C.ensureSingle(N,"g","numbers"),Z,Y,re,X=[];F._hasNumber&&X.push("number"),F._hasDelta&&(X.push("delta"),F.delta.position==="left"&&X.reverse());var q=le.selectAll("text").data(X);q.enter().append("text"),q.attr("text-anchor",function(){return ee}).attr("class",function(Te){return Te}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),q.exit().remove();function se(Te,Le,xe,Re){if(Te.match("s")&&xe>=0!=Re>=0&&!Le(xe).slice(-1).match(i)&&!Le(Re).slice(-1).match(i)){var He=Te.slice().replace("s","f").replace(/\d+/,function(Fe){return parseInt(Fe)-1}),Ve=w(D,{tickformat:He});return function(Fe){return Math.abs(Fe)<1?f.tickText(Ve,Fe).text:Le(Fe)}}else return Le}function $(){var Te=w(D,{tickformat:F.number.valueformat},F._range);Te.setScale(),f.prepTicks(Te);var Le=function(Fe){return f.tickText(Te,Fe).text},xe=F.number.suffix,Re=F.number.prefix,He=le.select("text.number");function Ve(){var Fe=typeof k[0].y=="number"?Re+Le(k[0].y)+xe:"-";He.text(Fe).call(t.font,F.number.font).call(a.convertToTspans,D)}return d(ne)?He.transition().duration(ne.duration).ease(ne.easing).each("end",function(){Ve(),Q&&Q()}).each("interrupt",function(){Ve(),Q&&Q()}).attrTween("text",function(){var Fe=p.select(this),We=n(k[0].lastY,k[0].y);F._lastValue=k[0].y;var ut=se(F.number.valueformat,Le,k[0].lastY,k[0].y);return function(ht){Fe.text(Re+ut(We(ht))+xe)}}):Ve(),Z=b(Re+Le(k[0].y)+xe,F.number.font,ee,D),He}function j(){var Te=w(D,{tickformat:F.delta.valueformat},F._range);Te.setScale(),f.prepTicks(Te);var Le=function(ht){return f.tickText(Te,ht).text},xe=F.delta.suffix,Re=F.delta.prefix,He=function(ht){var rt=F.delta.relative?ht.relativeDelta:ht.delta;return rt},Ve=function(ht,rt){return ht===0||typeof ht!="number"||isNaN(ht)?"-":(ht>0?F.delta.increasing.symbol:F.delta.decreasing.symbol)+Re+rt(ht)+xe},Fe=function(ht){return ht.delta>=0?F.delta.increasing.color:F.delta.decreasing.color};F._deltaLastValue===void 0&&(F._deltaLastValue=He(k[0]));var We=le.select("text.delta");We.call(t.font,F.delta.font).call(h.fill,Fe({delta:F._deltaLastValue}));function ut(){We.text(Ve(He(k[0]),Le)).call(h.fill,Fe(k[0])).call(a.convertToTspans,D)}return d(ne)?We.transition().duration(ne.duration).ease(ne.easing).tween("text",function(){var ht=p.select(this),rt=He(k[0]),tt=F._deltaLastValue,vt=se(F.delta.valueformat,Le,tt,rt),pt=n(tt,rt);return F._deltaLastValue=rt,function(mt){ht.text(Ve(pt(mt),vt)),ht.call(h.fill,Fe({delta:pt(mt)}))}}).each("end",function(){ut(),Q&&Q()}).each("interrupt",function(){ut(),Q&&Q()}):ut(),Y=b(Ve(He(k[0]),Le),F.delta.font,ee,D),We}var ue=F.mode+F.align,ae;if(F._hasDelta&&(ae=j(),ue+=F.delta.position+F.delta.font.size+F.delta.font.family+F.delta.valueformat,ue+=F.delta.increasing.symbol+F.delta.decreasing.symbol,re=Y),F._hasNumber&&($(),ue+=F.number.font.size+F.number.font.family+F.number.valueformat+F.number.suffix+F.number.prefix,re=Z),F._hasDelta&&F._hasNumber){var ce=[(Z.left+Z.right)/2,(Z.top+Z.bottom)/2],ye=[(Y.left+Y.right)/2,(Y.top+Y.bottom)/2],Ce,Ae,Ie=.75*F.delta.font.size;F.delta.position==="left"&&(Ce=I(F,"deltaPos",0,-1*(Z.width*c[F.align]+Y.width*(1-c[F.align])+Ie),ue,Math.min),Ae=ce[1]-ye[1],re={width:Z.width+Y.width+Ie,height:Math.max(Z.height,Y.height),left:Y.left+Ce,right:Z.right,top:Math.min(Z.top,Y.top+Ae),bottom:Math.max(Z.bottom,Y.bottom+Ae)}),F.delta.position==="right"&&(Ce=I(F,"deltaPos",0,Z.width*(1-c[F.align])+Y.width*c[F.align]+Ie,ue,Math.max),Ae=ce[1]-ye[1],re={width:Z.width+Y.width+Ie,height:Math.max(Z.height,Y.height),left:Z.left,right:Y.right+Ce,top:Math.min(Z.top,Y.top+Ae),bottom:Math.max(Z.bottom,Y.bottom+Ae)}),F.delta.position==="bottom"&&(Ce=null,Ae=Y.height,re={width:Math.max(Z.width,Y.width),height:Z.height+Y.height,left:Math.min(Z.left,Y.left),right:Math.max(Z.right,Y.right),top:Z.bottom-Z.height,bottom:Z.bottom+Y.height}),F.delta.position==="top"&&(Ce=null,Ae=Z.top,re={width:Math.max(Z.width,Y.width),height:Z.height+Y.height,left:Math.min(Z.left,Y.left),right:Math.max(Z.right,Y.right),top:Z.bottom-Z.height-Y.height,bottom:Z.bottom}),ae.attr({dx:Ce,dy:Ae})}(F._hasNumber||F._hasDelta)&&le.attr("transform",function(){var Te=z.numbersScaler(re);ue+=Te[2];var Le=I(F,"numbersScale",1,Te[0],ue,Math.min),xe;F._scaleNumbers||(Le=1),F._isAngular?xe=B-Le*re.bottom:xe=B-Le*(re.top+re.bottom)/2,F._numbersTop=Le*re.top+xe;var Re=re[W];W==="center"&&(Re=(re.left+re.right)/2);var He=O-Le*Re;return He=I(F,"numbersTranslate",0,He,ue,Math.max),v(He,xe)+T(Le)})}function y(D){D.each(function(N){h.stroke(p.select(this),N.line.color)}).each(function(N){h.fill(p.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function S(D,N,k){return function(){var z=L(N,k);return function(F){return D.endAngle(z(F))()}}}function w(D,N,k){var z=D._fullLayout,F=C.extendFlat({type:"linear",ticks:"outside",range:k,showline:!0},N),O={type:"linear",_id:"x"+N._id},B={letter:"x",font:z.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function W(ee,ne){return C.coerce(F,O,m,ee,ne)}return u(F,O,W,B,z),l(F,O,W,B),O}function o(D,N,k){var z=Math.min(N/D.width,k/D.height);return[z,D,N+"x"+k]}function _(D,N){var k=Math.sqrt(D.width/2*(D.width/2)+D.height*D.height),z=N/k;return[z,D,N]}function b(D,N,k,z){var F=document.createElementNS("http://www.w3.org/2000/svg","text"),O=p.select(F);return O.text(D).attr("x",0).attr("y",0).attr("text-anchor",k).attr("data-unformatted",D).call(a.convertToTspans,z).call(t.font,N),t.bBox(O.node())}function I(D,N,k,z,F,O){var B="_cache"+N;D[B]&&D[B].key===F||(D[B]={key:F,value:k});var W=C.aggNums(O,null,[D[B].value,z],2);return D[B].value=W,W}},50048:function(H,U,e){var p=e(49084),L=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(52948),T=e(45464),v=e(92880).extendFlat,g=e(67824).overrideAll;function r(a){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(a){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var s=H.exports=g(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:n(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),valuehoverformat:L("value",1),showlegend:v({},T.showlegend,{dflt:!1})},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:v({},T.hoverinfo)}),"calc","nested");s.flatshading.dflt=!0,s.lighting.facenormalsepsilon.dflt=0,s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},62624:function(H,U,e){var p=e(47128),L=e(3832).processGrid,n=e(3832).filter;H.exports=function(T,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=n(v.x,v._len),v._y=n(v.y,v._len),v._z=n(v.z,v._len),v._value=n(v.value,v._len);var g=L(v);v._gridFill=g.fill,v._Xs=g.Xs,v._Ys=g.Ys,v._Zs=g.Zs,v._len=g.len;for(var r=1/0,t=-1/0,s=0;s<v._len;s++){var a=v._value[s];r=Math.min(r,a),t=Math.max(t,a)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,p(T,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(H,U,e){var p=e(67792).gl_mesh3d,L=e(33040).parseColorScale,n=e(3400).isArrayOrTypedArray,C=e(43080),T=e(8932).extractOpts,v=e(52094),g=function(u,l){for(var m=l.length-1;m>0;m--){var h=Math.min(l[m],l[m-1]),M=Math.max(l[m],l[m-1]);if(M>h&&h<u&&u<=M)return{id:m,distRatio:(M-u)/(M-h)}}return{id:0,distRatio:0}};function r(u,l,m){this.scene=u,this.uid=m,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var l=u.data.index,m=this.data._meshX[l],h=this.data._meshY[l],M=this.data._meshZ[l],c=this.data._Ys.length,i=this.data._Zs.length,d=g(m,this.data._Xs).id,x=g(h,this.data._Ys).id,A=g(M,this.data._Zs).id,E=u.index=A+i*x+i*c*d;u.traceCoordinate=[this.data._meshX[E],this.data._meshY[E],this.data._meshZ[E],this.data._value[E]];var y=this.data.hovertext||this.data.text;return n(y)&&y[E]!==void 0?u.textLabel=y[E]:y&&(u.textLabel=y),!0}},t.update=function(u){var l=this.scene,m=l.fullSceneLayout;this.data=a(u);function h(x,A,E,y){return A.map(function(S){return x.d2l(S,0,y)*E})}var M=v(h(m.xaxis,u._meshX,l.dataScale[0],u.xcalendar),h(m.yaxis,u._meshY,l.dataScale[1],u.ycalendar),h(m.zaxis,u._meshZ,l.dataScale[2],u.zcalendar)),c=v(u._meshI,u._meshJ,u._meshK),i={positions:M,cells:c,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:C(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},d=T(u);i.vertexIntensity=u._meshIntensity,i.vertexIntensityBounds=[d.min,d.max],i.colormap=L(u),this.mesh.update(i)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var s=["xyz","xzy","yxz","yzx","zxy","zyx"];function a(u){u._meshI=[],u._meshJ=[],u._meshK=[];var l=u.surface.show,m=u.spaceframe.show,h=u.surface.fill,M=u.spaceframe.fill,c=!1,i=!1,d=0,x,A,E=u._Xs,y=u._Ys,S=u._Zs,w=E.length,o=y.length,_=S.length,b=s.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),I=function(Je,Ye,ke){switch(b){case 5:return ke+_*Ye+_*o*Je;case 4:return ke+_*Je+_*w*Ye;case 3:return Ye+o*ke+o*_*Je;case 2:return Ye+o*Je+o*w*ke;case 1:return Je+w*ke+w*_*Ye;default:return Je+w*Ye+w*o*ke}},D=u._minValues,N=u._maxValues,k=u._vMin,z=u._vMax,F,O,B,W;function ee(Je,Ye,ke){for(var be=W.length,me=A;me<be;me++)if(Je===F[me]&&Ye===O[me]&&ke===B[me])return me;return-1}function ne(){A=x}function Q(){F=[],O=[],B=[],W=[],x=0,ne()}function le(Je,Ye,ke,be){return F.push(Je),O.push(Ye),B.push(ke),W.push(be),x++,x-1}function Z(Je,Ye,ke){return u._meshI.push(Je),u._meshJ.push(Ye),u._meshK.push(ke),d++,d-1}function Y(Je,Ye,ke){for(var be=[],me=0;me<Je.length;me++)be[me]=(Je[me]+Ye[me]+ke[me])/3;return be}function re(Je,Ye,ke){for(var be=[],me=0;me<Je.length;me++)be[me]=Je[me]*(1-ke)+ke*Ye[me];return be}var X;function q(Je){X=Je}function se(Je,Ye){var ke=Je[0],be=Je[1],me=Je[2],_e=Y(ke,be,me),Ee=Math.sqrt(1-X),Be=re(_e,ke,Ee),je=re(_e,be,Ee),nt=re(_e,me,Ee),dt=Ye[0],xt=Ye[1],Kt=Ye[2];return{xyzv:[[ke,be,je],[je,Be,ke],[be,me,nt],[nt,je,be],[me,ke,Be],[Be,nt,me]],abc:[[dt,xt,-1],[-1,-1,dt],[xt,Kt,-1],[-1,-1,xt],[Kt,dt,-1],[-1,-1,Kt]]}}function $(Je,Ye){return Je==="all"||Je===null?!0:Je.indexOf(Ye)>-1}function j(Je,Ye){return Je===null?Ye:Je}function ue(Je,Ye,ke){ne();var be=[Ye],me=[ke];if(X>=1)be=[Ye],me=[ke];else if(X>0){var _e=se(Ye,ke);be=_e.xyzv,me=_e.abc}for(var Ee=0;Ee<be.length;Ee++){Ye=be[Ee],ke=me[Ee];for(var Be=[],je=0;je<3;je++){var nt=Ye[je][0],dt=Ye[je][1],xt=Ye[je][2],Kt=Ye[je][3],Jt=ke[je]>-1?ke[je]:ee(nt,dt,xt);Jt>-1?Be[je]=Jt:Be[je]=le(nt,dt,xt,j(Je,Kt))}Z(Be[0],Be[1],Be[2])}}function ae(Je,Ye,ke){var be=function(me,_e,Ee){ue(Je,[Ye[me],Ye[_e],Ye[Ee]],[ke[me],ke[_e],ke[Ee]])};be(0,1,2),be(2,3,0)}function ce(Je,Ye,ke){var be=function(me,_e,Ee){ue(Je,[Ye[me],Ye[_e],Ye[Ee]],[ke[me],ke[_e],ke[Ee]])};be(0,1,2),be(3,0,1),be(2,3,0),be(1,2,3)}function ye(Je,Ye,ke,be){var me=Je[3];me<ke&&(me=ke),me>be&&(me=be);for(var _e=(Je[3]-me)/(Je[3]-Ye[3]+1e-9),Ee=[],Be=0;Be<4;Be++)Ee[Be]=(1-_e)*Je[Be]+_e*Ye[Be];return Ee}function Ce(Je,Ye,ke){return Je>=Ye&&Je<=ke}function Ae(Je){var Ye=.001*(z-k);return Je>=k-Ye&&Je<=z+Ye}function Ie(Je){for(var Ye=[],ke=0;ke<4;ke++){var be=Je[ke];Ye.push([u._x[be],u._y[be],u._z[be],u._value[be]])}return Ye}var Te=3;function Le(Je,Ye,ke,be,me,_e){_e||(_e=1),ke=[-1,-1,-1];var Ee=!1,Be=[Ce(Ye[0][3],be,me),Ce(Ye[1][3],be,me),Ce(Ye[2][3],be,me)];if(!Be[0]&&!Be[1]&&!Be[2])return!1;var je=function(dt,xt,Kt){return Ae(xt[0][3])&&Ae(xt[1][3])&&Ae(xt[2][3])?(ue(dt,xt,Kt),!0):_e<Te?Le(dt,xt,Kt,k,z,++_e):!1};if(Be[0]&&Be[1]&&Be[2])return je(Je,Ye,ke)||Ee;var nt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(dt){if(Be[dt[0]]&&Be[dt[1]]&&!Be[dt[2]]){var xt=Ye[dt[0]],Kt=Ye[dt[1]],Jt=Ye[dt[2]],St=ye(Jt,xt,be,me),Ft=ye(Jt,Kt,be,me);Ee=je(Je,[Ft,St,xt],[-1,-1,ke[dt[0]]])||Ee,Ee=je(Je,[xt,Kt,Ft],[ke[dt[0]],ke[dt[1]],-1])||Ee,nt=!0}}),nt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(dt){if(Be[dt[0]]&&!Be[dt[1]]&&!Be[dt[2]]){var xt=Ye[dt[0]],Kt=Ye[dt[1]],Jt=Ye[dt[2]],St=ye(Kt,xt,be,me),Ft=ye(Jt,xt,be,me);Ee=je(Je,[Ft,St,xt],[-1,-1,ke[dt[0]]])||Ee,nt=!0}}),Ee}function xe(Je,Ye,ke,be){var me=!1,_e=Ie(Ye),Ee=[Ce(_e[0][3],ke,be),Ce(_e[1][3],ke,be),Ce(_e[2][3],ke,be),Ce(_e[3][3],ke,be)];if(!Ee[0]&&!Ee[1]&&!Ee[2]&&!Ee[3])return me;if(Ee[0]&&Ee[1]&&Ee[2]&&Ee[3])return i&&(me=ce(Je,_e,Ye)||me),me;var Be=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(je){if(Ee[je[0]]&&Ee[je[1]]&&Ee[je[2]]&&!Ee[je[3]]){var nt=_e[je[0]],dt=_e[je[1]],xt=_e[je[2]],Kt=_e[je[3]];if(i)me=ue(Je,[nt,dt,xt],[Ye[je[0]],Ye[je[1]],Ye[je[2]]])||me;else{var Jt=ye(Kt,nt,ke,be),St=ye(Kt,dt,ke,be),Ft=ye(Kt,xt,ke,be);me=ue(null,[Jt,St,Ft],[-1,-1,-1])||me}Be=!0}}),Be||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(je){if(Ee[je[0]]&&Ee[je[1]]&&!Ee[je[2]]&&!Ee[je[3]]){var nt=_e[je[0]],dt=_e[je[1]],xt=_e[je[2]],Kt=_e[je[3]],Jt=ye(xt,nt,ke,be),St=ye(xt,dt,ke,be),Ft=ye(Kt,dt,ke,be),rr=ye(Kt,nt,ke,be);i?(me=ue(Je,[nt,rr,Jt],[Ye[je[0]],-1,-1])||me,me=ue(Je,[dt,St,Ft],[Ye[je[1]],-1,-1])||me):me=ae(null,[Jt,St,Ft,rr],[-1,-1,-1,-1])||me,Be=!0}}),Be)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(je){if(Ee[je[0]]&&!Ee[je[1]]&&!Ee[je[2]]&&!Ee[je[3]]){var nt=_e[je[0]],dt=_e[je[1]],xt=_e[je[2]],Kt=_e[je[3]],Jt=ye(dt,nt,ke,be),St=ye(xt,nt,ke,be),Ft=ye(Kt,nt,ke,be);i?(me=ue(Je,[nt,Jt,St],[Ye[je[0]],-1,-1])||me,me=ue(Je,[nt,St,Ft],[Ye[je[0]],-1,-1])||me,me=ue(Je,[nt,Ft,Jt],[Ye[je[0]],-1,-1])||me):me=ue(null,[Jt,St,Ft],[-1,-1,-1])||me,Be=!0}}),me}function Re(Je,Ye,ke,be,me,_e,Ee,Be,je,nt,dt){var xt=!1;return c&&($(Je,"A")&&(xt=xe(null,[Ye,ke,be,_e],nt,dt)||xt),$(Je,"B")&&(xt=xe(null,[ke,be,me,je],nt,dt)||xt),$(Je,"C")&&(xt=xe(null,[ke,_e,Ee,je],nt,dt)||xt),$(Je,"D")&&(xt=xe(null,[be,_e,Be,je],nt,dt)||xt),$(Je,"E")&&(xt=xe(null,[ke,be,_e,je],nt,dt)||xt)),i&&(xt=xe(Je,[ke,be,_e,je],nt,dt)||xt),xt}function He(Je,Ye,ke,be,me,_e,Ee,Be){return[Be[0]===!0?!0:Le(Je,Ie([Ye,ke,be]),[Ye,ke,be],_e,Ee),Be[1]===!0?!0:Le(Je,Ie([be,me,Ye]),[be,me,Ye],_e,Ee)]}function Ve(Je,Ye,ke,be,me,_e,Ee,Be,je){return Be?He(Je,Ye,ke,me,be,_e,Ee,je):He(Je,ke,me,be,Ye,_e,Ee,je)}function Fe(Je,Ye,ke,be,me,_e,Ee){var Be=!1,je,nt,dt,xt,Kt=function(){Be=Le(Je,[je,nt,dt],[-1,-1,-1],me,_e)||Be,Be=Le(Je,[dt,xt,je],[-1,-1,-1],me,_e)||Be},Jt=Ee[0],St=Ee[1],Ft=Ee[2];return Jt&&(je=re(Ie([I(Ye,ke-0,be-0)])[0],Ie([I(Ye-1,ke-0,be-0)])[0],Jt),nt=re(Ie([I(Ye,ke-0,be-1)])[0],Ie([I(Ye-1,ke-0,be-1)])[0],Jt),dt=re(Ie([I(Ye,ke-1,be-1)])[0],Ie([I(Ye-1,ke-1,be-1)])[0],Jt),xt=re(Ie([I(Ye,ke-1,be-0)])[0],Ie([I(Ye-1,ke-1,be-0)])[0],Jt),Kt()),St&&(je=re(Ie([I(Ye-0,ke,be-0)])[0],Ie([I(Ye-0,ke-1,be-0)])[0],St),nt=re(Ie([I(Ye-0,ke,be-1)])[0],Ie([I(Ye-0,ke-1,be-1)])[0],St),dt=re(Ie([I(Ye-1,ke,be-1)])[0],Ie([I(Ye-1,ke-1,be-1)])[0],St),xt=re(Ie([I(Ye-1,ke,be-0)])[0],Ie([I(Ye-1,ke-1,be-0)])[0],St),Kt()),Ft&&(je=re(Ie([I(Ye-0,ke-0,be)])[0],Ie([I(Ye-0,ke-0,be-1)])[0],Ft),nt=re(Ie([I(Ye-0,ke-1,be)])[0],Ie([I(Ye-0,ke-1,be-1)])[0],Ft),dt=re(Ie([I(Ye-1,ke-1,be)])[0],Ie([I(Ye-1,ke-1,be-1)])[0],Ft),xt=re(Ie([I(Ye-1,ke-0,be)])[0],Ie([I(Ye-1,ke-0,be-1)])[0],Ft),Kt()),Be}function We(Je,Ye,ke,be,me,_e,Ee,Be,je,nt,dt,xt){var Kt=Je;return xt?(c&&Je==="even"&&(Kt=null),Re(Kt,Ye,ke,be,me,_e,Ee,Be,je,nt,dt)):(c&&Je==="odd"&&(Kt=null),Re(Kt,je,Be,Ee,_e,me,be,ke,Ye,nt,dt))}function ut(Je,Ye,ke,be,me){for(var _e=[],Ee=0,Be=0;Be<Ye.length;Be++)for(var je=Ye[Be],nt=1;nt<_;nt++)for(var dt=1;dt<o;dt++)_e.push(Ve(Je,I(je,dt-1,nt-1),I(je,dt-1,nt),I(je,dt,nt-1),I(je,dt,nt),ke,be,(je+dt+nt)%2,me&&me[Ee]?me[Ee]:[])),Ee++;return _e}function ht(Je,Ye,ke,be,me){for(var _e=[],Ee=0,Be=0;Be<Ye.length;Be++)for(var je=Ye[Be],nt=1;nt<w;nt++)for(var dt=1;dt<_;dt++)_e.push(Ve(Je,I(nt-1,je,dt-1),I(nt,je,dt-1),I(nt-1,je,dt),I(nt,je,dt),ke,be,(nt+je+dt)%2,me&&me[Ee]?me[Ee]:[])),Ee++;return _e}function rt(Je,Ye,ke,be,me){for(var _e=[],Ee=0,Be=0;Be<Ye.length;Be++)for(var je=Ye[Be],nt=1;nt<o;nt++)for(var dt=1;dt<w;dt++)_e.push(Ve(Je,I(dt-1,nt-1,je),I(dt-1,nt,je),I(dt,nt-1,je),I(dt,nt,je),ke,be,(dt+nt+je)%2,me&&me[Ee]?me[Ee]:[])),Ee++;return _e}function tt(Je,Ye,ke){for(var be=1;be<_;be++)for(var me=1;me<o;me++)for(var _e=1;_e<w;_e++)We(Je,I(_e-1,me-1,be-1),I(_e-1,me-1,be),I(_e-1,me,be-1),I(_e-1,me,be),I(_e,me-1,be-1),I(_e,me-1,be),I(_e,me,be-1),I(_e,me,be),Ye,ke,(_e+me+be)%2)}function vt(Je,Ye,ke){i=!0,tt(Je,Ye,ke),i=!1}function pt(Je,Ye,ke){c=!0,tt(Je,Ye,ke),c=!1}function mt(Je,Ye,ke,be,me,_e){for(var Ee=[],Be=0,je=0;je<Ye.length;je++)for(var nt=Ye[je],dt=1;dt<_;dt++)for(var xt=1;xt<o;xt++)Ee.push(Fe(Je,nt,xt,dt,ke,be,me[je],_e&&_e[Be]?_e[Be]:[])),Be++;return Ee}function wt(Je,Ye,ke,be,me,_e){for(var Ee=[],Be=0,je=0;je<Ye.length;je++)for(var nt=Ye[je],dt=1;dt<w;dt++)for(var xt=1;xt<_;xt++)Ee.push(Fe(Je,dt,nt,xt,ke,be,me[je],_e&&_e[Be]?_e[Be]:[])),Be++;return Ee}function Lt(Je,Ye,ke,be,me,_e){for(var Ee=[],Be=0,je=0;je<Ye.length;je++)for(var nt=Ye[je],dt=1;dt<o;dt++)for(var xt=1;xt<w;xt++)Ee.push(Fe(Je,xt,dt,nt,ke,be,me[je],_e&&_e[Be]?_e[Be]:[])),Be++;return Ee}function at(Je,Ye){for(var ke=[],be=Je;be<Ye;be++)ke.push(be);return ke}function Oe(){for(var Je=0;Je<w;Je++)for(var Ye=0;Ye<o;Ye++)for(var ke=0;ke<_;ke++){var be=I(Je,Ye,ke);le(u._x[be],u._y[be],u._z[be],u._value[be])}}function Ze(){Q(),Oe();var Je=null;if(m&&M&&(q(M),vt(Je,k,z)),l&&h){q(h);for(var Ye=u.surface.pattern,ke=u.surface.count,be=0;be<ke;be++){var me=ke===1?.5:be/(ke-1),_e=(1-me)*k+me*z,Ee=Math.abs(_e-D),Be=Math.abs(_e-N),je=Ee>Be?[D,_e]:[_e,N];pt(Ye,je[0],je[1])}}var nt=[[Math.min(k,N),Math.max(k,N)],[Math.min(D,z),Math.max(D,z)]];["x","y","z"].forEach(function(dt){for(var xt=[],Kt=0;Kt<nt.length;Kt++){var Jt=0,St=nt[Kt][0],Ft=nt[Kt][1],rr=u.slices[dt];if(rr.show&&rr.fill){q(rr.fill);var _r=[],Tt=[],$t=[];if(rr.locations.length)for(var tr=0;tr<rr.locations.length;tr++){var Tr=g(rr.locations[tr],dt==="x"?E:dt==="y"?y:S);Tr.distRatio===0?_r.push(Tr.id):Tr.id>0&&(Tt.push(Tr.id),dt==="x"?$t.push([Tr.distRatio,0,0]):dt==="y"?$t.push([0,Tr.distRatio,0]):$t.push([0,0,Tr.distRatio]))}else dt==="x"?_r=at(1,w-1):dt==="y"?_r=at(1,o-1):_r=at(1,_-1);Tt.length>0&&(dt==="x"?xt[Jt]=mt(Je,Tt,St,Ft,$t,xt[Jt]):dt==="y"?xt[Jt]=wt(Je,Tt,St,Ft,$t,xt[Jt]):xt[Jt]=Lt(Je,Tt,St,Ft,$t,xt[Jt]),Jt++),_r.length>0&&(dt==="x"?xt[Jt]=ut(Je,_r,St,Ft,xt[Jt]):dt==="y"?xt[Jt]=ht(Je,_r,St,Ft,xt[Jt]):xt[Jt]=rt(Je,_r,St,Ft,xt[Jt]),Jt++)}var cr=u.caps[dt];cr.show&&cr.fill&&(q(cr.fill),dt==="x"?xt[Jt]=ut(Je,[0,w-1],St,Ft,xt[Jt]):dt==="y"?xt[Jt]=ht(Je,[0,o-1],St,Ft,xt[Jt]):xt[Jt]=rt(Je,[0,_-1],St,Ft,xt[Jt]),Jt++)}}),d===0&&Q(),u._meshX=F,u._meshY=O,u._meshZ=B,u._meshIntensity=W,u._Xs=E,u._Ys=y,u._Zs=S}return Ze(),u}function f(u,l){var m=u.glplot.gl,h=p({gl:m}),M=new r(u,h,l.uid);return h._trace=M,M.update(l),u.glplot.add(h),M}H.exports={findNearestOnAxis:g,generateIsoMeshes:a,createIsosurfaceTrace:f}},70548:function(H,U,e){var p=e(3400),L=e(24040),n=e(50048),C=e(27260);function T(g,r,t,s){function a(f,u){return p.coerce(g,r,n,f,u)}v(g,r,t,s,a)}function v(g,r,t,s,a){var f=a("isomin"),u=a("isomax");u!=null&&f!==void 0&&f!==null&&f>u&&(r.isomin=null,r.isomax=null);var l=a("x"),m=a("y"),h=a("z"),M=a("value");if(!l||!l.length||!m||!m.length||!h||!h.length||!M||!M.length){r.visible=!1;return}var c=L.getComponentMethod("calendars","handleTraceDefaults");c(g,r,["x","y","z"],s),a("valuehoverformat"),["x","y","z"].forEach(function(A){a(A+"hoverformat");var E="caps."+A,y=a(E+".show");y&&a(E+".fill");var S="slices."+A,w=a(S+".show");w&&(a(S+".fill"),a(S+".locations"))});var i=a("spaceframe.show");i&&a("spaceframe.fill");var d=a("surface.show");d&&(a("surface.count"),a("surface.fill"),a("surface.pattern"));var x=a("contour.show");x&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(A){a(A)}),C(g,r,s,a,{prefix:"",cLetter:"c"}),r._length=null}H.exports={supplyDefaults:T,supplyIsoDefaults:v}},6296:function(H,U,e){H.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(H,U,e){var p=e(49084),L=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(16716),T=e(45464),v=e(92880).extendFlat;H.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"}),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},p("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:v({},C.lightposition.x,{dflt:1e5}),y:v({},C.lightposition.y,{dflt:1e5}),z:v({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:v({},T.hoverinfo,{editType:"calc"}),showlegend:v({},T.showlegend,{dflt:!1})})},1876:function(H,U,e){var p=e(47128);H.exports=function(n,C){C.intensity&&p(n,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},576:function(H,U,e){var p=e(67792).gl_mesh3d,L=e(67792).delaunay_triangulate,n=e(67792).alpha_shape,C=e(67792).convex_hull,T=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,g=e(43080),r=e(8932).extractOpts,t=e(52094);function s(c,i,d){this.scene=c,this.uid=d,this.mesh=i,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var a=s.prototype;a.handlePick=function(c){if(c.object===this.mesh){var i=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[i],this.data.y[i],this.data.z[i]];var d=this.data.hovertext||this.data.text;return v(d)&&d[i]!==void 0?c.textLabel=d[i]:d&&(c.textLabel=d),!0}};function f(c){for(var i=[],d=c.length,x=0;x<d;x++)i[x]=g(c[x]);return i}function u(c,i,d,x){for(var A=[],E=i.length,y=0;y<E;y++)A[y]=c.d2l(i[y],0,x)*d;return A}function l(c){for(var i=[],d=c.length,x=0;x<d;x++)i[x]=Math.round(c[x]);return i}function m(c,i){for(var d=["x","y","z"].indexOf(c),x=[],A=i.length,E=0;E<A;E++)x[E]=[i[E][(d+1)%3],i[E][(d+2)%3]];return L(x)}function h(c,i){for(var d=c.length,x=0;x<d;x++)if(c[x]<=-.5||c[x]>=i-.5)return!1;return!0}a.update=function(c){var i=this.scene,d=i.fullSceneLayout;this.data=c;var x=c.x.length,A=t(u(d.xaxis,c.x,i.dataScale[0],c.xcalendar),u(d.yaxis,c.y,i.dataScale[1],c.ycalendar),u(d.zaxis,c.z,i.dataScale[2],c.zcalendar)),E;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,x)||!h(c.j,x)||!h(c.k,x))return;E=t(l(c.i),l(c.j),l(c.k))}else c.alphahull===0?E=C(A):c.alphahull>0?E=n(c.alphahull,A):E=m(c.delaunayaxis,A);var y={positions:A,cells:E,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:g(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var S=r(c);this.color="#fff";var w=c.intensitymode;y[w+"Intensity"]=c.intensity,y[w+"IntensityBounds"]=[S.min,S.max],y.colormap=T(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],y.vertexColors=f(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],y.cellColors=f(c.facecolor)):(this.color=c.color,y.meshColor=g(c.color));this.mesh.update(y)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function M(c,i){var d=c.glplot.gl,x=p({gl:d}),A=new s(c,x,i.uid);return x._trace=A,A.update(i),c.glplot.add(x),A}H.exports=M},74212:function(H,U,e){var p=e(24040),L=e(3400),n=e(27260),C=e(52948);H.exports=function(v,g,r,t){function s(m,h){return L.coerce(v,g,C,m,h)}function a(m){var h=m.map(function(M){var c=s(M);return c&&L.isArrayOrTypedArray(c)?c:null});return h.every(function(M){return M&&M.length===h[0].length})&&h}var f=a(["x","y","z"]);if(!f){g.visible=!1;return}if(a(["i","j","k"]),g.i&&(!g.j||!g.k)||g.j&&(!g.k||!g.i)||g.k&&(!g.i||!g.j)){g.visible=!1;return}var u=p.getComponentMethod("calendars","handleTraceDefaults");u(v,g,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){s(m)});var l=s("contour.show");l&&(s("contour.color"),s("contour.width")),"intensity"in v?(s("intensity"),s("intensitymode"),n(v,g,t,s,{prefix:"",cLetter:"c"})):(g.showscale=!1,"facecolor"in v?s("facecolor"):"vertexcolor"in v?s("vertexcolor"):s("color",r)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),g._length=null}},7404:function(H,U,e){H.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(H,U,e){var p=e(3400).extendFlat,L=e(52904),n=e(29736).axisHoverFormat,C=e(98192).u,T=e(55756),v=e(48164),g=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=L.line;function s(a){return{line:{color:p({},t.color,{dflt:a}),width:t.width,dash:C,editType:"style"},editType:"style"}}H.exports={xperiod:L.xperiod,xperiod0:L.xperiod0,xperiodalignment:L.xperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:p({},t.width,{}),dash:p({},C,{}),editType:"style"},increasing:s(g),decreasing:s(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:p({},T.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},42812:function(H,U,e){var p=e(3400),L=p._,n=e(54460),C=e(1220),T=e(39032).BADNUM;function v(s,a){var f=n.getFromId(s,a.xaxis),u=n.getFromId(s,a.yaxis),l=t(s,f,a),m=a._minDiff;a._minDiff=null;var h=a._origX;a._origX=null;var M=a._xcalc;a._xcalc=null;var c=r(s,a,h,M,u,g);return a._extremes[f._id]=n.findExtremes(f,M,{vpad:m/2}),c.length?(p.extendFlat(c[0].t,{wHover:m/2,tickLen:l}),c):[{t:{empty:!0}}]}function g(s,a,f,u){return{o:s,h:a,l:f,c:u}}function r(s,a,f,u,l,m){for(var h=l.makeCalcdata(a,"open"),M=l.makeCalcdata(a,"high"),c=l.makeCalcdata(a,"low"),i=l.makeCalcdata(a,"close"),d=p.isArrayOrTypedArray(a.text),x=p.isArrayOrTypedArray(a.hovertext),A=!0,E=null,y=!!a.xperiodalignment,S=[],w=0;w<u.length;w++){var o=u[w],_=h[w],b=M[w],I=c[w],D=i[w];if(o!==T&&_!==T&&b!==T&&I!==T&&D!==T){D===_?E!==null&&D!==E&&(A=D>E):A=D>_,E=D;var N=m(_,b,I,D);N.pos=o,N.yc=(_+D)/2,N.i=w,N.dir=A?"increasing":"decreasing",N.x=N.pos,N.y=[I,b],y&&(N.orig_p=f[w]),d&&(N.tx=a.text[w]),x&&(N.htx=a.hovertext[w]),S.push(N)}else S.push({pos:o,empty:!0})}return a._extremes[l._id]=n.findExtremes(l,p.concat(c,M),{padded:!0}),S.length&&(S[0].t={labels:{open:L(s,"open:")+" ",high:L(s,"high:")+" ",low:L(s,"low:")+" ",close:L(s,"close:")+" "}}),S}function t(s,a,f){var u=f._minDiff;if(!u){var l=s._fullData,m=[];u=1/0;var h;for(h=0;h<l.length;h++){var M=l[h];if(M.type==="ohlc"&&M.visible===!0&&M.xaxis===a._id){m.push(M);var c=a.makeCalcdata(M,"x");M._origX=c;var i=C(f,a,"x",c).vals;M._xcalc=i;var d=p.distinctVals(i).minDiff;d&&isFinite(d)&&(u=Math.min(u,d))}}for(u===1/0&&(u=1),h=0;h<m.length;h++)m[h]._minDiff=u}return u*f.tickwidth}H.exports={calc:v,calcCommon:r}},23860:function(H,U,e){var p=e(3400),L=e(52744),n=e(31147),C=e(20279);H.exports=function(g,r,t,s){function a(u,l){return p.coerce(g,r,C,u,l)}var f=L(g,r,a,s);if(!f){r.visible=!1;return}n(g,r,s,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),T(g,r,a,"increasing"),T(g,r,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),s._requestRangeslider[r.xaxis]=!0};function T(v,g,r,t){r(t+".line.color"),r(t+".line.width",g.line.width),r(t+".line.dash",g.line.dash)}},18720:function(H,U,e){var p=e(54460),L=e(3400),n=e(93024),C=e(76308),T=e(3400).fillText,v=e(48164),g={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(f,u,l,m){var h=f.cd,M=h[0].trace;return M.hoverlabel.split?s(f,u,l,m):a(f,u,l,m)}function t(f,u,l,m){var h=f.cd,M=f.xa,c=h[0].trace,i=h[0].t,d=c.type,x=d==="ohlc"?"l":"min",A=d==="ohlc"?"h":"max",E,y,S=i.bPos||0,w=function(W){return W.pos+S-u},o=i.bdPos||i.tickLen,_=i.wHover,b=Math.min(1,o/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));E=f.maxHoverDistance-b,y=f.maxSpikeDistance-b;function I(W){var ee=w(W);return n.inbox(ee-_,ee+_,E)}function D(W){var ee=W[x],ne=W[A];return ee===ne||n.inbox(ee-l,ne-l,E)}function N(W){return(I(W)+D(W))/2}var k=n.getDistanceFunction(m,I,D,N);if(n.getClosest(h,k,f),f.index===!1)return null;var z=h[f.index];if(z.empty)return null;var F=z.dir,O=c[F],B=O.line.color;return C.opacity(B)&&O.line.width?f.color=B:f.color=O.fillcolor,f.x0=M.c2p(z.pos+S-o,!0),f.x1=M.c2p(z.pos+S+o,!0),f.xLabelVal=z.orig_p!==void 0?z.orig_p:z.pos,f.spikeDistance=N(z)*y/E,f.xSpike=M.c2p(z.pos,!0),f}function s(f,u,l,m){var h=f.cd,M=f.ya,c=h[0].trace,i=h[0].t,d=[],x=t(f,u,l,m);if(!x)return[];var A=x.index,E=h[A],y=E.hi||c.hoverinfo,S=y.split("+"),w=y==="all",o=w||S.indexOf("y")!==-1;if(!o)return[];for(var _=["high","open","close","low"],b={},I=0;I<_.length;I++){var D=_[I],N=c[D][x.index],k=M.c2p(N,!0),z;N in b?(z=b[N],z.yLabel+="<br>"+i.labels[D]+p.hoverLabelText(M,N,c.yhoverformat)):(z=L.extendFlat({},x),z.y0=z.y1=k,z.yLabelVal=N,z.yLabel=i.labels[D]+p.hoverLabelText(M,N,c.yhoverformat),z.name="",d.push(z),b[N]=z)}return d}function a(f,u,l,m){var h=f.cd,M=f.ya,c=h[0].trace,i=h[0].t,d=t(f,u,l,m);if(!d)return[];var x=d.index,A=h[x],E=d.index=A.i,y=A.dir;function S(N){return i.labels[N]+p.hoverLabelText(M,c[N][E],c.yhoverformat)}var w=A.hi||c.hoverinfo,o=w.split("+"),_=w==="all",b=_||o.indexOf("y")!==-1,I=_||o.indexOf("text")!==-1,D=b?[S("open"),S("high"),S("low"),S("close")+"  "+g[y]]:[];return I&&T(A,c,D),d.extraText=D.join("<br>"),d.y0=d.y1=M.c2p(A.yc,!0),[d]}H.exports={hoverPoints:r,hoverSplit:s,hoverOnPoints:a}},65456:function(H,U,e){H.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(H,U,e){var p=e(24040),L=e(3400);H.exports=function(C,T,v,g){var r=v("x"),t=v("open"),s=v("high"),a=v("low"),f=v("close");v("hoverlabel.split");var u=p.getComponentMethod("calendars","handleTraceDefaults");if(u(C,T,["x"],g),!!(t&&s&&a&&f)){var l=Math.min(t.length,s.length,a.length,f.length);return r&&(l=Math.min(l,L.minRowLength(r))),T._length=l,l}}},36664:function(H,U,e){var p=e(33428),L=e(3400);H.exports=function(C,T,v,g){var r=T.yaxis,t=T.xaxis,s=!!t.rangebreaks;L.makeTraceGroups(g,v,"trace ohlc").each(function(a){var f=p.select(this),u=a[0],l=u.t,m=u.trace;if(m.visible!==!0||l.empty){f.remove();return}var h=l.tickLen,M=f.selectAll("path").data(L.identity);M.enter().append("path"),M.exit().remove(),M.attr("d",function(c){if(c.empty)return"M0,0Z";var i=t.c2p(c.pos-h,!0),d=t.c2p(c.pos+h,!0),x=s?(i+d)/2:t.c2p(c.pos,!0),A=r.c2p(c.o,!0),E=r.c2p(c.h,!0),y=r.c2p(c.l,!0),S=r.c2p(c.c,!0);return"M"+i+","+A+"H"+x+"M"+x+","+E+"V"+y+"M"+d+","+S+"H"+x})})}},97384:function(H){H.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,T=[],v,g=L[0].t.bPos||0;if(p===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++){var r=L[v];p.contains([n.c2p(r.pos+g),C.c2p(r.yc)],null,r.i,e)?(T.push({pointNumber:r.i,x:n.c2d(r.pos),y:C.c2d(r.yc)}),r.selected=1):r.selected=0}return T}},14008:function(H,U,e){var p=e(33428),L=e(43616),n=e(76308);H.exports=function(T,v,g){var r=g||p.select(T).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var s=t[0].trace;p.select(this).selectAll("path").each(function(a){if(!a.empty){var f=s[a.dir].line;p.select(this).style("fill","none").call(n.stroke,f.color).call(L.dashLine,f.dash,f.width).style("opacity",s.selectedpoints&&!a.selected?.3:1)}})})}},72140:function(H,U,e){var p=e(92880).extendFlat,L=e(45464),n=e(25376),C=e(49084),T=e(21776).Ks,v=e(86968).u,g=p({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});H.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:p({},L.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:n({editType:"calc"}),tickfont:n({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:g,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(H,U,e){var p=e(84888)._M,L=e(60268),n="parcats";U.name=n,U.plot=function(C,T,v,g){var r=p(C.calcdata,n);if(r.length){var t=r[0];L(C,t,v,g)}},U.clean=function(C,T,v,g){var r=g._has&&g._has("parcats"),t=T._has&&T._has("parcats");r&&!t&&g._paperdiv.selectAll(".parcats").remove()}},69136:function(H,U,e){var p=e(71688).wrap,L=e(94288).hasColorscale,n=e(47128),C=e(68944),T=e(43616),v=e(3400),g=e(38248);H.exports=function(i,d){var x=v.filterVisible(d.dimensions);if(x.length===0)return[];var A=x.map(function(Z){var Y;if(Z.categoryorder==="trace")Y=null;else if(Z.categoryorder==="array")Y=Z.categoryarray;else{Y=C(Z.values);for(var re=!0,X=0;X<Y.length;X++)if(!g(Y[X])){re=!1;break}Y.sort(re?v.sorterAsc:void 0),Z.categoryorder==="category descending"&&(Y=Y.reverse())}return l(Z.values,Y)}),E,y,S;v.isArrayOrTypedArray(d.counts)?E=d.counts:E=[d.counts],m(x),x.forEach(function(Z,Y){h(Z,A[Y])});var w=d.line,o;w?(L(d,"line")&&n(i,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),o=T.tryColorscale(w)):o=v.identity;function _(Z){var Y,re;return v.isArrayOrTypedArray(w.color)?(Y=w.color[Z%w.color.length],re=Y):Y=w.color,{color:o(Y),rawColor:re}}var b=x[0].values.length,I={},D=A.map(function(Z){return Z.inds});S=0;var N,k;for(N=0;N<b;N++){var z=[];for(k=0;k<D.length;k++)z.push(D[k][N]);y=E[N%E.length],S+=y;var F=_(N),O=z+"-"+F.rawColor;I[O]===void 0&&(I[O]=f(z,F.color,F.rawColor)),u(I[O],N,y)}var B=x.map(function(Z,Y){return t(Y,Z._index,Z._displayindex,Z.label,S)});for(N=0;N<b;N++)for(y=E[N%E.length],k=0;k<B.length;k++){var W=B[k].containerInd,ee=A[k].inds[N],ne=B[k].categories;if(ne[ee]===void 0){var Q=d.dimensions[W]._categoryarray[ee],le=d.dimensions[W]._ticktext[ee];ne[ee]=s(k,ee,Q,le)}a(ne[ee],N,y)}return p(r(B,I,S))};function r(c,i,d){var x=c.map(function(A){return A.categories.length}).reduce(function(A,E){return Math.max(A,E)});return{dimensions:c,paths:i,trace:void 0,maxCats:x,count:d}}function t(c,i,d,x,A){return{dimensionInd:c,containerInd:i,displayInd:d,dimensionLabel:x,count:A,categories:[],dragX:null}}function s(c,i,d,x){return{dimensionInd:c,categoryInd:i,categoryValue:d,displayInd:i,categoryLabel:x,valueInds:[],count:0,dragY:null}}function a(c,i,d){c.valueInds.push(i),c.count+=d}function f(c,i,d){return{categoryInds:c,color:i,rawColor:d,valueInds:[],count:0}}function u(c,i,d){c.valueInds.push(i),c.count+=d}function l(c,i){i==null?i=[]:i=i.map(function(o){return o});var d={},x={},A=[];i.forEach(function(o,_){d[o]=0,x[o]=_});for(var E=0;E<c.length;E++){var y=c[E],S;d[y]===void 0?(d[y]=1,S=i.push(y)-1,x[y]=S):(d[y]++,S=x[y]),A.push(S)}var w=i.map(function(o){return d[o]});return{uniqueValues:i,uniqueCounts:w,inds:A}}function m(c){var i=c.map(function(x){return x.displayindex}),d;if(M(i))for(d=0;d<c.length;d++)c[d]._displayindex=c[d].displayindex;else for(d=0;d<c.length;d++)c[d]._displayindex=d}function h(c,i){c._categoryarray=i.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var d=c._ticktext.length;d<i.uniqueValues.length;d++)c._ticktext.push(i.uniqueValues[d])}function M(c){for(var i=new Array(c.length),d=0;d<c.length;d++){if(c[d]<0||c[d]>=c.length||i[c[d]]!==void 0)return!1;i[c[d]]=!0}return!0}},76671:function(H,U,e){var p=e(3400),L=e(94288).hasColorscale,n=e(27260),C=e(86968).Q,T=e(51272),v=e(72140),g=e(26284),r=e(38116).isTypedArraySpec;function t(a,f,u,l,m){m("line.shape"),m("line.hovertemplate");var h=m("line.color",l.colorway[0]);if(L(a,"line")&&p.isArrayOrTypedArray(h)){if(h.length)return m("line.colorscale"),n(a,f,l,m,{prefix:"line.",cLetter:"c"}),h.length;f.line.color=u}return 1/0}function s(a,f){function u(d,x){return p.coerce(a,f,v.dimensions,d,x)}var l=u("values"),m=u("visible");if(l&&l.length||(m=f.visible=!1),m){u("label"),u("displayindex",f._index);var h=a.categoryarray,M=p.isArrayOrTypedArray(h)&&h.length>0||r(h),c;M&&(c="array");var i=u("categoryorder",c);i==="array"?(u("categoryarray"),u("ticktext")):(delete a.categoryarray,delete a.ticktext),!M&&i==="array"&&(f.categoryorder="trace")}}H.exports=function(f,u,l,m){function h(x,A){return p.coerce(f,u,v,x,A)}var M=T(f,u,{name:"dimensions",handleItemDefaults:s}),c=t(f,u,l,m,h);C(u,m,h),(!Array.isArray(M)||!M.length)&&(u.visible=!1),g(u,M,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var i={family:m.font.family,size:Math.round(m.font.size),color:m.font.color};p.coerceFont(h,"labelfont",i);var d={family:m.font.family,size:Math.round(m.font.size/1.2),color:m.font.color};p.coerceFont(h,"tickfont",d)}},22020:function(H,U,e){H.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(H,U,e){var p=e(33428),L=e(67756).Gz,n=e(36424),C=e(93024),T=e(3400),v=T.strTranslate,g=e(43616),r=e(49760),t=e(72736);function s(X,q,se,$){var j=q._context.staticPlot,ue=X.map(Q.bind(0,q,se)),ae=$.selectAll("g.parcatslayer").data([null]);ae.enter().append("g").attr("class","parcatslayer").style("pointer-events",j?"none":"all");var ce=ae.selectAll("g.trace.parcats").data(ue,a),ye=ce.enter().append("g").attr("class","trace parcats");ce.attr("transform",function(We){return v(We.x,We.y)}),ye.append("g").attr("class","paths");var Ce=ce.select("g.paths"),Ae=Ce.selectAll("path.path").data(function(We){return We.paths},a);Ae.attr("fill",function(We){return We.model.color});var Ie=Ae.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(We){return We.model.color}).attr("fill-opacity",0);i(Ie),Ae.attr("d",function(We){return We.svgD}),Ie.empty()||Ae.sort(u),Ae.exit().remove(),Ae.on("mouseover",l).on("mouseout",m).on("click",c),ye.append("g").attr("class","dimensions");var Te=ce.select("g.dimensions"),Le=Te.selectAll("g.dimension").data(function(We){return We.dimensions},a);Le.enter().append("g").attr("class","dimension"),Le.attr("transform",function(We){return v(We.x,0)}),Le.exit().remove();var xe=Le.selectAll("g.category").data(function(We){return We.categories},a),Re=xe.enter().append("g").attr("class","category");xe.attr("transform",function(We){return v(0,We.y)}),Re.append("rect").attr("class","catrect").attr("pointer-events","none"),xe.select("rect.catrect").attr("fill","none").attr("width",function(We){return We.width}).attr("height",function(We){return We.height}),A(Re);var He=xe.selectAll("rect.bandrect").data(function(We){return We.bands},a);He.each(function(){T.raiseToTop(this)}),He.attr("fill",function(We){return We.color});var Ve=He.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(We){return We.color}).attr("fill-opacity",0);He.attr("fill",function(We){return We.color}).attr("width",function(We){return We.width}).attr("height",function(We){return We.height}).attr("y",function(We){return We.y}).attr("cursor",function(We){return We.parcatsViewModel.arrangement==="fixed"?"default":We.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),y(Ve),He.exit().remove(),Re.append("text").attr("class","catlabel").attr("pointer-events","none");var Fe=q._fullLayout.paper_bgcolor;xe.select("text.catlabel").attr("text-anchor",function(We){return f(We)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(Fe)).style("fill","rgb(0, 0, 0)").attr("x",function(We){return f(We)?We.width+5:-5}).attr("y",function(We){return We.height/2}).text(function(We){return We.model.categoryLabel}).each(function(We){g.font(p.select(this),We.parcatsViewModel.categorylabelfont),t.convertToTspans(p.select(this),q)}),Re.append("text").attr("class","dimlabel"),xe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(We){return We.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(We){return We.width/2}).attr("y",-5).text(function(We,ut){return ut===0?We.parcatsViewModel.model.dimensions[We.model.dimensionInd].dimensionLabel:null}).each(function(We){g.font(p.select(this),We.parcatsViewModel.labelfont)}),xe.selectAll("rect.bandrect").on("mouseover",k).on("mouseout",z),xe.exit().remove(),Le.call(p.behavior.drag().origin(function(We){return{x:We.x,y:0}}).on("dragstart",F).on("drag",O).on("dragend",B)),ce.each(function(We){We.traceSelection=p.select(this),We.pathSelection=p.select(this).selectAll("g.paths").selectAll("path.path"),We.dimensionSelection=p.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ce.exit().remove()}H.exports=function(X,q,se,$){s(se,X,$,q)};function a(X){return X.key}function f(X){var q=X.parcatsViewModel.dimensions.length,se=X.parcatsViewModel.dimensions[q-1].model.dimensionInd;return X.model.dimensionInd===se}function u(X,q){return X.model.rawColor>q.model.rawColor?1:X.model.rawColor<q.model.rawColor?-1:0}function l(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){T.raiseToTop(this),d(p.select(this));var q=h(X),se=M(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:q,event:p.event,constraints:se}),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var $=p.mouse(this)[0],j=X.parcatsViewModel.graphDiv,ue=X.parcatsViewModel.trace,ae=j._fullLayout,ce=ae._paperdiv.node().getBoundingClientRect(),ye=X.parcatsViewModel.graphDiv.getBoundingClientRect(),Ce,Ae,Ie;for(Ie=0;Ie<X.leftXs.length-1;Ie++)if(X.leftXs[Ie]+X.dimWidths[Ie]-2<=$&&$<=X.leftXs[Ie+1]+2){var Te=X.parcatsViewModel.dimensions[Ie],Le=X.parcatsViewModel.dimensions[Ie+1];Ce=(Te.x+Te.width+Le.x)/2,Ae=(X.topYs[Ie]+X.topYs[Ie+1]+X.height)/2;break}var xe=X.parcatsViewModel.x+Ce,Re=X.parcatsViewModel.y+Ae,He=r.mostReadable(X.model.color,["black","white"]),Ve=X.model.count,Fe=Ve/X.parcatsViewModel.model.count,We={countLabel:Ve,probabilityLabel:Fe.toFixed(3)},ut=[];X.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ut.push(["Count:",We.countLabel].join(" ")),X.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ut.push(["P:",We.probabilityLabel].join(" "));var ht=ut.join("<br>"),rt=p.mouse(j)[0];C.loneHover({trace:ue,x:xe-ce.left+ye.left,y:Re-ce.top+ye.top,text:ht,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:He,idealAlign:rt<xe?"right":"left",hovertemplate:(ue.line||{}).hovertemplate,hovertemplateLabels:We,eventData:[{data:ue._input,fullData:ue,count:Ve,probability:Fe}]},{container:ae._hoverlayer.node(),outerContainer:ae._paper.node(),gd:j})}}}function m(X){if(!X.parcatsViewModel.dragDimension&&(i(p.select(this)),C.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(u),X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var q=h(X),se=M(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:q,event:p.event,constraints:se})}}function h(X){for(var q=[],se=W(X.parcatsViewModel),$=0;$<X.model.valueInds.length;$++){var j=X.model.valueInds[$];q.push({curveNumber:se,pointNumber:j})}return q}function M(X){for(var q={},se=X.parcatsViewModel.model.dimensions,$=0;$<se.length;$++){var j=se[$],ue=j.categories[X.model.categoryInds[$]];q[j.containerInd]=ue.categoryValue}return X.model.rawColor!==void 0&&(q.color=X.model.rawColor),q}function c(X){if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=h(X),se=M(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:q,event:p.event,constraints:se})}}function i(X){X.attr("fill",function(q){return q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(X){X.attr("fill-opacity",.8).attr("stroke",function(q){return r.mostReadable(q.model.color,["black","white"])}).attr("stroke-width",.3)}function x(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function A(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function E(X){X.attr("stroke","black").attr("stroke-width",1.5)}function y(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(X){var q=X.parcatsViewModel.pathSelection,se=X.categoryViewModel.model.dimensionInd,$=X.categoryViewModel.model.categoryInd;return q.filter(function(j){return j.model.categoryInds[se]===$&&j.model.color===X.color})}function w(X){var q=p.select(X.parentNode).selectAll("rect.bandrect");q.each(function(se){var $=S(se);d($),$.each(function(){T.raiseToTop(this)})}),x(p.select(X.parentNode))}function o(X){var q=p.select(X).datum(),se=S(q);d(se),se.each(function(){T.raiseToTop(this)}),p.select(X.parentNode).selectAll("rect.bandrect").filter(function($){return $.color===q.color}).each(function(){T.raiseToTop(this),E(p.select(this))})}function _(X,q,se){var $=p.select(X).datum(),j=$.categoryViewModel.model,ue=$.parcatsViewModel.graphDiv,ae=p.select(X.parentNode).selectAll("rect.bandrect"),ce=[];ae.each(function(Ce){var Ae=S(Ce);Ae.each(function(Ie){Array.prototype.push.apply(ce,h(Ie))})});var ye={};ye[j.dimensionInd]=j.categoryValue,ue.emit(q,{points:ce,event:se,constraints:ye})}function b(X,q,se){var $=p.select(X).datum(),j=$.categoryViewModel.model,ue=$.parcatsViewModel.graphDiv,ae=S($),ce=[];ae.each(function(Ce){Array.prototype.push.apply(ce,h(Ce))});var ye={};ye[j.dimensionInd]=j.categoryValue,$.rawColor!==void 0&&(ye.color=$.rawColor),ue.emit(q,{points:ce,event:se,constraints:ye})}function I(X,q,se){X._fullLayout._calcInverseTransform(X);var $=X._fullLayout._invScaleX,j=X._fullLayout._invScaleY,ue=p.select(se.parentNode).select("rect.catrect"),ae=ue.node().getBoundingClientRect(),ce=ue.datum(),ye=ce.parcatsViewModel,Ce=ye.model.dimensions[ce.model.dimensionInd],Ae=ye.trace,Ie=ae.top+ae.height/2,Te,Le;ye.dimensions.length>1&&Ce.displayInd===ye.dimensions.length-1?(Te=ae.left,Le="left"):(Te=ae.left+ae.width,Le="right");var xe=ce.model.count,Re=ce.model.categoryLabel,He=xe/ce.parcatsViewModel.model.count,Ve={countLabel:xe,categoryLabel:Re,probabilityLabel:He.toFixed(3)},Fe=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Fe.push(["Count:",Ve.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Fe.push(["P("+Ve.categoryLabel+"):",Ve.probabilityLabel].join(" "));var We=Fe.join("<br>");return{trace:Ae,x:$*(Te-q.left),y:j*(Ie-q.top),text:We,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Le,hovertemplate:Ae.hovertemplate,hovertemplateLabels:Ve,eventData:[{data:Ae._input,fullData:Ae,count:xe,category:Re,probability:He}]}}function D(X,q,se){var $=[];return p.select(se.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var j=this;$.push(I(X,q,j))}),$}function N(X,q,se){X._fullLayout._calcInverseTransform(X);var $=X._fullLayout._invScaleX,j=X._fullLayout._invScaleY,ue=se.getBoundingClientRect(),ae=p.select(se).datum(),ce=ae.categoryViewModel,ye=ce.parcatsViewModel,Ce=ye.model.dimensions[ce.model.dimensionInd],Ae=ye.trace,Ie=ue.y+ue.height/2,Te,Le;ye.dimensions.length>1&&Ce.displayInd===ye.dimensions.length-1?(Te=ue.left,Le="left"):(Te=ue.left+ue.width,Le="right");var xe=ce.model.categoryLabel,Re=ae.parcatsViewModel.model.count,He=0;ae.categoryViewModel.bands.forEach(function(mt){mt.color===ae.color&&(He+=mt.count)});var Ve=ce.model.count,Fe=0;ye.pathSelection.each(function(mt){mt.model.color===ae.color&&(Fe+=mt.model.count)});var We=He/Re,ut=He/Fe,ht=He/Ve,rt={countLabel:Re,categoryLabel:xe,probabilityLabel:We.toFixed(3)},tt=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&tt.push(["Count:",rt.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(tt.push("P(color  "+xe+"): "+rt.probabilityLabel),tt.push("P("+xe+" | color): "+ut.toFixed(3)),tt.push("P(color | "+xe+"): "+ht.toFixed(3)));var vt=tt.join("<br>"),pt=r.mostReadable(ae.color,["black","white"]);return{trace:Ae,x:$*(Te-q.left),y:j*(Ie-q.top),text:vt,color:ae.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:pt,fontSize:10,idealAlign:Le,hovertemplate:Ae.hovertemplate,hovertemplateLabels:rt,eventData:[{data:Ae._input,fullData:Ae,category:xe,count:Re,probability:We,categorycount:Ve,colorcount:Fe,bandcolorcount:He}]}}function k(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=p.mouse(this)[1];if(q<-1)return;var se=X.parcatsViewModel.graphDiv,$=se._fullLayout,j=$._paperdiv.node().getBoundingClientRect(),ue=X.parcatsViewModel.hoveron,ae=this;if(ue==="color"?(o(ae),b(ae,"plotly_hover",p.event)):(w(ae),_(ae,"plotly_hover",p.event)),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ce;ue==="category"?ce=I(se,j,ae):ue==="color"?ce=N(se,j,ae):ue==="dimension"&&(ce=D(se,j,ae)),ce&&C.loneHover(ce,{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:se})}}}function z(X){var q=X.parcatsViewModel;if(!q.dragDimension&&(i(q.pathSelection),A(q.dimensionSelection.selectAll("g.category")),y(q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(q.graphDiv._fullLayout._hoverlayer.node()),q.pathSelection.sort(u),q.hoverinfoItems.indexOf("skip")===-1)){var se=X.parcatsViewModel.hoveron,$=this;se==="color"?b($,"plotly_unhover",p.event):_($,"plotly_unhover",p.event)}}function F(X){X.parcatsViewModel.arrangement!=="fixed"&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function(q){return q.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,p.select(this).selectAll("g.category").select("rect.catrect").each(function(q){var se=p.mouse(this)[0],$=p.mouse(this)[1];-2<=se&&se<=q.width+2&&-2<=$&&$<=q.height+2&&(X.dragCategoryDisplayInd=q.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(j){return j.displayInd}),q.model.dragY=q.y,T.raiseToTop(this.parentNode),p.select(this.parentNode).selectAll("rect.bandrect").each(function(j){j.y<$&&$<=j.y+j.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,C.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O(X){if(X.parcatsViewModel.arrangement!=="fixed"&&(X.dragHasMoved=!0,X.dragDimensionDisplayInd!==null)){var q=X.dragDimensionDisplayInd,se=q-1,$=q+1,j=X.parcatsViewModel.dimensions[q];if(X.dragCategoryDisplayInd!==null){var ue=j.categories[X.dragCategoryDisplayInd];ue.model.dragY+=p.event.dy;var ae=ue.model.dragY,ce=ue.model.displayInd,ye=j.categories,Ce=ye[ce-1],Ae=ye[ce+1];Ce!==void 0&&ae<Ce.y+Ce.height/2&&(ue.model.displayInd=Ce.model.displayInd,Ce.model.displayInd=ce),Ae!==void 0&&ae+ue.height>Ae.y+Ae.height/2&&(ue.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=ce),X.dragCategoryDisplayInd=ue.model.displayInd}if(X.dragCategoryDisplayInd===null||X.parcatsViewModel.arrangement==="freeform"){j.model.dragX=p.event.x;var Ie=X.parcatsViewModel.dimensions[se],Te=X.parcatsViewModel.dimensions[$];Ie!==void 0&&j.model.dragX<Ie.x+Ie.width&&(j.model.displayInd=Ie.model.displayInd,Ie.model.displayInd=q),Te!==void 0&&j.model.dragX+j.width>Te.x&&(j.model.displayInd=Te.model.displayInd,Te.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=j.model.displayInd}Y(X.parcatsViewModel),Z(X.parcatsViewModel),ne(X.parcatsViewModel),ee(X.parcatsViewModel)}}function B(X){if(X.parcatsViewModel.arrangement!=="fixed"&&X.dragDimensionDisplayInd!==null){p.select(this).selectAll("text").attr("font-weight","normal");var q={},se=W(X.parcatsViewModel),$=X.parcatsViewModel.model.dimensions.map(function(Te){return Te.displayInd}),j=X.initialDragDimensionDisplayInds.some(function(Te,Le){return Te!==$[Le]});j&&$.forEach(function(Te,Le){var xe=X.parcatsViewModel.model.dimensions[Le].containerInd;q["dimensions["+xe+"].displayindex"]=Te});var ue=!1;if(X.dragCategoryDisplayInd!==null){var ae=X.model.categories.map(function(Te){return Te.displayInd});if(ue=X.initialDragCategoryDisplayInds.some(function(Te,Le){return Te!==ae[Le]}),ue){var ce=X.model.categories.slice().sort(function(Te,Le){return Te.displayInd-Le.displayInd}),ye=ce.map(function(Te){return Te.categoryValue}),Ce=ce.map(function(Te){return Te.categoryLabel});q["dimensions["+X.model.containerInd+"].categoryarray"]=[ye],q["dimensions["+X.model.containerInd+"].ticktext"]=[Ce],q["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!X.dragHasMoved&&X.potentialClickBand&&(X.parcatsViewModel.hoveron==="color"?b(X.potentialClickBand,"plotly_click",p.event.sourceEvent):_(X.potentialClickBand,"plotly_click",p.event.sourceEvent)),X.model.dragX=null,X.dragCategoryDisplayInd!==null){var Ae=X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd];Ae.model.dragY=null,X.dragCategoryDisplayInd=null}X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,Y(X.parcatsViewModel),Z(X.parcatsViewModel);var Ie=p.transition().duration(300).ease("cubic-in-out");Ie.each(function(){ne(X.parcatsViewModel,!0),ee(X.parcatsViewModel,!0)}).each("end",function(){(j||ue)&&n.restyle(X.parcatsViewModel.graphDiv,q,[se])})}}function W(X){for(var q,se=X.graphDiv._fullData,$=0;$<se.length;$++)if(X.key===se[$].uid){q=$;break}return q}function ee(X,q){q===void 0&&(q=!1);function se($){return q?$.transition():$}X.pathSelection.data(function($){return $.paths},a),se(X.pathSelection).attr("d",function($){return $.svgD})}function ne(X,q){q===void 0&&(q=!1);function se(ye){return q?ye.transition():ye}X.dimensionSelection.data(function(ye){return ye.dimensions},a);var $=X.dimensionSelection.selectAll("g.category").data(function(ye){return ye.categories},a);se(X.dimensionSelection).attr("transform",function(ye){return v(ye.x,0)}),se($).attr("transform",function(ye){return v(0,ye.y)});var j=$.select(".dimlabel");j.text(function(ye,Ce){return Ce===0?ye.parcatsViewModel.model.dimensions[ye.model.dimensionInd].dimensionLabel:null});var ue=$.select(".catlabel");ue.attr("text-anchor",function(ye){return f(ye)?"start":"end"}).attr("x",function(ye){return f(ye)?ye.width+5:-5}).each(function(ye){var Ce,Ae;f(ye)?(Ce=ye.width+5,Ae="start"):(Ce=-5,Ae="end"),p.select(this).selectAll("tspan").attr("x",Ce).attr("text-anchor",Ae)});var ae=$.selectAll("rect.bandrect").data(function(ye){return ye.bands},a),ce=ae.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ye){return ye.color}).attr("fill-opacity",0);ae.attr("fill",function(ye){return ye.color}).attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}).attr("y",function(ye){return ye.y}),y(ce),ae.each(function(){T.raiseToTop(this)}),ae.exit().remove()}function Q(X,q,se){var $=se[0],j=q.margin||{l:80,r:80,t:100,b:80},ue=$.trace,ae=ue.domain,ce=q.width,ye=q.height,Ce=Math.floor(ce*(ae.x[1]-ae.x[0])),Ae=Math.floor(ye*(ae.y[1]-ae.y[0])),Ie=ae.x[0]*ce+j.l,Te=q.height-ae.y[1]*q.height+j.t,Le=ue.line.shape,xe;ue.hoverinfo==="all"?xe=["count","probability"]:xe=(ue.hoverinfo||"").split("+");var Re={trace:ue,key:ue.uid,model:$,x:Ie,y:Te,width:Ce,height:Ae,hoveron:ue.hoveron,hoverinfoItems:xe,arrangement:ue.arrangement,bundlecolors:ue.bundlecolors,sortpaths:ue.sortpaths,labelfont:ue.labelfont,categorylabelfont:ue.tickfont,pathShape:Le,dragDimension:null,margin:j,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return $.dimensions&&(Y(Re),Z(Re)),Re}function le(X,q,se,$,j){var ue=[],ae=[],ce,ye;for(ye=0;ye<se.length-1;ye++)ce=L(se[ye]+X[ye],X[ye+1]),ue.push(ce(j)),ae.push(ce(1-j));var Ce="M "+X[0]+","+q[0];for(Ce+="l"+se[0]+",0 ",ye=1;ye<se.length;ye++)Ce+="C"+ue[ye-1]+","+q[ye-1]+" "+ae[ye-1]+","+q[ye]+" "+X[ye]+","+q[ye],Ce+="l"+se[ye]+",0 ";for(Ce+="l0,"+$+" ",Ce+="l -"+se[se.length-1]+",0 ",ye=se.length-2;ye>=0;ye--)Ce+="C"+ae[ye]+","+(q[ye+1]+$)+" "+ue[ye]+","+(q[ye]+$)+" "+(X[ye]+se[ye])+","+(q[ye]+$),Ce+="l-"+se[ye]+",0 ";return Ce+="Z",Ce}function Z(X){var q=X.dimensions,se=X.model,$=q.map(function(at){return at.categories.map(function(Oe){return Oe.y})}),j=X.model.dimensions.map(function(at){return at.categories.map(function(Oe){return Oe.displayInd})}),ue=X.model.dimensions.map(function(at){return at.displayInd}),ae=X.dimensions.map(function(at){return at.model.dimensionInd}),ce=q.map(function(at){return at.x}),ye=q.map(function(at){return at.width}),Ce=[];for(var Ae in se.paths)se.paths.hasOwnProperty(Ae)&&Ce.push(se.paths[Ae]);function Ie(at){var Oe=at.categoryInds.map(function(Je,Ye){return j[Ye][Je]}),Ze=ae.map(function(Je){return Oe[Je]});return Ze}Ce.sort(function(at,Oe){var Ze=Ie(at),Je=Ie(Oe);return X.sortpaths==="backward"&&(Ze.reverse(),Je.reverse()),Ze.push(at.valueInds[0]),Je.push(Oe.valueInds[0]),X.bundlecolors&&(Ze.unshift(at.rawColor),Je.unshift(Oe.rawColor)),Ze<Je?-1:Ze>Je?1:0});for(var Te=new Array(Ce.length),Le=q[0].model.count,xe=q[0].categories.map(function(at){return at.height}).reduce(function(at,Oe){return at+Oe}),Re=0;Re<Ce.length;Re++){var He=Ce[Re],Ve;Le>0?Ve=xe*(He.count/Le):Ve=0;for(var Fe=new Array($.length),We=0;We<He.categoryInds.length;We++){var ut=He.categoryInds[We],ht=j[We][ut],rt=ue[We];Fe[rt]=$[rt][ht],$[rt][ht]+=Ve;var tt=X.dimensions[rt].categories[ht],vt=tt.bands.length,pt=tt.bands[vt-1];if(pt===void 0||He.rawColor!==pt.rawColor){var mt=pt===void 0?0:pt.y+pt.height;tt.bands.push({key:mt,color:He.color,rawColor:He.rawColor,height:Ve,width:tt.width,count:He.count,y:mt,categoryViewModel:tt,parcatsViewModel:X})}else{var wt=tt.bands[vt-1];wt.height+=Ve,wt.count+=He.count}}var Lt;X.pathShape==="hspline"?Lt=le(ce,Fe,ye,Ve,.5):Lt=le(ce,Fe,ye,Ve,0),Te[Re]={key:He.valueInds[0],model:He,height:Ve,leftXs:ce,topYs:Fe,dimWidths:ye,svgD:Lt,parcatsViewModel:X}}X.paths=Te}function Y(X){var q=X.model.dimensions.map(function(ae){return{displayInd:ae.displayInd,dimensionInd:ae.dimensionInd}});q.sort(function(ae,ce){return ae.displayInd-ce.displayInd});var se=[];for(var $ in q){var j=q[$].dimensionInd,ue=X.model.dimensions[j];se.push(re(X,ue))}X.dimensions=se}function re(X,q){var se=40,$=16,j=X.model.dimensions.length,ue=q.displayInd,ae,ce,ye;j>1?ae=(X.width-2*se-$)/(j-1):ae=0,ce=se,ye=ce+ae*ue;var Ce=[],Ae=X.model.maxCats,Ie=q.categories.length,Te=8,Le=q.count,xe=X.height-Te*(Ae-1),Re,He,Ve,Fe,We,ut=(Ae-Ie)*Te/2,ht=q.categories.map(function(rt){return{displayInd:rt.displayInd,categoryInd:rt.categoryInd}});for(ht.sort(function(rt,tt){return rt.displayInd-tt.displayInd}),We=0;We<Ie;We++)Fe=ht[We].categoryInd,He=q.categories[Fe],Le>0?Re=He.count/Le*xe:Re=0,Ve={key:He.valueInds[0],model:He,width:$,height:Re,y:He.dragY!==null?He.dragY:ut,bands:[],parcatsViewModel:X},ut=ut+Re+Te,Ce.push(Ve);return{key:q.dimensionInd,x:q.dragX!==null?q.dragX:ye,y:0,width:$,model:q,categories:Ce,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(H,U,e){var p=e(51036);H.exports=function(n,C,T,v){var g=n._fullLayout,r=g._paper,t=g._size;p(n,r,C,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},T,v)}},82296:function(H,U,e){var p=e(49084),L=e(94724),n=e(25376),C=e(86968).u,T=e(92880).extendFlat,v=e(31780).templatedArray;H.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:n({editType:"plot"}),tickfont:n({editType:"plot"}),rangefont:n({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:T({},L.tickvals,{editType:"plot"}),ticktext:T({},L.ticktext,{editType:"plot"}),tickformat:T({},L.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:T({editType:"calc"},p("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(H,U,e){var p=e(30140),L=e(33428),n=e(71688).keyFun,C=e(71688).repeat,T=e(3400).sorterAsc,v=e(3400).strTranslate,g=p.bar.snapRatio;function r(B,W){return B*(1-g)+W*g}var t=p.bar.snapClose;function s(B,W){return B*(1-t)+W*t}function a(B,W,ee,ne){if(f(ee,ne))return ee;var Q=B?-1:1,le=0,Z=W.length-1;if(Q<0){var Y=le;le=Z,Z=Y}for(var re=W[le],X=re,q=le;Q*q<Q*Z;q+=Q){var se=q+Q,$=W[se];if(Q*ee<Q*s(re,$))return r(re,X);if(Q*ee<Q*$||se===Z)return r($,re);X=re,re=$}}function f(B,W){for(var ee=0;ee<W.length;ee++)if(B>=W[ee][0]&&B<=W[ee][1])return!0;return!1}function u(B){B.attr("x",-p.bar.captureWidth/2).attr("width",p.bar.captureWidth)}function l(B){B.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(B){if(!B.brush.filterSpecified)return"0,"+B.height;for(var W=h(B.brush.filter.getConsolidated(),B.height),ee=[0],ne,Q,le,Z=W.length?W[0][0]:null,Y=0;Y<W.length;Y++)ne=W[Y],Q=ne[1]-ne[0],ee.push(Z),ee.push(Q),le=Y+1,le<W.length&&(Z=W[le][0]-ne[1]);return ee.push(B.height),ee}function h(B,W){return B.map(function(ee){return ee.map(function(ne){return Math.max(0,ne*W)}).sort(T)})}function M(B,W){var ee=p.bar.handleHeight;if(!(W>B[1]+ee||W<B[0]-ee))return W>=.9*B[1]+.1*B[0]?"n":W<=.9*B[0]+.1*B[1]?"s":"ns"}function c(){L.select(document.body).style("cursor",null)}function i(B){B.attr("stroke-dasharray",m)}function d(B,W){var ee=L.select(B).selectAll(".highlight, .highlight-shadow"),ne=W?ee.transition().duration(p.bar.snapDuration).each("end",W):ee;i(ne)}function x(B,W){var ee=B.brush,ne=ee.filterSpecified,Q=NaN,le={},Z;if(ne){var Y=B.height,re=ee.filter.getConsolidated(),X=h(re,Y),q=NaN,se=NaN,$=NaN;for(Z=0;Z<=X.length;Z++){var j=X[Z];if(j&&j[0]<=W&&W<=j[1]){q=Z;break}else if(se=Z?Z-1:NaN,j&&j[0]>W){$=Z;break}}if(Q=q,isNaN(Q)&&(isNaN(se)||isNaN($)?Q=isNaN(se)?$:se:Q=W-X[se][1]<X[$][0]-W?se:$),!isNaN(Q)){var ue=X[Q],ae=M(ue,W);ae&&(le.interval=re[Q],le.intervalPix=ue,le.region=ae)}}if(B.ordinal&&!le.region){var ce=B.unitTickvals,ye=B.unitToPaddedPx.invert(W);for(Z=0;Z<ce.length;Z++){var Ce=[ce[Math.max(Z-1,0)]*.25+ce[Z]*.75,ce[Math.min(Z+1,ce.length-1)]*.25+ce[Z]*.75];if(ye>=Ce[0]&&ye<=Ce[1]){le.clickableOrdinalRange=Ce;break}}}return le}function A(B,W){L.event.sourceEvent.stopPropagation();var ee=W.height-L.mouse(B)[1]-2*p.verticalPadding,ne=W.unitToPaddedPx.invert(ee),Q=W.brush,le=x(W,ee),Z=le.interval,Y=Q.svgBrush;if(Y.wasDragged=!1,Y.grabbingBar=le.region==="ns",Y.grabbingBar){var re=Z.map(W.unitToPaddedPx);Y.grabPoint=ee-re[0]-p.verticalPadding,Y.barLength=re[1]-re[0]}Y.clickableOrdinalRange=le.clickableOrdinalRange,Y.stayingIntervals=W.multiselect&&Q.filterSpecified?Q.filter.getConsolidated():[],Z&&(Y.stayingIntervals=Y.stayingIntervals.filter(function(X){return X[0]!==Z[0]&&X[1]!==Z[1]})),Y.startExtent=le.region?Z[le.region==="s"?1:0]:ne,W.parent.inBrushDrag=!0,Y.brushStartCallback()}function E(B,W){L.event.sourceEvent.stopPropagation();var ee=W.height-L.mouse(B)[1]-2*p.verticalPadding,ne=W.brush.svgBrush;ne.wasDragged=!0,ne._dragging=!0,ne.grabbingBar?ne.newExtent=[ee-ne.grabPoint,ee+ne.barLength-ne.grabPoint].map(W.unitToPaddedPx.invert):ne.newExtent=[ne.startExtent,W.unitToPaddedPx.invert(ee)].sort(T),W.brush.filterSpecified=!0,ne.extent=ne.stayingIntervals.concat([ne.newExtent]),ne.brushCallback(W),d(B.parentNode)}function y(B,W){var ee=W.brush,ne=ee.filter,Q=ee.svgBrush;Q._dragging||(S(B,W),E(B,W),W.brush.svgBrush.wasDragged=!1),Q._dragging=!1;var le=L.event;le.sourceEvent.stopPropagation();var Z=Q.grabbingBar;if(Q.grabbingBar=!1,Q.grabLocation=void 0,W.parent.inBrushDrag=!1,c(),!Q.wasDragged){Q.wasDragged=void 0,Q.clickableOrdinalRange?ee.filterSpecified&&W.multiselect?Q.extent.push(Q.clickableOrdinalRange):(Q.extent=[Q.clickableOrdinalRange],ee.filterSpecified=!0):Z?(Q.extent=Q.stayingIntervals,Q.extent.length===0&&D(ee)):D(ee),Q.brushCallback(W),d(B.parentNode),Q.brushEndCallback(ee.filterSpecified?ne.getConsolidated():[]);return}var Y=function(){ne.set(ne.getConsolidated())};if(W.ordinal){var re=W.unitTickvals;re[re.length-1]<re[0]&&re.reverse(),Q.newExtent=[a(0,re,Q.newExtent[0],Q.stayingIntervals),a(1,re,Q.newExtent[1],Q.stayingIntervals)];var X=Q.newExtent[1]>Q.newExtent[0];Q.extent=Q.stayingIntervals.concat(X?[Q.newExtent]:[]),Q.extent.length||D(ee),Q.brushCallback(W),X?d(B.parentNode,Y):(Y(),d(B.parentNode))}else Y();Q.brushEndCallback(ee.filterSpecified?ne.getConsolidated():[])}function S(B,W){var ee=W.height-L.mouse(B)[1]-2*p.verticalPadding,ne=x(W,ee),Q="crosshair";ne.clickableOrdinalRange?Q="pointer":ne.region&&(Q=ne.region+"-resize"),L.select(document.body).style("cursor",Q)}function w(B){B.on("mousemove",function(W){L.event.preventDefault(),W.parent.inBrushDrag||S(this,W)}).on("mouseleave",function(W){W.parent.inBrushDrag||c()}).call(L.behavior.drag().on("dragstart",function(W){A(this,W)}).on("drag",function(W){E(this,W)}).on("dragend",function(W){y(this,W)}))}function o(B,W){return B[0]-W[0]}function _(B,W,ee){var ne=ee._context.staticPlot,Q=B.selectAll(".background").data(C);Q.enter().append("rect").classed("background",!0).call(u).call(l).style("pointer-events",ne?"none":"auto").attr("transform",v(0,p.verticalPadding)),Q.call(w).attr("height",function(Y){return Y.height-p.verticalPadding});var le=B.selectAll(".highlight-shadow").data(C);le.enter().append("line").classed("highlight-shadow",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width+p.bar.strokeWidth).attr("stroke",W).attr("opacity",p.bar.strokeOpacity).attr("stroke-linecap","butt"),le.attr("y1",function(Y){return Y.height}).call(i);var Z=B.selectAll(".highlight").data(C);Z.enter().append("line").classed("highlight",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width-p.bar.strokeWidth).attr("stroke",p.bar.fillColor).attr("opacity",p.bar.fillOpacity).attr("stroke-linecap","butt"),Z.attr("y1",function(Y){return Y.height}).call(i)}function b(B,W,ee){var ne=B.selectAll("."+p.cn.axisBrush).data(C,n);ne.enter().append("g").classed(p.cn.axisBrush,!0),_(ne,W,ee)}function I(B){return B.svgBrush.extent.map(function(W){return W.slice()})}function D(B){B.filterSpecified=!1,B.svgBrush.extent=[[-1/0,1/0]]}function N(B){return function(ee){var ne=ee.brush,Q=I(ne),le=Q.slice();ne.filter.set(le),B()}}function k(B){for(var W=B.slice(),ee=[],ne,Q=W.shift();Q;){for(ne=Q.slice();(Q=W.shift())&&Q[0]<=ne[1];)ne[1]=Math.max(ne[1],Q[1]);ee.push(ne)}return ee.length===1&&ee[0][0]>ee[0][1]&&(ee=[]),ee}function z(){var B=[],W,ee;return{set:function(ne){B=ne.map(function(Q){return Q.slice().sort(T)}).sort(o),B.length===1&&B[0][0]===-1/0&&B[0][1]===1/0&&(B=[[0,-1]]),W=k(B),ee=B.reduce(function(Q,le){return[Math.min(Q[0],le[0]),Math.max(Q[1],le[1])]},[1/0,-1/0])},get:function(){return B.slice()},getConsolidated:function(){return W},getBounds:function(){return ee}}}function F(B,W,ee,ne,Q,le){var Z=z();return Z.set(ee),{filter:Z,filterSpecified:W,svgBrush:{extent:[],brushStartCallback:ne,brushCallback:N(Q),brushEndCallback:le}}}function O(B,W){if(Array.isArray(B[0])?(B=B.map(function(ne){return ne.sort(T)}),W.multiselect?B=k(B.sort(o)):B=[B[0]]):B=[B.sort(T)],W.tickvals){var ee=W.tickvals.slice().sort(T);if(B=B.map(function(ne){var Q=[a(0,ee,ne[0],[]),a(1,ee,ne[1],[])];if(Q[1]>Q[0])return Q}).filter(function(ne){return ne}),!B.length)return}return B.length>1?B:B[0]}H.exports={makeBrush:F,ensureAxisBrush:b,cleanRanges:O}},61664:function(H,U,e){H.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(H,U,e){var p=e(33428),L=e(84888)._M,n=e(24196),C=e(9616);U.name="parcoords",U.plot=function(T){var v=L(T.calcdata,"parcoords")[0];v.length&&n(T,v)},U.clean=function(T,v,g,r){var t=r._has&&r._has("parcoords"),s=v._has&&v._has("parcoords");t&&!s&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},U.toSVG=function(T){var v=T._fullLayout._glimages,g=p.select(T).selectAll(".svg-container"),r=g.filter(function(s,a){return a===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var s=this,a=s.toDataURL("image/png"),f=v.append("svg:image");f.attr({xmlns:C.svg,"xlink:href":a,preserveAspectRatio:"none",x:0,y:0,width:s.style.width,height:s.style.height})}r.each(t),window.setTimeout(function(){p.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(H,U,e){var p=e(3400).isArrayOrTypedArray,L=e(8932),n=e(71688).wrap;H.exports=function(v,g){var r,t;return L.hasColorscale(g,"line")&&p(g.line.color)?(r=g.line.color,t=L.extractOpts(g.line).colorscale,L.calc(v,g,{vals:r,containerStr:"line",cLetter:"c"})):(r=C(g._length),t=[[0,g.line.color],[1,g.line.color]]),n({lineColor:r,cscale:t})};function C(T){for(var v=new Array(T),g=0;g<T;g++)v[g]=.5;return v}},30140:function(H){H.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(H,U,e){var p=e(3400),L=e(94288).hasColorscale,n=e(27260),C=e(86968).Q,T=e(51272),v=e(54460),g=e(82296),r=e(71864),t=e(30140).maxDimensionCount,s=e(26284);function a(u,l,m,h,M){var c=M("line.color",m);if(L(u,"line")&&p.isArrayOrTypedArray(c)){if(c.length)return M("line.colorscale"),n(u,l,h,M,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=m}return 1/0}function f(u,l,m,h){function M(A,E){return p.coerce(u,l,g.dimensions,A,E)}var c=M("values"),i=M("visible");if(c&&c.length||(i=l.visible=!1),i){M("label"),M("tickvals"),M("ticktext"),M("tickformat");var d=M("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(l._ax,h.layout),M("multiselect");var x=M("constraintrange");x&&(l.constraintrange=r.cleanRanges(x,l))}}H.exports=function(l,m,h,M){function c(E,y){return p.coerce(l,m,g,E,y)}var i=l.dimensions;Array.isArray(i)&&i.length>t&&(p.log("parcoords traces support up to "+t+" dimensions at the moment"),i.splice(t));var d=T(l,m,{name:"dimensions",layout:M,handleItemDefaults:f}),x=a(l,m,h,M,c);C(m,M,c),(!Array.isArray(d)||!d.length)&&(m.visible=!1),s(m,d,"values",x);var A={family:M.font.family,size:Math.round(M.font.size/1.2),color:M.font.color};p.coerceFont(c,"labelfont",A),p.coerceFont(c,"tickfont",A),p.coerceFont(c,"rangefont",A),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(H,U,e){var p=e(3400).isTypedArray;U.convertTypedArray=function(L){return p(L)?Array.prototype.slice.call(L):L},U.isOrdinal=function(L){return!!L.tickvals},U.isVisible=function(L){return L.visible||!("visible"in L)}},29928:function(H,U,e){var p=e(61664);p.plot=e(24196),H.exports=p},51352:function(H,U,e){var p=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),L=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),n=e(30140).maxDimensionCount,C=e(3400),T=1e-6,v=2048,g=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function s(y){y.read({x:0,y:0,width:1,height:1,data:g})}function a(y,S,w,o,_){var b=y._gl;b.enable(b.SCISSOR_TEST),b.scissor(S,w,o,_),y.clear({color:[0,0,0,0],depth:1})}function f(y,S,w,o,_,b){var I=b.key;function D(N){var k=Math.min(o,_-N*o);N===0&&(window.cancelAnimationFrame(w.currentRafs[I]),delete w.currentRafs[I],a(y,b.scissorX,b.scissorY,b.scissorWidth,b.viewBoxSize[1])),!w.clearOnly&&(b.count=2*k,b.offset=2*N*o,S(b),N*o+k<_&&(w.currentRafs[I]=window.requestAnimationFrame(function(){D(N+1)})),w.drawCompleted=!1)}w.drawCompleted||(s(y),w.drawCompleted=!0),D(0)}function u(y){return Math.max(T,Math.min(1-T,y))}function l(y,S){for(var w=new Array(256),o=0;o<256;o++)w[o]=y(o/255).concat(S);return w}function m(y,S){return(y>>>8*S)%256/255}function h(y,S,w){for(var o=new Array(y*(n+4)),_=0,b=0;b<y;b++){for(var I=0;I<n;I++)o[_++]=I<S.length?S[I].paddedUnitValues[b]:.5;o[_++]=m(b,2),o[_++]=m(b,1),o[_++]=m(b,0),o[_++]=u(w[b])}return o}function M(y,S,w){for(var o=new Array(S*8),_=0,b=0;b<S;b++)for(var I=0;I<2;I++)for(var D=0;D<4;D++){var N=y*4+D,k=w[b*64+N];N===63&&I===0&&(k*=-1),o[_++]=k}return o}function c(y){var S="0"+y;return S.substr(S.length-2)}function i(y){return y<n?"p"+c(y+1)+"_"+c(y+4):"colors"}function d(y,S,w){for(var o=0;o<=n;o+=4)y[i(o)](M(o/4,S,w))}function x(y){for(var S={},w=0;w<=n;w+=4)S[i(w)]=y.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return S}function A(y,S,w,o,_,b,I,D,N,k,z,F,O,B){for(var W=[[],[]],ee=0;ee<64;ee++)W[0][ee]=ee===_?1:0,W[1][ee]=ee===b?1:0;I*=B,D*=B,N*=B,k*=B;var ne=y.lines.canvasOverdrag*B,Q=y.domain,le=y.canvasWidth*B,Z=y.canvasHeight*B,Y=y.pad.l*B,re=y.pad.b*B,X=y.layoutHeight*B,q=y.layoutWidth*B,se=y.deselectedLines.color,$=y.deselectedLines.opacity,j=C.extendFlat({key:z,resolution:[le,Z],viewBoxPos:[I+ne,D],viewBoxSize:[N,k],i0:_,i1:b,dim0A:W[0].slice(0,16),dim0B:W[0].slice(16,32),dim0C:W[0].slice(32,48),dim0D:W[0].slice(48,64),dim1A:W[1].slice(0,16),dim1B:W[1].slice(16,32),dim1C:W[1].slice(32,48),dim1D:W[1].slice(48,64),drwLayer:F,contextColor:[se[0]/255,se[1]/255,se[2]/255,$!=="auto"?se[3]*$:Math.max(1/255,Math.pow(1/y.lines.color.length,1/3))],scissorX:(o===S?0:I+ne)+(Y-ne)+q*Q.x[0],scissorWidth:(o===w?le-I+ne:N+.5)+(o===S?I+ne:0),scissorY:D+re+X*Q.y[0],scissorHeight:k,viewportX:Y-ne+q*Q.x[0],viewportY:re+X*Q.y[0],viewportWidth:le,viewportHeight:Z},O);return j}function E(y){var S=v-1,w=Math.max(0,Math.floor(y[0]*S),0),o=Math.min(S,Math.ceil(y[1]*S),S);return[Math.min(w,o),Math.max(w,o)]}H.exports=function(y,S){var w=S.context,o=S.pick,_=S.regl,b=_._gl,I=b.getParameter(b.ALIASED_LINE_WIDTH_RANGE),D=Math.max(I[0],Math.min(I[1],S.viewModel.plotGlPixelRatio)),N={currentRafs:{},drawCompleted:!0,clearOnly:!1},k,z,F,O,B=x(_),W,ee=_.texture(t),ne=[];le(S);var Q=_({profile:!1,blend:{enable:w,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!w,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:_.prop("scissorX"),y:_.prop("scissorY"),width:_.prop("scissorWidth"),height:_.prop("scissorHeight")}},viewport:{x:_.prop("viewportX"),y:_.prop("viewportY"),width:_.prop("viewportWidth"),height:_.prop("viewportHeight")},dither:!1,vert:p,frag:L,primitive:"lines",lineWidth:D,attributes:B,uniforms:{resolution:_.prop("resolution"),viewBoxPos:_.prop("viewBoxPos"),viewBoxSize:_.prop("viewBoxSize"),dim0A:_.prop("dim0A"),dim1A:_.prop("dim1A"),dim0B:_.prop("dim0B"),dim1B:_.prop("dim1B"),dim0C:_.prop("dim0C"),dim1C:_.prop("dim1C"),dim0D:_.prop("dim0D"),dim1D:_.prop("dim1D"),loA:_.prop("loA"),hiA:_.prop("hiA"),loB:_.prop("loB"),hiB:_.prop("hiB"),loC:_.prop("loC"),hiC:_.prop("hiC"),loD:_.prop("loD"),hiD:_.prop("hiD"),palette:ee,contextColor:_.prop("contextColor"),maskTexture:_.prop("maskTexture"),drwLayer:_.prop("drwLayer"),maskHeight:_.prop("maskHeight")},offset:_.prop("offset"),count:_.prop("count")});function le(se){k=se.model,z=se.viewModel,F=z.dimensions.slice(),O=F[0]?F[0].values.length:0;var $=k.lines,j=o?$.color.map(function(ae,ce){return ce/$.color.length}):$.color,ue=h(O,F,j);d(B,O,ue),!w&&!o&&(ee=_.texture(C.extendFlat({data:l(k.unitToColor,255)},t)))}function Z(se){var $,j,ue,ae=[[],[]];for(ue=0;ue<64;ue++){var ce=!se&&ue<F.length?F[ue].brush.filter.getBounds():[-1/0,1/0];ae[0][ue]=ce[0],ae[1][ue]=ce[1]}var ye=v*8,Ce=new Array(ye);for($=0;$<ye;$++)Ce[$]=255;if(!se)for($=0;$<F.length;$++){var Ae=$%8,Ie=($-Ae)/8,Te=Math.pow(2,Ae),Le=F[$],xe=Le.brush.filter.get();if(!(xe.length<2)){var Re=E(xe[0])[1];for(j=1;j<xe.length;j++){var He=E(xe[j]);for(ue=Re+1;ue<He[0];ue++)Ce[ue*8+Ie]&=~Te;Re=Math.max(Re,He[1])}}}var Ve={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ce};return W?W(Ve):W=_.texture(Ve),{maskTexture:W,maskHeight:v,loA:ae[0].slice(0,16),loB:ae[0].slice(16,32),loC:ae[0].slice(32,48),loD:ae[0].slice(48,64),hiA:ae[1].slice(0,16),hiB:ae[1].slice(16,32),hiC:ae[1].slice(32,48),hiD:ae[1].slice(48,64)}}function Y(se,$,j){var ue=se.length,ae,ce,ye,Ce=1/0,Ae=-1/0;for(ae=0;ae<ue;ae++)se[ae].dim0.canvasX<Ce&&(Ce=se[ae].dim0.canvasX,ce=ae),se[ae].dim1.canvasX>Ae&&(Ae=se[ae].dim1.canvasX,ye=ae);ue===0&&a(_,0,0,k.canvasWidth,k.canvasHeight);var Ie=Z(w);for(ae=0;ae<ue;ae++){var Te=se[ae],Le=Te.dim0.crossfilterDimensionIndex,xe=Te.dim1.crossfilterDimensionIndex,Re=Te.canvasX,He=Te.canvasY,Ve=Re+Te.panelSizeX,Fe=Te.plotGlPixelRatio;if($||!ne[Le]||ne[Le][0]!==Re||ne[Le][1]!==Ve){ne[Le]=[Re,Ve];var We=A(k,ce,ye,ae,Le,xe,Re,He,Te.panelSizeX,Te.panelSizeY,Te.dim0.crossfilterDimensionIndex,w?0:o?2:1,Ie,Fe);N.clearOnly=j;var ut=$?k.lines.blockLineCount:O;f(_,Q,N,ut,O,We)}}}function re(se,$){return _.read({x:se,y:$,width:1,height:1,data:r}),r}function X(se,$,j,ue){var ae=new Uint8Array(4*j*ue);return _.read({x:se,y:$,width:j,height:ue,data:ae}),ae}function q(){y.style["pointer-events"]="none",ee.destroy(),W&&W.destroy();for(var se in B)B[se].destroy()}return{render:Y,readPixel:re,readPixels:X,destroy:q,update:le}}},26284:function(H){H.exports=function(U,e,p,L){L||(L=1/0);var n,C;for(n=0;n<e.length;n++)C=e[n],C.visible&&(L=Math.min(L,C[p].length));for(L===1/0&&(L=0),U._length=L,n=0;n<e.length;n++)C=e[n],C.visible&&(C._length=L);return L}},36336:function(H,U,e){var p=e(33428),L=e(3400),n=L.isArrayOrTypedArray,C=L.numberFormat,T=e(96824),v=e(54460),g=L.strRotate,r=L.strTranslate,t=e(72736),s=e(43616),a=e(8932),f=e(71688),u=f.keyFun,l=f.repeat,m=f.unwrap,h=e(95724),M=e(30140),c=e(71864),i=e(51352);function d(ne,Q,le){return L.aggNums(ne,null,Q,le)}function x(ne,Q){return E(d(Math.min,ne,Q),d(Math.max,ne,Q))}function A(ne){var Q=ne.range;return Q?E(Q[0],Q[1]):x(ne.values,ne._length)}function E(ne,Q){return(isNaN(ne)||!isFinite(ne))&&(ne=0),(isNaN(Q)||!isFinite(Q))&&(Q=0),ne===Q&&(ne===0?(ne-=1,Q+=1):(ne*=.9,Q*=1.1)),[ne,Q]}function y(ne,Q){return Q?function(le,Z){var Y=Q[Z];return Y??ne(le)}:ne}function S(ne,Q,le,Z,Y){var re=A(le);return Z?p.scale.ordinal().domain(Z.map(y(C(le.tickformat),Y))).range(Z.map(function(X){var q=(X-re[0])/(re[1]-re[0]);return ne-Q+q*(2*Q-ne)})):p.scale.linear().domain(re).range([ne-Q,Q])}function w(ne,Q){return p.scale.linear().range([Q,ne-Q])}function o(ne,Q){return p.scale.linear().domain(A(ne)).range([Q,1-Q])}function _(ne){if(ne.tickvals){var Q=A(ne);return p.scale.ordinal().domain(ne.tickvals).range(ne.tickvals.map(function(le){return(le-Q[0])/(Q[1]-Q[0])}))}}function b(ne){var Q=ne.map(function(re){return re[0]}),le=ne.map(function(re){var X=T(re[1]);return p.rgb("rgb("+X[0]+","+X[1]+","+X[2]+")")}),Z=function(re){return function(X){return X[re]}},Y="rgb".split("").map(function(re){return p.scale.linear().clamp(!0).domain(Q).range(le.map(Z(re)))});return function(re){return Y.map(function(X){return X(re)})}}function I(ne){return ne.dimensions.some(function(Q){return Q.brush.filterSpecified})}function D(ne,Q,le){var Z=m(Q),Y=Z.trace,re=h.convertTypedArray(Z.lineColor),X=Y.line,q={color:T(Y.unselected.line.color),opacity:Y.unselected.line.opacity},se=a.extractOpts(X),$=se.reversescale?a.flipScale(Z.cscale):Z.cscale,j=Y.domain,ue=Y.dimensions,ae=ne.width,ce=Y.labelangle,ye=Y.labelside,Ce=Y.labelfont,Ae=Y.tickfont,Ie=Y.rangefont,Te=L.extendDeepNoArrays({},X,{color:re.map(p.scale.linear().domain(A({values:re,range:[se.min,se.max],_length:Y._length}))),blockLineCount:M.blockLineCount,canvasOverdrag:M.overdrag*M.canvasPixelRatio}),Le=Math.floor(ae*(j.x[1]-j.x[0])),xe=Math.floor(ne.height*(j.y[1]-j.y[0])),Re=ne.margin||{l:80,r:80,t:100,b:80},He=Le,Ve=xe;return{key:le,colCount:ue.filter(h.isVisible).length,dimensions:ue,tickDistance:M.tickDistance,unitToColor:b($),lines:Te,deselectedLines:q,labelAngle:ce,labelSide:ye,labelFont:Ce,tickFont:Ae,rangeFont:Ie,layoutWidth:ae,layoutHeight:ne.height,domain:j,translateX:j.x[0]*ae,translateY:ne.height-j.y[1]*ne.height,pad:Re,canvasWidth:He*M.canvasPixelRatio+2*Te.canvasOverdrag,canvasHeight:Ve*M.canvasPixelRatio,width:He,height:Ve,canvasPixelRatio:M.canvasPixelRatio}}function N(ne,Q,le){var Z=le.width,Y=le.height,re=le.dimensions,X=le.canvasPixelRatio,q=function(ae){return Z*ae/Math.max(1,le.colCount-1)},se=M.verticalPadding/Y,$=w(Y,M.verticalPadding),j={key:le.key,xScale:q,model:le,inBrushDrag:!1},ue={};return j.dimensions=re.filter(h.isVisible).map(function(ae,ce){var ye=o(ae,se),Ce=ue[ae.label];ue[ae.label]=(Ce||0)+1;var Ae=ae.label+(Ce?"__"+Ce:""),Ie=ae.constraintrange,Te=Ie&&Ie.length;Te&&!n(Ie[0])&&(Ie=[Ie]);var Le=Te?Ie.map(function(tt){return tt.map(ye)}):[[-1/0,1/0]],xe=function(){var tt=j;tt.focusLayer&&tt.focusLayer.render(tt.panels,!0);var vt=I(tt);!ne.contextShown()&&vt?(tt.contextLayer&&tt.contextLayer.render(tt.panels,!0),ne.contextShown(!0)):ne.contextShown()&&!vt&&(tt.contextLayer&&tt.contextLayer.render(tt.panels,!0,!0),ne.contextShown(!1))},Re=ae.values;Re.length>ae._length&&(Re=Re.slice(0,ae._length));var He=ae.tickvals,Ve;function Fe(tt,vt){return{val:tt,text:Ve[vt]}}function We(tt,vt){return tt.val-vt.val}if(n(He)&&He.length){L.isTypedArray(He)&&(He=Array.from(He)),Ve=ae.ticktext,!n(Ve)||!Ve.length?Ve=He.map(C(ae.tickformat)):Ve.length>He.length?Ve=Ve.slice(0,He.length):He.length>Ve.length&&(He=He.slice(0,Ve.length));for(var ut=1;ut<He.length;ut++)if(He[ut]<He[ut-1]){for(var ht=He.map(Fe).sort(We),rt=0;rt<He.length;rt++)He[rt]=ht[rt].val,Ve[rt]=ht[rt].text;break}}else He=void 0;return Re=h.convertTypedArray(Re),{key:Ae,label:ae.label,tickFormat:ae.tickformat,tickvals:He,ticktext:Ve,ordinal:h.isOrdinal(ae),multiselect:ae.multiselect,xIndex:ce,crossfilterDimensionIndex:ce,visibleIndex:ae._index,height:Y,values:Re,paddedUnitValues:Re.map(ye),unitTickvals:He&&He.map(ye),xScale:q,x:q(ce),canvasX:q(ce)*X,unitToPaddedPx:$,domainScale:S(Y,M.verticalPadding,ae,He,Ve),ordinalScale:_(ae),parent:j,model:le,brush:c.makeBrush(ne,Te,Le,function(){ne.linePickActive(!1)},xe,function(tt){if(j.focusLayer.render(j.panels,!0),j.pickLayer&&j.pickLayer.render(j.panels,!0),ne.linePickActive(!0),Q&&Q.filterChanged){var vt=ye.invert,pt=tt.map(function(mt){return mt.map(vt).sort(L.sorterAsc)}).sort(function(mt,wt){return mt[0]-wt[0]});Q.filterChanged(j.key,ae._index,pt)}})}}),j}function k(ne){ne.classed(M.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(){var ne=!0,Q=!1;return{linePickActive:function(le){return arguments.length?ne=!!le:ne},contextShown:function(le){return arguments.length?Q=!!le:Q}}}function F(ne,Q){var le=Q==="top"?1:-1,Z=ne*Math.PI/180,Y=Math.sin(Z),re=Math.cos(Z);return{dir:le,dx:Y,dy:re,degrees:ne}}function O(ne,Q,le){for(var Z=Q.panels||(Q.panels=[]),Y=ne.data(),re=0;re<Y.length-1;re++){var X=Z[re]||(Z[re]={}),q=Y[re],se=Y[re+1];X.dim0=q,X.dim1=se,X.canvasX=q.canvasX,X.panelSizeX=se.canvasX-q.canvasX,X.panelSizeY=Q.model.canvasHeight,X.y=0,X.canvasY=0,X.plotGlPixelRatio=le}}function B(ne){for(var Q=0;Q<ne.length;Q++)for(var le=0;le<ne[Q].length;le++)for(var Z=ne[Q][le].trace,Y=Z.dimensions,re=0;re<Y.length;re++){var X=Y[re].values,q=Y[re]._ax;q&&(q.range?q.range=E(q.range[0],q.range[1]):q.range=x(X,Z._length),q.dtick||(q.dtick=.01*(Math.abs(q.range[1]-q.range[0])||1)),q.tickformat=Y[re].tickformat,v.calcTicks(q),q.cleanRange())}}function W(ne,Q){return v.tickText(ne._ax,Q,!1).text}function ee(ne,Q){if(ne.ordinal)return"";var le=ne.domainScale.domain(),Z=le[Q?le.length-1:0];return W(ne.model.dimensions[ne.visibleIndex],Z)}H.exports=function(Q,le,Z,Y){var re=Q._context.staticPlot,X=Q._fullLayout,q=X._toppaper,se=X._glcontainer,$=Q._context.plotGlPixelRatio,j=Q._fullLayout.paper_bgcolor;B(le);var ue=z(),ae=le.filter(function(rt){return m(rt).trace.visible}).map(D.bind(0,Z)).map(N.bind(0,ue,Y));se.each(function(rt,tt){return L.extendFlat(rt,ae[tt])});var ce=se.selectAll(".gl-canvas").each(function(rt){rt.viewModel=ae[0],rt.viewModel.plotGlPixelRatio=$,rt.viewModel.paperColor=j,rt.model=rt.viewModel?rt.viewModel.model:null}),ye=null,Ce=ce.filter(function(rt){return rt.pick});Ce.style("pointer-events",re?"none":"auto").on("mousemove",function(rt){if(ue.linePickActive()&&rt.lineLayer&&Y&&Y.hover){var tt=p.event,vt=this.width,pt=this.height,mt=p.mouse(this),wt=mt[0],Lt=mt[1];if(wt<0||Lt<0||wt>=vt||Lt>=pt)return;var at=rt.lineLayer.readPixel(wt,pt-1-Lt),Oe=at[3]!==0,Ze=Oe?at[2]+256*(at[1]+256*at[0]):null,Je={x:wt,y:Lt,clientX:tt.clientX,clientY:tt.clientY,dataIndex:rt.model.key,curveNumber:Ze};Ze!==ye&&(Oe?Y.hover(Je):Y.unhover&&Y.unhover(Je),ye=Ze)}}),ce.style("opacity",function(rt){return rt.pick?0:1}),q.style("background","rgba(255, 255, 255, 0)");var Ae=q.selectAll("."+M.cn.parcoords).data(ae,u);Ae.exit().remove(),Ae.enter().append("g").classed(M.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ae.attr("transform",function(rt){return r(rt.model.translateX,rt.model.translateY)});var Ie=Ae.selectAll("."+M.cn.parcoordsControlView).data(l,u);Ie.enter().append("g").classed(M.cn.parcoordsControlView,!0),Ie.attr("transform",function(rt){return r(rt.model.pad.l,rt.model.pad.t)});var Te=Ie.selectAll("."+M.cn.yAxis).data(function(rt){return rt.dimensions},u);Te.enter().append("g").classed(M.cn.yAxis,!0),Ie.each(function(rt){O(Te,rt,$)}),ce.each(function(rt){if(rt.viewModel){!rt.lineLayer||Y?rt.lineLayer=i(this,rt):rt.lineLayer.update(rt),(rt.key||rt.key===0)&&(rt.viewModel[rt.key]=rt.lineLayer);var tt=!rt.context||Y;rt.lineLayer.render(rt.viewModel.panels,tt)}}),Te.attr("transform",function(rt){return r(rt.xScale(rt.xIndex),0)}),Te.call(p.behavior.drag().origin(function(rt){return rt}).on("drag",function(rt){var tt=rt.parent;ue.linePickActive(!1),rt.x=Math.max(-M.overdrag,Math.min(rt.model.width+M.overdrag,p.event.x)),rt.canvasX=rt.x*rt.model.canvasPixelRatio,Te.sort(function(vt,pt){return vt.x-pt.x}).each(function(vt,pt){vt.xIndex=pt,vt.x=rt===vt?vt.x:vt.xScale(vt.xIndex),vt.canvasX=vt.x*vt.model.canvasPixelRatio}),O(Te,tt,$),Te.filter(function(vt){return Math.abs(rt.xIndex-vt.xIndex)!==0}).attr("transform",function(vt){return r(vt.xScale(vt.xIndex),0)}),p.select(this).attr("transform",r(rt.x,0)),Te.each(function(vt,pt,mt){mt===rt.parent.key&&(tt.dimensions[pt]=vt)}),tt.contextLayer&&tt.contextLayer.render(tt.panels,!1,!I(tt)),tt.focusLayer.render&&tt.focusLayer.render(tt.panels)}).on("dragend",function(rt){var tt=rt.parent;rt.x=rt.xScale(rt.xIndex),rt.canvasX=rt.x*rt.model.canvasPixelRatio,O(Te,tt,$),p.select(this).attr("transform",function(vt){return r(vt.x,0)}),tt.contextLayer&&tt.contextLayer.render(tt.panels,!1,!I(tt)),tt.focusLayer&&tt.focusLayer.render(tt.panels),tt.pickLayer&&tt.pickLayer.render(tt.panels,!0),ue.linePickActive(!0),Y&&Y.axesMoved&&Y.axesMoved(tt.key,tt.dimensions.map(function(vt){return vt.crossfilterDimensionIndex}))})),Te.exit().remove();var Le=Te.selectAll("."+M.cn.axisOverlays).data(l,u);Le.enter().append("g").classed(M.cn.axisOverlays,!0),Le.selectAll("."+M.cn.axis).remove();var xe=Le.selectAll("."+M.cn.axis).data(l,u);xe.enter().append("g").classed(M.cn.axis,!0),xe.each(function(rt){var tt=rt.model.height/rt.model.tickDistance,vt=rt.domainScale,pt=vt.domain();p.select(this).call(p.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(tt,rt.tickFormat).tickValues(rt.ordinal?pt:null).tickFormat(function(mt){return h.isOrdinal(rt)?mt:W(rt.model.dimensions[rt.visibleIndex],mt)}).scale(vt)),s.font(xe.selectAll("text"),rt.model.tickFont)}),xe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),xe.selectAll("text").style("text-shadow",t.makeTextShadow(j)).style("cursor","default");var Re=Le.selectAll("."+M.cn.axisHeading).data(l,u);Re.enter().append("g").classed(M.cn.axisHeading,!0);var He=Re.selectAll("."+M.cn.axisTitle).data(l,u);He.enter().append("text").classed(M.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",re?"none":"auto"),He.text(function(rt){return rt.label}).each(function(rt){var tt=p.select(this);s.font(tt,rt.model.labelFont),t.convertToTspans(tt,Q)}).attr("transform",function(rt){var tt=F(rt.model.labelAngle,rt.model.labelSide),vt=M.axisTitleOffset;return(tt.dir>0?"":r(0,2*vt+rt.model.height))+g(tt.degrees)+r(-vt*tt.dx,-vt*tt.dy)}).attr("text-anchor",function(rt){var tt=F(rt.model.labelAngle,rt.model.labelSide),vt=Math.abs(tt.dx),pt=Math.abs(tt.dy);return 2*vt>pt?tt.dir*tt.dx<0?"start":"end":"middle"});var Ve=Le.selectAll("."+M.cn.axisExtent).data(l,u);Ve.enter().append("g").classed(M.cn.axisExtent,!0);var Fe=Ve.selectAll("."+M.cn.axisExtentTop).data(l,u);Fe.enter().append("g").classed(M.cn.axisExtentTop,!0),Fe.attr("transform",r(0,-M.axisExtentOffset));var We=Fe.selectAll("."+M.cn.axisExtentTopText).data(l,u);We.enter().append("text").classed(M.cn.axisExtentTopText,!0).call(k),We.text(function(rt){return ee(rt,!0)}).each(function(rt){s.font(p.select(this),rt.model.rangeFont)});var ut=Ve.selectAll("."+M.cn.axisExtentBottom).data(l,u);ut.enter().append("g").classed(M.cn.axisExtentBottom,!0),ut.attr("transform",function(rt){return r(0,rt.model.height+M.axisExtentOffset)});var ht=ut.selectAll("."+M.cn.axisExtentBottomText).data(l,u);ht.enter().append("text").classed(M.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(k),ht.text(function(rt){return ee(rt,!1)}).each(function(rt){s.font(p.select(this),rt.model.rangeFont)}),c.ensureAxisBrush(Le,j,Q)}},24196:function(H,U,e){var p=e(36336),L=e(5048),n=e(95724).isVisible,C={};function T(r,t,s){var a=t.indexOf(s),f=r.indexOf(a);return f===-1&&(f+=t.length),f}function v(r,t){return function(a,f){return T(r,t,a)-T(r,t,f)}}var g=H.exports=function(t,s){var a=t._fullLayout,f=L(t,[],C);if(f){var u={},l={},m={},h={},M=a._size;s.forEach(function(A,E){var y=A[0].trace;m[E]=y.index;var S=h[E]=y._fullInput.index;u[E]=t.data[S].dimensions,l[E]=t.data[S].dimensions.slice()});var c=function(A,E,y){var S=l[A][E],w=y.map(function(N){return N.slice()}),o="dimensions["+E+"].constraintrange",_=a._tracePreGUI[t._fullData[m[A]]._fullInput.uid];if(_[o]===void 0){var b=S.constraintrange;_[o]=b||null}var I=t._fullData[m[A]].dimensions[E];w.length?(w.length===1&&(w=w[0]),S.constraintrange=w,I.constraintrange=w.slice(),w=[w]):(delete S.constraintrange,delete I.constraintrange,w=null);var D={};D[o]=w,t.emit("plotly_restyle",[D,[h[A]]])},i=function(A){t.emit("plotly_hover",A)},d=function(A){t.emit("plotly_unhover",A)},x=function(A,E){var y=v(E,l[A].filter(n));u[A].sort(y),l[A].filter(function(S){return!n(S)}).sort(function(S){return l[A].indexOf(S)}).forEach(function(S){u[A].splice(u[A].indexOf(S),1),u[A].splice(l[A].indexOf(S),0,S)}),t.emit("plotly_restyle",[{dimensions:[u[A]]},[h[A]]])};p(t,s,{width:M.w,height:M.h,margin:{t:M.t,r:M.r,b:M.b,l:M.l}},{filterChanged:c,hover:i,unhover:d,axesMoved:x})}};g.reglPrecompiled=C},74996:function(H,U,e){var p=e(45464),L=e(86968).u,n=e(25376),C=e(22548),T=e(21776).Ks,v=e(21776).Gw,g=e(92880).extendFlat,r=e(98192).c,t=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});H.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:g({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:T({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:g({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:g({},t,{}),outsidetextfont:g({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:g({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:L({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:g({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(H,U,e){var p=e(7316);U.name="pie",U.plot=function(L,n,C,T){p.plotBasePlot(U.name,L,n,C,T)},U.clean=function(L,n,C,T){p.cleanBasePlot(U.name,L,n,C,T)}},45768:function(H,U,e){var p=e(38248),L=e(49760),n=e(76308),C={};function T(t,s){var a=[],f=t._fullLayout,u=f.hiddenlabels||[],l=s.labels,m=s.marker.colors||[],h=s.values,M=s._length,c=s._hasValues&&M,i,d;if(s.dlabel)for(l=new Array(M),i=0;i<M;i++)l[i]=String(s.label0+i*s.dlabel);var x={},A=v(f["_"+s.type+"colormap"]),E=0,y=!1;for(i=0;i<M;i++){var S,w,o;if(c){if(S=h[i],!p(S))continue;S=+S}else S=1;w=l[i],(w===void 0||w==="")&&(w=i),w=String(w);var _=x[w];_===void 0?(x[w]=a.length,o=u.indexOf(w)!==-1,o||(E+=S),a.push({v:S,label:w,color:A(m[i],w),i,pts:[i],hidden:o})):(y=!0,d=a[_],d.v+=S,d.pts.push(i),d.hidden||(E+=S),d.color===!1&&m[i]&&(d.color=A(m[i],w)))}a=a.filter(function(I){return I.v>=0});var b=s.type==="funnelarea"?y:s.sort;return b&&a.sort(function(I,D){return D.v-I.v}),a[0]&&(a[0].vTotal=E),a}function v(t){return function(a,f){return!a||(a=L(a),!a.isValid())?!1:(a=n.addOpacity(a,a.getAlpha()),t[f]||(t[f]=a),a)}}function g(t,s){var a=(s||{}).type;a||(a="pie");var f=t._fullLayout,u=t.calcdata,l=f[a+"colorway"],m=f["_"+a+"colormap"];f["extend"+a+"colors"]&&(l=r(l,C));for(var h=0,M=0;M<u.length;M++){var c=u[M],i=c[0].trace.type;if(i===a)for(var d=0;d<c.length;d++){var x=c[d];x.color===!1&&(m[x.label]?x.color=m[x.label]:(m[x.label]=x.color=l[h%l.length],h++))}}}function r(t,s){var a,f=JSON.stringify(t),u=s[f];if(!u){for(u=t.slice(),a=0;a<t.length;a++)u.push(L(t[a]).lighten(20).toHexString());for(a=0;a<t.length;a++)u.push(L(t[a]).darken(20).toHexString());s[f]=u}return u}H.exports={calc:T,crossTraceCalc:g,makePullColorFn:v,generateExtendedColors:r}},74174:function(H,U,e){var p=e(38248),L=e(3400),n=e(74996),C=e(86968).Q,T=e(31508).handleText,v=e(3400).coercePattern;function g(s,a){var f=L.isArrayOrTypedArray(s),u=L.isArrayOrTypedArray(a),l=Math.min(f?s.length:1/0,u?a.length:1/0);if(isFinite(l)||(l=0),l&&u){for(var m,h=0;h<l;h++){var M=a[h];if(p(M)&&M>0){m=!0;break}}m||(l=0)}return{hasLabels:f,hasValues:u,len:l}}function r(s,a,f,u,l){var m=u("marker.line.width");m&&u("marker.line.color",l?void 0:f.paper_bgcolor);var h=u("marker.colors");v(u,"marker.pattern",h),s.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=s.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=f.paper_bgcolor)}function t(s,a,f,u){function l(_,b){return L.coerce(s,a,n,_,b)}var m=l("labels"),h=l("values"),M=g(m,h),c=M.len;if(a._hasLabels=M.hasLabels,a._hasValues=M.hasValues,!a._hasLabels&&a._hasValues&&(l("label0"),l("dlabel")),!c){a.visible=!1;return}a._length=c,r(s,a,u,l,!0),l("scalegroup");var i=l("text"),d=l("texttemplate"),x;if(d||(x=l("textinfo",L.isArrayOrTypedArray(i)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||x&&x!=="none"){var A=l("textposition");T(s,a,u,l,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var E=Array.isArray(A)||A==="auto",y=E||A==="outside";y&&l("automargin"),(A==="inside"||A==="auto"||Array.isArray(A))&&l("insidetextorientation")}else x==="none"&&l("textposition","none");C(a,u,l);var S=l("hole"),w=l("title.text");if(w){var o=l("title.position",S?"middle center":"top center");!S&&o==="middle center"&&(a.title.position="top center"),L.coerceFont(l,"title.font",u.font)}l("sort"),l("direction"),l("rotation"),l("pull")}H.exports={handleLabelsAndValues:g,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(H,U,e){var p=e(10624).appendArrayMultiPointValues;H.exports=function(n,C){var T={curveNumber:C.index,pointNumbers:n.pts,data:C._input,fullData:C,label:n.label,color:n.color,value:n.v,percent:n.percent,text:n.text,bbox:n.bbox,v:n.v};return n.pts.length===1&&(T.pointNumber=T.i=n.pts[0]),p(T,C,n.pts),C.type==="funnelarea"&&(delete T.v,delete T.i),T}},21552:function(H,U,e){var p=e(43616),L=e(76308);H.exports=function(C,T,v,g){var r=v.marker.pattern;r&&r.shape?p.pointStyle(C,v,g,T):L.fill(C,T.color)}},69656:function(H,U,e){var p=e(3400);function L(n){return n.indexOf("e")!==-1?n.replace(/[.]?0+e/,"e"):n.indexOf(".")!==-1?n.replace(/[.]?0+$/,""):n}U.formatPiePercent=function(C,T){var v=L((C*100).toPrecision(3));return p.numSeparate(v,T)+"%"},U.formatPieValue=function(C,T){var v=L(C.toPrecision(10));return p.numSeparate(v,T)},U.getFirstFilled=function(C,T){if(p.isArrayOrTypedArray(C))for(var v=0;v<T.length;v++){var g=C[T[v]];if(g||g===0||g==="")return g}},U.castOption=function(C,T){if(p.isArrayOrTypedArray(C))return U.getFirstFilled(C,T);if(C)return C},U.getRotationAngle=function(n){return(n==="auto"?0:n)*Math.PI/180}},75792:function(H,U,e){H.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(H){H.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(H,U,e){var p=e(3400),L=e(85204);H.exports=function(C,T){function v(g,r){return p.coerce(C,T,L,g,r)}v("hiddenlabels"),v("piecolorway",T.colorway),v("extendpiecolors")}},37820:function(H,U,e){var p=e(33428),L=e(7316),n=e(93024),C=e(76308),T=e(43616),v=e(3400),g=v.strScale,r=v.strTranslate,t=e(72736),s=e(82744),a=s.recordMinTextSize,f=s.clearMinTextSize,u=e(78048).TEXTPAD,l=e(69656),m=e(53644),h=e(3400).isValidTextValue;function M(Y,re){var X=Y._context.staticPlot,q=Y._fullLayout,se=q._size;f("pie",q),A(re,Y),W(re,se);var $=v.makeTraceGroups(q._pielayer,re,"trace").each(function(j){var ue=p.select(this),ae=j[0],ce=ae.trace;ne(j),ue.attr("stroke-linejoin","round"),ue.each(function(){var ye=p.select(this).selectAll("g.slice").data(j);ye.enter().append("g").classed("slice",!0),ye.exit().remove();var Ce=[[[],[]],[[],[]]],Ae=!1;ye.each(function(Fe,We){if(Fe.hidden){p.select(this).selectAll("path,g").remove();return}Fe.pointNumber=Fe.i,Fe.curveNumber=ce.index,Ce[Fe.pxmid[1]<0?0:1][Fe.pxmid[0]<0?0:1].push(Fe);var ut=ae.cx,ht=ae.cy,rt=p.select(this),tt=rt.selectAll("path.surface").data([Fe]);if(tt.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),rt.call(i,Y,j),ce.pull){var vt=+l.castOption(ce.pull,Fe.pts)||0;vt>0&&(ut+=vt*Fe.pxmid[0],ht+=vt*Fe.pxmid[1])}Fe.cxFinal=ut,Fe.cyFinal=ht;function pt(Je,Ye,ke,be){var me=be*(Ye[0]-Je[0]),_e=be*(Ye[1]-Je[1]);return"a"+be*ae.r+","+be*ae.r+" 0 "+Fe.largeArc+(ke?" 1 ":" 0 ")+me+","+_e}var mt=ce.hole;if(Fe.v===ae.vTotal){var wt="M"+(ut+Fe.px0[0])+","+(ht+Fe.px0[1])+pt(Fe.px0,Fe.pxmid,!0,1)+pt(Fe.pxmid,Fe.px0,!0,1)+"Z";mt?tt.attr("d","M"+(ut+mt*Fe.px0[0])+","+(ht+mt*Fe.px0[1])+pt(Fe.px0,Fe.pxmid,!1,mt)+pt(Fe.pxmid,Fe.px0,!1,mt)+"Z"+wt):tt.attr("d",wt)}else{var Lt=pt(Fe.px0,Fe.px1,!0,1);if(mt){var at=1-mt;tt.attr("d","M"+(ut+mt*Fe.px1[0])+","+(ht+mt*Fe.px1[1])+pt(Fe.px1,Fe.px0,!1,mt)+"l"+at*Fe.px0[0]+","+at*Fe.px0[1]+Lt+"Z")}else tt.attr("d","M"+ut+","+ht+"l"+Fe.px0[0]+","+Fe.px0[1]+Lt+"Z")}le(Y,Fe,ae);var Oe=l.castOption(ce.textposition,Fe.pts),Ze=rt.selectAll("g.slicetext").data(Fe.text&&Oe!=="none"?[0]:[]);Ze.enter().append("g").classed("slicetext",!0),Ze.exit().remove(),Ze.each(function(){var Je=v.ensureSingle(p.select(this),"text","",function(je){je.attr("data-notex",1)}),Ye=v.ensureUniformFontSize(Y,Oe==="outside"?d(ce,Fe,q.font):x(ce,Fe,q.font));Je.text(Fe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(T.font,Ye).call(t.convertToTspans,Y);var ke=T.bBox(Je.node()),be;if(Oe==="outside")be=D(ke,Fe);else if(be=E(ke,Fe,ae),Oe==="auto"&&be.scale<1){var me=v.ensureUniformFontSize(Y,ce.outsidetextfont);Je.call(T.font,me),ke=T.bBox(Je.node()),be=D(ke,Fe)}var _e=be.textPosAngle,Ee=_e===void 0?Fe.pxmid:Q(ae.r,_e);if(be.targetX=ut+Ee[0]*be.rCenter+(be.x||0),be.targetY=ht+Ee[1]*be.rCenter+(be.y||0),Z(be,ke),be.outside){var Be=be.targetY;Fe.yLabelMin=Be-ke.height/2,Fe.yLabelMid=Be,Fe.yLabelMax=Be+ke.height/2,Fe.labelExtraX=0,Fe.labelExtraY=0,Ae=!0}be.fontSize=Ye.size,a(ce.type,be,q),j[We].transform=be,v.setTransormAndDisplay(Je,be)})});var Ie=p.select(this).selectAll("g.titletext").data(ce.title.text?[0]:[]);if(Ie.enter().append("g").classed("titletext",!0),Ie.exit().remove(),Ie.each(function(){var Fe=v.ensureSingle(p.select(this),"text","",function(ht){ht.attr("data-notex",1)}),We=ce.title.text;ce._meta&&(We=v.templateString(We,ce._meta)),Fe.text(We).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(T.font,ce.title.font).call(t.convertToTspans,Y);var ut;ce.title.position==="middle center"?ut=N(ae):ut=k(ae,se),Fe.attr("transform",r(ut.x,ut.y)+g(Math.min(1,ut.scale))+r(ut.tx,ut.ty))}),Ae&&B(Ce,ce),c(ye,ce),Ae&&ce.automargin){var Te=T.bBox(ue.node()),Le=ce.domain,xe=se.w*(Le.x[1]-Le.x[0]),Re=se.h*(Le.y[1]-Le.y[0]),He=(.5*xe-ae.r)/se.w,Ve=(.5*Re-ae.r)/se.h;L.autoMargin(Y,"pie."+ce.uid+".automargin",{xl:Le.x[0]-He,xr:Le.x[1]+He,yb:Le.y[0]-Ve,yt:Le.y[1]+Ve,l:Math.max(ae.cx-ae.r-Te.left,0),r:Math.max(Te.right-(ae.cx+ae.r),0),b:Math.max(Te.bottom-(ae.cy+ae.r),0),t:Math.max(ae.cy-ae.r-Te.top,0),pad:5})}})});setTimeout(function(){$.selectAll("tspan").each(function(){var j=p.select(this);j.attr("dy")&&j.attr("dy",j.attr("dy"))})},0)}function c(Y,re){Y.each(function(X){var q=p.select(this);if(!X.labelExtraX&&!X.labelExtraY){q.select("path.textline").remove();return}var se=q.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,v.setTransormAndDisplay(se,X.transform);var $=X.cxFinal+X.pxmid[0],j=X.cyFinal+X.pxmid[1],ue="M"+$+","+j,ae=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var ce=X.labelExtraX*X.pxmid[1]/X.pxmid[0],ye=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(ce)>Math.abs(ye)?ue+="l"+ye*X.pxmid[0]/X.pxmid[1]+","+ye+"H"+($+X.labelExtraX+ae):ue+="l"+X.labelExtraX+","+ce+"v"+(ye-ce)+"h"+ae}else ue+="V"+(X.yLabelMid+X.labelExtraY)+"h"+ae;v.ensureSingle(q,"path","textline").call(C.stroke,re.outsidetextfont.color).attr({"stroke-width":Math.min(2,re.outsidetextfont.size/8),d:ue,fill:"none"})})}function i(Y,re,X){var q=X[0],se=q.cx,$=q.cy,j=q.trace,ue=j.type==="funnelarea";"_hasHoverLabel"in j||(j._hasHoverLabel=!1),"_hasHoverEvent"in j||(j._hasHoverEvent=!1),Y.on("mouseover",function(ae){var ce=re._fullLayout,ye=re._fullData[j.index];if(!(re._dragging||ce.hovermode===!1)){var Ce=ye.hoverinfo;if(Array.isArray(Ce)&&(Ce=n.castHoverinfo({hoverinfo:[l.castOption(Ce,ae.pts)],_module:j._module},ce,0)),Ce==="all"&&(Ce="label+text+value+percent+name"),ye.hovertemplate||Ce!=="none"&&Ce!=="skip"&&Ce){var Ae=ae.rInscribed||0,Ie=se+ae.pxmid[0]*(1-Ae),Te=$+ae.pxmid[1]*(1-Ae),Le=ce.separators,xe=[];if(Ce&&Ce.indexOf("label")!==-1&&xe.push(ae.label),ae.text=l.castOption(ye.hovertext||ye.text,ae.pts),Ce&&Ce.indexOf("text")!==-1){var Re=ae.text;v.isValidTextValue(Re)&&xe.push(Re)}ae.value=ae.v,ae.valueLabel=l.formatPieValue(ae.v,Le),Ce&&Ce.indexOf("value")!==-1&&xe.push(ae.valueLabel),ae.percent=ae.v/q.vTotal,ae.percentLabel=l.formatPiePercent(ae.percent,Le),Ce&&Ce.indexOf("percent")!==-1&&xe.push(ae.percentLabel);var He=ye.hoverlabel,Ve=He.font,Fe=[];n.loneHover({trace:j,x0:Ie-Ae*q.r,x1:Ie+Ae*q.r,y:Te,_x0:ue?se+ae.TL[0]:Ie-Ae*q.r,_x1:ue?se+ae.TR[0]:Ie+Ae*q.r,_y0:ue?$+ae.TL[1]:Te-Ae*q.r,_y1:ue?$+ae.BL[1]:Te+Ae*q.r,text:xe.join("<br>"),name:ye.hovertemplate||Ce.indexOf("name")!==-1?ye.name:void 0,idealAlign:ae.pxmid[0]<0?"left":"right",color:l.castOption(He.bgcolor,ae.pts)||ae.color,borderColor:l.castOption(He.bordercolor,ae.pts),fontFamily:l.castOption(Ve.family,ae.pts),fontSize:l.castOption(Ve.size,ae.pts),fontColor:l.castOption(Ve.color,ae.pts),nameLength:l.castOption(He.namelength,ae.pts),textAlign:l.castOption(He.align,ae.pts),hovertemplate:l.castOption(ye.hovertemplate,ae.pts),hovertemplateLabels:ae,eventData:[m(ae,ye)]},{container:ce._hoverlayer.node(),outerContainer:ce._paper.node(),gd:re,inOut_bbox:Fe}),ae.bbox=Fe[0],j._hasHoverLabel=!0}j._hasHoverEvent=!0,re.emit("plotly_hover",{points:[m(ae,ye)],event:p.event})}}),Y.on("mouseout",function(ae){var ce=re._fullLayout,ye=re._fullData[j.index],Ce=p.select(this).datum();j._hasHoverEvent&&(ae.originalEvent=p.event,re.emit("plotly_unhover",{points:[m(Ce,ye)],event:p.event}),j._hasHoverEvent=!1),j._hasHoverLabel&&(n.loneUnhover(ce._hoverlayer.node()),j._hasHoverLabel=!1)}),Y.on("click",function(ae){var ce=re._fullLayout,ye=re._fullData[j.index];re._dragging||ce.hovermode===!1||(re._hoverdata=[m(ae,ye)],n.click(re,p.event))})}function d(Y,re,X){var q=l.castOption(Y.outsidetextfont.color,re.pts)||l.castOption(Y.textfont.color,re.pts)||X.color,se=l.castOption(Y.outsidetextfont.family,re.pts)||l.castOption(Y.textfont.family,re.pts)||X.family,$=l.castOption(Y.outsidetextfont.size,re.pts)||l.castOption(Y.textfont.size,re.pts)||X.size;return{color:q,family:se,size:$}}function x(Y,re,X){var q=l.castOption(Y.insidetextfont.color,re.pts);!q&&Y._input.textfont&&(q=l.castOption(Y._input.textfont.color,re.pts));var se=l.castOption(Y.insidetextfont.family,re.pts)||l.castOption(Y.textfont.family,re.pts)||X.family,$=l.castOption(Y.insidetextfont.size,re.pts)||l.castOption(Y.textfont.size,re.pts)||X.size;return{color:q||C.contrast(re.color),family:se,size:$}}function A(Y,re){for(var X,q,se=0;se<Y.length;se++)if(X=Y[se][0],q=X.trace,q.title.text){var $=q.title.text;q._meta&&($=v.templateString($,q._meta));var j=T.tester.append("text").attr("data-notex",1).text($).call(T.font,q.title.font).call(t.convertToTspans,re),ue=T.bBox(j.node(),!0);X.titleBox={width:ue.width,height:ue.height},j.remove()}}function E(Y,re,X){var q=X.r||re.rpx1,se=re.rInscribed,$=re.startangle===re.stopangle;if($)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var j=re.ring,ue=j===1&&Math.abs(re.startangle-re.stopangle)===Math.PI*2,ae=re.halfangle,ce=re.midangle,ye=X.trace.insidetextorientation,Ce=ye==="horizontal",Ae=ye==="tangential",Ie=ye==="radial",Te=ye==="auto",Le=[],xe;if(!Te){var Re=function(rt,tt){if(y(re,rt)){var vt=Math.abs(rt-re.startangle),pt=Math.abs(rt-re.stopangle),mt=vt<pt?vt:pt;tt==="tan"?xe=w(Y,q,j,mt,0):xe=S(Y,q,j,mt,Math.PI/2),xe.textPosAngle=rt,Le.push(xe)}},He;if(Ce||Ae){for(He=4;He>=-4;He-=2)Re(Math.PI*He,"tan");for(He=4;He>=-4;He-=2)Re(Math.PI*(He+1),"tan")}if(Ce||Ie){for(He=4;He>=-4;He-=2)Re(Math.PI*(He+1.5),"rad");for(He=4;He>=-4;He-=2)Re(Math.PI*(He+.5),"rad")}}if(ue||Te||Ce){var Ve=Math.sqrt(Y.width*Y.width+Y.height*Y.height);if(xe={scale:se*q*2/Ve,rCenter:1-se,rotate:0},xe.textPosAngle=(re.startangle+re.stopangle)/2,xe.scale>=1)return xe;Le.push(xe)}(Te||Ie)&&(xe=S(Y,q,j,ae,ce),xe.textPosAngle=(re.startangle+re.stopangle)/2,Le.push(xe)),(Te||Ae)&&(xe=w(Y,q,j,ae,ce),xe.textPosAngle=(re.startangle+re.stopangle)/2,Le.push(xe));for(var Fe=0,We=0,ut=0;ut<Le.length;ut++){var ht=Le[ut].scale;if(We<ht&&(We=ht,Fe=ut),!Te&&We>=1)break}return Le[Fe]}function y(Y,re){var X=Y.startangle,q=Y.stopangle;return X>re&&re>q||X<re&&re<q}function S(Y,re,X,q,se){re=Math.max(0,re-2*u);var $=Y.width/Y.height,j=b($,q,re,X);return{scale:j*2/Y.height,rCenter:o($,j/re),rotate:_(se)}}function w(Y,re,X,q,se){re=Math.max(0,re-2*u);var $=Y.height/Y.width,j=b($,q,re,X);return{scale:j*2/Y.width,rCenter:o($,j/re),rotate:_(se+Math.PI/2)}}function o(Y,re){return Math.cos(re)-Y*re}function _(Y){return(180/Math.PI*Y+720)%180-90}function b(Y,re,X,q){var se=Y+1/(2*Math.tan(re));return X*Math.min(1/(Math.sqrt(se*se+.5)+se),q/(Math.sqrt(Y*Y+q/2)+Y))}function I(Y,re){return Y.v===re.vTotal&&!re.trace.hole?1:Math.min(1/(1+1/Math.sin(Y.halfangle)),Y.ring/2)}function D(Y,re){var X=re.pxmid[0],q=re.pxmid[1],se=Y.width/2,$=Y.height/2;return X<0&&(se*=-1),q<0&&($*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs($)*(se>0?1:-1)/2,y:$/(1+X*X/(q*q)),outside:!0}}function N(Y){var re=Math.sqrt(Y.titleBox.width*Y.titleBox.width+Y.titleBox.height*Y.titleBox.height);return{x:Y.cx,y:Y.cy,scale:Y.trace.hole*Y.r*2/re,tx:0,ty:-Y.titleBox.height/2+Y.trace.title.font.size}}function k(Y,re){var X=1,q=1,se,$=Y.trace,j={x:Y.cx,y:Y.cy},ue={tx:0,ty:0};ue.ty+=$.title.font.size,se=O($),$.title.position.indexOf("top")!==-1?(j.y-=(1+se)*Y.r,ue.ty-=Y.titleBox.height):$.title.position.indexOf("bottom")!==-1&&(j.y+=(1+se)*Y.r);var ae=z(Y.r,Y.trace.aspectratio),ce=re.w*($.domain.x[1]-$.domain.x[0])/2;return $.title.position.indexOf("left")!==-1?(ce=ce+ae,j.x-=(1+se)*ae,ue.tx+=Y.titleBox.width/2):$.title.position.indexOf("center")!==-1?ce*=2:$.title.position.indexOf("right")!==-1&&(ce=ce+ae,j.x+=(1+se)*ae,ue.tx-=Y.titleBox.width/2),X=ce/Y.titleBox.width,q=F(Y,re)/Y.titleBox.height,{x:j.x,y:j.y,scale:Math.min(X,q),tx:ue.tx,ty:ue.ty}}function z(Y,re){return Y/(re===void 0?1:re)}function F(Y,re){var X=Y.trace,q=re.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(Y.titleBox.height,q/2)}function O(Y){var re=Y.pull;if(!re)return 0;var X;if(v.isArrayOrTypedArray(re))for(re=0,X=0;X<Y.pull.length;X++)Y.pull[X]>re&&(re=Y.pull[X]);return re}function B(Y,re){var X,q,se,$,j,ue,ae,ce,ye,Ce,Ae,Ie,Te;function Le(Ve,Fe){return Ve.pxmid[1]-Fe.pxmid[1]}function xe(Ve,Fe){return Fe.pxmid[1]-Ve.pxmid[1]}function Re(Ve,Fe){Fe||(Fe={});var We=Fe.labelExtraY+(q?Fe.yLabelMax:Fe.yLabelMin),ut=q?Ve.yLabelMin:Ve.yLabelMax,ht=q?Ve.yLabelMax:Ve.yLabelMin,rt=Ve.cyFinal+j(Ve.px0[1],Ve.px1[1]),tt=We-ut,vt,pt,mt,wt,Lt,at;if(tt*ae>0&&(Ve.labelExtraY=tt),!!v.isArrayOrTypedArray(re.pull))for(pt=0;pt<Ce.length;pt++)mt=Ce[pt],!(mt===Ve||(l.castOption(re.pull,Ve.pts)||0)>=(l.castOption(re.pull,mt.pts)||0))&&((Ve.pxmid[1]-mt.pxmid[1])*ae>0?(wt=mt.cyFinal+j(mt.px0[1],mt.px1[1]),tt=wt-ut-Ve.labelExtraY,tt*ae>0&&(Ve.labelExtraY+=tt)):(ht+Ve.labelExtraY-rt)*ae>0&&(vt=3*ue*Math.abs(pt-Ce.indexOf(Ve)),Lt=mt.cxFinal+$(mt.px0[0],mt.px1[0]),at=Lt+vt-(Ve.cxFinal+Ve.pxmid[0])-Ve.labelExtraX,at*ue>0&&(Ve.labelExtraX+=at)))}for(q=0;q<2;q++)for(se=q?Le:xe,j=q?Math.max:Math.min,ae=q?1:-1,X=0;X<2;X++){for($=X?Math.max:Math.min,ue=X?1:-1,ce=Y[q][X],ce.sort(se),ye=Y[1-q][X],Ce=ye.concat(ce),Ie=[],Ae=0;Ae<ce.length;Ae++)ce[Ae].yLabelMid!==void 0&&Ie.push(ce[Ae]);for(Te=!1,Ae=0;q&&Ae<ye.length;Ae++)if(ye[Ae].yLabelMid!==void 0){Te=ye[Ae];break}for(Ae=0;Ae<Ie.length;Ae++){var He=Ae&&Ie[Ae-1];Te&&!Ae&&(He=Te),Re(Ie[Ae],He)}}}function W(Y,re){for(var X=[],q=0;q<Y.length;q++){var se=Y[q][0],$=se.trace,j=$.domain,ue=re.w*(j.x[1]-j.x[0]),ae=re.h*(j.y[1]-j.y[0]);$.title.text&&$.title.position!=="middle center"&&(ae-=F(se,re));var ce=ue/2,ye=ae/2;$.type==="funnelarea"&&!$.scalegroup&&(ye/=$.aspectratio),se.r=Math.min(ce,ye)/(1+O($)),se.cx=re.l+re.w*($.domain.x[1]+$.domain.x[0])/2,se.cy=re.t+re.h*(1-$.domain.y[0])-ae/2,$.title.text&&$.title.position.indexOf("bottom")!==-1&&(se.cy-=F(se,re)),$.scalegroup&&X.indexOf($.scalegroup)===-1&&X.push($.scalegroup)}ee(Y,X)}function ee(Y,re){for(var X,q,se,$=0;$<re.length;$++){var j=1/0,ue=re[$];for(q=0;q<Y.length;q++)if(X=Y[q][0],se=X.trace,se.scalegroup===ue){var ae;if(se.type==="pie")ae=X.r*X.r;else if(se.type==="funnelarea"){var ce,ye;se.aspectratio>1?(ce=X.r,ye=ce/se.aspectratio):(ye=X.r,ce=ye*se.aspectratio),ce*=(1+se.baseratio)/2,ae=ce*ye}j=Math.min(j,ae/X.vTotal)}for(q=0;q<Y.length;q++)if(X=Y[q][0],se=X.trace,se.scalegroup===ue){var Ce=j*X.vTotal;se.type==="funnelarea"&&(Ce/=(1+se.baseratio)/2,Ce/=se.aspectratio),X.r=Math.sqrt(Ce)}}}function ne(Y){var re=Y[0],X=re.r,q=re.trace,se=l.getRotationAngle(q.rotation),$=2*Math.PI/re.vTotal,j="px0",ue="px1",ae,ce,ye;if(q.direction==="counterclockwise"){for(ae=0;ae<Y.length&&Y[ae].hidden;ae++);if(ae===Y.length)return;se+=$*Y[ae].v,$*=-1,j="px1",ue="px0"}for(ye=Q(X,se),ae=0;ae<Y.length;ae++)ce=Y[ae],!ce.hidden&&(ce[j]=ye,ce.startangle=se,se+=$*ce.v/2,ce.pxmid=Q(X,se),ce.midangle=se,se+=$*ce.v/2,ye=Q(X,se),ce.stopangle=se,ce[ue]=ye,ce.largeArc=ce.v>re.vTotal/2?1:0,ce.halfangle=Math.PI*Math.min(ce.v/re.vTotal,.5),ce.ring=1-q.hole,ce.rInscribed=I(ce,re))}function Q(Y,re){return[Y*Math.sin(re),-Y*Math.cos(re)]}function le(Y,re,X){var q=Y._fullLayout,se=X.trace,$=se.texttemplate,j=se.textinfo;if(!$&&j&&j!=="none"){var ue=j.split("+"),ae=function(Fe){return ue.indexOf(Fe)!==-1},ce=ae("label"),ye=ae("text"),Ce=ae("value"),Ae=ae("percent"),Ie=q.separators,Te;if(Te=ce?[re.label]:[],ye){var Le=l.getFirstFilled(se.text,re.pts);h(Le)&&Te.push(Le)}Ce&&Te.push(l.formatPieValue(re.v,Ie)),Ae&&Te.push(l.formatPiePercent(re.v/X.vTotal,Ie)),re.text=Te.join("<br>")}function xe(Fe){return{label:Fe.label,value:Fe.v,valueLabel:l.formatPieValue(Fe.v,q.separators),percent:Fe.v/X.vTotal,percentLabel:l.formatPiePercent(Fe.v/X.vTotal,q.separators),color:Fe.color,text:Fe.text,customdata:v.castOption(se,Fe.i,"customdata")}}if($){var Re=v.castOption(se,re.i,"texttemplate");if(!Re)re.text="";else{var He=xe(re),Ve=l.getFirstFilled(se.text,re.pts);(h(Ve)||Ve==="")&&(He.text=Ve),re.text=v.texttemplateString(Re,He,Y._fullLayout._d3locale,He,se._meta||{})}}}function Z(Y,re){var X=Y.rotate*Math.PI/180,q=Math.cos(X),se=Math.sin(X),$=(re.left+re.right)/2,j=(re.top+re.bottom)/2;Y.textX=$*q-j*se,Y.textY=$*se+j*q,Y.noCenter=!0}H.exports={plot:M,formatSliceLabel:le,transformInsideText:E,determineInsideTextFont:x,positionTitleOutside:k,prerenderTitles:A,layoutAreas:W,attachFxHandlers:i,computeTransform:Z}},22152:function(H,U,e){var p=e(33428),L=e(10528),n=e(82744).resizeText;H.exports=function(T){var v=T._fullLayout._pielayer.selectAll(".trace");n(T,v,"pie"),v.each(function(g){var r=g[0],t=r.trace,s=p.select(this);s.style({opacity:t.opacity}),s.selectAll("path.surface").each(function(a){p.select(this).call(L,a,t,T)})})}},10528:function(H,U,e){var p=e(76308),L=e(69656).castOption,n=e(21552);H.exports=function(T,v,g,r){var t=g.marker.line,s=L(t.color,v.pts)||p.defaultLine,a=L(t.width,v.pts)||0;T.call(n,v,g,r).style("stroke-width",a).call(p.stroke,s)}},35484:function(H,U,e){var p=e(52904);H.exports={x:p.x,y:p.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:p.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(H,U,e){var p=e(67792).gl_pointcloud2d,L=e(3400).isArrayOrTypedArray,n=e(43080),C=e(19280).findExtremes,T=e(44928);function v(t,s){this.scene=t,this.uid=s,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=p(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var g=v.prototype;g.handlePick=function(t){var s=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[s*2],this.pickXYData[s*2+1]]:[this.pickXData[s],this.pickYData[s]],textLabel:L(this.textLabels)?this.textLabels[s]:this.textLabels,color:this.color,name:this.name,pointIndex:s,hoverinfo:this.hoverinfo}},g.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=T(t,{})},g.updateFast=function(t){var s=this.xData=this.pickXData=t.x,a=this.yData=this.pickYData=t.y,f=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,l=t.indices,m,h,M,c=this.bounds,i,d,x;if(f){if(M=f,m=f.length>>>1,u)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(x=0;x<m;x++)i=M[x*2],d=M[x*2+1],i<c[0]&&(c[0]=i),i>c[2]&&(c[2]=i),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);if(l)h=l;else for(h=new Int32Array(m),x=0;x<m;x++)h[x]=x}else for(m=s.length,M=new Float32Array(2*m),h=new Int32Array(m),x=0;x<m;x++)i=s[x],d=a[x],h[x]=x,M[x*2]=i,M[x*2+1]=d,i<c[0]&&(c[0]=i),i>c[2]&&(c[2]=i),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=M;var A=n(t.marker.color),E=n(t.marker.border.color),y=t.opacity*t.marker.opacity;A[3]*=y,this.pointcloudOptions.color=A;var S=t.marker.blend;if(S===null){var w=100;S=s.length<w||a.length<w}this.pointcloudOptions.blend=S,E[3]*=y,this.pointcloudOptions.borderColor=E;var o=t.marker.sizemin,_=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=o,this.pointcloudOptions.sizeMax=_,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var b=this.scene.xaxis,I=this.scene.yaxis,D=_/2||.5;t._extremes[b._id]=C(b,[c[0],c[2]],{ppad:D}),t._extremes[I._id]=C(I,[c[1],c[3]],{ppad:D})},g.dispose=function(){this.pointcloud.dispose()};function r(t,s){var a=new v(t,s.uid);return a.update(s),a}H.exports=r},41904:function(H,U,e){var p=e(3400),L=e(35484);H.exports=function(C,T,v){function g(r,t){return p.coerce(C,T,L,r,t)}g("x"),g("y"),g("xbounds"),g("ybounds"),C.xy&&C.xy instanceof Float32Array&&(T.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(T.indices=C.indices),g("text"),g("marker.color",v),g("marker.opacity"),g("marker.blend"),g("marker.sizemin"),g("marker.sizemax"),g("marker.border.color",v),g("marker.border.arearatio"),T._length=null}},156:function(H,U,e){H.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(H,U,e){var p=e(25376),L=e(45464),n=e(22548),C=e(55756),T=e(86968).u,v=e(21776).Ks,g=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,s=e(92880).extendFlat,a=e(67824).overrideAll,f=H.exports=a({hoverinfo:s({},L.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:T({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:p({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:s(g().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");f.transforms=void 0},10760:function(H,U,e){var p=e(67824).overrideAll,L=e(84888)._M,n=e(59596),C=e(65460),T=e(93972),v=e(86476),g=e(22676).prepSelect,r=e(3400),t=e(24040),s="sankey";U.name=s,U.baseLayoutAttrOverrides=p({hoverlabel:C.hoverlabel},"plot","nested"),U.plot=function(f){var u=L(f.calcdata,s)[0];n(f,u),U.updateFx(f)},U.clean=function(f,u,l,m){var h=m._has&&m._has(s),M=u._has&&u._has(s);h&&!M&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},U.updateFx=function(f){for(var u=0;u<f._fullData.length;u++)a(f,u)};function a(f,u){var l=f._fullData[u],m=f._fullLayout,h=m.dragmode,M=m.dragmode==="pan"?"move":"crosshair",c=l._bgRect;if(c&&!(h==="pan"||h==="zoom")){T(c,M);var i={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},d={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},x={gd:f,element:c.node(),plotinfo:{id:u,xaxis:i,yaxis:d,fillRangeItems:r.noop},subplot:u,xaxes:[i],yaxes:[d],doneFnCompleted:function(A){var E=f._fullData[u],y,S=E.node.groups.slice(),w=[];function o(D){for(var N=E._sankey.graph.nodes,k=0;k<N.length;k++)if(N[k].pointNumber===D)return N[k]}for(var _=0;_<A.length;_++){var b=o(A[_].pointNumber);if(b)if(b.group){for(var I=0;I<b.childrenNodes.length;I++)w.push(b.childrenNodes[I].pointNumber);S[b.pointNumber-E.node._count]=!1}else w.push(b.pointNumber)}y=S.filter(Boolean).concat([w]),t.call("_guiRestyle",f,{"node.groups":[y]},u)}};x.prepFn=function(A,E,y){g(A,E,y,x,h)},v.init(x)}}},48068:function(H,U,e){var p=e(78484),L=e(3400),n=e(71688).wrap,C=L.isArrayOrTypedArray,T=L.isIndex,v=e(8932);function g(t){var s=t.node,a=t.link,f=[],u=C(a.color),l=C(a.hovercolor),m=C(a.customdata),h={},M={},c=a.colorscales.length,i;for(i=0;i<c;i++){var d=a.colorscales[i],x=v.extractScale(d,{cLetter:"c"}),A=v.makeColorScaleFunc(x);M[d.label]=A}var E=0;for(i=0;i<a.value.length;i++)a.source[i]>E&&(E=a.source[i]),a.target[i]>E&&(E=a.target[i]);var y=E+1;t.node._count=y;var S,w=t.node.groups,o={};for(i=0;i<w.length;i++){var _=w[i];for(S=0;S<_.length;S++){var b=_[S],I=y+i;o.hasOwnProperty(b)?L.warn("Node "+b+" is already part of a group."):o[b]=I}}var D={source:[],target:[]};for(i=0;i<a.value.length;i++){var N=a.value[i],k=a.source[i],z=a.target[i];if(N>0&&T(k,y)&&T(z,y)&&!(o.hasOwnProperty(k)&&o.hasOwnProperty(z)&&o[k]===o[z])){o.hasOwnProperty(z)&&(z=o[z]),o.hasOwnProperty(k)&&(k=o[k]),k=+k,z=+z,h[k]=h[z]=!0;var F="";a.label&&a.label[i]&&(F=a.label[i]);var O=null;F&&M.hasOwnProperty(F)&&(O=M[F]),f.push({pointNumber:i,label:F,color:u?a.color[i]:a.color,hovercolor:l?a.hovercolor[i]:a.hovercolor,customdata:m?a.customdata[i]:a.customdata,concentrationscale:O,source:k,target:z,value:+N}),D.source.push(k),D.target.push(z)}}var B=y+w.length,W=C(s.color),ee=C(s.customdata),ne=[];for(i=0;i<B;i++)if(h[i]){var Q=s.label[i];ne.push({group:i>y-1,childrenNodes:[],pointNumber:i,label:Q,color:W?s.color[i]:s.color,customdata:ee?s.customdata[i]:s.customdata})}var le=!1;return r(B,D.source,D.target)&&(le=!0),{circular:le,links:f,nodes:ne,groups:w,groupLookup:o}}function r(t,s,a){for(var f=L.init2dArray(t,0),u=0;u<Math.min(s.length,a.length);u++)if(L.isIndex(s[u],t)&&L.isIndex(a[u],t)){if(s[u]===a[u])return!0;f[s[u]].push(a[u])}var l=p(f);return l.components.some(function(m){return m.length>1})}H.exports=function(s,a){var f=g(a);return n({circular:f.circular,_nodes:f.nodes,_links:f.links,_groups:f.groups,_groupLookup:f.groupLookup})}},11820:function(H){H.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(H,U,e){var p=e(3400),L=e(41440),n=e(76308),C=e(49760),T=e(86968).Q,v=e(16132),g=e(31780),r=e(51272);H.exports=function(a,f,u,l){function m(I,D){return p.coerce(a,f,L,I,D)}var h=p.extendDeep(l.hoverlabel,a.hoverlabel),M=a.node,c=g.newContainer(f,"node");function i(I,D){return p.coerce(M,c,L.node,I,D)}i("label"),i("groups"),i("x"),i("y"),i("pad"),i("thickness"),i("line.color"),i("line.width"),i("hoverinfo",a.hoverinfo),v(M,c,i,h),i("hovertemplate"),i("align");var d=l.colorway,x=function(I){return d[I%d.length]};i("color",c.label.map(function(I,D){return n.addOpacity(x(D),.8)})),i("customdata");var A=a.link||{},E=g.newContainer(f,"link");function y(I,D){return p.coerce(A,E,L.link,I,D)}y("label"),y("arrowlen"),y("source"),y("target"),y("value"),y("line.color"),y("line.width"),y("hoverinfo",a.hoverinfo),v(A,E,y,h),y("hovertemplate");var S=C(l.paper_bgcolor).getLuminance()<.333,w=S?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",o=y("color",w);function _(I){var D=C(I);if(!D.isValid())return I;var N=D.getAlpha();return N<=.8?D.setAlpha(N+.2):D=S?D.brighten():D.darken(),D.toRgbString()}y("hovercolor",Array.isArray(o)?o.map(_):_(o)),y("customdata"),r(A,E,{name:"colorscales",handleItemDefaults:t}),T(f,l,m),m("orientation"),m("valueformat"),m("valuesuffix");var b;c.x.length&&c.y.length&&(b="freeform"),m("arrangement",b),p.coerceFont(m,"textfont",p.extendFlat({},l.font)),f._length=null};function t(s,a){function f(u,l){return p.coerce(s,a,L.link.colorscales,u,l)}f("label"),f("cmin"),f("cmax"),f("colorscale")}},45499:function(H,U,e){H.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(H,U,e){var p=e(33428),L=e(3400),n=L.numberFormat,C=e(83248),T=e(93024),v=e(76308),g=e(11820).cn,r=L._;function t(d){return d!==""}function s(d,x){return d.filter(function(A){return A.key===x.traceId})}function a(d,x){p.select(d).select("path").style("fill-opacity",x),p.select(d).select("rect").style("fill-opacity",x)}function f(d){p.select(d).select("text.name").style("fill","black")}function u(d){return function(x){return d.node.sourceLinks.indexOf(x.link)!==-1||d.node.targetLinks.indexOf(x.link)!==-1}}function l(d){return function(x){return x.node.sourceLinks.indexOf(d.link)!==-1||x.node.targetLinks.indexOf(d.link)!==-1}}function m(d,x,A){x&&A&&s(A,x).selectAll("."+g.sankeyLink).filter(u(x)).call(M.bind(0,x,A,!1))}function h(d,x,A){x&&A&&s(A,x).selectAll("."+g.sankeyLink).filter(u(x)).call(c.bind(0,x,A,!1))}function M(d,x,A,E){E.style("fill",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverHue}).style("fill-opacity",function(y){if(!y.link.concentrationscale)return y.tinyColorHoverAlpha}),E.each(function(y){var S=y.link.label;S!==""&&s(x,d).selectAll("."+g.sankeyLink).filter(function(w){return w.link.label===S}).style("fill",function(w){if(!w.link.concentrationscale)return w.tinyColorHoverHue}).style("fill-opacity",function(w){if(!w.link.concentrationscale)return w.tinyColorHoverAlpha})}),A&&s(x,d).selectAll("."+g.sankeyNode).filter(l(d)).call(m)}function c(d,x,A,E){E.style("fill",function(y){return y.tinyColorHue}).style("fill-opacity",function(y){return y.tinyColorAlpha}),E.each(function(y){var S=y.link.label;S!==""&&s(x,d).selectAll("."+g.sankeyLink).filter(function(w){return w.link.label===S}).style("fill",function(w){return w.tinyColorHue}).style("fill-opacity",function(w){return w.tinyColorAlpha})}),A&&s(x,d).selectAll(g.sankeyNode).filter(l(d)).call(h)}function i(d,x){var A=d.hoverlabel||{},E=L.nestedProperty(A,x).get();return Array.isArray(E)?!1:E}H.exports=function(x,A){for(var E=x._fullLayout,y=E._paper,S=E._size,w=0;w<x._fullData.length;w++)if(x._fullData[w].visible&&x._fullData[w].type===g.sankey&&!x._fullData[w]._viewInitial){var o=x._fullData[w].node;x._fullData[w]._viewInitial={node:{groups:o.groups.slice(),x:o.x.slice(),y:o.y.slice()}}}var _=function(Q,le){var Z=le.link;Z.originalEvent=p.event,x._hoverdata=[Z],T.click(x,{target:!0})},b=function(Q,le,Z){x._fullLayout.hovermode!==!1&&(p.select(Q).call(M.bind(0,le,Z,!0)),le.link.trace.link.hoverinfo!=="skip"&&(le.link.fullData=le.link.trace,x.emit("plotly_hover",{event:p.event,points:[le.link]})))},I=r(x,"source:")+" ",D=r(x,"target:")+" ",N=r(x,"concentration:")+" ",k=r(x,"incoming flow count:")+" ",z=r(x,"outgoing flow count:")+" ",F=function(Q,le){if(x._fullLayout.hovermode===!1)return;var Z=le.link.trace.link;if(Z.hoverinfo==="none"||Z.hoverinfo==="skip")return;var Y=[];function re(ae){var ce,ye;ae.circular?(ce=(ae.circularPathData.leftInnerExtent+ae.circularPathData.rightInnerExtent)/2,ye=ae.circularPathData.verticalFullExtent):(ce=(ae.source.x1+ae.target.x0)/2,ye=(ae.y0+ae.y1)/2);var Ce=[ce,ye];return ae.trace.orientation==="v"&&Ce.reverse(),Ce[0]+=le.parent.translateX,Ce[1]+=le.parent.translateY,Ce}for(var X=0,q=0;q<le.flow.links.length;q++){var se=le.flow.links[q];if(!(x._fullLayout.hovermode==="closest"&&le.link.pointNumber!==se.pointNumber)){le.link.pointNumber===se.pointNumber&&(X=q),se.fullData=se.trace,Z=le.link.trace.link;var $=re(se),j={valueLabel:n(le.valueFormat)(se.value)+le.valueSuffix};Y.push({x:$[0],y:$[1],name:j.valueLabel,text:[se.label||"",I+se.source.label,D+se.target.label,se.concentrationscale?N+n("%0.2f")(se.flow.labelConcentration):""].filter(t).join("<br>"),color:i(Z,"bgcolor")||v.addOpacity(se.color,1),borderColor:i(Z,"bordercolor"),fontFamily:i(Z,"font.family"),fontSize:i(Z,"font.size"),fontColor:i(Z,"font.color"),nameLength:i(Z,"namelength"),textAlign:i(Z,"align"),idealAlign:p.event.x<$[0]?"right":"left",hovertemplate:Z.hovertemplate,hovertemplateLabels:j,eventData:[se]})}}var ue=T.loneHover(Y,{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:x,anchorIndex:X});ue.each(function(){var ae=this;le.link.concentrationscale||a(ae,.65),f(ae)})},O=function(Q,le,Z){x._fullLayout.hovermode!==!1&&(p.select(Q).call(c.bind(0,le,Z,!0)),le.link.trace.link.hoverinfo!=="skip"&&(le.link.fullData=le.link.trace,x.emit("plotly_unhover",{event:p.event,points:[le.link]})),T.loneUnhover(E._hoverlayer.node()))},B=function(Q,le,Z){var Y=le.node;Y.originalEvent=p.event,x._hoverdata=[Y],p.select(Q).call(h,le,Z),T.click(x,{target:!0})},W=function(Q,le,Z){x._fullLayout.hovermode!==!1&&(p.select(Q).call(m,le,Z),le.node.trace.node.hoverinfo!=="skip"&&(le.node.fullData=le.node.trace,x.emit("plotly_hover",{event:p.event,points:[le.node]})))},ee=function(Q,le){if(x._fullLayout.hovermode!==!1){var Z=le.node.trace.node;if(!(Z.hoverinfo==="none"||Z.hoverinfo==="skip")){var Y=p.select(Q).select("."+g.nodeRect),re=x._fullLayout._paperdiv.node().getBoundingClientRect(),X=Y.node().getBoundingClientRect(),q=X.left-2-re.left,se=X.right+2-re.left,$=X.top+X.height/4-re.top,j={valueLabel:n(le.valueFormat)(le.node.value)+le.valueSuffix};le.node.fullData=le.node.trace,x._fullLayout._calcInverseTransform(x);var ue=x._fullLayout._invScaleX,ae=x._fullLayout._invScaleY,ce=T.loneHover({x0:ue*q,x1:ue*se,y:ae*$,name:n(le.valueFormat)(le.node.value)+le.valueSuffix,text:[le.node.label,k+le.node.targetLinks.length,z+le.node.sourceLinks.length].filter(t).join("<br>"),color:i(Z,"bgcolor")||le.tinyColorHue,borderColor:i(Z,"bordercolor"),fontFamily:i(Z,"font.family"),fontSize:i(Z,"font.size"),fontColor:i(Z,"font.color"),nameLength:i(Z,"namelength"),textAlign:i(Z,"align"),idealAlign:"left",hovertemplate:Z.hovertemplate,hovertemplateLabels:j,eventData:[le.node]},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:x});a(ce,.85),f(ce)}}},ne=function(Q,le,Z){x._fullLayout.hovermode!==!1&&(p.select(Q).call(h,le,Z),le.node.trace.node.hoverinfo!=="skip"&&(le.node.fullData=le.node.trace,x.emit("plotly_unhover",{event:p.event,points:[le.node]})),T.loneUnhover(E._hoverlayer.node()))};C(x,y,A,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:b,follow:F,unhover:O,select:_},nodeEvents:{hover:W,follow:ee,unhover:ne,select:B}})}},83248:function(H,U,e){var p=e(49812),L=e(67756).Gz,n=e(33428),C=e(26800),T=e(48932),v=e(11820),g=e(49760),r=e(76308),t=e(43616),s=e(3400),a=s.strTranslate,f=s.strRotate,u=e(71688),l=u.keyFun,m=u.repeat,h=u.unwrap,M=e(72736),c=e(24040),i=e(84284),d=i.CAP_SHIFT,x=i.LINE_SPACING,A=3;function E(re,X,q){var se=h(X),$=se.trace,j=$.domain,ue=$.orientation==="h",ae=$.node.pad,ce=$.node.thickness,ye={justify:C.sankeyJustify,left:C.sankeyLeft,right:C.sankeyRight,center:C.sankeyCenter}[$.node.align],Ce=re.width*(j.x[1]-j.x[0]),Ae=re.height*(j.y[1]-j.y[0]),Ie=se._nodes,Te=se._links,Le=se.circular,xe;Le?xe=T.sankeyCircular().circularLinkGap(0):xe=C.sankey(),xe.iterations(v.sankeyIterations).size(ue?[Ce,Ae]:[Ae,Ce]).nodeWidth(ce).nodePadding(ae).nodeId(function(at){return at.pointNumber}).nodeAlign(ye).nodes(Ie).links(Te);var Re=xe();xe.nodePadding()<ae&&s.warn("node.pad was reduced to ",xe.nodePadding()," to fit within the figure.");var He,Ve,Fe;for(var We in se._groupLookup){var ut=parseInt(se._groupLookup[We]),ht;for(He=0;He<Re.nodes.length;He++)if(Re.nodes[He].pointNumber===ut){ht=Re.nodes[He];break}if(ht){var rt={pointNumber:parseInt(We),x0:ht.x0,x1:ht.x1,y0:ht.y0,y1:ht.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Re.nodes.unshift(rt),ht.childrenNodes.unshift(rt)}}function tt(){for(He=0;He<Re.nodes.length;He++){var at=Re.nodes[He],Oe={},Ze,Je;for(Ve=0;Ve<at.targetLinks.length;Ve++)Je=at.targetLinks[Ve],Ze=Je.source.pointNumber+":"+Je.target.pointNumber,Oe.hasOwnProperty(Ze)||(Oe[Ze]=[]),Oe[Ze].push(Je);var Ye=Object.keys(Oe);for(Ve=0;Ve<Ye.length;Ve++){Ze=Ye[Ve];var ke=Oe[Ze],be=0,me={};for(Fe=0;Fe<ke.length;Fe++)Je=ke[Fe],me[Je.label]||(me[Je.label]=0),me[Je.label]+=Je.value,be+=Je.value;for(Fe=0;Fe<ke.length;Fe++)Je=ke[Fe],Je.flow={value:be,labelConcentration:me[Je.label]/be,concentration:Je.value/be,links:ke},Je.concentrationscale&&(Je.color=g(Je.concentrationscale(Je.flow.labelConcentration)))}var _e=0;for(Ve=0;Ve<at.sourceLinks.length;Ve++)_e+=at.sourceLinks[Ve].value;for(Ve=0;Ve<at.sourceLinks.length;Ve++)Je=at.sourceLinks[Ve],Je.concentrationOut=Je.value/_e;var Ee=0;for(Ve=0;Ve<at.targetLinks.length;Ve++)Ee+=at.targetLinks[Ve].value;for(Ve=0;Ve<at.targetLinks.length;Ve++)Je=at.targetLinks[Ve],Je.concenrationIn=Je.value/Ee}}tt();function vt(at){at.forEach(function(Oe){var Ze,Je,Ye=0,ke=Oe.length,be;for(Oe.sort(function(me,_e){return me.y0-_e.y0}),be=0;be<ke;++be)Ze=Oe[be],Ze.y0>=Ye||(Je=Ye-Ze.y0,Je>1e-6&&(Ze.y0+=Je,Ze.y1+=Je)),Ye=Ze.y1+ae})}function pt(at){var Oe=at.map(function(_e,Ee){return{x0:_e.x0,index:Ee}}).sort(function(_e,Ee){return _e.x0-Ee.x0}),Ze=[],Je=-1,Ye,ke=-1/0,be;for(He=0;He<Oe.length;He++){var me=at[Oe[He].index];me.x0>ke+ce&&(Je+=1,Ye=me.x0),ke=me.x0,Ze[Je]||(Ze[Je]=[]),Ze[Je].push(me),be=Ye-me.x0,me.x0+=be,me.x1+=be}return Ze}if($.node.x.length&&$.node.y.length){for(He=0;He<Math.min($.node.x.length,$.node.y.length,Re.nodes.length);He++)if($.node.x[He]&&$.node.y[He]){var mt=[$.node.x[He]*Ce,$.node.y[He]*Ae];Re.nodes[He].x0=mt[0]-ce/2,Re.nodes[He].x1=mt[0]+ce/2;var wt=Re.nodes[He].y1-Re.nodes[He].y0;Re.nodes[He].y0=mt[1]-wt/2,Re.nodes[He].y1=mt[1]+wt/2}if($.arrangement==="snap"){Ie=Re.nodes;var Lt=pt(Ie);vt(Lt)}xe.update(Re)}return{circular:Le,key:q,trace:$,guid:s.randstr(),horizontal:ue,width:Ce,height:Ae,nodePad:$.node.pad,nodeLineColor:$.node.line.color,nodeLineWidth:$.node.line.width,linkLineColor:$.link.line.color,linkLineWidth:$.link.line.width,linkArrowLength:$.link.arrowlen,valueFormat:$.valueformat,valueSuffix:$.valuesuffix,textFont:$.textfont,translateX:j.x[0]*re.width+re.margin.l,translateY:re.height-j.y[1]*re.height+re.margin.t,dragParallel:ue?Ae:Ce,dragPerpendicular:ue?Ce:Ae,arrangement:$.arrangement,sankey:xe,graph:Re,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function y(re,X,q){var se=g(X.color),$=g(X.hovercolor),j=X.source.label+"|"+X.target.label,ue=j+"__"+q;return X.trace=re.trace,X.curveNumber=re.trace.index,{circular:re.circular,key:ue,traceId:re.key,pointNumber:X.pointNumber,link:X,tinyColorHue:r.tinyRGB(se),tinyColorAlpha:se.getAlpha(),tinyColorHoverHue:r.tinyRGB($),tinyColorHoverAlpha:$.getAlpha(),linkPath:w,linkLineColor:re.linkLineColor,linkLineWidth:re.linkLineWidth,linkArrowLength:re.linkArrowLength,valueFormat:re.valueFormat,valueSuffix:re.valueSuffix,sankey:re.sankey,parent:re,interactionState:re.interactionState,flow:X.flow}}function S(re,X){var q="",se=re.width/2,$=re.circularPathData;return re.circularLinkType==="top"?q="M "+($.targetX-X)+" "+($.targetY+se)+" L"+($.rightInnerExtent-X)+" "+($.targetY+se)+"A"+($.rightLargeArcRadius+se)+" "+($.rightSmallArcRadius+se)+" 0 0 1 "+($.rightFullExtent-se-X)+" "+($.targetY-$.rightSmallArcRadius)+"L"+($.rightFullExtent-se-X)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+se)+" "+($.rightLargeArcRadius+se)+" 0 0 1 "+($.rightInnerExtent-X)+" "+($.verticalFullExtent-se)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent-se)+"A"+($.leftLargeArcRadius+se)+" "+($.leftLargeArcRadius+se)+" 0 0 1 "+($.leftFullExtent+se)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+se)+" "+($.sourceY-$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+se)+" "+($.leftSmallArcRadius+se)+" 0 0 1 "+$.leftInnerExtent+" "+($.sourceY+se)+"L"+$.sourceX+" "+($.sourceY+se)+"L"+$.sourceX+" "+($.sourceY-se)+"L"+$.leftInnerExtent+" "+($.sourceY-se)+"A"+($.leftLargeArcRadius-se)+" "+($.leftSmallArcRadius-se)+" 0 0 0 "+($.leftFullExtent-se)+" "+($.sourceY-$.leftSmallArcRadius)+"L"+($.leftFullExtent-se)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-se)+" "+($.leftLargeArcRadius-se)+" 0 0 0 "+$.leftInnerExtent+" "+($.verticalFullExtent+se)+"L"+($.rightInnerExtent-X)+" "+($.verticalFullExtent+se)+"A"+($.rightLargeArcRadius-se)+" "+($.rightLargeArcRadius-se)+" 0 0 0 "+($.rightFullExtent+se-X)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+se-X)+" "+($.targetY-$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-se)+" "+($.rightSmallArcRadius-se)+" 0 0 0 "+($.rightInnerExtent-X)+" "+($.targetY-se)+"L"+($.targetX-X)+" "+($.targetY-se)+(X>0?"L"+$.targetX+" "+$.targetY:"")+"Z":q="M "+($.targetX-X)+" "+($.targetY-se)+" L"+($.rightInnerExtent-X)+" "+($.targetY-se)+"A"+($.rightLargeArcRadius+se)+" "+($.rightSmallArcRadius+se)+" 0 0 0 "+($.rightFullExtent-se-X)+" "+($.targetY+$.rightSmallArcRadius)+"L"+($.rightFullExtent-se-X)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+se)+" "+($.rightLargeArcRadius+se)+" 0 0 0 "+($.rightInnerExtent-X)+" "+($.verticalFullExtent+se)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent+se)+"A"+($.leftLargeArcRadius+se)+" "+($.leftLargeArcRadius+se)+" 0 0 0 "+($.leftFullExtent+se)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+se)+" "+($.sourceY+$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+se)+" "+($.leftSmallArcRadius+se)+" 0 0 0 "+$.leftInnerExtent+" "+($.sourceY-se)+"L"+$.sourceX+" "+($.sourceY-se)+"L"+$.sourceX+" "+($.sourceY+se)+"L"+$.leftInnerExtent+" "+($.sourceY+se)+"A"+($.leftLargeArcRadius-se)+" "+($.leftSmallArcRadius-se)+" 0 0 1 "+($.leftFullExtent-se)+" "+($.sourceY+$.leftSmallArcRadius)+"L"+($.leftFullExtent-se)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-se)+" "+($.leftLargeArcRadius-se)+" 0 0 1 "+$.leftInnerExtent+" "+($.verticalFullExtent-se)+"L"+($.rightInnerExtent-X)+" "+($.verticalFullExtent-se)+"A"+($.rightLargeArcRadius-se)+" "+($.rightLargeArcRadius-se)+" 0 0 1 "+($.rightFullExtent+se-X)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+se-X)+" "+($.targetY+$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-se)+" "+($.rightSmallArcRadius-se)+" 0 0 1 "+($.rightInnerExtent-X)+" "+($.targetY+se)+"L"+($.targetX-X)+" "+($.targetY+se)+(X>0?"L"+$.targetX+" "+$.targetY:"")+"Z",q}function w(){var re=.5;function X(q){var se=q.linkArrowLength;if(q.link.circular)return S(q.link,se);var $=Math.abs((q.link.target.x0-q.link.source.x1)/2);se>$&&(se=$);var j=q.link.source.x1,ue=q.link.target.x0-se,ae=L(j,ue),ce=ae(re),ye=ae(1-re),Ce=q.link.y0-q.link.width/2,Ae=q.link.y0+q.link.width/2,Ie=q.link.y1-q.link.width/2,Te=q.link.y1+q.link.width/2,Le="M"+j+","+Ce,xe="C"+ce+","+Ce+" "+ye+","+Ie+" "+ue+","+Ie,Re="C"+ye+","+Te+" "+ce+","+Ae+" "+j+","+Ae,He=se>0?"L"+(ue+se)+","+(Ie+q.link.width/2):"";return He+="L"+ue+","+Te,Le+xe+He+Re+"Z"}return X}function o(re,X){var q=g(X.color),se=v.nodePadAcross,$=re.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var j=X.dx,ue=Math.max(.5,X.dy),ae="node_"+X.pointNumber;return X.group&&(ae=s.randstr()),X.trace=re.trace,X.curveNumber=re.trace.index,{index:X.pointNumber,key:ae,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:re.key,trace:re.trace,node:X,nodePad:re.nodePad,nodeLineColor:re.nodeLineColor,nodeLineWidth:re.nodeLineWidth,textFont:re.textFont,size:re.horizontal?re.height:re.width,visibleWidth:Math.ceil(j),visibleHeight:ue,zoneX:-se,zoneY:-$,zoneWidth:j+2*se,zoneHeight:ue+2*$,labelY:re.horizontal?X.dy/2+1:X.dx/2+1,left:X.originalLayer===1,sizeAcross:re.width,forceLayouts:re.forceLayouts,horizontal:re.horizontal,darkBackground:q.getBrightness()<=128,tinyColorHue:r.tinyRGB(q),tinyColorAlpha:q.getAlpha(),valueFormat:re.valueFormat,valueSuffix:re.valueSuffix,sankey:re.sankey,graph:re.graph,arrangement:re.arrangement,uniqueNodeLabelPathId:[re.guid,re.key,ae].join("_"),interactionState:re.interactionState,figure:re}}function _(re){re.attr("transform",function(X){return a(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function b(re){re.call(_)}function I(re,X){re.call(b),X.attr("d",w())}function D(re){re.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function N(re){return re.link.width>1||re.linkLineWidth>0}function k(re){var X=a(re.translateX,re.translateY);return X+(re.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function z(re,X,q){re.on(".basic",null).on("mouseover.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(q.hover(this,se,X),se.interactionState.hovered=[this,se])}).on("mousemove.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(q.follow(this,se),se.interactionState.hovered=[this,se])}).on("mouseout.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(q.unhover(this,se,X),se.interactionState.hovered=!1)}).on("click.basic",function(se){se.interactionState.hovered&&(q.unhover(this,se,X),se.interactionState.hovered=!1),!se.interactionState.dragInProgress&&!se.partOfGroup&&q.select(this,se,X)})}function F(re,X,q,se){var $=n.behavior.drag().origin(function(j){return{x:j.node.x0+j.visibleWidth/2,y:j.node.y0+j.visibleHeight/2}}).on("dragstart",function(j){if(j.arrangement!=="fixed"&&(s.ensureSingle(se._fullLayout._infolayer,"g","dragcover",function(ae){se._fullLayout._dragCover=ae}),s.raiseToTop(this),j.interactionState.dragInProgress=j.node,Q(j.node),j.interactionState.hovered&&(q.nodeEvents.unhover.apply(0,j.interactionState.hovered),j.interactionState.hovered=!1),j.arrangement==="snap")){var ue=j.traceId+"|"+j.key;j.forceLayouts[ue]?j.forceLayouts[ue].alpha(1):O(re,ue,j),B(re,X,j,ue,se)}}).on("drag",function(j){if(j.arrangement!=="fixed"){var ue=n.event.x,ae=n.event.y;j.arrangement==="snap"?(j.node.x0=ue-j.visibleWidth/2,j.node.x1=ue+j.visibleWidth/2,j.node.y0=ae-j.visibleHeight/2,j.node.y1=ae+j.visibleHeight/2):(j.arrangement==="freeform"&&(j.node.x0=ue-j.visibleWidth/2,j.node.x1=ue+j.visibleWidth/2),ae=Math.max(0,Math.min(j.size-j.visibleHeight/2,ae)),j.node.y0=ae-j.visibleHeight/2,j.node.y1=ae+j.visibleHeight/2),Q(j.node),j.arrangement!=="snap"&&(j.sankey.update(j.graph),I(re.filter(le(j)),X))}}).on("dragend",function(j){if(j.arrangement!=="fixed"){j.interactionState.dragInProgress=!1;for(var ue=0;ue<j.node.childrenNodes.length;ue++)j.node.childrenNodes[ue].x=j.node.x,j.node.childrenNodes[ue].y=j.node.y;j.arrangement!=="snap"&&ee(j,se)}});re.on(".drag",null).call($)}function O(re,X,q,se){Z(q.graph.nodes);var $=q.graph.nodes.filter(function(j){return j.originalX===q.node.originalX}).filter(function(j){return!j.partOfGroup});q.forceLayouts[X]=p.forceSimulation($).alphaDecay(0).force("collide",p.forceCollide().radius(function(j){return j.dy/2+q.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",W(re,X,$,q)).stop()}function B(re,X,q,se,$){window.requestAnimationFrame(function j(){var ue;for(ue=0;ue<v.forceTicksPerFrame;ue++)q.forceLayouts[se].tick();var ae=q.graph.nodes;if(Y(ae),q.sankey.update(q.graph),I(re.filter(le(q)),X),q.forceLayouts[se].alpha()>0)window.requestAnimationFrame(j);else{var ce=q.node.originalX;q.node.x0=ce-q.visibleWidth/2,q.node.x1=ce+q.visibleWidth/2,ee(q,$)}})}function W(re,X,q,se){return function(){for(var j=0,ue=0;ue<q.length;ue++){var ae=q[ue];ae===se.interactionState.dragInProgress?(ae.x=ae.lastDraggedX,ae.y=ae.lastDraggedY):(ae.vx=(ae.originalX-ae.x)/v.forceTicksPerFrame,ae.y=Math.min(se.size-ae.dy/2,Math.max(ae.dy/2,ae.y))),j=Math.max(j,Math.abs(ae.vx),Math.abs(ae.vy))}!se.interactionState.dragInProgress&&j<.1&&se.forceLayouts[X].alpha()>0&&se.forceLayouts[X].alpha(0)}}function ee(re,X){for(var q=[],se=[],$=0;$<re.graph.nodes.length;$++){var j=(re.graph.nodes[$].x0+re.graph.nodes[$].x1)/2,ue=(re.graph.nodes[$].y0+re.graph.nodes[$].y1)/2;q.push(j/re.figure.width),se.push(ue/re.figure.height)}c.call("_guiRestyle",X,{"node.x":[q],"node.y":[se]},re.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function ne(re){var X=[],q;for(q=0;q<re.length;q++)re[q].originalX=(re[q].x0+re[q].x1)/2,re[q].originalY=(re[q].y0+re[q].y1)/2,X.indexOf(re[q].originalX)===-1&&X.push(re[q].originalX);for(X.sort(function(se,$){return se-$}),q=0;q<re.length;q++)re[q].originalLayerIndex=X.indexOf(re[q].originalX),re[q].originalLayer=re[q].originalLayerIndex/(X.length-1)}function Q(re){re.lastDraggedX=re.x0+re.dx/2,re.lastDraggedY=re.y0+re.dy/2}function le(re){return function(X){return X.node.originalX===re.node.originalX}}function Z(re){for(var X=0;X<re.length;X++)re[X].y=(re[X].y0+re[X].y1)/2,re[X].x=(re[X].x0+re[X].x1)/2}function Y(re){for(var X=0;X<re.length;X++)re[X].y0=re[X].y-re[X].dy/2,re[X].y1=re[X].y0+re[X].dy,re[X].x0=re[X].x-re[X].dx/2,re[X].x1=re[X].x0+re[X].dx}H.exports=function(re,X,q,se,$){var j=re._context.staticPlot,ue=!1;s.ensureSingle(re._fullLayout._infolayer,"g","first-render",function(){ue=!0});var ae=re._fullLayout._dragCover,ce=q.filter(function(Re){return h(Re).trace.visible}).map(E.bind(null,se)),ye=X.selectAll("."+v.cn.sankey).data(ce,l);ye.exit().remove(),ye.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",j?"none":"auto").attr("transform",k),ye.each(function(Re,He){re._fullData[He]._sankey=Re;var Ve="bgsankey-"+Re.trace.uid+"-"+He;s.ensureSingle(re._fullLayout._draggers,"rect",Ve),re._fullData[He]._bgRect=n.select("."+Ve),re._fullData[He]._bgRect.style("pointer-events",j?"none":"all").attr("width",Re.width).attr("height",Re.height).attr("x",Re.translateX).attr("y",Re.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ye.transition().ease(v.ease).duration(v.duration).attr("transform",k);var Ce=ye.selectAll("."+v.cn.sankeyLinks).data(m,l);Ce.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Ae=Ce.selectAll("."+v.cn.sankeyLink).data(function(Re){var He=Re.graph.links;return He.filter(function(Ve){return Ve.value}).map(y.bind(null,Re))},l);Ae.enter().append("path").classed(v.cn.sankeyLink,!0).call(z,ye,$.linkEvents),Ae.style("stroke",function(Re){return N(Re)?r.tinyRGB(g(Re.linkLineColor)):Re.tinyColorHue}).style("stroke-opacity",function(Re){return N(Re)?r.opacity(Re.linkLineColor):Re.tinyColorAlpha}).style("fill",function(Re){return Re.tinyColorHue}).style("fill-opacity",function(Re){return Re.tinyColorAlpha}).style("stroke-width",function(Re){return N(Re)?Re.linkLineWidth:1}).attr("d",w()),Ae.style("opacity",function(){return re._context.staticPlot||ue||ae?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Ae.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ie=ye.selectAll("."+v.cn.sankeyNodeSet).data(m,l);Ie.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Ie.style("cursor",function(Re){switch(Re.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Te=Ie.selectAll("."+v.cn.sankeyNode).data(function(Re){var He=Re.graph.nodes;return ne(He),He.map(o.bind(null,Re))},l);Te.enter().append("g").classed(v.cn.sankeyNode,!0).call(_).style("opacity",function(Re){return(re._context.staticPlot||ue)&&!Re.partOfGroup?1:0}),Te.call(z,ye,$.nodeEvents).call(F,Ae,$,re),Te.transition().ease(v.ease).duration(v.duration).call(_).style("opacity",function(Re){return Re.partOfGroup?0:1}),Te.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Le=Te.selectAll("."+v.cn.nodeRect).data(m);Le.enter().append("rect").classed(v.cn.nodeRect,!0).call(D),Le.style("stroke-width",function(Re){return Re.nodeLineWidth}).style("stroke",function(Re){return r.tinyRGB(g(Re.nodeLineColor))}).style("stroke-opacity",function(Re){return r.opacity(Re.nodeLineColor)}).style("fill",function(Re){return Re.tinyColorHue}).style("fill-opacity",function(Re){return Re.tinyColorAlpha}),Le.transition().ease(v.ease).duration(v.duration).call(D);var xe=Te.selectAll("."+v.cn.nodeLabel).data(m);xe.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),xe.attr("data-notex",1).text(function(Re){return Re.node.label}).each(function(Re){var He=n.select(this);t.font(He,Re.textFont),M.convertToTspans(He,re)}).style("text-shadow",M.makeTextShadow(re._fullLayout.paper_bgcolor)).attr("text-anchor",function(Re){return Re.horizontal&&Re.left?"end":"start"}).attr("transform",function(Re){var He=n.select(this),Ve=M.lineCount(He),Fe=Re.textFont.size*((Ve-1)*x-d),We=Re.nodeLineWidth/2+A,ut=((Re.horizontal?Re.visibleHeight:Re.visibleWidth)-Fe)/2;Re.horizontal&&(Re.left?We=-We:We+=Re.visibleWidth);var ht=Re.horizontal?"":"scale(-1,1)"+f(90);return a(Re.horizontal?We:ut,Re.horizontal?ut:We)+ht}),xe.transition().ease(v.ease).duration(v.duration)}},81128:function(H){H.exports=function(e,p){for(var L=e.cd,n=[],C=L[0].trace,T=C._sankey.graph.nodes,v=0;v<T.length;v++){var g=T[v];if(!g.partOfGroup){var r=[(g.x0+g.x1)/2,(g.y0+g.y1)/2];C.orientation==="v"&&r.reverse(),p&&p.contains(r,!1,v,e)&&n.push({pointNumber:g.pointNumber})}}return n}},20148:function(H,U,e){var p=e(3400);H.exports=function(n,C){for(var T=0;T<n.length;T++)n[T].i=T;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.texttemplate,n,"txt"),p.mergeArray(C.hovertext,n,"htx"),p.mergeArray(C.customdata,n,"data"),p.mergeArray(C.textposition,n,"tp"),C.textfont&&(p.mergeArrayCastPositive(C.textfont.size,n,"ts"),p.mergeArray(C.textfont.color,n,"tc"),p.mergeArray(C.textfont.family,n,"tf"));var v=C.marker;if(v){p.mergeArrayCastPositive(v.size,n,"ms"),p.mergeArrayCastPositive(v.opacity,n,"mo"),p.mergeArray(v.symbol,n,"mx"),p.mergeArray(v.angle,n,"ma"),p.mergeArray(v.standoff,n,"mf"),p.mergeArray(v.color,n,"mc");var g=v.line;v.line&&(p.mergeArray(g.color,n,"mlc"),p.mergeArrayCastPositive(g.width,n,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(p.mergeArray(r.type,n,"mgt"),p.mergeArray(r.color,n,"mgc"))}}},52904:function(H,U,e){var p=e(29736).axisHoverFormat,L=e(21776).Gw,n=e(21776).Ks,C=e(49084),T=e(25376),v=e(98192).u,g=e(98192).c,r=e(43616),t=e(88200),s=e(92880).extendFlat,a=e(98304);function f(m){return{valType:"any",dflt:0,editType:"calc"}}function u(m){return{valType:"any",editType:"calc"}}function l(m){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}H.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:f(),yperiod:f(),xperiod0:u(),yperiod0:u(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:L({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:s({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:a(!0),fillgradient:s({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:g,marker:s({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:s({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:T({editType:"calc",colorEditType:"style",arrayOk:!0})}},16356:function(H,U,e){var p=e(38248),L=e(3400),n=e(54460),C=e(1220),T=e(39032).BADNUM,v=e(43028),g=e(90136),r=e(20148),t=e(4500);function s(h,M){var c=h._fullLayout,i=M._xA=n.getFromId(h,M.xaxis||"x","x"),d=M._yA=n.getFromId(h,M.yaxis||"y","y"),x=i.makeCalcdata(M,"x"),A=d.makeCalcdata(M,"y"),E=C(M,i,"x",x),y=C(M,d,"y",A),S=E.vals,w=y.vals,o=M._length,_=new Array(o),b=M.ids,I=m(M,c,i,d),D=!1,N,k,z,F,O,B;u(c,M);var W="x",ee="y",ne;if(I)L.pushUnique(I.traceIndices,M._expandedIndex),N=I.orientation==="v",N?(ee="s",ne="x"):(W="s",ne="y"),O=I.stackgaps==="interpolate";else{var Q=f(M,o);a(h,M,i,d,S,w,Q)}var le=!!M.xperiodalignment,Z=!!M.yperiodalignment;for(k=0;k<o;k++){var Y=_[k]={},re=p(S[k]),X=p(w[k]);re&&X?(Y[W]=S[k],Y[ee]=w[k],le&&(Y.orig_x=x[k],Y.xEnd=E.ends[k],Y.xStart=E.starts[k]),Z&&(Y.orig_y=A[k],Y.yEnd=y.ends[k],Y.yStart=y.starts[k])):I&&(N?re:X)?(Y[ne]=N?S[k]:w[k],Y.gap=!0,O?(Y.s=T,D=!0):Y.s=0):Y[W]=Y[ee]=T,b&&(Y.id=String(b[k]))}if(r(_,M),g(h,M),t(_,M),I){for(k=0;k<_.length;)_[k][ne]===T?_.splice(k,1):k++;if(L.sort(_,function(j,ue){return j[ne]-ue[ne]||j.i-ue.i}),D){for(k=0;k<_.length-1&&_[k].gap;)k++;for(B=_[k].s,B||(B=_[k].s=0),z=0;z<k;z++)_[z].s=B;for(F=_.length-1;F>k&&_[F].gap;)F--;for(B=_[F].s,z=_.length-1;z>F;z--)_[z].s=B;for(;k<F;)if(k++,_[k].gap){for(z=k+1;_[z].gap;)z++;for(var q=_[k-1][ne],se=_[k-1].s,$=(_[z].s-se)/(_[z][ne]-q);k<z;)_[k].s=se+(_[k][ne]-q)*$,k++}}}return _}function a(h,M,c,i,d,x,A){var E=M._length,y=h._fullLayout,S=c._id,w=i._id,o=y._firstScatter[l(M)]===M.uid,_=(m(M,y,c,i)||{}).orientation,b=M.fill;c._minDtick=0,i._minDtick=0;var I={padded:!0},D={padded:!0};A&&(I.ppad=D.ppad=A);var N=E<2||d[0]!==d[E-1]||x[0]!==x[E-1];N&&(b==="tozerox"||b==="tonextx"&&(o||_==="h"))?I.tozero=!0:!(M.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!v.hasMarkers(M)&&!v.hasText(M))&&(I.padded=!1,I.ppad=0),N&&(b==="tozeroy"||b==="tonexty"&&(o||_==="v"))?D.tozero=!0:(b==="tonextx"||b==="tozerox")&&(D.padded=!1),S&&(M._extremes[S]=n.findExtremes(c,d,I)),w&&(M._extremes[w]=n.findExtremes(i,x,D))}function f(h,M){if(v.hasMarkers(h)){var c=h.marker,i=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(S){return Math.max(Math.sqrt((S||0)/i),3)}:d=function(S){return Math.max((S||0)/i,3)},L.isArrayOrTypedArray(c.size)){var x={type:"linear"};n.setConvert(x);for(var A=x.makeCalcdata(h.marker,"size"),E=new Array(M),y=0;y<M;y++)E[y]=d(A[y]);return E}else return d(c.size)}}function u(h,M){var c=l(M),i=h._firstScatter;i[c]||(i[c]=M.uid)}function l(h){var M=h.stackgroup;return h.xaxis+h.yaxis+h.type+(M?"-"+M:"")}function m(h,M,c,i){var d=h.stackgroup;if(d){var x=M._scatterStackOpts[c._id+i._id][d],A=x.orientation==="v"?i:c;if(A.type==="linear"||A.type==="log")return x}}H.exports={calc:s,calcMarkerSize:f,calcAxisExpansion:a,setFirstScatter:u,getStackOpts:m}},4500:function(H,U,e){var p=e(3400);H.exports=function(n,C){p.isArrayOrTypedArray(C.selectedpoints)&&p.tagSelected(n,C)}},90136:function(H,U,e){var p=e(94288).hasColorscale,L=e(47128),n=e(43028);H.exports=function(T,v){n.hasLines(v)&&p(v,"line")&&L(T,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(v)&&(p(v,"marker")&&L(T,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),p(v,"marker.line")&&L(T,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(H){H.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(H,U,e){var p=e(16356),L=e(96376).setGroupPositions;function n(v,g){for(var r=g.xaxis,t=g.yaxis,s=v._fullLayout,a=v._fullData,f=v.calcdata,u=[],l=[],m=0;m<a.length;m++){var h=a[m];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?u.push(f[m]):h.orientation==="v"&&l.push(f[m]))}var M={mode:s.scattermode,gap:s.scattergap};L(v,r,t,l,M),L(v,t,r,u,M)}H.exports=function(g,r){g._fullLayout.scattermode==="group"&&n(g,r);var t=r.xaxis,s=r.yaxis,a=t._id+s._id,f=g._fullLayout._scatterStackOpts[a];if(f){var u=g.calcdata,l,m,h,M,c,i,d,x,A,E,y,S,w,o,_;for(var b in f){E=f[b];var I=E.traceIndices;if(I.length){for(y=E.stackgaps==="interpolate",S=E.groupnorm,E.orientation==="v"?(w="x",o="y"):(w="y",o="x"),_=new Array(I.length),l=0;l<_.length;l++)_[l]=!1;i=u[I[0]];var D=new Array(i.length);for(l=0;l<i.length;l++)D[l]=i[l][w];for(l=1;l<I.length;l++){for(c=u[I[l]],m=h=0;m<c.length;m++){for(d=c[m][w];d>D[h]&&h<D.length;h++)C(c,m,D[h],l,_,y,w),m++;if(d!==D[h]){for(M=0;M<l;M++)C(u[I[M]],h,d,M,_,y,w);D.splice(h,0,d)}h++}for(;h<D.length;h++)C(c,m,D[h],l,_,y,w),m++}var N=D.length;for(m=0;m<i.length;m++){for(x=i[m][o]=i[m].s,l=1;l<I.length;l++)c=u[I[l]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=N,x+=c[m].s,c[m][o]=x;if(S)for(A=(S==="fraction"?x:x/100)||1,l=0;l<I.length;l++){var k=u[I[l]][m];k[o]/=A,k.sNorm=k.s/A}}for(l=0;l<I.length;l++){c=u[I[l]];var z=c[0].trace,F=p.calcMarkerSize(z,z._rawLength),O=Array.isArray(F);if(F&&_[l]||O){var B=F;for(F=new Array(N),m=0;m<N;m++)F[m]=c[m].gap?0:O?B[c[m].i]:B}var W=new Array(N),ee=new Array(N);for(m=0;m<N;m++)W[m]=c[m].x,ee[m]=c[m].y;p.calcAxisExpansion(g,z,t,s,W,ee,F),c[0].t.orientation=E.orientation}}}}};function C(v,g,r,t,s,a,f){s[t]=!0;var u={i:null,gap:!0,s:0};if(u[f]=r,v.splice(g,0,u),g&&r===v[g-1][f]){var l=v[g-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else a&&(u.s=T(v,g,r,f));g||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function T(v,g,r,t){var s=v[g-1],a=v[g+1];return a?s?s.s+(a.s-s.s)*(r-s[t])/(a[t]-s[t]):a.s:s.s}},35036:function(H,U,e){var p=e(3400),L=e(20011),n=e(52904);H.exports=function(T,v){var g,r,t;function s(m){return p.coerce(r._input,r,n,m)}if(v.scattermode==="group")for(t=0;t<T.length;t++)r=T[t],r.type==="scatter"&&(g=r._input,L(g,r,v,s));for(t=0;t<T.length;t++){var a=T[t];if(a.type==="scatter"){var f=a.fill;if(!(f==="none"||f==="toself")&&(a.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var u=t-1;u>=0;u--){var l=T[u];if(l.type==="scatter"&&l.xaxis===a.xaxis&&l.yaxis===a.yaxis){l.opacity=void 0;break}}}}}},18800:function(H,U,e){var p=e(3400),L=e(24040),n=e(52904),C=e(88200),T=e(43028),v=e(43980),g=e(31147),r=e(43912),t=e(74428),s=e(66828),a=e(11731),f=e(124),u=e(70840),l=e(3400).coercePattern;H.exports=function(h,M,c,i){function d(_,b){return p.coerce(h,M,n,_,b)}var x=v(h,M,i,d);if(x||(M.visible=!1),!!M.visible){g(h,M,i,d),d("xhoverformat"),d("yhoverformat");var A=r(h,M,i,d);i.scattermode==="group"&&M.orientation===void 0&&d("orientation","v");var E=!A&&x<C.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",E),T.hasMarkers(M)&&t(h,M,c,i,d,{gradient:!0}),T.hasLines(M)&&(s(h,M,c,i,d,{backoff:!0}),a(h,M,d),d("connectgaps"),d("line.simplify")),T.hasText(M)&&(d("texttemplate"),f(h,M,i,d));var y=[];(T.hasMarkers(M)||T.hasText(M))&&(d("cliponaxis"),d("marker.maxdisplayed"),y.push("points")),d("fill",A?A.fillDflt:"none"),M.fill!=="none"&&(u(h,M,c,d,{moduleHasFillgradient:!0}),T.hasLines(M)||a(h,M,d),l(d,"fillpattern",M.fillcolor,!1));var S=(M.line||{}).color,w=(M.marker||{}).color;(M.fill==="tonext"||M.fill==="toself")&&y.push("fills"),d("hoveron",y.join("+")||"points"),M.hoveron!=="fills"&&d("hovertemplate");var o=L.getComponentMethod("errorbars","supplyDefaults");o(h,M,S||w||c,{axis:"y"}),o(h,M,S||w||c,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(M,d)}}},98304:function(H){H.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(H,U,e){var p=e(76308),L=e(3400).isArrayOrTypedArray;function n(C){for(var T=p.interpolate(C[0][1],C[1][1],.5),v=2;v<C.length;v++){var g=p.interpolate(C[v-1][1],C[v][1],.5);T=p.interpolate(T,g,C[v-1][0]/C[v][0])}return T}H.exports=function(T,v,g,r,t){t||(t={});var s=!1;if(v.marker){var a=v.marker.color,f=(v.marker.line||{}).color;a&&!L(a)?s=a:f&&!L(f)&&(s=f)}var u;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var m=r("fillgradient.colorscale");m&&(u=n(m))}}r("fillcolor",p.addOpacity((v.line||{}).color||s||u||g,.5))}},76688:function(H,U,e){var p=e(54460);H.exports=function(n,C,T){var v={},g={_fullLayout:T},r=p.getFromTrace(g,C,"x"),t=p.getFromTrace(g,C,"y"),s=n.orig_x;s===void 0&&(s=n.x);var a=n.orig_y;return a===void 0&&(a=n.y),v.xLabel=p.tickText(r,r.c2l(s),!0).text,v.yLabel=p.tickText(t,t.c2l(a),!0).text,v}},44928:function(H,U,e){var p=e(76308),L=e(43028);H.exports=function(C,T){var v,g;if(C.mode==="lines")return v=C.line.color,v&&p.opacity(v)?v:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var r=T.mcc||(C.marker||{}).color,t=T.mlcc||((C.marker||{}).line||{}).color;return g=r&&p.opacity(r)?r:t&&p.opacity(t)&&(T.mlw||((C.marker||{}).line||{}).width)?t:"",g?p.opacity(g)<.3?p.addOpacity(g,.3):g:(v=(C.line||{}).color,v&&p.opacity(v)&&L.hasLines(C)&&C.line.width?v:C.fillcolor)}},20011:function(H,U,e){var p=e(71888).getAxisGroup;H.exports=function(n,C,T,v){var g=C.orientation,r=C[{v:"x",h:"y"}[g]+"axis"],t=p(T,r)+g,s=T._alignmentOpts||{},a=v("alignmentgroup"),f=s[t];f||(f=s[t]={});var u=f[a];u?u.traces.push(C):u=f[a]={traces:[C],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var l=v("offsetgroup"),m=u.offsetGroups,h=m[l];l&&(h||(h=m[l]={offsetIndex:Object.keys(m).length}),C._offsetIndex=h.offsetIndex)}},98723:function(H,U,e){var p=e(3400),L=e(93024),n=e(24040),C=e(44928),T=e(76308),v=p.fillText;H.exports=function(r,t,s,a){var f=r.cd,u=f[0].trace,l=r.xa,m=r.ya,h=l.c2p(t),M=m.c2p(s),c=[h,M],i=u.hoveron||"",d=u.mode.indexOf("markers")!==-1?3:.5,x=!!u.xperiodalignment,A=!!u.yperiodalignment;if(i.indexOf("points")!==-1){var E=function(ne){if(x){var Q=l.c2p(ne.xStart),le=l.c2p(ne.xEnd);return h>=Math.min(Q,le)&&h<=Math.max(Q,le)?0:1/0}var Z=Math.max(3,ne.mrc||0),Y=1-1/Z,re=Math.abs(l.c2p(ne.x)-h);return re<Z?Y*re/Z:re-Z+Y},y=function(ne){if(A){var Q=m.c2p(ne.yStart),le=m.c2p(ne.yEnd);return M>=Math.min(Q,le)&&M<=Math.max(Q,le)?0:1/0}var Z=Math.max(3,ne.mrc||0),Y=1-1/Z,re=Math.abs(m.c2p(ne.y)-M);return re<Z?Y*re/Z:re-Z+Y},S=function(ne){var Q=Math.max(d,ne.mrc||0),le=l.c2p(ne.x)-h,Z=m.c2p(ne.y)-M;return Math.max(Math.sqrt(le*le+Z*Z)-Q,1-d/Q)},w=L.getDistanceFunction(a,E,y,S);if(L.getClosest(f,w,r),r.index!==!1){var o=f[r.index],_=l.c2p(o.x,!0),b=m.c2p(o.y,!0),I=o.mrc||1;r.index=o.i;var D=f[0].t.orientation,N=D&&(o.sNorm||o.s),k=D==="h"?N:o.orig_x!==void 0?o.orig_x:o.x,z=D==="v"?N:o.orig_y!==void 0?o.orig_y:o.y;return p.extendFlat(r,{color:C(u,o),x0:_-I,x1:_+I,xLabelVal:k,y0:b-I,y1:b+I,yLabelVal:z,spikeDistance:S(o),hovertemplate:u.hovertemplate}),v(o,u,r),n.getComponentMethod("errorbars","hoverInfo")(o,u,r),[r]}}function F(ne){if(!ne)return!1;var Q=ne.node();try{var le=new DOMPoint(c[0],c[1]);return Q.isPointInFill(le)}catch{var Z=Q.ownerSVGElement.createSVGPoint();return Z.x=c[0],Z.y=c[1],Q.isPointInFill(Z)}}function O(ne){var Q,le=[],Z=1/0,Y=-1/0,re=1/0,X=-1/0,q;for(Q=0;Q<ne.length;Q++){var se=ne[Q];se.contains(c)&&(le.push(se),re=Math.min(re,se.ymin),X=Math.max(X,se.ymax))}if(le.length===0)return null;re=Math.max(re,0),X=Math.min(X,m._length),q=(re+X)/2;var $,j,ue,ae,ce,ye,Ce;for(Q=0;Q<le.length;Q++)for(j=le[Q].pts,$=1;$<j.length;$++)ye=j[$-1][1],Ce=j[$][1],ye>q!=Ce>=q&&(ae=j[$-1][0],ce=j[$][0],Ce-ye&&(ue=ae+(ce-ae)*(q-ye)/(Ce-ye),Z=Math.min(Z,ue),Y=Math.max(Y,ue)));return Z=Math.max(Z,0),Y=Math.min(Y,l._length),{x0:Z,x1:Y,y0:q,y1:q}}if(i.indexOf("fills")!==-1&&u._fillElement){var B=F(u._fillElement)&&!F(u._fillExclusionElement);if(B){var W=O(u._polygons);W===null&&(W={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var ee=T.defaultLine;return T.opacity(u.fillcolor)?ee=u.fillcolor:T.opacity((u.line||{}).color)&&(ee=u.line.color),p.extendFlat(r,{distance:r.maxHoverDistance,x0:W.x0,x1:W.x1,y0:W.y0,y1:W.y1,color:ee,hovertemplate:!1}),delete r.index,u.text&&!p.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},65875:function(H,U,e){var p=e(43028);H.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(H){H.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(H,U,e){var p=e(3400),L=e(55308);H.exports=function(n,C){function T(g,r){return p.coerce(n,C,L,g,r)}var v=C.barmode==="group";C.scattermode==="group"&&T("scattergap",v?C.bargap:.2)}},66828:function(H,U,e){var p=e(3400).isArrayOrTypedArray,L=e(94288).hasColorscale,n=e(27260);H.exports=function(T,v,g,r,t,s){s||(s={});var a=(T.marker||{}).color;if(a&&a._inputArray&&(a=a._inputArray),t("line.color",g),L(T,"line"))n(T,v,r,t,{prefix:"line.",cLetter:"c"});else{var f=(p(a)?!1:a)||g;t("line.color",f)}t("line.width"),s.noDash||t("line.dash"),s.backoff&&t("line.backoff")}},52340:function(H,U,e){var p=e(43616),L=e(39032),n=L.BADNUM,C=L.LOG_CLIP,T=C+.5,v=C-.5,g=e(3400),r=g.segmentsIntersect,t=g.constrain,s=e(88200);H.exports=function(f,u){var l=u.trace||{},m=u.xaxis,h=u.yaxis,M=m.type==="log",c=h.type==="log",i=m._length,d=h._length,x=u.backoff,A=l.marker,E=u.connectGaps,y=u.baseTolerance,S=u.shape,w=S==="linear",o=l.fill&&l.fill!=="none",_=[],b=s.minTolerance,I=f.length,D=new Array(I),N=0,k,z,F,O,B,W,ee,ne,Q,le,Z,Y,re,X,q,se;function $(dt){var xt=f[dt];if(!xt)return!1;var Kt=u.linearized?m.l2p(xt.x):m.c2p(xt.x),Jt=u.linearized?h.l2p(xt.y):h.c2p(xt.y);if(Kt===n){if(M&&(Kt=m.c2p(xt.x,!0)),Kt===n)return!1;c&&Jt===n&&(Kt*=Math.abs(m._m*d*(m._m>0?T:v)/(h._m*i*(h._m>0?T:v)))),Kt*=1e3}if(Jt===n){if(c&&(Jt=h.c2p(xt.y,!0)),Jt===n)return!1;Jt*=1e3}return[Kt,Jt]}function j(dt,xt,Kt,Jt){var St=Kt-dt,Ft=Jt-xt,rr=.5-dt,_r=.5-xt,Tt=St*St+Ft*Ft,$t=St*rr+Ft*_r;if($t>0&&$t<Tt){var tr=rr*Ft-_r*St;if(tr*tr<Tt)return!0}}var ue,ae;function ce(dt,xt){var Kt=dt[0]/i,Jt=dt[1]/d,St=Math.max(0,-Kt,Kt-1,-Jt,Jt-1);return St&&ue!==void 0&&j(Kt,Jt,ue,ae)&&(St=0),St&&xt&&j(Kt,Jt,xt[0]/i,xt[1]/d)&&(St=0),(1+s.toleranceGrowth*St)*y}function ye(dt,xt){var Kt=dt[0]-xt[0],Jt=dt[1]-xt[1];return Math.sqrt(Kt*Kt+Jt*Jt)}var Ce=s.maxScreensAway,Ae=-i*Ce,Ie=i*(1+Ce),Te=-d*Ce,Le=d*(1+Ce),xe=[[Ae,Te,Ie,Te],[Ie,Te,Ie,Le],[Ie,Le,Ae,Le],[Ae,Le,Ae,Te]],Re,He,Ve,Fe,We,ut;function ht(dt,xt){for(var Kt=[],Jt=0,St=0;St<4;St++){var Ft=xe[St],rr=r(dt[0],dt[1],xt[0],xt[1],Ft[0],Ft[1],Ft[2],Ft[3]);rr&&(!Jt||Math.abs(rr.x-Kt[0][0])>1||Math.abs(rr.y-Kt[0][1])>1)&&(rr=[rr.x,rr.y],Jt&&ye(rr,dt)<ye(Kt[0],dt)?Kt.unshift(rr):Kt.push(rr),Jt++)}return Kt}function rt(dt){if(dt[0]<Ae||dt[0]>Ie||dt[1]<Te||dt[1]>Le)return[t(dt[0],Ae,Ie),t(dt[1],Te,Le)]}function tt(dt,xt){if(dt[0]===xt[0]&&(dt[0]===Ae||dt[0]===Ie)||dt[1]===xt[1]&&(dt[1]===Te||dt[1]===Le))return!0}function vt(dt,xt){var Kt=[],Jt=rt(dt),St=rt(xt);return Jt&&St&&tt(Jt,St)||(Jt&&Kt.push(Jt),St&&Kt.push(St)),Kt}function pt(dt,xt,Kt){return function(Jt,St){var Ft=rt(Jt),rr=rt(St),_r=[];if(Ft&&rr&&tt(Ft,rr))return _r;Ft&&_r.push(Ft),rr&&_r.push(rr);var Tt=2*g.constrain((Jt[dt]+St[dt])/2,xt,Kt)-((Ft||Jt)[dt]+(rr||St)[dt]);if(Tt){var $t;Ft&&rr?$t=Tt>0==Ft[dt]>rr[dt]?Ft:rr:$t=Ft||rr,$t[dt]+=Tt}return _r}}var mt;S==="linear"||S==="spline"?mt=ht:S==="hv"||S==="vh"?mt=vt:S==="hvh"?mt=pt(0,Ae,Ie):S==="vhv"&&(mt=pt(1,Te,Le));function wt(dt,xt){var Kt=xt[0]-dt[0],Jt=(xt[1]-dt[1])/Kt,St=(dt[1]*xt[0]-xt[1]*dt[0])/Kt;return St>0?[Jt>0?Ae:Ie,Le]:[Jt>0?Ie:Ae,Te]}function Lt(dt){var xt=dt[0],Kt=dt[1],Jt=xt===D[N-1][0],St=Kt===D[N-1][1];if(!(Jt&&St))if(N>1){var Ft=xt===D[N-2][0],rr=Kt===D[N-2][1];Jt&&(xt===Ae||xt===Ie)&&Ft?rr?N--:D[N-1]=dt:St&&(Kt===Te||Kt===Le)&&rr?Ft?N--:D[N-1]=dt:D[N++]=dt}else D[N++]=dt}function at(dt){D[N-1][0]!==dt[0]&&D[N-1][1]!==dt[1]&&Lt([Ve,Fe]),Lt(dt),We=null,Ve=Fe=0}var Oe=g.isArrayOrTypedArray(A);function Ze(dt){if(dt&&x&&(dt.i=k,dt.d=f,dt.trace=l,dt.marker=Oe?A[dt.i]:A,dt.backoff=x),ue=dt[0]/i,ae=dt[1]/d,Re=dt[0]<Ae?Ae:dt[0]>Ie?Ie:0,He=dt[1]<Te?Te:dt[1]>Le?Le:0,Re||He){if(!N)D[N++]=[Re||dt[0],He||dt[1]];else if(We){var xt=mt(We,dt);xt.length>1&&(at(xt[0]),D[N++]=xt[1])}else ut=mt(D[N-1],dt)[0],D[N++]=ut;var Kt=D[N-1];Re&&He&&(Kt[0]!==Re||Kt[1]!==He)?(We&&(Ve!==Re&&Fe!==He?Lt(Ve&&Fe?wt(We,dt):[Ve||Re,Fe||He]):Ve&&Fe&&Lt([Ve,Fe])),Lt([Re,He])):Ve-Re&&Fe-He&&Lt([Re||Ve,He||Fe]),We=dt,Ve=Re,Fe=He}else We&&at(mt(We,dt)[0]),D[N++]=dt}for(k=0;k<I;k++)if(z=$(k),!!z){for(N=0,We=null,Ze(z),k++;k<I;k++){if(O=$(k),!O){if(E)continue;break}if(!w||!u.simplify){Ze(O);continue}var Je=$(k+1);if(le=ye(O,z),!(!(o&&(N===0||N===I-1))&&le<ce(O,Je)*b)){for(ne=[(O[0]-z[0])/le,(O[1]-z[1])/le],B=z,Z=le,Y=X=q=0,ee=!1,F=O,k++;k<f.length;k++){if(W=Je,Je=$(k+1),!W){if(E)continue;break}if(Q=[W[0]-z[0],W[1]-z[1]],se=Q[0]*ne[1]-Q[1]*ne[0],X=Math.min(X,se),q=Math.max(q,se),q-X>ce(W,Je))break;F=W,re=Q[0]*ne[0]+Q[1]*ne[1],re>Z?(Z=re,O=W,ee=!1):re<Y&&(Y=re,B=W,ee=!0)}if(ee?(Ze(O),F!==B&&Ze(B)):(B!==z&&Ze(B),F!==O&&Ze(O)),Ze(F),k>=f.length||!W)break;Ze(W),z=W}}We&&Lt([Ve||We[0],Fe||We[1]]),_.push(D.slice(0,N))}var Ye=S.slice(S.length-1);if(x&&Ye!=="h"&&Ye!=="v"){for(var ke=!1,be=-1,me=[],_e=0;_e<_.length;_e++)for(var Ee=0;Ee<_[_e].length-1;Ee++){var Be=_[_e][Ee],je=_[_e][Ee+1],nt=p.applyBackoff(je,Be);(nt[0]!==je[0]||nt[1]!==je[1])&&(ke=!0),me[be+1]||(be++,me[be]=[Be,[nt[0],nt[1]]])}return ke?me:_}return _}},11731:function(H){H.exports=function(e,p,L){var n=L("line.shape");n==="spline"&&L("line.smoothing")}},14328:function(H){var U={tonextx:1,tonexty:1,tonext:1};H.exports=function(p,L,n){var C,T,v,g,r,t={},s=!1,a=-1,f=0,u=-1;for(T=0;T<n.length;T++)C=n[T][0].trace,v=C.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=f,f++):C.fill in U&&u>=0?r=u:(r=u=f,f++),r<a&&(s=!0),C._groupIndex=a=r;var l=n.slice();s&&l.sort(function(h,M){var c=h[0].trace,i=M[0].trace;return c._groupIndex-i._groupIndex||c.index-i.index});var m={};for(T=0;T<l.length;T++)C=l[T][0].trace,v=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in U&&(g=m[v],C._prevtrace=g||null,g&&(g._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),m[v]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return l}},7152:function(H,U,e){var p=e(38248);H.exports=function(n,C){C||(C=2);var T=n.marker,v=T.sizeref||1,g=T.sizemin||0,r=T.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var s=r(t/C);return p(s)&&s>0?Math.max(s,g):0}}},5528:function(H){H.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(H,U,e){var p=e(76308),L=e(94288).hasColorscale,n=e(27260),C=e(43028);H.exports=function(v,g,r,t,s,a){var f=C.isBubble(v),u=(v.line||{}).color,l;if(a=a||{},u&&(r=u),s("marker.symbol"),s("marker.opacity",f?.7:1),s("marker.size"),a.noAngle||(s("marker.angle"),a.noAngleRef||s("marker.angleref"),a.noStandOff||s("marker.standoff")),s("marker.color",r),L(v,"marker")&&n(v,g,t,s,{prefix:"marker.",cLetter:"c"}),a.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),a.noLine||(u&&!Array.isArray(u)&&g.marker.color!==u?l=u:f?l=p.background:l=p.defaultLine,s("marker.line.color",l),L(v,"marker.line")&&n(v,g,t,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",f?1:0)),f&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),a.gradient){var m=s("marker.gradient.type");m!=="none"&&s("marker.gradient.color")}}},31147:function(H,U,e){var p=e(3400).dateTick0,L=e(39032),n=L.ONEWEEK;function C(T,v){return T%n===0?p(v,1):p(v,0)}H.exports=function(v,g,r,t,s){if(s||(s={x:!0,y:!0}),s.x){var a=t("xperiod");a&&(t("xperiod0",C(a,g.xcalendar)),t("xperiodalignment"))}if(s.y){var f=t("yperiod");f&&(t("yperiod0",C(f,g.ycalendar)),t("yperiodalignment"))}}},96504:function(H,U,e){var p=e(33428),L=e(24040),n=e(3400),C=n.ensureSingle,T=n.identity,v=e(43616),g=e(43028),r=e(52340),t=e(14328),s=e(92065).tester;H.exports=function(m,h,M,c,i,d){var x,A,E=!i,y=!!i&&i.duration>0,S=t(m,h,M);if(x=c.selectAll("g.trace").data(S,function(o){return o[0].trace.uid}),x.enter().append("g").attr("class",function(o){return"trace scatter trace"+o[0].trace.uid}).style("stroke-miterlimit",2),x.order(),a(m,x,h),y){d&&(A=d());var w=p.transition().duration(i.duration).ease(i.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()});w.each(function(){c.selectAll("g.trace").each(function(o,_){f(m,_,h,o,S,this,i)})})}else x.each(function(o,_){f(m,_,h,o,S,this,i)});E&&x.exit().remove(),c.selectAll("path:not([d])").remove()};function a(l,m,h){m.each(function(M){var c=C(p.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,l);var i=M[0].trace,d=[];i._ownfill&&d.push("_ownFill"),i._nexttrace&&d.push("_nextFill");var x=c.selectAll("g").data(d,T);x.enter().append("g"),x.exit().each(function(A){i[A]=null}).remove(),x.order().each(function(A){i[A]=C(p.select(this),"path","js-fill")})})}function f(l,m,h,M,c,i,d){var x=l._context.staticPlot,A;u(l,m,h,M,c);var E=!!d&&d.duration>0;function y(Lt){return E?Lt.transition():Lt}var S=h.xaxis,w=h.yaxis,o=M[0].trace,_=o.line,b=p.select(i),I=C(b,"g","errorbars"),D=C(b,"g","lines"),N=C(b,"g","points"),k=C(b,"g","text");if(L.getComponentMethod("errorbars","plot")(l,I,h,d),o.visible!==!0)return;y(b).style("opacity",o.opacity);var z,F,O=o.fill.charAt(o.fill.length-1);O!=="x"&&O!=="y"&&(O="");var B,W;O==="y"?(B=1,W=w.c2p(0,!0)):O==="x"&&(B=0,W=S.c2p(0,!0)),M[0][h.isRangePlot?"nodeRangePlot3":"node3"]=b;var ee="",ne=[],Q=o._prevtrace,le=null,Z=null;Q&&(ee=Q._prevRevpath||"",F=Q._nextFill,ne=Q._ownPolygons,le=Q._fillsegments,Z=Q._fillElement);var Y,re,X="",q="",se,$,j,ue,ae,ce,ye=[];o._polygons=[];var Ce=[],Ae=[],Ie=n.noop;if(z=o._ownFill,g.hasLines(o)||o.fill!=="none"){F&&F.datum(M),["hv","vh","hvh","vhv"].indexOf(_.shape)!==-1?(se=v.steps(_.shape),$=v.steps(_.shape.split("").reverse().join(""))):_.shape==="spline"?se=$=function(Lt){var at=Lt[Lt.length-1];return Lt.length>1&&Lt[0][0]===at[0]&&Lt[0][1]===at[1]?v.smoothclosed(Lt.slice(1),_.smoothing):v.smoothopen(Lt,_.smoothing)}:se=$=function(Lt){return"M"+Lt.join("L")},j=function(Lt){return $(Lt.reverse())},Ae=r(M,{xaxis:S,yaxis:w,trace:o,connectGaps:o.connectgaps,baseTolerance:Math.max(_.width||1,3)/4,shape:_.shape,backoff:_.backoff,simplify:_.simplify,fill:o.fill}),Ce=new Array(Ae.length);var Te=0;for(A=0;A<Ae.length;A++){var Le,xe=Ae[A];!Le||!O?(Le=xe.slice(),Ce[Te]=Le,Te++):Le.push.apply(Le,xe)}o._fillElement=null,o._fillExclusionElement=Z,o._fillsegments=Ce.slice(0,Te),Ce=o._fillsegments,Ae.length&&(ue=Ae[0][0].slice(),ae=Ae[Ae.length-1],ce=ae[ae.length-1].slice()),Ie=function(Lt){return function(at){if(Y=se(at),re=j(at),X?O?(X+="L"+Y.substr(1),q=re+("L"+q.substr(1))):(X+="Z"+Y,q=re+"Z"+q):(X=Y,q=re),g.hasLines(o)){var Oe=p.select(this);if(Oe.datum(M),Lt)y(Oe.style("opacity",0).attr("d",Y).call(v.lineGroupStyle)).style("opacity",1);else{var Ze=y(Oe);Ze.attr("d",Y),v.singleLineStyle(M,Ze)}}}}}var Re=D.selectAll(".js-line").data(Ae);y(Re.exit()).style("opacity",0).remove(),Re.each(Ie(!1)),Re.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(Ie(!0)),v.setClipUrl(Re,h.layerClipId,l);function He(Lt){y(Lt).attr("d","M0,0Z")}var Ve=function(){var Lt=new Array(Ce.length);for(A=0;A<Ce.length;A++)Lt[A]=s(Ce[A]);return Lt},Fe=function(Lt){var at,Oe;if(!Lt||Lt.length===0)for(at=new Array(Ce.length),Oe=0;Oe<Ce.length;Oe++){var Ze=Ce[Oe][0].slice(),Je=Ce[Oe][Ce[Oe].length-1].slice();Ze[B]=Je[B]=W;var Ye=[Je,Ze],ke=Ye.concat(Ce[Oe]);at[Oe]=s(ke)}else{for(at=new Array(Lt.length-1+Ce.length),Oe=0;Oe<Lt.length-1;Oe++)at[Oe]=s(Lt[Oe]);var be=Lt[Lt.length-1].slice();for(be.reverse(),Oe=0;Oe<Ce.length;Oe++)at[Lt.length-1+Oe]=s(Ce[Oe].concat(be))}return at};Ae.length?(z?(z.datum(M),ue&&ce&&(O?(ue[B]=ce[B]=W,y(z).attr("d","M"+ce+"L"+ue+"L"+X.substr(1)).call(v.singleFillStyle,l),ye=Fe(null)):(y(z).attr("d",X+"Z").call(v.singleFillStyle,l),ye=Ve())),o._polygons=ye,o._fillElement=z):F&&(o.fill.substr(0,6)==="tonext"&&X&&ee?(o.fill==="tonext"?(y(F).attr("d",X+"Z"+ee+"Z").call(v.singleFillStyle,l),ye=Ve(),o._polygons=ye.concat(ne)):(y(F).attr("d",X+"L"+ee.substr(1)+"Z").call(v.singleFillStyle,l),ye=Fe(le),o._polygons=ye),o._fillElement=F):He(F)),o._prevRevpath=q):(z?He(z):F&&He(F),o._prevRevpath=null),o._ownPolygons=ye;function We(Lt){return Lt.filter(function(at){return!at.gap&&at.vis})}function ut(Lt){return Lt.filter(function(at){return at.vis})}function ht(Lt){return Lt.filter(function(at){return!at.gap})}function rt(Lt){return Lt.id}function tt(Lt){if(Lt.ids)return rt}function vt(){return!1}function pt(Lt,at,Oe){var Ze,Je,Ye,ke=Oe[0].trace,be=g.hasMarkers(ke),me=g.hasText(ke),_e=tt(ke),Ee=vt,Be=vt;if(be||me){var je=T,nt=ke.stackgroup,dt=nt&&l._fullLayout._scatterStackOpts[S._id+w._id][nt].stackgaps==="infer zero";ke.marker.maxdisplayed||ke._needsCull?je=dt?ut:We:nt&&!dt&&(je=ht),be&&(Ee=je),me&&(Be=je)}Je=Lt.selectAll("path.point"),Ze=Je.data(Ee,_e);var xt=Ze.enter().append("path").classed("point",!0);E&&xt.call(v.pointStyle,ke,l).call(v.translatePoints,S,w).style("opacity",0).transition().style("opacity",1),Ze.order();var Kt;be&&(Kt=v.makePointStyleFns(ke)),Ze.each(function(Jt){var St=p.select(this),Ft=y(St);Ye=v.translatePoint(Jt,Ft,S,w),Ye?(v.singlePointStyle(Jt,Ft,ke,Kt,l),h.layerClipId&&v.hideOutsideRangePoint(Jt,Ft,S,w,ke.xcalendar,ke.ycalendar),ke.customdata&&St.classed("plotly-customdata",Jt.data!==null&&Jt.data!==void 0)):Ft.remove()}),E?Ze.exit().transition().style("opacity",0).remove():Ze.exit().remove(),Je=at.selectAll("g"),Ze=Je.data(Be,_e),Ze.enter().append("g").classed("textpoint",!0).append("text"),Ze.order(),Ze.each(function(Jt){var St=p.select(this),Ft=y(St.select("text"));Ye=v.translatePoint(Jt,Ft,S,w),Ye?h.layerClipId&&v.hideOutsideRangePoint(Jt,St,S,w,ke.xcalendar,ke.ycalendar):St.remove()}),Ze.selectAll("text").call(v.textPointStyle,ke,l).each(function(Jt){var St=S.c2p(Jt.x),Ft=w.c2p(Jt.y);p.select(this).selectAll("tspan.line").each(function(){y(p.select(this)).attr({x:St,y:Ft})})}),Ze.exit().remove()}N.datum(M),k.datum(M),pt(N,k,M);var mt=o.cliponaxis===!1,wt=mt?null:h.layerClipId;v.setClipUrl(N,wt,l),v.setClipUrl(k,wt,l)}function u(l,m,h,M,c){var i=h.xaxis,d=h.yaxis,x=p.extent(n.simpleMap(i.range,i.r2c)),A=p.extent(n.simpleMap(d.range,d.r2c)),E=M[0].trace;if(g.hasMarkers(E)){var y=E.marker.maxdisplayed;if(y!==0){var S=M.filter(function(b){return b.x>=x[0]&&b.x<=x[1]&&b.y>=A[0]&&b.y<=A[1]}),w=Math.ceil(S.length/y),o=0;c.forEach(function(b,I){var D=b[0].trace;g.hasMarkers(D)&&D.marker.maxdisplayed>0&&I<m&&o++});var _=Math.round(o*w/3+Math.floor(o/3)*w/7.1);M.forEach(function(b){delete b.vis}),S.forEach(function(b,I){Math.round((I+_)%w)===0&&(b.vis=!0)})}}}},91560:function(H,U,e){var p=e(43028);H.exports=function(n,C){var T=n.cd,v=n.xaxis,g=n.yaxis,r=[],t=T[0].trace,s,a,f,u,l=!p.hasMarkers(t)&&!p.hasText(t);if(l)return[];if(C===!1)for(s=0;s<T.length;s++)T[s].selected=0;else for(s=0;s<T.length;s++)a=T[s],f=v.c2p(a.x),u=g.c2p(a.y),a.i!==null&&C.contains([f,u],!1,s,n)?(r.push({pointNumber:a.i,x:v.c2d(a.x),y:g.c2d(a.y)}),a.selected=1):a.selected=0;return r}},43912:function(H){var U=["orientation","groupnorm","stackgaps"];H.exports=function(p,L,n,C){var T=n._scatterStackOpts,v=C("stackgroup");if(v){var g=L.xaxis+L.yaxis,r=T[g];r||(r=T[g]={});var t=r[v],s=!1;t?t.traces.push(L):(t=r[v]={traceIndices:[],traces:[L]},s=!0);for(var a={orientation:L.x&&!L.y?"h":"v"},f=0;f<U.length;f++){var u=U[f],l=u+"Found";if(!t[l]){var m=p[u]!==void 0,h=u==="orientation";if((m||s)&&(t[u]=C(u,a[u]),h&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),m&&(t[l]=!0,!s&&(delete t.traces[0][u],h))))for(var M=0;M<t.traces.length-1;M++){var c=t.traces[M];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(H,U,e){var p=e(33428),L=e(43616),n=e(24040);function C(r){var t=p.select(r).selectAll("g.trace.scatter");t.style("opacity",function(s){return s[0].trace.opacity}),t.selectAll("g.points").each(function(s){var a=p.select(this),f=s.trace||s[0].trace;T(a,f,r)}),t.selectAll("g.text").each(function(s){var a=p.select(this),f=s.trace||s[0].trace;v(a,f,r)}),t.selectAll("g.trace path.js-line").call(L.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(L.fillGroupStyle,r,!1),n.getComponentMethod("errorbars","style")(t)}function T(r,t,s){L.pointStyle(r.selectAll("path.point"),t,s)}function v(r,t,s){L.textPointStyle(r.selectAll("text"),t,s)}function g(r,t,s){var a=t[0].trace;a.selectedpoints?(L.selectedPointStyle(s.selectAll("path.point"),a),L.selectedTextStyle(s.selectAll("text"),a)):(T(s,a,r),v(s,a,r))}H.exports={style:C,stylePoints:T,styleText:v,styleOnSelect:g}},43028:function(H,U,e){var p=e(3400),L=e(38116).isTypedArraySpec;H.exports={hasLines:function(n){return n.visible&&n.mode&&n.mode.indexOf("lines")!==-1},hasMarkers:function(n){return n.visible&&(n.mode&&n.mode.indexOf("markers")!==-1||n.type==="splom")},hasText:function(n){return n.visible&&n.mode&&n.mode.indexOf("text")!==-1},isBubble:function(n){var C=n.marker;return p.isPlainObject(C)&&(p.isArrayOrTypedArray(C.size)||L(C.size))}}},124:function(H,U,e){var p=e(3400);H.exports=function(L,n,C,T,v){v=v||{},T("textposition"),p.coerceFont(T,"textfont",v.font||C.font),v.noSelect||(T("selected.textfont.color"),T("unselected.textfont.color"))}},43980:function(H,U,e){var p=e(3400),L=e(24040);H.exports=function(C,T,v,g){var r=g("x"),t=g("y"),s,a=L.getComponentMethod("calendars","handleTraceDefaults");if(a(C,T,["x","y"],v),r){var f=p.minRowLength(r);t?s=Math.min(f,p.minRowLength(t)):(s=f,g("y0"),g("dy"))}else{if(!t)return 0;s=p.minRowLength(t),g("x0"),g("dx")}return T._length=s,s}},91592:function(H,U,e){var p=e(52904),L=e(49084),n=e(29736).axisHoverFormat,C=e(21776).Ks,T=e(21776).Gw,v=e(45464),g=e(99168),r=e(87792),t=e(92880).extendFlat,s=e(67824).overrideAll,a=e(95376),f=p.line,u=p.marker,l=u.line,m=t({width:f.width,dash:{valType:"enumerated",values:a(g),dflt:"solid"}},L("line"));function h(c){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var M=H.exports=s({x:p.x,y:p.y,z:{valType:"data_array"},text:t({},p.text,{}),texttemplate:T({},{}),hovertext:t({},p.hovertext,{}),hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),mode:t({},p.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:h(),y:h(),z:h()},connectgaps:p.connectgaps,line:m,marker:t({symbol:{valType:"enumerated",values:a(r),dflt:"circle",arrayOk:!0},size:t({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:t({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:t({width:t({},l.width,{arrayOk:!1})},L("marker.line"))},L("marker")),textposition:t({},p.textposition,{dflt:"top center"}),textfont:{color:p.textfont.color,size:p.textfont.size,family:t({},p.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:t({},v.hoverinfo)},"calc","nested");M.x.editType=M.y.editType=M.z.editType="calc+clearAxisTypes"},41484:function(H,U,e){var p=e(20148),L=e(90136);H.exports=function(C,T){var v=[{x:!1,y:!1,trace:T,t:{}}];return p(v,T),L(C,T),v}},45156:function(H,U,e){var p=e(24040);function L(T,v,g,r){if(!v||!v.visible)return null;for(var t=p.getComponentMethod("errorbars","makeComputeError")(v),s=new Array(T.length),a=0;a<T.length;a++){var f=t(+T[a],a);if(r.type==="log"){var u=r.c2l(T[a]),l=T[a]-f[0],m=T[a]+f[1];if(s[a]=[(r.c2l(l,!0)-u)*g,(r.c2l(m,!0)-u)*g],l>0){var h=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else s[a]=[-f[0]*g,f[1]*g]}return s}function n(T){for(var v=0;v<T.length;v++)if(T[v])return T[v].length;return 0}function C(T,v,g){var r=[L(T.x,T.error_x,v[0],g.xaxis),L(T.y,T.error_y,v[1],g.yaxis),L(T.z,T.error_z,v[2],g.zaxis)],t=n(r);if(t===0)return null;for(var s=new Array(t),a=0;a<t;a++){for(var f=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var l=0;l<2;l++)f[l][u]=r[u][a][l];s[a]=f}return s}H.exports=C},41064:function(H,U,e){var p=e(67792).gl_line3d,L=e(67792).gl_scatter3d,n=e(67792).gl_error3d,C=e(67792).gl_mesh3d,T=e(67792).delaunay_triangulate,v=e(3400),g=e(43080),r=e(33040).formatColor,t=e(7152),s=e(99168),a=e(87792),f=e(54460),u=e(10624).appendArrayPointValue,l=e(45156);function m(b,I){this.scene=b,this.uid=I,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=m.prototype;h.handlePick=function(b){if(b.object&&(b.object===this.linePlot||b.object===this.delaunayMesh||b.object===this.textMarkers||b.object===this.scatterPlot)){var I=b.index=b.data.index;return b.object.highlight&&b.object.highlight(null),this.scatterPlot&&(b.object=this.scatterPlot,this.scatterPlot.highlight(b.data)),b.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[I]||this.textLabels[I]===0)&&(b.textLabel=this.textLabels[I]):b.textLabel=this.textLabels),b.traceCoordinate=[this.data.x[I],this.data.y[I],this.data.z[I]],!0}};function M(b,I,D){var N=(D+1)%3,k=(D+2)%3,z=[],F=[],O;for(O=0;O<b.length;++O){var B=b[O];isNaN(B[N])||!isFinite(B[N])||isNaN(B[k])||!isFinite(B[k])||(z.push([B[N],B[k]]),F.push(O))}var W=T(z);for(O=0;O<W.length;++O)for(var ee=W[O],ne=0;ne<ee.length;++ne)ee[ne]=F[ee[ne]];return{positions:b,cells:W,meshColor:I}}function c(b){for(var I=[0,0,0],D=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],k=0;k<3;k++){var z=b[k];z&&z.copy_zstyle!==!1&&b[2].visible!==!1&&(z=b[2]),!(!z||!z.visible)&&(I[k]=z.width/2,D[k]=g(z.color),N[k]=z.thickness)}return{capSize:I,color:D,lineWidth:N}}function i(b){return b==null?0:b.indexOf("left")>-1?-1:b.indexOf("right")>-1?1:0}function d(b){return b==null?0:b.indexOf("top")>-1?-1:b.indexOf("bottom")>-1?1:0}function x(b){var I=0,D=0,N=[I,D];if(Array.isArray(b))for(var k=0;k<b.length;k++)N[k]=[I,D],b[k]&&(N[k][0]=i(b[k]),N[k][1]=d(b[k]));else N[0]=i(b),N[1]=d(b);return N}function A(b,I){return I(b*4)}function E(b){return a[b]}function y(b,I,D,N,k){var z=null;if(v.isArrayOrTypedArray(b)){z=[];for(var F=0;F<I;F++)b[F]===void 0?z[F]=N:z[F]=D(b[F],k)}else z=D(b,v.identity);return z}function S(b,I){var D=[],N=b.fullSceneLayout,k=b.dataScale,z=N.xaxis,F=N.yaxis,O=N.zaxis,B=I.marker,W=I.line,ee=I.x||[],ne=I.y||[],Q=I.z||[],le=ee.length,Z=I.xcalendar,Y=I.ycalendar,re=I.zcalendar,X,q,se,$,j,ue;for(j=0;j<le;j++)X=z.d2l(ee[j],0,Z)*k[0],q=F.d2l(ne[j],0,Y)*k[1],se=O.d2l(Q[j],0,re)*k[2],D[j]=[X,q,se];if(Array.isArray(I.text))ue=I.text;else if(v.isTypedArray(I.text))ue=Array.from(I.text);else if(I.text!==void 0)for(ue=new Array(le),j=0;j<le;j++)ue[j]=I.text;function ae(ht,rt){var tt=N[ht];return f.tickText(tt,tt.d2l(rt),!0).text}var ce=I.texttemplate;if(ce){var ye=b.fullLayout,Ce=ye._d3locale,Ae=Array.isArray(ce),Ie=Ae?Math.min(ce.length,le):le,Te=Ae?function(ht){return ce[ht]}:function(){return ce};for(ue=new Array(Ie),j=0;j<Ie;j++){var Le={x:ee[j],y:ne[j],z:Q[j]},xe={xLabel:ae("xaxis",ee[j]),yLabel:ae("yaxis",ne[j]),zLabel:ae("zaxis",Q[j])},Re={};u(Re,I,j);var He=I._meta||{};ue[j]=v.texttemplateString(Te(j),xe,Ce,Re,Le,He)}}if($={position:D,mode:I.mode,text:ue},"line"in I&&($.lineColor=r(W,1,le),$.lineWidth=W.width,$.lineDashes=W.dash),"marker"in I){var Ve=t(I);$.scatterColor=r(B,1,le),$.scatterSize=y(B.size,le,A,20,Ve),$.scatterMarker=y(B.symbol,le,E,""),$.scatterLineWidth=B.line.width,$.scatterLineColor=r(B.line,1,le),$.scatterAngle=0}"textposition"in I&&($.textOffset=x(I.textposition),$.textColor=r(I.textfont,1,le),$.textSize=y(I.textfont.size,le,v.identity,12),$.textFont=I.textfont.family,$.textAngle=0);var Fe=["x","y","z"];for($.project=[!1,!1,!1],$.projectScale=[1,1,1],$.projectOpacity=[1,1,1],j=0;j<3;++j){var We=I.projection[Fe[j]];($.project[j]=We.show)&&($.projectOpacity[j]=We.opacity,$.projectScale[j]=We.scale)}$.errorBounds=l(I,k,N);var ut=c([I.error_x,I.error_y,I.error_z]);return $.errorColor=ut.color,$.errorLineWidth=ut.lineWidth,$.errorCapSize=ut.capSize,$.delaunayAxis=I.surfaceaxis,$.delaunayColor=g(I.surfacecolor),$}function w(b){if(v.isArrayOrTypedArray(b)){var I=b[0];return v.isArrayOrTypedArray(I)&&(b=I),"rgb("+b.slice(0,3).map(function(D){return Math.round(D*255)})+")"}return null}function o(b){return v.isArrayOrTypedArray(b)?b.length===4&&typeof b[0]=="number"?w(b):b.map(w):null}h.update=function(b){var I=this.scene.glplot.gl,D,N,k,z,F=s.solid;this.data=b;var O=S(this.scene,b);"mode"in O&&(this.mode=O.mode),"lineDashes"in O&&O.lineDashes in s&&(F=s[O.lineDashes]),this.color=o(O.scatterColor)||o(O.lineColor),this.dataPoints=O.position,D={gl:this.scene.glplot.gl,position:O.position,color:O.lineColor,lineWidth:O.lineWidth||1,dashes:F[0],dashScale:F[1],opacity:b.opacity,connectGaps:b.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(D):(this.linePlot=p(D),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var B=b.opacity;if(b.marker&&b.marker.opacity!==void 0&&(B*=b.marker.opacity),N={gl:this.scene.glplot.gl,position:O.position,color:O.scatterColor,size:O.scatterSize,glyph:O.scatterMarker,opacity:B,orthographic:!0,lineWidth:O.scatterLineWidth,lineColor:O.scatterLineColor,project:O.project,projectScale:O.projectScale,projectOpacity:O.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=L(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),z={gl:this.scene.glplot.gl,position:O.position,glyph:O.text,color:O.textColor,size:O.textSize,angle:O.textAngle,alignment:O.textOffset,font:O.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity},this.textLabels=b.hovertext||b.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(z):(this.textMarkers=L(z),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),k={gl:this.scene.glplot.gl,position:O.position,color:O.errorColor,error:O.errorBounds,lineWidth:O.errorLineWidth,capSize:O.errorCapSize,opacity:b.opacity},this.errorBars?O.errorBounds?this.errorBars.update(k):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):O.errorBounds&&(this.errorBars=n(k),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),O.delaunayAxis>=0){var W=M(O.position,O.delaunayColor,O.delaunayAxis);W.opacity=b.opacity,this.delaunayMesh?this.delaunayMesh.update(W):(W.gl=I,this.delaunayMesh=C(W),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function _(b,I){var D=new m(b,I.uid);return D.update(I),D}H.exports=_},83484:function(H,U,e){var p=e(24040),L=e(3400),n=e(43028),C=e(74428),T=e(66828),v=e(124),g=e(91592);H.exports=function(s,a,f,u){function l(A,E){return L.coerce(s,a,g,A,E)}var m=r(s,a,l,u);if(!m){a.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),n.hasMarkers(a)&&C(s,a,f,u,l,{noSelect:!0,noAngle:!0}),n.hasLines(a)&&(l("connectgaps"),T(s,a,f,u,l)),n.hasText(a)&&(l("texttemplate"),v(s,a,u,l,{noSelect:!0}));var h=(a.line||{}).color,M=(a.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||M);for(var c=["x","y","z"],i=0;i<3;++i){var d="projection."+c[i];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var x=p.getComponentMethod("errorbars","supplyDefaults");x(s,a,h||M||f,{axis:"z"}),x(s,a,h||M||f,{axis:"y",inherit:"z"}),x(s,a,h||M||f,{axis:"x",inherit:"z"})};function r(t,s,a,f){var u=0,l=a("x"),m=a("y"),h=a("z"),M=p.getComponentMethod("calendars","handleTraceDefaults");return M(t,s,["x","y","z"],f),l&&m&&h&&(u=Math.min(l.length,m.length,h.length),s._length=s._xlength=s._ylength=s._zlength=u),u}},3296:function(H,U,e){H.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(H,U,e){var p=e(98304),L=e(52904),n=e(45464),C=e(21776).Ks,T=e(21776).Gw,v=e(49084),g=e(92880).extendFlat,r=L.marker,t=L.line,s=r.line;H.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:g({},L.mode,{dflt:"markers"}),text:g({},L.text,{}),texttemplate:T({editType:"plot"},{keys:["a","b","text"]}),hovertext:g({},L.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:g({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:L.connectgaps,fill:g({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:p(),marker:g({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:g({width:s.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:g({},n.hoverinfo,{flags:["a","b","text","name"]}),hoveron:L.hoveron,hovertemplate:C()}},48228:function(H,U,e){var p=e(38248),L=e(90136),n=e(20148),C=e(4500),T=e(16356).calcMarkerSize,v=e(50948);H.exports=function(r,t){var s=t._carpetTrace=v(r,t);if(!(!s||!s.visible||s.visible==="legendonly")){var a;t.xaxis=s.xaxis,t.yaxis=s.yaxis;var f=t._length,u=new Array(f),l,m,h=!1;for(a=0;a<f;a++)if(l=t.a[a],m=t.b[a],p(l)&&p(m)){var M=s.ab2xy(+l,+m,!0),c=s.isVisible(+l,+m);c||(h=!0),u[a]={x:M[0],y:M[1],a:l,b:m,vis:c}}else u[a]={x:!1,y:!1};return t._needsCull=h,u[0].carpet=s,u[0].trace=t,T(t,f),L(r,t),n(u,t),C(u,t),u}}},6176:function(H,U,e){var p=e(3400),L=e(88200),n=e(43028),C=e(74428),T=e(66828),v=e(11731),g=e(124),r=e(70840),t=e(90372);H.exports=function(a,f,u,l){function m(A,E){return p.coerce(a,f,t,A,E)}m("carpet"),f.xaxis="x",f.yaxis="y";var h=m("a"),M=m("b"),c=Math.min(h.length,M.length);if(!c){f.visible=!1;return}f._length=c,m("text"),m("texttemplate"),m("hovertext");var i=c<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",i),n.hasMarkers(f)&&C(a,f,u,l,m,{gradient:!0}),n.hasLines(f)&&(T(a,f,u,l,m,{backoff:!0}),v(a,f,m),m("connectgaps")),n.hasText(f)&&g(a,f,l,m);var d=[];(n.hasMarkers(f)||n.hasText(f))&&(m("marker.maxdisplayed"),d.push("points")),m("fill"),f.fill!=="none"&&(r(a,f,u,m),n.hasLines(f)||v(a,f,m)),(f.fill==="tonext"||f.fill==="toself")&&d.push("fills");var x=m("hoveron",d.join("+")||"points");x!=="fills"&&m("hovertemplate"),p.coerceSelectionMarkerOpacity(f,m)}},89307:function(H){H.exports=function(e,p,L,n,C){var T=n[C];return e.a=T.a,e.b=T.b,e.y=T.y,e}},52364:function(H){H.exports=function(e,p){var L={},n=p._carpet,C=n.ab2ij([e.a,e.b]),T=Math.floor(C[0]),v=C[0]-T,g=Math.floor(C[1]),r=C[1]-g,t=n.evalxy([],T,g,v,r);return L.yLabel=t[1].toFixed(3),L}},58960:function(H,U,e){var p=e(98723),L=e(3400).fillText;H.exports=function(C,T,v,g){var r=p(C,T,v,g);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var s=1-t.y0/C.ya._length,a=C.xa._length,f=a*s/2,u=a-f;return t.x0=Math.max(Math.min(t.x0,u),f),t.x1=Math.max(Math.min(t.x1,u),f),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var m=t.trace,h=m._carpet,M=m._module.formatLabels(l,m);t.yLabel=M.yLabel,delete t.text;var c=[];function i(A,E){var y;A.labelprefix&&A.labelprefix.length>0?y=A.labelprefix.replace(/ = $/,""):y=A._hovertitle,c.push(y+": "+E.toFixed(3)+A.labelsuffix)}if(!m.hovertemplate){var d=l.hi||m.hoverinfo,x=d.split("+");x.indexOf("all")!==-1&&(x=["a","b","text"]),x.indexOf("a")!==-1&&i(h.aaxis,l.a),x.indexOf("b")!==-1&&i(h.baxis,l.b),c.push("y: "+t.yLabel),x.indexOf("text")!==-1&&L(l,m,c),t.extraText=c.join("<br>")}return r}},4184:function(H,U,e){H.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(H,U,e){var p=e(96504),L=e(54460),n=e(43616);H.exports=function(T,v,g,r){var t,s,a,f=g[0][0].carpet,u=L.getFromId(T,f.xaxis||"x"),l=L.getFromId(T,f.yaxis||"y"),m={xaxis:u,yaxis:l,plot:v.plot};for(t=0;t<g.length;t++)s=g[t][0].trace,s._xA=u,s._yA=l;for(p(T,m,g,r),t=0;t<g.length;t++)s=g[t][0].trace,a=r.selectAll("g.trace"+s.uid+" .js-line"),n.setClipUrl(a,g[t][0].carpet._clipPathId,T)}},6096:function(H,U,e){var p=e(21776).Ks,L=e(21776).Gw,n=e(98304),C=e(52904),T=e(45464),v=e(49084),g=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,s=C.marker,a=C.line,f=s.line;H.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},C.hovertext,{}),textfont:C.textfont,textposition:C.textposition,line:{color:a.color,width:a.width,dash:g},connectgaps:C.connectgaps,marker:r({symbol:s.symbol,opacity:s.opacity,angle:s.angle,angleref:r({},s.angleref,{values:["previous","up","north"]}),standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,colorbar:s.colorbar,line:r({width:f.width},v("marker.line")),gradient:s.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:n(),selected:C.selected,unselected:C.unselected,hoverinfo:r({},T.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:p()},"calc","nested")},25212:function(H,U,e){var p=e(38248),L=e(39032).BADNUM,n=e(90136),C=e(20148),T=e(4500),v=e(3400).isArrayOrTypedArray,g=e(3400)._;function r(t){return t&&typeof t=="string"}H.exports=function(s,a){var f=v(a.locations),u=f?a.locations.length:a._length,l=new Array(u),m;a.geojson?m=function(x){return r(x)||p(x)}:m=r;for(var h=0;h<u;h++){var M=l[h]={};if(f){var c=a.locations[h];M.loc=m(c)?c:null}else{var i=a.lon[h],d=a.lat[h];p(i)&&p(d)?M.lonlat=[+i,+d]:M.lonlat=[L,L]}}return C(l,a),n(s,a),T(l,a),u&&(l[0].t={labels:{lat:g(s,"lat:")+" ",lon:g(s,"lon:")+" "}}),l}},86188:function(H,U,e){var p=e(3400),L=e(43028),n=e(74428),C=e(66828),T=e(124),v=e(70840),g=e(6096);H.exports=function(t,s,a,f){function u(x,A){return p.coerce(t,s,g,x,A)}var l=u("locations"),m;if(l&&l.length){var h=u("geojson"),M;(typeof h=="string"&&h!==""||p.isPlainObject(h))&&(M="geojson-id");var c=u("locationmode",M);c==="geojson-id"&&u("featureidkey"),m=l.length}else{var i=u("lon")||[],d=u("lat")||[];m=Math.min(i.length,d.length)}if(!m){s.visible=!1;return}s._length=m,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),L.hasMarkers(s)&&n(t,s,a,f,u,{gradient:!0}),L.hasLines(s)&&(C(t,s,a,f,u),u("connectgaps")),L.hasText(s)&&(u("texttemplate"),T(t,s,f,u)),u("fill"),s.fill!=="none"&&v(t,s,a,u),p.coerceSelectionMarkerOpacity(s,u)}},58544:function(H){H.exports=function(e,p,L,n,C){e.lon=p.lon,e.lat=p.lat,e.location=p.loc?p.loc:null;var T=n[C];return T.fIn&&T.fIn.properties&&(e.properties=T.fIn.properties),e}},56696:function(H,U,e){var p=e(54460);H.exports=function(n,C,T){var v={},g=T[C.geo]._subplot,r=g.mockAxis,t=n.lonlat;return v.lonLabel=p.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=p.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(H,U,e){var p=e(93024),L=e(39032).BADNUM,n=e(44928),C=e(3400).fillText,T=e(6096);H.exports=function(r,t,s){var a=r.cd,f=a[0].trace,u=r.xa,l=r.ya,m=r.subplot,h=m.projection.isLonLatOverEdges,M=m.project;function c(S){var w=S.lonlat;if(w[0]===L||h(w))return 1/0;var o=M(w),_=M([t,s]),b=Math.abs(o[0]-_[0]),I=Math.abs(o[1]-_[1]),D=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(b*b+I*I)-D,1-3/D)}if(p.getClosest(a,c,r),r.index!==!1){var i=a[r.index],d=i.lonlat,x=[u.c2p(d),l.c2p(d)],A=i.mrc||1;r.x0=x[0]-A,r.x1=x[0]+A,r.y0=x[1]-A,r.y1=x[1]+A,r.loc=i.loc,r.lon=d[0],r.lat=d[1];var E={};E[f.geo]={_subplot:m};var y=f._module.formatLabels(i,f,E);return r.lonLabel=y.lonLabel,r.latLabel=y.latLabel,r.color=n(f,i),r.extraText=v(f,i,r,a[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}};function v(g,r,t,s){if(g.hovertemplate)return;var a=r.hi||g.hoverinfo,f=a==="all"?T.hoverinfo.flags:a.split("+"),u=f.indexOf("location")!==-1&&Array.isArray(g.locations),l=f.indexOf("lon")!==-1,m=f.indexOf("lat")!==-1,h=f.indexOf("text")!==-1,M=[];function c(i){return i+""}return u?M.push(r.loc):l&&m?M.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):l?M.push(s.lon+c(t.lonLabel)):m&&M.push(s.lat+c(t.latLabel)),h&&C(r,g,M),M.join("<br>")}},36952:function(H,U,e){H.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(H,U,e){var p=e(33428),L=e(3400),n=e(59972).getTopojsonFeatures,C=e(44808),T=e(27144),v=e(19280).findExtremes,g=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),s=e(25064);function a(u,l,m){var h=l.layers.frontplot.select(".scatterlayer"),M=L.makeTraceGroups(h,m,"trace scattergeo");function c(i,d){i.lonlat[0]===g&&p.select(d).remove()}M.selectAll("*").remove(),M.each(function(i){var d=p.select(this),x=i[0].trace;if(t.hasLines(x)||x.fill!=="none"){var A=C.calcTraceToLineCoords(i),E=x.fill!=="none"?C.makePolygon(A):C.makeLine(A);d.selectAll("path.js-line").data([{geojson:E,trace:x}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(x)&&d.selectAll("path.point").data(L.identity).enter().append("path").classed("point",!0).each(function(y){c(y,this)}),t.hasText(x)&&d.selectAll("g").data(L.identity).enter().append("g").append("text").each(function(y){c(y,this)}),s(u,i)})}function f(u,l){var m=u[0].trace,h=l[m.geo],M=h._subplot,c=m._length,i,d;if(L.isArrayOrTypedArray(m.locations)){var x=m.locationmode,A=x==="geojson-id"?T.extractTraceFeature(u):n(m,M.topojson);for(i=0;i<c;i++){d=u[i];var E=x==="geojson-id"?d.fOut:T.locationToFeature(x,d.loc,A);d.lonlat=E?E.properties.ct:[g,g]}}var y={padded:!0},S,w;if(h.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var o=T.computeBbox(T.getTraceGeojson(m));S=[o[0],o[2]],w=[o[1],o[3]]}else{for(S=new Array(c),w=new Array(c),i=0;i<c;i++)d=u[i],S[i]=d.lonlat[0],w[i]=d.lonlat[1];y.ppad=r(m,c)}m._extremes.lon=v(h.lonaxis._ax,S,y),m._extremes.lat=v(h.lataxis._ax,w,y)}H.exports={calcGeoJSON:f,plot:a}},8796:function(H,U,e){var p=e(43028),L=e(39032).BADNUM;H.exports=function(C,T){var v=C.cd,g=C.xaxis,r=C.yaxis,t=[],s=v[0].trace,a,f,u,l,m,h=!p.hasMarkers(s)&&!p.hasText(s);if(h)return[];if(T===!1)for(m=0;m<v.length;m++)v[m].selected=0;else for(m=0;m<v.length;m++)a=v[m],f=a.lonlat,f[0]!==L&&(u=g.c2p(f),l=r.c2p(f),T.contains([u,l],null,m,C)?(t.push({pointNumber:m,lon:f[0],lat:f[1]}),a.selected=1):a.selected=0);return t}},25064:function(H,U,e){var p=e(33428),L=e(43616),n=e(76308),C=e(49224),T=C.stylePoints,v=C.styleText;H.exports=function(t,s){s&&g(t,s)};function g(r,t){var s=t[0].trace,a=t[0].node3;a.style("opacity",t[0].trace.opacity),T(a,s,r),v(a,s,r),a.selectAll("path.js-line").style("fill","none").each(function(f){var u=p.select(this),l=f.trace,m=l.line||{};u.call(n.stroke,m.color).call(L.dashLine,m.dash||"",m.width||0),l.fill!=="none"&&u.call(n.fill,l.fillcolor)})}},2876:function(H,U,e){var p=e(45464),L=e(98304),n=e(52904),C=e(29736).axisHoverFormat,T=e(49084),v=e(95376),g=e(92880).extendFlat,r=e(67824).overrideAll,t=e(67072).DASHES,s=n.line,a=n.marker,f=a.line,u=H.exports=r({x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,xperiod:n.xperiod,yperiod:n.yperiod,xperiod0:n.xperiod0,yperiod0:n.yperiod0,xperiodalignment:n.xperiodalignment,yperiodalignment:n.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),text:n.text,hovertext:n.hovertext,textposition:n.textposition,textfont:n.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:s.color,width:s.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:v(t),dflt:"solid"}},marker:g({},T("marker"),{symbol:a.symbol,angle:a.angle,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,opacity:a.opacity,colorbar:a.colorbar,line:g({},T("marker.line"),{width:f.width})}),connectgaps:n.connectgaps,fill:g({},n.fill,{dflt:"none"}),fillcolor:L(),selected:{marker:n.selected.marker,textfont:n.selected.textfont},unselected:{marker:n.unselected.marker,textfont:n.unselected.textfont},opacity:p.opacity},"calc","nested");u.x.editType=u.y.editType=u.x0.editType=u.y0.editType="calc+clearAxisTypes",u.hovertemplate=n.hovertemplate,u.texttemplate=n.texttemplate},64628:function(H,U,e){var p=e(41272);H.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:p.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(H,U,e){var p=e(3108),L=e(3400),n=e(79811),C=e(19280).findExtremes,T=e(1220),v=e(16356),g=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,s=e(90136),a=e(84236),f=e(74588),u=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;H.exports=function(c,i){var d=c._fullLayout,x=i._xA=n.getFromId(c,i.xaxis,"x"),A=i._yA=n.getFromId(c,i.yaxis,"y"),E=d._plots[i.xaxis+i.yaxis],y=i._length,S=y>=l,w=y*2,o={},_,b=x.makeCalcdata(i,"x"),I=A.makeCalcdata(i,"y"),D=T(i,x,"x",b),N=T(i,A,"y",I),k=D.vals,z=N.vals;i._x=k,i._y=z,i.xperiodalignment&&(i._origX=b,i._xStarts=D.starts,i._xEnds=D.ends),i.yperiodalignment&&(i._origY=I,i._yStarts=N.starts,i._yEnds=N.ends);var F=new Array(w),O=new Array(y);for(_=0;_<y;_++)F[_*2]=k[_]===u?NaN:k[_],F[_*2+1]=z[_]===u?NaN:z[_],O[_]=_;if(x.type==="log")for(_=0;_<w;_+=2)F[_]=x.c2l(F[_]);if(A.type==="log")for(_=1;_<w;_+=2)F[_]=A.c2l(F[_]);S&&x.type!=="log"&&A.type!=="log"?o.tree=p(F):o.ids=O,s(c,i);var B=h(c,E,i,F,k,z),W=f(c,E);t(d,i);var ee;return S?B.marker&&(ee=B.marker.sizeAvg||Math.max(B.marker.size,3)):ee=g(i,y),r(c,i,x,A,k,z,ee),B.errorX&&m(i,x,B.errorX),B.errorY&&m(i,A,B.errorY),B.fill&&!W.fill2d&&(W.fill2d=!0),B.marker&&!W.scatter2d&&(W.scatter2d=!0),B.line&&!W.line2d&&(W.line2d=!0),(B.errorX||B.errorY)&&!W.error2d&&(W.error2d=!0),B.text&&!W.glText&&(W.glText=!0),B.marker&&(B.marker.snap=y),W.lineOptions.push(B.line),W.errorXOptions.push(B.errorX),W.errorYOptions.push(B.errorY),W.fillOptions.push(B.fill),W.markerOptions.push(B.marker),W.markerSelectedOptions.push(B.markerSel),W.markerUnselectedOptions.push(B.markerUnsel),W.textOptions.push(B.text),W.textSelectedOptions.push(B.textSel),W.textUnselectedOptions.push(B.textUnsel),W.selectBatch.push([]),W.unselectBatch.push([]),o._scene=W,o.index=W.count,o.x=k,o.y=z,o.positions=F,W.count++,[{x:!1,y:!1,t:o,trace:i}]};function m(M,c,i){var d=M._extremes[c._id],x=C(c,i._bnds,{padded:!0});d.min=d.min.concat(x.min),d.max=d.max.concat(x.max)}function h(M,c,i,d,x,A){var E=a.style(M,i);if(E.marker&&(E.marker.positions=d),E.line&&d.length>1&&L.extendFlat(E.line,a.linePositions(M,i,d)),E.errorX||E.errorY){var y=a.errorBarPositions(M,i,d,x,A);E.errorX&&L.extendFlat(E.errorX,y.x),E.errorY&&L.extendFlat(E.errorY,y.y)}return E.text&&(L.extendFlat(E.text,{positions:d},a.textPosition(M,i,E.text,E.marker)),L.extendFlat(E.textSel,{positions:d},a.textPosition(M,i,E.text,E.markerSel)),L.extendFlat(E.textUnsel,{positions:d},a.textPosition(M,i,E.text,E.markerUnsel))),E}},67072:function(H){var U=20;H.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:U,SYMBOL_STROKE:U/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(H,U,e){var p=e(38248),L=e(20472),n=e(72160),C=e(24040),T=e(3400),v=T.isArrayOrTypedArray,g=e(43616),r=e(79811),t=e(33040).formatColor,s=e(43028),a=e(7152),f=e(80088),u=e(67072),l=e(13448).DESELECTDIM,m={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function M(N,k){var z,F={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},O=N._context.plotGlPixelRatio;if(k.visible!==!0)return F;if(s.hasText(k)&&(F.text=c(N,k),F.textSel=x(N,k,k.selected),F.textUnsel=x(N,k,k.unselected)),s.hasMarkers(k)&&(F.marker=i(N,k),F.markerSel=d(N,k,k.selected),F.markerUnsel=d(N,k,k.unselected),!k.unselected&&v(k.marker.opacity))){var B=k.marker.opacity;for(F.markerUnsel.opacity=new Array(B.length),z=0;z<B.length;z++)F.markerUnsel.opacity[z]=l*B[z]}if(s.hasLines(k)){F.line={overlay:!0,thickness:k.line.width*O,color:k.line.color,opacity:k.opacity};var W=(u.DASHES[k.line.dash]||[1]).slice();for(z=0;z<W.length;++z)W[z]*=k.line.width*O;F.line.dashes=W}return k.error_x&&k.error_x.visible&&(F.errorX=A(k,k.error_x,O)),k.error_y&&k.error_y.visible&&(F.errorY=A(k,k.error_y,O)),k.fill&&k.fill!=="none"&&(F.fill={closed:!0,fill:k.fillcolor,thickness:0}),F}function c(N,k){var z=N._fullLayout,F=k._length,O=k.textfont,B=k.textposition,W=v(B)?B:[B],ee=O.color,ne=O.size,Q=O.family,le={},Z,Y=N._context.plotGlPixelRatio,re=k.texttemplate;if(re){le.text=[];var X=z._d3locale,q=Array.isArray(re),se=q?Math.min(re.length,F):F,$=q?function(Ae){return re[Ae]}:function(){return re};for(Z=0;Z<se;Z++){var j={i:Z},ue=k._module.formatLabels(j,k,z),ae={};h(ae,k,Z);var ce=k._meta||{};le.text.push(T.texttemplateString($(Z),ue,X,ae,j,ce))}}else v(k.text)&&k.text.length<F?le.text=k.text.slice():le.text=k.text;if(v(le.text))for(Z=le.text.length;Z<F;Z++)le.text[Z]="";for(le.opacity=k.opacity,le.font={},le.align=[],le.baseline=[],Z=0;Z<W.length;Z++){var ye=W[Z].split(/\s+/);switch(ye[1]){case"left":le.align.push("right");break;case"right":le.align.push("left");break;default:le.align.push(ye[1])}switch(ye[0]){case"top":le.baseline.push("bottom");break;case"bottom":le.baseline.push("top");break;default:le.baseline.push(ye[0])}}if(v(ee))for(le.color=new Array(F),Z=0;Z<F;Z++)le.color[Z]=ee[Z];else le.color=ee;if(v(ne)||v(Q))for(le.font=new Array(F),Z=0;Z<F;Z++){var Ce=le.font[Z]={};Ce.size=(T.isTypedArray(ne)?ne[Z]:v(ne)?p(ne[Z])?ne[Z]:0:ne)*Y,Ce.family=v(Q)?Q[Z]:Q}else le.font={size:ne*Y,family:Q};return le}function i(N,k){var z=k._length,F=k.marker,O={},B,W=v(F.symbol),ee=v(F.angle),ne=v(F.color),Q=v(F.line.color),le=v(F.opacity),Z=v(F.size),Y=v(F.line.width),re;if(W||(re=f.isOpenSymbol(F.symbol)),W||ne||Q||le||ee){O.symbols=new Array(z),O.angles=new Array(z),O.colors=new Array(z),O.borderColors=new Array(z);var X=F.symbol,q=F.angle,se=t(F,F.opacity,z),$=t(F.line,F.opacity,z);if(!v($[0])){var j=$;for($=Array(z),B=0;B<z;B++)$[B]=j}if(!v(se[0])){var ue=se;for(se=Array(z),B=0;B<z;B++)se[B]=ue}if(!v(X)){var ae=X;for(X=Array(z),B=0;B<z;B++)X[B]=ae}if(!v(q)){var ce=q;for(q=Array(z),B=0;B<z;B++)q[B]=ce}for(O.symbols=X,O.angles=q,O.colors=se,O.borderColors=$,B=0;B<z;B++)W&&(re=f.isOpenSymbol(F.symbol[B])),re&&($[B]=se[B].slice(),se[B]=se[B].slice(),se[B][3]=0);for(O.opacity=k.opacity,O.markers=new Array(z),B=0;B<z;B++)O.markers[B]=_({mx:O.symbols[B],ma:O.angles[B]},k)}else re?(O.color=n(F.color,"uint8"),O.color[3]=0,O.borderColor=n(F.color,"uint8")):(O.color=n(F.color,"uint8"),O.borderColor=n(F.line.color,"uint8")),O.opacity=k.opacity*F.opacity,O.marker=_({mx:F.symbol,ma:F.angle},k);var ye=1,Ce=a(k,ye),Ae;if(Z||Y){var Ie=O.sizes=new Array(z),Te=O.borderSizes=new Array(z),Le=0,xe;if(Z){for(B=0;B<z;B++)Ie[B]=Ce(F.size[B]),Le+=Ie[B];xe=Le/z}else for(Ae=Ce(F.size),B=0;B<z;B++)Ie[B]=Ae;if(Y)for(B=0;B<z;B++)Te[B]=F.line.width[B];else for(Ae=F.line.width,B=0;B<z;B++)Te[B]=Ae;O.sizeAvg=xe}else O.size=Ce(F&&F.size||10),O.borderSizes=Ce(F.line.width);return O}function d(N,k,z){var F=k.marker,O={};return z&&(z.marker&&z.marker.symbol?O=i(N,T.extendFlat({},F,z.marker)):z.marker&&(z.marker.size&&(O.size=z.marker.size),z.marker.color&&(O.colors=z.marker.color),z.marker.opacity!==void 0&&(O.opacity=z.marker.opacity))),O}function x(N,k,z){var F={};if(!z)return F;if(z.textfont){var O={opacity:1,text:k.text,texttemplate:k.texttemplate,textposition:k.textposition,textfont:T.extendFlat({},k.textfont)};z.textfont&&T.extendFlat(O.textfont,z.textfont),F=c(N,O)}return F}function A(N,k,z){var F={capSize:k.width*2*z,lineWidth:k.thickness*z,color:k.color};return k.copy_ystyle&&(F=N.error_y),F}var E=u.SYMBOL_SDF_SIZE,y=u.SYMBOL_SIZE,S=u.SYMBOL_STROKE,w={},o=g.symbolFuncs[0](y*.05);function _(N,k){var z=N.mx;if(z==="circle")return null;var F,O,B=g.symbolNumber(z),W=g.symbolFuncs[B%100],ee=!!g.symbolNoDot[B%100],ne=!!g.symbolNoFill[B%100],Q=f.isDotSymbol(z);if(N.ma&&(z+="_"+N.ma),w[z])return w[z];var le=g.getMarkerAngle(N,k);return Q&&!ee?F=W(y*1.1,le)+o:F=W(y,le),O=L(F,{w:E,h:E,viewBox:[-y,-y,y,y],stroke:ne?S:-S}),w[z]=O,O||null}function b(N,k,z){var F=z.length,O=F/2,B,W;if(s.hasLines(k)&&O)if(k.line.shape==="hv"){for(B=[],W=0;W<O-1;W++)isNaN(z[W*2])||isNaN(z[W*2+1])?B.push(NaN,NaN,NaN,NaN):(B.push(z[W*2],z[W*2+1]),!isNaN(z[W*2+2])&&!isNaN(z[W*2+3])?B.push(z[W*2+2],z[W*2+1]):B.push(NaN,NaN));B.push(z[F-2],z[F-1])}else if(k.line.shape==="hvh"){for(B=[],W=0;W<O-1;W++)if(isNaN(z[W*2])||isNaN(z[W*2+1])||isNaN(z[W*2+2])||isNaN(z[W*2+3]))!isNaN(z[W*2])&&!isNaN(z[W*2+1])?B.push(z[W*2],z[W*2+1]):B.push(NaN,NaN),B.push(NaN,NaN);else{var ee=(z[W*2]+z[W*2+2])/2;B.push(z[W*2],z[W*2+1],ee,z[W*2+1],ee,z[W*2+3])}B.push(z[F-2],z[F-1])}else if(k.line.shape==="vhv"){for(B=[],W=0;W<O-1;W++)if(isNaN(z[W*2])||isNaN(z[W*2+1])||isNaN(z[W*2+2])||isNaN(z[W*2+3]))!isNaN(z[W*2])&&!isNaN(z[W*2+1])?B.push(z[W*2],z[W*2+1]):B.push(NaN,NaN),B.push(NaN,NaN);else{var ne=(z[W*2+1]+z[W*2+3])/2;B.push(z[W*2],z[W*2+1],z[W*2],ne,z[W*2+2],ne)}B.push(z[F-2],z[F-1])}else if(k.line.shape==="vh"){for(B=[],W=0;W<O-1;W++)isNaN(z[W*2])||isNaN(z[W*2+1])?B.push(NaN,NaN,NaN,NaN):(B.push(z[W*2],z[W*2+1]),!isNaN(z[W*2+2])&&!isNaN(z[W*2+3])?B.push(z[W*2],z[W*2+3]):B.push(NaN,NaN));B.push(z[F-2],z[F-1])}else B=z;var Q=!1;for(W=0;W<B.length;W++)if(isNaN(B[W])){Q=!0;break}var le=Q||B.length>u.TOO_MANY_POINTS||s.hasMarkers(k)?"rect":"round";if(Q&&k.connectgaps){var Z=B[0],Y=B[1];for(W=0;W<B.length;W+=2)isNaN(B[W])||isNaN(B[W+1])?(B[W]=Z,B[W+1]=Y):(Z=B[W],Y=B[W+1])}return{join:le,positions:B}}function I(N,k,z,F,O){var B=C.getComponentMethod("errorbars","makeComputeError"),W=r.getFromId(N,k.xaxis,"x"),ee=r.getFromId(N,k.yaxis,"y"),ne=z.length/2,Q={};function le(Z,Y){var re=Y._id.charAt(0),X=k["error_"+re];if(X&&X.visible&&(Y.type==="linear"||Y.type==="log")){for(var q=B(X),se={x:0,y:1}[re],$={x:[0,1,2,3],y:[2,3,0,1]}[re],j=new Float64Array(4*ne),ue=1/0,ae=-1/0,ce=0,ye=0;ce<ne;ce++,ye+=4){var Ce=Z[ce];if(p(Ce)){var Ae=z[ce*2+se],Ie=q(Ce,ce),Te=Ie[0],Le=Ie[1];if(p(Te)&&p(Le)){var xe=Ce-Te,Re=Ce+Le;j[ye+$[0]]=Ae-Y.c2l(xe),j[ye+$[1]]=Y.c2l(Re)-Ae,j[ye+$[2]]=0,j[ye+$[3]]=0,ue=Math.min(ue,Ce-Te),ae=Math.max(ae,Ce+Le)}}}Q[re]={positions:z,errors:j,_bnds:[ue,ae]}}}return le(F,W),le(O,ee),Q}function D(N,k,z,F){var O=k._length,B={},W;if(s.hasMarkers(k)){var ee=z.font,ne=z.align,Q=z.baseline;for(B.offset=new Array(O),W=0;W<O;W++){var le=F.sizes?F.sizes[W]:F.size,Z=v(ee)?ee[W].size:ee.size,Y=v(ne)?ne.length>1?ne[W]:ne[0]:ne,re=v(Q)?Q.length>1?Q[W]:Q[0]:Q,X=m[Y],q=m[re],se=le?le/.8+1:0,$=-q*se-q*.5;B.offset[W]=[X*se/Z,$/Z]}}return B}H.exports={style:M,markerStyle:i,markerSelection:d,linePositions:b,errorBarPositions:I,textPosition:D}},80220:function(H,U,e){var p=e(3400),L=e(24040),n=e(80088),C=e(2876),T=e(88200),v=e(43028),g=e(43980),r=e(31147),t=e(74428),s=e(66828),a=e(70840),f=e(124);H.exports=function(l,m,h,M){function c(w,o){return p.coerce(l,m,C,w,o)}var i=l.marker?n.isOpenSymbol(l.marker.symbol):!1,d=v.isBubble(l),x=g(l,m,M,c);if(!x){m.visible=!1;return}r(l,m,M,c),c("xhoverformat"),c("yhoverformat");var A=x<T.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",A),v.hasMarkers(m)&&(t(l,m,h,M,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",i||d?1:0)),v.hasLines(m)&&(c("connectgaps"),s(l,m,h,M,c),c("line.shape")),v.hasText(m)&&(c("texttemplate"),f(l,m,M,c));var E=(m.line||{}).color,y=(m.marker||{}).color;c("fill"),m.fill!=="none"&&a(l,m,h,c);var S=L.getComponentMethod("errorbars","supplyDefaults");S(l,m,E||y||h,{axis:"y"}),S(l,m,E||y||h,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(m,c)}},26768:function(H,U,e){var p=e(3400),L=e(76308),n=e(13448).DESELECTDIM;function C(T){var v=T[0],g=v.trace,r=v.t,t=r._scene,s=r.index,a=t.selectBatch[s],f=t.unselectBatch[s],u=t.textOptions[s],l=t.textSelectedOptions[s]||{},m=t.textUnselectedOptions[s]||{},h=p.extendFlat({},u),M,c;if(a.length||f.length){var i=l.color,d=m.color,x=u.color,A=p.isArrayOrTypedArray(x);for(h.color=new Array(g._length),M=0;M<a.length;M++)c=a[M],h.color[c]=i||(A?x[c]:x);for(M=0;M<f.length;M++){c=f[M];var E=A?x[c]:x;h.color[c]=d||(i?E:L.addOpacity(E,n))}}t.glText[s].update(h)}H.exports={styleTextSelection:C}},99396:function(H,U,e){var p=e(76688);H.exports=function(n,C,T){var v=n.i;return"x"in n||(n.x=C._x[v]),"y"in n||(n.y=C._y[v]),p(n,C,T)}},80088:function(H,U,e){var p=e(67072);U.isOpenSymbol=function(L){return typeof L=="string"?p.OPEN_RE.test(L):L%200>100},U.isDotSymbol=function(L){return typeof L=="string"?p.DOT_RE.test(L):L>200}},41272:function(H,U,e){var p=e(24040),L=e(3400),n=e(44928);function C(v,g,r,t){var s=v.cd,a=s[0].t,f=s[0].trace,u=v.xa,l=v.ya,m=a.x,h=a.y,M=u.c2p(g),c=l.c2p(r),i=v.distance,d;if(a.tree){var x=u.p2c(M-i),A=u.p2c(M+i),E=l.p2c(c-i),y=l.p2c(c+i);t==="x"?d=a.tree.range(Math.min(x,A),Math.min(l._rl[0],l._rl[1]),Math.max(x,A),Math.max(l._rl[0],l._rl[1])):d=a.tree.range(Math.min(x,A),Math.min(E,y),Math.max(x,A),Math.max(E,y))}else d=a.ids;var S,w,o,_,b,I,D,N,k,z=i;if(t==="x"){var F=!!f.xperiodalignment,O=!!f.yperiodalignment;for(b=0;b<d.length;b++){if(S=d[b],o=m[S],I=Math.abs(u.c2p(o)-M),F){var B=u.c2p(f._xStarts[S]),W=u.c2p(f._xEnds[S]);I=M>=Math.min(B,W)&&M<=Math.max(B,W)?0:1/0}if(I<z){if(z=I,_=h[S],D=l.c2p(_)-c,O){var ee=l.c2p(f._yStarts[S]),ne=l.c2p(f._yEnds[S]);D=c>=Math.min(ee,ne)&&c<=Math.max(ee,ne)?0:1/0}k=Math.sqrt(I*I+D*D),w=d[b]}}}else for(b=d.length-1;b>-1;b--)S=d[b],o=m[S],_=h[S],I=u.c2p(o)-M,D=l.c2p(_)-c,N=Math.sqrt(I*I+D*D),N<z&&(z=k=N,w=S);return v.index=w,v.distance=z,v.dxy=k,w===void 0?[v]:[T(v,m,h,f)]}function T(v,g,r,t){var s=v.xa,a=v.ya,f=v.distance,u=v.dxy,l=v.index,m={pointNumber:l,x:g[l],y:r[l]};m.tx=L.isArrayOrTypedArray(t.text)?t.text[l]:t.text,m.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,m.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,m.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(m.ts=L.isArrayOrTypedArray(h.size)?h.size[l]:h.size,m.tc=Array.isArray(h.color)?h.color[l]:h.color,m.tf=Array.isArray(h.family)?h.family[l]:h.family);var M=t.marker;M&&(m.ms=L.isArrayOrTypedArray(M.size)?M.size[l]:M.size,m.mo=L.isArrayOrTypedArray(M.opacity)?M.opacity[l]:M.opacity,m.mx=L.isArrayOrTypedArray(M.symbol)?M.symbol[l]:M.symbol,m.ma=L.isArrayOrTypedArray(M.angle)?M.angle[l]:M.angle,m.mc=L.isArrayOrTypedArray(M.color)?M.color[l]:M.color);var c=M&&M.line;c&&(m.mlc=Array.isArray(c.color)?c.color[l]:c.color,m.mlw=L.isArrayOrTypedArray(c.width)?c.width[l]:c.width);var i=M&&M.gradient;i&&i.type!=="none"&&(m.mgt=Array.isArray(i.type)?i.type[l]:i.type,m.mgc=Array.isArray(i.color)?i.color[l]:i.color);var d=s.c2p(m.x,!0),x=a.c2p(m.y,!0),A=m.mrc||1,E=t.hoverlabel;E&&(m.hbg=Array.isArray(E.bgcolor)?E.bgcolor[l]:E.bgcolor,m.hbc=Array.isArray(E.bordercolor)?E.bordercolor[l]:E.bordercolor,m.hts=L.isArrayOrTypedArray(E.font.size)?E.font.size[l]:E.font.size,m.htc=Array.isArray(E.font.color)?E.font.color[l]:E.font.color,m.htf=Array.isArray(E.font.family)?E.font.family[l]:E.font.family,m.hnl=L.isArrayOrTypedArray(E.namelength)?E.namelength[l]:E.namelength);var y=t.hoverinfo;y&&(m.hi=Array.isArray(y)?y[l]:y);var S=t.hovertemplate;S&&(m.ht=Array.isArray(S)?S[l]:S);var w={};w[v.index]=m;var o=t._origX,_=t._origY,b=L.extendFlat({},v,{color:n(t,m),x0:d-A,x1:d+A,xLabelVal:o?o[l]:m.x,y0:x-A,y1:x+A,yLabelVal:_?_[l]:m.y,cd:w,distance:f,spikeDistance:u,hovertemplate:m.ht});return m.htx?b.text=m.htx:m.tx?b.text=m.tx:t.text&&(b.text=t.text),L.fillText(m,t,b),p.getComponentMethod("errorbars","hoverInfo")(m,t,b),b}H.exports={hoverPoints:C,calcHover:T}},38983:function(H,U,e){var p=e(64628);p.plot=e(89876),H.exports=p},89876:function(H,U,e){var p=e(38540),L=e(13472),n=e(24544),C=e(23352),T=e(3400),v=e(72760).selectMode,g=e(5048),r=e(43028),t=e(14328),s=e(26768).styleTextSelection,a={};function f(l,m,h,M){var c=l._size,i=l.width*M,d=l.height*M,x=c.l*M,A=c.b*M,E=c.r*M,y=c.t*M,S=c.w*M,w=c.h*M;return[x+m.domain[0]*S,A+h.domain[0]*w,i-E-(1-m.domain[1])*S,d-y-(1-h.domain[1])*w]}var u=H.exports=function(m,h,M){if(M.length){var c=m._fullLayout,i=h._scene,d=h.xaxis,x=h.yaxis,A,E;if(i){var y=g(m,["ANGLE_instanced_arrays","OES_element_index_uint"],a);if(!y){i.init();return}var S=i.count,w=c._glcanvas.data()[0].regl;if(t(m,h,M),i.dirty){if((i.line2d||i.error2d)&&!(i.scatter2d||i.fill2d||i.glText)&&w.clear({}),i.error2d===!0&&(i.error2d=n(w)),i.line2d===!0&&(i.line2d=L(w)),i.scatter2d===!0&&(i.scatter2d=p(w)),i.fill2d===!0&&(i.fill2d=L(w)),i.glText===!0)for(i.glText=new Array(S),A=0;A<S;A++)i.glText[A]=new C(w);if(i.glText){if(S>i.glText.length){var o=S-i.glText.length;for(A=0;A<o;A++)i.glText.push(new C(w))}else if(S<i.glText.length){var _=i.glText.length-S,b=i.glText.splice(S,_);b.forEach(function($){$.destroy()})}for(A=0;A<S;A++)i.glText[A].update(i.textOptions[A])}if(i.line2d&&(i.line2d.update(i.lineOptions),i.lineOptions=i.lineOptions.map(function($){if($&&$.positions){for(var j=$.positions,ue=0;ue<j.length&&(isNaN(j[ue])||isNaN(j[ue+1]));)ue+=2;for(var ae=j.length-2;ae>ue&&(isNaN(j[ae])||isNaN(j[ae+1]));)ae-=2;$.positions=j.slice(ue,ae+2)}return $}),i.line2d.update(i.lineOptions)),i.error2d){var I=(i.errorXOptions||[]).concat(i.errorYOptions||[]);i.error2d.update(I)}i.scatter2d&&i.scatter2d.update(i.markerOptions),i.fillOrder=T.repeat(null,S),i.fill2d&&(i.fillOptions=i.fillOptions.map(function($,j){var ue=M[j];if(!(!$||!ue||!ue[0]||!ue[0].trace)){var ae=ue[0],ce=ae.trace,ye=ae.t,Ce=i.lineOptions[j],Ae,Ie,Te=[];ce._ownfill&&Te.push(j),ce._nexttrace&&Te.push(j+1),Te.length&&(i.fillOrder[j]=Te);var Le=[],xe=Ce&&Ce.positions||ye.positions,Re,He;if(ce.fill==="tozeroy"){for(Re=0;Re<xe.length&&isNaN(xe[Re+1]);)Re+=2;for(He=xe.length-2;He>Re&&isNaN(xe[He+1]);)He-=2;xe[Re+1]!==0&&(Le=[xe[Re],0]),Le=Le.concat(xe.slice(Re,He+2)),xe[He+1]!==0&&(Le=Le.concat([xe[He],0]))}else if(ce.fill==="tozerox"){for(Re=0;Re<xe.length&&isNaN(xe[Re]);)Re+=2;for(He=xe.length-2;He>Re&&isNaN(xe[He]);)He-=2;xe[Re]!==0&&(Le=[0,xe[Re+1]]),Le=Le.concat(xe.slice(Re,He+2)),xe[He]!==0&&(Le=Le.concat([0,xe[He+1]]))}else if(ce.fill==="toself"||ce.fill==="tonext"){for(Le=[],Ae=0,$.splitNull=!0,Ie=0;Ie<xe.length;Ie+=2)(isNaN(xe[Ie])||isNaN(xe[Ie+1]))&&(Le=Le.concat(xe.slice(Ae,Ie)),Le.push(xe[Ae],xe[Ae+1]),Le.push(null,null),Ae=Ie+2);Le=Le.concat(xe.slice(Ae)),Ae&&Le.push(xe[Ae],xe[Ae+1])}else{var Ve=ce._nexttrace;if(Ve){var Fe=i.lineOptions[j+1];if(Fe){var We=Fe.positions;if(ce.fill==="tonexty"){for(Le=xe.slice(),j=Math.floor(We.length/2);j--;){var ut=We[j*2],ht=We[j*2+1];isNaN(ut)||isNaN(ht)||Le.push(ut,ht)}$.fill=Ve.fillcolor}}}}if(ce._prevtrace&&ce._prevtrace.fill==="tonext"){var rt=i.lineOptions[j-1].positions,tt=Le.length/2;Ae=tt;var vt=[Ae];for(Ie=0;Ie<rt.length;Ie+=2)(isNaN(rt[Ie])||isNaN(rt[Ie+1]))&&(vt.push(Ie/2+tt+1),Ae=Ie+2);Le=Le.concat(rt),$.hole=vt}return $.fillmode=ce.fill,$.opacity=ce.opacity,$.positions=Le,$}}),i.fill2d.update(i.fillOptions))}var D=c.dragmode,N=v(D),k=c.clickmode.indexOf("select")>-1;for(A=0;A<S;A++){var z=M[A][0],F=z.trace,O=z.t,B=O.index,W=F._length,ee=O.x,ne=O.y;if(F.selectedpoints||N||k){if(N||(N=!0),F.selectedpoints){var Q=i.selectBatch[B]=T.selIndices2selPoints(F),le={};for(E=0;E<Q.length;E++)le[Q[E]]=1;var Z=[];for(E=0;E<W;E++)le[E]||Z.push(E);i.unselectBatch[B]=Z}var Y=O.xpx=new Array(W),re=O.ypx=new Array(W);for(E=0;E<W;E++)Y[E]=d.c2p(ee[E]),re[E]=x.c2p(ne[E])}else O.xpx=O.ypx=null}if(N){if(i.select2d||(i.select2d=p(c._glcanvas.data()[1].regl)),i.scatter2d){var X=new Array(S);for(A=0;A<S;A++)X[A]=i.selectBatch[A].length||i.unselectBatch[A].length?i.markerUnselectedOptions[A]:{};i.scatter2d.update(X)}i.select2d&&(i.select2d.update(i.markerOptions),i.select2d.update(i.markerSelectedOptions)),i.glText&&M.forEach(function($){var j=(($||[])[0]||{}).trace||{};r.hasText(j)&&s($)})}else i.scatter2d&&i.scatter2d.update(i.markerOptions);var q={viewport:f(c,d,x,m._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(x._rl||x.range)[0],(d._rl||d.range)[1],(x._rl||x.range)[1]]},se=T.repeat(q,i.count);i.fill2d&&i.fill2d.update(se),i.line2d&&i.line2d.update(se),i.error2d&&i.error2d.update(se.concat(se)),i.scatter2d&&i.scatter2d.update(se),i.select2d&&i.select2d.update(se),i.glText&&i.glText.forEach(function($){$.update(q)})}}};u.reglPrecompiled=a},74588:function(H,U,e){var p=e(3400);H.exports=function(n,C){var T=C._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},g={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(T=C._scene={},T.init=function(){p.extendFlat(T,g,v)},T.init(),T.update=function(t){var s=p.repeat(t,T.count);if(T.fill2d&&T.fill2d.update(s),T.scatter2d&&T.scatter2d.update(s),T.line2d&&T.line2d.update(s),T.error2d&&T.error2d.update(s.concat(s)),T.select2d&&T.select2d.update(s),T.glText)for(var a=0;a<T.count;a++)T.glText[a].update(t)},T.draw=function(){for(var t=T.count,s=T.fill2d,a=T.error2d,f=T.line2d,u=T.scatter2d,l=T.glText,m=T.select2d,h=T.selectBatch,M=T.unselectBatch,c=0;c<t;c++){if(s&&T.fillOrder[c]&&s.draw(T.fillOrder[c]),f&&T.lineOptions[c]&&f.draw(c),a&&(T.errorXOptions[c]&&a.draw(c),T.errorYOptions[c]&&a.draw(c+t)),u&&T.markerOptions[c])if(M[c].length){var i=p.repeat([],T.count);i[c]=M[c],u.draw(i)}else h[c].length||u.draw(c);l[c]&&T.textOptions[c]&&l[c].render()}m&&m.draw(h),T.dirty=!1},T.destroy=function(){T.fill2d&&T.fill2d.destroy&&T.fill2d.destroy(),T.scatter2d&&T.scatter2d.destroy&&T.scatter2d.destroy(),T.error2d&&T.error2d.destroy&&T.error2d.destroy(),T.line2d&&T.line2d.destroy&&T.line2d.destroy(),T.select2d&&T.select2d.destroy&&T.select2d.destroy(),T.glText&&T.glText.forEach(function(t){t.destroy&&t.destroy()}),T.lineOptions=null,T.fillOptions=null,T.markerOptions=null,T.markerSelectedOptions=null,T.markerUnselectedOptions=null,T.errorXOptions=null,T.errorYOptions=null,T.textOptions=null,T.textSelectedOptions=null,T.textUnselectedOptions=null,T.selectBatch=null,T.unselectBatch=null,C._scene=null}),T.dirty||p.extendFlat(T,v),T}},73224:function(H,U,e){var p=e(43028),L=e(26768).styleTextSelection;H.exports=function(C,T){var v=C.cd,g=C.xaxis,r=C.yaxis,t=[],s=v[0].trace,a=v[0].t,f=s._length,u=a.x,l=a.y,m=a._scene,h=a.index;if(!m)return t;var M=p.hasText(s),c=p.hasMarkers(s),i=!c&&!M;if(s.visible!==!0||i)return t;var d=[],x=[];if(T!==!1&&!T.degenerate)for(var A=0;A<f;A++)T.contains([a.xpx[A],a.ypx[A]],!1,A,C)?(d.push(A),t.push({pointNumber:A,x:g.c2d(u[A]),y:r.c2d(l[A])})):x.push(A);if(c){var E=m.scatter2d;if(!d.length&&!x.length){var y=new Array(m.count);y[h]=m.markerOptions[h],E.update.apply(E,y)}else if(!m.selectBatch[h].length&&!m.unselectBatch[h].length){var S=new Array(m.count);S[h]=m.markerUnselectedOptions[h],E.update.apply(E,S)}}return m.selectBatch[h]=d,m.unselectBatch[h]=x,M&&L(v),t}},31512:function(H,U,e){var p=e(21776).Ks,L=e(21776).Gw,n=e(98304),C=e(6096),T=e(52904),v=e(5232),g=e(45464),r=e(49084),t=e(92880).extendFlat,s=e(67824).overrideAll,a=e(5232),f=C.line,u=C.marker;H.exports=s({lon:C.lon,lat:C.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},a.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},u.opacity,{dflt:1})},mode:t({},T.mode,{dflt:"markers"}),text:t({},T.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},T.hovertext,{}),line:{color:f.color,width:f.width},connectgaps:T.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},r("marker")),fill:C.fill,fillcolor:n(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:T.selected.marker},unselected:{marker:T.unselected.marker},hoverinfo:t({},g.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:p()},"calc","nested")},59392:function(H,U,e){var p=e(38248),L=e(3400),n=e(39032).BADNUM,C=e(44808),T=e(8932),v=e(43616),g=e(7152),r=e(43028),t=e(89032),s=e(10624).appendArrayPointValue,a=e(72736).NEWLINES,f=e(72736).BR_TAG_ALL;H.exports=function(x,A){var E=A[0].trace,y=E.visible===!0&&E._length!==0,S=E.fill!=="none",w=r.hasLines(E),o=r.hasMarkers(E),_=r.hasText(E),b=o&&E.marker.symbol==="circle",I=o&&E.marker.symbol!=="circle",D=E.cluster&&E.cluster.enabled,N=u("fill"),k=u("line"),z=u("circle"),F=u("symbol"),O={fill:N,line:k,circle:z,symbol:F};if(!y)return O;var B;if((S||w)&&(B=C.calcTraceToLineCoords(A)),S&&(N.geojson=C.makePolygon(B),N.layout.visibility="visible",L.extendFlat(N.paint,{"fill-color":E.fillcolor})),w&&(k.geojson=C.makeLine(B),k.layout.visibility="visible",L.extendFlat(k.paint,{"line-width":E.line.width,"line-color":E.line.color,"line-opacity":E.opacity})),b){var W=l(A);z.geojson=W.geojson,z.layout.visibility="visible",D&&(z.filter=["!",["has","point_count"]],O.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":i(E.cluster.color,E.cluster.step),"circle-radius":i(E.cluster.size,E.cluster.step),"circle-opacity":i(E.cluster.opacity,E.cluster.step)}},O.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),L.extendFlat(z.paint,{"circle-color":W.mcc,"circle-radius":W.mrc,"circle-opacity":W.mo})}if(b&&D&&(z.filter=["!",["has","point_count"]]),(I||_)&&(F.geojson=m(A,x),L.extendFlat(F.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),I&&(L.extendFlat(F.layout,{"icon-size":E.marker.size/10}),"angle"in E.marker&&E.marker.angle!=="auto"&&L.extendFlat(F.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),F.layout["icon-allow-overlap"]=E.marker.allowoverlap,L.extendFlat(F.paint,{"icon-opacity":E.opacity*E.marker.opacity,"icon-color":E.marker.color})),_)){var ee=(E.marker||{}).size,ne=t(E.textposition,ee);L.extendFlat(F.layout,{"text-size":E.textfont.size,"text-anchor":ne.anchor,"text-offset":ne.offset,"text-font":E.textfont.family.split(", ")}),L.extendFlat(F.paint,{"text-color":E.textfont.color,"text-opacity":E.opacity})}return O};function u(d){return{type:d,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(d){var x=d[0].trace,A=x.marker,E=x.selectedpoints,y=L.isArrayOrTypedArray(A.color),S=L.isArrayOrTypedArray(A.size),w=L.isArrayOrTypedArray(A.opacity),o;function _(ee){return x.opacity*ee}function b(ee){return ee/2}var I;y&&(T.hasColorscale(x,"marker")?I=T.makeColorScaleFuncFromTrace(A):I=L.identity);var D;S&&(D=g(x));var N;w&&(N=function(ee){var ne=p(ee)?+L.constrain(ee,0,1):0;return _(ne)});var k=[];for(o=0;o<d.length;o++){var z=d[o],F=z.lonlat;if(!c(F)){var O={};I&&(O.mcc=z.mcc=I(z.mc)),D&&(O.mrc=z.mrc=D(z.ms)),N&&(O.mo=N(z.mo)),E&&(O.selected=z.selected||0),k.push({type:"Feature",id:o+1,geometry:{type:"Point",coordinates:F},properties:O})}}var B;if(E)for(B=v.makeSelectedPointStyleFns(x),o=0;o<k.length;o++){var W=k[o].properties;B.selectedOpacityFn&&(W.mo=_(B.selectedOpacityFn(W))),B.selectedColorFn&&(W.mcc=B.selectedColorFn(W)),B.selectedSizeFn&&(W.mrc=B.selectedSizeFn(W))}return{geojson:{type:"FeatureCollection",features:k},mcc:y||B&&B.selectedColorFn?{type:"identity",property:"mcc"}:A.color,mrc:S||B&&B.selectedSizeFn?{type:"identity",property:"mrc"}:b(A.size),mo:w||B&&B.selectedOpacityFn?{type:"identity",property:"mo"}:_(A.opacity)}}function m(d,x){for(var A=x._fullLayout,E=d[0].trace,y=E.marker||{},S=y.symbol,w=y.angle,o=S!=="circle"?h(S):M,_=w!=="auto"?h(w,!0):M,b=r.hasText(E)?h(E.text):M,I=[],D=0;D<d.length;D++){var N=d[D];if(!c(N.lonlat)){var k=E.texttemplate,z;if(k){var F=Array.isArray(k)?k[D]||"":k,O=E._module.formatLabels(N,E,A),B={};s(B,E,N.i);var W=E._meta||{};z=L.texttemplateString(F,O,A._d3locale,B,N,W)}else z=b(D);z&&(z=z.replace(a,"").replace(f,`
`)),I.push({type:"Feature",geometry:{type:"Point",coordinates:N.lonlat},properties:{symbol:o(D),angle:_(D),text:z}})}}return{type:"FeatureCollection",features:I}}function h(d,x){return L.isArrayOrTypedArray(d)?x?function(A){return p(d[A])?+d[A]:0}:function(A){return d[A]}:d?function(){return d}:M}function M(){return""}function c(d){return d[0]===n}function i(d,x){var A;if(L.isArrayOrTypedArray(d)&&L.isArrayOrTypedArray(x)){A=["step",["get","point_count"],d[0]];for(var E=1;E<d.length;E++)A.push(x[E-1],d[E])}else A=d;return A}},15752:function(H,U,e){var p=e(3400),L=e(43028),n=e(74428),C=e(66828),T=e(124),v=e(70840),g=e(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];H.exports=function(a,f,u,l){function m(S,w){return p.coerce(a,f,g,S,w)}function h(S,w){return p.coerce2(a,f,g,S,w)}var M=t(a,f,m);if(!M){f.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),L.hasMarkers(f)){n(a,f,u,l,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var c=f.marker;c.symbol!=="circle"&&(p.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),p.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}L.hasLines(f)&&(C(a,f,u,l,m,{noDash:!0}),m("connectgaps"));var i=h("cluster.maxzoom"),d=h("cluster.step"),x=h("cluster.color",f.marker&&f.marker.color||u),A=h("cluster.size"),E=h("cluster.opacity"),y=i!==!1||d!==!1||x!==!1||A!==!1||E!==!1;m("cluster.enabled",y),L.hasText(f)&&T(a,f,l,m,{noSelect:!0,font:{family:r.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),m("fill"),f.fill!=="none"&&v(a,f,u,m),p.coerceSelectionMarkerOpacity(f,m)};function t(s,a,f){var u=f("lon")||[],l=f("lat")||[],m=Math.min(u.length,l.length);return a._length=m,m}},37920:function(H){H.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e}},11960:function(H,U,e){var p=e(54460);H.exports=function(n,C,T){var v={},g=T[C.subplot]._subplot,r=g.mockAxis,t=n.lonlat;return v.lonLabel=p.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=p.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(H,U,e){var p=e(93024),L=e(3400),n=e(44928),C=L.fillText,T=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function g(t,s,a){var f=t.cd,u=f[0].trace,l=t.xa,m=t.ya,h=t.subplot,M=[],c=v+u.uid+"-circle",i=u.cluster&&u.cluster.enabled;if(i){var d=h.map.queryRenderedFeatures(null,{layers:[c]});M=d.map(function(k){return k.id})}var x=s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360),A=x*360,E=s-A;function y(k){var z=k.lonlat;if(z[0]===T||i&&M.indexOf(k.i+1)===-1)return 1/0;var F=L.modHalf(z[0],360),O=z[1],B=h.project([F,O]),W=B.x-l.c2p([E,O]),ee=B.y-m.c2p([F,a]),ne=Math.max(3,k.mrc||0);return Math.max(Math.sqrt(W*W+ee*ee)-ne,1-3/ne)}if(p.getClosest(f,y,t),t.index!==!1){var S=f[t.index],w=S.lonlat,o=[L.modHalf(w[0],360)+A,w[1]],_=l.c2p(o),b=m.c2p(o),I=S.mrc||1;t.x0=_-I,t.x1=_+I,t.y0=b-I,t.y1=b+I;var D={};D[u.subplot]={_subplot:h};var N=u._module.formatLabels(S,u,D);return t.lonLabel=N.lonLabel,t.latLabel=N.latLabel,t.color=n(u,S),t.extraText=r(u,S,f[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,s,a){if(t.hovertemplate)return;var f=s.hi||t.hoverinfo,u=f.split("+"),l=u.indexOf("all")!==-1,m=u.indexOf("lon")!==-1,h=u.indexOf("lat")!==-1,M=s.lonlat,c=[];function i(d){return d+""}return l||m&&h?c.push("("+i(M[1])+", "+i(M[0])+")"):m?c.push(a.lon+i(M[0])):h&&c.push(a.lat+i(M[1])),(l||u.indexOf("text")!==-1)&&C(s,t,c),c.join("<br>")}H.exports={hoverPoints:g,getExtraText:r}},11572:function(H,U,e){H.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(p,L){if(L){var n=L[0].trace;n._glTrace.update(L)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(H,U,e){var p=e(3400),L=e(59392),n=e(47552).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function T(g,r,t,s){this.type="scattermapbox",this.subplot=g,this.uid=r,this.clusterEnabled=t,this.isHidden=s,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:n+r+"-fill",line:n+r+"-line",circle:n+r+"-circle",symbol:n+r+"-symbol",cluster:n+r+"-cluster",clusterCount:n+r+"-cluster-count"},this.below=null}var v=T.prototype;v.addSource=function(g,r,t){var s={type:"geojson",data:r.geojson};t&&t.enabled&&p.extendFlat(s,{cluster:!0,clusterMaxZoom:t.maxzoom});var a=this.subplot.map.getSource(this.sourceIds[g]);a?a.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[g],s)},v.setSourceData=function(g,r){this.subplot.map.getSource(this.sourceIds[g]).setData(r.geojson)},v.addLayer=function(g,r,t){var s={type:r.type,id:this.layerIds[g],source:this.sourceIds[g],layout:r.layout,paint:r.paint};r.filter&&(s.filter=r.filter);for(var a=this.layerIds[g],f,u=this.subplot.getMapLayers(),l=0;l<u.length;l++)if(u[l].id===a){f=!0;break}f?(this.subplot.setOptions(a,"setLayoutProperty",s.layout),s.layout.visibility==="visible"&&this.subplot.setOptions(a,"setPaintProperty",s.paint)):this.subplot.addLayer(s,t)},v.update=function(r){var t=r[0].trace,s=this.subplot,a=s.map,f=L(s.gd,r),u=s.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),m=!!this.clusterEnabled,h=this;function M(w){w||h.addSource("circle",f.circle,t.cluster);for(var o=C.cluster,_=0;_<o.length;_++){var b=o[_],I=f[b];h.addLayer(b,I,u)}}function c(w){for(var o=C.cluster,_=o.length-1;_>=0;_--){var b=o[_];a.removeLayer(h.layerIds[b])}w||a.removeSource(h.sourceIds.circle)}function i(w){for(var o=C.nonCluster,_=0;_<o.length;_++){var b=o[_],I=f[b];w||h.addSource(b,I),h.addLayer(b,I,u)}}function d(w){for(var o=C.nonCluster,_=o.length-1;_>=0;_--){var b=o[_];a.removeLayer(h.layerIds[b]),w||a.removeSource(h.sourceIds[b])}}function x(w){m?c(w):d(w)}function A(w){l?M(w):i(w)}function E(){for(var w=l?C.cluster:C.nonCluster,o=0;o<w.length;o++){var _=w[o],b=f[_];b&&(s.setOptions(h.layerIds[_],"setLayoutProperty",b.layout),b.layout.visibility==="visible"&&(_!=="cluster"&&h.setSourceData(_,b),s.setOptions(h.layerIds[_],"setPaintProperty",b.paint)))}}var y=this.isHidden,S=t.visible!==!0;S?y||x():y?S||A():m!==l?(x(),A()):(this.below!==u&&(x(!0),A(!0)),E()),this.clusterEnabled=l,this.isHidden=S,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?C.cluster:C.nonCluster,s=t.length-1;s>=0;s--){var a=t[s];r.removeLayer(this.layerIds[a]),r.removeSource(this.sourceIds[a])}},H.exports=function(r,t){var s=t[0].trace,a=s.cluster&&s.cluster.enabled,f=s.visible!==!0,u=new T(r,s.uid,a,f),l=L(r.gd,t),m=u.below=r.belowLookup["trace-"+s.uid],h,M,c;if(a)for(u.addSource("circle",l.circle,s.cluster),h=0;h<C.cluster.length;h++)M=C.cluster[h],c=l[M],u.addLayer(M,c,m);else for(h=0;h<C.nonCluster.length;h++)M=C.nonCluster[h],c=l[M],u.addSource(M,c,s.cluster),u.addLayer(M,c,m);return t[0].trace._glTrace=u,u}},404:function(H,U,e){var p=e(3400),L=e(43028),n=e(39032).BADNUM;H.exports=function(T,v){var g=T.cd,r=T.xaxis,t=T.yaxis,s=[],a=g[0].trace,f;if(!L.hasMarkers(a))return[];if(v===!1)for(f=0;f<g.length;f++)g[f].selected=0;else for(f=0;f<g.length;f++){var u=g[f],l=u.lonlat;if(l[0]!==n){var m=[p.modHalf(l[0],360),l[1]],h=[r.c2p(m),t.c2p(m)];v.contains(h,null,f,T)?(s.push({pointNumber:f,lon:l[0],lat:l[1]}),u.selected=1):u.selected=0}}return s}},8319:function(H,U,e){var p=e(21776).Ks,L=e(21776).Gw,n=e(92880).extendFlat,C=e(98304),T=e(52904),v=e(45464),g=T.line;H.exports={mode:T.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:T.text,texttemplate:L({editType:"plot"},{keys:["r","theta","text"]}),hovertext:T.hovertext,line:{color:g.color,width:g.width,dash:g.dash,backoff:g.backoff,shape:n({},g.shape,{values:["linear","spline"]}),smoothing:g.smoothing,editType:"calc"},connectgaps:T.connectgaps,marker:T.marker,cliponaxis:n({},T.cliponaxis,{dflt:!1}),textposition:T.textposition,textfont:T.textfont,fill:n({},T.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:n({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:T.hoveron,hovertemplate:p(),selected:T.selected,unselected:T.unselected}},58320:function(H,U,e){var p=e(38248),L=e(39032).BADNUM,n=e(54460),C=e(90136),T=e(20148),v=e(4500),g=e(16356).calcMarkerSize;H.exports=function(t,s){for(var a=t._fullLayout,f=s.subplot,u=a[f].radialaxis,l=a[f].angularaxis,m=u.makeCalcdata(s,"r"),h=l.makeCalcdata(s,"theta"),M=s._length,c=new Array(M),i=0;i<M;i++){var d=m[i],x=h[i],A=c[i]={};p(d)&&p(x)?(A.r=d,A.theta=x):A.r=L}var E=g(s,M);return s._extremes.x=n.findExtremes(u,m,{ppad:E}),C(t,s),T(c,s),v(c,s),c}},85968:function(H,U,e){var p=e(3400),L=e(43028),n=e(74428),C=e(66828),T=e(11731),v=e(124),g=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function s(f,u,l,m){function h(i,d){return p.coerce(f,u,t,i,d)}var M=a(f,u,m,h);if(!M){u.visible=!1;return}h("thetaunit"),h("mode",M<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),L.hasMarkers(u)&&n(f,u,l,m,h,{gradient:!0}),L.hasLines(u)&&(C(f,u,l,m,h,{backoff:!0}),T(f,u,h),h("connectgaps")),L.hasText(u)&&(h("texttemplate"),v(f,u,m,h));var c=[];(L.hasMarkers(u)||L.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(g(f,u,l,h),L.hasLines(u)||T(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),p.coerceSelectionMarkerOpacity(u,h)}function a(f,u,l,m){var h=m("r"),M=m("theta");p.isTypedArray(h)&&(u.r=h=Array.from(h)),p.isTypedArray(M)&&(u.theta=M=Array.from(M));var c;if(h)M?c=Math.min(h.length,M.length):(c=h.length,m("theta0"),m("dtheta"));else{if(!M)return 0;c=u.theta.length,m("r0"),m("dr")}return u._length=c,c}H.exports={handleRThetaDefaults:a,supplyDefaults:s}},22852:function(H,U,e){var p=e(3400),L=e(54460);H.exports=function(C,T,v){var g={},r=v[T.subplot]._subplot,t,s;r?(t=r.radialAxis,s=r.angularAxis):(r=v[T.subplot],t=r.radialaxis,s=r.angularaxis);var a=t.c2l(C.r);g.rLabel=L.tickText(t,a,!0).text;var f=s.thetaunit==="degrees"?p.rad2deg(C.theta):C.theta;return g.thetaLabel=L.tickText(s,f,!0).text,g}},8504:function(H,U,e){var p=e(98723);function L(C,T,v,g){var r=p(C,T,v,g);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var s=C.subplot,a=t.cd[t.index],f=t.trace;if(s.isPtInside(a))return t.xLabelVal=void 0,t.yLabelVal=void 0,n(a,f,s,t),t.hovertemplate=f.hovertemplate,r}}function n(C,T,v,g){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="";var s={};s[T.subplot]={_subplot:v};var a=T._module.formatLabels(C,T,s);g.rLabel=a.rLabel,g.thetaLabel=a.thetaLabel;var f=C.hi||T.hoverinfo,u=[];function l(h,M){u.push(h._hovertitle+": "+M)}if(!T.hovertemplate){var m=f.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&l(r,g.rLabel),m.indexOf("theta")!==-1&&l(t,g.thetaLabel),m.indexOf("text")!==-1&&g.text&&(u.push(g.text),delete g.text),g.extraText=u.join("<br>")}}H.exports={hoverPoints:L,makeHoverPointText:n}},76924:function(H,U,e){H.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(H,U,e){var p=e(96504),L=e(39032).BADNUM;H.exports=function(C,T,v){for(var g=T.layers.frontplot.select("g.scatterlayer"),r=T.xaxis,t=T.yaxis,s={xaxis:r,yaxis:t,plot:T.framework,layerClipId:T._hasClipOnAxisFalse?T.clipIds.forTraces:null},a=T.radialAxis,f=T.angularAxis,u=0;u<v.length;u++)for(var l=v[u],m=0;m<l.length;m++){m===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var h=l[m],M=h.r;if(M===L)h.x=h.y=L;else{var c=a.c2g(M),i=f.c2g(h.theta);h.x=c*Math.cos(i),h.y=c*Math.sin(i)}}p(C,s,v,g)}},24396:function(H,U,e){var p=e(8319),L=e(2876),n=e(21776).Gw;H.exports={mode:p.mode,r:p.r,theta:p.theta,r0:p.r0,dr:p.dr,theta0:p.theta0,dtheta:p.dtheta,thetaunit:p.thetaunit,text:p.text,texttemplate:n({editType:"plot"},{keys:["r","theta","text"]}),hovertext:p.hovertext,hovertemplate:p.hovertemplate,line:{color:L.line.color,width:L.line.width,dash:L.line.dash,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,fill:L.fill,fillcolor:L.fillcolor,textposition:L.textposition,textfont:L.textfont,hoverinfo:p.hoverinfo,selected:p.selected,unselected:p.unselected}},27160:function(H,U,e){H.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(H,U,e){var p=e(90136),L=e(16356).calcMarkerSize,n=e(84236),C=e(54460),T=e(67072).TOO_MANY_POINTS;H.exports=function(g,r){var t=g._fullLayout,s=r.subplot,a=t[s].radialaxis,f=t[s].angularaxis,u=r._r=a.makeCalcdata(r,"r"),l=r._theta=f.makeCalcdata(r,"theta"),m=r._length,h={};m<u.length&&(u=u.slice(0,m)),m<l.length&&(l=l.slice(0,m)),h.r=u,h.theta=l,p(g,r);var M=h.opts=n.style(g,r),c;return m<T?c=L(r,m):M.marker&&(c=2*(M.marker.sizeAvg||Math.max(M.marker.size,3))),r._extremes.x=C.findExtremes(a,u,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(H,U,e){var p=e(3400),L=e(43028),n=e(85968).handleRThetaDefaults,C=e(74428),T=e(66828),v=e(124),g=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);H.exports=function(a,f,u,l){function m(M,c){return p.coerce(a,f,t,M,c)}var h=n(a,f,l,m);if(!h){f.visible=!1;return}m("thetaunit"),m("mode",h<r?"lines+markers":"lines"),m("text"),m("hovertext"),f.hoveron!=="fills"&&m("hovertemplate"),L.hasMarkers(f)&&C(a,f,u,l,m,{noAngleRef:!0,noStandOff:!0}),L.hasLines(f)&&(T(a,f,u,l,m),m("connectgaps")),L.hasText(f)&&(m("texttemplate"),v(a,f,l,m)),m("fill"),f.fill!=="none"&&g(a,f,u,m),p.coerceSelectionMarkerOpacity(f,m)}},94120:function(H,U,e){var p=e(22852);H.exports=function(n,C,T){var v=n.i;return"r"in n||(n.r=C._r[v]),"theta"in n||(n.theta=C._theta[v]),p(n,C,T)}},1600:function(H,U,e){var p=e(41272),L=e(8504).makeHoverPointText;function n(C,T,v,g){var r=C.cd,t=r[0].t,s=t.r,a=t.theta,f=p.hoverPoints(C,T,v,g);if(!(!f||f[0].index===!1)){var u=f[0];if(u.index===void 0)return f;var l=C.subplot,m=u.cd[u.index],h=u.trace;if(m.r=s[u.index],m.theta=a[u.index],!!l.isPtInside(m))return u.xLabelVal=void 0,u.yLabelVal=void 0,L(m,h,l,u),f}}H.exports={hoverPoints:n}},62944:function(H,U,e){var p=e(27160);p.plot=e(56512),H.exports=p},56512:function(H,U,e){var p=e(3108),L=e(38248),n=e(89876),C=e(74588),T=e(84236),v=e(3400),g=e(67072).TOO_MANY_POINTS,r={};H.exports=function(s,a,f){if(f.length){var u=a.radialAxis,l=a.angularAxis,m=C(s,a);return f.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var M=h[0],c=M.trace,i=M.t,d=c._length,x=i.r,A=i.theta,E=i.opts,y,S=x.slice(),w=A.slice();for(y=0;y<x.length;y++)a.isPtInside({r:x[y],theta:A[y]})||(S[y]=NaN,w[y]=NaN);var o=new Array(d*2),_=Array(d),b=Array(d);for(y=0;y<d;y++){var I=S[y],D,N;if(L(I)){var k=u.c2g(I),z=l.c2g(w[y],c.thetaunit);D=k*Math.cos(z),N=k*Math.sin(z)}else D=N=NaN;_[y]=o[y*2]=D,b[y]=o[y*2+1]=N}i.tree=p(o),E.marker&&d>=g&&(E.marker.cluster=i.tree),E.marker&&(E.markerSel.positions=E.markerUnsel.positions=E.marker.positions=o),E.line&&o.length>1&&v.extendFlat(E.line,T.linePositions(s,c,o)),E.text&&(v.extendFlat(E.text,{positions:o},T.textPosition(s,c,E.text,E.marker)),v.extendFlat(E.textSel,{positions:o},T.textPosition(s,c,E.text,E.markerSel)),v.extendFlat(E.textUnsel,{positions:o},T.textPosition(s,c,E.text,E.markerUnsel))),E.fill&&!m.fill2d&&(m.fill2d=!0),E.marker&&!m.scatter2d&&(m.scatter2d=!0),E.line&&!m.line2d&&(m.line2d=!0),E.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(E.line),m.fillOptions.push(E.fill),m.markerOptions.push(E.marker),m.markerSelectedOptions.push(E.markerSel),m.markerUnselectedOptions.push(E.markerUnsel),m.textOptions.push(E.text),m.textSelectedOptions.push(E.textSel),m.textUnselectedOptions.push(E.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),i.x=_,i.y=b,i.rawx=_,i.rawy=b,i.r=x,i.theta=A,i.positions=o,i._scene=m,i.index=m.count,m.count++}}),n(s,a,f)}},H.exports.reglPrecompiled=r},69496:function(H,U,e){var p=e(21776).Ks,L=e(21776).Gw,n=e(92880).extendFlat,C=e(98304),T=e(52904),v=e(45464),g=T.line;H.exports={mode:T.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:T.text,texttemplate:L({editType:"plot"},{keys:["real","imag","text"]}),hovertext:T.hovertext,line:{color:g.color,width:g.width,dash:g.dash,backoff:g.backoff,shape:n({},g.shape,{values:["linear","spline"]}),smoothing:g.smoothing,editType:"calc"},connectgaps:T.connectgaps,marker:T.marker,cliponaxis:n({},T.cliponaxis,{dflt:!1}),textposition:T.textposition,textfont:T.textfont,fill:n({},T.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:n({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:T.hoveron,hovertemplate:p(),selected:T.selected,unselected:T.unselected}},47507:function(H,U,e){var p=e(38248),L=e(39032).BADNUM,n=e(90136),C=e(20148),T=e(4500),v=e(16356).calcMarkerSize;H.exports=function(r,t){for(var s=r._fullLayout,a=t.subplot,f=s[a].realaxis,u=s[a].imaginaryaxis,l=f.makeCalcdata(t,"real"),m=u.makeCalcdata(t,"imag"),h=t._length,M=new Array(h),c=0;c<h;c++){var i=l[c],d=m[c],x=M[c]={};p(i)&&p(d)?(x.real=i,x.imag=d):x.real=L}return v(t,h),n(r,t),C(M,t),T(M,t),M}},76716:function(H,U,e){var p=e(3400),L=e(43028),n=e(74428),C=e(66828),T=e(11731),v=e(124),g=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);H.exports=function(f,u,l,m){function h(i,d){return p.coerce(f,u,t,i,d)}var M=s(f,u,m,h);if(!M){u.visible=!1;return}h("mode",M<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),L.hasMarkers(u)&&n(f,u,l,m,h,{gradient:!0}),L.hasLines(u)&&(C(f,u,l,m,h,{backoff:!0}),T(f,u,h),h("connectgaps")),L.hasText(u)&&(h("texttemplate"),v(f,u,m,h));var c=[];(L.hasMarkers(u)||L.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(g(f,u,l,h),L.hasLines(u)||T(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),p.coerceSelectionMarkerOpacity(u,h)};function s(a,f,u,l){var m=l("real"),h=l("imag"),M;return m&&h&&(M=Math.min(m.length,h.length)),p.isTypedArray(m)&&(f.real=m=Array.from(m)),p.isTypedArray(h)&&(f.imag=h=Array.from(h)),f._length=M,M}},49504:function(H,U,e){var p=e(54460);H.exports=function(n,C,T){var v={},g=T[C.subplot]._subplot;return v.realLabel=p.tickText(g.radialAxis,n.real,!0).text,v.imagLabel=p.tickText(g.angularAxis,n.imag,!0).text,v}},25292:function(H,U,e){var p=e(98723);function L(C,T,v,g){var r=p(C,T,v,g);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var s=C.subplot,a=t.cd[t.index],f=t.trace;if(s.isPtInside(a))return t.xLabelVal=void 0,t.yLabelVal=void 0,n(a,f,s,t),t.hovertemplate=f.hovertemplate,r}}function n(C,T,v,g){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var s={};s[T.subplot]={_subplot:v};var a=T._module.formatLabels(C,T,s);g.realLabel=a.realLabel,g.imagLabel=a.imagLabel;var f=C.hi||T.hoverinfo,u=[];function l(h,M){u.push(h._hovertitle+": "+M)}if(!T.hovertemplate){var m=f.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&l(r,g.realLabel),m.indexOf("imag")!==-1&&l(t,g.imagLabel),m.indexOf("text")!==-1&&g.text&&(u.push(g.text),delete g.text),g.extraText=u.join("<br>")}}H.exports={hoverPoints:L,makeHoverPointText:n}},95443:function(H,U,e){H.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(H,U,e){var p=e(96504),L=e(39032).BADNUM,n=e(36416),C=n.smith;H.exports=function(v,g,r){for(var t=g.layers.frontplot.select("g.scatterlayer"),s=g.xaxis,a=g.yaxis,f={xaxis:s,yaxis:a,plot:g.framework,layerClipId:g._hasClipOnAxisFalse?g.clipIds.forTraces:null},u=0;u<r.length;u++)for(var l=r[u],m=0;m<l.length;m++){m===0&&(l[0].trace._xA=s,l[0].trace._yA=a);var h=l[m],M=h.real;if(M===L)h.x=h.y=L;else{var c=C([M,h.imag]);h.x=c[0],h.y=c[1]}}p(v,f,r,t)}},5896:function(H,U,e){var p=e(21776).Ks,L=e(21776).Gw,n=e(98304),C=e(52904),T=e(45464),v=e(49084),g=e(98192).u,r=e(92880).extendFlat,t=C.marker,s=C.line,a=t.line;H.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},C.hovertext,{}),line:{color:s.color,width:s.width,dash:g,backoff:s.backoff,shape:r({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:C.connectgaps,cliponaxis:C.cliponaxis,fill:r({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:n(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:a.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:C.textfont,textposition:C.textposition,selected:C.selected,unselected:C.unselected,hoverinfo:r({},T.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:C.hoveron,hovertemplate:p()}},34335:function(H,U,e){var p=e(38248),L=e(90136),n=e(20148),C=e(4500),T=e(16356).calcMarkerSize,v=["a","b","c"],g={a:["b","c"],b:["a","c"],c:["a","b"]};H.exports=function(t,s){var a=t._fullLayout[s.subplot],f=a.sum,u=s.sum||f,l={a:s.a,b:s.b,c:s.c},m,h,M,c,i,d;for(m=0;m<v.length;m++)if(M=v[m],!l[M]){for(i=l[g[M][0]],d=l[g[M][1]],c=new Array(i.length),h=0;h<i.length;h++)c[h]=u-i[h]-d[h];l[M]=c}var x=s._length,A=new Array(x),E,y,S,w,o,_;for(m=0;m<x;m++)E=l.a[m],y=l.b[m],S=l.c[m],p(E)&&p(y)&&p(S)?(E=+E,y=+y,S=+S,w=f/(E+y+S),w!==1&&(E*=w,y*=w,S*=w),_=E,o=S-y,A[m]={x:o,y:_,a:E,b:y,c:S}):A[m]={x:!1,y:!1};return T(s,x),L(t,s),n(A,s),C(A,s),A}},84256:function(H,U,e){var p=e(3400),L=e(88200),n=e(43028),C=e(74428),T=e(66828),v=e(11731),g=e(124),r=e(70840),t=e(5896);H.exports=function(a,f,u,l){function m(A,E){return p.coerce(a,f,t,A,E)}var h=m("a"),M=m("b"),c=m("c"),i;if(h?(i=h.length,M?(i=Math.min(i,M.length),c&&(i=Math.min(i,c.length))):c?i=Math.min(i,c.length):i=0):M&&c&&(i=Math.min(M.length,c.length)),!i){f.visible=!1;return}f._length=i,m("sum"),m("text"),m("hovertext"),f.hoveron!=="fills"&&m("hovertemplate");var d=i<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",d),n.hasMarkers(f)&&C(a,f,u,l,m,{gradient:!0}),n.hasLines(f)&&(T(a,f,u,l,m,{backoff:!0}),v(a,f,m),m("connectgaps")),n.hasText(f)&&(m("texttemplate"),g(a,f,l,m));var x=[];(n.hasMarkers(f)||n.hasText(f))&&(m("cliponaxis"),m("marker.maxdisplayed"),x.push("points")),m("fill"),f.fill!=="none"&&(r(a,f,u,m),n.hasLines(f)||v(a,f,m)),(f.fill==="tonext"||f.fill==="toself")&&x.push("fills"),m("hoveron",x.join("+")||"points"),p.coerceSelectionMarkerOpacity(f,m)}},97476:function(H){H.exports=function(e,p,L,n,C){if(p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),n[C]){var T=n[C];e.a=T.a,e.b=T.b,e.c=T.c}else e.a=p.a,e.b=p.b,e.c=p.c;return e}},90404:function(H,U,e){var p=e(54460);H.exports=function(n,C,T){var v={},g=T[C.subplot]._subplot;return v.aLabel=p.tickText(g.aaxis,n.a,!0).text,v.bLabel=p.tickText(g.baxis,n.b,!0).text,v.cLabel=p.tickText(g.caxis,n.c,!0).text,v}},26596:function(H,U,e){var p=e(98723);H.exports=function(n,C,T,v){var g=p(n,C,T,v);if(!g||g[0].index===!1)return;var r=g[0];if(r.index===void 0){var t=1-r.y0/n.ya._length,s=n.xa._length,a=s*t/2,f=s-a;return r.x0=Math.max(Math.min(r.x0,f),a),r.x1=Math.max(Math.min(r.x1,f),a),g}var u=r.cd[r.index],l=r.trace,m=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:m};var M=l._module.formatLabels(u,l,h);r.aLabel=M.aLabel,r.bLabel=M.bLabel,r.cLabel=M.cLabel;var c=u.hi||l.hoverinfo,i=[];function d(A,E){i.push(A._hovertitle+": "+E)}if(!l.hovertemplate){var x=c.split("+");x.indexOf("all")!==-1&&(x=["a","b","c"]),x.indexOf("a")!==-1&&d(m.aaxis,r.aLabel),x.indexOf("b")!==-1&&d(m.baxis,r.bLabel),x.indexOf("c")!==-1&&d(m.caxis,r.cLabel)}return r.extraText=i.join("<br>"),r.hovertemplate=l.hovertemplate,g}},34864:function(H,U,e){H.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(H,U,e){var p=e(96504);H.exports=function(n,C,T){var v=C.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var g=C.xaxis,r=C.yaxis,t={xaxis:g,yaxis:r,plot:v,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},s=C.layers.frontplot.select("g.scatterlayer"),a=0;a<T.length;a++){var f=T[a];f.length&&(f[0].trace._xA=g,f[0].trace._yA=r)}p(n,t,T,s)}},44524:function(H,U,e){var p=e(52904),L=e(49084),n=e(29736).axisHoverFormat,C=e(21776).Ks,T=e(2876),v=e(33816).idRegex,g=e(31780).templatedArray,r=e(92880).extendFlat,t=p.marker,s=t.line,a=r(L("marker.line",{editTypeOverride:"calc"}),{width:r({},s.width,{editType:"calc"}),editType:"calc"}),f=r(L("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:a,editType:"calc"});f.color.editType=f.cmin.editType=f.cmax.editType="style";function u(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}H.exports={dimensions:g("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},T.text,{}),hovertext:r({},T.hovertext,{}),hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),marker:f,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:T.selected.marker,editType:"calc"},unselected:{marker:T.unselected.marker,editType:"calc"},opacity:T.opacity}},28888:function(H,U,e){var p=e(24040),L=e(12704);H.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},p.register(L)},99332:function(H,U,e){var p=e(13472),L=e(24040),n=e(5048),C=e(84888)._M,T=e(57952),v=e(79811).getFromId,g=e(54460).shouldShowZeroLine,r="splom",t={};function s(h){var M=h._fullLayout,c=L.getModule(r),i=C(h.calcdata,c)[0],d=n(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(M._hasOnlyLargeSploms&&u(h),c.plot(h,{},i))}function a(h){var M=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&u(h);for(var i=0;i<M.length;i++){var d=M[i][0],x=d.trace,A=c._splomScenes[x.uid];x.type==="splom"&&A&&A.matrix&&f(h,x,A)}}function f(h,M,c){for(var i=c.matrixOptions.data.length,d=M._visibleDims,x=c.viewOpts.ranges=new Array(i),A=0;A<d.length;A++){var E=d[A],y=x[A]=new Array(4),S=v(h,M._diag[E][0]);S&&(y[0]=S.r2l(S.range[0]),y[2]=S.r2l(S.range[1]));var w=v(h,M._diag[E][1]);w&&(y[1]=w.r2l(w.range[0]),y[3]=w.r2l(w.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:x},{ranges:x}):c.matrix.update({ranges:x})}function u(h){var M=h._fullLayout,c=M._glcanvas.data()[0].regl,i=M._splomGrid;i||(i=M._splomGrid=p(c)),i.update(l(h))}function l(h){var M=h._context.plotGlPixelRatio,c=h._fullLayout,i=c._size,d=[0,0,c.width*M,c.height*M],x={},A;function E(W,ee,ne,Q,le,Z){ne*=M,Q*=M,le*=M,Z*=M;var Y=ee[W+"color"],re=ee[W+"width"],X=String(Y+re);X in x?x[X].data.push(NaN,NaN,ne,Q,le,Z):x[X]={data:[ne,Q,le,Z],join:"rect",thickness:re*M,color:Y,viewport:d,range:d,overlay:!1}}for(A in c._splomSubplots){var y=c._plots[A],S=y.xaxis,w=y.yaxis,o=S._gridVals,_=w._gridVals,b=S._offset,I=S._length,D=w._length,N=i.b+w.domain[0]*i.h,k=-w._m,z=-k*w.r2l(w.range[0],w.calendar),F,O;if(S.showgrid)for(A=0;A<o.length;A++)F=b+S.l2p(o[A].x),E("grid",S,F,N,F,N+D);if(w.showgrid)for(A=0;A<_.length;A++)O=N+z+k*_[A].x,E("grid",w,b,O,b+I,O);g(h,S,w)&&(F=b+S.l2p(0),E("zeroline",S,F,N,F,N+D)),g(h,w,S)&&(O=N+z+0,E("zeroline",w,b,O,b+I,O))}var B=[];for(A in x)B.push(x[A]);return B}function m(h,M,c,i){var d={},x;if(i._splomScenes){for(x=0;x<h.length;x++){var A=h[x];A.type==="splom"&&(d[A.uid]=1)}for(x=0;x<c.length;x++){var E=c[x];if(!d[E.uid]){var y=i._splomScenes[E.uid];y&&y.destroy&&y.destroy(),i._splomScenes[E.uid]=null,delete i._splomScenes[E.uid]}}}Object.keys(i._splomScenes||{}).length===0&&delete i._splomScenes,i._splomGrid&&!M._hasOnlyLargeSploms&&i._hasOnlyLargeSploms&&(i._splomGrid.destroy(),i._splomGrid=null,delete i._splomGrid),T.clean(h,M,c,i)}H.exports={name:r,attr:T.attr,attrRegex:T.attrRegex,layoutAttributes:T.layoutAttributes,supplyLayoutDefaults:T.supplyLayoutDefaults,drawFramework:T.drawFramework,plot:s,drag:a,updateGrid:u,clean:m,updateFx:T.updateFx,toSVG:T.toSVG,reglPrecompiled:t}},66821:function(H,U,e){var p=e(3400),L=e(79811),n=e(16356).calcMarkerSize,C=e(16356).calcAxisExpansion,T=e(90136),v=e(84236).markerSelection,g=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,s=e(67072).TOO_MANY_POINTS;H.exports=function(f,u){var l=u.dimensions,m=u._length,h={},M=h.cdata=[],c=h.data=[],i=u._visibleDims=[],d,x,A,E,y;function S(I,D){for(var N=I.makeCalcdata({v:D.values,vcalendar:u.calendar},"v"),k=0;k<N.length;k++)N[k]=N[k]===t?NaN:N[k];M.push(N),c.push(I.type==="log"?p.simpleMap(N,I.c2l):N)}for(d=0;d<l.length;d++)if(A=l[d],A.visible){if(E=L.getFromId(f,u._diag[d][0]),y=L.getFromId(f,u._diag[d][1]),E&&y&&E.type!==y.type){p.log("Skipping splom dimension "+d+" with conflicting axis types");continue}E?(S(E,A),y&&y.type==="category"&&(y._categories=E._categories.slice())):S(y,A),i.push(d)}T(f,u),p.extendFlat(h,g(f,u));var w=M.length,o=w*m>s,_;for(o?_=h.sizeAvg||Math.max(h.size,3):_=n(u,m),x=0;x<i.length;x++)d=i[x],A=l[d],E=L.getFromId(f,u._diag[d][0])||{},y=L.getFromId(f,u._diag[d][1])||{},C(f,u,E,y,M[x],M[x],_);var b=r(f,u);return b.matrix||(b.matrix=!0),b.matrixOptions=h,b.selectedOptions=v(f,u,u.selected),b.unselectedOptions=v(f,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},69544:function(H,U,e){var p=e(3400),L=e(51272),n=e(44524),C=e(43028),T=e(74428),v=e(26284),g=e(80088).isOpenSymbol;H.exports=function(a,f,u,l){function m(E,y){return p.coerce(a,f,n,E,y)}var h=L(a,f,{name:"dimensions",handleItemDefaults:r}),M=m("diagonal.visible"),c=m("showupperhalf"),i=m("showlowerhalf"),d=v(f,h,"values");if(!d||!M&&!c&&!i){f.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),T(a,f,u,l,m,{noAngleRef:!0,noStandOff:!0});var x=g(f.marker.symbol),A=C.isBubble(f);m("marker.line.width",x||A?1:0),t(a,f,l,m),p.coerceSelectionMarkerOpacity(f,m)};function r(s,a){function f(l,m){return p.coerce(s,a,n.dimensions,l,m)}f("label");var u=f("values");u&&u.length?f("visible"):a.visible=!1,f("axis.type"),f("axis.matches")}function t(s,a,f,u){var l=a.dimensions,m=l.length,h=a.showupperhalf,M=a.showlowerhalf,c=a.diagonal.visible,i,d,x=new Array(m),A=new Array(m);for(i=0;i<m;i++){var E=i?i+1:"";x[i]="x"+E,A[i]="y"+E}var y=u("xaxes",x),S=u("yaxes",A),w=a._diag=new Array(m);a._xaxes={},a._yaxes={};var o=[],_=[];function b(W,ee,ne,Q){if(W){var le=W.charAt(0),Z=f._splomAxes[le];if(a["_"+le+"axes"][W]=1,Q.push(W),!(W in Z)){var Y=Z[W]={};ne&&(Y.label=ne.label||"",ne.visible&&ne.axis&&(ne.axis.type&&(Y.type=ne.axis.type),ne.axis.matches&&(Y.matches=ee)))}}}var I=!c&&!M,D=!c&&!h;for(a._axesDim={},i=0;i<m;i++){var N=l[i],k=i===0,z=i===m-1,F=k&&I||z&&D?void 0:y[i],O=k&&D||z&&I?void 0:S[i];b(F,O,N,o),b(O,F,N,_),w[i]=[F,O],a._axesDim[F]=i,a._axesDim[O]=i}for(i=0;i<o.length;i++)for(d=0;d<_.length;d++){var B=o[i]+_[d];(i>d&&h||i<d&&M||i===d&&(c||!M||!h))&&(f._splomSubplots[B]=1)}(!M||!c&&h&&M)&&(f._splomGridDflt.xside="bottom",f._splomGridDflt.yside="left")}},83156:function(H,U,e){var p=e(3400),L=e(90136),n=e(84236).markerStyle;H.exports=function(T,v){var g=v.trace,r=T._fullLayout._splomScenes[g.uid];if(r){L(T,g),p.extendFlat(r.matrixOptions,n(T,g));var t=p.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(H,U){U.getDimIndex=function(p,L){for(var n=L._id,C=n.charAt(0),T={x:0,y:1}[C],v=p._visibleDims,g=0;g<v.length;g++){var r=v[g];if(p._diag[r][T]===n)return g}return!1}},72248:function(H,U,e){var p=e(50328),L=e(41272).calcHover;function n(C,T,v){var g=C.cd,r=g[0].trace,t=C.scene,s=t.matrixOptions.cdata,a=C.xa,f=C.ya,u=a.c2p(T),l=f.c2p(v),m=C.distance,h=p.getDimIndex(r,a),M=p.getDimIndex(r,f);if(h===!1||M===!1)return[C];for(var c=s[h],i=s[M],d,x,A=m,E=0;E<c.length;E++){var y=c[E],S=i[E],w=a.c2p(y)-u,o=f.c2p(S)-l,_=Math.sqrt(w*w+o*o);_<A&&(A=x=_,d=E)}return C.index=d,C.distance=A,C.dxy=x,d===void 0?[C]:[L(C,c,i,r)]}H.exports={hoverPoints:n}},97924:function(H,U,e){var p=e(28888);p.basePlotModule=e(99332),H.exports=p},54840:function(H,U,e){var p=e(55795),L=e(3400),n=e(79811),C=e(72760).selectMode;H.exports=function(g,r,t){if(t.length)for(var s=0;s<t.length;s++)T(g,t[s][0])};function T(v,g){var r=v._fullLayout,t=r._size,s=g.trace,a=g.t,f=r._splomScenes[s.uid],u=f.matrixOptions,l=u.cdata,m=r._glcanvas.data()[0].regl,h=r.dragmode,M,c,i,d,x;if(l.length!==0){u.lower=s.showupperhalf,u.upper=s.showlowerhalf,u.diagonal=s.diagonal.visible;var A=s._visibleDims,E=l.length,y=f.viewOpts={};for(y.ranges=new Array(E),y.domains=new Array(E),x=0;x<A.length;x++){i=A[x];var S=y.ranges[x]=new Array(4),w=y.domains[x]=new Array(4);M=n.getFromId(v,s._diag[i][0]),M&&(S[0]=M._rl[0],S[2]=M._rl[1],w[0]=M.domain[0],w[2]=M.domain[1]),c=n.getFromId(v,s._diag[i][1]),c&&(S[1]=c._rl[0],S[3]=c._rl[1],w[1]=c.domain[0],w[3]=c.domain[1])}var o=v._context.plotGlPixelRatio,_=t.l*o,b=t.b*o,I=t.w*o,D=t.h*o;y.viewport=[_,b,I+_,D+b],f.matrix===!0&&(f.matrix=p(m));var N=r.clickmode.indexOf("select")>-1,k=C(h)||!!s.selectedpoints||N,z=!0;if(k){var F=s._length;if(s.selectedpoints){f.selectBatch=s.selectedpoints;var O=s.selectedpoints,B={};for(i=0;i<O.length;i++)B[O[i]]=!0;var W=[];for(i=0;i<F;i++)B[i]||W.push(i);f.unselectBatch=W}var ee=a.xpx=new Array(E),ne=a.ypx=new Array(E);for(x=0;x<A.length;x++){if(i=A[x],M=n.getFromId(v,s._diag[i][0]),M)for(ee[x]=new Array(F),d=0;d<F;d++)ee[x][d]=M.c2p(l[x][d]);if(c=n.getFromId(v,s._diag[i][1]),c)for(ne[x]=new Array(F),d=0;d<F;d++)ne[x][d]=c.c2p(l[x][d])}if(f.selectBatch.length||f.unselectBatch.length){var Q=L.extendFlat({},u,f.unselectedOptions,y),le=L.extendFlat({},u,f.selectedOptions,y);f.matrix.update(Q,le),z=!1}}else a.xpx=a.ypx=null;if(z){var Z=L.extendFlat({},u,y);f.matrix.update(Z,null)}}}},72308:function(H,U,e){var p=e(3400);H.exports=function(n,C){var T=n._fullLayout,v=C.uid,g=T._splomScenes;g||(g=T._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},s=g[C.uid];return s||(s=g[v]=p.extendFlat({},r,t),s.draw=function(){s.matrix&&s.matrix.draw&&(s.selectBatch.length||s.unselectBatch.length?s.matrix.draw(s.unselectBatch,s.selectBatch):s.matrix.draw()),s.dirty=!1},s.destroy=function(){s.matrix&&s.matrix.destroy&&s.matrix.destroy(),s.matrixOptions=null,s.selectBatch=null,s.unselectBatch=null,s=null}),s.dirty||p.extendFlat(s,r),s}},62500:function(H,U,e){var p=e(3400),L=p.pushUnique,n=e(43028),C=e(50328);H.exports=function(v,g){var r=v.cd,t=r[0].trace,s=r[0].t,a=v.scene,f=a.matrixOptions.cdata,u=v.xaxis,l=v.yaxis,m=[];if(!a)return m;var h=!n.hasMarkers(t)&&!n.hasText(t);if(t.visible!==!0||h)return m;var M=C.getDimIndex(t,u),c=C.getDimIndex(t,l);if(M===!1||c===!1)return m;var i=s.xpx[M],d=s.ypx[c],x=f[M],A=f[c],E=(v.scene.selectBatch||[]).slice(),y=[];if(g!==!1&&!g.degenerate)for(var S=0;S<x.length;S++)g.contains([i[S],d[S]],null,S,v)?(m.push({pointNumber:S,x:x[S],y:A[S]}),L(E,S)):E.indexOf(S)!==-1?L(E,S):y.push(S);var w=a.matrixOptions;return!E.length&&!y.length?a.matrix.update(w,null):!a.selectBatch.length&&!a.unselectBatch.length&&a.matrix.update(a.unselectedOptions,p.extendFlat({},w,a.selectedOptions,a.viewOpts)),a.selectBatch=E,a.unselectBatch=y,m}},90167:function(H,U,e){var p=e(49084),L=e(29736).axisHoverFormat,n=e(21776).Ks,C=e(52948),T=e(45464),v=e(92880).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},T.showlegend,{dflt:!1})};v(g,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){g[t]=C[t]}),g.hoverinfo=v({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,H.exports=g},3832:function(H,U,e){var p=e(3400),L=e(47128);function n(g,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=C(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var s=0,a,f,u;r.starts&&(a=v(r.starts.x||[]),f=v(r.starts.y||[]),u=v(r.starts.z||[]),s=Math.min(a.length,f.length,u.length)),r._startsX=a||[],r._startsY=f||[],r._startsZ=u||[];var l=0,m=1/0,h;for(h=0;h<r._len;h++){var M=r._u[h],c=r._v[h],i=r._w[h],d=Math.sqrt(M*M+c*c+i*i);l=Math.max(l,d),m=Math.min(m,d)}for(L(g,r,{vals:[m,l],containerStr:"",cLetter:"c"}),h=0;h<s;h++){var x=a[h];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var A=f[h];t.yMax=Math.max(t.yMax,A),t.yMin=Math.min(t.yMin,A);var E=u[h];t.zMax=Math.max(t.zMax,E),t.zMin=Math.min(t.zMin,E)}r._slen=s,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function C(g){var r=g._x,t=g._y,s=g._z,a=g._len,f,u,l,m=-1/0,h=1/0,M=-1/0,c=1/0,i=-1/0,d=1/0,x="",A,E,y,S,w,o,_,b,I;for(a&&(S=r[0],o=t[0],b=s[0]),a>1&&(w=r[a-1],_=t[a-1],I=s[a-1]),f=0;f<a;f++)m=Math.max(m,r[f]),h=Math.min(h,r[f]),M=Math.max(M,t[f]),c=Math.min(c,t[f]),i=Math.max(i,s[f]),d=Math.min(d,s[f]),!A&&r[f]!==S&&(A=!0,x+="x"),!E&&t[f]!==o&&(E=!0,x+="y"),!y&&s[f]!==b&&(y=!0,x+="z");A||(x+="x"),E||(x+="y"),y||(x+="z");var D=T(g._x),N=T(g._y),k=T(g._z);x=x.replace("x",(S>w?"-":"+")+"x"),x=x.replace("y",(o>_?"-":"+")+"y"),x=x.replace("z",(b>I?"-":"+")+"z");var z=function(){a=0,D=[],N=[],k=[]};(!a||a<D.length*N.length*k.length)&&z();var F=function(ce){return ce==="x"?r:ce==="y"?t:s},O=function(ce){return ce==="x"?D:ce==="y"?N:k},B=function(ce){return ce[a-1]<ce[0]?-1:1},W=F(x[1]),ee=F(x[3]),ne=F(x[5]),Q=O(x[1]).length,le=O(x[3]).length,Z=O(x[5]).length,Y=!1,re=function(ce,ye,Ce){return Q*(le*ce+ye)+Ce},X=B(F(x[1])),q=B(F(x[3])),se=B(F(x[5]));for(f=0;f<Z-1;f++){for(u=0;u<le-1;u++){for(l=0;l<Q-1;l++){var $=re(f,u,l),j=re(f,u,l+1),ue=re(f,u+1,l),ae=re(f+1,u,l);if((!(W[$]*X<W[j]*X)||!(ee[$]*q<ee[ue]*q)||!(ne[$]*se<ne[ae]*se))&&(Y=!0),Y)break}if(Y)break}if(Y)break}return Y&&(p.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:h,yMin:c,zMin:d,xMax:m,yMax:M,zMax:i,Xs:D,Ys:N,Zs:k,len:a,fill:x}}function T(g){return p.distinctVals(g).vals}function v(g,r){if(r===void 0&&(r=g.length),p.isTypedArray(g))return g.subarray(0,r);for(var t=[],s=0;s<r;s++)t[s]=+g[s];return t}H.exports={calc:n,filter:v,processGrid:C}},25668:function(H,U,e){var p=e(67792).gl_streamtube3d,L=p.createTubeMesh,n=e(3400),C=e(33040).parseColorScale,T=e(8932).extractOpts,v=e(52094),g={xaxis:0,yaxis:1,zaxis:2};function r(l,m){this.scene=l,this.uid=m,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var m=this.scene.fullSceneLayout,h=this.scene.dataScale;function M(d,x){var A=m[x],E=h[g[x]];return A.l2c(d)/E}if(l.object===this.mesh){var c=l.data.position,i=l.data.velocity;return l.traceCoordinate=[M(c[0],"xaxis"),M(c[1],"yaxis"),M(c[2],"zaxis"),M(i[0],"xaxis"),M(i[1],"yaxis"),M(i[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function s(l){var m=l.length,h;return m>2?h=l.slice(1,m-1):m===2?h=[(l[0]+l[1])/2]:h=l,h}function a(l){var m=l.length;return m===1?[.5,.5]:[l[1]-l[0],l[m-1]-l[m-2]]}function f(l,m){var h=l.fullSceneLayout,M=l.dataScale,c=m._len,i={};function d(le,Z){var Y=h[Z],re=M[g[Z]];return n.simpleMap(le,function(X){return Y.d2l(X)*re})}if(i.vectors=v(d(m._u,"xaxis"),d(m._v,"yaxis"),d(m._w,"zaxis"),c),!c)return{positions:[],cells:[]};var x=d(m._Xs,"xaxis"),A=d(m._Ys,"yaxis"),E=d(m._Zs,"zaxis");i.meshgrid=[x,A,E],i.gridFill=m._gridFill;var y=m._slen;if(y)i.startingPositions=v(d(m._startsX,"xaxis"),d(m._startsY,"yaxis"),d(m._startsZ,"zaxis"));else{for(var S=A[0],w=s(x),o=s(E),_=new Array(w.length*o.length),b=0,I=0;I<w.length;I++)for(var D=0;D<o.length;D++)_[b++]=[w[I],S,o[D]];i.startingPositions=_}i.colormap=C(m),i.tubeSize=m.sizeref,i.maxLength=m.maxdisplayed;var N=d(m._xbnds,"xaxis"),k=d(m._ybnds,"yaxis"),z=d(m._zbnds,"zaxis"),F=a(x),O=a(A),B=a(E),W=[[N[0]-F[0],k[0]-O[0],z[0]-B[0]],[N[1]+F[1],k[1]+O[1],z[1]+B[1]]],ee=p(i,W),ne=T(m);ee.vertexIntensityBounds=[ne.min/m._normMax,ne.max/m._normMax];var Q=m.lightposition;return ee.lightPosition=[Q.x,Q.y,Q.z],ee.ambient=m.lighting.ambient,ee.diffuse=m.lighting.diffuse,ee.specular=m.lighting.specular,ee.roughness=m.lighting.roughness,ee.fresnel=m.lighting.fresnel,ee.opacity=m.opacity,m._pad=ee.tubeScale*m.sizeref*2,ee}t.update=function(l){this.data=l;var m=f(this.scene,l);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(l,m){var h=l.glplot.gl,M=f(l,m),c=L(h,M),i=new r(l,m.uid);return i.mesh=c,i.data=m,c._trace=i,l.glplot.add(c),i}H.exports=u},54304:function(H,U,e){var p=e(3400),L=e(27260),n=e(90167);H.exports=function(T,v,g,r){function t(h,M){return p.coerce(T,v,n,h,M)}var s=t("u"),a=t("v"),f=t("w"),u=t("x"),l=t("y"),m=t("z");if(!s||!s.length||!a||!a.length||!f||!f.length||!u||!u.length||!l||!l.length||!m||!m.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),L(T,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(H,U,e){H.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(p,L){return p.tubex=p.x,p.tubey=p.y,p.tubez=p.z,p.tubeu=L.traceCoordinate[3],p.tubev=L.traceCoordinate[4],p.tubew=L.traceCoordinate[5],p.norm=L.traceCoordinate[6],p.divergence=L.traceCoordinate[7],delete p.x,delete p.y,delete p.z,p},meta:{}}},424:function(H,U,e){var p=e(45464),L=e(21776).Ks,n=e(21776).Gw,C=e(49084),T=e(86968).u,v=e(74996),g=e(27328),r=e(92880).extendFlat,t=e(98192).c;H.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:n({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},p.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:L({},{keys:g.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:T({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(H,U,e){var p=e(7316);U.name="sunburst",U.plot=function(L,n,C,T){p.plotBasePlot(U.name,L,n,C,T)},U.clean=function(L,n,C,T){p.cleanBasePlot(U.name,L,n,C,T)}},3776:function(H,U,e){var p=e(74148),L=e(38248),n=e(3400),C=e(8932).makeColorScaleFuncFromTrace,T=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,g=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},s={},a={};U.calc=function(u,l){var m=u._fullLayout,h=l.ids,M=n.isArrayOrTypedArray(h),c=l.labels,i=l.parents,d=l.values,x=n.isArrayOrTypedArray(d),A=[],E={},y={},S=function(X,q){E[X]?E[X].push(q):E[X]=[q],y[q]=1},w=function(X){return X||typeof X=="number"},o=function(X){return!x||L(d[X])&&d[X]>=0},_,b,I;M?(_=Math.min(h.length,i.length),b=function(X){return w(h[X])&&o(X)},I=function(X){return String(h[X])}):(_=Math.min(c.length,i.length),b=function(X){return w(c[X])&&o(X)},I=function(X){return String(c[X])}),x&&(_=Math.min(_,d.length));for(var D=0;D<_;D++)if(b(D)){var N=I(D),k=w(i[D])?String(i[D]):"",z={i:D,id:N,pid:k,label:w(c[D])?String(c[D]):""};x&&(z.v=+d[D]),A.push(z),S(k,N)}if(E[""]){if(E[""].length>1){for(var B=n.randstr(),W=0;W<A.length;W++)A[W].pid===""&&(A[W].pid=B);A.unshift({hasMultipleRoots:!0,id:B,pid:"",label:""})}}else{var F=[],O;for(O in E)y[O]||F.push(O);if(F.length===1)O=F[0],A.unshift({hasImpliedRoot:!0,id:O,pid:"",label:O});else return n.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",F.join(", ")].join(" "))}var ee;try{ee=p.stratify().id(function(X){return X.id}).parentId(function(X){return X.pid})(A)}catch(X){return n.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",X.message].join(" "))}var ne=p.hierarchy(ee),Q=!1;if(x)switch(l.branchvalues){case"remainder":ne.sum(function(X){return X.data.v});break;case"total":ne.each(function(X){var q=X.data.data,se=q.v;if(X.children){var $=X.children.reduce(function(j,ue){return j+ue.data.data.v},0);if((q.hasImpliedRoot||q.hasMultipleRoots)&&(se=$),se<$*r)return Q=!0,n.warn(["Total value for node",X.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,se,`
children sum =`,$].join(" "))}X.value=se});break}else f(ne,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!Q){l.sort&&ne.sort(function(X,q){return q.value-X.value});var le,Z,Y=l.marker.colors||[],re=!!Y.length;return l._hasColorscale?(re||(Y=x?l.values:l._values),g(u,l,{vals:Y,containerStr:"marker",cLetter:"c"}),Z=C(l.marker)):le=T(m["_"+l.type+"colormap"]),ne.each(function(X){var q=X.data.data;q.color=l._hasColorscale?Z(Y[q.i]):le(Y[q.i],q.id)}),A[0].hierarchy=ne,A}},U._runCrossTraceCalc=function(u,l){var m=l._fullLayout,h=l.calcdata,M=m[u+"colorway"],c=m["_"+u+"colormap"];m["extend"+u+"colors"]&&(M=v(M,u==="icicle"?a:u==="treemap"?s:t));var i=0,d;function x(S){var w=S.data.data,o=w.id;w.color===!1&&(c[o]?w.color=c[o]:S.parent?S.parent.parent?w.color=S.parent.data.data.color:(c[o]=w.color=M[i%M.length],i++):w.color=d)}for(var A=0;A<h.length;A++){var E=h[A],y=E[0];y.trace.type===u&&y.hierarchy&&(d=y.trace.root.color,y.hierarchy.each(x))}},U.crossTraceCalc=function(u){return U._runCrossTraceCalc("sunburst",u)};function f(u,l,m){var h=0,M=u.children;if(M){for(var c=M.length,i=0;i<c;i++)h+=f(M[i],l,m);m.branches&&h++}else m.leaves&&h++;return u.value=u.data.data.value=h,l._values||(l._values=[]),l._values[u.data.data.i]=h,h}},27328:function(H){H.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(H,U,e){var p=e(3400),L=e(424),n=e(86968).Q,C=e(31508).handleText,T=e(74174).handleMarkerDefaults,v=e(8932),g=v.hasColorscale,r=v.handleDefaults;H.exports=function(s,a,f,u){function l(x,A){return p.coerce(s,a,L,x,A)}var m=l("labels"),h=l("parents");if(!m||!m.length||!h||!h.length){a.visible=!1;return}var M=l("values");M&&M.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),T(s,a,u,l);var c=a._hasColorscale=g(s,"marker","colors")||(s.marker||{}).coloraxis;c&&r(s,a,u,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",c?1:.7);var i=l("text");l("texttemplate"),a.texttemplate||l("textinfo",p.isArrayOrTypedArray(i)?"text+label":"label"),l("hovertext"),l("hovertemplate");var d="auto";C(s,a,u,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),n(a,u,l),a._length=null}},60404:function(H,U,e){var p=e(43616),L=e(76308);H.exports=function(C,T,v,g,r){var t=T.data.data,s=t.i,a=r||t.color;if(s>=0){T.i=t.i;var f=v.marker;f.pattern?(!f.colors||!f.pattern.shape)&&(f.color=a,T.color=a):(f.color=a,T.color=a),p.pointStyle(C,v,g,T)}else L.fill(C,a)}},45716:function(H,U,e){var p=e(33428),L=e(24040),n=e(10624).appendArrayPointValue,C=e(93024),T=e(3400),v=e(95924),g=e(78176),r=e(69656),t=r.formatPieValue;H.exports=function(f,u,l,m,h){var M=m[0],c=M.trace,i=M.hierarchy,d=c.type==="sunburst",x=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var A=function(S){var w=l._fullLayout;if(!(l._dragging||w.hovermode===!1)){var o=l._fullData[c.index],_=S.data.data,b=_.i,I=g.isHierarchyRoot(S),D=g.getParent(i,S),N=g.getValue(S),k=function(j){return T.castOption(o,b,j)},z=k("hovertemplate"),F=C.castHoverinfo(o,w,b),O=w.separators,B;if(z||F&&F!=="none"&&F!=="skip"){var W,ee;d&&(W=M.cx+S.pxmid[0]*(1-S.rInscribed),ee=M.cy+S.pxmid[1]*(1-S.rInscribed)),x&&(W=S._hoverX,ee=S._hoverY);var ne={},Q=[],le=[],Z=function(j){return Q.indexOf(j)!==-1};F&&(Q=F==="all"?o._module.attributes.hoverinfo.flags:F.split("+")),ne.label=_.label,Z("label")&&ne.label&&le.push(ne.label),_.hasOwnProperty("v")&&(ne.value=_.v,ne.valueLabel=t(ne.value,O),Z("value")&&le.push(ne.valueLabel)),ne.currentPath=S.currentPath=g.getPath(S.data),Z("current path")&&!I&&le.push(ne.currentPath);var Y,re=[],X=function(){re.indexOf(Y)===-1&&(le.push(Y),re.push(Y))};ne.percentParent=S.percentParent=N/g.getValue(D),ne.parent=S.parentString=g.getPtLabel(D),Z("percent parent")&&(Y=g.formatPercent(ne.percentParent,O)+" of "+ne.parent,X()),ne.percentEntry=S.percentEntry=N/g.getValue(u),ne.entry=S.entry=g.getPtLabel(u),Z("percent entry")&&!I&&!S.onPathbar&&(Y=g.formatPercent(ne.percentEntry,O)+" of "+ne.entry,X()),ne.percentRoot=S.percentRoot=N/g.getValue(i),ne.root=S.root=g.getPtLabel(i),Z("percent root")&&!I&&(Y=g.formatPercent(ne.percentRoot,O)+" of "+ne.root,X()),ne.text=k("hovertext")||k("text"),Z("text")&&(Y=ne.text,T.isValidTextValue(Y)&&le.push(Y)),B=[s(S,o,h.eventDataKeys)];var q={trace:o,y:ee,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:le.join("<br>"),name:z||Z("name")?o.name:void 0,color:k("hoverlabel.bgcolor")||_.color,borderColor:k("hoverlabel.bordercolor"),fontFamily:k("hoverlabel.font.family"),fontSize:k("hoverlabel.font.size"),fontColor:k("hoverlabel.font.color"),nameLength:k("hoverlabel.namelength"),textAlign:k("hoverlabel.align"),hovertemplate:z,hovertemplateLabels:ne,eventData:B};d&&(q.x0=W-S.rInscribed*S.rpx1,q.x1=W+S.rInscribed*S.rpx1,q.idealAlign=S.pxmid[0]<0?"left":"right"),x&&(q.x=W,q.idealAlign=W<0?"left":"right");var se=[];C.loneHover(q,{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:l,inOut_bbox:se}),B[0].bbox=se[0],c._hasHoverLabel=!0}if(x){var $=f.select("path.surface");h.styleOne($,S,o,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:B||[s(S,o,h.eventDataKeys)],event:p.event})}},E=function(S){var w=l._fullLayout,o=l._fullData[c.index],_=p.select(this).datum();if(c._hasHoverEvent&&(S.originalEvent=p.event,l.emit("plotly_unhover",{points:[s(_,o,h.eventDataKeys)],event:p.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(C.loneUnhover(w._hoverlayer.node()),c._hasHoverLabel=!1),x){var b=f.select("path.surface");h.styleOne(b,_,o,l,{hovered:!1})}},y=function(S){var w=l._fullLayout,o=l._fullData[c.index],_=d&&(g.isHierarchyRoot(S)||g.isLeaf(S)),b=g.getPtId(S),I=g.isEntry(S)?g.findEntryWithChild(i,b):g.findEntryWithLevel(i,b),D=g.getPtId(I),N={points:[s(S,o,h.eventDataKeys)],event:p.event};_||(N.nextLevel=D);var k=v.triggerHandler(l,"plotly_"+c.type+"click",N);if(k!==!1&&w.hovermode&&(l._hoverdata=[s(S,o,h.eventDataKeys)],C.click(l,p.event)),!_&&k!==!1&&!l._dragging&&!l._transitioning){L.call("_storeDirectGUIEdit",o,w._tracePreGUI[o.uid],{level:o.level});var z={data:[{level:D}],traces:[c.index]},F={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(w._hoverlayer.node()),L.call("animate",l,z,F)}};f.on("mouseover",A),f.on("mouseout",E),f.on("click",y)};function s(a,f,u){for(var l=a.data.data,m={curveNumber:f.index,pointNumber:l.i,data:f._input,fullData:f},h=0;h<u.length;h++){var M=u[h];M in a&&(m[M]=a[M])}return"parentString"in a&&!g.isHierarchyRoot(a)&&(m.parent=a.parentString),n(m,f,l.i),m}},78176:function(H,U,e){var p=e(3400),L=e(76308),n=e(93972),C=e(69656);U.findEntryWithLevel=function(r,t){var s;return t&&r.eachAfter(function(a){if(U.getPtId(a)===t)return s=a.copy()}),s||r},U.findEntryWithChild=function(r,t){var s;return r.eachAfter(function(a){for(var f=a.children||[],u=0;u<f.length;u++){var l=f[u];if(U.getPtId(l)===t)return s=a.copy()}}),s||r},U.isEntry=function(r){return!r.parent},U.isLeaf=function(r){return!r.children},U.getPtId=function(r){return r.data.data.id},U.getPtLabel=function(r){return r.data.data.label},U.getValue=function(r){return r.value},U.isHierarchyRoot=function(r){return g(r)===""},U.setSliceCursor=function(r,t,s){var a=s.isTransitioning;if(!a){var f=r.datum();a=s.hideOnRoot&&U.isHierarchyRoot(f)||s.hideOnLeaves&&U.isLeaf(f)}n(r,a?null:"pointer")};function T(r,t,s){return{color:U.getOutsideTextFontKey("color",r,t,s),family:U.getOutsideTextFontKey("family",r,t,s),size:U.getOutsideTextFontKey("size",r,t,s)}}function v(r,t,s,a){var f=(a||{}).onPathbar,u=t.data.data,l=u.i,m=p.castOption(r,l,(f?"pathbar.textfont":"insidetextfont")+".color");return!m&&r._input.textfont&&(m=p.castOption(r._input,l,"textfont.color")),{color:m||L.contrast(u.color),family:U.getInsideTextFontKey("family",r,t,s,a),size:U.getInsideTextFontKey("size",r,t,s,a)}}U.getInsideTextFontKey=function(r,t,s,a,f){var u=(f||{}).onPathbar,l=u?"pathbar.textfont":"insidetextfont",m=s.data.data.i;return p.castOption(t,m,l+"."+r)||p.castOption(t,m,"textfont."+r)||a.size},U.getOutsideTextFontKey=function(r,t,s,a){var f=s.data.data.i;return p.castOption(t,f,"outsidetextfont."+r)||p.castOption(t,f,"textfont."+r)||a.size},U.isOutsideText=function(r,t){return!r._hasColorscale&&U.isHierarchyRoot(t)},U.determineTextFont=function(r,t,s,a){return U.isOutsideText(r,t)?T(r,t,s):v(r,t,s,a)},U.hasTransition=function(r){return!!(r&&r.duration>0)},U.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},U.isHeader=function(r,t){return!(U.isLeaf(r)||r.depth===t._maxDepth-1)};function g(r){return r.data.data.pid}U.getParent=function(r,t){return U.findEntryWithLevel(r,g(t))},U.listPath=function(r,t){var s=r.parent;if(!s)return[];var a=t?[s.data[t]]:[s];return U.listPath(s,t).concat(a)},U.getPath=function(r){return U.listPath(r,"label").join("/")+"/"},U.formatValue=C.formatPieValue,U.formatPercent=function(r,t){var s=p.formatPercent(r,0);return s==="0%"&&(s=C.formatPiePercent(r,t)),s}},5621:function(H,U,e){H.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(H){H.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(H,U,e){var p=e(3400),L=e(84920);H.exports=function(C,T){function v(g,r){return p.coerce(C,T,L,g,r)}v("sunburstcolorway",T.colorway),v("extendsunburstcolors")}},96488:function(H,U,e){var p=e(33428),L=e(74148),n=e(67756).qy,C=e(43616),T=e(3400),v=e(72736),g=e(82744),r=g.recordMinTextSize,t=g.clearMinTextSize,s=e(37820),a=e(69656).getRotationAngle,f=s.computeTransform,u=s.transformInsideText,l=e(85676).styleOne,m=e(60100).resizeText,h=e(45716),M=e(27328),c=e(78176);U.plot=function(y,S,w,o){var _=y._fullLayout,b=_._sunburstlayer,I,D,N=!w,k=!_.uniformtext.mode&&c.hasTransition(w);if(t("sunburst",_),I=b.selectAll("g.trace.sunburst").data(S,function(F){return F[0].trace.uid}),I.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),I.order(),k){o&&(D=o());var z=p.transition().duration(w.duration).ease(w.easing).each("end",function(){D&&D()}).each("interrupt",function(){D&&D()});z.each(function(){b.selectAll("g.trace").each(function(F){i(y,F,this,w)})})}else I.each(function(F){i(y,F,this,w)}),_.uniformtext.mode&&m(y,_._sunburstlayer.selectAll(".trace"),"sunburst");N&&I.exit().remove()};function i(y,S,w,o){var _=y._context.staticPlot,b=y._fullLayout,I=!b.uniformtext.mode&&c.hasTransition(o),D=p.select(w),N=D.selectAll("g.slice"),k=S[0],z=k.trace,F=k.hierarchy,O=c.findEntryWithLevel(F,z.level),B=c.getMaxDepth(z),W=b._size,ee=z.domain,ne=W.w*(ee.x[1]-ee.x[0]),Q=W.h*(ee.y[1]-ee.y[0]),le=.5*Math.min(ne,Q),Z=k.cx=W.l+W.w*(ee.x[1]+ee.x[0])/2,Y=k.cy=W.t+W.h*(1-ee.y[0])-Q/2;if(!O)return N.remove();var re=null,X={};I&&N.each(function(We){X[c.getPtId(We)]={rpx0:We.rpx0,rpx1:We.rpx1,x0:We.x0,x1:We.x1,transform:We.transform},!re&&c.isEntry(We)&&(re=We)});var q=d(O).descendants(),se=O.height+1,$=0,j=B;k.hasMultipleRoots&&c.isHierarchyRoot(O)&&(q=q.slice(1),se-=1,$=1,j+=1),q=q.filter(function(We){return We.y1<=j});var ue=a(z.rotation);ue&&q.forEach(function(We){We.x0+=ue,We.x1+=ue});var ae=Math.min(se,B),ce=function(We){return(We-$)/ae*le},ye=function(We,ut){return[We*Math.cos(ut),-We*Math.sin(ut)]},Ce=function(We){return T.pathAnnulus(We.rpx0,We.rpx1,We.x0,We.x1,Z,Y)},Ae=function(We){return Z+A(We)[0]*(We.transform.rCenter||0)+(We.transform.x||0)},Ie=function(We){return Y+A(We)[1]*(We.transform.rCenter||0)+(We.transform.y||0)};N=N.data(q,c.getPtId),N.enter().append("g").classed("slice",!0),I?N.exit().transition().each(function(){var We=p.select(this),ut=We.select("path.surface");ut.transition().attrTween("d",function(rt){var tt=Re(rt);return function(vt){return Ce(tt(vt))}});var ht=We.select("g.slicetext");ht.attr("opacity",0)}).remove():N.exit().remove(),N.order();var Te=null;if(I&&re){var Le=c.getPtId(re);N.each(function(We){Te===null&&c.getPtId(We)===Le&&(Te=We.x1)})}var xe=N;I&&(xe=xe.transition().each("end",function(){var We=p.select(this);c.setSliceCursor(We,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),xe.each(function(We){var ut=p.select(this),ht=T.ensureSingle(ut,"path","surface",function(wt){wt.style("pointer-events",_?"none":"all")});We.rpx0=ce(We.y0),We.rpx1=ce(We.y1),We.xmid=(We.x0+We.x1)/2,We.pxmid=ye(We.rpx1,We.xmid),We.midangle=-(We.xmid-Math.PI/2),We.startangle=-(We.x0-Math.PI/2),We.stopangle=-(We.x1-Math.PI/2),We.halfangle=.5*Math.min(T.angleDelta(We.x0,We.x1)||Math.PI,Math.PI),We.ring=1-We.rpx0/We.rpx1,We.rInscribed=x(We),I?ht.transition().attrTween("d",function(wt){var Lt=He(wt);return function(at){return Ce(Lt(at))}}):ht.attr("d",Ce),ut.call(h,O,y,S,{eventDataKeys:M.eventDataKeys,transitionTime:M.CLICK_TRANSITION_TIME,transitionEasing:M.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),ht.call(l,We,z,y);var rt=T.ensureSingle(ut,"g","slicetext"),tt=T.ensureSingle(rt,"text","",function(wt){wt.attr("data-notex",1)}),vt=T.ensureUniformFontSize(y,c.determineTextFont(z,We,b.font));tt.text(U.formatSliceLabel(We,O,z,S,b)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,vt).call(v.convertToTspans,y);var pt=C.bBox(tt.node());We.transform=u(pt,We,k),We.transform.targetX=Ae(We),We.transform.targetY=Ie(We);var mt=function(wt,Lt){var at=wt.transform;return f(at,Lt),at.fontSize=vt.size,r(z.type,at,b),T.getTextTransform(at)};I?tt.transition().attrTween("transform",function(wt){var Lt=Ve(wt);return function(at){return mt(Lt(at),pt)}}):tt.attr("transform",mt(We,pt))});function Re(We){var ut=c.getPtId(We),ht=X[ut],rt=X[c.getPtId(O)],tt;if(rt){var vt=(We.x1>rt.x1?2*Math.PI:0)+ue;tt=We.rpx1<rt.rpx1?{x0:We.x0,x1:We.x1,rpx0:0,rpx1:0}:{x0:vt,x1:vt,rpx0:We.rpx0,rpx1:We.rpx1}}else{var pt,mt=c.getPtId(We.parent);N.each(function(Ze){if(c.getPtId(Ze)===mt)return pt=Ze});var wt=pt.children,Lt;wt.forEach(function(Ze,Je){if(c.getPtId(Ze)===ut)return Lt=Je});var at=wt.length,Oe=n(pt.x0,pt.x1);tt={rpx0:le,rpx1:le,x0:Oe(Lt/at),x1:Oe((Lt+1)/at)}}return n(ht,tt)}function He(We){var ut=X[c.getPtId(We)],ht,rt={x0:We.x0,x1:We.x1,rpx0:We.rpx0,rpx1:We.rpx1};if(ut)ht=ut;else if(re)if(We.parent)if(Te){var tt=(We.x1>Te?2*Math.PI:0)+ue;ht={x0:tt,x1:tt}}else ht={rpx0:le,rpx1:le},T.extendFlat(ht,Fe(We));else ht={rpx0:0,rpx1:0};else ht={x0:ue,x1:ue};return n(ht,rt)}function Ve(We){var ut=X[c.getPtId(We)],ht,rt=We.transform;if(ut)ht=ut;else if(ht={rpx1:We.rpx1,transform:{textPosAngle:rt.textPosAngle,scale:0,rotate:rt.rotate,rCenter:rt.rCenter,x:rt.x,y:rt.y}},re)if(We.parent)if(Te){var tt=We.x1>Te?2*Math.PI:0;ht.x0=ht.x1=tt}else T.extendFlat(ht,Fe(We));else ht.x0=ht.x1=ue;else ht.x0=ht.x1=ue;var vt=n(ht.transform.textPosAngle,We.transform.textPosAngle),pt=n(ht.rpx1,We.rpx1),mt=n(ht.x0,We.x0),wt=n(ht.x1,We.x1),Lt=n(ht.transform.scale,rt.scale),at=n(ht.transform.rotate,rt.rotate),Oe=rt.rCenter===0?3:ht.transform.rCenter===0?1/3:1,Ze=n(ht.transform.rCenter,rt.rCenter),Je=function(Ye){return Ze(Math.pow(Ye,Oe))};return function(Ye){var ke=pt(Ye),be=mt(Ye),me=wt(Ye),_e=Je(Ye),Ee=ye(ke,(be+me)/2),Be=vt(Ye),je={pxmid:Ee,rpx1:ke,transform:{textPosAngle:Be,rCenter:_e,x:rt.x,y:rt.y}};return r(z.type,rt,b),{transform:{targetX:Ae(je),targetY:Ie(je),scale:Lt(Ye),rotate:at(Ye),rCenter:_e}}}}function Fe(We){var ut=We.parent,ht=X[c.getPtId(ut)],rt={};if(ht){var tt=ut.children,vt=tt.indexOf(We),pt=tt.length,mt=n(ht.x0,ht.x1);rt.x0=mt(vt/pt),rt.x1=mt(vt/pt)}else rt.x0=rt.x1=0;return rt}}function d(y){return L.partition().size([2*Math.PI,y.height+1])(y)}U.formatSliceLabel=function(y,S,w,o,_){var b=w.texttemplate,I=w.textinfo;if(!b&&(!I||I==="none"))return"";var D=_.separators,N=o[0],k=y.data.data,z=N.hierarchy,F=c.isHierarchyRoot(y),O=c.getParent(z,y),B=c.getValue(y);if(!b){var W=I.split("+"),ee=function($){return W.indexOf($)!==-1},ne=[],Q;if(ee("label")&&k.label&&ne.push(k.label),k.hasOwnProperty("v")&&ee("value")&&ne.push(c.formatValue(k.v,D)),!F){ee("current path")&&ne.push(c.getPath(y.data));var le=0;ee("percent parent")&&le++,ee("percent entry")&&le++,ee("percent root")&&le++;var Z=le>1;if(le){var Y,re=function($){Q=c.formatPercent(Y,D),Z&&(Q+=" of "+$),ne.push(Q)};ee("percent parent")&&!F&&(Y=B/c.getValue(O),re("parent")),ee("percent entry")&&(Y=B/c.getValue(S),re("entry")),ee("percent root")&&(Y=B/c.getValue(z),re("root"))}}return ee("text")&&(Q=T.castOption(w,k.i,"text"),T.isValidTextValue(Q)&&ne.push(Q)),ne.join("<br>")}var X=T.castOption(w,k.i,"texttemplate");if(!X)return"";var q={};k.label&&(q.label=k.label),k.hasOwnProperty("v")&&(q.value=k.v,q.valueLabel=c.formatValue(k.v,D)),q.currentPath=c.getPath(y.data),F||(q.percentParent=B/c.getValue(O),q.percentParentLabel=c.formatPercent(q.percentParent,D),q.parent=c.getPtLabel(O)),q.percentEntry=B/c.getValue(S),q.percentEntryLabel=c.formatPercent(q.percentEntry,D),q.entry=c.getPtLabel(S),q.percentRoot=B/c.getValue(z),q.percentRootLabel=c.formatPercent(q.percentRoot,D),q.root=c.getPtLabel(z),k.hasOwnProperty("color")&&(q.color=k.color);var se=T.castOption(w,k.i,"text");return(T.isValidTextValue(se)||se==="")&&(q.text=se),q.customdata=T.castOption(w,k.i,"customdata"),T.texttemplateString(X,q,_._d3locale,q,w._meta||{})};function x(y){return y.rpx0===0&&T.isFullCircle([y.x0,y.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(y.halfangle)),y.ring/2))}function A(y){return E(y.rpx1,y.transform.textPosAngle)}function E(y,S){return[y*Math.sin(S),-y*Math.cos(S)]}},85676:function(H,U,e){var p=e(33428),L=e(76308),n=e(3400),C=e(82744).resizeText,T=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");C(r,t,"sunburst"),t.each(function(s){var a=p.select(this),f=s[0],u=f.trace;a.style("opacity",u.opacity),a.selectAll("path.surface").each(function(l){p.select(this).call(g,l,u,r)})})}function g(r,t,s,a){var f=t.data.data,u=!t.children,l=f.i,m=n.castOption(s,l,"marker.line.color")||L.defaultLine,h=n.castOption(s,l,"marker.line.width")||0;r.call(T,t,s,a).style("stroke-width",h).call(L.stroke,m).style("opacity",u?s.leaf.opacity:null)}H.exports={style:v,styleOne:g}},16716:function(H,U,e){var p=e(76308),L=e(49084),n=e(29736).axisHoverFormat,C=e(21776).Ks,T=e(45464),v=e(92880).extendFlat,g=e(67824).overrideAll;function r(a){return{valType:"boolean",dflt:!1}}function t(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:p.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:p.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=H.exports=g(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},L("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},L.zauto,{}),zmin:v({},L.zmin,{}),zmax:v({},L.zmax,{})},hoverinfo:v({},T.hoverinfo),showlegend:v({},T.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},56576:function(H,U,e){var p=e(47128);H.exports=function(n,C){C.surfacecolor?p(n,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):p(n,C,{vals:C.z,containerStr:"",cLetter:"c"})}},79164:function(H,U,e){var p=e(67792).gl_surface3d,L=e(67792).ndarray,n=e(67792).ndarray_linear_interpolate.d2,C=e(70448),T=e(11240),v=e(3400).isArrayOrTypedArray,g=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function s(o,_,b){this.scene=o,this.uid=b,this.surface=_,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var a=s.prototype;a.getXat=function(o,_,b,I){var D=v(this.data.x)?v(this.data.x[0])?this.data.x[_][o]:this.data.x[o]:o;return b===void 0?D:I.d2l(D,0,b)},a.getYat=function(o,_,b,I){var D=v(this.data.y)?v(this.data.y[0])?this.data.y[_][o]:this.data.y[_]:_;return b===void 0?D:I.d2l(D,0,b)},a.getZat=function(o,_,b,I){var D=this.data.z[_][o];return D===null&&this.data.connectgaps&&this.data._interpolatedZ&&(D=this.data._interpolatedZ[_][o]),b===void 0?D:I.d2l(D,0,b)},a.handlePick=function(o){if(o.object===this.surface){var _=(o.data.index[0]-1)/this.dataScaleX-1,b=(o.data.index[1]-1)/this.dataScaleY-1,I=Math.max(Math.min(Math.round(_),this.data.z[0].length-1),0),D=Math.max(Math.min(Math.round(b),this.data._ylength-1),0);o.index=[I,D],o.traceCoordinate=[this.getXat(I,D),this.getYat(I,D),this.getZat(I,D)],o.dataCoordinate=[this.getXat(I,D,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(I,D,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(I,D,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var k=o.dataCoordinate[N];k!=null&&(o.dataCoordinate[N]*=this.scene.dataScale[N])}var z=this.data.hovertext||this.data.text;return v(z)&&z[D]&&z[D][I]!==void 0?o.textLabel=z[D][I]:z?o.textLabel=z:o.textLabel="",o.data.dataCoordinate=o.dataCoordinate.slice(),this.surface.highlight(o.data),this.scene.glplot.spikes.position=o.dataCoordinate,!0}};function f(o){var _=o[0].rgb,b=o[o.length-1].rgb;return _[0]===b[0]&&_[1]===b[1]&&_[2]===b[2]&&_[3]===b[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(o,_){if(o<_)return 0;for(var b=0;Math.floor(o%_)===0;)o/=_,b++;return b}function m(o){for(var _=[],b=0;b<u.length;b++){var I=u[b];_.push(l(o,I))}return _}function h(o){for(var _=m(o),b=o,I=0;I<u.length;I++)if(_[I]>0){b=u[I];break}return b}function M(o,_){if(!(o<1||_<1)){for(var b=m(o),I=m(_),D=1,N=0;N<u.length;N++)D*=Math.pow(u[N],Math.max(b[N],I[N]));return D}}function c(o){if(o.length!==0){for(var _=1,b=0;b<o.length;b++)_=M(_,o[b]);return _}}a.calcXnums=function(o){var _,b=[];for(_=1;_<o;_++){var I=this.getXat(_-1,0),D=this.getXat(_,0);D!==I&&I!==void 0&&I!==null&&D!==void 0&&D!==null?b[_-1]=Math.abs(D-I):b[_-1]=0}var N=0;for(_=1;_<o;_++)N+=b[_-1];for(_=1;_<o;_++)b[_-1]===0?b[_-1]=1:b[_-1]=Math.round(N/b[_-1]);return b},a.calcYnums=function(o){var _,b=[];for(_=1;_<o;_++){var I=this.getYat(0,_-1),D=this.getYat(0,_);D!==I&&I!==void 0&&I!==null&&D!==void 0&&D!==null?b[_-1]=Math.abs(D-I):b[_-1]=0}var N=0;for(_=1;_<o;_++)N+=b[_-1];for(_=1;_<o;_++)b[_-1]===0?b[_-1]=1:b[_-1]=Math.round(N/b[_-1]);return b};var i=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=i[9],x=i[13];a.estimateScale=function(o,_){for(var b=_===0?this.calcXnums(o):this.calcYnums(o),I=1+c(b);I<d;)I*=2;for(;I>x;)I--,I/=h(I),I++,I<d&&(I=x);var D=Math.round(I/o);return D>1?D:1};function A(o,_,b){var I=b[8]+b[2]*_[0]+b[5]*_[1];return o[0]=(b[6]+b[0]*_[0]+b[3]*_[1])/I,o[1]=(b[7]+b[1]*_[0]+b[4]*_[1])/I,o}function E(o,_,b){return y(o,_,A,b),o}function y(o,_,b,I){for(var D=[0,0],N=o.shape[0],k=o.shape[1],z=0;z<N;z++)for(var F=0;F<k;F++)b(D,[z,F],I),o.set(z,F,n(_,D[0],D[1]));return o}a.refineCoords=function(o){for(var _=this.dataScaleX,b=this.dataScaleY,I=o[0].shape[0],D=o[0].shape[1],N=Math.floor(o[0].shape[0]*_+1)|0,k=Math.floor(o[0].shape[1]*b+1)|0,z=1+I+1,F=1+D+1,O=L(new Float32Array(z*F),[z,F]),B=[1/_,0,0,0,1/b,0,0,0,1],W=0;W<o.length;++W){this.surface.padField(O,o[W]);var ee=L(new Float32Array(N*k),[N,k]);E(ee,O,B),o[W]=ee}};function S(o,_){for(var b=!1,I=0;I<o.length;I++)if(_===o[I]){b=!0;break}b===!1&&o.push(_)}a.setContourLevels=function(){var o=[[],[],[]],_=[!1,!1,!1],b=!1,I,D,N;for(I=0;I<3;++I)if(this.showContour[I]&&(b=!0,this.contourSize[I]>0&&this.contourStart[I]!==null&&this.contourEnd[I]!==null&&this.contourEnd[I]>this.contourStart[I]))for(_[I]=!0,D=this.contourStart[I];D<this.contourEnd[I];D+=this.contourSize[I])N=D*this.scene.dataScale[I],S(o[I],N);if(b){var k=[[],[],[]];for(I=0;I<3;++I)this.showContour[I]&&(k[I]=_[I]?o[I]:this.scene.contourLevels[I]);this.surface.update({levels:k})}},a.update=function(o){var _=this.scene,b=_.fullSceneLayout,I=this.surface,D=g(o),N=_.dataScale,k=o.z[0].length,z=o._ylength,F=_.contourLevels;this.data=o;var O,B,W,ee,ne=[];for(O=0;O<3;O++)for(ne[O]=[],B=0;B<k;B++)ne[O][B]=[];for(B=0;B<k;B++)for(W=0;W<z;W++)ne[0][B][W]=this.getXat(B,W,o.xcalendar,b.xaxis),ne[1][B][W]=this.getYat(B,W,o.ycalendar,b.yaxis),ne[2][B][W]=this.getZat(B,W,o.zcalendar,b.zaxis);if(o.connectgaps)for(o._emptypoints=T(ne[2]),C(ne[2],o._emptypoints),o._interpolatedZ=[],B=0;B<k;B++)for(o._interpolatedZ[B]=[],W=0;W<z;W++)o._interpolatedZ[B][W]=ne[2][B][W];for(O=0;O<3;O++)for(B=0;B<k;B++)for(W=0;W<z;W++)ee=ne[O][B][W],ee==null?ne[O][B][W]=NaN:ee=ne[O][B][W]*=N[O];for(O=0;O<3;O++)for(B=0;B<k;B++)for(W=0;W<z;W++)ee=ne[O][B][W],ee!=null&&(this.minValues[O]>ee&&(this.minValues[O]=ee),this.maxValues[O]<ee&&(this.maxValues[O]=ee));for(O=0;O<3;O++)this.objectOffset[O]=.5*(this.minValues[O]+this.maxValues[O]);for(O=0;O<3;O++)for(B=0;B<k;B++)for(W=0;W<z;W++)ee=ne[O][B][W],ee!=null&&(ne[O][B][W]-=this.objectOffset[O]);var Q=[L(new Float32Array(k*z),[k,z]),L(new Float32Array(k*z),[k,z]),L(new Float32Array(k*z),[k,z])];for(O=0;O<3;O++)for(B=0;B<k;B++)for(W=0;W<z;W++)Q[O].set(B,W,ne[O][B][W]);ne=[];var le={colormap:D,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!o.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:o.opacityscale,opacity:o.opacity},Z=t(o);if(le.intensityBounds=[Z.min,Z.max],o.surfacecolor){var Y=L(new Float32Array(k*z),[k,z]);for(B=0;B<k;B++)for(W=0;W<z;W++)Y.set(B,W,o.surfacecolor[W][B]);Q.push(Y)}else le.intensityBounds[0]*=N[2],le.intensityBounds[1]*=N[2];(x<Q[0].shape[0]||x<Q[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(Q[0].shape[0],0),this.dataScaleY=this.estimateScale(Q[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(Q)),o.surfacecolor&&(le.intensity=Q.pop());var re=[!0,!0,!0],X=["x","y","z"];for(O=0;O<3;++O){var q=o.contours[X[O]];re[O]=q.highlight,le.showContour[O]=q.show||q.highlight,le.showContour[O]&&(le.contourProject[O]=[q.project.x,q.project.y,q.project.z],q.show?(this.showContour[O]=!0,le.levels[O]=F[O],I.highlightColor[O]=le.contourColor[O]=r(q.color),q.usecolormap?I.highlightTint[O]=le.contourTint[O]=0:I.highlightTint[O]=le.contourTint[O]=1,le.contourWidth[O]=q.width,this.contourStart[O]=q.start,this.contourEnd[O]=q.end,this.contourSize[O]=q.size):(this.showContour[O]=!1,this.contourStart[O]=null,this.contourEnd[O]=null,this.contourSize[O]=0),q.highlight&&(le.dynamicColor[O]=r(q.highlightcolor),le.dynamicWidth[O]=q.highlightwidth))}f(D)&&(le.vertexColor=!0),le.objectOffset=this.objectOffset,le.coords=Q,I.update(le),I.visible=o.visible,I.enableDynamic=re,I.enableHighlight=re,I.snapToData=!0,"lighting"in o&&(I.ambientLight=o.lighting.ambient,I.diffuseLight=o.lighting.diffuse,I.specularLight=o.lighting.specular,I.roughness=o.lighting.roughness,I.fresnel=o.lighting.fresnel),"lightposition"in o&&(I.lightPosition=[o.lightposition.x,o.lightposition.y,o.lightposition.z])},a.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function w(o,_){var b=o.glplot.gl,I=p({gl:b}),D=new s(o,I,_.uid);return I._trace=D,D.update(_),o.glplot.add(I),D}H.exports=w},60192:function(H,U,e){var p=e(24040),L=e(3400),n=e(27260),C=e(16716),T=.1;function v(a,f){for(var u=[],l=32,m=0;m<l;m++){var h=m/(l-1),M=f+(1-f)*(1-Math.pow(Math.sin(a*h*Math.PI),2));u.push([h,Math.max(0,Math.min(1,M))])}return u}function g(a){var f=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||+a[0][0]!=0||+a[a.length-1][0]!=1)return!1;for(var u=0;u<a.length;u++){var l=a[u];if(l.length!==2||+l[0]<f)return!1;f=+l[0]}return!0}function r(a,f,u,l){var m,h;function M(o,_){return L.coerce(a,f,C,o,_)}var c=M("x"),i=M("y"),d=M("z");if(!d||!d.length||c&&c.length<1||i&&i.length<1){f.visible=!1;return}f._xlength=Array.isArray(c)&&L.isArrayOrTypedArray(c[0])?d.length:d[0].length,f._ylength=d.length;var x=p.getComponentMethod("calendars","handleTraceDefaults");x(a,f,["x","y","z"],l),M("text"),M("hovertext"),M("hovertemplate"),M("xhoverformat"),M("yhoverformat"),M("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(o){M(o)});var A=M("surfacecolor"),E=["x","y","z"];for(m=0;m<3;++m){var y="contours."+E[m],S=M(y+".show"),w=M(y+".highlight");if(S||w)for(h=0;h<3;++h)M(y+".project."+E[h]);S&&(M(y+".color"),M(y+".width"),M(y+".usecolormap")),w&&(M(y+".highlightcolor"),M(y+".highlightwidth")),M(y+".start"),M(y+".end"),M(y+".size")}A||(s(a,"zmin","cmin"),s(a,"zmax","cmax"),s(a,"zauto","cauto")),n(a,f,l,M,{prefix:"",cLetter:"c"}),t(a,f,l,M),f._length=null}function t(a,f,u,l){var m=l("opacityscale");m==="max"?f.opacityscale=[[0,T],[1,1]]:m==="min"?f.opacityscale=[[0,1],[1,T]]:m==="extremes"?f.opacityscale=v(1,T):g(m)||(f.opacityscale=void 0)}function s(a,f,u){f in a&&!(u in a)&&(a[u]=a[f])}H.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(H,U,e){H.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(H,U,e){var p=e(13916),L=e(92880).extendFlat,n=e(67824).overrideAll,C=e(25376),T=e(86968).u,v=e(29736).descriptionOnlyNumbers,g=H.exports=n({domain:T({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))}},"calc","from-root");g.transforms=void 0},85852:function(H,U,e){var p=e(84888)._M,L=e(24752),n="table";U.name=n,U.plot=function(C){var T=p(C.calcdata,n)[0];T.length&&L(C,T)},U.clean=function(C,T,v,g){var r=g._has&&g._has(n),t=T._has&&T._has(n);r&&!t&&g._paperdiv.selectAll(".table").remove()}},39312:function(H,U,e){var p=e(71688).wrap;H.exports=function(){return p({})}},23536:function(H){H.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(H,U,e){var p=e(23536),L=e(92880).extendFlat,n=e(38248),C=e(38116).isTypedArray,T=e(38116).isArrayOrTypedArray;H.exports=function(m,h){var M=r(h.cells.values),c=function(ee){return ee.slice(h.header.values.length,ee.length)},i=r(h.header.values);i.length&&!i[0].length&&(i[0]=[""],i=r(i));var d=i.concat(c(M).map(function(){return t((i[0]||[""]).length)})),x=h.domain,A=Math.floor(m._fullLayout._size.w*(x.x[1]-x.x[0])),E=Math.floor(m._fullLayout._size.h*(x.y[1]-x.y[0])),y=h.header.values.length?d[0].map(function(){return h.header.height}):[p.emptyHeaderHeight],S=M.length?M[0].map(function(){return h.cells.height}):[],w=y.reduce(g,0),o=E-w,_=o+p.uplift,b=f(S,_),I=f(y,w),D=a(I,[]),N=a(b,D),k={},z=h._fullInput.columnorder;T(z)&&(z=Array.from(z)),z=z.concat(c(M.map(function(ee,ne){return ne})));var F=d.map(function(ee,ne){var Q=T(h.columnwidth)?h.columnwidth[Math.min(ne,h.columnwidth.length-1)]:h.columnwidth;return n(Q)?Number(Q):1}),O=F.reduce(g,0);F=F.map(function(ee){return ee/O*A});var B=Math.max(v(h.header.line.width),v(h.cells.line.width)),W={key:h.uid+m._context.staticPlot,translateX:x.x[0]*m._fullLayout._size.w,translateY:m._fullLayout._size.h*(1-x.y[1]),size:m._fullLayout._size,width:A,maxLineWidth:B,height:E,columnOrder:z,groupHeight:E,rowBlocks:N,headerRowBlocks:D,scrollY:0,cells:L({},h.cells,{values:M}),headerCells:L({},h.header,{values:d}),gdColumns:d.map(function(ee){return ee[0]}),gdColumnsOriginalOrder:d.map(function(ee){return ee[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(ee,ne){var Q=k[ee];k[ee]=(Q||0)+1;var le=ee+"__"+k[ee];return{key:le,label:ee,specIndex:ne,xIndex:z[ne],xScale:s,x:void 0,calcdata:void 0,columnWidth:F[ne]}})};return W.columns.forEach(function(ee){ee.calcdata=W,ee.x=s(ee)}),W};function v(l){if(T(l)){for(var m=0,h=0;h<l.length;h++)m=Math.max(m,v(l[h]));return m}return l}function g(l,m){return l+m}function r(l){var m=l.slice(),h=1/0,M=0,c;for(c=0;c<m.length;c++)C(m[c])?m[c]=Array.from(m[c]):T(m[c])||(m[c]=[m[c]]),h=Math.min(h,m[c].length),M=Math.max(M,m[c].length);if(h!==M)for(c=0;c<m.length;c++){var i=M-m[c].length;i&&(m[c]=m[c].concat(t(i)))}return m}function t(l){for(var m=new Array(l),h=0;h<l;h++)m[h]="";return m}function s(l){return l.calcdata.columns.reduce(function(m,h){return h.xIndex<l.xIndex?m+h.columnWidth:m},0)}function a(l,m){var h=Object.keys(l);return h.map(function(M){return L({},l[M],{auxiliaryBlocks:m})})}function f(l,m){for(var h={},M,c=0,i=0,d=u(),x=0,A=0,E=0;E<l.length;E++)M=l[E],d.rows.push({rowIndex:E,rowHeight:M}),i+=M,(i>=m||E===l.length-1)&&(h[c]=d,d.key=A++,d.firstRowIndex=x,d.lastRowIndex=E,d=u(),c+=i,x=E+1,i=0);return h}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(H,U,e){var p=e(92880).extendFlat;U.splitToPanels=function(n){var C=[0,0],T=p({},n,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:n.calcdata.headerCells.values[n.specIndex],rowBlocks:n.calcdata.headerRowBlocks,calcdata:p({},n.calcdata,{cells:n.calcdata.headerCells})}),v=p({},n,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks}),g=p({},n,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks});return[v,g,T]},U.splitToCells=function(n){var C=L(n);return(n.values||[]).slice(C[0],C[1]).map(function(T,v){var g=typeof T=="string"&&T.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+g,key:C[0]+v,column:n,calcdata:n.calcdata,page:n.page,rowBlocks:n.rowBlocks,value:T}})};function L(n){var C=n.rowBlocks[n.page],T=C?C.rows[0].rowIndex:0,v=C?T+C.rows.length:0;return[T,v]}},53212:function(H,U,e){var p=e(3400),L=e(60520),n=e(86968).Q;function C(T,v){for(var g=T.columnorder||[],r=T.header.values.length,t=g.slice(0,r),s=t.slice().sort(function(u,l){return u-l}),a=t.map(function(u){return s.indexOf(u)}),f=a.length;f<r;f++)a.push(f);v("columnorder",a)}H.exports=function(v,g,r,t){function s(a,f){return p.coerce(v,g,L,a,f)}n(g,t,s),s("columnwidth"),s("header.values"),s("header.format"),s("header.align"),s("header.prefix"),s("header.suffix"),s("header.height"),s("header.line.width"),s("header.line.color"),s("header.fill.color"),p.coerceFont(s,"header.font",p.extendFlat({},t.font)),C(g,s),s("cells.values"),s("cells.format"),s("cells.align"),s("cells.prefix"),s("cells.suffix"),s("cells.height"),s("cells.line.width"),s("cells.line.color"),s("cells.fill.color"),p.coerceFont(s,"cells.font",p.extendFlat({},t.font)),g._length=null}},41724:function(H,U,e){H.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(H,U,e){var p=e(23536),L=e(33428),n=e(3400),C=n.numberFormat,T=e(71688),v=e(43616),g=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,s=e(3400).cancelTransition,a=e(55992),f=e(53056),u=e(76308);H.exports=function(ue,ae){var ce=!ue._context.staticPlot,ye=ue._fullLayout._paper.selectAll("."+p.cn.table).data(ae.map(function(rt){var tt=T.unwrap(rt),vt=tt.trace;return a(ue,vt)}),T.keyFun);ye.exit().remove(),ye.enter().append("g").classed(p.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ye.attr("width",function(rt){return rt.width+rt.size.l+rt.size.r}).attr("height",function(rt){return rt.height+rt.size.t+rt.size.b}).attr("transform",function(rt){return t(rt.translateX,rt.translateY)});var Ce=ye.selectAll("."+p.cn.tableControlView).data(T.repeat,T.keyFun),Ae=Ce.enter().append("g").classed(p.cn.tableControlView,!0).style("box-sizing","content-box");if(ce){var Ie="onwheel"in document?"wheel":"mousewheel";Ae.on("mousemove",function(rt){Ce.filter(function(tt){return rt===tt}).call(c,ue)}).on(Ie,function(rt){if(!rt.scrollbarState.wheeling){rt.scrollbarState.wheeling=!0;var tt=rt.scrollY+L.event.deltaY,vt=ee(ue,Ce,null,tt)(rt);vt||(L.event.stopPropagation(),L.event.preventDefault()),rt.scrollbarState.wheeling=!1}}).call(c,ue,!0)}Ce.attr("transform",function(rt){return t(rt.size.l,rt.size.t)});var Te=Ce.selectAll("."+p.cn.scrollBackground).data(T.repeat,T.keyFun);Te.enter().append("rect").classed(p.cn.scrollBackground,!0).attr("fill","none"),Te.attr("width",function(rt){return rt.width}).attr("height",function(rt){return rt.height}),Ce.each(function(rt){v.setClipUrl(L.select(this),m(ue,rt),ue)});var Le=Ce.selectAll("."+p.cn.yColumn).data(function(rt){return rt.columns},T.keyFun);Le.enter().append("g").classed(p.cn.yColumn,!0),Le.exit().remove(),Le.attr("transform",function(rt){return t(rt.x,0)}),ce&&Le.call(L.behavior.drag().origin(function(rt){var tt=L.select(this);return k(tt,rt,-p.uplift),r(this),rt.calcdata.columnDragInProgress=!0,c(Ce.filter(function(vt){return rt.calcdata.key===vt.key}),ue),rt}).on("drag",function(rt){var tt=L.select(this),vt=function(wt){return(rt===wt?L.event.x:wt.x)+wt.columnWidth/2};rt.x=Math.max(-p.overdrag,Math.min(rt.calcdata.width+p.overdrag-rt.columnWidth,L.event.x));var pt=M(Le).filter(function(wt){return wt.calcdata.key===rt.calcdata.key}),mt=pt.sort(function(wt,Lt){return vt(wt)-vt(Lt)});mt.forEach(function(wt,Lt){wt.xIndex=Lt,wt.x=rt===wt?wt.x:wt.xScale(wt)}),Le.filter(function(wt){return rt!==wt}).transition().ease(p.transitionEase).duration(p.transitionDuration).attr("transform",function(wt){return t(wt.x,0)}),tt.call(s).attr("transform",t(rt.x,-p.uplift))}).on("dragend",function(rt){var tt=L.select(this),vt=rt.calcdata;rt.x=rt.xScale(rt),rt.calcdata.columnDragInProgress=!1,k(tt,rt,0),D(ue,vt,vt.columns.map(function(pt){return pt.xIndex}))})),Le.each(function(rt){v.setClipUrl(L.select(this),h(ue,rt),ue)});var xe=Le.selectAll("."+p.cn.columnBlock).data(f.splitToPanels,T.keyFun);xe.enter().append("g").classed(p.cn.columnBlock,!0).attr("id",function(rt){return rt.key}),xe.style("cursor",function(rt){return rt.dragHandle?"ew-resize":rt.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Re=xe.filter(F),He=xe.filter(z);ce&&He.call(L.behavior.drag().origin(function(rt){return L.event.stopPropagation(),rt}).on("drag",ee(ue,Ce,-1)).on("dragend",function(){})),i(ue,Ce,Re,xe),i(ue,Ce,He,xe);var Ve=Ce.selectAll("."+p.cn.scrollAreaClip).data(T.repeat,T.keyFun);Ve.enter().append("clipPath").classed(p.cn.scrollAreaClip,!0).attr("id",function(rt){return m(ue,rt)});var Fe=Ve.selectAll("."+p.cn.scrollAreaClipRect).data(T.repeat,T.keyFun);Fe.enter().append("rect").classed(p.cn.scrollAreaClipRect,!0).attr("x",-p.overdrag).attr("y",-p.uplift).attr("fill","none"),Fe.attr("width",function(rt){return rt.width+2*p.overdrag}).attr("height",function(rt){return rt.height+p.uplift});var We=Le.selectAll("."+p.cn.columnBoundary).data(T.repeat,T.keyFun);We.enter().append("g").classed(p.cn.columnBoundary,!0);var ut=Le.selectAll("."+p.cn.columnBoundaryClippath).data(T.repeat,T.keyFun);ut.enter().append("clipPath").classed(p.cn.columnBoundaryClippath,!0),ut.attr("id",function(rt){return h(ue,rt)});var ht=ut.selectAll("."+p.cn.columnBoundaryRect).data(T.repeat,T.keyFun);ht.enter().append("rect").classed(p.cn.columnBoundaryRect,!0).attr("fill","none"),ht.attr("width",function(rt){return rt.columnWidth+2*l(rt)}).attr("height",function(rt){return rt.calcdata.height+2*l(rt)+p.uplift}).attr("x",function(rt){return-l(rt)}).attr("y",function(rt){return-l(rt)}),W(null,He,Ce)};function l(j){return Math.ceil(j.calcdata.maxLineWidth/2)}function m(j,ue){return"clip"+j._fullLayout._uid+"_scrollAreaBottomClip_"+ue.key}function h(j,ue){return"clip"+j._fullLayout._uid+"_columnBoundaryClippath_"+ue.calcdata.key+"_"+ue.specIndex}function M(j){return[].concat.apply([],j.map(function(ue){return ue})).map(function(ue){return ue.__data__})}function c(j,ue,ae){function ce(Le){var xe=Le.rowBlocks;return re(xe,xe.length-1)+(xe.length?X(xe[xe.length-1],1/0):1)}var ye=j.selectAll("."+p.cn.scrollbarKit).data(T.repeat,T.keyFun);ye.enter().append("g").classed(p.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ye.each(function(Le){var xe=Le.scrollbarState;xe.totalHeight=ce(Le),xe.scrollableAreaHeight=Le.groupHeight-O(Le),xe.currentlyVisibleHeight=Math.min(xe.totalHeight,xe.scrollableAreaHeight),xe.ratio=xe.currentlyVisibleHeight/xe.totalHeight,xe.barLength=Math.max(xe.ratio*xe.currentlyVisibleHeight,p.goldenRatio*p.scrollbarWidth),xe.barWiggleRoom=xe.currentlyVisibleHeight-xe.barLength,xe.wiggleRoom=Math.max(0,xe.totalHeight-xe.scrollableAreaHeight),xe.topY=xe.barWiggleRoom===0?0:Le.scrollY/xe.wiggleRoom*xe.barWiggleRoom,xe.bottomY=xe.topY+xe.barLength,xe.dragMultiplier=xe.wiggleRoom/xe.barWiggleRoom}).attr("transform",function(Le){var xe=Le.width+p.scrollbarWidth/2+p.scrollbarOffset;return t(xe,O(Le))});var Ce=ye.selectAll("."+p.cn.scrollbar).data(T.repeat,T.keyFun);Ce.enter().append("g").classed(p.cn.scrollbar,!0);var Ae=Ce.selectAll("."+p.cn.scrollbarSlider).data(T.repeat,T.keyFun);Ae.enter().append("g").classed(p.cn.scrollbarSlider,!0),Ae.attr("transform",function(Le){return t(0,Le.scrollbarState.topY||0)});var Ie=Ae.selectAll("."+p.cn.scrollbarGlyph).data(T.repeat,T.keyFun);Ie.enter().append("line").classed(p.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",p.scrollbarWidth).attr("stroke-linecap","round").attr("y1",p.scrollbarWidth/2),Ie.attr("y2",function(Le){return Le.scrollbarState.barLength-p.scrollbarWidth/2}).attr("stroke-opacity",function(Le){return Le.columnDragInProgress||!Le.scrollbarState.barWiggleRoom||ae?0:.4}),Ie.transition().delay(0).duration(0),Ie.transition().delay(p.scrollbarHideDelay).duration(p.scrollbarHideDuration).attr("stroke-opacity",0);var Te=Ce.selectAll("."+p.cn.scrollbarCaptureZone).data(T.repeat,T.keyFun);Te.enter().append("line").classed(p.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",p.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Le){var xe=L.event.y,Re=this.getBoundingClientRect(),He=Le.scrollbarState,Ve=xe-Re.top,Fe=L.scale.linear().domain([0,He.scrollableAreaHeight]).range([0,He.totalHeight]).clamp(!0);He.topY<=Ve&&Ve<=He.bottomY||ee(ue,j,null,Fe(Ve-He.barLength/2))(Le)}).call(L.behavior.drag().origin(function(Le){return L.event.stopPropagation(),Le.scrollbarState.scrollbarScrollInProgress=!0,Le}).on("drag",ee(ue,j)).on("dragend",function(){})),Te.attr("y2",function(Le){return Le.scrollbarState.scrollableAreaHeight}),ue._context.staticPlot&&(Ie.remove(),Te.remove())}function i(j,ue,ae,ce){var ye=d(ae),Ce=x(ye);S(Ce);var Ae=A(Ce);o(Ae);var Ie=y(Ce),Te=E(Ie);w(Te),_(Te,ue,ce,j),Y(Ce)}function d(j){var ue=j.selectAll("."+p.cn.columnCells).data(T.repeat,T.keyFun);return ue.enter().append("g").classed(p.cn.columnCells,!0),ue.exit().remove(),ue}function x(j){var ue=j.selectAll("."+p.cn.columnCell).data(f.splitToCells,function(ae){return ae.keyWithinBlock});return ue.enter().append("g").classed(p.cn.columnCell,!0),ue.exit().remove(),ue}function A(j){var ue=j.selectAll("."+p.cn.cellRect).data(T.repeat,function(ae){return ae.keyWithinBlock});return ue.enter().append("rect").classed(p.cn.cellRect,!0),ue}function E(j){var ue=j.selectAll("."+p.cn.cellText).data(T.repeat,function(ae){return ae.keyWithinBlock});return ue.enter().append("text").classed(p.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){L.event.stopPropagation()}),ue}function y(j){var ue=j.selectAll("."+p.cn.cellTextHolder).data(T.repeat,function(ae){return ae.keyWithinBlock});return ue.enter().append("g").classed(p.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ue}function S(j){j.each(function(ue,ae){var ce=ue.calcdata.cells.font,ye=ue.column.specIndex,Ce={size:N(ce.size,ye,ae),color:N(ce.color,ye,ae),family:N(ce.family,ye,ae)};ue.rowNumber=ue.key,ue.align=N(ue.calcdata.cells.align,ye,ae),ue.cellBorderWidth=N(ue.calcdata.cells.line.width,ye,ae),ue.font=Ce})}function w(j){j.each(function(ue){v.font(L.select(this),ue.font)})}function o(j){j.attr("width",function(ue){return ue.column.columnWidth}).attr("stroke-width",function(ue){return ue.cellBorderWidth}).each(function(ue){var ae=L.select(this);u.stroke(ae,N(ue.calcdata.cells.line.color,ue.column.specIndex,ue.rowNumber)),u.fill(ae,N(ue.calcdata.cells.fill.color,ue.column.specIndex,ue.rowNumber))})}function _(j,ue,ae,ce){j.text(function(ye){var Ce=ye.column.specIndex,Ae=ye.rowNumber,Ie=ye.value,Te=typeof Ie=="string",Le=Te&&Ie.match(/<br>/i),xe=!Te||Le;ye.mayHaveMarkup=Te&&Ie.match(/[<&>]/);var Re=b(Ie);ye.latex=Re;var He=Re?"":N(ye.calcdata.cells.prefix,Ce,Ae)||"",Ve=Re?"":N(ye.calcdata.cells.suffix,Ce,Ae)||"",Fe=Re?null:N(ye.calcdata.cells.format,Ce,Ae)||null,We=He+(Fe?C(Fe)(ye.value):ye.value)+Ve,ut;ye.wrappingNeeded=!ye.wrapped&&!xe&&!Re&&(ut=I(We)),ye.cellHeightMayIncrease=Le||Re||ye.mayHaveMarkup||(ut===void 0?I(We):ut),ye.needsConvertToTspans=ye.mayHaveMarkup||ye.wrappingNeeded||ye.latex;var ht;if(ye.wrappingNeeded){var rt=p.wrapSplitCharacter===" "?We.replace(/<a href=/ig,"<a_href="):We,tt=rt.split(p.wrapSplitCharacter),vt=p.wrapSplitCharacter===" "?tt.map(function(pt){return pt.replace(/<a_href=/ig,"<a href=")}):tt;ye.fragments=vt.map(function(pt){return{text:pt,width:null}}),ye.fragments.push({fragment:p.wrapSpacer,width:null}),ht=vt.join(p.lineBreaker)+p.lineBreaker+p.wrapSpacer}else delete ye.fragments,ht=We;return ht}).attr("dy",function(ye){return ye.needsConvertToTspans?0:"0.75em"}).each(function(ye){var Ce=this,Ae=L.select(Ce),Ie=ye.wrappingNeeded?Q:le;ye.needsConvertToTspans?g.convertToTspans(Ae,ce,Ie(ae,Ce,ue,ce,ye)):L.select(Ce.parentNode).attr("transform",function(Te){return t(Z(Te),p.cellPad)}).attr("text-anchor",function(Te){return{left:"start",center:"middle",right:"end"}[Te.align]})})}function b(j){return typeof j=="string"&&j.match(p.latexCheck)}function I(j){return j.indexOf(p.wrapSplitCharacter)!==-1}function D(j,ue,ae){var ce=ue.gdColumnsOriginalOrder;ue.gdColumns.sort(function(ye,Ce){return ae[ce.indexOf(ye)]-ae[ce.indexOf(Ce)]}),ue.columnorder=ae,j.emit("plotly_restyle")}function N(j,ue,ae){if(n.isArrayOrTypedArray(j)){var ce=j[Math.min(ue,j.length-1)];return n.isArrayOrTypedArray(ce)?ce[Math.min(ae,ce.length-1)]:ce}else return j}function k(j,ue,ae){j.transition().ease(p.releaseTransitionEase).duration(p.releaseTransitionDuration).attr("transform",t(ue.x,ae))}function z(j){return j.type==="cells"}function F(j){return j.type==="header"}function O(j){var ue=j.rowBlocks.length?j.rowBlocks[0].auxiliaryBlocks:[];return ue.reduce(function(ae,ce){return ae+X(ce,1/0)},0)}function B(j,ue,ae){for(var ce=[],ye=0,Ce=0;Ce<j.length;Ce++){for(var Ae=j[Ce],Ie=Ae.rows,Te=0,Le=0;Le<Ie.length;Le++)Te+=Ie[Le].rowHeight;Ae.allRowsHeight=Te;var xe=ye+Te,Re=ue,He=Re+ae;Re<xe&&He>ye&&ce.push(Ce),ye+=Te}return ce}function W(j,ue,ae){var ce=M(ue)[0];if(ce!==void 0){var ye=ce.rowBlocks,Ce=ce.calcdata,Ae=re(ye,ye.length),Ie=ce.calcdata.groupHeight-O(ce),Te=Ce.scrollY=Math.max(0,Math.min(Ae-Ie,Ce.scrollY)),Le=B(ye,Te,Ie);Le.length===1&&(Le[0]===ye.length-1?Le.unshift(Le[0]-1):Le.push(Le[0]+1)),Le[0]%2&&Le.reverse(),ue.each(function(xe,Re){xe.page=Le[Re],xe.scrollY=Te}),ue.attr("transform",function(xe){var Re=re(xe.rowBlocks,xe.page)-xe.scrollY;return t(0,Re)}),j&&(ne(j,ae,ue,Le,ce.prevPages,ce,0),ne(j,ae,ue,Le,ce.prevPages,ce,1),c(ae,j))}}function ee(j,ue,ae,ce){return function(Ce){var Ae=Ce.calcdata?Ce.calcdata:Ce,Ie=ue.filter(function(Re){return Ae.key===Re.key}),Te=ae||Ae.scrollbarState.dragMultiplier,Le=Ae.scrollY;Ae.scrollY=ce===void 0?Ae.scrollY+Te*L.event.dy:ce;var xe=Ie.selectAll("."+p.cn.yColumn).selectAll("."+p.cn.columnBlock).filter(z);return W(j,xe,Ie),Ae.scrollY===Le}}function ne(j,ue,ae,ce,ye,Ce,Ae){var Ie=ce[Ae]!==ye[Ae];Ie&&(clearTimeout(Ce.currentRepaint[Ae]),Ce.currentRepaint[Ae]=setTimeout(function(){var Te=ae.filter(function(Le,xe){return xe===Ae&&ce[xe]!==ye[xe]});i(j,ue,Te,ae),ye[Ae]=ce[Ae]}))}function Q(j,ue,ae,ce){return function(){var Ce=L.select(ue.parentNode);Ce.each(function(Ae){var Ie=Ae.fragments;Ce.selectAll("tspan.line").each(function(We,ut){Ie[ut].width=this.getComputedTextLength()});var Te=Ie[Ie.length-1].width,Le=Ie.slice(0,-1),xe=[],Re,He,Ve=0,Fe=Ae.column.columnWidth-2*p.cellPad;for(Ae.value="";Le.length;)Re=Le.shift(),He=Re.width+Te,Ve+He>Fe&&(Ae.value+=xe.join(p.wrapSpacer)+p.lineBreaker,xe=[],Ve=0),xe.push(Re.text),Ve+=He;Ve&&(Ae.value+=xe.join(p.wrapSpacer)),Ae.wrapped=!0}),Ce.selectAll("tspan.line").remove(),_(Ce.select("."+p.cn.cellText),ae,j,ce),L.select(ue.parentNode.parentNode).call(Y)}}function le(j,ue,ae,ce,ye){return function(){if(!ye.settledY){var Ae=L.select(ue.parentNode),Ie=se(ye),Te=ye.key-Ie.firstRowIndex,Le=Ie.rows[Te].rowHeight,xe=ye.cellHeightMayIncrease?ue.parentNode.getBoundingClientRect().height+2*p.cellPad:Le,Re=Math.max(xe,Le),He=Re-Ie.rows[Te].rowHeight;He&&(Ie.rows[Te].rowHeight=Re,j.selectAll("."+p.cn.columnCell).call(Y),W(null,j.filter(z),0),c(ae,ce,!0)),Ae.attr("transform",function(){var Ve=this,Fe=Ve.parentNode,We=Fe.getBoundingClientRect(),ut=L.select(Ve.parentNode).select("."+p.cn.cellRect).node().getBoundingClientRect(),ht=Ve.transform.baseVal.consolidate(),rt=ut.top-We.top+(ht?ht.matrix.f:p.cellPad);return t(Z(ye,L.select(Ve.parentNode).select("."+p.cn.cellTextHolder).node().getBoundingClientRect().width),rt)}),ye.settledY=!0}}}function Z(j,ue){switch(j.align){case"left":return p.cellPad;case"right":return j.column.columnWidth-(ue||0)-p.cellPad;case"center":return(j.column.columnWidth-(ue||0))/2;default:return p.cellPad}}function Y(j){j.attr("transform",function(ue){var ae=ue.rowBlocks[0].auxiliaryBlocks.reduce(function(Ae,Ie){return Ae+X(Ie,1/0)},0),ce=se(ue),ye=X(ce,ue.key),Ce=ye+ae;return t(0,Ce)}).selectAll("."+p.cn.cellRect).attr("height",function(ue){return $(se(ue),ue.key).rowHeight})}function re(j,ue){for(var ae=0,ce=ue-1;ce>=0;ce--)ae+=q(j[ce]);return ae}function X(j,ue){for(var ae=0,ce=0;ce<j.rows.length&&j.rows[ce].rowIndex<ue;ce++)ae+=j.rows[ce].rowHeight;return ae}function q(j){var ue=j.allRowsHeight;if(ue!==void 0)return ue;for(var ae=0,ce=0;ce<j.rows.length;ce++)ae+=j.rows[ce].rowHeight;return j.allRowsHeight=ae,ae}function se(j){return j.rowBlocks[j.page]}function $(j,ue){return j.rows[ue-j.firstRowIndex]}},40516:function(H,U,e){var p=e(21776).Ks,L=e(21776).Gw,n=e(49084),C=e(86968).u,T=e(74996),v=e(424),g=e(32984),r=e(92880).extendFlat,t=e(98192).c;H.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},T.textfont,{}),editType:"calc"},text:T.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:v.hoverinfo,hovertemplate:p({},{keys:g.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:r({},T.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:T.sort,root:v.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},79516:function(H,U,e){var p=e(7316);U.name="treemap",U.plot=function(L,n,C,T){p.plotBasePlot(U.name,L,n,C,T)},U.clean=function(L,n,C,T){p.cleanBasePlot(U.name,L,n,C,T)}},97840:function(H,U,e){var p=e(3776);U.r=function(L,n){return p.calc(L,n)},U.q=function(L){return p._runCrossTraceCalc("treemap",L)}},32984:function(H){H.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(H,U,e){var p=e(3400),L=e(40516),n=e(76308),C=e(86968).Q,T=e(31508).handleText,v=e(78048).TEXTPAD,g=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,s=r.handleDefaults;H.exports=function(f,u,l,m){function h(o,_){return p.coerce(f,u,L,o,_)}var M=h("labels"),c=h("parents");if(!M||!M.length||!c||!c.length){u.visible=!1;return}var i=h("values");i&&i.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var x=h("text");h("texttemplate"),u.texttemplate||h("textinfo",p.isArrayOrTypedArray(x)?"text+label":"label"),h("hovertext"),h("hovertemplate");var A=h("pathbar.visible"),E="auto";T(f,u,m,h,E,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var y=u.textposition.indexOf("bottom")!==-1;g(f,u,m,h);var S=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;S?s(f,u,m,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(u.marker.colors||[]).length);var w=u.textfont.size*2;h("marker.pad.t",y?w/4:w),h("marker.pad.l",w/4),h("marker.pad.r",w/4),h("marker.pad.b",y?w:w/4),h("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:n.contrast(m.paper_bgcolor)}}},A&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),C(u,m,h),u._length=null}},95808:function(H,U,e){var p=e(33428),L=e(78176),n=e(82744),C=n.clearMinTextSize,T=e(60100).resizeText,v=e(52960);H.exports=function(r,t,s,a,f){var u=f.type,l=f.drawDescendants,m=r._fullLayout,h=m["_"+u+"layer"],M,c,i=!s;if(C(u,m),M=h.selectAll("g.trace."+u).data(t,function(x){return x[0].trace.uid}),M.enter().append("g").classed("trace",!0).classed(u,!0),M.order(),!m.uniformtext.mode&&L.hasTransition(s)){a&&(c=a());var d=p.transition().duration(s.duration).ease(s.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});d.each(function(){h.selectAll("g.trace").each(function(x){v(r,x,this,s,l)})})}else M.each(function(x){v(r,x,this,s,l)}),m.uniformtext.mode&&T(r,h.selectAll(".trace"),u);i&&M.exit().remove()}},27336:function(H,U,e){var p=e(33428),L=e(3400),n=e(43616),C=e(72736),T=e(13832),v=e(66192).styleOne,g=e(32984),r=e(78176),t=e(45716),s=!0;H.exports=function(f,u,l,m,h){var M=h.barDifY,c=h.width,i=h.height,d=h.viewX,x=h.viewY,A=h.pathSlice,E=h.toMoveInsideSlice,y=h.strTransform,S=h.hasTransition,w=h.handleSlicesExit,o=h.makeUpdateSliceInterpolator,_=h.makeUpdateTextInterpolator,b={},I=f._context.staticPlot,D=f._fullLayout,N=u[0],k=N.trace,z=N.hierarchy,F=c/k._entryDepth,O=r.listPath(l.data,"id"),B=T(z.copy(),[c,i],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();B=B.filter(function(ee){var ne=O.indexOf(ee.data.id);return ne===-1?!1:(ee.x0=F*ne,ee.x1=F*(ne+1),ee.y0=M,ee.y1=M+i,ee.onPathbar=!0,!0)}),B.reverse(),m=m.data(B,r.getPtId),m.enter().append("g").classed("pathbar",!0),w(m,s,b,[c,i],A),m.order();var W=m;S&&(W=W.transition().each("end",function(){var ee=p.select(this);r.setSliceCursor(ee,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(ee){ee._x0=d(ee.x0),ee._x1=d(ee.x1),ee._y0=x(ee.y0),ee._y1=x(ee.y1),ee._hoverX=d(ee.x1-Math.min(c,i)/2),ee._hoverY=x(ee.y1-i/2);var ne=p.select(this),Q=L.ensureSingle(ne,"path","surface",function(re){re.style("pointer-events",I?"none":"all")});S?Q.transition().attrTween("d",function(re){var X=o(re,s,b,[c,i]);return function(q){return A(X(q))}}):Q.attr("d",A),ne.call(t,l,f,u,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:f._transitioning}),Q.call(v,ee,k,f,{hovered:!1}),ee._text=(r.getPtLabel(ee)||"").split("<br>").join(" ")||"";var le=L.ensureSingle(ne,"g","slicetext"),Z=L.ensureSingle(le,"text","",function(re){re.attr("data-notex",1)}),Y=L.ensureUniformFontSize(f,r.determineTextFont(k,ee,D.font,{onPathbar:!0}));Z.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(n.font,Y).call(C.convertToTspans,f),ee.textBB=n.bBox(Z.node()),ee.transform=E(ee,{fontSize:Y.size,onPathbar:!0}),ee.transform.fontSize=Y.size,S?Z.transition().attrTween("transform",function(re){var X=_(re,s,b,[c,i]);return function(q){return y(X(q))}}):Z.attr("transform",y(ee))})}},76477:function(H,U,e){var p=e(33428),L=e(3400),n=e(43616),C=e(72736),T=e(13832),v=e(66192).styleOne,g=e(32984),r=e(78176),t=e(45716),s=e(96488).formatSliceLabel,a=!1;H.exports=function(u,l,m,h,M){var c=M.width,i=M.height,d=M.viewX,x=M.viewY,A=M.pathSlice,E=M.toMoveInsideSlice,y=M.strTransform,S=M.hasTransition,w=M.handleSlicesExit,o=M.makeUpdateSliceInterpolator,_=M.makeUpdateTextInterpolator,b=M.prevEntry,I={},D=u._context.staticPlot,N=u._fullLayout,k=l[0],z=k.trace,F=z.textposition.indexOf("left")!==-1,O=z.textposition.indexOf("right")!==-1,B=z.textposition.indexOf("bottom")!==-1,W=!B&&!z.marker.pad.t||B&&!z.marker.pad.b,ee=T(m,[c,i],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}),ne=ee.descendants(),Q=1/0,le=-1/0;ne.forEach(function(q){var se=q.depth;se>=z._maxDepth?(q.x0=q.x1=(q.x0+q.x1)/2,q.y0=q.y1=(q.y0+q.y1)/2):(Q=Math.min(Q,se),le=Math.max(le,se))}),h=h.data(ne,r.getPtId),z._maxVisibleLayers=isFinite(le)?le-Q+1:0,h.enter().append("g").classed("slice",!0),w(h,a,I,[c,i],A),h.order();var Z=null;if(S&&b){var Y=r.getPtId(b);h.each(function(q){Z===null&&r.getPtId(q)===Y&&(Z={x0:q.x0,x1:q.x1,y0:q.y0,y1:q.y1})})}var re=function(){return Z||{x0:0,x1:c,y0:0,y1:i}},X=h;return S&&(X=X.transition().each("end",function(){var q=p.select(this);r.setSliceCursor(q,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(q){var se=r.isHeader(q,z);q._x0=d(q.x0),q._x1=d(q.x1),q._y0=x(q.y0),q._y1=x(q.y1),q._hoverX=d(q.x1-z.marker.pad.r),q._hoverY=x(B?q.y1-z.marker.pad.b/2:q.y0+z.marker.pad.t/2);var $=p.select(this),j=L.ensureSingle($,"path","surface",function(Ae){Ae.style("pointer-events",D?"none":"all")});S?j.transition().attrTween("d",function(Ae){var Ie=o(Ae,a,re(),[c,i]);return function(Te){return A(Ie(Te))}}):j.attr("d",A),$.call(t,m,u,l,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),j.call(v,q,z,u,{hovered:!1}),q.x0===q.x1||q.y0===q.y1?q._text="":se?q._text=W?"":r.getPtLabel(q)||"":q._text=s(q,m,z,l,N)||"";var ue=L.ensureSingle($,"g","slicetext"),ae=L.ensureSingle(ue,"text","",function(Ae){Ae.attr("data-notex",1)}),ce=L.ensureUniformFontSize(u,r.determineTextFont(z,q,N.font)),ye=q._text||" ",Ce=se&&ye.indexOf("<br>")===-1;ae.text(ye).classed("slicetext",!0).attr("text-anchor",O?"end":F||Ce?"start":"middle").call(n.font,ce).call(C.convertToTspans,u),q.textBB=n.bBox(ae.node()),q.transform=E(q,{fontSize:ce.size,isHeader:se}),q.transform.fontSize=ce.size,S?ae.transition().attrTween("transform",function(Ae){var Ie=_(Ae,a,re(),[c,i]);return function(Te){return y(Ie(Te))}}):ae.attr("transform",y(q))}),Z}},83024:function(H){H.exports=function U(e,p,L){var n;L.swapXY&&(n=e.x0,e.x0=e.y0,e.y0=n,n=e.x1,e.x1=e.y1,e.y1=n),L.flipX&&(n=e.x0,e.x0=p[0]-e.x1,e.x1=p[0]-n),L.flipY&&(n=e.y0,e.y0=p[1]-e.y1,e.y1=p[1]-n);var C=e.children;if(C)for(var T=0;T<C.length;T++)U(C[T],p,L)}},31991:function(H,U,e){H.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(H){H.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(H,U,e){var p=e(3400),L=e(45392);H.exports=function(C,T){function v(g,r){return p.coerce(C,T,L,g,r)}v("treemapcolorway",T.colorway),v("extendtreemapcolors")}},13832:function(H,U,e){var p=e(74148),L=e(83024);H.exports=function(T,v,g){var r=g.flipX,t=g.flipY,s=g.packing==="dice-slice",a=g.pad[t?"bottom":"top"],f=g.pad[r?"right":"left"],u=g.pad[r?"left":"right"],l=g.pad[t?"top":"bottom"],m;s&&(m=f,f=a,a=m,m=u,u=l,l=m);var h=p.treemap().tile(n(g.packing,g.squarifyratio)).paddingInner(g.pad.inner).paddingLeft(f).paddingRight(u).paddingTop(a).paddingBottom(l).size(s?[v[1],v[0]]:v)(T);return(s||r||t)&&L(h,v,{swapXY:s,flipX:r,flipY:t}),h};function n(C,T){switch(C){case"squarify":return p.treemapSquarify.ratio(T);case"binary":return p.treemapBinary;case"dice":return p.treemapDice;case"slice":return p.treemapSlice;default:return p.treemapSliceDice}}},53264:function(H,U,e){var p=e(95808),L=e(76477);H.exports=function(C,T,v,g){return p(C,T,v,g,{type:"treemap",drawDescendants:L})}},52960:function(H,U,e){var p=e(33428),L=e(67756).qy,n=e(78176),C=e(3400),T=e(78048).TEXTPAD,v=e(98184),g=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,s=e(32984),a=e(27336);function f(u){return n.isHierarchyRoot(u)?"":n.getPtId(u)}H.exports=function(l,m,h,M,c){var i=l._fullLayout,d=m[0],x=d.trace,A=x.type,E=A==="icicle",y=d.hierarchy,S=n.findEntryWithLevel(y,x.level),w=p.select(h),o=w.selectAll("g.pathbar"),_=w.selectAll("g.slice");if(!S){o.remove(),_.remove();return}var b=n.isHierarchyRoot(S),I=!i.uniformtext.mode&&n.hasTransition(M),D=n.getMaxDepth(x),N=function(Oe){return Oe.data.depth-S.data.depth<D},k=i._size,z=x.domain,F=k.w*(z.x[1]-z.x[0]),O=k.h*(z.y[1]-z.y[0]),B=F,W=x.pathbar.thickness,ee=x.marker.line.width+s.gapWithPathbar,ne=x.pathbar.visible?x.pathbar.side.indexOf("bottom")>-1?O+ee:-(W+ee):0,Q={x0:B,x1:B,y0:ne,y1:ne+W},le=function(Oe,Ze,Je){var Ye=x.tiling.pad,ke=function(Ee){return Ee-Ye<=Ze.x0},be=function(Ee){return Ee+Ye>=Ze.x1},me=function(Ee){return Ee-Ye<=Ze.y0},_e=function(Ee){return Ee+Ye>=Ze.y1};return Oe.x0===Ze.x0&&Oe.x1===Ze.x1&&Oe.y0===Ze.y0&&Oe.y1===Ze.y1?{x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1}:{x0:ke(Oe.x0-Ye)?0:be(Oe.x0-Ye)?Je[0]:Oe.x0,x1:ke(Oe.x1+Ye)?0:be(Oe.x1+Ye)?Je[0]:Oe.x1,y0:me(Oe.y0-Ye)?0:_e(Oe.y0-Ye)?Je[1]:Oe.y0,y1:me(Oe.y1+Ye)?0:_e(Oe.y1+Ye)?Je[1]:Oe.y1}},Z=null,Y={},re={},X=null,q=function(Oe,Ze){return Ze?Y[f(Oe)]:re[f(Oe)]},se=function(Oe,Ze,Je,Ye){if(Ze)return Y[f(y)]||Q;var ke=re[x.level]||Je;return N(Oe)?le(Oe,ke,Ye):{}};d.hasMultipleRoots&&b&&D++,x._maxDepth=D,x._backgroundColor=i.paper_bgcolor,x._entryDepth=S.data.depth,x._atRootLevel=b;var $=-F/2+k.l+k.w*(z.x[1]+z.x[0])/2,j=-O/2+k.t+k.h*(1-(z.y[1]+z.y[0])/2),ue=function(Oe){return $+Oe},ae=function(Oe){return j+Oe},ce=ae(0),ye=ue(0),Ce=function(Oe){return ye+Oe},Ae=function(Oe){return ce+Oe};function Ie(Oe,Ze){return Oe+","+Ze}var Te=Ce(0),Le=function(Oe){Oe.x=Math.max(Te,Oe.x)},xe=x.pathbar.edgeshape,Re=function(Oe){var Ze=Ce(Math.max(Math.min(Oe.x0,Oe.x0),0)),Je=Ce(Math.min(Math.max(Oe.x1,Oe.x1),B)),Ye=Ae(Oe.y0),ke=Ae(Oe.y1),be=W/2,me={},_e={};me.x=Ze,_e.x=Je,me.y=_e.y=(Ye+ke)/2;var Ee={x:Ze,y:Ye},Be={x:Je,y:Ye},je={x:Je,y:ke},nt={x:Ze,y:ke};return xe===">"?(Ee.x-=be,Be.x-=be,je.x-=be,nt.x-=be):xe==="/"?(je.x-=be,nt.x-=be,me.x-=be/2,_e.x-=be/2):xe==="\\"?(Ee.x-=be,Be.x-=be,me.x-=be/2,_e.x-=be/2):xe==="<"&&(me.x-=be,_e.x-=be),Le(Ee),Le(nt),Le(me),Le(Be),Le(je),Le(_e),"M"+Ie(Ee.x,Ee.y)+"L"+Ie(Be.x,Be.y)+"L"+Ie(_e.x,_e.y)+"L"+Ie(je.x,je.y)+"L"+Ie(nt.x,nt.y)+"L"+Ie(me.x,me.y)+"Z"},He=x[E?"tiling":"marker"].pad,Ve=function(Oe){return x.textposition.indexOf(Oe)!==-1},Fe=Ve("top"),We=Ve("left"),ut=Ve("right"),ht=Ve("bottom"),rt=function(Oe){var Ze=ue(Oe.x0),Je=ue(Oe.x1),Ye=ae(Oe.y0),ke=ae(Oe.y1),be=Je-Ze,me=ke-Ye;if(!be||!me)return"";var _e=x.marker.cornerradius||0,Ee=Math.min(_e,be/2,me/2);Ee&&Oe.data&&Oe.data.data&&Oe.data.data.label&&(Fe&&(Ee=Math.min(Ee,He.t)),We&&(Ee=Math.min(Ee,He.l)),ut&&(Ee=Math.min(Ee,He.r)),ht&&(Ee=Math.min(Ee,He.b)));var Be=function(je,nt){return Ee?"a"+Ie(Ee,Ee)+" 0 0 1 "+Ie(je,nt):""};return"M"+Ie(Ze,Ye+Ee)+Be(Ee,-Ee)+"L"+Ie(Je-Ee,Ye)+Be(Ee,Ee)+"L"+Ie(Je,ke-Ee)+Be(-Ee,Ee)+"L"+Ie(Ze+Ee,ke)+Be(-Ee,-Ee)+"Z"},tt=function(Oe,Ze){var Je=Oe.x0,Ye=Oe.x1,ke=Oe.y0,be=Oe.y1,me=Oe.textBB,_e=Fe||Ze.isHeader&&!ht,Ee=_e?"start":ht?"end":"middle",Be=Ve("right"),je=Ve("left")||Ze.onPathbar,nt=je?-1:Be?1:0;if(Ze.isHeader){if(Je+=(E?He:He.l)-T,Ye-=(E?He:He.r)-T,Je>=Ye){var dt=(Je+Ye)/2;Je=dt,Ye=dt}var xt;ht?(xt=be-(E?He:He.b),ke<xt&&xt<be&&(ke=xt)):(xt=ke+(E?He:He.t),ke<xt&&xt<be&&(be=xt))}var Kt=g(Je,Ye,ke,be,me,{isHorizontal:!1,constrained:!0,angle:0,anchor:Ee,leftToRight:nt});return Kt.fontSize=Ze.fontSize,Kt.targetX=ue(Kt.targetX),Kt.targetY=ae(Kt.targetY),isNaN(Kt.targetX)||isNaN(Kt.targetY)?{}:(Je!==Ye&&ke!==be&&t(x.type,Kt,i),{scale:Kt.scale,rotate:Kt.rotate,textX:Kt.textX,textY:Kt.textY,anchorX:Kt.anchorX,anchorY:Kt.anchorY,targetX:Kt.targetX,targetY:Kt.targetY})},vt=function(Oe,Ze){for(var Je,Ye=0,ke=Oe;!Je&&Ye<D;)Ye++,ke=ke.parent,ke?Je=q(ke,Ze):Ye=D;return Je||{}},pt=function(Oe,Ze,Je,Ye){var ke=q(Oe,Ze),be;if(Ze)be=Q;else{var me=q(S,Ze);me?be=le(Oe,me,Ye):be={}}return L(ke,be)},mt=function(Oe,Ze,Je,Ye,ke){var be=q(Oe,Ze),me;if(be)me=be;else if(Ze)me=Q;else if(Z)if(Oe.parent){var _e=X||Je;_e&&!Ze?me=le(Oe,_e,Ye):(me={},C.extendFlat(me,vt(Oe,Ze)))}else me=C.extendFlat({},Oe),E&&(ke.orientation==="h"?ke.flipX?me.x0=Oe.x1:me.x1=0:ke.flipY?me.y0=Oe.y1:me.y1=0);else me={};return L(me,{x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1})},wt=function(Oe,Ze,Je,Ye){var ke=q(Oe,Ze),be={},me=se(Oe,Ze,Je,Ye);C.extendFlat(be,{transform:tt({x0:me.x0,x1:me.x1,y0:me.y0,y1:me.y1,textBB:Oe.textBB,_text:Oe._text},{isHeader:n.isHeader(Oe,x)})}),ke?be=ke:Oe.parent&&C.extendFlat(be,vt(Oe,Ze));var _e=Oe.transform;return Oe.x0!==Oe.x1&&Oe.y0!==Oe.y1&&t(x.type,_e,i),L(be,{transform:{scale:_e.scale,rotate:_e.rotate,textX:_e.textX,textY:_e.textY,anchorX:_e.anchorX,anchorY:_e.anchorY,targetX:_e.targetX,targetY:_e.targetY}})},Lt=function(Oe,Ze,Je,Ye,ke){var be=Ye[0],me=Ye[1];I?Oe.exit().transition().each(function(){var _e=p.select(this),Ee=_e.select("path.surface");Ee.transition().attrTween("d",function(je){var nt=pt(je,Ze,Je,[be,me]);return function(dt){return ke(nt(dt))}});var Be=_e.select("g.slicetext");Be.attr("opacity",0)}).remove():Oe.exit().remove()},at=function(Oe){var Ze=Oe.transform;return Oe.x0!==Oe.x1&&Oe.y0!==Oe.y1&&t(x.type,Ze,i),C.getTextTransform({textX:Ze.textX,textY:Ze.textY,anchorX:Ze.anchorX,anchorY:Ze.anchorY,targetX:Ze.targetX,targetY:Ze.targetY,scale:Ze.scale,rotate:Ze.rotate})};I&&(o.each(function(Oe){Y[f(Oe)]={x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1},Oe.transform&&(Y[f(Oe)].transform={textX:Oe.transform.textX,textY:Oe.transform.textY,anchorX:Oe.transform.anchorX,anchorY:Oe.transform.anchorY,targetX:Oe.transform.targetX,targetY:Oe.transform.targetY,scale:Oe.transform.scale,rotate:Oe.transform.rotate})}),_.each(function(Oe){re[f(Oe)]={x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1},Oe.transform&&(re[f(Oe)].transform={textX:Oe.transform.textX,textY:Oe.transform.textY,anchorX:Oe.transform.anchorX,anchorY:Oe.transform.anchorY,targetX:Oe.transform.targetX,targetY:Oe.transform.targetY,scale:Oe.transform.scale,rotate:Oe.transform.rotate}),!Z&&n.isEntry(Oe)&&(Z=Oe)})),X=c(l,m,S,_,{width:F,height:O,viewX:ue,viewY:ae,pathSlice:rt,toMoveInsideSlice:tt,prevEntry:Z,makeUpdateSliceInterpolator:mt,makeUpdateTextInterpolator:wt,handleSlicesExit:Lt,hasTransition:I,strTransform:at}),x.pathbar.visible?a(l,m,S,o,{barDifY:ne,width:B,height:W,viewX:Ce,viewY:Ae,pathSlice:Re,toMoveInsideSlice:tt,makeUpdateSliceInterpolator:mt,makeUpdateTextInterpolator:wt,handleSlicesExit:Lt,hasTransition:I,strTransform:at}):o.remove()}},66192:function(H,U,e){var p=e(33428),L=e(76308),n=e(3400),C=e(78176),T=e(82744).resizeText,v=e(60404);function g(t){var s=t._fullLayout._treemaplayer.selectAll(".trace");T(t,s,"treemap"),s.each(function(a){var f=p.select(this),u=a[0],l=u.trace;f.style("opacity",l.opacity),f.selectAll("path.surface").each(function(m){p.select(this).call(r,m,l,t,{hovered:!1})})})}function r(t,s,a,f,u){var l=(u||{}).hovered,m=s.data.data,h=m.i,M,c,i=m.color,d=C.isHierarchyRoot(s),x=1;if(l)M=a._hovered.marker.line.color,c=a._hovered.marker.line.width;else if(d&&i===a.root.color)x=100,M="rgba(0,0,0,0)",c=0;else if(M=n.castOption(a,h,"marker.line.color")||L.defaultLine,c=n.castOption(a,h,"marker.line.width")||0,!a._hasColorscale&&!s.onPathbar){var A=a.marker.depthfade;if(A){var E=L.combine(L.addOpacity(a._backgroundColor,.75),i),y;if(A===!0){var S=C.getMaxDepth(a);isFinite(S)?C.isLeaf(s)?y=0:y=a._maxVisibleLayers-(s.data.depth-a._entryDepth):y=s.data.height+1}else y=s.data.depth-a._entryDepth,a._atRootLevel||y++;if(y>0)for(var w=0;w<y;w++){var o=.5*w/y;i=L.combine(L.addOpacity(E,o),i)}}}t.call(v,s,a,f,i).style("stroke-width",c).call(L.stroke,M).style("opacity",x)}H.exports={style:g,styleOne:r}},13988:function(H,U,e){var p=e(63188),L=e(92880).extendFlat,n=e(29736).axisHoverFormat;H.exports={y:p.y,x:p.x,x0:p.x0,y0:p.y0,xhoverformat:n("x"),yhoverformat:n("y"),name:L({},p.name,{}),orientation:L({},p.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,points:L({},p.boxpoints,{}),jitter:L({},p.jitter,{}),pointpos:L({},p.pointpos,{}),width:L({},p.width,{}),marker:p.marker,text:p.text,hovertext:p.hovertext,hovertemplate:p.hovertemplate,quartilemethod:p.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},67064:function(H,U,e){var p=e(3400),L=e(54460),n=e(62555),C=e(63800),T=e(39032).BADNUM;H.exports=function(s,a){var f=n(s,a);if(f[0].t.empty)return f;for(var u=s._fullLayout,l=L.getFromId(s,a[a.orientation==="h"?"xaxis":"yaxis"]),m=1/0,h=-1/0,M=0,c=0,i=0;i<f.length;i++){var d=f[i],x=d.pts.map(C.extractVal),A=d.bandwidth=g(a,d,x),E=d.span=r(a,d,l,A);if(d.min===d.max&&A===0)E=d.span=[d.min,d.max],d.density=[{v:1,t:E[0]}],d.bandwidth=A,M=Math.max(M,1);else{var y=E[1]-E[0],S=Math.ceil(y/(A/3)),w=y/S;if(!isFinite(w)||!isFinite(S))return p.error("Something went wrong with computing the violin span"),f[0].t.empty=!0,f;var o=C.makeKDE(d,a,x);d.density=new Array(S);for(var _=0,b=E[0];b<E[1]+w/2;_++,b+=w){var I=o(b);d.density[_]={v:I,t:b},M=Math.max(M,I)}}c=Math.max(c,x.length),m=Math.min(m,E[0]),h=Math.max(h,E[1])}var D=L.findExtremes(l,[m,h],{padded:!0});if(a._extremes[l._id]=D,a.width)f[0].t.maxKDE=M;else{var N=u._violinScaleGroupStats,k=a.scalegroup,z=N[k];z?(z.maxKDE=Math.max(z.maxKDE,M),z.maxCount=Math.max(z.maxCount,c)):N[k]={maxKDE:M,maxCount:c}}return f[0].t.labels.kde=p._(s,"kde:"),f};function v(t,s,a){var f=Math.min(s,a/1.349);return 1.059*f*Math.pow(t,-.2)}function g(t,s,a){var f=s.max-s.min;if(!f)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,f/1e4);var u=a.length,l=p.stdev(a,u-1,s.mean);return Math.max(v(u,l,s.q3-s.q1),f/100)}function r(t,s,a,f){var u=t.spanmode,l=t.span||[],m=[s.min,s.max],h=[s.min-2*f,s.max+2*f],M;function c(d){var x=l[d],A=a.type==="multicategory"?a.r2c(x):a.d2c(x,0,t[s.valLetter+"calendar"]);return A===T?h[d]:A}u==="soft"?M=h:u==="hard"?M=m:M=[c(0),c(1)];var i={type:"linear",range:M};return L.setConvert(i),i.cleanRange(),M}},14348:function(H,U,e){var p=e(96404).setPositionOffset,L=["v","h"];H.exports=function(C,T){for(var v=C.calcdata,g=T.xaxis,r=T.yaxis,t=0;t<L.length;t++){for(var s=L[t],a=s==="h"?r:g,f=[],u=0;u<v.length;u++){var l=v[u],m=l[0].t,h=l[0].trace;h.visible===!0&&h.type==="violin"&&!m.empty&&h.orientation===s&&h.xaxis===g._id&&h.yaxis===r._id&&f.push(u)}p("violin",C,f,a)}}},36240:function(H,U,e){var p=e(3400),L=e(76308),n=e(90624),C=e(13988);H.exports=function(v,g,r,t){function s(w,o){return p.coerce(v,g,C,w,o)}function a(w,o){return p.coerce2(v,g,C,w,o)}if(n.handleSampleDefaults(v,g,s,t),g.visible!==!1){s("bandwidth"),s("side");var f=s("width");f||(s("scalegroup",g.name),s("scalemode"));var u=s("span"),l;Array.isArray(u)&&(l="manual"),s("spanmode",l);var m=s("line.color",(v.marker||{}).color||r),h=s("line.width"),M=s("fillcolor",L.addOpacity(g.line.color,.5));n.handlePointsDefaults(v,g,s,{prefix:""});var c=a("box.width"),i=a("box.fillcolor",M),d=a("box.line.color",m),x=a("box.line.width",h),A=s("box.visible",!!(c||i||d||x));A||(g.box={visible:!1});var E=a("meanline.color",m),y=a("meanline.width",h),S=s("meanline.visible",!!(E||y));S||(g.meanline={visible:!1}),s("quartilemethod")}}},63800:function(H,U,e){var p=e(3400),L={gaussian:function(n){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*n*n)}};U.makeKDE=function(n,C,T){var v=T.length,g=L.gaussian,r=n.bandwidth,t=1/(v*r);return function(s){for(var a=0,f=0;f<v;f++)a+=g((s-T[f])/r);return t*a}},U.getPositionOnKdePath=function(n,C,T){var v,g;C.orientation==="h"?(v="y",g="x"):(v="x",g="y");var r=p.findPointOnPath(n.path,T,g,{pathLength:n.pathLength}),t=n.posCenterPx,s=r[v],a=C.side==="both"?2*t-s:t;return[s,a]},U.getKdeValue=function(n,C,T){var v=n.pts.map(U.extractVal),g=U.makeKDE(n,C,v);return g(T)/n.posDensityScale},U.extractVal=function(n){return n.v}},78e3:function(H,U,e){var p=e(76308),L=e(3400),n=e(54460),C=e(27576),T=e(63800);H.exports=function(g,r,t,s,a){a||(a={});var f=a.hoverLayer,u=g.cd,l=u[0].trace,m=l.hoveron,h=m.indexOf("violins")!==-1,M=m.indexOf("kde")!==-1,c=[],i,d;if(h||M){var x=C.hoverOnBoxes(g,r,t,s);if(M&&x.length>0){var A=g.xa,E=g.ya,y,S,w,o,_;l.orientation==="h"?(_=r,y="y",w=E,S="x",o=A):(_=t,y="x",w=A,S="y",o=E);var b=u[g.index];if(_>=b.span[0]&&_<=b.span[1]){var I=L.extendFlat({},g),D=o.c2p(_,!0),N=T.getKdeValue(b,l,_),k=T.getPositionOnKdePath(b,l,D),z=w._offset,F=w._length;I[y+"0"]=k[0],I[y+"1"]=k[1],I[S+"0"]=I[S+"1"]=D,I[S+"Label"]=S+": "+n.hoverLabelText(o,_,l[S+"hoverformat"])+", "+u[0].t.labels.kde+" "+N.toFixed(3);for(var O=0,B=0;B<x.length;B++)if(x[B].attr==="med"){O=B;break}I.spikeDistance=x[O].spikeDistance;var W=y+"Spike";I[W]=x[O][W],x[O].spikeDistance=void 0,x[O][W]=void 0,I.hovertemplate=!1,c.push(I),d={},d[y+"1"]=L.constrain(z+k[0],z,z+F),d[y+"2"]=L.constrain(z+k[1],z,z+F),d[S+"1"]=d[S+"2"]=o._offset+D}}h&&(c=c.concat(x))}m.indexOf("points")!==-1&&(i=C.hoverOnPoints(g,r,t));var ee=f.selectAll(".violinline-"+l.uid).data(d?[0]:[]);return ee.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),ee.exit().remove(),ee.attr(d).call(p.stroke,g.color),s==="closest"?i?[i]:c:(i&&c.push(i),c)}},22869:function(H,U,e){H.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(H,U,e){var p=e(16560),L=e(3400).extendFlat;H.exports={violinmode:L({},p.boxmode,{}),violingap:L({},p.boxgap,{}),violingroupgap:L({},p.boxgroupgap,{})}},8939:function(H,U,e){var p=e(3400),L=e(98228),n=e(68832);H.exports=function(T,v,g){function r(t,s){return p.coerce(T,v,L,t,s)}n._supply(T,v,g,r,"violin")}},5140:function(H,U,e){var p=e(33428),L=e(3400),n=e(43616),C=e(18728),T=e(52340),v=e(63800);H.exports=function(r,t,s,a){var f=r._context.staticPlot,u=r._fullLayout,l=t.xaxis,m=t.yaxis;function h(M,c){var i=T(M,{xaxis:l,yaxis:m,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return n.smoothopen(i[0],1)}L.makeTraceGroups(a,s,"trace violins").each(function(M){var c=p.select(this),i=M[0],d=i.t,x=i.trace;if(x.visible!==!0||d.empty){c.remove();return}var A=d.bPos,E=d.bdPos,y=t[d.valLetter+"axis"],S=t[d.posLetter+"axis"],w=x.side==="both",o=w||x.side==="positive",_=w||x.side==="negative",b=c.selectAll("path.violin").data(L.identity);b.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","violin"),b.exit().remove(),b.each(function(B){var W=p.select(this),ee=B.density,ne=ee.length,Q=S.c2l(B.pos+A,!0),le=S.l2p(Q),Z;if(x.width)Z=d.maxKDE/E;else{var Y=u._violinScaleGroupStats[x.scalegroup];Z=x.scalemode==="count"?Y.maxKDE/E*(Y.maxCount/B.pts.length):Y.maxKDE/E}var re,X,q,se,$,j,ue;if(o){for(j=new Array(ne),se=0;se<ne;se++)ue=j[se]={},ue[d.posLetter]=Q+ee[se].v/Z,ue[d.valLetter]=y.c2l(ee[se].t,!0);re=h(j,x)}if(_){for(j=new Array(ne),$=0,se=ne-1;$<ne;$++,se--)ue=j[$]={},ue[d.posLetter]=Q-ee[se].v/Z,ue[d.valLetter]=y.c2l(ee[se].t,!0);X=h(j,x)}if(w)q=re+"L"+X.substr(1)+"Z";else{var ae=[le,y.c2p(ee[0].t)],ce=[le,y.c2p(ee[ne-1].t)];x.orientation==="h"&&(ae.reverse(),ce.reverse()),o?q="M"+ae+"L"+re.substr(1)+"L"+ce:q="M"+ce+"L"+X.substr(1)+"L"+ae}W.attr("d",q),B.posCenterPx=le,B.posDensityScale=Z*E,B.path=W.node(),B.pathLength=B.path.getTotalLength()/(w?2:1)});var I=x.box,D=I.width,N=(I.line||{}).width,k,z;w?(k=E*D,z=0):o?(k=[0,E*D/2],z=N*{x:1,y:-1}[d.posLetter]):(k=[E*D/2,0],z=N*{x:-1,y:1}[d.posLetter]),C.plotBoxAndWhiskers(c,{pos:S,val:y},x,{bPos:A,bdPos:k,bPosPxOffset:z}),C.plotBoxMean(c,{pos:S,val:y},x,{bPos:A,bdPos:k,bPosPxOffset:z});var F;!x.box.visible&&x.meanline.visible&&(F=L.identity);var O=c.selectAll("path.meanline").data(F||[]);O.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",f?"none":"non-scaling-stroke"),O.exit().remove(),O.each(function(B){var W=y.c2p(B.mean,!0),ee=v.getPositionOnKdePath(B,x,W);p.select(this).attr("d",x.orientation==="h"?"M"+W+","+ee[0]+"V"+ee[1]:"M"+ee[0]+","+W+"H"+ee[1])}),C.plotPoints(c,{x:l,y:m},x,d)})}},95908:function(H,U,e){var p=e(33428),L=e(76308),n=e(49224).stylePoints;H.exports=function(T){var v=p.select(T).selectAll("g.trace.violins");v.style("opacity",function(g){return g[0].trace.opacity}),v.each(function(g){var r=g[0].trace,t=p.select(this),s=r.box||{},a=s.line||{},f=r.meanline||{},u=f.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(L.stroke,r.line.color).call(L.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",a.width+"px").call(L.stroke,a.color).call(L.fill,s.fillcolor);var l={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(l).call(L.stroke,f.color),t.selectAll("path.meanline").style(l).call(L.stroke,f.color),n(t,r,T)})}},58168:function(H,U,e){var p=e(49084),L=e(50048),n=e(16716),C=e(45464),T=e(92880).extendFlat,v=e(67824).overrideAll,g=H.exports=v(T({x:L.x,y:L.y,z:L.z,value:L.value,isomin:L.isomin,isomax:L.isomax,surface:L.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:L.slices,caps:L.caps,text:L.text,hovertext:L.hovertext,xhoverformat:L.xhoverformat,yhoverformat:L.yhoverformat,zhoverformat:L.zhoverformat,valuehoverformat:L.valuehoverformat,hovertemplate:L.hovertemplate},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:L.colorbar,opacity:L.opacity,opacityscale:n.opacityscale,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:T({},C.hoverinfo),showlegend:T({},C.showlegend,{dflt:!1})}),"calc","nested");g.x.editType=g.y.editType=g.z.editType=g.value.editType="calc+clearAxisTypes",g.transforms=void 0},91976:function(H,U,e){var p=e(67792).gl_mesh3d,L=e(33040).parseColorScale,n=e(3400).isArrayOrTypedArray,C=e(43080),T=e(8932).extractOpts,v=e(52094),g=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(f,u,l){this.scene=f,this.uid=l,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var s=t.prototype;s.handlePick=function(f){if(f.object===this.mesh){var u=f.data.index,l=this.data._meshX[u],m=this.data._meshY[u],h=this.data._meshZ[u],M=this.data._Ys.length,c=this.data._Zs.length,i=g(l,this.data._Xs).id,d=g(m,this.data._Ys).id,x=g(h,this.data._Zs).id,A=f.index=x+c*d+c*M*i;f.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var E=this.data.hovertext||this.data.text;return n(E)&&E[A]!==void 0?f.textLabel=E[A]:E&&(f.textLabel=E),!0}},s.update=function(f){var u=this.scene,l=u.fullSceneLayout;this.data=r(f);function m(d,x,A,E){return x.map(function(y){return d.d2l(y,0,E)*A})}var h=v(m(l.xaxis,f._meshX,u.dataScale[0],f.xcalendar),m(l.yaxis,f._meshY,u.dataScale[1],f.ycalendar),m(l.zaxis,f._meshZ,u.dataScale[2],f.zcalendar)),M=v(f._meshI,f._meshJ,f._meshK),c={positions:h,cells:M,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,opacityscale:f.opacityscale,contourEnable:f.contour.show,contourColor:C(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},i=T(f);c.vertexIntensity=f._meshIntensity,c.vertexIntensityBounds=[i.min,i.max],c.colormap=L(f),this.mesh.update(c)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function a(f,u){var l=f.glplot.gl,m=p({gl:l}),h=new t(f,m,u.uid);return m._trace=h,h.update(u),f.glplot.add(m),h}H.exports=a},12448:function(H,U,e){var p=e(3400),L=e(58168),n=e(70548).supplyIsoDefaults,C=e(60192).opacityscaleDefaults;H.exports=function(v,g,r,t){function s(a,f){return p.coerce(v,g,L,a,f)}n(v,g,r,t,s),C(v,g,t,s)}},67776:function(H,U,e){H.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(H,U,e){var p=e(20832),L=e(52904).line,n=e(45464),C=e(29736).axisHoverFormat,T=e(21776).Ks,v=e(21776).Gw,g=e(10213),r=e(92880).extendFlat,t=e(76308);function s(a){return{marker:{color:r({},p.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},p.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},p.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}H.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:T({},{keys:g.eventDataKeys}),hoverinfo:r({},n.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:g.eventDataKeys.concat(["label"])}),text:p.text,textposition:p.textposition,insidetextanchor:p.insidetextanchor,textangle:p.textangle,textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:p.orientation,offset:p.offset,width:p.width,increasing:s(),decreasing:s(),totals:s(),connector:{line:{color:r({},L.color,{dflt:t.defaultLine}),width:r({},L.width,{editType:"plot"}),dash:L.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup}},73540:function(H,U,e){var p=e(54460),L=e(1220),n=e(3400).mergeArray,C=e(4500),T=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function g(r){return r==="t"||r==="total"}H.exports=function(t,s){var a=p.getFromId(t,s.xaxis||"x"),f=p.getFromId(t,s.yaxis||"y"),u,l,m,h,M,c;s.orientation==="h"?(u=a.makeCalcdata(s,"x"),m=f.makeCalcdata(s,"y"),h=L(s,f,"y",m),M=!!s.yperiodalignment,c="y"):(u=f.makeCalcdata(s,"y"),m=a.makeCalcdata(s,"x"),h=L(s,a,"x",m),M=!!s.xperiodalignment,c="x"),l=h.vals;for(var i=Math.min(l.length,u.length),d=new Array(i),x=0,A,E=!1,y=0;y<i;y++){var S=u[y]||0,w=!1;(u[y]!==T||g(s.measure[y])||v(s.measure[y]))&&y+1<i&&(u[y+1]!==T||g(s.measure[y+1])||v(s.measure[y+1]))&&(w=!0);var o=d[y]={i:y,p:l[y],s:S,rawS:S,cNext:w};v(s.measure[y])?(x=o.s,o.isSum=!0,o.dir="totals",o.s=x):g(s.measure[y])?(o.isSum=!0,o.dir="totals",o.s=x):(o.isSum=!1,o.dir=o.rawS<0?"decreasing":"increasing",A=o.s,o.s=x+A,x+=A),o.dir==="totals"&&(E=!0),M&&(d[y].orig_p=m[y],d[y][c+"End"]=h.ends[y],d[y][c+"Start"]=h.starts[y]),s.ids&&(o.id=String(s.ids[y])),o.v=(s.base||0)+x}return d.length&&(d[0].hasTotals=E),n(s.text,d,"tx"),n(s.hovertext,d,"htx"),C(d,s),d}},10213:function(H){H.exports={eventDataKeys:["initial","delta","final"]}},50152:function(H,U,e){var p=e(96376).setGroupPositions;H.exports=function(n,C){var T=n._fullLayout,v=n._fullData,g=n.calcdata,r=C.xaxis,t=C.yaxis,s=[],a=[],f=[],u,l;for(l=0;l<v.length;l++){var m=v[l];m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="waterfall"&&(u=g[l],m.orientation==="h"?f.push(u):a.push(u),s.push(u))}var h={mode:T.waterfallmode,norm:T.waterfallnorm,gap:T.waterfallgap,groupgap:T.waterfallgroupgap};for(p(n,r,t,a,h),p(n,t,r,f,h),l=0;l<s.length;l++){u=s[l];for(var M=0;M<u.length;M++){var c=u[M];c.isSum===!1&&(c.s0+=M===0?0:u[M-1].s),M+1<u.length&&(u[M].nextP0=u[M+1].p0,u[M].nextS0=u[M+1].s0)}}}},24224:function(H,U,e){var p=e(3400),L=e(20011),n=e(31508).handleText,C=e(43980),T=e(31147),v=e(65776),g=e(76308),r=e(48164),t=r.INCREASING.COLOR,s=r.DECREASING.COLOR,a="#4499FF";function f(m,h,M){m(h+".marker.color",M),m(h+".marker.line.color",g.defaultLine),m(h+".marker.line.width")}function u(m,h,M,c){function i(y,S){return p.coerce(m,h,v,y,S)}var d=C(m,h,c,i);if(!d){h.visible=!1;return}T(m,h,c,i),i("xhoverformat"),i("yhoverformat"),i("measure"),i("orientation",h.x&&!h.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var x=i("textposition");n(m,h,c,i,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(i("texttemplate"),h.texttemplate||i("textinfo")),f(i,"increasing",t),f(i,"decreasing",s),f(i,"totals",a);var A=i("connector.visible");if(A){i("connector.mode");var E=i("connector.line.width");E&&(i("connector.line.color"),i("connector.line.dash"))}}function l(m,h){var M,c;function i(x){return p.coerce(c._input,c,v,x)}if(h.waterfallmode==="group")for(var d=0;d<m.length;d++)c=m[d],M=c._input,L(M,c,h,i)}H.exports={supplyDefaults:u,crossTraceDefaults:l}},53256:function(H){H.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"initial"in p&&(e.initial=p.initial),"delta"in p&&(e.delta=p.delta),"final"in p&&(e.final=p.final),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},94196:function(H,U,e){var p=e(54460).hoverLabelText,L=e(76308).opacity,n=e(63400).hoverOnBars,C=e(48164),T={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};H.exports=function(r,t,s,a,f){var u=n(r,t,s,a,f);if(!u)return;var l=u.cd,m=l[0].trace,h=m.orientation==="h",M=h?"x":"y",c=h?r.xa:r.ya;function i(b){return p(c,b,m[M+"hoverformat"])}var d=u.index,x=l[d],A=x.isSum?x.b+x.s:x.rawS;u.initial=x.b+x.s-A,u.delta=A,u.final=u.initial+u.delta;var E=i(Math.abs(u.delta));u.deltaLabel=A<0?"("+E+")":E,u.finalLabel=i(u.final),u.initialLabel=i(u.initial);var y=x.hi||m.hoverinfo,S=[];if(y&&y!=="none"&&y!=="skip"){var w=y==="all",o=y.split("+"),_=function(b){return w||o.indexOf(b)!==-1};x.isSum||(_("final")&&(h?!_("x"):!_("y"))&&S.push(u.finalLabel),_("delta")&&(A<0?S.push(u.deltaLabel+" "+T.decreasing):S.push(u.deltaLabel+" "+T.increasing)),_("initial")&&S.push("Initial: "+u.initialLabel))}return S.length&&(u.extraText=S.join("<br>")),u.color=v(m,x),[u]};function v(g,r){var t=g[r.dir].marker,s=t.color,a=t.line.color,f=t.line.width;if(L(s))return s;if(L(a)&&f)return a}},95952:function(H,U,e){H.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(H){H.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(H,U,e){var p=e(3400),L=e(91352);H.exports=function(n,C,T){var v=!1;function g(s,a){return p.coerce(n,C,L,s,a)}for(var r=0;r<T.length;r++){var t=T[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(g("waterfallmode"),g("waterfallgap",.2),g("waterfallgroupgap"))}},64488:function(H,U,e){var p=e(33428),L=e(3400),n=e(43616),C=e(39032).BADNUM,T=e(98184),v=e(82744).clearMinTextSize;H.exports=function(s,a,f,u){var l=s._fullLayout;v("waterfall",l),T.plot(s,a,f,u,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),g(s,a,f,u)};function g(t,s,a,f){var u=s.xaxis,l=s.yaxis;L.makeTraceGroups(f,a,"trace bars").each(function(m){var h=p.select(this),M=m[0].trace,c=L.ensureSingle(h,"g","lines");if(!M.connector||!M.connector.visible){c.remove();return}var i=M.orientation==="h",d=M.connector.mode,x=c.selectAll("g.line").data(L.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var A=x.size();x.each(function(E,y){if(!(y!==A-1&&!E.cNext)){var S=r(E,u,l,i),w=S[0],o=S[1],_="";w[0]!==C&&o[0]!==C&&w[1]!==C&&o[1]!==C&&(d==="spanning"&&!E.isSum&&y>0&&(i?_+="M"+w[0]+","+o[1]+"V"+o[0]:_+="M"+w[1]+","+o[0]+"H"+w[0]),d!=="between"&&(E.isSum||y<A-1)&&(i?_+="M"+w[1]+","+o[0]+"V"+o[1]:_+="M"+w[0]+","+o[1]+"H"+w[1]),w[2]!==C&&o[2]!==C&&(i?_+="M"+w[1]+","+o[1]+"V"+o[2]:_+="M"+w[1]+","+o[1]+"H"+w[2])),_===""&&(_="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",_).call(n.setClipUrl,s.layerClipId,t)}})})}function r(t,s,a,f){var u=[],l=[],m=f?s:a,h=f?a:s;return u[0]=m.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),u[1]=m.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),u[2]=m.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),f?[u,l]:[l,u]}},12252:function(H,U,e){var p=e(33428),L=e(43616),n=e(76308),C=e(13448).DESELECTDIM,T=e(60100),v=e(82744).resizeText,g=T.styleTextPoints;function r(t,s,a){var f=a||p.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");v(t,f,"waterfall"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=p.select(this),m=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var M=m[h.dir].marker;p.select(this).call(n.fill,M.color).call(n.stroke,M.line.color).call(L.dashLine,M.line.dash,M.line.width).style("opacity",m.selectedpoints&&!h.selected?C:1)}}),g(l,m,t),l.selectAll(".lines").each(function(){var h=m.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),h.width,h.color,h.dash)})})}H.exports={style:r}},84224:function(H,U,e){var p=e(54460),L=e(3400),n=e(73060),C=e(60468).W,T=e(39032).BADNUM;U.moduleType="transform",U.name="aggregate";var v=U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},g=v.aggregations;U.supplyDefaults=function(u,l){var m={},h;function M(b,I){return L.coerce(u,m,v,b,I)}var c=M("enabled");if(!c)return m;var i=n.findArrayAttributes(l),d={};for(h=0;h<i.length;h++)d[i[h]]=1;var x=M("groups");if(!Array.isArray(x)){if(!d[x])return m.enabled=!1,m;d[x]=0}var A=u.aggregations||[],E=m.aggregations=new Array(A.length),y;function S(b,I){return L.coerce(A[h],y,g,b,I)}for(h=0;h<A.length;h++){y={_index:h};var w=S("target"),o=S("func"),_=S("enabled");_&&w&&(d[w]||o==="count"&&d[w]===void 0)?(o==="stddev"&&S("funcmode"),d[w]=0,E[h]=y):E[h]={enabled:!1,_index:h}}for(h=0;h<i.length;h++)d[i[h]]&&E.push({target:i[h],func:g.func.dflt,enabled:!0,_index:-1});return m},U.calcTransform=function(u,l,m){if(m.enabled){var h=m.groups,M=L.getTargetArray(l,{target:h});if(M){var c,i,d,x,A={},E={},y=[],S=C(l.transforms,m),w=M.length;for(l._length&&(w=Math.min(w,l._length)),c=0;c<w;c++)i=M[c],d=A[i],d===void 0?(A[i]=y.length,x=[c],y.push(x),E[A[i]]=S(c)):(y[d].push(c),E[A[i]]=(E[A[i]]||[]).concat(S(c)));m._indexToPoints=E;var o=m.aggregations;for(c=0;c<o.length;c++)r(u,l,y,o[c]);typeof h=="string"&&r(u,l,y,{target:h,func:"first",enabled:!0}),l._length=y.length}}};function r(u,l,m,h){if(h.enabled){for(var M=h.target,c=L.nestedProperty(l,M),i=c.get(),d=p.getDataConversions(u,l,M,i),x=t(h,d),A=new Array(m.length),E=0;E<m.length;E++)A[E]=x(i,m[E]);c.set(A),h.func==="count"&&L.pushUnique(l._arrayAttrs,M)}}function t(u,l){var m=u.func,h=l.d2c,M=l.c2d;switch(m){case"count":return s;case"first":return a;case"last":return f;case"sum":return function(c,i){for(var d=0,x=0;x<i.length;x++){var A=h(c[i[x]]);A!==T&&(d+=A)}return M(d)};case"avg":return function(c,i){for(var d=0,x=0,A=0;A<i.length;A++){var E=h(c[i[A]]);E!==T&&(d+=E,x++)}return x?M(d/x):T};case"min":return function(c,i){for(var d=1/0,x=0;x<i.length;x++){var A=h(c[i[x]]);A!==T&&(d=Math.min(d,A))}return d===1/0?T:M(d)};case"max":return function(c,i){for(var d=-1/0,x=0;x<i.length;x++){var A=h(c[i[x]]);A!==T&&(d=Math.max(d,A))}return d===-1/0?T:M(d)};case"range":return function(c,i){for(var d=1/0,x=-1/0,A=0;A<i.length;A++){var E=h(c[i[A]]);E!==T&&(d=Math.min(d,E),x=Math.max(x,E))}return x===-1/0||d===1/0?T:M(x-d)};case"change":return function(c,i){var d=h(c[i[0]]),x=h(c[i[i.length-1]]);return d===T||x===T?T:M(x-d)};case"median":return function(c,i){for(var d=[],x=0;x<i.length;x++){var A=h(c[i[x]]);A!==T&&d.push(A)}if(!d.length)return T;d.sort(L.sorterAsc);var E=(d.length-1)/2;return M((d[Math.floor(E)]+d[Math.ceil(E)])/2)};case"mode":return function(c,i){for(var d={},x=0,A=T,E=0;E<i.length;E++){var y=h(c[i[E]]);if(y!==T){var S=d[y]=(d[y]||0)+1;S>x&&(x=S,A=y)}}return x?M(A):T};case"rms":return function(c,i){for(var d=0,x=0,A=0;A<i.length;A++){var E=h(c[i[A]]);E!==T&&(d+=E*E,x++)}return x?M(Math.sqrt(d/x)):T};case"stddev":return function(c,i){var d=0,x=0,A=1,E=T,y;for(y=0;y<i.length&&E===T;y++)E=h(c[i[y]]);if(E===T)return T;for(;y<i.length;y++){var S=h(c[i[y]]);if(S!==T){var w=S-E;d+=w,x+=w*w,A++}}var o=u.funcmode==="sample"?A-1:A;return o?Math.sqrt((x-d*d/A)/o):0}}}function s(u,l){return l.length}function a(u,l){return u[l[0]]}function f(u,l){return u[l[l.length-1]]}},76744:function(H,U,e){var p=e(3400),L=e(24040),n=e(54460),C=e(60468).W,T=e(69104),v=T.COMPARISON_OPS,g=T.INTERVAL_OPS,r=T.SET_OPS;U.moduleType="transform",U.name="filter",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(g).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},U.supplyDefaults=function(s){var a={};function f(h,M){return p.coerce(s,a,U.attributes,h,M)}var u=f("enabled");if(u){var l=f("target");if(p.isArrayOrTypedArray(l)&&l.length===0)return a.enabled=!1,a;f("preservegaps"),f("operation"),f("value");var m=L.getComponentMethod("calendars","handleDefaults");m(s,a,"valuecalendar",null),m(s,a,"targetcalendar",null)}return a},U.calcTransform=function(s,a,f){if(!f.enabled)return;var u=p.getTargetArray(a,f);if(!u)return;var l=f.target,m=u.length;a._length&&(m=Math.min(m,a._length));var h=f.targetcalendar,M=a._arrayAttrs,c=f.preservegaps;if(typeof l=="string"){var i=p.nestedProperty(a,l+"calendar").get();i&&(h=i)}var d=n.getDataToCoordFunc(s,a,l,u),x=t(f,d,h),A={},E={},y=0;function S(D,N){for(var k=0;k<M.length;k++){var z=p.nestedProperty(a,M[k]);D(z,N)}}var w,o;c?(w=function(D){A[D.astr]=p.extendDeep([],D.get()),D.set(new Array(m))},o=function(D,N){var k=A[D.astr][N];D.get()[N]=k}):(w=function(D){A[D.astr]=p.extendDeep([],D.get()),D.set([])},o=function(D,N){var k=A[D.astr][N];D.get().push(k)}),S(w);for(var _=C(a.transforms,f),b=0;b<m;b++){var I=x(u[b]);I?(S(o,b),E[y++]=_(b)):c&&y++}f._indexToPoints=E,a._length=y};function t(s,a,f){var u=s.operation,l=s.value,m=p.isArrayOrTypedArray(l);function h(d){return d.indexOf(u)!==-1}var M=function(d){return a(d,0,s.valuecalendar)},c=function(d){return a(d,0,f)},i;switch(h(v)?i=M(m?l[0]:l):h(g)?i=m?[M(l[0]),M(l[1])]:[M(l),M(l)]:h(r)&&(i=m?l.map(M):[M(l)]),u){case"=":return function(d){return c(d)===i};case"!=":return function(d){return c(d)!==i};case"<":return function(d){return c(d)<i};case"<=":return function(d){return c(d)<=i};case">":return function(d){return c(d)>i};case">=":return function(d){return c(d)>=i};case"[]":return function(d){var x=c(d);return x>=i[0]&&x<=i[1]};case"()":return function(d){var x=c(d);return x>i[0]&&x<i[1]};case"[)":return function(d){var x=c(d);return x>=i[0]&&x<i[1]};case"(]":return function(d){var x=c(d);return x>i[0]&&x<=i[1]};case"][":return function(d){var x=c(d);return x<=i[0]||x>=i[1]};case")(":return function(d){var x=c(d);return x<i[0]||x>i[1]};case"](":return function(d){var x=c(d);return x<=i[0]||x>i[1]};case")[":return function(d){var x=c(d);return x<i[0]||x>=i[1]};case"{}":return function(d){return i.indexOf(c(d))!==-1};case"}{":return function(d){return i.indexOf(c(d))===-1}}}},32028:function(H,U,e){var p=e(3400),L=e(73060),n=e(7316),C=e(60468).W;U.moduleType="transform",U.name="groupby",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},U.supplyDefaults=function(v,g,r){var t,s={};function a(M,c){return p.coerce(v,s,U.attributes,M,c)}var f=a("enabled");if(!f)return s;a("groups"),a("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,l=s.styles=[];if(u)for(t=0;t<u.length;t++){var m=l[t]={};p.coerce(u[t],l[t],U.attributes.styles,"target");var h=p.coerce(u[t],l[t],U.attributes.styles,"value");p.isPlainObject(h)?m.value=p.extendDeep({},h):h&&delete m.value}return s},U.transform=function(v,g){var r,t,s,a=[];for(t=0;t<v.length;t++)for(r=T(v[t],g),s=0;s<r.length;s++)a.push(r[s]);return a};function T(v,g){var r,t,s,a,f,u,l,m,h,M,c=g.transform,i=g.transformIndex,d=v.transforms[i].groups,x=C(v.transforms,c);if(!p.isArrayOrTypedArray(d)||d.length===0)return[v];var A=p.filterUnique(d),E=new Array(A.length),y=d.length,S=L.findArrayAttributes(v),w=c.styles||[],o={};for(r=0;r<w.length;r++)o[w[r].target]=w[r].value;c.styles&&(M=p.keyedContainer(c,"styles","target","value.name"));var _={},b={};for(r=0;r<A.length;r++){u=A[r],_[u]=r,b[u]=0,l=E[r]=p.extendDeepNoArrays({},v),l._group=u,l.transforms[i]._indexToPoints={};var I=null;for(M&&(I=M.get(u)),I||I===""?l.name=I:l.name=p.templateString(c.nameformat,{trace:v.name,group:u}),m=l.transforms,l.transforms=[],t=0;t<m.length;t++)l.transforms[t]=p.extendDeepNoArrays({},m[t]);for(t=0;t<S.length;t++)p.nestedProperty(l,S[t]).set([])}for(s=0;s<S.length;s++){for(a=S[s],t=0,h=[];t<A.length;t++)h[t]=p.nestedProperty(E[t],a).get();for(f=p.nestedProperty(v,a).get(),t=0;t<y;t++)h[_[d[t]]].push(f[t])}for(t=0;t<y;t++){l=E[_[d[t]]];var D=l.transforms[i]._indexToPoints;D[b[d[t]]]=x(t),b[d[t]]++}for(r=0;r<A.length;r++)u=A[r],l=E[r],n.clearExpandedTraceDefaultColors(l),l=p.extendDeepNoArrays(l,o[u]||{});return E}},60468:function(H,U){U.W=function(e,p){for(var L,n,C=0;C<e.length&&(L=e[C],L!==p);C++)!L._indexToPoints||L.enabled===!1||(n=L._indexToPoints);var T=n?function(v){return n[v]}:function(v){return[v]};return T}},76272:function(H,U,e){var p=e(3400),L=e(54460),n=e(60468).W,C=e(39032).BADNUM;U.moduleType="transform",U.name="sort",U.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},U.supplyDefaults=function(g){var r={};function t(a,f){return p.coerce(g,r,U.attributes,a,f)}var s=t("enabled");return s&&(t("target"),t("order")),r},U.calcTransform=function(g,r,t){if(t.enabled){var s=p.getTargetArray(r,t);if(s){var a=t.target,f=s.length;r._length&&(f=Math.min(f,r._length));var u=r._arrayAttrs,l=L.getDataToCoordFunc(g,r,a,s),m=T(t,s,l,f),h=n(r.transforms,t),M={},c,i;for(c=0;c<u.length;c++){var d=p.nestedProperty(r,u[c]),x=d.get(),A=new Array(f);for(i=0;i<f;i++)A[i]=x[m[i]];d.set(A)}for(i=0;i<f;i++)M[i]=h(m[i]);t._indexToPoints=M,r._length=f}}};function T(g,r,t,s){var a=new Array(s),f=new Array(s),u;for(u=0;u<s;u++)a[u]={v:r[u],i:u};for(a.sort(v(g,t)),u=0;u<s;u++)f[u]=a[u].i;return f}function v(g,r){switch(g.order){case"ascending":return function(t,s){var a=r(t.v),f=r(s.v);return a===C?1:f===C?-1:a-f};case"descending":return function(t,s){var a=r(t.v),f=r(s.v);return a===C?1:f===C?-1:f-a}}}},25788:function(H,U){U.version="2.30.1"},67792:function(H,U,e){var p=e(4168);(function(n,C){H.exports=C()})(self,function(){return function(){var L={7386:function(v,g,r){v.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(v,g,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(be,me){if(!(be instanceof me))throw new TypeError("Cannot call a class as a function")}function s(be,me){for(var _e=0;_e<me.length;_e++){var Ee=me[_e];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(be,Ee.key,Ee)}}function a(be,me,_e){return me&&s(be.prototype,me),_e&&s(be,_e),Object.defineProperty(be,"prototype",{writable:!1}),be}function f(be,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(me&&me.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),Object.defineProperty(be,"prototype",{writable:!1}),me&&u(be,me)}function u(be,me){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ee,Be){return Ee.__proto__=Be,Ee},u(be,me)}function l(be){var me=M();return function(){var Ee=c(be),Be;if(me){var je=c(this).constructor;Be=Reflect.construct(Ee,arguments,je)}else Be=Ee.apply(this,arguments);return m(this,Be)}}function m(be,me){if(me&&(i(me)==="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(be)}function h(be){if(be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(be){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_e){return _e.__proto__||Object.getPrototypeOf(_e)},c(be)}function i(be){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},i(be)}var d=r(3910),x=r(3187),A=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.lW=w,g.h2=50;var E=2147483647;w.TYPED_ARRAY_SUPPORT=y(),!w.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function y(){try{var be=new Uint8Array(1),me={foo:function(){return 42}};return Object.setPrototypeOf(me,Uint8Array.prototype),Object.setPrototypeOf(be,me),be.foo()===42}catch{return!1}}Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}});function S(be){if(be>E)throw new RangeError('The value "'+be+'" is invalid for option "size"');var me=new Uint8Array(be);return Object.setPrototypeOf(me,w.prototype),me}function w(be,me,_e){if(typeof be=="number"){if(typeof me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(be)}return o(be,me,_e)}w.poolSize=8192;function o(be,me,_e){if(typeof be=="string")return D(be,me);if(ArrayBuffer.isView(be))return k(be);if(be==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+i(be));if(Oe(be,ArrayBuffer)||be&&Oe(be.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Oe(be,SharedArrayBuffer)||be&&Oe(be.buffer,SharedArrayBuffer)))return z(be,me,_e);if(typeof be=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=be.valueOf&&be.valueOf();if(Ee!=null&&Ee!==be)return w.from(Ee,me,_e);var Be=F(be);if(Be)return Be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof be[Symbol.toPrimitive]=="function")return w.from(be[Symbol.toPrimitive]("string"),me,_e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+i(be))}w.from=function(be,me,_e){return o(be,me,_e)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array);function _(be){if(typeof be!="number")throw new TypeError('"size" argument must be of type number');if(be<0)throw new RangeError('The value "'+be+'" is invalid for option "size"')}function b(be,me,_e){return _(be),be<=0?S(be):me!==void 0?typeof _e=="string"?S(be).fill(me,_e):S(be).fill(me):S(be)}w.alloc=function(be,me,_e){return b(be,me,_e)};function I(be){return _(be),S(be<0?0:O(be)|0)}w.allocUnsafe=function(be){return I(be)},w.allocUnsafeSlow=function(be){return I(be)};function D(be,me){if((typeof me!="string"||me==="")&&(me="utf8"),!w.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var _e=B(be,me)|0,Ee=S(_e),Be=Ee.write(be,me);return Be!==_e&&(Ee=Ee.slice(0,Be)),Ee}function N(be){for(var me=be.length<0?0:O(be.length)|0,_e=S(me),Ee=0;Ee<me;Ee+=1)_e[Ee]=be[Ee]&255;return _e}function k(be){if(Oe(be,Uint8Array)){var me=new Uint8Array(be);return z(me.buffer,me.byteOffset,me.byteLength)}return N(be)}function z(be,me,_e){if(me<0||be.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(be.byteLength<me+(_e||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return me===void 0&&_e===void 0?Ee=new Uint8Array(be):_e===void 0?Ee=new Uint8Array(be,me):Ee=new Uint8Array(be,me,_e),Object.setPrototypeOf(Ee,w.prototype),Ee}function F(be){if(w.isBuffer(be)){var me=O(be.length)|0,_e=S(me);return _e.length===0||be.copy(_e,0,0,me),_e}if(be.length!==void 0)return typeof be.length!="number"||Ze(be.length)?S(0):N(be);if(be.type==="Buffer"&&Array.isArray(be.data))return N(be.data)}function O(be){if(be>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return be|0}w.isBuffer=function(me){return me!=null&&me._isBuffer===!0&&me!==w.prototype},w.compare=function(me,_e){if(Oe(me,Uint8Array)&&(me=w.from(me,me.offset,me.byteLength)),Oe(_e,Uint8Array)&&(_e=w.from(_e,_e.offset,_e.byteLength)),!w.isBuffer(me)||!w.isBuffer(_e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(me===_e)return 0;for(var Ee=me.length,Be=_e.length,je=0,nt=Math.min(Ee,Be);je<nt;++je)if(me[je]!==_e[je]){Ee=me[je],Be=_e[je];break}return Ee<Be?-1:Be<Ee?1:0},w.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(me,_e){if(!Array.isArray(me))throw new TypeError('"list" argument must be an Array of Buffers');if(me.length===0)return w.alloc(0);var Ee;if(_e===void 0)for(_e=0,Ee=0;Ee<me.length;++Ee)_e+=me[Ee].length;var Be=w.allocUnsafe(_e),je=0;for(Ee=0;Ee<me.length;++Ee){var nt=me[Ee];if(Oe(nt,Uint8Array))je+nt.length>Be.length?(w.isBuffer(nt)||(nt=w.from(nt)),nt.copy(Be,je)):Uint8Array.prototype.set.call(Be,nt,je);else if(w.isBuffer(nt))nt.copy(Be,je);else throw new TypeError('"list" argument must be an Array of Buffers');je+=nt.length}return Be};function B(be,me){if(w.isBuffer(be))return be.length;if(ArrayBuffer.isView(be)||Oe(be,ArrayBuffer))return be.byteLength;if(typeof be!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+i(be));var _e=be.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&_e===0)return 0;for(var Be=!1;;)switch(me){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":return pt(be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e*2;case"hex":return _e>>>1;case"base64":return Lt(be).length;default:if(Be)return Ee?-1:pt(be).length;me=(""+me).toLowerCase(),Be=!0}}w.byteLength=B;function W(be,me,_e){var Ee=!1;if((me===void 0||me<0)&&(me=0),me>this.length||((_e===void 0||_e>this.length)&&(_e=this.length),_e<=0)||(_e>>>=0,me>>>=0,_e<=me))return"";for(be||(be="utf8");;)switch(be){case"hex":return ce(this,me,_e);case"utf8":case"utf-8":return se(this,me,_e);case"ascii":return ue(this,me,_e);case"latin1":case"binary":return ae(this,me,_e);case"base64":return q(this,me,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,me,_e);default:if(Ee)throw new TypeError("Unknown encoding: "+be);be=(be+"").toLowerCase(),Ee=!0}}w.prototype._isBuffer=!0;function ee(be,me,_e){var Ee=be[me];be[me]=be[_e],be[_e]=Ee}w.prototype.swap16=function(){var me=this.length;if(me%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _e=0;_e<me;_e+=2)ee(this,_e,_e+1);return this},w.prototype.swap32=function(){var me=this.length;if(me%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _e=0;_e<me;_e+=4)ee(this,_e,_e+3),ee(this,_e+1,_e+2);return this},w.prototype.swap64=function(){var me=this.length;if(me%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _e=0;_e<me;_e+=8)ee(this,_e,_e+7),ee(this,_e+1,_e+6),ee(this,_e+2,_e+5),ee(this,_e+3,_e+4);return this},w.prototype.toString=function(){var me=this.length;return me===0?"":arguments.length===0?se(this,0,me):W.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(me){if(!w.isBuffer(me))throw new TypeError("Argument must be a Buffer");return this===me?!0:w.compare(this,me)===0},w.prototype.inspect=function(){var me="",_e=g.h2;return me=this.toString("hex",0,_e).replace(/(.{2})/g,"$1 ").trim(),this.length>_e&&(me+=" ... "),"<Buffer "+me+">"},A&&(w.prototype[A]=w.prototype.inspect),w.prototype.compare=function(me,_e,Ee,Be,je){if(Oe(me,Uint8Array)&&(me=w.from(me,me.offset,me.byteLength)),!w.isBuffer(me))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+i(me));if(_e===void 0&&(_e=0),Ee===void 0&&(Ee=me?me.length:0),Be===void 0&&(Be=0),je===void 0&&(je=this.length),_e<0||Ee>me.length||Be<0||je>this.length)throw new RangeError("out of range index");if(Be>=je&&_e>=Ee)return 0;if(Be>=je)return-1;if(_e>=Ee)return 1;if(_e>>>=0,Ee>>>=0,Be>>>=0,je>>>=0,this===me)return 0;for(var nt=je-Be,dt=Ee-_e,xt=Math.min(nt,dt),Kt=this.slice(Be,je),Jt=me.slice(_e,Ee),St=0;St<xt;++St)if(Kt[St]!==Jt[St]){nt=Kt[St],dt=Jt[St];break}return nt<dt?-1:dt<nt?1:0};function ne(be,me,_e,Ee,Be){if(be.length===0)return-1;if(typeof _e=="string"?(Ee=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),_e=+_e,Ze(_e)&&(_e=Be?0:be.length-1),_e<0&&(_e=be.length+_e),_e>=be.length){if(Be)return-1;_e=be.length-1}else if(_e<0)if(Be)_e=0;else return-1;if(typeof me=="string"&&(me=w.from(me,Ee)),w.isBuffer(me))return me.length===0?-1:Q(be,me,_e,Ee,Be);if(typeof me=="number")return me=me&255,typeof Uint8Array.prototype.indexOf=="function"?Be?Uint8Array.prototype.indexOf.call(be,me,_e):Uint8Array.prototype.lastIndexOf.call(be,me,_e):Q(be,[me],_e,Ee,Be);throw new TypeError("val must be string, number or Buffer")}function Q(be,me,_e,Ee,Be){var je=1,nt=be.length,dt=me.length;if(Ee!==void 0&&(Ee=String(Ee).toLowerCase(),Ee==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(be.length<2||me.length<2)return-1;je=2,nt/=2,dt/=2,_e/=2}function xt(rr,_r){return je===1?rr[_r]:rr.readUInt16BE(_r*je)}var Kt;if(Be){var Jt=-1;for(Kt=_e;Kt<nt;Kt++)if(xt(be,Kt)===xt(me,Jt===-1?0:Kt-Jt)){if(Jt===-1&&(Jt=Kt),Kt-Jt+1===dt)return Jt*je}else Jt!==-1&&(Kt-=Kt-Jt),Jt=-1}else for(_e+dt>nt&&(_e=nt-dt),Kt=_e;Kt>=0;Kt--){for(var St=!0,Ft=0;Ft<dt;Ft++)if(xt(be,Kt+Ft)!==xt(me,Ft)){St=!1;break}if(St)return Kt}return-1}w.prototype.includes=function(me,_e,Ee){return this.indexOf(me,_e,Ee)!==-1},w.prototype.indexOf=function(me,_e,Ee){return ne(this,me,_e,Ee,!0)},w.prototype.lastIndexOf=function(me,_e,Ee){return ne(this,me,_e,Ee,!1)};function le(be,me,_e,Ee){_e=Number(_e)||0;var Be=be.length-_e;Ee?(Ee=Number(Ee),Ee>Be&&(Ee=Be)):Ee=Be;var je=me.length;Ee>je/2&&(Ee=je/2);var nt;for(nt=0;nt<Ee;++nt){var dt=parseInt(me.substr(nt*2,2),16);if(Ze(dt))return nt;be[_e+nt]=dt}return nt}function Z(be,me,_e,Ee){return at(pt(me,be.length-_e),be,_e,Ee)}function Y(be,me,_e,Ee){return at(mt(me),be,_e,Ee)}function re(be,me,_e,Ee){return at(Lt(me),be,_e,Ee)}function X(be,me,_e,Ee){return at(wt(me,be.length-_e),be,_e,Ee)}w.prototype.write=function(me,_e,Ee,Be){if(_e===void 0)Be="utf8",Ee=this.length,_e=0;else if(Ee===void 0&&typeof _e=="string")Be=_e,Ee=this.length,_e=0;else if(isFinite(_e))_e=_e>>>0,isFinite(Ee)?(Ee=Ee>>>0,Be===void 0&&(Be="utf8")):(Be=Ee,Ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var je=this.length-_e;if((Ee===void 0||Ee>je)&&(Ee=je),me.length>0&&(Ee<0||_e<0)||_e>this.length)throw new RangeError("Attempt to write outside buffer bounds");Be||(Be="utf8");for(var nt=!1;;)switch(Be){case"hex":return le(this,me,_e,Ee);case"utf8":case"utf-8":return Z(this,me,_e,Ee);case"ascii":case"latin1":case"binary":return Y(this,me,_e,Ee);case"base64":return re(this,me,_e,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,me,_e,Ee);default:if(nt)throw new TypeError("Unknown encoding: "+Be);Be=(""+Be).toLowerCase(),nt=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(be,me,_e){return me===0&&_e===be.length?d.fromByteArray(be):d.fromByteArray(be.slice(me,_e))}function se(be,me,_e){_e=Math.min(be.length,_e);for(var Ee=[],Be=me;Be<_e;){var je=be[Be],nt=null,dt=je>239?4:je>223?3:je>191?2:1;if(Be+dt<=_e){var xt=void 0,Kt=void 0,Jt=void 0,St=void 0;switch(dt){case 1:je<128&&(nt=je);break;case 2:xt=be[Be+1],(xt&192)===128&&(St=(je&31)<<6|xt&63,St>127&&(nt=St));break;case 3:xt=be[Be+1],Kt=be[Be+2],(xt&192)===128&&(Kt&192)===128&&(St=(je&15)<<12|(xt&63)<<6|Kt&63,St>2047&&(St<55296||St>57343)&&(nt=St));break;case 4:xt=be[Be+1],Kt=be[Be+2],Jt=be[Be+3],(xt&192)===128&&(Kt&192)===128&&(Jt&192)===128&&(St=(je&15)<<18|(xt&63)<<12|(Kt&63)<<6|Jt&63,St>65535&&St<1114112&&(nt=St))}}nt===null?(nt=65533,dt=1):nt>65535&&(nt-=65536,Ee.push(nt>>>10&1023|55296),nt=56320|nt&1023),Ee.push(nt),Be+=dt}return j(Ee)}var $=4096;function j(be){var me=be.length;if(me<=$)return String.fromCharCode.apply(String,be);for(var _e="",Ee=0;Ee<me;)_e+=String.fromCharCode.apply(String,be.slice(Ee,Ee+=$));return _e}function ue(be,me,_e){var Ee="";_e=Math.min(be.length,_e);for(var Be=me;Be<_e;++Be)Ee+=String.fromCharCode(be[Be]&127);return Ee}function ae(be,me,_e){var Ee="";_e=Math.min(be.length,_e);for(var Be=me;Be<_e;++Be)Ee+=String.fromCharCode(be[Be]);return Ee}function ce(be,me,_e){var Ee=be.length;(!me||me<0)&&(me=0),(!_e||_e<0||_e>Ee)&&(_e=Ee);for(var Be="",je=me;je<_e;++je)Be+=Je[be[je]];return Be}function ye(be,me,_e){for(var Ee=be.slice(me,_e),Be="",je=0;je<Ee.length-1;je+=2)Be+=String.fromCharCode(Ee[je]+Ee[je+1]*256);return Be}w.prototype.slice=function(me,_e){var Ee=this.length;me=~~me,_e=_e===void 0?Ee:~~_e,me<0?(me+=Ee,me<0&&(me=0)):me>Ee&&(me=Ee),_e<0?(_e+=Ee,_e<0&&(_e=0)):_e>Ee&&(_e=Ee),_e<me&&(_e=me);var Be=this.subarray(me,_e);return Object.setPrototypeOf(Be,w.prototype),Be};function Ce(be,me,_e){if(be%1!==0||be<0)throw new RangeError("offset is not uint");if(be+me>_e)throw new RangeError("Trying to access beyond buffer length")}w.prototype.readUintLE=w.prototype.readUIntLE=function(me,_e,Ee){me=me>>>0,_e=_e>>>0,Ee||Ce(me,_e,this.length);for(var Be=this[me],je=1,nt=0;++nt<_e&&(je*=256);)Be+=this[me+nt]*je;return Be},w.prototype.readUintBE=w.prototype.readUIntBE=function(me,_e,Ee){me=me>>>0,_e=_e>>>0,Ee||Ce(me,_e,this.length);for(var Be=this[me+--_e],je=1;_e>0&&(je*=256);)Be+=this[me+--_e]*je;return Be},w.prototype.readUint8=w.prototype.readUInt8=function(me,_e){return me=me>>>0,_e||Ce(me,1,this.length),this[me]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(me,_e){return me=me>>>0,_e||Ce(me,2,this.length),this[me]|this[me+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(me,_e){return me=me>>>0,_e||Ce(me,2,this.length),this[me]<<8|this[me+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(me,_e){return me=me>>>0,_e||Ce(me,4,this.length),(this[me]|this[me+1]<<8|this[me+2]<<16)+this[me+3]*16777216},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(me,_e){return me=me>>>0,_e||Ce(me,4,this.length),this[me]*16777216+(this[me+1]<<16|this[me+2]<<8|this[me+3])},w.prototype.readBigUInt64LE=Ye(function(me){me=me>>>0,ht(me,"offset");var _e=this[me],Ee=this[me+7];(_e===void 0||Ee===void 0)&&rt(me,this.length-8);var Be=_e+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24),je=this[++me]+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+Ee*Math.pow(2,24);return BigInt(Be)+(BigInt(je)<<BigInt(32))}),w.prototype.readBigUInt64BE=Ye(function(me){me=me>>>0,ht(me,"offset");var _e=this[me],Ee=this[me+7];(_e===void 0||Ee===void 0)&&rt(me,this.length-8);var Be=_e*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me],je=this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+Ee;return(BigInt(Be)<<BigInt(32))+BigInt(je)}),w.prototype.readIntLE=function(me,_e,Ee){me=me>>>0,_e=_e>>>0,Ee||Ce(me,_e,this.length);for(var Be=this[me],je=1,nt=0;++nt<_e&&(je*=256);)Be+=this[me+nt]*je;return je*=128,Be>=je&&(Be-=Math.pow(2,8*_e)),Be},w.prototype.readIntBE=function(me,_e,Ee){me=me>>>0,_e=_e>>>0,Ee||Ce(me,_e,this.length);for(var Be=_e,je=1,nt=this[me+--Be];Be>0&&(je*=256);)nt+=this[me+--Be]*je;return je*=128,nt>=je&&(nt-=Math.pow(2,8*_e)),nt},w.prototype.readInt8=function(me,_e){return me=me>>>0,_e||Ce(me,1,this.length),this[me]&128?(255-this[me]+1)*-1:this[me]},w.prototype.readInt16LE=function(me,_e){me=me>>>0,_e||Ce(me,2,this.length);var Ee=this[me]|this[me+1]<<8;return Ee&32768?Ee|4294901760:Ee},w.prototype.readInt16BE=function(me,_e){me=me>>>0,_e||Ce(me,2,this.length);var Ee=this[me+1]|this[me]<<8;return Ee&32768?Ee|4294901760:Ee},w.prototype.readInt32LE=function(me,_e){return me=me>>>0,_e||Ce(me,4,this.length),this[me]|this[me+1]<<8|this[me+2]<<16|this[me+3]<<24},w.prototype.readInt32BE=function(me,_e){return me=me>>>0,_e||Ce(me,4,this.length),this[me]<<24|this[me+1]<<16|this[me+2]<<8|this[me+3]},w.prototype.readBigInt64LE=Ye(function(me){me=me>>>0,ht(me,"offset");var _e=this[me],Ee=this[me+7];(_e===void 0||Ee===void 0)&&rt(me,this.length-8);var Be=this[me+4]+this[me+5]*Math.pow(2,8)+this[me+6]*Math.pow(2,16)+(Ee<<24);return(BigInt(Be)<<BigInt(32))+BigInt(_e+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24))}),w.prototype.readBigInt64BE=Ye(function(me){me=me>>>0,ht(me,"offset");var _e=this[me],Ee=this[me+7];(_e===void 0||Ee===void 0)&&rt(me,this.length-8);var Be=(_e<<24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me];return(BigInt(Be)<<BigInt(32))+BigInt(this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+Ee)}),w.prototype.readFloatLE=function(me,_e){return me=me>>>0,_e||Ce(me,4,this.length),x.read(this,me,!0,23,4)},w.prototype.readFloatBE=function(me,_e){return me=me>>>0,_e||Ce(me,4,this.length),x.read(this,me,!1,23,4)},w.prototype.readDoubleLE=function(me,_e){return me=me>>>0,_e||Ce(me,8,this.length),x.read(this,me,!0,52,8)},w.prototype.readDoubleBE=function(me,_e){return me=me>>>0,_e||Ce(me,8,this.length),x.read(this,me,!1,52,8)};function Ae(be,me,_e,Ee,Be,je){if(!w.isBuffer(be))throw new TypeError('"buffer" argument must be a Buffer instance');if(me>Be||me<je)throw new RangeError('"value" argument is out of bounds');if(_e+Ee>be.length)throw new RangeError("Index out of range")}w.prototype.writeUintLE=w.prototype.writeUIntLE=function(me,_e,Ee,Be){if(me=+me,_e=_e>>>0,Ee=Ee>>>0,!Be){var je=Math.pow(2,8*Ee)-1;Ae(this,me,_e,Ee,je,0)}var nt=1,dt=0;for(this[_e]=me&255;++dt<Ee&&(nt*=256);)this[_e+dt]=me/nt&255;return _e+Ee},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(me,_e,Ee,Be){if(me=+me,_e=_e>>>0,Ee=Ee>>>0,!Be){var je=Math.pow(2,8*Ee)-1;Ae(this,me,_e,Ee,je,0)}var nt=Ee-1,dt=1;for(this[_e+nt]=me&255;--nt>=0&&(dt*=256);)this[_e+nt]=me/dt&255;return _e+Ee},w.prototype.writeUint8=w.prototype.writeUInt8=function(me,_e,Ee){return me=+me,_e=_e>>>0,Ee||Ae(this,me,_e,1,255,0),this[_e]=me&255,_e+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(me,_e,Ee){return me=+me,_e=_e>>>0,Ee||Ae(this,me,_e,2,65535,0),this[_e]=me&255,this[_e+1]=me>>>8,_e+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(me,_e,Ee){return me=+me,_e=_e>>>0,Ee||Ae(this,me,_e,2,65535,0),this[_e]=me>>>8,this[_e+1]=me&255,_e+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(me,_e,Ee){return me=+me,_e=_e>>>0,Ee||Ae(this,me,_e,4,4294967295,0),this[_e+3]=me>>>24,this[_e+2]=me>>>16,this[_e+1]=me>>>8,this[_e]=me&255,_e+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(me,_e,Ee){return me=+me,_e=_e>>>0,Ee||Ae(this,me,_e,4,4294967295,0),this[_e]=me>>>24,this[_e+1]=me>>>16,this[_e+2]=me>>>8,this[_e+3]=me&255,_e+4};function Ie(be,me,_e,Ee,Be){ut(me,Ee,Be,be,_e,7);var je=Number(me&BigInt(4294967295));be[_e++]=je,je=je>>8,be[_e++]=je,je=je>>8,be[_e++]=je,je=je>>8,be[_e++]=je;var nt=Number(me>>BigInt(32)&BigInt(4294967295));return be[_e++]=nt,nt=nt>>8,be[_e++]=nt,nt=nt>>8,be[_e++]=nt,nt=nt>>8,be[_e++]=nt,_e}function Te(be,me,_e,Ee,Be){ut(me,Ee,Be,be,_e,7);var je=Number(me&BigInt(4294967295));be[_e+7]=je,je=je>>8,be[_e+6]=je,je=je>>8,be[_e+5]=je,je=je>>8,be[_e+4]=je;var nt=Number(me>>BigInt(32)&BigInt(4294967295));return be[_e+3]=nt,nt=nt>>8,be[_e+2]=nt,nt=nt>>8,be[_e+1]=nt,nt=nt>>8,be[_e]=nt,_e+8}w.prototype.writeBigUInt64LE=Ye(function(me){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ie(this,me,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=Ye(function(me){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Te(this,me,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(me,_e,Ee,Be){if(me=+me,_e=_e>>>0,!Be){var je=Math.pow(2,8*Ee-1);Ae(this,me,_e,Ee,je-1,-je)}var nt=0,dt=1,xt=0;for(this[_e]=me&255;++nt<Ee&&(dt*=256);)me<0&&xt===0&&this[_e+nt-1]!==0&&(xt=1),this[_e+nt]=(me/dt>>0)-xt&255;return _e+Ee},w.prototype.writeIntBE=function(me,_e,Ee,Be){if(me=+me,_e=_e>>>0,!Be){var je=Math.pow(2,8*Ee-1);Ae(this,me,_e,Ee,je-1,-je)}var nt=Ee-1,dt=1,xt=0;for(this[_e+nt]=me&255;--nt>=0&&(dt*=256);)me<0&&xt===0&&this[_e+nt+1]!==0&&(xt=1),this[_e+nt]=(me/dt>>0)-xt&255;return _e+Ee},w.prototype.writeInt8=function(me,_e,Ee){return me=+me,_e=_e>>>0,Ee||Ae(this,me,_e,1,127,-128),me<0&&(me=255+me+1),this[_e]=me&255,_e+1},w.prototype.writeInt16LE=function(me,_e,Ee){return me=+me,_e=_e>>>0,Ee||Ae(this,me,_e,2,32767,-32768),this[_e]=me&255,this[_e+1]=me>>>8,_e+2},w.prototype.writeInt16BE=function(me,_e,Ee){return me=+me,_e=_e>>>0,Ee||Ae(this,me,_e,2,32767,-32768),this[_e]=me>>>8,this[_e+1]=me&255,_e+2},w.prototype.writeInt32LE=function(me,_e,Ee){return me=+me,_e=_e>>>0,Ee||Ae(this,me,_e,4,2147483647,-2147483648),this[_e]=me&255,this[_e+1]=me>>>8,this[_e+2]=me>>>16,this[_e+3]=me>>>24,_e+4},w.prototype.writeInt32BE=function(me,_e,Ee){return me=+me,_e=_e>>>0,Ee||Ae(this,me,_e,4,2147483647,-2147483648),me<0&&(me=4294967295+me+1),this[_e]=me>>>24,this[_e+1]=me>>>16,this[_e+2]=me>>>8,this[_e+3]=me&255,_e+4},w.prototype.writeBigInt64LE=Ye(function(me){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ie(this,me,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=Ye(function(me){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Te(this,me,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(be,me,_e,Ee,Be,je){if(_e+Ee>be.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function xe(be,me,_e,Ee,Be){return me=+me,_e=_e>>>0,Be||Le(be,me,_e,4),x.write(be,me,_e,Ee,23,4),_e+4}w.prototype.writeFloatLE=function(me,_e,Ee){return xe(this,me,_e,!0,Ee)},w.prototype.writeFloatBE=function(me,_e,Ee){return xe(this,me,_e,!1,Ee)};function Re(be,me,_e,Ee,Be){return me=+me,_e=_e>>>0,Be||Le(be,me,_e,8),x.write(be,me,_e,Ee,52,8),_e+8}w.prototype.writeDoubleLE=function(me,_e,Ee){return Re(this,me,_e,!0,Ee)},w.prototype.writeDoubleBE=function(me,_e,Ee){return Re(this,me,_e,!1,Ee)},w.prototype.copy=function(me,_e,Ee,Be){if(!w.isBuffer(me))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),!Be&&Be!==0&&(Be=this.length),_e>=me.length&&(_e=me.length),_e||(_e=0),Be>0&&Be<Ee&&(Be=Ee),Be===Ee||me.length===0||this.length===0)return 0;if(_e<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(Be<0)throw new RangeError("sourceEnd out of bounds");Be>this.length&&(Be=this.length),me.length-_e<Be-Ee&&(Be=me.length-_e+Ee);var je=Be-Ee;return this===me&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_e,Ee,Be):Uint8Array.prototype.set.call(me,this.subarray(Ee,Be),_e),je},w.prototype.fill=function(me,_e,Ee,Be){if(typeof me=="string"){if(typeof _e=="string"?(Be=_e,_e=0,Ee=this.length):typeof Ee=="string"&&(Be=Ee,Ee=this.length),Be!==void 0&&typeof Be!="string")throw new TypeError("encoding must be a string");if(typeof Be=="string"&&!w.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);if(me.length===1){var je=me.charCodeAt(0);(Be==="utf8"&&je<128||Be==="latin1")&&(me=je)}}else typeof me=="number"?me=me&255:typeof me=="boolean"&&(me=Number(me));if(_e<0||this.length<_e||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=_e)return this;_e=_e>>>0,Ee=Ee===void 0?this.length:Ee>>>0,me||(me=0);var nt;if(typeof me=="number")for(nt=_e;nt<Ee;++nt)this[nt]=me;else{var dt=w.isBuffer(me)?me:w.from(me,Be),xt=dt.length;if(xt===0)throw new TypeError('The value "'+me+'" is invalid for argument "value"');for(nt=0;nt<Ee-_e;++nt)this[nt+_e]=dt[nt%xt]}return this};var He={};function Ve(be,me,_e){He[be]=function(Ee){f(je,Ee);var Be=l(je);function je(){var nt;return t(this,je),nt=Be.call(this),Object.defineProperty(h(nt),"message",{value:me.apply(h(nt),arguments),writable:!0,configurable:!0}),nt.name="".concat(nt.name," [").concat(be,"]"),nt.stack,delete nt.name,nt}return a(je,[{key:"code",get:function(){return be},set:function(dt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:dt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(be,"]: ").concat(this.message)}}]),je}(_e)}Ve("ERR_BUFFER_OUT_OF_BOUNDS",function(be){return be?"".concat(be," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ve("ERR_INVALID_ARG_TYPE",function(be,me){return'The "'.concat(be,'" argument must be of type number. Received type ').concat(i(me))},TypeError),Ve("ERR_OUT_OF_RANGE",function(be,me,_e){var Ee='The value of "'.concat(be,'" is out of range.'),Be=_e;return Number.isInteger(_e)&&Math.abs(_e)>Math.pow(2,32)?Be=Fe(String(_e)):typeof _e=="bigint"&&(Be=String(_e),(_e>Math.pow(BigInt(2),BigInt(32))||_e<-Math.pow(BigInt(2),BigInt(32)))&&(Be=Fe(Be)),Be+="n"),Ee+=" It must be ".concat(me,". Received ").concat(Be),Ee},RangeError);function Fe(be){for(var me="",_e=be.length,Ee=be[0]==="-"?1:0;_e>=Ee+4;_e-=3)me="_".concat(be.slice(_e-3,_e)).concat(me);return"".concat(be.slice(0,_e)).concat(me)}function We(be,me,_e){ht(me,"offset"),(be[me]===void 0||be[me+_e]===void 0)&&rt(me,be.length-(_e+1))}function ut(be,me,_e,Ee,Be,je){if(be>_e||be<me){var nt=typeof me=="bigint"?"n":"",dt;throw je>3?me===0||me===BigInt(0)?dt=">= 0".concat(nt," and < 2").concat(nt," ** ").concat((je+1)*8).concat(nt):dt=">= -(2".concat(nt," ** ").concat((je+1)*8-1).concat(nt,") and < 2 ** ")+"".concat((je+1)*8-1).concat(nt):dt=">= ".concat(me).concat(nt," and <= ").concat(_e).concat(nt),new He.ERR_OUT_OF_RANGE("value",dt,be)}We(Ee,Be,je)}function ht(be,me){if(typeof be!="number")throw new He.ERR_INVALID_ARG_TYPE(me,"number",be)}function rt(be,me,_e){throw Math.floor(be)!==be?(ht(be,_e),new He.ERR_OUT_OF_RANGE(_e||"offset","an integer",be)):me<0?new He.ERR_BUFFER_OUT_OF_BOUNDS:new He.ERR_OUT_OF_RANGE(_e||"offset",">= ".concat(_e?1:0," and <= ").concat(me),be)}var tt=/[^+/0-9A-Za-z-_]/g;function vt(be){if(be=be.split("=")[0],be=be.trim().replace(tt,""),be.length<2)return"";for(;be.length%4!==0;)be=be+"=";return be}function pt(be,me){me=me||1/0;for(var _e,Ee=be.length,Be=null,je=[],nt=0;nt<Ee;++nt){if(_e=be.charCodeAt(nt),_e>55295&&_e<57344){if(!Be){if(_e>56319){(me-=3)>-1&&je.push(239,191,189);continue}else if(nt+1===Ee){(me-=3)>-1&&je.push(239,191,189);continue}Be=_e;continue}if(_e<56320){(me-=3)>-1&&je.push(239,191,189),Be=_e;continue}_e=(Be-55296<<10|_e-56320)+65536}else Be&&(me-=3)>-1&&je.push(239,191,189);if(Be=null,_e<128){if((me-=1)<0)break;je.push(_e)}else if(_e<2048){if((me-=2)<0)break;je.push(_e>>6|192,_e&63|128)}else if(_e<65536){if((me-=3)<0)break;je.push(_e>>12|224,_e>>6&63|128,_e&63|128)}else if(_e<1114112){if((me-=4)<0)break;je.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,_e&63|128)}else throw new Error("Invalid code point")}return je}function mt(be){for(var me=[],_e=0;_e<be.length;++_e)me.push(be.charCodeAt(_e)&255);return me}function wt(be,me){for(var _e,Ee,Be,je=[],nt=0;nt<be.length&&!((me-=2)<0);++nt)_e=be.charCodeAt(nt),Ee=_e>>8,Be=_e%256,je.push(Be),je.push(Ee);return je}function Lt(be){return d.toByteArray(vt(be))}function at(be,me,_e,Ee){var Be;for(Be=0;Be<Ee&&!(Be+_e>=me.length||Be>=be.length);++Be)me[Be+_e]=be[Be];return Be}function Oe(be,me){return be instanceof me||be!=null&&be.constructor!=null&&be.constructor.name!=null&&be.constructor.name===me.name}function Ze(be){return be!==be}var Je=function(){for(var be="0123456789abcdef",me=new Array(256),_e=0;_e<16;++_e)for(var Ee=_e*16,Be=0;Be<16;++Be)me[Ee+Be]=be[_e]+be[Be];return me}();function Ye(be){return typeof BigInt>"u"?ke:be}function ke(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=s,v.exports.isMobile=s,v.exports.default=s;var g=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function s(a){a||(a={});var f=a.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var u=g.test(f)&&!r.test(f)||!!a.tablet&&t.test(f);return!u&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(u=!0),u}},3910:function(v,g){g.byteLength=m,g.toByteArray=M,g.fromByteArray=d;for(var r=[],t=[],s=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,u=a.length;f<u;++f)r[f]=a[f],t[a.charCodeAt(f)]=f;t[45]=62,t[95]=63;function l(x){var A=x.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=x.indexOf("=");E===-1&&(E=A);var y=E===A?0:4-E%4;return[E,y]}function m(x){var A=l(x),E=A[0],y=A[1];return(E+y)*3/4-y}function h(x,A,E){return(A+E)*3/4-E}function M(x){var A,E=l(x),y=E[0],S=E[1],w=new s(h(x,y,S)),o=0,_=S>0?y-4:y,b;for(b=0;b<_;b+=4)A=t[x.charCodeAt(b)]<<18|t[x.charCodeAt(b+1)]<<12|t[x.charCodeAt(b+2)]<<6|t[x.charCodeAt(b+3)],w[o++]=A>>16&255,w[o++]=A>>8&255,w[o++]=A&255;return S===2&&(A=t[x.charCodeAt(b)]<<2|t[x.charCodeAt(b+1)]>>4,w[o++]=A&255),S===1&&(A=t[x.charCodeAt(b)]<<10|t[x.charCodeAt(b+1)]<<4|t[x.charCodeAt(b+2)]>>2,w[o++]=A>>8&255,w[o++]=A&255),w}function c(x){return r[x>>18&63]+r[x>>12&63]+r[x>>6&63]+r[x&63]}function i(x,A,E){for(var y,S=[],w=A;w<E;w+=3)y=(x[w]<<16&16711680)+(x[w+1]<<8&65280)+(x[w+2]&255),S.push(c(y));return S.join("")}function d(x){for(var A,E=x.length,y=E%3,S=[],w=16383,o=0,_=E-y;o<_;o+=w)S.push(i(x,o,o+w>_?_:o+w));return y===1?(A=x[E-1],S.push(r[A>>2]+r[A<<4&63]+"==")):y===2&&(A=(x[E-2]<<8)+x[E-1],S.push(r[A>>10]+r[A>>4&63]+r[A<<2&63]+"=")),S.join("")}},3187:function(v,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(r,t,s,a,f){var u,l,m=f*8-a-1,h=(1<<m)-1,M=h>>1,c=-7,i=s?f-1:0,d=s?-1:1,x=r[t+i];for(i+=d,u=x&(1<<-c)-1,x>>=-c,c+=m;c>0;u=u*256+r[t+i],i+=d,c-=8);for(l=u&(1<<-c)-1,u>>=-c,c+=a;c>0;l=l*256+r[t+i],i+=d,c-=8);if(u===0)u=1-M;else{if(u===h)return l?NaN:(x?-1:1)*(1/0);l=l+Math.pow(2,a),u=u-M}return(x?-1:1)*l*Math.pow(2,u-a)},g.write=function(r,t,s,a,f,u){var l,m,h,M=u*8-f-1,c=(1<<M)-1,i=c>>1,d=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=a?0:u-1,A=a?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,l=c):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+i>=1?t+=d/h:t+=d*Math.pow(2,1-i),t*h>=2&&(l++,h/=2),l+i>=c?(m=0,l=c):l+i>=1?(m=(t*h-1)*Math.pow(2,f),l=l+i):(m=t*Math.pow(2,i-1)*Math.pow(2,f),l=0));f>=8;r[s+x]=m&255,x+=A,m/=256,f-=8);for(l=l<<f|m,M+=f;M>0;r[s+x]=l&255,x+=A,l/=256,M-=8);r[s+x-A]|=E*128}},1152:function(v,g,r){v.exports=l;var t=r(3440),s=r(7774),a=r(9298);function f(m,h){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(M){return m[M]}),this._mode=h,this._active=m[h],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=f.prototype;u.flush=function(m){for(var h=this._controllerList,M=0;M<h.length;++M)h[M].flush(m)},u.idle=function(m){for(var h=this._controllerList,M=0;M<h.length;++M)h[M].idle(m)},u.lookAt=function(m,h,M,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].lookAt(m,h,M,c)},u.rotate=function(m,h,M,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].rotate(m,h,M,c)},u.pan=function(m,h,M,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].pan(m,h,M,c)},u.translate=function(m,h,M,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].translate(m,h,M,c)},u.setMatrix=function(m,h){for(var M=this._controllerList,c=0;c<M.length;++c)M[c].setMatrix(m,h)},u.setDistanceLimits=function(m,h){for(var M=this._controllerList,c=0;c<M.length;++c)M[c].setDistanceLimits(m,h)},u.setDistance=function(m,h){for(var M=this._controllerList,c=0;c<M.length;++c)M[c].setDistance(m,h)},u.recalcMatrix=function(m){this._active.recalcMatrix(m)},u.getDistance=function(m){return this._active.getDistance(m)},u.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},u.lastT=function(){return this._active.lastT()},u.setMode=function(m){if(m!==this._mode){var h=this._controllerNames.indexOf(m);if(!(h<0)){var M=this._active,c=this._controllerList[h],i=Math.max(M.lastT(),c.lastT());M.recalcMatrix(i),c.setMatrix(i,M.computedMatrix),this._active=c,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function l(m){m=m||{};var h=m.eye||[0,0,1],M=m.center||[0,0,0],c=m.up||[0,1,0],i=m.distanceLimits||[0,1/0],d=m.mode||"turntable",x=t(),A=s(),E=a();return x.setDistanceLimits(i[0],i[1]),x.lookAt(0,h,M,c),A.setDistanceLimits(i[0],i[1]),A.lookAt(0,h,M,c),E.setDistanceLimits(i[0],i[1]),E.lookAt(0,h,M,c),new f({turntable:x,orbit:A,matrix:E},d)}},8126:function(v,g,r){var t=typeof WeakMap>"u"?r(5346):WeakMap,s=r(5827),a=r(2944),f=new t;function u(l){var m=f.get(l),h=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var M=s(l,new Float32Array([-1,-1,-1,4,4,-1]));m=a(l,[{buffer:M,type:l.FLOAT,size:2}]),m._triangleBuffer=M,f.set(l,m)}m.bind(),l.drawArrays(l.TRIANGLES,0,3),m.unbind()}v.exports=u},8008:function(v,g,r){var t=r(4930);v.exports=s;function s(a,f,u){f=typeof f=="number"?f:1,u=u||": ";var l=a.split(/\r?\n/),m=String(l.length+f-1).length;return l.map(function(h,M){var c=M+f,i=String(c).length,d=t(c,m-i);return d+u+h}).join(`
`)}},2153:function(v,g,r){v.exports=a;var t=r(417);function s(f,u){for(var l=new Array(u+1),m=0;m<f.length;++m)l[m]=f[m];for(var m=0;m<=f.length;++m){for(var h=f.length;h<=u;++h){for(var M=new Array(u),c=0;c<u;++c)M[c]=Math.pow(h+1-m,c);l[h]=M}var i=t.apply(void 0,l);if(i)return!0}return!1}function a(f){var u=f.length;if(u===0)return[];if(u===1)return[0];for(var l=f[0].length,m=[f[0]],h=[0],M=1;M<u;++M){if(m.push(f[M]),!s(m,l)){m.pop();continue}if(h.push(M),h.length===l+1)return h}return h}},4653:function(v,g,r){v.exports=a;var t=r(4419),s=r(1778);function a(f,u){return t(u).filter(function(l){for(var m=new Array(l.length),h=0;h<l.length;++h)m[h]=u[l[h]];return s(m)*f<1})}},2350:function(v,g,r){v.exports=a;var t=r(4653),s=r(8691);function a(f,u){return s(t(f,u))}},7896:function(v){v.exports=function(r){return atob(r)}},957:function(v,g,r){v.exports=a;var t=r(6606);function s(f){for(var u=0,l=0;l<f.length;++l)u+=f[l];return u}function a(f,u){for(var l=u.length,m=new Array(l+1),h=0;h<l;++h){for(var M=new Array(l+1),c=0;c<=l;++c)M[c]=f[c][h];m[h]=M}m[l]=new Array(l+1);for(var h=0;h<=l;++h)m[l][h]=1;for(var i=new Array(l+1),h=0;h<l;++h)i[h]=u[h];i[l]=1;var d=t(m,i),x=s(d[l+1]);x===0&&(x=1);for(var A=new Array(l+1),h=0;h<=l;++h)A[h]=s(d[h])/x;return A}},1539:function(v,g,r){var t=r(8524);v.exports=s;function s(a,f){return t(a[0].mul(f[1]).add(f[0].mul(a[1])),a[1].mul(f[1]))}},8846:function(v){v.exports=g;function g(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},9189:function(v,g,r){var t=r(8524);v.exports=s;function s(a,f){return t(a[0].mul(f[1]),a[1].mul(f[0]))}},5125:function(v,g,r){var t=r(234),s=r(3218),a=r(5514),f=r(2813),u=r(8524),l=r(9189);v.exports=m;function m(h,M){if(t(h))return M?l(h,m(M)):[h[0].clone(),h[1].clone()];var c=0,i,d;if(s(h))i=h.clone();else if(typeof h=="string")i=f(h);else{if(h===0)return[a(0),a(1)];if(h===Math.floor(h))i=a(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;i=a(h)}}if(t(M))i.mul(M[1]),d=M[0].clone();else if(s(M))d=M.clone();else if(typeof M=="string")d=f(M);else if(!M)d=a(1);else if(M===Math.floor(M))d=a(M);else{for(;M!==Math.floor(M);)M=M*Math.pow(2,256),c+=256;d=a(M)}return c>0?i=i.ushln(c):c<0&&(d=d.ushln(-c)),u(i,d)}},234:function(v,g,r){var t=r(3218);v.exports=s;function s(a){return Array.isArray(a)&&a.length===2&&t(a[0])&&t(a[1])}},4275:function(v,g,r){var t=r(1928);v.exports=s;function s(a){return a.cmp(new t(0))}},9958:function(v,g,r){var t=r(4275);v.exports=s;function s(a){var f=a.length,u=a.words,l=0;if(f===1)l=u[0];else if(f===2)l=u[0]+u[1]*67108864;else for(var m=0;m<f;m++){var h=u[m];l+=h*Math.pow(67108864,m)}return t(a)*l}},1112:function(v,g,r){var t=r(8362),s=r(2288).countTrailingZeros;v.exports=a;function a(f){var u=s(t.lo(f));if(u<32)return u;var l=s(t.hi(f));return l>20?52:l+32}},3218:function(v,g,r){r(1928),v.exports=t;function t(s){return s&&typeof s=="object"&&!!s.words}},5514:function(v,g,r){var t=r(1928),s=r(8362);v.exports=a;function a(f){var u=s.exponent(f);return u<52?new t(f):new t(f*Math.pow(2,52-u)).ushln(u-52)}},8524:function(v,g,r){var t=r(5514),s=r(4275);v.exports=a;function a(f,u){var l=s(f),m=s(u);if(l===0)return[t(0),t(1)];if(m===0)return[t(0),t(0)];m<0&&(f=f.neg(),u=u.neg());var h=f.gcd(u);return h.cmpn(1)?[f.div(h),u.div(h)]:[f,u]}},2813:function(v,g,r){var t=r(1928);v.exports=s;function s(a){return new t(a)}},3962:function(v,g,r){var t=r(8524);v.exports=s;function s(a,f){return t(a[0].mul(f[0]),a[1].mul(f[1]))}},4951:function(v,g,r){var t=r(4275);v.exports=s;function s(a){return t(a[0])*t(a[1])}},4354:function(v,g,r){var t=r(8524);v.exports=s;function s(a,f){return t(a[0].mul(f[1]).sub(a[1].mul(f[0])),a[1].mul(f[1]))}},7999:function(v,g,r){var t=r(9958),s=r(1112);v.exports=a;function a(f){var u=f[0],l=f[1];if(u.cmpn(0)===0)return 0;var m=u.abs().divmod(l.abs()),h=m.div,M=t(h),c=m.mod,i=u.negative!==l.negative?-1:1;if(c.cmpn(0)===0)return i*M;if(M){var d=s(M)+4,x=t(c.ushln(d).divRound(l));return i*(M+x*Math.pow(2,-d))}else{var A=l.bitLength()-c.bitLength()+53,x=t(c.ushln(A).divRound(l));return A<1023?i*x*Math.pow(2,-A):(x*=Math.pow(2,-1023),i*x*Math.pow(2,1023-A))}}},5070:function(v){function g(u,l,m,h,M){for(var c=M+1;h<=M;){var i=h+M>>>1,d=u[i],x=m!==void 0?m(d,l):d-l;x>=0?(c=i,M=i-1):h=i+1}return c}function r(u,l,m,h,M){for(var c=M+1;h<=M;){var i=h+M>>>1,d=u[i],x=m!==void 0?m(d,l):d-l;x>0?(c=i,M=i-1):h=i+1}return c}function t(u,l,m,h,M){for(var c=h-1;h<=M;){var i=h+M>>>1,d=u[i],x=m!==void 0?m(d,l):d-l;x<0?(c=i,h=i+1):M=i-1}return c}function s(u,l,m,h,M){for(var c=h-1;h<=M;){var i=h+M>>>1,d=u[i],x=m!==void 0?m(d,l):d-l;x<=0?(c=i,h=i+1):M=i-1}return c}function a(u,l,m,h,M){for(;h<=M;){var c=h+M>>>1,i=u[c],d=m!==void 0?m(i,l):i-l;if(d===0)return c;d<=0?h=c+1:M=c-1}return-1}function f(u,l,m,h,M,c){return typeof m=="function"?c(u,l,m,h===void 0?0:h|0,M===void 0?u.length-1:M|0):c(u,l,void 0,m===void 0?0:m|0,h===void 0?u.length-1:h|0)}v.exports={ge:function(u,l,m,h,M){return f(u,l,m,h,M,g)},gt:function(u,l,m,h,M){return f(u,l,m,h,M,r)},lt:function(u,l,m,h,M){return f(u,l,m,h,M,t)},le:function(u,l,m,h,M){return f(u,l,m,h,M,s)},eq:function(u,l,m,h,M){return f(u,l,m,h,M,a)}}},2288:function(v,g){"use restrict";var r=32;g.INT_BITS=r,g.INT_MAX=2147483647,g.INT_MIN=-1<<r-1,g.sign=function(a){return(a>0)-(a<0)},g.abs=function(a){var f=a>>r-1;return(a^f)-f},g.min=function(a,f){return f^(a^f)&-(a<f)},g.max=function(a,f){return a^(a^f)&-(a<f)},g.isPow2=function(a){return!(a&a-1)&&!!a},g.log2=function(a){var f,u;return f=(a>65535)<<4,a>>>=f,u=(a>255)<<3,a>>>=u,f|=u,u=(a>15)<<2,a>>>=u,f|=u,u=(a>3)<<1,a>>>=u,f|=u,f|a>>1},g.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},g.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function t(a){var f=32;return a&=-a,a&&f--,a&65535&&(f-=16),a&16711935&&(f-=8),a&252645135&&(f-=4),a&858993459&&(f-=2),a&1431655765&&(f-=1),f}g.countTrailingZeros=t,g.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},g.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},g.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var s=new Array(256);(function(a){for(var f=0;f<256;++f){var u=f,l=f,m=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--m;a[f]=l<<m&255}})(s),g.reverse=function(a){return s[a&255]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},g.interleave2=function(a,f){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,a|f<<1},g.deinterleave2=function(a,f){return a=a>>>f&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},g.interleave3=function(a,f,u){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,a|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,a|u<<2},g.deinterleave3=function(a,f){return a=a>>>f&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},g.nextCombination=function(a){var f=a|a-1;return f+1|(~f&-~f)-1>>>t(a)+1}},1928:function(v,g,r){v=r.nmd(v),function(t,s){function a(F,O){if(!F)throw new Error(O||"Assertion failed")}function f(F,O){F.super_=O;var B=function(){};B.prototype=O.prototype,F.prototype=new B,F.prototype.constructor=F}function u(F,O,B){if(u.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((O==="le"||O==="be")&&(B=O,O=10),this._init(F||0,O||10,B||"be"))}typeof t=="object"?t.exports=u:s.BN=u,u.BN=u,u.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(6601).Buffer}catch{}u.isBN=function(O){return O instanceof u?!0:O!==null&&typeof O=="object"&&O.constructor.wordSize===u.wordSize&&Array.isArray(O.words)},u.max=function(O,B){return O.cmp(B)>0?O:B},u.min=function(O,B){return O.cmp(B)<0?O:B},u.prototype._init=function(O,B,W){if(typeof O=="number")return this._initNumber(O,B,W);if(typeof O=="object")return this._initArray(O,B,W);B==="hex"&&(B=16),a(B===(B|0)&&B>=2&&B<=36),O=O.toString().replace(/\s+/g,"");var ee=0;O[0]==="-"&&(ee++,this.negative=1),ee<O.length&&(B===16?this._parseHex(O,ee,W):(this._parseBase(O,B,ee),W==="le"&&this._initArray(this.toArray(),B,W)))},u.prototype._initNumber=function(O,B,W){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[O&67108863],this.length=1):O<4503599627370496?(this.words=[O&67108863,O/67108864&67108863],this.length=2):(a(O<9007199254740992),this.words=[O&67108863,O/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),B,W)},u.prototype._initArray=function(O,B,W){if(a(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var ne,Q,le=0;if(W==="be")for(ee=O.length-1,ne=0;ee>=0;ee-=3)Q=O[ee]|O[ee-1]<<8|O[ee-2]<<16,this.words[ne]|=Q<<le&67108863,this.words[ne+1]=Q>>>26-le&67108863,le+=24,le>=26&&(le-=26,ne++);else if(W==="le")for(ee=0,ne=0;ee<O.length;ee+=3)Q=O[ee]|O[ee+1]<<8|O[ee+2]<<16,this.words[ne]|=Q<<le&67108863,this.words[ne+1]=Q>>>26-le&67108863,le+=24,le>=26&&(le-=26,ne++);return this.strip()};function m(F,O){var B=F.charCodeAt(O);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function h(F,O,B){var W=m(F,B);return B-1>=O&&(W|=m(F,B-1)<<4),W}u.prototype._parseHex=function(O,B,W){this.length=Math.ceil((O.length-B)/6),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var ne=0,Q=0,le;if(W==="be")for(ee=O.length-1;ee>=B;ee-=2)le=h(O,B,ee)<<ne,this.words[Q]|=le&67108863,ne>=18?(ne-=18,Q+=1,this.words[Q]|=le>>>26):ne+=8;else{var Z=O.length-B;for(ee=Z%2===0?B+1:B;ee<O.length;ee+=2)le=h(O,B,ee)<<ne,this.words[Q]|=le&67108863,ne>=18?(ne-=18,Q+=1,this.words[Q]|=le>>>26):ne+=8}this.strip()};function M(F,O,B,W){for(var ee=0,ne=Math.min(F.length,B),Q=O;Q<ne;Q++){var le=F.charCodeAt(Q)-48;ee*=W,le>=49?ee+=le-49+10:le>=17?ee+=le-17+10:ee+=le}return ee}u.prototype._parseBase=function(O,B,W){this.words=[0],this.length=1;for(var ee=0,ne=1;ne<=67108863;ne*=B)ee++;ee--,ne=ne/B|0;for(var Q=O.length-W,le=Q%ee,Z=Math.min(Q,Q-le)+W,Y=0,re=W;re<Z;re+=ee)Y=M(O,re,re+ee,B),this.imuln(ne),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(le!==0){var X=1;for(Y=M(O,re,O.length,B),re=0;re<le;re++)X*=B;this.imuln(X),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},u.prototype.copy=function(O){O.words=new Array(this.length);for(var B=0;B<this.length;B++)O.words[B]=this.words[B];O.length=this.length,O.negative=this.negative,O.red=this.red},u.prototype.clone=function(){var O=new u(null);return this.copy(O),O},u.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],i=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(O,B){O=O||10,B=B|0||1;var W;if(O===16||O==="hex"){W="";for(var ee=0,ne=0,Q=0;Q<this.length;Q++){var le=this.words[Q],Z=((le<<ee|ne)&16777215).toString(16);ne=le>>>24-ee&16777215,ne!==0||Q!==this.length-1?W=c[6-Z.length]+Z+W:W=Z+W,ee+=2,ee>=26&&(ee-=26,Q--)}for(ne!==0&&(W=ne.toString(16)+W);W.length%B!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(O===(O|0)&&O>=2&&O<=36){var Y=i[O],re=d[O];W="";var X=this.clone();for(X.negative=0;!X.isZero();){var q=X.modn(re).toString(O);X=X.idivn(re),X.isZero()?W=q+W:W=c[Y-q.length]+q+W}for(this.isZero()&&(W="0"+W);W.length%B!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}a(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=this.words[1]*67108864:this.length===3&&this.words[2]===1?O+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(O,B){return a(typeof l<"u"),this.toArrayLike(l,O,B)},u.prototype.toArray=function(O,B){return this.toArrayLike(Array,O,B)},u.prototype.toArrayLike=function(O,B,W){var ee=this.byteLength(),ne=W||Math.max(1,ee);a(ee<=ne,"byte array longer than desired length"),a(ne>0,"Requested array length <= 0"),this.strip();var Q=B==="le",le=new O(ne),Z,Y,re=this.clone();if(Q){for(Y=0;!re.isZero();Y++)Z=re.andln(255),re.iushrn(8),le[Y]=Z;for(;Y<ne;Y++)le[Y]=0}else{for(Y=0;Y<ne-ee;Y++)le[Y]=0;for(Y=0;!re.isZero();Y++)Z=re.andln(255),re.iushrn(8),le[ne-Y-1]=Z}return le},Math.clz32?u.prototype._countBits=function(O){return 32-Math.clz32(O)}:u.prototype._countBits=function(O){var B=O,W=0;return B>=4096&&(W+=13,B>>>=13),B>=64&&(W+=7,B>>>=7),B>=8&&(W+=4,B>>>=4),B>=2&&(W+=2,B>>>=2),W+B},u.prototype._zeroBits=function(O){if(O===0)return 26;var B=O,W=0;return B&8191||(W+=13,B>>>=13),B&127||(W+=7,B>>>=7),B&15||(W+=4,B>>>=4),B&3||(W+=2,B>>>=2),B&1||W++,W},u.prototype.bitLength=function(){var O=this.words[this.length-1],B=this._countBits(O);return(this.length-1)*26+B};function x(F){for(var O=new Array(F.bitLength()),B=0;B<O.length;B++){var W=B/26|0,ee=B%26;O[B]=(F.words[W]&1<<ee)>>>ee}return O}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,B=0;B<this.length;B++){var W=this._zeroBits(this.words[B]);if(O+=W,W!==26)break}return O},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},u.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var B=0;B<O.length;B++)this.words[B]=this.words[B]|O.words[B];return this.strip()},u.prototype.ior=function(O){return a((this.negative|O.negative)===0),this.iuor(O)},u.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},u.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},u.prototype.iuand=function(O){var B;this.length>O.length?B=O:B=this;for(var W=0;W<B.length;W++)this.words[W]=this.words[W]&O.words[W];return this.length=B.length,this.strip()},u.prototype.iand=function(O){return a((this.negative|O.negative)===0),this.iuand(O)},u.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},u.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},u.prototype.iuxor=function(O){var B,W;this.length>O.length?(B=this,W=O):(B=O,W=this);for(var ee=0;ee<W.length;ee++)this.words[ee]=B.words[ee]^W.words[ee];if(this!==B)for(;ee<B.length;ee++)this.words[ee]=B.words[ee];return this.length=B.length,this.strip()},u.prototype.ixor=function(O){return a((this.negative|O.negative)===0),this.iuxor(O)},u.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},u.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},u.prototype.inotn=function(O){a(typeof O=="number"&&O>=0);var B=Math.ceil(O/26)|0,W=O%26;this._expand(B),W>0&&B--;for(var ee=0;ee<B;ee++)this.words[ee]=~this.words[ee]&67108863;return W>0&&(this.words[ee]=~this.words[ee]&67108863>>26-W),this.strip()},u.prototype.notn=function(O){return this.clone().inotn(O)},u.prototype.setn=function(O,B){a(typeof O=="number"&&O>=0);var W=O/26|0,ee=O%26;return this._expand(W+1),B?this.words[W]=this.words[W]|1<<ee:this.words[W]=this.words[W]&~(1<<ee),this.strip()},u.prototype.iadd=function(O){var B;if(this.negative!==0&&O.negative===0)return this.negative=0,B=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,B=this.isub(O),O.negative=1,B._normSign();var W,ee;this.length>O.length?(W=this,ee=O):(W=O,ee=this);for(var ne=0,Q=0;Q<ee.length;Q++)B=(W.words[Q]|0)+(ee.words[Q]|0)+ne,this.words[Q]=B&67108863,ne=B>>>26;for(;ne!==0&&Q<W.length;Q++)B=(W.words[Q]|0)+ne,this.words[Q]=B&67108863,ne=B>>>26;if(this.length=W.length,ne!==0)this.words[this.length]=ne,this.length++;else if(W!==this)for(;Q<W.length;Q++)this.words[Q]=W.words[Q];return this},u.prototype.add=function(O){var B;return O.negative!==0&&this.negative===0?(O.negative=0,B=this.sub(O),O.negative^=1,B):O.negative===0&&this.negative!==0?(this.negative=0,B=O.sub(this),this.negative=1,B):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},u.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var B=this.iadd(O);return O.negative=1,B._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var W=this.cmp(O);if(W===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ee,ne;W>0?(ee=this,ne=O):(ee=O,ne=this);for(var Q=0,le=0;le<ne.length;le++)B=(ee.words[le]|0)-(ne.words[le]|0)+Q,Q=B>>26,this.words[le]=B&67108863;for(;Q!==0&&le<ee.length;le++)B=(ee.words[le]|0)+Q,Q=B>>26,this.words[le]=B&67108863;if(Q===0&&le<ee.length&&ee!==this)for(;le<ee.length;le++)this.words[le]=ee.words[le];return this.length=Math.max(this.length,le),ee!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(O){return this.clone().isub(O)};function A(F,O,B){B.negative=O.negative^F.negative;var W=F.length+O.length|0;B.length=W,W=W-1|0;var ee=F.words[0]|0,ne=O.words[0]|0,Q=ee*ne,le=Q&67108863,Z=Q/67108864|0;B.words[0]=le;for(var Y=1;Y<W;Y++){for(var re=Z>>>26,X=Z&67108863,q=Math.min(Y,O.length-1),se=Math.max(0,Y-F.length+1);se<=q;se++){var $=Y-se|0;ee=F.words[$]|0,ne=O.words[se]|0,Q=ee*ne+X,re+=Q/67108864|0,X=Q&67108863}B.words[Y]=X|0,Z=re|0}return Z!==0?B.words[Y]=Z|0:B.length--,B.strip()}var E=function(O,B,W){var ee=O.words,ne=B.words,Q=W.words,le=0,Z,Y,re,X=ee[0]|0,q=X&8191,se=X>>>13,$=ee[1]|0,j=$&8191,ue=$>>>13,ae=ee[2]|0,ce=ae&8191,ye=ae>>>13,Ce=ee[3]|0,Ae=Ce&8191,Ie=Ce>>>13,Te=ee[4]|0,Le=Te&8191,xe=Te>>>13,Re=ee[5]|0,He=Re&8191,Ve=Re>>>13,Fe=ee[6]|0,We=Fe&8191,ut=Fe>>>13,ht=ee[7]|0,rt=ht&8191,tt=ht>>>13,vt=ee[8]|0,pt=vt&8191,mt=vt>>>13,wt=ee[9]|0,Lt=wt&8191,at=wt>>>13,Oe=ne[0]|0,Ze=Oe&8191,Je=Oe>>>13,Ye=ne[1]|0,ke=Ye&8191,be=Ye>>>13,me=ne[2]|0,_e=me&8191,Ee=me>>>13,Be=ne[3]|0,je=Be&8191,nt=Be>>>13,dt=ne[4]|0,xt=dt&8191,Kt=dt>>>13,Jt=ne[5]|0,St=Jt&8191,Ft=Jt>>>13,rr=ne[6]|0,_r=rr&8191,Tt=rr>>>13,$t=ne[7]|0,tr=$t&8191,Tr=$t>>>13,cr=ne[8]|0,bt=cr&8191,lt=cr>>>13,Mt=ne[9]|0,_t=Mt&8191,Ot=Mt>>>13;W.negative=O.negative^B.negative,W.length=19,Z=Math.imul(q,Ze),Y=Math.imul(q,Je),Y=Y+Math.imul(se,Ze)|0,re=Math.imul(se,Je);var It=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(It>>>26)|0,It&=67108863,Z=Math.imul(j,Ze),Y=Math.imul(j,Je),Y=Y+Math.imul(ue,Ze)|0,re=Math.imul(ue,Je),Z=Z+Math.imul(q,ke)|0,Y=Y+Math.imul(q,be)|0,Y=Y+Math.imul(se,ke)|0,re=re+Math.imul(se,be)|0;var Wt=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,Z=Math.imul(ce,Ze),Y=Math.imul(ce,Je),Y=Y+Math.imul(ye,Ze)|0,re=Math.imul(ye,Je),Z=Z+Math.imul(j,ke)|0,Y=Y+Math.imul(j,be)|0,Y=Y+Math.imul(ue,ke)|0,re=re+Math.imul(ue,be)|0,Z=Z+Math.imul(q,_e)|0,Y=Y+Math.imul(q,Ee)|0,Y=Y+Math.imul(se,_e)|0,re=re+Math.imul(se,Ee)|0;var Gt=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,Z=Math.imul(Ae,Ze),Y=Math.imul(Ae,Je),Y=Y+Math.imul(Ie,Ze)|0,re=Math.imul(Ie,Je),Z=Z+Math.imul(ce,ke)|0,Y=Y+Math.imul(ce,be)|0,Y=Y+Math.imul(ye,ke)|0,re=re+Math.imul(ye,be)|0,Z=Z+Math.imul(j,_e)|0,Y=Y+Math.imul(j,Ee)|0,Y=Y+Math.imul(ue,_e)|0,re=re+Math.imul(ue,Ee)|0,Z=Z+Math.imul(q,je)|0,Y=Y+Math.imul(q,nt)|0,Y=Y+Math.imul(se,je)|0,re=re+Math.imul(se,nt)|0;var er=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(er>>>26)|0,er&=67108863,Z=Math.imul(Le,Ze),Y=Math.imul(Le,Je),Y=Y+Math.imul(xe,Ze)|0,re=Math.imul(xe,Je),Z=Z+Math.imul(Ae,ke)|0,Y=Y+Math.imul(Ae,be)|0,Y=Y+Math.imul(Ie,ke)|0,re=re+Math.imul(Ie,be)|0,Z=Z+Math.imul(ce,_e)|0,Y=Y+Math.imul(ce,Ee)|0,Y=Y+Math.imul(ye,_e)|0,re=re+Math.imul(ye,Ee)|0,Z=Z+Math.imul(j,je)|0,Y=Y+Math.imul(j,nt)|0,Y=Y+Math.imul(ue,je)|0,re=re+Math.imul(ue,nt)|0,Z=Z+Math.imul(q,xt)|0,Y=Y+Math.imul(q,Kt)|0,Y=Y+Math.imul(se,xt)|0,re=re+Math.imul(se,Kt)|0;var dr=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(dr>>>26)|0,dr&=67108863,Z=Math.imul(He,Ze),Y=Math.imul(He,Je),Y=Y+Math.imul(Ve,Ze)|0,re=Math.imul(Ve,Je),Z=Z+Math.imul(Le,ke)|0,Y=Y+Math.imul(Le,be)|0,Y=Y+Math.imul(xe,ke)|0,re=re+Math.imul(xe,be)|0,Z=Z+Math.imul(Ae,_e)|0,Y=Y+Math.imul(Ae,Ee)|0,Y=Y+Math.imul(Ie,_e)|0,re=re+Math.imul(Ie,Ee)|0,Z=Z+Math.imul(ce,je)|0,Y=Y+Math.imul(ce,nt)|0,Y=Y+Math.imul(ye,je)|0,re=re+Math.imul(ye,nt)|0,Z=Z+Math.imul(j,xt)|0,Y=Y+Math.imul(j,Kt)|0,Y=Y+Math.imul(ue,xt)|0,re=re+Math.imul(ue,Kt)|0,Z=Z+Math.imul(q,St)|0,Y=Y+Math.imul(q,Ft)|0,Y=Y+Math.imul(se,St)|0,re=re+Math.imul(se,Ft)|0;var pr=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(pr>>>26)|0,pr&=67108863,Z=Math.imul(We,Ze),Y=Math.imul(We,Je),Y=Y+Math.imul(ut,Ze)|0,re=Math.imul(ut,Je),Z=Z+Math.imul(He,ke)|0,Y=Y+Math.imul(He,be)|0,Y=Y+Math.imul(Ve,ke)|0,re=re+Math.imul(Ve,be)|0,Z=Z+Math.imul(Le,_e)|0,Y=Y+Math.imul(Le,Ee)|0,Y=Y+Math.imul(xe,_e)|0,re=re+Math.imul(xe,Ee)|0,Z=Z+Math.imul(Ae,je)|0,Y=Y+Math.imul(Ae,nt)|0,Y=Y+Math.imul(Ie,je)|0,re=re+Math.imul(Ie,nt)|0,Z=Z+Math.imul(ce,xt)|0,Y=Y+Math.imul(ce,Kt)|0,Y=Y+Math.imul(ye,xt)|0,re=re+Math.imul(ye,Kt)|0,Z=Z+Math.imul(j,St)|0,Y=Y+Math.imul(j,Ft)|0,Y=Y+Math.imul(ue,St)|0,re=re+Math.imul(ue,Ft)|0,Z=Z+Math.imul(q,_r)|0,Y=Y+Math.imul(q,Tt)|0,Y=Y+Math.imul(se,_r)|0,re=re+Math.imul(se,Tt)|0;var mr=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(mr>>>26)|0,mr&=67108863,Z=Math.imul(rt,Ze),Y=Math.imul(rt,Je),Y=Y+Math.imul(tt,Ze)|0,re=Math.imul(tt,Je),Z=Z+Math.imul(We,ke)|0,Y=Y+Math.imul(We,be)|0,Y=Y+Math.imul(ut,ke)|0,re=re+Math.imul(ut,be)|0,Z=Z+Math.imul(He,_e)|0,Y=Y+Math.imul(He,Ee)|0,Y=Y+Math.imul(Ve,_e)|0,re=re+Math.imul(Ve,Ee)|0,Z=Z+Math.imul(Le,je)|0,Y=Y+Math.imul(Le,nt)|0,Y=Y+Math.imul(xe,je)|0,re=re+Math.imul(xe,nt)|0,Z=Z+Math.imul(Ae,xt)|0,Y=Y+Math.imul(Ae,Kt)|0,Y=Y+Math.imul(Ie,xt)|0,re=re+Math.imul(Ie,Kt)|0,Z=Z+Math.imul(ce,St)|0,Y=Y+Math.imul(ce,Ft)|0,Y=Y+Math.imul(ye,St)|0,re=re+Math.imul(ye,Ft)|0,Z=Z+Math.imul(j,_r)|0,Y=Y+Math.imul(j,Tt)|0,Y=Y+Math.imul(ue,_r)|0,re=re+Math.imul(ue,Tt)|0,Z=Z+Math.imul(q,tr)|0,Y=Y+Math.imul(q,Tr)|0,Y=Y+Math.imul(se,tr)|0,re=re+Math.imul(se,Tr)|0;var Xe=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,Z=Math.imul(pt,Ze),Y=Math.imul(pt,Je),Y=Y+Math.imul(mt,Ze)|0,re=Math.imul(mt,Je),Z=Z+Math.imul(rt,ke)|0,Y=Y+Math.imul(rt,be)|0,Y=Y+Math.imul(tt,ke)|0,re=re+Math.imul(tt,be)|0,Z=Z+Math.imul(We,_e)|0,Y=Y+Math.imul(We,Ee)|0,Y=Y+Math.imul(ut,_e)|0,re=re+Math.imul(ut,Ee)|0,Z=Z+Math.imul(He,je)|0,Y=Y+Math.imul(He,nt)|0,Y=Y+Math.imul(Ve,je)|0,re=re+Math.imul(Ve,nt)|0,Z=Z+Math.imul(Le,xt)|0,Y=Y+Math.imul(Le,Kt)|0,Y=Y+Math.imul(xe,xt)|0,re=re+Math.imul(xe,Kt)|0,Z=Z+Math.imul(Ae,St)|0,Y=Y+Math.imul(Ae,Ft)|0,Y=Y+Math.imul(Ie,St)|0,re=re+Math.imul(Ie,Ft)|0,Z=Z+Math.imul(ce,_r)|0,Y=Y+Math.imul(ce,Tt)|0,Y=Y+Math.imul(ye,_r)|0,re=re+Math.imul(ye,Tt)|0,Z=Z+Math.imul(j,tr)|0,Y=Y+Math.imul(j,Tr)|0,Y=Y+Math.imul(ue,tr)|0,re=re+Math.imul(ue,Tr)|0,Z=Z+Math.imul(q,bt)|0,Y=Y+Math.imul(q,lt)|0,Y=Y+Math.imul(se,bt)|0,re=re+Math.imul(se,lt)|0;var Ge=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,Z=Math.imul(Lt,Ze),Y=Math.imul(Lt,Je),Y=Y+Math.imul(at,Ze)|0,re=Math.imul(at,Je),Z=Z+Math.imul(pt,ke)|0,Y=Y+Math.imul(pt,be)|0,Y=Y+Math.imul(mt,ke)|0,re=re+Math.imul(mt,be)|0,Z=Z+Math.imul(rt,_e)|0,Y=Y+Math.imul(rt,Ee)|0,Y=Y+Math.imul(tt,_e)|0,re=re+Math.imul(tt,Ee)|0,Z=Z+Math.imul(We,je)|0,Y=Y+Math.imul(We,nt)|0,Y=Y+Math.imul(ut,je)|0,re=re+Math.imul(ut,nt)|0,Z=Z+Math.imul(He,xt)|0,Y=Y+Math.imul(He,Kt)|0,Y=Y+Math.imul(Ve,xt)|0,re=re+Math.imul(Ve,Kt)|0,Z=Z+Math.imul(Le,St)|0,Y=Y+Math.imul(Le,Ft)|0,Y=Y+Math.imul(xe,St)|0,re=re+Math.imul(xe,Ft)|0,Z=Z+Math.imul(Ae,_r)|0,Y=Y+Math.imul(Ae,Tt)|0,Y=Y+Math.imul(Ie,_r)|0,re=re+Math.imul(Ie,Tt)|0,Z=Z+Math.imul(ce,tr)|0,Y=Y+Math.imul(ce,Tr)|0,Y=Y+Math.imul(ye,tr)|0,re=re+Math.imul(ye,Tr)|0,Z=Z+Math.imul(j,bt)|0,Y=Y+Math.imul(j,lt)|0,Y=Y+Math.imul(ue,bt)|0,re=re+Math.imul(ue,lt)|0,Z=Z+Math.imul(q,_t)|0,Y=Y+Math.imul(q,Ot)|0,Y=Y+Math.imul(se,_t)|0,re=re+Math.imul(se,Ot)|0;var Ut=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,Z=Math.imul(Lt,ke),Y=Math.imul(Lt,be),Y=Y+Math.imul(at,ke)|0,re=Math.imul(at,be),Z=Z+Math.imul(pt,_e)|0,Y=Y+Math.imul(pt,Ee)|0,Y=Y+Math.imul(mt,_e)|0,re=re+Math.imul(mt,Ee)|0,Z=Z+Math.imul(rt,je)|0,Y=Y+Math.imul(rt,nt)|0,Y=Y+Math.imul(tt,je)|0,re=re+Math.imul(tt,nt)|0,Z=Z+Math.imul(We,xt)|0,Y=Y+Math.imul(We,Kt)|0,Y=Y+Math.imul(ut,xt)|0,re=re+Math.imul(ut,Kt)|0,Z=Z+Math.imul(He,St)|0,Y=Y+Math.imul(He,Ft)|0,Y=Y+Math.imul(Ve,St)|0,re=re+Math.imul(Ve,Ft)|0,Z=Z+Math.imul(Le,_r)|0,Y=Y+Math.imul(Le,Tt)|0,Y=Y+Math.imul(xe,_r)|0,re=re+Math.imul(xe,Tt)|0,Z=Z+Math.imul(Ae,tr)|0,Y=Y+Math.imul(Ae,Tr)|0,Y=Y+Math.imul(Ie,tr)|0,re=re+Math.imul(Ie,Tr)|0,Z=Z+Math.imul(ce,bt)|0,Y=Y+Math.imul(ce,lt)|0,Y=Y+Math.imul(ye,bt)|0,re=re+Math.imul(ye,lt)|0,Z=Z+Math.imul(j,_t)|0,Y=Y+Math.imul(j,Ot)|0,Y=Y+Math.imul(ue,_t)|0,re=re+Math.imul(ue,Ot)|0;var Nt=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,Z=Math.imul(Lt,_e),Y=Math.imul(Lt,Ee),Y=Y+Math.imul(at,_e)|0,re=Math.imul(at,Ee),Z=Z+Math.imul(pt,je)|0,Y=Y+Math.imul(pt,nt)|0,Y=Y+Math.imul(mt,je)|0,re=re+Math.imul(mt,nt)|0,Z=Z+Math.imul(rt,xt)|0,Y=Y+Math.imul(rt,Kt)|0,Y=Y+Math.imul(tt,xt)|0,re=re+Math.imul(tt,Kt)|0,Z=Z+Math.imul(We,St)|0,Y=Y+Math.imul(We,Ft)|0,Y=Y+Math.imul(ut,St)|0,re=re+Math.imul(ut,Ft)|0,Z=Z+Math.imul(He,_r)|0,Y=Y+Math.imul(He,Tt)|0,Y=Y+Math.imul(Ve,_r)|0,re=re+Math.imul(Ve,Tt)|0,Z=Z+Math.imul(Le,tr)|0,Y=Y+Math.imul(Le,Tr)|0,Y=Y+Math.imul(xe,tr)|0,re=re+Math.imul(xe,Tr)|0,Z=Z+Math.imul(Ae,bt)|0,Y=Y+Math.imul(Ae,lt)|0,Y=Y+Math.imul(Ie,bt)|0,re=re+Math.imul(Ie,lt)|0,Z=Z+Math.imul(ce,_t)|0,Y=Y+Math.imul(ce,Ot)|0,Y=Y+Math.imul(ye,_t)|0,re=re+Math.imul(ye,Ot)|0;var Qt=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,Z=Math.imul(Lt,je),Y=Math.imul(Lt,nt),Y=Y+Math.imul(at,je)|0,re=Math.imul(at,nt),Z=Z+Math.imul(pt,xt)|0,Y=Y+Math.imul(pt,Kt)|0,Y=Y+Math.imul(mt,xt)|0,re=re+Math.imul(mt,Kt)|0,Z=Z+Math.imul(rt,St)|0,Y=Y+Math.imul(rt,Ft)|0,Y=Y+Math.imul(tt,St)|0,re=re+Math.imul(tt,Ft)|0,Z=Z+Math.imul(We,_r)|0,Y=Y+Math.imul(We,Tt)|0,Y=Y+Math.imul(ut,_r)|0,re=re+Math.imul(ut,Tt)|0,Z=Z+Math.imul(He,tr)|0,Y=Y+Math.imul(He,Tr)|0,Y=Y+Math.imul(Ve,tr)|0,re=re+Math.imul(Ve,Tr)|0,Z=Z+Math.imul(Le,bt)|0,Y=Y+Math.imul(Le,lt)|0,Y=Y+Math.imul(xe,bt)|0,re=re+Math.imul(xe,lt)|0,Z=Z+Math.imul(Ae,_t)|0,Y=Y+Math.imul(Ae,Ot)|0,Y=Y+Math.imul(Ie,_t)|0,re=re+Math.imul(Ie,Ot)|0;var ar=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(ar>>>26)|0,ar&=67108863,Z=Math.imul(Lt,xt),Y=Math.imul(Lt,Kt),Y=Y+Math.imul(at,xt)|0,re=Math.imul(at,Kt),Z=Z+Math.imul(pt,St)|0,Y=Y+Math.imul(pt,Ft)|0,Y=Y+Math.imul(mt,St)|0,re=re+Math.imul(mt,Ft)|0,Z=Z+Math.imul(rt,_r)|0,Y=Y+Math.imul(rt,Tt)|0,Y=Y+Math.imul(tt,_r)|0,re=re+Math.imul(tt,Tt)|0,Z=Z+Math.imul(We,tr)|0,Y=Y+Math.imul(We,Tr)|0,Y=Y+Math.imul(ut,tr)|0,re=re+Math.imul(ut,Tr)|0,Z=Z+Math.imul(He,bt)|0,Y=Y+Math.imul(He,lt)|0,Y=Y+Math.imul(Ve,bt)|0,re=re+Math.imul(Ve,lt)|0,Z=Z+Math.imul(Le,_t)|0,Y=Y+Math.imul(Le,Ot)|0,Y=Y+Math.imul(xe,_t)|0,re=re+Math.imul(xe,Ot)|0;var hr=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(hr>>>26)|0,hr&=67108863,Z=Math.imul(Lt,St),Y=Math.imul(Lt,Ft),Y=Y+Math.imul(at,St)|0,re=Math.imul(at,Ft),Z=Z+Math.imul(pt,_r)|0,Y=Y+Math.imul(pt,Tt)|0,Y=Y+Math.imul(mt,_r)|0,re=re+Math.imul(mt,Tt)|0,Z=Z+Math.imul(rt,tr)|0,Y=Y+Math.imul(rt,Tr)|0,Y=Y+Math.imul(tt,tr)|0,re=re+Math.imul(tt,Tr)|0,Z=Z+Math.imul(We,bt)|0,Y=Y+Math.imul(We,lt)|0,Y=Y+Math.imul(ut,bt)|0,re=re+Math.imul(ut,lt)|0,Z=Z+Math.imul(He,_t)|0,Y=Y+Math.imul(He,Ot)|0,Y=Y+Math.imul(Ve,_t)|0,re=re+Math.imul(Ve,Ot)|0;var or=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(or>>>26)|0,or&=67108863,Z=Math.imul(Lt,_r),Y=Math.imul(Lt,Tt),Y=Y+Math.imul(at,_r)|0,re=Math.imul(at,Tt),Z=Z+Math.imul(pt,tr)|0,Y=Y+Math.imul(pt,Tr)|0,Y=Y+Math.imul(mt,tr)|0,re=re+Math.imul(mt,Tr)|0,Z=Z+Math.imul(rt,bt)|0,Y=Y+Math.imul(rt,lt)|0,Y=Y+Math.imul(tt,bt)|0,re=re+Math.imul(tt,lt)|0,Z=Z+Math.imul(We,_t)|0,Y=Y+Math.imul(We,Ot)|0,Y=Y+Math.imul(ut,_t)|0,re=re+Math.imul(ut,Ot)|0;var Vt=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,Z=Math.imul(Lt,tr),Y=Math.imul(Lt,Tr),Y=Y+Math.imul(at,tr)|0,re=Math.imul(at,Tr),Z=Z+Math.imul(pt,bt)|0,Y=Y+Math.imul(pt,lt)|0,Y=Y+Math.imul(mt,bt)|0,re=re+Math.imul(mt,lt)|0,Z=Z+Math.imul(rt,_t)|0,Y=Y+Math.imul(rt,Ot)|0,Y=Y+Math.imul(tt,_t)|0,re=re+Math.imul(tt,Ot)|0;var yr=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(yr>>>26)|0,yr&=67108863,Z=Math.imul(Lt,bt),Y=Math.imul(Lt,lt),Y=Y+Math.imul(at,bt)|0,re=Math.imul(at,lt),Z=Z+Math.imul(pt,_t)|0,Y=Y+Math.imul(pt,Ot)|0,Y=Y+Math.imul(mt,_t)|0,re=re+Math.imul(mt,Ot)|0;var wr=(le+Z|0)+((Y&8191)<<13)|0;le=(re+(Y>>>13)|0)+(wr>>>26)|0,wr&=67108863,Z=Math.imul(Lt,_t),Y=Math.imul(Lt,Ot),Y=Y+Math.imul(at,_t)|0,re=Math.imul(at,Ot);var Ar=(le+Z|0)+((Y&8191)<<13)|0;return le=(re+(Y>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,Q[0]=It,Q[1]=Wt,Q[2]=Gt,Q[3]=er,Q[4]=dr,Q[5]=pr,Q[6]=mr,Q[7]=Xe,Q[8]=Ge,Q[9]=Ut,Q[10]=Nt,Q[11]=Qt,Q[12]=ar,Q[13]=hr,Q[14]=or,Q[15]=Vt,Q[16]=yr,Q[17]=wr,Q[18]=Ar,le!==0&&(Q[19]=le,W.length++),W};Math.imul||(E=A);function y(F,O,B){B.negative=O.negative^F.negative,B.length=F.length+O.length;for(var W=0,ee=0,ne=0;ne<B.length-1;ne++){var Q=ee;ee=0;for(var le=W&67108863,Z=Math.min(ne,O.length-1),Y=Math.max(0,ne-F.length+1);Y<=Z;Y++){var re=ne-Y,X=F.words[re]|0,q=O.words[Y]|0,se=X*q,$=se&67108863;Q=Q+(se/67108864|0)|0,$=$+le|0,le=$&67108863,Q=Q+($>>>26)|0,ee+=Q>>>26,Q&=67108863}B.words[ne]=le,W=Q,Q=ee}return W!==0?B.words[ne]=W:B.length--,B.strip()}function S(F,O,B){var W=new w;return W.mulp(F,O,B)}u.prototype.mulTo=function(O,B){var W,ee=this.length+O.length;return this.length===10&&O.length===10?W=E(this,O,B):ee<63?W=A(this,O,B):ee<1024?W=y(this,O,B):W=S(this,O,B),W};function w(F,O){this.x=F,this.y=O}w.prototype.makeRBT=function(O){for(var B=new Array(O),W=u.prototype._countBits(O)-1,ee=0;ee<O;ee++)B[ee]=this.revBin(ee,W,O);return B},w.prototype.revBin=function(O,B,W){if(O===0||O===W-1)return O;for(var ee=0,ne=0;ne<B;ne++)ee|=(O&1)<<B-ne-1,O>>=1;return ee},w.prototype.permute=function(O,B,W,ee,ne,Q){for(var le=0;le<Q;le++)ee[le]=B[O[le]],ne[le]=W[O[le]]},w.prototype.transform=function(O,B,W,ee,ne,Q){this.permute(Q,O,B,W,ee,ne);for(var le=1;le<ne;le<<=1)for(var Z=le<<1,Y=Math.cos(2*Math.PI/Z),re=Math.sin(2*Math.PI/Z),X=0;X<ne;X+=Z)for(var q=Y,se=re,$=0;$<le;$++){var j=W[X+$],ue=ee[X+$],ae=W[X+$+le],ce=ee[X+$+le],ye=q*ae-se*ce;ce=q*ce+se*ae,ae=ye,W[X+$]=j+ae,ee[X+$]=ue+ce,W[X+$+le]=j-ae,ee[X+$+le]=ue-ce,$!==Z&&(ye=Y*q-re*se,se=Y*se+re*q,q=ye)}},w.prototype.guessLen13b=function(O,B){var W=Math.max(B,O)|1,ee=W&1,ne=0;for(W=W/2|0;W;W=W>>>1)ne++;return 1<<ne+1+ee},w.prototype.conjugate=function(O,B,W){if(!(W<=1))for(var ee=0;ee<W/2;ee++){var ne=O[ee];O[ee]=O[W-ee-1],O[W-ee-1]=ne,ne=B[ee],B[ee]=-B[W-ee-1],B[W-ee-1]=-ne}},w.prototype.normalize13b=function(O,B){for(var W=0,ee=0;ee<B/2;ee++){var ne=Math.round(O[2*ee+1]/B)*8192+Math.round(O[2*ee]/B)+W;O[ee]=ne&67108863,ne<67108864?W=0:W=ne/67108864|0}return O},w.prototype.convert13b=function(O,B,W,ee){for(var ne=0,Q=0;Q<B;Q++)ne=ne+(O[Q]|0),W[2*Q]=ne&8191,ne=ne>>>13,W[2*Q+1]=ne&8191,ne=ne>>>13;for(Q=2*B;Q<ee;++Q)W[Q]=0;a(ne===0),a((ne&-8192)===0)},w.prototype.stub=function(O){for(var B=new Array(O),W=0;W<O;W++)B[W]=0;return B},w.prototype.mulp=function(O,B,W){var ee=2*this.guessLen13b(O.length,B.length),ne=this.makeRBT(ee),Q=this.stub(ee),le=new Array(ee),Z=new Array(ee),Y=new Array(ee),re=new Array(ee),X=new Array(ee),q=new Array(ee),se=W.words;se.length=ee,this.convert13b(O.words,O.length,le,ee),this.convert13b(B.words,B.length,re,ee),this.transform(le,Q,Z,Y,ee,ne),this.transform(re,Q,X,q,ee,ne);for(var $=0;$<ee;$++){var j=Z[$]*X[$]-Y[$]*q[$];Y[$]=Z[$]*q[$]+Y[$]*X[$],Z[$]=j}return this.conjugate(Z,Y,ee),this.transform(Z,Y,se,Q,ee,ne),this.conjugate(se,Q,ee),this.normalize13b(se,ee),W.negative=O.negative^B.negative,W.length=O.length+B.length,W.strip()},u.prototype.mul=function(O){var B=new u(null);return B.words=new Array(this.length+O.length),this.mulTo(O,B)},u.prototype.mulf=function(O){var B=new u(null);return B.words=new Array(this.length+O.length),S(this,O,B)},u.prototype.imul=function(O){return this.clone().mulTo(O,this)},u.prototype.imuln=function(O){a(typeof O=="number"),a(O<67108864);for(var B=0,W=0;W<this.length;W++){var ee=(this.words[W]|0)*O,ne=(ee&67108863)+(B&67108863);B>>=26,B+=ee/67108864|0,B+=ne>>>26,this.words[W]=ne&67108863}return B!==0&&(this.words[W]=B,this.length++),this},u.prototype.muln=function(O){return this.clone().imuln(O)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(O){var B=x(O);if(B.length===0)return new u(1);for(var W=this,ee=0;ee<B.length&&B[ee]===0;ee++,W=W.sqr());if(++ee<B.length)for(var ne=W.sqr();ee<B.length;ee++,ne=ne.sqr())B[ee]!==0&&(W=W.mul(ne));return W},u.prototype.iushln=function(O){a(typeof O=="number"&&O>=0);var B=O%26,W=(O-B)/26,ee=67108863>>>26-B<<26-B,ne;if(B!==0){var Q=0;for(ne=0;ne<this.length;ne++){var le=this.words[ne]&ee,Z=(this.words[ne]|0)-le<<B;this.words[ne]=Z|Q,Q=le>>>26-B}Q&&(this.words[ne]=Q,this.length++)}if(W!==0){for(ne=this.length-1;ne>=0;ne--)this.words[ne+W]=this.words[ne];for(ne=0;ne<W;ne++)this.words[ne]=0;this.length+=W}return this.strip()},u.prototype.ishln=function(O){return a(this.negative===0),this.iushln(O)},u.prototype.iushrn=function(O,B,W){a(typeof O=="number"&&O>=0);var ee;B?ee=(B-B%26)/26:ee=0;var ne=O%26,Q=Math.min((O-ne)/26,this.length),le=67108863^67108863>>>ne<<ne,Z=W;if(ee-=Q,ee=Math.max(0,ee),Z){for(var Y=0;Y<Q;Y++)Z.words[Y]=this.words[Y];Z.length=Q}if(Q!==0)if(this.length>Q)for(this.length-=Q,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+Q];else this.words[0]=0,this.length=1;var re=0;for(Y=this.length-1;Y>=0&&(re!==0||Y>=ee);Y--){var X=this.words[Y]|0;this.words[Y]=re<<26-ne|X>>>ne,re=X&le}return Z&&re!==0&&(Z.words[Z.length++]=re),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(O,B,W){return a(this.negative===0),this.iushrn(O,B,W)},u.prototype.shln=function(O){return this.clone().ishln(O)},u.prototype.ushln=function(O){return this.clone().iushln(O)},u.prototype.shrn=function(O){return this.clone().ishrn(O)},u.prototype.ushrn=function(O){return this.clone().iushrn(O)},u.prototype.testn=function(O){a(typeof O=="number"&&O>=0);var B=O%26,W=(O-B)/26,ee=1<<B;if(this.length<=W)return!1;var ne=this.words[W];return!!(ne&ee)},u.prototype.imaskn=function(O){a(typeof O=="number"&&O>=0);var B=O%26,W=(O-B)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(B!==0&&W++,this.length=Math.min(W,this.length),B!==0){var ee=67108863^67108863>>>B<<B;this.words[this.length-1]&=ee}return this.strip()},u.prototype.maskn=function(O){return this.clone().imaskn(O)},u.prototype.iaddn=function(O){return a(typeof O=="number"),a(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(this.words[0]|0)<O?(this.words[0]=O-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},u.prototype._iaddn=function(O){this.words[0]+=O;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},u.prototype.isubn=function(O){if(a(typeof O=="number"),a(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},u.prototype.addn=function(O){return this.clone().iaddn(O)},u.prototype.subn=function(O){return this.clone().isubn(O)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(O,B,W){var ee=O.length+W,ne;this._expand(ee);var Q,le=0;for(ne=0;ne<O.length;ne++){Q=(this.words[ne+W]|0)+le;var Z=(O.words[ne]|0)*B;Q-=Z&67108863,le=(Q>>26)-(Z/67108864|0),this.words[ne+W]=Q&67108863}for(;ne<this.length-W;ne++)Q=(this.words[ne+W]|0)+le,le=Q>>26,this.words[ne+W]=Q&67108863;if(le===0)return this.strip();for(a(le===-1),le=0,ne=0;ne<this.length;ne++)Q=-(this.words[ne]|0)+le,le=Q>>26,this.words[ne]=Q&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(O,B){var W=this.length-O.length,ee=this.clone(),ne=O,Q=ne.words[ne.length-1]|0,le=this._countBits(Q);W=26-le,W!==0&&(ne=ne.ushln(W),ee.iushln(W),Q=ne.words[ne.length-1]|0);var Z=ee.length-ne.length,Y;if(B!=="mod"){Y=new u(null),Y.length=Z+1,Y.words=new Array(Y.length);for(var re=0;re<Y.length;re++)Y.words[re]=0}var X=ee.clone()._ishlnsubmul(ne,1,Z);X.negative===0&&(ee=X,Y&&(Y.words[Z]=1));for(var q=Z-1;q>=0;q--){var se=(ee.words[ne.length+q]|0)*67108864+(ee.words[ne.length+q-1]|0);for(se=Math.min(se/Q|0,67108863),ee._ishlnsubmul(ne,se,q);ee.negative!==0;)se--,ee.negative=0,ee._ishlnsubmul(ne,1,q),ee.isZero()||(ee.negative^=1);Y&&(Y.words[q]=se)}return Y&&Y.strip(),ee.strip(),B!=="div"&&W!==0&&ee.iushrn(W),{div:Y||null,mod:ee}},u.prototype.divmod=function(O,B,W){if(a(!O.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var ee,ne,Q;return this.negative!==0&&O.negative===0?(Q=this.neg().divmod(O,B),B!=="mod"&&(ee=Q.div.neg()),B!=="div"&&(ne=Q.mod.neg(),W&&ne.negative!==0&&ne.iadd(O)),{div:ee,mod:ne}):this.negative===0&&O.negative!==0?(Q=this.divmod(O.neg(),B),B!=="mod"&&(ee=Q.div.neg()),{div:ee,mod:Q.mod}):this.negative&O.negative?(Q=this.neg().divmod(O.neg(),B),B!=="div"&&(ne=Q.mod.neg(),W&&ne.negative!==0&&ne.isub(O)),{div:Q.div,mod:ne}):O.length>this.length||this.cmp(O)<0?{div:new u(0),mod:this}:O.length===1?B==="div"?{div:this.divn(O.words[0]),mod:null}:B==="mod"?{div:null,mod:new u(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new u(this.modn(O.words[0]))}:this._wordDiv(O,B)},u.prototype.div=function(O){return this.divmod(O,"div",!1).div},u.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},u.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},u.prototype.divRound=function(O){var B=this.divmod(O);if(B.mod.isZero())return B.div;var W=B.div.negative!==0?B.mod.isub(O):B.mod,ee=O.ushrn(1),ne=O.andln(1),Q=W.cmp(ee);return Q<0||ne===1&&Q===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},u.prototype.modn=function(O){a(O<=67108863);for(var B=(1<<26)%O,W=0,ee=this.length-1;ee>=0;ee--)W=(B*W+(this.words[ee]|0))%O;return W},u.prototype.idivn=function(O){a(O<=67108863);for(var B=0,W=this.length-1;W>=0;W--){var ee=(this.words[W]|0)+B*67108864;this.words[W]=ee/O|0,B=ee%O}return this.strip()},u.prototype.divn=function(O){return this.clone().idivn(O)},u.prototype.egcd=function(O){a(O.negative===0),a(!O.isZero());var B=this,W=O.clone();B.negative!==0?B=B.umod(O):B=B.clone();for(var ee=new u(1),ne=new u(0),Q=new u(0),le=new u(1),Z=0;B.isEven()&&W.isEven();)B.iushrn(1),W.iushrn(1),++Z;for(var Y=W.clone(),re=B.clone();!B.isZero();){for(var X=0,q=1;!(B.words[0]&q)&&X<26;++X,q<<=1);if(X>0)for(B.iushrn(X);X-- >0;)(ee.isOdd()||ne.isOdd())&&(ee.iadd(Y),ne.isub(re)),ee.iushrn(1),ne.iushrn(1);for(var se=0,$=1;!(W.words[0]&$)&&se<26;++se,$<<=1);if(se>0)for(W.iushrn(se);se-- >0;)(Q.isOdd()||le.isOdd())&&(Q.iadd(Y),le.isub(re)),Q.iushrn(1),le.iushrn(1);B.cmp(W)>=0?(B.isub(W),ee.isub(Q),ne.isub(le)):(W.isub(B),Q.isub(ee),le.isub(ne))}return{a:Q,b:le,gcd:W.iushln(Z)}},u.prototype._invmp=function(O){a(O.negative===0),a(!O.isZero());var B=this,W=O.clone();B.negative!==0?B=B.umod(O):B=B.clone();for(var ee=new u(1),ne=new u(0),Q=W.clone();B.cmpn(1)>0&&W.cmpn(1)>0;){for(var le=0,Z=1;!(B.words[0]&Z)&&le<26;++le,Z<<=1);if(le>0)for(B.iushrn(le);le-- >0;)ee.isOdd()&&ee.iadd(Q),ee.iushrn(1);for(var Y=0,re=1;!(W.words[0]&re)&&Y<26;++Y,re<<=1);if(Y>0)for(W.iushrn(Y);Y-- >0;)ne.isOdd()&&ne.iadd(Q),ne.iushrn(1);B.cmp(W)>=0?(B.isub(W),ee.isub(ne)):(W.isub(B),ne.isub(ee))}var X;return B.cmpn(1)===0?X=ee:X=ne,X.cmpn(0)<0&&X.iadd(O),X},u.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var B=this.clone(),W=O.clone();B.negative=0,W.negative=0;for(var ee=0;B.isEven()&&W.isEven();ee++)B.iushrn(1),W.iushrn(1);do{for(;B.isEven();)B.iushrn(1);for(;W.isEven();)W.iushrn(1);var ne=B.cmp(W);if(ne<0){var Q=B;B=W,W=Q}else if(ne===0||W.cmpn(1)===0)break;B.isub(W)}while(!0);return W.iushln(ee)},u.prototype.invm=function(O){return this.egcd(O).a.umod(O)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(O){return this.words[0]&O},u.prototype.bincn=function(O){a(typeof O=="number");var B=O%26,W=(O-B)/26,ee=1<<B;if(this.length<=W)return this._expand(W+1),this.words[W]|=ee,this;for(var ne=ee,Q=W;ne!==0&&Q<this.length;Q++){var le=this.words[Q]|0;le+=ne,ne=le>>>26,le&=67108863,this.words[Q]=le}return ne!==0&&(this.words[Q]=ne,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(O){var B=O<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;this.strip();var W;if(this.length>1)W=1;else{B&&(O=-O),a(O<=67108863,"Number is too big");var ee=this.words[0]|0;W=ee===O?0:ee<O?-1:1}return this.negative!==0?-W|0:W},u.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var B=this.ucmp(O);return this.negative!==0?-B|0:B},u.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var B=0,W=this.length-1;W>=0;W--){var ee=this.words[W]|0,ne=O.words[W]|0;if(ee!==ne){ee<ne?B=-1:ee>ne&&(B=1);break}}return B},u.prototype.gtn=function(O){return this.cmpn(O)===1},u.prototype.gt=function(O){return this.cmp(O)===1},u.prototype.gten=function(O){return this.cmpn(O)>=0},u.prototype.gte=function(O){return this.cmp(O)>=0},u.prototype.ltn=function(O){return this.cmpn(O)===-1},u.prototype.lt=function(O){return this.cmp(O)===-1},u.prototype.lten=function(O){return this.cmpn(O)<=0},u.prototype.lte=function(O){return this.cmp(O)<=0},u.prototype.eqn=function(O){return this.cmpn(O)===0},u.prototype.eq=function(O){return this.cmp(O)===0},u.red=function(O){return new k(O)},u.prototype.toRed=function(O){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},u.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(O){return this.red=O,this},u.prototype.forceRed=function(O){return a(!this.red,"Already a number in reduction context"),this._forceRed(O)},u.prototype.redAdd=function(O){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},u.prototype.redIAdd=function(O){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},u.prototype.redSub=function(O){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},u.prototype.redISub=function(O){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},u.prototype.redShl=function(O){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},u.prototype.redMul=function(O){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},u.prototype.redIMul=function(O){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},u.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(O){return a(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var o={k256:null,p224:null,p192:null,p25519:null};function _(F,O){this.name=F,this.p=new u(O,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_.prototype._tmp=function(){var O=new u(null);return O.words=new Array(Math.ceil(this.n/13)),O},_.prototype.ireduce=function(O){var B=O,W;do this.split(B,this.tmp),B=this.imulK(B),B=B.iadd(this.tmp),W=B.bitLength();while(W>this.n);var ee=W<this.n?-1:B.ucmp(this.p);return ee===0?(B.words[0]=0,B.length=1):ee>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},_.prototype.split=function(O,B){O.iushrn(this.n,0,B)},_.prototype.imulK=function(O){return O.imul(this.k)};function b(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(b,_),b.prototype.split=function(O,B){for(var W=4194303,ee=Math.min(O.length,9),ne=0;ne<ee;ne++)B.words[ne]=O.words[ne];if(B.length=ee,O.length<=9){O.words[0]=0,O.length=1;return}var Q=O.words[9];for(B.words[B.length++]=Q&W,ne=10;ne<O.length;ne++){var le=O.words[ne]|0;O.words[ne-10]=(le&W)<<4|Q>>>22,Q=le}Q>>>=22,O.words[ne-10]=Q,Q===0&&O.length>10?O.length-=10:O.length-=9},b.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var B=0,W=0;W<O.length;W++){var ee=O.words[W]|0;B+=ee*977,O.words[W]=B&67108863,B=ee*64+(B/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O};function I(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(I,_);function D(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(D,_);function N(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(N,_),N.prototype.imulK=function(O){for(var B=0,W=0;W<O.length;W++){var ee=(O.words[W]|0)*19+B,ne=ee&67108863;ee>>>=26,O.words[W]=ne,B=ee}return B!==0&&(O.words[O.length++]=B),O},u._prime=function(O){if(o[O])return o[O];var B;if(O==="k256")B=new b;else if(O==="p224")B=new I;else if(O==="p192")B=new D;else if(O==="p25519")B=new N;else throw new Error("Unknown prime "+O);return o[O]=B,B};function k(F){if(typeof F=="string"){var O=u._prime(F);this.m=O.p,this.prime=O}else a(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}k.prototype._verify1=function(O){a(O.negative===0,"red works only with positives"),a(O.red,"red works only with red numbers")},k.prototype._verify2=function(O,B){a((O.negative|B.negative)===0,"red works only with positives"),a(O.red&&O.red===B.red,"red works only with red numbers")},k.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},k.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},k.prototype.add=function(O,B){this._verify2(O,B);var W=O.add(B);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},k.prototype.iadd=function(O,B){this._verify2(O,B);var W=O.iadd(B);return W.cmp(this.m)>=0&&W.isub(this.m),W},k.prototype.sub=function(O,B){this._verify2(O,B);var W=O.sub(B);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},k.prototype.isub=function(O,B){this._verify2(O,B);var W=O.isub(B);return W.cmpn(0)<0&&W.iadd(this.m),W},k.prototype.shl=function(O,B){return this._verify1(O),this.imod(O.ushln(B))},k.prototype.imul=function(O,B){return this._verify2(O,B),this.imod(O.imul(B))},k.prototype.mul=function(O,B){return this._verify2(O,B),this.imod(O.mul(B))},k.prototype.isqr=function(O){return this.imul(O,O.clone())},k.prototype.sqr=function(O){return this.mul(O,O)},k.prototype.sqrt=function(O){if(O.isZero())return O.clone();var B=this.m.andln(3);if(a(B%2===1),B===3){var W=this.m.add(new u(1)).iushrn(2);return this.pow(O,W)}for(var ee=this.m.subn(1),ne=0;!ee.isZero()&&ee.andln(1)===0;)ne++,ee.iushrn(1);a(!ee.isZero());var Q=new u(1).toRed(this),le=Q.redNeg(),Z=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new u(2*Y*Y).toRed(this);this.pow(Y,Z).cmp(le)!==0;)Y.redIAdd(le);for(var re=this.pow(Y,ee),X=this.pow(O,ee.addn(1).iushrn(1)),q=this.pow(O,ee),se=ne;q.cmp(Q)!==0;){for(var $=q,j=0;$.cmp(Q)!==0;j++)$=$.redSqr();a(j<se);var ue=this.pow(re,new u(1).iushln(se-j-1));X=X.redMul(ue),re=ue.redSqr(),q=q.redMul(re),se=j}return X},k.prototype.invm=function(O){var B=O._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},k.prototype.pow=function(O,B){if(B.isZero())return new u(1).toRed(this);if(B.cmpn(1)===0)return O.clone();var W=4,ee=new Array(1<<W);ee[0]=new u(1).toRed(this),ee[1]=O;for(var ne=2;ne<ee.length;ne++)ee[ne]=this.mul(ee[ne-1],O);var Q=ee[0],le=0,Z=0,Y=B.bitLength()%26;for(Y===0&&(Y=26),ne=B.length-1;ne>=0;ne--){for(var re=B.words[ne],X=Y-1;X>=0;X--){var q=re>>X&1;if(Q!==ee[0]&&(Q=this.sqr(Q)),q===0&&le===0){Z=0;continue}le<<=1,le|=q,Z++,!(Z!==W&&(ne!==0||X!==0))&&(Q=this.mul(Q,ee[le]),Z=0,le=0)}Y=26}return Q},k.prototype.convertTo=function(O){var B=O.umod(this.m);return B===O?B.clone():B},k.prototype.convertFrom=function(O){var B=O.clone();return B.red=null,B},u.mont=function(O){return new z(O)};function z(F){k.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(z,k),z.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},z.prototype.convertFrom=function(O){var B=this.imod(O.mul(this.rinv));return B.red=null,B},z.prototype.imul=function(O,B){if(O.isZero()||B.isZero())return O.words[0]=0,O.length=1,O;var W=O.imul(B),ee=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=W.isub(ee).iushrn(this.shift),Q=ne;return ne.cmp(this.m)>=0?Q=ne.isub(this.m):ne.cmpn(0)<0&&(Q=ne.iadd(this.m)),Q._forceRed(this)},z.prototype.mul=function(O,B){if(O.isZero()||B.isZero())return new u(0)._forceRed(this);var W=O.mul(B),ee=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=W.isub(ee).iushrn(this.shift),Q=ne;return ne.cmp(this.m)>=0?Q=ne.isub(this.m):ne.cmpn(0)<0&&(Q=ne.iadd(this.m)),Q._forceRed(this)},z.prototype.invm=function(O){var B=this.imod(O._invmp(this.m).mul(this.r2));return B._forceRed(this)}}(v,this)},2692:function(v){v.exports=g;function g(r){var t,s,a,f=r.length,u=0;for(t=0;t<f;++t)u+=r[t].length;var l=new Array(u),m=0;for(t=0;t<f;++t){var h=r[t],M=h.length;for(s=0;s<M;++s){var c=l[m++]=new Array(M-1),i=0;for(a=0;a<M;++a)a!==s&&(c[i++]=h[a]);if(s&1){var d=c[1];c[1]=c[0],c[0]=d}}}return l}},2569:function(v,g,r){v.exports=i;var t=r(5306),s=r(1390),a=r(2337);function f(d,x){for(var A=0;A<d;++A)if(!(x[A]<=x[A+d]))return!0;return!1}function u(d,x,A,E){for(var y=0,S=0,w=0,o=d.length;w<o;++w){var _=d[w];if(!f(x,_)){for(var b=0;b<2*x;++b)A[y++]=_[b];E[S++]=w}}return S}function l(d,x,A,E){var y=d.length,S=x.length;if(!(y<=0||S<=0)){var w=d[0].length>>>1;if(!(w<=0)){var o,_=t.mallocDouble(2*w*y),b=t.mallocInt32(y);if(y=u(d,w,_,b),y>0){if(w===1&&E)s.init(y),o=s.sweepComplete(w,A,0,y,_,b,0,y,_,b);else{var I=t.mallocDouble(2*w*S),D=t.mallocInt32(S);S=u(x,w,I,D),S>0&&(s.init(y+S),w===1?o=s.sweepBipartite(w,A,0,y,_,b,0,S,I,D):o=a(w,A,E,y,_,b,S,I,D),t.free(I),t.free(D))}t.free(_),t.free(b)}return o}}}var m;function h(d,x){m.push([d,x])}function M(d){return m=[],l(d,d,h,!0),m}function c(d,x){return m=[],l(d,x,h,!1),m}function i(d,x,A){switch(arguments.length){case 1:return M(d);case 2:return typeof x=="function"?l(d,d,x,!0):c(d,x);case 3:return l(d,x,A,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,g){function r(){function a(l,m,h,M,c,i,d,x,A,E,y){for(var S=2*l,w=M,o=S*M;w<c;++w,o+=S){var _=i[m+o],b=i[m+o+l],I=d[w];e:for(var D=x,N=S*x;D<A;++D,N+=S){var k=E[m+N],z=E[m+N+l],F=y[D];if(!(z<_||b<k)){for(var O=m+1;O<l;++O){var B=i[O+o],W=i[O+l+o],ee=E[O+N],ne=E[O+l+N];if(W<ee||ne<B)continue e}var Q=h(I,F);if(Q!==void 0)return Q}}}}function f(l,m,h,M,c,i,d,x,A,E,y){for(var S=2*l,w=x,o=S*x;w<A;++w,o+=S){var _=E[m+o],b=E[m+o+l],I=y[w];e:for(var D=M,N=S*M;D<c;++D,N+=S){var k=i[m+N],z=i[m+N+l],F=d[D];if(!(b<k||z<_)){for(var O=m+1;O<l;++O){var B=i[O+N],W=i[O+l+N],ee=E[O+o],ne=E[O+l+o];if(W<ee||ne<B)continue e}var Q=h(F,I);if(Q!==void 0)return Q}}}}function u(l,m,h,M,c,i,d,x,A,E,y){return c-M>A-x?a(l,m,h,M,c,i,d,x,A,E,y):f(l,m,h,M,c,i,d,x,A,E,y)}return u}function t(){function a(h,M,c,i,d,x,A,E,y,S,w){for(var o=2*h,_=i,b=o*i;_<d;++_,b+=o){var I=x[M+b],D=x[M+b+h],N=A[_];e:for(var k=E,z=o*E;k<y;++k,z+=o){var F=S[M+z],O=w[k];if(!(F<=I||D<F)){for(var B=M+1;B<h;++B){var W=x[B+b],ee=x[B+h+b],ne=S[B+z],Q=S[B+h+z];if(ee<ne||Q<W)continue e}var le=c(O,N);if(le!==void 0)return le}}}}function f(h,M,c,i,d,x,A,E,y,S,w){for(var o=2*h,_=i,b=o*i;_<d;++_,b+=o){var I=x[M+b],D=x[M+b+h],N=A[_];e:for(var k=E,z=o*E;k<y;++k,z+=o){var F=S[M+z],O=w[k];if(!(F<I||D<F)){for(var B=M+1;B<h;++B){var W=x[B+b],ee=x[B+h+b],ne=S[B+z],Q=S[B+h+z];if(ee<ne||Q<W)continue e}var le=c(N,O);if(le!==void 0)return le}}}}function u(h,M,c,i,d,x,A,E,y,S,w){for(var o=2*h,_=E,b=o*E;_<y;++_,b+=o){var I=S[M+b],D=w[_];e:for(var N=i,k=o*i;N<d;++N,k+=o){var z=x[M+k],F=x[M+k+h],O=A[N];if(!(I<=z||F<I)){for(var B=M+1;B<h;++B){var W=x[B+k],ee=x[B+h+k],ne=S[B+b],Q=S[B+h+b];if(ee<ne||Q<W)continue e}var le=c(D,O);if(le!==void 0)return le}}}}function l(h,M,c,i,d,x,A,E,y,S,w){for(var o=2*h,_=E,b=o*E;_<y;++_,b+=o){var I=S[M+b],D=w[_];e:for(var N=i,k=o*i;N<d;++N,k+=o){var z=x[M+k],F=x[M+k+h],O=A[N];if(!(I<z||F<I)){for(var B=M+1;B<h;++B){var W=x[B+k],ee=x[B+h+k],ne=S[B+b],Q=S[B+h+b];if(ee<ne||Q<W)continue e}var le=c(O,D);if(le!==void 0)return le}}}}function m(h,M,c,i,d,x,A,E,y,S,w,o){return x-d>S-y?i?a(h,M,c,d,x,A,E,y,S,w,o):f(h,M,c,d,x,A,E,y,S,w,o):i?u(h,M,c,d,x,A,E,y,S,w,o):l(h,M,c,d,x,A,E,y,S,w,o)}return m}function s(a){return a?r():t()}g.partial=s(!1),g.full=s(!0)},2337:function(v,g,r){v.exports=F;var t=r(5306),s=r(2288),a=r(7333),f=a.partial,u=a.full,l=r(1390),m=r(2464),h=r(122),M=128,c=1<<22,i=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),x=h("lo===p0"),A=h("lo<p0"),E=h("hi<=p0"),y=h("lo<=p0&&p0<=hi"),S=h("lo<p0&&p0<=hi"),w=6,o=2,_=1024,b=t.mallocInt32(_),I=t.mallocDouble(_);function D(O,B){var W=8*s.log2(B+1)*(O+1)|0,ee=s.nextPow2(w*W);b.length<ee&&(t.free(b),b=t.mallocInt32(ee));var ne=s.nextPow2(o*W);I.length<ne&&(t.free(I),I=t.mallocDouble(ne))}function N(O,B,W,ee,ne,Q,le,Z,Y){var re=w*O;b[re]=B,b[re+1]=W,b[re+2]=ee,b[re+3]=ne,b[re+4]=Q,b[re+5]=le;var X=o*O;I[X]=Z,I[X+1]=Y}function k(O,B,W,ee,ne,Q,le,Z,Y,re,X){var q=2*O,se=Y*q,$=re[se+B];e:for(var j=ne,ue=ne*q;j<Q;++j,ue+=q){var ae=le[ue+B],ce=le[ue+B+O];if(!($<ae||ce<$)&&!(ee&&$===ae)){for(var ye=Z[j],Ce=B+1;Ce<O;++Ce){var ae=le[ue+Ce],ce=le[ue+Ce+O],Ae=re[se+Ce],Ie=re[se+Ce+O];if(ce<Ae||Ie<ae)continue e}var Te;if(ee?Te=W(X,ye):Te=W(ye,X),Te!==void 0)return Te}}}function z(O,B,W,ee,ne,Q,le,Z,Y,re){var X=2*O,q=Z*X,se=Y[q+B];e:for(var $=ee,j=ee*X;$<ne;++$,j+=X){var ue=le[$];if(ue!==re){var ae=Q[j+B],ce=Q[j+B+O];if(!(se<ae||ce<se)){for(var ye=B+1;ye<O;++ye){var ae=Q[j+ye],ce=Q[j+ye+O],Ce=Y[q+ye],Ae=Y[q+ye+O];if(ce<Ce||Ae<ae)continue e}var Ie=W(ue,re);if(Ie!==void 0)return Ie}}}}function F(O,B,W,ee,ne,Q,le,Z,Y){D(O,ee+le);var re=0,X=2*O,q;for(N(re++,0,0,ee,0,le,W?16:0,-1/0,1/0),W||N(re++,0,0,le,0,ee,1,-1/0,1/0);re>0;){re-=1;var se=re*w,$=b[se],j=b[se+1],ue=b[se+2],ae=b[se+3],ce=b[se+4],ye=b[se+5],Ce=re*o,Ae=I[Ce],Ie=I[Ce+1],Te=ye&1,Le=!!(ye&16),xe=ne,Re=Q,He=Z,Ve=Y;if(Te&&(xe=Z,Re=Y,He=ne,Ve=Q),!(ye&2&&(ue=A(O,$,j,ue,xe,Re,Ie),j>=ue))&&!(ye&4&&(j=E(O,$,j,ue,xe,Re,Ae),j>=ue))){var Fe=ue-j,We=ce-ae;if(Le){if(O*Fe*(Fe+We)<i){if(q=l.scanComplete(O,$,B,j,ue,xe,Re,ae,ce,He,Ve),q!==void 0)return q;continue}}else if(O*Math.min(Fe,We)<M){if(q=f(O,$,B,Te,j,ue,xe,Re,ae,ce,He,Ve),q!==void 0)return q;continue}else if(O*Fe*We<c){if(q=l.scanBipartite(O,$,B,Te,j,ue,xe,Re,ae,ce,He,Ve),q!==void 0)return q;continue}var ut=d(O,$,j,ue,xe,Re,Ae,Ie);if(j<ut)if(O*(ut-j)<M){if(q=u(O,$+1,B,j,ut,xe,Re,ae,ce,He,Ve),q!==void 0)return q}else if($===O-2){if(Te?q=l.sweepBipartite(O,B,ae,ce,He,Ve,j,ut,xe,Re):q=l.sweepBipartite(O,B,j,ut,xe,Re,ae,ce,He,Ve),q!==void 0)return q}else N(re++,$+1,j,ut,ae,ce,Te,-1/0,1/0),N(re++,$+1,ae,ce,j,ut,Te^1,-1/0,1/0);if(ut<ue){var ht=m(O,$,ae,ce,He,Ve),rt=He[X*ht+$],tt=x(O,$,ht,ce,He,Ve,rt);if(tt<ce&&N(re++,$,ut,ue,tt,ce,(Te|4)+(Le?16:0),rt,Ie),ae<ht&&N(re++,$,ut,ue,ae,ht,(Te|2)+(Le?16:0),Ae,rt),ht+1===tt){if(Le?q=z(O,$,B,ut,ue,xe,Re,ht,He,Ve[ht]):q=k(O,$,B,Te,ut,ue,xe,Re,ht,He,Ve[ht]),q!==void 0)return q}else if(ht<tt){var vt;if(Le){if(vt=y(O,$,ut,ue,xe,Re,rt),ut<vt){var pt=x(O,$,ut,vt,xe,Re,rt);if($===O-2){if(ut<pt&&(q=l.sweepComplete(O,B,ut,pt,xe,Re,ht,tt,He,Ve),q!==void 0)||pt<vt&&(q=l.sweepBipartite(O,B,pt,vt,xe,Re,ht,tt,He,Ve),q!==void 0))return q}else ut<pt&&N(re++,$+1,ut,pt,ht,tt,16,-1/0,1/0),pt<vt&&(N(re++,$+1,pt,vt,ht,tt,0,-1/0,1/0),N(re++,$+1,ht,tt,pt,vt,1,-1/0,1/0))}}else Te?vt=S(O,$,ut,ue,xe,Re,rt):vt=y(O,$,ut,ue,xe,Re,rt),ut<vt&&($===O-2?Te?q=l.sweepBipartite(O,B,ht,tt,He,Ve,ut,vt,xe,Re):q=l.sweepBipartite(O,B,ut,vt,xe,Re,ht,tt,He,Ve):(N(re++,$+1,ut,vt,ht,tt,Te,-1/0,1/0),N(re++,$+1,ht,tt,ut,vt,Te^1,-1/0,1/0)))}}}}}},2464:function(v,g,r){v.exports=u;var t=r(122),s=t("lo<p0"),a=8;function f(l,m,h,M,c,i){for(var d=2*l,x=d*(h+1)+m,A=h+1;A<M;++A,x+=d)for(var E=c[x],y=A,S=d*(A-1);y>h&&c[S+m]>E;--y,S-=d){for(var w=S,o=S+d,_=0;_<d;++_,++w,++o){var b=c[w];c[w]=c[o],c[o]=b}var I=i[y];i[y]=i[y-1],i[y-1]=I}}function u(l,m,h,M,c,i){if(M<=h+1)return h;for(var d=h,x=M,A=M+h>>>1,E=2*l,y=A,S=c[E*A+m];d<x;){if(x-d<a){f(l,m,d,x,c,i),S=c[E*A+m];break}var w=x-d,o=Math.random()*w+d|0,_=c[E*o+m],b=Math.random()*w+d|0,I=c[E*b+m],D=Math.random()*w+d|0,N=c[E*D+m];_<=I?N>=I?(y=b,S=I):_>=N?(y=o,S=_):(y=D,S=N):I>=N?(y=b,S=I):N>=_?(y=o,S=_):(y=D,S=N);for(var F=E*(x-1),O=E*y,k=0;k<E;++k,++F,++O){var z=c[F];c[F]=c[O],c[O]=z}var B=i[x-1];i[x-1]=i[y],i[y]=B,y=s(l,m,d,x-1,c,i,S);for(var F=E*(x-1),O=E*y,k=0;k<E;++k,++F,++O){var z=c[F];c[F]=c[O],c[O]=z}var B=i[x-1];if(i[x-1]=i[y],i[y]=B,A<y){for(x=y-1;d<x&&c[E*(x-1)+m]===S;)x-=1;x+=1}else if(y<A)for(d=y+1;d<x&&c[E*d+m]===S;)d+=1;else break}return s(l,m,h,A,c,i,c[E*A+m])}},122:function(v){v.exports=r;var g={"lo===p0":t,"lo<p0":s,"lo<=p0":a,"hi<=p0":f,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":m};function r(h){return g[h]}function t(h,M,c,i,d,x,A){for(var E=2*h,y=E*c,S=y,w=c,o=M,_=h+M,b=c;i>b;++b,y+=E){var I=d[y+o];if(I===A)if(w===b)w+=1,S+=E;else{for(var D=0;E>D;++D){var N=d[y+D];d[y+D]=d[S],d[S++]=N}var k=x[b];x[b]=x[w],x[w++]=k}}return w}function s(h,M,c,i,d,x,A){for(var E=2*h,y=E*c,S=y,w=c,o=M,_=h+M,b=c;i>b;++b,y+=E){var I=d[y+o];if(I<A)if(w===b)w+=1,S+=E;else{for(var D=0;E>D;++D){var N=d[y+D];d[y+D]=d[S],d[S++]=N}var k=x[b];x[b]=x[w],x[w++]=k}}return w}function a(h,M,c,i,d,x,A){for(var E=2*h,y=E*c,S=y,w=c,o=M,_=h+M,b=c;i>b;++b,y+=E){var I=d[y+_];if(I<=A)if(w===b)w+=1,S+=E;else{for(var D=0;E>D;++D){var N=d[y+D];d[y+D]=d[S],d[S++]=N}var k=x[b];x[b]=x[w],x[w++]=k}}return w}function f(h,M,c,i,d,x,A){for(var E=2*h,y=E*c,S=y,w=c,o=M,_=h+M,b=c;i>b;++b,y+=E){var I=d[y+_];if(I<=A)if(w===b)w+=1,S+=E;else{for(var D=0;E>D;++D){var N=d[y+D];d[y+D]=d[S],d[S++]=N}var k=x[b];x[b]=x[w],x[w++]=k}}return w}function u(h,M,c,i,d,x,A){for(var E=2*h,y=E*c,S=y,w=c,o=M,_=h+M,b=c;i>b;++b,y+=E){var I=d[y+o],D=d[y+_];if(I<=A&&A<=D)if(w===b)w+=1,S+=E;else{for(var N=0;E>N;++N){var k=d[y+N];d[y+N]=d[S],d[S++]=k}var z=x[b];x[b]=x[w],x[w++]=z}}return w}function l(h,M,c,i,d,x,A){for(var E=2*h,y=E*c,S=y,w=c,o=M,_=h+M,b=c;i>b;++b,y+=E){var I=d[y+o],D=d[y+_];if(I<A&&A<=D)if(w===b)w+=1,S+=E;else{for(var N=0;E>N;++N){var k=d[y+N];d[y+N]=d[S],d[S++]=k}var z=x[b];x[b]=x[w],x[w++]=z}}return w}function m(h,M,c,i,d,x,A,E){for(var y=2*h,S=y*c,w=S,o=c,_=M,b=h+M,I=c;i>I;++I,S+=y){var D=d[S+_],N=d[S+b];if(!(D>=A)&&!(E>=N))if(o===I)o+=1,w+=y;else{for(var k=0;y>k;++k){var z=d[S+k];d[S+k]=d[w],d[w++]=z}var F=x[I];x[I]=x[o],x[o++]=F}}return o}},309:function(v){v.exports=r;var g=32;function r(M,c){c<=4*g?t(0,c-1,M):h(0,c-1,M)}function t(M,c,i){for(var d=2*(M+1),x=M+1;x<=c;++x){for(var A=i[d++],E=i[d++],y=x,S=d-2;y-- >M;){var w=i[S-2],o=i[S-1];if(w<A)break;if(w===A&&o<E)break;i[S]=w,i[S+1]=o,S-=2}i[S]=A,i[S+1]=E}}function s(M,c,i){M*=2,c*=2;var d=i[M],x=i[M+1];i[M]=i[c],i[M+1]=i[c+1],i[c]=d,i[c+1]=x}function a(M,c,i){M*=2,c*=2,i[M]=i[c],i[M+1]=i[c+1]}function f(M,c,i,d){M*=2,c*=2,i*=2;var x=d[M],A=d[M+1];d[M]=d[c],d[M+1]=d[c+1],d[c]=d[i],d[c+1]=d[i+1],d[i]=x,d[i+1]=A}function u(M,c,i,d,x){M*=2,c*=2,x[M]=x[c],x[c]=i,x[M+1]=x[c+1],x[c+1]=d}function l(M,c,i){M*=2,c*=2;var d=i[M],x=i[c];return d<x?!1:d===x?i[M+1]>i[c+1]:!0}function m(M,c,i,d){M*=2;var x=d[M];return x<c?!0:x===c?d[M+1]<i:!1}function h(M,c,i){var d=(c-M+1)/6|0,x=M+d,A=c-d,E=M+c>>1,y=E-d,S=E+d,w=x,o=y,_=E,b=S,I=A,D=M+1,N=c-1,k=0;l(w,o,i)&&(k=w,w=o,o=k),l(b,I,i)&&(k=b,b=I,I=k),l(w,_,i)&&(k=w,w=_,_=k),l(o,_,i)&&(k=o,o=_,_=k),l(w,b,i)&&(k=w,w=b,b=k),l(_,b,i)&&(k=_,_=b,b=k),l(o,I,i)&&(k=o,o=I,I=k),l(o,_,i)&&(k=o,o=_,_=k),l(b,I,i)&&(k=b,b=I,I=k);for(var z=i[2*o],F=i[2*o+1],O=i[2*b],B=i[2*b+1],W=2*w,ee=2*_,ne=2*I,Q=2*x,le=2*E,Z=2*A,Y=0;Y<2;++Y){var re=i[W+Y],X=i[ee+Y],q=i[ne+Y];i[Q+Y]=re,i[le+Y]=X,i[Z+Y]=q}a(y,M,i),a(S,c,i);for(var se=D;se<=N;++se)if(m(se,z,F,i))se!==D&&s(se,D,i),++D;else if(!m(se,O,B,i))for(;;)if(m(N,O,B,i)){m(N,z,F,i)?(f(se,D,N,i),++D,--N):(s(se,N,i),--N);break}else{if(--N<se)break;continue}u(M,D-1,z,F,i),u(c,N+1,O,B,i),D-2-M<=g?t(M,D-2,i):h(M,D-2,i),c-(N+2)<=g?t(N+2,c,i):h(N+2,c,i),N-D<=g?t(D,N,i):h(D,N,i)}},1390:function(v,g,r){v.exports={init:x,sweepBipartite:y,sweepComplete:S,scanBipartite:w,scanComplete:o};var t=r(5306),s=r(2288),a=r(309),f=1<<28,u=1024,l=t.mallocInt32(u),m=t.mallocInt32(u),h=t.mallocInt32(u),M=t.mallocInt32(u),c=t.mallocInt32(u),i=t.mallocInt32(u),d=t.mallocDouble(u*8);function x(_){var b=s.nextPow2(_);l.length<b&&(t.free(l),l=t.mallocInt32(b)),m.length<b&&(t.free(m),m=t.mallocInt32(b)),h.length<b&&(t.free(h),h=t.mallocInt32(b)),M.length<b&&(t.free(M),M=t.mallocInt32(b)),c.length<b&&(t.free(c),c=t.mallocInt32(b)),i.length<b&&(t.free(i),i=t.mallocInt32(b));var I=8*b;d.length<I&&(t.free(d),d=t.mallocDouble(I))}function A(_,b,I,D){var N=b[D],k=_[I-1];_[N]=k,b[k]=N}function E(_,b,I,D){_[I]=D,b[D]=I}function y(_,b,I,D,N,k,z,F,O,B){for(var W=0,ee=2*_,ne=_-1,Q=ee-1,le=I;le<D;++le){var Z=k[le],Y=ee*le;d[W++]=N[Y+ne],d[W++]=-(Z+1),d[W++]=N[Y+Q],d[W++]=Z}for(var le=z;le<F;++le){var Z=B[le]+f,re=ee*le;d[W++]=O[re+ne],d[W++]=-Z,d[W++]=O[re+Q],d[W++]=Z}var X=W>>>1;a(d,X);for(var q=0,se=0,le=0;le<X;++le){var $=d[2*le+1]|0;if($>=f)$=$-f|0,A(h,M,se--,$);else if($>=0)A(l,m,q--,$);else if($<=-f){$=-$-f|0;for(var j=0;j<q;++j){var ue=b(l[j],$);if(ue!==void 0)return ue}E(h,M,se++,$)}else{$=-$-1|0;for(var j=0;j<se;++j){var ue=b($,h[j]);if(ue!==void 0)return ue}E(l,m,q++,$)}}}function S(_,b,I,D,N,k,z,F,O,B){for(var W=0,ee=2*_,ne=_-1,Q=ee-1,le=I;le<D;++le){var Z=k[le]+1<<1,Y=ee*le;d[W++]=N[Y+ne],d[W++]=-Z,d[W++]=N[Y+Q],d[W++]=Z}for(var le=z;le<F;++le){var Z=B[le]+1<<1,re=ee*le;d[W++]=O[re+ne],d[W++]=-Z|1,d[W++]=O[re+Q],d[W++]=Z|1}var X=W>>>1;a(d,X);for(var q=0,se=0,$=0,le=0;le<X;++le){var j=d[2*le+1]|0,ue=j&1;if(le<X-1&&j>>1===d[2*le+3]>>1&&(ue=2,le+=1),j<0){for(var ae=-(j>>1)-1,ce=0;ce<$;++ce){var ye=b(c[ce],ae);if(ye!==void 0)return ye}if(ue!==0)for(var ce=0;ce<q;++ce){var ye=b(l[ce],ae);if(ye!==void 0)return ye}if(ue!==1)for(var ce=0;ce<se;++ce){var ye=b(h[ce],ae);if(ye!==void 0)return ye}ue===0?E(l,m,q++,ae):ue===1?E(h,M,se++,ae):ue===2&&E(c,i,$++,ae)}else{var ae=(j>>1)-1;ue===0?A(l,m,q--,ae):ue===1?A(h,M,se--,ae):ue===2&&A(c,i,$--,ae)}}}function w(_,b,I,D,N,k,z,F,O,B,W,ee){var ne=0,Q=2*_,le=b,Z=b+_,Y=1,re=1;D?re=f:Y=f;for(var X=N;X<k;++X){var q=X+Y,se=Q*X;d[ne++]=z[se+le],d[ne++]=-q,d[ne++]=z[se+Z],d[ne++]=q}for(var X=O;X<B;++X){var q=X+re,$=Q*X;d[ne++]=W[$+le],d[ne++]=-q}var j=ne>>>1;a(d,j);for(var ue=0,X=0;X<j;++X){var ae=d[2*X+1]|0;if(ae<0){var q=-ae,ce=!1;if(q>=f?(ce=!D,q-=f):(ce=!!D,q-=1),ce)E(l,m,ue++,q);else{var ye=ee[q],Ce=Q*q,Ae=W[Ce+b+1],Ie=W[Ce+b+1+_];e:for(var Te=0;Te<ue;++Te){var Le=l[Te],xe=Q*Le;if(!(Ie<z[xe+b+1]||z[xe+b+1+_]<Ae)){for(var Re=b+2;Re<_;++Re)if(W[Ce+Re+_]<z[xe+Re]||z[xe+Re+_]<W[Ce+Re])continue e;var He=F[Le],Ve;if(D?Ve=I(ye,He):Ve=I(He,ye),Ve!==void 0)return Ve}}}}else A(l,m,ue--,ae-Y)}}function o(_,b,I,D,N,k,z,F,O,B,W){for(var ee=0,ne=2*_,Q=b,le=b+_,Z=D;Z<N;++Z){var Y=Z+f,re=ne*Z;d[ee++]=k[re+Q],d[ee++]=-Y,d[ee++]=k[re+le],d[ee++]=Y}for(var Z=F;Z<O;++Z){var Y=Z+1,X=ne*Z;d[ee++]=B[X+Q],d[ee++]=-Y}var q=ee>>>1;a(d,q);for(var se=0,Z=0;Z<q;++Z){var $=d[2*Z+1]|0;if($<0){var Y=-$;if(Y>=f)l[se++]=Y-f;else{Y-=1;var j=W[Y],ue=ne*Y,ae=B[ue+b+1],ce=B[ue+b+1+_];e:for(var ye=0;ye<se;++ye){var Ce=l[ye],Ae=z[Ce];if(Ae===j)break;var Ie=ne*Ce;if(!(ce<k[Ie+b+1]||k[Ie+b+1+_]<ae)){for(var Te=b+2;Te<_;++Te)if(B[ue+Te+_]<k[Ie+Te]||k[Ie+Te+_]<B[ue+Te])continue e;var Le=I(Ae,j);if(Le!==void 0)return Le}}}}else{for(var Y=$-f,ye=se-1;ye>=0;--ye)if(l[ye]===Y){for(var Te=ye+1;Te<se;++Te)l[Te-1]=l[Te];break}--se}}}},7761:function(v,g,r){var t=r(9971),s=r(743),a=r(2161),f=r(7098);v.exports=M;function u(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,i){return c[0]-i[0]||c[1]-i[1]}function m(c){return c.map(u).sort(l)}function h(c,i,d){return i in c?c[i]:d}function M(c,i,d){Array.isArray(i)?(d=d||{},i=i||[]):(d=i||{},i=[]);var x=!!h(d,"delaunay",!0),A=!!h(d,"interior",!0),E=!!h(d,"exterior",!0),y=!!h(d,"infinity",!1);if(!A&&!E||c.length===0)return[];var S=t(c,i);if(x||A!==E||y){for(var w=s(c.length,m(i)),o=0;o<S.length;++o){var _=S[o];w.addTriangle(_[0],_[1],_[2])}return x&&a(c,w),E?A?y?f(w,0,y):w.cells():f(w,1,y):f(w,-1)}else return S}},2161:function(v,g,r){var t=r(2227)[4];r(5070),v.exports=a;function s(f,u,l,m,h,M){var c=u.opposite(m,h);if(!(c<0)){if(h<m){var i=m;m=h,h=i,i=M,M=c,c=i}u.isConstraint(m,h)||t(f[m],f[h],f[M],f[c])<0&&l.push(m,h)}}function a(f,u){for(var l=[],m=f.length,h=u.stars,M=0;M<m;++M)for(var c=h[M],i=1;i<c.length;i+=2){var d=c[i];if(!(d<M)&&!u.isConstraint(M,d)){for(var x=c[i-1],A=-1,E=1;E<c.length;E+=2)if(c[E-1]===d){A=c[E];break}A<0||t(f[M],f[d],f[x],f[A])<0&&l.push(M,d)}}for(;l.length>0;){for(var d=l.pop(),M=l.pop(),x=-1,A=-1,c=h[M],y=1;y<c.length;y+=2){var S=c[y-1],w=c[y];S===d?A=w:w===d&&(x=S)}x<0||A<0||t(f[M],f[d],f[x],f[A])>=0||(u.flip(M,d),s(f,u,l,x,M,A),s(f,u,l,M,A,x),s(f,u,l,A,d,x),s(f,u,l,d,x,A))}}},7098:function(v,g,r){var t=r(5070);v.exports=m;function s(h,M,c,i,d,x,A){this.cells=h,this.neighbor=M,this.flags=i,this.constraint=c,this.active=d,this.next=x,this.boundary=A}var a=s.prototype;function f(h,M){return h[0]-M[0]||h[1]-M[1]||h[2]-M[2]}a.locate=function(){var h=[0,0,0];return function(M,c,i){var d=M,x=c,A=i;return c<i?c<M&&(d=c,x=i,A=M):i<M&&(d=i,x=M,A=c),d<0?-1:(h[0]=d,h[1]=x,h[2]=A,t.eq(this.cells,h,f))}}();function u(h,M){for(var c=h.cells(),i=c.length,d=0;d<i;++d){var x=c[d],A=x[0],E=x[1],y=x[2];E<y?E<A&&(x[0]=E,x[1]=y,x[2]=A):y<A&&(x[0]=y,x[1]=A,x[2]=E)}c.sort(f);for(var S=new Array(i),d=0;d<S.length;++d)S[d]=0;var w=[],o=[],_=new Array(3*i),b=new Array(3*i),I=null;M&&(I=[]);for(var D=new s(c,_,b,S,w,o,I),d=0;d<i;++d)for(var x=c[d],N=0;N<3;++N){var A=x[N],E=x[(N+1)%3],k=_[3*d+N]=D.locate(E,A,h.opposite(E,A)),z=b[3*d+N]=h.isConstraint(A,E);k<0&&(z?o.push(d):(w.push(d),S[d]=1),M&&I.push([E,A,-1]))}return D}function l(h,M,c){for(var i=0,d=0;d<h.length;++d)M[d]===c&&(h[i++]=h[d]);return h.length=i,h}function m(h,M,c){var i=u(h,c);if(M===0)return c?i.cells.concat(i.boundary):i.cells;for(var d=1,x=i.active,A=i.next,E=i.flags,y=i.cells,S=i.constraint,w=i.neighbor;x.length>0||A.length>0;){for(;x.length>0;){var o=x.pop();if(E[o]!==-d){E[o]=d,y[o];for(var _=0;_<3;++_){var b=w[3*o+_];b>=0&&E[b]===0&&(S[3*o+_]?A.push(b):(x.push(b),E[b]=d))}}}var I=A;A=x,x=I,A.length=0,d=-d}var D=l(y,E,M);return c?D.concat(i.boundary):D}},9971:function(v,g,r){var t=r(5070),s=r(417)[3],a=0,f=1,u=2;v.exports=A;function l(E,y,S,w,o){this.a=E,this.b=y,this.idx=S,this.lowerIds=w,this.upperIds=o}function m(E,y,S,w){this.a=E,this.b=y,this.type=S,this.idx=w}function h(E,y){var S=E.a[0]-y.a[0]||E.a[1]-y.a[1]||E.type-y.type;return S||E.type!==a&&(S=s(E.a,E.b,y.b),S)?S:E.idx-y.idx}function M(E,y){return s(E.a,E.b,y)}function c(E,y,S,w,o){for(var _=t.lt(y,w,M),b=t.gt(y,w,M),I=_;I<b;++I){for(var D=y[I],N=D.lowerIds,z=N.length;z>1&&s(S[N[z-2]],S[N[z-1]],w)>0;)E.push([N[z-1],N[z-2],o]),z-=1;N.length=z,N.push(o);for(var k=D.upperIds,z=k.length;z>1&&s(S[k[z-2]],S[k[z-1]],w)<0;)E.push([k[z-2],k[z-1],o]),z-=1;k.length=z,k.push(o)}}function i(E,y){var S;return E.a[0]<y.a[0]?S=s(E.a,E.b,y.a):S=s(y.b,y.a,E.a),S||(y.b[0]<E.b[0]?S=s(E.a,E.b,y.b):S=s(y.b,y.a,E.b),S||E.idx-y.idx)}function d(E,y,S){var w=t.le(E,S,i),o=E[w],_=o.upperIds,b=_[_.length-1];o.upperIds=[b],E.splice(w+1,0,new l(S.a,S.b,S.idx,[b],_))}function x(E,y,S){var w=S.a;S.a=S.b,S.b=w;var o=t.eq(E,S,i),_=E[o],b=E[o-1];b.upperIds=_.upperIds,E.splice(o,1)}function A(E,y){for(var S=E.length,w=y.length,o=[],_=0;_<S;++_)o.push(new m(E[_],null,a,_));for(var _=0;_<w;++_){var b=y[_],I=E[b[0]],D=E[b[1]];I[0]<D[0]?o.push(new m(I,D,u,_),new m(D,I,f,_)):I[0]>D[0]&&o.push(new m(D,I,u,_),new m(I,D,f,_))}o.sort(h);for(var N=o[0].a[0]-(1+Math.abs(o[0].a[0]))*Math.pow(2,-52),k=[new l([N,1],[N,0],-1,[],[])],z=[],_=0,F=o.length;_<F;++_){var O=o[_],B=O.type;B===a?c(z,k,E,O.a,O.idx):B===u?d(k,E,O):x(k,E,O)}return z}},743:function(v,g,r){var t=r(5070);v.exports=u;function s(l,m){this.stars=l,this.edges=m}var a=s.prototype;function f(l,m,h){for(var M=1,c=l.length;M<c;M+=2)if(l[M-1]===m&&l[M]===h){l[M-1]=l[c-2],l[M]=l[c-1],l.length=c-2;return}}a.isConstraint=function(){var l=[0,0];function m(h,M){return h[0]-M[0]||h[1]-M[1]}return function(h,M){return l[0]=Math.min(h,M),l[1]=Math.max(h,M),t.eq(this.edges,l,m)>=0}}(),a.removeTriangle=function(l,m,h){var M=this.stars;f(M[l],m,h),f(M[m],h,l),f(M[h],l,m)},a.addTriangle=function(l,m,h){var M=this.stars;M[l].push(m,h),M[m].push(h,l),M[h].push(l,m)},a.opposite=function(l,m){for(var h=this.stars[m],M=1,c=h.length;M<c;M+=2)if(h[M]===l)return h[M-1];return-1},a.flip=function(l,m){var h=this.opposite(l,m),M=this.opposite(m,l);this.removeTriangle(l,m,h),this.removeTriangle(m,l,M),this.addTriangle(l,M,h),this.addTriangle(m,h,M)},a.edges=function(){for(var l=this.stars,m=[],h=0,M=l.length;h<M;++h)for(var c=l[h],i=0,d=c.length;i<d;i+=2)m.push([c[i],c[i+1]]);return m},a.cells=function(){for(var l=this.stars,m=[],h=0,M=l.length;h<M;++h)for(var c=l[h],i=0,d=c.length;i<d;i+=2){var x=c[i],A=c[i+1];h<Math.min(x,A)&&m.push([h,x,A])}return m};function u(l,m){for(var h=new Array(l),M=0;M<l;++M)h[M]=[];return new s(h,m)}},9887:function(v){v.exports=g;function g(r){for(var t=1,s=1;s<r.length;++s)for(var a=0;a<s;++a)if(r[s]<r[a])t=-t;else if(r[a]===r[s])return 0;return t}},9243:function(v,g,r){var t=r(3094),s=r(6606);function a(l,m){for(var h=0,M=l.length,c=0;c<M;++c)h+=l[c]*m[c];return h}function f(l){var m=l.length;if(m===0)return[];l[0].length;var h=t([l.length+1,l.length+1],1),M=t([l.length+1],1);h[m][m]=0;for(var c=0;c<m;++c){for(var i=0;i<=c;++i)h[i][c]=h[c][i]=2*a(l[c],l[i]);M[c]=a(l[c],l[c])}for(var d=s(h,M),x=0,A=d[m+1],c=0;c<A.length;++c)x+=A[c];for(var E=new Array(m),c=0;c<m;++c){for(var A=d[c],y=0,i=0;i<A.length;++i)y+=A[i];E[c]=y/x}return E}function u(l){if(l.length===0)return[];for(var m=l[0].length,h=t([m]),M=f(l),c=0;c<l.length;++c)for(var i=0;i<m;++i)h[i]+=l[c][i]*M[c];return h}u.barycenetric=f,v.exports=u},1778:function(v,g,r){v.exports=s;var t=r(9243);function s(a){for(var f=t(a),u=0,l=0;l<a.length;++l)for(var m=a[l],h=0;h<f.length;++h)u+=Math.pow(m[h]-f[h],2);return Math.sqrt(u/a.length)}},197:function(v,g,r){v.exports=I;var t=r(1731),s=r(2569),a=r(4434),f=r(5125),u=r(8846),l=r(7999),m=r(2826),h=r(8551),M=r(5528);function c(D){var N=l(D);return[h(N,-1/0),h(N,1/0)]}function i(D,N){for(var k=new Array(N.length),z=0;z<N.length;++z){var F=N[z],O=D[F[0]],B=D[F[1]];k[z]=[h(Math.min(O[0],B[0]),-1/0),h(Math.min(O[1],B[1]),-1/0),h(Math.max(O[0],B[0]),1/0),h(Math.max(O[1],B[1]),1/0)]}return k}function d(D){for(var N=new Array(D.length),k=0;k<D.length;++k){var z=D[k];N[k]=[h(z[0],-1/0),h(z[1],-1/0),h(z[0],1/0),h(z[1],1/0)]}return N}function x(D,N,k){var z=[];return s(k,function(F,O){var B=N[F],W=N[O];if(!(B[0]===W[0]||B[0]===W[1]||B[1]===W[0]||B[1]===W[1])){var ee=D[B[0]],ne=D[B[1]],Q=D[W[0]],le=D[W[1]];a(ee,ne,Q,le)&&z.push([F,O])}}),z}function A(D,N,k,z){var F=[];return s(k,z,function(O,B){var W=N[O];if(!(W[0]===B||W[1]===B)){var ee=D[B],ne=D[W[0]],Q=D[W[1]];a(ne,Q,ee,ee)&&F.push([O,B])}}),F}function E(D,N,k,z,F){var O,B,W=D.map(function(Ce){return[f(Ce[0]),f(Ce[1])]});for(O=0;O<k.length;++O){var ee=k[O];B=ee[0];var ne=ee[1],Q=N[B],le=N[ne],Z=M(m(D[Q[0]]),m(D[Q[1]]),m(D[le[0]]),m(D[le[1]]));if(Z){var Y=D.length;D.push([l(Z[0]),l(Z[1])]),W.push(Z),z.push([B,Y],[ne,Y])}}for(z.sort(function(Ce,Ae){if(Ce[0]!==Ae[0])return Ce[0]-Ae[0];var Ie=W[Ce[1]],Te=W[Ae[1]];return u(Ie[0],Te[0])||u(Ie[1],Te[1])}),O=z.length-1;O>=0;--O){var re=z[O];B=re[0];var X=N[B],q=X[0],se=X[1],$=D[q],j=D[se];if(($[0]-j[0]||$[1]-j[1])<0){var ue=q;q=se,se=ue}X[0]=q;var ae=X[1]=re[1],ce;for(F&&(ce=X[2]);O>0&&z[O-1][0]===B;){var re=z[--O],ye=re[1];F?N.push([ae,ye,ce]):N.push([ae,ye]),ae=ye}F?N.push([ae,se,ce]):N.push([ae,se])}return W}function y(D,N,k){for(var z=N.length,F=new t(z),O=[],B=0;B<N.length;++B){var W=N[B],ee=c(W[0]),ne=c(W[1]);O.push([h(ee[0],-1/0),h(ne[0],-1/0),h(ee[1],1/0),h(ne[1],1/0)])}s(O,function(re,X){F.link(re,X)});for(var Q=!0,le=new Array(z),B=0;B<z;++B){var Z=F.find(B);Z!==B&&(Q=!1,D[Z]=[Math.min(D[B][0],D[Z][0]),Math.min(D[B][1],D[Z][1])])}if(Q)return null;for(var Y=0,B=0;B<z;++B){var Z=F.find(B);Z===B?(le[B]=Y,D[Y++]=D[B]):le[B]=-1}D.length=Y;for(var B=0;B<z;++B)le[B]<0&&(le[B]=le[F.find(B)]);return le}function S(D,N){return D[0]-N[0]||D[1]-N[1]}function w(D,N){var k=D[0]-N[0]||D[1]-N[1];return k||(D[2]<N[2]?-1:D[2]>N[2]?1:0)}function o(D,N,k){if(D.length!==0){if(N)for(var z=0;z<D.length;++z){var F=D[z],O=N[F[0]],B=N[F[1]];F[0]=Math.min(O,B),F[1]=Math.max(O,B)}else for(var z=0;z<D.length;++z){var F=D[z],O=F[0],B=F[1];F[0]=Math.min(O,B),F[1]=Math.max(O,B)}k?D.sort(w):D.sort(S);for(var W=1,z=1;z<D.length;++z){var ee=D[z-1],ne=D[z];ne[0]===ee[0]&&ne[1]===ee[1]&&(!k||ne[2]===ee[2])||(D[W++]=ne)}D.length=W}}function _(D,N,k){var z=y(D,[],d(D));return o(N,z,k),!!z}function b(D,N,k){var z=i(D,N),F=x(D,N,z),O=d(D),B=A(D,N,z,O),W=E(D,N,F,B,k),ee=y(D,W);return o(N,ee,k),ee?!0:F.length>0||B.length>0}function I(D,N,k){var z;if(k){z=N;for(var F=new Array(N.length),O=0;O<N.length;++O){var B=N[O];F[O]=[B[0],B[1],k[O]]}N=F}for(var W=_(D,N,!!k);b(D,N,!!k);)W=!0;if(k&&W){z.length=0,k.length=0;for(var O=0;O<N.length;++O){var B=N[O];z.push([B[0],B[1]]),k.push(B[2])}}return W}},5528:function(v,g,r){v.exports=M;var t=r(3962),s=r(9189),a=r(4354),f=r(4951),u=r(6695),l=r(7584),m=r(4469);function h(c,i){return a(t(c[0],i[1]),t(c[1],i[0]))}function M(c,i,d,x){var A=u(i,c),E=u(x,d),y=h(A,E);if(f(y)===0)return null;var S=u(c,d),w=h(E,S),o=s(w,y),_=m(A,o),b=l(c,_);return b}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,g,r){var t=r(5692),s=r(3578);v.exports=a;function a(m){var h,M,c,i,d,x,A,E,o,y,S;if(m||(m={}),E=(m.nshades||72)-1,A=m.format||"hex",x=m.colormap,x||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!t[x])throw Error(x+" not a supported colorscale");d=t[x]}else if(Array.isArray(x))d=x.slice();else throw Error("unsupported colormap option",x);if(d.length>E+1)throw new Error(x+" map requires nshades to be at least size "+d.length);Array.isArray(m.alpha)?m.alpha.length!==2?y=[1,1]:y=m.alpha.slice():typeof m.alpha=="number"?y=[m.alpha,m.alpha]:y=[1,1],h=d.map(function(I){return Math.round(I.index*E)}),y[0]=Math.min(Math.max(y[0],0),1),y[1]=Math.min(Math.max(y[1],0),1);var w=d.map(function(I,D){var N=d[D].index,k=d[D].rgb.slice();return k.length===4&&k[3]>=0&&k[3]<=1||(k[3]=y[0]+(y[1]-y[0])*N),k}),o=[];for(S=0;S<h.length-1;++S){i=h[S+1]-h[S],M=w[S],c=w[S+1];for(var _=0;_<i;_++){var b=_/i;o.push([Math.round(s(M[0],c[0],b)),Math.round(s(M[1],c[1],b)),Math.round(s(M[2],c[2],b)),s(M[3],c[3],b)])}}return o.push(d[d.length-1].rgb.concat(y[1])),A==="hex"?o=o.map(u):A==="rgbaString"?o=o.map(l):A==="float"&&(o=o.map(f)),o}function f(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function u(m){for(var h,M="#",c=0;c<3;++c)h=m[c],h=h.toString(16),M+=("00"+h).substr(h.length);return M}function l(m){return"rgba("+m.join(",")+")"}},9398:function(v,g,r){v.exports=m;var t=r(417),s=r(7538),a=r(87),f=r(2019),u=r(9662);function l(h,M,c){var i=a(h[0],-M[0]),d=a(h[1],-M[1]),x=a(c[0],-M[0]),A=a(c[1],-M[1]),E=u(f(i,x),f(d,A));return E[E.length-1]>=0}function m(h,M,c,i){var d=t(M,c,i);if(d===0){var x=s(t(h,M,c)),A=s(t(h,M,i));if(x===A){if(x===0){var E=l(h,M,c),y=l(h,M,i);return E===y?0:E?1:-1}return 0}else{if(A===0)return x>0||l(h,M,i)?-1:1;if(x===0)return A>0||l(h,M,c)?1:-1}return s(A-x)}var S=t(h,M,c);if(S>0)return d>0&&t(h,M,i)>0?1:-1;if(S<0)return d>0||t(h,M,i)>0?1:-1;var w=t(h,M,i);return w>0||l(h,M,c)?1:-1}},7538:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},9209:function(v){v.exports=t;var g=Math.min;function r(s,a){return s-a}function t(s,a){var f=s.length,u=s.length-a.length;if(u)return u;switch(f){case 0:return 0;case 1:return s[0]-a[0];case 2:return s[0]+s[1]-a[0]-a[1]||g(s[0],s[1])-g(a[0],a[1]);case 3:var l=s[0]+s[1],m=a[0]+a[1];if(u=l+s[2]-(m+a[2]),u)return u;var h=g(s[0],s[1]),M=g(a[0],a[1]);return g(h,s[2])-g(M,a[2])||g(h+s[2],l)-g(M+a[2],m);case 4:var c=s[0],i=s[1],d=s[2],x=s[3],A=a[0],E=a[1],y=a[2],S=a[3];return c+i+d+x-(A+E+y+S)||g(c,i,d,x)-g(A,E,y,S,A)||g(c+i,c+d,c+x,i+d,i+x,d+x)-g(A+E,A+y,A+S,E+y,E+S,y+S)||g(c+i+d,c+i+x,c+d+x,i+d+x)-g(A+E+y,A+E+S,A+y+S,E+y+S);default:for(var w=s.slice().sort(r),o=a.slice().sort(r),_=0;_<f;++_)if(u=w[_]-o[_],u)return u;return 0}}},1284:function(v,g,r){var t=r(9209),s=r(9887);v.exports=a;function a(f,u){return t(f,u)||s(f)-s(u)}},5537:function(v,g,r){var t=r(8950),s=r(8722),a=r(3332);v.exports=f;function f(u){var l=u.length;if(l===0)return[];if(l===1)return[[0]];var m=u[0].length;return m===0?[]:m===1?t(u):m===2?s(u):a(u,m)}},8950:function(v){v.exports=g;function g(r){for(var t=0,s=0,a=1;a<r.length;++a)r[a][0]<r[t][0]&&(t=a),r[a][0]>r[s][0]&&(s=a);return t<s?[[t],[s]]:t>s?[[s],[t]]:[[t]]}},8722:function(v,g,r){v.exports=s;var t=r(3266);function s(a){var f=t(a),u=f.length;if(u<=2)return[];for(var l=new Array(u),m=f[u-1],h=0;h<u;++h){var M=f[h];l[h]=[m,M],m=M}return l}},3332:function(v,g,r){v.exports=u;var t=r(2183),s=r(2153);function a(l,m){for(var h=l.length,M=new Array(h),c=0;c<m.length;++c)M[c]=l[m[c]];for(var i=m.length,c=0;c<h;++c)m.indexOf(c)<0&&(M[i++]=l[c]);return M}function f(l,m){for(var h=l.length,M=m.length,c=0;c<h;++c)for(var i=l[c],d=0;d<i.length;++d){var x=i[d];if(x<M)i[d]=m[x];else{x=x-M;for(var A=0;A<M;++A)x>=m[A]&&(x+=1);i[d]=x}}return l}function u(l,m){try{return t(l,!0)}catch{var h=s(l);if(h.length<=m)return[];var M=a(l,h),c=t(M,!0);return f(c,h)}}},9680:function(v){function g(t,s,a,f,u,l){var m=6*u*u-6*u,h=3*u*u-4*u+1,M=-6*u*u+6*u,c=3*u*u-2*u;if(t.length){l||(l=new Array(t.length));for(var i=t.length-1;i>=0;--i)l[i]=m*t[i]+h*s[i]+M*a[i]+c*f[i];return l}return m*t+h*s+M*a[i]+c*f}function r(t,s,a,f,u,l){var m=u-1,h=u*u,M=m*m,c=(1+2*u)*M,i=u*M,d=h*(3-2*u),x=h*m;if(t.length){l||(l=new Array(t.length));for(var A=t.length-1;A>=0;--A)l[A]=c*t[A]+i*s[A]+d*a[A]+x*f[A];return l}return c*t+i*s+d*a+x*f}v.exports=r,v.exports.derivative=g},4419:function(v,g,r){var t=r(2183),s=r(1215);v.exports=l;function a(m,h){this.point=m,this.index=h}function f(m,h){for(var M=m.point,c=h.point,i=M.length,d=0;d<i;++d){var x=c[d]-M[d];if(x)return x}return 0}function u(m,h,M){if(m===1)return M?[[-1,0]]:[];var c=h.map(function(E,y){return[E[0],y]});c.sort(function(E,y){return E[0]-y[0]});for(var i=new Array(m-1),d=1;d<m;++d){var x=c[d-1],A=c[d];i[d-1]=[x[1],A[1]]}return M&&i.push([-1,i[0][1]],[i[m-1][1],-1]),i}function l(m,h){var M=m.length;if(M===0)return[];var c=m[0].length;if(c<1)return[];if(c===1)return u(M,m,h);for(var i=new Array(M),d=1,x=0;x<M;++x){for(var A=m[x],E=new Array(c+1),y=0,S=0;S<c;++S){var w=A[S];E[S]=w,y+=w*w}E[c]=y,i[x]=new a(E,x),d=Math.max(y,d)}s(i,f),M=i.length;for(var o=new Array(M+c+1),_=new Array(M+c+1),b=(c+1)*(c+1)*d,I=new Array(c+1),x=0;x<=c;++x)I[x]=0;I[c]=b,o[0]=I.slice(),_[0]=-1;for(var x=0;x<=c;++x){var E=I.slice();E[x]=1,o[x+1]=E,_[x+1]=-1}for(var x=0;x<M;++x){var D=i[x];o[x+c+1]=D.point,_[x+c+1]=D.index}var N=t(o,!1);if(h?N=N.filter(function(k){for(var z=0,F=0;F<=c;++F){var O=_[k[F]];if(O<0&&++z>=2)return!1;k[F]=O}return!0}):N=N.filter(function(k){for(var z=0;z<=c;++z){var F=_[k[z]];if(F<0)return!1;k[z]=F}return!0}),c&1)for(var x=0;x<N.length;++x){var D=N[x],E=D[0];D[0]=D[1],D[1]=E}return N}},8362:function(v){var g=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,g=!0,t[1]===1072693248){let a=function(l,m){return t[0]=l,t[1]=m,r[0]},f=function(l){return r[0]=l,t[0]},u=function(l){return r[0]=l,t[1]};v.exports=function(m){return r[0]=m,[t[0],t[1]]},v.exports.pack=a,v.exports.lo=f,v.exports.hi=u}else if(t[0]===1072693248){let a=function(l,m){return t[1]=l,t[0]=m,r[0]},f=function(l){return r[0]=l,t[1]},u=function(l){return r[0]=l,t[0]};v.exports=function(m){return r[0]=m,[t[1],t[0]]},v.exports.pack=a,v.exports.lo=f,v.exports.hi=u}else g=!1}if(!g){let a=function(l,m){return s.writeUInt32LE(l,0,!0),s.writeUInt32LE(m,4,!0),s.readDoubleLE(0,!0)},f=function(l){return s.writeDoubleLE(l,0,!0),s.readUInt32LE(0,!0)},u=function(l){return s.writeDoubleLE(l,0,!0),s.readUInt32LE(4,!0)};var s=new Buffer(8);v.exports=function(m){return s.writeDoubleLE(m,0,!0),[s.readUInt32LE(0,!0),s.readUInt32LE(4,!0)]},v.exports.pack=a,v.exports.lo=f,v.exports.hi=u}v.exports.sign=function(a){return v.exports.hi(a)>>>31},v.exports.exponent=function(a){var f=v.exports.hi(a);return(f<<1>>>21)-1023},v.exports.fraction=function(a){var f=v.exports.lo(a),u=v.exports.hi(a),l=u&(1<<20)-1;return u&2146435072&&(l+=1048576),[f,l]},v.exports.denormalized=function(a){var f=v.exports.hi(a);return!(f&2146435072)}},3094:function(v){function g(s,a,f){var u=s[f]|0;if(u<=0)return[];var l=new Array(u),m;if(f===s.length-1)for(m=0;m<u;++m)l[m]=a;else for(m=0;m<u;++m)l[m]=g(s,a,f+1);return l}function r(s,a){var f,u;for(f=new Array(s),u=0;u<s;++u)f[u]=a;return f}function t(s,a){switch(typeof a>"u"&&(a=0),typeof s){case"number":if(s>0)return r(s|0,a);break;case"object":if(typeof s.length=="number")return g(s,a,0);break}return[]}v.exports=t},8348:function(v,g,r){v.exports=s;var t=r(1215);function s(a,f){var u=a.length;if(typeof f!="number"){f=0;for(var l=0;l<u;++l){var m=a[l];f=Math.max(f,m[0],m[1])}f=(f|0)+1}f=f|0;for(var h=new Array(f),l=0;l<f;++l)h[l]=[];for(var l=0;l<u;++l){var m=a[l];h[m[0]].push(m[1]),h[m[1]].push(m[0])}for(var M=0;M<f;++M)t(h[M],function(c,i){return c-i});return h}},5795:function(v){v.exports=g;function g(r,t,s){var a=t||0,f=s||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[a*r[12]+r[8],a*r[13]+r[9],a*r[14]+r[10],a*r[15]+r[11]],[f*r[12]-r[8],f*r[13]-r[9],f*r[14]-r[10],f*r[15]-r[11]]]}},8444:function(v,g,r){v.exports=m;var t=r(9680),s=r(5070);function a(h,M,c){return Math.min(M,Math.max(h,c))}function f(h,M,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var i=0;i<this.dimension;++i)this.bounds[0][i]=-1/0,this.bounds[1][i]=1/0;this._state=h.slice().reverse(),this._velocity=M.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var u=f.prototype;u.flush=function(h){var M=s.gt(this._time,h)-1;M<=0||(this._time.splice(0,M),this._state.splice(0,M*this.dimension),this._velocity.splice(0,M*this.dimension))},u.curve=function(h){var M=this._time,c=M.length,i=s.le(M,h),d=this._scratch[0],x=this._state,A=this._velocity,E=this.dimension,y=this.bounds;if(i<0)for(var S=E-1,w=0;w<E;++w,--S)d[w]=x[S];else if(i>=c-1)for(var S=x.length-1,o=h-M[c-1],w=0;w<E;++w,--S)d[w]=x[S]+o*A[S];else{for(var S=E*(i+1)-1,_=M[i],b=M[i+1],I=b-_||1,D=this._scratch[1],N=this._scratch[2],k=this._scratch[3],z=this._scratch[4],F=!0,w=0;w<E;++w,--S)D[w]=x[S],k[w]=A[S]*I,N[w]=x[S+E],z[w]=A[S+E]*I,F=F&&D[w]===N[w]&&k[w]===z[w]&&k[w]===0;if(F)for(var w=0;w<E;++w)d[w]=D[w];else t(D,k,N,z,(h-_)/I,d)}for(var O=y[0],B=y[1],w=0;w<E;++w)d[w]=a(O[w],B[w],d[w]);return d},u.dcurve=function(h){var M=this._time,c=M.length,i=s.le(M,h),d=this._scratch[0],x=this._state,A=this._velocity,E=this.dimension;if(i>=c-1){var y=x.length-1;h-M[c-1];for(var S=0;S<E;++S,--y)d[S]=A[y]}else{for(var y=E*(i+1)-1,w=M[i],o=M[i+1],_=o-w||1,b=this._scratch[1],I=this._scratch[2],D=this._scratch[3],N=this._scratch[4],k=!0,S=0;S<E;++S,--y)b[S]=x[y],D[S]=A[y]*_,I[S]=x[y+E],N[S]=A[y+E]*_,k=k&&b[S]===I[S]&&D[S]===N[S]&&D[S]===0;if(k)for(var S=0;S<E;++S)d[S]=0;else{t.derivative(b,D,I,N,(h-w)/_,d);for(var S=0;S<E;++S)d[S]/=_}}return d},u.lastT=function(){var h=this._time;return h[h.length-1]},u.stable=function(){for(var h=this._velocity,M=h.length,c=this.dimension-1;c>=0;--c)if(h[--M])return!1;return!0},u.jump=function(h){var M=this.lastT(),c=this.dimension;if(!(h<M||arguments.length!==c+1)){var i=this._state,d=this._velocity,x=i.length-this.dimension,A=this.bounds,E=A[0],y=A[1];this._time.push(M,h);for(var S=0;S<2;++S)for(var w=0;w<c;++w)i.push(i[x++]),d.push(0);this._time.push(h);for(var w=c;w>0;--w)i.push(a(E[w-1],y[w-1],arguments[w])),d.push(0)}},u.push=function(h){var M=this.lastT(),c=this.dimension;if(!(h<M||arguments.length!==c+1)){var i=this._state,d=this._velocity,x=i.length-this.dimension,A=h-M,E=this.bounds,y=E[0],S=E[1],w=A>1e-6?1/A:0;this._time.push(h);for(var o=c;o>0;--o){var _=a(y[o-1],S[o-1],arguments[o]);i.push(_),d.push((_-i[x++])*w)}}},u.set=function(h){var M=this.dimension;if(!(h<this.lastT()||arguments.length!==M+1)){var c=this._state,i=this._velocity,d=this.bounds,x=d[0],A=d[1];this._time.push(h);for(var E=M;E>0;--E)c.push(a(x[E-1],A[E-1],arguments[E])),i.push(0)}},u.move=function(h){var M=this.lastT(),c=this.dimension;if(!(h<=M||arguments.length!==c+1)){var i=this._state,d=this._velocity,x=i.length-this.dimension,A=this.bounds,E=A[0],y=A[1],S=h-M,w=S>1e-6?1/S:0;this._time.push(h);for(var o=c;o>0;--o){var _=arguments[o];i.push(a(E[o-1],y[o-1],i[x++]+_)),d.push(_*w)}}},u.idle=function(h){var M=this.lastT();if(!(h<M)){var c=this.dimension,i=this._state,d=this._velocity,x=i.length-c,A=this.bounds,E=A[0],y=A[1],S=h-M;this._time.push(h);for(var w=c-1;w>=0;--w)i.push(a(E[w],y[w],i[x]+S*d[x])),d.push(0),x+=1}};function l(h){for(var M=new Array(h),c=0;c<h;++c)M[c]=0;return M}function m(h,M,c){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof h=="number"){var i=l(h);return new f(i,i,0)}else return new f(h,l(h.length),0);case 2:if(typeof M=="number"){var i=l(h.length);return new f(h,i,+M)}else c=0;case 3:if(h.length!==M.length)throw new Error("state and velocity lengths must match");return new f(h,M,c)}}},7080:function(v){v.exports=E;var g=0,r=1;function t(y,S,w,o,_,b){this._color=y,this.key=S,this.value=w,this.left=o,this.right=_,this._count=b}function s(y){return new t(y._color,y.key,y.value,y.left,y.right,y._count)}function a(y,S){return new t(y,S.key,S.value,S.left,S.right,S._count)}function f(y){y._count=1+(y.left?y.left._count:0)+(y.right?y.right._count:0)}function u(y,S){this._compare=y,this.root=S}var l=u.prototype;Object.defineProperty(l,"keys",{get:function(){var y=[];return this.forEach(function(S,w){y.push(S)}),y}}),Object.defineProperty(l,"values",{get:function(){var y=[];return this.forEach(function(S,w){y.push(w)}),y}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(y,S){for(var w=this._compare,o=this.root,_=[],b=[];o;){var I=w(y,o.key);_.push(o),b.push(I),I<=0?o=o.left:o=o.right}_.push(new t(g,y,S,null,null,1));for(var D=_.length-2;D>=0;--D){var o=_[D];b[D]<=0?_[D]=new t(o._color,o.key,o.value,_[D+1],o.right,o._count+1):_[D]=new t(o._color,o.key,o.value,o.left,_[D+1],o._count+1)}for(var D=_.length-1;D>1;--D){var N=_[D-1],o=_[D];if(N._color===r||o._color===r)break;var k=_[D-2];if(k.left===N)if(N.left===o){var z=k.right;if(z&&z._color===g)N._color=r,k.right=a(r,z),k._color=g,D-=1;else{if(k._color=g,k.left=N.right,N._color=r,N.right=k,_[D-2]=N,_[D-1]=o,f(k),f(N),D>=3){var F=_[D-3];F.left===k?F.left=N:F.right=N}break}}else{var z=k.right;if(z&&z._color===g)N._color=r,k.right=a(r,z),k._color=g,D-=1;else{if(N.right=o.left,k._color=g,k.left=o.right,o._color=r,o.left=N,o.right=k,_[D-2]=o,_[D-1]=N,f(k),f(N),f(o),D>=3){var F=_[D-3];F.left===k?F.left=o:F.right=o}break}}else if(N.right===o){var z=k.left;if(z&&z._color===g)N._color=r,k.left=a(r,z),k._color=g,D-=1;else{if(k._color=g,k.right=N.left,N._color=r,N.left=k,_[D-2]=N,_[D-1]=o,f(k),f(N),D>=3){var F=_[D-3];F.right===k?F.right=N:F.left=N}break}}else{var z=k.left;if(z&&z._color===g)N._color=r,k.left=a(r,z),k._color=g,D-=1;else{if(N.left=o.right,k._color=g,k.right=o.left,o._color=r,o.right=N,o.left=k,_[D-2]=o,_[D-1]=N,f(k),f(N),f(o),D>=3){var F=_[D-3];F.right===k?F.right=o:F.left=o}break}}}return _[0]._color=r,new u(w,_[0])};function m(y,S){if(S.left){var w=m(y,S.left);if(w)return w}var w=y(S.key,S.value);if(w)return w;if(S.right)return m(y,S.right)}function h(y,S,w,o){var _=S(y,o.key);if(_<=0){if(o.left){var b=h(y,S,w,o.left);if(b)return b}var b=w(o.key,o.value);if(b)return b}if(o.right)return h(y,S,w,o.right)}function M(y,S,w,o,_){var b=w(y,_.key),I=w(S,_.key),D;if(b<=0&&(_.left&&(D=M(y,S,w,o,_.left),D)||I>0&&(D=o(_.key,_.value),D)))return D;if(I>0&&_.right)return M(y,S,w,o,_.right)}l.forEach=function(S,w,o){if(this.root)switch(arguments.length){case 1:return m(S,this.root);case 2:return h(w,this._compare,S,this.root);case 3:return this._compare(w,o)>=0?void 0:M(w,o,this._compare,S,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var y=[],S=this.root;S;)y.push(S),S=S.left;return new c(this,y)}}),Object.defineProperty(l,"end",{get:function(){for(var y=[],S=this.root;S;)y.push(S),S=S.right;return new c(this,y)}}),l.at=function(y){if(y<0)return new c(this,[]);for(var S=this.root,w=[];;){if(w.push(S),S.left){if(y<S.left._count){S=S.left;continue}y-=S.left._count}if(!y)return new c(this,w);if(y-=1,S.right){if(y>=S.right._count)break;S=S.right}else break}return new c(this,[])},l.ge=function(y){for(var S=this._compare,w=this.root,o=[],_=0;w;){var b=S(y,w.key);o.push(w),b<=0&&(_=o.length),b<=0?w=w.left:w=w.right}return o.length=_,new c(this,o)},l.gt=function(y){for(var S=this._compare,w=this.root,o=[],_=0;w;){var b=S(y,w.key);o.push(w),b<0&&(_=o.length),b<0?w=w.left:w=w.right}return o.length=_,new c(this,o)},l.lt=function(y){for(var S=this._compare,w=this.root,o=[],_=0;w;){var b=S(y,w.key);o.push(w),b>0&&(_=o.length),b<=0?w=w.left:w=w.right}return o.length=_,new c(this,o)},l.le=function(y){for(var S=this._compare,w=this.root,o=[],_=0;w;){var b=S(y,w.key);o.push(w),b>=0&&(_=o.length),b<0?w=w.left:w=w.right}return o.length=_,new c(this,o)},l.find=function(y){for(var S=this._compare,w=this.root,o=[];w;){var _=S(y,w.key);if(o.push(w),_===0)return new c(this,o);_<=0?w=w.left:w=w.right}return new c(this,[])},l.remove=function(y){var S=this.find(y);return S?S.remove():this},l.get=function(y){for(var S=this._compare,w=this.root;w;){var o=S(y,w.key);if(o===0)return w.value;o<=0?w=w.left:w=w.right}};function c(y,S){this.tree=y,this._stack=S}var i=c.prototype;Object.defineProperty(i,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(i,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),i.clone=function(){return new c(this.tree,this._stack.slice())};function d(y,S){y.key=S.key,y.value=S.value,y.left=S.left,y.right=S.right,y._color=S._color,y._count=S._count}function x(y){for(var S,w,o,_,b=y.length-1;b>=0;--b){if(S=y[b],b===0){S._color=r;return}if(w=y[b-1],w.left===S){if(o=w.right,o.right&&o.right._color===g){if(o=w.right=s(o),_=o.right=s(o.right),w.right=o.left,o.left=w,o.right=_,o._color=w._color,S._color=r,w._color=r,_._color=r,f(w),f(o),b>1){var I=y[b-2];I.left===w?I.left=o:I.right=o}y[b-1]=o;return}else if(o.left&&o.left._color===g){if(o=w.right=s(o),_=o.left=s(o.left),w.right=_.left,o.left=_.right,_.left=w,_.right=o,_._color=w._color,w._color=r,o._color=r,S._color=r,f(w),f(o),f(_),b>1){var I=y[b-2];I.left===w?I.left=_:I.right=_}y[b-1]=_;return}if(o._color===r)if(w._color===g){w._color=r,w.right=a(g,o);return}else{w.right=a(g,o);continue}else{if(o=s(o),w.right=o.left,o.left=w,o._color=w._color,w._color=g,f(w),f(o),b>1){var I=y[b-2];I.left===w?I.left=o:I.right=o}y[b-1]=o,y[b]=w,b+1<y.length?y[b+1]=S:y.push(S),b=b+2}}else{if(o=w.left,o.left&&o.left._color===g){if(o=w.left=s(o),_=o.left=s(o.left),w.left=o.right,o.right=w,o.left=_,o._color=w._color,S._color=r,w._color=r,_._color=r,f(w),f(o),b>1){var I=y[b-2];I.right===w?I.right=o:I.left=o}y[b-1]=o;return}else if(o.right&&o.right._color===g){if(o=w.left=s(o),_=o.right=s(o.right),w.left=_.right,o.right=_.left,_.right=w,_.left=o,_._color=w._color,w._color=r,o._color=r,S._color=r,f(w),f(o),f(_),b>1){var I=y[b-2];I.right===w?I.right=_:I.left=_}y[b-1]=_;return}if(o._color===r)if(w._color===g){w._color=r,w.left=a(g,o);return}else{w.left=a(g,o);continue}else{if(o=s(o),w.left=o.right,o.right=w,o._color=w._color,w._color=g,f(w),f(o),b>1){var I=y[b-2];I.right===w?I.right=o:I.left=o}y[b-1]=o,y[b]=w,b+1<y.length?y[b+1]=S:y.push(S),b=b+2}}}}i.remove=function(){var y=this._stack;if(y.length===0)return this.tree;var S=new Array(y.length),w=y[y.length-1];S[S.length-1]=new t(w._color,w.key,w.value,w.left,w.right,w._count);for(var o=y.length-2;o>=0;--o){var w=y[o];w.left===y[o+1]?S[o]=new t(w._color,w.key,w.value,S[o+1],w.right,w._count):S[o]=new t(w._color,w.key,w.value,w.left,S[o+1],w._count)}if(w=S[S.length-1],w.left&&w.right){var _=S.length;for(w=w.left;w.right;)S.push(w),w=w.right;var b=S[_-1];S.push(new t(w._color,b.key,b.value,w.left,w.right,w._count)),S[_-1].key=w.key,S[_-1].value=w.value;for(var o=S.length-2;o>=_;--o)w=S[o],S[o]=new t(w._color,w.key,w.value,w.left,S[o+1],w._count);S[_-1].left=S[_]}if(w=S[S.length-1],w._color===g){var I=S[S.length-2];I.left===w?I.left=null:I.right===w&&(I.right=null),S.pop();for(var o=0;o<S.length;++o)S[o]._count--;return new u(this.tree._compare,S[0])}else if(w.left||w.right){w.left?d(w,w.left):w.right&&d(w,w.right),w._color=r;for(var o=0;o<S.length-1;++o)S[o]._count--;return new u(this.tree._compare,S[0])}else{if(S.length===1)return new u(this.tree._compare,null);for(var o=0;o<S.length;++o)S[o]._count--;var D=S[S.length-2];x(S),D.left===w?D.left=null:D.right=null}return new u(this.tree._compare,S[0])},Object.defineProperty(i,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(i,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(i,"index",{get:function(){var y=0,S=this._stack;if(S.length===0){var w=this.tree.root;return w?w._count:0}else S[S.length-1].left&&(y=S[S.length-1].left._count);for(var o=S.length-2;o>=0;--o)S[o+1]===S[o].right&&(++y,S[o].left&&(y+=S[o].left._count));return y},enumerable:!0}),i.next=function(){var y=this._stack;if(y.length!==0){var S=y[y.length-1];if(S.right)for(S=S.right;S;)y.push(S),S=S.left;else for(y.pop();y.length>0&&y[y.length-1].right===S;)S=y[y.length-1],y.pop()}},Object.defineProperty(i,"hasNext",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].right)return!0;for(var S=y.length-1;S>0;--S)if(y[S-1].left===y[S])return!0;return!1}}),i.update=function(y){var S=this._stack;if(S.length===0)throw new Error("Can't update empty node!");var w=new Array(S.length),o=S[S.length-1];w[w.length-1]=new t(o._color,o.key,y,o.left,o.right,o._count);for(var _=S.length-2;_>=0;--_)o=S[_],o.left===S[_+1]?w[_]=new t(o._color,o.key,o.value,w[_+1],o.right,o._count):w[_]=new t(o._color,o.key,o.value,o.left,w[_+1],o._count);return new u(this.tree._compare,w[0])},i.prev=function(){var y=this._stack;if(y.length!==0){var S=y[y.length-1];if(S.left)for(S=S.left;S;)y.push(S),S=S.right;else for(y.pop();y.length>0&&y[y.length-1].left===S;)S=y[y.length-1],y.pop()}},Object.defineProperty(i,"hasPrev",{get:function(){var y=this._stack;if(y.length===0)return!1;if(y[y.length-1].left)return!0;for(var S=y.length-1;S>0;--S)if(y[S-1].right===y[S])return!0;return!1}});function A(y,S){return y<S?-1:y>S?1:0}function E(y){return new u(y||A,null)}},7453:function(v,g,r){v.exports=o;var t=r(9557),s=r(1681),a=r(1011),f=r(2864),u=r(8468),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(_,b){return _[0]=b[0],_[1]=b[1],_[2]=b[2],_}function h(_){this.gl=_,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(_)}var M=h.prototype;M.update=function(_){_=_||{};function b(Q,le,Z){if(Z in _){var Y=_[Z],re=this[Z],X;(Q?Array.isArray(Y)&&Array.isArray(Y[0]):Array.isArray(Y))?this[Z]=X=[le(Y[0]),le(Y[1]),le(Y[2])]:this[Z]=X=[le(Y),le(Y),le(Y)];for(var q=0;q<3;++q)if(X[q]!==re[q])return!0}return!1}var I=b.bind(this,!1,Number),D=b.bind(this,!1,Boolean),N=b.bind(this,!1,String),k=b.bind(this,!0,function(Q){if(Array.isArray(Q)){if(Q.length===3)return[+Q[0],+Q[1],+Q[2],1];if(Q.length===4)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),z,F=!1,O=!1;if("bounds"in _)for(var B=_.bounds,W=0;W<2;++W)for(var ee=0;ee<3;++ee)B[W][ee]!==this.bounds[W][ee]&&(O=!0),this.bounds[W][ee]=B[W][ee];if("ticks"in _){z=_.ticks,F=!0,this.autoTicks=!1;for(var W=0;W<3;++W)this.tickSpacing[W]=0}else I("tickSpacing")&&(this.autoTicks=!0,O=!0);if(this._firstInit&&("ticks"in _||"tickSpacing"in _||(this.autoTicks=!0),O=!0,F=!0,this._firstInit=!1),O&&this.autoTicks&&(z=u.create(this.bounds,this.tickSpacing),F=!0),F){for(var W=0;W<3;++W)z[W].sort(function(le,Z){return le.x-Z.x});u.equal(z,this.ticks)?F=!1:this.ticks=z}D("tickEnable"),N("tickFont")&&(F=!0),I("tickSize"),I("tickAngle"),I("tickPad"),k("tickColor");var ne=N("labels");N("labelFont")&&(ne=!0),D("labelEnable"),I("labelSize"),I("labelPad"),k("labelColor"),D("lineEnable"),D("lineMirror"),I("lineWidth"),k("lineColor"),D("lineTickEnable"),D("lineTickMirror"),I("lineTickLength"),I("lineTickWidth"),k("lineTickColor"),D("gridEnable"),I("gridWidth"),k("gridColor"),D("zeroEnable"),k("zeroLineColor"),I("zeroLineWidth"),D("backgroundEnable"),k("backgroundColor"),this._text?this._text&&(ne||F)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=t(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&F&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=s(this.gl,this.bounds,this.ticks))};function c(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var i=[new c,new c,new c];function d(_,b,I,D,N){for(var k=_.primalOffset,z=_.primalMinor,F=_.mirrorOffset,O=_.mirrorMinor,B=D[b],W=0;W<3;++W)if(b!==W){var ee=k,ne=F,Q=z,le=O;B&1<<W&&(ee=F,ne=k,Q=O,le=z),ee[W]=I[0][W],ne[W]=I[1][W],N[W]>0?(Q[W]=-1,le[W]=0):(Q[W]=0,le[W]=1)}}var x=[0,0,0],A={model:l,view:l,projection:l,_ortho:!1};M.isOpaque=function(){return!0},M.isTransparent=function(){return!1},M.drawTransparent=function(_){};var E=0,y=[0,0,0],S=[0,0,0],w=[0,0,0];M.draw=function(_){_=_||A;for(var re=this.gl,b=_.model||l,I=_.view||l,D=_.projection||l,N=this.bounds,k=_._ortho||!1,z=f(b,I,D,N,k),F=z.cubeEdges,O=z.axis,B=I[12],W=I[13],ee=I[14],ne=I[15],Q=k?2:1,le=Q*this.pixelRatio*(D[3]*B+D[7]*W+D[11]*ee+D[15]*ne)/re.drawingBufferHeight,Z=0;Z<3;++Z)this.lastCubeProps.cubeEdges[Z]=F[Z],this.lastCubeProps.axis[Z]=O[Z];for(var Y=i,Z=0;Z<3;++Z)d(i[Z],Z,this.bounds,F,O);for(var re=this.gl,X=x,Z=0;Z<3;++Z)this.backgroundEnable[Z]?X[Z]=O[Z]:X[Z]=0;this._background.draw(b,I,D,N,X,this.backgroundColor),this._lines.bind(b,I,D,this);for(var Z=0;Z<3;++Z){var q=[0,0,0];O[Z]>0?q[Z]=N[1][Z]:q[Z]=N[0][Z];for(var se=0;se<2;++se){var $=(Z+1+se)%3,j=(Z+1+(se^1))%3;this.gridEnable[$]&&this._lines.drawGrid($,j,this.bounds,q,this.gridColor[$],this.gridWidth[$]*this.pixelRatio)}for(var se=0;se<2;++se){var $=(Z+1+se)%3,j=(Z+1+(se^1))%3;this.zeroEnable[j]&&Math.min(N[0][j],N[1][j])<=0&&Math.max(N[0][j],N[1][j])>=0&&this._lines.drawZero($,j,this.bounds,q,this.zeroLineColor[j],this.zeroLineWidth[j]*this.pixelRatio)}}for(var Z=0;Z<3;++Z){this.lineEnable[Z]&&this._lines.drawAxisLine(Z,this.bounds,Y[Z].primalOffset,this.lineColor[Z],this.lineWidth[Z]*this.pixelRatio),this.lineMirror[Z]&&this._lines.drawAxisLine(Z,this.bounds,Y[Z].mirrorOffset,this.lineColor[Z],this.lineWidth[Z]*this.pixelRatio);for(var ue=m(y,Y[Z].primalMinor),ae=m(S,Y[Z].mirrorMinor),ce=this.lineTickLength,se=0;se<3;++se){var ye=le/b[5*se];ue[se]*=ce[se]*ye,ae[se]*=ce[se]*ye}this.lineTickEnable[Z]&&this._lines.drawAxisTicks(Z,Y[Z].primalOffset,ue,this.lineTickColor[Z],this.lineTickWidth[Z]*this.pixelRatio),this.lineTickMirror[Z]&&this._lines.drawAxisTicks(Z,Y[Z].mirrorOffset,ae,this.lineTickColor[Z],this.lineTickWidth[Z]*this.pixelRatio)}this._lines.unbind(),this._text.bind(b,I,D,this.pixelRatio);var Ce,Ae=.5,Ie,Te;function Le(We){Te=[0,0,0],Te[We]=1}function xe(We,ut,ht){var rt=(We+1)%3,tt=(We+2)%3,vt=ut[rt],pt=ut[tt],mt=ht[rt],wt=ht[tt];if(vt>0&&wt>0){Le(rt);return}else if(vt>0&&wt<0){Le(rt);return}else if(vt<0&&wt>0){Le(rt);return}else if(vt<0&&wt<0){Le(rt);return}else if(pt>0&&mt>0){Le(tt);return}else if(pt>0&&mt<0){Le(tt);return}else if(pt<0&&mt>0){Le(tt);return}else if(pt<0&&mt<0){Le(tt);return}}for(var Z=0;Z<3;++Z){for(var Re=Y[Z].primalMinor,He=Y[Z].mirrorMinor,Ve=m(w,Y[Z].primalOffset),se=0;se<3;++se)this.lineTickEnable[Z]&&(Ve[se]+=le*Re[se]*Math.max(this.lineTickLength[se],0)/b[5*se]);var Fe=[0,0,0];if(Fe[Z]=1,this.tickEnable[Z]){this.tickAngle[Z]===-3600?(this.tickAngle[Z]=0,this.tickAlign[Z]="auto"):this.tickAlign[Z]=-1,Ie=1,Ce=[this.tickAlign[Z],Ae,Ie],Ce[0]==="auto"?Ce[0]=E:Ce[0]=parseInt(""+Ce[0]),Te=[0,0,0],xe(Z,Re,He);for(var se=0;se<3;++se)Ve[se]+=le*Re[se]*this.tickPad[se]/b[5*se];this._text.drawTicks(Z,this.tickSize[Z],this.tickAngle[Z],Ve,this.tickColor[Z],Fe,Te,Ce)}if(this.labelEnable[Z]){Ie=0,Te=[0,0,0],this.labels[Z].length>4&&(Le(Z),Ie=1),Ce=[this.labelAlign[Z],Ae,Ie],Ce[0]==="auto"?Ce[0]=E:Ce[0]=parseInt(""+Ce[0]);for(var se=0;se<3;++se)Ve[se]+=le*Re[se]*this.labelPad[se]/b[5*se];Ve[Z]+=.5*(N[0][Z]+N[1][Z]),this._text.drawLabel(Z,this.labelSize[Z],this.labelAngle[Z],Ve,this.labelColor[Z],[0,0,0],Te,Ce)}}this._text.unbind()},M.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function o(_,b){var I=new h(_);return I.update(b),I}},1011:function(v,g,r){v.exports=l;var t=r(5827),s=r(2944),a=r(1943).bg;function f(m,h,M,c){this.gl=m,this.buffer=h,this.vao=M,this.shader=c}var u=f.prototype;u.draw=function(m,h,M,c,i,d){for(var x=!1,A=0;A<3;++A)x=x||i[A];if(x){var E=this.gl;E.enable(E.POLYGON_OFFSET_FILL),E.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:h,projection:M,bounds:c,enable:i,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),E.disable(E.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(m){for(var h=[],M=[],c=0,i=0;i<3;++i)for(var d=(i+1)%3,x=(i+2)%3,A=[0,0,0],E=[0,0,0],y=-1;y<=1;y+=2){M.push(c,c+2,c+1,c+1,c+2,c+3),A[i]=y,E[i]=y;for(var S=-1;S<=1;S+=2){A[d]=S;for(var w=-1;w<=1;w+=2)A[x]=w,h.push(A[0],A[1],A[2],E[0],E[1],E[2]),c+=1}var o=d;d=x,x=o}var _=t(m,new Float32Array(h)),b=t(m,new Uint16Array(M),m.ELEMENT_ARRAY_BUFFER),I=s(m,[{buffer:_,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:_,type:m.FLOAT,size:3,offset:12,stride:24}],b),D=a(m);return D.attributes.position.location=0,D.attributes.normal.location=1,new f(m,_,I,D)}},2864:function(v,g,r){v.exports=y;var t=r(2288),s=r(104),a=r(4670),f=r(417),u=new Array(16),l=new Array(8),m=new Array(8),h=new Array(3),M=[0,0,0];(function(){for(var S=0;S<8;++S)l[S]=[1,1,1,1],m[S]=[1,1,1]})();function c(S,w,o){for(var _=0;_<4;++_){S[_]=o[12+_];for(var b=0;b<3;++b)S[_]+=w[b]*o[4*b+_]}}var i=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(S){for(var w=0;w<i.length;++w)if(S=a.positive(S,i[w]),S.length<3)return 0;for(var o=S[0],_=o[0]/o[3],b=o[1]/o[3],I=0,w=1;w+1<S.length;++w){var D=S[w],N=S[w+1],k=D[0]/D[3],z=D[1]/D[3],F=N[0]/N[3],O=N[1]/N[3],B=k-_,W=z-b,ee=F-_,ne=O-b;I+=Math.abs(B*ne-W*ee)}return I}var x=[1,1,1],A=[0,0,0],E={cubeEdges:x,axis:A};function y(S,w,o,_,b){s(u,w,S),s(u,o,u);for(var I=0,D=0;D<2;++D){h[2]=_[D][2];for(var N=0;N<2;++N){h[1]=_[N][1];for(var k=0;k<2;++k)h[0]=_[k][0],c(l[I],h,u),I+=1}}for(var z=-1,D=0;D<8;++D){for(var F=l[D][3],O=0;O<3;++O)m[D][O]=l[D][O]/F;b&&(m[D][2]*=-1),F<0&&(z<0||m[D][2]<m[z][2])&&(z=D)}if(z<0){z=0;for(var B=0;B<3;++B){for(var W=(B+2)%3,ee=(B+1)%3,ne=-1,Q=-1,le=0;le<2;++le){var Z=le<<B,Y=Z+(le<<W)+(1-le<<ee),re=Z+(1-le<<W)+(le<<ee);f(m[Z],m[Y],m[re],M)<0||(le?ne=1:Q=1)}if(ne<0||Q<0){Q>ne&&(z|=1<<B);continue}for(var le=0;le<2;++le){var Z=le<<B,Y=Z+(le<<W)+(1-le<<ee),re=Z+(1-le<<W)+(le<<ee),X=d([l[Z],l[Y],l[re],l[Z+(1<<W)+(1<<ee)]]);le?ne=X:Q=X}if(Q>ne){z|=1<<B;continue}}}for(var q=7^z,se=-1,D=0;D<8;++D)D===z||D===q||(se<0||m[se][1]>m[D][1])&&(se=D);for(var $=-1,D=0;D<3;++D){var j=se^1<<D;if(!(j===z||j===q)){$<0&&($=j);var ee=m[j];ee[0]<m[$][0]&&($=j)}}for(var ue=-1,D=0;D<3;++D){var j=se^1<<D;if(!(j===z||j===q||j===$)){ue<0&&(ue=j);var ee=m[j];ee[0]>m[ue][0]&&(ue=j)}}var ae=x;ae[0]=ae[1]=ae[2]=0,ae[t.log2($^se)]=se&$,ae[t.log2(se^ue)]=se&ue;var ce=ue^7;ce===z||ce===q?(ce=$^7,ae[t.log2(ue^ce)]=ce&ue):ae[t.log2($^ce)]=ce&$;for(var ye=A,Ce=z,B=0;B<3;++B)Ce&1<<B?ye[B]=-1:ye[B]=1;return E}},1681:function(v,g,r){v.exports=x;var t=r(5827),s=r(2944),a=r(1943).j,f=[0,0,0],u=[0,0,0],l=[0,0,0],m=[0,0,0],h=[1,1];function M(A){return A[0]=A[1]=A[2]=0,A}function c(A,E){return A[0]=E[0],A[1]=E[1],A[2]=E[2],A}function i(A,E,y,S,w,o,_,b){this.gl=A,this.vertBuffer=E,this.vao=y,this.shader=S,this.tickCount=w,this.tickOffset=o,this.gridCount=_,this.gridOffset=b}var d=i.prototype;d.bind=function(A,E,y){this.shader.bind(),this.shader.uniforms.model=A,this.shader.uniforms.view=E,this.shader.uniforms.projection=y,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(A,E,y,S,w){var o=M(u);this.shader.uniforms.majorAxis=u,o[A]=E[1][A]-E[0][A],this.shader.uniforms.minorAxis=o;var _=c(m,y);_[A]+=E[0][A],this.shader.uniforms.offset=_,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=S;var b=M(l);b[(A+2)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6);var b=M(l);b[(A+1)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(A,E,y,S,w){if(this.tickCount[A]){var o=M(f);o[A]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=E,this.shader.uniforms.minorAxis=y,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=w;var _=M(l);_[A]=1,this.shader.uniforms.screenAxis=_,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A])}},d.drawGrid=function(A,E,y,S,w,o){if(this.gridCount[A]){var _=M(u);_[E]=y[1][E]-y[0][E],this.shader.uniforms.minorAxis=_;var b=c(m,S);b[E]+=y[0][E],this.shader.uniforms.offset=b;var I=M(f);I[A]=1,this.shader.uniforms.majorAxis=I;var D=M(l);D[A]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=w,this.vao.draw(this.gl.TRIANGLES,this.gridCount[A],this.gridOffset[A])}},d.drawZero=function(A,E,y,S,w,o){var _=M(u);this.shader.uniforms.majorAxis=_,_[A]=y[1][A]-y[0][A],this.shader.uniforms.minorAxis=_;var b=c(m,S);b[A]+=y[0][A],this.shader.uniforms.offset=b;var I=M(l);I[E]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=w,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function x(A,E,y){var S=[],w=[0,0,0],o=[0,0,0],_=[0,0,0],b=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var I=0;I<3;++I){for(var k=S.length/3|0,D=0;D<y[I].length;++D){var N=+y[I][D].x;S.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var F=S.length/3|0;w[I]=k,o[I]=F-k;for(var k=S.length/3|0,z=0;z<y[I].length;++z){var N=+y[I][z].x;S.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var F=S.length/3|0;_[I]=k,b[I]=F-k}var O=t(A,new Float32Array(S)),B=s(A,[{buffer:O,type:A.FLOAT,size:3,stride:0,offset:0}]),W=a(A);return W.attributes.position.location=0,new i(A,O,B,W,o,w,b,_)}},1943:function(v,g,r){var t=r(6832),s=r(5158),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.j=function(M){return s(M,a,f,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.f=function(M){return s(M,u,l,null,[{name:"position",type:"vec3"}])};var m=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);g.bg=function(M){return s(M,m,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,g,r){v.exports=d;var t=r(5827),s=r(2944),a=r(875),f=r(1943).f,u=window||p.global||{},l=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var m=3;function h(x,A,E,y){this.gl=x,this.shader=A,this.buffer=E,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var M=h.prototype,c=[0,0];M.bind=function(x,A,E,y){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=x,S.view=A,S.projection=E,S.pixelScale=y,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},M.unbind=function(){this.vao.unbind()},M.update=function(x,A,E,y,S){var w=[];function o(O,B,W,ee,ne,Q){var le=l[W];le||(le=l[W]={});var Z=le[B];Z||(Z=le[B]=i(B,{triangles:!0,font:W,textAlign:"center",textBaseline:"middle",lineSpacing:ne,styletags:Q}));for(var Y=(ee||12)/12,re=Z.positions,X=Z.cells,q=0,se=X.length;q<se;++q)for(var $=X[q],j=2;j>=0;--j){var ue=re[$[j]];w.push(Y*ue[0],-Y*ue[1],O)}}for(var _=[0,0,0],b=[0,0,0],I=[0,0,0],D=[0,0,0],N=1.25,k={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},z=0;z<3;++z){I[z]=w.length/m|0,o(.5*(x[0][z]+x[1][z]),A[z],E[z],12,N,k),D[z]=(w.length/m|0)-I[z],_[z]=w.length/m|0;for(var F=0;F<y[z].length;++F)y[z][F].text&&o(y[z][F].x,y[z][F].text,y[z][F].font||S,y[z][F].fontSize||12,N,k);b[z]=(w.length/m|0)-_[z]}this.buffer.update(w),this.tickOffset=_,this.tickCount=b,this.labelOffset=I,this.labelCount=D},M.drawTicks=function(x,A,E,y,S,w,o,_){this.tickCount[x]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=S,this.shader.uniforms.angle=E,this.shader.uniforms.scale=A,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=_,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x]))},M.drawLabel=function(x,A,E,y,S,w,o,_){this.labelCount[x]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=S,this.shader.uniforms.angle=E,this.shader.uniforms.scale=A,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=_,this.vao.draw(this.gl.TRIANGLES,this.labelCount[x],this.labelOffset[x]))},M.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function i(x,A){try{return a(x,A)}catch(E){return console.warn('error vectorizing text:"'+x+'" error:',E),{cells:[],positions:[]}}}function d(x,A,E,y,S,w){var o=t(x),_=s(x,[{buffer:o,size:3}]),b=f(x);b.attributes.position.location=0;var I=new h(x,b,o,_);return I.update(A,E,y,S,w),I}},8468:function(v,g){g.create=t,g.equal=s;function r(a,f){var u=a+"",l=u.indexOf("."),m=0;l>=0&&(m=u.length-l-1);var h=Math.pow(10,m),M=Math.round(a*f*h),c=M+"";if(c.indexOf("e")>=0)return c;var i=M/h,d=M%h;M<0?(i=-Math.ceil(i)|0,d=-d|0):(i=Math.floor(i)|0,d=d|0);var x=""+i;if(M<0&&(x="-"+x),m){for(var A=""+d;A.length<m;)A="0"+A;return x+"."+A}else return x}function t(a,f){for(var u=[],l=0;l<3;++l){var m=[];.5*(a[0][l]+a[1][l]);for(var h=0;h*f[l]<=a[1][l];++h)m.push({x:h*f[l],text:r(f[l],h)});for(var h=-1;h*f[l]>=a[0][l];--h)m.push({x:h*f[l],text:r(f[l],h)});u.push(m)}return u}function s(a,f){for(var u=0;u<3;++u){if(a[u].length!==f[u].length)return!1;for(var l=0;l<a[u].length;++l){var m=a[u][l],h=f[u][l];if(m.x!==h.x||m.text!==h.text||m.font!==h.font||m.fontColor!==h.fontColor||m.fontSize!==h.fontSize||m.dx!==h.dx||m.dy!==h.dy)return!1}}return!0}},2771:function(v,g,r){v.exports=E;var t=r(5795),s=r(4670),a=r(2864),f=r(104),u=r(2142),l=r(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function M(y,S,w){this.lo=y,this.hi=S,this.pixelsPerDataUnit=w}var c=[0,0,0,1],i=[0,0,0,1];function d(y,S,w,o,_){for(var b=0;b<3;++b){for(var I=c,D=i,N=0;N<3;++N)D[N]=I[N]=w[N];D[3]=I[3]=1,D[b]+=1,l(D,D,S),D[3]<0&&(y[b]=1/0),I[b]-=1,l(I,I,S),I[3]<0&&(y[b]=1/0);var k=(I[0]/I[3]-D[0]/D[3])*o,z=(I[1]/I[3]-D[1]/D[3])*_;y[b]=.25*Math.sqrt(k*k+z*z)}return y}var x=[new M(1/0,-1/0,1/0),new M(1/0,-1/0,1/0),new M(1/0,-1/0,1/0)],A=[0,0,0];function E(y,S,w,o,z){var b=S.model||m,I=S.view||m,D=S.projection||m,N=S._ortho||!1,k=y.bounds,z=z||a(b,I,D,k,N),F=z.axis;f(h,I,b),f(h,D,h);for(var O=x,B=0;B<3;++B)O[B].lo=1/0,O[B].hi=-1/0,O[B].pixelsPerDataUnit=1/0;var W=t(u(h,h));u(h,h);for(var ee=0;ee<3;++ee){var ne=(ee+1)%3,Q=(ee+2)%3,le=A;e:for(var B=0;B<2;++B){var Z=[];if(F[ee]<0!=!!B){le[ee]=k[B][ee];for(var Y=0;Y<2;++Y){le[ne]=k[Y^B][ne];for(var re=0;re<2;++re)le[Q]=k[re^Y^B][Q],Z.push(le.slice())}for(var X=N?5:4,Y=X;Y===X;++Y){if(Z.length===0)continue e;Z=s.positive(Z,W[Y])}for(var Y=0;Y<Z.length;++Y)for(var Q=Z[Y],q=d(A,h,Q,w,o),re=0;re<3;++re)O[re].lo=Math.min(O[re].lo,Q[re]),O[re].hi=Math.max(O[re].hi,Q[re]),re!==ee&&(O[re].pixelsPerDataUnit=Math.min(O[re].pixelsPerDataUnit,Math.abs(q[re])))}}}return O}},5827:function(v,g,r){var t=r(5306),s=r(7498),a=r(5050),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(i,d,x,A,E){this.gl=i,this.type=d,this.handle=x,this.length=A,this.usage=E}var l=u.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(i,d,x,A,E,y){var S=E.length*E.BYTES_PER_ELEMENT;if(y<0)return i.bufferData(d,E,A),S;if(S+y>x)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return i.bufferSubData(d,y,E),x}function h(i,d){for(var x=t.malloc(i.length,d),A=i.length,E=0;E<A;++E)x[E]=i[E];return x}function M(i,d){for(var x=1,A=d.length-1;A>=0;--A){if(d[A]!==x)return!1;x*=i[A]}return!0}l.update=function(i,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof i=="object"&&typeof i.shape<"u"){var x=i.dtype;if(f.indexOf(x)<0&&(x="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var A=gl.getExtension("OES_element_index_uint");A&&x!=="uint16"?x="uint32":x="uint16"}if(x===i.dtype&&M(i.shape,i.stride))i.offset===0&&i.data.length===i.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,i.data,d):this.length=m(this.gl,this.type,this.length,this.usage,i.data.subarray(i.offset,i.shape[0]),d);else{var E=t.malloc(i.size,x),y=a(E,i.shape);s.assign(y,i),d<0?this.length=m(this.gl,this.type,this.length,this.usage,E,d):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,i.size),d),t.free(E)}}else if(Array.isArray(i)){var S;this.type===this.gl.ELEMENT_ARRAY_BUFFER?S=h(i,"uint16"):S=h(i,"float32"),d<0?this.length=m(this.gl,this.type,this.length,this.usage,S,d):this.length=m(this.gl,this.type,this.length,this.usage,S.subarray(0,i.length),d),t.free(S)}else if(typeof i=="object"&&typeof i.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,i,d);else if(typeof i=="number"||i===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");i=i|0,i<=0&&(i=1),this.gl.bufferData(this.type,i|0,this.usage),this.length=i}else throw new Error("gl-buffer: Invalid data type")};function c(i,d,x,A){if(x=x||i.ARRAY_BUFFER,A=A||i.DYNAMIC_DRAW,x!==i.ARRAY_BUFFER&&x!==i.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(A!==i.DYNAMIC_DRAW&&A!==i.STATIC_DRAW&&A!==i.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var E=i.createBuffer(),y=new u(i,x,E,0,A);return y.update(d),y}v.exports=c},1140:function(v,g,r){var t=r(2858);v.exports=function(a,f){var u=a.positions,l=a.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:a.vertexIntensityBounds,vectors:[],cells:[],coneOffset:a.coneOffset,colormap:a.colormap};if(a.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),m;for(var h=0,M=1/0,c=-1/0,i=1/0,d=-1/0,x=1/0,A=-1/0,E=null,y=null,S=[],w=1/0,o=!1,_=0;_<u.length;_++){var b=u[_];M=Math.min(b[0],M),c=Math.max(b[0],c),i=Math.min(b[1],i),d=Math.max(b[1],d),x=Math.min(b[2],x),A=Math.max(b[2],A);var I=l[_];if(t.length(I)>h&&(h=t.length(I)),_){var D=2*t.distance(E,b)/(t.length(y)+t.length(I));D?(w=Math.min(w,D),o=!1):o=!0}o||(E=b,y=I),S.push(I)}var N=[M,i,x],k=[c,d,A];f&&(f[0]=N,f[1]=k),h===0&&(h=1);var z=1/h;isFinite(w)||(w=1),m.vectorScale=w;var F=a.coneSize||.5;a.absoluteConeSize&&(F=a.absoluteConeSize*z),m.coneScale=F;for(var _=0,O=0;_<u.length;_++)for(var b=u[_],B=b[0],W=b[1],ee=b[2],ne=S[_],Q=t.length(ne)*z,le=0,Z=8;le<Z;le++){m.positions.push([B,W,ee,O++]),m.positions.push([B,W,ee,O++]),m.positions.push([B,W,ee,O++]),m.positions.push([B,W,ee,O++]),m.positions.push([B,W,ee,O++]),m.positions.push([B,W,ee,O++]),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vertexIntensity.push(Q,Q,Q),m.vertexIntensity.push(Q,Q,Q);var Y=m.positions.length;m.cells.push([Y-6,Y-5,Y-4],[Y-3,Y-2,Y-1])}return m};var s=r(7234);v.exports.createMesh=r(5028),v.exports.createConeMesh=function(a,f){return v.exports.createMesh(a,f,{shaders:s,traceType:"cone"})}},5028:function(v,g,r){var t=r(5158),s=r(5827),a=r(2944),f=r(8931),u=r(104),l=r(7437),m=r(5050),h=r(9156),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(S,w,o,_,b,I,D,N,k,z,F){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=w,this.dirty=!0,this.triShader=o,this.pickShader=_,this.trianglePositions=b,this.triangleVectors=I,this.triangleColors=N,this.triangleUVs=k,this.triangleIds=D,this.triangleVAO=z,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=F,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=M,this._view=M,this._projection=M,this._resolution=[1,1]}var i=c.prototype;i.isOpaque=function(){return this.opacity>=1},i.isTransparent=function(){return this.opacity<1},i.pickSlots=1,i.setPickBase=function(S){this.pickId=S};function d(S){for(var w=h({colormap:S,nshades:256,format:"rgba"}),o=new Uint8Array(256*4),_=0;_<256;++_){for(var b=w[_],I=0;I<3;++I)o[4*_+I]=b[I];o[4*_+3]=b[3]*255}return m(o,[256,256,4],[4,0,1])}function x(S){for(var w=S.length,o=new Array(w),_=0;_<w;++_)o[_]=S[_][2];return o}i.update=function(S){S=S||{};var w=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),S.tubeScale!==void 0&&(this.tubeScale=S.tubeScale),S.vectorScale!==void 0&&(this.vectorScale=S.vectorScale),S.coneScale!==void 0&&(this.coneScale=S.coneScale),S.coneOffset!==void 0&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=w.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=w.LINEAR,this.texture.setPixels(d(S.colormap)),this.texture.generateMipmap());var o=S.cells,_=S.positions,b=S.vectors;if(!(!_||!o||!b)){var I=[],D=[],N=[],k=[],z=[];this.cells=o,this.positions=_,this.vectors=b;var F=S.meshColor||[1,1,1,1],O=S.vertexIntensity,B=1/0,W=-1/0;if(O)if(S.vertexIntensityBounds)B=+S.vertexIntensityBounds[0],W=+S.vertexIntensityBounds[1];else for(var ee=0;ee<O.length;++ee){var ne=O[ee];B=Math.min(B,ne),W=Math.max(W,ne)}else for(var ee=0;ee<_.length;++ee){var ne=_[ee][2];B=Math.min(B,ne),W=Math.max(W,ne)}O?this.intensity=O:this.intensity=x(_),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var ee=0;ee<_.length;++ee)for(var Q=_[ee],le=0;le<3;++le)isNaN(Q[le])||!isFinite(Q[le])||(this.bounds[0][le]=Math.min(this.bounds[0][le],Q[le]),this.bounds[1][le]=Math.max(this.bounds[1][le],Q[le]));var Z=0;e:for(var ee=0;ee<o.length;++ee){var Y=o[ee];switch(Y.length){case 3:for(var le=0;le<3;++le)for(var re=Y[le],Q=_[re],X=0;X<3;++X)if(isNaN(Q[X])||!isFinite(Q[X]))continue e;for(var le=0;le<3;++le){var re=Y[2-le],Q=_[re];I.push(Q[0],Q[1],Q[2],Q[3]);var q=b[re];D.push(q[0],q[1],q[2],q[3]||0);var se=F;se.length===3?N.push(se[0],se[1],se[2],1):N.push(se[0],se[1],se[2],se[3]);var $;O?$=[(O[re]-B)/(W-B),0]:$=[(Q[2]-B)/(W-B),0],k.push($[0],$[1]),z.push(ee)}Z+=1;break}}this.triangleCount=Z,this.trianglePositions.update(I),this.triangleVectors.update(D),this.triangleColors.update(N),this.triangleUVs.update(k),this.triangleIds.update(new Uint32Array(z))}},i.drawTransparent=i.draw=function(S){S=S||{};for(var w=this.gl,o=S.model||M,_=S.view||M,b=S.projection||M,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)I[0][D]=Math.max(I[0][D],this.clipBounds[0][D]),I[1][D]=Math.min(I[1][D],this.clipBounds[1][D]);var N={model:o,view:_,projection:b,inverseModel:M.slice(),clipBounds:I,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=l(N.inverseModel,N.model),w.disable(w.CULL_FACE),this.texture.bind(0);var k=new Array(16);u(k,N.view,N.model),u(k,N.projection,k),l(k,k);for(var D=0;D<3;++D)N.eyePosition[D]=k[12+D]/k[15];for(var z=k[15],D=0;D<3;++D)z+=this.lightPosition[D]*k[4*D+3];for(var D=0;D<3;++D){for(var F=k[12+D],O=0;O<3;++O)F+=k[4*O+D]*this.lightPosition[O];N.lightPosition[D]=F/z}if(this.triangleCount>0){var B=this.triShader;B.bind(),B.uniforms=N,this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},i.drawPick=function(S){S=S||{};for(var w=this.gl,o=S.model||M,_=S.view||M,b=S.projection||M,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)I[0][D]=Math.max(I[0][D],this.clipBounds[0][D]),I[1][D]=Math.min(I[1][D],this.clipBounds[1][D]);this._model=[].slice.call(o),this._view=[].slice.call(_),this._projection=[].slice.call(b),this._resolution=[w.drawingBufferWidth,w.drawingBufferHeight];var N={model:o,view:_,projection:b,clipBounds:I,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},k=this.pickShader;k.bind(),k.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},i.pick=function(S){if(!S||S.id!==this.pickId)return null;var w=S.value[0]+256*S.value[1]+65536*S.value[2],o=this.cells[w],_=this.positions[o[1]].slice(0,3),b={position:_,dataCoordinate:_,index:Math.floor(o[1]/48)};return this.traceType==="cone"?b.index=Math.floor(o[1]/48):this.traceType==="streamtube"&&(b.intensity=this.intensity[o[1]],b.velocity=this.vectors[o[1]].slice(0,3),b.divergence=this.vectors[o[1]][3],b.index=w),b},i.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function A(S,w){var o=t(S,w.meshShader.vertex,w.meshShader.fragment,null,w.meshShader.attributes);return o.attributes.position.location=0,o.attributes.color.location=2,o.attributes.uv.location=3,o.attributes.vector.location=4,o}function E(S,w){var o=t(S,w.pickShader.vertex,w.pickShader.fragment,null,w.pickShader.attributes);return o.attributes.position.location=0,o.attributes.id.location=1,o.attributes.vector.location=4,o}function y(S,w,o){var _=o.shaders;arguments.length===1&&(w=S,S=w.gl);var b=A(S,_),I=E(S,_),D=f(S,m(new Uint8Array([255,255,255,255]),[1,1,4]));D.generateMipmap(),D.minFilter=S.LINEAR_MIPMAP_LINEAR,D.magFilter=S.LINEAR;var N=s(S),k=s(S),z=s(S),F=s(S),O=s(S),B=a(S,[{buffer:N,type:S.FLOAT,size:4},{buffer:O,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:z,type:S.FLOAT,size:4},{buffer:F,type:S.FLOAT,size:2},{buffer:k,type:S.FLOAT,size:4}]),W=new c(S,D,b,I,N,k,O,z,F,B,o.traceType||"cone");return W.update(w),W}v.exports=y},7234:function(v,g,r){var t=r(6832),s=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:s,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},g.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,g,r){var t=r(1950);v.exports=function(a){return t[a]}},3110:function(v,g,r){v.exports=c;var t=r(5827),s=r(2944),a=r(7667),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(i,d,x,A){this.gl=i,this.shader=A,this.buffer=d,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=u.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(i){var d=this.gl,x=this.shader.uniforms;this.shader.bind();var A=x.view=i.view||f,E=x.projection=i.projection||f;x.model=i.model||f,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var y=A[12],S=A[13],w=A[14],o=A[15],_=i._ortho||!1,b=_?2:1,I=b*this.pixelRatio*(E[3]*y+E[7]*S+E[11]*w+E[15]*o)/d.drawingBufferHeight;this.vao.bind();for(var D=0;D<3;++D)d.lineWidth(this.lineWidth[D]*this.pixelRatio),x.capSize=this.capSize[D]*I,this.lineCount[D]&&d.drawArrays(d.LINES,this.lineOffset[D],this.lineCount[D]);this.vao.unbind()};function m(i,d){for(var x=0;x<3;++x)i[0][x]=Math.min(i[0][x],d[x]),i[1][x]=Math.max(i[1][x],d[x])}var h=function(){for(var i=new Array(3),d=0;d<3;++d){for(var x=[],A=1;A<=2;++A)for(var E=-1;E<=1;E+=2){var y=(A+d)%3,S=[0,0,0];S[y]=E,x.push(S)}i[d]=x}return i}();function M(i,d,x,A){for(var E=h[A],y=0;y<E.length;++y){var S=E[y];i.push(d[0],d[1],d[2],x[0],x[1],x[2],x[3],S[0],S[1],S[2])}return E.length}l.update=function(i){i=i||{},"lineWidth"in i&&(this.lineWidth=i.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in i&&(this.capSize=i.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=i.color||[[0,0,0],[0,0,0],[0,0,0]],x=i.position,A=i.error;if(Array.isArray(d[0])||(d=[d,d,d]),x&&A){var E=[],y=x.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var w=0;w<3;++w){this.lineOffset[w]=S;e:for(var o=0;o<y;++o){for(var _=x[o],b=0;b<3;++b)if(isNaN(_[b])||!isFinite(_[b]))continue e;var I=A[o],D=d[w];if(Array.isArray(D[0])&&(D=d[o]),D.length===3?D=[D[0],D[1],D[2],1]:D.length===4&&(D=[D[0],D[1],D[2],D[3]],!this.hasAlpha&&D[3]<1&&(this.hasAlpha=!0)),!(isNaN(I[0][w])||isNaN(I[1][w]))){if(I[0][w]<0){var N=_.slice();N[w]+=I[0][w],E.push(_[0],_[1],_[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),m(this.bounds,N),S+=2+M(E,N,D,w)}if(I[1][w]>0){var N=_.slice();N[w]+=I[1][w],E.push(_[0],_[1],_[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),m(this.bounds,N),S+=2+M(E,N,D,w)}}}this.lineCount[w]=S-this.lineOffset[w]}this.buffer.update(E)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(i){var d=i.gl,x=t(d),A=s(d,[{buffer:x,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:d.FLOAT,size:3,offset:28,stride:40}]),E=a(d);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.offset.location=2;var y=new u(d,x,A,E);return y.update(i),y}},7667:function(v,g,r){var t=r(6832),s=r(5158),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return s(u,a,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,g,r){var t=r(8931);v.exports=S;var s=null,a,f,u,l;function m(w){var o=w.getParameter(w.FRAMEBUFFER_BINDING),_=w.getParameter(w.RENDERBUFFER_BINDING),b=w.getParameter(w.TEXTURE_BINDING_2D);return[o,_,b]}function h(w,o){w.bindFramebuffer(w.FRAMEBUFFER,o[0]),w.bindRenderbuffer(w.RENDERBUFFER,o[1]),w.bindTexture(w.TEXTURE_2D,o[2])}function M(w,o){var _=w.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL);s=new Array(_+1);for(var b=0;b<=_;++b){for(var I=new Array(_),D=0;D<b;++D)I[D]=w.COLOR_ATTACHMENT0+D;for(var D=b;D<_;++D)I[D]=w.NONE;s[b]=I}}function c(w){switch(w){case a:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function i(w,o,_,b,I,D){if(!b)return null;var N=t(w,o,_,I,b);return N.magFilter=w.NEAREST,N.minFilter=w.NEAREST,N.mipSamples=1,N.bind(),w.framebufferTexture2D(w.FRAMEBUFFER,D,w.TEXTURE_2D,N.handle,0),N}function d(w,o,_,b,I){var D=w.createRenderbuffer();return w.bindRenderbuffer(w.RENDERBUFFER,D),w.renderbufferStorage(w.RENDERBUFFER,b,o,_),w.framebufferRenderbuffer(w.FRAMEBUFFER,I,w.RENDERBUFFER,D),D}function x(w){var o=m(w.gl),_=w.gl,b=w.handle=_.createFramebuffer(),I=w._shape[0],D=w._shape[1],N=w.color.length,k=w._ext,z=w._useStencil,F=w._useDepth,O=w._colorType;_.bindFramebuffer(_.FRAMEBUFFER,b);for(var B=0;B<N;++B)w.color[B]=i(_,I,D,O,_.RGBA,_.COLOR_ATTACHMENT0+B);N===0?(w._color_rb=d(_,I,D,_.RGBA4,_.COLOR_ATTACHMENT0),k&&k.drawBuffersWEBGL(s[0])):N>1&&k.drawBuffersWEBGL(s[N]);var W=_.getExtension("WEBGL_depth_texture");W?z?w.depth=i(_,I,D,W.UNSIGNED_INT_24_8_WEBGL,_.DEPTH_STENCIL,_.DEPTH_STENCIL_ATTACHMENT):F&&(w.depth=i(_,I,D,_.UNSIGNED_SHORT,_.DEPTH_COMPONENT,_.DEPTH_ATTACHMENT)):F&&z?w._depth_rb=d(_,I,D,_.DEPTH_STENCIL,_.DEPTH_STENCIL_ATTACHMENT):F?w._depth_rb=d(_,I,D,_.DEPTH_COMPONENT16,_.DEPTH_ATTACHMENT):z&&(w._depth_rb=d(_,I,D,_.STENCIL_INDEX,_.STENCIL_ATTACHMENT));var ee=_.checkFramebufferStatus(_.FRAMEBUFFER);if(ee!==_.FRAMEBUFFER_COMPLETE){w._destroyed=!0,_.bindFramebuffer(_.FRAMEBUFFER,null),_.deleteFramebuffer(w.handle),w.handle=null,w.depth&&(w.depth.dispose(),w.depth=null),w._depth_rb&&(_.deleteRenderbuffer(w._depth_rb),w._depth_rb=null);for(var B=0;B<w.color.length;++B)w.color[B].dispose(),w.color[B]=null;w._color_rb&&(_.deleteRenderbuffer(w._color_rb),w._color_rb=null),h(_,o),c(ee)}h(_,o)}function A(w,o,_,b,I,D,N,k){this.gl=w,this._shape=[o|0,_|0],this._destroyed=!1,this._ext=k,this.color=new Array(I);for(var z=0;z<I;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=b,this._useDepth=D,this._useStencil=N;var F=this,O=[o|0,_|0];Object.defineProperties(O,{0:{get:function(){return F._shape[0]},set:function(B){return F.width=B}},1:{get:function(){return F._shape[1]},set:function(B){return F.height=B}}}),this._shapeVector=O,x(this)}var E=A.prototype;function y(w,o,_){if(w._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(w._shape[0]===o&&w._shape[1]===_)){var b=w.gl,I=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(o<0||o>I||_<0||_>I)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");w._shape[0]=o,w._shape[1]=_;for(var D=m(b),N=0;N<w.color.length;++N)w.color[N].shape=w._shape;w._color_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,w._color_rb),b.renderbufferStorage(b.RENDERBUFFER,b.RGBA4,w._shape[0],w._shape[1])),w.depth&&(w.depth.shape=w._shape),w._depth_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,w._depth_rb),w._useDepth&&w._useStencil?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,w._shape[0],w._shape[1]):w._useDepth?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,w._shape[0],w._shape[1]):w._useStencil&&b.renderbufferStorage(b.RENDERBUFFER,b.STENCIL_INDEX,w._shape[0],w._shape[1])),b.bindFramebuffer(b.FRAMEBUFFER,w.handle);var k=b.checkFramebufferStatus(b.FRAMEBUFFER);k!==b.FRAMEBUFFER_COMPLETE&&(w.dispose(),h(b,D),c(k)),h(b,D)}}Object.defineProperties(E,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(w){if(Array.isArray(w)||(w=[w|0,w|0]),w.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var o=w[0]|0,_=w[1]|0;return y(this,o,_),[o,_]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(w){return w=w|0,y(this,w,this._shape[1]),w},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(w){return w=w|0,y(this,this._shape[0],w),w},enumerable:!1}}),E.bind=function(){if(!this._destroyed){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,this.handle),w.viewport(0,0,this._shape[0],this._shape[1])}},E.dispose=function(){if(!this._destroyed){this._destroyed=!0;var w=this.gl;w.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(w.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var o=0;o<this.color.length;++o)this.color[o].dispose(),this.color[o]=null;this._color_rb&&(w.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function S(w,o,_,b){a||(a=w.FRAMEBUFFER_UNSUPPORTED,f=w.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=w.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=w.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var I=w.getExtension("WEBGL_draw_buffers");if(!s&&I&&M(w,I),Array.isArray(o)&&(b=_,_=o[1]|0,o=o[0]|0),typeof o!="number")throw new Error("gl-fbo: Missing shape parameter");var D=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(o<0||o>D||_<0||_>D)throw new Error("gl-fbo: Parameters are too large for FBO");b=b||{};var N=1;if("color"in b){if(N=Math.max(b.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(I){if(N>w.getParameter(I.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var k=w.UNSIGNED_BYTE,z=w.getExtension("OES_texture_float");if(b.float&&N>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");k=w.FLOAT}else b.preferFloat&&N>0&&z&&(k=w.FLOAT);var F=!0;"depth"in b&&(F=!!b.depth);var O=!1;return"stencil"in b&&(O=!!b.stencil),new A(w,o,_,k,N,F,O,I)}},3530:function(v,g,r){var t=r(8974).sprintf,s=r(6603),a=r(9365),f=r(8008);v.exports=u;function u(l,m,h){var M=a(m)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===s.FRAGMENT_SHADER?"fragment":"vertex");for(var i=t(`Error compiling %s shader %s:
`,c,M),d=t("%s%s",i,l),x=l.split(`
`),A={},E=0;E<x.length;E++){var y=x[E];if(!(y===""||y==="\0")){var S=parseInt(y.split(":")[2]);if(isNaN(S))throw new Error(t("Could not parse error: %s",y));A[S]=y}}for(var w=f(m).split(`
`),E=0;E<w.length;E++)if(!(!A[E+3]&&!A[E+2]&&!A[E+1])){var o=w[E];if(i+=o+`
`,A[E+1]){var _=A[E+1];_=_.substr(_.split(":",3).join(":").length+1).trim(),i+=t(`^^^ %s

`,_)}}return{long:i.trim(),short:d.trim()}}},6386:function(v,g,r){v.exports=c;var t=r(5070),s=r(9560),a=r(5306),f=r(5158),u=r(5827),l=r(1292);function m(i,d,x,A,E,y,S){this.plot=i,this.shader=d,this.pickShader=x,this.positionBuffer=A,this.weightBuffer=E,this.colorBuffer=y,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=m.prototype,M=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var i=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,x=this.shader,A=this.bounds,E=this.numVertices;if(!(E<=0)){var y=d.gl,S=d.dataBox,w=A[2]-A[0],o=A[3]-A[1],_=S[2]-S[0],b=S[3]-S[1];i[0]=2*w/_,i[4]=2*o/b,i[6]=2*(A[0]-S[0])/_-1,i[7]=2*(A[1]-S[1])/b-1,x.bind();var I=x.uniforms;I.viewTransform=i,I.shape=this.shape;var D=x.attributes;this.positionBuffer.bind(),D.position.pointer(),this.weightBuffer.bind(),D.weight.pointer(y.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),D.color.pointer(y.UNSIGNED_BYTE,!0),y.drawArrays(y.TRIANGLES,0,E)}}}(),h.drawPick=function(){var i=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(x){var A=this.plot,E=this.pickShader,y=this.bounds,S=this.numVertices;if(!(S<=0)){var w=A.gl,o=A.dataBox,_=y[2]-y[0],b=y[3]-y[1],I=o[2]-o[0],D=o[3]-o[1];i[0]=2*_/I,i[4]=2*b/D,i[6]=2*(y[0]-o[0])/I-1,i[7]=2*(y[1]-o[1])/D-1;for(var N=0;N<4;++N)d[N]=x>>N*8&255;this.pickOffset=x,E.bind();var k=E.uniforms;k.viewTransform=i,k.pickOffset=d,k.shape=this.shape;var z=E.attributes;return this.positionBuffer.bind(),z.position.pointer(),this.weightBuffer.bind(),z.weight.pointer(w.UNSIGNED_BYTE,!1),this.idBuffer.bind(),z.pickId.pointer(w.UNSIGNED_BYTE,!1),w.drawArrays(w.TRIANGLES,0,S),x+this.shape[0]*this.shape[1]}}}(),h.pick=function(i,d,x){var A=this.pickOffset,E=this.shape[0]*this.shape[1];if(x<A||x>=A+E)return null;var y=x-A,S=this.xData,w=this.yData;return{object:this,pointId:y,dataCoord:[S[y%this.shape[0]],w[y/this.shape[0]|0]]}},h.update=function(i){i=i||{};var d=i.shape||[0,0],x=i.x||s(d[0]),A=i.y||s(d[1]),E=i.z||new Float32Array(d[0]*d[1]),y=i.zsmooth!==!1;this.xData=x,this.yData=A;var S=i.colorLevels||[0],w=i.colorValues||[0,0,0,1],o=S.length,_=this.bounds,b,I,D,N;y?(b=_[0]=x[0],I=_[1]=A[0],D=_[2]=x[x.length-1],N=_[3]=A[A.length-1]):(b=_[0]=x[0]+(x[1]-x[0])/2,I=_[1]=A[0]+(A[1]-A[0])/2,D=_[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,N=_[3]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2);var k=1/(D-b),z=1/(N-I),F=d[0],O=d[1];this.shape=[F,O];var B=(y?(F-1)*(O-1):F*O)*(M.length>>>1);this.numVertices=B;for(var W=a.mallocUint8(B*4),ee=a.mallocFloat32(B*2),ne=a.mallocUint8(B*2),Q=a.mallocUint32(B),le=0,Z=y?F-1:F,Y=y?O-1:O,re=0;re<Y;++re){var X,q;y?(X=z*(A[re]-I),q=z*(A[re+1]-I)):(X=re<O-1?z*(A[re]-(A[re+1]-A[re])/2-I):z*(A[re]-(A[re]-A[re-1])/2-I),q=re<O-1?z*(A[re]+(A[re+1]-A[re])/2-I):z*(A[re]+(A[re]-A[re-1])/2-I));for(var se=0;se<Z;++se){var $,j;y?($=k*(x[se]-b),j=k*(x[se+1]-b)):($=se<F-1?k*(x[se]-(x[se+1]-x[se])/2-b):k*(x[se]-(x[se]-x[se-1])/2-b),j=se<F-1?k*(x[se]+(x[se+1]-x[se])/2-b):k*(x[se]+(x[se]-x[se-1])/2-b));for(var ue=0;ue<M.length;ue+=2){var ae=M[ue],ce=M[ue+1],ye=y?(re+ce)*F+(se+ae):re*F+se,Ce=E[ye],Ae=t.le(S,Ce),Ie,Te,Le,xe;if(Ae<0)Ie=w[0],Te=w[1],Le=w[2],xe=w[3];else if(Ae===o-1)Ie=w[4*o-4],Te=w[4*o-3],Le=w[4*o-2],xe=w[4*o-1];else{var Re=(Ce-S[Ae])/(S[Ae+1]-S[Ae]),He=1-Re,Ve=4*Ae,Fe=4*(Ae+1);Ie=He*w[Ve]+Re*w[Fe],Te=He*w[Ve+1]+Re*w[Fe+1],Le=He*w[Ve+2]+Re*w[Fe+2],xe=He*w[Ve+3]+Re*w[Fe+3]}W[4*le]=255*Ie,W[4*le+1]=255*Te,W[4*le+2]=255*Le,W[4*le+3]=255*xe,ee[2*le]=$*.5+j*.5,ee[2*le+1]=X*.5+q*.5,ne[2*le]=ae,ne[2*le+1]=ce,Q[le]=re*F+se,le+=1}}}this.positionBuffer.update(ee),this.weightBuffer.update(ne),this.colorBuffer.update(W),this.idBuffer.update(Q),a.free(ee),a.free(W),a.free(ne),a.free(Q)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(i,d){var x=i.gl,A=f(x,l.vertex,l.fragment),E=f(x,l.pickVertex,l.pickFragment),y=u(x),S=u(x),w=u(x),o=u(x),_=new m(i,A,E,y,S,w,o);return _.update(d),i.addObject(_),_}},1292:function(v,g,r){var t=r(6832);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,g,r){var t=r(6832),s=r(5158),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];g.createShader=function(m){return s(m,a,f,null,l)},g.createPickShader=function(m){return s(m,a,u,null,l)}},6086:function(v,g,r){v.exports=w;var t=r(5827),s=r(2944),a=r(8931),f=new Uint8Array(4),u=new Float32Array(f.buffer);function l(o,_,b,I){return f[0]=I,f[1]=b,f[2]=_,f[3]=o,u[0]}var m=r(5070),h=r(5050),M=r(248),c=M.createShader,i=M.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(o,_){for(var b=0,I=0;I<3;++I){var D=o[I]-_[I];b+=D*D}return Math.sqrt(b)}function A(o){for(var _=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)_[0][b]=Math.max(o[0][b],_[0][b]),_[1][b]=Math.min(o[1][b],_[1][b]);return _}function E(o,_,b,I){this.arcLength=o,this.position=_,this.index=b,this.dataCoordinate=I}function y(o,_,b,I,D,N){this.gl=o,this.shader=_,this.pickShader=b,this.buffer=I,this.vao=D,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=y.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(o){this.pickId=o},S.drawTransparent=S.draw=function(o){if(this.vertexCount){var _=this.gl,b=this.shader,I=this.vao;b.bind(),b.uniforms={model:o.model||d,view:o.view||d,projection:o.projection||d,clipBounds:A(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[_.drawingBufferWidth,_.drawingBufferHeight],pixelRatio:this.pixelRatio},I.bind(),I.draw(_.TRIANGLE_STRIP,this.vertexCount),I.unbind()}},S.drawPick=function(o){if(this.vertexCount){var _=this.gl,b=this.pickShader,I=this.vao;b.bind(),b.uniforms={model:o.model||d,view:o.view||d,projection:o.projection||d,pickId:this.pickId,clipBounds:A(this.clipBounds),screenShape:[_.drawingBufferWidth,_.drawingBufferHeight],pixelRatio:this.pixelRatio},I.bind(),I.draw(_.TRIANGLE_STRIP,this.vertexCount),I.unbind()}},S.update=function(o){var _,b;this.dirty=!0;var I=!!o.connectGaps;"dashScale"in o&&(this.dashScale=o.dashScale),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var D=[],N=[],k=[],z=0,F=0,O=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],B=o.position||o.positions;if(B){var W=o.color||o.colors||[0,0,0,1],ee=o.lineWidth||1,ne=!1;e:for(_=1;_<B.length;++_){var Q=B[_-1],le=B[_];for(N.push(z),k.push(Q.slice()),b=0;b<3;++b){if(isNaN(Q[b])||isNaN(le[b])||!isFinite(Q[b])||!isFinite(le[b])){if(!I&&D.length>0){for(var Z=0;Z<24;++Z)D.push(D[D.length-12]);F+=2,ne=!0}continue e}O[0][b]=Math.min(O[0][b],Q[b],le[b]),O[1][b]=Math.max(O[1][b],Q[b],le[b])}var Y,re;Array.isArray(W[0])?(Y=W.length>_-1?W[_-1]:W.length>0?W[W.length-1]:[0,0,0,1],re=W.length>_?W[_]:W.length>0?W[W.length-1]:[0,0,0,1]):Y=re=W,Y.length===3&&(Y=[Y[0],Y[1],Y[2],1]),re.length===3&&(re=[re[0],re[1],re[2],1]),!this.hasAlpha&&Y[3]<1&&(this.hasAlpha=!0);var X;Array.isArray(ee)?X=ee.length>_-1?ee[_-1]:ee.length>0?ee[ee.length-1]:[0,0,0,1]:X=ee;var q=z;if(z+=x(Q,le),ne){for(b=0;b<2;++b)D.push(Q[0],Q[1],Q[2],le[0],le[1],le[2],q,X,Y[0],Y[1],Y[2],Y[3]);F+=2,ne=!1}D.push(Q[0],Q[1],Q[2],le[0],le[1],le[2],q,X,Y[0],Y[1],Y[2],Y[3],Q[0],Q[1],Q[2],le[0],le[1],le[2],q,-X,Y[0],Y[1],Y[2],Y[3],le[0],le[1],le[2],Q[0],Q[1],Q[2],z,-X,re[0],re[1],re[2],re[3],le[0],le[1],le[2],Q[0],Q[1],Q[2],z,X,re[0],re[1],re[2],re[3]),F+=4}}if(this.buffer.update(D),N.push(z),k.push(B[B.length-1].slice()),this.bounds=O,this.vertexCount=F,this.points=k,this.arcLength=N,"dashes"in o){var se=o.dashes,$=se.slice();for($.unshift(0),_=1;_<$.length;++_)$[_]=$[_-1]+$[_];var j=h(new Array(256*4),[256,1,4]);for(_=0;_<256;++_){for(b=0;b<4;++b)j.set(_,0,b,0);m.le($,$[$.length-1]*_/255)&1?j.set(_,0,0,0):j.set(_,0,0,255)}this.texture.setPixels(j)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(o){if(!o||o.id!==this.pickId)return null;var _=l(o.value[0],o.value[1],o.value[2],0),b=m.le(this.arcLength,_);if(b<0)return null;if(b===this.arcLength.length-1)return new E(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),b);for(var I=this.points[b],D=this.points[Math.min(b+1,this.points.length-1)],N=(_-this.arcLength[b])/(this.arcLength[b+1]-this.arcLength[b]),k=1-N,z=[0,0,0],F=0;F<3;++F)z[F]=k*I[F]+N*D[F];var O=Math.min(N<.5?b:b+1,this.points.length-1);return new E(_,z,O,this.points[O])};function w(o){var _=o.gl||o.scene&&o.scene.gl,b=c(_);b.attributes.position.location=0,b.attributes.nextPosition.location=1,b.attributes.arcLength.location=2,b.attributes.lineWidth.location=3,b.attributes.color.location=4;var I=i(_);I.attributes.position.location=0,I.attributes.nextPosition.location=1,I.attributes.arcLength.location=2,I.attributes.lineWidth.location=3,I.attributes.color.location=4;for(var D=t(_),N=s(_,[{buffer:D,size:3,offset:0,stride:48},{buffer:D,size:3,offset:12,stride:48},{buffer:D,size:1,offset:24,stride:48},{buffer:D,size:1,offset:28,stride:48},{buffer:D,size:4,offset:32,stride:48}]),k=h(new Array(256*4),[256,1,4]),z=0;z<1024;++z)k.data[z]=255;var F=a(_,k);F.wrap=_.REPEAT;var O=new y(_,b,I,D,N,F);return O.update(o),O}},7332:function(v){v.exports=g;function g(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},9823:function(v){v.exports=g;function g(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(v){v.exports=g;function g(r){var t=r[0],s=r[1],a=r[2],f=r[3],u=r[4],l=r[5],m=r[6],h=r[7],M=r[8],c=r[9],i=r[10],d=r[11],x=r[12],A=r[13],E=r[14],y=r[15],S=t*l-s*u,w=t*m-a*u,o=t*h-f*u,_=s*m-a*l,b=s*h-f*l,I=a*h-f*m,D=M*A-c*x,N=M*E-i*x,k=M*y-d*x,z=c*E-i*A,F=c*y-d*A,O=i*y-d*E;return S*O-w*F+o*z+_*k-b*N+I*D}},5950:function(v){v.exports=g;function g(r,t){var s=t[0],a=t[1],f=t[2],u=t[3],l=s+s,m=a+a,h=f+f,M=s*l,c=a*l,i=a*m,d=f*l,x=f*m,A=f*h,E=u*l,y=u*m,S=u*h;return r[0]=1-i-A,r[1]=c+S,r[2]=d-y,r[3]=0,r[4]=c-S,r[5]=1-M-A,r[6]=x+E,r[7]=0,r[8]=d+y,r[9]=x-E,r[10]=1-M-i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(v){v.exports=g;function g(r,t,s){var a=t[0],f=t[1],u=t[2],l=t[3],m=a+a,h=f+f,M=u+u,c=a*m,i=a*h,d=a*M,x=f*h,A=f*M,E=u*M,y=l*m,S=l*h,w=l*M;return r[0]=1-(x+E),r[1]=i+w,r[2]=d-S,r[3]=0,r[4]=i-w,r[5]=1-(c+E),r[6]=A+y,r[7]=0,r[8]=d+S,r[9]=A-y,r[10]=1-(c+x),r[11]=0,r[12]=s[0],r[13]=s[1],r[14]=s[2],r[15]=1,r}},9947:function(v){v.exports=g;function g(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(v){v.exports=g;function g(r,t){var s=t[0],a=t[1],f=t[2],u=t[3],l=t[4],m=t[5],h=t[6],M=t[7],c=t[8],i=t[9],d=t[10],x=t[11],A=t[12],E=t[13],y=t[14],S=t[15],w=s*m-a*l,o=s*h-f*l,_=s*M-u*l,b=a*h-f*m,I=a*M-u*m,D=f*M-u*h,N=c*E-i*A,k=c*y-d*A,z=c*S-x*A,F=i*y-d*E,O=i*S-x*E,B=d*S-x*y,W=w*B-o*O+_*F+b*z-I*k+D*N;return W?(W=1/W,r[0]=(m*B-h*O+M*F)*W,r[1]=(f*O-a*B-u*F)*W,r[2]=(E*D-y*I+S*b)*W,r[3]=(d*I-i*D-x*b)*W,r[4]=(h*z-l*B-M*k)*W,r[5]=(s*B-f*z+u*k)*W,r[6]=(y*_-A*D-S*o)*W,r[7]=(c*D-d*_+x*o)*W,r[8]=(l*O-m*z+M*N)*W,r[9]=(a*z-s*O-u*N)*W,r[10]=(A*I-E*_+S*w)*W,r[11]=(i*_-c*I-x*w)*W,r[12]=(m*k-l*F-h*N)*W,r[13]=(s*F-a*k+f*N)*W,r[14]=(E*o-A*b-y*w)*W,r[15]=(c*b-i*o+d*w)*W,r):null}},3012:function(v,g,r){var t=r(9947);v.exports=s;function s(a,f,u,l){var m,h,M,c,i,d,x,A,E,y,S=f[0],w=f[1],o=f[2],_=l[0],b=l[1],I=l[2],D=u[0],N=u[1],k=u[2];return Math.abs(S-D)<1e-6&&Math.abs(w-N)<1e-6&&Math.abs(o-k)<1e-6?t(a):(x=S-D,A=w-N,E=o-k,y=1/Math.sqrt(x*x+A*A+E*E),x*=y,A*=y,E*=y,m=b*E-I*A,h=I*x-_*E,M=_*A-b*x,y=Math.sqrt(m*m+h*h+M*M),y?(y=1/y,m*=y,h*=y,M*=y):(m=0,h=0,M=0),c=A*M-E*h,i=E*m-x*M,d=x*h-A*m,y=Math.sqrt(c*c+i*i+d*d),y?(y=1/y,c*=y,i*=y,d*=y):(c=0,i=0,d=0),a[0]=m,a[1]=c,a[2]=x,a[3]=0,a[4]=h,a[5]=i,a[6]=A,a[7]=0,a[8]=M,a[9]=d,a[10]=E,a[11]=0,a[12]=-(m*S+h*w+M*o),a[13]=-(c*S+i*w+d*o),a[14]=-(x*S+A*w+E*o),a[15]=1,a)}},104:function(v){v.exports=g;function g(r,t,s){var a=t[0],f=t[1],u=t[2],l=t[3],m=t[4],h=t[5],M=t[6],c=t[7],i=t[8],d=t[9],x=t[10],A=t[11],E=t[12],y=t[13],S=t[14],w=t[15],o=s[0],_=s[1],b=s[2],I=s[3];return r[0]=o*a+_*m+b*i+I*E,r[1]=o*f+_*h+b*d+I*y,r[2]=o*u+_*M+b*x+I*S,r[3]=o*l+_*c+b*A+I*w,o=s[4],_=s[5],b=s[6],I=s[7],r[4]=o*a+_*m+b*i+I*E,r[5]=o*f+_*h+b*d+I*y,r[6]=o*u+_*M+b*x+I*S,r[7]=o*l+_*c+b*A+I*w,o=s[8],_=s[9],b=s[10],I=s[11],r[8]=o*a+_*m+b*i+I*E,r[9]=o*f+_*h+b*d+I*y,r[10]=o*u+_*M+b*x+I*S,r[11]=o*l+_*c+b*A+I*w,o=s[12],_=s[13],b=s[14],I=s[15],r[12]=o*a+_*m+b*i+I*E,r[13]=o*f+_*h+b*d+I*y,r[14]=o*u+_*M+b*x+I*S,r[15]=o*l+_*c+b*A+I*w,r}},5268:function(v){v.exports=g;function g(r,t,s,a,f,u,l){var m=1/(t-s),h=1/(a-f),M=1/(u-l);return r[0]=-2*m,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*M,r[11]=0,r[12]=(t+s)*m,r[13]=(f+a)*h,r[14]=(l+u)*M,r[15]=1,r}},1120:function(v){v.exports=g;function g(r,t,s,a,f){var u=1/Math.tan(t/2),l=1/(a-f);return r[0]=u/s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(f+a)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*f*a*l,r[15]=0,r}},4422:function(v){v.exports=g;function g(r,t,s,a){var f=a[0],u=a[1],l=a[2],m=Math.sqrt(f*f+u*u+l*l),h,M,c,i,d,x,A,E,y,S,w,o,_,b,I,D,N,k,z,F,O,B,W,ee;return Math.abs(m)<1e-6?null:(m=1/m,f*=m,u*=m,l*=m,h=Math.sin(s),M=Math.cos(s),c=1-M,i=t[0],d=t[1],x=t[2],A=t[3],E=t[4],y=t[5],S=t[6],w=t[7],o=t[8],_=t[9],b=t[10],I=t[11],D=f*f*c+M,N=u*f*c+l*h,k=l*f*c-u*h,z=f*u*c-l*h,F=u*u*c+M,O=l*u*c+f*h,B=f*l*c+u*h,W=u*l*c-f*h,ee=l*l*c+M,r[0]=i*D+E*N+o*k,r[1]=d*D+y*N+_*k,r[2]=x*D+S*N+b*k,r[3]=A*D+w*N+I*k,r[4]=i*z+E*F+o*O,r[5]=d*z+y*F+_*O,r[6]=x*z+S*F+b*O,r[7]=A*z+w*F+I*O,r[8]=i*B+E*W+o*ee,r[9]=d*B+y*W+_*ee,r[10]=x*B+S*W+b*ee,r[11]=A*B+w*W+I*ee,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},6109:function(v){v.exports=g;function g(r,t,s){var a=Math.sin(s),f=Math.cos(s),u=t[4],l=t[5],m=t[6],h=t[7],M=t[8],c=t[9],i=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*f+M*a,r[5]=l*f+c*a,r[6]=m*f+i*a,r[7]=h*f+d*a,r[8]=M*f-u*a,r[9]=c*f-l*a,r[10]=i*f-m*a,r[11]=d*f-h*a,r}},7115:function(v){v.exports=g;function g(r,t,s){var a=Math.sin(s),f=Math.cos(s),u=t[0],l=t[1],m=t[2],h=t[3],M=t[8],c=t[9],i=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f-M*a,r[1]=l*f-c*a,r[2]=m*f-i*a,r[3]=h*f-d*a,r[8]=u*a+M*f,r[9]=l*a+c*f,r[10]=m*a+i*f,r[11]=h*a+d*f,r}},5240:function(v){v.exports=g;function g(r,t,s){var a=Math.sin(s),f=Math.cos(s),u=t[0],l=t[1],m=t[2],h=t[3],M=t[4],c=t[5],i=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f+M*a,r[1]=l*f+c*a,r[2]=m*f+i*a,r[3]=h*f+d*a,r[4]=M*f-u*a,r[5]=c*f-l*a,r[6]=i*f-m*a,r[7]=d*f-h*a,r}},3668:function(v){v.exports=g;function g(r,t,s){var a=s[0],f=s[1],u=s[2];return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r[3]=t[3]*a,r[4]=t[4]*f,r[5]=t[5]*f,r[6]=t[6]*f,r[7]=t[7]*f,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},998:function(v){v.exports=g;function g(r,t,s){var a=s[0],f=s[1],u=s[2],l,m,h,M,c,i,d,x,A,E,y,S;return t===r?(r[12]=t[0]*a+t[4]*f+t[8]*u+t[12],r[13]=t[1]*a+t[5]*f+t[9]*u+t[13],r[14]=t[2]*a+t[6]*f+t[10]*u+t[14],r[15]=t[3]*a+t[7]*f+t[11]*u+t[15]):(l=t[0],m=t[1],h=t[2],M=t[3],c=t[4],i=t[5],d=t[6],x=t[7],A=t[8],E=t[9],y=t[10],S=t[11],r[0]=l,r[1]=m,r[2]=h,r[3]=M,r[4]=c,r[5]=i,r[6]=d,r[7]=x,r[8]=A,r[9]=E,r[10]=y,r[11]=S,r[12]=l*a+c*f+A*u+t[12],r[13]=m*a+i*f+E*u+t[13],r[14]=h*a+d*f+y*u+t[14],r[15]=M*a+x*f+S*u+t[15]),r}},2142:function(v){v.exports=g;function g(r,t){if(r===t){var s=t[1],a=t[2],f=t[3],u=t[6],l=t[7],m=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=s,r[6]=t[9],r[7]=t[13],r[8]=a,r[9]=u,r[11]=t[14],r[12]=f,r[13]=l,r[14]=m}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},4340:function(v,g,r){var t=r(957),s=r(7309);v.exports=m;function a(h,M){for(var c=[0,0,0,0],i=0;i<4;++i)for(var d=0;d<4;++d)c[d]+=h[4*i+d]*M[i];return c}function f(h,M,c,i,d){for(var x=a(i,a(c,a(M,[h[0],h[1],h[2],1]))),A=0;A<3;++A)x[A]/=x[3];return[.5*d[0]*(1+x[0]),.5*d[1]*(1-x[1])]}function u(h,M){if(h.length===2){for(var c=0,i=0,d=0;d<2;++d)c+=Math.pow(M[d]-h[0][d],2),i+=Math.pow(M[d]-h[1][d],2);return c=Math.sqrt(c),i=Math.sqrt(i),c+i<1e-6?[1,0]:[i/(c+i),c/(i+c)]}else if(h.length===3){var x=[0,0];return s(h[0],h[1],h[2],M,x),t(h,x)}return[]}function l(h,M){for(var c=[0,0,0],i=0;i<h.length;++i)for(var d=h[i],x=M[i],A=0;A<3;++A)c[A]+=x*d[A];return c}function m(h,M,c,i,d,x){if(h.length===1)return[0,h[0].slice()];for(var A=new Array(h.length),E=0;E<h.length;++E)A[E]=f(h[E],c,i,d,x);for(var y=0,S=1/0,E=0;E<A.length;++E){for(var w=0,o=0;o<2;++o)w+=Math.pow(A[E][o]-M[o],2);w<S&&(S=w,y=E)}for(var _=u(A,M),b=0,E=0;E<3;++E){if(_[E]<-.001||_[E]>1.0001)return null;b+=_[E]}return Math.abs(b-1)>.001?null:[y,l(h,_),_]}},2056:function(v,g,r){var t=r(6832),s=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),M=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);g.meshShader={vertex:s,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.wireShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.pointShader={vertex:l,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},g.pickShader={vertex:h,fragment:M,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},g.pointPickShader={vertex:c,fragment:M,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},g.contourShader={vertex:i,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,g,r){var t=1e-6,s=1e-6,a=r(5158),f=r(5827),u=r(2944),l=r(8931),m=r(115),h=r(104),M=r(7437),c=r(5050),i=r(9156),d=r(7212),x=r(5306),A=r(2056),E=r(4340),y=A.meshShader,S=A.wireShader,w=A.pointShader,o=A.pickShader,_=A.pointPickShader,b=A.contourShader,I=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function D(Z,Y,re,X,q,se,$,j,ue,ae,ce,ye,Ce,Ae,Ie,Te,Le,xe,Re,He,Ve,Fe,We,ut,ht,rt,tt){this.gl=Z,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Y,this.dirty=!0,this.triShader=re,this.lineShader=X,this.pointShader=q,this.pickShader=se,this.pointPickShader=$,this.contourShader=j,this.trianglePositions=ue,this.triangleColors=ce,this.triangleNormals=Ce,this.triangleUVs=ye,this.triangleIds=ae,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ie,this.edgeColors=Le,this.edgeUVs=xe,this.edgeIds=Te,this.edgeVAO=Re,this.edgeCount=0,this.pointPositions=He,this.pointColors=Fe,this.pointUVs=We,this.pointSizes=ut,this.pointIds=Ve,this.pointVAO=ht,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=rt,this.contourVAO=tt,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=I,this._view=I,this._projection=I,this._resolution=[1,1]}var N=D.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(Z){this.pickId=Z};function k(Z,Y){if(!Y||!Y.length)return 1;for(var re=0;re<Y.length;++re){if(Y.length<2)return 1;if(Y[re][0]===Z)return Y[re][1];if(Y[re][0]>Z&&re>0){var X=(Y[re][0]-Z)/(Y[re][0]-Y[re-1][0]);return Y[re][1]*(1-X)+X*Y[re-1][1]}}return 1}function z(Z,Y){for(var re=i({colormap:Z,nshades:256,format:"rgba"}),X=new Uint8Array(256*4),q=0;q<256;++q){for(var se=re[q],$=0;$<3;++$)X[4*q+$]=se[$];Y?X[4*q+3]=255*k(q/255,Y):X[4*q+3]=255*se[3]}return c(X,[256,256,4],[4,0,1])}function F(Z){for(var Y=Z.length,re=new Array(Y),X=0;X<Y;++X)re[X]=Z[X][2];return re}N.highlight=function(Z){if(!Z||!this.contourEnable){this.contourCount=0;return}for(var Y=d(this.cells,this.intensity,Z.intensity),re=Y.cells,X=Y.vertexIds,q=Y.vertexWeights,se=re.length,$=x.mallocFloat32(2*3*se),j=0,ue=0;ue<se;++ue)for(var ae=re[ue],ce=0;ce<2;++ce){var ye=ae[0];ae.length===2&&(ye=ae[ce]);for(var Ce=X[ye][0],Ae=X[ye][1],Ie=q[ye],Te=1-Ie,Le=this.positions[Ce],xe=this.positions[Ae],Re=0;Re<3;++Re)$[j++]=Ie*Le[Re]+Te*xe[Re]}this.contourCount=j/3|0,this.contourPositions.update($.subarray(0,j)),x.free($)},N.update=function(Z){Z=Z||{};var Y=this.gl;this.dirty=!0,"contourEnable"in Z&&(this.contourEnable=Z.contourEnable),"contourColor"in Z&&(this.contourColor=Z.contourColor),"lineWidth"in Z&&(this.lineWidth=Z.lineWidth),"lightPosition"in Z&&(this.lightPosition=Z.lightPosition),this.hasAlpha=!1,"opacity"in Z&&(this.opacity=Z.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Z&&(this.opacityscale=Z.opacityscale,this.hasAlpha=!0),"ambient"in Z&&(this.ambientLight=Z.ambient),"diffuse"in Z&&(this.diffuseLight=Z.diffuse),"specular"in Z&&(this.specularLight=Z.specular),"roughness"in Z&&(this.roughness=Z.roughness),"fresnel"in Z&&(this.fresnel=Z.fresnel),Z.texture?(this.texture.dispose(),this.texture=l(Y,Z.texture)):Z.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Y.LINEAR,this.texture.setPixels(z(Z.colormap,this.opacityscale)),this.texture.generateMipmap());var re=Z.cells,X=Z.positions;if(!(!X||!re)){var q=[],se=[],$=[],j=[],ue=[],ae=[],ce=[],ye=[],Ce=[],Ae=[],Ie=[],Te=[],Le=[],xe=[];this.cells=re,this.positions=X;var Re=Z.vertexNormals,He=Z.cellNormals,Ve=Z.vertexNormalsEpsilon===void 0?t:Z.vertexNormalsEpsilon,Fe=Z.faceNormalsEpsilon===void 0?s:Z.faceNormalsEpsilon;Z.useFacetNormals&&!He&&(He=m.faceNormals(re,X,Fe)),!He&&!Re&&(Re=m.vertexNormals(re,X,Ve));var We=Z.vertexColors,ut=Z.cellColors,ht=Z.meshColor||[1,1,1,1],rt=Z.vertexUVs,tt=Z.vertexIntensity,vt=Z.cellUVs,pt=Z.cellIntensity,mt=1/0,wt=-1/0;if(!rt&&!vt)if(tt)if(Z.vertexIntensityBounds)mt=+Z.vertexIntensityBounds[0],wt=+Z.vertexIntensityBounds[1];else for(var Lt=0;Lt<tt.length;++Lt){var at=tt[Lt];mt=Math.min(mt,at),wt=Math.max(wt,at)}else if(pt)if(Z.cellIntensityBounds)mt=+Z.cellIntensityBounds[0],wt=+Z.cellIntensityBounds[1];else for(var Lt=0;Lt<pt.length;++Lt){var at=pt[Lt];mt=Math.min(mt,at),wt=Math.max(wt,at)}else for(var Lt=0;Lt<X.length;++Lt){var at=X[Lt][2];mt=Math.min(mt,at),wt=Math.max(wt,at)}tt?this.intensity=tt:pt?this.intensity=pt:this.intensity=F(X),this.pickVertex=!(pt||ut);var Oe=Z.pointSizes,Ze=Z.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Lt=0;Lt<X.length;++Lt)for(var Je=X[Lt],Ye=0;Ye<3;++Ye)isNaN(Je[Ye])||!isFinite(Je[Ye])||(this.bounds[0][Ye]=Math.min(this.bounds[0][Ye],Je[Ye]),this.bounds[1][Ye]=Math.max(this.bounds[1][Ye],Je[Ye]));var ke=0,be=0,me=0;e:for(var Lt=0;Lt<re.length;++Lt){var _e=re[Lt];switch(_e.length){case 1:for(var Ee=_e[0],Je=X[Ee],Ye=0;Ye<3;++Ye)if(isNaN(Je[Ye])||!isFinite(Je[Ye]))continue e;Ae.push(Je[0],Je[1],Je[2]);var Be;We?Be=We[Ee]:ut?Be=ut[Lt]:Be=ht,this.opacityscale&&tt?se.push(Be[0],Be[1],Be[2],this.opacity*k((tt[Ee]-mt)/(wt-mt),this.opacityscale)):Be.length===3?Ie.push(Be[0],Be[1],Be[2],this.opacity):(Ie.push(Be[0],Be[1],Be[2],Be[3]*this.opacity),Be[3]<1&&(this.hasAlpha=!0));var je;rt?je=rt[Ee]:tt?je=[(tt[Ee]-mt)/(wt-mt),0]:vt?je=vt[Lt]:pt?je=[(pt[Lt]-mt)/(wt-mt),0]:je=[(Je[2]-mt)/(wt-mt),0],Te.push(je[0],je[1]),Oe?Le.push(Oe[Ee]):Le.push(Ze),xe.push(Lt),me+=1;break;case 2:for(var Ye=0;Ye<2;++Ye)for(var Ee=_e[Ye],Je=X[Ee],nt=0;nt<3;++nt)if(isNaN(Je[nt])||!isFinite(Je[nt]))continue e;for(var Ye=0;Ye<2;++Ye){var Ee=_e[Ye],Je=X[Ee];ae.push(Je[0],Je[1],Je[2]);var Be;We?Be=We[Ee]:ut?Be=ut[Lt]:Be=ht,this.opacityscale&&tt?se.push(Be[0],Be[1],Be[2],this.opacity*k((tt[Ee]-mt)/(wt-mt),this.opacityscale)):Be.length===3?ce.push(Be[0],Be[1],Be[2],this.opacity):(ce.push(Be[0],Be[1],Be[2],Be[3]*this.opacity),Be[3]<1&&(this.hasAlpha=!0));var je;rt?je=rt[Ee]:tt?je=[(tt[Ee]-mt)/(wt-mt),0]:vt?je=vt[Lt]:pt?je=[(pt[Lt]-mt)/(wt-mt),0]:je=[(Je[2]-mt)/(wt-mt),0],ye.push(je[0],je[1]),Ce.push(Lt)}be+=1;break;case 3:for(var Ye=0;Ye<3;++Ye)for(var Ee=_e[Ye],Je=X[Ee],nt=0;nt<3;++nt)if(isNaN(Je[nt])||!isFinite(Je[nt]))continue e;for(var Ye=0;Ye<3;++Ye){var Ee=_e[2-Ye],Je=X[Ee];q.push(Je[0],Je[1],Je[2]);var Be;We?Be=We[Ee]:ut?Be=ut[Lt]:Be=ht,Be?this.opacityscale&&tt?se.push(Be[0],Be[1],Be[2],this.opacity*k((tt[Ee]-mt)/(wt-mt),this.opacityscale)):Be.length===3?se.push(Be[0],Be[1],Be[2],this.opacity):(se.push(Be[0],Be[1],Be[2],Be[3]*this.opacity),Be[3]<1&&(this.hasAlpha=!0)):se.push(.5,.5,.5,1);var je;rt?je=rt[Ee]:tt?je=[(tt[Ee]-mt)/(wt-mt),0]:vt?je=vt[Lt]:pt?je=[(pt[Lt]-mt)/(wt-mt),0]:je=[(Je[2]-mt)/(wt-mt),0],j.push(je[0],je[1]);var dt;Re?dt=Re[Ee]:dt=He[Lt],$.push(dt[0],dt[1],dt[2]),ue.push(Lt)}ke+=1;break}}this.pointCount=me,this.edgeCount=be,this.triangleCount=ke,this.pointPositions.update(Ae),this.pointColors.update(Ie),this.pointUVs.update(Te),this.pointSizes.update(Le),this.pointIds.update(new Uint32Array(xe)),this.edgePositions.update(ae),this.edgeColors.update(ce),this.edgeUVs.update(ye),this.edgeIds.update(new Uint32Array(Ce)),this.trianglePositions.update(q),this.triangleColors.update(se),this.triangleUVs.update(j),this.triangleNormals.update($),this.triangleIds.update(new Uint32Array(ue))}},N.drawTransparent=N.draw=function(Z){Z=Z||{};for(var Y=this.gl,re=Z.model||I,X=Z.view||I,q=Z.projection||I,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)se[0][$]=Math.max(se[0][$],this.clipBounds[0][$]),se[1][$]=Math.min(se[1][$],this.clipBounds[1][$]);var j={model:re,view:X,projection:q,inverseModel:I.slice(),clipBounds:se,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};j.inverseModel=M(j.inverseModel,j.model),Y.disable(Y.CULL_FACE),this.texture.bind(0);var ue=new Array(16);h(ue,j.view,j.model),h(ue,j.projection,ue),M(ue,ue);for(var $=0;$<3;++$)j.eyePosition[$]=ue[12+$]/ue[15];for(var ae=ue[15],$=0;$<3;++$)ae+=this.lightPosition[$]*ue[4*$+3];for(var $=0;$<3;++$){for(var ce=ue[12+$],ye=0;ye<3;++ye)ce+=ue[4*ye+$]*this.lightPosition[ye];j.lightPosition[$]=ce/ae}if(this.triangleCount>0){var Ce=this.triShader;Ce.bind(),Ce.uniforms=j,this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ce=this.lineShader;Ce.bind(),Ce.uniforms=j,this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ce=this.pointShader;Ce.bind(),Ce.uniforms=j,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ce=this.contourShader;Ce.bind(),Ce.uniforms=j,this.contourVAO.bind(),Y.drawArrays(Y.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function(Z){Z=Z||{};for(var Y=this.gl,re=Z.model||I,X=Z.view||I,q=Z.projection||I,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)se[0][$]=Math.max(se[0][$],this.clipBounds[0][$]),se[1][$]=Math.min(se[1][$],this.clipBounds[1][$]);this._model=[].slice.call(re),this._view=[].slice.call(X),this._projection=[].slice.call(q),this._resolution=[Y.drawingBufferWidth,Y.drawingBufferHeight];var j={model:re,view:X,projection:q,clipBounds:se,pickId:this.pickId/255},ue=this.pickShader;if(ue.bind(),ue.uniforms=j,this.triangleCount>0&&(this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ue=this.pointPickShader;ue.bind(),ue.uniforms=j,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function(Z){if(!Z||Z.id!==this.pickId)return null;for(var Y=Z.value[0]+256*Z.value[1]+65536*Z.value[2],re=this.cells[Y],X=this.positions,q=new Array(re.length),se=0;se<re.length;++se)q[se]=X[re[se]];var $=Z.coord[0],j=Z.coord[1];if(!this.pickVertex){var ue=this.positions[re[0]],ae=this.positions[re[1]],ce=this.positions[re[2]],ye=[(ue[0]+ae[0]+ce[0])/3,(ue[1]+ae[1]+ce[1])/3,(ue[2]+ae[2]+ce[2])/3];return{_cellCenter:!0,position:[$,j],index:Y,cell:re,cellId:Y,intensity:this.intensity[Y],dataCoordinate:ye}}var Ce=E(q,[$*this.pixelRatio,this._resolution[1]-j*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ce)return null;for(var Ae=Ce[2],Ie=0,se=0;se<re.length;++se)Ie+=Ae[se]*this.intensity[re[se]];return{position:Ce[1],index:re[Ce[0]],cell:re,cellId:Y,intensity:Ie,dataCoordinate:this.positions[re[Ce[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function O(Z){var Y=a(Z,y.vertex,y.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.normal.location=4,Y}function B(Z){var Y=a(Z,S.vertex,S.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y}function W(Z){var Y=a(Z,w.vertex,w.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.pointSize.location=4,Y}function ee(Z){var Y=a(Z,o.vertex,o.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y}function ne(Z){var Y=a(Z,_.vertex,_.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y.attributes.pointSize.location=4,Y}function Q(Z){var Y=a(Z,b.vertex,b.fragment);return Y.attributes.position.location=0,Y}function le(Z,Y){arguments.length===1&&(Y=Z,Z=Y.gl);var re=Z.getExtension("OES_standard_derivatives")||Z.getExtension("MOZ_OES_standard_derivatives")||Z.getExtension("WEBKIT_OES_standard_derivatives");if(!re)throw new Error("derivatives not supported");var X=O(Z),q=B(Z),se=W(Z),$=ee(Z),j=ne(Z),ue=Q(Z),ae=l(Z,c(new Uint8Array([255,255,255,255]),[1,1,4]));ae.generateMipmap(),ae.minFilter=Z.LINEAR_MIPMAP_LINEAR,ae.magFilter=Z.LINEAR;var ce=f(Z),ye=f(Z),Ce=f(Z),Ae=f(Z),Ie=f(Z),Te=u(Z,[{buffer:ce,type:Z.FLOAT,size:3},{buffer:Ie,type:Z.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:Z.FLOAT,size:4},{buffer:Ce,type:Z.FLOAT,size:2},{buffer:Ae,type:Z.FLOAT,size:3}]),Le=f(Z),xe=f(Z),Re=f(Z),He=f(Z),Ve=u(Z,[{buffer:Le,type:Z.FLOAT,size:3},{buffer:He,type:Z.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:Z.FLOAT,size:4},{buffer:Re,type:Z.FLOAT,size:2}]),Fe=f(Z),We=f(Z),ut=f(Z),ht=f(Z),rt=f(Z),tt=u(Z,[{buffer:Fe,type:Z.FLOAT,size:3},{buffer:rt,type:Z.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:We,type:Z.FLOAT,size:4},{buffer:ut,type:Z.FLOAT,size:2},{buffer:ht,type:Z.FLOAT,size:1}]),vt=f(Z),pt=u(Z,[{buffer:vt,type:Z.FLOAT,size:3}]),mt=new D(Z,ae,X,q,se,$,j,ue,ce,Ie,ye,Ce,Ae,Te,Le,He,xe,Re,Ve,Fe,rt,We,ut,ht,tt,vt,pt);return mt.update(Y),mt}v.exports=le},4554:function(v,g,r){v.exports=l;var t=r(5827),s=r(5158),a=r(2709);function f(m,h,M){this.plot=m,this.vbo=h,this.shader=M}var u=f.prototype;u.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var m=[0,0],h=[0,0];return function(M,c,i,d,x){var A=this.plot,E=this.shader,y=A.gl;m[0]=M,m[1]=c,h[0]=i,h[1]=d,E.uniforms.lo=m,E.uniforms.hi=h,E.uniforms.color=x,y.drawArrays(y.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(m){var h=m.gl,M=t(h,[0,0,0,1,1,0,1,1]),c=s(h,a.boxVert,a.lineFrag);return new f(m,M,c)}},3016:function(v,g,r){v.exports=h;var t=r(5827),s=r(5158),a=r(5070),f=r(2709);function u(M,c,i,d){this.plot=M,this.vbo=c,this.shader=i,this.tickShader=d,this.ticks=[[],[]]}function l(M,c){return M-c}var m=u.prototype;m.draw=function(){var M=[0,0],c=[0,0],i=[0,0];return function(){for(var d=this.plot,x=this.vbo,A=this.shader,E=this.ticks,y=d.gl,S=d._tickBounds,w=d.dataBox,o=d.viewBox,_=d.gridLineWidth,b=d.gridLineColor,I=d.gridLineEnable,D=d.pixelRatio,N=0;N<2;++N){var k=S[N],z=S[N+2],F=z-k,O=.5*(w[N+2]+w[N]),B=w[N+2]-w[N];c[N]=2*F/B,M[N]=2*(k-O)/B}A.bind(),x.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=M,A.uniforms.dataScale=c;for(var W=0,N=0;N<2;++N){i[0]=i[1]=0,i[N]=1,A.uniforms.dataAxis=i,A.uniforms.lineWidth=_[N]/(o[N+2]-o[N])*D,A.uniforms.color=b[N];var ee=E[N].length*6;I[N]&&ee&&y.drawArrays(y.TRIANGLES,W,ee),W+=ee}}}(),m.drawTickMarks=function(){var M=[0,0],c=[0,0],i=[1,0],d=[0,1],x=[0,0],A=[0,0];return function(){for(var E=this.plot,y=this.vbo,S=this.tickShader,w=this.ticks,o=E.gl,_=E._tickBounds,b=E.dataBox,I=E.viewBox,D=E.pixelRatio,N=E.screenBox,k=N[2]-N[0],z=N[3]-N[1],F=I[2]-I[0],O=I[3]-I[1],B=0;B<2;++B){var W=_[B],ee=_[B+2],ne=ee-W,Q=.5*(b[B+2]+b[B]),le=b[B+2]-b[B];c[B]=2*ne/le,M[B]=2*(W-Q)/le}c[0]*=F/k,M[0]*=F/k,c[1]*=O/z,M[1]*=O/z,S.bind(),y.bind(),S.attributes.dataCoord.pointer();var Z=S.uniforms;Z.dataShift=M,Z.dataScale=c;var Y=E.tickMarkLength,re=E.tickMarkWidth,X=E.tickMarkColor,q=0,se=w[0].length*6,$=Math.min(a.ge(w[0],(b[0]-_[0])/(_[2]-_[0]),l),w[0].length),j=Math.min(a.gt(w[0],(b[2]-_[0])/(_[2]-_[0]),l),w[0].length),ue=q+6*$,ae=6*Math.max(0,j-$),ce=Math.min(a.ge(w[1],(b[1]-_[1])/(_[3]-_[1]),l),w[1].length),ye=Math.min(a.gt(w[1],(b[3]-_[1])/(_[3]-_[1]),l),w[1].length),Ce=se+6*ce,Ae=6*Math.max(0,ye-ce);x[0]=2*(I[0]-Y[1])/k-1,x[1]=(I[3]+I[1])/z-1,A[0]=Y[1]*D/k,A[1]=re[1]*D/z,Ae&&(Z.color=X[1],Z.tickScale=A,Z.dataAxis=d,Z.screenOffset=x,o.drawArrays(o.TRIANGLES,Ce,Ae)),x[0]=(I[2]+I[0])/k-1,x[1]=2*(I[1]-Y[0])/z-1,A[0]=re[0]*D/k,A[1]=Y[0]*D/z,ae&&(Z.color=X[0],Z.tickScale=A,Z.dataAxis=i,Z.screenOffset=x,o.drawArrays(o.TRIANGLES,ue,ae)),x[0]=2*(I[2]+Y[3])/k-1,x[1]=(I[3]+I[1])/z-1,A[0]=Y[3]*D/k,A[1]=re[3]*D/z,Ae&&(Z.color=X[3],Z.tickScale=A,Z.dataAxis=d,Z.screenOffset=x,o.drawArrays(o.TRIANGLES,Ce,Ae)),x[0]=(I[2]+I[0])/k-1,x[1]=2*(I[3]+Y[2])/z-1,A[0]=re[2]*D/k,A[1]=Y[2]*D/z,ae&&(Z.color=X[2],Z.tickScale=A,Z.dataAxis=i,Z.screenOffset=x,o.drawArrays(o.TRIANGLES,ue,ae))}}(),m.update=function(){var M=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(i){var d=i.ticks,x=i.bounds,A=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var E=0,y=[[],[]],S=0;S<2;++S)for(var w=y[S],o=d[S],_=x[S],b=x[S+2],I=0;I<o.length;++I){var D=(o[I].x-_)/(b-_);w.push(D);for(var N=0;N<6;++N)A[E++]=D,A[E++]=M[N],A[E++]=c[N]}this.ticks=y,this.vbo.update(A)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(M){var c=M.gl,i=t(c),d=s(c,f.gridVert,f.gridFrag),x=s(c,f.tickVert,f.gridFrag),A=new u(M,i,d,x);return A}},1154:function(v,g,r){v.exports=l;var t=r(5827),s=r(5158),a=r(2709);function f(m,h,M){this.plot=m,this.vbo=h,this.shader=M}var u=f.prototype;u.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var m=[0,0],h=[0,0];return function(M,c,i,d,x,A){var E=this.plot,y=this.shader,S=E.gl;m[0]=M,m[1]=c,h[0]=i,h[1]=d,y.uniforms.start=m,y.uniforms.end=h,y.uniforms.width=x*E.pixelRatio,y.uniforms.color=A,S.drawArrays(S.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(m){var h=m.gl,M=t(h,[-1,-1,-1,1,1,-1,1,1]),c=s(h,a.lineVert,a.lineFrag),i=new f(m,M,c);return i}},2709:function(v,g,r){var t=r(6832),s=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:s,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:s,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:s,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,g,r){v.exports=h;var t=r(5827),s=r(5158),a=r(6946),f=r(5070),u=r(2709);function l(M,c,i){this.plot=M,this.vbo=c,this.shader=i,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=l.prototype;m.drawTicks=function(){var M=[0,0],c=[0,0],i=[0,0];return function(d){var x=this.plot,A=this.shader,E=this.tickX[d],y=this.tickOffset[d],S=x.gl,w=x.viewBox,o=x.dataBox,_=x.screenBox,b=x.pixelRatio,I=x.tickEnable,D=x.tickPad,N=x.tickColor,k=x.tickAngle,z=x.labelEnable,F=x.labelPad,O=x.labelColor,B=x.labelAngle,W=this.labelOffset[d],ee=this.labelCount[d],ne=f.lt(E,o[d]),Q=f.le(E,o[d+2]);M[0]=M[1]=0,M[d]=1,c[d]=(w[2+d]+w[d])/(_[2+d]-_[d])-1;var le=2/_[2+(d^1)]-_[d^1];c[d^1]=le*w[d^1]-1,I[d]&&(c[d^1]-=le*b*D[d],ne<Q&&y[Q]>y[ne]&&(A.uniforms.dataAxis=M,A.uniforms.screenOffset=c,A.uniforms.color=N[d],A.uniforms.angle=k[d],S.drawArrays(S.TRIANGLES,y[ne],y[Q]-y[ne]))),z[d]&&ee&&(c[d^1]-=le*b*F[d],A.uniforms.dataAxis=i,A.uniforms.screenOffset=c,A.uniforms.color=O[d],A.uniforms.angle=B[d],S.drawArrays(S.TRIANGLES,W,ee)),c[d^1]=le*w[2+(d^1)]-1,I[d+2]&&(c[d^1]+=le*b*D[d+2],ne<Q&&y[Q]>y[ne]&&(A.uniforms.dataAxis=M,A.uniforms.screenOffset=c,A.uniforms.color=N[d+2],A.uniforms.angle=k[d+2],S.drawArrays(S.TRIANGLES,y[ne],y[Q]-y[ne]))),z[d+2]&&ee&&(c[d^1]+=le*b*F[d+2],A.uniforms.dataAxis=i,A.uniforms.screenOffset=c,A.uniforms.color=O[d+2],A.uniforms.angle=B[d+2],S.drawArrays(S.TRIANGLES,W,ee))}}(),m.drawTitle=function(){var M=[0,0],c=[0,0];return function(){var i=this.plot,d=this.shader,x=i.gl,A=i.screenBox,E=i.titleCenter,y=i.titleAngle,S=i.titleColor,w=i.pixelRatio;if(this.titleCount){for(var o=0;o<2;++o)c[o]=2*(E[o]*w-A[o])/(A[2+o]-A[o])-1;d.bind(),d.uniforms.dataAxis=M,d.uniforms.screenOffset=c,d.uniforms.angle=y,d.uniforms.color=S,x.drawArrays(x.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var M=[0,0],c=[0,0],i=[0,0];return function(){var d=this.plot,x=this.shader,A=d._tickBounds,E=d.dataBox,y=d.screenBox,S=d.viewBox;x.bind();for(var w=0;w<2;++w){var o=A[w],_=A[w+2],b=_-o,I=.5*(E[w+2]+E[w]),D=E[w+2]-E[w],N=S[w],k=S[w+2],z=k-N,F=y[w],O=y[w+2],B=O-F;c[w]=2*b/D*z/B,M[w]=2*(o-I)/D*z/B}i[1]=2*d.pixelRatio/(y[3]-y[1]),i[0]=i[1]*(y[3]-y[1])/(y[2]-y[0]),x.uniforms.dataScale=c,x.uniforms.dataShift=M,x.uniforms.textScale=i,this.vbo.bind(),x.attributes.textCoordinate.pointer()}}(),m.update=function(M){var c=[],i=M.ticks,d=M.bounds,x,A,E,y,S;for(S=0;S<2;++S){var w=[Math.floor(c.length/3)],o=[-1/0],_=i[S];for(x=0;x<_.length;++x){var b=_[x],I=b.x,D=b.text,N=b.font||"sans-serif";y=b.fontSize||12;for(var k=1/(d[S+2]-d[S]),z=d[S],F=D.split(`
`),O=0;O<F.length;O++)for(E=a(N,F[O]).data,A=0;A<E.length;A+=2)c.push(E[A]*y,-E[A+1]*y-O*y*1.2,(I-z)*k);w.push(Math.floor(c.length/3)),o.push(I)}this.tickOffset[S]=w,this.tickX[S]=o}for(S=0;S<2;++S){for(this.labelOffset[S]=Math.floor(c.length/3),E=a(M.labelFont[S],M.labels[S],{textAlign:"center"}).data,y=M.labelSize[S],x=0;x<E.length;x+=2)c.push(E[x]*y,-E[x+1]*y,0);this.labelCount[S]=Math.floor(c.length/3)-this.labelOffset[S]}for(this.titleOffset=Math.floor(c.length/3),E=a(M.titleFont,M.title).data,y=M.titleSize,x=0;x<E.length;x+=2)c.push(E[x]*y,-E[x+1]*y,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(M){var c=M.gl,i=t(c),d=s(c,u.textVert,u.textFrag),x=new l(M,i,d);return x}},2117:function(v,g,r){v.exports=c;var t=r(2611),s=r(3016),a=r(5613),f=r(1154),u=r(4554);function l(i,d){this.gl=i,this.pickBuffer=d,this.screenBox=[0,0,i.drawingBufferWidth,i.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=l.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var i=this.gl,d=this.screenBox,x=this.viewBox,A=this.dataBox,E=this.pixelRatio,y=this.grid,S=this.line,w=this.text,o=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),i.disable(i.DEPTH_TEST),i.depthFunc(i.LESS),i.depthMask(!1),i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD,i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.borderColor){i.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var _=this.borderColor;i.clearColor(_[0]*_[3],_[1]*_[3],_[2]*_[3],_[3]),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)}i.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),i.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var b=this.backgroundColor;i.clearColor(b[0]*b[3],b[1]*b[3],b[2]*b[3],b[3]),i.clear(i.COLOR_BUFFER_BIT),y.draw();var I=this.zeroLineEnable,D=this.zeroLineColor,N=this.zeroLineWidth;if(I[0]||I[1]){S.bind();for(var k=0;k<2;++k)if(!(!I[k]||!(A[k]<=0&&A[k+2]>=0))){var z=d[k]-A[k]*(d[k+2]-d[k])/(A[k+2]-A[k]);k===0?S.drawLine(z,d[1],z,d[3],N[k],D[k]):S.drawLine(d[0],z,d[2],z,N[k],D[k])}}for(var k=0;k<o.length;++k)o[k].draw();i.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),i.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),S.bind();var F=this.borderLineEnable,O=this.borderLineWidth,B=this.borderLineColor;F[1]&&S.drawLine(x[0],x[1]-.5*O[1]*E,x[0],x[3]+.5*O[3]*E,O[1],B[1]),F[0]&&S.drawLine(x[0]-.5*O[0]*E,x[1],x[2]+.5*O[2]*E,x[1],O[0],B[0]),F[3]&&S.drawLine(x[2],x[1]-.5*O[1]*E,x[2],x[3]+.5*O[3]*E,O[3],B[3]),F[2]&&S.drawLine(x[0]-.5*O[0]*E,x[3],x[2]+.5*O[2]*E,x[3],O[2],B[2]),w.bind();for(var k=0;k<2;++k)w.drawTicks(k);this.titleEnable&&w.drawTitle();for(var W=this.overlays,k=0;k<W.length;++k)W[k].draw();i.disable(i.SCISSOR_TEST),i.disable(i.BLEND),i.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var i=this.pickBuffer;this.gl,this._pickTimeout=null,i.begin();for(var d=1,x=this.objects,A=0;A<x.length;++A)d=x[A].drawPick(d);i.end()}}}(),m.pick=function(){return function(i,d){if(!this.static){var x=this.pixelRatio,A=this.pickPixelRatio,E=this.viewBox,y=Math.round((i-E[0]/x)*A)|0,S=Math.round((d-E[1]/x)*A)|0,w=this.pickBuffer.query(y,S,this.pickRadius);if(!w)return null;for(var o=w.id+(w.value[0]<<8)+(w.value[1]<<16)+(w.value[2]<<24),_=this.objects,b=0;b<_.length;++b){var I=_[b].pick(y,S,o);if(I)return I}return null}}}();function h(i){for(var d=i.slice(),x=0;x<d.length;++x)d[x]=d[x].slice();return d}function M(i,d){return i.x-d.x}m.setScreenBox=function(i){var d=this.screenBox,x=this.pixelRatio;d[0]=Math.round(i[0]*x)|0,d[1]=Math.round(i[1]*x)|0,d[2]=Math.round(i[2]*x)|0,d[3]=Math.round(i[3]*x)|0,this.setDirty()},m.setDataBox=function(i){var d=this.dataBox,x=d[0]!==i[0]||d[1]!==i[1]||d[2]!==i[2]||d[3]!==i[3];x&&(d[0]=i[0],d[1]=i[1],d[2]=i[2],d[3]=i[3],this.setDirty())},m.setViewBox=function(i){var d=this.pixelRatio,x=this.viewBox;x[0]=Math.round(i[0]*d)|0,x[1]=Math.round(i[1]*d)|0,x[2]=Math.round(i[2]*d)|0,x[3]=Math.round(i[3]*d)|0;var A=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((i[2]-i[0])*A)|0,Math.round((i[3]-i[1])*A)|0],this.setDirty()},m.update=function(i){i=i||{};var d=this.gl;this.pixelRatio=i.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(i.screenBox||[0,0,d.drawingBufferWidth/x,d.drawingBufferHeight/x]),this.screenBox,this.setViewBox(i.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var A=this.viewBox,E=(A[2]-A[0])/(A[3]-A[1]);this.setDataBox(i.dataBox||[-10,-10/E,10,10/E]),this.borderColor=i.borderColor!==!1?(i.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(i.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(i.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(i.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(i.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(i.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(i.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(i.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(i.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(i.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(i.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(i.titleCenter||[.5*(A[0]+A[2])/x,(A[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in i)||!!i.titleEnable,this.titleAngle=i.titleAngle||0,this.titleColor=(i.titleColor||[0,0,0,1]).slice(),this.labelPad=(i.labelPad||[15,15,15,15]).slice(),this.labelAngle=(i.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(i.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(i.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(i.tickPad||[15,15,15,15]).slice(),this.tickAngle=(i.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(i.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(i.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(i.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(i.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(i.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var y=i.ticks||[[],[]],S=this._tickBounds;S[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(var w=0;w<2;++w){var o=y[w].slice(0);o.length!==0&&(o.sort(M),S[w]=Math.min(S[w],o[0].x),S[w+2]=Math.max(S[w+2],o[o.length-1].x))}this.grid.update({bounds:S,ticks:y}),this.text.update({bounds:S,ticks:y,labels:i.labels||["x","y"],labelSize:i.labelSize||[12,12],labelFont:i.labelFont||["sans-serif","sans-serif"],title:i.title||"",titleSize:i.titleSize||18,titleFont:i.titleFont||"sans-serif"}),this.static=!!i.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var i=this.objects.length-1;i>=0;--i)this.objects[i].dispose();this.objects.length=0;for(var i=this.overlays.length-1;i>=0;--i)this.overlays[i].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(i){this.objects.indexOf(i)<0&&(this.objects.push(i),this.setDirty())},m.removeObject=function(i){for(var d=this.objects,x=0;x<d.length;++x)if(d[x]===i){d.splice(x,1),this.setDirty();break}},m.addOverlay=function(i){this.overlays.indexOf(i)<0&&(this.overlays.push(i),this.setOverlayDirty())},m.removeOverlay=function(i){for(var d=this.overlays,x=0;x<d.length;++x)if(d[x]===i){d.splice(x,1),this.setOverlayDirty();break}};function c(i){var d=i.gl,x=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),A=new l(d,x);return A.grid=s(A),A.text=a(A),A.line=f(A),A.box=u(A),A.update(i),A}},4296:function(v,g,r){v.exports=m;var t=r(8161),s=r(1152),a=r(6145),f=r(6475),u=r(2565),l=r(5233);function m(h,M){h=h||document.body,M=M||{};var c=[.01,1/0];"distanceLimits"in M&&(c[0]=M.distanceLimits[0],c[1]=M.distanceLimits[1]),"zoomMin"in M&&(c[0]=M.zoomMin),"zoomMax"in M&&(c[1]=M.zoomMax);var i=s({center:M.center||[0,0,0],up:M.up||[0,1,0],eye:M.eye||[0,0,10],mode:M.mode||"orbit",distanceLimits:c}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,A=h.clientWidth,E=h.clientHeight,y={keyBindingMode:"rotate",enableWheel:!0,view:i,element:h,delay:M.delay||16,rotateSpeed:M.rotateSpeed||1,zoomSpeed:M.zoomSpeed||1,translateSpeed:M.translateSpeed||1,flipX:!!M.flipX,flipY:!!M.flipY,modes:i.modes,_ortho:M._ortho||M.projection&&M.projection.type==="orthographic"||!1,tick:function(){var S=t(),w=this.delay,o=S-2*w;i.idle(S-w),i.recalcMatrix(o),i.flush(S-(100+w*2));for(var _=!0,b=i.computedMatrix,I=0;I<16;++I)_=_&&d[I]===b[I],d[I]=b[I];var D=h.clientWidth===A&&h.clientHeight===E;return A=h.clientWidth,E=h.clientHeight,_?!D:(x=Math.exp(i.computedRadius[0]),!0)},lookAt:function(S,w,o){i.lookAt(i.lastT(),S,w,o)},rotate:function(S,w,o){i.rotate(i.lastT(),S,w,o)},pan:function(S,w,o){i.pan(i.lastT(),S,w,o)},translate:function(S,w,o){i.translate(i.lastT(),S,w,o)}};return Object.defineProperties(y,{matrix:{get:function(){return i.computedMatrix},set:function(S){return i.setMatrix(i.lastT(),S),i.computedMatrix},enumerable:!0},mode:{get:function(){return i.getMode()},set:function(S){var w=i.computedUp.slice(),o=i.computedEye.slice(),_=i.computedCenter.slice();if(i.setMode(S),S==="turntable"){var b=t();i._active.lookAt(b,o,_,w),i._active.lookAt(b+500,o,_,[0,0,1]),i._active.flush(b)}return i.getMode()},enumerable:!0},center:{get:function(){return i.computedCenter},set:function(S){return i.lookAt(i.lastT(),null,S),i.computedCenter},enumerable:!0},eye:{get:function(){return i.computedEye},set:function(S){return i.lookAt(i.lastT(),S),i.computedEye},enumerable:!0},up:{get:function(){return i.computedUp},set:function(S){return i.lookAt(i.lastT(),null,null,S),i.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(S){return i.setDistance(i.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return i.getDistanceLimits(c)},set:function(S){return i.setDistanceLimits(S),S},enumerable:!0}}),h.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),y._lastX=-1,y._lastY=-1,y._lastMods={shift:!1,control:!1,alt:!1,meta:!1},y.enableMouseListeners=function(){y.mouseListener=a(h,S),h.addEventListener("touchstart",function(w){var o=u(w.changedTouches[0],h);S(0,o[0],o[1],y._lastMods),S(1,o[0],o[1],y._lastMods)},l?{passive:!0}:!1),h.addEventListener("touchmove",function(w){var o=u(w.changedTouches[0],h);S(1,o[0],o[1],y._lastMods),w.preventDefault()},l?{passive:!1}:!1),h.addEventListener("touchend",function(w){S(0,y._lastX,y._lastY,y._lastMods)},l?{passive:!0}:!1);function S(w,o,_,b){var I=y.keyBindingMode;if(I!==!1){var D=I==="rotate",N=I==="pan",k=I==="zoom",z=!!b.control,F=!!b.alt,O=!!b.shift,B=!!(w&1),W=!!(w&2),ee=!!(w&4),ne=1/h.clientHeight,Q=ne*(o-y._lastX),le=ne*(_-y._lastY),Z=y.flipX?1:-1,Y=y.flipY?1:-1,re=Math.PI*y.rotateSpeed,X=t();if(y._lastX!==-1&&y._lastY!==-1&&((D&&B&&!z&&!F&&!O||B&&!z&&!F&&O)&&i.rotate(X,Z*re*Q,-Y*re*le,0),(N&&B&&!z&&!F&&!O||W||B&&z&&!F&&!O)&&i.pan(X,-y.translateSpeed*Q*x,y.translateSpeed*le*x,0),k&&B&&!z&&!F&&!O||ee||B&&!z&&F&&!O)){var q=-y.zoomSpeed*le/window.innerHeight*(X-i.lastT())*100;i.pan(X,0,0,x*(Math.exp(q)-1))}return y._lastX=o,y._lastY=_,y._lastMods=b,!0}}y.wheelListener=f(h,function(w,o){if(y.keyBindingMode!==!1&&y.enableWheel){var _=y.flipX?1:-1,b=y.flipY?1:-1,I=t();if(Math.abs(w)>Math.abs(o))i.rotate(I,0,0,-w*_*Math.PI*y.rotateSpeed/window.innerWidth);else if(!y._ortho){var D=-y.zoomSpeed*b*o/window.innerHeight*(I-i.lastT())/20;i.pan(I,0,0,x*(Math.exp(D)-1))}}},!0)},y.enableMouseListeners(),y}},8245:function(v,g,r){var t=r(6832),s=r(5158),a=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return s(u,a,f,null,[{name:"position",type:"vec2"}])}},1059:function(v,g,r){var t=r(4296),s=r(7453),a=r(2771),f=r(6496),u=r(2611),l=r(4234),m=r(8126),h=r(6145),M=r(1120),c=r(5268),i=r(8245),d=r(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:S,createCamera:t};function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function A(o,_){var b=null;try{b=o.getContext("webgl",_),b||(b=o.getContext("experimental-webgl",_))}catch{return null}return b}function E(o){var _=Math.round(Math.log(Math.abs(o))/Math.log(10));if(_<0){var b=Math.round(Math.pow(10,-_));return Math.ceil(o*b)/b}else if(_>0){var b=Math.round(Math.pow(10,_));return Math.ceil(o/b)*b}return Math.ceil(o)}function y(o){return typeof o=="boolean"?o:!0}function S(o){o=o||{},o.camera=o.camera||{};var _=o.canvas;if(!_)if(_=document.createElement("canvas"),o.container){var b=o.container;b.appendChild(_)}else document.body.appendChild(_);var I=o.gl;if(I||(o.glOptions&&(d=!!o.glOptions.preserveDrawingBuffer),I=A(_,o.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!I)throw new Error("webgl not supported");var D=o.bounds||[[-10,-10,-10],[10,10,10]],N=new x,k=l(I,I.drawingBufferWidth,I.drawingBufferHeight,{preferFloat:!d}),z=i(I),F=o.cameraObject&&o.cameraObject._ortho===!0||o.camera.projection&&o.camera.projection.type==="orthographic"||!1,O={eye:o.camera.eye||[2,0,0],center:o.camera.center||[0,0,0],up:o.camera.up||[0,1,0],zoomMin:o.camera.zoomMax||.1,zoomMax:o.camera.zoomMin||100,mode:o.camera.mode||"turntable",_ortho:F},B=o.axes||{},W=s(I,B);W.enable=!B.disable;var ee=o.spikes||{},ne=f(I,ee),Q=[],le=[],Z=[],Y=[],re=!0,$=!0,X=new Array(16),q=new Array(16),se={view:null,projection:X,model:q,_ortho:!1},$=!0,j=[I.drawingBufferWidth,I.drawingBufferHeight],ue=o.cameraObject||t(_,O),ae={gl:I,contextLost:!1,pixelRatio:o.pixelRatio||1,canvas:_,selection:N,camera:ue,axes:W,axesPixels:null,spikes:ne,bounds:D,objects:Q,shape:j,aspect:o.aspectRatio||[1,1,1],pickRadius:o.pickRadius||10,zNear:o.zNear||.01,zFar:o.zFar||1e3,fovy:o.fovy||Math.PI/4,clearColor:o.clearColor||[0,0,0,0],autoResize:y(o.autoResize),autoBounds:y(o.autoBounds),autoScale:!!o.autoScale,autoCenter:y(o.autoCenter),clipToBounds:y(o.clipToBounds),snapToData:!!o.snapToData,onselect:o.onselect||null,onrender:o.onrender||null,onclick:o.onclick||null,cameraParams:se,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(He){this.aspect[0]=He.x,this.aspect[1]=He.y,this.aspect[2]=He.z,$=!0},setBounds:function(He,Ve){this.bounds[0][He]=Ve.min,this.bounds[1][He]=Ve.max},setClearColor:function(He){this.clearColor=He},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ce=[I.drawingBufferWidth/ae.pixelRatio|0,I.drawingBufferHeight/ae.pixelRatio|0];function ye(){if(!ae._stopped&&ae.autoResize){var He=_.parentNode,Ve=1,Fe=1;He&&He!==document.body?(Ve=He.clientWidth,Fe=He.clientHeight):(Ve=window.innerWidth,Fe=window.innerHeight);var We=Math.ceil(Ve*ae.pixelRatio)|0,ut=Math.ceil(Fe*ae.pixelRatio)|0;if(We!==_.width||ut!==_.height){_.width=We,_.height=ut;var ht=_.style;ht.position=ht.position||"absolute",ht.left="0px",ht.top="0px",ht.width=Ve+"px",ht.height=Fe+"px",re=!0}}}ae.autoResize&&ye(),window.addEventListener("resize",ye);function Ce(){for(var He=Q.length,Ve=Y.length,Fe=0;Fe<Ve;++Fe)Z[Fe]=0;e:for(var Fe=0;Fe<He;++Fe){var We=Q[Fe],ut=We.pickSlots;if(!ut){le[Fe]=-1;continue}for(var ht=0;ht<Ve;++ht)if(Z[ht]+ut<255){le[Fe]=ht,We.setPickBase(Z[ht]+1),Z[ht]+=ut;continue e}var rt=u(I,j);le[Fe]=Ve,Y.push(rt),Z.push(ut),We.setPickBase(1),Ve+=1}for(;Ve>0&&Z[Ve-1]===0;)Z.pop(),Y.pop().dispose()}ae.update=function(He){ae._stopped||(re=!0,$=!0)},ae.add=function(He){ae._stopped||(He.axes=W,Q.push(He),le.push(-1),re=!0,$=!0,Ce())},ae.remove=function(He){if(!ae._stopped){var Ve=Q.indexOf(He);Ve<0||(Q.splice(Ve,1),le.pop(),re=!0,$=!0,Ce())}},ae.dispose=function(){if(!ae._stopped&&(ae._stopped=!0,window.removeEventListener("resize",ye),_.removeEventListener("webglcontextlost",Ae),ae.mouseListener.enabled=!1,!ae.contextLost)){W.dispose(),ne.dispose();for(var He=0;He<Q.length;++He)Q[He].dispose();k.dispose();for(var He=0;He<Y.length;++He)Y[He].dispose();z.dispose(),I=null,W=null,ne=null,Q=[]}},ae._mouseRotating=!1,ae._prevButtons=0,ae.enableMouseListeners=function(){ae.mouseListener=h(_,function(He,Ve,Fe){if(!ae._stopped){var We=Y.length,ut=Q.length,ht=N.object;N.distance=1/0,N.mouse[0]=Ve,N.mouse[1]=Fe,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var rt=!1;if(He&&ae._prevButtons)ae._mouseRotating=!0;else{ae._mouseRotating&&($=!0),ae._mouseRotating=!1;for(var tt=0;tt<We;++tt){var vt=Y[tt].query(Ve,ce[1]-Fe-1,ae.pickRadius);if(vt){if(vt.distance>N.distance)continue;for(var pt=0;pt<ut;++pt){var mt=Q[pt];if(le[pt]===tt){var wt=mt.pick(vt);wt&&(N.buttons=He,N.screen=vt.coord,N.distance=vt.distance,N.object=mt,N.index=wt.distance,N.dataPosition=wt.position,N.dataCoordinate=wt.dataCoordinate,N.data=wt,rt=!0)}}}}}ht&&ht!==N.object&&(ht.highlight&&ht.highlight(null),re=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),re=!0),rt=rt||N.object!==ht,rt&&ae.onselect&&ae.onselect(N),He&1&&!(ae._prevButtons&1)&&ae.onclick&&ae.onclick(N),ae._prevButtons=He}})};function Ae(){if(ae.contextLost)return!0;I.isContextLost()&&(ae.contextLost=!0,ae.mouseListener.enabled=!1,ae.selection.object=null,ae.oncontextloss&&ae.oncontextloss())}_.addEventListener("webglcontextlost",Ae);function Ie(){if(!Ae()){I.colorMask(!0,!0,!0,!0),I.depthMask(!0),I.disable(I.BLEND),I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL);for(var He=Q.length,Ve=Y.length,Fe=0;Fe<Ve;++Fe){var We=Y[Fe];We.shape=ce,We.begin();for(var ut=0;ut<He;++ut)if(le[ut]===Fe){var ht=Q[ut];ht.drawPick&&(ht.pixelRatio=1,ht.drawPick(se))}We.end()}}}var Te=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Le=[Te[0].slice(),Te[1].slice()];function xe(){if(!Ae()){ye();var He=ae.camera.tick();se.view=ae.camera.matrix,re=re||He,$=$||He,W.pixelRatio=ae.pixelRatio,ne.pixelRatio=ae.pixelRatio;var Ve=Q.length,Fe=Te[0],We=Te[1];Fe[0]=Fe[1]=Fe[2]=1/0,We[0]=We[1]=We[2]=-1/0;for(var ut=0;ut<Ve;++ut){var ht=Q[ut];ht.pixelRatio=ae.pixelRatio,ht.axes=ae.axes,re=re||!!ht.dirty,$=$||!!ht.dirty;var rt=ht.bounds;if(rt)for(var tt=rt[0],vt=rt[1],pt=0;pt<3;++pt)Fe[pt]=Math.min(Fe[pt],tt[pt]),We[pt]=Math.max(We[pt],vt[pt])}var mt=ae.bounds;if(ae.autoBounds)for(var pt=0;pt<3;++pt){if(We[pt]<Fe[pt])Fe[pt]=-1,We[pt]=1;else{Fe[pt]===We[pt]&&(Fe[pt]-=1,We[pt]+=1);var wt=.05*(We[pt]-Fe[pt]);Fe[pt]=Fe[pt]-wt,We[pt]=We[pt]+wt}mt[0][pt]=Fe[pt],mt[1][pt]=We[pt]}for(var Lt=!1,pt=0;pt<3;++pt)Lt=Lt||Le[0][pt]!==mt[0][pt]||Le[1][pt]!==mt[1][pt],Le[0][pt]=mt[0][pt],Le[1][pt]=mt[1][pt];if($=$||Lt,re=re||Lt,!!re){if(Lt){for(var at=[0,0,0],ut=0;ut<3;++ut)at[ut]=E((mt[1][ut]-mt[0][ut])/10);W.autoTicks?W.update({bounds:mt,tickSpacing:at}):W.update({bounds:mt})}var Oe=I.drawingBufferWidth,Ze=I.drawingBufferHeight;j[0]=Oe,j[1]=Ze,ce[0]=Math.max(Oe/ae.pixelRatio,1)|0,ce[1]=Math.max(Ze/ae.pixelRatio,1)|0,w(ae,F);for(var ut=0;ut<Ve;++ut){var ht=Q[ut];ht.axesBounds=mt,ae.clipToBounds&&(ht.clipBounds=mt)}N.object&&(ae.snapToData?ne.position=N.dataCoordinate:ne.position=N.dataPosition,ne.bounds=mt),$&&($=!1,Ie()),ae.axesPixels=a(ae.axes,se,Oe,Ze),ae.onrender&&ae.onrender(),I.bindFramebuffer(I.FRAMEBUFFER,null),I.viewport(0,0,Oe,Ze),ae.clearRGBA(),I.depthMask(!0),I.colorMask(!0,!0,!0,!0),I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL),I.disable(I.BLEND),I.disable(I.CULL_FACE);var Je=!1;W.enable&&(Je=Je||W.isTransparent(),W.draw(se)),ne.axes=W,N.object&&ne.draw(se),I.disable(I.CULL_FACE);for(var ut=0;ut<Ve;++ut){var ht=Q[ut];ht.axes=W,ht.pixelRatio=ae.pixelRatio,ht.isOpaque&&ht.isOpaque()&&ht.draw(se),ht.isTransparent&&ht.isTransparent()&&(Je=!0)}if(Je){k.shape=j,k.bind(),I.clear(I.DEPTH_BUFFER_BIT),I.colorMask(!1,!1,!1,!1),I.depthMask(!0),I.depthFunc(I.LESS),W.enable&&W.isTransparent()&&W.drawTransparent(se);for(var ut=0;ut<Ve;++ut){var ht=Q[ut];ht.isOpaque&&ht.isOpaque()&&ht.draw(se)}I.enable(I.BLEND),I.blendEquation(I.FUNC_ADD),I.blendFunc(I.ONE,I.ONE_MINUS_SRC_ALPHA),I.colorMask(!0,!0,!0,!0),I.depthMask(!1),I.clearColor(0,0,0,0),I.clear(I.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent(se);for(var ut=0;ut<Ve;++ut){var ht=Q[ut];ht.isTransparent&&ht.isTransparent()&&ht.drawTransparent(se)}I.bindFramebuffer(I.FRAMEBUFFER,null),I.blendFunc(I.ONE,I.ONE_MINUS_SRC_ALPHA),I.disable(I.DEPTH_TEST),z.bind(),k.color[0].bind(0),z.uniforms.accumBuffer=0,m(I),I.disable(I.BLEND)}re=!1;for(var ut=0;ut<Ve;++ut)Q[ut].dirty=!1}}}function Re(){ae._stopped||ae.contextLost||(xe(),requestAnimationFrame(Re))}return ae.enableMouseListeners(),Re(),ae.redraw=function(){ae._stopped||(re=!0,xe())},ae}function w(o,_){var b=o.bounds,I=o.cameraParams,D=I.projection,N=I.model,k=o.gl.drawingBufferWidth,z=o.gl.drawingBufferHeight,F=o.zNear,O=o.zFar,B=o.fovy,W=k/z;_?(c(D,-W,W,-1,1,F,O),I._ortho=!0):(M(D,B,W,F,O),I._ortho=!1);for(var ee=0;ee<16;++ee)N[ee]=0;N[15]=1;for(var ne=0,ee=0;ee<3;++ee)ne=Math.max(ne,b[1][ee]-b[0][ee]);for(var ee=0;ee<3;++ee)o.autoScale?N[5*ee]=o.aspect[ee]/(b[1][ee]-b[0][ee]):N[5*ee]=1/ne,o.autoCenter&&(N[12+ee]=-N[5*ee]*.5*(b[0][ee]+b[1][ee]))}},8023:function(v,g,r){var t=r(6832);g.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),g.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),g.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),g.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,g,r){var t=r(5158),s=r(5827),a=r(5306),f=r(8023);v.exports=h;function u(M,c,i,d,x){this.plot=M,this.offsetBuffer=c,this.pickBuffer=i,this.shader=d,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=u.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(M){var c;M=M||{};function i(w,o){return w in M?M[w]:o}this.sizeMin=i("sizeMin",.5),this.sizeMax=i("sizeMax",20),this.color=i("color",[1,0,0,1]).slice(),this.areaRatio=i("areaRatio",1),this.borderColor=i("borderColor",[0,0,0,1]).slice(),this.blend=i("blend",!1);var d=M.positions.length>>>1,x=M.positions instanceof Float32Array,A=M.idToIndex instanceof Int32Array&&M.idToIndex.length>=d,E=M.positions,y=x?E:a.mallocFloat32(E.length),S=A?M.idToIndex:a.mallocInt32(d);if(x||y.set(E),!A)for(y.set(E),c=0;c<d;c++)S[c]=c;this.points=E,this.offsetBuffer.update(y),this.pickBuffer.update(S),x||a.free(y),A||a.free(S),this.pointCount=d,this.pickOffset=0};function m(M,c){var i=0,d=M.length>>>1,x;for(x=0;x<d;x++){var A=M[x*2],E=M[x*2+1];A>=c[0]&&A<=c[2]&&E>=c[1]&&E<=c[3]&&i++}return i}l.unifiedDraw=function(){var M=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(i){var d=i!==void 0,x=d?this.pickShader:this.shader,A=this.plot.gl,E=this.plot.dataBox;if(this.pointCount===0)return i;var y=E[2]-E[0],S=E[3]-E[1],w=m(this.points,E),o=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(w,.33333)));M[0]=2/y,M[4]=2/S,M[6]=-2*E[0]/y-1,M[7]=-2*E[1]/S-1,this.offsetBuffer.bind(),x.bind(),x.attributes.position.pointer(),x.uniforms.matrix=M,x.uniforms.color=this.color,x.uniforms.borderColor=this.borderColor,x.uniforms.pointCloud=o<5,x.uniforms.pointSize=o,x.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(c[0]=i&255,c[1]=i>>8&255,c[2]=i>>16&255,c[3]=i>>24&255,this.pickBuffer.bind(),x.attributes.pickId.pointer(A.UNSIGNED_BYTE),x.uniforms.pickOffset=c,this.pickOffset=i);var _=A.getParameter(A.BLEND),b=A.getParameter(A.DITHER);return _&&!this.blend&&A.disable(A.BLEND),b&&A.disable(A.DITHER),A.drawArrays(A.POINTS,0,this.pointCount),_&&!this.blend&&A.enable(A.BLEND),b&&A.enable(A.DITHER),i+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(M,c,i){var d=this.pickOffset,x=this.pointCount;if(i<d||i>=d+x)return null;var A=i-d,E=this.points;return{object:this,pointId:A,dataCoord:[E[2*A],E[2*A+1]]}};function h(M,c){var i=M.gl,d=s(i),x=s(i),A=t(i,f.pointVertex,f.pointFragment),E=t(i,f.pickVertex,f.pickFragment),y=new u(M,d,x,A,E);return y.update(c),M.addObject(y),y}},6093:function(v){v.exports=g;function g(r,t,s,a){var f=t[0],u=t[1],l=t[2],m=t[3],h=s[0],M=s[1],c=s[2],i=s[3],d,x,A,E,y;return x=f*h+u*M+l*c+m*i,x<0&&(x=-x,h=-h,M=-M,c=-c,i=-i),1-x>1e-6?(d=Math.acos(x),A=Math.sin(d),E=Math.sin((1-a)*d)/A,y=Math.sin(a*d)/A):(E=1-a,y=a),r[0]=E*f+y*h,r[1]=E*u+y*M,r[2]=E*l+y*c,r[3]=E*m+y*i,r}},8240:function(v){v.exports=function(g){return!g&&g!==0?"":g.toString()}},4123:function(v,g,r){var t=r(875);v.exports=a;var s={};function a(f,u,l){var m=s[u];if(m||(m=s[u]={}),f in m)return m[f];var h={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};h.triangles=!0;var M=t(f,h);h.triangles=!1;var c=t(f,h),i,d;if(l&&l!==1){for(i=0;i<M.positions.length;++i)for(d=0;d<M.positions[i].length;++d)M.positions[i][d]/=l;for(i=0;i<c.positions.length;++i)for(d=0;d<c.positions[i].length;++d)c.positions[i][d]/=l}var x=[[1/0,1/0],[-1/0,-1/0]],A=c.positions.length;for(i=0;i<A;++i){var E=c.positions[i];for(d=0;d<2;++d)x[0][d]=Math.min(x[0][d],E[d]),x[1][d]=Math.max(x[1][d],E[d])}return m[f]=[M,c,x]}},9282:function(v,g,r){var t=r(5158),s=r(6832),a=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],M={vertex:a,fragment:l,attributes:h},c={vertex:f,fragment:l,attributes:h},i={vertex:u,fragment:l,attributes:h},d={vertex:a,fragment:m,attributes:h},x={vertex:f,fragment:m,attributes:h},A={vertex:u,fragment:m,attributes:h};function E(y,S){var w=t(y,S),o=w.attributes;return o.position.location=0,o.color.location=1,o.glyph.location=2,o.id.location=3,w}g.createPerspective=function(y){return E(y,M)},g.createOrtho=function(y){return E(y,c)},g.createProject=function(y){return E(y,i)},g.createPickPerspective=function(y){return E(y,d)},g.createPickOrtho=function(y){return E(y,x)},g.createPickProject=function(y){return E(y,A)}},2182:function(v,g,r){var t=r(3596),s=r(5827),a=r(2944),f=r(5306),u=r(104),l=r(9282),m=r(4123),h=r(8240),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=le;function c(Z,Y){var re=Z[0],X=Z[1],q=Z[2],se=Z[3];return Z[0]=Y[0]*re+Y[4]*X+Y[8]*q+Y[12]*se,Z[1]=Y[1]*re+Y[5]*X+Y[9]*q+Y[13]*se,Z[2]=Y[2]*re+Y[6]*X+Y[10]*q+Y[14]*se,Z[3]=Y[3]*re+Y[7]*X+Y[11]*q+Y[15]*se,Z}function i(Z,Y,re,X){return c(X,X),c(X,X),c(X,X)}function d(Z,Y){this.index=Z,this.dataCoordinate=this.position=Y}function x(Z){return Z===!0||Z>1?1:Z}function A(Z,Y,re,X,q,se,$,j,ue,ae,ce,ye){this.gl=Z,this.pixelRatio=1,this.shader=Y,this.orthoShader=re,this.projectShader=X,this.pointBuffer=q,this.colorBuffer=se,this.glyphBuffer=$,this.idBuffer=j,this.vao=ue,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ae,this.pickOrthoShader=ce,this.pickProjectShader=ye,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var E=A.prototype;E.pickSlots=1,E.setPickBase=function(Z){this.pickId=Z},E.isTransparent=function(){if(this.hasAlpha)return!0;for(var Z=0;Z<3;++Z)if(this.axesProject[Z]&&this.projectHasAlpha)return!0;return!1},E.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Z=0;Z<3;++Z)if(this.axesProject[Z]&&!this.projectHasAlpha)return!0;return!1};var y=[0,0],S=[0,0,0],w=[0,0,0],o=[0,0,0,1],_=[0,0,0,1],b=M.slice(),I=[0,0,0],D=[[0,0,0],[0,0,0]];function N(Z){return Z[0]=Z[1]=Z[2]=0,Z}function k(Z,Y){return Z[0]=Y[0],Z[1]=Y[1],Z[2]=Y[2],Z[3]=1,Z}function z(Z,Y,re,X){return Z[0]=Y[0],Z[1]=Y[1],Z[2]=Y[2],Z[re]=X,Z}function F(Z){for(var Y=D,re=0;re<2;++re)for(var X=0;X<3;++X)Y[re][X]=Math.max(Math.min(Z[re][X],1e8),-1e8);return Y}function O(Z,Y,re,X){var q=Y.axesProject,se=Y.gl,$=Z.uniforms,j=re.model||M,ue=re.view||M,ae=re.projection||M,ce=Y.axesBounds,ye=F(Y.clipBounds),Ce;Y.axes&&Y.axes.lastCubeProps?Ce=Y.axes.lastCubeProps.axis:Ce=[1,1,1],y[0]=2/se.drawingBufferWidth,y[1]=2/se.drawingBufferHeight,Z.bind(),$.view=ue,$.projection=ae,$.screenSize=y,$.highlightId=Y.highlightId,$.highlightScale=Y.highlightScale,$.clipBounds=ye,$.pickGroup=Y.pickId/255,$.pixelRatio=X;for(var Ae=0;Ae<3;++Ae)if(q[Ae]){$.scale=Y.projectScale[Ae],$.opacity=Y.projectOpacity[Ae];for(var Ie=b,Te=0;Te<16;++Te)Ie[Te]=0;for(var Te=0;Te<4;++Te)Ie[5*Te]=1;Ie[5*Ae]=0,Ce[Ae]<0?Ie[12+Ae]=ce[0][Ae]:Ie[12+Ae]=ce[1][Ae],u(Ie,j,Ie),$.model=Ie;var Le=(Ae+1)%3,xe=(Ae+2)%3,Re=N(S),He=N(w);Re[Le]=1,He[xe]=1;var Ve=i(ae,ue,j,k(o,Re)),Fe=i(ae,ue,j,k(_,He));if(Math.abs(Ve[1])>Math.abs(Fe[1])){var We=Ve;Ve=Fe,Fe=We,We=Re,Re=He,He=We;var ut=Le;Le=xe,xe=ut}Ve[0]<0&&(Re[Le]=-1),Fe[1]>0&&(He[xe]=-1);for(var ht=0,rt=0,Te=0;Te<4;++Te)ht+=Math.pow(j[4*Le+Te],2),rt+=Math.pow(j[4*xe+Te],2);Re[Le]/=Math.sqrt(ht),He[xe]/=Math.sqrt(rt),$.axes[0]=Re,$.axes[1]=He,$.fragClipBounds[0]=z(I,ye[0],Ae,-1e8),$.fragClipBounds[1]=z(I,ye[1],Ae,1e8),Y.vao.bind(),Y.vao.draw(se.TRIANGLES,Y.vertexCount),Y.lineWidth>0&&(se.lineWidth(Y.lineWidth*X),Y.vao.draw(se.LINES,Y.lineVertexCount,Y.vertexCount)),Y.vao.unbind()}}var B=[-1e8,-1e8,-1e8],W=[1e8,1e8,1e8],ee=[B,W];function ne(Z,Y,re,X,q,se,$){var j=re.gl;if((se===re.projectHasAlpha||$)&&O(Y,re,X,q),se===re.hasAlpha||$){Z.bind();var ue=Z.uniforms;ue.model=X.model||M,ue.view=X.view||M,ue.projection=X.projection||M,y[0]=2/j.drawingBufferWidth,y[1]=2/j.drawingBufferHeight,ue.screenSize=y,ue.highlightId=re.highlightId,ue.highlightScale=re.highlightScale,ue.fragClipBounds=ee,ue.clipBounds=re.axes.bounds,ue.opacity=re.opacity,ue.pickGroup=re.pickId/255,ue.pixelRatio=q,re.vao.bind(),re.vao.draw(j.TRIANGLES,re.vertexCount),re.lineWidth>0&&(j.lineWidth(re.lineWidth*q),re.vao.draw(j.LINES,re.lineVertexCount,re.vertexCount)),re.vao.unbind()}}E.draw=function(Z){var Y=this.useOrtho?this.orthoShader:this.shader;ne(Y,this.projectShader,this,Z,this.pixelRatio,!1,!1)},E.drawTransparent=function(Z){var Y=this.useOrtho?this.orthoShader:this.shader;ne(Y,this.projectShader,this,Z,this.pixelRatio,!0,!1)},E.drawPick=function(Z){var Y=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ne(Y,this.pickProjectShader,this,Z,1,!0,!0)},E.pick=function(Z){if(!Z||Z.id!==this.pickId)return null;var Y=Z.value[2]+(Z.value[1]<<8)+(Z.value[0]<<16);if(Y>=this.pointCount||Y<0)return null;var re=this.points[Y],X=this._selectResult;X.index=Y;for(var q=0;q<3;++q)X.position[q]=X.dataCoordinate[q]=re[q];return X},E.highlight=function(Z){if(!Z)this.highlightId=[1,1,1,1];else{var Y=Z.index,re=Y&255,X=Y>>8&255,q=Y>>16&255;this.highlightId=[re/255,X/255,q/255,0]}};function Q(Z,Y,re,X){var q;Array.isArray(Z)?Y<Z.length?q=Z[Y]:q=void 0:q=Z,q=h(q);var se=!0;t(q)&&(q="",se=!1);var $=m(q,re,X);return{mesh:$[0],lines:$[1],bounds:$[2],visible:se}}E.update=function(Z){if(Z=Z||{},"perspective"in Z&&(this.useOrtho=!Z.perspective),"orthographic"in Z&&(this.useOrtho=!!Z.orthographic),"lineWidth"in Z&&(this.lineWidth=Z.lineWidth),"project"in Z)if(Array.isArray(Z.project))this.axesProject=Z.project;else{var Y=!!Z.project;this.axesProject=[Y,Y,Y]}if("projectScale"in Z)if(Array.isArray(Z.projectScale))this.projectScale=Z.projectScale.slice();else{var re=+Z.projectScale;this.projectScale=[re,re,re]}if(this.projectHasAlpha=!1,"projectOpacity"in Z){if(Array.isArray(Z.projectOpacity))this.projectOpacity=Z.projectOpacity.slice();else{var re=+Z.projectOpacity;this.projectOpacity=[re,re,re]}for(var X=0;X<3;++X)this.projectOpacity[X]=x(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Z&&(this.opacity=x(Z.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var q=Z.position,se=Z.font||"normal",$=Z.alignment||[0,0],j,ue;if($.length===2)j=$[0],ue=$[1];else{j=[],ue=[];for(var X=0;X<$.length;++X)j[X]=$[X][0],ue[X]=$[X][1]}var ae=[1/0,1/0,1/0],ce=[-1/0,-1/0,-1/0],ye=Z.glyph,Ce=Z.color,Ae=Z.size,Ie=Z.angle,Te=Z.lineColor,Le=-1,xe=0,Re=0,He=0;if(q.length){He=q.length;e:for(var X=0;X<He;++X){for(var Ve=q[X],Fe=0;Fe<3;++Fe)if(isNaN(Ve[Fe])||!isFinite(Ve[Fe]))continue e;var We=Q(ye,X,se,this.pixelRatio),ut=We.mesh,ht=We.lines,rt=We.bounds;xe+=ut.cells.length*3,Re+=ht.edges.length*2}}var tt=xe+Re,vt=f.mallocFloat(3*tt),pt=f.mallocFloat(4*tt),mt=f.mallocFloat(2*tt),wt=f.mallocUint32(tt);if(tt>0){var Lt=0,at=xe,Oe=[0,0,0,1],Ze=[0,0,0,1],Je=Array.isArray(Ce)&&Array.isArray(Ce[0]),Ye=Array.isArray(Te)&&Array.isArray(Te[0]);e:for(var X=0;X<He;++X){Le+=1;for(var Ve=q[X],Fe=0;Fe<3;++Fe){if(isNaN(Ve[Fe])||!isFinite(Ve[Fe]))continue e;ce[Fe]=Math.max(ce[Fe],Ve[Fe]),ae[Fe]=Math.min(ae[Fe],Ve[Fe])}var We=Q(ye,X,se,this.pixelRatio),ut=We.mesh,ht=We.lines,rt=We.bounds,ke=We.visible;if(!ke)Oe=[1,1,1,0];else if(Array.isArray(Ce)){var be;if(Je?X<Ce.length?be=Ce[X]:be=[0,0,0,0]:be=Ce,be.length===3){for(var Fe=0;Fe<3;++Fe)Oe[Fe]=be[Fe];Oe[3]=1}else if(be.length===4){for(var Fe=0;Fe<4;++Fe)Oe[Fe]=be[Fe];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else Oe[0]=Oe[1]=Oe[2]=0,Oe[3]=1;if(!ke)Ze=[1,1,1,0];else if(Array.isArray(Te)){var be;if(Ye?X<Te.length?be=Te[X]:be=[0,0,0,0]:be=Te,be.length===3){for(var Fe=0;Fe<3;++Fe)Ze[Fe]=be[Fe];Ze[Fe]=1}else if(be.length===4){for(var Fe=0;Fe<4;++Fe)Ze[Fe]=be[Fe];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else Ze[0]=Ze[1]=Ze[2]=0,Ze[3]=1;var me=.5;ke?Array.isArray(Ae)?X<Ae.length?me=+Ae[X]:me=12:Ae?me=+Ae:this.useOrtho&&(me=12):me=0;var _e=0;Array.isArray(Ie)?X<Ie.length?_e=+Ie[X]:_e=0:Ie&&(_e=+Ie);for(var Ee=Math.cos(_e),Be=Math.sin(_e),Ve=q[X],Fe=0;Fe<3;++Fe)ce[Fe]=Math.max(ce[Fe],Ve[Fe]),ae[Fe]=Math.min(ae[Fe],Ve[Fe]);var je=j,nt=ue,je=0;Array.isArray(j)?X<j.length?je=j[X]:je=0:j&&(je=j);var nt=0;Array.isArray(ue)?X<ue.length?nt=ue[X]:nt=0:ue&&(nt=ue),je*=je>0?1-rt[0][0]:je<0?1+rt[1][0]:1,nt*=nt>0?1-rt[0][1]:nt<0?1+rt[1][1]:1;for(var dt=[je,nt],Ft=ut.cells||[],rr=ut.positions||[],Fe=0;Fe<Ft.length;++Fe)for(var xt=Ft[Fe],Kt=0;Kt<3;++Kt){for(var Jt=0;Jt<3;++Jt)vt[3*Lt+Jt]=Ve[Jt];for(var Jt=0;Jt<4;++Jt)pt[4*Lt+Jt]=Oe[Jt];wt[Lt]=Le;var St=rr[xt[Kt]];mt[2*Lt]=me*(Ee*St[0]-Be*St[1]+dt[0]),mt[2*Lt+1]=me*(Be*St[0]+Ee*St[1]+dt[1]),Lt+=1}for(var Ft=ht.edges,rr=ht.positions,Fe=0;Fe<Ft.length;++Fe)for(var xt=Ft[Fe],Kt=0;Kt<2;++Kt){for(var Jt=0;Jt<3;++Jt)vt[3*at+Jt]=Ve[Jt];for(var Jt=0;Jt<4;++Jt)pt[4*at+Jt]=Ze[Jt];wt[at]=Le;var St=rr[xt[Kt]];mt[2*at]=me*(Ee*St[0]-Be*St[1]+dt[0]),mt[2*at+1]=me*(Be*St[0]+Ee*St[1]+dt[1]),at+=1}}}this.bounds=[ae,ce],this.points=q,this.pointCount=q.length,this.vertexCount=xe,this.lineVertexCount=Re,this.pointBuffer.update(vt),this.colorBuffer.update(pt),this.glyphBuffer.update(mt),this.idBuffer.update(wt),f.free(vt),f.free(pt),f.free(mt),f.free(wt)},E.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function le(Z){var Y=Z.gl,re=l.createPerspective(Y),X=l.createOrtho(Y),q=l.createProject(Y),se=l.createPickPerspective(Y),$=l.createPickOrtho(Y),j=l.createPickProject(Y),ue=s(Y),ae=s(Y),ce=s(Y),ye=s(Y),Ce=a(Y,[{buffer:ue,size:3,type:Y.FLOAT},{buffer:ae,size:4,type:Y.FLOAT},{buffer:ce,size:2,type:Y.FLOAT},{buffer:ye,size:4,type:Y.UNSIGNED_BYTE,normalized:!0}]),Ae=new A(Y,re,X,q,ue,ae,ce,ye,Ce,se,$,j);return Ae.update(Z),Ae}},1884:function(v,g,r){var t=r(6832);g.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),g.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,g,r){var t=r(5158),s=r(5827),a=r(1884);v.exports=l;function f(m,h,M){this.plot=m,this.boxBuffer=h,this.boxShader=M,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=f.prototype;u.draw=function(){if(this.enabled){var m=this.plot,h=this.selectBox,M=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var i=this.outerColor,d=this.borderColor,x=m.box,A=m.screenBox,E=m.dataBox,y=m.viewBox,S=m.pixelRatio,w=(h[0]-E[0])*(y[2]-y[0])/(E[2]-E[0])+y[0],o=(h[1]-E[1])*(y[3]-y[1])/(E[3]-E[1])+y[1],_=(h[2]-E[0])*(y[2]-y[0])/(E[2]-E[0])+y[0],b=(h[3]-E[1])*(y[3]-y[1])/(E[3]-E[1])+y[1];if(w=Math.max(w,y[0]),o=Math.max(o,y[1]),_=Math.min(_,y[2]),b=Math.min(b,y[3]),!(_<w||b<o)){x.bind();var I=A[2]-A[0],D=A[3]-A[1];if(this.outerFill&&(x.drawBox(0,0,I,o,i),x.drawBox(0,o,w,b,i),x.drawBox(0,b,I,D,i),x.drawBox(_,o,I,b,i)),this.innerFill&&x.drawBox(w,o,_,b,c),M>0){var N=M*S;x.drawBox(w-N,o-N,_+N,o+N,d),x.drawBox(w-N,b-N,_+N,b+N,d),x.drawBox(w-N,o-N,w+N,b+N,d),x.drawBox(_-N,o-N,_+N,b+N,d)}}}},u.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(m,h){var M=m.gl,c=s(M,[0,0,0,1,1,0,1,1]),i=t(M,a.boxVertex,a.boxFragment),d=new f(m,c,i);return d.update(h),m.addOverlay(d),d}},2611:function(v,g,r){v.exports=M;var t=r(4234),s=r(5306),a=r(5050),f=r(2288).nextPow2,u=function(c,i,d){for(var x=1e8,A=-1,E=-1,y=c.shape[0],S=c.shape[1],w=0;w<y;w++)for(var o=0;o<S;o++){var _=c.get(w,o,0),b=c.get(w,o,1),I=c.get(w,o,2),D=c.get(w,o,3);if(_<255||b<255||I<255||D<255){var N=i-w,k=d-o,z=N*N+k*k;z<x&&(x=z,A=w,E=o)}}return[A,E,x]};function l(c,i,d,x,A){this.coord=[c,i],this.id=d,this.value=x,this.distance=A}function m(c,i,d){this.gl=c,this.fbo=i,this.buffer=d,this._readTimeout=null;var x=this;this._readCallback=function(){x.gl&&(i.bind(),c.readPixels(0,0,i.shape[0],i.shape[1],c.RGBA,c.UNSIGNED_BYTE,x.buffer),x._readTimeout=null)}}var h=m.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var i=this.fbo.shape[0],d=this.fbo.shape[1];if(d*i*4>this.buffer.length){s.free(this.buffer);for(var x=this.buffer=s.mallocUint8(f(d*i*4)),A=0;A<d*i*4;++A)x[A]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,i,d){if(!this.gl)return null;var x=this.fbo.shape.slice();c=c|0,i=i|0,typeof d!="number"&&(d=1);var A=Math.min(Math.max(c-d,0),x[0])|0,E=Math.min(Math.max(c+d,0),x[0])|0,y=Math.min(Math.max(i-d,0),x[1])|0,S=Math.min(Math.max(i+d,0),x[1])|0;if(E<=A||S<=y)return null;var w=[E-A,S-y],o=a(this.buffer,[w[0],w[1],4],[4,x[0]*4,1],4*(A+x[0]*y)),_=u(o.hi(w[0],w[1],1),d,d),b=_[0],I=_[1];if(b<0||Math.pow(this.radius,2)<_[2])return null;var D=o.get(b,I,0),N=o.get(b,I,1),k=o.get(b,I,2),z=o.get(b,I,3);return new l(b+A|0,I+y|0,D,[N,k,z],Math.sqrt(_[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function M(c,i){var d=i[0],x=i[1],A={},E=t(c,d,x,A),y=s.mallocUint8(d*x*4);return new m(c,E,y)}},5158:function(v,g,r){var t=r(9016),s=r(4280),a=r(3984),f=r(1628),u=r(2631),l=r(9068);function m(i){this.gl=i,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=m.prototype;h.bind=function(){this.program||this._relink();var i,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(d>x)for(i=x;i<d;i++)this.gl.enableVertexAttribArray(i);else if(x>d)for(i=d;i<x;i++)this.gl.disableVertexAttribArray(i);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var i=this.gl.lastAttribCount,d=0;d<i;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function M(i,d){return i.name<d.name?-1:1}h.update=function(i,d,x,A){if(!d||arguments.length===1){var E=i;i=E.vertex,d=E.fragment,x=E.uniforms,A=E.attributes}var y=this,S=y.gl,w=y._vref;y._vref=f.shader(S,S.VERTEX_SHADER,i),w&&w.dispose(),y.vertShader=y._vref.shader;var o=this._fref;if(y._fref=f.shader(S,S.FRAGMENT_SHADER,d),o&&o.dispose(),y.fragShader=y._fref.shader,!x||!A){var _=S.createProgram();if(S.attachShader(_,y.fragShader),S.attachShader(_,y.vertShader),S.linkProgram(_),!S.getProgramParameter(_,S.LINK_STATUS)){var b=S.getProgramInfoLog(_);throw new l(b,"Error linking program:"+b)}x=x||u.uniforms(S,_),A=A||u.attributes(S,_),S.deleteProgram(_)}A=A.slice(),A.sort(M);var I=[],D=[],N=[],k;for(k=0;k<A.length;++k){var z=A[k];if(z.type.indexOf("mat")>=0){for(var F=z.type.charAt(z.type.length-1)|0,O=new Array(F),B=0;B<F;++B)O[B]=N.length,D.push(z.name+"["+B+"]"),typeof z.location=="number"?N.push(z.location+B):Array.isArray(z.location)&&z.location.length===F&&typeof z.location[B]=="number"?N.push(z.location[B]|0):N.push(-1);I.push({name:z.name,type:z.type,locations:O})}else I.push({name:z.name,type:z.type,locations:[N.length]}),D.push(z.name),typeof z.location=="number"?N.push(z.location|0):N.push(-1)}var W=0;for(k=0;k<N.length;++k)if(N[k]<0){for(;N.indexOf(W)>=0;)W+=1;N[k]=W}var ee=new Array(x.length);function ne(){y.program=f.program(S,y._vref,y._fref,D,N);for(var Q=0;Q<x.length;++Q)ee[Q]=S.getUniformLocation(y.program,x[Q].name)}ne(),y._relink=ne,y.types={uniforms:a(x),attributes:a(A)},y.attributes=s(S,y,I,N),Object.defineProperty(y,"uniforms",t(S,y,x,ee))};function c(i,d,x,A,E){var y=new m(i);return y.update(d,x,A,E),y}v.exports=c},9068:function(v){function g(r,t,s){this.shortMessage=t||"",this.longMessage=s||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(s?`
`+s:""),this.stack=new Error().stack}g.prototype=new Error,g.prototype.name="GLError",g.prototype.constructor=g,v.exports=g},4280:function(v,g,r){v.exports=m;var t=r(9068);function s(h,M,c,i,d,x){this._gl=h,this._wrapper=M,this._index=c,this._locations=i,this._dimension=d,this._constFunc=x}var a=s.prototype;a.pointer=function(M,c,i,d){var x=this,A=x._gl,E=x._locations[x._index];A.vertexAttribPointer(E,x._dimension,M||A.FLOAT,!!c,i||0,d||0),A.enableVertexAttribArray(E)},a.set=function(h,M,c,i){return this._constFunc(this._locations[this._index],h,M,c,i)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var f=[function(h,M,c){return c.length===void 0?h.vertexAttrib1f(M,c):h.vertexAttrib1fv(M,c)},function(h,M,c,i){return c.length===void 0?h.vertexAttrib2f(M,c,i):h.vertexAttrib2fv(M,c)},function(h,M,c,i,d){return c.length===void 0?h.vertexAttrib3f(M,c,i,d):h.vertexAttrib3fv(M,c)},function(h,M,c,i,d,x){return c.length===void 0?h.vertexAttrib4f(M,c,i,d,x):h.vertexAttrib4fv(M,c)}];function u(h,M,c,i,d,x,A){var E=f[d],y=new s(h,M,c,i,d,E);Object.defineProperty(x,A,{set:function(S){return h.disableVertexAttribArray(i[c]),E(h,i[c],S),S},get:function(){return y},enumerable:!0})}function l(h,M,c,i,d,x,A){for(var E=new Array(d),y=new Array(d),S=0;S<d;++S)u(h,M,c[S],i,d,E,S),y[S]=E[S];Object.defineProperty(E,"location",{set:function(_){if(Array.isArray(_))for(var b=0;b<d;++b)y[b].location=_[b];else for(var b=0;b<d;++b)y[b].location=_+b;return _},get:function(){for(var _=new Array(d),b=0;b<d;++b)_[b]=i[c[b]];return _},enumerable:!0}),E.pointer=function(_,b,I,D){_=_||h.FLOAT,b=!!b,I=I||d*d,D=D||0;for(var N=0;N<d;++N){var k=i[c[N]];h.vertexAttribPointer(k,d,_,b,I,D+N*d),h.enableVertexAttribArray(k)}};var w=new Array(d),o=h["vertexAttrib"+d+"fv"];Object.defineProperty(x,A,{set:function(_){for(var b=0;b<d;++b){var I=i[c[b]];if(h.disableVertexAttribArray(I),Array.isArray(_[0]))o.call(h,I,_[b]);else{for(var D=0;D<d;++D)w[D]=_[d*b+D];o.call(h,I,w)}}return _},get:function(){return E},enumerable:!0})}function m(h,M,c,i){for(var d={},x=0,A=c.length;x<A;++x){var E=c[x],y=E.name,S=E.type,w=E.locations;switch(S){case"bool":case"int":case"float":u(h,M,w[0],i,1,d,y);break;default:if(S.indexOf("vec")>=0){var o=S.charCodeAt(S.length-1)-48;if(o<2||o>4)throw new t("","Invalid data type for attribute "+y+": "+S);u(h,M,w[0],i,o,d,y)}else if(S.indexOf("mat")>=0){var o=S.charCodeAt(S.length-1)-48;if(o<2||o>4)throw new t("","Invalid data type for attribute "+y+": "+S);l(h,M,w,i,o,d,y)}else throw new t("","Unknown data type for attribute "+y+": "+S);break}}return d}},9016:function(v,g,r){var t=r(3984),s=r(9068);v.exports=u;function a(l){return function(){return l}}function f(l,m){for(var h=new Array(l),M=0;M<l;++M)h[M]=m;return h}function u(l,m,h,M){function c(S){return function(w,o,_){return w.getUniform(o.program,_[S])}}function i(S){return function(o){for(var _=d("",S),b=0;b<_.length;++b){var I=_[b],D=I[0],N=I[1];if(M[N]){var k=o;if(typeof D=="string"&&(D.indexOf(".")===0||D.indexOf("[")===0)){var z=D;if(D.indexOf(".")===0&&(z=D.slice(1)),z.indexOf("]")===z.length-1){var F=z.indexOf("["),O=z.slice(0,F),B=z.slice(F+1,z.length-1);k=O?o[O][B]:o[B]}else k=o[z]}var W=h[N].type,ee;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(M[N],k);break;case"float":l.uniform1f(M[N],k);break;default:var ne=W.indexOf("vec");if(0<=ne&&ne<=1&&W.length===4+ne){if(ee=W.charCodeAt(W.length-1)-48,ee<2||ee>4)throw new s("","Invalid data type");switch(W.charAt(0)){case"b":case"i":l["uniform"+ee+"iv"](M[N],k);break;case"v":l["uniform"+ee+"fv"](M[N],k);break;default:throw new s("","Unrecognized data type for vector "+name+": "+W)}}else if(W.indexOf("mat")===0&&W.length===4){if(ee=W.charCodeAt(W.length-1)-48,ee<2||ee>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+W);l["uniformMatrix"+ee+"fv"](M[N],!1,k);break}else throw new s("","Unknown uniform data type for "+name+": "+W)}}}}}function d(S,w){if(typeof w!="object")return[[S,w]];var o=[];for(var _ in w){var b=w[_],I=S;parseInt(_)+""===_?I+="["+_+"]":I+="."+_,typeof b=="object"?o.push.apply(o,d(I,b)):o.push([I,b])}return o}function x(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var w=S.indexOf("vec");if(0<=w&&w<=1&&S.length===4+w){var o=S.charCodeAt(S.length-1)-48;if(o<2||o>4)throw new s("","Invalid data type");return S.charAt(0)==="b"?f(o,!1):f(o,0)}else if(S.indexOf("mat")===0&&S.length===4){var o=S.charCodeAt(S.length-1)-48;if(o<2||o>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+S);return f(o*o,0)}else throw new s("","Unknown uniform data type for "+name+": "+S)}}function A(S,w,o){if(typeof o=="object"){var _=E(o);Object.defineProperty(S,w,{get:a(_),set:i(o),enumerable:!0,configurable:!1})}else M[o]?Object.defineProperty(S,w,{get:c(o),set:i(o),enumerable:!0,configurable:!1}):S[w]=x(h[o].type)}function E(S){var w;if(Array.isArray(S)){w=new Array(S.length);for(var o=0;o<S.length;++o)A(w,o,S[o])}else{w={};for(var _ in S)A(w,_,S[_])}return w}var y=t(h,!0);return{get:a(E(y)),set:i(y),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=g;function g(r,t){for(var s={},a=0;a<r.length;++a)for(var f=r[a].name,u=f.split("."),l=s,m=0;m<u.length;++m){var h=u[m].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var M=1;M<h.length;++M){var c=parseInt(h[M]);M<h.length-1||m<u.length-1?(c in l||(M<h.length-1?l[c]=[]:l[c]={}),l=l[c]):t?l[c]=a:l[c]=r[a].type}}else m<u.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):t?l[h[0]]=a:l[h[0]]=r[a].type}return s}},2631:function(v,g){g.uniforms=a,g.attributes=f;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function s(u,l){if(!t){var m=Object.keys(r);t={};for(var h=0;h<m.length;++h){var M=m[h];t[u[M]]=r[M]}}return t[l]}function a(u,l){for(var m=u.getProgramParameter(l,u.ACTIVE_UNIFORMS),h=[],M=0;M<m;++M){var c=u.getActiveUniform(l,M);if(c){var i=s(u,c.type);if(c.size>1)for(var d=0;d<c.size;++d)h.push({name:c.name.replace("[0]","["+d+"]"),type:i});else h.push({name:c.name,type:i})}}return h}function f(u,l){for(var m=u.getProgramParameter(l,u.ACTIVE_ATTRIBUTES),h=[],M=0;M<m;++M){var c=u.getActiveAttrib(l,M);c&&h.push({name:c.name,type:s(u,c.type)})}return h}},1628:function(v,g,r){g.shader=d,g.program=x;var t=r(9068),s=r(3530),a=typeof WeakMap>"u"?r(4037):WeakMap,f=new a,u=0;function l(A,E,y,S,w,o,_){this.id=A,this.src=E,this.type=y,this.shader=S,this.count=o,this.programs=[],this.cache=_}l.prototype.dispose=function(){if(--this.count===0){for(var A=this.cache,E=A.gl,y=this.programs,S=0,w=y.length;S<w;++S){var o=A.programs[y[S]];o&&(delete A.programs[S],E.deleteProgram(o))}E.deleteShader(this.shader),delete A.shaders[this.type===E.FRAGMENT_SHADER|0][this.src]}};function m(A){this.gl=A,this.shaders=[{},{}],this.programs={}}var h=m.prototype;function M(A,E,y){var S=A.createShader(E);if(A.shaderSource(S,y),A.compileShader(S),!A.getShaderParameter(S,A.COMPILE_STATUS)){var w=A.getShaderInfoLog(S);try{var o=s(w,y,E)}catch(_){throw console.warn("Failed to format compiler error: "+_),new t(w,`Error compiling shader:
`+w)}throw new t(w,o.short,o.long)}return S}h.getShaderReference=function(A,E){var y=this.gl,S=this.shaders[A===y.FRAGMENT_SHADER|0],w=S[E];if(!w||!y.isShader(w.shader)){var o=M(y,A,E);w=S[E]=new l(u++,E,A,o,[],1,this)}else w.count+=1;return w};function c(A,E,y,S,w){var o=A.createProgram();A.attachShader(o,E),A.attachShader(o,y);for(var _=0;_<S.length;++_)A.bindAttribLocation(o,w[_],S[_]);if(A.linkProgram(o),!A.getProgramParameter(o,A.LINK_STATUS)){var b=A.getProgramInfoLog(o);throw new t(b,"Error linking program: "+b)}return o}h.getProgram=function(A,E,y,S){var w=[A.id,E.id,y.join(":"),S.join(":")].join("@"),o=this.programs[w];return(!o||!this.gl.isProgram(o))&&(this.programs[w]=o=c(this.gl,A.shader,E.shader,y,S),A.programs.push(w),E.programs.push(w)),o};function i(A){var E=f.get(A);return E||(E=new m(A),f.set(A,E)),E}function d(A,E,y){return i(A).getShaderReference(E,y)}function x(A,E,y,S,w){return i(A).getProgram(E,y,S,w)}},3050:function(v){v.exports=t;function g(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=g.prototype;r.update=function(s){s=s||{},this.enable=(s.enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var s=this.enable,a=this.width,f=this.color,u=this.center,l=this.plot,m=l.line,h=l.dataBox,M=l.viewBox;if(m.bind(),h[0]<=u[0]&&u[0]<=h[2]&&h[1]<=u[1]&&u[1]<=h[3]){var c=M[0]+(u[0]-h[0])/(h[2]-h[0])*(M[2]-M[0]),i=M[1]+(u[1]-h[1])/(h[3]-h[1])*(M[3]-M[1]);s[0]&&m.drawLine(c,i,M[0],i,a[0],f[0]),s[1]&&m.drawLine(c,i,c,M[1],a[1],f[1]),s[2]&&m.drawLine(c,i,M[2],i,a[2],f[2]),s[3]&&m.drawLine(c,i,c,M[3],a[3],f[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(s,a){var f=new g(s);return f.update(a),s.addOverlay(f),f}},3540:function(v,g,r){var t=r(6832),s=r(5158),a=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return s(u,a,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,g,r){var t=r(5827),s=r(2944),a=r(3540);v.exports=c;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(i,d,x,A){this.gl=i,this.buffer=d,this.vao=x,this.shader=A,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=u.prototype,m=[0,0,0],h=[0,0,0],M=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(i){},l.draw=function(i){var d=this.gl,x=this.vao,A=this.shader;x.bind(),A.bind();var E=i.model||f,y=i.view||f,S=i.projection||f,w;this.axes&&(w=this.axes.lastCubeProps.axis);for(var o=m,_=h,b=0;b<3;++b)w&&w[b]<0?(o[b]=this.bounds[0][b],_[b]=this.bounds[1][b]):(o[b]=this.bounds[1][b],_[b]=this.bounds[0][b]);M[0]=d.drawingBufferWidth,M[1]=d.drawingBufferHeight,A.uniforms.model=E,A.uniforms.view=y,A.uniforms.projection=S,A.uniforms.coordinates=[this.position,o,_],A.uniforms.colors=this.colors,A.uniforms.screenShape=M;for(var b=0;b<3;++b)A.uniforms.lineWidth=this.lineWidth[b]*this.pixelRatio,this.enabled[b]&&(x.draw(d.TRIANGLES,6,6*b),this.drawSides[b]&&x.draw(d.TRIANGLES,12,18+12*b));x.unbind()},l.update=function(i){i&&("bounds"in i&&(this.bounds=i.bounds),"position"in i&&(this.position=i.position),"lineWidth"in i&&(this.lineWidth=i.lineWidth),"colors"in i&&(this.colors=i.colors),"enabled"in i&&(this.enabled=i.enabled),"drawSides"in i&&(this.drawSides=i.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(i,d){var x=[];function A(o,_,b,I,D,N){var k=[o,_,b,0,0,0,1];k[I+3]=1,k[I]=D,x.push.apply(x,k),k[6]=-1,x.push.apply(x,k),k[I]=N,x.push.apply(x,k),x.push.apply(x,k),k[6]=1,x.push.apply(x,k),k[I]=D,x.push.apply(x,k)}A(0,0,0,0,0,1),A(0,0,0,1,0,1),A(0,0,0,2,0,1),A(1,0,0,1,-1,1),A(1,0,0,2,-1,1),A(0,1,0,0,-1,1),A(0,1,0,2,-1,1),A(0,0,1,0,-1,1),A(0,0,1,1,-1,1);var E=t(i,x),y=s(i,[{type:i.FLOAT,buffer:E,size:3,offset:0,stride:28},{type:i.FLOAT,buffer:E,size:3,offset:12,stride:28},{type:i.FLOAT,buffer:E,size:1,offset:24,stride:28}]),S=a(i);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var w=new u(i,E,y,S);return w.update(d),w}},9578:function(v,g,r){var t=r(6832),s=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:s,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},g.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,g,r){var t=r(2858),s=r(4020),a=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(x,A,E,y){for(var S=x.points,w=x.velocities,o=x.divergences,_=[],b=[],I=[],D=[],N=[],k=[],z=0,F=0,O=s.create(),B=s.create(),W=8,ee=0;ee<S.length;ee++){var ne=S[ee],Q=w[ee],le=o[ee];A===0&&(le=E*.05),F=t.length(Q)/y,O=s.create(),t.copy(O,Q),O[3]=le;for(var Z=0;Z<W;Z++)N[Z]=[ne[0],ne[1],ne[2],Z];if(D.length>0)for(var Z=0;Z<W;Z++){var Y=(Z+1)%W;_.push(D[Z],N[Z],N[Y],N[Y],D[Y],D[Z]),I.push(B,O,O,O,B,B),k.push(z,F,F,F,z,z);var re=_.length;b.push([re-6,re-5,re-4],[re-3,re-2,re-1])}var X=D;D=N,N=X;var q=B;B=O,O=q;var se=z;z=F,F=se}return{positions:_,cells:b,vectors:I,vertexIntensity:k}},u=function(x,A,E,y){for(var S=0,w=0;w<x.length;w++)for(var o=x[w].velocities,_=0;_<o.length;_++)S=Math.max(S,t.length(o[_]));for(var b=x.map(function(ee){return f(ee,E,y,S)}),I=[],D=[],N=[],k=[],w=0;w<b.length;w++){var z=b[w],F=I.length;I=I.concat(z.positions),N=N.concat(z.vectors),k=k.concat(z.vertexIntensity);for(var _=0;_<z.cells.length;_++){var O=z.cells[_],B=[];D.push(B);for(var W=0;W<O.length;W++)B.push(O[W]+F)}}return{positions:I,cells:D,vectors:N,vertexIntensity:k,colormap:A}},l=function(x,A){var E=x.length,y;for(y=0;y<E;y++){var S=x[y];if(S===A)return y;if(S>A)return y-1}return y},m=function(x,A,E){return x<A?A:x>E?E:x},h=function(x,A,E){var y=A.vectors,S=A.meshgrid,w=x[0],o=x[1],_=x[2],b=S[0].length,I=S[1].length,D=S[2].length,N=l(S[0],w),k=l(S[1],o),z=l(S[2],_),F=N+1,O=k+1,B=z+1;if(N=m(N,0,b-1),F=m(F,0,b-1),k=m(k,0,I-1),O=m(O,0,I-1),z=m(z,0,D-1),B=m(B,0,D-1),N<0||k<0||z<0||F>b-1||O>I-1||B>D-1)return t.create();var W=S[0][N],ee=S[0][F],ne=S[1][k],Q=S[1][O],le=S[2][z],Z=S[2][B],Y=(w-W)/(ee-W),re=(o-ne)/(Q-ne),X=(_-le)/(Z-le);isFinite(Y)||(Y=.5),isFinite(re)||(re=.5),isFinite(X)||(X=.5);var q,se,$,j,ue,ae;switch(E.reversedX&&(N=b-1-N,F=b-1-F),E.reversedY&&(k=I-1-k,O=I-1-O),E.reversedZ&&(z=D-1-z,B=D-1-B),E.filled){case 5:ue=z,ae=B,$=k*D,j=O*D,q=N*D*I,se=F*D*I;break;case 4:ue=z,ae=B,q=N*D,se=F*D,$=k*D*b,j=O*D*b;break;case 3:$=k,j=O,ue=z*I,ae=B*I,q=N*I*D,se=F*I*D;break;case 2:$=k,j=O,q=N*I,se=F*I,ue=z*I*b,ae=B*I*b;break;case 1:q=N,se=F,ue=z*b,ae=B*b,$=k*b*D,j=O*b*D;break;default:q=N,se=F,$=k*b,j=O*b,ue=z*b*I,ae=B*b*I;break}var ce=y[q+$+ue],ye=y[q+$+ae],Ce=y[q+j+ue],Ae=y[q+j+ae],Ie=y[se+$+ue],Te=y[se+$+ae],Le=y[se+j+ue],xe=y[se+j+ae],Re=t.create(),He=t.create(),Ve=t.create(),Fe=t.create();t.lerp(Re,ce,Ie,Y),t.lerp(He,ye,Te,Y),t.lerp(Ve,Ce,Le,Y),t.lerp(Fe,Ae,xe,Y);var We=t.create(),ut=t.create();t.lerp(We,Re,Ve,re),t.lerp(ut,He,Fe,re);var ht=t.create();return t.lerp(ht,We,ut,X),ht},M=function(x){var A=1/0;x.sort(function(w,o){return w-o});for(var E=x.length,y=1;y<E;y++){var S=Math.abs(x[y]-x[y-1]);S<A&&(A=S)}return A},c=function(x){for(var A=[],E=[],y=[],S={},w={},o={},_=x.length,b=0;b<_;b++){var I=x[b],D=I[0],N=I[1],k=I[2];S[D]||(A.push(D),S[D]=!0),w[N]||(E.push(N),w[N]=!0),o[k]||(y.push(k),o[k]=!0)}var z=M(A),F=M(E),O=M(y),B=Math.min(z,F,O);return isFinite(B)?B:1};v.exports=function(x,A){var E=x.startingPositions,y=x.maxLength||1e3,S=x.tubeSize||1,w=x.absoluteTubeSize,o=x.gridFill||"+x+y+z",_={};o.indexOf("-x")!==-1&&(_.reversedX=!0),o.indexOf("-y")!==-1&&(_.reversedY=!0),o.indexOf("-z")!==-1&&(_.reversedZ=!0),_.filled=a.indexOf(o.replace(/-/g,"").replace(/\+/g,""));var b=x.getVelocity||function(Te){return h(Te,x,_)},I=x.getDivergence||function(Te,Le){var xe=t.create(),Re=1e-4;t.add(xe,Te,[Re,0,0]);var He=b(xe);t.subtract(He,He,Le),t.scale(He,He,1/Re),t.add(xe,Te,[0,Re,0]);var Ve=b(xe);t.subtract(Ve,Ve,Le),t.scale(Ve,Ve,1/Re),t.add(xe,Te,[0,0,Re]);var Fe=b(xe);return t.subtract(Fe,Fe,Le),t.scale(Fe,Fe,1/Re),t.add(xe,He,Ve),t.add(xe,xe,Fe),xe},D=[],N=A[0][0],k=A[0][1],z=A[0][2],F=A[1][0],O=A[1][1],B=A[1][2],W=function(Te){var Le=Te[0],xe=Te[1],Re=Te[2];return!(Le<N||Le>F||xe<k||xe>O||Re<z||Re>B)},ee=t.distance(A[0],A[1]),ne=10*ee/y,Q=ne*ne,le=1,Z=0,Y=E.length;Y>1&&(le=c(E));for(var re=0;re<Y;re++){var X=t.create();t.copy(X,E[re]);var q=[X],se=[],$=b(X),j=X;se.push($);var ue=[],ae=I(X,$),ce=t.length(ae);isFinite(ce)&&ce>Z&&(Z=ce),ue.push(ce),D.push({points:q,velocities:se,divergences:ue});for(var ye=0;ye<y*100&&q.length<y&&W(X);){ye++;var Ce=t.clone($),Ae=t.squaredLength(Ce);if(Ae===0)break;if(Ae>Q&&t.scale(Ce,Ce,ne/Math.sqrt(Ae)),t.add(Ce,Ce,X),$=b(Ce),t.squaredDistance(j,Ce)-Q>-1e-4*Q){q.push(Ce),j=Ce,se.push($);var ae=I(Ce,$),ce=t.length(ae);isFinite(ce)&&ce>Z&&(Z=ce),ue.push(ce)}X=Ce}}var Ie=u(D,x.colormap,Z,le);return w?Ie.tubeScale=w:(Z===0&&(Z=1),Ie.tubeScale=S*.5*le/Z),Ie};var i=r(9578),d=r(1140).createMesh;v.exports.createTubeMesh=function(x,A){return d(x,A,{shaders:i,traceType:"streamtube"})}},9054:function(v,g,r){var t=r(5158),s=r(6832),a=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=s([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);g.createShader=function(m){var h=t(m,a,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},g.createPickShader=function(m){var h=t(m,a,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},g.createContourShader=function(m){var h=t(m,u,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},g.createPickContourShader=function(m){var h=t(m,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(v,g,r){v.exports=se;var t=r(2288),s=r(5827),a=r(2944),f=r(8931),u=r(5306),l=r(9156),m=r(7498),h=r(7382),M=r(5050),c=r(4162),i=r(104),d=r(7437),x=r(5070),A=r(9144),E=r(9054),y=E.createShader,S=E.createContourShader,w=E.createPickShader,o=E.createPickContourShader,_=4*10,b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],D=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var $=0;$<3;++$){var j=D[$],ue=($+1)%3,ae=($+2)%3;j[ue+0]=1,j[ae+3]=1,j[$+6]=1}})();function N($,j,ue,ae,ce){this.position=$,this.index=j,this.uv=ue,this.level=ae,this.dataCoordinate=ce}var k=256;function z($,j,ue,ae,ce,ye,Ce,Ae,Ie,Te,Le,xe,Re,He,Ve){this.gl=$,this.shape=j,this.bounds=ue,this.objectOffset=Ve,this.intensityBounds=[],this._shader=ae,this._pickShader=ce,this._coordinateBuffer=ye,this._vao=Ce,this._colorMap=Ae,this._contourShader=Ie,this._contourPickShader=Te,this._contourBuffer=Le,this._contourVAO=xe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Re,this._dynamicVAO=He,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[M(u.mallocFloat(1024),[0,0]),M(u.mallocFloat(1024),[0,0]),M(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var F=z.prototype;F.genColormap=function($,j){var ue=!1,ae=h([l({colormap:$,nshades:k,format:"rgba"}).map(function(ce,ye){var Ce=j?O(ye/255,j):ce[3];return Ce<1&&(ue=!0),[ce[0],ce[1],ce[2],255*Ce]})]);return m.divseq(ae,255),this.hasAlphaScale=ue,ae},F.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},F.isOpaque=function(){return!this.isTransparent()},F.pickSlots=1,F.setPickBase=function($){this.pickId=$};function O($,j){if(!j||!j.length)return 1;for(var ue=0;ue<j.length;++ue){if(j.length<2)return 1;if(j[ue][0]===$)return j[ue][1];if(j[ue][0]>$&&ue>0){var ae=(j[ue][0]-$)/(j[ue][0]-j[ue-1][0]);return j[ue][1]*(1-ae)+ae*j[ue-1][1]}}return 1}var B=[0,0,0],W={showSurface:!1,showContour:!1,projections:[b.slice(),b.slice(),b.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function ee($,j){var ue,ae,ce,ye=j.axes&&j.axes.lastCubeProps.axis||B,Ce=j.showSurface,Ae=j.showContour;for(ue=0;ue<3;++ue)for(Ce=Ce||j.surfaceProject[ue],ae=0;ae<3;++ae)Ae=Ae||j.contourProject[ue][ae];for(ue=0;ue<3;++ue){var Ie=W.projections[ue];for(ae=0;ae<16;++ae)Ie[ae]=0;for(ae=0;ae<4;++ae)Ie[5*ae]=1;Ie[5*ue]=0,Ie[12+ue]=j.axesBounds[+(ye[ue]>0)][ue],i(Ie,$.model,Ie);var Te=W.clipBounds[ue];for(ce=0;ce<2;++ce)for(ae=0;ae<3;++ae)Te[ce][ae]=$.clipBounds[ce][ae];Te[0][ue]=-1e8,Te[1][ue]=1e8}return W.showSurface=Ce,W.showContour=Ae,W}var ne={model:b,view:b,projection:b,inverseModel:b.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},Q=b.slice(),le=[1,0,0,0,1,0,0,0,1];function Z($,j){$=$||{};var ue=this.gl;ue.disable(ue.CULL_FACE),this._colorMap.bind(0);var ae=ne;ae.model=$.model||b,ae.view=$.view||b,ae.projection=$.projection||b,ae.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ae.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ae.objectOffset=this.objectOffset,ae.contourColor=this.contourColor[0],ae.inverseModel=d(ae.inverseModel,ae.model);for(var ce=0;ce<2;++ce)for(var ye=ae.clipBounds[ce],Ce=0;Ce<3;++Ce)ye[Ce]=Math.min(Math.max(this.clipBounds[ce][Ce],-1e8),1e8);ae.kambient=this.ambientLight,ae.kdiffuse=this.diffuseLight,ae.kspecular=this.specularLight,ae.roughness=this.roughness,ae.fresnel=this.fresnel,ae.opacity=this.opacity,ae.height=0,ae.permutation=le,ae.vertexColor=this.vertexColor;var Ae=Q;for(i(Ae,ae.view,ae.model),i(Ae,ae.projection,Ae),d(Ae,Ae),ce=0;ce<3;++ce)ae.eyePosition[ce]=Ae[12+ce]/Ae[15];var Ie=Ae[15];for(ce=0;ce<3;++ce)Ie+=this.lightPosition[ce]*Ae[4*ce+3];for(ce=0;ce<3;++ce){var Te=Ae[12+ce];for(Ce=0;Ce<3;++Ce)Te+=Ae[4*Ce+ce]*this.lightPosition[Ce];ae.lightPosition[ce]=Te/Ie}var Le=ee(ae,this);if(Le.showSurface){for(this._shader.bind(),this._shader.uniforms=ae,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ue.TRIANGLES,this._vertexCount),ce=0;ce<3;++ce)!this.surfaceProject[ce]||!this.vertexCount||(this._shader.uniforms.model=Le.projections[ce],this._shader.uniforms.clipBounds=Le.clipBounds[ce],this._vao.draw(ue.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Le.showContour){var xe=this._contourShader;ae.kambient=1,ae.kdiffuse=0,ae.kspecular=0,ae.opacity=1,xe.bind(),xe.uniforms=ae;var Re=this._contourVAO;for(Re.bind(),ce=0;ce<3;++ce)for(xe.uniforms.permutation=D[ce],ue.lineWidth(this.contourWidth[ce]*this.pixelRatio),Ce=0;Ce<this.contourLevels[ce].length;++Ce)Ce===this.highlightLevel[ce]?(xe.uniforms.contourColor=this.highlightColor[ce],xe.uniforms.contourTint=this.highlightTint[ce]):(Ce===0||Ce-1===this.highlightLevel[ce])&&(xe.uniforms.contourColor=this.contourColor[ce],xe.uniforms.contourTint=this.contourTint[ce]),this._contourCounts[ce][Ce]&&(xe.uniforms.height=this.contourLevels[ce][Ce],Re.draw(ue.LINES,this._contourCounts[ce][Ce],this._contourOffsets[ce][Ce]));for(ce=0;ce<3;++ce)for(xe.uniforms.model=Le.projections[ce],xe.uniforms.clipBounds=Le.clipBounds[ce],Ce=0;Ce<3;++Ce)if(this.contourProject[ce][Ce]){xe.uniforms.permutation=D[Ce],ue.lineWidth(this.contourWidth[Ce]*this.pixelRatio);for(var He=0;He<this.contourLevels[Ce].length;++He)He===this.highlightLevel[Ce]?(xe.uniforms.contourColor=this.highlightColor[Ce],xe.uniforms.contourTint=this.highlightTint[Ce]):(He===0||He-1===this.highlightLevel[Ce])&&(xe.uniforms.contourColor=this.contourColor[Ce],xe.uniforms.contourTint=this.contourTint[Ce]),this._contourCounts[Ce][He]&&(xe.uniforms.height=this.contourLevels[Ce][He],Re.draw(ue.LINES,this._contourCounts[Ce][He],this._contourOffsets[Ce][He]))}for(Re.unbind(),Re=this._dynamicVAO,Re.bind(),ce=0;ce<3;++ce)if(this._dynamicCounts[ce]!==0)for(xe.uniforms.model=ae.model,xe.uniforms.clipBounds=ae.clipBounds,xe.uniforms.permutation=D[ce],ue.lineWidth(this.dynamicWidth[ce]*this.pixelRatio),xe.uniforms.contourColor=this.dynamicColor[ce],xe.uniforms.contourTint=this.dynamicTint[ce],xe.uniforms.height=this.dynamicLevel[ce],Re.draw(ue.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]),Ce=0;Ce<3;++Ce)this.contourProject[Ce][ce]&&(xe.uniforms.model=Le.projections[Ce],xe.uniforms.clipBounds=Le.clipBounds[Ce],Re.draw(ue.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]));Re.unbind()}}F.draw=function($){return Z.call(this,$,!1)},F.drawTransparent=function($){return Z.call(this,$,!0)};var Y={model:b,view:b,projection:b,inverseModel:b,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};F.drawPick=function($){$=$||{};var j=this.gl;j.disable(j.CULL_FACE);var ue=Y;ue.model=$.model||b,ue.view=$.view||b,ue.projection=$.projection||b,ue.shape=this._field[2].shape,ue.pickId=this.pickId/255,ue.lowerBound=this.bounds[0],ue.upperBound=this.bounds[1],ue.objectOffset=this.objectOffset,ue.permutation=le;for(var ae=0;ae<2;++ae)for(var ce=ue.clipBounds[ae],ye=0;ye<3;++ye)ce[ye]=Math.min(Math.max(this.clipBounds[ae][ye],-1e8),1e8);var Ce=ee(ue,this);if(Ce.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ue,this._vao.bind(),this._vao.draw(j.TRIANGLES,this._vertexCount),ae=0;ae<3;++ae)this.surfaceProject[ae]&&(this._pickShader.uniforms.model=Ce.projections[ae],this._pickShader.uniforms.clipBounds=Ce.clipBounds[ae],this._vao.draw(j.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ce.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=ue;var Ie=this._contourVAO;for(Ie.bind(),ye=0;ye<3;++ye)for(j.lineWidth(this.contourWidth[ye]*this.pixelRatio),Ae.uniforms.permutation=D[ye],ae=0;ae<this.contourLevels[ye].length;++ae)this._contourCounts[ye][ae]&&(Ae.uniforms.height=this.contourLevels[ye][ae],Ie.draw(j.LINES,this._contourCounts[ye][ae],this._contourOffsets[ye][ae]));for(ae=0;ae<3;++ae)for(Ae.uniforms.model=Ce.projections[ae],Ae.uniforms.clipBounds=Ce.clipBounds[ae],ye=0;ye<3;++ye)if(this.contourProject[ae][ye]){Ae.uniforms.permutation=D[ye],j.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var Te=0;Te<this.contourLevels[ye].length;++Te)this._contourCounts[ye][Te]&&(Ae.uniforms.height=this.contourLevels[ye][Te],Ie.draw(j.LINES,this._contourCounts[ye][Te],this._contourOffsets[ye][Te]))}Ie.unbind()}},F.pick=function($){if(!$||$.id!==this.pickId)return null;var j=this._field[2].shape,ue=this._pickResult,ae=j[0]*($.value[0]+($.value[2]>>4)/16)/255,ce=Math.floor(ae),ye=ae-ce,Ce=j[1]*($.value[1]+($.value[2]&15)/16)/255,Ae=Math.floor(Ce),Ie=Ce-Ae;ce+=1,Ae+=1;var Te=ue.position;Te[0]=Te[1]=Te[2]=0;for(var Le=0;Le<2;++Le)for(var xe=Le?ye:1-ye,Re=0;Re<2;++Re)for(var He=Re?Ie:1-Ie,Ve=ce+Le,Fe=Ae+Re,We=xe*He,ut=0;ut<3;++ut)Te[ut]+=this._field[ut].get(Ve,Fe)*We;for(var ht=this._pickResult.level,rt=0;rt<3;++rt)if(ht[rt]=x.le(this.contourLevels[rt],Te[rt]),ht[rt]<0)this.contourLevels[rt].length>0&&(ht[rt]=0);else if(ht[rt]<this.contourLevels[rt].length-1){var tt=this.contourLevels[rt][ht[rt]],vt=this.contourLevels[rt][ht[rt]+1];Math.abs(tt-Te[rt])>Math.abs(vt-Te[rt])&&(ht[rt]+=1)}for(ue.index[0]=ye<.5?ce:ce+1,ue.index[1]=Ie<.5?Ae:Ae+1,ue.uv[0]=ae/j[0],ue.uv[1]=Ce/j[1],ut=0;ut<3;++ut)ue.dataCoordinate[ut]=this._field[ut].get(ue.index[0],ue.index[1]);return ue},F.padField=function($,j){var ue=j.shape.slice(),ae=$.shape.slice();m.assign($.lo(1,1).hi(ue[0],ue[1]),j),m.assign($.lo(1).hi(ue[0],1),j.hi(ue[0],1)),m.assign($.lo(1,ae[1]-1).hi(ue[0],1),j.lo(0,ue[1]-1).hi(ue[0],1)),m.assign($.lo(0,1).hi(1,ue[1]),j.hi(1)),m.assign($.lo(ae[0]-1,1).hi(1,ue[1]),j.lo(ue[0]-1)),$.set(0,0,j.get(0,0)),$.set(0,ae[1]-1,j.get(0,ue[1]-1)),$.set(ae[0]-1,0,j.get(ue[0]-1,0)),$.set(ae[0]-1,ae[1]-1,j.get(ue[0]-1,ue[1]-1))};function re($,j){return Array.isArray($)?[j($[0]),j($[1]),j($[2])]:[j($),j($),j($)]}function X($){return Array.isArray($)?$.length===3?[$[0],$[1],$[2],1]:[$[0],$[1],$[2],$[3]]:[0,0,0,1]}function q($){if(Array.isArray($)){if(Array.isArray($))return[X($[0]),X($[1]),X($[2])];var j=X($);return[j.slice(),j.slice(),j.slice()]}}F.update=function($){$=$||{},this.objectOffset=$.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in $&&(this.contourWidth=re($.contourWidth,Number)),"showContour"in $&&(this.showContour=re($.showContour,Boolean)),"showSurface"in $&&(this.showSurface=!!$.showSurface),"contourTint"in $&&(this.contourTint=re($.contourTint,Boolean)),"contourColor"in $&&(this.contourColor=q($.contourColor)),"contourProject"in $&&(this.contourProject=re($.contourProject,function(Nt){return re(Nt,Boolean)})),"surfaceProject"in $&&(this.surfaceProject=$.surfaceProject),"dynamicColor"in $&&(this.dynamicColor=q($.dynamicColor)),"dynamicTint"in $&&(this.dynamicTint=re($.dynamicTint,Number)),"dynamicWidth"in $&&(this.dynamicWidth=re($.dynamicWidth,Number)),"opacity"in $&&(this.opacity=$.opacity),"opacityscale"in $&&(this.opacityscale=$.opacityscale),"colorBounds"in $&&(this.colorBounds=$.colorBounds),"vertexColor"in $&&(this.vertexColor=$.vertexColor?1:0),"colormap"in $&&this._colorMap.setPixels(this.genColormap($.colormap,this.opacityscale));var j=$.field||$.coords&&$.coords[2]||null,ue=!1;if(j||(this._field[2].shape[0]||this._field[2].shape[2]?j=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):j=this._field[2].hi(0,0)),"field"in $||"coords"in $){var ae=(j.shape[0]+2)*(j.shape[1]+2);ae>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(ae))),this._field[2]=M(this._field[2].data,[j.shape[0]+2,j.shape[1]+2]),this.padField(this._field[2],j),this.shape=j.shape.slice();for(var ce=this.shape,ye=0;ye<2;++ye)this._field[2].size>this._field[ye].data.length&&(u.freeFloat(this._field[ye].data),this._field[ye].data=u.mallocFloat(this._field[2].size)),this._field[ye]=M(this._field[ye].data,[ce[0]+2,ce[1]+2]);if($.coords){var Ce=$.coords;if(!Array.isArray(Ce)||Ce.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ye=0;ye<2;++ye){var Ae=Ce[ye];for(Re=0;Re<2;++Re)if(Ae.shape[Re]!==ce[Re])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ye],Ae)}}else if($.ticks){var Ie=$.ticks;if(!Array.isArray(Ie)||Ie.length!==2)throw new Error("gl-surface: invalid ticks");for(ye=0;ye<2;++ye){var Te=Ie[ye];if((Array.isArray(Te)||Te.length)&&(Te=M(Te)),Te.shape[0]!==ce[ye])throw new Error("gl-surface: invalid tick length");var Le=M(Te.data,ce);Le.stride[ye]=Te.stride[0],Le.stride[ye^1]=0,this.padField(this._field[ye],Le)}}else{for(ye=0;ye<2;++ye){var xe=[0,0];xe[ye]=1,this._field[ye]=M(this._field[ye].data,[ce[0]+2,ce[1]+2],xe,0)}this._field[0].set(0,0,0);for(var Re=0;Re<ce[0];++Re)this._field[0].set(Re+1,0,Re);for(this._field[0].set(ce[0]+1,0,ce[0]-1),this._field[1].set(0,0,0),Re=0;Re<ce[1];++Re)this._field[1].set(0,Re+1,Re);this._field[1].set(0,ce[1]+1,ce[1]-1)}var He=this._field,Ve=M(u.mallocFloat(He[2].size*3*2),[3,ce[0]+2,ce[1]+2,2]);for(ye=0;ye<3;++ye)A(Ve.pick(ye),He[ye],"mirror");var Fe=M(u.mallocFloat(He[2].size*3),[ce[0]+2,ce[1]+2,3]);for(ye=0;ye<ce[0]+2;++ye)for(Re=0;Re<ce[1]+2;++Re){var We=Ve.get(0,ye,Re,0),ut=Ve.get(0,ye,Re,1),ht=Ve.get(1,ye,Re,0),rt=Ve.get(1,ye,Re,1),tt=Ve.get(2,ye,Re,0),vt=Ve.get(2,ye,Re,1),pt=ht*vt-rt*tt,mt=tt*ut-vt*We,wt=We*rt-ut*ht,Lt=Math.sqrt(pt*pt+mt*mt+wt*wt);Lt<1e-8?(Lt=Math.max(Math.abs(pt),Math.abs(mt),Math.abs(wt)),Lt<1e-8?(wt=1,mt=pt=0,Lt=1):Lt=1/Lt):Lt=1/Math.sqrt(Lt),Fe.set(ye,Re,0,pt*Lt),Fe.set(ye,Re,1,mt*Lt),Fe.set(ye,Re,2,wt*Lt)}u.free(Ve.data);var at=[1/0,1/0,1/0],Oe=[-1/0,-1/0,-1/0],Ze=1/0,Je=-1/0,Ye=(ce[0]-1)*(ce[1]-1)*6,ke=u.mallocFloat(t.nextPow2(10*Ye)),be=0,me=0;for(ye=0;ye<ce[0]-1;++ye)e:for(Re=0;Re<ce[1]-1;++Re){for(var _e=0;_e<2;++_e)for(var Ee=0;Ee<2;++Ee)for(var Be=0;Be<3;++Be){var je=this._field[Be].get(1+ye+_e,1+Re+Ee);if(isNaN(je)||!isFinite(je))continue e}for(Be=0;Be<6;++Be){var nt=ye+I[Be][0],dt=Re+I[Be][1],xt=this._field[0].get(nt+1,dt+1),Kt=this._field[1].get(nt+1,dt+1);je=this._field[2].get(nt+1,dt+1),pt=Fe.get(nt+1,dt+1,0),mt=Fe.get(nt+1,dt+1,1),wt=Fe.get(nt+1,dt+1,2),$.intensity&&(Jt=$.intensity.get(nt,dt));var Jt=$.intensity?$.intensity.get(nt,dt):je+this.objectOffset[2];ke[be++]=nt,ke[be++]=dt,ke[be++]=xt,ke[be++]=Kt,ke[be++]=je,ke[be++]=0,ke[be++]=Jt,ke[be++]=pt,ke[be++]=mt,ke[be++]=wt,at[0]=Math.min(at[0],xt+this.objectOffset[0]),at[1]=Math.min(at[1],Kt+this.objectOffset[1]),at[2]=Math.min(at[2],je+this.objectOffset[2]),Ze=Math.min(Ze,Jt),Oe[0]=Math.max(Oe[0],xt+this.objectOffset[0]),Oe[1]=Math.max(Oe[1],Kt+this.objectOffset[1]),Oe[2]=Math.max(Oe[2],je+this.objectOffset[2]),Je=Math.max(Je,Jt),me+=1}}for($.intensityBounds&&(Ze=+$.intensityBounds[0],Je=+$.intensityBounds[1]),ye=6;ye<be;ye+=10)ke[ye]=(ke[ye]-Ze)/(Je-Ze);this._vertexCount=me,this._coordinateBuffer.update(ke.subarray(0,be)),u.freeFloat(ke),u.free(Fe.data),this.bounds=[at,Oe],this.intensity=$.intensity||this._field[2],(this.intensityBounds[0]!==Ze||this.intensityBounds[1]!==Je)&&(ue=!0),this.intensityBounds=[Ze,Je]}if("levels"in $){var St=$.levels;for(Array.isArray(St[0])?St=St.slice():St=[[],[],St],ye=0;ye<3;++ye)St[ye]=St[ye].slice(),St[ye].sort(function(Nt,Qt){return Nt-Qt});for(ye=0;ye<3;++ye)for(Re=0;Re<St[ye].length;++Re)St[ye][Re]-=this.objectOffset[ye];e:for(ye=0;ye<3;++ye){if(St[ye].length!==this.contourLevels[ye].length){ue=!0;break}for(Re=0;Re<St[ye].length;++Re)if(St[ye][Re]!==this.contourLevels[ye][Re]){ue=!0;break e}}this.contourLevels=St}if(ue){He=this._field,ce=this.shape;for(var Ft=[],rr=0;rr<3;++rr){var _r=this.contourLevels[rr],Tt=[],$t=[],tr=[0,0,0];for(ye=0;ye<_r.length;++ye){var Tr=c(this._field[rr],_r[ye]);Tt.push(Ft.length/5|0),me=0;e:for(Re=0;Re<Tr.cells.length;++Re){var cr=Tr.cells[Re];for(Be=0;Be<2;++Be){var bt=Tr.positions[cr[Be]],lt=bt[0],Mt=Math.floor(lt)|0,_t=lt-Mt,Ot=bt[1],It=Math.floor(Ot)|0,Wt=Ot-It,Gt=!1;t:for(var er=0;er<3;++er){tr[er]=0;var dr=(rr+er+1)%3;for(_e=0;_e<2;++_e){var pr=_e?_t:1-_t;for(nt=Math.min(Math.max(Mt+_e,0),ce[0])|0,Ee=0;Ee<2;++Ee){var mr=Ee?Wt:1-Wt;if(dt=Math.min(Math.max(It+Ee,0),ce[1])|0,er<2?je=this._field[dr].get(nt,dt):je=(this.intensity.get(nt,dt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(je)||isNaN(je)){Gt=!0;break t}var Xe=pr*mr;tr[er]+=Xe*je}}}if(!Gt)Ft.push(tr[0],tr[1],bt[0],bt[1],tr[2]),me+=1;else{if(Be>0){for(var Ge=0;Ge<5;++Ge)Ft.pop();me-=1}continue e}}}$t.push(me)}this._contourOffsets[rr]=Tt,this._contourCounts[rr]=$t}var Ut=u.mallocFloat(Ft.length);for(ye=0;ye<Ft.length;++ye)Ut[ye]=Ft[ye];this._contourBuffer.update(Ut),u.freeFloat(Ut)}},F.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var $=0;$<3;++$)u.freeFloat(this._field[$].data)},F.highlight=function($){var j;if(!$){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(j=0;j<3;++j)this.enableHighlight[j]?this.highlightLevel[j]=$.level[j]:this.highlightLevel[j]=-1;var ue;for(this.snapToData?ue=$.dataCoordinate:ue=$.position,j=0;j<3;++j)ue[j]-=this.objectOffset[j];if(!((!this.enableDynamic[0]||ue[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ue[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ue[2]===this.dynamicLevel[2]))){for(var ae=0,ce=this.shape,ye=u.mallocFloat(12*ce[0]*ce[1]),Ce=0;Ce<3;++Ce){if(!this.enableDynamic[Ce]){this.dynamicLevel[Ce]=NaN,this._dynamicCounts[Ce]=0;continue}this.dynamicLevel[Ce]=ue[Ce];var Ae=(Ce+1)%3,Ie=(Ce+2)%3,Te=this._field[Ce],Le=this._field[Ae],xe=this._field[Ie],Re=c(Te,ue[Ce]),He=Re.cells,Ve=Re.positions;for(this._dynamicOffsets[Ce]=ae,j=0;j<He.length;++j)for(var Fe=He[j],We=0;We<2;++We){var ut=Ve[Fe[We]],ht=+ut[0],rt=ht|0,tt=Math.min(rt+1,ce[0])|0,vt=ht-rt,pt=1-vt,mt=+ut[1],wt=mt|0,Lt=Math.min(wt+1,ce[1])|0,at=mt-wt,Oe=1-at,Ze=pt*Oe,Je=pt*at,Ye=vt*Oe,ke=vt*at,be=Ze*Le.get(rt,wt)+Je*Le.get(rt,Lt)+Ye*Le.get(tt,wt)+ke*Le.get(tt,Lt),me=Ze*xe.get(rt,wt)+Je*xe.get(rt,Lt)+Ye*xe.get(tt,wt)+ke*xe.get(tt,Lt);if(isNaN(be)||isNaN(me)){We&&(ae-=1);break}ye[2*ae+0]=be,ye[2*ae+1]=me,ae+=1}this._dynamicCounts[Ce]=ae-this._dynamicOffsets[Ce]}this._dynamicBuffer.update(ye.subarray(0,2*ae)),u.freeFloat(ye)}};function se($){var j=$.gl,ue=y(j),ae=w(j),ce=S(j),ye=o(j),Ce=s(j),Ae=a(j,[{buffer:Ce,size:4,stride:_,offset:0},{buffer:Ce,size:3,stride:_,offset:16},{buffer:Ce,size:3,stride:_,offset:28}]),Ie=s(j),Te=a(j,[{buffer:Ie,size:4,stride:20,offset:0},{buffer:Ie,size:1,stride:20,offset:16}]),Le=s(j),xe=a(j,[{buffer:Le,size:2,type:j.FLOAT}]),Re=f(j,1,k,j.RGBA,j.UNSIGNED_BYTE);Re.minFilter=j.LINEAR,Re.magFilter=j.LINEAR;var He=new z(j,[0,0],[[0,0,0],[0,0,0]],ue,ae,Ce,Ae,Re,ce,ye,Ie,Te,Le,xe,[0,0,0]),Ve={levels:[[],[],[]]};for(var Fe in $)Ve[Fe]=$[Fe];return Ve.colormap=Ve.colormap||"jet",He.update(Ve),He}},8931:function(v,g,r){var t=r(5050),s=r(7498),a=r(5306);v.exports=o;var f=null,u=null,l=null;function m(_){f=[_.LINEAR,_.NEAREST_MIPMAP_LINEAR,_.LINEAR_MIPMAP_NEAREST,_.LINEAR_MIPMAP_NEAREST],u=[_.NEAREST,_.LINEAR,_.NEAREST_MIPMAP_NEAREST,_.NEAREST_MIPMAP_LINEAR,_.LINEAR_MIPMAP_NEAREST,_.LINEAR_MIPMAP_LINEAR],l=[_.REPEAT,_.CLAMP_TO_EDGE,_.MIRRORED_REPEAT]}function h(_){return typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&_ instanceof HTMLVideoElement||typeof ImageData<"u"&&_ instanceof ImageData}var M=function(_,b){s.muls(_,b,255)};function c(_,b,I){var D=_.gl,N=D.getParameter(D.MAX_TEXTURE_SIZE);if(b<0||b>N||I<0||I>N)throw new Error("gl-texture2d: Invalid texture size");return _._shape=[b,I],_.bind(),D.texImage2D(D.TEXTURE_2D,0,_.format,b,I,0,_.format,_.type,null),_._mipLevels=[0],_}function i(_,b,I,D,N,k){this.gl=_,this.handle=b,this.format=N,this.type=k,this._shape=[I,D],this._mipLevels=[0],this._magFilter=_.NEAREST,this._minFilter=_.NEAREST,this._wrapS=_.CLAMP_TO_EDGE,this._wrapT=_.CLAMP_TO_EDGE,this._anisoSamples=1;var z=this,F=[this._wrapS,this._wrapT];Object.defineProperties(F,[{get:function(){return z._wrapS},set:function(B){return z.wrapS=B}},{get:function(){return z._wrapT},set:function(B){return z.wrapT=B}}]),this._wrapVector=F;var O=[this._shape[0],this._shape[1]];Object.defineProperties(O,[{get:function(){return z._shape[0]},set:function(B){return z.width=B}},{get:function(){return z._shape[1]},set:function(B){return z.height=B}}]),this._shapeVector=O}var d=i.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(_){this.bind();var b=this.gl;if(this.type===b.FLOAT&&f.indexOf(_)>=0&&(b.getExtension("OES_texture_float_linear")||(_=b.NEAREST)),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,_),this._minFilter=_}},magFilter:{get:function(){return this._magFilter},set:function(_){this.bind();var b=this.gl;if(this.type===b.FLOAT&&f.indexOf(_)>=0&&(b.getExtension("OES_texture_float_linear")||(_=b.NEAREST)),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,_),this._magFilter=_}},mipSamples:{get:function(){return this._anisoSamples},set:function(_){var b=this._anisoSamples;if(this._anisoSamples=Math.max(_,1)|0,b!==this._anisoSamples){var I=this.gl.getExtension("EXT_texture_filter_anisotropic");I&&this.gl.texParameterf(this.gl.TEXTURE_2D,I.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(_){if(this.bind(),l.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,_),this._wrapS=_}},wrapT:{get:function(){return this._wrapT},set:function(_){if(this.bind(),l.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,_),this._wrapT=_}},wrap:{get:function(){return this._wrapVector},set:function(_){if(Array.isArray(_)||(_=[_,_]),_.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;b<2;++b)if(l.indexOf(_[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);this._wrapS=_[0],this._wrapT=_[1];var I=this.gl;return this.bind(),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,this._wrapS),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,this._wrapT),_}},shape:{get:function(){return this._shapeVector},set:function(_){if(!Array.isArray(_))_=[_|0,_|0];else if(_.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,_[0]|0,_[1]|0),[_[0]|0,_[1]|0]}},width:{get:function(){return this._shape[0]},set:function(_){return _=_|0,c(this,_,this._shape[1]),_}},height:{get:function(){return this._shape[1]},set:function(_){return _=_|0,c(this,this._shape[0],_),_}}}),d.bind=function(_){var b=this.gl;return _!==void 0&&b.activeTexture(b.TEXTURE0+(_|0)),b.bindTexture(b.TEXTURE_2D,this.handle),_!==void 0?_|0:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var _=Math.min(this._shape[0],this._shape[1]),b=0;_>0;++b,_>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},d.setPixels=function(_,b,I,D){var N=this.gl;this.bind(),Array.isArray(b)?(D=I,I=b[1]|0,b=b[0]|0):(b=b||0,I=I||0),D=D||0;var k=h(_)?_:_.raw;if(k){var z=this._mipLevels.indexOf(D)<0;z?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,k),this._mipLevels.push(D)):N.texSubImage2D(N.TEXTURE_2D,D,b,I,this.format,this.type,k)}else if(_.shape&&_.stride&&_.data){if(_.shape.length<2||b+_.shape[1]>this._shape[1]>>>D||I+_.shape[0]>this._shape[0]>>>D||b<0||I<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");A(N,b,I,D,this.format,this.type,this._mipLevels,_)}else throw new Error("gl-texture2d: Unsupported data type")};function x(_,b){return _.length===3?b[2]===1&&b[1]===_[0]*_[2]&&b[0]===_[2]:b[0]===1&&b[1]===_[0]}function A(_,b,I,D,N,k,z,F){var O=F.dtype,B=F.shape.slice();if(B.length<2||B.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var W=0,ee=0,ne=x(B,F.stride.slice());if(O==="float32"?W=_.FLOAT:O==="float64"?(W=_.FLOAT,ne=!1,O="float32"):O==="uint8"?W=_.UNSIGNED_BYTE:(W=_.UNSIGNED_BYTE,ne=!1,O="uint8"),B.length===2)ee=_.LUMINANCE,B=[B[0],B[1],1],F=t(F.data,B,[F.stride[0],F.stride[1],1],F.offset);else if(B.length===3){if(B[2]===1)ee=_.ALPHA;else if(B[2]===2)ee=_.LUMINANCE_ALPHA;else if(B[2]===3)ee=_.RGB;else if(B[2]===4)ee=_.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");B[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((ee===_.LUMINANCE||ee===_.ALPHA)&&(N===_.LUMINANCE||N===_.ALPHA)&&(ee=N),ee!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var Q=F.size,le=z.indexOf(D)<0;if(le&&z.push(D),W===k&&ne)F.offset===0&&F.data.length===Q?le?_.texImage2D(_.TEXTURE_2D,D,N,B[0],B[1],0,N,k,F.data):_.texSubImage2D(_.TEXTURE_2D,D,b,I,B[0],B[1],N,k,F.data):le?_.texImage2D(_.TEXTURE_2D,D,N,B[0],B[1],0,N,k,F.data.subarray(F.offset,F.offset+Q)):_.texSubImage2D(_.TEXTURE_2D,D,b,I,B[0],B[1],N,k,F.data.subarray(F.offset,F.offset+Q));else{var Z;k===_.FLOAT?Z=a.mallocFloat32(Q):Z=a.mallocUint8(Q);var Y=t(Z,B,[B[2],B[2]*B[0],1]);W===_.FLOAT&&k===_.UNSIGNED_BYTE?M(Y,F):s.assign(Y,F),le?_.texImage2D(_.TEXTURE_2D,D,N,B[0],B[1],0,N,k,Z.subarray(0,Q)):_.texSubImage2D(_.TEXTURE_2D,D,b,I,B[0],B[1],N,k,Z.subarray(0,Q)),k===_.FLOAT?a.freeFloat32(Z):a.freeUint8(Z)}}function E(_){var b=_.createTexture();return _.bindTexture(_.TEXTURE_2D,b),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),b}function y(_,b,I,D,N){var k=_.getParameter(_.MAX_TEXTURE_SIZE);if(b<0||b>k||I<0||I>k)throw new Error("gl-texture2d: Invalid texture shape");if(N===_.FLOAT&&!_.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var z=E(_);return _.texImage2D(_.TEXTURE_2D,0,D,b,I,0,D,N,null),new i(_,z,b,I,D,N)}function S(_,b,I,D,N,k){var z=E(_);return _.texImage2D(_.TEXTURE_2D,0,N,N,k,b),new i(_,z,I,D,N,k)}function w(_,b){var I=b.dtype,D=b.shape.slice(),N=_.getParameter(_.MAX_TEXTURE_SIZE);if(D[0]<0||D[0]>N||D[1]<0||D[1]>N)throw new Error("gl-texture2d: Invalid texture size");var k=x(D,b.stride.slice()),z=0;I==="float32"?z=_.FLOAT:I==="float64"?(z=_.FLOAT,k=!1,I="float32"):I==="uint8"?z=_.UNSIGNED_BYTE:(z=_.UNSIGNED_BYTE,k=!1,I="uint8");var F=0;if(D.length===2)F=_.LUMINANCE,D=[D[0],D[1],1],b=t(b.data,D,[b.stride[0],b.stride[1],1],b.offset);else if(D.length===3)if(D[2]===1)F=_.ALPHA;else if(D[2]===2)F=_.LUMINANCE_ALPHA;else if(D[2]===3)F=_.RGB;else if(D[2]===4)F=_.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");z===_.FLOAT&&!_.getExtension("OES_texture_float")&&(z=_.UNSIGNED_BYTE,k=!1);var O,B,W=b.size;if(k)b.offset===0&&b.data.length===W?O=b.data:O=b.data.subarray(b.offset,b.offset+W);else{var ee=[D[2],D[2]*D[0],1];B=a.malloc(W,I);var ne=t(B,D,ee,0);(I==="float32"||I==="float64")&&z===_.UNSIGNED_BYTE?M(ne,b):s.assign(ne,b),O=B.subarray(0,W)}var Q=E(_);return _.texImage2D(_.TEXTURE_2D,0,F,D[0],D[1],0,F,z,O),k||a.free(B),new i(_,Q,D[0],D[1],F,z)}function o(_){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||m(_),typeof arguments[1]=="number")return y(_,arguments[1],arguments[2],arguments[3]||_.RGBA,arguments[4]||_.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return y(_,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var b=arguments[1],I=h(b)?b:b.raw;if(I)return S(_,I,b.width|0,b.height|0,arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return w(_,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function g(r,t,s){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var a=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(s){if(s.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<s.length;++f){var u=s[f];if(u.buffer){var l=u.buffer,m=u.size||4,h=u.type||r.FLOAT,M=!!u.normalized,c=u.stride||0,i=u.offset||0;l.bind(),r.enableVertexAttribArray(f),r.vertexAttribPointer(f,m,h,M,c,i)}else{if(typeof u=="number")r.vertexAttrib1f(f,u);else if(u.length===1)r.vertexAttrib1f(f,u[0]);else if(u.length===2)r.vertexAttrib2f(f,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(f,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(f,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(f)}}for(;f<a;++f)r.disableVertexAttribArray(f)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var f=0;f<a;++f)r.disableVertexAttribArray(f)}}v.exports=g},7220:function(v,g,r){var t=r(3056);function s(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}s.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},s.prototype.update=function(f,u,l){this._elements=u,this._attributes=f,this._elementsType=l||this.gl.UNSIGNED_SHORT},s.prototype.dispose=function(){},s.prototype.unbind=function(){},s.prototype.draw=function(f,u,l){l=l||0;var m=this.gl;this._elements?m.drawElements(f,u,this._elementsType,l):m.drawArrays(f,l,u)};function a(f){return new s(f)}v.exports=a},3778:function(v,g,r){var t=r(3056);function s(u,l,m,h,M,c){this.location=u,this.dimension=l,this.a=m,this.b=h,this.c=M,this.d=c}s.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function a(u,l,m){this.gl=u,this._ext=l,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(u,l,m){if(this.bind(),t(this.gl,l,u),this.unbind(),this._attribs.length=0,u)for(var h=0;h<u.length;++h){var M=u[h];typeof M=="number"?this._attribs.push(new s(h,1,M)):Array.isArray(M)&&this._attribs.push(new s(h,M.length,M[0],M[1],M[2],M[3]))}this._useElements=!!l,this._elementsType=m||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(u,l,m){m=m||0;var h=this.gl;this._useElements?h.drawElements(u,l,this._elementsType,m):h.drawArrays(u,m,l)};function f(u,l){return new a(u,l,l.createVertexArrayOES())}v.exports=f},2944:function(v,g,r){var t=r(3778),s=r(7220);function a(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function f(u,l,m,h){var M=u.createVertexArray?new a(u):u.getExtension("OES_vertex_array_object"),c;return M?c=t(u,M):c=s(u),c.update(l,m,h),c}v.exports=f},2598:function(v){v.exports=g;function g(r,t,s){return r[0]=t[0]+s[0],r[1]=t[1]+s[1],r[2]=t[2]+s[2],r}},5879:function(v,g,r){v.exports=f;var t=r(5415),s=r(899),a=r(9305);function f(u,l){var m=t(u[0],u[1],u[2]),h=t(l[0],l[1],l[2]);s(m,m),s(h,h);var M=a(m,h);return M>1?0:Math.acos(M)}},8827:function(v){v.exports=g;function g(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},7622:function(v){v.exports=g;function g(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8782:function(v){v.exports=g;function g(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8501:function(v){v.exports=g;function g(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(v){v.exports=g;function g(r,t,s){var a=t[0],f=t[1],u=t[2],l=s[0],m=s[1],h=s[2];return r[0]=f*h-u*m,r[1]=u*l-a*h,r[2]=a*m-f*l,r}},5981:function(v,g,r){v.exports=r(8288)},8288:function(v){v.exports=g;function g(r,t){var s=t[0]-r[0],a=t[1]-r[1],f=t[2]-r[2];return Math.sqrt(s*s+a*a+f*f)}},8629:function(v,g,r){v.exports=r(7979)},7979:function(v){v.exports=g;function g(r,t,s){return r[0]=t[0]/s[0],r[1]=t[1]/s[1],r[2]=t[2]/s[2],r}},9305:function(v){v.exports=g;function g(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},154:function(v){v.exports=1e-6},4932:function(v,g,r){v.exports=s;var t=r(154);function s(a,f){var u=a[0],l=a[1],m=a[2],h=f[0],M=f[1],c=f[2];return Math.abs(u-h)<=t*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(l-M)<=t*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(m-c)<=t*Math.max(1,Math.abs(m),Math.abs(c))}},5777:function(v){v.exports=g;function g(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},3306:function(v){v.exports=g;function g(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},7447:function(v,g,r){v.exports=s;var t=r(8501)();function s(a,f,u,l,m,h){var M,c;for(f||(f=3),u||(u=0),l?c=Math.min(l*f+u,a.length):c=a.length,M=u;M<c;M+=f)t[0]=a[M],t[1]=a[M+1],t[2]=a[M+2],m(t,t,h),a[M]=t[0],a[M+1]=t[1],a[M+2]=t[2];return a}},5415:function(v){v.exports=g;function g(r,t,s){var a=new Float32Array(3);return a[0]=r,a[1]=t,a[2]=s,a}},2858:function(v,g,r){v.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(v){v.exports=g;function g(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},1468:function(v,g,r){v.exports=r(4693)},4693:function(v){v.exports=g;function g(r){var t=r[0],s=r[1],a=r[2];return Math.sqrt(t*t+s*s+a*a)}},1868:function(v){v.exports=g;function g(r,t,s,a){var f=t[0],u=t[1],l=t[2];return r[0]=f+a*(s[0]-f),r[1]=u+a*(s[1]-u),r[2]=l+a*(s[2]-l),r}},1716:function(v){v.exports=g;function g(r,t,s){return r[0]=Math.max(t[0],s[0]),r[1]=Math.max(t[1],s[1]),r[2]=Math.max(t[2],s[2]),r}},3605:function(v){v.exports=g;function g(r,t,s){return r[0]=Math.min(t[0],s[0]),r[1]=Math.min(t[1],s[1]),r[2]=Math.min(t[2],s[2]),r}},5733:function(v,g,r){v.exports=r(105)},105:function(v){v.exports=g;function g(r,t,s){return r[0]=t[0]*s[0],r[1]=t[1]*s[1],r[2]=t[2]*s[2],r}},435:function(v){v.exports=g;function g(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},899:function(v){v.exports=g;function g(r,t){var s=t[0],a=t[1],f=t[2],u=s*s+a*a+f*f;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},6660:function(v){v.exports=g;function g(r,t){t=t||1;var s=Math.random()*2*Math.PI,a=Math.random()*2-1,f=Math.sqrt(1-a*a)*t;return r[0]=Math.cos(s)*f,r[1]=Math.sin(s)*f,r[2]=a*t,r}},392:function(v){v.exports=g;function g(r,t,s,a){var f=s[1],u=s[2],l=t[1]-f,m=t[2]-u,h=Math.sin(a),M=Math.cos(a);return r[0]=t[0],r[1]=f+l*M-m*h,r[2]=u+l*h+m*M,r}},3222:function(v){v.exports=g;function g(r,t,s,a){var f=s[0],u=s[2],l=t[0]-f,m=t[2]-u,h=Math.sin(a),M=Math.cos(a);return r[0]=f+m*h+l*M,r[1]=t[1],r[2]=u+m*M-l*h,r}},3388:function(v){v.exports=g;function g(r,t,s,a){var f=s[0],u=s[1],l=t[0]-f,m=t[1]-u,h=Math.sin(a),M=Math.cos(a);return r[0]=f+l*M-m*h,r[1]=u+l*h+m*M,r[2]=t[2],r}},1624:function(v){v.exports=g;function g(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},5685:function(v){v.exports=g;function g(r,t,s){return r[0]=t[0]*s,r[1]=t[1]*s,r[2]=t[2]*s,r}},6722:function(v){v.exports=g;function g(r,t,s,a){return r[0]=t[0]+s[0]*a,r[1]=t[1]+s[1]*a,r[2]=t[2]+s[2]*a,r}},831:function(v){v.exports=g;function g(r,t,s,a){return r[0]=t,r[1]=s,r[2]=a,r}},5294:function(v,g,r){v.exports=r(6403)},3303:function(v,g,r){v.exports=r(4337)},6403:function(v){v.exports=g;function g(r,t){var s=t[0]-r[0],a=t[1]-r[1],f=t[2]-r[2];return s*s+a*a+f*f}},4337:function(v){v.exports=g;function g(r){var t=r[0],s=r[1],a=r[2];return t*t+s*s+a*a}},8921:function(v,g,r){v.exports=r(911)},911:function(v){v.exports=g;function g(r,t,s){return r[0]=t[0]-s[0],r[1]=t[1]-s[1],r[2]=t[2]-s[2],r}},9908:function(v){v.exports=g;function g(r,t,s){var a=t[0],f=t[1],u=t[2];return r[0]=a*s[0]+f*s[3]+u*s[6],r[1]=a*s[1]+f*s[4]+u*s[7],r[2]=a*s[2]+f*s[5]+u*s[8],r}},3255:function(v){v.exports=g;function g(r,t,s){var a=t[0],f=t[1],u=t[2],l=s[3]*a+s[7]*f+s[11]*u+s[15];return l=l||1,r[0]=(s[0]*a+s[4]*f+s[8]*u+s[12])/l,r[1]=(s[1]*a+s[5]*f+s[9]*u+s[13])/l,r[2]=(s[2]*a+s[6]*f+s[10]*u+s[14])/l,r}},6568:function(v){v.exports=g;function g(r,t,s){var a=t[0],f=t[1],u=t[2],l=s[0],m=s[1],h=s[2],M=s[3],c=M*a+m*u-h*f,i=M*f+h*a-l*u,d=M*u+l*f-m*a,x=-l*a-m*f-h*u;return r[0]=c*M+x*-l+i*-h-d*-m,r[1]=i*M+x*-m+d*-l-c*-h,r[2]=d*M+x*-h+c*-m-i*-l,r}},3433:function(v){v.exports=g;function g(r,t,s){return r[0]=t[0]+s[0],r[1]=t[1]+s[1],r[2]=t[2]+s[2],r[3]=t[3]+s[3],r}},1413:function(v){v.exports=g;function g(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},3470:function(v){v.exports=g;function g(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},5313:function(v){v.exports=g;function g(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(v){v.exports=g;function g(r,t){var s=t[0]-r[0],a=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(s*s+a*a+f*f+u*u)}},205:function(v){v.exports=g;function g(r,t,s){return r[0]=t[0]/s[0],r[1]=t[1]/s[1],r[2]=t[2]/s[2],r[3]=t[3]/s[3],r}},4242:function(v){v.exports=g;function g(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},5680:function(v){v.exports=g;function g(r,t,s,a){var f=new Float32Array(4);return f[0]=r,f[1]=t,f[2]=s,f[3]=a,f}},4020:function(v,g,r){v.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(v){v.exports=g;function g(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},8177:function(v){v.exports=g;function g(r){var t=r[0],s=r[1],a=r[2],f=r[3];return Math.sqrt(t*t+s*s+a*a+f*f)}},8746:function(v){v.exports=g;function g(r,t,s,a){var f=t[0],u=t[1],l=t[2],m=t[3];return r[0]=f+a*(s[0]-f),r[1]=u+a*(s[1]-u),r[2]=l+a*(s[2]-l),r[3]=m+a*(s[3]-m),r}},3030:function(v){v.exports=g;function g(r,t,s){return r[0]=Math.max(t[0],s[0]),r[1]=Math.max(t[1],s[1]),r[2]=Math.max(t[2],s[2]),r[3]=Math.max(t[3],s[3]),r}},2170:function(v){v.exports=g;function g(r,t,s){return r[0]=Math.min(t[0],s[0]),r[1]=Math.min(t[1],s[1]),r[2]=Math.min(t[2],s[2]),r[3]=Math.min(t[3],s[3]),r}},746:function(v){v.exports=g;function g(r,t,s){return r[0]=t[0]*s[0],r[1]=t[1]*s[1],r[2]=t[2]*s[2],r[3]=t[3]*s[3],r}},6459:function(v){v.exports=g;function g(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},381:function(v){v.exports=g;function g(r,t){var s=t[0],a=t[1],f=t[2],u=t[3],l=s*s+a*a+f*f+u*u;return l>0&&(l=1/Math.sqrt(l),r[0]=s*l,r[1]=a*l,r[2]=f*l,r[3]=u*l),r}},3770:function(v,g,r){var t=r(381),s=r(5510);v.exports=a;function a(f,u){return u=u||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),t(f,f),s(f,f,u),f}},5510:function(v){v.exports=g;function g(r,t,s){return r[0]=t[0]*s,r[1]=t[1]*s,r[2]=t[2]*s,r[3]=t[3]*s,r}},4224:function(v){v.exports=g;function g(r,t,s,a){return r[0]=t[0]+s[0]*a,r[1]=t[1]+s[1]*a,r[2]=t[2]+s[2]*a,r[3]=t[3]+s[3]*a,r}},6453:function(v){v.exports=g;function g(r,t,s,a,f){return r[0]=t,r[1]=s,r[2]=a,r[3]=f,r}},1542:function(v){v.exports=g;function g(r,t){var s=t[0]-r[0],a=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return s*s+a*a+f*f+u*u}},9037:function(v){v.exports=g;function g(r){var t=r[0],s=r[1],a=r[2],f=r[3];return t*t+s*s+a*a+f*f}},2705:function(v){v.exports=g;function g(r,t,s){return r[0]=t[0]-s[0],r[1]=t[1]-s[1],r[2]=t[2]-s[2],r[3]=t[3]-s[3],r}},6342:function(v){v.exports=g;function g(r,t,s){var a=t[0],f=t[1],u=t[2],l=t[3];return r[0]=s[0]*a+s[4]*f+s[8]*u+s[12]*l,r[1]=s[1]*a+s[5]*f+s[9]*u+s[13]*l,r[2]=s[2]*a+s[6]*f+s[10]*u+s[14]*l,r[3]=s[3]*a+s[7]*f+s[11]*u+s[15]*l,r}},5022:function(v){v.exports=g;function g(r,t,s){var a=t[0],f=t[1],u=t[2],l=s[0],m=s[1],h=s[2],M=s[3],c=M*a+m*u-h*f,i=M*f+h*a-l*u,d=M*u+l*f-m*a,x=-l*a-m*f-h*u;return r[0]=c*M+x*-l+i*-h-d*-m,r[1]=i*M+x*-m+d*-l-c*-h,r[2]=d*M+x*-h+c*-m-i*-l,r[3]=t[3],r}},9365:function(v,g,r){var t=r(8096),s=r(7896);v.exports=a;function a(f){for(var u=Array.isArray(f)?f:t(f),l=0;l<u.length;l++){var m=u[l];if(m.type==="preprocessor"){var h=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var M=h[1],c=h[2];return(M?s(c):c).trim()}}}}},3193:function(v,g,r){v.exports=b;var t=r(399),s=r(9746),a=r(9525),f=r(9458),u=r(3585),l=999,m=9999,h=0,M=1,c=2,i=3,d=4,x=5,A=6,E=7,y=8,S=9,w=10,o=11,_=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function b(I){var D=0,N=0,k=l,z,F,O=[],B=[],W=1,ee=0,ne=0,Q=!1,le=!1,Z="",Y;I=I||{};var re=a,X=t;I.version==="300 es"&&(re=u,X=f);for(var q={},se={},D=0;D<re.length;D++)q[re[D]]=!0;for(var D=0;D<X.length;D++)se[X[D]]=!0;return function(Ve){return B=[],Ve!==null?j(Ve):ue()};function $(Ve){Ve.length&&B.push({type:_[k],data:Ve,position:ne,line:W,column:ee})}function j(Ve){D=0,Ve.toString&&(Ve=Ve.toString()),Z+=Ve.replace(/\r\n/g,`
`),Y=Z.length;for(var Fe;z=Z[D],D<Y;){switch(Fe=D,k){case h:D=Ae();break;case M:D=Ce();break;case c:D=ye();break;case i:D=Ie();break;case d:D=xe();break;case o:D=Le();break;case x:D=Re();break;case m:D=He();break;case S:D=ce();break;case l:D=ae();break}if(Fe!==D)switch(Z[Fe]){case`
`:ee=0,++W;break;default:++ee;break}}return N+=D,Z=Z.slice(D),B}function ue(Ve){return O.length&&$(O.join("")),k=w,$("(eof)"),B}function ae(){return O=O.length?[]:O,F==="/"&&z==="*"?(ne=N+D-1,k=h,F=z,D+1):F==="/"&&z==="/"?(ne=N+D-1,k=M,F=z,D+1):z==="#"?(k=c,ne=N+D,D):/\s/.test(z)?(k=S,ne=N+D,D):(Q=/\d/.test(z),le=/[^\w_]/.test(z),ne=N+D,k=Q?d:le?i:m,D)}function ce(){return/[^\s]/g.test(z)?($(O.join("")),k=l,D):(O.push(z),F=z,D+1)}function ye(){return(z==="\r"||z===`
`)&&F!=="\\"?($(O.join("")),k=l,D):(O.push(z),F=z,D+1)}function Ce(){return ye()}function Ae(){return z==="/"&&F==="*"?(O.push(z),$(O.join("")),k=l,D+1):(O.push(z),F=z,D+1)}function Ie(){if(F==="."&&/\d/.test(z))return k=x,D;if(F==="/"&&z==="*")return k=h,D;if(F==="/"&&z==="/")return k=M,D;if(z==="."&&O.length){for(;Te(O););return k=x,D}if(z===";"||z===")"||z==="("){if(O.length)for(;Te(O););return $(z),k=l,D+1}var Ve=O.length===2&&z!=="=";if(/[\w_\d\s]/.test(z)||Ve){for(;Te(O););return k=l,D}return O.push(z),F=z,D+1}function Te(Ve){var Fe=0,We,ut;do{if(We=s.indexOf(Ve.slice(0,Ve.length+Fe).join("")),ut=s[We],We===-1){if(Fe--+Ve.length>0)continue;ut=Ve.slice(0,1).join("")}return $(ut),ne+=ut.length,O=O.slice(ut.length),O.length}while(!0)}function Le(){return/[^a-fA-F0-9]/.test(z)?($(O.join("")),k=l,D):(O.push(z),F=z,D+1)}function xe(){return z==="."||/[eE]/.test(z)?(O.push(z),k=x,F=z,D+1):z==="x"&&O.length===1&&O[0]==="0"?(k=o,O.push(z),F=z,D+1):/[^\d]/.test(z)?($(O.join("")),k=l,D):(O.push(z),F=z,D+1)}function Re(){return z==="f"&&(O.push(z),F=z,D+=1),/[eE]/.test(z)||(z==="-"||z==="+")&&/[eE]/.test(F)?(O.push(z),F=z,D+1):/[^\d]/.test(z)?($(O.join("")),k=l,D):(O.push(z),F=z,D+1)}function He(){if(/[^\d\w_]/.test(z)){var Ve=O.join("");return se[Ve]?k=y:q[Ve]?k=E:k=A,$(O.join("")),k=l,D}return O.push(z),F=z,D+1}}},3585:function(v,g,r){var t=r(9525);t=t.slice().filter(function(s){return!/^(gl\_|texture)/.test(s)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,g,r){var t=r(399);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,g,r){var t=r(3193);v.exports=s;function s(a,f){var u=t(f),l=[];return l=l.concat(u(a)),l=l.concat(u(null)),l}},6832:function(v){v.exports=function(g){typeof g=="string"&&(g=[g]);for(var r=[].slice.call(arguments,1),t=[],s=0;s<g.length-1;s++)t.push(g[s],r[s]||"");return t.push(g[s]),t.join("")}},5233:function(v,g,r){var t=r(4846);function s(){var a=!1;try{var f=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{a=!1}return a}v.exports=t&&s()},2183:function(v,g,r){v.exports=i;var t=r(417),s=r(8211).H;function a(d,x,A){this.vertices=d,this.adjacent=x,this.boundary=A,this.lastVisited=-1}a.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var x=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=x};function f(d,x,A){this.vertices=d,this.cell=x,this.index=A}function u(d,x){return s(d.vertices,x.vertices)}function l(d){return function(){var x=this.tuple;return d.apply(this,x)}}function m(d){var x=t[d+1];return x||(x=t),l(x)}var h=[];function M(d,x,A){this.dimension=d,this.vertices=x,this.simplices=A,this.interior=A.filter(function(S){return!S.boundary}),this.tuple=new Array(d+1);for(var E=0;E<=d;++E)this.tuple[E]=this.vertices[E];var y=h[d];y||(y=h[d]=m(d)),this.orient=y}var c=M.prototype;c.handleBoundaryDegeneracy=function(d,x){var A=this.dimension,E=this.vertices.length-1,y=this.tuple,S=this.vertices,w=[d];for(d.lastVisited=-E;w.length>0;){d=w.pop();for(var o=d.adjacent,_=0;_<=A;++_){var b=o[_];if(!(!b.boundary||b.lastVisited<=-E)){for(var I=b.vertices,D=0;D<=A;++D){var N=I[D];N<0?y[D]=x:y[D]=S[N]}var k=this.orient();if(k>0)return b;b.lastVisited=-E,k===0&&w.push(b)}}}return null},c.walk=function(d,x){var A=this.vertices.length-1,E=this.dimension,y=this.vertices,S=this.tuple,w=x?this.interior.length*Math.random()|0:this.interior.length-1,o=this.interior[w];e:for(;!o.boundary;){for(var _=o.vertices,b=o.adjacent,I=0;I<=E;++I)S[I]=y[_[I]];o.lastVisited=A;for(var I=0;I<=E;++I){var D=b[I];if(!(D.lastVisited>=A)){var N=S[I];S[I]=d;var k=this.orient();if(S[I]=N,k<0){o=D;continue e}else D.boundary?D.lastVisited=-A:D.lastVisited=A}}return}return o},c.addPeaks=function(d,x){var A=this.vertices.length-1,E=this.dimension,y=this.vertices,S=this.tuple,w=this.interior,o=this.simplices,_=[x];x.lastVisited=A,x.vertices[x.vertices.indexOf(-1)]=A,x.boundary=!1,w.push(x);for(var b=[];_.length>0;){var x=_.pop(),I=x.vertices,D=x.adjacent,N=I.indexOf(A);if(!(N<0)){for(var k=0;k<=E;++k)if(k!==N){var z=D[k];if(!(!z.boundary||z.lastVisited>=A)){var F=z.vertices;if(z.lastVisited!==-A){for(var O=0,B=0;B<=E;++B)F[B]<0?(O=B,S[B]=d):S[B]=y[F[B]];var W=this.orient();if(W>0){F[O]=A,z.boundary=!1,w.push(z),_.push(z),z.lastVisited=A;continue}else z.lastVisited=-A}var ee=z.adjacent,ne=I.slice(),Q=D.slice(),le=new a(ne,Q,!0);o.push(le);var Z=ee.indexOf(x);if(!(Z<0)){ee[Z]=le,Q[N]=z,ne[k]=-1,Q[k]=x,D[k]=le,le.flip();for(var B=0;B<=E;++B){var Y=ne[B];if(!(Y<0||Y===A)){for(var re=new Array(E-1),X=0,q=0;q<=E;++q){var se=ne[q];se<0||q===B||(re[X++]=se)}b.push(new f(re,le,B))}}}}}}}b.sort(u);for(var k=0;k+1<b.length;k+=2){var $=b[k],j=b[k+1],ue=$.index,ae=j.index;ue<0||ae<0||($.cell.adjacent[$.index]=j.cell,j.cell.adjacent[j.index]=$.cell)}},c.insert=function(d,x){var A=this.vertices;A.push(d);var E=this.walk(d,x);if(E){for(var y=this.dimension,S=this.tuple,w=0;w<=y;++w){var o=E.vertices[w];o<0?S[w]=d:S[w]=A[o]}var _=this.orient(S);_<0||_===0&&(E=this.handleBoundaryDegeneracy(E,d),!E)||this.addPeaks(d,E)}},c.boundary=function(){for(var d=this.dimension,x=[],A=this.simplices,E=A.length,y=0;y<E;++y){var S=A[y];if(S.boundary){for(var w=new Array(d),o=S.vertices,_=0,b=0,I=0;I<=d;++I)o[I]>=0?w[_++]=o[I]:b=I&1;if(b===(d&1)){var D=w[0];w[0]=w[1],w[1]=D}x.push(w)}}return x};function i(d,x){var A=d.length;if(A===0)throw new Error("Must have at least d+1 points");var E=d[0].length;if(A<=E)throw new Error("Must input at least d+1 points");var y=d.slice(0,E+1),S=t.apply(void 0,y);if(S===0)throw new Error("Input not in general position");for(var w=new Array(E+1),o=0;o<=E;++o)w[o]=o;S<0&&(w[0]=1,w[1]=0);for(var _=new a(w,new Array(E+1),!1),b=_.adjacent,I=new Array(E+2),o=0;o<=E;++o){for(var D=w.slice(),N=0;N<=E;++N)N===o&&(D[N]=-1);var k=D[0];D[0]=D[1],D[1]=k;var z=new a(D,new Array(E+1),!0);b[o]=z,I[o]=z}I[E+1]=_;for(var o=0;o<=E;++o)for(var D=b[o].vertices,F=b[o].adjacent,N=0;N<=E;++N){var O=D[N];if(O<0){F[N]=_;continue}for(var B=0;B<=E;++B)b[B].vertices.indexOf(O)<0&&(F[N]=b[B])}for(var W=new M(E,y,I),ee=!!x,o=E+1;o<A;++o)W.insert(d[o],ee);return W.boundary()}},9014:function(v,g,r){var t=r(5070),s=0,a=1,f=2;v.exports=_;function u(b,I,D,N,k){this.mid=b,this.left=I,this.right=D,this.leftPoints=N,this.rightPoints=k,this.count=(I?I.count:0)+(D?D.count:0)+N.length}var l=u.prototype;function m(b,I){b.mid=I.mid,b.left=I.left,b.right=I.right,b.leftPoints=I.leftPoints,b.rightPoints=I.rightPoints,b.count=I.count}function h(b,I){var D=S(I);b.mid=D.mid,b.left=D.left,b.right=D.right,b.leftPoints=D.leftPoints,b.rightPoints=D.rightPoints,b.count=D.count}function M(b,I){var D=b.intervals([]);D.push(I),h(b,D)}function c(b,I){var D=b.intervals([]),N=D.indexOf(I);return N<0?s:(D.splice(N,1),h(b,D),a)}l.intervals=function(b){return b.push.apply(b,this.leftPoints),this.left&&this.left.intervals(b),this.right&&this.right.intervals(b),b},l.insert=function(b){var I=this.count-this.leftPoints.length;if(this.count+=1,b[1]<this.mid)this.left?4*(this.left.count+1)>3*(I+1)?M(this,b):this.left.insert(b):this.left=S([b]);else if(b[0]>this.mid)this.right?4*(this.right.count+1)>3*(I+1)?M(this,b):this.right.insert(b):this.right=S([b]);else{var D=t.ge(this.leftPoints,b,E),N=t.ge(this.rightPoints,b,y);this.leftPoints.splice(D,0,b),this.rightPoints.splice(N,0,b)}},l.remove=function(b){var I=this.count-this.leftPoints;if(b[1]<this.mid){if(!this.left)return s;var D=this.right?this.right.count:0;if(4*D>3*(I-1))return c(this,b);var N=this.left.remove(b);return N===f?(this.left=null,this.count-=1,a):(N===a&&(this.count-=1),N)}else if(b[0]>this.mid){if(!this.right)return s;var k=this.left?this.left.count:0;if(4*k>3*(I-1))return c(this,b);var N=this.right.remove(b);return N===f?(this.right=null,this.count-=1,a):(N===a&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===b?f:s;if(this.leftPoints.length===1&&this.leftPoints[0]===b){if(this.left&&this.right){for(var z=this,F=this.left;F.right;)z=F,F=F.right;if(z===this)F.right=this.right;else{var O=this.left,N=this.right;z.count-=F.count,z.right=F.left,F.left=O,F.right=N}m(this,F),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return a}for(var O=t.ge(this.leftPoints,b,E);O<this.leftPoints.length&&this.leftPoints[O][0]===b[0];++O)if(this.leftPoints[O]===b){this.count-=1,this.leftPoints.splice(O,1);for(var N=t.ge(this.rightPoints,b,y);N<this.rightPoints.length&&this.rightPoints[N][1]===b[1];++N)if(this.rightPoints[N]===b)return this.rightPoints.splice(N,1),a}return s}};function i(b,I,D){for(var N=0;N<b.length&&b[N][0]<=I;++N){var k=D(b[N]);if(k)return k}}function d(b,I,D){for(var N=b.length-1;N>=0&&b[N][1]>=I;--N){var k=D(b[N]);if(k)return k}}function x(b,I){for(var D=0;D<b.length;++D){var N=I(b[D]);if(N)return N}}l.queryPoint=function(b,I){if(b<this.mid){if(this.left){var D=this.left.queryPoint(b,I);if(D)return D}return i(this.leftPoints,b,I)}else if(b>this.mid){if(this.right){var D=this.right.queryPoint(b,I);if(D)return D}return d(this.rightPoints,b,I)}else return x(this.leftPoints,I)},l.queryInterval=function(b,I,D){if(b<this.mid&&this.left){var N=this.left.queryInterval(b,I,D);if(N)return N}if(I>this.mid&&this.right){var N=this.right.queryInterval(b,I,D);if(N)return N}return I<this.mid?i(this.leftPoints,I,D):b>this.mid?d(this.rightPoints,b,D):x(this.leftPoints,D)};function A(b,I){return b-I}function E(b,I){var D=b[0]-I[0];return D||b[1]-I[1]}function y(b,I){var D=b[1]-I[1];return D||b[0]-I[0]}function S(b){if(b.length===0)return null;for(var I=[],D=0;D<b.length;++D)I.push(b[D][0],b[D][1]);I.sort(A);for(var N=I[I.length>>1],k=[],z=[],F=[],D=0;D<b.length;++D){var O=b[D];O[1]<N?k.push(O):N<O[0]?z.push(O):F.push(O)}var B=F,W=F.slice();return B.sort(E),W.sort(y),new u(N,S(k),S(z),B,W)}function w(b){this.root=b}var o=w.prototype;o.insert=function(b){this.root?this.root.insert(b):this.root=new u(b[0],null,null,[b],[b])},o.remove=function(b){if(this.root){var I=this.root.remove(b);return I===f&&(this.root=null),I!==s}return!1},o.queryPoint=function(b,I){if(this.root)return this.root.queryPoint(b,I)},o.queryInterval=function(b,I,D){if(b<=I&&this.root)return this.root.queryInterval(b,I,D)},Object.defineProperty(o,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(o,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function _(b){return!b||b.length===0?new w(null):new w(S(b))}},9560:function(v){function g(r){for(var t=new Array(r),s=0;s<r;++s)t[s]=s;return t}v.exports=g},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(g(t)||r(t)||!!t._isBuffer)};function g(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&g(t.slice(0,0))}},3596:function(v){v.exports=function(g){for(var r=g.length,t,s=0;s<r;s++)if(t=g.charCodeAt(s),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(v){function g(r,t,s){return r*(1-s)+t*s}v.exports=g},7191:function(v,g,r){var t=r(4690),s=r(9823),a=r(7332),f=r(7787),u=r(7437),l=r(2142),m={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},h=s(),M=s(),c=[0,0,0,0],i=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(S,w,o,_,b,I){if(w||(w=[0,0,0]),o||(o=[0,0,0]),_||(_=[0,0,0]),b||(b=[0,0,0,1]),I||(I=[0,0,0,1]),!t(h,S)||(a(M,h),M[3]=0,M[7]=0,M[11]=0,M[15]=1,Math.abs(f(M)<1e-8)))return!1;var D=h[3],N=h[7],k=h[11],z=h[12],F=h[13],O=h[14],B=h[15];if(D!==0||N!==0||k!==0){c[0]=D,c[1]=N,c[2]=k,c[3]=B;var W=u(M,M);if(!W)return!1;l(M,M),x(b,c,M)}else b[0]=b[1]=b[2]=0,b[3]=1;if(w[0]=z,w[1]=F,w[2]=O,A(i,h),o[0]=m.length(i[0]),m.normalize(i[0],i[0]),_[0]=m.dot(i[0],i[1]),E(i[1],i[1],i[0],1,-_[0]),o[1]=m.length(i[1]),m.normalize(i[1],i[1]),_[0]/=o[1],_[1]=m.dot(i[0],i[2]),E(i[2],i[2],i[0],1,-_[1]),_[2]=m.dot(i[1],i[2]),E(i[2],i[2],i[1],1,-_[2]),o[2]=m.length(i[2]),m.normalize(i[2],i[2]),_[1]/=o[2],_[2]/=o[2],m.cross(d,i[1],i[2]),m.dot(i[0],d)<0)for(var ee=0;ee<3;ee++)o[ee]*=-1,i[ee][0]*=-1,i[ee][1]*=-1,i[ee][2]*=-1;return I[0]=.5*Math.sqrt(Math.max(1+i[0][0]-i[1][1]-i[2][2],0)),I[1]=.5*Math.sqrt(Math.max(1-i[0][0]+i[1][1]-i[2][2],0)),I[2]=.5*Math.sqrt(Math.max(1-i[0][0]-i[1][1]+i[2][2],0)),I[3]=.5*Math.sqrt(Math.max(1+i[0][0]+i[1][1]+i[2][2],0)),i[2][1]>i[1][2]&&(I[0]=-I[0]),i[0][2]>i[2][0]&&(I[1]=-I[1]),i[1][0]>i[0][1]&&(I[2]=-I[2]),!0};function x(y,S,w){var o=S[0],_=S[1],b=S[2],I=S[3];return y[0]=w[0]*o+w[4]*_+w[8]*b+w[12]*I,y[1]=w[1]*o+w[5]*_+w[9]*b+w[13]*I,y[2]=w[2]*o+w[6]*_+w[10]*b+w[14]*I,y[3]=w[3]*o+w[7]*_+w[11]*b+w[15]*I,y}function A(y,S){y[0][0]=S[0],y[0][1]=S[1],y[0][2]=S[2],y[1][0]=S[4],y[1][1]=S[5],y[1][2]=S[6],y[2][0]=S[8],y[2][1]=S[9],y[2][2]=S[10]}function E(y,S,w,o,_){y[0]=S[0]*o+w[0]*_,y[1]=S[1]*o+w[1]*_,y[2]=S[2]*o+w[2]*_}},4690:function(v){v.exports=function(r,t){var s=t[15];if(s===0)return!1;for(var a=1/s,f=0;f<16;f++)r[f]=t[f]*a;return!0}},7649:function(v,g,r){var t=r(1868),s=r(1102),a=r(7191),f=r(7787),u=r(1116),l=c(),m=c(),h=c();v.exports=M;function M(x,A,E,y){if(f(A)===0||f(E)===0)return!1;var S=a(A,l.translate,l.scale,l.skew,l.perspective,l.quaternion),w=a(E,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!S||!w?!1:(t(h.translate,l.translate,m.translate,y),t(h.skew,l.skew,m.skew,y),t(h.scale,l.scale,m.scale,y),t(h.perspective,l.perspective,m.perspective,y),u(h.quaternion,l.quaternion,m.quaternion,y),s(x,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:i(),scale:i(1),skew:i(),perspective:d(),quaternion:d()}}function i(x){return[x||0,x||0,x||0]}function d(){return[0,0,0,1]}},1102:function(v,g,r){var t={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)};t.create();var s=t.create();v.exports=function(f,u,l,m,h,M){return t.identity(f),t.fromRotationTranslation(f,M,u),f[3]=h[0],f[7]=h[1],f[11]=h[2],f[15]=h[3],t.identity(s),m[2]!==0&&(s[9]=m[2],t.multiply(f,f,s)),m[1]!==0&&(s[9]=0,s[8]=m[1],t.multiply(f,f,s)),m[0]!==0&&(s[8]=0,s[4]=m[0],t.multiply(f,f,s)),t.scale(f,f,l),f}},9298:function(v,g,r){var t=r(5070),s=r(7649),a=r(7437),f=r(6109),u=r(7115),l=r(5240),m=r(3012),h=r(998);r(3668);var M=r(899),c=[0,0,0];v.exports=A;function i(E){this._components=E.slice(),this._time=[0],this.prevMatrix=E.slice(),this.nextMatrix=E.slice(),this.computedMatrix=E.slice(),this.computedInverse=E.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=i.prototype;d.recalcMatrix=function(E){var y=this._time,S=t.le(y,E),w=this.computedMatrix;if(!(S<0)){var o=this._components;if(S===y.length-1)for(var _=16*S,b=0;b<16;++b)w[b]=o[_++];else{for(var I=y[S+1]-y[S],_=16*S,D=this.prevMatrix,N=!0,b=0;b<16;++b)D[b]=o[_++];for(var k=this.nextMatrix,b=0;b<16;++b)k[b]=o[_++],N=N&&D[b]===k[b];if(I<1e-6||N)for(var b=0;b<16;++b)w[b]=D[b];else s(w,D,k,(E-y[S])/I)}var z=this.computedUp;z[0]=w[1],z[1]=w[5],z[2]=w[9],M(z,z);var F=this.computedInverse;a(F,w);var O=this.computedEye,B=F[15];O[0]=F[12]/B,O[1]=F[13]/B,O[2]=F[14]/B;for(var W=this.computedCenter,ee=Math.exp(this.computedRadius[0]),b=0;b<3;++b)W[b]=O[b]-w[2+4*b]*ee}},d.idle=function(E){if(!(E<this.lastT())){for(var y=this._components,S=y.length-16,w=0;w<16;++w)y.push(y[S++]);this._time.push(E)}},d.flush=function(E){var y=t.gt(this._time,E)-2;y<0||(this._time.splice(0,y),this._components.splice(0,16*y))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(E,y,S,w){this.recalcMatrix(E),y=y||this.computedEye,S=S||c,w=w||this.computedUp,this.setMatrix(E,m(this.computedMatrix,y,S,w));for(var o=0,_=0;_<3;++_)o+=Math.pow(S[_]-y[_],2);o=Math.log(Math.sqrt(o)),this.computedRadius[0]=o},d.rotate=function(E,y,S,w){this.recalcMatrix(E);var o=this.computedInverse;y&&u(o,o,y),S&&f(o,o,S),w&&l(o,o,w),this.setMatrix(E,a(this.computedMatrix,o))};var x=[0,0,0];d.pan=function(E,y,S,w){x[0]=-(y||0),x[1]=-(S||0),x[2]=-(w||0),this.recalcMatrix(E);var o=this.computedInverse;h(o,o,x),this.setMatrix(E,a(o,o))},d.translate=function(E,y,S,w){x[0]=y||0,x[1]=S||0,x[2]=w||0,this.recalcMatrix(E);var o=this.computedMatrix;h(o,o,x),this.setMatrix(E,o)},d.setMatrix=function(E,y){if(!(E<this.lastT())){this._time.push(E);for(var S=0;S<16;++S)this._components.push(y[S])}},d.setDistance=function(E,y){this.computedRadius[0]=y},d.setDistanceLimits=function(E,y){var S=this._limits;S[0]=E,S[1]=y},d.getDistanceLimits=function(E){var y=this._limits;return E?(E[0]=y[0],E[1]=y[1],E):y};function A(E){E=E||{};var y=E.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new i(y)}},3266:function(v,g,r){v.exports=s;var t=r(417)[3];function s(a){var f=a.length;if(f<3){for(var d=new Array(f),u=0;u<f;++u)d[u]=u;return f===2&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:d}for(var l=new Array(f),u=0;u<f;++u)l[u]=u;l.sort(function(y,S){var w=a[y][0]-a[S][0];return w||a[y][1]-a[S][1]});for(var m=[l[0],l[1]],h=[l[0],l[1]],u=2;u<f;++u){for(var M=l[u],c=a[M],i=m.length;i>1&&t(a[m[i-2]],a[m[i-1]],c)<=0;)i-=1,m.pop();for(m.push(M),i=h.length;i>1&&t(a[h[i-2]],a[h[i-1]],c)>=0;)i-=1,h.pop();h.push(M)}for(var d=new Array(h.length+m.length-2),x=0,u=0,A=m.length;u<A;++u)d[x++]=m[u];for(var E=h.length-2;E>0;--E)d[x++]=h[E];return d}},6145:function(v,g,r){v.exports=s;var t=r(4110);function s(a,f){f||(f=a,a=window);var u=0,l=0,m=0,h={shift:!1,alt:!1,control:!1,meta:!1},M=!1;function c(b){var I=!1;return"altKey"in b&&(I=I||b.altKey!==h.alt,h.alt=!!b.altKey),"shiftKey"in b&&(I=I||b.shiftKey!==h.shift,h.shift=!!b.shiftKey),"ctrlKey"in b&&(I=I||b.ctrlKey!==h.control,h.control=!!b.ctrlKey),"metaKey"in b&&(I=I||b.metaKey!==h.meta,h.meta=!!b.metaKey),I}function i(b,I){var D=t.x(I),N=t.y(I);"buttons"in I&&(b=I.buttons|0),(b!==u||D!==l||N!==m||c(I))&&(u=b|0,l=D||0,m=N||0,f&&f(u,l,m,h))}function d(b){i(0,b)}function x(){(u||l||m||h.shift||h.alt||h.meta||h.control)&&(l=m=0,u=0,h.shift=h.alt=h.control=h.meta=!1,f&&f(0,0,0,h))}function A(b){c(b)&&f&&f(u,l,m,h)}function E(b){t.buttons(b)===0?i(0,b):i(u,b)}function y(b){i(u|t.buttons(b),b)}function S(b){i(u&~t.buttons(b),b)}function w(){M||(M=!0,a.addEventListener("mousemove",E),a.addEventListener("mousedown",y),a.addEventListener("mouseup",S),a.addEventListener("mouseleave",d),a.addEventListener("mouseenter",d),a.addEventListener("mouseout",d),a.addEventListener("mouseover",d),a.addEventListener("blur",x),a.addEventListener("keyup",A),a.addEventListener("keydown",A),a.addEventListener("keypress",A),a!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",A),window.addEventListener("keydown",A),window.addEventListener("keypress",A)))}function o(){M&&(M=!1,a.removeEventListener("mousemove",E),a.removeEventListener("mousedown",y),a.removeEventListener("mouseup",S),a.removeEventListener("mouseleave",d),a.removeEventListener("mouseenter",d),a.removeEventListener("mouseout",d),a.removeEventListener("mouseover",d),a.removeEventListener("blur",x),a.removeEventListener("keyup",A),a.removeEventListener("keydown",A),a.removeEventListener("keypress",A),a!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",A),window.removeEventListener("keydown",A),window.removeEventListener("keypress",A)))}w();var _={element:a};return Object.defineProperties(_,{enabled:{get:function(){return M},set:function(b){b?w():o()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),_}},2565:function(v){var g={left:0,top:0};v.exports=r;function r(s,a,f){a=a||s.currentTarget||s.srcElement,Array.isArray(f)||(f=[0,0]);var u=s.clientX||0,l=s.clientY||0,m=t(a);return f[0]=u-m.left,f[1]=l-m.top,f}function t(s){return s===window||s===document||s===document.body?g:s.getBoundingClientRect()}},4110:function(v,g){function r(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var u=f.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in f){var u=f.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}g.buttons=r;function t(f){return f.target||f.srcElement||window}g.element=t;function s(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var u=t(f),l=u.getBoundingClientRect();return f.clientX-l.left}return 0}g.x=s;function a(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var u=t(f),l=u.getBoundingClientRect();return f.clientY-l.top}return 0}g.y=a},6475:function(v,g,r){var t=r(14);v.exports=s;function s(a,f,u){typeof a=="function"&&(u=!!f,f=a,a=window);var l=t("ex",a),m=function(h){u&&h.preventDefault();var M=h.deltaX||0,c=h.deltaY||0,i=h.deltaZ||0,d=h.deltaMode,x=1;switch(d){case 1:x=l;break;case 2:x=window.innerHeight;break}if(M*=x,c*=x,i*=x,M||c||i)return f(M,c,i,h)};return a.addEventListener("wheel",m),m}},9284:function(v,g,r){var t=r(5306);v.exports=f;var s={"false,0,1":function(l,m,h,M,c){return function(d,x,A,E){var y=d.shape[0]|0,S=d.shape[1]|0,w=d.data,o=d.offset|0,_=d.stride[0]|0,b=d.stride[1]|0,I=o,D,N=-_|0,k=0,z=-b|0,F=0,O=-_-b|0,B=0,W=_|0,ee=b-_*y|0,ne=0,Q=0,le=0,Z=2*y|0,Y=M(Z),re=M(Z),X=0,q=0,se=-1,$=-1,j=0,ue=-y|0,ae=y|0,ce=0,ye=-y-1|0,Ce=y-1|0,Ae=0,Ie=0,Te=0;for(ne=0;ne<y;++ne)Y[X++]=h(w[I],x,A,E),I+=W;if(I+=ee,S>0){if(Q=1,Y[X++]=h(w[I],x,A,E),I+=W,y>0)for(ne=1,D=w[I],q=Y[X]=h(D,x,A,E),j=Y[X+se],ce=Y[X+ue],Ae=Y[X+ye],(q!==j||q!==ce||q!==Ae)&&(k=w[I+N],F=w[I+z],B=w[I+O],l(ne,Q,D,k,F,B,q,j,ce,Ae,x,A,E),Ie=re[X]=le++),X+=1,I+=W,ne=2;ne<y;++ne)D=w[I],q=Y[X]=h(D,x,A,E),j=Y[X+se],ce=Y[X+ue],Ae=Y[X+ye],(q!==j||q!==ce||q!==Ae)&&(k=w[I+N],F=w[I+z],B=w[I+O],l(ne,Q,D,k,F,B,q,j,ce,Ae,x,A,E),Ie=re[X]=le++,Ae!==j&&m(re[X+se],Ie,B,k,Ae,j,x,A,E)),X+=1,I+=W;for(I+=ee,X=0,Te=se,se=$,$=Te,Te=ue,ue=ae,ae=Te,Te=ye,ye=Ce,Ce=Te,Q=2;Q<S;++Q){if(Y[X++]=h(w[I],x,A,E),I+=W,y>0)for(ne=1,D=w[I],q=Y[X]=h(D,x,A,E),j=Y[X+se],ce=Y[X+ue],Ae=Y[X+ye],(q!==j||q!==ce||q!==Ae)&&(k=w[I+N],F=w[I+z],B=w[I+O],l(ne,Q,D,k,F,B,q,j,ce,Ae,x,A,E),Ie=re[X]=le++,Ae!==ce&&m(re[X+ue],Ie,F,B,ce,Ae,x,A,E)),X+=1,I+=W,ne=2;ne<y;++ne)D=w[I],q=Y[X]=h(D,x,A,E),j=Y[X+se],ce=Y[X+ue],Ae=Y[X+ye],(q!==j||q!==ce||q!==Ae)&&(k=w[I+N],F=w[I+z],B=w[I+O],l(ne,Q,D,k,F,B,q,j,ce,Ae,x,A,E),Ie=re[X]=le++,Ae!==ce&&m(re[X+ue],Ie,F,B,ce,Ae,x,A,E),Ae!==j&&m(re[X+se],Ie,B,k,Ae,j,x,A,E)),X+=1,I+=W;Q&1&&(X=0),Te=se,se=$,$=Te,Te=ue,ue=ae,ae=Te,Te=ye,ye=Ce,Ce=Te,I+=ee}}c(re),c(Y)}},"false,1,0":function(l,m,h,M,c){return function(d,x,A,E){var y=d.shape[0]|0,S=d.shape[1]|0,w=d.data,o=d.offset|0,_=d.stride[0]|0,b=d.stride[1]|0,I=o,D,N=-_|0,k=0,z=-b|0,F=0,O=-_-b|0,B=0,W=b|0,ee=_-b*S|0,ne=0,Q=0,le=0,Z=2*S|0,Y=M(Z),re=M(Z),X=0,q=0,se=-1,$=-1,j=0,ue=-S|0,ae=S|0,ce=0,ye=-S-1|0,Ce=S-1|0,Ae=0,Ie=0,Te=0;for(Q=0;Q<S;++Q)Y[X++]=h(w[I],x,A,E),I+=W;if(I+=ee,y>0){if(ne=1,Y[X++]=h(w[I],x,A,E),I+=W,S>0)for(Q=1,D=w[I],q=Y[X]=h(D,x,A,E),ce=Y[X+ue],j=Y[X+se],Ae=Y[X+ye],(q!==ce||q!==j||q!==Ae)&&(k=w[I+N],F=w[I+z],B=w[I+O],l(ne,Q,D,k,F,B,q,ce,j,Ae,x,A,E),Ie=re[X]=le++),X+=1,I+=W,Q=2;Q<S;++Q)D=w[I],q=Y[X]=h(D,x,A,E),ce=Y[X+ue],j=Y[X+se],Ae=Y[X+ye],(q!==ce||q!==j||q!==Ae)&&(k=w[I+N],F=w[I+z],B=w[I+O],l(ne,Q,D,k,F,B,q,ce,j,Ae,x,A,E),Ie=re[X]=le++,Ae!==j&&m(re[X+se],Ie,F,B,j,Ae,x,A,E)),X+=1,I+=W;for(I+=ee,X=0,Te=ue,ue=ae,ae=Te,Te=se,se=$,$=Te,Te=ye,ye=Ce,Ce=Te,ne=2;ne<y;++ne){if(Y[X++]=h(w[I],x,A,E),I+=W,S>0)for(Q=1,D=w[I],q=Y[X]=h(D,x,A,E),ce=Y[X+ue],j=Y[X+se],Ae=Y[X+ye],(q!==ce||q!==j||q!==Ae)&&(k=w[I+N],F=w[I+z],B=w[I+O],l(ne,Q,D,k,F,B,q,ce,j,Ae,x,A,E),Ie=re[X]=le++,Ae!==ce&&m(re[X+ue],Ie,B,k,Ae,ce,x,A,E)),X+=1,I+=W,Q=2;Q<S;++Q)D=w[I],q=Y[X]=h(D,x,A,E),ce=Y[X+ue],j=Y[X+se],Ae=Y[X+ye],(q!==ce||q!==j||q!==Ae)&&(k=w[I+N],F=w[I+z],B=w[I+O],l(ne,Q,D,k,F,B,q,ce,j,Ae,x,A,E),Ie=re[X]=le++,Ae!==j&&m(re[X+se],Ie,F,B,j,Ae,x,A,E),Ae!==ce&&m(re[X+ue],Ie,B,k,Ae,ce,x,A,E)),X+=1,I+=W;ne&1&&(X=0),Te=ue,ue=ae,ae=Te,Te=se,se=$,$=Te,Te=ye,ye=Ce,Ce=Te,I+=ee}}c(re),c(Y)}}};function a(u,l,m,h,M,c){var i=[c,M].join(","),d=s[i];return d(u,l,m,t.mallocUint32,t.freeUint32)}function f(u){function l(x){throw new Error("ndarray-extract-contour: "+x)}typeof u!="object"&&l("Must specify arguments");var m=u.order;Array.isArray(m)||l("Must specify order");var h=u.arrayArguments||1;h<1&&l("Must have at least one array argument");var M=u.scalarArguments||0;M<0&&l("Scalar arg count must be > 0"),typeof u.vertex!="function"&&l("Must specify vertex creation function"),typeof u.cell!="function"&&l("Must specify cell creation function"),typeof u.phase!="function"&&l("Must specify phase function");for(var c=u.getters||[],i=new Array(h),d=0;d<h;++d)c.indexOf(d)>=0?i[d]=!0:i[d]=!1;return a(u.vertex,u.cell,u.phase,M,m,i)}},9144:function(v,g,r){var t=r(3094),s={zero:function(A,E,y,S){var w=A[0],o=y[0];S|=0;var _=0,b=o;for(_=0;_<w;++_)E[S]=0,S+=b},fdTemplate1:function(A,E,y,S,w,o,_){var b=A[0],I=y[0],D=o[0],N=-1*I,k=I;S|=0,_|=0;var z=0,F=I,O=D;for(z=0;z<b;++z)w[_]=.5*(E[S+N]-E[S+k]),S+=F,_+=O},fdTemplate2:function(A,E,y,S,w,o,_,b,I,D){var N=A[0],k=A[1],z=y[0],F=y[1],O=o[0],B=o[1],W=I[0],ee=I[1],ne=-1*z,Q=z,le=-1*F,Z=F;S|=0,_|=0,D|=0;var Y=0,re=0,X=F,q=z-k*F,se=B,$=O-k*B,j=ee,ue=W-k*ee;for(re=0;re<N;++re){for(Y=0;Y<k;++Y)w[_]=.5*(E[S+ne]-E[S+Q]),b[D]=.5*(E[S+le]-E[S+Z]),S+=X,_+=se,D+=j;S+=q,_+=$,D+=ue}}},a={cdiff:function(A){var E={};return function(S,w,o){var _=S.dtype,b=S.order,I=w.dtype,D=w.order,N=o.dtype,k=o.order,z=[_,b.join(),I,D.join(),N,k.join()].join(),F=E[z];return F||(E[z]=F=A([_,b,I,D,N,k])),F(S.shape.slice(0),S.data,S.stride,S.offset|0,w.data,w.stride,w.offset|0,o.data,o.stride,o.offset|0)}},zero:function(A){var E={};return function(S){var w=S.dtype,o=S.order,_=[w,o.join()].join(),b=E[_];return b||(E[_]=b=A([w,o])),b(S.shape.slice(0),S.data,S.stride,S.offset|0)}},fdTemplate1:function(A){var E={};return function(S,w){var o=S.dtype,_=S.order,b=w.dtype,I=w.order,D=[o,_.join(),b,I.join()].join(),N=E[D];return N||(E[D]=N=A([o,_,b,I])),N(S.shape.slice(0),S.data,S.stride,S.offset|0,w.data,w.stride,w.offset|0)}},fdTemplate2:function(A){var E={};return function(S,w,o){var _=S.dtype,b=S.order,I=w.dtype,D=w.order,N=o.dtype,k=o.order,z=[_,b.join(),I,D.join(),N,k.join()].join(),F=E[z];return F||(E[z]=F=A([_,b,I,D,N,k])),F(S.shape.slice(0),S.data,S.stride,S.offset|0,w.data,w.stride,w.offset|0,o.data,o.stride,o.offset|0)}}};function f(A){var E=a[A.funcName];return E(u.bind(void 0,A))}function u(A){return s[A.funcName]}function l(A){return f({funcName:A.funcName})}var m={},h={},M=l({funcName:"cdiff"}),c=l({funcName:"zero"});function i(A){return A in m?m[A]:m[A]=l({funcName:"fdTemplate"+A})}function d(A,E,y,S){return function(w,o){var _=o.shape.slice();return _[0]>2&&_[1]>2&&S(o.pick(-1,-1).lo(1,1).hi(_[0]-2,_[1]-2),w.pick(-1,-1,0).lo(1,1).hi(_[0]-2,_[1]-2),w.pick(-1,-1,1).lo(1,1).hi(_[0]-2,_[1]-2)),_[1]>2&&(y(o.pick(0,-1).lo(1).hi(_[1]-2),w.pick(0,-1,1).lo(1).hi(_[1]-2)),E(w.pick(0,-1,0).lo(1).hi(_[1]-2))),_[1]>2&&(y(o.pick(_[0]-1,-1).lo(1).hi(_[1]-2),w.pick(_[0]-1,-1,1).lo(1).hi(_[1]-2)),E(w.pick(_[0]-1,-1,0).lo(1).hi(_[1]-2))),_[0]>2&&(y(o.pick(-1,0).lo(1).hi(_[0]-2),w.pick(-1,0,0).lo(1).hi(_[0]-2)),E(w.pick(-1,0,1).lo(1).hi(_[0]-2))),_[0]>2&&(y(o.pick(-1,_[1]-1).lo(1).hi(_[0]-2),w.pick(-1,_[1]-1,0).lo(1).hi(_[0]-2)),E(w.pick(-1,_[1]-1,1).lo(1).hi(_[0]-2))),w.set(0,0,0,0),w.set(0,0,1,0),w.set(_[0]-1,0,0,0),w.set(_[0]-1,0,1,0),w.set(0,_[1]-1,0,0),w.set(0,_[1]-1,1,0),w.set(_[0]-1,_[1]-1,0,0),w.set(_[0]-1,_[1]-1,1,0),w}}function x(A){var E=A.join(),_=h[E];if(_)return _;for(var y=A.length,S=[M,c],w=1;w<=y;++w)S.push(i(w));var o=d,_=o.apply(void 0,S);return h[E]=_,_}v.exports=function(E,y,S){if(Array.isArray(S)||(typeof S=="string"?S=t(y.dimension,S):S=t(y.dimension,"clamp")),y.size===0)return E;if(y.dimension===0)return E.set(0),E;var w=x(S);return w(E,y)}},3581:function(v){function g(f,u){var l=Math.floor(u),m=u-l,h=0<=l&&l<f.shape[0],M=0<=l+1&&l+1<f.shape[0],c=h?+f.get(l):0,i=M?+f.get(l+1):0;return(1-m)*c+m*i}function r(f,u,l){var m=Math.floor(u),h=u-m,M=0<=m&&m<f.shape[0],c=0<=m+1&&m+1<f.shape[0],i=Math.floor(l),d=l-i,x=0<=i&&i<f.shape[1],A=0<=i+1&&i+1<f.shape[1],E=M&&x?f.get(m,i):0,y=M&&A?f.get(m,i+1):0,S=c&&x?f.get(m+1,i):0,w=c&&A?f.get(m+1,i+1):0;return(1-d)*((1-h)*E+h*S)+d*((1-h)*y+h*w)}function t(f,u,l,m){var h=Math.floor(u),M=u-h,c=0<=h&&h<f.shape[0],i=0<=h+1&&h+1<f.shape[0],d=Math.floor(l),x=l-d,A=0<=d&&d<f.shape[1],E=0<=d+1&&d+1<f.shape[1],y=Math.floor(m),S=m-y,w=0<=y&&y<f.shape[2],o=0<=y+1&&y+1<f.shape[2],_=c&&A&&w?f.get(h,d,y):0,b=c&&E&&w?f.get(h,d+1,y):0,I=i&&A&&w?f.get(h+1,d,y):0,D=i&&E&&w?f.get(h+1,d+1,y):0,N=c&&A&&o?f.get(h,d,y+1):0,k=c&&E&&o?f.get(h,d+1,y+1):0,z=i&&A&&o?f.get(h+1,d,y+1):0,F=i&&E&&o?f.get(h+1,d+1,y+1):0;return(1-S)*((1-x)*((1-M)*_+M*I)+x*((1-M)*b+M*D))+S*((1-x)*((1-M)*N+M*z)+x*((1-M)*k+M*F))}function s(f){var u=f.shape.length|0,l=new Array(u),m=new Array(u),h=new Array(u),M=new Array(u),c,i;for(c=0;c<u;++c)i=+arguments[c+1],l[c]=Math.floor(i),m[c]=i-l[c],h[c]=0<=l[c]&&l[c]<f.shape[c],M[c]=0<=l[c]+1&&l[c]+1<f.shape[c];var d=0,x,A,E;e:for(c=0;c<1<<u;++c){for(A=1,E=f.offset,x=0;x<u;++x)if(c&1<<x){if(!M[x])continue e;A*=m[x],E+=f.stride[x]*(l[x]+1)}else{if(!h[x])continue e;A*=1-m[x],E+=f.stride[x]*l[x]}d+=A*f.data[E]}return d}function a(f,u,l,m){switch(f.shape.length){case 0:return 0;case 1:return g(f,u);case 2:return r(f,u,l);case 3:return t(f,u,l,m);default:return s.apply(void 0,arguments)}}v.exports=a,v.exports.d1=g,v.exports.d2=r,v.exports.d3=t},7498:function(v,g){var r={"float64,2,1,0":function(){return function(h,M,c,i,d){var x=h[0],A=h[1],E=h[2],y=c[0],S=c[1],w=c[2];i|=0;var o=0,_=0,b=0,I=w,D=S-E*w,N=y-A*S;for(b=0;b<x;++b){for(_=0;_<A;++_){for(o=0;o<E;++o)M[i]/=d,i+=I;i+=D}i+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,M,c,i,d,x,A,E){var y=h[0],S=h[1],w=h[2],o=c[0],_=c[1],b=c[2],I=x[0],D=x[1],N=x[2];i|=0,A|=0;for(var k=i,z=A,F=h[0]|0;F>0;){F<64?(y=F,F=0):(y=64,F-=64);for(var O=h[1]|0;O>0;){O<64?(S=O,O=0):(S=64,O-=64),i=k+F*o+O*_,A=z+F*I+O*D;var B=0,W=0,ee=0,ne=b,Q=o-w*b,le=_-y*o,Z=N,Y=I-w*N,re=D-y*I;for(ee=0;ee<S;++ee){for(W=0;W<y;++W){for(B=0;B<w;++B)M[i]=d[A]*E,i+=ne,A+=Z;i+=Q,A+=Y}i+=le,A+=re}}}}},"float32,1,0,float32,1,0":function(){return function(h,M,c,i,d,x,A){var E=h[0],y=h[1],S=c[0],w=c[1],o=x[0],_=x[1];i|=0,A|=0;var b=0,I=0,D=w,N=S-y*w,k=_,z=o-y*_;for(I=0;I<E;++I){for(b=0;b<y;++b)M[i]=d[A],i+=D,A+=k;i+=N,A+=z}}},"float32,1,0,float32,0,1":function(){return function(h,M,c,i,d,x,A){var E=h[0],y=h[1],S=c[0],w=c[1],o=x[0],_=x[1];i|=0,A|=0;for(var b=i,I=A,D=h[1]|0;D>0;){D<64?(y=D,D=0):(y=64,D-=64);for(var N=h[0]|0;N>0;){N<64?(E=N,N=0):(E=64,N-=64),i=b+D*w+N*S,A=I+D*_+N*o;var k=0,z=0,F=w,O=S-y*w,B=_,W=o-y*_;for(z=0;z<E;++z){for(k=0;k<y;++k)M[i]=d[A],i+=F,A+=B;i+=O,A+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,M,c,i,d,x,A){var E=h[0],y=h[1],S=h[2],w=c[0],o=c[1],_=c[2],b=x[0],I=x[1],D=x[2];i|=0,A|=0;for(var N=i,k=A,z=h[2]|0;z>0;){z<64?(S=z,z=0):(S=64,z-=64);for(var F=h[0]|0;F>0;){F<64?(E=F,F=0):(E=64,F-=64);for(var O=h[1]|0;O>0;){O<64?(y=O,O=0):(y=64,O-=64),i=N+z*_+F*w+O*o,A=k+z*D+F*b+O*I;var B=0,W=0,ee=0,ne=_,Q=w-S*_,le=o-E*w,Z=D,Y=b-S*D,re=I-E*b;for(ee=0;ee<y;++ee){for(W=0;W<E;++W){for(B=0;B<S;++B)M[i]=d[A],i+=ne,A+=Z;i+=Q,A+=Y}i+=le,A+=re}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,M,c,i,d,x,A){var E=h[0],y=h[1],S=h[2],w=c[0],o=c[1],_=c[2],b=x[0],I=x[1],D=x[2];i|=0,A|=0;var N=0,k=0,z=0,F=_,O=w-S*_,B=o-E*w,W=D,ee=b-S*D,ne=I-E*b;for(z=0;z<y;++z){for(k=0;k<E;++k){for(N=0;N<S;++N)M[i]=d[A],i+=F,A+=W;i+=O,A+=ee}i+=B,A+=ne}}}};function t(m,h){var M=h.join(","),c=r[M];return c()}var s=t,a={mul:function(m){var h={};return function(c,i,d){var x=c.dtype,A=c.order,E=i.dtype,y=i.order,S=d.dtype,w=d.order,o=[x,A.join(),E,y.join(),S,w.join()].join(),_=h[o];return _||(h[o]=_=m([x,A,E,y,S,w])),_(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d.data,d.stride,d.offset|0)}},muls:function(m){var h={};return function(c,i,d){var x=c.dtype,A=c.order,E=i.dtype,y=i.order,S=[x,A.join(),E,y.join()].join(),w=h[S];return w||(h[S]=w=m([x,A,E,y])),w(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d)}},mulseq:function(m){var h={};return function(c,i){var d=c.dtype,x=c.order,A=[d,x.join()].join(),E=h[A];return E||(h[A]=E=m([d,x])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,i)}},div:function(m){var h={};return function(c,i,d){var x=c.dtype,A=c.order,E=i.dtype,y=i.order,S=d.dtype,w=d.order,o=[x,A.join(),E,y.join(),S,w.join()].join(),_=h[o];return _||(h[o]=_=m([x,A,E,y,S,w])),_(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d.data,d.stride,d.offset|0)}},divs:function(m){var h={};return function(c,i,d){var x=c.dtype,A=c.order,E=i.dtype,y=i.order,S=[x,A.join(),E,y.join()].join(),w=h[S];return w||(h[S]=w=m([x,A,E,y])),w(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d)}},divseq:function(m){var h={};return function(c,i){var d=c.dtype,x=c.order,A=[d,x.join()].join(),E=h[A];return E||(h[A]=E=m([d,x])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,i)}},assign:function(m){var h={};return function(c,i){var d=c.dtype,x=c.order,A=i.dtype,E=i.order,y=[d,x.join(),A,E.join()].join(),S=h[y];return S||(h[y]=S=m([d,x,A,E])),S(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0)}}};function f(m){var h=a[m.funcName];return h(s.bind(void 0,m))}function u(m){return f({funcName:m.funcName})}var l={mul:"*",div:"/"};(function(){for(var m in l)g[m]=u({funcName:m}),g[m+"s"]=u({funcName:m+"s"}),g[m+"seq"]=u({funcName:m+"seq"})})(),g.assign=u({funcName:"assign"})},7382:function(v,g,r){var t=r(5050),s=r(9262);v.exports=function(f,u){for(var l=[],m=f,h=1;Array.isArray(m);)l.push(m.length),h*=m.length,m=m[0];return l.length===0?t():(u||(u=t(new Float64Array(h),l)),s(u,f),u)}},9262:function(v){function g(){return function(u,l,m,h,M){var c=u[0],i=u[1],d=u[2],x=m[0],A=m[1],E=m[2],y=[0,0,0];h|=0;var S=0,w=0,o=0,_=E,b=A-d*E,I=x-i*A;for(o=0;o<c;++o){for(w=0;w<i;++w){for(S=0;S<d;++S){{var D=M,N;for(N=0;N<y.length-1;++N)D=D[y[N]];l[h]=D[y[y.length-1]]}h+=_,++y[2]}h+=b,y[2]-=d,++y[1]}h+=I,y[1]-=i,++y[0]}}}function r(){return g()}var t=r;function s(u){var l={};return function(h,M){var c=h.dtype,i=h.order,d=[c,i.join()].join(),x=l[d];return x||(l[d]=x=u([c,i])),x(h.shape.slice(0),h.data,h.stride,h.offset|0,M)}}function a(u){return s(t.bind(void 0,u))}function f(u){return a({funcName:u.funcName})}v.exports=f({funcName:"convert"})},8139:function(v,g,r){var t=r(5306);function s(M){switch(M){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var a={"uint32,1,0":function(M,c){return function(d,x,A,E,y,S,w,o,_,b,I){var D,N,k,z=d*y+E,F,O=M(o),B,W,ee,ne;for(D=d+1;D<=x;++D){for(N=D,z+=y,k=z,B=0,W=z,F=0;F<o;++F)O[B++]=A[W],W+=_;e:for(;N-- >d;){B=0,W=k-y;t:for(F=0;F<o;++F){if(ee=A[W],ne=O[B],ee<ne)break e;if(ee>ne)break t;W+=b,B+=I}for(B=k,W=k-y,F=0;F<o;++F)A[B]=A[W],B+=_,W+=_;k-=y}for(B=k,W=0,F=0;F<o;++F)A[B]=O[W++],B+=_}c(O)}}};function f(M,c){var i=s(c),d=[c,M].join(","),x=a[d];return i?x(i[0],i[1]):x()}var u={"uint32,1,0":function(M,c,i){return function d(x,A,E,y,S,w,o,_,b,I,D){var N=(A-x+1)/6|0,k=x+N,z=A-N,F=x+A>>1,O=F-N,B=F+N,W=k,ee=O,ne=F,Q=B,le=z,Z=x+1,Y=A-1,re=!0,X,q,se,$,j,ue,ae,ce,ye,Ce=0,Ae=0,Ie=0,Te,Le,xe,Re,He,Ve,Fe,We,ut,ht,rt,tt,vt,pt,mt,wt,Lt=_,at=c(Lt),Oe=c(Lt);Le=S*W,xe=S*ee,wt=y;e:for(Te=0;Te<_;++Te){if(ae=Le+wt,ce=xe+wt,Ie=E[ae]-E[ce],Ie>0){q=W,W=ee,ee=q;break e}if(Ie<0)break e;wt+=I}Le=S*Q,xe=S*le,wt=y;e:for(Te=0;Te<_;++Te){if(ae=Le+wt,ce=xe+wt,Ie=E[ae]-E[ce],Ie>0){q=Q,Q=le,le=q;break e}if(Ie<0)break e;wt+=I}Le=S*W,xe=S*ne,wt=y;e:for(Te=0;Te<_;++Te){if(ae=Le+wt,ce=xe+wt,Ie=E[ae]-E[ce],Ie>0){q=W,W=ne,ne=q;break e}if(Ie<0)break e;wt+=I}Le=S*ee,xe=S*ne,wt=y;e:for(Te=0;Te<_;++Te){if(ae=Le+wt,ce=xe+wt,Ie=E[ae]-E[ce],Ie>0){q=ee,ee=ne,ne=q;break e}if(Ie<0)break e;wt+=I}Le=S*W,xe=S*Q,wt=y;e:for(Te=0;Te<_;++Te){if(ae=Le+wt,ce=xe+wt,Ie=E[ae]-E[ce],Ie>0){q=W,W=Q,Q=q;break e}if(Ie<0)break e;wt+=I}Le=S*ne,xe=S*Q,wt=y;e:for(Te=0;Te<_;++Te){if(ae=Le+wt,ce=xe+wt,Ie=E[ae]-E[ce],Ie>0){q=ne,ne=Q,Q=q;break e}if(Ie<0)break e;wt+=I}Le=S*ee,xe=S*le,wt=y;e:for(Te=0;Te<_;++Te){if(ae=Le+wt,ce=xe+wt,Ie=E[ae]-E[ce],Ie>0){q=ee,ee=le,le=q;break e}if(Ie<0)break e;wt+=I}Le=S*ee,xe=S*ne,wt=y;e:for(Te=0;Te<_;++Te){if(ae=Le+wt,ce=xe+wt,Ie=E[ae]-E[ce],Ie>0){q=ee,ee=ne,ne=q;break e}if(Ie<0)break e;wt+=I}Le=S*Q,xe=S*le,wt=y;e:for(Te=0;Te<_;++Te){if(ae=Le+wt,ce=xe+wt,Ie=E[ae]-E[ce],Ie>0){q=Q,Q=le,le=q;break e}if(Ie<0)break e;wt+=I}for(Le=S*W,xe=S*ee,Re=S*ne,He=S*Q,Ve=S*le,Fe=S*k,We=S*F,ut=S*z,mt=0,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,ye=Re+wt,ht=He+wt,rt=Ve+wt,tt=Fe+wt,vt=We+wt,pt=ut+wt,at[mt]=E[ce],Oe[mt]=E[ht],re=re&&at[mt]===Oe[mt],se=E[ae],$=E[ye],j=E[rt],E[tt]=se,E[vt]=$,E[pt]=j,++mt,wt+=b;for(Le=S*O,xe=S*x,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,E[ae]=E[ce],wt+=b;for(Le=S*B,xe=S*A,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,E[ae]=E[ce],wt+=b;if(re)for(ue=Z;ue<=Y;++ue){ae=y+ue*S,mt=0;e:for(Te=0;Te<_;++Te){if(Ie=E[ae]-at[mt],Ie!==0)break e;mt+=D,ae+=I}if(Ie!==0)if(Ie<0){if(ue!==Z)for(Le=S*ue,xe=S*Z,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,X=E[ae],E[ae]=E[ce],E[ce]=X,wt+=b;++Z}else for(;;){ae=y+Y*S,mt=0;e:for(Te=0;Te<_;++Te){if(Ie=E[ae]-at[mt],Ie!==0)break e;mt+=D,ae+=I}if(Ie>0)Y--;else if(Ie<0){for(Le=S*ue,xe=S*Z,Re=S*Y,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,ye=Re+wt,X=E[ae],E[ae]=E[ce],E[ce]=E[ye],E[ye]=X,wt+=b;++Z,--Y;break}else{for(Le=S*ue,xe=S*Y,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,X=E[ae],E[ae]=E[ce],E[ce]=X,wt+=b;--Y;break}}}else for(ue=Z;ue<=Y;++ue){ae=y+ue*S,mt=0;e:for(Te=0;Te<_;++Te){if(Ce=E[ae]-at[mt],Ce!==0)break e;mt+=D,ae+=I}if(Ce<0){if(ue!==Z)for(Le=S*ue,xe=S*Z,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,X=E[ae],E[ae]=E[ce],E[ce]=X,wt+=b;++Z}else{ae=y+ue*S,mt=0;e:for(Te=0;Te<_;++Te){if(Ae=E[ae]-Oe[mt],Ae!==0)break e;mt+=D,ae+=I}if(Ae>0)for(;;){ae=y+Y*S,mt=0;e:for(Te=0;Te<_;++Te){if(Ie=E[ae]-Oe[mt],Ie!==0)break e;mt+=D,ae+=I}if(Ie>0){if(--Y<ue)break;continue}else{ae=y+Y*S,mt=0;e:for(Te=0;Te<_;++Te){if(Ie=E[ae]-at[mt],Ie!==0)break e;mt+=D,ae+=I}if(Ie<0){for(Le=S*ue,xe=S*Z,Re=S*Y,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,ye=Re+wt,X=E[ae],E[ae]=E[ce],E[ce]=E[ye],E[ye]=X,wt+=b;++Z,--Y}else{for(Le=S*ue,xe=S*Y,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,X=E[ae],E[ae]=E[ce],E[ce]=X,wt+=b;--Y}break}}}}for(Le=S*x,xe=S*(Z-1),mt=0,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,E[ae]=E[ce],E[ce]=at[mt],++mt,wt+=b;for(Le=S*A,xe=S*(Y+1),mt=0,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,E[ae]=E[ce],E[ce]=Oe[mt],++mt,wt+=b;if(Z-2-x<=32?M(x,Z-2,E,y,S,w,o,_,b,I,D):d(x,Z-2,E,y,S,w,o,_,b,I,D),A-(Y+2)<=32?M(Y+2,A,E,y,S,w,o,_,b,I,D):d(Y+2,A,E,y,S,w,o,_,b,I,D),re){i(at),i(Oe);return}if(Z<k&&Y>z){e:for(;;){for(ae=y+Z*S,mt=0,wt=y,Te=0;Te<_;++Te){if(E[ae]!==at[mt])break e;++mt,ae+=b}++Z}e:for(;;){for(ae=y+Y*S,mt=0,wt=y,Te=0;Te<_;++Te){if(E[ae]!==Oe[mt])break e;++mt,ae+=b}--Y}for(ue=Z;ue<=Y;++ue){ae=y+ue*S,mt=0;e:for(Te=0;Te<_;++Te){if(Ce=E[ae]-at[mt],Ce!==0)break e;mt+=D,ae+=I}if(Ce===0){if(ue!==Z)for(Le=S*ue,xe=S*Z,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,X=E[ae],E[ae]=E[ce],E[ce]=X,wt+=b;++Z}else{ae=y+ue*S,mt=0;e:for(Te=0;Te<_;++Te){if(Ae=E[ae]-Oe[mt],Ae!==0)break e;mt+=D,ae+=I}if(Ae===0)for(;;){ae=y+Y*S,mt=0;e:for(Te=0;Te<_;++Te){if(Ie=E[ae]-Oe[mt],Ie!==0)break e;mt+=D,ae+=I}if(Ie===0){if(--Y<ue)break;continue}else{ae=y+Y*S,mt=0;e:for(Te=0;Te<_;++Te){if(Ie=E[ae]-at[mt],Ie!==0)break e;mt+=D,ae+=I}if(Ie<0){for(Le=S*ue,xe=S*Z,Re=S*Y,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,ye=Re+wt,X=E[ae],E[ae]=E[ce],E[ce]=E[ye],E[ye]=X,wt+=b;++Z,--Y}else{for(Le=S*ue,xe=S*Y,wt=y,Te=0;Te<_;++Te)ae=Le+wt,ce=xe+wt,X=E[ae],E[ae]=E[ce],E[ce]=X,wt+=b;--Y}break}}}}}i(at),i(Oe),Y-Z<=32?M(Z,Y,E,y,S,w,o,_,b,I,D):d(Z,Y,E,y,S,w,o,_,b,I,D)}}};function l(M,c,i){var d=s(c),x=[c,M].join(","),A=u[x];return M.length>1&&d?A(i,d[0],d[1]):A(i)}var m={"uint32,1,0":function(M,c){return function(i){var d=i.data,x=i.offset|0,A=i.shape,E=i.stride,y=E[0]|0,S=A[0]|0,w=E[1]|0,o=A[1]|0,_=w,b=w,I=1;S<=32?M(0,S-1,d,x,y,w,S,o,_,b,I):c(0,S-1,d,x,y,w,S,o,_,b,I)}}};function h(M,c){var i=[c,M].join(","),d=m[i],x=f(M,c),A=l(M,c,x);return d(x,A)}v.exports=h},8729:function(v,g,r){var t=r(8139),s={};function a(f){var u=f.order,l=f.dtype,m=[u,l],h=m.join(":"),M=s[h];return M||(s[h]=M=t(u,l)),M(f),f}v.exports=a},5050:function(v,g,r){var t=r(4780),s=typeof Float64Array<"u";function a(c,i){return c[0]-i[0]}function f(){var c=this.stride,i=new Array(c.length),d;for(d=0;d<i.length;++d)i[d]=[Math.abs(c[d]),d];i.sort(a);var x=new Array(i.length);for(d=0;d<x.length;++d)x[d]=i[d][1];return x}var u={T:function(c){function i(x){this.data=x}var d=i.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new i(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(A){return new i(A)}},0:function(c,i){function d(A,E){this.data=A,this.offset=E}var x=d.prototype;return x.dtype=c,x.index=function(){return this.offset},x.dimension=0,x.size=1,x.shape=x.stride=x.order=[],x.lo=x.hi=x.transpose=x.step=function(){return new d(this.data,this.offset)},x.pick=function(){return i(this.data)},x.valueOf=x.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},x.set=function(E){return c==="generic"?this.data.set(this.offset,E):this.data[this.offset]=E},function(E,y,S,w){return new d(E,w)}},1:function(c,i,d){function x(E,y,S,w){this.data=E,this.shape=[y],this.stride=[S],this.offset=w|0}var A=x.prototype;return A.dtype=c,A.dimension=1,Object.defineProperty(A,"size",{get:function(){return this.shape[0]}}),A.order=[0],A.set=function(y,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,S):this.data[this.offset+this.stride[0]*y]=S},A.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},A.index=function(y){return this.offset+this.stride[0]*y},A.hi=function(y){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,this.stride[0],this.offset)},A.lo=function(y){var S=this.offset,w=0,o=this.shape[0],_=this.stride[0];return typeof y=="number"&&y>=0&&(w=y|0,S+=_*w,o-=w),new x(this.data,o,_,S)},A.step=function(y){var S=this.shape[0],w=this.stride[0],o=this.offset,_=0,b=Math.ceil;return typeof y=="number"&&(_=y|0,_<0?(o+=w*(S-1),S=b(-S/_)):S=b(S/_),w*=_),new x(this.data,S,w,o)},A.transpose=function(y){y=y===void 0?0:y|0;var S=this.shape,w=this.stride;return new x(this.data,S[y],w[y],this.offset)},A.pick=function(y){var S=[],w=[],o=this.offset;typeof y=="number"&&y>=0?o=o+this.stride[0]*y|0:(S.push(this.shape[0]),w.push(this.stride[0]));var _=i[S.length+1];return _(this.data,S,w,o)},function(y,S,w,o){return new x(y,S[0],w[0],o)}},2:function(c,i,d){function x(E,y,S,w,o,_){this.data=E,this.shape=[y,S],this.stride=[w,o],this.offset=_|0}var A=x.prototype;return A.dtype=c,A.dimension=2,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(A,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),A.set=function(y,S,w){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*S,w):this.data[this.offset+this.stride[0]*y+this.stride[1]*S]=w},A.get=function(y,S){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*S):this.data[this.offset+this.stride[0]*y+this.stride[1]*S]},A.index=function(y,S){return this.offset+this.stride[0]*y+this.stride[1]*S},A.hi=function(y,S){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof S!="number"||S<0?this.shape[1]:S|0,this.stride[0],this.stride[1],this.offset)},A.lo=function(y,S){var w=this.offset,o=0,_=this.shape[0],b=this.shape[1],I=this.stride[0],D=this.stride[1];return typeof y=="number"&&y>=0&&(o=y|0,w+=I*o,_-=o),typeof S=="number"&&S>=0&&(o=S|0,w+=D*o,b-=o),new x(this.data,_,b,I,D,w)},A.step=function(y,S){var w=this.shape[0],o=this.shape[1],_=this.stride[0],b=this.stride[1],I=this.offset,D=0,N=Math.ceil;return typeof y=="number"&&(D=y|0,D<0?(I+=_*(w-1),w=N(-w/D)):w=N(w/D),_*=D),typeof S=="number"&&(D=S|0,D<0?(I+=b*(o-1),o=N(-o/D)):o=N(o/D),b*=D),new x(this.data,w,o,_,b,I)},A.transpose=function(y,S){y=y===void 0?0:y|0,S=S===void 0?1:S|0;var w=this.shape,o=this.stride;return new x(this.data,w[y],w[S],o[y],o[S],this.offset)},A.pick=function(y,S){var w=[],o=[],_=this.offset;typeof y=="number"&&y>=0?_=_+this.stride[0]*y|0:(w.push(this.shape[0]),o.push(this.stride[0])),typeof S=="number"&&S>=0?_=_+this.stride[1]*S|0:(w.push(this.shape[1]),o.push(this.stride[1]));var b=i[w.length+1];return b(this.data,w,o,_)},function(y,S,w,o){return new x(y,S[0],S[1],w[0],w[1],o)}},3:function(c,i,d){function x(E,y,S,w,o,_,b,I){this.data=E,this.shape=[y,S,w],this.stride=[o,_,b],this.offset=I|0}var A=x.prototype;return A.dtype=c,A.dimension=3,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(A,"order",{get:function(){var y=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),w=Math.abs(this.stride[2]);return y>S?S>w?[2,1,0]:y>w?[1,2,0]:[1,0,2]:y>w?[2,0,1]:w>S?[0,1,2]:[0,2,1]}}),A.set=function(y,S,w,o){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*w,o):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*w]=o},A.get=function(y,S,w){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*w):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*w]},A.index=function(y,S,w){return this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*w},A.hi=function(y,S,w){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof w!="number"||w<0?this.shape[2]:w|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},A.lo=function(y,S,w){var o=this.offset,_=0,b=this.shape[0],I=this.shape[1],D=this.shape[2],N=this.stride[0],k=this.stride[1],z=this.stride[2];return typeof y=="number"&&y>=0&&(_=y|0,o+=N*_,b-=_),typeof S=="number"&&S>=0&&(_=S|0,o+=k*_,I-=_),typeof w=="number"&&w>=0&&(_=w|0,o+=z*_,D-=_),new x(this.data,b,I,D,N,k,z,o)},A.step=function(y,S,w){var o=this.shape[0],_=this.shape[1],b=this.shape[2],I=this.stride[0],D=this.stride[1],N=this.stride[2],k=this.offset,z=0,F=Math.ceil;return typeof y=="number"&&(z=y|0,z<0?(k+=I*(o-1),o=F(-o/z)):o=F(o/z),I*=z),typeof S=="number"&&(z=S|0,z<0?(k+=D*(_-1),_=F(-_/z)):_=F(_/z),D*=z),typeof w=="number"&&(z=w|0,z<0?(k+=N*(b-1),b=F(-b/z)):b=F(b/z),N*=z),new x(this.data,o,_,b,I,D,N,k)},A.transpose=function(y,S,w){y=y===void 0?0:y|0,S=S===void 0?1:S|0,w=w===void 0?2:w|0;var o=this.shape,_=this.stride;return new x(this.data,o[y],o[S],o[w],_[y],_[S],_[w],this.offset)},A.pick=function(y,S,w){var o=[],_=[],b=this.offset;typeof y=="number"&&y>=0?b=b+this.stride[0]*y|0:(o.push(this.shape[0]),_.push(this.stride[0])),typeof S=="number"&&S>=0?b=b+this.stride[1]*S|0:(o.push(this.shape[1]),_.push(this.stride[1])),typeof w=="number"&&w>=0?b=b+this.stride[2]*w|0:(o.push(this.shape[2]),_.push(this.stride[2]));var I=i[o.length+1];return I(this.data,o,_,b)},function(y,S,w,o){return new x(y,S[0],S[1],S[2],w[0],w[1],w[2],o)}},4:function(c,i,d){function x(E,y,S,w,o,_,b,I,D,N){this.data=E,this.shape=[y,S,w,o],this.stride=[_,b,I,D],this.offset=N|0}var A=x.prototype;return A.dtype=c,A.dimension=4,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(A,"order",{get:d}),A.set=function(y,S,w,o,_){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*w+this.stride[3]*o,_):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*w+this.stride[3]*o]=_},A.get=function(y,S,w,o){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*w+this.stride[3]*o):this.data[this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*w+this.stride[3]*o]},A.index=function(y,S,w,o){return this.offset+this.stride[0]*y+this.stride[1]*S+this.stride[2]*w+this.stride[3]*o},A.hi=function(y,S,w,o){return new x(this.data,typeof y!="number"||y<0?this.shape[0]:y|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof w!="number"||w<0?this.shape[2]:w|0,typeof o!="number"||o<0?this.shape[3]:o|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},A.lo=function(y,S,w,o){var _=this.offset,b=0,I=this.shape[0],D=this.shape[1],N=this.shape[2],k=this.shape[3],z=this.stride[0],F=this.stride[1],O=this.stride[2],B=this.stride[3];return typeof y=="number"&&y>=0&&(b=y|0,_+=z*b,I-=b),typeof S=="number"&&S>=0&&(b=S|0,_+=F*b,D-=b),typeof w=="number"&&w>=0&&(b=w|0,_+=O*b,N-=b),typeof o=="number"&&o>=0&&(b=o|0,_+=B*b,k-=b),new x(this.data,I,D,N,k,z,F,O,B,_)},A.step=function(y,S,w,o){var _=this.shape[0],b=this.shape[1],I=this.shape[2],D=this.shape[3],N=this.stride[0],k=this.stride[1],z=this.stride[2],F=this.stride[3],O=this.offset,B=0,W=Math.ceil;return typeof y=="number"&&(B=y|0,B<0?(O+=N*(_-1),_=W(-_/B)):_=W(_/B),N*=B),typeof S=="number"&&(B=S|0,B<0?(O+=k*(b-1),b=W(-b/B)):b=W(b/B),k*=B),typeof w=="number"&&(B=w|0,B<0?(O+=z*(I-1),I=W(-I/B)):I=W(I/B),z*=B),typeof o=="number"&&(B=o|0,B<0?(O+=F*(D-1),D=W(-D/B)):D=W(D/B),F*=B),new x(this.data,_,b,I,D,N,k,z,F,O)},A.transpose=function(y,S,w,o){y=y===void 0?0:y|0,S=S===void 0?1:S|0,w=w===void 0?2:w|0,o=o===void 0?3:o|0;var _=this.shape,b=this.stride;return new x(this.data,_[y],_[S],_[w],_[o],b[y],b[S],b[w],b[o],this.offset)},A.pick=function(y,S,w,o){var _=[],b=[],I=this.offset;typeof y=="number"&&y>=0?I=I+this.stride[0]*y|0:(_.push(this.shape[0]),b.push(this.stride[0])),typeof S=="number"&&S>=0?I=I+this.stride[1]*S|0:(_.push(this.shape[1]),b.push(this.stride[1])),typeof w=="number"&&w>=0?I=I+this.stride[2]*w|0:(_.push(this.shape[2]),b.push(this.stride[2])),typeof o=="number"&&o>=0?I=I+this.stride[3]*o|0:(_.push(this.shape[3]),b.push(this.stride[3]));var D=i[_.length+1];return D(this.data,_,b,I)},function(y,S,w,o){return new x(y,S[0],S[1],S[2],S[3],w[0],w[1],w[2],w[3],o)}},5:function(i,d,x){function A(y,S,w,o,_,b,I,D,N,k,z,F){this.data=y,this.shape=[S,w,o,_,b],this.stride=[I,D,N,k,z],this.offset=F|0}var E=A.prototype;return E.dtype=i,E.dimension=5,Object.defineProperty(E,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(E,"order",{get:x}),E.set=function(S,w,o,_,b,I){return i==="generic"?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*w+this.stride[2]*o+this.stride[3]*_+this.stride[4]*b,I):this.data[this.offset+this.stride[0]*S+this.stride[1]*w+this.stride[2]*o+this.stride[3]*_+this.stride[4]*b]=I},E.get=function(S,w,o,_,b){return i==="generic"?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*w+this.stride[2]*o+this.stride[3]*_+this.stride[4]*b):this.data[this.offset+this.stride[0]*S+this.stride[1]*w+this.stride[2]*o+this.stride[3]*_+this.stride[4]*b]},E.index=function(S,w,o,_,b){return this.offset+this.stride[0]*S+this.stride[1]*w+this.stride[2]*o+this.stride[3]*_+this.stride[4]*b},E.hi=function(S,w,o,_,b){return new A(this.data,typeof S!="number"||S<0?this.shape[0]:S|0,typeof w!="number"||w<0?this.shape[1]:w|0,typeof o!="number"||o<0?this.shape[2]:o|0,typeof _!="number"||_<0?this.shape[3]:_|0,typeof b!="number"||b<0?this.shape[4]:b|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},E.lo=function(S,w,o,_,b){var I=this.offset,D=0,N=this.shape[0],k=this.shape[1],z=this.shape[2],F=this.shape[3],O=this.shape[4],B=this.stride[0],W=this.stride[1],ee=this.stride[2],ne=this.stride[3],Q=this.stride[4];return typeof S=="number"&&S>=0&&(D=S|0,I+=B*D,N-=D),typeof w=="number"&&w>=0&&(D=w|0,I+=W*D,k-=D),typeof o=="number"&&o>=0&&(D=o|0,I+=ee*D,z-=D),typeof _=="number"&&_>=0&&(D=_|0,I+=ne*D,F-=D),typeof b=="number"&&b>=0&&(D=b|0,I+=Q*D,O-=D),new A(this.data,N,k,z,F,O,B,W,ee,ne,Q,I)},E.step=function(S,w,o,_,b){var I=this.shape[0],D=this.shape[1],N=this.shape[2],k=this.shape[3],z=this.shape[4],F=this.stride[0],O=this.stride[1],B=this.stride[2],W=this.stride[3],ee=this.stride[4],ne=this.offset,Q=0,le=Math.ceil;return typeof S=="number"&&(Q=S|0,Q<0?(ne+=F*(I-1),I=le(-I/Q)):I=le(I/Q),F*=Q),typeof w=="number"&&(Q=w|0,Q<0?(ne+=O*(D-1),D=le(-D/Q)):D=le(D/Q),O*=Q),typeof o=="number"&&(Q=o|0,Q<0?(ne+=B*(N-1),N=le(-N/Q)):N=le(N/Q),B*=Q),typeof _=="number"&&(Q=_|0,Q<0?(ne+=W*(k-1),k=le(-k/Q)):k=le(k/Q),W*=Q),typeof b=="number"&&(Q=b|0,Q<0?(ne+=ee*(z-1),z=le(-z/Q)):z=le(z/Q),ee*=Q),new A(this.data,I,D,N,k,z,F,O,B,W,ee,ne)},E.transpose=function(S,w,o,_,b){S=S===void 0?0:S|0,w=w===void 0?1:w|0,o=o===void 0?2:o|0,_=_===void 0?3:_|0,b=b===void 0?4:b|0;var I=this.shape,D=this.stride;return new A(this.data,I[S],I[w],I[o],I[_],I[b],D[S],D[w],D[o],D[_],D[b],this.offset)},E.pick=function(S,w,o,_,b){var I=[],D=[],N=this.offset;typeof S=="number"&&S>=0?N=N+this.stride[0]*S|0:(I.push(this.shape[0]),D.push(this.stride[0])),typeof w=="number"&&w>=0?N=N+this.stride[1]*w|0:(I.push(this.shape[1]),D.push(this.stride[1])),typeof o=="number"&&o>=0?N=N+this.stride[2]*o|0:(I.push(this.shape[2]),D.push(this.stride[2])),typeof _=="number"&&_>=0?N=N+this.stride[3]*_|0:(I.push(this.shape[3]),D.push(this.stride[3])),typeof b=="number"&&b>=0?N=N+this.stride[4]*b|0:(I.push(this.shape[4]),D.push(this.stride[4]));var k=d[I.length+1];return k(this.data,I,D,N)},function(S,w,o,_){return new A(S,w[0],w[1],w[2],w[3],w[4],o[0],o[1],o[2],o[3],o[4],_)}}};function l(c,i){var d=i===-1?"T":String(i),x=u[d];return i===-1?x(c):i===0?x(c,h[c][0]):x(c,h[c],f)}function m(c){if(t(c))return"buffer";if(s)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function M(c,i,d,x){if(c===void 0){var o=h.array[0];return o([])}else typeof c=="number"&&(c=[c]);i===void 0&&(i=[c.length]);var A=i.length;if(d===void 0){d=new Array(A);for(var E=A-1,y=1;E>=0;--E)d[E]=y,y*=i[E]}if(x===void 0){x=0;for(var E=0;E<A;++E)d[E]<0&&(x-=(i[E]-1)*d[E])}for(var S=m(c),w=h[S];w.length<=A+1;)w.push(l(S,w.length-1));var o=w[A+1];return o(c,i,d,x)}v.exports=M},8551:function(v,g,r){var t=r(8362),s=Math.pow(2,-1074),a=-1>>>0;v.exports=f;function f(u,l){if(isNaN(u)||isNaN(l))return NaN;if(u===l)return u;if(u===0)return l<0?-s:s;var m=t.hi(u),h=t.lo(u);return l>u==u>0?h===a?(m+=1,h=0):h+=1:h===0?(h=a,m-=1):h-=1,t.pack(h,m)}},115:function(v,g){var r=1e-6,t=1e-6;g.vertexNormals=function(s,a,f){for(var u=a.length,l=new Array(u),m=f===void 0?r:f,h=0;h<u;++h)l[h]=[0,0,0];for(var h=0;h<s.length;++h)for(var M=s[h],c=0,i=M[M.length-1],d=M[0],x=0;x<M.length;++x){c=i,i=d,d=M[(x+1)%M.length];for(var A=a[c],E=a[i],y=a[d],S=new Array(3),w=0,o=new Array(3),_=0,b=0;b<3;++b)S[b]=A[b]-E[b],w+=S[b]*S[b],o[b]=y[b]-E[b],_+=o[b]*o[b];if(w*_>m)for(var I=l[i],D=1/Math.sqrt(w*_),b=0;b<3;++b){var N=(b+1)%3,k=(b+2)%3;I[b]+=D*(o[N]*S[k]-o[k]*S[N])}}for(var h=0;h<u;++h){for(var I=l[h],z=0,b=0;b<3;++b)z+=I[b]*I[b];if(z>m)for(var D=1/Math.sqrt(z),b=0;b<3;++b)I[b]*=D;else for(var b=0;b<3;++b)I[b]=0}return l},g.faceNormals=function(s,a,f){for(var u=s.length,l=new Array(u),m=f===void 0?t:f,h=0;h<u;++h){for(var M=s[h],c=new Array(3),i=0;i<3;++i)c[i]=a[M[i]];for(var d=new Array(3),x=new Array(3),i=0;i<3;++i)d[i]=c[1][i]-c[0][i],x[i]=c[2][i]-c[0][i];for(var A=new Array(3),E=0,i=0;i<3;++i){var y=(i+1)%3,S=(i+2)%3;A[i]=d[y]*x[S]-d[S]*x[y],E+=A[i]*A[i]}E>m?E=1/Math.sqrt(E):E=0;for(var i=0;i<3;++i)A[i]*=E;l[h]=A}return l}},567:function(v){v.exports=g;function g(r,t,s,a,f,u,l,m,h,M){var c=t+u+M;if(i>0){var i=Math.sqrt(c+1);r[0]=.5*(l-h)/i,r[1]=.5*(m-a)/i,r[2]=.5*(s-u)/i,r[3]=.5*i}else{var d=Math.max(t,u,M),i=Math.sqrt(2*d-c+1);t>=d?(r[0]=.5*i,r[1]=.5*(f+s)/i,r[2]=.5*(m+a)/i,r[3]=.5*(l-h)/i):u>=d?(r[0]=.5*(s+f)/i,r[1]=.5*i,r[2]=.5*(h+l)/i,r[3]=.5*(m-a)/i):(r[0]=.5*(a+m)/i,r[1]=.5*(l+h)/i,r[2]=.5*i,r[3]=.5*(s-f)/i)}return r}},7774:function(v,g,r){v.exports=i;var t=r(8444),s=r(3012),a=r(5950),f=r(7437),u=r(567);function l(d,x,A){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(A,2))}function m(d,x,A,E){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(A,2)+Math.pow(E,2))}function h(d,x){var A=x[0],E=x[1],y=x[2],S=x[3],w=m(A,E,y,S);w>1e-6?(d[0]=A/w,d[1]=E/w,d[2]=y/w,d[3]=S/w):(d[0]=d[1]=d[2]=0,d[3]=1)}function M(d,x,A){this.radius=t([A]),this.center=t(x),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=M.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var x=this.computedRotation;h(x,x);var A=this.computedMatrix;a(A,x);var E=this.computedCenter,y=this.computedEye,S=this.computedUp,w=Math.exp(this.computedRadius[0]);y[0]=E[0]+w*A[2],y[1]=E[1]+w*A[6],y[2]=E[2]+w*A[10],S[0]=A[1],S[1]=A[5],S[2]=A[9];for(var o=0;o<3;++o){for(var _=0,b=0;b<3;++b)_+=A[o+4*b]*y[b];A[12+o]=-_}},c.getMatrix=function(d,x){this.recalcMatrix(d);var A=this.computedMatrix;if(x){for(var E=0;E<16;++E)x[E]=A[E];return x}return A},c.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},c.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},c.pan=function(d,x,A,E){x=x||0,A=A||0,E=E||0,this.recalcMatrix(d);var y=this.computedMatrix,S=y[1],w=y[5],o=y[9],_=l(S,w,o);S/=_,w/=_,o/=_;var b=y[0],I=y[4],D=y[8],N=b*S+I*w+D*o;b-=S*N,I-=w*N,D-=o*N;var k=l(b,I,D);b/=k,I/=k,D/=k,y[2],y[6],y[10];var z=b*x+S*A,F=I*x+w*A,O=D*x+o*A;this.center.move(d,z,F,O);var B=Math.exp(this.computedRadius[0]);B=Math.max(1e-4,B+E),this.radius.set(d,Math.log(B))},c.rotate=function(d,x,A,E){this.recalcMatrix(d),x=x||0,A=A||0;var y=this.computedMatrix,S=y[0],w=y[4],o=y[8],_=y[1],b=y[5],I=y[9],D=y[2],N=y[6],k=y[10],z=x*S+A*_,F=x*w+A*b,O=x*o+A*I,B=-(N*O-k*F),W=-(k*z-D*O),ee=-(D*F-N*z),ne=Math.sqrt(Math.max(0,1-Math.pow(B,2)-Math.pow(W,2)-Math.pow(ee,2))),Q=m(B,W,ee,ne);Q>1e-6?(B/=Q,W/=Q,ee/=Q,ne/=Q):(B=W=ee=0,ne=1);var le=this.computedRotation,Z=le[0],Y=le[1],re=le[2],X=le[3],q=Z*ne+X*B+Y*ee-re*W,se=Y*ne+X*W+re*B-Z*ee,$=re*ne+X*ee+Z*W-Y*B,j=X*ne-Z*B-Y*W-re*ee;if(E){B=D,W=N,ee=k;var ue=Math.sin(E)/l(B,W,ee);B*=ue,W*=ue,ee*=ue,ne=Math.cos(x),q=q*ne+j*B+se*ee-$*W,se=se*ne+j*W+$*B-q*ee,$=$*ne+j*ee+q*W-se*B,j=j*ne-q*B-se*W-$*ee}var ae=m(q,se,$,j);ae>1e-6?(q/=ae,se/=ae,$/=ae,j/=ae):(q=se=$=0,j=1),this.rotation.set(d,q,se,$,j)},c.lookAt=function(d,x,A,E){this.recalcMatrix(d),A=A||this.computedCenter,x=x||this.computedEye,E=E||this.computedUp;var y=this.computedMatrix;s(y,x,A,E);var S=this.computedRotation;u(S,y[0],y[1],y[2],y[4],y[5],y[6],y[8],y[9],y[10]),h(S,S),this.rotation.set(d,S[0],S[1],S[2],S[3]);for(var w=0,o=0;o<3;++o)w+=Math.pow(A[o]-x[o],2);this.radius.set(d,.5*Math.log(Math.max(w,1e-6))),this.center.set(d,A[0],A[1],A[2])},c.translate=function(d,x,A,E){this.center.move(d,x||0,A||0,E||0)},c.setMatrix=function(d,x){var A=this.computedRotation;u(A,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),h(A,A),this.rotation.set(d,A[0],A[1],A[2],A[3]);var E=this.computedMatrix;f(E,x);var y=E[15];if(Math.abs(y)>1e-6){var S=E[12]/y,w=E[13]/y,o=E[14]/y;this.recalcMatrix(d);var _=Math.exp(this.computedRadius[0]);this.center.set(d,S-E[2]*_,w-E[6]*_,o-E[10]*_),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},c.setDistance=function(d,x){x>0&&this.radius.set(d,Math.log(x))},c.setDistanceLimits=function(d,x){d>0?d=Math.log(d):d=-1/0,x>0?x=Math.log(x):x=1/0,x=Math.max(x,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=x},c.getDistanceLimits=function(d){var x=this.radius.bounds;return d?(d[0]=Math.exp(x[0][0]),d[1]=Math.exp(x[1][0]),d):[Math.exp(x[0][0]),Math.exp(x[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(d){var x=this.lastT(),A=d.center;A&&this.center.set(x,A[0],A[1],A[2]);var E=d.rotation;E&&this.rotation.set(x,E[0],E[1],E[2],E[3]);var y=d.distance;y&&y>0&&this.radius.set(x,Math.log(y)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function i(d){d=d||{};var x=d.center||[0,0,0],A=d.rotation||[0,0,0,1],E=d.radius||1;x=[].slice.call(x,0,3),A=[].slice.call(A,0,4),h(A,A);var y=new M(A,x,Math.log(E));return y.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&y.lookAt(0,d.eye,d.center,d.up),y}},4930:function(v,g,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(6184);v.exports=function(a,f,u){return u=typeof u<"u"?u+"":" ",t(u,f)+a}},4405:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var s=parseFloat(r,10);return t[0]=s,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(v,g,r){v.exports=s;var t=r(9398);function s(a,f){for(var u=f.length|0,l=a.length,m=[new Array(u),new Array(u)],h=0;h<u;++h)m[0][h]=[],m[1][h]=[];for(var h=0;h<l;++h){var M=a[h];m[0][M[0]].push(M),m[1][M[1]].push(M)}for(var c=[],h=0;h<u;++h)m[0][h].length+m[1][h].length===0&&c.push([h]);function i(w,o){var _=m[o][w[o]];_.splice(_.indexOf(w),1)}function d(w,o,_){for(var b,I,D,N=0;N<2;++N)if(m[N][o].length>0){b=m[N][o][0],D=N;break}I=b[D^1];for(var k=0;k<2;++k)for(var z=m[k][o],F=0;F<z.length;++F){var O=z[F],B=O[k^1],W=t(f[w],f[o],f[I],f[B]);W>0&&(b=O,I=B,D=k)}return _||b&&i(b,D),I}function x(w,o){var _=m[o][w][0],b=[w];i(_,o);for(var I=_[o^1];;){for(;I!==w;)b.push(I),I=d(b[b.length-2],I,!1);if(m[0][w].length+m[1][w].length===0)break;var D=b[b.length-1],N=w,k=b[1],z=d(D,N,!0);if(t(f[D],f[N],f[k],f[z])<0)break;b.push(w),I=d(D,N)}return b}function A(w,o){return o[1]===o[o.length-1]}for(var h=0;h<u;++h)for(var E=0;E<2;++E){for(var y=[];m[E][h].length>0;){m[0][h].length;var S=x(h,E);A(y,S)?y.push.apply(y,S):(y.length>0&&c.push(y),y=S)}y.length>0&&c.push(y)}return c}},3959:function(v,g,r){v.exports=s;var t=r(8348);function s(a,f){for(var u=t(a,f.length),l=new Array(f.length),m=new Array(f.length),h=[],M=0;M<f.length;++M){var c=u[M].length;m[M]=c,l[M]=!0,c<=1&&h.push(M)}for(;h.length>0;){var i=h.pop();l[i]=!1;for(var d=u[i],M=0;M<d.length;++M){var x=d[M];--m[x]===0&&h.push(x)}}for(var A=new Array(f.length),E=[],M=0;M<f.length;++M)if(l[M]){var i=E.length;A[M]=i,E.push(f[M])}else A[M]=-1;for(var y=[],M=0;M<a.length;++M){var S=a[M];l[S[0]]&&l[S[1]]&&y.push([A[S[0]],A[S[1]]])}return[y,E]}},8040:function(v,g,r){v.exports=c;var t=r(8348),s=r(4166),a=r(211),f=r(9660),u=r(9662),l=r(1215),m=r(3959);function h(i,d){for(var x=new Array(i),A=0;A<i;++A)x[A]=d;return x}function M(i){for(var d=new Array(i),x=0;x<i;++x)d[x]=[];return d}function c(i,d){var j=m(i,d);i=j[0],d=j[1];var x=d.length;i.length;for(var A=t(i,d.length),E=0;E<x;++E)if(A[E].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var y=s(i,d);function S(Ie){for(var Te=Ie.length,Le=[0],xe=0;xe<Te;++xe){var Re=d[Ie[xe]],He=d[Ie[(xe+1)%Te]],Ve=f(-Re[0],Re[1]),Fe=f(-Re[0],He[1]),We=f(He[0],Re[1]),ut=f(He[0],He[1]);Le=u(Le,u(u(Ve,Fe),u(We,ut)))}return Le[Le.length-1]>0}y=y.filter(S);for(var w=y.length,o=new Array(w),_=new Array(w),E=0;E<w;++E){o[E]=E;var b=new Array(w),I=y[E].map(function(Te){return d[Te]}),D=a([I]),N=0;e:for(var k=0;k<w;++k)if(b[k]=0,E!==k){for(var z=y[k],F=z.length,O=0;O<F;++O){var B=D(d[z[O]]);if(B!==0){B<0&&(b[k]=1,N+=1);continue e}}b[k]=1,N+=1}_[E]=[N,E,b]}_.sort(function(Ie,Te){return Te[0]-Ie[0]});for(var E=0;E<w;++E)for(var b=_[E],W=b[1],ee=b[2],k=0;k<w;++k)ee[k]&&(o[k]=W);for(var ne=M(w),E=0;E<w;++E)ne[E].push(o[E]),ne[o[E]].push(E);for(var Q={},le=h(x,!1),E=0;E<w;++E)for(var z=y[E],F=z.length,k=0;k<F;++k){var Z=z[k],Y=z[(k+1)%F],re=Math.min(Z,Y)+":"+Math.max(Z,Y);if(re in Q){var X=Q[re];ne[X].push(E),ne[E].push(X),le[Z]=le[Y]=!0}else Q[re]=E}function q(Ie){for(var Te=Ie.length,Le=0;Le<Te;++Le)if(!le[Ie[Le]])return!1;return!0}for(var se=[],$=h(w,-1),E=0;E<w;++E)o[E]===E&&!q(y[E])?(se.push(E),$[E]=0):$[E]=-1;for(var j=[];se.length>0;){var ue=se.pop(),ae=ne[ue];l(ae,function(Ie,Te){return Ie-Te});var ce=ae.length,ye=$[ue],Ce;if(ye===0){var z=y[ue];Ce=[z]}for(var E=0;E<ce;++E){var Ae=ae[E];if(!($[Ae]>=0)&&($[Ae]=ye^1,se.push(Ae),ye===0)){var z=y[Ae];q(z)||(z.reverse(),Ce.push(z))}}ye===0&&j.push(Ce)}return j}},211:function(v,g,r){v.exports=d;var t=r(417)[3],s=r(4385),a=r(9014),f=r(5070);function u(){return!0}function l(x){return function(A,E){var y=x[A];return y?!!y.queryPoint(E,u):!1}}function m(x){for(var A={},E=0;E<x.length;++E){var y=x[E],S=y[0][0],w=y[0][1],o=y[1][1],_=[Math.min(w,o),Math.max(w,o)];S in A?A[S].push(_):A[S]=[_]}for(var b={},I=Object.keys(A),E=0;E<I.length;++E){var D=A[I[E]];b[I[E]]=a(D)}return l(b)}function h(x,A){return function(E){var y=f.le(A,E[0]);if(y<0)return 1;var S=x[y];if(!S)if(y>0&&A[y]===E[0])S=x[y-1];else return 1;for(var w=1;S;){var o=S.key,_=t(E,o[0],o[1]);if(o[0][0]<o[1][0])if(_<0)S=S.left;else if(_>0)w=-1,S=S.right;else return 0;else if(_>0)S=S.left;else if(_<0)w=1,S=S.right;else return 0}return w}}function M(x){return 1}function c(x){return function(E){return x(E[0],E[1])?0:1}}function i(x,A){return function(y){return x(y[0],y[1])?0:A(y)}}function d(x){for(var A=x.length,E=[],y=[],S=0;S<A;++S)for(var w=x[S],o=w.length,_=o-1,b=0;b<o;_=b++){var I=w[_],D=w[b];I[0]===D[0]?y.push([I,D]):E.push([I,D])}if(E.length===0)return y.length===0?M:c(m(y));var N=s(E),k=h(N.slabs,N.coordinates);return y.length===0?k:i(m(y),k)}},7309:function(v){var g=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function s(a,f,u,l,m){g.length<l.length&&(g=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var h=0;h<l.length;++h)g[h]=a[h]-l[h],r[h]=f[h]-a[h],t[h]=u[h]-a[h];for(var M=0,c=0,i=0,d=0,x=0,A=0,h=0;h<l.length;++h){var E=r[h],y=t[h],S=g[h];M+=E*E,c+=E*y,i+=y*y,d+=S*E,x+=S*y,A+=S*S}var w=Math.abs(M*i-c*c),o=c*x-i*d,_=c*d-M*x,b;if(o+_<=w)if(o<0)_<0&&d<0?(_=0,-d>=M?(o=1,b=M+2*d+A):(o=-d/M,b=d*o+A)):(o=0,x>=0?(_=0,b=A):-x>=i?(_=1,b=i+2*x+A):(_=-x/i,b=x*_+A));else if(_<0)_=0,d>=0?(o=0,b=A):-d>=M?(o=1,b=M+2*d+A):(o=-d/M,b=d*o+A);else{var I=1/w;o*=I,_*=I,b=o*(M*o+c*_+2*d)+_*(c*o+i*_+2*x)+A}else{var D,N,k,z;o<0?(D=c+d,N=i+x,N>D?(k=N-D,z=M-2*c+i,k>=z?(o=1,_=0,b=M+2*d+A):(o=k/z,_=1-o,b=o*(M*o+c*_+2*d)+_*(c*o+i*_+2*x)+A)):(o=0,N<=0?(_=1,b=i+2*x+A):x>=0?(_=0,b=A):(_=-x/i,b=x*_+A))):_<0?(D=c+x,N=M+d,N>D?(k=N-D,z=M-2*c+i,k>=z?(_=1,o=0,b=i+2*x+A):(_=k/z,o=1-_,b=o*(M*o+c*_+2*d)+_*(c*o+i*_+2*x)+A)):(_=0,N<=0?(o=1,b=M+2*d+A):d>=0?(o=0,b=A):(o=-d/M,b=d*o+A))):(k=i+x-c-d,k<=0?(o=0,_=1,b=i+2*x+A):(z=M-2*c+i,k>=z?(o=1,_=0,b=M+2*d+A):(o=k/z,_=1-o,b=o*(M*o+c*_+2*d)+_*(c*o+i*_+2*x)+A)))}for(var F=1-o-_,h=0;h<l.length;++h)m[h]=F*a[h]+o*f[h]+_*u[h];return b<0?0:b}v.exports=s},1116:function(v,g,r){v.exports=r(6093)},7584:function(v,g,r){var t=r(1539);v.exports=s;function s(a,f){for(var u=a.length,l=new Array(u),m=0;m<u;++m)l[m]=t(a[m],f[m]);return l}},2826:function(v,g,r){v.exports=s;var t=r(5125);function s(a){for(var f=new Array(a.length),u=0;u<a.length;++u)f[u]=t(a[u]);return f}},4469:function(v,g,r){var t=r(5125),s=r(3962);v.exports=a;function a(f,u){for(var l=t(u),m=f.length,h=new Array(m),M=0;M<m;++M)h[M]=s(f[M],l);return h}},6695:function(v,g,r){var t=r(4354);v.exports=s;function s(a,f){for(var u=a.length,l=new Array(u),m=0;m<u;++m)l[m]=t(a[m],f[m]);return l}},7037:function(v,g,r){var t=r(9209),s=r(1284),a=r(9887);v.exports=f;function f(u){u.sort(s);for(var l=u.length,m=0,h=0;h<l;++h){var M=u[h],c=a(M);if(c!==0){if(m>0){var i=u[m-1];if(t(M,i)===0&&a(i)!==c){m-=1;continue}}u[m++]=M}}return u.length=m,u}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var g="",r;v.exports=t;function t(s,a){if(typeof s!="string")throw new TypeError("expected a string");if(a===1)return s;if(a===2)return s+s;var f=s.length*a;if(r!==s||typeof r>"u")r=s,g="";else if(g.length>=f)return g.substr(0,f);for(;f>g.length&&a>1;)a&1&&(g+=s),a>>=1,s+=s;return g+=s,g=g.substr(0,f),g}},8161:function(v,g,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=g;function g(r){for(var t=r.length,s=r[r.length-1],a=t,f=t-2;f>=0;--f){var u=s,l=r[f];s=u+l;var m=s-u,h=l-m;h&&(r[--a]=s,s=h)}for(var M=0,f=a;f<t;++f){var u=r[f],l=s;s=u+l;var m=s-u,h=l-m;h&&(r[M++]=h)}return r[M++]=s,r.length=M,r}},8167:function(v,g,r){var t=r(9660),s=r(9662),a=r(8289),f=r(402),u=6;function l(A,E,y,S){return function(o){return S(A(y(o[0][0],o[1][1]),y(-o[0][1],o[1][0])))}}function m(A,E,y,S){return function(o){return S(A(E(A(y(o[1][1],o[2][2]),y(-o[1][2],o[2][1])),o[0][0]),A(E(A(y(o[1][0],o[2][2]),y(-o[1][2],o[2][0])),-o[0][1]),E(A(y(o[1][0],o[2][1]),y(-o[1][1],o[2][0])),o[0][2]))))}}function h(A,E,y,S){return function(o){return S(A(A(E(A(E(A(y(o[2][2],o[3][3]),y(-o[2][3],o[3][2])),o[1][1]),A(E(A(y(o[2][1],o[3][3]),y(-o[2][3],o[3][1])),-o[1][2]),E(A(y(o[2][1],o[3][2]),y(-o[2][2],o[3][1])),o[1][3]))),o[0][0]),E(A(E(A(y(o[2][2],o[3][3]),y(-o[2][3],o[3][2])),o[1][0]),A(E(A(y(o[2][0],o[3][3]),y(-o[2][3],o[3][0])),-o[1][2]),E(A(y(o[2][0],o[3][2]),y(-o[2][2],o[3][0])),o[1][3]))),-o[0][1])),A(E(A(E(A(y(o[2][1],o[3][3]),y(-o[2][3],o[3][1])),o[1][0]),A(E(A(y(o[2][0],o[3][3]),y(-o[2][3],o[3][0])),-o[1][1]),E(A(y(o[2][0],o[3][1]),y(-o[2][1],o[3][0])),o[1][3]))),o[0][2]),E(A(E(A(y(o[2][1],o[3][2]),y(-o[2][2],o[3][1])),o[1][0]),A(E(A(y(o[2][0],o[3][2]),y(-o[2][2],o[3][0])),-o[1][1]),E(A(y(o[2][0],o[3][1]),y(-o[2][1],o[3][0])),o[1][2]))),-o[0][3]))))}}function M(A,E,y,S){return function(o){return S(A(A(E(A(A(E(A(E(A(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][2]),A(E(A(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),-o[2][3]),E(A(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][4]))),o[1][1]),E(A(E(A(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][1]),A(E(A(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][3]),E(A(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][4]))),-o[1][2])),A(E(A(E(A(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][1]),A(E(A(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][2]),E(A(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][4]))),o[1][3]),E(A(E(A(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][1]),A(E(A(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),-o[2][2]),E(A(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][3]))),-o[1][4]))),o[0][0]),E(A(A(E(A(E(A(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][2]),A(E(A(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),-o[2][3]),E(A(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][4]))),o[1][0]),E(A(E(A(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][0]),A(E(A(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][3]),E(A(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),o[2][4]))),-o[1][2])),A(E(A(E(A(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][0]),A(E(A(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][2]),E(A(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][4]))),o[1][3]),E(A(E(A(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][0]),A(E(A(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][2]),E(A(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][3]))),-o[1][4]))),-o[0][1])),A(E(A(A(E(A(E(A(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][1]),A(E(A(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][3]),E(A(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][4]))),o[1][0]),E(A(E(A(y(o[3][3],o[4][4]),y(-o[3][4],o[4][3])),o[2][0]),A(E(A(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][3]),E(A(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),o[2][4]))),-o[1][1])),A(E(A(E(A(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),o[2][0]),A(E(A(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][1]),E(A(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][4]))),o[1][3]),E(A(E(A(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][0]),A(E(A(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][1]),E(A(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][3]))),-o[1][4]))),o[0][2]),A(E(A(A(E(A(E(A(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][1]),A(E(A(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),-o[2][2]),E(A(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][4]))),o[1][0]),E(A(E(A(y(o[3][2],o[4][4]),y(-o[3][4],o[4][2])),o[2][0]),A(E(A(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][2]),E(A(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][4]))),-o[1][1])),A(E(A(E(A(y(o[3][1],o[4][4]),y(-o[3][4],o[4][1])),o[2][0]),A(E(A(y(o[3][0],o[4][4]),y(-o[3][4],o[4][0])),-o[2][1]),E(A(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][4]))),o[1][2]),E(A(E(A(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][0]),A(E(A(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),-o[2][1]),E(A(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][2]))),-o[1][4]))),-o[0][3]),E(A(A(E(A(E(A(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][1]),A(E(A(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),-o[2][2]),E(A(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][3]))),o[1][0]),E(A(E(A(y(o[3][2],o[4][3]),y(-o[3][3],o[4][2])),o[2][0]),A(E(A(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][2]),E(A(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),o[2][3]))),-o[1][1])),A(E(A(E(A(y(o[3][1],o[4][3]),y(-o[3][3],o[4][1])),o[2][0]),A(E(A(y(o[3][0],o[4][3]),y(-o[3][3],o[4][0])),-o[2][1]),E(A(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][3]))),o[1][2]),E(A(E(A(y(o[3][1],o[4][2]),y(-o[3][2],o[4][1])),o[2][0]),A(E(A(y(o[3][0],o[4][2]),y(-o[3][2],o[4][0])),-o[2][1]),E(A(y(o[3][0],o[4][1]),y(-o[3][1],o[4][0])),o[2][2]))),-o[1][3]))),o[0][4])))))}}function c(A){var E=A===2?l:A===3?m:A===4?h:A===5?M:void 0;return E(s,a,t,f)}var i=[function(){return[0]},function(E){return[E[0][0]]}];function d(A,E,y,S,w,o,_,b){return function(D){switch(D.length){case 0:return A(D);case 1:return E(D);case 2:return y(D);case 3:return S(D);case 4:return w(D);case 5:return o(D)}var N=_[D.length];return N||(N=_[D.length]=b(D.length)),N(D)}}function x(){for(;i.length<u;)i.push(c(i.length));v.exports=d.apply(void 0,i.concat([i,c]));for(var A=0;A<i.length;++A)v.exports[A]=i[A]}x()},9130:function(v,g,r){var t=r(9660),s=r(9662);v.exports=a;function a(f,u){for(var l=t(f[0],u[0]),m=1;m<f.length;++m)l=s(l,t(f[m],u[m]));return l}},2227:function(v,g,r){var t=r(9660),s=r(9662),a=r(4078),f=r(8289),u=6;function l(w){var o=w===3?c:w===4?i:w===5?d:x;return o(s,a,t,f)}function m(){return 0}function h(){return 0}function M(){return 0}function c(w,o,_,b){function I(D,N,k){var z=_(D[0],D[0]),F=b(z,N[0]),O=b(z,k[0]),B=_(N[0],N[0]),W=b(B,D[0]),ee=b(B,k[0]),ne=_(k[0],k[0]),Q=b(ne,D[0]),le=b(ne,N[0]),Z=w(o(le,ee),o(W,F)),Y=o(Q,O),re=o(Z,Y);return re[re.length-1]}return I}function i(w,o,_,b){function I(D,N,k,z){var F=w(_(D[0],D[0]),_(D[1],D[1])),O=b(F,N[0]),B=b(F,k[0]),W=b(F,z[0]),ee=w(_(N[0],N[0]),_(N[1],N[1])),ne=b(ee,D[0]),Q=b(ee,k[0]),le=b(ee,z[0]),Z=w(_(k[0],k[0]),_(k[1],k[1])),Y=b(Z,D[0]),re=b(Z,N[0]),X=b(Z,z[0]),q=w(_(z[0],z[0]),_(z[1],z[1])),se=b(q,D[0]),$=b(q,N[0]),j=b(q,k[0]),ue=w(w(b(o(j,X),N[1]),w(b(o($,le),-k[1]),b(o(re,Q),z[1]))),w(b(o($,le),D[1]),w(b(o(se,W),-N[1]),b(o(ne,O),z[1])))),ae=w(w(b(o(j,X),D[1]),w(b(o(se,W),-k[1]),b(o(Y,B),z[1]))),w(b(o(re,Q),D[1]),w(b(o(Y,B),-N[1]),b(o(ne,O),k[1])))),ce=o(ue,ae);return ce[ce.length-1]}return I}function d(w,o,_,b){function I(D,N,k,z,F){var O=w(_(D[0],D[0]),w(_(D[1],D[1]),_(D[2],D[2]))),B=b(O,N[0]),W=b(O,k[0]),ee=b(O,z[0]),ne=b(O,F[0]),Q=w(_(N[0],N[0]),w(_(N[1],N[1]),_(N[2],N[2]))),le=b(Q,D[0]),Z=b(Q,k[0]),Y=b(Q,z[0]),re=b(Q,F[0]),X=w(_(k[0],k[0]),w(_(k[1],k[1]),_(k[2],k[2]))),q=b(X,D[0]),se=b(X,N[0]),$=b(X,z[0]),j=b(X,F[0]),ue=w(_(z[0],z[0]),w(_(z[1],z[1]),_(z[2],z[2]))),ae=b(ue,D[0]),ce=b(ue,N[0]),ye=b(ue,k[0]),Ce=b(ue,F[0]),Ae=w(_(F[0],F[0]),w(_(F[1],F[1]),_(F[2],F[2]))),Ie=b(Ae,D[0]),Te=b(Ae,N[0]),Le=b(Ae,k[0]),xe=b(Ae,z[0]),Re=w(w(w(b(w(b(o(xe,Ce),k[1]),w(b(o(Le,j),-z[1]),b(o(ye,$),F[1]))),N[2]),w(b(w(b(o(xe,Ce),N[1]),w(b(o(Te,re),-z[1]),b(o(ce,Y),F[1]))),-k[2]),b(w(b(o(Le,j),N[1]),w(b(o(Te,re),-k[1]),b(o(se,Z),F[1]))),z[2]))),w(b(w(b(o(ye,$),N[1]),w(b(o(ce,Y),-k[1]),b(o(se,Z),z[1]))),-F[2]),w(b(w(b(o(xe,Ce),N[1]),w(b(o(Te,re),-z[1]),b(o(ce,Y),F[1]))),D[2]),b(w(b(o(xe,Ce),D[1]),w(b(o(Ie,ne),-z[1]),b(o(ae,ee),F[1]))),-N[2])))),w(w(b(w(b(o(Te,re),D[1]),w(b(o(Ie,ne),-N[1]),b(o(le,B),F[1]))),z[2]),w(b(w(b(o(ce,Y),D[1]),w(b(o(ae,ee),-N[1]),b(o(le,B),z[1]))),-F[2]),b(w(b(o(ye,$),N[1]),w(b(o(ce,Y),-k[1]),b(o(se,Z),z[1]))),D[2]))),w(b(w(b(o(ye,$),D[1]),w(b(o(ae,ee),-k[1]),b(o(q,W),z[1]))),-N[2]),w(b(w(b(o(ce,Y),D[1]),w(b(o(ae,ee),-N[1]),b(o(le,B),z[1]))),k[2]),b(w(b(o(se,Z),D[1]),w(b(o(q,W),-N[1]),b(o(le,B),k[1]))),-z[2]))))),He=w(w(w(b(w(b(o(xe,Ce),k[1]),w(b(o(Le,j),-z[1]),b(o(ye,$),F[1]))),D[2]),b(w(b(o(xe,Ce),D[1]),w(b(o(Ie,ne),-z[1]),b(o(ae,ee),F[1]))),-k[2])),w(b(w(b(o(Le,j),D[1]),w(b(o(Ie,ne),-k[1]),b(o(q,W),F[1]))),z[2]),b(w(b(o(ye,$),D[1]),w(b(o(ae,ee),-k[1]),b(o(q,W),z[1]))),-F[2]))),w(w(b(w(b(o(Le,j),N[1]),w(b(o(Te,re),-k[1]),b(o(se,Z),F[1]))),D[2]),b(w(b(o(Le,j),D[1]),w(b(o(Ie,ne),-k[1]),b(o(q,W),F[1]))),-N[2])),w(b(w(b(o(Te,re),D[1]),w(b(o(Ie,ne),-N[1]),b(o(le,B),F[1]))),k[2]),b(w(b(o(se,Z),D[1]),w(b(o(q,W),-N[1]),b(o(le,B),k[1]))),-F[2])))),Ve=o(Re,He);return Ve[Ve.length-1]}return I}function x(w,o,_,b){function I(D,N,k,z,F,O){var B=w(w(_(D[0],D[0]),_(D[1],D[1])),w(_(D[2],D[2]),_(D[3],D[3]))),W=b(B,N[0]),ee=b(B,k[0]),ne=b(B,z[0]),Q=b(B,F[0]),le=b(B,O[0]),Z=w(w(_(N[0],N[0]),_(N[1],N[1])),w(_(N[2],N[2]),_(N[3],N[3]))),Y=b(Z,D[0]),re=b(Z,k[0]),X=b(Z,z[0]),q=b(Z,F[0]),se=b(Z,O[0]),$=w(w(_(k[0],k[0]),_(k[1],k[1])),w(_(k[2],k[2]),_(k[3],k[3]))),j=b($,D[0]),ue=b($,N[0]),ae=b($,z[0]),ce=b($,F[0]),ye=b($,O[0]),Ce=w(w(_(z[0],z[0]),_(z[1],z[1])),w(_(z[2],z[2]),_(z[3],z[3]))),Ae=b(Ce,D[0]),Ie=b(Ce,N[0]),Te=b(Ce,k[0]),Le=b(Ce,F[0]),xe=b(Ce,O[0]),Re=w(w(_(F[0],F[0]),_(F[1],F[1])),w(_(F[2],F[2]),_(F[3],F[3]))),He=b(Re,D[0]),Ve=b(Re,N[0]),Fe=b(Re,k[0]),We=b(Re,z[0]),ut=b(Re,O[0]),ht=w(w(_(O[0],O[0]),_(O[1],O[1])),w(_(O[2],O[2]),_(O[3],O[3]))),rt=b(ht,D[0]),tt=b(ht,N[0]),vt=b(ht,k[0]),pt=b(ht,z[0]),mt=b(ht,F[0]),wt=w(w(w(b(w(w(b(w(b(o(mt,ut),z[1]),w(b(o(pt,xe),-F[1]),b(o(We,Le),O[1]))),k[2]),b(w(b(o(mt,ut),k[1]),w(b(o(vt,ye),-F[1]),b(o(Fe,ce),O[1]))),-z[2])),w(b(w(b(o(pt,xe),k[1]),w(b(o(vt,ye),-z[1]),b(o(Te,ae),O[1]))),F[2]),b(w(b(o(We,Le),k[1]),w(b(o(Fe,ce),-z[1]),b(o(Te,ae),F[1]))),-O[2]))),N[3]),w(b(w(w(b(w(b(o(mt,ut),z[1]),w(b(o(pt,xe),-F[1]),b(o(We,Le),O[1]))),N[2]),b(w(b(o(mt,ut),N[1]),w(b(o(tt,se),-F[1]),b(o(Ve,q),O[1]))),-z[2])),w(b(w(b(o(pt,xe),N[1]),w(b(o(tt,se),-z[1]),b(o(Ie,X),O[1]))),F[2]),b(w(b(o(We,Le),N[1]),w(b(o(Ve,q),-z[1]),b(o(Ie,X),F[1]))),-O[2]))),-k[3]),b(w(w(b(w(b(o(mt,ut),k[1]),w(b(o(vt,ye),-F[1]),b(o(Fe,ce),O[1]))),N[2]),b(w(b(o(mt,ut),N[1]),w(b(o(tt,se),-F[1]),b(o(Ve,q),O[1]))),-k[2])),w(b(w(b(o(vt,ye),N[1]),w(b(o(tt,se),-k[1]),b(o(ue,re),O[1]))),F[2]),b(w(b(o(Fe,ce),N[1]),w(b(o(Ve,q),-k[1]),b(o(ue,re),F[1]))),-O[2]))),z[3]))),w(w(b(w(w(b(w(b(o(pt,xe),k[1]),w(b(o(vt,ye),-z[1]),b(o(Te,ae),O[1]))),N[2]),b(w(b(o(pt,xe),N[1]),w(b(o(tt,se),-z[1]),b(o(Ie,X),O[1]))),-k[2])),w(b(w(b(o(vt,ye),N[1]),w(b(o(tt,se),-k[1]),b(o(ue,re),O[1]))),z[2]),b(w(b(o(Te,ae),N[1]),w(b(o(Ie,X),-k[1]),b(o(ue,re),z[1]))),-O[2]))),-F[3]),b(w(w(b(w(b(o(We,Le),k[1]),w(b(o(Fe,ce),-z[1]),b(o(Te,ae),F[1]))),N[2]),b(w(b(o(We,Le),N[1]),w(b(o(Ve,q),-z[1]),b(o(Ie,X),F[1]))),-k[2])),w(b(w(b(o(Fe,ce),N[1]),w(b(o(Ve,q),-k[1]),b(o(ue,re),F[1]))),z[2]),b(w(b(o(Te,ae),N[1]),w(b(o(Ie,X),-k[1]),b(o(ue,re),z[1]))),-F[2]))),O[3])),w(b(w(w(b(w(b(o(mt,ut),z[1]),w(b(o(pt,xe),-F[1]),b(o(We,Le),O[1]))),N[2]),b(w(b(o(mt,ut),N[1]),w(b(o(tt,se),-F[1]),b(o(Ve,q),O[1]))),-z[2])),w(b(w(b(o(pt,xe),N[1]),w(b(o(tt,se),-z[1]),b(o(Ie,X),O[1]))),F[2]),b(w(b(o(We,Le),N[1]),w(b(o(Ve,q),-z[1]),b(o(Ie,X),F[1]))),-O[2]))),D[3]),b(w(w(b(w(b(o(mt,ut),z[1]),w(b(o(pt,xe),-F[1]),b(o(We,Le),O[1]))),D[2]),b(w(b(o(mt,ut),D[1]),w(b(o(rt,le),-F[1]),b(o(He,Q),O[1]))),-z[2])),w(b(w(b(o(pt,xe),D[1]),w(b(o(rt,le),-z[1]),b(o(Ae,ne),O[1]))),F[2]),b(w(b(o(We,Le),D[1]),w(b(o(He,Q),-z[1]),b(o(Ae,ne),F[1]))),-O[2]))),-N[3])))),w(w(w(b(w(w(b(w(b(o(mt,ut),N[1]),w(b(o(tt,se),-F[1]),b(o(Ve,q),O[1]))),D[2]),b(w(b(o(mt,ut),D[1]),w(b(o(rt,le),-F[1]),b(o(He,Q),O[1]))),-N[2])),w(b(w(b(o(tt,se),D[1]),w(b(o(rt,le),-N[1]),b(o(Y,W),O[1]))),F[2]),b(w(b(o(Ve,q),D[1]),w(b(o(He,Q),-N[1]),b(o(Y,W),F[1]))),-O[2]))),z[3]),b(w(w(b(w(b(o(pt,xe),N[1]),w(b(o(tt,se),-z[1]),b(o(Ie,X),O[1]))),D[2]),b(w(b(o(pt,xe),D[1]),w(b(o(rt,le),-z[1]),b(o(Ae,ne),O[1]))),-N[2])),w(b(w(b(o(tt,se),D[1]),w(b(o(rt,le),-N[1]),b(o(Y,W),O[1]))),z[2]),b(w(b(o(Ie,X),D[1]),w(b(o(Ae,ne),-N[1]),b(o(Y,W),z[1]))),-O[2]))),-F[3])),w(b(w(w(b(w(b(o(We,Le),N[1]),w(b(o(Ve,q),-z[1]),b(o(Ie,X),F[1]))),D[2]),b(w(b(o(We,Le),D[1]),w(b(o(He,Q),-z[1]),b(o(Ae,ne),F[1]))),-N[2])),w(b(w(b(o(Ve,q),D[1]),w(b(o(He,Q),-N[1]),b(o(Y,W),F[1]))),z[2]),b(w(b(o(Ie,X),D[1]),w(b(o(Ae,ne),-N[1]),b(o(Y,W),z[1]))),-F[2]))),O[3]),b(w(w(b(w(b(o(pt,xe),k[1]),w(b(o(vt,ye),-z[1]),b(o(Te,ae),O[1]))),N[2]),b(w(b(o(pt,xe),N[1]),w(b(o(tt,se),-z[1]),b(o(Ie,X),O[1]))),-k[2])),w(b(w(b(o(vt,ye),N[1]),w(b(o(tt,se),-k[1]),b(o(ue,re),O[1]))),z[2]),b(w(b(o(Te,ae),N[1]),w(b(o(Ie,X),-k[1]),b(o(ue,re),z[1]))),-O[2]))),D[3]))),w(w(b(w(w(b(w(b(o(pt,xe),k[1]),w(b(o(vt,ye),-z[1]),b(o(Te,ae),O[1]))),D[2]),b(w(b(o(pt,xe),D[1]),w(b(o(rt,le),-z[1]),b(o(Ae,ne),O[1]))),-k[2])),w(b(w(b(o(vt,ye),D[1]),w(b(o(rt,le),-k[1]),b(o(j,ee),O[1]))),z[2]),b(w(b(o(Te,ae),D[1]),w(b(o(Ae,ne),-k[1]),b(o(j,ee),z[1]))),-O[2]))),-N[3]),b(w(w(b(w(b(o(pt,xe),N[1]),w(b(o(tt,se),-z[1]),b(o(Ie,X),O[1]))),D[2]),b(w(b(o(pt,xe),D[1]),w(b(o(rt,le),-z[1]),b(o(Ae,ne),O[1]))),-N[2])),w(b(w(b(o(tt,se),D[1]),w(b(o(rt,le),-N[1]),b(o(Y,W),O[1]))),z[2]),b(w(b(o(Ie,X),D[1]),w(b(o(Ae,ne),-N[1]),b(o(Y,W),z[1]))),-O[2]))),k[3])),w(b(w(w(b(w(b(o(vt,ye),N[1]),w(b(o(tt,se),-k[1]),b(o(ue,re),O[1]))),D[2]),b(w(b(o(vt,ye),D[1]),w(b(o(rt,le),-k[1]),b(o(j,ee),O[1]))),-N[2])),w(b(w(b(o(tt,se),D[1]),w(b(o(rt,le),-N[1]),b(o(Y,W),O[1]))),k[2]),b(w(b(o(ue,re),D[1]),w(b(o(j,ee),-N[1]),b(o(Y,W),k[1]))),-O[2]))),-z[3]),b(w(w(b(w(b(o(Te,ae),N[1]),w(b(o(Ie,X),-k[1]),b(o(ue,re),z[1]))),D[2]),b(w(b(o(Te,ae),D[1]),w(b(o(Ae,ne),-k[1]),b(o(j,ee),z[1]))),-N[2])),w(b(w(b(o(Ie,X),D[1]),w(b(o(Ae,ne),-N[1]),b(o(Y,W),z[1]))),k[2]),b(w(b(o(ue,re),D[1]),w(b(o(j,ee),-N[1]),b(o(Y,W),k[1]))),-z[2]))),O[3]))))),Lt=w(w(w(b(w(w(b(w(b(o(mt,ut),z[1]),w(b(o(pt,xe),-F[1]),b(o(We,Le),O[1]))),k[2]),b(w(b(o(mt,ut),k[1]),w(b(o(vt,ye),-F[1]),b(o(Fe,ce),O[1]))),-z[2])),w(b(w(b(o(pt,xe),k[1]),w(b(o(vt,ye),-z[1]),b(o(Te,ae),O[1]))),F[2]),b(w(b(o(We,Le),k[1]),w(b(o(Fe,ce),-z[1]),b(o(Te,ae),F[1]))),-O[2]))),D[3]),w(b(w(w(b(w(b(o(mt,ut),z[1]),w(b(o(pt,xe),-F[1]),b(o(We,Le),O[1]))),D[2]),b(w(b(o(mt,ut),D[1]),w(b(o(rt,le),-F[1]),b(o(He,Q),O[1]))),-z[2])),w(b(w(b(o(pt,xe),D[1]),w(b(o(rt,le),-z[1]),b(o(Ae,ne),O[1]))),F[2]),b(w(b(o(We,Le),D[1]),w(b(o(He,Q),-z[1]),b(o(Ae,ne),F[1]))),-O[2]))),-k[3]),b(w(w(b(w(b(o(mt,ut),k[1]),w(b(o(vt,ye),-F[1]),b(o(Fe,ce),O[1]))),D[2]),b(w(b(o(mt,ut),D[1]),w(b(o(rt,le),-F[1]),b(o(He,Q),O[1]))),-k[2])),w(b(w(b(o(vt,ye),D[1]),w(b(o(rt,le),-k[1]),b(o(j,ee),O[1]))),F[2]),b(w(b(o(Fe,ce),D[1]),w(b(o(He,Q),-k[1]),b(o(j,ee),F[1]))),-O[2]))),z[3]))),w(w(b(w(w(b(w(b(o(pt,xe),k[1]),w(b(o(vt,ye),-z[1]),b(o(Te,ae),O[1]))),D[2]),b(w(b(o(pt,xe),D[1]),w(b(o(rt,le),-z[1]),b(o(Ae,ne),O[1]))),-k[2])),w(b(w(b(o(vt,ye),D[1]),w(b(o(rt,le),-k[1]),b(o(j,ee),O[1]))),z[2]),b(w(b(o(Te,ae),D[1]),w(b(o(Ae,ne),-k[1]),b(o(j,ee),z[1]))),-O[2]))),-F[3]),b(w(w(b(w(b(o(We,Le),k[1]),w(b(o(Fe,ce),-z[1]),b(o(Te,ae),F[1]))),D[2]),b(w(b(o(We,Le),D[1]),w(b(o(He,Q),-z[1]),b(o(Ae,ne),F[1]))),-k[2])),w(b(w(b(o(Fe,ce),D[1]),w(b(o(He,Q),-k[1]),b(o(j,ee),F[1]))),z[2]),b(w(b(o(Te,ae),D[1]),w(b(o(Ae,ne),-k[1]),b(o(j,ee),z[1]))),-F[2]))),O[3])),w(b(w(w(b(w(b(o(mt,ut),k[1]),w(b(o(vt,ye),-F[1]),b(o(Fe,ce),O[1]))),N[2]),b(w(b(o(mt,ut),N[1]),w(b(o(tt,se),-F[1]),b(o(Ve,q),O[1]))),-k[2])),w(b(w(b(o(vt,ye),N[1]),w(b(o(tt,se),-k[1]),b(o(ue,re),O[1]))),F[2]),b(w(b(o(Fe,ce),N[1]),w(b(o(Ve,q),-k[1]),b(o(ue,re),F[1]))),-O[2]))),D[3]),b(w(w(b(w(b(o(mt,ut),k[1]),w(b(o(vt,ye),-F[1]),b(o(Fe,ce),O[1]))),D[2]),b(w(b(o(mt,ut),D[1]),w(b(o(rt,le),-F[1]),b(o(He,Q),O[1]))),-k[2])),w(b(w(b(o(vt,ye),D[1]),w(b(o(rt,le),-k[1]),b(o(j,ee),O[1]))),F[2]),b(w(b(o(Fe,ce),D[1]),w(b(o(He,Q),-k[1]),b(o(j,ee),F[1]))),-O[2]))),-N[3])))),w(w(w(b(w(w(b(w(b(o(mt,ut),N[1]),w(b(o(tt,se),-F[1]),b(o(Ve,q),O[1]))),D[2]),b(w(b(o(mt,ut),D[1]),w(b(o(rt,le),-F[1]),b(o(He,Q),O[1]))),-N[2])),w(b(w(b(o(tt,se),D[1]),w(b(o(rt,le),-N[1]),b(o(Y,W),O[1]))),F[2]),b(w(b(o(Ve,q),D[1]),w(b(o(He,Q),-N[1]),b(o(Y,W),F[1]))),-O[2]))),k[3]),b(w(w(b(w(b(o(vt,ye),N[1]),w(b(o(tt,se),-k[1]),b(o(ue,re),O[1]))),D[2]),b(w(b(o(vt,ye),D[1]),w(b(o(rt,le),-k[1]),b(o(j,ee),O[1]))),-N[2])),w(b(w(b(o(tt,se),D[1]),w(b(o(rt,le),-N[1]),b(o(Y,W),O[1]))),k[2]),b(w(b(o(ue,re),D[1]),w(b(o(j,ee),-N[1]),b(o(Y,W),k[1]))),-O[2]))),-F[3])),w(b(w(w(b(w(b(o(Fe,ce),N[1]),w(b(o(Ve,q),-k[1]),b(o(ue,re),F[1]))),D[2]),b(w(b(o(Fe,ce),D[1]),w(b(o(He,Q),-k[1]),b(o(j,ee),F[1]))),-N[2])),w(b(w(b(o(Ve,q),D[1]),w(b(o(He,Q),-N[1]),b(o(Y,W),F[1]))),k[2]),b(w(b(o(ue,re),D[1]),w(b(o(j,ee),-N[1]),b(o(Y,W),k[1]))),-F[2]))),O[3]),b(w(w(b(w(b(o(We,Le),k[1]),w(b(o(Fe,ce),-z[1]),b(o(Te,ae),F[1]))),N[2]),b(w(b(o(We,Le),N[1]),w(b(o(Ve,q),-z[1]),b(o(Ie,X),F[1]))),-k[2])),w(b(w(b(o(Fe,ce),N[1]),w(b(o(Ve,q),-k[1]),b(o(ue,re),F[1]))),z[2]),b(w(b(o(Te,ae),N[1]),w(b(o(Ie,X),-k[1]),b(o(ue,re),z[1]))),-F[2]))),D[3]))),w(w(b(w(w(b(w(b(o(We,Le),k[1]),w(b(o(Fe,ce),-z[1]),b(o(Te,ae),F[1]))),D[2]),b(w(b(o(We,Le),D[1]),w(b(o(He,Q),-z[1]),b(o(Ae,ne),F[1]))),-k[2])),w(b(w(b(o(Fe,ce),D[1]),w(b(o(He,Q),-k[1]),b(o(j,ee),F[1]))),z[2]),b(w(b(o(Te,ae),D[1]),w(b(o(Ae,ne),-k[1]),b(o(j,ee),z[1]))),-F[2]))),-N[3]),b(w(w(b(w(b(o(We,Le),N[1]),w(b(o(Ve,q),-z[1]),b(o(Ie,X),F[1]))),D[2]),b(w(b(o(We,Le),D[1]),w(b(o(He,Q),-z[1]),b(o(Ae,ne),F[1]))),-N[2])),w(b(w(b(o(Ve,q),D[1]),w(b(o(He,Q),-N[1]),b(o(Y,W),F[1]))),z[2]),b(w(b(o(Ie,X),D[1]),w(b(o(Ae,ne),-N[1]),b(o(Y,W),z[1]))),-F[2]))),k[3])),w(b(w(w(b(w(b(o(Fe,ce),N[1]),w(b(o(Ve,q),-k[1]),b(o(ue,re),F[1]))),D[2]),b(w(b(o(Fe,ce),D[1]),w(b(o(He,Q),-k[1]),b(o(j,ee),F[1]))),-N[2])),w(b(w(b(o(Ve,q),D[1]),w(b(o(He,Q),-N[1]),b(o(Y,W),F[1]))),k[2]),b(w(b(o(ue,re),D[1]),w(b(o(j,ee),-N[1]),b(o(Y,W),k[1]))),-F[2]))),-z[3]),b(w(w(b(w(b(o(Te,ae),N[1]),w(b(o(Ie,X),-k[1]),b(o(ue,re),z[1]))),D[2]),b(w(b(o(Te,ae),D[1]),w(b(o(Ae,ne),-k[1]),b(o(j,ee),z[1]))),-N[2])),w(b(w(b(o(Ie,X),D[1]),w(b(o(Ae,ne),-N[1]),b(o(Y,W),z[1]))),k[2]),b(w(b(o(ue,re),D[1]),w(b(o(j,ee),-N[1]),b(o(Y,W),k[1]))),-z[2]))),F[3]))))),at=o(wt,Lt);return at[at.length-1]}return I}var A=[m,h,M];function E(w){var o=A[w.length];return o||(o=A[w.length]=l(w.length)),o.apply(void 0,w)}function y(w,o,_,b,I,D,N,k){function z(F,O,B,W,ee,ne){switch(arguments.length){case 0:case 1:return 0;case 2:return b(F,O);case 3:return I(F,O,B);case 4:return D(F,O,B,W);case 5:return N(F,O,B,W,ee);case 6:return k(F,O,B,W,ee,ne)}for(var Q=new Array(arguments.length),le=0;le<arguments.length;++le)Q[le]=arguments[le];return w(Q)}return z}function S(){for(;A.length<=u;)A.push(l(A.length));v.exports=y.apply(void 0,[E].concat(A));for(var w=0;w<=u;++w)v.exports[w]=A[w]}S()},6606:function(v,g,r){var t=r(8167),s=6;function a(A){var E=A===2?l:A===3?m:A===4?h:A===5?M:c;return A<6?E(t[A]):E(t)}function f(){return[[0]]}function u(A,E){return[[E[0]],[A[0][0]]]}function l(A){return function(y,S){return[A([[+S[0],+y[0][1]],[+S[1],+y[1][1]]]),A([[+y[0][0],+S[0]],[+y[1][0],+S[1]]]),A(y)]}}function m(A){return function(y,S){return[A([[+S[0],+y[0][1],+y[0][2]],[+S[1],+y[1][1],+y[1][2]],[+S[2],+y[2][1],+y[2][2]]]),A([[+y[0][0],+S[0],+y[0][2]],[+y[1][0],+S[1],+y[1][2]],[+y[2][0],+S[2],+y[2][2]]]),A([[+y[0][0],+y[0][1],+S[0]],[+y[1][0],+y[1][1],+S[1]],[+y[2][0],+y[2][1],+S[2]]]),A(y)]}}function h(A){return function(y,S){return[A([[+S[0],+y[0][1],+y[0][2],+y[0][3]],[+S[1],+y[1][1],+y[1][2],+y[1][3]],[+S[2],+y[2][1],+y[2][2],+y[2][3]],[+S[3],+y[3][1],+y[3][2],+y[3][3]]]),A([[+y[0][0],+S[0],+y[0][2],+y[0][3]],[+y[1][0],+S[1],+y[1][2],+y[1][3]],[+y[2][0],+S[2],+y[2][2],+y[2][3]],[+y[3][0],+S[3],+y[3][2],+y[3][3]]]),A([[+y[0][0],+y[0][1],+S[0],+y[0][3]],[+y[1][0],+y[1][1],+S[1],+y[1][3]],[+y[2][0],+y[2][1],+S[2],+y[2][3]],[+y[3][0],+y[3][1],+S[3],+y[3][3]]]),A([[+y[0][0],+y[0][1],+y[0][2],+S[0]],[+y[1][0],+y[1][1],+y[1][2],+S[1]],[+y[2][0],+y[2][1],+y[2][2],+S[2]],[+y[3][0],+y[3][1],+y[3][2],+S[3]]]),A(y)]}}function M(A){return function(y,S){return[A([[+S[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+S[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+S[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+S[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+S[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),A([[+y[0][0],+S[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+S[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+S[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+S[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+S[4],+y[4][2],+y[4][3],+y[4][4]]]),A([[+y[0][0],+y[0][1],+S[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+S[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+S[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+S[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+S[4],+y[4][3],+y[4][4]]]),A([[+y[0][0],+y[0][1],+y[0][2],+S[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+S[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+S[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+S[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+S[4],+y[4][4]]]),A([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+S[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+S[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+S[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+S[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+S[4]]]),A(y)]}}function c(A){return function(y,S){return[A([[+S[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+S[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+S[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+S[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+S[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+S[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),A([[+y[0][0],+S[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+S[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+S[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+S[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+S[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+S[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),A([[+y[0][0],+y[0][1],+S[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+S[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+S[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+S[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+S[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+S[5],+y[5][3],+y[5][4],+y[5][5]]]),A([[+y[0][0],+y[0][1],+y[0][2],+S[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+S[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+S[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+S[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+S[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+S[5],+y[5][4],+y[5][5]]]),A([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+S[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+S[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+S[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+S[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+S[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+S[5],+y[5][5]]]),A([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+S[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+S[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+S[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+S[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+S[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+S[5]]]),A(y)]}}var i=[f,u];function d(A,E,y,S,w,o,_,b){return function(D,N){switch(D.length){case 0:return A(D,N);case 1:return E(D,N);case 2:return y(D,N);case 3:return S(D,N);case 4:return w(D,N);case 5:return o(D,N)}var k=_[D.length];return k||(k=_[D.length]=b(D.length)),k(D,N)}}function x(){for(;i.length<s;)i.push(a(i.length));v.exports=d.apply(void 0,i.concat([i,a]));for(var A=0;A<s;++A)v.exports[A]=i[A]}x()},417:function(v,g,r){var t=r(9660),s=r(9662),a=r(8289),f=r(4078),u=5,l=11102230246251565e-32,m=(3+16*l)*l,h=(7+56*l)*l;function M(o,_,b,I){return function(N,k,z){var F=o(o(_(k[1],z[0]),_(-z[1],k[0])),o(_(N[1],k[0]),_(-k[1],N[0]))),O=o(_(N[1],z[0]),_(-z[1],N[0])),B=I(F,O);return B[B.length-1]}}function c(o,_,b,I){return function(N,k,z,F){var O=o(o(b(o(_(z[1],F[0]),_(-F[1],z[0])),k[2]),o(b(o(_(k[1],F[0]),_(-F[1],k[0])),-z[2]),b(o(_(k[1],z[0]),_(-z[1],k[0])),F[2]))),o(b(o(_(k[1],F[0]),_(-F[1],k[0])),N[2]),o(b(o(_(N[1],F[0]),_(-F[1],N[0])),-k[2]),b(o(_(N[1],k[0]),_(-k[1],N[0])),F[2])))),B=o(o(b(o(_(z[1],F[0]),_(-F[1],z[0])),N[2]),o(b(o(_(N[1],F[0]),_(-F[1],N[0])),-z[2]),b(o(_(N[1],z[0]),_(-z[1],N[0])),F[2]))),o(b(o(_(k[1],z[0]),_(-z[1],k[0])),N[2]),o(b(o(_(N[1],z[0]),_(-z[1],N[0])),-k[2]),b(o(_(N[1],k[0]),_(-k[1],N[0])),z[2])))),W=I(O,B);return W[W.length-1]}}function i(o,_,b,I){return function(N,k,z,F,O){var B=o(o(o(b(o(b(o(_(F[1],O[0]),_(-O[1],F[0])),z[2]),o(b(o(_(z[1],O[0]),_(-O[1],z[0])),-F[2]),b(o(_(z[1],F[0]),_(-F[1],z[0])),O[2]))),k[3]),o(b(o(b(o(_(F[1],O[0]),_(-O[1],F[0])),k[2]),o(b(o(_(k[1],O[0]),_(-O[1],k[0])),-F[2]),b(o(_(k[1],F[0]),_(-F[1],k[0])),O[2]))),-z[3]),b(o(b(o(_(z[1],O[0]),_(-O[1],z[0])),k[2]),o(b(o(_(k[1],O[0]),_(-O[1],k[0])),-z[2]),b(o(_(k[1],z[0]),_(-z[1],k[0])),O[2]))),F[3]))),o(b(o(b(o(_(z[1],F[0]),_(-F[1],z[0])),k[2]),o(b(o(_(k[1],F[0]),_(-F[1],k[0])),-z[2]),b(o(_(k[1],z[0]),_(-z[1],k[0])),F[2]))),-O[3]),o(b(o(b(o(_(F[1],O[0]),_(-O[1],F[0])),k[2]),o(b(o(_(k[1],O[0]),_(-O[1],k[0])),-F[2]),b(o(_(k[1],F[0]),_(-F[1],k[0])),O[2]))),N[3]),b(o(b(o(_(F[1],O[0]),_(-O[1],F[0])),N[2]),o(b(o(_(N[1],O[0]),_(-O[1],N[0])),-F[2]),b(o(_(N[1],F[0]),_(-F[1],N[0])),O[2]))),-k[3])))),o(o(b(o(b(o(_(k[1],O[0]),_(-O[1],k[0])),N[2]),o(b(o(_(N[1],O[0]),_(-O[1],N[0])),-k[2]),b(o(_(N[1],k[0]),_(-k[1],N[0])),O[2]))),F[3]),o(b(o(b(o(_(k[1],F[0]),_(-F[1],k[0])),N[2]),o(b(o(_(N[1],F[0]),_(-F[1],N[0])),-k[2]),b(o(_(N[1],k[0]),_(-k[1],N[0])),F[2]))),-O[3]),b(o(b(o(_(z[1],F[0]),_(-F[1],z[0])),k[2]),o(b(o(_(k[1],F[0]),_(-F[1],k[0])),-z[2]),b(o(_(k[1],z[0]),_(-z[1],k[0])),F[2]))),N[3]))),o(b(o(b(o(_(z[1],F[0]),_(-F[1],z[0])),N[2]),o(b(o(_(N[1],F[0]),_(-F[1],N[0])),-z[2]),b(o(_(N[1],z[0]),_(-z[1],N[0])),F[2]))),-k[3]),o(b(o(b(o(_(k[1],F[0]),_(-F[1],k[0])),N[2]),o(b(o(_(N[1],F[0]),_(-F[1],N[0])),-k[2]),b(o(_(N[1],k[0]),_(-k[1],N[0])),F[2]))),z[3]),b(o(b(o(_(k[1],z[0]),_(-z[1],k[0])),N[2]),o(b(o(_(N[1],z[0]),_(-z[1],N[0])),-k[2]),b(o(_(N[1],k[0]),_(-k[1],N[0])),z[2]))),-F[3]))))),W=o(o(o(b(o(b(o(_(F[1],O[0]),_(-O[1],F[0])),z[2]),o(b(o(_(z[1],O[0]),_(-O[1],z[0])),-F[2]),b(o(_(z[1],F[0]),_(-F[1],z[0])),O[2]))),N[3]),b(o(b(o(_(F[1],O[0]),_(-O[1],F[0])),N[2]),o(b(o(_(N[1],O[0]),_(-O[1],N[0])),-F[2]),b(o(_(N[1],F[0]),_(-F[1],N[0])),O[2]))),-z[3])),o(b(o(b(o(_(z[1],O[0]),_(-O[1],z[0])),N[2]),o(b(o(_(N[1],O[0]),_(-O[1],N[0])),-z[2]),b(o(_(N[1],z[0]),_(-z[1],N[0])),O[2]))),F[3]),b(o(b(o(_(z[1],F[0]),_(-F[1],z[0])),N[2]),o(b(o(_(N[1],F[0]),_(-F[1],N[0])),-z[2]),b(o(_(N[1],z[0]),_(-z[1],N[0])),F[2]))),-O[3]))),o(o(b(o(b(o(_(z[1],O[0]),_(-O[1],z[0])),k[2]),o(b(o(_(k[1],O[0]),_(-O[1],k[0])),-z[2]),b(o(_(k[1],z[0]),_(-z[1],k[0])),O[2]))),N[3]),b(o(b(o(_(z[1],O[0]),_(-O[1],z[0])),N[2]),o(b(o(_(N[1],O[0]),_(-O[1],N[0])),-z[2]),b(o(_(N[1],z[0]),_(-z[1],N[0])),O[2]))),-k[3])),o(b(o(b(o(_(k[1],O[0]),_(-O[1],k[0])),N[2]),o(b(o(_(N[1],O[0]),_(-O[1],N[0])),-k[2]),b(o(_(N[1],k[0]),_(-k[1],N[0])),O[2]))),z[3]),b(o(b(o(_(k[1],z[0]),_(-z[1],k[0])),N[2]),o(b(o(_(N[1],z[0]),_(-z[1],N[0])),-k[2]),b(o(_(N[1],k[0]),_(-k[1],N[0])),z[2]))),-O[3])))),ee=I(B,W);return ee[ee.length-1]}}function d(o){var _=o===3?M:o===4?c:i;return _(s,t,a,f)}var x=d(3),A=d(4),E=[function(){return 0},function(){return 0},function(_,b){return b[0]-_[0]},function(_,b,I){var D=(_[1]-I[1])*(b[0]-I[0]),N=(_[0]-I[0])*(b[1]-I[1]),k=D-N,z;if(D>0){if(N<=0)return k;z=D+N}else if(D<0){if(N>=0)return k;z=-(D+N)}else return k;var F=m*z;return k>=F||k<=-F?k:x(_,b,I)},function(_,b,I,D){var N=_[0]-D[0],k=b[0]-D[0],z=I[0]-D[0],F=_[1]-D[1],O=b[1]-D[1],B=I[1]-D[1],W=_[2]-D[2],ee=b[2]-D[2],ne=I[2]-D[2],Q=k*B,le=z*O,Z=z*F,Y=N*B,re=N*O,X=k*F,q=W*(Q-le)+ee*(Z-Y)+ne*(re-X),se=(Math.abs(Q)+Math.abs(le))*Math.abs(W)+(Math.abs(Z)+Math.abs(Y))*Math.abs(ee)+(Math.abs(re)+Math.abs(X))*Math.abs(ne),$=h*se;return q>$||-q>$?q:A(_,b,I,D)}];function y(o){var _=E[o.length];return _||(_=E[o.length]=d(o.length)),_.apply(void 0,o)}function S(o,_,b,I,D,N,k){return function(F,O,B,W,ee){switch(arguments.length){case 0:case 1:return 0;case 2:return I(F,O);case 3:return D(F,O,B);case 4:return N(F,O,B,W);case 5:return k(F,O,B,W,ee)}for(var ne=new Array(arguments.length),Q=0;Q<arguments.length;++Q)ne[Q]=arguments[Q];return o(ne)}}function w(){for(;E.length<=u;)E.push(d(E.length));v.exports=S.apply(void 0,[y].concat(E));for(var o=0;o<=u;++o)v.exports[o]=E[o]}w()},2019:function(v,g,r){var t=r(9662),s=r(8289);v.exports=a;function a(f,u){if(f.length===1)return s(u,f[0]);if(u.length===1)return s(f,u[0]);if(f.length===0||u.length===0)return[0];var l=[0];if(f.length<u.length)for(var m=0;m<f.length;++m)l=t(l,s(u,f[m]));else for(var m=0;m<u.length;++m)l=t(l,s(f,u[m]));return l}},8289:function(v,g,r){var t=r(9660),s=r(87);v.exports=a;function a(f,u){var l=f.length;if(l===1){var m=t(f[0],u);return m[0]?m:[m[1]]}var h=new Array(2*l),M=[.1,.1],c=[.1,.1],i=0;t(f[0],u,M),M[0]&&(h[i++]=M[0]);for(var d=1;d<l;++d){t(f[d],u,c);var x=M[1];s(x,c[0],M),M[0]&&(h[i++]=M[0]);var A=c[1],E=M[1],y=A+E,S=y-A,w=E-S;M[1]=y,w&&(h[i++]=w)}return M[1]&&(h[i++]=M[1]),i===0&&(h[i++]=0),h.length=i,h}},4434:function(v,g,r){v.exports=a;var t=r(417)[3];function s(f,u,l,m){for(var h=0;h<2;++h){var M=f[h],c=u[h],i=Math.min(M,c),d=Math.max(M,c),x=l[h],A=m[h],E=Math.min(x,A),y=Math.max(x,A);if(y<i||d<E)return!1}return!0}function a(f,u,l,m){var h=t(f,l,m),M=t(u,l,m);if(h>0&&M>0||h<0&&M<0)return!1;var c=t(l,f,u),i=t(m,f,u);return c>0&&i>0||c<0&&i<0?!1:h===0&&M===0&&c===0&&i===0?s(f,u,l,m):!0}},4078:function(v){v.exports=r;function g(t,s){var a=t+s,f=a-t,u=a-f,l=s-f,m=t-u,h=m+l;return h?[h,a]:[a]}function r(t,s){var a=t.length|0,f=s.length|0;if(a===1&&f===1)return g(t[0],-s[0]);var u=a+f,l=new Array(u),m=0,h=0,M=0,c=Math.abs,i=t[h],d=c(i),x=-s[M],A=c(x),E,y;d<A?(y=i,h+=1,h<a&&(i=t[h],d=c(i))):(y=x,M+=1,M<f&&(x=-s[M],A=c(x))),h<a&&d<A||M>=f?(E=i,h+=1,h<a&&(i=t[h],d=c(i))):(E=x,M+=1,M<f&&(x=-s[M],A=c(x)));for(var S=E+y,w=S-E,o=y-w,_=o,b=S,I,D,N,k,z;h<a&&M<f;)d<A?(E=i,h+=1,h<a&&(i=t[h],d=c(i))):(E=x,M+=1,M<f&&(x=-s[M],A=c(x))),y=_,S=E+y,w=S-E,o=y-w,o&&(l[m++]=o),I=b+S,D=I-b,N=I-D,k=S-D,z=b-N,_=z+k,b=I;for(;h<a;)E=i,y=_,S=E+y,w=S-E,o=y-w,o&&(l[m++]=o),I=b+S,D=I-b,N=I-D,k=S-D,z=b-N,_=z+k,b=I,h+=1,h<a&&(i=t[h]);for(;M<f;)E=x,y=_,S=E+y,w=S-E,o=y-w,o&&(l[m++]=o),I=b+S,D=I-b,N=I-D,k=S-D,z=b-N,_=z+k,b=I,M+=1,M<f&&(x=-s[M]);return _&&(l[m++]=_),b&&(l[m++]=b),m||(l[m++]=0),l.length=m,l}},9662:function(v){v.exports=r;function g(t,s){var a=t+s,f=a-t,u=a-f,l=s-f,m=t-u,h=m+l;return h?[h,a]:[a]}function r(t,s){var a=t.length|0,f=s.length|0;if(a===1&&f===1)return g(t[0],s[0]);var u=a+f,l=new Array(u),m=0,h=0,M=0,c=Math.abs,i=t[h],d=c(i),x=s[M],A=c(x),E,y;d<A?(y=i,h+=1,h<a&&(i=t[h],d=c(i))):(y=x,M+=1,M<f&&(x=s[M],A=c(x))),h<a&&d<A||M>=f?(E=i,h+=1,h<a&&(i=t[h],d=c(i))):(E=x,M+=1,M<f&&(x=s[M],A=c(x)));for(var S=E+y,w=S-E,o=y-w,_=o,b=S,I,D,N,k,z;h<a&&M<f;)d<A?(E=i,h+=1,h<a&&(i=t[h],d=c(i))):(E=x,M+=1,M<f&&(x=s[M],A=c(x))),y=_,S=E+y,w=S-E,o=y-w,o&&(l[m++]=o),I=b+S,D=I-b,N=I-D,k=S-D,z=b-N,_=z+k,b=I;for(;h<a;)E=i,y=_,S=E+y,w=S-E,o=y-w,o&&(l[m++]=o),I=b+S,D=I-b,N=I-D,k=S-D,z=b-N,_=z+k,b=I,h+=1,h<a&&(i=t[h]);for(;M<f;)E=x,y=_,S=E+y,w=S-E,o=y-w,o&&(l[m++]=o),I=b+S,D=I-b,N=I-D,k=S-D,z=b-N,_=z+k,b=I,M+=1,M<f&&(x=s[M]);return _&&(l[m++]=_),b&&(l[m++]=b),m||(l[m++]=0),l.length=m,l}},8691:function(v,g,r){v.exports=a;var t=r(2692),s=r(7037);function a(f){return s(t(f))}},7212:function(v,g,r){v.exports=i;var t=r(5050),s=r(5306),a=r(8729),f=r(1168);function u(d){for(var x=d.length,A=0,E=0;E<x;++E)A=Math.max(A,d[E].length)|0;return A-1}function l(d,x){for(var A=d.length,E=s.mallocUint8(A),y=0;y<A;++y)E[y]=d[y]<x|0;return E}function m(d,x){for(var A=d.length,E=x*(x+1)/2*A|0,y=s.mallocUint32(E*2),S=0,w=0;w<A;++w)for(var o=d[w],x=o.length,_=0;_<x;++_)for(var b=0;b<_;++b){var I=o[b],D=o[_];y[S++]=Math.min(I,D)|0,y[S++]=Math.max(I,D)|0}var N=S/2|0;a(t(y,[N,2]));for(var k=2,w=2;w<S;w+=2)y[w-2]===y[w]&&y[w-1]===y[w+1]||(y[k++]=y[w],y[k++]=y[w+1]);return t(y,[k/2|0,2])}function h(d,x,A,E){for(var y=d.data,S=d.shape[0],w=s.mallocDouble(S),o=0,_=0;_<S;++_){var b=y[2*_],I=y[2*_+1];if(A[b]!==A[I]){var D=x[b],N=x[I];y[2*o]=b,y[2*o+1]=I,w[o++]=(N-E)/(N-D)}}return d.shape[0]=o,t(w,[o])}function M(d,x){var A=s.mallocInt32(x*2),E=d.shape[0],y=d.data;A[0]=0;for(var S=0,w=0;w<E;++w){var o=y[2*w];if(o!==S){for(A[2*S+1]=w;++S<o;)A[2*S]=w,A[2*S+1]=w;A[2*S]=w}}for(A[2*S+1]=E;++S<x;)A[2*S]=A[2*S+1]=E;return A}function c(d){for(var x=d.shape[0]|0,A=d.data,E=new Array(x),y=0;y<x;++y)E[y]=[A[2*y],A[2*y+1]];return E}function i(d,x,A,E){A=A||0,typeof E>"u"&&(E=u(d));var y=d.length;if(y===0||E<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=l(x,+A),w=m(d,E),o=h(w,x,S,+A),_=M(w,x.length|0),b=f(E)(d,w.data,_,S),I=c(w),D=[].slice.call(o.data,0,o.shape[0]);return s.free(S),s.free(w.data),s.free(o.data),s.free(_),{cells:b,vertexIds:I,vertexWeights:D}}},1168:function(v){v.exports=r;var g=[function(){function s(a,f,u,l){for(var m=a.length,h=[],M=0;M<m;++M){var c=a[M];c.length}return h}return s},function(){function s(f,u,l,m){for(var h=Math.min(l,m)|0,M=Math.max(l,m)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,x=u[2*d+1];if(x===M)return d;M<x?i=d:c=d+1}return c}function a(f,u,l,m){for(var h=f.length,M=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===2){var x=(m[i[0]]<<0)+(m[i[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:M.push([s(l,u,i[0],i[1])]);break;case 2:M.push([s(l,u,i[1],i[0])]);break}}}return M}return a},function(){function s(f,u,l,m){for(var h=Math.min(l,m)|0,M=Math.max(l,m)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,x=u[2*d+1];if(x===M)return d;M<x?i=d:c=d+1}return c}function a(f,u,l,m){for(var h=f.length,M=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===3){var x=(m[i[0]]<<0)+(m[i[1]]<<1)+(m[i[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:M.push([s(l,u,i[0],i[2]),s(l,u,i[0],i[1])]);break;case 2:M.push([s(l,u,i[1],i[0]),s(l,u,i[1],i[2])]);break;case 3:M.push([s(l,u,i[0],i[2]),s(l,u,i[1],i[2])]);break;case 4:M.push([s(l,u,i[2],i[1]),s(l,u,i[2],i[0])]);break;case 5:M.push([s(l,u,i[2],i[1]),s(l,u,i[0],i[1])]);break;case 6:M.push([s(l,u,i[1],i[0]),s(l,u,i[2],i[0])]);break}}else if(d===2){var x=(m[i[0]]<<0)+(m[i[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:M.push([s(l,u,i[0],i[1])]);break;case 2:M.push([s(l,u,i[1],i[0])]);break}}}return M}return a},function(){function s(f,u,l,m){for(var h=Math.min(l,m)|0,M=Math.max(l,m)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,x=u[2*d+1];if(x===M)return d;M<x?i=d:c=d+1}return c}function a(f,u,l,m){for(var h=f.length,M=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===4){var x=(m[i[0]]<<0)+(m[i[1]]<<1)+(m[i[2]]<<2)+(m[i[3]]<<3);if(x===0||x===15)continue;switch(x){case 0:break;case 1:M.push([s(l,u,i[0],i[1]),s(l,u,i[0],i[2]),s(l,u,i[0],i[3])]);break;case 2:M.push([s(l,u,i[1],i[2]),s(l,u,i[1],i[0]),s(l,u,i[1],i[3])]);break;case 3:M.push([s(l,u,i[1],i[2]),s(l,u,i[0],i[2]),s(l,u,i[0],i[3])],[s(l,u,i[1],i[3]),s(l,u,i[1],i[2]),s(l,u,i[0],i[3])]);break;case 4:M.push([s(l,u,i[2],i[0]),s(l,u,i[2],i[1]),s(l,u,i[2],i[3])]);break;case 5:M.push([s(l,u,i[0],i[1]),s(l,u,i[2],i[1]),s(l,u,i[0],i[3])],[s(l,u,i[2],i[1]),s(l,u,i[2],i[3]),s(l,u,i[0],i[3])]);break;case 6:M.push([s(l,u,i[2],i[0]),s(l,u,i[1],i[0]),s(l,u,i[1],i[3])],[s(l,u,i[2],i[3]),s(l,u,i[2],i[0]),s(l,u,i[1],i[3])]);break;case 7:M.push([s(l,u,i[0],i[3]),s(l,u,i[1],i[3]),s(l,u,i[2],i[3])]);break;case 8:M.push([s(l,u,i[3],i[1]),s(l,u,i[3],i[0]),s(l,u,i[3],i[2])]);break;case 9:M.push([s(l,u,i[3],i[1]),s(l,u,i[0],i[1]),s(l,u,i[0],i[2])],[s(l,u,i[3],i[2]),s(l,u,i[3],i[1]),s(l,u,i[0],i[2])]);break;case 10:M.push([s(l,u,i[1],i[0]),s(l,u,i[3],i[0]),s(l,u,i[1],i[2])],[s(l,u,i[3],i[0]),s(l,u,i[3],i[2]),s(l,u,i[1],i[2])]);break;case 11:M.push([s(l,u,i[1],i[2]),s(l,u,i[0],i[2]),s(l,u,i[3],i[2])]);break;case 12:M.push([s(l,u,i[3],i[0]),s(l,u,i[2],i[0]),s(l,u,i[2],i[1])],[s(l,u,i[3],i[1]),s(l,u,i[3],i[0]),s(l,u,i[2],i[1])]);break;case 13:M.push([s(l,u,i[0],i[1]),s(l,u,i[2],i[1]),s(l,u,i[3],i[1])]);break;case 14:M.push([s(l,u,i[2],i[0]),s(l,u,i[1],i[0]),s(l,u,i[3],i[0])]);break}}else if(d===3){var x=(m[i[0]]<<0)+(m[i[1]]<<1)+(m[i[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:M.push([s(l,u,i[0],i[2]),s(l,u,i[0],i[1])]);break;case 2:M.push([s(l,u,i[1],i[0]),s(l,u,i[1],i[2])]);break;case 3:M.push([s(l,u,i[0],i[2]),s(l,u,i[1],i[2])]);break;case 4:M.push([s(l,u,i[2],i[1]),s(l,u,i[2],i[0])]);break;case 5:M.push([s(l,u,i[2],i[1]),s(l,u,i[0],i[1])]);break;case 6:M.push([s(l,u,i[1],i[0]),s(l,u,i[2],i[0])]);break}}else if(d===2){var x=(m[i[0]]<<0)+(m[i[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:M.push([s(l,u,i[0],i[1])]);break;case 2:M.push([s(l,u,i[1],i[0])]);break}}}return M}return a}];function r(t){return g[t]()}},8211:function(v,g,r){r(2288),r(1731);function t(s,a){var f=s.length,u=s.length-a.length,l=Math.min;if(u)return u;switch(f){case 0:return 0;case 1:return s[0]-a[0];case 2:var i=s[0]+s[1]-a[0]-a[1];return i||l(s[0],s[1])-l(a[0],a[1]);case 3:var m=s[0]+s[1],h=a[0]+a[1];if(i=m+s[2]-(h+a[2]),i)return i;var M=l(s[0],s[1]),c=l(a[0],a[1]),i=l(M,s[2])-l(c,a[2]);return i||l(M+s[2],m)-l(c+a[2],h);default:var d=s.slice(0);d.sort();var x=a.slice(0);x.sort();for(var A=0;A<f;++A)if(u=d[A]-x[A],u)return u;return 0}}g.H=t},9392:function(v,g){"use restrict";var r=32;g.INT_BITS=r,g.INT_MAX=2147483647,g.INT_MIN=-1<<r-1,g.sign=function(a){return(a>0)-(a<0)},g.abs=function(a){var f=a>>r-1;return(a^f)-f},g.min=function(a,f){return f^(a^f)&-(a<f)},g.max=function(a,f){return a^(a^f)&-(a<f)},g.isPow2=function(a){return!(a&a-1)&&!!a},g.log2=function(a){var f,u;return f=(a>65535)<<4,a>>>=f,u=(a>255)<<3,a>>>=u,f|=u,u=(a>15)<<2,a>>>=u,f|=u,u=(a>3)<<1,a>>>=u,f|=u,f|a>>1},g.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},g.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function t(a){var f=32;return a&=-a,a&&f--,a&65535&&(f-=16),a&16711935&&(f-=8),a&252645135&&(f-=4),a&858993459&&(f-=2),a&1431655765&&(f-=1),f}g.countTrailingZeros=t,g.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},g.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},g.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var s=new Array(256);(function(a){for(var f=0;f<256;++f){var u=f,l=f,m=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--m;a[f]=l<<m&255}})(s),g.reverse=function(a){return s[a&255]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},g.interleave2=function(a,f){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,a|f<<1},g.deinterleave2=function(a,f){return a=a>>>f&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},g.interleave3=function(a,f,u){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,a|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,a|u<<2},g.deinterleave3=function(a,f){return a=a>>>f&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},g.nextCombination=function(a){var f=a|a-1;return f+1|(~f&-~f)-1>>>t(a)+1}},6656:function(v,g,r){"use restrict";var t=r(9392),s=r(9521);function a(o){for(var _=0,b=Math.max,I=0,D=o.length;I<D;++I)_=b(_,o[I].length);return _-1}g.dimension=a;function f(o){for(var _=-1,b=Math.max,I=0,D=o.length;I<D;++I)for(var N=o[I],k=0,z=N.length;k<z;++k)_=b(_,N[k]);return _+1}g.countVertices=f;function u(o){for(var _=new Array(o.length),b=0,I=o.length;b<I;++b)_[b]=o[b].slice(0);return _}g.cloneCells=u;function l(o,_){var b=o.length,I=o.length-_.length,D=Math.min;if(I)return I;switch(b){case 0:return 0;case 1:return o[0]-_[0];case 2:var O=o[0]+o[1]-_[0]-_[1];return O||D(o[0],o[1])-D(_[0],_[1]);case 3:var N=o[0]+o[1],k=_[0]+_[1];if(O=N+o[2]-(k+_[2]),O)return O;var z=D(o[0],o[1]),F=D(_[0],_[1]),O=D(z,o[2])-D(F,_[2]);return O||D(z+o[2],N)-D(F+_[2],k);default:var B=o.slice(0);B.sort();var W=_.slice(0);W.sort();for(var ee=0;ee<b;++ee)if(I=B[ee]-W[ee],I)return I;return 0}}g.compareCells=l;function m(o,_){return l(o[0],_[0])}function h(o,_){if(_){for(var b=o.length,I=new Array(b),D=0;D<b;++D)I[D]=[o[D],_[D]];I.sort(m);for(var D=0;D<b;++D)o[D]=I[D][0],_[D]=I[D][1];return o}else return o.sort(l),o}g.normalize=h;function M(o){if(o.length===0)return[];for(var _=1,b=o.length,I=1;I<b;++I){var D=o[I];if(l(D,o[I-1])){if(I===_){_++;continue}o[_++]=D}}return o.length=_,o}g.unique=M;function c(o,_){for(var b=0,I=o.length-1,D=-1;b<=I;){var N=b+I>>1,k=l(o[N],_);k<=0?(k===0&&(D=N),b=N+1):k>0&&(I=N-1)}return D}g.findCell=c;function i(o,_){for(var b=new Array(o.length),I=0,D=b.length;I<D;++I)b[I]=[];for(var N=[],I=0,k=_.length;I<k;++I)for(var z=_[I],F=z.length,O=1,B=1<<F;O<B;++O){N.length=t.popCount(O);for(var W=0,ee=0;ee<F;++ee)O&1<<ee&&(N[W++]=z[ee]);var ne=c(o,N);if(!(ne<0))for(;b[ne++].push(I),!(ne>=o.length||l(o[ne],N)!==0););}return b}g.incidence=i;function d(o,_){if(!_)return i(M(A(o,0)),o);for(var b=new Array(_),I=0;I<_;++I)b[I]=[];for(var I=0,D=o.length;I<D;++I)for(var N=o[I],k=0,z=N.length;k<z;++k)b[N[k]].push(I);return b}g.dual=d;function x(o){for(var _=[],b=0,I=o.length;b<I;++b)for(var D=o[b],N=D.length|0,k=1,z=1<<N;k<z;++k){for(var F=[],O=0;O<N;++O)k>>>O&1&&F.push(D[O]);_.push(F)}return h(_)}g.explode=x;function A(o,_){if(_<0)return[];for(var b=[],I=(1<<_+1)-1,D=0;D<o.length;++D)for(var N=o[D],k=I;k<1<<N.length;k=t.nextCombination(k)){for(var z=new Array(_+1),F=0,O=0;O<N.length;++O)k&1<<O&&(z[F++]=N[O]);b.push(z)}return h(b)}g.skeleton=A;function E(o){for(var _=[],b=0,I=o.length;b<I;++b)for(var D=o[b],N=0,k=D.length;N<k;++N){for(var z=new Array(D.length-1),F=0,O=0;F<k;++F)F!==N&&(z[O++]=D[F]);_.push(z)}return h(_)}g.boundary=E;function y(o,_){for(var b=new s(_),I=0;I<o.length;++I)for(var D=o[I],N=0;N<D.length;++N)for(var k=N+1;k<D.length;++k)b.link(D[N],D[k]);for(var z=[],F=b.ranks,I=0;I<F.length;++I)F[I]=-1;for(var I=0;I<o.length;++I){var O=b.find(o[I][0]);F[O]<0?(F[O]=z.length,z.push([o[I].slice(0)])):z[F[O]].push(o[I].slice(0))}return z}function S(o){for(var _=M(h(A(o,0))),b=new s(_.length),I=0;I<o.length;++I)for(var D=o[I],N=0;N<D.length;++N)for(var k=c(_,[D[N]]),z=N+1;z<D.length;++z)b.link(k,c(_,[D[z]]));for(var F=[],O=b.ranks,I=0;I<O.length;++I)O[I]=-1;for(var I=0;I<o.length;++I){var B=b.find(c(_,[o[I][0]]));O[B]<0?(O[B]=F.length,F.push([o[I].slice(0)])):F[O[B]].push(o[I].slice(0))}return F}function w(o,_){return _?y(o,_):S(o)}g.connectedComponents=w},9521:function(v){"use restrict";v.exports=g;function g(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}g.prototype.length=function(){return this.roots.length},g.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},g.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var s=t[r];t[r]=t[s],r=s}return r},g.prototype.link=function(r,t){var s=this.find(r),a=this.find(t);if(s!==a){var f=this.ranks,u=this.roots,l=f[s],m=f[a];l<m?u[s]=a:m<l?u[a]=s:(u[a]=s,++f[s])}}},8243:function(v,g,r){v.exports=f;var t=r(417),s=r(6656);function a(u,l,m){var h=Math.abs(t(u,l,m)),M=Math.sqrt(Math.pow(l[0]-m[0],2)+Math.pow(l[1]-m[1],2));return h/M}function f(u,l,m){for(var h=l.length,M=u.length,c=new Array(h),i=new Array(h),d=new Array(h),x=new Array(h),A=0;A<h;++A)c[A]=i[A]=-1,d[A]=1/0,x[A]=!1;for(var A=0;A<M;++A){var E=u[A];if(E.length!==2)throw new Error("Input must be a graph");var y=E[1],S=E[0];i[S]!==-1?i[S]=-2:i[S]=y,c[y]!==-1?c[y]=-2:c[y]=S}function w(Z){if(x[Z])return 1/0;var Y=c[Z],re=i[Z];return Y<0||re<0?1/0:a(l[Z],l[Y],l[re])}function o(Z,Y){var re=F[Z],X=F[Y];F[Z]=X,F[Y]=re,O[re]=Y,O[X]=Z}function _(Z){return d[F[Z]]}function b(Z){return Z&1?Z-1>>1:(Z>>1)-1}function I(Z){for(var Y=_(Z);;){var re=Y,X=2*Z+1,q=2*(Z+1),se=Z;if(X<W){var $=_(X);$<re&&(se=X,re=$)}if(q<W){var j=_(q);j<re&&(se=q)}if(se===Z)return Z;o(Z,se),Z=se}}function D(Z){for(var Y=_(Z);Z>0;){var re=b(Z);if(re>=0){var X=_(re);if(Y<X){o(Z,re),Z=re;continue}}return Z}}function N(){if(W>0){var Z=F[0];return o(0,W-1),W-=1,I(0),Z}return-1}function k(Z,Y){var re=F[Z];return d[re]===Y?Z:(d[re]=-1/0,D(Z),N(),d[re]=Y,W+=1,D(W-1))}function z(Z){if(!x[Z]){x[Z]=!0;var Y=c[Z],re=i[Z];c[re]>=0&&(c[re]=Y),i[Y]>=0&&(i[Y]=re),O[Y]>=0&&k(O[Y],w(Y)),O[re]>=0&&k(O[re],w(re))}}for(var F=[],O=new Array(h),A=0;A<h;++A){var B=d[A]=w(A);B<1/0?(O[A]=F.length,F.push(A)):O[A]=-1}for(var W=F.length,A=W>>1;A>=0;--A)I(A);for(;;){var ee=N();if(ee<0||d[ee]>m)break;z(ee)}for(var ne=[],A=0;A<h;++A)x[A]||(O[A]=ne.length,ne.push(l[A].slice()));ne.length;function Q(Z,Y){if(Z[Y]<0)return Y;var re=Y,X=Y;do{var q=Z[X];if(!x[X]||q<0||q===X||(X=q,q=Z[X],!x[X]||q<0||q===X))break;X=q,re=Z[re]}while(re!==X);for(var se=Y;se!==X;se=Z[se])Z[se]=X;return X}var le=[];return u.forEach(function(Z){var Y=Q(c,Z[0]),re=Q(i,Z[1]);if(Y>=0&&re>=0&&Y!==re){var X=O[Y],q=O[re];X!==q&&le.push([X,q])}}),s.unique(s.normalize(le)),{positions:ne,edges:le}}},6638:function(v,g,r){v.exports=a;var t=r(417);function s(f,u){var l,m;if(u[0][0]<u[1][0])l=u[0],m=u[1];else if(u[0][0]>u[1][0])l=u[1],m=u[0];else{var h=Math.min(f[0][1],f[1][1]),M=Math.max(f[0][1],f[1][1]),c=Math.min(u[0][1],u[1][1]),i=Math.max(u[0][1],u[1][1]);return M<c?M-c:h>i?h-i:M-i}var d,x;f[0][1]<f[1][1]?(d=f[0],x=f[1]):(d=f[1],x=f[0]);var A=t(m,l,d);return A||(A=t(m,l,x),A)?A:x-m}function a(f,u){var l,m;if(u[0][0]<u[1][0])l=u[0],m=u[1];else if(u[0][0]>u[1][0])l=u[1],m=u[0];else return s(u,f);var h,M;if(f[0][0]<f[1][0])h=f[0],M=f[1];else if(f[0][0]>f[1][0])h=f[1],M=f[0];else return-s(f,u);var c=t(l,m,M),i=t(l,m,h);if(c<0){if(i<=0)return c}else if(c>0){if(i>=0)return c}else if(i)return i;if(c=t(M,h,m),i=t(M,h,l),c<0){if(i<=0)return c}else if(c>0){if(i>=0)return c}else if(i)return i;return m[0]-M[0]}},4385:function(v,g,r){v.exports=i;var t=r(5070),s=r(7080),a=r(417),f=r(6638);function u(d,x,A){this.slabs=d,this.coordinates=x,this.horizontal=A}var l=u.prototype;function m(d,x){return d.y-x}function h(d,x){for(var A=null;d;){var E=d.key,y,S;E[0][0]<E[1][0]?(y=E[0],S=E[1]):(y=E[1],S=E[0]);var w=a(y,S,x);if(w<0)d=d.left;else if(w>0)if(x[0]!==E[1][0])A=d,d=d.right;else{var o=h(d.right,x);if(o)return o;d=d.left}else{if(x[0]!==E[1][0])return d;var o=h(d.right,x);if(o)return o;d=d.left}}return A}l.castUp=function(d){var x=t.le(this.coordinates,d[0]);if(x<0)return-1;this.slabs[x];var A=h(this.slabs[x],d),E=-1;if(A&&(E=A.value),this.coordinates[x]===d[0]){var y=null;if(A&&(y=A.key),x>0){var S=h(this.slabs[x-1],d);S&&(y?f(S.key,y)>0&&(y=S.key,E=S.value):(E=S.value,y=S.key))}var w=this.horizontal[x];if(w.length>0){var o=t.ge(w,d[1],m);if(o<w.length){var _=w[o];if(d[1]===_.y){if(_.closed)return _.index;for(;o<w.length-1&&w[o+1].y===d[1];)if(o=o+1,_=w[o],_.closed)return _.index;if(_.y===d[1]&&!_.start){if(o=o+1,o>=w.length)return E;_=w[o]}}if(_.start)if(y){var b=a(y[0],y[1],[d[0],_.y]);y[0][0]>y[1][0]&&(b=-b),b>0&&(E=_.index)}else E=_.index;else _.y!==d[1]&&(E=_.index)}}}return E};function M(d,x,A,E){this.y=d,this.index=x,this.start=A,this.closed=E}function c(d,x,A,E){this.x=d,this.segment=x,this.create=A,this.index=E}function i(d){for(var x=d.length,A=2*x,E=new Array(A),y=0;y<x;++y){var S=d[y],w=S[0][0]<S[1][0];E[2*y]=new c(S[0][0],S,w,y),E[2*y+1]=new c(S[1][0],S,!w,y)}E.sort(function(z,F){var O=z.x-F.x;return O||(O=z.create-F.create,O)?O:Math.min(z.segment[0][1],z.segment[1][1])-Math.min(F.segment[0][1],F.segment[1][1])});for(var o=s(f),_=[],b=[],I=[],y=0;y<A;){for(var D=E[y].x,N=[];y<A;){var k=E[y];if(k.x!==D)break;y+=1,k.segment[0][0]===k.x&&k.segment[1][0]===k.x?k.create&&(k.segment[0][1]<k.segment[1][1]?(N.push(new M(k.segment[0][1],k.index,!0,!0)),N.push(new M(k.segment[1][1],k.index,!1,!1))):(N.push(new M(k.segment[1][1],k.index,!0,!1)),N.push(new M(k.segment[0][1],k.index,!1,!0)))):k.create?o=o.insert(k.segment,k.index):o=o.remove(k.segment)}_.push(o.root),b.push(D),I.push(N)}return new u(_,b,I)}},4670:function(v,g,r){var t=r(9130),s=r(9662);v.exports=u,v.exports.positive=l,v.exports.negative=m;function a(h,M){var c=s(t(h,M),[M[M.length-1]]);return c[c.length-1]}function f(h,M,c,i){var d=i-M,x=-M/d;x<0?x=0:x>1&&(x=1);for(var A=1-x,E=h.length,y=new Array(E),S=0;S<E;++S)y[S]=x*h[S]+A*c[S];return y}function u(h,M){for(var c=[],i=[],d=a(h[h.length-1],M),x=h[h.length-1],A=h[0],E=0;E<h.length;++E,x=A){A=h[E];var y=a(A,M);if(d<0&&y>0||d>0&&y<0){var S=f(x,y,A,d);c.push(S),i.push(S.slice())}y<0?i.push(A.slice()):y>0?c.push(A.slice()):(c.push(A.slice()),i.push(A.slice())),d=y}return{positive:c,negative:i}}function l(h,M){for(var c=[],i=a(h[h.length-1],M),d=h[h.length-1],x=h[0],A=0;A<h.length;++A,d=x){x=h[A];var E=a(x,M);(i<0&&E>0||i>0&&E<0)&&c.push(f(d,E,x,i)),E>=0&&c.push(x.slice()),i=E}return c}function m(h,M){for(var c=[],i=a(h[h.length-1],M),d=h[h.length-1],x=h[0],A=0;A<h.length;++A,d=x){x=h[A];var E=a(x,M);(i<0&&E>0||i>0&&E<0)&&c.push(f(d,E,x,i)),E<=0&&c.push(x.slice()),i=E}return c}},8974:function(v,g,r){var t;(function(){var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(h){return u(m(h),arguments)}function f(h,M){return a.apply(null,[h].concat(M||[]))}function u(h,M){var c=1,i=h.length,d,x="",A,E,y,S,w,o,_,b;for(A=0;A<i;A++)if(typeof h[A]=="string")x+=h[A];else if(typeof h[A]=="object"){if(y=h[A],y.keys)for(d=M[c],E=0;E<y.keys.length;E++){if(d==null)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',y.keys[E],y.keys[E-1]));d=d[y.keys[E]]}else y.param_no?d=M[y.param_no]:d=M[c++];if(s.not_type.test(y.type)&&s.not_primitive.test(y.type)&&d instanceof Function&&(d=d()),s.numeric_arg.test(y.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(a("[sprintf] expecting number but found %T",d));switch(s.number.test(y.type)&&(_=d>=0),y.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,y.width?parseInt(y.width):0);break;case"e":d=y.precision?parseFloat(d).toExponential(y.precision):parseFloat(d).toExponential();break;case"f":d=y.precision?parseFloat(d).toFixed(y.precision):parseFloat(d);break;case"g":d=y.precision?String(Number(d.toPrecision(y.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=y.precision?d.substring(0,y.precision):d;break;case"t":d=String(!!d),d=y.precision?d.substring(0,y.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=y.precision?d.substring(0,y.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=y.precision?d.substring(0,y.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}s.json.test(y.type)?x+=d:(s.number.test(y.type)&&(!_||y.sign)?(b=_?"+":"-",d=d.toString().replace(s.sign,"")):b="",w=y.pad_char?y.pad_char==="0"?"0":y.pad_char.charAt(1):" ",o=y.width-(b+d).length,S=y.width&&o>0?w.repeat(o):"",x+=y.align?b+d+S:w==="0"?b+S+d:S+b+d)}return x}var l=Object.create(null);function m(h){if(l[h])return l[h];for(var M=h,c,i=[],d=0;M;){if((c=s.text.exec(M))!==null)i.push(c[0]);else if((c=s.modulo.exec(M))!==null)i.push("%");else if((c=s.placeholder.exec(M))!==null){if(c[2]){d|=1;var x=[],A=c[2],E=[];if((E=s.key.exec(A))!==null)for(x.push(E[1]);(A=A.substring(E[0].length))!=="";)if((E=s.key_access.exec(A))!==null)x.push(E[1]);else if((E=s.index_access.exec(A))!==null)x.push(E[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=x}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");M=M.substring(c[0].length)}return l[h]=i}g.sprintf=a,g.vsprintf=f,typeof window<"u"&&(window.sprintf=a,window.vsprintf=f,t=(function(){return{sprintf:a,vsprintf:f}}).call(g,r,g,v),t!==void 0&&(v.exports=t))})()},4162:function(v,g,r){v.exports=m;var t=r(9284),s=r(9584),a={"2d":function(h,M,c){var i=h({order:M,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(x,A,E,y){return x>y|0},vertex:function(x,A,E,y,S,w,o,_,b,I,D,N,k){var z=(o<<0)+(_<<1)+(b<<2)+(I<<3)|0;if(!(z===0||z===15))switch(z){case 0:D.push([x-.5,A-.5]);break;case 1:D.push([x-.25-.25*(y+E-2*k)/(E-y),A-.25-.25*(S+E-2*k)/(E-S)]);break;case 2:D.push([x-.75-.25*(-y-E+2*k)/(y-E),A-.25-.25*(w+y-2*k)/(y-w)]);break;case 3:D.push([x-.5,A-.5-.5*(S+E+w+y-4*k)/(E-S+y-w)]);break;case 4:D.push([x-.25-.25*(w+S-2*k)/(S-w),A-.75-.25*(-S-E+2*k)/(S-E)]);break;case 5:D.push([x-.5-.5*(y+E+w+S-4*k)/(E-y+S-w),A-.5]);break;case 6:D.push([x-.5-.25*(-y-E+w+S)/(y-E+S-w),A-.5-.25*(-S-E+w+y)/(S-E+y-w)]);break;case 7:D.push([x-.75-.25*(w+S-2*k)/(S-w),A-.75-.25*(w+y-2*k)/(y-w)]);break;case 8:D.push([x-.75-.25*(-w-S+2*k)/(w-S),A-.75-.25*(-w-y+2*k)/(w-y)]);break;case 9:D.push([x-.5-.25*(y+E+-w-S)/(E-y+w-S),A-.5-.25*(S+E+-w-y)/(E-S+w-y)]);break;case 10:D.push([x-.5-.5*(-y-E+-w-S+4*k)/(y-E+w-S),A-.5]);break;case 11:D.push([x-.25-.25*(-w-S+2*k)/(w-S),A-.75-.25*(S+E-2*k)/(E-S)]);break;case 12:D.push([x-.5,A-.5-.5*(-S-E+-w-y+4*k)/(S-E+w-y)]);break;case 13:D.push([x-.75-.25*(y+E-2*k)/(E-y),A-.25-.25*(-w-y+2*k)/(w-y)]);break;case 14:D.push([x-.25-.25*(-y-E+2*k)/(y-E),A-.25-.25*(-S-E+2*k)/(S-E)]);break;case 15:D.push([x-.5,A-.5]);break}},cell:function(x,A,E,y,S,w,o,_,b){S?_.push([x,A]):_.push([A,x])}});return function(d,x){var A=[],E=[];return i(d,A,E,x),{positions:A,cells:E}}}};function f(h,M){var c=h.length+"d",i=a[c];if(i)return i(t,h,M)}function u(h,M){for(var c=s(h,M),i=c.length,d=new Array(i),x=new Array(i),A=0;A<i;++A)d[A]=[c[A]],x[A]=[A];return{positions:d,cells:x}}var l={};function m(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return u(h,d);var c=h.order.join()+"-"+h.dtype,i=l[c],d=+d||0;return i||(i=l[c]=f(h.order,h.dtype)),i(h,d)}},6946:function(v,g,r){v.exports=u;var t=r(875),s=window||p.global||{},a=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};function f(l){for(var m=l.cells,h=l.positions,M=new Float32Array(m.length*6),c=0,i=0,d=0;d<m.length;++d)for(var x=m[d],A=0;A<3;++A){var E=h[x[A]];M[c++]=E[0],M[c++]=E[1]+1.4,i=Math.max(E[0],i)}return{data:M,shape:i}}function u(l,m,M){var M=M||{},c=a[l];c||(c=a[l]={" ":{data:new Float32Array(0),shape:.2}});var i=c[m];if(!i)if(m.length<=1||!/\d/.test(m))i=c[m]=f(t(m,{triangles:!0,font:l,textAlign:M.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=m.split(/(\d|\s)/),x=new Array(d.length),A=0,E=0,y=0;y<d.length;++y)x[y]=u(l,d[y]),A+=x[y].data.length,E+=x[y].shape,y>0&&(E+=.02);for(var S=new Float32Array(A),w=0,o=-.5*E,y=0;y<x.length;++y){for(var _=x[y].data,b=0;b<_.length;b+=2)S[w++]=_[b]+o,S[w++]=_[b+1];o+=x[y].shape+.02}i=c[m]={data:S,shape:E}}return i}},14:function(v,g,r){var t=r(4405);v.exports=u;var s=96;function a(l,m){var h=t(getComputedStyle(l).getPropertyValue(m));return h[0]*u(h[1],l)}function f(l,m){var h=document.createElement("div");h.style["font-size"]="128"+l,m.appendChild(h);var M=a(h,"font-size")/128;return m.removeChild(h),M}function u(l,m){switch(m=m||document.body,l=(l||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),l){case"%":return m.clientHeight/100;case"ch":case"ex":return f(l,m);case"em":return a(m,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}},3440:function(v,g,r){v.exports=x;var t=r(8444),s=r(7437),a=r(4422),f=r(903),u=r(899),l=r(9305);function m(A,E,y){return Math.sqrt(Math.pow(A,2)+Math.pow(E,2)+Math.pow(y,2))}function h(A){return Math.min(1,Math.max(-1,A))}function M(A){var E=Math.abs(A[0]),y=Math.abs(A[1]),S=Math.abs(A[2]),w=[0,0,0];E>Math.max(y,S)?w[2]=1:y>Math.max(E,S)?w[0]=1:w[1]=1;for(var o=0,_=0,b=0;b<3;++b)o+=A[b]*A[b],_+=w[b]*A[b];for(var b=0;b<3;++b)w[b]-=_/o*A[b];return u(w,w),w}function c(A,E,y,S,w,o,_,b){this.center=t(y),this.up=t(S),this.right=t(w),this.radius=t([o]),this.angle=t([_,b]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(A,E),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var I=0;I<16;++I)this.computedMatrix[I]=.5;this.recalcMatrix(0)}var i=c.prototype;i.setDistanceLimits=function(A,E){A>0?A=Math.log(A):A=-1/0,E>0?E=Math.log(E):E=1/0,E=Math.max(E,A),this.radius.bounds[0][0]=A,this.radius.bounds[1][0]=E},i.getDistanceLimits=function(A){var E=this.radius.bounds[0];return A?(A[0]=Math.exp(E[0][0]),A[1]=Math.exp(E[1][0]),A):[Math.exp(E[0][0]),Math.exp(E[1][0])]},i.recalcMatrix=function(A){this.center.curve(A),this.up.curve(A),this.right.curve(A),this.radius.curve(A),this.angle.curve(A);for(var E=this.computedUp,y=this.computedRight,S=0,w=0,o=0;o<3;++o)w+=E[o]*y[o],S+=E[o]*E[o];for(var _=Math.sqrt(S),b=0,o=0;o<3;++o)y[o]-=E[o]*w/S,b+=y[o]*y[o],E[o]/=_;for(var I=Math.sqrt(b),o=0;o<3;++o)y[o]/=I;var D=this.computedToward;f(D,E,y),u(D,D);for(var N=Math.exp(this.computedRadius[0]),k=this.computedAngle[0],z=this.computedAngle[1],F=Math.cos(k),O=Math.sin(k),B=Math.cos(z),W=Math.sin(z),ee=this.computedCenter,ne=F*B,Q=O*B,le=W,Z=-F*W,Y=-O*W,re=B,X=this.computedEye,q=this.computedMatrix,o=0;o<3;++o){var se=ne*y[o]+Q*D[o]+le*E[o];q[4*o+1]=Z*y[o]+Y*D[o]+re*E[o],q[4*o+2]=se,q[4*o+3]=0}var $=q[1],j=q[5],ue=q[9],ae=q[2],ce=q[6],ye=q[10],Ce=j*ye-ue*ce,Ae=ue*ae-$*ye,Ie=$*ce-j*ae,Te=m(Ce,Ae,Ie);Ce/=Te,Ae/=Te,Ie/=Te,q[0]=Ce,q[4]=Ae,q[8]=Ie;for(var o=0;o<3;++o)X[o]=ee[o]+q[2+4*o]*N;for(var o=0;o<3;++o){for(var b=0,Le=0;Le<3;++Le)b+=q[o+4*Le]*X[Le];q[12+o]=-b}q[15]=1},i.getMatrix=function(A,E){this.recalcMatrix(A);var y=this.computedMatrix;if(E){for(var S=0;S<16;++S)E[S]=y[S];return E}return y};var d=[0,0,0];i.rotate=function(A,E,y,S){if(this.angle.move(A,E,y),S){this.recalcMatrix(A);var w=this.computedMatrix;d[0]=w[2],d[1]=w[6],d[2]=w[10];for(var o=this.computedUp,_=this.computedRight,b=this.computedToward,I=0;I<3;++I)w[4*I]=o[I],w[4*I+1]=_[I],w[4*I+2]=b[I];a(w,w,S,d);for(var I=0;I<3;++I)o[I]=w[4*I],_[I]=w[4*I+1];this.up.set(A,o[0],o[1],o[2]),this.right.set(A,_[0],_[1],_[2])}},i.pan=function(A,E,y,S){E=E||0,y=y||0,S=S||0,this.recalcMatrix(A);var w=this.computedMatrix;Math.exp(this.computedRadius[0]);var o=w[1],_=w[5],b=w[9],I=m(o,_,b);o/=I,_/=I,b/=I;var D=w[0],N=w[4],k=w[8],z=D*o+N*_+k*b;D-=o*z,N-=_*z,k-=b*z;var F=m(D,N,k);D/=F,N/=F,k/=F;var O=D*E+o*y,B=N*E+_*y,W=k*E+b*y;this.center.move(A,O,B,W);var ee=Math.exp(this.computedRadius[0]);ee=Math.max(1e-4,ee+S),this.radius.set(A,Math.log(ee))},i.translate=function(A,E,y,S){this.center.move(A,E||0,y||0,S||0)},i.setMatrix=function(A,E,y,S){var w=1;typeof y=="number"&&(w=y|0),(w<0||w>3)&&(w=1);var o=(w+2)%3;E||(this.recalcMatrix(A),E=this.computedMatrix);var _=E[w],b=E[w+4],I=E[w+8];if(S){var N=Math.abs(_),k=Math.abs(b),z=Math.abs(I),F=Math.max(N,k,z);N===F?(_=_<0?-1:1,b=I=0):z===F?(I=I<0?-1:1,_=b=0):(b=b<0?-1:1,_=I=0)}else{var D=m(_,b,I);_/=D,b/=D,I/=D}var O=E[o],B=E[o+4],W=E[o+8],ee=O*_+B*b+W*I;O-=_*ee,B-=b*ee,W-=I*ee;var ne=m(O,B,W);O/=ne,B/=ne,W/=ne;var Q=b*W-I*B,le=I*O-_*W,Z=_*B-b*O,Y=m(Q,le,Z);Q/=Y,le/=Y,Z/=Y,this.center.jump(A,Ve,Fe,We),this.radius.idle(A),this.up.jump(A,_,b,I),this.right.jump(A,O,B,W);var re,X;if(w===2){var q=E[1],se=E[5],$=E[9],j=q*O+se*B+$*W,ue=q*Q+se*le+$*Z;Ce<0?re=-Math.PI/2:re=Math.PI/2,X=Math.atan2(ue,j)}else{var ae=E[2],ce=E[6],ye=E[10],Ce=ae*_+ce*b+ye*I,Ae=ae*O+ce*B+ye*W,Ie=ae*Q+ce*le+ye*Z;re=Math.asin(h(Ce)),X=Math.atan2(Ie,Ae)}this.angle.jump(A,X,re),this.recalcMatrix(A);var Te=E[2],Le=E[6],xe=E[10],Re=this.computedMatrix;s(Re,E);var He=Re[15],Ve=Re[12]/He,Fe=Re[13]/He,We=Re[14]/He,ut=Math.exp(this.computedRadius[0]);this.center.jump(A,Ve-Te*ut,Fe-Le*ut,We-xe*ut)},i.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},i.idle=function(A){this.center.idle(A),this.up.idle(A),this.right.idle(A),this.radius.idle(A),this.angle.idle(A)},i.flush=function(A){this.center.flush(A),this.up.flush(A),this.right.flush(A),this.radius.flush(A),this.angle.flush(A)},i.setDistance=function(A,E){E>0&&this.radius.set(A,Math.log(E))},i.lookAt=function(A,E,y,S){this.recalcMatrix(A),E=E||this.computedEye,y=y||this.computedCenter,S=S||this.computedUp;var w=S[0],o=S[1],_=S[2],b=m(w,o,_);if(!(b<1e-6)){w/=b,o/=b,_/=b;var I=E[0]-y[0],D=E[1]-y[1],N=E[2]-y[2],k=m(I,D,N);if(!(k<1e-6)){I/=k,D/=k,N/=k;var z=this.computedRight,F=z[0],O=z[1],B=z[2],W=w*F+o*O+_*B;F-=W*w,O-=W*o,B-=W*_;var ee=m(F,O,B);if(!(ee<.01&&(F=o*N-_*D,O=_*I-w*N,B=w*D-o*I,ee=m(F,O,B),ee<1e-6))){F/=ee,O/=ee,B/=ee,this.up.set(A,w,o,_),this.right.set(A,F,O,B),this.center.set(A,y[0],y[1],y[2]),this.radius.set(A,Math.log(k));var ne=o*B-_*O,Q=_*F-w*B,le=w*O-o*F,Z=m(ne,Q,le);ne/=Z,Q/=Z,le/=Z;var Y=w*I+o*D+_*N,re=F*I+O*D+B*N,X=ne*I+Q*D+le*N,q=Math.asin(h(Y)),se=Math.atan2(X,re),$=this.angle._state,j=$[$.length-1],ue=$[$.length-2];j=j%(2*Math.PI);var ae=Math.abs(j+2*Math.PI-se),ce=Math.abs(j-se),ye=Math.abs(j-2*Math.PI-se);ae<ce&&(j+=2*Math.PI),ye<ce&&(j-=2*Math.PI),this.angle.jump(this.angle.lastT(),j,ue),this.angle.set(A,se,q)}}}};function x(A){A=A||{};var E=A.center||[0,0,0],y=A.up||[0,1,0],S=A.right||M(y),w=A.radius||1,o=A.theta||0,_=A.phi||0;if(E=[].slice.call(E,0,3),y=[].slice.call(y,0,3),u(y,y),S=[].slice.call(S,0,3),u(S,S),"eye"in A){var b=A.eye,I=[b[0]-E[0],b[1]-E[1],b[2]-E[2]];f(S,I,y),m(S[0],S[1],S[2])<1e-6?S=M(y):u(S,S),w=m(I[0],I[1],I[2]);var D=l(y,I)/w,N=l(S,I)/w;_=Math.acos(D),o=Math.acos(N)}return w=Math.log(w),new c(A.zoomMin,A.zoomMax,E,y,S,w,o,_)}},9660:function(v){v.exports=r;var g=+(Math.pow(2,27)+1);function r(t,s,a){var f=t*s,u=g*t,l=u-t,m=u-l,h=t-m,M=g*s,c=M-s,i=M-c,d=s-i,x=f-m*i,A=x-h*i,E=A-m*d,y=h*d-E;return a?(a[0]=y,a[1]=f,a):[y,f]}},87:function(v){v.exports=g;function g(r,t,s){var a=r+t,f=a-r,u=a-f,l=t-f,m=r-u;return s?(s[0]=m+l,s[1]=a,s):[m+l,a]}},5306:function(v,g,r){var t=r(2288),s=r(3094),a=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),BIGUINT64:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),BIGINT64:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var f=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",m=r.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=s([32,0])),m.BIGUINT64||(m.BIGUINT64=s([32,0])),m.BIGINT64||(m.BIGINT64=s([32,0])),m.BUFFER||(m.BUFFER=s([32,0]));var h=m.DATA,M=m.BUFFER;g.free=function(F){if(a.isBuffer(F))M[t.log2(F.length)].push(F);else{if(Object.prototype.toString.call(F)!=="[object ArrayBuffer]"&&(F=F.buffer),!F)return;var O=F.length||F.byteLength,B=t.log2(O)|0;h[B].push(F)}};function c(z){if(z){var F=z.length||z.byteLength,O=t.log2(F);h[O].push(z)}}function i(z){c(z.buffer)}g.freeUint8=g.freeUint16=g.freeUint32=g.freeBigUint64=g.freeInt8=g.freeInt16=g.freeInt32=g.freeBigInt64=g.freeFloat32=g.freeFloat=g.freeFloat64=g.freeDouble=g.freeUint8Clamped=g.freeDataView=i,g.freeArrayBuffer=c,g.freeBuffer=function(F){M[t.log2(F.length)].push(F)},g.malloc=function(F,O){if(O===void 0||O==="arraybuffer")return d(F);switch(O){case"uint8":return x(F);case"uint16":return A(F);case"uint32":return E(F);case"int8":return y(F);case"int16":return S(F);case"int32":return w(F);case"float":case"float32":return o(F);case"double":case"float64":return _(F);case"uint8_clamped":return b(F);case"bigint64":return D(F);case"biguint64":return I(F);case"buffer":return k(F);case"data":case"dataview":return N(F);default:return null}return null};function d(F){var F=t.nextPow2(F),O=t.log2(F),B=h[O];return B.length>0?B.pop():new ArrayBuffer(F)}g.mallocArrayBuffer=d;function x(z){return new Uint8Array(d(z),0,z)}g.mallocUint8=x;function A(z){return new Uint16Array(d(2*z),0,z)}g.mallocUint16=A;function E(z){return new Uint32Array(d(4*z),0,z)}g.mallocUint32=E;function y(z){return new Int8Array(d(z),0,z)}g.mallocInt8=y;function S(z){return new Int16Array(d(2*z),0,z)}g.mallocInt16=S;function w(z){return new Int32Array(d(4*z),0,z)}g.mallocInt32=w;function o(z){return new Float32Array(d(4*z),0,z)}g.mallocFloat32=g.mallocFloat=o;function _(z){return new Float64Array(d(8*z),0,z)}g.mallocFloat64=g.mallocDouble=_;function b(z){return f?new Uint8ClampedArray(d(z),0,z):x(z)}g.mallocUint8Clamped=b;function I(z){return u?new BigUint64Array(d(8*z),0,z):null}g.mallocBigUint64=I;function D(z){return l?new BigInt64Array(d(8*z),0,z):null}g.mallocBigInt64=D;function N(z){return new DataView(d(z),0,z)}g.mallocDataView=N;function k(z){z=t.nextPow2(z);var F=t.log2(z),O=M[F];return O.length>0?O.pop():new a(z)}g.mallocBuffer=k,g.clearCache=function(){for(var F=0;F<32;++F)m.UINT8[F].length=0,m.UINT16[F].length=0,m.UINT32[F].length=0,m.INT8[F].length=0,m.INT16[F].length=0,m.INT32[F].length=0,m.FLOAT[F].length=0,m.DOUBLE[F].length=0,m.BIGUINT64[F].length=0,m.BIGINT64[F].length=0,m.UINT8C[F].length=0,h[F].length=0,M[F].length=0}},1731:function(v){"use restrict";v.exports=g;function g(t){this.roots=new Array(t),this.ranks=new Array(t);for(var s=0;s<t;++s)this.roots[s]=s,this.ranks[s]=0}var r=g.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var s=t,a=this.roots;a[t]!==t;)t=a[t];for(;a[s]!==t;){var f=a[s];a[s]=t,s=f}return t},r.link=function(t,s){var a=this.find(t),f=this.find(s);if(a!==f){var u=this.ranks,l=this.roots,m=u[a],h=u[f];m<h?l[a]=f:h<m?l[f]=a:(l[f]=a,++u[a])}}},1215:function(v){function g(s,a){for(var f=1,u=s.length,l=s[0],m=s[0],h=1;h<u;++h)if(m=l,l=s[h],a(l,m)){if(h===f){f++;continue}s[f++]=l}return s.length=f,s}function r(s){for(var a=1,f=s.length,u=s[0],l=s[0],m=1;m<f;++m,l=u)if(l=u,u=s[m],u!==l){if(m===a){a++;continue}s[a++]=u}return s.length=a,s}function t(s,a,f){return s.length===0?s:a?(f||s.sort(a),g(s,a)):(f||s.sort(),r(s))}v.exports=t},875:function(v,g,r){v.exports=f;var t=r(712),s=null,a=null;typeof document<"u"&&(s=document.createElement("canvas"),s.width=8192,s.height=1024,a=s.getContext("2d"));function f(u,l){return(typeof l!="object"||l===null)&&(l={}),t(u,l.canvas||s,l.context||a,l)}},712:function(v,g,r){v.exports=D,v.exports.processPixels=I;var t=r(4162),s=r(5050),a=r(8243),f=r(197),u=r(7761),l=r(8040),m="b",h="b|",M="i",c="i|",i="sup",d="+",x="+1",A="sub",E="-",y="-1";function S(N,k,z,F){for(var O="<"+N+">",B="</"+N+">",W=O.length,ee=B.length,ne=k[0]===d||k[0]===E,Q=0,le=-ee;Q>-1&&(Q=z.indexOf(O,Q),!(Q===-1||(le=z.indexOf(B,Q+W),le===-1)||le<=Q));){for(var Z=Q;Z<le+ee;++Z)if(Z<Q+W||Z>=le)F[Z]=null,z=z.substr(0,Z)+" "+z.substr(Z+1);else if(F[Z]!==null){var Y=F[Z].indexOf(k[0]);Y===-1?F[Z]+=k:ne&&(F[Z]=F[Z].substr(0,Y+1)+(1+parseInt(F[Z][Y+1]))+F[Z].substr(Y+2))}var re=Q+W,X=z.substr(re,le-re),q=X.indexOf(O);q!==-1?Q=q:Q=le+ee}return F}function w(N,k,z){for(var F=k.textAlign||"start",O=k.textBaseline||"alphabetic",B=[1<<30,1<<30],W=[0,0],ee=N.length,ne=0;ne<ee;++ne)for(var Q=N[ne],le=0;le<2;++le)B[le]=Math.min(B[le],Q[le])|0,W[le]=Math.max(W[le],Q[le])|0;var Z=0;switch(F){case"center":Z=-.5*(B[0]+W[0]);break;case"right":case"end":Z=-W[0];break;case"left":case"start":Z=-B[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+F+"'")}var Y=0;switch(O){case"hanging":case"top":Y=-B[1];break;case"middle":Y=-.5*(B[1]+W[1]);break;case"alphabetic":case"ideographic":Y=-3*z;break;case"bottom":Y=-W[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+O+"'")}var re=1/z;return"lineHeight"in k?re*=+k.lineHeight:"width"in k?re=k.width/(W[0]-B[0]):"height"in k&&(re=k.height/(W[1]-B[1])),N.map(function(X){return[re*(X[0]+Z),re*(X[1]+Y)]})}function o(N,k,z,F,O,B){z=z.replace(/\n/g,""),B.breaklines===!0?z=z.replace(/\<br\>/g,`
`):z=z.replace(/\<br\>/g," ");var W="",ee=[];for(j=0;j<z.length;++j)ee[j]=W;B.bolds===!0&&(ee=S(m,h,z,ee)),B.italics===!0&&(ee=S(M,c,z,ee)),B.superscripts===!0&&(ee=S(i,x,z,ee)),B.subscripts===!0&&(ee=S(A,y,z,ee));var ne=[],Q="";for(j=0;j<z.length;++j)ee[j]!==null&&(Q+=z[j],ne.push(ee[j]));var le=Q.split(`
`),Z=le.length,Y=Math.round(O*F),re=F,X=F*2,q=0,se=Z*Y+X;N.height<se&&(N.height=se),k.fillStyle="#000",k.fillRect(0,0,N.width,N.height),k.fillStyle="#fff";var $,j,ue,ae,ce,ye=0,Ce="";function Ae(){if(Ce!==""){var We=k.measureText(Ce).width;k.fillText(Ce,re+ue,X+ae),ue+=We}}function Ie(){return""+Math.round(ce)+"px "}function Te(We,ut){var ht=""+k.font;if(B.subscripts===!0){var rt=We.indexOf(E),tt=ut.indexOf(E),vt=rt>-1?parseInt(We[1+rt]):0,pt=tt>-1?parseInt(ut[1+tt]):0;vt!==pt&&(ht=ht.replace(Ie(),"?px "),ce*=Math.pow(.75,pt-vt),ht=ht.replace("?px ",Ie())),ae+=.25*Y*(pt-vt)}if(B.superscripts===!0){var mt=We.indexOf(d),wt=ut.indexOf(d),Lt=mt>-1?parseInt(We[1+mt]):0,at=wt>-1?parseInt(ut[1+wt]):0;Lt!==at&&(ht=ht.replace(Ie(),"?px "),ce*=Math.pow(.75,at-Lt),ht=ht.replace("?px ",Ie())),ae-=.25*Y*(at-Lt)}if(B.bolds===!0){var Oe=We.indexOf(h)>-1,Ze=ut.indexOf(h)>-1;!Oe&&Ze&&(Je?ht=ht.replace("italic ","italic bold "):ht="bold "+ht),Oe&&!Ze&&(ht=ht.replace("bold ",""))}if(B.italics===!0){var Je=We.indexOf(c)>-1,Ye=ut.indexOf(c)>-1;!Je&&Ye&&(ht="italic "+ht),Je&&!Ye&&(ht=ht.replace("italic ",""))}k.font=ht}for($=0;$<Z;++$){var Le=le[$]+`
`;for(ue=0,ae=$*Y,ce=F,Ce="",j=0;j<Le.length;++j){var xe=j+ye<ne.length?ne[j+ye]:ne[ne.length-1];W===xe?Ce+=Le[j]:(Ae(),Ce=Le[j],xe!==void 0&&(Te(W,xe),W=xe))}Ae(),ye+=Le.length;var Re=Math.round(ue+2*re)|0;q<Re&&(q=Re)}var He=q,Ve=X+Y*Z,Fe=s(k.getImageData(0,0,He,Ve).data,[Ve,He,4]);return Fe.pick(-1,-1,0).transpose(1,0)}function _(N,k){var z=t(N,128);return k?a(z.cells,z.positions,.25):{edges:z.cells,positions:z.positions}}function b(N,k,z,F){var O=_(N,F),B=w(O.positions,k,z),W=O.edges,ee=k.orientation==="ccw";if(f(B,W),k.polygons||k.polygon||k.polyline){for(var ne=l(W,B),Q=new Array(ne.length),le=0;le<ne.length;++le){for(var Z=ne[le],Y=new Array(Z.length),re=0;re<Z.length;++re){for(var X=Z[re],q=new Array(X.length),se=0;se<X.length;++se)q[se]=B[X[se]].slice();ee&&q.reverse(),Y[re]=q}Q[le]=Y}return Q}else return k.triangles||k.triangulate||k.triangle?{cells:u(B,W,{delaunay:!1,exterior:!1,interior:!0}),positions:B}:{edges:W,positions:B}}function I(N,k,z){try{return b(N,k,z,!0)}catch{}try{return b(N,k,z,!1)}catch{}return k.polygons||k.polyline||k.polygon?[]:k.triangles||k.triangulate||k.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function D(N,k,z,F){var O=64,B=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};F&&(F.size&&F.size>0&&(O=F.size),F.lineSpacing&&F.lineSpacing>0&&(B=F.lineSpacing),F.styletags&&F.styletags.breaklines&&(W.breaklines=!!F.styletags.breaklines),F.styletags&&F.styletags.bolds&&(W.bolds=!!F.styletags.bolds),F.styletags&&F.styletags.italics&&(W.italics=!!F.styletags.italics),F.styletags&&F.styletags.subscripts&&(W.subscripts=!!F.styletags.subscripts),F.styletags&&F.styletags.superscripts&&(W.superscripts=!!F.styletags.superscripts)),z.font=[F.fontStyle,F.fontVariant,F.fontWeight,O+"px",F.font].filter(function(ne){return ne}).join(" "),z.textAlign="start",z.textBaseline="alphabetic",z.direction="ltr";var ee=o(k,z,N,O,B,W);return I(ee,F,O)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(_){_.permitHostObjects___&&_.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var s=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var a=new s,f=Object.freeze({});if(a.set(f,1),a.get(f)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,l=Object.defineProperty,m=Object.isExtensible,h="weakmap:",M=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),i=new Uint8Array(c);crypto.getRandomValues(i),M=h+"rand:"+Array.prototype.map.call(i,function(_){return(_%36).toString(36)}).join("")+"___"}function d(_){return!(_.substr(0,h.length)==h&&_.substr(_.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(b){return u(b).filter(d)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(b){return x(b).filter(d)}})}function A(_){if(_!==Object(_))throw new TypeError("Not an object: "+_);var b=_[M];if(b&&b.key===_)return b;if(m(_)){b={key:_};try{return l(_,M,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch{return}}}(function(){var _=Object.freeze;l(Object,"freeze",{value:function(N){return A(N),_(N)}});var b=Object.seal;l(Object,"seal",{value:function(N){return A(N),b(N)}});var I=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return A(N),I(N)}})})();function E(_){return _.prototype=null,Object.freeze(_)}var y=!1;function S(){!y&&typeof console<"u"&&(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var w=0,o=function(){this instanceof o||S();var _=[],b=[],I=w++;function D(F,O){var B,W=A(F);return W?I in W?W[I]:O:(B=_.indexOf(F),B>=0?b[B]:O)}function N(F){var O=A(F);return O?I in O:_.indexOf(F)>=0}function k(F,O){var B,W=A(F);return W?W[I]=O:(B=_.indexOf(F),B>=0?b[B]=O:(B=_.length,b[B]=O,_[B]=F)),this}function z(F){var O=A(F),B,W;return O?I in O&&delete O[I]:(B=_.indexOf(F),B<0?!1:(W=_.length-1,_[B]=void 0,b[B]=b[W],_[B]=_[W],_.length=W,b.length=W,!0))}return Object.create(o.prototype,{get___:{value:E(D)},has___:{value:E(N)},set___:{value:E(k)},delete___:{value:E(z)}})};o.prototype=Object.create(Object.prototype,{get:{value:function(b,I){return this.get___(b,I)},writable:!0,configurable:!0},has:{value:function(b){return this.has___(b)},writable:!0,configurable:!0},set:{value:function(b,I){return this.set___(b,I)},writable:!0,configurable:!0},delete:{value:function(b){return this.delete___(b)},writable:!0,configurable:!0}}),typeof s=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function _(){this instanceof o||S();var b=new s,I=void 0,D=!1;function N(O,B){return I?b.has(O)?b.get(O):I.get___(O,B):b.get(O,B)}function k(O){return b.has(O)||(I?I.has___(O):!1)}var z;t?z=function(O,B){return b.set(O,B),b.has(O)||(I||(I=new o),I.set(O,B)),this}:z=function(O,B){if(D)try{b.set(O,B)}catch{I||(I=new o),I.set___(O,B)}else b.set(O,B);return this};function F(O){var B=!!b.delete(O);return I&&I.delete___(O)||B}return Object.create(o.prototype,{get___:{value:E(N)},has___:{value:E(k)},set___:{value:E(z)},delete___:{value:E(F)},permitHostObjects___:{value:E(function(O){if(O===r)D=!0;else throw new Error("bogus call to permitHostObjects___")})}})}_.prototype=o.prototype,v.exports=_,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=o)})()},9222:function(v,g,r){var t=r(7178);v.exports=s;function s(){var a={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var u=f.valueOf(a);return u&&u.identity===a?u:t(f,a)}}},7178:function(v){v.exports=g;function g(r,t){var s={identity:t},a=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(f){return f!==t?a.apply(this,arguments):s},writable:!0}),s}},4037:function(v,g,r){var t=r(9222);v.exports=s;function s(){var a=t();return{get:function(f,u){var l=a(f);return l.hasOwnProperty("value")?l.value:u},set:function(f,u){return a(f).value=u,this},has:function(f){return"value"in a(f)},delete:function(f){return delete a(f).value}}}},6183:function(v){function g(){return function(u,l,m,h,M,c){var i=u[0],d=m[0],x=[0],A=d;h|=0;var E=0,y=d;for(E=0;E<i;++E){{var S=l[h]-c,w=l[h+A]-c;S>=0!=w>=0&&M.push(x[0]+.5+.5*(S+w)/(S-w))}h+=y,++x[0]}}}function r(){return g()}var t=r;function s(u){var l={};return function(h,M,c){var i=h.dtype,d=h.order,x=[i,d.join()].join(),A=l[x];return A||(l[x]=A=u([i,d])),A(h.shape.slice(0),h.data,h.stride,h.offset|0,M,c)}}function a(u){return s(t.bind(void 0,u))}function f(u){return a({funcName:u.funcName})}v.exports=f({funcName:"zeroCrossings"})},9584:function(v,g,r){v.exports=s;var t=r(6183);function s(a,f){var u=[];return f=+f||0,t(a.hi(a.shape[0]-1),u,f),u}},6601:function(){}},n={};function C(v){var g=n[v];if(g!==void 0)return g.exports;var r=n[v]={id:v,loaded:!1,exports:{}};return L[v].call(r.exports,r,r.exports,C),r.loaded=!0,r.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var T=C(7386);return T}()})},33576:function(H,U,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function p(at,Oe){if(!(at instanceof Oe))throw new TypeError("Cannot call a class as a function")}function L(at,Oe){for(var Ze=0;Ze<Oe.length;Ze++){var Je=Oe[Ze];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(at,C(Je.key),Je)}}function n(at,Oe,Ze){return Oe&&L(at.prototype,Oe),Ze&&L(at,Ze),Object.defineProperty(at,"prototype",{writable:!1}),at}function C(at){var Oe=T(at,"string");return f(Oe)==="symbol"?Oe:String(Oe)}function T(at,Oe){if(f(at)!=="object"||at===null)return at;var Ze=at[Symbol.toPrimitive];if(Ze!==void 0){var Je=Ze.call(at,Oe||"default");if(f(Je)!=="object")return Je;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Oe==="string"?String:Number)(at)}function v(at,Oe,Ze){function Je(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Oe=r(Oe),g(at,Je()?Reflect.construct(Oe,Ze||[],r(at).constructor):Oe.apply(at,Ze))}function g(at,Oe){if(Oe&&(f(Oe)==="object"||typeof Oe=="function"))return Oe;if(Oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(at)}function r(at){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ze){return Ze.__proto__||Object.getPrototypeOf(Ze)},r(at)}function t(at){if(at===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return at}function s(at,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function");at.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:at,writable:!0,configurable:!0}}),Object.defineProperty(at,"prototype",{writable:!1}),Oe&&a(at,Oe)}function a(at,Oe){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Je,Ye){return Je.__proto__=Ye,Je},a(at,Oe)}function f(at){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},f(at)}var u=e(59968),l=e(35984),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=i,U.SlowBuffer=I,U.INSPECT_MAX_BYTES=50;var h=2147483647;U.kMaxLength=h,i.TYPED_ARRAY_SUPPORT=M(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{var at=new Uint8Array(1),Oe={foo:function(){return 42}};return Object.setPrototypeOf(Oe,Uint8Array.prototype),Object.setPrototypeOf(at,Oe),at.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function c(at){if(at>h)throw new RangeError('The value "'+at+'" is invalid for option "size"');var Oe=new Uint8Array(at);return Object.setPrototypeOf(Oe,i.prototype),Oe}function i(at,Oe,Ze){if(typeof at=="number"){if(typeof Oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(at)}return d(at,Oe,Ze)}i.poolSize=8192;function d(at,Oe,Ze){if(typeof at=="string")return y(at,Oe);if(ArrayBuffer.isView(at))return w(at);if(at==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(at));if(vt(at,ArrayBuffer)||at&&vt(at.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(vt(at,SharedArrayBuffer)||at&&vt(at.buffer,SharedArrayBuffer)))return o(at,Oe,Ze);if(typeof at=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Je=at.valueOf&&at.valueOf();if(Je!=null&&Je!==at)return i.from(Je,Oe,Ze);var Ye=_(at);if(Ye)return Ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof at[Symbol.toPrimitive]=="function")return i.from(at[Symbol.toPrimitive]("string"),Oe,Ze);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(at))}i.from=function(at,Oe,Ze){return d(at,Oe,Ze)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function x(at){if(typeof at!="number")throw new TypeError('"size" argument must be of type number');if(at<0)throw new RangeError('The value "'+at+'" is invalid for option "size"')}function A(at,Oe,Ze){return x(at),at<=0?c(at):Oe!==void 0?typeof Ze=="string"?c(at).fill(Oe,Ze):c(at).fill(Oe):c(at)}i.alloc=function(at,Oe,Ze){return A(at,Oe,Ze)};function E(at){return x(at),c(at<0?0:b(at)|0)}i.allocUnsafe=function(at){return E(at)},i.allocUnsafeSlow=function(at){return E(at)};function y(at,Oe){if((typeof Oe!="string"||Oe==="")&&(Oe="utf8"),!i.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);var Ze=D(at,Oe)|0,Je=c(Ze),Ye=Je.write(at,Oe);return Ye!==Ze&&(Je=Je.slice(0,Ye)),Je}function S(at){for(var Oe=at.length<0?0:b(at.length)|0,Ze=c(Oe),Je=0;Je<Oe;Je+=1)Ze[Je]=at[Je]&255;return Ze}function w(at){if(vt(at,Uint8Array)){var Oe=new Uint8Array(at);return o(Oe.buffer,Oe.byteOffset,Oe.byteLength)}return S(at)}function o(at,Oe,Ze){if(Oe<0||at.byteLength<Oe)throw new RangeError('"offset" is outside of buffer bounds');if(at.byteLength<Oe+(Ze||0))throw new RangeError('"length" is outside of buffer bounds');var Je;return Oe===void 0&&Ze===void 0?Je=new Uint8Array(at):Ze===void 0?Je=new Uint8Array(at,Oe):Je=new Uint8Array(at,Oe,Ze),Object.setPrototypeOf(Je,i.prototype),Je}function _(at){if(i.isBuffer(at)){var Oe=b(at.length)|0,Ze=c(Oe);return Ze.length===0||at.copy(Ze,0,0,Oe),Ze}if(at.length!==void 0)return typeof at.length!="number"||pt(at.length)?c(0):S(at);if(at.type==="Buffer"&&Array.isArray(at.data))return S(at.data)}function b(at){if(at>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return at|0}function I(at){return+at!=at&&(at=0),i.alloc(+at)}i.isBuffer=function(Oe){return Oe!=null&&Oe._isBuffer===!0&&Oe!==i.prototype},i.compare=function(Oe,Ze){if(vt(Oe,Uint8Array)&&(Oe=i.from(Oe,Oe.offset,Oe.byteLength)),vt(Ze,Uint8Array)&&(Ze=i.from(Ze,Ze.offset,Ze.byteLength)),!i.isBuffer(Oe)||!i.isBuffer(Ze))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Oe===Ze)return 0;for(var Je=Oe.length,Ye=Ze.length,ke=0,be=Math.min(Je,Ye);ke<be;++ke)if(Oe[ke]!==Ze[ke]){Je=Oe[ke],Ye=Ze[ke];break}return Je<Ye?-1:Ye<Je?1:0},i.isEncoding=function(Oe){switch(String(Oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(Oe,Ze){if(!Array.isArray(Oe))throw new TypeError('"list" argument must be an Array of Buffers');if(Oe.length===0)return i.alloc(0);var Je;if(Ze===void 0)for(Ze=0,Je=0;Je<Oe.length;++Je)Ze+=Oe[Je].length;var Ye=i.allocUnsafe(Ze),ke=0;for(Je=0;Je<Oe.length;++Je){var be=Oe[Je];if(vt(be,Uint8Array))ke+be.length>Ye.length?(i.isBuffer(be)||(be=i.from(be)),be.copy(Ye,ke)):Uint8Array.prototype.set.call(Ye,be,ke);else if(i.isBuffer(be))be.copy(Ye,ke);else throw new TypeError('"list" argument must be an Array of Buffers');ke+=be.length}return Ye};function D(at,Oe){if(i.isBuffer(at))return at.length;if(ArrayBuffer.isView(at)||vt(at,ArrayBuffer))return at.byteLength;if(typeof at!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(at));var Ze=at.length,Je=arguments.length>2&&arguments[2]===!0;if(!Je&&Ze===0)return 0;for(var Ye=!1;;)switch(Oe){case"ascii":case"latin1":case"binary":return Ze;case"utf8":case"utf-8":return We(at).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ze*2;case"hex":return Ze>>>1;case"base64":return rt(at).length;default:if(Ye)return Je?-1:We(at).length;Oe=(""+Oe).toLowerCase(),Ye=!0}}i.byteLength=D;function N(at,Oe,Ze){var Je=!1;if((Oe===void 0||Oe<0)&&(Oe=0),Oe>this.length||((Ze===void 0||Ze>this.length)&&(Ze=this.length),Ze<=0)||(Ze>>>=0,Oe>>>=0,Ze<=Oe))return"";for(at||(at="utf8");;)switch(at){case"hex":return q(this,Oe,Ze);case"utf8":case"utf-8":return le(this,Oe,Ze);case"ascii":return re(this,Oe,Ze);case"latin1":case"binary":return X(this,Oe,Ze);case"base64":return Q(this,Oe,Ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,Oe,Ze);default:if(Je)throw new TypeError("Unknown encoding: "+at);at=(at+"").toLowerCase(),Je=!0}}i.prototype._isBuffer=!0;function k(at,Oe,Ze){var Je=at[Oe];at[Oe]=at[Ze],at[Ze]=Je}i.prototype.swap16=function(){var Oe=this.length;if(Oe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ze=0;Ze<Oe;Ze+=2)k(this,Ze,Ze+1);return this},i.prototype.swap32=function(){var Oe=this.length;if(Oe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ze=0;Ze<Oe;Ze+=4)k(this,Ze,Ze+3),k(this,Ze+1,Ze+2);return this},i.prototype.swap64=function(){var Oe=this.length;if(Oe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ze=0;Ze<Oe;Ze+=8)k(this,Ze,Ze+7),k(this,Ze+1,Ze+6),k(this,Ze+2,Ze+5),k(this,Ze+3,Ze+4);return this},i.prototype.toString=function(){var Oe=this.length;return Oe===0?"":arguments.length===0?le(this,0,Oe):N.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(Oe){if(!i.isBuffer(Oe))throw new TypeError("Argument must be a Buffer");return this===Oe?!0:i.compare(this,Oe)===0},i.prototype.inspect=function(){var Oe="",Ze=U.INSPECT_MAX_BYTES;return Oe=this.toString("hex",0,Ze).replace(/(.{2})/g,"$1 ").trim(),this.length>Ze&&(Oe+=" ... "),"<Buffer "+Oe+">"},m&&(i.prototype[m]=i.prototype.inspect),i.prototype.compare=function(Oe,Ze,Je,Ye,ke){if(vt(Oe,Uint8Array)&&(Oe=i.from(Oe,Oe.offset,Oe.byteLength)),!i.isBuffer(Oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(Oe));if(Ze===void 0&&(Ze=0),Je===void 0&&(Je=Oe?Oe.length:0),Ye===void 0&&(Ye=0),ke===void 0&&(ke=this.length),Ze<0||Je>Oe.length||Ye<0||ke>this.length)throw new RangeError("out of range index");if(Ye>=ke&&Ze>=Je)return 0;if(Ye>=ke)return-1;if(Ze>=Je)return 1;if(Ze>>>=0,Je>>>=0,Ye>>>=0,ke>>>=0,this===Oe)return 0;for(var be=ke-Ye,me=Je-Ze,_e=Math.min(be,me),Ee=this.slice(Ye,ke),Be=Oe.slice(Ze,Je),je=0;je<_e;++je)if(Ee[je]!==Be[je]){be=Ee[je],me=Be[je];break}return be<me?-1:me<be?1:0};function z(at,Oe,Ze,Je,Ye){if(at.length===0)return-1;if(typeof Ze=="string"?(Je=Ze,Ze=0):Ze>2147483647?Ze=2147483647:Ze<-2147483648&&(Ze=-2147483648),Ze=+Ze,pt(Ze)&&(Ze=Ye?0:at.length-1),Ze<0&&(Ze=at.length+Ze),Ze>=at.length){if(Ye)return-1;Ze=at.length-1}else if(Ze<0)if(Ye)Ze=0;else return-1;if(typeof Oe=="string"&&(Oe=i.from(Oe,Je)),i.isBuffer(Oe))return Oe.length===0?-1:F(at,Oe,Ze,Je,Ye);if(typeof Oe=="number")return Oe=Oe&255,typeof Uint8Array.prototype.indexOf=="function"?Ye?Uint8Array.prototype.indexOf.call(at,Oe,Ze):Uint8Array.prototype.lastIndexOf.call(at,Oe,Ze):F(at,[Oe],Ze,Je,Ye);throw new TypeError("val must be string, number or Buffer")}function F(at,Oe,Ze,Je,Ye){var ke=1,be=at.length,me=Oe.length;if(Je!==void 0&&(Je=String(Je).toLowerCase(),Je==="ucs2"||Je==="ucs-2"||Je==="utf16le"||Je==="utf-16le")){if(at.length<2||Oe.length<2)return-1;ke=2,be/=2,me/=2,Ze/=2}function _e(dt,xt){return ke===1?dt[xt]:dt.readUInt16BE(xt*ke)}var Ee;if(Ye){var Be=-1;for(Ee=Ze;Ee<be;Ee++)if(_e(at,Ee)===_e(Oe,Be===-1?0:Ee-Be)){if(Be===-1&&(Be=Ee),Ee-Be+1===me)return Be*ke}else Be!==-1&&(Ee-=Ee-Be),Be=-1}else for(Ze+me>be&&(Ze=be-me),Ee=Ze;Ee>=0;Ee--){for(var je=!0,nt=0;nt<me;nt++)if(_e(at,Ee+nt)!==_e(Oe,nt)){je=!1;break}if(je)return Ee}return-1}i.prototype.includes=function(Oe,Ze,Je){return this.indexOf(Oe,Ze,Je)!==-1},i.prototype.indexOf=function(Oe,Ze,Je){return z(this,Oe,Ze,Je,!0)},i.prototype.lastIndexOf=function(Oe,Ze,Je){return z(this,Oe,Ze,Je,!1)};function O(at,Oe,Ze,Je){Ze=Number(Ze)||0;var Ye=at.length-Ze;Je?(Je=Number(Je),Je>Ye&&(Je=Ye)):Je=Ye;var ke=Oe.length;Je>ke/2&&(Je=ke/2);var be;for(be=0;be<Je;++be){var me=parseInt(Oe.substr(be*2,2),16);if(pt(me))return be;at[Ze+be]=me}return be}function B(at,Oe,Ze,Je){return tt(We(Oe,at.length-Ze),at,Ze,Je)}function W(at,Oe,Ze,Je){return tt(ut(Oe),at,Ze,Je)}function ee(at,Oe,Ze,Je){return tt(rt(Oe),at,Ze,Je)}function ne(at,Oe,Ze,Je){return tt(ht(Oe,at.length-Ze),at,Ze,Je)}i.prototype.write=function(Oe,Ze,Je,Ye){if(Ze===void 0)Ye="utf8",Je=this.length,Ze=0;else if(Je===void 0&&typeof Ze=="string")Ye=Ze,Je=this.length,Ze=0;else if(isFinite(Ze))Ze=Ze>>>0,isFinite(Je)?(Je=Je>>>0,Ye===void 0&&(Ye="utf8")):(Ye=Je,Je=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ke=this.length-Ze;if((Je===void 0||Je>ke)&&(Je=ke),Oe.length>0&&(Je<0||Ze<0)||Ze>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ye||(Ye="utf8");for(var be=!1;;)switch(Ye){case"hex":return O(this,Oe,Ze,Je);case"utf8":case"utf-8":return B(this,Oe,Ze,Je);case"ascii":case"latin1":case"binary":return W(this,Oe,Ze,Je);case"base64":return ee(this,Oe,Ze,Je);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,Oe,Ze,Je);default:if(be)throw new TypeError("Unknown encoding: "+Ye);Ye=(""+Ye).toLowerCase(),be=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q(at,Oe,Ze){return Oe===0&&Ze===at.length?u.fromByteArray(at):u.fromByteArray(at.slice(Oe,Ze))}function le(at,Oe,Ze){Ze=Math.min(at.length,Ze);for(var Je=[],Ye=Oe;Ye<Ze;){var ke=at[Ye],be=null,me=ke>239?4:ke>223?3:ke>191?2:1;if(Ye+me<=Ze){var _e=void 0,Ee=void 0,Be=void 0,je=void 0;switch(me){case 1:ke<128&&(be=ke);break;case 2:_e=at[Ye+1],(_e&192)===128&&(je=(ke&31)<<6|_e&63,je>127&&(be=je));break;case 3:_e=at[Ye+1],Ee=at[Ye+2],(_e&192)===128&&(Ee&192)===128&&(je=(ke&15)<<12|(_e&63)<<6|Ee&63,je>2047&&(je<55296||je>57343)&&(be=je));break;case 4:_e=at[Ye+1],Ee=at[Ye+2],Be=at[Ye+3],(_e&192)===128&&(Ee&192)===128&&(Be&192)===128&&(je=(ke&15)<<18|(_e&63)<<12|(Ee&63)<<6|Be&63,je>65535&&je<1114112&&(be=je))}}be===null?(be=65533,me=1):be>65535&&(be-=65536,Je.push(be>>>10&1023|55296),be=56320|be&1023),Je.push(be),Ye+=me}return Y(Je)}var Z=4096;function Y(at){var Oe=at.length;if(Oe<=Z)return String.fromCharCode.apply(String,at);for(var Ze="",Je=0;Je<Oe;)Ze+=String.fromCharCode.apply(String,at.slice(Je,Je+=Z));return Ze}function re(at,Oe,Ze){var Je="";Ze=Math.min(at.length,Ze);for(var Ye=Oe;Ye<Ze;++Ye)Je+=String.fromCharCode(at[Ye]&127);return Je}function X(at,Oe,Ze){var Je="";Ze=Math.min(at.length,Ze);for(var Ye=Oe;Ye<Ze;++Ye)Je+=String.fromCharCode(at[Ye]);return Je}function q(at,Oe,Ze){var Je=at.length;(!Oe||Oe<0)&&(Oe=0),(!Ze||Ze<0||Ze>Je)&&(Ze=Je);for(var Ye="",ke=Oe;ke<Ze;++ke)Ye+=mt[at[ke]];return Ye}function se(at,Oe,Ze){for(var Je=at.slice(Oe,Ze),Ye="",ke=0;ke<Je.length-1;ke+=2)Ye+=String.fromCharCode(Je[ke]+Je[ke+1]*256);return Ye}i.prototype.slice=function(Oe,Ze){var Je=this.length;Oe=~~Oe,Ze=Ze===void 0?Je:~~Ze,Oe<0?(Oe+=Je,Oe<0&&(Oe=0)):Oe>Je&&(Oe=Je),Ze<0?(Ze+=Je,Ze<0&&(Ze=0)):Ze>Je&&(Ze=Je),Ze<Oe&&(Ze=Oe);var Ye=this.subarray(Oe,Ze);return Object.setPrototypeOf(Ye,i.prototype),Ye};function $(at,Oe,Ze){if(at%1!==0||at<0)throw new RangeError("offset is not uint");if(at+Oe>Ze)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(Oe,Ze,Je){Oe=Oe>>>0,Ze=Ze>>>0,Je||$(Oe,Ze,this.length);for(var Ye=this[Oe],ke=1,be=0;++be<Ze&&(ke*=256);)Ye+=this[Oe+be]*ke;return Ye},i.prototype.readUintBE=i.prototype.readUIntBE=function(Oe,Ze,Je){Oe=Oe>>>0,Ze=Ze>>>0,Je||$(Oe,Ze,this.length);for(var Ye=this[Oe+--Ze],ke=1;Ze>0&&(ke*=256);)Ye+=this[Oe+--Ze]*ke;return Ye},i.prototype.readUint8=i.prototype.readUInt8=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,1,this.length),this[Oe]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,2,this.length),this[Oe]|this[Oe+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,2,this.length),this[Oe]<<8|this[Oe+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,4,this.length),(this[Oe]|this[Oe+1]<<8|this[Oe+2]<<16)+this[Oe+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,4,this.length),this[Oe]*16777216+(this[Oe+1]<<16|this[Oe+2]<<8|this[Oe+3])},i.prototype.readBigUInt64LE=wt(function(Oe){Oe=Oe>>>0,Re(Oe,"offset");var Ze=this[Oe],Je=this[Oe+7];(Ze===void 0||Je===void 0)&&He(Oe,this.length-8);var Ye=Ze+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,24),ke=this[++Oe]+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+Je*Math.pow(2,24);return BigInt(Ye)+(BigInt(ke)<<BigInt(32))}),i.prototype.readBigUInt64BE=wt(function(Oe){Oe=Oe>>>0,Re(Oe,"offset");var Ze=this[Oe],Je=this[Oe+7];(Ze===void 0||Je===void 0)&&He(Oe,this.length-8);var Ye=Ze*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+this[++Oe],ke=this[++Oe]*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+Je;return(BigInt(Ye)<<BigInt(32))+BigInt(ke)}),i.prototype.readIntLE=function(Oe,Ze,Je){Oe=Oe>>>0,Ze=Ze>>>0,Je||$(Oe,Ze,this.length);for(var Ye=this[Oe],ke=1,be=0;++be<Ze&&(ke*=256);)Ye+=this[Oe+be]*ke;return ke*=128,Ye>=ke&&(Ye-=Math.pow(2,8*Ze)),Ye},i.prototype.readIntBE=function(Oe,Ze,Je){Oe=Oe>>>0,Ze=Ze>>>0,Je||$(Oe,Ze,this.length);for(var Ye=Ze,ke=1,be=this[Oe+--Ye];Ye>0&&(ke*=256);)be+=this[Oe+--Ye]*ke;return ke*=128,be>=ke&&(be-=Math.pow(2,8*Ze)),be},i.prototype.readInt8=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,1,this.length),this[Oe]&128?(255-this[Oe]+1)*-1:this[Oe]},i.prototype.readInt16LE=function(Oe,Ze){Oe=Oe>>>0,Ze||$(Oe,2,this.length);var Je=this[Oe]|this[Oe+1]<<8;return Je&32768?Je|4294901760:Je},i.prototype.readInt16BE=function(Oe,Ze){Oe=Oe>>>0,Ze||$(Oe,2,this.length);var Je=this[Oe+1]|this[Oe]<<8;return Je&32768?Je|4294901760:Je},i.prototype.readInt32LE=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,4,this.length),this[Oe]|this[Oe+1]<<8|this[Oe+2]<<16|this[Oe+3]<<24},i.prototype.readInt32BE=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,4,this.length),this[Oe]<<24|this[Oe+1]<<16|this[Oe+2]<<8|this[Oe+3]},i.prototype.readBigInt64LE=wt(function(Oe){Oe=Oe>>>0,Re(Oe,"offset");var Ze=this[Oe],Je=this[Oe+7];(Ze===void 0||Je===void 0)&&He(Oe,this.length-8);var Ye=this[Oe+4]+this[Oe+5]*Math.pow(2,8)+this[Oe+6]*Math.pow(2,16)+(Je<<24);return(BigInt(Ye)<<BigInt(32))+BigInt(Ze+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,24))}),i.prototype.readBigInt64BE=wt(function(Oe){Oe=Oe>>>0,Re(Oe,"offset");var Ze=this[Oe],Je=this[Oe+7];(Ze===void 0||Je===void 0)&&He(Oe,this.length-8);var Ye=(Ze<<24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+this[++Oe];return(BigInt(Ye)<<BigInt(32))+BigInt(this[++Oe]*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+Je)}),i.prototype.readFloatLE=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,4,this.length),l.read(this,Oe,!0,23,4)},i.prototype.readFloatBE=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,4,this.length),l.read(this,Oe,!1,23,4)},i.prototype.readDoubleLE=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,8,this.length),l.read(this,Oe,!0,52,8)},i.prototype.readDoubleBE=function(Oe,Ze){return Oe=Oe>>>0,Ze||$(Oe,8,this.length),l.read(this,Oe,!1,52,8)};function j(at,Oe,Ze,Je,Ye,ke){if(!i.isBuffer(at))throw new TypeError('"buffer" argument must be a Buffer instance');if(Oe>Ye||Oe<ke)throw new RangeError('"value" argument is out of bounds');if(Ze+Je>at.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(Oe,Ze,Je,Ye){if(Oe=+Oe,Ze=Ze>>>0,Je=Je>>>0,!Ye){var ke=Math.pow(2,8*Je)-1;j(this,Oe,Ze,Je,ke,0)}var be=1,me=0;for(this[Ze]=Oe&255;++me<Je&&(be*=256);)this[Ze+me]=Oe/be&255;return Ze+Je},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(Oe,Ze,Je,Ye){if(Oe=+Oe,Ze=Ze>>>0,Je=Je>>>0,!Ye){var ke=Math.pow(2,8*Je)-1;j(this,Oe,Ze,Je,ke,0)}var be=Je-1,me=1;for(this[Ze+be]=Oe&255;--be>=0&&(me*=256);)this[Ze+be]=Oe/me&255;return Ze+Je},i.prototype.writeUint8=i.prototype.writeUInt8=function(Oe,Ze,Je){return Oe=+Oe,Ze=Ze>>>0,Je||j(this,Oe,Ze,1,255,0),this[Ze]=Oe&255,Ze+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(Oe,Ze,Je){return Oe=+Oe,Ze=Ze>>>0,Je||j(this,Oe,Ze,2,65535,0),this[Ze]=Oe&255,this[Ze+1]=Oe>>>8,Ze+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(Oe,Ze,Je){return Oe=+Oe,Ze=Ze>>>0,Je||j(this,Oe,Ze,2,65535,0),this[Ze]=Oe>>>8,this[Ze+1]=Oe&255,Ze+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(Oe,Ze,Je){return Oe=+Oe,Ze=Ze>>>0,Je||j(this,Oe,Ze,4,4294967295,0),this[Ze+3]=Oe>>>24,this[Ze+2]=Oe>>>16,this[Ze+1]=Oe>>>8,this[Ze]=Oe&255,Ze+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(Oe,Ze,Je){return Oe=+Oe,Ze=Ze>>>0,Je||j(this,Oe,Ze,4,4294967295,0),this[Ze]=Oe>>>24,this[Ze+1]=Oe>>>16,this[Ze+2]=Oe>>>8,this[Ze+3]=Oe&255,Ze+4};function ue(at,Oe,Ze,Je,Ye){xe(Oe,Je,Ye,at,Ze,7);var ke=Number(Oe&BigInt(4294967295));at[Ze++]=ke,ke=ke>>8,at[Ze++]=ke,ke=ke>>8,at[Ze++]=ke,ke=ke>>8,at[Ze++]=ke;var be=Number(Oe>>BigInt(32)&BigInt(4294967295));return at[Ze++]=be,be=be>>8,at[Ze++]=be,be=be>>8,at[Ze++]=be,be=be>>8,at[Ze++]=be,Ze}function ae(at,Oe,Ze,Je,Ye){xe(Oe,Je,Ye,at,Ze,7);var ke=Number(Oe&BigInt(4294967295));at[Ze+7]=ke,ke=ke>>8,at[Ze+6]=ke,ke=ke>>8,at[Ze+5]=ke,ke=ke>>8,at[Ze+4]=ke;var be=Number(Oe>>BigInt(32)&BigInt(4294967295));return at[Ze+3]=be,be=be>>8,at[Ze+2]=be,be=be>>8,at[Ze+1]=be,be=be>>8,at[Ze]=be,Ze+8}i.prototype.writeBigUInt64LE=wt(function(Oe){var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ue(this,Oe,Ze,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=wt(function(Oe){var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(this,Oe,Ze,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(Oe,Ze,Je,Ye){if(Oe=+Oe,Ze=Ze>>>0,!Ye){var ke=Math.pow(2,8*Je-1);j(this,Oe,Ze,Je,ke-1,-ke)}var be=0,me=1,_e=0;for(this[Ze]=Oe&255;++be<Je&&(me*=256);)Oe<0&&_e===0&&this[Ze+be-1]!==0&&(_e=1),this[Ze+be]=(Oe/me>>0)-_e&255;return Ze+Je},i.prototype.writeIntBE=function(Oe,Ze,Je,Ye){if(Oe=+Oe,Ze=Ze>>>0,!Ye){var ke=Math.pow(2,8*Je-1);j(this,Oe,Ze,Je,ke-1,-ke)}var be=Je-1,me=1,_e=0;for(this[Ze+be]=Oe&255;--be>=0&&(me*=256);)Oe<0&&_e===0&&this[Ze+be+1]!==0&&(_e=1),this[Ze+be]=(Oe/me>>0)-_e&255;return Ze+Je},i.prototype.writeInt8=function(Oe,Ze,Je){return Oe=+Oe,Ze=Ze>>>0,Je||j(this,Oe,Ze,1,127,-128),Oe<0&&(Oe=255+Oe+1),this[Ze]=Oe&255,Ze+1},i.prototype.writeInt16LE=function(Oe,Ze,Je){return Oe=+Oe,Ze=Ze>>>0,Je||j(this,Oe,Ze,2,32767,-32768),this[Ze]=Oe&255,this[Ze+1]=Oe>>>8,Ze+2},i.prototype.writeInt16BE=function(Oe,Ze,Je){return Oe=+Oe,Ze=Ze>>>0,Je||j(this,Oe,Ze,2,32767,-32768),this[Ze]=Oe>>>8,this[Ze+1]=Oe&255,Ze+2},i.prototype.writeInt32LE=function(Oe,Ze,Je){return Oe=+Oe,Ze=Ze>>>0,Je||j(this,Oe,Ze,4,2147483647,-2147483648),this[Ze]=Oe&255,this[Ze+1]=Oe>>>8,this[Ze+2]=Oe>>>16,this[Ze+3]=Oe>>>24,Ze+4},i.prototype.writeInt32BE=function(Oe,Ze,Je){return Oe=+Oe,Ze=Ze>>>0,Je||j(this,Oe,Ze,4,2147483647,-2147483648),Oe<0&&(Oe=4294967295+Oe+1),this[Ze]=Oe>>>24,this[Ze+1]=Oe>>>16,this[Ze+2]=Oe>>>8,this[Ze+3]=Oe&255,Ze+4},i.prototype.writeBigInt64LE=wt(function(Oe){var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ue(this,Oe,Ze,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=wt(function(Oe){var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(this,Oe,Ze,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(at,Oe,Ze,Je,Ye,ke){if(Ze+Je>at.length)throw new RangeError("Index out of range");if(Ze<0)throw new RangeError("Index out of range")}function ye(at,Oe,Ze,Je,Ye){return Oe=+Oe,Ze=Ze>>>0,Ye||ce(at,Oe,Ze,4),l.write(at,Oe,Ze,Je,23,4),Ze+4}i.prototype.writeFloatLE=function(Oe,Ze,Je){return ye(this,Oe,Ze,!0,Je)},i.prototype.writeFloatBE=function(Oe,Ze,Je){return ye(this,Oe,Ze,!1,Je)};function Ce(at,Oe,Ze,Je,Ye){return Oe=+Oe,Ze=Ze>>>0,Ye||ce(at,Oe,Ze,8),l.write(at,Oe,Ze,Je,52,8),Ze+8}i.prototype.writeDoubleLE=function(Oe,Ze,Je){return Ce(this,Oe,Ze,!0,Je)},i.prototype.writeDoubleBE=function(Oe,Ze,Je){return Ce(this,Oe,Ze,!1,Je)},i.prototype.copy=function(Oe,Ze,Je,Ye){if(!i.isBuffer(Oe))throw new TypeError("argument should be a Buffer");if(Je||(Je=0),!Ye&&Ye!==0&&(Ye=this.length),Ze>=Oe.length&&(Ze=Oe.length),Ze||(Ze=0),Ye>0&&Ye<Je&&(Ye=Je),Ye===Je||Oe.length===0||this.length===0)return 0;if(Ze<0)throw new RangeError("targetStart out of bounds");if(Je<0||Je>=this.length)throw new RangeError("Index out of range");if(Ye<0)throw new RangeError("sourceEnd out of bounds");Ye>this.length&&(Ye=this.length),Oe.length-Ze<Ye-Je&&(Ye=Oe.length-Ze+Je);var ke=Ye-Je;return this===Oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ze,Je,Ye):Uint8Array.prototype.set.call(Oe,this.subarray(Je,Ye),Ze),ke},i.prototype.fill=function(Oe,Ze,Je,Ye){if(typeof Oe=="string"){if(typeof Ze=="string"?(Ye=Ze,Ze=0,Je=this.length):typeof Je=="string"&&(Ye=Je,Je=this.length),Ye!==void 0&&typeof Ye!="string")throw new TypeError("encoding must be a string");if(typeof Ye=="string"&&!i.isEncoding(Ye))throw new TypeError("Unknown encoding: "+Ye);if(Oe.length===1){var ke=Oe.charCodeAt(0);(Ye==="utf8"&&ke<128||Ye==="latin1")&&(Oe=ke)}}else typeof Oe=="number"?Oe=Oe&255:typeof Oe=="boolean"&&(Oe=Number(Oe));if(Ze<0||this.length<Ze||this.length<Je)throw new RangeError("Out of range index");if(Je<=Ze)return this;Ze=Ze>>>0,Je=Je===void 0?this.length:Je>>>0,Oe||(Oe=0);var be;if(typeof Oe=="number")for(be=Ze;be<Je;++be)this[be]=Oe;else{var me=i.isBuffer(Oe)?Oe:i.from(Oe,Ye),_e=me.length;if(_e===0)throw new TypeError('The value "'+Oe+'" is invalid for argument "value"');for(be=0;be<Je-Ze;++be)this[be+Ze]=me[be%_e]}return this};var Ae={};function Ie(at,Oe,Ze){Ae[at]=function(Je){s(Ye,Je);function Ye(){var ke;return p(this,Ye),ke=v(this,Ye),Object.defineProperty(t(ke),"message",{value:Oe.apply(t(ke),arguments),writable:!0,configurable:!0}),ke.name="".concat(ke.name," [").concat(at,"]"),ke.stack,delete ke.name,ke}return n(Ye,[{key:"code",get:function(){return at},set:function(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(at,"]: ").concat(this.message)}}]),Ye}(Ze)}Ie("ERR_BUFFER_OUT_OF_BOUNDS",function(at){return at?"".concat(at," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ie("ERR_INVALID_ARG_TYPE",function(at,Oe){return'The "'.concat(at,'" argument must be of type number. Received type ').concat(f(Oe))},TypeError),Ie("ERR_OUT_OF_RANGE",function(at,Oe,Ze){var Je='The value of "'.concat(at,'" is out of range.'),Ye=Ze;return Number.isInteger(Ze)&&Math.abs(Ze)>Math.pow(2,32)?Ye=Te(String(Ze)):typeof Ze=="bigint"&&(Ye=String(Ze),(Ze>Math.pow(BigInt(2),BigInt(32))||Ze<-Math.pow(BigInt(2),BigInt(32)))&&(Ye=Te(Ye)),Ye+="n"),Je+=" It must be ".concat(Oe,". Received ").concat(Ye),Je},RangeError);function Te(at){for(var Oe="",Ze=at.length,Je=at[0]==="-"?1:0;Ze>=Je+4;Ze-=3)Oe="_".concat(at.slice(Ze-3,Ze)).concat(Oe);return"".concat(at.slice(0,Ze)).concat(Oe)}function Le(at,Oe,Ze){Re(Oe,"offset"),(at[Oe]===void 0||at[Oe+Ze]===void 0)&&He(Oe,at.length-(Ze+1))}function xe(at,Oe,Ze,Je,Ye,ke){if(at>Ze||at<Oe){var be=typeof Oe=="bigint"?"n":"",me;throw ke>3?Oe===0||Oe===BigInt(0)?me=">= 0".concat(be," and < 2").concat(be," ** ").concat((ke+1)*8).concat(be):me=">= -(2".concat(be," ** ").concat((ke+1)*8-1).concat(be,") and < 2 ** ")+"".concat((ke+1)*8-1).concat(be):me=">= ".concat(Oe).concat(be," and <= ").concat(Ze).concat(be),new Ae.ERR_OUT_OF_RANGE("value",me,at)}Le(Je,Ye,ke)}function Re(at,Oe){if(typeof at!="number")throw new Ae.ERR_INVALID_ARG_TYPE(Oe,"number",at)}function He(at,Oe,Ze){throw Math.floor(at)!==at?(Re(at,Ze),new Ae.ERR_OUT_OF_RANGE(Ze||"offset","an integer",at)):Oe<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(Ze||"offset",">= ".concat(Ze?1:0," and <= ").concat(Oe),at)}var Ve=/[^+/0-9A-Za-z-_]/g;function Fe(at){if(at=at.split("=")[0],at=at.trim().replace(Ve,""),at.length<2)return"";for(;at.length%4!==0;)at=at+"=";return at}function We(at,Oe){Oe=Oe||1/0;for(var Ze,Je=at.length,Ye=null,ke=[],be=0;be<Je;++be){if(Ze=at.charCodeAt(be),Ze>55295&&Ze<57344){if(!Ye){if(Ze>56319){(Oe-=3)>-1&&ke.push(239,191,189);continue}else if(be+1===Je){(Oe-=3)>-1&&ke.push(239,191,189);continue}Ye=Ze;continue}if(Ze<56320){(Oe-=3)>-1&&ke.push(239,191,189),Ye=Ze;continue}Ze=(Ye-55296<<10|Ze-56320)+65536}else Ye&&(Oe-=3)>-1&&ke.push(239,191,189);if(Ye=null,Ze<128){if((Oe-=1)<0)break;ke.push(Ze)}else if(Ze<2048){if((Oe-=2)<0)break;ke.push(Ze>>6|192,Ze&63|128)}else if(Ze<65536){if((Oe-=3)<0)break;ke.push(Ze>>12|224,Ze>>6&63|128,Ze&63|128)}else if(Ze<1114112){if((Oe-=4)<0)break;ke.push(Ze>>18|240,Ze>>12&63|128,Ze>>6&63|128,Ze&63|128)}else throw new Error("Invalid code point")}return ke}function ut(at){for(var Oe=[],Ze=0;Ze<at.length;++Ze)Oe.push(at.charCodeAt(Ze)&255);return Oe}function ht(at,Oe){for(var Ze,Je,Ye,ke=[],be=0;be<at.length&&!((Oe-=2)<0);++be)Ze=at.charCodeAt(be),Je=Ze>>8,Ye=Ze%256,ke.push(Ye),ke.push(Je);return ke}function rt(at){return u.toByteArray(Fe(at))}function tt(at,Oe,Ze,Je){var Ye;for(Ye=0;Ye<Je&&!(Ye+Ze>=Oe.length||Ye>=at.length);++Ye)Oe[Ye+Ze]=at[Ye];return Ye}function vt(at,Oe){return at instanceof Oe||at!=null&&at.constructor!=null&&at.constructor.name!=null&&at.constructor.name===Oe.name}function pt(at){return at!==at}var mt=function(){for(var at="0123456789abcdef",Oe=new Array(256),Ze=0;Ze<16;++Ze)for(var Je=Ze*16,Ye=0;Ye<16;++Ye)Oe[Je+Ye]=at[Ze]+at[Ye];return Oe}();function wt(at){return typeof BigInt>"u"?Lt:at}function Lt(){throw new Error("BigInt not supported")}},25928:function(H){H.exports=L,H.exports.isMobile=L,H.exports.default=L;var U=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,p=/android|ipad|playbook|silk/i;function L(n){n||(n={});var C=n.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var T=U.test(C)&&!e.test(C)||!!n.tablet&&p.test(C);return!T&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(T=!0),T}},48932:function(H,U,e){e.r(U),e.d(U,{sankeyCenter:function(){return s},sankeyCircular:function(){return _},sankeyJustify:function(){return t},sankeyLeft:function(){return g},sankeyRight:function(){return r}});var p=e(84706),L=e(34712),n=e(10132),C=e(6688),T=e.n(C);function v(Ae){return Ae.target.depth}function g(Ae){return Ae.depth}function r(Ae,Ie){return Ie-1-Ae.height}function t(Ae,Ie){return Ae.sourceLinks.length?Ae.depth:Ie-1}function s(Ae){return Ae.targetLinks.length?Ae.depth:Ae.sourceLinks.length?(0,p.SY)(Ae.sourceLinks,v)-1:0}function a(Ae){return function(){return Ae}}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae};function u(Ae,Ie){return m(Ae.source,Ie.source)||Ae.index-Ie.index}function l(Ae,Ie){return m(Ae.target,Ie.target)||Ae.index-Ie.index}function m(Ae,Ie){return Ae.partOfCycle===Ie.partOfCycle?Ae.y0-Ie.y0:Ae.circularLinkType==="top"||Ie.circularLinkType==="bottom"?-1:1}function h(Ae){return Ae.value}function M(Ae){return(Ae.y0+Ae.y1)/2}function c(Ae){return M(Ae.source)}function i(Ae){return M(Ae.target)}function d(Ae){return Ae.index}function x(Ae){return Ae.nodes}function A(Ae){return Ae.links}function E(Ae,Ie){var Te=Ae.get(Ie);if(!Te)throw new Error("missing: "+Ie);return Te}function y(Ae,Ie){return Ie(Ae)}var S=25,w=10,o=.3;function _(){var Ae=0,Ie=0,Te=1,Le=1,xe=24,Re,He=d,Ve=t,Fe=x,We=A,ut=32,ht=2,rt,tt=null;function vt(){var Je={nodes:Fe.apply(null,arguments),links:We.apply(null,arguments)};pt(Je),b(Je,He,tt),mt(Je),at(Je),I(Je,He),Oe(Je,ut,He),Ze(Je);for(var Ye=4,ke=0;ke<Ye;ke++)j(Je,Le,He),ue(Je,Le,He),q(Je,Ie,Le,He),j(Je,Le,He),ue(Je,Le,He);return Ce(Je,Ie,Le),O(Je,ht,Le,He),Je}vt.nodeId=function(Je){return arguments.length?(He=typeof Je=="function"?Je:a(Je),vt):He},vt.nodeAlign=function(Je){return arguments.length?(Ve=typeof Je=="function"?Je:a(Je),vt):Ve},vt.nodeWidth=function(Je){return arguments.length?(xe=+Je,vt):xe},vt.nodePadding=function(Je){return arguments.length?(Re=+Je,vt):Re},vt.nodes=function(Je){return arguments.length?(Fe=typeof Je=="function"?Je:a(Je),vt):Fe},vt.links=function(Je){return arguments.length?(We=typeof Je=="function"?Je:a(Je),vt):We},vt.size=function(Je){return arguments.length?(Ae=Ie=0,Te=+Je[0],Le=+Je[1],vt):[Te-Ae,Le-Ie]},vt.extent=function(Je){return arguments.length?(Ae=+Je[0][0],Te=+Je[1][0],Ie=+Je[0][1],Le=+Je[1][1],vt):[[Ae,Ie],[Te,Le]]},vt.iterations=function(Je){return arguments.length?(ut=+Je,vt):ut},vt.circularLinkGap=function(Je){return arguments.length?(ht=+Je,vt):ht},vt.nodePaddingRatio=function(Je){return arguments.length?(rt=+Je,vt):rt},vt.sortNodes=function(Je){return arguments.length?(tt=Je,vt):tt},vt.update=function(Je){return I(Je,He),Ze(Je),Je.links.forEach(function(Ye){Ye.circular&&(Ye.circularLinkType=Ye.y0+Ye.y1<Le?"top":"bottom",Ye.source.circularLinkType=Ye.circularLinkType,Ye.target.circularLinkType=Ye.circularLinkType)}),j(Je,Le,He,!1),ue(Je,Le,He),O(Je,ht,Le,He),Je};function pt(Je){Je.nodes.forEach(function(ke,be){ke.index=be,ke.sourceLinks=[],ke.targetLinks=[]});var Ye=(0,L.kH)(Je.nodes,He);return Je.links.forEach(function(ke,be){ke.index=be;var me=ke.source,_e=ke.target;(typeof me>"u"?"undefined":f(me))!=="object"&&(me=ke.source=E(Ye,me)),(typeof _e>"u"?"undefined":f(_e))!=="object"&&(_e=ke.target=E(Ye,_e)),me.sourceLinks.push(ke),_e.targetLinks.push(ke)}),Je}function mt(Je){Je.nodes.forEach(function(Ye){Ye.partOfCycle=!1,Ye.value=Math.max((0,p.oh)(Ye.sourceLinks,h),(0,p.oh)(Ye.targetLinks,h)),Ye.sourceLinks.forEach(function(ke){ke.circular&&(Ye.partOfCycle=!0,Ye.circularLinkType=ke.circularLinkType)}),Ye.targetLinks.forEach(function(ke){ke.circular&&(Ye.partOfCycle=!0,Ye.circularLinkType=ke.circularLinkType)})})}function wt(Je){var Ye=0,ke=0,be=0,me=0,_e=(0,p.kv)(Je.nodes,function(Ee){return Ee.column});return Je.links.forEach(function(Ee){Ee.circular&&(Ee.circularLinkType=="top"?Ye=Ye+Ee.width:ke=ke+Ee.width,Ee.target.column==0&&(me=me+Ee.width),Ee.source.column==_e&&(be=be+Ee.width))}),Ye=Ye>0?Ye+S+w:Ye,ke=ke>0?ke+S+w:ke,be=be>0?be+S+w:be,me=me>0?me+S+w:me,{top:Ye,bottom:ke,left:me,right:be}}function Lt(Je,Ye){var ke=(0,p.kv)(Je.nodes,function(nt){return nt.column}),be=Te-Ae,me=Le-Ie,_e=be+Ye.right+Ye.left,Ee=me+Ye.top+Ye.bottom,Be=be/_e,je=me/Ee;return Ae=Ae*Be+Ye.left,Te=Ye.right==0?Te:Te*Be,Ie=Ie*je+Ye.top,Le=Le*je,Je.nodes.forEach(function(nt){nt.x0=Ae+nt.column*((Te-Ae-xe)/ke),nt.x1=nt.x0+xe}),je}function at(Je){var Ye,ke,be;for(Ye=Je.nodes,ke=[],be=0;Ye.length;++be,Ye=ke,ke=[])Ye.forEach(function(me){me.depth=be,me.sourceLinks.forEach(function(_e){ke.indexOf(_e.target)<0&&!_e.circular&&ke.push(_e.target)})});for(Ye=Je.nodes,ke=[],be=0;Ye.length;++be,Ye=ke,ke=[])Ye.forEach(function(me){me.height=be,me.targetLinks.forEach(function(_e){ke.indexOf(_e.source)<0&&!_e.circular&&ke.push(_e.source)})});Je.nodes.forEach(function(me){me.column=Math.floor(Ve.call(null,me,be))})}function Oe(Je,Ye,ke){var be=(0,L.UJ)().key(function(nt){return nt.column}).sortKeys(p.XE).entries(Je.nodes).map(function(nt){return nt.values});Ee(ke),je();for(var me=1,_e=Ye;_e>0;--_e)Be(me*=.99,ke),je();function Ee(nt){if(rt){var dt=1/0;be.forEach(function(St){var Ft=Le*rt/(St.length+1);dt=Ft<dt?Ft:dt}),Re=dt}var xt=(0,p.SY)(be,function(St){return(Le-Ie-(St.length-1)*Re)/(0,p.oh)(St,h)});xt=xt*o,Je.links.forEach(function(St){St.width=St.value*xt});var Kt=wt(Je),Jt=Lt(Je,Kt);xt=xt*Jt,Je.links.forEach(function(St){St.width=St.value*xt}),be.forEach(function(St){var Ft=St.length;St.forEach(function(rr,_r){rr.depth==be.length-1&&Ft==1||rr.depth==0&&Ft==1?(rr.y0=Le/2-rr.value*xt,rr.y1=rr.y0+rr.value*xt):rr.partOfCycle?k(rr,nt)==0?(rr.y0=Le/2+_r,rr.y1=rr.y0+rr.value*xt):rr.circularLinkType=="top"?(rr.y0=Ie+_r,rr.y1=rr.y0+rr.value*xt):(rr.y0=Le-rr.value*xt-_r,rr.y1=rr.y0+rr.value*xt):Kt.top==0||Kt.bottom==0?(rr.y0=(Le-Ie)/Ft*_r,rr.y1=rr.y0+rr.value*xt):(rr.y0=(Le-Ie)/2-Ft/2+_r,rr.y1=rr.y0+rr.value*xt)})})}function Be(nt,dt){var xt=be.length;be.forEach(function(Kt){var Jt=Kt.length,St=Kt[0].depth;Kt.forEach(function(Ft){var rr;if((Ft.sourceLinks.length||Ft.targetLinks.length)&&!(Ft.partOfCycle&&k(Ft,dt)>0))if(St==0&&Jt==1)rr=Ft.y1-Ft.y0,Ft.y0=Le/2-rr/2,Ft.y1=Le/2+rr/2;else if(St==xt-1&&Jt==1)rr=Ft.y1-Ft.y0,Ft.y0=Le/2-rr/2,Ft.y1=Le/2+rr/2;else{var _r=0,Tt=(0,p.mo)(Ft.sourceLinks,i),$t=(0,p.mo)(Ft.targetLinks,c);Tt&&$t?_r=(Tt+$t)/2:_r=Tt||$t;var tr=(_r-M(Ft))*nt;Ft.y0+=tr,Ft.y1+=tr}})})}function je(){be.forEach(function(nt){var dt,xt,Kt=Ie,Jt=nt.length,St;for(nt.sort(m),St=0;St<Jt;++St)dt=nt[St],xt=Kt-dt.y0,xt>0&&(dt.y0+=xt,dt.y1+=xt),Kt=dt.y1+Re;if(xt=Kt-Re-Le,xt>0)for(Kt=dt.y0-=xt,dt.y1-=xt,St=Jt-2;St>=0;--St)dt=nt[St],xt=dt.y1+Re-Kt,xt>0&&(dt.y0-=xt,dt.y1-=xt),Kt=dt.y0})}}function Ze(Je){Je.nodes.forEach(function(Ye){Ye.sourceLinks.sort(l),Ye.targetLinks.sort(u)}),Je.nodes.forEach(function(Ye){var ke=Ye.y0,be=ke,me=Ye.y1,_e=me;Ye.sourceLinks.forEach(function(Ee){Ee.circular?(Ee.y0=me-Ee.width/2,me=me-Ee.width):(Ee.y0=ke+Ee.width/2,ke+=Ee.width)}),Ye.targetLinks.forEach(function(Ee){Ee.circular?(Ee.y1=_e-Ee.width/2,_e=_e-Ee.width):(Ee.y1=be+Ee.width/2,be+=Ee.width)})})}return vt}function b(Ae,Ie,Te){var Le=0;if(Te===null){for(var xe=[],Re=0;Re<Ae.links.length;Re++){var He=Ae.links[Re],Ve=He.source.index,Fe=He.target.index;xe[Ve]||(xe[Ve]=[]),xe[Fe]||(xe[Fe]=[]),xe[Ve].indexOf(Fe)===-1&&xe[Ve].push(Fe)}var We=T()(xe);We.sort(function(tt,vt){return tt.length-vt.length});var ut={};for(Re=0;Re<We.length;Re++){var ht=We[Re],rt=ht.slice(-2);ut[rt[0]]||(ut[rt[0]]={}),ut[rt[0]][rt[1]]=!0}Ae.links.forEach(function(tt){var vt=tt.target.index,pt=tt.source.index;vt===pt||ut[pt]&&ut[pt][vt]?(tt.circular=!0,tt.circularLinkID=Le,Le=Le+1):tt.circular=!1})}else Ae.links.forEach(function(tt){tt.source[Te]<tt.target[Te]?tt.circular=!1:(tt.circular=!0,tt.circularLinkID=Le,Le=Le+1)})}function I(Ae,Ie){var Te=0,Le=0;Ae.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType||xe.target.circularLinkType?xe.circularLinkType=xe.source.circularLinkType?xe.source.circularLinkType:xe.target.circularLinkType:xe.circularLinkType=Te<Le?"top":"bottom",xe.circularLinkType=="top"?Te=Te+1:Le=Le+1,Ae.nodes.forEach(function(Re){(y(Re,Ie)==y(xe.source,Ie)||y(Re,Ie)==y(xe.target,Ie))&&(Re.circularLinkType=xe.circularLinkType)}))}),Ae.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType==xe.target.circularLinkType&&(xe.circularLinkType=xe.source.circularLinkType),ye(xe,Ie)&&(xe.circularLinkType=xe.source.circularLinkType))})}function D(Ae){var Ie=Math.abs(Ae.y1-Ae.y0),Te=Math.abs(Ae.target.x0-Ae.source.x1);return Math.atan(Te/Ie)}function N(Ae,Ie){return Ae.source.column<Ie.target.column?!1:!(Ae.target.column>Ie.source.column)}function k(Ae,Ie){var Te=0;Ae.sourceLinks.forEach(function(xe){Te=xe.circular&&!ye(xe,Ie)?Te+1:Te});var Le=0;return Ae.targetLinks.forEach(function(xe){Le=xe.circular&&!ye(xe,Ie)?Le+1:Le}),Te+Le}function z(Ae){var Ie=Ae.source.sourceLinks,Te=0;Ie.forEach(function(Re){Te=Re.circular?Te+1:Te});var Le=Ae.target.targetLinks,xe=0;return Le.forEach(function(Re){xe=Re.circular?xe+1:xe}),!(Te>1||xe>1)}function F(Ae,Ie,Te){return Ae.sort(W),Ae.forEach(function(Le,xe){var Re=0;if(ye(Le,Te)&&z(Le))Le.circularPathData.verticalBuffer=Re+Le.width/2;else{var He=0;for(He;He<xe;He++)if(N(Ae[xe],Ae[He])){var Ve=Ae[He].circularPathData.verticalBuffer+Ae[He].width/2+Ie;Re=Ve>Re?Ve:Re}Le.circularPathData.verticalBuffer=Re+Le.width/2}}),Ae}function O(Ae,Ie,Te,Le){var xe=5,Re=(0,p.SY)(Ae.links,function(Fe){return Fe.source.y0});Ae.links.forEach(function(Fe){Fe.circular&&(Fe.circularPathData={})});var He=Ae.links.filter(function(Fe){return Fe.circularLinkType=="top"});F(He,Ie,Le);var Ve=Ae.links.filter(function(Fe){return Fe.circularLinkType=="bottom"});F(Ve,Ie,Le),Ae.links.forEach(function(Fe){if(Fe.circular){if(Fe.circularPathData.arcRadius=Fe.width+w,Fe.circularPathData.leftNodeBuffer=xe,Fe.circularPathData.rightNodeBuffer=xe,Fe.circularPathData.sourceWidth=Fe.source.x1-Fe.source.x0,Fe.circularPathData.sourceX=Fe.source.x0+Fe.circularPathData.sourceWidth,Fe.circularPathData.targetX=Fe.target.x0,Fe.circularPathData.sourceY=Fe.y0,Fe.circularPathData.targetY=Fe.y1,ye(Fe,Le)&&z(Fe))Fe.circularPathData.leftSmallArcRadius=w+Fe.width/2,Fe.circularPathData.leftLargeArcRadius=w+Fe.width/2,Fe.circularPathData.rightSmallArcRadius=w+Fe.width/2,Fe.circularPathData.rightLargeArcRadius=w+Fe.width/2,Fe.circularLinkType=="bottom"?(Fe.circularPathData.verticalFullExtent=Fe.source.y1+S+Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.rightLargeArcRadius):(Fe.circularPathData.verticalFullExtent=Fe.source.y0-S-Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.rightLargeArcRadius);else{var We=Fe.source.column,ut=Fe.circularLinkType,ht=Ae.links.filter(function(vt){return vt.source.column==We&&vt.circularLinkType==ut});Fe.circularLinkType=="bottom"?ht.sort(ne):ht.sort(ee);var rt=0;ht.forEach(function(vt,pt){vt.circularLinkID==Fe.circularLinkID&&(Fe.circularPathData.leftSmallArcRadius=w+Fe.width/2+rt,Fe.circularPathData.leftLargeArcRadius=w+Fe.width/2+pt*Ie+rt),rt=rt+vt.width}),We=Fe.target.column,ht=Ae.links.filter(function(vt){return vt.target.column==We&&vt.circularLinkType==ut}),Fe.circularLinkType=="bottom"?ht.sort(le):ht.sort(Q),rt=0,ht.forEach(function(vt,pt){vt.circularLinkID==Fe.circularLinkID&&(Fe.circularPathData.rightSmallArcRadius=w+Fe.width/2+rt,Fe.circularPathData.rightLargeArcRadius=w+Fe.width/2+pt*Ie+rt),rt=rt+vt.width}),Fe.circularLinkType=="bottom"?(Fe.circularPathData.verticalFullExtent=Math.max(Te,Fe.source.y1,Fe.target.y1)+S+Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.rightLargeArcRadius):(Fe.circularPathData.verticalFullExtent=Re-S-Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.rightLargeArcRadius)}Fe.circularPathData.leftInnerExtent=Fe.circularPathData.sourceX+Fe.circularPathData.leftNodeBuffer,Fe.circularPathData.rightInnerExtent=Fe.circularPathData.targetX-Fe.circularPathData.rightNodeBuffer,Fe.circularPathData.leftFullExtent=Fe.circularPathData.sourceX+Fe.circularPathData.leftLargeArcRadius+Fe.circularPathData.leftNodeBuffer,Fe.circularPathData.rightFullExtent=Fe.circularPathData.targetX-Fe.circularPathData.rightLargeArcRadius-Fe.circularPathData.rightNodeBuffer}if(Fe.circular)Fe.path=B(Fe);else{var tt=(0,n.ak)().source(function(vt){var pt=vt.source.x0+(vt.source.x1-vt.source.x0),mt=vt.y0;return[pt,mt]}).target(function(vt){var pt=vt.target.x0,mt=vt.y1;return[pt,mt]});Fe.path=tt(Fe)}})}function B(Ae){var Ie="";return Ae.circularLinkType=="top"?Ie="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:Ie="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY,Ie}function W(Ae,Ie){return Z(Ae)==Z(Ie)?Ae.circularLinkType=="bottom"?ne(Ae,Ie):ee(Ae,Ie):Z(Ie)-Z(Ae)}function ee(Ae,Ie){return Ae.y0-Ie.y0}function ne(Ae,Ie){return Ie.y0-Ae.y0}function Q(Ae,Ie){return Ae.y1-Ie.y1}function le(Ae,Ie){return Ie.y1-Ae.y1}function Z(Ae){return Ae.target.column-Ae.source.column}function Y(Ae){return Ae.target.x0-Ae.source.x1}function re(Ae,Ie){var Te=D(Ae),Le=Y(Ie)/Math.tan(Te),xe=ce(Ae)=="up"?Ae.y1+Le:Ae.y1-Le;return xe}function X(Ae,Ie){var Te=D(Ae),Le=Y(Ie)/Math.tan(Te),xe=ce(Ae)=="up"?Ae.y1-Le:Ae.y1+Le;return xe}function q(Ae,Ie,Te,Le){Ae.links.forEach(function(xe){if(!xe.circular&&xe.target.column-xe.source.column>1){var Re=xe.source.column+1,He=xe.target.column-1,Ve=1,Fe=He-Re+1;for(Ve=1;Re<=He;Re++,Ve++)Ae.nodes.forEach(function(We){if(We.column==Re){var ut=Ve/(Fe+1),ht=Math.pow(1-ut,3),rt=3*ut*Math.pow(1-ut,2),tt=3*Math.pow(ut,2)*(1-ut),vt=Math.pow(ut,3),pt=ht*xe.y0+rt*xe.y0+tt*xe.y1+vt*xe.y1,mt=pt-xe.width/2,wt=pt+xe.width/2,Lt;mt>We.y0&&mt<We.y1?(Lt=We.y1-mt+10,Lt=We.circularLinkType=="bottom"?Lt:-Lt,We=$(We,Lt,Ie,Te),Ae.nodes.forEach(function(at){y(at,Le)==y(We,Le)||at.column!=We.column||se(We,at)&&$(at,Lt,Ie,Te)})):wt>We.y0&&wt<We.y1?(Lt=wt-We.y0+10,We=$(We,Lt,Ie,Te),Ae.nodes.forEach(function(at){y(at,Le)==y(We,Le)||at.column!=We.column||at.y0<We.y1&&at.y1>We.y1&&$(at,Lt,Ie,Te)})):mt<We.y0&&wt>We.y1&&(Lt=wt-We.y0+10,We=$(We,Lt,Ie,Te),Ae.nodes.forEach(function(at){y(at,Le)==y(We,Le)||at.column!=We.column||at.y0<We.y1&&at.y1>We.y1&&$(at,Lt,Ie,Te)}))}})}})}function se(Ae,Ie){return Ae.y0>Ie.y0&&Ae.y0<Ie.y1||Ae.y1>Ie.y0&&Ae.y1<Ie.y1?!0:Ae.y0<Ie.y0&&Ae.y1>Ie.y1}function $(Ae,Ie,Te,Le){return Ae.y0+Ie>=Te&&Ae.y1+Ie<=Le&&(Ae.y0=Ae.y0+Ie,Ae.y1=Ae.y1+Ie,Ae.targetLinks.forEach(function(xe){xe.y1=xe.y1+Ie}),Ae.sourceLinks.forEach(function(xe){xe.y0=xe.y0+Ie})),Ae}function j(Ae,Ie,Te,Le){Ae.nodes.forEach(function(xe){Le&&xe.y+(xe.y1-xe.y0)>Ie&&(xe.y=xe.y-(xe.y+(xe.y1-xe.y0)-Ie));var Re=Ae.links.filter(function(Fe){return y(Fe.source,Te)==y(xe,Te)}),He=Re.length;He>1&&Re.sort(function(Fe,We){if(!Fe.circular&&!We.circular){if(Fe.target.column==We.target.column)return Fe.y1-We.y1;if(ae(Fe,We)){if(Fe.target.column>We.target.column){var ut=X(We,Fe);return Fe.y1-ut}if(We.target.column>Fe.target.column){var ht=X(Fe,We);return ht-We.y1}}else return Fe.y1-We.y1}if(Fe.circular&&!We.circular)return Fe.circularLinkType=="top"?-1:1;if(We.circular&&!Fe.circular)return We.circularLinkType=="top"?1:-1;if(Fe.circular&&We.circular)return Fe.circularLinkType===We.circularLinkType&&Fe.circularLinkType=="top"?Fe.target.column===We.target.column?Fe.target.y1-We.target.y1:We.target.column-Fe.target.column:Fe.circularLinkType===We.circularLinkType&&Fe.circularLinkType=="bottom"?Fe.target.column===We.target.column?We.target.y1-Fe.target.y1:Fe.target.column-We.target.column:Fe.circularLinkType=="top"?-1:1});var Ve=xe.y0;Re.forEach(function(Fe){Fe.y0=Ve+Fe.width/2,Ve=Ve+Fe.width}),Re.forEach(function(Fe,We){if(Fe.circularLinkType=="bottom"){var ut=We+1,ht=0;for(ut;ut<He;ut++)ht=ht+Re[ut].width;Fe.y0=xe.y1-ht-Fe.width/2}})})}function ue(Ae,Ie,Te){Ae.nodes.forEach(function(Le){var xe=Ae.links.filter(function(Ve){return y(Ve.target,Te)==y(Le,Te)}),Re=xe.length;Re>1&&xe.sort(function(Ve,Fe){if(!Ve.circular&&!Fe.circular){if(Ve.source.column==Fe.source.column)return Ve.y0-Fe.y0;if(ae(Ve,Fe)){if(Fe.source.column<Ve.source.column){var We=re(Fe,Ve);return Ve.y0-We}if(Ve.source.column<Fe.source.column){var ut=re(Ve,Fe);return ut-Fe.y0}}else return Ve.y0-Fe.y0}if(Ve.circular&&!Fe.circular)return Ve.circularLinkType=="top"?-1:1;if(Fe.circular&&!Ve.circular)return Fe.circularLinkType=="top"?1:-1;if(Ve.circular&&Fe.circular)return Ve.circularLinkType===Fe.circularLinkType&&Ve.circularLinkType=="top"?Ve.source.column===Fe.source.column?Ve.source.y1-Fe.source.y1:Ve.source.column-Fe.source.column:Ve.circularLinkType===Fe.circularLinkType&&Ve.circularLinkType=="bottom"?Ve.source.column===Fe.source.column?Ve.source.y1-Fe.source.y1:Fe.source.column-Ve.source.column:Ve.circularLinkType=="top"?-1:1});var He=Le.y0;xe.forEach(function(Ve){Ve.y1=He+Ve.width/2,He=He+Ve.width}),xe.forEach(function(Ve,Fe){if(Ve.circularLinkType=="bottom"){var We=Fe+1,ut=0;for(We;We<Re;We++)ut=ut+xe[We].width;Ve.y1=Le.y1-ut-Ve.width/2}})})}function ae(Ae,Ie){return ce(Ae)==ce(Ie)}function ce(Ae){return Ae.y0-Ae.y1>0?"up":"down"}function ye(Ae,Ie){return y(Ae.source,Ie)==y(Ae.target,Ie)}function Ce(Ae,Ie,Te){var Le=Ae.nodes,xe=Ae.links,Re=!1,He=!1;if(xe.forEach(function(rt){rt.circularLinkType=="top"?Re=!0:rt.circularLinkType=="bottom"&&(He=!0)}),Re==!1||He==!1){var Ve=(0,p.SY)(Le,function(rt){return rt.y0}),Fe=(0,p.kv)(Le,function(rt){return rt.y1}),We=Fe-Ve,ut=Te-Ie,ht=ut/We;Le.forEach(function(rt){var tt=(rt.y1-rt.y0)*ht;rt.y0=(rt.y0-Ve)*ht,rt.y1=rt.y0+tt}),xe.forEach(function(rt){rt.y0=(rt.y0-Ve)*ht,rt.y1=(rt.y1-Ve)*ht,rt.width=rt.width*ht})}}},26800:function(H,U,e){e.r(U),e.d(U,{sankey:function(){return d},sankeyCenter:function(){return g},sankeyJustify:function(){return v},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return y},sankeyRight:function(){return T}});var p=e(84706),L=e(34712);function n(S){return S.target.depth}function C(S){return S.depth}function T(S,w){return w-1-S.height}function v(S,w){return S.sourceLinks.length?S.depth:w-1}function g(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,p.SY)(S.sourceLinks,n)-1:0}function r(S){return function(){return S}}function t(S,w){return a(S.source,w.source)||S.index-w.index}function s(S,w){return a(S.target,w.target)||S.index-w.index}function a(S,w){return S.y0-w.y0}function f(S){return S.value}function u(S){return(S.y0+S.y1)/2}function l(S){return u(S.source)*S.value}function m(S){return u(S.target)*S.value}function h(S){return S.index}function M(S){return S.nodes}function c(S){return S.links}function i(S,w){var o=S.get(w);if(!o)throw new Error("missing: "+w);return o}function d(){var S=0,w=0,o=1,_=1,b=24,I=8,D=h,N=v,k=M,z=c,F=32,O=2/3;function B(){var Z={nodes:k.apply(null,arguments),links:z.apply(null,arguments)};return W(Z),ee(Z),ne(Z),Q(Z),le(Z),Z}B.update=function(Z){return le(Z),Z},B.nodeId=function(Z){return arguments.length?(D=typeof Z=="function"?Z:r(Z),B):D},B.nodeAlign=function(Z){return arguments.length?(N=typeof Z=="function"?Z:r(Z),B):N},B.nodeWidth=function(Z){return arguments.length?(b=+Z,B):b},B.nodePadding=function(Z){return arguments.length?(I=+Z,B):I},B.nodes=function(Z){return arguments.length?(k=typeof Z=="function"?Z:r(Z),B):k},B.links=function(Z){return arguments.length?(z=typeof Z=="function"?Z:r(Z),B):z},B.size=function(Z){return arguments.length?(S=w=0,o=+Z[0],_=+Z[1],B):[o-S,_-w]},B.extent=function(Z){return arguments.length?(S=+Z[0][0],o=+Z[1][0],w=+Z[0][1],_=+Z[1][1],B):[[S,w],[o,_]]},B.iterations=function(Z){return arguments.length?(F=+Z,B):F};function W(Z){Z.nodes.forEach(function(re,X){re.index=X,re.sourceLinks=[],re.targetLinks=[]});var Y=(0,L.kH)(Z.nodes,D);Z.links.forEach(function(re,X){re.index=X;var q=re.source,se=re.target;typeof q!="object"&&(q=re.source=i(Y,q)),typeof se!="object"&&(se=re.target=i(Y,se)),q.sourceLinks.push(re),se.targetLinks.push(re)})}function ee(Z){Z.nodes.forEach(function(Y){Y.value=Math.max((0,p.oh)(Y.sourceLinks,f),(0,p.oh)(Y.targetLinks,f))})}function ne(Z){var Y,re,X;for(Y=Z.nodes,re=[],X=0;Y.length;++X,Y=re,re=[])Y.forEach(function(se){se.depth=X,se.sourceLinks.forEach(function($){re.indexOf($.target)<0&&re.push($.target)})});for(Y=Z.nodes,re=[],X=0;Y.length;++X,Y=re,re=[])Y.forEach(function(se){se.height=X,se.targetLinks.forEach(function($){re.indexOf($.source)<0&&re.push($.source)})});var q=(o-S-b)/(X-1);Z.nodes.forEach(function(se){se.x1=(se.x0=S+Math.max(0,Math.min(X-1,Math.floor(N.call(null,se,X))))*q)+b})}function Q(Z){var Y=(0,L.UJ)().key(function(ue){return ue.x0}).sortKeys(p.XE).entries(Z.nodes).map(function(ue){return ue.values});q(),j();for(var re=1,X=F;X>0;--X)$(re*=.99),j(),se(re),j();function q(){var ue=(0,p.kv)(Y,function(ye){return ye.length}),ae=O*(_-w)/(ue-1);I>ae&&(I=ae);var ce=(0,p.SY)(Y,function(ye){return(_-w-(ye.length-1)*I)/(0,p.oh)(ye,f)});Y.forEach(function(ye){ye.forEach(function(Ce,Ae){Ce.y1=(Ce.y0=Ae)+Ce.value*ce})}),Z.links.forEach(function(ye){ye.width=ye.value*ce})}function se(ue){Y.forEach(function(ae){ae.forEach(function(ce){if(ce.targetLinks.length){var ye=((0,p.oh)(ce.targetLinks,l)/(0,p.oh)(ce.targetLinks,f)-u(ce))*ue;ce.y0+=ye,ce.y1+=ye}})})}function $(ue){Y.slice().reverse().forEach(function(ae){ae.forEach(function(ce){if(ce.sourceLinks.length){var ye=((0,p.oh)(ce.sourceLinks,m)/(0,p.oh)(ce.sourceLinks,f)-u(ce))*ue;ce.y0+=ye,ce.y1+=ye}})})}function j(){Y.forEach(function(ue){var ae,ce,ye=w,Ce=ue.length,Ae;for(ue.sort(a),Ae=0;Ae<Ce;++Ae)ae=ue[Ae],ce=ye-ae.y0,ce>0&&(ae.y0+=ce,ae.y1+=ce),ye=ae.y1+I;if(ce=ye-I-_,ce>0)for(ye=ae.y0-=ce,ae.y1-=ce,Ae=Ce-2;Ae>=0;--Ae)ae=ue[Ae],ce=ae.y1+I-ye,ce>0&&(ae.y0-=ce,ae.y1-=ce),ye=ae.y0})}}function le(Z){Z.nodes.forEach(function(Y){Y.sourceLinks.sort(s),Y.targetLinks.sort(t)}),Z.nodes.forEach(function(Y){var re=Y.y0,X=re;Y.sourceLinks.forEach(function(q){q.y0=re+q.width/2,re+=q.width}),Y.targetLinks.forEach(function(q){q.y1=X+q.width/2,X+=q.width})})}return B}var x=e(10132);function A(S){return[S.source.x1,S.y0]}function E(S){return[S.target.x0,S.y1]}function y(){return(0,x.ak)().source(A).target(E)}},33428:function(H,U,e){var p,L;(function(){var n={version:"3.8.0"},C=[].slice,T=function(he){return C.call(he)},v=self.document;function g(he){return he&&(he.ownerDocument||he.document||he).documentElement}function r(he){return he&&(he.ownerDocument&&he.ownerDocument.defaultView||he.document&&he||he.defaultView)}if(v)try{T(v.documentElement.childNodes)[0].nodeType}catch{T=function(Pe){for(var Ne=Pe.length,qe=new Array(Ne);Ne--;)qe[Ne]=Pe[Ne];return qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,s=t.setAttribute,a=t.setAttributeNS,f=this.CSSStyleDeclaration.prototype,u=f.setProperty;t.setAttribute=function(Pe,Ne){s.call(this,Pe,Ne+"")},t.setAttributeNS=function(Pe,Ne,qe){a.call(this,Pe,Ne,qe+"")},f.setProperty=function(Pe,Ne,qe){u.call(this,Pe,Ne+"",qe)}}n.ascending=l;function l(he,Pe){return he<Pe?-1:he>Pe?1:he>=Pe?0:NaN}n.descending=function(he,Pe){return Pe<he?-1:Pe>he?1:Pe>=he?0:NaN},n.min=function(he,Pe){var Ne=-1,qe=he.length,ot,ft;if(arguments.length===1){for(;++Ne<qe;)if((ft=he[Ne])!=null&&ft>=ft){ot=ft;break}for(;++Ne<qe;)(ft=he[Ne])!=null&&ot>ft&&(ot=ft)}else{for(;++Ne<qe;)if((ft=Pe.call(he,he[Ne],Ne))!=null&&ft>=ft){ot=ft;break}for(;++Ne<qe;)(ft=Pe.call(he,he[Ne],Ne))!=null&&ot>ft&&(ot=ft)}return ot},n.max=function(he,Pe){var Ne=-1,qe=he.length,ot,ft;if(arguments.length===1){for(;++Ne<qe;)if((ft=he[Ne])!=null&&ft>=ft){ot=ft;break}for(;++Ne<qe;)(ft=he[Ne])!=null&&ft>ot&&(ot=ft)}else{for(;++Ne<qe;)if((ft=Pe.call(he,he[Ne],Ne))!=null&&ft>=ft){ot=ft;break}for(;++Ne<qe;)(ft=Pe.call(he,he[Ne],Ne))!=null&&ft>ot&&(ot=ft)}return ot},n.extent=function(he,Pe){var Ne=-1,qe=he.length,ot,ft,Rt;if(arguments.length===1){for(;++Ne<qe;)if((ft=he[Ne])!=null&&ft>=ft){ot=Rt=ft;break}for(;++Ne<qe;)(ft=he[Ne])!=null&&(ot>ft&&(ot=ft),Rt<ft&&(Rt=ft))}else{for(;++Ne<qe;)if((ft=Pe.call(he,he[Ne],Ne))!=null&&ft>=ft){ot=Rt=ft;break}for(;++Ne<qe;)(ft=Pe.call(he,he[Ne],Ne))!=null&&(ot>ft&&(ot=ft),Rt<ft&&(Rt=ft))}return[ot,Rt]};function m(he){return he===null?NaN:+he}function h(he){return!isNaN(he)}n.sum=function(he,Pe){var Ne=0,qe=he.length,ot,ft=-1;if(arguments.length===1)for(;++ft<qe;)h(ot=+he[ft])&&(Ne+=ot);else for(;++ft<qe;)h(ot=+Pe.call(he,he[ft],ft))&&(Ne+=ot);return Ne},n.mean=function(he,Pe){var Ne=0,qe=he.length,ot,ft=-1,Rt=qe;if(arguments.length===1)for(;++ft<qe;)h(ot=m(he[ft]))?Ne+=ot:--Rt;else for(;++ft<qe;)h(ot=m(Pe.call(he,he[ft],ft)))?Ne+=ot:--Rt;if(Rt)return Ne/Rt},n.quantile=function(he,Pe){var Ne=(he.length-1)*Pe+1,qe=Math.floor(Ne),ot=+he[qe-1],ft=Ne-qe;return ft?ot+ft*(he[qe]-ot):ot},n.median=function(he,Pe){var Ne=[],qe=he.length,ot,ft=-1;if(arguments.length===1)for(;++ft<qe;)h(ot=m(he[ft]))&&Ne.push(ot);else for(;++ft<qe;)h(ot=m(Pe.call(he,he[ft],ft)))&&Ne.push(ot);if(Ne.length)return n.quantile(Ne.sort(l),.5)},n.variance=function(he,Pe){var Ne=he.length,qe=0,ot,ft,Rt=0,Et=-1,Xt=0;if(arguments.length===1)for(;++Et<Ne;)h(ot=m(he[Et]))&&(ft=ot-qe,qe+=ft/++Xt,Rt+=ft*(ot-qe));else for(;++Et<Ne;)h(ot=m(Pe.call(he,he[Et],Et)))&&(ft=ot-qe,qe+=ft/++Xt,Rt+=ft*(ot-qe));if(Xt>1)return Rt/(Xt-1)},n.deviation=function(){var he=n.variance.apply(this,arguments);return he&&Math.sqrt(he)};function M(he){return{left:function(Pe,Ne,qe,ot){for(arguments.length<3&&(qe=0),arguments.length<4&&(ot=Pe.length);qe<ot;){var ft=qe+ot>>>1;he(Pe[ft],Ne)<0?qe=ft+1:ot=ft}return qe},right:function(Pe,Ne,qe,ot){for(arguments.length<3&&(qe=0),arguments.length<4&&(ot=Pe.length);qe<ot;){var ft=qe+ot>>>1;he(Pe[ft],Ne)>0?ot=ft:qe=ft+1}return qe}}}var c=M(l);n.bisectLeft=c.left,n.bisect=n.bisectRight=c.right,n.bisector=function(he){return M(he.length===1?function(Pe,Ne){return l(he(Pe),Ne)}:he)},n.shuffle=function(he,Pe,Ne){(qe=arguments.length)<3&&(Ne=he.length,qe<2&&(Pe=0));for(var qe=Ne-Pe,ot,ft;qe;)ft=Math.random()*qe--|0,ot=he[qe+Pe],he[qe+Pe]=he[ft+Pe],he[ft+Pe]=ot;return he},n.permute=function(he,Pe){for(var Ne=Pe.length,qe=new Array(Ne);Ne--;)qe[Ne]=he[Pe[Ne]];return qe},n.pairs=function(he){for(var Pe=0,Ne=he.length-1,qe=he[0],ot=new Array(Ne<0?0:Ne);Pe<Ne;)ot[Pe]=[qe,qe=he[++Pe]];return ot},n.transpose=function(he){if(!(ft=he.length))return[];for(var Pe=-1,Ne=n.min(he,i),qe=new Array(Ne);++Pe<Ne;)for(var ot=-1,ft,Rt=qe[Pe]=new Array(ft);++ot<ft;)Rt[ot]=he[ot][Pe];return qe};function i(he){return he.length}n.zip=function(){return n.transpose(arguments)},n.keys=function(he){var Pe=[];for(var Ne in he)Pe.push(Ne);return Pe},n.values=function(he){var Pe=[];for(var Ne in he)Pe.push(he[Ne]);return Pe},n.entries=function(he){var Pe=[];for(var Ne in he)Pe.push({key:Ne,value:he[Ne]});return Pe},n.merge=function(he){for(var Pe=he.length,Ne,qe=-1,ot=0,ft,Rt;++qe<Pe;)ot+=he[qe].length;for(ft=new Array(ot);--Pe>=0;)for(Rt=he[Pe],Ne=Rt.length;--Ne>=0;)ft[--ot]=Rt[Ne];return ft};var d=Math.abs;n.range=function(he,Pe,Ne){if(arguments.length<3&&(Ne=1,arguments.length<2&&(Pe=he,he=0)),(Pe-he)/Ne===1/0)throw new Error("infinite range");var qe=[],ot=x(d(Ne)),ft=-1,Rt;if(he*=ot,Pe*=ot,Ne*=ot,Ne<0)for(;(Rt=he+Ne*++ft)>Pe;)qe.push(Rt/ot);else for(;(Rt=he+Ne*++ft)<Pe;)qe.push(Rt/ot);return qe};function x(he){for(var Pe=1;he*Pe%1;)Pe*=10;return Pe}function A(he,Pe){for(var Ne in Pe)Object.defineProperty(he.prototype,Ne,{value:Pe[Ne],enumerable:!1})}n.map=function(he,Pe){var Ne=new E;if(he instanceof E)he.forEach(function(Et,Xt){Ne.set(Et,Xt)});else if(Array.isArray(he)){var qe=-1,ot=he.length,ft;if(arguments.length===1)for(;++qe<ot;)Ne.set(qe,he[qe]);else for(;++qe<ot;)Ne.set(Pe.call(he,ft=he[qe],qe),ft)}else for(var Rt in he)Ne.set(Rt,he[Rt]);return Ne};function E(){this._=Object.create(null)}var y="__proto__",S="\0";A(E,{has:_,get:function(he){return this._[w(he)]},set:function(he,Pe){return this._[w(he)]=Pe},remove:b,keys:I,values:function(){var he=[];for(var Pe in this._)he.push(this._[Pe]);return he},entries:function(){var he=[];for(var Pe in this._)he.push({key:o(Pe),value:this._[Pe]});return he},size:D,empty:N,forEach:function(he){for(var Pe in this._)he.call(this,o(Pe),this._[Pe])}});function w(he){return(he+="")===y||he[0]===S?S+he:he}function o(he){return(he+="")[0]===S?he.slice(1):he}function _(he){return w(he)in this._}function b(he){return(he=w(he))in this._&&delete this._[he]}function I(){var he=[];for(var Pe in this._)he.push(o(Pe));return he}function D(){var he=0;for(var Pe in this._)++he;return he}function N(){for(var he in this._)return!1;return!0}n.nest=function(){var he={},Pe=[],Ne=[],qe,ot;function ft(Et,Xt,Zt){if(Zt>=Pe.length)return ot?ot.call(he,Xt):qe?Xt.sort(qe):Xt;for(var ir=-1,Ir=Xt.length,kr=Pe[Zt++],sn,dn,Br,Wr=new E,nn;++ir<Ir;)(nn=Wr.get(sn=kr(dn=Xt[ir])))?nn.push(dn):Wr.set(sn,[dn]);return Et?(dn=Et(),Br=function(gn,Tn){dn.set(gn,ft(Et,Tn,Zt))}):(dn={},Br=function(gn,Tn){dn[gn]=ft(Et,Tn,Zt)}),Wr.forEach(Br),dn}function Rt(Et,Xt){if(Xt>=Pe.length)return Et;var Zt=[],ir=Ne[Xt++];return Et.forEach(function(Ir,kr){Zt.push({key:Ir,values:Rt(kr,Xt)})}),ir?Zt.sort(function(Ir,kr){return ir(Ir.key,kr.key)}):Zt}return he.map=function(Et,Xt){return ft(Xt,Et,0)},he.entries=function(Et){return Rt(ft(n.map,Et,0),0)},he.key=function(Et){return Pe.push(Et),he},he.sortKeys=function(Et){return Ne[Pe.length-1]=Et,he},he.sortValues=function(Et){return qe=Et,he},he.rollup=function(Et){return ot=Et,he},he},n.set=function(he){var Pe=new k;if(he)for(var Ne=0,qe=he.length;Ne<qe;++Ne)Pe.add(he[Ne]);return Pe};function k(){this._=Object.create(null)}A(k,{has:_,add:function(he){return this._[w(he+="")]=!0,he},remove:b,values:I,size:D,empty:N,forEach:function(he){for(var Pe in this._)he.call(this,o(Pe))}}),n.behavior={};function z(he){return he}n.rebind=function(he,Pe){for(var Ne=1,qe=arguments.length,ot;++Ne<qe;)he[ot=arguments[Ne]]=F(he,Pe,Pe[ot]);return he};function F(he,Pe,Ne){return function(){var qe=Ne.apply(Pe,arguments);return qe===Pe?he:qe}}function O(he,Pe){if(Pe in he)return Pe;Pe=Pe.charAt(0).toUpperCase()+Pe.slice(1);for(var Ne=0,qe=B.length;Ne<qe;++Ne){var ot=B[Ne]+Pe;if(ot in he)return ot}}var B=["webkit","ms","moz","Moz","o","O"];function W(){}n.dispatch=function(){for(var he=new ee,Pe=-1,Ne=arguments.length;++Pe<Ne;)he[arguments[Pe]]=ne(he);return he};function ee(){}ee.prototype.on=function(he,Pe){var Ne=he.indexOf("."),qe="";if(Ne>=0&&(qe=he.slice(Ne+1),he=he.slice(0,Ne)),he)return arguments.length<2?this[he].on(qe):this[he].on(qe,Pe);if(arguments.length===2){if(Pe==null)for(he in this)this.hasOwnProperty(he)&&this[he].on(qe,null);return this}};function ne(he){var Pe=[],Ne=new E;function qe(){for(var ot=Pe,ft=-1,Rt=ot.length,Et;++ft<Rt;)(Et=ot[ft].on)&&Et.apply(this,arguments);return he}return qe.on=function(ot,ft){var Rt=Ne.get(ot),Et;return arguments.length<2?Rt&&Rt.on:(Rt&&(Rt.on=null,Pe=Pe.slice(0,Et=Pe.indexOf(Rt)).concat(Pe.slice(Et+1)),Ne.remove(ot)),ft&&Pe.push(Ne.set(ot,{on:ft})),he)},qe}n.event=null;function Q(){n.event.preventDefault()}function le(){for(var he=n.event,Pe;Pe=he.sourceEvent;)he=Pe;return he}function Z(he){for(var Pe=new ee,Ne=0,qe=arguments.length;++Ne<qe;)Pe[arguments[Ne]]=ne(Pe);return Pe.of=function(ot,ft){return function(Rt){try{var Et=Rt.sourceEvent=n.event;Rt.target=he,n.event=Rt,Pe[Rt.type].apply(ot,ft)}finally{n.event=Et}}},Pe}n.requote=function(he){return he.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,re={}.__proto__?function(he,Pe){he.__proto__=Pe}:function(he,Pe){for(var Ne in Pe)he[Ne]=Pe[Ne]};function X(he){return re(he,j),he}var q=function(he,Pe){return Pe.querySelector(he)},se=function(he,Pe){return Pe.querySelectorAll(he)},$=function(he,Pe){var Ne=he.matches||he[O(he,"matchesSelector")];return $=function(qe,ot){return Ne.call(qe,ot)},$(he,Pe)};typeof Sizzle=="function"&&(q=function(he,Pe){return Sizzle(he,Pe)[0]||null},se=Sizzle,$=Sizzle.matchesSelector),n.selection=function(){return n.select(v.documentElement)};var j=n.selection.prototype=[];j.select=function(he){var Pe=[],Ne,qe,ot,ft;he=ue(he);for(var Rt=-1,Et=this.length;++Rt<Et;){Pe.push(Ne=[]),Ne.parentNode=(ot=this[Rt]).parentNode;for(var Xt=-1,Zt=ot.length;++Xt<Zt;)(ft=ot[Xt])?(Ne.push(qe=he.call(ft,ft.__data__,Xt,Rt)),qe&&"__data__"in ft&&(qe.__data__=ft.__data__)):Ne.push(null)}return X(Pe)};function ue(he){return typeof he=="function"?he:function(){return q(he,this)}}j.selectAll=function(he){var Pe=[],Ne,qe;he=ae(he);for(var ot=-1,ft=this.length;++ot<ft;)for(var Rt=this[ot],Et=-1,Xt=Rt.length;++Et<Xt;)(qe=Rt[Et])&&(Pe.push(Ne=T(he.call(qe,qe.__data__,Et,ot))),Ne.parentNode=qe);return X(Pe)};function ae(he){return typeof he=="function"?he:function(){return se(he,this)}}var ce="http://www.w3.org/1999/xhtml",ye={svg:"http://www.w3.org/2000/svg",xhtml:ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:ye,qualify:function(he){var Pe=he.indexOf(":"),Ne=he;return Pe>=0&&(Ne=he.slice(0,Pe))!=="xmlns"&&(he=he.slice(Pe+1)),ye.hasOwnProperty(Ne)?{space:ye[Ne],local:he}:he}},j.attr=function(he,Pe){if(arguments.length<2){if(typeof he=="string"){var Ne=this.node();return he=n.ns.qualify(he),he.local?Ne.getAttributeNS(he.space,he.local):Ne.getAttribute(he)}for(Pe in he)this.each(Ce(Pe,he[Pe]));return this}return this.each(Ce(he,Pe))};function Ce(he,Pe){he=n.ns.qualify(he);function Ne(){this.removeAttribute(he)}function qe(){this.removeAttributeNS(he.space,he.local)}function ot(){this.setAttribute(he,Pe)}function ft(){this.setAttributeNS(he.space,he.local,Pe)}function Rt(){var Xt=Pe.apply(this,arguments);Xt==null?this.removeAttribute(he):this.setAttribute(he,Xt)}function Et(){var Xt=Pe.apply(this,arguments);Xt==null?this.removeAttributeNS(he.space,he.local):this.setAttributeNS(he.space,he.local,Xt)}return Pe==null?he.local?qe:Ne:typeof Pe=="function"?he.local?Et:Rt:he.local?ft:ot}function Ae(he){return he.trim().replace(/\s+/g," ")}j.classed=function(he,Pe){if(arguments.length<2){if(typeof he=="string"){var Ne=this.node(),qe=(he=Te(he)).length,ot=-1;if(Pe=Ne.classList){for(;++ot<qe;)if(!Pe.contains(he[ot]))return!1}else for(Pe=Ne.getAttribute("class");++ot<qe;)if(!Ie(he[ot]).test(Pe))return!1;return!0}for(Pe in he)this.each(Le(Pe,he[Pe]));return this}return this.each(Le(he,Pe))};function Ie(he){return new RegExp("(?:^|\\s+)"+n.requote(he)+"(?:\\s+|$)","g")}function Te(he){return(he+"").trim().split(/^|\s+/)}function Le(he,Pe){he=Te(he).map(xe);var Ne=he.length;function qe(){for(var ft=-1;++ft<Ne;)he[ft](this,Pe)}function ot(){for(var ft=-1,Rt=Pe.apply(this,arguments);++ft<Ne;)he[ft](this,Rt)}return typeof Pe=="function"?ot:qe}function xe(he){var Pe=Ie(he);return function(Ne,qe){if(ot=Ne.classList)return qe?ot.add(he):ot.remove(he);var ot=Ne.getAttribute("class")||"";qe?(Pe.lastIndex=0,Pe.test(ot)||Ne.setAttribute("class",Ae(ot+" "+he))):Ne.setAttribute("class",Ae(ot.replace(Pe," ")))}}j.style=function(he,Pe,Ne){var qe=arguments.length;if(qe<3){if(typeof he!="string"){qe<2&&(Pe="");for(Ne in he)this.each(Re(Ne,he[Ne],Pe));return this}if(qe<2){var ot=this.node();return r(ot).getComputedStyle(ot,null).getPropertyValue(he)}Ne=""}return this.each(Re(he,Pe,Ne))};function Re(he,Pe,Ne){function qe(){this.style.removeProperty(he)}function ot(){this.style.setProperty(he,Pe,Ne)}function ft(){var Rt=Pe.apply(this,arguments);Rt==null?this.style.removeProperty(he):this.style.setProperty(he,Rt,Ne)}return Pe==null?qe:typeof Pe=="function"?ft:ot}j.property=function(he,Pe){if(arguments.length<2){if(typeof he=="string")return this.node()[he];for(Pe in he)this.each(He(Pe,he[Pe]));return this}return this.each(He(he,Pe))};function He(he,Pe){function Ne(){delete this[he]}function qe(){this[he]=Pe}function ot(){var ft=Pe.apply(this,arguments);ft==null?delete this[he]:this[he]=ft}return Pe==null?Ne:typeof Pe=="function"?ot:qe}j.text=function(he){return arguments.length?this.each(typeof he=="function"?function(){var Pe=he.apply(this,arguments);this.textContent=Pe??""}:he==null?function(){this.textContent=""}:function(){this.textContent=he}):this.node().textContent},j.html=function(he){return arguments.length?this.each(typeof he=="function"?function(){var Pe=he.apply(this,arguments);this.innerHTML=Pe??""}:he==null?function(){this.innerHTML=""}:function(){this.innerHTML=he}):this.node().innerHTML},j.append=function(he){return he=Ve(he),this.select(function(){return this.appendChild(he.apply(this,arguments))})};function Ve(he){function Pe(){var qe=this.ownerDocument,ot=this.namespaceURI;return ot===ce&&qe.documentElement.namespaceURI===ce?qe.createElement(he):qe.createElementNS(ot,he)}function Ne(){return this.ownerDocument.createElementNS(he.space,he.local)}return typeof he=="function"?he:(he=n.ns.qualify(he)).local?Ne:Pe}j.insert=function(he,Pe){return he=Ve(he),Pe=ue(Pe),this.select(function(){return this.insertBefore(he.apply(this,arguments),Pe.apply(this,arguments)||null)})},j.remove=function(){return this.each(Fe)};function Fe(){var he=this.parentNode;he&&he.removeChild(this)}j.data=function(he,Pe){var Ne=-1,qe=this.length,ot,ft;if(!arguments.length){for(he=new Array(qe=(ot=this[0]).length);++Ne<qe;)(ft=ot[Ne])&&(he[Ne]=ft.__data__);return he}function Rt(ir,Ir){var kr,sn=ir.length,dn=Ir.length,Br=Math.min(sn,dn),Wr=new Array(dn),nn=new Array(dn),gn=new Array(sn),Tn,un;if(Pe){var Rn=new E,ha=new Array(sn),Sa;for(kr=-1;++kr<sn;)(Tn=ir[kr])&&(Rn.has(Sa=Pe.call(Tn,Tn.__data__,kr))?gn[kr]=Tn:Rn.set(Sa,Tn),ha[kr]=Sa);for(kr=-1;++kr<dn;)(Tn=Rn.get(Sa=Pe.call(Ir,un=Ir[kr],kr)))?Tn!==!0&&(Wr[kr]=Tn,Tn.__data__=un):nn[kr]=We(un),Rn.set(Sa,!0);for(kr=-1;++kr<sn;)kr in ha&&Rn.get(ha[kr])!==!0&&(gn[kr]=ir[kr])}else{for(kr=-1;++kr<Br;)Tn=ir[kr],un=Ir[kr],Tn?(Tn.__data__=un,Wr[kr]=Tn):nn[kr]=We(un);for(;kr<dn;++kr)nn[kr]=We(Ir[kr]);for(;kr<sn;++kr)gn[kr]=ir[kr]}nn.update=Wr,nn.parentNode=Wr.parentNode=gn.parentNode=ir.parentNode,Et.push(nn),Xt.push(Wr),Zt.push(gn)}var Et=tt([]),Xt=X([]),Zt=X([]);if(typeof he=="function")for(;++Ne<qe;)Rt(ot=this[Ne],he.call(ot,ot.parentNode.__data__,Ne));else for(;++Ne<qe;)Rt(ot=this[Ne],he);return Xt.enter=function(){return Et},Xt.exit=function(){return Zt},Xt};function We(he){return{__data__:he}}j.datum=function(he){return arguments.length?this.property("__data__",he):this.property("__data__")},j.filter=function(he){var Pe=[],Ne,qe,ot;typeof he!="function"&&(he=ut(he));for(var ft=0,Rt=this.length;ft<Rt;ft++){Pe.push(Ne=[]),Ne.parentNode=(qe=this[ft]).parentNode;for(var Et=0,Xt=qe.length;Et<Xt;Et++)(ot=qe[Et])&&he.call(ot,ot.__data__,Et,ft)&&Ne.push(ot)}return X(Pe)};function ut(he){return function(){return $(this,he)}}j.order=function(){for(var he=-1,Pe=this.length;++he<Pe;)for(var Ne=this[he],qe=Ne.length-1,ot=Ne[qe],ft;--qe>=0;)(ft=Ne[qe])&&(ot&&ot!==ft.nextSibling&&ot.parentNode.insertBefore(ft,ot),ot=ft);return this},j.sort=function(he){he=ht.apply(this,arguments);for(var Pe=-1,Ne=this.length;++Pe<Ne;)this[Pe].sort(he);return this.order()};function ht(he){return arguments.length||(he=l),function(Pe,Ne){return Pe&&Ne?he(Pe.__data__,Ne.__data__):!Pe-!Ne}}j.each=function(he){return rt(this,function(Pe,Ne,qe){he.call(Pe,Pe.__data__,Ne,qe)})};function rt(he,Pe){for(var Ne=0,qe=he.length;Ne<qe;Ne++)for(var ot=he[Ne],ft=0,Rt=ot.length,Et;ft<Rt;ft++)(Et=ot[ft])&&Pe(Et,ft,Ne);return he}j.call=function(he){var Pe=T(arguments);return he.apply(Pe[0]=this,Pe),this},j.empty=function(){return!this.node()},j.node=function(){for(var he=0,Pe=this.length;he<Pe;he++)for(var Ne=this[he],qe=0,ot=Ne.length;qe<ot;qe++){var ft=Ne[qe];if(ft)return ft}return null},j.size=function(){var he=0;return rt(this,function(){++he}),he};function tt(he){return re(he,vt),he}var vt=[];n.selection.enter=tt,n.selection.enter.prototype=vt,vt.append=j.append,vt.empty=j.empty,vt.node=j.node,vt.call=j.call,vt.size=j.size,vt.select=function(he){for(var Pe=[],Ne,qe,ot,ft,Rt,Et=-1,Xt=this.length;++Et<Xt;){ot=(ft=this[Et]).update,Pe.push(Ne=[]),Ne.parentNode=ft.parentNode;for(var Zt=-1,ir=ft.length;++Zt<ir;)(Rt=ft[Zt])?(Ne.push(ot[Zt]=qe=he.call(ft.parentNode,Rt.__data__,Zt,Et)),qe.__data__=Rt.__data__):Ne.push(null)}return X(Pe)},vt.insert=function(he,Pe){return arguments.length<2&&(Pe=pt(this)),j.insert.call(this,he,Pe)};function pt(he){var Pe,Ne;return function(qe,ot,ft){var Rt=he[ft].update,Et=Rt.length,Xt;for(ft!=Ne&&(Ne=ft,Pe=0),ot>=Pe&&(Pe=ot+1);!(Xt=Rt[Pe])&&++Pe<Et;);return Xt}}n.select=function(he){var Pe;return typeof he=="string"?(Pe=[q(he,v)],Pe.parentNode=v.documentElement):(Pe=[he],Pe.parentNode=g(he)),X([Pe])},n.selectAll=function(he){var Pe;return typeof he=="string"?(Pe=T(se(he,v)),Pe.parentNode=v.documentElement):(Pe=T(he),Pe.parentNode=null),X([Pe])},j.on=function(he,Pe,Ne){var qe=arguments.length;if(qe<3){if(typeof he!="string"){qe<2&&(Pe=!1);for(Ne in he)this.each(mt(Ne,he[Ne],Pe));return this}if(qe<2)return(qe=this.node()["__on"+he])&&qe._;Ne=!1}return this.each(mt(he,Pe,Ne))};function mt(he,Pe,Ne){var qe="__on"+he,ot=he.indexOf("."),ft=Lt;ot>0&&(he=he.slice(0,ot));var Rt=wt.get(he);Rt&&(he=Rt,ft=at);function Et(){var ir=this[qe];ir&&(this.removeEventListener(he,ir,ir.$),delete this[qe])}function Xt(){var ir=ft(Pe,T(arguments));Et.call(this),this.addEventListener(he,this[qe]=ir,ir.$=Ne),ir._=Pe}function Zt(){var ir=new RegExp("^__on([^.]+)"+n.requote(he)+"$"),Ir;for(var kr in this)if(Ir=kr.match(ir)){var sn=this[kr];this.removeEventListener(Ir[1],sn,sn.$),delete this[kr]}}return ot?Pe?Xt:Et:Pe?W:Zt}var wt=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&wt.forEach(function(he){"on"+he in v&&wt.remove(he)});function Lt(he,Pe){return function(Ne){var qe=n.event;n.event=Ne,Pe[0]=this.__data__;try{he.apply(this,Pe)}finally{n.event=qe}}}function at(he,Pe){var Ne=Lt(he,Pe);return function(qe){var ot=this,ft=qe.relatedTarget;(!ft||ft!==ot&&!(ft.compareDocumentPosition(ot)&8))&&Ne.call(ot,qe)}}var Oe,Ze=0;function Je(he){var Pe=".dragsuppress-"+ ++Ze,Ne="click"+Pe,qe=n.select(r(he)).on("touchmove"+Pe,Q).on("dragstart"+Pe,Q).on("selectstart"+Pe,Q);if(Oe==null&&(Oe="onselectstart"in he?!1:O(he.style,"userSelect")),Oe){var ot=g(he).style,ft=ot[Oe];ot[Oe]="none"}return function(Rt){if(qe.on(Pe,null),Oe&&(ot[Oe]=ft),Rt){var Et=function(){qe.on(Ne,null)};qe.on(Ne,function(){Q(),Et()},!0),setTimeout(Et,0)}}}n.mouse=function(he){return ke(he,le())};var Ye=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ke(he,Pe){Pe.changedTouches&&(Pe=Pe.changedTouches[0]);var Ne=he.ownerSVGElement||he;if(Ne.createSVGPoint){var qe=Ne.createSVGPoint();if(Ye<0){var ot=r(he);if(ot.scrollX||ot.scrollY){Ne=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ft=Ne[0][0].getScreenCTM();Ye=!(ft.f||ft.e),Ne.remove()}}return Ye?(qe.x=Pe.pageX,qe.y=Pe.pageY):(qe.x=Pe.clientX,qe.y=Pe.clientY),qe=qe.matrixTransform(he.getScreenCTM().inverse()),[qe.x,qe.y]}var Rt=he.getBoundingClientRect();return[Pe.clientX-Rt.left-he.clientLeft,Pe.clientY-Rt.top-he.clientTop]}n.touch=function(he,Pe,Ne){if(arguments.length<3&&(Ne=Pe,Pe=le().changedTouches),Pe){for(var qe=0,ot=Pe.length,ft;qe<ot;++qe)if((ft=Pe[qe]).identifier===Ne)return ke(he,ft)}},n.behavior.drag=function(){var he=Z(ot,"drag","dragstart","dragend"),Pe=null,Ne=ft(W,n.mouse,r,"mousemove","mouseup"),qe=ft(be,n.touch,z,"touchmove","touchend");function ot(){this.on("mousedown.drag",Ne).on("touchstart.drag",qe)}function ft(Rt,Et,Xt,Zt,ir){return function(){var Ir=this,kr=n.event.target.correspondingElement||n.event.target,sn=Ir.parentNode,dn=he.of(Ir,arguments),Br=0,Wr=Rt(),nn=".drag"+(Wr==null?"":"-"+Wr),gn,Tn=n.select(Xt(kr)).on(Zt+nn,ha).on(ir+nn,Sa),un=Je(kr),Rn=Et(sn,Wr);Pe?(gn=Pe.apply(Ir,arguments),gn=[gn.x-Rn[0],gn.y-Rn[1]]):gn=[0,0],dn({type:"dragstart"});function ha(){var la=Et(sn,Wr),Ta,Ea;la&&(Ta=la[0]-Rn[0],Ea=la[1]-Rn[1],Br|=Ta|Ea,Rn=la,dn({type:"drag",x:la[0]+gn[0],y:la[1]+gn[1],dx:Ta,dy:Ea}))}function Sa(){Et(sn,Wr)&&(Tn.on(Zt+nn,null).on(ir+nn,null),un(Br),dn({type:"dragend"}))}}}return ot.origin=function(Rt){return arguments.length?(Pe=Rt,ot):Pe},n.rebind(ot,he,"on")};function be(){return n.event.changedTouches[0].identifier}n.touches=function(he,Pe){return arguments.length<2&&(Pe=le().touches),Pe?T(Pe).map(function(Ne){var qe=ke(he,Ne);return qe.identifier=Ne.identifier,qe}):[]};var me=1e-6,_e=me*me,Ee=Math.PI,Be=2*Ee,je=Be-me,nt=Ee/2,dt=Ee/180,xt=180/Ee;function Kt(he,Pe,Ne){return(Pe[0]-he[0])*(Ne[1]-he[1])-(Pe[1]-he[1])*(Ne[0]-he[0])}function Jt(he){return he>1?nt:he<-1?-nt:Math.asin(he)}function St(he){return((he=Math.exp(he))-1/he)/2}function Ft(he){return((he=Math.exp(he))+1/he)/2}function rr(he){return((he=Math.exp(2*he))-1)/(he+1)}var _r=Math.SQRT2,Tt=2,$t=4;n.interpolateZoom=function(he,Pe){var Ne=he[0],qe=he[1],ot=he[2],ft=Pe[0],Rt=Pe[1],Et=Pe[2],Xt=ft-Ne,Zt=Rt-qe,ir=Xt*Xt+Zt*Zt,Ir,kr;if(ir<_e)kr=Math.log(Et/ot)/_r,Ir=function(gn){return[Ne+gn*Xt,qe+gn*Zt,ot*Math.exp(_r*gn*kr)]};else{var sn=Math.sqrt(ir),dn=(Et*Et-ot*ot+$t*ir)/(2*ot*Tt*sn),Br=(Et*Et-ot*ot-$t*ir)/(2*Et*Tt*sn),Wr=Math.log(Math.sqrt(dn*dn+1)-dn),nn=Math.log(Math.sqrt(Br*Br+1)-Br);kr=(nn-Wr)/_r,Ir=function(gn){var Tn=gn*kr,un=Ft(Wr),Rn=ot/(Tt*sn)*(un*rr(_r*Tn+Wr)-St(Wr));return[Ne+Rn*Xt,qe+Rn*Zt,ot*un/Ft(_r*Tn+Wr)]}}return Ir.duration=kr*1e3,Ir},n.behavior.zoom=function(){var he={x:0,y:0,k:1},Pe,Ne,qe,ot=[960,500],ft=tr,Rt=250,Et=0,Xt="mousedown.zoom",Zt="mousemove.zoom",ir="mouseup.zoom",Ir,kr="touchstart.zoom",sn,dn=Z(Tn,"zoomstart","zoom","zoomend"),Br,Wr,nn,gn;cr||(cr="onwheel"in v?(Tr=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(Tr=function(){return n.event.wheelDelta},"mousewheel"):(Tr=function(){return-n.event.detail},"MozMousePixelScroll"));function Tn(ua){ua.on(Xt,ti).on(cr+".zoom",wo).on("dblclick.zoom",Ii).on(kr,Ai)}Tn.event=function(ua){ua.each(function(){var Ja=dn.of(this,arguments),Fa=he;Ur?n.select(this).transition().each("start.zoom",function(){he=this.__chart__||{x:0,y:0,k:1},Ea(Ja)}).tween("zoom:zoom",function(){var xi=ot[0],to=ot[1],Mi=Ne?Ne[0]:xi/2,zo=Ne?Ne[1]:to/2,Do=n.interpolateZoom([(Mi-he.x)/he.k,(zo-he.y)/he.k,xi/he.k],[(Mi-Fa.x)/Fa.k,(zo-Fa.y)/Fa.k,xi/Fa.k]);return function(Go){var qi=Do(Go),Wo=xi/qi[2];this.__chart__=he={x:Mi-qi[0]*Wo,y:zo-qi[1]*Wo,k:Wo},ai(Ja)}}).each("interrupt.zoom",function(){ka(Ja)}).each("end.zoom",function(){ka(Ja)}):(this.__chart__=he,Ea(Ja),ai(Ja),ka(Ja))})},Tn.translate=function(ua){return arguments.length?(he={x:+ua[0],y:+ua[1],k:he.k},Ta(),Tn):[he.x,he.y]},Tn.scale=function(ua){return arguments.length?(he={x:he.x,y:he.y,k:null},ha(+ua),Ta(),Tn):he.k},Tn.scaleExtent=function(ua){return arguments.length?(ft=ua==null?tr:[+ua[0],+ua[1]],Tn):ft},Tn.center=function(ua){return arguments.length?(qe=ua&&[+ua[0],+ua[1]],Tn):qe},Tn.size=function(ua){return arguments.length?(ot=ua&&[+ua[0],+ua[1]],Tn):ot},Tn.duration=function(ua){return arguments.length?(Rt=+ua,Tn):Rt},Tn.x=function(ua){return arguments.length?(Wr=ua,Br=ua.copy(),he={x:0,y:0,k:1},Tn):Wr},Tn.y=function(ua){return arguments.length?(gn=ua,nn=ua.copy(),he={x:0,y:0,k:1},Tn):gn};function un(ua){return[(ua[0]-he.x)/he.k,(ua[1]-he.y)/he.k]}function Rn(ua){return[ua[0]*he.k+he.x,ua[1]*he.k+he.y]}function ha(ua){he.k=Math.max(ft[0],Math.min(ft[1],ua))}function Sa(ua,Ja){Ja=Rn(Ja),he.x+=ua[0]-Ja[0],he.y+=ua[1]-Ja[1]}function la(ua,Ja,Fa,xi){ua.__chart__={x:he.x,y:he.y,k:he.k},ha(Math.pow(2,xi)),Sa(Ne=Ja,Fa),ua=n.select(ua),Rt>0&&(ua=ua.transition().duration(Rt)),ua.call(Tn.event)}function Ta(){Wr&&Wr.domain(Br.range().map(function(ua){return(ua-he.x)/he.k}).map(Br.invert)),gn&&gn.domain(nn.range().map(function(ua){return(ua-he.y)/he.k}).map(nn.invert))}function Ea(ua){Et++||ua({type:"zoomstart"})}function ai(ua){Ta(),ua({type:"zoom",scale:he.k,translate:[he.x,he.y]})}function ka(ua){--Et||(ua({type:"zoomend"}),Ne=null)}function ti(){var ua=this,Ja=dn.of(ua,arguments),Fa=0,xi=n.select(r(ua)).on(Zt,zo).on(ir,Do),to=un(n.mouse(ua)),Mi=Je(ua);Ht.call(ua),Ea(Ja);function zo(){Fa=1,Sa(n.mouse(ua),to),ai(Ja)}function Do(){xi.on(Zt,null).on(ir,null),Mi(Fa),ka(Ja)}}function Ai(){var ua=this,Ja=dn.of(ua,arguments),Fa={},xi=0,to,Mi=".zoom-"+n.event.changedTouches[0].identifier,zo="touchmove"+Mi,Do="touchend"+Mi,Go=[],qi=n.select(ua),Wo=Je(ua);Wa(),Ea(Ja),qi.on(Xt,null).on(kr,Wa);function ga(){var Yo=n.touches(ua);return to=he.k,Yo.forEach(function(ki){ki.identifier in Fa&&(Fa[ki.identifier]=un(ki))}),Yo}function Wa(){var Yo=n.event.target;n.select(Yo).on(zo,_o).on(Do,Ss),Go.push(Yo);for(var ki=n.event.changedTouches,Fo=0,Io=ki.length;Fo<Io;++Fo)Fa[ki[Fo].identifier]=null;var dl=ga(),pl=Date.now();if(dl.length===1){if(pl-sn<500){var uo=dl[0];la(ua,uo,Fa[uo.identifier],Math.floor(Math.log(he.k)/Math.LN2)+1),Q()}sn=pl}else if(dl.length>1){var uo=dl[0],of=dl[1],bi=uo[0]-of[0],fo=uo[1]-of[1];xi=bi*bi+fo*fo}}function _o(){var Yo=n.touches(ua),ki,Fo,Io,dl;Ht.call(ua);for(var pl=0,uo=Yo.length;pl<uo;++pl,dl=null)if(Io=Yo[pl],dl=Fa[Io.identifier]){if(Fo)break;ki=Io,Fo=dl}if(dl){var of=(of=Io[0]-ki[0])*of+(of=Io[1]-ki[1])*of,bi=xi&&Math.sqrt(of/xi);ki=[(ki[0]+Io[0])/2,(ki[1]+Io[1])/2],Fo=[(Fo[0]+dl[0])/2,(Fo[1]+dl[1])/2],ha(bi*to)}sn=null,Sa(ki,Fo),ai(Ja)}function Ss(){if(n.event.touches.length){for(var Yo=n.event.changedTouches,ki=0,Fo=Yo.length;ki<Fo;++ki)delete Fa[Yo[ki].identifier];for(var Io in Fa)return void ga()}n.selectAll(Go).on(Mi,null),qi.on(Xt,ti).on(kr,Ai),Wo(),ka(Ja)}}function wo(){var ua=dn.of(this,arguments);Ir?clearTimeout(Ir):(Ht.call(this),Pe=un(Ne=qe||n.mouse(this)),Ea(ua)),Ir=setTimeout(function(){Ir=null,ka(ua)},50),Q(),ha(Math.pow(2,Tr()*.002)*he.k),Sa(Ne,Pe),ai(ua)}function Ii(){var ua=n.mouse(this),Ja=Math.log(he.k)/Math.LN2;la(this,ua,un(ua),n.event.shiftKey?Math.ceil(Ja)-1:Math.floor(Ja)+1)}return n.rebind(Tn,dn,"on")};var tr=[0,1/0],Tr,cr;n.color=bt;function bt(){}bt.prototype.toString=function(){return this.rgb()+""},n.hsl=lt;function lt(he,Pe,Ne){return this instanceof lt?(this.h=+he,this.s=+Pe,void(this.l=+Ne)):arguments.length<2?he instanceof lt?new lt(he.h,he.s,he.l):Ar(""+he,gr,lt):new lt(he,Pe,Ne)}var Mt=lt.prototype=new bt;Mt.brighter=function(he){return he=Math.pow(.7,arguments.length?he:1),new lt(this.h,this.s,this.l/he)},Mt.darker=function(he){return he=Math.pow(.7,arguments.length?he:1),new lt(this.h,this.s,he*this.l)},Mt.rgb=function(){return _t(this.h,this.s,this.l)};function _t(he,Pe,Ne){var qe,ot;he=isNaN(he)?0:(he%=360)<0?he+360:he,Pe=isNaN(Pe)||Pe<0?0:Pe>1?1:Pe,Ne=Ne<0?0:Ne>1?1:Ne,ot=Ne<=.5?Ne*(1+Pe):Ne+Pe-Ne*Pe,qe=2*Ne-ot;function ft(Et){return Et>360?Et-=360:Et<0&&(Et+=360),Et<60?qe+(ot-qe)*Et/60:Et<180?ot:Et<240?qe+(ot-qe)*(240-Et)/60:qe}function Rt(Et){return Math.round(ft(Et)*255)}return new hr(Rt(he+120),Rt(he),Rt(he-120))}n.hcl=Ot;function Ot(he,Pe,Ne){return this instanceof Ot?(this.h=+he,this.c=+Pe,void(this.l=+Ne)):arguments.length<2?he instanceof Ot?new Ot(he.h,he.c,he.l):he instanceof Gt?Ut(he.l,he.a,he.b):Ut((he=jr((he=n.rgb(he)).r,he.g,he.b)).l,he.a,he.b):new Ot(he,Pe,Ne)}var It=Ot.prototype=new bt;It.brighter=function(he){return new Ot(this.h,this.c,Math.min(100,this.l+er*(arguments.length?he:1)))},It.darker=function(he){return new Ot(this.h,this.c,Math.max(0,this.l-er*(arguments.length?he:1)))},It.rgb=function(){return Wt(this.h,this.c,this.l).rgb()};function Wt(he,Pe,Ne){return isNaN(he)&&(he=0),isNaN(Pe)&&(Pe=0),new Gt(Ne,Math.cos(he*=dt)*Pe,Math.sin(he)*Pe)}n.lab=Gt;function Gt(he,Pe,Ne){return this instanceof Gt?(this.l=+he,this.a=+Pe,void(this.b=+Ne)):arguments.length<2?he instanceof Gt?new Gt(he.l,he.a,he.b):he instanceof Ot?Wt(he.h,he.c,he.l):jr((he=hr(he)).r,he.g,he.b):new Gt(he,Pe,Ne)}var er=18,dr=.95047,pr=1,mr=1.08883,Xe=Gt.prototype=new bt;Xe.brighter=function(he){return new Gt(Math.min(100,this.l+er*(arguments.length?he:1)),this.a,this.b)},Xe.darker=function(he){return new Gt(Math.max(0,this.l-er*(arguments.length?he:1)),this.a,this.b)},Xe.rgb=function(){return Ge(this.l,this.a,this.b)};function Ge(he,Pe,Ne){var qe=(he+16)/116,ot=qe+Pe/500,ft=qe-Ne/200;return ot=Nt(ot)*dr,qe=Nt(qe)*pr,ft=Nt(ft)*mr,new hr(ar(3.2404542*ot-1.5371385*qe-.4985314*ft),ar(-.969266*ot+1.8760108*qe+.041556*ft),ar(.0556434*ot-.2040259*qe+1.0572252*ft))}function Ut(he,Pe,Ne){return he>0?new Ot(Math.atan2(Ne,Pe)*xt,Math.sqrt(Pe*Pe+Ne*Ne),he):new Ot(NaN,NaN,he)}function Nt(he){return he>.206893034?he*he*he:(he-.13793103448275862)/7.787037}function Qt(he){return he>.008856?Math.pow(he,.3333333333333333):7.787037*he+.13793103448275862}function ar(he){return Math.round(255*(he<=.00304?12.92*he:1.055*Math.pow(he,.4166666666666667)-.055))}n.rgb=hr;function hr(he,Pe,Ne){return this instanceof hr?(this.r=~~he,this.g=~~Pe,void(this.b=~~Ne)):arguments.length<2?he instanceof hr?new hr(he.r,he.g,he.b):Ar(""+he,hr,_t):new hr(he,Pe,Ne)}function or(he){return new hr(he>>16,he>>8&255,he&255)}function Vt(he){return or(he)+""}var yr=hr.prototype=new bt;yr.brighter=function(he){he=Math.pow(.7,arguments.length?he:1);var Pe=this.r,Ne=this.g,qe=this.b,ot=30;return!Pe&&!Ne&&!qe?new hr(ot,ot,ot):(Pe&&Pe<ot&&(Pe=ot),Ne&&Ne<ot&&(Ne=ot),qe&&qe<ot&&(qe=ot),new hr(Math.min(255,Pe/he),Math.min(255,Ne/he),Math.min(255,qe/he)))},yr.darker=function(he){return he=Math.pow(.7,arguments.length?he:1),new hr(he*this.r,he*this.g,he*this.b)},yr.hsl=function(){return gr(this.r,this.g,this.b)},yr.toString=function(){return"#"+wr(this.r)+wr(this.g)+wr(this.b)};function wr(he){return he<16?"0"+Math.max(0,he).toString(16):Math.min(255,he).toString(16)}function Ar(he,Pe,Ne){var qe=0,ot=0,ft=0,Rt,Et,Xt;if(Rt=/([a-z]+)\((.*)\)/.exec(he=he.toLowerCase()),Rt)switch(Et=Rt[2].split(","),Rt[1]){case"hsl":return Ne(parseFloat(Et[0]),parseFloat(Et[1])/100,parseFloat(Et[2])/100);case"rgb":return Pe(Nr(Et[0]),Nr(Et[1]),Nr(Et[2]))}return(Xt=wn.get(he))?Pe(Xt.r,Xt.g,Xt.b):(he!=null&&he.charAt(0)==="#"&&!isNaN(Xt=parseInt(he.slice(1),16))&&(he.length===4?(qe=(Xt&3840)>>4,qe=qe>>4|qe,ot=Xt&240,ot=ot>>4|ot,ft=Xt&15,ft=ft<<4|ft):he.length===7&&(qe=(Xt&16711680)>>16,ot=(Xt&65280)>>8,ft=Xt&255)),Pe(qe,ot,ft))}function gr(he,Pe,Ne){var qe=Math.min(he/=255,Pe/=255,Ne/=255),ot=Math.max(he,Pe,Ne),ft=ot-qe,Rt,Et,Xt=(ot+qe)/2;return ft?(Et=Xt<.5?ft/(ot+qe):ft/(2-ot-qe),he==ot?Rt=(Pe-Ne)/ft+(Pe<Ne?6:0):Pe==ot?Rt=(Ne-he)/ft+2:Rt=(he-Pe)/ft+4,Rt*=60):(Rt=NaN,Et=Xt>0&&Xt<1?0:Rt),new lt(Rt,Et,Xt)}function jr(he,Pe,Ne){he=Fr(he),Pe=Fr(Pe),Ne=Fr(Ne);var qe=Qt((.4124564*he+.3575761*Pe+.1804375*Ne)/dr),ot=Qt((.2126729*he+.7151522*Pe+.072175*Ne)/pr),ft=Qt((.0193339*he+.119192*Pe+.9503041*Ne)/mr);return Gt(116*ot-16,500*(qe-ot),200*(ot-ft))}function Fr(he){return(he/=255)<=.04045?he/12.92:Math.pow((he+.055)/1.055,2.4)}function Nr(he){var Pe=parseFloat(he);return he.charAt(he.length-1)==="%"?Math.round(Pe*2.55):Pe}var wn=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});wn.forEach(function(he,Pe){wn.set(he,or(Pe))});function hn(he){return typeof he=="function"?he:function(){return he}}n.functor=hn,n.xhr=Un(z);function Un(he){return function(Pe,Ne,qe){return arguments.length===2&&typeof Ne=="function"&&(qe=Ne,Ne=null),Fn(Pe,Ne,he,qe)}}function Fn(he,Pe,Ne,qe){var ot={},ft=n.dispatch("beforesend","progress","load","error"),Rt={},Et=new XMLHttpRequest,Xt=null;self.XDomainRequest&&!("withCredentials"in Et)&&/^(http(s)?:)?\/\//.test(he)&&(Et=new XDomainRequest),"onload"in Et?Et.onload=Et.onerror=Zt:Et.onreadystatechange=function(){Et.readyState>3&&Zt()};function Zt(){var ir=Et.status,Ir;if(!ir&&Or(Et)||ir>=200&&ir<300||ir===304){try{Ir=Ne.call(ot,Et)}catch(kr){ft.error.call(ot,kr);return}ft.load.call(ot,Ir)}else ft.error.call(ot,Et)}return Et.onprogress=function(ir){var Ir=n.event;n.event=ir;try{ft.progress.call(ot,Et)}finally{n.event=Ir}},ot.header=function(ir,Ir){return ir=(ir+"").toLowerCase(),arguments.length<2?Rt[ir]:(Ir==null?delete Rt[ir]:Rt[ir]=Ir+"",ot)},ot.mimeType=function(ir){return arguments.length?(Pe=ir==null?null:ir+"",ot):Pe},ot.responseType=function(ir){return arguments.length?(Xt=ir,ot):Xt},ot.response=function(ir){return Ne=ir,ot},["get","post"].forEach(function(ir){ot[ir]=function(){return ot.send.apply(ot,[ir].concat(T(arguments)))}}),ot.send=function(ir,Ir,kr){if(arguments.length===2&&typeof Ir=="function"&&(kr=Ir,Ir=null),Et.open(ir,he,!0),Pe!=null&&!("accept"in Rt)&&(Rt.accept=Pe+",*/*"),Et.setRequestHeader)for(var sn in Rt)Et.setRequestHeader(sn,Rt[sn]);return Pe!=null&&Et.overrideMimeType&&Et.overrideMimeType(Pe),Xt!=null&&(Et.responseType=Xt),kr!=null&&ot.on("error",kr).on("load",function(dn){kr(null,dn)}),ft.beforesend.call(ot,Et),Et.send(Ir??null),ot},ot.abort=function(){return Et.abort(),ot},n.rebind(ot,ft,"on"),qe==null?ot:ot.get(Pr(qe))}function Pr(he){return he.length===1?function(Pe,Ne){he(Pe==null?Ne:null)}:he}function Or(he){var Pe=he.responseType;return Pe&&Pe!=="text"?he.response:he.responseText}n.dsv=function(he,Pe){var Ne=new RegExp('["'+he+`
]`),qe=he.charCodeAt(0);function ot(Zt,ir,Ir){arguments.length<3&&(Ir=ir,ir=null);var kr=Fn(Zt,Pe,ir==null?ft:Rt(ir),Ir);return kr.row=function(sn){return arguments.length?kr.response((ir=sn)==null?ft:Rt(sn)):ir},kr}function ft(Zt){return ot.parse(Zt.responseText)}function Rt(Zt){return function(ir){return ot.parse(ir.responseText,Zt)}}ot.parse=function(Zt,ir){var Ir;return ot.parseRows(Zt,function(kr,sn){if(Ir)return Ir(kr,sn-1);var dn=function(Br){for(var Wr={},nn=kr.length,gn=0;gn<nn;++gn)Wr[kr[gn]]=Br[gn];return Wr};Ir=ir?function(Br,Wr){return ir(dn(Br),Wr)}:dn})},ot.parseRows=function(Zt,ir){var Ir={},kr={},sn=[],dn=Zt.length,Br=0,Wr=0,nn,gn;function Tn(){if(Br>=dn)return kr;if(gn)return gn=!1,Ir;var Rn=Br;if(Zt.charCodeAt(Rn)===34){for(var ha=Rn;ha++<dn;)if(Zt.charCodeAt(ha)===34){if(Zt.charCodeAt(ha+1)!==34)break;++ha}Br=ha+2;var Sa=Zt.charCodeAt(ha+1);return Sa===13?(gn=!0,Zt.charCodeAt(ha+2)===10&&++Br):Sa===10&&(gn=!0),Zt.slice(Rn+1,ha).replace(/""/g,'"')}for(;Br<dn;){var Sa=Zt.charCodeAt(Br++),la=1;if(Sa===10)gn=!0;else if(Sa===13)gn=!0,Zt.charCodeAt(Br)===10&&(++Br,++la);else if(Sa!==qe)continue;return Zt.slice(Rn,Br-la)}return Zt.slice(Rn)}for(;(nn=Tn())!==kr;){for(var un=[];nn!==Ir&&nn!==kr;)un.push(nn),nn=Tn();ir&&(un=ir(un,Wr++))==null||sn.push(un)}return sn},ot.format=function(Zt){if(Array.isArray(Zt[0]))return ot.formatRows(Zt);var ir=new k,Ir=[];return Zt.forEach(function(kr){for(var sn in kr)ir.has(sn)||Ir.push(ir.add(sn))}),[Ir.map(Xt).join(he)].concat(Zt.map(function(kr){return Ir.map(function(sn){return Xt(kr[sn])}).join(he)})).join(`
`)},ot.formatRows=function(Zt){return Zt.map(Et).join(`
`)};function Et(Zt){return Zt.map(Xt).join(he)}function Xt(Zt){return Ne.test(Zt)?'"'+Zt.replace(/\"/g,'""')+'"':Zt}return ot},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var Qr,Zr,vn,Mn,Sn=this[O(this,"requestAnimationFrame")]||function(he){setTimeout(he,17)};n.timer=function(){Vn.apply(this,arguments)};function Vn(he,Pe,Ne){var qe=arguments.length;qe<2&&(Pe=0),qe<3&&(Ne=Date.now());var ot=Ne+Pe,ft={c:he,t:ot,n:null};return Zr?Zr.n=ft:Qr=ft,Zr=ft,vn||(Mn=clearTimeout(Mn),vn=1,Sn(jn)),ft}function jn(){var he=ya(),Pe=Pa()-he;Pe>24?(isFinite(Pe)&&(clearTimeout(Mn),Mn=setTimeout(jn,Pe)),vn=0):(vn=1,Sn(jn))}n.timer.flush=function(){ya(),Pa()};function ya(){for(var he=Date.now(),Pe=Qr;Pe;)he>=Pe.t&&Pe.c(he-Pe.t)&&(Pe.c=null),Pe=Pe.n;return he}function Pa(){for(var he,Pe=Qr,Ne=1/0;Pe;)Pe.c?(Pe.t<Ne&&(Ne=Pe.t),Pe=(he=Pe).n):Pe=he?he.n=Pe.n:Qr=Pe.n;return Zr=he,Ne}n.round=function(he,Pe){return Pe?Math.round(he*(Pe=Math.pow(10,Pe)))/Pe:Math.round(he)},n.geom={};function Da(he){return he[0]}function Ma(he){return he[1]}n.geom.hull=function(he){var Pe=Da,Ne=Ma;if(arguments.length)return qe(he);function qe(ot){if(ot.length<3)return[];var ft=hn(Pe),Rt=hn(Ne),Et,Xt=ot.length,Zt=[],ir=[];for(Et=0;Et<Xt;Et++)Zt.push([+ft.call(this,ot[Et],Et),+Rt.call(this,ot[Et],Et),Et]);for(Zt.sort(Er),Et=0;Et<Xt;Et++)ir.push([Zt[Et][0],-Zt[Et][1]]);var Ir=ma(Zt),kr=ma(ir),sn=kr[0]===Ir[0],dn=kr[kr.length-1]===Ir[Ir.length-1],Br=[];for(Et=Ir.length-1;Et>=0;--Et)Br.push(ot[Zt[Ir[Et]][2]]);for(Et=+sn;Et<kr.length-dn;++Et)Br.push(ot[Zt[kr[Et]][2]]);return Br}return qe.x=function(ot){return arguments.length?(Pe=ot,qe):Pe},qe.y=function(ot){return arguments.length?(Ne=ot,qe):Ne},qe};function ma(he){for(var Pe=he.length,Ne=[0,1],qe=2,ot=2;ot<Pe;ot++){for(;qe>1&&Kt(he[Ne[qe-2]],he[Ne[qe-1]],he[ot])<=0;)--qe;Ne[qe++]=ot}return Ne.slice(0,qe)}function Er(he,Pe){return he[0]-Pe[0]||he[1]-Pe[1]}n.geom.polygon=function(he){return re(he,tn),he};var tn=n.geom.polygon.prototype=[];tn.area=function(){for(var he=-1,Pe=this.length,Ne,qe=this[Pe-1],ot=0;++he<Pe;)Ne=qe,qe=this[he],ot+=Ne[1]*qe[0]-Ne[0]*qe[1];return ot*.5},tn.centroid=function(he){var Pe=-1,Ne=this.length,qe=0,ot=0,ft,Rt=this[Ne-1],Et;for(arguments.length||(he=-1/(6*this.area()));++Pe<Ne;)ft=Rt,Rt=this[Pe],Et=ft[0]*Rt[1]-Rt[0]*ft[1],qe+=(ft[0]+Rt[0])*Et,ot+=(ft[1]+Rt[1])*Et;return[qe*he,ot*he]},tn.clip=function(he){for(var Pe,Ne=qn(he),qe=-1,ot=this.length-qn(this),ft,Rt,Et=this[ot-1],Xt,Zt,ir;++qe<ot;){for(Pe=he.slice(),he.length=0,Xt=this[qe],Zt=Pe[(Rt=Pe.length-Ne)-1],ft=-1;++ft<Rt;)ir=Pe[ft],$r(ir,Et,Xt)?($r(Zt,Et,Xt)||he.push(An(Zt,ir,Et,Xt)),he.push(ir)):$r(Zt,Et,Xt)&&he.push(An(Zt,ir,Et,Xt)),Zt=ir;Ne&&he.push(he[0]),Et=Xt}return he};function $r(he,Pe,Ne){return(Ne[0]-Pe[0])*(he[1]-Pe[1])<(Ne[1]-Pe[1])*(he[0]-Pe[0])}function An(he,Pe,Ne,qe){var ot=he[0],ft=Ne[0],Rt=Pe[0]-ot,Et=qe[0]-ft,Xt=he[1],Zt=Ne[1],ir=Pe[1]-Xt,Ir=qe[1]-Zt,kr=(Et*(Xt-Zt)-Ir*(ot-ft))/(Ir*Rt-Et*ir);return[ot+kr*Rt,Xt+kr*ir]}function qn(he){var Pe=he[0],Ne=he[he.length-1];return!(Pe[0]-Ne[0]||Pe[1]-Ne[1])}var kn,On,$n,ca=[],Ia,ei,Sr=[];function Hr(){Ps(this),this.edge=this.site=this.circle=null}function Lr(he){var Pe=ca.pop()||new Hr;return Pe.site=he,Pe}function Gr(he){Wn(he),$n.remove(he),ca.push(he),Ps(he)}function Ln(he){var Pe=he.circle,Ne=Pe.x,qe=Pe.cy,ot={x:Ne,y:qe},ft=he.P,Rt=he.N,Et=[he];Gr(he);for(var Xt=ft;Xt.circle&&d(Ne-Xt.circle.x)<me&&d(qe-Xt.circle.cy)<me;)ft=Xt.P,Et.unshift(Xt),Gr(Xt),Xt=ft;Et.unshift(Xt),Wn(Xt);for(var Zt=Rt;Zt.circle&&d(Ne-Zt.circle.x)<me&&d(qe-Zt.circle.cy)<me;)Rt=Zt.N,Et.push(Zt),Gr(Zt),Zt=Rt;Et.push(Zt),Wn(Zt);var ir=Et.length,Ir;for(Ir=1;Ir<ir;++Ir)Zt=Et[Ir],Xt=Et[Ir-1],Ra(Zt.edge,Xt.site,Zt.site,ot);Xt=Et[0],Zt=Et[ir-1],Zt.edge=xa(Xt.site,Zt.site,null,ot),_n(Xt),_n(Zt)}function zn(he){for(var Pe=he.x,Ne=he.y,qe,ot,ft,Rt,Et=$n._;Et;)if(ft=bn(Et,Ne)-Pe,ft>me)Et=Et.L;else if(Rt=Pe-pn(Et,Ne),Rt>me){if(!Et.R){qe=Et;break}Et=Et.R}else{ft>-me?(qe=Et.P,ot=Et):Rt>-me?(qe=Et,ot=Et.N):qe=ot=Et;break}var Xt=Lr(he);if($n.insert(qe,Xt),!(!qe&&!ot)){if(qe===ot){Wn(qe),ot=Lr(qe.site),$n.insert(Xt,ot),Xt.edge=ot.edge=xa(qe.site,Xt.site),_n(qe),_n(ot);return}if(!ot){Xt.edge=xa(qe.site,Xt.site);return}Wn(qe),Wn(ot);var Zt=qe.site,ir=Zt.x,Ir=Zt.y,kr=he.x-ir,sn=he.y-Ir,dn=ot.site,Br=dn.x-ir,Wr=dn.y-Ir,nn=2*(kr*Wr-sn*Br),gn=kr*kr+sn*sn,Tn=Br*Br+Wr*Wr,un={x:(Wr*gn-sn*Tn)/nn+ir,y:(kr*Tn-Br*gn)/nn+Ir};Ra(ot.edge,Zt,dn,un),Xt.edge=xa(Zt,he,null,un),ot.edge=xa(he,dn,null,un),_n(qe),_n(ot)}}function bn(he,Pe){var Ne=he.site,qe=Ne.x,ot=Ne.y,ft=ot-Pe;if(!ft)return qe;var Rt=he.P;if(!Rt)return-1/0;Ne=Rt.site;var Et=Ne.x,Xt=Ne.y,Zt=Xt-Pe;if(!Zt)return Et;var ir=Et-qe,Ir=1/ft-1/Zt,kr=ir/Zt;return Ir?(-kr+Math.sqrt(kr*kr-2*Ir*(ir*ir/(-2*Zt)-Xt+Zt/2+ot-ft/2)))/Ir+qe:(qe+Et)/2}function pn(he,Pe){var Ne=he.N;if(Ne)return bn(Ne,Pe);var qe=he.site;return qe.y===Pe?qe.x:1/0}function Dr(he){this.site=he,this.edges=[]}Dr.prototype.prepare=function(){for(var he=this.edges,Pe=he.length,Ne;Pe--;)Ne=he[Pe].edge,(!Ne.b||!Ne.a)&&he.splice(Pe,1);return he.sort(Kr),he.length};function rn(he){for(var Pe=he[0][0],Ne=he[1][0],qe=he[0][1],ot=he[1][1],ft,Rt,Et,Xt,Zt=On,ir=Zt.length,Ir,kr,sn,dn,Br,Wr;ir--;)if(Ir=Zt[ir],!(!Ir||!Ir.prepare()))for(sn=Ir.edges,dn=sn.length,kr=0;kr<dn;)Wr=sn[kr].end(),Et=Wr.x,Xt=Wr.y,Br=sn[++kr%dn].start(),ft=Br.x,Rt=Br.y,(d(Et-ft)>me||d(Xt-Rt)>me)&&(sn.splice(kr,0,new Pi(La(Ir.site,Wr,d(Et-Pe)<me&&ot-Xt>me?{x:Pe,y:d(ft-Pe)<me?Rt:ot}:d(Xt-ot)<me&&Ne-Et>me?{x:d(Rt-ot)<me?ft:Ne,y:ot}:d(Et-Ne)<me&&Xt-qe>me?{x:Ne,y:d(ft-Ne)<me?Rt:qe}:d(Xt-qe)<me&&Et-Pe>me?{x:d(Rt-qe)<me?ft:Pe,y:qe}:null),Ir.site,null)),++dn)}function Kr(he,Pe){return Pe.angle-he.angle}function on(){Ps(this),this.x=this.y=this.arc=this.site=this.cy=null}function _n(he){var Pe=he.P,Ne=he.N;if(!(!Pe||!Ne)){var qe=Pe.site,ot=he.site,ft=Ne.site;if(qe!==ft){var Rt=ot.x,Et=ot.y,Xt=qe.x-Rt,Zt=qe.y-Et,ir=ft.x-Rt,Wr=ft.y-Et,Ir=2*(Xt*Wr-Zt*ir);if(!(Ir>=-_e)){var kr=Xt*Xt+Zt*Zt,sn=ir*ir+Wr*Wr,dn=(Wr*kr-Zt*sn)/Ir,Br=(Xt*sn-ir*kr)/Ir,Wr=Br+Et,nn=Sr.pop()||new on;nn.arc=he,nn.site=ot,nn.x=dn+Rt,nn.y=Wr+Math.sqrt(dn*dn+Br*Br),nn.cy=Wr,he.circle=nn;for(var gn=null,Tn=ei._;Tn;)if(nn.y<Tn.y||nn.y===Tn.y&&nn.x<=Tn.x)if(Tn.L)Tn=Tn.L;else{gn=Tn.P;break}else if(Tn.R)Tn=Tn.R;else{gn=Tn;break}ei.insert(gn,nn),gn||(Ia=nn)}}}}function Wn(he){var Pe=he.circle;Pe&&(Pe.P||(Ia=Pe.N),ei.remove(Pe),Sr.push(Pe),Ps(Pe),he.circle=null)}function In(he,Pe,Ne,qe){return function(ot){var ft=ot.a,Rt=ot.b,Et=ft.x,Xt=ft.y,Zt=Rt.x,ir=Rt.y,Ir=0,kr=1,sn=Zt-Et,dn=ir-Xt,Br;if(Br=he-Et,!(!sn&&Br>0)){if(Br/=sn,sn<0){if(Br<Ir)return;Br<kr&&(kr=Br)}else if(sn>0){if(Br>kr)return;Br>Ir&&(Ir=Br)}if(Br=Ne-Et,!(!sn&&Br<0)){if(Br/=sn,sn<0){if(Br>kr)return;Br>Ir&&(Ir=Br)}else if(sn>0){if(Br<Ir)return;Br<kr&&(kr=Br)}if(Br=Pe-Xt,!(!dn&&Br>0)){if(Br/=dn,dn<0){if(Br<Ir)return;Br<kr&&(kr=Br)}else if(dn>0){if(Br>kr)return;Br>Ir&&(Ir=Br)}if(Br=qe-Xt,!(!dn&&Br<0)){if(Br/=dn,dn<0){if(Br>kr)return;Br>Ir&&(Ir=Br)}else if(dn>0){if(Br<Ir)return;Br<kr&&(kr=Br)}return Ir>0&&(ot.a={x:Et+Ir*sn,y:Xt+Ir*dn}),kr<1&&(ot.b={x:Et+kr*sn,y:Xt+kr*dn}),ot}}}}}}function Qn(he){for(var Pe=kn,Ne=In(he[0][0],he[0][1],he[1][0],he[1][1]),qe=Pe.length,ot;qe--;)ot=Pe[qe],(!Kn(ot,he)||!Ne(ot)||d(ot.a.x-ot.b.x)<me&&d(ot.a.y-ot.b.y)<me)&&(ot.a=ot.b=null,Pe.splice(qe,1))}function Kn(he,Pe){var Ne=he.b;if(Ne)return!0;var qe=he.a,ot=Pe[0][0],ft=Pe[1][0],Rt=Pe[0][1],Et=Pe[1][1],Xt=he.l,Zt=he.r,ir=Xt.x,Ir=Xt.y,kr=Zt.x,sn=Zt.y,dn=(ir+kr)/2,Br=(Ir+sn)/2,Wr,nn;if(sn===Ir){if(dn<ot||dn>=ft)return;if(ir>kr){if(!qe)qe={x:dn,y:Rt};else if(qe.y>=Et)return;Ne={x:dn,y:Et}}else{if(!qe)qe={x:dn,y:Et};else if(qe.y<Rt)return;Ne={x:dn,y:Rt}}}else if(Wr=(ir-kr)/(sn-Ir),nn=Br-Wr*dn,Wr<-1||Wr>1)if(ir>kr){if(!qe)qe={x:(Rt-nn)/Wr,y:Rt};else if(qe.y>=Et)return;Ne={x:(Et-nn)/Wr,y:Et}}else{if(!qe)qe={x:(Et-nn)/Wr,y:Et};else if(qe.y<Rt)return;Ne={x:(Rt-nn)/Wr,y:Rt}}else if(Ir<sn){if(!qe)qe={x:ot,y:Wr*ot+nn};else if(qe.x>=ft)return;Ne={x:ft,y:Wr*ft+nn}}else{if(!qe)qe={x:ft,y:Wr*ft+nn};else if(qe.x<ot)return;Ne={x:ot,y:Wr*ot+nn}}return he.a=qe,he.b=Ne,!0}function Aa(he,Pe){this.l=he,this.r=Pe,this.a=this.b=null}function xa(he,Pe,Ne,qe){var ot=new Aa(he,Pe);return kn.push(ot),Ne&&Ra(ot,he,Pe,Ne),qe&&Ra(ot,Pe,he,qe),On[he.i].edges.push(new Pi(ot,he,Pe)),On[Pe.i].edges.push(new Pi(ot,Pe,he)),ot}function La(he,Pe,Ne){var qe=new Aa(he,null);return qe.a=Pe,qe.b=Ne,kn.push(qe),qe}function Ra(he,Pe,Ne,qe){!he.a&&!he.b?(he.a=qe,he.l=Pe,he.r=Ne):he.l===Ne?he.b=qe:he.a=qe}function Pi(he,Pe,Ne){var qe=he.a,ot=he.b;this.edge=he,this.site=Pe,this.angle=Ne?Math.atan2(Ne.y-Pe.y,Ne.x-Pe.x):he.l===Pe?Math.atan2(ot.x-qe.x,qe.y-ot.y):Math.atan2(qe.x-ot.x,ot.y-qe.y)}Pi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Li(){this._=null}function Ps(he){he.U=he.C=he.L=he.R=he.P=he.N=null}Li.prototype={insert:function(he,Pe){var Ne,qe,ot;if(he){if(Pe.P=he,Pe.N=he.N,he.N&&(he.N.P=Pe),he.N=Pe,he.R){for(he=he.R;he.L;)he=he.L;he.L=Pe}else he.R=Pe;Ne=he}else this._?(he=ku(this._),Pe.P=null,Pe.N=he,he.P=he.L=Pe,Ne=he):(Pe.P=Pe.N=null,this._=Pe,Ne=null);for(Pe.L=Pe.R=null,Pe.U=Ne,Pe.C=!0,he=Pe;Ne&&Ne.C;)qe=Ne.U,Ne===qe.L?(ot=qe.R,ot&&ot.C?(Ne.C=ot.C=!1,qe.C=!0,he=qe):(he===Ne.R&&(is(this,Ne),he=Ne,Ne=he.U),Ne.C=!1,qe.C=!0,Jo(this,qe))):(ot=qe.L,ot&&ot.C?(Ne.C=ot.C=!1,qe.C=!0,he=qe):(he===Ne.L&&(Jo(this,Ne),he=Ne,Ne=he.U),Ne.C=!1,qe.C=!0,is(this,qe))),Ne=he.U;this._.C=!1},remove:function(he){he.N&&(he.N.P=he.P),he.P&&(he.P.N=he.N),he.N=he.P=null;var Pe=he.U,Ne,qe=he.L,ot=he.R,ft,Rt;if(qe?ot?ft=ku(ot):ft=qe:ft=ot,Pe?Pe.L===he?Pe.L=ft:Pe.R=ft:this._=ft,qe&&ot?(Rt=ft.C,ft.C=he.C,ft.L=qe,qe.U=ft,ft!==ot?(Pe=ft.U,ft.U=he.U,he=ft.R,Pe.L=he,ft.R=ot,ot.U=ft):(ft.U=Pe,Pe=ft,he=ft.R)):(Rt=he.C,he=ft),he&&(he.U=Pe),!Rt){if(he&&he.C){he.C=!1;return}do{if(he===this._)break;if(he===Pe.L){if(Ne=Pe.R,Ne.C&&(Ne.C=!1,Pe.C=!0,is(this,Pe),Ne=Pe.R),Ne.L&&Ne.L.C||Ne.R&&Ne.R.C){(!Ne.R||!Ne.R.C)&&(Ne.L.C=!1,Ne.C=!0,Jo(this,Ne),Ne=Pe.R),Ne.C=Pe.C,Pe.C=Ne.R.C=!1,is(this,Pe),he=this._;break}}else if(Ne=Pe.L,Ne.C&&(Ne.C=!1,Pe.C=!0,Jo(this,Pe),Ne=Pe.L),Ne.L&&Ne.L.C||Ne.R&&Ne.R.C){(!Ne.L||!Ne.L.C)&&(Ne.R.C=!1,Ne.C=!0,is(this,Ne),Ne=Pe.L),Ne.C=Pe.C,Pe.C=Ne.L.C=!1,Jo(this,Pe),he=this._;break}Ne.C=!0,he=Pe,Pe=Pe.U}while(!he.C);he&&(he.C=!1)}}};function is(he,Pe){var Ne=Pe,qe=Pe.R,ot=Ne.U;ot?ot.L===Ne?ot.L=qe:ot.R=qe:he._=qe,qe.U=ot,Ne.U=qe,Ne.R=qe.L,Ne.R&&(Ne.R.U=Ne),qe.L=Ne}function Jo(he,Pe){var Ne=Pe,qe=Pe.L,ot=Ne.U;ot?ot.L===Ne?ot.L=qe:ot.R=qe:he._=qe,qe.U=ot,Ne.U=qe,Ne.L=qe.R,Ne.L&&(Ne.L.U=Ne),qe.R=Ne}function ku(he){for(;he.L;)he=he.L;return he}function Sc(he,Pe){var Ne=he.sort(Ec).pop(),qe,ot,ft;for(kn=[],On=new Array(he.length),$n=new Li,ei=new Li;;)if(ft=Ia,Ne&&(!ft||Ne.y<ft.y||Ne.y===ft.y&&Ne.x<ft.x))(Ne.x!==qe||Ne.y!==ot)&&(On[Ne.i]=new Dr(Ne),zn(Ne),qe=Ne.x,ot=Ne.y),Ne=he.pop();else if(ft)Ln(ft.arc);else break;Pe&&(Qn(Pe),rn(Pe));var Rt={cells:On,edges:kn};return $n=ei=kn=On=null,Rt}function Ec(he,Pe){return Pe.y-he.y||Pe.x-he.x}n.geom.voronoi=function(he){var Pe=Da,Ne=Ma,qe=Pe,ot=Ne,ft=Ti;if(he)return Rt(he);function Rt(Xt){var Zt=new Array(Xt.length),ir=ft[0][0],Ir=ft[0][1],kr=ft[1][0],sn=ft[1][1];return Sc(Et(Xt),ft).cells.forEach(function(dn,Br){var Wr=dn.edges,nn=dn.site,gn=Zt[Br]=Wr.length?Wr.map(function(Tn){var un=Tn.start();return[un.x,un.y]}):nn.x>=ir&&nn.x<=kr&&nn.y>=Ir&&nn.y<=sn?[[ir,sn],[kr,sn],[kr,Ir],[ir,Ir]]:[];gn.point=Xt[Br]}),Zt}function Et(Xt){return Xt.map(function(Zt,ir){return{x:Math.round(qe(Zt,ir)/me)*me,y:Math.round(ot(Zt,ir)/me)*me,i:ir}})}return Rt.links=function(Xt){return Sc(Et(Xt)).edges.filter(function(Zt){return Zt.l&&Zt.r}).map(function(Zt){return{source:Xt[Zt.l.i],target:Xt[Zt.r.i]}})},Rt.triangles=function(Xt){var Zt=[];return Sc(Et(Xt)).cells.forEach(function(ir,Ir){for(var kr=ir.site,sn=ir.edges.sort(Kr),dn=-1,Br=sn.length,Wr,nn=sn[Br-1].edge,gn=nn.l===kr?nn.r:nn.l;++dn<Br;)Wr=gn,nn=sn[dn].edge,gn=nn.l===kr?nn.r:nn.l,Ir<Wr.i&&Ir<gn.i&&ll(kr,Wr,gn)<0&&Zt.push([Xt[Ir],Xt[Wr.i],Xt[gn.i]])}),Zt},Rt.x=function(Xt){return arguments.length?(qe=hn(Pe=Xt),Rt):Pe},Rt.y=function(Xt){return arguments.length?(ot=hn(Ne=Xt),Rt):Ne},Rt.clipExtent=function(Xt){return arguments.length?(ft=Xt??Ti,Rt):ft===Ti?null:ft},Rt.size=function(Xt){return arguments.length?Rt.clipExtent(Xt&&[[0,0],Xt]):ft===Ti?null:ft&&ft[1]},Rt};var Ti=[[-1e6,-1e6],[1e6,1e6]];function ll(he,Pe,Ne){return(he.x-Ne.x)*(Pe.y-he.y)-(he.x-Pe.x)*(Ne.y-he.y)}n.geom.delaunay=function(he){return n.geom.voronoi().triangles(he)},n.geom.quadtree=function(he,Pe,Ne,qe,ot){var ft=Da,Rt=Ma,Et;if(Et=arguments.length)return ft=Cc,Rt=Oo,Et===3&&(ot=Ne,qe=Pe,Ne=Pe=0),Xt(he);function Xt(Zt){var ir,Ir=hn(ft),kr=hn(Rt),sn,dn,Br,Wr,nn,gn,Tn,un;if(Pe!=null)nn=Pe,gn=Ne,Tn=qe,un=ot;else if(Tn=un=-(nn=gn=1/0),sn=[],dn=[],Wr=Zt.length,Et)for(Br=0;Br<Wr;++Br)ir=Zt[Br],ir.x<nn&&(nn=ir.x),ir.y<gn&&(gn=ir.y),ir.x>Tn&&(Tn=ir.x),ir.y>un&&(un=ir.y),sn.push(ir.x),dn.push(ir.y);else for(Br=0;Br<Wr;++Br){var Rn=+Ir(ir=Zt[Br],Br),ha=+kr(ir,Br);Rn<nn&&(nn=Rn),ha<gn&&(gn=ha),Rn>Tn&&(Tn=Rn),ha>un&&(un=ha),sn.push(Rn),dn.push(ha)}var Sa=Tn-nn,la=un-gn;Sa>la?un=gn+Sa:Tn=nn+la;function Ta(ka,ti,Ai,wo,Ii,ua,Ja,Fa){if(!(isNaN(Ai)||isNaN(wo)))if(ka.leaf){var xi=ka.x,to=ka.y;if(xi!=null)if(d(xi-Ai)+d(to-wo)<.01)Ea(ka,ti,Ai,wo,Ii,ua,Ja,Fa);else{var Mi=ka.point;ka.x=ka.y=ka.point=null,Ea(ka,Mi,xi,to,Ii,ua,Ja,Fa),Ea(ka,ti,Ai,wo,Ii,ua,Ja,Fa)}else ka.x=Ai,ka.y=wo,ka.point=ti}else Ea(ka,ti,Ai,wo,Ii,ua,Ja,Fa)}function Ea(ka,ti,Ai,wo,Ii,ua,Ja,Fa){var xi=(Ii+Ja)*.5,to=(ua+Fa)*.5,Mi=Ai>=xi,zo=wo>=to,Do=zo<<1|Mi;ka.leaf=!1,ka=ka.nodes[Do]||(ka.nodes[Do]=os()),Mi?Ii=xi:Ja=xi,zo?ua=to:Fa=to,Ta(ka,ti,Ai,wo,Ii,ua,Ja,Fa)}var ai=os();if(ai.add=function(ka){Ta(ai,ka,+Ir(ka,++Br),+kr(ka,Br),nn,gn,Tn,un)},ai.visit=function(ka){Hl(ka,ai,nn,gn,Tn,un)},ai.find=function(ka){return Ou(ai,ka[0],ka[1],nn,gn,Tn,un)},Br=-1,Pe==null){for(;++Br<Wr;)Ta(ai,Zt[Br],sn[Br],dn[Br],nn,gn,Tn,un);--Br}else Zt.forEach(ai.add);return sn=dn=Zt=ir=null,ai}return Xt.x=function(Zt){return arguments.length?(ft=Zt,Xt):ft},Xt.y=function(Zt){return arguments.length?(Rt=Zt,Xt):Rt},Xt.extent=function(Zt){return arguments.length?(Zt==null?Pe=Ne=qe=ot=null:(Pe=+Zt[0][0],Ne=+Zt[0][1],qe=+Zt[1][0],ot=+Zt[1][1]),Xt):Pe==null?null:[[Pe,Ne],[qe,ot]]},Xt.size=function(Zt){return arguments.length?(Zt==null?Pe=Ne=qe=ot=null:(Pe=Ne=0,qe=+Zt[0],ot=+Zt[1]),Xt):Pe==null?null:[qe-Pe,ot-Ne]},Xt};function Cc(he){return he.x}function Oo(he){return he.y}function os(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Hl(he,Pe,Ne,qe,ot,ft){if(!he(Pe,Ne,qe,ot,ft)){var Rt=(Ne+ot)*.5,Et=(qe+ft)*.5,Xt=Pe.nodes;Xt[0]&&Hl(he,Xt[0],Ne,qe,Rt,Et),Xt[1]&&Hl(he,Xt[1],Rt,qe,ot,Et),Xt[2]&&Hl(he,Xt[2],Ne,Et,Rt,ft),Xt[3]&&Hl(he,Xt[3],Rt,Et,ot,ft)}}function Ou(he,Pe,Ne,qe,ot,ft,Rt){var Et=1/0,Xt;return function Zt(ir,Ir,kr,sn,dn){if(!(Ir>ft||kr>Rt||sn<qe||dn<ot)){if(Br=ir.point){var Br,Wr=Pe-ir.x,nn=Ne-ir.y,gn=Wr*Wr+nn*nn;if(gn<Et){var Tn=Math.sqrt(Et=gn);qe=Pe-Tn,ot=Ne-Tn,ft=Pe+Tn,Rt=Ne+Tn,Xt=Br}}for(var un=ir.nodes,Rn=(Ir+sn)*.5,ha=(kr+dn)*.5,Sa=Pe>=Rn,la=Ne>=ha,Ta=la<<1|Sa,Ea=Ta+4;Ta<Ea;++Ta)if(ir=un[Ta&3])switch(Ta&3){case 0:Zt(ir,Ir,kr,Rn,ha);break;case 1:Zt(ir,Rn,kr,sn,ha);break;case 2:Zt(ir,Ir,ha,Rn,dn);break;case 3:Zt(ir,Rn,ha,sn,dn);break}}}(he,qe,ot,ft,Rt),Xt}n.interpolateRgb=mo;function mo(he,Pe){he=n.rgb(he),Pe=n.rgb(Pe);var Ne=he.r,qe=he.g,ot=he.b,ft=Pe.r-Ne,Rt=Pe.g-qe,Et=Pe.b-ot;return function(Xt){return"#"+wr(Math.round(Ne+ft*Xt))+wr(Math.round(qe+Rt*Xt))+wr(Math.round(ot+Et*Xt))}}n.interpolateObject=zu;function zu(he,Pe){var Ne={},qe={},ot;for(ot in he)ot in Pe?Ne[ot]=$i(he[ot],Pe[ot]):qe[ot]=he[ot];for(ot in Pe)ot in he||(qe[ot]=Pe[ot]);return function(ft){for(ot in Ne)qe[ot]=Ne[ot](ft);return qe}}n.interpolateNumber=xo;function xo(he,Pe){return he=+he,Pe=+Pe,function(Ne){return he*(1-Ne)+Pe*Ne}}n.interpolateString=Lo;function Lo(he,Pe){var Ne=Fu.lastIndex=Uo.lastIndex=0,qe,ot,ft,Rt=-1,Et=[],Xt=[];for(he=he+"",Pe=Pe+"";(qe=Fu.exec(he))&&(ot=Uo.exec(Pe));)(ft=ot.index)>Ne&&(ft=Pe.slice(Ne,ft),Et[Rt]?Et[Rt]+=ft:Et[++Rt]=ft),(qe=qe[0])===(ot=ot[0])?Et[Rt]?Et[Rt]+=ot:Et[++Rt]=ot:(Et[++Rt]=null,Xt.push({i:Rt,x:xo(qe,ot)})),Ne=Uo.lastIndex;return Ne<Pe.length&&(ft=Pe.slice(Ne),Et[Rt]?Et[Rt]+=ft:Et[++Rt]=ft),Et.length<2?Xt[0]?(Pe=Xt[0].x,function(Zt){return Pe(Zt)+""}):function(){return Pe}:(Pe=Xt.length,function(Zt){for(var ir=0,Ir;ir<Pe;++ir)Et[(Ir=Xt[ir]).i]=Ir.x(Zt);return Et.join("")})}var Fu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uo=new RegExp(Fu.source,"g");n.interpolate=$i;function $i(he,Pe){for(var Ne=n.interpolators.length,qe;--Ne>=0&&!(qe=n.interpolators[Ne](he,Pe)););return qe}n.interpolators=[function(he,Pe){var Ne=typeof Pe;return(Ne==="string"?wn.has(Pe.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Pe)?mo:Lo:Pe instanceof bt?mo:Array.isArray(Pe)?fs:Ne==="object"&&isNaN(Pe)?zu:xo)(he,Pe)}],n.interpolateArray=fs;function fs(he,Pe){var Ne=[],qe=[],ot=he.length,ft=Pe.length,Rt=Math.min(he.length,Pe.length),Et;for(Et=0;Et<Rt;++Et)Ne.push($i(he[Et],Pe[Et]));for(;Et<ot;++Et)qe[Et]=he[Et];for(;Et<ft;++Et)qe[Et]=Pe[Et];return function(Xt){for(Et=0;Et<Rt;++Et)qe[Et]=Ne[Et](Xt);return qe}}var Nu=function(){return z},cs=n.map({linear:Nu,poly:rh,quad:function(){return Gl},cubic:function(){return fl},sin:function(){return _h},exp:function(){return Bu},circle:function(){return nh},elastic:Yl,back:$f,bounce:function(){return _c}}),th=n.map({in:z,out:Vo,"in-out":Lc,"out-in":function(he){return Lc(Vo(he))}});n.ease=function(he){var Pe=he.indexOf("-"),Ne=Pe>=0?he.slice(0,Pe):he,qe=Pe>=0?he.slice(Pe+1):"in";return Ne=cs.get(Ne)||Nu,qe=th.get(qe)||z,ul(qe(Ne.apply(null,C.call(arguments,1))))};function ul(he){return function(Pe){return Pe<=0?0:Pe>=1?1:he(Pe)}}function Vo(he){return function(Pe){return 1-he(1-Pe)}}function Lc(he){return function(Pe){return .5*(Pe<.5?he(2*Pe):2-he(2-2*Pe))}}function Gl(he){return he*he}function fl(he){return he*he*he}function Wl(he){if(he<=0)return 0;if(he>=1)return 1;var Pe=he*he,Ne=Pe*he;return 4*(he<.5?Ne:3*(he-Pe)+Ne-.75)}function rh(he){return function(Pe){return Math.pow(Pe,he)}}function _h(he){return 1-Math.cos(he*nt)}function Bu(he){return Math.pow(2,10*(he-1))}function nh(he){return 1-Math.sqrt(1-he*he)}function Yl(he,Pe){var Ne;return arguments.length<2&&(Pe=.45),arguments.length?Ne=Pe/Be*Math.asin(1/he):(he=1,Ne=Pe/4),function(qe){return 1+he*Math.pow(2,-10*qe)*Math.sin((qe-Ne)*Be/Pe)}}function $f(he){return he||(he=1.70158),function(Pe){return Pe*Pe*((he+1)*Pe-he)}}function _c(he){return he<.36363636363636365?7.5625*he*he:he<.7272727272727273?7.5625*(he-=.5454545454545454)*he+.75:he<.9090909090909091?7.5625*(he-=.8181818181818182)*he+.9375:7.5625*(he-=.9545454545454546)*he+.984375}n.interpolateHcl=Ph;function Ph(he,Pe){he=n.hcl(he),Pe=n.hcl(Pe);var Ne=he.h,qe=he.c,ot=he.l,ft=Pe.h-Ne,Rt=Pe.c-qe,Et=Pe.l-ot;return isNaN(Rt)&&(Rt=0,qe=isNaN(qe)?Pe.c:qe),isNaN(ft)?(ft=0,Ne=isNaN(Ne)?Pe.h:Ne):ft>180?ft-=360:ft<-180&&(ft+=360),function(Xt){return Wt(Ne+ft*Xt,qe+Rt*Xt,ot+Et*Xt)+""}}n.interpolateHsl=Rh;function Rh(he,Pe){he=n.hsl(he),Pe=n.hsl(Pe);var Ne=he.h,qe=he.s,ot=he.l,ft=Pe.h-Ne,Rt=Pe.s-qe,Et=Pe.l-ot;return isNaN(Rt)&&(Rt=0,qe=isNaN(qe)?Pe.s:qe),isNaN(ft)?(ft=0,Ne=isNaN(Ne)?Pe.h:Ne):ft>180?ft-=360:ft<-180&&(ft+=360),function(Xt){return _t(Ne+ft*Xt,qe+Rt*Xt,ot+Et*Xt)+""}}n.interpolateLab=ou;function ou(he,Pe){he=n.lab(he),Pe=n.lab(Pe);var Ne=he.l,qe=he.a,ot=he.b,ft=Pe.l-Ne,Rt=Pe.a-qe,Et=Pe.b-ot;return function(Xt){return Ge(Ne+ft*Xt,qe+Rt*Xt,ot+Et*Xt)+""}}n.interpolateRound=Vs;function Vs(he,Pe){return Pe-=he,function(Ne){return Math.round(he+Pe*Ne)}}n.transform=function(he){var Pe=v.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(Ne){if(Ne!=null){Pe.setAttribute("transform",Ne);var qe=Pe.transform.baseVal.consolidate()}return new Xl(qe?qe.matrix:ah)})(he)};function Xl(he){var Pe=[he.a,he.b],Ne=[he.c,he.d],qe=mf(Pe),ot=Uu(Pe,Ne),ft=mf(xf(Ne,Pe,-ot))||0;Pe[0]*Ne[1]<Ne[0]*Pe[1]&&(Pe[0]*=-1,Pe[1]*=-1,qe*=-1,ot*=-1),this.rotate=(qe?Math.atan2(Pe[1],Pe[0]):Math.atan2(-Ne[0],Ne[1]))*xt,this.translate=[he.e,he.f],this.scale=[qe,ft],this.skew=ft?Math.atan2(ot,ft)*xt:0}Xl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Uu(he,Pe){return he[0]*Pe[0]+he[1]*Pe[1]}function mf(he){var Pe=Math.sqrt(Uu(he,he));return Pe&&(he[0]/=Pe,he[1]/=Pe),Pe}function xf(he,Pe,Ne){return he[0]+=Ne*Pe[0],he[1]+=Ne*Pe[1],he}var ah={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=Ya;function Sl(he){return he.length?he.pop()+",":""}function Vu(he,Pe,Ne,qe){if(he[0]!==Pe[0]||he[1]!==Pe[1]){var ot=Ne.push("translate(",null,",",null,")");qe.push({i:ot-4,x:xo(he[0],Pe[0])},{i:ot-2,x:xo(he[1],Pe[1])})}else(Pe[0]||Pe[1])&&Ne.push("translate("+Pe+")")}function En(he,Pe,Ne,qe){he!==Pe?(he-Pe>180?Pe+=360:Pe-he>180&&(he+=360),qe.push({i:Ne.push(Sl(Ne)+"rotate(",null,")")-2,x:xo(he,Pe)})):Pe&&Ne.push(Sl(Ne)+"rotate("+Pe+")")}function ra(he,Pe,Ne,qe){he!==Pe?qe.push({i:Ne.push(Sl(Ne)+"skewX(",null,")")-2,x:xo(he,Pe)}):Pe&&Ne.push(Sl(Ne)+"skewX("+Pe+")")}function Jn(he,Pe,Ne,qe){if(he[0]!==Pe[0]||he[1]!==Pe[1]){var ot=Ne.push(Sl(Ne)+"scale(",null,",",null,")");qe.push({i:ot-4,x:xo(he[0],Pe[0])},{i:ot-2,x:xo(he[1],Pe[1])})}else(Pe[0]!==1||Pe[1]!==1)&&Ne.push(Sl(Ne)+"scale("+Pe+")")}function Ya(he,Pe){var Ne=[],qe=[];return he=n.transform(he),Pe=n.transform(Pe),Vu(he.translate,Pe.translate,Ne,qe),En(he.rotate,Pe.rotate,Ne,qe),ra(he.skew,Pe.skew,Ne,qe),Jn(he.scale,Pe.scale,Ne,qe),he=Pe=null,function(ot){for(var ft=-1,Rt=qe.length,Et;++ft<Rt;)Ne[(Et=qe[ft]).i]=Et.x(ot);return Ne.join("")}}function si(he,Pe){return Pe=(Pe-=he=+he)||1/Pe,function(Ne){return(Ne-he)/Pe}}function Ri(he,Pe){return Pe=(Pe-=he=+he)||1/Pe,function(Ne){return Math.max(0,Math.min(1,(Ne-he)/Pe))}}n.layout={},n.layout.bundle=function(){return function(he){for(var Pe=[],Ne=-1,qe=he.length;++Ne<qe;)Pe.push(lo(he[Ne]));return Pe}};function lo(he){for(var Pe=he.source,Ne=he.target,qe=cl(Pe,Ne),ot=[Pe];Pe!==qe;)Pe=Pe.parent,ot.push(Pe);for(var ft=ot.length;Ne!==qe;)ot.splice(ft,0,Ne),Ne=Ne.parent;return ot}function ji(he){for(var Pe=[],Ne=he.parent;Ne!=null;)Pe.push(he),he=Ne,Ne=Ne.parent;return Pe.push(he),Pe}function cl(he,Pe){if(he===Pe)return he;for(var Ne=ji(he),qe=ji(Pe),ot=Ne.pop(),ft=qe.pop(),Rt=null;ot===ft;)Rt=ot,ot=Ne.pop(),ft=qe.pop();return Rt}n.layout.chord=function(){var he={},Pe,Ne,qe,ot,ft=0,Rt,Et,Xt;function Zt(){var Ir={},kr=[],sn=n.range(ot),dn=[],Br,Wr,nn,gn,Tn;for(Pe=[],Ne=[],Br=0,gn=-1;++gn<ot;){for(Wr=0,Tn=-1;++Tn<ot;)Wr+=qe[gn][Tn];kr.push(Wr),dn.push(n.range(ot)),Br+=Wr}for(Rt&&sn.sort(function(ai,ka){return Rt(kr[ai],kr[ka])}),Et&&dn.forEach(function(ai,ka){ai.sort(function(ti,Ai){return Et(qe[ka][ti],qe[ka][Ai])})}),Br=(Be-ft*ot)/Br,Wr=0,gn=-1;++gn<ot;){for(nn=Wr,Tn=-1;++Tn<ot;){var un=sn[gn],Rn=dn[un][Tn],ha=qe[un][Rn],Sa=Wr,la=Wr+=ha*Br;Ir[un+"-"+Rn]={index:un,subindex:Rn,startAngle:Sa,endAngle:la,value:ha}}Ne[un]={index:un,startAngle:nn,endAngle:Wr,value:kr[un]},Wr+=ft}for(gn=-1;++gn<ot;)for(Tn=gn-1;++Tn<ot;){var Ta=Ir[gn+"-"+Tn],Ea=Ir[Tn+"-"+gn];(Ta.value||Ea.value)&&Pe.push(Ta.value<Ea.value?{source:Ea,target:Ta}:{source:Ta,target:Ea})}Xt&&ir()}function ir(){Pe.sort(function(Ir,kr){return Xt((Ir.source.value+Ir.target.value)/2,(kr.source.value+kr.target.value)/2)})}return he.matrix=function(Ir){return arguments.length?(ot=(qe=Ir)&&qe.length,Pe=Ne=null,he):qe},he.padding=function(Ir){return arguments.length?(ft=Ir,Pe=Ne=null,he):ft},he.sortGroups=function(Ir){return arguments.length?(Rt=Ir,Pe=Ne=null,he):Rt},he.sortSubgroups=function(Ir){return arguments.length?(Et=Ir,Pe=null,he):Et},he.sortChords=function(Ir){return arguments.length?(Xt=Ir,Pe&&ir(),he):Xt},he.chords=function(){return Pe||Zt(),Pe},he.groups=function(){return Ne||Zt(),Ne},he},n.layout.force=function(){var he={},Pe=n.dispatch("start","tick","end"),Ne,qe=[1,1],ot,ft,Rt=.9,Et=Hu,Xt=Qf,Zt=-30,ir=Yi,Ir=.1,kr=.64,sn=[],dn=[],Br,Wr,nn;function gn(un){return function(Rn,ha,Sa,la){if(Rn.point!==un){var Ta=Rn.cx-un.x,Ea=Rn.cy-un.y,ai=la-ha,ka=Ta*Ta+Ea*Ea;if(ai*ai/kr<ka){if(ka<ir){var ti=Rn.charge/ka;un.px-=Ta*ti,un.py-=Ea*ti}return!0}if(Rn.point&&ka&&ka<ir){var ti=Rn.pointCharge/ka;un.px-=Ta*ti,un.py-=Ea*ti}}return!Rn.charge}}he.tick=function(){if((ft*=.99)<.005)return Ne=null,Pe.end({type:"end",alpha:ft=0}),!0;var un=sn.length,Rn=dn.length,ha,Sa,la,Ta,Ea,ai,ka,ti,Ai;for(Sa=0;Sa<Rn;++Sa)la=dn[Sa],Ta=la.source,Ea=la.target,ti=Ea.x-Ta.x,Ai=Ea.y-Ta.y,(ai=ti*ti+Ai*Ai)&&(ai=ft*Wr[Sa]*((ai=Math.sqrt(ai))-Br[Sa])/ai,ti*=ai,Ai*=ai,Ea.x-=ti*(ka=Ta.weight+Ea.weight?Ta.weight/(Ta.weight+Ea.weight):.5),Ea.y-=Ai*ka,Ta.x+=ti*(ka=1-ka),Ta.y+=Ai*ka);if((ka=ft*Ir)&&(ti=qe[0]/2,Ai=qe[1]/2,Sa=-1,ka))for(;++Sa<un;)la=sn[Sa],la.x+=(ti-la.x)*ka,la.y+=(Ai-la.y)*ka;if(Zt)for(eo(ha=n.geom.quadtree(sn),ft,nn),Sa=-1;++Sa<un;)(la=sn[Sa]).fixed||ha.visit(gn(la));for(Sa=-1;++Sa<un;)la=sn[Sa],la.fixed?(la.x=la.px,la.y=la.py):(la.x-=(la.px-(la.px=la.x))*Rt,la.y-=(la.py-(la.py=la.y))*Rt);Pe.tick({type:"tick",alpha:ft})},he.nodes=function(un){return arguments.length?(sn=un,he):sn},he.links=function(un){return arguments.length?(dn=un,he):dn},he.size=function(un){return arguments.length?(qe=un,he):qe},he.linkDistance=function(un){return arguments.length?(Et=typeof un=="function"?un:+un,he):Et},he.distance=he.linkDistance,he.linkStrength=function(un){return arguments.length?(Xt=typeof un=="function"?un:+un,he):Xt},he.friction=function(un){return arguments.length?(Rt=+un,he):Rt},he.charge=function(un){return arguments.length?(Zt=typeof un=="function"?un:+un,he):Zt},he.chargeDistance=function(un){return arguments.length?(ir=un*un,he):Math.sqrt(ir)},he.gravity=function(un){return arguments.length?(Ir=+un,he):Ir},he.theta=function(un){return arguments.length?(kr=un*un,he):Math.sqrt(kr)},he.alpha=function(un){return arguments.length?(un=+un,ft?un>0?ft=un:(Ne.c=null,Ne.t=NaN,Ne=null,Pe.end({type:"end",alpha:ft=0})):un>0&&(Pe.start({type:"start",alpha:ft=un}),Ne=Vn(he.tick)),he):ft},he.start=function(){var un,Rn=sn.length,ha=dn.length,Sa=qe[0],la=qe[1],Ta,Ea;for(un=0;un<Rn;++un)(Ea=sn[un]).index=un,Ea.weight=0;for(un=0;un<ha;++un)Ea=dn[un],typeof Ea.source=="number"&&(Ea.source=sn[Ea.source]),typeof Ea.target=="number"&&(Ea.target=sn[Ea.target]),++Ea.source.weight,++Ea.target.weight;for(un=0;un<Rn;++un)Ea=sn[un],isNaN(Ea.x)&&(Ea.x=ai("x",Sa)),isNaN(Ea.y)&&(Ea.y=ai("y",la)),isNaN(Ea.px)&&(Ea.px=Ea.x),isNaN(Ea.py)&&(Ea.py=Ea.y);if(Br=[],typeof Et=="function")for(un=0;un<ha;++un)Br[un]=+Et.call(this,dn[un],un);else for(un=0;un<ha;++un)Br[un]=Et;if(Wr=[],typeof Xt=="function")for(un=0;un<ha;++un)Wr[un]=+Xt.call(this,dn[un],un);else for(un=0;un<ha;++un)Wr[un]=Xt;if(nn=[],typeof Zt=="function")for(un=0;un<Rn;++un)nn[un]=+Zt.call(this,sn[un],un);else for(un=0;un<Rn;++un)nn[un]=Zt;function ai(ka,ti){if(!Ta){for(Ta=new Array(Rn),Ii=0;Ii<Rn;++Ii)Ta[Ii]=[];for(Ii=0;Ii<ha;++Ii){var Ai=dn[Ii];Ta[Ai.source.index].push(Ai.target),Ta[Ai.target.index].push(Ai.source)}}for(var wo=Ta[un],Ii=-1,ua=wo.length,Ja;++Ii<ua;)if(!isNaN(Ja=wo[Ii][ka]))return Ja;return Math.random()*ti}return he.resume()},he.resume=function(){return he.alpha(.1)},he.stop=function(){return he.alpha(0)},he.drag=function(){if(ot||(ot=n.behavior.drag().origin(z).on("dragstart.force",hl).on("drag.force",Tn).on("dragend.force",xs)),!arguments.length)return ot;this.on("mouseover.force",El).on("mouseout.force",Js).call(ot)};function Tn(un){un.px=n.event.x,un.py=n.event.y,he.resume()}return n.rebind(he,Pe,"on")};function hl(he){he.fixed|=2}function xs(he){he.fixed&=-7}function El(he){he.fixed|=4,he.px=he.x,he.py=he.y}function Js(he){he.fixed&=-5}function eo(he,Pe,Ne){var qe=0,ot=0;if(he.charge=0,!he.leaf)for(var ft=he.nodes,Rt=ft.length,Et=-1,Xt;++Et<Rt;)Xt=ft[Et],Xt!=null&&(eo(Xt,Pe,Ne),he.charge+=Xt.charge,qe+=Xt.charge*Xt.cx,ot+=Xt.charge*Xt.cy);if(he.point){he.leaf||(he.point.x+=Math.random()-.5,he.point.y+=Math.random()-.5);var Zt=Pe*Ne[he.point.index];he.charge+=he.pointCharge=Zt,qe+=Zt*he.point.x,ot+=Zt*he.point.y}he.cx=qe/he.charge,he.cy=ot/he.charge}var Hu=20,Qf=1,Yi=1/0;n.layout.hierarchy=function(){var he=ec,Pe=qf,Ne=Wu;function qe(ot){var ft=[ot],Rt=[],Et;for(ot.depth=0;(Et=ft.pop())!=null;)if(Rt.push(Et),(Zt=Pe.call(qe,Et,Et.depth))&&(Xt=Zt.length)){for(var Xt,Zt,ir;--Xt>=0;)ft.push(ir=Zt[Xt]),ir.parent=Et,ir.depth=Et.depth+1;Ne&&(Et.value=0),Et.children=Zt}else Ne&&(Et.value=+Ne.call(qe,Et,Et.depth)||0),delete Et.children;return $o(ot,function(Ir){var kr,sn;he&&(kr=Ir.children)&&kr.sort(he),Ne&&(sn=Ir.parent)&&(sn.value+=Ir.value)}),Rt}return qe.sort=function(ot){return arguments.length?(he=ot,qe):he},qe.children=function(ot){return arguments.length?(Pe=ot,qe):Pe},qe.value=function(ot){return arguments.length?(Ne=ot,qe):Ne},qe.revalue=function(ot){return Ne&&(su(ot,function(ft){ft.children&&(ft.value=0)}),$o(ot,function(ft){var Rt;ft.children||(ft.value=+Ne.call(qe,ft,ft.depth)||0),(Rt=ft.parent)&&(Rt.value+=ft.value)})),ot},qe};function Gu(he,Pe){return n.rebind(he,Pe,"sort","children","value"),he.nodes=he,he.links=tc,he}function su(he,Pe){for(var Ne=[he];(he=Ne.pop())!=null;)if(Pe(he),(ot=he.children)&&(qe=ot.length))for(var qe,ot;--qe>=0;)Ne.push(ot[qe])}function $o(he,Pe){for(var Ne=[he],qe=[];(he=Ne.pop())!=null;)if(qe.push(he),(Rt=he.children)&&(ft=Rt.length))for(var ot=-1,ft,Rt;++ot<ft;)Ne.push(Rt[ot]);for(;(he=qe.pop())!=null;)Pe(he)}function qf(he){return he.children}function Wu(he){return he.value}function ec(he,Pe){return Pe.value-he.value}function tc(he){return n.merge(he.map(function(Pe){return(Pe.children||[]).map(function(Ne){return{source:Pe,target:Ne}})}))}n.layout.partition=function(){var he=n.layout.hierarchy(),Pe=[1,1];function Ne(ft,Rt,Et,Xt){var Zt=ft.children;if(ft.x=Rt,ft.y=ft.depth*Xt,ft.dx=Et,ft.dy=Xt,Zt&&(Ir=Zt.length)){var ir=-1,Ir,kr,sn;for(Et=ft.value?Et/ft.value:0;++ir<Ir;)Ne(kr=Zt[ir],Rt,sn=kr.value*Et,Xt),Rt+=sn}}function qe(ft){var Rt=ft.children,Et=0;if(Rt&&(Zt=Rt.length))for(var Xt=-1,Zt;++Xt<Zt;)Et=Math.max(Et,qe(Rt[Xt]));return 1+Et}function ot(ft,Rt){var Et=he.call(this,ft,Rt);return Ne(Et[0],0,Pe[0],Pe[1]/qe(Et[0])),Et}return ot.size=function(ft){return arguments.length?(Pe=ft,ot):Pe},Gu(ot,he)},n.layout.pie=function(){var he=Number,Pe=Cl,Ne=0,qe=Be,ot=0;function ft(Rt){var Et=Rt.length,Xt=Rt.map(function(gn,Tn){return+he.call(ft,gn,Tn)}),Zt=+(typeof Ne=="function"?Ne.apply(this,arguments):Ne),ir=(typeof qe=="function"?qe.apply(this,arguments):qe)-Zt,Ir=Math.min(Math.abs(ir)/Et,+(typeof ot=="function"?ot.apply(this,arguments):ot)),kr=Ir*(ir<0?-1:1),sn=n.sum(Xt),dn=sn?(ir-Et*kr)/sn:0,Br=n.range(Et),Wr=[],nn;return Pe!=null&&Br.sort(Pe===Cl?function(gn,Tn){return Xt[Tn]-Xt[gn]}:function(gn,Tn){return Pe(Rt[gn],Rt[Tn])}),Br.forEach(function(gn){Wr[gn]={data:Rt[gn],value:nn=Xt[gn],startAngle:Zt,endAngle:Zt+=nn*dn+kr,padAngle:Ir}}),Wr}return ft.value=function(Rt){return arguments.length?(he=Rt,ft):he},ft.sort=function(Rt){return arguments.length?(Pe=Rt,ft):Pe},ft.startAngle=function(Rt){return arguments.length?(Ne=Rt,ft):Ne},ft.endAngle=function(Rt){return arguments.length?(qe=Rt,ft):qe},ft.padAngle=function(Rt){return arguments.length?(ot=Rt,ft):ot},ft};var Cl={};n.layout.stack=function(){var he=z,Pe=Zl,Ne=wf,qe=Xu,ot=Yu,ft=rc;function Rt(Et,Xt){if(!(dn=Et.length))return Et;var Zt=Et.map(function(gn,Tn){return he.call(Rt,gn,Tn)}),ir=Zt.map(function(gn){return gn.map(function(Tn,un){return[ot.call(Rt,Tn,un),ft.call(Rt,Tn,un)]})}),Ir=Pe.call(Rt,ir,Xt);Zt=n.permute(Zt,Ir),ir=n.permute(ir,Ir);var kr=Ne.call(Rt,ir,Xt),sn=Zt[0].length,dn,Br,Wr,nn;for(Wr=0;Wr<sn;++Wr)for(qe.call(Rt,Zt[0][Wr],nn=kr[Wr],ir[0][Wr][1]),Br=1;Br<dn;++Br)qe.call(Rt,Zt[Br][Wr],nn+=ir[Br-1][Wr][1],ir[Br][Wr][1]);return Et}return Rt.values=function(Et){return arguments.length?(he=Et,Rt):he},Rt.order=function(Et){return arguments.length?(Pe=typeof Et=="function"?Et:lu.get(Et)||Zl,Rt):Pe},Rt.offset=function(Et){return arguments.length?(Ne=typeof Et=="function"?Et:bf.get(Et)||wf,Rt):Ne},Rt.x=function(Et){return arguments.length?(ot=Et,Rt):ot},Rt.y=function(Et){return arguments.length?(ft=Et,Rt):ft},Rt.out=function(Et){return arguments.length?(qe=Et,Rt):qe},Rt};function Yu(he){return he.x}function rc(he){return he.y}function Xu(he,Pe,Ne){he.y0=Pe,he.y=Ne}var lu=n.map({"inside-out":function(he){var Pe=he.length,Ne,qe,ot=he.map(Ui),ft=he.map(jl),Rt=n.range(Pe).sort(function(Ir,kr){return ot[Ir]-ot[kr]}),Et=0,Xt=0,Zt=[],ir=[];for(Ne=0;Ne<Pe;++Ne)qe=Rt[Ne],Et<Xt?(Et+=ft[qe],Zt.push(qe)):(Xt+=ft[qe],ir.push(qe));return ir.reverse().concat(Zt)},reverse:function(he){return n.range(he.length).reverse()},default:Zl}),bf=n.map({silhouette:function(he){var Pe=he.length,Ne=he[0].length,qe=[],ot=0,ft,Rt,Et,Xt=[];for(Rt=0;Rt<Ne;++Rt){for(ft=0,Et=0;ft<Pe;ft++)Et+=he[ft][Rt][1];Et>ot&&(ot=Et),qe.push(Et)}for(Rt=0;Rt<Ne;++Rt)Xt[Rt]=(ot-qe[Rt])/2;return Xt},wiggle:function(he){var Pe=he.length,Ne=he[0],qe=Ne.length,ot,ft,Rt,Et,Xt,Zt,ir,Ir,kr,sn=[];for(sn[0]=Ir=kr=0,ft=1;ft<qe;++ft){for(ot=0,Et=0;ot<Pe;++ot)Et+=he[ot][ft][1];for(ot=0,Xt=0,ir=Ne[ft][0]-Ne[ft-1][0];ot<Pe;++ot){for(Rt=0,Zt=(he[ot][ft][1]-he[ot][ft-1][1])/(2*ir);Rt<ot;++Rt)Zt+=(he[Rt][ft][1]-he[Rt][ft-1][1])/ir;Xt+=Zt*he[ot][ft][1]}sn[ft]=Ir-=Et?Xt/Et*ir:0,Ir<kr&&(kr=Ir)}for(ft=0;ft<qe;++ft)sn[ft]-=kr;return sn},expand:function(he){var Pe=he.length,Ne=he[0].length,qe=1/Pe,ot,ft,Rt,Et=[];for(ft=0;ft<Ne;++ft){for(ot=0,Rt=0;ot<Pe;ot++)Rt+=he[ot][ft][1];if(Rt)for(ot=0;ot<Pe;ot++)he[ot][ft][1]/=Rt;else for(ot=0;ot<Pe;ot++)he[ot][ft][1]=qe}for(ft=0;ft<Ne;++ft)Et[ft]=0;return Et},zero:wf});function Zl(he){return n.range(he.length)}function wf(he){for(var Pe=-1,Ne=he[0].length,qe=[];++Pe<Ne;)qe[Pe]=0;return qe}function Ui(he){for(var Pe=1,Ne=0,qe=he[0][1],ot,ft=he.length;Pe<ft;++Pe)(ot=he[Pe][1])>qe&&(Ne=Pe,qe=ot);return Ne}function jl(he){return he.reduce(bs,0)}function bs(he,Pe){return he+Pe[1]}n.layout.histogram=function(){var he=!0,Pe=Number,Ne=uu,qe=ih;function ot(ft,kr){for(var Et=[],Xt=ft.map(Pe,this),Zt=Ne.call(this,Xt,kr),ir=qe.call(this,Zt,Xt,kr),Ir,kr=-1,sn=Xt.length,dn=ir.length-1,Br=he?1:1/sn,Wr;++kr<dn;)Ir=Et[kr]=[],Ir.dx=ir[kr+1]-(Ir.x=ir[kr]),Ir.y=0;if(dn>0)for(kr=-1;++kr<sn;)Wr=Xt[kr],Wr>=Zt[0]&&Wr<=Zt[1]&&(Ir=Et[n.bisect(ir,Wr,1,dn)-1],Ir.y+=Br,Ir.push(ft[kr]));return Et}return ot.value=function(ft){return arguments.length?(Pe=ft,ot):Pe},ot.range=function(ft){return arguments.length?(Ne=hn(ft),ot):Ne},ot.bins=function(ft){return arguments.length?(qe=typeof ft=="number"?function(Rt){return Pc(Rt,ft)}:hn(ft),ot):qe},ot.frequency=function(ft){return arguments.length?(he=!!ft,ot):he},ot};function ih(he,Pe){return Pc(he,Math.ceil(Math.log(Pe.length)/Math.LN2+1))}function Pc(he,Pe){for(var Ne=-1,qe=+he[0],ot=(he[1]-qe)/Pe,ft=[];++Ne<=Pe;)ft[Ne]=ot*Ne+qe;return ft}function uu(he){return[n.min(he),n.max(he)]}n.layout.pack=function(){var he=n.layout.hierarchy().sort($s),Pe=0,Ne=[1,1],qe;function ot(ft,Rt){var Et=he.call(this,ft,Rt),Xt=Et[0],Zt=Ne[0],ir=Ne[1],Ir=qe==null?Math.sqrt:typeof qe=="function"?qe:function(){return qe};if(Xt.x=Xt.y=0,$o(Xt,function(sn){sn.r=+Ir(sn.value)}),$o(Xt,Hs),Pe){var kr=Pe*(qe?1:Math.max(2*Xt.r/Zt,2*Xt.r/ir))/2;$o(Xt,function(sn){sn.r+=kr}),$o(Xt,Hs),$o(Xt,function(sn){sn.r-=kr})}return io(Xt,Zt/2,ir/2,qe?1:1/Math.max(2*Xt.r/Zt,2*Xt.r/ir)),Et}return ot.size=function(ft){return arguments.length?(Ne=ft,ot):Ne},ot.radius=function(ft){return arguments.length?(qe=ft==null||typeof ft=="function"?ft:+ft,ot):qe},ot.padding=function(ft){return arguments.length?(Pe=+ft,ot):Pe},Gu(ot,he)};function $s(he,Pe){return he.value-Pe.value}function fu(he,Pe){var Ne=he._pack_next;he._pack_next=Pe,Pe._pack_prev=he,Pe._pack_next=Ne,Ne._pack_prev=Pe}function go(he,Pe){he._pack_next=Pe,Pe._pack_prev=he}function Tf(he,Pe){var Ne=Pe.x-he.x,qe=Pe.y-he.y,ot=he.r+Pe.r;return .999*ot*ot>Ne*Ne+qe*qe}function Hs(he){if(!(Pe=he.children)||!(kr=Pe.length))return;var Pe,Ne=1/0,qe=-1/0,ot=1/0,ft=-1/0,Rt,Et,Xt,Zt,ir,Ir,kr;function sn(un){Ne=Math.min(un.x-un.r,Ne),qe=Math.max(un.x+un.r,qe),ot=Math.min(un.y-un.r,ot),ft=Math.max(un.y+un.r,ft)}if(Pe.forEach(Ll),Rt=Pe[0],Rt.x=-Rt.r,Rt.y=0,sn(Rt),kr>1&&(Et=Pe[1],Et.x=Et.r,Et.y=0,sn(Et),kr>2))for(Xt=Pe[2],oo(Rt,Et,Xt),sn(Xt),fu(Rt,Xt),Rt._pack_prev=Xt,fu(Xt,Et),Et=Rt._pack_next,Zt=3;Zt<kr;Zt++){oo(Rt,Et,Xt=Pe[Zt]);var dn=0,Br=1,Wr=1;for(ir=Et._pack_next;ir!==Et;ir=ir._pack_next,Br++)if(Tf(ir,Xt)){dn=1;break}if(dn==1)for(Ir=Rt._pack_prev;Ir!==ir._pack_prev&&!Tf(Ir,Xt);Ir=Ir._pack_prev,Wr++);dn?(Br<Wr||Br==Wr&&Et.r<Rt.r?go(Rt,Et=ir):go(Rt=Ir,Et),Zt--):(fu(Rt,Xt),Et=Xt,sn(Xt))}var nn=(Ne+qe)/2,gn=(ot+ft)/2,Tn=0;for(Zt=0;Zt<kr;Zt++)Xt=Pe[Zt],Xt.x-=nn,Xt.y-=gn,Tn=Math.max(Tn,Xt.r+Math.sqrt(Xt.x*Xt.x+Xt.y*Xt.y));he.r=Tn,Pe.forEach(cu)}function Ll(he){he._pack_next=he._pack_prev=he}function cu(he){delete he._pack_next,delete he._pack_prev}function io(he,Pe,Ne,qe){var ot=he.children;if(he.x=Pe+=qe*he.x,he.y=Ne+=qe*he.y,he.r*=qe,ot)for(var ft=-1,Rt=ot.length;++ft<Rt;)io(ot[ft],Pe,Ne,qe)}function oo(he,Pe,Ne){var qe=he.r+Ne.r,ot=Pe.x-he.x,ft=Pe.y-he.y;if(qe&&(ot||ft)){var Rt=Pe.r+Ne.r,Et=ot*ot+ft*ft;Rt*=Rt,qe*=qe;var Xt=.5+(qe-Rt)/(2*Et),Zt=Math.sqrt(Math.max(0,2*Rt*(qe+Et)-(qe-=Et)*qe-Rt*Rt))/(2*Et);Ne.x=he.x+Xt*ot+Zt*ft,Ne.y=he.y+Xt*ft-Zt*ot}else Ne.x=he.x+qe,Ne.y=he.y}n.layout.tree=function(){var he=n.layout.hierarchy().sort(null).value(null),Pe=_l,Ne=[1,1],qe=null;function ot(ir,Ir){var kr=he.call(this,ir,Ir),sn=kr[0],dn=ft(sn);if($o(dn,Rt),dn.parent.m=-dn.z,su(dn,Et),qe)su(sn,Zt);else{var Br=sn,Wr=sn,nn=sn;su(sn,function(Rn){Rn.x<Br.x&&(Br=Rn),Rn.x>Wr.x&&(Wr=Rn),Rn.depth>nn.depth&&(nn=Rn)});var gn=Pe(Br,Wr)/2-Br.x,Tn=Ne[0]/(Wr.x+Pe(Wr,Br)/2+gn),un=Ne[1]/(nn.depth||1);su(sn,function(Rn){Rn.x=(Rn.x+gn)*Tn,Rn.y=Rn.depth*un})}return kr}function ft(ir){for(var Ir={A:null,children:[ir]},kr=[Ir],sn;(sn=kr.pop())!=null;)for(var dn=sn.children,Br,Wr=0,nn=dn.length;Wr<nn;++Wr)kr.push((dn[Wr]=Br={_:dn[Wr],parent:sn,children:(Br=dn[Wr].children)&&Br.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Wr}).a=Br);return Ir.children[0]}function Rt(ir){var Ir=ir.children,kr=ir.parent.children,sn=ir.i?kr[ir.i-1]:null;if(Ir.length){Rc(ir);var dn=(Ir[0].z+Ir[Ir.length-1].z)/2;sn?(ir.z=sn.z+Pe(ir._,sn._),ir.m=ir.z-dn):ir.z=dn}else sn&&(ir.z=sn.z+Pe(ir._,sn._));ir.parent.A=Xt(ir,sn,ir.parent.A||kr[0])}function Et(ir){ir._.x=ir.z+ir.parent.m,ir.m+=ir.parent.m}function Xt(ir,Ir,kr){if(Ir){for(var sn=ir,dn=ir,Br=Ir,Wr=sn.parent.children[0],nn=sn.m,gn=dn.m,Tn=Br.m,un=Wr.m,Rn;Br=Rs(Br),sn=Qs(sn),Br&&sn;)Wr=Qs(Wr),dn=Rs(dn),dn.a=ir,Rn=Br.z+Tn-sn.z-nn+Pe(Br._,sn._),Rn>0&&(Af(Mf(Br,ir,kr),ir,Rn),nn+=Rn,gn+=Rn),Tn+=Br.m,nn+=sn.m,un+=Wr.m,gn+=dn.m;Br&&!Rs(dn)&&(dn.t=Br,dn.m+=Tn-gn),sn&&!Qs(Wr)&&(Wr.t=sn,Wr.m+=nn-un,kr=ir)}return kr}function Zt(ir){ir.x*=Ne[0],ir.y=ir.depth*Ne[1]}return ot.separation=function(ir){return arguments.length?(Pe=ir,ot):Pe},ot.size=function(ir){return arguments.length?(qe=(Ne=ir)==null?Zt:null,ot):qe?null:Ne},ot.nodeSize=function(ir){return arguments.length?(qe=(Ne=ir)==null?null:Zt,ot):qe?Ne:null},Gu(ot,he)};function _l(he,Pe){return he.parent==Pe.parent?1:2}function Qs(he){var Pe=he.children;return Pe.length?Pe[0]:he.t}function Rs(he){var Pe=he.children,Ne;return(Ne=Pe.length)?Pe[Ne-1]:he.t}function Af(he,Pe,Ne){var qe=Ne/(Pe.i-he.i);Pe.c-=qe,Pe.s+=Ne,he.c+=qe,Pe.z+=Ne,Pe.m+=Ne}function Rc(he){for(var Pe=0,Ne=0,qe=he.children,ot=qe.length,ft;--ot>=0;)ft=qe[ot],ft.z+=Pe,ft.m+=Pe,Pe+=ft.s+(Ne+=ft.c)}function Mf(he,Pe,Ne){return he.a.parent===Pe.parent?he.a:Ne}n.layout.cluster=function(){var he=n.layout.hierarchy().sort(null).value(null),Pe=_l,Ne=[1,1],qe=!1;function ot(ft,Rt){var Et=he.call(this,ft,Rt),Xt=Et[0],Zt,ir=0;$o(Xt,function(Br){var Wr=Br.children;Wr&&Wr.length?(Br.x=Zu(Wr),Br.y=Dc(Wr)):(Br.x=Zt?ir+=Pe(Br,Zt):0,Br.y=0,Zt=Br)});var Ir=hu(Xt),kr=ju(Xt),sn=Ir.x-Pe(Ir,kr)/2,dn=kr.x+Pe(kr,Ir)/2;return $o(Xt,qe?function(Br){Br.x=(Br.x-Xt.x)*Ne[0],Br.y=(Xt.y-Br.y)*Ne[1]}:function(Br){Br.x=(Br.x-sn)/(dn-sn)*Ne[0],Br.y=(1-(Xt.y?Br.y/Xt.y:1))*Ne[1]}),Et}return ot.separation=function(ft){return arguments.length?(Pe=ft,ot):Pe},ot.size=function(ft){return arguments.length?(qe=(Ne=ft)==null,ot):qe?null:Ne},ot.nodeSize=function(ft){return arguments.length?(qe=(Ne=ft)!=null,ot):qe?Ne:null},Gu(ot,he)};function Dc(he){return 1+n.max(he,function(Pe){return Pe.y})}function Zu(he){return he.reduce(function(Pe,Ne){return Pe+Ne.x},0)/he.length}function hu(he){var Pe=he.children;return Pe&&Pe.length?hu(Pe[0]):he}function ju(he){var Pe=he.children,Ne;return Pe&&(Ne=Pe.length)?ju(Pe[Ne-1]):he}n.layout.treemap=function(){var he=n.layout.hierarchy(),Pe=Math.round,Ne=[1,1],qe=null,ot=Pl,ft=!1,Rt,Et="squarify",Xt=.5*(1+Math.sqrt(5));function Zt(Br,Wr){for(var nn=-1,gn=Br.length,Tn,un;++nn<gn;)un=(Tn=Br[nn]).value*(Wr<0?0:Wr),Tn.area=isNaN(un)||un<=0?0:un}function ir(Br){var Wr=Br.children;if(Wr&&Wr.length){var nn=ot(Br),gn=[],Tn=Wr.slice(),un,Rn=1/0,ha,Sa=Et==="slice"?nn.dx:Et==="dice"?nn.dy:Et==="slice-dice"?Br.depth&1?nn.dy:nn.dx:Math.min(nn.dx,nn.dy),la;for(Zt(Tn,nn.dx*nn.dy/Br.value),gn.area=0;(la=Tn.length)>0;)gn.push(un=Tn[la-1]),gn.area+=un.area,Et!=="squarify"||(ha=kr(gn,Sa))<=Rn?(Tn.pop(),Rn=ha):(gn.area-=gn.pop().area,sn(gn,Sa,nn,!1),Sa=Math.min(nn.dx,nn.dy),gn.length=gn.area=0,Rn=1/0);gn.length&&(sn(gn,Sa,nn,!0),gn.length=gn.area=0),Wr.forEach(ir)}}function Ir(Br){var Wr=Br.children;if(Wr&&Wr.length){var nn=ot(Br),gn=Wr.slice(),Tn,un=[];for(Zt(gn,nn.dx*nn.dy/Br.value),un.area=0;Tn=gn.pop();)un.push(Tn),un.area+=Tn.area,Tn.z!=null&&(sn(un,Tn.z?nn.dx:nn.dy,nn,!gn.length),un.length=un.area=0);Wr.forEach(Ir)}}function kr(Br,Wr){for(var nn=Br.area,gn,Tn=0,un=1/0,Rn=-1,ha=Br.length;++Rn<ha;)(gn=Br[Rn].area)&&(gn<un&&(un=gn),gn>Tn&&(Tn=gn));return nn*=nn,Wr*=Wr,nn?Math.max(Wr*Tn*Xt/nn,nn/(Wr*un*Xt)):1/0}function sn(Br,Wr,nn,gn){var Tn=-1,un=Br.length,Rn=nn.x,ha=nn.y,Sa=Wr?Pe(Br.area/Wr):0,la;if(Wr==nn.dx){for((gn||Sa>nn.dy)&&(Sa=nn.dy);++Tn<un;)la=Br[Tn],la.x=Rn,la.y=ha,la.dy=Sa,Rn+=la.dx=Math.min(nn.x+nn.dx-Rn,Sa?Pe(la.area/Sa):0);la.z=!0,la.dx+=nn.x+nn.dx-Rn,nn.y+=Sa,nn.dy-=Sa}else{for((gn||Sa>nn.dx)&&(Sa=nn.dx);++Tn<un;)la=Br[Tn],la.x=Rn,la.y=ha,la.dx=Sa,ha+=la.dy=Math.min(nn.y+nn.dy-ha,Sa?Pe(la.area/Sa):0);la.z=!1,la.dy+=nn.y+nn.dy-ha,nn.x+=Sa,nn.dx-=Sa}}function dn(Br){var Wr=Rt||he(Br),nn=Wr[0];return nn.x=nn.y=0,nn.value?(nn.dx=Ne[0],nn.dy=Ne[1]):nn.dx=nn.dy=0,Rt&&he.revalue(nn),Zt([nn],nn.dx*nn.dy/nn.value),(Rt?Ir:ir)(nn),ft&&(Rt=Wr),Wr}return dn.size=function(Br){return arguments.length?(Ne=Br,dn):Ne},dn.padding=function(Br){if(!arguments.length)return qe;function Wr(Tn){var un=Br.call(dn,Tn,Tn.depth);return un==null?Pl(Tn):bo(Tn,typeof un=="number"?[un,un,un,un]:un)}function nn(Tn){return bo(Tn,Br)}var gn;return ot=(qe=Br)==null?Pl:(gn=typeof Br)=="function"?Wr:(gn==="number"&&(Br=[Br,Br,Br,Br]),nn),dn},dn.round=function(Br){return arguments.length?(Pe=Br?Math.round:Number,dn):Pe!=Number},dn.sticky=function(Br){return arguments.length?(ft=Br,Rt=null,dn):ft},dn.ratio=function(Br){return arguments.length?(Xt=Br,dn):Xt},dn.mode=function(Br){return arguments.length?(Et=Br+"",dn):Et},Gu(dn,he)};function Pl(he){return{x:he.x,y:he.y,dx:he.dx,dy:he.dy}}function bo(he,Pe){var Ne=he.x+Pe[3],qe=he.y+Pe[0],ot=he.dx-Pe[1]-Pe[3],ft=he.dy-Pe[0]-Pe[2];return ot<0&&(Ne+=ot/2,ot=0),ft<0&&(qe+=ft/2,ft=0),{x:Ne,y:qe,dx:ot,dy:ft}}n.random={normal:function(he,Pe){var Ne=arguments.length;return Ne<2&&(Pe=1),Ne<1&&(he=0),function(){var qe,ot,ft;do qe=Math.random()*2-1,ot=Math.random()*2-1,ft=qe*qe+ot*ot;while(!ft||ft>1);return he+Pe*qe*Math.sqrt(-2*Math.log(ft)/ft)}},logNormal:function(){var he=n.random.normal.apply(n,arguments);return function(){return Math.exp(he())}},bates:function(he){var Pe=n.random.irwinHall(he);return function(){return Pe()/he}},irwinHall:function(he){return function(){for(var Pe=0,Ne=0;Ne<he;Ne++)Pe+=Math.random();return Pe}}},n.scale={};function Ds(he){var Pe=he[0],Ne=he[he.length-1];return Pe<Ne?[Pe,Ne]:[Ne,Pe]}function Ku(he){return he.rangeExtent?he.rangeExtent():Ds(he.range())}function oh(he,Pe,Ne,qe){var ot=Ne(he[0],he[1]),ft=qe(Pe[0],Pe[1]);return function(Rt){return ft(ot(Rt))}}function Sf(he,Pe){var Ne=0,qe=he.length-1,ot=he[Ne],ft=he[qe],Rt;return ft<ot&&(Rt=Ne,Ne=qe,qe=Rt,Rt=ot,ot=ft,ft=Rt),he[Ne]=Pe.floor(ot),he[qe]=Pe.ceil(ft),he}function Rl(he){return he?{floor:function(Pe){return Math.floor(Pe/he)*he},ceil:function(Pe){return Math.ceil(Pe/he)*he}}:nc}var nc={floor:z,ceil:z};function Ju(he,Pe,Ne,qe){var ot=[],ft=[],Rt=0,Et=Math.min(he.length,Pe.length)-1;for(he[Et]<he[0]&&(he=he.slice().reverse(),Pe=Pe.slice().reverse());++Rt<=Et;)ot.push(Ne(he[Rt-1],he[Rt])),ft.push(qe(Pe[Rt-1],Pe[Rt]));return function(Xt){var Zt=n.bisect(he,Xt,1,Et)-1;return ft[Zt](ot[Zt](Xt))}}n.scale.linear=function(){return Ic([0,1],[0,1],$i,!1)};function Ic(he,Pe,Ne,qe){var ot,ft;function Rt(){var Xt=Math.min(he.length,Pe.length)>2?Ju:oh,Zt=qe?Ri:si;return ot=Xt(he,Pe,Zt,Ne),ft=Xt(Pe,he,Zt,$i),Et}function Et(Xt){return ot(Xt)}return Et.invert=function(Xt){return ft(Xt)},Et.domain=function(Xt){return arguments.length?(he=Xt.map(Number),Rt()):he},Et.range=function(Xt){return arguments.length?(Pe=Xt,Rt()):Pe},Et.rangeRound=function(Xt){return Et.range(Xt).interpolate(Vs)},Et.clamp=function(Xt){return arguments.length?(qe=Xt,Rt()):qe},Et.interpolate=function(Xt){return arguments.length?(Ne=Xt,Rt()):Ne},Et.ticks=function(Xt){return So(he,Xt)},Et.tickFormat=function(Xt,Zt){return d3_scale_linearTickFormat(he,Xt,Zt)},Et.nice=function(Xt){return vu(he,Xt),Rt()},Et.copy=function(){return Ic(he,Pe,Ne,qe)},Rt()}function Cr(he,Pe){return n.rebind(he,Pe,"range","rangeRound","interpolate","clamp")}function vu(he,Pe){return Sf(he,Rl(Ho(he,Pe)[2])),Sf(he,Rl(Ho(he,Pe)[2])),he}function Ho(he,Pe){Pe==null&&(Pe=10);var Ne=Ds(he),qe=Ne[1]-Ne[0],ot=Math.pow(10,Math.floor(Math.log(qe/Pe)/Math.LN10)),ft=Pe/qe*ot;return ft<=.15?ot*=10:ft<=.35?ot*=5:ft<=.75&&(ot*=2),Ne[0]=Math.ceil(Ne[0]/ot)*ot,Ne[1]=Math.floor(Ne[1]/ot)*ot+ot*.5,Ne[2]=ot,Ne}function So(he,Pe){return n.range.apply(n,Ho(he,Pe))}n.scale.log=function(){return pi(n.scale.linear().domain([0,1]),10,!0,[1,10])};function pi(he,Pe,Ne,qe){function ot(Et){return(Ne?Math.log(Et<0?0:Et):-Math.log(Et>0?0:-Et))/Math.log(Pe)}function ft(Et){return Ne?Math.pow(Pe,Et):-Math.pow(Pe,-Et)}function Rt(Et){return he(ot(Et))}return Rt.invert=function(Et){return ft(he.invert(Et))},Rt.domain=function(Et){return arguments.length?(Ne=Et[0]>=0,he.domain((qe=Et.map(Number)).map(ot)),Rt):qe},Rt.base=function(Et){return arguments.length?(Pe=+Et,he.domain(qe.map(ot)),Rt):Pe},Rt.nice=function(){var Et=Sf(qe.map(ot),Ne?Math:$u);return he.domain(Et),qe=Et.map(ft),Rt},Rt.ticks=function(){var Et=Ds(qe),Xt=[],Zt=Et[0],ir=Et[1],Ir=Math.floor(ot(Zt)),kr=Math.ceil(ot(ir)),sn=Pe%1?2:Pe;if(isFinite(kr-Ir)){if(Ne){for(;Ir<kr;Ir++)for(var dn=1;dn<sn;dn++)Xt.push(ft(Ir)*dn);Xt.push(ft(Ir))}else for(Xt.push(ft(Ir));Ir++<kr;)for(var dn=sn-1;dn>0;dn--)Xt.push(ft(Ir)*dn);for(Ir=0;Xt[Ir]<Zt;Ir++);for(kr=Xt.length;Xt[kr-1]>ir;kr--);Xt=Xt.slice(Ir,kr)}return Xt},Rt.copy=function(){return pi(he.copy(),Pe,Ne,qe)},Cr(Rt,he)}var $u={floor:function(he){return-Math.ceil(-he)},ceil:function(he){return-Math.floor(-he)}};n.scale.pow=function(){return ac(n.scale.linear(),1,[0,1])};function ac(he,Pe,Ne){var qe=du(Pe),ot=du(1/Pe);function ft(Rt){return he(qe(Rt))}return ft.invert=function(Rt){return ot(he.invert(Rt))},ft.domain=function(Rt){return arguments.length?(he.domain((Ne=Rt.map(Number)).map(qe)),ft):Ne},ft.ticks=function(Rt){return So(Ne,Rt)},ft.tickFormat=function(Rt,Et){return d3_scale_linearTickFormat(Ne,Rt,Et)},ft.nice=function(Rt){return ft.domain(vu(Ne,Rt))},ft.exponent=function(Rt){return arguments.length?(qe=du(Pe=Rt),ot=du(1/Pe),he.domain(Ne.map(qe)),ft):Pe},ft.copy=function(){return ac(he.copy(),Pe,Ne)},Cr(ft,he)}function du(he){return function(Pe){return Pe<0?-Math.pow(-Pe,he):Math.pow(Pe,he)}}n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return Is([],{t:"range",a:[[]]})};function Is(he,Pe){var Ne,qe,ot;function ft(Et){return qe[((Ne.get(Et)||(Pe.t==="range"?Ne.set(Et,he.push(Et)):NaN))-1)%qe.length]}function Rt(Et,Xt){return n.range(he.length).map(function(Zt){return Et+Xt*Zt})}return ft.domain=function(Et){if(!arguments.length)return he;he=[],Ne=new E;for(var Xt=-1,Zt=Et.length,ir;++Xt<Zt;)Ne.has(ir=Et[Xt])||Ne.set(ir,he.push(ir));return ft[Pe.t].apply(ft,Pe.a)},ft.range=function(Et){return arguments.length?(qe=Et,ot=0,Pe={t:"range",a:arguments},ft):qe},ft.rangePoints=function(Et,Xt){arguments.length<2&&(Xt=0);var Zt=Et[0],ir=Et[1],Ir=he.length<2?(Zt=(Zt+ir)/2,0):(ir-Zt)/(he.length-1+Xt);return qe=Rt(Zt+Ir*Xt/2,Ir),ot=0,Pe={t:"rangePoints",a:arguments},ft},ft.rangeRoundPoints=function(Et,Xt){arguments.length<2&&(Xt=0);var Zt=Et[0],ir=Et[1],Ir=he.length<2?(Zt=ir=Math.round((Zt+ir)/2),0):(ir-Zt)/(he.length-1+Xt)|0;return qe=Rt(Zt+Math.round(Ir*Xt/2+(ir-Zt-(he.length-1+Xt)*Ir)/2),Ir),ot=0,Pe={t:"rangeRoundPoints",a:arguments},ft},ft.rangeBands=function(Et,Xt,Zt){arguments.length<2&&(Xt=0),arguments.length<3&&(Zt=Xt);var ir=Et[1]<Et[0],Ir=Et[ir-0],kr=Et[1-ir],sn=(kr-Ir)/(he.length-Xt+2*Zt);return qe=Rt(Ir+sn*Zt,sn),ir&&qe.reverse(),ot=sn*(1-Xt),Pe={t:"rangeBands",a:arguments},ft},ft.rangeRoundBands=function(Et,Xt,Zt){arguments.length<2&&(Xt=0),arguments.length<3&&(Zt=Xt);var ir=Et[1]<Et[0],Ir=Et[ir-0],kr=Et[1-ir],sn=Math.floor((kr-Ir)/(he.length-Xt+2*Zt));return qe=Rt(Ir+Math.round((kr-Ir-(he.length-Xt)*sn)/2),sn),ir&&qe.reverse(),ot=Math.round(sn*(1-Xt)),Pe={t:"rangeRoundBands",a:arguments},ft},ft.rangeBand=function(){return ot},ft.rangeExtent=function(){return Ds(Pe.a[0])},ft.copy=function(){return Is(he,Pe)},ft.domain(he)}n.scale.category10=function(){return n.scale.ordinal().range(sh)},n.scale.category20=function(){return n.scale.ordinal().range(Dl)},n.scale.category20b=function(){return n.scale.ordinal().range(Qu)},n.scale.category20c=function(){return n.scale.ordinal().range(Kl)};var sh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Vt),Dl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Vt),Qu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Vt),Kl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Vt);n.scale.quantile=function(){return Il([],[])};function Il(he,Pe){var Ne;function qe(){var ft=0,Rt=Pe.length;for(Ne=[];++ft<Rt;)Ne[ft-1]=n.quantile(he,ft/Rt);return ot}function ot(ft){if(!isNaN(ft=+ft))return Pe[n.bisect(Ne,ft)]}return ot.domain=function(ft){return arguments.length?(he=ft.map(m).filter(h).sort(l),qe()):he},ot.range=function(ft){return arguments.length?(Pe=ft,qe()):Pe},ot.quantiles=function(){return Ne},ot.invertExtent=function(ft){return ft=Pe.indexOf(ft),ft<0?[NaN,NaN]:[ft>0?Ne[ft-1]:he[0],ft<Ne.length?Ne[ft]:he[he.length-1]]},ot.copy=function(){return Il(he,Pe)},qe()}n.scale.quantize=function(){return ks(0,1,[0,1])};function ks(he,Pe,Ne){var qe,ot;function ft(Et){return Ne[Math.max(0,Math.min(ot,Math.floor(qe*(Et-he))))]}function Rt(){return qe=Ne.length/(Pe-he),ot=Ne.length-1,ft}return ft.domain=function(Et){return arguments.length?(he=+Et[0],Pe=+Et[Et.length-1],Rt()):[he,Pe]},ft.range=function(Et){return arguments.length?(Ne=Et,Rt()):Ne},ft.invertExtent=function(Et){return Et=Ne.indexOf(Et),Et=Et<0?NaN:Et/qe+he,[Et,Et+1/qe]},ft.copy=function(){return ks(he,Pe,Ne)},Rt()}n.scale.threshold=function(){return qu([.5],[0,1])};function qu(he,Pe){function Ne(qe){if(qe<=qe)return Pe[n.bisect(he,qe)]}return Ne.domain=function(qe){return arguments.length?(he=qe,Ne):he},Ne.range=function(qe){return arguments.length?(Pe=qe,Ne):Pe},Ne.invertExtent=function(qe){return qe=Pe.indexOf(qe),[he[qe-1],he[qe]]},Ne.copy=function(){return qu(he,Pe)},Ne}n.scale.identity=function(){return Xi([0,1])};function Xi(he){function Pe(Ne){return+Ne}return Pe.invert=Pe,Pe.domain=Pe.range=function(Ne){return arguments.length?(he=Ne.map(Pe),Pe):he},Pe.ticks=function(Ne){return So(he,Ne)},Pe.tickFormat=function(Ne,qe){return d3_scale_linearTickFormat(he,Ne,qe)},Pe.copy=function(){return Xi(he)},Pe}n.svg={};function ef(){return 0}n.svg.arc=function(){var he=lh,Pe=ws,Ne=ef,qe=ic,ot=Ef,ft=oc,Rt=kc;function Et(){var Zt=Math.max(0,+he.apply(this,arguments)),ir=Math.max(0,+Pe.apply(this,arguments)),Ir=ot.apply(this,arguments)-nt,kr=ft.apply(this,arguments)-nt,sn=Math.abs(kr-Ir),dn=Ir>kr?0:1;if(ir<Zt&&(Br=ir,ir=Zt,Zt=Br),sn>=je)return Xt(ir,dn)+(Zt?Xt(Zt,1-dn):"")+"Z";var Br,Wr,nn,gn,Tn=0,un=0,Rn,ha,Sa,la,Ta,Ea,ai,ka,ti=[];if((gn=(+Rt.apply(this,arguments)||0)/2)&&(nn=qe===ic?Math.sqrt(Zt*Zt+ir*ir):+qe.apply(this,arguments),dn||(un*=-1),ir&&(un=Jt(nn/ir*Math.sin(gn))),Zt&&(Tn=Jt(nn/Zt*Math.sin(gn)))),ir){Rn=ir*Math.cos(Ir+un),ha=ir*Math.sin(Ir+un),Sa=ir*Math.cos(kr-un),la=ir*Math.sin(kr-un);var Ai=Math.abs(kr-Ir-2*un)<=Ee?0:1;if(un&&Cf(Rn,ha,Sa,la)===dn^Ai){var wo=(Ir+kr)/2;Rn=ir*Math.cos(wo),ha=ir*Math.sin(wo),Sa=la=null}}else Rn=ha=0;if(Zt){Ta=Zt*Math.cos(kr-Tn),Ea=Zt*Math.sin(kr-Tn),ai=Zt*Math.cos(Ir+Tn),ka=Zt*Math.sin(Ir+Tn);var Ii=Math.abs(Ir-kr+2*Tn)<=Ee?0:1;if(Tn&&Cf(Ta,Ea,ai,ka)===1-dn^Ii){var ua=(Ir+kr)/2;Ta=Zt*Math.cos(ua),Ea=Zt*Math.sin(ua),ai=ka=null}}else Ta=Ea=0;if(sn>me&&(Br=Math.min(Math.abs(ir-Zt)/2,+Ne.apply(this,arguments)))>.001){Wr=Zt<ir^dn?0:1;var Ja=Br,Fa=Br;if(sn<Ee){var xi=ai==null?[Ta,Ea]:Sa==null?[Rn,ha]:An([Rn,ha],[ai,ka],[Sa,la],[Ta,Ea]),to=Rn-xi[0],Mi=ha-xi[1],zo=Sa-xi[0],Do=la-xi[1],Go=1/Math.sin(Math.acos((to*zo+Mi*Do)/(Math.sqrt(to*to+Mi*Mi)*Math.sqrt(zo*zo+Do*Do)))/2),qi=Math.sqrt(xi[0]*xi[0]+xi[1]*xi[1]);Fa=Math.min(Br,(Zt-qi)/(Go-1)),Ja=Math.min(Br,(ir-qi)/(Go+1))}if(Sa!=null){var Wo=Lf(ai==null?[Ta,Ea]:[ai,ka],[Rn,ha],ir,Ja,dn),ga=Lf([Sa,la],[Ta,Ea],ir,Ja,dn);Br===Ja?ti.push("M",Wo[0],"A",Ja,",",Ja," 0 0,",Wr," ",Wo[1],"A",ir,",",ir," 0 ",1-dn^Cf(Wo[1][0],Wo[1][1],ga[1][0],ga[1][1]),",",dn," ",ga[1],"A",Ja,",",Ja," 0 0,",Wr," ",ga[0]):ti.push("M",Wo[0],"A",Ja,",",Ja," 0 1,",Wr," ",ga[0])}else ti.push("M",Rn,",",ha);if(ai!=null){var Wa=Lf([Rn,ha],[ai,ka],Zt,-Fa,dn),_o=Lf([Ta,Ea],Sa==null?[Rn,ha]:[Sa,la],Zt,-Fa,dn);Br===Fa?ti.push("L",_o[0],"A",Fa,",",Fa," 0 0,",Wr," ",_o[1],"A",Zt,",",Zt," 0 ",dn^Cf(_o[1][0],_o[1][1],Wa[1][0],Wa[1][1]),",",1-dn," ",Wa[1],"A",Fa,",",Fa," 0 0,",Wr," ",Wa[0]):ti.push("L",_o[0],"A",Fa,",",Fa," 0 0,",Wr," ",Wa[0])}else ti.push("L",Ta,",",Ea)}else ti.push("M",Rn,",",ha),Sa!=null&&ti.push("A",ir,",",ir," 0 ",Ai,",",dn," ",Sa,",",la),ti.push("L",Ta,",",Ea),ai!=null&&ti.push("A",Zt,",",Zt," 0 ",Ii,",",1-dn," ",ai,",",ka);return ti.push("Z"),ti.join("")}function Xt(Zt,ir){return"M0,"+Zt+"A"+Zt+","+Zt+" 0 1,"+ir+" 0,"+-Zt+"A"+Zt+","+Zt+" 0 1,"+ir+" 0,"+Zt}return Et.innerRadius=function(Zt){return arguments.length?(he=hn(Zt),Et):he},Et.outerRadius=function(Zt){return arguments.length?(Pe=hn(Zt),Et):Pe},Et.cornerRadius=function(Zt){return arguments.length?(Ne=hn(Zt),Et):Ne},Et.padRadius=function(Zt){return arguments.length?(qe=Zt==ic?ic:hn(Zt),Et):qe},Et.startAngle=function(Zt){return arguments.length?(ot=hn(Zt),Et):ot},Et.endAngle=function(Zt){return arguments.length?(ft=hn(Zt),Et):ft},Et.padAngle=function(Zt){return arguments.length?(Rt=hn(Zt),Et):Rt},Et.centroid=function(){var Zt=(+he.apply(this,arguments)+ +Pe.apply(this,arguments))/2,ir=(+ot.apply(this,arguments)+ +ft.apply(this,arguments))/2-nt;return[Math.cos(ir)*Zt,Math.sin(ir)*Zt]},Et};var ic="auto";function lh(he){return he.innerRadius}function ws(he){return he.outerRadius}function Ef(he){return he.startAngle}function oc(he){return he.endAngle}function kc(he){return he&&he.padAngle}function Cf(he,Pe,Ne,qe){return(he-Ne)*Pe-(Pe-qe)*he>0?0:1}function Lf(he,Pe,Ne,qe,ot){var ft=he[0]-Pe[0],Rt=he[1]-Pe[1],Et=(ot?qe:-qe)/Math.sqrt(ft*ft+Rt*Rt),Xt=Et*Rt,Zt=-Et*ft,ir=he[0]+Xt,Ir=he[1]+Zt,kr=Pe[0]+Xt,sn=Pe[1]+Zt,dn=(ir+kr)/2,Br=(Ir+sn)/2,Wr=kr-ir,nn=sn-Ir,gn=Wr*Wr+nn*nn,Tn=Ne-qe,un=ir*sn-kr*Ir,Rn=(nn<0?-1:1)*Math.sqrt(Math.max(0,Tn*Tn*gn-un*un)),ha=(un*nn-Wr*Rn)/gn,Sa=(-un*Wr-nn*Rn)/gn,la=(un*nn+Wr*Rn)/gn,Ta=(-un*Wr+nn*Rn)/gn,Ea=ha-dn,ai=Sa-Br,ka=la-dn,ti=Ta-Br;return Ea*Ea+ai*ai>ka*ka+ti*ti&&(ha=la,Sa=Ta),[[ha-Xt,Sa-Zt],[ha*Ne/Tn,Sa*Ne/Tn]]}function Ts(){return!0}function _f(he){var Pe=Da,Ne=Ma,qe=Ts,ot=Qi,ft=ot.key,Rt=.7;function Et(Xt){var Zt=[],ir=[],Ir=-1,kr=Xt.length,sn,dn=hn(Pe),Br=hn(Ne);function Wr(){Zt.push("M",ot(he(ir),Rt))}for(;++Ir<kr;)qe.call(this,sn=Xt[Ir],Ir)?ir.push([+dn.call(this,sn,Ir),+Br.call(this,sn,Ir)]):ir.length&&(Wr(),ir=[]);return ir.length&&Wr(),Zt.length?Zt.join(""):null}return Et.x=function(Xt){return arguments.length?(Pe=Xt,Et):Pe},Et.y=function(Xt){return arguments.length?(Ne=Xt,Et):Ne},Et.defined=function(Xt){return arguments.length?(qe=Xt,Et):qe},Et.interpolate=function(Xt){return arguments.length?(typeof Xt=="function"?ft=ot=Xt:ft=(ot=Jl.get(Xt)||Qi).key,Et):ft},Et.tension=function(Xt){return arguments.length?(Rt=Xt,Et):Rt},Et}n.svg.line=function(){return _f(z)};var Jl=n.map({linear:Qi,"linear-closed":vl,step:Oc,"step-before":pu,"step-after":sc,basis:$l,"basis-open":tf,"basis-closed":qs,bundle:Dh,cardinal:zc,"cardinal-open":Pf,"cardinal-closed":uh,monotone:kf});Jl.forEach(function(he,Pe){Pe.key=he,Pe.closed=/-closed$/.test(he)});function Qi(he){return he.length>1?he.join("L"):he+"Z"}function vl(he){return he.join("L")+"Z"}function Oc(he){for(var Pe=0,Ne=he.length,qe=he[0],ot=[qe[0],",",qe[1]];++Pe<Ne;)ot.push("H",(qe[0]+(qe=he[Pe])[0])/2,"V",qe[1]);return Ne>1&&ot.push("H",qe[0]),ot.join("")}function pu(he){for(var Pe=0,Ne=he.length,qe=he[0],ot=[qe[0],",",qe[1]];++Pe<Ne;)ot.push("V",(qe=he[Pe])[1],"H",qe[0]);return ot.join("")}function sc(he){for(var Pe=0,Ne=he.length,qe=he[0],ot=[qe[0],",",qe[1]];++Pe<Ne;)ot.push("H",(qe=he[Pe])[0],"V",qe[1]);return ot.join("")}function Pf(he,Pe){return he.length<4?Qi(he):he[1]+ss(he.slice(1,-1),Rf(he,Pe))}function uh(he,Pe){return he.length<3?vl(he):he[0]+ss((he.push(he[0]),he),Rf([he[he.length-2]].concat(he,[he[1]]),Pe))}function zc(he,Pe){return he.length<3?Qi(he):he[0]+ss(he,Rf(he,Pe))}function ss(he,Pe){if(Pe.length<1||he.length!=Pe.length&&he.length!=Pe.length+2)return Qi(he);var Ne=he.length!=Pe.length,qe="",ot=he[0],ft=he[1],Rt=Pe[0],Et=Rt,Xt=1;if(Ne&&(qe+="Q"+(ft[0]-Rt[0]*2/3)+","+(ft[1]-Rt[1]*2/3)+","+ft[0]+","+ft[1],ot=he[1],Xt=2),Pe.length>1){Et=Pe[1],ft=he[Xt],Xt++,qe+="C"+(ot[0]+Rt[0])+","+(ot[1]+Rt[1])+","+(ft[0]-Et[0])+","+(ft[1]-Et[1])+","+ft[0]+","+ft[1];for(var Zt=2;Zt<Pe.length;Zt++,Xt++)ft=he[Xt],Et=Pe[Zt],qe+="S"+(ft[0]-Et[0])+","+(ft[1]-Et[1])+","+ft[0]+","+ft[1]}if(Ne){var ir=he[Xt];qe+="Q"+(ft[0]+Et[0]*2/3)+","+(ft[1]+Et[1]*2/3)+","+ir[0]+","+ir[1]}return qe}function Rf(he,Pe){for(var Ne=[],qe=(1-Pe)/2,ot,ft=he[0],Rt=he[1],Et=1,Xt=he.length;++Et<Xt;)ot=ft,ft=Rt,Rt=he[Et],Ne.push([qe*(Rt[0]-ot[0]),qe*(Rt[1]-ot[1])]);return Ne}function $l(he){if(he.length<3)return Qi(he);var Pe=1,Ne=he.length,qe=he[0],ot=qe[0],ft=qe[1],Rt=[ot,ot,ot,(qe=he[1])[0]],Et=[ft,ft,ft,qe[1]],Xt=[ot,",",ft,"L",hs(el,Rt),",",hs(el,Et)];for(he.push(he[Ne-1]);++Pe<=Ne;)qe=he[Pe],Rt.shift(),Rt.push(qe[0]),Et.shift(),Et.push(qe[1]),As(Xt,Rt,Et);return he.pop(),Xt.push("L",qe),Xt.join("")}function tf(he){if(he.length<4)return Qi(he);for(var Pe=[],Ne=-1,qe=he.length,ot,ft=[0],Rt=[0];++Ne<3;)ot=he[Ne],ft.push(ot[0]),Rt.push(ot[1]);for(Pe.push(hs(el,ft)+","+hs(el,Rt)),--Ne;++Ne<qe;)ot=he[Ne],ft.shift(),ft.push(ot[0]),Rt.shift(),Rt.push(ot[1]),As(Pe,ft,Rt);return Pe.join("")}function qs(he){for(var Pe,Ne=-1,qe=he.length,ot=qe+4,ft,Rt=[],Et=[];++Ne<4;)ft=he[Ne%qe],Rt.push(ft[0]),Et.push(ft[1]);for(Pe=[hs(el,Rt),",",hs(el,Et)],--Ne;++Ne<ot;)ft=he[Ne%qe],Rt.shift(),Rt.push(ft[0]),Et.shift(),Et.push(ft[1]),As(Pe,Rt,Et);return Pe.join("")}function Dh(he,Pe){var Ne=he.length-1;if(Ne)for(var qe=he[0][0],ot=he[0][1],ft=he[Ne][0]-qe,Rt=he[Ne][1]-ot,Et=-1,Xt,Zt;++Et<=Ne;)Xt=he[Et],Zt=Et/Ne,Xt[0]=Pe*Xt[0]+(1-Pe)*(qe+Zt*ft),Xt[1]=Pe*Xt[1]+(1-Pe)*(ot+Zt*Rt);return $l(he)}function hs(he,Pe){return he[0]*Pe[0]+he[1]*Pe[1]+he[2]*Pe[2]+he[3]*Pe[3]}var Df=[0,2/3,1/3,0],Gs=[0,1/3,2/3,0],el=[0,1/6,2/3,1/6];function As(he,Pe,Ne){he.push("C",hs(Df,Pe),",",hs(Df,Ne),",",hs(Gs,Pe),",",hs(Gs,Ne),",",hs(el,Pe),",",hs(el,Ne))}function Ms(he,Pe){return(Pe[1]-he[1])/(Pe[0]-he[0])}function If(he){for(var Pe=0,Ne=he.length-1,qe=[],ot=he[0],ft=he[1],Rt=qe[0]=Ms(ot,ft);++Pe<Ne;)qe[Pe]=(Rt+(Rt=Ms(ot=ft,ft=he[Pe+1])))/2;return qe[Pe]=Rt,qe}function rf(he){for(var Pe=[],Ne,qe,ot,ft,Rt=If(he),Et=-1,Xt=he.length-1;++Et<Xt;)Ne=Ms(he[Et],he[Et+1]),d(Ne)<me?Rt[Et]=Rt[Et+1]=0:(qe=Rt[Et]/Ne,ot=Rt[Et+1]/Ne,ft=qe*qe+ot*ot,ft>9&&(ft=Ne*3/Math.sqrt(ft),Rt[Et]=ft*qe,Rt[Et+1]=ft*ot));for(Et=-1;++Et<=Xt;)ft=(he[Math.min(Xt,Et+1)][0]-he[Math.max(0,Et-1)][0])/(6*(1+Rt[Et]*Rt[Et])),Pe.push([ft||0,Rt[Et]*ft||0]);return Pe}function kf(he){return he.length<3?Qi(he):he[0]+ss(he,rf(he))}n.svg.line.radial=function(){var he=_f(nf);return he.radius=he.x,delete he.x,he.angle=he.y,delete he.y,he};function nf(he){for(var Pe,Ne=-1,qe=he.length,ot,ft;++Ne<qe;)Pe=he[Ne],ot=Pe[0],ft=Pe[1]-nt,Pe[0]=ot*Math.cos(ft),Pe[1]=ot*Math.sin(ft);return he}function Ws(he){var Pe=Da,Ne=Da,qe=0,ot=Ma,ft=Ts,Rt=Qi,Et=Rt.key,Xt=Rt,Zt="L",ir=.7;function Ir(kr){var sn=[],dn=[],Br=[],Wr=-1,nn=kr.length,gn,Tn=hn(Pe),un=hn(qe),Rn=Pe===Ne?function(){return Sa}:hn(Ne),ha=qe===ot?function(){return la}:hn(ot),Sa,la;function Ta(){sn.push("M",Rt(he(Br),ir),Zt,Xt(he(dn.reverse()),ir),"Z")}for(;++Wr<nn;)ft.call(this,gn=kr[Wr],Wr)?(dn.push([Sa=+Tn.call(this,gn,Wr),la=+un.call(this,gn,Wr)]),Br.push([+Rn.call(this,gn,Wr),+ha.call(this,gn,Wr)])):dn.length&&(Ta(),dn=[],Br=[]);return dn.length&&Ta(),sn.length?sn.join(""):null}return Ir.x=function(kr){return arguments.length?(Pe=Ne=kr,Ir):Ne},Ir.x0=function(kr){return arguments.length?(Pe=kr,Ir):Pe},Ir.x1=function(kr){return arguments.length?(Ne=kr,Ir):Ne},Ir.y=function(kr){return arguments.length?(qe=ot=kr,Ir):ot},Ir.y0=function(kr){return arguments.length?(qe=kr,Ir):qe},Ir.y1=function(kr){return arguments.length?(ot=kr,Ir):ot},Ir.defined=function(kr){return arguments.length?(ft=kr,Ir):ft},Ir.interpolate=function(kr){return arguments.length?(typeof kr=="function"?Et=Rt=kr:Et=(Rt=Jl.get(kr)||Qi).key,Xt=Rt.reverse||Rt,Zt=Rt.closed?"M":"L",Ir):Et},Ir.tension=function(kr){return arguments.length?(ir=kr,Ir):ir},Ir}pu.reverse=sc,sc.reverse=pu,n.svg.area=function(){return Ws(z)},n.svg.area.radial=function(){var he=Ws(nf);return he.radius=he.x,delete he.x,he.innerRadius=he.x0,delete he.x0,he.outerRadius=he.x1,delete he.x1,he.angle=he.y,delete he.y,he.startAngle=he.y0,delete he.y0,he.endAngle=he.y1,delete he.y1,he};function lc(he){return he.source}function gu(he){return he.target}n.svg.chord=function(){var he=lc,Pe=gu,Ne=af,qe=Ef,ot=oc;function ft(ir,Ir){var kr=Rt(this,he,ir,Ir),sn=Rt(this,Pe,ir,Ir);return"M"+kr.p0+Xt(kr.r,kr.p1,kr.a1-kr.a0)+(Et(kr,sn)?Zt(kr.r,kr.p1,kr.r,kr.p0):Zt(kr.r,kr.p1,sn.r,sn.p0)+Xt(sn.r,sn.p1,sn.a1-sn.a0)+Zt(sn.r,sn.p1,kr.r,kr.p0))+"Z"}function Rt(ir,Ir,kr,sn){var dn=Ir.call(ir,kr,sn),Br=Ne.call(ir,dn,sn),Wr=qe.call(ir,dn,sn)-nt,nn=ot.call(ir,dn,sn)-nt;return{r:Br,a0:Wr,a1:nn,p0:[Br*Math.cos(Wr),Br*Math.sin(Wr)],p1:[Br*Math.cos(nn),Br*Math.sin(nn)]}}function Et(ir,Ir){return ir.a0==Ir.a0&&ir.a1==Ir.a1}function Xt(ir,Ir,kr){return"A"+ir+","+ir+" 0 "+ +(kr>Ee)+",1 "+Ir}function Zt(ir,Ir,kr,sn){return"Q 0,0 "+sn}return ft.radius=function(ir){return arguments.length?(Ne=hn(ir),ft):Ne},ft.source=function(ir){return arguments.length?(he=hn(ir),ft):he},ft.target=function(ir){return arguments.length?(Pe=hn(ir),ft):Pe},ft.startAngle=function(ir){return arguments.length?(qe=hn(ir),ft):qe},ft.endAngle=function(ir){return arguments.length?(ot=hn(ir),ft):ot},ft};function af(he){return he.radius}n.svg.diagonal=function(){var he=lc,Pe=gu,Ne=Of;function qe(ot,ft){var Rt=he.call(this,ot,ft),Et=Pe.call(this,ot,ft),Xt=(Rt.y+Et.y)/2,Zt=[Rt,{x:Rt.x,y:Xt},{x:Et.x,y:Xt},Et];return Zt=Zt.map(Ne),"M"+Zt[0]+"C"+Zt[1]+" "+Zt[2]+" "+Zt[3]}return qe.source=function(ot){return arguments.length?(he=hn(ot),qe):he},qe.target=function(ot){return arguments.length?(Pe=hn(ot),qe):Pe},qe.projection=function(ot){return arguments.length?(Ne=ot,qe):Ne},qe};function Of(he){return[he.x,he.y]}n.svg.diagonal.radial=function(){var he=n.svg.diagonal(),Pe=Of,Ne=he.projection;return he.projection=function(qe){return arguments.length?Ne(Fc(Pe=qe)):Pe},he};function Fc(he){return function(){var Pe=he.apply(this,arguments),Ne=Pe[0],qe=Pe[1]-nt;return[Ne*Math.cos(qe),Ne*Math.sin(qe)]}}n.svg.symbol=function(){var he=st,Pe=$e;function Ne(qe,ot){return(At.get(he.call(this,qe,ot))||yt)(Pe.call(this,qe,ot))}return Ne.type=function(qe){return arguments.length?(he=hn(qe),Ne):he},Ne.size=function(qe){return arguments.length?(Pe=hn(qe),Ne):Pe},Ne};function $e(){return 64}function st(){return"circle"}function yt(he){var Pe=Math.sqrt(he/Ee);return"M0,"+Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+-Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+Pe+"Z"}var At=n.map({circle:yt,cross:function(he){var Pe=Math.sqrt(he/5)/2;return"M"+-3*Pe+","+-Pe+"H"+-Pe+"V"+-3*Pe+"H"+Pe+"V"+-Pe+"H"+3*Pe+"V"+Pe+"H"+Pe+"V"+3*Pe+"H"+-Pe+"V"+Pe+"H"+-3*Pe+"Z"},diamond:function(he){var Pe=Math.sqrt(he/(2*kt)),Ne=Pe*kt;return"M0,"+-Pe+"L"+Ne+",0 0,"+Pe+" "+-Ne+",0Z"},square:function(he){var Pe=Math.sqrt(he)/2;return"M"+-Pe+","+-Pe+"L"+Pe+","+-Pe+" "+Pe+","+Pe+" "+-Pe+","+Pe+"Z"},"triangle-down":function(he){var Pe=Math.sqrt(he/Bt),Ne=Pe*Bt/2;return"M0,"+Ne+"L"+Pe+","+-Ne+" "+-Pe+","+-Ne+"Z"},"triangle-up":function(he){var Pe=Math.sqrt(he/Bt),Ne=Pe*Bt/2;return"M0,"+-Ne+"L"+Pe+","+Ne+" "+-Pe+","+Ne+"Z"}});n.svg.symbolTypes=At.keys();var Bt=Math.sqrt(3),kt=Math.tan(30*dt);j.transition=function(he){for(var Pe=Ur||++Rr,Ne=Nn(he),qe=[],ot,ft,Rt=Yr||{time:Date.now(),ease:Wl,delay:0,duration:250},Et=-1,Xt=this.length;++Et<Xt;){qe.push(ot=[]);for(var Zt=this[Et],ir=-1,Ir=Zt.length;++ir<Ir;)(ft=Zt[ir])&&Yn(ft,ir,Ne,Pe,Rt),ot.push(ft)}return br(qe,Ne,Pe)},j.interrupt=function(he){return this.each(he==null?Ht:xr(Nn(he)))};var Ht=xr(Nn());function xr(he){return function(){var Pe,Ne,qe;(Pe=this[he])&&(qe=Pe[Ne=Pe.active])&&(qe.timer.c=null,qe.timer.t=NaN,--Pe.count?delete Pe[Ne]:delete this[he],Pe.active+=.5,qe.event&&qe.event.interrupt.call(this,this.__data__,qe.index))}}function br(he,Pe,Ne){return re(he,ur),he.namespace=Pe,he.id=Ne,he}var ur=[],Rr=0,Ur,Yr;ur.call=j.call,ur.empty=j.empty,ur.node=j.node,ur.size=j.size,n.transition=function(he,Pe){return he&&he.transition?Ur?he.transition(Pe):he:n.selection().transition(he)},n.transition.prototype=ur,ur.select=function(he){var Pe=this.id,Ne=this.namespace,qe=[],ot,ft,Rt;he=ue(he);for(var Et=-1,Xt=this.length;++Et<Xt;){qe.push(ot=[]);for(var Zt=this[Et],ir=-1,Ir=Zt.length;++ir<Ir;)(Rt=Zt[ir])&&(ft=he.call(Rt,Rt.__data__,ir,Et))?("__data__"in Rt&&(ft.__data__=Rt.__data__),Yn(ft,ir,Ne,Pe,Rt[Ne][Pe]),ot.push(ft)):ot.push(null)}return br(qe,Ne,Pe)},ur.selectAll=function(he){var Pe=this.id,Ne=this.namespace,qe=[],ot,ft,Rt,Et,Xt;he=ae(he);for(var Zt=-1,ir=this.length;++Zt<ir;)for(var Ir=this[Zt],kr=-1,sn=Ir.length;++kr<sn;)if(Rt=Ir[kr]){Xt=Rt[Ne][Pe],ft=he.call(Rt,Rt.__data__,kr,Zt),qe.push(ot=[]);for(var dn=-1,Br=ft.length;++dn<Br;)(Et=ft[dn])&&Yn(Et,dn,Ne,Pe,Xt),ot.push(Et)}return br(qe,Ne,Pe)},ur.filter=function(he){var Pe=[],Ne,qe,ot;typeof he!="function"&&(he=ut(he));for(var ft=0,Rt=this.length;ft<Rt;ft++){Pe.push(Ne=[]);for(var qe=this[ft],Et=0,Xt=qe.length;Et<Xt;Et++)(ot=qe[Et])&&he.call(ot,ot.__data__,Et,ft)&&Ne.push(ot)}return br(Pe,this.namespace,this.id)},ur.tween=function(he,Pe){var Ne=this.id,qe=this.namespace;return arguments.length<2?this.node()[qe][Ne].tween.get(he):rt(this,Pe==null?function(ot){ot[qe][Ne].tween.remove(he)}:function(ot){ot[qe][Ne].tween.set(he,Pe)})};function fn(he,Pe,Ne,qe){var ot=he.id,ft=he.namespace;return rt(he,typeof Ne=="function"?function(Rt,Et,Xt){Rt[ft][ot].tween.set(Pe,qe(Ne.call(Rt,Rt.__data__,Et,Xt)))}:(Ne=qe(Ne),function(Rt){Rt[ft][ot].tween.set(Pe,Ne)}))}ur.attr=function(he,Pe){if(arguments.length<2){for(Pe in he)this.attr(Pe,he[Pe]);return this}var Ne=he=="transform"?Ya:$i,qe=n.ns.qualify(he);function ot(){this.removeAttribute(qe)}function ft(){this.removeAttributeNS(qe.space,qe.local)}function Rt(Xt){return Xt==null?ot:(Xt+="",function(){var Zt=this.getAttribute(qe),ir;return Zt!==Xt&&(ir=Ne(Zt,Xt),function(Ir){this.setAttribute(qe,ir(Ir))})})}function Et(Xt){return Xt==null?ft:(Xt+="",function(){var Zt=this.getAttributeNS(qe.space,qe.local),ir;return Zt!==Xt&&(ir=Ne(Zt,Xt),function(Ir){this.setAttributeNS(qe.space,qe.local,ir(Ir))})})}return fn(this,"attr."+he,Pe,qe.local?Et:Rt)},ur.attrTween=function(he,Pe){var Ne=n.ns.qualify(he);function qe(ft,Rt){var Et=Pe.call(this,ft,Rt,this.getAttribute(Ne));return Et&&function(Xt){this.setAttribute(Ne,Et(Xt))}}function ot(ft,Rt){var Et=Pe.call(this,ft,Rt,this.getAttributeNS(Ne.space,Ne.local));return Et&&function(Xt){this.setAttributeNS(Ne.space,Ne.local,Et(Xt))}}return this.tween("attr."+he,Ne.local?ot:qe)},ur.style=function(he,Pe,Ne){var qe=arguments.length;if(qe<3){if(typeof he!="string"){qe<2&&(Pe="");for(Ne in he)this.style(Ne,he[Ne],Pe);return this}Ne=""}function ot(){this.style.removeProperty(he)}function ft(Rt){return Rt==null?ot:(Rt+="",function(){var Et=r(this).getComputedStyle(this,null).getPropertyValue(he),Xt;return Et!==Rt&&(Xt=$i(Et,Rt),function(Zt){this.style.setProperty(he,Xt(Zt),Ne)})})}return fn(this,"style."+he,Pe,ft)},ur.styleTween=function(he,Pe,Ne){arguments.length<3&&(Ne="");function qe(ot,ft){var Rt=Pe.call(this,ot,ft,r(this).getComputedStyle(this,null).getPropertyValue(he));return Rt&&function(Et){this.style.setProperty(he,Rt(Et),Ne)}}return this.tween("style."+he,qe)},ur.text=function(he){return fn(this,"text",he,Pn)};function Pn(he){return he==null&&(he=""),function(){this.textContent=he}}ur.remove=function(){var he=this.namespace;return this.each("end.transition",function(){var Pe;this[he].count<2&&(Pe=this.parentNode)&&Pe.removeChild(this)})},ur.ease=function(he){var Pe=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Pe].ease:(typeof he!="function"&&(he=n.ease.apply(n,arguments)),rt(this,function(qe){qe[Ne][Pe].ease=he}))},ur.delay=function(he){var Pe=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Pe].delay:rt(this,typeof he=="function"?function(qe,ot,ft){qe[Ne][Pe].delay=+he.call(qe,qe.__data__,ot,ft)}:(he=+he,function(qe){qe[Ne][Pe].delay=he}))},ur.duration=function(he){var Pe=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Pe].duration:rt(this,typeof he=="function"?function(qe,ot,ft){qe[Ne][Pe].duration=Math.max(1,he.call(qe,qe.__data__,ot,ft))}:(he=Math.max(1,he),function(qe){qe[Ne][Pe].duration=he}))},ur.each=function(he,Pe){var Ne=this.id,qe=this.namespace;if(arguments.length<2){var ot=Yr,ft=Ur;try{Ur=Ne,rt(this,function(Rt,Et,Xt){Yr=Rt[qe][Ne],he.call(Rt,Rt.__data__,Et,Xt)})}finally{Yr=ot,Ur=ft}}else rt(this,function(Rt){var Et=Rt[qe][Ne];(Et.event||(Et.event=n.dispatch("start","end","interrupt"))).on(he,Pe)});return this},ur.transition=function(){for(var he=this.id,Pe=++Rr,Ne=this.namespace,qe=[],ot,ft,Rt,Et,Xt=0,Zt=this.length;Xt<Zt;Xt++){qe.push(ot=[]);for(var ft=this[Xt],ir=0,Ir=ft.length;ir<Ir;ir++)(Rt=ft[ir])&&(Et=Rt[Ne][he],Yn(Rt,ir,Ne,Pe,{time:Et.time,ease:Et.ease,delay:Et.delay+Et.duration,duration:Et.duration})),ot.push(Rt)}return br(qe,Ne,Pe)};function Nn(he){return he==null?"__transition__":"__transition_"+he+"__"}function Yn(he,Pe,Ne,qe,ot){var ft=he[Ne]||(he[Ne]={active:0,count:0}),Rt=ft[qe],Et,Xt,Zt,ir,Ir;function kr(Br){var Wr=Rt.delay;if(Xt.t=Wr+Et,Wr<=Br)return sn(Br-Wr);Xt.c=sn}function sn(Br){var Wr=ft.active,nn=ft[Wr];nn&&(nn.timer.c=null,nn.timer.t=NaN,--ft.count,delete ft[Wr],nn.event&&nn.event.interrupt.call(he,he.__data__,nn.index));for(var gn in ft)if(+gn<qe){var Tn=ft[gn];Tn.timer.c=null,Tn.timer.t=NaN,--ft.count,delete ft[gn]}Xt.c=dn,Vn(function(){return Xt.c&&dn(Br||1)&&(Xt.c=null,Xt.t=NaN),1},0,Et),ft.active=qe,Rt.event&&Rt.event.start.call(he,he.__data__,Pe),Ir=[],Rt.tween.forEach(function(un,Rn){(Rn=Rn.call(he,he.__data__,Pe))&&Ir.push(Rn)}),ir=Rt.ease,Zt=Rt.duration}function dn(Br){for(var Wr=Br/Zt,nn=ir(Wr),gn=Ir.length;gn>0;)Ir[--gn].call(he,nn);if(Wr>=1)return Rt.event&&Rt.event.end.call(he,he.__data__,Pe),--ft.count?delete ft[qe]:delete he[Ne],1}Rt||(Et=ot.time,Xt=Vn(kr,0,Et),Rt=ft[qe]={tween:new E,time:Et,timer:Xt,delay:ot.delay,duration:ot.duration,ease:ot.ease,index:Pe},ot=null,++ft.count)}n.svg.axis=function(){var he=n.scale.linear(),Pe=ia,Ne=6,qe=6,ot=3,ft=[10],Rt=null,Et;function Xt(Zt){Zt.each(function(){var ir=n.select(this),Ir=this.__chart__||he,kr=this.__chart__=he.copy(),sn=Rt??(kr.ticks?kr.ticks.apply(kr,ft):kr.domain()),dn=Et??(kr.tickFormat?kr.tickFormat.apply(kr,ft):z),Br=ir.selectAll(".tick").data(sn,kr),Wr=Br.enter().insert("g",".domain").attr("class","tick").style("opacity",me),nn=n.transition(Br.exit()).style("opacity",me).remove(),gn=n.transition(Br.order()).style("opacity",1),Tn=Math.max(Ne,0)+ot,un,Rn=Ku(kr),ha=ir.selectAll(".domain").data([0]),Sa=(ha.enter().append("path").attr("class","domain"),n.transition(ha));Wr.append("line"),Wr.append("text");var la=Wr.select("line"),Ta=gn.select("line"),Ea=Br.select("text").text(dn),ai=Wr.select("text"),ka=gn.select("text"),ti=Pe==="top"||Pe==="left"?-1:1,Ai,wo,Ii,ua;if(Pe==="bottom"||Pe==="top"?(un=Xa,Ai="x",Ii="y",wo="x2",ua="y2",Ea.attr("dy",ti<0?"0em":".71em").style("text-anchor","middle"),Sa.attr("d","M"+Rn[0]+","+ti*qe+"V0H"+Rn[1]+"V"+ti*qe)):(un=Qa,Ai="y",Ii="x",wo="y2",ua="x2",Ea.attr("dy",".32em").style("text-anchor",ti<0?"end":"start"),Sa.attr("d","M"+ti*qe+","+Rn[0]+"H0V"+Rn[1]+"H"+ti*qe)),la.attr(ua,ti*Ne),ai.attr(Ii,ti*Tn),Ta.attr(wo,0).attr(ua,ti*Ne),ka.attr(Ai,0).attr(Ii,ti*Tn),kr.rangeBand){var Ja=kr,Fa=Ja.rangeBand()/2;Ir=kr=function(xi){return Ja(xi)+Fa}}else Ir.rangeBand?Ir=kr:nn.call(un,kr,Ir);Wr.call(un,Ir,kr),gn.call(un,kr,kr)})}return Xt.scale=function(Zt){return arguments.length?(he=Zt,Xt):he},Xt.orient=function(Zt){return arguments.length?(Pe=Zt in Ka?Zt+"":ia,Xt):Pe},Xt.ticks=function(){return arguments.length?(ft=T(arguments),Xt):ft},Xt.tickValues=function(Zt){return arguments.length?(Rt=Zt,Xt):Rt},Xt.tickFormat=function(Zt){return arguments.length?(Et=Zt,Xt):Et},Xt.tickSize=function(Zt){var ir=arguments.length;return ir?(Ne=+Zt,qe=+arguments[ir-1],Xt):Ne},Xt.innerTickSize=function(Zt){return arguments.length?(Ne=+Zt,Xt):Ne},Xt.outerTickSize=function(Zt){return arguments.length?(qe=+Zt,Xt):qe},Xt.tickPadding=function(Zt){return arguments.length?(ot=+Zt,Xt):ot},Xt.tickSubdivide=function(){return arguments.length&&Xt},Xt};var ia="bottom",Ka={top:1,right:1,bottom:1,left:1};function Xa(he,Pe,Ne){he.attr("transform",function(qe){var ot=Pe(qe);return"translate("+(isFinite(ot)?ot:Ne(qe))+",0)"})}function Qa(he,Pe,Ne){he.attr("transform",function(qe){var ot=Pe(qe);return"translate(0,"+(isFinite(ot)?ot:Ne(qe))+")"})}n.svg.brush=function(){var he=Z(ir,"brushstart","brush","brushend"),Pe=null,Ne=null,qe=[0,0],ot=[0,0],ft,Rt,Et=!0,Xt=!0,Zt=mi[0];function ir(Br){Br.each(function(){var Wr=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",dn).on("touchstart.brush",dn),nn=Wr.selectAll(".background").data([0]);nn.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Wr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var gn=Wr.selectAll(".resize").data(Zt,z);gn.exit().remove(),gn.enter().append("g").attr("class",function(ha){return"resize "+ha}).style("cursor",function(ha){return ni[ha]}).append("rect").attr("x",function(ha){return/[ew]$/.test(ha)?-3:null}).attr("y",function(ha){return/^[ns]/.test(ha)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),gn.style("display",ir.empty()?"none":null);var Tn=n.transition(Wr),un=n.transition(nn),Rn;Pe&&(Rn=Ku(Pe),un.attr("x",Rn[0]).attr("width",Rn[1]-Rn[0]),kr(Tn)),Ne&&(Rn=Ku(Ne),un.attr("y",Rn[0]).attr("height",Rn[1]-Rn[0]),sn(Tn)),Ir(Tn)})}ir.event=function(Br){Br.each(function(){var Wr=he.of(this,arguments),nn={x:qe,y:ot,i:ft,j:Rt},gn=this.__chart__||nn;this.__chart__=nn,Ur?n.select(this).transition().each("start.brush",function(){ft=gn.i,Rt=gn.j,qe=gn.x,ot=gn.y,Wr({type:"brushstart"})}).tween("brush:brush",function(){var Tn=fs(qe,nn.x),un=fs(ot,nn.y);return ft=Rt=null,function(Rn){qe=nn.x=Tn(Rn),ot=nn.y=un(Rn),Wr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ft=nn.i,Rt=nn.j,Wr({type:"brush",mode:"resize"}),Wr({type:"brushend"})}):(Wr({type:"brushstart"}),Wr({type:"brush",mode:"resize"}),Wr({type:"brushend"}))})};function Ir(Br){Br.selectAll(".resize").attr("transform",function(Wr){return"translate("+qe[+/e$/.test(Wr)]+","+ot[+/^s/.test(Wr)]+")"})}function kr(Br){Br.select(".extent").attr("x",qe[0]),Br.selectAll(".extent,.n>rect,.s>rect").attr("width",qe[1]-qe[0])}function sn(Br){Br.select(".extent").attr("y",ot[0]),Br.selectAll(".extent,.e>rect,.w>rect").attr("height",ot[1]-ot[0])}function dn(){var Br=this,Wr=n.select(n.event.target),nn=he.of(Br,arguments),gn=n.select(Br),Tn=Wr.datum(),un=!/^(n|s)$/.test(Tn)&&Pe,Rn=!/^(e|w)$/.test(Tn)&&Ne,ha=Wr.classed("extent"),Sa=Je(Br),la,Ta=n.mouse(Br),Ea,ai=n.select(r(Br)).on("keydown.brush",Ai).on("keyup.brush",wo);if(n.event.changedTouches?ai.on("touchmove.brush",Ii).on("touchend.brush",Ja):ai.on("mousemove.brush",Ii).on("mouseup.brush",Ja),gn.interrupt().selectAll("*").interrupt(),ha)Ta[0]=qe[0]-Ta[0],Ta[1]=ot[0]-Ta[1];else if(Tn){var ka=+/w$/.test(Tn),ti=+/^n/.test(Tn);Ea=[qe[1-ka]-Ta[0],ot[1-ti]-Ta[1]],Ta[0]=qe[ka],Ta[1]=ot[ti]}else n.event.altKey&&(la=Ta.slice());gn.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",Wr.style("cursor")),nn({type:"brushstart"}),Ii();function Ai(){n.event.keyCode==32&&(ha||(la=null,Ta[0]-=qe[1],Ta[1]-=ot[1],ha=2),Q())}function wo(){n.event.keyCode==32&&ha==2&&(Ta[0]+=qe[1],Ta[1]+=ot[1],ha=0,Q())}function Ii(){var Fa=n.mouse(Br),xi=!1;Ea&&(Fa[0]+=Ea[0],Fa[1]+=Ea[1]),ha||(n.event.altKey?(la||(la=[(qe[0]+qe[1])/2,(ot[0]+ot[1])/2]),Ta[0]=qe[+(Fa[0]<la[0])],Ta[1]=ot[+(Fa[1]<la[1])]):la=null),un&&ua(Fa,Pe,0)&&(kr(gn),xi=!0),Rn&&ua(Fa,Ne,1)&&(sn(gn),xi=!0),xi&&(Ir(gn),nn({type:"brush",mode:ha?"move":"resize"}))}function ua(Fa,xi,to){var Mi=Ku(xi),zo=Mi[0],Do=Mi[1],Go=Ta[to],qi=to?ot:qe,Wo=qi[1]-qi[0],ga,Wa;if(ha&&(zo-=Go,Do-=Wo+Go),ga=(to?Xt:Et)?Math.max(zo,Math.min(Do,Fa[to])):Fa[to],ha?Wa=(ga+=Go)+Wo:(la&&(Go=Math.max(zo,Math.min(Do,2*la[to]-ga))),Go<ga?(Wa=ga,ga=Go):Wa=Go),qi[0]!=ga||qi[1]!=Wa)return to?Rt=null:ft=null,qi[0]=ga,qi[1]=Wa,!0}function Ja(){Ii(),gn.style("pointer-events","all").selectAll(".resize").style("display",ir.empty()?"none":null),n.select("body").style("cursor",null),ai.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Sa(),nn({type:"brushend"})}}return ir.x=function(Br){return arguments.length?(Pe=Br,Zt=mi[!Pe<<1|!Ne],ir):Pe},ir.y=function(Br){return arguments.length?(Ne=Br,Zt=mi[!Pe<<1|!Ne],ir):Ne},ir.clamp=function(Br){return arguments.length?(Pe&&Ne?(Et=!!Br[0],Xt=!!Br[1]):Pe?Et=!!Br:Ne&&(Xt=!!Br),ir):Pe&&Ne?[Et,Xt]:Pe?Et:Ne?Xt:null},ir.extent=function(Br){var Wr,nn,gn,Tn,un;return arguments.length?(Pe&&(Wr=Br[0],nn=Br[1],Ne&&(Wr=Wr[0],nn=nn[0]),ft=[Wr,nn],Pe.invert&&(Wr=Pe(Wr),nn=Pe(nn)),nn<Wr&&(un=Wr,Wr=nn,nn=un),(Wr!=qe[0]||nn!=qe[1])&&(qe=[Wr,nn])),Ne&&(gn=Br[0],Tn=Br[1],Pe&&(gn=gn[1],Tn=Tn[1]),Rt=[gn,Tn],Ne.invert&&(gn=Ne(gn),Tn=Ne(Tn)),Tn<gn&&(un=gn,gn=Tn,Tn=un),(gn!=ot[0]||Tn!=ot[1])&&(ot=[gn,Tn])),ir):(Pe&&(ft?(Wr=ft[0],nn=ft[1]):(Wr=qe[0],nn=qe[1],Pe.invert&&(Wr=Pe.invert(Wr),nn=Pe.invert(nn)),nn<Wr&&(un=Wr,Wr=nn,nn=un))),Ne&&(Rt?(gn=Rt[0],Tn=Rt[1]):(gn=ot[0],Tn=ot[1],Ne.invert&&(gn=Ne.invert(gn),Tn=Ne.invert(Tn)),Tn<gn&&(un=gn,gn=Tn,Tn=un))),Pe&&Ne?[[Wr,gn],[nn,Tn]]:Pe?[Wr,nn]:Ne&&[gn,Tn])},ir.clear=function(){return ir.empty()||(qe=[0,0],ot=[0,0],ft=Rt=null),ir},ir.empty=function(){return!!Pe&&qe[0]==qe[1]||!!Ne&&ot[0]==ot[1]},n.rebind(ir,he,"on")};var ni={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];n.text=Un(function(he){return he.responseText}),n.json=function(he,Pe){return Fn(he,"application/json",Vi,Pe)};function Vi(he){return JSON.parse(he.responseText)}n.html=function(he,Pe){return Fn(he,"text/html",Eo,Pe)};function Eo(he){var Pe=v.createRange();return Pe.selectNode(v.body),Pe.createContextualFragment(he.responseText)}n.xml=Un(function(he){return he.responseXML}),p=n,L=typeof p=="function"?p.call(U,e,U,H):p,L!==void 0&&(H.exports=L)}).apply(self)},3480:function(H){(function(U,e){H.exports=e()})(this,function(){var U,e,p;function L(n,C){if(!U)U=C;else if(!e)e=C;else{var T="var sharedChunk = {}; ("+U+")(sharedChunk); ("+e+")(sharedChunk);",v={};U(v),p=C(v),typeof window<"u"&&(p.workerUrl=window.URL.createObjectURL(new Blob([T],{type:"text/javascript"})))}}return L(["exports"],function(n){function C(P,R){return R={exports:{}},P(R,R.exports),R.exports}var T="1.13.4",v=g;function g(P,R,G,ie){this.cx=3*P,this.bx=3*(G-P)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*R,this.by=3*(ie-R)-this.cy,this.ay=1-this.cy-this.by,this.p1x=P,this.p1y=ie,this.p2x=G,this.p2y=ie}g.prototype.sampleCurveX=function(P){return((this.ax*P+this.bx)*P+this.cx)*P},g.prototype.sampleCurveY=function(P){return((this.ay*P+this.by)*P+this.cy)*P},g.prototype.sampleCurveDerivativeX=function(P){return(3*this.ax*P+2*this.bx)*P+this.cx},g.prototype.solveCurveX=function(P,R){typeof R>"u"&&(R=1e-6);var G,ie,pe,Se,De;for(pe=P,De=0;De<8;De++){if(Se=this.sampleCurveX(pe)-P,Math.abs(Se)<R)return pe;var Qe=this.sampleCurveDerivativeX(pe);if(Math.abs(Qe)<1e-6)break;pe=pe-Se/Qe}if(G=0,ie=1,pe=P,pe<G)return G;if(pe>ie)return ie;for(;G<ie;){if(Se=this.sampleCurveX(pe),Math.abs(Se-P)<R)return pe;P>Se?G=pe:ie=pe,pe=(ie-G)*.5+G}return pe},g.prototype.solve=function(P,R){return this.sampleCurveY(this.solveCurveX(P,R))};var r=t;function t(P,R){this.x=P,this.y=R}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(P){return this.clone()._add(P)},sub:function(P){return this.clone()._sub(P)},multByPoint:function(P){return this.clone()._multByPoint(P)},divByPoint:function(P){return this.clone()._divByPoint(P)},mult:function(P){return this.clone()._mult(P)},div:function(P){return this.clone()._div(P)},rotate:function(P){return this.clone()._rotate(P)},rotateAround:function(P,R){return this.clone()._rotateAround(P,R)},matMult:function(P){return this.clone()._matMult(P)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(P){return this.x===P.x&&this.y===P.y},dist:function(P){return Math.sqrt(this.distSqr(P))},distSqr:function(P){var R=P.x-this.x,G=P.y-this.y;return R*R+G*G},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(P){return Math.atan2(this.y-P.y,this.x-P.x)},angleWith:function(P){return this.angleWithSep(P.x,P.y)},angleWithSep:function(P,R){return Math.atan2(this.x*R-this.y*P,this.x*P+this.y*R)},_matMult:function(P){var R=P[0]*this.x+P[1]*this.y,G=P[2]*this.x+P[3]*this.y;return this.x=R,this.y=G,this},_add:function(P){return this.x+=P.x,this.y+=P.y,this},_sub:function(P){return this.x-=P.x,this.y-=P.y,this},_mult:function(P){return this.x*=P,this.y*=P,this},_div:function(P){return this.x/=P,this.y/=P,this},_multByPoint:function(P){return this.x*=P.x,this.y*=P.y,this},_divByPoint:function(P){return this.x/=P.x,this.y/=P.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var P=this.y;return this.y=this.x,this.x=-P,this},_rotate:function(P){var R=Math.cos(P),G=Math.sin(P),ie=R*this.x-G*this.y,pe=G*this.x+R*this.y;return this.x=ie,this.y=pe,this},_rotateAround:function(P,R){var G=Math.cos(P),ie=Math.sin(P),pe=R.x+G*(this.x-R.x)-ie*(this.y-R.y),Se=R.y+ie*(this.x-R.x)+G*(this.y-R.y);return this.x=pe,this.y=Se,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(P){return P instanceof t?P:Array.isArray(P)?new t(P[0],P[1]):P};var s=typeof self<"u"?self:{};function a(P,R){if(Array.isArray(P)){if(!Array.isArray(R)||P.length!==R.length)return!1;for(var G=0;G<P.length;G++)if(!a(P[G],R[G]))return!1;return!0}if(typeof P=="object"&&P!==null&&R!==null){if(typeof R!="object")return!1;var ie=Object.keys(P);if(ie.length!==Object.keys(R).length)return!1;for(var pe in P)if(!a(P[pe],R[pe]))return!1;return!0}return P===R}var f=Math.pow(2,53)-1;function u(P){if(P<=0)return 0;if(P>=1)return 1;var R=P*P,G=R*P;return 4*(P<.5?G:3*(P-R)+G-.75)}function l(P,R,G,ie){var pe=new v(P,R,G,ie);return function(Se){return pe.solve(Se)}}var m=l(.25,.1,.25,1);function h(P,R,G){return Math.min(G,Math.max(R,P))}function M(P,R,G){var ie=G-R,pe=((P-R)%ie+ie)%ie+R;return pe===R?G:pe}function c(P,R,G){if(!P.length)return G(null,[]);var ie=P.length,pe=new Array(P.length),Se=null;P.forEach(function(De,Qe){R(De,function(gt,Ct){gt&&(Se=gt),pe[Qe]=Ct,--ie===0&&G(Se,pe)})})}function i(P){var R=[];for(var G in P)R.push(P[G]);return R}function d(P,R){var G=[];for(var ie in P)ie in R||G.push(ie);return G}function x(P){for(var R=[],G=arguments.length-1;G-- >0;)R[G]=arguments[G+1];for(var ie=0,pe=R;ie<pe.length;ie+=1){var Se=pe[ie];for(var De in Se)P[De]=Se[De]}return P}function A(P,R){for(var G={},ie=0;ie<R.length;ie++){var pe=R[ie];pe in P&&(G[pe]=P[pe])}return G}var E=1;function y(){return E++}function S(){function P(R){return R?(R^Math.random()*16>>R/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,P)}return P()}function w(P){return P<=1?1:Math.pow(2,Math.ceil(Math.log(P)/Math.LN2))}function o(P){return P?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(P):!1}function _(P,R){P.forEach(function(G){R[G]&&(R[G]=R[G].bind(R))})}function b(P,R){return P.indexOf(R,P.length-R.length)!==-1}function I(P,R,G){var ie={};for(var pe in P)ie[pe]=R.call(G||this,P[pe],pe,P);return ie}function D(P,R,G){var ie={};for(var pe in P)R.call(G||this,P[pe],pe,P)&&(ie[pe]=P[pe]);return ie}function N(P){return Array.isArray(P)?P.map(N):typeof P=="object"&&P?I(P,N):P}function k(P,R){for(var G=0;G<P.length;G++)if(R.indexOf(P[G])>=0)return!0;return!1}var z={};function F(P){z[P]||(typeof console<"u"&&console.warn(P),z[P]=!0)}function O(P,R,G){return(G.y-P.y)*(R.x-P.x)>(R.y-P.y)*(G.x-P.x)}function B(P){for(var R=0,G=0,ie=P.length,pe=ie-1,Se=void 0,De=void 0;G<ie;pe=G++)Se=P[G],De=P[pe],R+=(De.x-Se.x)*(Se.y+De.y);return R}function W(P){var R=P[0],G=P[1],ie=P[2];return G+=90,G*=Math.PI/180,ie*=Math.PI/180,{x:R*Math.cos(G)*Math.sin(ie),y:R*Math.sin(G)*Math.sin(ie),z:R*Math.cos(ie)}}function ee(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ne(P){var R=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,G={};if(P.replace(R,function(pe,Se,De,Qe){var gt=De||Qe;return G[Se]=gt?gt.toLowerCase():!0,""}),G["max-age"]){var ie=parseInt(G["max-age"],10);isNaN(ie)?delete G["max-age"]:G["max-age"]=ie}return G}var Q=null;function le(P){if(Q==null){var R=P.navigator?P.navigator.userAgent:null;Q=!!P.safari||!!(R&&(/\b(iPad|iPhone|iPod)\b/.test(R)||R.match("Safari")&&!R.match("Chrome")))}return Q}function Z(P){try{var R=s[P];return R.setItem("_mapbox_test_",1),R.removeItem("_mapbox_test_"),!0}catch{return!1}}function Y(P){return s.btoa(encodeURIComponent(P).replace(/%([0-9A-F]{2})/g,function(R,G){return String.fromCharCode(+("0x"+G))}))}function re(P){return decodeURIComponent(s.atob(P).split("").map(function(R){return"%"+("00"+R.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var X=s.performance&&s.performance.now?s.performance.now.bind(s.performance):Date.now.bind(Date),q=s.requestAnimationFrame||s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame||s.msRequestAnimationFrame,se=s.cancelAnimationFrame||s.mozCancelAnimationFrame||s.webkitCancelAnimationFrame||s.msCancelAnimationFrame,$,j,ue={now:X,frame:function(R){var G=q(R);return{cancel:function(){return se(G)}}},getImageData:function(R,G){G===void 0&&(G=0);var ie=s.document.createElement("canvas"),pe=ie.getContext("2d");if(!pe)throw new Error("failed to create canvas 2d context");return ie.width=R.width,ie.height=R.height,pe.drawImage(R,0,0,R.width,R.height),pe.getImageData(-G,-G,R.width+2*G,R.height+2*G)},resolveURL:function(R){return $||($=s.document.createElement("a")),$.href=R,$.href},hardwareConcurrency:s.navigator&&s.navigator.hardwareConcurrency||4,get devicePixelRatio(){return s.devicePixelRatio},get prefersReducedMotion(){return s.matchMedia?(j==null&&(j=s.matchMedia("(prefers-reduced-motion: reduce)")),j.matches):!1}},ae={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ce={supported:!1,testSupport:Te},ye,Ce=!1,Ae,Ie=!1;s.document&&(Ae=s.document.createElement("img"),Ae.onload=function(){ye&&Le(ye),ye=null,Ie=!0},Ae.onerror=function(){Ce=!0,ye=null},Ae.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Te(P){Ce||!Ae||(Ie?Le(P):ye=P)}function Le(P){var R=P.createTexture();P.bindTexture(P.TEXTURE_2D,R);try{if(P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,Ae),P.isContextLost())return;ce.supported=!0}catch{}P.deleteTexture(R),Ce=!0}var xe="01";function Re(){for(var P="1",R="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",G="",ie=0;ie<10;ie++)G+=R[Math.floor(Math.random()*62)];var pe=12*60*60*1e3,Se=[P,xe,G].join(""),De=Date.now()+pe;return{token:Se,tokenExpiresAt:De}}var He=function(R,G){this._transformRequestFn=R,this._customAccessToken=G,this._createSkuToken()};He.prototype._createSkuToken=function(){var R=Re();this._skuToken=R.token,this._skuTokenExpiresAt=R.tokenExpiresAt},He.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},He.prototype.transformRequest=function(R,G){return this._transformRequestFn?this._transformRequestFn(R,G)||{url:R}:{url:R}},He.prototype.normalizeStyleURL=function(R,G){if(!Ve(R))return R;var ie=tt(R);return ie.path="/styles/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||G)},He.prototype.normalizeGlyphsURL=function(R,G){if(!Ve(R))return R;var ie=tt(R);return ie.path="/fonts/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||G)},He.prototype.normalizeSourceURL=function(R,G){if(!Ve(R))return R;var ie=tt(R);return ie.path="/v4/"+ie.authority+".json",ie.params.push("secure"),this._makeAPIURL(ie,this._customAccessToken||G)},He.prototype.normalizeSpriteURL=function(R,G,ie,pe){var Se=tt(R);return Ve(R)?(Se.path="/styles/v1"+Se.path+"/sprite"+G+ie,this._makeAPIURL(Se,this._customAccessToken||pe)):(Se.path+=""+G+ie,vt(Se))},He.prototype.normalizeTileURL=function(R,G){if(this._isSkuTokenExpired()&&this._createSkuToken(),R&&!Ve(R))return R;var ie=tt(R),pe=/(\.(png|jpg)\d*)(?=$)/,Se=/^.+\/v4\//,De=ue.devicePixelRatio>=2||G===512?"@2x":"",Qe=ce.supported?".webp":"$1";ie.path=ie.path.replace(pe,""+De+Qe),ie.path=ie.path.replace(Se,"/"),ie.path="/v4"+ie.path;var gt=this._customAccessToken||ht(ie.params)||ae.ACCESS_TOKEN;return ae.REQUIRE_ACCESS_TOKEN&&gt&&this._skuToken&&ie.params.push("sku="+this._skuToken),this._makeAPIURL(ie,gt)},He.prototype.canonicalizeTileURL=function(R,G){var ie="/v4/",pe=/\.[\w]+$/,Se=tt(R);if(!Se.path.match(/(^\/v4\/)/)||!Se.path.match(pe))return R;var De="mapbox://tiles/";De+=Se.path.replace(ie,"");var Qe=Se.params;return G&&(Qe=Qe.filter(function(gt){return!gt.match(/^access_token=/)})),Qe.length&&(De+="?"+Qe.join("&")),De},He.prototype.canonicalizeTileset=function(R,G){for(var ie=G?Ve(G):!1,pe=[],Se=0,De=R.tiles||[];Se<De.length;Se+=1){var Qe=De[Se];We(Qe)?pe.push(this.canonicalizeTileURL(Qe,ie)):pe.push(Qe)}return pe},He.prototype._makeAPIURL=function(R,G){var ie="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",pe=tt(ae.API_URL);if(R.protocol=pe.protocol,R.authority=pe.authority,R.protocol==="http"){var Se=R.params.indexOf("secure");Se>=0&&R.params.splice(Se,1)}if(pe.path!=="/"&&(R.path=""+pe.path+R.path),!ae.REQUIRE_ACCESS_TOKEN)return vt(R);if(G=G||ae.ACCESS_TOKEN,!G)throw new Error("An API access token is required to use Mapbox GL. "+ie);if(G[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ie);return R.params=R.params.filter(function(De){return De.indexOf("access_token")===-1}),R.params.push("access_token="+G),vt(R)};function Ve(P){return P.indexOf("mapbox:")===0}var Fe=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function We(P){return Fe.test(P)}function ut(P){return P.indexOf("sku=")>0&&We(P)}function ht(P){for(var R=0,G=P;R<G.length;R+=1){var ie=G[R],pe=ie.match(/^access_token=(.*)$/);if(pe)return pe[1]}return null}var rt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function tt(P){var R=P.match(rt);if(!R)throw new Error("Unable to parse URL object");return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}function vt(P){var R=P.params.length?"?"+P.params.join("&"):"";return P.protocol+"://"+P.authority+P.path+R}var pt="mapbox.eventData";function mt(P){if(!P)return null;var R=P.split(".");if(!R||R.length!==3)return null;try{var G=JSON.parse(re(R[1]));return G}catch{return null}}var wt=function(R){this.type=R,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};wt.prototype.getStorageKey=function(R){var G=mt(ae.ACCESS_TOKEN),ie="";return G&&G.u?ie=Y(G.u):ie=ae.ACCESS_TOKEN||"",R?pt+"."+R+":"+ie:pt+":"+ie},wt.prototype.fetchEventData=function(){var R=Z("localStorage"),G=this.getStorageKey(),ie=this.getStorageKey("uuid");if(R)try{var pe=s.localStorage.getItem(G);pe&&(this.eventData=JSON.parse(pe));var Se=s.localStorage.getItem(ie);Se&&(this.anonId=Se)}catch{F("Unable to read from LocalStorage")}},wt.prototype.saveEventData=function(){var R=Z("localStorage"),G=this.getStorageKey(),ie=this.getStorageKey("uuid");if(R)try{s.localStorage.setItem(ie,this.anonId),Object.keys(this.eventData).length>=1&&s.localStorage.setItem(G,JSON.stringify(this.eventData))}catch{F("Unable to write to LocalStorage")}},wt.prototype.processRequests=function(R){},wt.prototype.postEvent=function(R,G,ie,pe){var Se=this;if(ae.EVENTS_URL){var De=tt(ae.EVENTS_URL);De.params.push("access_token="+(pe||ae.ACCESS_TOKEN||""));var Qe={event:this.type,created:new Date(R).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:T,skuId:xe,userId:this.anonId},gt=G?x(Qe,G):Qe,Ct={url:vt(De),headers:{"Content-Type":"text/plain"},body:JSON.stringify([gt])};this.pendingRequest=Gt(Ct,function(Dt){Se.pendingRequest=null,ie(Dt),Se.saveEventData(),Se.processRequests(pe)})}},wt.prototype.queueRequest=function(R,G){this.queue.push(R),this.processRequests(G)};var Lt=function(P){function R(){P.call(this,"map.load"),this.success={},this.skuToken=""}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.postMapLoadEvent=function(ie,pe,Se,De){this.skuToken=Se,(ae.EVENTS_URL&&De||ae.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Qe){return Ve(Qe)||We(Qe)}))&&this.queueRequest({id:pe,timestamp:Date.now()},De)},R.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){var Se=this.queue.shift(),De=Se.id,Qe=Se.timestamp;De&&this.success[De]||(this.anonId||this.fetchEventData(),o(this.anonId)||(this.anonId=S()),this.postEvent(Qe,{skuToken:this.skuToken},function(gt){gt||De&&(pe.success[De]=!0)},ie))}},R}(wt),at=function(P){function R(G){P.call(this,"appUserTurnstile"),this._customAccessToken=G}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.postTurnstileEvent=function(ie,pe){ae.EVENTS_URL&&ae.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Se){return Ve(Se)||We(Se)})&&this.queueRequest(Date.now(),pe)},R.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Se=mt(ae.ACCESS_TOKEN),De=Se?Se.u:ae.ACCESS_TOKEN,Qe=De!==this.eventData.tokenU;o(this.anonId)||(this.anonId=S(),Qe=!0);var gt=this.queue.shift();if(this.eventData.lastSuccess){var Ct=new Date(this.eventData.lastSuccess),Dt=new Date(gt),jt=(gt-this.eventData.lastSuccess)/(24*60*60*1e3);Qe=Qe||jt>=1||jt<-1||Ct.getDate()!==Dt.getDate()}else Qe=!0;if(!Qe)return this.processRequests();this.postEvent(gt,{"enabled.telemetry":!1},function(lr){lr||(pe.eventData.lastSuccess=gt,pe.eventData.tokenU=De)},ie)}},R}(wt),Oe=new at,Ze=Oe.postTurnstileEvent.bind(Oe),Je=new Lt,Ye=Je.postMapLoadEvent.bind(Je),ke="mapbox-tiles",be=500,me=50,_e=1e3*60*7,Ee;function Be(){s.caches&&!Ee&&(Ee=s.caches.open(ke))}var je;function nt(P,R){if(je===void 0)try{new Response(new ReadableStream),je=!0}catch{je=!1}je?R(P.body):P.blob().then(R)}function dt(P,R,G){if(Be(),!!Ee){var ie={status:R.status,statusText:R.statusText,headers:new s.Headers};R.headers.forEach(function(De,Qe){return ie.headers.set(Qe,De)});var pe=ne(R.headers.get("Cache-Control")||"");if(!pe["no-store"]){pe["max-age"]&&ie.headers.set("Expires",new Date(G+pe["max-age"]*1e3).toUTCString());var Se=new Date(ie.headers.get("Expires")).getTime()-G;Se<_e||nt(R,function(De){var Qe=new s.Response(De,ie);Be(),Ee&&Ee.then(function(gt){return gt.put(xt(P.url),Qe)}).catch(function(gt){return F(gt.message)})})}}}function xt(P){var R=P.indexOf("?");return R<0?P:P.slice(0,R)}function Kt(P,R){if(Be(),!Ee)return R(null);var G=xt(P.url);Ee.then(function(ie){ie.match(G).then(function(pe){var Se=Jt(pe);ie.delete(G),Se&&ie.put(G,pe.clone()),R(null,pe,Se)}).catch(R)}).catch(R)}function Jt(P){if(!P)return!1;var R=new Date(P.headers.get("Expires")||0),G=ne(P.headers.get("Cache-Control")||"");return R>Date.now()&&!G["no-cache"]}var St=1/0;function Ft(P){St++,St>me&&(P.getActor().send("enforceCacheSizeLimit",be),St=0)}function rr(P){Be(),Ee&&Ee.then(function(R){R.keys().then(function(G){for(var ie=0;ie<G.length-P;ie++)R.delete(G[ie])})})}function _r(P){var R=s.caches.delete(ke);P&&R.catch(P).then(function(){return P()})}function Tt(P,R){be=P,me=R}var $t;function tr(){return $t==null&&($t=s.OffscreenCanvas&&new s.OffscreenCanvas(1,1).getContext("2d")&&typeof s.createImageBitmap=="function"),$t}var Tr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Tr);var cr=function(P){function R(G,ie,pe){ie===401&&We(pe)&&(G+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),P.call(this,G),this.status=ie,this.url=pe,this.name=this.constructor.name,this.message=G}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},R}(Error),bt=ee()?function(){return self.worker&&self.worker.referrer}:function(){return(s.location.protocol==="blob:"?s.parent:s).location.href},lt=function(P){return/^file:/.test(P)||/^file:/.test(bt())&&!/^\w+:/.test(P)};function Mt(P,R){var G=new s.AbortController,ie=new s.Request(P.url,{method:P.method||"GET",body:P.body,credentials:P.credentials,headers:P.headers,referrer:bt(),signal:G.signal}),pe=!1,Se=!1,De=ut(ie.url);P.type==="json"&&ie.headers.set("Accept","application/json");var Qe=function(Ct,Dt,jt){if(!Se){if(Ct&&Ct.message!=="SecurityError"&&F(Ct),Dt&&jt)return gt(Dt);var lr=Date.now();s.fetch(ie).then(function(nr){if(nr.ok){var Mr=De?nr.clone():null;return gt(nr,Mr,lr)}else return R(new cr(nr.statusText,nr.status,P.url))}).catch(function(nr){nr.code!==20&&R(new Error(nr.message))})}},gt=function(Ct,Dt,jt){(P.type==="arrayBuffer"?Ct.arrayBuffer():P.type==="json"?Ct.json():Ct.text()).then(function(lr){Se||(Dt&&jt&&dt(ie,Dt,jt),pe=!0,R(null,lr,Ct.headers.get("Cache-Control"),Ct.headers.get("Expires")))}).catch(function(lr){Se||R(new Error(lr.message))})};return De?Kt(ie,Qe):Qe(null,null),{cancel:function(){Se=!0,pe||G.abort()}}}function _t(P,R){var G=new s.XMLHttpRequest;G.open(P.method||"GET",P.url,!0),P.type==="arrayBuffer"&&(G.responseType="arraybuffer");for(var ie in P.headers)G.setRequestHeader(ie,P.headers[ie]);return P.type==="json"&&(G.responseType="text",G.setRequestHeader("Accept","application/json")),G.withCredentials=P.credentials==="include",G.onerror=function(){R(new Error(G.statusText))},G.onload=function(){if((G.status>=200&&G.status<300||G.status===0)&&G.response!==null){var pe=G.response;if(P.type==="json")try{pe=JSON.parse(G.response)}catch(Se){return R(Se)}R(null,pe,G.getResponseHeader("Cache-Control"),G.getResponseHeader("Expires"))}else R(new cr(G.statusText,G.status,P.url))},G.send(P.body),{cancel:function(){return G.abort()}}}var Ot=function(P,R){if(!lt(P.url)){if(s.fetch&&s.Request&&s.AbortController&&s.Request.prototype.hasOwnProperty("signal"))return Mt(P,R);if(ee()&&self.worker&&self.worker.actor){var G=!0;return self.worker.actor.send("getResource",P,R,void 0,G)}}return _t(P,R)},It=function(P,R){return Ot(x(P,{type:"json"}),R)},Wt=function(P,R){return Ot(x(P,{type:"arrayBuffer"}),R)},Gt=function(P,R){return Ot(x(P,{method:"POST"}),R)};function er(P){var R=s.document.createElement("a");return R.href=P,R.protocol===s.document.location.protocol&&R.host===s.document.location.host}var dr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function pr(P,R,G,ie){var pe=new s.Image,Se=s.URL;pe.onload=function(){R(null,pe),Se.revokeObjectURL(pe.src),pe.onload=null,s.requestAnimationFrame(function(){pe.src=dr})},pe.onerror=function(){return R(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var De=new s.Blob([new Uint8Array(P)],{type:"image/png"});pe.cacheControl=G,pe.expires=ie,pe.src=P.byteLength?Se.createObjectURL(De):dr}function mr(P,R){var G=new s.Blob([new Uint8Array(P)],{type:"image/png"});s.createImageBitmap(G).then(function(ie){R(null,ie)}).catch(function(ie){R(new Error("Could not load image because of "+ie.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Xe,Ge,Ut=function(){Xe=[],Ge=0};Ut();var Nt=function(P,R){if(ce.supported&&(P.headers||(P.headers={}),P.headers.accept="image/webp,*/*"),Ge>=ae.MAX_PARALLEL_IMAGE_REQUESTS){var G={requestParameters:P,callback:R,cancelled:!1,cancel:function(){this.cancelled=!0}};return Xe.push(G),G}Ge++;var ie=!1,pe=function(){if(!ie)for(ie=!0,Ge--;Xe.length&&Ge<ae.MAX_PARALLEL_IMAGE_REQUESTS;){var De=Xe.shift(),Qe=De.requestParameters,gt=De.callback,Ct=De.cancelled;Ct||(De.cancel=Nt(Qe,gt).cancel)}},Se=Wt(P,function(De,Qe,gt,Ct){pe(),De?R(De):Qe&&(tr()?mr(Qe,R):pr(Qe,R,gt,Ct))});return{cancel:function(){Se.cancel(),pe()}}},Qt=function(P,R){var G=s.document.createElement("video");G.muted=!0,G.onloadstart=function(){R(null,G)};for(var ie=0;ie<P.length;ie++){var pe=s.document.createElement("source");er(P[ie])||(G.crossOrigin="Anonymous"),pe.src=P[ie],G.appendChild(pe)}return{cancel:function(){}}};function ar(P,R,G){var ie=G[P]&&G[P].indexOf(R)!==-1;ie||(G[P]=G[P]||[],G[P].push(R))}function hr(P,R,G){if(G&&G[P]){var ie=G[P].indexOf(R);ie!==-1&&G[P].splice(ie,1)}}var or=function(R,G){G===void 0&&(G={}),x(this,G),this.type=R},Vt=function(P){function R(G,ie){ie===void 0&&(ie={}),P.call(this,"error",x({error:G},ie))}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R}(or),yr=function(){};yr.prototype.on=function(R,G){return this._listeners=this._listeners||{},ar(R,G,this._listeners),this},yr.prototype.off=function(R,G){return hr(R,G,this._listeners),hr(R,G,this._oneTimeListeners),this},yr.prototype.once=function(R,G){return this._oneTimeListeners=this._oneTimeListeners||{},ar(R,G,this._oneTimeListeners),this},yr.prototype.fire=function(R,G){typeof R=="string"&&(R=new or(R,G||{}));var ie=R.type;if(this.listens(ie)){R.target=this;for(var pe=this._listeners&&this._listeners[ie]?this._listeners[ie].slice():[],Se=0,De=pe;Se<De.length;Se+=1){var Qe=De[Se];Qe.call(this,R)}for(var gt=this._oneTimeListeners&&this._oneTimeListeners[ie]?this._oneTimeListeners[ie].slice():[],Ct=0,Dt=gt;Ct<Dt.length;Ct+=1){var jt=Dt[Ct];hr(ie,jt,this._oneTimeListeners),jt.call(this,R)}var lr=this._eventedParent;lr&&(x(R,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),lr.fire(R))}else R instanceof Vt&&console.error(R.error);return this},yr.prototype.listens=function(R){return this._listeners&&this._listeners[R]&&this._listeners[R].length>0||this._oneTimeListeners&&this._oneTimeListeners[R]&&this._oneTimeListeners[R].length>0||this._eventedParent&&this._eventedParent.listens(R)},yr.prototype.setEventedParent=function(R,G){return this._eventedParent=R,this._eventedParentData=G,this};var wr=8,Ar={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},gr={"*":{type:"source"}},jr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Fr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Nr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},wn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},hn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Un={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Fn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Pr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Or=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Qr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Zr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},vn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Mn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Sn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Vn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},jn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ya={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pa={type:"array",value:"*"},Da={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Ma={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},ma={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Er={type:"array",value:"*",minimum:1},tn={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},$r=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],An={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},qn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},kn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},On={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},$n={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},ca={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ia={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ei={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Sr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Hr={"*":{type:"string"}},Lr={$version:wr,$root:Ar,sources:gr,source:jr,source_vector:Fr,source_raster:Nr,source_raster_dem:wn,source_geojson:hn,source_video:Un,source_image:Fn,layer:Pr,layout:Or,layout_background:Qr,layout_fill:Zr,layout_circle:vn,layout_heatmap:Mn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Sn,layout_symbol:Vn,layout_raster:jn,layout_hillshade:ya,filter:Pa,filter_operator:Da,geometry_type:Ma,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:ma,expression:Er,light:tn,paint:$r,paint_fill:An,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:qn,paint_circle:kn,paint_heatmap:On,paint_symbol:$n,paint_raster:ca,paint_hillshade:Ia,paint_background:ei,transition:Sr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Hr},Gr=function(R,G,ie,pe){this.message=(R?R+": ":"")+ie,pe&&(this.identifier=pe),G!=null&&G.__line__&&(this.line=G.__line__)};function Ln(P){var R=P.key,G=P.value;return G?[new Gr(R,G,"constants have been deprecated as of v8")]:[]}function zn(P){for(var R=[],G=arguments.length-1;G-- >0;)R[G]=arguments[G+1];for(var ie=0,pe=R;ie<pe.length;ie+=1){var Se=pe[ie];for(var De in Se)P[De]=Se[De]}return P}function bn(P){return P instanceof Number||P instanceof String||P instanceof Boolean?P.valueOf():P}function pn(P){if(Array.isArray(P))return P.map(pn);if(P instanceof Object&&!(P instanceof Number||P instanceof String||P instanceof Boolean)){var R={};for(var G in P)R[G]=pn(P[G]);return R}return bn(P)}var Dr=function(P){function R(G,ie){P.call(this,ie),this.message=ie,this.key=G}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R}(Error),rn=function(R,G){G===void 0&&(G=[]),this.parent=R,this.bindings={};for(var ie=0,pe=G;ie<pe.length;ie+=1){var Se=pe[ie],De=Se[0],Qe=Se[1];this.bindings[De]=Qe}};rn.prototype.concat=function(R){return new rn(this,R)},rn.prototype.get=function(R){if(this.bindings[R])return this.bindings[R];if(this.parent)return this.parent.get(R);throw new Error(R+" not found in scope.")},rn.prototype.has=function(R){return this.bindings[R]?!0:this.parent?this.parent.has(R):!1};var Kr={kind:"null"},on={kind:"number"},_n={kind:"string"},Wn={kind:"boolean"},In={kind:"color"},Qn={kind:"object"},Kn={kind:"value"},Aa={kind:"error"},xa={kind:"collator"},La={kind:"formatted"},Ra={kind:"resolvedImage"};function Pi(P,R){return{kind:"array",itemType:P,N:R}}function Li(P){if(P.kind==="array"){var R=Li(P.itemType);return typeof P.N=="number"?"array<"+R+", "+P.N+">":P.itemType.kind==="value"?"array":"array<"+R+">"}else return P.kind}var Ps=[Kr,on,_n,Wn,In,La,Qn,Pi(Kn),Ra];function is(P,R){if(R.kind==="error")return null;if(P.kind==="array"){if(R.kind==="array"&&(R.N===0&&R.itemType.kind==="value"||!is(P.itemType,R.itemType))&&(typeof P.N!="number"||P.N===R.N))return null}else{if(P.kind===R.kind)return null;if(P.kind==="value")for(var G=0,ie=Ps;G<ie.length;G+=1){var pe=ie[G];if(!is(pe,R))return null}}return"Expected "+Li(P)+" but found "+Li(R)+" instead."}function Jo(P,R){return R.some(function(G){return G.kind===P.kind})}function ku(P,R){return R.some(function(G){return G==="null"?P===null:G==="array"?Array.isArray(P):G==="object"?P&&!Array.isArray(P)&&typeof P=="object":G===typeof P})}var Sc=C(function(P,R){var G={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ie(Ct){return Ct=Math.round(Ct),Ct<0?0:Ct>255?255:Ct}function pe(Ct){return Ct<0?0:Ct>1?1:Ct}function Se(Ct){return Ct[Ct.length-1]==="%"?ie(parseFloat(Ct)/100*255):ie(parseInt(Ct))}function De(Ct){return Ct[Ct.length-1]==="%"?pe(parseFloat(Ct)/100):pe(parseFloat(Ct))}function Qe(Ct,Dt,jt){return jt<0?jt+=1:jt>1&&(jt-=1),jt*6<1?Ct+(Dt-Ct)*jt*6:jt*2<1?Dt:jt*3<2?Ct+(Dt-Ct)*(2/3-jt)*6:Ct}function gt(Ct){var Dt=Ct.replace(/ /g,"").toLowerCase();if(Dt in G)return G[Dt].slice();if(Dt[0]==="#"){if(Dt.length===4){var jt=parseInt(Dt.substr(1),16);return jt>=0&&jt<=4095?[(jt&3840)>>4|(jt&3840)>>8,jt&240|(jt&240)>>4,jt&15|(jt&15)<<4,1]:null}else if(Dt.length===7){var jt=parseInt(Dt.substr(1),16);return jt>=0&&jt<=16777215?[(jt&16711680)>>16,(jt&65280)>>8,jt&255,1]:null}return null}var lr=Dt.indexOf("("),nr=Dt.indexOf(")");if(lr!==-1&&nr+1===Dt.length){var Mr=Dt.substr(0,lr),Xr=Dt.substr(lr+1,nr-(lr+1)).split(","),mn=1;switch(Mr){case"rgba":if(Xr.length!==4)return null;mn=De(Xr.pop());case"rgb":return Xr.length!==3?null:[Se(Xr[0]),Se(Xr[1]),Se(Xr[2]),mn];case"hsla":if(Xr.length!==4)return null;mn=De(Xr.pop());case"hsl":if(Xr.length!==3)return null;var cn=(parseFloat(Xr[0])%360+360)%360/360,Gn=De(Xr[1]),Cn=De(Xr[2]),Bn=Cn<=.5?Cn*(Gn+1):Cn+Gn-Cn*Gn,Zn=Cn*2-Bn;return[ie(Qe(Zn,Bn,cn+1/3)*255),ie(Qe(Zn,Bn,cn)*255),ie(Qe(Zn,Bn,cn-1/3)*255),mn];default:return null}}return null}try{R.parseCSSColor=gt}catch{}}),Ec=Sc.parseCSSColor,Ti=function(R,G,ie,pe){pe===void 0&&(pe=1),this.r=R,this.g=G,this.b=ie,this.a=pe};Ti.parse=function(R){if(R){if(R instanceof Ti)return R;if(typeof R=="string"){var G=Ec(R);if(G)return new Ti(G[0]/255*G[3],G[1]/255*G[3],G[2]/255*G[3],G[3])}}},Ti.prototype.toString=function(){var R=this.toArray(),G=R[0],ie=R[1],pe=R[2],Se=R[3];return"rgba("+Math.round(G)+","+Math.round(ie)+","+Math.round(pe)+","+Se+")"},Ti.prototype.toArray=function(){var R=this,G=R.r,ie=R.g,pe=R.b,Se=R.a;return Se===0?[0,0,0,0]:[G*255/Se,ie*255/Se,pe*255/Se,Se]},Ti.black=new Ti(0,0,0,1),Ti.white=new Ti(1,1,1,1),Ti.transparent=new Ti(0,0,0,0),Ti.red=new Ti(1,0,0,1);var ll=function(R,G,ie){R?this.sensitivity=G?"variant":"case":this.sensitivity=G?"accent":"base",this.locale=ie,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ll.prototype.compare=function(R,G){return this.collator.compare(R,G)},ll.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Cc=function(R,G,ie,pe,Se){this.text=R,this.image=G,this.scale=ie,this.fontStack=pe,this.textColor=Se},Oo=function(R){this.sections=R};Oo.fromString=function(R){return new Oo([new Cc(R,null,null,null,null)])},Oo.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(R){return R.text.length!==0||R.image&&R.image.name.length!==0})},Oo.factory=function(R){return R instanceof Oo?R:Oo.fromString(R)},Oo.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(R){return R.text}).join("")},Oo.prototype.serialize=function(){for(var R=["format"],G=0,ie=this.sections;G<ie.length;G+=1){var pe=ie[G];if(pe.image){R.push(["image",pe.image.name]);continue}R.push(pe.text);var Se={};pe.fontStack&&(Se["text-font"]=["literal",pe.fontStack.split(",")]),pe.scale&&(Se["font-scale"]=pe.scale),pe.textColor&&(Se["text-color"]=["rgba"].concat(pe.textColor.toArray())),R.push(Se)}return R};var os=function(R){this.name=R.name,this.available=R.available};os.prototype.toString=function(){return this.name},os.fromString=function(R){return R?new os({name:R,available:!1}):null},os.prototype.serialize=function(){return["image",this.name]};function Hl(P,R,G,ie){if(!(typeof P=="number"&&P>=0&&P<=255&&typeof R=="number"&&R>=0&&R<=255&&typeof G=="number"&&G>=0&&G<=255)){var pe=typeof ie=="number"?[P,R,G,ie]:[P,R,G];return"Invalid rgba value ["+pe.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ie>"u"||typeof ie=="number"&&ie>=0&&ie<=1?null:"Invalid rgba value ["+[P,R,G,ie].join(", ")+"]: 'a' must be between 0 and 1."}function Ou(P){if(P===null)return!0;if(typeof P=="string")return!0;if(typeof P=="boolean")return!0;if(typeof P=="number")return!0;if(P instanceof Ti)return!0;if(P instanceof ll)return!0;if(P instanceof Oo)return!0;if(P instanceof os)return!0;if(Array.isArray(P)){for(var R=0,G=P;R<G.length;R+=1){var ie=G[R];if(!Ou(ie))return!1}return!0}else if(typeof P=="object"){for(var pe in P)if(!Ou(P[pe]))return!1;return!0}else return!1}function mo(P){if(P===null)return Kr;if(typeof P=="string")return _n;if(typeof P=="boolean")return Wn;if(typeof P=="number")return on;if(P instanceof Ti)return In;if(P instanceof ll)return xa;if(P instanceof Oo)return La;if(P instanceof os)return Ra;if(Array.isArray(P)){for(var R=P.length,G,ie=0,pe=P;ie<pe.length;ie+=1){var Se=pe[ie],De=mo(Se);if(!G)G=De;else{if(G===De)continue;G=Kn;break}}return Pi(G||Kn,R)}else return Qn}function zu(P){var R=typeof P;return P===null?"":R==="string"||R==="number"||R==="boolean"?String(P):P instanceof Ti||P instanceof Oo||P instanceof os?P.toString():JSON.stringify(P)}var xo=function(R,G){this.type=R,this.value=G};xo.parse=function(R,G){if(R.length!==2)return G.error("'literal' expression requires exactly one argument, but found "+(R.length-1)+" instead.");if(!Ou(R[1]))return G.error("invalid value");var ie=R[1],pe=mo(ie),Se=G.expectedType;return pe.kind==="array"&&pe.N===0&&Se&&Se.kind==="array"&&(typeof Se.N!="number"||Se.N===0)&&(pe=Se),new xo(pe,ie)},xo.prototype.evaluate=function(){return this.value},xo.prototype.eachChild=function(){},xo.prototype.outputDefined=function(){return!0},xo.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Ti?["rgba"].concat(this.value.toArray()):this.value instanceof Oo?this.value.serialize():this.value};var Lo=function(R){this.name="ExpressionEvaluationError",this.message=R};Lo.prototype.toJSON=function(){return this.message};var Fu={string:_n,number:on,boolean:Wn,object:Qn},Uo=function(R,G){this.type=R,this.args=G};Uo.parse=function(R,G){if(R.length<2)return G.error("Expected at least one argument.");var ie=1,pe,Se=R[0];if(Se==="array"){var De;if(R.length>2){var Qe=R[1];if(typeof Qe!="string"||!(Qe in Fu)||Qe==="object")return G.error('The item type argument of "array" must be one of string, number, boolean',1);De=Fu[Qe],ie++}else De=Kn;var gt;if(R.length>3){if(R[2]!==null&&(typeof R[2]!="number"||R[2]<0||R[2]!==Math.floor(R[2])))return G.error('The length argument to "array" must be a positive integer literal',2);gt=R[2],ie++}pe=Pi(De,gt)}else pe=Fu[Se];for(var Ct=[];ie<R.length;ie++){var Dt=G.parse(R[ie],ie,Kn);if(!Dt)return null;Ct.push(Dt)}return new Uo(pe,Ct)},Uo.prototype.evaluate=function(R){for(var G=0;G<this.args.length;G++){var ie=this.args[G].evaluate(R),pe=is(this.type,mo(ie));if(pe){if(G===this.args.length-1)throw new Lo("Expected value to be of type "+Li(this.type)+", but found "+Li(mo(ie))+" instead.")}else return ie}return null},Uo.prototype.eachChild=function(R){this.args.forEach(R)},Uo.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},Uo.prototype.serialize=function(){var R=this.type,G=[R.kind];if(R.kind==="array"){var ie=R.itemType;if(ie.kind==="string"||ie.kind==="number"||ie.kind==="boolean"){G.push(ie.kind);var pe=R.N;(typeof pe=="number"||this.args.length>1)&&G.push(pe)}}return G.concat(this.args.map(function(Se){return Se.serialize()}))};var $i=function(R){this.type=La,this.sections=R};$i.parse=function(R,G){if(R.length<2)return G.error("Expected at least one argument.");var ie=R[1];if(!Array.isArray(ie)&&typeof ie=="object")return G.error("First argument must be an image or text section.");for(var pe=[],Se=!1,De=1;De<=R.length-1;++De){var Qe=R[De];if(Se&&typeof Qe=="object"&&!Array.isArray(Qe)){Se=!1;var gt=null;if(Qe["font-scale"]&&(gt=G.parse(Qe["font-scale"],1,on),!gt))return null;var Ct=null;if(Qe["text-font"]&&(Ct=G.parse(Qe["text-font"],1,Pi(_n)),!Ct))return null;var Dt=null;if(Qe["text-color"]&&(Dt=G.parse(Qe["text-color"],1,In),!Dt))return null;var jt=pe[pe.length-1];jt.scale=gt,jt.font=Ct,jt.textColor=Dt}else{var lr=G.parse(R[De],1,Kn);if(!lr)return null;var nr=lr.type.kind;if(nr!=="string"&&nr!=="value"&&nr!=="null"&&nr!=="resolvedImage")return G.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,pe.push({content:lr,scale:null,font:null,textColor:null})}}return new $i(pe)},$i.prototype.evaluate=function(R){var G=function(ie){var pe=ie.content.evaluate(R);return mo(pe)===Ra?new Cc("",pe,null,null,null):new Cc(zu(pe),null,ie.scale?ie.scale.evaluate(R):null,ie.font?ie.font.evaluate(R).join(","):null,ie.textColor?ie.textColor.evaluate(R):null)};return new Oo(this.sections.map(G))},$i.prototype.eachChild=function(R){for(var G=0,ie=this.sections;G<ie.length;G+=1){var pe=ie[G];R(pe.content),pe.scale&&R(pe.scale),pe.font&&R(pe.font),pe.textColor&&R(pe.textColor)}},$i.prototype.outputDefined=function(){return!1},$i.prototype.serialize=function(){for(var R=["format"],G=0,ie=this.sections;G<ie.length;G+=1){var pe=ie[G];R.push(pe.content.serialize());var Se={};pe.scale&&(Se["font-scale"]=pe.scale.serialize()),pe.font&&(Se["text-font"]=pe.font.serialize()),pe.textColor&&(Se["text-color"]=pe.textColor.serialize()),R.push(Se)}return R};var fs=function(R){this.type=Ra,this.input=R};fs.parse=function(R,G){if(R.length!==2)return G.error("Expected two arguments.");var ie=G.parse(R[1],1,_n);return ie?new fs(ie):G.error("No image name provided.")},fs.prototype.evaluate=function(R){var G=this.input.evaluate(R),ie=os.fromString(G);return ie&&R.availableImages&&(ie.available=R.availableImages.indexOf(G)>-1),ie},fs.prototype.eachChild=function(R){R(this.input)},fs.prototype.outputDefined=function(){return!1},fs.prototype.serialize=function(){return["image",this.input.serialize()]};var Nu={"to-boolean":Wn,"to-color":In,"to-number":on,"to-string":_n},cs=function(R,G){this.type=R,this.args=G};cs.parse=function(R,G){if(R.length<2)return G.error("Expected at least one argument.");var ie=R[0];if((ie==="to-boolean"||ie==="to-string")&&R.length!==2)return G.error("Expected one argument.");for(var pe=Nu[ie],Se=[],De=1;De<R.length;De++){var Qe=G.parse(R[De],De,Kn);if(!Qe)return null;Se.push(Qe)}return new cs(pe,Se)},cs.prototype.evaluate=function(R){if(this.type.kind==="boolean")return!!this.args[0].evaluate(R);if(this.type.kind==="color"){for(var G,ie,pe=0,Se=this.args;pe<Se.length;pe+=1){var De=Se[pe];if(G=De.evaluate(R),ie=null,G instanceof Ti)return G;if(typeof G=="string"){var Qe=R.parseColor(G);if(Qe)return Qe}else if(Array.isArray(G)&&(G.length<3||G.length>4?ie="Invalid rbga value "+JSON.stringify(G)+": expected an array containing either three or four numeric values.":ie=Hl(G[0],G[1],G[2],G[3]),!ie))return new Ti(G[0]/255,G[1]/255,G[2]/255,G[3])}throw new Lo(ie||"Could not parse color from value '"+(typeof G=="string"?G:String(JSON.stringify(G)))+"'")}else if(this.type.kind==="number"){for(var gt=null,Ct=0,Dt=this.args;Ct<Dt.length;Ct+=1){var jt=Dt[Ct];if(gt=jt.evaluate(R),gt===null)return 0;var lr=Number(gt);if(!isNaN(lr))return lr}throw new Lo("Could not convert "+JSON.stringify(gt)+" to number.")}else return this.type.kind==="formatted"?Oo.fromString(zu(this.args[0].evaluate(R))):this.type.kind==="resolvedImage"?os.fromString(zu(this.args[0].evaluate(R))):zu(this.args[0].evaluate(R))},cs.prototype.eachChild=function(R){this.args.forEach(R)},cs.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},cs.prototype.serialize=function(){if(this.type.kind==="formatted")return new $i([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new fs(this.args[0]).serialize();var R=["to-"+this.type.kind];return this.eachChild(function(G){R.push(G.serialize())}),R};var th=["Unknown","Point","LineString","Polygon"],ul=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ul.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ul.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?th[this.feature.type]:this.feature.type:null},ul.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ul.prototype.canonicalID=function(){return this.canonical},ul.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ul.prototype.parseColor=function(R){var G=this._parseColorCache[R];return G||(G=this._parseColorCache[R]=Ti.parse(R)),G};var Vo=function(R,G,ie,pe){this.name=R,this.type=G,this._evaluate=ie,this.args=pe};Vo.prototype.evaluate=function(R){return this._evaluate(R,this.args)},Vo.prototype.eachChild=function(R){this.args.forEach(R)},Vo.prototype.outputDefined=function(){return!1},Vo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(R){return R.serialize()}))},Vo.parse=function(R,G){var ie,pe=R[0],Se=Vo.definitions[pe];if(!Se)return G.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0);for(var De=Array.isArray(Se)?Se[0]:Se.type,Qe=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,gt=Qe.filter(function(Va){var Ga=Va[0];return!Array.isArray(Ga)||Ga.length===R.length-1}),Ct=null,Dt=0,jt=gt;Dt<jt.length;Dt+=1){var lr=jt[Dt],nr=lr[0],Mr=lr[1];Ct=new hl(G.registry,G.path,null,G.scope);for(var Xr=[],mn=!1,cn=1;cn<R.length;cn++){var Gn=R[cn],Cn=Array.isArray(nr)?nr[cn-1]:nr.type,Bn=Ct.parse(Gn,1+Xr.length,Cn);if(!Bn){mn=!0;break}Xr.push(Bn)}if(!mn){if(Array.isArray(nr)&&nr.length!==Xr.length){Ct.error("Expected "+nr.length+" arguments, but found "+Xr.length+" instead.");continue}for(var Zn=0;Zn<Xr.length;Zn++){var na=Array.isArray(nr)?nr[Zn]:nr.type,pa=Xr[Zn];Ct.concat(Zn+1).checkSubtype(na,pa.type)}if(Ct.errors.length===0)return new Vo(pe,De,Mr,Xr)}}if(gt.length===1)(ie=G.errors).push.apply(ie,Ct.errors);else{for(var va=gt.length?gt:Qe,Ua=va.map(function(Va){var Ga=Va[0];return Lc(Ga)}).join(" | "),Oa=[],Na=1;Na<R.length;Na++){var ui=G.parse(R[Na],1+Oa.length);if(!ui)return null;Oa.push(Li(ui.type))}G.error("Expected arguments of type "+Ua+", but found ("+Oa.join(", ")+") instead.")}return null},Vo.register=function(R,G){Vo.definitions=G;for(var ie in G)R[ie]=Vo};function Lc(P){return Array.isArray(P)?"("+P.map(Li).join(", ")+")":"("+Li(P.type)+"...)"}var Gl=function(R,G,ie){this.type=xa,this.locale=ie,this.caseSensitive=R,this.diacriticSensitive=G};Gl.parse=function(R,G){if(R.length!==2)return G.error("Expected one argument.");var ie=R[1];if(typeof ie!="object"||Array.isArray(ie))return G.error("Collator options argument must be an object.");var pe=G.parse(ie["case-sensitive"]===void 0?!1:ie["case-sensitive"],1,Wn);if(!pe)return null;var Se=G.parse(ie["diacritic-sensitive"]===void 0?!1:ie["diacritic-sensitive"],1,Wn);if(!Se)return null;var De=null;return ie.locale&&(De=G.parse(ie.locale,1,_n),!De)?null:new Gl(pe,Se,De)},Gl.prototype.evaluate=function(R){return new ll(this.caseSensitive.evaluate(R),this.diacriticSensitive.evaluate(R),this.locale?this.locale.evaluate(R):null)},Gl.prototype.eachChild=function(R){R(this.caseSensitive),R(this.diacriticSensitive),this.locale&&R(this.locale)},Gl.prototype.outputDefined=function(){return!1},Gl.prototype.serialize=function(){var R={};return R["case-sensitive"]=this.caseSensitive.serialize(),R["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(R.locale=this.locale.serialize()),["collator",R]};var fl=8192;function Wl(P,R){P[0]=Math.min(P[0],R[0]),P[1]=Math.min(P[1],R[1]),P[2]=Math.max(P[2],R[0]),P[3]=Math.max(P[3],R[1])}function rh(P){return(180+P)/360}function _h(P){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+P*Math.PI/360)))/360}function Bu(P,R){return!(P[0]<=R[0]||P[2]>=R[2]||P[1]<=R[1]||P[3]>=R[3])}function nh(P,R){var G=rh(P[0]),ie=_h(P[1]),pe=Math.pow(2,R.z);return[Math.round(G*pe*fl),Math.round(ie*pe*fl)]}function Yl(P,R,G){var ie=P[0]-R[0],pe=P[1]-R[1],Se=P[0]-G[0],De=P[1]-G[1];return ie*De-Se*pe===0&&ie*Se<=0&&pe*De<=0}function $f(P,R,G){return R[1]>P[1]!=G[1]>P[1]&&P[0]<(G[0]-R[0])*(P[1]-R[1])/(G[1]-R[1])+R[0]}function _c(P,R){for(var G=!1,ie=0,pe=R.length;ie<pe;ie++)for(var Se=R[ie],De=0,Qe=Se.length;De<Qe-1;De++){if(Yl(P,Se[De],Se[De+1]))return!1;$f(P,Se[De],Se[De+1])&&(G=!G)}return G}function Ph(P,R){for(var G=0;G<R.length;G++)if(_c(P,R[G]))return!0;return!1}function Rh(P,R){return P[0]*R[1]-P[1]*R[0]}function ou(P,R,G,ie){var pe=P[0]-G[0],Se=P[1]-G[1],De=R[0]-G[0],Qe=R[1]-G[1],gt=ie[0]-G[0],Ct=ie[1]-G[1],Dt=pe*Ct-gt*Se,jt=De*Ct-gt*Qe;return Dt>0&&jt<0||Dt<0&&jt>0}function Vs(P,R,G,ie){var pe=[R[0]-P[0],R[1]-P[1]],Se=[ie[0]-G[0],ie[1]-G[1]];return Rh(Se,pe)===0?!1:!!(ou(P,R,G,ie)&&ou(G,ie,P,R))}function Xl(P,R,G){for(var ie=0,pe=G;ie<pe.length;ie+=1)for(var Se=pe[ie],De=0;De<Se.length-1;++De)if(Vs(P,R,Se[De],Se[De+1]))return!0;return!1}function Uu(P,R){for(var G=0;G<P.length;++G)if(!_c(P[G],R))return!1;for(var ie=0;ie<P.length-1;++ie)if(Xl(P[ie],P[ie+1],R))return!1;return!0}function mf(P,R){for(var G=0;G<R.length;G++)if(Uu(P,R[G]))return!0;return!1}function xf(P,R,G){for(var ie=[],pe=0;pe<P.length;pe++){for(var Se=[],De=0;De<P[pe].length;De++){var Qe=nh(P[pe][De],G);Wl(R,Qe),Se.push(Qe)}ie.push(Se)}return ie}function ah(P,R,G){for(var ie=[],pe=0;pe<P.length;pe++){var Se=xf(P[pe],R,G);ie.push(Se)}return ie}function Sl(P,R,G,ie){if(P[0]<G[0]||P[0]>G[2]){var pe=ie*.5,Se=P[0]-G[0]>pe?-ie:G[0]-P[0]>pe?ie:0;Se===0&&(Se=P[0]-G[2]>pe?-ie:G[2]-P[0]>pe?ie:0),P[0]+=Se}Wl(R,P)}function Vu(P){P[0]=P[1]=1/0,P[2]=P[3]=-1/0}function En(P,R,G,ie){for(var pe=Math.pow(2,ie.z)*fl,Se=[ie.x*fl,ie.y*fl],De=[],Qe=0,gt=P;Qe<gt.length;Qe+=1)for(var Ct=gt[Qe],Dt=0,jt=Ct;Dt<jt.length;Dt+=1){var lr=jt[Dt],nr=[lr.x+Se[0],lr.y+Se[1]];Sl(nr,R,G,pe),De.push(nr)}return De}function ra(P,R,G,ie){for(var pe=Math.pow(2,ie.z)*fl,Se=[ie.x*fl,ie.y*fl],De=[],Qe=0,gt=P;Qe<gt.length;Qe+=1){for(var Ct=gt[Qe],Dt=[],jt=0,lr=Ct;jt<lr.length;jt+=1){var nr=lr[jt],Mr=[nr.x+Se[0],nr.y+Se[1]];Wl(R,Mr),Dt.push(Mr)}De.push(Dt)}if(R[2]-R[0]<=pe/2){Vu(R);for(var Xr=0,mn=De;Xr<mn.length;Xr+=1)for(var cn=mn[Xr],Gn=0,Cn=cn;Gn<Cn.length;Gn+=1){var Bn=Cn[Gn];Sl(Bn,R,G,pe)}}return De}function Jn(P,R){var G=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=P.canonicalID();if(R.type==="Polygon"){var Se=xf(R.coordinates,ie,pe),De=En(P.geometry(),G,ie,pe);if(!Bu(G,ie))return!1;for(var Qe=0,gt=De;Qe<gt.length;Qe+=1){var Ct=gt[Qe];if(!_c(Ct,Se))return!1}}if(R.type==="MultiPolygon"){var Dt=ah(R.coordinates,ie,pe),jt=En(P.geometry(),G,ie,pe);if(!Bu(G,ie))return!1;for(var lr=0,nr=jt;lr<nr.length;lr+=1){var Mr=nr[lr];if(!Ph(Mr,Dt))return!1}}return!0}function Ya(P,R){var G=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=P.canonicalID();if(R.type==="Polygon"){var Se=xf(R.coordinates,ie,pe),De=ra(P.geometry(),G,ie,pe);if(!Bu(G,ie))return!1;for(var Qe=0,gt=De;Qe<gt.length;Qe+=1){var Ct=gt[Qe];if(!Uu(Ct,Se))return!1}}if(R.type==="MultiPolygon"){var Dt=ah(R.coordinates,ie,pe),jt=ra(P.geometry(),G,ie,pe);if(!Bu(G,ie))return!1;for(var lr=0,nr=jt;lr<nr.length;lr+=1){var Mr=nr[lr];if(!mf(Mr,Dt))return!1}}return!0}var si=function(R,G){this.type=Wn,this.geojson=R,this.geometries=G};si.parse=function(R,G){if(R.length!==2)return G.error("'within' expression requires exactly one argument, but found "+(R.length-1)+" instead.");if(Ou(R[1])){var ie=R[1];if(ie.type==="FeatureCollection")for(var pe=0;pe<ie.features.length;++pe){var Se=ie.features[pe].geometry.type;if(Se==="Polygon"||Se==="MultiPolygon")return new si(ie,ie.features[pe].geometry)}else if(ie.type==="Feature"){var De=ie.geometry.type;if(De==="Polygon"||De==="MultiPolygon")return new si(ie,ie.geometry)}else if(ie.type==="Polygon"||ie.type==="MultiPolygon")return new si(ie,ie)}return G.error("'within' expression requires valid geojson object that contains polygon geometry type.")},si.prototype.evaluate=function(R){if(R.geometry()!=null&&R.canonicalID()!=null){if(R.geometryType()==="Point")return Jn(R,this.geometries);if(R.geometryType()==="LineString")return Ya(R,this.geometries)}return!1},si.prototype.eachChild=function(){},si.prototype.outputDefined=function(){return!0},si.prototype.serialize=function(){return["within",this.geojson]};function Ri(P){if(P instanceof Vo){if(P.name==="get"&&P.args.length===1)return!1;if(P.name==="feature-state")return!1;if(P.name==="has"&&P.args.length===1)return!1;if(P.name==="properties"||P.name==="geometry-type"||P.name==="id")return!1;if(/^filter-/.test(P.name))return!1}if(P instanceof si)return!1;var R=!0;return P.eachChild(function(G){R&&!Ri(G)&&(R=!1)}),R}function lo(P){if(P instanceof Vo&&P.name==="feature-state")return!1;var R=!0;return P.eachChild(function(G){R&&!lo(G)&&(R=!1)}),R}function ji(P,R){if(P instanceof Vo&&R.indexOf(P.name)>=0)return!1;var G=!0;return P.eachChild(function(ie){G&&!ji(ie,R)&&(G=!1)}),G}var cl=function(R,G){this.type=G.type,this.name=R,this.boundExpression=G};cl.parse=function(R,G){if(R.length!==2||typeof R[1]!="string")return G.error("'var' expression requires exactly one string literal argument.");var ie=R[1];return G.scope.has(ie)?new cl(ie,G.scope.get(ie)):G.error('Unknown variable "'+ie+'". Make sure "'+ie+'" has been bound in an enclosing "let" expression before using it.',1)},cl.prototype.evaluate=function(R){return this.boundExpression.evaluate(R)},cl.prototype.eachChild=function(){},cl.prototype.outputDefined=function(){return!1},cl.prototype.serialize=function(){return["var",this.name]};var hl=function(R,G,ie,pe,Se){G===void 0&&(G=[]),pe===void 0&&(pe=new rn),Se===void 0&&(Se=[]),this.registry=R,this.path=G,this.key=G.map(function(De){return"["+De+"]"}).join(""),this.scope=pe,this.errors=Se,this.expectedType=ie};hl.prototype.parse=function(R,G,ie,pe,Se){return Se===void 0&&(Se={}),G?this.concat(G,ie,pe)._parse(R,Se):this._parse(R,Se)},hl.prototype._parse=function(R,G){(R===null||typeof R=="string"||typeof R=="boolean"||typeof R=="number")&&(R=["literal",R]);function ie(Dt,jt,lr){return lr==="assert"?new Uo(jt,[Dt]):lr==="coerce"?new cs(jt,[Dt]):Dt}if(Array.isArray(R)){if(R.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var pe=R[0];if(typeof pe!="string")return this.error("Expression name must be a string, but found "+typeof pe+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[pe];if(Se){var De=Se.parse(R,this);if(!De)return null;if(this.expectedType){var Qe=this.expectedType,gt=De.type;if((Qe.kind==="string"||Qe.kind==="number"||Qe.kind==="boolean"||Qe.kind==="object"||Qe.kind==="array")&&gt.kind==="value")De=ie(De,Qe,G.typeAnnotation||"assert");else if((Qe.kind==="color"||Qe.kind==="formatted"||Qe.kind==="resolvedImage")&&(gt.kind==="value"||gt.kind==="string"))De=ie(De,Qe,G.typeAnnotation||"coerce");else if(this.checkSubtype(Qe,gt))return null}if(!(De instanceof xo)&&De.type.kind!=="resolvedImage"&&xs(De)){var Ct=new ul;try{De=new xo(De.type,De.evaluate(Ct))}catch(Dt){return this.error(Dt.message),null}}return De}return this.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof R>"u"?this.error("'undefined' value invalid. Use null instead."):typeof R=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof R+" instead.")},hl.prototype.concat=function(R,G,ie){var pe=typeof R=="number"?this.path.concat(R):this.path,Se=ie?this.scope.concat(ie):this.scope;return new hl(this.registry,pe,G||null,Se,this.errors)},hl.prototype.error=function(R){for(var G=[],ie=arguments.length-1;ie-- >0;)G[ie]=arguments[ie+1];var pe=""+this.key+G.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new Dr(pe,R))},hl.prototype.checkSubtype=function(R,G){var ie=is(R,G);return ie&&this.error(ie),ie};function xs(P){if(P instanceof cl)return xs(P.boundExpression);if(P instanceof Vo&&P.name==="error")return!1;if(P instanceof Gl)return!1;if(P instanceof si)return!1;var R=P instanceof cs||P instanceof Uo,G=!0;return P.eachChild(function(ie){R?G=G&&xs(ie):G=G&&ie instanceof xo}),G?Ri(P)&&ji(P,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function El(P,R){for(var G=P.length-1,ie=0,pe=G,Se=0,De,Qe;ie<=pe;)if(Se=Math.floor((ie+pe)/2),De=P[Se],Qe=P[Se+1],De<=R){if(Se===G||R<Qe)return Se;ie=Se+1}else if(De>R)pe=Se-1;else throw new Lo("Input is not a number.");return 0}var Js=function(R,G,ie){this.type=R,this.input=G,this.labels=[],this.outputs=[];for(var pe=0,Se=ie;pe<Se.length;pe+=1){var De=Se[pe],Qe=De[0],gt=De[1];this.labels.push(Qe),this.outputs.push(gt)}};Js.parse=function(R,G){if(R.length-1<4)return G.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if((R.length-1)%2!==0)return G.error("Expected an even number of arguments.");var ie=G.parse(R[1],1,on);if(!ie)return null;var pe=[],Se=null;G.expectedType&&G.expectedType.kind!=="value"&&(Se=G.expectedType);for(var De=1;De<R.length;De+=2){var Qe=De===1?-1/0:R[De],gt=R[De+1],Ct=De,Dt=De+1;if(typeof Qe!="number")return G.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ct);if(pe.length&&pe[pe.length-1][0]>=Qe)return G.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Ct);var jt=G.parse(gt,Dt,Se);if(!jt)return null;Se=Se||jt.type,pe.push([Qe,jt])}return new Js(Se,ie,pe)},Js.prototype.evaluate=function(R){var G=this.labels,ie=this.outputs;if(G.length===1)return ie[0].evaluate(R);var pe=this.input.evaluate(R);if(pe<=G[0])return ie[0].evaluate(R);var Se=G.length;if(pe>=G[Se-1])return ie[Se-1].evaluate(R);var De=El(G,pe);return ie[De].evaluate(R)},Js.prototype.eachChild=function(R){R(this.input);for(var G=0,ie=this.outputs;G<ie.length;G+=1){var pe=ie[G];R(pe)}},Js.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})},Js.prototype.serialize=function(){for(var R=["step",this.input.serialize()],G=0;G<this.labels.length;G++)G>0&&R.push(this.labels[G]),R.push(this.outputs[G].serialize());return R};function eo(P,R,G){return P*(1-G)+R*G}function Hu(P,R,G){return new Ti(eo(P.r,R.r,G),eo(P.g,R.g,G),eo(P.b,R.b,G),eo(P.a,R.a,G))}function Qf(P,R,G){return P.map(function(ie,pe){return eo(ie,R[pe],G)})}var Yi=Object.freeze({__proto__:null,number:eo,color:Hu,array:Qf}),Gu=.95047,su=1,$o=1.08883,qf=4/29,Wu=6/29,ec=3*Wu*Wu,tc=Wu*Wu*Wu,Cl=Math.PI/180,Yu=180/Math.PI;function rc(P){return P>tc?Math.pow(P,.3333333333333333):P/ec+qf}function Xu(P){return P>Wu?P*P*P:ec*(P-qf)}function lu(P){return 255*(P<=.0031308?12.92*P:1.055*Math.pow(P,.4166666666666667)-.055)}function bf(P){return P/=255,P<=.04045?P/12.92:Math.pow((P+.055)/1.055,2.4)}function Zl(P){var R=bf(P.r),G=bf(P.g),ie=bf(P.b),pe=rc((.4124564*R+.3575761*G+.1804375*ie)/Gu),Se=rc((.2126729*R+.7151522*G+.072175*ie)/su),De=rc((.0193339*R+.119192*G+.9503041*ie)/$o);return{l:116*Se-16,a:500*(pe-Se),b:200*(Se-De),alpha:P.a}}function wf(P){var R=(P.l+16)/116,G=isNaN(P.a)?R:R+P.a/500,ie=isNaN(P.b)?R:R-P.b/200;return R=su*Xu(R),G=Gu*Xu(G),ie=$o*Xu(ie),new Ti(lu(3.2404542*G-1.5371385*R-.4985314*ie),lu(-.969266*G+1.8760108*R+.041556*ie),lu(.0556434*G-.2040259*R+1.0572252*ie),P.alpha)}function Ui(P,R,G){return{l:eo(P.l,R.l,G),a:eo(P.a,R.a,G),b:eo(P.b,R.b,G),alpha:eo(P.alpha,R.alpha,G)}}function jl(P){var R=Zl(P),G=R.l,ie=R.a,pe=R.b,Se=Math.atan2(pe,ie)*Yu;return{h:Se<0?Se+360:Se,c:Math.sqrt(ie*ie+pe*pe),l:G,alpha:P.a}}function bs(P){var R=P.h*Cl,G=P.c,ie=P.l;return wf({l:ie,a:Math.cos(R)*G,b:Math.sin(R)*G,alpha:P.alpha})}function ih(P,R,G){var ie=R-P;return P+G*(ie>180||ie<-180?ie-360*Math.round(ie/360):ie)}function Pc(P,R,G){return{h:ih(P.h,R.h,G),c:eo(P.c,R.c,G),l:eo(P.l,R.l,G),alpha:eo(P.alpha,R.alpha,G)}}var uu={forward:Zl,reverse:wf,interpolate:Ui},$s={forward:jl,reverse:bs,interpolate:Pc},fu=Object.freeze({__proto__:null,lab:uu,hcl:$s}),go=function(R,G,ie,pe,Se){this.type=R,this.operator=G,this.interpolation=ie,this.input=pe,this.labels=[],this.outputs=[];for(var De=0,Qe=Se;De<Qe.length;De+=1){var gt=Qe[De],Ct=gt[0],Dt=gt[1];this.labels.push(Ct),this.outputs.push(Dt)}};go.interpolationFactor=function(R,G,ie,pe){var Se=0;if(R.name==="exponential")Se=Tf(G,R.base,ie,pe);else if(R.name==="linear")Se=Tf(G,1,ie,pe);else if(R.name==="cubic-bezier"){var De=R.controlPoints,Qe=new v(De[0],De[1],De[2],De[3]);Se=Qe.solve(Tf(G,1,ie,pe))}return Se},go.parse=function(R,G){var ie=R[0],pe=R[1],Se=R[2],De=R.slice(3);if(!Array.isArray(pe)||pe.length===0)return G.error("Expected an interpolation type expression.",1);if(pe[0]==="linear")pe={name:"linear"};else if(pe[0]==="exponential"){var Qe=pe[1];if(typeof Qe!="number")return G.error("Exponential interpolation requires a numeric base.",1,1);pe={name:"exponential",base:Qe}}else if(pe[0]==="cubic-bezier"){var gt=pe.slice(1);if(gt.length!==4||gt.some(function(cn){return typeof cn!="number"||cn<0||cn>1}))return G.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);pe={name:"cubic-bezier",controlPoints:gt}}else return G.error("Unknown interpolation type "+String(pe[0]),1,0);if(R.length-1<4)return G.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if((R.length-1)%2!==0)return G.error("Expected an even number of arguments.");if(Se=G.parse(Se,2,on),!Se)return null;var Ct=[],Dt=null;ie==="interpolate-hcl"||ie==="interpolate-lab"?Dt=In:G.expectedType&&G.expectedType.kind!=="value"&&(Dt=G.expectedType);for(var jt=0;jt<De.length;jt+=2){var lr=De[jt],nr=De[jt+1],Mr=jt+3,Xr=jt+4;if(typeof lr!="number")return G.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Mr);if(Ct.length&&Ct[Ct.length-1][0]>=lr)return G.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Mr);var mn=G.parse(nr,Xr,Dt);if(!mn)return null;Dt=Dt||mn.type,Ct.push([lr,mn])}return Dt.kind!=="number"&&Dt.kind!=="color"&&!(Dt.kind==="array"&&Dt.itemType.kind==="number"&&typeof Dt.N=="number")?G.error("Type "+Li(Dt)+" is not interpolatable."):new go(Dt,ie,pe,Se,Ct)},go.prototype.evaluate=function(R){var G=this.labels,ie=this.outputs;if(G.length===1)return ie[0].evaluate(R);var pe=this.input.evaluate(R);if(pe<=G[0])return ie[0].evaluate(R);var Se=G.length;if(pe>=G[Se-1])return ie[Se-1].evaluate(R);var De=El(G,pe),Qe=G[De],gt=G[De+1],Ct=go.interpolationFactor(this.interpolation,pe,Qe,gt),Dt=ie[De].evaluate(R),jt=ie[De+1].evaluate(R);return this.operator==="interpolate"?Yi[this.type.kind.toLowerCase()](Dt,jt,Ct):this.operator==="interpolate-hcl"?$s.reverse($s.interpolate($s.forward(Dt),$s.forward(jt),Ct)):uu.reverse(uu.interpolate(uu.forward(Dt),uu.forward(jt),Ct))},go.prototype.eachChild=function(R){R(this.input);for(var G=0,ie=this.outputs;G<ie.length;G+=1){var pe=ie[G];R(pe)}},go.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})},go.prototype.serialize=function(){var R;this.interpolation.name==="linear"?R=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?R=["linear"]:R=["exponential",this.interpolation.base]:R=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var G=[this.operator,R,this.input.serialize()],ie=0;ie<this.labels.length;ie++)G.push(this.labels[ie],this.outputs[ie].serialize());return G};function Tf(P,R,G,ie){var pe=ie-G,Se=P-G;return pe===0?0:R===1?Se/pe:(Math.pow(R,Se)-1)/(Math.pow(R,pe)-1)}var Hs=function(R,G){this.type=R,this.args=G};Hs.parse=function(R,G){if(R.length<2)return G.error("Expectected at least one argument.");var ie=null,pe=G.expectedType;pe&&pe.kind!=="value"&&(ie=pe);for(var Se=[],De=0,Qe=R.slice(1);De<Qe.length;De+=1){var gt=Qe[De],Ct=G.parse(gt,1+Se.length,ie,void 0,{typeAnnotation:"omit"});if(!Ct)return null;ie=ie||Ct.type,Se.push(Ct)}var Dt=pe&&Se.some(function(jt){return is(pe,jt.type)});return Dt?new Hs(Kn,Se):new Hs(ie,Se)},Hs.prototype.evaluate=function(R){for(var G=null,ie=0,pe,Se=0,De=this.args;Se<De.length;Se+=1){var Qe=De[Se];if(ie++,G=Qe.evaluate(R),G&&G instanceof os&&!G.available&&(pe||(pe=G.name),G=null,ie===this.args.length&&(G=pe)),G!==null)break}return G},Hs.prototype.eachChild=function(R){this.args.forEach(R)},Hs.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},Hs.prototype.serialize=function(){var R=["coalesce"];return this.eachChild(function(G){R.push(G.serialize())}),R};var Ll=function(R,G){this.type=G.type,this.bindings=[].concat(R),this.result=G};Ll.prototype.evaluate=function(R){return this.result.evaluate(R)},Ll.prototype.eachChild=function(R){for(var G=0,ie=this.bindings;G<ie.length;G+=1){var pe=ie[G];R(pe[1])}R(this.result)},Ll.parse=function(R,G){if(R.length<4)return G.error("Expected at least 3 arguments, but found "+(R.length-1)+" instead.");for(var ie=[],pe=1;pe<R.length-1;pe+=2){var Se=R[pe];if(typeof Se!="string")return G.error("Expected string, but found "+typeof Se+" instead.",pe);if(/[^a-zA-Z0-9_]/.test(Se))return G.error("Variable names must contain only alphanumeric characters or '_'.",pe);var De=G.parse(R[pe+1],pe+1);if(!De)return null;ie.push([Se,De])}var Qe=G.parse(R[R.length-1],R.length-1,G.expectedType,ie);return Qe?new Ll(ie,Qe):null},Ll.prototype.outputDefined=function(){return this.result.outputDefined()},Ll.prototype.serialize=function(){for(var R=["let"],G=0,ie=this.bindings;G<ie.length;G+=1){var pe=ie[G],Se=pe[0],De=pe[1];R.push(Se,De.serialize())}return R.push(this.result.serialize()),R};var cu=function(R,G,ie){this.type=R,this.index=G,this.input=ie};cu.parse=function(R,G){if(R.length!==3)return G.error("Expected 2 arguments, but found "+(R.length-1)+" instead.");var ie=G.parse(R[1],1,on),pe=G.parse(R[2],2,Pi(G.expectedType||Kn));if(!ie||!pe)return null;var Se=pe.type;return new cu(Se.itemType,ie,pe)},cu.prototype.evaluate=function(R){var G=this.index.evaluate(R),ie=this.input.evaluate(R);if(G<0)throw new Lo("Array index out of bounds: "+G+" < 0.");if(G>=ie.length)throw new Lo("Array index out of bounds: "+G+" > "+(ie.length-1)+".");if(G!==Math.floor(G))throw new Lo("Array index must be an integer, but found "+G+" instead.");return ie[G]},cu.prototype.eachChild=function(R){R(this.index),R(this.input)},cu.prototype.outputDefined=function(){return!1},cu.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var io=function(R,G){this.type=Wn,this.needle=R,this.haystack=G};io.parse=function(R,G){if(R.length!==3)return G.error("Expected 2 arguments, but found "+(R.length-1)+" instead.");var ie=G.parse(R[1],1,Kn),pe=G.parse(R[2],2,Kn);return!ie||!pe?null:Jo(ie.type,[Wn,_n,on,Kr,Kn])?new io(ie,pe):G.error("Expected first argument to be of type boolean, string, number or null, but found "+Li(ie.type)+" instead")},io.prototype.evaluate=function(R){var G=this.needle.evaluate(R),ie=this.haystack.evaluate(R);if(!ie)return!1;if(!ku(G,["boolean","string","number","null"]))throw new Lo("Expected first argument to be of type boolean, string, number or null, but found "+Li(mo(G))+" instead.");if(!ku(ie,["string","array"]))throw new Lo("Expected second argument to be of type array or string, but found "+Li(mo(ie))+" instead.");return ie.indexOf(G)>=0},io.prototype.eachChild=function(R){R(this.needle),R(this.haystack)},io.prototype.outputDefined=function(){return!0},io.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var oo=function(R,G,ie){this.type=on,this.needle=R,this.haystack=G,this.fromIndex=ie};oo.parse=function(R,G){if(R.length<=2||R.length>=5)return G.error("Expected 3 or 4 arguments, but found "+(R.length-1)+" instead.");var ie=G.parse(R[1],1,Kn),pe=G.parse(R[2],2,Kn);if(!ie||!pe)return null;if(!Jo(ie.type,[Wn,_n,on,Kr,Kn]))return G.error("Expected first argument to be of type boolean, string, number or null, but found "+Li(ie.type)+" instead");if(R.length===4){var Se=G.parse(R[3],3,on);return Se?new oo(ie,pe,Se):null}else return new oo(ie,pe)},oo.prototype.evaluate=function(R){var G=this.needle.evaluate(R),ie=this.haystack.evaluate(R);if(!ku(G,["boolean","string","number","null"]))throw new Lo("Expected first argument to be of type boolean, string, number or null, but found "+Li(mo(G))+" instead.");if(!ku(ie,["string","array"]))throw new Lo("Expected second argument to be of type array or string, but found "+Li(mo(ie))+" instead.");if(this.fromIndex){var pe=this.fromIndex.evaluate(R);return ie.indexOf(G,pe)}return ie.indexOf(G)},oo.prototype.eachChild=function(R){R(this.needle),R(this.haystack),this.fromIndex&&R(this.fromIndex)},oo.prototype.outputDefined=function(){return!1},oo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var R=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),R]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var _l=function(R,G,ie,pe,Se,De){this.inputType=R,this.type=G,this.input=ie,this.cases=pe,this.outputs=Se,this.otherwise=De};_l.parse=function(R,G){if(R.length<5)return G.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if(R.length%2!==1)return G.error("Expected an even number of arguments.");var ie,pe;G.expectedType&&G.expectedType.kind!=="value"&&(pe=G.expectedType);for(var Se={},De=[],Qe=2;Qe<R.length-1;Qe+=2){var gt=R[Qe],Ct=R[Qe+1];Array.isArray(gt)||(gt=[gt]);var Dt=G.concat(Qe);if(gt.length===0)return Dt.error("Expected at least one branch label.");for(var jt=0,lr=gt;jt<lr.length;jt+=1){var nr=lr[jt];if(typeof nr!="number"&&typeof nr!="string")return Dt.error("Branch labels must be numbers or strings.");if(typeof nr=="number"&&Math.abs(nr)>Number.MAX_SAFE_INTEGER)return Dt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof nr=="number"&&Math.floor(nr)!==nr)return Dt.error("Numeric branch labels must be integer values.");if(!ie)ie=mo(nr);else if(Dt.checkSubtype(ie,mo(nr)))return null;if(typeof Se[String(nr)]<"u")return Dt.error("Branch labels must be unique.");Se[String(nr)]=De.length}var Mr=G.parse(Ct,Qe,pe);if(!Mr)return null;pe=pe||Mr.type,De.push(Mr)}var Xr=G.parse(R[1],1,Kn);if(!Xr)return null;var mn=G.parse(R[R.length-1],R.length-1,pe);return!mn||Xr.type.kind!=="value"&&G.concat(1).checkSubtype(ie,Xr.type)?null:new _l(ie,pe,Xr,Se,De,mn)},_l.prototype.evaluate=function(R){var G=this.input.evaluate(R),ie=mo(G)===this.inputType&&this.outputs[this.cases[G]]||this.otherwise;return ie.evaluate(R)},_l.prototype.eachChild=function(R){R(this.input),this.outputs.forEach(R),R(this.otherwise)},_l.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})&&this.otherwise.outputDefined()},_l.prototype.serialize=function(){for(var R=this,G=["match",this.input.serialize()],ie=Object.keys(this.cases).sort(),pe=[],Se={},De=0,Qe=ie;De<Qe.length;De+=1){var gt=Qe[De],Ct=Se[this.cases[gt]];Ct===void 0?(Se[this.cases[gt]]=pe.length,pe.push([this.cases[gt],[gt]])):pe[Ct][1].push(gt)}for(var Dt=function(Xr){return R.inputType.kind==="number"?Number(Xr):Xr},jt=0,lr=pe;jt<lr.length;jt+=1){var nr=lr[jt],Ct=nr[0],Mr=nr[1];Mr.length===1?G.push(Dt(Mr[0])):G.push(Mr.map(Dt)),G.push(this.outputs[outputIndex$1].serialize())}return G.push(this.otherwise.serialize()),G};var Qs=function(R,G,ie){this.type=R,this.branches=G,this.otherwise=ie};Qs.parse=function(R,G){if(R.length<4)return G.error("Expected at least 3 arguments, but found only "+(R.length-1)+".");if(R.length%2!==0)return G.error("Expected an odd number of arguments.");var ie;G.expectedType&&G.expectedType.kind!=="value"&&(ie=G.expectedType);for(var pe=[],Se=1;Se<R.length-1;Se+=2){var De=G.parse(R[Se],Se,Wn);if(!De)return null;var Qe=G.parse(R[Se+1],Se+1,ie);if(!Qe)return null;pe.push([De,Qe]),ie=ie||Qe.type}var gt=G.parse(R[R.length-1],R.length-1,ie);return gt?new Qs(ie,pe,gt):null},Qs.prototype.evaluate=function(R){for(var G=0,ie=this.branches;G<ie.length;G+=1){var pe=ie[G],Se=pe[0],De=pe[1];if(Se.evaluate(R))return De.evaluate(R)}return this.otherwise.evaluate(R)},Qs.prototype.eachChild=function(R){for(var G=0,ie=this.branches;G<ie.length;G+=1){var pe=ie[G],Se=pe[0],De=pe[1];R(Se),R(De)}R(this.otherwise)},Qs.prototype.outputDefined=function(){return this.branches.every(function(R){R[0];var G=R[1];return G.outputDefined()})&&this.otherwise.outputDefined()},Qs.prototype.serialize=function(){var R=["case"];return this.eachChild(function(G){R.push(G.serialize())}),R};var Rs=function(R,G,ie,pe){this.type=R,this.input=G,this.beginIndex=ie,this.endIndex=pe};Rs.parse=function(R,G){if(R.length<=2||R.length>=5)return G.error("Expected 3 or 4 arguments, but found "+(R.length-1)+" instead.");var ie=G.parse(R[1],1,Kn),pe=G.parse(R[2],2,on);if(!ie||!pe)return null;if(!Jo(ie.type,[Pi(Kn),_n,Kn]))return G.error("Expected first argument to be of type array or string, but found "+Li(ie.type)+" instead");if(R.length===4){var Se=G.parse(R[3],3,on);return Se?new Rs(ie.type,ie,pe,Se):null}else return new Rs(ie.type,ie,pe)},Rs.prototype.evaluate=function(R){var G=this.input.evaluate(R),ie=this.beginIndex.evaluate(R);if(!ku(G,["string","array"]))throw new Lo("Expected first argument to be of type array or string, but found "+Li(mo(G))+" instead.");if(this.endIndex){var pe=this.endIndex.evaluate(R);return G.slice(ie,pe)}return G.slice(ie)},Rs.prototype.eachChild=function(R){R(this.input),R(this.beginIndex),this.endIndex&&R(this.endIndex)},Rs.prototype.outputDefined=function(){return!1},Rs.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var R=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),R]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Af(P,R){return P==="=="||P==="!="?R.kind==="boolean"||R.kind==="string"||R.kind==="number"||R.kind==="null"||R.kind==="value":R.kind==="string"||R.kind==="number"||R.kind==="value"}function Rc(P,R,G){return R===G}function Mf(P,R,G){return R!==G}function Dc(P,R,G){return R<G}function Zu(P,R,G){return R>G}function hu(P,R,G){return R<=G}function ju(P,R,G){return R>=G}function Pl(P,R,G,ie){return ie.compare(R,G)===0}function bo(P,R,G,ie){return!Pl(P,R,G,ie)}function Ds(P,R,G,ie){return ie.compare(R,G)<0}function Ku(P,R,G,ie){return ie.compare(R,G)>0}function oh(P,R,G,ie){return ie.compare(R,G)<=0}function Sf(P,R,G,ie){return ie.compare(R,G)>=0}function Rl(P,R,G){var ie=P!=="=="&&P!=="!=";return function(){function pe(Se,De,Qe){this.type=Wn,this.lhs=Se,this.rhs=De,this.collator=Qe,this.hasUntypedArgument=Se.type.kind==="value"||De.type.kind==="value"}return pe.parse=function(De,Qe){if(De.length!==3&&De.length!==4)return Qe.error("Expected two or three arguments.");var gt=De[0],Ct=Qe.parse(De[1],1,Kn);if(!Ct)return null;if(!Af(gt,Ct.type))return Qe.concat(1).error('"'+gt+`" comparisons are not supported for type '`+Li(Ct.type)+"'.");var Dt=Qe.parse(De[2],2,Kn);if(!Dt)return null;if(!Af(gt,Dt.type))return Qe.concat(2).error('"'+gt+`" comparisons are not supported for type '`+Li(Dt.type)+"'.");if(Ct.type.kind!==Dt.type.kind&&Ct.type.kind!=="value"&&Dt.type.kind!=="value")return Qe.error("Cannot compare types '"+Li(Ct.type)+"' and '"+Li(Dt.type)+"'.");ie&&(Ct.type.kind==="value"&&Dt.type.kind!=="value"?Ct=new Uo(Dt.type,[Ct]):Ct.type.kind!=="value"&&Dt.type.kind==="value"&&(Dt=new Uo(Ct.type,[Dt])));var jt=null;if(De.length===4){if(Ct.type.kind!=="string"&&Dt.type.kind!=="string"&&Ct.type.kind!=="value"&&Dt.type.kind!=="value")return Qe.error("Cannot use collator to compare non-string types.");if(jt=Qe.parse(De[3],3,xa),!jt)return null}return new pe(Ct,Dt,jt)},pe.prototype.evaluate=function(De){var Qe=this.lhs.evaluate(De),gt=this.rhs.evaluate(De);if(ie&&this.hasUntypedArgument){var Ct=mo(Qe),Dt=mo(gt);if(Ct.kind!==Dt.kind||!(Ct.kind==="string"||Ct.kind==="number"))throw new Lo('Expected arguments for "'+P+'" to be (string, string) or (number, number), but found ('+Ct.kind+", "+Dt.kind+") instead.")}if(this.collator&&!ie&&this.hasUntypedArgument){var jt=mo(Qe),lr=mo(gt);if(jt.kind!=="string"||lr.kind!=="string")return R(De,Qe,gt)}return this.collator?G(De,Qe,gt,this.collator.evaluate(De)):R(De,Qe,gt)},pe.prototype.eachChild=function(De){De(this.lhs),De(this.rhs),this.collator&&De(this.collator)},pe.prototype.outputDefined=function(){return!0},pe.prototype.serialize=function(){var De=[P];return this.eachChild(function(Qe){De.push(Qe.serialize())}),De},pe}()}var nc=Rl("==",Rc,Pl),Ju=Rl("!=",Mf,bo),Ic=Rl("<",Dc,Ds),Cr=Rl(">",Zu,Ku),vu=Rl("<=",hu,oh),Ho=Rl(">=",ju,Sf),So=function(R,G,ie,pe,Se){this.type=_n,this.number=R,this.locale=G,this.currency=ie,this.minFractionDigits=pe,this.maxFractionDigits=Se};So.parse=function(R,G){if(R.length!==3)return G.error("Expected two arguments.");var ie=G.parse(R[1],1,on);if(!ie)return null;var pe=R[2];if(typeof pe!="object"||Array.isArray(pe))return G.error("NumberFormat options argument must be an object.");var Se=null;if(pe.locale&&(Se=G.parse(pe.locale,1,_n),!Se))return null;var De=null;if(pe.currency&&(De=G.parse(pe.currency,1,_n),!De))return null;var Qe=null;if(pe["min-fraction-digits"]&&(Qe=G.parse(pe["min-fraction-digits"],1,on),!Qe))return null;var gt=null;return pe["max-fraction-digits"]&&(gt=G.parse(pe["max-fraction-digits"],1,on),!gt)?null:new So(ie,Se,De,Qe,gt)},So.prototype.evaluate=function(R){return new Intl.NumberFormat(this.locale?this.locale.evaluate(R):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(R):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(R):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(R):void 0}).format(this.number.evaluate(R))},So.prototype.eachChild=function(R){R(this.number),this.locale&&R(this.locale),this.currency&&R(this.currency),this.minFractionDigits&&R(this.minFractionDigits),this.maxFractionDigits&&R(this.maxFractionDigits)},So.prototype.outputDefined=function(){return!1},So.prototype.serialize=function(){var R={};return this.locale&&(R.locale=this.locale.serialize()),this.currency&&(R.currency=this.currency.serialize()),this.minFractionDigits&&(R["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(R["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),R]};var pi=function(R){this.type=on,this.input=R};pi.parse=function(R,G){if(R.length!==2)return G.error("Expected 1 argument, but found "+(R.length-1)+" instead.");var ie=G.parse(R[1],1);return ie?ie.type.kind!=="array"&&ie.type.kind!=="string"&&ie.type.kind!=="value"?G.error("Expected argument of type string or array, but found "+Li(ie.type)+" instead."):new pi(ie):null},pi.prototype.evaluate=function(R){var G=this.input.evaluate(R);if(typeof G=="string")return G.length;if(Array.isArray(G))return G.length;throw new Lo("Expected value to be of type string or array, but found "+Li(mo(G))+" instead.")},pi.prototype.eachChild=function(R){R(this.input)},pi.prototype.outputDefined=function(){return!1},pi.prototype.serialize=function(){var R=["length"];return this.eachChild(function(G){R.push(G.serialize())}),R};var $u={"==":nc,"!=":Ju,">":Cr,"<":Ic,">=":Ho,"<=":vu,array:Uo,at:cu,boolean:Uo,case:Qs,coalesce:Hs,collator:Gl,format:$i,image:fs,in:io,"index-of":oo,interpolate:go,"interpolate-hcl":go,"interpolate-lab":go,length:pi,let:Ll,literal:xo,match:_l,number:Uo,"number-format":So,object:Uo,slice:Rs,step:Js,string:Uo,"to-boolean":cs,"to-color":cs,"to-number":cs,"to-string":cs,var:cl,within:si};function ac(P,R){var G=R[0],ie=R[1],pe=R[2],Se=R[3];G=G.evaluate(P),ie=ie.evaluate(P),pe=pe.evaluate(P);var De=Se?Se.evaluate(P):1,Qe=Hl(G,ie,pe,De);if(Qe)throw new Lo(Qe);return new Ti(G/255*De,ie/255*De,pe/255*De,De)}function du(P,R){return P in R}function Is(P,R){var G=R[P];return typeof G>"u"?null:G}function sh(P,R,G,ie){for(;G<=ie;){var pe=G+ie>>1;if(R[pe]===P)return!0;R[pe]>P?ie=pe-1:G=pe+1}return!1}function Dl(P){return{type:P}}Vo.register($u,{error:[Aa,[_n],function(P,R){var G=R[0];throw new Lo(G.evaluate(P))}],typeof:[_n,[Kn],function(P,R){var G=R[0];return Li(mo(G.evaluate(P)))}],"to-rgba":[Pi(on,4),[In],function(P,R){var G=R[0];return G.evaluate(P).toArray()}],rgb:[In,[on,on,on],ac],rgba:[In,[on,on,on,on],ac],has:{type:Wn,overloads:[[[_n],function(P,R){var G=R[0];return du(G.evaluate(P),P.properties())}],[[_n,Qn],function(P,R){var G=R[0],ie=R[1];return du(G.evaluate(P),ie.evaluate(P))}]]},get:{type:Kn,overloads:[[[_n],function(P,R){var G=R[0];return Is(G.evaluate(P),P.properties())}],[[_n,Qn],function(P,R){var G=R[0],ie=R[1];return Is(G.evaluate(P),ie.evaluate(P))}]]},"feature-state":[Kn,[_n],function(P,R){var G=R[0];return Is(G.evaluate(P),P.featureState||{})}],properties:[Qn,[],function(P){return P.properties()}],"geometry-type":[_n,[],function(P){return P.geometryType()}],id:[Kn,[],function(P){return P.id()}],zoom:[on,[],function(P){return P.globals.zoom}],"heatmap-density":[on,[],function(P){return P.globals.heatmapDensity||0}],"line-progress":[on,[],function(P){return P.globals.lineProgress||0}],accumulated:[Kn,[],function(P){return P.globals.accumulated===void 0?null:P.globals.accumulated}],"+":[on,Dl(on),function(P,R){for(var G=0,ie=0,pe=R;ie<pe.length;ie+=1){var Se=pe[ie];G+=Se.evaluate(P)}return G}],"*":[on,Dl(on),function(P,R){for(var G=1,ie=0,pe=R;ie<pe.length;ie+=1){var Se=pe[ie];G*=Se.evaluate(P)}return G}],"-":{type:on,overloads:[[[on,on],function(P,R){var G=R[0],ie=R[1];return G.evaluate(P)-ie.evaluate(P)}],[[on],function(P,R){var G=R[0];return-G.evaluate(P)}]]},"/":[on,[on,on],function(P,R){var G=R[0],ie=R[1];return G.evaluate(P)/ie.evaluate(P)}],"%":[on,[on,on],function(P,R){var G=R[0],ie=R[1];return G.evaluate(P)%ie.evaluate(P)}],ln2:[on,[],function(){return Math.LN2}],pi:[on,[],function(){return Math.PI}],e:[on,[],function(){return Math.E}],"^":[on,[on,on],function(P,R){var G=R[0],ie=R[1];return Math.pow(G.evaluate(P),ie.evaluate(P))}],sqrt:[on,[on],function(P,R){var G=R[0];return Math.sqrt(G.evaluate(P))}],log10:[on,[on],function(P,R){var G=R[0];return Math.log(G.evaluate(P))/Math.LN10}],ln:[on,[on],function(P,R){var G=R[0];return Math.log(G.evaluate(P))}],log2:[on,[on],function(P,R){var G=R[0];return Math.log(G.evaluate(P))/Math.LN2}],sin:[on,[on],function(P,R){var G=R[0];return Math.sin(G.evaluate(P))}],cos:[on,[on],function(P,R){var G=R[0];return Math.cos(G.evaluate(P))}],tan:[on,[on],function(P,R){var G=R[0];return Math.tan(G.evaluate(P))}],asin:[on,[on],function(P,R){var G=R[0];return Math.asin(G.evaluate(P))}],acos:[on,[on],function(P,R){var G=R[0];return Math.acos(G.evaluate(P))}],atan:[on,[on],function(P,R){var G=R[0];return Math.atan(G.evaluate(P))}],min:[on,Dl(on),function(P,R){return Math.min.apply(Math,R.map(function(G){return G.evaluate(P)}))}],max:[on,Dl(on),function(P,R){return Math.max.apply(Math,R.map(function(G){return G.evaluate(P)}))}],abs:[on,[on],function(P,R){var G=R[0];return Math.abs(G.evaluate(P))}],round:[on,[on],function(P,R){var G=R[0],ie=G.evaluate(P);return ie<0?-Math.round(-ie):Math.round(ie)}],floor:[on,[on],function(P,R){var G=R[0];return Math.floor(G.evaluate(P))}],ceil:[on,[on],function(P,R){var G=R[0];return Math.ceil(G.evaluate(P))}],"filter-==":[Wn,[_n,Kn],function(P,R){var G=R[0],ie=R[1];return P.properties()[G.value]===ie.value}],"filter-id-==":[Wn,[Kn],function(P,R){var G=R[0];return P.id()===G.value}],"filter-type-==":[Wn,[_n],function(P,R){var G=R[0];return P.geometryType()===G.value}],"filter-<":[Wn,[_n,Kn],function(P,R){var G=R[0],ie=R[1],pe=P.properties()[G.value],Se=ie.value;return typeof pe==typeof Se&&pe<Se}],"filter-id-<":[Wn,[Kn],function(P,R){var G=R[0],ie=P.id(),pe=G.value;return typeof ie==typeof pe&&ie<pe}],"filter->":[Wn,[_n,Kn],function(P,R){var G=R[0],ie=R[1],pe=P.properties()[G.value],Se=ie.value;return typeof pe==typeof Se&&pe>Se}],"filter-id->":[Wn,[Kn],function(P,R){var G=R[0],ie=P.id(),pe=G.value;return typeof ie==typeof pe&&ie>pe}],"filter-<=":[Wn,[_n,Kn],function(P,R){var G=R[0],ie=R[1],pe=P.properties()[G.value],Se=ie.value;return typeof pe==typeof Se&&pe<=Se}],"filter-id-<=":[Wn,[Kn],function(P,R){var G=R[0],ie=P.id(),pe=G.value;return typeof ie==typeof pe&&ie<=pe}],"filter->=":[Wn,[_n,Kn],function(P,R){var G=R[0],ie=R[1],pe=P.properties()[G.value],Se=ie.value;return typeof pe==typeof Se&&pe>=Se}],"filter-id->=":[Wn,[Kn],function(P,R){var G=R[0],ie=P.id(),pe=G.value;return typeof ie==typeof pe&&ie>=pe}],"filter-has":[Wn,[Kn],function(P,R){var G=R[0];return G.value in P.properties()}],"filter-has-id":[Wn,[],function(P){return P.id()!==null&&P.id()!==void 0}],"filter-type-in":[Wn,[Pi(_n)],function(P,R){var G=R[0];return G.value.indexOf(P.geometryType())>=0}],"filter-id-in":[Wn,[Pi(Kn)],function(P,R){var G=R[0];return G.value.indexOf(P.id())>=0}],"filter-in-small":[Wn,[_n,Pi(Kn)],function(P,R){var G=R[0],ie=R[1];return ie.value.indexOf(P.properties()[G.value])>=0}],"filter-in-large":[Wn,[_n,Pi(Kn)],function(P,R){var G=R[0],ie=R[1];return sh(P.properties()[G.value],ie.value,0,ie.value.length-1)}],all:{type:Wn,overloads:[[[Wn,Wn],function(P,R){var G=R[0],ie=R[1];return G.evaluate(P)&&ie.evaluate(P)}],[Dl(Wn),function(P,R){for(var G=0,ie=R;G<ie.length;G+=1){var pe=ie[G];if(!pe.evaluate(P))return!1}return!0}]]},any:{type:Wn,overloads:[[[Wn,Wn],function(P,R){var G=R[0],ie=R[1];return G.evaluate(P)||ie.evaluate(P)}],[Dl(Wn),function(P,R){for(var G=0,ie=R;G<ie.length;G+=1){var pe=ie[G];if(pe.evaluate(P))return!0}return!1}]]},"!":[Wn,[Wn],function(P,R){var G=R[0];return!G.evaluate(P)}],"is-supported-script":[Wn,[_n],function(P,R){var G=R[0],ie=P.globals&&P.globals.isSupportedScript;return ie?ie(G.evaluate(P)):!0}],upcase:[_n,[_n],function(P,R){var G=R[0];return G.evaluate(P).toUpperCase()}],downcase:[_n,[_n],function(P,R){var G=R[0];return G.evaluate(P).toLowerCase()}],concat:[_n,Dl(Kn),function(P,R){return R.map(function(G){return zu(G.evaluate(P))}).join("")}],"resolved-locale":[_n,[xa],function(P,R){var G=R[0];return G.evaluate(P).resolvedLocale()}]});function Qu(P){return{result:"success",value:P}}function Kl(P){return{result:"error",value:P}}function Il(P){return P["property-type"]==="data-driven"||P["property-type"]==="cross-faded-data-driven"}function ks(P){return!!P.expression&&P.expression.parameters.indexOf("zoom")>-1}function qu(P){return!!P.expression&&P.expression.interpolated}function Xi(P){return P instanceof Number?"number":P instanceof String?"string":P instanceof Boolean?"boolean":Array.isArray(P)?"array":P===null?"null":typeof P}function ef(P){return typeof P=="object"&&P!==null&&!Array.isArray(P)}function ic(P){return P}function lh(P,R){var G=R.type==="color",ie=P.stops&&typeof P.stops[0][0]=="object",pe=ie||P.property!==void 0,Se=ie||!pe,De=P.type||(qu(R)?"exponential":"interval");if(G&&(P=zn({},P),P.stops&&(P.stops=P.stops.map(function(va){return[va[0],Ti.parse(va[1])]})),P.default?P.default=Ti.parse(P.default):P.default=Ti.parse(R.default)),P.colorSpace&&P.colorSpace!=="rgb"&&!fu[P.colorSpace])throw new Error("Unknown color space: "+P.colorSpace);var Qe,gt,Ct;if(De==="exponential")Qe=kc;else if(De==="interval")Qe=oc;else if(De==="categorical"){Qe=Ef,gt=Object.create(null);for(var Dt=0,jt=P.stops;Dt<jt.length;Dt+=1){var lr=jt[Dt];gt[lr[0]]=lr[1]}Ct=typeof P.stops[0][0]}else if(De==="identity")Qe=Cf;else throw new Error('Unknown function type "'+De+'"');if(ie){for(var nr={},Mr=[],Xr=0;Xr<P.stops.length;Xr++){var mn=P.stops[Xr],cn=mn[0].zoom;nr[cn]===void 0&&(nr[cn]={zoom:cn,type:P.type,property:P.property,default:P.default,stops:[]},Mr.push(cn)),nr[cn].stops.push([mn[0].value,mn[1]])}for(var Gn=[],Cn=0,Bn=Mr;Cn<Bn.length;Cn+=1){var Zn=Bn[Cn];Gn.push([nr[Zn].zoom,lh(nr[Zn],R)])}var na={name:"linear"};return{kind:"composite",interpolationType:na,interpolationFactor:go.interpolationFactor.bind(void 0,na),zoomStops:Gn.map(function(va){return va[0]}),evaluate:function(Ua,Oa){var Na=Ua.zoom;return kc({stops:Gn,base:P.base},R,Na).evaluate(Na,Oa)}}}else if(Se){var pa=De==="exponential"?{name:"exponential",base:P.base!==void 0?P.base:1}:null;return{kind:"camera",interpolationType:pa,interpolationFactor:go.interpolationFactor.bind(void 0,pa),zoomStops:P.stops.map(function(va){return va[0]}),evaluate:function(va){var Ua=va.zoom;return Qe(P,R,Ua,gt,Ct)}}}else return{kind:"source",evaluate:function(Ua,Oa){var Na=Oa&&Oa.properties?Oa.properties[P.property]:void 0;return Na===void 0?ws(P.default,R.default):Qe(P,R,Na,gt,Ct)}}}function ws(P,R,G){if(P!==void 0)return P;if(R!==void 0)return R;if(G!==void 0)return G}function Ef(P,R,G,ie,pe){var Se=typeof G===pe?ie[G]:void 0;return ws(Se,P.default,R.default)}function oc(P,R,G){if(Xi(G)!=="number")return ws(P.default,R.default);var ie=P.stops.length;if(ie===1||G<=P.stops[0][0])return P.stops[0][1];if(G>=P.stops[ie-1][0])return P.stops[ie-1][1];var pe=El(P.stops.map(function(Se){return Se[0]}),G);return P.stops[pe][1]}function kc(P,R,G){var ie=P.base!==void 0?P.base:1;if(Xi(G)!=="number")return ws(P.default,R.default);var pe=P.stops.length;if(pe===1||G<=P.stops[0][0])return P.stops[0][1];if(G>=P.stops[pe-1][0])return P.stops[pe-1][1];var Se=El(P.stops.map(function(jt){return jt[0]}),G),De=Lf(G,ie,P.stops[Se][0],P.stops[Se+1][0]),Qe=P.stops[Se][1],gt=P.stops[Se+1][1],Ct=Yi[R.type]||ic;if(P.colorSpace&&P.colorSpace!=="rgb"){var Dt=fu[P.colorSpace];Ct=function(jt,lr){return Dt.reverse(Dt.interpolate(Dt.forward(jt),Dt.forward(lr),De))}}return typeof Qe.evaluate=="function"?{evaluate:function(){for(var lr=[],nr=arguments.length;nr--;)lr[nr]=arguments[nr];var Mr=Qe.evaluate.apply(void 0,lr),Xr=gt.evaluate.apply(void 0,lr);if(!(Mr===void 0||Xr===void 0))return Ct(Mr,Xr,De)}}:Ct(Qe,gt,De)}function Cf(P,R,G){return R.type==="color"?G=Ti.parse(G):R.type==="formatted"?G=Oo.fromString(G.toString()):R.type==="resolvedImage"?G=os.fromString(G.toString()):Xi(G)!==R.type&&(R.type!=="enum"||!R.values[G])&&(G=void 0),ws(G,P.default,R.default)}function Lf(P,R,G,ie){var pe=ie-G,Se=P-G;return pe===0?0:R===1?Se/pe:(Math.pow(R,Se)-1)/(Math.pow(R,pe)-1)}var Ts=function(R,G){this.expression=R,this._warningHistory={},this._evaluator=new ul,this._defaultValue=G?zc(G):null,this._enumValues=G&&G.type==="enum"?G.values:null};Ts.prototype.evaluateWithoutErrorHandling=function(R,G,ie,pe,Se,De){return this._evaluator.globals=R,this._evaluator.feature=G,this._evaluator.featureState=ie,this._evaluator.canonical=pe,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=De,this.expression.evaluate(this._evaluator)},Ts.prototype.evaluate=function(R,G,ie,pe,Se,De){this._evaluator.globals=R,this._evaluator.feature=G||null,this._evaluator.featureState=ie||null,this._evaluator.canonical=pe,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=De||null;try{var Qe=this.expression.evaluate(this._evaluator);if(Qe==null||typeof Qe=="number"&&Qe!==Qe)return this._defaultValue;if(this._enumValues&&!(Qe in this._enumValues))throw new Lo("Expected value to be one of "+Object.keys(this._enumValues).map(function(gt){return JSON.stringify(gt)}).join(", ")+", but found "+JSON.stringify(Qe)+" instead.");return Qe}catch(gt){return this._warningHistory[gt.message]||(this._warningHistory[gt.message]=!0,typeof console<"u"&&console.warn(gt.message)),this._defaultValue}};function _f(P){return Array.isArray(P)&&P.length>0&&typeof P[0]=="string"&&P[0]in $u}function Jl(P,R){var G=new hl($u,[],R?uh(R):void 0),ie=G.parse(P,void 0,void 0,void 0,R&&R.type==="string"?{typeAnnotation:"coerce"}:void 0);return ie?Qu(new Ts(ie,R)):Kl(G.errors)}var Qi=function(R,G){this.kind=R,this._styleExpression=G,this.isStateDependent=R!=="constant"&&!lo(G.expression)};Qi.prototype.evaluateWithoutErrorHandling=function(R,G,ie,pe,Se,De){return this._styleExpression.evaluateWithoutErrorHandling(R,G,ie,pe,Se,De)},Qi.prototype.evaluate=function(R,G,ie,pe,Se,De){return this._styleExpression.evaluate(R,G,ie,pe,Se,De)};var vl=function(R,G,ie,pe){this.kind=R,this.zoomStops=ie,this._styleExpression=G,this.isStateDependent=R!=="camera"&&!lo(G.expression),this.interpolationType=pe};vl.prototype.evaluateWithoutErrorHandling=function(R,G,ie,pe,Se,De){return this._styleExpression.evaluateWithoutErrorHandling(R,G,ie,pe,Se,De)},vl.prototype.evaluate=function(R,G,ie,pe,Se,De){return this._styleExpression.evaluate(R,G,ie,pe,Se,De)},vl.prototype.interpolationFactor=function(R,G,ie){return this.interpolationType?go.interpolationFactor(this.interpolationType,R,G,ie):0};function Oc(P,R){if(P=Jl(P,R),P.result==="error")return P;var G=P.value.expression,ie=Ri(G);if(!ie&&!Il(R))return Kl([new Dr("","data expressions not supported")]);var pe=ji(G,["zoom"]);if(!pe&&!ks(R))return Kl([new Dr("","zoom expressions not supported")]);var Se=Pf(G);if(!Se&&!pe)return Kl([new Dr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Se instanceof Dr)return Kl([Se]);if(Se instanceof go&&!qu(R))return Kl([new Dr("",'"interpolate" expressions cannot be used with this property')]);if(!Se)return Qu(ie?new Qi("constant",P.value):new Qi("source",P.value));var De=Se instanceof go?Se.interpolation:void 0;return Qu(ie?new vl("camera",P.value,Se.labels,De):new vl("composite",P.value,Se.labels,De))}var pu=function(R,G){this._parameters=R,this._specification=G,zn(this,lh(this._parameters,this._specification))};pu.deserialize=function(R){return new pu(R._parameters,R._specification)},pu.serialize=function(R){return{_parameters:R._parameters,_specification:R._specification}};function sc(P,R){if(ef(P))return new pu(P,R);if(_f(P)){var G=Oc(P,R);if(G.result==="error")throw new Error(G.value.map(function(pe){return pe.key+": "+pe.message}).join(", "));return G.value}else{var ie=P;return typeof P=="string"&&R.type==="color"&&(ie=Ti.parse(P)),{kind:"constant",evaluate:function(){return ie}}}}function Pf(P){var R=null;if(P instanceof Ll)R=Pf(P.result);else if(P instanceof Hs)for(var G=0,ie=P.args;G<ie.length;G+=1){var pe=ie[G];if(R=Pf(pe),R)break}else(P instanceof Js||P instanceof go)&&P.input instanceof Vo&&P.input.name==="zoom"&&(R=P);return R instanceof Dr||P.eachChild(function(Se){var De=Pf(Se);De instanceof Dr?R=De:!R&&De?R=new Dr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):R&&De&&R!==De&&(R=new Dr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),R}function uh(P){var R={color:In,string:_n,number:on,enum:_n,boolean:Wn,formatted:La,resolvedImage:Ra};return P.type==="array"?Pi(R[P.value]||Kn,P.length):R[P.type]}function zc(P){return P.type==="color"&&ef(P.default)?new Ti(0,0,0,0):P.type==="color"?Ti.parse(P.default)||null:P.default===void 0?null:P.default}function ss(P){var R=P.key,G=P.value,ie=P.valueSpec||{},pe=P.objectElementValidators||{},Se=P.style,De=P.styleSpec,Qe=[],gt=Xi(G);if(gt!=="object")return[new Gr(R,G,"object expected, "+gt+" found")];for(var Ct in G){var Dt=Ct.split(".")[0],jt=ie[Dt]||ie["*"],lr=void 0;if(pe[Dt])lr=pe[Dt];else if(ie[Dt])lr=Ur;else if(pe["*"])lr=pe["*"];else if(ie["*"])lr=Ur;else{Qe.push(new Gr(R,G[Ct],'unknown property "'+Ct+'"'));continue}Qe=Qe.concat(lr({key:(R&&R+".")+Ct,value:G[Ct],valueSpec:jt,style:Se,styleSpec:De,object:G,objectKey:Ct},G))}for(var nr in ie)pe[nr]||ie[nr].required&&ie[nr].default===void 0&&G[nr]===void 0&&Qe.push(new Gr(R,G,'missing required property "'+nr+'"'));return Qe}function Rf(P){var R=P.value,G=P.valueSpec,ie=P.style,pe=P.styleSpec,Se=P.key,De=P.arrayElementValidator||Ur;if(Xi(R)!=="array")return[new Gr(Se,R,"array expected, "+Xi(R)+" found")];if(G.length&&R.length!==G.length)return[new Gr(Se,R,"array length "+G.length+" expected, length "+R.length+" found")];if(G["min-length"]&&R.length<G["min-length"])return[new Gr(Se,R,"array length at least "+G["min-length"]+" expected, length "+R.length+" found")];var Qe={type:G.value,values:G.values};pe.$version<7&&(Qe.function=G.function),Xi(G.value)==="object"&&(Qe=G.value);for(var gt=[],Ct=0;Ct<R.length;Ct++)gt=gt.concat(De({array:R,arrayIndex:Ct,value:R[Ct],valueSpec:Qe,style:ie,styleSpec:pe,key:Se+"["+Ct+"]"}));return gt}function $l(P){var R=P.key,G=P.value,ie=P.valueSpec,pe=Xi(G);return pe==="number"&&G!==G&&(pe="NaN"),pe!=="number"?[new Gr(R,G,"number expected, "+pe+" found")]:"minimum"in ie&&G<ie.minimum?[new Gr(R,G,G+" is less than the minimum value "+ie.minimum)]:"maximum"in ie&&G>ie.maximum?[new Gr(R,G,G+" is greater than the maximum value "+ie.maximum)]:[]}function tf(P){var R=P.valueSpec,G=bn(P.value.type),ie,pe={},Se,De,Qe=G!=="categorical"&&P.value.property===void 0,gt=!Qe,Ct=Xi(P.value.stops)==="array"&&Xi(P.value.stops[0])==="array"&&Xi(P.value.stops[0][0])==="object",Dt=ss({key:P.key,value:P.value,valueSpec:P.styleSpec.function,style:P.style,styleSpec:P.styleSpec,objectElementValidators:{stops:jt,default:Mr}});return G==="identity"&&Qe&&Dt.push(new Gr(P.key,P.value,'missing required property "property"')),G!=="identity"&&!P.value.stops&&Dt.push(new Gr(P.key,P.value,'missing required property "stops"')),G==="exponential"&&P.valueSpec.expression&&!qu(P.valueSpec)&&Dt.push(new Gr(P.key,P.value,"exponential functions not supported")),P.styleSpec.$version>=8&&(gt&&!Il(P.valueSpec)?Dt.push(new Gr(P.key,P.value,"property functions not supported")):Qe&&!ks(P.valueSpec)&&Dt.push(new Gr(P.key,P.value,"zoom functions not supported"))),(G==="categorical"||Ct)&&P.value.property===void 0&&Dt.push(new Gr(P.key,P.value,'"property" property is required')),Dt;function jt(Xr){if(G==="identity")return[new Gr(Xr.key,Xr.value,'identity function may not have a "stops" property')];var mn=[],cn=Xr.value;return mn=mn.concat(Rf({key:Xr.key,value:cn,valueSpec:Xr.valueSpec,style:Xr.style,styleSpec:Xr.styleSpec,arrayElementValidator:lr})),Xi(cn)==="array"&&cn.length===0&&mn.push(new Gr(Xr.key,cn,"array must have at least one stop")),mn}function lr(Xr){var mn=[],cn=Xr.value,Gn=Xr.key;if(Xi(cn)!=="array")return[new Gr(Gn,cn,"array expected, "+Xi(cn)+" found")];if(cn.length!==2)return[new Gr(Gn,cn,"array length 2 expected, length "+cn.length+" found")];if(Ct){if(Xi(cn[0])!=="object")return[new Gr(Gn,cn,"object expected, "+Xi(cn[0])+" found")];if(cn[0].zoom===void 0)return[new Gr(Gn,cn,"object stop key must have zoom")];if(cn[0].value===void 0)return[new Gr(Gn,cn,"object stop key must have value")];if(De&&De>bn(cn[0].zoom))return[new Gr(Gn,cn[0].zoom,"stop zoom values must appear in ascending order")];bn(cn[0].zoom)!==De&&(De=bn(cn[0].zoom),Se=void 0,pe={}),mn=mn.concat(ss({key:Gn+"[0]",value:cn[0],valueSpec:{zoom:{}},style:Xr.style,styleSpec:Xr.styleSpec,objectElementValidators:{zoom:$l,value:nr}}))}else mn=mn.concat(nr({key:Gn+"[0]",value:cn[0],valueSpec:{},style:Xr.style,styleSpec:Xr.styleSpec},cn));return _f(pn(cn[1]))?mn.concat([new Gr(Gn+"[1]",cn[1],"expressions are not allowed in function stops.")]):mn.concat(Ur({key:Gn+"[1]",value:cn[1],valueSpec:R,style:Xr.style,styleSpec:Xr.styleSpec}))}function nr(Xr,mn){var cn=Xi(Xr.value),Gn=bn(Xr.value),Cn=Xr.value!==null?Xr.value:mn;if(!ie)ie=cn;else if(cn!==ie)return[new Gr(Xr.key,Cn,cn+" stop domain type must match previous stop domain type "+ie)];if(cn!=="number"&&cn!=="string"&&cn!=="boolean")return[new Gr(Xr.key,Cn,"stop domain value must be a number, string, or boolean")];if(cn!=="number"&&G!=="categorical"){var Bn="number expected, "+cn+" found";return Il(R)&&G===void 0&&(Bn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Gr(Xr.key,Cn,Bn)]}return G==="categorical"&&cn==="number"&&(!isFinite(Gn)||Math.floor(Gn)!==Gn)?[new Gr(Xr.key,Cn,"integer expected, found "+Gn)]:G!=="categorical"&&cn==="number"&&Se!==void 0&&Gn<Se?[new Gr(Xr.key,Cn,"stop domain values must appear in ascending order")]:(Se=Gn,G==="categorical"&&Gn in pe?[new Gr(Xr.key,Cn,"stop domain values must be unique")]:(pe[Gn]=!0,[]))}function Mr(Xr){return Ur({key:Xr.key,value:Xr.value,valueSpec:R,style:Xr.style,styleSpec:Xr.styleSpec})}}function qs(P){var R=(P.expressionContext==="property"?Oc:Jl)(pn(P.value),P.valueSpec);if(R.result==="error")return R.value.map(function(ie){return new Gr(""+P.key+ie.key,P.value,ie.message)});var G=R.value.expression||R.value._styleExpression.expression;if(P.expressionContext==="property"&&P.propertyKey==="text-font"&&!G.outputDefined())return[new Gr(P.key,P.value,'Invalid data expression for "'+P.propertyKey+'". Output values must be contained as literals within the expression.')];if(P.expressionContext==="property"&&P.propertyType==="layout"&&!lo(G))return[new Gr(P.key,P.value,'"feature-state" data expressions are not supported with layout properties.')];if(P.expressionContext==="filter"&&!lo(G))return[new Gr(P.key,P.value,'"feature-state" data expressions are not supported with filters.')];if(P.expressionContext&&P.expressionContext.indexOf("cluster")===0){if(!ji(G,["zoom","feature-state"]))return[new Gr(P.key,P.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(P.expressionContext==="cluster-initial"&&!Ri(G))return[new Gr(P.key,P.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Dh(P){var R=P.value,G=P.key,ie=Xi(R);return ie!=="boolean"?[new Gr(G,R,"boolean expected, "+ie+" found")]:[]}function hs(P){var R=P.key,G=P.value,ie=Xi(G);return ie!=="string"?[new Gr(R,G,"color expected, "+ie+" found")]:Ec(G)===null?[new Gr(R,G,'color expected, "'+G+'" found')]:[]}function Df(P){var R=P.key,G=P.value,ie=P.valueSpec,pe=[];return Array.isArray(ie.values)?ie.values.indexOf(bn(G))===-1&&pe.push(new Gr(R,G,"expected one of ["+ie.values.join(", ")+"], "+JSON.stringify(G)+" found")):Object.keys(ie.values).indexOf(bn(G))===-1&&pe.push(new Gr(R,G,"expected one of ["+Object.keys(ie.values).join(", ")+"], "+JSON.stringify(G)+" found")),pe}function Gs(P){if(P===!0||P===!1)return!0;if(!Array.isArray(P)||P.length===0)return!1;switch(P[0]){case"has":return P.length>=2&&P[1]!=="$id"&&P[1]!=="$type";case"in":return P.length>=3&&(typeof P[1]!="string"||Array.isArray(P[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return P.length!==3||Array.isArray(P[1])||Array.isArray(P[2]);case"any":case"all":for(var R=0,G=P.slice(1);R<G.length;R+=1){var ie=G[R];if(!Gs(ie)&&typeof ie!="boolean")return!1}return!0;default:return!0}}var el={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function As(P){if(P==null)return{filter:function(){return!0},needGeometry:!1};Gs(P)||(P=rf(P));var R=Jl(P,el);if(R.result==="error")throw new Error(R.value.map(function(ie){return ie.key+": "+ie.message}).join(", "));var G=If(P);return{filter:function(ie,pe,Se){return R.value.evaluate(ie,pe,{},Se)},needGeometry:G}}function Ms(P,R){return P<R?-1:P>R?1:0}function If(P){if(!Array.isArray(P))return!1;if(P[0]==="within")return!0;for(var R=1;R<P.length;R++)if(If(P[R]))return!0;return!1}function rf(P){if(!P)return!0;var R=P[0];if(P.length<=1)return R!=="any";var G=R==="=="?kf(P[1],P[2],"=="):R==="!="?gu(kf(P[1],P[2],"==")):R==="<"||R===">"||R==="<="||R===">="?kf(P[1],P[2],R):R==="any"?nf(P.slice(1)):R==="all"?["all"].concat(P.slice(1).map(rf)):R==="none"?["all"].concat(P.slice(1).map(rf).map(gu)):R==="in"?Ws(P[1],P.slice(2)):R==="!in"?gu(Ws(P[1],P.slice(2))):R==="has"?lc(P[1]):R==="!has"?gu(lc(P[1])):R==="within"?P:!0;return G}function kf(P,R,G){switch(P){case"$type":return["filter-type-"+G,R];case"$id":return["filter-id-"+G,R];default:return["filter-"+G,P,R]}}function nf(P){return["any"].concat(P.map(rf))}function Ws(P,R){if(R.length===0)return!1;switch(P){case"$type":return["filter-type-in",["literal",R]];case"$id":return["filter-id-in",["literal",R]];default:return R.length>200&&!R.some(function(G){return typeof G!=typeof R[0]})?["filter-in-large",P,["literal",R.sort(Ms)]]:["filter-in-small",P,["literal",R]]}}function lc(P){switch(P){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",P]}}function gu(P){return["!",P]}function af(P){return Gs(pn(P.value))?qs(zn({},P,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Of(P)}function Of(P){var R=P.value,G=P.key;if(Xi(R)!=="array")return[new Gr(G,R,"array expected, "+Xi(R)+" found")];var ie=P.styleSpec,pe,Se=[];if(R.length<1)return[new Gr(G,R,"filter array must have at least 1 element")];switch(Se=Se.concat(Df({key:G+"[0]",value:R[0],valueSpec:ie.filter_operator,style:P.style,styleSpec:P.styleSpec})),bn(R[0])){case"<":case"<=":case">":case">=":R.length>=2&&bn(R[1])==="$type"&&Se.push(new Gr(G,R,'"$type" cannot be use with operator "'+R[0]+'"'));case"==":case"!=":R.length!==3&&Se.push(new Gr(G,R,'filter array for operator "'+R[0]+'" must have 3 elements'));case"in":case"!in":R.length>=2&&(pe=Xi(R[1]),pe!=="string"&&Se.push(new Gr(G+"[1]",R[1],"string expected, "+pe+" found")));for(var De=2;De<R.length;De++)pe=Xi(R[De]),bn(R[1])==="$type"?Se=Se.concat(Df({key:G+"["+De+"]",value:R[De],valueSpec:ie.geometry_type,style:P.style,styleSpec:P.styleSpec})):pe!=="string"&&pe!=="number"&&pe!=="boolean"&&Se.push(new Gr(G+"["+De+"]",R[De],"string, number, or boolean expected, "+pe+" found"));break;case"any":case"all":case"none":for(var Qe=1;Qe<R.length;Qe++)Se=Se.concat(Of({key:G+"["+Qe+"]",value:R[Qe],style:P.style,styleSpec:P.styleSpec}));break;case"has":case"!has":pe=Xi(R[1]),R.length!==2?Se.push(new Gr(G,R,'filter array for "'+R[0]+'" operator must have 2 elements')):pe!=="string"&&Se.push(new Gr(G+"[1]",R[1],"string expected, "+pe+" found"));break;case"within":pe=Xi(R[1]),R.length!==2?Se.push(new Gr(G,R,'filter array for "'+R[0]+'" operator must have 2 elements')):pe!=="object"&&Se.push(new Gr(G+"[1]",R[1],"object expected, "+pe+" found"));break}return Se}function Fc(P,R){var G=P.key,ie=P.style,pe=P.styleSpec,Se=P.value,De=P.objectKey,Qe=pe[R+"_"+P.layerType];if(!Qe)return[];var gt=De.match(/^(.*)-transition$/);if(R==="paint"&&gt&&Qe[gt[1]]&&Qe[gt[1]].transition)return Ur({key:G,value:Se,valueSpec:pe.transition,style:ie,styleSpec:pe});var Ct=P.valueSpec||Qe[De];if(!Ct)return[new Gr(G,Se,'unknown property "'+De+'"')];var Dt;if(Xi(Se)==="string"&&Il(Ct)&&!Ct.tokens&&(Dt=/^{([^}]+)}$/.exec(Se)))return[new Gr(G,Se,'"'+De+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Dt[1])+" }`.")];var jt=[];return P.layerType==="symbol"&&(De==="text-field"&&ie&&!ie.glyphs&&jt.push(new Gr(G,Se,'use of "text-field" requires a style "glyphs" property')),De==="text-font"&&ef(pn(Se))&&bn(Se.type)==="identity"&&jt.push(new Gr(G,Se,'"text-font" does not support identity functions'))),jt.concat(Ur({key:P.key,value:Se,valueSpec:Ct,style:ie,styleSpec:pe,expressionContext:"property",propertyType:R,propertyKey:De}))}function $e(P){return Fc(P,"paint")}function st(P){return Fc(P,"layout")}function yt(P){var R=[],G=P.value,ie=P.key,pe=P.style,Se=P.styleSpec;!G.type&&!G.ref&&R.push(new Gr(ie,G,'either "type" or "ref" is required'));var De=bn(G.type),Qe=bn(G.ref);if(G.id)for(var gt=bn(G.id),Ct=0;Ct<P.arrayIndex;Ct++){var Dt=pe.layers[Ct];bn(Dt.id)===gt&&R.push(new Gr(ie,G.id,'duplicate layer id "'+G.id+'", previously used at line '+Dt.id.__line__))}if("ref"in G){["type","source","source-layer","filter","layout"].forEach(function(Mr){Mr in G&&R.push(new Gr(ie,G[Mr],'"'+Mr+'" is prohibited for ref layers'))});var jt;pe.layers.forEach(function(Mr){bn(Mr.id)===Qe&&(jt=Mr)}),jt?jt.ref?R.push(new Gr(ie,G.ref,"ref cannot reference another ref layer")):De=bn(jt.type):R.push(new Gr(ie,G.ref,'ref layer "'+Qe+'" not found'))}else if(De!=="background")if(!G.source)R.push(new Gr(ie,G,'missing required property "source"'));else{var lr=pe.sources&&pe.sources[G.source],nr=lr&&bn(lr.type);lr?nr==="vector"&&De==="raster"?R.push(new Gr(ie,G.source,'layer "'+G.id+'" requires a raster source')):nr==="raster"&&De!=="raster"?R.push(new Gr(ie,G.source,'layer "'+G.id+'" requires a vector source')):nr==="vector"&&!G["source-layer"]?R.push(new Gr(ie,G,'layer "'+G.id+'" must specify a "source-layer"')):nr==="raster-dem"&&De!=="hillshade"?R.push(new Gr(ie,G.source,"raster-dem source can only be used with layer type 'hillshade'.")):De==="line"&&G.paint&&G.paint["line-gradient"]&&(nr!=="geojson"||!lr.lineMetrics)&&R.push(new Gr(ie,G,'layer "'+G.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):R.push(new Gr(ie,G.source,'source "'+G.source+'" not found'))}return R=R.concat(ss({key:ie,value:G,valueSpec:Se.layer,style:P.style,styleSpec:P.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ur({key:ie+".type",value:G.type,valueSpec:Se.layer.type,style:P.style,styleSpec:P.styleSpec,object:G,objectKey:"type"})},filter:af,layout:function(Xr){return ss({layer:G,key:Xr.key,value:Xr.value,style:Xr.style,styleSpec:Xr.styleSpec,objectElementValidators:{"*":function(cn){return st(zn({layerType:De},cn))}}})},paint:function(Xr){return ss({layer:G,key:Xr.key,value:Xr.value,style:Xr.style,styleSpec:Xr.styleSpec,objectElementValidators:{"*":function(cn){return $e(zn({layerType:De},cn))}}})}}})),R}function At(P){var R=P.value,G=P.key,ie=Xi(R);return ie!=="string"?[new Gr(G,R,"string expected, "+ie+" found")]:[]}var Bt={promoteId:Ht};function kt(P){var R=P.value,G=P.key,ie=P.styleSpec,pe=P.style;if(!R.type)return[new Gr(G,R,'"type" is required')];var Se=bn(R.type),De;switch(Se){case"vector":case"raster":case"raster-dem":return De=ss({key:G,value:R,valueSpec:ie["source_"+Se.replace("-","_")],style:P.style,styleSpec:ie,objectElementValidators:Bt}),De;case"geojson":if(De=ss({key:G,value:R,valueSpec:ie.source_geojson,style:pe,styleSpec:ie,objectElementValidators:Bt}),R.cluster)for(var Qe in R.clusterProperties){var gt=R.clusterProperties[Qe],Ct=gt[0],Dt=gt[1],jt=typeof Ct=="string"?[Ct,["accumulated"],["get",Qe]]:Ct;De.push.apply(De,qs({key:G+"."+Qe+".map",value:Dt,expressionContext:"cluster-map"})),De.push.apply(De,qs({key:G+"."+Qe+".reduce",value:jt,expressionContext:"cluster-reduce"}))}return De;case"video":return ss({key:G,value:R,valueSpec:ie.source_video,style:pe,styleSpec:ie});case"image":return ss({key:G,value:R,valueSpec:ie.source_image,style:pe,styleSpec:ie});case"canvas":return[new Gr(G,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Df({key:G+".type",value:R.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:pe,styleSpec:ie})}}function Ht(P){var R=P.key,G=P.value;if(Xi(G)==="string")return At({key:R,value:G});var ie=[];for(var pe in G)ie.push.apply(ie,At({key:R+"."+pe,value:G[pe]}));return ie}function xr(P){var R=P.value,G=P.styleSpec,ie=G.light,pe=P.style,Se=[],De=Xi(R);if(R===void 0)return Se;if(De!=="object")return Se=Se.concat([new Gr("light",R,"object expected, "+De+" found")]),Se;for(var Qe in R){var gt=Qe.match(/^(.*)-transition$/);gt&&ie[gt[1]]&&ie[gt[1]].transition?Se=Se.concat(Ur({key:Qe,value:R[Qe],valueSpec:G.transition,style:pe,styleSpec:G})):ie[Qe]?Se=Se.concat(Ur({key:Qe,value:R[Qe],valueSpec:ie[Qe],style:pe,styleSpec:G})):Se=Se.concat([new Gr(Qe,R[Qe],'unknown property "'+Qe+'"')])}return Se}function br(P){return At(P).length===0?[]:qs(P)}function ur(P){return At(P).length===0?[]:qs(P)}var Rr={"*":function(){return[]},array:Rf,boolean:Dh,number:$l,color:hs,constants:Ln,enum:Df,filter:af,function:tf,layer:yt,object:ss,source:kt,light:xr,string:At,formatted:br,resolvedImage:ur};function Ur(P){var R=P.value,G=P.valueSpec,ie=P.styleSpec;if(G.expression&&ef(bn(R)))return tf(P);if(G.expression&&_f(pn(R)))return qs(P);if(G.type&&Rr[G.type])return Rr[G.type](P);var pe=ss(zn({},P,{valueSpec:G.type?ie[G.type]:G}));return pe}function Yr(P){var R=P.value,G=P.key,ie=At(P);return ie.length||(R.indexOf("{fontstack}")===-1&&ie.push(new Gr(G,R,'"glyphs" url must include a "{fontstack}" token')),R.indexOf("{range}")===-1&&ie.push(new Gr(G,R,'"glyphs" url must include a "{range}" token'))),ie}function fn(P,R){R===void 0&&(R=Lr);var G=[];return G=G.concat(Ur({key:"",value:P,valueSpec:R.$root,styleSpec:R,style:P,objectElementValidators:{glyphs:Yr,"*":function(){return[]}}})),P.constants&&(G=G.concat(Ln({key:"constants",value:P.constants,style:P,styleSpec:R}))),Pn(G)}fn.source=Nn(kt),fn.light=Nn(xr),fn.layer=Nn(yt),fn.filter=Nn(af),fn.paintProperty=Nn($e),fn.layoutProperty=Nn(st);function Pn(P){return[].concat(P).sort(function(R,G){return R.line-G.line})}function Nn(P){return function(){for(var R=[],G=arguments.length;G--;)R[G]=arguments[G];return Pn(P.apply(this,R))}}var Yn=fn,ia=Yn.light,Ka=Yn.paintProperty,Xa=Yn.layoutProperty;function Qa(P,R){var G=!1;if(R&&R.length)for(var ie=0,pe=R;ie<pe.length;ie+=1){var Se=pe[ie];P.fire(new Vt(new Error(Se.message))),G=!0}return G}var ni=Vi,mi=3;function Vi(P,R,G){var ie=this.cells=[];if(P instanceof ArrayBuffer){this.arrayBuffer=P;var pe=new Int32Array(this.arrayBuffer);P=pe[0],R=pe[1],G=pe[2],this.d=R+2*G;for(var Se=0;Se<this.d*this.d;Se++){var De=pe[mi+Se],Qe=pe[mi+Se+1];ie.push(De===Qe?null:pe.subarray(De,Qe))}var gt=pe[mi+ie.length],Ct=pe[mi+ie.length+1];this.keys=pe.subarray(gt,Ct),this.bboxes=pe.subarray(Ct),this.insert=this._insertReadonly}else{this.d=R+2*G;for(var Dt=0;Dt<this.d*this.d;Dt++)ie.push([]);this.keys=[],this.bboxes=[]}this.n=R,this.extent=P,this.padding=G,this.scale=R/P,this.uid=0;var jt=G/R*P;this.min=-jt,this.max=P+jt}Vi.prototype.insert=function(P,R,G,ie,pe){this._forEachCell(R,G,ie,pe,this._insertCell,this.uid++),this.keys.push(P),this.bboxes.push(R),this.bboxes.push(G),this.bboxes.push(ie),this.bboxes.push(pe)},Vi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Vi.prototype._insertCell=function(P,R,G,ie,pe,Se){this.cells[pe].push(Se)},Vi.prototype.query=function(P,R,G,ie,pe){var Se=this.min,De=this.max;if(P<=Se&&R<=Se&&De<=G&&De<=ie&&!pe)return Array.prototype.slice.call(this.keys);var Qe=[],gt={};return this._forEachCell(P,R,G,ie,this._queryCell,Qe,gt,pe),Qe},Vi.prototype._queryCell=function(P,R,G,ie,pe,Se,De,Qe){var gt=this.cells[pe];if(gt!==null)for(var Ct=this.keys,Dt=this.bboxes,jt=0;jt<gt.length;jt++){var lr=gt[jt];if(De[lr]===void 0){var nr=lr*4;(Qe?Qe(Dt[nr+0],Dt[nr+1],Dt[nr+2],Dt[nr+3]):P<=Dt[nr+2]&&R<=Dt[nr+3]&&G>=Dt[nr+0]&&ie>=Dt[nr+1])?(De[lr]=!0,Se.push(Ct[lr])):De[lr]=!1}}},Vi.prototype._forEachCell=function(P,R,G,ie,pe,Se,De,Qe){for(var gt=this._convertToCellCoord(P),Ct=this._convertToCellCoord(R),Dt=this._convertToCellCoord(G),jt=this._convertToCellCoord(ie),lr=gt;lr<=Dt;lr++)for(var nr=Ct;nr<=jt;nr++){var Mr=this.d*nr+lr;if(!(Qe&&!Qe(this._convertFromCellCoord(lr),this._convertFromCellCoord(nr),this._convertFromCellCoord(lr+1),this._convertFromCellCoord(nr+1)))&&pe.call(this,P,R,G,ie,Mr,Se,De,Qe))return}},Vi.prototype._convertFromCellCoord=function(P){return(P-this.padding)/this.scale},Vi.prototype._convertToCellCoord=function(P){return Math.max(0,Math.min(this.d-1,Math.floor(P*this.scale)+this.padding))},Vi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var P=this.cells,R=mi+this.cells.length+1+1,G=0,ie=0;ie<this.cells.length;ie++)G+=this.cells[ie].length;var pe=new Int32Array(R+G+this.keys.length+this.bboxes.length);pe[0]=this.extent,pe[1]=this.n,pe[2]=this.padding;for(var Se=R,De=0;De<P.length;De++){var Qe=P[De];pe[mi+De]=Se,pe.set(Qe,Se),Se+=Qe.length}return pe[mi+P.length]=Se,pe.set(this.keys,Se),Se+=this.keys.length,pe[mi+P.length+1]=Se,pe.set(this.bboxes,Se),Se+=this.bboxes.length,pe.buffer};var Eo=s.ImageData,he=s.ImageBitmap,Pe={};function Ne(P,R,G){G===void 0&&(G={}),Object.defineProperty(R,"_classRegistryKey",{value:P,writeable:!1}),Pe[P]={klass:R,omit:G.omit||[],shallow:G.shallow||[]}}Ne("Object",Object),ni.serialize=function(R,G){var ie=R.toArrayBuffer();return G&&G.push(ie),{buffer:ie}},ni.deserialize=function(R){return new ni(R.buffer)},Ne("Grid",ni),Ne("Color",Ti),Ne("Error",Error),Ne("ResolvedImage",os),Ne("StylePropertyFunction",pu),Ne("StyleExpression",Ts,{omit:["_evaluator"]}),Ne("ZoomDependentExpression",vl),Ne("ZoomConstantExpression",Qi),Ne("CompoundExpression",Vo,{omit:["_evaluate"]});for(var qe in $u)$u[qe]._classRegistryKey||Ne("Expression_"+qe,$u[qe]);function ot(P){return P&&typeof ArrayBuffer<"u"&&(P instanceof ArrayBuffer||P.constructor&&P.constructor.name==="ArrayBuffer")}function ft(P){return he&&P instanceof he}function Rt(P,R){if(P==null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||P instanceof Boolean||P instanceof Number||P instanceof String||P instanceof Date||P instanceof RegExp)return P;if(ot(P)||ft(P))return R&&R.push(P),P;if(ArrayBuffer.isView(P)){var G=P;return R&&R.push(G.buffer),G}if(P instanceof Eo)return R&&R.push(P.data.buffer),P;if(Array.isArray(P)){for(var ie=[],pe=0,Se=P;pe<Se.length;pe+=1){var De=Se[pe];ie.push(Rt(De,R))}return ie}if(typeof P=="object"){var Qe=P.constructor,gt=Qe._classRegistryKey;if(!gt)throw new Error("can't serialize object of unregistered class");var Ct=Qe.serialize?Qe.serialize(P,R):{};if(!Qe.serialize){for(var Dt in P)if(P.hasOwnProperty(Dt)&&!(Pe[gt].omit.indexOf(Dt)>=0)){var jt=P[Dt];Ct[Dt]=Pe[gt].shallow.indexOf(Dt)>=0?jt:Rt(jt,R)}P instanceof Error&&(Ct.message=P.message)}if(Ct.$name)throw new Error("$name property is reserved for worker serialization logic.");return gt!=="Object"&&(Ct.$name=gt),Ct}throw new Error("can't serialize object of type "+typeof P)}function Et(P){if(P==null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||P instanceof Boolean||P instanceof Number||P instanceof String||P instanceof Date||P instanceof RegExp||ot(P)||ft(P)||ArrayBuffer.isView(P)||P instanceof Eo)return P;if(Array.isArray(P))return P.map(Et);if(typeof P=="object"){var R=P.$name||"Object",G=Pe[R],ie=G.klass;if(!ie)throw new Error("can't deserialize unregistered class "+R);if(ie.deserialize)return ie.deserialize(P);for(var pe=Object.create(ie.prototype),Se=0,De=Object.keys(P);Se<De.length;Se+=1){var Qe=De[Se];if(Qe!=="$name"){var gt=P[Qe];pe[Qe]=Pe[R].shallow.indexOf(Qe)>=0?gt:Et(gt)}}return pe}throw new Error("can't deserialize object of type "+typeof P)}var Xt=function(){this.first=!0};Xt.prototype.update=function(R,G){var ie=Math.floor(R);return this.first?(this.first=!1,this.lastIntegerZoom=ie,this.lastIntegerZoomTime=0,this.lastZoom=R,this.lastFloorZoom=ie,!0):(this.lastFloorZoom>ie?(this.lastIntegerZoom=ie+1,this.lastIntegerZoomTime=G):this.lastFloorZoom<ie&&(this.lastIntegerZoom=ie,this.lastIntegerZoomTime=G),R!==this.lastZoom?(this.lastZoom=R,this.lastFloorZoom=ie,!0):!1)};var Zt={"Latin-1 Supplement":function(P){return P>=128&&P<=255},Arabic:function(P){return P>=1536&&P<=1791},"Arabic Supplement":function(P){return P>=1872&&P<=1919},"Arabic Extended-A":function(P){return P>=2208&&P<=2303},"Hangul Jamo":function(P){return P>=4352&&P<=4607},"Unified Canadian Aboriginal Syllabics":function(P){return P>=5120&&P<=5759},Khmer:function(P){return P>=6016&&P<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(P){return P>=6320&&P<=6399},"General Punctuation":function(P){return P>=8192&&P<=8303},"Letterlike Symbols":function(P){return P>=8448&&P<=8527},"Number Forms":function(P){return P>=8528&&P<=8591},"Miscellaneous Technical":function(P){return P>=8960&&P<=9215},"Control Pictures":function(P){return P>=9216&&P<=9279},"Optical Character Recognition":function(P){return P>=9280&&P<=9311},"Enclosed Alphanumerics":function(P){return P>=9312&&P<=9471},"Geometric Shapes":function(P){return P>=9632&&P<=9727},"Miscellaneous Symbols":function(P){return P>=9728&&P<=9983},"Miscellaneous Symbols and Arrows":function(P){return P>=11008&&P<=11263},"CJK Radicals Supplement":function(P){return P>=11904&&P<=12031},"Kangxi Radicals":function(P){return P>=12032&&P<=12255},"Ideographic Description Characters":function(P){return P>=12272&&P<=12287},"CJK Symbols and Punctuation":function(P){return P>=12288&&P<=12351},Hiragana:function(P){return P>=12352&&P<=12447},Katakana:function(P){return P>=12448&&P<=12543},Bopomofo:function(P){return P>=12544&&P<=12591},"Hangul Compatibility Jamo":function(P){return P>=12592&&P<=12687},Kanbun:function(P){return P>=12688&&P<=12703},"Bopomofo Extended":function(P){return P>=12704&&P<=12735},"CJK Strokes":function(P){return P>=12736&&P<=12783},"Katakana Phonetic Extensions":function(P){return P>=12784&&P<=12799},"Enclosed CJK Letters and Months":function(P){return P>=12800&&P<=13055},"CJK Compatibility":function(P){return P>=13056&&P<=13311},"CJK Unified Ideographs Extension A":function(P){return P>=13312&&P<=19903},"Yijing Hexagram Symbols":function(P){return P>=19904&&P<=19967},"CJK Unified Ideographs":function(P){return P>=19968&&P<=40959},"Yi Syllables":function(P){return P>=40960&&P<=42127},"Yi Radicals":function(P){return P>=42128&&P<=42191},"Hangul Jamo Extended-A":function(P){return P>=43360&&P<=43391},"Hangul Syllables":function(P){return P>=44032&&P<=55215},"Hangul Jamo Extended-B":function(P){return P>=55216&&P<=55295},"Private Use Area":function(P){return P>=57344&&P<=63743},"CJK Compatibility Ideographs":function(P){return P>=63744&&P<=64255},"Arabic Presentation Forms-A":function(P){return P>=64336&&P<=65023},"Vertical Forms":function(P){return P>=65040&&P<=65055},"CJK Compatibility Forms":function(P){return P>=65072&&P<=65103},"Small Form Variants":function(P){return P>=65104&&P<=65135},"Arabic Presentation Forms-B":function(P){return P>=65136&&P<=65279},"Halfwidth and Fullwidth Forms":function(P){return P>=65280&&P<=65519}};function ir(P){for(var R=0,G=P;R<G.length;R+=1){var ie=G[R];if(dn(ie.charCodeAt(0)))return!0}return!1}function Ir(P){for(var R=0,G=P;R<G.length;R+=1){var ie=G[R];if(!kr(ie.charCodeAt(0)))return!1}return!0}function kr(P){return!(Zt.Arabic(P)||Zt["Arabic Supplement"](P)||Zt["Arabic Extended-A"](P)||Zt["Arabic Presentation Forms-A"](P)||Zt["Arabic Presentation Forms-B"](P))}function sn(P){return P<11904?!1:!!(Zt["Bopomofo Extended"](P)||Zt.Bopomofo(P)||Zt["CJK Compatibility Forms"](P)||Zt["CJK Compatibility Ideographs"](P)||Zt["CJK Compatibility"](P)||Zt["CJK Radicals Supplement"](P)||Zt["CJK Strokes"](P)||Zt["CJK Symbols and Punctuation"](P)||Zt["CJK Unified Ideographs Extension A"](P)||Zt["CJK Unified Ideographs"](P)||Zt["Enclosed CJK Letters and Months"](P)||Zt["Halfwidth and Fullwidth Forms"](P)||Zt.Hiragana(P)||Zt["Ideographic Description Characters"](P)||Zt["Kangxi Radicals"](P)||Zt["Katakana Phonetic Extensions"](P)||Zt.Katakana(P)||Zt["Vertical Forms"](P)||Zt["Yi Radicals"](P)||Zt["Yi Syllables"](P))}function dn(P){return P===746||P===747?!0:P<4352?!1:!!(Zt["Bopomofo Extended"](P)||Zt.Bopomofo(P)||Zt["CJK Compatibility Forms"](P)&&!(P>=65097&&P<=65103)||Zt["CJK Compatibility Ideographs"](P)||Zt["CJK Compatibility"](P)||Zt["CJK Radicals Supplement"](P)||Zt["CJK Strokes"](P)||Zt["CJK Symbols and Punctuation"](P)&&!(P>=12296&&P<=12305)&&!(P>=12308&&P<=12319)&&P!==12336||Zt["CJK Unified Ideographs Extension A"](P)||Zt["CJK Unified Ideographs"](P)||Zt["Enclosed CJK Letters and Months"](P)||Zt["Hangul Compatibility Jamo"](P)||Zt["Hangul Jamo Extended-A"](P)||Zt["Hangul Jamo Extended-B"](P)||Zt["Hangul Jamo"](P)||Zt["Hangul Syllables"](P)||Zt.Hiragana(P)||Zt["Ideographic Description Characters"](P)||Zt.Kanbun(P)||Zt["Kangxi Radicals"](P)||Zt["Katakana Phonetic Extensions"](P)||Zt.Katakana(P)&&P!==12540||Zt["Halfwidth and Fullwidth Forms"](P)&&P!==65288&&P!==65289&&P!==65293&&!(P>=65306&&P<=65310)&&P!==65339&&P!==65341&&P!==65343&&!(P>=65371&&P<=65503)&&P!==65507&&!(P>=65512&&P<=65519)||Zt["Small Form Variants"](P)&&!(P>=65112&&P<=65118)&&!(P>=65123&&P<=65126)||Zt["Unified Canadian Aboriginal Syllabics"](P)||Zt["Unified Canadian Aboriginal Syllabics Extended"](P)||Zt["Vertical Forms"](P)||Zt["Yijing Hexagram Symbols"](P)||Zt["Yi Syllables"](P)||Zt["Yi Radicals"](P))}function Br(P){return!!(Zt["Latin-1 Supplement"](P)&&(P===167||P===169||P===174||P===177||P===188||P===189||P===190||P===215||P===247)||Zt["General Punctuation"](P)&&(P===8214||P===8224||P===8225||P===8240||P===8241||P===8251||P===8252||P===8258||P===8263||P===8264||P===8265||P===8273)||Zt["Letterlike Symbols"](P)||Zt["Number Forms"](P)||Zt["Miscellaneous Technical"](P)&&(P>=8960&&P<=8967||P>=8972&&P<=8991||P>=8996&&P<=9e3||P===9003||P>=9085&&P<=9114||P>=9150&&P<=9165||P===9167||P>=9169&&P<=9179||P>=9186&&P<=9215)||Zt["Control Pictures"](P)&&P!==9251||Zt["Optical Character Recognition"](P)||Zt["Enclosed Alphanumerics"](P)||Zt["Geometric Shapes"](P)||Zt["Miscellaneous Symbols"](P)&&!(P>=9754&&P<=9759)||Zt["Miscellaneous Symbols and Arrows"](P)&&(P>=11026&&P<=11055||P>=11088&&P<=11097||P>=11192&&P<=11243)||Zt["CJK Symbols and Punctuation"](P)||Zt.Katakana(P)||Zt["Private Use Area"](P)||Zt["CJK Compatibility Forms"](P)||Zt["Small Form Variants"](P)||Zt["Halfwidth and Fullwidth Forms"](P)||P===8734||P===8756||P===8757||P>=9984&&P<=10087||P>=10102&&P<=10131||P===65532||P===65533)}function Wr(P){return!(dn(P)||Br(P))}function nn(P){return Zt.Arabic(P)||Zt["Arabic Supplement"](P)||Zt["Arabic Extended-A"](P)||Zt["Arabic Presentation Forms-A"](P)||Zt["Arabic Presentation Forms-B"](P)}function gn(P){return P>=1424&&P<=2303||Zt["Arabic Presentation Forms-A"](P)||Zt["Arabic Presentation Forms-B"](P)}function Tn(P,R){return!(!R&&gn(P)||P>=2304&&P<=3583||P>=3840&&P<=4255||Zt.Khmer(P))}function un(P){for(var R=0,G=P;R<G.length;R+=1){var ie=G[R];if(gn(ie.charCodeAt(0)))return!0}return!1}function Rn(P,R){for(var G=0,ie=P;G<ie.length;G+=1){var pe=ie[G];if(!Tn(pe.charCodeAt(0),R))return!1}return!0}var ha={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Sa=null,la=ha.unavailable,Ta=null,Ea=function(P){P&&typeof P=="string"&&P.indexOf("NetworkError")>-1&&(la=ha.error),Sa&&Sa(P)};function ai(){ka.fire(new or("pluginStateChange",{pluginStatus:la,pluginURL:Ta}))}var ka=new yr,ti=function(){return la},Ai=function(P){return P({pluginStatus:la,pluginURL:Ta}),ka.on("pluginStateChange",P),P},wo=function(P,R,G){if(G===void 0&&(G=!1),la===ha.deferred||la===ha.loading||la===ha.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ta=ue.resolveURL(P),la=ha.deferred,Sa=R,ai(),G||Ii()},Ii=function(){if(la!==ha.deferred||!Ta)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");la=ha.loading,ai(),Ta&&Wt({url:Ta},function(P){P?Ea(P):(la=ha.loaded,ai())})},ua={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return la===ha.loaded||ua.applyArabicShaping!=null},isLoading:function(){return la===ha.loading},setState:function(R){la=R.pluginStatus,Ta=R.pluginURL},isParsed:function(){return ua.applyArabicShaping!=null&&ua.processBidirectionalText!=null&&ua.processStyledBidirectionalText!=null},getPluginURL:function(){return Ta}},Ja=function(){!ua.isLoading()&&!ua.isLoaded()&&ti()==="deferred"&&Ii()},Fa=function(R,G){this.zoom=R,G?(this.now=G.now,this.fadeDuration=G.fadeDuration,this.zoomHistory=G.zoomHistory,this.transition=G.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Xt,this.transition={})};Fa.prototype.isSupportedScript=function(R){return Rn(R,ua.isLoaded())},Fa.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Fa.prototype.getCrossfadeParameters=function(){var R=this.zoom,G=R-Math.floor(R),ie=this.crossFadingFactor();return R>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:G+(1-G)*ie}:{fromScale:.5,toScale:1,t:1-(1-ie)*G}};var xi=function(R,G){this.property=R,this.value=G,this.expression=sc(G===void 0?R.specification.default:G,R.specification)};xi.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},xi.prototype.possiblyEvaluate=function(R,G,ie){return this.property.possiblyEvaluate(this,R,G,ie)};var to=function(R){this.property=R,this.value=new xi(R,void 0)};to.prototype.transitioned=function(R,G){return new zo(this.property,this.value,G,x({},R.transition,this.transition),R.now)},to.prototype.untransitioned=function(){return new zo(this.property,this.value,null,{},0)};var Mi=function(R){this._properties=R,this._values=Object.create(R.defaultTransitionablePropertyValues)};Mi.prototype.getValue=function(R){return N(this._values[R].value.value)},Mi.prototype.setValue=function(R,G){this._values.hasOwnProperty(R)||(this._values[R]=new to(this._values[R].property)),this._values[R].value=new xi(this._values[R].property,G===null?void 0:N(G))},Mi.prototype.getTransition=function(R){return N(this._values[R].transition)},Mi.prototype.setTransition=function(R,G){this._values.hasOwnProperty(R)||(this._values[R]=new to(this._values[R].property)),this._values[R].transition=N(G)||void 0},Mi.prototype.serialize=function(){for(var R={},G=0,ie=Object.keys(this._values);G<ie.length;G+=1){var pe=ie[G],Se=this.getValue(pe);Se!==void 0&&(R[pe]=Se);var De=this.getTransition(pe);De!==void 0&&(R[pe+"-transition"]=De)}return R},Mi.prototype.transitioned=function(R,G){for(var ie=new Do(this._properties),pe=0,Se=Object.keys(this._values);pe<Se.length;pe+=1){var De=Se[pe];ie._values[De]=this._values[De].transitioned(R,G._values[De])}return ie},Mi.prototype.untransitioned=function(){for(var R=new Do(this._properties),G=0,ie=Object.keys(this._values);G<ie.length;G+=1){var pe=ie[G];R._values[pe]=this._values[pe].untransitioned()}return R};var zo=function(R,G,ie,pe,Se){this.property=R,this.value=G,this.begin=Se+pe.delay||0,this.end=this.begin+pe.duration||0,R.specification.transition&&(pe.delay||pe.duration)&&(this.prior=ie)};zo.prototype.possiblyEvaluate=function(R,G,ie){var pe=R.now||0,Se=this.value.possiblyEvaluate(R,G,ie),De=this.prior;if(De){if(pe>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(pe<this.begin)return De.possiblyEvaluate(R,G,ie);var Qe=(pe-this.begin)/(this.end-this.begin);return this.property.interpolate(De.possiblyEvaluate(R,G,ie),Se,u(Qe))}else return Se};var Do=function(R){this._properties=R,this._values=Object.create(R.defaultTransitioningPropertyValues)};Do.prototype.possiblyEvaluate=function(R,G,ie){for(var pe=new Wo(this._properties),Se=0,De=Object.keys(this._values);Se<De.length;Se+=1){var Qe=De[Se];pe._values[Qe]=this._values[Qe].possiblyEvaluate(R,G,ie)}return pe},Do.prototype.hasTransition=function(){for(var R=0,G=Object.keys(this._values);R<G.length;R+=1){var ie=G[R];if(this._values[ie].prior)return!0}return!1};var Go=function(R){this._properties=R,this._values=Object.create(R.defaultPropertyValues)};Go.prototype.getValue=function(R){return N(this._values[R].value)},Go.prototype.setValue=function(R,G){this._values[R]=new xi(this._values[R].property,G===null?void 0:N(G))},Go.prototype.serialize=function(){for(var R={},G=0,ie=Object.keys(this._values);G<ie.length;G+=1){var pe=ie[G],Se=this.getValue(pe);Se!==void 0&&(R[pe]=Se)}return R},Go.prototype.possiblyEvaluate=function(R,G,ie){for(var pe=new Wo(this._properties),Se=0,De=Object.keys(this._values);Se<De.length;Se+=1){var Qe=De[Se];pe._values[Qe]=this._values[Qe].possiblyEvaluate(R,G,ie)}return pe};var qi=function(R,G,ie){this.property=R,this.value=G,this.parameters=ie};qi.prototype.isConstant=function(){return this.value.kind==="constant"},qi.prototype.constantOr=function(R){return this.value.kind==="constant"?this.value.value:R},qi.prototype.evaluate=function(R,G,ie,pe){return this.property.evaluate(this.value,this.parameters,R,G,ie,pe)};var Wo=function(R){this._properties=R,this._values=Object.create(R.defaultPossiblyEvaluatedValues)};Wo.prototype.get=function(R){return this._values[R]};var ga=function(R){this.specification=R};ga.prototype.possiblyEvaluate=function(R,G){return R.expression.evaluate(G)},ga.prototype.interpolate=function(R,G,ie){var pe=Yi[this.specification.type];return pe?pe(R,G,ie):R};var Wa=function(R,G){this.specification=R,this.overrides=G};Wa.prototype.possiblyEvaluate=function(R,G,ie,pe){return R.expression.kind==="constant"||R.expression.kind==="camera"?new qi(this,{kind:"constant",value:R.expression.evaluate(G,null,{},ie,pe)},G):new qi(this,R.expression,G)},Wa.prototype.interpolate=function(R,G,ie){if(R.value.kind!=="constant"||G.value.kind!=="constant")return R;if(R.value.value===void 0||G.value.value===void 0)return new qi(this,{kind:"constant",value:void 0},R.parameters);var pe=Yi[this.specification.type];return pe?new qi(this,{kind:"constant",value:pe(R.value.value,G.value.value,ie)},R.parameters):R},Wa.prototype.evaluate=function(R,G,ie,pe,Se,De){return R.kind==="constant"?R.value:R.evaluate(G,ie,pe,Se,De)};var _o=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(ie,pe,Se,De){if(ie.value===void 0)return new qi(this,{kind:"constant",value:void 0},pe);if(ie.expression.kind==="constant"){var Qe=ie.expression.evaluate(pe,null,{},Se,De),gt=ie.property.specification.type==="resolvedImage",Ct=gt&&typeof Qe!="string"?Qe.name:Qe,Dt=this._calculate(Ct,Ct,Ct,pe);return new qi(this,{kind:"constant",value:Dt},pe)}else if(ie.expression.kind==="camera"){var jt=this._calculate(ie.expression.evaluate({zoom:pe.zoom-1}),ie.expression.evaluate({zoom:pe.zoom}),ie.expression.evaluate({zoom:pe.zoom+1}),pe);return new qi(this,{kind:"constant",value:jt},pe)}else return new qi(this,ie.expression,pe)},R.prototype.evaluate=function(ie,pe,Se,De,Qe,gt){if(ie.kind==="source"){var Ct=ie.evaluate(pe,Se,De,Qe,gt);return this._calculate(Ct,Ct,Ct,pe)}else return ie.kind==="composite"?this._calculate(ie.evaluate({zoom:Math.floor(pe.zoom)-1},Se,De),ie.evaluate({zoom:Math.floor(pe.zoom)},Se,De),ie.evaluate({zoom:Math.floor(pe.zoom)+1},Se,De),pe):ie.value},R.prototype._calculate=function(ie,pe,Se,De){var Qe=De.zoom;return Qe>De.zoomHistory.lastIntegerZoom?{from:ie,to:pe}:{from:Se,to:pe}},R.prototype.interpolate=function(ie){return ie},R}(Wa),Ss=function(R){this.specification=R};Ss.prototype.possiblyEvaluate=function(R,G,ie,pe){if(R.value!==void 0)if(R.expression.kind==="constant"){var Se=R.expression.evaluate(G,null,{},ie,pe);return this._calculate(Se,Se,Se,G)}else return this._calculate(R.expression.evaluate(new Fa(Math.floor(G.zoom-1),G)),R.expression.evaluate(new Fa(Math.floor(G.zoom),G)),R.expression.evaluate(new Fa(Math.floor(G.zoom+1),G)),G)},Ss.prototype._calculate=function(R,G,ie,pe){var Se=pe.zoom;return Se>pe.zoomHistory.lastIntegerZoom?{from:R,to:G}:{from:ie,to:G}},Ss.prototype.interpolate=function(R){return R};var Yo=function(R){this.specification=R};Yo.prototype.possiblyEvaluate=function(R,G,ie,pe){return!!R.expression.evaluate(G,null,{},ie,pe)},Yo.prototype.interpolate=function(){return!1};var ki=function(R){this.properties=R,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var G in R){var ie=R[G];ie.specification.overridable&&this.overridableProperties.push(G);var pe=this.defaultPropertyValues[G]=new xi(ie,void 0),Se=this.defaultTransitionablePropertyValues[G]=new to(ie);this.defaultTransitioningPropertyValues[G]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[G]=pe.possiblyEvaluate({})}};Ne("DataDrivenProperty",Wa),Ne("DataConstantProperty",ga),Ne("CrossFadedDataDrivenProperty",_o),Ne("CrossFadedProperty",Ss),Ne("ColorRampProperty",Yo);var Fo="-transition",Io=function(P){function R(G,ie){if(P.call(this),this.id=G.id,this.type=G.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},G.type!=="custom"&&(G=G,this.metadata=G.metadata,this.minzoom=G.minzoom,this.maxzoom=G.maxzoom,G.type!=="background"&&(this.source=G.source,this.sourceLayer=G["source-layer"],this.filter=G.filter),ie.layout&&(this._unevaluatedLayout=new Go(ie.layout)),ie.paint)){this._transitionablePaint=new Mi(ie.paint);for(var pe in G.paint)this.setPaintProperty(pe,G.paint[pe],{validate:!1});for(var Se in G.layout)this.setLayoutProperty(Se,G.layout[Se],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Wo(ie.paint)}}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},R.prototype.getLayoutProperty=function(ie){return ie==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ie)},R.prototype.setLayoutProperty=function(ie,pe,Se){if(Se===void 0&&(Se={}),pe!=null){var De="layers."+this.id+".layout."+ie;if(this._validate(Xa,De,ie,pe,Se))return}if(ie==="visibility"){this.visibility=pe;return}this._unevaluatedLayout.setValue(ie,pe)},R.prototype.getPaintProperty=function(ie){return b(ie,Fo)?this._transitionablePaint.getTransition(ie.slice(0,-Fo.length)):this._transitionablePaint.getValue(ie)},R.prototype.setPaintProperty=function(ie,pe,Se){if(Se===void 0&&(Se={}),pe!=null){var De="layers."+this.id+".paint."+ie;if(this._validate(Ka,De,ie,pe,Se))return!1}if(b(ie,Fo))return this._transitionablePaint.setTransition(ie.slice(0,-Fo.length),pe||void 0),!1;var Qe=this._transitionablePaint._values[ie],gt=Qe.property.specification["property-type"]==="cross-faded-data-driven",Ct=Qe.value.isDataDriven(),Dt=Qe.value;this._transitionablePaint.setValue(ie,pe),this._handleSpecialPaintPropertyUpdate(ie);var jt=this._transitionablePaint._values[ie].value,lr=jt.isDataDriven();return lr||Ct||gt||this._handleOverridablePaintPropertyUpdate(ie,Dt,jt)},R.prototype._handleSpecialPaintPropertyUpdate=function(ie){},R.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Se){return!1},R.prototype.isHidden=function(ie){return this.minzoom&&ie<this.minzoom||this.maxzoom&&ie>=this.maxzoom?!0:this.visibility==="none"},R.prototype.updateTransitions=function(ie){this._transitioningPaint=this._transitionablePaint.transitioned(ie,this._transitioningPaint)},R.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},R.prototype.recalculate=function(ie,pe){ie.getCrossfadeParameters&&(this._crossfadeParameters=ie.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ie,void 0,pe)),this.paint=this._transitioningPaint.possiblyEvaluate(ie,void 0,pe)},R.prototype.serialize=function(){var ie={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ie.layout=ie.layout||{},ie.layout.visibility=this.visibility),D(ie,function(pe,Se){return pe!==void 0&&!(Se==="layout"&&!Object.keys(pe).length)&&!(Se==="paint"&&!Object.keys(pe).length)})},R.prototype._validate=function(ie,pe,Se,De,Qe){return Qe===void 0&&(Qe={}),Qe&&Qe.validate===!1?!1:Qa(this,ie.call(Yn,{key:pe,layerType:this.type,objectKey:Se,value:De,styleSpec:Lr,style:{glyphs:!0,sprite:!0}}))},R.prototype.is3D=function(){return!1},R.prototype.isTileClipped=function(){return!1},R.prototype.hasOffscreenPass=function(){return!1},R.prototype.resize=function(){},R.prototype.isStateDependent=function(){for(var ie in this.paint._values){var pe=this.paint.get(ie);if(!(!(pe instanceof qi)||!Il(pe.property.specification))&&(pe.value.kind==="source"||pe.value.kind==="composite")&&pe.value.isStateDependent)return!0}return!1},R}(yr),dl={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},pl=function(R,G){this._structArray=R,this._pos1=G*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},uo=128,of=5,bi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};bi.serialize=function(R,G){return R._trim(),G&&(R.isTransferred=!0,G.push(R.arrayBuffer)),{length:R.length,arrayBuffer:R.arrayBuffer}},bi.deserialize=function(R){var G=Object.create(this.prototype);return G.arrayBuffer=R.arrayBuffer,G.length=R.length,G.capacity=R.arrayBuffer.byteLength/G.bytesPerElement,G._refreshViews(),G},bi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},bi.prototype.clear=function(){this.length=0},bi.prototype.resize=function(R){this.reserve(R),this.length=R},bi.prototype.reserve=function(R){if(R>this.capacity){this.capacity=Math.max(R,Math.floor(this.capacity*of),uo),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var G=this.uint8;this._refreshViews(),G&&this.uint8.set(G)}},bi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function fo(P,R){R===void 0&&(R=1);var G=0,ie=0,pe=P.map(function(De){var Qe=Es(De.type),gt=G=yu(G,Math.max(R,Qe)),Ct=De.components||1;return ie=Math.max(ie,Qe),G+=Qe*Ct,{name:De.name,type:De.type,components:Ct,offset:gt}}),Se=yu(G,Math.max(ie,R));return{members:pe,size:Se,alignment:R}}function Es(P){return dl[P].BYTES_PER_ELEMENT}function yu(P,R){return Math.ceil(P/R)*R}var Nc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,pe)},R.prototype.emplace=function(ie,pe,Se){var De=ie*2;return this.int16[De+0]=pe,this.int16[De+1]=Se,ie},R}(bi);Nc.prototype.bytesPerElement=4,Ne("StructArrayLayout2i4",Nc);var jv=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ie,pe,Se,De)},R.prototype.emplace=function(ie,pe,Se,De,Qe){var gt=ie*4;return this.int16[gt+0]=pe,this.int16[gt+1]=Se,this.int16[gt+2]=De,this.int16[gt+3]=Qe,ie},R}(bi);jv.prototype.bytesPerElement=8,Ne("StructArrayLayout4i8",jv);var mu=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De,Qe,gt){var Ct=this.length;return this.resize(Ct+1),this.emplace(Ct,ie,pe,Se,De,Qe,gt)},R.prototype.emplace=function(ie,pe,Se,De,Qe,gt,Ct){var Dt=ie*6;return this.int16[Dt+0]=pe,this.int16[Dt+1]=Se,this.int16[Dt+2]=De,this.int16[Dt+3]=Qe,this.int16[Dt+4]=gt,this.int16[Dt+5]=Ct,ie},R}(bi);mu.prototype.bytesPerElement=12,Ne("StructArrayLayout2i4i12",mu);var xu=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De,Qe,gt){var Ct=this.length;return this.resize(Ct+1),this.emplace(Ct,ie,pe,Se,De,Qe,gt)},R.prototype.emplace=function(ie,pe,Se,De,Qe,gt,Ct){var Dt=ie*4,jt=ie*8;return this.int16[Dt+0]=pe,this.int16[Dt+1]=Se,this.uint8[jt+4]=De,this.uint8[jt+5]=Qe,this.uint8[jt+6]=gt,this.uint8[jt+7]=Ct,ie},R}(bi);xu.prototype.bytesPerElement=8,Ne("StructArrayLayout2i4ub8",xu);var Bc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,pe)},R.prototype.emplace=function(ie,pe,Se){var De=ie*2;return this.float32[De+0]=pe,this.float32[De+1]=Se,ie},R}(bi);Bc.prototype.bytesPerElement=8,Ne("StructArrayLayout2f8",Bc);var Ys=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr){var nr=this.length;return this.resize(nr+1),this.emplace(nr,ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr)},R.prototype.emplace=function(ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr){var Mr=ie*10;return this.uint16[Mr+0]=pe,this.uint16[Mr+1]=Se,this.uint16[Mr+2]=De,this.uint16[Mr+3]=Qe,this.uint16[Mr+4]=gt,this.uint16[Mr+5]=Ct,this.uint16[Mr+6]=Dt,this.uint16[Mr+7]=jt,this.uint16[Mr+8]=lr,this.uint16[Mr+9]=nr,ie},R}(bi);Ys.prototype.bytesPerElement=20,Ne("StructArrayLayout10ui20",Ys);var uc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr){var Xr=this.length;return this.resize(Xr+1),this.emplace(Xr,ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr)},R.prototype.emplace=function(ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr,Xr){var mn=ie*12;return this.int16[mn+0]=pe,this.int16[mn+1]=Se,this.int16[mn+2]=De,this.int16[mn+3]=Qe,this.uint16[mn+4]=gt,this.uint16[mn+5]=Ct,this.uint16[mn+6]=Dt,this.uint16[mn+7]=jt,this.int16[mn+8]=lr,this.int16[mn+9]=nr,this.int16[mn+10]=Mr,this.int16[mn+11]=Xr,ie},R}(bi);uc.prototype.bytesPerElement=24,Ne("StructArrayLayout4i4ui4i24",uc);var Qh=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Se)},R.prototype.emplace=function(ie,pe,Se,De){var Qe=ie*3;return this.float32[Qe+0]=pe,this.float32[Qe+1]=Se,this.float32[Qe+2]=De,ie},R}(bi);Qh.prototype.bytesPerElement=12,Ne("StructArrayLayout3f12",Qh);var fc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},R.prototype.emplace=function(ie,pe){var Se=ie*1;return this.uint32[Se+0]=pe,ie},R}(bi);fc.prototype.bytesPerElement=4,Ne("StructArrayLayout1ul4",fc);var zf=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De,Qe,gt,Ct,Dt,jt){var lr=this.length;return this.resize(lr+1),this.emplace(lr,ie,pe,Se,De,Qe,gt,Ct,Dt,jt)},R.prototype.emplace=function(ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr){var nr=ie*10,Mr=ie*5;return this.int16[nr+0]=pe,this.int16[nr+1]=Se,this.int16[nr+2]=De,this.int16[nr+3]=Qe,this.int16[nr+4]=gt,this.int16[nr+5]=Ct,this.uint32[Mr+3]=Dt,this.uint16[nr+8]=jt,this.uint16[nr+9]=lr,ie},R}(bi);zf.prototype.bytesPerElement=20,Ne("StructArrayLayout6i1ul2ui20",zf);var qh=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De,Qe,gt){var Ct=this.length;return this.resize(Ct+1),this.emplace(Ct,ie,pe,Se,De,Qe,gt)},R.prototype.emplace=function(ie,pe,Se,De,Qe,gt,Ct){var Dt=ie*6;return this.int16[Dt+0]=pe,this.int16[Dt+1]=Se,this.int16[Dt+2]=De,this.int16[Dt+3]=Qe,this.int16[Dt+4]=gt,this.int16[Dt+5]=Ct,ie},R}(bi);qh.prototype.bytesPerElement=12,Ne("StructArrayLayout2i2i2i12",qh);var sf=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De,Qe){var gt=this.length;return this.resize(gt+1),this.emplace(gt,ie,pe,Se,De,Qe)},R.prototype.emplace=function(ie,pe,Se,De,Qe,gt){var Ct=ie*4,Dt=ie*8;return this.float32[Ct+0]=pe,this.float32[Ct+1]=Se,this.float32[Ct+2]=De,this.int16[Dt+6]=Qe,this.int16[Dt+7]=gt,ie},R}(bi);sf.prototype.bytesPerElement=16,Ne("StructArrayLayout2f1f2i16",sf);var tl=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ie,pe,Se,De)},R.prototype.emplace=function(ie,pe,Se,De,Qe){var gt=ie*12,Ct=ie*3;return this.uint8[gt+0]=pe,this.uint8[gt+1]=Se,this.float32[Ct+1]=De,this.float32[Ct+2]=Qe,ie},R}(bi);tl.prototype.bytesPerElement=12,Ne("StructArrayLayout2ub2f12",tl);var Ql=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Se)},R.prototype.emplace=function(ie,pe,Se,De){var Qe=ie*3;return this.uint16[Qe+0]=pe,this.uint16[Qe+1]=Se,this.uint16[Qe+2]=De,ie},R}(bi);Ql.prototype.bytesPerElement=6,Ne("StructArrayLayout3ui6",Ql);var fh=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr,Xr,mn,cn,Gn,Cn){var Bn=this.length;return this.resize(Bn+1),this.emplace(Bn,ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr,Xr,mn,cn,Gn,Cn)},R.prototype.emplace=function(ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr,Xr,mn,cn,Gn,Cn,Bn){var Zn=ie*24,na=ie*12,pa=ie*48;return this.int16[Zn+0]=pe,this.int16[Zn+1]=Se,this.uint16[Zn+2]=De,this.uint16[Zn+3]=Qe,this.uint32[na+2]=gt,this.uint32[na+3]=Ct,this.uint32[na+4]=Dt,this.uint16[Zn+10]=jt,this.uint16[Zn+11]=lr,this.uint16[Zn+12]=nr,this.float32[na+7]=Mr,this.float32[na+8]=Xr,this.uint8[pa+36]=mn,this.uint8[pa+37]=cn,this.uint8[pa+38]=Gn,this.uint32[na+10]=Cn,this.int16[Zn+22]=Bn,ie},R}(bi);fh.prototype.bytesPerElement=48,Ne("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",fh);var Uc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr,Xr,mn,cn,Gn,Cn,Bn,Zn,na,pa,va,Ua,Oa,Na,ui,Va,Ga){var hi=this.length;return this.resize(hi+1),this.emplace(hi,ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr,Xr,mn,cn,Gn,Cn,Bn,Zn,na,pa,va,Ua,Oa,Na,ui,Va,Ga)},R.prototype.emplace=function(ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr,Xr,mn,cn,Gn,Cn,Bn,Zn,na,pa,va,Ua,Oa,Na,ui,Va,Ga,hi){var ii=ie*34,Hi=ie*17;return this.int16[ii+0]=pe,this.int16[ii+1]=Se,this.int16[ii+2]=De,this.int16[ii+3]=Qe,this.int16[ii+4]=gt,this.int16[ii+5]=Ct,this.int16[ii+6]=Dt,this.int16[ii+7]=jt,this.uint16[ii+8]=lr,this.uint16[ii+9]=nr,this.uint16[ii+10]=Mr,this.uint16[ii+11]=Xr,this.uint16[ii+12]=mn,this.uint16[ii+13]=cn,this.uint16[ii+14]=Gn,this.uint16[ii+15]=Cn,this.uint16[ii+16]=Bn,this.uint16[ii+17]=Zn,this.uint16[ii+18]=na,this.uint16[ii+19]=pa,this.uint16[ii+20]=va,this.uint16[ii+21]=Ua,this.uint16[ii+22]=Oa,this.uint32[Hi+12]=Na,this.float32[Hi+13]=ui,this.float32[Hi+14]=Va,this.float32[Hi+15]=Ga,this.float32[Hi+16]=hi,ie},R}(bi);Uc.prototype.bytesPerElement=68,Ne("StructArrayLayout8i15ui1ul4f68",Uc);var cc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},R.prototype.emplace=function(ie,pe){var Se=ie*1;return this.float32[Se+0]=pe,ie},R}(bi);cc.prototype.bytesPerElement=4,Ne("StructArrayLayout1f4",cc);var ch=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Se)},R.prototype.emplace=function(ie,pe,Se,De){var Qe=ie*3;return this.int16[Qe+0]=pe,this.int16[Qe+1]=Se,this.int16[Qe+2]=De,ie},R}(bi);ch.prototype.bytesPerElement=6,Ne("StructArrayLayout3i6",ch);var hc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se){var De=this.length;return this.resize(De+1),this.emplace(De,ie,pe,Se)},R.prototype.emplace=function(ie,pe,Se,De){var Qe=ie*2,gt=ie*4;return this.uint32[Qe+0]=pe,this.uint16[gt+2]=Se,this.uint16[gt+3]=De,ie},R}(bi);hc.prototype.bytesPerElement=8,Ne("StructArrayLayout1ul2ui8",hc);var hh=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,pe)},R.prototype.emplace=function(ie,pe,Se){var De=ie*2;return this.uint16[De+0]=pe,this.uint16[De+1]=Se,ie},R}(bi);hh.prototype.bytesPerElement=4,Ne("StructArrayLayout2ui4",hh);var Ff=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},R.prototype.emplace=function(ie,pe){var Se=ie*1;return this.uint16[Se+0]=pe,ie},R}(bi);Ff.prototype.bytesPerElement=2,Ne("StructArrayLayout1ui2",Ff);var vc=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ie,pe,Se,De){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ie,pe,Se,De)},R.prototype.emplace=function(ie,pe,Se,De,Qe){var gt=ie*4;return this.float32[gt+0]=pe,this.float32[gt+1]=Se,this.float32[gt+2]=De,this.float32[gt+3]=Qe,ie},R}(bi);vc.prototype.bytesPerElement=16,Ne("StructArrayLayout4f16",vc);var ev=function(P){function R(){P.apply(this,arguments)}P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R;var G={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return G.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},G.x1.get=function(){return this._structArray.int16[this._pos2+2]},G.y1.get=function(){return this._structArray.int16[this._pos2+3]},G.x2.get=function(){return this._structArray.int16[this._pos2+4]},G.y2.get=function(){return this._structArray.int16[this._pos2+5]},G.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},G.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},G.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},G.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(R.prototype,G),R}(pl);ev.prototype.size=20;var Kv=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.get=function(ie){return new ev(this,ie)},R}(zf);Ne("CollisionBoxArray",Kv);var dc=function(P){function R(){P.apply(this,arguments)}P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R;var G={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return G.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},G.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},G.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},G.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},G.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},G.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},G.segment.get=function(){return this._structArray.uint16[this._pos2+10]},G.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},G.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},G.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},G.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},G.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},G.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},G.placedOrientation.set=function(ie){this._structArray.uint8[this._pos1+37]=ie},G.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},G.hidden.set=function(ie){this._structArray.uint8[this._pos1+38]=ie},G.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},G.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+10]=ie},G.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(R.prototype,G),R}(pl);dc.prototype.size=48;var bu=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.get=function(ie){return new dc(this,ie)},R}(fh);Ne("PlacedSymbolArray",bu);var Vc=function(P){function R(){P.apply(this,arguments)}P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R;var G={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return G.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},G.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},G.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},G.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},G.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},G.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},G.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},G.key.get=function(){return this._structArray.uint16[this._pos2+8]},G.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},G.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},G.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},G.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},G.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},G.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},G.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},G.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},G.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},G.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},G.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},G.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},G.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},G.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},G.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},G.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+12]=ie},G.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},G.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},G.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},G.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(R.prototype,G),R}(pl);Vc.prototype.size=68;var Jv=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.get=function(ie){return new Vc(this,ie)},R}(Uc);Ne("SymbolInstanceArray",Jv);var Od=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.getoffsetX=function(ie){return this.float32[ie*1+0]},R}(cc);Ne("GlyphOffsetArray",Od);var ql=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.getx=function(ie){return this.int16[ie*3+0]},R.prototype.gety=function(ie){return this.int16[ie*3+1]},R.prototype.gettileUnitDistanceFromAnchor=function(ie){return this.int16[ie*3+2]},R}(ch);Ne("SymbolLineVertexArray",ql);var zd=function(P){function R(){P.apply(this,arguments)}P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R;var G={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return G.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},G.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},G.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(R.prototype,G),R}(pl);zd.prototype.size=8;var Fd=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.get=function(ie){return new zd(this,ie)},R}(hc);Ne("FeatureIndexArray",Fd);var Nf=fo([{name:"a_pos",components:2,type:"Int16"}],4),tv=Nf.members,No=function(R){R===void 0&&(R=[]),this.segments=R};No.prototype.prepareSegment=function(R,G,ie,pe){var Se=this.segments[this.segments.length-1];return R>No.MAX_VERTEX_ARRAY_LENGTH&&F("Max vertices per segment is "+No.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+R),(!Se||Se.vertexLength+R>No.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==pe)&&(Se={vertexOffset:G.length,primitiveOffset:ie.length,vertexLength:0,primitiveLength:0},pe!==void 0&&(Se.sortKey=pe),this.segments.push(Se)),Se},No.prototype.get=function(){return this.segments},No.prototype.destroy=function(){for(var R=0,G=this.segments;R<G.length;R+=1){var ie=G[R];for(var pe in ie.vaos)ie.vaos[pe].destroy()}},No.simpleSegment=function(R,G,ie,pe){return new No([{vertexOffset:R,primitiveOffset:G,vertexLength:ie,primitiveLength:pe,vaos:{},sortKey:0}])},No.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ne("SegmentVector",No);function ve(P,R){return P=h(Math.floor(P),0,255),R=h(Math.floor(R),0,255),256*P+R}var J=fo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),de=C(function(P){function R(G,ie){var pe,Se,De,Qe,gt,Ct,Dt,jt;for(pe=G.length&3,Se=G.length-pe,De=ie,gt=3432918353,Ct=461845907,jt=0;jt<Se;)Dt=G.charCodeAt(jt)&255|(G.charCodeAt(++jt)&255)<<8|(G.charCodeAt(++jt)&255)<<16|(G.charCodeAt(++jt)&255)<<24,++jt,Dt=(Dt&65535)*gt+(((Dt>>>16)*gt&65535)<<16)&4294967295,Dt=Dt<<15|Dt>>>17,Dt=(Dt&65535)*Ct+(((Dt>>>16)*Ct&65535)<<16)&4294967295,De^=Dt,De=De<<13|De>>>19,Qe=(De&65535)*5+(((De>>>16)*5&65535)<<16)&4294967295,De=(Qe&65535)+27492+(((Qe>>>16)+58964&65535)<<16);switch(Dt=0,pe){case 3:Dt^=(G.charCodeAt(jt+2)&255)<<16;case 2:Dt^=(G.charCodeAt(jt+1)&255)<<8;case 1:Dt^=G.charCodeAt(jt)&255,Dt=(Dt&65535)*gt+(((Dt>>>16)*gt&65535)<<16)&4294967295,Dt=Dt<<15|Dt>>>17,Dt=(Dt&65535)*Ct+(((Dt>>>16)*Ct&65535)<<16)&4294967295,De^=Dt}return De^=G.length,De^=De>>>16,De=(De&65535)*2246822507+(((De>>>16)*2246822507&65535)<<16)&4294967295,De^=De>>>13,De=(De&65535)*3266489909+(((De>>>16)*3266489909&65535)<<16)&4294967295,De^=De>>>16,De>>>0}P.exports=R}),te=C(function(P){function R(G,ie){for(var pe=G.length,Se=ie^pe,De=0,Qe;pe>=4;)Qe=G.charCodeAt(De)&255|(G.charCodeAt(++De)&255)<<8|(G.charCodeAt(++De)&255)<<16|(G.charCodeAt(++De)&255)<<24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Qe^=Qe>>>24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)^Qe,pe-=4,++De;switch(pe){case 3:Se^=(G.charCodeAt(De+2)&255)<<16;case 2:Se^=(G.charCodeAt(De+1)&255)<<8;case 1:Se^=G.charCodeAt(De)&255,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)}return Se^=Se>>>13,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16),Se^=Se>>>15,Se>>>0}P.exports=R}),ge=de,ze=de,Ke=te;ge.murmur3=ze,ge.murmur2=Ke;var ct=function(){this.ids=[],this.positions=[],this.indexed=!1};ct.prototype.add=function(R,G,ie,pe){this.ids.push(Yt(R)),this.positions.push(G,ie,pe)},ct.prototype.getPositions=function(R){for(var G=Yt(R),ie=0,pe=this.ids.length-1;ie<pe;){var Se=ie+pe>>1;this.ids[Se]>=G?pe=Se:ie=Se+1}for(var De=[];this.ids[ie]===G;){var Qe=this.positions[3*ie],gt=this.positions[3*ie+1],Ct=this.positions[3*ie+2];De.push({index:Qe,start:gt,end:Ct}),ie++}return De},ct.serialize=function(R,G){var ie=new Float64Array(R.ids),pe=new Uint32Array(R.positions);return qt(ie,pe,0,ie.length-1),G&&G.push(ie.buffer,pe.buffer),{ids:ie,positions:pe}},ct.deserialize=function(R){var G=new ct;return G.ids=R.ids,G.positions=R.positions,G.indexed=!0,G};var Pt=Math.pow(2,53)-1;function Yt(P){var R=+P;return!isNaN(R)&&R<=Pt?R:ge(String(P))}function qt(P,R,G,ie){for(;G<ie;){for(var pe=P[G+ie>>1],Se=G-1,De=ie+1;;){do Se++;while(P[Se]<pe);do De--;while(P[De]>pe);if(Se>=De)break;vr(P,Se,De),vr(R,3*Se,3*De),vr(R,3*Se+1,3*De+1),vr(R,3*Se+2,3*De+2)}De-G<ie-De?(qt(P,R,G,De),G=De+1):(qt(P,R,De+1,ie),ie=De)}}function vr(P,R,G){var ie=P[R];P[R]=P[G],P[G]=ie}Ne("FeaturePositionMap",ct);var fr=function(R,G){this.gl=R.gl,this.location=G},Vr=function(P){function R(G,ie){P.call(this,G,ie),this.current=0}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1i(this.location,ie))},R}(fr),en=function(P){function R(G,ie){P.call(this,G,ie),this.current=0}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1f(this.location,ie))},R}(fr),qr=function(P){function R(G,ie){P.call(this,G,ie),this.current=[0,0]}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1])&&(this.current=ie,this.gl.uniform2f(this.location,ie[0],ie[1]))},R}(fr),Jr=function(P){function R(G,ie){P.call(this,G,ie),this.current=[0,0,0]}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2])&&(this.current=ie,this.gl.uniform3f(this.location,ie[0],ie[1],ie[2]))},R}(fr),an=function(P){function R(G,ie){P.call(this,G,ie),this.current=[0,0,0,0]}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2]||ie[3]!==this.current[3])&&(this.current=ie,this.gl.uniform4f(this.location,ie[0],ie[1],ie[2],ie[3]))},R}(fr),xn=function(P){function R(G,ie){P.call(this,G,ie),this.current=Ti.transparent}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(ie){(ie.r!==this.current.r||ie.g!==this.current.g||ie.b!==this.current.b||ie.a!==this.current.a)&&(this.current=ie,this.gl.uniform4f(this.location,ie.r,ie.g,ie.b,ie.a))},R}(fr),Hn=new Float32Array(16),Xn=function(P){function R(G,ie){P.call(this,G,ie),this.current=Hn}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.set=function(ie){if(ie[12]!==this.current[12]||ie[0]!==this.current[0]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);return}for(var pe=1;pe<16;pe++)if(ie[pe]!==this.current[pe]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);break}},R}(fr);function ta(P){return[ve(255*P.r,255*P.g),ve(255*P.b,255*P.a)]}var aa=function(R,G,ie){this.value=R,this.uniformNames=G.map(function(pe){return"u_"+pe}),this.type=ie};aa.prototype.setUniform=function(R,G,ie){R.set(ie.constantOr(this.value))},aa.prototype.getBinding=function(R,G,ie){return this.type==="color"?new xn(R,G):new en(R,G)};var ea=function(R,G){this.uniformNames=G.map(function(ie){return"u_"+ie}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ea.prototype.setConstantPatternPositions=function(R,G){this.pixelRatioFrom=G.pixelRatio,this.pixelRatioTo=R.pixelRatio,this.patternFrom=G.tlbr,this.patternTo=R.tlbr},ea.prototype.setUniform=function(R,G,ie,pe){var Se=pe==="u_pattern_to"?this.patternTo:pe==="u_pattern_from"?this.patternFrom:pe==="u_pixel_ratio_to"?this.pixelRatioTo:pe==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Se&&R.set(Se)},ea.prototype.getBinding=function(R,G,ie){return ie.substr(0,9)==="u_pattern"?new an(R,G):new en(R,G)};var oa=function(R,G,ie,pe){this.expression=R,this.type=ie,this.maxValue=0,this.paintVertexAttributes=G.map(function(Se){return{name:"a_"+Se,type:"Float32",components:ie==="color"?2:1,offset:0}}),this.paintVertexArray=new pe};oa.prototype.populatePaintArray=function(R,G,ie,pe,Se){var De=this.paintVertexArray.length,Qe=this.expression.evaluate(new Fa(0),G,{},pe,[],Se);this.paintVertexArray.resize(R),this._setPaintValue(De,R,Qe)},oa.prototype.updatePaintArray=function(R,G,ie,pe){var Se=this.expression.evaluate({zoom:0},ie,pe);this._setPaintValue(R,G,Se)},oa.prototype._setPaintValue=function(R,G,ie){if(this.type==="color")for(var pe=ta(ie),Se=R;Se<G;Se++)this.paintVertexArray.emplace(Se,pe[0],pe[1]);else{for(var De=R;De<G;De++)this.paintVertexArray.emplace(De,ie);this.maxValue=Math.max(this.maxValue,Math.abs(ie))}},oa.prototype.upload=function(R){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=R.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},oa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var da=function(R,G,ie,pe,Se,De){this.expression=R,this.uniformNames=G.map(function(Qe){return"u_"+Qe+"_t"}),this.type=ie,this.useIntegerZoom=pe,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=G.map(function(Qe){return{name:"a_"+Qe,type:"Float32",components:ie==="color"?4:2,offset:0}}),this.paintVertexArray=new De};da.prototype.populatePaintArray=function(R,G,ie,pe,Se){var De=this.expression.evaluate(new Fa(this.zoom),G,{},pe,[],Se),Qe=this.expression.evaluate(new Fa(this.zoom+1),G,{},pe,[],Se),gt=this.paintVertexArray.length;this.paintVertexArray.resize(R),this._setPaintValue(gt,R,De,Qe)},da.prototype.updatePaintArray=function(R,G,ie,pe){var Se=this.expression.evaluate({zoom:this.zoom},ie,pe),De=this.expression.evaluate({zoom:this.zoom+1},ie,pe);this._setPaintValue(R,G,Se,De)},da.prototype._setPaintValue=function(R,G,ie,pe){if(this.type==="color")for(var Se=ta(ie),De=ta(pe),Qe=R;Qe<G;Qe++)this.paintVertexArray.emplace(Qe,Se[0],Se[1],De[0],De[1]);else{for(var gt=R;gt<G;gt++)this.paintVertexArray.emplace(gt,ie,pe);this.maxValue=Math.max(this.maxValue,Math.abs(ie),Math.abs(pe))}},da.prototype.upload=function(R){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=R.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},da.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},da.prototype.setUniform=function(R,G){var ie=this.useIntegerZoom?Math.floor(G.zoom):G.zoom,pe=h(this.expression.interpolationFactor(ie,this.zoom,this.zoom+1),0,1);R.set(pe)},da.prototype.getBinding=function(R,G,ie){return new en(R,G)};var ba=function(R,G,ie,pe,Se,De){this.expression=R,this.type=G,this.useIntegerZoom=ie,this.zoom=pe,this.layerId=De,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};ba.prototype.populatePaintArray=function(R,G,ie){var pe=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(R),this.zoomOutPaintVertexArray.resize(R),this._setPaintValues(pe,R,G.patterns&&G.patterns[this.layerId],ie)},ba.prototype.updatePaintArray=function(R,G,ie,pe,Se){this._setPaintValues(R,G,ie.patterns&&ie.patterns[this.layerId],Se)},ba.prototype._setPaintValues=function(R,G,ie,pe){if(!(!pe||!ie)){var Se=ie.min,De=ie.mid,Qe=ie.max,gt=pe[Se],Ct=pe[De],Dt=pe[Qe];if(!(!gt||!Ct||!Dt))for(var jt=R;jt<G;jt++)this.zoomInPaintVertexArray.emplace(jt,Ct.tl[0],Ct.tl[1],Ct.br[0],Ct.br[1],gt.tl[0],gt.tl[1],gt.br[0],gt.br[1],Ct.pixelRatio,gt.pixelRatio),this.zoomOutPaintVertexArray.emplace(jt,Ct.tl[0],Ct.tl[1],Ct.br[0],Ct.br[1],Dt.tl[0],Dt.tl[1],Dt.br[0],Dt.br[1],Ct.pixelRatio,Dt.pixelRatio)}},ba.prototype.upload=function(R){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=R.createVertexBuffer(this.zoomInPaintVertexArray,J.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=R.createVertexBuffer(this.zoomOutPaintVertexArray,J.members,this.expression.isStateDependent))},ba.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var za=function(R,G,ie){this.binders={},this._buffers=[];var pe=[];for(var Se in R.paint._values)if(ie(Se)){var De=R.paint.get(Se);if(!(!(De instanceof qi)||!Il(De.property.specification))){var Qe=ri(Se,R.type),gt=De.value,Ct=De.property.specification.type,Dt=De.property.useIntegerZoom,jt=De.property.specification["property-type"],lr=jt==="cross-faded"||jt==="cross-faded-data-driven";if(gt.kind==="constant")this.binders[Se]=lr?new ea(gt.value,Qe):new aa(gt.value,Qe,Ct),pe.push("/u_"+Se);else if(gt.kind==="source"||lr){var nr=di(Se,Ct,"source");this.binders[Se]=lr?new ba(gt,Ct,Dt,G,nr,R.id):new oa(gt,Qe,Ct,nr),pe.push("/a_"+Se)}else{var Mr=di(Se,Ct,"composite");this.binders[Se]=new da(gt,Qe,Ct,Dt,G,Mr),pe.push("/z_"+Se)}}}this.cacheKey=pe.sort().join("")};za.prototype.getMaxValue=function(R){var G=this.binders[R];return G instanceof oa||G instanceof da?G.maxValue:0},za.prototype.populatePaintArrays=function(R,G,ie,pe,Se){for(var De in this.binders){var Qe=this.binders[De];(Qe instanceof oa||Qe instanceof da||Qe instanceof ba)&&Qe.populatePaintArray(R,G,ie,pe,Se)}},za.prototype.setConstantPatternPositions=function(R,G){for(var ie in this.binders){var pe=this.binders[ie];pe instanceof ea&&pe.setConstantPatternPositions(R,G)}},za.prototype.updatePaintArrays=function(R,G,ie,pe,Se){var De=!1;for(var Qe in R)for(var gt=G.getPositions(Qe),Ct=0,Dt=gt;Ct<Dt.length;Ct+=1){var jt=Dt[Ct],lr=ie.feature(jt.index);for(var nr in this.binders){var Mr=this.binders[nr];if((Mr instanceof oa||Mr instanceof da||Mr instanceof ba)&&Mr.expression.isStateDependent===!0){var Xr=pe.paint.get(nr);Mr.expression=Xr.value,Mr.updatePaintArray(jt.start,jt.end,lr,R[Qe],Se),De=!0}}}return De},za.prototype.defines=function(){var R=[];for(var G in this.binders){var ie=this.binders[G];(ie instanceof aa||ie instanceof ea)&&R.push.apply(R,ie.uniformNames.map(function(pe){return"#define HAS_UNIFORM_"+pe}))}return R},za.prototype.getBinderAttributes=function(){var R=[];for(var G in this.binders){var ie=this.binders[G];if(ie instanceof oa||ie instanceof da)for(var pe=0;pe<ie.paintVertexAttributes.length;pe++)R.push(ie.paintVertexAttributes[pe].name);else if(ie instanceof ba)for(var Se=0;Se<J.members.length;Se++)R.push(J.members[Se].name)}return R},za.prototype.getBinderUniforms=function(){var R=[];for(var G in this.binders){var ie=this.binders[G];if(ie instanceof aa||ie instanceof ea||ie instanceof da)for(var pe=0,Se=ie.uniformNames;pe<Se.length;pe+=1){var De=Se[pe];R.push(De)}}return R},za.prototype.getPaintVertexBuffers=function(){return this._buffers},za.prototype.getUniforms=function(R,G){var ie=[];for(var pe in this.binders){var Se=this.binders[pe];if(Se instanceof aa||Se instanceof ea||Se instanceof da)for(var De=0,Qe=Se.uniformNames;De<Qe.length;De+=1){var gt=Qe[De];if(G[gt]){var Ct=Se.getBinding(R,G[gt],gt);ie.push({name:gt,property:pe,binding:Ct})}}}return ie},za.prototype.setUniforms=function(R,G,ie,pe){for(var Se=0,De=G;Se<De.length;Se+=1){var Qe=De[Se],gt=Qe.name,Ct=Qe.property,Dt=Qe.binding;this.binders[Ct].setUniform(Dt,pe,ie.get(Ct),gt)}},za.prototype.updatePaintBuffers=function(R){this._buffers=[];for(var G in this.binders){var ie=this.binders[G];if(R&&ie instanceof ba){var pe=R.fromScale===2?ie.zoomInPaintVertexBuffer:ie.zoomOutPaintVertexBuffer;pe&&this._buffers.push(pe)}else(ie instanceof oa||ie instanceof da)&&ie.paintVertexBuffer&&this._buffers.push(ie.paintVertexBuffer)}},za.prototype.upload=function(R){for(var G in this.binders){var ie=this.binders[G];(ie instanceof oa||ie instanceof da||ie instanceof ba)&&ie.upload(R)}this.updatePaintBuffers()},za.prototype.destroy=function(){for(var R in this.binders){var G=this.binders[R];(G instanceof oa||G instanceof da||G instanceof ba)&&G.destroy()}};var _a=function(R,G,ie){ie===void 0&&(ie=function(){return!0}),this.programConfigurations={};for(var pe=0,Se=R;pe<Se.length;pe+=1){var De=Se[pe];this.programConfigurations[De.id]=new za(De,G,ie)}this.needsUpload=!1,this._featureMap=new ct,this._bufferOffset=0};_a.prototype.populatePaintArrays=function(R,G,ie,pe,Se,De){for(var Qe in this.programConfigurations)this.programConfigurations[Qe].populatePaintArrays(R,G,pe,Se,De);G.id!==void 0&&this._featureMap.add(G.id,ie,this._bufferOffset,R),this._bufferOffset=R,this.needsUpload=!0},_a.prototype.updatePaintArrays=function(R,G,ie,pe){for(var Se=0,De=ie;Se<De.length;Se+=1){var Qe=De[Se];this.needsUpload=this.programConfigurations[Qe.id].updatePaintArrays(R,this._featureMap,G,Qe,pe)||this.needsUpload}},_a.prototype.get=function(R){return this.programConfigurations[R]},_a.prototype.upload=function(R){if(this.needsUpload){for(var G in this.programConfigurations)this.programConfigurations[G].upload(R);this.needsUpload=!1}},_a.prototype.destroy=function(){for(var R in this.programConfigurations)this.programConfigurations[R].destroy()};function ri(P,R){var G={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return G[P]||[P.replace(R+"-","").replace(/-/g,"_")]}function Si(P){var R={"line-pattern":{source:Ys,composite:Ys},"fill-pattern":{source:Ys,composite:Ys},"fill-extrusion-pattern":{source:Ys,composite:Ys}};return R[P]}function di(P,R,G){var ie={color:{source:Bc,composite:vc},number:{source:cc,composite:Bc}},pe=Si(P);return pe&&pe[G]||ie[R][G]}Ne("ConstantBinder",aa),Ne("CrossFadedConstantBinder",ea),Ne("SourceExpressionBinder",oa),Ne("CrossFadedCompositeBinder",ba),Ne("CompositeExpressionBinder",da),Ne("ProgramConfiguration",za,{omit:["_buffers"]}),Ne("ProgramConfigurationSet",_a);var Ba=8192,gi=15,oi=Math.pow(2,gi-1)-1,Oi=-oi-1;function Ei(P){for(var R=Ba/P.extent,G=P.loadGeometry(),ie=0;ie<G.length;ie++)for(var pe=G[ie],Se=0;Se<pe.length;Se++){var De=pe[Se],Qe=Math.round(De.x*R),gt=Math.round(De.y*R);De.x=h(Qe,Oi,oi),De.y=h(gt,Oi,oi),(Qe<De.x||Qe>De.x+1||gt<De.y||gt>De.y+1)&&F("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return G}function no(P,R){return{type:P.type,id:P.id,properties:P.properties,geometry:R?Ei(P):[]}}function yi(P,R,G,ie,pe){P.emplaceBack(R*2+(ie+1)/2,G*2+(pe+1)/2)}var Ki=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=R.index,this.hasPattern=!1,this.layoutVertexArray=new Nc,this.indexArray=new Ql,this.segments=new No,this.programConfigurations=new _a(R.layers,R.zoom),this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Ki.prototype.populate=function(R,G,ie){var pe=this.layers[0],Se=[],De=null;pe.type==="circle"&&(De=pe.layout.get("circle-sort-key"));for(var Qe=0,gt=R;Qe<gt.length;Qe+=1){var Ct=gt[Qe],Dt=Ct.feature,jt=Ct.id,lr=Ct.index,nr=Ct.sourceLayerIndex,Mr=this.layers[0]._featureFilter.needGeometry,Xr=no(Dt,Mr);if(this.layers[0]._featureFilter.filter(new Fa(this.zoom),Xr,ie)){var mn=De?De.evaluate(Xr,{},ie):void 0,cn={id:jt,properties:Dt.properties,type:Dt.type,sourceLayerIndex:nr,index:lr,geometry:Mr?Xr.geometry:Ei(Dt),patterns:{},sortKey:mn};Se.push(cn)}}De&&Se.sort(function(Oa,Na){return Oa.sortKey-Na.sortKey});for(var Gn=0,Cn=Se;Gn<Cn.length;Gn+=1){var Bn=Cn[Gn],Zn=Bn,na=Zn.geometry,pa=Zn.index,va=Zn.sourceLayerIndex,Ua=R[pa].feature;this.addFeature(Bn,na,pa,ie),G.featureIndex.insert(Ua,na,pa,va,this.index)}},Ki.prototype.update=function(R,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,G,this.stateDependentLayers,ie)},Ki.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ki.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ki.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,tv),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},Ki.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ki.prototype.addFeature=function(R,G,ie,pe){for(var Se=0,De=G;Se<De.length;Se+=1)for(var Qe=De[Se],gt=0,Ct=Qe;gt<Ct.length;gt+=1){var Dt=Ct[gt],jt=Dt.x,lr=Dt.y;if(!(jt<0||jt>=Ba||lr<0||lr>=Ba)){var nr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,R.sortKey),Mr=nr.vertexLength;yi(this.layoutVertexArray,jt,lr,-1,-1),yi(this.layoutVertexArray,jt,lr,1,-1),yi(this.layoutVertexArray,jt,lr,1,1),yi(this.layoutVertexArray,jt,lr,-1,1),this.indexArray.emplaceBack(Mr,Mr+1,Mr+2),this.indexArray.emplaceBack(Mr,Mr+3,Mr+2),nr.vertexLength+=4,nr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ie,{},pe)},Ne("CircleBucket",Ki,{omit:["layers"]});function li(P,R){for(var G=0;G<P.length;G++)if(rl(R,P[G]))return!0;for(var ie=0;ie<R.length;ie++)if(rl(P,R[ie]))return!0;return!!Cs(P,R)}function Ci(P,R,G){return!!(rl(P,R)||Tu(R,P,G))}function To(P,R){if(P.length===1)return lf(R,P[0]);for(var G=0;G<R.length;G++)for(var ie=R[G],pe=0;pe<ie.length;pe++)if(rl(P,ie[pe]))return!0;for(var Se=0;Se<P.length;Se++)if(lf(R,P[Se]))return!0;for(var De=0;De<R.length;De++)if(Cs(P,R[De]))return!0;return!1}function Qo(P,R,G){for(var ie=0;ie<R.length;ie++){var pe=R[ie];if(P.length>=3){for(var Se=0;Se<pe.length;Se++)if(rl(P,pe[Se]))return!0}if(qo(P,pe,G))return!0}return!1}function qo(P,R,G){if(P.length>1){if(Cs(P,R))return!0;for(var ie=0;ie<R.length;ie++)if(Tu(R[ie],P,G))return!0}for(var pe=0;pe<P.length;pe++)if(Tu(P[pe],R,G))return!0;return!1}function Cs(P,R){if(P.length===0||R.length===0)return!1;for(var G=0;G<P.length-1;G++)for(var ie=P[G],pe=P[G+1],Se=0;Se<R.length-1;Se++){var De=R[Se],Qe=R[Se+1];if(wu(ie,pe,De,Qe))return!0}return!1}function wu(P,R,G,ie){return O(P,G,ie)!==O(R,G,ie)&&O(P,R,G)!==O(P,R,ie)}function Tu(P,R,G){var ie=G*G;if(R.length===1)return P.distSqr(R[0])<ie;for(var pe=1;pe<R.length;pe++){var Se=R[pe-1],De=R[pe];if(Hc(P,Se,De)<ie)return!0}return!1}function Hc(P,R,G){var ie=R.distSqr(G);if(ie===0)return P.distSqr(R);var pe=((P.x-R.x)*(G.x-R.x)+(P.y-R.y)*(G.y-R.y))/ie;return pe<0?P.distSqr(R):pe>1?P.distSqr(G):P.distSqr(G.sub(R)._mult(pe)._add(R))}function lf(P,R){for(var G=!1,ie,pe,Se,De=0;De<P.length;De++){ie=P[De];for(var Qe=0,gt=ie.length-1;Qe<ie.length;gt=Qe++)pe=ie[Qe],Se=ie[gt],pe.y>R.y!=Se.y>R.y&&R.x<(Se.x-pe.x)*(R.y-pe.y)/(Se.y-pe.y)+pe.x&&(G=!G)}return G}function rl(P,R){for(var G=!1,ie=0,pe=P.length-1;ie<P.length;pe=ie++){var Se=P[ie],De=P[pe];Se.y>R.y!=De.y>R.y&&R.x<(De.x-Se.x)*(R.y-Se.y)/(De.y-Se.y)+Se.x&&(G=!G)}return G}function uf(P,R,G,ie,pe){for(var Se=0,De=P;Se<De.length;Se+=1){var Qe=De[Se];if(R<=Qe.x&&G<=Qe.y&&ie>=Qe.x&&pe>=Qe.y)return!0}var gt=[new r(R,G),new r(R,pe),new r(ie,pe),new r(ie,G)];if(P.length>2)for(var Ct=0,Dt=gt;Ct<Dt.length;Ct+=1){var jt=Dt[Ct];if(rl(P,jt))return!0}for(var lr=0;lr<P.length-1;lr++){var nr=P[lr],Mr=P[lr+1];if(yl(nr,Mr,gt))return!0}return!1}function yl(P,R,G){var ie=G[0],pe=G[2];if(P.x<ie.x&&R.x<ie.x||P.x>pe.x&&R.x>pe.x||P.y<ie.y&&R.y<ie.y||P.y>pe.y&&R.y>pe.y)return!1;var Se=O(P,R,G[0]);return Se!==O(P,R,G[1])||Se!==O(P,R,G[2])||Se!==O(P,R,G[3])}function nl(P,R,G){var ie=R.paint.get(P).value;return ie.kind==="constant"?ie.value:G.programConfigurations.get(R.id).getMaxValue(P)}function Au(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])}function Bf(P,R,G,ie,pe){if(!R[0]&&!R[1])return P;var Se=r.convert(R)._mult(pe);G==="viewport"&&Se._rotate(-ie);for(var De=[],Qe=0;Qe<P.length;Qe++){var gt=P[Qe];De.push(gt.sub(Se))}return De}var Mu=new ki({"circle-sort-key":new Wa(Lr.layout_circle["circle-sort-key"])}),rv=new ki({"circle-radius":new Wa(Lr.paint_circle["circle-radius"]),"circle-color":new Wa(Lr.paint_circle["circle-color"]),"circle-blur":new Wa(Lr.paint_circle["circle-blur"]),"circle-opacity":new Wa(Lr.paint_circle["circle-opacity"]),"circle-translate":new ga(Lr.paint_circle["circle-translate"]),"circle-translate-anchor":new ga(Lr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ga(Lr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ga(Lr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Wa(Lr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Wa(Lr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Wa(Lr.paint_circle["circle-stroke-opacity"])}),vh={paint:rv,layout:Mu},ls=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var P=arguments,R=0,G=arguments.length;G--;)R+=P[G]*P[G];return Math.sqrt(R)});function Ih(){var P=new ls(4);return ls!=Float32Array&&(P[1]=0,P[2]=0),P[0]=1,P[3]=1,P}function dh(P,R,G){var ie=R[0],pe=R[1],Se=R[2],De=R[3],Qe=Math.sin(G),gt=Math.cos(G);return P[0]=ie*gt+Se*Qe,P[1]=pe*gt+De*Qe,P[2]=ie*-Qe+Se*gt,P[3]=pe*-Qe+De*gt,P}function Xs(){var P=new ls(9);return ls!=Float32Array&&(P[1]=0,P[2]=0,P[3]=0,P[5]=0,P[6]=0,P[7]=0),P[0]=1,P[4]=1,P[8]=1,P}function ph(P,R){var G=Math.sin(R),ie=Math.cos(R);return P[0]=ie,P[1]=G,P[2]=0,P[3]=-G,P[4]=ie,P[5]=0,P[6]=0,P[7]=0,P[8]=1,P}function nv(){var P=new ls(16);return ls!=Float32Array&&(P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[11]=0,P[12]=0,P[13]=0,P[14]=0),P[0]=1,P[5]=1,P[10]=1,P[15]=1,P}function kh(P){var R=new ls(16);return R[0]=P[0],R[1]=P[1],R[2]=P[2],R[3]=P[3],R[4]=P[4],R[5]=P[5],R[6]=P[6],R[7]=P[7],R[8]=P[8],R[9]=P[9],R[10]=P[10],R[11]=P[11],R[12]=P[12],R[13]=P[13],R[14]=P[14],R[15]=P[15],R}function av(P){return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}function gh(P,R){var G=R[0],ie=R[1],pe=R[2],Se=R[3],De=R[4],Qe=R[5],gt=R[6],Ct=R[7],Dt=R[8],jt=R[9],lr=R[10],nr=R[11],Mr=R[12],Xr=R[13],mn=R[14],cn=R[15],Gn=G*Qe-ie*De,Cn=G*gt-pe*De,Bn=G*Ct-Se*De,Zn=ie*gt-pe*Qe,na=ie*Ct-Se*Qe,pa=pe*Ct-Se*gt,va=Dt*Xr-jt*Mr,Ua=Dt*mn-lr*Mr,Oa=Dt*cn-nr*Mr,Na=jt*mn-lr*Xr,ui=jt*cn-nr*Xr,Va=lr*cn-nr*mn,Ga=Gn*Va-Cn*ui+Bn*Na+Zn*Oa-na*Ua+pa*va;return Ga?(Ga=1/Ga,P[0]=(Qe*Va-gt*ui+Ct*Na)*Ga,P[1]=(pe*ui-ie*Va-Se*Na)*Ga,P[2]=(Xr*pa-mn*na+cn*Zn)*Ga,P[3]=(lr*na-jt*pa-nr*Zn)*Ga,P[4]=(gt*Oa-De*Va-Ct*Ua)*Ga,P[5]=(G*Va-pe*Oa+Se*Ua)*Ga,P[6]=(mn*Bn-Mr*pa-cn*Cn)*Ga,P[7]=(Dt*pa-lr*Bn+nr*Cn)*Ga,P[8]=(De*ui-Qe*Oa+Ct*va)*Ga,P[9]=(ie*Oa-G*ui-Se*va)*Ga,P[10]=(Mr*na-Xr*Bn+cn*Gn)*Ga,P[11]=(jt*Bn-Dt*na-nr*Gn)*Ga,P[12]=(Qe*Ua-De*Na-gt*va)*Ga,P[13]=(G*Na-ie*Ua+pe*va)*Ga,P[14]=(Xr*Cn-Mr*Zn-mn*Gn)*Ga,P[15]=(Dt*Zn-jt*Cn+lr*Gn)*Ga,P):null}function yh(P,R,G){var ie=R[0],pe=R[1],Se=R[2],De=R[3],Qe=R[4],gt=R[5],Ct=R[6],Dt=R[7],jt=R[8],lr=R[9],nr=R[10],Mr=R[11],Xr=R[12],mn=R[13],cn=R[14],Gn=R[15],Cn=G[0],Bn=G[1],Zn=G[2],na=G[3];return P[0]=Cn*ie+Bn*Qe+Zn*jt+na*Xr,P[1]=Cn*pe+Bn*gt+Zn*lr+na*mn,P[2]=Cn*Se+Bn*Ct+Zn*nr+na*cn,P[3]=Cn*De+Bn*Dt+Zn*Mr+na*Gn,Cn=G[4],Bn=G[5],Zn=G[6],na=G[7],P[4]=Cn*ie+Bn*Qe+Zn*jt+na*Xr,P[5]=Cn*pe+Bn*gt+Zn*lr+na*mn,P[6]=Cn*Se+Bn*Ct+Zn*nr+na*cn,P[7]=Cn*De+Bn*Dt+Zn*Mr+na*Gn,Cn=G[8],Bn=G[9],Zn=G[10],na=G[11],P[8]=Cn*ie+Bn*Qe+Zn*jt+na*Xr,P[9]=Cn*pe+Bn*gt+Zn*lr+na*mn,P[10]=Cn*Se+Bn*Ct+Zn*nr+na*cn,P[11]=Cn*De+Bn*Dt+Zn*Mr+na*Gn,Cn=G[12],Bn=G[13],Zn=G[14],na=G[15],P[12]=Cn*ie+Bn*Qe+Zn*jt+na*Xr,P[13]=Cn*pe+Bn*gt+Zn*lr+na*mn,P[14]=Cn*Se+Bn*Ct+Zn*nr+na*cn,P[15]=Cn*De+Bn*Dt+Zn*Mr+na*Gn,P}function Bo(P,R,G){var ie=G[0],pe=G[1],Se=G[2],De,Qe,gt,Ct,Dt,jt,lr,nr,Mr,Xr,mn,cn;return R===P?(P[12]=R[0]*ie+R[4]*pe+R[8]*Se+R[12],P[13]=R[1]*ie+R[5]*pe+R[9]*Se+R[13],P[14]=R[2]*ie+R[6]*pe+R[10]*Se+R[14],P[15]=R[3]*ie+R[7]*pe+R[11]*Se+R[15]):(De=R[0],Qe=R[1],gt=R[2],Ct=R[3],Dt=R[4],jt=R[5],lr=R[6],nr=R[7],Mr=R[8],Xr=R[9],mn=R[10],cn=R[11],P[0]=De,P[1]=Qe,P[2]=gt,P[3]=Ct,P[4]=Dt,P[5]=jt,P[6]=lr,P[7]=nr,P[8]=Mr,P[9]=Xr,P[10]=mn,P[11]=cn,P[12]=De*ie+Dt*pe+Mr*Se+R[12],P[13]=Qe*ie+jt*pe+Xr*Se+R[13],P[14]=gt*ie+lr*pe+mn*Se+R[14],P[15]=Ct*ie+nr*pe+cn*Se+R[15]),P}function ml(P,R,G){var ie=G[0],pe=G[1],Se=G[2];return P[0]=R[0]*ie,P[1]=R[1]*ie,P[2]=R[2]*ie,P[3]=R[3]*ie,P[4]=R[4]*pe,P[5]=R[5]*pe,P[6]=R[6]*pe,P[7]=R[7]*pe,P[8]=R[8]*Se,P[9]=R[9]*Se,P[10]=R[10]*Se,P[11]=R[11]*Se,P[12]=R[12],P[13]=R[13],P[14]=R[14],P[15]=R[15],P}function xl(P,R,G){var ie=Math.sin(G),pe=Math.cos(G),Se=R[4],De=R[5],Qe=R[6],gt=R[7],Ct=R[8],Dt=R[9],jt=R[10],lr=R[11];return R!==P&&(P[0]=R[0],P[1]=R[1],P[2]=R[2],P[3]=R[3],P[12]=R[12],P[13]=R[13],P[14]=R[14],P[15]=R[15]),P[4]=Se*pe+Ct*ie,P[5]=De*pe+Dt*ie,P[6]=Qe*pe+jt*ie,P[7]=gt*pe+lr*ie,P[8]=Ct*pe-Se*ie,P[9]=Dt*pe-De*ie,P[10]=jt*pe-Qe*ie,P[11]=lr*pe-gt*ie,P}function al(P,R,G){var ie=Math.sin(G),pe=Math.cos(G),Se=R[0],De=R[1],Qe=R[2],gt=R[3],Ct=R[4],Dt=R[5],jt=R[6],lr=R[7];return R!==P&&(P[8]=R[8],P[9]=R[9],P[10]=R[10],P[11]=R[11],P[12]=R[12],P[13]=R[13],P[14]=R[14],P[15]=R[15]),P[0]=Se*pe+Ct*ie,P[1]=De*pe+Dt*ie,P[2]=Qe*pe+jt*ie,P[3]=gt*pe+lr*ie,P[4]=Ct*pe-Se*ie,P[5]=Dt*pe-De*ie,P[6]=jt*pe-Qe*ie,P[7]=lr*pe-gt*ie,P}function $v(P,R,G,ie,pe){var Se=1/Math.tan(R/2),De;return P[0]=Se/G,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=Se,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[11]=-1,P[12]=0,P[13]=0,P[15]=0,pe!=null&&pe!==1/0?(De=1/(ie-pe),P[10]=(pe+ie)*De,P[14]=2*pe*ie*De):(P[10]=-1,P[14]=-2*ie),P}function Zp(P,R,G,ie,pe,Se,De){var Qe=1/(R-G),gt=1/(ie-pe),Ct=1/(Se-De);return P[0]=-2*Qe,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=-2*gt,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=2*Ct,P[11]=0,P[12]=(R+G)*Qe,P[13]=(pe+ie)*gt,P[14]=(De+Se)*Ct,P[15]=1,P}var jp=yh;function mh(){var P=new ls(3);return ls!=Float32Array&&(P[0]=0,P[1]=0,P[2]=0),P}function Kp(P){var R=new ls(3);return R[0]=P[0],R[1]=P[1],R[2]=P[2],R}function iv(P,R,G){return P[0]=R[0]+G[0],P[1]=R[1]+G[1],P[2]=R[2]+G[2],P}function Jp(P,R,G){return P[0]=R[0]-G[0],P[1]=R[1]-G[1],P[2]=R[2]-G[2],P}function $p(P,R,G){return P[0]=R[0]*G,P[1]=R[1]*G,P[2]=R[2]*G,P}function Oh(P,R){var G=R[0],ie=R[1],pe=R[2],Se=G*G+ie*ie+pe*pe;return Se>0&&(Se=1/Math.sqrt(Se)),P[0]=R[0]*Se,P[1]=R[1]*Se,P[2]=R[2]*Se,P}function Hm(P,R){return P[0]*R[0]+P[1]*R[1]+P[2]*R[2]}function Gm(P,R,G){var ie=R[0],pe=R[1],Se=R[2],De=G[0],Qe=G[1],gt=G[2];return P[0]=pe*gt-Se*Qe,P[1]=Se*De-ie*gt,P[2]=ie*Qe-pe*De,P}function Wm(P,R,G){var ie=R[0],pe=R[1],Se=R[2];return P[0]=ie*G[0]+pe*G[3]+Se*G[6],P[1]=ie*G[1]+pe*G[4]+Se*G[7],P[2]=ie*G[2]+pe*G[5]+Se*G[8],P}var Ym=Jp;(function(){var P=mh();return function(R,G,ie,pe,Se,De){var Qe,gt;for(G||(G=3),ie||(ie=0),pe?gt=Math.min(pe*G+ie,R.length):gt=R.length,Qe=ie;Qe<gt;Qe+=G)P[0]=R[Qe],P[1]=R[Qe+1],P[2]=R[Qe+2],Se(P,P,De),R[Qe]=P[0],R[Qe+1]=P[1],R[Qe+2]=P[2];return R}})();function Xm(){var P=new ls(4);return ls!=Float32Array&&(P[0]=0,P[1]=0,P[2]=0,P[3]=0),P}function Zm(P,R,G){return P[0]=R[0]*G,P[1]=R[1]*G,P[2]=R[2]*G,P[3]=R[3]*G,P}function jm(P,R){return P[0]*R[0]+P[1]*R[1]+P[2]*R[2]+P[3]*R[3]}function Nd(P,R,G){var ie=R[0],pe=R[1],Se=R[2],De=R[3];return P[0]=G[0]*ie+G[4]*pe+G[8]*Se+G[12]*De,P[1]=G[1]*ie+G[5]*pe+G[9]*Se+G[13]*De,P[2]=G[2]*ie+G[6]*pe+G[10]*Se+G[14]*De,P[3]=G[3]*ie+G[7]*pe+G[11]*Se+G[15]*De,P}(function(){var P=Xm();return function(R,G,ie,pe,Se,De){var Qe,gt;for(G||(G=4),ie||(ie=0),pe?gt=Math.min(pe*G+ie,R.length):gt=R.length,Qe=ie;Qe<gt;Qe+=G)P[0]=R[Qe],P[1]=R[Qe+1],P[2]=R[Qe+2],P[3]=R[Qe+3],Se(P,P,De),R[Qe]=P[0],R[Qe+1]=P[1],R[Qe+2]=P[2],R[Qe+3]=P[3];return R}})();function Km(){var P=new ls(2);return ls!=Float32Array&&(P[0]=0,P[1]=0),P}function Jm(P){var R=P[0],G=P[1];return R*R+G*G}var $m=Jm;(function(){var P=Km();return function(R,G,ie,pe,Se,De){var Qe,gt;for(G||(G=2),ie||(ie=0),pe?gt=Math.min(pe*G+ie,R.length):gt=R.length,Qe=ie;Qe<gt;Qe+=G)P[0]=R[Qe],P[1]=R[Qe+1],Se(P,P,De),R[Qe]=P[0],R[Qe+1]=P[1];return R}})();var Qm=function(P){function R(G){P.call(this,G,vh)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ie){return new Ki(ie)},R.prototype.queryRadius=function(ie){var pe=ie;return nl("circle-radius",this,pe)+nl("circle-stroke-width",this,pe)+Au(this.paint.get("circle-translate"))},R.prototype.queryIntersectsFeature=function(ie,pe,Se,De,Qe,gt,Ct,Dt){for(var jt=Bf(ie,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),gt.angle,Ct),lr=this.paint.get("circle-radius").evaluate(pe,Se),nr=this.paint.get("circle-stroke-width").evaluate(pe,Se),Mr=lr+nr,Xr=this.paint.get("circle-pitch-alignment")==="map",mn=Xr?jt:qm(jt,Dt),cn=Xr?Mr*Ct:Mr,Gn=0,Cn=De;Gn<Cn.length;Gn+=1)for(var Bn=Cn[Gn],Zn=0,na=Bn;Zn<na.length;Zn+=1){var pa=na[Zn],va=Xr?pa:dg(pa,Dt),Ua=cn,Oa=Nd([],[pa.x,pa.y,0,1],Dt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ua*=Oa[3]/gt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ua*=gt.cameraToCenterDistance/Oa[3]),Ci(mn,va,Ua))return!0}return!1},R}(Io);function dg(P,R){var G=Nd([],[P.x,P.y,0,1],R);return new r(G[0]/G[3],G[1]/G[3])}function qm(P,R){return P.map(function(G){return dg(G,R)})}var pg=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R}(Ki);Ne("HeatmapBucket",pg,{omit:["layers"]});function Qp(P,R,G,ie){var pe=R.width,Se=R.height;if(!ie)ie=new Uint8Array(pe*Se*G);else if(ie instanceof Uint8ClampedArray)ie=new Uint8Array(ie.buffer);else if(ie.length!==pe*Se*G)throw new RangeError("mismatched image size");return P.width=pe,P.height=Se,P.data=ie,P}function gg(P,R,G){var ie=R.width,pe=R.height;if(!(ie===P.width&&pe===P.height)){var Se=Qp({},{width:ie,height:pe},G);qp(P,Se,{x:0,y:0},{x:0,y:0},{width:Math.min(P.width,ie),height:Math.min(P.height,pe)},G),P.width=ie,P.height=pe,P.data=Se.data}}function qp(P,R,G,ie,pe,Se){if(pe.width===0||pe.height===0)return R;if(pe.width>P.width||pe.height>P.height||G.x>P.width-pe.width||G.y>P.height-pe.height)throw new RangeError("out of range source coordinates for image copy");if(pe.width>R.width||pe.height>R.height||ie.x>R.width-pe.width||ie.y>R.height-pe.height)throw new RangeError("out of range destination coordinates for image copy");for(var De=P.data,Qe=R.data,gt=0;gt<pe.height;gt++)for(var Ct=((G.y+gt)*P.width+G.x)*Se,Dt=((ie.y+gt)*R.width+ie.x)*Se,jt=0;jt<pe.width*Se;jt++)Qe[Dt+jt]=De[Ct+jt];return R}var zh=function(R,G){Qp(this,R,1,G)};zh.prototype.resize=function(R){gg(this,R,1)},zh.prototype.clone=function(){return new zh({width:this.width,height:this.height},new Uint8Array(this.data))},zh.copy=function(R,G,ie,pe,Se){qp(R,G,ie,pe,Se,1)};var bl=function(R,G){Qp(this,R,4,G)};bl.prototype.resize=function(R){gg(this,R,4)},bl.prototype.replace=function(R,G){G?this.data.set(R):R instanceof Uint8ClampedArray?this.data=new Uint8Array(R.buffer):this.data=R},bl.prototype.clone=function(){return new bl({width:this.width,height:this.height},new Uint8Array(this.data))},bl.copy=function(R,G,ie,pe,Se){qp(R,G,ie,pe,Se,4)},Ne("AlphaImage",zh),Ne("RGBAImage",bl);var e0=new ki({"heatmap-radius":new Wa(Lr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Wa(Lr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ga(Lr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Yo(Lr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ga(Lr.paint_heatmap["heatmap-opacity"])}),yg={paint:e0};function mg(P){var R={},G=P.resolution||256,ie=P.clips?P.clips.length:1,pe=P.image||new bl({width:G,height:ie}),Se=function(Gn,Cn,Bn){R[P.evaluationKey]=Bn;var Zn=P.expression.evaluate(R);pe.data[Gn+Cn+0]=Math.floor(Zn.r*255/Zn.a),pe.data[Gn+Cn+1]=Math.floor(Zn.g*255/Zn.a),pe.data[Gn+Cn+2]=Math.floor(Zn.b*255/Zn.a),pe.data[Gn+Cn+3]=Math.floor(Zn.a*255)};if(P.clips)for(var Ct=0,Dt=0;Ct<ie;++Ct,Dt+=G*4)for(var jt=0,lr=0;jt<G;jt++,lr+=4){var nr=jt/(G-1),Mr=P.clips[Ct],Xr=Mr.start,mn=Mr.end,cn=Xr*(1-nr)+mn*nr;Se(Dt,lr,cn)}else for(var De=0,Qe=0;De<G;De++,Qe+=4){var gt=De/(G-1);Se(0,Qe,gt)}return pe}var e1=function(P){function R(G){P.call(this,G,yg),this._updateColorRamp()}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ie){return new pg(ie)},R.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="heatmap-color"&&this._updateColorRamp()},R.prototype._updateColorRamp=function(){var ie=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=mg({expression:ie,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},R.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},R}(Io),t1=new ki({"hillshade-illumination-direction":new ga(Lr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ga(Lr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ga(Lr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ga(Lr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ga(Lr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ga(Lr.paint_hillshade["hillshade-accent-color"])}),r1={paint:t1},n1=function(P){function R(G){P.call(this,G,r1)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},R}(Io),a1=fo([{name:"a_pos",components:2,type:"Int16"}],4),i1=a1.members,t0=Bd,xg=Bd;function Bd(P,R,G){G=G||2;var ie=R&&R.length,pe=ie?R[0]*G:P.length,Se=Qv(P,0,pe,G,!0),De=[];if(!Se||Se.next===Se.prev)return De;var Qe,gt,Ct,Dt,jt,lr,nr;if(ie&&(Se=f1(P,R,Se,G)),P.length>80*G){Qe=Ct=P[0],gt=Dt=P[1];for(var Mr=G;Mr<pe;Mr+=G)jt=P[Mr],lr=P[Mr+1],jt<Qe&&(Qe=jt),lr<gt&&(gt=lr),jt>Ct&&(Ct=jt),lr>Dt&&(Dt=lr);nr=Math.max(Ct-Qe,Dt-gt),nr=nr!==0?1/nr:0}return qv(Se,De,G,Qe,gt,nr),De}function Qv(P,R,G,ie,pe){var Se,De;if(pe===a0(P,R,G,ie)>0)for(Se=R;Se<G;Se+=ie)De=Ag(Se,P[Se],P[Se+1],De);else for(Se=G-ie;Se>=R;Se-=ie)De=Ag(Se,P[Se],P[Se+1],De);return De&&Ud(De,De.next)&&(td(De),De=De.next),De}function xh(P,R){if(!P)return P;R||(R=P);var G=P,ie;do if(ie=!1,!G.steiner&&(Ud(G,G.next)||Xo(G.prev,G,G.next)===0)){if(td(G),G=R=G.prev,G===G.next)break;ie=!0}else G=G.next;while(ie||G!==R);return R}function qv(P,R,G,ie,pe,Se,De){if(P){!De&&Se&&p1(P,ie,pe,Se);for(var Qe=P,gt,Ct;P.prev!==P.next;){if(gt=P.prev,Ct=P.next,Se?s1(P,ie,pe,Se):o1(P)){R.push(gt.i/G),R.push(P.i/G),R.push(Ct.i/G),td(P),P=Ct.next,Qe=Ct.next;continue}if(P=Ct,P===Qe){De?De===1?(P=l1(xh(P),R,G),qv(P,R,G,ie,pe,Se,2)):De===2&&u1(P,R,G,ie,pe,Se):qv(xh(P),R,G,ie,pe,Se,1);break}}}}function o1(P){var R=P.prev,G=P,ie=P.next;if(Xo(R,G,ie)>=0)return!1;for(var pe=P.next.next;pe!==P.prev;){if(ov(R.x,R.y,G.x,G.y,ie.x,ie.y,pe.x,pe.y)&&Xo(pe.prev,pe,pe.next)>=0)return!1;pe=pe.next}return!0}function s1(P,R,G,ie){var pe=P.prev,Se=P,De=P.next;if(Xo(pe,Se,De)>=0)return!1;for(var Qe=pe.x<Se.x?pe.x<De.x?pe.x:De.x:Se.x<De.x?Se.x:De.x,gt=pe.y<Se.y?pe.y<De.y?pe.y:De.y:Se.y<De.y?Se.y:De.y,Ct=pe.x>Se.x?pe.x>De.x?pe.x:De.x:Se.x>De.x?Se.x:De.x,Dt=pe.y>Se.y?pe.y>De.y?pe.y:De.y:Se.y>De.y?Se.y:De.y,jt=r0(Qe,gt,R,G,ie),lr=r0(Ct,Dt,R,G,ie),nr=P.prevZ,Mr=P.nextZ;nr&&nr.z>=jt&&Mr&&Mr.z<=lr;){if(nr!==P.prev&&nr!==P.next&&ov(pe.x,pe.y,Se.x,Se.y,De.x,De.y,nr.x,nr.y)&&Xo(nr.prev,nr,nr.next)>=0||(nr=nr.prevZ,Mr!==P.prev&&Mr!==P.next&&ov(pe.x,pe.y,Se.x,Se.y,De.x,De.y,Mr.x,Mr.y)&&Xo(Mr.prev,Mr,Mr.next)>=0))return!1;Mr=Mr.nextZ}for(;nr&&nr.z>=jt;){if(nr!==P.prev&&nr!==P.next&&ov(pe.x,pe.y,Se.x,Se.y,De.x,De.y,nr.x,nr.y)&&Xo(nr.prev,nr,nr.next)>=0)return!1;nr=nr.prevZ}for(;Mr&&Mr.z<=lr;){if(Mr!==P.prev&&Mr!==P.next&&ov(pe.x,pe.y,Se.x,Se.y,De.x,De.y,Mr.x,Mr.y)&&Xo(Mr.prev,Mr,Mr.next)>=0)return!1;Mr=Mr.nextZ}return!0}function l1(P,R,G){var ie=P;do{var pe=ie.prev,Se=ie.next.next;!Ud(pe,Se)&&wg(pe,ie,ie.next,Se)&&ed(pe,Se)&&ed(Se,pe)&&(R.push(pe.i/G),R.push(ie.i/G),R.push(Se.i/G),td(ie),td(ie.next),ie=P=Se),ie=ie.next}while(ie!==P);return xh(ie)}function u1(P,R,G,ie,pe,Se){var De=P;do{for(var Qe=De.next.next;Qe!==De.prev;){if(De.i!==Qe.i&&bg(De,Qe)){var gt=Tg(De,Qe);De=xh(De,De.next),gt=xh(gt,gt.next),qv(De,R,G,ie,pe,Se),qv(gt,R,G,ie,pe,Se);return}Qe=Qe.next}De=De.next}while(De!==P)}function f1(P,R,G,ie){var pe=[],Se,De,Qe,gt,Ct;for(Se=0,De=R.length;Se<De;Se++)Qe=R[Se]*ie,gt=Se<De-1?R[Se+1]*ie:P.length,Ct=Qv(P,Qe,gt,ie,!1),Ct===Ct.next&&(Ct.steiner=!0),pe.push(y1(Ct));for(pe.sort(c1),Se=0;Se<pe.length;Se++)h1(pe[Se],G),G=xh(G,G.next);return G}function c1(P,R){return P.x-R.x}function h1(P,R){if(R=v1(P,R),R){var G=Tg(R,P);xh(R,R.next),xh(G,G.next)}}function v1(P,R){var G=R,ie=P.x,pe=P.y,Se=-1/0,De;do{if(pe<=G.y&&pe>=G.next.y&&G.next.y!==G.y){var Qe=G.x+(pe-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(Qe<=ie&&Qe>Se){if(Se=Qe,Qe===ie){if(pe===G.y)return G;if(pe===G.next.y)return G.next}De=G.x<G.next.x?G:G.next}}G=G.next}while(G!==R);if(!De)return null;if(ie===Se)return De;var gt=De,Ct=De.x,Dt=De.y,jt=1/0,lr;G=De;do ie>=G.x&&G.x>=Ct&&ie!==G.x&&ov(pe<Dt?ie:Se,pe,Ct,Dt,pe<Dt?Se:ie,pe,G.x,G.y)&&(lr=Math.abs(pe-G.y)/(ie-G.x),ed(G,P)&&(lr<jt||lr===jt&&(G.x>De.x||G.x===De.x&&d1(De,G)))&&(De=G,jt=lr)),G=G.next;while(G!==gt);return De}function d1(P,R){return Xo(P.prev,P,R.prev)<0&&Xo(R.next,P,P.next)<0}function p1(P,R,G,ie){var pe=P;do pe.z===null&&(pe.z=r0(pe.x,pe.y,R,G,ie)),pe.prevZ=pe.prev,pe.nextZ=pe.next,pe=pe.next;while(pe!==P);pe.prevZ.nextZ=null,pe.prevZ=null,g1(pe)}function g1(P){var R,G,ie,pe,Se,De,Qe,gt,Ct=1;do{for(G=P,P=null,Se=null,De=0;G;){for(De++,ie=G,Qe=0,R=0;R<Ct&&(Qe++,ie=ie.nextZ,!!ie);R++);for(gt=Ct;Qe>0||gt>0&&ie;)Qe!==0&&(gt===0||!ie||G.z<=ie.z)?(pe=G,G=G.nextZ,Qe--):(pe=ie,ie=ie.nextZ,gt--),Se?Se.nextZ=pe:P=pe,pe.prevZ=Se,Se=pe;G=ie}Se.nextZ=null,Ct*=2}while(De>1);return P}function r0(P,R,G,ie,pe){return P=32767*(P-G)*pe,R=32767*(R-ie)*pe,P=(P|P<<8)&16711935,P=(P|P<<4)&252645135,P=(P|P<<2)&858993459,P=(P|P<<1)&1431655765,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,P|R<<1}function y1(P){var R=P,G=P;do(R.x<G.x||R.x===G.x&&R.y<G.y)&&(G=R),R=R.next;while(R!==P);return G}function ov(P,R,G,ie,pe,Se,De,Qe){return(pe-De)*(R-Qe)-(P-De)*(Se-Qe)>=0&&(P-De)*(ie-Qe)-(G-De)*(R-Qe)>=0&&(G-De)*(Se-Qe)-(pe-De)*(ie-Qe)>=0}function bg(P,R){return P.next.i!==R.i&&P.prev.i!==R.i&&!Gd(P,R)&&(ed(P,R)&&ed(R,P)&&m1(P,R)&&(Xo(P.prev,P,R.prev)||Xo(P,R.prev,R))||Ud(P,R)&&Xo(P.prev,P,P.next)>0&&Xo(R.prev,R,R.next)>0)}function Xo(P,R,G){return(R.y-P.y)*(G.x-R.x)-(R.x-P.x)*(G.y-R.y)}function Ud(P,R){return P.x===R.x&&P.y===R.y}function wg(P,R,G,ie){var pe=Hd(Xo(P,R,G)),Se=Hd(Xo(P,R,ie)),De=Hd(Xo(G,ie,P)),Qe=Hd(Xo(G,ie,R));return!!(pe!==Se&&De!==Qe||pe===0&&Vd(P,G,R)||Se===0&&Vd(P,ie,R)||De===0&&Vd(G,P,ie)||Qe===0&&Vd(G,R,ie))}function Vd(P,R,G){return R.x<=Math.max(P.x,G.x)&&R.x>=Math.min(P.x,G.x)&&R.y<=Math.max(P.y,G.y)&&R.y>=Math.min(P.y,G.y)}function Hd(P){return P>0?1:P<0?-1:0}function Gd(P,R){var G=P;do{if(G.i!==P.i&&G.next.i!==P.i&&G.i!==R.i&&G.next.i!==R.i&&wg(G,G.next,P,R))return!0;G=G.next}while(G!==P);return!1}function ed(P,R){return Xo(P.prev,P,P.next)<0?Xo(P,R,P.next)>=0&&Xo(P,P.prev,R)>=0:Xo(P,R,P.prev)<0||Xo(P,P.next,R)<0}function m1(P,R){var G=P,ie=!1,pe=(P.x+R.x)/2,Se=(P.y+R.y)/2;do G.y>Se!=G.next.y>Se&&G.next.y!==G.y&&pe<(G.next.x-G.x)*(Se-G.y)/(G.next.y-G.y)+G.x&&(ie=!ie),G=G.next;while(G!==P);return ie}function Tg(P,R){var G=new n0(P.i,P.x,P.y),ie=new n0(R.i,R.x,R.y),pe=P.next,Se=R.prev;return P.next=R,R.prev=P,G.next=pe,pe.prev=G,ie.next=G,G.prev=ie,Se.next=ie,ie.prev=Se,ie}function Ag(P,R,G,ie){var pe=new n0(P,R,G);return ie?(pe.next=ie.next,pe.prev=ie,ie.next.prev=pe,ie.next=pe):(pe.prev=pe,pe.next=pe),pe}function td(P){P.next.prev=P.prev,P.prev.next=P.next,P.prevZ&&(P.prevZ.nextZ=P.nextZ),P.nextZ&&(P.nextZ.prevZ=P.prevZ)}function n0(P,R,G){this.i=P,this.x=R,this.y=G,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Bd.deviation=function(P,R,G,ie){var pe=R&&R.length,Se=pe?R[0]*G:P.length,De=Math.abs(a0(P,0,Se,G));if(pe)for(var Qe=0,gt=R.length;Qe<gt;Qe++){var Ct=R[Qe]*G,Dt=Qe<gt-1?R[Qe+1]*G:P.length;De-=Math.abs(a0(P,Ct,Dt,G))}var jt=0;for(Qe=0;Qe<ie.length;Qe+=3){var lr=ie[Qe]*G,nr=ie[Qe+1]*G,Mr=ie[Qe+2]*G;jt+=Math.abs((P[lr]-P[Mr])*(P[nr+1]-P[lr+1])-(P[lr]-P[nr])*(P[Mr+1]-P[lr+1]))}return De===0&&jt===0?0:Math.abs((jt-De)/De)};function a0(P,R,G,ie){for(var pe=0,Se=R,De=G-ie;Se<G;Se+=ie)pe+=(P[De]-P[Se])*(P[Se+1]+P[De+1]),De=Se;return pe}Bd.flatten=function(P){for(var R=P[0][0].length,G={vertices:[],holes:[],dimensions:R},ie=0,pe=0;pe<P.length;pe++){for(var Se=0;Se<P[pe].length;Se++)for(var De=0;De<R;De++)G.vertices.push(P[pe][Se][De]);pe>0&&(ie+=P[pe-1].length,G.holes.push(ie))}return G},t0.default=xg;function x1(P,R,G,ie,pe){Mg(P,R,G||0,ie||P.length-1,pe||b1)}function Mg(P,R,G,ie,pe){for(;ie>G;){if(ie-G>600){var Se=ie-G+1,De=R-G+1,Qe=Math.log(Se),gt=.5*Math.exp(2*Qe/3),Ct=.5*Math.sqrt(Qe*gt*(Se-gt)/Se)*(De-Se/2<0?-1:1),Dt=Math.max(G,Math.floor(R-De*gt/Se+Ct)),jt=Math.min(ie,Math.floor(R+(Se-De)*gt/Se+Ct));Mg(P,R,Dt,jt,pe)}var lr=P[R],nr=G,Mr=ie;for(rd(P,G,R),pe(P[ie],lr)>0&&rd(P,G,ie);nr<Mr;){for(rd(P,nr,Mr),nr++,Mr--;pe(P[nr],lr)<0;)nr++;for(;pe(P[Mr],lr)>0;)Mr--}pe(P[G],lr)===0?rd(P,G,Mr):(Mr++,rd(P,Mr,ie)),Mr<=R&&(G=Mr+1),R<=Mr&&(ie=Mr-1)}}function rd(P,R,G){var ie=P[R];P[R]=P[G],P[G]=ie}function b1(P,R){return P<R?-1:P>R?1:0}function sv(P,R){var G=P.length;if(G<=1)return[P];for(var ie=[],pe,Se,De=0;De<G;De++){var Qe=B(P[De]);Qe!==0&&(P[De].area=Math.abs(Qe),Se===void 0&&(Se=Qe<0),Se===Qe<0?(pe&&ie.push(pe),pe=[P[De]]):pe.push(P[De]))}if(pe&&ie.push(pe),R>1)for(var gt=0;gt<ie.length;gt++)ie[gt].length<=R||(x1(ie[gt],R,1,ie[gt].length-1,w1),ie[gt]=ie[gt].slice(0,R));return ie}function w1(P,R){return R.area-P.area}function Wd(P,R,G){for(var ie=G.patternDependencies,pe=!1,Se=0,De=R;Se<De.length;Se+=1){var Qe=De[Se],gt=Qe.paint.get(P+"-pattern");gt.isConstant()||(pe=!0);var Ct=gt.constantOr(null);Ct&&(pe=!0,ie[Ct.to]=!0,ie[Ct.from]=!0)}return pe}function Yd(P,R,G,ie,pe){for(var Se=pe.patternDependencies,De=0,Qe=R;De<Qe.length;De+=1){var gt=Qe[De],Ct=gt.paint.get(P+"-pattern"),Dt=Ct.value;if(Dt.kind!=="constant"){var jt=Dt.evaluate({zoom:ie-1},G,{},pe.availableImages),lr=Dt.evaluate({zoom:ie},G,{},pe.availableImages),nr=Dt.evaluate({zoom:ie+1},G,{},pe.availableImages);jt=jt&&jt.name?jt.name:jt,lr=lr&&lr.name?lr.name:lr,nr=nr&&nr.name?nr.name:nr,Se[jt]=!0,Se[lr]=!0,Se[nr]=!0,G.patterns[gt.id]={min:jt,mid:lr,max:nr}}}return G}var i0=500,ff=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=R.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Nc,this.indexArray=new Ql,this.indexArray2=new hh,this.programConfigurations=new _a(R.layers,R.zoom),this.segments=new No,this.segments2=new No,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};ff.prototype.populate=function(R,G,ie){this.hasPattern=Wd("fill",this.layers,G);for(var pe=this.layers[0].layout.get("fill-sort-key"),Se=[],De=0,Qe=R;De<Qe.length;De+=1){var gt=Qe[De],Ct=gt.feature,Dt=gt.id,jt=gt.index,lr=gt.sourceLayerIndex,nr=this.layers[0]._featureFilter.needGeometry,Mr=no(Ct,nr);if(this.layers[0]._featureFilter.filter(new Fa(this.zoom),Mr,ie)){var Xr=pe?pe.evaluate(Mr,{},ie,G.availableImages):void 0,mn={id:Dt,properties:Ct.properties,type:Ct.type,sourceLayerIndex:lr,index:jt,geometry:nr?Mr.geometry:Ei(Ct),patterns:{},sortKey:Xr};Se.push(mn)}}pe&&Se.sort(function(Oa,Na){return Oa.sortKey-Na.sortKey});for(var cn=0,Gn=Se;cn<Gn.length;cn+=1){var Cn=Gn[cn],Bn=Cn,Zn=Bn.geometry,na=Bn.index,pa=Bn.sourceLayerIndex;if(this.hasPattern){var va=Yd("fill",this.layers,Cn,this.zoom,G);this.patternFeatures.push(va)}else this.addFeature(Cn,Zn,na,ie,{});var Ua=R[na].feature;G.featureIndex.insert(Ua,Zn,na,pa,this.index)}},ff.prototype.update=function(R,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,G,this.stateDependentLayers,ie)},ff.prototype.addFeatures=function(R,G,ie){for(var pe=0,Se=this.patternFeatures;pe<Se.length;pe+=1){var De=Se[pe];this.addFeature(De,De.geometry,De.index,G,ie)}},ff.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ff.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ff.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,i1),this.indexBuffer=R.createIndexBuffer(this.indexArray),this.indexBuffer2=R.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(R),this.uploaded=!0},ff.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ff.prototype.addFeature=function(R,G,ie,pe,Se){for(var De=0,Qe=sv(G,i0);De<Qe.length;De+=1){for(var gt=Qe[De],Ct=0,Dt=0,jt=gt;Dt<jt.length;Dt+=1){var lr=jt[Dt];Ct+=lr.length}for(var nr=this.segments.prepareSegment(Ct,this.layoutVertexArray,this.indexArray),Mr=nr.vertexLength,Xr=[],mn=[],cn=0,Gn=gt;cn<Gn.length;cn+=1){var Cn=Gn[cn];if(Cn.length!==0){Cn!==gt[0]&&mn.push(Xr.length/2);var Bn=this.segments2.prepareSegment(Cn.length,this.layoutVertexArray,this.indexArray2),Zn=Bn.vertexLength;this.layoutVertexArray.emplaceBack(Cn[0].x,Cn[0].y),this.indexArray2.emplaceBack(Zn+Cn.length-1,Zn),Xr.push(Cn[0].x),Xr.push(Cn[0].y);for(var na=1;na<Cn.length;na++)this.layoutVertexArray.emplaceBack(Cn[na].x,Cn[na].y),this.indexArray2.emplaceBack(Zn+na-1,Zn+na),Xr.push(Cn[na].x),Xr.push(Cn[na].y);Bn.vertexLength+=Cn.length,Bn.primitiveLength+=Cn.length}}for(var pa=t0(Xr,mn),va=0;va<pa.length;va+=3)this.indexArray.emplaceBack(Mr+pa[va],Mr+pa[va+1],Mr+pa[va+2]);nr.vertexLength+=Ct,nr.primitiveLength+=pa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ie,Se,pe)},Ne("FillBucket",ff,{omit:["layers","patternFeatures"]});var Sg=new ki({"fill-sort-key":new Wa(Lr.layout_fill["fill-sort-key"])}),Eg=new ki({"fill-antialias":new ga(Lr.paint_fill["fill-antialias"]),"fill-opacity":new Wa(Lr.paint_fill["fill-opacity"]),"fill-color":new Wa(Lr.paint_fill["fill-color"]),"fill-outline-color":new Wa(Lr.paint_fill["fill-outline-color"]),"fill-translate":new ga(Lr.paint_fill["fill-translate"]),"fill-translate-anchor":new ga(Lr.paint_fill["fill-translate-anchor"]),"fill-pattern":new _o(Lr.paint_fill["fill-pattern"])}),Cg={paint:Eg,layout:Sg},T1=function(P){function R(G){P.call(this,G,Cg)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(ie,pe){P.prototype.recalculate.call(this,ie,pe);var Se=this.paint._values["fill-outline-color"];Se.value.kind==="constant"&&Se.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},R.prototype.createBucket=function(ie){return new ff(ie)},R.prototype.queryRadius=function(){return Au(this.paint.get("fill-translate"))},R.prototype.queryIntersectsFeature=function(ie,pe,Se,De,Qe,gt,Ct){var Dt=Bf(ie,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),gt.angle,Ct);return To(Dt,De)},R.prototype.isTileClipped=function(){return!0},R}(Io),A1=fo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),M1=A1.members,nd=Gc;function Gc(P,R,G,ie,pe){this.properties={},this.extent=G,this.type=0,this._pbf=P,this._geometry=-1,this._keys=ie,this._values=pe,P.readFields(S1,this,R)}function S1(P,R,G){P==1?R.id=G.readVarint():P==2?E1(G,R):P==3?R.type=G.readVarint():P==4&&(R._geometry=G.pos)}function E1(P,R){for(var G=P.readVarint()+P.pos;P.pos<G;){var ie=R._keys[P.readVarint()],pe=R._values[P.readVarint()];R.properties[ie]=pe}}Gc.types=["Unknown","Point","LineString","Polygon"],Gc.prototype.loadGeometry=function(){var P=this._pbf;P.pos=this._geometry;for(var R=P.readVarint()+P.pos,G=1,ie=0,pe=0,Se=0,De=[],Qe;P.pos<R;){if(ie<=0){var gt=P.readVarint();G=gt&7,ie=gt>>3}if(ie--,G===1||G===2)pe+=P.readSVarint(),Se+=P.readSVarint(),G===1&&(Qe&&De.push(Qe),Qe=[]),Qe.push(new r(pe,Se));else if(G===7)Qe&&Qe.push(Qe[0].clone());else throw new Error("unknown command "+G)}return Qe&&De.push(Qe),De},Gc.prototype.bbox=function(){var P=this._pbf;P.pos=this._geometry;for(var R=P.readVarint()+P.pos,G=1,ie=0,pe=0,Se=0,De=1/0,Qe=-1/0,gt=1/0,Ct=-1/0;P.pos<R;){if(ie<=0){var Dt=P.readVarint();G=Dt&7,ie=Dt>>3}if(ie--,G===1||G===2)pe+=P.readSVarint(),Se+=P.readSVarint(),pe<De&&(De=pe),pe>Qe&&(Qe=pe),Se<gt&&(gt=Se),Se>Ct&&(Ct=Se);else if(G!==7)throw new Error("unknown command "+G)}return[De,gt,Qe,Ct]},Gc.prototype.toGeoJSON=function(P,R,G){var ie=this.extent*Math.pow(2,G),pe=this.extent*P,Se=this.extent*R,De=this.loadGeometry(),Qe=Gc.types[this.type],gt,Ct;function Dt(nr){for(var Mr=0;Mr<nr.length;Mr++){var Xr=nr[Mr],mn=180-(Xr.y+Se)*360/ie;nr[Mr]=[(Xr.x+pe)*360/ie-180,360/Math.PI*Math.atan(Math.exp(mn*Math.PI/180))-90]}}switch(this.type){case 1:var jt=[];for(gt=0;gt<De.length;gt++)jt[gt]=De[gt][0];De=jt,Dt(De);break;case 2:for(gt=0;gt<De.length;gt++)Dt(De[gt]);break;case 3:for(De=o0(De),gt=0;gt<De.length;gt++)for(Ct=0;Ct<De[gt].length;Ct++)Dt(De[gt][Ct]);break}De.length===1?De=De[0]:Qe="Multi"+Qe;var lr={type:"Feature",geometry:{type:Qe,coordinates:De},properties:this.properties};return"id"in this&&(lr.id=this.id),lr};function o0(P){var R=P.length;if(R<=1)return[P];for(var G=[],ie,pe,Se=0;Se<R;Se++){var De=Lg(P[Se]);De!==0&&(pe===void 0&&(pe=De<0),pe===De<0?(ie&&G.push(ie),ie=[P[Se]]):ie.push(P[Se]))}return ie&&G.push(ie),G}function Lg(P){for(var R=0,G=0,ie=P.length,pe=ie-1,Se,De;G<ie;pe=G++)Se=P[G],De=P[pe],R+=(De.x-Se.x)*(Se.y+De.y);return R}var _g=Pg;function Pg(P,R){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=P,this._keys=[],this._values=[],this._features=[],P.readFields(C1,this,R),this.length=this._features.length}function C1(P,R,G){P===15?R.version=G.readVarint():P===1?R.name=G.readString():P===5?R.extent=G.readVarint():P===2?R._features.push(G.pos):P===3?R._keys.push(G.readString()):P===4&&R._values.push(L1(G))}function L1(P){for(var R=null,G=P.readVarint()+P.pos;P.pos<G;){var ie=P.readVarint()>>3;R=ie===1?P.readString():ie===2?P.readFloat():ie===3?P.readDouble():ie===4?P.readVarint64():ie===5?P.readVarint():ie===6?P.readSVarint():ie===7?P.readBoolean():null}return R}Pg.prototype.feature=function(P){if(P<0||P>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[P];var R=this._pbf.readVarint()+this._pbf.pos;return new nd(this._pbf,R,this.extent,this._keys,this._values)};var _1=P1;function P1(P,R){this.layers=P.readFields(R1,{},R)}function R1(P,R,G){if(P===3){var ie=new _g(G,G.readVarint()+G.pos);ie.length&&(R[ie.name]=ie)}}var D1=_1,I1=nd,k1=_g,lv={VectorTile:D1,VectorTileFeature:I1,VectorTileLayer:k1},O1=lv.VectorTileFeature.types,Uf=500,s0=Math.pow(2,13);function ad(P,R,G,ie,pe,Se,De,Qe){P.emplaceBack(R,G,Math.floor(ie*s0)*2+De,pe*s0*2,Se*s0*2,Math.round(Qe))}var il=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=R.index,this.hasPattern=!1,this.layoutVertexArray=new mu,this.indexArray=new Ql,this.programConfigurations=new _a(R.layers,R.zoom),this.segments=new No,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};il.prototype.populate=function(R,G,ie){this.features=[],this.hasPattern=Wd("fill-extrusion",this.layers,G);for(var pe=0,Se=R;pe<Se.length;pe+=1){var De=Se[pe],Qe=De.feature,gt=De.id,Ct=De.index,Dt=De.sourceLayerIndex,jt=this.layers[0]._featureFilter.needGeometry,lr=no(Qe,jt);if(this.layers[0]._featureFilter.filter(new Fa(this.zoom),lr,ie)){var nr={id:gt,sourceLayerIndex:Dt,index:Ct,geometry:jt?lr.geometry:Ei(Qe),properties:Qe.properties,type:Qe.type,patterns:{}};this.hasPattern?this.features.push(Yd("fill-extrusion",this.layers,nr,this.zoom,G)):this.addFeature(nr,nr.geometry,Ct,ie,{}),G.featureIndex.insert(Qe,nr.geometry,Ct,Dt,this.index,!0)}}},il.prototype.addFeatures=function(R,G,ie){for(var pe=0,Se=this.features;pe<Se.length;pe+=1){var De=Se[pe],Qe=De.geometry;this.addFeature(De,Qe,De.index,G,ie)}},il.prototype.update=function(R,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,G,this.stateDependentLayers,ie)},il.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},il.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},il.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,M1),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},il.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},il.prototype.addFeature=function(R,G,ie,pe,Se){for(var De=0,Qe=sv(G,Uf);De<Qe.length;De+=1){for(var gt=Qe[De],Ct=0,Dt=0,jt=gt;Dt<jt.length;Dt+=1){var lr=jt[Dt];Ct+=lr.length}for(var nr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Mr=0,Xr=gt;Mr<Xr.length;Mr+=1){var mn=Xr[Mr];if(mn.length!==0&&!z1(mn))for(var cn=0,Gn=0;Gn<mn.length;Gn++){var Cn=mn[Gn];if(Gn>=1){var Bn=mn[Gn-1];if(!_i(Cn,Bn)){nr.vertexLength+4>No.MAX_VERTEX_ARRAY_LENGTH&&(nr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Zn=Cn.sub(Bn)._perp()._unit(),na=Bn.dist(Cn);cn+na>32768&&(cn=0),ad(this.layoutVertexArray,Cn.x,Cn.y,Zn.x,Zn.y,0,0,cn),ad(this.layoutVertexArray,Cn.x,Cn.y,Zn.x,Zn.y,0,1,cn),cn+=na,ad(this.layoutVertexArray,Bn.x,Bn.y,Zn.x,Zn.y,0,0,cn),ad(this.layoutVertexArray,Bn.x,Bn.y,Zn.x,Zn.y,0,1,cn);var pa=nr.vertexLength;this.indexArray.emplaceBack(pa,pa+2,pa+1),this.indexArray.emplaceBack(pa+1,pa+2,pa+3),nr.vertexLength+=4,nr.primitiveLength+=2}}}}if(nr.vertexLength+Ct>No.MAX_VERTEX_ARRAY_LENGTH&&(nr=this.segments.prepareSegment(Ct,this.layoutVertexArray,this.indexArray)),O1[R.type]==="Polygon"){for(var va=[],Ua=[],Oa=nr.vertexLength,Na=0,ui=gt;Na<ui.length;Na+=1){var Va=ui[Na];if(Va.length!==0){Va!==gt[0]&&Ua.push(va.length/2);for(var Ga=0;Ga<Va.length;Ga++){var hi=Va[Ga];ad(this.layoutVertexArray,hi.x,hi.y,0,0,1,1,0),va.push(hi.x),va.push(hi.y)}}}for(var ii=t0(va,Ua),Hi=0;Hi<ii.length;Hi+=3)this.indexArray.emplaceBack(Oa+ii[Hi],Oa+ii[Hi+2],Oa+ii[Hi+1]);nr.primitiveLength+=ii.length/3,nr.vertexLength+=Ct}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ie,Se,pe)},Ne("FillExtrusionBucket",il,{omit:["layers","features"]});function _i(P,R){return P.x===R.x&&(P.x<0||P.x>Ba)||P.y===R.y&&(P.y<0||P.y>Ba)}function z1(P){return P.every(function(R){return R.x<0})||P.every(function(R){return R.x>Ba})||P.every(function(R){return R.y<0})||P.every(function(R){return R.y>Ba})}var eu=new ki({"fill-extrusion-opacity":new ga(Lr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Wa(Lr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ga(Lr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ga(Lr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new _o(Lr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Wa(Lr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Wa(Lr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ga(Lr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),vs={paint:eu},F1=function(P){function R(G){P.call(this,G,vs)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ie){return new il(ie)},R.prototype.queryRadius=function(){return Au(this.paint.get("fill-extrusion-translate"))},R.prototype.is3D=function(){return!0},R.prototype.queryIntersectsFeature=function(ie,pe,Se,De,Qe,gt,Ct,Dt){var jt=Bf(ie,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),gt.angle,Ct),lr=this.paint.get("fill-extrusion-height").evaluate(pe,Se),nr=this.paint.get("fill-extrusion-base").evaluate(pe,Se),Mr=U1(jt,Dt,gt,0),Xr=B1(De,nr,lr,Dt),mn=Xr[0],cn=Xr[1];return N1(mn,cn,Mr)},R}(Io);function cf(P,R){return P.x*R.x+P.y*R.y}function Rg(P,R){if(P.length===1){for(var G=0,ie=R[G++],pe;!pe||ie.equals(pe);)if(pe=R[G++],!pe)return 1/0;for(;G<R.length;G++){var Se=R[G],De=P[0],Qe=pe.sub(ie),gt=Se.sub(ie),Ct=De.sub(ie),Dt=cf(Qe,Qe),jt=cf(Qe,gt),lr=cf(gt,gt),nr=cf(Ct,Qe),Mr=cf(Ct,gt),Xr=Dt*lr-jt*jt,mn=(lr*nr-jt*Mr)/Xr,cn=(Dt*Mr-jt*nr)/Xr,Gn=1-mn-cn,Cn=ie.z*Gn+pe.z*mn+Se.z*cn;if(isFinite(Cn))return Cn}return 1/0}else{for(var Bn=1/0,Zn=0,na=R;Zn<na.length;Zn+=1){var pa=na[Zn];Bn=Math.min(Bn,pa.z)}return Bn}}function N1(P,R,G){var ie=1/0;To(G,R)&&(ie=Rg(G,R[0]));for(var pe=0;pe<R.length;pe++)for(var Se=R[pe],De=P[pe],Qe=0;Qe<Se.length-1;Qe++){var gt=Se[Qe],Ct=Se[Qe+1],Dt=De[Qe],jt=De[Qe+1],lr=[gt,Ct,jt,Dt,gt];li(G,lr)&&(ie=Math.min(ie,Rg(G,lr)))}return ie===1/0?!1:ie}function B1(P,R,G,ie){for(var pe=[],Se=[],De=ie[8]*R,Qe=ie[9]*R,gt=ie[10]*R,Ct=ie[11]*R,Dt=ie[8]*G,jt=ie[9]*G,lr=ie[10]*G,nr=ie[11]*G,Mr=0,Xr=P;Mr<Xr.length;Mr+=1){for(var mn=Xr[Mr],cn=[],Gn=[],Cn=0,Bn=mn;Cn<Bn.length;Cn+=1){var Zn=Bn[Cn],na=Zn.x,pa=Zn.y,va=ie[0]*na+ie[4]*pa+ie[12],Ua=ie[1]*na+ie[5]*pa+ie[13],Oa=ie[2]*na+ie[6]*pa+ie[14],Na=ie[3]*na+ie[7]*pa+ie[15],ui=va+De,Va=Ua+Qe,Ga=Oa+gt,hi=Na+Ct,ii=va+Dt,Hi=Ua+jt,so=Oa+lr,Gi=Na+nr,Wi=new r(ui/hi,Va/hi);Wi.z=Ga/hi,cn.push(Wi);var Ni=new r(ii/Gi,Hi/Gi);Ni.z=so/Gi,Gn.push(Ni)}pe.push(cn),Se.push(Gn)}return[pe,Se]}function U1(P,R,G,ie){for(var pe=[],Se=0,De=P;Se<De.length;Se+=1){var Qe=De[Se],gt=[Qe.x,Qe.y,ie,1];Nd(gt,gt,R),pe.push(new r(gt[0]/gt[3],gt[1]/gt[3]))}return pe}var V1=fo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),l0=V1.members,H1=fo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),Wc=H1.members,Dg=lv.VectorTileFeature.types,id=63,es=Math.cos(75/2*(Math.PI/180)),us=15,Ig=20,G1=15,kg=1/2,Og=Math.pow(2,G1-1)/kg,ol=function(R){var G=this;this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(ie){return ie.id}),this.index=R.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ie){G.gradients[ie.id]={}}),this.layoutVertexArray=new xu,this.layoutVertexArray2=new Bc,this.indexArray=new Ql,this.programConfigurations=new _a(R.layers,R.zoom),this.segments=new No,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ie){return ie.isStateDependent()}).map(function(ie){return ie.id})};ol.prototype.populate=function(R,G,ie){this.hasPattern=Wd("line",this.layers,G);for(var pe=this.layers[0].layout.get("line-sort-key"),Se=[],De=0,Qe=R;De<Qe.length;De+=1){var gt=Qe[De],Ct=gt.feature,Dt=gt.id,jt=gt.index,lr=gt.sourceLayerIndex,nr=this.layers[0]._featureFilter.needGeometry,Mr=no(Ct,nr);if(this.layers[0]._featureFilter.filter(new Fa(this.zoom),Mr,ie)){var Xr=pe?pe.evaluate(Mr,{},ie):void 0,mn={id:Dt,properties:Ct.properties,type:Ct.type,sourceLayerIndex:lr,index:jt,geometry:nr?Mr.geometry:Ei(Ct),patterns:{},sortKey:Xr};Se.push(mn)}}pe&&Se.sort(function(Oa,Na){return Oa.sortKey-Na.sortKey});for(var cn=0,Gn=Se;cn<Gn.length;cn+=1){var Cn=Gn[cn],Bn=Cn,Zn=Bn.geometry,na=Bn.index,pa=Bn.sourceLayerIndex;if(this.hasPattern){var va=Yd("line",this.layers,Cn,this.zoom,G);this.patternFeatures.push(va)}else this.addFeature(Cn,Zn,na,ie,{});var Ua=R[na].feature;G.featureIndex.insert(Ua,Zn,na,pa,this.index)}},ol.prototype.update=function(R,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,G,this.stateDependentLayers,ie)},ol.prototype.addFeatures=function(R,G,ie){for(var pe=0,Se=this.patternFeatures;pe<Se.length;pe+=1){var De=Se[pe];this.addFeature(De,De.geometry,De.index,G,ie)}},ol.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ol.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ol.prototype.upload=function(R){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=R.createVertexBuffer(this.layoutVertexArray2,Wc)),this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,l0),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},ol.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ol.prototype.lineFeatureClips=function(R){if(R.properties&&R.properties.hasOwnProperty("mapbox_clip_start")&&R.properties.hasOwnProperty("mapbox_clip_end")){var G=+R.properties.mapbox_clip_start,ie=+R.properties.mapbox_clip_end;return{start:G,end:ie}}},ol.prototype.addFeature=function(R,G,ie,pe,Se){var De=this.layers[0].layout,Qe=De.get("line-join").evaluate(R,{}),gt=De.get("line-cap"),Ct=De.get("line-miter-limit"),Dt=De.get("line-round-limit");this.lineClips=this.lineFeatureClips(R);for(var jt=0,lr=G;jt<lr.length;jt+=1){var nr=lr[jt];this.addLine(nr,R,Qe,gt,Ct,Dt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ie,Se,pe)},ol.prototype.addLine=function(R,G,ie,pe,Se,De){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Qe=0;Qe<R.length-1;Qe++)this.totalDistance+=R[Qe].dist(R[Qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var gt=Dg[G.type]==="Polygon",Ct=R.length;Ct>=2&&R[Ct-1].equals(R[Ct-2]);)Ct--;for(var Dt=0;Dt<Ct-1&&R[Dt].equals(R[Dt+1]);)Dt++;if(!(Ct<(gt?3:2))){ie==="bevel"&&(Se=1.05);var jt=this.overscaling<=16?us*Ba/(512*this.overscaling):0,lr=this.segments.prepareSegment(Ct*10,this.layoutVertexArray,this.indexArray),nr,Mr=void 0,Xr=void 0,mn=void 0,cn=void 0;this.e1=this.e2=-1,gt&&(nr=R[Ct-2],cn=R[Dt].sub(nr)._unit()._perp());for(var Gn=Dt;Gn<Ct;Gn++)if(Xr=Gn===Ct-1?gt?R[Dt+1]:void 0:R[Gn+1],!(Xr&&R[Gn].equals(Xr))){cn&&(mn=cn),nr&&(Mr=nr),nr=R[Gn],cn=Xr?Xr.sub(nr)._unit()._perp():mn,mn=mn||cn;var Cn=mn.add(cn);(Cn.x!==0||Cn.y!==0)&&Cn._unit();var Bn=mn.x*cn.x+mn.y*cn.y,Zn=Cn.x*cn.x+Cn.y*cn.y,na=Zn!==0?1/Zn:1/0,pa=2*Math.sqrt(2-2*Zn),va=Zn<es&&Mr&&Xr,Ua=mn.x*cn.y-mn.y*cn.x>0;if(va&&Gn>Dt){var Oa=nr.dist(Mr);if(Oa>2*jt){var Na=nr.sub(nr.sub(Mr)._mult(jt/Oa)._round());this.updateDistance(Mr,Na),this.addCurrentVertex(Na,mn,0,0,lr),Mr=Na}}var ui=Mr&&Xr,Va=ui?ie:gt?"butt":pe;if(ui&&Va==="round"&&(na<De?Va="miter":na<=2&&(Va="fakeround")),Va==="miter"&&na>Se&&(Va="bevel"),Va==="bevel"&&(na>2&&(Va="flipbevel"),na<Se&&(Va="miter")),Mr&&this.updateDistance(Mr,nr),Va==="miter")Cn._mult(na),this.addCurrentVertex(nr,Cn,0,0,lr);else if(Va==="flipbevel"){if(na>100)Cn=cn.mult(-1);else{var Ga=na*mn.add(cn).mag()/mn.sub(cn).mag();Cn._perp()._mult(Ga*(Ua?-1:1))}this.addCurrentVertex(nr,Cn,0,0,lr),this.addCurrentVertex(nr,Cn.mult(-1),0,0,lr)}else if(Va==="bevel"||Va==="fakeround"){var hi=-Math.sqrt(na*na-1),ii=Ua?hi:0,Hi=Ua?0:hi;if(Mr&&this.addCurrentVertex(nr,mn,ii,Hi,lr),Va==="fakeround")for(var so=Math.round(pa*180/Math.PI/Ig),Gi=1;Gi<so;Gi++){var Wi=Gi/so;if(Wi!==.5){var Ni=Wi-.5,yo=1.0904+Bn*(-3.2452+Bn*(3.55645-Bn*1.43519)),Ao=.848013+Bn*(-1.06021+Bn*.215638);Wi=Wi+Wi*Ni*(Wi-1)*(yo*Ni*Ni+Ao)}var Zo=cn.sub(mn)._mult(Wi)._add(mn)._unit()._mult(Ua?-1:1);this.addHalfVertex(nr,Zo.x,Zo.y,!1,Ua,0,lr)}Xr&&this.addCurrentVertex(nr,cn,-ii,-Hi,lr)}else if(Va==="butt")this.addCurrentVertex(nr,Cn,0,0,lr);else if(Va==="square"){var ns=Mr?1:-1;this.addCurrentVertex(nr,Cn,ns,ns,lr)}else Va==="round"&&(Mr&&(this.addCurrentVertex(nr,mn,0,0,lr),this.addCurrentVertex(nr,mn,1,1,lr,!0)),Xr&&(this.addCurrentVertex(nr,cn,-1,-1,lr,!0),this.addCurrentVertex(nr,cn,0,0,lr)));if(va&&Gn<Ct-1){var Fs=nr.dist(Xr);if(Fs>2*jt){var gs=nr.add(Xr.sub(nr)._mult(jt/Fs)._round());this.updateDistance(nr,gs),this.addCurrentVertex(gs,cn,0,0,lr),nr=gs}}}}},ol.prototype.addCurrentVertex=function(R,G,ie,pe,Se,De){De===void 0&&(De=!1);var Qe=G.x+G.y*ie,gt=G.y-G.x*ie,Ct=-G.x+G.y*pe,Dt=-G.y-G.x*pe;this.addHalfVertex(R,Qe,gt,De,!1,ie,Se),this.addHalfVertex(R,Ct,Dt,De,!0,-pe,Se),this.distance>Og/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(R,G,ie,pe,Se,De))},ol.prototype.addHalfVertex=function(R,G,ie,pe,Se,De,Qe){var gt=R.x,Ct=R.y,Dt=this.lineClips?this.scaledDistance*(Og-1):this.scaledDistance,jt=Dt*kg;if(this.layoutVertexArray.emplaceBack((gt<<1)+(pe?1:0),(Ct<<1)+(Se?1:0),Math.round(id*G)+128,Math.round(id*ie)+128,(De===0?0:De<0?-1:1)+1|(jt&63)<<2,jt>>6),this.lineClips){var lr=this.scaledDistance-this.lineClips.start,nr=this.lineClips.end-this.lineClips.start,Mr=lr/nr;this.layoutVertexArray2.emplaceBack(Mr,this.lineClipsArray.length)}var Xr=Qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Xr),Qe.primitiveLength++),Se?this.e2=Xr:this.e1=Xr},ol.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},ol.prototype.updateDistance=function(R,G){this.distance+=R.dist(G),this.updateScaledDistance()},Ne("LineBucket",ol,{omit:["layers","patternFeatures"]});var W1=new ki({"line-cap":new ga(Lr.layout_line["line-cap"]),"line-join":new Wa(Lr.layout_line["line-join"]),"line-miter-limit":new ga(Lr.layout_line["line-miter-limit"]),"line-round-limit":new ga(Lr.layout_line["line-round-limit"]),"line-sort-key":new Wa(Lr.layout_line["line-sort-key"])}),Y1=new ki({"line-opacity":new Wa(Lr.paint_line["line-opacity"]),"line-color":new Wa(Lr.paint_line["line-color"]),"line-translate":new ga(Lr.paint_line["line-translate"]),"line-translate-anchor":new ga(Lr.paint_line["line-translate-anchor"]),"line-width":new Wa(Lr.paint_line["line-width"]),"line-gap-width":new Wa(Lr.paint_line["line-gap-width"]),"line-offset":new Wa(Lr.paint_line["line-offset"]),"line-blur":new Wa(Lr.paint_line["line-blur"]),"line-dasharray":new Ss(Lr.paint_line["line-dasharray"]),"line-pattern":new _o(Lr.paint_line["line-pattern"]),"line-gradient":new Yo(Lr.paint_line["line-gradient"])}),u0={paint:Y1,layout:W1},od=function(P){function R(){P.apply(this,arguments)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(ie,pe){return pe=new Fa(Math.floor(pe.zoom),{now:pe.now,fadeDuration:pe.fadeDuration,zoomHistory:pe.zoomHistory,transition:pe.transition}),P.prototype.possiblyEvaluate.call(this,ie,pe)},R.prototype.evaluate=function(ie,pe,Se,De){return pe=x({},pe,{zoom:Math.floor(pe.zoom)}),P.prototype.evaluate.call(this,ie,pe,Se,De)},R}(Wa),Xd=new od(u0.paint.properties["line-width"].specification);Xd.useIntegerZoom=!0;var X1=function(P){function R(G){P.call(this,G,u0),this.gradientVersion=0}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype._handleSpecialPaintPropertyUpdate=function(ie){if(ie==="line-gradient"){var pe=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=pe._styleExpression.expression instanceof Js,this.gradientVersion=(this.gradientVersion+1)%f}},R.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},R.prototype.recalculate=function(ie,pe){P.prototype.recalculate.call(this,ie,pe),this.paint._values["line-floorwidth"]=Xd.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ie)},R.prototype.createBucket=function(ie){return new ol(ie)},R.prototype.queryRadius=function(ie){var pe=ie,Se=f0(nl("line-width",this,pe),nl("line-gap-width",this,pe)),De=nl("line-offset",this,pe);return Se/2+Math.abs(De)+Au(this.paint.get("line-translate"))},R.prototype.queryIntersectsFeature=function(ie,pe,Se,De,Qe,gt,Ct){var Dt=Bf(ie,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),gt.angle,Ct),jt=Ct/2*f0(this.paint.get("line-width").evaluate(pe,Se),this.paint.get("line-gap-width").evaluate(pe,Se)),lr=this.paint.get("line-offset").evaluate(pe,Se);return lr&&(De=Zd(De,lr*Ct)),Qo(Dt,De,jt)},R.prototype.isTileClipped=function(){return!0},R}(Io);function f0(P,R){return R>0?R+2*P:P}function Zd(P,R){for(var G=[],ie=new r(0,0),pe=0;pe<P.length;pe++){for(var Se=P[pe],De=[],Qe=0;Qe<Se.length;Qe++){var gt=Se[Qe-1],Ct=Se[Qe],Dt=Se[Qe+1],jt=Qe===0?ie:Ct.sub(gt)._unit()._perp(),lr=Qe===Se.length-1?ie:Dt.sub(Ct)._unit()._perp(),nr=jt._add(lr)._unit(),Mr=nr.x*lr.x+nr.y*lr.y;nr._mult(1/Mr),De.push(nr._mult(R)._add(Ct))}G.push(De)}return G}var Su=fo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),uv=fo([{name:"a_projected_pos",components:3,type:"Float32"}],4);fo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var Z1=fo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);fo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var zg=fo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),j1=fo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);fo([{name:"triangle",components:3,type:"Uint16"}]),fo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),fo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),fo([{type:"Float32",name:"offsetX"}]),fo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function K1(P,R,G){var ie=R.layout.get("text-transform").evaluate(G,{});return ie==="uppercase"?P=P.toLocaleUpperCase():ie==="lowercase"&&(P=P.toLocaleLowerCase()),ua.applyArabicShaping&&(P=ua.applyArabicShaping(P)),P}function J1(P,R,G){return P.sections.forEach(function(ie){ie.text=K1(ie.text,R,G)}),P}function Fg(P){var R={},G={},ie=[],pe=0;function Se(cn){ie.push(P[cn]),pe++}function De(cn,Gn,Cn){var Bn=G[cn];return delete G[cn],G[Gn]=Bn,ie[Bn].geometry[0].pop(),ie[Bn].geometry[0]=ie[Bn].geometry[0].concat(Cn[0]),Bn}function Qe(cn,Gn,Cn){var Bn=R[Gn];return delete R[Gn],R[cn]=Bn,ie[Bn].geometry[0].shift(),ie[Bn].geometry[0]=Cn[0].concat(ie[Bn].geometry[0]),Bn}function gt(cn,Gn,Cn){var Bn=Cn?Gn[0][Gn[0].length-1]:Gn[0][0];return cn+":"+Bn.x+":"+Bn.y}for(var Ct=0;Ct<P.length;Ct++){var Dt=P[Ct],jt=Dt.geometry,lr=Dt.text?Dt.text.toString():null;if(!lr){Se(Ct);continue}var nr=gt(lr,jt),Mr=gt(lr,jt,!0);if(nr in G&&Mr in R&&G[nr]!==R[Mr]){var Xr=Qe(nr,Mr,jt),mn=De(nr,Mr,ie[Xr].geometry);delete R[nr],delete G[Mr],G[gt(lr,ie[mn].geometry,!0)]=mn,ie[Xr].geometry=null}else nr in G?De(nr,Mr,jt):Mr in R?Qe(nr,Mr,jt):(Se(Ct),R[nr]=pe-1,G[Mr]=pe-1)}return ie.filter(function(cn){return cn.geometry})}var Eu={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function zi(P){for(var R="",G=0;G<P.length;G++){var ie=P.charCodeAt(G+1)||null,pe=P.charCodeAt(G-1)||null,Se=(!ie||!Wr(ie)||Eu[P[G+1]])&&(!pe||!Wr(pe)||Eu[P[G-1]]);Se&&Eu[P[G]]?R+=Eu[P[G]]:R+=P[G]}return R}var ds=24,hf=function(P,R,G,ie,pe){var Se,De,Qe=pe*8-ie-1,gt=(1<<Qe)-1,Ct=gt>>1,Dt=-7,jt=G?pe-1:0,lr=G?-1:1,nr=P[R+jt];for(jt+=lr,Se=nr&(1<<-Dt)-1,nr>>=-Dt,Dt+=Qe;Dt>0;Se=Se*256+P[R+jt],jt+=lr,Dt-=8);for(De=Se&(1<<-Dt)-1,Se>>=-Dt,Dt+=ie;Dt>0;De=De*256+P[R+jt],jt+=lr,Dt-=8);if(Se===0)Se=1-Ct;else{if(Se===gt)return De?NaN:(nr?-1:1)*(1/0);De=De+Math.pow(2,ie),Se=Se-Ct}return(nr?-1:1)*De*Math.pow(2,Se-ie)},Ng=function(P,R,G,ie,pe,Se){var De,Qe,gt,Ct=Se*8-pe-1,Dt=(1<<Ct)-1,jt=Dt>>1,lr=pe===23?Math.pow(2,-24)-Math.pow(2,-77):0,nr=ie?0:Se-1,Mr=ie?1:-1,Xr=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(Qe=isNaN(R)?1:0,De=Dt):(De=Math.floor(Math.log(R)/Math.LN2),R*(gt=Math.pow(2,-De))<1&&(De--,gt*=2),De+jt>=1?R+=lr/gt:R+=lr*Math.pow(2,1-jt),R*gt>=2&&(De++,gt/=2),De+jt>=Dt?(Qe=0,De=Dt):De+jt>=1?(Qe=(R*gt-1)*Math.pow(2,pe),De=De+jt):(Qe=R*Math.pow(2,jt-1)*Math.pow(2,pe),De=0));pe>=8;P[G+nr]=Qe&255,nr+=Mr,Qe/=256,pe-=8);for(De=De<<pe|Qe,Ct+=pe;Ct>0;P[G+nr]=De&255,nr+=Mr,De/=256,Ct-=8);P[G+nr-Mr]|=Xr*128},jd={read:hf,write:Ng},ao=co;function co(P){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(P)?P:new Uint8Array(P||0),this.pos=0,this.type=0,this.length=this.buf.length}co.Varint=0,co.Fixed64=1,co.Bytes=2,co.Fixed32=5;var Kd=65536*65536,sd=1/Kd,$1=12,Bg=typeof TextDecoder>"u"?null:new TextDecoder("utf8");co.prototype={destroy:function(){this.buf=null},readFields:function(P,R,G){for(G=G||this.length;this.pos<G;){var ie=this.readVarint(),pe=ie>>3,Se=this.pos;this.type=ie&7,P(pe,R,this),this.pos===Se&&this.skip(ie)}return R},readMessage:function(P,R){return this.readFields(P,R,this.readVarint()+this.pos)},readFixed32:function(){var P=Jd(this.buf,this.pos);return this.pos+=4,P},readSFixed32:function(){var P=kl(this.buf,this.pos);return this.pos+=4,P},readFixed64:function(){var P=Jd(this.buf,this.pos)+Jd(this.buf,this.pos+4)*Kd;return this.pos+=8,P},readSFixed64:function(){var P=Jd(this.buf,this.pos)+kl(this.buf,this.pos+4)*Kd;return this.pos+=8,P},readFloat:function(){var P=jd.read(this.buf,this.pos,!0,23,4);return this.pos+=4,P},readDouble:function(){var P=jd.read(this.buf,this.pos,!0,52,8);return this.pos+=8,P},readVarint:function(P){var R=this.buf,G,ie;return ie=R[this.pos++],G=ie&127,ie<128||(ie=R[this.pos++],G|=(ie&127)<<7,ie<128)||(ie=R[this.pos++],G|=(ie&127)<<14,ie<128)||(ie=R[this.pos++],G|=(ie&127)<<21,ie<128)?G:(ie=R[this.pos],G|=(ie&15)<<28,Q1(G,P,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var P=this.readVarint();return P%2===1?(P+1)/-2:P/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var P=this.readVarint()+this.pos,R=this.pos;return this.pos=P,P-R>=$1&&Bg?fx(this.buf,R,P):ux(this.buf,R,P)},readBytes:function(){var P=this.readVarint()+this.pos,R=this.buf.subarray(this.pos,P);return this.pos=P,R},readPackedVarint:function(P,R){if(this.type!==co.Bytes)return P.push(this.readVarint(R));var G=Yc(this);for(P=P||[];this.pos<G;)P.push(this.readVarint(R));return P},readPackedSVarint:function(P){if(this.type!==co.Bytes)return P.push(this.readSVarint());var R=Yc(this);for(P=P||[];this.pos<R;)P.push(this.readSVarint());return P},readPackedBoolean:function(P){if(this.type!==co.Bytes)return P.push(this.readBoolean());var R=Yc(this);for(P=P||[];this.pos<R;)P.push(this.readBoolean());return P},readPackedFloat:function(P){if(this.type!==co.Bytes)return P.push(this.readFloat());var R=Yc(this);for(P=P||[];this.pos<R;)P.push(this.readFloat());return P},readPackedDouble:function(P){if(this.type!==co.Bytes)return P.push(this.readDouble());var R=Yc(this);for(P=P||[];this.pos<R;)P.push(this.readDouble());return P},readPackedFixed32:function(P){if(this.type!==co.Bytes)return P.push(this.readFixed32());var R=Yc(this);for(P=P||[];this.pos<R;)P.push(this.readFixed32());return P},readPackedSFixed32:function(P){if(this.type!==co.Bytes)return P.push(this.readSFixed32());var R=Yc(this);for(P=P||[];this.pos<R;)P.push(this.readSFixed32());return P},readPackedFixed64:function(P){if(this.type!==co.Bytes)return P.push(this.readFixed64());var R=Yc(this);for(P=P||[];this.pos<R;)P.push(this.readFixed64());return P},readPackedSFixed64:function(P){if(this.type!==co.Bytes)return P.push(this.readSFixed64());var R=Yc(this);for(P=P||[];this.pos<R;)P.push(this.readSFixed64());return P},skip:function(P){var R=P&7;if(R===co.Varint)for(;this.buf[this.pos++]>127;);else if(R===co.Bytes)this.pos=this.readVarint()+this.pos;else if(R===co.Fixed32)this.pos+=4;else if(R===co.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+R)},writeTag:function(P,R){this.writeVarint(P<<3|R)},realloc:function(P){for(var R=this.length||16;R<this.pos+P;)R*=2;if(R!==this.length){var G=new Uint8Array(R);G.set(this.buf),this.buf=G,this.length=R}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(P){this.realloc(4),ts(this.buf,P,this.pos),this.pos+=4},writeSFixed32:function(P){this.realloc(4),ts(this.buf,P,this.pos),this.pos+=4},writeFixed64:function(P){this.realloc(8),ts(this.buf,P&-1,this.pos),ts(this.buf,Math.floor(P*sd),this.pos+4),this.pos+=8},writeSFixed64:function(P){this.realloc(8),ts(this.buf,P&-1,this.pos),ts(this.buf,Math.floor(P*sd),this.pos+4),this.pos+=8},writeVarint:function(P){if(P=+P||0,P>268435455||P<0){q1(P,this);return}this.realloc(4),this.buf[this.pos++]=P&127|(P>127?128:0),!(P<=127)&&(this.buf[this.pos++]=(P>>>=7)&127|(P>127?128:0),!(P<=127)&&(this.buf[this.pos++]=(P>>>=7)&127|(P>127?128:0),!(P<=127)&&(this.buf[this.pos++]=P>>>7&127)))},writeSVarint:function(P){this.writeVarint(P<0?-P*2-1:P*2)},writeBoolean:function(P){this.writeVarint(!!P)},writeString:function(P){P=String(P),this.realloc(P.length*4),this.pos++;var R=this.pos;this.pos=cx(this.buf,P,this.pos);var G=this.pos-R;G>=128&&Ug(R,G,this),this.pos=R-1,this.writeVarint(G),this.pos+=G},writeFloat:function(P){this.realloc(4),jd.write(this.buf,P,this.pos,!0,23,4),this.pos+=4},writeDouble:function(P){this.realloc(8),jd.write(this.buf,P,this.pos,!0,52,8),this.pos+=8},writeBytes:function(P){var R=P.length;this.writeVarint(R),this.realloc(R);for(var G=0;G<R;G++)this.buf[this.pos++]=P[G]},writeRawMessage:function(P,R){this.pos++;var G=this.pos;P(R,this);var ie=this.pos-G;ie>=128&&Ug(G,ie,this),this.pos=G-1,this.writeVarint(ie),this.pos+=ie},writeMessage:function(P,R,G){this.writeTag(P,co.Bytes),this.writeRawMessage(R,G)},writePackedVarint:function(P,R){R.length&&this.writeMessage(P,rx,R)},writePackedSVarint:function(P,R){R.length&&this.writeMessage(P,nx,R)},writePackedBoolean:function(P,R){R.length&&this.writeMessage(P,c0,R)},writePackedFloat:function(P,R){R.length&&this.writeMessage(P,ax,R)},writePackedDouble:function(P,R){R.length&&this.writeMessage(P,ix,R)},writePackedFixed32:function(P,R){R.length&&this.writeMessage(P,ox,R)},writePackedSFixed32:function(P,R){R.length&&this.writeMessage(P,h0,R)},writePackedFixed64:function(P,R){R.length&&this.writeMessage(P,sx,R)},writePackedSFixed64:function(P,R){R.length&&this.writeMessage(P,lx,R)},writeBytesField:function(P,R){this.writeTag(P,co.Bytes),this.writeBytes(R)},writeFixed32Field:function(P,R){this.writeTag(P,co.Fixed32),this.writeFixed32(R)},writeSFixed32Field:function(P,R){this.writeTag(P,co.Fixed32),this.writeSFixed32(R)},writeFixed64Field:function(P,R){this.writeTag(P,co.Fixed64),this.writeFixed64(R)},writeSFixed64Field:function(P,R){this.writeTag(P,co.Fixed64),this.writeSFixed64(R)},writeVarintField:function(P,R){this.writeTag(P,co.Varint),this.writeVarint(R)},writeSVarintField:function(P,R){this.writeTag(P,co.Varint),this.writeSVarint(R)},writeStringField:function(P,R){this.writeTag(P,co.Bytes),this.writeString(R)},writeFloatField:function(P,R){this.writeTag(P,co.Fixed32),this.writeFloat(R)},writeDoubleField:function(P,R){this.writeTag(P,co.Fixed64),this.writeDouble(R)},writeBooleanField:function(P,R){this.writeVarintField(P,!!R)}};function Q1(P,R,G){var ie=G.buf,pe,Se;if(Se=ie[G.pos++],pe=(Se&112)>>4,Se<128||(Se=ie[G.pos++],pe|=(Se&127)<<3,Se<128)||(Se=ie[G.pos++],pe|=(Se&127)<<10,Se<128)||(Se=ie[G.pos++],pe|=(Se&127)<<17,Se<128)||(Se=ie[G.pos++],pe|=(Se&127)<<24,Se<128)||(Se=ie[G.pos++],pe|=(Se&1)<<31,Se<128))return fv(P,pe,R);throw new Error("Expected varint not more than 10 bytes")}function Yc(P){return P.type===co.Bytes?P.readVarint()+P.pos:P.pos+1}function fv(P,R,G){return G?R*4294967296+(P>>>0):(R>>>0)*4294967296+(P>>>0)}function q1(P,R){var G,ie;if(P>=0?(G=P%4294967296|0,ie=P/4294967296|0):(G=~(-P%4294967296),ie=~(-P/4294967296),G^4294967295?G=G+1|0:(G=0,ie=ie+1|0)),P>=18446744073709552e3||P<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");R.realloc(10),ex(G,ie,R),tx(ie,R)}function ex(P,R,G){G.buf[G.pos++]=P&127|128,P>>>=7,G.buf[G.pos++]=P&127|128,P>>>=7,G.buf[G.pos++]=P&127|128,P>>>=7,G.buf[G.pos++]=P&127|128,P>>>=7,G.buf[G.pos]=P&127}function tx(P,R){var G=(P&7)<<4;R.buf[R.pos++]|=G|((P>>>=3)?128:0),P&&(R.buf[R.pos++]=P&127|((P>>>=7)?128:0),P&&(R.buf[R.pos++]=P&127|((P>>>=7)?128:0),P&&(R.buf[R.pos++]=P&127|((P>>>=7)?128:0),P&&(R.buf[R.pos++]=P&127|((P>>>=7)?128:0),P&&(R.buf[R.pos++]=P&127)))))}function Ug(P,R,G){var ie=R<=16383?1:R<=2097151?2:R<=268435455?3:Math.floor(Math.log(R)/(Math.LN2*7));G.realloc(ie);for(var pe=G.pos-1;pe>=P;pe--)G.buf[pe+ie]=G.buf[pe]}function rx(P,R){for(var G=0;G<P.length;G++)R.writeVarint(P[G])}function nx(P,R){for(var G=0;G<P.length;G++)R.writeSVarint(P[G])}function ax(P,R){for(var G=0;G<P.length;G++)R.writeFloat(P[G])}function ix(P,R){for(var G=0;G<P.length;G++)R.writeDouble(P[G])}function c0(P,R){for(var G=0;G<P.length;G++)R.writeBoolean(P[G])}function ox(P,R){for(var G=0;G<P.length;G++)R.writeFixed32(P[G])}function h0(P,R){for(var G=0;G<P.length;G++)R.writeSFixed32(P[G])}function sx(P,R){for(var G=0;G<P.length;G++)R.writeFixed64(P[G])}function lx(P,R){for(var G=0;G<P.length;G++)R.writeSFixed64(P[G])}function Jd(P,R){return(P[R]|P[R+1]<<8|P[R+2]<<16)+P[R+3]*16777216}function ts(P,R,G){P[G]=R,P[G+1]=R>>>8,P[G+2]=R>>>16,P[G+3]=R>>>24}function kl(P,R){return(P[R]|P[R+1]<<8|P[R+2]<<16)+(P[R+3]<<24)}function ux(P,R,G){for(var ie="",pe=R;pe<G;){var Se=P[pe],De=null,Qe=Se>239?4:Se>223?3:Se>191?2:1;if(pe+Qe>G)break;var gt,Ct,Dt;Qe===1?Se<128&&(De=Se):Qe===2?(gt=P[pe+1],(gt&192)===128&&(De=(Se&31)<<6|gt&63,De<=127&&(De=null))):Qe===3?(gt=P[pe+1],Ct=P[pe+2],(gt&192)===128&&(Ct&192)===128&&(De=(Se&15)<<12|(gt&63)<<6|Ct&63,(De<=2047||De>=55296&&De<=57343)&&(De=null))):Qe===4&&(gt=P[pe+1],Ct=P[pe+2],Dt=P[pe+3],(gt&192)===128&&(Ct&192)===128&&(Dt&192)===128&&(De=(Se&15)<<18|(gt&63)<<12|(Ct&63)<<6|Dt&63,(De<=65535||De>=1114112)&&(De=null))),De===null?(De=65533,Qe=1):De>65535&&(De-=65536,ie+=String.fromCharCode(De>>>10&1023|55296),De=56320|De&1023),ie+=String.fromCharCode(De),pe+=Qe}return ie}function fx(P,R,G){return Bg.decode(P.subarray(R,G))}function cx(P,R,G){for(var ie=0,pe,Se;ie<R.length;ie++){if(pe=R.charCodeAt(ie),pe>55295&&pe<57344)if(Se)if(pe<56320){P[G++]=239,P[G++]=191,P[G++]=189,Se=pe;continue}else pe=Se-55296<<10|pe-56320|65536,Se=null;else{pe>56319||ie+1===R.length?(P[G++]=239,P[G++]=191,P[G++]=189):Se=pe;continue}else Se&&(P[G++]=239,P[G++]=191,P[G++]=189,Se=null);pe<128?P[G++]=pe:(pe<2048?P[G++]=pe>>6|192:(pe<65536?P[G++]=pe>>12|224:(P[G++]=pe>>18|240,P[G++]=pe>>12&63|128),P[G++]=pe>>6&63|128),P[G++]=pe&63|128)}return G}var $d=3;function hx(P,R,G){P===1&&G.readMessage(vx,R)}function vx(P,R,G){if(P===3){var ie=G.readMessage(dx,{}),pe=ie.id,Se=ie.bitmap,De=ie.width,Qe=ie.height,gt=ie.left,Ct=ie.top,Dt=ie.advance;R.push({id:pe,bitmap:new zh({width:De+2*$d,height:Qe+2*$d},Se),metrics:{width:De,height:Qe,left:gt,top:Ct,advance:Dt}})}}function dx(P,R,G){P===1?R.id=G.readVarint():P===2?R.bitmap=G.readBytes():P===3?R.width=G.readVarint():P===4?R.height=G.readVarint():P===5?R.left=G.readSVarint():P===6?R.top=G.readSVarint():P===7&&(R.advance=G.readVarint())}function Vg(P){return new ao(P).readFields(hx,[])}var Hg=$d;function Gg(P){for(var R=0,G=0,ie=0,pe=P;ie<pe.length;ie+=1){var Se=pe[ie];R+=Se.w*Se.h,G=Math.max(G,Se.w)}P.sort(function(mn,cn){return cn.h-mn.h});for(var De=Math.max(Math.ceil(Math.sqrt(R/.95)),G),Qe=[{x:0,y:0,w:De,h:1/0}],gt=0,Ct=0,Dt=0,jt=P;Dt<jt.length;Dt+=1)for(var lr=jt[Dt],nr=Qe.length-1;nr>=0;nr--){var Mr=Qe[nr];if(!(lr.w>Mr.w||lr.h>Mr.h)){if(lr.x=Mr.x,lr.y=Mr.y,Ct=Math.max(Ct,lr.y+lr.h),gt=Math.max(gt,lr.x+lr.w),lr.w===Mr.w&&lr.h===Mr.h){var Xr=Qe.pop();nr<Qe.length&&(Qe[nr]=Xr)}else lr.h===Mr.h?(Mr.x+=lr.w,Mr.w-=lr.w):lr.w===Mr.w?(Mr.y+=lr.h,Mr.h-=lr.h):(Qe.push({x:Mr.x+lr.w,y:Mr.y,w:Mr.w-lr.w,h:lr.h}),Mr.y+=lr.h,Mr.h-=lr.h);break}}return{w:gt,h:Ct,fill:R/(gt*Ct)||0}}var Ol=1,ld=function(R,G){var ie=G.pixelRatio,pe=G.version,Se=G.stretchX,De=G.stretchY,Qe=G.content;this.paddedRect=R,this.pixelRatio=ie,this.stretchX=Se,this.stretchY=De,this.content=Qe,this.version=pe},cv={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};cv.tl.get=function(){return[this.paddedRect.x+Ol,this.paddedRect.y+Ol]},cv.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Ol,this.paddedRect.y+this.paddedRect.h-Ol]},cv.tlbr.get=function(){return this.tl.concat(this.br)},cv.displaySize.get=function(){return[(this.paddedRect.w-Ol*2)/this.pixelRatio,(this.paddedRect.h-Ol*2)/this.pixelRatio]},Object.defineProperties(ld.prototype,cv);var ud=function(R,G){var ie={},pe={};this.haveRenderCallbacks=[];var Se=[];this.addImages(R,ie,Se),this.addImages(G,pe,Se);var De=Gg(Se),Qe=De.w,gt=De.h,Ct=new bl({width:Qe||1,height:gt||1});for(var Dt in R){var jt=R[Dt],lr=ie[Dt].paddedRect;bl.copy(jt.data,Ct,{x:0,y:0},{x:lr.x+Ol,y:lr.y+Ol},jt.data)}for(var nr in G){var Mr=G[nr],Xr=pe[nr].paddedRect,mn=Xr.x+Ol,cn=Xr.y+Ol,Gn=Mr.data.width,Cn=Mr.data.height;bl.copy(Mr.data,Ct,{x:0,y:0},{x:mn,y:cn},Mr.data),bl.copy(Mr.data,Ct,{x:0,y:Cn-1},{x:mn,y:cn-1},{width:Gn,height:1}),bl.copy(Mr.data,Ct,{x:0,y:0},{x:mn,y:cn+Cn},{width:Gn,height:1}),bl.copy(Mr.data,Ct,{x:Gn-1,y:0},{x:mn-1,y:cn},{width:1,height:Cn}),bl.copy(Mr.data,Ct,{x:0,y:0},{x:mn+Gn,y:cn},{width:1,height:Cn})}this.image=Ct,this.iconPositions=ie,this.patternPositions=pe};ud.prototype.addImages=function(R,G,ie){for(var pe in R){var Se=R[pe],De={x:0,y:0,w:Se.data.width+2*Ol,h:Se.data.height+2*Ol};ie.push(De),G[pe]=new ld(De,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(pe)}},ud.prototype.patchUpdatedImages=function(R,G){R.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ie in R.updatedImages)this.patchUpdatedImage(this.iconPositions[ie],R.getImage(ie),G),this.patchUpdatedImage(this.patternPositions[ie],R.getImage(ie),G)},ud.prototype.patchUpdatedImage=function(R,G,ie){if(!(!R||!G)&&R.version!==G.version){R.version=G.version;var pe=R.tl,Se=pe[0],De=pe[1];ie.update(G.data,void 0,{x:Se,y:De})}},Ne("ImagePosition",ld),Ne("ImageAtlas",ud);var tu={horizontal:1,vertical:2,horizontalOnly:3},fd=-17;function px(P){for(var R=0,G=P;R<G.length;R+=1){var ie=G[R];if(ie.positionedGlyphs.length!==0)return!1}return!0}var Fh=57344,Wg=63743,hv=function(){this.scale=1,this.fontStack="",this.imageName=null};hv.forText=function(R,G){var ie=new hv;return ie.scale=R||1,ie.fontStack=G,ie},hv.forImage=function(R){var G=new hv;return G.imageName=R,G};var Zs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Zs.fromFeature=function(R,G){for(var ie=new Zs,pe=0;pe<R.sections.length;pe++){var Se=R.sections[pe];Se.image?ie.addImageSection(Se):ie.addTextSection(Se,G)}return ie},Zs.prototype.length=function(){return this.text.length},Zs.prototype.getSection=function(R){return this.sections[this.sectionIndex[R]]},Zs.prototype.getSectionIndex=function(R){return this.sectionIndex[R]},Zs.prototype.getCharCode=function(R){return this.text.charCodeAt(R)},Zs.prototype.verticalizePunctuation=function(){this.text=zi(this.text)},Zs.prototype.trim=function(){for(var R=0,G=0;G<this.text.length&&Vf[this.text.charCodeAt(G)];G++)R++;for(var ie=this.text.length,pe=this.text.length-1;pe>=0&&pe>=R&&Vf[this.text.charCodeAt(pe)];pe--)ie--;this.text=this.text.substring(R,ie),this.sectionIndex=this.sectionIndex.slice(R,ie)},Zs.prototype.substring=function(R,G){var ie=new Zs;return ie.text=this.text.substring(R,G),ie.sectionIndex=this.sectionIndex.slice(R,G),ie.sections=this.sections,ie},Zs.prototype.toString=function(){return this.text},Zs.prototype.getMaxScale=function(){var R=this;return this.sectionIndex.reduce(function(G,ie){return Math.max(G,R.sections[ie].scale)},0)},Zs.prototype.addTextSection=function(R,G){this.text+=R.text,this.sections.push(hv.forText(R.scale,R.fontStack||G));for(var ie=this.sections.length-1,pe=0;pe<R.text.length;++pe)this.sectionIndex.push(ie)},Zs.prototype.addImageSection=function(R){var G=R.image?R.image.name:"";if(G.length===0){F("Can't add FormattedSection with an empty image.");return}var ie=this.getNextImageSectionCharCode();if(!ie){F("Reached maximum number of images "+(Wg-Fh+2));return}this.text+=String.fromCharCode(ie),this.sections.push(hv.forImage(G)),this.sectionIndex.push(this.sections.length-1)},Zs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Wg?null:++this.imageSectionID:(this.imageSectionID=Fh,this.imageSectionID)};function gx(P,R){for(var G=[],ie=P.text,pe=0,Se=0,De=R;Se<De.length;Se+=1){var Qe=De[Se];G.push(P.substring(pe,Qe)),pe=Qe}return pe<ie.length&&G.push(P.substring(pe,ie.length)),G}function Qd(P,R,G,ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr,Xr){var mn=Zs.fromFeature(P,pe);jt===tu.vertical&&mn.verticalizePunctuation();var cn,Gn=ua.processBidirectionalText,Cn=ua.processStyledBidirectionalText;if(Gn&&mn.sections.length===1){cn=[];for(var Bn=Gn(mn.toString(),v0(mn,Ct,Se,R,ie,nr,Mr)),Zn=0,na=Bn;Zn<na.length;Zn+=1){var pa=na[Zn],va=new Zs;va.text=pa,va.sections=mn.sections;for(var Ua=0;Ua<pa.length;Ua++)va.sectionIndex.push(0);cn.push(va)}}else if(Cn){cn=[];for(var Oa=Cn(mn.text,mn.sectionIndex,v0(mn,Ct,Se,R,ie,nr,Mr)),Na=0,ui=Oa;Na<ui.length;Na+=1){var Va=ui[Na],Ga=new Zs;Ga.text=Va[0],Ga.sectionIndex=Va[1],Ga.sections=mn.sections,cn.push(Ga)}}else cn=gx(mn,v0(mn,Ct,Se,R,ie,nr,Mr));var hi=[],ii={positionedLines:hi,text:mn.toString(),top:Dt[1],bottom:Dt[1],left:Dt[0],right:Dt[0],writingMode:jt,iconsInText:!1,verticalizable:!1};return xx(ii,R,G,ie,cn,De,Qe,gt,jt,Ct,lr,Xr),px(hi)?!1:ii}var Vf={};Vf[9]=!0,Vf[10]=!0,Vf[11]=!0,Vf[12]=!0,Vf[13]=!0,Vf[32]=!0;var wl={};wl[10]=!0,wl[32]=!0,wl[38]=!0,wl[40]=!0,wl[41]=!0,wl[43]=!0,wl[45]=!0,wl[47]=!0,wl[173]=!0,wl[183]=!0,wl[8203]=!0,wl[8208]=!0,wl[8211]=!0,wl[8231]=!0;function Yg(P,R,G,ie,pe,Se){if(R.imageName){var gt=ie[R.imageName];return gt?gt.displaySize[0]*R.scale*ds/Se+pe:0}else{var De=G[R.fontStack],Qe=De&&De[P];return Qe?Qe.metrics.advance*R.scale+pe:0}}function yx(P,R,G,ie,pe,Se){for(var De=0,Qe=0;Qe<P.length();Qe++){var gt=P.getSection(Qe);De+=Yg(P.getCharCode(Qe),gt,ie,pe,R,Se)}var Ct=Math.max(1,Math.ceil(De/G));return De/Ct}function Xg(P,R,G,ie){var pe=Math.pow(P-R,2);return ie?P<R?pe/2:pe*2:pe+Math.abs(G)*G}function mx(P,R,G){var ie=0;return P===10&&(ie-=1e4),G&&(ie+=150),(P===40||P===65288)&&(ie+=50),(R===41||R===65289)&&(ie+=50),ie}function Zg(P,R,G,ie,pe,Se){for(var De=null,Qe=Xg(R,G,pe,Se),gt=0,Ct=ie;gt<Ct.length;gt+=1){var Dt=Ct[gt],jt=R-Dt.x,lr=Xg(jt,G,pe,Se)+Dt.badness;lr<=Qe&&(De=Dt,Qe=lr)}return{index:P,x:R,priorBreak:De,badness:Qe}}function jg(P){return P?jg(P.priorBreak).concat(P.index):[]}function v0(P,R,G,ie,pe,Se,De){if(Se!=="point")return[];if(!P)return[];for(var Qe=[],gt=yx(P,R,G,ie,pe,De),Ct=P.text.indexOf("")>=0,Dt=0,jt=0;jt<P.length();jt++){var lr=P.getSection(jt),nr=P.getCharCode(jt);if(Vf[nr]||(Dt+=Yg(nr,lr,ie,pe,R,De)),jt<P.length()-1){var Mr=sn(nr);(wl[nr]||Mr||lr.imageName)&&Qe.push(Zg(jt+1,Dt,gt,Qe,mx(nr,P.getCharCode(jt+1),Mr&&Ct),!1))}}return jg(Zg(P.length(),Dt,gt,Qe,0,!0))}function d0(P){var R=.5,G=.5;switch(P){case"right":case"top-right":case"bottom-right":R=1;break;case"left":case"top-left":case"bottom-left":R=0;break}switch(P){case"bottom":case"bottom-right":case"bottom-left":G=1;break;case"top":case"top-right":case"top-left":G=0;break}return{horizontalAlign:R,verticalAlign:G}}function xx(P,R,G,ie,pe,Se,De,Qe,gt,Ct,Dt,jt){for(var lr=0,nr=fd,Mr=0,Xr=0,mn=Qe==="right"?1:Qe==="left"?0:.5,cn=0,Gn=0,Cn=pe;Gn<Cn.length;Gn+=1){var Bn=Cn[Gn];Bn.trim();var Zn=Bn.getMaxScale(),na=(Zn-1)*ds,pa={positionedGlyphs:[],lineOffset:0};P.positionedLines[cn]=pa;var va=pa.positionedGlyphs,Ua=0;if(!Bn.length()){nr+=Se,++cn;continue}for(var Oa=0;Oa<Bn.length();Oa++){var Na=Bn.getSection(Oa),ui=Bn.getSectionIndex(Oa),Va=Bn.getCharCode(Oa),Ga=0,hi=null,ii=null,Hi=null,so=ds,Gi=!(gt===tu.horizontal||!Dt&&!dn(Va)||Dt&&(Vf[Va]||nn(Va)));if(Na.imageName){var Zo=ie[Na.imageName];if(!Zo)continue;Hi=Na.imageName,P.iconsInText=P.iconsInText||!0,ii=Zo.paddedRect;var ns=Zo.displaySize;Na.scale=Na.scale*ds/jt,hi={width:ns[0],height:ns[1],left:Ol,top:-Hg,advance:Gi?ns[1]:ns[0]};var Fs=ds-ns[1]*Na.scale;Ga=na+Fs,so=hi.advance;var gs=Gi?ns[0]*Na.scale-ds*Zn:ns[1]*Na.scale-ds*Zn;gs>0&&gs>Ua&&(Ua=gs)}else{var Wi=G[Na.fontStack],Ni=Wi&&Wi[Va];if(Ni&&Ni.rect)ii=Ni.rect,hi=Ni.metrics;else{var yo=R[Na.fontStack],Ao=yo&&yo[Va];if(!Ao)continue;hi=Ao.metrics}Ga=(Zn-Na.scale)*ds}Gi?(P.verticalizable=!0,va.push({glyph:Va,imageName:Hi,x:lr,y:nr+Ga,vertical:Gi,scale:Na.scale,fontStack:Na.fontStack,sectionIndex:ui,metrics:hi,rect:ii}),lr+=so*Na.scale+Ct):(va.push({glyph:Va,imageName:Hi,x:lr,y:nr+Ga,vertical:Gi,scale:Na.scale,fontStack:Na.fontStack,sectionIndex:ui,metrics:hi,rect:ii}),lr+=hi.advance*Na.scale+Ct)}if(va.length!==0){var Al=lr-Ct;Mr=Math.max(Al,Mr),bx(va,0,va.length-1,mn,Ua)}lr=0;var Ml=Se*Zn+Ua;pa.lineOffset=Math.max(Ua,na),nr+=Ml,Xr=Math.max(Ml,Xr),++cn}var Ns=nr-fd,zl=d0(De),Fl=zl.horizontalAlign,Ls=zl.verticalAlign;wx(P.positionedLines,mn,Fl,Ls,Mr,Xr,Se,Ns,pe.length),P.top+=-Ls*Ns,P.bottom=P.top+Ns,P.left+=-Fl*Mr,P.right=P.left+Mr}function bx(P,R,G,ie,pe){if(!(!ie&&!pe))for(var Se=P[G],De=Se.metrics.advance*Se.scale,Qe=(P[G].x+De)*ie,gt=R;gt<=G;gt++)P[gt].x-=Qe,P[gt].y+=pe}function wx(P,R,G,ie,pe,Se,De,Qe,gt){var Ct=(R-G)*pe,Dt=0;Se!==De?Dt=-Qe*ie-fd:Dt=(-ie*gt+.5)*De;for(var jt=0,lr=P;jt<lr.length;jt+=1)for(var nr=lr[jt],Mr=0,Xr=nr.positionedGlyphs;Mr<Xr.length;Mr+=1){var mn=Xr[Mr];mn.x+=Ct,mn.y+=Dt}}function Tx(P,R,G){var ie=d0(G),pe=ie.horizontalAlign,Se=ie.verticalAlign,De=R[0],Qe=R[1],gt=De-P.displaySize[0]*pe,Ct=gt+P.displaySize[0],Dt=Qe-P.displaySize[1]*Se,jt=Dt+P.displaySize[1];return{image:P,top:Dt,bottom:jt,left:gt,right:Ct}}function Kg(P,R,G,ie,pe,Se){var De=P.image,Qe;if(De.content){var gt=De.content,Ct=De.pixelRatio||1;Qe=[gt[0]/Ct,gt[1]/Ct,De.displaySize[0]-gt[2]/Ct,De.displaySize[1]-gt[3]/Ct]}var Dt=R.left*Se,jt=R.right*Se,lr,nr,Mr,Xr;G==="width"||G==="both"?(Xr=pe[0]+Dt-ie[3],nr=pe[0]+jt+ie[1]):(Xr=pe[0]+(Dt+jt-De.displaySize[0])/2,nr=Xr+De.displaySize[0]);var mn=R.top*Se,cn=R.bottom*Se;return G==="height"||G==="both"?(lr=pe[1]+mn-ie[0],Mr=pe[1]+cn+ie[2]):(lr=pe[1]+(mn+cn-De.displaySize[1])/2,Mr=lr+De.displaySize[1]),{image:De,top:lr,right:nr,bottom:Mr,left:Xr,collisionPadding:Qe}}var vv=function(P){function R(G,ie,pe,Se){P.call(this,G,ie),this.angle=pe,Se!==void 0&&(this.segment=Se)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.clone=function(){return new R(this.x,this.y,this.angle,this.segment)},R}(r);Ne("Anchor",vv);var Hf=128;function p0(P,R){var G=R.expression;if(G.kind==="constant"){var ie=G.evaluate(new Fa(P+1));return{kind:"constant",layoutSize:ie}}else{if(G.kind==="source")return{kind:"source"};for(var pe=G.zoomStops,Se=G.interpolationType,De=0;De<pe.length&&pe[De]<=P;)De++;De=Math.max(0,De-1);for(var Qe=De;Qe<pe.length&&pe[Qe]<P+1;)Qe++;Qe=Math.min(pe.length-1,Qe);var gt=pe[De],Ct=pe[Qe];if(G.kind==="composite")return{kind:"composite",minZoom:gt,maxZoom:Ct,interpolationType:Se};var Dt=G.evaluate(new Fa(gt)),jt=G.evaluate(new Fa(Ct));return{kind:"camera",minZoom:gt,maxZoom:Ct,minSize:Dt,maxSize:jt,interpolationType:Se}}}function Jg(P,R,G){var ie=R.uSize,pe=R.uSizeT,Se=G.lowerSize,De=G.upperSize;return P.kind==="source"?Se/Hf:P.kind==="composite"?eo(Se/Hf,De/Hf,pe):ie}function $g(P,R){var G=0,ie=0;if(P.kind==="constant")ie=P.layoutSize;else if(P.kind!=="source"){var pe=P.interpolationType,Se=P.minZoom,De=P.maxZoom,Qe=pe?h(go.interpolationFactor(pe,R,Se,De),0,1):0;P.kind==="camera"?ie=eo(P.minSize,P.maxSize,Qe):G=Qe}return{uSizeT:G,uSize:ie}}var Ax=Object.freeze({__proto__:null,getSizeData:p0,evaluateSizeForFeature:Jg,evaluateSizeForZoom:$g,SIZE_PACK_FACTOR:Hf});function Qg(P,R,G,ie,pe){if(R.segment===void 0)return!0;for(var Se=R,De=R.segment+1,Qe=0;Qe>-G/2;){if(De--,De<0)return!1;Qe-=P[De].dist(Se),Se=P[De]}Qe+=P[De].dist(P[De+1]),De++;for(var gt=[],Ct=0;Qe<G/2;){var Dt=P[De-1],jt=P[De],lr=P[De+1];if(!lr)return!1;var nr=Dt.angleTo(jt)-jt.angleTo(lr);for(nr=Math.abs((nr+3*Math.PI)%(Math.PI*2)-Math.PI),gt.push({distance:Qe,angleDelta:nr}),Ct+=nr;Qe-gt[0].distance>ie;)Ct-=gt.shift().angleDelta;if(Ct>pe)return!1;De++,Qe+=jt.dist(lr)}return!0}function qg(P){for(var R=0,G=0;G<P.length-1;G++)R+=P[G].dist(P[G+1]);return R}function ey(P,R,G){return P?.6*R*G:0}function ty(P,R){return Math.max(P?P.right-P.left:0,R?R.right-R.left:0)}function Mx(P,R,G,ie,pe,Se){for(var De=ey(G,pe,Se),Qe=ty(G,ie)*Se,gt=0,Ct=qg(P)/2,Dt=0;Dt<P.length-1;Dt++){var jt=P[Dt],lr=P[Dt+1],nr=jt.dist(lr);if(gt+nr>Ct){var Mr=(Ct-gt)/nr,Xr=eo(jt.x,lr.x,Mr),mn=eo(jt.y,lr.y,Mr),cn=new vv(Xr,mn,lr.angleTo(jt),Dt);return cn._round(),!De||Qg(P,cn,Qe,De,R)?cn:void 0}gt+=nr}}function Sx(P,R,G,ie,pe,Se,De,Qe,gt){var Ct=ey(ie,Se,De),Dt=ty(ie,pe),jt=Dt*De,lr=P[0].x===0||P[0].x===gt||P[0].y===0||P[0].y===gt;R-jt<R/4&&(R=jt+R/4);var nr=Se*2,Mr=lr?R/2*Qe%R:(Dt/2+nr)*De*Qe%R;return qd(P,Mr,R,Ct,G,jt,lr,!1,gt)}function qd(P,R,G,ie,pe,Se,De,Qe,gt){for(var Ct=Se/2,Dt=qg(P),jt=0,lr=R-G,nr=[],Mr=0;Mr<P.length-1;Mr++){for(var Xr=P[Mr],mn=P[Mr+1],cn=Xr.dist(mn),Gn=mn.angleTo(Xr);lr+G<jt+cn;){lr+=G;var Cn=(lr-jt)/cn,Bn=eo(Xr.x,mn.x,Cn),Zn=eo(Xr.y,mn.y,Cn);if(Bn>=0&&Bn<gt&&Zn>=0&&Zn<gt&&lr-Ct>=0&&lr+Ct<=Dt){var na=new vv(Bn,Zn,Gn,Mr);na._round(),(!ie||Qg(P,na,Se,ie,pe))&&nr.push(na)}}jt+=cn}return!Qe&&!nr.length&&!De&&(nr=qd(P,jt/2,G,ie,pe,Se,De,!0,gt)),nr}function g0(P,R,G,ie,pe){for(var Se=[],De=0;De<P.length;De++)for(var Qe=P[De],gt=void 0,Ct=0;Ct<Qe.length-1;Ct++){var Dt=Qe[Ct],jt=Qe[Ct+1];Dt.x<R&&jt.x<R||(Dt.x<R?Dt=new r(R,Dt.y+(jt.y-Dt.y)*((R-Dt.x)/(jt.x-Dt.x)))._round():jt.x<R&&(jt=new r(R,Dt.y+(jt.y-Dt.y)*((R-Dt.x)/(jt.x-Dt.x)))._round()),!(Dt.y<G&&jt.y<G)&&(Dt.y<G?Dt=new r(Dt.x+(jt.x-Dt.x)*((G-Dt.y)/(jt.y-Dt.y)),G)._round():jt.y<G&&(jt=new r(Dt.x+(jt.x-Dt.x)*((G-Dt.y)/(jt.y-Dt.y)),G)._round()),!(Dt.x>=ie&&jt.x>=ie)&&(Dt.x>=ie?Dt=new r(ie,Dt.y+(jt.y-Dt.y)*((ie-Dt.x)/(jt.x-Dt.x)))._round():jt.x>=ie&&(jt=new r(ie,Dt.y+(jt.y-Dt.y)*((ie-Dt.x)/(jt.x-Dt.x)))._round()),!(Dt.y>=pe&&jt.y>=pe)&&(Dt.y>=pe?Dt=new r(Dt.x+(jt.x-Dt.x)*((pe-Dt.y)/(jt.y-Dt.y)),pe)._round():jt.y>=pe&&(jt=new r(Dt.x+(jt.x-Dt.x)*((pe-Dt.y)/(jt.y-Dt.y)),pe)._round()),(!gt||!Dt.equals(gt[gt.length-1]))&&(gt=[Dt],Se.push(gt)),gt.push(jt)))))}return Se}var Nh=Ol;function ry(P,R,G,ie){var pe=[],Se=P.image,De=Se.pixelRatio,Qe=Se.paddedRect.w-2*Nh,gt=Se.paddedRect.h-2*Nh,Ct=P.right-P.left,Dt=P.bottom-P.top,jt=Se.stretchX||[[0,Qe]],lr=Se.stretchY||[[0,gt]],nr=function(Wi,Ni){return Wi+Ni[1]-Ni[0]},Mr=jt.reduce(nr,0),Xr=lr.reduce(nr,0),mn=Qe-Mr,cn=gt-Xr,Gn=0,Cn=Mr,Bn=0,Zn=Xr,na=0,pa=mn,va=0,Ua=cn;if(Se.content&&ie){var Oa=Se.content;Gn=ep(jt,0,Oa[0]),Bn=ep(lr,0,Oa[1]),Cn=ep(jt,Oa[0],Oa[2]),Zn=ep(lr,Oa[1],Oa[3]),na=Oa[0]-Gn,va=Oa[1]-Bn,pa=Oa[2]-Oa[0]-Cn,Ua=Oa[3]-Oa[1]-Zn}var Na=function(Wi,Ni,yo,Ao){var Zo=dv(Wi.stretch-Gn,Cn,Ct,P.left),ns=tp(Wi.fixed-na,pa,Wi.stretch,Mr),Fs=dv(Ni.stretch-Bn,Zn,Dt,P.top),gs=tp(Ni.fixed-va,Ua,Ni.stretch,Xr),Al=dv(yo.stretch-Gn,Cn,Ct,P.left),Ml=tp(yo.fixed-na,pa,yo.stretch,Mr),Ns=dv(Ao.stretch-Bn,Zn,Dt,P.top),zl=tp(Ao.fixed-va,Ua,Ao.stretch,Xr),Fl=new r(Zo,Fs),Ls=new r(Al,Fs),Nl=new r(Al,Ns),vf=new r(Zo,Ns),Vh=new r(ns/De,gs/De),wv=new r(Ml/De,zl/De),Tv=R*Math.PI/180;if(Tv){var Av=Math.sin(Tv),ip=Math.cos(Tv),pc=[ip,-Av,Av,ip];Fl._matMult(pc),Ls._matMult(pc),vf._matMult(pc),Nl._matMult(pc)}var uy=Wi.stretch+Wi.fixed,Zx=yo.stretch+yo.fixed,fy=Ni.stretch+Ni.fixed,jx=Ao.stretch+Ao.fixed,Wf={x:Se.paddedRect.x+Nh+uy,y:Se.paddedRect.y+Nh+fy,w:Zx-uy,h:jx-fy},op=pa/De/Ct,cy=Ua/De/Dt;return{tl:Fl,tr:Ls,bl:vf,br:Nl,tex:Wf,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Vh,pixelOffsetBR:wv,minFontScaleX:op,minFontScaleY:cy,isSDF:G}};if(!ie||!Se.stretchX&&!Se.stretchY)pe.push(Na({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Qe+1},{fixed:0,stretch:gt+1}));else for(var ui=ny(jt,mn,Mr),Va=ny(lr,cn,Xr),Ga=0;Ga<ui.length-1;Ga++)for(var hi=ui[Ga],ii=ui[Ga+1],Hi=0;Hi<Va.length-1;Hi++){var so=Va[Hi],Gi=Va[Hi+1];pe.push(Na(hi,so,ii,Gi))}return pe}function ep(P,R,G){for(var ie=0,pe=0,Se=P;pe<Se.length;pe+=1){var De=Se[pe];ie+=Math.max(R,Math.min(G,De[1]))-Math.max(R,Math.min(G,De[0]))}return ie}function ny(P,R,G){for(var ie=[{fixed:-Nh,stretch:0}],pe=0,Se=P;pe<Se.length;pe+=1){var De=Se[pe],Qe=De[0],gt=De[1],Ct=ie[ie.length-1];ie.push({fixed:Qe-Ct.stretch,stretch:Ct.stretch}),ie.push({fixed:Qe-Ct.stretch,stretch:Ct.stretch+(gt-Qe)})}return ie.push({fixed:R+Nh,stretch:G}),ie}function dv(P,R,G,ie){return P/R*G+ie}function tp(P,R,G,ie){return P-R*G/ie}function Ex(P,R,G,ie,pe,Se,De,Qe){for(var gt=ie.layout.get("text-rotate").evaluate(Se,{})*Math.PI/180,Ct=[],Dt=0,jt=R.positionedLines;Dt<jt.length;Dt+=1)for(var lr=jt[Dt],nr=0,Mr=lr.positionedGlyphs;nr<Mr.length;nr+=1){var Xr=Mr[nr];if(Xr.rect){var mn=Xr.rect||{},cn=1,Gn=Hg+cn,Cn=!0,Bn=1,Zn=0,na=(pe||Qe)&&Xr.vertical,pa=Xr.metrics.advance*Xr.scale/2;if(Qe&&R.verticalizable){var va=(Xr.scale-1)*ds,Ua=(ds-Xr.metrics.width*Xr.scale)/2;Zn=lr.lineOffset/2-(Xr.imageName?-Ua:va)}if(Xr.imageName){var Oa=De[Xr.imageName];Cn=Oa.sdf,Bn=Oa.pixelRatio,Gn=Ol/Bn}var Na=pe?[Xr.x+pa,Xr.y]:[0,0],ui=pe?[0,0]:[Xr.x+pa+G[0],Xr.y+G[1]-Zn],Va=[0,0];na&&(Va=ui,ui=[0,0]);var Ga=(Xr.metrics.left-Gn)*Xr.scale-pa+ui[0],hi=(-Xr.metrics.top-Gn)*Xr.scale+ui[1],ii=Ga+mn.w*Xr.scale/Bn,Hi=hi+mn.h*Xr.scale/Bn,so=new r(Ga,hi),Gi=new r(ii,hi),Wi=new r(Ga,Hi),Ni=new r(ii,Hi);if(na){var yo=new r(-pa,pa-fd),Ao=-Math.PI/2,Zo=ds/2-pa,ns=Xr.imageName?Zo:0,Fs=new r(5-fd-Zo,-ns),gs=new(Function.prototype.bind.apply(r,[null].concat(Va)));so._rotateAround(Ao,yo)._add(Fs)._add(gs),Gi._rotateAround(Ao,yo)._add(Fs)._add(gs),Wi._rotateAround(Ao,yo)._add(Fs)._add(gs),Ni._rotateAround(Ao,yo)._add(Fs)._add(gs)}if(gt){var Al=Math.sin(gt),Ml=Math.cos(gt),Ns=[Ml,-Al,Al,Ml];so._matMult(Ns),Gi._matMult(Ns),Wi._matMult(Ns),Ni._matMult(Ns)}var zl=new r(0,0),Fl=new r(0,0),Ls=0,Nl=0;Ct.push({tl:so,tr:Gi,bl:Wi,br:Ni,tex:mn,writingMode:R.writingMode,glyphOffset:Na,sectionIndex:Xr.sectionIndex,isSDF:Cn,pixelOffsetTL:zl,pixelOffsetBR:Fl,minFontScaleX:Ls,minFontScaleY:Nl})}}return Ct}var rp=function(R,G,ie,pe,Se,De,Qe,gt,Ct,Dt){if(this.boxStartIndex=R.length,Ct){var jt=De.top,lr=De.bottom,nr=De.collisionPadding;nr&&(jt-=nr[1],lr+=nr[3]);var Mr=lr-jt;Mr>0&&(Mr=Math.max(10,Mr),this.circleDiameter=Mr)}else{var Xr=De.top*Qe-gt,mn=De.bottom*Qe+gt,cn=De.left*Qe-gt,Gn=De.right*Qe+gt,Cn=De.collisionPadding;if(Cn&&(cn-=Cn[0]*Qe,Xr-=Cn[1]*Qe,Gn+=Cn[2]*Qe,mn+=Cn[3]*Qe),Dt){var Bn=new r(cn,Xr),Zn=new r(Gn,Xr),na=new r(cn,mn),pa=new r(Gn,mn),va=Dt*Math.PI/180;Bn._rotate(va),Zn._rotate(va),na._rotate(va),pa._rotate(va),cn=Math.min(Bn.x,Zn.x,na.x,pa.x),Gn=Math.max(Bn.x,Zn.x,na.x,pa.x),Xr=Math.min(Bn.y,Zn.y,na.y,pa.y),mn=Math.max(Bn.y,Zn.y,na.y,pa.y)}R.emplaceBack(G.x,G.y,cn,Xr,Gn,mn,ie,pe,Se)}this.boxEndIndex=R.length},Os=function(R,G){if(R===void 0&&(R=[]),G===void 0&&(G=y0),this.data=R,this.length=this.data.length,this.compare=G,this.length>0)for(var ie=(this.length>>1)-1;ie>=0;ie--)this._down(ie)};Os.prototype.push=function(R){this.data.push(R),this.length++,this._up(this.length-1)},Os.prototype.pop=function(){if(this.length!==0){var R=this.data[0],G=this.data.pop();return this.length--,this.length>0&&(this.data[0]=G,this._down(0)),R}},Os.prototype.peek=function(){return this.data[0]},Os.prototype._up=function(R){for(var G=this,ie=G.data,pe=G.compare,Se=ie[R];R>0;){var De=R-1>>1,Qe=ie[De];if(pe(Se,Qe)>=0)break;ie[R]=Qe,R=De}ie[R]=Se},Os.prototype._down=function(R){for(var G=this,ie=G.data,pe=G.compare,Se=this.length>>1,De=ie[R];R<Se;){var Qe=(R<<1)+1,gt=ie[Qe],Ct=Qe+1;if(Ct<this.length&&pe(ie[Ct],gt)<0&&(Qe=Ct,gt=ie[Ct]),pe(gt,De)>=0)break;ie[R]=gt,R=Qe}ie[R]=De};function y0(P,R){return P<R?-1:P>R?1:0}function Cx(P,R,G){R===void 0&&(R=1),G===void 0&&(G=!1);for(var ie=1/0,pe=1/0,Se=-1/0,De=-1/0,Qe=P[0],gt=0;gt<Qe.length;gt++){var Ct=Qe[gt];(!gt||Ct.x<ie)&&(ie=Ct.x),(!gt||Ct.y<pe)&&(pe=Ct.y),(!gt||Ct.x>Se)&&(Se=Ct.x),(!gt||Ct.y>De)&&(De=Ct.y)}var Dt=Se-ie,jt=De-pe,lr=Math.min(Dt,jt),nr=lr/2,Mr=new Os([],Lx);if(lr===0)return new r(ie,pe);for(var Xr=ie;Xr<Se;Xr+=lr)for(var mn=pe;mn<De;mn+=lr)Mr.push(new pv(Xr+nr,mn+nr,nr,P));for(var cn=m0(P),Gn=Mr.length;Mr.length;){var Cn=Mr.pop();(Cn.d>cn.d||!cn.d)&&(cn=Cn,G&&console.log("found best %d after %d probes",Math.round(1e4*Cn.d)/1e4,Gn)),!(Cn.max-cn.d<=R)&&(nr=Cn.h/2,Mr.push(new pv(Cn.p.x-nr,Cn.p.y-nr,nr,P)),Mr.push(new pv(Cn.p.x+nr,Cn.p.y-nr,nr,P)),Mr.push(new pv(Cn.p.x-nr,Cn.p.y+nr,nr,P)),Mr.push(new pv(Cn.p.x+nr,Cn.p.y+nr,nr,P)),Gn+=4)}return G&&(console.log("num probes: "+Gn),console.log("best distance: "+cn.d)),cn.p}function Lx(P,R){return R.max-P.max}function pv(P,R,G,ie){this.p=new r(P,R),this.h=G,this.d=_x(this.p,ie),this.max=this.d+this.h*Math.SQRT2}function _x(P,R){for(var G=!1,ie=1/0,pe=0;pe<R.length;pe++)for(var Se=R[pe],De=0,Qe=Se.length,gt=Qe-1;De<Qe;gt=De++){var Ct=Se[De],Dt=Se[gt];Ct.y>P.y!=Dt.y>P.y&&P.x<(Dt.x-Ct.x)*(P.y-Ct.y)/(Dt.y-Ct.y)+Ct.x&&(G=!G),ie=Math.min(ie,Hc(P,Ct,Dt))}return(G?1:-1)*Math.sqrt(ie)}function m0(P){for(var R=0,G=0,ie=0,pe=P[0],Se=0,De=pe.length,Qe=De-1;Se<De;Qe=Se++){var gt=pe[Se],Ct=pe[Qe],Dt=gt.x*Ct.y-Ct.x*gt.y;G+=(gt.x+Ct.x)*Dt,ie+=(gt.y+Ct.y)*Dt,R+=Dt*3}return new pv(G/R,ie/R,0,P)}var gv=7,cd=Number.POSITIVE_INFINITY;function ay(P,R){function G(pe,Se){var De=0,Qe=0;Se<0&&(Se=0);var gt=Se/Math.sqrt(2);switch(pe){case"top-right":case"top-left":Qe=gt-gv;break;case"bottom-right":case"bottom-left":Qe=-gt+gv;break;case"bottom":Qe=-Se+gv;break;case"top":Qe=Se-gv;break}switch(pe){case"top-right":case"bottom-right":De=-gt;break;case"top-left":case"bottom-left":De=gt;break;case"left":De=Se;break;case"right":De=-Se;break}return[De,Qe]}function ie(pe,Se,De){var Qe=0,gt=0;switch(Se=Math.abs(Se),De=Math.abs(De),pe){case"top-right":case"top-left":case"top":gt=De-gv;break;case"bottom-right":case"bottom-left":case"bottom":gt=-De+gv;break}switch(pe){case"top-right":case"bottom-right":case"right":Qe=-Se;break;case"top-left":case"bottom-left":case"left":Qe=Se;break}return[Qe,gt]}return R[1]!==cd?ie(P,R[0],R[1]):G(P,R[0])}function Px(P,R,G,ie,pe,Se,De){P.createArrays();var Qe=512*P.overscaling;P.tilePixelRatio=Ba/Qe,P.compareText={},P.iconsNeedLinear=!1;var gt=P.layers[0].layout,Ct=P.layers[0]._unevaluatedLayout._values,Dt={};if(P.textSizeData.kind==="composite"){var jt=P.textSizeData,lr=jt.minZoom,nr=jt.maxZoom;Dt.compositeTextSizes=[Ct["text-size"].possiblyEvaluate(new Fa(lr),De),Ct["text-size"].possiblyEvaluate(new Fa(nr),De)]}if(P.iconSizeData.kind==="composite"){var Mr=P.iconSizeData,Xr=Mr.minZoom,mn=Mr.maxZoom;Dt.compositeIconSizes=[Ct["icon-size"].possiblyEvaluate(new Fa(Xr),De),Ct["icon-size"].possiblyEvaluate(new Fa(mn),De)]}Dt.layoutTextSize=Ct["text-size"].possiblyEvaluate(new Fa(P.zoom+1),De),Dt.layoutIconSize=Ct["icon-size"].possiblyEvaluate(new Fa(P.zoom+1),De),Dt.textMaxSize=Ct["text-size"].possiblyEvaluate(new Fa(18));for(var cn=gt.get("text-line-height")*ds,Gn=gt.get("text-rotation-alignment")==="map"&&gt.get("symbol-placement")!=="point",Cn=gt.get("text-keep-upright"),Bn=gt.get("text-size"),Zn=function(){var va=pa[na],Ua=gt.get("text-font").evaluate(va,{},De).join(","),Oa=Bn.evaluate(va,{},De),Na=Dt.layoutTextSize.evaluate(va,{},De),ui=Dt.layoutIconSize.evaluate(va,{},De),Va={horizontal:{},vertical:void 0},Ga=va.text,hi=[0,0];if(Ga){var ii=Ga.toString(),Hi=gt.get("text-letter-spacing").evaluate(va,{},De)*ds,so=Ir(ii)?Hi:0,Gi=gt.get("text-anchor").evaluate(va,{},De),Wi=gt.get("text-variable-anchor");if(!Wi){var Ni=gt.get("text-radial-offset").evaluate(va,{},De);Ni?hi=ay(Gi,[Ni*ds,cd]):hi=gt.get("text-offset").evaluate(va,{},De).map(function(Vh){return Vh*ds})}var yo=Gn?"center":gt.get("text-justify").evaluate(va,{},De),Ao=gt.get("symbol-placement"),Zo=Ao==="point"?gt.get("text-max-width").evaluate(va,{},De)*ds:0,ns=function(){P.allowVerticalPlacement&&ir(ii)&&(Va.vertical=Qd(Ga,R,G,pe,Ua,Zo,cn,Gi,"left",so,hi,tu.vertical,!0,Ao,Na,Oa))};if(!Gn&&Wi){for(var Fs=yo==="auto"?Wi.map(function(Vh){return x0(Vh)}):[yo],gs=!1,Al=0;Al<Fs.length;Al++){var Ml=Fs[Al];if(!Va.horizontal[Ml])if(gs)Va.horizontal[Ml]=Va.horizontal[0];else{var Ns=Qd(Ga,R,G,pe,Ua,Zo,cn,"center",Ml,so,hi,tu.horizontal,!1,Ao,Na,Oa);Ns&&(Va.horizontal[Ml]=Ns,gs=Ns.positionedLines.length===1)}}ns()}else{yo==="auto"&&(yo=x0(Gi));var zl=Qd(Ga,R,G,pe,Ua,Zo,cn,Gi,yo,so,hi,tu.horizontal,!1,Ao,Na,Oa);zl&&(Va.horizontal[yo]=zl),ns(),ir(ii)&&Gn&&Cn&&(Va.vertical=Qd(Ga,R,G,pe,Ua,Zo,cn,Gi,yo,so,hi,tu.vertical,!1,Ao,Na,Oa))}}var Fl=void 0,Ls=!1;if(va.icon&&va.icon.name){var Nl=ie[va.icon.name];Nl&&(Fl=Tx(pe[va.icon.name],gt.get("icon-offset").evaluate(va,{},De),gt.get("icon-anchor").evaluate(va,{},De)),Ls=Nl.sdf,P.sdfIcons===void 0?P.sdfIcons=Nl.sdf:P.sdfIcons!==Nl.sdf&&F("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Nl.pixelRatio!==P.pixelRatio||gt.get("icon-rotate").constantOr(1)!==0)&&(P.iconsNeedLinear=!0))}var vf=oy(Va.horizontal)||Va.vertical;P.iconsInText=vf?vf.iconsInText:!1,(vf||Fl)&&Rx(P,va,Va,Fl,ie,Dt,Na,ui,hi,Ls,De)},na=0,pa=P.features;na<pa.length;na+=1)Zn();Se&&P.generateCollisionDebugBuffers()}function x0(P){switch(P){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Rx(P,R,G,ie,pe,Se,De,Qe,gt,Ct,Dt){var jt=Se.textMaxSize.evaluate(R,{});jt===void 0&&(jt=De);var lr=P.layers[0].layout,nr=lr.get("icon-offset").evaluate(R,{},Dt),Mr=oy(G.horizontal),Xr=24,mn=De/Xr,cn=P.tilePixelRatio*mn,Gn=P.tilePixelRatio*jt/Xr,Cn=P.tilePixelRatio*Qe,Bn=P.tilePixelRatio*lr.get("symbol-spacing"),Zn=lr.get("text-padding")*P.tilePixelRatio,na=lr.get("icon-padding")*P.tilePixelRatio,pa=lr.get("text-max-angle")/180*Math.PI,va=lr.get("text-rotation-alignment")==="map"&&lr.get("symbol-placement")!=="point",Ua=lr.get("icon-rotation-alignment")==="map"&&lr.get("symbol-placement")!=="point",Oa=lr.get("symbol-placement"),Na=Bn/2,ui=lr.get("icon-text-fit"),Va;ie&&ui!=="none"&&(P.allowVerticalPlacement&&G.vertical&&(Va=Kg(ie,G.vertical,ui,lr.get("icon-text-fit-padding"),nr,mn)),Mr&&(ie=Kg(ie,Mr,ui,lr.get("icon-text-fit-padding"),nr,mn)));var Ga=function(ip,pc){pc.x<0||pc.x>=Ba||pc.y<0||pc.y>=Ba||b0(P,pc,ip,G,ie,pe,Va,P.layers[0],P.collisionBoxArray,R.index,R.sourceLayerIndex,P.index,cn,Zn,va,gt,Cn,na,Ua,nr,R,Se,Ct,Dt,De)};if(Oa==="line")for(var hi=0,ii=g0(R.geometry,0,0,Ba,Ba);hi<ii.length;hi+=1)for(var Hi=ii[hi],so=Sx(Hi,Bn,pa,G.vertical||Mr,ie,Xr,Gn,P.overscaling,Ba),Gi=0,Wi=so;Gi<Wi.length;Gi+=1){var Ni=Wi[Gi],yo=Mr;(!yo||!w0(P,yo.text,Na,Ni))&&Ga(Hi,Ni)}else if(Oa==="line-center")for(var Ao=0,Zo=R.geometry;Ao<Zo.length;Ao+=1){var ns=Zo[Ao];if(ns.length>1){var Fs=Mx(ns,pa,G.vertical||Mr,ie,Xr,Gn);Fs&&Ga(ns,Fs)}}else if(R.type==="Polygon")for(var gs=0,Al=sv(R.geometry,0);gs<Al.length;gs+=1){var Ml=Al[gs],Ns=Cx(Ml,16);Ga(Ml[0],new vv(Ns.x,Ns.y,0))}else if(R.type==="LineString")for(var zl=0,Fl=R.geometry;zl<Fl.length;zl+=1){var Ls=Fl[zl];Ga(Ls,new vv(Ls[0].x,Ls[0].y,0))}else if(R.type==="Point")for(var Nl=0,vf=R.geometry;Nl<vf.length;Nl+=1)for(var Vh=vf[Nl],wv=0,Tv=Vh;wv<Tv.length;wv+=1){var Av=Tv[wv];Ga([Av],new vv(Av.x,Av.y,0))}}var yv=255,bh=yv*Hf;function iy(P,R,G,ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr){var Xr=Ex(R,G,Qe,pe,Se,De,ie,P.allowVerticalPlacement),mn=P.textSizeData,cn=null;mn.kind==="source"?(cn=[Hf*pe.layout.get("text-size").evaluate(De,{})],cn[0]>bh&&F(P.layerIds[0]+': Value for "text-size" is >= '+yv+'. Reduce your "text-size".')):mn.kind==="composite"&&(cn=[Hf*nr.compositeTextSizes[0].evaluate(De,{},Mr),Hf*nr.compositeTextSizes[1].evaluate(De,{},Mr)],(cn[0]>bh||cn[1]>bh)&&F(P.layerIds[0]+': Value for "text-size" is >= '+yv+'. Reduce your "text-size".')),P.addSymbols(P.text,Xr,cn,Qe,Se,De,Ct,R,gt.lineStartIndex,gt.lineLength,lr,Mr);for(var Gn=0,Cn=Dt;Gn<Cn.length;Gn+=1){var Bn=Cn[Gn];jt[Bn]=P.text.placedSymbolArray.length-1}return Xr.length*4}function oy(P){for(var R in P)return P[R];return null}function b0(P,R,G,ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr,nr,Mr,Xr,mn,cn,Gn,Cn,Bn,Zn,na,pa,va){var Ua,Oa=P.addToLineVertexArray(R,G),Na,ui,Va,Ga,hi=0,ii=0,Hi=0,so=0,Gi=-1,Wi=-1,Ni={},yo=ge(""),Ao=0,Zo=0;if(Qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ua=Qe.layout.get("text-offset").evaluate(Bn,{},pa).map(function(S0){return S0*ds}),Ao=Ua[0],Zo=Ua[1]):(Ao=Qe.layout.get("text-radial-offset").evaluate(Bn,{},pa)*ds,Zo=cd),P.allowVerticalPlacement&&ie.vertical){var ns=Qe.layout.get("text-rotate").evaluate(Bn,{},pa),Fs=ns+90,gs=ie.vertical;Va=new rp(gt,R,Ct,Dt,jt,gs,lr,nr,Mr,Fs),De&&(Ga=new rp(gt,R,Ct,Dt,jt,De,mn,cn,Mr,Fs))}if(pe){var Al=Qe.layout.get("icon-rotate").evaluate(Bn,{}),Ml=Qe.layout.get("icon-text-fit")!=="none",Ns=ry(pe,Al,na,Ml),zl=De?ry(De,Al,na,Ml):void 0;ui=new rp(gt,R,Ct,Dt,jt,pe,mn,cn,!1,Al),hi=Ns.length*4;var Fl=P.iconSizeData,Ls=null;Fl.kind==="source"?(Ls=[Hf*Qe.layout.get("icon-size").evaluate(Bn,{})],Ls[0]>bh&&F(P.layerIds[0]+': Value for "icon-size" is >= '+yv+'. Reduce your "icon-size".')):Fl.kind==="composite"&&(Ls=[Hf*Zn.compositeIconSizes[0].evaluate(Bn,{},pa),Hf*Zn.compositeIconSizes[1].evaluate(Bn,{},pa)],(Ls[0]>bh||Ls[1]>bh)&&F(P.layerIds[0]+': Value for "icon-size" is >= '+yv+'. Reduce your "icon-size".')),P.addSymbols(P.icon,Ns,Ls,Cn,Gn,Bn,!1,R,Oa.lineStartIndex,Oa.lineLength,-1,pa),Gi=P.icon.placedSymbolArray.length-1,zl&&(ii=zl.length*4,P.addSymbols(P.icon,zl,Ls,Cn,Gn,Bn,tu.vertical,R,Oa.lineStartIndex,Oa.lineLength,-1,pa),Wi=P.icon.placedSymbolArray.length-1)}for(var Nl in ie.horizontal){var vf=ie.horizontal[Nl];if(!Na){yo=ge(vf.text);var Vh=Qe.layout.get("text-rotate").evaluate(Bn,{},pa);Na=new rp(gt,R,Ct,Dt,jt,vf,lr,nr,Mr,Vh)}var wv=vf.positionedLines.length===1;if(Hi+=iy(P,R,vf,Se,Qe,Mr,Bn,Xr,Oa,ie.vertical?tu.horizontal:tu.horizontalOnly,wv?Object.keys(ie.horizontal):[Nl],Ni,Gi,Zn,pa),wv)break}ie.vertical&&(so+=iy(P,R,ie.vertical,Se,Qe,Mr,Bn,Xr,Oa,tu.vertical,["vertical"],Ni,Wi,Zn,pa));var Tv=Na?Na.boxStartIndex:P.collisionBoxArray.length,Av=Na?Na.boxEndIndex:P.collisionBoxArray.length,ip=Va?Va.boxStartIndex:P.collisionBoxArray.length,pc=Va?Va.boxEndIndex:P.collisionBoxArray.length,uy=ui?ui.boxStartIndex:P.collisionBoxArray.length,Zx=ui?ui.boxEndIndex:P.collisionBoxArray.length,fy=Ga?Ga.boxStartIndex:P.collisionBoxArray.length,jx=Ga?Ga.boxEndIndex:P.collisionBoxArray.length,Wf=-1,op=function(S0,ow){return S0&&S0.circleDiameter?Math.max(S0.circleDiameter,ow):ow};Wf=op(Na,Wf),Wf=op(Va,Wf),Wf=op(ui,Wf),Wf=op(Ga,Wf);var cy=Wf>-1?1:0;cy&&(Wf*=va/ds),P.glyphOffsetArray.length>=ro.MAX_GLYPHS&&F("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Bn.sortKey!==void 0&&P.addToSortKeyRanges(P.symbolInstances.length,Bn.sortKey),P.symbolInstances.emplaceBack(R.x,R.y,Ni.right>=0?Ni.right:-1,Ni.center>=0?Ni.center:-1,Ni.left>=0?Ni.left:-1,Ni.vertical||-1,Gi,Wi,yo,Tv,Av,ip,pc,uy,Zx,fy,jx,Ct,Hi,so,hi,ii,cy,0,lr,Ao,Zo,Wf)}function w0(P,R,G,ie){var pe=P.compareText;if(!(R in pe))pe[R]=[];else for(var Se=pe[R],De=Se.length-1;De>=0;De--)if(ie.dist(Se[De])<G)return!0;return pe[R].push(ie),!1}var Dx=lv.VectorTileFeature.types,Ix=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function np(P,R,G,ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr){var nr=Qe?Math.min(bh,Math.round(Qe[0])):0,Mr=Qe?Math.min(bh,Math.round(Qe[1])):0;P.emplaceBack(R,G,Math.round(ie*32),Math.round(pe*32),Se,De,(nr<<1)+(gt?1:0),Mr,Ct*16,Dt*16,jt*256,lr*256)}function T0(P,R,G){P.emplaceBack(R.x,R.y,G),P.emplaceBack(R.x,R.y,G),P.emplaceBack(R.x,R.y,G),P.emplaceBack(R.x,R.y,G)}function kx(P){for(var R=0,G=P.sections;R<G.length;R+=1){var ie=G[R];if(un(ie.text))return!0}return!1}var mv=function(R){this.layoutVertexArray=new uc,this.indexArray=new Ql,this.programConfigurations=R,this.segments=new No,this.dynamicLayoutVertexArray=new Qh,this.opacityVertexArray=new fc,this.placedSymbolArray=new bu};mv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},mv.prototype.upload=function(R,G,ie,pe){this.isEmpty()||(ie&&(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,Su.members),this.indexBuffer=R.createIndexBuffer(this.indexArray,G),this.dynamicLayoutVertexBuffer=R.createVertexBuffer(this.dynamicLayoutVertexArray,uv.members,!0),this.opacityVertexBuffer=R.createVertexBuffer(this.opacityVertexArray,Ix,!0),this.opacityVertexBuffer.itemSize=1),(ie||pe)&&this.programConfigurations.upload(R))},mv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ne("SymbolBuffers",mv);var hd=function(R,G,ie){this.layoutVertexArray=new R,this.layoutAttributes=G,this.indexArray=new ie,this.segments=new No,this.collisionVertexArray=new tl};hd.prototype.upload=function(R){this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=R.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=R.createVertexBuffer(this.collisionVertexArray,Z1.members,!0)},hd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ne("CollisionBuffers",hd);var ro=function(R){this.collisionBoxArray=R.collisionBoxArray,this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(gt){return gt.id}),this.index=R.index,this.pixelRatio=R.pixelRatio,this.sourceLayerIndex=R.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=av([]),this.placementViewportMatrix=av([]);var G=this.layers[0],ie=G._unevaluatedLayout._values;this.textSizeData=p0(this.zoom,ie["text-size"]),this.iconSizeData=p0(this.zoom,ie["icon-size"]);var pe=this.layers[0].layout,Se=pe.get("symbol-sort-key"),De=pe.get("symbol-z-order");this.canOverlap=pe.get("text-allow-overlap")||pe.get("icon-allow-overlap")||pe.get("text-ignore-placement")||pe.get("icon-ignore-placement"),this.sortFeaturesByKey=De!=="viewport-y"&&Se.constantOr(1)!==void 0;var Qe=De==="viewport-y"||De==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Qe&&this.canOverlap,pe.get("symbol-placement")==="point"&&(this.writingModes=pe.get("text-writing-mode").map(function(gt){return tu[gt]})),this.stateDependentLayerIds=this.layers.filter(function(gt){return gt.isStateDependent()}).map(function(gt){return gt.id}),this.sourceID=R.sourceID};ro.prototype.createArrays=function(){this.text=new mv(new _a(this.layers,this.zoom,function(R){return/^text/.test(R)})),this.icon=new mv(new _a(this.layers,this.zoom,function(R){return/^icon/.test(R)})),this.glyphOffsetArray=new Od,this.lineVertexArray=new ql,this.symbolInstances=new Jv},ro.prototype.calculateGlyphDependencies=function(R,G,ie,pe,Se){for(var De=0;De<R.length;De++)if(G[R.charCodeAt(De)]=!0,(ie||pe)&&Se){var Qe=Eu[R.charAt(De)];Qe&&(G[Qe.charCodeAt(0)]=!0)}},ro.prototype.populate=function(R,G,ie){var pe=this.layers[0],Se=pe.layout,De=Se.get("text-font"),Qe=Se.get("text-field"),gt=Se.get("icon-image"),Ct=(Qe.value.kind!=="constant"||Qe.value.value instanceof Oo&&!Qe.value.value.isEmpty()||Qe.value.value.toString().length>0)&&(De.value.kind!=="constant"||De.value.value.length>0),Dt=gt.value.kind!=="constant"||!!gt.value.value||Object.keys(gt.parameters).length>0,jt=Se.get("symbol-sort-key");if(this.features=[],!(!Ct&&!Dt)){for(var lr=G.iconDependencies,nr=G.glyphDependencies,Mr=G.availableImages,Xr=new Fa(this.zoom),mn=0,cn=R;mn<cn.length;mn+=1){var Gn=cn[mn],Cn=Gn.feature,Bn=Gn.id,Zn=Gn.index,na=Gn.sourceLayerIndex,pa=pe._featureFilter.needGeometry,va=no(Cn,pa);if(pe._featureFilter.filter(Xr,va,ie)){pa||(va.geometry=Ei(Cn));var Ua=void 0;if(Ct){var Oa=pe.getValueAndResolveTokens("text-field",va,ie,Mr),Na=Oo.factory(Oa);kx(Na)&&(this.hasRTLText=!0),(!this.hasRTLText||ti()==="unavailable"||this.hasRTLText&&ua.isParsed())&&(Ua=J1(Na,pe,va))}var ui=void 0;if(Dt){var Va=pe.getValueAndResolveTokens("icon-image",va,ie,Mr);Va instanceof os?ui=Va:ui=os.fromString(Va)}if(!(!Ua&&!ui)){var Ga=this.sortFeaturesByKey?jt.evaluate(va,{},ie):void 0,hi={id:Bn,text:Ua,icon:ui,index:Zn,sourceLayerIndex:na,geometry:va.geometry,properties:Cn.properties,type:Dx[Cn.type],sortKey:Ga};if(this.features.push(hi),ui&&(lr[ui.name]=!0),Ua){var ii=De.evaluate(va,{},ie).join(","),Hi=Se.get("text-rotation-alignment")==="map"&&Se.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(tu.vertical)>=0;for(var so=0,Gi=Ua.sections;so<Gi.length;so+=1){var Wi=Gi[so];if(Wi.image)lr[Wi.image.name]=!0;else{var Ni=ir(Ua.toString()),yo=Wi.fontStack||ii,Ao=nr[yo]=nr[yo]||{};this.calculateGlyphDependencies(Wi.text,Ao,Hi,this.allowVerticalPlacement,Ni)}}}}}}Se.get("symbol-placement")==="line"&&(this.features=Fg(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Zo,ns){return Zo.sortKey-ns.sortKey})}},ro.prototype.update=function(R,G,ie){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(R,G,this.layers,ie),this.icon.programConfigurations.updatePaintArrays(R,G,this.layers,ie))},ro.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},ro.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ro.prototype.upload=function(R){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(R),this.iconCollisionBox.upload(R)),this.text.upload(R,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(R,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ro.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ro.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ro.prototype.addToLineVertexArray=function(R,G){var ie=this.lineVertexArray.length;if(R.segment!==void 0){for(var pe=R.dist(G[R.segment+1]),Se=R.dist(G[R.segment]),De={},Qe=R.segment+1;Qe<G.length;Qe++)De[Qe]={x:G[Qe].x,y:G[Qe].y,tileUnitDistanceFromAnchor:pe},Qe<G.length-1&&(pe+=G[Qe+1].dist(G[Qe]));for(var gt=R.segment||0;gt>=0;gt--)De[gt]={x:G[gt].x,y:G[gt].y,tileUnitDistanceFromAnchor:Se},gt>0&&(Se+=G[gt-1].dist(G[gt]));for(var Ct=0;Ct<G.length;Ct++){var Dt=De[Ct];this.lineVertexArray.emplaceBack(Dt.x,Dt.y,Dt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ie,lineLength:this.lineVertexArray.length-ie}},ro.prototype.addSymbols=function(R,G,ie,pe,Se,De,Qe,gt,Ct,Dt,jt,lr){for(var nr=R.indexArray,Mr=R.layoutVertexArray,Xr=R.segments.prepareSegment(4*G.length,Mr,nr,this.canOverlap?De.sortKey:void 0),mn=this.glyphOffsetArray.length,cn=Xr.vertexLength,Gn=this.allowVerticalPlacement&&Qe===tu.vertical?Math.PI/2:0,Cn=De.text&&De.text.sections,Bn=0;Bn<G.length;Bn++){var Zn=G[Bn],na=Zn.tl,pa=Zn.tr,va=Zn.bl,Ua=Zn.br,Oa=Zn.tex,Na=Zn.pixelOffsetTL,ui=Zn.pixelOffsetBR,Va=Zn.minFontScaleX,Ga=Zn.minFontScaleY,hi=Zn.glyphOffset,ii=Zn.isSDF,Hi=Zn.sectionIndex,so=Xr.vertexLength,Gi=hi[1];np(Mr,gt.x,gt.y,na.x,Gi+na.y,Oa.x,Oa.y,ie,ii,Na.x,Na.y,Va,Ga),np(Mr,gt.x,gt.y,pa.x,Gi+pa.y,Oa.x+Oa.w,Oa.y,ie,ii,ui.x,Na.y,Va,Ga),np(Mr,gt.x,gt.y,va.x,Gi+va.y,Oa.x,Oa.y+Oa.h,ie,ii,Na.x,ui.y,Va,Ga),np(Mr,gt.x,gt.y,Ua.x,Gi+Ua.y,Oa.x+Oa.w,Oa.y+Oa.h,ie,ii,ui.x,ui.y,Va,Ga),T0(R.dynamicLayoutVertexArray,gt,Gn),nr.emplaceBack(so,so+1,so+2),nr.emplaceBack(so+1,so+2,so+3),Xr.vertexLength+=4,Xr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(hi[0]),(Bn===G.length-1||Hi!==G[Bn+1].sectionIndex)&&R.programConfigurations.populatePaintArrays(Mr.length,De,De.index,{},lr,Cn&&Cn[Hi])}R.placedSymbolArray.emplaceBack(gt.x,gt.y,mn,this.glyphOffsetArray.length-mn,cn,Ct,Dt,gt.segment,ie?ie[0]:0,ie?ie[1]:0,pe[0],pe[1],Qe,0,!1,0,jt)},ro.prototype._addCollisionDebugVertex=function(R,G,ie,pe,Se,De){return G.emplaceBack(0,0),R.emplaceBack(ie.x,ie.y,pe,Se,Math.round(De.x),Math.round(De.y))},ro.prototype.addCollisionDebugVertices=function(R,G,ie,pe,Se,De,Qe){var gt=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),Ct=gt.vertexLength,Dt=Se.layoutVertexArray,jt=Se.collisionVertexArray,lr=Qe.anchorX,nr=Qe.anchorY;this._addCollisionDebugVertex(Dt,jt,De,lr,nr,new r(R,G)),this._addCollisionDebugVertex(Dt,jt,De,lr,nr,new r(ie,G)),this._addCollisionDebugVertex(Dt,jt,De,lr,nr,new r(ie,pe)),this._addCollisionDebugVertex(Dt,jt,De,lr,nr,new r(R,pe)),gt.vertexLength+=4;var Mr=Se.indexArray;Mr.emplaceBack(Ct,Ct+1),Mr.emplaceBack(Ct+1,Ct+2),Mr.emplaceBack(Ct+2,Ct+3),Mr.emplaceBack(Ct+3,Ct),gt.primitiveLength+=4},ro.prototype.addDebugCollisionBoxes=function(R,G,ie,pe){for(var Se=R;Se<G;Se++){var De=this.collisionBoxArray.get(Se),Qe=De.x1,gt=De.y1,Ct=De.x2,Dt=De.y2;this.addCollisionDebugVertices(Qe,gt,Ct,Dt,pe?this.textCollisionBox:this.iconCollisionBox,De.anchorPoint,ie)}},ro.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new hd(qh,zg.members,hh),this.iconCollisionBox=new hd(qh,zg.members,hh);for(var R=0;R<this.symbolInstances.length;R++){var G=this.symbolInstances.get(R);this.addDebugCollisionBoxes(G.textBoxStartIndex,G.textBoxEndIndex,G,!0),this.addDebugCollisionBoxes(G.verticalTextBoxStartIndex,G.verticalTextBoxEndIndex,G,!0),this.addDebugCollisionBoxes(G.iconBoxStartIndex,G.iconBoxEndIndex,G,!1),this.addDebugCollisionBoxes(G.verticalIconBoxStartIndex,G.verticalIconBoxEndIndex,G,!1)}},ro.prototype._deserializeCollisionBoxesForSymbol=function(R,G,ie,pe,Se,De,Qe,gt,Ct){for(var Dt={},jt=G;jt<ie;jt++){var lr=R.get(jt);Dt.textBox={x1:lr.x1,y1:lr.y1,x2:lr.x2,y2:lr.y2,anchorPointX:lr.anchorPointX,anchorPointY:lr.anchorPointY},Dt.textFeatureIndex=lr.featureIndex;break}for(var nr=pe;nr<Se;nr++){var Mr=R.get(nr);Dt.verticalTextBox={x1:Mr.x1,y1:Mr.y1,x2:Mr.x2,y2:Mr.y2,anchorPointX:Mr.anchorPointX,anchorPointY:Mr.anchorPointY},Dt.verticalTextFeatureIndex=Mr.featureIndex;break}for(var Xr=De;Xr<Qe;Xr++){var mn=R.get(Xr);Dt.iconBox={x1:mn.x1,y1:mn.y1,x2:mn.x2,y2:mn.y2,anchorPointX:mn.anchorPointX,anchorPointY:mn.anchorPointY},Dt.iconFeatureIndex=mn.featureIndex;break}for(var cn=gt;cn<Ct;cn++){var Gn=R.get(cn);Dt.verticalIconBox={x1:Gn.x1,y1:Gn.y1,x2:Gn.x2,y2:Gn.y2,anchorPointX:Gn.anchorPointX,anchorPointY:Gn.anchorPointY},Dt.verticalIconFeatureIndex=Gn.featureIndex;break}return Dt},ro.prototype.deserializeCollisionBoxes=function(R){this.collisionArrays=[];for(var G=0;G<this.symbolInstances.length;G++){var ie=this.symbolInstances.get(G);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(R,ie.textBoxStartIndex,ie.textBoxEndIndex,ie.verticalTextBoxStartIndex,ie.verticalTextBoxEndIndex,ie.iconBoxStartIndex,ie.iconBoxEndIndex,ie.verticalIconBoxStartIndex,ie.verticalIconBoxEndIndex))}},ro.prototype.hasTextData=function(){return this.text.segments.get().length>0},ro.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ro.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ro.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ro.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ro.prototype.addIndicesForPlacedSymbol=function(R,G){for(var ie=R.placedSymbolArray.get(G),pe=ie.vertexStartIndex+ie.numGlyphs*4,Se=ie.vertexStartIndex;Se<pe;Se+=4)R.indexArray.emplaceBack(Se,Se+1,Se+2),R.indexArray.emplaceBack(Se+1,Se+2,Se+3)},ro.prototype.getSortedSymbolIndexes=function(R){if(this.sortedAngle===R&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var G=Math.sin(R),ie=Math.cos(R),pe=[],Se=[],De=[],Qe=0;Qe<this.symbolInstances.length;++Qe){De.push(Qe);var gt=this.symbolInstances.get(Qe);pe.push(Math.round(G*gt.anchorX+ie*gt.anchorY)|0),Se.push(gt.featureIndex)}return De.sort(function(Ct,Dt){return pe[Ct]-pe[Dt]||Se[Dt]-Se[Ct]}),De},ro.prototype.addToSortKeyRanges=function(R,G){var ie=this.sortKeyRanges[this.sortKeyRanges.length-1];ie&&ie.sortKey===G?ie.symbolInstanceEnd=R+1:this.sortKeyRanges.push({sortKey:G,symbolInstanceStart:R,symbolInstanceEnd:R+1})},ro.prototype.sortFeatures=function(R){var G=this;if(this.sortFeaturesByY&&this.sortedAngle!==R&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(R),this.sortedAngle=R,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ie=0,pe=this.symbolInstanceIndexes;ie<pe.length;ie+=1){var Se=pe[ie],De=this.symbolInstances.get(Se);this.featureSortOrder.push(De.featureIndex),[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(Qe,gt,Ct){Qe>=0&&Ct.indexOf(Qe)===gt&&G.addIndicesForPlacedSymbol(G.text,Qe)}),De.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,De.verticalPlacedTextSymbolIndex),De.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.placedIconSymbolIndex),De.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ne("SymbolBucket",ro,{omit:["layers","collisionBoxArray","features","compareText"]}),ro.MAX_GLYPHS=65535,ro.addDynamicAttributes=T0;function Ox(P,R){return R.replace(/{([^{}]+)}/g,function(G,ie){return ie in P?String(P[ie]):""})}var zx=new ki({"symbol-placement":new ga(Lr.layout_symbol["symbol-placement"]),"symbol-spacing":new ga(Lr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ga(Lr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Wa(Lr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ga(Lr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ga(Lr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ga(Lr.layout_symbol["icon-ignore-placement"]),"icon-optional":new ga(Lr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ga(Lr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Wa(Lr.layout_symbol["icon-size"]),"icon-text-fit":new ga(Lr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ga(Lr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Wa(Lr.layout_symbol["icon-image"]),"icon-rotate":new Wa(Lr.layout_symbol["icon-rotate"]),"icon-padding":new ga(Lr.layout_symbol["icon-padding"]),"icon-keep-upright":new ga(Lr.layout_symbol["icon-keep-upright"]),"icon-offset":new Wa(Lr.layout_symbol["icon-offset"]),"icon-anchor":new Wa(Lr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ga(Lr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ga(Lr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ga(Lr.layout_symbol["text-rotation-alignment"]),"text-field":new Wa(Lr.layout_symbol["text-field"]),"text-font":new Wa(Lr.layout_symbol["text-font"]),"text-size":new Wa(Lr.layout_symbol["text-size"]),"text-max-width":new Wa(Lr.layout_symbol["text-max-width"]),"text-line-height":new ga(Lr.layout_symbol["text-line-height"]),"text-letter-spacing":new Wa(Lr.layout_symbol["text-letter-spacing"]),"text-justify":new Wa(Lr.layout_symbol["text-justify"]),"text-radial-offset":new Wa(Lr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ga(Lr.layout_symbol["text-variable-anchor"]),"text-anchor":new Wa(Lr.layout_symbol["text-anchor"]),"text-max-angle":new ga(Lr.layout_symbol["text-max-angle"]),"text-writing-mode":new ga(Lr.layout_symbol["text-writing-mode"]),"text-rotate":new Wa(Lr.layout_symbol["text-rotate"]),"text-padding":new ga(Lr.layout_symbol["text-padding"]),"text-keep-upright":new ga(Lr.layout_symbol["text-keep-upright"]),"text-transform":new Wa(Lr.layout_symbol["text-transform"]),"text-offset":new Wa(Lr.layout_symbol["text-offset"]),"text-allow-overlap":new ga(Lr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ga(Lr.layout_symbol["text-ignore-placement"]),"text-optional":new ga(Lr.layout_symbol["text-optional"])}),Fx=new ki({"icon-opacity":new Wa(Lr.paint_symbol["icon-opacity"]),"icon-color":new Wa(Lr.paint_symbol["icon-color"]),"icon-halo-color":new Wa(Lr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Wa(Lr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Wa(Lr.paint_symbol["icon-halo-blur"]),"icon-translate":new ga(Lr.paint_symbol["icon-translate"]),"icon-translate-anchor":new ga(Lr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Wa(Lr.paint_symbol["text-opacity"]),"text-color":new Wa(Lr.paint_symbol["text-color"],{runtimeType:In,getOverride:function(P){return P.textColor},hasOverride:function(P){return!!P.textColor}}),"text-halo-color":new Wa(Lr.paint_symbol["text-halo-color"]),"text-halo-width":new Wa(Lr.paint_symbol["text-halo-width"]),"text-halo-blur":new Wa(Lr.paint_symbol["text-halo-blur"]),"text-translate":new ga(Lr.paint_symbol["text-translate"]),"text-translate-anchor":new ga(Lr.paint_symbol["text-translate-anchor"])}),A0={paint:Fx,layout:zx},xv=function(R){this.type=R.property.overrides?R.property.overrides.runtimeType:Kr,this.defaultValue=R};xv.prototype.evaluate=function(R){if(R.formattedSection){var G=this.defaultValue.property.overrides;if(G&&G.hasOverride(R.formattedSection))return G.getOverride(R.formattedSection)}return R.feature&&R.featureState?this.defaultValue.evaluate(R.feature,R.featureState):this.defaultValue.property.specification.default},xv.prototype.eachChild=function(R){if(!this.defaultValue.isConstant()){var G=this.defaultValue.value;R(G._styleExpression.expression)}},xv.prototype.outputDefined=function(){return!1},xv.prototype.serialize=function(){return null},Ne("FormatSectionOverride",xv,{omit:["defaultValue"]});var Nx=function(P){function R(G){P.call(this,G,A0)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(ie,pe){if(P.prototype.recalculate.call(this,ie,pe),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Se=this.layout.get("text-writing-mode");if(Se){for(var De=[],Qe=0,gt=Se;Qe<gt.length;Qe+=1){var Ct=gt[Qe];De.indexOf(Ct)<0&&De.push(Ct)}this.layout._values["text-writing-mode"]=De}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},R.prototype.getValueAndResolveTokens=function(ie,pe,Se,De){var Qe=this.layout.get(ie).evaluate(pe,{},Se,De),gt=this._unevaluatedLayout._values[ie];return!gt.isDataDriven()&&!_f(gt.value)&&Qe?Ox(pe.properties,Qe):Qe},R.prototype.createBucket=function(ie){return new ro(ie)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype._setPaintOverrides=function(){for(var ie=0,pe=A0.paint.overridableProperties;ie<pe.length;ie+=1){var Se=pe[ie];if(R.hasPaintOverride(this.layout,Se)){var De=this.paint.get(Se),Qe=new xv(De),gt=new Ts(Qe,De.property.specification),Ct=null;De.value.kind==="constant"||De.value.kind==="source"?Ct=new Qi("source",gt):Ct=new vl("composite",gt,De.value.zoomStops,De.value._interpolationType),this.paint._values[Se]=new qi(De.property,Ct,De.parameters)}}},R.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Se){return!this.layout||pe.isDataDriven()||Se.isDataDriven()?!1:R.hasPaintOverride(this.layout,ie)},R.hasPaintOverride=function(ie,pe){var Se=ie.get("text-field"),De=A0.paint.properties[pe],Qe=!1,gt=function(jt){for(var lr=0,nr=jt;lr<nr.length;lr+=1){var Mr=nr[lr];if(De.overrides&&De.overrides.hasOverride(Mr)){Qe=!0;return}}};if(Se.value.kind==="constant"&&Se.value.value instanceof Oo)gt(Se.value.value.sections);else if(Se.value.kind==="source"){var Ct=function(jt){if(!Qe)if(jt instanceof xo&&mo(jt.value)===La){var lr=jt.value;gt(lr.sections)}else jt instanceof $i?gt(jt.sections):jt.eachChild(Ct)},Dt=Se.value;Dt._styleExpression&&Ct(Dt._styleExpression.expression)}return Qe},R}(Io),Bx=new ki({"background-color":new ga(Lr.paint_background["background-color"]),"background-pattern":new Ss(Lr.paint_background["background-pattern"]),"background-opacity":new ga(Lr.paint_background["background-opacity"])}),Ux={paint:Bx},Vx=function(P){function R(G){P.call(this,G,Ux)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R}(Io),Hx=new ki({"raster-opacity":new ga(Lr.paint_raster["raster-opacity"]),"raster-hue-rotate":new ga(Lr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ga(Lr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ga(Lr.paint_raster["raster-brightness-max"]),"raster-saturation":new ga(Lr.paint_raster["raster-saturation"]),"raster-contrast":new ga(Lr.paint_raster["raster-contrast"]),"raster-resampling":new ga(Lr.paint_raster["raster-resampling"]),"raster-fade-duration":new ga(Lr.paint_raster["raster-fade-duration"])}),Gx={paint:Hx},Wx=function(P){function R(G){P.call(this,G,Gx)}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R}(Io);function Yx(P){var R=[],G=P.id;return G===void 0&&R.push({message:"layers."+G+': missing required property "id"'}),P.render===void 0&&R.push({message:"layers."+G+': missing required method "render"'}),P.renderingMode&&P.renderingMode!=="2d"&&P.renderingMode!=="3d"&&R.push({message:"layers."+G+': property "renderingMode" must be either "2d" or "3d"'}),R}var fe=function(P){function R(G){P.call(this,G,{}),this.implementation=G}return P&&(R.__proto__=P),R.prototype=Object.create(P&&P.prototype),R.prototype.constructor=R,R.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},R.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},R.prototype.recalculate=function(){},R.prototype.updateTransitions=function(){},R.prototype.hasTransition=function(){},R.prototype.serialize=function(){},R.prototype.onAdd=function(ie){this.implementation.onAdd&&this.implementation.onAdd(ie,ie.painter.context.gl)},R.prototype.onRemove=function(ie){this.implementation.onRemove&&this.implementation.onRemove(ie,ie.painter.context.gl)},R}(Io),Me={circle:Qm,heatmap:e1,hillshade:n1,fill:T1,"fill-extrusion":F1,line:X1,symbol:Nx,background:Vx,raster:Wx};function et(P){return P.type==="custom"?new fe(P):new Me[P.type](P)}var zt=s.HTMLImageElement,sr=s.HTMLCanvasElement,zr=s.HTMLVideoElement,ln=s.ImageData,yn=s.ImageBitmap,Dn=function(R,G,ie,pe){this.context=R,this.format=ie,this.texture=R.gl.createTexture(),this.update(G,pe)};Dn.prototype.update=function(R,G,ie){var pe=R.width,Se=R.height,De=(!this.size||this.size[0]!==pe||this.size[1]!==Se)&&!ie,Qe=this,gt=Qe.context,Ct=gt.gl;if(this.useMipmap=!!(G&&G.useMipmap),Ct.bindTexture(Ct.TEXTURE_2D,this.texture),gt.pixelStoreUnpackFlipY.set(!1),gt.pixelStoreUnpack.set(1),gt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Ct.RGBA&&(!G||G.premultiply!==!1)),De)this.size=[pe,Se],R instanceof zt||R instanceof sr||R instanceof zr||R instanceof ln||yn&&R instanceof yn?Ct.texImage2D(Ct.TEXTURE_2D,0,this.format,this.format,Ct.UNSIGNED_BYTE,R):Ct.texImage2D(Ct.TEXTURE_2D,0,this.format,pe,Se,0,this.format,Ct.UNSIGNED_BYTE,R.data);else{var Dt=ie||{x:0,y:0},jt=Dt.x,lr=Dt.y;R instanceof zt||R instanceof sr||R instanceof zr||R instanceof ln||yn&&R instanceof yn?Ct.texSubImage2D(Ct.TEXTURE_2D,0,jt,lr,Ct.RGBA,Ct.UNSIGNED_BYTE,R):Ct.texSubImage2D(Ct.TEXTURE_2D,0,jt,lr,pe,Se,Ct.RGBA,Ct.UNSIGNED_BYTE,R.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Ct.generateMipmap(Ct.TEXTURE_2D)},Dn.prototype.bind=function(R,G,ie){var pe=this,Se=pe.context,De=Se.gl;De.bindTexture(De.TEXTURE_2D,this.texture),ie===De.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ie=De.LINEAR),R!==this.filter&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MAG_FILTER,R),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MIN_FILTER,ie||R),this.filter=R),G!==this.wrap&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_S,G),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_T,G),this.wrap=G)},Dn.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Dn.prototype.destroy=function(){var R=this.context,G=R.gl;G.deleteTexture(this.texture),this.texture=null};var fa=function(R){var G=this;this._callback=R,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){G._triggered=!1,G._callback()})};fa.prototype.trigger=function(){var R=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){R._triggered=!1,R._callback()},0))},fa.prototype.remove=function(){delete this._channel,this._callback=function(){}};var sa=function(R,G,ie){this.target=R,this.parent=G,this.mapId=ie,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},_(["receive","process"],this),this.invoker=new fa(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=ee()?R:s};sa.prototype.send=function(R,G,ie,pe,Se){var De=this;Se===void 0&&(Se=!1);var Qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);ie&&(this.callbacks[Qe]=ie);var gt=le(this.globalScope)?void 0:[];return this.target.postMessage({id:Qe,type:R,hasCallback:!!ie,targetMapId:pe,mustQueue:Se,sourceMapId:this.mapId,data:Rt(G,gt)},gt),{cancel:function(){ie&&delete De.callbacks[Qe],De.target.postMessage({id:Qe,type:"<cancel>",targetMapId:pe,sourceMapId:De.mapId})}}},sa.prototype.receive=function(R){var G=R.data,ie=G.id;if(ie&&!(G.targetMapId&&this.mapId!==G.targetMapId))if(G.type==="<cancel>"){delete this.tasks[ie];var pe=this.cancelCallbacks[ie];delete this.cancelCallbacks[ie],pe&&pe()}else ee()||G.mustQueue?(this.tasks[ie]=G,this.taskQueue.push(ie),this.invoker.trigger()):this.processTask(ie,G)},sa.prototype.process=function(){if(this.taskQueue.length){var R=this.taskQueue.shift(),G=this.tasks[R];delete this.tasks[R],this.taskQueue.length&&this.invoker.trigger(),G&&this.processTask(R,G)}},sa.prototype.processTask=function(R,G){var ie=this;if(G.type==="<response>"){var pe=this.callbacks[R];delete this.callbacks[R],pe&&(G.error?pe(Et(G.error)):pe(null,Et(G.data)))}else{var Se=!1,De=le(this.globalScope)?void 0:[],Qe=G.hasCallback?function(lr,nr){Se=!0,delete ie.cancelCallbacks[R],ie.target.postMessage({id:R,type:"<response>",sourceMapId:ie.mapId,error:lr?Rt(lr):null,data:Rt(nr,De)},De)}:function(lr){Se=!0},gt=null,Ct=Et(G.data);if(this.parent[G.type])gt=this.parent[G.type](G.sourceMapId,Ct,Qe);else if(this.parent.getWorkerSource){var Dt=G.type.split("."),jt=this.parent.getWorkerSource(G.sourceMapId,Dt[0],Ct.source);gt=jt[Dt[1]](Ct,Qe)}else Qe(new Error("Could not find function "+G.type));!Se&&gt&&gt.cancel&&(this.cancelCallbacks[R]=gt.cancel)}},sa.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function wa(P,R,G){R=Math.pow(2,G)-R-1;var ie=Za(P*256,R*256,G),pe=Za((P+1)*256,(R+1)*256,G);return ie[0]+","+ie[1]+","+pe[0]+","+pe[1]}function Za(P,R,G){var ie=2*Math.PI*6378137/256/Math.pow(2,G),pe=P*ie-2*Math.PI*6378137/2,Se=R*ie-2*Math.PI*6378137/2;return[pe,Se]}var Ha=function(R,G){R&&(G?this.setSouthWest(R).setNorthEast(G):R.length===4?this.setSouthWest([R[0],R[1]]).setNorthEast([R[2],R[3]]):this.setSouthWest(R[0]).setNorthEast(R[1]))};Ha.prototype.setNorthEast=function(R){return this._ne=R instanceof qa?new qa(R.lng,R.lat):qa.convert(R),this},Ha.prototype.setSouthWest=function(R){return this._sw=R instanceof qa?new qa(R.lng,R.lat):qa.convert(R),this},Ha.prototype.extend=function(R){var G=this._sw,ie=this._ne,pe,Se;if(R instanceof qa)pe=R,Se=R;else if(R instanceof Ha){if(pe=R._sw,Se=R._ne,!pe||!Se)return this}else{if(Array.isArray(R))if(R.length===4||R.every(Array.isArray)){var De=R;return this.extend(Ha.convert(De))}else{var Qe=R;return this.extend(qa.convert(Qe))}return this}return!G&&!ie?(this._sw=new qa(pe.lng,pe.lat),this._ne=new qa(Se.lng,Se.lat)):(G.lng=Math.min(pe.lng,G.lng),G.lat=Math.min(pe.lat,G.lat),ie.lng=Math.max(Se.lng,ie.lng),ie.lat=Math.max(Se.lat,ie.lat)),this},Ha.prototype.getCenter=function(){return new qa((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Ha.prototype.getSouthWest=function(){return this._sw},Ha.prototype.getNorthEast=function(){return this._ne},Ha.prototype.getNorthWest=function(){return new qa(this.getWest(),this.getNorth())},Ha.prototype.getSouthEast=function(){return new qa(this.getEast(),this.getSouth())},Ha.prototype.getWest=function(){return this._sw.lng},Ha.prototype.getSouth=function(){return this._sw.lat},Ha.prototype.getEast=function(){return this._ne.lng},Ha.prototype.getNorth=function(){return this._ne.lat},Ha.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Ha.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Ha.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Ha.prototype.contains=function(R){var G=qa.convert(R),ie=G.lng,pe=G.lat,Se=this._sw.lat<=pe&&pe<=this._ne.lat,De=this._sw.lng<=ie&&ie<=this._ne.lng;return this._sw.lng>this._ne.lng&&(De=this._sw.lng>=ie&&ie>=this._ne.lng),Se&&De},Ha.convert=function(R){return!R||R instanceof Ha?R:new Ha(R)};var fi=63710088e-1,qa=function(R,G){if(isNaN(R)||isNaN(G))throw new Error("Invalid LngLat object: ("+R+", "+G+")");if(this.lng=+R,this.lat=+G,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};qa.prototype.wrap=function(){return new qa(M(this.lng,-180,180),this.lat)},qa.prototype.toArray=function(){return[this.lng,this.lat]},qa.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},qa.prototype.distanceTo=function(R){var G=Math.PI/180,ie=this.lat*G,pe=R.lat*G,Se=Math.sin(ie)*Math.sin(pe)+Math.cos(ie)*Math.cos(pe)*Math.cos((R.lng-this.lng)*G),De=fi*Math.acos(Math.min(Se,1));return De},qa.prototype.toBounds=function(R){R===void 0&&(R=0);var G=40075017,ie=360*R/G,pe=ie/Math.cos(Math.PI/180*this.lat);return new Ha(new qa(this.lng-pe,this.lat-ie),new qa(this.lng+pe,this.lat+ie))},qa.convert=function(R){if(R instanceof qa)return R;if(Array.isArray(R)&&(R.length===2||R.length===3))return new qa(Number(R[0]),Number(R[1]));if(!Array.isArray(R)&&typeof R=="object"&&R!==null)return new qa(Number("lng"in R?R.lng:R.lon),Number(R.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var ci=2*Math.PI*fi;function Zi(P){return ci*Math.cos(P*Math.PI/180)}function Ji(P){return(180+P)/360}function ru(P){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+P*Math.PI/360)))/360}function Tl(P,R){return P/Zi(R)}function Cu(P){return P*360-180}function rs(P){var R=180-P*360;return 360/Math.PI*Math.atan(Math.exp(R*Math.PI/180))-90}function Gf(P,R){return P*Zi(rs(R))}function Xc(P){return 1/Math.cos(P*Math.PI/180)}var wh=function(R,G,ie){ie===void 0&&(ie=0),this.x=+R,this.y=+G,this.z=+ie};wh.fromLngLat=function(R,G){G===void 0&&(G=0);var ie=qa.convert(R);return new wh(Ji(ie.lng),ru(ie.lat),Tl(G,ie.lat))},wh.prototype.toLngLat=function(){return new qa(Cu(this.x),rs(this.y))},wh.prototype.toAltitude=function(){return Gf(this.z,this.y)},wh.prototype.meterInMercatorCoordinateUnits=function(){return 1/ci*Xc(rs(this.y))};var vd=function(R,G,ie){this.z=R,this.x=G,this.y=ie,this.key=M0(0,R,R,G,ie)};vd.prototype.equals=function(R){return this.z===R.z&&this.x===R.x&&this.y===R.y},vd.prototype.url=function(R,G){var ie=wa(this.x,this.y,this.z),pe=z5(this.z,this.x,this.y);return R[(this.x+this.y)%R.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(G==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pe).replace("{bbox-epsg-3857}",ie)},vd.prototype.getTilePoint=function(R){var G=Math.pow(2,this.z);return new r((R.x*G-this.x)*Ba,(R.y*G-this.y)*Ba)},vd.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var rw=function(R,G){this.wrap=R,this.canonical=G,this.key=M0(R,G.z,G.z,G.x,G.y)},ps=function(R,G,ie,pe,Se){this.overscaledZ=R,this.wrap=G,this.canonical=new vd(ie,+pe,+Se),this.key=M0(G,R,ie,pe,Se)};ps.prototype.equals=function(R){return this.overscaledZ===R.overscaledZ&&this.wrap===R.wrap&&this.canonical.equals(R.canonical)},ps.prototype.scaledTo=function(R){var G=this.canonical.z-R;return R>this.canonical.z?new ps(R,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ps(R,this.wrap,R,this.canonical.x>>G,this.canonical.y>>G)},ps.prototype.calculateScaledKey=function(R,G){var ie=this.canonical.z-R;return R>this.canonical.z?M0(this.wrap*+G,R,this.canonical.z,this.canonical.x,this.canonical.y):M0(this.wrap*+G,R,R,this.canonical.x>>ie,this.canonical.y>>ie)},ps.prototype.isChildOf=function(R){if(R.wrap!==this.wrap)return!1;var G=this.canonical.z-R.canonical.z;return R.overscaledZ===0||R.overscaledZ<this.overscaledZ&&R.canonical.x===this.canonical.x>>G&&R.canonical.y===this.canonical.y>>G},ps.prototype.children=function(R){if(this.overscaledZ>=R)return[new ps(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var G=this.canonical.z+1,ie=this.canonical.x*2,pe=this.canonical.y*2;return[new ps(G,this.wrap,G,ie,pe),new ps(G,this.wrap,G,ie+1,pe),new ps(G,this.wrap,G,ie,pe+1),new ps(G,this.wrap,G,ie+1,pe+1)]},ps.prototype.isLessThan=function(R){return this.wrap<R.wrap?!0:this.wrap>R.wrap?!1:this.overscaledZ<R.overscaledZ?!0:this.overscaledZ>R.overscaledZ?!1:this.canonical.x<R.canonical.x?!0:this.canonical.x>R.canonical.x?!1:this.canonical.y<R.canonical.y},ps.prototype.wrapped=function(){return new ps(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ps.prototype.unwrapTo=function(R){return new ps(this.overscaledZ,R,this.canonical.z,this.canonical.x,this.canonical.y)},ps.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ps.prototype.toUnwrapped=function(){return new rw(this.wrap,this.canonical)},ps.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ps.prototype.getTilePoint=function(R){return this.canonical.getTilePoint(new wh(R.x-this.wrap,R.y))};function M0(P,R,G,ie,pe){P*=2,P<0&&(P=P*-1-1);var Se=1<<G;return(Se*Se*P+Se*pe+ie).toString(36)+G.toString(36)+R.toString(36)}function z5(P,R,G){for(var ie="",pe,Se=P;Se>0;Se--)pe=1<<Se-1,ie+=(R&pe?1:0)+(G&pe?2:0);return ie}Ne("CanonicalTileID",vd),Ne("OverscaledTileID",ps,{omit:["posMatrix"]});var Bh=function(R,G,ie){if(this.uid=R,G.height!==G.width)throw new RangeError("DEM tiles must be square");if(ie&&ie!=="mapbox"&&ie!=="terrarium")return F('"'+ie+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=G.height;var pe=this.dim=G.height-2;this.data=new Uint32Array(G.data.buffer),this.encoding=ie||"mapbox";for(var Se=0;Se<pe;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(pe,Se)]=this.data[this._idx(pe-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,pe)]=this.data[this._idx(Se,pe-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(pe,-1)]=this.data[this._idx(pe-1,0)],this.data[this._idx(-1,pe)]=this.data[this._idx(0,pe-1)],this.data[this._idx(pe,pe)]=this.data[this._idx(pe-1,pe-1)]};Bh.prototype.get=function(R,G){var ie=new Uint8Array(this.data.buffer),pe=this._idx(R,G)*4,Se=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Se(ie[pe],ie[pe+1],ie[pe+2])},Bh.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Bh.prototype._idx=function(R,G){if(R<-1||R>=this.dim+1||G<-1||G>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(G+1)*this.stride+(R+1)},Bh.prototype._unpackMapbox=function(R,G,ie){return(R*256*256+G*256+ie)/10-1e4},Bh.prototype._unpackTerrarium=function(R,G,ie){return R*256+G+ie/256-32768},Bh.prototype.getPixels=function(){return new bl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Bh.prototype.backfillBorder=function(R,G,ie){if(this.dim!==R.dim)throw new Error("dem dimension mismatch");var pe=G*this.dim,Se=G*this.dim+this.dim,De=ie*this.dim,Qe=ie*this.dim+this.dim;switch(G){case-1:pe=Se-1;break;case 1:Se=pe+1;break}switch(ie){case-1:De=Qe-1;break;case 1:Qe=De+1;break}for(var gt=-G*this.dim,Ct=-ie*this.dim,Dt=De;Dt<Qe;Dt++)for(var jt=pe;jt<Se;jt++)this.data[this._idx(jt,Dt)]=R.data[this._idx(jt+gt,Dt+Ct)]},Ne("DEMData",Bh);function F5(P,R){var G={};if(!R)return G;for(var ie=function(){var De=Se[pe],Qe=De.layerIds.map(function(jt){return R.getLayer(jt)}).filter(Boolean);if(Qe.length!==0){De.layers=Qe,De.stateDependentLayerIds&&(De.stateDependentLayers=De.stateDependentLayerIds.map(function(jt){return Qe.filter(function(lr){return lr.id===jt})[0]}));for(var gt=0,Ct=Qe;gt<Ct.length;gt+=1){var Dt=Ct[gt];G[Dt.id]=De}}},pe=0,Se=P;pe<Se.length;pe+=1)ie();return G}var sy=function(R){this._stringToNumber={},this._numberToString=[];for(var G=0;G<R.length;G++){var ie=R[G];this._stringToNumber[ie]=G,this._numberToString[G]=ie}};sy.prototype.encode=function(R){return this._stringToNumber[R]},sy.prototype.decode=function(R){return this._numberToString[R]};var ly=function(R,G,ie,pe,Se){this.type="Feature",this._vectorTileFeature=R,R._z=G,R._x=ie,R._y=pe,this.properties=R.properties,this.id=Se},Xx={geometry:{configurable:!0}};Xx.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Xx.geometry.set=function(P){this._geometry=P},ly.prototype.toJSON=function(){var R={geometry:this.geometry};for(var G in this)G==="_geometry"||G==="_vectorTileFeature"||(R[G]=this[G]);return R},Object.defineProperties(ly.prototype,Xx);var ap=function(){this.state={},this.stateChanges={},this.deletedStates={}};ap.prototype.updateState=function(R,G,ie){var pe=String(G);if(this.stateChanges[R]=this.stateChanges[R]||{},this.stateChanges[R][pe]=this.stateChanges[R][pe]||{},x(this.stateChanges[R][pe],ie),this.deletedStates[R]===null){this.deletedStates[R]={};for(var Se in this.state[R])Se!==pe&&(this.deletedStates[R][Se]=null)}else{var De=this.deletedStates[R]&&this.deletedStates[R][pe]===null;if(De){this.deletedStates[R][pe]={};for(var Qe in this.state[R][pe])ie[Qe]||(this.deletedStates[R][pe][Qe]=null)}else for(var gt in ie){var Ct=this.deletedStates[R]&&this.deletedStates[R][pe]&&this.deletedStates[R][pe][gt]===null;Ct&&delete this.deletedStates[R][pe][gt]}}},ap.prototype.removeFeatureState=function(R,G,ie){var pe=this.deletedStates[R]===null;if(!pe){var Se=String(G);if(this.deletedStates[R]=this.deletedStates[R]||{},ie&&G!==void 0)this.deletedStates[R][Se]!==null&&(this.deletedStates[R][Se]=this.deletedStates[R][Se]||{},this.deletedStates[R][Se][ie]=null);else if(G!==void 0){var De=this.stateChanges[R]&&this.stateChanges[R][Se];if(De){this.deletedStates[R][Se]={};for(ie in this.stateChanges[R][Se])this.deletedStates[R][Se][ie]=null}else this.deletedStates[R][Se]=null}else this.deletedStates[R]=null}},ap.prototype.getState=function(R,G){var ie=String(G),pe=this.state[R]||{},Se=this.stateChanges[R]||{},De=x({},pe[ie],Se[ie]);if(this.deletedStates[R]===null)return{};if(this.deletedStates[R]){var Qe=this.deletedStates[R][G];if(Qe===null)return{};for(var gt in Qe)delete De[gt]}return De},ap.prototype.initializeTileState=function(R,G){R.setFeatureState(this.state,G)},ap.prototype.coalesceChanges=function(R,G){var ie={};for(var pe in this.stateChanges){this.state[pe]=this.state[pe]||{};var Se={};for(var De in this.stateChanges[pe])this.state[pe][De]||(this.state[pe][De]={}),x(this.state[pe][De],this.stateChanges[pe][De]),Se[De]=this.state[pe][De];ie[pe]=Se}for(var Qe in this.deletedStates){this.state[Qe]=this.state[Qe]||{};var gt={};if(this.deletedStates[Qe]===null)for(var Ct in this.state[Qe])gt[Ct]={},this.state[Qe][Ct]={};else for(var Dt in this.deletedStates[Qe]){var jt=this.deletedStates[Qe][Dt]===null;if(jt)this.state[Qe][Dt]={};else for(var lr=0,nr=Object.keys(this.deletedStates[Qe][Dt]);lr<nr.length;lr+=1){var Mr=nr[lr];delete this.state[Qe][Dt][Mr]}gt[Dt]=this.state[Qe][Dt]}ie[Qe]=ie[Qe]||{},x(ie[Qe],gt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ie).length!==0)for(var Xr in R){var mn=R[Xr];mn.setFeatureState(ie,G)}};var Uh=function(R,G){this.tileID=R,this.x=R.canonical.x,this.y=R.canonical.y,this.z=R.canonical.z,this.grid=new ni(Ba,16,0),this.grid3D=new ni(Ba,16,0),this.featureIndexArray=new Fd,this.promoteId=G};Uh.prototype.insert=function(R,G,ie,pe,Se,De){var Qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ie,pe,Se);for(var gt=De?this.grid3D:this.grid,Ct=0;Ct<G.length;Ct++){for(var Dt=G[Ct],jt=[1/0,1/0,-1/0,-1/0],lr=0;lr<Dt.length;lr++){var nr=Dt[lr];jt[0]=Math.min(jt[0],nr.x),jt[1]=Math.min(jt[1],nr.y),jt[2]=Math.max(jt[2],nr.x),jt[3]=Math.max(jt[3],nr.y)}jt[0]<Ba&&jt[1]<Ba&&jt[2]>=0&&jt[3]>=0&&gt.insert(Qe,jt[0],jt[1],jt[2],jt[3])}},Uh.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new lv.VectorTile(new ao(this.rawTileData)).layers,this.sourceLayerCoder=new sy(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Uh.prototype.query=function(R,G,ie,pe){var Se=this;this.loadVTLayers();for(var De=R.params||{},Qe=Ba/R.tileSize/R.scale,gt=As(De.filter),Ct=R.queryGeometry,Dt=R.queryPadding*Qe,jt=aw(Ct),lr=this.grid.query(jt.minX-Dt,jt.minY-Dt,jt.maxX+Dt,jt.maxY+Dt),nr=aw(R.cameraQueryGeometry),Mr=this.grid3D.query(nr.minX-Dt,nr.minY-Dt,nr.maxX+Dt,nr.maxY+Dt,function(na,pa,va,Ua){return uf(R.cameraQueryGeometry,na-Dt,pa-Dt,va+Dt,Ua+Dt)}),Xr=0,mn=Mr;Xr<mn.length;Xr+=1){var cn=mn[Xr];lr.push(cn)}lr.sort(N5);for(var Gn={},Cn,Bn=function(na){var pa=lr[na];if(pa!==Cn){Cn=pa;var va=Se.featureIndexArray.get(pa),Ua=null;Se.loadMatchingFeature(Gn,va.bucketIndex,va.sourceLayerIndex,va.featureIndex,gt,De.layers,De.availableImages,G,ie,pe,function(Oa,Na,ui){return Ua||(Ua=Ei(Oa)),Na.queryIntersectsFeature(Ct,Oa,ui,Ua,Se.z,R.transform,Qe,R.pixelPosMatrix)})}},Zn=0;Zn<lr.length;Zn++)Bn(Zn);return Gn},Uh.prototype.loadMatchingFeature=function(R,G,ie,pe,Se,De,Qe,gt,Ct,Dt,jt){var lr=this.bucketLayerIDs[G];if(!(De&&!k(De,lr))){var nr=this.sourceLayerCoder.decode(ie),Mr=this.vtLayers[nr],Xr=Mr.feature(pe);if(Se.needGeometry){var mn=no(Xr,!0);if(!Se.filter(new Fa(this.tileID.overscaledZ),mn,this.tileID.canonical))return}else if(!Se.filter(new Fa(this.tileID.overscaledZ),Xr))return;for(var cn=this.getId(Xr,nr),Gn=0;Gn<lr.length;Gn++){var Cn=lr[Gn];if(!(De&&De.indexOf(Cn)<0)){var Bn=gt[Cn];if(Bn){var Zn={};cn!==void 0&&Dt&&(Zn=Dt.getState(Bn.sourceLayer||"_geojsonTileLayer",cn));var na=x({},Ct[Cn]);na.paint=nw(na.paint,Bn.paint,Xr,Zn,Qe),na.layout=nw(na.layout,Bn.layout,Xr,Zn,Qe);var pa=!jt||jt(Xr,Bn,Zn);if(pa){var va=new ly(Xr,this.z,this.x,this.y,cn);va.layer=na;var Ua=R[Cn];Ua===void 0&&(Ua=R[Cn]=[]),Ua.push({featureIndex:pe,feature:va,intersectionZ:pa})}}}}}},Uh.prototype.lookupSymbolFeatures=function(R,G,ie,pe,Se,De,Qe,gt){var Ct={};this.loadVTLayers();for(var Dt=As(Se),jt=0,lr=R;jt<lr.length;jt+=1){var nr=lr[jt];this.loadMatchingFeature(Ct,ie,pe,nr,Dt,De,Qe,gt,G)}return Ct},Uh.prototype.hasLayer=function(R){for(var G=0,ie=this.bucketLayerIDs;G<ie.length;G+=1)for(var pe=ie[G],Se=0,De=pe;Se<De.length;Se+=1){var Qe=De[Se];if(R===Qe)return!0}return!1},Uh.prototype.getId=function(R,G){var ie=R.id;if(this.promoteId){var pe=typeof this.promoteId=="string"?this.promoteId:this.promoteId[G];ie=R.properties[pe],typeof ie=="boolean"&&(ie=Number(ie))}return ie},Ne("FeatureIndex",Uh,{omit:["rawTileData","sourceLayerCoder"]});function nw(P,R,G,ie,pe){return I(P,function(Se,De){var Qe=R instanceof Wo?R.get(De):null;return Qe&&Qe.evaluate?Qe.evaluate(G,ie,pe):Qe})}function aw(P){for(var R=1/0,G=1/0,ie=-1/0,pe=-1/0,Se=0,De=P;Se<De.length;Se+=1){var Qe=De[Se];R=Math.min(R,Qe.x),G=Math.min(G,Qe.y),ie=Math.max(ie,Qe.x),pe=Math.max(pe,Qe.y)}return{minX:R,minY:G,maxX:ie,maxY:pe}}function N5(P,R){return R-P}var B5=3e4,zs=function(R,G){this.tileID=R,this.uid=y(),this.uses=0,this.tileSize=G,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};zs.prototype.registerFadeDuration=function(R){var G=R+this.timeAdded;G<ue.now()||this.fadeEndTime&&G<this.fadeEndTime||(this.fadeEndTime=G)},zs.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},zs.prototype.loadVectorData=function(R,G,ie){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!R){this.collisionBoxArray=new Kv;return}R.featureIndex&&(this.latestFeatureIndex=R.featureIndex,R.rawTileData?(this.latestRawTileData=R.rawTileData,this.latestFeatureIndex.rawTileData=R.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=R.collisionBoxArray,this.buckets=F5(R.buckets,G.style),this.hasSymbolBuckets=!1;for(var pe in this.buckets){var Se=this.buckets[pe];if(Se instanceof ro)if(this.hasSymbolBuckets=!0,ie)Se.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var De in this.buckets){var Qe=this.buckets[De];if(Qe instanceof ro&&Qe.hasRTLText){this.hasRTLText=!0,Ja();break}}this.queryPadding=0;for(var gt in this.buckets){var Ct=this.buckets[gt];this.queryPadding=Math.max(this.queryPadding,G.style.getLayer(gt).queryRadius(Ct))}R.imageAtlas&&(this.imageAtlas=R.imageAtlas),R.glyphAtlasImage&&(this.glyphAtlasImage=R.glyphAtlasImage)},zs.prototype.unloadVectorData=function(){for(var R in this.buckets)this.buckets[R].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},zs.prototype.getBucket=function(R){return this.buckets[R.id]},zs.prototype.upload=function(R){for(var G in this.buckets){var ie=this.buckets[G];ie.uploadPending()&&ie.upload(R)}var pe=R.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Dn(R,this.imageAtlas.image,pe.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Dn(R,this.glyphAtlasImage,pe.ALPHA),this.glyphAtlasImage=null)},zs.prototype.prepare=function(R){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(R,this.imageAtlasTexture)},zs.prototype.queryRenderedFeatures=function(R,G,ie,pe,Se,De,Qe,gt,Ct,Dt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:pe,cameraQueryGeometry:Se,scale:De,tileSize:this.tileSize,pixelPosMatrix:Dt,transform:gt,params:Qe,queryPadding:this.queryPadding*Ct},R,G,ie)},zs.prototype.querySourceFeatures=function(R,G){var ie=this.latestFeatureIndex;if(!(!ie||!ie.rawTileData)){var pe=ie.loadVTLayers(),Se=G?G.sourceLayer:"",De=pe._geojsonTileLayer||pe[Se];if(De)for(var Qe=As(G&&G.filter),gt=this.tileID.canonical,Ct=gt.z,Dt=gt.x,jt=gt.y,lr={z:Ct,x:Dt,y:jt},nr=0;nr<De.length;nr++){var Mr=De.feature(nr);if(Qe.needGeometry){var Xr=no(Mr,!0);if(!Qe.filter(new Fa(this.tileID.overscaledZ),Xr,this.tileID.canonical))continue}else if(!Qe.filter(new Fa(this.tileID.overscaledZ),Mr))continue;var mn=ie.getId(Mr,Se),cn=new ly(Mr,Ct,Dt,jt,mn);cn.tile=lr,R.push(cn)}}},zs.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},zs.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},zs.prototype.setExpiryData=function(R){var G=this.expirationTime;if(R.cacheControl){var ie=ne(R.cacheControl);ie["max-age"]&&(this.expirationTime=Date.now()+ie["max-age"]*1e3)}else R.expires&&(this.expirationTime=new Date(R.expires).getTime());if(this.expirationTime){var pe=Date.now(),Se=!1;if(this.expirationTime>pe)Se=!1;else if(!G)Se=!0;else if(this.expirationTime<G)Se=!0;else{var De=this.expirationTime-G;De?this.expirationTime=pe+Math.max(De,B5):Se=!0}Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},zs.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},zs.prototype.setFeatureState=function(R,G){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(R).length===0)){var ie=this.latestFeatureIndex.loadVTLayers();for(var pe in this.buckets)if(G.style.hasLayer(pe)){var Se=this.buckets[pe],De=Se.layers[0].sourceLayer||"_geojsonTileLayer",Qe=ie[De],gt=R[De];if(!(!Qe||!gt||Object.keys(gt).length===0)){Se.update(gt,Qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Ct=G&&G.style&&G.style.getLayer(pe);Ct&&(this.queryPadding=Math.max(this.queryPadding,Ct.queryRadius(Se)))}}}},zs.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},zs.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ue.now()},zs.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},zs.prototype.setHoldDuration=function(R){this.symbolFadeHoldUntil=ue.now()+R},zs.prototype.setDependencies=function(R,G){for(var ie={},pe=0,Se=G;pe<Se.length;pe+=1){var De=Se[pe];ie[De]=!0}this.dependencies[R]=ie},zs.prototype.hasDependency=function(R,G){for(var ie=0,pe=R;ie<pe.length;ie+=1){var Se=pe[ie],De=this.dependencies[Se];if(De)for(var Qe=0,gt=G;Qe<gt.length;Qe+=1){var Ct=gt[Qe];if(De[Ct])return!0}}return!1};var U5=["type","source","source-layer","minzoom","maxzoom","filter","layout"],bv=s.performance,iw=function(R){this._marks={start:[R.url,"start"].join("#"),end:[R.url,"end"].join("#"),measure:R.url.toString()},bv.mark(this._marks.start)};iw.prototype.finish=function(){bv.mark(this._marks.end);var R=bv.getEntriesByName(this._marks.measure);return R.length===0&&(bv.measure(this._marks.measure,this._marks.start,this._marks.end),R=bv.getEntriesByName(this._marks.measure),bv.clearMarks(this._marks.start),bv.clearMarks(this._marks.end),bv.clearMeasures(this._marks.measure)),R},n.Actor=sa,n.AlphaImage=zh,n.CanonicalTileID=vd,n.CollisionBoxArray=Kv,n.Color=Ti,n.DEMData=Bh,n.DataConstantProperty=ga,n.DictionaryCoder=sy,n.EXTENT=Ba,n.ErrorEvent=Vt,n.EvaluationParameters=Fa,n.Event=or,n.Evented=yr,n.FeatureIndex=Uh,n.FillBucket=ff,n.FillExtrusionBucket=il,n.ImageAtlas=ud,n.ImagePosition=ld,n.LineBucket=ol,n.LngLat=qa,n.LngLatBounds=Ha,n.MercatorCoordinate=wh,n.ONE_EM=ds,n.OverscaledTileID=ps,n.Point=r,n.Point$1=r,n.Properties=ki,n.Protobuf=ao,n.RGBAImage=bl,n.RequestManager=He,n.RequestPerformance=iw,n.ResourceType=Tr,n.SegmentVector=No,n.SourceFeatureState=ap,n.StructArrayLayout1ui2=Ff,n.StructArrayLayout2f1f2i16=sf,n.StructArrayLayout2i4=Nc,n.StructArrayLayout3ui6=Ql,n.StructArrayLayout4i8=jv,n.SymbolBucket=ro,n.Texture=Dn,n.Tile=zs,n.Transitionable=Mi,n.Uniform1f=en,n.Uniform1i=Vr,n.Uniform2f=qr,n.Uniform3f=Jr,n.Uniform4f=an,n.UniformColor=xn,n.UniformMatrix4f=Xn,n.UnwrappedTileID=rw,n.ValidationError=Gr,n.WritingMode=tu,n.ZoomHistory=Xt,n.add=iv,n.addDynamicAttributes=T0,n.asyncAll=c,n.bezier=l,n.bindAll=_,n.browser=ue,n.cacheEntryPossiblyAdded=Ft,n.clamp=h,n.clearTileCache=_r,n.clipLine=g0,n.clone=kh,n.clone$1=N,n.clone$2=Kp,n.collisionCircleLayout=j1,n.config=ae,n.create=nv,n.create$1=Xs,n.create$2=Ih,n.createCommonjsModule=C,n.createExpression=Jl,n.createLayout=fo,n.createStyleLayer=et,n.cross=Gm,n.deepEqual=a,n.dot=Hm,n.dot$1=jm,n.ease=m,n.emitValidationErrors=Qa,n.endsWith=b,n.enforceCacheSizeLimit=rr,n.evaluateSizeForFeature=Jg,n.evaluateSizeForZoom=$g,n.evaluateVariableOffset=ay,n.evented=ka,n.extend=x,n.featureFilter=As,n.filterObject=D,n.fromRotation=ph,n.getAnchorAlignment=d0,n.getAnchorJustification=x0,n.getArrayBuffer=Wt,n.getImage=Nt,n.getJSON=It,n.getRTLTextPluginStatus=ti,n.getReferrer=bt,n.getVideo=Qt,n.identity=av,n.invert=gh,n.isChar=Zt,n.isMapboxURL=Ve,n.keysDifference=d,n.makeRequest=Ot,n.mapObject=I,n.mercatorXfromLng=Ji,n.mercatorYfromLat=ru,n.mercatorZfromAltitude=Tl,n.mul=jp,n.multiply=yh,n.mvt=lv,n.nextPowerOfTwo=w,n.normalize=Oh,n.number=eo,n.offscreenCanvasSupported=tr,n.ortho=Zp,n.parseGlyphPBF=Vg,n.pbf=ao,n.performSymbolLayout=Px,n.perspective=$v,n.pick=A,n.plugin=ua,n.polygonIntersectsPolygon=li,n.postMapLoadEvent=Ye,n.postTurnstileEvent=Ze,n.potpack=Gg,n.refProperties=U5,n.register=Ne,n.registerForPluginStateChange=Ai,n.renderColorRamp=mg,n.rotate=dh,n.rotateX=xl,n.rotateZ=al,n.scale=ml,n.scale$1=Zm,n.scale$2=$p,n.setCacheLimits=Tt,n.setRTLTextPlugin=wo,n.sphericalToCartesian=W,n.sqrLen=$m,n.styleSpec=Lr,n.sub=Ym,n.symbolSize=Ax,n.transformMat3=Wm,n.transformMat4=Nd,n.translate=Bo,n.triggerPluginCompletionEvent=Ea,n.uniqueId=y,n.validateCustomStyleLayer=Yx,n.validateLight=ia,n.validateStyle=Yn,n.values=i,n.vectorTile=lv,n.version=T,n.warnOnce=F,n.webpSupported=ce,n.window=s,n.wrap=M}),L(["./shared"],function(n){function C(bt){var lt=typeof bt;if(lt==="number"||lt==="boolean"||lt==="string"||bt===void 0||bt===null)return JSON.stringify(bt);if(Array.isArray(bt)){for(var Mt="[",_t=0,Ot=bt;_t<Ot.length;_t+=1){var It=Ot[_t];Mt+=C(It)+","}return Mt+"]"}for(var Wt=Object.keys(bt).sort(),Gt="{",er=0;er<Wt.length;er++)Gt+=JSON.stringify(Wt[er])+":"+C(bt[Wt[er]])+",";return Gt+"}"}function T(bt){for(var lt="",Mt=0,_t=n.refProperties;Mt<_t.length;Mt+=1){var Ot=_t[Mt];lt+="/"+C(bt[Ot])}return lt}function v(bt,lt){for(var Mt={},_t=0;_t<bt.length;_t++){var Ot=lt&&lt[bt[_t].id]||T(bt[_t]);lt&&(lt[bt[_t].id]=Ot);var It=Mt[Ot];It||(It=Mt[Ot]=[]),It.push(bt[_t])}var Wt=[];for(var Gt in Mt)Wt.push(Mt[Gt]);return Wt}var g=function(lt){this.keyCache={},lt&&this.replace(lt)};g.prototype.replace=function(lt){this._layerConfigs={},this._layers={},this.update(lt,[])},g.prototype.update=function(lt,Mt){for(var _t=this,Ot=0,It=lt;Ot<It.length;Ot+=1){var Wt=It[Ot];this._layerConfigs[Wt.id]=Wt;var Gt=this._layers[Wt.id]=n.createStyleLayer(Wt);Gt._featureFilter=n.featureFilter(Gt.filter),this.keyCache[Wt.id]&&delete this.keyCache[Wt.id]}for(var er=0,dr=Mt;er<dr.length;er+=1){var pr=dr[er];delete this.keyCache[pr],delete this._layerConfigs[pr],delete this._layers[pr]}this.familiesBySource={};for(var mr=v(n.values(this._layerConfigs),this.keyCache),Xe=0,Ge=mr;Xe<Ge.length;Xe+=1){var Ut=Ge[Xe],Nt=Ut.map(function(yr){return _t._layers[yr.id]}),Qt=Nt[0];if(Qt.visibility!=="none"){var ar=Qt.source||"",hr=this.familiesBySource[ar];hr||(hr=this.familiesBySource[ar]={});var or=Qt.sourceLayer||"_geojsonTileLayer",Vt=hr[or];Vt||(Vt=hr[or]=[]),Vt.push(Nt)}}};var r=1,t=function(lt){var Mt={},_t=[];for(var Ot in lt){var It=lt[Ot],Wt=Mt[Ot]={};for(var Gt in It){var er=It[+Gt];if(!(!er||er.bitmap.width===0||er.bitmap.height===0)){var dr={x:0,y:0,w:er.bitmap.width+2*r,h:er.bitmap.height+2*r};_t.push(dr),Wt[Gt]={rect:dr,metrics:er.metrics}}}}var pr=n.potpack(_t),mr=pr.w,Xe=pr.h,Ge=new n.AlphaImage({width:mr||1,height:Xe||1});for(var Ut in lt){var Nt=lt[Ut];for(var Qt in Nt){var ar=Nt[+Qt];if(!(!ar||ar.bitmap.width===0||ar.bitmap.height===0)){var hr=Mt[Ut][Qt].rect;n.AlphaImage.copy(ar.bitmap,Ge,{x:0,y:0},{x:hr.x+r,y:hr.y+r},ar.bitmap)}}}this.image=Ge,this.positions=Mt};n.register("GlyphAtlas",t);var s=function(lt){this.tileID=new n.OverscaledTileID(lt.tileID.overscaledZ,lt.tileID.wrap,lt.tileID.canonical.z,lt.tileID.canonical.x,lt.tileID.canonical.y),this.uid=lt.uid,this.zoom=lt.zoom,this.pixelRatio=lt.pixelRatio,this.tileSize=lt.tileSize,this.source=lt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=lt.showCollisionBoxes,this.collectResourceTiming=!!lt.collectResourceTiming,this.returnDependencies=!!lt.returnDependencies,this.promoteId=lt.promoteId};s.prototype.parse=function(lt,Mt,_t,Ot,It){var Wt=this;this.status="parsing",this.data=lt,this.collisionBoxArray=new n.CollisionBoxArray;var Gt=new n.DictionaryCoder(Object.keys(lt.layers).sort()),er=new n.FeatureIndex(this.tileID,this.promoteId);er.bucketLayerIDs=[];var dr={},pr={featureIndex:er,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:_t},mr=Mt.familiesBySource[this.source];for(var Xe in mr){var Ge=lt.layers[Xe];if(Ge){Ge.version===1&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+Xe+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ut=Gt.encode(Xe),Nt=[],Qt=0;Qt<Ge.length;Qt++){var ar=Ge.feature(Qt),hr=er.getId(ar,Xe);Nt.push({feature:ar,id:hr,index:Qt,sourceLayerIndex:Ut})}for(var or=0,Vt=mr[Xe];or<Vt.length;or+=1){var yr=Vt[or],wr=yr[0];if(!(wr.minzoom&&this.zoom<Math.floor(wr.minzoom))&&!(wr.maxzoom&&this.zoom>=wr.maxzoom)&&wr.visibility!=="none"){a(yr,this.zoom,_t);var Ar=dr[wr.id]=wr.createBucket({index:er.bucketLayerIDs.length,layers:yr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ut,sourceID:this.source});Ar.populate(Nt,pr,this.tileID.canonical),er.bucketLayerIDs.push(yr.map(function(Pr){return Pr.id}))}}}}var gr,jr,Fr,Nr,wn=n.mapObject(pr.glyphDependencies,function(Pr){return Object.keys(Pr).map(Number)});Object.keys(wn).length?Ot.send("getGlyphs",{uid:this.uid,stacks:wn},function(Pr,Or){gr||(gr=Pr,jr=Or,Fn.call(Wt))}):jr={};var hn=Object.keys(pr.iconDependencies);hn.length?Ot.send("getImages",{icons:hn,source:this.source,tileID:this.tileID,type:"icons"},function(Pr,Or){gr||(gr=Pr,Fr=Or,Fn.call(Wt))}):Fr={};var Un=Object.keys(pr.patternDependencies);Un.length?Ot.send("getImages",{icons:Un,source:this.source,tileID:this.tileID,type:"patterns"},function(Pr,Or){gr||(gr=Pr,Nr=Or,Fn.call(Wt))}):Nr={},Fn.call(this);function Fn(){if(gr)return It(gr);if(jr&&Fr&&Nr){var Pr=new t(jr),Or=new n.ImageAtlas(Fr,Nr);for(var Qr in dr){var Zr=dr[Qr];Zr instanceof n.SymbolBucket?(a(Zr.layers,this.zoom,_t),n.performSymbolLayout(Zr,jr,Pr.positions,Fr,Or.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Zr.hasPattern&&(Zr instanceof n.LineBucket||Zr instanceof n.FillBucket||Zr instanceof n.FillExtrusionBucket)&&(a(Zr.layers,this.zoom,_t),Zr.addFeatures(pr,this.tileID.canonical,Or.patternPositions))}this.status="done",It(null,{buckets:n.values(dr).filter(function(vn){return!vn.isEmpty()}),featureIndex:er,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Pr.image,imageAtlas:Or,glyphMap:this.returnDependencies?jr:null,iconMap:this.returnDependencies?Fr:null,glyphPositions:this.returnDependencies?Pr.positions:null})}}};function a(bt,lt,Mt){for(var _t=new n.EvaluationParameters(lt),Ot=0,It=bt;Ot<It.length;Ot+=1){var Wt=It[Ot];Wt.recalculate(_t,Mt)}}function f(bt,lt){var Mt=n.getArrayBuffer(bt.request,function(_t,Ot,It,Wt){_t?lt(_t):Ot&&lt(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(Ot)),rawData:Ot,cacheControl:It,expires:Wt})});return function(){Mt.cancel(),lt()}}var u=function(lt,Mt,_t,Ot){this.actor=lt,this.layerIndex=Mt,this.availableImages=_t,this.loadVectorData=Ot||f,this.loading={},this.loaded={}};u.prototype.loadTile=function(lt,Mt){var _t=this,Ot=lt.uid;this.loading||(this.loading={});var It=lt&&lt.request&&lt.request.collectResourceTiming?new n.RequestPerformance(lt.request):!1,Wt=this.loading[Ot]=new s(lt);Wt.abort=this.loadVectorData(lt,function(Gt,er){if(delete _t.loading[Ot],Gt||!er)return Wt.status="done",_t.loaded[Ot]=Wt,Mt(Gt);var dr=er.rawData,pr={};er.expires&&(pr.expires=er.expires),er.cacheControl&&(pr.cacheControl=er.cacheControl);var mr={};if(It){var Xe=It.finish();Xe&&(mr.resourceTiming=JSON.parse(JSON.stringify(Xe)))}Wt.vectorTile=er.vectorTile,Wt.parse(er.vectorTile,_t.layerIndex,_t.availableImages,_t.actor,function(Ge,Ut){if(Ge||!Ut)return Mt(Ge);Mt(null,n.extend({rawTileData:dr.slice(0)},Ut,pr,mr))}),_t.loaded=_t.loaded||{},_t.loaded[Ot]=Wt})},u.prototype.reloadTile=function(lt,Mt){var _t=this,Ot=this.loaded,It=lt.uid,Wt=this;if(Ot&&Ot[It]){var Gt=Ot[It];Gt.showCollisionBoxes=lt.showCollisionBoxes;var er=function(dr,pr){var mr=Gt.reloadCallback;mr&&(delete Gt.reloadCallback,Gt.parse(Gt.vectorTile,Wt.layerIndex,_t.availableImages,Wt.actor,mr)),Mt(dr,pr)};Gt.status==="parsing"?Gt.reloadCallback=er:Gt.status==="done"&&(Gt.vectorTile?Gt.parse(Gt.vectorTile,this.layerIndex,this.availableImages,this.actor,er):er())}},u.prototype.abortTile=function(lt,Mt){var _t=this.loading,Ot=lt.uid;_t&&_t[Ot]&&_t[Ot].abort&&(_t[Ot].abort(),delete _t[Ot]),Mt()},u.prototype.removeTile=function(lt,Mt){var _t=this.loaded,Ot=lt.uid;_t&&_t[Ot]&&delete _t[Ot],Mt()};var l=n.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(lt,Mt){var _t=lt.uid,Ot=lt.encoding,It=lt.rawImageData,Wt=l&&It instanceof l?this.getImageData(It):It,Gt=new n.DEMData(_t,Wt,Ot);this.loaded=this.loaded||{},this.loaded[_t]=Gt,Mt(null,Gt)},m.prototype.getImageData=function(lt){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(lt.width,lt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=lt.width,this.offscreenCanvas.height=lt.height,this.offscreenCanvasContext.drawImage(lt,0,0,lt.width,lt.height);var Mt=this.offscreenCanvasContext.getImageData(-1,-1,lt.width+2,lt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:Mt.width,height:Mt.height},Mt.data)},m.prototype.removeTile=function(lt){var Mt=this.loaded,_t=lt.uid;Mt&&Mt[_t]&&delete Mt[_t]};var h=M;function M(bt,lt){var Mt=bt&&bt.type,_t;if(Mt==="FeatureCollection")for(_t=0;_t<bt.features.length;_t++)M(bt.features[_t],lt);else if(Mt==="GeometryCollection")for(_t=0;_t<bt.geometries.length;_t++)M(bt.geometries[_t],lt);else if(Mt==="Feature")M(bt.geometry,lt);else if(Mt==="Polygon")c(bt.coordinates,lt);else if(Mt==="MultiPolygon")for(_t=0;_t<bt.coordinates.length;_t++)c(bt.coordinates[_t],lt);return bt}function c(bt,lt){if(bt.length!==0){i(bt[0],lt);for(var Mt=1;Mt<bt.length;Mt++)i(bt[Mt],!lt)}}function i(bt,lt){for(var Mt=0,_t=0,Ot=bt.length,It=Ot-1;_t<Ot;It=_t++)Mt+=(bt[_t][0]-bt[It][0])*(bt[It][1]+bt[_t][1]);Mt>=0!=!!lt&&bt.reverse()}var d=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(lt){this._feature=lt,this.extent=n.EXTENT,this.type=lt.type,this.properties=lt.tags,"id"in lt&&!isNaN(lt.id)&&(this.id=parseInt(lt.id,10))};x.prototype.loadGeometry=function(){if(this._feature.type===1){for(var lt=[],Mt=0,_t=this._feature.geometry;Mt<_t.length;Mt+=1){var Ot=_t[Mt];lt.push([new n.Point$1(Ot[0],Ot[1])])}return lt}else{for(var It=[],Wt=0,Gt=this._feature.geometry;Wt<Gt.length;Wt+=1){for(var er=Gt[Wt],dr=[],pr=0,mr=er;pr<mr.length;pr+=1){var Xe=mr[pr];dr.push(new n.Point$1(Xe[0],Xe[1]))}It.push(dr)}return It}},x.prototype.toGeoJSON=function(lt,Mt,_t){return d.call(this,lt,Mt,_t)};var A=function(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=lt.length,this._features=lt};A.prototype.feature=function(lt){return new x(this._features[lt])};var E=n.vectorTile.VectorTileFeature,y=S;function S(bt,lt){this.options=lt||{},this.features=bt,this.length=bt.length}S.prototype.feature=function(bt){return new w(this.features[bt],this.options.extent)};function w(bt,lt){this.id=typeof bt.id=="number"?bt.id:void 0,this.type=bt.type,this.rawGeometry=bt.type===1?[bt.geometry]:bt.geometry,this.properties=bt.tags,this.extent=lt||4096}w.prototype.loadGeometry=function(){var bt=this.rawGeometry;this.geometry=[];for(var lt=0;lt<bt.length;lt++){for(var Mt=bt[lt],_t=[],Ot=0;Ot<Mt.length;Ot++)_t.push(new n.Point$1(Mt[Ot][0],Mt[Ot][1]));this.geometry.push(_t)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var bt=this.geometry,lt=1/0,Mt=-1/0,_t=1/0,Ot=-1/0,It=0;It<bt.length;It++)for(var Wt=bt[It],Gt=0;Gt<Wt.length;Gt++){var er=Wt[Gt];lt=Math.min(lt,er.x),Mt=Math.max(Mt,er.x),_t=Math.min(_t,er.y),Ot=Math.max(Ot,er.y)}return[lt,_t,Mt,Ot]},w.prototype.toGeoJSON=E.prototype.toGeoJSON;var o=D,_=D,b=N,I=y;function D(bt){var lt=new n.pbf;return k(bt,lt),lt.finish()}function N(bt,lt){lt=lt||{};var Mt={};for(var _t in bt)Mt[_t]=new y(bt[_t].features,lt),Mt[_t].name=_t,Mt[_t].version=lt.version,Mt[_t].extent=lt.extent;return D({layers:Mt})}function k(bt,lt){for(var Mt in bt.layers)lt.writeMessage(3,z,bt.layers[Mt])}function z(bt,lt){lt.writeVarintField(15,bt.version||1),lt.writeStringField(1,bt.name||""),lt.writeVarintField(5,bt.extent||4096);var Mt,_t={keys:[],values:[],keycache:{},valuecache:{}};for(Mt=0;Mt<bt.length;Mt++)_t.feature=bt.feature(Mt),lt.writeMessage(2,F,_t);var Ot=_t.keys;for(Mt=0;Mt<Ot.length;Mt++)lt.writeStringField(3,Ot[Mt]);var It=_t.values;for(Mt=0;Mt<It.length;Mt++)lt.writeMessage(4,ne,It[Mt])}function F(bt,lt){var Mt=bt.feature;Mt.id!==void 0&&lt.writeVarintField(1,Mt.id),lt.writeMessage(2,O,bt),lt.writeVarintField(3,Mt.type),lt.writeMessage(4,ee,Mt)}function O(bt,lt){var Mt=bt.feature,_t=bt.keys,Ot=bt.values,It=bt.keycache,Wt=bt.valuecache;for(var Gt in Mt.properties){var er=It[Gt];typeof er>"u"&&(_t.push(Gt),er=_t.length-1,It[Gt]=er),lt.writeVarint(er);var dr=Mt.properties[Gt],pr=typeof dr;pr!=="string"&&pr!=="boolean"&&pr!=="number"&&(dr=JSON.stringify(dr));var mr=pr+":"+dr,Xe=Wt[mr];typeof Xe>"u"&&(Ot.push(dr),Xe=Ot.length-1,Wt[mr]=Xe),lt.writeVarint(Xe)}}function B(bt,lt){return(lt<<3)+(bt&7)}function W(bt){return bt<<1^bt>>31}function ee(bt,lt){for(var Mt=bt.loadGeometry(),_t=bt.type,Ot=0,It=0,Wt=Mt.length,Gt=0;Gt<Wt;Gt++){var er=Mt[Gt],dr=1;_t===1&&(dr=er.length),lt.writeVarint(B(1,dr));for(var pr=_t===3?er.length-1:er.length,mr=0;mr<pr;mr++){mr===1&&_t!==1&&lt.writeVarint(B(2,pr-1));var Xe=er[mr].x-Ot,Ge=er[mr].y-It;lt.writeVarint(W(Xe)),lt.writeVarint(W(Ge)),Ot+=Xe,It+=Ge}_t===3&&lt.writeVarint(B(7,1))}}function ne(bt,lt){var Mt=typeof bt;Mt==="string"?lt.writeStringField(1,bt):Mt==="boolean"?lt.writeBooleanField(7,bt):Mt==="number"&&(bt%1!==0?lt.writeDoubleField(3,bt):bt<0?lt.writeSVarintField(6,bt):lt.writeVarintField(5,bt))}o.fromVectorTileJs=_,o.fromGeojsonVt=b,o.GeoJSONWrapper=I;function Q(bt,lt,Mt,_t,Ot,It){if(!(Ot-_t<=Mt)){var Wt=_t+Ot>>1;le(bt,lt,Wt,_t,Ot,It%2),Q(bt,lt,Mt,_t,Wt-1,It+1),Q(bt,lt,Mt,Wt+1,Ot,It+1)}}function le(bt,lt,Mt,_t,Ot,It){for(;Ot>_t;){if(Ot-_t>600){var Wt=Ot-_t+1,Gt=Mt-_t+1,er=Math.log(Wt),dr=.5*Math.exp(2*er/3),pr=.5*Math.sqrt(er*dr*(Wt-dr)/Wt)*(Gt-Wt/2<0?-1:1),mr=Math.max(_t,Math.floor(Mt-Gt*dr/Wt+pr)),Xe=Math.min(Ot,Math.floor(Mt+(Wt-Gt)*dr/Wt+pr));le(bt,lt,Mt,mr,Xe,It)}var Ge=lt[2*Mt+It],Ut=_t,Nt=Ot;for(Z(bt,lt,_t,Mt),lt[2*Ot+It]>Ge&&Z(bt,lt,_t,Ot);Ut<Nt;){for(Z(bt,lt,Ut,Nt),Ut++,Nt--;lt[2*Ut+It]<Ge;)Ut++;for(;lt[2*Nt+It]>Ge;)Nt--}lt[2*_t+It]===Ge?Z(bt,lt,_t,Nt):(Nt++,Z(bt,lt,Nt,Ot)),Nt<=Mt&&(_t=Nt+1),Mt<=Nt&&(Ot=Nt-1)}}function Z(bt,lt,Mt,_t){Y(bt,Mt,_t),Y(lt,2*Mt,2*_t),Y(lt,2*Mt+1,2*_t+1)}function Y(bt,lt,Mt){var _t=bt[lt];bt[lt]=bt[Mt],bt[Mt]=_t}function re(bt,lt,Mt,_t,Ot,It,Wt){for(var Gt=[0,bt.length-1,0],er=[],dr,pr;Gt.length;){var mr=Gt.pop(),Xe=Gt.pop(),Ge=Gt.pop();if(Xe-Ge<=Wt){for(var Ut=Ge;Ut<=Xe;Ut++)dr=lt[2*Ut],pr=lt[2*Ut+1],dr>=Mt&&dr<=Ot&&pr>=_t&&pr<=It&&er.push(bt[Ut]);continue}var Nt=Math.floor((Ge+Xe)/2);dr=lt[2*Nt],pr=lt[2*Nt+1],dr>=Mt&&dr<=Ot&&pr>=_t&&pr<=It&&er.push(bt[Nt]);var Qt=(mr+1)%2;(mr===0?Mt<=dr:_t<=pr)&&(Gt.push(Ge),Gt.push(Nt-1),Gt.push(Qt)),(mr===0?Ot>=dr:It>=pr)&&(Gt.push(Nt+1),Gt.push(Xe),Gt.push(Qt))}return er}function X(bt,lt,Mt,_t,Ot,It){for(var Wt=[0,bt.length-1,0],Gt=[],er=Ot*Ot;Wt.length;){var dr=Wt.pop(),pr=Wt.pop(),mr=Wt.pop();if(pr-mr<=It){for(var Xe=mr;Xe<=pr;Xe++)q(lt[2*Xe],lt[2*Xe+1],Mt,_t)<=er&&Gt.push(bt[Xe]);continue}var Ge=Math.floor((mr+pr)/2),Ut=lt[2*Ge],Nt=lt[2*Ge+1];q(Ut,Nt,Mt,_t)<=er&&Gt.push(bt[Ge]);var Qt=(dr+1)%2;(dr===0?Mt-Ot<=Ut:_t-Ot<=Nt)&&(Wt.push(mr),Wt.push(Ge-1),Wt.push(Qt)),(dr===0?Mt+Ot>=Ut:_t+Ot>=Nt)&&(Wt.push(Ge+1),Wt.push(pr),Wt.push(Qt))}return Gt}function q(bt,lt,Mt,_t){var Ot=bt-Mt,It=lt-_t;return Ot*Ot+It*It}var se=function(bt){return bt[0]},$=function(bt){return bt[1]},j=function(lt,Mt,_t,Ot,It){Mt===void 0&&(Mt=se),_t===void 0&&(_t=$),Ot===void 0&&(Ot=64),It===void 0&&(It=Float64Array),this.nodeSize=Ot,this.points=lt;for(var Wt=lt.length<65536?Uint16Array:Uint32Array,Gt=this.ids=new Wt(lt.length),er=this.coords=new It(lt.length*2),dr=0;dr<lt.length;dr++)Gt[dr]=dr,er[2*dr]=Mt(lt[dr]),er[2*dr+1]=_t(lt[dr]);Q(Gt,er,Ot,0,Gt.length-1,0)};j.prototype.range=function(lt,Mt,_t,Ot){return re(this.ids,this.coords,lt,Mt,_t,Ot,this.nodeSize)},j.prototype.within=function(lt,Mt,_t){return X(this.ids,this.coords,lt,Mt,_t,this.nodeSize)};var ue={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(bt){return bt}},ae=function(lt){this.options=Re(Object.create(ue),lt),this.trees=new Array(this.options.maxZoom+1)};ae.prototype.load=function(lt){var Mt=this.options,_t=Mt.log,Ot=Mt.minZoom,It=Mt.maxZoom,Wt=Mt.nodeSize;_t&&console.time("total time");var Gt="prepare "+lt.length+" points";_t&&console.time(Gt),this.points=lt;for(var er=[],dr=0;dr<lt.length;dr++)lt[dr].geometry&&er.push(ye(lt[dr],dr));this.trees[It+1]=new j(er,He,Ve,Wt,Float32Array),_t&&console.timeEnd(Gt);for(var pr=It;pr>=Ot;pr--){var mr=+Date.now();er=this._cluster(er,pr),this.trees[pr]=new j(er,He,Ve,Wt,Float32Array),_t&&console.log("z%d: %d clusters in %dms",pr,er.length,+Date.now()-mr)}return _t&&console.timeEnd("total time"),this},ae.prototype.getClusters=function(lt,Mt){var _t=((lt[0]+180)%360+360)%360-180,Ot=Math.max(-90,Math.min(90,lt[1])),It=lt[2]===180?180:((lt[2]+180)%360+360)%360-180,Wt=Math.max(-90,Math.min(90,lt[3]));if(lt[2]-lt[0]>=360)_t=-180,It=180;else if(_t>It){var Gt=this.getClusters([_t,Ot,180,Wt],Mt),er=this.getClusters([-180,Ot,It,Wt],Mt);return Gt.concat(er)}for(var dr=this.trees[this._limitZoom(Mt)],pr=dr.range(Ie(_t),Te(Wt),Ie(It),Te(Ot)),mr=[],Xe=0,Ge=pr;Xe<Ge.length;Xe+=1){var Ut=Ge[Xe],Nt=dr.points[Ut];mr.push(Nt.numPoints?Ce(Nt):this.points[Nt.index])}return mr},ae.prototype.getChildren=function(lt){var Mt=this._getOriginId(lt),_t=this._getOriginZoom(lt),Ot="No cluster with the specified id.",It=this.trees[_t];if(!It)throw new Error(Ot);var Wt=It.points[Mt];if(!Wt)throw new Error(Ot);for(var Gt=this.options.radius/(this.options.extent*Math.pow(2,_t-1)),er=It.within(Wt.x,Wt.y,Gt),dr=[],pr=0,mr=er;pr<mr.length;pr+=1){var Xe=mr[pr],Ge=It.points[Xe];Ge.parentId===lt&&dr.push(Ge.numPoints?Ce(Ge):this.points[Ge.index])}if(dr.length===0)throw new Error(Ot);return dr},ae.prototype.getLeaves=function(lt,Mt,_t){Mt=Mt||10,_t=_t||0;var Ot=[];return this._appendLeaves(Ot,lt,Mt,_t,0),Ot},ae.prototype.getTile=function(lt,Mt,_t){var Ot=this.trees[this._limitZoom(lt)],It=Math.pow(2,lt),Wt=this.options,Gt=Wt.extent,er=Wt.radius,dr=er/Gt,pr=(_t-dr)/It,mr=(_t+1+dr)/It,Xe={features:[]};return this._addTileFeatures(Ot.range((Mt-dr)/It,pr,(Mt+1+dr)/It,mr),Ot.points,Mt,_t,It,Xe),Mt===0&&this._addTileFeatures(Ot.range(1-dr/It,pr,1,mr),Ot.points,It,_t,It,Xe),Mt===It-1&&this._addTileFeatures(Ot.range(0,pr,dr/It,mr),Ot.points,-1,_t,It,Xe),Xe.features.length?Xe:null},ae.prototype.getClusterExpansionZoom=function(lt){for(var Mt=this._getOriginZoom(lt)-1;Mt<=this.options.maxZoom;){var _t=this.getChildren(lt);if(Mt++,_t.length!==1)break;lt=_t[0].properties.cluster_id}return Mt},ae.prototype._appendLeaves=function(lt,Mt,_t,Ot,It){for(var Wt=this.getChildren(Mt),Gt=0,er=Wt;Gt<er.length;Gt+=1){var dr=er[Gt],pr=dr.properties;if(pr&&pr.cluster?It+pr.point_count<=Ot?It+=pr.point_count:It=this._appendLeaves(lt,pr.cluster_id,_t,Ot,It):It<Ot?It++:lt.push(dr),lt.length===_t)break}return It},ae.prototype._addTileFeatures=function(lt,Mt,_t,Ot,It,Wt){for(var Gt=0,er=lt;Gt<er.length;Gt+=1){var dr=er[Gt],pr=Mt[dr],mr=pr.numPoints,Xe={type:1,geometry:[[Math.round(this.options.extent*(pr.x*It-_t)),Math.round(this.options.extent*(pr.y*It-Ot))]],tags:mr?Ae(pr):this.points[pr.index].properties},Ge=void 0;mr?Ge=pr.id:this.options.generateId?Ge=pr.index:this.points[pr.index].id&&(Ge=this.points[pr.index].id),Ge!==void 0&&(Xe.id=Ge),Wt.features.push(Xe)}},ae.prototype._limitZoom=function(lt){return Math.max(this.options.minZoom,Math.min(+lt,this.options.maxZoom+1))},ae.prototype._cluster=function(lt,Mt){for(var _t=[],Ot=this.options,It=Ot.radius,Wt=Ot.extent,Gt=Ot.reduce,er=Ot.minPoints,dr=It/(Wt*Math.pow(2,Mt)),pr=0;pr<lt.length;pr++){var mr=lt[pr];if(!(mr.zoom<=Mt)){mr.zoom=Mt;for(var Xe=this.trees[Mt+1],Ge=Xe.within(mr.x,mr.y,dr),Ut=mr.numPoints||1,Nt=Ut,Qt=0,ar=Ge;Qt<ar.length;Qt+=1){var hr=ar[Qt],or=Xe.points[hr];or.zoom>Mt&&(Nt+=or.numPoints||1)}if(Nt>=er){for(var Vt=mr.x*Ut,yr=mr.y*Ut,wr=Gt&&Ut>1?this._map(mr,!0):null,Ar=(pr<<5)+(Mt+1)+this.points.length,gr=0,jr=Ge;gr<jr.length;gr+=1){var Fr=jr[gr],Nr=Xe.points[Fr];if(!(Nr.zoom<=Mt)){Nr.zoom=Mt;var wn=Nr.numPoints||1;Vt+=Nr.x*wn,yr+=Nr.y*wn,Nr.parentId=Ar,Gt&&(wr||(wr=this._map(mr,!0)),Gt(wr,this._map(Nr)))}}mr.parentId=Ar,_t.push(ce(Vt/Nt,yr/Nt,Ar,Nt,wr))}else if(_t.push(mr),Nt>1)for(var hn=0,Un=Ge;hn<Un.length;hn+=1){var Fn=Un[hn],Pr=Xe.points[Fn];Pr.zoom<=Mt||(Pr.zoom=Mt,_t.push(Pr))}}}return _t},ae.prototype._getOriginId=function(lt){return lt-this.points.length>>5},ae.prototype._getOriginZoom=function(lt){return(lt-this.points.length)%32},ae.prototype._map=function(lt,Mt){if(lt.numPoints)return Mt?Re({},lt.properties):lt.properties;var _t=this.points[lt.index].properties,Ot=this.options.map(_t);return Mt&&Ot===_t?Re({},Ot):Ot};function ce(bt,lt,Mt,_t,Ot){return{x:bt,y:lt,zoom:1/0,id:Mt,parentId:-1,numPoints:_t,properties:Ot}}function ye(bt,lt){var Mt=bt.geometry.coordinates,_t=Mt[0],Ot=Mt[1];return{x:Ie(_t),y:Te(Ot),zoom:1/0,index:lt,parentId:-1}}function Ce(bt){return{type:"Feature",id:bt.id,properties:Ae(bt),geometry:{type:"Point",coordinates:[Le(bt.x),xe(bt.y)]}}}function Ae(bt){var lt=bt.numPoints,Mt=lt>=1e4?Math.round(lt/1e3)+"k":lt>=1e3?Math.round(lt/100)/10+"k":lt;return Re(Re({},bt.properties),{cluster:!0,cluster_id:bt.id,point_count:lt,point_count_abbreviated:Mt})}function Ie(bt){return bt/360+.5}function Te(bt){var lt=Math.sin(bt*Math.PI/180),Mt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return Mt<0?0:Mt>1?1:Mt}function Le(bt){return(bt-.5)*360}function xe(bt){var lt=(180-bt*360)*Math.PI/180;return 360*Math.atan(Math.exp(lt))/Math.PI-90}function Re(bt,lt){for(var Mt in lt)bt[Mt]=lt[Mt];return bt}function He(bt){return bt.x}function Ve(bt){return bt.y}function Fe(bt,lt,Mt,_t){for(var Ot=_t,It=Mt-lt>>1,Wt=Mt-lt,Gt,er=bt[lt],dr=bt[lt+1],pr=bt[Mt],mr=bt[Mt+1],Xe=lt+3;Xe<Mt;Xe+=3){var Ge=We(bt[Xe],bt[Xe+1],er,dr,pr,mr);if(Ge>Ot)Gt=Xe,Ot=Ge;else if(Ge===Ot){var Ut=Math.abs(Xe-It);Ut<Wt&&(Gt=Xe,Wt=Ut)}}Ot>_t&&(Gt-lt>3&&Fe(bt,lt,Gt,_t),bt[Gt+2]=Ot,Mt-Gt>3&&Fe(bt,Gt,Mt,_t))}function We(bt,lt,Mt,_t,Ot,It){var Wt=Ot-Mt,Gt=It-_t;if(Wt!==0||Gt!==0){var er=((bt-Mt)*Wt+(lt-_t)*Gt)/(Wt*Wt+Gt*Gt);er>1?(Mt=Ot,_t=It):er>0&&(Mt+=Wt*er,_t+=Gt*er)}return Wt=bt-Mt,Gt=lt-_t,Wt*Wt+Gt*Gt}function ut(bt,lt,Mt,_t){var Ot={id:typeof bt>"u"?null:bt,type:lt,geometry:Mt,tags:_t,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return ht(Ot),Ot}function ht(bt){var lt=bt.geometry,Mt=bt.type;if(Mt==="Point"||Mt==="MultiPoint"||Mt==="LineString")rt(bt,lt);else if(Mt==="Polygon"||Mt==="MultiLineString")for(var _t=0;_t<lt.length;_t++)rt(bt,lt[_t]);else if(Mt==="MultiPolygon")for(_t=0;_t<lt.length;_t++)for(var Ot=0;Ot<lt[_t].length;Ot++)rt(bt,lt[_t][Ot])}function rt(bt,lt){for(var Mt=0;Mt<lt.length;Mt+=3)bt.minX=Math.min(bt.minX,lt[Mt]),bt.minY=Math.min(bt.minY,lt[Mt+1]),bt.maxX=Math.max(bt.maxX,lt[Mt]),bt.maxY=Math.max(bt.maxY,lt[Mt+1])}function tt(bt,lt){var Mt=[];if(bt.type==="FeatureCollection")for(var _t=0;_t<bt.features.length;_t++)vt(Mt,bt.features[_t],lt,_t);else bt.type==="Feature"?vt(Mt,bt,lt):vt(Mt,{geometry:bt},lt);return Mt}function vt(bt,lt,Mt,_t){if(lt.geometry){var Ot=lt.geometry.coordinates,It=lt.geometry.type,Wt=Math.pow(Mt.tolerance/((1<<Mt.maxZoom)*Mt.extent),2),Gt=[],er=lt.id;if(Mt.promoteId?er=lt.properties[Mt.promoteId]:Mt.generateId&&(er=_t||0),It==="Point")pt(Ot,Gt);else if(It==="MultiPoint")for(var dr=0;dr<Ot.length;dr++)pt(Ot[dr],Gt);else if(It==="LineString")mt(Ot,Gt,Wt,!1);else if(It==="MultiLineString")if(Mt.lineMetrics){for(dr=0;dr<Ot.length;dr++)Gt=[],mt(Ot[dr],Gt,Wt,!1),bt.push(ut(er,"LineString",Gt,lt.properties));return}else wt(Ot,Gt,Wt,!1);else if(It==="Polygon")wt(Ot,Gt,Wt,!0);else if(It==="MultiPolygon")for(dr=0;dr<Ot.length;dr++){var pr=[];wt(Ot[dr],pr,Wt,!0),Gt.push(pr)}else if(It==="GeometryCollection"){for(dr=0;dr<lt.geometry.geometries.length;dr++)vt(bt,{id:er,geometry:lt.geometry.geometries[dr],properties:lt.properties},Mt,_t);return}else throw new Error("Input data is not a valid GeoJSON object.");bt.push(ut(er,It,Gt,lt.properties))}}function pt(bt,lt){lt.push(Lt(bt[0])),lt.push(at(bt[1])),lt.push(0)}function mt(bt,lt,Mt,_t){for(var Ot,It,Wt=0,Gt=0;Gt<bt.length;Gt++){var er=Lt(bt[Gt][0]),dr=at(bt[Gt][1]);lt.push(er),lt.push(dr),lt.push(0),Gt>0&&(_t?Wt+=(Ot*dr-er*It)/2:Wt+=Math.sqrt(Math.pow(er-Ot,2)+Math.pow(dr-It,2))),Ot=er,It=dr}var pr=lt.length-3;lt[2]=1,Fe(lt,0,pr,Mt),lt[pr+2]=1,lt.size=Math.abs(Wt),lt.start=0,lt.end=lt.size}function wt(bt,lt,Mt,_t){for(var Ot=0;Ot<bt.length;Ot++){var It=[];mt(bt[Ot],It,Mt,_t),lt.push(It)}}function Lt(bt){return bt/360+.5}function at(bt){var lt=Math.sin(bt*Math.PI/180),Mt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return Mt<0?0:Mt>1?1:Mt}function Oe(bt,lt,Mt,_t,Ot,It,Wt,Gt){if(Mt/=lt,_t/=lt,It>=Mt&&Wt<_t)return bt;if(Wt<Mt||It>=_t)return null;for(var er=[],dr=0;dr<bt.length;dr++){var pr=bt[dr],mr=pr.geometry,Xe=pr.type,Ge=Ot===0?pr.minX:pr.minY,Ut=Ot===0?pr.maxX:pr.maxY;if(Ge>=Mt&&Ut<_t){er.push(pr);continue}else if(Ut<Mt||Ge>=_t)continue;var Nt=[];if(Xe==="Point"||Xe==="MultiPoint")Ze(mr,Nt,Mt,_t,Ot);else if(Xe==="LineString")Je(mr,Nt,Mt,_t,Ot,!1,Gt.lineMetrics);else if(Xe==="MultiLineString")ke(mr,Nt,Mt,_t,Ot,!1);else if(Xe==="Polygon")ke(mr,Nt,Mt,_t,Ot,!0);else if(Xe==="MultiPolygon")for(var Qt=0;Qt<mr.length;Qt++){var ar=[];ke(mr[Qt],ar,Mt,_t,Ot,!0),ar.length&&Nt.push(ar)}if(Nt.length){if(Gt.lineMetrics&&Xe==="LineString"){for(Qt=0;Qt<Nt.length;Qt++)er.push(ut(pr.id,Xe,Nt[Qt],pr.tags));continue}(Xe==="LineString"||Xe==="MultiLineString")&&(Nt.length===1?(Xe="LineString",Nt=Nt[0]):Xe="MultiLineString"),(Xe==="Point"||Xe==="MultiPoint")&&(Xe=Nt.length===3?"Point":"MultiPoint"),er.push(ut(pr.id,Xe,Nt,pr.tags))}}return er.length?er:null}function Ze(bt,lt,Mt,_t,Ot){for(var It=0;It<bt.length;It+=3){var Wt=bt[It+Ot];Wt>=Mt&&Wt<=_t&&(lt.push(bt[It]),lt.push(bt[It+1]),lt.push(bt[It+2]))}}function Je(bt,lt,Mt,_t,Ot,It,Wt){for(var Gt=Ye(bt),er=Ot===0?me:_e,dr=bt.start,pr,mr,Xe=0;Xe<bt.length-3;Xe+=3){var Ge=bt[Xe],Ut=bt[Xe+1],Nt=bt[Xe+2],Qt=bt[Xe+3],ar=bt[Xe+4],hr=Ot===0?Ge:Ut,or=Ot===0?Qt:ar,Vt=!1;Wt&&(pr=Math.sqrt(Math.pow(Ge-Qt,2)+Math.pow(Ut-ar,2))),hr<Mt?or>Mt&&(mr=er(Gt,Ge,Ut,Qt,ar,Mt),Wt&&(Gt.start=dr+pr*mr)):hr>_t?or<_t&&(mr=er(Gt,Ge,Ut,Qt,ar,_t),Wt&&(Gt.start=dr+pr*mr)):be(Gt,Ge,Ut,Nt),or<Mt&&hr>=Mt&&(mr=er(Gt,Ge,Ut,Qt,ar,Mt),Vt=!0),or>_t&&hr<=_t&&(mr=er(Gt,Ge,Ut,Qt,ar,_t),Vt=!0),!It&&Vt&&(Wt&&(Gt.end=dr+pr*mr),lt.push(Gt),Gt=Ye(bt)),Wt&&(dr+=pr)}var yr=bt.length-3;Ge=bt[yr],Ut=bt[yr+1],Nt=bt[yr+2],hr=Ot===0?Ge:Ut,hr>=Mt&&hr<=_t&&be(Gt,Ge,Ut,Nt),yr=Gt.length-3,It&&yr>=3&&(Gt[yr]!==Gt[0]||Gt[yr+1]!==Gt[1])&&be(Gt,Gt[0],Gt[1],Gt[2]),Gt.length&&lt.push(Gt)}function Ye(bt){var lt=[];return lt.size=bt.size,lt.start=bt.start,lt.end=bt.end,lt}function ke(bt,lt,Mt,_t,Ot,It){for(var Wt=0;Wt<bt.length;Wt++)Je(bt[Wt],lt,Mt,_t,Ot,It,!1)}function be(bt,lt,Mt,_t){bt.push(lt),bt.push(Mt),bt.push(_t)}function me(bt,lt,Mt,_t,Ot,It){var Wt=(It-lt)/(_t-lt);return bt.push(It),bt.push(Mt+(Ot-Mt)*Wt),bt.push(1),Wt}function _e(bt,lt,Mt,_t,Ot,It){var Wt=(It-Mt)/(Ot-Mt);return bt.push(lt+(_t-lt)*Wt),bt.push(It),bt.push(1),Wt}function Ee(bt,lt){var Mt=lt.buffer/lt.extent,_t=bt,Ot=Oe(bt,1,-1-Mt,Mt,0,-1,2,lt),It=Oe(bt,1,1-Mt,2+Mt,0,-1,2,lt);return(Ot||It)&&(_t=Oe(bt,1,-Mt,1+Mt,0,-1,2,lt)||[],Ot&&(_t=Be(Ot,1).concat(_t)),It&&(_t=_t.concat(Be(It,-1)))),_t}function Be(bt,lt){for(var Mt=[],_t=0;_t<bt.length;_t++){var Ot=bt[_t],It=Ot.type,Wt;if(It==="Point"||It==="MultiPoint"||It==="LineString")Wt=je(Ot.geometry,lt);else if(It==="MultiLineString"||It==="Polygon"){Wt=[];for(var Gt=0;Gt<Ot.geometry.length;Gt++)Wt.push(je(Ot.geometry[Gt],lt))}else if(It==="MultiPolygon")for(Wt=[],Gt=0;Gt<Ot.geometry.length;Gt++){for(var er=[],dr=0;dr<Ot.geometry[Gt].length;dr++)er.push(je(Ot.geometry[Gt][dr],lt));Wt.push(er)}Mt.push(ut(Ot.id,It,Wt,Ot.tags))}return Mt}function je(bt,lt){var Mt=[];Mt.size=bt.size,bt.start!==void 0&&(Mt.start=bt.start,Mt.end=bt.end);for(var _t=0;_t<bt.length;_t+=3)Mt.push(bt[_t]+lt,bt[_t+1],bt[_t+2]);return Mt}function nt(bt,lt){if(bt.transformed)return bt;var Mt=1<<bt.z,_t=bt.x,Ot=bt.y,It,Wt,Gt;for(It=0;It<bt.features.length;It++){var er=bt.features[It],dr=er.geometry,pr=er.type;if(er.geometry=[],pr===1)for(Wt=0;Wt<dr.length;Wt+=2)er.geometry.push(dt(dr[Wt],dr[Wt+1],lt,Mt,_t,Ot));else for(Wt=0;Wt<dr.length;Wt++){var mr=[];for(Gt=0;Gt<dr[Wt].length;Gt+=2)mr.push(dt(dr[Wt][Gt],dr[Wt][Gt+1],lt,Mt,_t,Ot));er.geometry.push(mr)}}return bt.transformed=!0,bt}function dt(bt,lt,Mt,_t,Ot,It){return[Math.round(Mt*(bt*_t-Ot)),Math.round(Mt*(lt*_t-It))]}function xt(bt,lt,Mt,_t,Ot){for(var It=lt===Ot.maxZoom?0:Ot.tolerance/((1<<lt)*Ot.extent),Wt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Mt,y:_t,z:lt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Gt=0;Gt<bt.length;Gt++){Wt.numFeatures++,Kt(Wt,bt[Gt],It,Ot);var er=bt[Gt].minX,dr=bt[Gt].minY,pr=bt[Gt].maxX,mr=bt[Gt].maxY;er<Wt.minX&&(Wt.minX=er),dr<Wt.minY&&(Wt.minY=dr),pr>Wt.maxX&&(Wt.maxX=pr),mr>Wt.maxY&&(Wt.maxY=mr)}return Wt}function Kt(bt,lt,Mt,_t){var Ot=lt.geometry,It=lt.type,Wt=[];if(It==="Point"||It==="MultiPoint")for(var Gt=0;Gt<Ot.length;Gt+=3)Wt.push(Ot[Gt]),Wt.push(Ot[Gt+1]),bt.numPoints++,bt.numSimplified++;else if(It==="LineString")Jt(Wt,Ot,bt,Mt,!1,!1);else if(It==="MultiLineString"||It==="Polygon")for(Gt=0;Gt<Ot.length;Gt++)Jt(Wt,Ot[Gt],bt,Mt,It==="Polygon",Gt===0);else if(It==="MultiPolygon")for(var er=0;er<Ot.length;er++){var dr=Ot[er];for(Gt=0;Gt<dr.length;Gt++)Jt(Wt,dr[Gt],bt,Mt,!0,Gt===0)}if(Wt.length){var pr=lt.tags||null;if(It==="LineString"&&_t.lineMetrics){pr={};for(var mr in lt.tags)pr[mr]=lt.tags[mr];pr.mapbox_clip_start=Ot.start/Ot.size,pr.mapbox_clip_end=Ot.end/Ot.size}var Xe={geometry:Wt,type:It==="Polygon"||It==="MultiPolygon"?3:It==="LineString"||It==="MultiLineString"?2:1,tags:pr};lt.id!==null&&(Xe.id=lt.id),bt.features.push(Xe)}}function Jt(bt,lt,Mt,_t,Ot,It){var Wt=_t*_t;if(_t>0&&lt.size<(Ot?Wt:_t)){Mt.numPoints+=lt.length/3;return}for(var Gt=[],er=0;er<lt.length;er+=3)(_t===0||lt[er+2]>Wt)&&(Mt.numSimplified++,Gt.push(lt[er]),Gt.push(lt[er+1])),Mt.numPoints++;Ot&&St(Gt,It),bt.push(Gt)}function St(bt,lt){for(var Mt=0,_t=0,Ot=bt.length,It=Ot-2;_t<Ot;It=_t,_t+=2)Mt+=(bt[_t]-bt[It])*(bt[_t+1]+bt[It+1]);if(Mt>0===lt)for(_t=0,Ot=bt.length;_t<Ot/2;_t+=2){var Wt=bt[_t],Gt=bt[_t+1];bt[_t]=bt[Ot-2-_t],bt[_t+1]=bt[Ot-1-_t],bt[Ot-2-_t]=Wt,bt[Ot-1-_t]=Gt}}function Ft(bt,lt){return new rr(bt,lt)}function rr(bt,lt){lt=this.options=Tt(Object.create(this.options),lt);var Mt=lt.debug;if(Mt&&console.time("preprocess data"),lt.maxZoom<0||lt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(lt.promoteId&&lt.generateId)throw new Error("promoteId and generateId cannot be used together.");var _t=tt(bt,lt);this.tiles={},this.tileCoords=[],Mt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",lt.indexMaxZoom,lt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),_t=Ee(_t,lt),_t.length&&this.splitTile(_t,0,0,0),Mt&&(_t.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}rr.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},rr.prototype.splitTile=function(bt,lt,Mt,_t,Ot,It,Wt){for(var Gt=[bt,lt,Mt,_t],er=this.options,dr=er.debug;Gt.length;){_t=Gt.pop(),Mt=Gt.pop(),lt=Gt.pop(),bt=Gt.pop();var pr=1<<lt,mr=_r(lt,Mt,_t),Xe=this.tiles[mr];if(!Xe&&(dr>1&&console.time("creation"),Xe=this.tiles[mr]=xt(bt,lt,Mt,_t,er),this.tileCoords.push({z:lt,x:Mt,y:_t}),dr)){dr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",lt,Mt,_t,Xe.numFeatures,Xe.numPoints,Xe.numSimplified),console.timeEnd("creation"));var Ge="z"+lt;this.stats[Ge]=(this.stats[Ge]||0)+1,this.total++}if(Xe.source=bt,Ot){if(lt===er.maxZoom||lt===Ot)continue;var Ut=1<<Ot-lt;if(Mt!==Math.floor(It/Ut)||_t!==Math.floor(Wt/Ut))continue}else if(lt===er.indexMaxZoom||Xe.numPoints<=er.indexMaxPoints)continue;if(Xe.source=null,bt.length!==0){dr>1&&console.time("clipping");var Nt=.5*er.buffer/er.extent,Qt=.5-Nt,ar=.5+Nt,hr=1+Nt,or,Vt,yr,wr,Ar,gr;or=Vt=yr=wr=null,Ar=Oe(bt,pr,Mt-Nt,Mt+ar,0,Xe.minX,Xe.maxX,er),gr=Oe(bt,pr,Mt+Qt,Mt+hr,0,Xe.minX,Xe.maxX,er),bt=null,Ar&&(or=Oe(Ar,pr,_t-Nt,_t+ar,1,Xe.minY,Xe.maxY,er),Vt=Oe(Ar,pr,_t+Qt,_t+hr,1,Xe.minY,Xe.maxY,er),Ar=null),gr&&(yr=Oe(gr,pr,_t-Nt,_t+ar,1,Xe.minY,Xe.maxY,er),wr=Oe(gr,pr,_t+Qt,_t+hr,1,Xe.minY,Xe.maxY,er),gr=null),dr>1&&console.timeEnd("clipping"),Gt.push(or||[],lt+1,Mt*2,_t*2),Gt.push(Vt||[],lt+1,Mt*2,_t*2+1),Gt.push(yr||[],lt+1,Mt*2+1,_t*2),Gt.push(wr||[],lt+1,Mt*2+1,_t*2+1)}}},rr.prototype.getTile=function(bt,lt,Mt){var _t=this.options,Ot=_t.extent,It=_t.debug;if(bt<0||bt>24)return null;var Wt=1<<bt;lt=(lt%Wt+Wt)%Wt;var Gt=_r(bt,lt,Mt);if(this.tiles[Gt])return nt(this.tiles[Gt],Ot);It>1&&console.log("drilling down to z%d-%d-%d",bt,lt,Mt);for(var er=bt,dr=lt,pr=Mt,mr;!mr&&er>0;)er--,dr=Math.floor(dr/2),pr=Math.floor(pr/2),mr=this.tiles[_r(er,dr,pr)];return!mr||!mr.source?null:(It>1&&console.log("found parent tile z%d-%d-%d",er,dr,pr),It>1&&console.time("drilling down"),this.splitTile(mr.source,er,dr,pr,bt,lt,Mt),It>1&&console.timeEnd("drilling down"),this.tiles[Gt]?nt(this.tiles[Gt],Ot):null)};function _r(bt,lt,Mt){return((1<<bt)*Mt+lt)*32+bt}function Tt(bt,lt){for(var Mt in lt)bt[Mt]=lt[Mt];return bt}function $t(bt,lt){var Mt=bt.tileID.canonical;if(!this._geoJSONIndex)return lt(null,null);var _t=this._geoJSONIndex.getTile(Mt.z,Mt.x,Mt.y);if(!_t)return lt(null,null);var Ot=new A(_t.features),It=o(Ot);(It.byteOffset!==0||It.byteLength!==It.buffer.byteLength)&&(It=new Uint8Array(It)),lt(null,{vectorTile:Ot,rawData:It.buffer})}var tr=function(bt){function lt(Mt,_t,Ot,It){bt.call(this,Mt,_t,Ot,$t),It&&(this.loadGeoJSON=It)}return bt&&(lt.__proto__=bt),lt.prototype=Object.create(bt&&bt.prototype),lt.prototype.constructor=lt,lt.prototype.loadData=function(_t,Ot){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ot,this._pendingLoadDataParams=_t,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},lt.prototype._loadData=function(){var _t=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Ot=this._pendingCallback,It=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Wt=It&&It.request&&It.request.collectResourceTiming?new n.RequestPerformance(It.request):!1;this.loadGeoJSON(It,function(Gt,er){if(Gt||!er)return Ot(Gt);if(typeof er!="object")return Ot(new Error("Input data given to '"+It.source+"' is not a valid GeoJSON object."));h(er,!0);try{if(It.filter){var dr=n.createExpression(It.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(dr.result==="error")throw new Error(dr.value.map(function(Ge){return Ge.key+": "+Ge.message}).join(", "));var pr=er.features.filter(function(Ge){return dr.value.evaluate({zoom:0},Ge)});er={type:"FeatureCollection",features:pr}}_t._geoJSONIndex=It.cluster?new ae(Tr(It)).load(er.features):Ft(er,It.geojsonVtOptions)}catch(Ge){return Ot(Ge)}_t.loaded={};var mr={};if(Wt){var Xe=Wt.finish();Xe&&(mr.resourceTiming={},mr.resourceTiming[It.source]=JSON.parse(JSON.stringify(Xe)))}Ot(null,mr)})}},lt.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},lt.prototype.reloadTile=function(_t,Ot){var It=this.loaded,Wt=_t.uid;return It&&It[Wt]?bt.prototype.reloadTile.call(this,_t,Ot):this.loadTile(_t,Ot)},lt.prototype.loadGeoJSON=function(_t,Ot){if(_t.request)n.getJSON(_t.request,Ot);else if(typeof _t.data=="string")try{return Ot(null,JSON.parse(_t.data))}catch{return Ot(new Error("Input data given to '"+_t.source+"' is not a valid GeoJSON object."))}else return Ot(new Error("Input data given to '"+_t.source+"' is not a valid GeoJSON object."))},lt.prototype.removeSource=function(_t,Ot){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ot()},lt.prototype.getClusterExpansionZoom=function(_t,Ot){try{Ot(null,this._geoJSONIndex.getClusterExpansionZoom(_t.clusterId))}catch(It){Ot(It)}},lt.prototype.getClusterChildren=function(_t,Ot){try{Ot(null,this._geoJSONIndex.getChildren(_t.clusterId))}catch(It){Ot(It)}},lt.prototype.getClusterLeaves=function(_t,Ot){try{Ot(null,this._geoJSONIndex.getLeaves(_t.clusterId,_t.limit,_t.offset))}catch(It){Ot(It)}},lt}(u);function Tr(bt){var lt=bt.superclusterOptions,Mt=bt.clusterProperties;if(!Mt||!lt)return lt;for(var _t={},Ot={},It={accumulated:null,zoom:0},Wt={properties:null},Gt=Object.keys(Mt),er=0,dr=Gt;er<dr.length;er+=1){var pr=dr[er],mr=Mt[pr],Xe=mr[0],Ge=mr[1],Ut=n.createExpression(Ge),Nt=n.createExpression(typeof Xe=="string"?[Xe,["accumulated"],["get",pr]]:Xe);_t[pr]=Ut.value,Ot[pr]=Nt.value}return lt.map=function(Qt){Wt.properties=Qt;for(var ar={},hr=0,or=Gt;hr<or.length;hr+=1){var Vt=or[hr];ar[Vt]=_t[Vt].evaluate(It,Wt)}return ar},lt.reduce=function(Qt,ar){Wt.properties=ar;for(var hr=0,or=Gt;hr<or.length;hr+=1){var Vt=or[hr];It.accumulated=Qt[Vt],Qt[Vt]=Ot[Vt].evaluate(It,Wt)}},lt}var cr=function(lt){var Mt=this;this.self=lt,this.actor=new n.Actor(lt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:tr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(_t,Ot){if(Mt.workerSourceTypes[_t])throw new Error('Worker source with name "'+_t+'" already registered.');Mt.workerSourceTypes[_t]=Ot},this.self.registerRTLTextPlugin=function(_t){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=_t.applyArabicShaping,n.plugin.processBidirectionalText=_t.processBidirectionalText,n.plugin.processStyledBidirectionalText=_t.processStyledBidirectionalText}};return cr.prototype.setReferrer=function(lt,Mt){this.referrer=Mt},cr.prototype.setImages=function(lt,Mt,_t){this.availableImages[lt]=Mt;for(var Ot in this.workerSources[lt]){var It=this.workerSources[lt][Ot];for(var Wt in It)It[Wt].availableImages=Mt}_t()},cr.prototype.setLayers=function(lt,Mt,_t){this.getLayerIndex(lt).replace(Mt),_t()},cr.prototype.updateLayers=function(lt,Mt,_t){this.getLayerIndex(lt).update(Mt.layers,Mt.removedIds),_t()},cr.prototype.loadTile=function(lt,Mt,_t){this.getWorkerSource(lt,Mt.type,Mt.source).loadTile(Mt,_t)},cr.prototype.loadDEMTile=function(lt,Mt,_t){this.getDEMWorkerSource(lt,Mt.source).loadTile(Mt,_t)},cr.prototype.reloadTile=function(lt,Mt,_t){this.getWorkerSource(lt,Mt.type,Mt.source).reloadTile(Mt,_t)},cr.prototype.abortTile=function(lt,Mt,_t){this.getWorkerSource(lt,Mt.type,Mt.source).abortTile(Mt,_t)},cr.prototype.removeTile=function(lt,Mt,_t){this.getWorkerSource(lt,Mt.type,Mt.source).removeTile(Mt,_t)},cr.prototype.removeDEMTile=function(lt,Mt){this.getDEMWorkerSource(lt,Mt.source).removeTile(Mt)},cr.prototype.removeSource=function(lt,Mt,_t){if(!(!this.workerSources[lt]||!this.workerSources[lt][Mt.type]||!this.workerSources[lt][Mt.type][Mt.source])){var Ot=this.workerSources[lt][Mt.type][Mt.source];delete this.workerSources[lt][Mt.type][Mt.source],Ot.removeSource!==void 0?Ot.removeSource(Mt,_t):_t()}},cr.prototype.loadWorkerSource=function(lt,Mt,_t){try{this.self.importScripts(Mt.url),_t()}catch(Ot){_t(Ot.toString())}},cr.prototype.syncRTLPluginState=function(lt,Mt,_t){try{n.plugin.setState(Mt);var Ot=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&Ot!=null){this.self.importScripts(Ot);var It=n.plugin.isParsed(),Wt=It?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ot);_t(Wt,It)}}catch(Gt){_t(Gt.toString())}},cr.prototype.getAvailableImages=function(lt){var Mt=this.availableImages[lt];return Mt||(Mt=[]),Mt},cr.prototype.getLayerIndex=function(lt){var Mt=this.layerIndexes[lt];return Mt||(Mt=this.layerIndexes[lt]=new g),Mt},cr.prototype.getWorkerSource=function(lt,Mt,_t){var Ot=this;if(this.workerSources[lt]||(this.workerSources[lt]={}),this.workerSources[lt][Mt]||(this.workerSources[lt][Mt]={}),!this.workerSources[lt][Mt][_t]){var It={send:function(Wt,Gt,er){Ot.actor.send(Wt,Gt,er,lt)}};this.workerSources[lt][Mt][_t]=new this.workerSourceTypes[Mt](It,this.getLayerIndex(lt),this.getAvailableImages(lt))}return this.workerSources[lt][Mt][_t]},cr.prototype.getDEMWorkerSource=function(lt,Mt){return this.demWorkerSources[lt]||(this.demWorkerSources[lt]={}),this.demWorkerSources[lt][Mt]||(this.demWorkerSources[lt][Mt]=new m),this.demWorkerSources[lt][Mt]},cr.prototype.enforceCacheSizeLimit=function(lt,Mt){n.enforceCacheSizeLimit(Mt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new cr(self)),cr}),L(["./shared"],function(n){var C=n.createCommonjsModule(function(ve){ve.exports?ve.exports=J:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=J,window.mapboxgl.notSupportedReason=de);function J(Jr){return!de(Jr)}function de(Jr){if(!te())return"not a browser";if(!ge())return"insufficent Array support";if(!ze())return"insufficient Function support";if(!Ke())return"insufficient Object support";if(!ct())return"insufficient JSON support";if(!Pt())return"insufficient worker support";if(!Yt())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!vr())return"insufficient Canvas/getImageData support";if(!Vr(Jr&&Jr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function te(){return typeof window<"u"&&typeof document<"u"}function ge(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function ze(){return Function.prototype&&Function.prototype.bind}function Ke(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ct(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Pt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Jr=new Blob([""],{type:"text/javascript"}),an=URL.createObjectURL(Jr),xn,Hn;try{Hn=new Worker(an),xn=!0}catch{xn=!1}return Hn&&Hn.terminate(),URL.revokeObjectURL(an),xn}function Yt(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function vr(){var Jr=document.createElement("canvas");Jr.width=Jr.height=1;var an=Jr.getContext("2d");if(!an)return!1;var xn=an.getImageData(0,0,1,1);return xn&&xn.width===Jr.width}var fr={};function Vr(Jr){return fr[Jr]===void 0&&(fr[Jr]=qr(Jr)),fr[Jr]}J.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function en(Jr){var an=document.createElement("canvas"),xn=Object.create(J.webGLContextAttributes);return xn.failIfMajorPerformanceCaveat=Jr,an.probablySupportsContext?an.probablySupportsContext("webgl",xn)||an.probablySupportsContext("experimental-webgl",xn):an.supportsContext?an.supportsContext("webgl",xn)||an.supportsContext("experimental-webgl",xn):an.getContext("webgl",xn)||an.getContext("experimental-webgl",xn)}function qr(Jr){var an=en(Jr);if(!an)return!1;var xn=an.createShader(an.VERTEX_SHADER);return!xn||an.isContextLost()?!1:(an.shaderSource(xn,"void main() {}"),an.compileShader(xn),an.getShaderParameter(xn,an.COMPILE_STATUS)===!0)}}),T={};T.create=function(ve,J,de){var te=n.window.document.createElement(ve);return J!==void 0&&(te.className=J),de&&de.appendChild(te),te},T.createNS=function(ve,J){var de=n.window.document.createElementNS(ve,J);return de};var v=n.window.document&&n.window.document.documentElement.style;function g(ve){if(!v)return ve[0];for(var J=0;J<ve.length;J++)if(ve[J]in v)return ve[J];return ve[0]}var r=g(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;T.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},T.enableDrag=function(){v&&r&&(v[r]=t)};var s=g(["transform","WebkitTransform"]);T.setTransform=function(ve,J){ve.style[s]=J};var a=!1;try{var f=Object.defineProperty({},"passive",{get:function(){a=!0}});n.window.addEventListener("test",f,f),n.window.removeEventListener("test",f,f)}catch{a=!1}T.addEventListener=function(ve,J,de,te){te===void 0&&(te={}),"passive"in te&&a?ve.addEventListener(J,de,te):ve.addEventListener(J,de,te.capture)},T.removeEventListener=function(ve,J,de,te){te===void 0&&(te={}),"passive"in te&&a?ve.removeEventListener(J,de,te):ve.removeEventListener(J,de,te.capture)};var u=function(ve){ve.preventDefault(),ve.stopPropagation(),n.window.removeEventListener("click",u,!0)};T.suppressClick=function(){n.window.addEventListener("click",u,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",u,!0)},0)},T.mousePos=function(ve,J){var de=ve.getBoundingClientRect();return new n.Point(J.clientX-de.left-ve.clientLeft,J.clientY-de.top-ve.clientTop)},T.touchPos=function(ve,J){for(var de=ve.getBoundingClientRect(),te=[],ge=0;ge<J.length;ge++)te.push(new n.Point(J[ge].clientX-de.left-ve.clientLeft,J[ge].clientY-de.top-ve.clientTop));return te},T.mouseButton=function(ve){return typeof n.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},T.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function l(ve,J,de){var te,ge,ze,Ke=n.browser.devicePixelRatio>1?"@2x":"",ct=n.getJSON(J.transformRequest(J.normalizeSpriteURL(ve,Ke,".json"),n.ResourceType.SpriteJSON),function(qt,vr){ct=null,ze||(ze=qt,te=vr,Yt())}),Pt=n.getImage(J.transformRequest(J.normalizeSpriteURL(ve,Ke,".png"),n.ResourceType.SpriteImage),function(qt,vr){Pt=null,ze||(ze=qt,ge=vr,Yt())});function Yt(){if(ze)de(ze);else if(te&&ge){var qt=n.browser.getImageData(ge),vr={};for(var fr in te){var Vr=te[fr],en=Vr.width,qr=Vr.height,Jr=Vr.x,an=Vr.y,xn=Vr.sdf,Hn=Vr.pixelRatio,Xn=Vr.stretchX,ta=Vr.stretchY,aa=Vr.content,ea=new n.RGBAImage({width:en,height:qr});n.RGBAImage.copy(qt,ea,{x:Jr,y:an},{x:0,y:0},{width:en,height:qr}),vr[fr]={data:ea,pixelRatio:Hn,sdf:xn,stretchX:Xn,stretchY:ta,content:aa}}de(null,vr)}}return{cancel:function(){ct&&(ct.cancel(),ct=null),Pt&&(Pt.cancel(),Pt=null)}}}function m(ve){var J=ve.userImage;if(J&&J.render){var de=J.render();if(de)return ve.data.replace(new Uint8Array(J.data.buffer)),!0}return!1}var h=1,M=function(ve){function J(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.isLoaded=function(){return this.loaded},J.prototype.setLoaded=function(te){if(this.loaded!==te&&(this.loaded=te,te)){for(var ge=0,ze=this.requestors;ge<ze.length;ge+=1){var Ke=ze[ge],ct=Ke.ids,Pt=Ke.callback;this._notify(ct,Pt)}this.requestors=[]}},J.prototype.getImage=function(te){return this.images[te]},J.prototype.addImage=function(te,ge){this._validate(te,ge)&&(this.images[te]=ge)},J.prototype._validate=function(te,ge){var ze=!0;return this._validateStretch(ge.stretchX,ge.data&&ge.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchX" value'))),ze=!1),this._validateStretch(ge.stretchY,ge.data&&ge.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchY" value'))),ze=!1),this._validateContent(ge.content,ge)||(this.fire(new n.ErrorEvent(new Error('Image "'+te+'" has invalid "content" value'))),ze=!1),ze},J.prototype._validateStretch=function(te,ge){if(!te)return!0;for(var ze=0,Ke=0,ct=te;Ke<ct.length;Ke+=1){var Pt=ct[Ke];if(Pt[0]<ze||Pt[1]<Pt[0]||ge<Pt[1])return!1;ze=Pt[1]}return!0},J.prototype._validateContent=function(te,ge){return te?!(te.length!==4||te[0]<0||ge.data.width<te[0]||te[1]<0||ge.data.height<te[1]||te[2]<0||ge.data.width<te[2]||te[3]<0||ge.data.height<te[3]||te[2]<te[0]||te[3]<te[1]):!0},J.prototype.updateImage=function(te,ge){var ze=this.images[te];ge.version=ze.version+1,this.images[te]=ge,this.updatedImages[te]=!0},J.prototype.removeImage=function(te){var ge=this.images[te];delete this.images[te],delete this.patterns[te],ge.userImage&&ge.userImage.onRemove&&ge.userImage.onRemove()},J.prototype.listImages=function(){return Object.keys(this.images)},J.prototype.getImages=function(te,ge){var ze=!0;if(!this.isLoaded())for(var Ke=0,ct=te;Ke<ct.length;Ke+=1){var Pt=ct[Ke];this.images[Pt]||(ze=!1)}this.isLoaded()||ze?this._notify(te,ge):this.requestors.push({ids:te,callback:ge})},J.prototype._notify=function(te,ge){for(var ze={},Ke=0,ct=te;Ke<ct.length;Ke+=1){var Pt=ct[Ke];this.images[Pt]||this.fire(new n.Event("styleimagemissing",{id:Pt}));var Yt=this.images[Pt];Yt?ze[Pt]={data:Yt.data.clone(),pixelRatio:Yt.pixelRatio,sdf:Yt.sdf,version:Yt.version,stretchX:Yt.stretchX,stretchY:Yt.stretchY,content:Yt.content,hasRenderCallback:!!(Yt.userImage&&Yt.userImage.render)}:n.warnOnce('Image "'+Pt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ge(null,ze)},J.prototype.getPixelSize=function(){var te=this.atlasImage,ge=te.width,ze=te.height;return{width:ge,height:ze}},J.prototype.getPattern=function(te){var ge=this.patterns[te],ze=this.getImage(te);if(!ze)return null;if(ge&&ge.position.version===ze.version)return ge.position;if(ge)ge.position.version=ze.version;else{var Ke=ze.data.width+h*2,ct=ze.data.height+h*2,Pt={w:Ke,h:ct,x:0,y:0},Yt=new n.ImagePosition(Pt,ze);this.patterns[te]={bin:Pt,position:Yt}}return this._updatePatternAtlas(),this.patterns[te].position},J.prototype.bind=function(te){var ge=te.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(te,this.atlasImage,ge.RGBA),this.atlasTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE)},J.prototype._updatePatternAtlas=function(){var te=[];for(var ge in this.patterns)te.push(this.patterns[ge].bin);var ze=n.potpack(te),Ke=ze.w,ct=ze.h,Pt=this.atlasImage;Pt.resize({width:Ke||1,height:ct||1});for(var Yt in this.patterns){var qt=this.patterns[Yt],vr=qt.bin,fr=vr.x+h,Vr=vr.y+h,en=this.images[Yt].data,qr=en.width,Jr=en.height;n.RGBAImage.copy(en,Pt,{x:0,y:0},{x:fr,y:Vr},{width:qr,height:Jr}),n.RGBAImage.copy(en,Pt,{x:0,y:Jr-1},{x:fr,y:Vr-1},{width:qr,height:1}),n.RGBAImage.copy(en,Pt,{x:0,y:0},{x:fr,y:Vr+Jr},{width:qr,height:1}),n.RGBAImage.copy(en,Pt,{x:qr-1,y:0},{x:fr-1,y:Vr},{width:1,height:Jr}),n.RGBAImage.copy(en,Pt,{x:0,y:0},{x:fr+qr,y:Vr},{width:1,height:Jr})}this.dirty=!0},J.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},J.prototype.dispatchRenderCallbacks=function(te){for(var ge=0,ze=te;ge<ze.length;ge+=1){var Ke=ze[ge];if(!this.callbackDispatchedThisFrame[Ke]){this.callbackDispatchedThisFrame[Ke]=!0;var ct=this.images[Ke],Pt=m(ct);Pt&&this.updateImage(Ke,ct)}}},J}(n.Evented);function c(ve,J,de,te,ge){var ze=J*256,Ke=ze+255,ct=te.transformRequest(te.normalizeGlyphsURL(de).replace("{fontstack}",ve).replace("{range}",ze+"-"+Ke),n.ResourceType.Glyphs);n.getArrayBuffer(ct,function(Pt,Yt){if(Pt)ge(Pt);else if(Yt){for(var qt={},vr=0,fr=n.parseGlyphPBF(Yt);vr<fr.length;vr+=1){var Vr=fr[vr];qt[Vr.id]=Vr}ge(null,qt)}})}var i=A,d=A,x=1e20;function A(ve,J,de,te,ge,ze){this.fontSize=ve||24,this.buffer=J===void 0?3:J,this.cutoff=te||.25,this.fontFamily=ge||"sans-serif",this.fontWeight=ze||"normal",this.radius=de||8;var Ke=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ke,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ke*Ke),this.gridInner=new Float64Array(Ke*Ke),this.f=new Float64Array(Ke),this.d=new Float64Array(Ke),this.z=new Float64Array(Ke+1),this.v=new Int16Array(Ke),this.middle=Math.round(Ke/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}A.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var J=this.ctx.getImageData(0,0,this.size,this.size),de=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var ge=J.data[te*4+3]/255;this.gridOuter[te]=ge===1?0:ge===0?x:Math.pow(Math.max(0,.5-ge),2),this.gridInner[te]=ge===1?x:ge===0?0:Math.pow(Math.max(0,ge-.5),2)}for(E(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),E(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++){var ze=this.gridOuter[te]-this.gridInner[te];de[te]=Math.max(0,Math.min(255,Math.round(255-255*(ze/this.radius+this.cutoff))))}return de};function E(ve,J,de,te,ge,ze,Ke){for(var ct=0;ct<J;ct++){for(var Pt=0;Pt<de;Pt++)te[Pt]=ve[Pt*J+ct];for(y(te,ge,ze,Ke,de),Pt=0;Pt<de;Pt++)ve[Pt*J+ct]=ge[Pt]}for(Pt=0;Pt<de;Pt++){for(ct=0;ct<J;ct++)te[ct]=ve[Pt*J+ct];for(y(te,ge,ze,Ke,J),ct=0;ct<J;ct++)ve[Pt*J+ct]=Math.sqrt(ge[ct])}}function y(ve,J,de,te,ge){de[0]=0,te[0]=-x,te[1]=+x;for(var ze=1,Ke=0;ze<ge;ze++){for(var ct=(ve[ze]+ze*ze-(ve[de[Ke]]+de[Ke]*de[Ke]))/(2*ze-2*de[Ke]);ct<=te[Ke];)Ke--,ct=(ve[ze]+ze*ze-(ve[de[Ke]]+de[Ke]*de[Ke]))/(2*ze-2*de[Ke]);Ke++,de[Ke]=ze,te[Ke]=ct,te[Ke+1]=+x}for(ze=0,Ke=0;ze<ge;ze++){for(;te[Ke+1]<ze;)Ke++;J[ze]=(ze-de[Ke])*(ze-de[Ke])+ve[de[Ke]]}}i.default=d;var S=function(J,de){this.requestManager=J,this.localIdeographFontFamily=de,this.entries={}};S.prototype.setURL=function(J){this.url=J},S.prototype.getGlyphs=function(J,de){var te=this,ge=[];for(var ze in J)for(var Ke=0,ct=J[ze];Ke<ct.length;Ke+=1){var Pt=ct[Ke];ge.push({stack:ze,id:Pt})}n.asyncAll(ge,function(Yt,qt){var vr=Yt.stack,fr=Yt.id,Vr=te.entries[vr];Vr||(Vr=te.entries[vr]={glyphs:{},requests:{},ranges:{}});var en=Vr.glyphs[fr];if(en!==void 0){qt(null,{stack:vr,id:fr,glyph:en});return}if(en=te._tinySDF(Vr,vr,fr),en){Vr.glyphs[fr]=en,qt(null,{stack:vr,id:fr,glyph:en});return}var qr=Math.floor(fr/256);if(qr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(Vr.ranges[qr]){qt(null,{stack:vr,id:fr,glyph:en});return}var Jr=Vr.requests[qr];Jr||(Jr=Vr.requests[qr]=[],S.loadGlyphRange(vr,qr,te.url,te.requestManager,function(an,xn){if(xn){for(var Hn in xn)te._doesCharSupportLocalGlyph(+Hn)||(Vr.glyphs[+Hn]=xn[+Hn]);Vr.ranges[qr]=!0}for(var Xn=0,ta=Jr;Xn<ta.length;Xn+=1){var aa=ta[Xn];aa(an,xn)}delete Vr.requests[qr]})),Jr.push(function(an,xn){an?qt(an):xn&&qt(null,{stack:vr,id:fr,glyph:xn[fr]||null})})},function(Yt,qt){if(Yt)de(Yt);else if(qt){for(var vr={},fr=0,Vr=qt;fr<Vr.length;fr+=1){var en=Vr[fr],qr=en.stack,Jr=en.id,an=en.glyph;(vr[qr]||(vr[qr]={}))[Jr]=an&&{id:an.id,bitmap:an.bitmap.clone(),metrics:an.metrics}}de(null,vr)}})},S.prototype._doesCharSupportLocalGlyph=function(J){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"](J)||n.isChar["Hangul Syllables"](J)||n.isChar.Hiragana(J)||n.isChar.Katakana(J))},S.prototype._tinySDF=function(J,de,te){var ge=this.localIdeographFontFamily;if(ge&&this._doesCharSupportLocalGlyph(te)){var ze=J.tinySDF;if(!ze){var Ke="400";/bold/i.test(de)?Ke="900":/medium/i.test(de)?Ke="500":/light/i.test(de)&&(Ke="200"),ze=J.tinySDF=new S.TinySDF(24,3,8,.25,ge,Ke)}return{id:te,bitmap:new n.AlphaImage({width:30,height:30},ze.draw(String.fromCharCode(te))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=c,S.TinySDF=i;var w=function(){this.specification=n.styleSpec.light.position};w.prototype.possiblyEvaluate=function(J,de){return n.sphericalToCartesian(J.expression.evaluate(de))},w.prototype.interpolate=function(J,de,te){return{x:n.number(J.x,de.x,te),y:n.number(J.y,de.y,te),z:n.number(J.z,de.z,te)}};var o=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new w,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),_="-transition",b=function(ve){function J(de){ve.call(this),this._transitionable=new n.Transitionable(o),this.setLight(de),this._transitioning=this._transitionable.untransitioned()}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getLight=function(){return this._transitionable.serialize()},J.prototype.setLight=function(te,ge){if(ge===void 0&&(ge={}),!this._validate(n.validateLight,te,ge))for(var ze in te){var Ke=te[ze];n.endsWith(ze,_)?this._transitionable.setTransition(ze.slice(0,-_.length),Ke):this._transitionable.setValue(ze,Ke)}},J.prototype.updateTransitions=function(te){this._transitioning=this._transitionable.transitioned(te,this._transitioning)},J.prototype.hasTransition=function(){return this._transitioning.hasTransition()},J.prototype.recalculate=function(te){this.properties=this._transitioning.possiblyEvaluate(te)},J.prototype._validate=function(te,ge,ze){return ze&&ze.validate===!1?!1:n.emitValidationErrors(this,te.call(n.validateStyle,n.extend({value:ge,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},J}(n.Evented),I=function(J,de){this.width=J,this.height=de,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};I.prototype.getDash=function(J,de){var te=J.join(",")+String(de);return this.dashEntry[te]||(this.dashEntry[te]=this.addDash(J,de)),this.dashEntry[te]},I.prototype.getDashRanges=function(J,de,te){var ge=J.length%2===1,ze=[],Ke=ge?-J[J.length-1]*te:0,ct=J[0]*te,Pt=!0;ze.push({left:Ke,right:ct,isDash:Pt,zeroLength:J[0]===0});for(var Yt=J[0],qt=1;qt<J.length;qt++){Pt=!Pt;var vr=J[qt];Ke=Yt*te,Yt+=vr,ct=Yt*te,ze.push({left:Ke,right:ct,isDash:Pt,zeroLength:vr===0})}return ze},I.prototype.addRoundDash=function(J,de,te){for(var ge=de/2,ze=-te;ze<=te;ze++)for(var Ke=this.nextRow+te+ze,ct=this.width*Ke,Pt=0,Yt=J[Pt],qt=0;qt<this.width;qt++){qt/Yt.right>1&&(Yt=J[++Pt]);var vr=Math.abs(qt-Yt.left),fr=Math.abs(qt-Yt.right),Vr=Math.min(vr,fr),en=void 0,qr=ze/te*(ge+1);if(Yt.isDash){var Jr=ge-Math.abs(qr);en=Math.sqrt(Vr*Vr+Jr*Jr)}else en=ge-Math.sqrt(Vr*Vr+qr*qr);this.data[ct+qt]=Math.max(0,Math.min(255,en+128))}},I.prototype.addRegularDash=function(J){for(var de=J.length-1;de>=0;--de){var te=J[de],ge=J[de+1];te.zeroLength?J.splice(de,1):ge&&ge.isDash===te.isDash&&(ge.left=te.left,J.splice(de,1))}var ze=J[0],Ke=J[J.length-1];ze.isDash===Ke.isDash&&(ze.left=Ke.left-this.width,Ke.right=ze.right+this.width);for(var ct=this.width*this.nextRow,Pt=0,Yt=J[Pt],qt=0;qt<this.width;qt++){qt/Yt.right>1&&(Yt=J[++Pt]);var vr=Math.abs(qt-Yt.left),fr=Math.abs(qt-Yt.right),Vr=Math.min(vr,fr),en=Yt.isDash?Vr:-Vr;this.data[ct+qt]=Math.max(0,Math.min(255,en+128))}},I.prototype.addDash=function(J,de){var te=de?7:0,ge=2*te+1;if(this.nextRow+ge>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var ze=0,Ke=0;Ke<J.length;Ke++)ze+=J[Ke];if(ze!==0){var ct=this.width/ze,Pt=this.getDashRanges(J,this.width,ct);de?this.addRoundDash(Pt,ct,te):this.addRegularDash(Pt)}var Yt={y:(this.nextRow+te+.5)/this.height,height:2*te/this.height,width:ze};return this.nextRow+=ge,this.dirty=!0,Yt},I.prototype.bind=function(J){var de=J.gl;this.texture?(de.bindTexture(de.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,de.texSubImage2D(de.TEXTURE_2D,0,0,0,this.width,this.height,de.ALPHA,de.UNSIGNED_BYTE,this.data))):(this.texture=de.createTexture(),de.bindTexture(de.TEXTURE_2D,this.texture),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texImage2D(de.TEXTURE_2D,0,de.ALPHA,this.width,this.height,0,de.ALPHA,de.UNSIGNED_BYTE,this.data))};var D=function ve(J,de){this.workerPool=J,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var te=this.workerPool.acquire(this.id),ge=0;ge<te.length;ge++){var ze=te[ge],Ke=new ve.Actor(ze,de,this.id);Ke.name="Worker "+ge,this.actors.push(Ke)}};D.prototype.broadcast=function(J,de,te){te=te||function(){},n.asyncAll(this.actors,function(ge,ze){ge.send(J,de,ze)},te)},D.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},D.prototype.remove=function(){this.actors.forEach(function(J){J.remove()}),this.actors=[],this.workerPool.release(this.id)},D.Actor=n.Actor;function N(ve,J,de){var te=function(ge,ze){if(ge)return de(ge);if(ze){var Ke=n.pick(n.extend(ze,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ze.vector_layers&&(Ke.vectorLayers=ze.vector_layers,Ke.vectorLayerIds=Ke.vectorLayers.map(function(ct){return ct.id})),Ke.tiles=J.canonicalizeTileset(Ke,ve.url),de(null,Ke)}};return ve.url?n.getJSON(J.transformRequest(J.normalizeSourceURL(ve.url),n.ResourceType.Source),te):n.browser.frame(function(){return te(null,ve)})}var k=function(J,de,te){this.bounds=n.LngLatBounds.convert(this.validateBounds(J)),this.minzoom=de||0,this.maxzoom=te||24};k.prototype.validateBounds=function(J){return!Array.isArray(J)||J.length!==4?[-180,-90,180,90]:[Math.max(-180,J[0]),Math.max(-90,J[1]),Math.min(180,J[2]),Math.min(90,J[3])]},k.prototype.contains=function(J){var de=Math.pow(2,J.z),te={minX:Math.floor(n.mercatorXfromLng(this.bounds.getWest())*de),minY:Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*de),maxX:Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*de),maxY:Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*de)},ge=J.x>=te.minX&&J.x<te.maxX&&J.y>=te.minY&&J.y<te.maxY;return ge};var z=function(ve){function J(de,te,ge,ze){if(ve.call(this),this.id=de,this.dispatcher=ge,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(te,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ze)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ge,ze){te._tileJSONRequest=null,te._loaded=!0,ge?te.fire(new n.ErrorEvent(ge)):ze&&(n.extend(te,ze),ze.bounds&&(te.tileBounds=new k(ze.bounds,te.minzoom,te.maxzoom)),n.postTurnstileEvent(ze.tiles,te.map._requestManager._customAccessToken),n.postMapLoadEvent(ze.tiles,te.map._getMapId(),te.map._requestManager._skuToken,te.map._requestManager._customAccessToken),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},J.prototype.loaded=function(){return this._loaded},J.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},J.prototype.onAdd=function(te){this.map=te,this.load()},J.prototype.setSourceProperty=function(te){this._tileJSONRequest&&this._tileJSONRequest.cancel(),te();var ge=this.map.style.sourceCaches[this.id];ge.clearTiles(),this.load()},J.prototype.setTiles=function(te){var ge=this;return this.setSourceProperty(function(){ge._options.tiles=te}),this},J.prototype.setUrl=function(te){var ge=this;return this.setSourceProperty(function(){ge.url=te,ge._options.url=te}),this},J.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},J.prototype.serialize=function(){return n.extend({},this._options)},J.prototype.loadTile=function(te,ge){var ze=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme)),Ke={request:this.map._requestManager.transformRequest(ze,n.ResourceType.Tile),uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,tileSize:this.tileSize*te.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ke.request.collectResourceTiming=this._collectResourceTiming,!te.actor||te.state==="expired"?(te.actor=this.dispatcher.getActor(),te.request=te.actor.send("loadTile",Ke,ct.bind(this))):te.state==="loading"?te.reloadCallback=ge:te.request=te.actor.send("reloadTile",Ke,ct.bind(this));function ct(Pt,Yt){if(delete te.request,te.aborted)return ge(null);if(Pt&&Pt.status!==404)return ge(Pt);Yt&&Yt.resourceTiming&&(te.resourceTiming=Yt.resourceTiming),this.map._refreshExpiredTiles&&Yt&&te.setExpiryData(Yt),te.loadVectorData(Yt,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),ge(null),te.reloadCallback&&(this.loadTile(te,te.reloadCallback),te.reloadCallback=null)}},J.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.actor&&te.actor.send("abortTile",{uid:te.uid,type:this.type,source:this.id},void 0)},J.prototype.unloadTile=function(te){te.unloadVectorData(),te.actor&&te.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id},void 0)},J.prototype.hasTransition=function(){return!1},J}(n.Evented),F=function(ve){function J(de,te,ge,ze){ve.call(this),this.id=de,this.dispatcher=ge,this.setEventedParent(ze),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},te),n.extend(this,n.pick(te,["url","scheme","tileSize"]))}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ge,ze){te._tileJSONRequest=null,te._loaded=!0,ge?te.fire(new n.ErrorEvent(ge)):ze&&(n.extend(te,ze),ze.bounds&&(te.tileBounds=new k(ze.bounds,te.minzoom,te.maxzoom)),n.postTurnstileEvent(ze.tiles),n.postMapLoadEvent(ze.tiles,te.map._getMapId(),te.map._requestManager._skuToken),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},J.prototype.loaded=function(){return this._loaded},J.prototype.onAdd=function(te){this.map=te,this.load()},J.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},J.prototype.serialize=function(){return n.extend({},this._options)},J.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},J.prototype.loadTile=function(te,ge){var ze=this,Ke=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=n.getImage(this.map._requestManager.transformRequest(Ke,n.ResourceType.Tile),function(ct,Pt){if(delete te.request,te.aborted)te.state="unloaded",ge(null);else if(ct)te.state="errored",ge(ct);else if(Pt){ze.map._refreshExpiredTiles&&te.setExpiryData(Pt),delete Pt.cacheControl,delete Pt.expires;var Yt=ze.map.painter.context,qt=Yt.gl;te.texture=ze.map.painter.getTileTexture(Pt.width),te.texture?te.texture.update(Pt,{useMipmap:!0}):(te.texture=new n.Texture(Yt,Pt,qt.RGBA,{useMipmap:!0}),te.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Yt.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,Yt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Yt.extTextureFilterAnisotropicMax)),te.state="loaded",n.cacheEntryPossiblyAdded(ze.dispatcher),ge(null)}})},J.prototype.abortTile=function(te,ge){te.request&&(te.request.cancel(),delete te.request),ge()},J.prototype.unloadTile=function(te,ge){te.texture&&this.map.painter.saveTileTexture(te.texture),ge()},J.prototype.hasTransition=function(){return!1},J}(n.Evented),O=function(ve){function J(de,te,ge,ze){ve.call(this,de,te,ge,ze),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},J.prototype.loadTile=function(te,ge){var ze=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=n.getImage(this.map._requestManager.transformRequest(ze,n.ResourceType.Tile),Ke.bind(this)),te.neighboringTiles=this._getNeighboringTiles(te.tileID);function Ke(Pt,Yt){if(delete te.request,te.aborted)te.state="unloaded",ge(null);else if(Pt)te.state="errored",ge(Pt);else if(Yt){this.map._refreshExpiredTiles&&te.setExpiryData(Yt),delete Yt.cacheControl,delete Yt.expires;var qt=n.window.ImageBitmap&&Yt instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported(),vr=qt?Yt:n.browser.getImageData(Yt,1),fr={uid:te.uid,coord:te.tileID,source:this.id,rawImageData:vr,encoding:this.encoding};(!te.actor||te.state==="expired")&&(te.actor=this.dispatcher.getActor(),te.actor.send("loadDEMTile",fr,ct.bind(this)))}}function ct(Pt,Yt){Pt&&(te.state="errored",ge(Pt)),Yt&&(te.dem=Yt,te.needsHillshadePrepare=!0,te.state="loaded",ge(null))}},J.prototype._getNeighboringTiles=function(te){var ge=te.canonical,ze=Math.pow(2,ge.z),Ke=(ge.x-1+ze)%ze,ct=ge.x===0?te.wrap-1:te.wrap,Pt=(ge.x+1+ze)%ze,Yt=ge.x+1===ze?te.wrap+1:te.wrap,qt={};return qt[new n.OverscaledTileID(te.overscaledZ,ct,ge.z,Ke,ge.y).key]={backfilled:!1},qt[new n.OverscaledTileID(te.overscaledZ,Yt,ge.z,Pt,ge.y).key]={backfilled:!1},ge.y>0&&(qt[new n.OverscaledTileID(te.overscaledZ,ct,ge.z,Ke,ge.y-1).key]={backfilled:!1},qt[new n.OverscaledTileID(te.overscaledZ,te.wrap,ge.z,ge.x,ge.y-1).key]={backfilled:!1},qt[new n.OverscaledTileID(te.overscaledZ,Yt,ge.z,Pt,ge.y-1).key]={backfilled:!1}),ge.y+1<ze&&(qt[new n.OverscaledTileID(te.overscaledZ,ct,ge.z,Ke,ge.y+1).key]={backfilled:!1},qt[new n.OverscaledTileID(te.overscaledZ,te.wrap,ge.z,ge.x,ge.y+1).key]={backfilled:!1},qt[new n.OverscaledTileID(te.overscaledZ,Yt,ge.z,Pt,ge.y+1).key]={backfilled:!1}),qt},J.prototype.unloadTile=function(te){te.demTexture&&this.map.painter.saveTileTexture(te.demTexture),te.fbo&&(te.fbo.destroy(),delete te.fbo),te.dem&&delete te.dem,delete te.neighboringTiles,te.state="unloaded",te.actor&&te.actor.send("removeDEMTile",{uid:te.uid,source:this.id})},J}(F),B=function(ve){function J(de,te,ge,ze){ve.call(this),this.id=de,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ge.getActor(),this.setEventedParent(ze),this._data=te.data,this._options=n.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],te.maxzoom!==void 0&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var Ke=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(te.buffer!==void 0?te.buffer:128)*Ke,tolerance:(te.tolerance!==void 0?te.tolerance:.375)*Ke,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:te.clusterMaxZoom!==void 0?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,te.clusterMinPoints||2),extent:n.EXTENT,radius:(te.clusterRadius||50)*Ke,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties,filter:te.filter},te.workerOptions)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(){var te=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ge){if(ge){te.fire(new n.ErrorEvent(ge));return}var ze={dataType:"source",sourceDataType:"metadata"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(ze.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new n.Event("data",ze))})},J.prototype.onAdd=function(te){this.map=te,this.load()},J.prototype.setData=function(te){var ge=this;return this._data=te,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ze){if(ze){ge.fire(new n.ErrorEvent(ze));return}var Ke={dataType:"source",sourceDataType:"content"};ge._collectResourceTiming&&ge._resourceTiming&&ge._resourceTiming.length>0&&(Ke.resourceTiming=ge._resourceTiming,ge._resourceTiming=[]),ge.fire(new n.Event("data",Ke))}),this},J.prototype.getClusterExpansionZoom=function(te,ge){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:te,source:this.id},ge),this},J.prototype.getClusterChildren=function(te,ge){return this.actor.send("geojson.getClusterChildren",{clusterId:te,source:this.id},ge),this},J.prototype.getClusterLeaves=function(te,ge,ze,Ke){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:te,limit:ge,offset:ze},Ke),this},J.prototype._updateWorkerData=function(te){var ge=this;this._loaded=!1;var ze=n.extend({},this.workerOptions),Ke=this._data;typeof Ke=="string"?(ze.request=this.map._requestManager.transformRequest(n.browser.resolveURL(Ke),n.ResourceType.Source),ze.request.collectResourceTiming=this._collectResourceTiming):ze.data=JSON.stringify(Ke),this.actor.send(this.type+".loadData",ze,function(ct,Pt){ge._removed||Pt&&Pt.abandoned||(ge._loaded=!0,Pt&&Pt.resourceTiming&&Pt.resourceTiming[ge.id]&&(ge._resourceTiming=Pt.resourceTiming[ge.id].slice(0)),ge.actor.send(ge.type+".coalesce",{source:ze.source},null),te(ct))})},J.prototype.loaded=function(){return this._loaded},J.prototype.loadTile=function(te,ge){var ze=this,Ke=te.actor?"reloadTile":"loadTile";te.actor=this.actor;var ct={type:this.type,uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};te.request=this.actor.send(Ke,ct,function(Pt,Yt){return delete te.request,te.unloadVectorData(),te.aborted?ge(null):Pt?ge(Pt):(te.loadVectorData(Yt,ze.map.painter,Ke==="reloadTile"),ge(null))})},J.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.aborted=!0},J.prototype.unloadTile=function(te){te.unloadVectorData(),this.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id})},J.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},J.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},J.prototype.hasTransition=function(){return!1},J}(n.Evented),W=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ee=function(ve){function J(de,te,ge,ze){ve.call(this),this.id=de,this.dispatcher=ge,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ze),this.options=te}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(te,ge){var ze=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function(Ke,ct){ze._loaded=!0,Ke?ze.fire(new n.ErrorEvent(Ke)):ct&&(ze.image=ct,te&&(ze.coordinates=te),ge&&ge(),ze._finishLoading())})},J.prototype.loaded=function(){return this._loaded},J.prototype.updateImage=function(te){var ge=this;return!this.image||!te.url?this:(this.options.url=te.url,this.load(te.coordinates,function(){ge.texture=null}),this)},J.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},J.prototype.onAdd=function(te){this.map=te,this.load()},J.prototype.setCoordinates=function(te){var ge=this;this.coordinates=te;var ze=te.map(n.MercatorCoordinate.fromLngLat);this.tileID=ne(ze),this.minzoom=this.maxzoom=this.tileID.z;var Ke=ze.map(function(ct){return ge.tileID.getTilePoint(ct)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ke[0].x,Ke[0].y,0,0),this._boundsArray.emplaceBack(Ke[1].x,Ke[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(Ke[3].x,Ke[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(Ke[2].x,Ke[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},J.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var te=this.map.painter.context,ge=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(te,this.image,ge.RGBA),this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ke=this.tiles[ze];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},J.prototype.loadTile=function(te,ge){this.tileID&&this.tileID.equals(te.tileID.canonical)?(this.tiles[String(te.tileID.wrap)]=te,te.buckets={},ge(null)):(te.state="errored",ge(null))},J.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},J.prototype.hasTransition=function(){return!1},J}(n.Evented);function ne(ve){for(var J=1/0,de=1/0,te=-1/0,ge=-1/0,ze=0,Ke=ve;ze<Ke.length;ze+=1){var ct=Ke[ze];J=Math.min(J,ct.x),de=Math.min(de,ct.y),te=Math.max(te,ct.x),ge=Math.max(ge,ct.y)}var Pt=te-J,Yt=ge-de,qt=Math.max(Pt,Yt),vr=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),fr=Math.pow(2,vr);return new n.CanonicalTileID(vr,Math.floor((J+te)/2*fr),Math.floor((de+ge)/2*fr))}var Q=function(ve){function J(de,te,ge,ze){ve.call(this,de,te,ge,ze),this.roundZoom=!0,this.type="video",this.options=te}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(){var te=this;this._loaded=!1;var ge=this.options;this.urls=[];for(var ze=0,Ke=ge.urls;ze<Ke.length;ze+=1){var ct=Ke[ze];this.urls.push(this.map._requestManager.transformRequest(ct,n.ResourceType.Source).url)}n.getVideo(this.urls,function(Pt,Yt){te._loaded=!0,Pt?te.fire(new n.ErrorEvent(Pt)):Yt&&(te.video=Yt,te.video.loop=!0,te.video.addEventListener("playing",function(){te.map.triggerRepaint()}),te.map&&te.video.play(),te._finishLoading())})},J.prototype.pause=function(){this.video&&this.video.pause()},J.prototype.play=function(){this.video&&this.video.play()},J.prototype.seek=function(te){if(this.video){var ge=this.video.seekable;te<ge.start(0)||te>ge.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ge.start(0)+" and "+ge.end(0)+"-second mark."))):this.video.currentTime=te}},J.prototype.getVideo=function(){return this.video},J.prototype.onAdd=function(te){this.map||(this.map=te,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},J.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var te=this.map.painter.context,ge=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,ge.RGBA,ge.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(te,this.video,ge.RGBA),this.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ke=this.tiles[ze];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},J.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},J.prototype.hasTransition=function(){return this.video&&!this.video.paused},J}(ee),le=function(ve){function J(de,te,ge,ze){ve.call(this,de,te,ge,ze),te.coordinates?(!Array.isArray(te.coordinates)||te.coordinates.length!==4||te.coordinates.some(function(Ke){return!Array.isArray(Ke)||Ke.length!==2||Ke.some(function(ct){return typeof ct!="number"})}))&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+de,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+de,null,'missing required property "coordinates"'))),te.animate&&typeof te.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+de,null,'optional "animate" property must be a boolean value'))),te.canvas?typeof te.canvas!="string"&&!(te.canvas instanceof n.window.HTMLCanvasElement)&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+de,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+de,null,'missing required property "canvas"'))),this.options=te,this.animate=te.animate!==void 0?te.animate:!0}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},J.prototype.getCanvas=function(){return this.canvas},J.prototype.onAdd=function(te){this.map=te,this.load(),this.canvas&&this.animate&&this.play()},J.prototype.onRemove=function(){this.pause()},J.prototype.prepare=function(){var te=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,te=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,te=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ge=this.map.painter.context,ze=ge.gl;this.boundsBuffer||(this.boundsBuffer=ge.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(te||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(ge,this.canvas,ze.RGBA,{premultiply:!0});for(var Ke in this.tiles){var ct=this.tiles[Ke];ct.state!=="loaded"&&(ct.state="loaded",ct.texture=this.texture)}}},J.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},J.prototype.hasTransition=function(){return this._playing},J.prototype._hasInvalidDimensions=function(){for(var te=0,ge=[this.canvas.width,this.canvas.height];te<ge.length;te+=1){var ze=ge[te];if(isNaN(ze)||ze<=0)return!0}return!1},J}(ee),Z={vector:z,raster:F,"raster-dem":O,geojson:B,video:Q,image:ee,canvas:le},Y=function(ve,J,de,te){var ge=new Z[J.type](ve,J,de,te);if(ge.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+ge.id);return n.bindAll(["load","abort","unload","serialize","prepare"],ge),ge},re=function(ve){return Z[ve]},X=function(ve,J){Z[ve]=J};function q(ve,J){var de=n.identity([]);return n.translate(de,de,[1,1,0]),n.scale(de,de,[ve.width*.5,ve.height*.5,1]),n.multiply(de,de,ve.calculatePosMatrix(J.toUnwrapped()))}function se(ve,J,de){if(ve)for(var te=0,ge=ve;te<ge.length;te+=1){var ze=ge[te],Ke=J[ze];if(Ke&&Ke.source===de&&Ke.type==="fill-extrusion")return!0}else for(var ct in J){var Pt=J[ct];if(Pt.source===de&&Pt.type==="fill-extrusion")return!0}return!1}function $(ve,J,de,te,ge,ze){var Ke=se(ge&&ge.layers,J,ve.id),ct=ze.maxPitchScaleFactor(),Pt=ve.tilesIn(te,ct,Ke);Pt.sort(ae);for(var Yt=[],qt=0,vr=Pt;qt<vr.length;qt+=1){var fr=vr[qt];Yt.push({wrappedTileID:fr.tileID.wrapped().key,queryResults:fr.tile.queryRenderedFeatures(J,de,ve._state,fr.queryGeometry,fr.cameraQueryGeometry,fr.scale,ge,ze,ct,q(ve.transform,fr.tileID))})}var Vr=ce(Yt);for(var en in Vr)Vr[en].forEach(function(qr){var Jr=qr.feature,an=ve.getFeatureState(Jr.layer["source-layer"],Jr.id);Jr.source=Jr.layer.source,Jr.layer["source-layer"]&&(Jr.sourceLayer=Jr.layer["source-layer"]),Jr.state=an});return Vr}function j(ve,J,de,te,ge,ze,Ke){for(var ct={},Pt=ze.queryRenderedSymbols(te),Yt=[],qt=0,vr=Object.keys(Pt).map(Number);qt<vr.length;qt+=1){var fr=vr[qt];Yt.push(Ke[fr])}Yt.sort(ae);for(var Vr=function(){var xn=qr[en],Hn=xn.featureIndex.lookupSymbolFeatures(Pt[xn.bucketInstanceId],J,xn.bucketIndex,xn.sourceLayerIndex,ge.filter,ge.layers,ge.availableImages,ve);for(var Xn in Hn){var ta=ct[Xn]=ct[Xn]||[],aa=Hn[Xn];aa.sort(function(ba,za){var _a=xn.featureSortOrder;if(_a){var ri=_a.indexOf(ba.featureIndex),Si=_a.indexOf(za.featureIndex);return Si-ri}else return za.featureIndex-ba.featureIndex});for(var ea=0,oa=aa;ea<oa.length;ea+=1){var da=oa[ea];ta.push(da)}}},en=0,qr=Yt;en<qr.length;en+=1)Vr();var Jr=function(xn){ct[xn].forEach(function(Hn){var Xn=Hn.feature,ta=ve[xn],aa=de[ta.source],ea=aa.getFeatureState(Xn.layer["source-layer"],Xn.id);Xn.source=Xn.layer.source,Xn.layer["source-layer"]&&(Xn.sourceLayer=Xn.layer["source-layer"]),Xn.state=ea})};for(var an in ct)Jr(an);return ct}function ue(ve,J){for(var de=ve.getRenderableIds().map(function(Pt){return ve.getTileByID(Pt)}),te=[],ge={},ze=0;ze<de.length;ze++){var Ke=de[ze],ct=Ke.tileID.canonical.key;ge[ct]||(ge[ct]=!0,Ke.querySourceFeatures(te,J))}return te}function ae(ve,J){var de=ve.tileID,te=J.tileID;return de.overscaledZ-te.overscaledZ||de.canonical.y-te.canonical.y||de.wrap-te.wrap||de.canonical.x-te.canonical.x}function ce(ve){for(var J={},de={},te=0,ge=ve;te<ge.length;te+=1){var ze=ge[te],Ke=ze.queryResults,ct=ze.wrappedTileID,Pt=de[ct]=de[ct]||{};for(var Yt in Ke)for(var qt=Ke[Yt],vr=Pt[Yt]=Pt[Yt]||{},fr=J[Yt]=J[Yt]||[],Vr=0,en=qt;Vr<en.length;Vr+=1){var qr=en[Vr];vr[qr.featureIndex]||(vr[qr.featureIndex]=!0,fr.push(qr))}}return J}var ye=function(J,de){this.max=J,this.onRemove=de,this.reset()};ye.prototype.reset=function(){for(var J in this.data)for(var de=0,te=this.data[J];de<te.length;de+=1){var ge=te[de];ge.timeout&&clearTimeout(ge.timeout),this.onRemove(ge.value)}return this.data={},this.order=[],this},ye.prototype.add=function(J,de,te){var ge=this,ze=J.wrapped().key;this.data[ze]===void 0&&(this.data[ze]=[]);var Ke={value:de,timeout:void 0};if(te!==void 0&&(Ke.timeout=setTimeout(function(){ge.remove(J,Ke)},te)),this.data[ze].push(Ke),this.order.push(ze),this.order.length>this.max){var ct=this._getAndRemoveByKey(this.order[0]);ct&&this.onRemove(ct)}return this},ye.prototype.has=function(J){return J.wrapped().key in this.data},ye.prototype.getAndRemove=function(J){return this.has(J)?this._getAndRemoveByKey(J.wrapped().key):null},ye.prototype._getAndRemoveByKey=function(J){var de=this.data[J].shift();return de.timeout&&clearTimeout(de.timeout),this.data[J].length===0&&delete this.data[J],this.order.splice(this.order.indexOf(J),1),de.value},ye.prototype.getByKey=function(J){var de=this.data[J];return de?de[0].value:null},ye.prototype.get=function(J){if(!this.has(J))return null;var de=this.data[J.wrapped().key][0];return de.value},ye.prototype.remove=function(J,de){if(!this.has(J))return this;var te=J.wrapped().key,ge=de===void 0?0:this.data[te].indexOf(de),ze=this.data[te][ge];return this.data[te].splice(ge,1),ze.timeout&&clearTimeout(ze.timeout),this.data[te].length===0&&delete this.data[te],this.onRemove(ze.value),this.order.splice(this.order.indexOf(te),1),this},ye.prototype.setMaxSize=function(J){for(this.max=J;this.order.length>this.max;){var de=this._getAndRemoveByKey(this.order[0]);de&&this.onRemove(de)}return this},ye.prototype.filter=function(J){var de=[];for(var te in this.data)for(var ge=0,ze=this.data[te];ge<ze.length;ge+=1){var Ke=ze[ge];J(Ke.value)||de.push(Ke)}for(var ct=0,Pt=de;ct<Pt.length;ct+=1){var Yt=Pt[ct];this.remove(Yt.value.tileID,Yt)}};var Ce=function(J,de,te){this.context=J;var ge=J.gl;this.buffer=ge.createBuffer(),this.dynamicDraw=!!te,this.context.unbindVAO(),J.bindElementBuffer.set(this.buffer),ge.bufferData(ge.ELEMENT_ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?ge.DYNAMIC_DRAW:ge.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Ce.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ce.prototype.updateData=function(J){var de=this.context.gl;this.context.unbindVAO(),this.bind(),de.bufferSubData(de.ELEMENT_ARRAY_BUFFER,0,J.arrayBuffer)},Ce.prototype.destroy=function(){var J=this.context.gl;this.buffer&&(J.deleteBuffer(this.buffer),delete this.buffer)};var Ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ie=function(J,de,te,ge){this.length=de.length,this.attributes=te,this.itemSize=de.bytesPerElement,this.dynamicDraw=ge,this.context=J;var ze=J.gl;this.buffer=ze.createBuffer(),J.bindVertexBuffer.set(this.buffer),ze.bufferData(ze.ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?ze.DYNAMIC_DRAW:ze.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Ie.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ie.prototype.updateData=function(J){var de=this.context.gl;this.bind(),de.bufferSubData(de.ARRAY_BUFFER,0,J.arrayBuffer)},Ie.prototype.enableAttributes=function(J,de){for(var te=0;te<this.attributes.length;te++){var ge=this.attributes[te],ze=de.attributes[ge.name];ze!==void 0&&J.enableVertexAttribArray(ze)}},Ie.prototype.setVertexAttribPointers=function(J,de,te){for(var ge=0;ge<this.attributes.length;ge++){var ze=this.attributes[ge],Ke=de.attributes[ze.name];Ke!==void 0&&J.vertexAttribPointer(Ke,ze.components,J[Ae[ze.type]],!1,this.itemSize,ze.offset+this.itemSize*(te||0))}},Ie.prototype.destroy=function(){var J=this.context.gl;this.buffer&&(J.deleteBuffer(this.buffer),delete this.buffer)};var Te=function(J){this.gl=J.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Te.prototype.get=function(){return this.current},Te.prototype.set=function(J){},Te.prototype.getDefault=function(){return this.default},Te.prototype.setDefault=function(){this.set(this.default)};var Le=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return n.Color.transparent},J.prototype.set=function(te){var ge=this.current;te.r===ge.r&&te.g===ge.g&&te.b===ge.b&&te.a===ge.a&&!this.dirty||(this.gl.clearColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},J}(Te),xe=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 1},J.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearDepth(te),this.current=te,this.dirty=!1)},J}(Te),Re=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 0},J.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearStencil(te),this.current=te,this.dirty=!1)},J}(Te),He=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return[!0,!0,!0,!0]},J.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&te[2]===ge[2]&&te[3]===ge[3]&&!this.dirty||(this.gl.colorMask(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},J}(Te),Ve=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!0},J.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthMask(te),this.current=te,this.dirty=!1)},J}(Te),Fe=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 255},J.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.stencilMask(te),this.current=te,this.dirty=!1)},J}(Te),We=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},J.prototype.set=function(te){var ge=this.current;te.func===ge.func&&te.ref===ge.ref&&te.mask===ge.mask&&!this.dirty||(this.gl.stencilFunc(te.func,te.ref,te.mask),this.current=te,this.dirty=!1)},J}(Te),ut=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){var te=this.gl;return[te.KEEP,te.KEEP,te.KEEP]},J.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&te[2]===ge[2]&&!this.dirty||(this.gl.stencilOp(te[0],te[1],te[2]),this.current=te,this.dirty=!1)},J}(Te),ht=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.STENCIL_TEST):ge.disable(ge.STENCIL_TEST),this.current=te,this.dirty=!1}},J}(Te),rt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return[0,1]},J.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&!this.dirty||(this.gl.depthRange(te[0],te[1]),this.current=te,this.dirty=!1)},J}(Te),tt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.DEPTH_TEST):ge.disable(ge.DEPTH_TEST),this.current=te,this.dirty=!1}},J}(Te),vt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.LESS},J.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthFunc(te),this.current=te,this.dirty=!1)},J}(Te),pt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.BLEND):ge.disable(ge.BLEND),this.current=te,this.dirty=!1}},J}(Te),mt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){var te=this.gl;return[te.ONE,te.ZERO]},J.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&!this.dirty||(this.gl.blendFunc(te[0],te[1]),this.current=te,this.dirty=!1)},J}(Te),wt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return n.Color.transparent},J.prototype.set=function(te){var ge=this.current;te.r===ge.r&&te.g===ge.g&&te.b===ge.b&&te.a===ge.a&&!this.dirty||(this.gl.blendColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},J}(Te),Lt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.FUNC_ADD},J.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.blendEquation(te),this.current=te,this.dirty=!1)},J}(Te),at=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;te?ge.enable(ge.CULL_FACE):ge.disable(ge.CULL_FACE),this.current=te,this.dirty=!1}},J}(Te),Oe=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.BACK},J.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.cullFace(te),this.current=te,this.dirty=!1)},J}(Te),Ze=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.CCW},J.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.frontFace(te),this.current=te,this.dirty=!1)},J}(Te),Je=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.useProgram(te),this.current=te,this.dirty=!1)},J}(Te),Ye=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.TEXTURE0},J.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.activeTexture(te),this.current=te,this.dirty=!1)},J}(Te),ke=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){var te=this.gl;return[0,0,te.drawingBufferWidth,te.drawingBufferHeight]},J.prototype.set=function(te){var ge=this.current;te[0]===ge[0]&&te[1]===ge[1]&&te[2]===ge[2]&&te[3]===ge[3]&&!this.dirty||(this.gl.viewport(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},J}(Te),be=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindFramebuffer(ge.FRAMEBUFFER,te),this.current=te,this.dirty=!1}},J}(Te),me=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindRenderbuffer(ge.RENDERBUFFER,te),this.current=te,this.dirty=!1}},J}(Te),_e=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindTexture(ge.TEXTURE_2D,te),this.current=te,this.dirty=!1}},J}(Te),Ee=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.bindBuffer(ge.ARRAY_BUFFER,te),this.current=te,this.dirty=!1}},J}(Te),Be=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(te){var ge=this.gl;ge.bindBuffer(ge.ELEMENT_ARRAY_BUFFER,te),this.current=te,this.dirty=!1},J}(Te),je=function(ve){function J(de){ve.call(this,de),this.vao=de.extVertexArrayObject}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(te){!this.vao||te===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(te),this.current=te,this.dirty=!1)},J}(Te),nt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 4},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_ALIGNMENT,te),this.current=te,this.dirty=!1}},J}(Te),dt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te),this.current=te,this.dirty=!1}},J}(Te),xt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ge=this.gl;ge.pixelStorei(ge.UNPACK_FLIP_Y_WEBGL,te),this.current=te,this.dirty=!1}},J}(Te),Kt=function(ve){function J(de,te){ve.call(this,de),this.context=de,this.parent=te}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J}(Te),Jt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.setDirty=function(){this.dirty=!0},J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ge=this.gl;ge.framebufferTexture2D(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,ge.TEXTURE_2D,te,0),this.current=te,this.dirty=!1}},J}(Kt),St=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ge=this.gl;ge.framebufferRenderbuffer(ge.FRAMEBUFFER,ge.DEPTH_ATTACHMENT,ge.RENDERBUFFER,te),this.current=te,this.dirty=!1}},J}(Kt),Ft=function(J,de,te,ge){this.context=J,this.width=de,this.height=te;var ze=J.gl,Ke=this.framebuffer=ze.createFramebuffer();this.colorAttachment=new Jt(J,Ke),ge&&(this.depthAttachment=new St(J,Ke))};Ft.prototype.destroy=function(){var J=this.context.gl,de=this.colorAttachment.get();if(de&&J.deleteTexture(de),this.depthAttachment){var te=this.depthAttachment.get();te&&J.deleteRenderbuffer(te)}J.deleteFramebuffer(this.framebuffer)};var rr=519,_r=function(J,de,te){this.func=J,this.mask=de,this.range=te};_r.ReadOnly=!1,_r.ReadWrite=!0,_r.disabled=new _r(rr,_r.ReadOnly,[0,1]);var Tt=519,$t=7680,tr=function(J,de,te,ge,ze,Ke){this.test=J,this.ref=de,this.mask=te,this.fail=ge,this.depthFail=ze,this.pass=Ke};tr.disabled=new tr({func:Tt,mask:0},0,0,$t,$t,$t);var Tr=0,cr=1,bt=771,lt=function(J,de,te){this.blendFunction=J,this.blendColor=de,this.mask=te};lt.Replace=[cr,Tr],lt.disabled=new lt(lt.Replace,n.Color.transparent,[!1,!1,!1,!1]),lt.unblended=new lt(lt.Replace,n.Color.transparent,[!0,!0,!0,!0]),lt.alphaBlended=new lt([cr,bt],n.Color.transparent,[!0,!0,!0,!0]);var Mt=1029,_t=2305,Ot=function(J,de,te){this.enable=J,this.mode=de,this.frontFace=te};Ot.disabled=new Ot(!1,Mt,_t),Ot.backCCW=new Ot(!0,Mt,_t);var It=function(J){this.gl=J,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Le(this),this.clearDepth=new xe(this),this.clearStencil=new Re(this),this.colorMask=new He(this),this.depthMask=new Ve(this),this.stencilMask=new Fe(this),this.stencilFunc=new We(this),this.stencilOp=new ut(this),this.stencilTest=new ht(this),this.depthRange=new rt(this),this.depthTest=new tt(this),this.depthFunc=new vt(this),this.blend=new pt(this),this.blendFunc=new mt(this),this.blendColor=new wt(this),this.blendEquation=new Lt(this),this.cullFace=new at(this),this.cullFaceSide=new Oe(this),this.frontFace=new Ze(this),this.program=new Je(this),this.activeTexture=new Ye(this),this.viewport=new ke(this),this.bindFramebuffer=new be(this),this.bindRenderbuffer=new me(this),this.bindTexture=new _e(this),this.bindVertexBuffer=new Ee(this),this.bindElementBuffer=new Be(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new je(this),this.pixelStoreUnpack=new nt(this),this.pixelStoreUnpackPremultiplyAlpha=new dt(this),this.pixelStoreUnpackFlipY=new xt(this),this.extTextureFilterAnisotropic=J.getExtension("EXT_texture_filter_anisotropic")||J.getExtension("MOZ_EXT_texture_filter_anisotropic")||J.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=J.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=J.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(J.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=J.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=J.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=J.getParameter(J.MAX_TEXTURE_SIZE)};It.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},It.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},It.prototype.createIndexBuffer=function(J,de){return new Ce(this,J,de)},It.prototype.createVertexBuffer=function(J,de,te){return new Ie(this,J,de,te)},It.prototype.createRenderbuffer=function(J,de,te){var ge=this.gl,ze=ge.createRenderbuffer();return this.bindRenderbuffer.set(ze),ge.renderbufferStorage(ge.RENDERBUFFER,J,de,te),this.bindRenderbuffer.set(null),ze},It.prototype.createFramebuffer=function(J,de,te){return new Ft(this,J,de,te)},It.prototype.clear=function(J){var de=J.color,te=J.depth,ge=this.gl,ze=0;de&&(ze|=ge.COLOR_BUFFER_BIT,this.clearColor.set(de),this.colorMask.set([!0,!0,!0,!0])),typeof te<"u"&&(ze|=ge.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(te),this.depthMask.set(!0)),ge.clear(ze)},It.prototype.setCullFace=function(J){J.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(J.mode),this.frontFace.set(J.frontFace))},It.prototype.setDepthMode=function(J){J.func===this.gl.ALWAYS&&!J.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(J.func),this.depthMask.set(J.mask),this.depthRange.set(J.range))},It.prototype.setStencilMode=function(J){J.test.func===this.gl.ALWAYS&&!J.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(J.mask),this.stencilOp.set([J.fail,J.depthFail,J.pass]),this.stencilFunc.set({func:J.test.func,ref:J.ref,mask:J.test.mask}))},It.prototype.setColorMode=function(J){n.deepEqual(J.blendFunction,lt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(J.blendFunction),this.blendColor.set(J.blendColor)),this.colorMask.set(J.mask)},It.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Wt=function(ve){function J(de,te,ge){var ze=this;ve.call(this),this.id=de,this.dispatcher=ge,this.on("data",function(Ke){Ke.dataType==="source"&&Ke.sourceDataType==="metadata"&&(ze._sourceLoaded=!0),ze._sourceLoaded&&!ze._paused&&Ke.dataType==="source"&&Ke.sourceDataType==="content"&&(ze.reload(),ze.transform&&ze.update(ze.transform))}),this.on("error",function(){ze._sourceErrored=!0}),this._source=Y(de,te,ge,this),this._tiles={},this._cache=new ye(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.onAdd=function(te){this.map=te,this._maxTileCacheSize=te?te._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(te)},J.prototype.onRemove=function(te){this._source&&this._source.onRemove&&this._source.onRemove(te)},J.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var te in this._tiles){var ge=this._tiles[te];if(ge.state!=="loaded"&&ge.state!=="errored")return!1}return!0},J.prototype.getSource=function(){return this._source},J.prototype.pause=function(){this._paused=!0},J.prototype.resume=function(){if(this._paused){var te=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,te&&this.reload(),this.transform&&this.update(this.transform)}},J.prototype._loadTile=function(te,ge){return this._source.loadTile(te,ge)},J.prototype._unloadTile=function(te){if(this._source.unloadTile)return this._source.unloadTile(te,function(){})},J.prototype._abortTile=function(te){if(this._source.abortTile)return this._source.abortTile(te,function(){})},J.prototype.serialize=function(){return this._source.serialize()},J.prototype.prepare=function(te){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ge in this._tiles){var ze=this._tiles[ge];ze.upload(te),ze.prepare(this.map.style.imageManager)}},J.prototype.getIds=function(){return n.values(this._tiles).map(function(te){return te.tileID}).sort(Gt).map(function(te){return te.key})},J.prototype.getRenderableIds=function(te){var ge=this,ze=[];for(var Ke in this._tiles)this._isIdRenderable(Ke,te)&&ze.push(this._tiles[Ke]);return te?ze.sort(function(ct,Pt){var Yt=ct.tileID,qt=Pt.tileID,vr=new n.Point(Yt.canonical.x,Yt.canonical.y)._rotate(ge.transform.angle),fr=new n.Point(qt.canonical.x,qt.canonical.y)._rotate(ge.transform.angle);return Yt.overscaledZ-qt.overscaledZ||fr.y-vr.y||fr.x-vr.x}).map(function(ct){return ct.tileID.key}):ze.map(function(ct){return ct.tileID}).sort(Gt).map(function(ct){return ct.key})},J.prototype.hasRenderableParent=function(te){var ge=this.findLoadedParent(te,0);return ge?this._isIdRenderable(ge.tileID.key):!1},J.prototype._isIdRenderable=function(te,ge){return this._tiles[te]&&this._tiles[te].hasData()&&!this._coveredTiles[te]&&(ge||!this._tiles[te].holdingForFade())},J.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var te in this._tiles)this._tiles[te].state!=="errored"&&this._reloadTile(te,"reloading")},J.prototype._reloadTile=function(te,ge){var ze=this._tiles[te];ze&&(ze.state!=="loading"&&(ze.state=ge),this._loadTile(ze,this._tileLoaded.bind(this,ze,te,ge)))},J.prototype._tileLoaded=function(te,ge,ze,Ke){if(Ke){te.state="errored",Ke.status!==404?this._source.fire(new n.ErrorEvent(Ke,{tile:te})):this.update(this.transform);return}te.timeAdded=n.browser.now(),ze==="expired"&&(te.refreshedUponExpiration=!0),this._setTileReloadTimer(ge,te),this.getSource().type==="raster-dem"&&te.dem&&this._backfillDEM(te),this._state.initializeTileState(te,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:te,coord:te.tileID}))},J.prototype._backfillDEM=function(te){for(var ge=this.getRenderableIds(),ze=0;ze<ge.length;ze++){var Ke=ge[ze];if(te.neighboringTiles&&te.neighboringTiles[Ke]){var ct=this.getTileByID(Ke);Pt(te,ct),Pt(ct,te)}}function Pt(Yt,qt){Yt.needsHillshadePrepare=!0;var vr=qt.tileID.canonical.x-Yt.tileID.canonical.x,fr=qt.tileID.canonical.y-Yt.tileID.canonical.y,Vr=Math.pow(2,Yt.tileID.canonical.z),en=qt.tileID.key;vr===0&&fr===0||Math.abs(fr)>1||(Math.abs(vr)>1&&(Math.abs(vr+Vr)===1?vr+=Vr:Math.abs(vr-Vr)===1&&(vr-=Vr)),!(!qt.dem||!Yt.dem)&&(Yt.dem.backfillBorder(qt.dem,vr,fr),Yt.neighboringTiles&&Yt.neighboringTiles[en]&&(Yt.neighboringTiles[en].backfilled=!0)))}},J.prototype.getTile=function(te){return this.getTileByID(te.key)},J.prototype.getTileByID=function(te){return this._tiles[te]},J.prototype._retainLoadedChildren=function(te,ge,ze,Ke){for(var ct in this._tiles){var Pt=this._tiles[ct];if(!(Ke[ct]||!Pt.hasData()||Pt.tileID.overscaledZ<=ge||Pt.tileID.overscaledZ>ze)){for(var Yt=Pt.tileID;Pt&&Pt.tileID.overscaledZ>ge+1;){var qt=Pt.tileID.scaledTo(Pt.tileID.overscaledZ-1);Pt=this._tiles[qt.key],Pt&&Pt.hasData()&&(Yt=qt)}for(var vr=Yt;vr.overscaledZ>ge;)if(vr=vr.scaledTo(vr.overscaledZ-1),te[vr.key]){Ke[Yt.key]=Yt;break}}}},J.prototype.findLoadedParent=function(te,ge){if(te.key in this._loadedParentTiles){var ze=this._loadedParentTiles[te.key];return ze&&ze.tileID.overscaledZ>=ge?ze:null}for(var Ke=te.overscaledZ-1;Ke>=ge;Ke--){var ct=te.scaledTo(Ke),Pt=this._getLoadedTile(ct);if(Pt)return Pt}},J.prototype._getLoadedTile=function(te){var ge=this._tiles[te.key];if(ge&&ge.hasData())return ge;var ze=this._cache.getByKey(te.wrapped().key);return ze},J.prototype.updateCacheSize=function(te){var ge=Math.ceil(te.width/this._source.tileSize)+1,ze=Math.ceil(te.height/this._source.tileSize)+1,Ke=ge*ze,ct=5,Pt=Math.floor(Ke*ct),Yt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Pt):Pt;this._cache.setMaxSize(Yt)},J.prototype.handleWrapJump=function(te){var ge=this._prevLng===void 0?te:this._prevLng,ze=te-ge,Ke=ze/360,ct=Math.round(Ke);if(this._prevLng=te,ct){var Pt={};for(var Yt in this._tiles){var qt=this._tiles[Yt];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ct),Pt[qt.tileID.key]=qt}this._tiles=Pt;for(var vr in this._timers)clearTimeout(this._timers[vr]),delete this._timers[vr];for(var fr in this._tiles){var Vr=this._tiles[fr];this._setTileReloadTimer(fr,Vr)}}},J.prototype.update=function(te){var ge=this;if(this.transform=te,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(te),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var ze;this.used?this._source.tileID?ze=te.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ba){return new n.OverscaledTileID(ba.canonical.z,ba.wrap,ba.canonical.z,ba.canonical.x,ba.canonical.y)}):(ze=te.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ze=ze.filter(function(ba){return ge._source.hasTile(ba)}))):ze=[];var Ke=te.coveringZoomLevel(this._source),ct=Math.max(Ke-J.maxOverzooming,this._source.minzoom),Pt=Math.max(Ke+J.maxUnderzooming,this._source.minzoom),Yt=this._updateRetainedTiles(ze,Ke);if(er(this._source.type)){for(var qt={},vr={},fr=Object.keys(Yt),Vr=0,en=fr;Vr<en.length;Vr+=1){var qr=en[Vr],Jr=Yt[qr],an=this._tiles[qr];if(!(!an||an.fadeEndTime&&an.fadeEndTime<=n.browser.now())){var xn=this.findLoadedParent(Jr,ct);xn&&(this._addTile(xn.tileID),qt[xn.tileID.key]=xn.tileID),vr[qr]=Jr}}this._retainLoadedChildren(vr,Ke,Pt,Yt);for(var Hn in qt)Yt[Hn]||(this._coveredTiles[Hn]=!0,Yt[Hn]=qt[Hn])}for(var Xn in Yt)this._tiles[Xn].clearFadeHold();for(var ta=n.keysDifference(this._tiles,Yt),aa=0,ea=ta;aa<ea.length;aa+=1){var oa=ea[aa],da=this._tiles[oa];da.hasSymbolBuckets&&!da.holdingForFade()?da.setHoldDuration(this.map._fadeDuration):(!da.hasSymbolBuckets||da.symbolFadeFinished())&&this._removeTile(oa)}this._updateLoadedParentTileCache()}},J.prototype.releaseSymbolFadeTiles=function(){for(var te in this._tiles)this._tiles[te].holdingForFade()&&this._removeTile(te)},J.prototype._updateRetainedTiles=function(te,ge){for(var ze={},Ke={},ct=Math.max(ge-J.maxOverzooming,this._source.minzoom),Pt=Math.max(ge+J.maxUnderzooming,this._source.minzoom),Yt={},qt=0,vr=te;qt<vr.length;qt+=1){var fr=vr[qt],Vr=this._addTile(fr);ze[fr.key]=fr,!Vr.hasData()&&ge<this._source.maxzoom&&(Yt[fr.key]=fr)}this._retainLoadedChildren(Yt,ge,Pt,ze);for(var en=0,qr=te;en<qr.length;en+=1){var Jr=qr[en],an=this._tiles[Jr.key];if(!an.hasData()){if(ge+1>this._source.maxzoom){var xn=Jr.children(this._source.maxzoom)[0],Hn=this.getTile(xn);if(Hn&&Hn.hasData()){ze[xn.key]=xn;continue}}else{var Xn=Jr.children(this._source.maxzoom);if(ze[Xn[0].key]&&ze[Xn[1].key]&&ze[Xn[2].key]&&ze[Xn[3].key])continue}for(var ta=an.wasRequested(),aa=Jr.overscaledZ-1;aa>=ct;--aa){var ea=Jr.scaledTo(aa);if(Ke[ea.key]||(Ke[ea.key]=!0,an=this.getTile(ea),!an&&ta&&(an=this._addTile(ea)),an&&(ze[ea.key]=ea,ta=an.wasRequested(),an.hasData())))break}}}return ze},J.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var te in this._tiles){for(var ge=[],ze=void 0,Ke=this._tiles[te].tileID;Ke.overscaledZ>0;){if(Ke.key in this._loadedParentTiles){ze=this._loadedParentTiles[Ke.key];break}ge.push(Ke.key);var ct=Ke.scaledTo(Ke.overscaledZ-1);if(ze=this._getLoadedTile(ct),ze)break;Ke=ct}for(var Pt=0,Yt=ge;Pt<Yt.length;Pt+=1){var qt=Yt[Pt];this._loadedParentTiles[qt]=ze}}},J.prototype._addTile=function(te){var ge=this._tiles[te.key];if(ge)return ge;ge=this._cache.getAndRemove(te),ge&&(this._setTileReloadTimer(te.key,ge),ge.tileID=te,this._state.initializeTileState(ge,this.map?this.map.painter:null),this._cacheTimers[te.key]&&(clearTimeout(this._cacheTimers[te.key]),delete this._cacheTimers[te.key],this._setTileReloadTimer(te.key,ge)));var ze=!!ge;return ze||(ge=new n.Tile(te,this._source.tileSize*te.overscaleFactor()),this._loadTile(ge,this._tileLoaded.bind(this,ge,te.key,ge.state))),ge?(ge.uses++,this._tiles[te.key]=ge,ze||this._source.fire(new n.Event("dataloading",{tile:ge,coord:ge.tileID,dataType:"source"})),ge):null},J.prototype._setTileReloadTimer=function(te,ge){var ze=this;te in this._timers&&(clearTimeout(this._timers[te]),delete this._timers[te]);var Ke=ge.getExpiryTimeout();Ke&&(this._timers[te]=setTimeout(function(){ze._reloadTile(te,"expired"),delete ze._timers[te]},Ke))},J.prototype._removeTile=function(te){var ge=this._tiles[te];ge&&(ge.uses--,delete this._tiles[te],this._timers[te]&&(clearTimeout(this._timers[te]),delete this._timers[te]),!(ge.uses>0)&&(ge.hasData()&&ge.state!=="reloading"?this._cache.add(ge.tileID,ge,ge.getExpiryTimeout()):(ge.aborted=!0,this._abortTile(ge),this._unloadTile(ge))))},J.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var te in this._tiles)this._removeTile(te);this._cache.reset()},J.prototype.tilesIn=function(te,ge,ze){var Ke=this,ct=[],Pt=this.transform;if(!Pt)return ct;for(var Yt=ze?Pt.getCameraQueryGeometry(te):te,qt=te.map(function(aa){return Pt.pointCoordinate(aa)}),vr=Yt.map(function(aa){return Pt.pointCoordinate(aa)}),fr=this.getIds(),Vr=1/0,en=1/0,qr=-1/0,Jr=-1/0,an=0,xn=vr;an<xn.length;an+=1){var Hn=xn[an];Vr=Math.min(Vr,Hn.x),en=Math.min(en,Hn.y),qr=Math.max(qr,Hn.x),Jr=Math.max(Jr,Hn.y)}for(var Xn=function(aa){var ea=Ke._tiles[fr[aa]];if(!ea.holdingForFade()){var oa=ea.tileID,da=Math.pow(2,Pt.zoom-ea.tileID.overscaledZ),ba=ge*ea.queryPadding*n.EXTENT/ea.tileSize/da,za=[oa.getTilePoint(new n.MercatorCoordinate(Vr,en)),oa.getTilePoint(new n.MercatorCoordinate(qr,Jr))];if(za[0].x-ba<n.EXTENT&&za[0].y-ba<n.EXTENT&&za[1].x+ba>=0&&za[1].y+ba>=0){var _a=qt.map(function(Si){return oa.getTilePoint(Si)}),ri=vr.map(function(Si){return oa.getTilePoint(Si)});ct.push({tile:ea,tileID:oa,queryGeometry:_a,cameraQueryGeometry:ri,scale:da})}}},ta=0;ta<fr.length;ta++)Xn(ta);return ct},J.prototype.getVisibleCoordinates=function(te){for(var ge=this,ze=this.getRenderableIds(te).map(function(Yt){return ge._tiles[Yt].tileID}),Ke=0,ct=ze;Ke<ct.length;Ke+=1){var Pt=ct[Ke];Pt.posMatrix=this.transform.calculatePosMatrix(Pt.toUnwrapped())}return ze},J.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(er(this._source.type))for(var te in this._tiles){var ge=this._tiles[te];if(ge.fadeEndTime!==void 0&&ge.fadeEndTime>=n.browser.now())return!0}return!1},J.prototype.setFeatureState=function(te,ge,ze){te=te||"_geojsonTileLayer",this._state.updateState(te,ge,ze)},J.prototype.removeFeatureState=function(te,ge,ze){te=te||"_geojsonTileLayer",this._state.removeFeatureState(te,ge,ze)},J.prototype.getFeatureState=function(te,ge){return te=te||"_geojsonTileLayer",this._state.getState(te,ge)},J.prototype.setDependencies=function(te,ge,ze){var Ke=this._tiles[te];Ke&&Ke.setDependencies(ge,ze)},J.prototype.reloadTilesForDependencies=function(te,ge){for(var ze in this._tiles){var Ke=this._tiles[ze];Ke.hasDependency(te,ge)&&this._reloadTile(ze,"reloading")}this._cache.filter(function(ct){return!ct.hasDependency(te,ge)})},J}(n.Evented);Wt.maxOverzooming=10,Wt.maxUnderzooming=3;function Gt(ve,J){var de=Math.abs(ve.wrap*2)-+(ve.wrap<0),te=Math.abs(J.wrap*2)-+(J.wrap<0);return ve.overscaledZ-J.overscaledZ||te-de||J.canonical.y-ve.canonical.y||J.canonical.x-ve.canonical.x}function er(ve){return ve==="raster"||ve==="image"||ve==="video"}function dr(){return new n.window.Worker(No.workerUrl)}var pr="mapboxgl_preloaded_worker_pool",mr=function(){this.active={}};mr.prototype.acquire=function(J){if(!this.workers)for(this.workers=[];this.workers.length<mr.workerCount;)this.workers.push(new dr);return this.active[J]=!0,this.workers.slice()},mr.prototype.release=function(J){delete this.active[J],this.numActive()===0&&(this.workers.forEach(function(de){de.terminate()}),this.workers=null)},mr.prototype.isPreloaded=function(){return!!this.active[pr]},mr.prototype.numActive=function(){return Object.keys(this.active).length};var Xe=Math.floor(n.browser.hardwareConcurrency/2);mr.workerCount=Math.max(Math.min(Xe,6),1);var Ge;function Ut(){return Ge||(Ge=new mr),Ge}function Nt(){var ve=Ut();ve.acquire(pr)}function Qt(){var ve=Ge;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(pr),Ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function ar(ve,J){var de={};for(var te in ve)te!=="ref"&&(de[te]=ve[te]);return n.refProperties.forEach(function(ge){ge in J&&(de[ge]=J[ge])}),de}function hr(ve){ve=ve.slice();for(var J=Object.create(null),de=0;de<ve.length;de++)J[ve[de].id]=ve[de];for(var te=0;te<ve.length;te++)"ref"in ve[te]&&(ve[te]=ar(ve[te],J[ve[te].ref]));return ve}function or(){var ve={},J=n.styleSpec.$version;for(var de in n.styleSpec.$root){var te=n.styleSpec.$root[de];if(te.required){var ge=null;de==="version"?ge=J:te.type==="array"?ge=[]:ge={},ge!=null&&(ve[de]=ge)}}return ve}var Vt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function yr(ve,J,de){de.push({command:Vt.addSource,args:[ve,J[ve]]})}function wr(ve,J,de){J.push({command:Vt.removeSource,args:[ve]}),de[ve]=!0}function Ar(ve,J,de,te){wr(ve,de,te),yr(ve,J,de)}function gr(ve,J,de){var te;for(te in ve[de])if(ve[de].hasOwnProperty(te)&&te!=="data"&&!n.deepEqual(ve[de][te],J[de][te]))return!1;for(te in J[de])if(J[de].hasOwnProperty(te)&&te!=="data"&&!n.deepEqual(ve[de][te],J[de][te]))return!1;return!0}function jr(ve,J,de,te){ve=ve||{},J=J||{};var ge;for(ge in ve)ve.hasOwnProperty(ge)&&(J.hasOwnProperty(ge)||wr(ge,de,te));for(ge in J)J.hasOwnProperty(ge)&&(ve.hasOwnProperty(ge)?n.deepEqual(ve[ge],J[ge])||(ve[ge].type==="geojson"&&J[ge].type==="geojson"&&gr(ve,J,ge)?de.push({command:Vt.setGeoJSONSourceData,args:[ge,J[ge].data]}):Ar(ge,J,de,te)):yr(ge,J,de))}function Fr(ve,J,de,te,ge,ze){ve=ve||{},J=J||{};var Ke;for(Ke in ve)ve.hasOwnProperty(Ke)&&(n.deepEqual(ve[Ke],J[Ke])||de.push({command:ze,args:[te,Ke,J[Ke],ge]}));for(Ke in J)!J.hasOwnProperty(Ke)||ve.hasOwnProperty(Ke)||n.deepEqual(ve[Ke],J[Ke])||de.push({command:ze,args:[te,Ke,J[Ke],ge]})}function Nr(ve){return ve.id}function wn(ve,J){return ve[J.id]=J,ve}function hn(ve,J,de){ve=ve||[],J=J||[];var te=ve.map(Nr),ge=J.map(Nr),ze=ve.reduce(wn,{}),Ke=J.reduce(wn,{}),ct=te.slice(),Pt=Object.create(null),Yt,qt,vr,fr,Vr,en,qr;for(Yt=0,qt=0;Yt<te.length;Yt++)vr=te[Yt],Ke.hasOwnProperty(vr)?qt++:(de.push({command:Vt.removeLayer,args:[vr]}),ct.splice(ct.indexOf(vr,qt),1));for(Yt=0,qt=0;Yt<ge.length;Yt++)vr=ge[ge.length-1-Yt],ct[ct.length-1-Yt]!==vr&&(ze.hasOwnProperty(vr)?(de.push({command:Vt.removeLayer,args:[vr]}),ct.splice(ct.lastIndexOf(vr,ct.length-qt),1)):qt++,en=ct[ct.length-Yt],de.push({command:Vt.addLayer,args:[Ke[vr],en]}),ct.splice(ct.length-Yt,0,vr),Pt[vr]=!0);for(Yt=0;Yt<ge.length;Yt++)if(vr=ge[Yt],fr=ze[vr],Vr=Ke[vr],!(Pt[vr]||n.deepEqual(fr,Vr))){if(!n.deepEqual(fr.source,Vr.source)||!n.deepEqual(fr["source-layer"],Vr["source-layer"])||!n.deepEqual(fr.type,Vr.type)){de.push({command:Vt.removeLayer,args:[vr]}),en=ct[ct.lastIndexOf(vr)+1],de.push({command:Vt.addLayer,args:[Vr,en]});continue}Fr(fr.layout,Vr.layout,de,vr,null,Vt.setLayoutProperty),Fr(fr.paint,Vr.paint,de,vr,null,Vt.setPaintProperty),n.deepEqual(fr.filter,Vr.filter)||de.push({command:Vt.setFilter,args:[vr,Vr.filter]}),(!n.deepEqual(fr.minzoom,Vr.minzoom)||!n.deepEqual(fr.maxzoom,Vr.maxzoom))&&de.push({command:Vt.setLayerZoomRange,args:[vr,Vr.minzoom,Vr.maxzoom]});for(qr in fr)fr.hasOwnProperty(qr)&&(qr==="layout"||qr==="paint"||qr==="filter"||qr==="metadata"||qr==="minzoom"||qr==="maxzoom"||(qr.indexOf("paint.")===0?Fr(fr[qr],Vr[qr],de,vr,qr.slice(6),Vt.setPaintProperty):n.deepEqual(fr[qr],Vr[qr])||de.push({command:Vt.setLayerProperty,args:[vr,qr,Vr[qr]]})));for(qr in Vr)!Vr.hasOwnProperty(qr)||fr.hasOwnProperty(qr)||qr==="layout"||qr==="paint"||qr==="filter"||qr==="metadata"||qr==="minzoom"||qr==="maxzoom"||(qr.indexOf("paint.")===0?Fr(fr[qr],Vr[qr],de,vr,qr.slice(6),Vt.setPaintProperty):n.deepEqual(fr[qr],Vr[qr])||de.push({command:Vt.setLayerProperty,args:[vr,qr,Vr[qr]]}))}}function Un(ve,J){if(!ve)return[{command:Vt.setStyle,args:[J]}];var de=[];try{if(!n.deepEqual(ve.version,J.version))return[{command:Vt.setStyle,args:[J]}];n.deepEqual(ve.center,J.center)||de.push({command:Vt.setCenter,args:[J.center]}),n.deepEqual(ve.zoom,J.zoom)||de.push({command:Vt.setZoom,args:[J.zoom]}),n.deepEqual(ve.bearing,J.bearing)||de.push({command:Vt.setBearing,args:[J.bearing]}),n.deepEqual(ve.pitch,J.pitch)||de.push({command:Vt.setPitch,args:[J.pitch]}),n.deepEqual(ve.sprite,J.sprite)||de.push({command:Vt.setSprite,args:[J.sprite]}),n.deepEqual(ve.glyphs,J.glyphs)||de.push({command:Vt.setGlyphs,args:[J.glyphs]}),n.deepEqual(ve.transition,J.transition)||de.push({command:Vt.setTransition,args:[J.transition]}),n.deepEqual(ve.light,J.light)||de.push({command:Vt.setLight,args:[J.light]});var te={},ge=[];jr(ve.sources,J.sources,ge,te);var ze=[];ve.layers&&ve.layers.forEach(function(Ke){te[Ke.source]?de.push({command:Vt.removeLayer,args:[Ke.id]}):ze.push(Ke)}),de=de.concat(ge),hn(ze,J.layers,de)}catch(Ke){console.warn("Unable to compute style diff:",Ke),de=[{command:Vt.setStyle,args:[J]}]}return de}var Fn=function(J,de){this.reset(J,de)};Fn.prototype.reset=function(J,de){this.points=J||[],this._distances=[0];for(var te=1;te<this.points.length;te++)this._distances[te]=this._distances[te-1]+this.points[te].dist(this.points[te-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(de||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Fn.prototype.lerp=function(J){if(this.points.length===1)return this.points[0];J=n.clamp(J,0,1);for(var de=1,te=this._distances[de],ge=J*this.paddedLength+this.padding;te<ge&&de<this._distances.length;)te=this._distances[++de];var ze=de-1,Ke=this._distances[ze],ct=te-Ke,Pt=ct>0?(ge-Ke)/ct:0;return this.points[ze].mult(1-Pt).add(this.points[de].mult(Pt))};var Pr=function(J,de,te){var ge=this.boxCells=[],ze=this.circleCells=[];this.xCellCount=Math.ceil(J/te),this.yCellCount=Math.ceil(de/te);for(var Ke=0;Ke<this.xCellCount*this.yCellCount;Ke++)ge.push([]),ze.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=J,this.height=de,this.xScale=this.xCellCount/J,this.yScale=this.yCellCount/de,this.boxUid=0,this.circleUid=0};Pr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Pr.prototype.insert=function(J,de,te,ge,ze){this._forEachCell(de,te,ge,ze,this._insertBoxCell,this.boxUid++),this.boxKeys.push(J),this.bboxes.push(de),this.bboxes.push(te),this.bboxes.push(ge),this.bboxes.push(ze)},Pr.prototype.insertCircle=function(J,de,te,ge){this._forEachCell(de-ge,te-ge,de+ge,te+ge,this._insertCircleCell,this.circleUid++),this.circleKeys.push(J),this.circles.push(de),this.circles.push(te),this.circles.push(ge)},Pr.prototype._insertBoxCell=function(J,de,te,ge,ze,Ke){this.boxCells[ze].push(Ke)},Pr.prototype._insertCircleCell=function(J,de,te,ge,ze,Ke){this.circleCells[ze].push(Ke)},Pr.prototype._query=function(J,de,te,ge,ze,Ke){if(te<0||J>this.width||ge<0||de>this.height)return ze?!1:[];var ct=[];if(J<=0&&de<=0&&this.width<=te&&this.height<=ge){if(ze)return!0;for(var Pt=0;Pt<this.boxKeys.length;Pt++)ct.push({key:this.boxKeys[Pt],x1:this.bboxes[Pt*4],y1:this.bboxes[Pt*4+1],x2:this.bboxes[Pt*4+2],y2:this.bboxes[Pt*4+3]});for(var Yt=0;Yt<this.circleKeys.length;Yt++){var qt=this.circles[Yt*3],vr=this.circles[Yt*3+1],fr=this.circles[Yt*3+2];ct.push({key:this.circleKeys[Yt],x1:qt-fr,y1:vr-fr,x2:qt+fr,y2:vr+fr})}return Ke?ct.filter(Ke):ct}else{var Vr={hitTest:ze,seenUids:{box:{},circle:{}}};return this._forEachCell(J,de,te,ge,this._queryCell,ct,Vr,Ke),ze?ct.length>0:ct}},Pr.prototype._queryCircle=function(J,de,te,ge,ze){var Ke=J-te,ct=J+te,Pt=de-te,Yt=de+te;if(ct<0||Ke>this.width||Yt<0||Pt>this.height)return ge?!1:[];var qt=[],vr={hitTest:ge,circle:{x:J,y:de,radius:te},seenUids:{box:{},circle:{}}};return this._forEachCell(Ke,Pt,ct,Yt,this._queryCellCircle,qt,vr,ze),ge?qt.length>0:qt},Pr.prototype.query=function(J,de,te,ge,ze){return this._query(J,de,te,ge,!1,ze)},Pr.prototype.hitTest=function(J,de,te,ge,ze){return this._query(J,de,te,ge,!0,ze)},Pr.prototype.hitTestCircle=function(J,de,te,ge){return this._queryCircle(J,de,te,!0,ge)},Pr.prototype._queryCell=function(J,de,te,ge,ze,Ke,ct,Pt){var Yt=ct.seenUids,qt=this.boxCells[ze];if(qt!==null)for(var vr=this.bboxes,fr=0,Vr=qt;fr<Vr.length;fr+=1){var en=Vr[fr];if(!Yt.box[en]){Yt.box[en]=!0;var qr=en*4;if(J<=vr[qr+2]&&de<=vr[qr+3]&&te>=vr[qr+0]&&ge>=vr[qr+1]&&(!Pt||Pt(this.boxKeys[en]))){if(ct.hitTest)return Ke.push(!0),!0;Ke.push({key:this.boxKeys[en],x1:vr[qr],y1:vr[qr+1],x2:vr[qr+2],y2:vr[qr+3]})}}}var Jr=this.circleCells[ze];if(Jr!==null)for(var an=this.circles,xn=0,Hn=Jr;xn<Hn.length;xn+=1){var Xn=Hn[xn];if(!Yt.circle[Xn]){Yt.circle[Xn]=!0;var ta=Xn*3;if(this._circleAndRectCollide(an[ta],an[ta+1],an[ta+2],J,de,te,ge)&&(!Pt||Pt(this.circleKeys[Xn]))){if(ct.hitTest)return Ke.push(!0),!0;var aa=an[ta],ea=an[ta+1],oa=an[ta+2];Ke.push({key:this.circleKeys[Xn],x1:aa-oa,y1:ea-oa,x2:aa+oa,y2:ea+oa})}}}},Pr.prototype._queryCellCircle=function(J,de,te,ge,ze,Ke,ct,Pt){var Yt=ct.circle,qt=ct.seenUids,vr=this.boxCells[ze];if(vr!==null)for(var fr=this.bboxes,Vr=0,en=vr;Vr<en.length;Vr+=1){var qr=en[Vr];if(!qt.box[qr]){qt.box[qr]=!0;var Jr=qr*4;if(this._circleAndRectCollide(Yt.x,Yt.y,Yt.radius,fr[Jr+0],fr[Jr+1],fr[Jr+2],fr[Jr+3])&&(!Pt||Pt(this.boxKeys[qr])))return Ke.push(!0),!0}}var an=this.circleCells[ze];if(an!==null)for(var xn=this.circles,Hn=0,Xn=an;Hn<Xn.length;Hn+=1){var ta=Xn[Hn];if(!qt.circle[ta]){qt.circle[ta]=!0;var aa=ta*3;if(this._circlesCollide(xn[aa],xn[aa+1],xn[aa+2],Yt.x,Yt.y,Yt.radius)&&(!Pt||Pt(this.circleKeys[ta])))return Ke.push(!0),!0}}},Pr.prototype._forEachCell=function(J,de,te,ge,ze,Ke,ct,Pt){for(var Yt=this._convertToXCellCoord(J),qt=this._convertToYCellCoord(de),vr=this._convertToXCellCoord(te),fr=this._convertToYCellCoord(ge),Vr=Yt;Vr<=vr;Vr++)for(var en=qt;en<=fr;en++){var qr=this.xCellCount*en+Vr;if(ze.call(this,J,de,te,ge,qr,Ke,ct,Pt))return}},Pr.prototype._convertToXCellCoord=function(J){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(J*this.xScale)))},Pr.prototype._convertToYCellCoord=function(J){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(J*this.yScale)))},Pr.prototype._circlesCollide=function(J,de,te,ge,ze,Ke){var ct=ge-J,Pt=ze-de,Yt=te+Ke;return Yt*Yt>ct*ct+Pt*Pt},Pr.prototype._circleAndRectCollide=function(J,de,te,ge,ze,Ke,ct){var Pt=(Ke-ge)/2,Yt=Math.abs(J-(ge+Pt));if(Yt>Pt+te)return!1;var qt=(ct-ze)/2,vr=Math.abs(de-(ze+qt));if(vr>qt+te)return!1;if(Yt<=Pt||vr<=qt)return!0;var fr=Yt-Pt,Vr=vr-qt;return fr*fr+Vr*Vr<=te*te};function Or(ve,J,de,te,ge){var ze=n.create();return J?(n.scale(ze,ze,[1/ge,1/ge,1]),de||n.rotateZ(ze,ze,te.angle)):n.multiply(ze,te.labelPlaneMatrix,ve),ze}function Qr(ve,J,de,te,ge){if(J){var ze=n.clone(ve);return n.scale(ze,ze,[ge,ge,1]),de||n.rotateZ(ze,ze,-te.angle),ze}else return te.glCoordMatrix}function Zr(ve,J){var de=[ve.x,ve.y,0,1];Er(de,de,J);var te=de[3];return{point:new n.Point(de[0]/te,de[1]/te),signedDistanceFromCamera:te}}function vn(ve,J){return .5+.5*(ve/J)}function Mn(ve,J){var de=ve[0]/ve[3],te=ve[1]/ve[3],ge=de>=-J[0]&&de<=J[0]&&te>=-J[1]&&te<=J[1];return ge}function Sn(ve,J,de,te,ge,ze,Ke,ct){var Pt=te?ve.textSizeData:ve.iconSizeData,Yt=n.evaluateSizeForZoom(Pt,de.transform.zoom),qt=[256/de.width*2+1,256/de.height*2+1],vr=te?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;vr.clear();for(var fr=ve.lineVertexArray,Vr=te?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,en=de.transform.width/de.transform.height,qr=!1,Jr=0;Jr<Vr.length;Jr++){var an=Vr.get(Jr);if(an.hidden||an.writingMode===n.WritingMode.vertical&&!qr){ma(an.numGlyphs,vr);continue}qr=!1;var xn=[an.anchorX,an.anchorY,0,1];if(n.transformMat4(xn,xn,J),!Mn(xn,qt)){ma(an.numGlyphs,vr);continue}var Hn=xn[3],Xn=vn(de.transform.cameraToCenterDistance,Hn),ta=n.evaluateSizeForFeature(Pt,Yt,an),aa=Ke?ta/Xn:ta*Xn,ea=new n.Point(an.anchorX,an.anchorY),oa=Zr(ea,ge).point,da={},ba=ya(an,aa,!1,ct,J,ge,ze,ve.glyphOffsetArray,fr,vr,oa,ea,da,en);qr=ba.useVertical,(ba.notEnoughRoom||qr||ba.needsFlipping&&ya(an,aa,!0,ct,J,ge,ze,ve.glyphOffsetArray,fr,vr,oa,ea,da,en).notEnoughRoom)&&ma(an.numGlyphs,vr)}te?ve.text.dynamicLayoutVertexBuffer.updateData(vr):ve.icon.dynamicLayoutVertexBuffer.updateData(vr)}function Vn(ve,J,de,te,ge,ze,Ke,ct,Pt,Yt,qt){var vr=ct.glyphStartIndex+ct.numGlyphs,fr=ct.lineStartIndex,Vr=ct.lineStartIndex+ct.lineLength,en=J.getoffsetX(ct.glyphStartIndex),qr=J.getoffsetX(vr-1),Jr=Da(ve*en,de,te,ge,ze,Ke,ct.segment,fr,Vr,Pt,Yt,qt);if(!Jr)return null;var an=Da(ve*qr,de,te,ge,ze,Ke,ct.segment,fr,Vr,Pt,Yt,qt);return an?{first:Jr,last:an}:null}function jn(ve,J,de,te){if(ve===n.WritingMode.horizontal){var ge=Math.abs(de.y-J.y),ze=Math.abs(de.x-J.x)*te;if(ge>ze)return{useVertical:!0}}return(ve===n.WritingMode.vertical?J.y<de.y:J.x>de.x)?{needsFlipping:!0}:null}function ya(ve,J,de,te,ge,ze,Ke,ct,Pt,Yt,qt,vr,fr,Vr){var en=J/24,qr=ve.lineOffsetX*en,Jr=ve.lineOffsetY*en,an;if(ve.numGlyphs>1){var xn=ve.glyphStartIndex+ve.numGlyphs,Hn=ve.lineStartIndex,Xn=ve.lineStartIndex+ve.lineLength,ta=Vn(en,ct,qr,Jr,de,qt,vr,ve,Pt,ze,fr);if(!ta)return{notEnoughRoom:!0};var aa=Zr(ta.first.point,Ke).point,ea=Zr(ta.last.point,Ke).point;if(te&&!de){var oa=jn(ve.writingMode,aa,ea,Vr);if(oa)return oa}an=[ta.first];for(var da=ve.glyphStartIndex+1;da<xn-1;da++)an.push(Da(en*ct.getoffsetX(da),qr,Jr,de,qt,vr,ve.segment,Hn,Xn,Pt,ze,fr));an.push(ta.last)}else{if(te&&!de){var ba=Zr(vr,ge).point,za=ve.lineStartIndex+ve.segment+1,_a=new n.Point(Pt.getx(za),Pt.gety(za)),ri=Zr(_a,ge),Si=ri.signedDistanceFromCamera>0?ri.point:Pa(vr,_a,ba,1,ge),di=jn(ve.writingMode,ba,Si,Vr);if(di)return di}var Ba=Da(en*ct.getoffsetX(ve.glyphStartIndex),qr,Jr,de,qt,vr,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,Pt,ze,fr);if(!Ba)return{notEnoughRoom:!0};an=[Ba]}for(var gi=0,oi=an;gi<oi.length;gi+=1){var Oi=oi[gi];n.addDynamicAttributes(Yt,Oi.point,Oi.angle)}return{}}function Pa(ve,J,de,te,ge){var ze=Zr(ve.add(ve.sub(J)._unit()),ge).point,Ke=de.sub(ze);return de.add(Ke._mult(te/Ke.mag()))}function Da(ve,J,de,te,ge,ze,Ke,ct,Pt,Yt,qt,vr){var fr=te?ve-J:ve+J,Vr=fr>0?1:-1,en=0;te&&(Vr*=-1,en=Math.PI),Vr<0&&(en+=Math.PI);for(var qr=Vr>0?ct+Ke:ct+Ke+1,Jr=ge,an=ge,xn=0,Hn=0,Xn=Math.abs(fr),ta=[];xn+Hn<=Xn;){if(qr+=Vr,qr<ct||qr>=Pt)return null;if(an=Jr,ta.push(Jr),Jr=vr[qr],Jr===void 0){var aa=new n.Point(Yt.getx(qr),Yt.gety(qr)),ea=Zr(aa,qt);if(ea.signedDistanceFromCamera>0)Jr=vr[qr]=ea.point;else{var oa=qr-Vr,da=xn===0?ze:new n.Point(Yt.getx(oa),Yt.gety(oa));Jr=Pa(da,aa,an,Xn-xn+1,qt)}}xn+=Hn,Hn=an.dist(Jr)}var ba=(Xn-xn)/Hn,za=Jr.sub(an),_a=za.mult(ba)._add(an);_a._add(za._unit()._perp()._mult(de*Vr));var ri=en+Math.atan2(Jr.y-an.y,Jr.x-an.x);return ta.push(_a),{point:_a,angle:ri,path:ta}}var Ma=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ma(ve,J){for(var de=0;de<ve;de++){var te=J.length;J.resize(te+4),J.float32.set(Ma,te*3)}}function Er(ve,J,de){var te=J[0],ge=J[1];return ve[0]=de[0]*te+de[4]*ge+de[12],ve[1]=de[1]*te+de[5]*ge+de[13],ve[3]=de[3]*te+de[7]*ge+de[15],ve}var tn=100,$r=function(J,de,te){de===void 0&&(de=new Pr(J.width+2*tn,J.height+2*tn,25)),te===void 0&&(te=new Pr(J.width+2*tn,J.height+2*tn,25)),this.transform=J,this.grid=de,this.ignoredGrid=te,this.pitchfactor=Math.cos(J._pitch)*J.cameraToCenterDistance,this.screenRightBoundary=J.width+tn,this.screenBottomBoundary=J.height+tn,this.gridRightBoundary=J.width+2*tn,this.gridBottomBoundary=J.height+2*tn};$r.prototype.placeCollisionBox=function(J,de,te,ge,ze){var Ke=this.projectAndGetPerspectiveRatio(ge,J.anchorPointX,J.anchorPointY),ct=te*Ke.perspectiveRatio,Pt=J.x1*ct+Ke.point.x,Yt=J.y1*ct+Ke.point.y,qt=J.x2*ct+Ke.point.x,vr=J.y2*ct+Ke.point.y;return!this.isInsideGrid(Pt,Yt,qt,vr)||!de&&this.grid.hitTest(Pt,Yt,qt,vr,ze)?{box:[],offscreen:!1}:{box:[Pt,Yt,qt,vr],offscreen:this.isOffscreen(Pt,Yt,qt,vr)}},$r.prototype.placeCollisionCircles=function(J,de,te,ge,ze,Ke,ct,Pt,Yt,qt,vr,fr,Vr){var en=[],qr=new n.Point(de.anchorX,de.anchorY),Jr=Zr(qr,Ke),an=vn(this.transform.cameraToCenterDistance,Jr.signedDistanceFromCamera),xn=qt?ze/an:ze*an,Hn=xn/n.ONE_EM,Xn=Zr(qr,ct).point,ta={},aa=de.lineOffsetX*Hn,ea=de.lineOffsetY*Hn,oa=Vn(Hn,ge,aa,ea,!1,Xn,qr,de,te,ct,ta),da=!1,ba=!1,za=!0;if(oa){for(var _a=fr*.5*an+Vr,ri=new n.Point(-tn,-tn),Si=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),di=new Fn,Ba=oa.first,gi=oa.last,oi=[],Oi=Ba.path.length-1;Oi>=1;Oi--)oi.push(Ba.path[Oi]);for(var Ei=1;Ei<gi.path.length;Ei++)oi.push(gi.path[Ei]);var no=_a*2.5;if(Pt){var yi=oi.map(function(Mu){return Zr(Mu,Pt)});yi.some(function(Mu){return Mu.signedDistanceFromCamera<=0})?oi=[]:oi=yi.map(function(Mu){return Mu.point})}var Ki=[];if(oi.length>0){for(var li=oi[0].clone(),Ci=oi[0].clone(),To=1;To<oi.length;To++)li.x=Math.min(li.x,oi[To].x),li.y=Math.min(li.y,oi[To].y),Ci.x=Math.max(Ci.x,oi[To].x),Ci.y=Math.max(Ci.y,oi[To].y);li.x>=ri.x&&Ci.x<=Si.x&&li.y>=ri.y&&Ci.y<=Si.y?Ki=[oi]:Ci.x<ri.x||li.x>Si.x||Ci.y<ri.y||li.y>Si.y?Ki=[]:Ki=n.clipLine([oi],ri.x,ri.y,Si.x,Si.y)}for(var Qo=0,qo=Ki;Qo<qo.length;Qo+=1){var Cs=qo[Qo];di.reset(Cs,_a*.25);var wu=0;di.length<=.5*_a?wu=1:wu=Math.ceil(di.paddedLength/no)+1;for(var Tu=0;Tu<wu;Tu++){var Hc=Tu/Math.max(wu-1,1),lf=di.lerp(Hc),rl=lf.x+tn,uf=lf.y+tn;en.push(rl,uf,_a,0);var yl=rl-_a,nl=uf-_a,Au=rl+_a,Bf=uf+_a;if(za=za&&this.isOffscreen(yl,nl,Au,Bf),ba=ba||this.isInsideGrid(yl,nl,Au,Bf),!J&&this.grid.hitTestCircle(rl,uf,_a,vr)&&(da=!0,!Yt))return{circles:[],offscreen:!1,collisionDetected:da}}}}return{circles:!Yt&&da||!ba?[]:en,offscreen:za,collisionDetected:da}},$r.prototype.queryRenderedSymbols=function(J){if(J.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var de=[],te=1/0,ge=1/0,ze=-1/0,Ke=-1/0,ct=0,Pt=J;ct<Pt.length;ct+=1){var Yt=Pt[ct],qt=new n.Point(Yt.x+tn,Yt.y+tn);te=Math.min(te,qt.x),ge=Math.min(ge,qt.y),ze=Math.max(ze,qt.x),Ke=Math.max(Ke,qt.y),de.push(qt)}for(var vr=this.grid.query(te,ge,ze,Ke).concat(this.ignoredGrid.query(te,ge,ze,Ke)),fr={},Vr={},en=0,qr=vr;en<qr.length;en+=1){var Jr=qr[en],an=Jr.key;if(fr[an.bucketInstanceId]===void 0&&(fr[an.bucketInstanceId]={}),!fr[an.bucketInstanceId][an.featureIndex]){var xn=[new n.Point(Jr.x1,Jr.y1),new n.Point(Jr.x2,Jr.y1),new n.Point(Jr.x2,Jr.y2),new n.Point(Jr.x1,Jr.y2)];n.polygonIntersectsPolygon(de,xn)&&(fr[an.bucketInstanceId][an.featureIndex]=!0,Vr[an.bucketInstanceId]===void 0&&(Vr[an.bucketInstanceId]=[]),Vr[an.bucketInstanceId].push(an.featureIndex))}}return Vr},$r.prototype.insertCollisionBox=function(J,de,te,ge,ze){var Ke=de?this.ignoredGrid:this.grid,ct={bucketInstanceId:te,featureIndex:ge,collisionGroupID:ze};Ke.insert(ct,J[0],J[1],J[2],J[3])},$r.prototype.insertCollisionCircles=function(J,de,te,ge,ze){for(var Ke=de?this.ignoredGrid:this.grid,ct={bucketInstanceId:te,featureIndex:ge,collisionGroupID:ze},Pt=0;Pt<J.length;Pt+=4)Ke.insertCircle(ct,J[Pt],J[Pt+1],J[Pt+2])},$r.prototype.projectAndGetPerspectiveRatio=function(J,de,te){var ge=[de,te,0,1];Er(ge,ge,J);var ze=new n.Point((ge[0]/ge[3]+1)/2*this.transform.width+tn,(-ge[1]/ge[3]+1)/2*this.transform.height+tn);return{point:ze,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ge[3])}},$r.prototype.isOffscreen=function(J,de,te,ge){return te<tn||J>=this.screenRightBoundary||ge<tn||de>this.screenBottomBoundary},$r.prototype.isInsideGrid=function(J,de,te,ge){return te>=0&&J<this.gridRightBoundary&&ge>=0&&de<this.gridBottomBoundary},$r.prototype.getViewportMatrix=function(){var J=n.identity([]);return n.translate(J,J,[-tn,-tn,0]),J};function An(ve,J,de){return J*(n.EXTENT/(ve.tileSize*Math.pow(2,de-ve.tileID.overscaledZ)))}var qn=function(J,de,te,ge){J?this.opacity=Math.max(0,Math.min(1,J.opacity+(J.placed?de:-de))):this.opacity=ge&&te?1:0,this.placed=te};qn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var kn=function(J,de,te,ge,ze){this.text=new qn(J?J.text:null,de,te,ze),this.icon=new qn(J?J.icon:null,de,ge,ze)};kn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var On=function(J,de,te){this.text=J,this.icon=de,this.skipFade=te},$n=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},ca=function(J,de,te,ge,ze){this.bucketInstanceId=J,this.featureIndex=de,this.sourceLayerIndex=te,this.bucketIndex=ge,this.tileID=ze},Ia=function(J){this.crossSourceCollisions=J,this.maxGroupID=0,this.collisionGroups={}};Ia.prototype.get=function(J){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[J]){var de=++this.maxGroupID;this.collisionGroups[J]={ID:de,predicate:function(te){return te.collisionGroupID===de}}}return this.collisionGroups[J]};function ei(ve,J,de,te,ge){var ze=n.getAnchorAlignment(ve),Ke=ze.horizontalAlign,ct=ze.verticalAlign,Pt=-(Ke-.5)*J,Yt=-(ct-.5)*de,qt=n.evaluateVariableOffset(ve,te);return new n.Point(Pt+qt[0]*ge,Yt+qt[1]*ge)}function Sr(ve,J,de,te,ge,ze){var Ke=ve.x1,ct=ve.x2,Pt=ve.y1,Yt=ve.y2,qt=ve.anchorPointX,vr=ve.anchorPointY,fr=new n.Point(J,de);return te&&fr._rotate(ge?ze:-ze),{x1:Ke+fr.x,y1:Pt+fr.y,x2:ct+fr.x,y2:Yt+fr.y,anchorPointX:qt,anchorPointY:vr}}var Hr=function(J,de,te,ge){this.transform=J.clone(),this.collisionIndex=new $r(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=de,this.retainedQueryData={},this.collisionGroups=new Ia(te),this.collisionCircleArrays={},this.prevPlacement=ge,ge&&(ge.prevPlacement=void 0),this.placedOrientations={}};Hr.prototype.getBucketParts=function(J,de,te,ge){var ze=te.getBucket(de),Ke=te.latestFeatureIndex;if(!(!ze||!Ke||de.id!==ze.layerIds[0])){var ct=te.collisionBoxArray,Pt=ze.layers[0].layout,Yt=Math.pow(2,this.transform.zoom-te.tileID.overscaledZ),qt=te.tileSize/n.EXTENT,vr=this.transform.calculatePosMatrix(te.tileID.toUnwrapped()),fr=Pt.get("text-pitch-alignment")==="map",Vr=Pt.get("text-rotation-alignment")==="map",en=An(te,1,this.transform.zoom),qr=Or(vr,fr,Vr,this.transform,en),Jr=null;if(fr){var an=Qr(vr,fr,Vr,this.transform,en);Jr=n.multiply([],this.transform.labelPlaneMatrix,an)}this.retainedQueryData[ze.bucketInstanceId]=new ca(ze.bucketInstanceId,Ke,ze.sourceLayerIndex,ze.index,te.tileID);var xn={bucket:ze,layout:Pt,posMatrix:vr,textLabelPlaneMatrix:qr,labelToScreenMatrix:Jr,scale:Yt,textPixelRatio:qt,holdingForFade:te.holdingForFade(),collisionBoxArray:ct,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(ze.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ze.sourceID)};if(ge)for(var Hn=0,Xn=ze.sortKeyRanges;Hn<Xn.length;Hn+=1){var ta=Xn[Hn],aa=ta.sortKey,ea=ta.symbolInstanceStart,oa=ta.symbolInstanceEnd;J.push({sortKey:aa,symbolInstanceStart:ea,symbolInstanceEnd:oa,parameters:xn})}else J.push({symbolInstanceStart:0,symbolInstanceEnd:ze.symbolInstances.length,parameters:xn})}},Hr.prototype.attemptAnchorPlacement=function(J,de,te,ge,ze,Ke,ct,Pt,Yt,qt,vr,fr,Vr,en,qr){var Jr=[fr.textOffset0,fr.textOffset1],an=ei(J,te,ge,Jr,ze),xn=this.collisionIndex.placeCollisionBox(Sr(de,an.x,an.y,Ke,ct,this.transform.angle),vr,Pt,Yt,qt.predicate);if(qr){var Hn=this.collisionIndex.placeCollisionBox(Sr(qr,an.x,an.y,Ke,ct,this.transform.angle),vr,Pt,Yt,qt.predicate);if(Hn.box.length===0)return}if(xn.box.length>0){var Xn;return this.prevPlacement&&this.prevPlacement.variableOffsets[fr.crossTileID]&&this.prevPlacement.placements[fr.crossTileID]&&this.prevPlacement.placements[fr.crossTileID].text&&(Xn=this.prevPlacement.variableOffsets[fr.crossTileID].anchor),this.variableOffsets[fr.crossTileID]={textOffset:Jr,width:te,height:ge,anchor:J,textBoxScale:ze,prevAnchor:Xn},this.markUsedJustification(Vr,J,fr,en),Vr.allowVerticalPlacement&&(this.markUsedOrientation(Vr,en,fr),this.placedOrientations[fr.crossTileID]=en),{shift:an,placedGlyphBoxes:xn}}},Hr.prototype.placeLayerBucketPart=function(J,de,te){var ge=this,ze=J.parameters,Ke=ze.bucket,ct=ze.layout,Pt=ze.posMatrix,Yt=ze.textLabelPlaneMatrix,qt=ze.labelToScreenMatrix,vr=ze.textPixelRatio,fr=ze.holdingForFade,Vr=ze.collisionBoxArray,en=ze.partiallyEvaluatedTextSize,qr=ze.collisionGroup,Jr=ct.get("text-optional"),an=ct.get("icon-optional"),xn=ct.get("text-allow-overlap"),Hn=ct.get("icon-allow-overlap"),Xn=ct.get("text-rotation-alignment")==="map",ta=ct.get("text-pitch-alignment")==="map",aa=ct.get("icon-text-fit")!=="none",ea=ct.get("symbol-z-order")==="viewport-y",oa=xn&&(Hn||!Ke.hasIconData()||an),da=Hn&&(xn||!Ke.hasTextData()||Jr);!Ke.collisionArrays&&Vr&&Ke.deserializeCollisionBoxes(Vr);var ba=function(Ba,gi){if(!de[Ba.crossTileID]){if(fr){ge.placements[Ba.crossTileID]=new On(!1,!1,!1);return}var oi=!1,Oi=!1,Ei=!0,no=null,yi={box:null,offscreen:null},Ki={box:null,offscreen:null},li=null,Ci=null,To=null,Qo=0,qo=0,Cs=0;gi.textFeatureIndex?Qo=gi.textFeatureIndex:Ba.useRuntimeCollisionCircles&&(Qo=Ba.featureIndex),gi.verticalTextFeatureIndex&&(qo=gi.verticalTextFeatureIndex);var wu=gi.textBox;if(wu){var Tu=function(Bo){var ml=n.WritingMode.horizontal;if(Ke.allowVerticalPlacement&&!Bo&&ge.prevPlacement){var xl=ge.prevPlacement.placedOrientations[Ba.crossTileID];xl&&(ge.placedOrientations[Ba.crossTileID]=xl,ml=xl,ge.markUsedOrientation(Ke,ml,Ba))}return ml},Hc=function(Bo,ml){if(Ke.allowVerticalPlacement&&Ba.numVerticalGlyphVertices>0&&gi.verticalTextBox)for(var xl=0,al=Ke.writingModes;xl<al.length;xl+=1){var $v=al[xl];if($v===n.WritingMode.vertical?(yi=ml(),Ki=yi):yi=Bo(),yi&&yi.box&&yi.box.length)break}else yi=Bo()};if(ct.get("text-variable-anchor")){var yl=ct.get("text-variable-anchor");if(ge.prevPlacement&&ge.prevPlacement.variableOffsets[Ba.crossTileID]){var nl=ge.prevPlacement.variableOffsets[Ba.crossTileID];yl.indexOf(nl.anchor)>0&&(yl=yl.filter(function(Bo){return Bo!==nl.anchor}),yl.unshift(nl.anchor))}var Au=function(Bo,ml,xl){for(var al=Bo.x2-Bo.x1,$v=Bo.y2-Bo.y1,Zp=Ba.textBoxScale,jp=aa&&!Hn?ml:null,mh={box:[],offscreen:!1},Kp=xn?yl.length*2:yl.length,iv=0;iv<Kp;++iv){var Jp=yl[iv%yl.length],$p=iv>=yl.length,Oh=ge.attemptAnchorPlacement(Jp,Bo,al,$v,Zp,Xn,ta,vr,Pt,qr,$p,Ba,Ke,xl,jp);if(Oh&&(mh=Oh.placedGlyphBoxes,mh&&mh.box&&mh.box.length)){oi=!0,no=Oh.shift;break}}return mh},Bf=function(){return Au(wu,gi.iconBox,n.WritingMode.horizontal)},Mu=function(){var Bo=gi.verticalTextBox,ml=yi&&yi.box&&yi.box.length;return Ke.allowVerticalPlacement&&!ml&&Ba.numVerticalGlyphVertices>0&&Bo?Au(Bo,gi.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}};Hc(Bf,Mu),yi&&(oi=yi.box,Ei=yi.offscreen);var rv=Tu(yi&&yi.box);if(!oi&&ge.prevPlacement){var vh=ge.prevPlacement.variableOffsets[Ba.crossTileID];vh&&(ge.variableOffsets[Ba.crossTileID]=vh,ge.markUsedJustification(Ke,vh.anchor,Ba,rv))}}else{var lf=function(Bo,ml){var xl=ge.collisionIndex.placeCollisionBox(Bo,xn,vr,Pt,qr.predicate);return xl&&xl.box&&xl.box.length&&(ge.markUsedOrientation(Ke,ml,Ba),ge.placedOrientations[Ba.crossTileID]=ml),xl},rl=function(){return lf(wu,n.WritingMode.horizontal)},uf=function(){var Bo=gi.verticalTextBox;return Ke.allowVerticalPlacement&&Ba.numVerticalGlyphVertices>0&&Bo?lf(Bo,n.WritingMode.vertical):{box:null,offscreen:null}};Hc(rl,uf),Tu(yi&&yi.box&&yi.box.length)}}if(li=yi,oi=li&&li.box&&li.box.length>0,Ei=li&&li.offscreen,Ba.useRuntimeCollisionCircles){var ls=Ke.text.placedSymbolArray.get(Ba.centerJustifiedTextSymbolIndex),Ih=n.evaluateSizeForFeature(Ke.textSizeData,en,ls),dh=ct.get("text-padding"),Xs=Ba.collisionCircleDiameter;Ci=ge.collisionIndex.placeCollisionCircles(xn,ls,Ke.lineVertexArray,Ke.glyphOffsetArray,Ih,Pt,Yt,qt,te,ta,qr.predicate,Xs,dh),oi=xn||Ci.circles.length>0&&!Ci.collisionDetected,Ei=Ei&&Ci.offscreen}if(gi.iconFeatureIndex&&(Cs=gi.iconFeatureIndex),gi.iconBox){var ph=function(Bo){var ml=aa&&no?Sr(Bo,no.x,no.y,Xn,ta,ge.transform.angle):Bo;return ge.collisionIndex.placeCollisionBox(ml,Hn,vr,Pt,qr.predicate)};Ki&&Ki.box&&Ki.box.length&&gi.verticalIconBox?(To=ph(gi.verticalIconBox),Oi=To.box.length>0):(To=ph(gi.iconBox),Oi=To.box.length>0),Ei=Ei&&To.offscreen}var nv=Jr||Ba.numHorizontalGlyphVertices===0&&Ba.numVerticalGlyphVertices===0,kh=an||Ba.numIconVertices===0;if(!nv&&!kh?Oi=oi=Oi&&oi:kh?nv||(Oi=Oi&&oi):oi=Oi&&oi,oi&&li&&li.box&&(Ki&&Ki.box&&qo?ge.collisionIndex.insertCollisionBox(li.box,ct.get("text-ignore-placement"),Ke.bucketInstanceId,qo,qr.ID):ge.collisionIndex.insertCollisionBox(li.box,ct.get("text-ignore-placement"),Ke.bucketInstanceId,Qo,qr.ID)),Oi&&To&&ge.collisionIndex.insertCollisionBox(To.box,ct.get("icon-ignore-placement"),Ke.bucketInstanceId,Cs,qr.ID),Ci&&(oi&&ge.collisionIndex.insertCollisionCircles(Ci.circles,ct.get("text-ignore-placement"),Ke.bucketInstanceId,Qo,qr.ID),te)){var av=Ke.bucketInstanceId,gh=ge.collisionCircleArrays[av];gh===void 0&&(gh=ge.collisionCircleArrays[av]=new $n);for(var yh=0;yh<Ci.circles.length;yh+=4)gh.circles.push(Ci.circles[yh+0]),gh.circles.push(Ci.circles[yh+1]),gh.circles.push(Ci.circles[yh+2]),gh.circles.push(Ci.collisionDetected?1:0)}ge.placements[Ba.crossTileID]=new On(oi||oa,Oi||da,Ei||Ke.justReloaded),de[Ba.crossTileID]=!0}};if(ea)for(var za=Ke.getSortedSymbolIndexes(this.transform.angle),_a=za.length-1;_a>=0;--_a){var ri=za[_a];ba(Ke.symbolInstances.get(ri),Ke.collisionArrays[ri])}else for(var Si=J.symbolInstanceStart;Si<J.symbolInstanceEnd;Si++)ba(Ke.symbolInstances.get(Si),Ke.collisionArrays[Si]);if(te&&Ke.bucketInstanceId in this.collisionCircleArrays){var di=this.collisionCircleArrays[Ke.bucketInstanceId];n.invert(di.invProjMatrix,Pt),di.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ke.justReloaded=!1},Hr.prototype.markUsedJustification=function(J,de,te,ge){var ze={left:te.leftJustifiedTextSymbolIndex,center:te.centerJustifiedTextSymbolIndex,right:te.rightJustifiedTextSymbolIndex},Ke;ge===n.WritingMode.vertical?Ke=te.verticalPlacedTextSymbolIndex:Ke=ze[n.getAnchorJustification(de)];for(var ct=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex,te.verticalPlacedTextSymbolIndex],Pt=0,Yt=ct;Pt<Yt.length;Pt+=1){var qt=Yt[Pt];qt>=0&&(Ke>=0&&qt!==Ke?J.text.placedSymbolArray.get(qt).crossTileID=0:J.text.placedSymbolArray.get(qt).crossTileID=te.crossTileID)}},Hr.prototype.markUsedOrientation=function(J,de,te){for(var ge=de===n.WritingMode.horizontal||de===n.WritingMode.horizontalOnly?de:0,ze=de===n.WritingMode.vertical?de:0,Ke=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex],ct=0,Pt=Ke;ct<Pt.length;ct+=1){var Yt=Pt[ct];J.text.placedSymbolArray.get(Yt).placedOrientation=ge}te.verticalPlacedTextSymbolIndex&&(J.text.placedSymbolArray.get(te.verticalPlacedTextSymbolIndex).placedOrientation=ze)},Hr.prototype.commit=function(J){this.commitTime=J,this.zoomAtLastRecencyCheck=this.transform.zoom;var de=this.prevPlacement,te=!1;this.prevZoomAdjustment=de?de.zoomAdjustment(this.transform.zoom):0;var ge=de?de.symbolFadeChange(J):1,ze=de?de.opacities:{},Ke=de?de.variableOffsets:{},ct=de?de.placedOrientations:{};for(var Pt in this.placements){var Yt=this.placements[Pt],qt=ze[Pt];qt?(this.opacities[Pt]=new kn(qt,ge,Yt.text,Yt.icon),te=te||Yt.text!==qt.text.placed||Yt.icon!==qt.icon.placed):(this.opacities[Pt]=new kn(null,ge,Yt.text,Yt.icon,Yt.skipFade),te=te||Yt.text||Yt.icon)}for(var vr in ze){var fr=ze[vr];if(!this.opacities[vr]){var Vr=new kn(fr,ge,!1,!1);Vr.isHidden()||(this.opacities[vr]=Vr,te=te||fr.text.placed||fr.icon.placed)}}for(var en in Ke)!this.variableOffsets[en]&&this.opacities[en]&&!this.opacities[en].isHidden()&&(this.variableOffsets[en]=Ke[en]);for(var qr in ct)!this.placedOrientations[qr]&&this.opacities[qr]&&!this.opacities[qr].isHidden()&&(this.placedOrientations[qr]=ct[qr]);te?this.lastPlacementChangeTime=J:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=de?de.lastPlacementChangeTime:J)},Hr.prototype.updateLayerOpacities=function(J,de){for(var te={},ge=0,ze=de;ge<ze.length;ge+=1){var Ke=ze[ge],ct=Ke.getBucket(J);ct&&Ke.latestFeatureIndex&&J.id===ct.layerIds[0]&&this.updateBucketOpacities(ct,te,Ke.collisionBoxArray)}},Hr.prototype.updateBucketOpacities=function(J,de,te){var ge=this;J.hasTextData()&&J.text.opacityVertexArray.clear(),J.hasIconData()&&J.icon.opacityVertexArray.clear(),J.hasIconCollisionBoxData()&&J.iconCollisionBox.collisionVertexArray.clear(),J.hasTextCollisionBoxData()&&J.textCollisionBox.collisionVertexArray.clear();var ze=J.layers[0].layout,Ke=new kn(null,0,!1,!1,!0),ct=ze.get("text-allow-overlap"),Pt=ze.get("icon-allow-overlap"),Yt=ze.get("text-variable-anchor"),qt=ze.get("text-rotation-alignment")==="map",vr=ze.get("text-pitch-alignment")==="map",fr=ze.get("icon-text-fit")!=="none",Vr=new kn(null,0,ct&&(Pt||!J.hasIconData()||ze.get("icon-optional")),Pt&&(ct||!J.hasTextData()||ze.get("text-optional")),!0);!J.collisionArrays&&te&&(J.hasIconCollisionBoxData()||J.hasTextCollisionBoxData())&&J.deserializeCollisionBoxes(te);for(var en=function(xn,Hn,Xn){for(var ta=0;ta<Hn/4;ta++)xn.opacityVertexArray.emplaceBack(Xn)},qr=function(xn){var Hn=J.symbolInstances.get(xn),Xn=Hn.numHorizontalGlyphVertices,ta=Hn.numVerticalGlyphVertices,aa=Hn.crossTileID,ea=de[aa],oa=ge.opacities[aa];ea?oa=Ke:oa||(oa=Vr,ge.opacities[aa]=oa),de[aa]=!0;var da=Xn>0||ta>0,ba=Hn.numIconVertices>0,za=ge.placedOrientations[Hn.crossTileID],_a=za===n.WritingMode.vertical,ri=za===n.WritingMode.horizontal||za===n.WritingMode.horizontalOnly;if(da){var Si=Kr(oa.text),di=_a?on:Si;en(J.text,Xn,di);var Ba=ri?on:Si;en(J.text,ta,Ba);var gi=oa.text.isHidden();[Hn.rightJustifiedTextSymbolIndex,Hn.centerJustifiedTextSymbolIndex,Hn.leftJustifiedTextSymbolIndex].forEach(function(Cs){Cs>=0&&(J.text.placedSymbolArray.get(Cs).hidden=gi||_a?1:0)}),Hn.verticalPlacedTextSymbolIndex>=0&&(J.text.placedSymbolArray.get(Hn.verticalPlacedTextSymbolIndex).hidden=gi||ri?1:0);var oi=ge.variableOffsets[Hn.crossTileID];oi&&ge.markUsedJustification(J,oi.anchor,Hn,za);var Oi=ge.placedOrientations[Hn.crossTileID];Oi&&(ge.markUsedJustification(J,"left",Hn,Oi),ge.markUsedOrientation(J,Oi,Hn))}if(ba){var Ei=Kr(oa.icon),no=!(fr&&Hn.verticalPlacedIconSymbolIndex&&_a);if(Hn.placedIconSymbolIndex>=0){var yi=no?Ei:on;en(J.icon,Hn.numIconVertices,yi),J.icon.placedSymbolArray.get(Hn.placedIconSymbolIndex).hidden=oa.icon.isHidden()}if(Hn.verticalPlacedIconSymbolIndex>=0){var Ki=no?on:Ei;en(J.icon,Hn.numVerticalIconVertices,Ki),J.icon.placedSymbolArray.get(Hn.verticalPlacedIconSymbolIndex).hidden=oa.icon.isHidden()}}if(J.hasIconCollisionBoxData()||J.hasTextCollisionBoxData()){var li=J.collisionArrays[xn];if(li){var Ci=new n.Point(0,0);if(li.textBox||li.verticalTextBox){var To=!0;if(Yt){var Qo=ge.variableOffsets[aa];Qo?(Ci=ei(Qo.anchor,Qo.width,Qo.height,Qo.textOffset,Qo.textBoxScale),qt&&Ci._rotate(vr?ge.transform.angle:-ge.transform.angle)):To=!1}li.textBox&&Lr(J.textCollisionBox.collisionVertexArray,oa.text.placed,!To||_a,Ci.x,Ci.y),li.verticalTextBox&&Lr(J.textCollisionBox.collisionVertexArray,oa.text.placed,!To||ri,Ci.x,Ci.y)}var qo=!!(!ri&&li.verticalIconBox);li.iconBox&&Lr(J.iconCollisionBox.collisionVertexArray,oa.icon.placed,qo,fr?Ci.x:0,fr?Ci.y:0),li.verticalIconBox&&Lr(J.iconCollisionBox.collisionVertexArray,oa.icon.placed,!qo,fr?Ci.x:0,fr?Ci.y:0)}}},Jr=0;Jr<J.symbolInstances.length;Jr++)qr(Jr);if(J.sortFeatures(this.transform.angle),this.retainedQueryData[J.bucketInstanceId]&&(this.retainedQueryData[J.bucketInstanceId].featureSortOrder=J.featureSortOrder),J.hasTextData()&&J.text.opacityVertexBuffer&&J.text.opacityVertexBuffer.updateData(J.text.opacityVertexArray),J.hasIconData()&&J.icon.opacityVertexBuffer&&J.icon.opacityVertexBuffer.updateData(J.icon.opacityVertexArray),J.hasIconCollisionBoxData()&&J.iconCollisionBox.collisionVertexBuffer&&J.iconCollisionBox.collisionVertexBuffer.updateData(J.iconCollisionBox.collisionVertexArray),J.hasTextCollisionBoxData()&&J.textCollisionBox.collisionVertexBuffer&&J.textCollisionBox.collisionVertexBuffer.updateData(J.textCollisionBox.collisionVertexArray),J.bucketInstanceId in this.collisionCircleArrays){var an=this.collisionCircleArrays[J.bucketInstanceId];J.placementInvProjMatrix=an.invProjMatrix,J.placementViewportMatrix=an.viewportMatrix,J.collisionCircleArray=an.circles,delete this.collisionCircleArrays[J.bucketInstanceId]}},Hr.prototype.symbolFadeChange=function(J){return this.fadeDuration===0?1:(J-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Hr.prototype.zoomAdjustment=function(J){return Math.max(0,(this.transform.zoom-J)/1.5)},Hr.prototype.hasTransitions=function(J){return this.stale||J-this.lastPlacementChangeTime<this.fadeDuration},Hr.prototype.stillRecent=function(J,de){var te=this.zoomAtLastRecencyCheck===de?1-this.zoomAdjustment(de):1;return this.zoomAtLastRecencyCheck=de,this.commitTime+this.fadeDuration*te>J},Hr.prototype.setStale=function(){this.stale=!0};function Lr(ve,J,de,te,ge){ve.emplaceBack(J?1:0,de?1:0,te||0,ge||0),ve.emplaceBack(J?1:0,de?1:0,te||0,ge||0),ve.emplaceBack(J?1:0,de?1:0,te||0,ge||0),ve.emplaceBack(J?1:0,de?1:0,te||0,ge||0)}var Gr=Math.pow(2,25),Ln=Math.pow(2,24),zn=Math.pow(2,17),bn=Math.pow(2,16),pn=Math.pow(2,9),Dr=Math.pow(2,8),rn=Math.pow(2,1);function Kr(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var J=ve.placed?1:0,de=Math.floor(ve.opacity*127);return de*Gr+J*Ln+de*zn+J*bn+de*pn+J*Dr+de*rn+J}var on=0,_n=function(J){this._sortAcrossTiles=J.layout.get("symbol-z-order")!=="viewport-y"&&J.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};_n.prototype.continuePlacement=function(J,de,te,ge,ze){for(var Ke=this._bucketParts;this._currentTileIndex<J.length;){var ct=J[this._currentTileIndex];if(de.getBucketParts(Ke,ge,ct,this._sortAcrossTiles),this._currentTileIndex++,ze())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ke.sort(function(Yt,qt){return Yt.sortKey-qt.sortKey}));this._currentPartIndex<Ke.length;){var Pt=Ke[this._currentPartIndex];if(de.placeLayerBucketPart(Pt,this._seenCrossTileIDs,te),this._currentPartIndex++,ze())return!0}return!1};var Wn=function(J,de,te,ge,ze,Ke,ct){this.placement=new Hr(J,ze,Ke,ct),this._currentPlacementIndex=de.length-1,this._forceFullPlacement=te,this._showCollisionBoxes=ge,this._done=!1};Wn.prototype.isDone=function(){return this._done},Wn.prototype.continuePlacement=function(J,de,te){for(var ge=this,ze=n.browser.now(),Ke=function(){var vr=n.browser.now()-ze;return ge._forceFullPlacement?!1:vr>2};this._currentPlacementIndex>=0;){var ct=J[this._currentPlacementIndex],Pt=de[ct],Yt=this.placement.collisionIndex.transform.zoom;if(Pt.type==="symbol"&&(!Pt.minzoom||Pt.minzoom<=Yt)&&(!Pt.maxzoom||Pt.maxzoom>Yt)){this._inProgressLayer||(this._inProgressLayer=new _n(Pt));var qt=this._inProgressLayer.continuePlacement(te[Pt.source],this.placement,this._showCollisionBoxes,Pt,Ke);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Wn.prototype.commit=function(J){return this.placement.commit(J),this.placement};var In=512/n.EXTENT/2,Qn=function(J,de,te){this.tileID=J,this.indexedSymbolInstances={},this.bucketInstanceId=te;for(var ge=0;ge<de.length;ge++){var ze=de.get(ge),Ke=ze.key;this.indexedSymbolInstances[Ke]||(this.indexedSymbolInstances[Ke]=[]),this.indexedSymbolInstances[Ke].push({crossTileID:ze.crossTileID,coord:this.getScaledCoordinates(ze,J)})}};Qn.prototype.getScaledCoordinates=function(J,de){var te=de.canonical.z-this.tileID.canonical.z,ge=In/Math.pow(2,te);return{x:Math.floor((de.canonical.x*n.EXTENT+J.anchorX)*ge),y:Math.floor((de.canonical.y*n.EXTENT+J.anchorY)*ge)}},Qn.prototype.findMatches=function(J,de,te){for(var ge=this.tileID.canonical.z<de.canonical.z?1:Math.pow(2,this.tileID.canonical.z-de.canonical.z),ze=0;ze<J.length;ze++){var Ke=J.get(ze);if(!Ke.crossTileID){var ct=this.indexedSymbolInstances[Ke.key];if(ct)for(var Pt=this.getScaledCoordinates(Ke,de),Yt=0,qt=ct;Yt<qt.length;Yt+=1){var vr=qt[Yt];if(Math.abs(vr.coord.x-Pt.x)<=ge&&Math.abs(vr.coord.y-Pt.y)<=ge&&!te[vr.crossTileID]){te[vr.crossTileID]=!0,Ke.crossTileID=vr.crossTileID;break}}}}};var Kn=function(){this.maxCrossTileID=0};Kn.prototype.generate=function(){return++this.maxCrossTileID};var Aa=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Aa.prototype.handleWrapJump=function(J){var de=Math.round((J-this.lng)/360);if(de!==0)for(var te in this.indexes){var ge=this.indexes[te],ze={};for(var Ke in ge){var ct=ge[Ke];ct.tileID=ct.tileID.unwrapTo(ct.tileID.wrap+de),ze[ct.tileID.key]=ct}this.indexes[te]=ze}this.lng=J},Aa.prototype.addBucket=function(J,de,te){if(this.indexes[J.overscaledZ]&&this.indexes[J.overscaledZ][J.key]){if(this.indexes[J.overscaledZ][J.key].bucketInstanceId===de.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(J.overscaledZ,this.indexes[J.overscaledZ][J.key])}for(var ge=0;ge<de.symbolInstances.length;ge++){var ze=de.symbolInstances.get(ge);ze.crossTileID=0}this.usedCrossTileIDs[J.overscaledZ]||(this.usedCrossTileIDs[J.overscaledZ]={});var Ke=this.usedCrossTileIDs[J.overscaledZ];for(var ct in this.indexes){var Pt=this.indexes[ct];if(Number(ct)>J.overscaledZ)for(var Yt in Pt){var qt=Pt[Yt];qt.tileID.isChildOf(J)&&qt.findMatches(de.symbolInstances,J,Ke)}else{var vr=J.scaledTo(Number(ct)),fr=Pt[vr.key];fr&&fr.findMatches(de.symbolInstances,J,Ke)}}for(var Vr=0;Vr<de.symbolInstances.length;Vr++){var en=de.symbolInstances.get(Vr);en.crossTileID||(en.crossTileID=te.generate(),Ke[en.crossTileID]=!0)}return this.indexes[J.overscaledZ]===void 0&&(this.indexes[J.overscaledZ]={}),this.indexes[J.overscaledZ][J.key]=new Qn(J,de.symbolInstances,de.bucketInstanceId),!0},Aa.prototype.removeBucketCrossTileIDs=function(J,de){for(var te in de.indexedSymbolInstances)for(var ge=0,ze=de.indexedSymbolInstances[te];ge<ze.length;ge+=1){var Ke=ze[ge];delete this.usedCrossTileIDs[J][Ke.crossTileID]}},Aa.prototype.removeStaleBuckets=function(J){var de=!1;for(var te in this.indexes){var ge=this.indexes[te];for(var ze in ge)J[ge[ze].bucketInstanceId]||(this.removeBucketCrossTileIDs(te,ge[ze]),delete ge[ze],de=!0)}return de};var xa=function(){this.layerIndexes={},this.crossTileIDs=new Kn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};xa.prototype.addLayer=function(J,de,te){var ge=this.layerIndexes[J.id];ge===void 0&&(ge=this.layerIndexes[J.id]=new Aa);var ze=!1,Ke={};ge.handleWrapJump(te);for(var ct=0,Pt=de;ct<Pt.length;ct+=1){var Yt=Pt[ct],qt=Yt.getBucket(J);!qt||J.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),ge.addBucket(Yt.tileID,qt,this.crossTileIDs)&&(ze=!0),Ke[qt.bucketInstanceId]=!0)}return ge.removeStaleBuckets(Ke)&&(ze=!0),ze},xa.prototype.pruneUnusedLayers=function(J){var de={};J.forEach(function(ge){de[ge]=!0});for(var te in this.layerIndexes)de[te]||delete this.layerIndexes[te]};var La=function(ve,J){return n.emitValidationErrors(ve,J&&J.filter(function(de){return de.identifier!=="source.canvas"}))},Ra=n.pick(Vt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Pi=n.pick(Vt,["setCenter","setZoom","setBearing","setPitch"]),Li=or(),Ps=function(ve){function J(de,te){var ge=this;te===void 0&&(te={}),ve.call(this),this.map=de,this.dispatcher=new D(Ut(),this),this.imageManager=new M,this.imageManager.setEventedParent(this),this.glyphManager=new S(de._requestManager,te.localIdeographFontFamily),this.lineAtlas=new I(256,512),this.crossTileSymbolIndex=new xa,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var ze=this;this._rtlTextPluginCallback=J.registerForPluginStateChange(function(Ke){var ct={pluginStatus:Ke.pluginStatus,pluginURL:Ke.pluginURL};ze.dispatcher.broadcast("syncRTLPluginState",ct,function(Pt,Yt){if(n.triggerPluginCompletionEvent(Pt),Yt){var qt=Yt.every(function(fr){return fr});if(qt)for(var vr in ze.sourceCaches)ze.sourceCaches[vr].reload()}})}),this.on("data",function(Ke){if(!(Ke.dataType!=="source"||Ke.sourceDataType!=="metadata")){var ct=ge.sourceCaches[Ke.sourceId];if(ct){var Pt=ct.getSource();if(!(!Pt||!Pt.vectorLayerIds))for(var Yt in ge._layers){var qt=ge._layers[Yt];qt.source===Pt.id&&ge._validateLayer(qt)}}}})}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.loadURL=function(te,ge){var ze=this;ge===void 0&&(ge={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var Ke=typeof ge.validate=="boolean"?ge.validate:!n.isMapboxURL(te);te=this.map._requestManager.normalizeStyleURL(te,ge.accessToken);var ct=this.map._requestManager.transformRequest(te,n.ResourceType.Style);this._request=n.getJSON(ct,function(Pt,Yt){ze._request=null,Pt?ze.fire(new n.ErrorEvent(Pt)):Yt&&ze._load(Yt,Ke)})},J.prototype.loadJSON=function(te,ge){var ze=this;ge===void 0&&(ge={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){ze._request=null,ze._load(te,ge.validate!==!1)})},J.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(Li,!1)},J.prototype._load=function(te,ge){if(!(ge&&La(this,n.validateStyle(te)))){this._loaded=!0,this.stylesheet=te;for(var ze in te.sources)this.addSource(ze,te.sources[ze],{validate:!1});te.sprite?this._loadSprite(te.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(te.glyphs);var Ke=hr(this.stylesheet.layers);this._order=Ke.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ct=0,Pt=Ke;ct<Pt.length;ct+=1){var Yt=Pt[ct];Yt=n.createStyleLayer(Yt),Yt.setEventedParent(this,{layer:{id:Yt.id}}),this._layers[Yt.id]=Yt,this._serializedLayers[Yt.id]=Yt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},J.prototype._loadSprite=function(te){var ge=this;this._spriteRequest=l(te,this.map._requestManager,function(ze,Ke){if(ge._spriteRequest=null,ze)ge.fire(new n.ErrorEvent(ze));else if(Ke)for(var ct in Ke)ge.imageManager.addImage(ct,Ke[ct]);ge.imageManager.setLoaded(!0),ge._availableImages=ge.imageManager.listImages(),ge.dispatcher.broadcast("setImages",ge._availableImages),ge.fire(new n.Event("data",{dataType:"style"}))})},J.prototype._validateLayer=function(te){var ge=this.sourceCaches[te.source];if(ge){var ze=te.sourceLayer;if(ze){var Ke=ge.getSource();(Ke.type==="geojson"||Ke.vectorLayerIds&&Ke.vectorLayerIds.indexOf(ze)===-1)&&this.fire(new n.ErrorEvent(new Error('Source layer "'+ze+'" does not exist on source "'+Ke.id+'" as specified by style layer "'+te.id+'"')))}}},J.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var te in this.sourceCaches)if(!this.sourceCaches[te].loaded())return!1;return!!this.imageManager.isLoaded()},J.prototype._serializeLayers=function(te){for(var ge=[],ze=0,Ke=te;ze<Ke.length;ze+=1){var ct=Ke[ze],Pt=this._layers[ct];Pt.type!=="custom"&&ge.push(Pt.serialize())}return ge},J.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var te in this.sourceCaches)if(this.sourceCaches[te].hasTransition())return!0;for(var ge in this._layers)if(this._layers[ge].hasTransition())return!0;return!1},J.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},J.prototype.update=function(te){if(this._loaded){var ge=this._changed;if(this._changed){var ze=Object.keys(this._updatedLayers),Ke=Object.keys(this._removedLayers);(ze.length||Ke.length)&&this._updateWorkerLayers(ze,Ke);for(var ct in this._updatedSources){var Pt=this._updatedSources[ct];Pt==="reload"?this._reloadSource(ct):Pt==="clear"&&this._clearSource(ct)}this._updateTilesForChangedImages();for(var Yt in this._updatedPaintProps)this._layers[Yt].updateTransitions(te);this.light.updateTransitions(te),this._resetUpdates()}var qt={};for(var vr in this.sourceCaches){var fr=this.sourceCaches[vr];qt[vr]=fr.used,fr.used=!1}for(var Vr=0,en=this._order;Vr<en.length;Vr+=1){var qr=en[Vr],Jr=this._layers[qr];Jr.recalculate(te,this._availableImages),!Jr.isHidden(te.zoom)&&Jr.source&&(this.sourceCaches[Jr.source].used=!0)}for(var an in qt){var xn=this.sourceCaches[an];qt[an]!==xn.used&&xn.fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:an}))}this.light.recalculate(te),this.z=te.zoom,ge&&this.fire(new n.Event("data",{dataType:"style"}))}},J.prototype._updateTilesForChangedImages=function(){var te=Object.keys(this._changedImages);if(te.length){for(var ge in this.sourceCaches)this.sourceCaches[ge].reloadTilesForDependencies(["icons","patterns"],te);this._changedImages={}}},J.prototype._updateWorkerLayers=function(te,ge){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(te),removedIds:ge})},J.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},J.prototype.setState=function(te){var ge=this;if(this._checkLoaded(),La(this,n.validateStyle(te)))return!1;te=n.clone$1(te),te.layers=hr(te.layers);var ze=Un(this.serialize(),te).filter(function(ct){return!(ct.command in Pi)});if(ze.length===0)return!1;var Ke=ze.filter(function(ct){return!(ct.command in Ra)});if(Ke.length>0)throw new Error("Unimplemented: "+Ke.map(function(ct){return ct.command}).join(", ")+".");return ze.forEach(function(ct){ct.command!=="setTransition"&&ge[ct.command].apply(ge,ct.args)}),this.stylesheet=te,!0},J.prototype.addImage=function(te,ge){if(this.getImage(te))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(te,ge),this._afterImageUpdated(te)},J.prototype.updateImage=function(te,ge){this.imageManager.updateImage(te,ge)},J.prototype.getImage=function(te){return this.imageManager.getImage(te)},J.prototype.removeImage=function(te){if(!this.getImage(te))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(te),this._afterImageUpdated(te)},J.prototype._afterImageUpdated=function(te){this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))},J.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},J.prototype.addSource=function(te,ge,ze){var Ke=this;if(ze===void 0&&(ze={}),this._checkLoaded(),this.sourceCaches[te]!==void 0)throw new Error("There is already a source with this ID");if(!ge.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ge).join(", ")+".");var ct=["vector","raster","geojson","video","image"],Pt=ct.indexOf(ge.type)>=0;if(!(Pt&&this._validate(n.validateStyle.source,"sources."+te,ge,null,ze))){this.map&&this.map._collectResourceTiming&&(ge.collectResourceTiming=!0);var Yt=this.sourceCaches[te]=new Wt(te,ge,this.dispatcher);Yt.style=this,Yt.setEventedParent(this,function(){return{isSourceLoaded:Ke.loaded(),source:Yt.serialize(),sourceId:te}}),Yt.onAdd(this.map),this._changed=!0}},J.prototype.removeSource=function(te){if(this._checkLoaded(),this.sourceCaches[te]===void 0)throw new Error("There is no source with this ID");for(var ge in this._layers)if(this._layers[ge].source===te)return this.fire(new n.ErrorEvent(new Error('Source "'+te+'" cannot be removed while layer "'+ge+'" is using it.')));var ze=this.sourceCaches[te];delete this.sourceCaches[te],delete this._updatedSources[te],ze.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:te})),ze.setEventedParent(null),ze.clearTiles(),ze.onRemove&&ze.onRemove(this.map),this._changed=!0},J.prototype.setGeoJSONSourceData=function(te,ge){this._checkLoaded();var ze=this.sourceCaches[te].getSource();ze.setData(ge),this._changed=!0},J.prototype.getSource=function(te){return this.sourceCaches[te]&&this.sourceCaches[te].getSource()},J.prototype.addLayer=function(te,ge,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ke=te.id;if(this.getLayer(Ke)){this.fire(new n.ErrorEvent(new Error('Layer with id "'+Ke+'" already exists on this map')));return}var ct;if(te.type==="custom"){if(La(this,n.validateCustomStyleLayer(te)))return;ct=n.createStyleLayer(te)}else{if(typeof te.source=="object"&&(this.addSource(Ke,te.source),te=n.clone$1(te),te=n.extend(te,{source:Ke})),this._validate(n.validateStyle.layer,"layers."+Ke,te,{arrayIndex:-1},ze))return;ct=n.createStyleLayer(te),this._validateLayer(ct),ct.setEventedParent(this,{layer:{id:Ke}}),this._serializedLayers[ct.id]=ct.serialize()}var Pt=ge?this._order.indexOf(ge):this._order.length;if(ge&&Pt===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+ge+'" does not exist on this map.')));return}if(this._order.splice(Pt,0,Ke),this._layerOrderChanged=!0,this._layers[Ke]=ct,this._removedLayers[Ke]&&ct.source&&ct.type!=="custom"){var Yt=this._removedLayers[Ke];delete this._removedLayers[Ke],Yt.type!==ct.type?this._updatedSources[ct.source]="clear":(this._updatedSources[ct.source]="reload",this.sourceCaches[ct.source].pause())}this._updateLayer(ct),ct.onAdd&&ct.onAdd(this.map)},J.prototype.moveLayer=function(te,ge){this._checkLoaded(),this._changed=!0;var ze=this._layers[te];if(!ze){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be moved.")));return}if(te!==ge){var Ke=this._order.indexOf(te);this._order.splice(Ke,1);var ct=ge?this._order.indexOf(ge):this._order.length;if(ge&&ct===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+ge+'" does not exist on this map.')));return}this._order.splice(ct,0,te),this._layerOrderChanged=!0}},J.prototype.removeLayer=function(te){this._checkLoaded();var ge=this._layers[te];if(!ge){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be removed.")));return}ge.setEventedParent(null);var ze=this._order.indexOf(te);this._order.splice(ze,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[te]=ge,delete this._layers[te],delete this._serializedLayers[te],delete this._updatedLayers[te],delete this._updatedPaintProps[te],ge.onRemove&&ge.onRemove(this.map)},J.prototype.getLayer=function(te){return this._layers[te]},J.prototype.hasLayer=function(te){return te in this._layers},J.prototype.setLayerZoomRange=function(te,ge,ze){this._checkLoaded();var Ke=this.getLayer(te);if(!Ke){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot have zoom extent.")));return}Ke.minzoom===ge&&Ke.maxzoom===ze||(ge!=null&&(Ke.minzoom=ge),ze!=null&&(Ke.maxzoom=ze),this._updateLayer(Ke))},J.prototype.setFilter=function(te,ge,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ke=this.getLayer(te);if(!Ke){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be filtered.")));return}if(!n.deepEqual(Ke.filter,ge)){if(ge==null){Ke.filter=void 0,this._updateLayer(Ke);return}this._validate(n.validateStyle.filter,"layers."+Ke.id+".filter",ge,null,ze)||(Ke.filter=n.clone$1(ge),this._updateLayer(Ke))}},J.prototype.getFilter=function(te){return n.clone$1(this.getLayer(te).filter)},J.prototype.setLayoutProperty=function(te,ge,ze,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var ct=this.getLayer(te);if(!ct){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}n.deepEqual(ct.getLayoutProperty(ge),ze)||(ct.setLayoutProperty(ge,ze,Ke),this._updateLayer(ct))},J.prototype.getLayoutProperty=function(te,ge){var ze=this.getLayer(te);if(!ze){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style.")));return}return ze.getLayoutProperty(ge)},J.prototype.setPaintProperty=function(te,ge,ze,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var ct=this.getLayer(te);if(!ct){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}if(!n.deepEqual(ct.getPaintProperty(ge),ze)){var Pt=ct.setPaintProperty(ge,ze,Ke);Pt&&this._updateLayer(ct),this._changed=!0,this._updatedPaintProps[te]=!0}},J.prototype.getPaintProperty=function(te,ge){return this.getLayer(te).getPaintProperty(ge)},J.prototype.setFeatureState=function(te,ge){this._checkLoaded();var ze=te.source,Ke=te.sourceLayer,ct=this.sourceCaches[ze];if(ct===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var Pt=ct.getSource().type;if(Pt==="geojson"&&Ke){this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Pt==="vector"&&!Ke){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}te.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),ct.setFeatureState(Ke,te.id,ge)},J.prototype.removeFeatureState=function(te,ge){this._checkLoaded();var ze=te.source,Ke=this.sourceCaches[ze];if(Ke===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var ct=Ke.getSource().type,Pt=ct==="vector"?te.sourceLayer:void 0;if(ct==="vector"&&!Pt){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ge&&typeof te.id!="string"&&typeof te.id!="number"){this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Ke.removeFeatureState(Pt,te.id,ge)},J.prototype.getFeatureState=function(te){this._checkLoaded();var ge=te.source,ze=te.sourceLayer,Ke=this.sourceCaches[ge];if(Ke===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+ge+"' does not exist in the map's style.")));return}var ct=Ke.getSource().type;if(ct==="vector"&&!ze){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return te.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),Ke.getFeatureState(ze,te.id)},J.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},J.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(te){return te.serialize()}),layers:this._serializeLayers(this._order)},function(te){return te!==void 0})},J.prototype._updateLayer=function(te){this._updatedLayers[te.id]=!0,te.source&&!this._updatedSources[te.source]&&this.sourceCaches[te.source].getSource().type!=="raster"&&(this._updatedSources[te.source]="reload",this.sourceCaches[te.source].pause()),this._changed=!0},J.prototype._flattenAndSortRenderedFeatures=function(te){for(var ge=this,ze=function(ri){return ge._layers[ri].type==="fill-extrusion"},Ke={},ct=[],Pt=this._order.length-1;Pt>=0;Pt--){var Yt=this._order[Pt];if(ze(Yt)){Ke[Yt]=Pt;for(var qt=0,vr=te;qt<vr.length;qt+=1){var fr=vr[qt],Vr=fr[Yt];if(Vr)for(var en=0,qr=Vr;en<qr.length;en+=1){var Jr=qr[en];ct.push(Jr)}}}}ct.sort(function(ri,Si){return Si.intersectionZ-ri.intersectionZ});for(var an=[],xn=this._order.length-1;xn>=0;xn--){var Hn=this._order[xn];if(ze(Hn))for(var Xn=ct.length-1;Xn>=0;Xn--){var ta=ct[Xn].feature;if(Ke[ta.layer.id]<xn)break;an.push(ta),ct.pop()}else for(var aa=0,ea=te;aa<ea.length;aa+=1){var oa=ea[aa],da=oa[Hn];if(da)for(var ba=0,za=da;ba<za.length;ba+=1){var _a=za[ba];an.push(_a.feature)}}}return an},J.prototype.queryRenderedFeatures=function(te,ge,ze){ge&&ge.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",ge.filter,null,ge);var Ke={};if(ge&&ge.layers){if(!Array.isArray(ge.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ct=0,Pt=ge.layers;ct<Pt.length;ct+=1){var Yt=Pt[ct],qt=this._layers[Yt];if(!qt)return this.fire(new n.ErrorEvent(new Error("The layer '"+Yt+"' does not exist in the map's style and cannot be queried for features."))),[];Ke[qt.source]=!0}}var vr=[];ge.availableImages=this._availableImages;for(var fr in this.sourceCaches)ge.layers&&!Ke[fr]||vr.push($(this.sourceCaches[fr],this._layers,this._serializedLayers,te,ge,ze));return this.placement&&vr.push(j(this._layers,this._serializedLayers,this.sourceCaches,te,ge,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(vr)},J.prototype.querySourceFeatures=function(te,ge){ge&&ge.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",ge.filter,null,ge);var ze=this.sourceCaches[te];return ze?ue(ze,ge):[]},J.prototype.addSourceType=function(te,ge,ze){if(J.getSourceType(te))return ze(new Error('A source type called "'+te+'" already exists.'));if(J.setSourceType(te,ge),!ge.workerSourceURL)return ze(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:te,url:ge.workerSourceURL},ze)},J.prototype.getLight=function(){return this.light.getLight()},J.prototype.setLight=function(te,ge){ge===void 0&&(ge={}),this._checkLoaded();var ze=this.light.getLight(),Ke=!1;for(var ct in te)if(!n.deepEqual(te[ct],ze[ct])){Ke=!0;break}if(Ke){var Pt={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(te,ge),this.light.updateTransitions(Pt)}},J.prototype._validate=function(te,ge,ze,Ke,ct){return ct===void 0&&(ct={}),ct&&ct.validate===!1?!1:La(this,te.call(n.validateStyle,n.extend({key:ge,style:this.serialize(),value:ze,styleSpec:n.styleSpec},Ke)))},J.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var te in this._layers){var ge=this._layers[te];ge.setEventedParent(null)}for(var ze in this.sourceCaches)this.sourceCaches[ze].clearTiles(),this.sourceCaches[ze].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},J.prototype._clearSource=function(te){this.sourceCaches[te].clearTiles()},J.prototype._reloadSource=function(te){this.sourceCaches[te].resume(),this.sourceCaches[te].reload()},J.prototype._updateSources=function(te){for(var ge in this.sourceCaches)this.sourceCaches[ge].update(te)},J.prototype._generateCollisionBoxes=function(){for(var te in this.sourceCaches)this._reloadSource(te)},J.prototype._updatePlacement=function(te,ge,ze,Ke,ct){ct===void 0&&(ct=!1);for(var Pt=!1,Yt=!1,qt={},vr=0,fr=this._order;vr<fr.length;vr+=1){var Vr=fr[vr],en=this._layers[Vr];if(en.type==="symbol"){if(!qt[en.source]){var qr=this.sourceCaches[en.source];qt[en.source]=qr.getRenderableIds(!0).map(function(aa){return qr.getTileByID(aa)}).sort(function(aa,ea){return ea.tileID.overscaledZ-aa.tileID.overscaledZ||(aa.tileID.isLessThan(ea.tileID)?-1:1)})}var Jr=this.crossTileSymbolIndex.addLayer(en,qt[en.source],te.center.lng);Pt=Pt||Jr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ct=ct||this._layerOrderChanged||ze===0,(ct||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),te.zoom))&&(this.pauseablePlacement=new Wn(te,this._order,ct,ge,ze,Ke,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),Yt=!0),Pt&&this.pauseablePlacement.placement.setStale()),Yt||Pt)for(var an=0,xn=this._order;an<xn.length;an+=1){var Hn=xn[an],Xn=this._layers[Hn];Xn.type==="symbol"&&this.placement.updateLayerOpacities(Xn,qt[Xn.source])}var ta=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now());return ta},J.prototype._releaseSymbolFadeTiles=function(){for(var te in this.sourceCaches)this.sourceCaches[te].releaseSymbolFadeTiles()},J.prototype.getImages=function(te,ge,ze){this.imageManager.getImages(ge.icons,ze),this._updateTilesForChangedImages();var Ke=this.sourceCaches[ge.source];Ke&&Ke.setDependencies(ge.tileID.key,ge.type,ge.icons)},J.prototype.getGlyphs=function(te,ge,ze){this.glyphManager.getGlyphs(ge.stacks,ze)},J.prototype.getResource=function(te,ge,ze){return n.makeRequest(ge,ze)},J}(n.Evented);Ps.getSourceType=re,Ps.setSourceType=X,Ps.registerForPluginStateChange=n.registerForPluginStateChange;var is=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),Jo=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,ku=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,Sc=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ec="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Ti=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ll="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Cc=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Oo=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,os="void main() {gl_FragColor=vec4(1.0);}",Hl="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Ou=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mo=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,zu=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,xo="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Lo="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Fu="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Uo="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",$i="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",fs="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Nu="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",cs=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,th=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,ul=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vo=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Lc=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gl=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,fl=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wl=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,rh=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,_h=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Bu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Yl=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$f="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",_c=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ph="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",Rh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ou=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Vs=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Uu=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mf=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,xf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ah=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Sl=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vu="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",En=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ra=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Jn=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ya=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,si=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ri=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,lo=Ui(Jo,ku),ji=Ui(Sc,Ec),cl=Ui(Ti,ll),hl=Ui(Cc,Oo),xs=Ui(os,Hl),El=Ui(Ou,mo),Js=Ui(zu,xo),eo=Ui(Lo,Fu),Hu=Ui(Uo,$i),Qf=Ui(fs,Nu),Yi=Ui(cs,th),Gu=Ui(ul,Vo),su=Ui(Lc,Gl),$o=Ui(fl,Wl),qf=Ui(rh,_h),Wu=Ui(Bu,nh),ec=Ui(Yl,$f),tc=Ui(_c,Ph),Cl=Ui(Rh,ou),Yu=Ui(Vs,Xl),rc=Ui(Uu,mf),Xu=Ui(xf,ah),lu=Ui(Sl,Vu),bf=Ui(En,ra),Zl=Ui(Jn,Ya),wf=Ui(si,Ri);function Ui(ve,J){var de=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te=J.match(/attribute ([\w]+) ([\w]+)/g),ge=ve.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ze=J.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Ke=ze?ze.concat(ge):ge,ct={};return ve=ve.replace(de,function(Pt,Yt,qt,vr,fr){return ct[fr]=!0,Yt==="define"?`
#ifndef HAS_UNIFORM_u_`+fr+`
varying `+qt+" "+vr+" "+fr+`;
#else
uniform `+qt+" "+vr+" u_"+fr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+fr+`
    `+qt+" "+vr+" "+fr+" = u_"+fr+`;
#endif
`}),J=J.replace(de,function(Pt,Yt,qt,vr,fr){var Vr=vr==="float"?"vec2":"vec4",en=fr.match(/color/)?"color":Vr;return ct[fr]?Yt==="define"?`
#ifndef HAS_UNIFORM_u_`+fr+`
uniform lowp float u_`+fr+`_t;
attribute `+qt+" "+Vr+" a_"+fr+`;
varying `+qt+" "+vr+" "+fr+`;
#else
uniform `+qt+" "+vr+" u_"+fr+`;
#endif
`:en==="vec4"?`
#ifndef HAS_UNIFORM_u_`+fr+`
    `+fr+" = a_"+fr+`;
#else
    `+qt+" "+vr+" "+fr+" = u_"+fr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+fr+`
    `+fr+" = unpack_mix_"+en+"(a_"+fr+", u_"+fr+`_t);
#else
    `+qt+" "+vr+" "+fr+" = u_"+fr+`;
#endif
`:Yt==="define"?`
#ifndef HAS_UNIFORM_u_`+fr+`
uniform lowp float u_`+fr+`_t;
attribute `+qt+" "+Vr+" a_"+fr+`;
#else
uniform `+qt+" "+vr+" u_"+fr+`;
#endif
`:en==="vec4"?`
#ifndef HAS_UNIFORM_u_`+fr+`
    `+qt+" "+vr+" "+fr+" = a_"+fr+`;
#else
    `+qt+" "+vr+" "+fr+" = u_"+fr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+fr+`
    `+qt+" "+vr+" "+fr+" = unpack_mix_"+en+"(a_"+fr+", u_"+fr+`_t);
#else
    `+qt+" "+vr+" "+fr+" = u_"+fr+`;
#endif
`}),{fragmentSource:ve,vertexSource:J,staticAttributes:te,staticUniforms:Ke}}var jl=Object.freeze({__proto__:null,prelude:lo,background:ji,backgroundPattern:cl,circle:hl,clippingMask:xs,heatmap:El,heatmapTexture:Js,collisionBox:eo,collisionCircle:Hu,debug:Qf,fill:Yi,fillOutline:Gu,fillOutlinePattern:su,fillPattern:$o,fillExtrusion:qf,fillExtrusionPattern:Wu,hillshadePrepare:ec,hillshade:tc,line:Cl,lineGradient:Yu,linePattern:rc,lineSDF:Xu,raster:lu,symbolIcon:bf,symbolSDF:Zl,symbolTextAndIcon:wf}),bs=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};bs.prototype.bind=function(J,de,te,ge,ze,Ke,ct,Pt){this.context=J;for(var Yt=this.boundPaintVertexBuffers.length!==ge.length,qt=0;!Yt&&qt<ge.length;qt++)this.boundPaintVertexBuffers[qt]!==ge[qt]&&(Yt=!0);var vr=!this.vao||this.boundProgram!==de||this.boundLayoutVertexBuffer!==te||Yt||this.boundIndexBuffer!==ze||this.boundVertexOffset!==Ke||this.boundDynamicVertexBuffer!==ct||this.boundDynamicVertexBuffer2!==Pt;!J.extVertexArrayObject||vr?this.freshBind(de,te,ge,ze,Ke,ct,Pt):(J.bindVertexArrayOES.set(this.vao),ct&&ct.bind(),ze&&ze.dynamicDraw&&ze.bind(),Pt&&Pt.bind())},bs.prototype.freshBind=function(J,de,te,ge,ze,Ke,ct){var Pt,Yt=J.numAttributes,qt=this.context,vr=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),Pt=0,this.boundProgram=J,this.boundLayoutVertexBuffer=de,this.boundPaintVertexBuffers=te,this.boundIndexBuffer=ge,this.boundVertexOffset=ze,this.boundDynamicVertexBuffer=Ke,this.boundDynamicVertexBuffer2=ct;else{Pt=qt.currentNumAttributes||0;for(var fr=Yt;fr<Pt;fr++)vr.disableVertexAttribArray(fr)}de.enableAttributes(vr,J);for(var Vr=0,en=te;Vr<en.length;Vr+=1){var qr=en[Vr];qr.enableAttributes(vr,J)}Ke&&Ke.enableAttributes(vr,J),ct&&ct.enableAttributes(vr,J),de.bind(),de.setVertexAttribPointers(vr,J,ze);for(var Jr=0,an=te;Jr<an.length;Jr+=1){var xn=an[Jr];xn.bind(),xn.setVertexAttribPointers(vr,J,ze)}Ke&&(Ke.bind(),Ke.setVertexAttribPointers(vr,J,ze)),ge&&ge.bind(),ct&&(ct.bind(),ct.setVertexAttribPointers(vr,J,ze)),qt.currentNumAttributes=Yt},bs.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function ih(ve){for(var J=[],de=0;de<ve.length;de++)if(ve[de]!==null){var te=ve[de].split(" ");J.push(te.pop())}return J}var Pc=function(J,de,te,ge,ze,Ke){var ct=J.gl;this.program=ct.createProgram();for(var Pt=ih(te.staticAttributes),Yt=ge?ge.getBinderAttributes():[],qt=Pt.concat(Yt),vr=te.staticUniforms?ih(te.staticUniforms):[],fr=ge?ge.getBinderUniforms():[],Vr=vr.concat(fr),en=[],qr=0,Jr=Vr;qr<Jr.length;qr+=1){var an=Jr[qr];en.indexOf(an)<0&&en.push(an)}var xn=ge?ge.defines():[];Ke&&xn.push("#define OVERDRAW_INSPECTOR;");var Hn=xn.concat(lo.fragmentSource,te.fragmentSource).join(`
`),Xn=xn.concat(lo.vertexSource,te.vertexSource).join(`
`),ta=ct.createShader(ct.FRAGMENT_SHADER);if(ct.isContextLost()){this.failedToCreate=!0;return}ct.shaderSource(ta,Hn),ct.compileShader(ta),ct.attachShader(this.program,ta);var aa=ct.createShader(ct.VERTEX_SHADER);if(ct.isContextLost()){this.failedToCreate=!0;return}ct.shaderSource(aa,Xn),ct.compileShader(aa),ct.attachShader(this.program,aa),this.attributes={};var ea={};this.numAttributes=qt.length;for(var oa=0;oa<this.numAttributes;oa++)qt[oa]&&(ct.bindAttribLocation(this.program,oa,qt[oa]),this.attributes[qt[oa]]=oa);ct.linkProgram(this.program),ct.deleteShader(aa),ct.deleteShader(ta);for(var da=0;da<en.length;da++){var ba=en[da];if(ba&&!ea[ba]){var za=ct.getUniformLocation(this.program,ba);za&&(ea[ba]=za)}}this.fixedUniforms=ze(J,ea),this.binderUniforms=ge?ge.getUniforms(J,ea):[]};Pc.prototype.draw=function(J,de,te,ge,ze,Ke,ct,Pt,Yt,qt,vr,fr,Vr,en,qr,Jr){var an,xn=J.gl;if(!this.failedToCreate){J.program.set(this.program),J.setDepthMode(te),J.setStencilMode(ge),J.setColorMode(ze),J.setCullFace(Ke);for(var Hn in this.fixedUniforms)this.fixedUniforms[Hn].set(ct[Hn]);en&&en.setUniforms(J,this.binderUniforms,fr,{zoom:Vr});for(var Xn=(an={},an[xn.LINES]=2,an[xn.TRIANGLES]=3,an[xn.LINE_STRIP]=1,an)[de],ta=0,aa=vr.get();ta<aa.length;ta+=1){var ea=aa[ta],oa=ea.vaos||(ea.vaos={}),da=oa[Pt]||(oa[Pt]=new bs);da.bind(J,this,Yt,en?en.getPaintVertexBuffers():[],qt,ea.vertexOffset,qr,Jr),xn.drawElements(de,ea.primitiveLength*Xn,xn.UNSIGNED_SHORT,ea.primitiveOffset*Xn*2)}}};function uu(ve,J,de){var te=1/An(de,1,J.transform.tileZoom),ge=Math.pow(2,de.tileID.overscaledZ),ze=de.tileSize*Math.pow(2,J.transform.tileZoom)/ge,Ke=ze*(de.tileID.canonical.x+de.tileID.wrap*ge),ct=ze*de.tileID.canonical.y;return{u_image:0,u_texsize:de.imageAtlasTexture.size,u_scale:[te,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[Ke>>16,ct>>16],u_pixel_coord_lower:[Ke&65535,ct&65535]}}function $s(ve,J,de,te){var ge=de.imageManager.getPattern(ve.from.toString()),ze=de.imageManager.getPattern(ve.to.toString()),Ke=de.imageManager.getPixelSize(),ct=Ke.width,Pt=Ke.height,Yt=Math.pow(2,te.tileID.overscaledZ),qt=te.tileSize*Math.pow(2,de.transform.tileZoom)/Yt,vr=qt*(te.tileID.canonical.x+te.tileID.wrap*Yt),fr=qt*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ge.tl,u_pattern_br_a:ge.br,u_pattern_tl_b:ze.tl,u_pattern_br_b:ze.br,u_texsize:[ct,Pt],u_mix:J.t,u_pattern_size_a:ge.displaySize,u_pattern_size_b:ze.displaySize,u_scale_a:J.fromScale,u_scale_b:J.toScale,u_tile_units_to_pixels:1/An(te,1,de.transform.tileZoom),u_pixel_coord_upper:[vr>>16,fr>>16],u_pixel_coord_lower:[vr&65535,fr&65535]}}var fu=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_lightpos:new n.Uniform3f(ve,J.u_lightpos),u_lightintensity:new n.Uniform1f(ve,J.u_lightintensity),u_lightcolor:new n.Uniform3f(ve,J.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ve,J.u_vertical_gradient),u_opacity:new n.Uniform1f(ve,J.u_opacity)}},go=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_lightpos:new n.Uniform3f(ve,J.u_lightpos),u_lightintensity:new n.Uniform1f(ve,J.u_lightintensity),u_lightcolor:new n.Uniform3f(ve,J.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ve,J.u_vertical_gradient),u_height_factor:new n.Uniform1f(ve,J.u_height_factor),u_image:new n.Uniform1i(ve,J.u_image),u_texsize:new n.Uniform2f(ve,J.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,J.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,J.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,J.u_scale),u_fade:new n.Uniform1f(ve,J.u_fade),u_opacity:new n.Uniform1f(ve,J.u_opacity)}},Tf=function(ve,J,de,te){var ge=J.style.light,ze=ge.properties.get("position"),Ke=[ze.x,ze.y,ze.z],ct=n.create$1();ge.properties.get("anchor")==="viewport"&&n.fromRotation(ct,-J.transform.angle),n.transformMat3(Ke,Ke,ct);var Pt=ge.properties.get("color");return{u_matrix:ve,u_lightpos:Ke,u_lightintensity:ge.properties.get("intensity"),u_lightcolor:[Pt.r,Pt.g,Pt.b],u_vertical_gradient:+de,u_opacity:te}},Hs=function(ve,J,de,te,ge,ze,Ke){return n.extend(Tf(ve,J,de,te),uu(ze,J,Ke),{u_height_factor:-Math.pow(2,ge.overscaledZ)/Ke.tileSize/8})},Ll=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix)}},cu=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_image:new n.Uniform1i(ve,J.u_image),u_texsize:new n.Uniform2f(ve,J.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,J.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,J.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,J.u_scale),u_fade:new n.Uniform1f(ve,J.u_fade)}},io=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_world:new n.Uniform2f(ve,J.u_world)}},oo=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_world:new n.Uniform2f(ve,J.u_world),u_image:new n.Uniform1i(ve,J.u_image),u_texsize:new n.Uniform2f(ve,J.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,J.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,J.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,J.u_scale),u_fade:new n.Uniform1f(ve,J.u_fade)}},_l=function(ve){return{u_matrix:ve}},Qs=function(ve,J,de,te){return n.extend(_l(ve),uu(de,J,te))},Rs=function(ve,J){return{u_matrix:ve,u_world:J}},Af=function(ve,J,de,te,ge){return n.extend(Qs(ve,J,de,te),{u_world:ge})},Rc=function(ve,J){return{u_camera_to_center_distance:new n.Uniform1f(ve,J.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(ve,J.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(ve,J.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(ve,J.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(ve,J.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(ve,J.u_matrix)}},Mf=function(ve,J,de,te){var ge=ve.transform,ze,Ke;if(te.paint.get("circle-pitch-alignment")==="map"){var ct=An(de,1,ge.zoom);ze=!0,Ke=[ct,ct]}else ze=!1,Ke=ge.pixelsToGLUnits;return{u_camera_to_center_distance:ge.cameraToCenterDistance,u_scale_with_map:+(te.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix(J.posMatrix,de,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+ze,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:Ke}},Dc=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_camera_to_center_distance:new n.Uniform1f(ve,J.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(ve,J.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(ve,J.u_extrude_scale),u_overscale_factor:new n.Uniform1f(ve,J.u_overscale_factor)}},Zu=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_inv_matrix:new n.UniformMatrix4f(ve,J.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(ve,J.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(ve,J.u_viewport_size)}},hu=function(ve,J,de){var te=An(de,1,J.zoom),ge=Math.pow(2,J.zoom-de.tileID.overscaledZ),ze=de.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:J.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[J.pixelsToGLUnits[0]/(te*ge),J.pixelsToGLUnits[1]/(te*ge)],u_overscale_factor:ze}},ju=function(ve,J,de){return{u_matrix:ve,u_inv_matrix:J,u_camera_to_center_distance:de.cameraToCenterDistance,u_viewport_size:[de.width,de.height]}},Pl=function(ve,J){return{u_color:new n.UniformColor(ve,J.u_color),u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_overlay:new n.Uniform1i(ve,J.u_overlay),u_overlay_scale:new n.Uniform1f(ve,J.u_overlay_scale)}},bo=function(ve,J,de){return de===void 0&&(de=1),{u_matrix:ve,u_color:J,u_overlay:0,u_overlay_scale:de}},Ds=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix)}},Ku=function(ve){return{u_matrix:ve}},oh=function(ve,J){return{u_extrude_scale:new n.Uniform1f(ve,J.u_extrude_scale),u_intensity:new n.Uniform1f(ve,J.u_intensity),u_matrix:new n.UniformMatrix4f(ve,J.u_matrix)}},Sf=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_world:new n.Uniform2f(ve,J.u_world),u_image:new n.Uniform1i(ve,J.u_image),u_color_ramp:new n.Uniform1i(ve,J.u_color_ramp),u_opacity:new n.Uniform1f(ve,J.u_opacity)}},Rl=function(ve,J,de,te){return{u_matrix:ve,u_extrude_scale:An(J,1,de),u_intensity:te}},nc=function(ve,J,de,te){var ge=n.create();n.ortho(ge,0,ve.width,ve.height,0,0,1);var ze=ve.context.gl;return{u_matrix:ge,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:de,u_color_ramp:te,u_opacity:J.paint.get("heatmap-opacity")}},Ju=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_image:new n.Uniform1i(ve,J.u_image),u_latrange:new n.Uniform2f(ve,J.u_latrange),u_light:new n.Uniform2f(ve,J.u_light),u_shadow:new n.UniformColor(ve,J.u_shadow),u_highlight:new n.UniformColor(ve,J.u_highlight),u_accent:new n.UniformColor(ve,J.u_accent)}},Ic=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_image:new n.Uniform1i(ve,J.u_image),u_dimension:new n.Uniform2f(ve,J.u_dimension),u_zoom:new n.Uniform1f(ve,J.u_zoom),u_unpack:new n.Uniform4f(ve,J.u_unpack)}},Cr=function(ve,J,de){var te=de.paint.get("hillshade-shadow-color"),ge=de.paint.get("hillshade-highlight-color"),ze=de.paint.get("hillshade-accent-color"),Ke=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ke-=ve.transform.angle);var ct=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(J.tileID.toUnwrapped(),ct),u_image:0,u_latrange:Ho(ve,J.tileID),u_light:[de.paint.get("hillshade-exaggeration"),Ke],u_shadow:te,u_highlight:ge,u_accent:ze}},vu=function(ve,J){var de=J.stride,te=n.create();return n.ortho(te,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(te,te,[0,-n.EXTENT,0]),{u_matrix:te,u_image:1,u_dimension:[de,de],u_zoom:ve.overscaledZ,u_unpack:J.getUnpackVector()}};function Ho(ve,J){var de=Math.pow(2,J.canonical.z),te=J.canonical.y;return[new n.MercatorCoordinate(0,te/de).toLngLat().lat,new n.MercatorCoordinate(0,(te+1)/de).toLngLat().lat]}var So=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_ratio:new n.Uniform1f(ve,J.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,J.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,J.u_units_to_pixels)}},pi=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_ratio:new n.Uniform1f(ve,J.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,J.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,J.u_units_to_pixels),u_image:new n.Uniform1i(ve,J.u_image),u_image_height:new n.Uniform1f(ve,J.u_image_height)}},$u=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_texsize:new n.Uniform2f(ve,J.u_texsize),u_ratio:new n.Uniform1f(ve,J.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,J.u_device_pixel_ratio),u_image:new n.Uniform1i(ve,J.u_image),u_units_to_pixels:new n.Uniform2f(ve,J.u_units_to_pixels),u_scale:new n.Uniform3f(ve,J.u_scale),u_fade:new n.Uniform1f(ve,J.u_fade)}},ac=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_ratio:new n.Uniform1f(ve,J.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,J.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,J.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(ve,J.u_patternscale_a),u_patternscale_b:new n.Uniform2f(ve,J.u_patternscale_b),u_sdfgamma:new n.Uniform1f(ve,J.u_sdfgamma),u_image:new n.Uniform1i(ve,J.u_image),u_tex_y_a:new n.Uniform1f(ve,J.u_tex_y_a),u_tex_y_b:new n.Uniform1f(ve,J.u_tex_y_b),u_mix:new n.Uniform1f(ve,J.u_mix)}},du=function(ve,J,de){var te=ve.transform;return{u_matrix:Kl(ve,J,de),u_ratio:1/An(J,1,te.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},Is=function(ve,J,de,te){return n.extend(du(ve,J,de),{u_image:0,u_image_height:te})},sh=function(ve,J,de,te){var ge=ve.transform,ze=Qu(J,ge);return{u_matrix:Kl(ve,J,de),u_texsize:J.imageAtlasTexture.size,u_ratio:1/An(J,1,ge.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[ze,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/ge.pixelsToGLUnits[0],1/ge.pixelsToGLUnits[1]]}},Dl=function(ve,J,de,te,ge){var ze=ve.transform,Ke=ve.lineAtlas,ct=Qu(J,ze),Pt=de.layout.get("line-cap")==="round",Yt=Ke.getDash(te.from,Pt),qt=Ke.getDash(te.to,Pt),vr=Yt.width*ge.fromScale,fr=qt.width*ge.toScale;return n.extend(du(ve,J,de),{u_patternscale_a:[ct/vr,-Yt.height/2],u_patternscale_b:[ct/fr,-qt.height/2],u_sdfgamma:Ke.width/(Math.min(vr,fr)*256*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Yt.y,u_tex_y_b:qt.y,u_mix:ge.t})};function Qu(ve,J){return 1/An(ve,1,J.tileZoom)}function Kl(ve,J,de){return ve.translatePosMatrix(J.tileID.posMatrix,J,de.paint.get("line-translate"),de.paint.get("line-translate-anchor"))}var Il=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_tl_parent:new n.Uniform2f(ve,J.u_tl_parent),u_scale_parent:new n.Uniform1f(ve,J.u_scale_parent),u_buffer_scale:new n.Uniform1f(ve,J.u_buffer_scale),u_fade_t:new n.Uniform1f(ve,J.u_fade_t),u_opacity:new n.Uniform1f(ve,J.u_opacity),u_image0:new n.Uniform1i(ve,J.u_image0),u_image1:new n.Uniform1i(ve,J.u_image1),u_brightness_low:new n.Uniform1f(ve,J.u_brightness_low),u_brightness_high:new n.Uniform1f(ve,J.u_brightness_high),u_saturation_factor:new n.Uniform1f(ve,J.u_saturation_factor),u_contrast_factor:new n.Uniform1f(ve,J.u_contrast_factor),u_spin_weights:new n.Uniform3f(ve,J.u_spin_weights)}},ks=function(ve,J,de,te,ge){return{u_matrix:ve,u_tl_parent:J,u_scale_parent:de,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*ge.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ge.paint.get("raster-brightness-min"),u_brightness_high:ge.paint.get("raster-brightness-max"),u_saturation_factor:ef(ge.paint.get("raster-saturation")),u_contrast_factor:Xi(ge.paint.get("raster-contrast")),u_spin_weights:qu(ge.paint.get("raster-hue-rotate"))}};function qu(ve){ve*=Math.PI/180;var J=Math.sin(ve),de=Math.cos(ve);return[(2*de+1)/3,(-Math.sqrt(3)*J-de+1)/3,(Math.sqrt(3)*J-de+1)/3]}function Xi(ve){return ve>0?1/(1-ve):1+ve}function ef(ve){return ve>0?1-1/(1.001-ve):-ve}var ic=function(ve,J){return{u_is_size_zoom_constant:new n.Uniform1i(ve,J.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,J.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,J.u_size_t),u_size:new n.Uniform1f(ve,J.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,J.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,J.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,J.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,J.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,J.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,J.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,J.u_coord_matrix),u_is_text:new n.Uniform1i(ve,J.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,J.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,J.u_texsize),u_texture:new n.Uniform1i(ve,J.u_texture)}},lh=function(ve,J){return{u_is_size_zoom_constant:new n.Uniform1i(ve,J.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,J.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,J.u_size_t),u_size:new n.Uniform1f(ve,J.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,J.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,J.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,J.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,J.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,J.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,J.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,J.u_coord_matrix),u_is_text:new n.Uniform1i(ve,J.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,J.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,J.u_texsize),u_texture:new n.Uniform1i(ve,J.u_texture),u_gamma_scale:new n.Uniform1f(ve,J.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ve,J.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ve,J.u_is_halo)}},ws=function(ve,J){return{u_is_size_zoom_constant:new n.Uniform1i(ve,J.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,J.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,J.u_size_t),u_size:new n.Uniform1f(ve,J.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,J.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,J.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,J.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,J.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,J.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,J.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,J.u_coord_matrix),u_is_text:new n.Uniform1i(ve,J.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,J.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,J.u_texsize),u_texsize_icon:new n.Uniform2f(ve,J.u_texsize_icon),u_texture:new n.Uniform1i(ve,J.u_texture),u_texture_icon:new n.Uniform1i(ve,J.u_texture_icon),u_gamma_scale:new n.Uniform1f(ve,J.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ve,J.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ve,J.u_is_halo)}},Ef=function(ve,J,de,te,ge,ze,Ke,ct,Pt,Yt){var qt=ge.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:J?J.uSizeT:0,u_size:J?J.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+de,u_aspect_ratio:qt.width/qt.height,u_fade_change:ge.options.fadeDuration?ge.symbolFadeChange:1,u_matrix:ze,u_label_plane_matrix:Ke,u_coord_matrix:ct,u_is_text:+Pt,u_pitch_with_map:+te,u_texsize:Yt,u_texture:0}},oc=function(ve,J,de,te,ge,ze,Ke,ct,Pt,Yt,qt){var vr=ge.transform;return n.extend(Ef(ve,J,de,te,ge,ze,Ke,ct,Pt,Yt),{u_gamma_scale:te?Math.cos(vr._pitch)*vr.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+qt})},kc=function(ve,J,de,te,ge,ze,Ke,ct,Pt,Yt){return n.extend(oc(ve,J,de,te,ge,ze,Ke,ct,!0,Pt,!0),{u_texsize_icon:Yt,u_texture_icon:1})},Cf=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_opacity:new n.Uniform1f(ve,J.u_opacity),u_color:new n.UniformColor(ve,J.u_color)}},Lf=function(ve,J){return{u_matrix:new n.UniformMatrix4f(ve,J.u_matrix),u_opacity:new n.Uniform1f(ve,J.u_opacity),u_image:new n.Uniform1i(ve,J.u_image),u_pattern_tl_a:new n.Uniform2f(ve,J.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(ve,J.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(ve,J.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(ve,J.u_pattern_br_b),u_texsize:new n.Uniform2f(ve,J.u_texsize),u_mix:new n.Uniform1f(ve,J.u_mix),u_pattern_size_a:new n.Uniform2f(ve,J.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(ve,J.u_pattern_size_b),u_scale_a:new n.Uniform1f(ve,J.u_scale_a),u_scale_b:new n.Uniform1f(ve,J.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(ve,J.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,J.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(ve,J.u_tile_units_to_pixels)}},Ts=function(ve,J,de){return{u_matrix:ve,u_opacity:J,u_color:de}},_f=function(ve,J,de,te,ge,ze){return n.extend($s(te,ze,de,ge),{u_matrix:ve,u_opacity:J})},Jl={fillExtrusion:fu,fillExtrusionPattern:go,fill:Ll,fillPattern:cu,fillOutline:io,fillOutlinePattern:oo,circle:Rc,collisionBox:Dc,collisionCircle:Zu,debug:Pl,clippingMask:Ds,heatmap:oh,heatmapTexture:Sf,hillshade:Ju,hillshadePrepare:Ic,line:So,lineGradient:pi,linePattern:$u,lineSDF:ac,raster:Il,symbolIcon:ic,symbolSDF:lh,symbolTextAndIcon:ws,background:Cf,backgroundPattern:Lf},Qi;function vl(ve,J,de,te,ge,ze,Ke){for(var ct=ve.context,Pt=ct.gl,Yt=ve.useProgram("collisionBox"),qt=[],vr=0,fr=0,Vr=0;Vr<te.length;Vr++){var en=te[Vr],qr=J.getTile(en),Jr=qr.getBucket(de);if(Jr){var an=en.posMatrix;(ge[0]!==0||ge[1]!==0)&&(an=ve.translatePosMatrix(en.posMatrix,qr,ge,ze));var xn=Ke?Jr.textCollisionBox:Jr.iconCollisionBox,Hn=Jr.collisionCircleArray;if(Hn.length>0){var Xn=n.create(),ta=an;n.mul(Xn,Jr.placementInvProjMatrix,ve.transform.glCoordMatrix),n.mul(Xn,Xn,Jr.placementViewportMatrix),qt.push({circleArray:Hn,circleOffset:fr,transform:ta,invTransform:Xn}),vr+=Hn.length/4,fr=vr}xn&&Yt.draw(ct,Pt.LINES,_r.disabled,tr.disabled,ve.colorModeForRenderPass(),Ot.disabled,hu(an,ve.transform,qr),de.id,xn.layoutVertexBuffer,xn.indexBuffer,xn.segments,null,ve.transform.zoom,null,null,xn.collisionVertexBuffer)}}if(!(!Ke||!qt.length)){var aa=ve.useProgram("collisionCircle"),ea=new n.StructArrayLayout2f1f2i16;ea.resize(vr*4),ea._trim();for(var oa=0,da=0,ba=qt;da<ba.length;da+=1)for(var za=ba[da],_a=0;_a<za.circleArray.length/4;_a++){var ri=_a*4,Si=za.circleArray[ri+0],di=za.circleArray[ri+1],Ba=za.circleArray[ri+2],gi=za.circleArray[ri+3];ea.emplace(oa++,Si,di,Ba,gi,0),ea.emplace(oa++,Si,di,Ba,gi,1),ea.emplace(oa++,Si,di,Ba,gi,2),ea.emplace(oa++,Si,di,Ba,gi,3)}(!Qi||Qi.length<vr*2)&&(Qi=Oc(vr));for(var oi=ct.createIndexBuffer(Qi,!0),Oi=ct.createVertexBuffer(ea,n.collisionCircleLayout.members,!0),Ei=0,no=qt;Ei<no.length;Ei+=1){var yi=no[Ei],Ki=ju(yi.transform,yi.invTransform,ve.transform);aa.draw(ct,Pt.TRIANGLES,_r.disabled,tr.disabled,ve.colorModeForRenderPass(),Ot.disabled,Ki,de.id,Oi,oi,n.SegmentVector.simpleSegment(0,yi.circleOffset*2,yi.circleArray.length,yi.circleArray.length/2),null,ve.transform.zoom,null,null,null)}Oi.destroy(),oi.destroy()}}function Oc(ve){var J=ve*2,de=new n.StructArrayLayout3ui6;de.resize(J),de._trim();for(var te=0;te<J;te++){var ge=te*6;de.uint16[ge+0]=te*4+0,de.uint16[ge+1]=te*4+1,de.uint16[ge+2]=te*4+2,de.uint16[ge+3]=te*4+2,de.uint16[ge+4]=te*4+3,de.uint16[ge+5]=te*4+0}return de}var pu=n.identity(new Float32Array(16));function sc(ve,J,de,te,ge){if(ve.renderPass==="translucent"){var ze=tr.disabled,Ke=ve.colorModeForRenderPass(),ct=de.layout.get("text-variable-anchor");ct&&uh(te,ve,de,J,de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),ge),de.paint.get("icon-opacity").constantOr(1)!==0&&Rf(ve,J,de,te,!1,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),de.layout.get("icon-rotation-alignment"),de.layout.get("icon-pitch-alignment"),de.layout.get("icon-keep-upright"),ze,Ke),de.paint.get("text-opacity").constantOr(1)!==0&&Rf(ve,J,de,te,!0,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),de.layout.get("text-keep-upright"),ze,Ke),J.map.showCollisionBoxes&&(vl(ve,J,de,te,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),!0),vl(ve,J,de,te,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),!1))}}function Pf(ve,J,de,te,ge,ze){var Ke=n.getAnchorAlignment(ve),ct=Ke.horizontalAlign,Pt=Ke.verticalAlign,Yt=-(ct-.5)*J,qt=-(Pt-.5)*de,vr=n.evaluateVariableOffset(ve,te);return new n.Point((Yt/ge+vr[0])*ze,(qt/ge+vr[1])*ze)}function uh(ve,J,de,te,ge,ze,Ke){for(var ct=J.transform,Pt=ge==="map",Yt=ze==="map",qt=0,vr=ve;qt<vr.length;qt+=1){var fr=vr[qt],Vr=te.getTile(fr),en=Vr.getBucket(de);if(!(!en||!en.text||!en.text.segments.get().length)){var qr=en.textSizeData,Jr=n.evaluateSizeForZoom(qr,ct.zoom),an=An(Vr,1,J.transform.zoom),xn=Or(fr.posMatrix,Yt,Pt,J.transform,an),Hn=de.layout.get("icon-text-fit")!=="none"&&en.hasIconData();if(Jr){var Xn=Math.pow(2,ct.zoom-Vr.tileID.overscaledZ);zc(en,Pt,Yt,Ke,n.symbolSize,ct,xn,fr.posMatrix,Xn,Jr,Hn)}}}}function zc(ve,J,de,te,ge,ze,Ke,ct,Pt,Yt,qt){var vr=ve.text.placedSymbolArray,fr=ve.text.dynamicLayoutVertexArray,Vr=ve.icon.dynamicLayoutVertexArray,en={};fr.clear();for(var qr=0;qr<vr.length;qr++){var Jr=vr.get(qr),an=ve.allowVerticalPlacement&&!Jr.placedOrientation,xn=!Jr.hidden&&Jr.crossTileID&&!an?te[Jr.crossTileID]:null;if(!xn)ma(Jr.numGlyphs,fr);else{var Hn=new n.Point(Jr.anchorX,Jr.anchorY),Xn=Zr(Hn,de?ct:Ke),ta=vn(ze.cameraToCenterDistance,Xn.signedDistanceFromCamera),aa=ge.evaluateSizeForFeature(ve.textSizeData,Yt,Jr)*ta/n.ONE_EM;de&&(aa*=ve.tilePixelRatio/Pt);for(var ea=xn.width,oa=xn.height,da=xn.anchor,ba=xn.textOffset,za=xn.textBoxScale,_a=Pf(da,ea,oa,ba,za,aa),ri=de?Zr(Hn.add(_a),Ke).point:Xn.point.add(J?_a.rotate(-ze.angle):_a),Si=ve.allowVerticalPlacement&&Jr.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,di=0;di<Jr.numGlyphs;di++)n.addDynamicAttributes(fr,ri,Si);qt&&Jr.associatedIconIndex>=0&&(en[Jr.associatedIconIndex]={shiftedAnchor:ri,angle:Si})}}if(qt){Vr.clear();for(var Ba=ve.icon.placedSymbolArray,gi=0;gi<Ba.length;gi++){var oi=Ba.get(gi);if(oi.hidden)ma(oi.numGlyphs,Vr);else{var Oi=en[gi];if(!Oi)ma(oi.numGlyphs,Vr);else for(var Ei=0;Ei<oi.numGlyphs;Ei++)n.addDynamicAttributes(Vr,Oi.shiftedAnchor,Oi.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(Vr)}ve.text.dynamicLayoutVertexBuffer.updateData(fr)}function ss(ve,J,de){return de.iconsInText&&J?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Rf(ve,J,de,te,ge,ze,Ke,ct,Pt,Yt,qt,vr){for(var fr=ve.context,Vr=fr.gl,en=ve.transform,qr=ct==="map",Jr=Pt==="map",an=qr&&de.layout.get("symbol-placement")!=="point",xn=qr&&!Jr&&!an,Hn=de.layout.get("symbol-sort-key").constantOr(1)!==void 0,Xn=!1,ta=ve.depthModeForSublayer(0,_r.ReadOnly),aa=de.layout.get("text-variable-anchor"),ea=[],oa=0,da=te;oa<da.length;oa+=1){var ba=da[oa],za=J.getTile(ba),_a=za.getBucket(de);if(_a){var ri=ge?_a.text:_a.icon;if(!(!ri||!ri.segments.get().length)){var Si=ri.programConfigurations.get(de.id),di=ge||_a.sdfIcons,Ba=ge?_a.textSizeData:_a.iconSizeData,gi=Jr||en.pitch!==0,oi=ve.useProgram(ss(di,ge,_a),Si),Oi=n.evaluateSizeForZoom(Ba,en.zoom),Ei=void 0,no=[0,0],yi=void 0,Ki=void 0,li=null,Ci=void 0;if(ge){if(yi=za.glyphAtlasTexture,Ki=Vr.LINEAR,Ei=za.glyphAtlasTexture.size,_a.iconsInText){no=za.imageAtlasTexture.size,li=za.imageAtlasTexture;var To=Ba.kind==="composite"||Ba.kind==="camera";Ci=gi||ve.options.rotating||ve.options.zooming||To?Vr.LINEAR:Vr.NEAREST}}else{var Qo=de.layout.get("icon-size").constantOr(0)!==1||_a.iconsNeedLinear;yi=za.imageAtlasTexture,Ki=di||ve.options.rotating||ve.options.zooming||Qo||gi?Vr.LINEAR:Vr.NEAREST,Ei=za.imageAtlasTexture.size}var qo=An(za,1,ve.transform.zoom),Cs=Or(ba.posMatrix,Jr,qr,ve.transform,qo),wu=Qr(ba.posMatrix,Jr,qr,ve.transform,qo),Tu=aa&&_a.hasTextData(),Hc=de.layout.get("icon-text-fit")!=="none"&&Tu&&_a.hasIconData();an&&Sn(_a,ba.posMatrix,ve,ge,Cs,wu,Jr,Yt);var lf=ve.translatePosMatrix(ba.posMatrix,za,ze,Ke),rl=an||ge&&aa||Hc?pu:Cs,uf=ve.translatePosMatrix(wu,za,ze,Ke,!0),yl=di&&de.paint.get(ge?"text-halo-width":"icon-halo-width").constantOr(1)!==0,nl=void 0;di?_a.iconsInText?nl=kc(Ba.kind,Oi,xn,Jr,ve,lf,rl,uf,Ei,no):nl=oc(Ba.kind,Oi,xn,Jr,ve,lf,rl,uf,ge,Ei,!0):nl=Ef(Ba.kind,Oi,xn,Jr,ve,lf,rl,uf,ge,Ei);var Au={program:oi,buffers:ri,uniformValues:nl,atlasTexture:yi,atlasTextureIcon:li,atlasInterpolation:Ki,atlasInterpolationIcon:Ci,isSDF:di,hasHalo:yl};if(Hn&&_a.canOverlap){Xn=!0;for(var Bf=ri.segments.get(),Mu=0,rv=Bf;Mu<rv.length;Mu+=1){var vh=rv[Mu];ea.push({segments:new n.SegmentVector([vh]),sortKey:vh.sortKey,state:Au})}}else ea.push({segments:ri.segments,sortKey:0,state:Au})}}}Xn&&ea.sort(function(nv,kh){return nv.sortKey-kh.sortKey});for(var ls=0,Ih=ea;ls<Ih.length;ls+=1){var dh=Ih[ls],Xs=dh.state;if(fr.activeTexture.set(Vr.TEXTURE0),Xs.atlasTexture.bind(Xs.atlasInterpolation,Vr.CLAMP_TO_EDGE),Xs.atlasTextureIcon&&(fr.activeTexture.set(Vr.TEXTURE1),Xs.atlasTextureIcon&&Xs.atlasTextureIcon.bind(Xs.atlasInterpolationIcon,Vr.CLAMP_TO_EDGE)),Xs.isSDF){var ph=Xs.uniformValues;Xs.hasHalo&&(ph.u_is_halo=1,$l(Xs.buffers,dh.segments,de,ve,Xs.program,ta,qt,vr,ph)),ph.u_is_halo=0}$l(Xs.buffers,dh.segments,de,ve,Xs.program,ta,qt,vr,Xs.uniformValues)}}function $l(ve,J,de,te,ge,ze,Ke,ct,Pt){var Yt=te.context,qt=Yt.gl;ge.draw(Yt,qt.TRIANGLES,ze,Ke,ct,Ot.disabled,Pt,de.id,ve.layoutVertexBuffer,ve.indexBuffer,J,de.paint,te.transform.zoom,ve.programConfigurations.get(de.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function tf(ve,J,de,te){if(ve.renderPass==="translucent"){var ge=de.paint.get("circle-opacity"),ze=de.paint.get("circle-stroke-width"),Ke=de.paint.get("circle-stroke-opacity"),ct=de.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ge.constantOr(1)===0&&(ze.constantOr(1)===0||Ke.constantOr(1)===0))){for(var Pt=ve.context,Yt=Pt.gl,qt=ve.depthModeForSublayer(0,_r.ReadOnly),vr=tr.disabled,fr=ve.colorModeForRenderPass(),Vr=[],en=0;en<te.length;en++){var qr=te[en],Jr=J.getTile(qr),an=Jr.getBucket(de);if(an){var xn=an.programConfigurations.get(de.id),Hn=ve.useProgram("circle",xn),Xn=an.layoutVertexBuffer,ta=an.indexBuffer,aa=Mf(ve,qr,Jr,de),ea={programConfiguration:xn,program:Hn,layoutVertexBuffer:Xn,indexBuffer:ta,uniformValues:aa};if(ct)for(var oa=an.segments.get(),da=0,ba=oa;da<ba.length;da+=1){var za=ba[da];Vr.push({segments:new n.SegmentVector([za]),sortKey:za.sortKey,state:ea})}else Vr.push({segments:an.segments,sortKey:0,state:ea})}}ct&&Vr.sort(function(yi,Ki){return yi.sortKey-Ki.sortKey});for(var _a=0,ri=Vr;_a<ri.length;_a+=1){var Si=ri[_a],di=Si.state,Ba=di.programConfiguration,gi=di.program,oi=di.layoutVertexBuffer,Oi=di.indexBuffer,Ei=di.uniformValues,no=Si.segments;gi.draw(Pt,Yt.TRIANGLES,qt,vr,fr,Ot.disabled,Ei,de.id,oi,Oi,no,de.paint,ve.transform.zoom,Ba)}}}}function qs(ve,J,de,te){if(de.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var ge=ve.context,ze=ge.gl,Ke=tr.disabled,ct=new lt([ze.ONE,ze.ONE],n.Color.transparent,[!0,!0,!0,!0]);Dh(ge,ve,de),ge.clear({color:n.Color.transparent});for(var Pt=0;Pt<te.length;Pt++){var Yt=te[Pt];if(!J.hasRenderableParent(Yt)){var qt=J.getTile(Yt),vr=qt.getBucket(de);if(vr){var fr=vr.programConfigurations.get(de.id),Vr=ve.useProgram("heatmap",fr),en=ve.transform,qr=en.zoom;Vr.draw(ge,ze.TRIANGLES,_r.disabled,Ke,ct,Ot.disabled,Rl(Yt.posMatrix,qt,qr,de.paint.get("heatmap-intensity")),de.id,vr.layoutVertexBuffer,vr.indexBuffer,vr.segments,de.paint,ve.transform.zoom,fr)}}}ge.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),Df(ve,de))}function Dh(ve,J,de){var te=ve.gl;ve.activeTexture.set(te.TEXTURE1),ve.viewport.set([0,0,J.width/4,J.height/4]);var ge=de.heatmapFbo;if(ge)te.bindTexture(te.TEXTURE_2D,ge.colorAttachment.get()),ve.bindFramebuffer.set(ge.framebuffer);else{var ze=te.createTexture();te.bindTexture(te.TEXTURE_2D,ze),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),ge=de.heatmapFbo=ve.createFramebuffer(J.width/4,J.height/4,!1),hs(ve,J,ze,ge)}}function hs(ve,J,de,te){var ge=ve.gl,ze=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:ge.UNSIGNED_BYTE;ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,J.width/4,J.height/4,0,ge.RGBA,ze,null),te.colorAttachment.set(de)}function Df(ve,J){var de=ve.context,te=de.gl,ge=J.heatmapFbo;if(ge){de.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,ge.colorAttachment.get()),de.activeTexture.set(te.TEXTURE1);var ze=J.colorRampTexture;ze||(ze=J.colorRampTexture=new n.Texture(de,J.colorRamp,te.RGBA)),ze.bind(te.LINEAR,te.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(de,te.TRIANGLES,_r.disabled,tr.disabled,ve.colorModeForRenderPass(),Ot.disabled,nc(ve,J,0,1),J.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,J.paint,ve.transform.zoom)}}function Gs(ve,J,de,te){if(ve.renderPass==="translucent"){var ge=de.paint.get("line-opacity"),ze=de.paint.get("line-width");if(!(ge.constantOr(1)===0||ze.constantOr(1)===0))for(var Ke=ve.depthModeForSublayer(0,_r.ReadOnly),ct=ve.colorModeForRenderPass(),Pt=de.paint.get("line-dasharray"),Yt=de.paint.get("line-pattern"),qt=Yt.constantOr(1),vr=de.paint.get("line-gradient"),fr=de.getCrossfadeParameters(),Vr=qt?"linePattern":Pt?"lineSDF":vr?"lineGradient":"line",en=ve.context,qr=en.gl,Jr=!0,an=0,xn=te;an<xn.length;an+=1){var Hn=xn[an],Xn=J.getTile(Hn);if(!(qt&&!Xn.patternsLoaded())){var ta=Xn.getBucket(de);if(ta){var aa=ta.programConfigurations.get(de.id),ea=ve.context.program.get(),oa=ve.useProgram(Vr,aa),da=Jr||oa.program!==ea,ba=Yt.constantOr(null);if(ba&&Xn.imageAtlas){var za=Xn.imageAtlas,_a=za.patternPositions[ba.to.toString()],ri=za.patternPositions[ba.from.toString()];_a&&ri&&aa.setConstantPatternPositions(_a,ri)}var Si=qt?sh(ve,Xn,de,fr):Pt?Dl(ve,Xn,de,Pt,fr):vr?Is(ve,Xn,de,ta.lineClipsArray.length):du(ve,Xn,de);if(qt)en.activeTexture.set(qr.TEXTURE0),Xn.imageAtlasTexture.bind(qr.LINEAR,qr.CLAMP_TO_EDGE),aa.updatePaintBuffers(fr);else if(Pt&&(da||ve.lineAtlas.dirty))en.activeTexture.set(qr.TEXTURE0),ve.lineAtlas.bind(en);else if(vr){var di=ta.gradients[de.id],Ba=di.texture;if(de.gradientVersion!==di.version){var gi=256;if(de.stepInterpolant){var oi=J.getSource().maxzoom,Oi=Hn.canonical.z===oi?Math.ceil(1<<ve.transform.maxZoom-Hn.canonical.z):1,Ei=ta.maxLineLength/n.EXTENT,no=1024,yi=Ei*no*Oi;gi=n.clamp(n.nextPowerOfTwo(yi),256,en.maxTextureSize)}di.gradient=n.renderColorRamp({expression:de.gradientExpression(),evaluationKey:"lineProgress",resolution:gi,image:di.gradient||void 0,clips:ta.lineClipsArray}),di.texture?di.texture.update(di.gradient):di.texture=new n.Texture(en,di.gradient,qr.RGBA),di.version=de.gradientVersion,Ba=di.texture}en.activeTexture.set(qr.TEXTURE0),Ba.bind(de.stepInterpolant?qr.NEAREST:qr.LINEAR,qr.CLAMP_TO_EDGE)}oa.draw(en,qr.TRIANGLES,Ke,ve.stencilModeForClipping(Hn),ct,Ot.disabled,Si,de.id,ta.layoutVertexBuffer,ta.indexBuffer,ta.segments,de.paint,ve.transform.zoom,aa,ta.layoutVertexBuffer2),Jr=!1}}}}}function el(ve,J,de,te){var ge=de.paint.get("fill-color"),ze=de.paint.get("fill-opacity");if(ze.constantOr(1)!==0){var Ke=ve.colorModeForRenderPass(),ct=de.paint.get("fill-pattern"),Pt=ve.opaquePassEnabledForLayer()&&!ct.constantOr(1)&&ge.constantOr(n.Color.transparent).a===1&&ze.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===Pt){var Yt=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?_r.ReadWrite:_r.ReadOnly);As(ve,J,de,te,Yt,Ke,!1)}if(ve.renderPass==="translucent"&&de.paint.get("fill-antialias")){var qt=ve.depthModeForSublayer(de.getPaintProperty("fill-outline-color")?2:0,_r.ReadOnly);As(ve,J,de,te,qt,Ke,!0)}}}function As(ve,J,de,te,ge,ze,Ke){var ct=ve.context.gl,Pt=de.paint.get("fill-pattern"),Yt=Pt&&Pt.constantOr(1),qt=de.getCrossfadeParameters(),vr,fr,Vr,en,qr;Ke?(fr=Yt&&!de.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",vr=ct.LINES):(fr=Yt?"fillPattern":"fill",vr=ct.TRIANGLES);for(var Jr=0,an=te;Jr<an.length;Jr+=1){var xn=an[Jr],Hn=J.getTile(xn);if(!(Yt&&!Hn.patternsLoaded())){var Xn=Hn.getBucket(de);if(Xn){var ta=Xn.programConfigurations.get(de.id),aa=ve.useProgram(fr,ta);Yt&&(ve.context.activeTexture.set(ct.TEXTURE0),Hn.imageAtlasTexture.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),ta.updatePaintBuffers(qt));var ea=Pt.constantOr(null);if(ea&&Hn.imageAtlas){var oa=Hn.imageAtlas,da=oa.patternPositions[ea.to.toString()],ba=oa.patternPositions[ea.from.toString()];da&&ba&&ta.setConstantPatternPositions(da,ba)}var za=ve.translatePosMatrix(xn.posMatrix,Hn,de.paint.get("fill-translate"),de.paint.get("fill-translate-anchor"));if(!Ke)en=Xn.indexBuffer,qr=Xn.segments,Vr=Yt?Qs(za,ve,qt,Hn):_l(za);else{en=Xn.indexBuffer2,qr=Xn.segments2;var _a=[ct.drawingBufferWidth,ct.drawingBufferHeight];Vr=fr==="fillOutlinePattern"&&Yt?Af(za,ve,qt,Hn,_a):Rs(za,_a)}aa.draw(ve.context,vr,ge,ve.stencilModeForClipping(xn),ze,Ot.disabled,Vr,de.id,Xn.layoutVertexBuffer,en,qr,de.paint,ve.transform.zoom,ta)}}}}function Ms(ve,J,de,te){var ge=de.paint.get("fill-extrusion-opacity");if(ge!==0&&ve.renderPass==="translucent"){var ze=new _r(ve.context.gl.LEQUAL,_r.ReadWrite,ve.depthRangeFor3D);if(ge===1&&!de.paint.get("fill-extrusion-pattern").constantOr(1)){var Ke=ve.colorModeForRenderPass();If(ve,J,de,te,ze,tr.disabled,Ke)}else If(ve,J,de,te,ze,tr.disabled,lt.disabled),If(ve,J,de,te,ze,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function If(ve,J,de,te,ge,ze,Ke){for(var ct=ve.context,Pt=ct.gl,Yt=de.paint.get("fill-extrusion-pattern"),qt=Yt.constantOr(1),vr=de.getCrossfadeParameters(),fr=de.paint.get("fill-extrusion-opacity"),Vr=0,en=te;Vr<en.length;Vr+=1){var qr=en[Vr],Jr=J.getTile(qr),an=Jr.getBucket(de);if(an){var xn=an.programConfigurations.get(de.id),Hn=ve.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",xn);qt&&(ve.context.activeTexture.set(Pt.TEXTURE0),Jr.imageAtlasTexture.bind(Pt.LINEAR,Pt.CLAMP_TO_EDGE),xn.updatePaintBuffers(vr));var Xn=Yt.constantOr(null);if(Xn&&Jr.imageAtlas){var ta=Jr.imageAtlas,aa=ta.patternPositions[Xn.to.toString()],ea=ta.patternPositions[Xn.from.toString()];aa&&ea&&xn.setConstantPatternPositions(aa,ea)}var oa=ve.translatePosMatrix(qr.posMatrix,Jr,de.paint.get("fill-extrusion-translate"),de.paint.get("fill-extrusion-translate-anchor")),da=de.paint.get("fill-extrusion-vertical-gradient"),ba=qt?Hs(oa,ve,da,fr,qr,vr,Jr):Tf(oa,ve,da,fr);Hn.draw(ct,ct.gl.TRIANGLES,ge,ze,Ke,Ot.backCCW,ba,de.id,an.layoutVertexBuffer,an.indexBuffer,an.segments,de.paint,ve.transform.zoom,xn)}}}function rf(ve,J,de,te){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var ge=ve.context,ze=ve.depthModeForSublayer(0,_r.ReadOnly),Ke=ve.colorModeForRenderPass(),ct=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(te):[{},te],Pt=ct[0],Yt=ct[1],qt=0,vr=Yt;qt<vr.length;qt+=1){var fr=vr[qt],Vr=J.getTile(fr);Vr.needsHillshadePrepare&&ve.renderPass==="offscreen"?nf(ve,Vr,de,ze,tr.disabled,Ke):ve.renderPass==="translucent"&&kf(ve,Vr,de,ze,Pt[fr.overscaledZ],Ke)}ge.viewport.set([0,0,ve.width,ve.height])}}function kf(ve,J,de,te,ge,ze){var Ke=ve.context,ct=Ke.gl,Pt=J.fbo;if(Pt){var Yt=ve.useProgram("hillshade");Ke.activeTexture.set(ct.TEXTURE0),ct.bindTexture(ct.TEXTURE_2D,Pt.colorAttachment.get());var qt=Cr(ve,J,de);Yt.draw(Ke,ct.TRIANGLES,te,ge,ze,Ot.disabled,qt,de.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function nf(ve,J,de,te,ge,ze){var Ke=ve.context,ct=Ke.gl,Pt=J.dem;if(Pt&&Pt.data){var Yt=Pt.dim,qt=Pt.stride,vr=Pt.getPixels();if(Ke.activeTexture.set(ct.TEXTURE1),Ke.pixelStoreUnpackPremultiplyAlpha.set(!1),J.demTexture=J.demTexture||ve.getTileTexture(qt),J.demTexture){var fr=J.demTexture;fr.update(vr,{premultiply:!1}),fr.bind(ct.NEAREST,ct.CLAMP_TO_EDGE)}else J.demTexture=new n.Texture(Ke,vr,ct.RGBA,{premultiply:!1}),J.demTexture.bind(ct.NEAREST,ct.CLAMP_TO_EDGE);Ke.activeTexture.set(ct.TEXTURE0);var Vr=J.fbo;if(!Vr){var en=new n.Texture(Ke,{width:Yt,height:Yt,data:null},ct.RGBA);en.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),Vr=J.fbo=Ke.createFramebuffer(Yt,Yt,!0),Vr.colorAttachment.set(en.texture)}Ke.bindFramebuffer.set(Vr.framebuffer),Ke.viewport.set([0,0,Yt,Yt]),ve.useProgram("hillshadePrepare").draw(Ke,ct.TRIANGLES,te,ge,ze,Ot.disabled,vu(J.tileID,Pt),de.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),J.needsHillshadePrepare=!1}}function Ws(ve,J,de,te){if(ve.renderPass==="translucent"&&de.paint.get("raster-opacity")!==0&&te.length)for(var ge=ve.context,ze=ge.gl,Ke=J.getSource(),ct=ve.useProgram("raster"),Pt=ve.colorModeForRenderPass(),Yt=Ke instanceof ee?[{},te]:ve.stencilConfigForOverlap(te),qt=Yt[0],vr=Yt[1],fr=vr[vr.length-1].overscaledZ,Vr=!ve.options.moving,en=0,qr=vr;en<qr.length;en+=1){var Jr=qr[en],an=ve.depthModeForSublayer(Jr.overscaledZ-fr,de.paint.get("raster-opacity")===1?_r.ReadWrite:_r.ReadOnly,ze.LESS),xn=J.getTile(Jr),Hn=ve.transform.calculatePosMatrix(Jr.toUnwrapped(),Vr);xn.registerFadeDuration(de.paint.get("raster-fade-duration"));var Xn=J.findLoadedParent(Jr,0),ta=lc(xn,Xn,J,de,ve.transform),aa=void 0,ea=void 0,oa=de.paint.get("raster-resampling")==="nearest"?ze.NEAREST:ze.LINEAR;ge.activeTexture.set(ze.TEXTURE0),xn.texture.bind(oa,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),ge.activeTexture.set(ze.TEXTURE1),Xn?(Xn.texture.bind(oa,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),aa=Math.pow(2,Xn.tileID.overscaledZ-xn.tileID.overscaledZ),ea=[xn.tileID.canonical.x*aa%1,xn.tileID.canonical.y*aa%1]):xn.texture.bind(oa,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);var da=ks(Hn,ea||[0,0],aa||1,ta,de);Ke instanceof ee?ct.draw(ge,ze.TRIANGLES,an,tr.disabled,Pt,Ot.disabled,da,de.id,Ke.boundsBuffer,ve.quadTriangleIndexBuffer,Ke.boundsSegments):ct.draw(ge,ze.TRIANGLES,an,qt[Jr.overscaledZ],Pt,Ot.disabled,da,de.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function lc(ve,J,de,te,ge){var ze=te.paint.get("raster-fade-duration");if(ze>0){var Ke=n.browser.now(),ct=(Ke-ve.timeAdded)/ze,Pt=J?(Ke-J.timeAdded)/ze:-1,Yt=de.getSource(),qt=ge.coveringZoomLevel({tileSize:Yt.tileSize,roundZoom:Yt.roundZoom}),vr=!J||Math.abs(J.tileID.overscaledZ-qt)>Math.abs(ve.tileID.overscaledZ-qt),fr=vr&&ve.refreshedUponExpiration?1:n.clamp(vr?ct:1-Pt,0,1);return ve.refreshedUponExpiration&&ct>=1&&(ve.refreshedUponExpiration=!1),J?{opacity:1,mix:1-fr}:{opacity:fr,mix:0}}else return{opacity:1,mix:0}}function gu(ve,J,de){var te=de.paint.get("background-color"),ge=de.paint.get("background-opacity");if(ge!==0){var ze=ve.context,Ke=ze.gl,ct=ve.transform,Pt=ct.tileSize,Yt=de.paint.get("background-pattern");if(!ve.isPatternMissing(Yt)){var qt=!Yt&&te.a===1&&ge===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===qt){var vr=tr.disabled,fr=ve.depthModeForSublayer(0,qt==="opaque"?_r.ReadWrite:_r.ReadOnly),Vr=ve.colorModeForRenderPass(),en=ve.useProgram(Yt?"backgroundPattern":"background"),qr=ct.coveringTiles({tileSize:Pt});Yt&&(ze.activeTexture.set(Ke.TEXTURE0),ve.imageManager.bind(ve.context));for(var Jr=de.getCrossfadeParameters(),an=0,xn=qr;an<xn.length;an+=1){var Hn=xn[an],Xn=ve.transform.calculatePosMatrix(Hn.toUnwrapped()),ta=Yt?_f(Xn,ge,ve,Yt,{tileID:Hn,tileSize:Pt},Jr):Ts(Xn,ge,te);en.draw(ze,Ke.TRIANGLES,fr,vr,Vr,Ot.disabled,ta,de.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var af=new n.Color(1,0,0,1),Of=new n.Color(0,1,0,1),Fc=new n.Color(0,0,1,1),$e=new n.Color(1,0,1,1),st=new n.Color(0,1,1,1);function yt(ve){var J=ve.transform.padding,de=3;Bt(ve,ve.transform.height-(J.top||0),de,af),Bt(ve,J.bottom||0,de,Of),kt(ve,J.left||0,de,Fc),kt(ve,ve.transform.width-(J.right||0),de,$e);var te=ve.transform.centerPoint;At(ve,te.x,ve.transform.height-te.y,st)}function At(ve,J,de,te){var ge=20,ze=2;Ht(ve,J-ze/2,de-ge/2,ze,ge,te),Ht(ve,J-ge/2,de-ze/2,ge,ze,te)}function Bt(ve,J,de,te){Ht(ve,0,J+de/2,ve.transform.width,de,te)}function kt(ve,J,de,te){Ht(ve,J-de/2,0,de,ve.transform.height,te)}function Ht(ve,J,de,te,ge,ze){var Ke=ve.context,ct=Ke.gl;ct.enable(ct.SCISSOR_TEST),ct.scissor(J*n.browser.devicePixelRatio,de*n.browser.devicePixelRatio,te*n.browser.devicePixelRatio,ge*n.browser.devicePixelRatio),Ke.clear({color:ze}),ct.disable(ct.SCISSOR_TEST)}function xr(ve,J,de){for(var te=0;te<de.length;te++)br(ve,J,de[te])}function br(ve,J,de){var te=ve.context,ge=te.gl,ze=de.posMatrix,Ke=ve.useProgram("debug"),ct=_r.disabled,Pt=tr.disabled,Yt=ve.colorModeForRenderPass(),qt="$debug";te.activeTexture.set(ge.TEXTURE0),ve.emptyTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE),Ke.draw(te,ge.LINE_STRIP,ct,Pt,Yt,Ot.disabled,bo(ze,n.Color.red),qt,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var vr=J.getTileByID(de.key).latestRawTileData,fr=vr&&vr.byteLength||0,Vr=Math.floor(fr/1024),en=J.getTile(de).tileSize,qr=512/Math.min(en,512)*(de.overscaledZ/ve.transform.zoom)*.5,Jr=de.canonical.toString();de.overscaledZ!==de.canonical.z&&(Jr+=" => "+de.overscaledZ);var an=Jr+" "+Vr+"kb";ur(ve,an),Ke.draw(te,ge.TRIANGLES,ct,Pt,lt.alphaBlended,Ot.disabled,bo(ze,n.Color.transparent,qr),qt,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function ur(ve,J){ve.initDebugOverlayCanvas();var de=ve.debugOverlayCanvas,te=ve.context.gl,ge=ve.debugOverlayCanvas.getContext("2d");ge.clearRect(0,0,de.width,de.height),ge.shadowColor="white",ge.shadowBlur=2,ge.lineWidth=1.5,ge.strokeStyle="white",ge.textBaseline="top",ge.font="bold 36px Open Sans, sans-serif",ge.fillText(J,5,5),ge.strokeText(J,5,5),ve.debugOverlayTexture.update(de),ve.debugOverlayTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)}function Rr(ve,J,de){var te=ve.context,ge=de.implementation;if(ve.renderPass==="offscreen"){var ze=ge.prerender;ze&&(ve.setCustomLayerDefaults(),te.setColorMode(ve.colorModeForRenderPass()),ze.call(ge,te.gl,ve.transform.customLayerMatrix()),te.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),te.setColorMode(ve.colorModeForRenderPass()),te.setStencilMode(tr.disabled);var Ke=ge.renderingMode==="3d"?new _r(ve.context.gl.LEQUAL,_r.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,_r.ReadOnly);te.setDepthMode(Ke),ge.render(te.gl,ve.transform.customLayerMatrix()),te.setDirty(),ve.setBaseState(),te.bindFramebuffer.set(null)}}var Ur={symbol:sc,circle:tf,heatmap:qs,line:Gs,fill:el,"fill-extrusion":Ms,hillshade:rf,raster:Ws,background:gu,debug:xr,custom:Rr},Yr=function(J,de){this.context=new It(J),this.transform=de,this._tileTextures={},this.setup(),this.numSublayers=Wt.maxUnderzooming+Wt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new xa,this.gpuTimers={}};Yr.prototype.resize=function(J,de){if(this.width=J*n.browser.devicePixelRatio,this.height=de*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var te=0,ge=this.style._order;te<ge.length;te+=1){var ze=ge[te];this.style._layers[ze].resize()}},Yr.prototype.setup=function(){var J=this.context,de=new n.StructArrayLayout2i4;de.emplaceBack(0,0),de.emplaceBack(n.EXTENT,0),de.emplaceBack(0,n.EXTENT),de.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=J.createVertexBuffer(de,is.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var te=new n.StructArrayLayout2i4;te.emplaceBack(0,0),te.emplaceBack(n.EXTENT,0),te.emplaceBack(0,n.EXTENT),te.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=J.createVertexBuffer(te,is.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var ge=new n.StructArrayLayout4i8;ge.emplaceBack(0,0,0,0),ge.emplaceBack(n.EXTENT,0,n.EXTENT,0),ge.emplaceBack(0,n.EXTENT,0,n.EXTENT),ge.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=J.createVertexBuffer(ge,W.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var ze=new n.StructArrayLayout2i4;ze.emplaceBack(0,0),ze.emplaceBack(1,0),ze.emplaceBack(0,1),ze.emplaceBack(1,1),this.viewportBuffer=J.createVertexBuffer(ze,is.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var Ke=new n.StructArrayLayout1ui2;Ke.emplaceBack(0),Ke.emplaceBack(1),Ke.emplaceBack(3),Ke.emplaceBack(2),Ke.emplaceBack(0),this.tileBorderIndexBuffer=J.createIndexBuffer(Ke);var ct=new n.StructArrayLayout3ui6;ct.emplaceBack(0,1,2),ct.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=J.createIndexBuffer(ct),this.emptyTexture=new n.Texture(J,{width:1,height:1,data:new Uint8Array([0,0,0,0])},J.gl.RGBA);var Pt=this.context.gl;this.stencilClearMode=new tr({func:Pt.ALWAYS,mask:0},0,255,Pt.ZERO,Pt.ZERO,Pt.ZERO)},Yr.prototype.clearStencil=function(){var J=this.context,de=J.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var te=n.create();n.ortho(te,0,this.width,this.height,0,0,1),n.scale(te,te,[de.drawingBufferWidth,de.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(J,de.TRIANGLES,_r.disabled,this.stencilClearMode,lt.disabled,Ot.disabled,Ku(te),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Yr.prototype._renderTileClippingMasks=function(J,de){if(!(this.currentStencilSource===J.source||!J.isTileClipped()||!de||!de.length)){this.currentStencilSource=J.source;var te=this.context,ge=te.gl;this.nextStencilID+de.length>256&&this.clearStencil(),te.setColorMode(lt.disabled),te.setDepthMode(_r.disabled);var ze=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ke=0,ct=de;Ke<ct.length;Ke+=1){var Pt=ct[Ke],Yt=this._tileClippingMaskIDs[Pt.key]=this.nextStencilID++;ze.draw(te,ge.TRIANGLES,_r.disabled,new tr({func:ge.ALWAYS,mask:0},Yt,255,ge.KEEP,ge.KEEP,ge.REPLACE),lt.disabled,Ot.disabled,Ku(Pt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Yr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var J=this.nextStencilID++,de=this.context.gl;return new tr({func:de.NOTEQUAL,mask:255},J,255,de.KEEP,de.KEEP,de.REPLACE)},Yr.prototype.stencilModeForClipping=function(J){var de=this.context.gl;return new tr({func:de.EQUAL,mask:255},this._tileClippingMaskIDs[J.key],0,de.KEEP,de.KEEP,de.REPLACE)},Yr.prototype.stencilConfigForOverlap=function(J){var de,te=this.context.gl,ge=J.sort(function(Yt,qt){return qt.overscaledZ-Yt.overscaledZ}),ze=ge[ge.length-1].overscaledZ,Ke=ge[0].overscaledZ-ze+1;if(Ke>1){this.currentStencilSource=void 0,this.nextStencilID+Ke>256&&this.clearStencil();for(var ct={},Pt=0;Pt<Ke;Pt++)ct[Pt+ze]=new tr({func:te.GEQUAL,mask:255},Pt+this.nextStencilID,255,te.KEEP,te.KEEP,te.REPLACE);return this.nextStencilID+=Ke,[ct,ge]}return[(de={},de[ze]=tr.disabled,de),ge]},Yr.prototype.colorModeForRenderPass=function(){var J=this.context.gl;if(this._showOverdrawInspector){var de=8,te=1/de;return new lt([J.CONSTANT_COLOR,J.ONE],new n.Color(te,te,te,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?lt.unblended:lt.alphaBlended},Yr.prototype.depthModeForSublayer=function(J,de,te){if(!this.opaquePassEnabledForLayer())return _r.disabled;var ge=1-((1+this.currentLayer)*this.numSublayers+J)*this.depthEpsilon;return new _r(te||this.context.gl.LEQUAL,de,[ge,ge])},Yr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Yr.prototype.render=function(J,de){var te=this;this.style=J,this.options=de,this.lineAtlas=J.lineAtlas,this.imageManager=J.imageManager,this.glyphManager=J.glyphManager,this.symbolFadeChange=J.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var ge=this.style._order,ze=this.style.sourceCaches;for(var Ke in ze){var ct=ze[Ke];ct.used&&ct.prepare(this.context)}var Pt={},Yt={},qt={};for(var vr in ze){var fr=ze[vr];Pt[vr]=fr.getVisibleCoordinates(),Yt[vr]=Pt[vr].slice().reverse(),qt[vr]=fr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Vr=0;Vr<ge.length;Vr++){var en=ge[Vr];if(this.style._layers[en].is3D()){this.opaquePassCutoff=Vr;break}}this.renderPass="offscreen";for(var qr=0,Jr=ge;qr<Jr.length;qr+=1){var an=Jr[qr],xn=this.style._layers[an];if(!(!xn.hasOffscreenPass()||xn.isHidden(this.transform.zoom))){var Hn=Yt[xn.source];xn.type!=="custom"&&!Hn.length||this.renderLayer(this,ze[xn.source],xn,Hn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:de.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=de.showOverdrawInspector,this.depthRangeFor3D=[0,1-(J._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ge.length-1;this.currentLayer>=0;this.currentLayer--){var Xn=this.style._layers[ge[this.currentLayer]],ta=ze[Xn.source],aa=Pt[Xn.source];this._renderTileClippingMasks(Xn,aa),this.renderLayer(this,ta,Xn,aa)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ge.length;this.currentLayer++){var ea=this.style._layers[ge[this.currentLayer]],oa=ze[ea.source],da=(ea.type==="symbol"?qt:Yt)[ea.source];this._renderTileClippingMasks(ea,Pt[ea.source]),this.renderLayer(this,oa,ea,da)}if(this.options.showTileBoundaries){var ba,za,_a=n.values(this.style._layers);_a.forEach(function(ri){ri.source&&!ri.isHidden(te.transform.zoom)&&(ri.source!==(za&&za.id)&&(za=te.style.sourceCaches[ri.source]),(!ba||ba.getSource().maxzoom<za.getSource().maxzoom)&&(ba=za))}),ba&&Ur.debug(this,ba,ba.getVisibleCoordinates())}this.options.showPadding&&yt(this),this.context.setDefault()},Yr.prototype.renderLayer=function(J,de,te,ge){te.isHidden(this.transform.zoom)||te.type!=="background"&&te.type!=="custom"&&!ge.length||(this.id=te.id,this.gpuTimingStart(te),Ur[te.type](J,de,te,ge,this.style.placement.variableOffsets),this.gpuTimingEnd())},Yr.prototype.gpuTimingStart=function(J){if(this.options.gpuTiming){var de=this.context.extTimerQuery,te=this.gpuTimers[J.id];te||(te=this.gpuTimers[J.id]={calls:0,cpuTime:0,query:de.createQueryEXT()}),te.calls++,de.beginQueryEXT(de.TIME_ELAPSED_EXT,te.query)}},Yr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var J=this.context.extTimerQuery;J.endQueryEXT(J.TIME_ELAPSED_EXT)}},Yr.prototype.collectGpuTimers=function(){var J=this.gpuTimers;return this.gpuTimers={},J},Yr.prototype.queryGpuTimers=function(J){var de={};for(var te in J){var ge=J[te],ze=this.context.extTimerQuery,Ke=ze.getQueryObjectEXT(ge.query,ze.QUERY_RESULT_EXT)/(1e3*1e3);ze.deleteQueryEXT(ge.query),de[te]=Ke}return de},Yr.prototype.translatePosMatrix=function(J,de,te,ge,ze){if(!te[0]&&!te[1])return J;var Ke=ze?ge==="map"?this.transform.angle:0:ge==="viewport"?-this.transform.angle:0;if(Ke){var ct=Math.sin(Ke),Pt=Math.cos(Ke);te=[te[0]*Pt-te[1]*ct,te[0]*ct+te[1]*Pt]}var Yt=[ze?te[0]:An(de,te[0],this.transform.zoom),ze?te[1]:An(de,te[1],this.transform.zoom),0],qt=new Float32Array(16);return n.translate(qt,J,Yt),qt},Yr.prototype.saveTileTexture=function(J){var de=this._tileTextures[J.size[0]];de?de.push(J):this._tileTextures[J.size[0]]=[J]},Yr.prototype.getTileTexture=function(J){var de=this._tileTextures[J];return de&&de.length>0?de.pop():null},Yr.prototype.isPatternMissing=function(J){if(!J)return!1;if(!J.from||!J.to)return!0;var de=this.imageManager.getPattern(J.from.toString()),te=this.imageManager.getPattern(J.to.toString());return!de||!te},Yr.prototype.useProgram=function(J,de){this.cache=this.cache||{};var te=""+J+(de?de.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[te]||(this.cache[te]=new Pc(this.context,J,jl[J],de,Jl[J],this._showOverdrawInspector)),this.cache[te]},Yr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Yr.prototype.setBaseState=function(){var J=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(J.FUNC_ADD)},Yr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var J=this.context.gl;this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,J.RGBA)}},Yr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var fn=function(J,de){this.points=J,this.planes=de};fn.fromInvProjectionMatrix=function(J,de,te){var ge=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],ze=Math.pow(2,te),Ke=ge.map(function(Yt){return n.transformMat4([],Yt,J)}).map(function(Yt){return n.scale$1([],Yt,1/Yt[3]/de*ze)}),ct=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Pt=ct.map(function(Yt){var qt=n.sub([],Ke[Yt[0]],Ke[Yt[1]]),vr=n.sub([],Ke[Yt[2]],Ke[Yt[1]]),fr=n.normalize([],n.cross([],qt,vr)),Vr=-n.dot(fr,Ke[Yt[1]]);return fr.concat(Vr)});return new fn(Ke,Pt)};var Pn=function(J,de){this.min=J,this.max=de,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};Pn.prototype.quadrant=function(J){for(var de=[J%2===0,J<2],te=n.clone$2(this.min),ge=n.clone$2(this.max),ze=0;ze<de.length;ze++)te[ze]=de[ze]?this.min[ze]:this.center[ze],ge[ze]=de[ze]?this.center[ze]:this.max[ze];return ge[2]=this.max[2],new Pn(te,ge)},Pn.prototype.distanceX=function(J){var de=Math.max(Math.min(this.max[0],J[0]),this.min[0]);return de-J[0]},Pn.prototype.distanceY=function(J){var de=Math.max(Math.min(this.max[1],J[1]),this.min[1]);return de-J[1]},Pn.prototype.intersects=function(J){for(var de=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],te=!0,ge=0;ge<J.planes.length;ge++){for(var ze=J.planes[ge],Ke=0,ct=0;ct<de.length;ct++)Ke+=n.dot$1(ze,de[ct])>=0;if(Ke===0)return 0;Ke!==de.length&&(te=!1)}if(te)return 2;for(var Pt=0;Pt<3;Pt++){for(var Yt=Number.MAX_VALUE,qt=-Number.MAX_VALUE,vr=0;vr<J.points.length;vr++){var fr=J.points[vr][Pt]-this.min[Pt];Yt=Math.min(Yt,fr),qt=Math.max(qt,fr)}if(qt<0||Yt>this.max[Pt]-this.min[Pt])return 0}return 1};var Nn=function(J,de,te,ge){if(J===void 0&&(J=0),de===void 0&&(de=0),te===void 0&&(te=0),ge===void 0&&(ge=0),isNaN(J)||J<0||isNaN(de)||de<0||isNaN(te)||te<0||isNaN(ge)||ge<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=J,this.bottom=de,this.left=te,this.right=ge};Nn.prototype.interpolate=function(J,de,te){return de.top!=null&&J.top!=null&&(this.top=n.number(J.top,de.top,te)),de.bottom!=null&&J.bottom!=null&&(this.bottom=n.number(J.bottom,de.bottom,te)),de.left!=null&&J.left!=null&&(this.left=n.number(J.left,de.left,te)),de.right!=null&&J.right!=null&&(this.right=n.number(J.right,de.right,te)),this},Nn.prototype.getCenter=function(J,de){var te=n.clamp((this.left+J-this.right)/2,0,J),ge=n.clamp((this.top+de-this.bottom)/2,0,de);return new n.Point(te,ge)},Nn.prototype.equals=function(J){return this.top===J.top&&this.bottom===J.bottom&&this.left===J.left&&this.right===J.right},Nn.prototype.clone=function(){return new Nn(this.top,this.bottom,this.left,this.right)},Nn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Yn=function(J,de,te,ge,ze){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=ze===void 0?!0:ze,this._minZoom=J||0,this._maxZoom=de||22,this._minPitch=te??0,this._maxPitch=ge??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Nn,this._posMatrixCache={},this._alignedPosMatrixCache={}},ia={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Yn.prototype.clone=function(){var J=new Yn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return J.tileSize=this.tileSize,J.latRange=this.latRange,J.width=this.width,J.height=this.height,J._center=this._center,J.zoom=this.zoom,J.angle=this.angle,J._fov=this._fov,J._pitch=this._pitch,J._unmodified=this._unmodified,J._edgeInsets=this._edgeInsets.clone(),J._calcMatrices(),J},ia.minZoom.get=function(){return this._minZoom},ia.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},ia.maxZoom.get=function(){return this._maxZoom},ia.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},ia.minPitch.get=function(){return this._minPitch},ia.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},ia.maxPitch.get=function(){return this._maxPitch},ia.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},ia.renderWorldCopies.get=function(){return this._renderWorldCopies},ia.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},ia.worldSize.get=function(){return this.tileSize*this.scale},ia.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},ia.size.get=function(){return new n.Point(this.width,this.height)},ia.bearing.get=function(){return-this.angle/Math.PI*180},ia.bearing.set=function(ve){var J=-n.wrap(ve,-180,180)*Math.PI/180;this.angle!==J&&(this._unmodified=!1,this.angle=J,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},ia.pitch.get=function(){return this._pitch/Math.PI*180},ia.pitch.set=function(ve){var J=n.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==J&&(this._unmodified=!1,this._pitch=J,this._calcMatrices())},ia.fov.get=function(){return this._fov/Math.PI*180},ia.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},ia.zoom.get=function(){return this._zoom},ia.zoom.set=function(ve){var J=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==J&&(this._unmodified=!1,this._zoom=J,this.scale=this.zoomScale(J),this.tileZoom=Math.floor(J),this.zoomFraction=J-this.tileZoom,this._constrain(),this._calcMatrices())},ia.center.get=function(){return this._center},ia.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},ia.padding.get=function(){return this._edgeInsets.toJSON()},ia.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},ia.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Yn.prototype.isPaddingEqual=function(J){return this._edgeInsets.equals(J)},Yn.prototype.interpolatePadding=function(J,de,te){this._unmodified=!1,this._edgeInsets.interpolate(J,de,te),this._constrain(),this._calcMatrices()},Yn.prototype.coveringZoomLevel=function(J){var de=(J.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/J.tileSize));return Math.max(0,de)},Yn.prototype.getVisibleUnwrappedCoordinates=function(J){var de=[new n.UnwrappedTileID(0,J)];if(this._renderWorldCopies)for(var te=this.pointCoordinate(new n.Point(0,0)),ge=this.pointCoordinate(new n.Point(this.width,0)),ze=this.pointCoordinate(new n.Point(this.width,this.height)),Ke=this.pointCoordinate(new n.Point(0,this.height)),ct=Math.floor(Math.min(te.x,ge.x,ze.x,Ke.x)),Pt=Math.floor(Math.max(te.x,ge.x,ze.x,Ke.x)),Yt=1,qt=ct-Yt;qt<=Pt+Yt;qt++)qt!==0&&de.push(new n.UnwrappedTileID(qt,J));return de},Yn.prototype.coveringTiles=function(J){var de=this.coveringZoomLevel(J),te=de;if(J.minzoom!==void 0&&de<J.minzoom)return[];J.maxzoom!==void 0&&de>J.maxzoom&&(de=J.maxzoom);var ge=n.MercatorCoordinate.fromLngLat(this.center),ze=Math.pow(2,de),Ke=[ze*ge.x,ze*ge.y,0],ct=fn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,de),Pt=J.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Pt=de);var Yt=3,qt=function(_a){return{aabb:new Pn([_a*ze,0,0],[(_a+1)*ze,ze,0]),zoom:0,x:0,y:0,wrap:_a,fullyVisible:!1}},vr=[],fr=[],Vr=de,en=J.reparseOverscaled?te:de;if(this._renderWorldCopies)for(var qr=1;qr<=3;qr++)vr.push(qt(-qr)),vr.push(qt(qr));for(vr.push(qt(0));vr.length>0;){var Jr=vr.pop(),an=Jr.x,xn=Jr.y,Hn=Jr.fullyVisible;if(!Hn){var Xn=Jr.aabb.intersects(ct);if(Xn===0)continue;Hn=Xn===2}var ta=Jr.aabb.distanceX(Ke),aa=Jr.aabb.distanceY(Ke),ea=Math.max(Math.abs(ta),Math.abs(aa)),oa=Yt+(1<<Vr-Jr.zoom)-2;if(Jr.zoom===Vr||ea>oa&&Jr.zoom>=Pt){fr.push({tileID:new n.OverscaledTileID(Jr.zoom===Vr?en:Jr.zoom,Jr.wrap,Jr.zoom,an,xn),distanceSq:n.sqrLen([Ke[0]-.5-an,Ke[1]-.5-xn])});continue}for(var da=0;da<4;da++){var ba=(an<<1)+da%2,za=(xn<<1)+(da>>1);vr.push({aabb:Jr.aabb.quadrant(da),zoom:Jr.zoom+1,x:ba,y:za,wrap:Jr.wrap,fullyVisible:Hn})}}return fr.sort(function(_a,ri){return _a.distanceSq-ri.distanceSq}).map(function(_a){return _a.tileID})},Yn.prototype.resize=function(J,de){this.width=J,this.height=de,this.pixelsToGLUnits=[2/J,-2/de],this._constrain(),this._calcMatrices()},ia.unmodified.get=function(){return this._unmodified},Yn.prototype.zoomScale=function(J){return Math.pow(2,J)},Yn.prototype.scaleZoom=function(J){return Math.log(J)/Math.LN2},Yn.prototype.project=function(J){var de=n.clamp(J.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng(J.lng)*this.worldSize,n.mercatorYfromLat(de)*this.worldSize)},Yn.prototype.unproject=function(J){return new n.MercatorCoordinate(J.x/this.worldSize,J.y/this.worldSize).toLngLat()},ia.point.get=function(){return this.project(this.center)},Yn.prototype.setLocationAtPoint=function(J,de){var te=this.pointCoordinate(de),ge=this.pointCoordinate(this.centerPoint),ze=this.locationCoordinate(J),Ke=new n.MercatorCoordinate(ze.x-(te.x-ge.x),ze.y-(te.y-ge.y));this.center=this.coordinateLocation(Ke),this._renderWorldCopies&&(this.center=this.center.wrap())},Yn.prototype.locationPoint=function(J){return this.coordinatePoint(this.locationCoordinate(J))},Yn.prototype.pointLocation=function(J){return this.coordinateLocation(this.pointCoordinate(J))},Yn.prototype.locationCoordinate=function(J){return n.MercatorCoordinate.fromLngLat(J)},Yn.prototype.coordinateLocation=function(J){return J.toLngLat()},Yn.prototype.pointCoordinate=function(J){var de=0,te=[J.x,J.y,0,1],ge=[J.x,J.y,1,1];n.transformMat4(te,te,this.pixelMatrixInverse),n.transformMat4(ge,ge,this.pixelMatrixInverse);var ze=te[3],Ke=ge[3],ct=te[0]/ze,Pt=ge[0]/Ke,Yt=te[1]/ze,qt=ge[1]/Ke,vr=te[2]/ze,fr=ge[2]/Ke,Vr=vr===fr?0:(de-vr)/(fr-vr);return new n.MercatorCoordinate(n.number(ct,Pt,Vr)/this.worldSize,n.number(Yt,qt,Vr)/this.worldSize)},Yn.prototype.coordinatePoint=function(J){var de=[J.x*this.worldSize,J.y*this.worldSize,0,1];return n.transformMat4(de,de,this.pixelMatrix),new n.Point(de[0]/de[3],de[1]/de[3])},Yn.prototype.getBounds=function(){return new n.LngLatBounds().extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},Yn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Yn.prototype.setMaxBounds=function(J){J?(this.lngRange=[J.getWest(),J.getEast()],this.latRange=[J.getSouth(),J.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Yn.prototype.calculatePosMatrix=function(J,de){de===void 0&&(de=!1);var te=J.key,ge=de?this._alignedPosMatrixCache:this._posMatrixCache;if(ge[te])return ge[te];var ze=J.canonical,Ke=this.worldSize/this.zoomScale(ze.z),ct=ze.x+Math.pow(2,ze.z)*J.wrap,Pt=n.identity(new Float64Array(16));return n.translate(Pt,Pt,[ct*Ke,ze.y*Ke,0]),n.scale(Pt,Pt,[Ke/n.EXTENT,Ke/n.EXTENT,1]),n.multiply(Pt,de?this.alignedProjMatrix:this.projMatrix,Pt),ge[te]=new Float32Array(Pt),ge[te]},Yn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Yn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var J=-90,de=90,te=-180,ge=180,ze,Ke,ct,Pt,Yt=this.size,qt=this._unmodified;if(this.latRange){var vr=this.latRange;J=n.mercatorYfromLat(vr[1])*this.worldSize,de=n.mercatorYfromLat(vr[0])*this.worldSize,ze=de-J<Yt.y?Yt.y/(de-J):0}if(this.lngRange){var fr=this.lngRange;te=n.mercatorXfromLng(fr[0])*this.worldSize,ge=n.mercatorXfromLng(fr[1])*this.worldSize,Ke=ge-te<Yt.x?Yt.x/(ge-te):0}var Vr=this.point,en=Math.max(Ke||0,ze||0);if(en){this.center=this.unproject(new n.Point(Ke?(ge+te)/2:Vr.x,ze?(de+J)/2:Vr.y)),this.zoom+=this.scaleZoom(en),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var qr=Vr.y,Jr=Yt.y/2;qr-Jr<J&&(Pt=J+Jr),qr+Jr>de&&(Pt=de-Jr)}if(this.lngRange){var an=Vr.x,xn=Yt.x/2;an-xn<te&&(ct=te+xn),an+xn>ge&&(ct=ge-xn)}(ct!==void 0||Pt!==void 0)&&(this.center=this.unproject(new n.Point(ct!==void 0?ct:Vr.x,Pt!==void 0?Pt:Vr.y))),this._unmodified=qt,this._constraining=!1}},Yn.prototype._calcMatrices=function(){if(this.height){var J=this._fov/2,de=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(J)*this.height;var te=Math.PI/2+this._pitch,ge=this._fov*(.5+de.y/this.height),ze=Math.sin(ge)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-te-ge,.01,Math.PI-.01)),Ke=this.point,ct=Ke.x,Pt=Ke.y,Yt=Math.cos(Math.PI/2-this._pitch)*ze+this.cameraToCenterDistance,qt=Yt*1.01,vr=this.height/50,fr=new Float64Array(16);n.perspective(fr,this._fov,this.width/this.height,vr,qt),fr[8]=-de.x*2/this.width,fr[9]=de.y*2/this.height,n.scale(fr,fr,[1,-1,1]),n.translate(fr,fr,[0,0,-this.cameraToCenterDistance]),n.rotateX(fr,fr,this._pitch),n.rotateZ(fr,fr,this.angle),n.translate(fr,fr,[-ct,-Pt,0]),this.mercatorMatrix=n.scale([],fr,[this.worldSize,this.worldSize,this.worldSize]),n.scale(fr,fr,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=fr,this.invProjMatrix=n.invert([],this.projMatrix);var Vr=this.width%2/2,en=this.height%2/2,qr=Math.cos(this.angle),Jr=Math.sin(this.angle),an=ct-Math.round(ct)+qr*Vr+Jr*en,xn=Pt-Math.round(Pt)+qr*en+Jr*Vr,Hn=new Float64Array(fr);if(n.translate(Hn,Hn,[an>.5?an-1:an,xn>.5?xn-1:xn,0]),this.alignedProjMatrix=Hn,fr=n.create(),n.scale(fr,fr,[this.width/2,-this.height/2,1]),n.translate(fr,fr,[1,-1,0]),this.labelPlaneMatrix=fr,fr=n.create(),n.scale(fr,fr,[1,-1,1]),n.translate(fr,fr,[-1,-1,0]),n.scale(fr,fr,[2/this.width,2/this.height,1]),this.glCoordMatrix=fr,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),fr=n.invert(new Float64Array(16),this.pixelMatrix),!fr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=fr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Yn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var J=this.pointCoordinate(new n.Point(0,0)),de=[J.x*this.worldSize,J.y*this.worldSize,0,1],te=n.transformMat4(de,de,this.pixelMatrix);return te[3]/this.cameraToCenterDistance},Yn.prototype.getCameraPoint=function(){var J=this._pitch,de=Math.tan(J)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,de))},Yn.prototype.getCameraQueryGeometry=function(J){var de=this.getCameraPoint();if(J.length===1)return[J[0],de];for(var te=de.x,ge=de.y,ze=de.x,Ke=de.y,ct=0,Pt=J;ct<Pt.length;ct+=1){var Yt=Pt[ct];te=Math.min(te,Yt.x),ge=Math.min(ge,Yt.y),ze=Math.max(ze,Yt.x),Ke=Math.max(Ke,Yt.y)}return[new n.Point(te,ge),new n.Point(ze,ge),new n.Point(ze,Ke),new n.Point(te,Ke),new n.Point(te,ge)]},Object.defineProperties(Yn.prototype,ia);function Ka(ve,J){var de=!1,te=null,ge=function(){te=null,de&&(ve(),te=setTimeout(ge,J),de=!1)};return function(){return de=!0,te||ge(),te}}var Xa=function(J){this._hashName=J&&encodeURIComponent(J),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ka(this._updateHashUnthrottled.bind(this),30*1e3/100)};Xa.prototype.addTo=function(J){return this._map=J,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Xa.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Xa.prototype.getHashString=function(J){var de=this._map.getCenter(),te=Math.round(this._map.getZoom()*100)/100,ge=Math.ceil((te*Math.LN2+Math.log(512/360/.5))/Math.LN10),ze=Math.pow(10,ge),Ke=Math.round(de.lng*ze)/ze,ct=Math.round(de.lat*ze)/ze,Pt=this._map.getBearing(),Yt=this._map.getPitch(),qt="";if(J?qt+="/"+Ke+"/"+ct+"/"+te:qt+=te+"/"+ct+"/"+Ke,(Pt||Yt)&&(qt+="/"+Math.round(Pt*10)/10),Yt&&(qt+="/"+Math.round(Yt)),this._hashName){var vr=this._hashName,fr=!1,Vr=n.window.location.hash.slice(1).split("&").map(function(en){var qr=en.split("=")[0];return qr===vr?(fr=!0,qr+"="+qt):en}).filter(function(en){return en});return fr||Vr.push(vr+"="+qt),"#"+Vr.join("&")}return"#"+qt},Xa.prototype._getCurrentHash=function(){var J=this,de=n.window.location.hash.replace("#","");if(this._hashName){var te;return de.split("&").map(function(ge){return ge.split("=")}).forEach(function(ge){ge[0]===J._hashName&&(te=ge)}),(te&&te[1]||"").split("/")}return de.split("/")},Xa.prototype._onHashChange=function(){var J=this._getCurrentHash();if(J.length>=3&&!J.some(function(te){return isNaN(te)})){var de=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(J[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+J[2],+J[1]],zoom:+J[0],bearing:de,pitch:+(J[4]||0)}),!0}return!1},Xa.prototype._updateHashUnthrottled=function(){var J=n.window.location.href.replace(/(#.+)?$/,this.getHashString());try{n.window.history.replaceState(n.window.history.state,null,J)}catch{}};var Qa={linearity:.3,easing:n.bezier(0,0,.3,1)},ni=n.extend({deceleration:2500,maxSpeed:1400},Qa),mi=n.extend({deceleration:20,maxSpeed:1400},Qa),Vi=n.extend({deceleration:1e3,maxSpeed:360},Qa),Eo=n.extend({deceleration:1e3,maxSpeed:90},Qa),he=function(J){this._map=J,this.clear()};he.prototype.clear=function(){this._inertiaBuffer=[]},he.prototype.record=function(J){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:J})},he.prototype._drainInertiaBuffer=function(){for(var J=this._inertiaBuffer,de=n.browser.now(),te=160;J.length>0&&de-J[0].time>te;)J.shift()},he.prototype._onMoveEnd=function(J){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var de={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},te=0,ge=this._inertiaBuffer;te<ge.length;te+=1){var ze=ge[te],Ke=ze.settings;de.zoom+=Ke.zoomDelta||0,de.bearing+=Ke.bearingDelta||0,de.pitch+=Ke.pitchDelta||0,Ke.panDelta&&de.pan._add(Ke.panDelta),Ke.around&&(de.around=Ke.around),Ke.pinchAround&&(de.pinchAround=Ke.pinchAround)}var ct=this._inertiaBuffer[this._inertiaBuffer.length-1],Pt=ct.time-this._inertiaBuffer[0].time,Yt={};if(de.pan.mag()){var qt=Ne(de.pan.mag(),Pt,n.extend({},ni,J||{}));Yt.offset=de.pan.mult(qt.amount/de.pan.mag()),Yt.center=this._map.transform.center,Pe(Yt,qt)}if(de.zoom){var vr=Ne(de.zoom,Pt,mi);Yt.zoom=this._map.transform.zoom+vr.amount,Pe(Yt,vr)}if(de.bearing){var fr=Ne(de.bearing,Pt,Vi);Yt.bearing=this._map.transform.bearing+n.clamp(fr.amount,-179,179),Pe(Yt,fr)}if(de.pitch){var Vr=Ne(de.pitch,Pt,Eo);Yt.pitch=this._map.transform.pitch+Vr.amount,Pe(Yt,Vr)}if(Yt.zoom||Yt.bearing){var en=de.pinchAround===void 0?de.around:de.pinchAround;Yt.around=en?this._map.unproject(en):this._map.getCenter()}return this.clear(),n.extend(Yt,{noMoveStart:!0})}};function Pe(ve,J){(!ve.duration||ve.duration<J.duration)&&(ve.duration=J.duration,ve.easing=J.easing)}function Ne(ve,J,de){var te=de.maxSpeed,ge=de.linearity,ze=de.deceleration,Ke=n.clamp(ve*ge/(J/1e3),-te,te),ct=Math.abs(Ke)/(ze*ge);return{easing:de.easing,duration:ct*1e3,amount:Ke*(ct/2)}}var qe=function(ve){function J(te,ge,ze,Ke){Ke===void 0&&(Ke={});var ct=T.mousePos(ge.getCanvasContainer(),ze),Pt=ge.unproject(ct);ve.call(this,te,n.extend({point:ct,lngLat:Pt,originalEvent:ze},Ke)),this._defaultPrevented=!1,this.target=ge}ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J;var de={defaultPrevented:{configurable:!0}};return J.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(J.prototype,de),J}(n.Event),ot=function(ve){function J(te,ge,ze){var Ke=te==="touchend"?ze.changedTouches:ze.touches,ct=T.touchPos(ge.getCanvasContainer(),Ke),Pt=ct.map(function(vr){return ge.unproject(vr)}),Yt=ct.reduce(function(vr,fr,Vr,en){return vr.add(fr.div(en.length))},new n.Point(0,0)),qt=ge.unproject(Yt);ve.call(this,te,{points:ct,point:Yt,lngLats:Pt,lngLat:qt,originalEvent:ze}),this._defaultPrevented=!1}ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J;var de={defaultPrevented:{configurable:!0}};return J.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(J.prototype,de),J}(n.Event),ft=function(ve){function J(te,ge,ze){ve.call(this,te,{originalEvent:ze}),this._defaultPrevented=!1}ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J;var de={defaultPrevented:{configurable:!0}};return J.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(J.prototype,de),J}(n.Event),Rt=function(J,de){this._map=J,this._clickTolerance=de.clickTolerance};Rt.prototype.reset=function(){delete this._mousedownPos},Rt.prototype.wheel=function(J){return this._firePreventable(new ft(J.type,this._map,J))},Rt.prototype.mousedown=function(J,de){return this._mousedownPos=de,this._firePreventable(new qe(J.type,this._map,J))},Rt.prototype.mouseup=function(J){this._map.fire(new qe(J.type,this._map,J))},Rt.prototype.click=function(J,de){this._mousedownPos&&this._mousedownPos.dist(de)>=this._clickTolerance||this._map.fire(new qe(J.type,this._map,J))},Rt.prototype.dblclick=function(J){return this._firePreventable(new qe(J.type,this._map,J))},Rt.prototype.mouseover=function(J){this._map.fire(new qe(J.type,this._map,J))},Rt.prototype.mouseout=function(J){this._map.fire(new qe(J.type,this._map,J))},Rt.prototype.touchstart=function(J){return this._firePreventable(new ot(J.type,this._map,J))},Rt.prototype.touchmove=function(J){this._map.fire(new ot(J.type,this._map,J))},Rt.prototype.touchend=function(J){this._map.fire(new ot(J.type,this._map,J))},Rt.prototype.touchcancel=function(J){this._map.fire(new ot(J.type,this._map,J))},Rt.prototype._firePreventable=function(J){if(this._map.fire(J),J.defaultPrevented)return{}},Rt.prototype.isEnabled=function(){return!0},Rt.prototype.isActive=function(){return!1},Rt.prototype.enable=function(){},Rt.prototype.disable=function(){};var Et=function(J){this._map=J};Et.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Et.prototype.mousemove=function(J){this._map.fire(new qe(J.type,this._map,J))},Et.prototype.mousedown=function(){this._delayContextMenu=!0},Et.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new qe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Et.prototype.contextmenu=function(J){this._delayContextMenu?this._contextMenuEvent=J:this._map.fire(new qe(J.type,this._map,J)),this._map.listens("contextmenu")&&J.preventDefault()},Et.prototype.isEnabled=function(){return!0},Et.prototype.isActive=function(){return!1},Et.prototype.enable=function(){},Et.prototype.disable=function(){};var Xt=function(J,de){this._map=J,this._el=J.getCanvasContainer(),this._container=J.getContainer(),this._clickTolerance=de.clickTolerance||1};Xt.prototype.isEnabled=function(){return!!this._enabled},Xt.prototype.isActive=function(){return!!this._active},Xt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Xt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Xt.prototype.mousedown=function(J,de){this.isEnabled()&&J.shiftKey&&J.button===0&&(T.disableDrag(),this._startPos=this._lastPos=de,this._active=!0)},Xt.prototype.mousemoveWindow=function(J,de){if(this._active){var te=de;if(!(this._lastPos.equals(te)||!this._box&&te.dist(this._startPos)<this._clickTolerance)){var ge=this._startPos;this._lastPos=te,this._box||(this._box=T.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",J));var ze=Math.min(ge.x,te.x),Ke=Math.max(ge.x,te.x),ct=Math.min(ge.y,te.y),Pt=Math.max(ge.y,te.y);T.setTransform(this._box,"translate("+ze+"px,"+ct+"px)"),this._box.style.width=Ke-ze+"px",this._box.style.height=Pt-ct+"px"}}},Xt.prototype.mouseupWindow=function(J,de){var te=this;if(this._active&&J.button===0){var ge=this._startPos,ze=de;if(this.reset(),T.suppressClick(),ge.x===ze.x&&ge.y===ze.y)this._fireEvent("boxzoomcancel",J);else return this._map.fire(new n.Event("boxzoomend",{originalEvent:J})),{cameraAnimation:function(Ke){return Ke.fitScreenCoordinates(ge,ze,te._map.getBearing(),{linear:!0})}}}},Xt.prototype.keydown=function(J){this._active&&J.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",J))},Xt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos},Xt.prototype._fireEvent=function(J,de){return this._map.fire(new n.Event(J,{originalEvent:de}))};function Zt(ve,J){for(var de={},te=0;te<ve.length;te++)de[ve[te].identifier]=J[te];return de}function ir(ve){for(var J=new n.Point(0,0),de=0,te=ve;de<te.length;de+=1){var ge=te[de];J._add(ge)}return J.div(ve.length)}var Ir=500,kr=500,sn=30,dn=function(J){this.reset(),this.numTouches=J.numTouches};dn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},dn.prototype.touchstart=function(J,de,te){(this.centroid||te.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=J.timeStamp),te.length===this.numTouches&&(this.centroid=ir(de),this.touches=Zt(te,de)))},dn.prototype.touchmove=function(J,de,te){if(!(this.aborted||!this.centroid)){var ge=Zt(te,de);for(var ze in this.touches){var Ke=this.touches[ze],ct=ge[ze];(!ct||ct.dist(Ke)>sn)&&(this.aborted=!0)}}},dn.prototype.touchend=function(J,de,te){if((!this.centroid||J.timeStamp-this.startTime>kr)&&(this.aborted=!0),te.length===0){var ge=!this.aborted&&this.centroid;if(this.reset(),ge)return ge}};var Br=function(J){this.singleTap=new dn(J),this.numTaps=J.numTaps,this.reset()};Br.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Br.prototype.touchstart=function(J,de,te){this.singleTap.touchstart(J,de,te)},Br.prototype.touchmove=function(J,de,te){this.singleTap.touchmove(J,de,te)},Br.prototype.touchend=function(J,de,te){var ge=this.singleTap.touchend(J,de,te);if(ge){var ze=J.timeStamp-this.lastTime<Ir,Ke=!this.lastTap||this.lastTap.dist(ge)<sn;if((!ze||!Ke)&&this.reset(),this.count++,this.lastTime=J.timeStamp,this.lastTap=ge,this.count===this.numTaps)return this.reset(),ge}};var Wr=function(){this._zoomIn=new Br({numTouches:1,numTaps:2}),this._zoomOut=new Br({numTouches:2,numTaps:1}),this.reset()};Wr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Wr.prototype.touchstart=function(J,de,te){this._zoomIn.touchstart(J,de,te),this._zoomOut.touchstart(J,de,te)},Wr.prototype.touchmove=function(J,de,te){this._zoomIn.touchmove(J,de,te),this._zoomOut.touchmove(J,de,te)},Wr.prototype.touchend=function(J,de,te){var ge=this,ze=this._zoomIn.touchend(J,de,te),Ke=this._zoomOut.touchend(J,de,te);if(ze)return this._active=!0,J.preventDefault(),setTimeout(function(){return ge.reset()},0),{cameraAnimation:function(ct){return ct.easeTo({duration:300,zoom:ct.getZoom()+1,around:ct.unproject(ze)},{originalEvent:J})}};if(Ke)return this._active=!0,J.preventDefault(),setTimeout(function(){return ge.reset()},0),{cameraAnimation:function(ct){return ct.easeTo({duration:300,zoom:ct.getZoom()-1,around:ct.unproject(Ke)},{originalEvent:J})}}},Wr.prototype.touchcancel=function(){this.reset()},Wr.prototype.enable=function(){this._enabled=!0},Wr.prototype.disable=function(){this._enabled=!1,this.reset()},Wr.prototype.isEnabled=function(){return this._enabled},Wr.prototype.isActive=function(){return this._active};var nn=0,gn=2,Tn={};Tn[nn]=1,Tn[gn]=2;function un(ve,J){var de=Tn[J];return ve.buttons===void 0||(ve.buttons&de)!==de}var Rn=function(J){this.reset(),this._clickTolerance=J.clickTolerance||1};Rn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Rn.prototype._correctButton=function(J,de){return!1},Rn.prototype._move=function(J,de){return{}},Rn.prototype.mousedown=function(J,de){if(!this._lastPoint){var te=T.mouseButton(J);this._correctButton(J,te)&&(this._lastPoint=de,this._eventButton=te)}},Rn.prototype.mousemoveWindow=function(J,de){var te=this._lastPoint;if(te){if(J.preventDefault(),un(J,this._eventButton)){this.reset();return}if(!(!this._moved&&de.dist(te)<this._clickTolerance))return this._moved=!0,this._lastPoint=de,this._move(te,de)}},Rn.prototype.mouseupWindow=function(J){if(this._lastPoint){var de=T.mouseButton(J);de===this._eventButton&&(this._moved&&T.suppressClick(),this.reset())}},Rn.prototype.enable=function(){this._enabled=!0},Rn.prototype.disable=function(){this._enabled=!1,this.reset()},Rn.prototype.isEnabled=function(){return this._enabled},Rn.prototype.isActive=function(){return this._active};var ha=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.mousedown=function(te,ge){ve.prototype.mousedown.call(this,te,ge),this._lastPoint&&(this._active=!0)},J.prototype._correctButton=function(te,ge){return ge===nn&&!te.ctrlKey},J.prototype._move=function(te,ge){return{around:ge,panDelta:ge.sub(te)}},J}(Rn),Sa=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype._correctButton=function(te,ge){return ge===nn&&te.ctrlKey||ge===gn},J.prototype._move=function(te,ge){var ze=.8,Ke=(ge.x-te.x)*ze;if(Ke)return this._active=!0,{bearingDelta:Ke}},J.prototype.contextmenu=function(te){te.preventDefault()},J}(Rn),la=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype._correctButton=function(te,ge){return ge===nn&&te.ctrlKey||ge===gn},J.prototype._move=function(te,ge){var ze=-.5,Ke=(ge.y-te.y)*ze;if(Ke)return this._active=!0,{pitchDelta:Ke}},J.prototype.contextmenu=function(te){te.preventDefault()},J}(Rn),Ta=function(J){this._minTouches=1,this._clickTolerance=J.clickTolerance||1,this.reset()};Ta.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},Ta.prototype.touchstart=function(J,de,te){return this._calculateTransform(J,de,te)},Ta.prototype.touchmove=function(J,de,te){if(!(!this._active||te.length<this._minTouches))return J.preventDefault(),this._calculateTransform(J,de,te)},Ta.prototype.touchend=function(J,de,te){this._calculateTransform(J,de,te),this._active&&te.length<this._minTouches&&this.reset()},Ta.prototype.touchcancel=function(){this.reset()},Ta.prototype._calculateTransform=function(J,de,te){te.length>0&&(this._active=!0);var ge=Zt(te,de),ze=new n.Point(0,0),Ke=new n.Point(0,0),ct=0;for(var Pt in ge){var Yt=ge[Pt],qt=this._touches[Pt];qt&&(ze._add(Yt),Ke._add(Yt.sub(qt)),ct++,ge[Pt]=Yt)}if(this._touches=ge,!(ct<this._minTouches||!Ke.mag())){var vr=Ke.div(ct);if(this._sum._add(vr),!(this._sum.mag()<this._clickTolerance)){var fr=ze.div(ct);return{around:fr,panDelta:vr}}}},Ta.prototype.enable=function(){this._enabled=!0},Ta.prototype.disable=function(){this._enabled=!1,this.reset()},Ta.prototype.isEnabled=function(){return this._enabled},Ta.prototype.isActive=function(){return this._active};var Ea=function(){this.reset()};Ea.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Ea.prototype._start=function(J){},Ea.prototype._move=function(J,de,te){return{}},Ea.prototype.touchstart=function(J,de,te){this._firstTwoTouches||te.length<2||(this._firstTwoTouches=[te[0].identifier,te[1].identifier],this._start([de[0],de[1]]))},Ea.prototype.touchmove=function(J,de,te){if(this._firstTwoTouches){J.preventDefault();var ge=this._firstTwoTouches,ze=ge[0],Ke=ge[1],ct=ai(te,de,ze),Pt=ai(te,de,Ke);if(!(!ct||!Pt)){var Yt=this._aroundCenter?null:ct.add(Pt).div(2);return this._move([ct,Pt],Yt,J)}}},Ea.prototype.touchend=function(J,de,te){if(this._firstTwoTouches){var ge=this._firstTwoTouches,ze=ge[0],Ke=ge[1],ct=ai(te,de,ze),Pt=ai(te,de,Ke);ct&&Pt||(this._active&&T.suppressClick(),this.reset())}},Ea.prototype.touchcancel=function(){this.reset()},Ea.prototype.enable=function(J){this._enabled=!0,this._aroundCenter=!!J&&J.around==="center"},Ea.prototype.disable=function(){this._enabled=!1,this.reset()},Ea.prototype.isEnabled=function(){return this._enabled},Ea.prototype.isActive=function(){return this._active};function ai(ve,J,de){for(var te=0;te<ve.length;te++)if(ve[te].identifier===de)return J[te]}var ka=.1;function ti(ve,J){return Math.log(ve/J)/Math.LN2}var Ai=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},J.prototype._start=function(te){this._startDistance=this._distance=te[0].dist(te[1])},J.prototype._move=function(te,ge){var ze=this._distance;if(this._distance=te[0].dist(te[1]),!(!this._active&&Math.abs(ti(this._distance,this._startDistance))<ka))return this._active=!0,{zoomDelta:ti(this._distance,ze),pinchAround:ge}},J}(Ea),wo=25;function Ii(ve,J){return ve.angleWith(J)*180/Math.PI}var ua=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},J.prototype._start=function(te){this._startVector=this._vector=te[0].sub(te[1]),this._minDiameter=te[0].dist(te[1])},J.prototype._move=function(te,ge){var ze=this._vector;if(this._vector=te[0].sub(te[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ii(this._vector,ze),pinchAround:ge}},J.prototype._isBelowThreshold=function(te){this._minDiameter=Math.min(this._minDiameter,te.mag());var ge=Math.PI*this._minDiameter,ze=wo/ge*360,Ke=Ii(te,this._startVector);return Math.abs(Ke)<ze},J}(Ea);function Ja(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var Fa=100,xi=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},J.prototype._start=function(te){this._lastPoints=te,Ja(te[0].sub(te[1]))&&(this._valid=!1)},J.prototype._move=function(te,ge,ze){var Ke=te[0].sub(this._lastPoints[0]),ct=te[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ke,ct,ze.timeStamp),!!this._valid){this._lastPoints=te,this._active=!0;var Pt=(Ke.y+ct.y)/2,Yt=-.5;return{pitchDelta:Pt*Yt}}},J.prototype.gestureBeginsVertically=function(te,ge,ze){if(this._valid!==void 0)return this._valid;var Ke=2,ct=te.mag()>=Ke,Pt=ge.mag()>=Ke;if(!(!ct&&!Pt)){if(!ct||!Pt)return this._firstMove===void 0&&(this._firstMove=ze),ze-this._firstMove<Fa?void 0:!1;var Yt=te.y>0==ge.y>0;return Ja(te)&&Ja(ge)&&Yt}},J}(Ea),to={panStep:100,bearingStep:15,pitchStep:10},Mi=function(){var J=to;this._panStep=J.panStep,this._bearingStep=J.bearingStep,this._pitchStep=J.pitchStep,this._rotationDisabled=!1};Mi.prototype.reset=function(){this._active=!1},Mi.prototype.keydown=function(J){var de=this;if(!(J.altKey||J.ctrlKey||J.metaKey)){var te=0,ge=0,ze=0,Ke=0,ct=0;switch(J.keyCode){case 61:case 107:case 171:case 187:te=1;break;case 189:case 109:case 173:te=-1;break;case 37:J.shiftKey?ge=-1:(J.preventDefault(),Ke=-1);break;case 39:J.shiftKey?ge=1:(J.preventDefault(),Ke=1);break;case 38:J.shiftKey?ze=1:(J.preventDefault(),ct=-1);break;case 40:J.shiftKey?ze=-1:(J.preventDefault(),ct=1);break;default:return}return this._rotationDisabled&&(ge=0,ze=0),{cameraAnimation:function(Pt){var Yt=Pt.getZoom();Pt.easeTo({duration:300,easeId:"keyboardHandler",easing:zo,zoom:te?Math.round(Yt)+te*(J.shiftKey?2:1):Yt,bearing:Pt.getBearing()+ge*de._bearingStep,pitch:Pt.getPitch()+ze*de._pitchStep,offset:[-Ke*de._panStep,-ct*de._panStep],center:Pt.getCenter()},{originalEvent:J})}}}},Mi.prototype.enable=function(){this._enabled=!0},Mi.prototype.disable=function(){this._enabled=!1,this.reset()},Mi.prototype.isEnabled=function(){return this._enabled},Mi.prototype.isActive=function(){return this._active},Mi.prototype.disableRotation=function(){this._rotationDisabled=!0},Mi.prototype.enableRotation=function(){this._rotationDisabled=!1};function zo(ve){return ve*(2-ve)}var Do=4.000244140625,Go=1/100,qi=1/450,Wo=2,ga=function(J,de){this._map=J,this._el=J.getCanvasContainer(),this._handler=de,this._delta=0,this._defaultZoomRate=Go,this._wheelZoomRate=qi,n.bindAll(["_onTimeout"],this)};ga.prototype.setZoomRate=function(J){this._defaultZoomRate=J},ga.prototype.setWheelZoomRate=function(J){this._wheelZoomRate=J},ga.prototype.isEnabled=function(){return!!this._enabled},ga.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ga.prototype.isZooming=function(){return!!this._zooming},ga.prototype.enable=function(J){this.isEnabled()||(this._enabled=!0,this._aroundCenter=J&&J.around==="center")},ga.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ga.prototype.wheel=function(J){if(this.isEnabled()){var de=J.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?J.deltaY*40:J.deltaY,te=n.browser.now(),ge=te-(this._lastWheelEventTime||0);this._lastWheelEventTime=te,de!==0&&de%Do===0?this._type="wheel":de!==0&&Math.abs(de)<4?this._type="trackpad":ge>400?(this._type=null,this._lastValue=de,this._timeout=setTimeout(this._onTimeout,40,J)):this._type||(this._type=Math.abs(ge*de)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,de+=this._lastValue)),J.shiftKey&&de&&(de=de/4),this._type&&(this._lastWheelEvent=J,this._delta-=de,this._active||this._start(J)),J.preventDefault()}},ga.prototype._onTimeout=function(J){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(J)},ga.prototype._start=function(J){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var de=T.mousePos(this._el,J);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(de)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ga.prototype.renderFrame=function(){var J=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var de=this._map.transform;if(this._delta!==0){var te=this._type==="wheel"&&Math.abs(this._delta)>Do?this._wheelZoomRate:this._defaultZoomRate,ge=Wo/(1+Math.exp(-Math.abs(this._delta*te)));this._delta<0&&ge!==0&&(ge=1/ge);var ze=typeof this._targetZoom=="number"?de.zoomScale(this._targetZoom):de.scale;this._targetZoom=Math.min(de.maxZoom,Math.max(de.minZoom,de.scaleZoom(ze*ge))),this._type==="wheel"&&(this._startZoom=de.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ke=typeof this._targetZoom=="number"?this._targetZoom:de.zoom,ct=this._startZoom,Pt=this._easing,Yt=!1,qt;if(this._type==="wheel"&&ct&&Pt){var vr=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),fr=Pt(vr);qt=n.number(ct,Ke,fr),vr<1?this._frameId||(this._frameId=!0):Yt=!0}else qt=Ke,Yt=!0;return this._active=!0,Yt&&(this._active=!1,this._finishTimeout=setTimeout(function(){J._zooming=!1,J._handler._triggerRenderFrame(),delete J._targetZoom,delete J._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Yt,zoomDelta:qt-de.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ga.prototype._smoothOutEasing=function(J){var de=n.ease;if(this._prevEase){var te=this._prevEase,ge=(n.browser.now()-te.start)/te.duration,ze=te.easing(ge+.01)-te.easing(ge),Ke=.27/Math.sqrt(ze*ze+1e-4)*.01,ct=Math.sqrt(.27*.27-Ke*Ke);de=n.bezier(Ke,ct,.25,1)}return this._prevEase={start:n.browser.now(),duration:J,easing:de},de},ga.prototype.reset=function(){this._active=!1};var Wa=function(J,de){this._clickZoom=J,this._tapZoom=de};Wa.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Wa.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Wa.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Wa.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var _o=function(){this.reset()};_o.prototype.reset=function(){this._active=!1},_o.prototype.dblclick=function(J,de){return J.preventDefault(),{cameraAnimation:function(te){te.easeTo({duration:300,zoom:te.getZoom()+(J.shiftKey?-1:1),around:te.unproject(de)},{originalEvent:J})}}},_o.prototype.enable=function(){this._enabled=!0},_o.prototype.disable=function(){this._enabled=!1,this.reset()},_o.prototype.isEnabled=function(){return this._enabled},_o.prototype.isActive=function(){return this._active};var Ss=function(){this._tap=new Br({numTouches:1,numTaps:1}),this.reset()};Ss.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ss.prototype.touchstart=function(J,de,te){this._swipePoint||(this._tapTime&&J.timeStamp-this._tapTime>Ir&&this.reset(),this._tapTime?te.length>0&&(this._swipePoint=de[0],this._swipeTouch=te[0].identifier):this._tap.touchstart(J,de,te))},Ss.prototype.touchmove=function(J,de,te){if(!this._tapTime)this._tap.touchmove(J,de,te);else if(this._swipePoint){if(te[0].identifier!==this._swipeTouch)return;var ge=de[0],ze=ge.y-this._swipePoint.y;return this._swipePoint=ge,J.preventDefault(),this._active=!0,{zoomDelta:ze/128}}},Ss.prototype.touchend=function(J,de,te){if(this._tapTime)this._swipePoint&&te.length===0&&this.reset();else{var ge=this._tap.touchend(J,de,te);ge&&(this._tapTime=J.timeStamp)}},Ss.prototype.touchcancel=function(){this.reset()},Ss.prototype.enable=function(){this._enabled=!0},Ss.prototype.disable=function(){this._enabled=!1,this.reset()},Ss.prototype.isEnabled=function(){return this._enabled},Ss.prototype.isActive=function(){return this._active};var Yo=function(J,de,te){this._el=J,this._mousePan=de,this._touchPan=te};Yo.prototype.enable=function(J){this._inertiaOptions=J||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Yo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Yo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Yo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ki=function(J,de,te){this._pitchWithRotate=J.pitchWithRotate,this._mouseRotate=de,this._mousePitch=te};ki.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ki.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ki.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ki.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Fo=function(J,de,te,ge){this._el=J,this._touchZoom=de,this._touchRotate=te,this._tapDragZoom=ge,this._rotationDisabled=!1,this._enabled=!0};Fo.prototype.enable=function(J){this._touchZoom.enable(J),this._rotationDisabled||this._touchRotate.enable(J),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Fo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Fo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Fo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Fo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Fo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Io=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},dl=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J}(n.Event);function pl(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var uo=function(J,de){this._map=J,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new he(J),this._bearingSnap=de.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(de),n.bindAll(["handleEvent","handleWindowEvent"],this);var te=this._el;this._listeners=[[te,"touchstart",{passive:!0}],[te,"touchmove",{passive:!1}],[te,"touchend",void 0],[te,"touchcancel",void 0],[te,"mousedown",void 0],[te,"mousemove",void 0],[te,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[te,"mouseover",void 0],[te,"mouseout",void 0],[te,"dblclick",void 0],[te,"click",void 0],[te,"keydown",{capture:!1}],[te,"keyup",void 0],[te,"wheel",{passive:!1}],[te,"contextmenu",void 0],[n.window,"blur",void 0]];for(var ge=0,ze=this._listeners;ge<ze.length;ge+=1){var Ke=ze[ge],ct=Ke[0],Pt=Ke[1],Yt=Ke[2];T.addEventListener(ct,Pt,ct===n.window.document?this.handleWindowEvent:this.handleEvent,Yt)}};uo.prototype.destroy=function(){for(var J=0,de=this._listeners;J<de.length;J+=1){var te=de[J],ge=te[0],ze=te[1],Ke=te[2];T.removeEventListener(ge,ze,ge===n.window.document?this.handleWindowEvent:this.handleEvent,Ke)}},uo.prototype._addDefaultHandlers=function(J){var de=this._map,te=de.getCanvasContainer();this._add("mapEvent",new Rt(de,J));var ge=de.boxZoom=new Xt(de,J);this._add("boxZoom",ge);var ze=new Wr,Ke=new _o;de.doubleClickZoom=new Wa(Ke,ze),this._add("tapZoom",ze),this._add("clickZoom",Ke);var ct=new Ss;this._add("tapDragZoom",ct);var Pt=de.touchPitch=new xi;this._add("touchPitch",Pt);var Yt=new Sa(J),qt=new la(J);de.dragRotate=new ki(J,Yt,qt),this._add("mouseRotate",Yt,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var vr=new ha(J),fr=new Ta(J);de.dragPan=new Yo(te,vr,fr),this._add("mousePan",vr),this._add("touchPan",fr,["touchZoom","touchRotate"]);var Vr=new ua,en=new Ai;de.touchZoomRotate=new Fo(te,en,Vr,ct),this._add("touchRotate",Vr,["touchPan","touchZoom"]),this._add("touchZoom",en,["touchPan","touchRotate"]);var qr=de.scrollZoom=new ga(de,this);this._add("scrollZoom",qr,["mousePan"]);var Jr=de.keyboard=new Mi;this._add("keyboard",Jr),this._add("blockableMapEvent",new Et(de));for(var an=0,xn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];an<xn.length;an+=1){var Hn=xn[an];J.interactive&&J[Hn]&&de[Hn].enable(J[Hn])}},uo.prototype._add=function(J,de,te){this._handlers.push({handlerName:J,handler:de,allowed:te}),this._handlersById[J]=de},uo.prototype.stop=function(J){if(!this._updatingCamera){for(var de=0,te=this._handlers;de<te.length;de+=1){var ge=te[de],ze=ge.handler;ze.reset()}this._inertia.clear(),this._fireEvents({},{},J),this._changes=[]}},uo.prototype.isActive=function(){for(var J=0,de=this._handlers;J<de.length;J+=1){var te=de[J],ge=te.handler;if(ge.isActive())return!0}return!1},uo.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},uo.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},uo.prototype.isMoving=function(){return!!Io(this._eventsInProgress)||this.isZooming()},uo.prototype._blockedByActive=function(J,de,te){for(var ge in J)if(ge!==te&&(!de||de.indexOf(ge)<0))return!0;return!1},uo.prototype.handleWindowEvent=function(J){this.handleEvent(J,J.type+"Window")},uo.prototype._getMapTouches=function(J){for(var de=[],te=0,ge=J;te<ge.length;te+=1){var ze=ge[te],Ke=ze.target;this._el.contains(Ke)&&de.push(ze)}return de},uo.prototype.handleEvent=function(J,de){if(J.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var te=J.type==="renderFrame"?void 0:J,ge={needsRenderFrame:!1},ze={},Ke={},ct=J.touches?this._getMapTouches(J.touches):void 0,Pt=ct?T.touchPos(this._el,ct):T.mousePos(this._el,J),Yt=0,qt=this._handlers;Yt<qt.length;Yt+=1){var vr=qt[Yt],fr=vr.handlerName,Vr=vr.handler,en=vr.allowed;if(Vr.isEnabled()){var qr=void 0;this._blockedByActive(Ke,en,fr)?Vr.reset():Vr[de||J.type]&&(qr=Vr[de||J.type](J,Pt,ct),this.mergeHandlerResult(ge,ze,qr,fr,te),qr&&qr.needsRenderFrame&&this._triggerRenderFrame()),(qr||Vr.isActive())&&(Ke[fr]=Vr)}}var Jr={};for(var an in this._previousActiveHandlers)Ke[an]||(Jr[an]=te);this._previousActiveHandlers=Ke,(Object.keys(Jr).length||pl(ge))&&(this._changes.push([ge,ze,Jr]),this._triggerRenderFrame()),(Object.keys(Ke).length||pl(ge))&&this._map._stop(!0),this._updatingCamera=!1;var xn=ge.cameraAnimation;xn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],xn(this._map))},uo.prototype.mergeHandlerResult=function(J,de,te,ge,ze){if(te){n.extend(J,te);var Ke={handlerName:ge,originalEvent:te.originalEvent||ze};te.zoomDelta!==void 0&&(de.zoom=Ke),te.panDelta!==void 0&&(de.drag=Ke),te.pitchDelta!==void 0&&(de.pitch=Ke),te.bearingDelta!==void 0&&(de.rotate=Ke)}},uo.prototype._applyChanges=function(){for(var J={},de={},te={},ge=0,ze=this._changes;ge<ze.length;ge+=1){var Ke=ze[ge],ct=Ke[0],Pt=Ke[1],Yt=Ke[2];ct.panDelta&&(J.panDelta=(J.panDelta||new n.Point(0,0))._add(ct.panDelta)),ct.zoomDelta&&(J.zoomDelta=(J.zoomDelta||0)+ct.zoomDelta),ct.bearingDelta&&(J.bearingDelta=(J.bearingDelta||0)+ct.bearingDelta),ct.pitchDelta&&(J.pitchDelta=(J.pitchDelta||0)+ct.pitchDelta),ct.around!==void 0&&(J.around=ct.around),ct.pinchAround!==void 0&&(J.pinchAround=ct.pinchAround),ct.noInertia&&(J.noInertia=ct.noInertia),n.extend(de,Pt),n.extend(te,Yt)}this._updateMapTransform(J,de,te),this._changes=[]},uo.prototype._updateMapTransform=function(J,de,te){var ge=this._map,ze=ge.transform;if(!pl(J))return this._fireEvents(de,te,!0);var Ke=J.panDelta,ct=J.zoomDelta,Pt=J.bearingDelta,Yt=J.pitchDelta,qt=J.around,vr=J.pinchAround;vr!==void 0&&(qt=vr),ge._stop(!0),qt=qt||ge.transform.centerPoint;var fr=ze.pointLocation(Ke?qt.sub(Ke):qt);Pt&&(ze.bearing+=Pt),Yt&&(ze.pitch+=Yt),ct&&(ze.zoom+=ct),ze.setLocationAtPoint(fr,qt),this._map._update(),J.noInertia||this._inertia.record(J),this._fireEvents(de,te,!0)},uo.prototype._fireEvents=function(J,de,te){var ge=this,ze=Io(this._eventsInProgress),Ke=Io(J),ct={};for(var Pt in J){var Yt=J[Pt],qt=Yt.originalEvent;this._eventsInProgress[Pt]||(ct[Pt+"start"]=qt),this._eventsInProgress[Pt]=J[Pt]}!ze&&Ke&&this._fireEvent("movestart",Ke.originalEvent);for(var vr in ct)this._fireEvent(vr,ct[vr]);Ke&&this._fireEvent("move",Ke.originalEvent);for(var fr in J){var Vr=J[fr],en=Vr.originalEvent;this._fireEvent(fr,en)}var qr={},Jr;for(var an in this._eventsInProgress){var xn=this._eventsInProgress[an],Hn=xn.handlerName,Xn=xn.originalEvent;this._handlersById[Hn].isActive()||(delete this._eventsInProgress[an],Jr=de[Hn]||Xn,qr[an+"end"]=Jr)}for(var ta in qr)this._fireEvent(ta,qr[ta]);var aa=Io(this._eventsInProgress);if(te&&(ze||Ke)&&!aa){this._updatingCamera=!0;var ea=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),oa=function(da){return da!==0&&-ge._bearingSnap<da&&da<ge._bearingSnap};ea?(oa(ea.bearing||this._map.getBearing())&&(ea.bearing=0),this._map.easeTo(ea,{originalEvent:Jr})):(this._map.fire(new n.Event("moveend",{originalEvent:Jr})),oa(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},uo.prototype._fireEvent=function(J,de){this._map.fire(new n.Event(J,de?{originalEvent:de}:{}))},uo.prototype._requestFrame=function(){var J=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(de){delete J._frameId,J.handleEvent(new dl("renderFrame",{timeStamp:de})),J._applyChanges()})},uo.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var of=function(ve){function J(de,te){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=de,this._bearingSnap=te.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},J.prototype.setCenter=function(te,ge){return this.jumpTo({center:te},ge)},J.prototype.panBy=function(te,ge,ze){return te=n.Point.convert(te).mult(-1),this.panTo(this.transform.center,n.extend({offset:te},ge),ze)},J.prototype.panTo=function(te,ge,ze){return this.easeTo(n.extend({center:te},ge),ze)},J.prototype.getZoom=function(){return this.transform.zoom},J.prototype.setZoom=function(te,ge){return this.jumpTo({zoom:te},ge),this},J.prototype.zoomTo=function(te,ge,ze){return this.easeTo(n.extend({zoom:te},ge),ze)},J.prototype.zoomIn=function(te,ge){return this.zoomTo(this.getZoom()+1,te,ge),this},J.prototype.zoomOut=function(te,ge){return this.zoomTo(this.getZoom()-1,te,ge),this},J.prototype.getBearing=function(){return this.transform.bearing},J.prototype.setBearing=function(te,ge){return this.jumpTo({bearing:te},ge),this},J.prototype.getPadding=function(){return this.transform.padding},J.prototype.setPadding=function(te,ge){return this.jumpTo({padding:te},ge),this},J.prototype.rotateTo=function(te,ge,ze){return this.easeTo(n.extend({bearing:te},ge),ze)},J.prototype.resetNorth=function(te,ge){return this.rotateTo(0,n.extend({duration:1e3},te),ge),this},J.prototype.resetNorthPitch=function(te,ge){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},te),ge),this},J.prototype.snapToNorth=function(te,ge){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(te,ge):this},J.prototype.getPitch=function(){return this.transform.pitch},J.prototype.setPitch=function(te,ge){return this.jumpTo({pitch:te},ge),this},J.prototype.cameraForBounds=function(te,ge){te=n.LngLatBounds.convert(te);var ze=ge&&ge.bearing||0;return this._cameraForBoxAndBearing(te.getNorthWest(),te.getSouthEast(),ze,ge)},J.prototype._cameraForBoxAndBearing=function(te,ge,ze,Ke){var ct={top:0,bottom:0,right:0,left:0};if(Ke=n.extend({padding:ct,offset:[0,0],maxZoom:this.transform.maxZoom},Ke),typeof Ke.padding=="number"){var Pt=Ke.padding;Ke.padding={top:Pt,bottom:Pt,right:Pt,left:Pt}}Ke.padding=n.extend(ct,Ke.padding);var Yt=this.transform,qt=Yt.padding,vr=Yt.project(n.LngLat.convert(te)),fr=Yt.project(n.LngLat.convert(ge)),Vr=vr.rotate(-ze*Math.PI/180),en=fr.rotate(-ze*Math.PI/180),qr=new n.Point(Math.max(Vr.x,en.x),Math.max(Vr.y,en.y)),Jr=new n.Point(Math.min(Vr.x,en.x),Math.min(Vr.y,en.y)),an=qr.sub(Jr),xn=(Yt.width-(qt.left+qt.right+Ke.padding.left+Ke.padding.right))/an.x,Hn=(Yt.height-(qt.top+qt.bottom+Ke.padding.top+Ke.padding.bottom))/an.y;if(Hn<0||xn<0){n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Xn=Math.min(Yt.scaleZoom(Yt.scale*Math.min(xn,Hn)),Ke.maxZoom),ta=typeof Ke.offset.x=="number"?new n.Point(Ke.offset.x,Ke.offset.y):n.Point.convert(Ke.offset),aa=(Ke.padding.left-Ke.padding.right)/2,ea=(Ke.padding.top-Ke.padding.bottom)/2,oa=new n.Point(aa,ea),da=oa.rotate(ze*Math.PI/180),ba=ta.add(da),za=ba.mult(Yt.scale/Yt.zoomScale(Xn)),_a=Yt.unproject(vr.add(fr).div(2).sub(za));return{center:_a,zoom:Xn,bearing:ze}},J.prototype.fitBounds=function(te,ge,ze){return this._fitInternal(this.cameraForBounds(te,ge),ge,ze)},J.prototype.fitScreenCoordinates=function(te,ge,ze,Ke,ct){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(te)),this.transform.pointLocation(n.Point.convert(ge)),ze,Ke),Ke,ct)},J.prototype._fitInternal=function(te,ge,ze){return te?(ge=n.extend(te,ge),delete ge.padding,ge.linear?this.easeTo(ge,ze):this.flyTo(ge,ze)):this},J.prototype.jumpTo=function(te,ge){this.stop();var ze=this.transform,Ke=!1,ct=!1,Pt=!1;return"zoom"in te&&ze.zoom!==+te.zoom&&(Ke=!0,ze.zoom=+te.zoom),te.center!==void 0&&(ze.center=n.LngLat.convert(te.center)),"bearing"in te&&ze.bearing!==+te.bearing&&(ct=!0,ze.bearing=+te.bearing),"pitch"in te&&ze.pitch!==+te.pitch&&(Pt=!0,ze.pitch=+te.pitch),te.padding!=null&&!ze.isPaddingEqual(te.padding)&&(ze.padding=te.padding),this.fire(new n.Event("movestart",ge)).fire(new n.Event("move",ge)),Ke&&this.fire(new n.Event("zoomstart",ge)).fire(new n.Event("zoom",ge)).fire(new n.Event("zoomend",ge)),ct&&this.fire(new n.Event("rotatestart",ge)).fire(new n.Event("rotate",ge)).fire(new n.Event("rotateend",ge)),Pt&&this.fire(new n.Event("pitchstart",ge)).fire(new n.Event("pitch",ge)).fire(new n.Event("pitchend",ge)),this.fire(new n.Event("moveend",ge))},J.prototype.easeTo=function(te,ge){var ze=this;this._stop(!1,te.easeId),te=n.extend({offset:[0,0],duration:500,easing:n.ease},te),(te.animate===!1||!te.essential&&n.browser.prefersReducedMotion)&&(te.duration=0);var Ke=this.transform,ct=this.getZoom(),Pt=this.getBearing(),Yt=this.getPitch(),qt=this.getPadding(),vr="zoom"in te?+te.zoom:ct,fr="bearing"in te?this._normalizeBearing(te.bearing,Pt):Pt,Vr="pitch"in te?+te.pitch:Yt,en="padding"in te?te.padding:Ke.padding,qr=n.Point.convert(te.offset),Jr=Ke.centerPoint.add(qr),an=Ke.pointLocation(Jr),xn=n.LngLat.convert(te.center||an);this._normalizeCenter(xn);var Hn=Ke.project(an),Xn=Ke.project(xn).sub(Hn),ta=Ke.zoomScale(vr-ct),aa,ea;te.around&&(aa=n.LngLat.convert(te.around),ea=Ke.locationPoint(aa));var oa={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||vr!==ct,this._rotating=this._rotating||Pt!==fr,this._pitching=this._pitching||Vr!==Yt,this._padding=!Ke.isPaddingEqual(en),this._easeId=te.easeId,this._prepareEase(ge,te.noMoveStart,oa),this._ease(function(da){if(ze._zooming&&(Ke.zoom=n.number(ct,vr,da)),ze._rotating&&(Ke.bearing=n.number(Pt,fr,da)),ze._pitching&&(Ke.pitch=n.number(Yt,Vr,da)),ze._padding&&(Ke.interpolatePadding(qt,en,da),Jr=Ke.centerPoint.add(qr)),aa)Ke.setLocationAtPoint(aa,ea);else{var ba=Ke.zoomScale(Ke.zoom-ct),za=vr>ct?Math.min(2,ta):Math.max(.5,ta),_a=Math.pow(za,1-da),ri=Ke.unproject(Hn.add(Xn.mult(da*_a)).mult(ba));Ke.setLocationAtPoint(Ke.renderWorldCopies?ri.wrap():ri,Jr)}ze._fireMoveEvents(ge)},function(da){ze._afterEase(ge,da)},te),this},J.prototype._prepareEase=function(te,ge,ze){ze===void 0&&(ze={}),this._moving=!0,!ge&&!ze.moving&&this.fire(new n.Event("movestart",te)),this._zooming&&!ze.zooming&&this.fire(new n.Event("zoomstart",te)),this._rotating&&!ze.rotating&&this.fire(new n.Event("rotatestart",te)),this._pitching&&!ze.pitching&&this.fire(new n.Event("pitchstart",te))},J.prototype._fireMoveEvents=function(te){this.fire(new n.Event("move",te)),this._zooming&&this.fire(new n.Event("zoom",te)),this._rotating&&this.fire(new n.Event("rotate",te)),this._pitching&&this.fire(new n.Event("pitch",te))},J.prototype._afterEase=function(te,ge){if(!(this._easeId&&ge&&this._easeId===ge)){delete this._easeId;var ze=this._zooming,Ke=this._rotating,ct=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ze&&this.fire(new n.Event("zoomend",te)),Ke&&this.fire(new n.Event("rotateend",te)),ct&&this.fire(new n.Event("pitchend",te)),this.fire(new n.Event("moveend",te))}},J.prototype.flyTo=function(te,ge){var ze=this;if(!te.essential&&n.browser.prefersReducedMotion){var Ke=n.pick(te,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ke,ge)}this.stop(),te=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},te);var ct=this.transform,Pt=this.getZoom(),Yt=this.getBearing(),qt=this.getPitch(),vr=this.getPadding(),fr="zoom"in te?n.clamp(+te.zoom,ct.minZoom,ct.maxZoom):Pt,Vr="bearing"in te?this._normalizeBearing(te.bearing,Yt):Yt,en="pitch"in te?+te.pitch:qt,qr="padding"in te?te.padding:ct.padding,Jr=ct.zoomScale(fr-Pt),an=n.Point.convert(te.offset),xn=ct.centerPoint.add(an),Hn=ct.pointLocation(xn),Xn=n.LngLat.convert(te.center||Hn);this._normalizeCenter(Xn);var ta=ct.project(Hn),aa=ct.project(Xn).sub(ta),ea=te.curve,oa=Math.max(ct.width,ct.height),da=oa/Jr,ba=aa.mag();if("minZoom"in te){var za=n.clamp(Math.min(te.minZoom,Pt,fr),ct.minZoom,ct.maxZoom),_a=oa/ct.zoomScale(za-Pt);ea=Math.sqrt(_a/ba*2)}var ri=ea*ea;function Si(li){var Ci=(da*da-oa*oa+(li?-1:1)*ri*ri*ba*ba)/(2*(li?da:oa)*ri*ba);return Math.log(Math.sqrt(Ci*Ci+1)-Ci)}function di(li){return(Math.exp(li)-Math.exp(-li))/2}function Ba(li){return(Math.exp(li)+Math.exp(-li))/2}function gi(li){return di(li)/Ba(li)}var oi=Si(0),Oi=function(li){return Ba(oi)/Ba(oi+ea*li)},Ei=function(li){return oa*((Ba(oi)*gi(oi+ea*li)-di(oi))/ri)/ba},no=(Si(1)-oi)/ea;if(Math.abs(ba)<1e-6||!isFinite(no)){if(Math.abs(oa-da)<1e-6)return this.easeTo(te,ge);var yi=da<oa?-1:1;no=Math.abs(Math.log(da/oa))/ea,Ei=function(){return 0},Oi=function(li){return Math.exp(yi*ea*li)}}if("duration"in te)te.duration=+te.duration;else{var Ki="screenSpeed"in te?+te.screenSpeed/ea:+te.speed;te.duration=1e3*no/Ki}return te.maxDuration&&te.duration>te.maxDuration&&(te.duration=0),this._zooming=!0,this._rotating=Yt!==Vr,this._pitching=en!==qt,this._padding=!ct.isPaddingEqual(qr),this._prepareEase(ge,!1),this._ease(function(li){var Ci=li*no,To=1/Oi(Ci);ct.zoom=li===1?fr:Pt+ct.scaleZoom(To),ze._rotating&&(ct.bearing=n.number(Yt,Vr,li)),ze._pitching&&(ct.pitch=n.number(qt,en,li)),ze._padding&&(ct.interpolatePadding(vr,qr,li),xn=ct.centerPoint.add(an));var Qo=li===1?Xn:ct.unproject(ta.add(aa.mult(Ei(Ci))).mult(To));ct.setLocationAtPoint(ct.renderWorldCopies?Qo.wrap():Qo,xn),ze._fireMoveEvents(ge)},function(){return ze._afterEase(ge)},te),this},J.prototype.isEasing=function(){return!!this._easeFrameId},J.prototype.stop=function(){return this._stop()},J.prototype._stop=function(te,ge){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ze=this._onEaseEnd;delete this._onEaseEnd,ze.call(this,ge)}if(!te){var Ke=this.handlers;Ke&&Ke.stop(!1)}return this},J.prototype._ease=function(te,ge,ze){ze.animate===!1||ze.duration===0?(te(1),ge()):(this._easeStart=n.browser.now(),this._easeOptions=ze,this._onEaseFrame=te,this._onEaseEnd=ge,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},J.prototype._renderFrameCallback=function(){var te=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(te)),te<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},J.prototype._normalizeBearing=function(te,ge){te=n.wrap(te,-180,180);var ze=Math.abs(te-ge);return Math.abs(te-360-ge)<ze&&(te-=360),Math.abs(te+360-ge)<ze&&(te+=360),te},J.prototype._normalizeCenter=function(te){var ge=this.transform;if(!(!ge.renderWorldCopies||ge.lngRange)){var ze=te.lng-ge.center.lng;te.lng+=ze>180?-360:ze<-180?360:0}},J}(n.Evented),bi=function(J){J===void 0&&(J={}),this.options=J,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};bi.prototype.getDefaultPosition=function(){return"bottom-right"},bi.prototype.onAdd=function(J){var de=this.options&&this.options.compact;return this._map=J,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=T.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=T.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),de&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),de===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},bi.prototype.onRemove=function(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},bi.prototype._setElementTitle=function(J,de){var te=this._map._getUIString("AttributionControl."+de);J.title=te,J.setAttribute("aria-label",te)},bi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},bi.prototype._updateEditLink=function(){var J=this._editLink;J||(J=this._editLink=this._container.querySelector(".mapbox-improve-map"));var de=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(J){var te=de.reduce(function(ge,ze,Ke){return ze.value&&(ge+=ze.key+"="+ze.value+(Ke<de.length-1?"&":"")),ge},"?");J.href=n.config.FEEDBACK_URL+"/"+te+(this._map._hash?this._map._hash.getHashString(!0):""),J.rel="noopener nofollow",this._setElementTitle(J,"MapFeedback")}},bi.prototype._updateData=function(J){J&&(J.sourceDataType==="metadata"||J.sourceDataType==="visibility"||J.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},bi.prototype._updateAttributions=function(){if(this._map.style){var J=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?J=J.concat(this.options.customAttribution.map(function(Pt){return typeof Pt!="string"?"":Pt})):typeof this.options.customAttribution=="string"&&J.push(this.options.customAttribution)),this._map.style.stylesheet){var de=this._map.style.stylesheet;this.styleOwner=de.owner,this.styleId=de.id}var te=this._map.style.sourceCaches;for(var ge in te){var ze=te[ge];if(ze.used){var Ke=ze.getSource();Ke.attribution&&J.indexOf(Ke.attribution)<0&&J.push(Ke.attribution)}}J.sort(function(Pt,Yt){return Pt.length-Yt.length}),J=J.filter(function(Pt,Yt){for(var qt=Yt+1;qt<J.length;qt++)if(J[qt].indexOf(Pt)>=0)return!1;return!0});var ct=J.join(" | ");ct!==this._attribHTML&&(this._attribHTML=ct,J.length?(this._innerContainer.innerHTML=ct,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},bi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var fo=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};fo.prototype.onAdd=function(J){this._map=J,this._container=T.create("div","mapboxgl-ctrl");var de=T.create("a","mapboxgl-ctrl-logo");return de.target="_blank",de.rel="noopener nofollow",de.href="https://www.mapbox.com/",de.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),de.setAttribute("rel","noopener nofollow"),this._container.appendChild(de),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},fo.prototype.onRemove=function(){T.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},fo.prototype.getDefaultPosition=function(){return"bottom-left"},fo.prototype._updateLogo=function(J){(!J||J.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},fo.prototype._logoRequired=function(){if(this._map.style){var J=this._map.style.sourceCaches;for(var de in J){var te=J[de].getSource();if(te.mapbox_logo)return!0}return!1}},fo.prototype._updateCompact=function(){var J=this._container.children;if(J.length){var de=J[0];this._map.getCanvasContainer().offsetWidth<250?de.classList.add("mapboxgl-compact"):de.classList.remove("mapboxgl-compact")}};var Es=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Es.prototype.add=function(J){var de=++this._id,te=this._queue;return te.push({callback:J,id:de,cancelled:!1}),de},Es.prototype.remove=function(J){for(var de=this._currentlyRunning,te=de?this._queue.concat(de):this._queue,ge=0,ze=te;ge<ze.length;ge+=1){var Ke=ze[ge];if(Ke.id===J){Ke.cancelled=!0;return}}},Es.prototype.run=function(J){J===void 0&&(J=0);var de=this._currentlyRunning=this._queue;this._queue=[];for(var te=0,ge=de;te<ge.length;te+=1){var ze=ge[te];if(!ze.cancelled&&(ze.callback(J),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Es.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var yu={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Nc=n.window.HTMLImageElement,jv=n.window.HTMLElement,mu=n.window.ImageBitmap,xu=-2,Bc=22,Ys=0,uc=60,Qh={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:xu,maxZoom:Bc,minPitch:Ys,maxPitch:uc,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},fc=function(ve){function J(te){var ge=this;if(te=n.extend({},Qh,te),te.minZoom!=null&&te.maxZoom!=null&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(te.minPitch!=null&&te.maxPitch!=null&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(te.minPitch!=null&&te.minPitch<Ys)throw new Error("minPitch must be greater than or equal to "+Ys);if(te.maxPitch!=null&&te.maxPitch>uc)throw new Error("maxPitch must be less than or equal to "+uc);var ze=new Yn(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(ve.call(this,ze,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new Es,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},yu,te.locale),this._clickTolerance=te.clickTolerance,this._requestManager=new n.RequestManager(te.transformRequest,te.accessToken),typeof te.container=="string"){if(this._container=n.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else if(te.container instanceof jv)this._container=te.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(te.maxBounds&&this.setMaxBounds(te.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ge._update(!1)}),this.on("moveend",function(){return ge._update(!1)}),this.on("zoom",function(){return ge._update(!0)}),typeof n.window<"u"&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new uo(this,te);var Ke=typeof te.hash=="string"&&te.hash||void 0;this._hash=te.hash&&new Xa(Ke).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,n.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new bi({customAttribution:te.customAttribution})),this.addControl(new fo,te.logoPosition),this.on("style.load",function(){ge.transform.unmodified&&ge.jumpTo(ge.style.stylesheet)}),this.on("data",function(ct){ge._update(ct.dataType==="style"),ge.fire(new n.Event(ct.dataType+"data",ct))}),this.on("dataloading",function(ct){ge.fire(new n.Event(ct.dataType+"dataloading",ct))})}ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J;var de={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return J.prototype._getMapId=function(){return this._mapId},J.prototype.addControl=function(ge,ze){if(ze===void 0&&(ge.getDefaultPosition?ze=ge.getDefaultPosition():ze="top-right"),!ge||!ge.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ke=ge.onAdd(this);this._controls.push(ge);var ct=this._controlPositions[ze];return ze.indexOf("bottom")!==-1?ct.insertBefore(Ke,ct.firstChild):ct.appendChild(Ke),this},J.prototype.removeControl=function(ge){if(!ge||!ge.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ze=this._controls.indexOf(ge);return ze>-1&&this._controls.splice(ze,1),ge.onRemove(this),this},J.prototype.hasControl=function(ge){return this._controls.indexOf(ge)>-1},J.prototype.resize=function(ge){var ze=this._containerDimensions(),Ke=ze[0],ct=ze[1];this._resizeCanvas(Ke,ct),this.transform.resize(Ke,ct),this.painter.resize(Ke,ct);var Pt=!this._moving;return Pt&&(this.stop(),this.fire(new n.Event("movestart",ge)).fire(new n.Event("move",ge))),this.fire(new n.Event("resize",ge)),Pt&&this.fire(new n.Event("moveend",ge)),this},J.prototype.getBounds=function(){return this.transform.getBounds()},J.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},J.prototype.setMaxBounds=function(ge){return this.transform.setMaxBounds(n.LngLatBounds.convert(ge)),this._update()},J.prototype.setMinZoom=function(ge){if(ge=ge??xu,ge>=xu&&ge<=this.transform.maxZoom)return this.transform.minZoom=ge,this._update(),this.getZoom()<ge&&this.setZoom(ge),this;throw new Error("minZoom must be between "+xu+" and the current maxZoom, inclusive")},J.prototype.getMinZoom=function(){return this.transform.minZoom},J.prototype.setMaxZoom=function(ge){if(ge=ge??Bc,ge>=this.transform.minZoom)return this.transform.maxZoom=ge,this._update(),this.getZoom()>ge&&this.setZoom(ge),this;throw new Error("maxZoom must be greater than the current minZoom")},J.prototype.getMaxZoom=function(){return this.transform.maxZoom},J.prototype.setMinPitch=function(ge){if(ge=ge??Ys,ge<Ys)throw new Error("minPitch must be greater than or equal to "+Ys);if(ge>=Ys&&ge<=this.transform.maxPitch)return this.transform.minPitch=ge,this._update(),this.getPitch()<ge&&this.setPitch(ge),this;throw new Error("minPitch must be between "+Ys+" and the current maxPitch, inclusive")},J.prototype.getMinPitch=function(){return this.transform.minPitch},J.prototype.setMaxPitch=function(ge){if(ge=ge??uc,ge>uc)throw new Error("maxPitch must be less than or equal to "+uc);if(ge>=this.transform.minPitch)return this.transform.maxPitch=ge,this._update(),this.getPitch()>ge&&this.setPitch(ge),this;throw new Error("maxPitch must be greater than the current minPitch")},J.prototype.getMaxPitch=function(){return this.transform.maxPitch},J.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},J.prototype.setRenderWorldCopies=function(ge){return this.transform.renderWorldCopies=ge,this._update()},J.prototype.project=function(ge){return this.transform.locationPoint(n.LngLat.convert(ge))},J.prototype.unproject=function(ge){return this.transform.pointLocation(n.Point.convert(ge))},J.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},J.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},J.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},J.prototype._createDelegatedListener=function(ge,ze,Ke){var ct=this,Pt;if(ge==="mouseenter"||ge==="mouseover"){var Yt=!1,qt=function(Jr){var an=ct.getLayer(ze)?ct.queryRenderedFeatures(Jr.point,{layers:[ze]}):[];an.length?Yt||(Yt=!0,Ke.call(ct,new qe(ge,ct,Jr.originalEvent,{features:an}))):Yt=!1},vr=function(){Yt=!1};return{layer:ze,listener:Ke,delegates:{mousemove:qt,mouseout:vr}}}else if(ge==="mouseleave"||ge==="mouseout"){var fr=!1,Vr=function(Jr){var an=ct.getLayer(ze)?ct.queryRenderedFeatures(Jr.point,{layers:[ze]}):[];an.length?fr=!0:fr&&(fr=!1,Ke.call(ct,new qe(ge,ct,Jr.originalEvent)))},en=function(Jr){fr&&(fr=!1,Ke.call(ct,new qe(ge,ct,Jr.originalEvent)))};return{layer:ze,listener:Ke,delegates:{mousemove:Vr,mouseout:en}}}else{var qr=function(Jr){var an=ct.getLayer(ze)?ct.queryRenderedFeatures(Jr.point,{layers:[ze]}):[];an.length&&(Jr.features=an,Ke.call(ct,Jr),delete Jr.features)};return{layer:ze,listener:Ke,delegates:(Pt={},Pt[ge]=qr,Pt)}}},J.prototype.on=function(ge,ze,Ke){if(Ke===void 0)return ve.prototype.on.call(this,ge,ze);var ct=this._createDelegatedListener(ge,ze,Ke);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ge]=this._delegatedListeners[ge]||[],this._delegatedListeners[ge].push(ct);for(var Pt in ct.delegates)this.on(Pt,ct.delegates[Pt]);return this},J.prototype.once=function(ge,ze,Ke){if(Ke===void 0)return ve.prototype.once.call(this,ge,ze);var ct=this._createDelegatedListener(ge,ze,Ke);for(var Pt in ct.delegates)this.once(Pt,ct.delegates[Pt]);return this},J.prototype.off=function(ge,ze,Ke){var ct=this;if(Ke===void 0)return ve.prototype.off.call(this,ge,ze);var Pt=function(Yt){for(var qt=Yt[ge],vr=0;vr<qt.length;vr++){var fr=qt[vr];if(fr.layer===ze&&fr.listener===Ke){for(var Vr in fr.delegates)ct.off(Vr,fr.delegates[Vr]);return qt.splice(vr,1),ct}}};return this._delegatedListeners&&this._delegatedListeners[ge]&&Pt(this._delegatedListeners),this},J.prototype.queryRenderedFeatures=function(ge,ze){if(!this.style)return[];ze===void 0&&ge!==void 0&&!(ge instanceof n.Point)&&!Array.isArray(ge)&&(ze=ge,ge=void 0),ze=ze||{},ge=ge||[[0,0],[this.transform.width,this.transform.height]];var Ke;if(ge instanceof n.Point||typeof ge[0]=="number")Ke=[n.Point.convert(ge)];else{var ct=n.Point.convert(ge[0]),Pt=n.Point.convert(ge[1]);Ke=[ct,new n.Point(Pt.x,ct.y),Pt,new n.Point(ct.x,Pt.y),ct]}return this.style.queryRenderedFeatures(Ke,ze,this.transform)},J.prototype.querySourceFeatures=function(ge,ze){return this.style.querySourceFeatures(ge,ze)},J.prototype.setStyle=function(ge,ze){return ze=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ze),ze.diff!==!1&&ze.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ge?(this._diffStyle(ge,ze),this):(this._localIdeographFontFamily=ze.localIdeographFontFamily,this._updateStyle(ge,ze))},J.prototype._getUIString=function(ge){var ze=this._locale[ge];if(ze==null)throw new Error("Missing UI string '"+ge+"'");return ze},J.prototype._updateStyle=function(ge,ze){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ge)this.style=new Ps(this,ze||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ge=="string"?this.style.loadURL(ge):this.style.loadJSON(ge),this},J.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ps(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},J.prototype._diffStyle=function(ge,ze){var Ke=this;if(typeof ge=="string"){var ct=this._requestManager.normalizeStyleURL(ge),Pt=this._requestManager.transformRequest(ct,n.ResourceType.Style);n.getJSON(Pt,function(Yt,qt){Yt?Ke.fire(new n.ErrorEvent(Yt)):qt&&Ke._updateDiff(qt,ze)})}else typeof ge=="object"&&this._updateDiff(ge,ze)},J.prototype._updateDiff=function(ge,ze){try{this.style.setState(ge)&&this._update(!0)}catch(Ke){n.warnOnce("Unable to perform style diff: "+(Ke.message||Ke.error||Ke)+".  Rebuilding the style from scratch."),this._updateStyle(ge,ze)}},J.prototype.getStyle=function(){if(this.style)return this.style.serialize()},J.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},J.prototype.addSource=function(ge,ze){return this._lazyInitEmptyStyle(),this.style.addSource(ge,ze),this._update(!0)},J.prototype.isSourceLoaded=function(ge){var ze=this.style&&this.style.sourceCaches[ge];if(ze===void 0){this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+ge+"'")));return}return ze.loaded()},J.prototype.areTilesLoaded=function(){var ge=this.style&&this.style.sourceCaches;for(var ze in ge){var Ke=ge[ze],ct=Ke._tiles;for(var Pt in ct){var Yt=ct[Pt];if(!(Yt.state==="loaded"||Yt.state==="errored"))return!1}}return!0},J.prototype.addSourceType=function(ge,ze,Ke){return this._lazyInitEmptyStyle(),this.style.addSourceType(ge,ze,Ke)},J.prototype.removeSource=function(ge){return this.style.removeSource(ge),this._update(!0)},J.prototype.getSource=function(ge){return this.style.getSource(ge)},J.prototype.addImage=function(ge,ze,Ke){Ke===void 0&&(Ke={});var ct=Ke.pixelRatio;ct===void 0&&(ct=1);var Pt=Ke.sdf;Pt===void 0&&(Pt=!1);var Yt=Ke.stretchX,qt=Ke.stretchY,vr=Ke.content;this._lazyInitEmptyStyle();var fr=0;if(ze instanceof Nc||mu&&ze instanceof mu){var Vr=n.browser.getImageData(ze),en=Vr.width,qr=Vr.height,Jr=Vr.data;this.style.addImage(ge,{data:new n.RGBAImage({width:en,height:qr},Jr),pixelRatio:ct,stretchX:Yt,stretchY:qt,content:vr,sdf:Pt,version:fr})}else{if(ze.width===void 0||ze.height===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var an=ze.width,xn=ze.height,Hn=ze.data,Xn=ze;this.style.addImage(ge,{data:new n.RGBAImage({width:an,height:xn},new Uint8Array(Hn)),pixelRatio:ct,stretchX:Yt,stretchY:qt,content:vr,sdf:Pt,version:fr,userImage:Xn}),Xn.onAdd&&Xn.onAdd(this,ge)}},J.prototype.updateImage=function(ge,ze){var Ke=this.style.getImage(ge);if(!Ke)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ct=ze instanceof Nc||mu&&ze instanceof mu?n.browser.getImageData(ze):ze,Pt=ct.width,Yt=ct.height,qt=ct.data;if(Pt===void 0||Yt===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Pt!==Ke.data.width||Yt!==Ke.data.height)return this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var vr=!(ze instanceof Nc||mu&&ze instanceof mu);Ke.data.replace(qt,vr),this.style.updateImage(ge,Ke)},J.prototype.hasImage=function(ge){return ge?!!this.style.getImage(ge):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},J.prototype.removeImage=function(ge){this.style.removeImage(ge)},J.prototype.loadImage=function(ge,ze){n.getImage(this._requestManager.transformRequest(ge,n.ResourceType.Image),ze)},J.prototype.listImages=function(){return this.style.listImages()},J.prototype.addLayer=function(ge,ze){return this._lazyInitEmptyStyle(),this.style.addLayer(ge,ze),this._update(!0)},J.prototype.moveLayer=function(ge,ze){return this.style.moveLayer(ge,ze),this._update(!0)},J.prototype.removeLayer=function(ge){return this.style.removeLayer(ge),this._update(!0)},J.prototype.getLayer=function(ge){return this.style.getLayer(ge)},J.prototype.setLayerZoomRange=function(ge,ze,Ke){return this.style.setLayerZoomRange(ge,ze,Ke),this._update(!0)},J.prototype.setFilter=function(ge,ze,Ke){return Ke===void 0&&(Ke={}),this.style.setFilter(ge,ze,Ke),this._update(!0)},J.prototype.getFilter=function(ge){return this.style.getFilter(ge)},J.prototype.setPaintProperty=function(ge,ze,Ke,ct){return ct===void 0&&(ct={}),this.style.setPaintProperty(ge,ze,Ke,ct),this._update(!0)},J.prototype.getPaintProperty=function(ge,ze){return this.style.getPaintProperty(ge,ze)},J.prototype.setLayoutProperty=function(ge,ze,Ke,ct){return ct===void 0&&(ct={}),this.style.setLayoutProperty(ge,ze,Ke,ct),this._update(!0)},J.prototype.getLayoutProperty=function(ge,ze){return this.style.getLayoutProperty(ge,ze)},J.prototype.setLight=function(ge,ze){return ze===void 0&&(ze={}),this._lazyInitEmptyStyle(),this.style.setLight(ge,ze),this._update(!0)},J.prototype.getLight=function(){return this.style.getLight()},J.prototype.setFeatureState=function(ge,ze){return this.style.setFeatureState(ge,ze),this._update()},J.prototype.removeFeatureState=function(ge,ze){return this.style.removeFeatureState(ge,ze),this._update()},J.prototype.getFeatureState=function(ge){return this.style.getFeatureState(ge)},J.prototype.getContainer=function(){return this._container},J.prototype.getCanvasContainer=function(){return this._canvasContainer},J.prototype.getCanvas=function(){return this._canvas},J.prototype._containerDimensions=function(){var ge=0,ze=0;return this._container&&(ge=this._container.clientWidth||400,ze=this._container.clientHeight||300),[ge,ze]},J.prototype._detectMissingCSS=function(){var ge=n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ge!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},J.prototype._setupContainer=function(){var ge=this._container;ge.classList.add("mapboxgl-map");var ze=this._missingCSSCanary=T.create("div","mapboxgl-canary",ge);ze.style.visibility="hidden",this._detectMissingCSS();var Ke=this._canvasContainer=T.create("div","mapboxgl-canvas-container",ge);this._interactive&&Ke.classList.add("mapboxgl-interactive"),this._canvas=T.create("canvas","mapboxgl-canvas",Ke),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ct=this._containerDimensions();this._resizeCanvas(ct[0],ct[1]);var Pt=this._controlContainer=T.create("div","mapboxgl-control-container",ge),Yt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){Yt[qt]=T.create("div","mapboxgl-ctrl-"+qt,Pt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},J.prototype._resizeCanvas=function(ge,ze){var Ke=n.browser.devicePixelRatio||1;this._canvas.width=Ke*ge,this._canvas.height=Ke*ze,this._canvas.style.width=ge+"px",this._canvas.style.height=ze+"px"},J.prototype._setupPainter=function(){var ge=n.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ze=this._canvas.getContext("webgl",ge)||this._canvas.getContext("experimental-webgl",ge);if(!ze){this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Yr(ze,this.transform),n.webpSupported.testSupport(ze)},J.prototype._contextLost=function(ge){ge.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:ge}))},J.prototype._contextRestored=function(ge){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:ge}))},J.prototype._onMapScroll=function(ge){if(ge.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},J.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},J.prototype._update=function(ge){return this.style?(this._styleDirty=this._styleDirty||ge,this._sourcesDirty=!0,this.triggerRepaint(),this):this},J.prototype._requestRenderFrame=function(ge){return this._update(),this._renderTaskQueue.add(ge)},J.prototype._cancelRenderFrame=function(ge){this._renderTaskQueue.remove(ge)},J.prototype._render=function(ge){var ze=this,Ke,ct=0,Pt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ke=Pt.createQueryEXT(),Pt.beginQueryEXT(Pt.TIME_ELAPSED_EXT,Ke),ct=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ge),!this._removed){var Yt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,vr=n.browser.now();this.style.zoomHistory.update(qt,vr);var fr=new n.EvaluationParameters(qt,{now:vr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Vr=fr.crossFadingFactor();(Vr!==1||Vr!==this._crossFadingFactor)&&(Yt=!0,this._crossFadingFactor=Vr),this.style.update(fr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||Yt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var en=n.browser.now()-ct;Pt.endQueryEXT(Pt.TIME_ELAPSED_EXT,Ke),setTimeout(function(){var an=Pt.getQueryObjectEXT(Ke,Pt.QUERY_RESULT_EXT)/1e6;Pt.deleteQueryEXT(Ke),ze.fire(new n.Event("gpu-timing-frame",{cpuTime:en,gpuTime:an}))},50)}if(this.listens("gpu-timing-layer")){var qr=this.painter.collectGpuTimers();setTimeout(function(){var an=ze.painter.queryGpuTimers(qr);ze.fire(new n.Event("gpu-timing-layer",{layerTimes:an}))},50)}var Jr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Jr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new n.Event("idle")),this._loaded&&!this._fullyLoaded&&!Jr&&(this._fullyLoaded=!0),this}},J.prototype.remove=function(){this._hash&&this._hash.remove();for(var ge=0,ze=this._controls;ge<ze.length;ge+=1){var Ke=ze[ge];Ke.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof n.window<"u"&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var ct=this.painter.context.gl.getExtension("WEBGL_lose_context");ct&&ct.loseContext&&ct.loseContext(),zf(this._canvasContainer),zf(this._controlContainer),zf(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},J.prototype.triggerRepaint=function(){var ge=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(ze){ge._frame=null,ge._render(ze)}))},J.prototype._onWindowOnline=function(){this._update()},J.prototype._onWindowResize=function(ge){this._trackResize&&this.resize({originalEvent:ge})._update()},de.showTileBoundaries.get=function(){return!!this._showTileBoundaries},de.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},de.showPadding.get=function(){return!!this._showPadding},de.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},de.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},de.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},de.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},de.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},de.repaint.get=function(){return!!this._repaint},de.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},de.vertices.get=function(){return!!this._vertices},de.vertices.set=function(te){this._vertices=te,this._update()},J.prototype._setCacheLimits=function(ge,ze){n.setCacheLimits(ge,ze)},de.version.get=function(){return n.version},Object.defineProperties(J.prototype,de),J}(of);function zf(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var qh={showCompass:!0,showZoom:!0,visualizePitch:!1},sf=function(J){var de=this;this.options=n.extend({},qh,J),this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(te){return te.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(te){return de._map.zoomIn({},{originalEvent:te})}),T.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(te){return de._map.zoomOut({},{originalEvent:te})}),T.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(te){de.options.visualizePitch?de._map.resetNorthPitch({},{originalEvent:te}):de._map.resetNorth({},{originalEvent:te})}),this._compassIcon=T.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};sf.prototype._updateZoomButtons=function(){var J=this._map.getZoom(),de=J===this._map.getMaxZoom(),te=J===this._map.getMinZoom();this._zoomInButton.disabled=de,this._zoomOutButton.disabled=te,this._zoomInButton.setAttribute("aria-disabled",de.toString()),this._zoomOutButton.setAttribute("aria-disabled",te.toString())},sf.prototype._rotateCompassArrow=function(){var J=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=J},sf.prototype.onAdd=function(J){return this._map=J,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new tl(this._map,this._compass,this.options.visualizePitch)),this._container},sf.prototype.onRemove=function(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},sf.prototype._createButton=function(J,de){var te=T.create("button",J,this._container);return te.type="button",te.addEventListener("click",de),te},sf.prototype._setButtonTitle=function(J,de){var te=this._map._getUIString("NavigationControl."+de);J.title=te,J.setAttribute("aria-label",te)};var tl=function(J,de,te){te===void 0&&(te=!1),this._clickTolerance=10,this.element=de,this.mouseRotate=new Sa({clickTolerance:J.dragRotate._mouseRotate._clickTolerance}),this.map=J,te&&(this.mousePitch=new la({clickTolerance:J.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),T.addEventListener(de,"mousedown",this.mousedown),T.addEventListener(de,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(de,"touchmove",this.touchmove),T.addEventListener(de,"touchend",this.touchend),T.addEventListener(de,"touchcancel",this.reset)};tl.prototype.down=function(J,de){this.mouseRotate.mousedown(J,de),this.mousePitch&&this.mousePitch.mousedown(J,de),T.disableDrag()},tl.prototype.move=function(J,de){var te=this.map,ge=this.mouseRotate.mousemoveWindow(J,de);if(ge&&ge.bearingDelta&&te.setBearing(te.getBearing()+ge.bearingDelta),this.mousePitch){var ze=this.mousePitch.mousemoveWindow(J,de);ze&&ze.pitchDelta&&te.setPitch(te.getPitch()+ze.pitchDelta)}},tl.prototype.off=function(){var J=this.element;T.removeEventListener(J,"mousedown",this.mousedown),T.removeEventListener(J,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(J,"touchmove",this.touchmove),T.removeEventListener(J,"touchend",this.touchend),T.removeEventListener(J,"touchcancel",this.reset),this.offTemp()},tl.prototype.offTemp=function(){T.enableDrag(),T.removeEventListener(n.window,"mousemove",this.mousemove),T.removeEventListener(n.window,"mouseup",this.mouseup)},tl.prototype.mousedown=function(J){this.down(n.extend({},J,{ctrlKey:!0,preventDefault:function(){return J.preventDefault()}}),T.mousePos(this.element,J)),T.addEventListener(n.window,"mousemove",this.mousemove),T.addEventListener(n.window,"mouseup",this.mouseup)},tl.prototype.mousemove=function(J){this.move(J,T.mousePos(this.element,J))},tl.prototype.mouseup=function(J){this.mouseRotate.mouseupWindow(J),this.mousePitch&&this.mousePitch.mouseupWindow(J),this.offTemp()},tl.prototype.touchstart=function(J){J.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,J.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return J.preventDefault()}},this._startPos))},tl.prototype.touchmove=function(J){J.targetTouches.length!==1?this.reset():(this._lastPos=T.touchPos(this.element,J.targetTouches)[0],this.move({preventDefault:function(){return J.preventDefault()}},this._lastPos))},tl.prototype.touchend=function(J){J.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},tl.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Ql(ve,J,de){if(ve=new n.LngLat(ve.lng,ve.lat),J){var te=new n.LngLat(ve.lng-360,ve.lat),ge=new n.LngLat(ve.lng+360,ve.lat),ze=de.locationPoint(ve).distSqr(J);de.locationPoint(te).distSqr(J)<ze?ve=te:de.locationPoint(ge).distSqr(J)<ze&&(ve=ge)}for(;Math.abs(ve.lng-de.center.lng)>180;){var Ke=de.locationPoint(ve);if(Ke.x>=0&&Ke.y>=0&&Ke.x<=de.width&&Ke.y<=de.height)break;ve.lng>de.center.lng?ve.lng-=360:ve.lng+=360}return ve}var fh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Uc(ve,J,de){var te=ve.classList;for(var ge in fh)te.remove("mapboxgl-"+de+"-anchor-"+ge);te.add("mapboxgl-"+de+"-anchor-"+J)}var cc=function(ve){function J(de,te){if(ve.call(this),(de instanceof n.window.HTMLElement||te)&&(de=n.extend({element:de},te)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=de&&de.anchor||"center",this._color=de&&de.color||"#3FB1CE",this._scale=de&&de.scale||1,this._draggable=de&&de.draggable||!1,this._clickTolerance=de&&de.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=de&&de.rotation||0,this._rotationAlignment=de&&de.rotationAlignment||"auto",this._pitchAlignment=de&&de.pitchAlignment&&de.pitchAlignment!=="auto"?de.pitchAlignment:this._rotationAlignment,!de||!de.element){this._defaultMarker=!0,this._element=T.create("div"),this._element.setAttribute("aria-label","Map marker");var ge=T.createNS("http://www.w3.org/2000/svg","svg"),ze=41,Ke=27;ge.setAttributeNS(null,"display","block"),ge.setAttributeNS(null,"height",ze+"px"),ge.setAttributeNS(null,"width",Ke+"px"),ge.setAttributeNS(null,"viewBox","0 0 "+Ke+" "+ze);var ct=T.createNS("http://www.w3.org/2000/svg","g");ct.setAttributeNS(null,"stroke","none"),ct.setAttributeNS(null,"stroke-width","1"),ct.setAttributeNS(null,"fill","none"),ct.setAttributeNS(null,"fill-rule","evenodd");var Pt=T.createNS("http://www.w3.org/2000/svg","g");Pt.setAttributeNS(null,"fill-rule","nonzero");var Yt=T.createNS("http://www.w3.org/2000/svg","g");Yt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Yt.setAttributeNS(null,"fill","#000000");for(var qt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],vr=0,fr=qt;vr<fr.length;vr+=1){var Vr=fr[vr],en=T.createNS("http://www.w3.org/2000/svg","ellipse");en.setAttributeNS(null,"opacity","0.04"),en.setAttributeNS(null,"cx","10.5"),en.setAttributeNS(null,"cy","5.80029008"),en.setAttributeNS(null,"rx",Vr.rx),en.setAttributeNS(null,"ry",Vr.ry),Yt.appendChild(en)}var qr=T.createNS("http://www.w3.org/2000/svg","g");qr.setAttributeNS(null,"fill",this._color);var Jr=T.createNS("http://www.w3.org/2000/svg","path");Jr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),qr.appendChild(Jr);var an=T.createNS("http://www.w3.org/2000/svg","g");an.setAttributeNS(null,"opacity","0.25"),an.setAttributeNS(null,"fill","#000000");var xn=T.createNS("http://www.w3.org/2000/svg","path");xn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),an.appendChild(xn);var Hn=T.createNS("http://www.w3.org/2000/svg","g");Hn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Hn.setAttributeNS(null,"fill","#FFFFFF");var Xn=T.createNS("http://www.w3.org/2000/svg","g");Xn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var ta=T.createNS("http://www.w3.org/2000/svg","circle");ta.setAttributeNS(null,"fill","#000000"),ta.setAttributeNS(null,"opacity","0.25"),ta.setAttributeNS(null,"cx","5.5"),ta.setAttributeNS(null,"cy","5.5"),ta.setAttributeNS(null,"r","5.4999962");var aa=T.createNS("http://www.w3.org/2000/svg","circle");aa.setAttributeNS(null,"fill","#FFFFFF"),aa.setAttributeNS(null,"cx","5.5"),aa.setAttributeNS(null,"cy","5.5"),aa.setAttributeNS(null,"r","5.4999962"),Xn.appendChild(ta),Xn.appendChild(aa),Pt.appendChild(Yt),Pt.appendChild(qr),Pt.appendChild(an),Pt.appendChild(Hn),Pt.appendChild(Xn),ge.appendChild(Pt),ge.setAttributeNS(null,"height",ze*this._scale+"px"),ge.setAttributeNS(null,"width",Ke*this._scale+"px"),this._element.appendChild(ge),this._offset=n.Point.convert(de&&de.offset||[0,-14])}else this._element=de.element,this._offset=n.Point.convert(de&&de.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(ea){ea.preventDefault()}),this._element.addEventListener("mousedown",function(ea){ea.preventDefault()}),Uc(this._element,this._anchor,"marker"),this._popup=null}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.addTo=function(te){return this.remove(),this._map=te,te.getCanvasContainer().appendChild(this._element),te.on("move",this._update),te.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},J.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this},J.prototype.getLngLat=function(){return this._lngLat},J.prototype.setLngLat=function(te){return this._lngLat=n.LngLat.convert(te),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},J.prototype.getElement=function(){return this._element},J.prototype.setPopup=function(te){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),te){if(!("offset"in te.options)){var ge=38.1,ze=13.5,Ke=Math.sqrt(Math.pow(ze,2)/2);te.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ge],"bottom-left":[Ke,(ge-ze+Ke)*-1],"bottom-right":[-Ke,(ge-ze+Ke)*-1],left:[ze,(ge-ze)*-1],right:[-ze,(ge-ze)*-1]}:this._offset}this._popup=te,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},J.prototype._onKeyPress=function(te){var ge=te.code,ze=te.charCode||te.keyCode;(ge==="Space"||ge==="Enter"||ze===32||ze===13)&&this.togglePopup()},J.prototype._onMapClick=function(te){var ge=te.originalEvent.target,ze=this._element;this._popup&&(ge===ze||ze.contains(ge))&&this.togglePopup()},J.prototype.getPopup=function(){return this._popup},J.prototype.togglePopup=function(){var te=this._popup;if(te)te.isOpen()?te.remove():te.addTo(this._map);else return this;return this},J.prototype._update=function(te){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ql(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ge="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ge="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ge="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ze="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?ze="rotateX(0deg)":this._pitchAlignment==="map"&&(ze="rotateX("+this._map.getPitch()+"deg)"),(!te||te.type==="moveend")&&(this._pos=this._pos.round()),T.setTransform(this._element,fh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ze+" "+ge)}},J.prototype.getOffset=function(){return this._offset},J.prototype.setOffset=function(te){return this._offset=n.Point.convert(te),this._update(),this},J.prototype._onMove=function(te){if(!this._isDragging){var ge=this._clickTolerance||this._map._clickTolerance;this._isDragging=te.point.dist(this._pointerdownPos)>=ge}this._isDragging&&(this._pos=te.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag")))},J.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"},J.prototype._addDragHandler=function(te){this._element.contains(te.originalEvent.target)&&(te.preventDefault(),this._positionDelta=te.point.sub(this._pos).add(this._offset),this._pointerdownPos=te.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},J.prototype.setDraggable=function(te){return this._draggable=!!te,this._map&&(te?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},J.prototype.isDraggable=function(){return this._draggable},J.prototype.setRotation=function(te){return this._rotation=te||0,this._update(),this},J.prototype.getRotation=function(){return this._rotation},J.prototype.setRotationAlignment=function(te){return this._rotationAlignment=te||"auto",this._update(),this},J.prototype.getRotationAlignment=function(){return this._rotationAlignment},J.prototype.setPitchAlignment=function(te){return this._pitchAlignment=te&&te!=="auto"?te:this._rotationAlignment,this._update(),this},J.prototype.getPitchAlignment=function(){return this._pitchAlignment},J}(n.Evented),ch={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},hc;function hh(ve){hc!==void 0?ve(hc):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(function(J){hc=J.state!=="denied",ve(hc)}):(hc=!!n.window.navigator.geolocation,ve(hc))}var Ff=0,vc=!1,ev=function(ve){function J(de){ve.call(this),this.options=n.extend({},ch,de),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.onAdd=function(te){return this._map=te,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),hh(this._setupUI),this._container},J.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ff=0,vc=!1},J.prototype._isOutOfMapMaxBounds=function(te){var ge=this._map.getMaxBounds(),ze=te.coords;return ge&&(ze.longitude<ge.getWest()||ze.longitude>ge.getEast()||ze.latitude<ge.getSouth()||ze.latitude>ge.getNorth())},J.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},J.prototype._onSuccess=function(te){if(this._map){if(this._isOutOfMapMaxBounds(te)){this._setErrorState(),this.fire(new n.Event("outofmaxbounds",te)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=te,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(te),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(te),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",te)),this._finish()}},J.prototype._updateCamera=function(te){var ge=new n.LngLat(te.coords.longitude,te.coords.latitude),ze=te.coords.accuracy,Ke=this._map.getBearing(),ct=n.extend({bearing:Ke},this.options.fitBoundsOptions);this._map.fitBounds(ge.toBounds(ze),ct,{geolocateSource:!0})},J.prototype._updateMarker=function(te){if(te){var ge=new n.LngLat(te.coords.longitude,te.coords.latitude);this._accuracyCircleMarker.setLngLat(ge).addTo(this._map),this._userLocationDotMarker.setLngLat(ge).addTo(this._map),this._accuracy=te.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},J.prototype._updateCircleRadius=function(){var te=this._map._container.clientHeight/2,ge=this._map.unproject([0,te]),ze=this._map.unproject([1,te]),Ke=ge.distanceTo(ze),ct=Math.ceil(2*this._accuracy/Ke);this._circleElement.style.width=ct+"px",this._circleElement.style.height=ct+"px"},J.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},J.prototype._onError=function(te){if(this._map){if(this.options.trackUserLocation)if(te.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ge=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ge,this._geolocateButton.setAttribute("aria-label",ge),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(te.code===3&&vc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",te)),this._finish()}},J.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},J.prototype._setupUI=function(te){var ge=this;if(this._container.addEventListener("contextmenu",function(ct){return ct.preventDefault()}),this._geolocateButton=T.create("button","mapboxgl-ctrl-geolocate",this._container),T.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",te===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ze=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ze,this._geolocateButton.setAttribute("aria-label",ze)}else{var Ke=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ke,this._geolocateButton.setAttribute("aria-label",Ke)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new cc(this._dotElement),this._circleElement=T.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ct){var Pt=ct.originalEvent&&ct.originalEvent.type==="resize";!ct.geolocateSource&&ge._watchState==="ACTIVE_LOCK"&&!Pt&&(ge._watchState="BACKGROUND",ge._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ge._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ge.fire(new n.Event("trackuserlocationend")))})},J.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ff--,vc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ff++;var te;Ff>1?(te={maximumAge:6e5,timeout:0},vc=!0):(te=this.options.positionOptions,vc=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,te)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},J.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},J}(n.Evented),Kv={maxWidth:100,unit:"metric"},dc=function(J){this.options=n.extend({},Kv,J),n.bindAll(["_onMove","setUnit"],this)};dc.prototype.getDefaultPosition=function(){return"bottom-left"},dc.prototype._onMove=function(){bu(this._map,this._container,this.options)},dc.prototype.onAdd=function(J){return this._map=J,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",J.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},dc.prototype.onRemove=function(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},dc.prototype.setUnit=function(J){this.options.unit=J,bu(this._map,this._container,this.options)};function bu(ve,J,de){var te=de&&de.maxWidth||100,ge=ve._container.clientHeight/2,ze=ve.unproject([0,ge]),Ke=ve.unproject([te,ge]),ct=ze.distanceTo(Ke);if(de&&de.unit==="imperial"){var Pt=3.2808*ct;if(Pt>5280){var Yt=Pt/5280;Vc(J,te,Yt,ve._getUIString("ScaleControl.Miles"))}else Vc(J,te,Pt,ve._getUIString("ScaleControl.Feet"))}else if(de&&de.unit==="nautical"){var qt=ct/1852;Vc(J,te,qt,ve._getUIString("ScaleControl.NauticalMiles"))}else ct>=1e3?Vc(J,te,ct/1e3,ve._getUIString("ScaleControl.Kilometers")):Vc(J,te,ct,ve._getUIString("ScaleControl.Meters"))}function Vc(ve,J,de,te){var ge=Od(de),ze=ge/de;ve.style.width=J*ze+"px",ve.innerHTML=ge+"&nbsp;"+te}function Jv(ve){var J=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*J)/J}function Od(ve){var J=Math.pow(10,(""+Math.floor(ve)).length-1),de=ve/J;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:Jv(de),J*de}var ql=function(J){this._fullscreen=!1,J&&J.container&&(J.container instanceof n.window.HTMLElement?this._container=J.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};ql.prototype.onAdd=function(J){return this._map=J,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ql.prototype.onRemove=function(){T.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ql.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},ql.prototype._setupUI=function(){var J=this._fullscreenButton=T.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);T.create("span","mapboxgl-ctrl-icon",J).setAttribute("aria-hidden",!0),J.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ql.prototype._updateTitle=function(){var J=this._getTitle();this._fullscreenButton.setAttribute("aria-label",J),this._fullscreenButton.title=J},ql.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ql.prototype._isFullscreen=function(){return this._fullscreen},ql.prototype._changeIcon=function(){var J=n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement;J===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ql.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var zd={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Fd=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Nf=function(ve){function J(de){ve.call(this),this.options=n.extend(Object.create(zd),de),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.addTo=function(te){return this._map&&this.remove(),this._map=te,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},J.prototype.isOpen=function(){return!!this._map},J.prototype.remove=function(){return this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},J.prototype.getLngLat=function(){return this._lngLat},J.prototype.setLngLat=function(te){return this._lngLat=n.LngLat.convert(te),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},J.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},J.prototype.getElement=function(){return this._container},J.prototype.setText=function(te){return this.setDOMContent(n.window.document.createTextNode(te))},J.prototype.setHTML=function(te){var ge=n.window.document.createDocumentFragment(),ze=n.window.document.createElement("body"),Ke;for(ze.innerHTML=te;Ke=ze.firstChild,!!Ke;)ge.appendChild(Ke);return this.setDOMContent(ge)},J.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},J.prototype.setMaxWidth=function(te){return this.options.maxWidth=te,this._update(),this},J.prototype.setDOMContent=function(te){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=T.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(te),this._createCloseButton(),this._update(),this._focusFirstElement(),this},J.prototype.addClassName=function(te){this._container&&this._container.classList.add(te)},J.prototype.removeClassName=function(te){this._container&&this._container.classList.remove(te)},J.prototype.setOffset=function(te){return this.options.offset=te,this._update(),this},J.prototype.toggleClassName=function(te){if(this._container)return this._container.classList.toggle(te)},J.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=T.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},J.prototype._onMouseUp=function(te){this._update(te.point)},J.prototype._onMouseMove=function(te){this._update(te.point)},J.prototype._onDrag=function(te){this._update(te.point)},J.prototype._update=function(te){var ge=this,ze=this._lngLat||this._trackPointer;if(!(!this._map||!ze||!this._content)&&(this._container||(this._container=T.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=T.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Vr){return ge._container.classList.add(Vr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ql(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!te))){var Ke=this._pos=this._trackPointer&&te?te:this._map.project(this._lngLat),ct=this.options.anchor,Pt=tv(this.options.offset);if(!ct){var Yt=this._container.offsetWidth,qt=this._container.offsetHeight,vr;Ke.y+Pt.bottom.y<qt?vr=["top"]:Ke.y>this._map.transform.height-qt?vr=["bottom"]:vr=[],Ke.x<Yt/2?vr.push("left"):Ke.x>this._map.transform.width-Yt/2&&vr.push("right"),vr.length===0?ct="bottom":ct=vr.join("-")}var fr=Ke.add(Pt[ct]).round();T.setTransform(this._container,fh[ct]+" translate("+fr.x+"px,"+fr.y+"px)"),Uc(this._container,ct,"popup")}},J.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var te=this._container.querySelector(Fd);te&&te.focus()}},J.prototype._onClose=function(){this.remove()},J}(n.Evented);function tv(ve){if(ve)if(typeof ve=="number"){var J=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new n.Point(0,0),top:new n.Point(0,ve),"top-left":new n.Point(J,J),"top-right":new n.Point(-J,J),bottom:new n.Point(0,-ve),"bottom-left":new n.Point(J,-J),"bottom-right":new n.Point(-J,-J),left:new n.Point(ve,0),right:new n.Point(-ve,0)}}else if(ve instanceof n.Point||Array.isArray(ve)){var de=n.Point.convert(ve);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}else return{center:n.Point.convert(ve.center||[0,0]),top:n.Point.convert(ve.top||[0,0]),"top-left":n.Point.convert(ve["top-left"]||[0,0]),"top-right":n.Point.convert(ve["top-right"]||[0,0]),bottom:n.Point.convert(ve.bottom||[0,0]),"bottom-left":n.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(ve["bottom-right"]||[0,0]),left:n.Point.convert(ve.left||[0,0]),right:n.Point.convert(ve.right||[0,0])};else return tv(new n.Point(0,0))}var No={version:n.version,supported:C,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:fc,NavigationControl:sf,GeolocateControl:ev,AttributionControl:bi,ScaleControl:dc,FullscreenControl:ql,Popup:Nf,Marker:cc,Style:Ps,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:Nt,clearPrewarmedResources:Qt,get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(ve){n.config.ACCESS_TOKEN=ve},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(ve){n.config.API_URL=ve},get workerCount(){return mr.workerCount},set workerCount(ve){mr.workerCount=ve},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){n.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(J){n.clearTileCache(J)},workerUrl:""};return No}),p})},3108:function(H,U,e){H.exports=e(26099)},26099:function(H,U,e){var p=e(64928),L=e(32420),n=e(51160),C=e(76752),T=e(55616),v=e(31264),g=e(47520),r=e(18400),t=e(72512),s=e(76244),a=1073741824;H.exports=function(l,m){m||(m={}),l=g(l,"float64"),m=T(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(m.maxDepth,255),M=v(m.bounds,C(l,2));M[0]===M[2]&&M[2]++,M[1]===M[3]&&M[3]++;var c=f(l,M),i=l.length>>>1,d;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?d=new(t(m.dtype))(i):m.dtype&&(d=m.dtype,Array.isArray(d)&&(d.length=i));for(var x=0;x<i;++x)d[x]=x;var A=[],E=[],y=[],S=[];N(0,0,1,d,0,1);for(var w=0,o=0;o<A.length;o++){var _=A[o];if(d.set)d.set(_,w);else for(var b=0,I=_.length;b<I;b++)d[b+w]=_[b];var D=w+A[o].length;S[o]=[w,D],w=D}return d.range=k,d;function N(O,B,W,ee,ne,Q){if(!ee.length)return null;var le=A[ne]||(A[ne]=[]),Z=y[ne]||(y[ne]=[]),Y=E[ne]||(E[ne]=[]),re=le.length;if(ne++,ne>h||Q>a){for(var X=0;X<ee.length;X++)le.push(ee[X]),Z.push(Q),Y.push(null,null,null,null);return re}if(le.push(ee[0]),Z.push(Q),ee.length<=1)return Y.push(null,null,null,null),re;for(var q=W*.5,se=O+q,$=B+q,j=[],ue=[],ae=[],ce=[],ye=1,Ce=ee.length;ye<Ce;ye++){var Ae=ee[ye],Ie=c[Ae*2],Te=c[Ae*2+1];Ie<se?Te<$?j.push(Ae):ue.push(Ae):Te<$?ae.push(Ae):ce.push(Ae)}return Q<<=2,Y.push(N(O,B,q,j,ne,Q),N(O,$,q,ue,ne,Q+1),N(se,B,q,ae,ne,Q+2),N(se,$,q,ce,ne,Q+3)),re}function k(){for(var O=[],B=arguments.length;B--;)O[B]=arguments[B];var W;if(r(O[O.length-1])){var ee=O.pop();!O.length&&(ee.x!=null||ee.l!=null||ee.left!=null)&&(O=[ee],W={}),W=T(ee,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else W={};O.length||(O=M);var ne=n.apply(void 0,O),Q=[Math.min(ne.x,ne.x+ne.width),Math.min(ne.y,ne.y+ne.height),Math.max(ne.x,ne.x+ne.width),Math.max(ne.y,ne.y+ne.height)],le=Q[0],Z=Q[1],Y=Q[2],re=Q[3],X=f([le,Z,Y,re],M),q=X[0],se=X[1],$=X[2],j=X[3],ue=v(W.level,A.length);if(W.d!=null){var ae;typeof W.d=="number"?ae=[W.d,W.d]:W.d.length&&(ae=W.d),ue=Math.min(Math.max(Math.ceil(-s(Math.abs(ae[0])/(M[2]-M[0]))),Math.ceil(-s(Math.abs(ae[1])/(M[3]-M[1])))),ue)}if(ue=Math.min(ue,A.length),W.lod)return z(q,se,$,j,ue);var ce=[];ye(0,0,1,0,0,1);function ye(Ae,Ie,Te,Le,xe,Re){if(!(xe===null||Re===null)){var He=Ae+Te,Ve=Ie+Te;if(!(q>He||se>Ve||$<Ae||j<Ie)&&!(Le>=ue)&&xe!==Re){var Fe=A[Le];Re===void 0&&(Re=Fe.length);for(var We=xe;We<Re;We++){var ut=Fe[We],ht=l[ut*2],rt=l[ut*2+1];ht>=le&&ht<=Y&&rt>=Z&&rt<=re&&ce.push(ut)}var tt=E[Le],vt=tt[xe*4+0],pt=tt[xe*4+1],mt=tt[xe*4+2],wt=tt[xe*4+3],Lt=Ce(tt,xe+1),at=Te*.5,Oe=Le+1;ye(Ae,Ie,at,Oe,vt,pt||mt||wt||Lt),ye(Ae,Ie+at,at,Oe,pt,mt||wt||Lt),ye(Ae+at,Ie,at,Oe,mt,wt||Lt),ye(Ae+at,Ie+at,at,Oe,wt,Lt)}}}function Ce(Ae,Ie){for(var Te=null,Le=0;Te===null;)if(Te=Ae[Ie*4+Le],Le++,Le>Ae.length)return null;return Te}return ce}function z(O,B,W,ee,ne){for(var Q=[],le=0;le<ne;le++){var Z=y[le],Y=S[le][0],re=F(O,B,le),X=F(W,ee,le),q=p.ge(Z,re),se=p.gt(Z,X,q,Z.length-1);Q[le]=[q+Y,se+Y]}return Q}function F(O,B,W){for(var ee=1,ne=.5,Q=.5,le=.5,Z=0;Z<W;Z++)ee<<=2,ee+=O<ne?B<Q?0:1:B<Q?2:3,le*=.5,ne+=O<ne?-le:le,Q+=B<Q?-le:le;return ee}};function f(u,l){for(var m=l[0],h=l[1],M=l[2],c=l[3],i=1/(M-m),d=1/(c-h),x=new Array(u.length),A=0,E=u.length/2;A<E;A++)x[2*A]=L((u[2*A]-m)*i,0,1),x[2*A+1]=L((u[2*A+1]-h)*d,0,1);return x}},40440:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(3256),L=6378137;function n(r){return p.geomReduce(r,function(t,s){return t+C(s)},0)}U.default=n;function C(r){var t=0,s;switch(r.type){case"Polygon":return T(r.coordinates);case"MultiPolygon":for(s=0;s<r.coordinates.length;s++)t+=T(r.coordinates[s]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function T(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var s=1;s<r.length;s++)t-=Math.abs(v(r[s]))}return t}function v(r){var t,s,a,f,u,l,m,h=0,M=r.length;if(M>2){for(m=0;m<M;m++)m===M-2?(f=M-2,u=M-1,l=0):m===M-1?(f=M-1,u=0,l=1):(f=m,u=m+1,l=m+2),t=r[f],s=r[u],a=r[l],h+=(g(a[0])-g(t[0]))*Math.sin(g(s[1]));h=h*L*L/2}return h}function g(r){return r*Math.PI/180}},46284:function(H,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(w,o,_){_===void 0&&(_={});var b={type:"Feature"};return(_.id===0||_.id)&&(b.id=_.id),_.bbox&&(b.bbox=_.bbox),b.properties=o||{},b.geometry=w,b}U.feature=e;function p(w,o,_){switch(w){case"Point":return L(o).geometry;case"LineString":return v(o).geometry;case"Polygon":return C(o).geometry;case"MultiPoint":return s(o).geometry;case"MultiLineString":return t(o).geometry;case"MultiPolygon":return a(o).geometry;default:throw new Error(w+" is invalid")}}U.geometry=p;function L(w,o,_){if(_===void 0&&(_={}),!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(w[0])||!A(w[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:w};return e(b,o,_)}U.point=L;function n(w,o,_){return _===void 0&&(_={}),r(w.map(function(b){return L(b,o)}),_)}U.points=n;function C(w,o,_){_===void 0&&(_={});for(var b=0,I=w;b<I.length;b++){var D=I[b];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:w};return e(k,o,_)}U.polygon=C;function T(w,o,_){return _===void 0&&(_={}),r(w.map(function(b){return C(b,o)}),_)}U.polygons=T;function v(w,o,_){if(_===void 0&&(_={}),w.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:w};return e(b,o,_)}U.lineString=v;function g(w,o,_){return _===void 0&&(_={}),r(w.map(function(b){return v(b,o)}),_)}U.lineStrings=g;function r(w,o){o===void 0&&(o={});var _={type:"FeatureCollection"};return o.id&&(_.id=o.id),o.bbox&&(_.bbox=o.bbox),_.features=w,_}U.featureCollection=r;function t(w,o,_){_===void 0&&(_={});var b={type:"MultiLineString",coordinates:w};return e(b,o,_)}U.multiLineString=t;function s(w,o,_){_===void 0&&(_={});var b={type:"MultiPoint",coordinates:w};return e(b,o,_)}U.multiPoint=s;function a(w,o,_){_===void 0&&(_={});var b={type:"MultiPolygon",coordinates:w};return e(b,o,_)}U.multiPolygon=a;function f(w,o,_){_===void 0&&(_={});var b={type:"GeometryCollection",geometries:w};return e(b,o,_)}U.geometryCollection=f;function u(w,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var _=Math.pow(10,o||0);return Math.round(w*_)/_}U.round=u;function l(w,o){o===void 0&&(o="kilometers");var _=U.factors[o];if(!_)throw new Error(o+" units is invalid");return w*_}U.radiansToLength=l;function m(w,o){o===void 0&&(o="kilometers");var _=U.factors[o];if(!_)throw new Error(o+" units is invalid");return w/_}U.lengthToRadians=m;function h(w,o){return c(m(w,o))}U.lengthToDegrees=h;function M(w){var o=w%360;return o<0&&(o+=360),o}U.bearingToAzimuth=M;function c(w){var o=w%(2*Math.PI);return o*180/Math.PI}U.radiansToDegrees=c;function i(w){var o=w%360;return o*Math.PI/180}U.degreesToRadians=i;function d(w,o,_){if(o===void 0&&(o="kilometers"),_===void 0&&(_="kilometers"),!(w>=0))throw new Error("length must be a positive number");return l(m(w,o),_)}U.convertLength=d;function x(w,o,_){if(o===void 0&&(o="meters"),_===void 0&&(_="kilometers"),!(w>=0))throw new Error("area must be a positive number");var b=U.areaFactors[o];if(!b)throw new Error("invalid original units");var I=U.areaFactors[_];if(!I)throw new Error("invalid final units");return w/b*I}U.convertArea=x;function A(w){return!isNaN(w)&&w!==null&&!Array.isArray(w)}U.isNumber=A;function E(w){return!!w&&w.constructor===Object}U.isObject=E;function y(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(w.length!==4&&w.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(o){if(!A(o))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function S(w){if(!w)throw new Error("id is required");if(["string","number"].indexOf(typeof w)===-1)throw new Error("id must be a number or a string")}U.validateId=S},3256:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(46284);function L(i,d,x){if(i!==null)for(var A,E,y,S,w,o,_,b=0,I=0,D,N=i.type,k=N==="FeatureCollection",z=N==="Feature",F=k?i.features.length:1,O=0;O<F;O++){_=k?i.features[O].geometry:z?i.geometry:i,D=_?_.type==="GeometryCollection":!1,w=D?_.geometries.length:1;for(var B=0;B<w;B++){var W=0,ee=0;if(S=D?_.geometries[B]:_,S!==null){o=S.coordinates;var ne=S.type;switch(b=x&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(d(o,I,O,W,ee)===!1)return!1;I++,W++;break;case"LineString":case"MultiPoint":for(A=0;A<o.length;A++){if(d(o[A],I,O,W,ee)===!1)return!1;I++,ne==="MultiPoint"&&W++}ne==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(A=0;A<o.length;A++){for(E=0;E<o[A].length-b;E++){if(d(o[A][E],I,O,W,ee)===!1)return!1;I++}ne==="MultiLineString"&&W++,ne==="Polygon"&&ee++}ne==="Polygon"&&W++;break;case"MultiPolygon":for(A=0;A<o.length;A++){for(ee=0,E=0;E<o[A].length;E++){for(y=0;y<o[A][E].length-b;y++){if(d(o[A][E][y],I,O,W,ee)===!1)return!1;I++}ee++}W++}break;case"GeometryCollection":for(A=0;A<S.geometries.length;A++)if(L(S.geometries[A],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(i,d,x,A){var E=x;return L(i,function(y,S,w,o,_){S===0&&x===void 0?E=y:E=d(E,y,S,w,o,_)},A),E}function C(i,d){var x;switch(i.type){case"FeatureCollection":for(x=0;x<i.features.length&&d(i.features[x].properties,x)!==!1;x++);break;case"Feature":d(i.properties,0);break}}function T(i,d,x){var A=x;return C(i,function(E,y){y===0&&x===void 0?A=E:A=d(A,E,y)}),A}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var x=0;x<i.features.length&&d(i.features[x],x)!==!1;x++);}function g(i,d,x){var A=x;return v(i,function(E,y){y===0&&x===void 0?A=E:A=d(A,E,y)}),A}function r(i){var d=[];return L(i,function(x){d.push(x)}),d}function t(i,d){var x,A,E,y,S,w,o,_,b,I,D=0,N=i.type==="FeatureCollection",k=i.type==="Feature",z=N?i.features.length:1;for(x=0;x<z;x++){for(w=N?i.features[x].geometry:k?i.geometry:i,_=N?i.features[x].properties:k?i.properties:{},b=N?i.features[x].bbox:k?i.bbox:void 0,I=N?i.features[x].id:k?i.id:void 0,o=w?w.type==="GeometryCollection":!1,S=o?w.geometries.length:1,E=0;E<S;E++){if(y=o?w.geometries[E]:w,y===null){if(d(null,D,_,b,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,D,_,b,I)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<y.geometries.length;A++)if(d(y.geometries[A],D,_,b,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function s(i,d,x){var A=x;return t(i,function(E,y,S,w,o){y===0&&x===void 0?A=E:A=d(A,E,y,S,w,o)}),A}function a(i,d){t(i,function(x,A,E,y,S){var w=x===null?null:x.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(x,E,{bbox:y,id:S}),A,0)===!1?!1:void 0}var o;switch(w){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var _=0;_<x.coordinates.length;_++){var b=x.coordinates[_],I={type:o,coordinates:b};if(d(p.feature(I,E),A,_)===!1)return!1}})}function f(i,d,x){var A=x;return a(i,function(E,y,S){y===0&&S===0&&x===void 0?A=E:A=d(A,E,y,S)}),A}function u(i,d){a(i,function(x,A,E){var y=0;if(x.geometry){var S=x.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var w,o=0,_=0,b=0;if(L(x,function(I,D,N,k,z){if(w===void 0||A>o||k>_||z>b){w=I,o=A,_=k,b=z,y=0;return}var F=p.lineString([w,I],x.properties);if(d(F,A,E,z,y)===!1)return!1;y++,w=I})===!1)return!1}}})}function l(i,d,x){var A=x,E=!1;return u(i,function(y,S,w,o,_){E===!1&&x===void 0?A=y:A=d(A,y,S,w,o,_),E=!0}),A}function m(i,d){if(!i)throw new Error("geojson is required");a(i,function(x,A,E){if(x.geometry!==null){var y=x.geometry.type,S=x.geometry.coordinates;switch(y){case"LineString":if(d(x,A,E,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<S.length;w++)if(d(p.lineString(S[w],x.properties),A,E,w)===!1)return!1;break}}})}function h(i,d,x){var A=x;return m(i,function(E,y,S,w){y===0&&x===void 0?A=E:A=d(A,E,y,S,w)}),A}function M(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.segmentIndex||0,S=d.properties,w;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),S=S||i.features[x].properties,w=i.features[x].geometry;break;case"Feature":S=S||i.properties,w=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=i;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),p.lineString([o[y],o[y+1]],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y-1),p.lineString([o[E][y],o[E][y+1]],S,d);case"MultiLineString":return A<0&&(A=o.length+A),y<0&&(y=o[A].length+y-1),p.lineString([o[A][y],o[A][y+1]],S,d);case"MultiPolygon":return A<0&&(A=o.length+A),E<0&&(E=o[A].length+E),y<0&&(y=o[A][E].length-y-1),p.lineString([o[A][E][y],o[A][E][y+1]],S,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.coordIndex||0,S=d.properties,w;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),S=S||i.features[x].properties,w=i.features[x].geometry;break;case"Feature":S=S||i.properties,w=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=i;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":return p.point(o,S,d);case"MultiPoint":return A<0&&(A=o.length+A),p.point(o[A],S,d);case"LineString":return y<0&&(y=o.length+y),p.point(o[y],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y),p.point(o[E][y],S,d);case"MultiLineString":return A<0&&(A=o.length+A),y<0&&(y=o[A].length+y),p.point(o[A][y],S,d);case"MultiPolygon":return A<0&&(A=o.length+A),E<0&&(E=o[A].length+E),y<0&&(y=o[A][E].length-y),p.point(o[A][E][y],S,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=n,U.propEach=C,U.propReduce=T,U.featureEach=v,U.featureReduce=g,U.coordAll=r,U.geomEach=t,U.geomReduce=s,U.flattenEach=a,U.flattenReduce=f,U.segmentEach=u,U.segmentReduce=l,U.lineEach=m,U.lineReduce=h,U.findSegment=M,U.findPoint=c},42428:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(84880);function L(n){var C=[1/0,1/0,-1/0,-1/0];return p.coordEach(n,function(T){C[0]>T[0]&&(C[0]=T[0]),C[1]>T[1]&&(C[1]=T[1]),C[2]<T[0]&&(C[2]=T[0]),C[3]<T[1]&&(C[3]=T[1])}),C}L.default=L,U.default=L},76796:function(H,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius*1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:1.0936133},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(w,o,_){_===void 0&&(_={});var b={type:"Feature"};return(_.id===0||_.id)&&(b.id=_.id),_.bbox&&(b.bbox=_.bbox),b.properties=o||{},b.geometry=w,b}U.feature=e;function p(w,o,_){switch(w){case"Point":return L(o).geometry;case"LineString":return v(o).geometry;case"Polygon":return C(o).geometry;case"MultiPoint":return s(o).geometry;case"MultiLineString":return t(o).geometry;case"MultiPolygon":return a(o).geometry;default:throw new Error(w+" is invalid")}}U.geometry=p;function L(w,o,_){if(_===void 0&&(_={}),!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(w[0])||!A(w[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:w};return e(b,o,_)}U.point=L;function n(w,o,_){return _===void 0&&(_={}),r(w.map(function(b){return L(b,o)}),_)}U.points=n;function C(w,o,_){_===void 0&&(_={});for(var b=0,I=w;b<I.length;b++){var D=I[b];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}var k={type:"Polygon",coordinates:w};return e(k,o,_)}U.polygon=C;function T(w,o,_){return _===void 0&&(_={}),r(w.map(function(b){return C(b,o)}),_)}U.polygons=T;function v(w,o,_){if(_===void 0&&(_={}),w.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:w};return e(b,o,_)}U.lineString=v;function g(w,o,_){return _===void 0&&(_={}),r(w.map(function(b){return v(b,o)}),_)}U.lineStrings=g;function r(w,o){o===void 0&&(o={});var _={type:"FeatureCollection"};return o.id&&(_.id=o.id),o.bbox&&(_.bbox=o.bbox),_.features=w,_}U.featureCollection=r;function t(w,o,_){_===void 0&&(_={});var b={type:"MultiLineString",coordinates:w};return e(b,o,_)}U.multiLineString=t;function s(w,o,_){_===void 0&&(_={});var b={type:"MultiPoint",coordinates:w};return e(b,o,_)}U.multiPoint=s;function a(w,o,_){_===void 0&&(_={});var b={type:"MultiPolygon",coordinates:w};return e(b,o,_)}U.multiPolygon=a;function f(w,o,_){_===void 0&&(_={});var b={type:"GeometryCollection",geometries:w};return e(b,o,_)}U.geometryCollection=f;function u(w,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var _=Math.pow(10,o||0);return Math.round(w*_)/_}U.round=u;function l(w,o){o===void 0&&(o="kilometers");var _=U.factors[o];if(!_)throw new Error(o+" units is invalid");return w*_}U.radiansToLength=l;function m(w,o){o===void 0&&(o="kilometers");var _=U.factors[o];if(!_)throw new Error(o+" units is invalid");return w/_}U.lengthToRadians=m;function h(w,o){return c(m(w,o))}U.lengthToDegrees=h;function M(w){var o=w%360;return o<0&&(o+=360),o}U.bearingToAzimuth=M;function c(w){var o=w%(2*Math.PI);return o*180/Math.PI}U.radiansToDegrees=c;function i(w){var o=w%360;return o*Math.PI/180}U.degreesToRadians=i;function d(w,o,_){if(o===void 0&&(o="kilometers"),_===void 0&&(_="kilometers"),!(w>=0))throw new Error("length must be a positive number");return l(m(w,o),_)}U.convertLength=d;function x(w,o,_){if(o===void 0&&(o="meters"),_===void 0&&(_="kilometers"),!(w>=0))throw new Error("area must be a positive number");var b=U.areaFactors[o];if(!b)throw new Error("invalid original units");var I=U.areaFactors[_];if(!I)throw new Error("invalid final units");return w/b*I}U.convertArea=x;function A(w){return!isNaN(w)&&w!==null&&!Array.isArray(w)}U.isNumber=A;function E(w){return!!w&&w.constructor===Object}U.isObject=E;function y(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(w.length!==4&&w.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(o){if(!A(o))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function S(w){if(!w)throw new Error("id is required");if(["string","number"].indexOf(typeof w)===-1)throw new Error("id must be a number or a string")}U.validateId=S},84880:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(76796);function L(i,d,x){if(i!==null)for(var A,E,y,S,w,o,_,b=0,I=0,D,N=i.type,k=N==="FeatureCollection",z=N==="Feature",F=k?i.features.length:1,O=0;O<F;O++){_=k?i.features[O].geometry:z?i.geometry:i,D=_?_.type==="GeometryCollection":!1,w=D?_.geometries.length:1;for(var B=0;B<w;B++){var W=0,ee=0;if(S=D?_.geometries[B]:_,S!==null){o=S.coordinates;var ne=S.type;switch(b=x&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(d(o,I,O,W,ee)===!1)return!1;I++,W++;break;case"LineString":case"MultiPoint":for(A=0;A<o.length;A++){if(d(o[A],I,O,W,ee)===!1)return!1;I++,ne==="MultiPoint"&&W++}ne==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(A=0;A<o.length;A++){for(E=0;E<o[A].length-b;E++){if(d(o[A][E],I,O,W,ee)===!1)return!1;I++}ne==="MultiLineString"&&W++,ne==="Polygon"&&ee++}ne==="Polygon"&&W++;break;case"MultiPolygon":for(A=0;A<o.length;A++){for(ee=0,E=0;E<o[A].length;E++){for(y=0;y<o[A][E].length-b;y++){if(d(o[A][E][y],I,O,W,ee)===!1)return!1;I++}ee++}W++}break;case"GeometryCollection":for(A=0;A<S.geometries.length;A++)if(L(S.geometries[A],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(i,d,x,A){var E=x;return L(i,function(y,S,w,o,_){S===0&&x===void 0?E=y:E=d(E,y,S,w,o,_)},A),E}function C(i,d){var x;switch(i.type){case"FeatureCollection":for(x=0;x<i.features.length&&d(i.features[x].properties,x)!==!1;x++);break;case"Feature":d(i.properties,0);break}}function T(i,d,x){var A=x;return C(i,function(E,y){y===0&&x===void 0?A=E:A=d(A,E,y)}),A}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var x=0;x<i.features.length&&d(i.features[x],x)!==!1;x++);}function g(i,d,x){var A=x;return v(i,function(E,y){y===0&&x===void 0?A=E:A=d(A,E,y)}),A}function r(i){var d=[];return L(i,function(x){d.push(x)}),d}function t(i,d){var x,A,E,y,S,w,o,_,b,I,D=0,N=i.type==="FeatureCollection",k=i.type==="Feature",z=N?i.features.length:1;for(x=0;x<z;x++){for(w=N?i.features[x].geometry:k?i.geometry:i,_=N?i.features[x].properties:k?i.properties:{},b=N?i.features[x].bbox:k?i.bbox:void 0,I=N?i.features[x].id:k?i.id:void 0,o=w?w.type==="GeometryCollection":!1,S=o?w.geometries.length:1,E=0;E<S;E++){if(y=o?w.geometries[E]:w,y===null){if(d(null,D,_,b,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,D,_,b,I)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<y.geometries.length;A++)if(d(y.geometries[A],D,_,b,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function s(i,d,x){var A=x;return t(i,function(E,y,S,w,o){y===0&&x===void 0?A=E:A=d(A,E,y,S,w,o)}),A}function a(i,d){t(i,function(x,A,E,y,S){var w=x===null?null:x.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(x,E,{bbox:y,id:S}),A,0)===!1?!1:void 0}var o;switch(w){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var _=0;_<x.coordinates.length;_++){var b=x.coordinates[_],I={type:o,coordinates:b};if(d(p.feature(I,E),A,_)===!1)return!1}})}function f(i,d,x){var A=x;return a(i,function(E,y,S){y===0&&S===0&&x===void 0?A=E:A=d(A,E,y,S)}),A}function u(i,d){a(i,function(x,A,E){var y=0;if(x.geometry){var S=x.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var w,o=0,_=0,b=0;if(L(x,function(I,D,N,k,z){if(w===void 0||A>o||k>_||z>b){w=I,o=A,_=k,b=z,y=0;return}var F=p.lineString([w,I],x.properties);if(d(F,A,E,z,y)===!1)return!1;y++,w=I})===!1)return!1}}})}function l(i,d,x){var A=x,E=!1;return u(i,function(y,S,w,o,_){E===!1&&x===void 0?A=y:A=d(A,y,S,w,o,_),E=!0}),A}function m(i,d){if(!i)throw new Error("geojson is required");a(i,function(x,A,E){if(x.geometry!==null){var y=x.geometry.type,S=x.geometry.coordinates;switch(y){case"LineString":if(d(x,A,E,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<S.length;w++)if(d(p.lineString(S[w],x.properties),A,E,w)===!1)return!1;break}}})}function h(i,d,x){var A=x;return m(i,function(E,y,S,w){y===0&&x===void 0?A=E:A=d(A,E,y,S,w)}),A}function M(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.segmentIndex||0,S=d.properties,w;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),S=S||i.features[x].properties,w=i.features[x].geometry;break;case"Feature":S=S||i.properties,w=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=i;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),p.lineString([o[y],o[y+1]],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y-1),p.lineString([o[E][y],o[E][y+1]],S,d);case"MultiLineString":return A<0&&(A=o.length+A),y<0&&(y=o[A].length+y-1),p.lineString([o[A][y],o[A][y+1]],S,d);case"MultiPolygon":return A<0&&(A=o.length+A),E<0&&(E=o[A].length+E),y<0&&(y=o[A][E].length-y-1),p.lineString([o[A][E][y],o[A][E][y+1]],S,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.coordIndex||0,S=d.properties,w;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),S=S||i.features[x].properties,w=i.features[x].geometry;break;case"Feature":S=S||i.properties,w=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=i;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":return p.point(o,S,d);case"MultiPoint":return A<0&&(A=o.length+A),p.point(o[A],S,d);case"LineString":return y<0&&(y=o.length+y),p.point(o[y],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y),p.point(o[E][y],S,d);case"MultiLineString":return A<0&&(A=o.length+A),y<0&&(y=o[A].length+y),p.point(o[A][y],S,d);case"MultiPolygon":return A<0&&(A=o.length+A),E<0&&(E=o[A].length+E),y<0&&(y=o[A][E].length-y),p.point(o[A][E][y],S,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=n,U.propEach=C,U.propReduce=T,U.featureEach=v,U.featureReduce=g,U.coordAll=r,U.geomEach=t,U.geomReduce=s,U.flattenEach=a,U.flattenReduce=f,U.segmentEach=u,U.segmentReduce=l,U.lineEach=m,U.lineReduce=h,U.findSegment=M,U.findPoint=c},77844:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(43752),L=e(49840);function n(C,T){T===void 0&&(T={});var v=0,g=0,r=0;return p.coordEach(C,function(t){v+=t[0],g+=t[1],r++}),L.point([v/r,g/r],T.properties)}U.default=n},49840:function(H,U){Object.defineProperty(U,"__esModule",{value:!0}),U.earthRadius=63710088e-1,U.factors={centimeters:U.earthRadius*100,centimetres:U.earthRadius*100,degrees:U.earthRadius/111325,feet:U.earthRadius*3.28084,inches:U.earthRadius*39.37,kilometers:U.earthRadius/1e3,kilometres:U.earthRadius/1e3,meters:U.earthRadius,metres:U.earthRadius,miles:U.earthRadius/1609.344,millimeters:U.earthRadius*1e3,millimetres:U.earthRadius*1e3,nauticalmiles:U.earthRadius/1852,radians:1,yards:U.earthRadius/1.0936},U.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/U.earthRadius,yards:.91441111923921},U.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(k,z,F){F===void 0&&(F={});var O={type:"Feature"};return(F.id===0||F.id)&&(O.id=F.id),F.bbox&&(O.bbox=F.bbox),O.properties=z||{},O.geometry=k,O}U.feature=e;function p(k,z,F){switch(k){case"Point":return L(z).geometry;case"LineString":return v(z).geometry;case"Polygon":return C(z).geometry;case"MultiPoint":return s(z).geometry;case"MultiLineString":return t(z).geometry;case"MultiPolygon":return a(z).geometry;default:throw new Error(k+" is invalid")}}U.geometry=p;function L(k,z,F){F===void 0&&(F={});var O={type:"Point",coordinates:k};return e(O,z,F)}U.point=L;function n(k,z,F){return F===void 0&&(F={}),r(k.map(function(O){return L(O,z)}),F)}U.points=n;function C(k,z,F){F===void 0&&(F={});for(var O=0,B=k;O<B.length;O++){var W=B[O];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ee=0;ee<W[W.length-1].length;ee++)if(W[W.length-1][ee]!==W[0][ee])throw new Error("First and last Position are not equivalent.")}var ne={type:"Polygon",coordinates:k};return e(ne,z,F)}U.polygon=C;function T(k,z,F){return F===void 0&&(F={}),r(k.map(function(O){return C(O,z)}),F)}U.polygons=T;function v(k,z,F){if(F===void 0&&(F={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");var O={type:"LineString",coordinates:k};return e(O,z,F)}U.lineString=v;function g(k,z,F){return F===void 0&&(F={}),r(k.map(function(O){return v(O,z)}),F)}U.lineStrings=g;function r(k,z){z===void 0&&(z={});var F={type:"FeatureCollection"};return z.id&&(F.id=z.id),z.bbox&&(F.bbox=z.bbox),F.features=k,F}U.featureCollection=r;function t(k,z,F){F===void 0&&(F={});var O={type:"MultiLineString",coordinates:k};return e(O,z,F)}U.multiLineString=t;function s(k,z,F){F===void 0&&(F={});var O={type:"MultiPoint",coordinates:k};return e(O,z,F)}U.multiPoint=s;function a(k,z,F){F===void 0&&(F={});var O={type:"MultiPolygon",coordinates:k};return e(O,z,F)}U.multiPolygon=a;function f(k,z,F){F===void 0&&(F={});var O={type:"GeometryCollection",geometries:k};return e(O,z,F)}U.geometryCollection=f;function u(k,z){if(z===void 0&&(z=0),z&&!(z>=0))throw new Error("precision must be a positive number");var F=Math.pow(10,z||0);return Math.round(k*F)/F}U.round=u;function l(k,z){z===void 0&&(z="kilometers");var F=U.factors[z];if(!F)throw new Error(z+" units is invalid");return k*F}U.radiansToLength=l;function m(k,z){z===void 0&&(z="kilometers");var F=U.factors[z];if(!F)throw new Error(z+" units is invalid");return k/F}U.lengthToRadians=m;function h(k,z){return c(m(k,z))}U.lengthToDegrees=h;function M(k){var z=k%360;return z<0&&(z+=360),z}U.bearingToAzimuth=M;function c(k){var z=k%(2*Math.PI);return z*180/Math.PI}U.radiansToDegrees=c;function i(k){var z=k%360;return z*Math.PI/180}U.degreesToRadians=i;function d(k,z,F){if(z===void 0&&(z="kilometers"),F===void 0&&(F="kilometers"),!(k>=0))throw new Error("length must be a positive number");return l(m(k,z),F)}U.convertLength=d;function x(k,z,F){if(z===void 0&&(z="meters"),F===void 0&&(F="kilometers"),!(k>=0))throw new Error("area must be a positive number");var O=U.areaFactors[z];if(!O)throw new Error("invalid original units");var B=U.areaFactors[F];if(!B)throw new Error("invalid final units");return k/O*B}U.convertArea=x;function A(k){return!isNaN(k)&&k!==null&&!Array.isArray(k)&&!/^\s*$/.test(k)}U.isNumber=A;function E(k){return!!k&&k.constructor===Object}U.isObject=E;function y(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(k.length!==4&&k.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(z){if(!A(z))throw new Error("bbox must only contain numbers")})}U.validateBBox=y;function S(k){if(!k)throw new Error("id is required");if(["string","number"].indexOf(typeof k)===-1)throw new Error("id must be a number or a string")}U.validateId=S;function w(){throw new Error("method has been renamed to `radiansToDegrees`")}U.radians2degrees=w;function o(){throw new Error("method has been renamed to `degreesToRadians`")}U.degrees2radians=o;function _(){throw new Error("method has been renamed to `lengthToDegrees`")}U.distanceToDegrees=_;function b(){throw new Error("method has been renamed to `lengthToRadians`")}U.distanceToRadians=b;function I(){throw new Error("method has been renamed to `radiansToLength`")}U.radiansToDistance=I;function D(){throw new Error("method has been renamed to `bearingToAzimuth`")}U.bearingToAngle=D;function N(){throw new Error("method has been renamed to `convertLength`")}U.convertDistance=N},43752:function(H,U,e){Object.defineProperty(U,"__esModule",{value:!0});var p=e(49840);function L(i,d,x){if(i!==null)for(var A,E,y,S,w,o,_,b=0,I=0,D,N=i.type,k=N==="FeatureCollection",z=N==="Feature",F=k?i.features.length:1,O=0;O<F;O++){_=k?i.features[O].geometry:z?i.geometry:i,D=_?_.type==="GeometryCollection":!1,w=D?_.geometries.length:1;for(var B=0;B<w;B++){var W=0,ee=0;if(S=D?_.geometries[B]:_,S!==null){o=S.coordinates;var ne=S.type;switch(b=x&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(d(o,I,O,W,ee)===!1)return!1;I++,W++;break;case"LineString":case"MultiPoint":for(A=0;A<o.length;A++){if(d(o[A],I,O,W,ee)===!1)return!1;I++,ne==="MultiPoint"&&W++}ne==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(A=0;A<o.length;A++){for(E=0;E<o[A].length-b;E++){if(d(o[A][E],I,O,W,ee)===!1)return!1;I++}ne==="MultiLineString"&&W++,ne==="Polygon"&&ee++}ne==="Polygon"&&W++;break;case"MultiPolygon":for(A=0;A<o.length;A++){for(ee=0,E=0;E<o[A].length;E++){for(y=0;y<o[A][E].length-b;y++){if(d(o[A][E][y],I,O,W,ee)===!1)return!1;I++}ee++}W++}break;case"GeometryCollection":for(A=0;A<S.geometries.length;A++)if(L(S.geometries[A],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(i,d,x,A){var E=x;return L(i,function(y,S,w,o,_){S===0&&x===void 0?E=y:E=d(E,y,S,w,o,_)},A),E}function C(i,d){var x;switch(i.type){case"FeatureCollection":for(x=0;x<i.features.length&&d(i.features[x].properties,x)!==!1;x++);break;case"Feature":d(i.properties,0);break}}function T(i,d,x){var A=x;return C(i,function(E,y){y===0&&x===void 0?A=E:A=d(A,E,y)}),A}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var x=0;x<i.features.length&&d(i.features[x],x)!==!1;x++);}function g(i,d,x){var A=x;return v(i,function(E,y){y===0&&x===void 0?A=E:A=d(A,E,y)}),A}function r(i){var d=[];return L(i,function(x){d.push(x)}),d}function t(i,d){var x,A,E,y,S,w,o,_,b,I,D=0,N=i.type==="FeatureCollection",k=i.type==="Feature",z=N?i.features.length:1;for(x=0;x<z;x++){for(w=N?i.features[x].geometry:k?i.geometry:i,_=N?i.features[x].properties:k?i.properties:{},b=N?i.features[x].bbox:k?i.bbox:void 0,I=N?i.features[x].id:k?i.id:void 0,o=w?w.type==="GeometryCollection":!1,S=o?w.geometries.length:1,E=0;E<S;E++){if(y=o?w.geometries[E]:w,y===null){if(d(null,D,_,b,I)===!1)return!1;continue}switch(y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(y,D,_,b,I)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<y.geometries.length;A++)if(d(y.geometries[A],D,_,b,I)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function s(i,d,x){var A=x;return t(i,function(E,y,S,w,o){y===0&&x===void 0?A=E:A=d(A,E,y,S,w,o)}),A}function a(i,d){t(i,function(x,A,E,y,S){var w=x===null?null:x.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(x,E,{bbox:y,id:S}),A,0)===!1?!1:void 0}var o;switch(w){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var _=0;_<x.coordinates.length;_++){var b=x.coordinates[_],I={type:o,coordinates:b};if(d(p.feature(I,E),A,_)===!1)return!1}})}function f(i,d,x){var A=x;return a(i,function(E,y,S){y===0&&S===0&&x===void 0?A=E:A=d(A,E,y,S)}),A}function u(i,d){a(i,function(x,A,E){var y=0;if(x.geometry){var S=x.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var w,o=0,_=0,b=0;if(L(x,function(I,D,N,k,z){if(w===void 0||A>o||k>_||z>b){w=I,o=A,_=k,b=z,y=0;return}var F=p.lineString([w,I],x.properties);if(d(F,A,E,z,y)===!1)return!1;y++,w=I})===!1)return!1}}})}function l(i,d,x){var A=x,E=!1;return u(i,function(y,S,w,o,_){E===!1&&x===void 0?A=y:A=d(A,y,S,w,o,_),E=!0}),A}function m(i,d){if(!i)throw new Error("geojson is required");a(i,function(x,A,E){if(x.geometry!==null){var y=x.geometry.type,S=x.geometry.coordinates;switch(y){case"LineString":if(d(x,A,E,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<S.length;w++)if(d(p.lineString(S[w],x.properties),A,E,w)===!1)return!1;break}}})}function h(i,d,x){var A=x;return m(i,function(E,y,S,w){y===0&&x===void 0?A=E:A=d(A,E,y,S,w)}),A}function M(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.segmentIndex||0,S=d.properties,w;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),S=S||i.features[x].properties,w=i.features[x].geometry;break;case"Feature":S=S||i.properties,w=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=i;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return y<0&&(y=o.length+y-1),p.lineString([o[y],o[y+1]],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y-1),p.lineString([o[E][y],o[E][y+1]],S,d);case"MultiLineString":return A<0&&(A=o.length+A),y<0&&(y=o[A].length+y-1),p.lineString([o[A][y],o[A][y+1]],S,d);case"MultiPolygon":return A<0&&(A=o.length+A),E<0&&(E=o[A].length+E),y<0&&(y=o[A][E].length-y-1),p.lineString([o[A][E][y],o[A][E][y+1]],S,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,A=d.multiFeatureIndex||0,E=d.geometryIndex||0,y=d.coordIndex||0,S=d.properties,w;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),S=S||i.features[x].properties,w=i.features[x].geometry;break;case"Feature":S=S||i.properties,w=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=i;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var o=w.coordinates;switch(w.type){case"Point":return p.point(o,S,d);case"MultiPoint":return A<0&&(A=o.length+A),p.point(o[A],S,d);case"LineString":return y<0&&(y=o.length+y),p.point(o[y],S,d);case"Polygon":return E<0&&(E=o.length+E),y<0&&(y=o[E].length+y),p.point(o[E][y],S,d);case"MultiLineString":return A<0&&(A=o.length+A),y<0&&(y=o[A].length+y),p.point(o[A][y],S,d);case"MultiPolygon":return A<0&&(A=o.length+A),E<0&&(E=o[A].length+E),y<0&&(y=o[A][E].length-y),p.point(o[A][E][y],S,d)}throw new Error("geojson is invalid")}U.coordEach=L,U.coordReduce=n,U.propEach=C,U.propReduce=T,U.featureEach=v,U.featureReduce=g,U.coordAll=r,U.geomEach=t,U.geomReduce=s,U.flattenEach=a,U.flattenReduce=f,U.segmentEach=u,U.segmentReduce=l,U.lineEach=m,U.lineReduce=h,U.findSegment=M,U.findPoint=c},49972:function(H){H.exports=U;function U(e){var p=0,L=0,n=0,C=0;return e.map(function(T){T=T.slice();var v=T[0],g=v.toUpperCase();if(v!=g)switch(T[0]=g,v){case"a":T[6]+=n,T[7]+=C;break;case"v":T[1]+=C;break;case"h":T[1]+=n;break;default:for(var r=1;r<T.length;)T[r++]+=n,T[r++]+=C}switch(g){case"Z":n=p,C=L;break;case"H":n=T[1];break;case"V":C=T[1];break;case"M":n=p=T[1],C=L=T[2];break;default:n=T[T.length-2],C=T[T.length-1]}return T})}},76752:function(H){H.exports=U;function U(e,p){if(!e||e.length==null)throw Error("Argument should be an array");p==null?p=1:p=Math.floor(p);for(var L=Array(p*2),n=0;n<p;n++){for(var C=-1/0,T=1/0,v=n,g=e.length;v<g;v+=p)e[v]>C&&(C=e[v]),e[v]<T&&(T=e[v]);L[n]=T,L[p+n]=C}return L}},10272:function(H){H.exports=function(U,e,p){if(typeof Array.prototype.findIndex=="function")return U.findIndex(e,p);if(typeof e!="function")throw new TypeError("predicate must be a function");var L=Object(U),n=L.length;if(n===0)return-1;for(var C=0;C<n;C++)if(e.call(p,L[C],C,L))return C;return-1}},71152:function(H,U,e){var p=e(76752);H.exports=L;function L(n,C,T){if(!n||n.length==null)throw Error("Argument should be an array");C==null&&(C=1),T==null&&(T=p(n,C));for(var v=0;v<C;v++){var g=T[C+v],r=T[v],t=v,s=n.length;if(g===1/0&&r===-1/0)for(t=v;t<s;t+=C)n[t]=n[t]===g?1:n[t]===r?0:.5;else if(g===1/0)for(t=v;t<s;t+=C)n[t]=n[t]===g?1:0;else if(r===-1/0)for(t=v;t<s;t+=C)n[t]=n[t]===r?0:1;else{var a=g-r;for(t=v;t<s;t+=C)isNaN(n[t])||(n[t]=a===0?.5:(n[t]-r)/a)}}return n}},67752:function(H){H.exports=function(e,p){var L=typeof e=="number",n=typeof p=="number";L&&!n?(p=e,e=0):!L&&!n&&(e=0,p=0),e=e|0,p=p|0;var C=p-e;if(C<0)throw new Error("array length must be positive");for(var T=new Array(C),v=0,g=e;v<C;v++,g++)T[v]=g;return T}},45408:function(H,U,e){var p=e(4168);function L(ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(Q){return typeof Q}:L=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},L(ee)}function n(ee,ne){if(!(ee instanceof ne))throw new TypeError("Cannot call a class as a function")}var C=e(86832),T=C.codes,v=T.ERR_AMBIGUOUS_ARGUMENT,g=T.ERR_INVALID_ARG_TYPE,r=T.ERR_INVALID_ARG_VALUE,t=T.ERR_INVALID_RETURN_VALUE,s=T.ERR_MISSING_ARGS,a=e(26144),f=e(35840),u=f.inspect,l=e(35840).types,m=l.isPromise,h=l.isRegExp,M=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),i,d;function x(){var ee=e(25116);i=ee.isDeepEqual,d=ee.isDeepStrictEqual}var A=!1,E=H.exports=_,y={};function S(ee){throw ee.message instanceof Error?ee.message:new a(ee)}function w(ee,ne,Q,le,Z){var Y=arguments.length,re;if(Y===0)re="Failed";else if(Y===1)Q=ee,ee=void 0;else{if(A===!1){A=!0;var X=p.emitWarning?p.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Y===2&&(le="!=")}if(Q instanceof Error)throw Q;var q={actual:ee,expected:ne,operator:le===void 0?"fail":le,stackStartFn:Z||w};Q!==void 0&&(q.message=Q);var se=new a(q);throw re&&(se.message=re,se.generatedMessage=!0),se}E.fail=w,E.AssertionError=a;function o(ee,ne,Q,le){if(!Q){var Z=!1;if(ne===0)Z=!0,le="No value argument passed to `assert.ok()`";else if(le instanceof Error)throw le;var Y=new a({actual:Q,expected:!0,message:le,operator:"==",stackStartFn:ee});throw Y.generatedMessage=Z,Y}}function _(){for(var ee=arguments.length,ne=new Array(ee),Q=0;Q<ee;Q++)ne[Q]=arguments[Q];o.apply(void 0,[_,ne.length].concat(ne))}E.ok=_,E.equal=function ee(ne,Q,le){if(arguments.length<2)throw new s("actual","expected");ne!=Q&&S({actual:ne,expected:Q,message:le,operator:"==",stackStartFn:ee})},E.notEqual=function ee(ne,Q,le){if(arguments.length<2)throw new s("actual","expected");ne==Q&&S({actual:ne,expected:Q,message:le,operator:"!=",stackStartFn:ee})},E.deepEqual=function ee(ne,Q,le){if(arguments.length<2)throw new s("actual","expected");i===void 0&&x(),i(ne,Q)||S({actual:ne,expected:Q,message:le,operator:"deepEqual",stackStartFn:ee})},E.notDeepEqual=function ee(ne,Q,le){if(arguments.length<2)throw new s("actual","expected");i===void 0&&x(),i(ne,Q)&&S({actual:ne,expected:Q,message:le,operator:"notDeepEqual",stackStartFn:ee})},E.deepStrictEqual=function ee(ne,Q,le){if(arguments.length<2)throw new s("actual","expected");i===void 0&&x(),d(ne,Q)||S({actual:ne,expected:Q,message:le,operator:"deepStrictEqual",stackStartFn:ee})},E.notDeepStrictEqual=b;function b(ee,ne,Q){if(arguments.length<2)throw new s("actual","expected");i===void 0&&x(),d(ee,ne)&&S({actual:ee,expected:ne,message:Q,operator:"notDeepStrictEqual",stackStartFn:b})}E.strictEqual=function ee(ne,Q,le){if(arguments.length<2)throw new s("actual","expected");c(ne,Q)||S({actual:ne,expected:Q,message:le,operator:"strictEqual",stackStartFn:ee})},E.notStrictEqual=function ee(ne,Q,le){if(arguments.length<2)throw new s("actual","expected");c(ne,Q)&&S({actual:ne,expected:Q,message:le,operator:"notStrictEqual",stackStartFn:ee})};var I=function ee(ne,Q,le){var Z=this;n(this,ee),Q.forEach(function(Y){Y in ne&&(le!==void 0&&typeof le[Y]=="string"&&h(ne[Y])&&ne[Y].test(le[Y])?Z[Y]=le[Y]:Z[Y]=ne[Y])})};function D(ee,ne,Q,le,Z,Y){if(!(Q in ee)||!d(ee[Q],ne[Q])){if(!le){var re=new I(ee,Z),X=new I(ne,Z,ee),q=new a({actual:re,expected:X,operator:"deepStrictEqual",stackStartFn:Y});throw q.actual=ee,q.expected=ne,q.operator=Y.name,q}S({actual:ee,expected:ne,message:le,operator:Y.name,stackStartFn:Y})}}function N(ee,ne,Q,le){if(typeof ne!="function"){if(h(ne))return ne.test(ee);if(arguments.length===2)throw new g("expected",["Function","RegExp"],ne);if(L(ee)!=="object"||ee===null){var Z=new a({actual:ee,expected:ne,message:Q,operator:"deepStrictEqual",stackStartFn:le});throw Z.operator=le.name,Z}var Y=Object.keys(ne);if(ne instanceof Error)Y.push("name","message");else if(Y.length===0)throw new r("error",ne,"may not be an empty object");return i===void 0&&x(),Y.forEach(function(re){typeof ee[re]=="string"&&h(ne[re])&&ne[re].test(ee[re])||D(ee,ne,re,Q,Y,le)}),!0}return ne.prototype!==void 0&&ee instanceof ne?!0:Error.isPrototypeOf(ne)?!1:ne.call({},ee)===!0}function k(ee){if(typeof ee!="function")throw new g("fn","Function",ee);try{ee()}catch(ne){return ne}return y}function z(ee){return m(ee)||ee!==null&&L(ee)==="object"&&typeof ee.then=="function"&&typeof ee.catch=="function"}function F(ee){return Promise.resolve().then(function(){var ne;if(typeof ee=="function"){if(ne=ee(),!z(ne))throw new t("instance of Promise","promiseFn",ne)}else if(z(ee))ne=ee;else throw new g("promiseFn",["Function","Promise"],ee);return Promise.resolve().then(function(){return ne}).then(function(){return y}).catch(function(Q){return Q})})}function O(ee,ne,Q,le){if(typeof Q=="string"){if(arguments.length===4)throw new g("error",["Object","Error","Function","RegExp"],Q);if(L(ne)==="object"&&ne!==null){if(ne.message===Q)throw new v("error/message",'The error message "'.concat(ne.message,'" is identical to the message.'))}else if(ne===Q)throw new v("error/message",'The error "'.concat(ne,'" is identical to the message.'));le=Q,Q=void 0}else if(Q!=null&&L(Q)!=="object"&&typeof Q!="function")throw new g("error",["Object","Error","Function","RegExp"],Q);if(ne===y){var Z="";Q&&Q.name&&(Z+=" (".concat(Q.name,")")),Z+=le?": ".concat(le):".";var Y=ee.name==="rejects"?"rejection":"exception";S({actual:void 0,expected:Q,operator:ee.name,message:"Missing expected ".concat(Y).concat(Z),stackStartFn:ee})}if(Q&&!N(ne,Q,le,ee))throw ne}function B(ee,ne,Q,le){if(ne!==y){if(typeof Q=="string"&&(le=Q,Q=void 0),!Q||N(ne,Q)){var Z=le?": ".concat(le):".",Y=ee.name==="doesNotReject"?"rejection":"exception";S({actual:ne,expected:Q,operator:ee.name,message:"Got unwanted ".concat(Y).concat(Z,`
`)+'Actual message: "'.concat(ne&&ne.message,'"'),stackStartFn:ee})}throw ne}}E.throws=function ee(ne){for(var Q=arguments.length,le=new Array(Q>1?Q-1:0),Z=1;Z<Q;Z++)le[Z-1]=arguments[Z];O.apply(void 0,[ee,k(ne)].concat(le))},E.rejects=function ee(ne){for(var Q=arguments.length,le=new Array(Q>1?Q-1:0),Z=1;Z<Q;Z++)le[Z-1]=arguments[Z];return F(ne).then(function(Y){return O.apply(void 0,[ee,Y].concat(le))})},E.doesNotThrow=function ee(ne){for(var Q=arguments.length,le=new Array(Q>1?Q-1:0),Z=1;Z<Q;Z++)le[Z-1]=arguments[Z];B.apply(void 0,[ee,k(ne)].concat(le))},E.doesNotReject=function ee(ne){for(var Q=arguments.length,le=new Array(Q>1?Q-1:0),Z=1;Z<Q;Z++)le[Z-1]=arguments[Z];return F(ne).then(function(Y){return B.apply(void 0,[ee,Y].concat(le))})},E.ifError=function ee(ne){if(ne!=null){var Q="ifError got unwanted exception: ";L(ne)==="object"&&typeof ne.message=="string"?ne.message.length===0&&ne.constructor?Q+=ne.constructor.name:Q+=ne.message:Q+=u(ne);var le=new a({actual:ne,expected:null,operator:"ifError",message:Q,stackStartFn:ee}),Z=ne.stack;if(typeof Z=="string"){var Y=Z.split(`
`);Y.shift();for(var re=le.stack.split(`
`),X=0;X<Y.length;X++){var q=re.indexOf(Y[X]);if(q!==-1){re=re.slice(0,q);break}}le.stack="".concat(re.join(`
`),`
`).concat(Y.join(`
`))}throw le}};function W(){for(var ee=arguments.length,ne=new Array(ee),Q=0;Q<ee;Q++)ne[Q]=arguments[Q];o.apply(void 0,[W,ne.length].concat(ne))}E.strict=M(W,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict},26144:function(H,U,e){var p=e(4168);function L(k){for(var z=1;z<arguments.length;z++){var F=arguments[z]!=null?arguments[z]:{},O=Object.keys(F);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(F).filter(function(B){return Object.getOwnPropertyDescriptor(F,B).enumerable}))),O.forEach(function(B){n(k,B,F[B])})}return k}function n(k,z,F){return z in k?Object.defineProperty(k,z,{value:F,enumerable:!0,configurable:!0,writable:!0}):k[z]=F,k}function C(k,z){if(!(k instanceof z))throw new TypeError("Cannot call a class as a function")}function T(k,z){for(var F=0;F<z.length;F++){var O=z[F];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}function v(k,z,F){return z&&T(k.prototype,z),F&&T(k,F),k}function g(k,z){return z&&(h(z)==="object"||typeof z=="function")?z:r(k)}function r(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function t(k,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(z&&z.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),z&&l(k,z)}function s(k){var z=typeof Map=="function"?new Map:void 0;return s=function(O){if(O===null||!u(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(typeof z<"u"){if(z.has(O))return z.get(O);z.set(O,B)}function B(){return f(O,arguments,m(this).constructor)}return B.prototype=Object.create(O.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),l(B,O)},s(k)}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(k,z,F){return a()?f=Reflect.construct:f=function(B,W,ee){var ne=[null];ne.push.apply(ne,W);var Q=Function.bind.apply(B,ne),le=new Q;return ee&&l(le,ee.prototype),le},f.apply(null,arguments)}function u(k){return Function.toString.call(k).indexOf("[native code]")!==-1}function l(k,z){return l=Object.setPrototypeOf||function(O,B){return O.__proto__=B,O},l(k,z)}function m(k){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},m(k)}function h(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(F){return typeof F}:h=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},h(k)}var M=e(35840),c=M.inspect,i=e(86832),d=i.codes.ERR_INVALID_ARG_TYPE;function x(k,z,F){return(F===void 0||F>k.length)&&(F=k.length),k.substring(F-z.length,F)===z}function A(k,z){if(z=Math.floor(z),k.length==0||z==0)return"";var F=k.length*z;for(z=Math.floor(Math.log(z)/Math.log(2));z;)k+=k,z--;return k+=k.substring(0,F-k.length),k}var E="",y="",S="",w="",o={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},_=10;function b(k){var z=Object.keys(k),F=Object.create(Object.getPrototypeOf(k));return z.forEach(function(O){F[O]=k[O]}),Object.defineProperty(F,"message",{value:k.message}),F}function I(k){return c(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function D(k,z,F){var O="",B="",W=0,ee="",ne=!1,Q=I(k),le=Q.split(`
`),Z=I(z).split(`
`),Y=0,re="";if(F==="strictEqual"&&h(k)==="object"&&h(z)==="object"&&k!==null&&z!==null&&(F="strictEqualObject"),le.length===1&&Z.length===1&&le[0]!==Z[0]){var X=le[0].length+Z[0].length;if(X<=_){if((h(k)!=="object"||k===null)&&(h(z)!=="object"||z===null)&&(k!==0||z!==0))return"".concat(o[F],`

`)+"".concat(le[0]," !== ").concat(Z[0],`
`)}else if(F!=="strictEqualObject"){var q=p.stderr&&p.stderr.isTTY?p.stderr.columns:80;if(X<q){for(;le[0][Y]===Z[0][Y];)Y++;Y>2&&(re=`
  `.concat(A(" ",Y),"^"),Y=0)}}}for(var se=le[le.length-1],$=Z[Z.length-1];se===$&&(Y++<2?ee=`
  `.concat(se).concat(ee):O=se,le.pop(),Z.pop(),!(le.length===0||Z.length===0));)se=le[le.length-1],$=Z[Z.length-1];var j=Math.max(le.length,Z.length);if(j===0){var ue=Q.split(`
`);if(ue.length>30)for(ue[26]="".concat(E,"...").concat(w);ue.length>27;)ue.pop();return"".concat(o.notIdentical,`

`).concat(ue.join(`
`),`
`)}Y>3&&(ee=`
`.concat(E,"...").concat(w).concat(ee),ne=!0),O!==""&&(ee=`
  `.concat(O).concat(ee),O="");var ae=0,ce=o[F]+`
`.concat(y,"+ actual").concat(w," ").concat(S,"- expected").concat(w),ye=" ".concat(E,"...").concat(w," Lines skipped");for(Y=0;Y<j;Y++){var Ce=Y-W;if(le.length<Y+1)Ce>1&&Y>2&&(Ce>4?(B+=`
`.concat(E,"...").concat(w),ne=!0):Ce>3&&(B+=`
  `.concat(Z[Y-2]),ae++),B+=`
  `.concat(Z[Y-1]),ae++),W=Y,O+=`
`.concat(S,"-").concat(w," ").concat(Z[Y]),ae++;else if(Z.length<Y+1)Ce>1&&Y>2&&(Ce>4?(B+=`
`.concat(E,"...").concat(w),ne=!0):Ce>3&&(B+=`
  `.concat(le[Y-2]),ae++),B+=`
  `.concat(le[Y-1]),ae++),W=Y,B+=`
`.concat(y,"+").concat(w," ").concat(le[Y]),ae++;else{var Ae=Z[Y],Ie=le[Y],Te=Ie!==Ae&&(!x(Ie,",")||Ie.slice(0,-1)!==Ae);Te&&x(Ae,",")&&Ae.slice(0,-1)===Ie&&(Te=!1,Ie+=","),Te?(Ce>1&&Y>2&&(Ce>4?(B+=`
`.concat(E,"...").concat(w),ne=!0):Ce>3&&(B+=`
  `.concat(le[Y-2]),ae++),B+=`
  `.concat(le[Y-1]),ae++),W=Y,B+=`
`.concat(y,"+").concat(w," ").concat(Ie),O+=`
`.concat(S,"-").concat(w," ").concat(Ae),ae+=2):(B+=O,O="",(Ce===1||Y===0)&&(B+=`
  `.concat(Ie),ae++))}if(ae>20&&Y<j-2)return"".concat(ce).concat(ye,`
`).concat(B,`
`).concat(E,"...").concat(w).concat(O,`
`)+"".concat(E,"...").concat(w)}return"".concat(ce).concat(ne?ye:"",`
`).concat(B).concat(O).concat(ee).concat(re)}var N=function(k){t(z,k);function z(F){var O;if(C(this,z),h(F)!=="object"||F===null)throw new d("options","Object",F);var B=F.message,W=F.operator,ee=F.stackStartFn,ne=F.actual,Q=F.expected,le=Error.stackTraceLimit;if(Error.stackTraceLimit=0,B!=null)O=g(this,m(z).call(this,String(B)));else if(p.stderr&&p.stderr.isTTY&&(p.stderr&&p.stderr.getColorDepth&&p.stderr.getColorDepth()!==1?(E="\x1B[34m",y="\x1B[32m",w="\x1B[39m",S="\x1B[31m"):(E="",y="",w="",S="")),h(ne)==="object"&&ne!==null&&h(Q)==="object"&&Q!==null&&"stack"in ne&&ne instanceof Error&&"stack"in Q&&Q instanceof Error&&(ne=b(ne),Q=b(Q)),W==="deepStrictEqual"||W==="strictEqual")O=g(this,m(z).call(this,D(ne,Q,W)));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var Z=o[W],Y=I(ne).split(`
`);if(W==="notStrictEqual"&&h(ne)==="object"&&ne!==null&&(Z=o.notStrictEqualObject),Y.length>30)for(Y[26]="".concat(E,"...").concat(w);Y.length>27;)Y.pop();Y.length===1?O=g(this,m(z).call(this,"".concat(Z," ").concat(Y[0]))):O=g(this,m(z).call(this,"".concat(Z,`

`).concat(Y.join(`
`),`
`)))}else{var re=I(ne),X="",q=o[W];W==="notDeepEqual"||W==="notEqual"?(re="".concat(o[W],`

`).concat(re),re.length>1024&&(re="".concat(re.slice(0,1021),"..."))):(X="".concat(I(Q)),re.length>512&&(re="".concat(re.slice(0,509),"...")),X.length>512&&(X="".concat(X.slice(0,509),"...")),W==="deepEqual"||W==="equal"?re="".concat(q,`

`).concat(re,`

should equal

`):X=" ".concat(W," ").concat(X)),O=g(this,m(z).call(this,"".concat(re).concat(X)))}return Error.stackTraceLimit=le,O.generatedMessage=!B,Object.defineProperty(r(O),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),O.code="ERR_ASSERTION",O.actual=ne,O.expected=Q,O.operator=W,Error.captureStackTrace&&Error.captureStackTrace(r(O),ee),O.stack,O.name="AssertionError",g(O)}return v(z,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(O,B){return c(this,L({},B,{customInspect:!1,depth:0}))}}]),z}(s(Error));H.exports=N},86832:function(H,U,e){function p(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(c){return typeof c}:p=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},p(h)}function L(h,M){if(!(h instanceof M))throw new TypeError("Cannot call a class as a function")}function n(h,M){return M&&(p(M)==="object"||typeof M=="function")?M:C(h)}function C(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function T(h){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},T(h)}function v(h,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(M&&M.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),M&&g(h,M)}function g(h,M){return g=Object.setPrototypeOf||function(i,d){return i.__proto__=d,i},g(h,M)}var r={},t,s;function a(h,M,c){c||(c=Error);function i(x,A,E){return typeof M=="string"?M:M(x,A,E)}var d=function(x){v(A,x);function A(E,y,S){var w;return L(this,A),w=n(this,T(A).call(this,i(E,y,S))),w.code=h,w}return A}(c);r[h]=d}function f(h,M){if(Array.isArray(h)){var c=h.length;return h=h.map(function(i){return String(i)}),c>2?"one of ".concat(M," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(M," ").concat(h[0]," or ").concat(h[1]):"of ".concat(M," ").concat(h[0])}else return"of ".concat(M," ").concat(String(h))}function u(h,M,c){return h.substr(!c||c<0?0:+c,M.length)===M}function l(h,M,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-M.length,c)===M}function m(h,M,c){return typeof c!="number"&&(c=0),c+M.length>h.length?!1:h.indexOf(M,c)!==-1}a("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),a("ERR_INVALID_ARG_TYPE",function(h,M,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var i;typeof M=="string"&&u(M,"not ")?(i="must not be",M=M.replace(/^not /,"")):i="must be";var d;if(l(h," argument"))d="The ".concat(h," ").concat(i," ").concat(f(M,"type"));else{var x=m(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(x," ").concat(i," ").concat(f(M,"type"))}return d+=". Received type ".concat(p(c)),d},TypeError),a("ERR_INVALID_ARG_VALUE",function(h,M){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";s===void 0&&(s=e(35840));var i=s.inspect(M);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(i)},TypeError),a("ERR_INVALID_RETURN_VALUE",function(h,M,c){var i;return c&&c.constructor&&c.constructor.name?i="instance of ".concat(c.constructor.name):i="type ".concat(p(c)),"Expected ".concat(h,' to be returned from the "').concat(M,'"')+" function but got ".concat(i,".")},TypeError),a("ERR_MISSING_ARGS",function(){for(var h=arguments.length,M=new Array(h),c=0;c<h;c++)M[c]=arguments[c];t===void 0&&(t=e(45408)),t(M.length>0,"At least one arg needs to be specified");var i="The ",d=M.length;switch(M=M.map(function(x){return'"'.concat(x,'"')}),d){case 1:i+="".concat(M[0]," argument");break;case 2:i+="".concat(M[0]," and ").concat(M[1]," arguments");break;default:i+=M.slice(0,d-1).join(", "),i+=", and ".concat(M[d-1]," arguments");break}return"".concat(i," must be specified")},TypeError),H.exports.codes=r},25116:function(H,U,e){function p(Le,xe){return C(Le)||n(Le,xe)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(Le,xe){var Re=[],He=!0,Ve=!1,Fe=void 0;try{for(var We=Le[Symbol.iterator](),ut;!(He=(ut=We.next()).done)&&(Re.push(ut.value),!(xe&&Re.length===xe));He=!0);}catch(ht){Ve=!0,Fe=ht}finally{try{!He&&We.return!=null&&We.return()}finally{if(Ve)throw Fe}}return Re}function C(Le){if(Array.isArray(Le))return Le}function T(Le){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(Re){return typeof Re}:T=function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},T(Le)}var v=/a/g.flags!==void 0,g=function(xe){var Re=[];return xe.forEach(function(He){return Re.push(He)}),Re},r=function(xe){var Re=[];return xe.forEach(function(He,Ve){return Re.push([Ve,He])}),Re},t=Object.is?Object.is:e(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},a=Number.isNaN?Number.isNaN:e(1560);function f(Le){return Le.call.bind(Le)}var u=f(Object.prototype.hasOwnProperty),l=f(Object.prototype.propertyIsEnumerable),m=f(Object.prototype.toString),h=e(35840).types,M=h.isAnyArrayBuffer,c=h.isArrayBufferView,i=h.isDate,d=h.isMap,x=h.isRegExp,A=h.isSet,E=h.isNativeError,y=h.isBoxedPrimitive,S=h.isNumberObject,w=h.isStringObject,o=h.isBooleanObject,_=h.isBigIntObject,b=h.isSymbolObject,I=h.isFloat32Array,D=h.isFloat64Array;function N(Le){if(Le.length===0||Le.length>10)return!0;for(var xe=0;xe<Le.length;xe++){var Re=Le.charCodeAt(xe);if(Re<48||Re>57)return!0}return Le.length===10&&Le>=Math.pow(2,32)}function k(Le){return Object.keys(Le).filter(N).concat(s(Le).filter(Object.prototype.propertyIsEnumerable.bind(Le)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function z(Le,xe){if(Le===xe)return 0;for(var Re=Le.length,He=xe.length,Ve=0,Fe=Math.min(Re,He);Ve<Fe;++Ve)if(Le[Ve]!==xe[Ve]){Re=Le[Ve],He=xe[Ve];break}return Re<He?-1:He<Re?1:0}var F=!0,O=!1,B=0,W=1,ee=2,ne=3;function Q(Le,xe){return v?Le.source===xe.source&&Le.flags===xe.flags:RegExp.prototype.toString.call(Le)===RegExp.prototype.toString.call(xe)}function le(Le,xe){if(Le.byteLength!==xe.byteLength)return!1;for(var Re=0;Re<Le.byteLength;Re++)if(Le[Re]!==xe[Re])return!1;return!0}function Z(Le,xe){return Le.byteLength!==xe.byteLength?!1:z(new Uint8Array(Le.buffer,Le.byteOffset,Le.byteLength),new Uint8Array(xe.buffer,xe.byteOffset,xe.byteLength))===0}function Y(Le,xe){return Le.byteLength===xe.byteLength&&z(new Uint8Array(Le),new Uint8Array(xe))===0}function re(Le,xe){return S(Le)?S(xe)&&t(Number.prototype.valueOf.call(Le),Number.prototype.valueOf.call(xe)):w(Le)?w(xe)&&String.prototype.valueOf.call(Le)===String.prototype.valueOf.call(xe):o(Le)?o(xe)&&Boolean.prototype.valueOf.call(Le)===Boolean.prototype.valueOf.call(xe):_(Le)?_(xe)&&BigInt.prototype.valueOf.call(Le)===BigInt.prototype.valueOf.call(xe):b(xe)&&Symbol.prototype.valueOf.call(Le)===Symbol.prototype.valueOf.call(xe)}function X(Le,xe,Re,He){if(Le===xe)return Le!==0?!0:Re?t(Le,xe):!0;if(Re){if(T(Le)!=="object")return typeof Le=="number"&&a(Le)&&a(xe);if(T(xe)!=="object"||Le===null||xe===null||Object.getPrototypeOf(Le)!==Object.getPrototypeOf(xe))return!1}else{if(Le===null||T(Le)!=="object")return xe===null||T(xe)!=="object"?Le==xe:!1;if(xe===null||T(xe)!=="object")return!1}var Ve=m(Le),Fe=m(xe);if(Ve!==Fe)return!1;if(Array.isArray(Le)){if(Le.length!==xe.length)return!1;var We=k(Le),ut=k(xe);return We.length!==ut.length?!1:se(Le,xe,Re,He,W,We)}if(Ve==="[object Object]"&&(!d(Le)&&d(xe)||!A(Le)&&A(xe)))return!1;if(i(Le)){if(!i(xe)||Date.prototype.getTime.call(Le)!==Date.prototype.getTime.call(xe))return!1}else if(x(Le)){if(!x(xe)||!Q(Le,xe))return!1}else if(E(Le)||Le instanceof Error){if(Le.message!==xe.message||Le.name!==xe.name)return!1}else if(c(Le)){if(!Re&&(I(Le)||D(Le))){if(!le(Le,xe))return!1}else if(!Z(Le,xe))return!1;var ht=k(Le),rt=k(xe);return ht.length!==rt.length?!1:se(Le,xe,Re,He,B,ht)}else{if(A(Le))return!A(xe)||Le.size!==xe.size?!1:se(Le,xe,Re,He,ee);if(d(Le))return!d(xe)||Le.size!==xe.size?!1:se(Le,xe,Re,He,ne);if(M(Le)){if(!Y(Le,xe))return!1}else if(y(Le)&&!re(Le,xe))return!1}return se(Le,xe,Re,He,B)}function q(Le,xe){return xe.filter(function(Re){return l(Le,Re)})}function se(Le,xe,Re,He,Ve,Fe){if(arguments.length===5){Fe=Object.keys(Le);var We=Object.keys(xe);if(Fe.length!==We.length)return!1}for(var ut=0;ut<Fe.length;ut++)if(!u(xe,Fe[ut]))return!1;if(Re&&arguments.length===5){var ht=s(Le);if(ht.length!==0){var rt=0;for(ut=0;ut<ht.length;ut++){var tt=ht[ut];if(l(Le,tt)){if(!l(xe,tt))return!1;Fe.push(tt),rt++}else if(l(xe,tt))return!1}var vt=s(xe);if(ht.length!==vt.length&&q(xe,vt).length!==rt)return!1}else{var pt=s(xe);if(pt.length!==0&&q(xe,pt).length!==0)return!1}}if(Fe.length===0&&(Ve===B||Ve===W&&Le.length===0||Le.size===0))return!0;if(He===void 0)He={val1:new Map,val2:new Map,position:0};else{var mt=He.val1.get(Le);if(mt!==void 0){var wt=He.val2.get(xe);if(wt!==void 0)return mt===wt}He.position++}He.val1.set(Le,He.position),He.val2.set(xe,He.position);var Lt=Ae(Le,xe,Re,Fe,He,Ve);return He.val1.delete(Le),He.val2.delete(xe),Lt}function $(Le,xe,Re,He){for(var Ve=g(Le),Fe=0;Fe<Ve.length;Fe++){var We=Ve[Fe];if(X(xe,We,Re,He))return Le.delete(We),!0}return!1}function j(Le){switch(T(Le)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Le=+Le;case"number":if(a(Le))return!1}return!0}function ue(Le,xe,Re){var He=j(Re);return He??(xe.has(He)&&!Le.has(He))}function ae(Le,xe,Re,He,Ve){var Fe=j(Re);if(Fe!=null)return Fe;var We=xe.get(Fe);return We===void 0&&!xe.has(Fe)||!X(He,We,!1,Ve)?!1:!Le.has(Fe)&&X(He,We,!1,Ve)}function ce(Le,xe,Re,He){for(var Ve=null,Fe=g(Le),We=0;We<Fe.length;We++){var ut=Fe[We];if(T(ut)==="object"&&ut!==null)Ve===null&&(Ve=new Set),Ve.add(ut);else if(!xe.has(ut)){if(Re||!ue(Le,xe,ut))return!1;Ve===null&&(Ve=new Set),Ve.add(ut)}}if(Ve!==null){for(var ht=g(xe),rt=0;rt<ht.length;rt++){var tt=ht[rt];if(T(tt)==="object"&&tt!==null){if(!$(Ve,tt,Re,He))return!1}else if(!Re&&!Le.has(tt)&&!$(Ve,tt,Re,He))return!1}return Ve.size===0}return!0}function ye(Le,xe,Re,He,Ve,Fe){for(var We=g(Le),ut=0;ut<We.length;ut++){var ht=We[ut];if(X(Re,ht,Ve,Fe)&&X(He,xe.get(ht),Ve,Fe))return Le.delete(ht),!0}return!1}function Ce(Le,xe,Re,He){for(var Ve=null,Fe=r(Le),We=0;We<Fe.length;We++){var ut=p(Fe[We],2),ht=ut[0],rt=ut[1];if(T(ht)==="object"&&ht!==null)Ve===null&&(Ve=new Set),Ve.add(ht);else{var tt=xe.get(ht);if(tt===void 0&&!xe.has(ht)||!X(rt,tt,Re,He)){if(Re||!ae(Le,xe,ht,rt,He))return!1;Ve===null&&(Ve=new Set),Ve.add(ht)}}}if(Ve!==null){for(var vt=r(xe),pt=0;pt<vt.length;pt++){var mt=p(vt[pt],2),ht=mt[0],wt=mt[1];if(T(ht)==="object"&&ht!==null){if(!ye(Ve,Le,ht,wt,Re,He))return!1}else if(!Re&&(!Le.has(ht)||!X(Le.get(ht),wt,!1,He))&&!ye(Ve,Le,ht,wt,!1,He))return!1}return Ve.size===0}return!0}function Ae(Le,xe,Re,He,Ve,Fe){var We=0;if(Fe===ee){if(!ce(Le,xe,Re,Ve))return!1}else if(Fe===ne){if(!Ce(Le,xe,Re,Ve))return!1}else if(Fe===W)for(;We<Le.length;We++)if(u(Le,We)){if(!u(xe,We)||!X(Le[We],xe[We],Re,Ve))return!1}else{if(u(xe,We))return!1;for(var ut=Object.keys(Le);We<ut.length;We++){var ht=ut[We];if(!u(xe,ht)||!X(Le[ht],xe[ht],Re,Ve))return!1}return ut.length===Object.keys(xe).length}for(We=0;We<He.length;We++){var rt=He[We];if(!X(Le[rt],xe[rt],Re,Ve))return!1}return!0}function Ie(Le,xe){return X(Le,xe,O)}function Te(Le,xe){return X(Le,xe,F)}H.exports={isDeepEqual:Ie,isDeepStrictEqual:Te}},83160:function(H,U,e){e.r(U),e.d(U,{decode:function(){return T},encode:function(){return C}});for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=typeof Uint8Array>"u"?[]:new Uint8Array(256),n=0;n<p.length;n++)L[p.charCodeAt(n)]=n;var C=function(v){var g=new Uint8Array(v),r,t=g.length,s="";for(r=0;r<t;r+=3)s+=p[g[r]>>2],s+=p[(g[r]&3)<<4|g[r+1]>>4],s+=p[(g[r+1]&15)<<2|g[r+2]>>6],s+=p[g[r+2]&63];return t%3===2?s=s.substring(0,s.length-1)+"=":t%3===1&&(s=s.substring(0,s.length-2)+"=="),s},T=function(v){var g=v.length*.75,r=v.length,t,s=0,a,f,u,l;v[v.length-1]==="="&&(g--,v[v.length-2]==="="&&g--);var m=new ArrayBuffer(g),h=new Uint8Array(m);for(t=0;t<r;t+=4)a=L[v.charCodeAt(t)],f=L[v.charCodeAt(t+1)],u=L[v.charCodeAt(t+2)],l=L[v.charCodeAt(t+3)],h[s++]=a<<2|f>>4,h[s++]=(f&15)<<4|u>>2,h[s++]=(u&3)<<6|l&63;return m}},59968:function(H,U){U.byteLength=g,U.toByteArray=t,U.fromByteArray=f;for(var e=[],p=[],L=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,T=n.length;C<T;++C)e[C]=n[C],p[n.charCodeAt(C)]=C;p[45]=62,p[95]=63;function v(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=u.indexOf("=");m===-1&&(m=l);var h=m===l?0:4-m%4;return[m,h]}function g(u){var l=v(u),m=l[0],h=l[1];return(m+h)*3/4-h}function r(u,l,m){return(l+m)*3/4-m}function t(u){var l,m=v(u),h=m[0],M=m[1],c=new L(r(u,h,M)),i=0,d=M>0?h-4:h,x;for(x=0;x<d;x+=4)l=p[u.charCodeAt(x)]<<18|p[u.charCodeAt(x+1)]<<12|p[u.charCodeAt(x+2)]<<6|p[u.charCodeAt(x+3)],c[i++]=l>>16&255,c[i++]=l>>8&255,c[i++]=l&255;return M===2&&(l=p[u.charCodeAt(x)]<<2|p[u.charCodeAt(x+1)]>>4,c[i++]=l&255),M===1&&(l=p[u.charCodeAt(x)]<<10|p[u.charCodeAt(x+1)]<<4|p[u.charCodeAt(x+2)]>>2,c[i++]=l>>8&255,c[i++]=l&255),c}function s(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function a(u,l,m){for(var h,M=[],c=l;c<m;c+=3)h=(u[c]<<16&16711680)+(u[c+1]<<8&65280)+(u[c+2]&255),M.push(s(h));return M.join("")}function f(u){for(var l,m=u.length,h=m%3,M=[],c=16383,i=0,d=m-h;i<d;i+=c)M.push(a(u,i,i+c>d?d:i+c));return h===1?(l=u[m-1],M.push(e[l>>2]+e[l<<4&63]+"==")):h===2&&(l=(u[m-2]<<8)+u[m-1],M.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),M.join("")}},64928:function(H){function U(T,v,g,r,t){for(var s=t+1;r<=t;){var a=r+t>>>1,f=T[a],u=g!==void 0?g(f,v):f-v;u>=0?(s=a,t=a-1):r=a+1}return s}function e(T,v,g,r,t){for(var s=t+1;r<=t;){var a=r+t>>>1,f=T[a],u=g!==void 0?g(f,v):f-v;u>0?(s=a,t=a-1):r=a+1}return s}function p(T,v,g,r,t){for(var s=r-1;r<=t;){var a=r+t>>>1,f=T[a],u=g!==void 0?g(f,v):f-v;u<0?(s=a,r=a+1):t=a-1}return s}function L(T,v,g,r,t){for(var s=r-1;r<=t;){var a=r+t>>>1,f=T[a],u=g!==void 0?g(f,v):f-v;u<=0?(s=a,r=a+1):t=a-1}return s}function n(T,v,g,r,t){for(;r<=t;){var s=r+t>>>1,a=T[s],f=g!==void 0?g(a,v):a-v;if(f===0)return s;f<=0?r=s+1:t=s-1}return-1}function C(T,v,g,r,t,s){return typeof g=="function"?s(T,v,g,r===void 0?0:r|0,t===void 0?T.length-1:t|0):s(T,v,void 0,g===void 0?0:g|0,r===void 0?T.length-1:r|0)}H.exports={ge:function(T,v,g,r,t){return C(T,v,g,r,t,U)},gt:function(T,v,g,r,t){return C(T,v,g,r,t,e)},lt:function(T,v,g,r,t){return C(T,v,g,r,t,p)},le:function(T,v,g,r,t){return C(T,v,g,r,t,L)},eq:function(T,v,g,r,t){return C(T,v,g,r,t,n)}}},308:function(H,U){"use restrict";var e=32;U.INT_BITS=e,U.INT_MAX=2147483647,U.INT_MIN=-1<<e-1,U.sign=function(n){return(n>0)-(n<0)},U.abs=function(n){var C=n>>e-1;return(n^C)-C},U.min=function(n,C){return C^(n^C)&-(n<C)},U.max=function(n,C){return n^(n^C)&-(n<C)},U.isPow2=function(n){return!(n&n-1)&&!!n},U.log2=function(n){var C,T;return C=(n>65535)<<4,n>>>=C,T=(n>255)<<3,n>>>=T,C|=T,T=(n>15)<<2,n>>>=T,C|=T,T=(n>3)<<1,n>>>=T,C|=T,C|n>>1},U.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},U.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function p(n){var C=32;return n&=-n,n&&C--,n&65535&&(C-=16),n&16711935&&(C-=8),n&252645135&&(C-=4),n&858993459&&(C-=2),n&1431655765&&(C-=1),C}U.countTrailingZeros=p,U.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},U.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},U.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var L=new Array(256);(function(n){for(var C=0;C<256;++C){var T=C,v=C,g=7;for(T>>>=1;T;T>>>=1)v<<=1,v|=T&1,--g;n[C]=v<<g&255}})(L),U.reverse=function(n){return L[n&255]<<24|L[n>>>8&255]<<16|L[n>>>16&255]<<8|L[n>>>24&255]},U.interleave2=function(n,C){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,n|C<<1},U.deinterleave2=function(n,C){return n=n>>>C&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},U.interleave3=function(n,C,T){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,n|=C<<1,T&=1023,T=(T|T<<16)&4278190335,T=(T|T<<8)&251719695,T=(T|T<<4)&3272356035,T=(T|T<<2)&1227133513,n|T<<2},U.deinterleave3=function(n,C){return n=n>>>C&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},U.nextCombination=function(n){var C=n|n-1;return C+1|(~C&-~C)-1>>>p(n)+1}},29620:function(H,U,e){var p=e(32420);H.exports=n;var L=1e20;function n(v,g){g||(g={});var r=g.cutoff==null?.25:g.cutoff,t=g.radius==null?8:g.radius,s=g.channel||0,a,f,u,l,m,h,M,c,i,d,x;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!g.width||!g.height)throw Error("For raw data width and height should be provided by options");a=g.width,f=g.height,l=v,g.stride?h=g.stride:h=Math.floor(v.length/a/f)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,M=c.getContext("2d"),a=c.width,f=c.height,i=M.getImageData(0,0,a,f),l=i.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,M=v,a=c.width,f=c.height,i=M.getImageData(0,0,a,f),l=i.data,h=4):window.ImageData&&v instanceof window.ImageData&&(i=v,a=v.width,f=v.height,l=i.data,h=4);if(u=Math.max(a,f),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(m=l,l=Array(a*f),d=0,x=m.length;d<x;d++)l[d]=m[d*h+s]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var A=Array(a*f),E=Array(a*f),y=Array(u),S=Array(u),w=Array(u+1),o=Array(u);for(d=0,x=a*f;d<x;d++){var _=l[d];A[d]=_===1?0:_===0?L:Math.pow(Math.max(0,.5-_),2),E[d]=_===1?L:_===0?0:Math.pow(Math.max(0,_-.5),2)}C(A,a,f,y,S,o,w),C(E,a,f,y,S,o,w);var b=window.Float32Array?new Float32Array(a*f):new Array(a*f);for(d=0,x=a*f;d<x;d++)b[d]=p(1-((A[d]-E[d])/t+r),0,1);return b}function C(v,g,r,t,s,a,f){for(var u=0;u<g;u++){for(var l=0;l<r;l++)t[l]=v[l*g+u];for(T(t,s,a,f,r),l=0;l<r;l++)v[l*g+u]=s[l]}for(l=0;l<r;l++){for(u=0;u<g;u++)t[u]=v[l*g+u];for(T(t,s,a,f,g),u=0;u<g;u++)v[l*g+u]=Math.sqrt(s[u])}}function T(v,g,r,t,s){r[0]=0,t[0]=-L,t[1]=+L;for(var a=1,f=0;a<s;a++){for(var u=(v[a]+a*a-(v[r[f]]+r[f]*r[f]))/(2*a-2*r[f]);u<=t[f];)f--,u=(v[a]+a*a-(v[r[f]]+r[f]*r[f]))/(2*a-2*r[f]);f++,r[f]=a,t[f]=u,t[f+1]=+L}for(a=0,f=0;a<s;a++){for(;t[f+1]<a;)f++;g[a]=(a-r[f])*(a-r[f])+v[r[f]]}}},99676:function(H,U,e){var p=e(53664),L=e(57916),n=L(p("String.prototype.indexOf"));H.exports=function(T,v){var g=p(T,!!v);return typeof g=="function"&&n(T,".prototype.")>-1?L(g):g}},57916:function(H,U,e){var p=e(8844),L=e(53664),n=e(14500),C=L("%TypeError%"),T=L("%Function.prototype.apply%"),v=L("%Function.prototype.call%"),g=L("%Reflect.apply%",!0)||p.call(v,T),r=L("%Object.defineProperty%",!0),t=L("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}H.exports=function(f){if(typeof f!="function")throw new C("a function is required");var u=g(p,v,arguments);return n(u,1+t(0,f.length-(arguments.length-1)),!0)};var s=function(){return g(p,T,arguments)};r?r(H.exports,"apply",{value:s}):H.exports.apply=s},32420:function(H){H.exports=U;function U(e,p,L){return p<L?e<p?p:e>L?L:e:e<L?L:e>p?p:e}},3808:function(H,U,e){var p=e(32420);H.exports=L,H.exports.to=L,H.exports.from=n;function L(C,T){T==null&&(T=!0);var v=C[0],g=C[1],r=C[2],t=C[3];t==null&&(t=T?1:255),T&&(v*=255,g*=255,r*=255,t*=255),v=p(v,0,255)&255,g=p(g,0,255)&255,r=p(r,0,255)&255,t=p(t,0,255)&255;var s=v*16777216+(g<<16)+(r<<8)+t;return s}function n(C,T){C=+C;var v=C>>>24,g=(C&16711680)>>>16,r=(C&65280)>>>8,t=C&255;return T===!1?[v,g,r,t]:[v/255,g/255,r/255,t/255]}},17592:function(H){H.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(H,U,e){var p=e(96824),L=e(32420),n=e(72512);H.exports=function(v,g){(g==="float"||!g)&&(g="array"),g==="uint"&&(g="uint8"),g==="uint_clamped"&&(g="uint8_clamped");var r=n(g),t=new r(4),s=g!=="uint8"&&g!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=p(v),v[0]/=255,v[1]/=255,v[2]/=255),C(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,s&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(s?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=L(Math.floor(v[0]*255),0,255),t[1]=L(Math.floor(v[1]*255),0,255),t[2]=L(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:L(Math.floor(v[3]*255),0,255)),t)};function C(T){return!!(T instanceof Uint8Array||T instanceof Uint8ClampedArray||Array.isArray(T)&&(T[0]>1||T[0]===0)&&(T[1]>1||T[1]===0)&&(T[2]>1||T[2]===0)&&(!T[3]||T[3]>1))}},96824:function(H,U,e){var p=e(95532),L=e(53576),n=e(32420);H.exports=function(T){var v,g=p(T);return g.space?(v=Array(3),v[0]=n(g.values[0],0,255),v[1]=n(g.values[1],0,255),v[2]=n(g.values[2],0,255),g.space[0]==="h"&&(v=L.rgb(v)),v.push(n(g.alpha,0,1)),v):[]}},95532:function(H,U,e){var p=e(17592);H.exports=n;var L={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function n(C){var T,v=[],g=1,r;if(typeof C=="string")if(C=C.toLowerCase(),p[C])v=p[C].slice(),r="rgb";else if(C==="transparent")g=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(C)){var t=C.slice(1),s=t.length,a=s<=4;g=1,a?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],s===4&&(g=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],s===8&&(g=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(T=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(C)){var f=T[1],u=f==="rgb",t=f.replace(/a$/,"");r=t;var s=t==="cmyk"?4:t==="gray"?1:3;v=T[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,M){if(/%$/.test(h))return M===s?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[M]==="h"){if(/deg$/.test(h))return parseFloat(h);if(L[h]!==void 0)return L[h]}return parseFloat(h)}),f===t&&v.push(1),g=u||v[s]===void 0?1:v[s],v=v.slice(0,s)}else C.length>10&&/[0-9](?:\s|\/)/.test(C)&&(v=C.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=C.match(/([a-z])/ig).join("").toLowerCase());else isNaN(C)?Array.isArray(C)||C.length?(v=[C[0],C[1],C[2]],r="rgb",g=C.length===4?C[3]:1):C instanceof Object&&(C.r!=null||C.red!=null||C.R!=null?(r="rgb",v=[C.r||C.red||C.R||0,C.g||C.green||C.G||0,C.b||C.blue||C.B||0]):(r="hsl",v=[C.h||C.hue||C.H||0,C.s||C.saturation||C.S||0,C.l||C.lightness||C.L||C.b||C.brightness]),g=C.a||C.alpha||C.opacity||1,C.opacity!=null&&(g/=100)):(r="rgb",v=[C>>>16,(C&65280)>>>8,C&255]);return{space:r,values:v,alpha:g}}},53576:function(H,U,e){var p=e(19336);H.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(L){var n=L[0]/360,C=L[1]/100,T=L[2]/100,v,g,r,t,s;if(C===0)return s=T*255,[s,s,s];T<.5?g=T*(1+C):g=T+C-T*C,v=2*T-g,t=[0,0,0];for(var a=0;a<3;a++)r=n+.3333333333333333*-(a-1),r<0?r++:r>1&&r--,6*r<1?s=v+(g-v)*6*r:2*r<1?s=g:3*r<2?s=v+(g-v)*(.6666666666666666-r)*6:s=v,t[a]=s*255;return t}},p.hsl=function(L){var n=L[0]/255,C=L[1]/255,T=L[2]/255,v=Math.min(n,C,T),g=Math.max(n,C,T),r=g-v,t,s,a;return g===v?t=0:n===g?t=(C-T)/r:C===g?t=2+(T-n)/r:T===g&&(t=4+(n-C)/r),t=Math.min(t*60,360),t<0&&(t+=360),a=(v+g)/2,g===v?s=0:a<=.5?s=r/(g+v):s=r/(2-g-v),[t,s*100,a*100]}},19336:function(H){H.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(H){H.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(H,U,e){H.exports={parse:e(46416),stringify:e(49395)}},8744:function(H,U,e){var p=e(30584);H.exports={isSize:function(n){return/^[\d\.]/.test(n)||n.indexOf("/")!==-1||p.indexOf(n)!==-1}}},46416:function(H,U,e){var p=e(92384),L=e(68194),n=e(3748),C=e(2904),T=e(47916),v=e(7294),g=e(39956),r=e(8744).isSize;H.exports=s;var t=s.cache={};function s(f){if(typeof f!="string")throw new Error("Font argument must be a string.");if(t[f])return t[f];if(f==="")throw new Error("Cannot parse an empty string.");if(n.indexOf(f)!==-1)return t[f]={system:f};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=g(f,/\s+/),m;m=l.shift();){if(L.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(M){u[M]=m}),t[f]=u;if(T.indexOf(m)!==-1){u.style=m;continue}if(m==="normal"||m==="small-caps"){u.variant=m;continue}if(v.indexOf(m)!==-1){u.stretch=m;continue}if(C.indexOf(m)!==-1){u.weight=m;continue}if(r(m)){var h=g(m,"/");if(u.size=h[0],h[1]!=null?u.lineHeight=a(h[1]):l[0]==="/"&&(l.shift(),u.lineHeight=a(l.shift())),!l.length)throw new Error("Missing required font-family.");return u.family=g(l.join(" "),/\s*,\s*/).map(p),t[f]=u}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function a(f){var u=parseFloat(f);return u.toString()===f?u:f}},49395:function(H,U,e){var p=e(55616),L=e(8744).isSize,n=f(e(68194)),C=f(e(3748)),T=f(e(2904)),v=f(e(47916)),g=f(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},s={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};H.exports=function(l){if(l=p(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&a(l.system,C),l.system;if(a(l.style,v),a(l.variant,r),a(l.weight,T),a(l.stretch,g),l.size==null&&(l.size=s.size),typeof l.size=="number"&&(l.size+="px"),!L)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=s.family),Array.isArray(l.family)&&(l.family.length||(l.family=[s.family]),l.family=l.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var m=[];return m.push(l.style),l.variant!==l.style&&m.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&m.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&m.push(l.stretch),m.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),m.push(l.family),m.filter(Boolean).join(" ")};function a(u,l){if(u&&!l[u]&&!n[u])throw Error("Unknown keyword `"+u+"`");return u}function f(u){for(var l={},m=0;m<u.length;m++)l[u[m]]=1;return l}},27940:function(H,U,e){var p=e(81680),L=e(18496),n=e(87396),C=e(95920),T=e(50868),v=e(84323),g=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,s;s=function(a,f,u){var l=L(f)&&n(f.value),m;return m=C(f),delete m.writable,delete m.value,m.get=function(){return!u.overwriteDefinition&&t.call(this,a)?l:(f.value=g.call(l,u.resolveContext?u.resolveContext(this):this),r(this,a,f),this[a])},m},H.exports=function(a){var f=T(arguments[1]);return p(f.resolveContext)&&n(f.resolveContext),v(a,function(u,l){return s(l,u,f)})}},21092:function(H,U,e){var p=e(81680),L=e(85488),n=e(38452),C=e(50868),T=e(71056),v=H.exports=function(g,r){var t,s,a,f,u;return arguments.length<2||typeof g!="string"?(f=r,r=g,g=null):f=arguments[2],p(g)?(t=T.call(g,"c"),s=T.call(g,"e"),a=T.call(g,"w")):(t=a=!0,s=!1),u={value:r,configurable:t,enumerable:s,writable:a},f?n(C(f),u):u};v.gs=function(g,r,t){var s,a,f,u;return typeof g!="string"?(f=t,t=r,r=g,g=null):f=arguments[3],p(r)?L(r)?p(t)?L(t)||(f=t,t=void 0):t=void 0:(f=r,r=t=void 0):r=void 0,p(g)?(s=T.call(g,"c"),a=T.call(g,"e")):(s=!0,a=!1),u={get:r,set:t,configurable:s,enumerable:a},f?n(C(f),u):u}},84706:function(H,U,e){e.d(U,{XE:function(){return p},kv:function(){return C},mo:function(){return v},Uf:function(){return g},SY:function(){return r},ik:function(){return t},oh:function(){return s}});function p(a,f){return a<f?-1:a>f?1:a>=f?0:NaN}function L(a){return a.length===1&&(a=n(a)),{left:function(f,u,l,m){for(l==null&&(l=0),m==null&&(m=f.length);l<m;){var h=l+m>>>1;a(f[h],u)<0?l=h+1:m=h}return l},right:function(f,u,l,m){for(l==null&&(l=0),m==null&&(m=f.length);l<m;){var h=l+m>>>1;a(f[h],u)>0?m=h:l=h+1}return l}}}function n(a){return function(f,u){return p(a(f),u)}}L(p);function C(a,f){var u=a.length,l=-1,m,h;if(f==null){for(;++l<u;)if((m=a[l])!=null&&m>=m)for(h=m;++l<u;)(m=a[l])!=null&&m>h&&(h=m)}else for(;++l<u;)if((m=f(a[l],l,a))!=null&&m>=m)for(h=m;++l<u;)(m=f(a[l],l,a))!=null&&m>h&&(h=m);return h}function T(a){return a===null?NaN:+a}function v(a,f){var u=a.length,l=u,m=-1,h,M=0;if(f==null)for(;++m<u;)isNaN(h=T(a[m]))?--l:M+=h;else for(;++m<u;)isNaN(h=T(f(a[m],m,a)))?--l:M+=h;if(l)return M/l}function g(a){for(var f=a.length,u,l=-1,m=0,h,M;++l<f;)m+=a[l].length;for(h=new Array(m);--f>=0;)for(M=a[f],u=M.length;--u>=0;)h[--m]=M[u];return h}function r(a,f){var u=a.length,l=-1,m,h;if(f==null){for(;++l<u;)if((m=a[l])!=null&&m>=m)for(h=m;++l<u;)(m=a[l])!=null&&h>m&&(h=m)}else for(;++l<u;)if((m=f(a[l],l,a))!=null&&m>=m)for(h=m;++l<u;)(m=f(a[l],l,a))!=null&&h>m&&(h=m);return h}function t(a,f,u){a=+a,f=+f,u=(m=arguments.length)<2?(f=a,a=0,1):m<3?1:+u;for(var l=-1,m=Math.max(0,Math.ceil((f-a)/u))|0,h=new Array(m);++l<m;)h[l]=a+l*u;return h}function s(a,f){var u=a.length,l=-1,m,h=0;if(f==null)for(;++l<u;)(m=+a[l])&&(h+=m);else for(;++l<u;)(m=+f(a[l],l,a))&&(h+=m);return h}},34712:function(H,U,e){e.d(U,{kH:function(){return C},UJ:function(){return T}});var p="$";function L(){}L.prototype=n.prototype={constructor:L,has:function(f){return p+f in this},get:function(f){return this[p+f]},set:function(f,u){return this[p+f]=u,this},remove:function(f){var u=p+f;return u in this&&delete this[u]},clear:function(){for(var f in this)f[0]===p&&delete this[f]},keys:function(){var f=[];for(var u in this)u[0]===p&&f.push(u.slice(1));return f},values:function(){var f=[];for(var u in this)u[0]===p&&f.push(this[u]);return f},entries:function(){var f=[];for(var u in this)u[0]===p&&f.push({key:u.slice(1),value:this[u]});return f},size:function(){var f=0;for(var u in this)u[0]===p&&++f;return f},empty:function(){for(var f in this)if(f[0]===p)return!1;return!0},each:function(f){for(var u in this)u[0]===p&&f(this[u],u.slice(1),this)}};function n(f,u){var l=new L;if(f instanceof L)f.each(function(i,d){l.set(d,i)});else if(Array.isArray(f)){var m=-1,h=f.length,M;if(u==null)for(;++m<h;)l.set(m,f[m]);else for(;++m<h;)l.set(u(M=f[m],m,f),M)}else if(f)for(var c in f)l.set(c,f[c]);return l}var C=n;function T(){var f=[],u=[],l,m,h;function M(i,d,x,A){if(d>=f.length)return l!=null&&i.sort(l),m!=null?m(i):i;for(var E=-1,y=i.length,S=f[d++],w,o,_=C(),b,I=x();++E<y;)(b=_.get(w=S(o=i[E])+""))?b.push(o):_.set(w,[o]);return _.each(function(D,N){A(I,N,M(D,d,x,A))}),I}function c(i,d){if(++d>f.length)return i;var x,A=u[d-1];return m!=null&&d>=f.length?x=i.entries():(x=[],i.each(function(E,y){x.push({key:y,values:c(E,d)})})),A!=null?x.sort(function(E,y){return A(E.key,y.key)}):x}return h={object:function(i){return M(i,0,v,g)},map:function(i){return M(i,0,r,t)},entries:function(i){return c(M(i,0,r,t),0)},key:function(i){return f.push(i),h},sortKeys:function(i){return u[f.length-1]=i,h},sortValues:function(i){return l=i,h},rollup:function(i){return m=i,h}}}function v(){return{}}function g(f,u,l){f[u]=l}function r(){return C()}function t(f,u,l){f.set(u,l)}function s(){}var a=C.prototype;s.prototype={constructor:s,has:a.has,add:function(f){return f+="",this[p+f]=f,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},49812:function(H,U,e){e.r(U),e.d(U,{forceCenter:function(){return p},forceCollide:function(){return _},forceLink:function(){return N},forceManyBody:function(){return We},forceRadial:function(){return ut},forceSimulation:function(){return Fe},forceX:function(){return ht},forceY:function(){return rt}});function p(tt,vt){var pt;tt==null&&(tt=0),vt==null&&(vt=0);function mt(){var wt,Lt=pt.length,at,Oe=0,Ze=0;for(wt=0;wt<Lt;++wt)at=pt[wt],Oe+=at.x,Ze+=at.y;for(Oe=Oe/Lt-tt,Ze=Ze/Lt-vt,wt=0;wt<Lt;++wt)at=pt[wt],at.x-=Oe,at.y-=Ze}return mt.initialize=function(wt){pt=wt},mt.x=function(wt){return arguments.length?(tt=+wt,mt):tt},mt.y=function(wt){return arguments.length?(vt=+wt,mt):vt},mt}function L(tt){return function(){return tt}}function n(){return(Math.random()-.5)*1e-6}function C(tt){var vt=+this._x.call(null,tt),pt=+this._y.call(null,tt);return T(this.cover(vt,pt),vt,pt,tt)}function T(tt,vt,pt,mt){if(isNaN(vt)||isNaN(pt))return tt;var wt,Lt=tt._root,at={data:mt},Oe=tt._x0,Ze=tt._y0,Je=tt._x1,Ye=tt._y1,ke,be,me,_e,Ee,Be,je,nt;if(!Lt)return tt._root=at,tt;for(;Lt.length;)if((Ee=vt>=(ke=(Oe+Je)/2))?Oe=ke:Je=ke,(Be=pt>=(be=(Ze+Ye)/2))?Ze=be:Ye=be,wt=Lt,!(Lt=Lt[je=Be<<1|Ee]))return wt[je]=at,tt;if(me=+tt._x.call(null,Lt.data),_e=+tt._y.call(null,Lt.data),vt===me&&pt===_e)return at.next=Lt,wt?wt[je]=at:tt._root=at,tt;do wt=wt?wt[je]=new Array(4):tt._root=new Array(4),(Ee=vt>=(ke=(Oe+Je)/2))?Oe=ke:Je=ke,(Be=pt>=(be=(Ze+Ye)/2))?Ze=be:Ye=be;while((je=Be<<1|Ee)===(nt=(_e>=be)<<1|me>=ke));return wt[nt]=Lt,wt[je]=at,tt}function v(tt){var vt,pt,mt=tt.length,wt,Lt,at=new Array(mt),Oe=new Array(mt),Ze=1/0,Je=1/0,Ye=-1/0,ke=-1/0;for(pt=0;pt<mt;++pt)isNaN(wt=+this._x.call(null,vt=tt[pt]))||isNaN(Lt=+this._y.call(null,vt))||(at[pt]=wt,Oe[pt]=Lt,wt<Ze&&(Ze=wt),wt>Ye&&(Ye=wt),Lt<Je&&(Je=Lt),Lt>ke&&(ke=Lt));if(Ze>Ye||Je>ke)return this;for(this.cover(Ze,Je).cover(Ye,ke),pt=0;pt<mt;++pt)T(this,at[pt],Oe[pt],tt[pt]);return this}function g(tt,vt){if(isNaN(tt=+tt)||isNaN(vt=+vt))return this;var pt=this._x0,mt=this._y0,wt=this._x1,Lt=this._y1;if(isNaN(pt))wt=(pt=Math.floor(tt))+1,Lt=(mt=Math.floor(vt))+1;else{for(var at=wt-pt,Oe=this._root,Ze,Je;pt>tt||tt>=wt||mt>vt||vt>=Lt;)switch(Je=(vt<mt)<<1|tt<pt,Ze=new Array(4),Ze[Je]=Oe,Oe=Ze,at*=2,Je){case 0:wt=pt+at,Lt=mt+at;break;case 1:pt=wt-at,Lt=mt+at;break;case 2:wt=pt+at,mt=Lt-at;break;case 3:pt=wt-at,mt=Lt-at;break}this._root&&this._root.length&&(this._root=Oe)}return this._x0=pt,this._y0=mt,this._x1=wt,this._y1=Lt,this}function r(){var tt=[];return this.visit(function(vt){if(!vt.length)do tt.push(vt.data);while(vt=vt.next)}),tt}function t(tt){return arguments.length?this.cover(+tt[0][0],+tt[0][1]).cover(+tt[1][0],+tt[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function s(tt,vt,pt,mt,wt){this.node=tt,this.x0=vt,this.y0=pt,this.x1=mt,this.y1=wt}function a(tt,vt,pt){var mt,wt=this._x0,Lt=this._y0,at,Oe,Ze,Je,Ye=this._x1,ke=this._y1,be=[],me=this._root,_e,Ee;for(me&&be.push(new s(me,wt,Lt,Ye,ke)),pt==null?pt=1/0:(wt=tt-pt,Lt=vt-pt,Ye=tt+pt,ke=vt+pt,pt*=pt);_e=be.pop();)if(!(!(me=_e.node)||(at=_e.x0)>Ye||(Oe=_e.y0)>ke||(Ze=_e.x1)<wt||(Je=_e.y1)<Lt))if(me.length){var Be=(at+Ze)/2,je=(Oe+Je)/2;be.push(new s(me[3],Be,je,Ze,Je),new s(me[2],at,je,Be,Je),new s(me[1],Be,Oe,Ze,je),new s(me[0],at,Oe,Be,je)),(Ee=(vt>=je)<<1|tt>=Be)&&(_e=be[be.length-1],be[be.length-1]=be[be.length-1-Ee],be[be.length-1-Ee]=_e)}else{var nt=tt-+this._x.call(null,me.data),dt=vt-+this._y.call(null,me.data),xt=nt*nt+dt*dt;if(xt<pt){var Kt=Math.sqrt(pt=xt);wt=tt-Kt,Lt=vt-Kt,Ye=tt+Kt,ke=vt+Kt,mt=me.data}}return mt}function f(tt){if(isNaN(Ye=+this._x.call(null,tt))||isNaN(ke=+this._y.call(null,tt)))return this;var vt,pt=this._root,mt,wt,Lt,at=this._x0,Oe=this._y0,Ze=this._x1,Je=this._y1,Ye,ke,be,me,_e,Ee,Be,je;if(!pt)return this;if(pt.length)for(;;){if((_e=Ye>=(be=(at+Ze)/2))?at=be:Ze=be,(Ee=ke>=(me=(Oe+Je)/2))?Oe=me:Je=me,vt=pt,!(pt=pt[Be=Ee<<1|_e]))return this;if(!pt.length)break;(vt[Be+1&3]||vt[Be+2&3]||vt[Be+3&3])&&(mt=vt,je=Be)}for(;pt.data!==tt;)if(wt=pt,!(pt=pt.next))return this;return(Lt=pt.next)&&delete pt.next,wt?(Lt?wt.next=Lt:delete wt.next,this):vt?(Lt?vt[Be]=Lt:delete vt[Be],(pt=vt[0]||vt[1]||vt[2]||vt[3])&&pt===(vt[3]||vt[2]||vt[1]||vt[0])&&!pt.length&&(mt?mt[je]=pt:this._root=pt),this):(this._root=Lt,this)}function u(tt){for(var vt=0,pt=tt.length;vt<pt;++vt)this.remove(tt[vt]);return this}function l(){return this._root}function m(){var tt=0;return this.visit(function(vt){if(!vt.length)do++tt;while(vt=vt.next)}),tt}function h(tt){var vt=[],pt,mt=this._root,wt,Lt,at,Oe,Ze;for(mt&&vt.push(new s(mt,this._x0,this._y0,this._x1,this._y1));pt=vt.pop();)if(!tt(mt=pt.node,Lt=pt.x0,at=pt.y0,Oe=pt.x1,Ze=pt.y1)&&mt.length){var Je=(Lt+Oe)/2,Ye=(at+Ze)/2;(wt=mt[3])&&vt.push(new s(wt,Je,Ye,Oe,Ze)),(wt=mt[2])&&vt.push(new s(wt,Lt,Ye,Je,Ze)),(wt=mt[1])&&vt.push(new s(wt,Je,at,Oe,Ye)),(wt=mt[0])&&vt.push(new s(wt,Lt,at,Je,Ye))}return this}function M(tt){var vt=[],pt=[],mt;for(this._root&&vt.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));mt=vt.pop();){var wt=mt.node;if(wt.length){var Lt,at=mt.x0,Oe=mt.y0,Ze=mt.x1,Je=mt.y1,Ye=(at+Ze)/2,ke=(Oe+Je)/2;(Lt=wt[0])&&vt.push(new s(Lt,at,Oe,Ye,ke)),(Lt=wt[1])&&vt.push(new s(Lt,Ye,Oe,Ze,ke)),(Lt=wt[2])&&vt.push(new s(Lt,at,ke,Ye,Je)),(Lt=wt[3])&&vt.push(new s(Lt,Ye,ke,Ze,Je))}pt.push(mt)}for(;mt=pt.pop();)tt(mt.node,mt.x0,mt.y0,mt.x1,mt.y1);return this}function c(tt){return tt[0]}function i(tt){return arguments.length?(this._x=tt,this):this._x}function d(tt){return tt[1]}function x(tt){return arguments.length?(this._y=tt,this):this._y}function A(tt,vt,pt){var mt=new E(vt??c,pt??d,NaN,NaN,NaN,NaN);return tt==null?mt:mt.addAll(tt)}function E(tt,vt,pt,mt,wt,Lt){this._x=tt,this._y=vt,this._x0=pt,this._y0=mt,this._x1=wt,this._y1=Lt,this._root=void 0}function y(tt){for(var vt={data:tt.data},pt=vt;tt=tt.next;)pt=pt.next={data:tt.data};return vt}var S=A.prototype=E.prototype;S.copy=function(){var tt=new E(this._x,this._y,this._x0,this._y0,this._x1,this._y1),vt=this._root,pt,mt;if(!vt)return tt;if(!vt.length)return tt._root=y(vt),tt;for(pt=[{source:vt,target:tt._root=new Array(4)}];vt=pt.pop();)for(var wt=0;wt<4;++wt)(mt=vt.source[wt])&&(mt.length?pt.push({source:mt,target:vt.target[wt]=new Array(4)}):vt.target[wt]=y(mt));return tt},S.add=C,S.addAll=v,S.cover=g,S.data=r,S.extent=t,S.find=a,S.remove=f,S.removeAll=u,S.root=l,S.size=m,S.visit=h,S.visitAfter=M,S.x=i,S.y=x;function w(tt){return tt.x+tt.vx}function o(tt){return tt.y+tt.vy}function _(tt){var vt,pt,mt=1,wt=1;typeof tt!="function"&&(tt=L(tt==null?1:+tt));function Lt(){for(var Ze,Je=vt.length,Ye,ke,be,me,_e,Ee,Be=0;Be<wt;++Be)for(Ye=A(vt,w,o).visitAfter(at),Ze=0;Ze<Je;++Ze)ke=vt[Ze],_e=pt[ke.index],Ee=_e*_e,be=ke.x+ke.vx,me=ke.y+ke.vy,Ye.visit(je);function je(nt,dt,xt,Kt,Jt){var St=nt.data,Ft=nt.r,rr=_e+Ft;if(St){if(St.index>ke.index){var _r=be-St.x-St.vx,Tt=me-St.y-St.vy,$t=_r*_r+Tt*Tt;$t<rr*rr&&(_r===0&&(_r=n(),$t+=_r*_r),Tt===0&&(Tt=n(),$t+=Tt*Tt),$t=(rr-($t=Math.sqrt($t)))/$t*mt,ke.vx+=(_r*=$t)*(rr=(Ft*=Ft)/(Ee+Ft)),ke.vy+=(Tt*=$t)*rr,St.vx-=_r*(rr=1-rr),St.vy-=Tt*rr)}return}return dt>be+rr||Kt<be-rr||xt>me+rr||Jt<me-rr}}function at(Ze){if(Ze.data)return Ze.r=pt[Ze.data.index];for(var Je=Ze.r=0;Je<4;++Je)Ze[Je]&&Ze[Je].r>Ze.r&&(Ze.r=Ze[Je].r)}function Oe(){if(vt){var Ze,Je=vt.length,Ye;for(pt=new Array(Je),Ze=0;Ze<Je;++Ze)Ye=vt[Ze],pt[Ye.index]=+tt(Ye,Ze,vt)}}return Lt.initialize=function(Ze){vt=Ze,Oe()},Lt.iterations=function(Ze){return arguments.length?(wt=+Ze,Lt):wt},Lt.strength=function(Ze){return arguments.length?(mt=+Ze,Lt):mt},Lt.radius=function(Ze){return arguments.length?(tt=typeof Ze=="function"?Ze:L(+Ze),Oe(),Lt):tt},Lt}var b=e(34712);function I(tt){return tt.index}function D(tt,vt){var pt=tt.get(vt);if(!pt)throw new Error("missing: "+vt);return pt}function N(tt){var vt=I,pt=Ye,mt,wt=L(30),Lt,at,Oe,Ze,Je=1;tt==null&&(tt=[]);function Ye(Ee){return 1/Math.min(Oe[Ee.source.index],Oe[Ee.target.index])}function ke(Ee){for(var Be=0,je=tt.length;Be<Je;++Be)for(var nt=0,dt,xt,Kt,Jt,St,Ft,rr;nt<je;++nt)dt=tt[nt],xt=dt.source,Kt=dt.target,Jt=Kt.x+Kt.vx-xt.x-xt.vx||n(),St=Kt.y+Kt.vy-xt.y-xt.vy||n(),Ft=Math.sqrt(Jt*Jt+St*St),Ft=(Ft-Lt[nt])/Ft*Ee*mt[nt],Jt*=Ft,St*=Ft,Kt.vx-=Jt*(rr=Ze[nt]),Kt.vy-=St*rr,xt.vx+=Jt*(rr=1-rr),xt.vy+=St*rr}function be(){if(at){var Ee,Be=at.length,je=tt.length,nt=(0,b.kH)(at,vt),dt;for(Ee=0,Oe=new Array(Be);Ee<je;++Ee)dt=tt[Ee],dt.index=Ee,typeof dt.source!="object"&&(dt.source=D(nt,dt.source)),typeof dt.target!="object"&&(dt.target=D(nt,dt.target)),Oe[dt.source.index]=(Oe[dt.source.index]||0)+1,Oe[dt.target.index]=(Oe[dt.target.index]||0)+1;for(Ee=0,Ze=new Array(je);Ee<je;++Ee)dt=tt[Ee],Ze[Ee]=Oe[dt.source.index]/(Oe[dt.source.index]+Oe[dt.target.index]);mt=new Array(je),me(),Lt=new Array(je),_e()}}function me(){if(at)for(var Ee=0,Be=tt.length;Ee<Be;++Ee)mt[Ee]=+pt(tt[Ee],Ee,tt)}function _e(){if(at)for(var Ee=0,Be=tt.length;Ee<Be;++Ee)Lt[Ee]=+wt(tt[Ee],Ee,tt)}return ke.initialize=function(Ee){at=Ee,be()},ke.links=function(Ee){return arguments.length?(tt=Ee,be(),ke):tt},ke.id=function(Ee){return arguments.length?(vt=Ee,ke):vt},ke.iterations=function(Ee){return arguments.length?(Je=+Ee,ke):Je},ke.strength=function(Ee){return arguments.length?(pt=typeof Ee=="function"?Ee:L(+Ee),me(),ke):pt},ke.distance=function(Ee){return arguments.length?(wt=typeof Ee=="function"?Ee:L(+Ee),_e(),ke):wt},ke}var k={value:function(){}};function z(){for(var tt=0,vt=arguments.length,pt={},mt;tt<vt;++tt){if(!(mt=arguments[tt]+"")||mt in pt||/[\s.]/.test(mt))throw new Error("illegal type: "+mt);pt[mt]=[]}return new F(pt)}function F(tt){this._=tt}function O(tt,vt){return tt.trim().split(/^|\s+/).map(function(pt){var mt="",wt=pt.indexOf(".");if(wt>=0&&(mt=pt.slice(wt+1),pt=pt.slice(0,wt)),pt&&!vt.hasOwnProperty(pt))throw new Error("unknown type: "+pt);return{type:pt,name:mt}})}F.prototype=z.prototype={constructor:F,on:function(tt,vt){var pt=this._,mt=O(tt+"",pt),wt,Lt=-1,at=mt.length;if(arguments.length<2){for(;++Lt<at;)if((wt=(tt=mt[Lt]).type)&&(wt=B(pt[wt],tt.name)))return wt;return}if(vt!=null&&typeof vt!="function")throw new Error("invalid callback: "+vt);for(;++Lt<at;)if(wt=(tt=mt[Lt]).type)pt[wt]=W(pt[wt],tt.name,vt);else if(vt==null)for(wt in pt)pt[wt]=W(pt[wt],tt.name,null);return this},copy:function(){var tt={},vt=this._;for(var pt in vt)tt[pt]=vt[pt].slice();return new F(tt)},call:function(tt,vt){if((wt=arguments.length-2)>0)for(var pt=new Array(wt),mt=0,wt,Lt;mt<wt;++mt)pt[mt]=arguments[mt+2];if(!this._.hasOwnProperty(tt))throw new Error("unknown type: "+tt);for(Lt=this._[tt],mt=0,wt=Lt.length;mt<wt;++mt)Lt[mt].value.apply(vt,pt)},apply:function(tt,vt,pt){if(!this._.hasOwnProperty(tt))throw new Error("unknown type: "+tt);for(var mt=this._[tt],wt=0,Lt=mt.length;wt<Lt;++wt)mt[wt].value.apply(vt,pt)}};function B(tt,vt){for(var pt=0,mt=tt.length,wt;pt<mt;++pt)if((wt=tt[pt]).name===vt)return wt.value}function W(tt,vt,pt){for(var mt=0,wt=tt.length;mt<wt;++mt)if(tt[mt].name===vt){tt[mt]=k,tt=tt.slice(0,mt).concat(tt.slice(mt+1));break}return pt!=null&&tt.push({name:vt,value:pt}),tt}var ee=z,ne=0,Q=0,le=0,Z=1e3,Y,re,X=0,q=0,se=0,$=typeof performance=="object"&&performance.now?performance:Date,j=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(tt){setTimeout(tt,17)};function ue(){return q||(j(ae),q=$.now()+se)}function ae(){q=0}function ce(){this._call=this._time=this._next=null}ce.prototype=ye.prototype={constructor:ce,restart:function(tt,vt,pt){if(typeof tt!="function")throw new TypeError("callback is not a function");pt=(pt==null?ue():+pt)+(vt==null?0:+vt),!this._next&&re!==this&&(re?re._next=this:Y=this,re=this),this._call=tt,this._time=pt,Le()},stop:function(){this._call&&(this._call=null,this._time=1/0,Le())}};function ye(tt,vt,pt){var mt=new ce;return mt.restart(tt,vt,pt),mt}function Ce(){ue(),++ne;for(var tt=Y,vt;tt;)(vt=q-tt._time)>=0&&tt._call.call(null,vt),tt=tt._next;--ne}function Ae(){q=(X=$.now())+se,ne=Q=0;try{Ce()}finally{ne=0,Te(),q=0}}function Ie(){var tt=$.now(),vt=tt-X;vt>Z&&(se-=vt,X=tt)}function Te(){for(var tt,vt=Y,pt,mt=1/0;vt;)vt._call?(mt>vt._time&&(mt=vt._time),tt=vt,vt=vt._next):(pt=vt._next,vt._next=null,vt=tt?tt._next=pt:Y=pt);re=tt,Le(mt)}function Le(tt){if(!ne){Q&&(Q=clearTimeout(Q));var vt=tt-q;vt>24?(tt<1/0&&(Q=setTimeout(Ae,tt-$.now()-se)),le&&(le=clearInterval(le))):(le||(X=$.now(),le=setInterval(Ie,Z)),ne=1,j(Ae))}}function xe(tt){return tt.x}function Re(tt){return tt.y}var He=10,Ve=Math.PI*(3-Math.sqrt(5));function Fe(tt){var vt,pt=1,mt=.001,wt=1-Math.pow(mt,1/300),Lt=0,at=.6,Oe=(0,b.kH)(),Ze=ye(Ye),Je=ee("tick","end");tt==null&&(tt=[]);function Ye(){ke(),Je.call("tick",vt),pt<mt&&(Ze.stop(),Je.call("end",vt))}function ke(_e){var Ee,Be=tt.length,je;_e===void 0&&(_e=1);for(var nt=0;nt<_e;++nt)for(pt+=(Lt-pt)*wt,Oe.each(function(dt){dt(pt)}),Ee=0;Ee<Be;++Ee)je=tt[Ee],je.fx==null?je.x+=je.vx*=at:(je.x=je.fx,je.vx=0),je.fy==null?je.y+=je.vy*=at:(je.y=je.fy,je.vy=0);return vt}function be(){for(var _e=0,Ee=tt.length,Be;_e<Ee;++_e){if(Be=tt[_e],Be.index=_e,Be.fx!=null&&(Be.x=Be.fx),Be.fy!=null&&(Be.y=Be.fy),isNaN(Be.x)||isNaN(Be.y)){var je=He*Math.sqrt(_e),nt=_e*Ve;Be.x=je*Math.cos(nt),Be.y=je*Math.sin(nt)}(isNaN(Be.vx)||isNaN(Be.vy))&&(Be.vx=Be.vy=0)}}function me(_e){return _e.initialize&&_e.initialize(tt),_e}return be(),vt={tick:ke,restart:function(){return Ze.restart(Ye),vt},stop:function(){return Ze.stop(),vt},nodes:function(_e){return arguments.length?(tt=_e,be(),Oe.each(me),vt):tt},alpha:function(_e){return arguments.length?(pt=+_e,vt):pt},alphaMin:function(_e){return arguments.length?(mt=+_e,vt):mt},alphaDecay:function(_e){return arguments.length?(wt=+_e,vt):+wt},alphaTarget:function(_e){return arguments.length?(Lt=+_e,vt):Lt},velocityDecay:function(_e){return arguments.length?(at=1-_e,vt):1-at},force:function(_e,Ee){return arguments.length>1?(Ee==null?Oe.remove(_e):Oe.set(_e,me(Ee)),vt):Oe.get(_e)},find:function(_e,Ee,Be){var je=0,nt=tt.length,dt,xt,Kt,Jt,St;for(Be==null?Be=1/0:Be*=Be,je=0;je<nt;++je)Jt=tt[je],dt=_e-Jt.x,xt=Ee-Jt.y,Kt=dt*dt+xt*xt,Kt<Be&&(St=Jt,Be=Kt);return St},on:function(_e,Ee){return arguments.length>1?(Je.on(_e,Ee),vt):Je.on(_e)}}}function We(){var tt,vt,pt,mt=L(-30),wt,Lt=1,at=1/0,Oe=.81;function Ze(be){var me,_e=tt.length,Ee=A(tt,xe,Re).visitAfter(Ye);for(pt=be,me=0;me<_e;++me)vt=tt[me],Ee.visit(ke)}function Je(){if(tt){var be,me=tt.length,_e;for(wt=new Array(me),be=0;be<me;++be)_e=tt[be],wt[_e.index]=+mt(_e,be,tt)}}function Ye(be){var me=0,_e,Ee,Be=0,je,nt,dt;if(be.length){for(je=nt=dt=0;dt<4;++dt)(_e=be[dt])&&(Ee=Math.abs(_e.value))&&(me+=_e.value,Be+=Ee,je+=Ee*_e.x,nt+=Ee*_e.y);be.x=je/Be,be.y=nt/Be}else{_e=be,_e.x=_e.data.x,_e.y=_e.data.y;do me+=wt[_e.data.index];while(_e=_e.next)}be.value=me}function ke(be,me,_e,Ee){if(!be.value)return!0;var Be=be.x-vt.x,je=be.y-vt.y,nt=Ee-me,dt=Be*Be+je*je;if(nt*nt/Oe<dt)return dt<at&&(Be===0&&(Be=n(),dt+=Be*Be),je===0&&(je=n(),dt+=je*je),dt<Lt&&(dt=Math.sqrt(Lt*dt)),vt.vx+=Be*be.value*pt/dt,vt.vy+=je*be.value*pt/dt),!0;if(be.length||dt>=at)return;(be.data!==vt||be.next)&&(Be===0&&(Be=n(),dt+=Be*Be),je===0&&(je=n(),dt+=je*je),dt<Lt&&(dt=Math.sqrt(Lt*dt)));do be.data!==vt&&(nt=wt[be.data.index]*pt/dt,vt.vx+=Be*nt,vt.vy+=je*nt);while(be=be.next)}return Ze.initialize=function(be){tt=be,Je()},Ze.strength=function(be){return arguments.length?(mt=typeof be=="function"?be:L(+be),Je(),Ze):mt},Ze.distanceMin=function(be){return arguments.length?(Lt=be*be,Ze):Math.sqrt(Lt)},Ze.distanceMax=function(be){return arguments.length?(at=be*be,Ze):Math.sqrt(at)},Ze.theta=function(be){return arguments.length?(Oe=be*be,Ze):Math.sqrt(Oe)},Ze}function ut(tt,vt,pt){var mt,wt=L(.1),Lt,at;typeof tt!="function"&&(tt=L(+tt)),vt==null&&(vt=0),pt==null&&(pt=0);function Oe(Je){for(var Ye=0,ke=mt.length;Ye<ke;++Ye){var be=mt[Ye],me=be.x-vt||1e-6,_e=be.y-pt||1e-6,Ee=Math.sqrt(me*me+_e*_e),Be=(at[Ye]-Ee)*Lt[Ye]*Je/Ee;be.vx+=me*Be,be.vy+=_e*Be}}function Ze(){if(mt){var Je,Ye=mt.length;for(Lt=new Array(Ye),at=new Array(Ye),Je=0;Je<Ye;++Je)at[Je]=+tt(mt[Je],Je,mt),Lt[Je]=isNaN(at[Je])?0:+wt(mt[Je],Je,mt)}}return Oe.initialize=function(Je){mt=Je,Ze()},Oe.strength=function(Je){return arguments.length?(wt=typeof Je=="function"?Je:L(+Je),Ze(),Oe):wt},Oe.radius=function(Je){return arguments.length?(tt=typeof Je=="function"?Je:L(+Je),Ze(),Oe):tt},Oe.x=function(Je){return arguments.length?(vt=+Je,Oe):vt},Oe.y=function(Je){return arguments.length?(pt=+Je,Oe):pt},Oe}function ht(tt){var vt=L(.1),pt,mt,wt;typeof tt!="function"&&(tt=L(tt==null?0:+tt));function Lt(Oe){for(var Ze=0,Je=pt.length,Ye;Ze<Je;++Ze)Ye=pt[Ze],Ye.vx+=(wt[Ze]-Ye.x)*mt[Ze]*Oe}function at(){if(pt){var Oe,Ze=pt.length;for(mt=new Array(Ze),wt=new Array(Ze),Oe=0;Oe<Ze;++Oe)mt[Oe]=isNaN(wt[Oe]=+tt(pt[Oe],Oe,pt))?0:+vt(pt[Oe],Oe,pt)}}return Lt.initialize=function(Oe){pt=Oe,at()},Lt.strength=function(Oe){return arguments.length?(vt=typeof Oe=="function"?Oe:L(+Oe),at(),Lt):vt},Lt.x=function(Oe){return arguments.length?(tt=typeof Oe=="function"?Oe:L(+Oe),at(),Lt):tt},Lt}function rt(tt){var vt=L(.1),pt,mt,wt;typeof tt!="function"&&(tt=L(tt==null?0:+tt));function Lt(Oe){for(var Ze=0,Je=pt.length,Ye;Ze<Je;++Ze)Ye=pt[Ze],Ye.vy+=(wt[Ze]-Ye.y)*mt[Ze]*Oe}function at(){if(pt){var Oe,Ze=pt.length;for(mt=new Array(Ze),wt=new Array(Ze),Oe=0;Oe<Ze;++Oe)mt[Oe]=isNaN(wt[Oe]=+tt(pt[Oe],Oe,pt))?0:+vt(pt[Oe],Oe,pt)}}return Lt.initialize=function(Oe){pt=Oe,at()},Lt.strength=function(Oe){return arguments.length?(vt=typeof Oe=="function"?Oe:L(+Oe),at(),Lt):vt},Lt.y=function(Oe){return arguments.length?(tt=typeof Oe=="function"?Oe:L(+Oe),at(),Lt):tt},Lt}},57624:function(H,U,e){e.d(U,{E9:function(){return i},SO:function(){return M}});function p(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function L(x,A){if((E=(x=A?x.toExponential(A-1):x.toExponential()).indexOf("e"))<0)return null;var E,y=x.slice(0,E);return[y.length>1?y[0]+y.slice(2):y,+x.slice(E+1)]}function n(x){return x=L(Math.abs(x)),x?x[1]:NaN}function C(x,A){return function(E,y){for(var S=E.length,w=[],o=0,_=x[0],b=0;S>0&&_>0&&(b+_+1>y&&(_=Math.max(1,y-b)),w.push(E.substring(S-=_,S+_)),!((b+=_+1)>y));)_=x[o=(o+1)%x.length];return w.reverse().join(A)}}function T(x){return function(A){return A.replace(/[0-9]/g,function(E){return x[+E]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function g(x){if(!(A=v.exec(x)))throw new Error("invalid format: "+x);var A;return new r({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}g.prototype=r.prototype;function r(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(x){e:for(var A=x.length,E=1,y=-1,S;E<A;++E)switch(x[E]){case".":y=S=E;break;case"0":y===0&&(y=E),S=E;break;default:if(!+x[E])break e;y>0&&(y=0);break}return y>0?x.slice(0,y)+x.slice(S+1):x}var s;function a(x,A){var E=L(x,A);if(!E)return x+"";var y=E[0],S=E[1],w=S-(s=Math.max(-8,Math.min(8,Math.floor(S/3)))*3)+1,o=y.length;return w===o?y:w>o?y+new Array(w-o+1).join("0"):w>0?y.slice(0,w)+"."+y.slice(w):"0."+new Array(1-w).join("0")+L(x,Math.max(0,A+w-1))[0]}function f(x,A){var E=L(x,A);if(!E)return x+"";var y=E[0],S=E[1];return S<0?"0."+new Array(-S).join("0")+y:y.length>S+1?y.slice(0,S+1)+"."+y.slice(S+1):y+new Array(S-y.length+2).join("0")}var u={"%":function(x,A){return(x*100).toFixed(A)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:p,e:function(x,A){return x.toExponential(A)},f:function(x,A){return x.toFixed(A)},g:function(x,A){return x.toPrecision(A)},o:function(x){return Math.round(x).toString(8)},p:function(x,A){return f(x*100,A)},r:f,s:a,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function l(x){return x}var m=Array.prototype.map,h=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function M(x){var A=x.grouping===void 0||x.thousands===void 0?l:C(m.call(x.grouping,Number),x.thousands+""),E=x.currency===void 0?"":x.currency[0]+"",y=x.currency===void 0?"":x.currency[1]+"",S=x.decimal===void 0?".":x.decimal+"",w=x.numerals===void 0?l:T(m.call(x.numerals,String)),o=x.percent===void 0?"%":x.percent+"",_=x.minus===void 0?"-":x.minus+"",b=x.nan===void 0?"NaN":x.nan+"";function I(N){N=g(N);var k=N.fill,z=N.align,F=N.sign,O=N.symbol,B=N.zero,W=N.width,ee=N.comma,ne=N.precision,Q=N.trim,le=N.type;le==="n"?(ee=!0,le="g"):u[le]||(ne===void 0&&(ne=12),Q=!0,le="g"),(B||k==="0"&&z==="=")&&(B=!0,k="0",z="=");var Z=O==="$"?E:O==="#"&&/[boxX]/.test(le)?"0"+le.toLowerCase():"",Y=O==="$"?y:/[%p]/.test(le)?o:"",re=u[le],X=/[defgprs%]/.test(le);ne=ne===void 0?6:/[gprs]/.test(le)?Math.max(1,Math.min(21,ne)):Math.max(0,Math.min(20,ne));function q(se){var $=Z,j=Y,ue,ae,ce;if(le==="c")j=re(se)+j,se="";else{se=+se;var ye=se<0||1/se<0;if(se=isNaN(se)?b:re(Math.abs(se),ne),Q&&(se=t(se)),ye&&+se==0&&F!=="+"&&(ye=!1),$=(ye?F==="("?F:_:F==="-"||F==="("?"":F)+$,j=(le==="s"?h[8+s/3]:"")+j+(ye&&F==="("?")":""),X){for(ue=-1,ae=se.length;++ue<ae;)if(ce=se.charCodeAt(ue),48>ce||ce>57){j=(ce===46?S+se.slice(ue+1):se.slice(ue))+j,se=se.slice(0,ue);break}}}ee&&!B&&(se=A(se,1/0));var Ce=$.length+se.length+j.length,Ae=Ce<W?new Array(W-Ce+1).join(k):"";switch(ee&&B&&(se=A(Ae+se,Ae.length?W-j.length:1/0),Ae=""),z){case"<":se=$+se+j+Ae;break;case"=":se=$+Ae+se+j;break;case"^":se=Ae.slice(0,Ce=Ae.length>>1)+$+se+j+Ae.slice(Ce);break;default:se=Ae+$+se+j;break}return w(se)}return q.toString=function(){return N+""},q}function D(N,k){var z=I((N=g(N),N.type="f",N)),F=Math.max(-8,Math.min(8,Math.floor(n(k)/3)))*3,O=Math.pow(10,-F),B=h[8+F/3];return function(W){return z(O*W)+B}}return{format:I,formatPrefix:D}}var c,i;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(x){return c=M(x),i=c.format,c.formatPrefix,c}},87108:function(H,U,e){e.r(U),e.d(U,{geoAiry:function(){return B},geoAiryRaw:function(){return O},geoAitoff:function(){return ee},geoAitoffRaw:function(){return W},geoArmadillo:function(){return Q},geoArmadilloRaw:function(){return ne},geoAugust:function(){return Z},geoAugustRaw:function(){return le},geoBaker:function(){return q},geoBakerRaw:function(){return X},geoBerghaus:function(){return j},geoBerghausRaw:function(){return $},geoBertin1953:function(){return Te},geoBertin1953Raw:function(){return Ie},geoBoggs:function(){return ut},geoBoggsRaw:function(){return We},geoBonne:function(){return pt},geoBonneRaw:function(){return vt},geoBottomley:function(){return wt},geoBottomleyRaw:function(){return mt},geoBromley:function(){return at},geoBromleyRaw:function(){return Lt},geoChamberlin:function(){return Ee},geoChamberlinAfrica:function(){return _e},geoChamberlinRaw:function(){return be},geoCollignon:function(){return je},geoCollignonRaw:function(){return Be},geoCraig:function(){return dt},geoCraigRaw:function(){return nt},geoCraster:function(){return Jt},geoCrasterRaw:function(){return Kt},geoCylindricalEqualArea:function(){return Ft},geoCylindricalEqualAreaRaw:function(){return St},geoCylindricalStereographic:function(){return _r},geoCylindricalStereographicRaw:function(){return rr},geoEckert1:function(){return $t},geoEckert1Raw:function(){return Tt},geoEckert2:function(){return Tr},geoEckert2Raw:function(){return tr},geoEckert3:function(){return bt},geoEckert3Raw:function(){return cr},geoEckert4:function(){return Mt},geoEckert4Raw:function(){return lt},geoEckert5:function(){return Ot},geoEckert5Raw:function(){return _t},geoEckert6:function(){return Wt},geoEckert6Raw:function(){return It},geoEisenlohr:function(){return dr},geoEisenlohrRaw:function(){return er},geoFahey:function(){return Xe},geoFaheyRaw:function(){return mr},geoFoucaut:function(){return Ut},geoFoucautRaw:function(){return Ge},geoFoucautSinusoidal:function(){return Qt},geoFoucautSinusoidalRaw:function(){return Nt},geoGilbert:function(){return yr},geoGingery:function(){return jr},geoGingeryRaw:function(){return wr},geoGinzburg4:function(){return wn},geoGinzburg4Raw:function(){return Nr},geoGinzburg5:function(){return Un},geoGinzburg5Raw:function(){return hn},geoGinzburg6:function(){return Pr},geoGinzburg6Raw:function(){return Fn},geoGinzburg8:function(){return Qr},geoGinzburg8Raw:function(){return Or},geoGinzburg9:function(){return vn},geoGinzburg9Raw:function(){return Zr},geoGringorten:function(){return ya},geoGringortenQuincuncial:function(){return nc},geoGringortenRaw:function(){return Sn},geoGuyou:function(){return An},geoGuyouRaw:function(){return Er},geoHammer:function(){return ye},geoHammerRaw:function(){return ae},geoHammerRetroazimuthal:function(){return $n},geoHammerRetroazimuthalRaw:function(){return kn},geoHealpix:function(){return pn},geoHealpixRaw:function(){return Lr},geoHill:function(){return rn},geoHillRaw:function(){return Dr},geoHomolosine:function(){return Qn},geoHomolosineRaw:function(){return In},geoHufnagel:function(){return Aa},geoHufnagelRaw:function(){return Kn},geoHyperelliptical:function(){return Pi},geoHyperellipticalRaw:function(){return Ra},geoInterrupt:function(){return Jo},geoInterruptedBoggs:function(){return Sc},geoInterruptedHomolosine:function(){return Ti},geoInterruptedMollweide:function(){return Cc},geoInterruptedMollweideHemispheres:function(){return os},geoInterruptedQuarticAuthalic:function(){return cl},geoInterruptedSinuMollweide:function(){return Ou},geoInterruptedSinusoidal:function(){return zu},geoKavrayskiy7:function(){return Lo},geoKavrayskiy7Raw:function(){return xo},geoLagrange:function(){return Uo},geoLagrangeRaw:function(){return Fu},geoLarrivee:function(){return Nu},geoLarriveeRaw:function(){return fs},geoLaskowski:function(){return th},geoLaskowskiRaw:function(){return cs},geoLittrow:function(){return Vo},geoLittrowRaw:function(){return ul},geoLoximuthal:function(){return Gl},geoLoximuthalRaw:function(){return Lc},geoMiller:function(){return Wl},geoMillerRaw:function(){return fl},geoModifiedStereographic:function(){return Xl},geoModifiedStereographicAlaska:function(){return _c},geoModifiedStereographicGs48:function(){return Ph},geoModifiedStereographicGs50:function(){return Rh},geoModifiedStereographicLee:function(){return Vs},geoModifiedStereographicMiller:function(){return ou},geoModifiedStereographicRaw:function(){return rh},geoMollweide:function(){return He},geoMollweideRaw:function(){return Re},geoMtFlatPolarParabolic:function(){return ah},geoMtFlatPolarParabolicRaw:function(){return xf},geoMtFlatPolarQuartic:function(){return Vu},geoMtFlatPolarQuarticRaw:function(){return Sl},geoMtFlatPolarSinusoidal:function(){return ra},geoMtFlatPolarSinusoidalRaw:function(){return En},geoNaturalEarth:function(){return Jn.c},geoNaturalEarth2:function(){return si},geoNaturalEarth2Raw:function(){return Ya},geoNaturalEarthRaw:function(){return Jn.g},geoNellHammer:function(){return lo},geoNellHammerRaw:function(){return Ri},geoNicolosi:function(){return xs},geoNicolosiRaw:function(){return hl},geoPatterson:function(){return Wu},geoPattersonRaw:function(){return qf},geoPeirceQuincuncial:function(){return Ju},geoPierceQuincuncial:function(){return Ju},geoPolyconic:function(){return tc},geoPolyconicRaw:function(){return ec},geoPolyhedral:function(){return Ui},geoPolyhedralButterfly:function(){return Tf},geoPolyhedralCollignon:function(){return cu},geoPolyhedralWaterman:function(){return io},geoProject:function(){return Dc},geoQuantize:function(){return Ic},geoQuincuncial:function(){return Rl},geoRectangularPolyconic:function(){return vu},geoRectangularPolyconicRaw:function(){return Cr},geoRobinson:function(){return pi},geoRobinsonRaw:function(){return So},geoSatellite:function(){return du},geoSatelliteRaw:function(){return ac},geoSinuMollweide:function(){return Wn},geoSinuMollweideRaw:function(){return _n},geoSinusoidal:function(){return tt},geoSinusoidalRaw:function(){return rt},geoStitch:function(){return _f},geoTimes:function(){return Qi},geoTimesRaw:function(){return Jl},geoTwoPointAzimuthal:function(){return sc},geoTwoPointAzimuthalRaw:function(){return Oc},geoTwoPointAzimuthalUsa:function(){return pu},geoTwoPointEquidistant:function(){return zc},geoTwoPointEquidistantRaw:function(){return Pf},geoTwoPointEquidistantUsa:function(){return uh},geoVanDerGrinten:function(){return Rf},geoVanDerGrinten2:function(){return tf},geoVanDerGrinten2Raw:function(){return $l},geoVanDerGrinten3:function(){return Dh},geoVanDerGrinten3Raw:function(){return qs},geoVanDerGrinten4:function(){return Df},geoVanDerGrinten4Raw:function(){return hs},geoVanDerGrintenRaw:function(){return ss},geoWagner:function(){return As},geoWagner4:function(){return nf},geoWagner4Raw:function(){return kf},geoWagner6:function(){return lc},geoWagner6Raw:function(){return Ws},geoWagner7:function(){return Ms},geoWagnerRaw:function(){return el},geoWiechel:function(){return af},geoWiechelRaw:function(){return gu},geoWinkel3:function(){return Fc},geoWinkel3Raw:function(){return Of}});var p=e(87952),L=Math.abs,n=Math.atan,C=Math.atan2,T=Math.cos,v=Math.exp,g=Math.floor,r=Math.log,t=Math.max,s=Math.min,a=Math.pow,f=Math.round,u=Math.sign||function($e){return $e>0?1:$e<0?-1:0},l=Math.sin,m=Math.tan,h=1e-6,M=1e-12,c=Math.PI,i=c/2,d=c/4,x=Math.SQRT1_2,A=I(2),E=I(c),y=c*2,S=180/c,w=c/180;function o($e){return $e?$e/Math.sin($e):1}function _($e){return $e>1?i:$e<-1?-i:Math.asin($e)}function b($e){return $e>1?0:$e<-1?c:Math.acos($e)}function I($e){return $e>0?Math.sqrt($e):0}function D($e){return $e=v(2*$e),($e-1)/($e+1)}function N($e){return(v($e)-v(-$e))/2}function k($e){return(v($e)+v(-$e))/2}function z($e){return r($e+I($e*$e+1))}function F($e){return r($e+I($e*$e-1))}function O($e){var st=m($e/2),yt=2*r(T($e/2))/(st*st);function At(Bt,kt){var Ht=T(Bt),xr=T(kt),br=l(kt),ur=xr*Ht,Rr=-((1-ur?r((1+ur)/2)/(1-ur):-.5)+yt/(1+ur));return[Rr*xr*l(Bt),Rr*br]}return At.invert=function(Bt,kt){var Ht=I(Bt*Bt+kt*kt),xr=-$e/2,br=50,ur;if(!Ht)return[0,0];do{var Rr=xr/2,Ur=T(Rr),Yr=l(Rr),fn=Yr/Ur,Pn=-r(L(Ur));xr-=ur=(2/fn*Pn-yt*fn-Ht)/(-Pn/(Yr*Yr)+1-yt/(2*Ur*Ur))*(Ur<0?.7:1)}while(L(ur)>h&&--br>0);var Nn=l(xr);return[C(Bt*Nn,Ht*T(xr)),_(kt*Nn/Ht)]},At}function B(){var $e=i,st=(0,p.U)(O),yt=st($e);return yt.radius=function(At){return arguments.length?st($e=At*w):$e*S},yt.scale(179.976).clipAngle(147)}function W($e,st){var yt=T(st),At=o(b(yt*T($e/=2)));return[2*yt*l($e)*At,l(st)*At]}W.invert=function($e,st){if(!($e*$e+4*st*st>c*c+h)){var yt=$e,At=st,Bt=25;do{var kt=l(yt),Ht=l(yt/2),xr=T(yt/2),br=l(At),ur=T(At),Rr=l(2*At),Ur=br*br,Yr=ur*ur,fn=Ht*Ht,Pn=1-Yr*xr*xr,Nn=Pn?b(ur*xr)*I(Yn=1/Pn):Yn=0,Yn,ia=2*Nn*ur*Ht-$e,Ka=Nn*br-st,Xa=Yn*(Yr*fn+Nn*ur*xr*Ur),Qa=Yn*(.5*kt*Rr-Nn*2*br*Ht),ni=Yn*.25*(Rr*Ht-Nn*br*Yr*kt),mi=Yn*(Ur*xr+Nn*fn*ur),Vi=Qa*ni-mi*Xa;if(!Vi)break;var Eo=(Ka*Qa-ia*mi)/Vi,he=(ia*ni-Ka*Xa)/Vi;yt-=Eo,At-=he}while((L(Eo)>h||L(he)>h)&&--Bt>0);return[yt,At]}};function ee(){return(0,p.c)(W).scale(152.63)}function ne($e){var st=l($e),yt=T($e),At=$e>=0?1:-1,Bt=m(At*$e),kt=(1+st-yt)/2;function Ht(xr,br){var ur=T(br),Rr=T(xr/=2);return[(1+ur)*l(xr),(At*br>-C(Rr,Bt)-.001?0:-At*10)+kt+l(br)*yt-(1+ur)*st*Rr]}return Ht.invert=function(xr,br){var ur=0,Rr=0,Ur=50;do{var Yr=T(ur),fn=l(ur),Pn=T(Rr),Nn=l(Rr),Yn=1+Pn,ia=Yn*fn-xr,Ka=kt+Nn*yt-Yn*st*Yr-br,Xa=Yn*Yr/2,Qa=-fn*Nn,ni=st*Yn*fn/2,mi=yt*Pn+st*Yr*Nn,Vi=Qa*ni-mi*Xa,Eo=(Ka*Qa-ia*mi)/Vi/2,he=(ia*ni-Ka*Xa)/Vi;L(he)>2&&(he/=2),ur-=Eo,Rr-=he}while((L(Eo)>h||L(he)>h)&&--Ur>0);return At*Rr>-C(T(ur),Bt)-.001?[ur*2,Rr]:null},Ht}function Q(){var $e=20*w,st=$e>=0?1:-1,yt=m(st*$e),At=(0,p.U)(ne),Bt=At($e),kt=Bt.stream;return Bt.parallel=function(Ht){return arguments.length?(yt=m((st=($e=Ht*w)>=0?1:-1)*$e),At($e)):$e*S},Bt.stream=function(Ht){var xr=Bt.rotate(),br=kt(Ht),ur=(Bt.rotate([0,0]),kt(Ht)),Rr=Bt.precision();return Bt.rotate(xr),br.sphere=function(){ur.polygonStart(),ur.lineStart();for(var Ur=st*-180;st*Ur<180;Ur+=st*90)ur.point(Ur,st*90);if($e)for(;st*(Ur-=3*st*Rr)>=-180;)ur.point(Ur,st*-C(T(Ur*w/2),yt)*S);ur.lineEnd(),ur.polygonEnd()},br},Bt.scale(218.695).center([0,28.0974])}function le($e,st){var yt=m(st/2),At=I(1-yt*yt),Bt=1+At*T($e/=2),kt=l($e)*At/Bt,Ht=yt/Bt,xr=kt*kt,br=Ht*Ht;return[1.3333333333333333*kt*(3+xr-3*br),1.3333333333333333*Ht*(3+3*xr-br)]}le.invert=function($e,st){if($e*=.375,st*=.375,!$e&&L(st)>1)return null;var yt=$e*$e,At=st*st,Bt=1+yt+At,kt=I((Bt-I(Bt*Bt-4*st*st))/2),Ht=_(kt)/3,xr=kt?F(L(st/kt))/3:z(L($e))/3,br=T(Ht),ur=k(xr),Rr=ur*ur-br*br;return[u($e)*2*C(N(xr)*br,.25-Rr),u(st)*2*C(ur*l(Ht),.25+Rr)]};function Z(){return(0,p.c)(le).scale(66.1603)}var Y=I(8),re=r(1+A);function X($e,st){var yt=L(st);return yt<d?[$e,r(m(d+st/2))]:[$e*T(yt)*(2*A-1/l(yt)),u(st)*(2*A*(yt-d)-r(m(yt/2)))]}X.invert=function($e,st){if((kt=L(st))<re)return[$e,2*n(v(st))-i];var yt=d,At=25,Bt,kt;do{var Ht=T(yt/2),xr=m(yt/2);yt-=Bt=(Y*(yt-d)-r(xr)-kt)/(Y-Ht*Ht/(2*xr))}while(L(Bt)>M&&--At>0);return[$e/(T(yt)*(Y-1/l(yt))),u(st)*yt]};function q(){return(0,p.c)(X).scale(112.314)}var se=e(69020);function $($e){var st=2*c/$e;function yt(At,Bt){var kt=(0,se.O)(At,Bt);if(L(At)>i){var Ht=C(kt[1],kt[0]),xr=I(kt[0]*kt[0]+kt[1]*kt[1]),br=st*f((Ht-i)/st)+i,ur=C(l(Ht-=br),2-T(Ht));Ht=br+_(c/xr*l(ur))-ur,kt[0]=xr*T(Ht),kt[1]=xr*l(Ht)}return kt}return yt.invert=function(At,Bt){var kt=I(At*At+Bt*Bt);if(kt>i){var Ht=C(Bt,At),xr=st*f((Ht-i)/st)+i,br=Ht>xr?-1:1,ur=kt*T(xr-Ht),Rr=1/m(br*b((ur-c)/I(c*(c-2*ur)+kt*kt)));Ht=xr+2*n((Rr+br*I(Rr*Rr-3))/3),At=kt*T(Ht),Bt=kt*l(Ht)}return se.O.invert(At,Bt)},yt}function j(){var $e=5,st=(0,p.U)($),yt=st($e),At=yt.stream,Bt=.01,kt=-T(Bt*w),Ht=l(Bt*w);return yt.lobes=function(xr){return arguments.length?st($e=+xr):$e},yt.stream=function(xr){var br=yt.rotate(),ur=At(xr),Rr=(yt.rotate([0,0]),At(xr));return yt.rotate(br),ur.sphere=function(){Rr.polygonStart(),Rr.lineStart();for(var Ur=0,Yr=360/$e,fn=2*c/$e,Pn=90-180/$e,Nn=i;Ur<$e;++Ur,Pn-=Yr,Nn-=fn)Rr.point(C(Ht*T(Nn),kt)*S,_(Ht*l(Nn))*S),Pn<-90?(Rr.point(-90,-180-Pn-Bt),Rr.point(-90,-180-Pn+Bt)):(Rr.point(90,Pn+Bt),Rr.point(90,Pn-Bt));Rr.lineEnd(),Rr.polygonEnd()},ur},yt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ue=e(54724);function ae($e,st){if(arguments.length<2&&(st=$e),st===1)return ue.y;if(st===1/0)return ce;function yt(At,Bt){var kt=(0,ue.y)(At/st,Bt);return kt[0]*=$e,kt}return yt.invert=function(At,Bt){var kt=ue.y.invert(At/$e,Bt);return kt[0]*=st,kt},yt}function ce($e,st){return[$e*T(st)/T(st/=2),2*l(st)]}ce.invert=function($e,st){var yt=2*_(st/2);return[$e*T(yt/2)/T(yt),yt]};function ye(){var $e=2,st=(0,p.U)(ae),yt=st($e);return yt.coefficient=function(At){return arguments.length?st($e=+At):$e},yt.scale(169.529)}function Ce($e,st,yt){var At=100,Bt,kt,Ht;yt=yt===void 0?0:+yt,st=+st;do kt=$e(yt),Ht=$e(yt+h),kt===Ht&&(Ht=kt+h),yt-=Bt=-1*h*(kt-st)/(kt-Ht);while(At-- >0&&L(Bt)>h);return At<0?NaN:yt}function Ae($e,st,yt){return st===void 0&&(st=40),yt===void 0&&(yt=M),function(At,Bt,kt,Ht){var xr,br,ur;kt=kt===void 0?0:+kt,Ht=Ht===void 0?0:+Ht;for(var Rr=0;Rr<st;Rr++){var Ur=$e(kt,Ht),Yr=Ur[0]-At,fn=Ur[1]-Bt;if(L(Yr)<yt&&L(fn)<yt)break;var Pn=Yr*Yr+fn*fn;if(Pn>xr){kt-=br/=2,Ht-=ur/=2;continue}xr=Pn;var Nn=(kt>0?-1:1)*yt,Yn=(Ht>0?-1:1)*yt,ia=$e(kt+Nn,Ht),Ka=$e(kt,Ht+Yn),Xa=(ia[0]-Ur[0])/Nn,Qa=(ia[1]-Ur[1])/Nn,ni=(Ka[0]-Ur[0])/Yn,mi=(Ka[1]-Ur[1])/Yn,Vi=mi*Xa-Qa*ni,Eo=(L(Vi)<.5?.5:1)/Vi;if(br=(fn*ni-Yr*mi)*Eo,ur=(Yr*Qa-fn*Xa)*Eo,kt+=br,Ht+=ur,L(br)<yt&&L(ur)<yt)break}return[kt,Ht]}}function Ie(){var $e=ae(1.68,2),st=1.4,yt=12;function At(Bt,kt){if(Bt+kt<-st){var Ht=(Bt-kt+1.6)*(Bt+kt+st)/8;Bt+=Ht,kt-=.8*Ht*l(kt+c/2)}var xr=$e(Bt,kt),br=(1-T(Bt*kt))/yt;return xr[1]<0&&(xr[0]*=1+br),xr[1]>0&&(xr[1]*=1+br/1.5*xr[0]*xr[0]),xr}return At.invert=Ae(At),At}function Te(){return(0,p.c)(Ie()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Le($e,st){var yt=$e*l(st),At=30,Bt;do st-=Bt=(st+l(st)-yt)/(1+T(st));while(L(Bt)>h&&--At>0);return st/2}function xe($e,st,yt){function At(Bt,kt){return[$e*Bt*T(kt=Le(yt,kt)),st*l(kt)]}return At.invert=function(Bt,kt){return kt=_(kt/st),[Bt/($e*T(kt)),_((2*kt+l(2*kt))/yt)]},At}var Re=xe(A/i,A,c);function He(){return(0,p.c)(Re).scale(169.529)}var Ve=2.00276,Fe=1.11072;function We($e,st){var yt=Le(c,st);return[Ve*$e/(1/T(st)+Fe/T(yt)),(st+A*l(yt))/Ve]}We.invert=function($e,st){var yt=Ve*st,At=st<0?-d:d,Bt=25,kt,Ht;do Ht=yt-A*l(At),At-=kt=(l(2*At)+2*At-c*l(Ht))/(2*T(2*At)+2+c*T(Ht)*A*T(At));while(L(kt)>h&&--Bt>0);return Ht=yt-A*l(At),[$e*(1/T(Ht)+Fe/T(At))/Ve,Ht]};function ut(){return(0,p.c)(We).scale(160.857)}function ht($e){var st=0,yt=(0,p.U)($e),At=yt(st);return At.parallel=function(Bt){return arguments.length?yt(st=Bt*w):st*S},At}function rt($e,st){return[$e*T(st),st]}rt.invert=function($e,st){return[$e/T(st),st]};function tt(){return(0,p.c)(rt).scale(152.63)}function vt($e){if(!$e)return rt;var st=1/m($e);function yt(At,Bt){var kt=st+$e-Bt,Ht=kt&&At*T(Bt)/kt;return[kt*l(Ht),st-kt*T(Ht)]}return yt.invert=function(At,Bt){var kt=I(At*At+(Bt=st-Bt)*Bt),Ht=st+$e-kt;return[kt/T(Ht)*C(At,Bt),Ht]},yt}function pt(){return ht(vt).scale(123.082).center([0,26.1441]).parallel(45)}function mt($e){function st(yt,At){var Bt=i-At,kt=Bt&&yt*$e*l(Bt)/Bt;return[Bt*l(kt)/$e,i-Bt*T(kt)]}return st.invert=function(yt,At){var Bt=yt*$e,kt=i-At,Ht=I(Bt*Bt+kt*kt),xr=C(Bt,kt);return[(Ht?Ht/l(Ht):1)*xr/$e,i-Ht]},st}function wt(){var $e=.5,st=(0,p.U)(mt),yt=st($e);return yt.fraction=function(At){return arguments.length?st($e=+At):$e},yt.scale(158.837)}var Lt=xe(1,4/c,c);function at(){return(0,p.c)(Lt).scale(152.63)}var Oe=e(24052),Ze=e(92992);function Je($e,st,yt,At,Bt,kt){var Ht=T(kt),xr;if(L($e)>1||L(kt)>1)xr=b(yt*Bt+st*At*Ht);else{var br=l($e/2),ur=l(kt/2);xr=2*_(I(br*br+st*At*ur*ur))}return L(xr)>h?[xr,C(At*l(kt),st*Bt-yt*At*Ht)]:[0,0]}function Ye($e,st,yt){return b(($e*$e+st*st-yt*yt)/(2*$e*st))}function ke($e){return $e-2*c*g(($e+c)/(2*c))}function be($e,st,yt){for(var At=[[$e[0],$e[1],l($e[1]),T($e[1])],[st[0],st[1],l(st[1]),T(st[1])],[yt[0],yt[1],l(yt[1]),T(yt[1])]],Bt=At[2],kt,Ht=0;Ht<3;++Ht,Bt=kt)kt=At[Ht],Bt.v=Je(kt[1]-Bt[1],Bt[3],Bt[2],kt[3],kt[2],kt[0]-Bt[0]),Bt.point=[0,0];var xr=Ye(At[0].v[0],At[2].v[0],At[1].v[0]),br=Ye(At[0].v[0],At[1].v[0],At[2].v[0]),ur=c-xr;At[2].point[1]=0,At[0].point[0]=-(At[1].point[0]=At[0].v[0]/2);var Rr=[At[2].point[0]=At[0].point[0]+At[2].v[0]*T(xr),2*(At[0].point[1]=At[1].point[1]=At[2].v[0]*l(xr))];function Ur(Yr,fn){var Pn=l(fn),Nn=T(fn),Yn=new Array(3),ia;for(ia=0;ia<3;++ia){var Ka=At[ia];if(Yn[ia]=Je(fn-Ka[1],Ka[3],Ka[2],Nn,Pn,Yr-Ka[0]),!Yn[ia][0])return Ka.point;Yn[ia][1]=ke(Yn[ia][1]-Ka.v[1])}var Xa=Rr.slice();for(ia=0;ia<3;++ia){var Qa=ia==2?0:ia+1,ni=Ye(At[ia].v[0],Yn[ia][0],Yn[Qa][0]);Yn[ia][1]<0&&(ni=-ni),ia?ia==1?(ni=br-ni,Xa[0]-=Yn[ia][0]*T(ni),Xa[1]-=Yn[ia][0]*l(ni)):(ni=ur-ni,Xa[0]+=Yn[ia][0]*T(ni),Xa[1]+=Yn[ia][0]*l(ni)):(Xa[0]+=Yn[ia][0]*T(ni),Xa[1]-=Yn[ia][0]*l(ni))}return Xa[0]/=3,Xa[1]/=3,Xa}return Ur}function me($e){return $e[0]*=w,$e[1]*=w,$e}function _e(){return Ee([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Ee($e,st,yt){var At=(0,Oe.c)({type:"MultiPoint",coordinates:[$e,st,yt]}),Bt=[-At[0],-At[1]],kt=(0,Ze.c)(Bt),Ht=be(me(kt($e)),me(kt(st)),me(kt(yt)));Ht.invert=Ae(Ht);var xr=(0,p.c)(Ht).rotate(Bt),br=xr.center;return delete xr.rotate,xr.center=function(ur){return arguments.length?br(kt(ur)):kt.invert(br())},xr.clipAngle(90)}function Be($e,st){var yt=I(1-l(st));return[2/E*$e*yt,E*(1-yt)]}Be.invert=function($e,st){var yt=(yt=st/E-1)*yt;return[yt>0?$e*I(c/yt)/2:0,_(1-yt)]};function je(){return(0,p.c)(Be).scale(95.6464).center([0,30])}function nt($e){var st=m($e);function yt(At,Bt){return[At,(At?At/l(At):1)*(l(Bt)*T(At)-st*T(Bt))]}return yt.invert=st?function(At,Bt){At&&(Bt*=l(At)/At);var kt=T(At);return[At,2*C(I(kt*kt+st*st-Bt*Bt)-kt,st-Bt)]}:function(At,Bt){return[At,_(At?Bt*m(At)/At:Bt)]},yt}function dt(){return ht(nt).scale(249.828).clipAngle(90)}var xt=I(3);function Kt($e,st){return[xt*$e*(2*T(2*st/3)-1)/E,xt*E*l(st/3)]}Kt.invert=function($e,st){var yt=3*_(st/(xt*E));return[E*$e/(xt*(2*T(2*yt/3)-1)),yt]};function Jt(){return(0,p.c)(Kt).scale(156.19)}function St($e){var st=T($e);function yt(At,Bt){return[At*st,l(Bt)/st]}return yt.invert=function(At,Bt){return[At/st,_(Bt*st)]},yt}function Ft(){return ht(St).parallel(38.58).scale(195.044)}function rr($e){var st=T($e);function yt(At,Bt){return[At*st,(1+st)*m(Bt/2)]}return yt.invert=function(At,Bt){return[At/st,n(Bt/(1+st))*2]},yt}function _r(){return ht(rr).scale(124.75)}function Tt($e,st){var yt=I(8/(3*c));return[yt*$e*(1-L(st)/c),yt*st]}Tt.invert=function($e,st){var yt=I(8/(3*c)),At=st/yt;return[$e/(yt*(1-L(At)/c)),At]};function $t(){return(0,p.c)(Tt).scale(165.664)}function tr($e,st){var yt=I(4-3*l(L(st)));return[2/I(6*c)*$e*yt,u(st)*I(2*c/3)*(2-yt)]}tr.invert=function($e,st){var yt=2-L(st)/I(2*c/3);return[$e*I(6*c)/(2*yt),u(st)*_((4-yt*yt)/3)]};function Tr(){return(0,p.c)(tr).scale(165.664)}function cr($e,st){var yt=I(c*(4+c));return[2/yt*$e*(1+I(1-4*st*st/(c*c))),4/yt*st]}cr.invert=function($e,st){var yt=I(c*(4+c))/2;return[$e*yt/(1+I(1-st*st*(4+c)/(4*c))),st*yt/2]};function bt(){return(0,p.c)(cr).scale(180.739)}function lt($e,st){var yt=(2+i)*l(st);st/=2;for(var At=0,Bt=1/0;At<10&&L(Bt)>h;At++){var kt=T(st);st-=Bt=(st+l(st)*(kt+2)-yt)/(2*kt*(1+kt))}return[2/I(c*(4+c))*$e*(1+T(st)),2*I(c/(4+c))*l(st)]}lt.invert=function($e,st){var yt=st*I((4+c)/c)/2,At=_(yt),Bt=T(At);return[$e/(2/I(c*(4+c))*(1+Bt)),_((At+yt*(Bt+2))/(2+i))]};function Mt(){return(0,p.c)(lt).scale(180.739)}function _t($e,st){return[$e*(1+T(st))/I(2+c),2*st/I(2+c)]}_t.invert=function($e,st){var yt=I(2+c),At=st*yt/2;return[yt*$e/(1+T(At)),At]};function Ot(){return(0,p.c)(_t).scale(173.044)}function It($e,st){for(var yt=(1+i)*l(st),At=0,Bt=1/0;At<10&&L(Bt)>h;At++)st-=Bt=(st+l(st)-yt)/(1+T(st));return yt=I(2+c),[$e*(1+T(st))/yt,2*st/yt]}It.invert=function($e,st){var yt=1+i,At=I(yt/2);return[$e*2*At/(1+T(st*=At)),_((st+l(st))/yt)]};function Wt(){return(0,p.c)(It).scale(173.044)}var Gt=3+2*A;function er($e,st){var yt=l($e/=2),At=T($e),Bt=I(T(st)),kt=T(st/=2),Ht=l(st)/(kt+A*At*Bt),xr=I(2/(1+Ht*Ht)),br=I((A*kt+(At+yt)*Bt)/(A*kt+(At-yt)*Bt));return[Gt*(xr*(br-1/br)-2*r(br)),Gt*(xr*Ht*(br+1/br)-2*n(Ht))]}er.invert=function($e,st){if(!(kt=le.invert($e/1.2,st*1.065)))return null;var yt=kt[0],At=kt[1],Bt=20,kt;$e/=Gt,st/=Gt;do{var Ht=yt/2,xr=At/2,br=l(Ht),ur=T(Ht),Rr=l(xr),Ur=T(xr),Yr=T(At),fn=I(Yr),Pn=Rr/(Ur+A*ur*fn),Nn=Pn*Pn,Yn=I(2/(1+Nn)),ia=A*Ur+(ur+br)*fn,Ka=A*Ur+(ur-br)*fn,Xa=ia/Ka,Qa=I(Xa),ni=Qa-1/Qa,mi=Qa+1/Qa,Vi=Yn*ni-2*r(Qa)-$e,Eo=Yn*Pn*mi-2*n(Pn)-st,he=Rr&&x*fn*br*Nn/Rr,Pe=(A*ur*Ur+fn)/(2*(Ur+A*ur*fn)*(Ur+A*ur*fn)*fn),Ne=-.5*Pn*Yn*Yn*Yn,qe=Ne*he,ot=Ne*Pe,ft=(ft=2*Ur+A*fn*(ur-br))*ft*Qa,Rt=(A*ur*Ur*fn+Yr)/ft,Et=-(A*br*Rr)/(fn*ft),Xt=ni*qe-2*Rt/Qa+Yn*(Rt+Rt/Xa),Zt=ni*ot-2*Et/Qa+Yn*(Et+Et/Xa),ir=Pn*mi*qe-2*he/(1+Nn)+Yn*mi*he+Yn*Pn*(Rt-Rt/Xa),Ir=Pn*mi*ot-2*Pe/(1+Nn)+Yn*mi*Pe+Yn*Pn*(Et-Et/Xa),kr=Zt*ir-Ir*Xt;if(!kr)break;var sn=(Eo*Zt-Vi*Ir)/kr,dn=(Vi*ir-Eo*Xt)/kr;yt-=sn,At=t(-i,s(i,At-dn))}while((L(sn)>h||L(dn)>h)&&--Bt>0);return L(L(At)-i)<h?[0,At]:Bt&&[yt,At]};function dr(){return(0,p.c)(er).scale(62.5271)}var pr=T(35*w);function mr($e,st){var yt=m(st/2);return[$e*pr*I(1-yt*yt),(1+pr)*yt]}mr.invert=function($e,st){var yt=st/(1+pr);return[$e&&$e/(pr*I(1-yt*yt)),2*n(yt)]};function Xe(){return(0,p.c)(mr).scale(137.152)}function Ge($e,st){var yt=st/2,At=T(yt);return[2*$e/E*T(st)*At*At,E*m(yt)]}Ge.invert=function($e,st){var yt=n(st/E),At=T(yt),Bt=2*yt;return[$e*E/2/(T(Bt)*At*At),Bt]};function Ut(){return(0,p.c)(Ge).scale(135.264)}function Nt($e){var st=1-$e,yt=kt(c,0)[0]-kt(-c,0)[0],At=kt(0,i)[1]-kt(0,-i)[1],Bt=I(2*At/yt);function kt(br,ur){var Rr=T(ur),Ur=l(ur);return[Rr/(st+$e*Rr)*br,st*ur+$e*Ur]}function Ht(br,ur){var Rr=kt(br,ur);return[Rr[0]*Bt,Rr[1]/Bt]}function xr(br){return Ht(0,br)[1]}return Ht.invert=function(br,ur){var Rr=Ce(xr,ur),Ur=br/Bt*($e+st/T(Rr));return[Ur,Rr]},Ht}function Qt(){var $e=.5,st=(0,p.U)(Nt),yt=st($e);return yt.alpha=function(At){return arguments.length?st($e=+At):$e},yt.scale(168.725)}var ar=e(4888),hr=e(69604);function or($e){return[$e[0]/2,_(m($e[1]/2*w))*S]}function Vt($e){return[$e[0]*2,2*n(l($e[1]*w))*S]}function yr($e){$e==null&&($e=ar.c);var st=$e(),yt=(0,hr.c)().scale(S).precision(0).clipAngle(null).translate([0,0]);function At(kt){return st(or(kt))}st.invert&&(At.invert=function(kt){return Vt(st.invert(kt))}),At.stream=function(kt){var Ht=st.stream(kt),xr=yt.stream({point:function(br,ur){Ht.point(br/2,_(m(-ur/2*w))*S)},lineStart:function(){Ht.lineStart()},lineEnd:function(){Ht.lineEnd()},polygonStart:function(){Ht.polygonStart()},polygonEnd:function(){Ht.polygonEnd()}});return xr.sphere=Ht.sphere,xr};function Bt(kt){At[kt]=function(){return arguments.length?(st[kt].apply(st,arguments),At):st[kt]()}}return At.rotate=function(kt){return arguments.length?(yt.rotate(kt),At):yt.rotate()},At.center=function(kt){return arguments.length?(st.center(or(kt)),At):Vt(st.center())},Bt("angle"),Bt("clipAngle"),Bt("clipExtent"),Bt("fitExtent"),Bt("fitHeight"),Bt("fitSize"),Bt("fitWidth"),Bt("scale"),Bt("translate"),Bt("precision"),At.scale(249.5)}function wr($e,st){var yt=2*c/st,At=$e*$e;function Bt(kt,Ht){var xr=(0,se.O)(kt,Ht),br=xr[0],ur=xr[1],Rr=br*br+ur*ur;if(Rr>At){var Ur=I(Rr),Yr=C(ur,br),fn=yt*f(Yr/yt),Pn=Yr-fn,Nn=$e*T(Pn),Yn=($e*l(Pn)-Pn*l(Nn))/(i-Nn),ia=Ar(Pn,Yn),Ka=(c-$e)/gr(ia,Nn,c);br=Ur;var Xa=50,Qa;do br-=Qa=($e+gr(ia,Nn,br)*Ka-Ur)/(ia(br)*Ka);while(L(Qa)>h&&--Xa>0);ur=Pn*l(br),br<i&&(ur-=Yn*(br-i));var ni=l(fn),mi=T(fn);xr[0]=br*mi-ur*ni,xr[1]=br*ni+ur*mi}return xr}return Bt.invert=function(kt,Ht){var xr=kt*kt+Ht*Ht;if(xr>At){var br=I(xr),ur=C(Ht,kt),Rr=yt*f(ur/yt),Ur=ur-Rr;kt=br*T(Ur),Ht=br*l(Ur);for(var Yr=kt-i,fn=l(kt),Pn=Ht/fn,Nn=kt<i?1/0:0,Yn=10;;){var ia=$e*l(Pn),Ka=$e*T(Pn),Xa=l(Ka),Qa=i-Ka,ni=(ia-Pn*Xa)/Qa,mi=Ar(Pn,ni);if(L(Nn)<M||!--Yn)break;Pn-=Nn=(Pn*fn-ni*Yr-Ht)/(fn-Yr*2*(Qa*(Ka+Pn*ia*T(Ka)-Xa)-ia*(ia-Pn*Xa))/(Qa*Qa))}br=$e+gr(mi,Ka,kt)*(c-$e)/gr(mi,Ka,c),ur=Rr+Pn,kt=br*T(ur),Ht=br*l(ur)}return se.O.invert(kt,Ht)},Bt}function Ar($e,st){return function(yt){var At=$e*T(yt);return yt<i&&(At-=st),I(1+At*At)}}function gr($e,st,yt){for(var At=50,Bt=(yt-st)/At,kt=$e(st)+$e(yt),Ht=1,xr=st;Ht<At;++Ht)kt+=2*$e(xr+=Bt);return kt*.5*Bt}function jr(){var $e=6,st=30*w,yt=T(st),At=l(st),Bt=(0,p.U)(wr),kt=Bt(st,$e),Ht=kt.stream,xr=.01,br=-T(xr*w),ur=l(xr*w);return kt.radius=function(Rr){return arguments.length?(yt=T(st=Rr*w),At=l(st),Bt(st,$e)):st*S},kt.lobes=function(Rr){return arguments.length?Bt(st,$e=+Rr):$e},kt.stream=function(Rr){var Ur=kt.rotate(),Yr=Ht(Rr),fn=(kt.rotate([0,0]),Ht(Rr));return kt.rotate(Ur),Yr.sphere=function(){fn.polygonStart(),fn.lineStart();for(var Pn=0,Nn=2*c/$e,Yn=0;Pn<$e;++Pn,Yn-=Nn)fn.point(C(ur*T(Yn),br)*S,_(ur*l(Yn))*S),fn.point(C(At*T(Yn-Nn/2),yt)*S,_(At*l(Yn-Nn/2))*S);fn.lineEnd(),fn.polygonEnd()},Yr},kt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Fr($e,st,yt,At,Bt,kt,Ht,xr){arguments.length<8&&(xr=0);function br(ur,Rr){if(!Rr)return[$e*ur/c,0];var Ur=Rr*Rr,Yr=$e+Ur*(st+Ur*(yt+Ur*At)),fn=Rr*(Bt-1+Ur*(kt-xr+Ur*Ht)),Pn=(Yr*Yr+fn*fn)/(2*fn),Nn=ur*_(Yr/Pn)/c;return[Pn*l(Nn),Rr*(1+Ur*xr)+Pn*(1-T(Nn))]}return br.invert=function(ur,Rr){var Ur=c*ur/$e,Yr=Rr,fn,Pn,Nn=50;do{var Yn=Yr*Yr,ia=$e+Yn*(st+Yn*(yt+Yn*At)),Ka=Yr*(Bt-1+Yn*(kt-xr+Yn*Ht)),Xa=ia*ia+Ka*Ka,Qa=2*Ka,ni=Xa/Qa,mi=ni*ni,Vi=_(ia/ni)/c,Eo=Ur*Vi,he=ia*ia,Pe=(2*st+Yn*(4*yt+Yn*6*At))*Yr,Ne=Bt+Yn*(3*kt+Yn*5*Ht),qe=2*(ia*Pe+Ka*(Ne-1)),ot=2*(Ne-1),ft=(qe*Qa-Xa*ot)/(Qa*Qa),Rt=T(Eo),Et=l(Eo),Xt=ni*Rt,Zt=ni*Et,ir=Ur/c*(1/I(1-he/mi))*(Pe*ni-ia*ft)/mi,Ir=Zt-ur,kr=Yr*(1+Yn*xr)+ni-Xt-Rr,sn=ft*Et+Xt*ir,dn=Xt*Vi,Br=1+ft-(ft*Rt-Zt*ir),Wr=Zt*Vi,nn=sn*Wr-Br*dn;if(!nn)break;Ur-=fn=(kr*sn-Ir*Br)/nn,Yr-=Pn=(Ir*Wr-kr*dn)/nn}while((L(fn)>h||L(Pn)>h)&&--Nn>0);return[Ur,Yr]},br}var Nr=Fr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function wn(){return(0,p.c)(Nr).scale(149.995)}var hn=Fr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Un(){return(0,p.c)(hn).scale(153.93)}var Fn=Fr(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Pr(){return(0,p.c)(Fn).scale(130.945)}function Or($e,st){var yt=$e*$e,At=st*st;return[$e*(1-.162388*At)*(.87-952426e-9*yt*yt),st*(1+At/12)]}Or.invert=function($e,st){var yt=$e,At=st,Bt=50,kt;do{var Ht=At*At;At-=kt=(At*(1+Ht/12)-st)/(1+Ht/4)}while(L(kt)>h&&--Bt>0);Bt=50,$e/=1-.162388*Ht;do{var xr=(xr=yt*yt)*xr;yt-=kt=(yt*(.87-952426e-9*xr)-$e)/(.87-.00476213*xr)}while(L(kt)>h&&--Bt>0);return[yt,At]};function Qr(){return(0,p.c)(Or).scale(131.747)}var Zr=Fr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function vn(){return(0,p.c)(Zr).scale(131.087)}function Mn($e){var st=$e(i,0)[0]-$e(-i,0)[0];function yt(At,Bt){var kt=At>0?-.5:.5,Ht=$e(At+kt*c,Bt);return Ht[0]-=kt*st,Ht}return $e.invert&&(yt.invert=function(At,Bt){var kt=At>0?-.5:.5,Ht=$e.invert(At+kt*st,Bt),xr=Ht[0]-kt*c;return xr<-c?xr+=2*c:xr>c&&(xr-=2*c),Ht[0]=xr,Ht}),yt}function Sn($e,st){var yt=u($e),At=u(st),Bt=T(st),kt=T($e)*Bt,Ht=l($e)*Bt,xr=l(At*st);$e=L(C(Ht,xr)),st=_(kt),L($e-i)>h&&($e%=i);var br=Vn($e>c/4?i-$e:$e,st);return $e>c/4&&(xr=br[0],br[0]=-br[1],br[1]=-xr),br[0]*=yt,br[1]*=-At,br}Sn.invert=function($e,st){L($e)>1&&($e=u($e)*2-$e),L(st)>1&&(st=u(st)*2-st);var yt=u($e),At=u(st),Bt=-yt*$e,kt=-At*st,Ht=kt/Bt<1,xr=jn(Ht?kt:Bt,Ht?Bt:kt),br=xr[0],ur=xr[1],Rr=T(ur);return Ht&&(br=-i-br),[yt*(C(l(br)*Rr,-l(ur))+c),At*_(T(br)*Rr)]};function Vn($e,st){if(st===i)return[0,0];var yt=l(st),At=yt*yt,Bt=At*At,kt=1+Bt,Ht=1+3*Bt,xr=1-Bt,br=_(1/I(kt)),ur=xr+At*kt*br,Rr=(1-yt)/ur,Ur=I(Rr),Yr=Rr*kt,fn=I(Yr),Pn=Ur*xr,Nn,Yn;if($e===0)return[0,-(Pn+At*fn)];var ia=T(st),Ka=1/ia,Xa=2*yt*ia,Qa=(-3*At+br*Ht)*Xa,ni=(-ur*ia-(1-yt)*Qa)/(ur*ur),mi=.5*ni/Ur,Vi=xr*mi-2*At*Ur*Xa,Eo=At*kt*ni+Rr*Ht*Xa,he=-Ka*Xa,Pe=-Ka*Eo,Ne=-2*Ka*Vi,qe=4*$e/c,ot;if($e>.222*c||st<c/4&&$e>.175*c){if(Nn=(Pn+At*I(Yr*(1+Bt)-Pn*Pn))/(1+Bt),$e>c/4)return[Nn,Nn];var ft=Nn,Rt=.5*Nn;Nn=.5*(Rt+ft),Yn=50;do{var Et=I(Yr-Nn*Nn),Xt=Nn*(Ne+he*Et)+Pe*_(Nn/fn)-qe;if(!Xt)break;Xt<0?Rt=Nn:ft=Nn,Nn=.5*(Rt+ft)}while(L(ft-Rt)>h&&--Yn>0)}else{Nn=h,Yn=25;do{var Zt=Nn*Nn,ir=I(Yr-Zt),Ir=Ne+he*ir,kr=Nn*Ir+Pe*_(Nn/fn)-qe,sn=Ir+(Pe-he*Zt)/ir;Nn-=ot=ir?kr/sn:0}while(L(ot)>h&&--Yn>0)}return[Nn,-Pn-At*I(Yr-Nn*Nn)]}function jn($e,st){for(var yt=0,At=1,Bt=.5,kt=50;;){var Ht=Bt*Bt,xr=I(Bt),br=_(1/I(1+Ht)),ur=1-Ht+Bt*(1+Ht)*br,Rr=(1-xr)/ur,Ur=I(Rr),Yr=Rr*(1+Ht),fn=Ur*(1-Ht),Pn=Yr-$e*$e,Nn=I(Pn),Yn=st+fn+Bt*Nn;if(L(At-yt)<M||--kt===0||Yn===0)break;Yn>0?yt=Bt:At=Bt,Bt=.5*(yt+At)}if(!kt)return null;var ia=_(xr),Ka=T(ia),Xa=1/Ka,Qa=2*xr*Ka,ni=(-3*Bt+br*(1+3*Ht))*Qa,mi=(-ur*Ka-(1-xr)*ni)/(ur*ur),Vi=.5*mi/Ur,Eo=(1-Ht)*Vi-2*Bt*Ur*Qa,he=-2*Xa*Eo,Pe=-Xa*Qa,Ne=-Xa*(Bt*(1+Ht)*mi+Rr*(1+3*Ht)*Qa);return[c/4*($e*(he+Pe*Nn)+Ne*_($e/I(Yr))),ia]}function ya(){return(0,p.c)(Mn(Sn)).scale(239.75)}function Pa($e,st,yt){var At,Bt,kt;return $e?(At=Da($e,yt),st?(Bt=Da(st,1-yt),kt=Bt[1]*Bt[1]+yt*At[0]*At[0]*Bt[0]*Bt[0],[[At[0]*Bt[2]/kt,At[1]*At[2]*Bt[0]*Bt[1]/kt],[At[1]*Bt[1]/kt,-At[0]*At[2]*Bt[0]*Bt[2]/kt],[At[2]*Bt[1]*Bt[2]/kt,-yt*At[0]*At[1]*Bt[0]/kt]]):[[At[0],0],[At[1],0],[At[2],0]]):(Bt=Da(st,1-yt),[[0,Bt[0]/Bt[1]],[1/Bt[1],0],[Bt[2]/Bt[1],0]])}function Da($e,st){var yt,At,Bt,kt,Ht;if(st<h)return kt=l($e),At=T($e),yt=st*($e-kt*At)/4,[kt-yt*At,At+yt*kt,1-st*kt*kt/2,$e-yt];if(st>=1-h)return yt=(1-st)/4,At=k($e),kt=D($e),Bt=1/At,Ht=At*N($e),[kt+yt*(Ht-$e)/(At*At),Bt-yt*kt*Bt*(Ht-$e),Bt+yt*kt*Bt*(Ht+$e),2*n(v($e))-i+yt*(Ht-$e)/At];var xr=[1,0,0,0,0,0,0,0,0],br=[I(st),0,0,0,0,0,0,0,0],ur=0;for(At=I(1-st),Ht=1;L(br[ur]/xr[ur])>h&&ur<8;)yt=xr[ur++],br[ur]=(yt-At)/2,xr[ur]=(yt+At)/2,At=I(yt*At),Ht*=2;Bt=Ht*xr[ur]*$e;do kt=br[ur]*l(At=Bt)/xr[ur],Bt=(_(kt)+Bt)/2;while(--ur);return[l(Bt),kt=T(Bt),kt/T(Bt-At),Bt]}function Ma($e,st,yt){var At=L($e),Bt=L(st),kt=N(Bt);if(At){var Ht=1/l(At),xr=1/(m(At)*m(At)),br=-(xr+yt*(kt*kt*Ht*Ht)-1+yt),ur=(yt-1)*xr,Rr=(-br+I(br*br-4*ur))/2;return[ma(n(1/I(Rr)),yt)*u($e),ma(n(I((Rr/xr-1)/yt)),1-yt)*u(st)]}return[0,ma(n(kt),1-yt)*u(st)]}function ma($e,st){if(!st)return $e;if(st===1)return r(m($e/2+d));for(var yt=1,At=I(1-st),Bt=I(st),kt=0;L(Bt)>h;kt++){if($e%c){var Ht=n(At*m($e)/yt);Ht<0&&(Ht+=c),$e+=Ht+~~($e/c)*c}else $e+=$e;Bt=(yt+At)/2,At=I(yt*At),Bt=((yt=Bt)-At)/2}return $e/(a(2,kt)*yt)}function Er($e,st){var yt=(A-1)/(A+1),At=I(1-yt*yt),Bt=ma(i,At*At),kt=-1,Ht=r(m(c/4+L(st)/2)),xr=v(kt*Ht)/I(yt),br=tn(xr*T(kt*$e),xr*l(kt*$e)),ur=Ma(br[0],br[1],At*At);return[-ur[1],(st>=0?1:-1)*(.5*Bt-ur[0])]}function tn($e,st){var yt=$e*$e,At=st+1,Bt=1-yt-st*st;return[.5*(($e>=0?i:-i)-C(Bt,2*$e)),-.25*r(Bt*Bt+4*yt)+.5*r(At*At+yt)]}function $r($e,st){var yt=st[0]*st[0]+st[1]*st[1];return[($e[0]*st[0]+$e[1]*st[1])/yt,($e[1]*st[0]-$e[0]*st[1])/yt]}Er.invert=function($e,st){var yt=(A-1)/(A+1),At=I(1-yt*yt),Bt=ma(i,At*At),kt=-1,Ht=Pa(.5*Bt-st,-$e,At*At),xr=$r(Ht[0],Ht[1]),br=C(xr[1],xr[0])/kt;return[br,2*n(v(.5/kt*r(yt*xr[0]*xr[0]+yt*xr[1]*xr[1])))-i]};function An(){return(0,p.c)(Mn(Er)).scale(151.496)}var qn=e(61780);function kn($e){var st=l($e),yt=T($e),At=On($e);At.invert=On(-$e);function Bt(kt,Ht){var xr=At(kt,Ht);kt=xr[0],Ht=xr[1];var br=l(Ht),ur=T(Ht),Rr=T(kt),Ur=b(st*br+yt*ur*Rr),Yr=l(Ur),fn=L(Yr)>h?Ur/Yr:1;return[fn*yt*l(kt),(L(kt)>i?fn:-fn)*(st*ur-yt*br*Rr)]}return Bt.invert=function(kt,Ht){var xr=I(kt*kt+Ht*Ht),br=-l(xr),ur=T(xr),Rr=xr*ur,Ur=-Ht*br,Yr=xr*st,fn=I(Rr*Rr+Ur*Ur-Yr*Yr),Pn=C(Rr*Yr+Ur*fn,Ur*Yr-Rr*fn),Nn=(xr>i?-1:1)*C(kt*br,xr*T(Pn)*ur+Ht*l(Pn)*br);return At.invert(Nn,Pn)},Bt}function On($e){var st=l($e),yt=T($e);return function(At,Bt){var kt=T(Bt),Ht=T(At)*kt,xr=l(At)*kt,br=l(Bt);return[C(xr,Ht*yt-br*st),_(br*yt+Ht*st)]}}function $n(){var $e=0,st=(0,p.U)(kn),yt=st($e),At=yt.rotate,Bt=yt.stream,kt=(0,qn.c)();return yt.parallel=function(Ht){if(!arguments.length)return $e*S;var xr=yt.rotate();return st($e=Ht*w).rotate(xr)},yt.rotate=function(Ht){return arguments.length?(At.call(yt,[Ht[0],Ht[1]-$e*S]),kt.center([-Ht[0],-Ht[1]]),yt):(Ht=At.call(yt),Ht[1]+=$e*S,Ht)},yt.stream=function(Ht){return Ht=Bt(Ht),Ht.sphere=function(){Ht.polygonStart();var xr=.01,br=kt.radius(90-xr)().coordinates[0],ur=br.length-1,Rr=-1,Ur;for(Ht.lineStart();++Rr<ur;)Ht.point((Ur=br[Rr])[0],Ur[1]);for(Ht.lineEnd(),br=kt.radius(90+xr)().coordinates[0],ur=br.length-1,Ht.lineStart();--Rr>=0;)Ht.point((Ur=br[Rr])[0],Ur[1]);Ht.lineEnd(),Ht.polygonEnd()},Ht},yt.scale(79.4187).parallel(45).clipAngle(179.999)}var ca=e(84706),Ia=e(16016),ei=3,Sr=_(1-1/ei)*S,Hr=St(0);function Lr($e){var st=Sr*w,yt=Be(c,st)[0]-Be(-c,st)[0],At=Hr(0,st)[1],Bt=Be(0,st)[1],kt=E-Bt,Ht=y/$e,xr=4/y,br=At+kt*kt*4/y;function ur(Rr,Ur){var Yr,fn=L(Ur);if(fn>st){var Pn=s($e-1,t(0,g((Rr+c)/Ht)));Rr+=c*($e-1)/$e-Pn*Ht,Yr=Be(Rr,fn),Yr[0]=Yr[0]*y/yt-y*($e-1)/(2*$e)+Pn*y/$e,Yr[1]=At+(Yr[1]-Bt)*4*kt/y,Ur<0&&(Yr[1]=-Yr[1])}else Yr=Hr(Rr,Ur);return Yr[0]*=xr,Yr[1]/=br,Yr}return ur.invert=function(Rr,Ur){Rr/=xr,Ur*=br;var Yr=L(Ur);if(Yr>At){var fn=s($e-1,t(0,g((Rr+c)/Ht)));Rr=(Rr+c*($e-1)/$e-fn*Ht)*yt/y;var Pn=Be.invert(Rr,.25*(Yr-At)*y/kt+Bt);return Pn[0]-=c*($e-1)/$e-fn*Ht,Ur<0&&(Pn[1]=-Pn[1]),Pn}return Hr.invert(Rr,Ur)},ur}function Gr($e,st){return[$e,st&1?90-h:Sr]}function Ln($e,st){return[$e,st&1?-90+h:-Sr]}function zn($e){return[$e[0]*(1-h),$e[1]]}function bn($e){var st=[].concat((0,ca.ik)(-180,180+$e/2,$e).map(Gr),(0,ca.ik)(180,-180-$e/2,-$e).map(Ln));return{type:"Polygon",coordinates:[$e===180?st.map(zn):st]}}function pn(){var $e=4,st=(0,p.U)(Lr),yt=st($e),At=yt.stream;return yt.lobes=function(Bt){return arguments.length?st($e=+Bt):$e},yt.stream=function(Bt){var kt=yt.rotate(),Ht=At(Bt),xr=(yt.rotate([0,0]),At(Bt));return yt.rotate(kt),Ht.sphere=function(){(0,Ia.c)(bn(180/$e),xr)},Ht},yt.scale(239.75)}function Dr($e){var st=1+$e,yt=l(1/st),At=_(yt),Bt=2*I(c/(kt=c+4*At*st)),kt,Ht=.5*Bt*(st+I($e*(2+$e))),xr=$e*$e,br=st*st;function ur(Rr,Ur){var Yr=1-l(Ur),fn,Pn;if(Yr&&Yr<2){var Nn=i-Ur,Yn=25,ia;do{var Ka=l(Nn),Xa=T(Nn),Qa=At+C(Ka,st-Xa),ni=1+br-2*st*Xa;Nn-=ia=(Nn-xr*At-st*Ka+ni*Qa-.5*Yr*kt)/(2*st*Ka*Qa)}while(L(ia)>M&&--Yn>0);fn=Bt*I(ni),Pn=Rr*Qa/c}else fn=Bt*($e+Yr),Pn=Rr*At/c;return[fn*l(Pn),Ht-fn*T(Pn)]}return ur.invert=function(Rr,Ur){var Yr=Rr*Rr+(Ur-=Ht)*Ur,fn=(1+br-Yr/(Bt*Bt))/(2*st),Pn=b(fn),Nn=l(Pn),Yn=At+C(Nn,st-fn);return[_(Rr/I(Yr))*c/Yn,_(1-2*(Pn-xr*At-st*Nn+(1+br-2*st*fn)*Yn)/kt)]},ur}function rn(){var $e=1,st=(0,p.U)(Dr),yt=st($e);return yt.ratio=function(At){return arguments.length?st($e=+At):$e},yt.scale(167.774).center([0,18.67])}var Kr=.7109889596207567,on=.0528035274542;function _n($e,st){return st>-Kr?($e=Re($e,st),$e[1]+=on,$e):rt($e,st)}_n.invert=function($e,st){return st>-Kr?Re.invert($e,st-on):rt.invert($e,st)};function Wn(){return(0,p.c)(_n).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function In($e,st){return L(st)>Kr?($e=Re($e,st),$e[1]-=st>0?on:-on,$e):rt($e,st)}In.invert=function($e,st){return L(st)>Kr?Re.invert($e,st+(st>0?on:-on)):rt.invert($e,st)};function Qn(){return(0,p.c)(In).scale(152.63)}function Kn($e,st,yt,At){var Bt=I(4*c/(2*yt+(1+$e-st/2)*l(2*yt)+($e+st)/2*l(4*yt)+st/2*l(6*yt))),kt=I(At*l(yt)*I((1+$e*T(2*yt)+st*T(4*yt))/(1+$e+st))),Ht=yt*br(1);function xr(Ur){return I(1+$e*T(2*Ur)+st*T(4*Ur))}function br(Ur){var Yr=Ur*yt;return(2*Yr+(1+$e-st/2)*l(2*Yr)+($e+st)/2*l(4*Yr)+st/2*l(6*Yr))/yt}function ur(Ur){return xr(Ur)*l(Ur)}var Rr=function(Ur,Yr){var fn=yt*Ce(br,Ht*l(Yr)/yt,Yr/c);isNaN(fn)&&(fn=yt*u(Yr));var Pn=Bt*xr(fn);return[Pn*kt*Ur/c*T(fn),Pn/kt*l(fn)]};return Rr.invert=function(Ur,Yr){var fn=Ce(ur,Yr*kt/Bt);return[Ur*c/(T(fn)*Bt*kt*xr(fn)),_(yt*br(fn/yt)/Ht)]},yt===0&&(Bt=I(At/c),Rr=function(Ur,Yr){return[Ur*Bt,l(Yr)/Bt]},Rr.invert=function(Ur,Yr){return[Ur/Bt,_(Yr*Bt)]}),Rr}function Aa(){var $e=1,st=0,yt=45*w,At=2,Bt=(0,p.U)(Kn),kt=Bt($e,st,yt,At);return kt.a=function(Ht){return arguments.length?Bt($e=+Ht,st,yt,At):$e},kt.b=function(Ht){return arguments.length?Bt($e,st=+Ht,yt,At):st},kt.psiMax=function(Ht){return arguments.length?Bt($e,st,yt=+Ht*w,At):yt*S},kt.ratio=function(Ht){return arguments.length?Bt($e,st,yt,At=+Ht):At},kt.scale(180.739)}function xa($e,st,yt,At,Bt,kt,Ht,xr,br,ur,Rr){if(Rr.nanEncountered)return NaN;var Ur,Yr,fn,Pn,Nn,Yn,ia,Ka,Xa,Qa;if(Ur=yt-st,Yr=$e(st+Ur*.25),fn=$e(yt-Ur*.25),isNaN(Yr)){Rr.nanEncountered=!0;return}if(isNaN(fn)){Rr.nanEncountered=!0;return}return Pn=Ur*(At+4*Yr+Bt)/12,Nn=Ur*(Bt+4*fn+kt)/12,Yn=Pn+Nn,Qa=(Yn-Ht)/15,ur>br?(Rr.maxDepthCount++,Yn+Qa):Math.abs(Qa)<xr?Yn+Qa:(ia=st+Ur*.5,Ka=xa($e,st,ia,At,Yr,Bt,Pn,xr*.5,br,ur+1,Rr),isNaN(Ka)?(Rr.nanEncountered=!0,NaN):(Xa=xa($e,ia,yt,Bt,fn,kt,Nn,xr*.5,br,ur+1,Rr),isNaN(Xa)?(Rr.nanEncountered=!0,NaN):Ka+Xa))}function La($e,st,yt,At,Bt){var kt={maxDepthCount:0,nanEncountered:!1};At===void 0&&(At=1e-8),Bt===void 0&&(Bt=20);var Ht=$e(st),xr=$e(.5*(st+yt)),br=$e(yt),ur=(Ht+4*xr+br)*(yt-st)/6,Rr=xa($e,st,yt,Ht,xr,br,ur,At,Bt,1,kt);return Rr}function Ra($e,st,yt){function At(fn){return $e+(1-$e)*a(1-a(fn,st),1/st)}function Bt(fn){return La(At,0,fn,1e-4)}for(var kt=1/Bt(1),Ht=1e3,xr=(1+1e-8)*kt,br=[],ur=0;ur<=Ht;ur++)br.push(Bt(ur/Ht)*xr);function Rr(fn){var Pn=0,Nn=Ht,Yn=Ht>>1;do br[Yn]>fn?Nn=Yn:Pn=Yn,Yn=Pn+Nn>>1;while(Yn>Pn);var ia=br[Yn+1]-br[Yn];return ia&&(ia=(fn-br[Yn+1])/ia),(Yn+1+ia)/Ht}var Ur=2*Rr(1)/c*kt/yt,Yr=function(fn,Pn){var Nn=Rr(L(l(Pn))),Yn=At(Nn)*fn;return Nn/=Ur,[Yn,Pn>=0?Nn:-Nn]};return Yr.invert=function(fn,Pn){var Nn;return Pn*=Ur,L(Pn)<1&&(Nn=u(Pn)*_(Bt(L(Pn))*kt)),[fn/At(L(Pn)),Nn]},Yr}function Pi(){var $e=0,st=2.5,yt=1.183136,At=(0,p.U)(Ra),Bt=At($e,st,yt);return Bt.alpha=function(kt){return arguments.length?At($e=+kt,st,yt):$e},Bt.k=function(kt){return arguments.length?At($e,st=+kt,yt):st},Bt.gamma=function(kt){return arguments.length?At($e,st,yt=+kt):yt},Bt.scale(152.63)}function Li($e,st){return L($e[0]-st[0])<h&&L($e[1]-st[1])<h}function Ps($e,st){for(var yt=-1,At=$e.length,Bt=$e[0],kt,Ht,xr,br=[];++yt<At;){kt=$e[yt],Ht=(kt[0]-Bt[0])/st,xr=(kt[1]-Bt[1])/st;for(var ur=0;ur<st;++ur)br.push([Bt[0]+ur*Ht,Bt[1]+ur*xr]);Bt=kt}return br.push(kt),br}function is($e){var st=[],yt,At,Bt,kt,Ht,xr,br,ur=$e[0].length;for(br=0;br<ur;++br)yt=$e[0][br],At=yt[0][0],Bt=yt[0][1],kt=yt[1][1],Ht=yt[2][0],xr=yt[2][1],st.push(Ps([[At+h,Bt+h],[At+h,kt-h],[Ht-h,kt-h],[Ht-h,xr+h]],30));for(br=$e[1].length-1;br>=0;--br)yt=$e[1][br],At=yt[0][0],Bt=yt[0][1],kt=yt[1][1],Ht=yt[2][0],xr=yt[2][1],st.push(Ps([[Ht-h,xr-h],[Ht-h,kt+h],[At+h,kt+h],[At+h,Bt-h]],30));return{type:"Polygon",coordinates:[(0,ca.Uf)(st)]}}function Jo($e,st,yt){var At,Bt;function kt(br,ur){for(var Rr=ur<0?-1:1,Ur=st[+(ur<0)],Yr=0,fn=Ur.length-1;Yr<fn&&br>Ur[Yr][2][0];++Yr);var Pn=$e(br-Ur[Yr][1][0],ur);return Pn[0]+=$e(Ur[Yr][1][0],Rr*ur>Rr*Ur[Yr][0][1]?Ur[Yr][0][1]:ur)[0],Pn}yt?kt.invert=yt(kt):$e.invert&&(kt.invert=function(br,ur){for(var Rr=Bt[+(ur<0)],Ur=st[+(ur<0)],Yr=0,fn=Rr.length;Yr<fn;++Yr){var Pn=Rr[Yr];if(Pn[0][0]<=br&&br<Pn[1][0]&&Pn[0][1]<=ur&&ur<Pn[1][1]){var Nn=$e.invert(br-$e(Ur[Yr][1][0],0)[0],ur);return Nn[0]+=Ur[Yr][1][0],Li(kt(Nn[0],Nn[1]),[br,ur])?Nn:null}}});var Ht=(0,p.c)(kt),xr=Ht.stream;return Ht.stream=function(br){var ur=Ht.rotate(),Rr=xr(br),Ur=(Ht.rotate([0,0]),xr(br));return Ht.rotate(ur),Rr.sphere=function(){(0,Ia.c)(At,Ur)},Rr},Ht.lobes=function(br){return arguments.length?(At=is(br),st=br.map(function(ur){return ur.map(function(Rr){return[[Rr[0][0]*w,Rr[0][1]*w],[Rr[1][0]*w,Rr[1][1]*w],[Rr[2][0]*w,Rr[2][1]*w]]})}),Bt=st.map(function(ur){return ur.map(function(Rr){var Ur=$e(Rr[0][0],Rr[0][1])[0],Yr=$e(Rr[2][0],Rr[2][1])[0],fn=$e(Rr[1][0],Rr[0][1])[1],Pn=$e(Rr[1][0],Rr[1][1])[1],Nn;return fn>Pn&&(Nn=fn,fn=Pn,Pn=Nn),[[Ur,fn],[Yr,Pn]]})}),Ht):st.map(function(ur){return ur.map(function(Rr){return[[Rr[0][0]*S,Rr[0][1]*S],[Rr[1][0]*S,Rr[1][1]*S],[Rr[2][0]*S,Rr[2][1]*S]]})})},st!=null&&Ht.lobes(st),Ht}var ku=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Sc(){return Jo(We,ku).scale(160.857)}var Ec=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ti(){return Jo(In,Ec).scale(152.63)}var ll=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Cc(){return Jo(Re,ll).scale(169.529)}var Oo=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function os(){return Jo(Re,Oo).scale(169.529).rotate([20,0])}var Hl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Ou(){return Jo(_n,Hl,Ae).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var mo=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function zu(){return Jo(rt,mo).scale(152.63).rotate([-20,0])}function xo($e,st){return[3/y*$e*I(c*c/3-st*st),st]}xo.invert=function($e,st){return[y/3*$e/I(c*c/3-st*st),st]};function Lo(){return(0,p.c)(xo).scale(158.837)}function Fu($e){function st(yt,At){if(L(L(At)-i)<h)return[0,At<0?-2:2];var Bt=l(At),kt=a((1+Bt)/(1-Bt),$e/2),Ht=.5*(kt+1/kt)+T(yt*=$e);return[2*l(yt)/Ht,(kt-1/kt)/Ht]}return st.invert=function(yt,At){var Bt=L(At);if(L(Bt-2)<h)return yt?null:[0,u(At)*i];if(Bt>2)return null;yt/=2,At/=2;var kt=yt*yt,Ht=At*At,xr=2*At/(1+kt+Ht);return xr=a((1+xr)/(1-xr),1/$e),[C(2*yt,1-kt-Ht)/$e,_((xr-1)/(xr+1))]},st}function Uo(){var $e=.5,st=(0,p.U)(Fu),yt=st($e);return yt.spacing=function(At){return arguments.length?st($e=+At):$e},yt.scale(124.75)}var $i=c/A;function fs($e,st){return[$e*(1+I(T(st)))/2,st/(T(st/2)*T($e/6))]}fs.invert=function($e,st){var yt=L($e),At=L(st),Bt=h,kt=i;At<$i?kt*=At/$i:Bt+=6*b($i/At);for(var Ht=0;Ht<25;Ht++){var xr=l(kt),br=I(T(kt)),ur=l(kt/2),Rr=T(kt/2),Ur=l(Bt/6),Yr=T(Bt/6),fn=.5*Bt*(1+br)-yt,Pn=kt/(Rr*Yr)-At,Nn=br?-.25*Bt*xr/br:0,Yn=.5*(1+br),ia=(1+.5*kt*ur/Rr)/(Rr*Yr),Ka=kt/Rr*(Ur/6)/(Yr*Yr),Xa=Nn*Ka-ia*Yn,Qa=(fn*Ka-Pn*Yn)/Xa,ni=(Pn*Nn-fn*ia)/Xa;if(kt-=Qa,Bt-=ni,L(Qa)<h&&L(ni)<h)break}return[$e<0?-Bt:Bt,st<0?-kt:kt]};function Nu(){return(0,p.c)(fs).scale(97.2672)}function cs($e,st){var yt=$e*$e,At=st*st;return[$e*(.975534+At*(-.119161+yt*-.0143059+At*-.0547009)),st*(1.00384+yt*(.0802894+At*-.02855+yt*199025e-9)+At*(.0998909+At*-.0491032))]}cs.invert=function($e,st){var yt=u($e)*c,At=st/2,Bt=50;do{var kt=yt*yt,Ht=At*At,xr=yt*At,br=yt*(.975534+Ht*(-.119161+kt*-.0143059+Ht*-.0547009))-$e,ur=At*(1.00384+kt*(.0802894+Ht*-.02855+kt*199025e-9)+Ht*(.0998909+Ht*-.0491032))-st,Rr=.975534-Ht*(.119161+3*kt*.0143059+Ht*.0547009),Ur=-xr*(2*.119161+4*.0547009*Ht+2*.0143059*kt),Yr=xr*(2*.0802894+4*199025e-9*kt+2*-.02855*Ht),fn=1.00384+kt*(.0802894+199025e-9*kt)+Ht*(3*(.0998909-.02855*kt)-5*.0491032*Ht),Pn=Ur*Yr-fn*Rr,Nn=(ur*Ur-br*fn)/Pn,Yn=(br*Yr-ur*Rr)/Pn;yt-=Nn,At-=Yn}while((L(Nn)>h||L(Yn)>h)&&--Bt>0);return Bt&&[yt,At]};function th(){return(0,p.c)(cs).scale(139.98)}function ul($e,st){return[l($e)/T(st),m(st)*T($e)]}ul.invert=function($e,st){var yt=$e*$e,At=st*st,Bt=At+1,kt=yt+Bt,Ht=$e?x*I((kt-I(kt*kt-4*yt))/yt):1/I(Bt);return[_($e*Ht),u(st)*b(Ht)]};function Vo(){return(0,p.c)(ul).scale(144.049).clipAngle(89.999)}function Lc($e){var st=T($e),yt=m(d+$e/2);function At(Bt,kt){var Ht=kt-$e,xr=L(Ht)<h?Bt*st:L(xr=d+kt/2)<h||L(L(xr)-i)<h?0:Bt*Ht/r(m(xr)/yt);return[xr,Ht]}return At.invert=function(Bt,kt){var Ht,xr=kt+$e;return[L(kt)<h?Bt/st:L(Ht=d+xr/2)<h||L(L(Ht)-i)<h?0:Bt*r(m(Ht)/yt)/kt,xr]},At}function Gl(){return ht(Lc).parallel(40).scale(158.837)}function fl($e,st){return[$e,1.25*r(m(d+.4*st))]}fl.invert=function($e,st){return[$e,2.5*n(v(.8*st))-.625*c]};function Wl(){return(0,p.c)(fl).scale(108.318)}function rh($e){var st=$e.length-1;function yt(At,Bt){for(var kt=T(Bt),Ht=2/(1+kt*T(At)),xr=Ht*kt*l(At),br=Ht*l(Bt),ur=st,Rr=$e[ur],Ur=Rr[0],Yr=Rr[1],fn;--ur>=0;)Rr=$e[ur],Ur=Rr[0]+xr*(fn=Ur)-br*Yr,Yr=Rr[1]+xr*Yr+br*fn;return Ur=xr*(fn=Ur)-br*Yr,Yr=xr*Yr+br*fn,[Ur,Yr]}return yt.invert=function(At,Bt){var kt=20,Ht=At,xr=Bt;do{for(var br=st,ur=$e[br],Rr=ur[0],Ur=ur[1],Yr=0,fn=0,Pn;--br>=0;)ur=$e[br],Yr=Rr+Ht*(Pn=Yr)-xr*fn,fn=Ur+Ht*fn+xr*Pn,Rr=ur[0]+Ht*(Pn=Rr)-xr*Ur,Ur=ur[1]+Ht*Ur+xr*Pn;Yr=Rr+Ht*(Pn=Yr)-xr*fn,fn=Ur+Ht*fn+xr*Pn,Rr=Ht*(Pn=Rr)-xr*Ur-At,Ur=Ht*Ur+xr*Pn-Bt;var Nn=Yr*Yr+fn*fn,Yn,ia;Ht-=Yn=(Rr*Yr+Ur*fn)/Nn,xr-=ia=(Ur*Yr-Rr*fn)/Nn}while(L(Yn)+L(ia)>h*h&&--kt>0);if(kt){var Ka=I(Ht*Ht+xr*xr),Xa=2*n(Ka*.5),Qa=l(Xa);return[C(Ht*Qa,Ka*T(Xa)),Ka?_(xr*Qa/Ka):0]}},yt}var _h=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Bu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],nh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Yl=[[.9245,0],[0,0],[.01943,0]],$f=[[.721316,0],[0,0],[-.00881625,-.00617325]];function _c(){return Xl(_h,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Ph(){return Xl(Bu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Rh(){return Xl(nh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function ou(){return Xl(Yl,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Vs(){return Xl($f,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Xl($e,st){var yt=(0,p.c)(rh($e)).rotate(st).clipAngle(90),At=(0,Ze.c)(st),Bt=yt.center;return delete yt.rotate,yt.center=function(kt){return arguments.length?Bt(At(kt)):At.invert(Bt())},yt}var Uu=I(6),mf=I(7);function xf($e,st){var yt=_(7*l(st)/(3*Uu));return[Uu*$e*(2*T(2*yt/3)-1)/mf,9*l(yt/3)/mf]}xf.invert=function($e,st){var yt=3*_(st*mf/9);return[$e*mf/(Uu*(2*T(2*yt/3)-1)),_(l(yt)*3*Uu/7)]};function ah(){return(0,p.c)(xf).scale(164.859)}function Sl($e,st){for(var yt=(1+x)*l(st),At=st,Bt=0,kt;Bt<25&&(At-=kt=(l(At/2)+l(At)-yt)/(.5*T(At/2)+T(At)),!(L(kt)<h));Bt++);return[$e*(1+2*T(At)/T(At/2))/(3*A),2*I(3)*l(At/2)/I(2+A)]}Sl.invert=function($e,st){var yt=st*I(2+A)/(2*I(3)),At=2*_(yt);return[3*A*$e/(1+2*T(At)/T(At/2)),_((yt+l(At))/(1+x))]};function Vu(){return(0,p.c)(Sl).scale(188.209)}function En($e,st){for(var yt=I(6/(4+c)),At=(1+c/4)*l(st),Bt=st/2,kt=0,Ht;kt<25&&(Bt-=Ht=(Bt/2+l(Bt)-At)/(.5+T(Bt)),!(L(Ht)<h));kt++);return[yt*(.5+T(Bt))*$e/1.5,yt*Bt]}En.invert=function($e,st){var yt=I(6/(4+c)),At=st/yt;return L(L(At)-i)<h&&(At=At<0?-i:i),[1.5*$e/(yt*(.5+T(At))),_((At/2+l(At))/(1+c/4))]};function ra(){return(0,p.c)(En).scale(166.518)}var Jn=e(47984);function Ya($e,st){var yt=st*st,At=yt*yt,Bt=yt*At;return[$e*(.84719-.13063*yt+Bt*Bt*(-.04515+.05494*yt-.02326*At+.00331*Bt)),st*(1.01183+At*At*(-.02625+.01926*yt-.00396*At))]}Ya.invert=function($e,st){var yt=st,At=25,Bt,kt,Ht,xr;do kt=yt*yt,Ht=kt*kt,yt-=Bt=(yt*(1.01183+Ht*Ht*(-.02625+.01926*kt-.00396*Ht))-st)/(1.01183+Ht*Ht*(-.23625+.21186*kt+-.05148*Ht));while(L(Bt)>M&&--At>0);return kt=yt*yt,Ht=kt*kt,xr=kt*Ht,[$e/(.84719-.13063*kt+xr*xr*(-.04515+.05494*kt-.02326*Ht+.00331*xr)),yt]};function si(){return(0,p.c)(Ya).scale(175.295)}function Ri($e,st){return[$e*(1+T(st))/2,2*(st-m(st/2))]}Ri.invert=function($e,st){for(var yt=st/2,At=0,Bt=1/0;At<10&&L(Bt)>h;++At){var kt=T(st/2);st-=Bt=(st-m(st/2)-yt)/(1-.5/(kt*kt))}return[2*$e/(1+T(st)),st]};function lo(){return(0,p.c)(Ri).scale(152.63)}var ji=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function cl(){return Jo(ae(1/0),ji).rotate([20,0]).scale(152.63)}function hl($e,st){var yt=l(st),At=T(st),Bt=u($e);if($e===0||L(st)===i)return[0,st];if(st===0)return[$e,0];if(L($e)===i)return[$e*At,i*yt];var kt=c/(2*$e)-2*$e/c,Ht=2*st/c,xr=(1-Ht*Ht)/(yt-Ht),br=kt*kt,ur=xr*xr,Rr=1+br/ur,Ur=1+ur/br,Yr=(kt*yt/xr-kt/2)/Rr,fn=(ur*yt/br+xr/2)/Ur,Pn=Yr*Yr+At*At/Rr,Nn=fn*fn-(ur*yt*yt/br+xr*yt-1)/Ur;return[i*(Yr+I(Pn)*Bt),i*(fn+I(Nn<0?0:Nn)*u(-st*kt)*Bt)]}hl.invert=function($e,st){$e/=i,st/=i;var yt=$e*$e,At=st*st,Bt=yt+At,kt=c*c;return[$e?(Bt-1+I((1-Bt)*(1-Bt)+4*yt))/(2*$e)*i:0,Ce(function(Ht){return Bt*(c*l(Ht)-2*Ht)*c+4*Ht*Ht*(st-l(Ht))+2*c*Ht-kt*st},0)]};function xs(){return(0,p.c)(hl).scale(127.267)}var El=1.0148,Js=.23185,eo=-.14499,Hu=.02406,Qf=El,Yi=5*Js,Gu=7*eo,su=9*Hu,$o=1.790857183;function qf($e,st){var yt=st*st;return[$e,st*(El+yt*yt*(Js+yt*(eo+Hu*yt)))]}qf.invert=function($e,st){st>$o?st=$o:st<-$o&&(st=-$o);var yt=st,At;do{var Bt=yt*yt;yt-=At=(yt*(El+Bt*Bt*(Js+Bt*(eo+Hu*Bt)))-st)/(Qf+Bt*Bt*(Yi+Bt*(Gu+su*Bt)))}while(L(At)>h);return[$e,yt]};function Wu(){return(0,p.c)(qf).scale(139.319)}function ec($e,st){if(L(st)<h)return[$e,0];var yt=m(st),At=$e*l(st);return[l(At)/yt,st+(1-T(At))/yt]}ec.invert=function($e,st){if(L(st)<h)return[$e,0];var yt=$e*$e+st*st,At=st*.5,Bt=10,kt;do{var Ht=m(At),xr=1/T(At),br=yt-2*st*At+At*At;At-=kt=(Ht*br+2*(At-st))/(2+br*xr*xr+2*(At-st)*Ht)}while(L(kt)>h&&--Bt>0);return Ht=m(At),[(L(st)<L(At+1/Ht)?_($e*Ht):u(st)*u($e)*(b(L($e*Ht))+i))/l(At),At]};function tc(){return(0,p.c)(ec).scale(103.74)}var Cl=e(13696),Yu=e(27284);function rc($e,st){var yt=bf($e[1],$e[0]),At=bf(st[1],st[0]),Bt=wf(yt,At),kt=Zl(yt)/Zl(At);return lu([1,0,$e[0][0],0,1,$e[0][1]],lu([kt,0,0,0,kt,0],lu([T(Bt),l(Bt),0,-l(Bt),T(Bt),0],[1,0,-st[0][0],0,1,-st[0][1]])))}function Xu($e){var st=1/($e[0]*$e[4]-$e[1]*$e[3]);return[st*$e[4],-st*$e[1],st*($e[1]*$e[5]-$e[2]*$e[4]),-st*$e[3],st*$e[0],st*($e[2]*$e[3]-$e[0]*$e[5])]}function lu($e,st){return[$e[0]*st[0]+$e[1]*st[3],$e[0]*st[1]+$e[1]*st[4],$e[0]*st[2]+$e[1]*st[5]+$e[2],$e[3]*st[0]+$e[4]*st[3],$e[3]*st[1]+$e[4]*st[4],$e[3]*st[2]+$e[4]*st[5]+$e[5]]}function bf($e,st){return[$e[0]-st[0],$e[1]-st[1]]}function Zl($e){return I($e[0]*$e[0]+$e[1]*$e[1])}function wf($e,st){return C($e[0]*st[1]-$e[1]*st[0],$e[0]*st[0]+$e[1]*st[1])}function Ui($e,st,yt){At($e,{transform:null});function At(ur,Rr){if(ur.edges=Pc(ur.face),Rr.face){var Ur=ur.shared=ih(ur.face,Rr.face),Yr=rc(Ur.map(Rr.project),Ur.map(ur.project));ur.transform=Rr.transform?lu(Rr.transform,Yr):Yr;for(var fn=Rr.edges,Pn=0,Nn=fn.length;Pn<Nn;++Pn)bs(Ur[0],fn[Pn][1])&&bs(Ur[1],fn[Pn][0])&&(fn[Pn]=ur),bs(Ur[0],fn[Pn][0])&&bs(Ur[1],fn[Pn][1])&&(fn[Pn]=ur);for(fn=ur.edges,Pn=0,Nn=fn.length;Pn<Nn;++Pn)bs(Ur[0],fn[Pn][0])&&bs(Ur[1],fn[Pn][1])&&(fn[Pn]=Rr),bs(Ur[0],fn[Pn][1])&&bs(Ur[1],fn[Pn][0])&&(fn[Pn]=Rr)}else ur.transform=Rr.transform;return ur.children&&ur.children.forEach(function(Yn){At(Yn,ur)}),ur}function Bt(ur,Rr){var Ur=st(ur,Rr),Yr=Ur.project([ur*S,Rr*S]),fn;return(fn=Ur.transform)?[fn[0]*Yr[0]+fn[1]*Yr[1]+fn[2],-(fn[3]*Yr[0]+fn[4]*Yr[1]+fn[5])]:(Yr[1]=-Yr[1],Yr)}uu($e)&&(Bt.invert=function(ur,Rr){var Ur=kt($e,[ur,-Rr]);return Ur&&(Ur[0]*=w,Ur[1]*=w,Ur)});function kt(ur,Rr){var Ur=ur.project.invert,Yr=ur.transform,fn=Rr;if(Yr&&(Yr=Xu(Yr),fn=[Yr[0]*fn[0]+Yr[1]*fn[1]+Yr[2],Yr[3]*fn[0]+Yr[4]*fn[1]+Yr[5]]),Ur&&ur===Ht(Pn=Ur(fn)))return Pn;for(var Pn,Nn=ur.children,Yn=0,ia=Nn&&Nn.length;Yn<ia;++Yn)if(Pn=kt(Nn[Yn],Rr))return Pn}function Ht(ur){return st(ur[0]*w,ur[1]*w)}var xr=(0,p.c)(Bt),br=xr.stream;return xr.stream=function(ur){var Rr=xr.rotate(),Ur=br(ur),Yr=(xr.rotate([0,0]),br(ur));return xr.rotate(Rr),Ur.sphere=function(){Yr.polygonStart(),Yr.lineStart(),jl(Yr,$e),Yr.lineEnd(),Yr.polygonEnd()},Ur},xr.angle(yt==null?-30:yt*S)}function jl($e,st,yt){var At,Bt=st.edges,kt=Bt.length,Ht,xr={type:"MultiPoint",coordinates:st.face},br=st.face.filter(function(Nn){return L(Nn[1])!==90}),ur=(0,Cl.c)({type:"MultiPoint",coordinates:br}),Rr=!1,Ur=-1,Yr=ur[1][0]-ur[0][0],fn=Yr===180||Yr===360?[(ur[0][0]+ur[1][0])/2,(ur[0][1]+ur[1][1])/2]:(0,Oe.c)(xr);if(yt)for(;++Ur<kt&&Bt[Ur]!==yt;);++Ur;for(var Pn=0;Pn<kt;++Pn)Ht=Bt[(Pn+Ur)%kt],Array.isArray(Ht)?(Rr||($e.point((At=(0,Yu.c)(Ht[0],fn)(h))[0],At[1]),Rr=!0),$e.point((At=(0,Yu.c)(Ht[1],fn)(h))[0],At[1])):(Rr=!1,Ht!==yt&&jl($e,Ht,st))}function bs($e,st){return $e&&st&&$e[0]===st[0]&&$e[1]===st[1]}function ih($e,st){for(var yt,At,Bt=$e.length,kt=null,Ht=0;Ht<Bt;++Ht){yt=$e[Ht];for(var xr=st.length;--xr>=0;)if(At=st[xr],yt[0]===At[0]&&yt[1]===At[1]){if(kt)return[kt,yt];kt=yt}}}function Pc($e){for(var st=$e.length,yt=[],At=$e[st-1],Bt=0;Bt<st;++Bt)yt.push([At,At=$e[Bt]]);return yt}function uu($e){return $e.project.invert||$e.children&&$e.children.some(uu)}var $s=e(53285),fu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],go=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function($e){return $e.map(function(st){return fu[st]})});function Tf($e){$e=$e||function(yt){var At=(0,Oe.c)({type:"MultiPoint",coordinates:yt});return(0,$s.c)().scale(1).translate([0,0]).rotate([-At[0],-At[1]])};var st=go.map(function(yt){return{face:yt,project:$e(yt)}});return[-1,0,0,1,0,1,4,5].forEach(function(yt,At){var Bt=st[yt];Bt&&(Bt.children||(Bt.children=[])).push(st[At])}),Ui(st[0],function(yt,At){return st[yt<-c/2?At<0?6:4:yt<0?At<0?2:0:yt<c/2?At<0?3:1:At<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Hs=2/I(3);function Ll($e,st){var yt=Be($e,st);return[yt[0]*Hs,yt[1]]}Ll.invert=function($e,st){return Be.invert($e/Hs,st)};function cu($e){$e=$e||function(yt){var At=(0,Oe.c)({type:"MultiPoint",coordinates:yt});return(0,p.c)(Ll).translate([0,0]).scale(1).rotate(At[1]>0?[-At[0],0]:[180-At[0],180])};var st=go.map(function(yt){return{face:yt,project:$e(yt)}});return[-1,0,0,1,0,1,4,5].forEach(function(yt,At){var Bt=st[yt];Bt&&(Bt.children||(Bt.children=[])).push(st[At])}),Ui(st[0],function(yt,At){return st[yt<-c/2?At<0?6:4:yt<0?At<0?2:0:yt<c/2?At<0?3:1:At<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function io($e){$e=$e||function(Ht){var xr=Ht.length===6?(0,Oe.c)({type:"MultiPoint",coordinates:Ht}):Ht[0];return(0,$s.c)().scale(1).translate([0,0]).rotate([-xr[0],-xr[1]])};var st=go.map(function(Ht){for(var xr=Ht.map(Rs),br=xr.length,ur=xr[br-1],Rr,Ur=[],Yr=0;Yr<br;++Yr)Rr=xr[Yr],Ur.push(Qs([ur[0]*.9486832980505138+Rr[0]*.31622776601683794,ur[1]*.9486832980505138+Rr[1]*.31622776601683794,ur[2]*.9486832980505138+Rr[2]*.31622776601683794]),Qs([Rr[0]*.9486832980505138+ur[0]*.31622776601683794,Rr[1]*.9486832980505138+ur[1]*.31622776601683794,Rr[2]*.9486832980505138+ur[2]*.31622776601683794])),ur=Rr;return Ur}),yt=[],At=[-1,0,0,1,0,1,4,5];st.forEach(function(Ht,xr){for(var br=go[xr],ur=br.length,Rr=yt[xr]=[],Ur=0;Ur<ur;++Ur)st.push([br[Ur],Ht[(Ur*2+2)%(2*ur)],Ht[(Ur*2+1)%(2*ur)]]),At.push(xr),Rr.push(_l(Rs(Ht[(Ur*2+2)%(2*ur)]),Rs(Ht[(Ur*2+1)%(2*ur)])))});var Bt=st.map(function(Ht){return{project:$e(Ht),face:Ht}});At.forEach(function(Ht,xr){var br=Bt[Ht];br&&(br.children||(br.children=[])).push(Bt[xr])});function kt(Ht,xr){var br=T(xr),ur=[br*T(Ht),br*l(Ht),l(xr)],Rr=Ht<-c/2?xr<0?6:4:Ht<0?xr<0?2:0:Ht<c/2?xr<0?3:1:xr<0?7:5,Ur=yt[Rr];return Bt[oo(Ur[0],ur)<0?8+3*Rr:oo(Ur[1],ur)<0?8+3*Rr+1:oo(Ur[2],ur)<0?8+3*Rr+2:Rr]}return Ui(Bt[0],kt).angle(-30).scale(110.625).center([0,45])}function oo($e,st){for(var yt=0,At=$e.length,Bt=0;yt<At;++yt)Bt+=$e[yt]*st[yt];return Bt}function _l($e,st){return[$e[1]*st[2]-$e[2]*st[1],$e[2]*st[0]-$e[0]*st[2],$e[0]*st[1]-$e[1]*st[0]]}function Qs($e){return[C($e[1],$e[0])*S,_(t(-1,s(1,$e[2])))*S]}function Rs($e){var st=$e[0]*w,yt=$e[1]*w,At=T(yt);return[At*T(st),At*l(st),l(yt)]}function Af(){}function Rc($e){if((yt=$e.length)<4)return!1;for(var st=0,yt,At=$e[yt-1][1]*$e[0][0]-$e[yt-1][0]*$e[0][1];++st<yt;)At+=$e[st-1][1]*$e[st][0]-$e[st-1][0]*$e[st][1];return At<=0}function Mf($e,st){for(var yt=st[0],At=st[1],Bt=!1,kt=0,Ht=$e.length,xr=Ht-1;kt<Ht;xr=kt++){var br=$e[kt],ur=br[0],Rr=br[1],Ur=$e[xr],Yr=Ur[0],fn=Ur[1];Rr>At^fn>At&&yt<(Yr-ur)*(At-Rr)/(fn-Rr)+ur&&(Bt=!Bt)}return Bt}function Dc($e,st){var yt=st.stream,At;if(!yt)throw new Error("invalid projection");switch($e&&$e.type){case"Feature":At=hu;break;case"FeatureCollection":At=Zu;break;default:At=Pl;break}return At($e,yt)}function Zu($e,st){return{type:"FeatureCollection",features:$e.features.map(function(yt){return hu(yt,st)})}}function hu($e,st){return{type:"Feature",id:$e.id,properties:$e.properties,geometry:Pl($e.geometry,st)}}function ju($e,st){return{type:"GeometryCollection",geometries:$e.geometries.map(function(yt){return Pl(yt,st)})}}function Pl($e,st){if(!$e)return null;if($e.type==="GeometryCollection")return ju($e,st);var yt;switch($e.type){case"Point":yt=Ku;break;case"MultiPoint":yt=Ku;break;case"LineString":yt=oh;break;case"MultiLineString":yt=oh;break;case"Polygon":yt=Sf;break;case"MultiPolygon":yt=Sf;break;case"Sphere":yt=Sf;break;default:return null}return(0,Ia.c)($e,st(yt)),yt.result()}var bo=[],Ds=[],Ku={point:function($e,st){bo.push([$e,st])},result:function(){var $e=bo.length?bo.length<2?{type:"Point",coordinates:bo[0]}:{type:"MultiPoint",coordinates:bo}:null;return bo=[],$e}},oh={lineStart:Af,point:function($e,st){bo.push([$e,st])},lineEnd:function(){bo.length&&(Ds.push(bo),bo=[])},result:function(){var $e=Ds.length?Ds.length<2?{type:"LineString",coordinates:Ds[0]}:{type:"MultiLineString",coordinates:Ds}:null;return Ds=[],$e}},Sf={polygonStart:Af,lineStart:Af,point:function($e,st){bo.push([$e,st])},lineEnd:function(){var $e=bo.length;if($e){do bo.push(bo[0].slice());while(++$e<4);Ds.push(bo),bo=[]}},polygonEnd:Af,result:function(){if(!Ds.length)return null;var $e=[],st=[];return Ds.forEach(function(yt){Rc(yt)?$e.push([yt]):st.push(yt)}),st.forEach(function(yt){var At=yt[0];$e.some(function(Bt){if(Mf(Bt[0],At))return Bt.push(yt),!0})||$e.push([yt])}),Ds=[],$e.length?$e.length>1?{type:"MultiPolygon",coordinates:$e}:{type:"Polygon",coordinates:$e[0]}:null}};function Rl($e){var st=$e(i,0)[0]-$e(-i,0)[0];function yt(At,Bt){var kt=L(At)<i,Ht=$e(kt?At:At>0?At-c:At+c,Bt),xr=(Ht[0]-Ht[1])*x,br=(Ht[0]+Ht[1])*x;if(kt)return[xr,br];var ur=st*x,Rr=xr>0^br>0?-1:1;return[Rr*xr-u(br)*ur,Rr*br-u(xr)*ur]}return $e.invert&&(yt.invert=function(At,Bt){var kt=(At+Bt)*x,Ht=(Bt-At)*x,xr=L(kt)<.5*st&&L(Ht)<.5*st;if(!xr){var br=st*x,ur=kt>0^Ht>0?-1:1,Rr=-ur*At+(Ht>0?1:-1)*br,Ur=-ur*Bt+(kt>0?1:-1)*br;kt=(-Rr-Ur)*x,Ht=(Rr-Ur)*x}var Yr=$e.invert(kt,Ht);return xr||(Yr[0]+=kt>0?c:-c),Yr}),(0,p.c)(yt).rotate([-90,-90,45]).clipAngle(179.999)}function nc(){return Rl(Sn).scale(176.423)}function Ju(){return Rl(Er).scale(111.48)}function Ic($e,st){if(!(0<=(st=+st)&&st<=20))throw new Error("invalid digits");function yt(ur){var Rr=ur.length,Ur=2,Yr=new Array(Rr);for(Yr[0]=+ur[0].toFixed(st),Yr[1]=+ur[1].toFixed(st);Ur<Rr;)Yr[Ur]=ur[Ur],++Ur;return Yr}function At(ur){return ur.map(yt)}function Bt(ur){for(var Rr=yt(ur[0]),Ur=[Rr],Yr=1;Yr<ur.length;Yr++){var fn=yt(ur[Yr]);(fn.length>2||fn[0]!=Rr[0]||fn[1]!=Rr[1])&&(Ur.push(fn),Rr=fn)}return Ur.length===1&&ur.length>1&&Ur.push(yt(ur[ur.length-1])),Ur}function kt(ur){return ur.map(Bt)}function Ht(ur){if(ur==null)return ur;var Rr;switch(ur.type){case"GeometryCollection":Rr={type:"GeometryCollection",geometries:ur.geometries.map(Ht)};break;case"Point":Rr={type:"Point",coordinates:yt(ur.coordinates)};break;case"MultiPoint":Rr={type:ur.type,coordinates:At(ur.coordinates)};break;case"LineString":Rr={type:ur.type,coordinates:Bt(ur.coordinates)};break;case"MultiLineString":case"Polygon":Rr={type:ur.type,coordinates:kt(ur.coordinates)};break;case"MultiPolygon":Rr={type:"MultiPolygon",coordinates:ur.coordinates.map(kt)};break;default:return ur}return ur.bbox!=null&&(Rr.bbox=ur.bbox),Rr}function xr(ur){var Rr={type:"Feature",properties:ur.properties,geometry:Ht(ur.geometry)};return ur.id!=null&&(Rr.id=ur.id),ur.bbox!=null&&(Rr.bbox=ur.bbox),Rr}if($e!=null)switch($e.type){case"Feature":return xr($e);case"FeatureCollection":{var br={type:"FeatureCollection",features:$e.features.map(xr)};return $e.bbox!=null&&(br.bbox=$e.bbox),br}default:return Ht($e)}return $e}function Cr($e){var st=l($e);function yt(At,Bt){var kt=st?m(At*st/2)/st:At/2;if(!Bt)return[2*kt,-$e];var Ht=2*n(kt*l(Bt)),xr=1/m(Bt);return[l(Ht)*xr,Bt+(1-T(Ht))*xr-$e]}return yt.invert=function(At,Bt){if(L(Bt+=$e)<h)return[st?2*n(st*At/2)/st:At,0];var kt=At*At+Bt*Bt,Ht=0,xr=10,br;do{var ur=m(Ht),Rr=1/T(Ht),Ur=kt-2*Bt*Ht+Ht*Ht;Ht-=br=(ur*Ur+2*(Ht-Bt))/(2+Ur*Rr*Rr+2*(Ht-Bt)*ur)}while(L(br)>h&&--xr>0);var Yr=At*(ur=m(Ht)),fn=m(L(Bt)<L(Ht+1/ur)?_(Yr)*.5:b(Yr)*.5+c/4)/l(Ht);return[st?2*n(st*fn)/st:2*fn,Ht]},yt}function vu(){return ht(Cr).scale(131.215)}var Ho=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ho.forEach(function($e){$e[1]*=1.0144});function So($e,st){var yt=s(18,L(st)*36/c),At=g(yt),Bt=yt-At,kt=(Ur=Ho[At])[0],Ht=Ur[1],xr=(Ur=Ho[++At])[0],br=Ur[1],ur=(Ur=Ho[s(19,++At)])[0],Rr=Ur[1],Ur;return[$e*(xr+Bt*(ur-kt)/2+Bt*Bt*(ur-2*xr+kt)/2),(st>0?i:-i)*(br+Bt*(Rr-Ht)/2+Bt*Bt*(Rr-2*br+Ht)/2)]}So.invert=function($e,st){var yt=st/i,At=yt*90,Bt=s(18,L(At/5)),kt=t(0,g(Bt));do{var Ht=Ho[kt][1],xr=Ho[kt+1][1],br=Ho[s(19,kt+2)][1],ur=br-Ht,Rr=br-2*xr+Ht,Ur=2*(L(yt)-xr)/ur,Yr=Rr/ur,fn=Ur*(1-Yr*Ur*(1-2*Yr*Ur));if(fn>=0||kt===1){At=(st>=0?5:-5)*(fn+Bt);var Pn=50,Nn;do Bt=s(18,L(At)/5),kt=g(Bt),fn=Bt-kt,Ht=Ho[kt][1],xr=Ho[kt+1][1],br=Ho[s(19,kt+2)][1],At-=(Nn=(st>=0?i:-i)*(xr+fn*(br-Ht)/2+fn*fn*(br-2*xr+Ht)/2)-st)*S;while(L(Nn)>M&&--Pn>0);break}}while(--kt>=0);var Yn=Ho[kt][0],ia=Ho[kt+1][0],Ka=Ho[s(19,kt+2)][0];return[$e/(ia+fn*(Ka-Yn)/2+fn*fn*(Ka-2*ia+Yn)/2),At*w]};function pi(){return(0,p.c)(So).scale(152.63)}function $u($e){function st(yt,At){var Bt=T(At),kt=($e-1)/($e-Bt*T(yt));return[kt*Bt*l(yt),kt*l(At)]}return st.invert=function(yt,At){var Bt=yt*yt+At*At,kt=I(Bt),Ht=($e-I(1-Bt*($e+1)/($e-1)))/(($e-1)/kt+kt/($e-1));return[C(yt*Ht,kt*I(1-Ht*Ht)),kt?_(At*Ht/kt):0]},st}function ac($e,st){var yt=$u($e);if(!st)return yt;var At=T(st),Bt=l(st);function kt(Ht,xr){var br=yt(Ht,xr),ur=br[1],Rr=ur*Bt/($e-1)+At;return[br[0]*At/Rr,ur/Rr]}return kt.invert=function(Ht,xr){var br=($e-1)/($e-1-xr*Bt);return yt.invert(br*Ht,br*xr*At)},kt}function du(){var $e=2,st=0,yt=(0,p.U)(ac),At=yt($e,st);return At.distance=function(Bt){return arguments.length?yt($e=+Bt,st):$e},At.tilt=function(Bt){return arguments.length?yt($e,st=Bt*w):st*S},At.scale(432.147).clipAngle(b(1/$e)*S-1e-6)}var Is=1e-4,sh=1e4,Dl=-180,Qu=Dl+Is,Kl=180,Il=Kl-Is,ks=-90,qu=ks+Is,Xi=90,ef=Xi-Is;function ic($e){return $e.length>0}function lh($e){return Math.floor($e*sh)/sh}function ws($e){return $e===ks||$e===Xi?[0,$e]:[Dl,lh($e)]}function Ef($e){var st=$e[0],yt=$e[1],At=!1;return st<=Qu?(st=Dl,At=!0):st>=Il&&(st=Kl,At=!0),yt<=qu?(yt=ks,At=!0):yt>=ef&&(yt=Xi,At=!0),At?[st,yt]:$e}function oc($e){return $e.map(Ef)}function kc($e,st,yt){for(var At=0,Bt=$e.length;At<Bt;++At){var kt=$e[At].slice();yt.push({index:-1,polygon:st,ring:kt});for(var Ht=0,xr=kt.length;Ht<xr;++Ht){var br=kt[Ht],ur=br[0],Rr=br[1];if(ur<=Qu||ur>=Il||Rr<=qu||Rr>=ef){kt[Ht]=Ef(br);for(var Ur=Ht+1;Ur<xr;++Ur){var Yr=kt[Ur],fn=Yr[0],Pn=Yr[1];if(fn>Qu&&fn<Il&&Pn>qu&&Pn<ef)break}if(Ur===Ht+1)continue;if(Ht){var Nn={index:-1,polygon:st,ring:kt.slice(0,Ht+1)};Nn.ring[Nn.ring.length-1]=ws(Rr),yt[yt.length-1]=Nn}else yt.pop();if(Ur>=xr)break;yt.push({index:-1,polygon:st,ring:kt=kt.slice(Ur-1)}),kt[0]=ws(kt[0][1]),Ht=-1,xr=kt.length}}}}function Cf($e){var st,yt=$e.length,At={},Bt={},kt,Ht,xr,br,ur;for(st=0;st<yt;++st){if(kt=$e[st],Ht=kt.ring[0],br=kt.ring[kt.ring.length-1],Ht[0]===br[0]&&Ht[1]===br[1]){kt.polygon.push(kt.ring),$e[st]=null;continue}kt.index=st,At[Ht]=Bt[br]=kt}for(st=0;st<yt;++st)if(kt=$e[st],kt){if(Ht=kt.ring[0],br=kt.ring[kt.ring.length-1],xr=Bt[Ht],ur=At[br],delete At[Ht],delete Bt[br],Ht[0]===br[0]&&Ht[1]===br[1]){kt.polygon.push(kt.ring);continue}xr?(delete Bt[Ht],delete At[xr.ring[0]],xr.ring.pop(),$e[xr.index]=null,kt={index:-1,polygon:xr.polygon,ring:xr.ring.concat(kt.ring)},xr===ur?kt.polygon.push(kt.ring):(kt.index=yt++,$e.push(At[kt.ring[0]]=Bt[kt.ring[kt.ring.length-1]]=kt))):ur?(delete At[br],delete Bt[ur.ring[ur.ring.length-1]],kt.ring.pop(),kt={index:yt++,polygon:ur.polygon,ring:kt.ring.concat(ur.ring)},$e[ur.index]=null,$e.push(At[kt.ring[0]]=Bt[kt.ring[kt.ring.length-1]]=kt)):(kt.ring.push(kt.ring[0]),kt.polygon.push(kt.ring))}}function Lf($e){var st={type:"Feature",geometry:Ts($e.geometry)};return $e.id!=null&&(st.id=$e.id),$e.bbox!=null&&(st.bbox=$e.bbox),$e.properties!=null&&(st.properties=$e.properties),st}function Ts($e){if($e==null)return $e;var st,yt,At,Bt;switch($e.type){case"GeometryCollection":st={type:"GeometryCollection",geometries:$e.geometries.map(Ts)};break;case"Point":st={type:"Point",coordinates:Ef($e.coordinates)};break;case"MultiPoint":case"LineString":st={type:$e.type,coordinates:oc($e.coordinates)};break;case"MultiLineString":st={type:"MultiLineString",coordinates:$e.coordinates.map(oc)};break;case"Polygon":{var kt=[];kc($e.coordinates,kt,yt=[]),Cf(yt),st={type:"Polygon",coordinates:kt};break}case"MultiPolygon":{yt=[],At=-1,Bt=$e.coordinates.length;for(var Ht=new Array(Bt);++At<Bt;)kc($e.coordinates[At],Ht[At]=[],yt);Cf(yt),st={type:"MultiPolygon",coordinates:Ht.filter(ic)};break}default:return $e}return $e.bbox!=null&&(st.bbox=$e.bbox),st}function _f($e){if($e==null)return $e;switch($e.type){case"Feature":return Lf($e);case"FeatureCollection":{var st={type:"FeatureCollection",features:$e.features.map(Lf)};return $e.bbox!=null&&(st.bbox=$e.bbox),st}default:return Ts($e)}}function Jl($e,st){var yt=m(st/2),At=l(d*yt);return[$e*(.74482-.34588*At*At),1.70711*yt]}Jl.invert=function($e,st){var yt=st/1.70711,At=l(d*yt);return[$e/(.74482-.34588*At*At),2*n(yt)]};function Qi(){return(0,p.c)(Jl).scale(146.153)}function vl($e,st,yt){var At=(0,Yu.c)(st,yt),Bt=At(.5),kt=(0,Ze.c)([-Bt[0],-Bt[1]])(st),Ht=At.distance/2,xr=-_(l(kt[1]*w)/l(Ht)),br=[-Bt[0],-Bt[1],-(kt[0]>0?c-xr:xr)*S],ur=(0,p.c)($e(Ht)).rotate(br),Rr=(0,Ze.c)(br),Ur=ur.center;return delete ur.rotate,ur.center=function(Yr){return arguments.length?Ur(Rr(Yr)):Rr.invert(Ur())},ur.clipAngle(90)}function Oc($e){var st=T($e);function yt(At,Bt){var kt=(0,$s.Y)(At,Bt);return kt[0]*=st,kt}return yt.invert=function(At,Bt){return $s.Y.invert(At/st,Bt)},yt}function pu(){return sc([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function sc($e,st){return vl(Oc,$e,st)}function Pf($e){if(!($e*=2))return se.O;var st=-$e/2,yt=-st,At=$e*$e,Bt=m(yt),kt=.5/l(yt);function Ht(xr,br){var ur=b(T(br)*T(xr-st)),Rr=b(T(br)*T(xr-yt)),Ur=br<0?-1:1;return ur*=ur,Rr*=Rr,[(ur-Rr)/(2*$e),Ur*I(4*At*Rr-(At-ur+Rr)*(At-ur+Rr))/(2*$e)]}return Ht.invert=function(xr,br){var ur=br*br,Rr=T(I(ur+(Yr=xr+st)*Yr)),Ur=T(I(ur+(Yr=xr+yt)*Yr)),Yr,fn;return[C(fn=Rr-Ur,Yr=(Rr+Ur)*Bt),(br<0?-1:1)*b(I(Yr*Yr+fn*fn)*kt)]},Ht}function uh(){return zc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function zc($e,st){return vl(Pf,$e,st)}function ss($e,st){if(L(st)<h)return[$e,0];var yt=L(st/i),At=_(yt);if(L($e)<h||L(L(st)-i)<h)return[0,u(st)*c*m(At/2)];var Bt=T(At),kt=L(c/$e-$e/c)/2,Ht=kt*kt,xr=Bt/(yt+Bt-1),br=xr*(2/yt-1),ur=br*br,Rr=ur+Ht,Ur=xr-ur,Yr=Ht+xr;return[u($e)*c*(kt*Ur+I(Ht*Ur*Ur-Rr*(xr*xr-ur)))/Rr,u(st)*c*(br*Yr-kt*I((Ht+1)*Rr-Yr*Yr))/Rr]}ss.invert=function($e,st){if(L(st)<h)return[$e,0];if(L($e)<h)return[0,i*l(2*n(st/c))];var yt=($e/=c)*$e,At=(st/=c)*st,Bt=yt+At,kt=Bt*Bt,Ht=-L(st)*(1+Bt),xr=Ht-2*At+yt,br=-2*Ht+1+2*At+kt,ur=At/br+(2*xr*xr*xr/(br*br*br)-9*Ht*xr/(br*br))/27,Rr=(Ht-xr*xr/(3*br))/br,Ur=2*I(-Rr/3),Yr=b(3*ur/(Rr*Ur))/3;return[c*(Bt-1+I(1+2*(yt-At)+kt))/(2*$e),u(st)*c*(-Ur*T(Yr+c/3)-xr/(3*br))]};function Rf(){return(0,p.c)(ss).scale(79.4183)}function $l($e,st){if(L(st)<h)return[$e,0];var yt=L(st/i),At=_(yt);if(L($e)<h||L(L(st)-i)<h)return[0,u(st)*c*m(At/2)];var Bt=T(At),kt=L(c/$e-$e/c)/2,Ht=kt*kt,xr=Bt*(I(1+Ht)-kt*Bt)/(1+Ht*yt*yt);return[u($e)*c*xr,u(st)*c*I(1-xr*(2*kt+xr))]}$l.invert=function($e,st){if(!$e)return[0,i*l(2*n(st/c))];var yt=L($e/c),At=(1-yt*yt-(st/=c)*st)/(2*yt),Bt=At*At,kt=I(Bt+1);return[u($e)*c*(kt-At),u(st)*i*l(2*C(I((1-2*At*yt)*(At+kt)-yt),I(kt+At+yt)))]};function tf(){return(0,p.c)($l).scale(79.4183)}function qs($e,st){if(L(st)<h)return[$e,0];var yt=st/i,At=_(yt);if(L($e)<h||L(L(st)-i)<h)return[0,c*m(At/2)];var Bt=(c/$e-$e/c)/2,kt=yt/(1+T(At));return[c*(u($e)*I(Bt*Bt+1-kt*kt)-Bt),c*kt]}qs.invert=function($e,st){if(!st)return[$e,0];var yt=st/c,At=(c*c*(1-yt*yt)-$e*$e)/(2*c*$e);return[$e?c*(u($e)*I(At*At+1)-At):0,i*l(2*n(yt))]};function Dh(){return(0,p.c)(qs).scale(79.4183)}function hs($e,st){if(!st)return[$e,0];var yt=L(st);if(!$e||yt===i)return[0,st];var At=yt/i,Bt=At*At,kt=(8*At-Bt*(Bt+2)-5)/(2*Bt*(At-1)),Ht=kt*kt,xr=At*kt,br=Bt+Ht+2*xr,ur=At+3*kt,Rr=$e/i,Ur=Rr+1/Rr,Yr=u(L($e)-i)*I(Ur*Ur-4),fn=Yr*Yr,Pn=br*(Bt+Ht*fn-1)+(1-Bt)*(Bt*(ur*ur+4*Ht)+12*xr*Ht+4*Ht*Ht),Nn=(Yr*(br+Ht-1)+2*I(Pn))/(4*br+fn);return[u($e)*i*Nn,u(st)*i*I(1+Yr*L(Nn)-Nn*Nn)]}hs.invert=function($e,st){var yt;if(!$e||!st)return[$e,st];st/=c;var At=u($e)*$e/i,Bt=(At*At-1+4*st*st)/L(At),kt=Bt*Bt,Ht=2*st,xr=50;do{var br=Ht*Ht,ur=(8*Ht-br*(br+2)-5)/(2*br*(Ht-1)),Rr=(3*Ht-br*Ht-10)/(2*br*Ht),Ur=ur*ur,Yr=Ht*ur,fn=Ht+ur,Pn=fn*fn,Nn=Ht+3*ur,Yn=Pn*(br+Ur*kt-1)+(1-br)*(br*(Nn*Nn+4*Ur)+Ur*(12*Yr+4*Ur)),ia=-2*fn*(4*Yr*Ur+(1-4*br+3*br*br)*(1+Rr)+Ur*(-6+14*br-kt+(-8+8*br-2*kt)*Rr)+Yr*(-8+12*br+(-10+10*br-kt)*Rr)),Ka=I(Yn),Xa=Bt*(Pn+Ur-1)+2*Ka-At*(4*Pn+kt),Qa=Bt*(2*ur*Rr+2*fn*(1+Rr))+ia/Ka-8*fn*(Bt*(-1+Ur+Pn)+2*Ka)*(1+Rr)/(kt+4*Pn);Ht-=yt=Xa/Qa}while(yt>h&&--xr>0);return[u($e)*(I(Bt*Bt+4)+Bt)*c/4,i*Ht]};function Df(){return(0,p.c)(hs).scale(127.16)}function Gs($e,st,yt,At,Bt){function kt(Ht,xr){var br=yt*l(At*xr),ur=I(1-br*br),Rr=I(2/(1+ur*T(Ht*=Bt)));return[$e*ur*Rr*l(Ht),st*br*Rr]}return kt.invert=function(Ht,xr){var br=Ht/$e,ur=xr/st,Rr=I(br*br+ur*ur),Ur=2*_(Rr/2);return[C(Ht*m(Ur),$e*Rr)/Bt,Rr&&_(xr*l(Ur)/(st*yt*Rr))/At]},kt}function el($e,st,yt,At){var Bt=c/3;$e=t($e,h),st=t(st,h),$e=s($e,i),st=s(st,c-h),yt=t(yt,0),yt=s(yt,100-h),At=t(At,h);var kt=yt/100+1,Ht=At/100,xr=b(kt*T(Bt))/Bt,br=l($e)/l(xr*i),ur=st/c,Rr=I(Ht*l($e/2)/l(st/2)),Ur=Rr/I(ur*br*xr),Yr=1/(Rr*I(ur*br*xr));return Gs(Ur,Yr,br,xr,ur)}function As(){var $e=65*w,st=60*w,yt=20,At=200,Bt=(0,p.U)(el),kt=Bt($e,st,yt,At);return kt.poleline=function(Ht){return arguments.length?Bt($e=+Ht*w,st,yt,At):$e*S},kt.parallels=function(Ht){return arguments.length?Bt($e,st=+Ht*w,yt,At):st*S},kt.inflation=function(Ht){return arguments.length?Bt($e,st,yt=+Ht,At):yt},kt.ratio=function(Ht){return arguments.length?Bt($e,st,yt,At=+Ht):At},kt.scale(163.775)}function Ms(){return As().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var If=4*c+3*I(3),rf=2*I(2*c*I(3)/If),kf=xe(rf*I(3)/c,rf,If/6);function nf(){return(0,p.c)(kf).scale(176.84)}function Ws($e,st){return[$e*I(1-3*st*st/(c*c)),st]}Ws.invert=function($e,st){return[$e/I(1-3*st*st/(c*c)),st]};function lc(){return(0,p.c)(Ws).scale(152.63)}function gu($e,st){var yt=T(st),At=T($e)*yt,Bt=1-At,kt=T($e=C(l($e)*yt,-l(st))),Ht=l($e);return yt=I(1-At*At),[Ht*yt-kt*Bt,-kt*yt-Ht*Bt]}gu.invert=function($e,st){var yt=($e*$e+st*st)/-2,At=I(-yt*(2+yt)),Bt=st*yt+$e*At,kt=$e*yt-st*At,Ht=I(kt*kt+Bt*Bt);return[C(At*Bt,Ht*(1+yt)),Ht?-_(At*kt/Ht):0]};function af(){return(0,p.c)(gu).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Of($e,st){var yt=W($e,st);return[(yt[0]+$e/i)/2,(yt[1]+st)/2]}Of.invert=function($e,st){var yt=$e,At=st,Bt=25;do{var kt=T(At),Ht=l(At),xr=l(2*At),br=Ht*Ht,ur=kt*kt,Rr=l(yt),Ur=T(yt/2),Yr=l(yt/2),fn=Yr*Yr,Pn=1-ur*Ur*Ur,Nn=Pn?b(kt*Ur)*I(Yn=1/Pn):Yn=0,Yn,ia=.5*(2*Nn*kt*Yr+yt/i)-$e,Ka=.5*(Nn*Ht+At)-st,Xa=.5*Yn*(ur*fn+Nn*kt*Ur*br)+.5/i,Qa=Yn*(Rr*xr/4-Nn*Ht*Yr),ni=.125*Yn*(xr*Yr-Nn*Ht*ur*Rr),mi=.5*Yn*(br*Ur+Nn*fn*kt)+.5,Vi=Qa*ni-mi*Xa,Eo=(Ka*Qa-ia*mi)/Vi,he=(ia*ni-Ka*Xa)/Vi;yt-=Eo,At-=he}while((L(Eo)>h||L(he)>h)&&--Bt>0);return[yt,At]};function Fc(){return(0,p.c)(Of).scale(158.837)}},88728:function(H,U,e){e.d(U,{c:function(){return p}});function p(){return new L}function L(){this.reset()}L.prototype={constructor:L,reset:function(){this.s=this.t=0},add:function(T){C(n,T,this.t),C(this,n.s,this.s),this.s?this.t+=n.t:this.s=n.t},valueOf:function(){return this.s}};var n=new L;function C(T,v,g){var r=T.s=v+g,t=r-v,s=r-t;T.t=v-s+(g-t)}},95384:function(H,U,e){e.d(U,{cp:function(){return M},mQ:function(){return T},oB:function(){return f}});var p=e(88728),L=e(64528),n=e(70932),C=e(16016),T=(0,p.c)(),v=(0,p.c)(),g,r,t,s,a,f={point:n.c,lineStart:n.c,lineEnd:n.c,polygonStart:function(){T.reset(),f.lineStart=u,f.lineEnd=l},polygonEnd:function(){var c=+T;v.add(c<0?L.kD+c:c),this.lineStart=this.lineEnd=this.point=n.c},sphere:function(){v.add(L.kD)}};function u(){f.point=m}function l(){h(g,r)}function m(c,i){f.point=h,g=c,r=i,c*=L.qw,i*=L.qw,t=c,s=(0,L.W8)(i=i/2+L.wL),a=(0,L.g$)(i)}function h(c,i){c*=L.qw,i*=L.qw,i=i/2+L.wL;var d=c-t,x=d>=0?1:-1,A=x*d,E=(0,L.W8)(i),y=(0,L.g$)(i),S=a*y,w=s*E+S*(0,L.W8)(A),o=S*x*(0,L.g$)(A);T.add((0,L.WE)(o,w)),t=c,s=E,a=y}function M(c){return v.reset(),(0,C.c)(c,f),v*2}},13696:function(H,U,e){e.d(U,{c:function(){return _}});var p=e(88728),L=e(95384),n=e(84220),C=e(64528),T=e(16016),v,g,r,t,s,a,f,u,l=(0,p.c)(),m,h,M={point:c,lineStart:d,lineEnd:x,polygonStart:function(){M.point=A,M.lineStart=E,M.lineEnd=y,l.reset(),L.oB.polygonStart()},polygonEnd:function(){L.oB.polygonEnd(),M.point=c,M.lineStart=d,M.lineEnd=x,L.mQ<0?(v=-(r=180),g=-(t=90)):l>C.Gg?t=90:l<-C.Gg&&(g=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),g=-(t=90)}};function c(b,I){m.push(h=[v=b,r=b]),I<g&&(g=I),I>t&&(t=I)}function i(b,I){var D=(0,n.ux)([b*C.qw,I*C.qw]);if(u){var N=(0,n.CW)(u,D),k=[N[1],-N[0],0],z=(0,n.CW)(k,N);(0,n.cJ)(z),z=(0,n.G)(z);var F=b-s,O=F>0?1:-1,B=z[0]*C.oh*O,W,ee=(0,C.a2)(F)>180;ee^(O*s<B&&B<O*b)?(W=z[1]*C.oh,W>t&&(t=W)):(B=(B+360)%360-180,ee^(O*s<B&&B<O*b)?(W=-z[1]*C.oh,W<g&&(g=W)):(I<g&&(g=I),I>t&&(t=I))),ee?b<s?S(v,b)>S(v,r)&&(r=b):S(b,r)>S(v,r)&&(v=b):r>=v?(b<v&&(v=b),b>r&&(r=b)):b>s?S(v,b)>S(v,r)&&(r=b):S(b,r)>S(v,r)&&(v=b)}else m.push(h=[v=b,r=b]);I<g&&(g=I),I>t&&(t=I),u=D,s=b}function d(){M.point=i}function x(){h[0]=v,h[1]=r,M.point=c,u=null}function A(b,I){if(u){var D=b-s;l.add((0,C.a2)(D)>180?D+(D>0?360:-360):D)}else a=b,f=I;L.oB.point(b,I),i(b,I)}function E(){L.oB.lineStart()}function y(){A(a,f),L.oB.lineEnd(),(0,C.a2)(l)>C.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,u=null}function S(b,I){return(I-=b)<0?I+360:I}function w(b,I){return b[0]-I[0]}function o(b,I){return b[0]<=b[1]?b[0]<=I&&I<=b[1]:I<b[0]||b[1]<I}function _(b){var I,D,N,k,z,F,O;if(t=r=-(v=g=1/0),m=[],(0,T.c)(b,M),D=m.length){for(m.sort(w),I=1,N=m[0],z=[N];I<D;++I)k=m[I],o(N,k[0])||o(N,k[1])?(S(N[0],k[1])>S(N[0],N[1])&&(N[1]=k[1]),S(k[0],N[1])>S(N[0],N[1])&&(N[0]=k[0])):z.push(N=k);for(F=-1/0,D=z.length-1,I=0,N=z[D];I<=D;N=k,++I)k=z[I],(O=S(N[1],k[0]))>F&&(F=O,v=k[0],r=N[1])}return m=h=null,v===1/0||g===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,g],[r,t]]}},84220:function(H,U,e){e.d(U,{CW:function(){return T},Ez:function(){return C},G:function(){return L},cJ:function(){return r},mg:function(){return v},ux:function(){return n},wx:function(){return g}});var p=e(64528);function L(t){return[(0,p.WE)(t[1],t[0]),(0,p.qR)(t[2])]}function n(t){var s=t[0],a=t[1],f=(0,p.W8)(a);return[f*(0,p.W8)(s),f*(0,p.g$)(s),(0,p.g$)(a)]}function C(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]}function T(t,s){return[t[1]*s[2]-t[2]*s[1],t[2]*s[0]-t[0]*s[2],t[0]*s[1]-t[1]*s[0]]}function v(t,s){t[0]+=s[0],t[1]+=s[1],t[2]+=s[2]}function g(t,s){return[t[0]*s,t[1]*s,t[2]*s]}function r(t){var s=(0,p._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=s,t[1]/=s,t[2]/=s}},24052:function(H,U,e){e.d(U,{c:function(){return D}});var p=e(64528),L=e(70932),n=e(16016),C,T,v,g,r,t,s,a,f,u,l,m,h,M,c,i,d={sphere:L.c,point:x,lineStart:E,lineEnd:w,polygonStart:function(){d.lineStart=o,d.lineEnd=_},polygonEnd:function(){d.lineStart=E,d.lineEnd=w}};function x(N,k){N*=p.qw,k*=p.qw;var z=(0,p.W8)(k);A(z*(0,p.W8)(N),z*(0,p.g$)(N),(0,p.g$)(k))}function A(N,k,z){++C,v+=(N-v)/C,g+=(k-g)/C,r+=(z-r)/C}function E(){d.point=y}function y(N,k){N*=p.qw,k*=p.qw;var z=(0,p.W8)(k);M=z*(0,p.W8)(N),c=z*(0,p.g$)(N),i=(0,p.g$)(k),d.point=S,A(M,c,i)}function S(N,k){N*=p.qw,k*=p.qw;var z=(0,p.W8)(k),F=z*(0,p.W8)(N),O=z*(0,p.g$)(N),B=(0,p.g$)(k),W=(0,p.WE)((0,p._I)((W=c*B-i*O)*W+(W=i*F-M*B)*W+(W=M*O-c*F)*W),M*F+c*O+i*B);T+=W,t+=W*(M+(M=F)),s+=W*(c+(c=O)),a+=W*(i+(i=B)),A(M,c,i)}function w(){d.point=x}function o(){d.point=b}function _(){I(m,h),d.point=x}function b(N,k){m=N,h=k,N*=p.qw,k*=p.qw,d.point=I;var z=(0,p.W8)(k);M=z*(0,p.W8)(N),c=z*(0,p.g$)(N),i=(0,p.g$)(k),A(M,c,i)}function I(N,k){N*=p.qw,k*=p.qw;var z=(0,p.W8)(k),F=z*(0,p.W8)(N),O=z*(0,p.g$)(N),B=(0,p.g$)(k),W=c*B-i*O,ee=i*F-M*B,ne=M*O-c*F,Q=(0,p._I)(W*W+ee*ee+ne*ne),le=(0,p.qR)(Q),Z=Q&&-le/Q;f+=Z*W,u+=Z*ee,l+=Z*ne,T+=le,t+=le*(M+(M=F)),s+=le*(c+(c=O)),a+=le*(i+(i=B)),A(M,c,i)}function D(N){C=T=v=g=r=t=s=a=f=u=l=0,(0,n.c)(N,d);var k=f,z=u,F=l,O=k*k+z*z+F*F;return O<p.a8&&(k=t,z=s,F=a,T<p.Gg&&(k=v,z=g,F=r),O=k*k+z*z+F*F,O<p.a8)?[NaN,NaN]:[(0,p.WE)(z,k)*p.oh,(0,p.qR)(F/(0,p._I)(O))*p.oh]}},61780:function(H,U,e){e.d(U,{Q:function(){return T},c:function(){return g}});var p=e(84220);function L(r){return function(){return r}}var n=e(64528),C=e(92992);function T(r,t,s,a,f,u){if(s){var l=(0,n.W8)(t),m=(0,n.g$)(t),h=a*s;f==null?(f=t+a*n.kD,u=t-h/2):(f=v(l,f),u=v(l,u),(a>0?f<u:f>u)&&(f+=a*n.kD));for(var M,c=f;a>0?c>u:c<u;c-=h)M=(0,p.G)([l,-m*(0,n.W8)(c),-m*(0,n.g$)(c)]),r.point(M[0],M[1])}}function v(r,t){t=(0,p.ux)(t),t[0]-=r,(0,p.cJ)(t);var s=(0,n.mE)(-t[1]);return((-t[2]<0?-s:s)+n.kD-n.Gg)%n.kD}function g(){var r=L([0,0]),t=L(90),s=L(6),a,f,u={point:l};function l(h,M){a.push(h=f(h,M)),h[0]*=n.oh,h[1]*=n.oh}function m(){var h=r.apply(this,arguments),M=t.apply(this,arguments)*n.qw,c=s.apply(this,arguments)*n.qw;return a=[],f=(0,C.O)(-h[0]*n.qw,-h[1]*n.qw,0).invert,T(u,M,c,1),h={type:"Polygon",coordinates:[a]},a=f=null,h}return m.center=function(h){return arguments.length?(r=typeof h=="function"?h:L([+h[0],+h[1]]),m):r},m.radius=function(h){return arguments.length?(t=typeof h=="function"?h:L(+h),m):t},m.precision=function(h){return arguments.length?(s=typeof h=="function"?h:L(+h),m):s},m}},78284:function(H,U,e){var p=e(14229),L=e(64528);U.c=(0,p.c)(function(){return!0},n,T,[-L.pi,-L.or]);function n(v){var g=NaN,r=NaN,t=NaN,s;return{lineStart:function(){v.lineStart(),s=1},point:function(a,f){var u=a>0?L.pi:-L.pi,l=(0,L.a2)(a-g);(0,L.a2)(l-L.pi)<L.Gg?(v.point(g,r=(r+f)/2>0?L.or:-L.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(a,r),s=0):t!==u&&l>=L.pi&&((0,L.a2)(g-t)<L.Gg&&(g-=t*L.Gg),(0,L.a2)(a-u)<L.Gg&&(a-=u*L.Gg),r=C(g,r,a,f),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),s=0),v.point(g=a,r=f),t=u},lineEnd:function(){v.lineEnd(),g=r=NaN},clean:function(){return 2-s}}}function C(v,g,r,t){var s,a,f=(0,L.g$)(v-r);return(0,L.a2)(f)>L.Gg?(0,L.MQ)(((0,L.g$)(g)*(a=(0,L.W8)(t))*(0,L.g$)(r)-(0,L.g$)(t)*(s=(0,L.W8)(g))*(0,L.g$)(v))/(s*a*f)):(g+t)/2}function T(v,g,r,t){var s;if(v==null)s=r*L.or,t.point(-L.pi,s),t.point(0,s),t.point(L.pi,s),t.point(L.pi,0),t.point(L.pi,-s),t.point(0,-s),t.point(-L.pi,-s),t.point(-L.pi,0),t.point(-L.pi,s);else if((0,L.a2)(v[0]-g[0])>L.Gg){var a=v[0]<g[0]?L.pi:-L.pi;s=r*a/2,t.point(-a,s),t.point(0,s),t.point(a,s)}else t.point(g[0],g[1])}},97208:function(H,U,e){e.d(U,{c:function(){return L}});var p=e(70932);function L(){var n=[],C;return{point:function(T,v,g){C.push([T,v,g])},lineStart:function(){n.push(C=[])},lineEnd:p.c,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var T=n;return n=[],C=null,T}}}},2728:function(H,U,e){e.d(U,{c:function(){return v}});var p=e(84220),L=e(61780),n=e(64528),C=e(41860),T=e(14229);function v(g){var r=(0,n.W8)(g),t=6*n.qw,s=r>0,a=(0,n.a2)(r)>n.Gg;function f(M,c,i,d){(0,L.Q)(d,g,t,i,M,c)}function u(M,c){return(0,n.W8)(M)*(0,n.W8)(c)>r}function l(M){var c,i,d,x,A;return{lineStart:function(){x=d=!1,A=1},point:function(E,y){var S=[E,y],w,o=u(E,y),_=s?o?0:h(E,y):o?h(E+(E<0?n.pi:-n.pi),y):0;if(!c&&(x=d=o)&&M.lineStart(),o!==d&&(w=m(c,S),(!w||(0,C.c)(c,w)||(0,C.c)(S,w))&&(S[2]=1)),o!==d)A=0,o?(M.lineStart(),w=m(S,c),M.point(w[0],w[1])):(w=m(c,S),M.point(w[0],w[1],2),M.lineEnd()),c=w;else if(a&&c&&s^o){var b;!(_&i)&&(b=m(S,c,!0))&&(A=0,s?(M.lineStart(),M.point(b[0][0],b[0][1]),M.point(b[1][0],b[1][1]),M.lineEnd()):(M.point(b[1][0],b[1][1]),M.lineEnd(),M.lineStart(),M.point(b[0][0],b[0][1],3)))}o&&(!c||!(0,C.c)(c,S))&&M.point(S[0],S[1]),c=S,d=o,i=_},lineEnd:function(){d&&M.lineEnd(),c=null},clean:function(){return A|(x&&d)<<1}}}function m(M,c,i){var d=(0,p.ux)(M),x=(0,p.ux)(c),A=[1,0,0],E=(0,p.CW)(d,x),y=(0,p.Ez)(E,E),S=E[0],w=y-S*S;if(!w)return!i&&M;var o=r*y/w,_=-r*S/w,b=(0,p.CW)(A,E),I=(0,p.wx)(A,o),D=(0,p.wx)(E,_);(0,p.mg)(I,D);var N=b,k=(0,p.Ez)(I,N),z=(0,p.Ez)(N,N),F=k*k-z*((0,p.Ez)(I,I)-1);if(!(F<0)){var O=(0,n._I)(F),B=(0,p.wx)(N,(-k-O)/z);if((0,p.mg)(B,I),B=(0,p.G)(B),!i)return B;var W=M[0],ee=c[0],ne=M[1],Q=c[1],le;ee<W&&(le=W,W=ee,ee=le);var Z=ee-W,Y=(0,n.a2)(Z-n.pi)<n.Gg,re=Y||Z<n.Gg;if(!Y&&Q<ne&&(le=ne,ne=Q,Q=le),re?Y?ne+Q>0^B[1]<((0,n.a2)(B[0]-W)<n.Gg?ne:Q):ne<=B[1]&&B[1]<=Q:Z>n.pi^(W<=B[0]&&B[0]<=ee)){var X=(0,p.wx)(N,(-k+O)/z);return(0,p.mg)(X,I),[B,(0,p.G)(X)]}}}function h(M,c){var i=s?g:n.pi-g,d=0;return M<-i?d|=1:M>i&&(d|=2),c<-i?d|=4:c>i&&(d|=8),d}return(0,T.c)(u,l,f,s?[0,-g]:[-n.pi,g-n.pi])}},14229:function(H,U,e){e.d(U,{c:function(){return v}});var p=e(97208),L=e(32232),n=e(64528),C=e(58196),T=e(84706);function v(t,s,a,f){return function(u){var l=s(u),m=(0,p.c)(),h=s(m),M=!1,c,i,d,x={point:A,lineStart:y,lineEnd:S,polygonStart:function(){x.point=w,x.lineStart=o,x.lineEnd=_,i=[],c=[]},polygonEnd:function(){x.point=A,x.lineStart=y,x.lineEnd=S,i=(0,T.Uf)(i);var b=(0,C.c)(c,f);i.length?(M||(u.polygonStart(),M=!0),(0,L.c)(i,r,b,a,u)):b&&(M||(u.polygonStart(),M=!0),u.lineStart(),a(null,null,1,u),u.lineEnd()),M&&(u.polygonEnd(),M=!1),i=c=null},sphere:function(){u.polygonStart(),u.lineStart(),a(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function A(b,I){t(b,I)&&u.point(b,I)}function E(b,I){l.point(b,I)}function y(){x.point=E,l.lineStart()}function S(){x.point=A,l.lineEnd()}function w(b,I){d.push([b,I]),h.point(b,I)}function o(){h.lineStart(),d=[]}function _(){w(d[0][0],d[0][1]),h.lineEnd();var b=h.clean(),I=m.result(),D,N=I.length,k,z,F;if(d.pop(),c.push(d),d=null,!!N){if(b&1){if(z=I[0],(k=z.length-1)>0){for(M||(u.polygonStart(),M=!0),u.lineStart(),D=0;D<k;++D)u.point((F=z[D])[0],F[1]);u.lineEnd()}return}N>1&&b&2&&I.push(I.pop().concat(I.shift())),i.push(I.filter(g))}}return x}}function g(t){return t.length>1}function r(t,s){return((t=t.x)[0]<0?t[1]-n.or-n.Gg:n.or-t[1])-((s=s.x)[0]<0?s[1]-n.or-n.Gg:n.or-s[1])}},21676:function(H,U,e){e.d(U,{c:function(){return r}});var p=e(64528),L=e(97208);function n(t,s,a,f,u,l){var m=t[0],h=t[1],M=s[0],c=s[1],i=0,d=1,x=M-m,A=c-h,E;if(E=a-m,!(!x&&E>0)){if(E/=x,x<0){if(E<i)return;E<d&&(d=E)}else if(x>0){if(E>d)return;E>i&&(i=E)}if(E=u-m,!(!x&&E<0)){if(E/=x,x<0){if(E>d)return;E>i&&(i=E)}else if(x>0){if(E<i)return;E<d&&(d=E)}if(E=f-h,!(!A&&E>0)){if(E/=A,A<0){if(E<i)return;E<d&&(d=E)}else if(A>0){if(E>d)return;E>i&&(i=E)}if(E=l-h,!(!A&&E<0)){if(E/=A,A<0){if(E>d)return;E>i&&(i=E)}else if(A>0){if(E<i)return;E<d&&(d=E)}return i>0&&(t[0]=m+i*x,t[1]=h+i*A),d<1&&(s[0]=m+d*x,s[1]=h+d*A),!0}}}}}var C=e(32232),T=e(84706),v=1e9,g=-v;function r(t,s,a,f){function u(c,i){return t<=c&&c<=a&&s<=i&&i<=f}function l(c,i,d,x){var A=0,E=0;if(c==null||(A=m(c,d))!==(E=m(i,d))||M(c,i)<0^d>0)do x.point(A===0||A===3?t:a,A>1?f:s);while((A=(A+d+4)%4)!==E);else x.point(i[0],i[1])}function m(c,i){return(0,p.a2)(c[0]-t)<p.Gg?i>0?0:3:(0,p.a2)(c[0]-a)<p.Gg?i>0?2:1:(0,p.a2)(c[1]-s)<p.Gg?i>0?1:0:i>0?3:2}function h(c,i){return M(c.x,i.x)}function M(c,i){var d=m(c,1),x=m(i,1);return d!==x?d-x:d===0?i[1]-c[1]:d===1?c[0]-i[0]:d===2?c[1]-i[1]:i[0]-c[0]}return function(c){var i=c,d=(0,L.c)(),x,A,E,y,S,w,o,_,b,I,D,N={point:k,lineStart:B,lineEnd:W,polygonStart:F,polygonEnd:O};function k(ne,Q){u(ne,Q)&&i.point(ne,Q)}function z(){for(var ne=0,Q=0,le=A.length;Q<le;++Q)for(var Z=A[Q],Y=1,re=Z.length,X=Z[0],q,se,$=X[0],j=X[1];Y<re;++Y)q=$,se=j,X=Z[Y],$=X[0],j=X[1],se<=f?j>f&&($-q)*(f-se)>(j-se)*(t-q)&&++ne:j<=f&&($-q)*(f-se)<(j-se)*(t-q)&&--ne;return ne}function F(){i=d,x=[],A=[],D=!0}function O(){var ne=z(),Q=D&&ne,le=(x=(0,T.Uf)(x)).length;(Q||le)&&(c.polygonStart(),Q&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),le&&(0,C.c)(x,h,ne,l,c),c.polygonEnd()),i=c,x=A=E=null}function B(){N.point=ee,A&&A.push(E=[]),I=!0,b=!1,o=_=NaN}function W(){x&&(ee(y,S),w&&b&&d.rejoin(),x.push(d.result())),N.point=k,b&&i.lineEnd()}function ee(ne,Q){var le=u(ne,Q);if(A&&E.push([ne,Q]),I)y=ne,S=Q,w=le,I=!1,le&&(i.lineStart(),i.point(ne,Q));else if(le&&b)i.point(ne,Q);else{var Z=[o=Math.max(g,Math.min(v,o)),_=Math.max(g,Math.min(v,_))],Y=[ne=Math.max(g,Math.min(v,ne)),Q=Math.max(g,Math.min(v,Q))];n(Z,Y,t,s,a,f)?(b||(i.lineStart(),i.point(Z[0],Z[1])),i.point(Y[0],Y[1]),le||i.lineEnd(),D=!1):le&&(i.lineStart(),i.point(ne,Q),D=!1)}o=ne,_=Q,b=le}return N}}},32232:function(H,U,e){e.d(U,{c:function(){return C}});var p=e(41860),L=e(64528);function n(v,g,r,t){this.x=v,this.z=g,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function C(v,g,r,t,s){var a=[],f=[],u,l;if(v.forEach(function(d){if(!((x=d.length-1)<=0)){var x,A=d[0],E=d[x],y;if((0,p.c)(A,E)){if(!A[2]&&!E[2]){for(s.lineStart(),u=0;u<x;++u)s.point((A=d[u])[0],A[1]);s.lineEnd();return}E[0]+=2*L.Gg}a.push(y=new n(A,d,null,!0)),f.push(y.o=new n(A,null,y,!1)),a.push(y=new n(E,d,null,!1)),f.push(y.o=new n(E,null,y,!0))}}),!!a.length){for(f.sort(g),T(a),T(f),u=0,l=f.length;u<l;++u)f[u].e=r=!r;for(var m=a[0],h,M;;){for(var c=m,i=!0;c.v;)if((c=c.n)===m)return;h=c.z,s.lineStart();do{if(c.v=c.o.v=!0,c.e){if(i)for(u=0,l=h.length;u<l;++u)s.point((M=h[u])[0],M[1]);else t(c.x,c.n.x,1,s);c=c.n}else{if(i)for(h=c.p.z,u=h.length-1;u>=0;--u)s.point((M=h[u])[0],M[1]);else t(c.x,c.p.x,-1,s);c=c.p}c=c.o,h=c.z,i=!i}while(!c.v);s.lineEnd()}}}function T(v){if(g=v.length){for(var g,r=0,t=v[0],s;++r<g;)t.n=s=v[r],s.p=t,t=s;t.n=s=v[0],s.p=t}}},68120:function(H,U,e){e.d(U,{c:function(){return p}});function p(L,n){function C(T,v){return T=L(T,v),n(T[0],T[1])}return L.invert&&n.invert&&(C.invert=function(T,v){return T=n.invert(T,v),T&&L.invert(T[0],T[1])}),C}},7376:function(H,U,e){e.d(U,{c:function(){return p}});function p(L){return L}},83356:function(H,U,e){e.r(U),e.d(U,{geoAlbers:function(){return Tr},geoAlbersUsa:function(){return lt},geoArea:function(){return p.cp},geoAzimuthalEqualArea:function(){return Mt.c},geoAzimuthalEqualAreaRaw:function(){return Mt.y},geoAzimuthalEquidistant:function(){return _t.c},geoAzimuthalEquidistantRaw:function(){return _t.O},geoBounds:function(){return L.c},geoCentroid:function(){return n.c},geoCircle:function(){return C.c},geoClipAntimeridian:function(){return T.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return g.c},geoConicConformal:function(){return pr},geoConicConformalRaw:function(){return dr},geoConicEqualArea:function(){return tr},geoConicEqualAreaRaw:function(){return $t},geoConicEquidistant:function(){return Ge},geoConicEquidistantRaw:function(){return Xe},geoContains:function(){return F},geoDistance:function(){return w},geoEqualEarth:function(){return yr},geoEqualEarthRaw:function(){return Vt},geoEquirectangular:function(){return mr.c},geoEquirectangularRaw:function(){return mr.u},geoGnomonic:function(){return wr.c},geoGnomonicRaw:function(){return wr.Y},geoGraticule:function(){return ee},geoGraticule10:function(){return ne},geoIdentity:function(){return gr},geoInterpolate:function(){return Q.c},geoLength:function(){return E},geoMercator:function(){return Wt},geoMercatorRaw:function(){return It},geoNaturalEarth1:function(){return jr.c},geoNaturalEarth1Raw:function(){return jr.g},geoOrthographic:function(){return Fr.c},geoOrthographicRaw:function(){return Fr.t},geoPath:function(){return Ft},geoProjection:function(){return rr.c},geoProjectionMutator:function(){return rr.U},geoRotation:function(){return Ot.c},geoStereographic:function(){return hn},geoStereographicRaw:function(){return wn},geoStream:function(){return u.c},geoTransform:function(){return Ar.c},geoTransverseMercator:function(){return Fn},geoTransverseMercatorRaw:function(){return Un}});var p=e(95384),L=e(13696),n=e(24052),C=e(61780),T=e(78284),v=e(2728),g=e(21676);function r(){var Pr=0,Or=0,Qr=960,Zr=500,vn,Mn,Sn;return Sn={stream:function(Vn){return vn&&Mn===Vn?vn:vn=(0,g.c)(Pr,Or,Qr,Zr)(Mn=Vn)},extent:function(Vn){return arguments.length?(Pr=+Vn[0][0],Or=+Vn[0][1],Qr=+Vn[1][0],Zr=+Vn[1][1],vn=Mn=null,Sn):[[Pr,Or],[Qr,Zr]]}}}var t=e(58196),s=e(88728),a=e(64528),f=e(70932),u=e(16016),l=(0,s.c)(),m,h,M,c={sphere:f.c,point:f.c,lineStart:i,lineEnd:f.c,polygonStart:f.c,polygonEnd:f.c};function i(){c.point=x,c.lineEnd=d}function d(){c.point=c.lineEnd=f.c}function x(Pr,Or){Pr*=a.qw,Or*=a.qw,m=Pr,h=(0,a.g$)(Or),M=(0,a.W8)(Or),c.point=A}function A(Pr,Or){Pr*=a.qw,Or*=a.qw;var Qr=(0,a.g$)(Or),Zr=(0,a.W8)(Or),vn=(0,a.a2)(Pr-m),Mn=(0,a.W8)(vn),Sn=(0,a.g$)(vn),Vn=Zr*Sn,jn=M*Qr-h*Zr*Mn,ya=h*Qr+M*Zr*Mn;l.add((0,a.WE)((0,a._I)(Vn*Vn+jn*jn),ya)),m=Pr,h=Qr,M=Zr}function E(Pr){return l.reset(),(0,u.c)(Pr,c),+l}var y=[null,null],S={type:"LineString",coordinates:y};function w(Pr,Or){return y[0]=Pr,y[1]=Or,E(S)}var o={Feature:function(Pr,Or){return b(Pr.geometry,Or)},FeatureCollection:function(Pr,Or){for(var Qr=Pr.features,Zr=-1,vn=Qr.length;++Zr<vn;)if(b(Qr[Zr].geometry,Or))return!0;return!1}},_={Sphere:function(){return!0},Point:function(Pr,Or){return I(Pr.coordinates,Or)},MultiPoint:function(Pr,Or){for(var Qr=Pr.coordinates,Zr=-1,vn=Qr.length;++Zr<vn;)if(I(Qr[Zr],Or))return!0;return!1},LineString:function(Pr,Or){return D(Pr.coordinates,Or)},MultiLineString:function(Pr,Or){for(var Qr=Pr.coordinates,Zr=-1,vn=Qr.length;++Zr<vn;)if(D(Qr[Zr],Or))return!0;return!1},Polygon:function(Pr,Or){return N(Pr.coordinates,Or)},MultiPolygon:function(Pr,Or){for(var Qr=Pr.coordinates,Zr=-1,vn=Qr.length;++Zr<vn;)if(N(Qr[Zr],Or))return!0;return!1},GeometryCollection:function(Pr,Or){for(var Qr=Pr.geometries,Zr=-1,vn=Qr.length;++Zr<vn;)if(b(Qr[Zr],Or))return!0;return!1}};function b(Pr,Or){return Pr&&_.hasOwnProperty(Pr.type)?_[Pr.type](Pr,Or):!1}function I(Pr,Or){return w(Pr,Or)===0}function D(Pr,Or){for(var Qr,Zr,vn,Mn=0,Sn=Pr.length;Mn<Sn;Mn++){if(Zr=w(Pr[Mn],Or),Zr===0||Mn>0&&(vn=w(Pr[Mn],Pr[Mn-1]),vn>0&&Qr<=vn&&Zr<=vn&&(Qr+Zr-vn)*(1-Math.pow((Qr-Zr)/vn,2))<a.a8*vn))return!0;Qr=Zr}return!1}function N(Pr,Or){return!!(0,t.c)(Pr.map(k),z(Or))}function k(Pr){return Pr=Pr.map(z),Pr.pop(),Pr}function z(Pr){return[Pr[0]*a.qw,Pr[1]*a.qw]}function F(Pr,Or){return(Pr&&o.hasOwnProperty(Pr.type)?o[Pr.type]:b)(Pr,Or)}var O=e(84706);function B(Pr,Or,Qr){var Zr=(0,O.ik)(Pr,Or-a.Gg,Qr).concat(Or);return function(vn){return Zr.map(function(Mn){return[vn,Mn]})}}function W(Pr,Or,Qr){var Zr=(0,O.ik)(Pr,Or-a.Gg,Qr).concat(Or);return function(vn){return Zr.map(function(Mn){return[Mn,vn]})}}function ee(){var Pr,Or,Qr,Zr,vn,Mn,Sn,Vn,jn=10,ya=jn,Pa=90,Da=360,Ma,ma,Er,tn,$r=2.5;function An(){return{type:"MultiLineString",coordinates:qn()}}function qn(){return(0,O.ik)((0,a.Km)(Zr/Pa)*Pa,Qr,Pa).map(Er).concat((0,O.ik)((0,a.Km)(Vn/Da)*Da,Sn,Da).map(tn)).concat((0,O.ik)((0,a.Km)(Or/jn)*jn,Pr,jn).filter(function(kn){return(0,a.a2)(kn%Pa)>a.Gg}).map(Ma)).concat((0,O.ik)((0,a.Km)(Mn/ya)*ya,vn,ya).filter(function(kn){return(0,a.a2)(kn%Da)>a.Gg}).map(ma))}return An.lines=function(){return qn().map(function(kn){return{type:"LineString",coordinates:kn}})},An.outline=function(){return{type:"Polygon",coordinates:[Er(Zr).concat(tn(Sn).slice(1),Er(Qr).reverse().slice(1),tn(Vn).reverse().slice(1))]}},An.extent=function(kn){return arguments.length?An.extentMajor(kn).extentMinor(kn):An.extentMinor()},An.extentMajor=function(kn){return arguments.length?(Zr=+kn[0][0],Qr=+kn[1][0],Vn=+kn[0][1],Sn=+kn[1][1],Zr>Qr&&(kn=Zr,Zr=Qr,Qr=kn),Vn>Sn&&(kn=Vn,Vn=Sn,Sn=kn),An.precision($r)):[[Zr,Vn],[Qr,Sn]]},An.extentMinor=function(kn){return arguments.length?(Or=+kn[0][0],Pr=+kn[1][0],Mn=+kn[0][1],vn=+kn[1][1],Or>Pr&&(kn=Or,Or=Pr,Pr=kn),Mn>vn&&(kn=Mn,Mn=vn,vn=kn),An.precision($r)):[[Or,Mn],[Pr,vn]]},An.step=function(kn){return arguments.length?An.stepMajor(kn).stepMinor(kn):An.stepMinor()},An.stepMajor=function(kn){return arguments.length?(Pa=+kn[0],Da=+kn[1],An):[Pa,Da]},An.stepMinor=function(kn){return arguments.length?(jn=+kn[0],ya=+kn[1],An):[jn,ya]},An.precision=function(kn){return arguments.length?($r=+kn,Ma=B(Mn,vn,90),ma=W(Or,Pr,$r),Er=B(Vn,Sn,90),tn=W(Zr,Qr,$r),An):$r},An.extentMajor([[-180,-90+a.Gg],[180,90-a.Gg]]).extentMinor([[-180,-80-a.Gg],[180,80+a.Gg]])}function ne(){return ee()()}var Q=e(27284),le=e(7376),Z=(0,s.c)(),Y=(0,s.c)(),re,X,q,se,$={point:f.c,lineStart:f.c,lineEnd:f.c,polygonStart:function(){$.lineStart=j,$.lineEnd=ce},polygonEnd:function(){$.lineStart=$.lineEnd=$.point=f.c,Z.add((0,a.a2)(Y)),Y.reset()},result:function(){var Pr=Z/2;return Z.reset(),Pr}};function j(){$.point=ue}function ue(Pr,Or){$.point=ae,re=q=Pr,X=se=Or}function ae(Pr,Or){Y.add(se*Pr-q*Or),q=Pr,se=Or}function ce(){ae(re,X)}var ye=$,Ce=e(73784),Ae=0,Ie=0,Te=0,Le=0,xe=0,Re=0,He=0,Ve=0,Fe=0,We,ut,ht,rt,tt={point:vt,lineStart:pt,lineEnd:Lt,polygonStart:function(){tt.lineStart=at,tt.lineEnd=Oe},polygonEnd:function(){tt.point=vt,tt.lineStart=pt,tt.lineEnd=Lt},result:function(){var Pr=Fe?[He/Fe,Ve/Fe]:Re?[Le/Re,xe/Re]:Te?[Ae/Te,Ie/Te]:[NaN,NaN];return Ae=Ie=Te=Le=xe=Re=He=Ve=Fe=0,Pr}};function vt(Pr,Or){Ae+=Pr,Ie+=Or,++Te}function pt(){tt.point=mt}function mt(Pr,Or){tt.point=wt,vt(ht=Pr,rt=Or)}function wt(Pr,Or){var Qr=Pr-ht,Zr=Or-rt,vn=(0,a._I)(Qr*Qr+Zr*Zr);Le+=vn*(ht+Pr)/2,xe+=vn*(rt+Or)/2,Re+=vn,vt(ht=Pr,rt=Or)}function Lt(){tt.point=vt}function at(){tt.point=Ze}function Oe(){Je(We,ut)}function Ze(Pr,Or){tt.point=Je,vt(We=ht=Pr,ut=rt=Or)}function Je(Pr,Or){var Qr=Pr-ht,Zr=Or-rt,vn=(0,a._I)(Qr*Qr+Zr*Zr);Le+=vn*(ht+Pr)/2,xe+=vn*(rt+Or)/2,Re+=vn,vn=rt*Pr-ht*Or,He+=vn*(ht+Pr),Ve+=vn*(rt+Or),Fe+=vn*3,vt(ht=Pr,rt=Or)}var Ye=tt;function ke(Pr){this._context=Pr}ke.prototype={_radius:4.5,pointRadius:function(Pr){return this._radius=Pr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Pr,Or){switch(this._point){case 0:{this._context.moveTo(Pr,Or),this._point=1;break}case 1:{this._context.lineTo(Pr,Or);break}default:{this._context.moveTo(Pr+this._radius,Or),this._context.arc(Pr,Or,this._radius,0,a.kD);break}}},result:f.c};var be=(0,s.c)(),me,_e,Ee,Be,je,nt={point:f.c,lineStart:function(){nt.point=dt},lineEnd:function(){me&&xt(_e,Ee),nt.point=f.c},polygonStart:function(){me=!0},polygonEnd:function(){me=null},result:function(){var Pr=+be;return be.reset(),Pr}};function dt(Pr,Or){nt.point=xt,_e=Be=Pr,Ee=je=Or}function xt(Pr,Or){Be-=Pr,je-=Or,be.add((0,a._I)(Be*Be+je*je)),Be=Pr,je=Or}var Kt=nt;function Jt(){this._string=[]}Jt.prototype={_radius:4.5,_circle:St(4.5),pointRadius:function(Pr){return(Pr=+Pr)!==this._radius&&(this._radius=Pr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Pr,Or){switch(this._point){case 0:{this._string.push("M",Pr,",",Or),this._point=1;break}case 1:{this._string.push("L",Pr,",",Or);break}default:{this._circle==null&&(this._circle=St(this._radius)),this._string.push("M",Pr,",",Or,this._circle);break}}},result:function(){if(this._string.length){var Pr=this._string.join("");return this._string=[],Pr}else return null}};function St(Pr){return"m0,"+Pr+"a"+Pr+","+Pr+" 0 1,1 0,"+-2*Pr+"a"+Pr+","+Pr+" 0 1,1 0,"+2*Pr+"z"}function Ft(Pr,Or){var Qr=4.5,Zr,vn;function Mn(Sn){return Sn&&(typeof Qr=="function"&&vn.pointRadius(+Qr.apply(this,arguments)),(0,u.c)(Sn,Zr(vn))),vn.result()}return Mn.area=function(Sn){return(0,u.c)(Sn,Zr(ye)),ye.result()},Mn.measure=function(Sn){return(0,u.c)(Sn,Zr(Kt)),Kt.result()},Mn.bounds=function(Sn){return(0,u.c)(Sn,Zr(Ce.c)),Ce.c.result()},Mn.centroid=function(Sn){return(0,u.c)(Sn,Zr(Ye)),Ye.result()},Mn.projection=function(Sn){return arguments.length?(Zr=Sn==null?(Pr=null,le.c):(Pr=Sn).stream,Mn):Pr},Mn.context=function(Sn){return arguments.length?(vn=Sn==null?(Or=null,new Jt):new ke(Or=Sn),typeof Qr!="function"&&vn.pointRadius(Qr),Mn):Or},Mn.pointRadius=function(Sn){return arguments.length?(Qr=typeof Sn=="function"?Sn:(vn.pointRadius(+Sn),+Sn),Mn):Qr},Mn.projection(Pr).context(Or)}var rr=e(87952);function _r(Pr){var Or=0,Qr=a.pi/3,Zr=(0,rr.U)(Pr),vn=Zr(Or,Qr);return vn.parallels=function(Mn){return arguments.length?Zr(Or=Mn[0]*a.qw,Qr=Mn[1]*a.qw):[Or*a.oh,Qr*a.oh]},vn}function Tt(Pr){var Or=(0,a.W8)(Pr);function Qr(Zr,vn){return[Zr*Or,(0,a.g$)(vn)/Or]}return Qr.invert=function(Zr,vn){return[Zr/Or,(0,a.qR)(vn*Or)]},Qr}function $t(Pr,Or){var Qr=(0,a.g$)(Pr),Zr=(Qr+(0,a.g$)(Or))/2;if((0,a.a2)(Zr)<a.Gg)return Tt(Pr);var vn=1+Qr*(2*Zr-Qr),Mn=(0,a._I)(vn)/Zr;function Sn(Vn,jn){var ya=(0,a._I)(vn-2*Zr*(0,a.g$)(jn))/Zr;return[ya*(0,a.g$)(Vn*=Zr),Mn-ya*(0,a.W8)(Vn)]}return Sn.invert=function(Vn,jn){var ya=Mn-jn,Pa=(0,a.WE)(Vn,(0,a.a2)(ya))*(0,a.kq)(ya);return ya*Zr<0&&(Pa-=a.pi*(0,a.kq)(Vn)*(0,a.kq)(ya)),[Pa/Zr,(0,a.qR)((vn-(Vn*Vn+ya*ya)*Zr*Zr)/(2*Zr))]},Sn}function tr(){return _r($t).scale(155.424).center([0,33.6442])}function Tr(){return tr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var cr=e(86420);function bt(Pr){var Or=Pr.length;return{point:function(Qr,Zr){for(var vn=-1;++vn<Or;)Pr[vn].point(Qr,Zr)},sphere:function(){for(var Qr=-1;++Qr<Or;)Pr[Qr].sphere()},lineStart:function(){for(var Qr=-1;++Qr<Or;)Pr[Qr].lineStart()},lineEnd:function(){for(var Qr=-1;++Qr<Or;)Pr[Qr].lineEnd()},polygonStart:function(){for(var Qr=-1;++Qr<Or;)Pr[Qr].polygonStart()},polygonEnd:function(){for(var Qr=-1;++Qr<Or;)Pr[Qr].polygonEnd()}}}function lt(){var Pr,Or,Qr=Tr(),Zr,vn=tr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Mn,Sn=tr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Vn,jn,ya={point:function(Ma,ma){jn=[Ma,ma]}};function Pa(Ma){var ma=Ma[0],Er=Ma[1];return jn=null,Zr.point(ma,Er),jn||(Mn.point(ma,Er),jn)||(Vn.point(ma,Er),jn)}Pa.invert=function(Ma){var ma=Qr.scale(),Er=Qr.translate(),tn=(Ma[0]-Er[0])/ma,$r=(Ma[1]-Er[1])/ma;return($r>=.12&&$r<.234&&tn>=-.425&&tn<-.214?vn:$r>=.166&&$r<.234&&tn>=-.214&&tn<-.115?Sn:Qr).invert(Ma)},Pa.stream=function(Ma){return Pr&&Or===Ma?Pr:Pr=bt([Qr.stream(Or=Ma),vn.stream(Ma),Sn.stream(Ma)])},Pa.precision=function(Ma){return arguments.length?(Qr.precision(Ma),vn.precision(Ma),Sn.precision(Ma),Da()):Qr.precision()},Pa.scale=function(Ma){return arguments.length?(Qr.scale(Ma),vn.scale(Ma*.35),Sn.scale(Ma),Pa.translate(Qr.translate())):Qr.scale()},Pa.translate=function(Ma){if(!arguments.length)return Qr.translate();var ma=Qr.scale(),Er=+Ma[0],tn=+Ma[1];return Zr=Qr.translate(Ma).clipExtent([[Er-.455*ma,tn-.238*ma],[Er+.455*ma,tn+.238*ma]]).stream(ya),Mn=vn.translate([Er-.307*ma,tn+.201*ma]).clipExtent([[Er-.425*ma+a.Gg,tn+.12*ma+a.Gg],[Er-.214*ma-a.Gg,tn+.234*ma-a.Gg]]).stream(ya),Vn=Sn.translate([Er-.205*ma,tn+.212*ma]).clipExtent([[Er-.214*ma+a.Gg,tn+.166*ma+a.Gg],[Er-.115*ma-a.Gg,tn+.234*ma-a.Gg]]).stream(ya),Da()},Pa.fitExtent=function(Ma,ma){return(0,cr.QX)(Pa,Ma,ma)},Pa.fitSize=function(Ma,ma){return(0,cr.UV)(Pa,Ma,ma)},Pa.fitWidth=function(Ma,ma){return(0,cr.Qx)(Pa,Ma,ma)},Pa.fitHeight=function(Ma,ma){return(0,cr.OW)(Pa,Ma,ma)};function Da(){return Pr=Or=null,Pa}return Pa.scale(1070)}var Mt=e(54724),_t=e(69020),Ot=e(92992);function It(Pr,Or){return[Pr,(0,a.Yz)((0,a.a6)((a.or+Or)/2))]}It.invert=function(Pr,Or){return[Pr,2*(0,a.MQ)((0,a.oN)(Or))-a.or]};function Wt(){return Gt(It).scale(961/a.kD)}function Gt(Pr){var Or=(0,rr.c)(Pr),Qr=Or.center,Zr=Or.scale,vn=Or.translate,Mn=Or.clipExtent,Sn=null,Vn,jn,ya;Or.scale=function(Da){return arguments.length?(Zr(Da),Pa()):Zr()},Or.translate=function(Da){return arguments.length?(vn(Da),Pa()):vn()},Or.center=function(Da){return arguments.length?(Qr(Da),Pa()):Qr()},Or.clipExtent=function(Da){return arguments.length?(Da==null?Sn=Vn=jn=ya=null:(Sn=+Da[0][0],Vn=+Da[0][1],jn=+Da[1][0],ya=+Da[1][1]),Pa()):Sn==null?null:[[Sn,Vn],[jn,ya]]};function Pa(){var Da=a.pi*Zr(),Ma=Or((0,Ot.c)(Or.rotate()).invert([0,0]));return Mn(Sn==null?[[Ma[0]-Da,Ma[1]-Da],[Ma[0]+Da,Ma[1]+Da]]:Pr===It?[[Math.max(Ma[0]-Da,Sn),Vn],[Math.min(Ma[0]+Da,jn),ya]]:[[Sn,Math.max(Ma[1]-Da,Vn)],[jn,Math.min(Ma[1]+Da,ya)]])}return Pa()}function er(Pr){return(0,a.a6)((a.or+Pr)/2)}function dr(Pr,Or){var Qr=(0,a.W8)(Pr),Zr=Pr===Or?(0,a.g$)(Pr):(0,a.Yz)(Qr/(0,a.W8)(Or))/(0,a.Yz)(er(Or)/er(Pr)),vn=Qr*(0,a.g3)(er(Pr),Zr)/Zr;if(!Zr)return It;function Mn(Sn,Vn){vn>0?Vn<-a.or+a.Gg&&(Vn=-a.or+a.Gg):Vn>a.or-a.Gg&&(Vn=a.or-a.Gg);var jn=vn/(0,a.g3)(er(Vn),Zr);return[jn*(0,a.g$)(Zr*Sn),vn-jn*(0,a.W8)(Zr*Sn)]}return Mn.invert=function(Sn,Vn){var jn=vn-Vn,ya=(0,a.kq)(Zr)*(0,a._I)(Sn*Sn+jn*jn),Pa=(0,a.WE)(Sn,(0,a.a2)(jn))*(0,a.kq)(jn);return jn*Zr<0&&(Pa-=a.pi*(0,a.kq)(Sn)*(0,a.kq)(jn)),[Pa/Zr,2*(0,a.MQ)((0,a.g3)(vn/ya,1/Zr))-a.or]},Mn}function pr(){return _r(dr).scale(109.5).parallels([30,30])}var mr=e(69604);function Xe(Pr,Or){var Qr=(0,a.W8)(Pr),Zr=Pr===Or?(0,a.g$)(Pr):(Qr-(0,a.W8)(Or))/(Or-Pr),vn=Qr/Zr+Pr;if((0,a.a2)(Zr)<a.Gg)return mr.u;function Mn(Sn,Vn){var jn=vn-Vn,ya=Zr*Sn;return[jn*(0,a.g$)(ya),vn-jn*(0,a.W8)(ya)]}return Mn.invert=function(Sn,Vn){var jn=vn-Vn,ya=(0,a.WE)(Sn,(0,a.a2)(jn))*(0,a.kq)(jn);return jn*Zr<0&&(ya-=a.pi*(0,a.kq)(Sn)*(0,a.kq)(jn)),[ya/Zr,vn-(0,a.kq)(Zr)*(0,a._I)(Sn*Sn+jn*jn)]},Mn}function Ge(){return _r(Xe).scale(131.154).center([0,13.9389])}var Ut=1.340264,Nt=-.081106,Qt=893e-6,ar=.003796,hr=(0,a._I)(3)/2,or=12;function Vt(Pr,Or){var Qr=(0,a.qR)(hr*(0,a.g$)(Or)),Zr=Qr*Qr,vn=Zr*Zr*Zr;return[Pr*(0,a.W8)(Qr)/(hr*(Ut+3*Nt*Zr+vn*(7*Qt+9*ar*Zr))),Qr*(Ut+Nt*Zr+vn*(Qt+ar*Zr))]}Vt.invert=function(Pr,Or){for(var Qr=Or,Zr=Qr*Qr,vn=Zr*Zr*Zr,Mn=0,Sn,Vn,jn;Mn<or&&(Vn=Qr*(Ut+Nt*Zr+vn*(Qt+ar*Zr))-Or,jn=Ut+3*Nt*Zr+vn*(7*Qt+9*ar*Zr),Qr-=Sn=Vn/jn,Zr=Qr*Qr,vn=Zr*Zr*Zr,!((0,a.a2)(Sn)<a.a8));++Mn);return[hr*Pr*(Ut+3*Nt*Zr+vn*(7*Qt+9*ar*Zr))/(0,a.W8)(Qr),(0,a.qR)((0,a.g$)(Qr)/hr)]};function yr(){return(0,rr.c)(Vt).scale(177.158)}var wr=e(53285),Ar=e(15196);function gr(){var Pr=1,Or=0,Qr=0,Zr=1,vn=1,Mn=0,Sn,Vn,jn=null,ya,Pa,Da,Ma=1,ma=1,Er=(0,Ar.s)({point:function(On,$n){var ca=kn([On,$n]);this.stream.point(ca[0],ca[1])}}),tn=le.c,$r,An;function qn(){return Ma=Pr*Zr,ma=Pr*vn,$r=An=null,kn}function kn(On){var $n=On[0]*Ma,ca=On[1]*ma;if(Mn){var Ia=ca*Sn-$n*Vn;$n=$n*Sn+ca*Vn,ca=Ia}return[$n+Or,ca+Qr]}return kn.invert=function(On){var $n=On[0]-Or,ca=On[1]-Qr;if(Mn){var Ia=ca*Sn+$n*Vn;$n=$n*Sn-ca*Vn,ca=Ia}return[$n/Ma,ca/ma]},kn.stream=function(On){return $r&&An===On?$r:$r=Er(tn(An=On))},kn.postclip=function(On){return arguments.length?(tn=On,jn=ya=Pa=Da=null,qn()):tn},kn.clipExtent=function(On){return arguments.length?(tn=On==null?(jn=ya=Pa=Da=null,le.c):(0,g.c)(jn=+On[0][0],ya=+On[0][1],Pa=+On[1][0],Da=+On[1][1]),qn()):jn==null?null:[[jn,ya],[Pa,Da]]},kn.scale=function(On){return arguments.length?(Pr=+On,qn()):Pr},kn.translate=function(On){return arguments.length?(Or=+On[0],Qr=+On[1],qn()):[Or,Qr]},kn.angle=function(On){return arguments.length?(Mn=On%360*a.qw,Vn=(0,a.g$)(Mn),Sn=(0,a.W8)(Mn),qn()):Mn*a.oh},kn.reflectX=function(On){return arguments.length?(Zr=On?-1:1,qn()):Zr<0},kn.reflectY=function(On){return arguments.length?(vn=On?-1:1,qn()):vn<0},kn.fitExtent=function(On,$n){return(0,cr.QX)(kn,On,$n)},kn.fitSize=function(On,$n){return(0,cr.UV)(kn,On,$n)},kn.fitWidth=function(On,$n){return(0,cr.Qx)(kn,On,$n)},kn.fitHeight=function(On,$n){return(0,cr.OW)(kn,On,$n)},kn}var jr=e(47984),Fr=e(4888),Nr=e(62280);function wn(Pr,Or){var Qr=(0,a.W8)(Or),Zr=1+(0,a.W8)(Pr)*Qr;return[Qr*(0,a.g$)(Pr)/Zr,(0,a.g$)(Or)/Zr]}wn.invert=(0,Nr.g)(function(Pr){return 2*(0,a.MQ)(Pr)});function hn(){return(0,rr.c)(wn).scale(250).clipAngle(142)}function Un(Pr,Or){return[(0,a.Yz)((0,a.a6)((a.or+Or)/2)),-Pr]}Un.invert=function(Pr,Or){return[-Or,2*(0,a.MQ)((0,a.oN)(Pr))-a.or]};function Fn(){var Pr=Gt(Un),Or=Pr.center,Qr=Pr.rotate;return Pr.center=function(Zr){return arguments.length?Or([-Zr[1],Zr[0]]):(Zr=Or(),[Zr[1],-Zr[0]])},Pr.rotate=function(Zr){return arguments.length?Qr([Zr[0],Zr[1],Zr.length>2?Zr[2]+90:90]):(Zr=Qr(),[Zr[0],Zr[1],Zr[2]-90])},Qr([0,0,90]).scale(159.155)}},27284:function(H,U,e){e.d(U,{c:function(){return L}});var p=e(64528);function L(n,C){var T=n[0]*p.qw,v=n[1]*p.qw,g=C[0]*p.qw,r=C[1]*p.qw,t=(0,p.W8)(v),s=(0,p.g$)(v),a=(0,p.W8)(r),f=(0,p.g$)(r),u=t*(0,p.W8)(T),l=t*(0,p.g$)(T),m=a*(0,p.W8)(g),h=a*(0,p.g$)(g),M=2*(0,p.qR)((0,p._I)((0,p.SD)(r-v)+t*a*(0,p.SD)(g-T))),c=(0,p.g$)(M),i=M?function(d){var x=(0,p.g$)(d*=M)/c,A=(0,p.g$)(M-d)/c,E=A*u+x*m,y=A*l+x*h,S=A*s+x*f;return[(0,p.WE)(y,E)*p.oh,(0,p.WE)(S,(0,p._I)(E*E+y*y))*p.oh]}:function(){return[T*p.oh,v*p.oh]};return i.distance=M,i}},64528:function(H,U,e){e.d(U,{Gg:function(){return p},Km:function(){return u},MQ:function(){return s},SD:function(){return E},W8:function(){return f},WE:function(){return a},Yz:function(){return m},_I:function(){return i},a2:function(){return t},a6:function(){return d},a8:function(){return L},g$:function(){return M},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return x},oN:function(){return l},oh:function(){return g},or:function(){return C},pi:function(){return n},qR:function(){return A},qw:function(){return r},wL:function(){return T}});var p=1e-6,L=1e-12,n=Math.PI,C=n/2,T=n/4,v=n*2,g=180/n,r=n/180,t=Math.abs,s=Math.atan,a=Math.atan2,f=Math.cos,u=Math.ceil,l=Math.exp,m=Math.log,h=Math.pow,M=Math.sin,c=Math.sign||function(y){return y>0?1:y<0?-1:0},i=Math.sqrt,d=Math.tan;function x(y){return y>1?0:y<-1?n:Math.acos(y)}function A(y){return y>1?C:y<-1?-C:Math.asin(y)}function E(y){return(y=M(y/2))*y}},70932:function(H,U,e){e.d(U,{c:function(){return p}});function p(){}},73784:function(H,U,e){var p=e(70932),L=1/0,n=L,C=-L,T=C,v={point:g,lineStart:p.c,lineEnd:p.c,polygonStart:p.c,polygonEnd:p.c,result:function(){var r=[[L,n],[C,T]];return C=T=-(n=L=1/0),r}};function g(r,t){r<L&&(L=r),r>C&&(C=r),t<n&&(n=t),t>T&&(T=t)}U.c=v},41860:function(H,U,e){e.d(U,{c:function(){return L}});var p=e(64528);function L(n,C){return(0,p.a2)(n[0]-C[0])<p.Gg&&(0,p.a2)(n[1]-C[1])<p.Gg}},58196:function(H,U,e){e.d(U,{c:function(){return v}});var p=e(88728),L=e(84220),n=e(64528),C=(0,p.c)();function T(g){return(0,n.a2)(g[0])<=n.pi?g[0]:(0,n.kq)(g[0])*(((0,n.a2)(g[0])+n.pi)%n.kD-n.pi)}function v(g,r){var t=T(r),s=r[1],a=(0,n.g$)(s),f=[(0,n.g$)(t),-(0,n.W8)(t),0],u=0,l=0;C.reset(),a===1?s=n.or+n.Gg:a===-1&&(s=-n.or-n.Gg);for(var m=0,h=g.length;m<h;++m)if(c=(M=g[m]).length)for(var M,c,i=M[c-1],d=T(i),x=i[1]/2+n.wL,A=(0,n.g$)(x),E=(0,n.W8)(x),y=0;y<c;++y,d=w,A=_,E=b,i=S){var S=M[y],w=T(S),o=S[1]/2+n.wL,_=(0,n.g$)(o),b=(0,n.W8)(o),I=w-d,D=I>=0?1:-1,N=D*I,k=N>n.pi,z=A*_;if(C.add((0,n.WE)(z*D*(0,n.g$)(N),E*b+z*(0,n.W8)(N))),u+=k?I+D*n.kD:I,k^d>=t^w>=t){var F=(0,L.CW)((0,L.ux)(i),(0,L.ux)(S));(0,L.cJ)(F);var O=(0,L.CW)(f,F);(0,L.cJ)(O);var B=(k^I>=0?-1:1)*(0,n.qR)(O[2]);(s>B||s===B&&(F[0]||F[1]))&&(l+=k^I>=0?1:-1)}}return(u<-n.Gg||u<n.Gg&&C<-n.Gg)^l&1}},62280:function(H,U,e){e.d(U,{a:function(){return L},g:function(){return n}});var p=e(64528);function L(C){return function(T,v){var g=(0,p.W8)(T),r=(0,p.W8)(v),t=C(g*r);return[t*r*(0,p.g$)(T),t*(0,p.g$)(v)]}}function n(C){return function(T,v){var g=(0,p._I)(T*T+v*v),r=C(g),t=(0,p.g$)(r),s=(0,p.W8)(r);return[(0,p.WE)(T*t,g*s),(0,p.qR)(g&&v*t/g)]}}},54724:function(H,U,e){e.d(U,{c:function(){return T},y:function(){return C}});var p=e(64528),L=e(62280),n=e(87952),C=(0,L.a)(function(v){return(0,p._I)(2/(1+v))});C.invert=(0,L.g)(function(v){return 2*(0,p.qR)(v/2)});function T(){return(0,n.c)(C).scale(124.75).clipAngle(179.999)}},69020:function(H,U,e){e.d(U,{O:function(){return C},c:function(){return T}});var p=e(64528),L=e(62280),n=e(87952),C=(0,L.a)(function(v){return(v=(0,p.mE)(v))&&v/(0,p.g$)(v)});C.invert=(0,L.g)(function(v){return v});function T(){return(0,n.c)(C).scale(79.4188).clipAngle(179.999)}},69604:function(H,U,e){e.d(U,{c:function(){return n},u:function(){return L}});var p=e(87952);function L(C,T){return[C,T]}L.invert=L;function n(){return(0,p.c)(L).scale(152.63)}},86420:function(H,U,e){e.d(U,{OW:function(){return g},QX:function(){return C},Qx:function(){return v},UV:function(){return T}});var p=e(16016),L=e(73784);function n(r,t,s){var a=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),a!=null&&r.clipExtent(null),(0,p.c)(s,r.stream(L.c)),t(L.c.result()),a!=null&&r.clipExtent(a),r}function C(r,t,s){return n(r,function(a){var f=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(f/(a[1][0]-a[0][0]),u/(a[1][1]-a[0][1])),m=+t[0][0]+(f-l*(a[1][0]+a[0][0]))/2,h=+t[0][1]+(u-l*(a[1][1]+a[0][1]))/2;r.scale(150*l).translate([m,h])},s)}function T(r,t,s){return C(r,[[0,0],t],s)}function v(r,t,s){return n(r,function(a){var f=+t,u=f/(a[1][0]-a[0][0]),l=(f-u*(a[1][0]+a[0][0]))/2,m=-u*a[0][1];r.scale(150*u).translate([l,m])},s)}function g(r,t,s){return n(r,function(a){var f=+t,u=f/(a[1][1]-a[0][1]),l=-u*a[0][0],m=(f-u*(a[1][1]+a[0][1]))/2;r.scale(150*u).translate([l,m])},s)}},53285:function(H,U,e){e.d(U,{Y:function(){return C},c:function(){return T}});var p=e(64528),L=e(62280),n=e(87952);function C(v,g){var r=(0,p.W8)(g),t=(0,p.W8)(v)*r;return[r*(0,p.g$)(v)/t,(0,p.g$)(g)/t]}C.invert=(0,L.g)(p.MQ);function T(){return(0,n.c)(C).scale(144.049).clipAngle(60)}},87952:function(H,U,e){e.d(U,{c:function(){return d},U:function(){return x}});var p=e(78284),L=e(2728),n=e(21676),C=e(68120),T=e(7376),v=e(64528),g=e(92992),r=e(15196),t=e(86420),s=e(84220),a=16,f=(0,v.W8)(30*v.qw);function u(A,E){return+E?m(A,E):l(A)}function l(A){return(0,r.s)({point:function(E,y){E=A(E,y),this.stream.point(E[0],E[1])}})}function m(A,E){function y(S,w,o,_,b,I,D,N,k,z,F,O,B,W){var ee=D-S,ne=N-w,Q=ee*ee+ne*ne;if(Q>4*E&&B--){var le=_+z,Z=b+F,Y=I+O,re=(0,v._I)(le*le+Z*Z+Y*Y),X=(0,v.qR)(Y/=re),q=(0,v.a2)((0,v.a2)(Y)-1)<v.Gg||(0,v.a2)(o-k)<v.Gg?(o+k)/2:(0,v.WE)(Z,le),se=A(q,X),$=se[0],j=se[1],ue=$-S,ae=j-w,ce=ne*ue-ee*ae;(ce*ce/Q>E||(0,v.a2)((ee*ue+ne*ae)/Q-.5)>.3||_*z+b*F+I*O<f)&&(y(S,w,o,_,b,I,$,j,q,le/=re,Z/=re,Y,B,W),W.point($,j),y($,j,q,le,Z,Y,D,N,k,z,F,O,B,W))}}return function(S){var w,o,_,b,I,D,N,k,z,F,O,B,W={point:ee,lineStart:ne,lineEnd:le,polygonStart:function(){S.polygonStart(),W.lineStart=Z},polygonEnd:function(){S.polygonEnd(),W.lineStart=ne}};function ee(X,q){X=A(X,q),S.point(X[0],X[1])}function ne(){k=NaN,W.point=Q,S.lineStart()}function Q(X,q){var se=(0,s.ux)([X,q]),$=A(X,q);y(k,z,N,F,O,B,k=$[0],z=$[1],N=X,F=se[0],O=se[1],B=se[2],a,S),S.point(k,z)}function le(){W.point=ee,S.lineEnd()}function Z(){ne(),W.point=Y,W.lineEnd=re}function Y(X,q){Q(w=X,q),o=k,_=z,b=F,I=O,D=B,W.point=Q}function re(){y(k,z,N,F,O,B,o,_,w,b,I,D,a,S),W.lineEnd=le,le()}return W}}var h=(0,r.s)({point:function(A,E){this.stream.point(A*v.qw,E*v.qw)}});function M(A){return(0,r.s)({point:function(E,y){var S=A(E,y);return this.stream.point(S[0],S[1])}})}function c(A,E,y,S,w){function o(_,b){return _*=S,b*=w,[E+A*_,y-A*b]}return o.invert=function(_,b){return[(_-E)/A*S,(y-b)/A*w]},o}function i(A,E,y,S,w,o){var _=(0,v.W8)(o),b=(0,v.g$)(o),I=_*A,D=b*A,N=_/A,k=b/A,z=(b*y-_*E)/A,F=(b*E+_*y)/A;function O(B,W){return B*=S,W*=w,[I*B-D*W+E,y-D*B-I*W]}return O.invert=function(B,W){return[S*(N*B-k*W+z),w*(F-k*B-N*W)]},O}function d(A){return x(function(){return A})()}function x(A){var E,y=150,S=480,w=250,o=0,_=0,b=0,I=0,D=0,N,k=0,z=1,F=1,O=null,B=p.c,W=null,ee,ne,Q,le=T.c,Z=.5,Y,re,X,q,se;function $(ce){return X(ce[0]*v.qw,ce[1]*v.qw)}function j(ce){return ce=X.invert(ce[0],ce[1]),ce&&[ce[0]*v.oh,ce[1]*v.oh]}$.stream=function(ce){return q&&se===ce?q:q=h(M(N)(B(Y(le(se=ce)))))},$.preclip=function(ce){return arguments.length?(B=ce,O=void 0,ae()):B},$.postclip=function(ce){return arguments.length?(le=ce,W=ee=ne=Q=null,ae()):le},$.clipAngle=function(ce){return arguments.length?(B=+ce?(0,L.c)(O=ce*v.qw):(O=null,p.c),ae()):O*v.oh},$.clipExtent=function(ce){return arguments.length?(le=ce==null?(W=ee=ne=Q=null,T.c):(0,n.c)(W=+ce[0][0],ee=+ce[0][1],ne=+ce[1][0],Q=+ce[1][1]),ae()):W==null?null:[[W,ee],[ne,Q]]},$.scale=function(ce){return arguments.length?(y=+ce,ue()):y},$.translate=function(ce){return arguments.length?(S=+ce[0],w=+ce[1],ue()):[S,w]},$.center=function(ce){return arguments.length?(o=ce[0]%360*v.qw,_=ce[1]%360*v.qw,ue()):[o*v.oh,_*v.oh]},$.rotate=function(ce){return arguments.length?(b=ce[0]%360*v.qw,I=ce[1]%360*v.qw,D=ce.length>2?ce[2]%360*v.qw:0,ue()):[b*v.oh,I*v.oh,D*v.oh]},$.angle=function(ce){return arguments.length?(k=ce%360*v.qw,ue()):k*v.oh},$.reflectX=function(ce){return arguments.length?(z=ce?-1:1,ue()):z<0},$.reflectY=function(ce){return arguments.length?(F=ce?-1:1,ue()):F<0},$.precision=function(ce){return arguments.length?(Y=u(re,Z=ce*ce),ae()):(0,v._I)(Z)},$.fitExtent=function(ce,ye){return(0,t.QX)($,ce,ye)},$.fitSize=function(ce,ye){return(0,t.UV)($,ce,ye)},$.fitWidth=function(ce,ye){return(0,t.Qx)($,ce,ye)},$.fitHeight=function(ce,ye){return(0,t.OW)($,ce,ye)};function ue(){var ce=i(y,0,0,z,F,k).apply(null,E(o,_)),ye=(k?i:c)(y,S-ce[0],w-ce[1],z,F,k);return N=(0,g.O)(b,I,D),re=(0,C.c)(E,ye),X=(0,C.c)(N,re),Y=u(re,Z),ae()}function ae(){return q=se=null,$}return function(){return E=A.apply(this,arguments),$.invert=E.invert&&j,ue()}}},47984:function(H,U,e){e.d(U,{c:function(){return C},g:function(){return n}});var p=e(87952),L=e(64528);function n(T,v){var g=v*v,r=g*g;return[T*(.8707-.131979*g+r*(-.013791+r*(.003971*g-.001529*r))),v*(1.007226+g*(.015085+r*(-.044475+.028874*g-.005916*r)))]}n.invert=function(T,v){var g=v,r=25,t;do{var s=g*g,a=s*s;g-=t=(g*(1.007226+s*(.015085+a*(-.044475+.028874*s-.005916*a)))-v)/(1.007226+s*(.045255+a*(-.311325+.259866*s-.06507600000000001*a)))}while((0,L.a2)(t)>L.Gg&&--r>0);return[T/(.8707+(s=g*g)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),g]};function C(){return(0,p.c)(n).scale(175.295)}},4888:function(H,U,e){e.d(U,{c:function(){return T},t:function(){return C}});var p=e(64528),L=e(62280),n=e(87952);function C(v,g){return[(0,p.W8)(g)*(0,p.g$)(v),(0,p.g$)(g)]}C.invert=(0,L.g)(p.qR);function T(){return(0,n.c)(C).scale(249.5).clipAngle(90+p.Gg)}},92992:function(H,U,e){e.d(U,{O:function(){return C},c:function(){return r}});var p=e(68120),L=e(64528);function n(t,s){return[(0,L.a2)(t)>L.pi?t+Math.round(-t/L.kD)*L.kD:t,s]}n.invert=n;function C(t,s,a){return(t%=L.kD)?s||a?(0,p.c)(v(t),g(s,a)):v(t):s||a?g(s,a):n}function T(t){return function(s,a){return s+=t,[s>L.pi?s-L.kD:s<-L.pi?s+L.kD:s,a]}}function v(t){var s=T(t);return s.invert=T(-t),s}function g(t,s){var a=(0,L.W8)(t),f=(0,L.g$)(t),u=(0,L.W8)(s),l=(0,L.g$)(s);function m(h,M){var c=(0,L.W8)(M),i=(0,L.W8)(h)*c,d=(0,L.g$)(h)*c,x=(0,L.g$)(M),A=x*a+i*f;return[(0,L.WE)(d*u-A*l,i*a-x*f),(0,L.qR)(A*u+d*l)]}return m.invert=function(h,M){var c=(0,L.W8)(M),i=(0,L.W8)(h)*c,d=(0,L.g$)(h)*c,x=(0,L.g$)(M),A=x*u-d*l;return[(0,L.WE)(d*u+x*l,i*a+A*f),(0,L.qR)(A*a-i*f)]},m}function r(t){t=C(t[0]*L.qw,t[1]*L.qw,t.length>2?t[2]*L.qw:0);function s(a){return a=t(a[0]*L.qw,a[1]*L.qw),a[0]*=L.oh,a[1]*=L.oh,a}return s.invert=function(a){return a=t.invert(a[0]*L.qw,a[1]*L.qw),a[0]*=L.oh,a[1]*=L.oh,a},s}},16016:function(H,U,e){e.d(U,{c:function(){return v}});function p(g,r){g&&n.hasOwnProperty(g.type)&&n[g.type](g,r)}var L={Feature:function(g,r){p(g.geometry,r)},FeatureCollection:function(g,r){for(var t=g.features,s=-1,a=t.length;++s<a;)p(t[s].geometry,r)}},n={Sphere:function(g,r){r.sphere()},Point:function(g,r){g=g.coordinates,r.point(g[0],g[1],g[2])},MultiPoint:function(g,r){for(var t=g.coordinates,s=-1,a=t.length;++s<a;)g=t[s],r.point(g[0],g[1],g[2])},LineString:function(g,r){C(g.coordinates,r,0)},MultiLineString:function(g,r){for(var t=g.coordinates,s=-1,a=t.length;++s<a;)C(t[s],r,0)},Polygon:function(g,r){T(g.coordinates,r)},MultiPolygon:function(g,r){for(var t=g.coordinates,s=-1,a=t.length;++s<a;)T(t[s],r)},GeometryCollection:function(g,r){for(var t=g.geometries,s=-1,a=t.length;++s<a;)p(t[s],r)}};function C(g,r,t){var s=-1,a=g.length-t,f;for(r.lineStart();++s<a;)f=g[s],r.point(f[0],f[1],f[2]);r.lineEnd()}function T(g,r){var t=-1,s=g.length;for(r.polygonStart();++t<s;)C(g[t],r,1);r.polygonEnd()}function v(g,r){g&&L.hasOwnProperty(g.type)?L[g.type](g,r):p(g,r)}},15196:function(H,U,e){e.d(U,{c:function(){return p},s:function(){return L}});function p(C){return{stream:L(C)}}function L(C){return function(T){var v=new n;for(var g in C)v[g]=C[g];return v.stream=T,v}}function n(){}n.prototype={constructor:n,point:function(C,T){this.stream.point(C,T)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(H,U,e){e.r(U),e.d(U,{cluster:function(){return r},hierarchy:function(){return A},pack:function(){return j},packEnclose:function(){return I},packSiblings:function(){return Y},partition:function(){return Ae},stratify:function(){return He},tree:function(){return pt},treemap:function(){return Oe},treemapBinary:function(){return Ze},treemapDice:function(){return Ce},treemapResquarify:function(){return Ye},treemapSlice:function(){return mt},treemapSliceDice:function(){return Je},treemapSquarify:function(){return at}});function p(ke,be){return ke.parent===be.parent?1:2}function L(ke){return ke.reduce(n,0)/ke.length}function n(ke,be){return ke+be.x}function C(ke){return 1+ke.reduce(T,0)}function T(ke,be){return Math.max(ke,be.y)}function v(ke){for(var be;be=ke.children;)ke=be[0];return ke}function g(ke){for(var be;be=ke.children;)ke=be[be.length-1];return ke}function r(){var ke=p,be=1,me=1,_e=!1;function Ee(Be){var je,nt=0;Be.eachAfter(function(St){var Ft=St.children;Ft?(St.x=L(Ft),St.y=C(Ft)):(St.x=je?nt+=ke(St,je):0,St.y=0,je=St)});var dt=v(Be),xt=g(Be),Kt=dt.x-ke(dt,xt)/2,Jt=xt.x+ke(xt,dt)/2;return Be.eachAfter(_e?function(St){St.x=(St.x-Be.x)*be,St.y=(Be.y-St.y)*me}:function(St){St.x=(St.x-Kt)/(Jt-Kt)*be,St.y=(1-(Be.y?St.y/Be.y:1))*me})}return Ee.separation=function(Be){return arguments.length?(ke=Be,Ee):ke},Ee.size=function(Be){return arguments.length?(_e=!1,be=+Be[0],me=+Be[1],Ee):_e?null:[be,me]},Ee.nodeSize=function(Be){return arguments.length?(_e=!0,be=+Be[0],me=+Be[1],Ee):_e?[be,me]:null},Ee}function t(ke){var be=0,me=ke.children,_e=me&&me.length;if(!_e)be=1;else for(;--_e>=0;)be+=me[_e].value;ke.value=be}function s(){return this.eachAfter(t)}function a(ke){var be=this,me,_e=[be],Ee,Be,je;do for(me=_e.reverse(),_e=[];be=me.pop();)if(ke(be),Ee=be.children,Ee)for(Be=0,je=Ee.length;Be<je;++Be)_e.push(Ee[Be]);while(_e.length);return this}function f(ke){for(var be=this,me=[be],_e,Ee;be=me.pop();)if(ke(be),_e=be.children,_e)for(Ee=_e.length-1;Ee>=0;--Ee)me.push(_e[Ee]);return this}function u(ke){for(var be=this,me=[be],_e=[],Ee,Be,je;be=me.pop();)if(_e.push(be),Ee=be.children,Ee)for(Be=0,je=Ee.length;Be<je;++Be)me.push(Ee[Be]);for(;be=_e.pop();)ke(be);return this}function l(ke){return this.eachAfter(function(be){for(var me=+ke(be.data)||0,_e=be.children,Ee=_e&&_e.length;--Ee>=0;)me+=_e[Ee].value;be.value=me})}function m(ke){return this.eachBefore(function(be){be.children&&be.children.sort(ke)})}function h(ke){for(var be=this,me=M(be,ke),_e=[be];be!==me;)be=be.parent,_e.push(be);for(var Ee=_e.length;ke!==me;)_e.splice(Ee,0,ke),ke=ke.parent;return _e}function M(ke,be){if(ke===be)return ke;var me=ke.ancestors(),_e=be.ancestors(),Ee=null;for(ke=me.pop(),be=_e.pop();ke===be;)Ee=ke,ke=me.pop(),be=_e.pop();return Ee}function c(){for(var ke=this,be=[ke];ke=ke.parent;)be.push(ke);return be}function i(){var ke=[];return this.each(function(be){ke.push(be)}),ke}function d(){var ke=[];return this.eachBefore(function(be){be.children||ke.push(be)}),ke}function x(){var ke=this,be=[];return ke.each(function(me){me!==ke&&be.push({source:me.parent,target:me})}),be}function A(ke,be){var me=new o(ke),_e=+ke.value&&(me.value=ke.value),Ee,Be=[me],je,nt,dt,xt;for(be==null&&(be=y);Ee=Be.pop();)if(_e&&(Ee.value=+Ee.data.value),(nt=be(Ee.data))&&(xt=nt.length))for(Ee.children=new Array(xt),dt=xt-1;dt>=0;--dt)Be.push(je=Ee.children[dt]=new o(nt[dt])),je.parent=Ee,je.depth=Ee.depth+1;return me.eachBefore(w)}function E(){return A(this).eachBefore(S)}function y(ke){return ke.children}function S(ke){ke.data=ke.data.data}function w(ke){var be=0;do ke.height=be;while((ke=ke.parent)&&ke.height<++be)}function o(ke){this.data=ke,this.depth=this.height=0,this.parent=null}o.prototype=A.prototype={constructor:o,count:s,each:a,eachAfter:u,eachBefore:f,sum:l,sort:m,path:h,ancestors:c,descendants:i,leaves:d,links:x,copy:E};var _=Array.prototype.slice;function b(ke){for(var be=ke.length,me,_e;be;)_e=Math.random()*be--|0,me=ke[be],ke[be]=ke[_e],ke[_e]=me;return ke}function I(ke){for(var be=0,me=(ke=b(_.call(ke))).length,_e=[],Ee,Be;be<me;)Ee=ke[be],Be&&k(Be,Ee)?++be:(Be=F(_e=D(_e,Ee)),be=0);return Be}function D(ke,be){var me,_e;if(z(be,ke))return[be];for(me=0;me<ke.length;++me)if(N(be,ke[me])&&z(B(ke[me],be),ke))return[ke[me],be];for(me=0;me<ke.length-1;++me)for(_e=me+1;_e<ke.length;++_e)if(N(B(ke[me],ke[_e]),be)&&N(B(ke[me],be),ke[_e])&&N(B(ke[_e],be),ke[me])&&z(W(ke[me],ke[_e],be),ke))return[ke[me],ke[_e],be];throw new Error}function N(ke,be){var me=ke.r-be.r,_e=be.x-ke.x,Ee=be.y-ke.y;return me<0||me*me<_e*_e+Ee*Ee}function k(ke,be){var me=ke.r-be.r+1e-6,_e=be.x-ke.x,Ee=be.y-ke.y;return me>0&&me*me>_e*_e+Ee*Ee}function z(ke,be){for(var me=0;me<be.length;++me)if(!k(ke,be[me]))return!1;return!0}function F(ke){switch(ke.length){case 1:return O(ke[0]);case 2:return B(ke[0],ke[1]);case 3:return W(ke[0],ke[1],ke[2])}}function O(ke){return{x:ke.x,y:ke.y,r:ke.r}}function B(ke,be){var me=ke.x,_e=ke.y,Ee=ke.r,Be=be.x,je=be.y,nt=be.r,dt=Be-me,xt=je-_e,Kt=nt-Ee,Jt=Math.sqrt(dt*dt+xt*xt);return{x:(me+Be+dt/Jt*Kt)/2,y:(_e+je+xt/Jt*Kt)/2,r:(Jt+Ee+nt)/2}}function W(ke,be,me){var _e=ke.x,Ee=ke.y,Be=ke.r,je=be.x,nt=be.y,dt=be.r,xt=me.x,Kt=me.y,Jt=me.r,St=_e-je,Ft=_e-xt,rr=Ee-nt,_r=Ee-Kt,Tt=dt-Be,$t=Jt-Be,tr=_e*_e+Ee*Ee-Be*Be,Tr=tr-je*je-nt*nt+dt*dt,cr=tr-xt*xt-Kt*Kt+Jt*Jt,bt=Ft*rr-St*_r,lt=(rr*cr-_r*Tr)/(bt*2)-_e,Mt=(_r*Tt-rr*$t)/bt,_t=(Ft*Tr-St*cr)/(bt*2)-Ee,Ot=(St*$t-Ft*Tt)/bt,It=Mt*Mt+Ot*Ot-1,Wt=2*(Be+lt*Mt+_t*Ot),Gt=lt*lt+_t*_t-Be*Be,er=-(It?(Wt+Math.sqrt(Wt*Wt-4*It*Gt))/(2*It):Gt/Wt);return{x:_e+lt+Mt*er,y:Ee+_t+Ot*er,r:er}}function ee(ke,be,me){var _e=ke.x-be.x,Ee,Be,je=ke.y-be.y,nt,dt,xt=_e*_e+je*je;xt?(Be=be.r+me.r,Be*=Be,dt=ke.r+me.r,dt*=dt,Be>dt?(Ee=(xt+dt-Be)/(2*xt),nt=Math.sqrt(Math.max(0,dt/xt-Ee*Ee)),me.x=ke.x-Ee*_e-nt*je,me.y=ke.y-Ee*je+nt*_e):(Ee=(xt+Be-dt)/(2*xt),nt=Math.sqrt(Math.max(0,Be/xt-Ee*Ee)),me.x=be.x+Ee*_e-nt*je,me.y=be.y+Ee*je+nt*_e)):(me.x=be.x+me.r,me.y=be.y)}function ne(ke,be){var me=ke.r+be.r-1e-6,_e=be.x-ke.x,Ee=be.y-ke.y;return me>0&&me*me>_e*_e+Ee*Ee}function Q(ke){var be=ke._,me=ke.next._,_e=be.r+me.r,Ee=(be.x*me.r+me.x*be.r)/_e,Be=(be.y*me.r+me.y*be.r)/_e;return Ee*Ee+Be*Be}function le(ke){this._=ke,this.next=null,this.previous=null}function Z(ke){if(!(Ee=ke.length))return 0;var be,me,_e,Ee,Be,je,nt,dt,xt,Kt,Jt;if(be=ke[0],be.x=0,be.y=0,!(Ee>1))return be.r;if(me=ke[1],be.x=-me.r,me.x=be.r,me.y=0,!(Ee>2))return be.r+me.r;ee(me,be,_e=ke[2]),be=new le(be),me=new le(me),_e=new le(_e),be.next=_e.previous=me,me.next=be.previous=_e,_e.next=me.previous=be;e:for(nt=3;nt<Ee;++nt){ee(be._,me._,_e=ke[nt]),_e=new le(_e),dt=me.next,xt=be.previous,Kt=me._.r,Jt=be._.r;do if(Kt<=Jt){if(ne(dt._,_e._)){me=dt,be.next=me,me.previous=be,--nt;continue e}Kt+=dt._.r,dt=dt.next}else{if(ne(xt._,_e._)){be=xt,be.next=me,me.previous=be,--nt;continue e}Jt+=xt._.r,xt=xt.previous}while(dt!==xt.next);for(_e.previous=be,_e.next=me,be.next=me.previous=me=_e,Be=Q(be);(_e=_e.next)!==me;)(je=Q(_e))<Be&&(be=_e,Be=je);me=be.next}for(be=[me._],_e=me;(_e=_e.next)!==me;)be.push(_e._);for(_e=I(be),nt=0;nt<Ee;++nt)be=ke[nt],be.x-=_e.x,be.y-=_e.y;return _e.r}function Y(ke){return Z(ke),ke}function re(ke){return ke==null?null:X(ke)}function X(ke){if(typeof ke!="function")throw new Error;return ke}function q(){return 0}function se(ke){return function(){return ke}}function $(ke){return Math.sqrt(ke.value)}function j(){var ke=null,be=1,me=1,_e=q;function Ee(Be){return Be.x=be/2,Be.y=me/2,ke?Be.eachBefore(ue(ke)).eachAfter(ae(_e,.5)).eachBefore(ce(1)):Be.eachBefore(ue($)).eachAfter(ae(q,1)).eachAfter(ae(_e,Be.r/Math.min(be,me))).eachBefore(ce(Math.min(be,me)/(2*Be.r))),Be}return Ee.radius=function(Be){return arguments.length?(ke=re(Be),Ee):ke},Ee.size=function(Be){return arguments.length?(be=+Be[0],me=+Be[1],Ee):[be,me]},Ee.padding=function(Be){return arguments.length?(_e=typeof Be=="function"?Be:se(+Be),Ee):_e},Ee}function ue(ke){return function(be){be.children||(be.r=Math.max(0,+ke(be)||0))}}function ae(ke,be){return function(me){if(_e=me.children){var _e,Ee,Be=_e.length,je=ke(me)*be||0,nt;if(je)for(Ee=0;Ee<Be;++Ee)_e[Ee].r+=je;if(nt=Z(_e),je)for(Ee=0;Ee<Be;++Ee)_e[Ee].r-=je;me.r=nt+je}}}function ce(ke){return function(be){var me=be.parent;be.r*=ke,me&&(be.x=me.x+ke*be.x,be.y=me.y+ke*be.y)}}function ye(ke){ke.x0=Math.round(ke.x0),ke.y0=Math.round(ke.y0),ke.x1=Math.round(ke.x1),ke.y1=Math.round(ke.y1)}function Ce(ke,be,me,_e,Ee){for(var Be=ke.children,je,nt=-1,dt=Be.length,xt=ke.value&&(_e-be)/ke.value;++nt<dt;)je=Be[nt],je.y0=me,je.y1=Ee,je.x0=be,je.x1=be+=je.value*xt}function Ae(){var ke=1,be=1,me=0,_e=!1;function Ee(je){var nt=je.height+1;return je.x0=je.y0=me,je.x1=ke,je.y1=be/nt,je.eachBefore(Be(be,nt)),_e&&je.eachBefore(ye),je}function Be(je,nt){return function(dt){dt.children&&Ce(dt,dt.x0,je*(dt.depth+1)/nt,dt.x1,je*(dt.depth+2)/nt);var xt=dt.x0,Kt=dt.y0,Jt=dt.x1-me,St=dt.y1-me;Jt<xt&&(xt=Jt=(xt+Jt)/2),St<Kt&&(Kt=St=(Kt+St)/2),dt.x0=xt,dt.y0=Kt,dt.x1=Jt,dt.y1=St}}return Ee.round=function(je){return arguments.length?(_e=!!je,Ee):_e},Ee.size=function(je){return arguments.length?(ke=+je[0],be=+je[1],Ee):[ke,be]},Ee.padding=function(je){return arguments.length?(me=+je,Ee):me},Ee}var Ie="$",Te={depth:-1},Le={};function xe(ke){return ke.id}function Re(ke){return ke.parentId}function He(){var ke=xe,be=Re;function me(_e){var Ee,Be,je=_e.length,nt,dt,xt,Kt=new Array(je),Jt,St,Ft={};for(Be=0;Be<je;++Be)Ee=_e[Be],xt=Kt[Be]=new o(Ee),(Jt=ke(Ee,Be,_e))!=null&&(Jt+="")&&(St=Ie+(xt.id=Jt),Ft[St]=St in Ft?Le:xt);for(Be=0;Be<je;++Be)if(xt=Kt[Be],Jt=be(_e[Be],Be,_e),Jt==null||!(Jt+="")){if(nt)throw new Error("multiple roots");nt=xt}else{if(dt=Ft[Ie+Jt],!dt)throw new Error("missing: "+Jt);if(dt===Le)throw new Error("ambiguous: "+Jt);dt.children?dt.children.push(xt):dt.children=[xt],xt.parent=dt}if(!nt)throw new Error("no root");if(nt.parent=Te,nt.eachBefore(function(rr){rr.depth=rr.parent.depth+1,--je}).eachBefore(w),nt.parent=null,je>0)throw new Error("cycle");return nt}return me.id=function(_e){return arguments.length?(ke=X(_e),me):ke},me.parentId=function(_e){return arguments.length?(be=X(_e),me):be},me}function Ve(ke,be){return ke.parent===be.parent?1:2}function Fe(ke){var be=ke.children;return be?be[0]:ke.t}function We(ke){var be=ke.children;return be?be[be.length-1]:ke.t}function ut(ke,be,me){var _e=me/(be.i-ke.i);be.c-=_e,be.s+=me,ke.c+=_e,be.z+=me,be.m+=me}function ht(ke){for(var be=0,me=0,_e=ke.children,Ee=_e.length,Be;--Ee>=0;)Be=_e[Ee],Be.z+=be,Be.m+=be,be+=Be.s+(me+=Be.c)}function rt(ke,be,me){return ke.a.parent===be.parent?ke.a:me}function tt(ke,be){this._=ke,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=be}tt.prototype=Object.create(o.prototype);function vt(ke){for(var be=new tt(ke,0),me,_e=[be],Ee,Be,je,nt;me=_e.pop();)if(Be=me._.children)for(me.children=new Array(nt=Be.length),je=nt-1;je>=0;--je)_e.push(Ee=me.children[je]=new tt(Be[je],je)),Ee.parent=me;return(be.parent=new tt(null,0)).children=[be],be}function pt(){var ke=Ve,be=1,me=1,_e=null;function Ee(xt){var Kt=vt(xt);if(Kt.eachAfter(Be),Kt.parent.m=-Kt.z,Kt.eachBefore(je),_e)xt.eachBefore(dt);else{var Jt=xt,St=xt,Ft=xt;xt.eachBefore(function(tr){tr.x<Jt.x&&(Jt=tr),tr.x>St.x&&(St=tr),tr.depth>Ft.depth&&(Ft=tr)});var rr=Jt===St?1:ke(Jt,St)/2,_r=rr-Jt.x,Tt=be/(St.x+rr+_r),$t=me/(Ft.depth||1);xt.eachBefore(function(tr){tr.x=(tr.x+_r)*Tt,tr.y=tr.depth*$t})}return xt}function Be(xt){var Kt=xt.children,Jt=xt.parent.children,St=xt.i?Jt[xt.i-1]:null;if(Kt){ht(xt);var Ft=(Kt[0].z+Kt[Kt.length-1].z)/2;St?(xt.z=St.z+ke(xt._,St._),xt.m=xt.z-Ft):xt.z=Ft}else St&&(xt.z=St.z+ke(xt._,St._));xt.parent.A=nt(xt,St,xt.parent.A||Jt[0])}function je(xt){xt._.x=xt.z+xt.parent.m,xt.m+=xt.parent.m}function nt(xt,Kt,Jt){if(Kt){for(var St=xt,Ft=xt,rr=Kt,_r=St.parent.children[0],Tt=St.m,$t=Ft.m,tr=rr.m,Tr=_r.m,cr;rr=We(rr),St=Fe(St),rr&&St;)_r=Fe(_r),Ft=We(Ft),Ft.a=xt,cr=rr.z+tr-St.z-Tt+ke(rr._,St._),cr>0&&(ut(rt(rr,xt,Jt),xt,cr),Tt+=cr,$t+=cr),tr+=rr.m,Tt+=St.m,Tr+=_r.m,$t+=Ft.m;rr&&!We(Ft)&&(Ft.t=rr,Ft.m+=tr-$t),St&&!Fe(_r)&&(_r.t=St,_r.m+=Tt-Tr,Jt=xt)}return Jt}function dt(xt){xt.x*=be,xt.y=xt.depth*me}return Ee.separation=function(xt){return arguments.length?(ke=xt,Ee):ke},Ee.size=function(xt){return arguments.length?(_e=!1,be=+xt[0],me=+xt[1],Ee):_e?null:[be,me]},Ee.nodeSize=function(xt){return arguments.length?(_e=!0,be=+xt[0],me=+xt[1],Ee):_e?[be,me]:null},Ee}function mt(ke,be,me,_e,Ee){for(var Be=ke.children,je,nt=-1,dt=Be.length,xt=ke.value&&(Ee-me)/ke.value;++nt<dt;)je=Be[nt],je.x0=be,je.x1=_e,je.y0=me,je.y1=me+=je.value*xt}var wt=(1+Math.sqrt(5))/2;function Lt(ke,be,me,_e,Ee,Be){for(var je=[],nt=be.children,dt,xt,Kt=0,Jt=0,St=nt.length,Ft,rr,_r=be.value,Tt,$t,tr,Tr,cr,bt,lt;Kt<St;){Ft=Ee-me,rr=Be-_e;do Tt=nt[Jt++].value;while(!Tt&&Jt<St);for($t=tr=Tt,bt=Math.max(rr/Ft,Ft/rr)/(_r*ke),lt=Tt*Tt*bt,cr=Math.max(tr/lt,lt/$t);Jt<St;++Jt){if(Tt+=xt=nt[Jt].value,xt<$t&&($t=xt),xt>tr&&(tr=xt),lt=Tt*Tt*bt,Tr=Math.max(tr/lt,lt/$t),Tr>cr){Tt-=xt;break}cr=Tr}je.push(dt={value:Tt,dice:Ft<rr,children:nt.slice(Kt,Jt)}),dt.dice?Ce(dt,me,_e,Ee,_r?_e+=rr*Tt/_r:Be):mt(dt,me,_e,_r?me+=Ft*Tt/_r:Ee,Be),_r-=Tt,Kt=Jt}return je}var at=function ke(be){function me(_e,Ee,Be,je,nt){Lt(be,_e,Ee,Be,je,nt)}return me.ratio=function(_e){return ke((_e=+_e)>1?_e:1)},me}(wt);function Oe(){var ke=at,be=!1,me=1,_e=1,Ee=[0],Be=q,je=q,nt=q,dt=q,xt=q;function Kt(St){return St.x0=St.y0=0,St.x1=me,St.y1=_e,St.eachBefore(Jt),Ee=[0],be&&St.eachBefore(ye),St}function Jt(St){var Ft=Ee[St.depth],rr=St.x0+Ft,_r=St.y0+Ft,Tt=St.x1-Ft,$t=St.y1-Ft;Tt<rr&&(rr=Tt=(rr+Tt)/2),$t<_r&&(_r=$t=(_r+$t)/2),St.x0=rr,St.y0=_r,St.x1=Tt,St.y1=$t,St.children&&(Ft=Ee[St.depth+1]=Be(St)/2,rr+=xt(St)-Ft,_r+=je(St)-Ft,Tt-=nt(St)-Ft,$t-=dt(St)-Ft,Tt<rr&&(rr=Tt=(rr+Tt)/2),$t<_r&&(_r=$t=(_r+$t)/2),ke(St,rr,_r,Tt,$t))}return Kt.round=function(St){return arguments.length?(be=!!St,Kt):be},Kt.size=function(St){return arguments.length?(me=+St[0],_e=+St[1],Kt):[me,_e]},Kt.tile=function(St){return arguments.length?(ke=X(St),Kt):ke},Kt.padding=function(St){return arguments.length?Kt.paddingInner(St).paddingOuter(St):Kt.paddingInner()},Kt.paddingInner=function(St){return arguments.length?(Be=typeof St=="function"?St:se(+St),Kt):Be},Kt.paddingOuter=function(St){return arguments.length?Kt.paddingTop(St).paddingRight(St).paddingBottom(St).paddingLeft(St):Kt.paddingTop()},Kt.paddingTop=function(St){return arguments.length?(je=typeof St=="function"?St:se(+St),Kt):je},Kt.paddingRight=function(St){return arguments.length?(nt=typeof St=="function"?St:se(+St),Kt):nt},Kt.paddingBottom=function(St){return arguments.length?(dt=typeof St=="function"?St:se(+St),Kt):dt},Kt.paddingLeft=function(St){return arguments.length?(xt=typeof St=="function"?St:se(+St),Kt):xt},Kt}function Ze(ke,be,me,_e,Ee){var Be=ke.children,je,nt=Be.length,dt,xt=new Array(nt+1);for(xt[0]=dt=je=0;je<nt;++je)xt[je+1]=dt+=Be[je].value;Kt(0,nt,ke.value,be,me,_e,Ee);function Kt(Jt,St,Ft,rr,_r,Tt,$t){if(Jt>=St-1){var tr=Be[Jt];tr.x0=rr,tr.y0=_r,tr.x1=Tt,tr.y1=$t;return}for(var Tr=xt[Jt],cr=Ft/2+Tr,bt=Jt+1,lt=St-1;bt<lt;){var Mt=bt+lt>>>1;xt[Mt]<cr?bt=Mt+1:lt=Mt}cr-xt[bt-1]<xt[bt]-cr&&Jt+1<bt&&--bt;var _t=xt[bt]-Tr,Ot=Ft-_t;if(Tt-rr>$t-_r){var It=(rr*Ot+Tt*_t)/Ft;Kt(Jt,bt,_t,rr,_r,It,$t),Kt(bt,St,Ot,It,_r,Tt,$t)}else{var Wt=(_r*Ot+$t*_t)/Ft;Kt(Jt,bt,_t,rr,_r,Tt,Wt),Kt(bt,St,Ot,rr,Wt,Tt,$t)}}}function Je(ke,be,me,_e,Ee){(ke.depth&1?mt:Ce)(ke,be,me,_e,Ee)}var Ye=function ke(be){function me(_e,Ee,Be,je,nt){if((dt=_e._squarify)&&dt.ratio===be)for(var dt,xt,Kt,Jt,St=-1,Ft,rr=dt.length,_r=_e.value;++St<rr;){for(xt=dt[St],Kt=xt.children,Jt=xt.value=0,Ft=Kt.length;Jt<Ft;++Jt)xt.value+=Kt[Jt].value;xt.dice?Ce(xt,Ee,Be,je,Be+=(nt-Be)*xt.value/_r):mt(xt,Ee,Be,Ee+=(je-Ee)*xt.value/_r,nt),_r-=xt.value}else _e._squarify=dt=Lt(be,_e,Ee,Be,je,nt),dt.ratio=be}return me.ratio=function(_e){return ke((_e=+_e)>1?_e:1)},me}(wt)},10132:function(H,U,e){e.d(U,{ak:function(){return h}});var p=Math.PI,L=2*p,n=1e-6,C=L-n;function T(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new T}T.prototype=v.prototype={constructor:T,moveTo:function(M,c){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(M,c){this._+="L"+(this._x1=+M)+","+(this._y1=+c)},quadraticCurveTo:function(M,c,i,d){this._+="Q"+ +M+","+ +c+","+(this._x1=+i)+","+(this._y1=+d)},bezierCurveTo:function(M,c,i,d,x,A){this._+="C"+ +M+","+ +c+","+ +i+","+ +d+","+(this._x1=+x)+","+(this._y1=+A)},arcTo:function(M,c,i,d,x){M=+M,c=+c,i=+i,d=+d,x=+x;var A=this._x1,E=this._y1,y=i-M,S=d-c,w=A-M,o=E-c,_=w*w+o*o;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=M)+","+(this._y1=c);else if(_>n)if(!(Math.abs(o*y-S*w)>n)||!x)this._+="L"+(this._x1=M)+","+(this._y1=c);else{var b=i-A,I=d-E,D=y*y+S*S,N=b*b+I*I,k=Math.sqrt(D),z=Math.sqrt(_),F=x*Math.tan((p-Math.acos((D+_-N)/(2*k*z)))/2),O=F/z,B=F/k;Math.abs(O-1)>n&&(this._+="L"+(M+O*w)+","+(c+O*o)),this._+="A"+x+","+x+",0,0,"+ +(o*b>w*I)+","+(this._x1=M+B*y)+","+(this._y1=c+B*S)}},arc:function(M,c,i,d,x,A){M=+M,c=+c,i=+i,A=!!A;var E=i*Math.cos(d),y=i*Math.sin(d),S=M+E,w=c+y,o=1^A,_=A?d-x:x-d;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+S+","+w:(Math.abs(this._x1-S)>n||Math.abs(this._y1-w)>n)&&(this._+="L"+S+","+w),i&&(_<0&&(_=_%L+L),_>C?this._+="A"+i+","+i+",0,1,"+o+","+(M-E)+","+(c-y)+"A"+i+","+i+",0,1,"+o+","+(this._x1=S)+","+(this._y1=w):_>n&&(this._+="A"+i+","+i+",0,"+ +(_>=p)+","+o+","+(this._x1=M+i*Math.cos(x))+","+(this._y1=c+i*Math.sin(x))))},rect:function(M,c,i,d){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+c)+"h"+ +i+"v"+ +d+"h"+-i+"Z"},toString:function(){return this._}};var g=v,r=Array.prototype.slice;function t(M){return function(){return M}}function s(M){return M[0]}function a(M){return M[1]}function f(M){return M.source}function u(M){return M.target}function l(M){var c=f,i=u,d=s,x=a,A=null;function E(){var y,S=r.call(arguments),w=c.apply(this,S),o=i.apply(this,S);if(A||(A=y=g()),M(A,+d.apply(this,(S[0]=w,S)),+x.apply(this,S),+d.apply(this,(S[0]=o,S)),+x.apply(this,S)),y)return A=null,y+""||null}return E.source=function(y){return arguments.length?(c=y,E):c},E.target=function(y){return arguments.length?(i=y,E):i},E.x=function(y){return arguments.length?(d=typeof y=="function"?y:t(+y),E):d},E.y=function(y){return arguments.length?(x=typeof y=="function"?y:t(+y),E):x},E.context=function(y){return arguments.length?(A=y??null,E):A},E}function m(M,c,i,d,x){M.moveTo(c,i),M.bezierCurveTo(c=(c+d)/2,i,c,x,d,x)}function h(){return l(m)}},94336:function(H,U,e){e.d(U,{Yn:function(){return Ze},m_:function(){return s},E9:function(){return Je}});var p=e(8208),L=e(58931),n=e(46192),C=e(68936),T=e(32171),v=e(53528);function g(ke){if(0<=ke.y&&ke.y<100){var be=new Date(-1,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L);return be.setFullYear(ke.y),be}return new Date(ke.y,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L)}function r(ke){if(0<=ke.y&&ke.y<100){var be=new Date(Date.UTC(-1,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L));return be.setUTCFullYear(ke.y),be}return new Date(Date.UTC(ke.y,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L))}function t(ke,be,me){return{y:ke,m:be,d:me,H:0,M:0,S:0,L:0}}function s(ke){var be=ke.dateTime,me=ke.date,_e=ke.time,Ee=ke.periods,Be=ke.days,je=ke.shortDays,nt=ke.months,dt=ke.shortMonths,xt=M(Ee),Kt=c(Ee),Jt=M(Be),St=c(Be),Ft=M(je),rr=c(je),_r=M(nt),Tt=c(nt),$t=M(dt),tr=c(dt),Tr={a:Xe,A:Ge,b:Ut,B:Nt,c:null,d:ee,e:ee,f:Y,H:ne,I:Q,j:le,L:Z,m:re,M:X,p:Qt,q:ar,Q:Lt,s:at,S:q,u:se,U:$,V:j,w:ue,W:ae,x:null,X:null,y:ce,Y:ye,Z:Ce,"%":wt},cr={a:hr,A:or,b:Vt,B:yr,c:null,d:Ae,e:Ae,f:Re,H:Ie,I:Te,j:Le,L:xe,m:He,M:Ve,p:wr,q:Ar,Q:Lt,s:at,S:Fe,u:We,U:ut,V:ht,w:rt,W:tt,x:null,X:null,y:vt,Y:pt,Z:mt,"%":wt},bt={a:It,A:Wt,b:Gt,B:er,c:dr,d:b,e:b,f:F,H:D,I:D,j:I,L:z,m:_,M:N,p:Ot,q:o,Q:B,s:W,S:k,u:d,U:x,V:A,w:i,W:E,x:pr,X:mr,y:S,Y:y,Z:w,"%":O};Tr.x=lt(me,Tr),Tr.X=lt(_e,Tr),Tr.c=lt(be,Tr),cr.x=lt(me,cr),cr.X=lt(_e,cr),cr.c=lt(be,cr);function lt(gr,jr){return function(Fr){var Nr=[],wn=-1,hn=0,Un=gr.length,Fn,Pr,Or;for(Fr instanceof Date||(Fr=new Date(+Fr));++wn<Un;)gr.charCodeAt(wn)===37&&(Nr.push(gr.slice(hn,wn)),(Pr=a[Fn=gr.charAt(++wn)])!=null?Fn=gr.charAt(++wn):Pr=Fn==="e"?" ":"0",(Or=jr[Fn])&&(Fn=Or(Fr,Pr)),Nr.push(Fn),hn=wn+1);return Nr.push(gr.slice(hn,wn)),Nr.join("")}}function Mt(gr,jr){return function(Fr){var Nr=t(1900,void 0,1),wn=_t(Nr,gr,Fr+="",0),hn,Un;if(wn!=Fr.length)return null;if("Q"in Nr)return new Date(Nr.Q);if("s"in Nr)return new Date(Nr.s*1e3+("L"in Nr?Nr.L:0));if(jr&&!("Z"in Nr)&&(Nr.Z=0),"p"in Nr&&(Nr.H=Nr.H%12+Nr.p*12),Nr.m===void 0&&(Nr.m="q"in Nr?Nr.q:0),"V"in Nr){if(Nr.V<1||Nr.V>53)return null;"w"in Nr||(Nr.w=1),"Z"in Nr?(hn=r(t(Nr.y,0,1)),Un=hn.getUTCDay(),hn=Un>4||Un===0?p.ot.ceil(hn):(0,p.ot)(hn),hn=L.c.offset(hn,(Nr.V-1)*7),Nr.y=hn.getUTCFullYear(),Nr.m=hn.getUTCMonth(),Nr.d=hn.getUTCDate()+(Nr.w+6)%7):(hn=g(t(Nr.y,0,1)),Un=hn.getDay(),hn=Un>4||Un===0?n.qT.ceil(hn):(0,n.qT)(hn),hn=C.c.offset(hn,(Nr.V-1)*7),Nr.y=hn.getFullYear(),Nr.m=hn.getMonth(),Nr.d=hn.getDate()+(Nr.w+6)%7)}else("W"in Nr||"U"in Nr)&&("w"in Nr||(Nr.w="u"in Nr?Nr.u%7:"W"in Nr?1:0),Un="Z"in Nr?r(t(Nr.y,0,1)).getUTCDay():g(t(Nr.y,0,1)).getDay(),Nr.m=0,Nr.d="W"in Nr?(Nr.w+6)%7+Nr.W*7-(Un+5)%7:Nr.w+Nr.U*7-(Un+6)%7);return"Z"in Nr?(Nr.H+=Nr.Z/100|0,Nr.M+=Nr.Z%100,r(Nr)):g(Nr)}}function _t(gr,jr,Fr,Nr){for(var wn=0,hn=jr.length,Un=Fr.length,Fn,Pr;wn<hn;){if(Nr>=Un)return-1;if(Fn=jr.charCodeAt(wn++),Fn===37){if(Fn=jr.charAt(wn++),Pr=bt[Fn in a?jr.charAt(wn++):Fn],!Pr||(Nr=Pr(gr,Fr,Nr))<0)return-1}else if(Fn!=Fr.charCodeAt(Nr++))return-1}return Nr}function Ot(gr,jr,Fr){var Nr=xt.exec(jr.slice(Fr));return Nr?(gr.p=Kt[Nr[0].toLowerCase()],Fr+Nr[0].length):-1}function It(gr,jr,Fr){var Nr=Ft.exec(jr.slice(Fr));return Nr?(gr.w=rr[Nr[0].toLowerCase()],Fr+Nr[0].length):-1}function Wt(gr,jr,Fr){var Nr=Jt.exec(jr.slice(Fr));return Nr?(gr.w=St[Nr[0].toLowerCase()],Fr+Nr[0].length):-1}function Gt(gr,jr,Fr){var Nr=$t.exec(jr.slice(Fr));return Nr?(gr.m=tr[Nr[0].toLowerCase()],Fr+Nr[0].length):-1}function er(gr,jr,Fr){var Nr=_r.exec(jr.slice(Fr));return Nr?(gr.m=Tt[Nr[0].toLowerCase()],Fr+Nr[0].length):-1}function dr(gr,jr,Fr){return _t(gr,be,jr,Fr)}function pr(gr,jr,Fr){return _t(gr,me,jr,Fr)}function mr(gr,jr,Fr){return _t(gr,_e,jr,Fr)}function Xe(gr){return je[gr.getDay()]}function Ge(gr){return Be[gr.getDay()]}function Ut(gr){return dt[gr.getMonth()]}function Nt(gr){return nt[gr.getMonth()]}function Qt(gr){return Ee[+(gr.getHours()>=12)]}function ar(gr){return 1+~~(gr.getMonth()/3)}function hr(gr){return je[gr.getUTCDay()]}function or(gr){return Be[gr.getUTCDay()]}function Vt(gr){return dt[gr.getUTCMonth()]}function yr(gr){return nt[gr.getUTCMonth()]}function wr(gr){return Ee[+(gr.getUTCHours()>=12)]}function Ar(gr){return 1+~~(gr.getUTCMonth()/3)}return{format:function(gr){var jr=lt(gr+="",Tr);return jr.toString=function(){return gr},jr},parse:function(gr){var jr=Mt(gr+="",!1);return jr.toString=function(){return gr},jr},utcFormat:function(gr){var jr=lt(gr+="",cr);return jr.toString=function(){return gr},jr},utcParse:function(gr){var jr=Mt(gr+="",!0);return jr.toString=function(){return gr},jr}}}var a={"-":"",_:" ",0:"0"},f=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function m(ke,be,me){var _e=ke<0?"-":"",Ee=(_e?-ke:ke)+"",Be=Ee.length;return _e+(Be<me?new Array(me-Be+1).join(be)+Ee:Ee)}function h(ke){return ke.replace(l,"\\$&")}function M(ke){return new RegExp("^(?:"+ke.map(h).join("|")+")","i")}function c(ke){for(var be={},me=-1,_e=ke.length;++me<_e;)be[ke[me].toLowerCase()]=me;return be}function i(ke,be,me){var _e=f.exec(be.slice(me,me+1));return _e?(ke.w=+_e[0],me+_e[0].length):-1}function d(ke,be,me){var _e=f.exec(be.slice(me,me+1));return _e?(ke.u=+_e[0],me+_e[0].length):-1}function x(ke,be,me){var _e=f.exec(be.slice(me,me+2));return _e?(ke.U=+_e[0],me+_e[0].length):-1}function A(ke,be,me){var _e=f.exec(be.slice(me,me+2));return _e?(ke.V=+_e[0],me+_e[0].length):-1}function E(ke,be,me){var _e=f.exec(be.slice(me,me+2));return _e?(ke.W=+_e[0],me+_e[0].length):-1}function y(ke,be,me){var _e=f.exec(be.slice(me,me+4));return _e?(ke.y=+_e[0],me+_e[0].length):-1}function S(ke,be,me){var _e=f.exec(be.slice(me,me+2));return _e?(ke.y=+_e[0]+(+_e[0]>68?1900:2e3),me+_e[0].length):-1}function w(ke,be,me){var _e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(be.slice(me,me+6));return _e?(ke.Z=_e[1]?0:-(_e[2]+(_e[3]||"00")),me+_e[0].length):-1}function o(ke,be,me){var _e=f.exec(be.slice(me,me+1));return _e?(ke.q=_e[0]*3-3,me+_e[0].length):-1}function _(ke,be,me){var _e=f.exec(be.slice(me,me+2));return _e?(ke.m=_e[0]-1,me+_e[0].length):-1}function b(ke,be,me){var _e=f.exec(be.slice(me,me+2));return _e?(ke.d=+_e[0],me+_e[0].length):-1}function I(ke,be,me){var _e=f.exec(be.slice(me,me+3));return _e?(ke.m=0,ke.d=+_e[0],me+_e[0].length):-1}function D(ke,be,me){var _e=f.exec(be.slice(me,me+2));return _e?(ke.H=+_e[0],me+_e[0].length):-1}function N(ke,be,me){var _e=f.exec(be.slice(me,me+2));return _e?(ke.M=+_e[0],me+_e[0].length):-1}function k(ke,be,me){var _e=f.exec(be.slice(me,me+2));return _e?(ke.S=+_e[0],me+_e[0].length):-1}function z(ke,be,me){var _e=f.exec(be.slice(me,me+3));return _e?(ke.L=+_e[0],me+_e[0].length):-1}function F(ke,be,me){var _e=f.exec(be.slice(me,me+6));return _e?(ke.L=Math.floor(_e[0]/1e3),me+_e[0].length):-1}function O(ke,be,me){var _e=u.exec(be.slice(me,me+1));return _e?me+_e[0].length:-1}function B(ke,be,me){var _e=f.exec(be.slice(me));return _e?(ke.Q=+_e[0],me+_e[0].length):-1}function W(ke,be,me){var _e=f.exec(be.slice(me));return _e?(ke.s=+_e[0],me+_e[0].length):-1}function ee(ke,be){return m(ke.getDate(),be,2)}function ne(ke,be){return m(ke.getHours(),be,2)}function Q(ke,be){return m(ke.getHours()%12||12,be,2)}function le(ke,be){return m(1+C.c.count((0,T.c)(ke),ke),be,3)}function Z(ke,be){return m(ke.getMilliseconds(),be,3)}function Y(ke,be){return Z(ke,be)+"000"}function re(ke,be){return m(ke.getMonth()+1,be,2)}function X(ke,be){return m(ke.getMinutes(),be,2)}function q(ke,be){return m(ke.getSeconds(),be,2)}function se(ke){var be=ke.getDay();return be===0?7:be}function $(ke,be){return m(n.uU.count((0,T.c)(ke)-1,ke),be,2)}function j(ke,be){var me=ke.getDay();return ke=me>=4||me===0?(0,n.kD)(ke):n.kD.ceil(ke),m(n.kD.count((0,T.c)(ke),ke)+((0,T.c)(ke).getDay()===4),be,2)}function ue(ke){return ke.getDay()}function ae(ke,be){return m(n.qT.count((0,T.c)(ke)-1,ke),be,2)}function ce(ke,be){return m(ke.getFullYear()%100,be,2)}function ye(ke,be){return m(ke.getFullYear()%1e4,be,4)}function Ce(ke){var be=ke.getTimezoneOffset();return(be>0?"-":(be*=-1,"+"))+m(be/60|0,"0",2)+m(be%60,"0",2)}function Ae(ke,be){return m(ke.getUTCDate(),be,2)}function Ie(ke,be){return m(ke.getUTCHours(),be,2)}function Te(ke,be){return m(ke.getUTCHours()%12||12,be,2)}function Le(ke,be){return m(1+L.c.count((0,v.c)(ke),ke),be,3)}function xe(ke,be){return m(ke.getUTCMilliseconds(),be,3)}function Re(ke,be){return xe(ke,be)+"000"}function He(ke,be){return m(ke.getUTCMonth()+1,be,2)}function Ve(ke,be){return m(ke.getUTCMinutes(),be,2)}function Fe(ke,be){return m(ke.getUTCSeconds(),be,2)}function We(ke){var be=ke.getUTCDay();return be===0?7:be}function ut(ke,be){return m(p.EV.count((0,v.c)(ke)-1,ke),be,2)}function ht(ke,be){var me=ke.getUTCDay();return ke=me>=4||me===0?(0,p.yA)(ke):p.yA.ceil(ke),m(p.yA.count((0,v.c)(ke),ke)+((0,v.c)(ke).getUTCDay()===4),be,2)}function rt(ke){return ke.getUTCDay()}function tt(ke,be){return m(p.ot.count((0,v.c)(ke)-1,ke),be,2)}function vt(ke,be){return m(ke.getUTCFullYear()%100,be,2)}function pt(ke,be){return m(ke.getUTCFullYear()%1e4,be,4)}function mt(){return"+0000"}function wt(){return"%"}function Lt(ke){return+ke}function at(ke){return Math.floor(+ke/1e3)}var Oe,Ze,Je;Ye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ye(ke){return Oe=s(ke),Ze=Oe.format,Oe.parse,Je=Oe.utcFormat,Oe.utcParse,Oe}},68936:function(H,U,e){e.d(U,{m:function(){return C}});var p=e(81628),L=e(69792),n=(0,p.c)(function(T){T.setHours(0,0,0,0)},function(T,v){T.setDate(T.getDate()+v)},function(T,v){return(v-T-(v.getTimezoneOffset()-T.getTimezoneOffset())*L.iy)/L.SK},function(T){return T.getDate()-1});U.c=n;var C=n.range},69792:function(H,U,e){e.d(U,{KK:function(){return T},SK:function(){return C},cg:function(){return n},iy:function(){return L},yc:function(){return p}});var p=1e3,L=6e4,n=36e5,C=864e5,T=6048e5},73220:function(H,U,e){e.r(U),e.d(U,{timeDay:function(){return m.c},timeDays:function(){return m.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return u},timeHours:function(){return l},timeInterval:function(){return p.c},timeMillisecond:function(){return n},timeMilliseconds:function(){return C},timeMinute:function(){return s},timeMinutes:function(){return a},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return i},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return g},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return o.c},utcDays:function(){return o.o},utcFriday:function(){return _.od},utcFridays:function(){return _.iG},utcHour:function(){return S},utcHours:function(){return w},utcMillisecond:function(){return n},utcMilliseconds:function(){return C},utcMinute:function(){return A},utcMinutes:function(){return E},utcMonday:function(){return _.ot},utcMondays:function(){return _.iO},utcMonth:function(){return I},utcMonths:function(){return D},utcSaturday:function(){return _.Ad},utcSaturdays:function(){return _.K8},utcSecond:function(){return g},utcSeconds:function(){return r},utcSunday:function(){return _.EV},utcSundays:function(){return _.Wq},utcThursday:function(){return _.yA},utcThursdays:function(){return _.ob},utcTuesday:function(){return _.sG},utcTuesdays:function(){return _.kl},utcWednesday:function(){return _._6},utcWednesdays:function(){return _.W_},utcWeek:function(){return _.EV},utcWeeks:function(){return _.Wq},utcYear:function(){return N.c},utcYears:function(){return N.i}});var p=e(81628),L=(0,p.c)(function(){},function(k,z){k.setTime(+k+z)},function(k,z){return z-k});L.every=function(k){return k=Math.floor(k),!isFinite(k)||!(k>0)?null:k>1?(0,p.c)(function(z){z.setTime(Math.floor(z/k)*k)},function(z,F){z.setTime(+z+F*k)},function(z,F){return(F-z)/k}):L};var n=L,C=L.range,T=e(69792),v=(0,p.c)(function(k){k.setTime(k-k.getMilliseconds())},function(k,z){k.setTime(+k+z*T.yc)},function(k,z){return(z-k)/T.yc},function(k){return k.getUTCSeconds()}),g=v,r=v.range,t=(0,p.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*T.yc)},function(k,z){k.setTime(+k+z*T.iy)},function(k,z){return(z-k)/T.iy},function(k){return k.getMinutes()}),s=t,a=t.range,f=(0,p.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*T.yc-k.getMinutes()*T.iy)},function(k,z){k.setTime(+k+z*T.cg)},function(k,z){return(z-k)/T.cg},function(k){return k.getHours()}),u=f,l=f.range,m=e(68936),h=e(46192),M=(0,p.c)(function(k){k.setDate(1),k.setHours(0,0,0,0)},function(k,z){k.setMonth(k.getMonth()+z)},function(k,z){return z.getMonth()-k.getMonth()+(z.getFullYear()-k.getFullYear())*12},function(k){return k.getMonth()}),c=M,i=M.range,d=e(32171),x=(0,p.c)(function(k){k.setUTCSeconds(0,0)},function(k,z){k.setTime(+k+z*T.iy)},function(k,z){return(z-k)/T.iy},function(k){return k.getUTCMinutes()}),A=x,E=x.range,y=(0,p.c)(function(k){k.setUTCMinutes(0,0,0)},function(k,z){k.setTime(+k+z*T.cg)},function(k,z){return(z-k)/T.cg},function(k){return k.getUTCHours()}),S=y,w=y.range,o=e(58931),_=e(8208),b=(0,p.c)(function(k){k.setUTCDate(1),k.setUTCHours(0,0,0,0)},function(k,z){k.setUTCMonth(k.getUTCMonth()+z)},function(k,z){return z.getUTCMonth()-k.getUTCMonth()+(z.getUTCFullYear()-k.getUTCFullYear())*12},function(k){return k.getUTCMonth()}),I=b,D=b.range,N=e(53528)},81628:function(H,U,e){e.d(U,{c:function(){return n}});var p=new Date,L=new Date;function n(C,T,v,g){function r(t){return C(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return C(t=new Date(+t)),t},r.ceil=function(t){return C(t=new Date(t-1)),T(t,1),C(t),t},r.round=function(t){var s=r(t),a=r.ceil(t);return t-s<a-t?s:a},r.offset=function(t,s){return T(t=new Date(+t),s==null?1:Math.floor(s)),t},r.range=function(t,s,a){var f=[],u;if(t=r.ceil(t),a=a==null?1:Math.floor(a),!(t<s)||!(a>0))return f;do f.push(u=new Date(+t)),T(t,a),C(t);while(u<t&&t<s);return f},r.filter=function(t){return n(function(s){if(s>=s)for(;C(s),!t(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;T(s,-1),!t(s););else for(;--a>=0;)for(;T(s,1),!t(s););})},v&&(r.count=function(t,s){return p.setTime(+t),L.setTime(+s),C(p),C(L),Math.floor(v(p,L))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(g?function(s){return g(s)%t===0}:function(s){return r.count(0,s)%t===0}):r}),r}},58931:function(H,U,e){e.d(U,{o:function(){return C}});var p=e(81628),L=e(69792),n=(0,p.c)(function(T){T.setUTCHours(0,0,0,0)},function(T,v){T.setUTCDate(T.getUTCDate()+v)},function(T,v){return(v-T)/L.SK},function(T){return T.getUTCDate()-1});U.c=n;var C=n.range},8208:function(H,U,e){e.d(U,{Ad:function(){return s},EV:function(){return C},K8:function(){return M},W_:function(){return l},Wq:function(){return a},_6:function(){return g},iG:function(){return h},iO:function(){return f},kl:function(){return u},ob:function(){return m},od:function(){return t},ot:function(){return T},sG:function(){return v},yA:function(){return r}});var p=e(81628),L=e(69792);function n(c){return(0,p.c)(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-c)%7),i.setUTCHours(0,0,0,0)},function(i,d){i.setUTCDate(i.getUTCDate()+d*7)},function(i,d){return(d-i)/L.KK})}var C=n(0),T=n(1),v=n(2),g=n(3),r=n(4),t=n(5),s=n(6),a=C.range,f=T.range,u=v.range,l=g.range,m=r.range,h=t.range,M=s.range},53528:function(H,U,e){e.d(U,{i:function(){return n}});var p=e(81628),L=(0,p.c)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,T){C.setUTCFullYear(C.getUTCFullYear()+T)},function(C,T){return T.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.c)(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/C)*C),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,v){T.setUTCFullYear(T.getUTCFullYear()+v*C)})},U.c=L;var n=L.range},46192:function(H,U,e){e.d(U,{Ab:function(){return a},Mf:function(){return v},Oc:function(){return u},QP:function(){return f},Wc:function(){return s},aI:function(){return M},eC:function(){return m},eg:function(){return g},iB:function(){return t},kD:function(){return r},qT:function(){return T},sJ:function(){return h},sn:function(){return l},uU:function(){return C}});var p=e(81628),L=e(69792);function n(c){return(0,p.c)(function(i){i.setDate(i.getDate()-(i.getDay()+7-c)%7),i.setHours(0,0,0,0)},function(i,d){i.setDate(i.getDate()+d*7)},function(i,d){return(d-i-(d.getTimezoneOffset()-i.getTimezoneOffset())*L.iy)/L.KK})}var C=n(0),T=n(1),v=n(2),g=n(3),r=n(4),t=n(5),s=n(6),a=C.range,f=T.range,u=v.range,l=g.range,m=r.range,h=t.range,M=s.range},32171:function(H,U,e){e.d(U,{Q:function(){return n}});var p=e(81628),L=(0,p.c)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,T){C.setFullYear(C.getFullYear()+T)},function(C,T){return T.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.c)(function(T){T.setFullYear(Math.floor(T.getFullYear()/C)*C),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,v){T.setFullYear(T.getFullYear()+v*C)})},U.c=L;var n=L.range},64348:function(H,U,e){var p=e(39640)(),L=e(53664),n=p&&L("%Object.defineProperty%",!0);if(n)try{n({},"a",{value:1})}catch{n=!1}var C=L("%SyntaxError%"),T=L("%TypeError%"),v=e(2304);H.exports=function(r,t,s){if(!r||typeof r!="object"&&typeof r!="function")throw new T("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new T("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new T("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new T("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new T("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new T("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,m=!!v&&v(r,t);if(n)n(r,t,{configurable:u===null&&m?m.configurable:!u,enumerable:a===null&&m?m.enumerable:!a,value:s,writable:f===null&&m?m.writable:!f});else if(l||!a&&!f&&!u)r[t]=s;else throw new C("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(H,U,e){var p=e(41820),L=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,C=Array.prototype.concat,T=Object.defineProperty,v=function(a){return typeof a=="function"&&n.call(a)==="[object Function]"},g=e(39640)(),r=T&&g,t=function(a,f,u,l){if(f in a){if(l===!0){if(a[f]===u)return}else if(!v(l)||!l())return}r?T(a,f,{configurable:!0,enumerable:!1,value:u,writable:!0}):a[f]=u},s=function(a,f){var u=arguments.length>2?arguments[2]:{},l=p(f);L&&(l=C.call(l,Object.getOwnPropertySymbols(f)));for(var m=0;m<l.length;m+=1)t(a,l[m],f[l[m]],u[l[m]])};s.supportsDescriptors=!!r,H.exports=s},31264:function(H){H.exports=function(){for(var U=0;U<arguments.length;U++)if(arguments[U]!==void 0)return arguments[U]}},63768:function(H){H.exports=L;var U=L.canvas=document.createElement("canvas"),e=U.getContext("2d"),p=n([32,126]);L.createPairs=n,L.ascii=p;function L(C,T){Array.isArray(C)&&(C=C.join(", "));var v={},g,r=16,t=.05;T&&(T.length===2&&typeof T[0]=="number"?g=n(T):Array.isArray(T)?g=T:(T.o?g=n(T.o):T.pairs&&(g=T.pairs),T.fontSize&&(r=T.fontSize),T.threshold!=null&&(t=T.threshold))),g||(g=p),e.font=r+"px "+C;for(var s=0;s<g.length;s++){var a=g[s],f=e.measureText(a[0]).width+e.measureText(a[1]).width,u=e.measureText(a).width;if(Math.abs(f-u)>r*t){var l=(u-f)/r;v[a]=l*1e3}}return v}function n(C){for(var T=[],v=C[0];v<=C[1];v++)for(var g=String.fromCharCode(v),r=C[0];r<C[1];r++){var t=String.fromCharCode(r),s=g+t;T.push(s)}return T}},22235:function(H,U,e){var p=e(49972),L=e(48816),n={M:"moveTo",C:"bezierCurveTo"};H.exports=function(C,T){C.beginPath(),L(p(T)).forEach(function(v){var g=v[0],r=v.slice(1);C[n[g]].apply(C,r)}),C.closePath()}},72512:function(H){H.exports=function(U){switch(U){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(H){function U(L,n,C){var T=L[C]|0;if(T<=0)return[];var v=new Array(T),g;if(C===L.length-1)for(g=0;g<T;++g)v[g]=n;else for(g=0;g<T;++g)v[g]=U(L,n,C+1);return v}function e(L,n){var C,T;for(C=new Array(L),T=0;T<L;++T)C[T]=n;return C}function p(L,n){switch(typeof n>"u"&&(n=0),typeof L){case"number":if(L>0)return e(L|0,n);break;case"object":if(typeof L.length=="number")return U(L,n,0);break}return[]}H.exports=p},28912:function(H){H.exports=U,H.exports.default=U;function U(D,N,k){k=k||2;var z=N&&N.length,F=z?N[0]*k:D.length,O=e(D,0,F,k,!0),B=[];if(!O||O.next===O.prev)return B;var W,ee,ne,Q,le,Z,Y;if(z&&(O=g(D,N,O,k)),D.length>80*k){W=ne=D[0],ee=Q=D[1];for(var re=k;re<F;re+=k)le=D[re],Z=D[re+1],le<W&&(W=le),Z<ee&&(ee=Z),le>ne&&(ne=le),Z>Q&&(Q=Z);Y=Math.max(ne-W,Q-ee),Y=Y!==0?1/Y:0}return L(O,B,k,W,ee,Y),B}function e(D,N,k,z,F){var O,B;if(F===I(D,N,k,z)>0)for(O=N;O<k;O+=z)B=o(O,D[O],D[O+1],B);else for(O=k-z;O>=N;O-=z)B=o(O,D[O],D[O+1],B);return B&&i(B,B.next)&&(_(B),B=B.next),B}function p(D,N){if(!D)return D;N||(N=D);var k=D,z;do if(z=!1,!k.steiner&&(i(k,k.next)||c(k.prev,k,k.next)===0)){if(_(k),k=N=k.prev,k===k.next)break;z=!0}else k=k.next;while(z||k!==N);return N}function L(D,N,k,z,F,O,B){if(D){!B&&O&&f(D,z,F,O);for(var W=D,ee,ne;D.prev!==D.next;){if(ee=D.prev,ne=D.next,O?C(D,z,F,O):n(D)){N.push(ee.i/k),N.push(D.i/k),N.push(ne.i/k),_(D),D=ne.next,W=ne.next;continue}if(D=ne,D===W){B?B===1?(D=T(p(D),N,k),L(D,N,k,z,F,O,2)):B===2&&v(D,N,k,z,F,O):L(p(D),N,k,z,F,O,1);break}}}}function n(D){var N=D.prev,k=D,z=D.next;if(c(N,k,z)>=0)return!1;for(var F=D.next.next;F!==D.prev;){if(h(N.x,N.y,k.x,k.y,z.x,z.y,F.x,F.y)&&c(F.prev,F,F.next)>=0)return!1;F=F.next}return!0}function C(D,N,k,z){var F=D.prev,O=D,B=D.next;if(c(F,O,B)>=0)return!1;for(var W=F.x<O.x?F.x<B.x?F.x:B.x:O.x<B.x?O.x:B.x,ee=F.y<O.y?F.y<B.y?F.y:B.y:O.y<B.y?O.y:B.y,ne=F.x>O.x?F.x>B.x?F.x:B.x:O.x>B.x?O.x:B.x,Q=F.y>O.y?F.y>B.y?F.y:B.y:O.y>B.y?O.y:B.y,le=l(W,ee,N,k,z),Z=l(ne,Q,N,k,z),Y=D.prevZ,re=D.nextZ;Y&&Y.z>=le&&re&&re.z<=Z;){if(Y!==D.prev&&Y!==D.next&&h(F.x,F.y,O.x,O.y,B.x,B.y,Y.x,Y.y)&&c(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,re!==D.prev&&re!==D.next&&h(F.x,F.y,O.x,O.y,B.x,B.y,re.x,re.y)&&c(re.prev,re,re.next)>=0))return!1;re=re.nextZ}for(;Y&&Y.z>=le;){if(Y!==D.prev&&Y!==D.next&&h(F.x,F.y,O.x,O.y,B.x,B.y,Y.x,Y.y)&&c(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;re&&re.z<=Z;){if(re!==D.prev&&re!==D.next&&h(F.x,F.y,O.x,O.y,B.x,B.y,re.x,re.y)&&c(re.prev,re,re.next)>=0)return!1;re=re.nextZ}return!0}function T(D,N,k){var z=D;do{var F=z.prev,O=z.next.next;!i(F,O)&&d(F,z,z.next,O)&&y(F,O)&&y(O,F)&&(N.push(F.i/k),N.push(z.i/k),N.push(O.i/k),_(z),_(z.next),z=D=O),z=z.next}while(z!==D);return p(z)}function v(D,N,k,z,F,O){var B=D;do{for(var W=B.next.next;W!==B.prev;){if(B.i!==W.i&&M(B,W)){var ee=w(B,W);B=p(B,B.next),ee=p(ee,ee.next),L(B,N,k,z,F,O),L(ee,N,k,z,F,O);return}W=W.next}B=B.next}while(B!==D)}function g(D,N,k,z){var F=[],O,B,W,ee,ne;for(O=0,B=N.length;O<B;O++)W=N[O]*z,ee=O<B-1?N[O+1]*z:D.length,ne=e(D,W,ee,z,!1),ne===ne.next&&(ne.steiner=!0),F.push(m(ne));for(F.sort(r),O=0;O<F.length;O++)t(F[O],k),k=p(k,k.next);return k}function r(D,N){return D.x-N.x}function t(D,N){if(N=s(D,N),N){var k=w(N,D);p(N,N.next),p(k,k.next)}}function s(D,N){var k=N,z=D.x,F=D.y,O=-1/0,B;do{if(F<=k.y&&F>=k.next.y&&k.next.y!==k.y){var W=k.x+(F-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(W<=z&&W>O){if(O=W,W===z){if(F===k.y)return k;if(F===k.next.y)return k.next}B=k.x<k.next.x?k:k.next}}k=k.next}while(k!==N);if(!B)return null;if(z===O)return B;var ee=B,ne=B.x,Q=B.y,le=1/0,Z;k=B;do z>=k.x&&k.x>=ne&&z!==k.x&&h(F<Q?z:O,F,ne,Q,F<Q?O:z,F,k.x,k.y)&&(Z=Math.abs(F-k.y)/(z-k.x),y(k,D)&&(Z<le||Z===le&&(k.x>B.x||k.x===B.x&&a(B,k)))&&(B=k,le=Z)),k=k.next;while(k!==ee);return B}function a(D,N){return c(D.prev,D,N.prev)<0&&c(N.next,D,D.next)<0}function f(D,N,k,z){var F=D;do F.z===null&&(F.z=l(F.x,F.y,N,k,z)),F.prevZ=F.prev,F.nextZ=F.next,F=F.next;while(F!==D);F.prevZ.nextZ=null,F.prevZ=null,u(F)}function u(D){var N,k,z,F,O,B,W,ee,ne=1;do{for(k=D,D=null,O=null,B=0;k;){for(B++,z=k,W=0,N=0;N<ne&&(W++,z=z.nextZ,!!z);N++);for(ee=ne;W>0||ee>0&&z;)W!==0&&(ee===0||!z||k.z<=z.z)?(F=k,k=k.nextZ,W--):(F=z,z=z.nextZ,ee--),O?O.nextZ=F:D=F,F.prevZ=O,O=F;k=z}O.nextZ=null,ne*=2}while(B>1);return D}function l(D,N,k,z,F){return D=32767*(D-k)*F,N=32767*(N-z)*F,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,D|N<<1}function m(D){var N=D,k=D;do(N.x<k.x||N.x===k.x&&N.y<k.y)&&(k=N),N=N.next;while(N!==D);return k}function h(D,N,k,z,F,O,B,W){return(F-B)*(N-W)-(D-B)*(O-W)>=0&&(D-B)*(z-W)-(k-B)*(N-W)>=0&&(k-B)*(O-W)-(F-B)*(z-W)>=0}function M(D,N){return D.next.i!==N.i&&D.prev.i!==N.i&&!E(D,N)&&(y(D,N)&&y(N,D)&&S(D,N)&&(c(D.prev,D,N.prev)||c(D,N.prev,N))||i(D,N)&&c(D.prev,D,D.next)>0&&c(N.prev,N,N.next)>0)}function c(D,N,k){return(N.y-D.y)*(k.x-N.x)-(N.x-D.x)*(k.y-N.y)}function i(D,N){return D.x===N.x&&D.y===N.y}function d(D,N,k,z){var F=A(c(D,N,k)),O=A(c(D,N,z)),B=A(c(k,z,D)),W=A(c(k,z,N));return!!(F!==O&&B!==W||F===0&&x(D,k,N)||O===0&&x(D,z,N)||B===0&&x(k,D,z)||W===0&&x(k,N,z))}function x(D,N,k){return N.x<=Math.max(D.x,k.x)&&N.x>=Math.min(D.x,k.x)&&N.y<=Math.max(D.y,k.y)&&N.y>=Math.min(D.y,k.y)}function A(D){return D>0?1:D<0?-1:0}function E(D,N){var k=D;do{if(k.i!==D.i&&k.next.i!==D.i&&k.i!==N.i&&k.next.i!==N.i&&d(k,k.next,D,N))return!0;k=k.next}while(k!==D);return!1}function y(D,N){return c(D.prev,D,D.next)<0?c(D,N,D.next)>=0&&c(D,D.prev,N)>=0:c(D,N,D.prev)<0||c(D,D.next,N)<0}function S(D,N){var k=D,z=!1,F=(D.x+N.x)/2,O=(D.y+N.y)/2;do k.y>O!=k.next.y>O&&k.next.y!==k.y&&F<(k.next.x-k.x)*(O-k.y)/(k.next.y-k.y)+k.x&&(z=!z),k=k.next;while(k!==D);return z}function w(D,N){var k=new b(D.i,D.x,D.y),z=new b(N.i,N.x,N.y),F=D.next,O=N.prev;return D.next=N,N.prev=D,k.next=F,F.prev=k,z.next=k,k.prev=z,O.next=z,z.prev=O,z}function o(D,N,k,z){var F=new b(D,N,k);return z?(F.next=z.next,F.prev=z,z.next.prev=F,z.next=F):(F.prev=F,F.next=F),F}function _(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function b(D,N,k){this.i=D,this.x=N,this.y=k,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}U.deviation=function(D,N,k,z){var F=N&&N.length,O=F?N[0]*k:D.length,B=Math.abs(I(D,0,O,k));if(F)for(var W=0,ee=N.length;W<ee;W++){var ne=N[W]*k,Q=W<ee-1?N[W+1]*k:D.length;B-=Math.abs(I(D,ne,Q,k))}var le=0;for(W=0;W<z.length;W+=3){var Z=z[W]*k,Y=z[W+1]*k,re=z[W+2]*k;le+=Math.abs((D[Z]-D[re])*(D[Y+1]-D[Z+1])-(D[Z]-D[Y])*(D[re+1]-D[Z+1]))}return B===0&&le===0?0:Math.abs((le-B)/B)};function I(D,N,k,z){for(var F=0,O=N,B=k-z;O<k;O+=z)F+=(D[B]-D[O])*(D[O+1]+D[B+1]),B=O;return F}U.flatten=function(D){for(var N=D[0][0].length,k={vertices:[],holes:[],dimensions:N},z=0,F=0;F<D.length;F++){for(var O=0;O<D[F].length;O++)for(var B=0;B<N;B++)k.vertices.push(D[F][O][B]);F>0&&(z+=D[F-1].length,k.holes.push(z))}return k}},6688:function(H,U,e){var p=e(78484);H.exports=function(n,C){var T=[],v=[],g=[],r={},t=[],s;function a(x){g[x]=!1,r.hasOwnProperty(x)&&Object.keys(r[x]).forEach(function(A){delete r[x][A],g[A]&&a(A)})}function f(x){var A=!1;v.push(x),g[x]=!0;var E,y;for(E=0;E<t[x].length;E++)y=t[x][E],y===s?(u(s,v),A=!0):g[y]||(A=f(y));if(A)a(x);else for(E=0;E<t[x].length;E++){y=t[x][E];var S=r[y];S||(S={},r[y]=S),S[y]=!0}return v.pop(),A}function u(x,A){var E=[].concat(A).concat(x);C?C(f):T.push(E)}function l(x){for(var A=0;A<n.length;A++)A<x&&(n[A]=[]),n[A]=n[A].filter(function(E){return E>=x})}function m(x){l(x);for(var A=n,E=p(A),y=E.components.filter(function(D){return D.length>1}),S=1/0,w,o=0;o<y.length;o++)for(var _=0;_<y[o].length;_++)y[o][_]<S&&(S=y[o][_],w=o);var b=y[w];if(!b)return!1;var I=n.map(function(D,N){return b.indexOf(N)===-1?[]:D.filter(function(k){return b.indexOf(k)!==-1})});return{leastVertex:S,adjList:I}}s=0;for(var h=n.length;s<h;){var M=m(s);if(s=M.leastVertex,t=M.adjList,t){for(var c=0;c<t.length;c++)for(var i=0;i<t[c].length;i++){var d=t[c][i];g[+d]=!1,r[d]={}}f(s),s=s+1}else s=h}if(!C)return T}},41476:function(H,U,e){var p=e(9252);H.exports=function(){return p(this).length=0,this}},74772:function(H,U,e){H.exports=e(44716)()?Array.from:e(80816)},44716:function(H){H.exports=function(){var U=Array.from,e,p;return typeof U!="function"?!1:(e=["raz","dwa"],p=U(e),!!(p&&p!==e&&p[1]==="dwa"))}},80816:function(H,U,e){var p=e(92664).iterator,L=e(60948),n=e(17024),C=e(81304),T=e(34044),v=e(9252),g=e(42584),r=e(29768),t=Array.isArray,s=Function.prototype.call,a={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;H.exports=function(u){var l=arguments[1],m=arguments[2],h,M,c,i,d,x,A,E,y,S;if(u=Object(v(u)),g(l)&&T(l),!this||this===Array||!n(this)){if(!l){if(L(u))return d=u.length,d!==1?Array.apply(null,u):(i=new Array(1),i[0]=u[0],i);if(t(u)){for(i=new Array(d=u.length),M=0;M<d;++M)i[M]=u[M];return i}}i=[]}else h=this;if(!t(u)){if((y=u[p])!==void 0){for(A=T(y).call(u),h&&(i=new h),E=A.next(),M=0;!E.done;)S=l?s.call(l,m,E.value,M):E.value,h?(a.value=S,f(i,M,a)):i[M]=S,E=A.next(),++M;d=M}else if(r(u)){for(d=u.length,h&&(i=new h),M=0,c=0;M<d;++M)S=u[M],M+1<d&&(x=S.charCodeAt(0),x>=55296&&x<=56319&&(S+=u[++M])),S=l?s.call(l,m,S,c):S,h?(a.value=S,f(i,c,a)):i[c]=S,++c;d=c}}if(d===void 0)for(d=C(u.length),h&&(i=new h(d)),M=0;M<d;++M)S=l?s.call(l,m,u[M],M):u[M],h?(a.value=S,f(i,M,a)):i[M]=S;return h&&(a.value=null,i.length=d),i}},60948:function(H){var U=Object.prototype.toString,e=U.call(function(){return arguments}());H.exports=function(p){return U.call(p)===e}},17024:function(H){var U=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);H.exports=function(p){return typeof p=="function"&&e(U.call(p))}},33208:function(H){H.exports=function(){}},85608:function(H,U,e){H.exports=e(37328)()?Math.sign:e(92928)},37328:function(H){H.exports=function(){var U=Math.sign;return typeof U!="function"?!1:U(10)===1&&U(-20)===-1}},92928:function(H){H.exports=function(U){return U=Number(U),isNaN(U)||U===0?U:U>0?1:-1}},96936:function(H,U,e){var p=e(85608),L=Math.abs,n=Math.floor;H.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:p(C)*n(L(C)))}},81304:function(H,U,e){var p=e(96936),L=Math.max;H.exports=function(n){return L(0,p(n))}},14428:function(H,U,e){var p=e(34044),L=e(9252),n=Function.prototype.bind,C=Function.prototype.call,T=Object.keys,v=Object.prototype.propertyIsEnumerable;H.exports=function(g,r){return function(t,s){var a,f=arguments[2],u=arguments[3];return t=Object(L(t)),p(s),a=T(t),u&&a.sort(typeof u=="function"?n.call(u,t):void 0),typeof g!="function"&&(g=a[g]),C.call(g,a,function(l,m){return v.call(t,l)?C.call(s,f,t[l],l,t,m):r})}}},38452:function(H,U,e){H.exports=e(96276)()?Object.assign:e(81892)},96276:function(H){H.exports=function(){var U=Object.assign,e;return typeof U!="function"?!1:(e={foo:"raz"},U(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(H,U,e){var p=e(54768),L=e(9252),n=Math.max;H.exports=function(C,T){var v,g,r=n(arguments.length,2),t;for(C=Object(L(C)),t=function(s){try{C[s]=T[s]}catch(a){v||(v=a)}},g=1;g<r;++g)T=arguments[g],p(T).forEach(t);if(v!==void 0)throw v;return C}},95920:function(H,U,e){var p=e(74772),L=e(38452),n=e(9252);H.exports=function(C){var T=Object(n(C)),v=arguments[1],g=Object(arguments[2]);if(T!==C&&!v)return T;var r={};return v?p(v,function(t){(g.ensure||t in C)&&(r[t]=C[t])}):L(r,C),r}},14452:function(H,U,e){var p=Object.create,L;e(63092)()||(L=e(8672)),H.exports=function(){var n,C,T;return!L||L.level!==1?p:(n={},C={},T={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){C[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[v]=T}),Object.defineProperties(n,C),Object.defineProperty(L,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:n}),function(v,g){return p(v===null?n:v,g)})}()},42748:function(H,U,e){H.exports=e(14428)("forEach")},69127:function(H,U,e){var p=e(42584),L={function:!0,object:!0};H.exports=function(n){return p(n)&&L[typeof n]||!1}},42584:function(H,U,e){var p=e(33208)();H.exports=function(L){return L!==p&&L!==null}},54768:function(H,U,e){H.exports=e(87888)()?Object.keys:e(89592)},87888:function(H){H.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(H,U,e){var p=e(42584),L=Object.keys;H.exports=function(n){return L(p(n)?Object(n):n)}},84323:function(H,U,e){var p=e(34044),L=e(42748),n=Function.prototype.call;H.exports=function(C,T){var v={},g=arguments[2];return p(T),L(C,function(r,t,s,a){v[t]=n.call(T,g,r,t,s,a)}),v}},50868:function(H,U,e){var p=e(42584),L=Array.prototype.forEach,n=Object.create,C=function(T,v){var g;for(g in T)v[g]=T[g]};H.exports=function(T){var v=n(null);return L.call(arguments,function(g){p(g)&&C(Object(g),v)}),v}},69932:function(H,U,e){H.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(H){var U=Object.create,e=Object.getPrototypeOf,p={};H.exports=function(){var L=Object.setPrototypeOf,n=arguments[0]||U;return typeof L!="function"?!1:e(L(n(null),p))===p}},8672:function(H,U,e){var p=e(69127),L=e(9252),n=Object.prototype.isPrototypeOf,C=Object.defineProperty,T={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(g,r){if(L(g),r===null||p(r))return g;throw new TypeError("Prototype must be null or an object")},H.exports=function(g){var r,t;return g?(g.level===2?g.set?(t=g.set,r=function(s,a){return t.call(v(s,a),a),s}):r=function(s,a){return v(s,a).__proto__=a,s}:r=function s(a,f){var u;return v(a,f),u=n.call(s.nullPolyfill,a),u&&delete s.nullPolyfill.__proto__,f===null&&(f=s.nullPolyfill),a.__proto__=f,u&&C(s.nullPolyfill,"__proto__",T),a},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:g.level})):null}(function(){var g=Object.create(null),r={},t,s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{t=s.set,t.call(g,r)}catch{}if(Object.getPrototypeOf(g)===r)return{set:t,level:2}}return g.__proto__=r,Object.getPrototypeOf(g)===r?{level:2}:(g={},g.__proto__=r,Object.getPrototypeOf(g)===r?{level:1}:!1)}()),e(14452)},34044:function(H){H.exports=function(U){if(typeof U!="function")throw new TypeError(U+" is not a function");return U}},92584:function(H,U,e){var p=e(69127);H.exports=function(L){if(!p(L))throw new TypeError(L+" is not an Object");return L}},9252:function(H,U,e){var p=e(42584);H.exports=function(L){if(!p(L))throw new TypeError("Cannot use null or undefined");return L}},71056:function(H,U,e){H.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(H){var U="razdwatrzy";H.exports=function(){return typeof U.contains!="function"?!1:U.contains("dwa")===!0&&U.contains("foo")===!1}},93040:function(H){var U=String.prototype.indexOf;H.exports=function(e){return U.call(this,e,arguments[1])>-1}},29768:function(H){var U=Object.prototype.toString,e=U.call("");H.exports=function(p){return typeof p=="string"||p&&typeof p=="object"&&(p instanceof String||U.call(p)===e)||!1}},82252:function(H){var U=Object.create(null),e=Math.random;H.exports=function(){var p;do p=e().toString(36).slice(2);while(U[p]);return p}},52104:function(H,U,e){var p=e(69932),L=e(71056),n=e(21092),C=e(92664),T=e(85512),v=Object.defineProperty,g;g=H.exports=function(r,t){if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");T.call(this,r),t?L.call(t,"key+value")?t="key+value":L.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",n("",t))},p&&p(g,T),delete g.prototype.constructor,g.prototype=Object.create(T.prototype,{_resolve:n(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(g.prototype,C.toStringTag,n("c","Array Iterator"))},76024:function(H,U,e){var p=e(60948),L=e(34044),n=e(29768),C=e(76252),T=Array.isArray,v=Function.prototype.call,g=Array.prototype.some;H.exports=function(r,t){var s,a=arguments[2],f,u,l,m,h,M,c;if(T(r)||p(r)?s="array":n(r)?s="string":r=C(r),L(t),u=function(){l=!0},s==="array"){g.call(r,function(i){return v.call(t,a,i,u),l});return}if(s==="string"){for(h=r.length,m=0;m<h&&(M=r[m],m+1<h&&(c=M.charCodeAt(0),c>=55296&&c<=56319&&(M+=r[++m])),v.call(t,a,M,u),!l);++m);return}for(f=r.next();!f.done;){if(v.call(t,a,f.value,u),l)return;f=r.next()}}},76252:function(H,U,e){var p=e(60948),L=e(29768),n=e(52104),C=e(80940),T=e(52891),v=e(92664).iterator;H.exports=function(g){return typeof T(g)[v]=="function"?g[v]():p(g)?new n(g):L(g)?new C(g):new n(g)}},85512:function(H,U,e){var p=e(41476),L=e(38452),n=e(34044),C=e(9252),T=e(21092),v=e(27940),g=e(92664),r=Object.defineProperty,t=Object.defineProperties,s;H.exports=s=function(a,f){if(!(this instanceof s))throw new TypeError("Constructor requires 'new'");t(this,{__list__:T("w",C(a)),__context__:T("w",f),__nextIndex__:T("w",0)}),f&&(n(f.on),f.on("_add",this._onAdd),f.on("_delete",this._onDelete),f.on("_clear",this._onClear))},delete s.prototype.constructor,t(s.prototype,L({_next:T(function(){var a;if(this.__list__){if(this.__redo__&&(a=this.__redo__.shift(),a!==void 0))return a;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:T(function(){return this._createResult(this._next())}),_createResult:T(function(a){return a===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(a)}}),_resolve:T(function(a){return this.__list__[a]}),_unBind:T(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:T(function(){return"[object "+(this[g.toStringTag]||"Object")+"]"})},v({_onAdd:T(function(a){if(!(a>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",T("c",[a]));return}this.__redo__.forEach(function(f,u){f>=a&&(this.__redo__[u]=++f)},this),this.__redo__.push(a)}}),_onDelete:T(function(a){var f;a>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(f=this.__redo__.indexOf(a),f!==-1&&this.__redo__.splice(f,1),this.__redo__.forEach(function(u,l){u>a&&(this.__redo__[l]=--u)},this)))}),_onClear:T(function(){this.__redo__&&p.call(this.__redo__),this.__nextIndex__=0})}))),r(s.prototype,g.iterator,T(function(){return this}))},76368:function(H,U,e){var p=e(60948),L=e(42584),n=e(29768),C=e(92664).iterator,T=Array.isArray;H.exports=function(v){return L(v)?T(v)||n(v)||p(v)?!0:typeof v[C]=="function":!1}},80940:function(H,U,e){var p=e(69932),L=e(21092),n=e(92664),C=e(85512),T=Object.defineProperty,v;v=H.exports=function(g){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");g=String(g),C.call(this,g),T(this,"__length__",L("",g.length))},p&&p(v,C),delete v.prototype.constructor,v.prototype=Object.create(C.prototype,{_next:L(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:L(function(g){var r=this.__list__[g],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),T(v.prototype,n.toStringTag,L("c","String Iterator"))},52891:function(H,U,e){var p=e(76368);H.exports=function(L){if(!p(L))throw new TypeError(L+" is not iterable");return L}},60964:function(H){function U(p,L){if(p==null)throw new TypeError("Cannot convert first argument to object");for(var n=Object(p),C=1;C<arguments.length;C++){var T=arguments[C];if(T!=null)for(var v=Object.keys(Object(T)),g=0,r=v.length;g<r;g++){var t=v[g],s=Object.getOwnPropertyDescriptor(T,t);s!==void 0&&s.enumerable&&(n[t]=T[t])}}return n}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:U})}H.exports={assign:U,polyfill:e}},92664:function(H,U,e){H.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(H,U,e){var p=e(12296),L={object:!0,symbol:!0};H.exports=function(){var n=p.Symbol,C;if(typeof n!="function")return!1;C=n("test symbol");try{String(C)}catch{return!1}return!(!L[typeof n.iterator]||!L[typeof n.toPrimitive]||!L[typeof n.toStringTag])}},53908:function(H){H.exports=function(U){return U?typeof U=="symbol"?!0:!U.constructor||U.constructor.name!=="Symbol"?!1:U[U.constructor.toStringTag]==="Symbol":!1}},96863:function(H,U,e){var p=e(21092),L=Object.create,n=Object.defineProperty,C=Object.prototype,T=L(null);H.exports=function(v){for(var g=0,r,t;T[v+(g||"")];)++g;return v+=g||"",T[v]=!0,r="@@"+v,n(C,r,p.gs(null,function(s){t||(t=!0,n(this,r,p(s)),t=!1)})),r}},53540:function(H,U,e){var p=e(21092),L=e(12296).Symbol;H.exports=function(n){return Object.defineProperties(n,{hasInstance:p("",L&&L.hasInstance||n("hasInstance")),isConcatSpreadable:p("",L&&L.isConcatSpreadable||n("isConcatSpreadable")),iterator:p("",L&&L.iterator||n("iterator")),match:p("",L&&L.match||n("match")),replace:p("",L&&L.replace||n("replace")),search:p("",L&&L.search||n("search")),species:p("",L&&L.species||n("species")),split:p("",L&&L.split||n("split")),toPrimitive:p("",L&&L.toPrimitive||n("toPrimitive")),toStringTag:p("",L&&L.toStringTag||n("toStringTag")),unscopables:p("",L&&L.unscopables||n("unscopables"))})}},73852:function(H,U,e){var p=e(21092),L=e(63948),n=Object.create(null);H.exports=function(C){return Object.defineProperties(C,{for:p(function(T){return n[T]?n[T]:n[T]=C(String(T))}),keyFor:p(function(T){var v;L(T);for(v in n)if(n[v]===T)return v})})}},18376:function(H,U,e){var p=e(21092),L=e(63948),n=e(12296).Symbol,C=e(96863),T=e(53540),v=e(73852),g=Object.create,r=Object.defineProperties,t=Object.defineProperty,s,a,f;if(typeof n=="function")try{String(n()),f=!0}catch{}else n=null;a=function(l){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return s(l)},H.exports=s=function u(l){var m;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return f?n(l):(m=g(a.prototype),l=l===void 0?"":String(l),r(m,{__description__:p("",l),__name__:p("",C(l))}))},T(s),v(s),r(a.prototype,{constructor:p(s),toString:p("",function(){return this.__name__})}),r(s.prototype,{toString:p(function(){return"Symbol ("+L(this).__description__+")"}),valueOf:p(function(){return L(this)})}),t(s.prototype,s.toPrimitive,p("",function(){var u=L(this);return typeof u=="symbol"?u:u.toString()})),t(s.prototype,s.toStringTag,p("c","Symbol")),t(a.prototype,s.toStringTag,p("c",s.prototype[s.toStringTag])),t(a.prototype,s.toPrimitive,p("c",s.prototype[s.toPrimitive]))},63948:function(H,U,e){var p=e(53908);H.exports=function(L){if(!p(L))throw new TypeError(L+" is not a symbol");return L}},60463:function(H,U,e){H.exports=e(96979)()?WeakMap:e(64864)},96979:function(H){H.exports=function(){var U,e;if(typeof WeakMap!="function")return!1;try{U=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(U)!=="[object WeakMap]"||typeof U.set!="function"||U.set({},1)!==U||typeof U.delete!="function"||typeof U.has!="function"||U.get(e)!=="one")}},69876:function(H){H.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(H,U,e){var p=e(42584),L=e(69932),n=e(92584),C=e(9252),T=e(82252),v=e(21092),g=e(76252),r=e(76024),t=e(92664).toStringTag,s=e(69876),a=Array.isArray,f=Object.defineProperty,u=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,m;H.exports=m=function(){var h=arguments[0],M;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return M=s&&L&&WeakMap!==m?L(new WeakMap,l(this)):this,p(h)&&(a(h)||(h=g(h))),f(M,"__weakMapData__",v("c","$weakMap$"+T())),h&&r(h,function(c){C(c),M.set(c[0],c[1])}),M},s&&(L&&L(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:v(m)})),Object.defineProperties(m.prototype,{delete:v(function(h){return u.call(n(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(u.call(n(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return u.call(n(h),this.__weakMapData__)}),set:v(function(h,M){return f(n(h),this.__weakMapData__,v("c",M)),this}),toString:v(function(){return"[object WeakMap]"})}),f(m.prototype,t,v("c","WeakMap"))},61252:function(H){var U=typeof Reflect=="object"?Reflect:null,e=U&&typeof U.apply=="function"?U.apply:function(d,x,A){return Function.prototype.apply.call(d,x,A)},p;U&&typeof U.ownKeys=="function"?p=U.ownKeys:Object.getOwnPropertySymbols?p=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:p=function(d){return Object.getOwnPropertyNames(d)};function L(i){console&&console.warn&&console.warn(i)}var n=Number.isNaN||function(d){return d!==d};function C(){C.init.call(this)}H.exports=C,H.exports.once=h,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var T=10;function v(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(i){if(typeof i!="number"||i<0||n(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");T=i}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||n(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function g(i){return i._maxListeners===void 0?C.defaultMaxListeners:i._maxListeners}C.prototype.getMaxListeners=function(){return g(this)},C.prototype.emit=function(d){for(var x=[],A=1;A<arguments.length;A++)x.push(arguments[A]);var E=d==="error",y=this._events;if(y!==void 0)E=E&&y.error===void 0;else if(!E)return!1;if(E){var S;if(x.length>0&&(S=x[0]),S instanceof Error)throw S;var w=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw w.context=S,w}var o=y[d];if(o===void 0)return!1;if(typeof o=="function")e(o,this,x);else for(var _=o.length,b=u(o,_),A=0;A<_;++A)e(b[A],this,x);return!0};function r(i,d,x,A){var E,y,S;if(v(x),y=i._events,y===void 0?(y=i._events=Object.create(null),i._eventsCount=0):(y.newListener!==void 0&&(i.emit("newListener",d,x.listener?x.listener:x),y=i._events),S=y[d]),S===void 0)S=y[d]=x,++i._eventsCount;else if(typeof S=="function"?S=y[d]=A?[x,S]:[S,x]:A?S.unshift(x):S.push(x),E=g(i),E>0&&S.length>E&&!S.warned){S.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=i,w.type=d,w.count=S.length,L(w)}return i}C.prototype.addListener=function(d,x){return r(this,d,x,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(d,x){return r(this,d,x,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(i,d,x){var A={fired:!1,wrapFn:void 0,target:i,type:d,listener:x},E=t.bind(A);return E.listener=x,A.wrapFn=E,E}C.prototype.once=function(d,x){return v(x),this.on(d,s(this,d,x)),this},C.prototype.prependOnceListener=function(d,x){return v(x),this.prependListener(d,s(this,d,x)),this},C.prototype.removeListener=function(d,x){var A,E,y,S,w;if(v(x),E=this._events,E===void 0)return this;if(A=E[d],A===void 0)return this;if(A===x||A.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete E[d],E.removeListener&&this.emit("removeListener",d,A.listener||x));else if(typeof A!="function"){for(y=-1,S=A.length-1;S>=0;S--)if(A[S]===x||A[S].listener===x){w=A[S].listener,y=S;break}if(y<0)return this;y===0?A.shift():l(A,y),A.length===1&&(E[d]=A[0]),E.removeListener!==void 0&&this.emit("removeListener",d,w||x)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(d){var x,A,E;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[d]),this;if(arguments.length===0){var y=Object.keys(A),S;for(E=0;E<y.length;++E)S=y[E],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=A[d],typeof x=="function")this.removeListener(d,x);else if(x!==void 0)for(E=x.length-1;E>=0;E--)this.removeListener(d,x[E]);return this};function a(i,d,x){var A=i._events;if(A===void 0)return[];var E=A[d];return E===void 0?[]:typeof E=="function"?x?[E.listener||E]:[E]:x?m(E):u(E,E.length)}C.prototype.listeners=function(d){return a(this,d,!0)},C.prototype.rawListeners=function(d){return a(this,d,!1)},C.listenerCount=function(i,d){return typeof i.listenerCount=="function"?i.listenerCount(d):f.call(i,d)},C.prototype.listenerCount=f;function f(i){var d=this._events;if(d!==void 0){var x=d[i];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function u(i,d){for(var x=new Array(d),A=0;A<d;++A)x[A]=i[A];return x}function l(i,d){for(;d+1<i.length;d++)i[d]=i[d+1];i.pop()}function m(i){for(var d=new Array(i.length),x=0;x<d.length;++x)d[x]=i[x].listener||i[x];return d}function h(i,d){return new Promise(function(x,A){function E(S){i.removeListener(d,y),A(S)}function y(){typeof i.removeListener=="function"&&i.removeListener("error",E),x([].slice.call(arguments))}c(i,d,y,{once:!0}),d!=="error"&&M(i,E,{once:!0})})}function M(i,d,x){typeof i.on=="function"&&c(i,"error",d,x)}function c(i,d,x,A){if(typeof i.on=="function")A.once?i.once(d,x):i.on(d,x);else if(typeof i.addEventListener=="function")i.addEventListener(d,function E(y){A.once&&i.removeEventListener(d,E),x(y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}},39072:function(H){var U=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};H.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return U()}try{return __global__||U()}finally{delete Object.prototype.__global__}}()},12296:function(H,U,e){H.exports=e(45072)()?globalThis:e(39072)},45072:function(H){H.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(H,U,e){var p=e(94576);H.exports=function(L){var n=typeof L;if(n==="string"){var C=L;if(L=+L,L===0&&p(C))return!1}else if(n!=="number")return!1;return L-L<1}},47520:function(H,U,e){var p=e(72512);H.exports=L;function L(n,C,T){if(!n)throw new TypeError("must specify data as first parameter");if(T=+(T||0)|0,Array.isArray(n)&&n[0]&&typeof n[0][0]=="number"){var v=n[0].length,g=n.length*v,r,t,s,a;(!C||typeof C=="string")&&(C=new(p(C||"float32"))(g+T));var f=C.length-T;if(g!==f)throw new Error("source length "+g+" ("+v+"x"+n.length+") does not match destination length "+f);for(r=0,s=T;r<n.length;r++)for(t=0;t<v;t++)C[s++]=n[r][t]===null?NaN:n[r][t]}else if(!C||typeof C=="string"){var u=p(C||"float32");if(Array.isArray(n)||C==="array")for(C=new u(n.length+T),r=0,s=T,a=C.length;s<a;s++,r++)C[s]=n[r]===null?NaN:n[r];else T===0?C=new u(n):(C=new u(n.length+T),C.set(n,T))}else C.set(n,T);return C}},33888:function(H,U,e){var p=e(49395),L=[32,126];H.exports=n;function n(C){C=C||{};var T=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],v=C.canvas||document.createElement("canvas"),g=C.font,r=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],t=C.chars||L;if(g&&typeof g!="string"&&(g=p(g)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var s=[],a=t[0],f=0;a<=t[1];a++)s[f++]=String.fromCharCode(a);t=s}T=T.slice(),v.width=T[0],v.height=T[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=g,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var l=r[0]/2,m=r[1]/2,a=0;a<t.length;a++)u.fillText(t[a],l,m),(l+=r[0])>T[0]-r[0]/2&&(l=r[0]/2,m+=r[1]);return v}},71920:function(H){H.exports=U,U.canvas=document.createElement("canvas"),U.cache={};function U(t,C){C||(C={}),(typeof t=="string"||Array.isArray(t))&&(C.family=t);var T=Array.isArray(C.family)?C.family.join(", "):C.family;if(!T)throw Error("`family` must be defined");var v=C.size||C.fontSize||C.em||48,g=C.weight||C.fontWeight||"",r=C.style||C.fontStyle||"",t=[r,g,v].join(" ")+"px "+T,s=C.origin||"top";if(U.cache[T]&&v<=U.cache[T].em)return e(U.cache[T],s);var a=C.canvas||U.canvas,f=a.getContext("2d"),u={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},l=Math.ceil(v*1.5);a.height=l,a.width=l*.5,f.font=t;var m="H",h={top:0};f.clearRect(0,0,l,l),f.textBaseline="top",f.fillStyle="black",f.fillText(m,0,0);var M=p(f.getImageData(0,0,l,l));f.clearRect(0,0,l,l),f.textBaseline="bottom",f.fillText(m,0,l);var c=p(f.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-c+M,f.clearRect(0,0,l,l),f.textBaseline="alphabetic",f.fillText(m,0,l);var i=p(f.getImageData(0,0,l,l)),d=l-i-1+M;h.baseline=h.alphabetic=d,f.clearRect(0,0,l,l),f.textBaseline="middle",f.fillText(m,0,l*.5);var x=p(f.getImageData(0,0,l,l));h.median=h.middle=l-x-1+M-l*.5,f.clearRect(0,0,l,l),f.textBaseline="hanging",f.fillText(m,0,l*.5);var A=p(f.getImageData(0,0,l,l));h.hanging=l-A-1+M-l*.5,f.clearRect(0,0,l,l),f.textBaseline="ideographic",f.fillText(m,0,l);var E=p(f.getImageData(0,0,l,l));if(h.ideographic=l-E-1+M,u.upper&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.upper,0,0),h.upper=p(f.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),u.lower&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.lower,0,0),h.lower=p(f.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),u.tittle&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.tittle,0,0),h.tittle=p(f.getImageData(0,0,l,l))),u.ascent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.ascent,0,0),h.ascent=p(f.getImageData(0,0,l,l))),u.descent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.descent,0,0),h.descent=L(f.getImageData(0,0,l,l))),u.overshoot){f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.overshoot,0,0);var y=L(f.getImageData(0,0,l,l));h.overshoot=y-d}for(var S in h)h[S]/=v;return h.em=v,U.cache[T]=h,e(h,s)}function e(n,C){var T={};typeof C=="string"&&(C=n[C]);for(var v in n)v!=="em"&&(T[v]=n[v]-C);return T}function p(n){for(var C=n.height,T=n.data,v=3;v<T.length;v+=4)if(T[v]!==0)return Math.floor((v-3)*.25/C)}function L(n){for(var C=n.height,T=n.data,v=T.length-1;v>0;v-=4)if(T[v]!==0)return Math.floor((v-3)*.25/C)}},46492:function(H,U,e){var p=e(90720),L=Object.prototype.toString,n=Object.prototype.hasOwnProperty,C=function(t,s,a){for(var f=0,u=t.length;f<u;f++)n.call(t,f)&&(a==null?s(t[f],f,t):s.call(a,t[f],f,t))},T=function(t,s,a){for(var f=0,u=t.length;f<u;f++)a==null?s(t.charAt(f),f,t):s.call(a,t.charAt(f),f,t)},v=function(t,s,a){for(var f in t)n.call(t,f)&&(a==null?s(t[f],f,t):s.call(a,t[f],f,t))},g=function(t,s,a){if(!p(s))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=a),L.call(t)==="[object Array]"?C(t,s,f):typeof t=="string"?T(t,s,f):v(t,s,f)};H.exports=g},74336:function(H){var U="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,p=Math.max,L="[object Function]",n=function(g,r){for(var t=[],s=0;s<g.length;s+=1)t[s]=g[s];for(var a=0;a<r.length;a+=1)t[a+g.length]=r[a];return t},C=function(g,r){for(var t=[],s=r||0,a=0;s<g.length;s+=1,a+=1)t[a]=g[s];return t},T=function(v,g){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=g);return r};H.exports=function(g){var r=this;if(typeof r!="function"||e.apply(r)!==L)throw new TypeError(U+r);for(var t=C(arguments,1),s,a=function(){if(this instanceof s){var h=r.apply(this,n(t,arguments));return Object(h)===h?h:this}return r.apply(g,n(t,arguments))},f=p(0,r.length-t.length),u=[],l=0;l<f;l++)u[l]="$"+l;if(s=Function("binder","return function ("+T(u,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var m=function(){};m.prototype=r.prototype,s.prototype=new m,m.prototype=null}return s}},8844:function(H,U,e){var p=e(74336);H.exports=Function.prototype.bind||p},13380:function(H){H.exports=U;function U(e,p){if(typeof e!="string")throw new TypeError("must specify type string");if(p=p||{},typeof document>"u"&&!p.canvas)return null;var L=p.canvas||document.createElement("canvas");typeof p.width=="number"&&(L.width=p.width),typeof p.height=="number"&&(L.height=p.height);var n=p,C;try{var T=[e];e.indexOf("webgl")===0&&T.push("experimental-"+e);for(var v=0;v<T.length;v++)if(C=L.getContext(T[v],n),C)return C}catch{C=null}return C||null}},53664:function(H,U,e){var p,L=SyntaxError,n=Function,C=TypeError,T=function(b){try{return n('"use strict"; return ('+b+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var g=function(){throw new C},r=v?function(){try{return arguments.callee,g}catch{try{return v(arguments,"callee").get}catch{return g}}}():g,t=e(71080)(),s=e(69572)(),a=Object.getPrototypeOf||(s?function(b){return b.__proto__}:null),f={},u=typeof Uint8Array>"u"||!a?p:a(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?p:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?p:ArrayBuffer,"%ArrayIteratorPrototype%":t&&a?a([][Symbol.iterator]()):p,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?p:Atomics,"%BigInt%":typeof BigInt>"u"?p:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?p:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?p:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?p:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?p:Float32Array,"%Float64Array%":typeof Float64Array>"u"?p:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?p:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?p:Int8Array,"%Int16Array%":typeof Int16Array>"u"?p:Int16Array,"%Int32Array%":typeof Int32Array>"u"?p:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&a?a(a([][Symbol.iterator]())):p,"%JSON%":typeof JSON=="object"?JSON:p,"%Map%":typeof Map>"u"?p:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!a?p:a(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?p:Promise,"%Proxy%":typeof Proxy>"u"?p:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?p:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?p:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!a?p:a(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?p:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&a?a(""[Symbol.iterator]()):p,"%Symbol%":t?Symbol:p,"%SyntaxError%":L,"%ThrowTypeError%":r,"%TypedArray%":u,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?p:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?p:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?p:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?p:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?p:WeakMap,"%WeakRef%":typeof WeakRef>"u"?p:WeakRef,"%WeakSet%":typeof WeakSet>"u"?p:WeakSet};if(a)try{null.error}catch(b){var m=a(a(b));l["%Error.prototype%"]=m}var h=function b(I){var D;if(I==="%AsyncFunction%")D=T("async function () {}");else if(I==="%GeneratorFunction%")D=T("function* () {}");else if(I==="%AsyncGeneratorFunction%")D=T("async function* () {}");else if(I==="%AsyncGenerator%"){var N=b("%AsyncGeneratorFunction%");N&&(D=N.prototype)}else if(I==="%AsyncIteratorPrototype%"){var k=b("%AsyncGenerator%");k&&a&&(D=a(k.prototype))}return l[I]=D,D},M={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),i=e(92064),d=c.call(Function.call,Array.prototype.concat),x=c.call(Function.apply,Array.prototype.splice),A=c.call(Function.call,String.prototype.replace),E=c.call(Function.call,String.prototype.slice),y=c.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,o=function(I){var D=E(I,0,1),N=E(I,-1);if(D==="%"&&N!=="%")throw new L("invalid intrinsic syntax, expected closing `%`");if(N==="%"&&D!=="%")throw new L("invalid intrinsic syntax, expected opening `%`");var k=[];return A(I,S,function(z,F,O,B){k[k.length]=O?A(B,w,"$1"):F||z}),k},_=function(I,D){var N=I,k;if(i(M,N)&&(k=M[N],N="%"+k[0]+"%"),i(l,N)){var z=l[N];if(z===f&&(z=h(N)),typeof z>"u"&&!D)throw new C("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:k,name:N,value:z}}throw new L("intrinsic "+I+" does not exist!")};H.exports=function(I,D){if(typeof I!="string"||I.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new C('"allowMissing" argument must be a boolean');if(y(/^%?[^%]*%?$/,I)===null)throw new L("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=o(I),k=N.length>0?N[0]:"",z=_("%"+k+"%",D),F=z.name,O=z.value,B=!1,W=z.alias;W&&(k=W[0],x(N,d([0,1],W)));for(var ee=1,ne=!0;ee<N.length;ee+=1){var Q=N[ee],le=E(Q,0,1),Z=E(Q,-1);if((le==='"'||le==="'"||le==="`"||Z==='"'||Z==="'"||Z==="`")&&le!==Z)throw new L("property names with quotes must have matching quotes");if((Q==="constructor"||!ne)&&(B=!0),k+="."+Q,F="%"+k+"%",i(l,F))O=l[F];else if(O!=null){if(!(Q in O)){if(!D)throw new C("base intrinsic for "+I+" exists, but the property is not available.");return}if(v&&ee+1>=N.length){var Y=v(O,Q);ne=!!Y,ne&&"get"in Y&&!("originalValue"in Y.get)?O=Y.get:O=O[Q]}else ne=i(O,Q),O=O[Q];ne&&!B&&(l[F]=O)}}return O}},12408:function(H){H.exports=U;function U(e,p){var L=p[0],n=p[1],C=p[2],T=p[3],v=p[4],g=p[5],r=p[6],t=p[7],s=p[8],a=p[9],f=p[10],u=p[11],l=p[12],m=p[13],h=p[14],M=p[15];return e[0]=g*(f*M-u*h)-a*(r*M-t*h)+m*(r*u-t*f),e[1]=-(n*(f*M-u*h)-a*(C*M-T*h)+m*(C*u-T*f)),e[2]=n*(r*M-t*h)-g*(C*M-T*h)+m*(C*t-T*r),e[3]=-(n*(r*u-t*f)-g*(C*u-T*f)+a*(C*t-T*r)),e[4]=-(v*(f*M-u*h)-s*(r*M-t*h)+l*(r*u-t*f)),e[5]=L*(f*M-u*h)-s*(C*M-T*h)+l*(C*u-T*f),e[6]=-(L*(r*M-t*h)-v*(C*M-T*h)+l*(C*t-T*r)),e[7]=L*(r*u-t*f)-v*(C*u-T*f)+s*(C*t-T*r),e[8]=v*(a*M-u*m)-s*(g*M-t*m)+l*(g*u-t*a),e[9]=-(L*(a*M-u*m)-s*(n*M-T*m)+l*(n*u-T*a)),e[10]=L*(g*M-t*m)-v*(n*M-T*m)+l*(n*t-T*g),e[11]=-(L*(g*u-t*a)-v*(n*u-T*a)+s*(n*t-T*g)),e[12]=-(v*(a*h-f*m)-s*(g*h-r*m)+l*(g*f-r*a)),e[13]=L*(a*h-f*m)-s*(n*h-C*m)+l*(n*f-C*a),e[14]=-(L*(g*h-r*m)-v*(n*h-C*m)+l*(n*r-C*g)),e[15]=L*(g*f-r*a)-v*(n*f-C*a)+s*(n*r-C*g),e}},76860:function(H){H.exports=U;function U(e){var p=new Float32Array(16);return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p[4]=e[4],p[5]=e[5],p[6]=e[6],p[7]=e[7],p[8]=e[8],p[9]=e[9],p[10]=e[10],p[11]=e[11],p[12]=e[12],p[13]=e[13],p[14]=e[14],p[15]=e[15],p}},64492:function(H){H.exports=U;function U(e,p){return e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},54212:function(H){H.exports=U;function U(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(H){H.exports=U;function U(e){var p=e[0],L=e[1],n=e[2],C=e[3],T=e[4],v=e[5],g=e[6],r=e[7],t=e[8],s=e[9],a=e[10],f=e[11],u=e[12],l=e[13],m=e[14],h=e[15],M=p*v-L*T,c=p*g-n*T,i=p*r-C*T,d=L*g-n*v,x=L*r-C*v,A=n*r-C*g,E=t*l-s*u,y=t*m-a*u,S=t*h-f*u,w=s*m-a*l,o=s*h-f*l,_=a*h-f*m;return M*_-c*o+i*w+d*S-x*y+A*E}},61784:function(H){H.exports=U;function U(e,p){var L=p[0],n=p[1],C=p[2],T=p[3],v=L+L,g=n+n,r=C+C,t=L*v,s=n*v,a=n*g,f=C*v,u=C*g,l=C*r,m=T*v,h=T*g,M=T*r;return e[0]=1-a-l,e[1]=s+M,e[2]=f-h,e[3]=0,e[4]=s-M,e[5]=1-t-l,e[6]=u+m,e[7]=0,e[8]=f+h,e[9]=u-m,e[10]=1-t-a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(H){H.exports=U;function U(e,p,L){var n,C,T,v=L[0],g=L[1],r=L[2],t=Math.sqrt(v*v+g*g+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,g*=t,r*=t,n=Math.sin(p),C=Math.cos(p),T=1-C,e[0]=v*v*T+C,e[1]=g*v*T+r*n,e[2]=r*v*T-g*n,e[3]=0,e[4]=v*g*T-r*n,e[5]=g*g*T+C,e[6]=r*g*T+v*n,e[7]=0,e[8]=v*r*T+g*n,e[9]=g*r*T-v*n,e[10]=r*r*T+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(H){H.exports=U;function U(e,p,L){var n=p[0],C=p[1],T=p[2],v=p[3],g=n+n,r=C+C,t=T+T,s=n*g,a=n*r,f=n*t,u=C*r,l=C*t,m=T*t,h=v*g,M=v*r,c=v*t;return e[0]=1-(u+m),e[1]=a+c,e[2]=f-M,e[3]=0,e[4]=a-c,e[5]=1-(s+m),e[6]=l+h,e[7]=0,e[8]=f+M,e[9]=l-h,e[10]=1-(s+u),e[11]=0,e[12]=L[0],e[13]=L[1],e[14]=L[2],e[15]=1,e}},69444:function(H){H.exports=U;function U(e,p){return e[0]=p[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=p[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=p[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(H){H.exports=U;function U(e,p){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=p[0],e[13]=p[1],e[14]=p[2],e[15]=1,e}},21856:function(H){H.exports=U;function U(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=L,e[7]=0,e[8]=0,e[9]=-L,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(H){H.exports=U;function U(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=n,e[1]=0,e[2]=-L,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=L,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(H){H.exports=U;function U(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=n,e[1]=L,e[2]=0,e[3]=0,e[4]=-L,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(H){H.exports=U;function U(e,p,L,n,C,T,v){var g=1/(L-p),r=1/(C-n),t=1/(T-v);return e[0]=T*2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T*2*r,e[6]=0,e[7]=0,e[8]=(L+p)*g,e[9]=(C+n)*r,e[10]=(v+T)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*T*2*t,e[15]=0,e}},36635:function(H){H.exports=U;function U(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(H,U,e){H.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(H){H.exports=U;function U(e,p){var L=p[0],n=p[1],C=p[2],T=p[3],v=p[4],g=p[5],r=p[6],t=p[7],s=p[8],a=p[9],f=p[10],u=p[11],l=p[12],m=p[13],h=p[14],M=p[15],c=L*g-n*v,i=L*r-C*v,d=L*t-T*v,x=n*r-C*g,A=n*t-T*g,E=C*t-T*r,y=s*m-a*l,S=s*h-f*l,w=s*M-u*l,o=a*h-f*m,_=a*M-u*m,b=f*M-u*h,I=c*b-i*_+d*o+x*w-A*S+E*y;return I?(I=1/I,e[0]=(g*b-r*_+t*o)*I,e[1]=(C*_-n*b-T*o)*I,e[2]=(m*E-h*A+M*x)*I,e[3]=(f*A-a*E-u*x)*I,e[4]=(r*w-v*b-t*S)*I,e[5]=(L*b-C*w+T*S)*I,e[6]=(h*d-l*E-M*i)*I,e[7]=(s*E-f*d+u*i)*I,e[8]=(v*_-g*w+t*y)*I,e[9]=(n*w-L*_-T*y)*I,e[10]=(l*A-m*d+M*c)*I,e[11]=(a*d-s*A-u*c)*I,e[12]=(g*S-v*o-r*y)*I,e[13]=(L*o-n*S+C*y)*I,e[14]=(m*i-l*x-h*c)*I,e[15]=(s*x-a*i+f*c)*I,e):null}},56508:function(H,U,e){var p=e(36635);H.exports=L;function L(n,C,T,v){var g,r,t,s,a,f,u,l,m,h,M=C[0],c=C[1],i=C[2],d=v[0],x=v[1],A=v[2],E=T[0],y=T[1],S=T[2];return Math.abs(M-E)<1e-6&&Math.abs(c-y)<1e-6&&Math.abs(i-S)<1e-6?p(n):(u=M-E,l=c-y,m=i-S,h=1/Math.sqrt(u*u+l*l+m*m),u*=h,l*=h,m*=h,g=x*m-A*l,r=A*u-d*m,t=d*l-x*u,h=Math.sqrt(g*g+r*r+t*t),h?(h=1/h,g*=h,r*=h,t*=h):(g=0,r=0,t=0),s=l*t-m*r,a=m*g-u*t,f=u*r-l*g,h=Math.sqrt(s*s+a*a+f*f),h?(h=1/h,s*=h,a*=h,f*=h):(s=0,a=0,f=0),n[0]=g,n[1]=s,n[2]=u,n[3]=0,n[4]=r,n[5]=a,n[6]=l,n[7]=0,n[8]=t,n[9]=f,n[10]=m,n[11]=0,n[12]=-(g*M+r*c+t*i),n[13]=-(s*M+a*c+f*i),n[14]=-(u*M+l*c+m*i),n[15]=1,n)}},80944:function(H){H.exports=U;function U(e,p,L){var n=p[0],C=p[1],T=p[2],v=p[3],g=p[4],r=p[5],t=p[6],s=p[7],a=p[8],f=p[9],u=p[10],l=p[11],m=p[12],h=p[13],M=p[14],c=p[15],i=L[0],d=L[1],x=L[2],A=L[3];return e[0]=i*n+d*g+x*a+A*m,e[1]=i*C+d*r+x*f+A*h,e[2]=i*T+d*t+x*u+A*M,e[3]=i*v+d*s+x*l+A*c,i=L[4],d=L[5],x=L[6],A=L[7],e[4]=i*n+d*g+x*a+A*m,e[5]=i*C+d*r+x*f+A*h,e[6]=i*T+d*t+x*u+A*M,e[7]=i*v+d*s+x*l+A*c,i=L[8],d=L[9],x=L[10],A=L[11],e[8]=i*n+d*g+x*a+A*m,e[9]=i*C+d*r+x*f+A*h,e[10]=i*T+d*t+x*u+A*M,e[11]=i*v+d*s+x*l+A*c,i=L[12],d=L[13],x=L[14],A=L[15],e[12]=i*n+d*g+x*a+A*m,e[13]=i*C+d*r+x*f+A*h,e[14]=i*T+d*t+x*u+A*M,e[15]=i*v+d*s+x*l+A*c,e}},97688:function(H){H.exports=U;function U(e,p,L,n,C,T,v){var g=1/(p-L),r=1/(n-C),t=1/(T-v);return e[0]=-2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(p+L)*g,e[13]=(C+n)*r,e[14]=(v+T)*t,e[15]=1,e}},51296:function(H){H.exports=U;function U(e,p,L,n,C){var T=1/Math.tan(p/2),v=1/(n-C);return e[0]=T/L,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+n)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*n*v,e[15]=0,e}},63688:function(H){H.exports=U;function U(e,p,L,n){var C=Math.tan(p.upDegrees*Math.PI/180),T=Math.tan(p.downDegrees*Math.PI/180),v=Math.tan(p.leftDegrees*Math.PI/180),g=Math.tan(p.rightDegrees*Math.PI/180),r=2/(v+g),t=2/(C+T);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-g)*r*.5),e[9]=(C-T)*t*.5,e[10]=n/(L-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*L/(L-n),e[15]=0,e}},30016:function(H){H.exports=U;function U(e,p,L,n){var C=n[0],T=n[1],v=n[2],g=Math.sqrt(C*C+T*T+v*v),r,t,s,a,f,u,l,m,h,M,c,i,d,x,A,E,y,S,w,o,_,b,I,D;return Math.abs(g)<1e-6?null:(g=1/g,C*=g,T*=g,v*=g,r=Math.sin(L),t=Math.cos(L),s=1-t,a=p[0],f=p[1],u=p[2],l=p[3],m=p[4],h=p[5],M=p[6],c=p[7],i=p[8],d=p[9],x=p[10],A=p[11],E=C*C*s+t,y=T*C*s+v*r,S=v*C*s-T*r,w=C*T*s-v*r,o=T*T*s+t,_=v*T*s+C*r,b=C*v*s+T*r,I=T*v*s-C*r,D=v*v*s+t,e[0]=a*E+m*y+i*S,e[1]=f*E+h*y+d*S,e[2]=u*E+M*y+x*S,e[3]=l*E+c*y+A*S,e[4]=a*w+m*o+i*_,e[5]=f*w+h*o+d*_,e[6]=u*w+M*o+x*_,e[7]=l*w+c*o+A*_,e[8]=a*b+m*I+i*D,e[9]=f*b+h*I+d*D,e[10]=u*b+M*I+x*D,e[11]=l*b+c*I+A*D,p!==e&&(e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e)}},15456:function(H){H.exports=U;function U(e,p,L){var n=Math.sin(L),C=Math.cos(L),T=p[4],v=p[5],g=p[6],r=p[7],t=p[8],s=p[9],a=p[10],f=p[11];return p!==e&&(e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[4]=T*C+t*n,e[5]=v*C+s*n,e[6]=g*C+a*n,e[7]=r*C+f*n,e[8]=t*C-T*n,e[9]=s*C-v*n,e[10]=a*C-g*n,e[11]=f*C-r*n,e}},64840:function(H){H.exports=U;function U(e,p,L){var n=Math.sin(L),C=Math.cos(L),T=p[0],v=p[1],g=p[2],r=p[3],t=p[8],s=p[9],a=p[10],f=p[11];return p!==e&&(e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=T*C-t*n,e[1]=v*C-s*n,e[2]=g*C-a*n,e[3]=r*C-f*n,e[8]=T*n+t*C,e[9]=v*n+s*C,e[10]=g*n+a*C,e[11]=r*n+f*C,e}},4192:function(H){H.exports=U;function U(e,p,L){var n=Math.sin(L),C=Math.cos(L),T=p[0],v=p[1],g=p[2],r=p[3],t=p[4],s=p[5],a=p[6],f=p[7];return p!==e&&(e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=T*C+t*n,e[1]=v*C+s*n,e[2]=g*C+a*n,e[3]=r*C+f*n,e[4]=t*C-T*n,e[5]=s*C-v*n,e[6]=a*C-g*n,e[7]=f*C-r*n,e}},68152:function(H){H.exports=U;function U(e,p,L){var n=L[0],C=L[1],T=L[2];return e[0]=p[0]*n,e[1]=p[1]*n,e[2]=p[2]*n,e[3]=p[3]*n,e[4]=p[4]*C,e[5]=p[5]*C,e[6]=p[6]*C,e[7]=p[7]*C,e[8]=p[8]*T,e[9]=p[9]*T,e[10]=p[10]*T,e[11]=p[11]*T,e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},89412:function(H){H.exports=U;function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(H){H.exports=U;function U(e,p,L){var n=L[0],C=L[1],T=L[2],v,g,r,t,s,a,f,u,l,m,h,M;return p===e?(e[12]=p[0]*n+p[4]*C+p[8]*T+p[12],e[13]=p[1]*n+p[5]*C+p[9]*T+p[13],e[14]=p[2]*n+p[6]*C+p[10]*T+p[14],e[15]=p[3]*n+p[7]*C+p[11]*T+p[15]):(v=p[0],g=p[1],r=p[2],t=p[3],s=p[4],a=p[5],f=p[6],u=p[7],l=p[8],m=p[9],h=p[10],M=p[11],e[0]=v,e[1]=g,e[2]=r,e[3]=t,e[4]=s,e[5]=a,e[6]=f,e[7]=u,e[8]=l,e[9]=m,e[10]=h,e[11]=M,e[12]=v*n+s*C+l*T+p[12],e[13]=g*n+a*C+m*T+p[13],e[14]=r*n+f*C+h*T+p[14],e[15]=t*n+u*C+M*T+p[15]),e}},86520:function(H){H.exports=U;function U(e,p){if(e===p){var L=p[1],n=p[2],C=p[3],T=p[6],v=p[7],g=p[11];e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=L,e[6]=p[9],e[7]=p[13],e[8]=n,e[9]=T,e[11]=p[14],e[12]=C,e[13]=v,e[14]=g}else e[0]=p[0],e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=p[1],e[5]=p[5],e[6]=p[9],e[7]=p[13],e[8]=p[2],e[9]=p[6],e[10]=p[10],e[11]=p[14],e[12]=p[3],e[13]=p[7],e[14]=p[11],e[15]=p[15];return e}},23352:function(H,U,e){var p=e(42771),L=e(55616),n=e(28624),C=e(55212),T=e(60463),v=e(72160),g=e(33888),r=e(14144),t=e(51160),s=e(58908),a=e(65819),f=e(23464),u=e(63768),l=e(50896),m=e(71920),h=e(47520),M=e(308),c=M.nextPow2,i=new T,d=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(d=!0),document.body.removeChild(x)}var A=function(S){E(S)?(S={regl:S},this.gl=S.regl._gl):this.gl=C(S),this.shader=i.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=S.regl||n({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),i.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(s(S)?S:{})};A.prototype.createShader=function(){var S=this.regl,w=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(_,b){return[b.atlas.width,b.atlas.height]},atlasDim:function(_,b){return[b.atlas.cols,b.atlas.rows]},atlas:function(_,b){return b.atlas.texture},charStep:function(_,b){return b.atlas.step},em:function(_,b){return b.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),o={};return{regl:S,draw:w,atlas:o}},A.prototype.update=function(S){var w=this;if(typeof S=="string")S={text:S};else if(!S)return;S=L(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),S.opacity!=null&&(Array.isArray(S.opacity)?this.opacity=S.opacity.map(function(Fe){return parseFloat(Fe)}):this.opacity=parseFloat(S.opacity)),S.viewport!=null&&(this.viewport=t(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),S.kerning!=null&&(this.kerning=S.kerning),S.offset!=null&&(typeof S.offset=="number"&&(S.offset=[S.offset,0]),this.positionOffset=h(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=A.baseFontSize+"px sans-serif");var o=!1,_=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(Fe,We){if(typeof Fe=="string")try{Fe=p.parse(Fe)}catch{Fe=p.parse(A.baseFontSize+"px "+Fe)}else Fe=p.parse(p.stringify(Fe));var ut=p.stringify({size:A.baseFontSize,family:Fe.family,stretch:d?Fe.stretch:void 0,variant:Fe.variant,weight:Fe.weight,style:Fe.style}),ht=a(Fe.size),rt=Math.round(ht[0]*f(ht[1]));if(rt!==w.fontSize[We]&&(_=!0,w.fontSize[We]=rt),(!w.font[We]||ut!=w.font[We].baseString)&&(o=!0,w.font[We]=A.fonts[ut],!w.font[We])){var tt=Fe.family.join(", "),vt=[Fe.style];Fe.style!=Fe.variant&&vt.push(Fe.variant),Fe.variant!=Fe.weight&&vt.push(Fe.weight),d&&Fe.weight!=Fe.stretch&&vt.push(Fe.stretch),w.font[We]={baseString:ut,family:tt,weight:Fe.weight,stretch:Fe.stretch,style:Fe.style,variant:Fe.variant,width:{},kerning:{},metrics:m(tt,{origin:"top",fontSize:A.baseFontSize,fontStyle:vt.join(" ")})},A.fonts[ut]=w.font[We]}}),(o||_)&&this.font.forEach(function(Fe,We){var ut=p.stringify({size:w.fontSize[We],family:Fe.family,stretch:d?Fe.stretch:void 0,variant:Fe.variant,weight:Fe.weight,style:Fe.style});if(w.fontAtlas[We]=w.shader.atlas[ut],!w.fontAtlas[We]){var ht=Fe.metrics;w.shader.atlas[ut]=w.fontAtlas[We]={fontString:ut,step:Math.ceil(w.fontSize[We]*ht.bottom*.5)*2,em:w.fontSize[We],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:w.regl.texture()}}S.text==null&&(S.text=w.text)}),typeof S.text=="string"&&S.position&&S.position.length>2){for(var b=Array(S.position.length*.5),I=0;I<b.length;I++)b[I]=S.text;S.text=b}var D;if(S.text!=null||o){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var N=1;N<S.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+S.text[N-1].length,this.count+=S.text[N].length,this.counts.push(S.text[N].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];D=[],this.font.forEach(function(Fe,We){A.atlasContext.font=Fe.baseString;for(var ut=w.fontAtlas[We],ht=0;ht<w.text.length;ht++){var rt=w.text.charAt(ht);if(ut.ids[rt]==null&&(ut.ids[rt]=ut.chars.length,ut.chars.push(rt),D.push(rt)),Fe.width[rt]==null&&(Fe.width[rt]=A.atlasContext.measureText(rt).width/A.baseFontSize,w.kerning)){var tt=[];for(var vt in Fe.width)tt.push(vt+rt,rt+vt);l(Fe.kerning,u(Fe.family,{pairs:tt}))}}})}if(S.position)if(S.position.length>2){for(var k=!S.position[0].length,z=r.mallocFloat(this.count*2),F=0,O=0;F<this.counts.length;F++){var B=this.counts[F];if(k)for(var W=0;W<B;W++)z[O++]=S.position[F*2],z[O++]=S.position[F*2+1];else for(var ee=0;ee<B;ee++)z[O++]=S.position[F][0],z[O++]=S.position[F][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),r.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||o){var ne=r.mallocUint8(this.count),Q=r.mallocFloat(this.count*2);this.textWidth=[];for(var le=0,Z=0;le<this.counts.length;le++){for(var Y=this.counts[le],re=this.font[le]||this.font[0],X=this.fontAtlas[le]||this.fontAtlas[0],q=0;q<Y;q++){var se=this.text.charAt(Z),$=this.text.charAt(Z-1);if(ne[Z]=X.ids[se],Q[Z*2]=re.width[se],q){var j=Q[Z*2-2],ue=Q[Z*2],ae=Q[Z*2-1],ce=ae+j*.5+ue*.5;if(this.kerning){var ye=re.kerning[$+se];ye&&(ce+=ye*.001)}Q[Z*2+1]=ce}else Q[Z*2+1]=Q[Z*2]*.5;Z++}this.textWidth.push(Q.length?Q[Z*2-2]*.5+Q[Z*2-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:ne,type:"uint8",usage:"stream"}),this.sizeBuffer({data:Q,type:"float",usage:"stream"}),r.freeUint8(ne),r.freeFloat(Q),D.length&&this.font.forEach(function(Fe,We){var ut=w.fontAtlas[We],ht=ut.step,rt=Math.floor(A.maxAtlasSize/ht),tt=Math.min(rt,ut.chars.length),vt=Math.ceil(ut.chars.length/tt),pt=c(tt*ht),mt=c(vt*ht);ut.width=pt,ut.height=mt,ut.rows=vt,ut.cols=tt,ut.em&&ut.texture({data:g({canvas:A.atlasCanvas,font:ut.fontString,chars:ut.chars,shape:[pt,mt],step:[ht,ht]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(Fe,We){var ut=Array.isArray(w.align)?w.align.length>1?w.align[We]:w.align[0]:w.align;if(typeof ut=="number")return ut;switch(ut){case"right":case"end":return-Fe;case"center":case"centre":case"middle":return-Fe*.5}return 0})),this.baseline==null&&S.baseline==null&&(S.baseline=0),S.baseline!=null&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Fe,We){var ut=(w.font[We]||w.font[0]).metrics,ht=0;return ht+=ut.bottom*.5,typeof Fe=="number"?ht+=Fe-ut.baseline:ht+=-ut[Fe],ht*=-1,ht})),S.color!=null)if(S.color||(S.color="transparent"),typeof S.color=="string"||!isNaN(S.color))this.color=v(S.color,"uint8");else{var Ce;if(typeof S.color[0]=="number"&&S.color.length>this.counts.length){var Ae=S.color.length;Ce=r.mallocUint8(Ae);for(var Ie=(S.color.subarray||S.color.slice).bind(S.color),Te=0;Te<Ae;Te+=4)Ce.set(v(Ie(Te,Te+4),"uint8"),Te)}else{var Le=S.color.length;Ce=r.mallocUint8(Le*4);for(var xe=0;xe<Le;xe++)Ce.set(v(S.color[xe]||0,"uint8"),xe*4)}this.color=Ce}if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity){var Re=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Re){var He=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(He);for(var Ve=0;Ve<this.batch.length;Ve++)this.batch[Ve]={count:this.counts.length>1?this.counts[Ve]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ve]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ve*4,Ve*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ve]:this.opacity,baseline:this.baselineOffset[Ve]!=null?this.baselineOffset[Ve]:this.baselineOffset[0],align:this.align?this.alignOffset[Ve]!=null?this.alignOffset[Ve]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ve]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ve*2,Ve*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={};function E(y){return typeof y=="function"&&y._gl&&y.prop&&y.texture&&y.buffer}H.exports=A},55212:function(H,U,e){var p=e(55616);H.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},n(r)?r={container:r}:C(r)?r={container:r}:T(r)?r={gl:r}:r=p(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}n(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),L(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),L(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(s){try{r.gl=r.canvas.getContext(s,r.attrs)}catch{}return r.gl}),r.gl};function L(g){if(g.container)if(g.container==document.body)document.body.style.width||(g.canvas.width=g.width||g.pixelRatio*e.g.innerWidth),document.body.style.height||(g.canvas.height=g.height||g.pixelRatio*e.g.innerHeight);else{var r=g.container.getBoundingClientRect();g.canvas.width=g.width||r.right-r.left,g.canvas.height=g.height||r.bottom-r.top}}function n(g){return typeof g.getContext=="function"&&"width"in g&&"height"in g}function C(g){return typeof g.nodeName=="string"&&typeof g.appendChild=="function"&&typeof g.getBoundingClientRect=="function"}function T(g){return typeof g.drawArrays=="function"||typeof g.drawElements=="function"}function v(){var g=document.createElement("canvas");return g.style.position="absolute",g.style.top=0,g.style.left=0,g}},26444:function(H){H.exports=function(U){typeof U=="string"&&(U=[U]);for(var e=[].slice.call(arguments,1),p=[],L=0;L<U.length-1;L++)p.push(U[L],e[L]||"");return p.push(U[L]),p.join("")}},2304:function(H,U,e){var p=e(53664),L=p("%Object.getOwnPropertyDescriptor%",!0);if(L)try{L([],"length")}catch{L=null}H.exports=L},52264:function(H,U,e){var p=e(24200),L;typeof e.g.matchMedia=="function"?L=!e.g.matchMedia("(hover: none)").matches:L=p,H.exports=L},89184:function(H,U,e){var p=e(24200);function L(){var n=!1;try{var C=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{n=!1}return n}H.exports=p&&L()},39640:function(H,U,e){var p=e(53664),L=p("%Object.defineProperty%",!0),n=function(){if(L)try{return L({},"a",{value:1}),!0}catch{return!1}return!1};n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return L([],"length",{value:1}).length!==1}catch{return!0}},H.exports=n},69572:function(H){var U={foo:{}},e=Object;H.exports=function(){return{__proto__:U}.foo===U.foo&&!({__proto__:null}instanceof e)}},71080:function(H,U,e){var p=typeof Symbol<"u"&&Symbol,L=e(89320);H.exports=function(){return typeof p!="function"||typeof Symbol!="function"||typeof p("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},89320:function(H){H.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},p=Symbol("test"),L=Object(p);if(typeof p=="string"||Object.prototype.toString.call(p)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var n=42;e[p]=n;for(p in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==p||!Object.prototype.propertyIsEnumerable.call(e,p))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var T=Object.getOwnPropertyDescriptor(e,p);if(T.value!==n||T.enumerable!==!0)return!1}return!0}},46672:function(H,U,e){var p=e(89320);H.exports=function(){return p()&&!!Symbol.toStringTag}},92064:function(H,U,e){var p=Function.prototype.call,L=Object.prototype.hasOwnProperty,n=e(8844);H.exports=n.call(p,L)},35984:function(H,U){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */U.read=function(e,p,L,n,C){var T,v,g=C*8-n-1,r=(1<<g)-1,t=r>>1,s=-7,a=L?C-1:0,f=L?-1:1,u=e[p+a];for(a+=f,T=u&(1<<-s)-1,u>>=-s,s+=g;s>0;T=T*256+e[p+a],a+=f,s-=8);for(v=T&(1<<-s)-1,T>>=-s,s+=n;s>0;v=v*256+e[p+a],a+=f,s-=8);if(T===0)T=1-t;else{if(T===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,n),T=T-t}return(u?-1:1)*v*Math.pow(2,T-n)},U.write=function(e,p,L,n,C,T){var v,g,r,t=T*8-C-1,s=(1<<t)-1,a=s>>1,f=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:T-1,l=n?1:-1,m=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(g=isNaN(p)?1:0,v=s):(v=Math.floor(Math.log(p)/Math.LN2),p*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+a>=1?p+=f/r:p+=f*Math.pow(2,1-a),p*r>=2&&(v++,r/=2),v+a>=s?(g=0,v=s):v+a>=1?(g=(p*r-1)*Math.pow(2,C),v=v+a):(g=p*Math.pow(2,a-1)*Math.pow(2,C),v=0));C>=8;e[L+u]=g&255,u+=l,g/=256,C-=8);for(v=v<<C|g,t+=C;t>0;e[L+u]=v&255,u+=l,v/=256,t-=8);e[L+u-l]|=m*128}},6768:function(H){typeof Object.create=="function"?H.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:H.exports=function(e,p){if(p){e.super_=p;var L=function(){};L.prototype=p.prototype,e.prototype=new L,e.prototype.constructor=e}}},91148:function(H,U,e){var p=e(46672)(),L=e(99676),n=L("Object.prototype.toString"),C=function(r){return p&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:n(r)==="[object Arguments]"},T=function(r){return C(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&n(r)!=="[object Array]"&&n(r.callee)==="[object Function]"},v=function(){return C(arguments)}();C.isLegacyArguments=T,H.exports=v?C:T},24200:function(H){H.exports=!0},90720:function(H){var U=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,p,L;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{p=Object.defineProperty({},"length",{get:function(){throw L}}),L={},e(function(){throw 42},null,p)}catch(M){M!==L&&(e=null)}else e=null;var n=/^\s*class\b/,C=function(c){try{var i=U.call(c);return n.test(i)}catch{return!1}},T=function(c){try{return C(c)?!1:(U.call(c),!0)}catch{return!1}},v=Object.prototype.toString,g="[object Object]",r="[object Function]",t="[object GeneratorFunction]",s="[object HTMLAllCollection]",a="[object HTML document.all class]",f="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(m=function(c){if((l||!c)&&(typeof c>"u"||typeof c=="object"))try{var i=v.call(c);return(i===s||i===a||i===f||i===g)&&c("")==null}catch{}return!1})}H.exports=e?function(c){if(m(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,p)}catch(i){if(i!==L)return!1}return!C(c)&&T(c)}:function(c){if(m(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(u)return T(c);if(C(c))return!1;var i=v.call(c);return i!==r&&i!==t&&!/^\[object HTML/.test(i)?!1:T(c)}},84420:function(H,U,e){var p=Object.prototype.toString,L=Function.prototype.toString,n=/^\s*(?:function)?\*/,C=e(46672)(),T=Object.getPrototypeOf,v=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},g;H.exports=function(t){if(typeof t!="function")return!1;if(n.test(L.call(t)))return!0;if(!C){var s=p.call(t);return s==="[object GeneratorFunction]"}if(!T)return!1;if(typeof g>"u"){var a=v();g=a?T(a):!1}return T(t)===g}},96604:function(H){H.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(H){H.exports=function(e){return e!==e}},1560:function(H,U,e){var p=e(57916),L=e(81288),n=e(85992),C=e(57740),T=e(59736),v=p(C(),Number);L(v,{getPolyfill:C,implementation:n,shim:T}),H.exports=v},57740:function(H,U,e){var p=e(85992);H.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:p}},59736:function(H,U,e){var p=e(81288),L=e(57740);H.exports=function(){var C=L();return p(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},18400:function(H){H.exports=function(U){var e=typeof U;return U!==null&&(e==="object"||e==="function")}},58908:function(H){var U=Object.prototype.toString;H.exports=function(e){var p;return U.call(e)==="[object Object]"&&(p=Object.getPrototypeOf(e),p===null||p===Object.getPrototypeOf({}))}},94576:function(H){H.exports=function(U){for(var e=U.length,p,L=0;L<e;L++)if(p=U.charCodeAt(L),(p<9||p>13)&&p!==32&&p!==133&&p!==160&&p!==5760&&p!==6158&&(p<8192||p>8205)&&p!==8232&&p!==8233&&p!==8239&&p!==8287&&p!==8288&&p!==12288&&p!==65279)return!1;return!0}},53520:function(H){H.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(H,U,e){var p=e(46492),L=e(63436),n=e(99676),C=n("Object.prototype.toString"),T=e(46672)(),v=e(2304),g=typeof globalThis>"u"?e.g:globalThis,r=L(),t=n("Array.prototype.indexOf",!0)||function(m,h){for(var M=0;M<m.length;M+=1)if(m[M]===h)return M;return-1},s=n("String.prototype.slice"),a={},f=Object.getPrototypeOf;T&&v&&f&&p(r,function(l){var m=new g[l];if(Symbol.toStringTag in m){var h=f(m),M=v(h,Symbol.toStringTag);if(!M){var c=f(h);M=v(c,Symbol.toStringTag)}a[l]=M.get}});var u=function(m){var h=!1;return p(a,function(M,c){if(!h)try{h=M.call(m)===c}catch{}}),h};H.exports=function(m){if(!m||typeof m!="object")return!1;if(!T||!(Symbol.toStringTag in m)){var h=s(C(m),8,-1);return t(r,h)>-1}return v?u(m):!1}},76244:function(H){H.exports=Math.log2||function(U){return Math.log(U)*Math.LOG2E}},62644:function(H,U,e){H.exports=L;var p=e(93784);function L(n,C){C||(C=n,n=window);var T=0,v=0,g=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function s(x){var A=!1;return"altKey"in x&&(A=A||x.altKey!==r.alt,r.alt=!!x.altKey),"shiftKey"in x&&(A=A||x.shiftKey!==r.shift,r.shift=!!x.shiftKey),"ctrlKey"in x&&(A=A||x.ctrlKey!==r.control,r.control=!!x.ctrlKey),"metaKey"in x&&(A=A||x.metaKey!==r.meta,r.meta=!!x.metaKey),A}function a(x,A){var E=p.x(A),y=p.y(A);"buttons"in A&&(x=A.buttons|0),(x!==T||E!==v||y!==g||s(A))&&(T=x|0,v=E||0,g=y||0,C&&C(T,v,g,r))}function f(x){a(0,x)}function u(){(T||v||g||r.shift||r.alt||r.meta||r.control)&&(v=g=0,T=0,r.shift=r.alt=r.control=r.meta=!1,C&&C(0,0,0,r))}function l(x){s(x)&&C&&C(T,v,g,r)}function m(x){p.buttons(x)===0?a(0,x):a(T,x)}function h(x){a(T|p.buttons(x),x)}function M(x){a(T&~p.buttons(x),x)}function c(){t||(t=!0,n.addEventListener("mousemove",m),n.addEventListener("mousedown",h),n.addEventListener("mouseup",M),n.addEventListener("mouseleave",f),n.addEventListener("mouseenter",f),n.addEventListener("mouseout",f),n.addEventListener("mouseover",f),n.addEventListener("blur",u),n.addEventListener("keyup",l),n.addEventListener("keydown",l),n.addEventListener("keypress",l),n!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function i(){t&&(t=!1,n.removeEventListener("mousemove",m),n.removeEventListener("mousedown",h),n.removeEventListener("mouseup",M),n.removeEventListener("mouseleave",f),n.removeEventListener("mouseenter",f),n.removeEventListener("mouseout",f),n.removeEventListener("mouseover",f),n.removeEventListener("blur",u),n.removeEventListener("keyup",l),n.removeEventListener("keydown",l),n.removeEventListener("keypress",l),n!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}c();var d={element:n};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(x){x?c():i()},enumerable:!0},buttons:{get:function(){return T},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(H){var U={left:0,top:0};H.exports=e;function e(L,n,C){n=n||L.currentTarget||L.srcElement,Array.isArray(C)||(C=[0,0]);var T=L.clientX||0,v=L.clientY||0,g=p(n);return C[0]=T-g.left,C[1]=v-g.top,C}function p(L){return L===window||L===document||L===document.body?U:L.getBoundingClientRect()}},93784:function(H,U){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var T=C.which;if(T===2)return 4;if(T===3)return 2;if(T>0)return 1<<T-1}else if("button"in C){var T=C.button;if(T===1)return 4;if(T===2)return 2;if(T>=0)return 1<<T}}return 0}U.buttons=e;function p(C){return C.target||C.srcElement||window}U.element=p;function L(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var T=p(C),v=T.getBoundingClientRect();return C.clientX-v.left}return 0}U.x=L;function n(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var T=p(C),v=T.getBoundingClientRect();return C.clientY-v.top}return 0}U.y=n},97264:function(H,U,e){var p=e(23464);H.exports=L;function L(n,C,T){typeof n=="function"&&(T=!!C,C=n,n=window);var v=p("ex",n),g=function(r){T&&r.preventDefault();var t=r.deltaX||0,s=r.deltaY||0,a=r.deltaZ||0,f=r.deltaMode,u=1;switch(f){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,s*=u,a*=u,t||s||a)return C(t,s,a,r)};return n.addEventListener("wheel",g),g}},88324:function(H,U,e){var p;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(n,C,T){C[n]=C[n]||T(),H.exports?H.exports=C[n]:(p=(function(){return C[n]}).call(U,e,U,H),p!==void 0&&(H.exports=p))})("Promise",typeof e.g<"u"?e.g:this,function(){var n,C,T,v=Object.prototype.toString,g=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(d,x,A,E){return Object.defineProperty(d,x,{value:A,writable:!0,configurable:E!==!1})}}catch{n=function(x,A,E){return x[A]=E,x}}T=function(){var d,x,A;function E(y,S){this.fn=y,this.self=S,this.next=void 0}return{add:function(S,w){A=new E(S,w),x?x.next=A:d=A,x=A,A=void 0},drain:function(){var S=d;for(d=x=C=void 0;S;)S.fn.call(S.self),S=S.next}}}();function r(i,d){T.add(i,d),C||(C=g(T.drain))}function t(i){var d,x=typeof i;return i!=null&&(x=="object"||x=="function")&&(d=i.then),typeof d=="function"?d:!1}function s(){for(var i=0;i<this.chain.length;i++)a(this,this.state===1?this.chain[i].success:this.chain[i].failure,this.chain[i]);this.chain.length=0}function a(i,d,x){var A,E;try{d===!1?x.reject(i.msg):(d===!0?A=i.msg:A=d.call(void 0,i.msg),A===x.promise?x.reject(TypeError("Promise-chain cycle")):(E=t(A))?E.call(A,x.resolve,x.reject):x.resolve(A))}catch(y){x.reject(y)}}function f(i){var d,x=this;if(!x.triggered){x.triggered=!0,x.def&&(x=x.def);try{(d=t(i))?r(function(){var A=new m(x);try{d.call(i,function(){f.apply(A,arguments)},function(){u.apply(A,arguments)})}catch(E){u.call(A,E)}}):(x.msg=i,x.state=1,x.chain.length>0&&r(s,x))}catch(A){u.call(new m(x),A)}}}function u(i){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=i,d.state=2,d.chain.length>0&&r(s,d))}function l(i,d,x,A){for(var E=0;E<d.length;E++)(function(S){i.resolve(d[S]).then(function(o){x(S,o)},A)})(E)}function m(i){this.def=i,this.triggered=!1}function h(i){this.promise=i,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function M(i){if(typeof i!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(A,E){var y={success:typeof A=="function"?A:!0,failure:typeof E=="function"?E:!1};return y.promise=new this.constructor(function(w,o){if(typeof w!="function"||typeof o!="function")throw TypeError("Not a function");y.resolve=w,y.reject=o}),d.chain.push(y),d.state!==0&&r(s,d),y.promise},this.catch=function(A){return this.then(void 0,A)};try{i.call(void 0,function(A){f.call(d,A)},function(A){u.call(d,A)})}catch(x){u.call(d,x)}}var c=n({},"constructor",M,!1);return M.prototype=c,n(c,"__NPO__",0,!1),n(M,"resolve",function(d){var x=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new x(function(E,y){if(typeof E!="function"||typeof y!="function")throw TypeError("Not a function");E(d)})}),n(M,"reject",function(d){return new this(function(A,E){if(typeof A!="function"||typeof E!="function")throw TypeError("Not a function");E(d)})}),n(M,"all",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):d.length===0?x.resolve([]):new x(function(E,y){if(typeof E!="function"||typeof y!="function")throw TypeError("Not a function");var S=d.length,w=Array(S),o=0;l(x,d,function(b,I){w[b]=I,++o===S&&E(w)},y)})}),n(M,"race",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(E,y){if(typeof E!="function"||typeof y!="function")throw TypeError("Not a function");l(x,d,function(w,o){E(o)},y)})}),M})},48816:function(H){var U=Math.PI,e=v(120);H.exports=p;function p(g){for(var r,t=[],s=0,a=0,f=0,u=0,l=null,m=null,h=0,M=0,c=0,i=g.length;c<i;c++){var d=g[c],x=d[0];switch(x){case"M":f=d[1],u=d[2];break;case"A":d=C(h,M,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var A=h,E=M;(r=="C"||r=="S")&&(A+=A-s,E+=E-a),d=["C",A,E,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=h*2-l,m=M*2-m):(l=h,m=M),d=n(h,M,l,m,d[1],d[2]);break;case"Q":l=d[1],m=d[2],d=n(h,M,d[1],d[2],d[3],d[4]);break;case"L":d=L(h,M,d[1],d[2]);break;case"H":d=L(h,M,d[1],M);break;case"V":d=L(h,M,h,d[1]);break;case"Z":d=L(h,M,f,u);break}r=x,h=d[d.length-2],M=d[d.length-1],d.length>4?(s=d[d.length-4],a=d[d.length-3]):(s=h,a=M),t.push(d)}return t}function L(g,r,t,s){return["C",g,r,t,s,t,s]}function n(g,r,t,s,a,f){return["C",g/3+.6666666666666666*t,r/3+.6666666666666666*s,a/3+.6666666666666666*t,f/3+.6666666666666666*s,a,f]}function C(g,r,t,s,a,f,u,l,m,h){if(h)w=h[0],o=h[1],y=h[2],S=h[3];else{var M=T(g,r,-a);g=M.x,r=M.y,M=T(l,m,-a),l=M.x,m=M.y;var c=(g-l)/2,i=(r-m)/2,d=c*c/(t*t)+i*i/(s*s);d>1&&(d=Math.sqrt(d),t=d*t,s=d*s);var x=t*t,A=s*s,E=(f==u?-1:1)*Math.sqrt(Math.abs((x*A-x*i*i-A*c*c)/(x*i*i+A*c*c)));E==1/0&&(E=1);var y=E*t*i/s+(g+l)/2,S=E*-s*c/t+(r+m)/2,w=Math.asin(((r-S)/s).toFixed(9)),o=Math.asin(((m-S)/s).toFixed(9));w=g<y?U-w:w,o=l<y?U-o:o,w<0&&(w=U*2+w),o<0&&(o=U*2+o),u&&w>o&&(w=w-U*2),!u&&o>w&&(o=o-U*2)}if(Math.abs(o-w)>e){var _=o,b=l,I=m;o=w+e*(u&&o>w?1:-1),l=y+t*Math.cos(o),m=S+s*Math.sin(o);var D=C(l,m,t,s,a,0,u,b,I,[o,_,y,S])}var N=Math.tan((o-w)/4),k=4/3*t*N,z=4/3*s*N,F=[2*g-(g+k*Math.sin(w)),2*r-(r-z*Math.cos(w)),l+k*Math.sin(o),m-z*Math.cos(o),l,m];if(h)return F;D&&(F=F.concat(D));for(var O=0;O<F.length;){var B=T(F[O],F[O+1],a);F[O++]=B.x,F[O++]=B.y}return F}function T(g,r,t){return{x:g*Math.cos(t)-r*Math.sin(t),y:g*Math.sin(t)+r*Math.cos(t)}}function v(g){return g*(U/180)}},50896:function(H){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var U=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function L(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function n(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var T={},v=0;v<10;v++)T["_"+String.fromCharCode(v)]=v;var g=Object.getOwnPropertyNames(T).map(function(t){return T[t]});if(g.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}H.exports=n()?Object.assign:function(C,T){for(var v,g=L(C),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var s in v)e.call(v,s)&&(g[s]=v[s]);if(U){r=U(v);for(var a=0;a<r.length;a++)p.call(v,r[a])&&(g[r[a]]=v[r[a]])}}return g}},76835:function(H){var U=function(e){return e!==e};H.exports=function(p,L){return p===0&&L===0?1/p===1/L:!!(p===L||U(p)&&U(L))}},39896:function(H,U,e){var p=e(81288),L=e(57916),n=e(76835),C=e(66148),T=e(16408),v=L(C(),Object);p(v,{getPolyfill:C,implementation:n,shim:T}),H.exports=v},66148:function(H,U,e){var p=e(76835);H.exports=function(){return typeof Object.is=="function"?Object.is:p}},16408:function(H,U,e){var p=e(66148),L=e(81288);H.exports=function(){var C=p();return L(Object,{is:C},{is:function(){return Object.is!==C}}),C}},32764:function(H,U,e){var p;if(!Object.keys){var L=Object.prototype.hasOwnProperty,n=Object.prototype.toString,C=e(97344),T=Object.prototype.propertyIsEnumerable,v=!T.call({toString:null},"toString"),g=T.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var l=u.constructor;return l&&l.prototype===u},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!s["$"+u]&&L.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),f=function(u){if(typeof window>"u"||!a)return t(u);try{return t(u)}catch{return!1}};p=function(l){var m=l!==null&&typeof l=="object",h=n.call(l)==="[object Function]",M=C(l),c=m&&n.call(l)==="[object String]",i=[];if(!m&&!h&&!M)throw new TypeError("Object.keys called on a non-object");var d=g&&h;if(c&&l.length>0&&!L.call(l,0))for(var x=0;x<l.length;++x)i.push(String(x));if(M&&l.length>0)for(var A=0;A<l.length;++A)i.push(String(A));else for(var E in l)!(d&&E==="prototype")&&L.call(l,E)&&i.push(String(E));if(v)for(var y=f(l),S=0;S<r.length;++S)!(y&&r[S]==="constructor")&&L.call(l,r[S])&&i.push(r[S]);return i}}H.exports=p},41820:function(H,U,e){var p=Array.prototype.slice,L=e(97344),n=Object.keys,C=n?function(g){return n(g)}:e(32764),T=Object.keys;C.shim=function(){if(Object.keys){var g=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);g||(Object.keys=function(t){return L(t)?T(p.call(t)):T(t)})}else Object.keys=C;return Object.keys||C},H.exports=C},97344:function(H){var U=Object.prototype.toString;H.exports=function(p){var L=U.call(p),n=L==="[object Arguments]";return n||(n=L!=="[object Array]"&&p!==null&&typeof p=="object"&&typeof p.length=="number"&&p.length>=0&&U.call(p.callee)==="[object Function]"),n}},32868:function(H){function U(L,n){if(typeof L!="string")return[L];var C=[L];typeof n=="string"||Array.isArray(n)?n={brackets:n}:n||(n={});var T=n.brackets?Array.isArray(n.brackets)?n.brackets:[n.brackets]:["{}","[]","()"],v=n.escape||"___",g=!!n.flat;T.forEach(function(s){var a=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),f=[];function u(l,m,h){var M=C.push(l.slice(s[0].length,-s[1].length))-1;return f.push(M),v+M+v}C.forEach(function(l,m){for(var h,M=0;l!=h;)if(h=l,l=l.replace(a,u),M++>1e4)throw Error("References have circular dependency. Please, check them.");C[m]=l}),f=f.reverse(),C=C.map(function(l){return f.forEach(function(m){l=l.replace(new RegExp("(\\"+v+m+"\\"+v+")","g"),s[0]+"$1"+s[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(s,a,f){for(var u=[],l,m=0;l=r.exec(s);){if(m++>1e4)throw Error("Circular references in parenthesis");u.push(s.slice(0,l.index)),u.push(t(a[l[1]],a)),s=s.slice(l.index+l[0].length)}return u.push(s),u}return g?C:t(C[0],C)}function e(L,n){if(n&&n.flat){var C=n&&n.escape||"___",T=L[0],v;if(!T)return"";for(var g=new RegExp("\\"+C+"([0-9]+)\\"+C),r=0;T!=v;){if(r++>1e4)throw Error("Circular references in "+L);v=T,T=T.replace(g,t)}return T}return L.reduce(function s(a,f){return Array.isArray(f)&&(f=f.reduce(s,"")),a+f},"");function t(s,a){if(L[a]==null)throw Error("Reference "+a+"is undefined");return L[a]}}function p(L,n){return Array.isArray(L)?e(L,n):U(L,n)}p.parse=U,p.stringify=e,H.exports=p},51160:function(H,U,e){var p=e(55616);H.exports=L;function L(n){var C;return arguments.length>1&&(n=arguments),typeof n=="string"?n=n.split(/\s/).map(parseFloat):typeof n=="number"&&(n=[n]),n.length&&typeof n[0]=="number"?n.length===1?C={width:n[0],height:n[0],x:0,y:0}:n.length===2?C={width:n[0],height:n[1],x:0,y:0}:C={x:n[0],y:n[1],width:n[2]-n[0]||0,height:n[3]-n[1]||0}:n&&(n=p(n,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:n.left||0,y:n.top||0},n.width==null?n.right?C.width=n.right-C.x:C.width=0:C.width=n.width,n.height==null?n.bottom?C.height=n.bottom-C.y:C.height=0:C.height=n.height),C}},21984:function(H){H.exports=p;var U={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function p(C){var T=[];return C.replace(e,function(v,g,r){var t=g.toLowerCase();for(r=n(r),t=="m"&&r.length>2&&(T.push([g].concat(r.splice(0,2))),t="l",g=g=="m"?"l":"L");;){if(r.length==U[t])return r.unshift(g),T.push(r);if(r.length<U[t])throw new Error("malformed path data");T.push([g].concat(r.splice(0,U[t])))}}),T}var L=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function n(C){var T=C.match(L);return T?T.map(Number):[]}},65819:function(H){H.exports=function(e,p){p||(p=[0,""]),e=String(e);var L=parseFloat(e,10);return p[0]=L,p[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",p}},41984:function(H,U,e){var p=e(4168);(function(){var L,n,C,T,v,g;typeof performance<"u"&&performance!==null&&performance.now?H.exports=function(){return performance.now()}:typeof p<"u"&&p!==null&&p.hrtime?(H.exports=function(){return(L()-v)/1e6},n=p.hrtime,L=function(){var r;return r=n(),r[0]*1e9+r[1]},T=L(),g=p.uptime()*1e9,v=T-g):Date.now?(H.exports=function(){return Date.now()-C},C=Date.now()):(H.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},55616:function(H){H.exports=function(L,n,C){var T={},v,g;if(typeof n=="string"&&(n=e(n)),Array.isArray(n)){var r={};for(g=0;g<n.length;g++)r[n[g]]=!0;n=r}for(v in n)n[v]=e(n[v]);var t={};for(v in n){var s=n[v];if(Array.isArray(s))for(g=0;g<s.length;g++){var a=s[g];if(C&&(t[a]=!0),a in L){if(T[v]=L[a],C)for(var f=g;f<s.length;f++)t[s[f]]=!0;break}}else v in L&&(n[v]&&(T[v]=L[v]),C&&(t[v]=!0))}if(C)for(v in L)t[v]||(T[v]=L[v]);return T};var U={};function e(p){return U[p]?U[p]:(typeof p=="string"&&(p=U[p]=p.split(/\s*,\s*|\s+/)),p)}},61456:function(H){H.exports=function(e,p,L,n){var C=e[0],T=e[1],v=!1;L===void 0&&(L=0),n===void 0&&(n=p.length);for(var g=n-L,r=0,t=g-1;r<g;t=r++){var s=p[r+L][0],a=p[r+L][1],f=p[t+L][0],u=p[t+L][1],l=a>T!=u>T&&C<(f-s)*(T-a)/(u-a)+s;l&&(v=!v)}return v}},14756:function(H,U,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var p=e(7688),L=e(28648),n=e(72200),C=e(11403),T=e(82368),v=e(17792),g=!1,r=L(),t;t={buildLog:function(a){return a===!0?g=p():a===!1&&(g=!1),g===!1?!1:g.list},epsilon:function(a){return r.epsilon(a)},segments:function(a){var f=n(!0,r,g);return a.regions.forEach(f.addRegion),{segments:f.calculate(a.inverted),inverted:a.inverted}},combine:function(a,f){var u=n(!1,r,g);return{combined:u.calculate(a.segments,a.inverted,f.segments,f.inverted),inverted1:a.inverted,inverted2:f.inverted}},selectUnion:function(a){return{segments:T.union(a.combined,g),inverted:a.inverted1||a.inverted2}},selectIntersect:function(a){return{segments:T.intersect(a.combined,g),inverted:a.inverted1&&a.inverted2}},selectDifference:function(a){return{segments:T.difference(a.combined,g),inverted:a.inverted1&&!a.inverted2}},selectDifferenceRev:function(a){return{segments:T.differenceRev(a.combined,g),inverted:!a.inverted1&&a.inverted2}},selectXor:function(a){return{segments:T.xor(a.combined,g),inverted:a.inverted1!==a.inverted2}},polygon:function(a){return{regions:C(a.segments,r,g),inverted:a.inverted}},polygonFromGeoJSON:function(a){return v.toPolygon(t,a)},polygonToGeoJSON:function(a){return v.fromPolygon(t,r,a)},union:function(a,f){return s(a,f,t.selectUnion)},intersect:function(a,f){return s(a,f,t.selectIntersect)},difference:function(a,f){return s(a,f,t.selectDifference)},differenceRev:function(a,f){return s(a,f,t.selectDifferenceRev)},xor:function(a,f){return s(a,f,t.selectXor)}};function s(a,f,u){var l=t.segments(a),m=t.segments(f),h=t.combine(l,m),M=u(h);return t.polygon(M)}typeof window=="object"&&(window.PolyBool=t),H.exports=t},7688:function(H){function U(){var e,p=0,L=!1;function n(C,T){return e.list.push({type:C,data:T?JSON.parse(JSON.stringify(T)):void 0}),e}return e={list:[],segmentId:function(){return p++},checkIntersection:function(C,T){return n("check",{seg1:C,seg2:T})},segmentChop:function(C,T){return n("div_seg",{seg:C,pt:T}),n("chop",{seg:C,pt:T})},statusRemove:function(C){return n("pop_seg",{seg:C})},segmentUpdate:function(C){return n("seg_update",{seg:C})},segmentNew:function(C,T){return n("new_seg",{seg:C,primary:T})},segmentRemove:function(C){return n("rem_seg",{seg:C})},tempStatus:function(C,T,v){return n("temp_status",{seg:C,above:T,below:v})},rewind:function(C){return n("rewind",{seg:C})},status:function(C,T,v){return n("status",{seg:C,above:T,below:v})},vert:function(C){return C===L?e:(L=C,n("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),n("log",{txt:C})},reset:function(){return n("reset")},selected:function(C){return n("selected",{segs:C})},chainStart:function(C){return n("chain_start",{seg:C})},chainRemoveHead:function(C,T){return n("chain_rem_head",{index:C,pt:T})},chainRemoveTail:function(C,T){return n("chain_rem_tail",{index:C,pt:T})},chainNew:function(C,T){return n("chain_new",{pt1:C,pt2:T})},chainMatch:function(C){return n("chain_match",{index:C})},chainClose:function(C){return n("chain_close",{index:C})},chainAddHead:function(C,T){return n("chain_add_head",{index:C,pt:T})},chainAddTail:function(C,T){return n("chain_add_tail",{index:C,pt:T})},chainConnect:function(C,T){return n("chain_con",{index1:C,index2:T})},chainReverse:function(C){return n("chain_rev",{index:C})},chainJoin:function(C,T){return n("chain_join",{index1:C,index2:T})},done:function(){return n("done")}},e}H.exports=U},28648:function(H){function U(e){typeof e!="number"&&(e=1e-10);var p={epsilon:function(L){return typeof L=="number"&&(e=L),e},pointAboveOrOnLine:function(L,n,C){var T=n[0],v=n[1],g=C[0],r=C[1],t=L[0],s=L[1];return(g-T)*(s-v)-(r-v)*(t-T)>=-e},pointBetween:function(L,n,C){var T=L[1]-n[1],v=C[0]-n[0],g=L[0]-n[0],r=C[1]-n[1],t=g*v+T*r;if(t<e)return!1;var s=v*v+r*r;return!(t-s>-e)},pointsSameX:function(L,n){return Math.abs(L[0]-n[0])<e},pointsSameY:function(L,n){return Math.abs(L[1]-n[1])<e},pointsSame:function(L,n){return p.pointsSameX(L,n)&&p.pointsSameY(L,n)},pointsCompare:function(L,n){return p.pointsSameX(L,n)?p.pointsSameY(L,n)?0:L[1]<n[1]?-1:1:L[0]<n[0]?-1:1},pointsCollinear:function(L,n,C){var T=L[0]-n[0],v=L[1]-n[1],g=n[0]-C[0],r=n[1]-C[1];return Math.abs(T*r-g*v)<e},linesIntersect:function(L,n,C,T){var v=n[0]-L[0],g=n[1]-L[1],r=T[0]-C[0],t=T[1]-C[1],s=v*t-g*r;if(Math.abs(s)<e)return!1;var a=L[0]-C[0],f=L[1]-C[1],u=(r*f-t*a)/s,l=(v*f-g*a)/s,m={alongA:0,alongB:0,pt:[L[0]+u*v,L[1]+u*g]};return u<=-e?m.alongA=-2:u<e?m.alongA=-1:u-1<=-e?m.alongA=0:u-1<e?m.alongA=1:m.alongA=2,l<=-e?m.alongB=-2:l<e?m.alongB=-1:l-1<=-e?m.alongB=0:l-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(L,n){for(var C=L[0],T=L[1],v=n[n.length-1][0],g=n[n.length-1][1],r=!1,t=0;t<n.length;t++){var s=n[t][0],a=n[t][1];a-T>e!=g-T>e&&(v-s)*(T-a)/(g-a)+s-C>e&&(r=!r),v=s,g=a}return r}};return p}H.exports=U},17792:function(H){var U={toPolygon:function(e,p){function L(T){if(T.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var s=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[s]})}for(var g=v(T[0]),r=1;r<T.length;r++)g=e.selectDifference(e.combine(g,v(T[r])));return g}if(p.type==="Polygon")return e.polygon(L(p.coordinates));if(p.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),C=0;C<p.coordinates.length;C++)n=e.selectUnion(e.combine(n,L(p.coordinates[C])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,p,L){L=e.polygon(e.segments(L));function n(u,l){return p.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],l)}function C(u){return{region:u,children:[]}}var T=C(null);function v(u,l){for(var m=0;m<u.children.length;m++){var h=u.children[m];if(n(l,h.region)){v(h,l);return}}for(var M=C(l),m=0;m<u.children.length;m++){var h=u.children[m];n(h.region,l)&&(M.children.push(h),u.children.splice(m,1),m--)}u.children.push(M)}for(var g=0;g<L.regions.length;g++){var r=L.regions[g];r.length<3||v(T,r)}function t(u,l){for(var m=0,h=u[u.length-1][0],M=u[u.length-1][1],c=[],i=0;i<u.length;i++){var d=u[i][0],x=u[i][1];c.push([d,x]),m+=x*h-d*M,h=d,M=x}var A=m<0;return A!==l&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var s=[];function a(u){var l=[t(u.region,!1)];s.push(l);for(var m=0;m<u.children.length;m++)l.push(f(u.children[m]))}function f(u){for(var l=0;l<u.children.length;l++)a(u.children[l]);return t(u.region,!0)}for(var g=0;g<T.children.length;g++)a(T.children[g]);return s.length<=0?{type:"Polygon",coordinates:[]}:s.length==1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};H.exports=U},72200:function(H,U,e){var p=e(48088);function L(n,C,T){function v(M,c){return{id:T?T.segmentId():-1,start:M,end:c,myFill:{above:null,below:null},otherFill:null}}function g(M,c,i){return{id:T?T.segmentId():-1,start:M,end:c,myFill:{above:i.myFill.above,below:i.myFill.below},otherFill:null}}var r=p.create();function t(M,c,i,d,x,A){var E=C.pointsCompare(c,x);return E!==0?E:C.pointsSame(i,A)?0:M!==d?M?1:-1:C.pointAboveOrOnLine(i,d?x:A,d?A:x)?1:-1}function s(M,c){r.insertBefore(M,function(i){var d=t(M.isStart,M.pt,c,i.isStart,i.pt,i.other.pt);return d<0})}function a(M,c){var i=p.node({isStart:!0,pt:M.start,seg:M,primary:c,other:null,status:null});return s(i,M.end),i}function f(M,c,i){var d=p.node({isStart:!1,pt:c.end,seg:c,primary:i,other:M,status:null});M.other=d,s(d,M.pt)}function u(M,c){var i=a(M,c);return f(i,M,c),i}function l(M,c){T&&T.segmentChop(M.seg,c),M.other.remove(),M.seg.end=c,M.other.pt=c,s(M.other,M.pt)}function m(M,c){var i=g(c,M.seg.end,M.seg);return l(M,c),u(i,M.primary)}function h(M,c){var i=p.create();function d(k,z){var F=k.seg.start,O=k.seg.end,B=z.seg.start,W=z.seg.end;return C.pointsCollinear(F,B,W)?C.pointsCollinear(O,B,W)||C.pointAboveOrOnLine(O,B,W)?1:-1:C.pointAboveOrOnLine(F,B,W)?1:-1}function x(k){return i.findTransition(function(z){var F=d(k,z.ev);return F>0})}function A(k,z){var F=k.seg,O=z.seg,B=F.start,W=F.end,ee=O.start,ne=O.end;T&&T.checkIntersection(F,O);var Q=C.linesIntersect(B,W,ee,ne);if(Q===!1){if(!C.pointsCollinear(B,W,ee)||C.pointsSame(B,ne)||C.pointsSame(W,ee))return!1;var le=C.pointsSame(B,ee),Z=C.pointsSame(W,ne);if(le&&Z)return z;var Y=!le&&C.pointBetween(B,ee,ne),re=!Z&&C.pointBetween(W,ee,ne);if(le)return re?m(z,W):m(k,ne),z;Y&&(Z||(re?m(z,W):m(k,ne)),m(z,B))}else Q.alongA===0&&(Q.alongB===-1?m(k,ee):Q.alongB===0?m(k,Q.pt):Q.alongB===1&&m(k,ne)),Q.alongB===0&&(Q.alongA===-1?m(z,B):Q.alongA===0?m(z,Q.pt):Q.alongA===1&&m(z,W));return!1}for(var E=[];!r.isEmpty();){var y=r.getHead();if(T&&T.vert(y.pt[0]),y.isStart){let k=function(){if(w){var z=A(y,w);if(z)return z}return o?A(y,o):!1};T&&T.segmentNew(y.seg,y.primary);var S=x(y),w=S.before?S.before.ev:null,o=S.after?S.after.ev:null;T&&T.tempStatus(y.seg,w?w.seg:!1,o?o.seg:!1);var _=k();if(_){if(n){var b;y.seg.myFill.below===null?b=!0:b=y.seg.myFill.above!==y.seg.myFill.below,b&&(_.seg.myFill.above=!_.seg.myFill.above)}else _.seg.otherFill=y.seg.myFill;T&&T.segmentUpdate(_.seg),y.other.remove(),y.remove()}if(r.getHead()!==y){T&&T.rewind(y.seg);continue}if(n){var b;y.seg.myFill.below===null?b=!0:b=y.seg.myFill.above!==y.seg.myFill.below,o?y.seg.myFill.below=o.seg.myFill.above:y.seg.myFill.below=M,b?y.seg.myFill.above=!y.seg.myFill.below:y.seg.myFill.above=y.seg.myFill.below}else if(y.seg.otherFill===null){var I;o?y.primary===o.primary?I=o.seg.otherFill.above:I=o.seg.myFill.above:I=y.primary?c:M,y.seg.otherFill={above:I,below:I}}T&&T.status(y.seg,w?w.seg:!1,o?o.seg:!1),y.other.status=S.insert(p.node({ev:y}))}else{var D=y.status;if(D===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(i.exists(D.prev)&&i.exists(D.next)&&A(D.prev.ev,D.next.ev),T&&T.statusRemove(D.ev.seg),D.remove(),!y.primary){var N=y.seg.myFill;y.seg.myFill=y.seg.otherFill,y.seg.otherFill=N}E.push(y.seg)}r.getHead().remove()}return T&&T.done(),E}return n?{addRegion:function(M){for(var c,i=M[M.length-1],d=0;d<M.length;d++){c=i,i=M[d];var x=C.pointsCompare(c,i);x!==0&&u(v(x<0?c:i,x<0?i:c),!0)}},calculate:function(M){return h(M,!1)}}:{calculate:function(M,c,i,d){return M.forEach(function(x){u(g(x.start,x.end,x),!0)}),i.forEach(function(x){u(g(x.start,x.end,x),!1)}),h(c,d)}}}H.exports=L},48088:function(H){var U={create:function(){var e={root:{root:!0,next:null},exists:function(p){return!(p===null||p===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(p,L){for(var n=e.root,C=e.root.next;C!==null;){if(L(C)){p.prev=C.prev,p.next=C,C.prev.next=p,C.prev=p;return}n=C,C=C.next}n.next=p,p.prev=n,p.next=null},findTransition:function(p){for(var L=e.root,n=e.root.next;n!==null&&!p(n);)L=n,n=n.next;return{before:L===e.root?null:L,after:n,insert:function(C){return C.prev=L,C.next=n,L.next=C,n!==null&&(n.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};H.exports=U},11403:function(H){function U(e,p,L){var n=[],C=[];return e.forEach(function(T){var v=T.start,g=T.end;if(p.pointsSame(v,g)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}L&&L.chainStart(T);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},s=r;function a(_,b,I){return s.index=_,s.matches_head=b,s.matches_pt1=I,s===r?(s=t,!1):(s=null,!0)}for(var f=0;f<n.length;f++){var u=n[f],l=u[0];u[1];var m=u[u.length-1];if(u[u.length-2],p.pointsSame(l,v)){if(a(f,!0,!0))break}else if(p.pointsSame(l,g)){if(a(f,!0,!1))break}else if(p.pointsSame(m,v)){if(a(f,!1,!0))break}else if(p.pointsSame(m,g)&&a(f,!1,!1))break}if(s===r){n.push([v,g]),L&&L.chainNew(v,g);return}if(s===t){L&&L.chainMatch(r.index);var h=r.index,M=r.matches_pt1?g:v,c=r.matches_head,u=n[h],i=c?u[0]:u[u.length-1],d=c?u[1]:u[u.length-2],x=c?u[u.length-1]:u[0],A=c?u[u.length-2]:u[1];if(p.pointsCollinear(d,i,M)&&(c?(L&&L.chainRemoveHead(r.index,M),u.shift()):(L&&L.chainRemoveTail(r.index,M),u.pop()),i=d),p.pointsSame(x,M)){n.splice(h,1),p.pointsCollinear(A,x,i)&&(c?(L&&L.chainRemoveTail(r.index,i),u.pop()):(L&&L.chainRemoveHead(r.index,i),u.shift())),L&&L.chainClose(r.index),C.push(u);return}c?(L&&L.chainAddHead(r.index,M),u.unshift(M)):(L&&L.chainAddTail(r.index,M),u.push(M));return}function E(_){L&&L.chainReverse(_),n[_].reverse()}function y(_,b){var I=n[_],D=n[b],N=I[I.length-1],k=I[I.length-2],z=D[0],F=D[1];p.pointsCollinear(k,N,z)&&(L&&L.chainRemoveTail(_,N),I.pop(),N=k),p.pointsCollinear(N,z,F)&&(L&&L.chainRemoveHead(b,z),D.shift()),L&&L.chainJoin(_,b),n[_]=I.concat(D),n.splice(b,1)}var S=r.index,w=t.index;L&&L.chainConnect(S,w);var o=n[S].length<n[w].length;r.matches_head?t.matches_head?o?(E(S),y(S,w)):(E(w),y(w,S)):y(w,S):t.matches_head?y(S,w):o?(E(S),y(w,S)):(E(w),y(S,w))}),C}H.exports=U},82368:function(H){function U(p,L,n){var C=[];return p.forEach(function(T){var v=(T.myFill.above?8:0)+(T.myFill.below?4:0)+(T.otherFill&&T.otherFill.above?2:0)+(T.otherFill&&T.otherFill.below?1:0);L[v]!==0&&C.push({id:n?n.segmentId():-1,start:T.start,end:T.end,myFill:{above:L[v]===1,below:L[v]===2},otherFill:null})}),n&&n.selected(C),C}var e={union:function(p,L){return U(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],L)},intersect:function(p,L){return U(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],L)},difference:function(p,L){return U(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],L)},differenceRev:function(p,L){return U(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],L)},xor:function(p,L){return U(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],L)}};H.exports=e},9696:function(H,U,e){var p=e(29936).Transform,L=e(55619);function n(){p.call(this,{readableObjectMode:!0})}n.prototype=Object.create(p.prototype),n.prototype.constructor=n,L(n.prototype),U.gS=function(T,v,g){for(var r=v,t=0;t<g.length;)if(T[r++]!==g[t++])return!1;return!0},U.wR=function(T,v){var g=[],r=0;if(v&&v==="hex")for(;r<T.length;)g.push(parseInt(T.slice(r,r+2),16)),r+=2;else for(;r<T.length;r++)g.push(T.charCodeAt(r)&255);return g},U.Bz=function(T,v){return T[v]|T[v+1]<<8},U.eW=function(T,v){return T[v+1]|T[v]<<8},U.st=function(T,v){return T[v]|T[v+1]<<8|T[v+2]<<16|T[v+3]*16777216},U.eI=function(T,v){return T[v+3]|T[v+2]<<8|T[v+1]<<16|T[v]*16777216};function C(T,v,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=T,v&&(this.code=v),g&&(this.statusCode=g)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},11688:function(H){function U(L,n){var C=new Error(L);return C.code=n,C}function e(L){try{return decodeURIComponent(escape(L))}catch{return L}}function p(L,n,C){this.input=L.subarray(n,C),this.start=n;var T=String.fromCharCode.apply(null,this.input.subarray(0,4));if(T!=="II*\0"&&T!=="MM\0*")throw U("invalid TIFF signature","EBADDATA");this.big_endian=T[0]==="M"}p.prototype.each=function(L){this.aborted=!1;var n=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:n}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,L)}},p.prototype.read_uint16=function(L){var n=this.input;if(L+2>n.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?n[L]*256+n[L+1]:n[L]+n[L+1]*256},p.prototype.read_uint32=function(L){var n=this.input;if(L+4>n.length)throw U("unexpected EOF","EBADDATA");return this.big_endian?n[L]*16777216+n[L+1]*65536+n[L+2]*256+n[L+3]:n[L]+n[L+1]*256+n[L+2]*65536+n[L+3]*16777216},p.prototype.is_subifd_link=function(L,n){return L===0&&n===34665||L===0&&n===34853||L===34665&&n===40965},p.prototype.exif_format_length=function(L){switch(L){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},p.prototype.exif_format_read=function(L,n){var C;switch(L){case 1:case 2:return C=this.input[n],C;case 6:return C=this.input[n],C|(C&128)*33554430;case 3:return C=this.read_uint16(n),C;case 8:return C=this.read_uint16(n),C|(C&32768)*131070;case 4:return C=this.read_uint32(n),C;case 9:return C=this.read_uint32(n),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},p.prototype.scan_ifd=function(L,n,C){var T=this.read_uint16(n);n+=2;for(var v=0;v<T;v++){var g=this.read_uint16(n),r=this.read_uint16(n+2),t=this.read_uint32(n+4),s=this.exif_format_length(r),a=t*s,f=a<=4?n+8:this.read_uint32(n+8),u=!1;if(f+a>this.input.length)throw U("unexpected EOF","EBADDATA");for(var l=[],m=f,h=0;h<t;h++,m+=s){var M=this.exif_format_read(r,m);if(M===null){l=null;break}l.push(M)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(L,g)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:g,offset:l[0]}),u=!0);var c={is_big_endian:this.big_endian,ifd:L,tag:g,format:r,count:t,entry_offset:n+this.start,data_length:a,data_offset:f+this.start,value:l,is_subifd_link:u};if(C(c)===!1){this.aborted=!0;return}n+=12}L===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(n)})},H.exports.ExifParser=p,H.exports.get_orientation=function(L){var n=0;try{return new p(L,0,L.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return n=C.value[0],!1}),n}catch{return-1}}},44600:function(H,U,e){var p=e(9696).eW,L=e(9696).eI;function n(a,f){if(a.length<4+f)return null;var u=L(a,f);return a.length<u+f||u<8?null:{boxtype:String.fromCharCode.apply(null,a.slice(f+4,f+8)),data:a.slice(f+8,f+u),end:f+u}}H.exports.unbox=n;function C(a,f){for(var u=0;;){var l=n(a,u);if(!l)break;switch(l.boxtype){case"ispe":f.sizes.push({width:L(l.data,4),height:L(l.data,8)});break;case"irot":f.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":f.transforms.push({type:"imir",value:l.data[0]&1});break}u=l.end}}function T(a,f,u){for(var l=0,m=0;m<u;m++)l=l*256+(a[f+m]||0);return l}function v(a,f){for(var u=a[4]>>4&15,l=a[4]&15,m=a[5]>>4&15,h=p(a,6),M=8,c=0;c<h;c++){var i=p(a,M);M+=2;var d=p(a,M);M+=2;var x=T(a,M,m);M+=m;var A=p(a,M);if(M+=2,d===0&&A===1){var E=T(a,M,u),y=T(a,M+u,l);f.item_loc[i]={length:y,offset:E+x}}M+=A*(u+l)}}function g(a,f){for(var u=p(a,4),l=6,m=0;m<u;m++){var h=n(a,l);if(!h)break;if(h.boxtype==="infe"){for(var M=p(h.data,4),c="",i=8;i<h.data.length&&h.data[i];i++)c+=String.fromCharCode(h.data[i]);f.item_inf[c]=M}l=h.end}}function r(a,f){for(var u=0;;){var l=n(a,u);if(!l)break;l.boxtype==="ipco"&&C(l.data,f),u=l.end}}function t(a,f){for(var u=4;;){var l=n(a,u);if(!l)break;l.boxtype==="iprp"&&r(l.data,f),l.boxtype==="iloc"&&v(l.data,f),l.boxtype==="iinf"&&g(l.data,f),u=l.end}}function s(a){var f=a.reduce(function(m,h){return m.width>h.width||m.width===h.width&&m.height>h.height?m:h}),u=a.reduce(function(m,h){return m.height>h.height||m.height===h.height&&m.width>h.width?m:h}),l;return f.width>u.height||f.width===u.height&&f.height>u.width?l=f:l=u,l}H.exports.readSizeFromMeta=function(a){var f={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(a,f),!!f.sizes.length){var u=s(f.sizes),l=1;f.transforms.forEach(function(h){var M={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?l=c[l]:(l=c[l],l=M[l],l=M[l])),h.type==="irot")for(var i=0;i<h.value;i++)l=M[l]});var m=null;return f.item_inf.Exif&&(m=f.item_loc[f.item_inf.Exif]),{width:u.width,height:u.height,orientation:f.transforms.length?l:null,variants:f.sizes,exif_location:m}}},H.exports.getMimeType=function(a){var f=String.fromCharCode.apply(null,a.slice(0,4)),u={};u[f]=!0;for(var l=8;l<a.length;l+=4)u[String.fromCharCode.apply(null,a.slice(l,l+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return f==="avif"||f==="avis"||f==="avio"?{type:"avif",mime:"image/avif"}:f==="heic"||f==="heix"?{type:"heic",mime:"image/heic"}:f==="hevc"||f==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(H,U,e){var p=e(9696).wR,L=e(9696).gS,n=e(9696).eI,C=e(44600),T=e(11688),v=p("ftyp");H.exports=function(g){if(L(g,4,v)){var r=C.unbox(g,0);if(r){var t=C.getMimeType(r.data);if(t){for(var s,a=r.end;;){var f=C.unbox(g,a);if(!f)break;if(a=f.end,f.boxtype==="mdat")return;if(f.boxtype==="meta"){s=f.data;break}}if(s){var u=C.readSizeFromMeta(s);if(u){var l={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(l.variants=u.variants),u.orientation&&(l.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=g.length){var m=n(g,u.exif_location.offset),h=g.slice(u.exif_location.offset+m+4,u.exif_location.offset+u.exif_location.length),M=T.get_orientation(h);M>0&&(l.orientation=M)}return l}}}}}}},38728:function(H,U,e){var p=e(9696).wR,L=e(9696).gS,n=e(9696).Bz,C=p("BM");H.exports=function(T){if(!(T.length<26)&&L(T,0,C))return{width:n(T,18),height:n(T,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(H,U,e){var p=e(9696).wR,L=e(9696).gS,n=e(9696).Bz,C=p("GIF87a"),T=p("GIF89a");H.exports=function(v){if(!(v.length<10)&&!(!L(v,0,C)&&!L(v,0,T)))return{width:n(v,6),height:n(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(H,U,e){var p=e(9696).Bz,L=0,n=1,C=16;H.exports=function(T){var v=p(T,0),g=p(T,2),r=p(T,4);if(!(v!==L||g!==n||!r)){for(var t=[],s={width:0,height:0},a=0;a<r;a++){var f=T[6+C*a]||256,u=T[6+C*a+1]||256,l={width:f,height:u};t.push(l),(f>s.width||u>s.height)&&(s=l)}return{width:s.width,height:s.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(H,U,e){var p=e(9696).eW,L=e(9696).wR,n=e(9696).gS,C=e(11688),T=L("Exif\0\0");H.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var g=2;;){for(;;){if(v.length-g<2)return;if(v[g++]===255)break}for(var r=v[g++],t;r===255;)r=v[g++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-g<2)return;t=p(v,g)-2,g+=2}else return;if(r===217||r===218)return;var s;if(r===225&&t>=10&&n(v,g,T)&&(s=C.get_orientation(v.slice(g+6,g+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-g<t)return;var a={width:p(v,g+3),height:p(v,g+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(a.orientation=s),a}g+=t}}},37276:function(H,U,e){var p=e(9696).wR,L=e(9696).gS,n=e(9696).eI,C=p(`PNG\r

`),T=p("IHDR");H.exports=function(v){if(!(v.length<24)&&L(v,0,C)&&L(v,12,T))return{width:n(v,16),height:n(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(H,U,e){var p=e(9696).wR,L=e(9696).gS,n=e(9696).eI,C=p("8BPS\0");H.exports=function(T){if(!(T.length<22)&&L(T,0,C))return{width:n(T,18),height:n(T,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(H){function U(s){return s===32||s===9||s===13||s===10}function e(s){return typeof s=="number"&&isFinite(s)&&s>0}function p(s){var a=0,f=s.length;for(s[0]===239&&s[1]===187&&s[2]===191&&(a=3);a<f&&U(s[a]);)a++;return a===f?!1:s[a]===60}var L=/<[-_.:a-zA-Z0-9][^>]*>/,n=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,T=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,g=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(s){var a=s.match(C),f=s.match(T),u=s.match(v);return{width:a&&(a[1]||a[2]),height:f&&(f[1]||f[2]),viewbox:u&&(u[1]||u[2])}}function t(s){return g.test(s)?s.match(g)[0]:"px"}H.exports=function(s){if(p(s)){for(var a="",f=0;f<s.length;f++)a+=String.fromCharCode(s[f]);var u=(a.match(L)||[""])[0];if(n.test(u)){var l=r(u),m=parseFloat(l.width),h=parseFloat(l.height);if(l.width&&l.height)return!e(m)||!e(h)?void 0:{width:m,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var M=(l.viewbox||"").split(" "),c={width:M[2],height:M[3]},i=parseFloat(c.width),d=parseFloat(c.height);if(!(!e(i)||!e(d))&&t(c.width)===t(c.height)){var x=i/d;return l.width?e(m)?{width:m,height:m/x,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(h)?{width:h*x,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:i,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(H,U,e){var p=e(9696).wR,L=e(9696).gS,n=e(9696).Bz,C=e(9696).eW,T=e(9696).st,v=e(9696).eI,g=p("II*\0"),r=p("MM\0*");function t(f,u,l){return l?C(f,u):n(f,u)}function s(f,u,l){return l?v(f,u):T(f,u)}function a(f,u,l){var m=t(f,u+2,l),h=s(f,u+4,l);return h!==1||m!==3&&m!==4?null:m===3?t(f,u+8,l):s(f,u+8,l)}H.exports=function(f){if(!(f.length<8)&&!(!L(f,0,g)&&!L(f,0,r))){var u=f[0]===77,l=s(f,4,u)-8;if(!(l<0)){var m=l+8;if(!(f.length-m<2)){var h=t(f,m+0,u)*12;if(!(h<=0)&&(m+=2,!(f.length-m<h))){var M,c,i,d;for(M=0;M<h;M+=12)d=t(f,m+M,u),d===256?c=a(f,m+M,u):d===257&&(i=a(f,m+M,u));if(c&&i)return{width:c,height:i,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(H,U,e){var p=e(9696).wR,L=e(9696).gS,n=e(9696).Bz,C=e(9696).st,T=e(11688),v=p("RIFF"),g=p("WEBP");function r(a,f){if(!(a[f+3]!==157||a[f+4]!==1||a[f+5]!==42))return{width:n(a,f+6)&16383,height:n(a,f+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(a,f){if(a[f]===47){var u=C(a,f+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function s(a,f){return{width:(a[f+6]<<16|a[f+5]<<8|a[f+4])+1,height:(a[f+9]<<f|a[f+8]<<8|a[f+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}H.exports=function(a){if(!(a.length<16)&&!(!L(a,0,v)&&!L(a,8,g))){var f=12,u=null,l=0,m=C(a,4)+8;if(!(m>a.length)){for(;f+8<m;){if(a[f]===0){f++;continue}var h=String.fromCharCode.apply(null,a.slice(f,f+4)),M=C(a,f+4);h==="VP8 "&&M>=10?u=u||r(a,f+8):h==="VP8L"&&M>=9?u=u||t(a,f+8):h==="VP8X"&&M>=10?u=u||s(a,f+8):h==="EXIF"&&(l=T.get_orientation(a.slice(f+8,f+8+M)),f=1/0),f+=8+M}if(u)return l>0&&(u.orientation=l),u}}}},87480:function(H,U,e){H.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(H,U,e){var p=e(87480);function L(n){for(var C=Object.keys(p),T=0;T<C.length;T++){var v=p[C[T]](n);if(v)return v}return null}H.exports=function(C){return L(C)},H.exports.parsers=p},4168:function(H){var U=H.exports={},e,p;function L(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=L}catch{e=L}try{typeof clearTimeout=="function"?p=clearTimeout:p=n}catch{p=n}})();function C(l){if(e===setTimeout)return setTimeout(l,0);if((e===L||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function T(l){if(p===clearTimeout)return clearTimeout(l);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(l);try{return p(l)}catch{try{return p.call(null,l)}catch{return p.call(this,l)}}}var v=[],g=!1,r,t=-1;function s(){!g||!r||(g=!1,r.length?v=r.concat(v):t=-1,v.length&&a())}function a(){if(!g){var l=C(s);g=!0;for(var m=v.length;m;){for(r=v,v=[];++t<m;)r&&r[t].run();t=-1,m=v.length}r=null,g=!1,T(l)}}U.nextTick=function(l){var m=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)m[h-1]=arguments[h];v.push(new f(l,m)),v.length===1&&!g&&C(a)};function f(l,m){this.fun=l,this.array=m}f.prototype.run=function(){this.fun.apply(null,this.array)},U.title="browser",U.browser=!0,U.env={},U.argv=[],U.version="",U.versions={};function u(){}U.on=u,U.addListener=u,U.once=u,U.off=u,U.removeListener=u,U.removeAllListeners=u,U.emit=u,U.prependListener=u,U.prependOnceListener=u,U.listeners=function(l){return[]},U.binding=function(l){throw new Error("process.binding is not supported")},U.cwd=function(){return"/"},U.chdir=function(l){throw new Error("process.chdir is not supported")},U.umask=function(){return 0}},3951:function(H,U,e){for(var p=e(41984),L=typeof window>"u"?e.g:window,n=["moz","webkit"],C="AnimationFrame",T=L["request"+C],v=L["cancel"+C]||L["cancelRequest"+C],g=0;!T&&g<n.length;g++)T=L[n[g]+"Request"+C],v=L[n[g]+"Cancel"+C]||L[n[g]+"CancelRequest"+C];if(!T||!v){var r=0,t=0,s=[],a=1e3/60;T=function(f){if(s.length===0){var u=p(),l=Math.max(0,a-(u-r));r=l+u,setTimeout(function(){var m=s.slice(0);s.length=0;for(var h=0;h<m.length;h++)if(!m[h].cancelled)try{m[h].callback(r)}catch(M){setTimeout(function(){throw M},0)}},Math.round(l))}return s.push({handle:++t,callback:f,cancelled:!1}),t},v=function(f){for(var u=0;u<s.length;u++)s[u].handle===f&&(s[u].cancelled=!0)}}H.exports=function(f){return T.call(L,f)},H.exports.cancel=function(){v.apply(L,arguments)},H.exports.polyfill=function(f){f||(f=L),f.requestAnimationFrame=T,f.cancelAnimationFrame=v}},24544:function(H,U,e){var p=e(76752),L=e(72160),n=e(45223),C=e(55616),T=e(50896),v=e(47520),g=e(37816),r=g.float32,t=g.fract32;H.exports=a;var s=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function a(f,u){if(typeof f=="function"?(u||(u={}),u.regl=f):u=f,u.length&&(u.positions=u),f=u.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=f._gl,m,h,M,c,i,d,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},A=[];return c=f.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),M=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),i=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=f.buffer({usage:"static",type:"float",data:s}),w(u),m=f({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:f.prop("range"),lineWidth:f.prop("lineWidth"),capSize:f.prop("capSize"),opacity:f.prop("opacity"),scale:f.prop("scale"),translate:f.prop("translate"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),viewport:function(_,b){return[b.viewport.x,b.viewport.y,_.viewportWidth,_.viewportHeight]}},attributes:{color:{buffer:c,offset:function(_,b){return b.offset*4},divisor:1},position:{buffer:h,offset:function(_,b){return b.offset*8},divisor:1},positionFract:{buffer:M,offset:function(_,b){return b.offset*8},divisor:1},error:{buffer:i,offset:function(_,b){return b.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:!1,instances:f.prop("count"),count:s.length}),T(E,{update:w,draw:y,destroy:o,regl:f,gl:l,canvas:l.canvas,groups:A}),E;function E(_){_?w(_):_===null&&o(),y()}function y(_){if(typeof _=="number")return S(_);_&&!Array.isArray(_)&&(_=[_]),f._refresh(),A.forEach(function(b,I){if(b){if(_&&(_[I]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}S(I)}})}function S(_){typeof _=="number"&&(_=A[_]),_!=null&&_&&_.count&&_.color&&_.opacity&&_.positions&&_.positions.length>1&&(_.scaleRatio=[_.scale[0]*_.viewport.width,_.scale[1]*_.viewport.height],m(_),_.after&&_.after(_))}function w(_){if(_){_.length!=null?typeof _[0]=="number"&&(_=[{positions:_}]):Array.isArray(_)||(_=[_]);var b=0,I=0;if(E.groups=A=_.map(function(B,W){var ee=A[W];if(B)typeof B=="function"?B={after:B}:typeof B[0]=="number"&&(B={positions:B});else return ee;return B=C(B,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),ee||(A[W]=ee={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},B=T({},x,B)),n(ee,B,[{lineWidth:function(ne){return+ne*.5},capSize:function(ne){return+ne*.5},opacity:parseFloat,errors:function(ne){return ne=v(ne),I+=ne.length,ne},positions:function(ne,Q){return ne=v(ne,"float64"),Q.count=Math.floor(ne.length/2),Q.bounds=p(ne,2),Q.offset=b,b+=Q.count,ne}},{color:function(ne,Q){var le=Q.count;if(ne||(ne="transparent"),!Array.isArray(ne)||typeof ne[0]=="number"){var Z=ne;ne=Array(le);for(var Y=0;Y<le;Y++)ne[Y]=Z}if(ne.length<le)throw Error("Not enough colors");for(var re=new Uint8Array(le*4),X=0;X<le;X++){var q=L(ne[X],"uint8");re.set(q,X*4)}return re},range:function(ne,Q,le){var Z=Q.bounds;return ne||(ne=Z),Q.scale=[1/(ne[2]-ne[0]),1/(ne[3]-ne[1])],Q.translate=[-ne[0],-ne[1]],Q.scaleFract=t(Q.scale),Q.translateFract=t(Q.translate),ne},viewport:function(ne){var Q;return Array.isArray(ne)?Q={x:ne[0],y:ne[1],width:ne[2]-ne[0],height:ne[3]-ne[1]}:ne?(Q={x:ne.x||ne.left||0,y:ne.y||ne.top||0},ne.right?Q.width=ne.right-Q.x:Q.width=ne.w||ne.width||0,ne.bottom?Q.height=ne.bottom-Q.y:Q.height=ne.h||ne.height||0):Q={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},Q}}]),ee}),b||I){var D=A.reduce(function(B,W,ee){return B+(W?W.count:0)},0),N=new Float64Array(D*2),k=new Uint8Array(D*4),z=new Float32Array(D*4);A.forEach(function(B,W){if(B){var ee=B.positions,ne=B.count,Q=B.offset,le=B.color,Z=B.errors;ne&&(k.set(le,Q*4),z.set(Z,Q*4),N.set(ee,Q*2))}});var F=r(N);h(F);var O=t(N,F);M(O),c(k),i(z)}}}function o(){h.destroy(),M.destroy(),c.destroy(),i.destroy(),d.destroy()}}},13472:function(H,U,e){var p=e(72160),L=e(76752),n=e(50896),C=e(55616),T=e(47520),v=e(28912),g=e(71152),r=e(37816),t=r.float32,s=r.fract32,a=e(60463),f=e(51160),u=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,m=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,M=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,i=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;H.exports=d;function d(x,A){if(!(this instanceof d))return new d(x,A);if(typeof x=="function"?(A||(A={}),A.regl=x):A=x,A.length&&(A.positions=A),x=A.regl,!x.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=x._gl,this.regl=x,this.passes=[],this.shaders=d.shaders.has(x)?d.shaders.get(x):d.shaders.set(x,d.createShaders(x)).get(x),this.update(A)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new a,d.createShaders=function(x){var A=x.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),E={primitive:"triangle strip",instances:x.prop("count"),count:4,offset:0,uniforms:{miterMode:function(o,_){return _.join==="round"?2:1},miterLimit:x.prop("miterLimit"),scale:x.prop("scale"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),thickness:x.prop("thickness"),dashTexture:x.prop("dashTexture"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),dashLength:x.prop("dashLength"),viewport:function(o,_){return[_.viewport.x,_.viewport.y,o.viewportWidth,o.viewportHeight]},depth:x.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(o,_){return!_.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:x.prop("viewport")},viewport:x.prop("viewport")},y=x(n({vert:l,frag:m,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},E)),S;try{S=x(n({cull:{enable:!0,face:"back"},vert:c,frag:i,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aColor:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:x.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},E))}catch{S=y}var w=x({primitive:"triangle",elements:function(o,_){return _.triangles},offset:0,vert:h,frag:M,uniforms:{scale:x.prop("scale"),color:x.prop("fill"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),viewport:function(o,_){return[_.viewport.x,_.viewport.y,o.viewportWidth,o.viewportHeight]}},attributes:{position:{buffer:x.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8}},blend:E.blend,depth:{enable:!1},scissor:E.scissor,stencil:E.stencil,viewport:E.viewport});return{fill:w,rect:y,miter:S}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var x,A=[],E=arguments.length;E--;)A[E]=arguments[E];A.length&&(x=this).update.apply(x,A),this.draw()},d.prototype.draw=function(){for(var x=this,A=[],E=arguments.length;E--;)A[E]=arguments[E];return(A.length?A:this.passes).forEach(function(y,S){var w;if(y&&Array.isArray(y))return(w=x).draw.apply(w,y);typeof y=="number"&&(y=x.passes[y]),y&&y.count>1&&y.opacity&&(x.regl._refresh(),y.fill&&y.triangles&&y.triangles.length>2&&x.shaders.fill(y),y.thickness&&(y.scale[0]*y.viewport.width>d.precisionThreshold||y.scale[1]*y.viewport.height>d.precisionThreshold||y.join==="rect"||!y.join&&(y.thickness<=2||y.count>=d.maxPoints)?x.shaders.rect(y):x.shaders.miter(y)))}),this},d.prototype.update=function(x){var A=this;if(x){x.length!=null?typeof x[0]=="number"&&(x=[{positions:x}]):Array.isArray(x)||(x=[x]);var E=this,y=E.regl,S=E.gl;if(x.forEach(function(I,D){var N=A.passes[D];if(I!==void 0){if(I===null){A.passes[D]=null;return}if(typeof I[0]=="number"&&(I={positions:I}),I=C(I,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),N||(A.passes[D]=N={id:D,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:y.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:y.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},I=n({},d.defaults,I)),I.thickness!=null&&(N.thickness=parseFloat(I.thickness)),I.opacity!=null&&(N.opacity=parseFloat(I.opacity)),I.miterLimit!=null&&(N.miterLimit=parseFloat(I.miterLimit)),I.overlay!=null&&(N.overlay=!!I.overlay,D<d.maxLines&&(N.depth=2*(d.maxLines-1-D%d.maxLines)/d.maxLines-1)),I.join!=null&&(N.join=I.join),I.hole!=null&&(N.hole=I.hole),I.fill!=null&&(N.fill=I.fill?p(I.fill,"uint8"):null),I.viewport!=null&&(N.viewport=f(I.viewport)),N.viewport||(N.viewport=f([S.drawingBufferWidth,S.drawingBufferHeight])),I.close!=null&&(N.close=I.close),I.positions===null&&(I.positions=[]),I.positions){var k,z;if(I.positions.x&&I.positions.y){var F=I.positions.x,O=I.positions.y;z=N.count=Math.max(F.length,O.length),k=new Float64Array(z*2);for(var B=0;B<z;B++)k[B*2]=F[B],k[B*2+1]=O[B]}else k=T(I.positions,"float64"),z=N.count=Math.floor(k.length/2);var W=N.bounds=L(k,2);if(N.fill){for(var ee=[],ne={},Q=0,le=0,Z=0,Y=N.count;le<Y;le++){var re=k[le*2],X=k[le*2+1];isNaN(re)||isNaN(X)||re==null||X==null?(re=k[Q*2],X=k[Q*2+1],ne[le]=Q):Q=le,ee[Z++]=re,ee[Z++]=X}if(I.splitNull){N.count-1 in ne||(ne[N.count]=N.count-1);var q=Object.keys(ne).map(Number).sort(function(Ee,Be){return Ee-Be}),se=[],$=0,j=N.hole!=null?N.hole[0]:null;if(j!=null){var ue=u(q,function(Ee){return Ee>=j});q=q.slice(0,ue),q.push(j)}for(var ae=function(Ee){var Be=ee.slice($*2,q[Ee]*2).concat(j?ee.slice(j*2):[]),je=(N.hole||[]).map(function(dt){return dt-j+(q[Ee]-$)}),nt=v(Be,je);nt=nt.map(function(dt){return dt+$+(dt+$<q[Ee]?0:j-q[Ee])}),se.push.apply(se,nt),$=q[Ee]+1},ce=0;ce<q.length;ce++)ae(ce);for(var ye=0,Ce=se.length;ye<Ce;ye++)ne[se[ye]]!=null&&(se[ye]=ne[se[ye]]);N.triangles=se}else{for(var Ae=v(ee,N.hole||[]),Ie=0,Te=Ae.length;Ie<Te;Ie++)ne[Ae[Ie]]!=null&&(Ae[Ie]=ne[Ae[Ie]]);N.triangles=Ae}}var Le=new Float64Array(k);g(Le,2,W);var xe=new Float64Array(z*2+6);N.close?k[0]===k[z*2-2]&&k[1]===k[z*2-1]?(xe[0]=Le[z*2-4],xe[1]=Le[z*2-3]):(xe[0]=Le[z*2-2],xe[1]=Le[z*2-1]):(xe[0]=Le[0],xe[1]=Le[1]),xe.set(Le,2),N.close?k[0]===k[z*2-2]&&k[1]===k[z*2-1]?(xe[z*2+2]=Le[2],xe[z*2+3]=Le[3],N.count-=1):(xe[z*2+2]=Le[0],xe[z*2+3]=Le[1],xe[z*2+4]=Le[2],xe[z*2+5]=Le[3]):(xe[z*2+2]=Le[z*2-2],xe[z*2+3]=Le[z*2-1],xe[z*2+4]=Le[z*2-2],xe[z*2+5]=Le[z*2-1]);var Re=t(xe);N.positionBuffer(Re);var He=s(xe,Re);N.positionFractBuffer(He)}if(I.range?N.range=I.range:N.range||(N.range=N.bounds),(I.range||I.positions)&&N.count){var Ve=N.bounds,Fe=Ve[2]-Ve[0],We=Ve[3]-Ve[1],ut=N.range[2]-N.range[0],ht=N.range[3]-N.range[1];N.scale=[Fe/ut,We/ht],N.translate=[-N.range[0]/ut+Ve[0]/ut||0,-N.range[1]/ht+Ve[1]/ht||0],N.scaleFract=s(N.scale),N.translateFract=s(N.translate)}if(I.dashes){var rt=0,tt;if(!I.dashes||I.dashes.length<2)rt=1,tt=new Uint8Array([255,255,255,255,255,255,255,255]);else{rt=0;for(var vt=0;vt<I.dashes.length;++vt)rt+=I.dashes[vt];tt=new Uint8Array(rt*d.dashMult);for(var pt=0,mt=255,wt=0;wt<2;wt++)for(var Lt=0;Lt<I.dashes.length;++Lt){for(var at=0,Oe=I.dashes[Lt]*d.dashMult*.5;at<Oe;++at)tt[pt++]=mt;mt^=255}}N.dashLength=rt,N.dashTexture({channels:1,data:tt,width:tt.length,height:1,mag:"linear",min:"linear"},0,0)}if(I.color){var Ze=N.count,Je=I.color;Je||(Je="transparent");var Ye=new Uint8Array(Ze*4+4);if(!Array.isArray(Je)||typeof Je[0]=="number")for(var ke=p(Je,"uint8"),be=0;be<Ze+1;be++)Ye.set(ke,be*4);else{for(var me=0;me<Ze;me++){var _e=p(Je[me],"uint8");Ye.set(_e,me*4)}Ye.set(p(Je[0],"uint8"),Ze*4)}N.colorBuffer({usage:"dynamic",type:"uint8",data:Ye})}}}),x.length<this.passes.length){for(var w=x.length;w<this.passes.length;w++){var o=this.passes[w];o&&(o.colorBuffer.destroy(),o.positionBuffer.destroy(),o.dashTexture.destroy())}this.passes.length=x.length}for(var _=[],b=0;b<this.passes.length;b++)this.passes[b]!==null&&_.push(this.passes[b]);return this.passes=_,this}},d.prototype.destroy=function(){return this.passes.forEach(function(x){x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(H,U,e){function p(o,_){var b=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(b!=null){var I,D,N,k,z=[],F=!0,O=!1;try{if(N=(b=b.call(o)).next,_===0){if(Object(b)!==b)return;F=!1}else for(;!(F=(I=N.call(b)).done)&&(z.push(I.value),z.length!==_);F=!0);}catch(B){O=!0,D=B}finally{try{if(!F&&b.return!=null&&(k=b.return(),Object(k)!==k))return}finally{if(O)throw D}}return z}}function L(o,_){return T(o)||p(o,_)||g(o,_)||s()}function n(o){return C(o)||v(o)||g(o)||t()}function C(o){if(Array.isArray(o))return r(o)}function T(o){if(Array.isArray(o))return o}function v(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function g(o,_){if(o){if(typeof o=="string")return r(o,_);var b=Object.prototype.toString.call(o).slice(8,-1);if(b==="Object"&&o.constructor&&(b=o.constructor.name),b==="Map"||b==="Set")return Array.from(o);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(o,_)}}function r(o,_){(_==null||_>o.length)&&(_=o.length);for(var b=0,I=new Array(_);b<_;b++)I[b]=o[b];return I}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=e(72160),f=e(76752),u=e(3808),l=e(3108),m=e(50896),h=e(26444),M=e(55616),c=e(45223),i=e(47520),d=e(96604),x=e(37816),A=e(51160),E=y;function y(o,_){var b=this;if(!(this instanceof y))return new y(o,_);typeof o=="function"?(_||(_={}),_.regl=o):(_=o,o=null),_&&_.length&&(_.positions=_),o=_.regl;var I=o._gl,D,N=[],k={},z=[],F=[null],O=[null],B=255,W=100;this.tooManyColors=d,D=o.texture({data:new Uint8Array(B*4),width:B,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:o,gl:I,groups:z,markerCache:O,markerTextures:F,palette:N,paletteIds:k,paletteTexture:D,maxColors:B,maxSize:W,canvas:I.canvas}),this.update(_);var ee={uniforms:{constPointSize:!!_.constPointSize,opacity:o.prop("opacity"),paletteSize:function(Z,Y){return[b.tooManyColors?0:B,D.height]},pixelRatio:o.context("pixelRatio"),scale:o.prop("scale"),scaleFract:o.prop("scaleFract"),translate:o.prop("translate"),translateFract:o.prop("translateFract"),markerTexture:o.prop("markerTexture"),paletteTexture:D},attributes:{x:function(Z,Y){return Y.xAttr||{buffer:Y.positionBuffer,stride:8,offset:0}},y:function(Z,Y){return Y.yAttr||{buffer:Y.positionBuffer,stride:8,offset:4}},xFract:function(Z,Y){return Y.xAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:0}},yFract:function(Z,Y){return Y.yAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:4}},size:function(Z,Y){return Y.size.length?{buffer:Y.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Y.size*255/b.maxSize)]}},borderSize:function(Z,Y){return Y.borderSize.length?{buffer:Y.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Y.borderSize*255/b.maxSize)]}},colorId:function(Z,Y){return Y.color.length?{buffer:Y.colorBuffer,stride:b.tooManyColors?8:4,offset:0}:{constant:b.tooManyColors?N.slice(Y.color*4,Y.color*4+4):[Y.color]}},borderColorId:function(Z,Y){return Y.borderColor.length?{buffer:Y.colorBuffer,stride:b.tooManyColors?8:4,offset:b.tooManyColors?4:2}:{constant:b.tooManyColors?N.slice(Y.borderColor*4,Y.borderColor*4+4):[Y.borderColor]}},isActive:function(Z,Y){return Y.activation===!0?{constant:[1]}:Y.activation?Y.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:o.prop("elements"),count:o.prop("count"),offset:o.prop("offset"),primitive:"points"},ne=m({},ee);ne.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ne.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=o(ne);var Q=m({},ee);Q.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),Q.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(Q.frag=Q.frag.replace("smoothstep","smoothStep"),ne.frag=ne.frag.replace("smoothstep","smoothStep")),this.drawCircle=o(Q)}y.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},y.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},y.prototype.draw=function(){for(var o=this,_=arguments.length,b=new Array(_),I=0;I<_;I++)b[I]=arguments[I];var D=this.groups;if(b.length===1&&Array.isArray(b[0])&&(b[0][0]===null||Array.isArray(b[0][0]))&&(b=b[0]),this.regl._refresh(),b.length)for(var N=0;N<b.length;N++)this.drawItem(N,b[N]);else D.forEach(function(k,z){o.drawItem(z)});return this},y.prototype.drawItem=function(o,_){var b=this.groups,I=b[o];if(typeof _=="number"&&(o=_,I=b[_],_=null),!!(I&&I.count&&I.opacity)){I.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,I,_));for(var D=[],N=1;N<I.activation.length;N++)!I.activation[N]||I.activation[N]!==!0&&!I.activation[N].data.length||D.push.apply(D,n(this.getMarkerDrawOptions(N,I,_)));D.length&&this.drawMarker(D)}},y.prototype.getMarkerDrawOptions=function(o,_,b){var I=_.range,D=_.tree,N=_.viewport,k=_.activation,z=_.selectionBuffer,F=_.count;if(this.regl,!D)return b?[m({},_,{markerTexture:this.markerTextures[o],activation:k[o],count:b.length,elements:b,offset:0})]:[m({},_,{markerTexture:this.markerTextures[o],activation:k[o],offset:0})];var O=[],B=D.range(I,{lod:!0,px:[(I[2]-I[0])/N.width,(I[3]-I[1])/N.height]});if(b){for(var W=k[o],ee=W.data,ne=new Uint8Array(F),Q=0;Q<b.length;Q++){var le=b[Q];ne[le]=ee?ee[le]:1}z.subdata(ne)}for(var Z=B.length;Z--;){var Y=L(B[Z],2),re=Y[0],X=Y[1];O.push(m({},_,{markerTexture:this.markerTextures[o],activation:b?z:k[o],offset:re,count:X-re}))}return O},y.prototype.update=function(){for(var o=this,_=arguments.length,b=new Array(_),I=0;I<_;I++)b[I]=arguments[I];if(b.length){b.length===1&&Array.isArray(b[0])&&(b=b[0]);var D=this.groups,N=this.gl,k=this.regl,z=this.maxSize,F=this.maxColors,O=this.palette;this.groups=D=b.map(function(B,W){var ee=D[W];if(B===void 0)return ee;B===null?B={positions:null}:typeof B=="function"?B={ondraw:B}:typeof B[0]=="number"&&(B={positions:B}),B=M(B,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),B.positions===null&&(B.positions=[]),B.tooManyColors!=null&&(o.tooManyColors=B.tooManyColors),ee||(D[W]=ee={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:k.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},B=m({},y.defaults,B)),B.positions&&!("marker"in B)&&(B.marker=ee.marker,delete ee.marker),B.marker&&!("positions"in B)&&(B.positions=ee.positions,delete ee.positions);var ne=0,Q=0;if(c(ee,B,[{snap:!0,size:function(xe,Re){return xe==null&&(xe=y.defaults.size),ne+=xe&&xe.length?1:0,xe},borderSize:function(xe,Re){return xe==null&&(xe=y.defaults.borderSize),ne+=xe&&xe.length?1:0,xe},opacity:parseFloat,color:function(xe,Re){return xe==null&&(xe=y.defaults.color),xe=o.updateColor(xe),Q++,xe},borderColor:function(xe,Re){return xe==null&&(xe=y.defaults.borderColor),xe=o.updateColor(xe),Q++,xe},bounds:function(xe,Re,He){return"range"in He||(He.range=null),xe},positions:function(xe,Re,He){var Ve=Re.snap,Fe=Re.positionBuffer,We=Re.positionFractBuffer,ut=Re.selectionBuffer;if(xe.x||xe.y)return xe.x.length?Re.xAttr={buffer:k.buffer(xe.x),offset:0,stride:4,count:xe.x.length}:Re.xAttr={buffer:xe.x.buffer,offset:xe.x.offset*4||0,stride:(xe.x.stride||1)*4,count:xe.x.count},xe.y.length?Re.yAttr={buffer:k.buffer(xe.y),offset:0,stride:4,count:xe.y.length}:Re.yAttr={buffer:xe.y.buffer,offset:xe.y.offset*4||0,stride:(xe.y.stride||1)*4,count:xe.y.count},Re.count=Math.max(Re.xAttr.count,Re.yAttr.count),xe;xe=i(xe,"float64");var ht=Re.count=Math.floor(xe.length/2),rt=Re.bounds=ht?f(xe,2):null;if(!He.range&&!Re.range&&(delete Re.range,He.range=rt),!He.marker&&!Re.marker&&(delete Re.marker,He.marker=null),Ve&&(Ve===!0||ht>Ve)?Re.tree=l(xe,{bounds:rt}):Ve&&Ve.length&&(Re.tree=Ve),Re.tree){var tt={primitive:"points",usage:"static",data:Re.tree,type:"uint32"};Re.elements?Re.elements(tt):Re.elements=k.elements(tt)}var vt=x.float32(xe);Fe({data:vt,usage:"dynamic"});var pt=x.fract32(xe,vt);return We({data:pt,usage:"dynamic"}),ut({data:new Uint8Array(ht),type:"uint8",usage:"stream"}),xe}},{marker:function(xe,Re,He){var Ve=Re.activation;if(Ve.forEach(function(pt){return pt&&pt.destroy&&pt.destroy()}),Ve.length=0,!xe||typeof xe[0]=="number"){var Fe=o.addMarker(xe);Ve[Fe]=!0}else{for(var We=[],ut=0,ht=Math.min(xe.length,Re.count);ut<ht;ut++){var rt=o.addMarker(xe[ut]);We[rt]||(We[rt]=new Uint8Array(Re.count)),We[rt][ut]=1}for(var tt=0;tt<We.length;tt++)if(We[tt]){var vt={data:We[tt],type:"uint8",usage:"static"};Ve[tt]?Ve[tt](vt):Ve[tt]=k.buffer(vt),Ve[tt].data=We[tt]}}return xe},range:function(xe,Re,He){var Ve=Re.bounds;if(Ve)return xe||(xe=Ve),Re.scale=[1/(xe[2]-xe[0]),1/(xe[3]-xe[1])],Re.translate=[-xe[0],-xe[1]],Re.scaleFract=x.fract(Re.scale),Re.translateFract=x.fract(Re.translate),xe},viewport:function(xe){var Re=A(xe||[N.drawingBufferWidth,N.drawingBufferHeight]);return Re}}]),ne){var le=ee,Z=le.count,Y=le.size,re=le.borderSize,X=le.sizeBuffer,q=new Uint8Array(Z*2);if(Y.length||re.length)for(var se=0;se<Z;se++)q[se*2]=Math.round((Y[se]==null?Y:Y[se])*255/z),q[se*2+1]=Math.round((re[se]==null?re:re[se])*255/z);X({data:q,usage:"dynamic"})}if(Q){var $=ee,j=$.count,ue=$.color,ae=$.borderColor,ce=$.colorBuffer,ye;if(o.tooManyColors){if(ue.length||ae.length){ye=new Uint8Array(j*8);for(var Ce=0;Ce<j;Ce++){var Ae=ue[Ce];ye[Ce*8]=O[Ae*4],ye[Ce*8+1]=O[Ae*4+1],ye[Ce*8+2]=O[Ae*4+2],ye[Ce*8+3]=O[Ae*4+3];var Ie=ae[Ce];ye[Ce*8+4]=O[Ie*4],ye[Ce*8+5]=O[Ie*4+1],ye[Ce*8+6]=O[Ie*4+2],ye[Ce*8+7]=O[Ie*4+3]}}}else if(ue.length||ae.length){ye=new Uint8Array(j*4+2);for(var Te=0;Te<j;Te++)ue[Te]!=null&&(ye[Te*4]=ue[Te]%F,ye[Te*4+1]=Math.floor(ue[Te]/F)),ae[Te]!=null&&(ye[Te*4+2]=ae[Te]%F,ye[Te*4+3]=Math.floor(ae[Te]/F))}ce({data:ye||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return ee})}},y.prototype.addMarker=function(o){var _=this.markerTextures,b=this.regl,I=this.markerCache,D=o==null?0:I.indexOf(o);if(D>=0)return D;var N;if(o instanceof Uint8Array||o instanceof Uint8ClampedArray)N=o;else{N=new Uint8Array(o.length);for(var k=0,z=o.length;k<z;k++)N[k]=o[k]*255}var F=Math.floor(Math.sqrt(N.length));return D=_.length,I.push(o),_.push(b.texture({channels:1,data:N,radius:F,mag:"linear",min:"linear"})),D},y.prototype.updateColor=function(o){var _=this.paletteIds,b=this.palette,I=this.maxColors;Array.isArray(o)||(o=[o]);var D=[];if(typeof o[0]=="number"){var N=[];if(Array.isArray(o))for(var k=0;k<o.length;k+=4)N.push(o.slice(k,k+4));else for(var z=0;z<o.length;z+=4)N.push(o.subarray(z,z+4));o=N}for(var F=0;F<o.length;F++){var O=o[F];O=a(O,"uint8");var B=u(O,!1);if(_[B]==null){var W=b.length;_[B]=Math.floor(W/4),b[W]=O[0],b[W+1]=O[1],b[W+2]=O[2],b[W+3]=O[3]}D[F]=_[B]}return!this.tooManyColors&&b.length>I*4&&(this.tooManyColors=!0),this.updatePalette(b),D.length===1?D[0]:D},y.prototype.updatePalette=function(o){if(!this.tooManyColors){var _=this.maxColors,b=this.paletteTexture,I=Math.ceil(o.length*.25/_);if(I>1){o=o.slice();for(var D=o.length*.25%_;D<I*_;D++)o.push(0,0,0,0)}b.height<I&&b.resize(_,I),b.subimage({width:Math.min(o.length*.25,_),height:I,data:o},0,0)}},y.prototype.destroy=function(){return this.groups.forEach(function(o){o.sizeBuffer.destroy(),o.positionBuffer.destroy(),o.positionFractBuffer.destroy(),o.colorBuffer.destroy(),o.activation.forEach(function(_){return _&&_.destroy&&_.destroy()}),o.selectionBuffer.destroy(),o.elements&&o.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(o){return o&&o.destroy&&o.destroy()}),this};var S=e(50896),w=function(_,b){var I=new E(_,b),D=I.render.bind(I);return S(D,{render:D,update:I.update.bind(I),draw:I.draw.bind(I),destroy:I.destroy.bind(I),regl:I.regl,gl:I.gl,canvas:I.gl.canvas,groups:I.groups,markers:I.markerCache,palette:I.palette}),D};H.exports=w},55795:function(H,U,e){var p=e(38540),L=e(55616),n=e(76752),C=e(3951),T=e(67752),v=e(51160),g=e(47520);H.exports=r;function r(f,u){if(!(this instanceof r))return new r(f);this.traces=[],this.passes={},this.regl=f,this.scatter=p(f),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var f=this,u,l=[],m=arguments.length;m--;)l[m]=arguments[m];return l.length&&(u=this).update.apply(u,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){f.draw(),f.dirty=!0,f.planned=null})):(this.draw(),this.dirty=!0,C(function(){f.dirty=!1})),this)},r.prototype.update=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(u.length){for(var m=0;m<u.length;m++)this.updateItem(m,u[m]);this.traces=this.traces.filter(Boolean);for(var h=[],M=0,c=0;c<this.traces.length;c++){for(var i=this.traces[c],d=this.traces[c].passes,x=0;x<d.length;x++)h.push(this.passes[d[x]]);i.passOffset=M,M+=i.passes.length}return(f=this.scatter).update.apply(f,h),this}},r.prototype.updateItem=function(f,u){var l=this,m=l.regl;if(u===null)return this.traces[f]=null,this;if(!u)return this;var h=L(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),M=this.traces[f]||(this.traces[f]={id:f,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(M.color=h.color),h.size!=null&&(M.size=h.size),h.marker!=null&&(M.marker=h.marker),h.borderColor!=null&&(M.borderColor=h.borderColor),h.borderSize!=null&&(M.borderSize=h.borderSize),h.opacity!=null&&(M.opacity=h.opacity),h.viewport&&(M.viewport=v(h.viewport)),h.diagonal!=null&&(M.diagonal=h.diagonal),h.upper!=null&&(M.upper=h.upper),h.lower!=null&&(M.lower=h.lower),h.data){M.buffer(g(h.data)),M.columns=h.data.length,M.count=h.data[0].length,M.bounds=[];for(var c=0;c<M.columns;c++)M.bounds[c]=n(h.data[c],1)}var i;h.range&&(M.range=h.range,i=M.range&&typeof M.range[0]!="number"),h.domain&&(M.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===M.columns&&typeof h.padding[h.padding.length-1]=="number"?(M.padding=h.padding.map(a),d=!0):M.padding=a(h.padding));var x=M.columns,A=M.count,E=M.viewport.width,y=M.viewport.height,S=M.viewport.x,w=M.viewport.y,o=E/x,_=y/x;M.passes=[];for(var b=0;b<x;b++)for(var I=0;I<x;I++)if(!(!M.diagonal&&I===b)&&!(!M.upper&&b>I)&&!(!M.lower&&b<I)){var D=t(M.id,b,I),N=this.passes[D]||(this.passes[D]={});if(h.data&&(h.transpose?N.positions={x:{buffer:M.buffer,offset:I,count:A,stride:x},y:{buffer:M.buffer,offset:b,count:A,stride:x}}:N.positions={x:{buffer:M.buffer,offset:I*A,count:A},y:{buffer:M.buffer,offset:b*A,count:A}},N.bounds=s(M.bounds,b,I)),h.domain||h.viewport||h.data){var k=d?s(M.padding,b,I):M.padding;if(M.domain){var z=s(M.domain,b,I),F=z[0],O=z[1],B=z[2],W=z[3];N.viewport=[S+F*E+k[0],w+O*y+k[1],S+B*E-k[2],w+W*y-k[3]]}else N.viewport=[S+I*o+o*k[0],w+b*_+_*k[1],S+(I+1)*o-o*k[2],w+(b+1)*_-_*k[3]]}h.color&&(N.color=M.color),h.size&&(N.size=M.size),h.marker&&(N.marker=M.marker),h.borderSize&&(N.borderSize=M.borderSize),h.borderColor&&(N.borderColor=M.borderColor),h.opacity&&(N.opacity=M.opacity),h.range&&(N.range=i?s(M.range,b,I):M.range||N.bounds),M.passes.push(D)}return this},r.prototype.draw=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(!u.length)this.scatter.draw();else{for(var m=[],h=0;h<u.length;h++)if(typeof u[h]=="number"){var M=this.traces[u[h]],c=M.passes,i=M.passOffset;m.push.apply(m,T(i,i+c.length))}else if(u[h].length){var d=u[h],x=this.traces[h],A=x.passes,E=x.passOffset;A=A.map(function(y,S){m[E+S]=d})}(f=this.scatter).draw.apply(f,m)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(f){f.buffer&&f.buffer.destroy&&f.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(f,u,l){var m=f.id!=null?f.id:f,h=u,M=l,c=m<<16|(h&255)<<8|M&255;return c}function s(f,u,l){var m,h,M,c,i=f[u],d=f[l];return i.length>2?(i[0],i[2],m=i[1],h=i[3]):i.length?(m=i[0],h=i[1]):(i.x,m=i.y,i.x+i.width,h=i.y+i.height),d.length>2?(M=d[0],c=d[2],d[1],d[3]):d.length?(M=d[0],c=d[1]):(M=d.x,d.y,c=d.x+d.width,d.y+d.height),[M,m,c,h]}function a(f){if(typeof f=="number")return[f,f,f,f];if(f.length===2)return[f[0],f[1],f[0],f[1]];var u=v(f);return[u.x,u.y,u.x+u.width,u.y+u.height]}},28624:function(H){(function(U,e){H.exports=e()})(this,function(){function U(Tt,$t){this.id=ce++,this.type=Tt,this.data=$t}function e(Tt){if(Tt.length===0)return[];var $t=Tt.charAt(0),tr=Tt.charAt(Tt.length-1);if(1<Tt.length&&$t===tr&&($t==='"'||$t==="'"))return['"'+Tt.substr(1,Tt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if($t=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Tt))return e(Tt.substr(0,$t.index)).concat(e($t[1])).concat(e(Tt.substr($t.index+$t[0].length)));if($t=Tt.split("."),$t.length===1)return['"'+Tt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Tt=[],tr=0;tr<$t.length;++tr)Tt=Tt.concat(e($t[tr]));return Tt}function p(Tt){return"["+e(Tt).join("][")+"]"}function L(Tt,$t){if(typeof Tt=="function")return new U(0,Tt);if(typeof Tt=="number"||typeof Tt=="boolean")return new U(5,Tt);if(Array.isArray(Tt))return new U(6,Tt.map(function(tr,Tr){return L(tr)}));if(Tt instanceof U)return Tt}function n(){var Tt={"":0},$t=[""];return{id:function(tr){var Tr=Tt[tr];return Tr||(Tr=Tt[tr]=$t.length,$t.push(tr),Tr)},str:function(tr){return $t[tr]}}}function C(Tt,$t,tr){function Tr(){var lt=window.innerWidth,Mt=window.innerHeight;Tt!==document.body&&(Mt=cr.getBoundingClientRect(),lt=Mt.right-Mt.left,Mt=Mt.bottom-Mt.top),cr.width=tr*lt,cr.height=tr*Mt}var cr=document.createElement("canvas");ae(cr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),Tt.appendChild(cr),Tt===document.body&&(cr.style.position="absolute",ae(Tt.style,{margin:0,padding:0}));var bt;return Tt!==document.body&&typeof ResizeObserver=="function"?(bt=new ResizeObserver(function(){setTimeout(Tr)}),bt.observe(Tt)):window.addEventListener("resize",Tr,!1),Tr(),{canvas:cr,onDestroy:function(){bt?bt.disconnect():window.removeEventListener("resize",Tr),Tt.removeChild(cr)}}}function T(Tt,$t){function tr(Tr){try{return Tt.getContext(Tr,$t)}catch{return null}}return tr("webgl")||tr("experimental-webgl")||tr("webgl-experimental")}function v(Tt){return typeof Tt=="string"?Tt.split():Tt}function g(Tt){return typeof Tt=="string"?document.querySelector(Tt):Tt}function r(Tt){var $t=Tt||{},tr,Tr,cr,bt;Tt={};var lt=[],Mt=[],_t=typeof window>"u"?1:window.devicePixelRatio,Ot=!1,It={},Wt=function(er){},Gt=function(){};if(typeof $t=="string"?tr=document.querySelector($t):typeof $t=="object"&&(typeof $t.nodeName=="string"&&typeof $t.appendChild=="function"&&typeof $t.getBoundingClientRect=="function"?tr=$t:typeof $t.drawArrays=="function"||typeof $t.drawElements=="function"?(bt=$t,cr=bt.canvas):("gl"in $t?bt=$t.gl:"canvas"in $t?cr=g($t.canvas):"container"in $t&&(Tr=g($t.container)),"attributes"in $t&&(Tt=$t.attributes),"extensions"in $t&&(lt=v($t.extensions)),"optionalExtensions"in $t&&(Mt=v($t.optionalExtensions)),"onDone"in $t&&(Wt=$t.onDone),"profile"in $t&&(Ot=!!$t.profile),"pixelRatio"in $t&&(_t=+$t.pixelRatio),"cachedCode"in $t&&(It=$t.cachedCode))),tr&&(tr.nodeName.toLowerCase()==="canvas"?cr=tr:Tr=tr),!bt){if(!cr){if(tr=C(Tr||document.body,Wt,_t),!tr)return null;cr=tr.canvas,Gt=tr.onDestroy}Tt.premultipliedAlpha===void 0&&(Tt.premultipliedAlpha=!0),bt=T(cr,Tt)}return bt?{gl:bt,canvas:cr,container:Tr,extensions:lt,optionalExtensions:Mt,pixelRatio:_t,profile:Ot,cachedCode:It,onDone:Wt,onDestroy:Gt}:(Gt(),Wt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(Tt,$t){function tr(lt){lt=lt.toLowerCase();var Mt;try{Mt=Tr[lt]=Tt.getExtension(lt)}catch{}return!!Mt}for(var Tr={},cr=0;cr<$t.extensions.length;++cr){var bt=$t.extensions[cr];if(!tr(bt))return $t.onDestroy(),$t.onDone('"'+bt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return $t.optionalExtensions.forEach(tr),{extensions:Tr,restore:function(){Object.keys(Tr).forEach(function(lt){if(Tr[lt]&&!tr(lt))throw Error("(regl): error restoring extension "+lt)})}}}function s(Tt,$t){for(var tr=Array(Tt),Tr=0;Tr<Tt;++Tr)tr[Tr]=$t(Tr);return tr}function a(Tt){var $t,tr;return $t=(65535<Tt)<<4,Tt>>>=$t,tr=(255<Tt)<<3,Tt>>>=tr,$t|=tr,tr=(15<Tt)<<2,Tt>>>=tr,$t|=tr,tr=(3<Tt)<<1,$t|tr|Tt>>>tr>>1}function f(){function Tt(Tr){e:{for(var cr=16;268435456>=cr;cr*=16)if(Tr<=cr){Tr=cr;break e}Tr=0}return cr=tr[a(Tr)>>2],0<cr.length?cr.pop():new ArrayBuffer(Tr)}function $t(Tr){tr[a(Tr.byteLength)>>2].push(Tr)}var tr=s(8,function(){return[]});return{alloc:Tt,free:$t,allocType:function(Tr,cr){var bt=null;switch(Tr){case 5120:bt=new Int8Array(Tt(cr),0,cr);break;case 5121:bt=new Uint8Array(Tt(cr),0,cr);break;case 5122:bt=new Int16Array(Tt(2*cr),0,cr);break;case 5123:bt=new Uint16Array(Tt(2*cr),0,cr);break;case 5124:bt=new Int32Array(Tt(4*cr),0,cr);break;case 5125:bt=new Uint32Array(Tt(4*cr),0,cr);break;case 5126:bt=new Float32Array(Tt(4*cr),0,cr);break;default:return null}return bt.length!==cr?bt.subarray(0,cr):bt},freeType:function(Tr){$t(Tr.buffer)}}}function u(Tt){return!!Tt&&typeof Tt=="object"&&Array.isArray(Tt.shape)&&Array.isArray(Tt.stride)&&typeof Tt.offset=="number"&&Tt.shape.length===Tt.stride.length&&(Array.isArray(Tt.data)||Le(Tt.data))}function l(Tt,$t,tr,Tr,cr,bt){for(var lt=0;lt<$t;++lt)for(var Mt=Tt[lt],_t=0;_t<tr;++_t)for(var Ot=Mt[_t],It=0;It<Tr;++It)cr[bt++]=Ot[It]}function m(Tt,$t,tr,Tr,cr){for(var bt=1,lt=tr+1;lt<$t.length;++lt)bt*=$t[lt];var Mt=$t[tr];if($t.length-tr===4){var _t=$t[tr+1],Ot=$t[tr+2];for($t=$t[tr+3],lt=0;lt<Mt;++lt)l(Tt[lt],_t,Ot,$t,Tr,cr),cr+=bt}else for(lt=0;lt<Mt;++lt)m(Tt[lt],$t,tr+1,Tr,cr),cr+=bt}function h(Tt){return He[Object.prototype.toString.call(Tt)]|0}function M(Tt,$t){for(var tr=0;tr<$t.length;++tr)Tt[tr]=$t[tr]}function c(Tt,$t,tr,Tr,cr,bt,lt){for(var Mt=0,_t=0;_t<tr;++_t)for(var Ot=0;Ot<Tr;++Ot)Tt[Mt++]=$t[cr*_t+bt*Ot+lt]}function i(Tt,$t,tr,Tr){function cr(Wt){this.id=_t++,this.buffer=Tt.createBuffer(),this.type=Wt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,tr.profile&&(this.stats={size:0})}function bt(Wt,Gt,er){Wt.byteLength=Gt.byteLength,Tt.bufferData(Wt.type,Gt,er)}function lt(Wt,Gt,er,dr,pr,mr){if(Wt.usage=er,Array.isArray(Gt)){if(Wt.dtype=dr||5126,0<Gt.length)if(Array.isArray(Gt[0])){pr=ut(Gt);for(var Xe=dr=1;Xe<pr.length;++Xe)dr*=pr[Xe];Wt.dimension=dr,Gt=We(Gt,pr,Wt.dtype),bt(Wt,Gt,er),mr?Wt.persistentData=Gt:Ie.freeType(Gt)}else typeof Gt[0]=="number"?(Wt.dimension=pr,pr=Ie.allocType(Wt.dtype,Gt.length),M(pr,Gt),bt(Wt,pr,er),mr?Wt.persistentData=pr:Ie.freeType(pr)):Le(Gt[0])&&(Wt.dimension=Gt[0].length,Wt.dtype=dr||h(Gt[0])||5126,Gt=We(Gt,[Gt.length,Gt[0].length],Wt.dtype),bt(Wt,Gt,er),mr?Wt.persistentData=Gt:Ie.freeType(Gt))}else if(Le(Gt))Wt.dtype=dr||h(Gt),Wt.dimension=pr,bt(Wt,Gt,er),mr&&(Wt.persistentData=new Uint8Array(new Uint8Array(Gt.buffer)));else if(u(Gt)){pr=Gt.shape;var Ge=Gt.stride,Xe=Gt.offset,Ut=0,Nt=0,Qt=0,ar=0;pr.length===1?(Ut=pr[0],Nt=1,Qt=Ge[0],ar=0):pr.length===2&&(Ut=pr[0],Nt=pr[1],Qt=Ge[0],ar=Ge[1]),Wt.dtype=dr||h(Gt.data)||5126,Wt.dimension=Nt,pr=Ie.allocType(Wt.dtype,Ut*Nt),c(pr,Gt.data,Ut,Nt,Qt,ar,Xe),bt(Wt,pr,er),mr?Wt.persistentData=pr:Ie.freeType(pr)}else Gt instanceof ArrayBuffer&&(Wt.dtype=5121,Wt.dimension=pr,bt(Wt,Gt,er),mr&&(Wt.persistentData=new Uint8Array(new Uint8Array(Gt))))}function Mt(Wt){$t.bufferCount--,Tr(Wt),Tt.deleteBuffer(Wt.buffer),Wt.buffer=null,delete Ot[Wt.id]}var _t=0,Ot={};cr.prototype.bind=function(){Tt.bindBuffer(this.type,this.buffer)},cr.prototype.destroy=function(){Mt(this)};var It=[];return tr.profile&&($t.getTotalBufferSize=function(){var Wt=0;return Object.keys(Ot).forEach(function(Gt){Wt+=Ot[Gt].stats.size}),Wt}),{create:function(Wt,Gt,er,dr){function pr(Xe){var Ge=35044,Ut=null,Nt=0,Qt=0,ar=1;return Array.isArray(Xe)||Le(Xe)||u(Xe)||Xe instanceof ArrayBuffer?Ut=Xe:typeof Xe=="number"?Nt=Xe|0:Xe&&("data"in Xe&&(Ut=Xe.data),"usage"in Xe&&(Ge=Fe[Xe.usage]),"type"in Xe&&(Qt=Ve[Xe.type]),"dimension"in Xe&&(ar=Xe.dimension|0),"length"in Xe&&(Nt=Xe.length|0)),mr.bind(),Ut?lt(mr,Ut,Ge,Qt,ar,dr):(Nt&&Tt.bufferData(mr.type,Nt,Ge),mr.dtype=Qt||5121,mr.usage=Ge,mr.dimension=ar,mr.byteLength=Nt),tr.profile&&(mr.stats.size=mr.byteLength*ht[mr.dtype]),pr}$t.bufferCount++;var mr=new cr(Gt);return Ot[mr.id]=mr,er||pr(Wt),pr._reglType="buffer",pr._buffer=mr,pr.subdata=function(Xe,Ge){var Ut=(Ge||0)|0,Nt;if(mr.bind(),Le(Xe)||Xe instanceof ArrayBuffer)Tt.bufferSubData(mr.type,Ut,Xe);else if(Array.isArray(Xe)){if(0<Xe.length)if(typeof Xe[0]=="number"){var Qt=Ie.allocType(mr.dtype,Xe.length);M(Qt,Xe),Tt.bufferSubData(mr.type,Ut,Qt),Ie.freeType(Qt)}else(Array.isArray(Xe[0])||Le(Xe[0]))&&(Nt=ut(Xe),Qt=We(Xe,Nt,mr.dtype),Tt.bufferSubData(mr.type,Ut,Qt),Ie.freeType(Qt))}else if(u(Xe)){Nt=Xe.shape;var ar=Xe.stride,hr=Qt=0,or=0,Vt=0;Nt.length===1?(Qt=Nt[0],hr=1,or=ar[0],Vt=0):Nt.length===2&&(Qt=Nt[0],hr=Nt[1],or=ar[0],Vt=ar[1]),Nt=Array.isArray(Xe.data)?mr.dtype:h(Xe.data),Nt=Ie.allocType(Nt,Qt*hr),c(Nt,Xe.data,Qt,hr,or,Vt,Xe.offset),Tt.bufferSubData(mr.type,Ut,Nt),Ie.freeType(Nt)}return pr},tr.profile&&(pr.stats=mr.stats),pr.destroy=function(){Mt(mr)},pr},createStream:function(Wt,Gt){var er=It.pop();return er||(er=new cr(Wt)),er.bind(),lt(er,Gt,35040,0,1,!1),er},destroyStream:function(Wt){It.push(Wt)},clear:function(){xe(Ot).forEach(Mt),It.forEach(Mt)},getBuffer:function(Wt){return Wt&&Wt._buffer instanceof cr?Wt._buffer:null},restore:function(){xe(Ot).forEach(function(Wt){Wt.buffer=Tt.createBuffer(),Tt.bindBuffer(Wt.type,Wt.buffer),Tt.bufferData(Wt.type,Wt.persistentData||Wt.byteLength,Wt.usage)})},_initBuffer:lt}}function d(Tt,$t,tr,Tr){function cr(Wt){this.id=_t++,Mt[this.id]=this,this.buffer=Wt,this.primType=4,this.type=this.vertCount=0}function bt(Wt,Gt,er,dr,pr,mr,Xe){Wt.buffer.bind();var Ge;if(Gt?((Ge=Xe)||Le(Gt)&&(!u(Gt)||Le(Gt.data))||(Ge=$t.oes_element_index_uint?5125:5123),tr._initBuffer(Wt.buffer,Gt,er,Ge,3)):(Tt.bufferData(34963,mr,er),Wt.buffer.dtype=Ge||5121,Wt.buffer.usage=er,Wt.buffer.dimension=3,Wt.buffer.byteLength=mr),Ge=Xe,!Xe){switch(Wt.buffer.dtype){case 5121:case 5120:Ge=5121;break;case 5123:case 5122:Ge=5123;break;case 5125:case 5124:Ge=5125}Wt.buffer.dtype=Ge}Wt.type=Ge,Gt=pr,0>Gt&&(Gt=Wt.buffer.byteLength,Ge===5123?Gt>>=1:Ge===5125&&(Gt>>=2)),Wt.vertCount=Gt,Gt=dr,0>dr&&(Gt=4,dr=Wt.buffer.dimension,dr===1&&(Gt=0),dr===2&&(Gt=1),dr===3&&(Gt=4)),Wt.primType=Gt}function lt(Wt){Tr.elementsCount--,delete Mt[Wt.id],Wt.buffer.destroy(),Wt.buffer=null}var Mt={},_t=0,Ot={uint8:5121,uint16:5123};$t.oes_element_index_uint&&(Ot.uint32=5125),cr.prototype.bind=function(){this.buffer.bind()};var It=[];return{create:function(Wt,Gt){function er(mr){if(mr)if(typeof mr=="number")dr(mr),pr.primType=4,pr.vertCount=mr|0,pr.type=5121;else{var Xe=null,Ge=35044,Ut=-1,Nt=-1,Qt=0,ar=0;Array.isArray(mr)||Le(mr)||u(mr)?Xe=mr:("data"in mr&&(Xe=mr.data),"usage"in mr&&(Ge=Fe[mr.usage]),"primitive"in mr&&(Ut=rt[mr.primitive]),"count"in mr&&(Nt=mr.count|0),"type"in mr&&(ar=Ot[mr.type]),"length"in mr?Qt=mr.length|0:(Qt=Nt,ar===5123||ar===5122?Qt*=2:(ar===5125||ar===5124)&&(Qt*=4))),bt(pr,Xe,Ge,Ut,Nt,Qt,ar)}else dr(),pr.primType=4,pr.vertCount=0,pr.type=5121;return er}var dr=tr.create(null,34963,!0),pr=new cr(dr._buffer);return Tr.elementsCount++,er(Wt),er._reglType="elements",er._elements=pr,er.subdata=function(mr,Xe){return dr.subdata(mr,Xe),er},er.destroy=function(){lt(pr)},er},createStream:function(Wt){var Gt=It.pop();return Gt||(Gt=new cr(tr.create(null,34963,!0,!1)._buffer)),bt(Gt,Wt,35040,-1,-1,0,0),Gt},destroyStream:function(Wt){It.push(Wt)},getElements:function(Wt){return typeof Wt=="function"&&Wt._elements instanceof cr?Wt._elements:null},clear:function(){xe(Mt).forEach(lt)}}}function x(Tt){for(var $t=Ie.allocType(5123,Tt.length),tr=0;tr<Tt.length;++tr)if(isNaN(Tt[tr]))$t[tr]=65535;else if(Tt[tr]===1/0)$t[tr]=31744;else if(Tt[tr]===-1/0)$t[tr]=64512;else{tt[0]=Tt[tr];var bt=vt[0],Tr=bt>>>31<<15,cr=(bt<<1>>>24)-127,bt=bt>>13&1023;$t[tr]=-24>cr?Tr:-14>cr?Tr+(bt+1024>>-14-cr):15<cr?Tr+31744:Tr+(cr+15<<10)+bt}return $t}function A(Tt){return Array.isArray(Tt)||Le(Tt)}function E(Tt){return"[object "+Tt+"]"}function y(Tt){return Array.isArray(Tt)&&(Tt.length===0||typeof Tt[0]=="number")}function S(Tt){return!!(Array.isArray(Tt)&&Tt.length!==0&&A(Tt[0]))}function w(Tt){return Object.prototype.toString.call(Tt)}function o(Tt){if(!Tt)return!1;var $t=w(Tt);return 0<=ke.indexOf($t)?!0:y(Tt)||S(Tt)||u(Tt)}function _(Tt,$t){Tt.type===36193?(Tt.data=x($t),Ie.freeType($t)):Tt.data=$t}function b(Tt,$t,tr,Tr,cr,bt){if(Tt=typeof me[Tt]<"u"?me[Tt]:wt[Tt]*be[$t],bt&&(Tt*=6),cr){for(Tr=0;1<=tr;)Tr+=Tt*tr*tr,tr/=2;return Tr}return Tt*tr*Tr}function I(Tt,$t,tr,Tr,cr,bt,lt){function Mt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function _t(Er,tn){Er.internalformat=tn.internalformat,Er.format=tn.format,Er.type=tn.type,Er.compressed=tn.compressed,Er.premultiplyAlpha=tn.premultiplyAlpha,Er.flipY=tn.flipY,Er.unpackAlignment=tn.unpackAlignment,Er.colorSpace=tn.colorSpace,Er.width=tn.width,Er.height=tn.height,Er.channels=tn.channels}function Ot(Er,tn){if(typeof tn=="object"&&tn){"premultiplyAlpha"in tn&&(Er.premultiplyAlpha=tn.premultiplyAlpha),"flipY"in tn&&(Er.flipY=tn.flipY),"alignment"in tn&&(Er.unpackAlignment=tn.alignment),"colorSpace"in tn&&(Er.colorSpace=wn[tn.colorSpace]),"type"in tn&&(Er.type=hn[tn.type]);var $r=Er.width,An=Er.height,qn=Er.channels,kn=!1;"shape"in tn?($r=tn.shape[0],An=tn.shape[1],tn.shape.length===3&&(qn=tn.shape[2],kn=!0)):("radius"in tn&&($r=An=tn.radius),"width"in tn&&($r=tn.width),"height"in tn&&(An=tn.height),"channels"in tn&&(qn=tn.channels,kn=!0)),Er.width=$r|0,Er.height=An|0,Er.channels=qn|0,$r=!1,"format"in tn&&($r=tn.format,An=Er.internalformat=Un[$r],Er.format=Vn[An],$r in hn&&!("type"in tn)&&(Er.type=hn[$r]),$r in Fn&&(Er.compressed=!0),$r=!0),!kn&&$r?Er.channels=wt[Er.format]:kn&&!$r&&Er.channels!==mt[Er.format]&&(Er.format=Er.internalformat=mt[Er.channels])}}function It(Er){Tt.pixelStorei(37440,Er.flipY),Tt.pixelStorei(37441,Er.premultiplyAlpha),Tt.pixelStorei(37443,Er.colorSpace),Tt.pixelStorei(3317,Er.unpackAlignment)}function Wt(){Mt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Gt(Er,tn){var $r=null;if(o(tn)?$r=tn:tn&&(Ot(Er,tn),"x"in tn&&(Er.xOffset=tn.x|0),"y"in tn&&(Er.yOffset=tn.y|0),o(tn.data)&&($r=tn.data)),tn.copy){var An=cr.viewportWidth,qn=cr.viewportHeight;Er.width=Er.width||An-Er.xOffset,Er.height=Er.height||qn-Er.yOffset,Er.needsCopy=!0}else if(!$r)Er.width=Er.width||1,Er.height=Er.height||1,Er.channels=Er.channels||4;else if(Le($r))Er.channels=Er.channels||4,Er.data=$r,"type"in tn||Er.type!==5121||(Er.type=He[Object.prototype.toString.call($r)]|0);else if(y($r)){switch(Er.channels=Er.channels||4,An=$r,qn=An.length,Er.type){case 5121:case 5123:case 5125:case 5126:qn=Ie.allocType(Er.type,qn),qn.set(An),Er.data=qn;break;case 36193:Er.data=x(An)}Er.alignment=1,Er.needsFree=!0}else if(u($r)){An=$r.data,Array.isArray(An)||Er.type!==5121||(Er.type=He[Object.prototype.toString.call(An)]|0);var qn=$r.shape,kn=$r.stride,On,$n,ca,Ia;qn.length===3?(ca=qn[2],Ia=kn[2]):Ia=ca=1,On=qn[0],$n=qn[1],qn=kn[0],kn=kn[1],Er.alignment=1,Er.width=On,Er.height=$n,Er.channels=ca,Er.format=Er.internalformat=mt[ca],Er.needsFree=!0,On=Ia,$r=$r.offset,ca=Er.width,Ia=Er.height,$n=Er.channels;for(var ei=Ie.allocType(Er.type===36193?5126:Er.type,ca*Ia*$n),Sr=0,Hr=0;Hr<Ia;++Hr)for(var Lr=0;Lr<ca;++Lr)for(var Gr=0;Gr<$n;++Gr)ei[Sr++]=An[qn*Lr+kn*Hr+On*Gr+$r];_(Er,ei)}else if(w($r)===Lt||w($r)===at||w($r)===Oe)w($r)===Lt||w($r)===at?Er.element=$r:Er.element=$r.canvas,Er.width=Er.element.width,Er.height=Er.element.height,Er.channels=4;else if(w($r)===Ze)Er.element=$r,Er.width=$r.width,Er.height=$r.height,Er.channels=4;else if(w($r)===Je)Er.element=$r,Er.width=$r.naturalWidth,Er.height=$r.naturalHeight,Er.channels=4;else if(w($r)===Ye)Er.element=$r,Er.width=$r.videoWidth,Er.height=$r.videoHeight,Er.channels=4;else if(S($r)){for(An=Er.width||$r[0].length,qn=Er.height||$r.length,kn=Er.channels,kn=A($r[0][0])?kn||$r[0][0].length:kn||1,On=Re.shape($r),ca=1,Ia=0;Ia<On.length;++Ia)ca*=On[Ia];ca=Ie.allocType(Er.type===36193?5126:Er.type,ca),Re.flatten($r,On,"",ca),_(Er,ca),Er.alignment=1,Er.width=An,Er.height=qn,Er.channels=kn,Er.format=Er.internalformat=mt[kn],Er.needsFree=!0}}function er(Er,tn,$r,An,qn){var kn=Er.element,On=Er.data,$n=Er.internalformat,ca=Er.format,Ia=Er.type,ei=Er.width,Sr=Er.height;It(Er),kn?Tt.texSubImage2D(tn,qn,$r,An,ca,Ia,kn):Er.compressed?Tt.compressedTexSubImage2D(tn,qn,$r,An,$n,ei,Sr,On):Er.needsCopy?(Tr(),Tt.copyTexSubImage2D(tn,qn,$r,An,Er.xOffset,Er.yOffset,ei,Sr)):Tt.texSubImage2D(tn,qn,$r,An,ei,Sr,ca,Ia,On)}function dr(){return jn.pop()||new Wt}function pr(Er){Er.needsFree&&Ie.freeType(Er.data),Wt.call(Er),jn.push(Er)}function mr(){Mt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Xe(Er,tn,$r){var An=Er.images[0]=dr();Er.mipmask=1,An.width=Er.width=tn,An.height=Er.height=$r,An.channels=Er.channels=4}function Ge(Er,tn){var $r=null;if(o(tn))$r=Er.images[0]=dr(),_t($r,Er),Gt($r,tn),Er.mipmask=1;else if(Ot(Er,tn),Array.isArray(tn.mipmap))for(var An=tn.mipmap,qn=0;qn<An.length;++qn)$r=Er.images[qn]=dr(),_t($r,Er),$r.width>>=qn,$r.height>>=qn,Gt($r,An[qn]),Er.mipmask|=1<<qn;else $r=Er.images[0]=dr(),_t($r,Er),Gt($r,tn),Er.mipmask=1;_t(Er,Er.images[0])}function Ut(Er,tn){for(var $r=Er.images,An=0;An<$r.length&&$r[An];++An){var qn=$r[An],kn=tn,On=An,$n=qn.element,ca=qn.data,Ia=qn.internalformat,ei=qn.format,Sr=qn.type,Hr=qn.width,Lr=qn.height;It(qn),$n?Tt.texImage2D(kn,On,ei,ei,Sr,$n):qn.compressed?Tt.compressedTexImage2D(kn,On,Ia,Hr,Lr,0,ca):qn.needsCopy?(Tr(),Tt.copyTexImage2D(kn,On,ei,qn.xOffset,qn.yOffset,Hr,Lr,0)):Tt.texImage2D(kn,On,ei,Hr,Lr,0,ei,Sr,ca||null)}}function Nt(){var Er=ya.pop()||new mr;Mt.call(Er);for(var tn=Er.mipmask=0;16>tn;++tn)Er.images[tn]=null;return Er}function Qt(Er){for(var tn=Er.images,$r=0;$r<tn.length;++$r)tn[$r]&&pr(tn[$r]),tn[$r]=null;ya.push(Er)}function ar(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function hr(Er,tn){"min"in tn&&(Er.minFilter=Nr[tn.min],0<=pt.indexOf(Er.minFilter)&&!("faces"in tn)&&(Er.genMipmaps=!0)),"mag"in tn&&(Er.magFilter=Fr[tn.mag]);var $r=Er.wrapS,An=Er.wrapT;if("wrap"in tn){var qn=tn.wrap;typeof qn=="string"?$r=An=jr[qn]:Array.isArray(qn)&&($r=jr[qn[0]],An=jr[qn[1]])}else"wrapS"in tn&&($r=jr[tn.wrapS]),"wrapT"in tn&&(An=jr[tn.wrapT]);if(Er.wrapS=$r,Er.wrapT=An,"anisotropic"in tn&&(Er.anisotropic=tn.anisotropic),"mipmap"in tn){switch($r=!1,typeof tn.mipmap){case"string":Er.mipmapHint=gr[tn.mipmap],$r=Er.genMipmaps=!0;break;case"boolean":$r=Er.genMipmaps=tn.mipmap;break;case"object":Er.genMipmaps=!1,$r=!0}!$r||"min"in tn||(Er.minFilter=9984)}}function or(Er,tn){Tt.texParameteri(tn,10241,Er.minFilter),Tt.texParameteri(tn,10240,Er.magFilter),Tt.texParameteri(tn,10242,Er.wrapS),Tt.texParameteri(tn,10243,Er.wrapT),$t.ext_texture_filter_anisotropic&&Tt.texParameteri(tn,34046,Er.anisotropic),Er.genMipmaps&&(Tt.hint(33170,Er.mipmapHint),Tt.generateMipmap(tn))}function Vt(Er){Mt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Pa++,this.refCount=1,this.target=Er,this.texture=Tt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ar,lt.profile&&(this.stats={size:0})}function yr(Er){Tt.activeTexture(33984),Tt.bindTexture(Er.target,Er.texture)}function wr(){var Er=ma[0];Er?Tt.bindTexture(Er.target,Er.texture):Tt.bindTexture(3553,null)}function Ar(Er){var tn=Er.texture,$r=Er.unit,An=Er.target;0<=$r&&(Tt.activeTexture(33984+$r),Tt.bindTexture(An,null),ma[$r]=null),Tt.deleteTexture(tn),Er.texture=null,Er.params=null,Er.pixels=null,Er.refCount=0,delete Da[Er.id],bt.textureCount--}var gr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},jr={repeat:10497,clamp:33071,mirror:33648},Fr={nearest:9728,linear:9729},Nr=ae({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Fr),wn={none:0,browser:37444},hn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Un={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Fn={};$t.ext_srgb&&(Un.srgb=35904,Un.srgba=35906),$t.oes_texture_float&&(hn.float32=hn.float=5126),$t.oes_texture_half_float&&(hn.float16=hn["half float"]=36193),$t.webgl_depth_texture&&(ae(Un,{depth:6402,"depth stencil":34041}),ae(hn,{uint16:5123,uint32:5125,"depth stencil":34042})),$t.webgl_compressed_texture_s3tc&&ae(Fn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),$t.webgl_compressed_texture_atc&&ae(Fn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),$t.webgl_compressed_texture_pvrtc&&ae(Fn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),$t.webgl_compressed_texture_etc1&&(Fn["rgb etc1"]=36196);var Pr=Array.prototype.slice.call(Tt.getParameter(34467));Object.keys(Fn).forEach(function(Er){var tn=Fn[Er];0<=Pr.indexOf(tn)&&(Un[Er]=tn)});var Or=Object.keys(Un);tr.textureFormats=Or;var Qr=[];Object.keys(Un).forEach(function(Er){Qr[Un[Er]]=Er});var Zr=[];Object.keys(hn).forEach(function(Er){Zr[hn[Er]]=Er});var vn=[];Object.keys(Fr).forEach(function(Er){vn[Fr[Er]]=Er});var Mn=[];Object.keys(Nr).forEach(function(Er){Mn[Nr[Er]]=Er});var Sn=[];Object.keys(jr).forEach(function(Er){Sn[jr[Er]]=Er});var Vn=Or.reduce(function(Er,tn){var $r=Un[tn];return $r===6409||$r===6406||$r===6409||$r===6410||$r===6402||$r===34041||$t.ext_srgb&&($r===35904||$r===35906)?Er[$r]=$r:$r===32855||0<=tn.indexOf("rgba")?Er[$r]=6408:Er[$r]=6407,Er},{}),jn=[],ya=[],Pa=0,Da={},Ma=tr.maxTextureUnits,ma=Array(Ma).map(function(){return null});return ae(Vt.prototype,{bind:function(){this.bindCount+=1;var Er=this.unit;if(0>Er){for(var tn=0;tn<Ma;++tn){var $r=ma[tn];if($r){if(0<$r.bindCount)continue;$r.unit=-1}ma[tn]=this,Er=tn;break}lt.profile&&bt.maxTextureUnits<Er+1&&(bt.maxTextureUnits=Er+1),this.unit=Er,Tt.activeTexture(33984+Er),Tt.bindTexture(this.target,this.texture)}return Er},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&Ar(this)}}),lt.profile&&(bt.getTotalTextureSize=function(){var Er=0;return Object.keys(Da).forEach(function(tn){Er+=Da[tn].stats.size}),Er}),{create2D:function(Er,tn){function $r(qn,kn){var On=An.texInfo;ar.call(On);var $n=Nt();return typeof qn=="number"?typeof kn=="number"?Xe($n,qn|0,kn|0):Xe($n,qn|0,qn|0):qn?(hr(On,qn),Ge($n,qn)):Xe($n,1,1),On.genMipmaps&&($n.mipmask=($n.width<<1)-1),An.mipmask=$n.mipmask,_t(An,$n),An.internalformat=$n.internalformat,$r.width=$n.width,$r.height=$n.height,yr(An),Ut($n,3553),or(On,3553),wr(),Qt($n),lt.profile&&(An.stats.size=b(An.internalformat,An.type,$n.width,$n.height,On.genMipmaps,!1)),$r.format=Qr[An.internalformat],$r.type=Zr[An.type],$r.mag=vn[On.magFilter],$r.min=Mn[On.minFilter],$r.wrapS=Sn[On.wrapS],$r.wrapT=Sn[On.wrapT],$r}var An=new Vt(3553);return Da[An.id]=An,bt.textureCount++,$r(Er,tn),$r.subimage=function(qn,kn,On,$n){kn|=0,On|=0,$n|=0;var ca=dr();return _t(ca,An),ca.width=0,ca.height=0,Gt(ca,qn),ca.width=ca.width||(An.width>>$n)-kn,ca.height=ca.height||(An.height>>$n)-On,yr(An),er(ca,3553,kn,On,$n),wr(),pr(ca),$r},$r.resize=function(qn,kn){var On=qn|0,$n=kn|0||On;if(On===An.width&&$n===An.height)return $r;$r.width=An.width=On,$r.height=An.height=$n,yr(An);for(var ca=0;An.mipmask>>ca;++ca){var Ia=On>>ca,ei=$n>>ca;if(!Ia||!ei)break;Tt.texImage2D(3553,ca,An.format,Ia,ei,0,An.format,An.type,null)}return wr(),lt.profile&&(An.stats.size=b(An.internalformat,An.type,On,$n,!1,!1)),$r},$r._reglType="texture2d",$r._texture=An,lt.profile&&($r.stats=An.stats),$r.destroy=function(){An.decRef()},$r},createCube:function(Er,tn,$r,An,qn,kn){function On(Ia,ei,Sr,Hr,Lr,Gr){var Ln,zn=$n.texInfo;for(ar.call(zn),Ln=0;6>Ln;++Ln)ca[Ln]=Nt();if(typeof Ia=="number"||!Ia)for(Ia=Ia|0||1,Ln=0;6>Ln;++Ln)Xe(ca[Ln],Ia,Ia);else if(typeof Ia=="object")if(ei)Ge(ca[0],Ia),Ge(ca[1],ei),Ge(ca[2],Sr),Ge(ca[3],Hr),Ge(ca[4],Lr),Ge(ca[5],Gr);else if(hr(zn,Ia),Ot($n,Ia),"faces"in Ia)for(Ia=Ia.faces,Ln=0;6>Ln;++Ln)_t(ca[Ln],$n),Ge(ca[Ln],Ia[Ln]);else for(Ln=0;6>Ln;++Ln)Ge(ca[Ln],Ia);for(_t($n,ca[0]),$n.mipmask=zn.genMipmaps?(ca[0].width<<1)-1:ca[0].mipmask,$n.internalformat=ca[0].internalformat,On.width=ca[0].width,On.height=ca[0].height,yr($n),Ln=0;6>Ln;++Ln)Ut(ca[Ln],34069+Ln);for(or(zn,34067),wr(),lt.profile&&($n.stats.size=b($n.internalformat,$n.type,On.width,On.height,zn.genMipmaps,!0)),On.format=Qr[$n.internalformat],On.type=Zr[$n.type],On.mag=vn[zn.magFilter],On.min=Mn[zn.minFilter],On.wrapS=Sn[zn.wrapS],On.wrapT=Sn[zn.wrapT],Ln=0;6>Ln;++Ln)Qt(ca[Ln]);return On}var $n=new Vt(34067);Da[$n.id]=$n,bt.cubeCount++;var ca=Array(6);return On(Er,tn,$r,An,qn,kn),On.subimage=function(Ia,ei,Sr,Hr,Lr){Sr|=0,Hr|=0,Lr|=0;var Gr=dr();return _t(Gr,$n),Gr.width=0,Gr.height=0,Gt(Gr,ei),Gr.width=Gr.width||($n.width>>Lr)-Sr,Gr.height=Gr.height||($n.height>>Lr)-Hr,yr($n),er(Gr,34069+Ia,Sr,Hr,Lr),wr(),pr(Gr),On},On.resize=function(Ia){if(Ia|=0,Ia!==$n.width){On.width=$n.width=Ia,On.height=$n.height=Ia,yr($n);for(var ei=0;6>ei;++ei)for(var Sr=0;$n.mipmask>>Sr;++Sr)Tt.texImage2D(34069+ei,Sr,$n.format,Ia>>Sr,Ia>>Sr,0,$n.format,$n.type,null);return wr(),lt.profile&&($n.stats.size=b($n.internalformat,$n.type,On.width,On.height,!1,!0)),On}},On._reglType="textureCube",On._texture=$n,lt.profile&&(On.stats=$n.stats),On.destroy=function(){$n.decRef()},On},clear:function(){for(var Er=0;Er<Ma;++Er)Tt.activeTexture(33984+Er),Tt.bindTexture(3553,null),ma[Er]=null;xe(Da).forEach(Ar),bt.cubeCount=0,bt.textureCount=0},getTexture:function(Er){return null},restore:function(){for(var Er=0;Er<Ma;++Er){var tn=ma[Er];tn&&(tn.bindCount=0,tn.unit=-1,ma[Er]=null)}xe(Da).forEach(function($r){$r.texture=Tt.createTexture(),Tt.bindTexture($r.target,$r.texture);for(var An=0;32>An;++An)if($r.mipmask&1<<An)if($r.target===3553)Tt.texImage2D(3553,An,$r.internalformat,$r.width>>An,$r.height>>An,0,$r.internalformat,$r.type,null);else for(var qn=0;6>qn;++qn)Tt.texImage2D(34069+qn,An,$r.internalformat,$r.width>>An,$r.height>>An,0,$r.internalformat,$r.type,null);or($r.texInfo,$r.target)})},refresh:function(){for(var Er=0;Er<Ma;++Er){var tn=ma[Er];tn&&(tn.bindCount=0,tn.unit=-1,ma[Er]=null),Tt.activeTexture(33984+Er),Tt.bindTexture(3553,null),Tt.bindTexture(34067,null)}}}}function D(Tt,$t,tr,Tr,cr,bt){function lt(Vt,yr,wr){this.target=Vt,this.texture=yr,this.renderbuffer=wr;var Ar=Vt=0;yr?(Vt=yr.width,Ar=yr.height):wr&&(Vt=wr.width,Ar=wr.height),this.width=Vt,this.height=Ar}function Mt(Vt){Vt&&(Vt.texture&&Vt.texture._texture.decRef(),Vt.renderbuffer&&Vt.renderbuffer._renderbuffer.decRef())}function _t(Vt,yr,wr){Vt&&(Vt.texture?Vt.texture._texture.refCount+=1:Vt.renderbuffer._renderbuffer.refCount+=1)}function Ot(Vt,yr){yr&&(yr.texture?Tt.framebufferTexture2D(36160,Vt,yr.target,yr.texture._texture.texture,0):Tt.framebufferRenderbuffer(36160,Vt,36161,yr.renderbuffer._renderbuffer.renderbuffer))}function It(Vt){var yr=3553,wr=null,Ar=null,gr=Vt;return typeof Vt=="object"&&(gr=Vt.data,"target"in Vt&&(yr=Vt.target|0)),Vt=gr._reglType,Vt==="texture2d"||Vt==="textureCube"?wr=gr:Vt==="renderbuffer"&&(Ar=gr,yr=36161),new lt(yr,wr,Ar)}function Wt(Vt,yr,wr,Ar,gr){return wr?(Vt=Tr.create2D({width:Vt,height:yr,format:Ar,type:gr}),Vt._texture.refCount=0,new lt(3553,Vt,null)):(Vt=cr.create({width:Vt,height:yr,format:Ar}),Vt._renderbuffer.refCount=0,new lt(36161,null,Vt))}function Gt(Vt){return Vt&&(Vt.texture||Vt.renderbuffer)}function er(Vt,yr,wr){Vt&&(Vt.texture?Vt.texture.resize(yr,wr):Vt.renderbuffer&&Vt.renderbuffer.resize(yr,wr),Vt.width=yr,Vt.height=wr)}function dr(){this.id=hr++,or[this.id]=this,this.framebuffer=Tt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function pr(Vt){Vt.colorAttachments.forEach(Mt),Mt(Vt.depthAttachment),Mt(Vt.stencilAttachment),Mt(Vt.depthStencilAttachment)}function mr(Vt){Tt.deleteFramebuffer(Vt.framebuffer),Vt.framebuffer=null,bt.framebufferCount--,delete or[Vt.id]}function Xe(Vt){var yr;Tt.bindFramebuffer(36160,Vt.framebuffer);var wr=Vt.colorAttachments;for(yr=0;yr<wr.length;++yr)Ot(36064+yr,wr[yr]);for(yr=wr.length;yr<tr.maxColorAttachments;++yr)Tt.framebufferTexture2D(36160,36064+yr,3553,null,0);Tt.framebufferTexture2D(36160,33306,3553,null,0),Tt.framebufferTexture2D(36160,36096,3553,null,0),Tt.framebufferTexture2D(36160,36128,3553,null,0),Ot(36096,Vt.depthAttachment),Ot(36128,Vt.stencilAttachment),Ot(33306,Vt.depthStencilAttachment),Tt.checkFramebufferStatus(36160),Tt.isContextLost(),Tt.bindFramebuffer(36160,Ut.next?Ut.next.framebuffer:null),Ut.cur=Ut.next,Tt.getError()}function Ge(Vt,yr){function wr(gr,jr){var Fr,Nr=0,wn=0,hn=!0,Un=!0;Fr=null;var Fn=!0,Pr="rgba",Or="uint8",Qr=1,Zr=null,vn=null,Mn=null,Sn=!1;typeof gr=="number"?(Nr=gr|0,wn=jr|0||Nr):gr?("shape"in gr?(wn=gr.shape,Nr=wn[0],wn=wn[1]):("radius"in gr&&(Nr=wn=gr.radius),"width"in gr&&(Nr=gr.width),"height"in gr&&(wn=gr.height)),("color"in gr||"colors"in gr)&&(Fr=gr.color||gr.colors),Fr||("colorCount"in gr&&(Qr=gr.colorCount|0),"colorTexture"in gr&&(Fn=!!gr.colorTexture,Pr="rgba4"),"colorType"in gr&&(Or=gr.colorType,!Fn)&&(Or==="half float"||Or==="float16"?Pr="rgba16f":(Or==="float"||Or==="float32")&&(Pr="rgba32f")),"colorFormat"in gr&&(Pr=gr.colorFormat,0<=Nt.indexOf(Pr)?Fn=!0:0<=Qt.indexOf(Pr)&&(Fn=!1))),("depthTexture"in gr||"depthStencilTexture"in gr)&&(Sn=!(!gr.depthTexture&&!gr.depthStencilTexture)),"depth"in gr&&(typeof gr.depth=="boolean"?hn=gr.depth:(Zr=gr.depth,Un=!1)),"stencil"in gr&&(typeof gr.stencil=="boolean"?Un=gr.stencil:(vn=gr.stencil,hn=!1)),"depthStencil"in gr&&(typeof gr.depthStencil=="boolean"?hn=Un=gr.depthStencil:(Mn=gr.depthStencil,Un=hn=!1))):Nr=wn=1;var Vn=null,jn=null,ya=null,Pa=null;if(Array.isArray(Fr))Vn=Fr.map(It);else if(Fr)Vn=[It(Fr)];else for(Vn=Array(Qr),Fr=0;Fr<Qr;++Fr)Vn[Fr]=Wt(Nr,wn,Fn,Pr,Or);for(Nr=Nr||Vn[0].width,wn=wn||Vn[0].height,Zr?jn=It(Zr):hn&&!Un&&(jn=Wt(Nr,wn,Sn,"depth","uint32")),vn?ya=It(vn):Un&&!hn&&(ya=Wt(Nr,wn,!1,"stencil","uint8")),Mn?Pa=It(Mn):!Zr&&!vn&&Un&&hn&&(Pa=Wt(Nr,wn,Sn,"depth stencil","depth stencil")),hn=null,Fr=0;Fr<Vn.length;++Fr)_t(Vn[Fr]),Vn[Fr]&&Vn[Fr].texture&&(Un=Be[Vn[Fr].texture._texture.format]*je[Vn[Fr].texture._texture.type],hn===null&&(hn=Un));return _t(jn),_t(ya),_t(Pa),pr(Ar),Ar.width=Nr,Ar.height=wn,Ar.colorAttachments=Vn,Ar.depthAttachment=jn,Ar.stencilAttachment=ya,Ar.depthStencilAttachment=Pa,wr.color=Vn.map(Gt),wr.depth=Gt(jn),wr.stencil=Gt(ya),wr.depthStencil=Gt(Pa),wr.width=Ar.width,wr.height=Ar.height,Xe(Ar),wr}var Ar=new dr;return bt.framebufferCount++,wr(Vt,yr),ae(wr,{resize:function(gr,jr){var Fr=Math.max(gr|0,1),Nr=Math.max(jr|0||Fr,1);if(Fr===Ar.width&&Nr===Ar.height)return wr;for(var wn=Ar.colorAttachments,hn=0;hn<wn.length;++hn)er(wn[hn],Fr,Nr);return er(Ar.depthAttachment,Fr,Nr),er(Ar.stencilAttachment,Fr,Nr),er(Ar.depthStencilAttachment,Fr,Nr),Ar.width=wr.width=Fr,Ar.height=wr.height=Nr,Xe(Ar),wr},_reglType:"framebuffer",_framebuffer:Ar,destroy:function(){mr(Ar),pr(Ar)},use:function(gr){Ut.setFBO({framebuffer:wr},gr)}})}var Ut={cur:null,next:null,dirty:!1,setFBO:null},Nt=["rgba"],Qt=["rgba4","rgb565","rgb5 a1"];$t.ext_srgb&&Qt.push("srgba"),$t.ext_color_buffer_half_float&&Qt.push("rgba16f","rgb16f"),$t.webgl_color_buffer_float&&Qt.push("rgba32f");var ar=["uint8"];$t.oes_texture_half_float&&ar.push("half float","float16"),$t.oes_texture_float&&ar.push("float","float32");var hr=0,or={};return ae(Ut,{getFramebuffer:function(Vt){return typeof Vt=="function"&&Vt._reglType==="framebuffer"&&(Vt=Vt._framebuffer,Vt instanceof dr)?Vt:null},create:Ge,createCube:function(Vt){function yr(Ar){var gr,jr={color:null},Fr=0,Nr=null;gr="rgba";var wn="uint8",hn=1;if(typeof Ar=="number"?Fr=Ar|0:Ar?("shape"in Ar?Fr=Ar.shape[0]:("radius"in Ar&&(Fr=Ar.radius|0),"width"in Ar?Fr=Ar.width|0:"height"in Ar&&(Fr=Ar.height|0)),("color"in Ar||"colors"in Ar)&&(Nr=Ar.color||Ar.colors),Nr||("colorCount"in Ar&&(hn=Ar.colorCount|0),"colorType"in Ar&&(wn=Ar.colorType),"colorFormat"in Ar&&(gr=Ar.colorFormat)),"depth"in Ar&&(jr.depth=Ar.depth),"stencil"in Ar&&(jr.stencil=Ar.stencil),"depthStencil"in Ar&&(jr.depthStencil=Ar.depthStencil)):Fr=1,Nr)if(Array.isArray(Nr))for(Ar=[],gr=0;gr<Nr.length;++gr)Ar[gr]=Nr[gr];else Ar=[Nr];else for(Ar=Array(hn),Nr={radius:Fr,format:gr,type:wn},gr=0;gr<hn;++gr)Ar[gr]=Tr.createCube(Nr);for(jr.color=Array(Ar.length),gr=0;gr<Ar.length;++gr)hn=Ar[gr],Fr=Fr||hn.width,jr.color[gr]={target:34069,data:Ar[gr]};for(gr=0;6>gr;++gr){for(hn=0;hn<Ar.length;++hn)jr.color[hn].target=34069+gr;0<gr&&(jr.depth=wr[0].depth,jr.stencil=wr[0].stencil,jr.depthStencil=wr[0].depthStencil),wr[gr]?wr[gr](jr):wr[gr]=Ge(jr)}return ae(yr,{width:Fr,height:Fr,color:Ar})}var wr=Array(6);return yr(Vt),ae(yr,{faces:wr,resize:function(Ar){var gr=Ar|0;if(gr===yr.width)return yr;var jr=yr.color;for(Ar=0;Ar<jr.length;++Ar)jr[Ar].resize(gr);for(Ar=0;6>Ar;++Ar)wr[Ar].resize(gr);return yr.width=yr.height=gr,yr},_reglType:"framebufferCube",destroy:function(){wr.forEach(function(Ar){Ar.destroy()})}})},clear:function(){xe(or).forEach(mr)},restore:function(){Ut.cur=null,Ut.next=null,Ut.dirty=!0,xe(or).forEach(function(Vt){Vt.framebuffer=Tt.createFramebuffer(),Xe(Vt)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function k(Tt,$t,tr,Tr,cr,bt,lt){function Mt(Xe){if(Xe!==mr.currentVAO){var Ge=$t.oes_vertex_array_object;Xe?Ge.bindVertexArrayOES(Xe.vao):Ge.bindVertexArrayOES(null),mr.currentVAO=Xe}}function _t(Xe){if(Xe!==mr.currentVAO){if(Xe)Xe.bindAttrs();else{for(var Ge=$t.angle_instanced_arrays,Ut=0;Ut<er.length;++Ut){var Nt=er[Ut];Nt.buffer?(Tt.enableVertexAttribArray(Ut),Nt.buffer.bind(),Tt.vertexAttribPointer(Ut,Nt.size,Nt.type,Nt.normalized,Nt.stride,Nt.offfset),Ge&&Nt.divisor&&Ge.vertexAttribDivisorANGLE(Ut,Nt.divisor)):(Tt.disableVertexAttribArray(Ut),Tt.vertexAttrib4f(Ut,Nt.x,Nt.y,Nt.z,Nt.w))}lt.elements?Tt.bindBuffer(34963,lt.elements.buffer.buffer):Tt.bindBuffer(34963,null)}mr.currentVAO=Xe}}function Ot(){xe(pr).forEach(function(Xe){Xe.destroy()})}function It(){this.id=++dr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Xe=$t.oes_vertex_array_object;this.vao=Xe?Xe.createVertexArrayOES():null,pr[this.id]=this,this.buffers=[]}function Wt(){$t.oes_vertex_array_object&&xe(pr).forEach(function(Xe){Xe.refresh()})}var Gt=tr.maxAttributes,er=Array(Gt);for(tr=0;tr<Gt;++tr)er[tr]=new N;var dr=0,pr={},mr={Record:N,scope:{},state:er,currentVAO:null,targetVAO:null,restore:$t.oes_vertex_array_object?Wt:function(){},createVAO:function(Xe){function Ge(Nt){var Qt;Array.isArray(Nt)?(Qt=Nt,Ut.elements&&Ut.ownsElements&&Ut.elements.destroy(),Ut.elements=null,Ut.ownsElements=!1,Ut.offset=0,Ut.count=0,Ut.instances=-1,Ut.primitive=4):(Nt.elements?(Qt=Nt.elements,Ut.ownsElements?(typeof Qt=="function"&&Qt._reglType==="elements"?Ut.elements.destroy():Ut.elements(Qt),Ut.ownsElements=!1):bt.getElements(Nt.elements)?(Ut.elements=Nt.elements,Ut.ownsElements=!1):(Ut.elements=bt.create(Nt.elements),Ut.ownsElements=!0)):(Ut.elements=null,Ut.ownsElements=!1),Qt=Nt.attributes,Ut.offset=0,Ut.count=-1,Ut.instances=-1,Ut.primitive=4,Ut.elements&&(Ut.count=Ut.elements._elements.vertCount,Ut.primitive=Ut.elements._elements.primType),"offset"in Nt&&(Ut.offset=Nt.offset|0),"count"in Nt&&(Ut.count=Nt.count|0),"instances"in Nt&&(Ut.instances=Nt.instances|0),"primitive"in Nt&&(Ut.primitive=rt[Nt.primitive])),Nt={};var ar=Ut.attributes;ar.length=Qt.length;for(var hr=0;hr<Qt.length;++hr){var or=Qt[hr],Vt=ar[hr]=new N,yr=or.data||or;if(Array.isArray(yr)||Le(yr)||u(yr)){var wr;Ut.buffers[hr]&&(wr=Ut.buffers[hr],Le(yr)&&wr._buffer.byteLength>=yr.byteLength?wr.subdata(yr):(wr.destroy(),Ut.buffers[hr]=null)),Ut.buffers[hr]||(wr=Ut.buffers[hr]=cr.create(or,34962,!1,!0)),Vt.buffer=cr.getBuffer(wr),Vt.size=Vt.buffer.dimension|0,Vt.normalized=!1,Vt.type=Vt.buffer.dtype,Vt.offset=0,Vt.stride=0,Vt.divisor=0,Vt.state=1,Nt[hr]=1}else cr.getBuffer(or)?(Vt.buffer=cr.getBuffer(or),Vt.size=Vt.buffer.dimension|0,Vt.normalized=!1,Vt.type=Vt.buffer.dtype,Vt.offset=0,Vt.stride=0,Vt.divisor=0,Vt.state=1):cr.getBuffer(or.buffer)?(Vt.buffer=cr.getBuffer(or.buffer),Vt.size=(+or.size||Vt.buffer.dimension)|0,Vt.normalized=!!or.normalized||!1,Vt.type="type"in or?Ve[or.type]:Vt.buffer.dtype,Vt.offset=(or.offset||0)|0,Vt.stride=(or.stride||0)|0,Vt.divisor=(or.divisor||0)|0,Vt.state=1):"x"in or&&(Vt.x=+or.x||0,Vt.y=+or.y||0,Vt.z=+or.z||0,Vt.w=+or.w||0,Vt.state=2)}for(wr=0;wr<Ut.buffers.length;++wr)!Nt[wr]&&Ut.buffers[wr]&&(Ut.buffers[wr].destroy(),Ut.buffers[wr]=null);return Ut.refresh(),Ge}var Ut=new It;return Tr.vaoCount+=1,Ge.destroy=function(){for(var Nt=0;Nt<Ut.buffers.length;++Nt)Ut.buffers[Nt]&&Ut.buffers[Nt].destroy();Ut.buffers.length=0,Ut.ownsElements&&(Ut.elements.destroy(),Ut.elements=null,Ut.ownsElements=!1),Ut.destroy()},Ge._vao=Ut,Ge._reglType="vao",Ge(Xe)},getVAO:function(Xe){return typeof Xe=="function"&&Xe._vao?Xe._vao:null},destroyBuffer:function(Xe){for(var Ge=0;Ge<er.length;++Ge){var Ut=er[Ge];Ut.buffer===Xe&&(Tt.disableVertexAttribArray(Ge),Ut.buffer=null)}},setVAO:$t.oes_vertex_array_object?Mt:_t,clear:$t.oes_vertex_array_object?Ot:function(){}};return It.prototype.bindAttrs=function(){for(var Xe=$t.angle_instanced_arrays,Ge=this.attributes,Ut=0;Ut<Ge.length;++Ut){var Nt=Ge[Ut];Nt.buffer?(Tt.enableVertexAttribArray(Ut),Tt.bindBuffer(34962,Nt.buffer.buffer),Tt.vertexAttribPointer(Ut,Nt.size,Nt.type,Nt.normalized,Nt.stride,Nt.offset),Xe&&Nt.divisor&&Xe.vertexAttribDivisorANGLE(Ut,Nt.divisor)):(Tt.disableVertexAttribArray(Ut),Tt.vertexAttrib4f(Ut,Nt.x,Nt.y,Nt.z,Nt.w))}for(Xe=Ge.length;Xe<Gt;++Xe)Tt.disableVertexAttribArray(Xe);(Xe=bt.getElements(this.elements))?Tt.bindBuffer(34963,Xe.buffer.buffer):Tt.bindBuffer(34963,null)},It.prototype.refresh=function(){var Xe=$t.oes_vertex_array_object;Xe&&(Xe.bindVertexArrayOES(this.vao),this.bindAttrs(),mr.currentVAO=null,Xe.bindVertexArrayOES(null))},It.prototype.destroy=function(){if(this.vao){var Xe=$t.oes_vertex_array_object;this===mr.currentVAO&&(mr.currentVAO=null,Xe.bindVertexArrayOES(null)),Xe.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),pr[this.id]&&(delete pr[this.id],--Tr.vaoCount)},mr}function z(Tt,$t,tr,Tr){function cr(dr,pr,mr,Xe){this.name=dr,this.id=pr,this.location=mr,this.info=Xe}function bt(dr,pr){for(var mr=0;mr<dr.length;++mr)if(dr[mr].id===pr.id){dr[mr].location=pr.location;return}dr.push(pr)}function lt(dr,pr,mr){mr=dr===35632?Ot:It;var Xe=mr[pr];if(!Xe){var Ge=$t.str(pr),Xe=Tt.createShader(dr);Tt.shaderSource(Xe,Ge),Tt.compileShader(Xe),mr[pr]=Xe}return Xe}function Mt(dr,pr){this.id=er++,this.fragId=dr,this.vertId=pr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Tr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function _t(dr,pr,mr){var Xe;Xe=lt(35632,dr.fragId);var Ge=lt(35633,dr.vertId);if(pr=dr.program=Tt.createProgram(),Tt.attachShader(pr,Xe),Tt.attachShader(pr,Ge),mr)for(Xe=0;Xe<mr.length;++Xe)Ge=mr[Xe],Tt.bindAttribLocation(pr,Ge[0],Ge[1]);Tt.linkProgram(pr),Ge=Tt.getProgramParameter(pr,35718),Tr.profile&&(dr.stats.uniformsCount=Ge);var Ut=dr.uniforms;for(Xe=0;Xe<Ge;++Xe)if(mr=Tt.getActiveUniform(pr,Xe))if(1<mr.size)for(var Nt=0;Nt<mr.size;++Nt){var Qt=mr.name.replace("[0]","["+Nt+"]");bt(Ut,new cr(Qt,$t.id(Qt),Tt.getUniformLocation(pr,Qt),mr))}else bt(Ut,new cr(mr.name,$t.id(mr.name),Tt.getUniformLocation(pr,mr.name),mr));for(Ge=Tt.getProgramParameter(pr,35721),Tr.profile&&(dr.stats.attributesCount=Ge),dr=dr.attributes,Xe=0;Xe<Ge;++Xe)(mr=Tt.getActiveAttrib(pr,Xe))&&bt(dr,new cr(mr.name,$t.id(mr.name),Tt.getAttribLocation(pr,mr.name),mr))}var Ot={},It={},Wt={},Gt=[],er=0;return Tr.profile&&(tr.getMaxUniformsCount=function(){var dr=0;return Gt.forEach(function(pr){pr.stats.uniformsCount>dr&&(dr=pr.stats.uniformsCount)}),dr},tr.getMaxAttributesCount=function(){var dr=0;return Gt.forEach(function(pr){pr.stats.attributesCount>dr&&(dr=pr.stats.attributesCount)}),dr}),{clear:function(){var dr=Tt.deleteShader.bind(Tt);xe(Ot).forEach(dr),Ot={},xe(It).forEach(dr),It={},Gt.forEach(function(pr){Tt.deleteProgram(pr.program)}),Gt.length=0,Wt={},tr.shaderCount=0},program:function(dr,pr,mr,Xe){var Ge=Wt[pr];Ge||(Ge=Wt[pr]={});var Ut=Ge[dr];if(Ut&&(Ut.refCount++,!Xe))return Ut;var Nt=new Mt(pr,dr);return tr.shaderCount++,_t(Nt,mr,Xe),Ut||(Ge[dr]=Nt),Gt.push(Nt),ae(Nt,{destroy:function(){if(Nt.refCount--,0>=Nt.refCount){Tt.deleteProgram(Nt.program);var Qt=Gt.indexOf(Nt);Gt.splice(Qt,1),tr.shaderCount--}0>=Ge[Nt.vertId].refCount&&(Tt.deleteShader(It[Nt.vertId]),delete It[Nt.vertId],delete Wt[Nt.fragId][Nt.vertId]),Object.keys(Wt[Nt.fragId]).length||(Tt.deleteShader(Ot[Nt.fragId]),delete Ot[Nt.fragId],delete Wt[Nt.fragId])}})},restore:function(){Ot={},It={};for(var dr=0;dr<Gt.length;++dr)_t(Gt[dr],null,Gt[dr].attributes.map(function(pr){return[pr.location,pr.name]}))},shader:lt,frag:-1,vert:-1}}function F(Tt,$t,tr,Tr,cr,bt,lt){function Mt(Ot){var It;It=$t.next===null?5121:$t.next.colorAttachments[0].texture._texture.type;var Wt=0,Gt=0,er=Tr.framebufferWidth,dr=Tr.framebufferHeight,pr=null;return Le(Ot)?pr=Ot:Ot&&(Wt=Ot.x|0,Gt=Ot.y|0,er=(Ot.width||Tr.framebufferWidth-Wt)|0,dr=(Ot.height||Tr.framebufferHeight-Gt)|0,pr=Ot.data||null),tr(),Ot=er*dr*4,pr||(It===5121?pr=new Uint8Array(Ot):It===5126&&(pr=pr||new Float32Array(Ot))),Tt.pixelStorei(3333,4),Tt.readPixels(Wt,Gt,er,dr,6408,It,pr),pr}function _t(Ot){var It;return $t.setFBO({framebuffer:Ot.framebuffer},function(){It=Mt(Ot)}),It}return function(Ot){return Ot&&"framebuffer"in Ot?_t(Ot):Mt(Ot)}}function O(Tt){for(var $t=Array(Tt.length>>2),Tr=0;Tr<$t.length;Tr++)$t[Tr]=0;for(Tr=0;Tr<8*Tt.length;Tr+=8)$t[Tr>>5]|=(Tt.charCodeAt(Tr/8)&255)<<24-Tr%32;var tr=8*Tt.length;Tt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var Tr=Array(64),cr,bt,lt,Mt,_t,Ot,It,Wt,Gt,er,dr;for($t[tr>>5]|=128<<24-tr%32,$t[(tr+64>>9<<4)+15]=tr,Wt=0;Wt<$t.length;Wt+=16){for(tr=Tt[0],cr=Tt[1],bt=Tt[2],lt=Tt[3],Mt=Tt[4],_t=Tt[5],Ot=Tt[6],It=Tt[7],Gt=0;64>Gt;Gt++){if(16>Gt)Tr[Gt]=$t[Gt+Wt];else{er=Gt,dr=Tr[Gt-2],dr=ee(dr,17)^ee(dr,19)^dr>>>10,dr=ne(dr,Tr[Gt-7]);var pr;pr=Tr[Gt-15],pr=ee(pr,7)^ee(pr,18)^pr>>>3,Tr[er]=ne(ne(dr,pr),Tr[Gt-16])}er=Mt,er=ee(er,6)^ee(er,11)^ee(er,25),er=ne(ne(ne(ne(It,er),Mt&_t^~Mt&Ot),nt[Gt]),Tr[Gt]),It=tr,It=ee(It,2)^ee(It,13)^ee(It,22),dr=ne(It,tr&cr^tr&bt^cr&bt),It=Ot,Ot=_t,_t=Mt,Mt=ne(lt,er),lt=bt,bt=cr,cr=tr,tr=ne(er,dr)}Tt[0]=ne(tr,Tt[0]),Tt[1]=ne(cr,Tt[1]),Tt[2]=ne(bt,Tt[2]),Tt[3]=ne(lt,Tt[3]),Tt[4]=ne(Mt,Tt[4]),Tt[5]=ne(_t,Tt[5]),Tt[6]=ne(Ot,Tt[6]),Tt[7]=ne(It,Tt[7])}for($t="",Tr=0;Tr<32*Tt.length;Tr+=8)$t+=String.fromCharCode(Tt[Tr>>5]>>>24-Tr%32&255);return $t}function B(Tt){for(var $t="",tr,Tr=0;Tr<Tt.length;Tr++)tr=Tt.charCodeAt(Tr),$t+="0123456789abcdef".charAt(tr>>>4&15)+"0123456789abcdef".charAt(tr&15);return $t}function W(Tt){for(var $t="",tr=-1,Tr,cr;++tr<Tt.length;)Tr=Tt.charCodeAt(tr),cr=tr+1<Tt.length?Tt.charCodeAt(tr+1):0,55296<=Tr&&56319>=Tr&&56320<=cr&&57343>=cr&&(Tr=65536+((Tr&1023)<<10)+(cr&1023),tr++),127>=Tr?$t+=String.fromCharCode(Tr):2047>=Tr?$t+=String.fromCharCode(192|Tr>>>6&31,128|Tr&63):65535>=Tr?$t+=String.fromCharCode(224|Tr>>>12&15,128|Tr>>>6&63,128|Tr&63):2097151>=Tr&&($t+=String.fromCharCode(240|Tr>>>18&7,128|Tr>>>12&63,128|Tr>>>6&63,128|Tr&63));return $t}function ee(Tt,$t){return Tt>>>$t|Tt<<32-$t}function ne(Tt,$t){var tr=(Tt&65535)+($t&65535);return(Tt>>16)+($t>>16)+(tr>>16)<<16|tr&65535}function Q(Tt){return Array.prototype.slice.call(Tt)}function le(Tt){return Q(Tt).join("")}function Z(Tt){function $t(){var It=[],Wt=[];return ae(function(){It.push.apply(It,Q(arguments))},{def:function(){var Gt="v"+cr++;return Wt.push(Gt),0<arguments.length&&(It.push(Gt,"="),It.push.apply(It,Q(arguments)),It.push(";")),Gt},toString:function(){return le([0<Wt.length?"var "+Wt.join(",")+";":"",le(It)])}})}function tr(){function It(pr,mr){Gt(pr,mr,"=",Wt.def(pr,mr),";")}var Wt=$t(),Gt=$t(),er=Wt.toString,dr=Gt.toString;return ae(function(){Wt.apply(Wt,Q(arguments))},{def:Wt.def,entry:Wt,exit:Gt,save:It,set:function(pr,mr,Xe){It(pr,mr),Wt(pr,mr,"=",Xe,";")},toString:function(){return er()+dr()}})}var Tr=Tt&&Tt.cache,cr=0,bt=[],lt=[],Mt=[],_t=$t(),Ot={};return{global:_t,link:function(It,Wt){var Gt=Wt&&Wt.stable;if(!Gt){for(var er=0;er<lt.length;++er)if(lt[er]===It&&!Mt[er])return bt[er]}return er="g"+cr++,bt.push(er),lt.push(It),Mt.push(Gt),er},block:$t,proc:function(It,Wt){function Gt(){var mr="a"+er.length;return er.push(mr),mr}var er=[];Wt=Wt||0;for(var dr=0;dr<Wt;++dr)Gt();var dr=tr(),pr=dr.toString;return Ot[It]=ae(dr,{arg:Gt,toString:function(){return le(["function(",er.join(),"){",pr(),"}"])}})},scope:tr,cond:function(){var It=le(arguments),Wt=tr(),Gt=tr(),er=Wt.toString,dr=Gt.toString;return ae(Wt,{then:function(){return Wt.apply(Wt,Q(arguments)),this},else:function(){return Gt.apply(Gt,Q(arguments)),this},toString:function(){var pr=dr();return pr&&(pr="else{"+pr+"}"),le(["if(",It,"){",er(),"}",pr])}})},compile:function(){var It=['"use strict";',_t,"return {"];Object.keys(Ot).forEach(function(er){It.push('"',er,'":',Ot[er].toString(),",")}),It.push("}");var Wt=le(It).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Gt;return Tr&&(Gt=B(O(W(Wt))),Tr[Gt])?Tr[Gt].apply(null,lt):(Wt=Function.apply(null,bt.concat(Wt)),Tr&&(Tr[Gt]=Wt),Wt.apply(null,lt))}}}function Y(Tt){return Array.isArray(Tt)||Le(Tt)||u(Tt)}function re(Tt){return Tt.sort(function($t,tr){return $t==="viewport"?-1:tr==="viewport"?1:$t<tr?-1:1})}function X(Tt,$t,tr,Tr){this.thisDep=Tt,this.contextDep=$t,this.propDep=tr,this.append=Tr}function q(Tt){return Tt&&!(Tt.thisDep||Tt.contextDep||Tt.propDep)}function se(Tt){return new X(!1,!1,!1,Tt)}function $(Tt,$t){var tr=Tt.type;if(tr===0)return tr=Tt.data.length,new X(!0,1<=tr,2<=tr,$t);if(tr===4)return tr=Tt.data,new X(tr.thisDep,tr.contextDep,tr.propDep,$t);if(tr===5)return new X(!1,!1,!1,$t);if(tr===6){for(var Tr=tr=!1,cr=!1,bt=0;bt<Tt.data.length;++bt){var lt=Tt.data[bt];lt.type===1?cr=!0:lt.type===2?Tr=!0:lt.type===3?tr=!0:lt.type===0?(tr=!0,lt=lt.data,1<=lt&&(Tr=!0),2<=lt&&(cr=!0)):lt.type===4&&(tr=tr||lt.data.thisDep,Tr=Tr||lt.data.contextDep,cr=cr||lt.data.propDep)}return new X(tr,Tr,cr,$t)}return new X(tr===3,tr===2,tr===1,$t)}function j(Tt,$t,tr,Tr,cr,bt,lt,Mt,_t,Ot,It,Wt,Gt,er,dr,pr){function mr(Sr){return Sr.replace(".","_")}function Xe(Sr,Hr,Lr){var Gr=mr(Sr);kn.push(Sr),qn[Gr]=An[Gr]=!!Lr,On[Gr]=Hr}function Ge(Sr,Hr,Lr){var Gr=mr(Sr);kn.push(Sr),Array.isArray(Lr)?(An[Gr]=Lr.slice(),qn[Gr]=Lr.slice()):An[Gr]=qn[Gr]=Lr,$n[Gr]=Hr}function Ut(){var Sr=Z({cache:dr}),Hr=Sr.link,Lr=Sr.global;Sr.id=ei++,Sr.batchId="0";var Gr=Hr(ca),Ln=Sr.shared={props:"a0"};Object.keys(ca).forEach(function(rn){Ln[rn]=Lr.def(Gr,".",rn)});var zn=Sr.next={},bn=Sr.current={};Object.keys($n).forEach(function(rn){Array.isArray(An[rn])&&(zn[rn]=Lr.def(Ln.next,".",rn),bn[rn]=Lr.def(Ln.current,".",rn))});var pn=Sr.constants={};Object.keys(Ia).forEach(function(rn){pn[rn]=Lr.def(JSON.stringify(Ia[rn]))}),Sr.invoke=function(rn,Kr){switch(Kr.type){case 0:var on=["this",Ln.context,Ln.props,Sr.batchId];return rn.def(Hr(Kr.data),".call(",on.slice(0,Math.max(Kr.data.length+1,4)),")");case 1:return rn.def(Ln.props,Kr.data);case 2:return rn.def(Ln.context,Kr.data);case 3:return rn.def("this",Kr.data);case 4:return Kr.data.append(Sr,rn),Kr.data.ref;case 5:return Kr.data.toString();case 6:return Kr.data.map(function(_n){return Sr.invoke(rn,_n)})}},Sr.attribCache={};var Dr={};return Sr.scopeAttrib=function(rn){if(rn=$t.id(rn),rn in Dr)return Dr[rn];var Kr=Ot.scope[rn];return Kr||(Kr=Ot.scope[rn]=new Ma),Dr[rn]=Hr(Kr)},Sr}function Nt(Sr){var Hr=Sr.static;Sr=Sr.dynamic;var Lr;if("profile"in Hr){var Gr=!!Hr.profile;Lr=se(function(zn,bn){return Gr}),Lr.enable=Gr}else if("profile"in Sr){var Ln=Sr.profile;Lr=$(Ln,function(zn,bn){return zn.invoke(bn,Ln)})}return Lr}function Qt(Sr,Hr){var Lr=Sr.static,Gr=Sr.dynamic;if("framebuffer"in Lr){var Ln=Lr.framebuffer;return Ln?(Ln=Mt.getFramebuffer(Ln),se(function(bn,pn){var Dr=bn.link(Ln),rn=bn.shared;return pn.set(rn.framebuffer,".next",Dr),rn=rn.context,pn.set(rn,".framebufferWidth",Dr+".width"),pn.set(rn,".framebufferHeight",Dr+".height"),Dr})):se(function(bn,pn){var Dr=bn.shared;return pn.set(Dr.framebuffer,".next","null"),Dr=Dr.context,pn.set(Dr,".framebufferWidth",Dr+".drawingBufferWidth"),pn.set(Dr,".framebufferHeight",Dr+".drawingBufferHeight"),"null"})}if("framebuffer"in Gr){var zn=Gr.framebuffer;return $(zn,function(bn,pn){var Kr=bn.invoke(pn,zn),Dr=bn.shared,rn=Dr.framebuffer,Kr=pn.def(rn,".getFramebuffer(",Kr,")");return pn.set(rn,".next",Kr),Dr=Dr.context,pn.set(Dr,".framebufferWidth",Kr+"?"+Kr+".width:"+Dr+".drawingBufferWidth"),pn.set(Dr,".framebufferHeight",Kr+"?"+Kr+".height:"+Dr+".drawingBufferHeight"),Kr})}return null}function ar(Sr,Hr,Lr){function Gr(pn){if(pn in Ln){var Dr=Ln[pn];pn=!0;var rn=Dr.x|0,Kr=Dr.y|0,on,_n;return"width"in Dr?on=Dr.width|0:pn=!1,"height"in Dr?_n=Dr.height|0:pn=!1,new X(!pn&&Hr&&Hr.thisDep,!pn&&Hr&&Hr.contextDep,!pn&&Hr&&Hr.propDep,function(In,Qn){var Kn=In.shared.context,Aa=on;"width"in Dr||(Aa=Qn.def(Kn,".","framebufferWidth","-",rn));var xa=_n;return"height"in Dr||(xa=Qn.def(Kn,".","framebufferHeight","-",Kr)),[rn,Kr,Aa,xa]})}if(pn in zn){var Wn=zn[pn];return pn=$(Wn,function(In,Qn){var Ra=In.invoke(Qn,Wn),Kn=In.shared.context,Aa=Qn.def(Ra,".x|0"),xa=Qn.def(Ra,".y|0"),La=Qn.def('"width" in ',Ra,"?",Ra,".width|0:","(",Kn,".","framebufferWidth","-",Aa,")"),Ra=Qn.def('"height" in ',Ra,"?",Ra,".height|0:","(",Kn,".","framebufferHeight","-",xa,")");return[Aa,xa,La,Ra]}),Hr&&(pn.thisDep=pn.thisDep||Hr.thisDep,pn.contextDep=pn.contextDep||Hr.contextDep,pn.propDep=pn.propDep||Hr.propDep),pn}return Hr?new X(Hr.thisDep,Hr.contextDep,Hr.propDep,function(In,Qn){var Kn=In.shared.context;return[0,0,Qn.def(Kn,".","framebufferWidth"),Qn.def(Kn,".","framebufferHeight")]}):null}var Ln=Sr.static,zn=Sr.dynamic;if(Sr=Gr("viewport")){var bn=Sr;Sr=new X(Sr.thisDep,Sr.contextDep,Sr.propDep,function(pn,Dr){var rn=bn.append(pn,Dr),Kr=pn.shared.context;return Dr.set(Kr,".viewportWidth",rn[2]),Dr.set(Kr,".viewportHeight",rn[3]),rn})}return{viewport:Sr,scissor_box:Gr("scissor.box")}}function hr(Sr,Hr){var Lr=Sr.static;if(typeof Lr.frag=="string"&&typeof Lr.vert=="string"){if(0<Object.keys(Hr.dynamic).length)return null;var Lr=Hr.static,Gr=Object.keys(Lr);if(0<Gr.length&&typeof Lr[Gr[0]]=="number"){for(var Ln=[],zn=0;zn<Gr.length;++zn)Ln.push([Lr[Gr[zn]]|0,Gr[zn]]);return Ln}}return null}function or(Sr,Hr,Lr){function Gr(rn){if(rn in Ln){var Kr=$t.id(Ln[rn]);return rn=se(function(){return Kr}),rn.id=Kr,rn}if(rn in zn){var on=zn[rn];return $(on,function(_n,Wn){var In=_n.invoke(Wn,on);return Wn.def(_n.shared.strings,".id(",In,")")})}return null}var Ln=Sr.static,zn=Sr.dynamic,bn=Gr("frag"),pn=Gr("vert"),Dr=null;return q(bn)&&q(pn)?(Dr=It.program(pn.id,bn.id,null,Lr),Sr=se(function(rn,Kr){return rn.link(Dr)})):Sr=new X(bn&&bn.thisDep||pn&&pn.thisDep,bn&&bn.contextDep||pn&&pn.contextDep,bn&&bn.propDep||pn&&pn.propDep,function(rn,Kr){var on=rn.shared.shader,_n;_n=bn?bn.append(rn,Kr):Kr.def(on,".","frag");var Wn;return Wn=pn?pn.append(rn,Kr):Kr.def(on,".","vert"),Kr.def(on+".program("+Wn+","+_n+")")}),{frag:bn,vert:pn,progVar:Sr,program:Dr}}function Vt(Sr,Hr){function Lr(In,Qn){if(In in Gr){var Kn=Gr[In]|0;return Qn?zn.offset=Kn:zn.instances=Kn,se(function(xa,La){return Qn&&(xa.OFFSET=Kn),Kn})}if(In in Ln){var Aa=Ln[In];return $(Aa,function(xa,La){var Ra=xa.invoke(La,Aa);return Qn&&(xa.OFFSET=Ra),Ra})}if(Qn){if(Dr)return se(function(xa,La){return xa.OFFSET=0});if(bn)return new X(pn.thisDep,pn.contextDep,pn.propDep,function(xa,La){return La.def(xa.shared.vao+".currentVAO?"+xa.shared.vao+".currentVAO.offset:0")})}else if(bn)return new X(pn.thisDep,pn.contextDep,pn.propDep,function(xa,La){return La.def(xa.shared.vao+".currentVAO?"+xa.shared.vao+".currentVAO.instances:-1")});return null}var Gr=Sr.static,Ln=Sr.dynamic,zn={},bn=!1,pn=function(){if("vao"in Gr){var In=Gr.vao;return In!==null&&Ot.getVAO(In)===null&&(In=Ot.createVAO(In)),bn=!0,zn.vao=In,se(function(Kn){var Aa=Ot.getVAO(In);return Aa?Kn.link(Aa):"null"})}if("vao"in Ln){bn=!0;var Qn=Ln.vao;return $(Qn,function(Kn,Aa){var xa=Kn.invoke(Aa,Qn);return Aa.def(Kn.shared.vao+".getVAO("+xa+")")})}return null}(),Dr=!1,rn=function(){if("elements"in Gr){var In=Gr.elements;if(zn.elements=In,Y(In)){var Qn=zn.elements=bt.create(In,!0),In=bt.getElements(Qn);Dr=!0}else In&&(In=bt.getElements(In),Dr=!0);return Qn=se(function(Aa,xa){if(In){var La=Aa.link(In);return Aa.ELEMENTS=La}return Aa.ELEMENTS=null}),Qn.value=In,Qn}if("elements"in Ln){Dr=!0;var Kn=Ln.elements;return $(Kn,function(Aa,xa){var La=Aa.shared,Pi=La.isBufferArgs,La=La.elements,Li=Aa.invoke(xa,Kn),Ra=xa.def("null"),Pi=xa.def(Pi,"(",Li,")"),Li=Aa.cond(Pi).then(Ra,"=",La,".createStream(",Li,");").else(Ra,"=",La,".getElements(",Li,");");return xa.entry(Li),xa.exit(Aa.cond(Pi).then(La,".destroyStream(",Ra,");")),Aa.ELEMENTS=Ra})}return bn?new X(pn.thisDep,pn.contextDep,pn.propDep,function(Aa,xa){return xa.def(Aa.shared.vao+".currentVAO?"+Aa.shared.elements+".getElements("+Aa.shared.vao+".currentVAO.elements):null")}):null}(),Kr=Lr("offset",!0),on=function(){if("primitive"in Gr){var In=Gr.primitive;return zn.primitive=In,se(function(Kn,Aa){return rt[In]})}if("primitive"in Ln){var Qn=Ln.primitive;return $(Qn,function(Kn,Aa){var xa=Kn.constants.primTypes,La=Kn.invoke(Aa,Qn);return Aa.def(xa,"[",La,"]")})}return Dr?q(rn)?rn.value?se(function(Kn,Aa){return Aa.def(Kn.ELEMENTS,".primType")}):se(function(){return 4}):new X(rn.thisDep,rn.contextDep,rn.propDep,function(Kn,Aa){var xa=Kn.ELEMENTS;return Aa.def(xa,"?",xa,".primType:",4)}):bn?new X(pn.thisDep,pn.contextDep,pn.propDep,function(Kn,Aa){return Aa.def(Kn.shared.vao+".currentVAO?"+Kn.shared.vao+".currentVAO.primitive:4")}):null}(),_n=function(){if("count"in Gr){var In=Gr.count|0;return zn.count=In,se(function(){return In})}if("count"in Ln){var Qn=Ln.count;return $(Qn,function(Kn,Aa){return Kn.invoke(Aa,Qn)})}return Dr?q(rn)?rn?Kr?new X(Kr.thisDep,Kr.contextDep,Kr.propDep,function(Kn,Aa){return Aa.def(Kn.ELEMENTS,".vertCount-",Kn.OFFSET)}):se(function(Kn,Aa){return Aa.def(Kn.ELEMENTS,".vertCount")}):se(function(){return-1}):new X(rn.thisDep||Kr.thisDep,rn.contextDep||Kr.contextDep,rn.propDep||Kr.propDep,function(Kn,Aa){var xa=Kn.ELEMENTS;return Kn.OFFSET?Aa.def(xa,"?",xa,".vertCount-",Kn.OFFSET,":-1"):Aa.def(xa,"?",xa,".vertCount:-1")}):bn?new X(pn.thisDep,pn.contextDep,pn.propDep,function(Kn,Aa){return Aa.def(Kn.shared.vao,".currentVAO?",Kn.shared.vao,".currentVAO.count:-1")}):null}(),Wn=Lr("instances",!1);return{elements:rn,primitive:on,count:_n,instances:Wn,offset:Kr,vao:pn,vaoActive:bn,elementsActive:Dr,static:zn}}function yr(Sr,Hr){var Lr=Sr.static,Gr=Sr.dynamic,Ln={};return kn.forEach(function(zn){function bn(Dr,rn){if(zn in Lr){var Kr=Dr(Lr[zn]);Ln[pn]=se(function(){return Kr})}else if(zn in Gr){var on=Gr[zn];Ln[pn]=$(on,function(_n,Wn){return rn(_n,Wn,_n.invoke(Wn,on))})}}var pn=mr(zn);switch(zn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return bn(function(Dr){return Dr},function(Dr,rn,Kr){return Kr});case"depth.func":return bn(function(Dr){return Jt[Dr]},function(Dr,rn,Kr){return rn.def(Dr.constants.compareFuncs,"[",Kr,"]")});case"depth.range":return bn(function(Dr){return Dr},function(Dr,rn,Kr){return Dr=rn.def("+",Kr,"[0]"),rn=rn.def("+",Kr,"[1]"),[Dr,rn]});case"blend.func":return bn(function(Dr){return[Kt["srcRGB"in Dr?Dr.srcRGB:Dr.src],Kt["dstRGB"in Dr?Dr.dstRGB:Dr.dst],Kt["srcAlpha"in Dr?Dr.srcAlpha:Dr.src],Kt["dstAlpha"in Dr?Dr.dstAlpha:Dr.dst]]},function(Dr,rn,Kr){function on(Qn,Kn){return rn.def('"',Qn,Kn,'" in ',Kr,"?",Kr,".",Qn,Kn,":",Kr,".",Qn)}Dr=Dr.constants.blendFuncs;var _n=on("src","RGB"),In=on("dst","RGB"),_n=rn.def(Dr,"[",_n,"]"),Wn=rn.def(Dr,"[",on("src","Alpha"),"]"),In=rn.def(Dr,"[",In,"]");return Dr=rn.def(Dr,"[",on("dst","Alpha"),"]"),[_n,In,Wn,Dr]});case"blend.equation":return bn(function(Dr){if(typeof Dr=="string")return[ma[Dr],ma[Dr]];if(typeof Dr=="object")return[ma[Dr.rgb],ma[Dr.alpha]]},function(Dr,rn,Kr){var on=Dr.constants.blendEquations,_n=rn.def(),Wn=rn.def();return Dr=Dr.cond("typeof ",Kr,'==="string"'),Dr.then(_n,"=",Wn,"=",on,"[",Kr,"];"),Dr.else(_n,"=",on,"[",Kr,".rgb];",Wn,"=",on,"[",Kr,".alpha];"),rn(Dr),[_n,Wn]});case"blend.color":return bn(function(Dr){return s(4,function(rn){return+Dr[rn]})},function(Dr,rn,Kr){return s(4,function(on){return rn.def("+",Kr,"[",on,"]")})});case"stencil.mask":return bn(function(Dr){return Dr|0},function(Dr,rn,Kr){return rn.def(Kr,"|0")});case"stencil.func":return bn(function(Dr){return[Jt[Dr.cmp||"keep"],Dr.ref||0,"mask"in Dr?Dr.mask:-1]},function(Dr,rn,Kr){Dr=rn.def('"cmp" in ',Kr,"?",Dr.constants.compareFuncs,"[",Kr,".cmp]",":",7680);var on=rn.def(Kr,".ref|0");return rn=rn.def('"mask" in ',Kr,"?",Kr,".mask|0:-1"),[Dr,on,rn]});case"stencil.opFront":case"stencil.opBack":return bn(function(Dr){return[zn==="stencil.opBack"?1029:1028,St[Dr.fail||"keep"],St[Dr.zfail||"keep"],St[Dr.zpass||"keep"]]},function(Dr,rn,Kr){function on(Wn){return rn.def('"',Wn,'" in ',Kr,"?",_n,"[",Kr,".",Wn,"]:",7680)}var _n=Dr.constants.stencilOps;return[zn==="stencil.opBack"?1029:1028,on("fail"),on("zfail"),on("zpass")]});case"polygonOffset.offset":return bn(function(Dr){return[Dr.factor|0,Dr.units|0]},function(Dr,rn,Kr){return Dr=rn.def(Kr,".factor|0"),rn=rn.def(Kr,".units|0"),[Dr,rn]});case"cull.face":return bn(function(Dr){var rn=0;return Dr==="front"?rn=1028:Dr==="back"&&(rn=1029),rn},function(Dr,rn,Kr){return rn.def(Kr,'==="front"?',1028,":",1029)});case"lineWidth":return bn(function(Dr){return Dr},function(Dr,rn,Kr){return Kr});case"frontFace":return bn(function(Dr){return Ft[Dr]},function(Dr,rn,Kr){return rn.def(Kr+'==="cw"?2304:2305')});case"colorMask":return bn(function(Dr){return Dr.map(function(rn){return!!rn})},function(Dr,rn,Kr){return s(4,function(on){return"!!"+Kr+"["+on+"]"})});case"sample.coverage":return bn(function(Dr){return["value"in Dr?Dr.value:1,!!Dr.invert]},function(Dr,rn,Kr){return Dr=rn.def('"value" in ',Kr,"?+",Kr,".value:1"),rn=rn.def("!!",Kr,".invert"),[Dr,rn]})}}),Ln}function wr(Sr,Hr){var Lr=Sr.static,Gr=Sr.dynamic,Ln={};return Object.keys(Lr).forEach(function(zn){var bn=Lr[zn],pn;if(typeof bn=="number"||typeof bn=="boolean")pn=se(function(){return bn});else if(typeof bn=="function"){var Dr=bn._reglType;Dr==="texture2d"||Dr==="textureCube"?pn=se(function(rn){return rn.link(bn)}):(Dr==="framebuffer"||Dr==="framebufferCube")&&(pn=se(function(rn){return rn.link(bn.color[0])}))}else A(bn)&&(pn=se(function(rn){return rn.global.def("[",s(bn.length,function(Kr){return bn[Kr]}),"]")}));pn.value=bn,Ln[zn]=pn}),Object.keys(Gr).forEach(function(zn){var bn=Gr[zn];Ln[zn]=$(bn,function(pn,Dr){return pn.invoke(Dr,bn)})}),Ln}function Ar(Sr,Hr){var Lr=Sr.static,Gr=Sr.dynamic,Ln={};return Object.keys(Lr).forEach(function(zn){var bn=Lr[zn],pn=$t.id(zn),Dr=new Ma;if(Y(bn))Dr.state=1,Dr.buffer=cr.getBuffer(cr.create(bn,34962,!1,!0)),Dr.type=0;else{var rn=cr.getBuffer(bn);if(rn)Dr.state=1,Dr.buffer=rn,Dr.type=0;else if("constant"in bn){var Kr=bn.constant;Dr.buffer="null",Dr.state=2,typeof Kr=="number"?Dr.x=Kr:dt.forEach(function(Kn,Aa){Aa<Kr.length&&(Dr[Kn]=Kr[Aa])})}else{var rn=Y(bn.buffer)?cr.getBuffer(cr.create(bn.buffer,34962,!1,!0)):cr.getBuffer(bn.buffer),on=bn.offset|0,_n=bn.stride|0,Wn=bn.size|0,In=!!bn.normalized,Qn=0;"type"in bn&&(Qn=Ve[bn.type]),bn=bn.divisor|0,Dr.buffer=rn,Dr.state=1,Dr.size=Wn,Dr.normalized=In,Dr.type=Qn||rn.dtype,Dr.offset=on,Dr.stride=_n,Dr.divisor=bn}}Ln[zn]=se(function(Kn,Aa){var xa=Kn.attribCache;if(pn in xa)return xa[pn];var La={isStream:!1};return Object.keys(Dr).forEach(function(Ra){La[Ra]=Dr[Ra]}),Dr.buffer&&(La.buffer=Kn.link(Dr.buffer),La.type=La.type||La.buffer+".dtype"),xa[pn]=La})}),Object.keys(Gr).forEach(function(zn){var bn=Gr[zn];Ln[zn]=$(bn,function(pn,Dr){function rn(xa){Dr(In[xa],"=",Kr,".",xa,"|0;")}var Kr=pn.invoke(Dr,bn),Wn=pn.shared,on=pn.constants,_n=Wn.isBufferArgs,Wn=Wn.buffer,In={isStream:Dr.def(!1)},Qn=new Ma;Qn.state=1,Object.keys(Qn).forEach(function(xa){In[xa]=Dr.def(""+Qn[xa])});var Kn=In.buffer,Aa=In.type;return Dr("if(",_n,"(",Kr,")){",In.isStream,"=true;",Kn,"=",Wn,".createStream(",34962,",",Kr,");",Aa,"=",Kn,".dtype;","}else{",Kn,"=",Wn,".getBuffer(",Kr,");","if(",Kn,"){",Aa,"=",Kn,".dtype;",'}else if("constant" in ',Kr,"){",In.state,"=",2,";","if(typeof "+Kr+'.constant === "number"){',In[dt[0]],"=",Kr,".constant;",dt.slice(1).map(function(xa){return In[xa]}).join("="),"=0;","}else{",dt.map(function(xa,La){return In[xa]+"="+Kr+".constant.length>"+La+"?"+Kr+".constant["+La+"]:0;"}).join(""),"}}else{","if(",_n,"(",Kr,".buffer)){",Kn,"=",Wn,".createStream(",34962,",",Kr,".buffer);","}else{",Kn,"=",Wn,".getBuffer(",Kr,".buffer);","}",Aa,'="type" in ',Kr,"?",on.glTypes,"[",Kr,".type]:",Kn,".dtype;",In.normalized,"=!!",Kr,".normalized;"),rn("size"),rn("offset"),rn("stride"),rn("divisor"),Dr("}}"),Dr.exit("if(",In.isStream,"){",Wn,".destroyStream(",Kn,");","}"),In})}),Ln}function gr(Sr){var Hr=Sr.static,Lr=Sr.dynamic,Gr={};return Object.keys(Hr).forEach(function(Ln){var zn=Hr[Ln];Gr[Ln]=se(function(bn,pn){return typeof zn=="number"||typeof zn=="boolean"?""+zn:bn.link(zn)})}),Object.keys(Lr).forEach(function(Ln){var zn=Lr[Ln];Gr[Ln]=$(zn,function(bn,pn){return bn.invoke(pn,zn)})}),Gr}function jr(Sr,Hr,Lr,Gr,Ln){function zn(Qn){var Kn=pn[Qn];Kn&&(rn[Qn]=Kn)}var bn=hr(Sr,Hr),_n=Qt(Sr),pn=ar(Sr,_n),Dr=Vt(Sr),rn=yr(Sr),Kr=or(Sr,Ln,bn);zn("viewport"),zn(mr("scissor.box"));var on=0<Object.keys(rn).length,_n={framebuffer:_n,draw:Dr,shader:Kr,state:rn,dirty:on,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(_n.profile=Nt(Sr),_n.uniforms=wr(Lr),_n.drawVAO=_n.scopeVAO=Dr.vao,!_n.drawVAO&&Kr.program&&!bn&&tr.angle_instanced_arrays&&Dr.static.elements){var Wn=!0;if(Sr=Kr.program.attributes.map(function(Qn){return Qn=Hr.static[Qn],Wn=Wn&&!!Qn,Qn}),Wn&&0<Sr.length){var In=Ot.getVAO(Ot.createVAO({attributes:Sr,elements:Dr.static.elements}));_n.drawVAO=new X(null,null,null,function(Qn,Kn){return Qn.link(In)}),_n.useVAO=!0}}return bn?_n.useVAO=!0:_n.attributes=Ar(Hr),_n.context=gr(Gr),_n}function Fr(Sr,Hr,Lr){var Gr=Sr.shared.context,Ln=Sr.scope();Object.keys(Lr).forEach(function(zn){Hr.save(Gr,"."+zn);var bn=Lr[zn].append(Sr,Hr);Array.isArray(bn)?Ln(Gr,".",zn,"=[",bn.join(),"];"):Ln(Gr,".",zn,"=",bn,";")}),Hr(Ln)}function Nr(Sr,Hr,Lr,Gr){var pn=Sr.shared,Ln=pn.gl,zn=pn.framebuffer,bn;tn&&(bn=Hr.def(pn.extensions,".webgl_draw_buffers"));var Dr=Sr.constants,pn=Dr.drawBuffer,Dr=Dr.backBuffer;Sr=Lr?Lr.append(Sr,Hr):Hr.def(zn,".next"),Gr||Hr("if(",Sr,"!==",zn,".cur){"),Hr("if(",Sr,"){",Ln,".bindFramebuffer(",36160,",",Sr,".framebuffer);"),tn&&Hr(bn,".drawBuffersWEBGL(",pn,"[",Sr,".colorAttachments.length]);"),Hr("}else{",Ln,".bindFramebuffer(",36160,",null);"),tn&&Hr(bn,".drawBuffersWEBGL(",Dr,");"),Hr("}",zn,".cur=",Sr,";"),Gr||Hr("}")}function wn(Sr,Hr,Lr){var Gr=Sr.shared,Ln=Gr.gl,zn=Sr.current,bn=Sr.next,pn=Gr.current,Dr=Gr.next,rn=Sr.cond(pn,".dirty");kn.forEach(function(Kr){if(Kr=mr(Kr),!(Kr in Lr.state)){var on,_n;if(Kr in bn){on=bn[Kr],_n=zn[Kr];var Wn=s(An[Kr].length,function(In){return rn.def(on,"[",In,"]")});rn(Sr.cond(Wn.map(function(In,Qn){return In+"!=="+_n+"["+Qn+"]"}).join("||")).then(Ln,".",$n[Kr],"(",Wn,");",Wn.map(function(In,Qn){return _n+"["+Qn+"]="+In}).join(";"),";"))}else on=rn.def(Dr,".",Kr),Wn=Sr.cond(on,"!==",pn,".",Kr),rn(Wn),Kr in On?Wn(Sr.cond(on).then(Ln,".enable(",On[Kr],");").else(Ln,".disable(",On[Kr],");"),pn,".",Kr,"=",on,";"):Wn(Ln,".",$n[Kr],"(",on,");",pn,".",Kr,"=",on,";")}}),Object.keys(Lr.state).length===0&&rn(pn,".dirty=false;"),Hr(rn)}function hn(Sr,Hr,Lr,Gr){var Ln=Sr.shared,zn=Sr.current,bn=Ln.current,pn=Ln.gl,Dr;re(Object.keys(Lr)).forEach(function(rn){var Kr=Lr[rn];if(!Gr||Gr(Kr)){var on=Kr.append(Sr,Hr);if(On[rn]){var _n=On[rn];q(Kr)?(Dr=Sr.link(on,{stable:!0}),Hr(Sr.cond(Dr).then(pn,".enable(",_n,");").else(pn,".disable(",_n,");")),Hr(bn,".",rn,"=",Dr,";")):(Hr(Sr.cond(on).then(pn,".enable(",_n,");").else(pn,".disable(",_n,");")),Hr(bn,".",rn,"=",on,";"))}else if(A(on)){var Wn=zn[rn];Hr(pn,".",$n[rn],"(",on,");",on.map(function(In,Qn){return Wn+"["+Qn+"]="+In}).join(";"),";")}else q(Kr)?(Dr=Sr.link(on,{stable:!0}),Hr(pn,".",$n[rn],"(",Dr,");",bn,".",rn,"=",Dr,";")):Hr(pn,".",$n[rn],"(",on,");",bn,".",rn,"=",on,";")}})}function Un(Sr,Hr){Er&&(Sr.instancing=Hr.def(Sr.shared.extensions,".angle_instanced_arrays"))}function Fn(Sr,Hr,Lr,Gr,Ln){function zn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function bn(Qn){Wn=Hr.def(),Qn(Wn,"=",zn(),";"),typeof Ln=="string"?Qn(Kr,".count+=",Ln,";"):Qn(Kr,".count++;"),er&&(Gr?(In=Hr.def(),Qn(In,"=",_n,".getNumPendingQueries();")):Qn(_n,".beginQuery(",Kr,");"))}function pn(Qn){Qn(Kr,".cpuTime+=",zn(),"-",Wn,";"),er&&(Gr?Qn(_n,".pushScopeStats(",In,",",_n,".getNumPendingQueries(),",Kr,");"):Qn(_n,".endQuery();"))}function Dr(Qn){var Kn=Hr.def(on,".profile");Hr(on,".profile=",Qn,";"),Hr.exit(on,".profile=",Kn,";")}var rn=Sr.shared,Kr=Sr.stats,on=rn.current,_n=rn.timer;Lr=Lr.profile;var Wn,In;if(Lr){if(q(Lr)){Lr.enable?(bn(Hr),pn(Hr.exit),Dr("true")):Dr("false");return}Lr=Lr.append(Sr,Hr),Dr(Lr)}else Lr=Hr.def(on,".profile");rn=Sr.block(),bn(rn),Hr("if(",Lr,"){",rn,"}"),Sr=Sr.block(),pn(Sr),Hr.exit("if(",Lr,"){",Sr,"}")}function Pr(Sr,Hr,Lr,Gr,Ln){function zn(Dr){switch(Dr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function bn(Dr,rn,Kr){function on(){Hr("if(!",Qn,".buffer){",Wn,".enableVertexAttribArray(",In,");}");var La=Kr.type,Ra;Ra=Kr.size?Hr.def(Kr.size,"||",rn):rn,Hr("if(",Qn,".type!==",La,"||",Qn,".size!==",Ra,"||",xa.map(function(Pi){return Qn+"."+Pi+"!=="+Kr[Pi]}).join("||"),"){",Wn,".bindBuffer(",34962,",",Kn,".buffer);",Wn,".vertexAttribPointer(",[In,Ra,La,Kr.normalized,Kr.stride,Kr.offset],");",Qn,".type=",La,";",Qn,".size=",Ra,";",xa.map(function(Pi){return Qn+"."+Pi+"="+Kr[Pi]+";"}).join(""),"}"),Er&&(La=Kr.divisor,Hr("if(",Qn,".divisor!==",La,"){",Sr.instancing,".vertexAttribDivisorANGLE(",[In,La],");",Qn,".divisor=",La,";}"))}function _n(){Hr("if(",Qn,".buffer){",Wn,".disableVertexAttribArray(",In,");",Qn,".buffer=null;","}if(",dt.map(function(La,Ra){return Qn+"."+La+"!=="+Aa[Ra]}).join("||"),"){",Wn,".vertexAttrib4f(",In,",",Aa,");",dt.map(function(La,Ra){return Qn+"."+La+"="+Aa[Ra]+";"}).join(""),"}")}var Wn=pn.gl,In=Hr.def(Dr,".location"),Qn=Hr.def(pn.attributes,"[",In,"]");Dr=Kr.state;var Kn=Kr.buffer,Aa=[Kr.x,Kr.y,Kr.z,Kr.w],xa=["buffer","normalized","offset","stride"];Dr===1?on():Dr===2?_n():(Hr("if(",Dr,"===",1,"){"),on(),Hr("}else{"),_n(),Hr("}"))}var pn=Sr.shared;Gr.forEach(function(Dr){var rn=Dr.name,Kr=Lr.attributes[rn],on;if(Kr){if(!Ln(Kr))return;on=Kr.append(Sr,Hr)}else{if(!Ln(rr))return;var _n=Sr.scopeAttrib(rn);on={},Object.keys(new Ma).forEach(function(Wn){on[Wn]=Hr.def(_n,".",Wn)})}bn(Sr.link(Dr),zn(Dr.info.type),on)})}function Or(Sr,Hr,Lr,Gr,Ln,zn){for(var bn=Sr.shared,pn=bn.gl,Dr,rn=0;rn<Gr.length;++rn){var Wn=Gr[rn],Kr=Wn.name,on=Wn.info.type,_n=Lr.uniforms[Kr],Wn=Sr.link(Wn)+".location",In;if(_n){if(!Ln(_n))continue;if(q(_n)){if(Kr=_n.value,on===35678||on===35680)on=Sr.link(Kr._texture||Kr.color[0]._texture),Hr(pn,".uniform1i(",Wn,",",on+".bind());"),Hr.exit(on,".unbind();");else if(on===35674||on===35675||on===35676)Kr=Sr.global.def("new Float32Array(["+Array.prototype.slice.call(Kr)+"])"),_n=2,on===35675?_n=3:on===35676&&(_n=4),Hr(pn,".uniformMatrix",_n,"fv(",Wn,",false,",Kr,");");else{switch(on){case 5126:Dr="1f";break;case 35664:Dr="2f";break;case 35665:Dr="3f";break;case 35666:Dr="4f";break;case 35670:Dr="1i";break;case 5124:Dr="1i";break;case 35671:Dr="2i";break;case 35667:Dr="2i";break;case 35672:Dr="3i";break;case 35668:Dr="3i";break;case 35673:Dr="4i";break;case 35669:Dr="4i"}Hr(pn,".uniform",Dr,"(",Wn,",",A(Kr)?Array.prototype.slice.call(Kr):Kr,");")}continue}else In=_n.append(Sr,Hr)}else{if(!Ln(rr))continue;In=Hr.def(bn.uniforms,"[",$t.id(Kr),"]")}switch(on===35678?Hr("if(",In,"&&",In,'._reglType==="framebuffer"){',In,"=",In,".color[0];","}"):on===35680&&Hr("if(",In,"&&",In,'._reglType==="framebufferCube"){',In,"=",In,".color[0];","}"),Kr=1,on){case 35678:case 35680:on=Hr.def(In,"._texture"),Hr(pn,".uniform1i(",Wn,",",on,".bind());"),Hr.exit(on,".unbind();");continue;case 5124:case 35670:Dr="1i";break;case 35667:case 35671:Dr="2i",Kr=2;break;case 35668:case 35672:Dr="3i",Kr=3;break;case 35669:case 35673:Dr="4i",Kr=4;break;case 5126:Dr="1f";break;case 35664:Dr="2f",Kr=2;break;case 35665:Dr="3f",Kr=3;break;case 35666:Dr="4f",Kr=4;break;case 35674:Dr="Matrix2fv";break;case 35675:Dr="Matrix3fv";break;case 35676:Dr="Matrix4fv"}if(Dr.charAt(0)==="M"){Hr(pn,".uniform",Dr,"(",Wn,",");var Wn=Math.pow(on-35674+2,2),Qn=Sr.global.def("new Float32Array(",Wn,")");Array.isArray(In)?Hr("false,(",s(Wn,function(xa){return Qn+"["+xa+"]="+In[xa]}),",",Qn,")"):Hr("false,(Array.isArray(",In,")||",In," instanceof Float32Array)?",In,":(",s(Wn,function(xa){return Qn+"["+xa+"]="+In+"["+xa+"]"}),",",Qn,")"),Hr(");")}else{if(1<Kr){for(var on=[],Kn=[],_n=0;_n<Kr;++_n)Array.isArray(In)?Kn.push(In[_n]):Kn.push(Hr.def(In+"["+_n+"]")),zn&&on.push(Hr.def());zn&&Hr("if(!",Sr.batchId,"||",on.map(function(Aa,xa){return Aa+"!=="+Kn[xa]}).join("||"),"){",on.map(function(Aa,xa){return Aa+"="+Kn[xa]+";"}).join("")),Hr(pn,".uniform",Dr,"(",Wn,",",Kn.join(","),");")}else zn&&(on=Hr.def(),Hr("if(!",Sr.batchId,"||",on,"!==",In,"){",on,"=",In,";")),Hr(pn,".uniform",Dr,"(",Wn,",",In,");");zn&&Hr("}")}}}function Qr(Sr,Hr,Lr,Gr){function Ln(La){var Ra=Kr[La];return Ra?Ra.contextDep&&Gr.contextDynamic||Ra.propDep?Ra.append(Sr,Lr):Ra.append(Sr,Hr):Hr.def(rn,".",La)}function zn(){function La(){Lr(Kn,".drawElementsInstancedANGLE(",[_n,In,Aa,Wn+"<<(("+Aa+"-5121)>>1)",Qn],");")}function Ra(){Lr(Kn,".drawArraysInstancedANGLE(",[_n,Wn,In,Qn],");")}on&&on!=="null"?xa?La():(Lr("if(",on,"){"),La(),Lr("}else{"),Ra(),Lr("}")):Ra()}function bn(){function La(){Lr(Dr+".drawElements("+[_n,In,Aa,Wn+"<<(("+Aa+"-5121)>>1)"]+");")}function Ra(){Lr(Dr+".drawArrays("+[_n,Wn,In]+");")}on&&on!=="null"?xa?La():(Lr("if(",on,"){"),La(),Lr("}else{"),Ra(),Lr("}")):Ra()}var pn=Sr.shared,Dr=pn.gl,rn=pn.draw,Kr=Gr.draw,on=function(){var La=Kr.elements,Ra=Hr;return La?((La.contextDep&&Gr.contextDynamic||La.propDep)&&(Ra=Lr),La=La.append(Sr,Ra),Kr.elementsActive&&Ra("if("+La+")"+Dr+".bindBuffer(34963,"+La+".buffer.buffer);")):(La=Ra.def(),Ra(La,"=",rn,".","elements",";","if(",La,"){",Dr,".bindBuffer(",34963,",",La,".buffer.buffer);}","else if(",pn.vao,".currentVAO){",La,"=",Sr.shared.elements+".getElements("+pn.vao,".currentVAO.elements);",$r?"":"if("+La+")"+Dr+".bindBuffer(34963,"+La+".buffer.buffer);","}")),La}(),_n=Ln("primitive"),Wn=Ln("offset"),In=function(){var La=Kr.count,Ra=Hr;return La?((La.contextDep&&Gr.contextDynamic||La.propDep)&&(Ra=Lr),La=La.append(Sr,Ra)):La=Ra.def(rn,".","count"),La}();if(typeof In=="number"){if(In===0)return}else Lr("if(",In,"){"),Lr.exit("}");var Qn,Kn;Er&&(Qn=Ln("instances"),Kn=Sr.instancing);var Aa=on+".type",xa=Kr.elements&&q(Kr.elements)&&!Kr.vaoActive;Er&&(typeof Qn!="number"||0<=Qn)?typeof Qn=="string"?(Lr("if(",Qn,">0){"),zn(),Lr("}else if(",Qn,"<0){"),bn(),Lr("}")):zn():bn()}function Zr(Sr,Hr,Lr,Gr,Ln){return Hr=Ut(),Ln=Hr.proc("body",Ln),Er&&(Hr.instancing=Ln.def(Hr.shared.extensions,".angle_instanced_arrays")),Sr(Hr,Ln,Lr,Gr),Hr.compile().body}function vn(Sr,Hr,Lr,Gr){Un(Sr,Hr),Lr.useVAO?Lr.drawVAO?Hr(Sr.shared.vao,".setVAO(",Lr.drawVAO.append(Sr,Hr),");"):Hr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(Hr(Sr.shared.vao,".setVAO(null);"),Pr(Sr,Hr,Lr,Gr.attributes,function(){return!0})),Or(Sr,Hr,Lr,Gr.uniforms,function(){return!0},!1),Qr(Sr,Hr,Hr,Lr)}function Mn(Sr,Hr){var Lr=Sr.proc("draw",1);Un(Sr,Lr),Fr(Sr,Lr,Hr.context),Nr(Sr,Lr,Hr.framebuffer),wn(Sr,Lr,Hr),hn(Sr,Lr,Hr.state),Fn(Sr,Lr,Hr,!1,!0);var Gr=Hr.shader.progVar.append(Sr,Lr);if(Lr(Sr.shared.gl,".useProgram(",Gr,".program);"),Hr.shader.program)vn(Sr,Lr,Hr,Hr.shader.program);else{Lr(Sr.shared.vao,".setVAO(null);");var Ln=Sr.global.def("{}"),zn=Lr.def(Gr,".id"),bn=Lr.def(Ln,"[",zn,"]");Lr(Sr.cond(bn).then(bn,".call(this,a0);").else(bn,"=",Ln,"[",zn,"]=",Sr.link(function(pn){return Zr(vn,Sr,Hr,pn,1)}),"(",Gr,");",bn,".call(this,a0);"))}0<Object.keys(Hr.state).length&&Lr(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&Lr(Sr.shared.vao,".setVAO(null);")}function Sn(Sr,Hr,Lr,Gr){function Ln(){return!0}Sr.batchId="a1",Un(Sr,Hr),Pr(Sr,Hr,Lr,Gr.attributes,Ln),Or(Sr,Hr,Lr,Gr.uniforms,Ln,!1),Qr(Sr,Hr,Hr,Lr)}function Vn(Sr,Hr,Lr,Gr){function Ln(on){return on.contextDep&&bn||on.propDep}function zn(on){return!Ln(on)}Un(Sr,Hr);var bn=Lr.contextDep,pn=Hr.def(),Dr=Hr.def();Sr.shared.props=Dr,Sr.batchId=pn;var rn=Sr.scope(),Kr=Sr.scope();Hr(rn.entry,"for(",pn,"=0;",pn,"<","a1",";++",pn,"){",Dr,"=","a0","[",pn,"];",Kr,"}",rn.exit),Lr.needsContext&&Fr(Sr,Kr,Lr.context),Lr.needsFramebuffer&&Nr(Sr,Kr,Lr.framebuffer),hn(Sr,Kr,Lr.state,Ln),Lr.profile&&Ln(Lr.profile)&&Fn(Sr,Kr,Lr,!1,!0),Gr?(Lr.useVAO?Lr.drawVAO?Ln(Lr.drawVAO)?Kr(Sr.shared.vao,".setVAO(",Lr.drawVAO.append(Sr,Kr),");"):rn(Sr.shared.vao,".setVAO(",Lr.drawVAO.append(Sr,rn),");"):rn(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(rn(Sr.shared.vao,".setVAO(null);"),Pr(Sr,rn,Lr,Gr.attributes,zn),Pr(Sr,Kr,Lr,Gr.attributes,Ln)),Or(Sr,rn,Lr,Gr.uniforms,zn,!1),Or(Sr,Kr,Lr,Gr.uniforms,Ln,!0),Qr(Sr,rn,Kr,Lr)):(Hr=Sr.global.def("{}"),Gr=Lr.shader.progVar.append(Sr,Kr),Dr=Kr.def(Gr,".id"),rn=Kr.def(Hr,"[",Dr,"]"),Kr(Sr.shared.gl,".useProgram(",Gr,".program);","if(!",rn,"){",rn,"=",Hr,"[",Dr,"]=",Sr.link(function(on){return Zr(Sn,Sr,Lr,on,2)}),"(",Gr,");}",rn,".call(this,a0[",pn,"],",pn,");"))}function jn(Sr,Hr){function Lr(rn){return rn.contextDep&&Ln||rn.propDep}var Gr=Sr.proc("batch",2);Sr.batchId="0",Un(Sr,Gr);var Ln=!1,zn=!0;Object.keys(Hr.context).forEach(function(rn){Ln=Ln||Hr.context[rn].propDep}),Ln||(Fr(Sr,Gr,Hr.context),zn=!1);var bn=Hr.framebuffer,pn=!1;if(bn?(bn.propDep?Ln=pn=!0:bn.contextDep&&Ln&&(pn=!0),pn||Nr(Sr,Gr,bn)):Nr(Sr,Gr,null),Hr.state.viewport&&Hr.state.viewport.propDep&&(Ln=!0),wn(Sr,Gr,Hr),hn(Sr,Gr,Hr.state,function(rn){return!Lr(rn)}),Hr.profile&&Lr(Hr.profile)||Fn(Sr,Gr,Hr,!1,"a1"),Hr.contextDep=Ln,Hr.needsContext=zn,Hr.needsFramebuffer=pn,zn=Hr.shader.progVar,zn.contextDep&&Ln||zn.propDep)Vn(Sr,Gr,Hr,null);else if(zn=zn.append(Sr,Gr),Gr(Sr.shared.gl,".useProgram(",zn,".program);"),Hr.shader.program)Vn(Sr,Gr,Hr,Hr.shader.program);else{Gr(Sr.shared.vao,".setVAO(null);");var bn=Sr.global.def("{}"),pn=Gr.def(zn,".id"),Dr=Gr.def(bn,"[",pn,"]");Gr(Sr.cond(Dr).then(Dr,".call(this,a0,a1);").else(Dr,"=",bn,"[",pn,"]=",Sr.link(function(on){return Zr(Vn,Sr,Hr,on,2)}),"(",zn,");",Dr,".call(this,a0,a1);"))}0<Object.keys(Hr.state).length&&Gr(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&Gr(Sr.shared.vao,".setVAO(null);")}function ya(Sr,Hr){function Lr(pn){var Dr=Hr.shader[pn];Dr&&(Dr=Dr.append(Sr,Gr),isNaN(Dr)?Gr.set(Ln.shader,"."+pn,Dr):Gr.set(Ln.shader,"."+pn,Sr.link(Dr,{stable:!0})))}var Gr=Sr.proc("scope",3);Sr.batchId="a2";var Ln=Sr.shared,zn=Ln.current;if(Fr(Sr,Gr,Hr.context),Hr.framebuffer&&Hr.framebuffer.append(Sr,Gr),re(Object.keys(Hr.state)).forEach(function(pn){var Dr=Hr.state[pn],rn=Dr.append(Sr,Gr);A(rn)?rn.forEach(function(Kr,on){isNaN(Kr)?Gr.set(Sr.next[pn],"["+on+"]",Kr):Gr.set(Sr.next[pn],"["+on+"]",Sr.link(Kr,{stable:!0}))}):q(Dr)?Gr.set(Ln.next,"."+pn,Sr.link(rn,{stable:!0})):Gr.set(Ln.next,"."+pn,rn)}),Fn(Sr,Gr,Hr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(pn){var Dr=Hr.draw[pn];Dr&&(Dr=Dr.append(Sr,Gr),isNaN(Dr)?Gr.set(Ln.draw,"."+pn,Dr):Gr.set(Ln.draw,"."+pn,Sr.link(Dr),{stable:!0}))}),Object.keys(Hr.uniforms).forEach(function(pn){var Dr=Hr.uniforms[pn].append(Sr,Gr);Array.isArray(Dr)&&(Dr="["+Dr.map(function(rn){return isNaN(rn)?rn:Sr.link(rn,{stable:!0})})+"]"),Gr.set(Ln.uniforms,"["+Sr.link($t.id(pn),{stable:!0})+"]",Dr)}),Object.keys(Hr.attributes).forEach(function(pn){var Dr=Hr.attributes[pn].append(Sr,Gr),rn=Sr.scopeAttrib(pn);Object.keys(new Ma).forEach(function(Kr){Gr.set(rn,"."+Kr,Dr[Kr])})}),Hr.scopeVAO){var bn=Hr.scopeVAO.append(Sr,Gr);isNaN(bn)?Gr.set(Ln.vao,".targetVAO",bn):Gr.set(Ln.vao,".targetVAO",Sr.link(bn,{stable:!0}))}Lr("vert"),Lr("frag"),0<Object.keys(Hr.state).length&&(Gr(zn,".dirty=true;"),Gr.exit(zn,".dirty=true;")),Gr("a1(",Sr.shared.context,",a0,",Sr.batchId,");")}function Pa(Sr){if(typeof Sr=="object"&&!A(Sr)){for(var Hr=Object.keys(Sr),Lr=0;Lr<Hr.length;++Lr)if(ye.isDynamic(Sr[Hr[Lr]]))return!0;return!1}}function Da(Sr,Hr,Lr){function Gr(on,_n){bn.forEach(function(Wn){var In=Ln[Wn];ye.isDynamic(In)&&(In=on.invoke(_n,In),_n(Kr,".",Wn,"=",In,";"))})}var Ln=Hr.static[Lr];if(Ln&&Pa(Ln)){var zn=Sr.global,bn=Object.keys(Ln),pn=!1,Dr=!1,rn=!1,Kr=Sr.global.def("{}");bn.forEach(function(on){var _n=Ln[on];if(ye.isDynamic(_n))typeof _n=="function"&&(_n=Ln[on]=ye.unbox(_n)),on=$(_n,null),pn=pn||on.thisDep,rn=rn||on.propDep,Dr=Dr||on.contextDep;else{switch(zn(Kr,".",on,"="),typeof _n){case"number":zn(_n);break;case"string":zn('"',_n,'"');break;case"object":Array.isArray(_n)&&zn("[",_n.join(),"]");break;default:zn(Sr.link(_n))}zn(";")}}),Hr.dynamic[Lr]=new ye.DynamicVariable(4,{thisDep:pn,contextDep:Dr,propDep:rn,ref:Kr,append:Gr}),delete Hr.static[Lr]}}var Ma=Ot.Record,ma={add:32774,subtract:32778,"reverse subtract":32779};tr.ext_blend_minmax&&(ma.min=32775,ma.max=32776);var Er=tr.angle_instanced_arrays,tn=tr.webgl_draw_buffers,$r=tr.oes_vertex_array_object,An={dirty:!0,profile:pr.profile},qn={},kn=[],On={},$n={};Xe("dither",3024),Xe("blend.enable",3042),Ge("blend.color","blendColor",[0,0,0,0]),Ge("blend.equation","blendEquationSeparate",[32774,32774]),Ge("blend.func","blendFuncSeparate",[1,0,1,0]),Xe("depth.enable",2929,!0),Ge("depth.func","depthFunc",513),Ge("depth.range","depthRange",[0,1]),Ge("depth.mask","depthMask",!0),Ge("colorMask","colorMask",[!0,!0,!0,!0]),Xe("cull.enable",2884),Ge("cull.face","cullFace",1029),Ge("frontFace","frontFace",2305),Ge("lineWidth","lineWidth",1),Xe("polygonOffset.enable",32823),Ge("polygonOffset.offset","polygonOffset",[0,0]),Xe("sample.alpha",32926),Xe("sample.enable",32928),Ge("sample.coverage","sampleCoverage",[1,!1]),Xe("stencil.enable",2960),Ge("stencil.mask","stencilMask",-1),Ge("stencil.func","stencilFunc",[519,0,-1]),Ge("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ge("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Xe("scissor.enable",3089),Ge("scissor.box","scissor",[0,0,Tt.drawingBufferWidth,Tt.drawingBufferHeight]),Ge("viewport","viewport",[0,0,Tt.drawingBufferWidth,Tt.drawingBufferHeight]);var ca={gl:Tt,context:Gt,strings:$t,next:qn,current:An,draw:Wt,elements:bt,buffer:cr,shader:It,attributes:Ot.state,vao:Ot,uniforms:_t,framebuffer:Mt,extensions:tr,timer:er,isBufferArgs:Y},Ia={primTypes:rt,compareFuncs:Jt,blendFuncs:Kt,blendEquations:ma,stencilOps:St,glTypes:Ve,orientationType:Ft};tn&&(Ia.backBuffer=[1029],Ia.drawBuffer=s(Tr.maxDrawbuffers,function(Sr){return Sr===0?[0]:s(Sr,function(Hr){return 36064+Hr})}));var ei=0;return{next:qn,current:An,procs:function(){var Sr=Ut(),Hr=Sr.proc("poll"),Lr=Sr.proc("refresh"),Gr=Sr.block();Hr(Gr),Lr(Gr);var Dr=Sr.shared,Ln=Dr.gl,zn=Dr.next,bn=Dr.current;Gr(bn,".dirty=false;"),Nr(Sr,Hr),Nr(Sr,Lr,null,!0);var pn;Er&&(pn=Sr.link(Er)),tr.oes_vertex_array_object&&Lr(Sr.link(tr.oes_vertex_array_object),".bindVertexArrayOES(null);");var Dr=Lr.def(Dr.attributes),rn=Lr.def(0),Kr=Sr.cond(rn,".buffer");Kr.then(Ln,".enableVertexAttribArray(i);",Ln,".bindBuffer(",34962,",",rn,".buffer.buffer);",Ln,".vertexAttribPointer(i,",rn,".size,",rn,".type,",rn,".normalized,",rn,".stride,",rn,".offset);").else(Ln,".disableVertexAttribArray(i);",Ln,".vertexAttrib4f(i,",rn,".x,",rn,".y,",rn,".z,",rn,".w);",rn,".buffer=null;");var on=Sr.link(Tr.maxAttributes,{stable:!0});return Lr("for(var i=0;i<",on,";++i){",rn,"=",Dr,"[i];",Kr,"}"),Er&&Lr("for(var i=0;i<",on,";++i){",pn,".vertexAttribDivisorANGLE(i,",Dr,"[i].divisor);","}"),Lr(Sr.shared.vao,".currentVAO=null;",Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"),Object.keys(On).forEach(function(_n){var Wn=On[_n],In=Gr.def(zn,".",_n),Qn=Sr.block();Qn("if(",In,"){",Ln,".enable(",Wn,")}else{",Ln,".disable(",Wn,")}",bn,".",_n,"=",In,";"),Lr(Qn),Hr("if(",In,"!==",bn,".",_n,"){",Qn,"}")}),Object.keys($n).forEach(function(_n){var Wn=$n[_n],In=An[_n],Qn,Kn,Aa=Sr.block();Aa(Ln,".",Wn,"("),A(In)?(Wn=In.length,Qn=Sr.global.def(zn,".",_n),Kn=Sr.global.def(bn,".",_n),Aa(s(Wn,function(xa){return Qn+"["+xa+"]"}),");",s(Wn,function(xa){return Kn+"["+xa+"]="+Qn+"["+xa+"];"}).join("")),Hr("if(",s(Wn,function(xa){return Qn+"["+xa+"]!=="+Kn+"["+xa+"]"}).join("||"),"){",Aa,"}")):(Qn=Gr.def(zn,".",_n),Kn=Gr.def(bn,".",_n),Aa(Qn,");",bn,".",_n,"=",Qn,";"),Hr("if(",Qn,"!==",Kn,"){",Aa,"}")),Lr(Aa)}),Sr.compile()}(),compile:function(Sr,Hr,Lr,Gr,Ln){var zn=Ut();zn.stats=zn.link(Ln),Object.keys(Hr.static).forEach(function(pn){Da(zn,Hr,pn)}),xt.forEach(function(pn){Da(zn,Sr,pn)});var bn=jr(Sr,Hr,Lr,Gr,zn);return bn.shader.program&&(bn.shader.program.attributes.sort(function(pn,Dr){return pn.name<Dr.name?-1:1}),bn.shader.program.uniforms.sort(function(pn,Dr){return pn.name<Dr.name?-1:1})),Mn(zn,bn),ya(zn,bn),jn(zn,bn),ae(zn.compile(),{destroy:function(){bn.shader.program.destroy()}})}}}function ue(Tt,$t){for(var tr=0;tr<Tt.length;++tr)if(Tt[tr]===$t)return tr;return-1}var ae=function(Tt,$t){for(var tr=Object.keys($t),Tr=0;Tr<tr.length;++Tr)Tt[tr[Tr]]=$t[tr[Tr]];return Tt},ce=0,ye={DynamicVariable:U,define:function(Tt,$t){return new U(Tt,p($t+""))},isDynamic:function(Tt){return typeof Tt=="function"&&!Tt._reglType||Tt instanceof U},unbox:L,accessor:p},Ce={next:typeof requestAnimationFrame=="function"?function(Tt){return requestAnimationFrame(Tt)}:function(Tt){return setTimeout(Tt,16)},cancel:typeof cancelAnimationFrame=="function"?function(Tt){return cancelAnimationFrame(Tt)}:clearTimeout},Ae=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Ie=f();Ie.zero=f();var Te=function(Tt,$t){var tr=1;$t.ext_texture_filter_anisotropic&&(tr=Tt.getParameter(34047));var Tr=1,cr=1;$t.webgl_draw_buffers&&(Tr=Tt.getParameter(34852),cr=Tt.getParameter(36063));var bt=!!$t.oes_texture_float;if(bt){bt=Tt.createTexture(),Tt.bindTexture(3553,bt),Tt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var lt=Tt.createFramebuffer();if(Tt.bindFramebuffer(36160,lt),Tt.framebufferTexture2D(36160,36064,3553,bt,0),Tt.bindTexture(3553,null),Tt.checkFramebufferStatus(36160)!==36053)bt=!1;else{Tt.viewport(0,0,1,1),Tt.clearColor(1,0,0,1),Tt.clear(16384);var Mt=Ie.allocType(5126,4);Tt.readPixels(0,0,1,1,6408,5126,Mt),Tt.getError()?bt=!1:(Tt.deleteFramebuffer(lt),Tt.deleteTexture(bt),bt=Mt[0]===1),Ie.freeType(Mt)}}return Mt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Mt=Tt.createTexture(),lt=Ie.allocType(5121,36),Tt.activeTexture(33984),Tt.bindTexture(34067,Mt),Tt.texImage2D(34069,0,6408,3,3,0,6408,5121,lt),Ie.freeType(lt),Tt.bindTexture(34067,null),Tt.deleteTexture(Mt),Mt=!Tt.getError()),{colorBits:[Tt.getParameter(3410),Tt.getParameter(3411),Tt.getParameter(3412),Tt.getParameter(3413)],depthBits:Tt.getParameter(3414),stencilBits:Tt.getParameter(3415),subpixelBits:Tt.getParameter(3408),extensions:Object.keys($t).filter(function(_t){return!!$t[_t]}),maxAnisotropic:tr,maxDrawbuffers:Tr,maxColorAttachments:cr,pointSizeDims:Tt.getParameter(33901),lineWidthDims:Tt.getParameter(33902),maxViewportDims:Tt.getParameter(3386),maxCombinedTextureUnits:Tt.getParameter(35661),maxCubeMapSize:Tt.getParameter(34076),maxRenderbufferSize:Tt.getParameter(34024),maxTextureUnits:Tt.getParameter(34930),maxTextureSize:Tt.getParameter(3379),maxAttributes:Tt.getParameter(34921),maxVertexUniforms:Tt.getParameter(36347),maxVertexTextureUnits:Tt.getParameter(35660),maxVaryingVectors:Tt.getParameter(36348),maxFragmentUniforms:Tt.getParameter(36349),glsl:Tt.getParameter(35724),renderer:Tt.getParameter(7937),vendor:Tt.getParameter(7936),version:Tt.getParameter(7938),readFloat:bt,npotTextureCube:Mt}},Le=function(Tt){return Tt instanceof Uint8Array||Tt instanceof Uint16Array||Tt instanceof Uint32Array||Tt instanceof Int8Array||Tt instanceof Int16Array||Tt instanceof Int32Array||Tt instanceof Float32Array||Tt instanceof Float64Array||Tt instanceof Uint8ClampedArray},xe=function(Tt){return Object.keys(Tt).map(function($t){return Tt[$t]})},Re={shape:function(Tt){for(var $t=[];Tt.length;Tt=Tt[0])$t.push(Tt.length);return $t},flatten:function(Tt,$t,tr,Tr){var cr=1;if($t.length)for(var bt=0;bt<$t.length;++bt)cr*=$t[bt];else cr=0;switch(tr=Tr||Ie.allocType(tr,cr),$t.length){case 0:break;case 1:for(Tr=$t[0],$t=0;$t<Tr;++$t)tr[$t]=Tt[$t];break;case 2:for(Tr=$t[0],$t=$t[1],bt=cr=0;bt<Tr;++bt)for(var lt=Tt[bt],Mt=0;Mt<$t;++Mt)tr[cr++]=lt[Mt];break;case 3:l(Tt,$t[0],$t[1],$t[2],tr,0);break;default:m(Tt,$t,0,tr,0)}return tr}},He={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ve={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Fe={dynamic:35048,stream:35040,static:35044},We=Re.flatten,ut=Re.shape,ht=[];ht[5120]=1,ht[5122]=2,ht[5124]=4,ht[5121]=1,ht[5123]=2,ht[5125]=4,ht[5126]=4;var rt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},tt=new Float32Array(1),vt=new Uint32Array(tt.buffer),pt=[9984,9986,9985,9987],mt=[0,6409,6410,6407,6408],wt={};wt[6409]=wt[6406]=wt[6402]=1,wt[34041]=wt[6410]=2,wt[6407]=wt[35904]=3,wt[6408]=wt[35906]=4;var Lt=E("HTMLCanvasElement"),at=E("OffscreenCanvas"),Oe=E("CanvasRenderingContext2D"),Ze=E("ImageBitmap"),Je=E("HTMLImageElement"),Ye=E("HTMLVideoElement"),ke=Object.keys(He).concat([Lt,at,Oe,Ze,Je,Ye]),be=[];be[5121]=1,be[5126]=4,be[36193]=2,be[5123]=2,be[5125]=4;var me=[];me[32854]=2,me[32855]=2,me[36194]=2,me[34041]=4,me[33776]=.5,me[33777]=.5,me[33778]=1,me[33779]=1,me[35986]=.5,me[35987]=1,me[34798]=1,me[35840]=.5,me[35841]=.25,me[35842]=.5,me[35843]=.25,me[36196]=.5;var _e=[];_e[32854]=2,_e[32855]=2,_e[36194]=2,_e[33189]=2,_e[36168]=1,_e[34041]=4,_e[35907]=4,_e[34836]=16,_e[34842]=8,_e[34843]=6;var Ee=function(Tt,$t,tr,Tr,cr){function bt(Wt){this.id=Ot++,this.refCount=1,this.renderbuffer=Wt,this.format=32854,this.height=this.width=0,cr.profile&&(this.stats={size:0})}function lt(Wt){var Gt=Wt.renderbuffer;Tt.bindRenderbuffer(36161,null),Tt.deleteRenderbuffer(Gt),Wt.renderbuffer=null,Wt.refCount=0,delete It[Wt.id],Tr.renderbufferCount--}var Mt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};$t.ext_srgb&&(Mt.srgba=35907),$t.ext_color_buffer_half_float&&(Mt.rgba16f=34842,Mt.rgb16f=34843),$t.webgl_color_buffer_float&&(Mt.rgba32f=34836);var _t=[];Object.keys(Mt).forEach(function(Wt){_t[Mt[Wt]]=Wt});var Ot=0,It={};return bt.prototype.decRef=function(){0>=--this.refCount&&lt(this)},cr.profile&&(Tr.getTotalRenderbufferSize=function(){var Wt=0;return Object.keys(It).forEach(function(Gt){Wt+=It[Gt].stats.size}),Wt}),{create:function(Wt,Gt){function er(pr,mr){var Xe=0,Ge=0,Ut=32854;if(typeof pr=="object"&&pr?("shape"in pr?(Ge=pr.shape,Xe=Ge[0]|0,Ge=Ge[1]|0):("radius"in pr&&(Xe=Ge=pr.radius|0),"width"in pr&&(Xe=pr.width|0),"height"in pr&&(Ge=pr.height|0)),"format"in pr&&(Ut=Mt[pr.format])):typeof pr=="number"?(Xe=pr|0,Ge=typeof mr=="number"?mr|0:Xe):pr||(Xe=Ge=1),Xe!==dr.width||Ge!==dr.height||Ut!==dr.format)return er.width=dr.width=Xe,er.height=dr.height=Ge,dr.format=Ut,Tt.bindRenderbuffer(36161,dr.renderbuffer),Tt.renderbufferStorage(36161,Ut,Xe,Ge),cr.profile&&(dr.stats.size=_e[dr.format]*dr.width*dr.height),er.format=_t[dr.format],er}var dr=new bt(Tt.createRenderbuffer());return It[dr.id]=dr,Tr.renderbufferCount++,er(Wt,Gt),er.resize=function(pr,mr){var Xe=pr|0,Ge=mr|0||Xe;return Xe===dr.width&&Ge===dr.height||(er.width=dr.width=Xe,er.height=dr.height=Ge,Tt.bindRenderbuffer(36161,dr.renderbuffer),Tt.renderbufferStorage(36161,dr.format,Xe,Ge),cr.profile&&(dr.stats.size=_e[dr.format]*dr.width*dr.height)),er},er._reglType="renderbuffer",er._renderbuffer=dr,cr.profile&&(er.stats=dr.stats),er.destroy=function(){dr.decRef()},er},clear:function(){xe(It).forEach(lt)},restore:function(){xe(It).forEach(function(Wt){Wt.renderbuffer=Tt.createRenderbuffer(),Tt.bindRenderbuffer(36161,Wt.renderbuffer),Tt.renderbufferStorage(36161,Wt.format,Wt.width,Wt.height)}),Tt.bindRenderbuffer(36161,null)}}},Be=[];Be[6408]=4,Be[6407]=3;var je=[];je[5121]=1,je[5126]=4,je[36193]=2;var nt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],dt=["x","y","z","w"],xt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Kt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Jt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},St={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ft={cw:2304,ccw:2305},rr=new X(!1,!1,!1,function(){}),_r=function(Tt,$t){function tr(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Tr(It,Wt,Gt){var er=lt.pop()||new tr;er.startQueryIndex=It,er.endQueryIndex=Wt,er.sum=0,er.stats=Gt,Mt.push(er)}if(!$t.ext_disjoint_timer_query)return null;var cr=[],bt=[],lt=[],Mt=[],_t=[],Ot=[];return{beginQuery:function(It){var Wt=cr.pop()||$t.ext_disjoint_timer_query.createQueryEXT();$t.ext_disjoint_timer_query.beginQueryEXT(35007,Wt),bt.push(Wt),Tr(bt.length-1,bt.length,It)},endQuery:function(){$t.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Tr,update:function(){var It,Wt;if(It=bt.length,It!==0){Ot.length=Math.max(Ot.length,It+1),_t.length=Math.max(_t.length,It+1),_t[0]=0;var Gt=Ot[0]=0;for(Wt=It=0;Wt<bt.length;++Wt){var er=bt[Wt];$t.ext_disjoint_timer_query.getQueryObjectEXT(er,34919)?(Gt+=$t.ext_disjoint_timer_query.getQueryObjectEXT(er,34918),cr.push(er)):bt[It++]=er,_t[Wt+1]=Gt,Ot[Wt+1]=It}for(bt.length=It,Wt=It=0;Wt<Mt.length;++Wt){var Gt=Mt[Wt],dr=Gt.startQueryIndex,er=Gt.endQueryIndex;Gt.sum+=_t[er]-_t[dr],dr=Ot[dr],er=Ot[er],er===dr?(Gt.stats.gpuTime+=Gt.sum/1e6,lt.push(Gt)):(Gt.startQueryIndex=dr,Gt.endQueryIndex=er,Mt[It++]=Gt)}Mt.length=It}},getNumPendingQueries:function(){return bt.length},clear:function(){cr.push.apply(cr,bt);for(var It=0;It<cr.length;It++)$t.ext_disjoint_timer_query.deleteQueryEXT(cr[It]);bt.length=0,cr.length=0},restore:function(){bt.length=0,cr.length=0}}};return function(Tt){function $t(){if(Fn.length===0)Ut&&Ut.update(),Zr=null;else{Zr=Ce.next($t),It();for(var Mn=Fn.length-1;0<=Mn;--Mn){var Sn=Fn[Mn];Sn&&Sn(ar,null,0)}er.flush(),Ut&&Ut.update()}}function tr(){!Zr&&0<Fn.length&&(Zr=Ce.next($t))}function Tr(){Zr&&(Ce.cancel($t),Zr=null)}function cr(Mn){Mn.preventDefault(),Tr(),Pr.forEach(function(Sn){Sn()})}function bt(Mn){er.getError(),pr.restore(),Ar.restore(),Vt.restore(),gr.restore(),jr.restore(),Fr.restore(),wr.restore(),Ut&&Ut.restore(),Nr.procs.refresh(),tr(),Or.forEach(function(Sn){Sn()})}function lt(Mn){function Sn(An,qn){var kn={},On={};return Object.keys(An).forEach(function($n){var ca=An[$n];if(ye.isDynamic(ca))On[$n]=ye.unbox(ca,$n);else{if(qn&&Array.isArray(ca)){for(var Ia=0;Ia<ca.length;++Ia)if(ye.isDynamic(ca[Ia])){On[$n]=ye.unbox(ca,$n);return}}kn[$n]=ca}}),{dynamic:On,static:kn}}function Vn(An){for(;$r.length<An;)$r.push(null);return $r}var jn=Sn(Mn.context||{},!0),ya=Sn(Mn.uniforms||{},!0),Pa=Sn(Mn.attributes||{},!1);Mn=Sn(function(An){function qn(On){if(On in kn){var $n=kn[On];delete kn[On],Object.keys($n).forEach(function(ca){kn[On+"."+ca]=$n[ca]})}}var kn=ae({},An);return delete kn.uniforms,delete kn.attributes,delete kn.context,delete kn.vao,"stencil"in kn&&kn.stencil.op&&(kn.stencil.opBack=kn.stencil.opFront=kn.stencil.op,delete kn.stencil.op),qn("blend"),qn("depth"),qn("cull"),qn("stencil"),qn("polygonOffset"),qn("scissor"),qn("sample"),"vao"in An&&(kn.vao=An.vao),kn}(Mn),!1);var Da={gpuTime:0,cpuTime:0,count:0},Ma=Nr.compile(Mn,Pa,ya,jn,Da),ma=Ma.draw,Er=Ma.batch,tn=Ma.scope,$r=[];return ae(function(An,qn){var kn;if(typeof An=="function")return tn.call(this,null,An,0);if(typeof qn=="function")if(typeof An=="number")for(kn=0;kn<An;++kn)tn.call(this,null,qn,kn);else if(Array.isArray(An))for(kn=0;kn<An.length;++kn)tn.call(this,An[kn],qn,kn);else return tn.call(this,An,qn,0);else if(typeof An=="number"){if(0<An)return Er.call(this,Vn(An|0),An|0)}else if(Array.isArray(An)){if(An.length)return Er.call(this,An,An.length)}else return ma.call(this,An)},{stats:Da,destroy:function(){Ma.destroy()}})}function Mt(Mn,Sn){var Vn=0;Nr.procs.poll();var jn=Sn.color;jn&&(er.clearColor(+jn[0]||0,+jn[1]||0,+jn[2]||0,+jn[3]||0),Vn|=16384),"depth"in Sn&&(er.clearDepth(+Sn.depth),Vn|=256),"stencil"in Sn&&(er.clearStencil(Sn.stencil|0),Vn|=1024),er.clear(Vn)}function _t(Mn){return Fn.push(Mn),tr(),{cancel:function(){function Sn(){var jn=ue(Fn,Sn);Fn[jn]=Fn[Fn.length-1],--Fn.length,0>=Fn.length&&Tr()}var Vn=ue(Fn,Mn);Fn[Vn]=Sn}}}function Ot(){var Mn=hn.viewport,Sn=hn.scissor_box;Mn[0]=Mn[1]=Sn[0]=Sn[1]=0,ar.viewportWidth=ar.framebufferWidth=ar.drawingBufferWidth=Mn[2]=Sn[2]=er.drawingBufferWidth,ar.viewportHeight=ar.framebufferHeight=ar.drawingBufferHeight=Mn[3]=Sn[3]=er.drawingBufferHeight}function It(){ar.tick+=1,ar.time=Gt(),Ot(),Nr.procs.poll()}function Wt(){gr.refresh(),Ot(),Nr.procs.refresh(),Ut&&Ut.update()}function Gt(){return(Ae()-Nt)/1e3}if(Tt=r(Tt),!Tt)return null;var er=Tt.gl,dr=er.getContextAttributes();er.isContextLost();var pr=t(er,Tt);if(!pr)return null;var wn=n(),mr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Xe=Tt.cachedCode||{},Ge=pr.extensions,Ut=_r(er,Ge),Nt=Ae(),hr=er.drawingBufferWidth,Qt=er.drawingBufferHeight,ar={tick:0,time:0,viewportWidth:hr,viewportHeight:Qt,framebufferWidth:hr,framebufferHeight:Qt,drawingBufferWidth:hr,drawingBufferHeight:Qt,pixelRatio:Tt.pixelRatio},hr={elements:null,primitive:4,count:-1,offset:0,instances:-1},or=Te(er,Ge),Vt=i(er,mr,Tt,function(Mn){return wr.destroyBuffer(Mn)}),yr=d(er,Ge,Vt,mr),wr=k(er,Ge,or,mr,Vt,yr,hr),Ar=z(er,wn,mr,Tt),gr=I(er,Ge,or,function(){Nr.procs.poll()},ar,mr,Tt),jr=Ee(er,Ge,or,mr,Tt),Fr=D(er,Ge,or,gr,jr,mr),Nr=j(er,wn,Ge,or,Vt,yr,gr,Fr,{},wr,Ar,hr,ar,Ut,Xe,Tt),wn=F(er,Fr,Nr.procs.poll,ar),hn=Nr.next,Un=er.canvas,Fn=[],Pr=[],Or=[],Qr=[Tt.onDestroy],Zr=null;Un&&(Un.addEventListener("webglcontextlost",cr,!1),Un.addEventListener("webglcontextrestored",bt,!1));var vn=Fr.setFBO=lt({framebuffer:ye.define.call(null,1,"framebuffer")});return Wt(),dr=ae(lt,{clear:function(Mn){if("framebuffer"in Mn)if(Mn.framebuffer&&Mn.framebuffer_reglType==="framebufferCube")for(var Sn=0;6>Sn;++Sn)vn(ae({framebuffer:Mn.framebuffer.faces[Sn]},Mn),Mt);else vn(Mn,Mt);else Mt(null,Mn)},prop:ye.define.bind(null,1),context:ye.define.bind(null,2),this:ye.define.bind(null,3),draw:lt({}),buffer:function(Mn){return Vt.create(Mn,34962,!1,!1)},elements:function(Mn){return yr.create(Mn,!1)},texture:gr.create2D,cube:gr.createCube,renderbuffer:jr.create,framebuffer:Fr.create,framebufferCube:Fr.createCube,vao:wr.createVAO,attributes:dr,frame:_t,on:function(Mn,Sn){var Vn;switch(Mn){case"frame":return _t(Sn);case"lost":Vn=Pr;break;case"restore":Vn=Or;break;case"destroy":Vn=Qr}return Vn.push(Sn),{cancel:function(){for(var jn=0;jn<Vn.length;++jn)if(Vn[jn]===Sn){Vn[jn]=Vn[Vn.length-1],Vn.pop();break}}}},limits:or,hasExtension:function(Mn){return 0<=or.extensions.indexOf(Mn.toLowerCase())},read:wn,destroy:function(){Fn.length=0,Tr(),Un&&(Un.removeEventListener("webglcontextlost",cr),Un.removeEventListener("webglcontextrestored",bt)),Ar.clear(),Fr.clear(),jr.clear(),wr.clear(),gr.clear(),yr.clear(),Vt.clear(),Ut&&Ut.clear(),Qr.forEach(function(Mn){Mn()})},_gl:er,_refresh:Wt,poll:function(){It(),Ut&&Ut.update()},now:Gt,stats:mr,getCachedCode:function(){return Xe},preloadCachedCode:function(Mn){Object.entries(Mn).forEach(function(Sn){Xe[Sn[0]]=Sn[1]})}}),Tt.onDone(null,dr),dr}})},30456:function(H,U,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var p=e(33576),L=p.Buffer;function n(T,v){for(var g in T)v[g]=T[g]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?H.exports=p:(n(p,U),U.Buffer=C);function C(T,v,g){return L(T,v,g)}C.prototype=Object.create(L.prototype),n(L,C),C.from=function(T,v,g){if(typeof T=="number")throw new TypeError("Argument must not be a number");return L(T,v,g)},C.alloc=function(T,v,g){if(typeof T!="number")throw new TypeError("Argument must be a number");var r=L(T);return v!==void 0?typeof g=="string"?r.fill(v,g):r.fill(v):r.fill(0),r},C.allocUnsafe=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return L(T)},C.allocUnsafeSlow=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(T)}},14500:function(H,U,e){var p=e(53664),L=e(64348),n=e(39640)(),C=e(2304),T=p("%TypeError%"),v=p("%Math.floor%");H.exports=function(r,t){if(typeof r!="function")throw new T("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new T("`length` must be a positive 32-bit integer");var s=arguments.length>2&&!!arguments[2],a=!0,f=!0;if("length"in r&&C){var u=C(r,"length");u&&!u.configurable&&(a=!1),u&&!u.writable&&(f=!1)}return(a||f||!s)&&(n?L(r,"length",t,!0,!0):L(r,"length",t)),r}},29936:function(H,U,e){H.exports=n;var p=e(61252).EventEmitter,L=e(6768);L(n,p),n.Readable=e(12348),n.Writable=e(11288),n.Duplex=e(15316),n.Transform=e(22477),n.PassThrough=e(27136),n.finished=e(15932),n.pipeline=e(38180),n.Stream=n;function n(){p.call(this)}n.prototype.pipe=function(C,T){var v=this;function g(l){C.writable&&C.write(l)===!1&&v.pause&&v.pause()}v.on("data",g);function r(){v.readable&&v.resume&&v.resume()}C.on("drain",r),!C._isStdio&&(!T||T.end!==!1)&&(v.on("end",s),v.on("close",a));var t=!1;function s(){t||(t=!0,C.end())}function a(){t||(t=!0,typeof C.destroy=="function"&&C.destroy())}function f(l){if(u(),p.listenerCount(this,"error")===0)throw l}v.on("error",f),C.on("error",f);function u(){v.removeListener("data",g),C.removeListener("drain",r),v.removeListener("end",s),v.removeListener("close",a),v.removeListener("error",f),C.removeListener("error",f),v.removeListener("end",u),v.removeListener("close",u),C.removeListener("close",u)}return v.on("end",u),v.on("close",u),C.on("close",u),C.emit("pipe",v),C}},92784:function(H){function U(v,g){v.prototype=Object.create(g.prototype),v.prototype.constructor=v,v.__proto__=g}var e={};function p(v,g,r){r||(r=Error);function t(a,f,u){return typeof g=="string"?g:g(a,f,u)}var s=function(a){U(f,a);function f(u,l,m){return a.call(this,t(u,l,m))||this}return f}(r);s.prototype.name=r.name,s.prototype.code=v,e[v]=s}function L(v,g){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(g," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(g," ").concat(v[0]," or ").concat(v[1]):"of ".concat(g," ").concat(v[0])}else return"of ".concat(g," ").concat(String(v))}function n(v,g,r){return v.substr(!r||r<0?0:+r,g.length)===g}function C(v,g,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-g.length,r)===g}function T(v,g,r){return typeof r!="number"&&(r=0),r+g.length>v.length?!1:v.indexOf(g,r)!==-1}p("ERR_INVALID_OPT_VALUE",function(v,g){return'The value "'+g+'" is invalid for option "'+v+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(v,g,r){var t;typeof g=="string"&&n(g,"not ")?(t="must not be",g=g.replace(/^not /,"")):t="must be";var s;if(C(v," argument"))s="The ".concat(v," ").concat(t," ").concat(L(g,"type"));else{var a=T(v,".")?"property":"argument";s='The "'.concat(v,'" ').concat(a," ").concat(t," ").concat(L(g,"type"))}return s+=". Received type ".concat(typeof r),s},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),H.exports.i=e},15316:function(H,U,e){var p=e(4168),L=Object.keys||function(a){var f=[];for(var u in a)f.push(u);return f};H.exports=r;var n=e(12348),C=e(11288);e(6768)(r,n);for(var T=L(C.prototype),v=0;v<T.length;v++){var g=T[v];r.prototype[g]||(r.prototype[g]=C.prototype[g])}function r(a){if(!(this instanceof r))return new r(a);n.call(this,a),C.call(this,a),this.allowHalfOpen=!0,a&&(a.readable===!1&&(this.readable=!1),a.writable===!1&&(this.writable=!1),a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||p.nextTick(s,this)}function s(a){a.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},27136:function(H,U,e){H.exports=L;var p=e(22477);e(6768)(L,p);function L(n){if(!(this instanceof L))return new L(n);p.call(this,n)}L.prototype._transform=function(n,C,T){T(null,n)}},12348:function(H,U,e){var p=e(4168);H.exports=o;var L;o.ReadableState=w,e(61252).EventEmitter;var n=function(j,ue){return j.listeners(ue).length},C=e(4776),T=e(33576).Buffer,v=e.g.Uint8Array||function(){};function g($){return T.from($)}function r($){return T.isBuffer($)||$ instanceof v}var t=e(19768),s;t&&t.debuglog?s=t.debuglog("stream"):s=function(){};var a=e(47264),f=e(55324),u=e(24888),l=u.getHighWaterMark,m=e(92784).i,h=m.ERR_INVALID_ARG_TYPE,M=m.ERR_STREAM_PUSH_AFTER_EOF,c=m.ERR_METHOD_NOT_IMPLEMENTED,i=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,x,A;e(6768)(o,C);var E=f.errorOrDestroy,y=["error","close","destroy","pause","resume"];function S($,j,ue){if(typeof $.prependListener=="function")return $.prependListener(j,ue);!$._events||!$._events[j]?$.on(j,ue):Array.isArray($._events[j])?$._events[j].unshift(ue):$._events[j]=[ue,$._events[j]]}function w($,j,ue){L=L||e(15316),$=$||{},typeof ue!="boolean"&&(ue=j instanceof L),this.objectMode=!!$.objectMode,ue&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=l(this,$,"readableHighWaterMark",ue),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(d||(d=e(86032).o),this.decoder=new d($.encoding),this.encoding=$.encoding)}function o($){if(L=L||e(15316),!(this instanceof o))return new o($);var j=this instanceof L;this._readableState=new w($,this,j),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),C.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),o.prototype.destroy=f.destroy,o.prototype._undestroy=f.undestroy,o.prototype._destroy=function($,j){j($)},o.prototype.push=function($,j){var ue=this._readableState,ae;return ue.objectMode?ae=!0:typeof $=="string"&&(j=j||ue.defaultEncoding,j!==ue.encoding&&($=T.from($,j),j=""),ae=!0),_(this,$,j,!1,ae)},o.prototype.unshift=function($){return _(this,$,null,!0,!1)};function _($,j,ue,ae,ce){s("readableAddChunk",j);var ye=$._readableState;if(j===null)ye.reading=!1,z($,ye);else{var Ce;if(ce||(Ce=I(ye,j)),Ce)E($,Ce);else if(ye.objectMode||j&&j.length>0)if(typeof j!="string"&&!ye.objectMode&&Object.getPrototypeOf(j)!==T.prototype&&(j=g(j)),ae)ye.endEmitted?E($,new i):b($,ye,j,!0);else if(ye.ended)E($,new M);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!ue?(j=ye.decoder.write(j),ye.objectMode||j.length!==0?b($,ye,j,!1):B($,ye)):b($,ye,j,!1)}else ae||(ye.reading=!1,B($,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function b($,j,ue,ae){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,$.emit("data",ue)):(j.length+=j.objectMode?1:ue.length,ae?j.buffer.unshift(ue):j.buffer.push(ue),j.needReadable&&F($)),B($,j)}function I($,j){var ue;return!r(j)&&typeof j!="string"&&j!==void 0&&!$.objectMode&&(ue=new h("chunk",["string","Buffer","Uint8Array"],j)),ue}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function($){d||(d=e(86032).o);var j=new d($);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var ue=this._readableState.buffer.head,ae="";ue!==null;)ae+=j.write(ue.data),ue=ue.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};var D=1073741824;function N($){return $>=D?$=D:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function k($,j){return $<=0||j.length===0&&j.ended?0:j.objectMode?1:$!==$?j.flowing&&j.length?j.buffer.head.data.length:j.length:($>j.highWaterMark&&(j.highWaterMark=N($)),$<=j.length?$:j.ended?j.length:(j.needReadable=!0,0))}o.prototype.read=function($){s("read",$),$=parseInt($,10);var j=this._readableState,ue=$;if($!==0&&(j.emittedReadable=!1),$===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return s("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?X(this):F(this),null;if($=k($,j),$===0&&j.ended)return j.length===0&&X(this),null;var ae=j.needReadable;s("need readable",ae),(j.length===0||j.length-$<j.highWaterMark)&&(ae=!0,s("length less than watermark",ae)),j.ended||j.reading?(ae=!1,s("reading or ended",ae)):ae&&(s("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||($=k(ue,j)));var ce;return $>0?ce=re($,j):ce=null,ce===null?(j.needReadable=j.length<=j.highWaterMark,$=0):(j.length-=$,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),ue!==$&&j.ended&&X(this)),ce!==null&&this.emit("data",ce),ce};function z($,j){if(s("onEofChunk"),!j.ended){if(j.decoder){var ue=j.decoder.end();ue&&ue.length&&(j.buffer.push(ue),j.length+=j.objectMode?1:ue.length)}j.ended=!0,j.sync?F($):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,O($)))}}function F($){var j=$._readableState;s("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(s("emitReadable",j.flowing),j.emittedReadable=!0,p.nextTick(O,$))}function O($){var j=$._readableState;s("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&($.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,Y($)}function B($,j){j.readingMore||(j.readingMore=!0,p.nextTick(W,$,j))}function W($,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var ue=j.length;if(s("maybeReadMore read 0"),$.read(0),ue===j.length)break}j.readingMore=!1}o.prototype._read=function($){E(this,new c("_read()"))},o.prototype.pipe=function($,j){var ue=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=$;break;case 1:ae.pipes=[ae.pipes,$];break;default:ae.pipes.push($);break}ae.pipesCount+=1,s("pipe count=%d opts=%j",ae.pipesCount,j);var ce=(!j||j.end!==!1)&&$!==p.stdout&&$!==p.stderr,ye=ce?Ae:Fe;ae.endEmitted?p.nextTick(ye):ue.once("end",ye),$.on("unpipe",Ce);function Ce(We,ut){s("onunpipe"),We===ue&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,Le())}function Ae(){s("onend"),$.end()}var Ie=ee(ue);$.on("drain",Ie);var Te=!1;function Le(){s("cleanup"),$.removeListener("close",He),$.removeListener("finish",Ve),$.removeListener("drain",Ie),$.removeListener("error",Re),$.removeListener("unpipe",Ce),ue.removeListener("end",Ae),ue.removeListener("end",Fe),ue.removeListener("data",xe),Te=!0,ae.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&Ie()}ue.on("data",xe);function xe(We){s("ondata");var ut=$.write(We);s("dest.write",ut),ut===!1&&((ae.pipesCount===1&&ae.pipes===$||ae.pipesCount>1&&se(ae.pipes,$)!==-1)&&!Te&&(s("false write response, pause",ae.awaitDrain),ae.awaitDrain++),ue.pause())}function Re(We){s("onerror",We),Fe(),$.removeListener("error",Re),n($,"error")===0&&E($,We)}S($,"error",Re);function He(){$.removeListener("finish",Ve),Fe()}$.once("close",He);function Ve(){s("onfinish"),$.removeListener("close",He),Fe()}$.once("finish",Ve);function Fe(){s("unpipe"),ue.unpipe($)}return $.emit("pipe",ue),ae.flowing||(s("pipe resume"),ue.resume()),$};function ee($){return function(){var ue=$._readableState;s("pipeOnDrain",ue.awaitDrain),ue.awaitDrain&&ue.awaitDrain--,ue.awaitDrain===0&&n($,"data")&&(ue.flowing=!0,Y($))}}o.prototype.unpipe=function($){var j=this._readableState,ue={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return $&&$!==j.pipes?this:($||($=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,$&&$.emit("unpipe",this,ue),this);if(!$){var ae=j.pipes,ce=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var ye=0;ye<ce;ye++)ae[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Ce=se(j.pipes,$);return Ce===-1?this:(j.pipes.splice(Ce,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),$.emit("unpipe",this,ue),this)},o.prototype.on=function($,j){var ue=C.prototype.on.call(this,$,j),ae=this._readableState;return $==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):$==="readable"&&!ae.endEmitted&&!ae.readableListening&&(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,s("on readable",ae.length,ae.reading),ae.length?F(this):ae.reading||p.nextTick(Q,this)),ue},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function($,j){var ue=C.prototype.removeListener.call(this,$,j);return $==="readable"&&p.nextTick(ne,this),ue},o.prototype.removeAllListeners=function($){var j=C.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&p.nextTick(ne,this),j};function ne($){var j=$._readableState;j.readableListening=$.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:$.listenerCount("data")>0&&$.resume()}function Q($){s("readable nexttick read 0"),$.read(0)}o.prototype.resume=function(){var $=this._readableState;return $.flowing||(s("resume"),$.flowing=!$.readableListening,le(this,$)),$.paused=!1,this};function le($,j){j.resumeScheduled||(j.resumeScheduled=!0,p.nextTick(Z,$,j))}function Z($,j){s("resume",j.reading),j.reading||$.read(0),j.resumeScheduled=!1,$.emit("resume"),Y($),j.flowing&&!j.reading&&$.read(0)}o.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Y($){var j=$._readableState;for(s("flow",j.flowing);j.flowing&&$.read()!==null;);}o.prototype.wrap=function($){var j=this,ue=this._readableState,ae=!1;$.on("end",function(){if(s("wrapped end"),ue.decoder&&!ue.ended){var Ce=ue.decoder.end();Ce&&Ce.length&&j.push(Ce)}j.push(null)}),$.on("data",function(Ce){if(s("wrapped data"),ue.decoder&&(Ce=ue.decoder.write(Ce)),!(ue.objectMode&&Ce==null)&&!(!ue.objectMode&&(!Ce||!Ce.length))){var Ae=j.push(Ce);Ae||(ae=!0,$.pause())}});for(var ce in $)this[ce]===void 0&&typeof $[ce]=="function"&&(this[ce]=function(Ae){return function(){return $[Ae].apply($,arguments)}}(ce));for(var ye=0;ye<y.length;ye++)$.on(y[ye],this.emit.bind(this,y[ye]));return this._read=function(Ce){s("wrapped _read",Ce),ae&&(ae=!1,$.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e(60328)),x(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),o._fromList=re,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function re($,j){if(j.length===0)return null;var ue;return j.objectMode?ue=j.buffer.shift():!$||$>=j.length?(j.decoder?ue=j.buffer.join(""):j.buffer.length===1?ue=j.buffer.first():ue=j.buffer.concat(j.length),j.buffer.clear()):ue=j.buffer.consume($,j.decoder),ue}function X($){var j=$._readableState;s("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,p.nextTick(q,j,$))}function q($,j){if(s("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,j.readable=!1,j.emit("end"),$.autoDestroy)){var ue=j._writableState;(!ue||ue.autoDestroy&&ue.finished)&&j.destroy()}}typeof Symbol=="function"&&(o.from=function($,j){return A===void 0&&(A=e(90555)),A(o,$,j)});function se($,j){for(var ue=0,ae=$.length;ue<ae;ue++)if($[ue]===j)return ue;return-1}},22477:function(H,U,e){H.exports=r;var p=e(92784).i,L=p.ERR_METHOD_NOT_IMPLEMENTED,n=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,T=p.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function g(a,f){var u=this._transformState;u.transforming=!1;var l=u.writecb;if(l===null)return this.emit("error",new n);u.writechunk=null,u.writecb=null,f!=null&&this.push(f),l(a);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function r(a){if(!(this instanceof r))return new r(a);v.call(this,a),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",t)}function t(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,u){s(a,f,u)}):s(this,null,null)}r.prototype.push=function(a,f){return this._transformState.needTransform=!1,v.prototype.push.call(this,a,f)},r.prototype._transform=function(a,f,u){u(new L("_transform()"))},r.prototype._write=function(a,f,u){var l=this._transformState;if(l.writecb=u,l.writechunk=a,l.writeencoding=f,!l.transforming){var m=this._readableState;(l.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},r.prototype._read=function(a){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},r.prototype._destroy=function(a,f){v.prototype._destroy.call(this,a,function(u){f(u)})};function s(a,f,u){if(f)return a.emit("error",f);if(u!=null&&a.push(u),a._writableState.length)throw new T;if(a._transformState.transforming)throw new C;return a.push(null)}},11288:function(H,U,e){var p=e(4168);H.exports=w;function L(Y){var re=this;this.next=null,this.entry=null,this.finish=function(){Z(re,Y)}}var n;w.WritableState=y;var C={deprecate:e(96656)},T=e(4776),v=e(33576).Buffer,g=e.g.Uint8Array||function(){};function r(Y){return v.from(Y)}function t(Y){return v.isBuffer(Y)||Y instanceof g}var s=e(55324),a=e(24888),f=a.getHighWaterMark,u=e(92784).i,l=u.ERR_INVALID_ARG_TYPE,m=u.ERR_METHOD_NOT_IMPLEMENTED,h=u.ERR_MULTIPLE_CALLBACK,M=u.ERR_STREAM_CANNOT_PIPE,c=u.ERR_STREAM_DESTROYED,i=u.ERR_STREAM_NULL_VALUES,d=u.ERR_STREAM_WRITE_AFTER_END,x=u.ERR_UNKNOWN_ENCODING,A=s.errorOrDestroy;e(6768)(w,T);function E(){}function y(Y,re,X){n=n||e(15316),Y=Y||{},typeof X!="boolean"&&(X=re instanceof n),this.objectMode=!!Y.objectMode,X&&(this.objectMode=this.objectMode||!!Y.writableObjectMode),this.highWaterMark=f(this,Y,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=Y.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){z(re,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}y.prototype.getBuffer=function(){for(var re=this.bufferedRequest,X=[];re;)X.push(re),re=re.next;return X},function(){try{Object.defineProperty(y.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(re){return S.call(this,re)?!0:this!==w?!1:re&&re._writableState instanceof y}})):S=function(re){return re instanceof this};function w(Y){n=n||e(15316);var re=this instanceof n;if(!re&&!S.call(w,this))return new w(Y);this._writableState=new y(Y,this,re),this.writable=!0,Y&&(typeof Y.write=="function"&&(this._write=Y.write),typeof Y.writev=="function"&&(this._writev=Y.writev),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.final=="function"&&(this._final=Y.final)),T.call(this)}w.prototype.pipe=function(){A(this,new M)};function o(Y,re){var X=new d;A(Y,X),p.nextTick(re,X)}function _(Y,re,X,q){var se;return X===null?se=new i:typeof X!="string"&&!re.objectMode&&(se=new l("chunk",["string","Buffer"],X)),se?(A(Y,se),p.nextTick(q,se),!1):!0}w.prototype.write=function(Y,re,X){var q=this._writableState,se=!1,$=!q.objectMode&&t(Y);return $&&!v.isBuffer(Y)&&(Y=r(Y)),typeof re=="function"&&(X=re,re=null),$?re="buffer":re||(re=q.defaultEncoding),typeof X!="function"&&(X=E),q.ending?o(this,X):($||_(this,q,Y,X))&&(q.pendingcb++,se=I(this,q,$,Y,re,X)),se},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var Y=this._writableState;Y.corked&&(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&B(this,Y))},w.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((re+"").toLowerCase())>-1))throw new x(re);return this._writableState.defaultEncoding=re,this},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(Y,re,X){return!Y.objectMode&&Y.decodeStrings!==!1&&typeof re=="string"&&(re=v.from(re,X)),re}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(Y,re,X,q,se,$){if(!X){var j=b(re,q,se);q!==j&&(X=!0,se="buffer",q=j)}var ue=re.objectMode?1:q.length;re.length+=ue;var ae=re.length<re.highWaterMark;if(ae||(re.needDrain=!0),re.writing||re.corked){var ce=re.lastBufferedRequest;re.lastBufferedRequest={chunk:q,encoding:se,isBuf:X,callback:$,next:null},ce?ce.next=re.lastBufferedRequest:re.bufferedRequest=re.lastBufferedRequest,re.bufferedRequestCount+=1}else D(Y,re,!1,ue,q,se,$);return ae}function D(Y,re,X,q,se,$,j){re.writelen=q,re.writecb=j,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new c("write")):X?Y._writev(se,re.onwrite):Y._write(se,$,re.onwrite),re.sync=!1}function N(Y,re,X,q,se){--re.pendingcb,X?(p.nextTick(se,q),p.nextTick(Q,Y,re),Y._writableState.errorEmitted=!0,A(Y,q)):(se(q),Y._writableState.errorEmitted=!0,A(Y,q),Q(Y,re))}function k(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function z(Y,re){var X=Y._writableState,q=X.sync,se=X.writecb;if(typeof se!="function")throw new h;if(k(X),re)N(Y,X,q,re,se);else{var $=W(X)||Y.destroyed;!$&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&B(Y,X),q?p.nextTick(F,Y,X,$,se):F(Y,X,$,se)}}function F(Y,re,X,q){X||O(Y,re),re.pendingcb--,q(),Q(Y,re)}function O(Y,re){re.length===0&&re.needDrain&&(re.needDrain=!1,Y.emit("drain"))}function B(Y,re){re.bufferProcessing=!0;var X=re.bufferedRequest;if(Y._writev&&X&&X.next){var q=re.bufferedRequestCount,se=new Array(q),$=re.corkedRequestsFree;$.entry=X;for(var j=0,ue=!0;X;)se[j]=X,X.isBuf||(ue=!1),X=X.next,j+=1;se.allBuffers=ue,D(Y,re,!0,re.length,se,"",$.finish),re.pendingcb++,re.lastBufferedRequest=null,$.next?(re.corkedRequestsFree=$.next,$.next=null):re.corkedRequestsFree=new L(re),re.bufferedRequestCount=0}else{for(;X;){var ae=X.chunk,ce=X.encoding,ye=X.callback,Ce=re.objectMode?1:ae.length;if(D(Y,re,!1,Ce,ae,ce,ye),X=X.next,re.bufferedRequestCount--,re.writing)break}X===null&&(re.lastBufferedRequest=null)}re.bufferedRequest=X,re.bufferProcessing=!1}w.prototype._write=function(Y,re,X){X(new m("_write()"))},w.prototype._writev=null,w.prototype.end=function(Y,re,X){var q=this._writableState;return typeof Y=="function"?(X=Y,Y=null,re=null):typeof re=="function"&&(X=re,re=null),Y!=null&&this.write(Y,re),q.corked&&(q.corked=1,this.uncork()),q.ending||le(this,q,X),this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function ee(Y,re){Y._final(function(X){re.pendingcb--,X&&A(Y,X),re.prefinished=!0,Y.emit("prefinish"),Q(Y,re)})}function ne(Y,re){!re.prefinished&&!re.finalCalled&&(typeof Y._final=="function"&&!re.destroyed?(re.pendingcb++,re.finalCalled=!0,p.nextTick(ee,Y,re)):(re.prefinished=!0,Y.emit("prefinish")))}function Q(Y,re){var X=W(re);if(X&&(ne(Y,re),re.pendingcb===0&&(re.finished=!0,Y.emit("finish"),re.autoDestroy))){var q=Y._readableState;(!q||q.autoDestroy&&q.endEmitted)&&Y.destroy()}return X}function le(Y,re,X){re.ending=!0,Q(Y,re),X&&(re.finished?p.nextTick(X):Y.once("finish",X)),re.ended=!0,Y.writable=!1}function Z(Y,re,X){var q=Y.entry;for(Y.entry=null;q;){var se=q.callback;re.pendingcb--,se(X),q=q.next}re.corkedRequestsFree.next=Y}Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(re){this._writableState&&(this._writableState.destroyed=re)}}),w.prototype.destroy=s.destroy,w.prototype._undestroy=s.undestroy,w.prototype._destroy=function(Y,re){re(Y)}},60328:function(H,U,e){var p=e(4168),L;function n(i,d,x){return d in i?Object.defineProperty(i,d,{value:x,enumerable:!0,configurable:!0,writable:!0}):i[d]=x,i}var C=e(15932),T=Symbol("lastResolve"),v=Symbol("lastReject"),g=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),s=Symbol("handlePromise"),a=Symbol("stream");function f(i,d){return{value:i,done:d}}function u(i){var d=i[T];if(d!==null){var x=i[a].read();x!==null&&(i[t]=null,i[T]=null,i[v]=null,d(f(x,!1)))}}function l(i){p.nextTick(u,i)}function m(i,d){return function(x,A){i.then(function(){if(d[r]){x(f(void 0,!0));return}d[s](x,A)},A)}}var h=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((L={get stream(){return this[a]},next:function(){var d=this,x=this[g];if(x!==null)return Promise.reject(x);if(this[r])return Promise.resolve(f(void 0,!0));if(this[a].destroyed)return new Promise(function(S,w){p.nextTick(function(){d[g]?w(d[g]):S(f(void 0,!0))})});var A=this[t],E;if(A)E=new Promise(m(A,this));else{var y=this[a].read();if(y!==null)return Promise.resolve(f(y,!1));E=new Promise(this[s])}return this[t]=E,E}},n(L,Symbol.asyncIterator,function(){return this}),n(L,"return",function(){var d=this;return new Promise(function(x,A){d[a].destroy(null,function(E){if(E){A(E);return}x(f(void 0,!0))})})}),L),h),c=function(d){var x,A=Object.create(M,(x={},n(x,a,{value:d,writable:!0}),n(x,T,{value:null,writable:!0}),n(x,v,{value:null,writable:!0}),n(x,g,{value:null,writable:!0}),n(x,r,{value:d._readableState.endEmitted,writable:!0}),n(x,s,{value:function(y,S){var w=A[a].read();w?(A[t]=null,A[T]=null,A[v]=null,y(f(w,!1))):(A[T]=y,A[v]=S)},writable:!0}),x));return A[t]=null,C(d,function(E){if(E&&E.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=A[v];y!==null&&(A[t]=null,A[T]=null,A[v]=null,y(E)),A[g]=E;return}var S=A[T];S!==null&&(A[t]=null,A[T]=null,A[v]=null,S(f(void 0,!0))),A[r]=!0}),d.on("readable",l.bind(null,A)),A};H.exports=c},47264:function(H,U,e){function p(u,l){var m=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);l&&(h=h.filter(function(M){return Object.getOwnPropertyDescriptor(u,M).enumerable})),m.push.apply(m,h)}return m}function L(u){for(var l=1;l<arguments.length;l++){var m=arguments[l]!=null?arguments[l]:{};l%2?p(Object(m),!0).forEach(function(h){n(u,h,m[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(m)):p(Object(m)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(m,h))})}return u}function n(u,l,m){return l in u?Object.defineProperty(u,l,{value:m,enumerable:!0,configurable:!0,writable:!0}):u[l]=m,u}function C(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function T(u,l){for(var m=0;m<l.length;m++){var h=l[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function v(u,l,m){return l&&T(u.prototype,l),m&&T(u,m),u}var g=e(33576),r=g.Buffer,t=e(21576),s=t.inspect,a=s&&s.custom||"inspect";function f(u,l,m){r.prototype.copy.call(u,l,m)}H.exports=function(){function u(){C(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(m){var h={data:m,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(m){var h={data:m,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var h=this.head,M=""+h.data;h=h.next;)M+=m+h.data;return M}},{key:"concat",value:function(m){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(m>>>0),M=this.head,c=0;M;)f(M.data,h,c),c+=M.data.length,M=M.next;return h}},{key:"consume",value:function(m,h){var M;return m<this.head.data.length?(M=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?M=this.shift():M=h?this._getString(m):this._getBuffer(m),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var h=this.head,M=1,c=h.data;for(m-=c.length;h=h.next;){var i=h.data,d=m>i.length?i.length:m;if(d===i.length?c+=i:c+=i.slice(0,m),m-=d,m===0){d===i.length?(++M,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=i.slice(d));break}++M}return this.length-=M,c}},{key:"_getBuffer",value:function(m){var h=r.allocUnsafe(m),M=this.head,c=1;for(M.data.copy(h),m-=M.data.length;M=M.next;){var i=M.data,d=m>i.length?i.length:m;if(i.copy(h,h.length-m,0,d),m-=d,m===0){d===i.length?(++c,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=i.slice(d));break}++c}return this.length-=c,h}},{key:a,value:function(m,h){return s(this,L({},h,{depth:0,customInspect:!1}))}}]),u}()},55324:function(H,U,e){var p=e(4168);function L(r,t){var s=this,a=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return a||f?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(v,this,r)):p.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?s._writableState?s._writableState.errorEmitted?p.nextTick(C,s):(s._writableState.errorEmitted=!0,p.nextTick(n,s,u)):p.nextTick(n,s,u):t?(p.nextTick(C,s),t(u)):p.nextTick(C,s)}),this)}function n(r,t){v(r,t),C(r)}function C(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function g(r,t){var s=r._readableState,a=r._writableState;s&&s.autoDestroy||a&&a.autoDestroy?r.destroy(t):r.emit("error",t)}H.exports={destroy:L,undestroy:T,errorOrDestroy:g}},15932:function(H,U,e){var p=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function L(v){var g=!1;return function(){if(!g){g=!0;for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];v.apply(this,t)}}}function n(){}function C(v){return v.setHeader&&typeof v.abort=="function"}function T(v,g,r){if(typeof g=="function")return T(v,null,g);g||(g={}),r=L(r||n);var t=g.readable||g.readable!==!1&&v.readable,s=g.writable||g.writable!==!1&&v.writable,a=function(){v.writable||u()},f=v._writableState&&v._writableState.finished,u=function(){s=!1,f=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,m=function(){t=!1,l=!0,s||r.call(v)},h=function(d){r.call(v,d)},M=function(){var d;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(d=new p),r.call(v,d);if(s&&!f)return(!v._writableState||!v._writableState.ended)&&(d=new p),r.call(v,d)},c=function(){v.req.on("finish",u)};return C(v)?(v.on("complete",u),v.on("abort",M),v.req?c():v.on("request",c)):s&&!v._writableState&&(v.on("end",a),v.on("close",a)),v.on("end",m),v.on("finish",u),g.error!==!1&&v.on("error",h),v.on("close",M),function(){v.removeListener("complete",u),v.removeListener("abort",M),v.removeListener("request",c),v.req&&v.req.removeListener("finish",u),v.removeListener("end",a),v.removeListener("close",a),v.removeListener("finish",u),v.removeListener("end",m),v.removeListener("error",h),v.removeListener("close",M)}}H.exports=T},90555:function(H){H.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(H,U,e){var p;function L(u){var l=!1;return function(){l||(l=!0,u.apply(void 0,arguments))}}var n=e(92784).i,C=n.ERR_MISSING_ARGS,T=n.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function g(u){return u.setHeader&&typeof u.abort=="function"}function r(u,l,m,h){h=L(h);var M=!1;u.on("close",function(){M=!0}),p===void 0&&(p=e(15932)),p(u,{readable:l,writable:m},function(i){if(i)return h(i);M=!0,h()});var c=!1;return function(i){if(!M&&!c){if(c=!0,g(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();h(i||new T("pipe"))}}}function t(u){u()}function s(u,l){return u.pipe(l)}function a(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function f(){for(var u=arguments.length,l=new Array(u),m=0;m<u;m++)l[m]=arguments[m];var h=a(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new C("streams");var M,c=l.map(function(i,d){var x=d<l.length-1,A=d>0;return r(i,x,A,function(E){M||(M=E),E&&c.forEach(t),!x&&(c.forEach(t),h(M))})});return l.reduce(s)}H.exports=f},24888:function(H,U,e){var p=e(92784).i.ERR_INVALID_OPT_VALUE;function L(C,T,v){return C.highWaterMark!=null?C.highWaterMark:T?C[v]:null}function n(C,T,v,g){var r=L(T,g,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=g?v:"highWaterMark";throw new p(t,r)}return Math.floor(r)}return C.objectMode?16:16384}H.exports={getHighWaterMark:n}},4776:function(H,U,e){H.exports=e(61252).EventEmitter},86032:function(H,U,e){var p=e(30456).Buffer,L=p.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(c){if(!c)return"utf8";for(var i;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(i)return;c=(""+c).toLowerCase(),i=!0}}function C(c){var i=n(c);if(typeof i!="string"&&(p.isEncoding===L||!L(c)))throw new Error("Unknown encoding: "+c);return i||c}U.o=T;function T(c){this.encoding=C(c);var i;switch(this.encoding){case"utf16le":this.text=f,this.end=u,i=4;break;case"utf8":this.fillLast=t,i=4;break;case"base64":this.text=l,this.end=m,i=3;break;default:this.write=h,this.end=M;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(i)}T.prototype.write=function(c){if(c.length===0)return"";var i,d;if(this.lastNeed){if(i=this.fillLast(c),i===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<c.length?i?i+this.text(c,d):this.text(c,d):i||""},T.prototype.end=a,T.prototype.text=s,T.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function g(c,i,d){var x=i.length-1;if(x<d)return 0;var A=v(i[x]);return A>=0?(A>0&&(c.lastNeed=A-1),A):--x<d||A===-2?0:(A=v(i[x]),A>=0?(A>0&&(c.lastNeed=A-2),A):--x<d||A===-2?0:(A=v(i[x]),A>=0?(A>0&&(A===2?A=0:c.lastNeed=A-3),A):0))}function r(c,i,d){if((i[0]&192)!==128)return c.lastNeed=0,"";if(c.lastNeed>1&&i.length>1){if((i[1]&192)!==128)return c.lastNeed=1,"";if(c.lastNeed>2&&i.length>2&&(i[2]&192)!==128)return c.lastNeed=2,""}}function t(c){var i=this.lastTotal-this.lastNeed,d=r(this,c);if(d!==void 0)return d;if(this.lastNeed<=c.length)return c.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,i,0,c.length),this.lastNeed-=c.length}function s(c,i){var d=g(this,c,i);if(!this.lastNeed)return c.toString("utf8",i);this.lastTotal=d;var x=c.length-(d-this.lastNeed);return c.copy(this.lastChar,0,x),c.toString("utf8",i,x)}function a(c){var i=c&&c.length?this.write(c):"";return this.lastNeed?i+"":i}function f(c,i){if((c.length-i)%2===0){var d=c.toString("utf16le",i);if(d){var x=d.charCodeAt(d.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",i,c.length-1)}function u(c){var i=c&&c.length?this.write(c):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return i+this.lastChar.toString("utf16le",0,d)}return i}function l(c,i){var d=(c.length-i)%3;return d===0?c.toString("base64",i):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",i,c.length-d))}function m(c){var i=c&&c.length?this.write(c):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function h(c){return c.toString(this.encoding)}function M(c){return c&&c.length?this.write(c):""}},55619:function(H,U,e){var p=e(45408),L=e(86844)("stream-parser");H.exports=g;var n=-1,C=0,T=1,v=2;function g(c){var i=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!i&&!d)throw new Error("must pass a Writable or Transform stream in");L("extending Parser into stream"),c._bytes=t,c._skipBytes=s,i&&(c._passthrough=a),i?c._transform=u:c._write=f}function r(c){L("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=n,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,i){p(!this._parserCallback,'there is already a "callback" set!'),p(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),L("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=C}function s(c,i){p(!this._parserCallback,'there is already a "callback" set!'),p(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),L("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=T}function a(c,i){p(!this._parserCallback,'There is already a "callback" set!'),p(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),L("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=v}function f(c,i,d){this._parserInit||r(this),L("write(%o bytes)",c.length),typeof i=="function"&&(d=i),h(this,c,null,d)}function u(c,i,d){this._parserInit||r(this),L("transform(%o bytes)",c.length),typeof i!="function"&&(i=this._parserOutput),h(this,c,i,d)}function l(c,i,d,x){return c._parserBytesLeft<=0?x(new Error("got data but not currently parsing anything")):i.length<=c._parserBytesLeft?function(){return m(c,i,d,x)}:function(){var A=i.slice(0,c._parserBytesLeft);return m(c,A,d,function(E){if(E)return x(E);if(i.length>A.length)return function(){return l(c,i.slice(A.length),d,x)}})}}function m(c,i,d,x){if(c._parserBytesLeft-=i.length,L("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===C?(c._parserBuffers.push(i),c._parserBuffered+=i.length):c._parserState===v&&d(i),c._parserBytesLeft===0){var A=c._parserCallback;if(A&&c._parserState===C&&c._parserBuffers.length>1&&(i=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==C&&(i=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=n,c._parserBuffers.splice(0),A){var E=[];i&&E.push(i),d&&E.push(d);var y=A.length>E.length;y&&E.push(M(x));var S=A.apply(c,E);if(!y||x===S)return x}}else return x}var h=M(l);function M(c){return function(){for(var i=c.apply(this,arguments);typeof i=="function";)i=i();return i}}},86844:function(H,U,e){var p=e(4168);U=H.exports=e(89416),U.log=C,U.formatArgs=n,U.save=T,U.load=v,U.useColors=L,U.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),U.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function L(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}U.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function n(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+U.humanize(this.diff),!!t){var s="color: "+this.color;r.splice(1,0,s,"color: inherit");var a=0,f=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(a++,u==="%c"&&(f=a))}),r.splice(f,0,s)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function T(r){try{r==null?U.storage.removeItem("debug"):U.storage.debug=r}catch{}}function v(){var r;try{r=U.storage.debug}catch{}return!r&&typeof p<"u"&&"env"in p&&(r=p.env.DEBUG),r}U.enable(v());function g(){try{return window.localStorage}catch{}}},89416:function(H,U,e){U=H.exports=n.debug=n.default=n,U.coerce=g,U.disable=T,U.enable=C,U.enabled=v,U.humanize=e(93744),U.names=[],U.skips=[],U.formatters={};var p;function L(r){var t=0,s;for(s in r)t=(t<<5)-t+r.charCodeAt(s),t|=0;return U.colors[Math.abs(t)%U.colors.length]}function n(r){function t(){if(t.enabled){var s=t,a=+new Date,f=a-(p||a);s.diff=f,s.prev=p,s.curr=a,p=a;for(var u=new Array(arguments.length),l=0;l<u.length;l++)u[l]=arguments[l];u[0]=U.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var m=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(M,c){if(M==="%%")return M;m++;var i=U.formatters[c];if(typeof i=="function"){var d=u[m];M=i.call(s,d),u.splice(m,1),m--}return M}),U.formatArgs.call(s,u);var h=t.log||U.log||console.log.bind(console);h.apply(s,u)}}return t.namespace=r,t.enabled=U.enabled(r),t.useColors=U.useColors(),t.color=L(r),typeof U.init=="function"&&U.init(t),t}function C(r){U.save(r),U.names=[],U.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),s=t.length,a=0;a<s;a++)t[a]&&(r=t[a].replace(/\*/g,".*?"),r[0]==="-"?U.skips.push(new RegExp("^"+r.substr(1)+"$")):U.names.push(new RegExp("^"+r+"$")))}function T(){U.enable("")}function v(r){var t,s;for(t=0,s=U.skips.length;t<s;t++)if(U.skips[t].test(r))return!1;for(t=0,s=U.names.length;t<s;t++)if(U.names[t].test(r))return!0;return!1}function g(r){return r instanceof Error?r.stack||r.message:r}},93744:function(H){var U=1e3,e=U*60,p=e*60,L=p*24,n=L*365.25;H.exports=function(r,t){t=t||{};var s=typeof r;if(s==="string"&&r.length>0)return C(r);if(s==="number"&&isNaN(r)===!1)return t.long?v(r):T(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function C(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var s=parseFloat(t[1]),a=(t[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return s*n;case"days":case"day":case"d":return s*L;case"hours":case"hour":case"hrs":case"hr":case"h":return s*p;case"minutes":case"minute":case"mins":case"min":case"m":return s*e;case"seconds":case"second":case"secs":case"sec":case"s":return s*U;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function T(r){return r>=L?Math.round(r/L)+"d":r>=p?Math.round(r/p)+"h":r>=e?Math.round(r/e)+"m":r>=U?Math.round(r/U)+"s":r+"ms"}function v(r){return g(r,L,"day")||g(r,p,"hour")||g(r,e,"minute")||g(r,U,"second")||r+" ms"}function g(r,t,s){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+s:Math.ceil(r/t)+" "+s+"s"}},39956:function(H,U,e){var p=e(32868);H.exports=function(n,C,T){if(n==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");T?(typeof T=="string"||Array.isArray(T))&&(T={ignore:T}):T={},T.escape==null&&(T.escape=!0),T.ignore==null?T.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof T.ignore=="string"&&(T.ignore=[T.ignore]),T.ignore=T.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=p.parse(n,{flat:!0,brackets:T.ignore}),g=v[0],r=g.split(C);if(T.escape){for(var t=[],s=0;s<r.length;s++){var a=r[s],f=r[s+1];a[a.length-1]==="\\"&&a[a.length-2]!=="\\"?(t.push(a+C+f),s++):t.push(a)}r=t}for(var s=0;s<r.length;s++)v[0]=r[s],r[s]=p.stringify(v,{flat:!0});return r}},78484:function(H){H.exports=U;function U(e){for(var p=e.length,L=new Array(p),n=new Array(p),C=new Array(p),T=new Array(p),v=new Array(p),g=new Array(p),r=0;r<p;++r)L[r]=-1,n[r]=0,C[r]=!1,T[r]=0,v[r]=-1,g[r]=[];var t=0,s=[],a=[];function f(h){var M=[h],c=[h];for(L[h]=n[h]=t,C[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var i=e[h];if(T[h]<i.length){for(var d=T[h];d<i.length;++d){var x=i[d];if(L[x]<0){L[x]=n[x]=t,C[x]=!0,t+=1,M.push(x),c.push(x);break}else C[x]&&(n[h]=Math.min(n[h],n[x])|0);v[x]>=0&&g[h].push(v[x])}T[h]=d}else{if(n[h]===L[h]){for(var A=[],E=[],y=0,d=M.length-1;d>=0;--d){var S=M[d];if(C[S]=!1,A.push(S),E.push(g[S]),y+=g[S].length,v[S]=s.length,S===h){M.length=d;break}}s.push(A);for(var w=new Array(y),d=0;d<E.length;d++)for(var o=0;o<E[d].length;o++)w[--y]=E[d][o];a.push(w)}c.pop()}}}for(var r=0;r<p;++r)L[r]<0&&f(r);for(var u,r=0;r<a.length;r++){var l=a[r];if(l.length!==0){l.sort(function(M,c){return M-c}),u=[l[0]];for(var m=1;m<l.length;m++)l[m]!==l[m-1]&&u.push(l[m]);a[r]=u}}return{components:s,adjacencyList:a}}},92848:function(H,U,e){e.r(U);var p=function(){function r(t,s){var a=[],f=!0,u=!1,l=void 0;try{for(var m=t[Symbol.iterator](),h;!(f=(h=m.next()).done)&&(a.push(h.value),!(s&&a.length===s));f=!0);}catch(M){u=!0,l=M}finally{try{!f&&m.return&&m.return()}finally{if(u)throw l}}return a}return function(t,s){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=Math.PI*2,n=function(t,s,a,f,u,l,m){var h=t.x,M=t.y;h*=s,M*=a;var c=f*h-u*M,i=u*h+f*M;return{x:c+l,y:i+m}},C=function(t,s){var a=s===1.5707963267948966?.551915024494:s===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(s/4),f=Math.cos(t),u=Math.sin(t),l=Math.cos(t+s),m=Math.sin(t+s);return[{x:f-u*a,y:u+f*a},{x:l+m*a,y:m-l*a},{x:l,y:m}]},T=function(t,s,a,f){var u=t*f-s*a<0?-1:1,l=t*a+s*f;return l>1&&(l=1),l<-1&&(l=-1),u*Math.acos(l)},v=function(t,s,a,f,u,l,m,h,M,c,i,d){var x=Math.pow(u,2),A=Math.pow(l,2),E=Math.pow(i,2),y=Math.pow(d,2),S=x*A-x*y-A*E;S<0&&(S=0),S/=x*y+A*E,S=Math.sqrt(S)*(m===h?-1:1);var w=S*u/l*d,o=S*-l/u*i,_=c*w-M*o+(t+a)/2,b=M*w+c*o+(s+f)/2,I=(i-w)/u,D=(d-o)/l,N=(-i-w)/u,k=(-d-o)/l,z=T(1,0,I,D),F=T(I,D,N,k);return h===0&&F>0&&(F-=L),h===1&&F<0&&(F+=L),[_,b,z,F]},g=function(t){var s=t.px,a=t.py,f=t.cx,u=t.cy,l=t.rx,m=t.ry,h=t.xAxisRotation,M=h===void 0?0:h,c=t.largeArcFlag,i=c===void 0?0:c,d=t.sweepFlag,x=d===void 0?0:d,A=[];if(l===0||m===0)return[];var E=Math.sin(M*L/360),y=Math.cos(M*L/360),S=y*(s-f)/2+E*(a-u)/2,w=-E*(s-f)/2+y*(a-u)/2;if(S===0&&w===0)return[];l=Math.abs(l),m=Math.abs(m);var o=Math.pow(S,2)/Math.pow(l,2)+Math.pow(w,2)/Math.pow(m,2);o>1&&(l*=Math.sqrt(o),m*=Math.sqrt(o));var _=v(s,a,f,u,l,m,i,x,E,y,S,w),b=p(_,4),I=b[0],D=b[1],N=b[2],k=b[3],z=Math.abs(k)/(L/4);Math.abs(1-z)<1e-7&&(z=1);var F=Math.max(Math.ceil(z),1);k/=F;for(var O=0;O<F;O++)A.push(C(N,k)),N+=k;return A.map(function(B){var W=n(B[0],l,m,y,E,I,D),ee=W.x,ne=W.y,Q=n(B[1],l,m,y,E,I,D),le=Q.x,Z=Q.y,Y=n(B[2],l,m,y,E,I,D),re=Y.x,X=Y.y;return{x1:ee,y1:ne,x2:le,y2:Z,x:re,y:X}})};U.default=g},74840:function(H,U,e){var p=e(21984),L=e(49972),n=e(41976),C=e(53520),T=e(45408);H.exports=v;function v(g){if(Array.isArray(g)&&g.length===1&&typeof g[0]=="string"&&(g=g[0]),typeof g=="string"&&(T(C(g),"String is not an SVG path."),g=p(g)),T(Array.isArray(g),"Argument should be a string or an array of path segments."),g=L(g),g=n(g),!g.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,s=g.length;t<s;t++)for(var a=g[t].slice(1),f=0;f<a.length;f+=2)a[f+0]<r[0]&&(r[0]=a[f+0]),a[f+1]<r[1]&&(r[1]=a[f+1]),a[f+0]>r[2]&&(r[2]=a[f+0]),a[f+1]>r[3]&&(r[3]=a[f+1]);return r}},41976:function(H,U,e){H.exports=L;var p=e(92848);function L(T){for(var v,g=[],r=0,t=0,s=0,a=0,f=null,u=null,l=0,m=0,h=0,M=T.length;h<M;h++){var c=T[h],i=c[0];switch(i){case"M":s=c[1],a=c[2];break;case"A":var d=p({px:l,py:m,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!d.length)continue;for(var x=0,A;x<d.length;x++)A=d[x],c=["C",A.x1,A.y1,A.x2,A.y2,A.x,A.y],x<d.length-1&&g.push(c);break;case"S":var E=l,y=m;(v=="C"||v=="S")&&(E+=E-r,y+=y-t),c=["C",E,y,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(f=l*2-f,u=m*2-u):(f=l,u=m),c=C(l,m,f,u,c[1],c[2]);break;case"Q":f=c[1],u=c[2],c=C(l,m,c[1],c[2],c[3],c[4]);break;case"L":c=n(l,m,c[1],c[2]);break;case"H":c=n(l,m,c[1],m);break;case"V":c=n(l,m,l,c[1]);break;case"Z":c=n(l,m,s,a);break}v=i,l=c[c.length-2],m=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=l,t=m),g.push(c)}return g}function n(T,v,g,r){return["C",T,v,g,r,g,r]}function C(T,v,g,r,t,s){return["C",T/3+.6666666666666666*g,v/3+.6666666666666666*r,t/3+.6666666666666666*g,s/3+.6666666666666666*r,t,s]}},20472:function(H,U,e){var p=e(74840),L=e(21984),n=e(22235),C=e(53520),T=e(29620),v=document.createElement("canvas"),g=v.getContext("2d");H.exports=r;function r(a,f){if(!C(a))throw Error("Argument should be valid svg path string");f||(f={});var u,l;f.shape?(u=f.shape[0],l=f.shape[1]):(u=v.width=f.w||f.width||200,l=v.height=f.h||f.height||200);var m=Math.min(u,l),h=f.stroke||0,M=f.viewbox||f.viewBox||p(a),c=[u/(M[2]-M[0]),l/(M[3]-M[1])],i=Math.min(c[0]||0,c[1]||0)/2;if(g.fillStyle="black",g.fillRect(0,0,u,l),g.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?g.strokeStyle="white":g.strokeStyle="black",g.lineWidth=Math.abs(h)),g.translate(u*.5,l*.5),g.scale(i,i),s()){var d=new Path2D(a);g.fill(d),h&&g.stroke(d)}else{var x=L(a);n(g,x),g.fill(),h&&g.stroke()}g.setTransform(1,0,0,1,0,0);var A=T(g,{cutoff:f.cutoff!=null?f.cutoff:.5,radius:f.radius!=null?f.radius:m*.5});return A}var t;function s(){if(t!=null)return t;var a=document.createElement("canvas").getContext("2d");if(a.canvas.width=a.canvas.height=1,!window.Path2D)return t=!1;var f=new Path2D("M0,0h1v1h-1v-1Z");a.fillStyle="black",a.fill(f);var u=a.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},49760:function(H,U,e){var p;(function(L){var n=/^\s+/,C=/\s+$/,T=0,v=L.round,g=L.min,r=L.max,t=L.random;function s(j,ue){if(j=j||"",ue=ue||{},j instanceof s)return j;if(!(this instanceof s))return new s(j,ue);var ae=a(j);this._originalInput=j,this._r=ae.r,this._g=ae.g,this._b=ae.b,this._a=ae.a,this._roundA=v(100*this._a)/100,this._format=ue.format||ae.format,this._gradientType=ue.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ae.ok,this._tc_id=T++}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var j=this.toRgb();return(j.r*299+j.g*587+j.b*114)/1e3},getLuminance:function(){var j=this.toRgb(),ue,ae,ce,ye,Ce,Ae;return ue=j.r/255,ae=j.g/255,ce=j.b/255,ue<=.03928?ye=ue/12.92:ye=L.pow((ue+.055)/1.055,2.4),ae<=.03928?Ce=ae/12.92:Ce=L.pow((ae+.055)/1.055,2.4),ce<=.03928?Ae=ce/12.92:Ae=L.pow((ce+.055)/1.055,2.4),.2126*ye+.7152*Ce+.0722*Ae},setAlpha:function(j){return this._a=O(j),this._roundA=v(100*this._a)/100,this},toHsv:function(){var j=m(this._r,this._g,this._b);return{h:j.h*360,s:j.s,v:j.v,a:this._a}},toHsvString:function(){var j=m(this._r,this._g,this._b),ue=v(j.h*360),ae=v(j.s*100),ce=v(j.v*100);return this._a==1?"hsv("+ue+", "+ae+"%, "+ce+"%)":"hsva("+ue+", "+ae+"%, "+ce+"%, "+this._roundA+")"},toHsl:function(){var j=u(this._r,this._g,this._b);return{h:j.h*360,s:j.s,l:j.l,a:this._a}},toHslString:function(){var j=u(this._r,this._g,this._b),ue=v(j.h*360),ae=v(j.s*100),ce=v(j.l*100);return this._a==1?"hsl("+ue+", "+ae+"%, "+ce+"%)":"hsla("+ue+", "+ae+"%, "+ce+"%, "+this._roundA+")"},toHex:function(j){return M(this._r,this._g,this._b,j)},toHexString:function(j){return"#"+this.toHex(j)},toHex8:function(j){return c(this._r,this._g,this._b,this._a,j)},toHex8String:function(j){return"#"+this.toHex8(j)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(B(this._r,255)*100)+"%",g:v(B(this._g,255)*100)+"%",b:v(B(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%)":"rgba("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:z[M(this._r,this._g,this._b,!0)]||!1},toFilter:function(j){var ue="#"+i(this._r,this._g,this._b,this._a),ae=ue,ce=this._gradientType?"GradientType = 1, ":"";if(j){var ye=s(j);ae="#"+i(ye._r,ye._g,ye._b,ye._a)}return"progid:DXImageTransform.Microsoft.gradient("+ce+"startColorstr="+ue+",endColorstr="+ae+")"},toString:function(j){var ue=!!j;j=j||this._format;var ae=!1,ce=this._a<1&&this._a>=0,ye=!ue&&ce&&(j==="hex"||j==="hex6"||j==="hex3"||j==="hex4"||j==="hex8"||j==="name");return ye?j==="name"&&this._a===0?this.toName():this.toRgbString():(j==="rgb"&&(ae=this.toRgbString()),j==="prgb"&&(ae=this.toPercentageRgbString()),(j==="hex"||j==="hex6")&&(ae=this.toHexString()),j==="hex3"&&(ae=this.toHexString(!0)),j==="hex4"&&(ae=this.toHex8String(!0)),j==="hex8"&&(ae=this.toHex8String()),j==="name"&&(ae=this.toName()),j==="hsl"&&(ae=this.toHslString()),j==="hsv"&&(ae=this.toHsvString()),ae||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(j,ue){var ae=j.apply(null,[this].concat([].slice.call(ue)));return this._r=ae._r,this._g=ae._g,this._b=ae._b,this.setAlpha(ae._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(j,ue){return j.apply(null,[this].concat([].slice.call(ue)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(o,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},s.fromRatio=function(j,ue){if(typeof j=="object"){var ae={};for(var ce in j)j.hasOwnProperty(ce)&&(ce==="a"?ae[ce]=j[ce]:ae[ce]=Z(j[ce]));j=ae}return s(j,ue)};function a(j){var ue={r:0,g:0,b:0},ae=1,ce=null,ye=null,Ce=null,Ae=!1,Ie=!1;return typeof j=="string"&&(j=se(j)),typeof j=="object"&&(q(j.r)&&q(j.g)&&q(j.b)?(ue=f(j.r,j.g,j.b),Ae=!0,Ie=String(j.r).substr(-1)==="%"?"prgb":"rgb"):q(j.h)&&q(j.s)&&q(j.v)?(ce=Z(j.s),ye=Z(j.v),ue=h(j.h,ce,ye),Ae=!0,Ie="hsv"):q(j.h)&&q(j.s)&&q(j.l)&&(ce=Z(j.s),Ce=Z(j.l),ue=l(j.h,ce,Ce),Ae=!0,Ie="hsl"),j.hasOwnProperty("a")&&(ae=j.a)),ae=O(ae),{ok:Ae,format:j.format||Ie,r:g(255,r(ue.r,0)),g:g(255,r(ue.g,0)),b:g(255,r(ue.b,0)),a:ae}}function f(j,ue,ae){return{r:B(j,255)*255,g:B(ue,255)*255,b:B(ae,255)*255}}function u(j,ue,ae){j=B(j,255),ue=B(ue,255),ae=B(ae,255);var ce=r(j,ue,ae),ye=g(j,ue,ae),Ce,Ae,Ie=(ce+ye)/2;if(ce==ye)Ce=Ae=0;else{var Te=ce-ye;switch(Ae=Ie>.5?Te/(2-ce-ye):Te/(ce+ye),ce){case j:Ce=(ue-ae)/Te+(ue<ae?6:0);break;case ue:Ce=(ae-j)/Te+2;break;case ae:Ce=(j-ue)/Te+4;break}Ce/=6}return{h:Ce,s:Ae,l:Ie}}function l(j,ue,ae){var ce,ye,Ce;j=B(j,360),ue=B(ue,100),ae=B(ae,100);function Ae(Le,xe,Re){return Re<0&&(Re+=1),Re>1&&(Re-=1),Re<.16666666666666666?Le+(xe-Le)*6*Re:Re<.5?xe:Re<.6666666666666666?Le+(xe-Le)*(.6666666666666666-Re)*6:Le}if(ue===0)ce=ye=Ce=ae;else{var Ie=ae<.5?ae*(1+ue):ae+ue-ae*ue,Te=2*ae-Ie;ce=Ae(Te,Ie,j+.3333333333333333),ye=Ae(Te,Ie,j),Ce=Ae(Te,Ie,j-.3333333333333333)}return{r:ce*255,g:ye*255,b:Ce*255}}function m(j,ue,ae){j=B(j,255),ue=B(ue,255),ae=B(ae,255);var ce=r(j,ue,ae),ye=g(j,ue,ae),Ce,Ae,Ie=ce,Te=ce-ye;if(Ae=ce===0?0:Te/ce,ce==ye)Ce=0;else{switch(ce){case j:Ce=(ue-ae)/Te+(ue<ae?6:0);break;case ue:Ce=(ae-j)/Te+2;break;case ae:Ce=(j-ue)/Te+4;break}Ce/=6}return{h:Ce,s:Ae,v:Ie}}function h(j,ue,ae){j=B(j,360)*6,ue=B(ue,100),ae=B(ae,100);var ce=L.floor(j),ye=j-ce,Ce=ae*(1-ue),Ae=ae*(1-ye*ue),Ie=ae*(1-(1-ye)*ue),Te=ce%6,Le=[ae,Ae,Ce,Ce,Ie,ae][Te],xe=[Ie,ae,ae,Ae,Ce,Ce][Te],Re=[Ce,Ce,Ie,ae,ae,Ae][Te];return{r:Le*255,g:xe*255,b:Re*255}}function M(j,ue,ae,ce){var ye=[le(v(j).toString(16)),le(v(ue).toString(16)),le(v(ae).toString(16))];return ce&&ye[0].charAt(0)==ye[0].charAt(1)&&ye[1].charAt(0)==ye[1].charAt(1)&&ye[2].charAt(0)==ye[2].charAt(1)?ye[0].charAt(0)+ye[1].charAt(0)+ye[2].charAt(0):ye.join("")}function c(j,ue,ae,ce,ye){var Ce=[le(v(j).toString(16)),le(v(ue).toString(16)),le(v(ae).toString(16)),le(Y(ce))];return ye&&Ce[0].charAt(0)==Ce[0].charAt(1)&&Ce[1].charAt(0)==Ce[1].charAt(1)&&Ce[2].charAt(0)==Ce[2].charAt(1)&&Ce[3].charAt(0)==Ce[3].charAt(1)?Ce[0].charAt(0)+Ce[1].charAt(0)+Ce[2].charAt(0)+Ce[3].charAt(0):Ce.join("")}function i(j,ue,ae,ce){var ye=[le(Y(ce)),le(v(j).toString(16)),le(v(ue).toString(16)),le(v(ae).toString(16))];return ye.join("")}s.equals=function(j,ue){return!j||!ue?!1:s(j).toRgbString()==s(ue).toRgbString()},s.random=function(){return s.fromRatio({r:t(),g:t(),b:t()})};function d(j,ue){ue=ue===0?0:ue||10;var ae=s(j).toHsl();return ae.s-=ue/100,ae.s=W(ae.s),s(ae)}function x(j,ue){ue=ue===0?0:ue||10;var ae=s(j).toHsl();return ae.s+=ue/100,ae.s=W(ae.s),s(ae)}function A(j){return s(j).desaturate(100)}function E(j,ue){ue=ue===0?0:ue||10;var ae=s(j).toHsl();return ae.l+=ue/100,ae.l=W(ae.l),s(ae)}function y(j,ue){ue=ue===0?0:ue||10;var ae=s(j).toRgb();return ae.r=r(0,g(255,ae.r-v(255*-(ue/100)))),ae.g=r(0,g(255,ae.g-v(255*-(ue/100)))),ae.b=r(0,g(255,ae.b-v(255*-(ue/100)))),s(ae)}function S(j,ue){ue=ue===0?0:ue||10;var ae=s(j).toHsl();return ae.l-=ue/100,ae.l=W(ae.l),s(ae)}function w(j,ue){var ae=s(j).toHsl(),ce=(ae.h+ue)%360;return ae.h=ce<0?360+ce:ce,s(ae)}function o(j){var ue=s(j).toHsl();return ue.h=(ue.h+180)%360,s(ue)}function _(j){var ue=s(j).toHsl(),ae=ue.h;return[s(j),s({h:(ae+120)%360,s:ue.s,l:ue.l}),s({h:(ae+240)%360,s:ue.s,l:ue.l})]}function b(j){var ue=s(j).toHsl(),ae=ue.h;return[s(j),s({h:(ae+90)%360,s:ue.s,l:ue.l}),s({h:(ae+180)%360,s:ue.s,l:ue.l}),s({h:(ae+270)%360,s:ue.s,l:ue.l})]}function I(j){var ue=s(j).toHsl(),ae=ue.h;return[s(j),s({h:(ae+72)%360,s:ue.s,l:ue.l}),s({h:(ae+216)%360,s:ue.s,l:ue.l})]}function D(j,ue,ae){ue=ue||6,ae=ae||30;var ce=s(j).toHsl(),ye=360/ae,Ce=[s(j)];for(ce.h=(ce.h-(ye*ue>>1)+720)%360;--ue;)ce.h=(ce.h+ye)%360,Ce.push(s(ce));return Ce}function N(j,ue){ue=ue||6;for(var ae=s(j).toHsv(),ce=ae.h,ye=ae.s,Ce=ae.v,Ae=[],Ie=1/ue;ue--;)Ae.push(s({h:ce,s:ye,v:Ce})),Ce=(Ce+Ie)%1;return Ae}s.mix=function(j,ue,ae){ae=ae===0?0:ae||50;var ce=s(j).toRgb(),ye=s(ue).toRgb(),Ce=ae/100,Ae={r:(ye.r-ce.r)*Ce+ce.r,g:(ye.g-ce.g)*Ce+ce.g,b:(ye.b-ce.b)*Ce+ce.b,a:(ye.a-ce.a)*Ce+ce.a};return s(Ae)},s.readability=function(j,ue){var ae=s(j),ce=s(ue);return(L.max(ae.getLuminance(),ce.getLuminance())+.05)/(L.min(ae.getLuminance(),ce.getLuminance())+.05)},s.isReadable=function(j,ue,ae){var ce=s.readability(j,ue),ye,Ce;switch(Ce=!1,ye=$(ae),ye.level+ye.size){case"AAsmall":case"AAAlarge":Ce=ce>=4.5;break;case"AAlarge":Ce=ce>=3;break;case"AAAsmall":Ce=ce>=7;break}return Ce},s.mostReadable=function(j,ue,ae){var ce=null,ye=0,Ce,Ae,Ie,Te;ae=ae||{},Ae=ae.includeFallbackColors,Ie=ae.level,Te=ae.size;for(var Le=0;Le<ue.length;Le++)Ce=s.readability(j,ue[Le]),Ce>ye&&(ye=Ce,ce=s(ue[Le]));return s.isReadable(j,ce,{level:Ie,size:Te})||!Ae?ce:(ae.includeFallbackColors=!1,s.mostReadable(j,["#fff","#000"],ae))};var k=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=s.hexNames=F(k);function F(j){var ue={};for(var ae in j)j.hasOwnProperty(ae)&&(ue[j[ae]]=ae);return ue}function O(j){return j=parseFloat(j),(isNaN(j)||j<0||j>1)&&(j=1),j}function B(j,ue){ne(j)&&(j="100%");var ae=Q(j);return j=g(ue,r(0,parseFloat(j))),ae&&(j=parseInt(j*ue,10)/100),L.abs(j-ue)<1e-6?1:j%ue/parseFloat(ue)}function W(j){return g(1,r(0,j))}function ee(j){return parseInt(j,16)}function ne(j){return typeof j=="string"&&j.indexOf(".")!=-1&&parseFloat(j)===1}function Q(j){return typeof j=="string"&&j.indexOf("%")!=-1}function le(j){return j.length==1?"0"+j:""+j}function Z(j){return j<=1&&(j=j*100+"%"),j}function Y(j){return L.round(parseFloat(j)*255).toString(16)}function re(j){return ee(j)/255}var X=function(){var j="[-\\+]?\\d+%?",ue="[-\\+]?\\d*\\.\\d+%?",ae="(?:"+ue+")|(?:"+j+")",ce="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?",ye="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?";return{CSS_UNIT:new RegExp(ae),rgb:new RegExp("rgb"+ce),rgba:new RegExp("rgba"+ye),hsl:new RegExp("hsl"+ce),hsla:new RegExp("hsla"+ye),hsv:new RegExp("hsv"+ce),hsva:new RegExp("hsva"+ye),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function q(j){return!!X.CSS_UNIT.exec(j)}function se(j){j=j.replace(n,"").replace(C,"").toLowerCase();var ue=!1;if(k[j])j=k[j],ue=!0;else if(j=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ae;return(ae=X.rgb.exec(j))?{r:ae[1],g:ae[2],b:ae[3]}:(ae=X.rgba.exec(j))?{r:ae[1],g:ae[2],b:ae[3],a:ae[4]}:(ae=X.hsl.exec(j))?{h:ae[1],s:ae[2],l:ae[3]}:(ae=X.hsla.exec(j))?{h:ae[1],s:ae[2],l:ae[3],a:ae[4]}:(ae=X.hsv.exec(j))?{h:ae[1],s:ae[2],v:ae[3]}:(ae=X.hsva.exec(j))?{h:ae[1],s:ae[2],v:ae[3],a:ae[4]}:(ae=X.hex8.exec(j))?{r:ee(ae[1]),g:ee(ae[2]),b:ee(ae[3]),a:re(ae[4]),format:ue?"name":"hex8"}:(ae=X.hex6.exec(j))?{r:ee(ae[1]),g:ee(ae[2]),b:ee(ae[3]),format:ue?"name":"hex"}:(ae=X.hex4.exec(j))?{r:ee(ae[1]+""+ae[1]),g:ee(ae[2]+""+ae[2]),b:ee(ae[3]+""+ae[3]),a:re(ae[4]+""+ae[4]),format:ue?"name":"hex8"}:(ae=X.hex3.exec(j))?{r:ee(ae[1]+""+ae[1]),g:ee(ae[2]+""+ae[2]),b:ee(ae[3]+""+ae[3]),format:ue?"name":"hex"}:!1}function $(j){var ue,ae;return j=j||{level:"AA",size:"small"},ue=(j.level||"AA").toUpperCase(),ae=(j.size||"small").toLowerCase(),ue!=="AA"&&ue!=="AAA"&&(ue="AA"),ae!=="small"&&ae!=="large"&&(ae="small"),{level:ue,size:ae}}H.exports?H.exports=s:(p=(function(){return s}).call(U,e,U,H),p!==void 0&&(H.exports=p))})(Math)},37816:function(H){H.exports=p,H.exports.float32=H.exports.float=p,H.exports.fract32=H.exports.fract=e;var U=new Float32Array(1);function e(L,n){if(L.length){if(L instanceof Float32Array)return new Float32Array(L.length);n instanceof Float32Array||(n=p(L));for(var C=0,T=n.length;C<T;C++)n[C]=L[C]-n[C];return n}return p(L-p(L))}function p(L){return L.length?L instanceof Float32Array?L:new Float32Array(L):(U[0]=L,U[0])}},23464:function(H,U,e){var p=e(65819);H.exports=T;var L=96;function n(v,g){var r=p(getComputedStyle(v).getPropertyValue(g));return r[0]*T(r[1],v)}function C(v,g){var r=document.createElement("div");r.style["font-size"]="128"+v,g.appendChild(r);var t=n(r,"font-size")/128;return g.removeChild(r),t}function T(v,g){switch(g=g||document.body,v=(v||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),v){case"%":return g.clientHeight/100;case"ch":case"ex":return C(v,g);case"em":return n(g,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return L;case"cm":return L/2.54;case"mm":return L/25.4;case"pt":return L/72;case"pc":return L/6}return 1}},55712:function(H,U,e){e.d(U,{NO:function(){return C}});function p(g,r){for(var t,s=g.length,a=s-r;a<--s;)t=g[a],g[a++]=g[s],g[s]=t}function L(g){return g}function n(g){if(g==null)return L;var r,t,s=g.scale[0],a=g.scale[1],f=g.translate[0],u=g.translate[1];return function(l,m){m||(r=t=0);var h=2,M=l.length,c=new Array(M);for(c[0]=(r+=l[0])*s+f,c[1]=(t+=l[1])*a+u;h<M;)c[h]=l[h],++h;return c}}function C(g,r){return typeof r=="string"&&(r=g.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return T(g,t)})}:T(g,r)}function T(g,r){var t=r.id,s=r.bbox,a=r.properties==null?{}:r.properties,f=v(g,r);return t==null&&s==null?{type:"Feature",properties:a,geometry:f}:s==null?{type:"Feature",id:t,properties:a,geometry:f}:{type:"Feature",id:t,bbox:s,properties:a,geometry:f}}function v(g,r){var t=n(g.transform),s=g.arcs;function a(M,c){c.length&&c.pop();for(var i=s[M<0?~M:M],d=0,x=i.length;d<x;++d)c.push(t(i[d],d));M<0&&p(c,x)}function f(M){return t(M)}function u(M){for(var c=[],i=0,d=M.length;i<d;++i)a(M[i],c);return c.length<2&&c.push(c[0]),c}function l(M){for(var c=u(M);c.length<4;)c.push(c[0]);return c}function m(M){return M.map(l)}function h(M){var c=M.type,i;switch(c){case"GeometryCollection":return{type:c,geometries:M.geometries.map(h)};case"Point":i=f(M.coordinates);break;case"MultiPoint":i=M.coordinates.map(f);break;case"LineString":i=u(M.arcs);break;case"MultiLineString":i=M.arcs.map(u);break;case"Polygon":i=m(M.arcs);break;case"MultiPolygon":i=M.arcs.map(m);break;default:return null}return{type:c,coordinates:i}}return h(r)}},73384:function(H,U,e){var p=e(54612);H.exports=function(L){if(typeof L!="function"||!hasOwnProperty.call(L,"length"))return!1;try{if(typeof L.length!="number"||typeof L.call!="function"||typeof L.apply!="function")return!1}catch{return!1}return!p(L)}},57980:function(H,U,e){var p=e(81680),L=e(7328),n=e(33940),C=e(18856),T=function(v,g){return v.replace("%v",C(g))};H.exports=function(v,g,r){if(!L(r))throw new TypeError(T(g,v));if(!p(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=n(r.errorMessage);throw p(t)||(t=g),new TypeError(T(t,v))}},32336:function(H){H.exports=function(U){try{return U.toString()}catch{try{return String(U)}catch{return null}}}},18856:function(H,U,e){var p=e(32336),L=/[\n\r\u2028\u2029]/g;H.exports=function(n){var C=p(n);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+""),C=C.replace(L,function(T){switch(T){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},7328:function(H,U,e){var p=e(81680),L={object:!0,function:!0,undefined:!0};H.exports=function(n){return p(n)?hasOwnProperty.call(L,typeof n):!1}},87396:function(H,U,e){var p=e(57980),L=e(85488);H.exports=function(n){return L(n)?n:p(n,"%v is not a plain function",arguments[1])}},85488:function(H,U,e){var p=e(73384),L=/^\s*class[\s{/}]/,n=Function.prototype.toString;H.exports=function(C){return!(!p(C)||L.test(n.call(C)))}},54612:function(H,U,e){var p=e(7328);H.exports=function(L){if(!p(L))return!1;try{return L.constructor?L.constructor.prototype===L:!1}catch{return!1}}},33940:function(H,U,e){var p=e(81680),L=e(7328),n=Object.prototype.toString;H.exports=function(C){if(!p(C))return null;if(L(C)){var T=C.toString;if(typeof T!="function"||T===n)return null}try{return""+C}catch{return null}}},18496:function(H,U,e){var p=e(57980),L=e(81680);H.exports=function(n){return L(n)?n:p(n,"Cannot use %v",arguments[1])}},81680:function(H){var U=void 0;H.exports=function(e){return e!==U&&e!==null}},14144:function(H,U,e){var p=e(308),L=e(10352),n=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:L([32,0]),UINT16:L([32,0]),UINT32:L([32,0]),BIGUINT64:L([32,0]),INT8:L([32,0]),INT16:L([32,0]),INT32:L([32,0]),BIGINT64:L([32,0]),FLOAT:L([32,0]),DOUBLE:L([32,0]),DATA:L([32,0]),UINT8C:L([32,0]),BUFFER:L([32,0])});var C=typeof Uint8ClampedArray<"u",T=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",g=e.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=L([32,0])),g.BIGUINT64||(g.BIGUINT64=L([32,0])),g.BIGINT64||(g.BIGINT64=L([32,0])),g.BUFFER||(g.BUFFER=L([32,0]));var r=g.DATA,t=g.BUFFER;U.free=function(o){if(n.isBuffer(o))t[p.log2(o.length)].push(o);else{if(Object.prototype.toString.call(o)!=="[object ArrayBuffer]"&&(o=o.buffer),!o)return;var _=o.length||o.byteLength,b=p.log2(_)|0;r[b].push(o)}};function s(w){if(w){var o=w.length||w.byteLength,_=p.log2(o);r[_].push(w)}}function a(w){s(w.buffer)}U.freeUint8=U.freeUint16=U.freeUint32=U.freeBigUint64=U.freeInt8=U.freeInt16=U.freeInt32=U.freeBigInt64=U.freeFloat32=U.freeFloat=U.freeFloat64=U.freeDouble=U.freeUint8Clamped=U.freeDataView=a,U.freeArrayBuffer=s,U.freeBuffer=function(o){t[p.log2(o.length)].push(o)},U.malloc=function(o,_){if(_===void 0||_==="arraybuffer")return f(o);switch(_){case"uint8":return u(o);case"uint16":return l(o);case"uint32":return m(o);case"int8":return h(o);case"int16":return M(o);case"int32":return c(o);case"float":case"float32":return i(o);case"double":case"float64":return d(o);case"uint8_clamped":return x(o);case"bigint64":return E(o);case"biguint64":return A(o);case"buffer":return S(o);case"data":case"dataview":return y(o);default:return null}return null};function f(o){var o=p.nextPow2(o),_=p.log2(o),b=r[_];return b.length>0?b.pop():new ArrayBuffer(o)}U.mallocArrayBuffer=f;function u(w){return new Uint8Array(f(w),0,w)}U.mallocUint8=u;function l(w){return new Uint16Array(f(2*w),0,w)}U.mallocUint16=l;function m(w){return new Uint32Array(f(4*w),0,w)}U.mallocUint32=m;function h(w){return new Int8Array(f(w),0,w)}U.mallocInt8=h;function M(w){return new Int16Array(f(2*w),0,w)}U.mallocInt16=M;function c(w){return new Int32Array(f(4*w),0,w)}U.mallocInt32=c;function i(w){return new Float32Array(f(4*w),0,w)}U.mallocFloat32=U.mallocFloat=i;function d(w){return new Float64Array(f(8*w),0,w)}U.mallocFloat64=U.mallocDouble=d;function x(w){return C?new Uint8ClampedArray(f(w),0,w):u(w)}U.mallocUint8Clamped=x;function A(w){return T?new BigUint64Array(f(8*w),0,w):null}U.mallocBigUint64=A;function E(w){return v?new BigInt64Array(f(8*w),0,w):null}U.mallocBigInt64=E;function y(w){return new DataView(f(w),0,w)}U.mallocDataView=y;function S(w){w=p.nextPow2(w);var o=p.log2(w),_=t[o];return _.length>0?_.pop():new n(w)}U.mallocBuffer=S,U.clearCache=function(){for(var o=0;o<32;++o)g.UINT8[o].length=0,g.UINT16[o].length=0,g.UINT32[o].length=0,g.INT8[o].length=0,g.INT16[o].length=0,g.INT32[o].length=0,g.FLOAT[o].length=0,g.DOUBLE[o].length=0,g.BIGUINT64[o].length=0,g.BIGINT64[o].length=0,g.UINT8C[o].length=0,r[o].length=0,t[o].length=0}},92384:function(H){var U=/[\'\"]/;H.exports=function(p){return p?(U.test(p.charAt(0))&&(p=p.substr(1)),U.test(p.charAt(p.length-1))&&(p=p.substr(0,p.length-1)),p):""}},45223:function(H){H.exports=function(e,p,L){Array.isArray(L)||(L=[].slice.call(arguments,2));for(var n=0,C=L.length;n<C;n++){var T=L[n];for(var v in T)if(!(p[v]!==void 0&&!Array.isArray(p[v])&&e[v]===p[v])&&v in p){var g;if(T[v]===!0)g=p[v];else{if(T[v]===!1)continue;if(typeof T[v]=="function"&&(g=T[v](p[v],e,p),g===void 0))continue}e[v]=g}}return e}},96656:function(H,U,e){H.exports=p;function p(n,C){if(L("noDeprecation"))return n;var T=!1;function v(){if(!T){if(L("throwDeprecation"))throw new Error(C);L("traceDeprecation")?console.trace(C):console.warn(C),T=!0}return n.apply(this,arguments)}return v}function L(n){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[n];return C==null?!1:String(C).toLowerCase()==="true"}},75272:function(H){H.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(H,U,e){var p=e(91148),L=e(84420),n=e(96632),C=e(7728);function T(Ce){return Ce.call.bind(Ce)}var v=typeof BigInt<"u",g=typeof Symbol<"u",r=T(Object.prototype.toString),t=T(Number.prototype.valueOf),s=T(String.prototype.valueOf),a=T(Boolean.prototype.valueOf);if(v)var f=T(BigInt.prototype.valueOf);if(g)var u=T(Symbol.prototype.valueOf);function l(Ce,Ae){if(typeof Ce!="object")return!1;try{return Ae(Ce),!0}catch{return!1}}U.isArgumentsObject=p,U.isGeneratorFunction=L,U.isTypedArray=C;function m(Ce){return typeof Promise<"u"&&Ce instanceof Promise||Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"&&typeof Ce.catch=="function"}U.isPromise=m;function h(Ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ce):C(Ce)||ee(Ce)}U.isArrayBufferView=h;function M(Ce){return n(Ce)==="Uint8Array"}U.isUint8Array=M;function c(Ce){return n(Ce)==="Uint8ClampedArray"}U.isUint8ClampedArray=c;function i(Ce){return n(Ce)==="Uint16Array"}U.isUint16Array=i;function d(Ce){return n(Ce)==="Uint32Array"}U.isUint32Array=d;function x(Ce){return n(Ce)==="Int8Array"}U.isInt8Array=x;function A(Ce){return n(Ce)==="Int16Array"}U.isInt16Array=A;function E(Ce){return n(Ce)==="Int32Array"}U.isInt32Array=E;function y(Ce){return n(Ce)==="Float32Array"}U.isFloat32Array=y;function S(Ce){return n(Ce)==="Float64Array"}U.isFloat64Array=S;function w(Ce){return n(Ce)==="BigInt64Array"}U.isBigInt64Array=w;function o(Ce){return n(Ce)==="BigUint64Array"}U.isBigUint64Array=o;function _(Ce){return r(Ce)==="[object Map]"}_.working=typeof Map<"u"&&_(new Map);function b(Ce){return typeof Map>"u"?!1:_.working?_(Ce):Ce instanceof Map}U.isMap=b;function I(Ce){return r(Ce)==="[object Set]"}I.working=typeof Set<"u"&&I(new Set);function D(Ce){return typeof Set>"u"?!1:I.working?I(Ce):Ce instanceof Set}U.isSet=D;function N(Ce){return r(Ce)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function k(Ce){return typeof WeakMap>"u"?!1:N.working?N(Ce):Ce instanceof WeakMap}U.isWeakMap=k;function z(Ce){return r(Ce)==="[object WeakSet]"}z.working=typeof WeakSet<"u"&&z(new WeakSet);function F(Ce){return z(Ce)}U.isWeakSet=F;function O(Ce){return r(Ce)==="[object ArrayBuffer]"}O.working=typeof ArrayBuffer<"u"&&O(new ArrayBuffer);function B(Ce){return typeof ArrayBuffer>"u"?!1:O.working?O(Ce):Ce instanceof ArrayBuffer}U.isArrayBuffer=B;function W(Ce){return r(Ce)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function ee(Ce){return typeof DataView>"u"?!1:W.working?W(Ce):Ce instanceof DataView}U.isDataView=ee;var ne=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Q(Ce){return r(Ce)==="[object SharedArrayBuffer]"}function le(Ce){return typeof ne>"u"?!1:(typeof Q.working>"u"&&(Q.working=Q(new ne)),Q.working?Q(Ce):Ce instanceof ne)}U.isSharedArrayBuffer=le;function Z(Ce){return r(Ce)==="[object AsyncFunction]"}U.isAsyncFunction=Z;function Y(Ce){return r(Ce)==="[object Map Iterator]"}U.isMapIterator=Y;function re(Ce){return r(Ce)==="[object Set Iterator]"}U.isSetIterator=re;function X(Ce){return r(Ce)==="[object Generator]"}U.isGeneratorObject=X;function q(Ce){return r(Ce)==="[object WebAssembly.Module]"}U.isWebAssemblyCompiledModule=q;function se(Ce){return l(Ce,t)}U.isNumberObject=se;function $(Ce){return l(Ce,s)}U.isStringObject=$;function j(Ce){return l(Ce,a)}U.isBooleanObject=j;function ue(Ce){return v&&l(Ce,f)}U.isBigIntObject=ue;function ae(Ce){return g&&l(Ce,u)}U.isSymbolObject=ae;function ce(Ce){return se(Ce)||$(Ce)||j(Ce)||ue(Ce)||ae(Ce)}U.isBoxedPrimitive=ce;function ye(Ce){return typeof Uint8Array<"u"&&(B(Ce)||le(Ce))}U.isAnyArrayBuffer=ye,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ce){Object.defineProperty(U,Ce,{enumerable:!1,value:function(){throw new Error(Ce+" is not supported in userland")}})})},35840:function(H,U,e){var p=e(4168),L=Object.getOwnPropertyDescriptors||function(ne){for(var Q=Object.keys(ne),le={},Z=0;Z<Q.length;Z++)le[Q[Z]]=Object.getOwnPropertyDescriptor(ne,Q[Z]);return le},n=/%[sdj%]/g;U.format=function(ee){if(!A(ee)){for(var ne=[],Q=0;Q<arguments.length;Q++)ne.push(g(arguments[Q]));return ne.join(" ")}for(var Q=1,le=arguments,Z=le.length,Y=String(ee).replace(n,function(X){if(X==="%%")return"%";if(Q>=Z)return X;switch(X){case"%s":return String(le[Q++]);case"%d":return Number(le[Q++]);case"%j":try{return JSON.stringify(le[Q++])}catch{return"[Circular]"}default:return X}}),re=le[Q];Q<Z;re=le[++Q])i(re)||!w(re)?Y+=" "+re:Y+=" "+g(re);return Y},U.deprecate=function(ee,ne){if(typeof p<"u"&&p.noDeprecation===!0)return ee;if(typeof p>"u")return function(){return U.deprecate(ee,ne).apply(this,arguments)};var Q=!1;function le(){if(!Q){if(p.throwDeprecation)throw new Error(ne);p.traceDeprecation?console.trace(ne):console.error(ne),Q=!0}return ee.apply(this,arguments)}return le};var C={},T=/^$/;if(p.env.NODE_DEBUG){var v=p.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),T=new RegExp("^"+v+"$","i")}U.debuglog=function(ee){if(ee=ee.toUpperCase(),!C[ee])if(T.test(ee)){var ne=p.pid;C[ee]=function(){var Q=U.format.apply(U,arguments);console.error("%s %d: %s",ee,ne,Q)}}else C[ee]=function(){};return C[ee]};function g(ee,ne){var Q={seen:[],stylize:t};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),c(ne)?Q.showHidden=ne:ne&&U._extend(Q,ne),y(Q.showHidden)&&(Q.showHidden=!1),y(Q.depth)&&(Q.depth=2),y(Q.colors)&&(Q.colors=!1),y(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=r),a(Q,ee,Q.depth)}U.inspect=g,g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(ee,ne){var Q=g.styles[ne];return Q?"\x1B["+g.colors[Q][0]+"m"+ee+"\x1B["+g.colors[Q][1]+"m":ee}function t(ee,ne){return ee}function s(ee){var ne={};return ee.forEach(function(Q,le){ne[Q]=!0}),ne}function a(ee,ne,Q){if(ee.customInspect&&ne&&b(ne.inspect)&&ne.inspect!==U.inspect&&!(ne.constructor&&ne.constructor.prototype===ne)){var le=ne.inspect(Q,ee);return A(le)||(le=a(ee,le,Q)),le}var Z=f(ee,ne);if(Z)return Z;var Y=Object.keys(ne),re=s(Y);if(ee.showHidden&&(Y=Object.getOwnPropertyNames(ne)),_(ne)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return u(ne);if(Y.length===0){if(b(ne)){var X=ne.name?": "+ne.name:"";return ee.stylize("[Function"+X+"]","special")}if(S(ne))return ee.stylize(RegExp.prototype.toString.call(ne),"regexp");if(o(ne))return ee.stylize(Date.prototype.toString.call(ne),"date");if(_(ne))return u(ne)}var q="",se=!1,$=["{","}"];if(M(ne)&&(se=!0,$=["[","]"]),b(ne)){var j=ne.name?": "+ne.name:"";q=" [Function"+j+"]"}if(S(ne)&&(q=" "+RegExp.prototype.toString.call(ne)),o(ne)&&(q=" "+Date.prototype.toUTCString.call(ne)),_(ne)&&(q=" "+u(ne)),Y.length===0&&(!se||ne.length==0))return $[0]+q+$[1];if(Q<0)return S(ne)?ee.stylize(RegExp.prototype.toString.call(ne),"regexp"):ee.stylize("[Object]","special");ee.seen.push(ne);var ue;return se?ue=l(ee,ne,Q,re,Y):ue=Y.map(function(ae){return m(ee,ne,Q,re,ae,se)}),ee.seen.pop(),h(ue,q,$)}function f(ee,ne){if(y(ne))return ee.stylize("undefined","undefined");if(A(ne)){var Q="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ee.stylize(Q,"string")}if(x(ne))return ee.stylize(""+ne,"number");if(c(ne))return ee.stylize(""+ne,"boolean");if(i(ne))return ee.stylize("null","null")}function u(ee){return"["+Error.prototype.toString.call(ee)+"]"}function l(ee,ne,Q,le,Z){for(var Y=[],re=0,X=ne.length;re<X;++re)F(ne,String(re))?Y.push(m(ee,ne,Q,le,String(re),!0)):Y.push("");return Z.forEach(function(q){q.match(/^\d+$/)||Y.push(m(ee,ne,Q,le,q,!0))}),Y}function m(ee,ne,Q,le,Z,Y){var re,X,q;if(q=Object.getOwnPropertyDescriptor(ne,Z)||{value:ne[Z]},q.get?q.set?X=ee.stylize("[Getter/Setter]","special"):X=ee.stylize("[Getter]","special"):q.set&&(X=ee.stylize("[Setter]","special")),F(le,Z)||(re="["+Z+"]"),X||(ee.seen.indexOf(q.value)<0?(i(Q)?X=a(ee,q.value,null):X=a(ee,q.value,Q-1),X.indexOf(`
`)>-1&&(Y?X=X.split(`
`).map(function(se){return"  "+se}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(se){return"   "+se}).join(`
`))):X=ee.stylize("[Circular]","special")),y(re)){if(Y&&Z.match(/^\d+$/))return X;re=JSON.stringify(""+Z),re.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(re=re.slice(1,-1),re=ee.stylize(re,"name")):(re=re.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),re=ee.stylize(re,"string"))}return re+": "+X}function h(ee,ne,Q){var le=ee.reduce(function(Z,Y){return Y.indexOf(`
`)>=0,Z+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return le>60?Q[0]+(ne===""?"":ne+`
 `)+" "+ee.join(`,
  `)+" "+Q[1]:Q[0]+ne+" "+ee.join(", ")+" "+Q[1]}U.types=e(41088);function M(ee){return Array.isArray(ee)}U.isArray=M;function c(ee){return typeof ee=="boolean"}U.isBoolean=c;function i(ee){return ee===null}U.isNull=i;function d(ee){return ee==null}U.isNullOrUndefined=d;function x(ee){return typeof ee=="number"}U.isNumber=x;function A(ee){return typeof ee=="string"}U.isString=A;function E(ee){return typeof ee=="symbol"}U.isSymbol=E;function y(ee){return ee===void 0}U.isUndefined=y;function S(ee){return w(ee)&&D(ee)==="[object RegExp]"}U.isRegExp=S,U.types.isRegExp=S;function w(ee){return typeof ee=="object"&&ee!==null}U.isObject=w;function o(ee){return w(ee)&&D(ee)==="[object Date]"}U.isDate=o,U.types.isDate=o;function _(ee){return w(ee)&&(D(ee)==="[object Error]"||ee instanceof Error)}U.isError=_,U.types.isNativeError=_;function b(ee){return typeof ee=="function"}U.isFunction=b;function I(ee){return ee===null||typeof ee=="boolean"||typeof ee=="number"||typeof ee=="string"||typeof ee=="symbol"||typeof ee>"u"}U.isPrimitive=I,U.isBuffer=e(75272);function D(ee){return Object.prototype.toString.call(ee)}function N(ee){return ee<10?"0"+ee.toString(10):ee.toString(10)}var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function z(){var ee=new Date,ne=[N(ee.getHours()),N(ee.getMinutes()),N(ee.getSeconds())].join(":");return[ee.getDate(),k[ee.getMonth()],ne].join(" ")}U.log=function(){console.log("%s - %s",z(),U.format.apply(U,arguments))},U.inherits=e(6768),U._extend=function(ee,ne){if(!ne||!w(ne))return ee;for(var Q=Object.keys(ne),le=Q.length;le--;)ee[Q[le]]=ne[Q[le]];return ee};function F(ee,ne){return Object.prototype.hasOwnProperty.call(ee,ne)}var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;U.promisify=function(ne){if(typeof ne!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&ne[O]){var Q=ne[O];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,O,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var le,Z,Y=new Promise(function(q,se){le=q,Z=se}),re=[],X=0;X<arguments.length;X++)re.push(arguments[X]);re.push(function(q,se){q?Z(q):le(se)});try{ne.apply(this,re)}catch(q){Z(q)}return Y}return Object.setPrototypeOf(Q,Object.getPrototypeOf(ne)),O&&Object.defineProperty(Q,O,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,L(ne))},U.promisify.custom=O;function B(ee,ne){if(!ee){var Q=new Error("Promise was rejected with a falsy value");Q.reason=ee,ee=Q}return ne(ee)}function W(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');function ne(){for(var Q=[],le=0;le<arguments.length;le++)Q.push(arguments[le]);var Z=Q.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var Y=this,re=function(){return Z.apply(Y,arguments)};ee.apply(this,Q).then(function(X){p.nextTick(re.bind(null,null,X))},function(X){p.nextTick(B.bind(null,X,re))})}return Object.setPrototypeOf(ne,Object.getPrototypeOf(ee)),Object.defineProperties(ne,L(ee)),ne}U.callbackify=W},5408:function(H,U,e){var p=e(13380);H.exports=function(n){return p("webgl",n)}},96632:function(H,U,e){var p=e(46492),L=e(63436),n=e(57916),C=e(99676),T=e(2304),v=C("Object.prototype.toString"),g=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=L(),s=C("String.prototype.slice"),a=Object.getPrototypeOf,f=C("Array.prototype.indexOf",!0)||function(M,c){for(var i=0;i<M.length;i+=1)if(M[i]===c)return i;return-1},u={__proto__:null};g&&T&&a?p(t,function(h){var M=new r[h];if(Symbol.toStringTag in M){var c=a(M),i=T(c,Symbol.toStringTag);if(!i){var d=a(c);i=T(d,Symbol.toStringTag)}u["$"+h]=n(i.get)}}):p(t,function(h){var M=new r[h],c=M.slice||M.set;c&&(u["$"+h]=n(c))});var l=function(M){var c=!1;return p(u,function(i,d){if(!c)try{"$"+i(M)===d&&(c=s(d,1))}catch{}}),c},m=function(M){var c=!1;return p(u,function(i,d){if(!c)try{i(M),c=s(d,1)}catch{}}),c};H.exports=function(M){if(!M||typeof M!="object")return!1;if(!g){var c=s(v(M),8,-1);return f(t,c)>-1?c:c!=="Object"?!1:m(M)}return T?l(M):null}},67020:function(H,U,e){var p=e(38700),L=e(50896),n=p.instance();function C(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,l){if(typeof u=="string"){var m=u.match(v);return m?m[0]:""}var h=this._validateYear(u),M=u.month(),c=""+this.toChineseMonth(h,M);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,M)&&(c+="i"),c},monthNames:function(u){if(typeof u=="string"){var l=u.match(g);return l?l[0]:""}var m=this._validateYear(u),h=u.month(),M=this.toChineseMonth(m,h),c=["","","","","","","","","","","",""][M-1];return this.isIntercalaryMonth(m,h)&&(c=""+c),c},monthNamesShort:function(u){if(typeof u=="string"){var l=u.match(r);return l?l[0]:""}var m=this._validateYear(u),h=u.month(),M=this.toChineseMonth(m,h),c=["","","","","","","","","","","",""][M-1];return this.isIntercalaryMonth(m,h)&&(c=""+c),c},parseMonth:function(u,l){u=this._validateYear(u);var m=parseInt(l),h;if(isNaN(m))l[0]===""&&(h=!0,l=l.substring(1)),l[l.length-1]===""&&(l=l.substring(0,l.length-1)),m=1+["","","","","","","","","","","",""].indexOf(l);else{var M=l[l.length-1];h=M==="i"||M==="I"}var c=this.toMonthIndex(u,m,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,l){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw l.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,l,m){var h=this.intercalaryMonth(u),M=m&&l!==h;if(M||l<1||l>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!m&&l<=h?c=l-1:c=l:c=l-1,c},toChineseMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var m=this.intercalaryMonth(u),h=m?12:11;if(l<0||l>h)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var M;return m?l<m?M=l+1:M=l:M=l+1,M},intercalaryMonth:function(u){u=this._validateYear(u);var l=t[u-t[0]],m=l>>13;return m},isIntercalaryMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var m=this.intercalaryMonth(u);return!!m&&m===l},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,l,m){var h=this._validateYear(u,p.local.invalidyear),M=s[h-s[0]],c=M>>9&4095,i=M>>5&15,d=M&31,x;x=n.newDate(c,i,d),x.add(4-(x.dayOfWeek()||7),"d");var A=this.toJD(u,l,m)-x.toJD();return 1+Math.floor(A/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,l){u.year&&(l=u.month(),u=u.year()),u=this._validateYear(u);var m=t[u-t[0]],h=m>>13,M=h?12:11;if(l>M)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=m&1<<12-l?30:29;return c},weekDay:function(u,l,m){return(this.dayOfWeek(u,l,m)||7)<6},toJD:function(u,l,m){var h=this._validate(u,c,m,p.local.invalidDate);u=this._validateYear(h.year()),l=h.month(),m=h.day();var M=this.isIntercalaryMonth(u,l),c=this.toChineseMonth(u,l),i=f(u,c,m,M);return n.toJD(i.year,i.month,i.day)},fromJD:function(u){var l=n.fromJD(u),m=a(l.year(),l.month(),l.day()),h=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,h,m.day)},fromString:function(u){var l=u.match(T),m=this._validateYear(+l[1]),h=+l[2],M=!!l[3],c=this.toMonthIndex(m,h,M),i=+l[4];return this.newDate(m,c,i)},add:function(u,l,m){var h=u.year(),M=u.month(),c=this.isIntercalaryMonth(h,M),i=this.toChineseMonth(h,M),d=Object.getPrototypeOf(C.prototype).add.call(this,u,l,m);if(m==="y"){var x=d.year(),A=d.month(),E=this.isIntercalaryMonth(x,i),y=c&&E?this.toMonthIndex(x,i,!0):this.toMonthIndex(x,i,!1);y!==A&&d.month(y)}return d}});var T=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,g=/^??[]?/m,r=/^??[]?/m;p.calendars.chinese=C;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],s=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function a(u,l,m,h){var M,c;if(typeof u=="object")M=u,c=l||{};else{var i=typeof u=="number"&&u>=1888&&u<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var d=typeof l=="number"&&l>=1&&l<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var x=typeof m=="number"&&m>=1&&m<=31;if(!x)throw new Error("Solar day outside range 1 - 31");M={year:u,month:l,day:m},c=h||{}}var A=s[M.year-s[0]],E=M.year<<9|M.month<<5|M.day;c.year=E>=A?M.year:M.year-1,A=s[c.year-s[0]];var y=A>>9&4095,S=A>>5&15,w=A&31,o,_=new Date(y,S-1,w),b=new Date(M.year,M.month-1,M.day);o=Math.round((b-_)/864e5);var I=t[c.year-t[0]],D;for(D=0;D<13;D++){var N=I&1<<12-D?30:29;if(o<N)break;o-=N}var k=I>>13;return!k||D<k?(c.isIntercalary=!1,c.month=1+D):D===k?(c.isIntercalary=!0,c.month=D):(c.isIntercalary=!1,c.month=D),c.day=1+o,c}function f(u,l,m,h,M){var c,i;if(typeof u=="object")i=u,c=l||{};else{var d=typeof u=="number"&&u>=1888&&u<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var x=typeof l=="number"&&l>=1&&l<=12;if(!x)throw new Error("Lunar month outside range 1 - 12");var A=typeof m=="number"&&m>=1&&m<=30;if(!A)throw new Error("Lunar day outside range 1 - 30");var E;typeof h=="object"?(E=!1,c=h):(E=!!h,c=M||{}),i={year:u,month:l,day:m,isIntercalary:E}}var y;y=i.day-1;var S=t[i.year-t[0]],w=S>>13,o;w&&(i.month>w||i.isIntercalary)?o=i.month:o=i.month-1;for(var _=0;_<o;_++){var b=S&1<<12-_?30:29;y+=b}var I=s[i.year-s[0]],D=I>>9&4095,N=I>>5&15,k=I&31,z=new Date(D,N-1,k+y);return c.year=z.getFullYear(),c.month=1+z.getMonth(),c.day=z.getDate(),c}},89792:function(H,U,e){var p=e(38700),L=e(50896);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=T.year()+(T.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,T,v){var g=this.newDate(C,T,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,T){var v=this._validate(C,T,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,T,v){return(this.dayOfWeek(C,T,v)||7)<6},toJD:function(C,T,v){var g=this._validate(C,T,v,p.local.invalidDate);return C=g.year(),C<0&&C++,g.day()+(g.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var T=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((T-Math.floor((T+366)/1461))/365)+1;v<=0&&v--,T=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var g=Math.floor(T/30)+1,r=T-(g-1)*30+1;return this.newDate(v,g,r)}}),p.calendars.coptic=n},55668:function(H,U,e){var p=e(38700),L=e(50896);function n(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(T){return this._validate(T,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(T){return this._validate(T,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(T,v,g){var r=this.newDate(T,v,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(T,v){var g=this._validate(T,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(T,v,g){var r=this._validate(T,v,g,p.local.invalidDate);return(r.day()+1)%8},weekDay:function(T,v,g){var r=this.dayOfWeek(T,v,g);return r>=2&&r<=6},extraInfo:function(T,v,g){var r=this._validate(T,v,g,p.local.invalidDate);return{century:C[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(T,v,g){var r=this._validate(T,v,g,p.local.invalidDate);return T=r.year()+(r.year()<0?1:0),v=r.month(),g=r.day(),g+(v>1?16:0)+(v>2?(v-2)*32:0)+(T-1)*400+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(T/400)+1;T-=(v-1)*400,T+=T>15?16:0;var g=Math.floor(T/32)+1,r=T-(g-1)*32+1;return this.newDate(v<=0?v-1:v,g,r)}});var C={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=n},65168:function(H,U,e){var p=e(38700),L=e(50896);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=T.year()+(T.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,T,v){var g=this.newDate(C,T,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,T){var v=this._validate(C,T,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,T,v){return(this.dayOfWeek(C,T,v)||7)<6},toJD:function(C,T,v){var g=this._validate(C,T,v,p.local.invalidDate);return C=g.year(),C<0&&C++,g.day()+(g.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var T=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((T-Math.floor((T+366)/1461))/365)+1;v<=0&&v--,T=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var g=Math.floor(T/30)+1,r=T-(g-1)*30+1;return this.newDate(v,g,r)}}),p.calendars.ethiopian=n},2084:function(H,U,e){var p=e(38700),L=e(50896);function n(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(T){return T=T<0?T+1:T,C(T*7+1,19)<7},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(T.year?T.year():T)?13:12},weekOfYear:function(T,v,g){var r=this.newDate(T,v,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear);return T=v.year(),this.toJD(T===-1?1:T+1,7,1)-this.toJD(T,7,1)},daysInMonth:function(T,v){return T.year&&(v=T.month(),T=T.year()),this._validate(T,v,this.minDay,p.local.invalidMonth),v===12&&this.leapYear(T)||v===8&&C(this.daysInYear(T),10)===5?30:v===9&&C(this.daysInYear(T),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(T,v,g){return this.dayOfWeek(T,v,g)!==6},extraInfo:function(T,v,g){var r=this._validate(T,v,g,p.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(T,v,g){var r=this._validate(T,v,g,p.local.invalidDate);T=r.year(),v=r.month(),g=r.day();var t=T<=0?T+1:T,s=this.jdEpoch+this._delay1(t)+this._delay2(t)+g+1;if(v<7){for(var a=7;a<=this.monthsInYear(T);a++)s+=this.daysInMonth(T,a);for(var a=1;a<v;a++)s+=this.daysInMonth(T,a)}else for(var a=7;a<v;a++)s+=this.daysInMonth(T,a);return s},_delay1:function(T){var v=Math.floor((235*T-234)/19),g=12084+13753*v,r=v*29+Math.floor(g/25920);return C(3*(r+1),7)<3&&r++,r},_delay2:function(T){var v=this._delay1(T-1),g=this._delay1(T),r=this._delay1(T+1);return r-g===356?2:g-v===382?1:0},fromJD:function(T){T=Math.floor(T)+.5;for(var v=Math.floor((T-this.jdEpoch)*98496/35975351)-1;T>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var g=T<this.toJD(v,1,1)?7:1;T>this.toJD(v,g,this.daysInMonth(v,g));)g++;var r=T-this.toJD(v,g,1)+1;return this.newDate(v,g,r)}});function C(T,v){return T-v*Math.floor(T/v)}p.calendars.hebrew=n},26368:function(H,U,e){var p=e(38700),L=e(50896);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var T=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);return(T.year()*11+14)%30<11},weekOfYear:function(C,T,v){var g=this.newDate(C,T,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,T){var v=this._validate(C,T,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(C,T,v){return this.dayOfWeek(C,T,v)!==5},toJD:function(C,T,v){var g=this._validate(C,T,v,p.local.invalidDate);return C=g.year(),T=g.month(),v=g.day(),C=C<=0?C+1:C,v+Math.ceil(29.5*(T-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var T=Math.floor((30*(C-this.jdEpoch)+10646)/10631);T=T<=0?T-1:T;var v=Math.min(12,Math.ceil((C-29-this.toJD(T,1,1))/29.5)+1),g=C-this.toJD(T,v,1)+1;return this.newDate(T,v,g)}}),p.calendars.islamic=n},24747:function(H,U,e){var p=e(38700),L=e(50896);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=T.year()<0?T.year()+1:T.year();return v%4===0},weekOfYear:function(C,T,v){var g=this.newDate(C,T,v);return g.add(4-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,T){var v=this._validate(C,T,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(C,T,v){return(this.dayOfWeek(C,T,v)||7)<6},toJD:function(C,T,v){var g=this._validate(C,T,v,p.local.invalidDate);return C=g.year(),T=g.month(),v=g.day(),C<0&&C++,T<=2&&(C--,T+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(T+1))+v-1524.5},fromJD:function(C){var T=Math.floor(C+.5),v=T+1524,g=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*g),t=Math.floor((v-r)/30.6001),s=t-Math.floor(t<14?1:13),a=g-Math.floor(s>2?4716:4715),f=v-r-Math.floor(30.6001*t);return a<=0&&a--,this.newDate(a,s,f)}}),p.calendars.julian=n},65616:function(H,U,e){var p=e(38700),L=e(50896);function n(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(v){var g=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear);v=g.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var g=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";g=g*20+t}return g},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(v,g,r){return this._validate(v,g,r,p.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(v,g){return this._validate(v,g,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,g,r){var t=this._validate(v,g,r,p.local.invalidDate);return t.day()},weekDay:function(v,g,r){return this._validate(v,g,r,p.local.invalidDate),!0},extraInfo:function(v,g,r){var t=this._validate(v,g,r,p.local.invalidDate),s=t.toJD(),a=this._toHaab(s),f=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(v){v-=this.jdEpoch;var g=C(v+8+17*20,365);return[Math.floor(g/20)+1,C(g,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[T(v+20,20),T(v+4,13)]},toJD:function(v,g,r){var t=this._validate(v,g,r,p.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var g=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(g,r,t)}});function C(v,g){return v-g*Math.floor(v/g)}function T(v,g){return C(v-1,g)+1}p.calendars.mayan=n},30632:function(H,U,e){var p=e(38700),L=e(50896);function n(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar;var C=p.instance("gregorian");L(n.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return C.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(T,v,g){var r=this.newDate(T,v,g);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(T,v){var g=this._validate(T,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(T,v,g){return(this.dayOfWeek(T,v,g)||7)<6},toJD:function(t,v,g){var r=this._validate(t,v,g,p.local.invalidMonth),t=r.year();t<0&&t++;for(var s=r.day(),a=1;a<r.month();a++)s+=this.daysPerMonth[a-1];return s+C.toJD(t+1468,3,13)},fromJD:function(T){T=Math.floor(T+.5);for(var v=Math.floor((T-(this.jdEpoch-1))/366);T>=this.toJD(v+1,1,1);)v++;for(var g=T-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;g>this.daysInMonth(v,r);)g-=this.daysInMonth(v,r),r++;return this.newDate(v,r,g)}}),p.calendars.nanakshahi=n},73040:function(H,U,e){var p=e(38700),L=e(50896);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,T,v){var g=this.newDate(C,T,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(C){var T=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);if(C=T.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var v=0,g=this.minMonth;g<=12;g++)v+=this.NEPALI_CALENDAR_DATA[C][g];return v},daysInMonth:function(C,T){return C.year&&(T=C.month(),C=C.year()),this._validate(C,T,this.minDay,p.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[T-1]:this.NEPALI_CALENDAR_DATA[C][T]},weekDay:function(C,T,v){return this.dayOfWeek(C,T,v)!==6},toJD:function(C,T,v){var g=this._validate(C,T,v,p.local.invalidDate);C=g.year(),T=g.month(),v=g.day();var r=p.instance(),t=0,s=T,a=C;this._createMissingCalendarData(C);var f=C-(s>9||s===9&&v>=this.NEPALI_CALENDAR_DATA[a][0]?56:57);for(T!==9&&(t=v,s--);s!==9;)s<=0&&(s=12,a--),t+=this.NEPALI_CALENDAR_DATA[a][s],s--;return T===9?(t+=v-this.NEPALI_CALENDAR_DATA[a][0],t<0&&(t+=r.daysInYear(f))):t+=this.NEPALI_CALENDAR_DATA[a][9]-this.NEPALI_CALENDAR_DATA[a][0],r.newDate(f,1,1).add(t,"d").toJD()},fromJD:function(C){var T=p.instance(),v=T.fromJD(C),g=v.year(),r=v.dayOfYear(),t=g+56;this._createMissingCalendarData(t);for(var s=9,a=this.NEPALI_CALENDAR_DATA[t][0],f=this.NEPALI_CALENDAR_DATA[t][s]-a+1;r>f;)s++,s>12&&(s=1,t++),f+=this.NEPALI_CALENDAR_DATA[t][s];var u=this.NEPALI_CALENDAR_DATA[t][s]-(f-r);return this.newDate(t,s,u)},_createMissingCalendarData:function(C){var T=this.daysPerMonth.slice(0);T.unshift(17);for(var v=C-1;v<C+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=T)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=n},1104:function(H,U,e){var p=e(38700),L=e(50896);function n(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(T,v,g){var r=this.newDate(T,v,g);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(T,v){var g=this._validate(T,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(T,v,g){return this.dayOfWeek(T,v,g)!==5},toJD:function(T,v,g){var r=this._validate(T,v,g,p.local.invalidDate);T=r.year(),v=r.month(),g=r.day();var t=T-(T>=0?474:473),s=474+C(t,2820);return g+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((s*682-110)/2816)+(s-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T)+.5;var v=T-this.toJD(475,1,1),g=Math.floor(v/1029983),r=C(v,1029983),t=2820;if(r!==1029982){var s=Math.floor(r/366),a=C(r,366);t=Math.floor((2134*s+2816*a+2815)/1028522)+s+1}var f=t+2820*g+474;f=f<=0?f-1:f;var u=T-this.toJD(f,1,1)+1,l=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),m=T-this.toJD(f,l,1)+1;return this.newDate(f,l,m)}});function C(T,v){return T-v*Math.floor(T/v)}p.calendars.persian=n,p.calendars.jalali=n},51456:function(H,U,e){var p=e(38700),L=e(50896),n=p.instance();function C(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(g){var v=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear),g=this._t2gYear(v.year());return n.leapYear(g)},weekOfYear:function(t,v,g){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear),t=this._t2gYear(r.year());return n.weekOfYear(t,r.month(),r.day())},daysInMonth:function(T,v){var g=this._validate(T,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(T,v,g){return(this.dayOfWeek(T,v,g)||7)<6},toJD:function(t,v,g){var r=this._validate(t,v,g,p.local.invalidDate),t=this._t2gYear(r.year());return n.toJD(t,r.month(),r.day())},fromJD:function(T){var v=n.fromJD(T),g=this._g2tYear(v.year());return this.newDate(g,v.month(),v.day())},_t2gYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)},_g2tYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)}}),p.calendars.taiwan=C},4592:function(H,U,e){var p=e(38700),L=e(50896),n=p.instance();function C(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var v=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear),g=this._t2gYear(v.year());return n.leapYear(g)},weekOfYear:function(t,v,g){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear),t=this._t2gYear(r.year());return n.weekOfYear(t,r.month(),r.day())},daysInMonth:function(T,v){var g=this._validate(T,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(T,v,g){return(this.dayOfWeek(T,v,g)||7)<6},toJD:function(t,v,g){var r=this._validate(t,v,g,p.local.invalidDate),t=this._t2gYear(r.year());return n.toJD(t,r.month(),r.day())},fromJD:function(T){var v=n.fromJD(T),g=this._g2tYear(v.year());return this.newDate(g,v.month(),v.day())},_t2gYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)},_g2tYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)}}),p.calendars.thai=C},45348:function(H,U,e){var p=e(38700),L=e(50896);function n(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(T,v,g){var r=this.newDate(T,v,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(T){for(var v=0,g=1;g<=12;g++)v+=this.daysInMonth(T,g);return v},daysInMonth:function(T,v){for(var g=this._validate(T,v,this.minDay,p.local.invalidMonth),r=g.toJD()-24e5+.5,t=0,s=0;s<C.length;s++){if(C[s]>r)return C[t]-C[t-1];t++}return 30},weekDay:function(T,v,g){return this.dayOfWeek(T,v,g)!==5},toJD:function(T,v,g){var r=this._validate(T,v,g,p.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,s=r.day()+C[t-1]-1;return s+24e5-.5},fromJD:function(T){for(var v=T-24e5+.5,g=0,r=0;r<C.length&&!(C[r]>v);r++)g++;var t=g+15292,s=Math.floor((t-1)/12),a=s+1,f=t-12*s,u=v-C[g-1]+1;return this.newDate(a,f,u)},isValid:function(T,v,g){var r=p.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(T=T.year!=null?T.year:T,r=T>=1276&&T<=1500),r},_validate:function(T,v,g,r){var t=p.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),p.calendars.ummalqura=n;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(H,U,e){var p=e(50896);function L(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}p(L.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var s=this._localCals[r+"-"+t];if(!s&&this.calendars[r]&&(s=new this.calendars[r](t),this._localCals[r+"-"+t]=s),!s)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return s},newDate:function(r,t,s,a,f){return a=(r!=null&&r.year?r.calendar():typeof a=="string"?this.instance(a,f):a)||this.instance(),a.newDate(r,t,s)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(s){return r[s]})}},substituteChineseDigits:function(r,t){return function(s){for(var a="",f=0;s>0;){var u=s%10;a=(u===0?"":r[u]+t[f])+a,f++,s=Math.floor(s/10)}return a.indexOf(r[1]+t[1])===0&&(a=a.substr(1)),a||r[0]}}});function n(r,t,s,a){if(this._calendar=r,this._year=t,this._month=s,this._day=a,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}p(n.prototype,{newDate:function(r,t,s){return this._calendar.newDate(r??this,t,s)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,s){if(!this._calendar.isValid(r,t,s))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=s,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function T(){this.shortYearCutoff="+10"}p(T.prototype,{_validateLevel:0,newDate:function(r,t,s){return r==null?this.today():(r.year&&(this._validate(r,t,s,g.local.invalidDate||g.regionalOptions[""].invalidDate),s=r.day(),t=r.month(),r=r.year()),new n(this,r,t,s))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+C(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var s=this._validate(r,t,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return(s.month()+this.monthsInYear(s)-this.firstMonth)%this.monthsInYear(s)+this.minMonth},fromMonthOfYear:function(r,t){var s=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,s,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth),s},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,s){var a=this._validate(r,t,s,g.local.invalidDate||g.regionalOptions[""].invalidDate);return a.toJD()-this.newDate(a.year(),this.fromMonthOfYear(a.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,s){var a=this._validate(r,t,s,g.local.invalidDate||g.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(a))+2)%this.daysInWeek()},extraInfo:function(r,t,s){return this._validate(r,t,s,g.local.invalidDate||g.regionalOptions[""].invalidDate),{}},add:function(r,t,s){return this._validate(r,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,s),t,s)},_add:function(r,t,s){if(this._validateLevel++,s==="d"||s==="w"){var a=r.toJD()+t*(s==="w"?this.daysInWeek():1),f=r.calendar().fromJD(a);return this._validateLevel--,[f.year(),f.month(),f.day()]}try{var u=r.year()+(s==="y"?t:0),l=r.monthOfYear()+(s==="m"?t:0),f=r.day(),m=function(c){for(;l<c.minMonth;)u--,l+=c.monthsInYear(u);for(var i=c.monthsInYear(u);l>i-1+c.minMonth;)u++,l-=i,i=c.monthsInYear(u)};s==="y"?(r.month()!==this.fromMonthOfYear(u,l)&&(l=this.newDate(u,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(u)),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l)))):s==="m"&&(m(this),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l))));var h=[u,this.fromMonthOfYear(u,l),f];return this._validateLevel--,h}catch(M){throw this._validateLevel--,M}},_correctAdd:function(r,t,s,a){if(!this.hasYearZero&&(a==="y"||a==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var f={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[a],u=s<0?-1:1;t=this._add(r,s*f[0]+u*f[1],f[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,s){this._validate(r,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate);var a=s==="y"?t:r.year(),f=s==="m"?t:r.month(),u=s==="d"?t:r.day();return(s==="y"||s==="m")&&(u=Math.min(u,this.daysInMonth(a,f))),r.date(a,f,u)},isValid:function(r,t,s){this._validateLevel++;var a=this.hasYearZero||r!==0;if(a){var f=this.newDate(r,t,this.minDay);a=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(f)&&s>=this.minDay&&s-this.minDay<this.daysInMonth(f)}return this._validateLevel--,a},toJSDate:function(r,t,s){var a=this._validate(r,t,s,g.local.invalidDate||g.regionalOptions[""].invalidDate);return g.instance().fromJD(this.toJD(a)).toJSDate()},fromJSDate:function(r){return this.fromJD(g.instance().fromJSDate(r).toJD())},_validate:function(r,t,s,a){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,s))throw a.replace(/\{0\}/,this.local.name);var f=this.newDate(r,t,s);return this._validateLevel--,f}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new T,p(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var t=this._validate(s,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),s=t.year()+(t.year()<0?1:0);return s%4===0&&(s%100!==0||s%400===0)},weekOfYear:function(r,t,s){var a=this.newDate(r,t,s);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var s=this._validate(r,t,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(r,t,s){return(this.dayOfWeek(r,t,s)||7)<6},toJD:function(r,t,s){var a=this._validate(r,t,s,g.local.invalidDate||g.regionalOptions[""].invalidDate);r=a.year(),t=a.month(),s=a.day(),r<0&&r++,t<3&&(t+=12,r--);var f=Math.floor(r/100),u=2-f+Math.floor(f/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+s+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),s=Math.floor((t-186721625e-2)/36524.25);s=t+1+s-Math.floor(s/4);var a=s+1524,f=Math.floor((a-122.1)/365.25),u=Math.floor(365.25*f),l=Math.floor((a-u)/30.6001),m=a-u-Math.floor(l*30.6001),h=l-(l>13.5?13:1),M=f-(h>2.5?4716:4715);return M<=0&&M--,this.newDate(M,h,m)},toJSDate:function(r,t,s){var a=this._validate(r,t,s,g.local.invalidDate||g.regionalOptions[""].invalidDate),f=new Date(a.year(),a.month()-1,a.day());return f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f.setHours(f.getHours()>12?f.getHours()+2:0),f},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var g=H.exports=new L;g.cdate=n,g.baseCalendar=T,g.calendars.gregorian=v},15168:function(H,U,e){var p=e(50896),L=e(38700);p(L.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),L.local=L.regionalOptions[""],p(L.cdate.prototype,{formatDate:function(n,C){return typeof n!="string"&&(C=n,n=""),this._calendar.formatDate(n||"",this,C)}}),p(L.baseCalendar.prototype,{UNIX_EPOCH:L.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:L.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(n,C,T){if(typeof n!="string"&&(T=C,C=n,n=""),!C)return"";if(C.calendar()!==this)throw L.local.invalidFormat||L.regionalOptions[""].invalidFormat;n=n||this.local.dateFormat,T=T||{};var v=T.dayNamesShort||this.local.dayNamesShort,g=T.dayNames||this.local.dayNames,r=T.monthNumbers||this.local.monthNumbers,t=T.monthNamesShort||this.local.monthNamesShort,s=T.monthNames||this.local.monthNames;T.calculateWeek||this.local.calculateWeek;for(var a=function(A,E){for(var y=1;x+y<n.length&&n.charAt(x+y)===A;)y++;return x+=y-1,Math.floor(y/(E||1))>1},f=function(A,E,y,S){var w=""+E;if(a(A,S))for(;w.length<y;)w="0"+w;return w},u=function(A,E,y,S){return a(A)?S[E]:y[E]},l=this,m=function(A){return typeof r=="function"?r.call(l,A,a("m")):c(f("m",A.month(),2))},h=function(A,E){return E?typeof s=="function"?s.call(l,A):s[A.month()-l.minMonth]:typeof t=="function"?t.call(l,A):t[A.month()-l.minMonth]},M=this.local.digits,c=function(A){return T.localNumbers&&M?M(A):A},i="",d=!1,x=0;x<n.length;x++)if(d)n.charAt(x)==="'"&&!a("'")?d=!1:i+=n.charAt(x);else switch(n.charAt(x)){case"d":i+=c(f("d",C.day(),2));break;case"D":i+=u("D",C.dayOfWeek(),v,g);break;case"o":i+=f("o",C.dayOfYear(),3);break;case"w":i+=f("w",C.weekOfYear(),2);break;case"m":i+=m(C);break;case"M":i+=h(C,a("M"));break;case"y":i+=a("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":a("Y",2),i+=C.formatYear();break;case"J":i+=C.toJD();break;case"@":i+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":i+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":a("'")?i+="'":d=!0;break;default:i+=n.charAt(x)}return i},parseDate:function(n,C,T){if(C==null)throw L.local.invalidArguments||L.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;n=n||this.local.dateFormat,T=T||{};var v=T.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var g=T.dayNamesShort||this.local.dayNamesShort,r=T.dayNames||this.local.dayNames,t=T.parseMonth||this.local.parseMonth,s=T.monthNumbers||this.local.monthNumbers,a=T.monthNamesShort||this.local.monthNamesShort,f=T.monthNames||this.local.monthNames,u=-1,l=-1,m=-1,h=-1,M=-1,c=!1,i=!1,d=function(D,N){for(var k=1;_+k<n.length&&n.charAt(_+k)===D;)k++;return _+=k-1,Math.floor(k/(N||1))>1},x=function(D,N){var k=d(D,N),z=[2,3,k?4:2,k?4:2,10,11,20]["oyYJ@!".indexOf(D)+1],F=new RegExp("^-?\\d{1,"+z+"}"),O=C.substring(o).match(F);if(!O)throw(L.local.missingNumberAt||L.regionalOptions[""].missingNumberAt).replace(/\{0\}/,o);return o+=O[0].length,parseInt(O[0],10)},A=this,E=function(){if(typeof s=="function"){d("m");var D=s.call(A,C.substring(o));return o+=D.length,D}return x("m")},y=function(D,N,k,z){for(var F=d(D,z)?k:N,O=0;O<F.length;O++)if(C.substr(o,F[O].length).toLowerCase()===F[O].toLowerCase())return o+=F[O].length,O+A.minMonth;throw(L.local.unknownNameAt||L.regionalOptions[""].unknownNameAt).replace(/\{0\}/,o)},S=function(){if(typeof f=="function"){var D=d("M")?f.call(A,C.substring(o)):a.call(A,C.substring(o));return o+=D.length,D}return y("M",a,f)},w=function(){if(C.charAt(o)!==n.charAt(_))throw(L.local.unexpectedLiteralAt||L.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,o);o++},o=0,_=0;_<n.length;_++)if(i)n.charAt(_)==="'"&&!d("'")?i=!1:w();else switch(n.charAt(_)){case"d":h=x("d");break;case"D":y("D",g,r);break;case"o":M=x("o");break;case"w":x("w");break;case"m":m=E();break;case"M":m=S();break;case"y":var b=_;c=!d("y",2),_=b,l=x("y",2);break;case"Y":l=x("Y",2);break;case"J":u=x("J")+.5,C.charAt(o)==="."&&(o++,x("J"));break;case"@":u=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":o=C.length;break;case"'":d("'")?w():i=!0;break;default:w()}if(o<C.length)throw L.local.unexpectedText||L.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&c&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof m=="string"&&(m=t.call(this,l,m)),M>-1){m=1,h=M;for(var I=this.daysInMonth(l,m);h>I;I=this.daysInMonth(l,m))m++,h-=I}return u>-1?this.fromJD(u):this.newDate(l,m,h)},determineDate:function(n,C,T,v,g){T&&typeof T!="object"&&(g=v,v=T,T=null),typeof v!="string"&&(g=v,v="");var r=this,t=function(s){try{return r.parseDate(v,s,g)}catch{}s=s.toLowerCase();for(var a=(s.match(/^c/)&&T?T.newDate():null)||r.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=f.exec(s);u;)a.add(parseInt(u[1],10),u[2]||"d"),u=f.exec(s);return a};return C=C?C.newDate():null,n=n==null?C:typeof n=="string"?t(n):typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?C:r.today().add(n,"d"):r.newDate(n),n}})},21576:function(){},19768:function(){},63436:function(H,U,e){var p=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],L=typeof globalThis>"u"?e.g:globalThis;H.exports=function(){for(var C=[],T=0;T<p.length;T++)typeof L[p[T]]=="function"&&(C[C.length]=p[T]);return C}},67756:function(H,U,e){e.d(U,{qy:function(){return Le},Gz:function(){return se}});function p(xe,Re,He){xe.prototype=Re.prototype=He,He.constructor=xe}function L(xe,Re){var He=Object.create(xe.prototype);for(var Ve in Re)He[Ve]=Re[Ve];return He}function n(){}var C=.7,T=1/C,v="\\s*([+-]?\\d+)\\s*",g="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),a=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),f=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(g,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(g,"\\)$")),l=new RegExp("^hsl\\(".concat(g,",").concat(r,",").concat(r,"\\)$")),m=new RegExp("^hsla\\(".concat(g,",").concat(r,",").concat(r,",").concat(g,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p(n,x,{copy:function(Re){return Object.assign(new this.constructor,this,Re)},displayable:function(){return this.rgb().displayable()},hex:M,formatHex:M,formatHex8:c,formatHsl:i,formatRgb:d,toString:d});function M(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function i(){return z(this).formatHsl()}function d(){return this.rgb().formatRgb()}function x(xe){var Re,He;return xe=(xe+"").trim().toLowerCase(),(Re=t.exec(xe))?(He=Re[1].length,Re=parseInt(Re[1],16),He===6?A(Re):He===3?new w(Re>>8&15|Re>>4&240,Re>>4&15|Re&240,(Re&15)<<4|Re&15,1):He===8?E(Re>>24&255,Re>>16&255,Re>>8&255,(Re&255)/255):He===4?E(Re>>12&15|Re>>8&240,Re>>8&15|Re>>4&240,Re>>4&15|Re&240,((Re&15)<<4|Re&15)/255):null):(Re=s.exec(xe))?new w(Re[1],Re[2],Re[3],1):(Re=a.exec(xe))?new w(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,1):(Re=f.exec(xe))?E(Re[1],Re[2],Re[3],Re[4]):(Re=u.exec(xe))?E(Re[1]*255/100,Re[2]*255/100,Re[3]*255/100,Re[4]):(Re=l.exec(xe))?k(Re[1],Re[2]/100,Re[3]/100,1):(Re=m.exec(xe))?k(Re[1],Re[2]/100,Re[3]/100,Re[4]):h.hasOwnProperty(xe)?A(h[xe]):xe==="transparent"?new w(NaN,NaN,NaN,0):null}function A(xe){return new w(xe>>16&255,xe>>8&255,xe&255,1)}function E(xe,Re,He,Ve){return Ve<=0&&(xe=Re=He=NaN),new w(xe,Re,He,Ve)}function y(xe){return xe instanceof n||(xe=x(xe)),xe?(xe=xe.rgb(),new w(xe.r,xe.g,xe.b,xe.opacity)):new w}function S(xe,Re,He,Ve){return arguments.length===1?y(xe):new w(xe,Re,He,Ve??1)}function w(xe,Re,He,Ve){this.r=+xe,this.g=+Re,this.b=+He,this.opacity=+Ve}p(w,S,L(n,{brighter:function(Re){return Re=Re==null?T:Math.pow(T,Re),new w(this.r*Re,this.g*Re,this.b*Re,this.opacity)},darker:function(Re){return Re=Re==null?C:Math.pow(C,Re),new w(this.r*Re,this.g*Re,this.b*Re,this.opacity)},rgb:function(){return this},clamp:function(){return new w(D(this.r),D(this.g),D(this.b),I(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o,formatHex:o,formatHex8:_,formatRgb:b,toString:b}));function o(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function _(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function b(){var xe=I(this.opacity);return"".concat(xe===1?"rgb(":"rgba(").concat(D(this.r),", ").concat(D(this.g),", ").concat(D(this.b)).concat(xe===1?")":", ".concat(xe,")"))}function I(xe){return isNaN(xe)?1:Math.max(0,Math.min(1,xe))}function D(xe){return Math.max(0,Math.min(255,Math.round(xe)||0))}function N(xe){return xe=D(xe),(xe<16?"0":"")+xe.toString(16)}function k(xe,Re,He,Ve){return Ve<=0?xe=Re=He=NaN:He<=0||He>=1?xe=Re=NaN:Re<=0&&(xe=NaN),new O(xe,Re,He,Ve)}function z(xe){if(xe instanceof O)return new O(xe.h,xe.s,xe.l,xe.opacity);if(xe instanceof n||(xe=x(xe)),!xe)return new O;if(xe instanceof O)return xe;xe=xe.rgb();var Re=xe.r/255,He=xe.g/255,Ve=xe.b/255,Fe=Math.min(Re,He,Ve),We=Math.max(Re,He,Ve),ut=NaN,ht=We-Fe,rt=(We+Fe)/2;return ht?(Re===We?ut=(He-Ve)/ht+(He<Ve)*6:He===We?ut=(Ve-Re)/ht+2:ut=(Re-He)/ht+4,ht/=rt<.5?We+Fe:2-We-Fe,ut*=60):ht=rt>0&&rt<1?0:ut,new O(ut,ht,rt,xe.opacity)}function F(xe,Re,He,Ve){return arguments.length===1?z(xe):new O(xe,Re,He,Ve??1)}function O(xe,Re,He,Ve){this.h=+xe,this.s=+Re,this.l=+He,this.opacity=+Ve}p(O,F,L(n,{brighter:function(Re){return Re=Re==null?T:Math.pow(T,Re),new O(this.h,this.s,this.l*Re,this.opacity)},darker:function(Re){return Re=Re==null?C:Math.pow(C,Re),new O(this.h,this.s,this.l*Re,this.opacity)},rgb:function(){var Re=this.h%360+(this.h<0)*360,He=isNaN(Re)||isNaN(this.s)?0:this.s,Ve=this.l,Fe=Ve+(Ve<.5?Ve:1-Ve)*He,We=2*Ve-Fe;return new w(ee(Re>=240?Re-240:Re+120,We,Fe),ee(Re,We,Fe),ee(Re<120?Re+240:Re-120,We,Fe),this.opacity)},clamp:function(){return new O(B(this.h),W(this.s),W(this.l),I(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Re=I(this.opacity);return"".concat(Re===1?"hsl(":"hsla(").concat(B(this.h),", ").concat(W(this.s)*100,"%, ").concat(W(this.l)*100,"%").concat(Re===1?")":", ".concat(Re,")"))}}));function B(xe){return xe=(xe||0)%360,xe<0?xe+360:xe}function W(xe){return Math.max(0,Math.min(1,xe||0))}function ee(xe,Re,He){return(xe<60?Re+(He-Re)*xe/60:xe<180?He:xe<240?Re+(He-Re)*(240-xe)/60:Re)*255}var ne=function(xe){return function(){return xe}};function Q(xe,Re){return function(He){return xe+He*Re}}function le(xe,Re,He){return xe=Math.pow(xe,He),Re=Math.pow(Re,He)-xe,He=1/He,function(Ve){return Math.pow(xe+Ve*Re,He)}}function Z(xe){return(xe=+xe)==1?Y:function(Re,He){return He-Re?le(Re,He,xe):ne(isNaN(Re)?He:Re)}}function Y(xe,Re){var He=Re-xe;return He?Q(xe,He):ne(isNaN(xe)?Re:xe)}var re=function xe(Re){var He=Z(Re);function Ve(Fe,We){var ut=He((Fe=S(Fe)).r,(We=S(We)).r),ht=He(Fe.g,We.g),rt=He(Fe.b,We.b),tt=Y(Fe.opacity,We.opacity);return function(vt){return Fe.r=ut(vt),Fe.g=ht(vt),Fe.b=rt(vt),Fe.opacity=tt(vt),Fe+""}}return Ve.gamma=xe,Ve}(1);function X(xe,Re){var He=Re?Re.length:0,Ve=xe?Math.min(He,xe.length):0,Fe=new Array(Ve),We=new Array(He),ut;for(ut=0;ut<Ve;++ut)Fe[ut]=Le(xe[ut],Re[ut]);for(;ut<He;++ut)We[ut]=Re[ut];return function(ht){for(ut=0;ut<Ve;++ut)We[ut]=Fe[ut](ht);return We}}function q(xe,Re){var He=new Date;return xe=+xe,Re=+Re,function(Ve){return He.setTime(xe*(1-Ve)+Re*Ve),He}}function se(xe,Re){return xe=+xe,Re=+Re,function(He){return xe*(1-He)+Re*He}}function $(xe){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},$(xe)}function j(xe,Re){var He={},Ve={},Fe;(xe===null||$(xe)!=="object")&&(xe={}),(Re===null||$(Re)!=="object")&&(Re={});for(Fe in Re)Fe in xe?He[Fe]=Le(xe[Fe],Re[Fe]):Ve[Fe]=Re[Fe];return function(We){for(Fe in He)Ve[Fe]=He[Fe](We);return Ve}}var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ae=new RegExp(ue.source,"g");function ce(xe){return function(){return xe}}function ye(xe){return function(Re){return xe(Re)+""}}function Ce(xe,Re){var He=ue.lastIndex=ae.lastIndex=0,Ve,Fe,We,ut=-1,ht=[],rt=[];for(xe=xe+"",Re=Re+"";(Ve=ue.exec(xe))&&(Fe=ae.exec(Re));)(We=Fe.index)>He&&(We=Re.slice(He,We),ht[ut]?ht[ut]+=We:ht[++ut]=We),(Ve=Ve[0])===(Fe=Fe[0])?ht[ut]?ht[ut]+=Fe:ht[++ut]=Fe:(ht[++ut]=null,rt.push({i:ut,x:se(Ve,Fe)})),He=ae.lastIndex;return He<Re.length&&(We=Re.slice(He),ht[ut]?ht[ut]+=We:ht[++ut]=We),ht.length<2?rt[0]?ye(rt[0].x):ce(Re):(Re=rt.length,function(tt){for(var vt=0,pt;vt<Re;++vt)ht[(pt=rt[vt]).i]=pt.x(tt);return ht.join("")})}function Ae(xe,Re){Re||(Re=[]);var He=xe?Math.min(Re.length,xe.length):0,Ve=Re.slice(),Fe;return function(We){for(Fe=0;Fe<He;++Fe)Ve[Fe]=xe[Fe]*(1-We)+Re[Fe]*We;return Ve}}function Ie(xe){return ArrayBuffer.isView(xe)&&!(xe instanceof DataView)}function Te(xe){"@babel/helpers - typeof";return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},Te(xe)}function Le(xe,Re){var He=Te(Re),Ve;return Re==null||He==="boolean"?ne(Re):(He==="number"?se:He==="string"?(Ve=x(Re))?(Re=Ve,re):Ce:Re instanceof x?re:Re instanceof Date?q:Ie(Re)?Ae:Array.isArray(Re)?X:typeof Re.valueOf!="function"&&typeof Re.toString!="function"||isNaN(Re)?j:se)(xe,Re)}},30584:function(H){H.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(H){H.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(H){H.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(H){H.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(H){H.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(H){H.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},we={};function Ue(H){var U=we[H];if(U!==void 0)return U.exports;var e=we[H]={exports:{}};return oe[H].call(e.exports,e,e.exports,Ue),e.exports}(function(){Ue.n=function(H){var U=H&&H.__esModule?function(){return H.default}:function(){return H};return Ue.d(U,{a:U}),U}})(),function(){Ue.d=function(H,U){for(var e in U)Ue.o(U,e)&&!Ue.o(H,e)&&Object.defineProperty(H,e,{enumerable:!0,get:U[e]})}}(),function(){Ue.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Ue.o=function(H,U){return Object.prototype.hasOwnProperty.call(H,U)}}(),function(){Ue.r=function(H){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})}}();var it=Ue(13792);return it}()})})(O5);var sR=O5.exports;const Iy=OA(sR),lR=["id"],uR={__name:"VuePlotly",props:["data","layout","config"],emits:["plotly_click","plotly_hover","plotly_unhover","plotly_selecting","plotly_selected","plotly_restyle","plotly_relayout","plotly_autosize","plotly_deselect","plotly_doubleclick","plotly_redraw","plotly_animated","plotly_afterplot"],setup(K,{expose:V,emit:oe}){const we=K,Ue=oe;let it=jo(`plotly-${oR()}`),H=jo(null),U=!1,e=null;function p(v,g=300){let r;return(...t)=>{clearTimeout(r),r=setTimeout(()=>v(...t),g)}}const L=p(()=>Iy.Plots.resize(H.value),50);function n(){Iy.react(it.value,we.data,we.layout,we.config)}async function C(){const v=await Iy.newPlot(it.value,we.data,we.layout,we.config);["plotly_click","plotly_hover","plotly_unhover","plotly_selecting","plotly_selected","plotly_restyle","plotly_relayout","plotly_autosize","plotly_deselect","plotly_doubleclick","plotly_redraw","plotly_animated","plotly_afterplot"].forEach(r=>v.on(r,(...t)=>Ue(r,...t))),e=new ResizeObserver(L),e.observe(v)}ZC(()=>{H.value&&(U?n():(C(),U=!0))}),nA(()=>{e.disconnect()});function T(v={format:"png",width:800,height:600,filename:"plot"}){Iy.downloadImage(H.value,v)}return V({plotlyId:it,render:C,update:n,resize:L,downloadImage:T}),(v,g)=>(Co(),Ro("div",{ref_key:"container",ref:H,id:ms(it)},null,8,lR))}},fR={__name:"CategoryPlot",setup(K){const V=Hp(),oe=jo([]),we={margin:{l:50,r:50,b:50,t:50,pad:4},height:320,title:""};function Ue(it){const H=it.points[0];V.clickTransaction={time:H.x,category:H.data.name.split(" ")[0]}}return Zh(()=>[V.updateCount,V.categories,V.filterCategory],async()=>{let it=V.categories;V.filterCategory&&(it=_u.filter(it,U=>U.key===V.filterCategory));let H=[];for(let U of it){if(U.key==="X")continue;let e={x:[],y:[],type:"scatter",name:U.key+" - "+U.desc},p=0;for(let L of V.rows)L[4]===U.key&&(e.x.push(L[1]),p+=L[3],e.y.push(p));H.push(e)}oe.value=H}),(it,H)=>(Co(),SL(uR,{onPlotly_click:Ue,data:oe.value,layout:we},null,8,["data"]))}},cR=$a("div",{class:"d-inline"},[$a("button",{class:"btn btn-outline-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample","aria-controls":"offcanvasExample"}," Autofill ")],-1),hR={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasExample","aria-labelledby":"autofillPanel"},vR={class:"offcanvas-header"},dR=$a("h5",{class:"offcanvas-title",id:"autofillPanel"},"Autofill panel",-1),pR=$a("div",{class:"px-2"},null,-1),gR=$a("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),yR={class:"offcanvas-body"},mR={class:"d-flex flex-row mb-3"},xR=["for"],bR=["onUpdate:modelValue","id"],wR={__name:"AutofillPanel",setup(K){const V=Hp();return(oe,we)=>(Co(),Ro(Ks,null,[cR,$a("div",hR,[$a("div",vR,[dR,pR,$a("button",{class:"btn btn-outline-primary",onClick:we[0]||(we[0]=(...Ue)=>ms(V).autofill&&ms(V).autofill(...Ue))},"Recalculate"),gR]),$a("div",yR,[(Co(!0),Ro(Ks,null,zv(ms(V).categories,Ue=>(Co(),Ro("div",{key:Ue},[$a("div",mR,[$a("label",{class:"mt-2",for:Ue+"Form"},nu(Ue.key),9,xR),Cm($a("textarea",{"onUpdate:modelValue":it=>Ue.filter=it,class:"ms-2 form-control",id:Ue+"Form",onBlur:we[1]||(we[1]=it=>ms(V).keyLock=!1),onFocus:we[2]||(we[2]=it=>ms(V).keyLock=!0),rows:"3"},null,40,bR),[[G3,Ue.filter]])])]))),128))])])],64))}},TR=$a("div",{class:"d-inline"},[$a("button",{class:"btn btn-outline-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#summaryOffCanvas","aria-controls":"summaryOffCanvas"}," Summary ")],-1),AR={class:"offcanvas offcanvas-start",tabindex:"-1",id:"summaryOffCanvas","aria-labelledby":"summaryOffCanvasLabel"},MR=$a("div",{class:"offcanvas-header"},[$a("h5",{class:"offcanvas-title",id:"summaryOffCanvasLabel"},"Summary"),$a("div",{class:"px-2"}),$a("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),SR={class:"offcanvas-body"},ER={class:"d-flex flex-row gap-2 align-items-center"},CR=$a("label",{for:"offsetDay"},"Skip Days =",-1),LR={class:"table"},_R=$a("thead",null,[$a("tr",null,[$a("th",null,"#"),$a("th",{class:"text-end"},"Total"),$a("th",{class:"text-end"},"Day"),$a("th",{class:"text-end"},"Week"),$a("th",{class:"text-end"},"Month"),$a("th",{class:"text-end"},"Year")])],-1),PR={class:"text-end"},RR={class:"text-end"},DR={class:"text-end"},IR={class:"text-end"},kR={class:"text-end"},OR={__name:"SummaryPanel",setup(K){const V=Hp(),oe=jo([]),we=jo(null),Ue=jo(null),it=jo(null),H=jo(0);return Zh(()=>[V.updateCount,H.value,V.categories],()=>{if(!V.categories)return;let U=_u.filter(_u.map(V.rows,n=>n[1]));if(!U.length)return;U=_u.map(U,Fi.fromISO),U.sort((n,C)=>C-n);let e=ys.fromDateTimes(_u.last(U),_u.head(U));we.value=e.length("days")-H.value,Ue.value=(we.value/7).toFixed(2),it.value=(we.value/30).toFixed(2),oe.value=[];for(let n of V.categories){let C={sum:0,key:n.key,desc:n.key+": "+n.desc};for(let T of V.rows)T[4]===n.key&&(C.sum=C.sum+T[3]);oe.value.push(C)}let p=0;for(let n of V.rows)n[4]||(p+=n[3]);let L=oe.value.length-1;oe.value[L].sum+=p;for(let n of oe.value)n.sumDay=(n.sum/we.value).toFixed(0),n.sumWeek=(n.sum/Ue.value).toFixed(0),n.sumMonth=(n.sum/it.value).toFixed(0),n.sum=n.sum.toFixed(0),n.sumYear=n.sumMonth*12}),(U,e)=>(Co(),Ro(Ks,null,[TR,$a("div",AR,[MR,$a("div",SR,[$a("p",null,[$0(" Day = "+nu(we.value)+"  Week = "+nu(Ue.value)+"  Month = "+nu(it.value)+" ",1),$a("div",ER,[CR,Cm($a("input",{class:"form-control",id:"offsetDay","onUpdate:modelValue":e[0]||(e[0]=p=>H.value=p),style:{width:"4.5em"},type:"number",required:""},null,512),[[G3,H.value]])])]),$a("table",LR,[_R,$a("tbody",null,[(Co(!0),Ro(Ks,null,zv(oe.value,(p,L)=>(Co(),Ro("tr",{key:L},[$a("td",null,nu(p.key),1),$a("td",PR,nu(p.sum),1),$a("td",RR,nu(p.sumDay),1),$a("td",DR,nu(p.sumWeek),1),$a("td",IR,nu(p.sumMonth),1),$a("td",kR,nu(p.sumYear),1)]))),128))])])])])],64))}},zR={class:"d-flex flex-row align-items-center py-2 gap-2"},mT="font-size: 1.2em; font-weight: 500",FR={__name:"EditBox",props:["text","handleText"],setup(K){const V=Hp(),oe=K,we=jo(""),Ue=jo(null),it=jo(!1);function H(){we.value=oe.text,it.value=!0,lg(()=>{document.addEventListener("keydown",e),V.keyLock=!0,Ue.value.focus()})}function U(){it.value=!1,V.keyLock=!1,document.removeEventListener("keydown",e)}function e(L){L.key==="Escape"&&U()}async function p(){U(),oe.handleText(we.value)}return(L,n)=>(Co(),Ro("div",zR,[it.value?(Co(),Ro(Ks,{key:0},[Cm($a("input",{type:"text",style:mT,ref_key:"input",ref:Ue,"onUpdate:modelValue":n[0]||(n[0]=C=>we.value=C),onBlur:U,class:"form-control"},null,544),[[G3,we.value]]),$a("button",{class:"btn btn-outline-primary",onClick:p},"Rename")],64)):(Co(),Ro("div",{key:1,style:mT,class:"form-control",onClick:H},nu(oe.text),1))]))}},NR={class:"p-3 d-flex flex-column",style:{height:"calc(100vh - 56px)"}},BR={class:"d-flex flex-row justify-content-between align-items-center"},UR={class:"d-flex flex-row justify-content-between"},VR={class:"d-flex flex-row gap-2 my-2"},HR=$a("option",{selected:"",value:null},"-- all --",-1),GR=["value","selected"],WR={class:"flex-grow-1 overflow-auto card px-2"},YR={__name:"TableView",setup(K){const V=Hp(),oe=A7(),we=T7();async function Ue(){const U=await Gh.get_csv(V.table);"result"in U&&Y7(U.result,`${V.table}.csv`)}async function it(){await Gh.delete_table(V.table),await we.push("/")}async function H(U){await Gh.rename_table(V.table,U),V.table=U,await we.replace(`/table/${U}`)}return _m(()=>{V.loadCategories(),V.loadTransactions(oe.params.table)}),Zh(()=>oe.params.table||V.updateCount,()=>{V.loadTransactions(oe.params.table)}),(U,e)=>(Co(),Ro("div",NR,[$a("div",BR,[_s(FR,{text:ms(V).table,"handle-text":H},null,8,["text"]),$a("button",{class:"btn btn-outline-primary",onClick:e[0]||(e[0]=p=>it(U.table))},"Delete")]),_s(fR),$a("div",UR,[$a("div",VR,[_s(wR),_s(OR),$a("button",{class:"btn btn-outline-primary",onClick:e[1]||(e[1]=p=>Ue())},"CSV"),$a("div",null,[Cm($a("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":e[2]||(e[2]=p=>ms(V).filterCategory=p)},[HR,(Co(!0),Ro(Ks,null,zv(ms(V).categories,p=>(Co(),Ro("option",{key:p.key,value:p.key,selected:p.key===ms(V).filterCategory}," only "+nu(p.key),9,GR))),128))],512),[[o_,ms(V).filterCategory]])])])]),$a("div",WR,[_s(eR)])]))}},XR={class:"d-flex flex-column p-3"},ZR=$a("h1",null,"Tables",-1),jR={class:"mt-3"},KR={class:"list-group"},JR={class:"py-3"},$R=$a("label",null,"Upload CSV",-1),QR={class:"d-flex flex-row gap-2"},qR={__name:"HomeView",setup(K){const V=jo([]),oe=jo(null),we=jo(null);async function Ue(){let H=await Gh.get_tables();V.value=H.result}async function it(){const H=oe.value.files[0];await W7(H,"upload_csv"),oe.value.value=null,await Ue()}return _m(Ue),(H,U)=>{const e=Q4("RouterLink");return Co(),Ro("div",XR,[ZR,$a("div",jR,[$a("ul",KR,[(Co(!0),Ro(Ks,null,zv(V.value,(p,L)=>(Co(),Ro("li",{key:L,class:"d-flex flex-row"},[_s(e,{style:{width:"20em"},class:"list-group-item list-group-item-action",to:"./table/"+p},{default:Qy(()=>[$0(nu(p),1)]),_:2},1032,["to"])]))),128))])]),$a("div",JR,[$a("form",{ref_key:"uploadForm",ref:we,class:"form-group"},[$R,$a("div",QR,[$a("input",{class:"form-control",style:{width:"20em"},type:"file",ref_key:"uploadInput",ref:oe},null,512),$a("button",{class:"btn btn-outline-secondary",onClick:it},"Upload")])],512)])])}}},eD=b7({history:J_("/"),routes:[{path:"/",name:"home",component:qR},{path:"/table/:table",name:"table",component:YR},{path:"/about",name:"about",component:()=>B7(()=>import("./AboutView-XFsSCz7M.js"),__vite__mapDeps([]))}]}),tw=u_(z7);tw.use(v_());tw.use(eD);tw.mount("#app");export{kA as _,$a as a,Ro as c,Co as o};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
